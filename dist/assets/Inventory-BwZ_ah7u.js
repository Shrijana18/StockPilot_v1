import{j as e,t as h}from"./index-DRC3F7i0.js";import{r as d}from"./router-BPBaD_i0.js";import{i as p,n as x,b as w,c as b,s as g,q as f,w as y,g as j}from"./firebase-DWi1MSv1.js";import N from"./ViewInventory-xVU3Snek.js";import"./vendor-Ckhrjn13.js";import"./index.esm-Bux_mLJ0.js";import"./fetchGoogleImages-y1ah5QvM.js";import"./logInventoryChange-kGfLyhaN.js";import"./looseProductUtils-DQPoVx_a.js";import"./RestockOrderHistory-BifXGS1-.js";import"./index-aK8Jn4kw.js";import"./pdf-DQxUCnop.js";const v=()=>{const[t,r]=d.useState(null),a=()=>t==="manual"?e.jsxs("form",{className:"space-y-4 mt-6 p-6 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)]",onSubmit:async o=>{o.preventDefault();const n=p(),l=x(h),i=n.currentUser;if(!i){alert("User not authenticated");return}const s=new FormData(o.target),u={productName:s.get("productName"),sku:s.get("sku"),brand:s.get("brand"),category:s.get("category"),quantity:parseInt(s.get("quantity")),unit:s.get("unit"),costPrice:parseFloat(s.get("costPrice")),sellingPrice:parseFloat(s.get("sellingPrice")),description:s.get("description"),timestamp:g()};try{await w(b(l,"businesses",i.uid,"products"),u),alert("Product added successfully!"),o.target.reset(),r(null)}catch(c){console.error("Error adding product:",c),alert("Failed to add product.")}},id:"add-product-form",children:[e.jsx("input",{type:"text",name:"productName",placeholder:"Product Name",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",required:!0}),e.jsx("input",{type:"text",name:"sku",placeholder:"SKU",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),e.jsx("input",{type:"text",name:"brand",placeholder:"Brand",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),e.jsx("input",{type:"text",name:"category",placeholder:"Category",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),e.jsx("input",{type:"number",name:"quantity",placeholder:"Quantity",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",required:!0}),e.jsx("input",{type:"text",name:"unit",placeholder:"Unit (e.g. pcs, box)",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),e.jsx("input",{type:"number",name:"costPrice",placeholder:"Cost Price",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),e.jsx("input",{type:"number",name:"sellingPrice",placeholder:"Selling Price",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),e.jsx("textarea",{name:"description",placeholder:"Description",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),e.jsx("input",{type:"file",name:"productImage",accept:"image/*",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx("button",{type:"submit",className:"px-4 py-2 rounded-xl font-semibold text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_10px_30px_rgba(16,185,129,0.35)]",children:"Submit"}),e.jsx("button",{type:"button",onClick:()=>r(null),className:"px-4 py-2 rounded-xl border border-white/20 bg-white/10 text-white hover:bg-white/15",children:"Cancel"})]})]}):t==="ocr"?e.jsx("div",{className:"mt-6 text-white/70",children:"OCR form coming soon."}):t==="ai"?e.jsx("div",{className:"mt-6 text-white/70",children:"AI auto-generation coming soon."}):null;return e.jsxs("div",{className:"mt-6 text-white",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Select Inventory Input Method"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>r("manual"),className:`px-4 py-2 rounded-xl transition ${t==="manual"?"bg-emerald-500 text-slate-900 shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white hover:bg-white/15 border border-white/15"}`,children:"Manual Entry"}),e.jsx("button",{onClick:()=>r("ocr"),className:`px-4 py-2 rounded-xl transition ${t==="ocr"?"bg-emerald-500 text-slate-900 shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white hover:bg-white/15 border border-white/15"}`,children:"OCR Upload"}),e.jsx("button",{onClick:()=>r("ai"),className:`px-4 py-2 rounded-xl transition ${t==="ai"?"bg-emerald-500 text-slate-900 shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white hover:bg-white/15 border border-white/15"}`,children:"AI Generate"})]}),a()]})},k=()=>e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Item Groups"}),e.jsx("p",{className:"text-gray-600",children:"This section will allow users to group similar items together (like variants or combos)."}),e.jsx("div",{className:"mt-6 border rounded p-4 bg-yellow-50 border-yellow-300",children:e.jsx("p",{className:"text-yellow-800",children:"‚ö†Ô∏è Feature coming soon: Add item groups by SKU, brand, or category."})})]}),_=()=>{const[t,r]=d.useState([]);return d.useEffect(()=>{(async()=>{const o=x(h),l=p(h).currentUser;if(l)try{const i=b(o,"businesses",l.uid,"products"),s=f(i,y("quantity","<=",5)),u=await j(s),c=[];u.forEach(m=>{c.push({id:m.id,...m.data()})}),r(c)}catch(i){console.error("Error fetching low stock items:",i)}})()},[]),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-4",children:"Low Stock Alerts"}),t.length===0?e.jsx("p",{className:"text-gray-500",children:"üéâ All products are well-stocked!"}):e.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(a=>e.jsxs("li",{className:"py-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-md font-medium text-gray-800",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",a.sku]})]}),e.jsxs("span",{className:"text-sm font-semibold text-red-600",children:[a.quantity," left"]})]},a.id))})]})},G=()=>{const[t,r]=d.useState("add"),a=()=>{try{switch(t){case"add":return e.jsx(v,{});case"view":return e.jsx(N,{});case"groups":return e.jsx(k,{});case"alerts":return e.jsx(_,{});default:return e.jsx("div",{className:"text-rose-300",children:"Invalid tab selected"})}}catch(n){return e.jsxs("div",{className:"text-rose-300",children:["An error occurred while rendering the tab: ",n.message]})}},o=n=>`px-4 py-2 rounded-xl transition ${t===n?"bg-emerald-500 text-slate-900 shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white hover:bg-white/15 border border-white/15"}`;return e.jsxs("div",{className:"p-4 text-white",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Inventory Management"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsx("button",{className:o("add"),onClick:()=>r("add"),children:"‚ûï Add Inventory"}),e.jsx("button",{className:o("view"),onClick:()=>r("view"),children:"üì¶ View Inventory"}),e.jsx("button",{className:o("groups"),onClick:()=>r("groups"),children:"üß© Item Groups"}),e.jsx("button",{className:o("alerts"),onClick:()=>r("alerts"),children:"‚ö†Ô∏è Low Stock Alerts"})]}),e.jsx("div",{className:"p-4 min-h-[200px] rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)]",children:a()})]})};export{G as default};
