const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DcR4Vacn.js","assets/index-DRC3F7i0.js","assets/vendor-Ckhrjn13.js","assets/router-BPBaD_i0.js","assets/firebase-DWi1MSv1.js","assets/index.esm-Bux_mLJ0.js","assets/index-BwRLlX-x.css"])))=>i.map(i=>d[i]);
import{t as ae,j as e,o as je,_ as be,I as Oe,d as ye}from"./index-DRC3F7i0.js";import{r as u,d as Ne,u as we,b as $e}from"./router-BPBaD_i0.js";import{G as ke,z as me,i as Ce,d as A,n as Se,e as z,l as se,O as ue,A as Pe,B as De,t as Ae,C as ze,D as Fe}from"./firebase-DWi1MSv1.js";import{httpsCallable as pe,getFunctions as Le}from"./index.esm-Bux_mLJ0.js";import{l as Be}from"./authUtils-CTtBfGOB.js";import"./vendor-Ckhrjn13.js";const Ie=Le(ae,"us-central1"),We=pe(Ie,"sendOtp"),Ue=pe(Ie,"verifyOtp"),Re=n=>{const c=String(n||"").replace(/[^0-9]/g,"").slice(-10);if(c.length!==10)throw new Error("Phone number must be 10 digits");return`+91${c}`},Ge=async(n,c,l)=>{try{const s=Re(n),f=await We({phone:s});if(f.data?.success){console.log("[MSG91] OTP sent successfully"),c?.(f.data);return}else throw new Error(f.data?.message||"Failed to send OTP")}catch(s){console.error("[MSG91] OTP send error:",s);const f=s?.message||s?.details||"Failed to send OTP";throw l?.(s),new Error(f)}},Ve=async(n,c)=>{try{const l=Re(n);if(!c||!/^\d{6}$/.test(String(c)))throw new Error("OTP must be 6 digits");const s=await Ue({phone:l,otp:String(c)});return s.data?.ok===!0||s.data?.verified===!0}catch(l){console.error("[MSG91] OTP verification error:",l);const s=l?.message||l?.details||"OTP verification failed";throw new Error(s)}},Ee=({phone:n,onVerified:c,onError:l,onCancel:s,autoSend:f=!0,themeColor:w="rgb(16, 185, 129)"})=>{const[S,N]=u.useState(["","","","","",""]),[E,W]=u.useState(!1),[r,C]=u.useState(!1),[I,v]=u.useState(!1),[M,h]=u.useState(""),[g,O]=u.useState(0),[x,U]=u.useState(!1),G=u.useRef([]);u.useEffect(()=>{f&&n&&!x&&Z()},[f,n]),u.useEffect(()=>{if(g>0){const d=setTimeout(()=>O(g-1),1e3);return()=>clearTimeout(d)}},[g]);const Z=async()=>{if(!n){h("Phone number is required");return}C(!0),h(""),U(!1);try{await Ge(n,d=>{console.log("[OTP] Sent successfully",d)},d=>{throw d}),U(!0),O(60)}catch(d){const o=d?.message||"Failed to send OTP. Please try again.";h(o),l?.(d)}finally{C(!1)}},ne=(d,o)=>{if(o&&!/^\d$/.test(o))return;const p=[...S];p[d]=o,N(p),h(""),o&&d<5&&G.current[d+1]?.focus(),p.every(b=>b!=="")&&p.length===6&&P(p.join(""))},J=(d,o)=>{o.key==="Backspace"&&!S[d]&&d>0&&G.current[d-1]?.focus(),o.key==="v"&&(o.ctrlKey||o.metaKey)&&(o.preventDefault(),navigator.clipboard.readText().then(p=>{const b=p.replace(/[^0-9]/g,"").slice(0,6).split(""),L=[...S];b.forEach((V,F)=>{F+d<6&&(L[F+d]=V)}),N(L);const k=Math.min(d+b.length,5);G.current[k]?.focus()}))},P=async(d=null)=>{const o=d||S.join("");if(o.length!==6){h("Please enter 6-digit OTP");return}if(!x){h("OTP not sent. Please send OTP first.");return}v(!0),h("");try{if(await Ve(n,o))c?.(n);else throw new Error("Invalid OTP. Please try again.")}catch(p){const b=p?.message||"OTP verification failed. Please try again.";h(b),N(["","","","","",""]),G.current[0]?.focus(),l?.(p)}finally{v(!1)}},i=async()=>{g>0||await Z()};return e.jsxs("div",{className:"w-full space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Verify Phone Number"}),e.jsxs("p",{className:"text-sm text-white/70",children:["Enter the 6-digit OTP sent to"," ",e.jsx("span",{className:"font-medium text-white",children:n})]})]}),M&&e.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-300 text-sm",children:M}),e.jsx("div",{className:"flex justify-center gap-2 sm:gap-3",children:S.map((d,o)=>e.jsx("input",{ref:p=>G.current[o]=p,type:"text",inputMode:"numeric",maxLength:1,value:d,onChange:p=>ne(o,p.target.value),onKeyDown:p=>J(o,p),disabled:I||!x,className:"w-12 h-12 sm:w-14 sm:h-14 text-center text-lg font-semibold rounded-lg bg-white/10 text-white border-2 border-white/20 focus:outline-none focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:d&&!M?w:void 0}},o))}),e.jsx("div",{className:"text-center",children:g>0?e.jsxs("p",{className:"text-xs text-white/60",children:["Resend OTP in ",g,"s"]}):e.jsx("button",{type:"button",onClick:i,disabled:r||I,className:"text-sm text-emerald-300 hover:text-emerald-200 underline underline-offset-4 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",style:{color:w},children:r?"Sending...":"Resend OTP"})}),e.jsxs("div",{className:"flex gap-3",children:[s&&e.jsx("button",{type:"button",onClick:s,disabled:I,className:"flex-1 py-2.5 rounded-lg bg-white/10 text-white border border-white/20 hover:bg-white/20 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{type:"button",onClick:()=>P(),disabled:I||S.join("").length!==6||!x,className:"flex-1 py-2.5 rounded-lg font-semibold text-white transition disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(to right, ${w}, ${w}dd)`},children:I?e.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Verifying..."]}):"Verify OTP"})]}),r&&!x&&e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-white/70",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Sending OTP..."]})})]})};function X({name:n="",className:c="h-4 w-4"}){const l={className:c,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.8};switch(n){case"spark":return e.jsx("svg",{...l,children:e.jsx("path",{d:"M12 3l1.8 5.5L19 10l-5.2 1.5L12 17l-1.8-5.5L5 10l5.2-1.5L12 3z"})});case"arrow-right":return e.jsx("svg",{...l,children:e.jsx("path",{d:"M5 12h14M13 5l7 7-7 7"})});case"arrow-left":return e.jsx("svg",{...l,children:e.jsx("path",{d:"M19 12H5m6 7l-7-7 7-7"})});case"user":return e.jsxs("svg",{...l,children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]});case"mail":return e.jsxs("svg",{...l,children:[e.jsx("path",{d:"M4 4h16v16H4z"}),e.jsx("path",{d:"M22 6l-10 7L2 6"})]});case"lock":return e.jsxs("svg",{...l,children:[e.jsx("rect",{x:"5",y:"11",width:"14",height:"10",rx:"2"}),e.jsx("path",{d:"M8 11V7a4 4 0 0 1 8 0v4"})]});case"gst":return e.jsxs("svg",{...l,children:[e.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),e.jsx("path",{d:"M7 9h10M7 13h6"})]});case"google":return e.jsx("svg",{viewBox:"0 0 48 48",className:c,children:e.jsx("path",{fill:"#FFC107",d:"M43.6 20.5H42V20H24v8h11.3A12.9 12.9 0 0 1 11 24 13 13 0 1 0 37 33l6.6 5A21 21 0 1 1 45 24c0-1.2-.1-2.3-.4-3.5z"})});default:return e.jsx("svg",{...l,children:e.jsx("circle",{cx:"12",cy:"12",r:"9"})})}}const Q=Ce(ae),te=Se(ae),Me=Le(ae,"us-central1"),qe=pe(Me,"reservePhone"),ve=pe(Me,"checkUniqueness"),fe=()=>`FLYP-${Math.random().toString(36).slice(2,7).toUpperCase()}`;function Ye(n){if(!n)return{ok:!0,reason:""};const c=n.toUpperCase().trim();return c.length!==15?{ok:!1,reason:"GSTIN must be 15 characters"}:/^\d{2}[A-Z]{5}\d{4}[A-Z]{1}[A-Z0-9]{1}Z[A-Z0-9]{1}$/i.test(c)?{ok:!0,reason:""}:{ok:!1,reason:"Format looks invalid"}}const He=/[^0-9]/g;function q(n=""){return(n||"").replace(He,"").slice(0,10)}function re(n){return n?`+91${n}`:""}const de=(n="")=>String(n).toLowerCase().replace(/\s+/g,""),ee=(n="")=>{const c=de(n);return c==="distributor"?"Distributor":c==="productowner"||c==="product owner"?"Product Owner":"Retailer"},Xe=({role:n="retailer"})=>{const c=u.useRef(null),{platform:l}=je(),[s,f]=u.useState({ownerName:"",email:"",password:"",confirmPassword:"",phone:"",gstin:"",agree:!1,role:""}),w=Ne(),N=new URLSearchParams(w.search).get("role")||"",E=u.useMemo(()=>ee(s.role||n),[s.role,n]),W=!!N,r=u.useMemo(()=>{const t=de(E);return t==="distributor"?{primary:"orange",secondary:"amber",gradient:"from-orange-500/20 to-amber-500/20",borderGradient:"from-orange-400/50 to-amber-400/50",hoverGlow:"group-hover:shadow-orange-500/20",textGradient:"from-orange-400 via-amber-400 to-yellow-400",accent:"orange-400",accentLight:"orange-300",glow:"orange-500/40",bgGradient:"from-orange-500/10 via-amber-500/10 to-yellow-500/10",accentColor:"rgb(251, 146, 60)",accentLightColor:"rgb(253, 186, 116)",primaryColor:"rgb(249, 115, 22)",secondaryColor:"rgb(245, 158, 11)"}:t==="productowner"?{primary:"red",secondary:"pink",gradient:"from-red-500/20 to-pink-500/20",borderGradient:"from-red-400/50 to-pink-400/50",hoverGlow:"group-hover:shadow-red-500/20",textGradient:"from-red-400 via-pink-400 to-rose-400",accent:"red-400",accentLight:"red-300",glow:"red-500/40",bgGradient:"from-red-500/10 via-pink-500/10 to-rose-500/10",accentColor:"rgb(248, 113, 113)",accentLightColor:"rgb(252, 165, 165)",primaryColor:"rgb(239, 68, 68)",secondaryColor:"rgb(236, 72, 153)"}:{primary:"pink",secondary:"rose",gradient:"from-pink-500/20 to-rose-500/20",borderGradient:"from-pink-400/50 to-rose-400/50",hoverGlow:"group-hover:shadow-pink-500/20",textGradient:"from-pink-400 via-rose-400 to-fuchsia-400",accent:"pink-400",accentLight:"pink-300",glow:"pink-500/40",bgGradient:"from-pink-500/10 via-rose-500/10 to-fuchsia-500/10",accentColor:"rgb(244, 114, 182)",accentLightColor:"rgb(249, 168, 212)",primaryColor:"rgb(236, 72, 153)",secondaryColor:"rgb(244, 63, 94)"}},[E]),C=u.useMemo(()=>{const t=de(E);return t==="distributor"?{badge:"Why FLYP for Distributors",title:"Manage your supply chain with ease",subtitle:"Connect with retailers, track orders, manage inventory, and handle credit cycles all in one place.",features:[{icon:"ðŸ“¦",title:"Order Management",text:"Receive and process retailer orders instantly. Track order status in real-time."},{icon:"ðŸšš",title:"Dispatch & Delivery",text:"Manage dispatches, track deliveries, and update order status automatically."},{icon:"ðŸ’°",title:"Credit Management",text:"Track credit limits, payment cycles, and outstanding balances for each retailer."}],capabilities:[{label:"Orders",desc:"Real-time order processing"},{label:"Dispatch",desc:"Track deliveries & status"},{label:"Credit",desc:"Manage credit cycles"}]}:t==="productowner"||t==="productowner"?{badge:"Why FLYP for Product Owners",title:"Own your brand, track everything",subtitle:"Monitor distributor performance, track sales, manage inventory across your network, and grow your brand.",features:[{icon:"ðŸ“Š",title:"Performance Analytics",text:"Track distributor performance, sales metrics, and market insights in real-time."},{icon:"ðŸŒ",title:"Network Management",text:"Manage your distributor network, track inventory levels, and optimize supply chain."},{icon:"ðŸ“ˆ",title:"Growth Insights",text:"Get detailed reports on sales trends, product performance, and market opportunities."}],capabilities:[{label:"Analytics",desc:"Performance tracking"},{label:"Network",desc:"Distributor management"},{label:"Insights",desc:"Sales & growth data"}]}:{badge:"Why FLYP for Retailers",title:"Sell smarter, grow faster",subtitle:"Fast billing, smart inventory management, and seamless ordering from distributors. Everything you need to run your retail business.",features:[{icon:"âš¡",title:"Fast Billing",text:"Create invoices in seconds. Cash / Card / UPI supported. Print or share digitally."},{icon:"ðŸ“±",title:"Smart Inventory",text:"OCR / AI onboarding, auto stock updates, lowâ€‘stock alerts, and smart reordering."},{icon:"ðŸ›’",title:"Easy Ordering",text:"Order from distributors with one click. Track orders, manage credit, and streamline procurement."}],capabilities:[{label:"Billing",desc:"Fast invoicing & payments"},{label:"Inventory",desc:"OCR & AI onboarding"},{label:"Orders",desc:"Distributor ordering"}]}},[E]),[I,v]=u.useState(!1),[M,h]=u.useState({error:"",success:""}),[g,O]=u.useState({validated:!1,checking:!1,message:"",error:!1}),[x,U]=u.useState({validated:!1,checking:!1,message:"",error:!1}),[G,Z]=u.useState(!1),[ne,J]=u.useState(!1),P=we(),i=t=>{const{name:m,type:a,value:j,checked:D}=t.target;let R=a==="checkbox"?D:j;m==="phone"&&(R=q(R)),f(B=>({...B,[m]:R}))},d=u.useCallback(async t=>{const m=q(t);if(m.length!==10)return!1;O({validated:!1,checking:!0,message:"Checking...",error:!1});try{return(await ve({phone:re(m)})).data?.phone?.available?(O({validated:!0,checking:!1,message:"âœ“ Available",error:!1}),!0):(O({validated:!1,checking:!1,message:"Phone already registered.",error:!0}),!1)}catch{return O({validated:!1,checking:!1,message:"Unable to verify phone.",error:!0}),!1}},[]),o=u.useCallback(async t=>{const m=t.trim();if(!m.includes("@"))return!1;U({validated:!1,checking:!0,message:"Checking...",error:!1});try{return(await ve({email:m.toLowerCase()})).data?.email?.available?(U({validated:!0,checking:!1,message:"âœ“ Available",error:!1}),!0):(U({validated:!1,checking:!1,message:"Email already registered.",error:!0}),!1)}catch{return U({validated:!1,checking:!1,message:"Unable to verify email.",error:!0}),!1}},[]),p=u.useCallback(()=>{const t=q(s.phone);return t.length!==10?(O({validated:!1,checking:!1,message:"",error:!1}),!1):d(t)},[s.phone,d]),b=u.useCallback(()=>{const t=(s.email||"").trim();return!t||!t.includes("@")?(U({validated:!1,checking:!1,message:"",error:!1}),!1):o(t)},[s.email,o]),L=u.useMemo(()=>Ye(s.gstin),[s.gstin]),k=u.useMemo(()=>{const t=s.password||"";let m=0;t.length>=6&&(m+=2),/[A-Z]/.test(t)&&(m+=1),/[a-z]/.test(t)&&(m+=1),/[0-9]/.test(t)&&(m+=1),/[^A-Za-z0-9]/.test(t)&&(m+=1);const a=m<=2?"Weak":m<=4?"Medium":"Strong",j=m<=2?"text-red-300":m<=4?"text-yellow-300":"text-emerald-300";return{level:m,text:a,color:j}},[s.password]);u.useCallback(()=>{const t=document.querySelector("form");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},[]);const V=t=>{const m=new Date().toISOString(),a=ee(s.role||n||"Retailer"),j=(s.email||"").trim().toLowerCase();return{ownerId:t,ownerName:(s.ownerName||"").trim(),name:(s.ownerName||"").trim(),email:j,phone:re(q(s.phone)),gstNumber:(s.gstin||"").toUpperCase().trim(),role:a,businessType:a,flypId:fe(),createdAt:m,lastUpdated:m,profileVersion:1,whatsappAlerts:!1,businessMode:"Online",invoicePreference:"Minimal",logoUrl:"",address:"",city:"",state:"",country:"India",zipcode:""}},F=async t=>{try{await t.getIdToken(!0)}catch{}},ie=async t=>{let m=null,a=null;try{const j=await t.getIdToken(!0);if(a=(t.email||"").toLowerCase().trim(),!a)throw new Error("User email not found in auth token");m=V(t.uid);const D=(m.email||"").toLowerCase().trim();if(!D)throw new Error("Email missing in payload");if(a!==D)throw new Error(`Email mismatch: token has "${a}" but payload has "${D}"`);await se(A(te,"businesses",t.uid),m,{merge:!1})}catch(j){throw j?.code==="permission-denied"?console.error("[Register] Permission denied:",j?.message):console.error("[Register] Document creation failed:",j?.message),j}},he=async t=>{try{await ie(t)}catch(m){const a=String(m?.message||"");if(a.includes("permission")||a.includes("Missing")){await new Promise(j=>setTimeout(j,1500)),await F(t),await ie(t);return}throw m}},Y=async t=>{if(t.preventDefault(),h({error:"",success:""}),q(s.phone).length!==10)return h({error:"Enter valid 10-digit phone number",success:""});if(!s.agree)return h({error:"Accept Terms & Privacy to continue",success:""});if(s.password!==s.confirmPassword)return h({error:"Passwords do not match",success:""});if(!g.validated)return h({error:"Please verify phone number availability",success:""});await ge()},le=async t=>{J(!0),Z(!1),await ge()},ge=async()=>{v(!0);try{const{createUserWithEmailAndPassword:t}=await be(async()=>{const{createUserWithEmailAndPassword:y}=await import("./firebase-DWi1MSv1.js").then($=>$.ac);return{createUserWithEmailAndPassword:y}},[]),a=(await t(Q,s.email.trim(),s.password)).user;await De(a,{displayName:(s.ownerName||"").trim()}),await new Promise(y=>{const $=Ae(Q,H=>{H?.uid===a.uid&&($(),y())})});const j=re(q(s.phone));try{await qe({phone:j})}catch(y){try{await a.delete()}catch{}try{await Q.signOut()}catch{}const $=y?.code||"",H=String(y?.message||""),Te=y?.details||{};return $==="already-exists"||$==="failed-precondition"||H.toLowerCase().includes("already")||H.toLowerCase().includes("reserved")?h({error:"Phone number already registered. Please sign in or use a different number.",success:""}):h({error:`Could not reserve phone number: ${H||"Please try again."}`,success:""})}await new Promise(y=>setTimeout(y,2e3)),await F(a);let D=!1;try{await he(a),D=!0}catch{try{await new Promise($=>setTimeout($,2e3)),await F(a),await he(a),D=!0}catch($){try{await a.delete()}catch{}try{await Q.signOut()}catch{}return h({error:`Registration failed: Could not create profile. ${$?.message||"Please try again."}`,success:""})}}let R=null,B=0;for(;B<10&&(R=await z(A(te,"businesses",a.uid)),!R.exists());)await new Promise(y=>setTimeout(y,500)),B++;if(!R||!R.exists()){try{await a.delete()}catch{}try{await Q.signOut()}catch{}return h({error:"Registration incomplete: Profile could not be created. Please try again.",success:""})}const T=ee(s.role||n).toLowerCase();sessionStorage.setItem("postSignupRole",T),h({success:"Creating account...",error:""}),setTimeout(()=>{sessionStorage.removeItem("postSignupRole")},3e3),T==="retailer"?P("/dashboard",{replace:!0}):T==="distributor"?P("/distributor-dashboard",{replace:!0}):P("/product-owner-dashboard",{replace:!0})}catch(t){sessionStorage.removeItem("postSignupRole"),h({error:t?.message||"Signup failed.",success:""}),v(!1)}},oe=async()=>{v(!0);try{const t=new ke,a=(await me(Q,t)).user,j=A(te,"businesses",a.uid),D=await z(j),R=ee(s.role||n);if(await F(a),!D.exists()){const y=new Date().toISOString(),$=a.phoneNumber&&a.phoneNumber.startsWith("+")?a.phoneNumber:re(q(a.phoneNumber||""));await se(j,{ownerId:a.uid,ownerName:a.displayName||"",name:a.displayName||"",email:(a.email||"").trim(),phone:$,gstNumber:"",role:R,businessType:R,flypId:fe(),createdAt:y,lastUpdated:y,profileVersion:1,whatsappAlerts:!1,businessMode:"Online",invoicePreference:"Minimal",logoUrl:"",address:"",city:"",state:"",country:"India",zipcode:""},{merge:!1})}let B=0,_=null;for(;B<10&&(_=await z(A(te,"businesses",a.uid)),!_.exists());)await new Promise(y=>setTimeout(y,500)),B++;const T=R.toLowerCase();sessionStorage.setItem("postSignupRole",T),h({success:"Creating account...",error:""}),setTimeout(()=>sessionStorage.removeItem("postSignupRole"),3e3),_&&_.exists()?T==="retailer"?P("/dashboard",{replace:!0}):T==="distributor"?P("/distributor-dashboard",{replace:!0}):P("/product-owner-dashboard",{replace:!0}):(h({error:"Account setup incomplete. Please try again.",success:""}),sessionStorage.removeItem("postSignupRole"),v(!1))}catch(t){h({error:t.message||"Google sign-in failed.",success:""}),v(!1)}},_e=async()=>{try{h({error:"",success:""}),v(!0);let t;if(l==="ios"){const{SignInWithApple:_}=await be(async()=>{const{SignInWithApple:xe}=await import("./index-DcR4Vacn.js");return{SignInWithApple:xe}},__vite__mapDeps([0,1,2,3,4,5,6])),T=await _.authorize({scopes:"email name"});if(!T?.identityToken)throw new Error("Apple Sign In did not return an identity token.");const y=new ue("apple.com"),$={idToken:T.identityToken};T.nonce&&($.rawNonce=T.nonce);const H=y.credential($);t=(await Pe(Q,H)).user}else{const _=new ue("apple.com");_.addScope("email"),_.addScope("name"),t=(await me(Q,_)).user}const m=A(te,"businesses",t.uid),a=await z(m),j=ee(s.role||n);if(await F(t),!a.exists()){const _=new Date().toISOString(),T=t.displayName||t.email?.split("@")[0]||"User",y=t.phoneNumber&&t.phoneNumber.startsWith("+")?t.phoneNumber:re(q(t.phoneNumber||""));await se(m,{ownerId:t.uid,ownerName:T,name:T,email:(t.email||"").trim(),phone:y,gstNumber:"",role:j,businessType:j,flypId:fe(),createdAt:_,lastUpdated:_,profileVersion:1,whatsappAlerts:!1,businessMode:"Online",invoicePreference:"Minimal",logoUrl:t.photoURL||"",address:"",city:"",state:"",country:"India",zipcode:""},{merge:!1})}let D=0,R=null;for(;D<10&&(R=await z(A(te,"businesses",t.uid)),!R?.exists());)await new Promise(_=>setTimeout(_,500)),D++;const B=j.toLowerCase();sessionStorage.setItem("postSignupRole",B),h({success:"Creating account...",error:""}),setTimeout(()=>sessionStorage.removeItem("postSignupRole"),3e3),R&&R.exists()?B==="retailer"?P("/dashboard",{replace:!0}):B==="distributor"?P("/distributor-dashboard",{replace:!0}):P("/product-owner-dashboard",{replace:!0}):(h({error:"Account setup incomplete. Please try again.",success:""}),sessionStorage.removeItem("postSignupRole"),v(!1))}catch(t){console.error("[Register] Apple Sign-In Error:",t?.code,t?.message),t?.code==="auth/operation-not-allowed"?h({error:"Sign in with Apple is not enabled. Please enable it in Firebase Console (Authentication â†’ Apple) and add your Apple credentials.",success:""}):h({error:t?.message||"Sign in with Apple failed. Try again or use email.",success:""}),v(!1)}};return u.useEffect(()=>{const t=de(N);t&&f(m=>({...m,role:ee(t)}))},[N]),e.jsxs("div",{className:"min-h-screen w-full h-screen relative overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"absolute inset-0 -z-10",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0a0e1a] via-[#0f1419] to-[#0a0e1a]"}),e.jsx("div",{className:"absolute inset-0 [background:radial-gradient(ellipse_80%_50%_at_20%_20%,rgba(16,185,129,0.08),transparent_70%)] animate-pulse-slow"}),e.jsx("div",{className:"absolute inset-0 [background:radial-gradient(ellipse_80%_50%_at_80%_80%,rgba(6,182,212,0.06),transparent_70%)] animate-pulse-slow",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute inset-0 [background:radial-gradient(ellipse_60%_40%_at_50%_50%,rgba(16,185,129,0.05),transparent_80%)]"}),e.jsx("div",{className:"absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,black_40%,transparent_100%)] bg-black/25 pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 opacity-[0.02] bg-[url('data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%22160%22%20height=%22160%22%20viewBox=%220%200%20160%20160%22%3E%3Cfilter%20id=%22n%22%3E%3CfeTurbulence%20type=%22fractalNoise%22%20baseFrequency=%220.8%22%20numOctaves=%222%22/%3E%3C/filter%3E%3Crect%20width=%22160%22%20height=%22160%22%20filter=%22url(%23n)%22%20opacity=%220.6%22/%3E%3C/svg%3E')]"})]}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden -z-5",children:[e.jsx("div",{className:"absolute top-20 left-[10%] w-16 h-16 rounded-full bg-emerald-500/10 blur-xl animate-float",style:{animationDelay:"0s",animationDuration:"6s"}}),e.jsx("div",{className:"absolute top-40 right-[15%] w-12 h-12 rounded-full bg-teal-500/10 blur-xl animate-float",style:{animationDelay:"2s",animationDuration:"8s"}}),e.jsx("div",{className:"absolute bottom-32 left-[20%] w-20 h-20 rounded-full bg-cyan-500/10 blur-xl animate-float",style:{animationDelay:"4s",animationDuration:"7s"}}),e.jsx("div",{className:"absolute top-60 right-[25%] w-14 h-14 rounded-full bg-emerald-500/10 blur-xl animate-float",style:{animationDelay:"1s",animationDuration:"9s"}}),e.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 rounded-full bg-emerald-400/30 animate-pulse-slow",style:{animationDelay:"0.5s"}}),e.jsx("div",{className:"absolute top-1/3 right-1/3 w-1.5 h-1.5 rounded-full bg-teal-400/30 animate-pulse-slow",style:{animationDelay:"1.5s"}}),e.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-2.5 h-2.5 rounded-full bg-cyan-400/30 animate-pulse-slow",style:{animationDelay:"2.5s"}})]}),e.jsxs("div",{className:"relative z-50 w-full px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between animate-fadeInUp",style:{animationDelay:"0.1s"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>{W?P("/auth?type=register",{replace:!0}):P("/")},className:"group flex items-center gap-2 px-4 py-2 rounded-lg text-white text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95 backdrop-blur-sm",style:{backgroundColor:`${r.primaryColor}15`,borderColor:`${r.accentColor}30`,borderWidth:"1px",borderStyle:"solid"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=`${r.primaryColor}25`,t.currentTarget.style.borderColor=`${r.accentColor}50`},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=`${r.primaryColor}15`,t.currentTarget.style.borderColor=`${r.accentColor}30`},"aria-label":"Go back",children:[e.jsx(X,{name:"arrow-left",className:"h-4 w-4 transition-transform group-hover:-translate-x-0.5",style:{color:r.accentLightColor}}),e.jsx("span",{className:"hidden sm:inline",children:W?"Choose Role":"Home"})]}),e.jsxs("button",{onClick:()=>P("/"),className:"group flex items-center gap-2 px-4 py-2 rounded-lg text-white text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95 backdrop-blur-sm",style:{backgroundColor:`${r.primaryColor}15`,borderColor:`${r.accentColor}30`,borderWidth:"1px",borderStyle:"solid"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=`${r.primaryColor}25`,t.currentTarget.style.borderColor=`${r.accentColor}50`},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=`${r.primaryColor}15`,t.currentTarget.style.borderColor=`${r.accentColor}30`},"aria-label":"Go to home",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",style:{color:r.accentLightColor},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),e.jsx("span",{className:"hidden sm:inline",children:"Home"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium backdrop-blur-sm",style:{backgroundColor:`${r.primaryColor}15`,borderColor:`${r.accentColor}30`,borderWidth:"1px",borderStyle:"solid"},children:[e.jsx("img",{src:"/assets/flyp_logo.png",alt:"FLYP",className:"h-10 w-10 sm:h-12 sm:w-12 object-contain",onError:t=>{t.target.style.display="none",t.target.nextSibling.style.display="inline"}}),e.jsx(X,{name:"spark",className:"h-3 w-3",style:{color:r.accentColor,display:"none"}})]})]}),e.jsxs("div",{className:"flex-1 w-full grid grid-cols-1 lg:grid-cols-[1.1fr_0.9fr] gap-0 relative overflow-y-auto overflow-x-hidden",children:[e.jsxs("div",{className:"hidden lg:flex flex-col justify-start lg:justify-center px-6 lg:px-8 xl:px-10 py-6 lg:py-8 relative overflow-hidden min-h-full",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/3 via-transparent to-transparent animate-gradient-shift"}),e.jsxs("div",{className:"relative z-10 w-full space-y-4 lg:space-y-5 animate-fadeInUp",style:{animationDelay:"0.2s"},children:[e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gradient-to-r ${r.gradient} border ${r.borderGradient} text-[11px] tracking-widest uppercase font-medium backdrop-blur-sm hover:bg-white/10 transition-all duration-300 hover:scale-105 animate-bounce-subtle`,style:{borderColor:`${r.accentColor}50`,color:r.accentLightColor},children:[e.jsx(X,{name:"spark",className:"h-3 w-3 animate-pulse",style:{color:r.accentColor}}),C.badge]}),e.jsx("h1",{className:`text-3xl lg:text-4xl xl:text-5xl font-bold tracking-tight leading-[1.1] animate-fadeInUp bg-gradient-to-r ${r.textGradient} bg-clip-text text-transparent`,style:{animationDelay:"0.3s"},children:C.title}),e.jsx("p",{className:"text-sm lg:text-base text-slate-300/80 leading-relaxed animate-fadeInUp",style:{animationDelay:"0.4s"},children:C.subtitle}),e.jsx("div",{className:`mt-4 p-4 rounded-xl bg-gradient-to-br ${r.gradient} backdrop-blur-sm animate-fadeInUp transition-all duration-300`,style:{animationDelay:"0.45s",borderColor:`${r.accentColor}30`,borderWidth:"1px",borderStyle:"solid"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center text-lg",style:{backgroundColor:`${r.accentColor}20`,borderColor:`${r.accentColor}50`,borderWidth:"1px",borderStyle:"solid"},children:"âš¡"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold mb-1",style:{color:r.accentLightColor},children:"Quick Setup"}),e.jsx("div",{className:"text-xs text-slate-300/70 leading-relaxed",children:"Get started in 30 seconds. Complete your business profile anytime from Settings."})]})]})}),e.jsx("div",{className:"mt-4 lg:mt-6 space-y-2.5 lg:space-y-3",children:C.features.map((t,m)=>e.jsxs("div",{className:"flex items-start gap-3 group/item p-3 rounded-lg border border-white/10 hover:shadow-lg transition-all duration-300 hover:-translate-y-1 hover:scale-[1.02] animate-fadeInUp",style:{animationDelay:`${.5+m*.1}s`,background:`linear-gradient(to bottom right, ${r.primaryColor}33, ${r.secondaryColor}33)`},onMouseEnter:a=>{a.currentTarget.style.borderColor=`${r.accentColor}50`,a.currentTarget.style.boxShadow=`0 10px 15px -3px ${r.accentColor}20`},onMouseLeave:a=>{a.currentTarget.style.borderColor="rgba(255, 255, 255, 0.1)",a.currentTarget.style.boxShadow="none"},children:[e.jsx("div",{className:"mt-0.5 flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center text-xl group-hover/item:scale-110 group-hover/item:rotate-3 transition-all duration-300 animate-float",style:{animationDelay:`${m*.5}s`,animationDuration:"4s",backgroundColor:`${r.accentColor}15`,borderColor:`${r.accentColor}30`,borderWidth:"1px",borderStyle:"solid"},children:t.icon}),e.jsxs("div",{className:"flex-1 pt-0.5",children:[e.jsx("div",{className:"text-sm font-semibold text-white mb-1 transition-colors duration-300 group-hover/item:",style:{color:"inherit"},onMouseEnter:a=>a.target.style.color=r.accentLightColor,onMouseLeave:a=>a.target.style.color="white",children:t.title}),e.jsx("div",{className:"text-xs text-slate-300/70 leading-relaxed group-hover/item:text-slate-200 transition-colors duration-300",children:t.text})]})]},m))}),e.jsx("div",{className:"mt-4 lg:mt-6 pt-4 lg:pt-5 border-t border-white/5 animate-fadeInUp",style:{animationDelay:"0.8s"},children:e.jsx("div",{className:"grid grid-cols-3 gap-3 lg:gap-4",children:C.capabilities.map((t,m)=>e.jsxs("div",{className:"text-center p-2 rounded-lg transition-all duration-300 hover:scale-110 hover:shadow-lg group",style:{animationDelay:`${.9+m*.1}s`},onMouseEnter:a=>{a.currentTarget.style.background=`linear-gradient(to bottom right, ${r.primaryColor}33, ${r.secondaryColor}33)`,a.currentTarget.style.boxShadow=`0 10px 15px -3px ${r.accentColor}20`},onMouseLeave:a=>{a.currentTarget.style.background="transparent",a.currentTarget.style.boxShadow="none"},children:[e.jsx("div",{className:"text-xs font-semibold text-white mb-1 transition-colors duration-300",onMouseEnter:a=>a.target.style.color=r.accentLightColor,onMouseLeave:a=>a.target.style.color="white",children:t.label}),e.jsx("div",{className:"text-[10px] text-slate-400/70 leading-relaxed group-hover:text-slate-300 transition-colors duration-300",children:t.desc})]},m))})}),e.jsx("div",{className:`mt-4 lg:mt-6 p-3 lg:p-4 rounded-xl bg-gradient-to-br ${r.bgGradient} backdrop-blur-sm animate-fadeInUp transition-all duration-300`,style:{animationDelay:"1s",borderColor:`${r.accentColor}30`,borderWidth:"1px",borderStyle:"solid"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("div",{className:"text-lg lg:text-xl font-bold",style:{color:r.accentColor},children:"30s"}),e.jsx("div",{className:"text-[10px] text-slate-400",children:"Quick Setup"})]}),e.jsx("div",{className:"w-px h-8 bg-white/10"}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("div",{className:"text-lg lg:text-xl font-bold",style:{color:r.accentColor},children:"100%"}),e.jsx("div",{className:"text-[10px] text-slate-400",children:"Secure"})]}),e.jsx("div",{className:"w-px h-8 bg-white/10"}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("div",{className:"text-lg lg:text-xl font-bold",style:{color:r.accentColor},children:"24/7"}),e.jsx("div",{className:"text-[10px] text-slate-400",children:"Support"})]})]})})]})]}),e.jsx("div",{className:"flex items-start lg:items-center justify-center w-full px-4 sm:px-5 lg:px-6 xl:px-8 py-4 lg:py-6 overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-lg relative animate-fadeInUp my-auto",style:{animationDelay:"0.3s"},children:[e.jsx("div",{className:"absolute -inset-[1px] rounded-3xl pointer-events-none transition-opacity duration-500",style:{background:`linear-gradient(135deg, ${r.accentColor}20, ${r.secondaryColor}20)`,opacity:.3,filter:"blur(8px)"}}),e.jsxs("div",{className:"relative rounded-3xl backdrop-blur-2xl shadow-2xl overflow-hidden transition-all duration-300",style:{borderColor:`${r.accentColor}30`,borderWidth:"1px",borderStyle:"solid",background:"linear-gradient(to bottom right, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03))"},onMouseEnter:t=>{t.currentTarget.style.borderColor=`${r.accentColor}50`},onMouseLeave:t=>{t.currentTarget.style.borderColor=`${r.accentColor}30`},children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-3xl",style:{background:`linear-gradient(to bottom right, ${r.primaryColor}08, ${r.secondaryColor}08)`}}),e.jsx("div",{className:"absolute top-4 left-6 px-3 py-1 rounded-full text-[10px] font-semibold shadow-lg hover:scale-105 transition-transform duration-200 z-20",style:{backgroundColor:r.accentLightColor,color:"#0a0e1a",borderColor:r.accentColor,borderWidth:"1px",borderStyle:"solid"},children:"âœ¨ Start here"}),e.jsxs("div",{className:"px-5 sm:px-6 pt-7 sm:pt-8 pb-3 sm:pb-4 text-center relative z-10 animate-fadeInUp",style:{animationDelay:"0.4s"},children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-2",children:[e.jsx("img",{src:"/assets/flyp_logo.png",alt:"FLYP",className:"h-16 w-16 sm:h-20 sm:w-20 lg:h-24 lg:w-24 object-contain",onError:t=>t.target.style.display="none"}),e.jsx("h1",{className:`text-xl lg:text-2xl font-bold bg-gradient-to-r ${r.textGradient} bg-clip-text text-transparent`,children:"Create your account"})]}),e.jsx("p",{className:"text-slate-300/70 text-xs leading-relaxed",children:"30â€‘second signup. Finish the rest later in Profile Settings."})]}),e.jsxs("div",{className:"px-5 sm:px-6 mt-1 mb-3 sm:mb-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 text-xs relative z-10 animate-fadeInUp",style:{animationDelay:"0.5s"},children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[e.jsx("span",{className:"text-xs",children:"Joining as"}),e.jsx("span",{className:"px-2 py-0.5 rounded bg-white/5 border border-white/10 text-white font-semibold text-xs",children:E}),W?null:e.jsxs("select",{name:"role",value:s.role||ee(n),onChange:i,className:"ml-1.5 px-2 py-0.5 rounded bg-slate-900/40 border border-white/10 text-slate-200 text-xs font-medium focus:outline-none focus:ring-1 focus:ring-white/20",style:{minWidth:110},children:[e.jsx("option",{value:"Retailer",children:"Retailer"}),e.jsx("option",{value:"Distributor",children:"Distributor"}),e.jsx("option",{value:"Product Owner",children:"Product Owner"})]})]}),e.jsxs("div",{className:"px-2 py-0.5 rounded bg-white/5 border border-white/10 text-slate-300 flex items-center gap-1.5 text-[10px] font-medium",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 12l2 2 4-4"}),e.jsx("circle",{cx:"12",cy:"12",r:"9"})]}),e.jsx("span",{children:"Protected"})]})]}),e.jsxs("div",{className:"px-5 sm:px-6 mt-1 relative z-10 animate-fadeInUp",style:{animationDelay:"0.6s"},children:[l!=="ios"&&e.jsxs("button",{type:"button",onClick:oe,disabled:I,className:"w-full mb-3 flex items-center justify-center gap-2.5 py-3 rounded-lg bg-white text-slate-900 font-semibold hover:bg-slate-50 hover:shadow-lg hover:shadow-white/20 active:scale-[0.98] transition-all duration-300 disabled:opacity-70 disabled:cursor-not-allowed min-h-[44px] touch-target border border-white/10 text-sm hover:scale-[1.02]",children:[e.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"",className:"w-4 h-4"}),"Continue with Google"]}),e.jsxs("button",{type:"button",onClick:_e,disabled:I,className:"w-full mb-4 flex items-center justify-center gap-2.5 py-3 rounded-lg bg-black text-white font-semibold hover:bg-gray-900 hover:shadow-lg hover:shadow-white/10 active:scale-[0.98] transition-all duration-300 disabled:opacity-70 disabled:cursor-not-allowed min-h-[44px] touch-target border border-white/20 text-sm hover:scale-[1.02]",children:[e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"Continue with Apple"]}),e.jsxs("div",{className:"flex items-center pb-3",children:[e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-white/10 to-white/10"}),e.jsx("span",{className:"px-3 text-[11px] text-white/50 font-medium",children:"or"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-l from-transparent via-white/10 to-white/10"})]})]}),e.jsxs("form",{onSubmit:Y,className:"px-5 sm:px-6 pb-5 sm:pb-6 relative z-10 space-y-3 animate-fadeInUp",style:{animationDelay:"0.7s"},children:[M.error&&e.jsxs("div",{className:"mb-3 p-3 rounded-lg bg-red-500/10 border-2 border-red-500/40 flex items-start gap-2 backdrop-blur-sm animate-shake hover:bg-red-500/15 transition-colors duration-200",children:[e.jsx("svg",{className:"h-4 w-4 text-red-400 flex-shrink-0 mt-0.5 animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2.5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-red-300 text-xs flex-1 font-medium leading-relaxed",children:M.error})]}),M.success&&e.jsxs("div",{className:"mb-3 p-3 rounded-lg bg-emerald-500/10 border-2 border-emerald-500/40 flex items-start gap-2 backdrop-blur-sm animate-fadeInUp",children:[e.jsx("svg",{className:"h-4 w-4 text-emerald-400 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2.5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-emerald-300 text-xs flex-1 font-medium leading-relaxed",children:M.success})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1.5 text-slate-200 font-semibold",children:"Owner Name"}),e.jsxs("label",{className:"group relative block",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80 transition-colors",style:{color:"inherit"},children:e.jsx(X,{name:"user",className:"h-4 w-4"})}),e.jsx("input",{type:"text",name:"ownerName",placeholder:"Full name",value:s.ownerName,onChange:i,required:!0,autoComplete:"name",className:"peer w-full pl-10 pr-3 py-2.5 rounded-lg bg-white/10 text-white text-sm border-2 border-white/15 placeholder-white/50 outline-none focus:ring-2 transition-all duration-300 min-h-[42px] backdrop-blur-sm hover:bg-white/15",onFocus:t=>{t.target.style.borderColor=r.accentColor,t.target.style.boxShadow=`0 0 0 2px ${r.accentColor}60`,t.target.parentElement.querySelector("span").style.color=r.accentColor},onBlur:t=>{t.target.style.borderColor="rgba(255, 255, 255, 0.15)",t.target.style.boxShadow="none",t.target.parentElement.querySelector("span").style.color="rgba(203, 213, 225, 0.8)"},onMouseEnter:t=>{document.activeElement!==t.target&&(t.target.style.borderColor=`${r.accentColor}50`)},onMouseLeave:t=>{document.activeElement!==t.target&&(t.target.style.borderColor="rgba(255, 255, 255, 0.15)")}})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1.5 text-slate-200 font-semibold",children:"Phone Number"}),e.jsxs("div",{className:"flex items-center rounded-lg bg-white/10 text-white border-2 transition-all min-h-[42px] backdrop-blur-sm",style:{borderColor:g.error?"rgba(248, 113, 113, 0.6)":g.validated?`${r.accentColor}99`:"rgba(255, 255, 255, 0.15)"},children:[e.jsx("span",{className:"pl-3 pr-2 text-slate-300/90 select-none font-bold text-sm border-r border-white/10",children:"+91"}),e.jsx("input",{ref:c,type:"tel",name:"phone",placeholder:"9876543210",value:s.phone,onChange:i,required:!0,inputMode:"numeric",pattern:"[0-9]{10}",maxLength:10,autoComplete:"tel-national",className:"w-full bg-transparent px-3 py-2.5 outline-none placeholder-white/50 text-white text-sm flex-1","aria-label":"10-digit Indian mobile number",onFocus:t=>{t.target.parentElement.style.borderColor=r.accentColor,t.target.parentElement.style.boxShadow=`0 0 0 2px ${r.accentColor}60`},onBlur:t=>{t.target.parentElement.style.boxShadow="none",p()}}),g.checking&&e.jsx("div",{className:"pr-3",children:e.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",style:{color:r.accentColor},children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),g.validated&&!g.checking&&e.jsx("div",{className:"pr-3",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",style:{color:r.accentColor},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),g.error&&!g.checking&&e.jsx("div",{className:"pr-3",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g.message&&e.jsxs("p",{className:"mt-1 text-[10px] flex items-center gap-1",style:{color:g.error?"rgb(252, 165, 165)":g.validated?r.accentLightColor:"rgb(203, 213, 225)"},children:[g.checking&&e.jsxs("svg",{className:"animate-spin h-2.5 w-2.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),g.validated&&e.jsx("svg",{className:"h-2.5 w-2.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),g.error&&e.jsx("svg",{className:"h-2.5 w-2.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e.jsx("span",{children:g.message})]}),!g.message&&e.jsx("p",{className:"mt-1 text-[10px] text-slate-400",children:"10-digit mobile number"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1.5 text-slate-200 font-semibold",children:"Email Address"}),e.jsxs("div",{className:"relative flex items-center rounded-lg bg-white/10 text-white border-2 transition-all min-h-[42px] backdrop-blur-sm",style:{borderColor:x.error?"rgba(248, 113, 113, 0.6)":x.validated?`${r.accentColor}99`:"rgba(255, 255, 255, 0.15)"},children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80 transition-colors",style:{color:"inherit"},children:e.jsx(X,{name:"mail",className:"h-4 w-4"})}),e.jsx("input",{type:"email",name:"email",placeholder:"your.email@example.com",value:s.email,onChange:i,required:!0,autoComplete:"email",className:"w-full pl-10 pr-10 py-2.5 bg-transparent outline-none placeholder-white/50 text-white text-sm hover:bg-white/5 transition-colors duration-300",onFocus:t=>{t.target.parentElement.querySelector("span").style.color=r.accentColor},onBlur:t=>{t.target.parentElement.querySelector("span").style.color="rgba(203, 213, 225, 0.8)",b()}}),x.checking&&e.jsx("div",{className:"absolute right-3",children:e.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",style:{color:r.accentColor},children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),x.validated&&!x.checking&&e.jsx("div",{className:"absolute right-3",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",style:{color:r.accentColor},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),x.error&&!x.checking&&e.jsx("div",{className:"absolute right-3",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.message&&e.jsxs("p",{className:"mt-1 text-[10px] flex items-center gap-1",style:{color:x.error?"rgb(252, 165, 165)":x.validated?r.accentLightColor:"rgb(203, 213, 225)"},children:[x.checking&&e.jsxs("svg",{className:"animate-spin h-2.5 w-2.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),x.validated&&e.jsx("svg",{className:"h-2.5 w-2.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),x.error&&e.jsx("svg",{className:"h-2.5 w-2.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e.jsx("span",{children:x.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1.5 text-slate-200 font-semibold",children:"Password"}),e.jsxs("label",{className:"group relative block",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80 transition-colors",style:{color:"inherit"},children:e.jsx(X,{name:"lock",className:"h-4 w-4"})}),e.jsx("input",{type:"password",name:"password",placeholder:"Create password",value:s.password,onChange:i,required:!0,minLength:6,autoComplete:"new-password",className:"peer w-full pl-10 pr-3 py-2.5 rounded-lg bg-white/10 text-white border-2 border-white/15 placeholder-white/50 outline-none focus:ring-2 transition-all duration-300 text-sm min-h-[42px] backdrop-blur-sm hover:bg-white/15",onFocus:t=>{t.target.style.borderColor=r.accentColor,t.target.style.boxShadow=`0 0 0 2px ${r.accentColor}60`,t.target.parentElement.querySelector("span").style.color=r.accentColor},onBlur:t=>{t.target.style.borderColor="rgba(255, 255, 255, 0.15)",t.target.style.boxShadow="none",t.target.parentElement.querySelector("span").style.color="rgba(203, 213, 225, 0.8)"},onMouseEnter:t=>{document.activeElement!==t.target&&(t.target.style.borderColor=`${r.accentColor}50`)},onMouseLeave:t=>{document.activeElement!==t.target&&(t.target.style.borderColor="rgba(255, 255, 255, 0.15)")}})]}),s.password&&e.jsx("div",{className:"mt-1",children:e.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[e.jsx("div",{className:"flex-1 h-1 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${k.level<=2?"bg-red-400":k.level<=4?"bg-yellow-400":"bg-emerald-400"}`,style:{width:`${k.level/6*100}%`}})}),e.jsx("span",{className:`text-[10px] font-medium ${k.color}`,children:k.text})]})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs mb-1.5 text-slate-200 font-semibold",children:"Confirm Password"}),e.jsxs("label",{className:`group relative block ${s.confirmPassword&&s.password!==s.confirmPassword?"error":""}`,children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80 transition-colors",style:{color:"inherit"},children:e.jsx(X,{name:"lock",className:"h-4 w-4"})}),e.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Re-enter password",value:s.confirmPassword,onChange:i,required:!0,minLength:6,autoComplete:"new-password",className:"peer w-full pl-10 pr-10 py-2.5 rounded-lg bg-white/10 text-white border-2 transition-all duration-300 placeholder-white/50 outline-none focus:ring-2 text-sm min-h-[42px] backdrop-blur-sm hover:bg-white/15",style:{borderColor:s.confirmPassword&&s.password!==s.confirmPassword?"rgba(248, 113, 113, 0.6)":s.confirmPassword&&s.password===s.confirmPassword?`${r.accentColor}99`:"rgba(255, 255, 255, 0.15)"},onFocus:t=>{s.confirmPassword&&s.password===s.confirmPassword?(t.target.style.borderColor=r.accentColor,t.target.style.boxShadow=`0 0 0 2px ${r.accentColor}60`,t.target.parentElement.querySelector("span").style.color=r.accentColor):s.confirmPassword&&s.password!==s.confirmPassword?(t.target.style.borderColor="rgba(248, 113, 113, 0.8)",t.target.style.boxShadow="0 0 0 2px rgba(248, 113, 113, 0.5)"):(t.target.style.borderColor=r.accentColor,t.target.style.boxShadow=`0 0 0 2px ${r.accentColor}60`,t.target.parentElement.querySelector("span").style.color=r.accentColor)},onBlur:t=>{t.target.style.boxShadow="none",t.target.parentElement.querySelector("span").style.color="rgba(203, 213, 225, 0.8)"}}),s.confirmPassword&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.password===s.confirmPassword?e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",style:{color:r.accentColor},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.confirmPassword&&s.password!==s.confirmPassword&&e.jsxs("p",{className:"mt-1 text-[10px] text-red-300 flex items-center gap-1",children:[e.jsx("svg",{className:"h-2.5 w-2.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Passwords do not match"]}),s.confirmPassword&&s.password===s.confirmPassword&&e.jsxs("p",{className:"mt-1 text-[10px] flex items-center gap-1",style:{color:r.accentLightColor},children:[e.jsx("svg",{className:"h-2.5 w-2.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Passwords match"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5 flex-wrap gap-2",children:[e.jsxs("label",{htmlFor:"gstin",className:"text-slate-200 text-xs font-semibold flex items-center gap-1.5",children:[e.jsx(X,{name:"gst",className:"h-4 w-4"}),"GSTIN ",e.jsx("span",{className:"text-[10px] font-normal text-slate-400",children:"(optional)"})]}),s.gstin&&e.jsx("span",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded ${L.ok?"text-emerald-300 bg-emerald-500/10":"text-red-300 bg-red-500/10"}`,children:L.ok?"âœ“ Valid":L.reason})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80",children:e.jsx(X,{name:"gst",className:"h-4 w-4"})}),e.jsx("input",{id:"gstin",type:"text",name:"gstin",placeholder:"E.g., 27ABCDE1234F1Z5",value:s.gstin,onChange:i,autoComplete:"off",className:"w-full pl-10 pr-3 py-2.5 rounded-lg bg-white/10 text-white border-2 border-white/15 placeholder-white/60 outline-none focus:ring-2 transition-all duration-300 uppercase text-sm min-h-[42px] backdrop-blur-sm hover:bg-white/15",onFocus:t=>{t.target.style.borderColor=r.accentColor,t.target.style.boxShadow=`0 0 0 2px ${r.accentColor}60`,t.target.parentElement.querySelector("span").style.color=r.accentColor},onBlur:t=>{t.target.style.borderColor="rgba(255, 255, 255, 0.15)",t.target.style.boxShadow="none",t.target.parentElement.querySelector("span").style.color="rgba(203, 213, 225, 0.8)"},onMouseEnter:t=>{document.activeElement!==t.target&&(t.target.style.borderColor=`${r.accentColor}50`)},onMouseLeave:t=>{document.activeElement!==t.target&&(t.target.style.borderColor="rgba(255, 255, 255, 0.15)")}})]})]}),e.jsxs("div",{className:"flex items-start gap-2 text-slate-300 pt-1",children:[e.jsx("input",{id:"agree",name:"agree",type:"checkbox",checked:s.agree,onChange:i,className:"mt-0.5 h-4 w-4 rounded border-2 border-white/30 bg-white/10 focus:ring-2 transition-all cursor-pointer",style:{accentColor:r.primaryColor},onFocus:t=>{t.target.style.boxShadow=`0 0 0 2px ${r.accentColor}50`},onBlur:t=>{t.target.style.boxShadow="none"}}),e.jsxs("label",{htmlFor:"agree",className:"text-xs text-slate-300 leading-relaxed cursor-pointer",children:["I agree to the"," ",e.jsx("a",{href:"/terms.html",target:"_blank",rel:"noopener noreferrer",className:"underline text-cyan-300 hover:text-cyan-200 font-medium transition-colors",children:"Terms"})," ","and"," ",e.jsx("a",{href:"/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"underline text-cyan-300 hover:text-cyan-200 font-medium transition-colors",children:"Privacy Policy"})]})]}),e.jsxs("button",{type:"submit",disabled:I||q(s.phone).length!==10||!g.validated||g.checking||g.error||!x.validated||x.checking||x.error||s.password!==s.confirmPassword||s.password.length<6,className:"mt-4 w-full relative overflow-hidden rounded-lg py-3 font-semibold text-white shadow-lg transition-all duration-300 hover:-translate-y-1 hover:scale-[1.02] active:scale-[.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 disabled:hover:scale-100 min-h-[48px] touch-target no-select group",style:{background:`linear-gradient(to right, ${r.primaryColor}, ${r.secondaryColor})`,boxShadow:`0 10px 15px -3px ${r.accentColor}30, 0 4px 6px -2px ${r.accentColor}20`},children:[e.jsx("span",{className:"relative z-10 flex items-center justify-center gap-2 text-sm",children:I?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Creating account..."]}):e.jsxs(e.Fragment,{children:["Create account",e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),e.jsx("span",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gradient-to-r from-transparent via-white/20 to-transparent bg-[length:200%_100%] bg-[position:-100%_0] group-hover:animate-[shine_1.6s_ease-in-out_infinite]"})]}),e.jsx("div",{className:"text-[10px] text-slate-400/60 mt-3 text-center leading-relaxed",children:"Add business details later in Profile Settings."})]})]})]})})]}),G&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:e.jsx("div",{className:"relative w-full max-w-md rounded-3xl backdrop-blur-2xl shadow-2xl overflow-hidden",style:{borderColor:`${r.accentColor}30`,borderWidth:"1px",borderStyle:"solid",background:"linear-gradient(to bottom right, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03))"},children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsx("button",{onClick:()=>{Z(!1),J(!1)},className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors","aria-label":"Close",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx(Ee,{phone:re(q(s.phone)),onVerified:le,onError:t=>{h({error:t?.message||"OTP verification failed",success:""})},onCancel:()=>{Z(!1),J(!1)},autoSend:!0,themeColor:r.accentColor})]})})}),e.jsx("style",{children:`
        @keyframes shine{
          0%{background-position:-100% 0}
          100%{background-position:200% 0}
        }
        @keyframes marquee{
          0%{transform:translateX(0)}
          100%{transform:translateX(-50%)}
        }
        @keyframes shake{
          10%,90%{transform:translate3d(-1px,0,0)}
          20%,80%{transform:translate3d(2px,0,0)}
          30%,50%,70%{transform:translate3d(-2px,0,0)}
          40%,60%{transform:translate3d(2px,0,0)}
        }
        @keyframes slideInFromRight{
          from{opacity:0;transform:translateX(40px)}
          to{opacity:1;transform:translateX(0)}
        }
        @keyframes slideInFromLeft{
          from{opacity:0;transform:translateX(-40px)}
          to{opacity:1;transform:translateX(0)}
        }
        @keyframes fadeInUp{
          from{opacity:0;transform:translateY(20px)}
          to{opacity:1;transform:translateY(0)}
        }
        @keyframes float{
          0%,100%{transform:translateY(0px) translateX(0px)}
          25%{transform:translateY(-8px) translateX(4px)}
          50%{transform:translateY(-12px) translateX(0px)}
          75%{transform:translateY(-8px) translateX(-4px)}
        }
        @keyframes pulse-slow{
          0%,100%{opacity:1}
          50%{opacity:0.8}
        }
        @keyframes spin-slow{
          from{transform:rotate(0deg)}
          to{transform:rotate(360deg)}
        }
        @keyframes bounce-subtle{
          0%,100%{transform:translateY(0)}
          50%{transform:translateY(-4px)}
        }
        @keyframes gradient-shift{
          0%{background-position:0% 50%}
          50%{background-position:100% 50%}
          100%{background-position:0% 50%}
        }
        .animate-marquee{
          display:inline-block;
          min-width:200%;
          animation:marquee 18s linear infinite
        }
        .animate-shake{
          animation:shake 0.5s cubic-bezier(.36,.07,.19,.97) both
        }
        .animate-slideInFromRight{
          animation:slideInFromRight 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards
        }
        .animate-slideInFromLeft{
          animation:slideInFromLeft 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards
        }
        .animate-fadeInUp{
          animation:fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
          opacity:0
        }
        .animate-float{
          animation:float 3s ease-in-out infinite
        }
        .animate-pulse-slow{
          animation:pulse-slow 4s ease-in-out infinite
        }
        .animate-spin-slow{
          animation:spin-slow 8s linear infinite
        }
        .animate-bounce-subtle{
          animation:bounce-subtle 2s ease-in-out infinite
        }
        .animate-gradient-shift{
          background-size:200% 200%;
          animation:gradient-shift 8s ease infinite
        }
      `})]})},K=Ce(ae),ce=Se(ae),Ke=!1,Ze=()=>{const n=we(),{platform:c}=je(),[l,s]=u.useState({email:"",password:""}),[f,w]=u.useState(""),[S,N]=u.useState(!1),[E,W]=u.useState(!1),[r,C]=u.useState(null),[I,v]=u.useState(!1),[M,h]=u.useState(null),g=()=>e.jsx("style",{children:`
      @keyframes loadbar {
        0% { transform: translateX(-100%); }
        50% { transform: translateX(-10%); }
        100% { transform: translateX(100%); }
      }
      .animate-[loadbar_1.2s_ease-in-out_infinite] {
        animation: loadbar 1.2s ease-in-out infinite;
      }
    `}),O=i=>{s(d=>({...d,[i.target.name]:i.target.value}))},x=async i=>{i.preventDefault?.(),console.log("[Login] submit clicked"),w(""),N(!0),window.location.hostname!=="localhost"&&console.log("[Login] Production environment detected");try{const o=(l.email||"").trim(),p=(l.password||"").trim();if(!o||!p){w("Please enter email and password."),N(!1);return}const L=(await ze(K,o,p)).user;console.log("[Login] firebase signIn OK, uid:",L.uid);const k=await z(A(ce,"businesses",L.uid));if(console.log("[Login] role doc exists:",k.exists()),!k.exists()){w("âš ï¸ Account not found. Please register first."),await K.signOut(),N(!1);return}const V=k.data();if(V.email&&V.email.toLowerCase()!==o.toLowerCase()){w("âš ï¸ Email mismatch detected. Please contact support."),await K.signOut(),N(!1);return}await G(L,V)}catch(o){console.error("[Login] error",o?.code,o?.message);const p=o?.code||"";let b=o?.message||"Sign in failed. Please try again.";p==="auth/invalid-email"&&(b="Invalid email address."),p==="auth/user-not-found"&&(b="No account found with this email."),p==="auth/wrong-password"&&(b="Incorrect password."),p==="auth/too-many-requests"&&(b="Too many attempts. Please wait a minute and try again."),w(b),N(!1)}},U=async i=>{if(v(!0),W(!1),M){N(!0);try{await G(M.user,M.userData)}catch(d){w(d?.message||"Login failed after OTP verification"),N(!1)}}},G=async(i,d)=>{const o=d?.role||d?.businessType||"",p=String(o).toLowerCase().replace(/\s+/g,"").replace(/_/g,"");console.log("[Login] raw role:",o,"normalized role:",p),console.log("[Login] Full user data:",d),console.log("[Login] Role detection - raw:",o,"normalized:",p);let b="/dashboard";p.includes("retailer")?(console.log("[Login] Redirecting to retailer dashboard"),b="/dashboard"):p.includes("distributor")?(console.log("[Login] Redirecting to distributor dashboard"),b="/distributor-dashboard"):p.includes("productowner")||p.includes("product-owner")?(console.log("[Login] Redirecting to product owner dashboard"),b="/product-owner-dashboard"):(console.warn("[Login] Unknown role:",o,"normalized:",p,"defaulting to retailer dashboard"),b="/dashboard"),n(b,{replace:!0}),window.location.hostname!=="localhost"&&setTimeout(()=>{(window.location.pathname==="/auth?type=login"||window.location.pathname==="/auth")&&(console.log("[Login] React Router navigation failed, using window.location fallback"),window.location.href=b)},1e3)},Z=async()=>{if(!l.email){alert("Please enter your email first.");return}try{await Fe(K,l.email),alert("Password reset email sent. Please check your inbox.")}catch(i){console.error("Reset error:",i.message),w("Failed to send reset email. Check your email and try again.")}},ne=async()=>{w(""),N(!0);try{const i=new ke;i.setCustomParameters({prompt:"select_account"});const d=await me(K,i);await P(d.user)}catch(i){console.error("[Login] Google Sign-In Error:",i?.code,i?.message),w(i?.message||"Google sign-in failed. Try again or use email login.")}finally{N(!1)}},J=async()=>{try{if(w(""),N(!0),c==="ios"){const{SignInWithApple:L}=await be(async()=>{const{SignInWithApple:oe}=await import("./index-DcR4Vacn.js");return{SignInWithApple:oe}},__vite__mapDeps([0,1,2,3,4,5,6])),k=await L.authorize({scopes:"email name"});if(!k?.identityToken)throw new Error("Apple Sign In did not return an identity token.");const V=new ue("apple.com"),F={idToken:k.identityToken};k.nonce&&(F.rawNonce=k.nonce);const ie=V.credential(F),Y=(await Pe(K,ie)).user,le=A(ce,"businesses",Y.uid);if(!(await z(le)).exists()){const oe=Y.displayName||Y.email?.split("@")[0]||"User";await se(le,{ownerName:oe,email:Y.email||"",photoURL:Y.photoURL||"",role:"Retailer",createdAt:new Date,authProvider:"apple",ownerId:Y.uid},{merge:!0})}await P(Y);return}const i=new ue("apple.com");i.addScope("email"),i.addScope("name");const o=(await me(K,i)).user,p=A(ce,"businesses",o.uid);if(!(await z(p)).exists()){const L=o.displayName||o.email?.split("@")[0]||"User";await se(p,{ownerName:L,email:o.email||"",photoURL:o.photoURL||"",role:"Retailer",createdAt:new Date,authProvider:"apple",ownerId:o.uid},{merge:!0})}await P(o)}catch(i){console.error("[Login] Apple Sign-In Error:",i?.code,i?.message),i?.code==="auth/operation-not-allowed"?w("Sign in with Apple is not enabled for this app. Please enable it in Firebase Console â†’ Authentication â†’ Sign-in method â†’ Apple, then add your Apple Services ID, Team ID, Key ID and Private Key and Save."):w(i?.message||"Sign in with Apple failed. Try again or use email login.")}finally{N(!1)}},P=async i=>{const d=A(ce,"businesses",i.uid);let o=await z(d);o.exists()||(await se(d,{ownerName:i.displayName||"",email:i.email||"",photoURL:i.photoURL||"",role:"Retailer",createdAt:new Date,authProvider:i.providerData?.[0]?.providerId||"google",ownerId:i.uid},{merge:!0}),o=await z(d));const p=o.exists()?o.data():null,b=p?.role||p?.businessType||"Retailer",L=String(b).toLowerCase().replace(/\s+/g,"").replace(/_/g,"");let k="/dashboard";L.includes("distributor")?k="/distributor-dashboard":(L.includes("productowner")||L.includes("product-owner"))&&(k="/product-owner-dashboard"),n(k,{replace:!0}),window.location.hostname!=="localhost"&&setTimeout(()=>{(window.location.pathname==="/auth?type=login"||window.location.pathname==="/auth")&&(window.location.href=k)},1e3)};return e.jsxs("div",{className:"min-h-[100dvh] w-full relative overflow-hidden bg-gradient-to-br from-[#0B0F14] via-[#0D1117] to-[#0B0F14]",children:[e.jsx(g,{}),e.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-40",children:[e.jsx("div",{className:"absolute -top-24 -left-24 w-[60vmax] h-[60vmax] rounded-full blur-3xl bg-gradient-to-tr from-emerald-500/40 via-teal-400/30 to-cyan-400/30"}),e.jsx("div",{className:"absolute -bottom-24 -right-24 w-[50vmax] h-[50vmax] rounded-full blur-3xl bg-gradient-to-tr from-cyan-500/30 via-sky-400/20 to-emerald-400/30"})]}),e.jsx("div",{className:"relative z-10 flex items-center justify-center px-4 sm:px-6 py-8 sm:py-14 safe-top safe-bottom",children:e.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-white/20 bg-white/10 backdrop-blur-2xl shadow-[0_8px_40px_rgba(0,0,0,0.4)] relative",children:[S&&e.jsx("div",{className:"absolute left-0 top-0 h-1 w-full overflow-hidden rounded-t-3xl",children:e.jsx("div",{className:"h-full w-full animate-[loadbar_1.2s_ease-in-out_infinite] bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400"})}),e.jsxs("div",{className:"px-4 sm:px-7 md:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 text-center",children:[e.jsxs("div",{className:"mx-auto mb-3 sm:mb-4 inline-flex items-center gap-3",children:[e.jsx("img",{src:"/assets/flyp_logo.png",alt:"FLYP",className:"h-16 w-16 sm:h-20 sm:w-20 object-contain",onError:i=>i.target.style.display="none"}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full border border-white/20 text-white/80",children:"Sign In"})]}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Welcome back"}),e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-white/70",children:"Continue to your dashboard"})]}),f&&e.jsx("div",{className:"mx-4 sm:mx-7 md:mx-8 mb-3 text-rose-300 text-xs sm:text-sm bg-rose-900/30 border border-rose-500/30 rounded-lg px-3 py-2",children:f}),e.jsxs("div",{className:"px-4 sm:px-7 md:px-8 pb-2 space-y-3",children:[c!=="ios"&&e.jsxs("button",{type:"button",onClick:ne,disabled:S,className:"w-full flex items-center justify-center gap-3 py-3.5 sm:py-3 rounded-xl bg-white text-slate-900 font-semibold hover:bg-slate-100 active:scale-[0.98] transition disabled:opacity-70 disabled:cursor-not-allowed min-h-[48px] touch-target",children:[e.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"",className:"w-5 h-5"}),"Sign in with Google"]}),e.jsxs("button",{type:"button",onClick:J,disabled:S,className:"w-full flex items-center justify-center gap-3 py-3.5 sm:py-3 rounded-xl bg-black text-white font-semibold hover:bg-gray-900 active:scale-[0.98] transition disabled:opacity-70 disabled:cursor-not-allowed min-h-[48px] touch-target border border-white/20",children:[e.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"Sign in with Apple"]})]}),e.jsxs("div",{className:"flex items-center px-4 sm:px-7 md:px-8 pb-2",children:[e.jsx("div",{className:"flex-1 h-px bg-white/20"}),e.jsx("span",{className:"px-3 text-xs text-white/60",children:"or"}),e.jsx("div",{className:"flex-1 h-px bg-white/20"})]}),e.jsxs("form",{onSubmit:x,noValidate:!0,className:"px-4 sm:px-7 md:px-8 pb-6 sm:pb-8 space-y-4",children:[e.jsx("div",{className:"group",children:e.jsx("input",{type:"email",name:"email",placeholder:"Email address",value:l.email,onChange:O,required:!0,disabled:S,autoComplete:"email",className:"w-full px-4 py-3.5 sm:py-3 rounded-xl bg-white/10 text-white placeholder-white/60 border border-white/20 focus:outline-none focus:ring-2 focus:ring-emerald-400/60 focus:border-emerald-300/40 transition text-base sm:text-sm min-h-[48px]"})}),e.jsxs("div",{className:"group",children:[e.jsx("input",{type:"password",name:"password",placeholder:"Password",value:l.password,onChange:O,required:!0,disabled:S,autoComplete:"current-password",className:"w-full px-4 py-3.5 sm:py-3 rounded-xl bg-white/10 text-white placeholder-white/60 border border-white/20 focus:outline-none focus:ring-2 focus:ring-emerald-400/60 focus:border-emerald-300/40 transition text-base sm:text-sm min-h-[48px]"}),e.jsx("div",{className:"mt-2 text-right",children:e.jsx("button",{type:"button",onClick:Z,className:"text-xs text-emerald-300/90 hover:text-emerald-200 underline underline-offset-4",children:"Forgot password?"})})]}),e.jsx("button",{type:"submit",onClick:x,disabled:S,className:`w-full py-4 sm:py-3 rounded-xl font-semibold text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_10px_30px_rgba(16,185,129,0.35)] transition focus:outline-none focus:ring-2 focus:ring-emerald-400/60 active:scale-[.98] min-h-[52px] touch-target no-select ${S?"opacity-70 cursor-not-allowed":""}`,children:S?e.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Signing inâ€¦"]}):"Sign In"}),e.jsxs("div",{className:"pt-2 text-center text-xs text-white/70",children:["By continuing you agree to FLYPâ€™s ",e.jsx("span",{className:"underline decoration-white/30",children:"Terms"})," & ",e.jsx("span",{className:"underline decoration-white/30",children:"Privacy"})]})]}),e.jsx("div",{className:"px-4 sm:px-7 md:px-8 pb-4 sm:pb-6 text-right",children:e.jsx("button",{onClick:async()=>{try{await Be("all"),n("/")}catch(i){console.error("Error during sign out:",i),n("/")}},disabled:S,className:"text-xs text-red-300/90 hover:text-red-200 underline underline-offset-4 transition py-2 px-2 min-h-[44px] touch-target",children:"Sign out"})})]})}),E&&r&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:e.jsx("div",{className:"relative w-full max-w-md rounded-3xl border border-white/20 bg-white/10 backdrop-blur-2xl shadow-2xl overflow-hidden",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsx("button",{onClick:()=>{W(!1),v(!1),h(null),K.signOut()},className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors","aria-label":"Close",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx(Ee,{phone:r,onVerified:U,onError:i=>{w(i?.message||"OTP verification failed")},onCancel:()=>{W(!1),v(!1),h(null),K.signOut()},autoSend:!0,themeColor:"rgb(16, 185, 129)"})]})})})]})},at=()=>{const{user:n}=u.useContext(Oe),c=we(),l=Ne(),[s]=$e(),f=s.get("type"),[w,S]=u.useState(""),[N,E]=u.useState(!0);if(u.useEffect(()=>{if(!f){c("/auth?type=login",{replace:!0});return}},[f,c]),u.useEffect(()=>{if(typeof window<"u"&&sessionStorage.getItem("postSignupRole")||null){E(!1);return}if(f==="login"){E(!1);return}f!=="login"&&(async()=>{if(!n){E(!1);return}try{if(n.customClaims?.isDistributorEmployee){!l.pathname.includes("/distributor-employee-dashboard")&&!l.pathname.includes("/distributor-employee-login")&&c("/distributor-employee-dashboard",{replace:!0}),E(!1);return}if(sessionStorage.getItem("postSignupRole")!==null){E(!1);return}const v=A(ye,"businesses",n.uid),M=await z(v);if(M.exists()){const h=M.data(),O=(h.role||h.businessType||"").toString().toLowerCase().replace(/\s+/g,"").replace(/_/g,"");O==="retailer"?l.pathname.includes("/dashboard")||c("/dashboard",{replace:!0}):O==="distributor"?l.pathname.includes("/distributor-dashboard")||c("/distributor-dashboard",{replace:!0}):O==="productowner"?l.pathname.includes("/product-owner-dashboard")||c("/product-owner-dashboard",{replace:!0}):l.pathname.includes("/")||c("/",{replace:!0})}else{if(sessionStorage.getItem("postSignupRole")){E(!1);return}l.pathname.includes("/auth")||c("/")}}catch(I){sessionStorage.getItem("postSignupRole")!==null||(console.error("Error fetching user role:",I),l.pathname.includes("/auth")||c("/"))}finally{E(!1)}})()},[n,f]),u.useEffect(()=>{typeof window<"u"&&sessionStorage.getItem("postSignupRole")||!n||f!=="register"||(async()=>{try{const C=A(ye,"businesses",n.uid),I=await z(C);if(I.exists()){const v=I.data(),h=(v.role||v.businessType||"").toString().toLowerCase().replace(/\s+/g,"").replace(/_/g,"");h==="retailer"?l.pathname.includes("/dashboard")||c("/dashboard",{replace:!0}):h==="distributor"?l.pathname.includes("/distributor-dashboard")||c("/distributor-dashboard",{replace:!0}):h==="productowner"?l.pathname.includes("/product-owner-dashboard")||c("/product-owner-dashboard",{replace:!0}):l.pathname.includes("/")||c("/",{replace:!0})}else!sessionStorage.getItem("postSignupRole")&&!l.pathname.includes("/")&&c("/",{replace:!0})}catch(C){console.error("Error resolving role for register guard:",C),!sessionStorage.getItem("postSignupRole")&&!l.pathname.includes("/")&&c("/",{replace:!0})}})()},[n,f,c,l.pathname]),N)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center",children:e.jsx("p",{className:"text-white text-lg animate-pulse",children:"Loading..."})});const W=r=>{S(r)};return e.jsx("div",{className:"min-h-[100dvh] bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center safe-top safe-bottom",children:e.jsxs(e.Fragment,{children:[f==="register"&&!w&&e.jsxs("div",{className:"relative w-full min-h-screen text-white overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 -z-10",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0a0e1a] via-[#0f1419] to-[#0a0e1a]"}),e.jsx("div",{className:"absolute inset-0 [background:radial-gradient(ellipse_80%_50%_at_20%_20%,rgba(56,189,248,0.15),transparent_70%)]"}),e.jsx("div",{className:"absolute inset-0 [background:radial-gradient(ellipse_80%_50%_at_80%_80%,rgba(217,70,239,0.12),transparent_70%)]"}),e.jsx("div",{className:"absolute inset-0 [background:radial-gradient(ellipse_60%_40%_at_50%_50%,rgba(16,185,129,0.08),transparent_80%)]"}),e.jsx("div",{className:"absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,black_35%,transparent_100%)] bg-black/20 pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[url('data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%22160%22%20height=%22160%22%20viewBox=%220%200%20160%20160%22%3E%3Cfilter%20id=%22n%22%3E%3CfeTurbulence%20type=%22fractalNoise%22%20baseFrequency=%220.8%22%20numOctaves=%222%22/%3E%3C/filter%3E%3Crect%20width=%22160%22%20height=%22160%22%20filter=%22url(%23n)%22%20opacity=%220.6%22/%3E%3C/svg%3E')]"})]}),e.jsxs("div",{className:"mx-auto max-w-7xl grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16 px-4 sm:px-6 py-12 sm:py-16 lg:py-24 relative",children:[e.jsx("div",{className:"hidden lg:flex flex-col justify-center",children:e.jsxs("div",{className:"max-w-xl space-y-6 animate-fadeIn",children:[e.jsxs("div",{className:"inline-flex items-center gap-3 px-4 py-2 rounded-full bg-gradient-to-r from-cyan-500/20 to-fuchsia-500/20 border border-cyan-500/30 text-[11px] tracking-widest uppercase text-cyan-300 font-medium backdrop-blur-sm",children:[e.jsx("img",{src:"/assets/flyp_logo.png",alt:"FLYP",className:"h-12 w-12 sm:h-14 sm:w-14 object-contain",onError:r=>r.target.style.display="none"}),e.jsx("span",{children:"Choose Your Role"})]}),e.jsxs("h1",{className:"text-5xl font-extrabold tracking-tight text-white leading-[1.1]",children:["Built for ",e.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-blue-400 to-fuchsia-400 bg-clip-text text-transparent",children:"Retailers"}),", ",e.jsx("span",{className:"bg-gradient-to-r from-orange-400 via-amber-400 to-yellow-400 bg-clip-text text-transparent",children:"Distributors"}),", and ",e.jsx("span",{className:"bg-gradient-to-r from-red-400 via-pink-400 to-rose-400 bg-clip-text text-transparent",children:"Product Owners"}),"."]}),e.jsx("p",{className:"text-lg text-slate-300/90 leading-relaxed",children:"Pick the role that best describes your business. You'll get tailored dashboards, permissions, and workflows â€” no extra clutter."}),e.jsx("div",{className:"mt-8 space-y-5",children:[{title:"Roleâ€‘based views",desc:"We only show what matters to your job to keep things fast.",icon:"ðŸ‘ï¸"},{title:"Instant onboarding",desc:"AI/OCR tooling to bring your catalog and billing live in minutes.",icon:"âš¡"},{title:"Connected workflows",desc:"Retailer â†” Distributor ordering, dispatch, and credit cycles.",icon:"ðŸ”—"}].map((r,C)=>e.jsxs("div",{className:"flex items-start gap-4 group/item",children:[e.jsx("div",{className:"mt-1 flex-shrink-0 w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-500/20 to-fuchsia-500/20 border border-cyan-500/30 flex items-center justify-center text-lg backdrop-blur-sm group-hover/item:scale-110 transition-transform duration-300",children:r.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-base font-bold text-white mb-1",children:r.title}),e.jsx("div",{className:"text-sm text-slate-300/80 leading-relaxed",children:r.desc})]})]},C))}),e.jsx("div",{className:"mt-10 pt-8 border-t border-white/10",children:e.jsx("div",{className:"grid grid-cols-3 gap-6",children:[{label:"Billing",desc:"UPI/Cash/Card, credit cycles"},{label:"Inventory",desc:"OCR & AI onboarding"},{label:"Dispatch",desc:"Track requests to delivery"}].map((r,C)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-bold text-white mb-1.5",children:r.label}),e.jsx("div",{className:"text-xs text-slate-400 leading-relaxed",children:r.desc})]},C))})})]})}),e.jsx("div",{className:"flex items-center justify-center lg:justify-end",children:e.jsxs("div",{className:"w-full max-w-lg relative",children:[e.jsx("div",{className:"absolute -inset-2 rounded-3xl bg-gradient-to-r from-cyan-500/40 via-blue-500/40 to-fuchsia-500/40 blur-3xl opacity-60 animate-pulse"}),e.jsx("div",{className:"absolute -inset-1 rounded-3xl bg-gradient-to-r from-emerald-500/20 via-teal-500/20 to-cyan-500/20 blur-2xl"}),e.jsxs("div",{className:"relative rounded-3xl border border-white/20 bg-gradient-to-br from-white/10 via-white/5 to-white/10 backdrop-blur-2xl p-8 sm:p-10 shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-white to-slate-200 bg-clip-text text-transparent",children:"Select your role"}),e.jsx("p",{className:"text-slate-300/80 text-sm",children:"We'll customize FLYP for your workflow"})]}),e.jsx("div",{className:"space-y-4",children:[{role:"Retailer",icon:"ðŸ›ï¸",desc:"Sell to end customers with fast billing & inventory",gradient:"from-pink-500/20 to-rose-500/20",borderGradient:"from-pink-400/50 to-rose-400/50",hoverGlow:"group-hover:shadow-pink-500/20"},{role:"Distributor",icon:"ðŸšš",desc:"Supply retailers, manage orders, dispatch & credit",gradient:"from-orange-500/20 to-amber-500/20",borderGradient:"from-orange-400/50 to-amber-400/50",hoverGlow:"group-hover:shadow-orange-500/20"},{role:"ProductOwner",icon:"ðŸ­",desc:"Own the brand, track distributors & performance",gradient:"from-red-500/20 to-pink-500/20",borderGradient:"from-red-400/50 to-pink-400/50",hoverGlow:"group-hover:shadow-red-500/20"}].map((r,C)=>e.jsx("button",{type:"button",onClick:()=>W(r.role),"aria-label":`Select ${r.role}`,className:`group w-full text-left rounded-2xl border-2 border-white/10 bg-gradient-to-br ${r.gradient} p-6 transition-all duration-300 hover:-translate-y-1 hover:scale-[1.02] hover:border-white/30 hover:shadow-2xl ${r.hoverGlow} focus:outline-none focus:ring-2 focus:ring-cyan-400/60 focus:ring-offset-2 focus:ring-offset-transparent backdrop-blur-sm`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl transform group-hover:scale-110 transition-transform duration-300",children:r.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xl font-bold text-white mb-1.5",children:r.role==="ProductOwner"?"Product Owner":r.role}),e.jsx("div",{className:"text-sm text-slate-300/90 leading-relaxed",children:r.desc})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("svg",{className:"w-6 h-6 text-white/60",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},C))}),e.jsx("div",{className:"flex justify-center mt-8 pt-6 border-t border-white/10",children:e.jsx("button",{className:"text-sm text-slate-400 hover:text-white hover:bg-white/10 px-5 py-2.5 rounded-xl transition-all duration-200 font-medium",onClick:()=>c("/"),children:"Cancel"})})]})]})})]})]}),f==="register"&&w&&e.jsx("div",{className:"animate-slideInFromRight",children:e.jsx(Xe,{role:w})}),f==="login"&&e.jsx(Ze,{})]})})};export{at as default};
