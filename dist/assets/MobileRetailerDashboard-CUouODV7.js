const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MarketplaceSetup-SxpMsX3o.js","assets/index-DRC3F7i0.js","assets/vendor-Ckhrjn13.js","assets/router-BPBaD_i0.js","assets/firebase-DWi1MSv1.js","assets/index.esm-Bux_mLJ0.js","assets/index-BwRLlX-x.css","assets/index-CprmGC-M.js","assets/marketplaceOffers-DYmwRj2h.js","assets/retailerMarketplaceService-JKOUhufm.js","assets/esm-LCaBFwtY.js","assets/proxy-BgUy8BPw.js","assets/MarketplaceProducts-D3UBa6Kh.js","assets/index-DSciU07p.js","assets/CustomerOrders-DH_mm2MX.js","assets/deliveryEmployeeService-DSIf8GOm.js","assets/ViewInventory-xVU3Snek.js","assets/fetchGoogleImages-y1ah5QvM.js","assets/logInventoryChange-kGfLyhaN.js","assets/looseProductUtils-DQPoVx_a.js","assets/RestockOrderHistory-BifXGS1-.js","assets/index-aK8Jn4kw.js","assets/pdf-DQxUCnop.js","assets/ManualEntryForm-DXfm1qN8.js","assets/MagicScanDisplay-BEI3JqVX.js","assets/pricing-SUVGnFgL.js","assets/OCRUploadForm-C4mXc3jQ.js","assets/AddInventoryAI-zxizO1Ls.js","assets/AdvancedBrandInputForm-SuxBeOfL.js","assets/Billing-C0qzZp_W.js","assets/BillingSettings-DR-owPbP.js","assets/CustomerForm-oVhzeonX.js","assets/FileSaver.min-DVuNBBJs.js","assets/index-CbpqHhv-.js","assets/bidi-DLACMwmw.js","assets/ManageEmployee-Dj0cKIKg.js","assets/index-BrhajXHK.js","assets/ProfileSettings-b0gwSSn1.js","assets/WhatsAppConnection-C8P9Ymrj.js","assets/whatsappConfig-B767RKqS.js","assets/LanguageSwitcher-BHE27wEu.js","assets/useTranslation-C_4YkXWs.js"])))=>i.map(i=>d[i]);
import{j as e,l as V,d as b,_ as n}from"./index-DRC3F7i0.js";import{r as a}from"./router-BPBaD_i0.js";import{e as G,g as _,d as U,c as k}from"./firebase-DWi1MSv1.js";import{M as $,a as W}from"./MobileHeader-DBovf1Yi.js";import{ak as B,a2 as M,r as Y,al as P,am as K,F as Q,ae as q,x as J,k as X,a as Z,ac as ee,af as te}from"./index-CprmGC-M.js";import{H as ae}from"./index-CNZ3HuWf.js";import{Haptics as se,ImpactStyle as ie}from"./index-CjDO0J1E.js";import{m as d}from"./proxy-BgUy8BPw.js";import{A as oe}from"./index-DSciU07p.js";import"./vendor-Ckhrjn13.js";import"./index.esm-Bux_mLJ0.js";const F=async()=>{try{await se.impact({style:ie.Light})}catch{}},le=({feature:t,onPress:r,delay:o=0})=>{const c=t.icon;return e.jsxs(d.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.05,duration:.3},whileTap:{scale:.96},onClick:async()=>{await F(),r(t.id)},className:`relative flex flex-col items-center justify-center p-3 rounded-xl 
        ${t.gradient} shadow-lg shadow-black/20 overflow-hidden
        active:shadow-inner transition-all duration-200`,style:{aspectRatio:"1/1"},children:[e.jsx("div",{className:"absolute inset-0 opacity-20",children:e.jsx("div",{className:"absolute -right-4 -bottom-4 w-20 h-20 rounded-full bg-white/20"})}),t.badge&&e.jsx("span",{className:"absolute top-2 right-2 px-2 py-0.5 text-[10px] font-bold bg-white/25 rounded-full text-white",children:t.badge}),e.jsx("div",{className:"relative z-10 mb-1",children:e.jsx(c,{className:"text-2xl text-white drop-shadow-lg"})}),e.jsx("span",{className:"relative z-10 text-[11px] font-semibold text-white text-center leading-tight",children:t.label})]})},h=({label:t,value:r,icon:o,color:c})=>e.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-xl bg-white/5 border border-white/10",children:[e.jsx("div",{className:`w-9 h-9 rounded-lg ${c} flex items-center justify-center flex-shrink-0`,children:e.jsx(o,{className:"text-white text-base"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-base font-bold text-white truncate",children:r}),e.jsx("p",{className:"text-[11px] text-gray-400 truncate",children:t})]})]}),re=({onNavigate:t,userData:r,stats:o})=>{const[c,p]=a.useState("");a.useEffect(()=>{const l=new Date().getHours();l<12?p("Good Morning"):l<17?p("Good Afternoon"):p("Good Evening")},[]);const y=[{id:"marketplace",label:"Marketplace",icon:K,gradient:"bg-gradient-to-br from-emerald-500 to-teal-600",badge:"NEW"},{id:"inventory",label:"Inventory",icon:B,gradient:"bg-gradient-to-br from-amber-500 to-orange-600"},{id:"billing",label:"Billing",icon:M,gradient:"bg-gradient-to-br from-blue-500 to-indigo-600"},{id:"employees",label:"Manage Employee",icon:P,gradient:"bg-gradient-to-br from-violet-500 to-purple-600"},{id:"profile",label:"Profile",icon:Q,gradient:"bg-gradient-to-br from-slate-500 to-slate-600"}],g=[{icon:X,label:"Analytics"},{icon:Z,label:"Distributors"},{icon:ee,label:"Order History"},{icon:te,label:"POS Mode"}];return e.jsxs("div",{className:"px-1 py-0 pb-2",children:[e.jsxs(d.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-2",children:[e.jsxs("p",{className:"text-gray-400 text-xs",children:[c," ðŸ‘‹"]}),e.jsx("h1",{className:"text-lg font-bold text-white",children:r?.ownerName?.split(" ")[0]||"Welcome"}),e.jsx("p",{className:"text-[11px] text-gray-500 mt-0.5",children:r?.businessName||"Your Store"})]}),e.jsxs(d.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05},className:"grid grid-cols-2 gap-1.5 mb-2",children:[e.jsx(h,{label:"Products",value:o?.products??0,icon:B,color:"bg-purple-500"}),e.jsx(h,{label:"Orders",value:o?.orders??0,icon:M,color:"bg-blue-500"}),e.jsx(h,{label:"Revenue",value:`â‚¹${(o?.revenue??0).toLocaleString("en-IN")}`,icon:Y,color:"bg-emerald-500"}),e.jsx(h,{label:"Employees",value:o?.employees??0,icon:P,color:"bg-amber-500"})]}),e.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"flex items-center justify-between mb-2",children:e.jsx("h2",{className:"text-sm font-semibold text-white",children:"App features"})}),e.jsx("div",{className:"grid grid-cols-3 gap-1.5 mb-2",children:y.map((l,m)=>e.jsx(le,{feature:l,onPress:t,delay:m},l.id))}),e.jsx(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-2 p-2.5 rounded-xl bg-gradient-to-r from-emerald-500/20 to-cyan-500/20 border border-emerald-500/30",children:e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-emerald-400 to-cyan-500 flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx(ae,{className:"text-white text-xl"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Quick Billing"}),e.jsx("p",{className:"text-[11px] text-gray-400",children:"Create invoice in seconds"})]}),e.jsx("button",{type:"button",onClick:async()=>{await F(),t("billing")},className:"w-9 h-9 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0",children:e.jsx(q,{className:"text-emerald-400 text-sm"})})]})}),e.jsxs(d.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-2.5 rounded-xl bg-white/5 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(J,{className:"text-emerald-400 text-base"}),e.jsx("h3",{className:"text-sm font-semibold text-white",children:"More on web"})]}),e.jsx("p",{className:"text-[11px] text-gray-400 mb-2",children:"Use FLYP on desktop for full experience:"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:g.map(l=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-white/5 border border-white/10 text-gray-300 text-[11px]",children:[e.jsx(l.icon,{className:"text-emerald-400/80 text-xs"}),l.label]},l.label))})]})]})},ne=a.lazy(()=>n(()=>import("./MarketplaceSetup-SxpMsX3o.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),ce=a.lazy(()=>n(()=>import("./MarketplaceProducts-D3UBa6Kh.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,9,8,13,11]))),de=a.lazy(()=>n(()=>import("./CustomerOrders-DH_mm2MX.js"),__vite__mapDeps([14,1,2,3,4,5,6,7,9,15,11,13]))),me=a.lazy(()=>n(()=>import("./ViewInventory-xVU3Snek.js"),__vite__mapDeps([16,1,2,3,4,5,6,17,18,19,20,21,22]))),xe=a.lazy(()=>n(()=>import("./ManualEntryForm-DXfm1qN8.js"),__vite__mapDeps([23,1,2,3,4,5,6,24,25,18,19]))),pe=a.lazy(()=>n(()=>import("./OCRUploadForm-C4mXc3jQ.js"),__vite__mapDeps([26,1,2,3,4,5,6,18]))),ue=a.lazy(()=>n(()=>import("./AddInventoryAI-zxizO1Ls.js"),__vite__mapDeps([27,1,2,3,4,5,6,18,28]))),be=a.lazy(()=>n(()=>import("./Billing-C0qzZp_W.js"),__vite__mapDeps([29,1,2,3,4,5,6,30,31,32,33,34]))),he=a.lazy(()=>n(()=>import("./ManageEmployee-Dj0cKIKg.js"),__vite__mapDeps([35,1,2,3,4,5,6,36,7]))),ye=a.lazy(()=>n(()=>import("./ProfileSettings-b0gwSSn1.js"),__vite__mapDeps([37,1,2,3,4,5,6,38,7,39,13,11,40,41]))),ge=()=>e.jsx("div",{className:"flex items-center justify-center min-h-[40vh]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-emerald-500 border-t-transparent animate-spin"}),e.jsx("span",{className:"text-gray-400 text-sm",children:"Loading..."})]})}),A={home:{title:"FLYP",subtitle:"Retailer",showBack:!1,isMainTab:!0},marketplace:{title:"Marketplace",subtitle:"Store & orders",showBack:!1,isMainTab:!0},inventory:{title:"Inventory",subtitle:"Products & stock",showBack:!1,isMainTab:!0},billing:{title:"Billing",subtitle:"Invoices",showBack:!1,isMainTab:!0},employees:{title:"Manage Employee",subtitle:"Team",showBack:!0,isMainTab:!1},profile:{title:"Profile",subtitle:"Settings",showBack:!1,isMainTab:!0}},Be=()=>{const[t,r]=a.useState("home"),[o,c]=a.useState(null),[p,y]=a.useState(null),[g,l]=a.useState({products:0,orders:0,revenue:0,employees:0}),[m,C]=a.useState("orders"),[f,O]=a.useState("view"),[u,R]=a.useState("manual"),i=V.currentUser?.uid;a.useEffect(()=>{const s=document.body.style.overflow,x=document.documentElement.style.overflow,j=document.body.style.backgroundColor,w=document.documentElement.style.backgroundColor;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.body.style.height="100%",document.documentElement.style.height="100%",document.body.style.backgroundColor="#0B0F14",document.documentElement.style.backgroundColor="#0B0F14",()=>{document.body.style.overflow=s,document.documentElement.style.overflow=x,document.body.style.height="",document.documentElement.style.height="",document.body.style.backgroundColor=j,document.documentElement.style.backgroundColor=w}},[]),a.useEffect(()=>{if(!i)return;(async()=>{try{const[x,j,w]=await Promise.all([G(U(b,"businesses",i)),_(k(b,"businesses",i,"products")),_(k(b,"businesses",i,"employees"))]);x.exists()&&y(x.data());let T=0,S=0;try{const N=await _(k(b,"businesses",i,"invoices"));T=N.size,N.docs.forEach(I=>{const H=I.data().paidAmount??I.data().total??0;S+=Number(H)})}catch{}l({products:j.size,orders:T,revenue:S,employees:w.size})}catch(x){console.error("Error fetching retailer data:",x)}})()},[i]);const E=s=>{c(t),r(s)},D=()=>{o?(r(o),c(null)):r("home")},v=A[t]||A.home,L=()=>e.jsx(a.Suspense,{fallback:e.jsx(ge,{}),children:e.jsx(oe,{mode:"wait",children:e.jsxs(d.div,{initial:{opacity:0,x:16},animate:{opacity:1,x:0},exit:{opacity:0,x:-16},transition:{duration:.2},className:"min-h-full",children:[t==="home"&&e.jsx(re,{onNavigate:E,userData:p,stats:g}),t==="marketplace"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[11px] font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-1 scrollbar-hide",children:[{id:"orders",label:"Orders",icon:"ðŸ›’"},{id:"products",label:"Products",icon:"ðŸ“¦"},{id:"setup",label:"Setup",icon:"âš™ï¸"}].map(s=>e.jsxs("button",{type:"button",onClick:()=>C(s.id),className:`flex-shrink-0 px-4 py-2.5 rounded-xl text-sm font-medium transition ${m===s.id?"bg-emerald-500 text-slate-900":"bg-white/10 text-white"}`,children:[s.icon," ",s.label]},s.id))}),e.jsxs("div",{className:"min-h-0",children:[m==="orders"&&e.jsx(de,{}),m==="products"&&e.jsx(ce,{}),m==="setup"&&e.jsx(ne,{})]})]}),t==="inventory"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[11px] font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-1 scrollbar-hide",children:[{id:"view",label:"View"},{id:"add",label:"Add"}].map(s=>e.jsx("button",{type:"button",onClick:()=>O(s.id),className:`flex-shrink-0 px-4 py-2.5 rounded-xl text-sm font-medium transition ${f===s.id?"bg-emerald-500 text-slate-900":"bg-white/10 text-white"}`,children:s.label},s.id))}),f==="view"&&i&&e.jsx(me,{userId:i}),f==="add"&&i&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[11px] font-medium text-gray-500 uppercase tracking-wider",children:"Add method"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:["manual","ocr","ai"].map(s=>e.jsx("button",{type:"button",onClick:()=>R(s),className:`px-3 py-2 rounded-xl text-sm font-medium ${u===s?"bg-emerald-500 text-slate-900":"bg-white/10 text-white"}`,children:s==="manual"?"Manual":s==="ocr"?"OCR":"AI"},s))}),u==="manual"&&e.jsx(xe,{userId:i}),u==="ocr"&&e.jsx(pe,{userId:i}),u==="ai"&&e.jsx(ue,{userId:i})]})]}),t==="billing"&&e.jsx(be,{}),t==="employees"&&e.jsx(he,{}),t==="profile"&&e.jsx(ye,{})]},t)})}),z=["home","marketplace","inventory","billing","employees","profile"].includes(t)?t:"home";return e.jsxs("div",{className:"fixed inset-0 z-10 h-[100dvh] max-h-[100dvh] bg-gradient-to-br from-[#0B0F14] via-[#0D1117] to-[#0B0F14] flex flex-col overflow-hidden",style:{height:"100dvh",maxHeight:"100dvh"},children:[e.jsx($,{title:v.title,subtitle:v.subtitle,showBack:v.showBack,onBackPress:D,showSearch:t==="inventory"}),e.jsx("main",{className:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden overscroll-contain",style:{paddingTop:"calc(62px + max(env(safe-area-inset-top) - 12px, 2px))",paddingBottom:"calc(64px + env(safe-area-inset-bottom))",WebkitOverflowScrolling:"touch"},children:e.jsx("div",{className:"px-3 pt-3 pb-3",children:L()})}),e.jsx(W,{activeTab:z,onTabChange:E,userRole:"retailer"})]})};export{Be as default};
