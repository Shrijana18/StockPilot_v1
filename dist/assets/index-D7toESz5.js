(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const Re of document.querySelectorAll('link[rel="modulepreload"]'))Pe(Re);new MutationObserver(Re=>{for(const Ie of Re)if(Ie.type==="childList")for(const Be of Ie.addedNodes)Be.tagName==="LINK"&&Be.rel==="modulepreload"&&Pe(Be)}).observe(document,{childList:!0,subtree:!0});function Ce(Re){const Ie={};return Re.integrity&&(Ie.integrity=Re.integrity),Re.referrerPolicy&&(Ie.referrerPolicy=Re.referrerPolicy),Re.crossOrigin==="use-credentials"?Ie.credentials="include":Re.crossOrigin==="anonymous"?Ie.credentials="omit":Ie.credentials="same-origin",Ie}function Pe(Re){if(Re.ep)return;Re.ep=!0;const Ie=Ce(Re);fetch(Re.href,Ie)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Ee){return Ee&&Ee.__esModule&&Object.prototype.hasOwnProperty.call(Ee,"default")?Ee.default:Ee}function getAugmentedNamespace(Ee){if(Object.prototype.hasOwnProperty.call(Ee,"__esModule"))return Ee;var _e=Ee.default;if(typeof _e=="function"){var Ce=function Pe(){var Re=!1;try{Re=this instanceof Pe}catch{}return Re?Reflect.construct(_e,arguments,this.constructor):_e.apply(this,arguments)};Ce.prototype=_e.prototype}else Ce={};return Object.defineProperty(Ce,"__esModule",{value:!0}),Object.keys(Ee).forEach(function(Pe){var Re=Object.getOwnPropertyDescriptor(Ee,Pe);Object.defineProperty(Ce,Pe,Re.get?Re:{enumerable:!0,get:function(){return Ee[Pe]}})}),Ce}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var Ee=Symbol.for("react.transitional.element"),_e=Symbol.for("react.fragment");function Ce(Pe,Re,Ie){var Be=null;if(Ie!==void 0&&(Be=""+Ie),Re.key!==void 0&&(Be=""+Re.key),"key"in Re){Ie={};for(var je in Re)je!=="key"&&(Ie[je]=Re[je])}else Ie=Re;return Re=Ie.ref,{$$typeof:Ee,type:Pe,key:Be,ref:Re!==void 0?Re:null,props:Ie}}return reactJsxRuntime_production.Fragment=_e,reactJsxRuntime_production.jsx=Ce,reactJsxRuntime_production.jsxs=Ce,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var Ee=Symbol.for("react.transitional.element"),_e=Symbol.for("react.portal"),Ce=Symbol.for("react.fragment"),Pe=Symbol.for("react.strict_mode"),Re=Symbol.for("react.profiler"),Ie=Symbol.for("react.consumer"),Be=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),Fe=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),ke=Symbol.iterator;function Me(wr){return wr===null||typeof wr!="object"?null:(wr=ke&&wr[ke]||wr["@@iterator"],typeof wr=="function"?wr:null)}var $e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},He=Object.assign,Qe={};function Ke(wr,jr,hr){this.props=wr,this.context=jr,this.refs=Qe,this.updater=hr||$e}Ke.prototype.isReactComponent={},Ke.prototype.setState=function(wr,jr){if(typeof wr!="object"&&typeof wr!="function"&&wr!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,wr,jr,"setState")},Ke.prototype.forceUpdate=function(wr){this.updater.enqueueForceUpdate(this,wr,"forceUpdate")};function ze(){}ze.prototype=Ke.prototype;function We(wr,jr,hr){this.props=wr,this.context=jr,this.refs=Qe,this.updater=hr||$e}var qe=We.prototype=new ze;qe.constructor=We,He(qe,Ke.prototype),qe.isPureReactComponent=!0;var Ye=Array.isArray,Xe={H:null,A:null,T:null,S:null,V:null},rr=Object.prototype.hasOwnProperty;function Je(wr,jr,hr,_r,Pr,Cr){return hr=Cr.ref,{$$typeof:Ee,type:wr,key:jr,ref:hr!==void 0?hr:null,props:Cr}}function er(wr,jr){return Je(wr.type,jr,void 0,void 0,void 0,wr.props)}function or(wr){return typeof wr=="object"&&wr!==null&&wr.$$typeof===Ee}function pr(wr){var jr={"=":"=0",":":"=2"};return"$"+wr.replace(/[=:]/g,function(hr){return jr[hr]})}var ar=/\/+/g;function fr(wr,jr){return typeof wr=="object"&&wr!==null&&wr.key!=null?pr(""+wr.key):jr.toString(36)}function gr(){}function Rr(wr){switch(wr.status){case"fulfilled":return wr.value;case"rejected":throw wr.reason;default:switch(typeof wr.status=="string"?wr.then(gr,gr):(wr.status="pending",wr.then(function(jr){wr.status==="pending"&&(wr.status="fulfilled",wr.value=jr)},function(jr){wr.status==="pending"&&(wr.status="rejected",wr.reason=jr)})),wr.status){case"fulfilled":return wr.value;case"rejected":throw wr.reason}}throw wr}function Ir(wr,jr,hr,_r,Pr){var Cr=typeof wr;(Cr==="undefined"||Cr==="boolean")&&(wr=null);var Or=!1;if(wr===null)Or=!0;else switch(Cr){case"bigint":case"string":case"number":Or=!0;break;case"object":switch(wr.$$typeof){case Ee:case _e:Or=!0;break;case Oe:return Or=wr._init,Ir(Or(wr._payload),jr,hr,_r,Pr)}}if(Or)return Pr=Pr(wr),Or=_r===""?"."+fr(wr,0):_r,Ye(Pr)?(hr="",Or!=null&&(hr=Or.replace(ar,"$&/")+"/"),Ir(Pr,jr,hr,"",function(Kr){return Kr})):Pr!=null&&(or(Pr)&&(Pr=er(Pr,hr+(Pr.key==null||wr&&wr.key===Pr.key?"":(""+Pr.key).replace(ar,"$&/")+"/")+Or)),jr.push(Pr)),1;Or=0;var Yr=_r===""?".":_r+":";if(Ye(wr))for(var qr=0;qr<wr.length;qr++)_r=wr[qr],Cr=Yr+fr(_r,qr),Or+=Ir(_r,jr,hr,Cr,Pr);else if(qr=Me(wr),typeof qr=="function")for(wr=qr.call(wr),qr=0;!(_r=wr.next()).done;)_r=_r.value,Cr=Yr+fr(_r,qr++),Or+=Ir(_r,jr,hr,Cr,Pr);else if(Cr==="object"){if(typeof wr.then=="function")return Ir(Rr(wr),jr,hr,_r,Pr);throw jr=String(wr),Error("Objects are not valid as a React child (found: "+(jr==="[object Object]"?"object with keys {"+Object.keys(wr).join(", ")+"}":jr)+"). If you meant to render a collection of children, use an array instead.")}return Or}function mr(wr,jr,hr){if(wr==null)return wr;var _r=[],Pr=0;return Ir(wr,_r,"","",function(Cr){return jr.call(hr,Cr,Pr++)}),_r}function Er(wr){if(wr._status===-1){var jr=wr._result;jr=jr(),jr.then(function(hr){(wr._status===0||wr._status===-1)&&(wr._status=1,wr._result=hr)},function(hr){(wr._status===0||wr._status===-1)&&(wr._status=2,wr._result=hr)}),wr._status===-1&&(wr._status=0,wr._result=jr)}if(wr._status===1)return wr._result.default;throw wr._result}var Ar=typeof reportError=="function"?reportError:function(wr){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var jr=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof wr=="object"&&wr!==null&&typeof wr.message=="string"?String(wr.message):String(wr),error:wr});if(!window.dispatchEvent(jr))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",wr);return}console.error(wr)};function br(){}return react_production.Children={map:mr,forEach:function(wr,jr,hr){mr(wr,function(){jr.apply(this,arguments)},hr)},count:function(wr){var jr=0;return mr(wr,function(){jr++}),jr},toArray:function(wr){return mr(wr,function(jr){return jr})||[]},only:function(wr){if(!or(wr))throw Error("React.Children.only expected to receive a single React element child.");return wr}},react_production.Component=Ke,react_production.Fragment=Ce,react_production.Profiler=Re,react_production.PureComponent=We,react_production.StrictMode=Pe,react_production.Suspense=De,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Xe,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(wr){return Xe.H.useMemoCache(wr)}},react_production.cache=function(wr){return function(){return wr.apply(null,arguments)}},react_production.cloneElement=function(wr,jr,hr){if(wr==null)throw Error("The argument must be a React element, but you passed "+wr+".");var _r=He({},wr.props),Pr=wr.key,Cr=void 0;if(jr!=null)for(Or in jr.ref!==void 0&&(Cr=void 0),jr.key!==void 0&&(Pr=""+jr.key),jr)!rr.call(jr,Or)||Or==="key"||Or==="__self"||Or==="__source"||Or==="ref"&&jr.ref===void 0||(_r[Or]=jr[Or]);var Or=arguments.length-2;if(Or===1)_r.children=hr;else if(1<Or){for(var Yr=Array(Or),qr=0;qr<Or;qr++)Yr[qr]=arguments[qr+2];_r.children=Yr}return Je(wr.type,Pr,void 0,void 0,Cr,_r)},react_production.createContext=function(wr){return wr={$$typeof:Be,_currentValue:wr,_currentValue2:wr,_threadCount:0,Provider:null,Consumer:null},wr.Provider=wr,wr.Consumer={$$typeof:Ie,_context:wr},wr},react_production.createElement=function(wr,jr,hr){var _r,Pr={},Cr=null;if(jr!=null)for(_r in jr.key!==void 0&&(Cr=""+jr.key),jr)rr.call(jr,_r)&&_r!=="key"&&_r!=="__self"&&_r!=="__source"&&(Pr[_r]=jr[_r]);var Or=arguments.length-2;if(Or===1)Pr.children=hr;else if(1<Or){for(var Yr=Array(Or),qr=0;qr<Or;qr++)Yr[qr]=arguments[qr+2];Pr.children=Yr}if(wr&&wr.defaultProps)for(_r in Or=wr.defaultProps,Or)Pr[_r]===void 0&&(Pr[_r]=Or[_r]);return Je(wr,Cr,void 0,void 0,null,Pr)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(wr){return{$$typeof:je,render:wr}},react_production.isValidElement=or,react_production.lazy=function(wr){return{$$typeof:Oe,_payload:{_status:-1,_result:wr},_init:Er}},react_production.memo=function(wr,jr){return{$$typeof:Fe,type:wr,compare:jr===void 0?null:jr}},react_production.startTransition=function(wr){var jr=Xe.T,hr={};Xe.T=hr;try{var _r=wr(),Pr=Xe.S;Pr!==null&&Pr(hr,_r),typeof _r=="object"&&_r!==null&&typeof _r.then=="function"&&_r.then(br,Ar)}catch(Cr){Ar(Cr)}finally{Xe.T=jr}},react_production.unstable_useCacheRefresh=function(){return Xe.H.useCacheRefresh()},react_production.use=function(wr){return Xe.H.use(wr)},react_production.useActionState=function(wr,jr,hr){return Xe.H.useActionState(wr,jr,hr)},react_production.useCallback=function(wr,jr){return Xe.H.useCallback(wr,jr)},react_production.useContext=function(wr){return Xe.H.useContext(wr)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(wr,jr){return Xe.H.useDeferredValue(wr,jr)},react_production.useEffect=function(wr,jr,hr){var _r=Xe.H;if(typeof hr=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _r.useEffect(wr,jr)},react_production.useId=function(){return Xe.H.useId()},react_production.useImperativeHandle=function(wr,jr,hr){return Xe.H.useImperativeHandle(wr,jr,hr)},react_production.useInsertionEffect=function(wr,jr){return Xe.H.useInsertionEffect(wr,jr)},react_production.useLayoutEffect=function(wr,jr){return Xe.H.useLayoutEffect(wr,jr)},react_production.useMemo=function(wr,jr){return Xe.H.useMemo(wr,jr)},react_production.useOptimistic=function(wr,jr){return Xe.H.useOptimistic(wr,jr)},react_production.useReducer=function(wr,jr,hr){return Xe.H.useReducer(wr,jr,hr)},react_production.useRef=function(wr){return Xe.H.useRef(wr)},react_production.useState=function(wr){return Xe.H.useState(wr)},react_production.useSyncExternalStore=function(wr,jr,hr){return Xe.H.useSyncExternalStore(wr,jr,hr)},react_production.useTransition=function(){return Xe.H.useTransition()},react_production.version="19.1.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(Ee){function _e(mr,Er){var Ar=mr.length;mr.push(Er);e:for(;0<Ar;){var br=Ar-1>>>1,wr=mr[br];if(0<Re(wr,Er))mr[br]=Er,mr[Ar]=wr,Ar=br;else break e}}function Ce(mr){return mr.length===0?null:mr[0]}function Pe(mr){if(mr.length===0)return null;var Er=mr[0],Ar=mr.pop();if(Ar!==Er){mr[0]=Ar;e:for(var br=0,wr=mr.length,jr=wr>>>1;br<jr;){var hr=2*(br+1)-1,_r=mr[hr],Pr=hr+1,Cr=mr[Pr];if(0>Re(_r,Ar))Pr<wr&&0>Re(Cr,_r)?(mr[br]=Cr,mr[Pr]=Ar,br=Pr):(mr[br]=_r,mr[hr]=Ar,br=hr);else if(Pr<wr&&0>Re(Cr,Ar))mr[br]=Cr,mr[Pr]=Ar,br=Pr;else break e}}return Er}function Re(mr,Er){var Ar=mr.sortIndex-Er.sortIndex;return Ar!==0?Ar:mr.id-Er.id}if(Ee.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var Ie=performance;Ee.unstable_now=function(){return Ie.now()}}else{var Be=Date,je=Be.now();Ee.unstable_now=function(){return Be.now()-je}}var De=[],Fe=[],Oe=1,ke=null,Me=3,$e=!1,He=!1,Qe=!1,Ke=!1,ze=typeof setTimeout=="function"?setTimeout:null,We=typeof clearTimeout=="function"?clearTimeout:null,qe=typeof setImmediate<"u"?setImmediate:null;function Ye(mr){for(var Er=Ce(Fe);Er!==null;){if(Er.callback===null)Pe(Fe);else if(Er.startTime<=mr)Pe(Fe),Er.sortIndex=Er.expirationTime,_e(De,Er);else break;Er=Ce(Fe)}}function Xe(mr){if(Qe=!1,Ye(mr),!He)if(Ce(De)!==null)He=!0,rr||(rr=!0,fr());else{var Er=Ce(Fe);Er!==null&&Ir(Xe,Er.startTime-mr)}}var rr=!1,Je=-1,er=5,or=-1;function pr(){return Ke?!0:!(Ee.unstable_now()-or<er)}function ar(){if(Ke=!1,rr){var mr=Ee.unstable_now();or=mr;var Er=!0;try{e:{He=!1,Qe&&(Qe=!1,We(Je),Je=-1),$e=!0;var Ar=Me;try{t:{for(Ye(mr),ke=Ce(De);ke!==null&&!(ke.expirationTime>mr&&pr());){var br=ke.callback;if(typeof br=="function"){ke.callback=null,Me=ke.priorityLevel;var wr=br(ke.expirationTime<=mr);if(mr=Ee.unstable_now(),typeof wr=="function"){ke.callback=wr,Ye(mr),Er=!0;break t}ke===Ce(De)&&Pe(De),Ye(mr)}else Pe(De);ke=Ce(De)}if(ke!==null)Er=!0;else{var jr=Ce(Fe);jr!==null&&Ir(Xe,jr.startTime-mr),Er=!1}}break e}finally{ke=null,Me=Ar,$e=!1}Er=void 0}}finally{Er?fr():rr=!1}}}var fr;if(typeof qe=="function")fr=function(){qe(ar)};else if(typeof MessageChannel<"u"){var gr=new MessageChannel,Rr=gr.port2;gr.port1.onmessage=ar,fr=function(){Rr.postMessage(null)}}else fr=function(){ze(ar,0)};function Ir(mr,Er){Je=ze(function(){mr(Ee.unstable_now())},Er)}Ee.unstable_IdlePriority=5,Ee.unstable_ImmediatePriority=1,Ee.unstable_LowPriority=4,Ee.unstable_NormalPriority=3,Ee.unstable_Profiling=null,Ee.unstable_UserBlockingPriority=2,Ee.unstable_cancelCallback=function(mr){mr.callback=null},Ee.unstable_forceFrameRate=function(mr){0>mr||125<mr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):er=0<mr?Math.floor(1e3/mr):5},Ee.unstable_getCurrentPriorityLevel=function(){return Me},Ee.unstable_next=function(mr){switch(Me){case 1:case 2:case 3:var Er=3;break;default:Er=Me}var Ar=Me;Me=Er;try{return mr()}finally{Me=Ar}},Ee.unstable_requestPaint=function(){Ke=!0},Ee.unstable_runWithPriority=function(mr,Er){switch(mr){case 1:case 2:case 3:case 4:case 5:break;default:mr=3}var Ar=Me;Me=mr;try{return Er()}finally{Me=Ar}},Ee.unstable_scheduleCallback=function(mr,Er,Ar){var br=Ee.unstable_now();switch(typeof Ar=="object"&&Ar!==null?(Ar=Ar.delay,Ar=typeof Ar=="number"&&0<Ar?br+Ar:br):Ar=br,mr){case 1:var wr=-1;break;case 2:wr=250;break;case 5:wr=1073741823;break;case 4:wr=1e4;break;default:wr=5e3}return wr=Ar+wr,mr={id:Oe++,callback:Er,priorityLevel:mr,startTime:Ar,expirationTime:wr,sortIndex:-1},Ar>br?(mr.sortIndex=Ar,_e(Fe,mr),Ce(De)===null&&mr===Ce(Fe)&&(Qe?(We(Je),Je=-1):Qe=!0,Ir(Xe,Ar-br))):(mr.sortIndex=wr,_e(De,mr),He||$e||(He=!0,rr||(rr=!0,fr()))),mr},Ee.unstable_shouldYield=pr,Ee.unstable_wrapCallback=function(mr){var Er=Me;return function(){var Ar=Me;Me=Er;try{return mr.apply(this,arguments)}finally{Me=Ar}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var Ee=requireReact();function _e(De){var Fe="https://react.dev/errors/"+De;if(1<arguments.length){Fe+="?args[]="+encodeURIComponent(arguments[1]);for(var Oe=2;Oe<arguments.length;Oe++)Fe+="&args[]="+encodeURIComponent(arguments[Oe])}return"Minified React error #"+De+"; visit "+Fe+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ce(){}var Pe={d:{f:Ce,r:function(){throw Error(_e(522))},D:Ce,C:Ce,L:Ce,m:Ce,X:Ce,S:Ce,M:Ce},p:0,findDOMNode:null},Re=Symbol.for("react.portal");function Ie(De,Fe,Oe){var ke=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Re,key:ke==null?null:""+ke,children:De,containerInfo:Fe,implementation:Oe}}var Be=Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function je(De,Fe){if(De==="font")return"";if(typeof Fe=="string")return Fe==="use-credentials"?Fe:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pe,reactDom_production.createPortal=function(De,Fe){var Oe=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fe||Fe.nodeType!==1&&Fe.nodeType!==9&&Fe.nodeType!==11)throw Error(_e(299));return Ie(De,Fe,null,Oe)},reactDom_production.flushSync=function(De){var Fe=Be.T,Oe=Pe.p;try{if(Be.T=null,Pe.p=2,De)return De()}finally{Be.T=Fe,Pe.p=Oe,Pe.d.f()}},reactDom_production.preconnect=function(De,Fe){typeof De=="string"&&(Fe?(Fe=Fe.crossOrigin,Fe=typeof Fe=="string"?Fe==="use-credentials"?Fe:"":void 0):Fe=null,Pe.d.C(De,Fe))},reactDom_production.prefetchDNS=function(De){typeof De=="string"&&Pe.d.D(De)},reactDom_production.preinit=function(De,Fe){if(typeof De=="string"&&Fe&&typeof Fe.as=="string"){var Oe=Fe.as,ke=je(Oe,Fe.crossOrigin),Me=typeof Fe.integrity=="string"?Fe.integrity:void 0,$e=typeof Fe.fetchPriority=="string"?Fe.fetchPriority:void 0;Oe==="style"?Pe.d.S(De,typeof Fe.precedence=="string"?Fe.precedence:void 0,{crossOrigin:ke,integrity:Me,fetchPriority:$e}):Oe==="script"&&Pe.d.X(De,{crossOrigin:ke,integrity:Me,fetchPriority:$e,nonce:typeof Fe.nonce=="string"?Fe.nonce:void 0})}},reactDom_production.preinitModule=function(De,Fe){if(typeof De=="string")if(typeof Fe=="object"&&Fe!==null){if(Fe.as==null||Fe.as==="script"){var Oe=je(Fe.as,Fe.crossOrigin);Pe.d.M(De,{crossOrigin:Oe,integrity:typeof Fe.integrity=="string"?Fe.integrity:void 0,nonce:typeof Fe.nonce=="string"?Fe.nonce:void 0})}}else Fe==null&&Pe.d.M(De)},reactDom_production.preload=function(De,Fe){if(typeof De=="string"&&typeof Fe=="object"&&Fe!==null&&typeof Fe.as=="string"){var Oe=Fe.as,ke=je(Oe,Fe.crossOrigin);Pe.d.L(De,Oe,{crossOrigin:ke,integrity:typeof Fe.integrity=="string"?Fe.integrity:void 0,nonce:typeof Fe.nonce=="string"?Fe.nonce:void 0,type:typeof Fe.type=="string"?Fe.type:void 0,fetchPriority:typeof Fe.fetchPriority=="string"?Fe.fetchPriority:void 0,referrerPolicy:typeof Fe.referrerPolicy=="string"?Fe.referrerPolicy:void 0,imageSrcSet:typeof Fe.imageSrcSet=="string"?Fe.imageSrcSet:void 0,imageSizes:typeof Fe.imageSizes=="string"?Fe.imageSizes:void 0,media:typeof Fe.media=="string"?Fe.media:void 0})}},reactDom_production.preloadModule=function(De,Fe){if(typeof De=="string")if(Fe){var Oe=je(Fe.as,Fe.crossOrigin);Pe.d.m(De,{as:typeof Fe.as=="string"&&Fe.as!=="script"?Fe.as:void 0,crossOrigin:Oe,integrity:typeof Fe.integrity=="string"?Fe.integrity:void 0})}else Pe.d.m(De)},reactDom_production.requestFormReset=function(De){Pe.d.r(De)},reactDom_production.unstable_batchedUpdates=function(De,Fe){return De(Fe)},reactDom_production.useFormState=function(De,Fe,Oe){return Be.H.useFormState(De,Fe,Oe)},reactDom_production.useFormStatus=function(){return Be.H.useHostTransitionStatus()},reactDom_production.version="19.1.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function Ee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ee)}catch(_e){console.error(_e)}}return Ee(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var Ee=requireScheduler(),_e=requireReact(),Ce=requireReactDom();function Pe(Ue){var Ve="https://react.dev/errors/"+Ue;if(1<arguments.length){Ve+="?args[]="+encodeURIComponent(arguments[1]);for(var Ge=2;Ge<arguments.length;Ge++)Ve+="&args[]="+encodeURIComponent(arguments[Ge])}return"Minified React error #"+Ue+"; visit "+Ve+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Re(Ue){return!(!Ue||Ue.nodeType!==1&&Ue.nodeType!==9&&Ue.nodeType!==11)}function Ie(Ue){var Ve=Ue,Ge=Ue;if(Ue.alternate)for(;Ve.return;)Ve=Ve.return;else{Ue=Ve;do Ve=Ue,(Ve.flags&4098)!==0&&(Ge=Ve.return),Ue=Ve.return;while(Ue)}return Ve.tag===3?Ge:null}function Be(Ue){if(Ue.tag===13){var Ve=Ue.memoizedState;if(Ve===null&&(Ue=Ue.alternate,Ue!==null&&(Ve=Ue.memoizedState)),Ve!==null)return Ve.dehydrated}return null}function je(Ue){if(Ie(Ue)!==Ue)throw Error(Pe(188))}function De(Ue){var Ve=Ue.alternate;if(!Ve){if(Ve=Ie(Ue),Ve===null)throw Error(Pe(188));return Ve!==Ue?null:Ue}for(var Ge=Ue,Ze=Ve;;){var ur=Ge.return;if(ur===null)break;var vr=ur.alternate;if(vr===null){if(Ze=ur.return,Ze!==null){Ge=Ze;continue}break}if(ur.child===vr.child){for(vr=ur.child;vr;){if(vr===Ge)return je(ur),Ue;if(vr===Ze)return je(ur),Ve;vr=vr.sibling}throw Error(Pe(188))}if(Ge.return!==Ze.return)Ge=ur,Ze=vr;else{for(var Lr=!1,Wr=ur.child;Wr;){if(Wr===Ge){Lr=!0,Ge=ur,Ze=vr;break}if(Wr===Ze){Lr=!0,Ze=ur,Ge=vr;break}Wr=Wr.sibling}if(!Lr){for(Wr=vr.child;Wr;){if(Wr===Ge){Lr=!0,Ge=vr,Ze=ur;break}if(Wr===Ze){Lr=!0,Ze=vr,Ge=ur;break}Wr=Wr.sibling}if(!Lr)throw Error(Pe(189))}}if(Ge.alternate!==Ze)throw Error(Pe(190))}if(Ge.tag!==3)throw Error(Pe(188));return Ge.stateNode.current===Ge?Ue:Ve}function Fe(Ue){var Ve=Ue.tag;if(Ve===5||Ve===26||Ve===27||Ve===6)return Ue;for(Ue=Ue.child;Ue!==null;){if(Ve=Fe(Ue),Ve!==null)return Ve;Ue=Ue.sibling}return null}var Oe=Object.assign,ke=Symbol.for("react.element"),Me=Symbol.for("react.transitional.element"),$e=Symbol.for("react.portal"),He=Symbol.for("react.fragment"),Qe=Symbol.for("react.strict_mode"),Ke=Symbol.for("react.profiler"),ze=Symbol.for("react.provider"),We=Symbol.for("react.consumer"),qe=Symbol.for("react.context"),Ye=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),rr=Symbol.for("react.suspense_list"),Je=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),or=Symbol.for("react.activity"),pr=Symbol.for("react.memo_cache_sentinel"),ar=Symbol.iterator;function fr(Ue){return Ue===null||typeof Ue!="object"?null:(Ue=ar&&Ue[ar]||Ue["@@iterator"],typeof Ue=="function"?Ue:null)}var gr=Symbol.for("react.client.reference");function Rr(Ue){if(Ue==null)return null;if(typeof Ue=="function")return Ue.$$typeof===gr?null:Ue.displayName||Ue.name||null;if(typeof Ue=="string")return Ue;switch(Ue){case He:return"Fragment";case Ke:return"Profiler";case Qe:return"StrictMode";case Xe:return"Suspense";case rr:return"SuspenseList";case or:return"Activity"}if(typeof Ue=="object")switch(Ue.$$typeof){case $e:return"Portal";case qe:return(Ue.displayName||"Context")+".Provider";case We:return(Ue._context.displayName||"Context")+".Consumer";case Ye:var Ve=Ue.render;return Ue=Ue.displayName,Ue||(Ue=Ve.displayName||Ve.name||"",Ue=Ue!==""?"ForwardRef("+Ue+")":"ForwardRef"),Ue;case Je:return Ve=Ue.displayName||null,Ve!==null?Ve:Rr(Ue.type)||"Memo";case er:Ve=Ue._payload,Ue=Ue._init;try{return Rr(Ue(Ve))}catch{}}return null}var Ir=Array.isArray,mr=_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Er=Ce.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ar={pending:!1,data:null,method:null,action:null},br=[],wr=-1;function jr(Ue){return{current:Ue}}function hr(Ue){0>wr||(Ue.current=br[wr],br[wr]=null,wr--)}function _r(Ue,Ve){wr++,br[wr]=Ue.current,Ue.current=Ve}var Pr=jr(null),Cr=jr(null),Or=jr(null),Yr=jr(null);function qr(Ue,Ve){switch(_r(Or,Ve),_r(Cr,Ue),_r(Pr,null),Ve.nodeType){case 9:case 11:Ue=(Ue=Ve.documentElement)&&(Ue=Ue.namespaceURI)?Yp(Ue):0;break;default:if(Ue=Ve.tagName,Ve=Ve.namespaceURI)Ve=Yp(Ve),Ue=Xp(Ve,Ue);else switch(Ue){case"svg":Ue=1;break;case"math":Ue=2;break;default:Ue=0}}hr(Pr),_r(Pr,Ue)}function Kr(){hr(Pr),hr(Cr),hr(Or)}function Zr(Ue){Ue.memoizedState!==null&&_r(Yr,Ue);var Ve=Pr.current,Ge=Xp(Ve,Ue.type);Ve!==Ge&&(_r(Cr,Ue),_r(Pr,Ge))}function yn(Ue){Cr.current===Ue&&(hr(Pr),hr(Cr)),Yr.current===Ue&&(hr(Yr),vA._currentValue=Ar)}var mn=Object.prototype.hasOwnProperty,Cn=Ee.unstable_scheduleCallback,bn=Ee.unstable_cancelCallback,wn=Ee.unstable_shouldYield,Jr=Ee.unstable_requestPaint,qn=Ee.unstable_now,ci=Ee.unstable_getCurrentPriorityLevel,Jn=Ee.unstable_ImmediatePriority,ui=Ee.unstable_UserBlockingPriority,li=Ee.unstable_NormalPriority,mi=Ee.unstable_LowPriority,wi=Ee.unstable_IdlePriority,Di=Ee.log,$i=Ee.unstable_setDisableYieldValue,Si=null,Bi=null;function Vi(Ue){if(typeof Di=="function"&&$i(Ue),Bi&&typeof Bi.setStrictMode=="function")try{Bi.setStrictMode(Si,Ue)}catch{}}var Pn=Math.clz32?Math.clz32:ni,En=Math.log,jn=Math.LN2;function ni(Ue){return Ue>>>=0,Ue===0?32:31-(En(Ue)/jn|0)|0}var ii=256,Fi=4194304;function bi(Ue){var Ve=Ue&42;if(Ve!==0)return Ve;switch(Ue&-Ue){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ue&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return Ue&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return Ue}}function Wi(Ue,Ve,Ge){var Ze=Ue.pendingLanes;if(Ze===0)return 0;var ur=0,vr=Ue.suspendedLanes,Lr=Ue.pingedLanes;Ue=Ue.warmLanes;var Wr=Ze&134217727;return Wr!==0?(Ze=Wr&~vr,Ze!==0?ur=bi(Ze):(Lr&=Wr,Lr!==0?ur=bi(Lr):Ge||(Ge=Wr&~Ue,Ge!==0&&(ur=bi(Ge))))):(Wr=Ze&~vr,Wr!==0?ur=bi(Wr):Lr!==0?ur=bi(Lr):Ge||(Ge=Ze&~Ue,Ge!==0&&(ur=bi(Ge)))),ur===0?0:Ve!==0&&Ve!==ur&&(Ve&vr)===0&&(vr=ur&-ur,Ge=Ve&-Ve,vr>=Ge||vr===32&&(Ge&4194048)!==0)?Ve:ur}function ws(Ue,Ve){return(Ue.pendingLanes&~(Ue.suspendedLanes&~Ue.pingedLanes)&Ve)===0}function Zi(Ue,Ve){switch(Ue){case 1:case 2:case 4:case 8:case 64:return Ve+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ve+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fa(){var Ue=ii;return ii<<=1,(ii&4194048)===0&&(ii=256),Ue}function vs(){var Ue=Fi;return Fi<<=1,(Fi&62914560)===0&&(Fi=4194304),Ue}function Zs(Ue){for(var Ve=[],Ge=0;31>Ge;Ge++)Ve.push(Ue);return Ve}function Ji(Ue,Ve){Ue.pendingLanes|=Ve,Ve!==268435456&&(Ue.suspendedLanes=0,Ue.pingedLanes=0,Ue.warmLanes=0)}function Ti(Ue,Ve,Ge,Ze,ur,vr){var Lr=Ue.pendingLanes;Ue.pendingLanes=Ge,Ue.suspendedLanes=0,Ue.pingedLanes=0,Ue.warmLanes=0,Ue.expiredLanes&=Ge,Ue.entangledLanes&=Ge,Ue.errorRecoveryDisabledLanes&=Ge,Ue.shellSuspendCounter=0;var Wr=Ue.entanglements,xn=Ue.expirationTimes,Gn=Ue.hiddenUpdates;for(Ge=Lr&~Ge;0<Ge;){var di=31-Pn(Ge),vi=1<<di;Wr[di]=0,xn[di]=-1;var Xn=Gn[di];if(Xn!==null)for(Gn[di]=null,di=0;di<Xn.length;di++){var Zn=Xn[di];Zn!==null&&(Zn.lane&=-536870913)}Ge&=~vi}Ze!==0&&xi(Ue,Ze,0),vr!==0&&ur===0&&Ue.tag!==0&&(Ue.suspendedLanes|=vr&~(Lr&~Ve))}function xi(Ue,Ve,Ge){Ue.pendingLanes|=Ve,Ue.suspendedLanes&=~Ve;var Ze=31-Pn(Ve);Ue.entangledLanes|=Ve,Ue.entanglements[Ze]=Ue.entanglements[Ze]|1073741824|Ge&4194090}function Ui(Ue,Ve){var Ge=Ue.entangledLanes|=Ve;for(Ue=Ue.entanglements;Ge;){var Ze=31-Pn(Ge),ur=1<<Ze;ur&Ve|Ue[Ze]&Ve&&(Ue[Ze]|=Ve),Ge&=~ur}}function ss(Ue){switch(Ue){case 2:Ue=1;break;case 8:Ue=4;break;case 32:Ue=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:Ue=128;break;case 268435456:Ue=134217728;break;default:Ue=0}return Ue}function us(Ue){return Ue&=-Ue,2<Ue?8<Ue?(Ue&134217727)!==0?32:268435456:8:2}function Js(){var Ue=Er.p;return Ue!==0?Ue:(Ue=window.event,Ue===void 0?32:mm(Ue.type))}function Na(Ue,Ve){var Ge=Er.p;try{return Er.p=Ue,Ve()}finally{Er.p=Ge}}var Ri=Math.random().toString(36).slice(2),Qi="__reactFiber$"+Ri,ks="__reactProps$"+Ri,ta="__reactContainer$"+Ri,qi="__reactEvents$"+Ri,aa="__reactListeners$"+Ri,Ur="__reactHandles$"+Ri,An="__reactResources$"+Ri,Xr="__reactMarker$"+Ri;function un(Ue){delete Ue[Qi],delete Ue[ks],delete Ue[qi],delete Ue[aa],delete Ue[Ur]}function pn(Ue){var Ve=Ue[Qi];if(Ve)return Ve;for(var Ge=Ue.parentNode;Ge;){if(Ve=Ge[ta]||Ge[Qi]){if(Ge=Ve.alternate,Ve.child!==null||Ge!==null&&Ge.child!==null)for(Ue=tm(Ue);Ue!==null;){if(Ge=Ue[Qi])return Ge;Ue=tm(Ue)}return Ve}Ue=Ge,Ge=Ue.parentNode}return null}function gn(Ue){if(Ue=Ue[Qi]||Ue[ta]){var Ve=Ue.tag;if(Ve===5||Ve===6||Ve===13||Ve===26||Ve===27||Ve===3)return Ue}return null}function Un(Ue){var Ve=Ue.tag;if(Ve===5||Ve===26||Ve===27||Ve===6)return Ue.stateNode;throw Error(Pe(33))}function Yn(Ue){var Ve=Ue[An];return Ve||(Ve=Ue[An]={hoistableStyles:new Map,hoistableScripts:new Map}),Ve}function On(Ue){Ue[Xr]=!0}var Qn=new Set,Wn={};function gi(Ue,Ve){Ci(Ue,Ve),Ci(Ue+"Capture",Ve)}function Ci(Ue,Ve){for(Wn[Ue]=Ve,Ue=0;Ue<Ve.length;Ue++)Qn.add(Ve[Ue])}var Hi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ei={},Li={};function os(Ue){return mn.call(Li,Ue)?!0:mn.call(Ei,Ue)?!1:Hi.test(Ue)?Li[Ue]=!0:(Ei[Ue]=!0,!1)}function ys(Ue,Ve,Ge){if(os(Ve))if(Ge===null)Ue.removeAttribute(Ve);else{switch(typeof Ge){case"undefined":case"function":case"symbol":Ue.removeAttribute(Ve);return;case"boolean":var Ze=Ve.toLowerCase().slice(0,5);if(Ze!=="data-"&&Ze!=="aria-"){Ue.removeAttribute(Ve);return}}Ue.setAttribute(Ve,""+Ge)}}function Ss(Ue,Ve,Ge){if(Ge===null)Ue.removeAttribute(Ve);else{switch(typeof Ge){case"undefined":case"function":case"symbol":case"boolean":Ue.removeAttribute(Ve);return}Ue.setAttribute(Ve,""+Ge)}}function bs(Ue,Ve,Ge,Ze){if(Ze===null)Ue.removeAttribute(Ge);else{switch(typeof Ze){case"undefined":case"function":case"symbol":case"boolean":Ue.removeAttribute(Ge);return}Ue.setAttributeNS(Ve,Ge,""+Ze)}}var fo,Co;function ho(Ue){if(fo===void 0)try{throw Error()}catch(Ge){var Ve=Ge.stack.trim().match(/\n( *(at )?)/);fo=Ve&&Ve[1]||"",Co=-1<Ge.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Ge.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fo+Ue+Co}var Po=!1;function Ao(Ue,Ve){if(!Ue||Po)return"";Po=!0;var Ge=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var Ze={DetermineComponentFrameRoot:function(){try{if(Ve){var vi=function(){throw Error()};if(Object.defineProperty(vi.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vi,[])}catch(Zn){var Xn=Zn}Reflect.construct(Ue,[],vi)}else{try{vi.call()}catch(Zn){Xn=Zn}Ue.call(vi.prototype)}}else{try{throw Error()}catch(Zn){Xn=Zn}(vi=Ue())&&typeof vi.catch=="function"&&vi.catch(function(){})}}catch(Zn){if(Zn&&Xn&&typeof Zn.stack=="string")return[Zn.stack,Xn.stack]}return[null,null]}};Ze.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var ur=Object.getOwnPropertyDescriptor(Ze.DetermineComponentFrameRoot,"name");ur&&ur.configurable&&Object.defineProperty(Ze.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var vr=Ze.DetermineComponentFrameRoot(),Lr=vr[0],Wr=vr[1];if(Lr&&Wr){var xn=Lr.split(`
`),Gn=Wr.split(`
`);for(ur=Ze=0;Ze<xn.length&&!xn[Ze].includes("DetermineComponentFrameRoot");)Ze++;for(;ur<Gn.length&&!Gn[ur].includes("DetermineComponentFrameRoot");)ur++;if(Ze===xn.length||ur===Gn.length)for(Ze=xn.length-1,ur=Gn.length-1;1<=Ze&&0<=ur&&xn[Ze]!==Gn[ur];)ur--;for(;1<=Ze&&0<=ur;Ze--,ur--)if(xn[Ze]!==Gn[ur]){if(Ze!==1||ur!==1)do if(Ze--,ur--,0>ur||xn[Ze]!==Gn[ur]){var di=`
`+xn[Ze].replace(" at new "," at ");return Ue.displayName&&di.includes("<anonymous>")&&(di=di.replace("<anonymous>",Ue.displayName)),di}while(1<=Ze&&0<=ur);break}}}finally{Po=!1,Error.prepareStackTrace=Ge}return(Ge=Ue?Ue.displayName||Ue.name:"")?ho(Ge):""}function Ma(Ue){switch(Ue.tag){case 26:case 27:case 5:return ho(Ue.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 15:return Ao(Ue.type,!1);case 11:return Ao(Ue.type.render,!1);case 1:return Ao(Ue.type,!0);case 31:return ho("Activity");default:return""}}function da(Ue){try{var Ve="";do Ve+=Ma(Ue),Ue=Ue.return;while(Ue);return Ve}catch(Ge){return`
Error generating stack: `+Ge.message+`
`+Ge.stack}}function po(Ue){switch(typeof Ue){case"bigint":case"boolean":case"number":case"string":case"undefined":return Ue;case"object":return Ue;default:return""}}function zc(Ue){var Ve=Ue.type;return(Ue=Ue.nodeName)&&Ue.toLowerCase()==="input"&&(Ve==="checkbox"||Ve==="radio")}function xc(Ue){var Ve=zc(Ue)?"checked":"value",Ge=Object.getOwnPropertyDescriptor(Ue.constructor.prototype,Ve),Ze=""+Ue[Ve];if(!Ue.hasOwnProperty(Ve)&&typeof Ge<"u"&&typeof Ge.get=="function"&&typeof Ge.set=="function"){var ur=Ge.get,vr=Ge.set;return Object.defineProperty(Ue,Ve,{configurable:!0,get:function(){return ur.call(this)},set:function(Lr){Ze=""+Lr,vr.call(this,Lr)}}),Object.defineProperty(Ue,Ve,{enumerable:Ge.enumerable}),{getValue:function(){return Ze},setValue:function(Lr){Ze=""+Lr},stopTracking:function(){Ue._valueTracker=null,delete Ue[Ve]}}}}function cl(Ue){Ue._valueTracker||(Ue._valueTracker=xc(Ue))}function Ll(Ue){if(!Ue)return!1;var Ve=Ue._valueTracker;if(!Ve)return!0;var Ge=Ve.getValue(),Ze="";return Ue&&(Ze=zc(Ue)?Ue.checked?"true":"false":Ue.value),Ue=Ze,Ue!==Ge?(Ve.setValue(Ue),!0):!1}function Eo(Ue){if(Ue=Ue||(typeof document<"u"?document:void 0),typeof Ue>"u")return null;try{return Ue.activeElement||Ue.body}catch{return Ue.body}}var Ua=/[\n"\\]/g;function Ms(Ue){return Ue.replace(Ua,function(Ve){return"\\"+Ve.charCodeAt(0).toString(16)+" "})}function wo(Ue,Ve,Ge,Ze,ur,vr,Lr,Wr){Ue.name="",Lr!=null&&typeof Lr!="function"&&typeof Lr!="symbol"&&typeof Lr!="boolean"?Ue.type=Lr:Ue.removeAttribute("type"),Ve!=null?Lr==="number"?(Ve===0&&Ue.value===""||Ue.value!=Ve)&&(Ue.value=""+po(Ve)):Ue.value!==""+po(Ve)&&(Ue.value=""+po(Ve)):Lr!=="submit"&&Lr!=="reset"||Ue.removeAttribute("value"),Ve!=null?nc(Ue,Lr,po(Ve)):Ge!=null?nc(Ue,Lr,po(Ge)):Ze!=null&&Ue.removeAttribute("value"),ur==null&&vr!=null&&(Ue.defaultChecked=!!vr),ur!=null&&(Ue.checked=ur&&typeof ur!="function"&&typeof ur!="symbol"),Wr!=null&&typeof Wr!="function"&&typeof Wr!="symbol"&&typeof Wr!="boolean"?Ue.name=""+po(Wr):Ue.removeAttribute("name")}function rc(Ue,Ve,Ge,Ze,ur,vr,Lr,Wr){if(vr!=null&&typeof vr!="function"&&typeof vr!="symbol"&&typeof vr!="boolean"&&(Ue.type=vr),Ve!=null||Ge!=null){if(!(vr!=="submit"&&vr!=="reset"||Ve!=null))return;Ge=Ge!=null?""+po(Ge):"",Ve=Ve!=null?""+po(Ve):Ge,Wr||Ve===Ue.value||(Ue.value=Ve),Ue.defaultValue=Ve}Ze=Ze??ur,Ze=typeof Ze!="function"&&typeof Ze!="symbol"&&!!Ze,Ue.checked=Wr?Ue.checked:!!Ze,Ue.defaultChecked=!!Ze,Lr!=null&&typeof Lr!="function"&&typeof Lr!="symbol"&&typeof Lr!="boolean"&&(Ue.name=Lr)}function nc(Ue,Ve,Ge){Ve==="number"&&Eo(Ue.ownerDocument)===Ue||Ue.defaultValue===""+Ge||(Ue.defaultValue=""+Ge)}function gl(Ue,Ve,Ge,Ze){if(Ue=Ue.options,Ve){Ve={};for(var ur=0;ur<Ge.length;ur++)Ve["$"+Ge[ur]]=!0;for(Ge=0;Ge<Ue.length;Ge++)ur=Ve.hasOwnProperty("$"+Ue[Ge].value),Ue[Ge].selected!==ur&&(Ue[Ge].selected=ur),ur&&Ze&&(Ue[Ge].defaultSelected=!0)}else{for(Ge=""+po(Ge),Ve=null,ur=0;ur<Ue.length;ur++){if(Ue[ur].value===Ge){Ue[ur].selected=!0,Ze&&(Ue[ur].defaultSelected=!0);return}Ve!==null||Ue[ur].disabled||(Ve=Ue[ur])}Ve!==null&&(Ve.selected=!0)}}function Gs(Ue,Ve,Ge){if(Ve!=null&&(Ve=""+po(Ve),Ve!==Ue.value&&(Ue.value=Ve),Ge==null)){Ue.defaultValue!==Ve&&(Ue.defaultValue=Ve);return}Ue.defaultValue=Ge!=null?""+po(Ge):""}function ic(Ue,Ve,Ge,Ze){if(Ve==null){if(Ze!=null){if(Ge!=null)throw Error(Pe(92));if(Ir(Ze)){if(1<Ze.length)throw Error(Pe(93));Ze=Ze[0]}Ge=Ze}Ge==null&&(Ge=""),Ve=Ge}Ge=po(Ve),Ue.defaultValue=Ge,Ze=Ue.textContent,Ze===Ge&&Ze!==""&&Ze!==null&&(Ue.value=Ze)}function Go(Ue,Ve){if(Ve){var Ge=Ue.firstChild;if(Ge&&Ge===Ue.lastChild&&Ge.nodeType===3){Ge.nodeValue=Ve;return}}Ue.textContent=Ve}var qo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zu(Ue,Ve,Ge){var Ze=Ve.indexOf("--")===0;Ge==null||typeof Ge=="boolean"||Ge===""?Ze?Ue.setProperty(Ve,""):Ve==="float"?Ue.cssFloat="":Ue[Ve]="":Ze?Ue.setProperty(Ve,Ge):typeof Ge!="number"||Ge===0||qo.has(Ve)?Ve==="float"?Ue.cssFloat=Ge:Ue[Ve]=(""+Ge).trim():Ue[Ve]=Ge+"px"}function Kc(Ue,Ve,Ge){if(Ve!=null&&typeof Ve!="object")throw Error(Pe(62));if(Ue=Ue.style,Ge!=null){for(var Ze in Ge)!Ge.hasOwnProperty(Ze)||Ve!=null&&Ve.hasOwnProperty(Ze)||(Ze.indexOf("--")===0?Ue.setProperty(Ze,""):Ze==="float"?Ue.cssFloat="":Ue[Ze]="");for(var ur in Ve)Ze=Ve[ur],Ve.hasOwnProperty(ur)&&Ge[ur]!==Ze&&Zu(Ue,ur,Ze)}else for(var vr in Ve)Ve.hasOwnProperty(vr)&&Zu(Ue,vr,Ve[vr])}function pu(Ue){if(Ue.indexOf("-")===-1)return!1;switch(Ue){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ol=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ul(Ue){return _c.test(""+Ue)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":Ue}var mo=null;function oa(Ue){return Ue=Ue.target||Ue.srcElement||window,Ue.correspondingUseElement&&(Ue=Ue.correspondingUseElement),Ue.nodeType===3?Ue.parentNode:Ue}var Nl=null,vl=null;function ts(Ue){var Ve=gn(Ue);if(Ve&&(Ue=Ve.stateNode)){var Ge=Ue[ks]||null;e:switch(Ue=Ve.stateNode,Ve.type){case"input":if(wo(Ue,Ge.value,Ge.defaultValue,Ge.defaultValue,Ge.checked,Ge.defaultChecked,Ge.type,Ge.name),Ve=Ge.name,Ge.type==="radio"&&Ve!=null){for(Ge=Ue;Ge.parentNode;)Ge=Ge.parentNode;for(Ge=Ge.querySelectorAll('input[name="'+Ms(""+Ve)+'"][type="radio"]'),Ve=0;Ve<Ge.length;Ve++){var Ze=Ge[Ve];if(Ze!==Ue&&Ze.form===Ue.form){var ur=Ze[ks]||null;if(!ur)throw Error(Pe(90));wo(Ze,ur.value,ur.defaultValue,ur.defaultValue,ur.checked,ur.defaultChecked,ur.type,ur.name)}}for(Ve=0;Ve<Ge.length;Ve++)Ze=Ge[Ve],Ze.form===Ue.form&&Ll(Ze)}break e;case"textarea":Gs(Ue,Ge.value,Ge.defaultValue);break e;case"select":Ve=Ge.value,Ve!=null&&gl(Ue,!!Ge.multiple,Ve,!1)}}}var yl=!1;function Ju(Ue,Ve,Ge){if(yl)return Ue(Ve,Ge);yl=!0;try{var Ze=Ue(Ve);return Ze}finally{if(yl=!1,(Nl!==null||vl!==null)&&(xs(),Nl&&(Ve=Nl,Ue=vl,vl=Nl=null,ts(Ve),Ue)))for(Ve=0;Ve<Ue.length;Ve++)ts(Ue[Ve])}}function Ro(Ue,Ve){var Ge=Ue.stateNode;if(Ge===null)return null;var Ze=Ge[ks]||null;if(Ze===null)return null;Ge=Ze[Ve];e:switch(Ve){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Ze=!Ze.disabled)||(Ue=Ue.type,Ze=!(Ue==="button"||Ue==="input"||Ue==="select"||Ue==="textarea")),Ue=!Ze;break e;default:Ue=!1}if(Ue)return null;if(Ge&&typeof Ge!="function")throw Error(Pe(231,Ve,typeof Ge));return Ge}var Yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uo=!1;if(Yo)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{Uo=!1}var Sa=null,kl=null,_l=null;function Wc(){if(_l)return _l;var Ue,Ve=kl,Ge=Ve.length,Ze,ur="value"in Sa?Sa.value:Sa.textContent,vr=ur.length;for(Ue=0;Ue<Ge&&Ve[Ue]===ur[Ue];Ue++);var Lr=Ge-Ue;for(Ze=1;Ze<=Lr&&Ve[Ge-Ze]===ur[vr-Ze];Ze++);return _l=ur.slice(Ue,1<Ze?1-Ze:void 0)}function Xo(Ue){var Ve=Ue.keyCode;return"charCode"in Ue?(Ue=Ue.charCode,Ue===0&&Ve===13&&(Ue=13)):Ue=Ve,Ue===10&&(Ue=13),32<=Ue||Ue===13?Ue:0}function Io(){return!0}function bl(){return!1}function $a(Ue){function Ve(Ge,Ze,ur,vr,Lr){this._reactName=Ge,this._targetInst=ur,this.type=Ze,this.nativeEvent=vr,this.target=Lr,this.currentTarget=null;for(var Wr in Ue)Ue.hasOwnProperty(Wr)&&(Ge=Ue[Wr],this[Wr]=Ge?Ge(vr):vr[Wr]);return this.isDefaultPrevented=(vr.defaultPrevented!=null?vr.defaultPrevented:vr.returnValue===!1)?Io:bl,this.isPropagationStopped=bl,this}return Oe(Ve.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Ge=this.nativeEvent;Ge&&(Ge.preventDefault?Ge.preventDefault():typeof Ge.returnValue!="unknown"&&(Ge.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var Ge=this.nativeEvent;Ge&&(Ge.stopPropagation?Ge.stopPropagation():typeof Ge.cancelBubble!="unknown"&&(Ge.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),Ve}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Ue){return Ue.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=$a(Rs),El=Oe({},Rs,{view:0,detail:0}),mu=$a(El),ga,bc,go,Bo=Oe({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(Ue){return Ue.relatedTarget===void 0?Ue.fromElement===Ue.srcElement?Ue.toElement:Ue.fromElement:Ue.relatedTarget},movementX:function(Ue){return"movementX"in Ue?Ue.movementX:(Ue!==go&&(go&&Ue.type==="mousemove"?(ga=Ue.screenX-go.screenX,bc=Ue.screenY-go.screenY):bc=ga=0,go=Ue),ga)},movementY:function(Ue){return"movementY"in Ue?Ue.movementY:bc}}),Ka=$a(Bo),ef=Oe({},Bo,{dataTransfer:0}),sc=$a(ef),Wa=Oe({},El,{relatedTarget:0}),dl=$a(Wa),wl=Oe({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Gc=$a(wl),jo=Oe({},Rs,{clipboardData:function(Ue){return"clipboardData"in Ue?Ue.clipboardData:window.clipboardData}}),Ul=$a(jo),Ec=Oe({},Rs,{data:0}),wc=$a(Ec),ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tc(Ue){var Ve=this.nativeEvent;return Ve.getModifierState?Ve.getModifierState(Ue):(Ue=qc[Ue])?!!Ve[Ue]:!1}function oc(){return Tc}var tf=Oe({},El,{key:function(Ue){if(Ue.key){var Ve=ac[Ue.key]||Ue.key;if(Ve!=="Unidentified")return Ve}return Ue.type==="keypress"?(Ue=Xo(Ue),Ue===13?"Enter":String.fromCharCode(Ue)):Ue.type==="keydown"||Ue.type==="keyup"?Sc[Ue.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(Ue){return Ue.type==="keypress"?Xo(Ue):0},keyCode:function(Ue){return Ue.type==="keydown"||Ue.type==="keyup"?Ue.keyCode:0},which:function(Ue){return Ue.type==="keypress"?Xo(Ue):Ue.type==="keydown"||Ue.type==="keyup"?Ue.keyCode:0}}),$l=$a(tf),cc=Oe({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cc=$a(cc),Do=Oe({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),Yc=$a(Do),yr=Oe({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mr=$a(yr),vn=Oe({},Bo,{deltaX:function(Ue){return"deltaX"in Ue?Ue.deltaX:"wheelDeltaX"in Ue?-Ue.wheelDeltaX:0},deltaY:function(Ue){return"deltaY"in Ue?Ue.deltaY:"wheelDeltaY"in Ue?-Ue.wheelDeltaY:"wheelDelta"in Ue?-Ue.wheelDelta:0},deltaZ:0,deltaMode:0}),Sn=$a(vn),Nn=Oe({},Rs,{newState:0,oldState:0}),ti=$a(Nn),_i=[9,13,27,32],Ni=Yo&&"CompositionEvent"in window,ir=null;Yo&&"documentMode"in document&&(ir=document.documentMode);var Tr=Yo&&"TextEvent"in window&&!ir,Dr=Yo&&(!Ni||ir&&8<ir&&11>=ir),Qr=" ",Dn=!1;function Vn(Ue,Ve){switch(Ue){case"keyup":return _i.indexOf(Ve.keyCode)!==-1;case"keydown":return Ve.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function si(Ue){return Ue=Ue.detail,typeof Ue=="object"&&"data"in Ue?Ue.data:null}var ls=!1;function Ts(Ue,Ve){switch(Ue){case"compositionend":return si(Ve);case"keypress":return Ve.which!==32?null:(Dn=!0,Qr);case"textInput":return Ue=Ve.data,Ue===Qr&&Dn?null:Ue;default:return null}}function ps(Ue,Ve){if(ls)return Ue==="compositionend"||!Ni&&Vn(Ue,Ve)?(Ue=Wc(),_l=kl=Sa=null,ls=!1,Ue):null;switch(Ue){case"paste":return null;case"keypress":if(!(Ve.ctrlKey||Ve.altKey||Ve.metaKey)||Ve.ctrlKey&&Ve.altKey){if(Ve.char&&1<Ve.char.length)return Ve.char;if(Ve.which)return String.fromCharCode(Ve.which)}return null;case"compositionend":return Dr&&Ve.locale!=="ko"?null:Ve.data;default:return null}}var Ls={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Is(Ue){var Ve=Ue&&Ue.nodeName&&Ue.nodeName.toLowerCase();return Ve==="input"?!!Ls[Ue.type]:Ve==="textarea"}function Sl(Ue,Ve,Ge,Ze){Nl?vl?vl.push(Ze):vl=[Ze]:Nl=Ze,Ve=QA(Ve,"onChange"),0<Ve.length&&(Ge=new Ml("onChange","change",null,Ge,Ze),Ue.push({event:Ge,listeners:Ve}))}var ra=null,Us=null;function Vl(Ue){zp(Ue,0)}function va(Ue){var Ve=Un(Ue);if(Ll(Ve))return Ue}function Xc(Ue,Ve){if(Ue==="change")return Ve}var Zo=!1;if(Yo){var Ta;if(Yo){var $s="oninput"in document;if(!$s){var Zc=document.createElement("div");Zc.setAttribute("oninput","return;"),$s=typeof Zc.oninput=="function"}Ta=$s}else Ta=!1;Zo=Ta&&(!document.documentMode||9<document.documentMode)}function Jc(){ra&&(ra.detachEvent("onpropertychange",gu),Us=ra=null)}function gu(Ue){if(Ue.propertyName==="value"&&va(Us)){var Ve=[];Sl(Ve,Us,Ue,oa(Ue)),Ju(Vl,Ve)}}function $o(Ue,Ve,Ge){Ue==="focusin"?(Jc(),ra=Ve,Us=Ge,ra.attachEvent("onpropertychange",gu)):Ue==="focusout"&&Jc()}function rf(Ue){if(Ue==="selectionchange"||Ue==="keyup"||Ue==="keydown")return va(Us)}function nf(Ue,Ve){if(Ue==="click")return va(Ve)}function Sf(Ue,Ve){if(Ue==="input"||Ue==="change")return va(Ve)}function Ca(Ue,Ve){return Ue===Ve&&(Ue!==0||1/Ue===1/Ve)||Ue!==Ue&&Ve!==Ve}var pa=typeof Object.is=="function"?Object.is:Ca;function Vo(Ue,Ve){if(pa(Ue,Ve))return!0;if(typeof Ue!="object"||Ue===null||typeof Ve!="object"||Ve===null)return!1;var Ge=Object.keys(Ue),Ze=Object.keys(Ve);if(Ge.length!==Ze.length)return!1;for(Ze=0;Ze<Ge.length;Ze++){var ur=Ge[Ze];if(!mn.call(Ve,ur)||!pa(Ue[ur],Ve[ur]))return!1}return!0}function ja(Ue){for(;Ue&&Ue.firstChild;)Ue=Ue.firstChild;return Ue}function Fo(Ue,Ve){var Ge=ja(Ue);Ue=0;for(var Ze;Ge;){if(Ge.nodeType===3){if(Ze=Ue+Ge.textContent.length,Ue<=Ve&&Ze>=Ve)return{node:Ge,offset:Ve-Ue};Ue=Ze}e:{for(;Ge;){if(Ge.nextSibling){Ge=Ge.nextSibling;break e}Ge=Ge.parentNode}Ge=void 0}Ge=ja(Ge)}}function Pc(Ue,Ve){return Ue&&Ve?Ue===Ve?!0:Ue&&Ue.nodeType===3?!1:Ve&&Ve.nodeType===3?Pc(Ue,Ve.parentNode):"contains"in Ue?Ue.contains(Ve):Ue.compareDocumentPosition?!!(Ue.compareDocumentPosition(Ve)&16):!1:!1}function Lo(Ue){Ue=Ue!=null&&Ue.ownerDocument!=null&&Ue.ownerDocument.defaultView!=null?Ue.ownerDocument.defaultView:window;for(var Ve=Eo(Ue.document);Ve instanceof Ue.HTMLIFrameElement;){try{var Ge=typeof Ve.contentWindow.location.href=="string"}catch{Ge=!1}if(Ge)Ue=Ve.contentWindow;else break;Ve=Eo(Ue.document)}return Ve}function Xa(Ue){var Ve=Ue&&Ue.nodeName&&Ue.nodeName.toLowerCase();return Ve&&(Ve==="input"&&(Ue.type==="text"||Ue.type==="search"||Ue.type==="tel"||Ue.type==="url"||Ue.type==="password")||Ve==="textarea"||Ue.contentEditable==="true")}var Rc=Yo&&"documentMode"in document&&11>=document.documentMode,Jo=null,Ho=null,vo=null,Hl=!1;function Da(Ue,Ve,Ge){var Ze=Ge.window===Ge?Ge.document:Ge.nodeType===9?Ge:Ge.ownerDocument;Hl||Jo==null||Jo!==Eo(Ze)||(Ze=Jo,"selectionStart"in Ze&&Xa(Ze)?Ze={start:Ze.selectionStart,end:Ze.selectionEnd}:(Ze=(Ze.ownerDocument&&Ze.ownerDocument.defaultView||window).getSelection(),Ze={anchorNode:Ze.anchorNode,anchorOffset:Ze.anchorOffset,focusNode:Ze.focusNode,focusOffset:Ze.focusOffset}),vo&&Vo(vo,Ze)||(vo=Ze,Ze=QA(Ho,"onSelect"),0<Ze.length&&(Ve=new Ml("onSelect","select",null,Ve,Ge),Ue.push({event:Ve,listeners:Ze}),Ve.target=Jo)))}function el(Ue,Ve){var Ge={};return Ge[Ue.toLowerCase()]=Ve.toLowerCase(),Ge["Webkit"+Ue]="webkit"+Ve,Ge["Moz"+Ue]="moz"+Ve,Ge}var Va={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionrun:el("Transition","TransitionRun"),transitionstart:el("Transition","TransitionStart"),transitioncancel:el("Transition","TransitionCancel"),transitionend:el("Transition","TransitionEnd")},tl={},vu={};Yo&&(vu=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Ga(Ue){if(tl[Ue])return tl[Ue];if(!Va[Ue])return Ue;var Ve=Va[Ue],Ge;for(Ge in Ve)if(Ve.hasOwnProperty(Ge)&&Ge in vu)return tl[Ue]=Ve[Ge];return Ue}var yu=Ga("animationend"),eu=Ga("animationiteration"),tu=Ga("animationstart"),Ql=Ga("transitionrun"),xu=Ga("transitionstart"),_u=Ga("transitioncancel"),Ic=Ga("transitionend"),uc=new Map,ru="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ru.push("scrollEnd");function Pa(Ue,Ve){uc.set(Ue,Ve),gi(Ve,[Ue])}var rl=new WeakMap;function Cs(Ue,Ve){if(typeof Ue=="object"&&Ue!==null){var Ge=rl.get(Ue);return Ge!==void 0?Ge:(Ve={value:Ue,source:Ve,stack:da(Ve)},rl.set(Ue,Ve),Ve)}return{value:Ue,source:Ve,stack:da(Ve)}}var Ps=[],ha=0,ya=0;function Tl(){for(var Ue=ha,Ve=ya=ha=0;Ve<Ue;){var Ge=Ps[Ve];Ps[Ve++]=null;var Ze=Ps[Ve];Ps[Ve++]=null;var ur=Ps[Ve];Ps[Ve++]=null;var vr=Ps[Ve];if(Ps[Ve++]=null,Ze!==null&&ur!==null){var Lr=Ze.pending;Lr===null?ur.next=ur:(ur.next=Lr.next,Lr.next=ur),Ze.pending=ur}vr!==0&&Tf(Ge,ur,vr)}}function nu(Ue,Ve,Ge,Ze){Ps[ha++]=Ue,Ps[ha++]=Ve,Ps[ha++]=Ge,Ps[ha++]=Ze,ya|=Ze,Ue.lanes|=Ze,Ue=Ue.alternate,Ue!==null&&(Ue.lanes|=Ze)}function fc(Ue,Ve,Ge,Ze){return nu(Ue,Ve,Ge,Ze),bu(Ue)}function Bc(Ue,Ve){return nu(Ue,null,null,Ve),bu(Ue)}function Tf(Ue,Ve,Ge){Ue.lanes|=Ge;var Ze=Ue.alternate;Ze!==null&&(Ze.lanes|=Ge);for(var ur=!1,vr=Ue.return;vr!==null;)vr.childLanes|=Ge,Ze=vr.alternate,Ze!==null&&(Ze.childLanes|=Ge),vr.tag===22&&(Ue=vr.stateNode,Ue===null||Ue._visibility&1||(ur=!0)),Ue=vr,vr=vr.return;return Ue.tag===3?(vr=Ue.stateNode,ur&&Ve!==null&&(ur=31-Pn(Ge),Ue=vr.hiddenUpdates,Ze=Ue[ur],Ze===null?Ue[ur]=[Ve]:Ze.push(Ve),Ve.lane=Ge|536870912),vr):null}function bu(Ue){if(50<$n)throw $n=0,ai=null,Error(Pe(185));for(var Ve=Ue.return;Ve!==null;)Ue=Ve,Ve=Ue.return;return Ue.tag===3?Ue.stateNode:null}var yo={};function Cl(Ue,Ve,Ge,Ze){this.tag=Ue,this.key=Ge,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=Ve,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Ze,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oo(Ue,Ve,Ge,Ze){return new Cl(Ue,Ve,Ge,Ze)}function sf(Ue){return Ue=Ue.prototype,!(!Ue||!Ue.isReactComponent)}function Qo(Ue,Ve){var Ge=Ue.alternate;return Ge===null?(Ge=Oo(Ue.tag,Ve,Ue.key,Ue.mode),Ge.elementType=Ue.elementType,Ge.type=Ue.type,Ge.stateNode=Ue.stateNode,Ge.alternate=Ue,Ue.alternate=Ge):(Ge.pendingProps=Ve,Ge.type=Ue.type,Ge.flags=0,Ge.subtreeFlags=0,Ge.deletions=null),Ge.flags=Ue.flags&65011712,Ge.childLanes=Ue.childLanes,Ge.lanes=Ue.lanes,Ge.child=Ue.child,Ge.memoizedProps=Ue.memoizedProps,Ge.memoizedState=Ue.memoizedState,Ge.updateQueue=Ue.updateQueue,Ve=Ue.dependencies,Ge.dependencies=Ve===null?null:{lanes:Ve.lanes,firstContext:Ve.firstContext},Ge.sibling=Ue.sibling,Ge.index=Ue.index,Ge.ref=Ue.ref,Ge.refCleanup=Ue.refCleanup,Ge}function Cf(Ue,Ve){Ue.flags&=65011714;var Ge=Ue.alternate;return Ge===null?(Ue.childLanes=0,Ue.lanes=Ve,Ue.child=null,Ue.subtreeFlags=0,Ue.memoizedProps=null,Ue.memoizedState=null,Ue.updateQueue=null,Ue.dependencies=null,Ue.stateNode=null):(Ue.childLanes=Ge.childLanes,Ue.lanes=Ge.lanes,Ue.child=Ge.child,Ue.subtreeFlags=0,Ue.deletions=null,Ue.memoizedProps=Ge.memoizedProps,Ue.memoizedState=Ge.memoizedState,Ue.updateQueue=Ge.updateQueue,Ue.type=Ge.type,Ve=Ge.dependencies,Ue.dependencies=Ve===null?null:{lanes:Ve.lanes,firstContext:Ve.firstContext}),Ue}function Eu(Ue,Ve,Ge,Ze,ur,vr){var Lr=0;if(Ze=Ue,typeof Ue=="function")sf(Ue)&&(Lr=1);else if(typeof Ue=="string")Lr=Zm(Ue,Ge,Pr.current)?26:Ue==="html"||Ue==="head"||Ue==="body"?27:5;else e:switch(Ue){case or:return Ue=Oo(31,Ge,Ve,ur),Ue.elementType=or,Ue.lanes=vr,Ue;case He:return Pl(Ge.children,ur,vr,Ve);case Qe:Lr=8,ur|=24;break;case Ke:return Ue=Oo(12,Ge,Ve,ur|2),Ue.elementType=Ke,Ue.lanes=vr,Ue;case Xe:return Ue=Oo(13,Ge,Ve,ur),Ue.elementType=Xe,Ue.lanes=vr,Ue;case rr:return Ue=Oo(19,Ge,Ve,ur),Ue.elementType=rr,Ue.lanes=vr,Ue;default:if(typeof Ue=="object"&&Ue!==null)switch(Ue.$$typeof){case ze:case qe:Lr=10;break e;case We:Lr=9;break e;case Ye:Lr=11;break e;case Je:Lr=14;break e;case er:Lr=16,Ze=null;break e}Lr=29,Ge=Error(Pe(130,Ue===null?"null":typeof Ue,"")),Ze=null}return Ve=Oo(Lr,Ge,Ve,ur),Ve.elementType=Ue,Ve.type=Ze,Ve.lanes=vr,Ve}function Pl(Ue,Ve,Ge,Ze){return Ue=Oo(7,Ue,Ze,Ve),Ue.lanes=Ge,Ue}function Xf(Ue,Ve,Ge){return Ue=Oo(6,Ue,null,Ve),Ue.lanes=Ge,Ue}function Pf(Ue,Ve,Ge){return Ve=Oo(4,Ue.children!==null?Ue.children:[],Ue.key,Ve),Ve.lanes=Ge,Ve.stateNode={containerInfo:Ue.containerInfo,pendingChildren:null,implementation:Ue.implementation},Ve}var iu=[],jc=0,Dc=null,Zf=0,Rl=[],hl=0,wu=null,Il=1,Fc="";function Su(Ue,Ve){iu[jc++]=Zf,iu[jc++]=Dc,Dc=Ue,Zf=Ve}function oh(Ue,Ve,Ge){Rl[hl++]=Il,Rl[hl++]=Fc,Rl[hl++]=wu,wu=Ue;var Ze=Il;Ue=Fc;var ur=32-Pn(Ze)-1;Ze&=~(1<<ur),Ge+=1;var vr=32-Pn(Ve)+ur;if(30<vr){var Lr=ur-ur%5;vr=(Ze&(1<<Lr)-1).toString(32),Ze>>=Lr,ur-=Lr,Il=1<<32-Pn(Ve)+ur|Ge<<ur|Ze,Fc=vr+Ue}else Il=1<<vr|Ge<<ur|Ze,Fc=Ue}function Rf(Ue){Ue.return!==null&&(Su(Ue,1),oh(Ue,1,0))}function su(Ue){for(;Ue===Dc;)Dc=iu[--jc],iu[jc]=null,Zf=iu[--jc],iu[jc]=null;for(;Ue===wu;)wu=Rl[--hl],Rl[hl]=null,Fc=Rl[--hl],Rl[hl]=null,Il=Rl[--hl],Rl[hl]=null}var Za=null,Fa=null,Ws=!1,au=null,dc=!1,Id=Error(Pe(519));function Tu(Ue){var Ve=Error(Pe(418,""));throw af(Cs(Ve,Ue)),Id}function lh(Ue){var Ve=Ue.stateNode,Ge=Ue.type,Ze=Ue.memoizedProps;switch(Ve[Qi]=Ue,Ve[ks]=Ze,Ge){case"dialog":Qs("cancel",Ve),Qs("close",Ve);break;case"iframe":case"object":case"embed":Qs("load",Ve);break;case"video":case"audio":for(Ge=0;Ge<dA.length;Ge++)Qs(dA[Ge],Ve);break;case"source":Qs("error",Ve);break;case"img":case"image":case"link":Qs("error",Ve),Qs("load",Ve);break;case"details":Qs("toggle",Ve);break;case"input":Qs("invalid",Ve),rc(Ve,Ze.value,Ze.defaultValue,Ze.checked,Ze.defaultChecked,Ze.type,Ze.name,!0),cl(Ve);break;case"select":Qs("invalid",Ve);break;case"textarea":Qs("invalid",Ve),ic(Ve,Ze.value,Ze.defaultValue,Ze.children),cl(Ve)}Ge=Ze.children,typeof Ge!="string"&&typeof Ge!="number"&&typeof Ge!="bigint"||Ve.textContent===""+Ge||Ze.suppressHydrationWarning===!0||qp(Ve.textContent,Ge)?(Ze.popover!=null&&(Qs("beforetoggle",Ve),Qs("toggle",Ve)),Ze.onScroll!=null&&Qs("scroll",Ve),Ze.onScrollEnd!=null&&Qs("scrollend",Ve),Ze.onClick!=null&&(Ve.onclick=zA),Ve=!0):Ve=!1,Ve||Tu(Ue)}function Lc(Ue){for(Za=Ue.return;Za;)switch(Za.tag){case 5:case 13:dc=!1;return;case 27:case 3:dc=!0;return;default:Za=Za.return}}function zo(Ue){if(Ue!==Za)return!1;if(!Ws)return Lc(Ue),Ws=!0,!1;var Ve=Ue.tag,Ge;if((Ge=Ve!==3&&Ve!==27)&&((Ge=Ve===5)&&(Ge=Ue.type,Ge=!(Ge!=="form"&&Ge!=="button")||Ep(Ue.type,Ue.memoizedProps)),Ge=!Ge),Ge&&Fa&&Tu(Ue),Lc(Ue),Ve===13){if(Ue=Ue.memoizedState,Ue=Ue!==null?Ue.dehydrated:null,!Ue)throw Error(Pe(317));e:{for(Ue=Ue.nextSibling,Ve=0;Ue;){if(Ue.nodeType===8)if(Ge=Ue.data,Ge==="/$"){if(Ve===0){Fa=Xu(Ue.nextSibling);break e}Ve--}else Ge!=="$"&&Ge!=="$!"&&Ge!=="$?"||Ve++;Ue=Ue.nextSibling}Fa=null}}else Ve===27?(Ve=Fa,wd(Ue.type)?(Ue=Cp,Cp=null,Fa=Ue):Fa=Ve):Fa=Za?Xu(Ue.stateNode.nextSibling):null;return!0}function No(){Fa=Za=null,Ws=!1}function ch(){var Ue=au;return Ue!==null&&(Fl===null?Fl=Ue:Fl.push.apply(Fl,Ue),au=null),Ue}function af(Ue){au===null?au=[Ue]:au.push(Ue)}var zl=jr(null),xo=null,Oc=null;function hc(Ue,Ve,Ge){_r(zl,Ve._currentValue),Ve._currentValue=Ge}function Al(Ue){Ue._currentValue=zl.current,hr(zl)}function Jf(Ue,Ve,Ge){for(;Ue!==null;){var Ze=Ue.alternate;if((Ue.childLanes&Ve)!==Ve?(Ue.childLanes|=Ve,Ze!==null&&(Ze.childLanes|=Ve)):Ze!==null&&(Ze.childLanes&Ve)!==Ve&&(Ze.childLanes|=Ve),Ue===Ge)break;Ue=Ue.return}}function ed(Ue,Ve,Ge,Ze){var ur=Ue.child;for(ur!==null&&(ur.return=Ue);ur!==null;){var vr=ur.dependencies;if(vr!==null){var Lr=ur.child;vr=vr.firstContext;e:for(;vr!==null;){var Wr=vr;vr=ur;for(var xn=0;xn<Ve.length;xn++)if(Wr.context===Ve[xn]){vr.lanes|=Ge,Wr=vr.alternate,Wr!==null&&(Wr.lanes|=Ge),Jf(vr.return,Ge,Ue),Ze||(Lr=null);break e}vr=Wr.next}}else if(ur.tag===18){if(Lr=ur.return,Lr===null)throw Error(Pe(341));Lr.lanes|=Ge,vr=Lr.alternate,vr!==null&&(vr.lanes|=Ge),Jf(Lr,Ge,Ue),Lr=null}else Lr=ur.child;if(Lr!==null)Lr.return=ur;else for(Lr=ur;Lr!==null;){if(Lr===Ue){Lr=null;break}if(ur=Lr.sibling,ur!==null){ur.return=Lr.return,Lr=ur;break}Lr=Lr.return}ur=Lr}}function of(Ue,Ve,Ge,Ze){Ue=null;for(var ur=Ve,vr=!1;ur!==null;){if(!vr){if((ur.flags&524288)!==0)vr=!0;else if((ur.flags&262144)!==0)break}if(ur.tag===10){var Lr=ur.alternate;if(Lr===null)throw Error(Pe(387));if(Lr=Lr.memoizedProps,Lr!==null){var Wr=ur.type;pa(ur.pendingProps.value,Lr.value)||(Ue!==null?Ue.push(Wr):Ue=[Wr])}}else if(ur===Yr.current){if(Lr=ur.alternate,Lr===null)throw Error(Pe(387));Lr.memoizedState.memoizedState!==ur.memoizedState.memoizedState&&(Ue!==null?Ue.push(vA):Ue=[vA])}ur=ur.return}Ue!==null&&ed(Ve,Ue,Ge,Ze),Ve.flags|=262144}function rd(Ue){for(Ue=Ue.firstContext;Ue!==null;){if(!pa(Ue.context._currentValue,Ue.memoizedValue))return!0;Ue=Ue.next}return!1}function Ac(Ue){xo=Ue,Oc=null,Ue=Ue.dependencies,Ue!==null&&(Ue.firstContext=null)}function Ja(Ue){return nd(xo,Ue)}function Kl(Ue,Ve){return xo===null&&Ac(Ue),nd(Ue,Ve)}function nd(Ue,Ve){var Ge=Ve._currentValue;if(Ve={context:Ve,memoizedValue:Ge,next:null},Oc===null){if(Ue===null)throw Error(Pe(308));Oc=Ve,Ue.dependencies={lanes:0,firstContext:Ve},Ue.flags|=524288}else Oc=Oc.next=Ve;return Ge}var kh=typeof AbortController<"u"?AbortController:function(){var Ue=[],Ve=this.signal={aborted:!1,addEventListener:function(Ge,Ze){Ue.push(Ze)}};this.abort=function(){Ve.aborted=!0,Ue.forEach(function(Ge){return Ge()})}},uh=Ee.unstable_scheduleCallback,Mh=Ee.unstable_NormalPriority,eo={$$typeof:qe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bd(){return{controller:new kh,data:new Map,refCount:0}}function If(Ue){Ue.refCount--,Ue.refCount===0&&uh(Mh,function(){Ue.controller.abort()})}var Bf=null,jd=0,Cu=0,Nc=null;function Uh(Ue,Ve){if(Bf===null){var Ge=Bf=[];jd=0,Cu=Ap(),Nc={status:"pending",value:void 0,then:function(Ze){Ge.push(Ze)}}}return jd++,Ve.then(Dd,Dd),Ve}function Dd(){if(--jd===0&&Bf!==null){Nc!==null&&(Nc.status="fulfilled");var Ue=Bf;Bf=null,Cu=0,Nc=null;for(var Ve=0;Ve<Ue.length;Ve++)(0,Ue[Ve])()}}function fh(Ue,Ve){var Ge=[],Ze={status:"pending",value:null,reason:null,then:function(ur){Ge.push(ur)}};return Ue.then(function(){Ze.status="fulfilled",Ze.value=Ve;for(var ur=0;ur<Ge.length;ur++)(0,Ge[ur])(Ve)},function(ur){for(Ze.status="rejected",Ze.reason=ur,ur=0;ur<Ge.length;ur++)(0,Ge[ur])(void 0)}),Ze}var tr=mr.S;mr.S=function(Ue,Ve){typeof Ve=="object"&&Ve!==null&&typeof Ve.then=="function"&&Uh(Ue,Ve),tr!==null&&tr(Ue,Ve)};var dr=jr(null);function xr(){var Ue=dr.current;return Ue!==null?Ue:ba.pooledCache}function Br(Ue,Ve){Ve===null?_r(dr,dr.current):_r(dr,Ve.pool)}function Nr(){var Ue=xr();return Ue===null?null:{parent:eo._currentValue,pool:Ue}}var $r=Error(Pe(460)),Hr=Error(Pe(474)),zr=Error(Pe(542)),Gr={then:function(){}};function hn(Ue){return Ue=Ue.status,Ue==="fulfilled"||Ue==="rejected"}function Tn(){}function zn(Ue,Ve,Ge){switch(Ge=Ue[Ge],Ge===void 0?Ue.push(Ve):Ge!==Ve&&(Ve.then(Tn,Tn),Ve=Ge),Ve.status){case"fulfilled":return Ve.value;case"rejected":throw Ue=Ve.reason,ri(Ue),Ue;default:if(typeof Ve.status=="string")Ve.then(Tn,Tn);else{if(Ue=ba,Ue!==null&&100<Ue.shellSuspendCounter)throw Error(Pe(482));Ue=Ve,Ue.status="pending",Ue.then(function(Ze){if(Ve.status==="pending"){var ur=Ve;ur.status="fulfilled",ur.value=Ze}},function(Ze){if(Ve.status==="pending"){var ur=Ve;ur.status="rejected",ur.reason=Ze}})}switch(Ve.status){case"fulfilled":return Ve.value;case"rejected":throw Ue=Ve.reason,ri(Ue),Ue}throw Hn=Ve,$r}}var Hn=null;function kn(){if(Hn===null)throw Error(Pe(459));var Ue=Hn;return Hn=null,Ue}function ri(Ue){if(Ue===$r||Ue===zr)throw Error(Pe(483))}var ei=!1;function Rn(Ue){Ue.updateQueue={baseState:Ue.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fn(Ue,Ve){Ue=Ue.updateQueue,Ve.updateQueue===Ue&&(Ve.updateQueue={baseState:Ue.baseState,firstBaseUpdate:Ue.firstBaseUpdate,lastBaseUpdate:Ue.lastBaseUpdate,shared:Ue.shared,callbacks:null})}function oi(Ue){return{lane:Ue,tag:0,payload:null,callback:null,next:null}}function hi(Ue,Ve,Ge){var Ze=Ue.updateQueue;if(Ze===null)return null;if(Ze=Ze.shared,(ua&2)!==0){var ur=Ze.pending;return ur===null?Ve.next=Ve:(Ve.next=ur.next,ur.next=Ve),Ze.pending=Ve,Ve=bu(Ue),Tf(Ue,null,Ge),Ve}return nu(Ue,Ze,Ve,Ge),bu(Ue)}function fi(Ue,Ve,Ge){if(Ve=Ve.updateQueue,Ve!==null&&(Ve=Ve.shared,(Ge&4194048)!==0)){var Ze=Ve.lanes;Ze&=Ue.pendingLanes,Ge|=Ze,Ve.lanes=Ge,Ui(Ue,Ge)}}function Ki(Ue,Ve){var Ge=Ue.updateQueue,Ze=Ue.alternate;if(Ze!==null&&(Ze=Ze.updateQueue,Ge===Ze)){var ur=null,vr=null;if(Ge=Ge.firstBaseUpdate,Ge!==null){do{var Lr={lane:Ge.lane,tag:Ge.tag,payload:Ge.payload,callback:null,next:null};vr===null?ur=vr=Lr:vr=vr.next=Lr,Ge=Ge.next}while(Ge!==null);vr===null?ur=vr=Ve:vr=vr.next=Ve}else ur=vr=Ve;Ge={baseState:Ze.baseState,firstBaseUpdate:ur,lastBaseUpdate:vr,shared:Ze.shared,callbacks:Ze.callbacks},Ue.updateQueue=Ge;return}Ue=Ge.lastBaseUpdate,Ue===null?Ge.firstBaseUpdate=Ve:Ue.next=Ve,Ge.lastBaseUpdate=Ve}var Oi=!1;function es(){if(Oi){var Ue=Nc;if(Ue!==null)throw Ue}}function ki(Ue,Ve,Ge,Ze){Oi=!1;var ur=Ue.updateQueue;ei=!1;var vr=ur.firstBaseUpdate,Lr=ur.lastBaseUpdate,Wr=ur.shared.pending;if(Wr!==null){ur.shared.pending=null;var xn=Wr,Gn=xn.next;xn.next=null,Lr===null?vr=Gn:Lr.next=Gn,Lr=xn;var di=Ue.alternate;di!==null&&(di=di.updateQueue,Wr=di.lastBaseUpdate,Wr!==Lr&&(Wr===null?di.firstBaseUpdate=Gn:Wr.next=Gn,di.lastBaseUpdate=xn))}if(vr!==null){var vi=ur.baseState;Lr=0,di=Gn=xn=null,Wr=vr;do{var Xn=Wr.lane&-536870913,Zn=Xn!==Wr.lane;if(Zn?(Ks&Xn)===Xn:(Ze&Xn)===Xn){Xn!==0&&Xn===Cu&&(Oi=!0),di!==null&&(di=di.next={lane:0,tag:Wr.tag,payload:Wr.payload,callback:null,next:null});e:{var gs=Ue,ds=Wr;Xn=Ve;var wa=Ge;switch(ds.tag){case 1:if(gs=ds.payload,typeof gs=="function"){vi=gs.call(wa,vi,Xn);break e}vi=gs;break e;case 3:gs.flags=gs.flags&-65537|128;case 0:if(gs=ds.payload,Xn=typeof gs=="function"?gs.call(wa,vi,Xn):gs,Xn==null)break e;vi=Oe({},vi,Xn);break e;case 2:ei=!0}}Xn=Wr.callback,Xn!==null&&(Ue.flags|=64,Zn&&(Ue.flags|=8192),Zn=ur.callbacks,Zn===null?ur.callbacks=[Xn]:Zn.push(Xn))}else Zn={lane:Xn,tag:Wr.tag,payload:Wr.payload,callback:Wr.callback,next:null},di===null?(Gn=di=Zn,xn=vi):di=di.next=Zn,Lr|=Xn;if(Wr=Wr.next,Wr===null){if(Wr=ur.shared.pending,Wr===null)break;Zn=Wr,Wr=Zn.next,Zn.next=null,ur.lastBaseUpdate=Zn,ur.shared.pending=null}}while(!0);di===null&&(xn=vi),ur.baseState=xn,ur.firstBaseUpdate=Gn,ur.lastBaseUpdate=di,vr===null&&(ur.shared.lanes=0),xf|=Lr,Ue.lanes=Lr,Ue.memoizedState=vi}}function zs(Ue,Ve){if(typeof Ue!="function")throw Error(Pe(191,Ue));Ue.call(Ve)}function qs(Ue,Ve){var Ge=Ue.callbacks;if(Ge!==null)for(Ue.callbacks=null,Ue=0;Ue<Ge.length;Ue++)zs(Ge[Ue],Ve)}var Es=jr(null),yi=jr(0);function na(Ue,Ve){Ue=Gu,_r(yi,Ue),_r(Es,Ve),Gu=Ue|Ve.baseLanes}function Ys(){_r(yi,Gu),_r(Es,Es.current)}function hs(){Gu=yi.current,hr(Es),hr(yi)}var Ds=0,ns=null,cs=null,Bs=null,Os=!1,bo=!1,oo=!1,Ha=0,la=0,La=null,nl=0;function Xs(){throw Error(Pe(321))}function Qa(Ue,Ve){if(Ve===null)return!1;for(var Ge=0;Ge<Ve.length&&Ge<Ue.length;Ge++)if(!pa(Ue[Ge],Ve[Ge]))return!1;return!0}function Wl(Ue,Ve,Ge,Ze,ur,vr){return Ds=vr,ns=Ve,Ve.memoizedState=null,Ve.updateQueue=null,Ve.lanes=0,mr.H=Ue===null||Ue.memoizedState===null?SA:TA,oo=!1,vr=Ge(Ze,ur),oo=!1,bo&&(vr=Pu(Ve,Ge,Ze,ur)),pc(Ue),vr}function pc(Ue){mr.H=xh;var Ve=cs!==null&&cs.next!==null;if(Ds=0,Bs=cs=ns=null,Os=!1,la=0,La=null,Ve)throw Error(Pe(300));Ue===null||ko||(Ue=Ue.dependencies,Ue!==null&&rd(Ue)&&(ko=!0))}function Pu(Ue,Ve,Ge,Ze){ns=Ue;var ur=0;do{if(bo&&(La=null),la=0,bo=!1,25<=ur)throw Error(Pe(301));if(ur+=1,Bs=cs=null,Ue.updateQueue!=null){var vr=Ue.updateQueue;vr.lastEffect=null,vr.events=null,vr.stores=null,vr.memoCache!=null&&(vr.memoCache.index=0)}mr.H=_h,vr=Ve(Ge,Ze)}while(bo);return vr}function ou(){var Ue=mr.H,Ve=Ue.useState()[0];return Ve=typeof Ve.then=="function"?kc(Ve):Ve,Ue=Ue.useState()[0],(cs!==null?cs.memoizedState:null)!==Ue&&(ns.flags|=1024),Ve}function xa(){var Ue=Ha!==0;return Ha=0,Ue}function jf(Ue,Ve,Ge){Ve.updateQueue=Ue.updateQueue,Ve.flags&=-2053,Ue.lanes&=~Ge}function sd(Ue){if(Os){for(Ue=Ue.memoizedState;Ue!==null;){var Ve=Ue.queue;Ve!==null&&(Ve.pending=null),Ue=Ue.next}Os=!1}Ds=0,Bs=cs=ns=null,bo=!1,la=Ha=0,La=null}function Ko(){var Ue={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bs===null?ns.memoizedState=Bs=Ue:Bs=Bs.next=Ue,Bs}function Ra(){if(cs===null){var Ue=ns.alternate;Ue=Ue!==null?Ue.memoizedState:null}else Ue=cs.next;var Ve=Bs===null?ns.memoizedState:Bs.next;if(Ve!==null)Bs=Ve,cs=Ue;else{if(Ue===null)throw ns.alternate===null?Error(Pe(467)):Error(Pe(310));cs=Ue,Ue={memoizedState:cs.memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},Bs===null?ns.memoizedState=Bs=Ue:Bs=Bs.next=Ue}return Bs}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kc(Ue){var Ve=la;return la+=1,La===null&&(La=[]),Ue=zn(La,Ue,Ve),Ve=ns,(Bs===null?Ve.memoizedState:Bs.next)===null&&(Ve=Ve.alternate,mr.H=Ve===null||Ve.memoizedState===null?SA:TA),Ue}function il(Ue){if(Ue!==null&&typeof Ue=="object"){if(typeof Ue.then=="function")return kc(Ue);if(Ue.$$typeof===qe)return Ja(Ue)}throw Error(Pe(438,String(Ue)))}function lu(Ue){var Ve=null,Ge=ns.updateQueue;if(Ge!==null&&(Ve=Ge.memoCache),Ve==null){var Ze=ns.alternate;Ze!==null&&(Ze=Ze.updateQueue,Ze!==null&&(Ze=Ze.memoCache,Ze!=null&&(Ve={data:Ze.data.map(function(ur){return ur.slice()}),index:0})))}if(Ve==null&&(Ve={data:[],index:0}),Ge===null&&(Ge=Ru(),ns.updateQueue=Ge),Ge.memoCache=Ve,Ge=Ve.data[Ve.index],Ge===void 0)for(Ge=Ve.data[Ve.index]=Array(Ue),Ze=0;Ze<Ue;Ze++)Ge[Ze]=pr;return Ve.index++,Ge}function sl(Ue,Ve){return typeof Ve=="function"?Ve(Ue):Ve}function lf(Ue){var Ve=Ra();return cf(Ve,cs,Ue)}function cf(Ue,Ve,Ge){var Ze=Ue.queue;if(Ze===null)throw Error(Pe(311));Ze.lastRenderedReducer=Ge;var ur=Ue.baseQueue,vr=Ze.pending;if(vr!==null){if(ur!==null){var Lr=ur.next;ur.next=vr.next,vr.next=Lr}Ve.baseQueue=ur=vr,Ze.pending=null}if(vr=Ue.baseState,ur===null)Ue.memoizedState=vr;else{Ve=ur.next;var Wr=Lr=null,xn=null,Gn=Ve,di=!1;do{var vi=Gn.lane&-536870913;if(vi!==Gn.lane?(Ks&vi)===vi:(Ds&vi)===vi){var Xn=Gn.revertLane;if(Xn===0)xn!==null&&(xn=xn.next={lane:0,revertLane:0,action:Gn.action,hasEagerState:Gn.hasEagerState,eagerState:Gn.eagerState,next:null}),vi===Cu&&(di=!0);else if((Ds&Xn)===Xn){Gn=Gn.next,Xn===Cu&&(di=!0);continue}else vi={lane:0,revertLane:Gn.revertLane,action:Gn.action,hasEagerState:Gn.hasEagerState,eagerState:Gn.eagerState,next:null},xn===null?(Wr=xn=vi,Lr=vr):xn=xn.next=vi,ns.lanes|=Xn,xf|=Xn;vi=Gn.action,oo&&Ge(vr,vi),vr=Gn.hasEagerState?Gn.eagerState:Ge(vr,vi)}else Xn={lane:vi,revertLane:Gn.revertLane,action:Gn.action,hasEagerState:Gn.hasEagerState,eagerState:Gn.eagerState,next:null},xn===null?(Wr=xn=Xn,Lr=vr):xn=xn.next=Xn,ns.lanes|=vi,xf|=vi;Gn=Gn.next}while(Gn!==null&&Gn!==Ve);if(xn===null?Lr=vr:xn.next=Wr,!pa(vr,Ue.memoizedState)&&(ko=!0,di&&(Ge=Nc,Ge!==null)))throw Ge;Ue.memoizedState=vr,Ue.baseState=Lr,Ue.baseQueue=xn,Ze.lastRenderedState=vr}return ur===null&&(Ze.lanes=0),[Ue.memoizedState,Ze.dispatch]}function Iu(Ue){var Ve=Ra(),Ge=Ve.queue;if(Ge===null)throw Error(Pe(311));Ge.lastRenderedReducer=Ue;var Ze=Ge.dispatch,ur=Ge.pending,vr=Ve.memoizedState;if(ur!==null){Ge.pending=null;var Lr=ur=ur.next;do vr=Ue(vr,Lr.action),Lr=Lr.next;while(Lr!==ur);pa(vr,Ve.memoizedState)||(ko=!0),Ve.memoizedState=vr,Ve.baseQueue===null&&(Ve.baseState=vr),Ge.lastRenderedState=vr}return[vr,Ze]}function Df(Ue,Ve,Ge){var Ze=ns,ur=Ra(),vr=Ws;if(vr){if(Ge===void 0)throw Error(Pe(407));Ge=Ge()}else Ge=Ve();var Lr=!pa((cs||ur).memoizedState,Ge);Lr&&(ur.memoizedState=Ge,ko=!0),ur=ur.queue;var Wr=ju.bind(null,Ze,ur,Ue);if(df(2048,8,Wr,[Ue]),ur.getSnapshot!==Ve||Lr||Bs!==null&&Bs.memoizedState.tag&1){if(Ze.flags|=2048,Mc(9,Of(),Bu.bind(null,Ze,ur,Ge,Ve),null),ba===null)throw Error(Pe(349));vr||(Ds&124)!==0||uf(Ze,Ve,Ge)}return Ge}function uf(Ue,Ve,Ge){Ue.flags|=16384,Ue={getSnapshot:Ve,value:Ge},Ve=ns.updateQueue,Ve===null?(Ve=Ru(),ns.updateQueue=Ve,Ve.stores=[Ue]):(Ge=Ve.stores,Ge===null?Ve.stores=[Ue]:Ge.push(Ue))}function Bu(Ue,Ve,Ge,Ze){Ve.value=Ge,Ve.getSnapshot=Ze,Fd(Ve)&&dh(Ue)}function ju(Ue,Ve,Ge){return Ge(function(){Fd(Ve)&&dh(Ue)})}function Fd(Ue){var Ve=Ue.getSnapshot;Ue=Ue.value;try{var Ge=Ve();return!pa(Ue,Ge)}catch{return!0}}function dh(Ue){var Ve=Bc(Ue,2);Ve!==null&&ji(Ve,Ue,2)}function ff(Ue){var Ve=Ko();if(typeof Ue=="function"){var Ge=Ue;if(Ue=Ge(),oo){Vi(!0);try{Ge()}finally{Vi(!1)}}}return Ve.memoizedState=Ve.baseState=Ue,Ve.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:Ue},Ve}function Gl(Ue,Ve,Ge,Ze){return Ue.baseState=Ge,cf(Ue,cs,typeof Ze=="function"?Ze:sl)}function Ld(Ue,Ve,Ge,Ze,ur){if(Qd(Ue))throw Error(Pe(485));if(Ue=Ve.action,Ue!==null){var vr={payload:ur,action:Ue,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Lr){vr.listeners.push(Lr)}};mr.T!==null?Ge(!0):vr.isTransition=!1,Ze(vr),Ge=Ve.pending,Ge===null?(vr.next=Ve.pending=vr,Od(Ve,vr)):(vr.next=Ge.next,Ve.pending=Ge.next=vr)}}function Od(Ue,Ve){var Ge=Ve.action,Ze=Ve.payload,ur=Ue.state;if(Ve.isTransition){var vr=mr.T,Lr={};mr.T=Lr;try{var Wr=Ge(ur,Ze),xn=mr.S;xn!==null&&xn(Lr,Wr),Nd(Ue,Ve,Wr)}catch(Gn){Du(Ue,Ve,Gn)}finally{mr.T=vr}}else try{vr=Ge(ur,Ze),Nd(Ue,Ve,vr)}catch(Gn){Du(Ue,Ve,Gn)}}function Nd(Ue,Ve,Ge){Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"?Ge.then(function(Ze){ad(Ue,Ve,Ze)},function(Ze){return Du(Ue,Ve,Ze)}):ad(Ue,Ve,Ge)}function ad(Ue,Ve,Ge){Ve.status="fulfilled",Ve.value=Ge,Ff(Ve),Ue.state=Ge,Ve=Ue.pending,Ve!==null&&(Ge=Ve.next,Ge===Ve?Ue.pending=null:(Ge=Ge.next,Ve.next=Ge,Od(Ue,Ge)))}function Du(Ue,Ve,Ge){var Ze=Ue.pending;if(Ue.pending=null,Ze!==null){Ze=Ze.next;do Ve.status="rejected",Ve.reason=Ge,Ff(Ve),Ve=Ve.next;while(Ve!==Ze)}Ue.action=null}function Ff(Ue){Ue=Ue.listeners;for(var Ve=0;Ve<Ue.length;Ve++)(0,Ue[Ve])()}function kd(Ue,Ve){return Ve}function Lf(Ue,Ve){if(Ws){var Ge=ba.formState;if(Ge!==null){e:{var Ze=ns;if(Ws){if(Fa){t:{for(var ur=Fa,vr=dc;ur.nodeType!==8;){if(!vr){ur=null;break t}if(ur=Xu(ur.nextSibling),ur===null){ur=null;break t}}vr=ur.data,ur=vr==="F!"||vr==="F"?ur:null}if(ur){Fa=Xu(ur.nextSibling),Ze=ur.data==="F!";break e}}Tu(Ze)}Ze=!1}Ze&&(Ve=Ge[0])}}return Ge=Ko(),Ge.memoizedState=Ge.baseState=Ve,Ze={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kd,lastRenderedState:Ve},Ge.queue=Ze,Ge=$h.bind(null,ns,Ze),Ze.dispatch=Ge,Ze=ff(!1),vr=gh.bind(null,ns,!1,Ze.queue),Ze=Ko(),ur={state:Ve,dispatch:null,action:Ue,pending:null},Ze.queue=ur,Ge=Ld.bind(null,ns,ur,vr,Ge),ur.dispatch=Ge,Ze.memoizedState=Ue,[Ve,Ge,!1]}function od(Ue){var Ve=Ra();return So(Ve,cs,Ue)}function So(Ue,Ve,Ge){if(Ve=cf(Ue,Ve,kd)[0],Ue=lf(sl)[0],typeof Ve=="object"&&Ve!==null&&typeof Ve.then=="function")try{var Ze=kc(Ve)}catch(Lr){throw Lr===$r?zr:Lr}else Ze=Ve;Ve=Ra();var ur=Ve.queue,vr=ur.dispatch;return Ge!==Ve.memoizedState&&(ns.flags|=2048,Mc(9,Of(),ld.bind(null,ur,Ge),null)),[Ze,vr,Ue]}function ld(Ue,Ve){Ue.action=Ve}function hh(Ue){var Ve=Ra(),Ge=cs;if(Ge!==null)return So(Ve,Ge,Ue);Ra(),Ve=Ve.memoizedState,Ge=Ra();var Ze=Ge.queue.dispatch;return Ge.memoizedState=Ue,[Ve,Ze,!1]}function Mc(Ue,Ve,Ge,Ze){return Ue={tag:Ue,create:Ge,deps:Ze,inst:Ve,next:null},Ve=ns.updateQueue,Ve===null&&(Ve=Ru(),ns.updateQueue=Ve),Ge=Ve.lastEffect,Ge===null?Ve.lastEffect=Ue.next=Ue:(Ze=Ge.next,Ge.next=Ue,Ue.next=Ze,Ve.lastEffect=Ue),Ue}function Of(){return{destroy:void 0,resource:void 0}}function cd(){return Ra().memoizedState}function ql(Ue,Ve,Ge,Ze){var ur=Ko();Ze=Ze===void 0?null:Ze,ns.flags|=Ue,ur.memoizedState=Mc(1|Ve,Of(),Ge,Ze)}function df(Ue,Ve,Ge,Ze){var ur=Ra();Ze=Ze===void 0?null:Ze;var vr=ur.memoizedState.inst;cs!==null&&Ze!==null&&Qa(Ze,cs.memoizedState.deps)?ur.memoizedState=Mc(Ve,vr,Ge,Ze):(ns.flags|=Ue,ur.memoizedState=Mc(1|Ve,vr,Ge,Ze))}function Md(Ue,Ve){ql(8390656,8,Ue,Ve)}function Ah(Ue,Ve){df(2048,8,Ue,Ve)}function Ud(Ue,Ve){return df(4,2,Ue,Ve)}function cu(Ue,Ve){return df(4,4,Ue,Ve)}function ph(Ue,Ve){if(typeof Ve=="function"){Ue=Ue();var Ge=Ve(Ue);return function(){typeof Ge=="function"?Ge():Ve(null)}}if(Ve!=null)return Ue=Ue(),Ve.current=Ue,function(){Ve.current=null}}function Nf(Ue,Ve,Ge){Ge=Ge!=null?Ge.concat([Ue]):null,df(4,4,ph.bind(null,Ve,Ue),Ge)}function ud(){}function co(Ue,Ve){var Ge=Ra();Ve=Ve===void 0?null:Ve;var Ze=Ge.memoizedState;return Ve!==null&&Qa(Ve,Ze[1])?Ze[0]:(Ge.memoizedState=[Ue,Ve],Ue)}function hf(Ue,Ve){var Ge=Ra();Ve=Ve===void 0?null:Ve;var Ze=Ge.memoizedState;if(Ve!==null&&Qa(Ve,Ze[1]))return Ze[0];if(Ze=Ue(),oo){Vi(!0);try{Ue()}finally{Vi(!1)}}return Ge.memoizedState=[Ze,Ve],Ze}function Fu(Ue,Ve,Ge){return Ge===void 0||(Ds&1073741824)!==0?Ue.memoizedState=Ve:(Ue.memoizedState=Ge,Ue=Ii(),ns.lanes|=Ue,xf|=Ue,Ge)}function dd(Ue,Ve,Ge,Ze){return pa(Ge,Ve)?Ge:Es.current!==null?(Ue=Fu(Ue,Ge,Ze),pa(Ue,Ve)||(ko=!0),Ue):(Ds&42)===0?(ko=!0,Ue.memoizedState=Ge):(Ue=Ii(),ns.lanes|=Ue,xf|=Ue,Ve)}function Af(Ue,Ve,Ge,Ze,ur){var vr=Er.p;Er.p=vr!==0&&8>vr?vr:8;var Lr=mr.T,Wr={};mr.T=Wr,gh(Ue,!1,Ve,Ge);try{var xn=ur(),Gn=mr.S;if(Gn!==null&&Gn(Wr,xn),xn!==null&&typeof xn=="object"&&typeof xn.then=="function"){var di=fh(xn,Ze);hd(Ue,Ve,di,Mi(Ue))}else hd(Ue,Ve,Ze,Mi(Ue))}catch(vi){hd(Ue,Ve,{then:function(){},status:"rejected",reason:vi},Mi())}finally{Er.p=vr,mr.T=Lr}}function Yl(){}function mc(Ue,Ve,Ge,Ze){if(Ue.tag!==5)throw Error(Pe(476));var ur=Uc(Ue).queue;Af(Ue,ur,Ve,Ar,Ge===null?Yl:function(){return kf(Ue),Ge(Ze)})}function Uc(Ue){var Ve=Ue.memoizedState;if(Ve!==null)return Ve;Ve={memoizedState:Ar,baseState:Ar,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:Ar},next:null};var Ge={};return Ve.next={memoizedState:Ge,baseState:Ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:Ge},next:null},Ue.memoizedState=Ve,Ue=Ue.alternate,Ue!==null&&(Ue.memoizedState=Ve),Ve}function kf(Ue){var Ve=Uc(Ue).next.queue;hd(Ue,Ve,{},Mi())}function Mf(){return Ja(vA)}function $d(){return Ra().memoizedState}function mh(){return Ra().memoizedState}function Vd(Ue){for(var Ve=Ue.return;Ve!==null;){switch(Ve.tag){case 24:case 3:var Ge=Mi();Ue=oi(Ge);var Ze=hi(Ve,Ue,Ge);Ze!==null&&(ji(Ze,Ve,Ge),fi(Ze,Ve,Ge)),Ve={cache:Bd()},Ue.payload=Ve;return}Ve=Ve.return}}function Hd(Ue,Ve,Ge){var Ze=Mi();Ge={lane:Ze,revertLane:0,action:Ge,hasEagerState:!1,eagerState:null,next:null},Qd(Ue)?yh(Ve,Ge):(Ge=fc(Ue,Ve,Ge,Ze),Ge!==null&&(ji(Ge,Ue,Ze),wA(Ge,Ve,Ze)))}function $h(Ue,Ve,Ge){var Ze=Mi();hd(Ue,Ve,Ge,Ze)}function hd(Ue,Ve,Ge,Ze){var ur={lane:Ze,revertLane:0,action:Ge,hasEagerState:!1,eagerState:null,next:null};if(Qd(Ue))yh(Ve,ur);else{var vr=Ue.alternate;if(Ue.lanes===0&&(vr===null||vr.lanes===0)&&(vr=Ve.lastRenderedReducer,vr!==null))try{var Lr=Ve.lastRenderedState,Wr=vr(Lr,Ge);if(ur.hasEagerState=!0,ur.eagerState=Wr,pa(Wr,Lr))return nu(Ue,Ve,ur,0),ba===null&&Tl(),!1}catch{}finally{}if(Ge=fc(Ue,Ve,ur,Ze),Ge!==null)return ji(Ge,Ue,Ze),wA(Ge,Ve,Ze),!0}return!1}function gh(Ue,Ve,Ge,Ze){if(Ze={lane:2,revertLane:Ap(),action:Ze,hasEagerState:!1,eagerState:null,next:null},Qd(Ue)){if(Ve)throw Error(Pe(479))}else Ve=fc(Ue,Ge,Ze,2),Ve!==null&&ji(Ve,Ue,2)}function Qd(Ue){var Ve=Ue.alternate;return Ue===ns||Ve!==null&&Ve===ns}function yh(Ue,Ve){bo=Os=!0;var Ge=Ue.pending;Ge===null?Ve.next=Ve:(Ve.next=Ge.next,Ge.next=Ve),Ue.pending=Ve}function wA(Ue,Ve,Ge){if((Ge&4194048)!==0){var Ze=Ve.lanes;Ze&=Ue.pendingLanes,Ge|=Ze,Ve.lanes=Ge,Ui(Ue,Ge)}}var xh={readContext:Ja,use:il,useCallback:Xs,useContext:Xs,useEffect:Xs,useImperativeHandle:Xs,useLayoutEffect:Xs,useInsertionEffect:Xs,useMemo:Xs,useReducer:Xs,useRef:Xs,useState:Xs,useDebugValue:Xs,useDeferredValue:Xs,useTransition:Xs,useSyncExternalStore:Xs,useId:Xs,useHostTransitionStatus:Xs,useFormState:Xs,useActionState:Xs,useOptimistic:Xs,useMemoCache:Xs,useCacheRefresh:Xs},SA={readContext:Ja,use:il,useCallback:function(Ue,Ve){return Ko().memoizedState=[Ue,Ve===void 0?null:Ve],Ue},useContext:Ja,useEffect:Md,useImperativeHandle:function(Ue,Ve,Ge){Ge=Ge!=null?Ge.concat([Ue]):null,ql(4194308,4,ph.bind(null,Ve,Ue),Ge)},useLayoutEffect:function(Ue,Ve){return ql(4194308,4,Ue,Ve)},useInsertionEffect:function(Ue,Ve){ql(4,2,Ue,Ve)},useMemo:function(Ue,Ve){var Ge=Ko();Ve=Ve===void 0?null:Ve;var Ze=Ue();if(oo){Vi(!0);try{Ue()}finally{Vi(!1)}}return Ge.memoizedState=[Ze,Ve],Ze},useReducer:function(Ue,Ve,Ge){var Ze=Ko();if(Ge!==void 0){var ur=Ge(Ve);if(oo){Vi(!0);try{Ge(Ve)}finally{Vi(!1)}}}else ur=Ve;return Ze.memoizedState=Ze.baseState=ur,Ue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ue,lastRenderedState:ur},Ze.queue=Ue,Ue=Ue.dispatch=Hd.bind(null,ns,Ue),[Ze.memoizedState,Ue]},useRef:function(Ue){var Ve=Ko();return Ue={current:Ue},Ve.memoizedState=Ue},useState:function(Ue){Ue=ff(Ue);var Ve=Ue.queue,Ge=$h.bind(null,ns,Ve);return Ve.dispatch=Ge,[Ue.memoizedState,Ge]},useDebugValue:ud,useDeferredValue:function(Ue,Ve){var Ge=Ko();return Fu(Ge,Ue,Ve)},useTransition:function(){var Ue=ff(!1);return Ue=Af.bind(null,ns,Ue.queue,!0,!1),Ko().memoizedState=Ue,[!1,Ue]},useSyncExternalStore:function(Ue,Ve,Ge){var Ze=ns,ur=Ko();if(Ws){if(Ge===void 0)throw Error(Pe(407));Ge=Ge()}else{if(Ge=Ve(),ba===null)throw Error(Pe(349));(Ks&124)!==0||uf(Ze,Ve,Ge)}ur.memoizedState=Ge;var vr={value:Ge,getSnapshot:Ve};return ur.queue=vr,Md(ju.bind(null,Ze,vr,Ue),[Ue]),Ze.flags|=2048,Mc(9,Of(),Bu.bind(null,Ze,vr,Ge,Ve),null),Ge},useId:function(){var Ue=Ko(),Ve=ba.identifierPrefix;if(Ws){var Ge=Fc,Ze=Il;Ge=(Ze&~(1<<32-Pn(Ze)-1)).toString(32)+Ge,Ve=""+Ve+"R"+Ge,Ge=Ha++,0<Ge&&(Ve+="H"+Ge.toString(32)),Ve+=""}else Ge=nl++,Ve=""+Ve+"r"+Ge.toString(32)+"";return Ue.memoizedState=Ve},useHostTransitionStatus:Mf,useFormState:Lf,useActionState:Lf,useOptimistic:function(Ue){var Ve=Ko();Ve.memoizedState=Ve.baseState=Ue;var Ge={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return Ve.queue=Ge,Ve=gh.bind(null,ns,!0,Ge),Ge.dispatch=Ve,[Ue,Ve]},useMemoCache:lu,useCacheRefresh:function(){return Ko().memoizedState=Vd.bind(null,ns)}},TA={readContext:Ja,use:il,useCallback:co,useContext:Ja,useEffect:Ah,useImperativeHandle:Nf,useInsertionEffect:Ud,useLayoutEffect:cu,useMemo:hf,useReducer:lf,useRef:cd,useState:function(){return lf(sl)},useDebugValue:ud,useDeferredValue:function(Ue,Ve){var Ge=Ra();return dd(Ge,cs.memoizedState,Ue,Ve)},useTransition:function(){var Ue=lf(sl)[0],Ve=Ra().memoizedState;return[typeof Ue=="boolean"?Ue:kc(Ue),Ve]},useSyncExternalStore:Df,useId:$d,useHostTransitionStatus:Mf,useFormState:od,useActionState:od,useOptimistic:function(Ue,Ve){var Ge=Ra();return Gl(Ge,cs,Ue,Ve)},useMemoCache:lu,useCacheRefresh:mh},_h={readContext:Ja,use:il,useCallback:co,useContext:Ja,useEffect:Ah,useImperativeHandle:Nf,useInsertionEffect:Ud,useLayoutEffect:cu,useMemo:hf,useReducer:Iu,useRef:cd,useState:function(){return Iu(sl)},useDebugValue:ud,useDeferredValue:function(Ue,Ve){var Ge=Ra();return cs===null?Fu(Ge,Ue,Ve):dd(Ge,cs.memoizedState,Ue,Ve)},useTransition:function(){var Ue=Iu(sl)[0],Ve=Ra().memoizedState;return[typeof Ue=="boolean"?Ue:kc(Ue),Ve]},useSyncExternalStore:Df,useId:$d,useHostTransitionStatus:Mf,useFormState:hh,useActionState:hh,useOptimistic:function(Ue,Ve){var Ge=Ra();return cs!==null?Gl(Ge,cs,Ue,Ve):(Ge.baseState=Ue,[Ue,Ge.queue.dispatch])},useMemoCache:lu,useCacheRefresh:mh},Lu=null,zd=0;function Kd(Ue){var Ve=zd;return zd+=1,Lu===null&&(Lu=[]),zn(Lu,Ue,Ve)}function Uf(Ue,Ve){Ve=Ve.props.ref,Ue.ref=Ve!==void 0?Ve:null}function Wd(Ue,Ve){throw Ve.$$typeof===ke?Error(Pe(525)):(Ue=Object.prototype.toString.call(Ve),Error(Pe(31,Ue==="[object Object]"?"object with keys {"+Object.keys(Ve).join(", ")+"}":Ue)))}function Vh(Ue){var Ve=Ue._init;return Ve(Ue._payload)}function Hh(Ue){function Ve(Mn,Bn){if(Ue){var Kn=Mn.deletions;Kn===null?(Mn.deletions=[Bn],Mn.flags|=16):Kn.push(Bn)}}function Ge(Mn,Bn){if(!Ue)return null;for(;Bn!==null;)Ve(Mn,Bn),Bn=Bn.sibling;return null}function Ze(Mn){for(var Bn=new Map;Mn!==null;)Mn.key!==null?Bn.set(Mn.key,Mn):Bn.set(Mn.index,Mn),Mn=Mn.sibling;return Bn}function ur(Mn,Bn){return Mn=Qo(Mn,Bn),Mn.index=0,Mn.sibling=null,Mn}function vr(Mn,Bn,Kn){return Mn.index=Kn,Ue?(Kn=Mn.alternate,Kn!==null?(Kn=Kn.index,Kn<Bn?(Mn.flags|=67108866,Bn):Kn):(Mn.flags|=67108866,Bn)):(Mn.flags|=1048576,Bn)}function Lr(Mn){return Ue&&Mn.alternate===null&&(Mn.flags|=67108866),Mn}function Wr(Mn,Bn,Kn,Ai){return Bn===null||Bn.tag!==6?(Bn=Xf(Kn,Mn.mode,Ai),Bn.return=Mn,Bn):(Bn=ur(Bn,Kn),Bn.return=Mn,Bn)}function xn(Mn,Bn,Kn,Ai){var Xi=Kn.type;return Xi===He?di(Mn,Bn,Kn.props.children,Ai,Kn.key):Bn!==null&&(Bn.elementType===Xi||typeof Xi=="object"&&Xi!==null&&Xi.$$typeof===er&&Vh(Xi)===Bn.type)?(Bn=ur(Bn,Kn.props),Uf(Bn,Kn),Bn.return=Mn,Bn):(Bn=Eu(Kn.type,Kn.key,Kn.props,null,Mn.mode,Ai),Uf(Bn,Kn),Bn.return=Mn,Bn)}function Gn(Mn,Bn,Kn,Ai){return Bn===null||Bn.tag!==4||Bn.stateNode.containerInfo!==Kn.containerInfo||Bn.stateNode.implementation!==Kn.implementation?(Bn=Pf(Kn,Mn.mode,Ai),Bn.return=Mn,Bn):(Bn=ur(Bn,Kn.children||[]),Bn.return=Mn,Bn)}function di(Mn,Bn,Kn,Ai,Xi){return Bn===null||Bn.tag!==7?(Bn=Pl(Kn,Mn.mode,Ai,Xi),Bn.return=Mn,Bn):(Bn=ur(Bn,Kn),Bn.return=Mn,Bn)}function vi(Mn,Bn,Kn){if(typeof Bn=="string"&&Bn!==""||typeof Bn=="number"||typeof Bn=="bigint")return Bn=Xf(""+Bn,Mn.mode,Kn),Bn.return=Mn,Bn;if(typeof Bn=="object"&&Bn!==null){switch(Bn.$$typeof){case Me:return Kn=Eu(Bn.type,Bn.key,Bn.props,null,Mn.mode,Kn),Uf(Kn,Bn),Kn.return=Mn,Kn;case $e:return Bn=Pf(Bn,Mn.mode,Kn),Bn.return=Mn,Bn;case er:var Ai=Bn._init;return Bn=Ai(Bn._payload),vi(Mn,Bn,Kn)}if(Ir(Bn)||fr(Bn))return Bn=Pl(Bn,Mn.mode,Kn,null),Bn.return=Mn,Bn;if(typeof Bn.then=="function")return vi(Mn,Kd(Bn),Kn);if(Bn.$$typeof===qe)return vi(Mn,Kl(Mn,Bn),Kn);Wd(Mn,Bn)}return null}function Xn(Mn,Bn,Kn,Ai){var Xi=Bn!==null?Bn.key:null;if(typeof Kn=="string"&&Kn!==""||typeof Kn=="number"||typeof Kn=="bigint")return Xi!==null?null:Wr(Mn,Bn,""+Kn,Ai);if(typeof Kn=="object"&&Kn!==null){switch(Kn.$$typeof){case Me:return Kn.key===Xi?xn(Mn,Bn,Kn,Ai):null;case $e:return Kn.key===Xi?Gn(Mn,Bn,Kn,Ai):null;case er:return Xi=Kn._init,Kn=Xi(Kn._payload),Xn(Mn,Bn,Kn,Ai)}if(Ir(Kn)||fr(Kn))return Xi!==null?null:di(Mn,Bn,Kn,Ai,null);if(typeof Kn.then=="function")return Xn(Mn,Bn,Kd(Kn),Ai);if(Kn.$$typeof===qe)return Xn(Mn,Bn,Kl(Mn,Kn),Ai);Wd(Mn,Kn)}return null}function Zn(Mn,Bn,Kn,Ai,Xi){if(typeof Ai=="string"&&Ai!==""||typeof Ai=="number"||typeof Ai=="bigint")return Mn=Mn.get(Kn)||null,Wr(Bn,Mn,""+Ai,Xi);if(typeof Ai=="object"&&Ai!==null){switch(Ai.$$typeof){case Me:return Mn=Mn.get(Ai.key===null?Kn:Ai.key)||null,xn(Bn,Mn,Ai,Xi);case $e:return Mn=Mn.get(Ai.key===null?Kn:Ai.key)||null,Gn(Bn,Mn,Ai,Xi);case er:var Ns=Ai._init;return Ai=Ns(Ai._payload),Zn(Mn,Bn,Kn,Ai,Xi)}if(Ir(Ai)||fr(Ai))return Mn=Mn.get(Kn)||null,di(Bn,Mn,Ai,Xi,null);if(typeof Ai.then=="function")return Zn(Mn,Bn,Kn,Kd(Ai),Xi);if(Ai.$$typeof===qe)return Zn(Mn,Bn,Kn,Kl(Bn,Ai),Xi);Wd(Bn,Ai)}return null}function gs(Mn,Bn,Kn,Ai){for(var Xi=null,Ns=null,rs=Bn,As=Bn=0,ll=null;rs!==null&&As<Kn.length;As++){rs.index>As?(ll=rs,rs=null):ll=rs.sibling;var sa=Xn(Mn,rs,Kn[As],Ai);if(sa===null){rs===null&&(rs=ll);break}Ue&&rs&&sa.alternate===null&&Ve(Mn,rs),Bn=vr(sa,Bn,As),Ns===null?Xi=sa:Ns.sibling=sa,Ns=sa,rs=ll}if(As===Kn.length)return Ge(Mn,rs),Ws&&Su(Mn,As),Xi;if(rs===null){for(;As<Kn.length;As++)rs=vi(Mn,Kn[As],Ai),rs!==null&&(Bn=vr(rs,Bn,As),Ns===null?Xi=rs:Ns.sibling=rs,Ns=rs);return Ws&&Su(Mn,As),Xi}for(rs=Ze(rs);As<Kn.length;As++)ll=Zn(rs,Mn,As,Kn[As],Ai),ll!==null&&(Ue&&ll.alternate!==null&&rs.delete(ll.key===null?As:ll.key),Bn=vr(ll,Bn,As),Ns===null?Xi=ll:Ns.sibling=ll,Ns=ll);return Ue&&rs.forEach(function(Rd){return Ve(Mn,Rd)}),Ws&&Su(Mn,As),Xi}function ds(Mn,Bn,Kn,Ai){if(Kn==null)throw Error(Pe(151));for(var Xi=null,Ns=null,rs=Bn,As=Bn=0,ll=null,sa=Kn.next();rs!==null&&!sa.done;As++,sa=Kn.next()){rs.index>As?(ll=rs,rs=null):ll=rs.sibling;var Rd=Xn(Mn,rs,sa.value,Ai);if(Rd===null){rs===null&&(rs=ll);break}Ue&&rs&&Rd.alternate===null&&Ve(Mn,rs),Bn=vr(Rd,Bn,As),Ns===null?Xi=Rd:Ns.sibling=Rd,Ns=Rd,rs=ll}if(sa.done)return Ge(Mn,rs),Ws&&Su(Mn,As),Xi;if(rs===null){for(;!sa.done;As++,sa=Kn.next())sa=vi(Mn,sa.value,Ai),sa!==null&&(Bn=vr(sa,Bn,As),Ns===null?Xi=sa:Ns.sibling=sa,Ns=sa);return Ws&&Su(Mn,As),Xi}for(rs=Ze(rs);!sa.done;As++,sa=Kn.next())sa=Zn(rs,Mn,As,sa.value,Ai),sa!==null&&(Ue&&sa.alternate!==null&&rs.delete(sa.key===null?As:sa.key),Bn=vr(sa,Bn,As),Ns===null?Xi=sa:Ns.sibling=sa,Ns=sa);return Ue&&rs.forEach(function(ug){return Ve(Mn,ug)}),Ws&&Su(Mn,As),Xi}function wa(Mn,Bn,Kn,Ai){if(typeof Kn=="object"&&Kn!==null&&Kn.type===He&&Kn.key===null&&(Kn=Kn.props.children),typeof Kn=="object"&&Kn!==null){switch(Kn.$$typeof){case Me:e:{for(var Xi=Kn.key;Bn!==null;){if(Bn.key===Xi){if(Xi=Kn.type,Xi===He){if(Bn.tag===7){Ge(Mn,Bn.sibling),Ai=ur(Bn,Kn.props.children),Ai.return=Mn,Mn=Ai;break e}}else if(Bn.elementType===Xi||typeof Xi=="object"&&Xi!==null&&Xi.$$typeof===er&&Vh(Xi)===Bn.type){Ge(Mn,Bn.sibling),Ai=ur(Bn,Kn.props),Uf(Ai,Kn),Ai.return=Mn,Mn=Ai;break e}Ge(Mn,Bn);break}else Ve(Mn,Bn);Bn=Bn.sibling}Kn.type===He?(Ai=Pl(Kn.props.children,Mn.mode,Ai,Kn.key),Ai.return=Mn,Mn=Ai):(Ai=Eu(Kn.type,Kn.key,Kn.props,null,Mn.mode,Ai),Uf(Ai,Kn),Ai.return=Mn,Mn=Ai)}return Lr(Mn);case $e:e:{for(Xi=Kn.key;Bn!==null;){if(Bn.key===Xi)if(Bn.tag===4&&Bn.stateNode.containerInfo===Kn.containerInfo&&Bn.stateNode.implementation===Kn.implementation){Ge(Mn,Bn.sibling),Ai=ur(Bn,Kn.children||[]),Ai.return=Mn,Mn=Ai;break e}else{Ge(Mn,Bn);break}else Ve(Mn,Bn);Bn=Bn.sibling}Ai=Pf(Kn,Mn.mode,Ai),Ai.return=Mn,Mn=Ai}return Lr(Mn);case er:return Xi=Kn._init,Kn=Xi(Kn._payload),wa(Mn,Bn,Kn,Ai)}if(Ir(Kn))return gs(Mn,Bn,Kn,Ai);if(fr(Kn)){if(Xi=fr(Kn),typeof Xi!="function")throw Error(Pe(150));return Kn=Xi.call(Kn),ds(Mn,Bn,Kn,Ai)}if(typeof Kn.then=="function")return wa(Mn,Bn,Kd(Kn),Ai);if(Kn.$$typeof===qe)return wa(Mn,Bn,Kl(Mn,Kn),Ai);Wd(Mn,Kn)}return typeof Kn=="string"&&Kn!==""||typeof Kn=="number"||typeof Kn=="bigint"?(Kn=""+Kn,Bn!==null&&Bn.tag===6?(Ge(Mn,Bn.sibling),Ai=ur(Bn,Kn),Ai.return=Mn,Mn=Ai):(Ge(Mn,Bn),Ai=Xf(Kn,Mn.mode,Ai),Ai.return=Mn,Mn=Ai),Lr(Mn)):Ge(Mn,Bn)}return function(Mn,Bn,Kn,Ai){try{zd=0;var Xi=wa(Mn,Bn,Kn,Ai);return Lu=null,Xi}catch(rs){if(rs===$r||rs===zr)throw rs;var Ns=Oo(29,rs,null,Mn.mode);return Ns.lanes=Ai,Ns.return=Mn,Ns}finally{}}}var Ad=Hh(!0),Gd=Hh(!1),Xl=jr(null),$c=null;function pf(Ue){var Ve=Ue.alternate;_r(uo,uo.current&1),_r(Xl,Ue),$c===null&&(Ve===null||Es.current!==null||Ve.memoizedState!==null)&&($c=Ue)}function CA(Ue){if(Ue.tag===22){if(_r(uo,uo.current),_r(Xl,Ue),$c===null){var Ve=Ue.alternate;Ve!==null&&Ve.memoizedState!==null&&($c=Ue)}}else Ou()}function Ou(){_r(uo,uo.current),_r(Xl,Xl.current)}function Bl(Ue){hr(Xl),$c===Ue&&($c=null),hr(uo)}var uo=jr(0);function $f(Ue){for(var Ve=Ue;Ve!==null;){if(Ve.tag===13){var Ge=Ve.memoizedState;if(Ge!==null&&(Ge=Ge.dehydrated,Ge===null||Ge.data==="$?"||Tp(Ge)))return Ve}else if(Ve.tag===19&&Ve.memoizedProps.revealOrder!==void 0){if((Ve.flags&128)!==0)return Ve}else if(Ve.child!==null){Ve.child.return=Ve,Ve=Ve.child;continue}if(Ve===Ue)break;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===Ue)return null;Ve=Ve.return}Ve.sibling.return=Ve.return,Ve=Ve.sibling}return null}function Qh(Ue,Ve,Ge,Ze){Ve=Ue.memoizedState,Ge=Ge(Ze,Ve),Ge=Ge==null?Ve:Oe({},Ve,Ge),Ue.memoizedState=Ge,Ue.lanes===0&&(Ue.updateQueue.baseState=Ge)}var zh={enqueueSetState:function(Ue,Ve,Ge){Ue=Ue._reactInternals;var Ze=Mi(),ur=oi(Ze);ur.payload=Ve,Ge!=null&&(ur.callback=Ge),Ve=hi(Ue,ur,Ze),Ve!==null&&(ji(Ve,Ue,Ze),fi(Ve,Ue,Ze))},enqueueReplaceState:function(Ue,Ve,Ge){Ue=Ue._reactInternals;var Ze=Mi(),ur=oi(Ze);ur.tag=1,ur.payload=Ve,Ge!=null&&(ur.callback=Ge),Ve=hi(Ue,ur,Ze),Ve!==null&&(ji(Ve,Ue,Ze),fi(Ve,Ue,Ze))},enqueueForceUpdate:function(Ue,Ve){Ue=Ue._reactInternals;var Ge=Mi(),Ze=oi(Ge);Ze.tag=2,Ve!=null&&(Ze.callback=Ve),Ve=hi(Ue,Ze,Ge),Ve!==null&&(ji(Ve,Ue,Ge),fi(Ve,Ue,Ge))}};function PA(Ue,Ve,Ge,Ze,ur,vr,Lr){return Ue=Ue.stateNode,typeof Ue.shouldComponentUpdate=="function"?Ue.shouldComponentUpdate(Ze,vr,Lr):Ve.prototype&&Ve.prototype.isPureReactComponent?!Vo(Ge,Ze)||!Vo(ur,vr):!0}function RA(Ue,Ve,Ge,Ze){Ue=Ve.state,typeof Ve.componentWillReceiveProps=="function"&&Ve.componentWillReceiveProps(Ge,Ze),typeof Ve.UNSAFE_componentWillReceiveProps=="function"&&Ve.UNSAFE_componentWillReceiveProps(Ge,Ze),Ve.state!==Ue&&zh.enqueueReplaceState(Ve,Ve.state,null)}function mf(Ue,Ve){var Ge=Ve;if("ref"in Ve){Ge={};for(var Ze in Ve)Ze!=="ref"&&(Ge[Ze]=Ve[Ze])}if(Ue=Ue.defaultProps){Ge===Ve&&(Ge=Oe({},Ge));for(var ur in Ue)Ge[ur]===void 0&&(Ge[ur]=Ue[ur])}return Ge}var pd=typeof reportError=="function"?reportError:function(Ue){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ve=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Ue=="object"&&Ue!==null&&typeof Ue.message=="string"?String(Ue.message):String(Ue),error:Ue});if(!window.dispatchEvent(Ve))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Ue);return}console.error(Ue)};function Kh(Ue){pd(Ue)}function Wh(Ue){console.error(Ue)}function bh(Ue){pd(Ue)}function qd(Ue,Ve){try{var Ge=Ue.onUncaughtError;Ge(Ve.value,{componentStack:Ve.stack})}catch(Ze){setTimeout(function(){throw Ze})}}function Gh(Ue,Ve,Ge){try{var Ze=Ue.onCaughtError;Ze(Ge.value,{componentStack:Ge.stack,errorBoundary:Ve.tag===1?Ve.stateNode:null})}catch(ur){setTimeout(function(){throw ur})}}function qh(Ue,Ve,Ge){return Ge=oi(Ge),Ge.tag=3,Ge.payload={element:null},Ge.callback=function(){qd(Ue,Ve)},Ge}function Yd(Ue){return Ue=oi(Ue),Ue.tag=3,Ue}function Xd(Ue,Ve,Ge,Ze){var ur=Ge.type.getDerivedStateFromError;if(typeof ur=="function"){var vr=Ze.value;Ue.payload=function(){return ur(vr)},Ue.callback=function(){Gh(Ve,Ge,Ze)}}var Lr=Ge.stateNode;Lr!==null&&typeof Lr.componentDidCatch=="function"&&(Ue.callback=function(){Gh(Ve,Ge,Ze),typeof ur!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var Wr=Ze.stack;this.componentDidCatch(Ze.value,{componentStack:Wr!==null?Wr:""})})}function IA(Ue,Ve,Ge,Ze,ur){if(Ge.flags|=32768,Ze!==null&&typeof Ze=="object"&&typeof Ze.then=="function"){if(Ve=Ge.alternate,Ve!==null&&of(Ve,Ge,ur,!0),Ge=Xl.current,Ge!==null){switch(Ge.tag){case 13:return $c===null?Ya():Ge.alternate===null&&qa===0&&(qa=3),Ge.flags&=-257,Ge.flags|=65536,Ge.lanes=ur,Ze===Gr?Ge.flags|=16384:(Ve=Ge.updateQueue,Ve===null?Ge.updateQueue=new Set([Ze]):Ve.add(Ze),fp(Ue,Ze,ur)),!1;case 22:return Ge.flags|=65536,Ze===Gr?Ge.flags|=16384:(Ve=Ge.updateQueue,Ve===null?(Ve={transitions:null,markerInstances:null,retryQueue:new Set([Ze])},Ge.updateQueue=Ve):(Ge=Ve.retryQueue,Ge===null?Ve.retryQueue=new Set([Ze]):Ge.add(Ze)),fp(Ue,Ze,ur)),!1}throw Error(Pe(435,Ge.tag))}return fp(Ue,Ze,ur),Ya(),!1}if(Ws)return Ve=Xl.current,Ve!==null?((Ve.flags&65536)===0&&(Ve.flags|=256),Ve.flags|=65536,Ve.lanes=ur,Ze!==Id&&(Ue=Error(Pe(422),{cause:Ze}),af(Cs(Ue,Ge)))):(Ze!==Id&&(Ve=Error(Pe(423),{cause:Ze}),af(Cs(Ve,Ge))),Ue=Ue.current.alternate,Ue.flags|=65536,ur&=-ur,Ue.lanes|=ur,Ze=Cs(Ze,Ge),ur=qh(Ue.stateNode,Ze,ur),Ki(Ue,ur),qa!==4&&(qa=2)),!1;var vr=Error(Pe(520),{cause:Ze});if(vr=Cs(vr,Ge),sh===null?sh=[vr]:sh.push(vr),qa!==4&&(qa=2),Ve===null)return!0;Ze=Cs(Ze,Ge),Ge=Ve;do{switch(Ge.tag){case 3:return Ge.flags|=65536,Ue=ur&-ur,Ge.lanes|=Ue,Ue=qh(Ge.stateNode,Ze,Ue),Ki(Ge,Ue),!1;case 1:if(Ve=Ge.type,vr=Ge.stateNode,(Ge.flags&128)===0&&(typeof Ve.getDerivedStateFromError=="function"||vr!==null&&typeof vr.componentDidCatch=="function"&&(lr===null||!lr.has(vr))))return Ge.flags|=65536,ur&=-ur,Ge.lanes|=ur,ur=Yd(ur),Xd(ur,Ue,Ge,Ze),Ki(Ge,ur),!1}Ge=Ge.return}while(Ge!==null);return!1}var Yh=Error(Pe(461)),ko=!1;function Mo(Ue,Ve,Ge,Ze){Ve.child=Ue===null?Gd(Ve,null,Ge,Ze):Ad(Ve,Ue.child,Ge,Ze)}function Xh(Ue,Ve,Ge,Ze,ur){Ge=Ge.render;var vr=Ve.ref;if("ref"in Ze){var Lr={};for(var Wr in Ze)Wr!=="ref"&&(Lr[Wr]=Ze[Wr])}else Lr=Ze;return Ac(Ve),Ze=Wl(Ue,Ve,Ge,Lr,vr,ur),Wr=xa(),Ue!==null&&!ko?(jf(Ue,Ve,ur),Uu(Ue,Ve,ur)):(Ws&&Wr&&Rf(Ve),Ve.flags|=1,Mo(Ue,Ve,Ze,ur),Ve.child)}function BA(Ue,Ve,Ge,Ze,ur){if(Ue===null){var vr=Ge.type;return typeof vr=="function"&&!sf(vr)&&vr.defaultProps===void 0&&Ge.compare===null?(Ve.tag=15,Ve.type=vr,jA(Ue,Ve,vr,Ze,ur)):(Ue=Eu(Ge.type,null,Ze,Ve,Ve.mode,ur),Ue.ref=Ve.ref,Ue.return=Ve,Ve.child=Ue)}if(vr=Ue.child,!tA(Ue,ur)){var Lr=vr.memoizedProps;if(Ge=Ge.compare,Ge=Ge!==null?Ge:Vo,Ge(Lr,Ze)&&Ue.ref===Ve.ref)return Uu(Ue,Ve,ur)}return Ve.flags|=1,Ue=Qo(vr,Ze),Ue.ref=Ve.ref,Ue.return=Ve,Ve.child=Ue}function jA(Ue,Ve,Ge,Ze,ur){if(Ue!==null){var vr=Ue.memoizedProps;if(Vo(vr,Ze)&&Ue.ref===Ve.ref)if(ko=!1,Ve.pendingProps=Ze=vr,tA(Ue,ur))(Ue.flags&131072)!==0&&(ko=!0);else return Ve.lanes=Ue.lanes,Uu(Ue,Ve,ur)}return Nu(Ue,Ve,Ge,Ze,ur)}function Vf(Ue,Ve,Ge){var Ze=Ve.pendingProps,ur=Ze.children,vr=Ue!==null?Ue.memoizedState:null;if(Ze.mode==="hidden"){if((Ve.flags&128)!==0){if(Ze=vr!==null?vr.baseLanes|Ge:Ge,Ue!==null){for(ur=Ve.child=Ue.child,vr=0;ur!==null;)vr=vr|ur.lanes|ur.childLanes,ur=ur.sibling;Ve.childLanes=vr&~Ze}else Ve.childLanes=0,Ve.child=null;return Zh(Ue,Ve,Ze,Ge)}if((Ge&536870912)!==0)Ve.memoizedState={baseLanes:0,cachePool:null},Ue!==null&&Br(Ve,vr!==null?vr.cachePool:null),vr!==null?na(Ve,vr):Ys(),CA(Ve);else return Ve.lanes=Ve.childLanes=536870912,Zh(Ue,Ve,vr!==null?vr.baseLanes|Ge:Ge,Ge)}else vr!==null?(Br(Ve,vr.cachePool),na(Ve,vr),Ou(),Ve.memoizedState=null):(Ue!==null&&Br(Ve,null),Ys(),Ou());return Mo(Ue,Ve,ur,Ge),Ve.child}function Zh(Ue,Ve,Ge,Ze){var ur=xr();return ur=ur===null?null:{parent:eo._currentValue,pool:ur},Ve.memoizedState={baseLanes:Ge,cachePool:ur},Ue!==null&&Br(Ve,null),Ys(),CA(Ve),Ue!==null&&of(Ue,Ve,Ze,!0),null}function Oa(Ue,Ve){var Ge=Ve.ref;if(Ge===null)Ue!==null&&Ue.ref!==null&&(Ve.flags|=4194816);else{if(typeof Ge!="function"&&typeof Ge!="object")throw Error(Pe(284));(Ue===null||Ue.ref!==Ge)&&(Ve.flags|=4194816)}}function Nu(Ue,Ve,Ge,Ze,ur){return Ac(Ve),Ge=Wl(Ue,Ve,Ge,Ze,void 0,ur),Ze=xa(),Ue!==null&&!ko?(jf(Ue,Ve,ur),Uu(Ue,Ve,ur)):(Ws&&Ze&&Rf(Ve),Ve.flags|=1,Mo(Ue,Ve,Ge,ur),Ve.child)}function Hf(Ue,Ve,Ge,Ze,ur,vr){return Ac(Ve),Ve.updateQueue=null,Ge=Pu(Ve,Ze,Ge,ur),pc(Ue),Ze=xa(),Ue!==null&&!ko?(jf(Ue,Ve,vr),Uu(Ue,Ve,vr)):(Ws&&Ze&&Rf(Ve),Ve.flags|=1,Mo(Ue,Ve,Ge,vr),Ve.child)}function ku(Ue,Ve,Ge,Ze,ur){if(Ac(Ve),Ve.stateNode===null){var vr=yo,Lr=Ge.contextType;typeof Lr=="object"&&Lr!==null&&(vr=Ja(Lr)),vr=new Ge(Ze,vr),Ve.memoizedState=vr.state!==null&&vr.state!==void 0?vr.state:null,vr.updater=zh,Ve.stateNode=vr,vr._reactInternals=Ve,vr=Ve.stateNode,vr.props=Ze,vr.state=Ve.memoizedState,vr.refs={},Rn(Ve),Lr=Ge.contextType,vr.context=typeof Lr=="object"&&Lr!==null?Ja(Lr):yo,vr.state=Ve.memoizedState,Lr=Ge.getDerivedStateFromProps,typeof Lr=="function"&&(Qh(Ve,Ge,Lr,Ze),vr.state=Ve.memoizedState),typeof Ge.getDerivedStateFromProps=="function"||typeof vr.getSnapshotBeforeUpdate=="function"||typeof vr.UNSAFE_componentWillMount!="function"&&typeof vr.componentWillMount!="function"||(Lr=vr.state,typeof vr.componentWillMount=="function"&&vr.componentWillMount(),typeof vr.UNSAFE_componentWillMount=="function"&&vr.UNSAFE_componentWillMount(),Lr!==vr.state&&zh.enqueueReplaceState(vr,vr.state,null),ki(Ve,Ze,vr,ur),es(),vr.state=Ve.memoizedState),typeof vr.componentDidMount=="function"&&(Ve.flags|=4194308),Ze=!0}else if(Ue===null){vr=Ve.stateNode;var Wr=Ve.memoizedProps,xn=mf(Ge,Wr);vr.props=xn;var Gn=vr.context,di=Ge.contextType;Lr=yo,typeof di=="object"&&di!==null&&(Lr=Ja(di));var vi=Ge.getDerivedStateFromProps;di=typeof vi=="function"||typeof vr.getSnapshotBeforeUpdate=="function",Wr=Ve.pendingProps!==Wr,di||typeof vr.UNSAFE_componentWillReceiveProps!="function"&&typeof vr.componentWillReceiveProps!="function"||(Wr||Gn!==Lr)&&RA(Ve,vr,Ze,Lr),ei=!1;var Xn=Ve.memoizedState;vr.state=Xn,ki(Ve,Ze,vr,ur),es(),Gn=Ve.memoizedState,Wr||Xn!==Gn||ei?(typeof vi=="function"&&(Qh(Ve,Ge,vi,Ze),Gn=Ve.memoizedState),(xn=ei||PA(Ve,Ge,xn,Ze,Xn,Gn,Lr))?(di||typeof vr.UNSAFE_componentWillMount!="function"&&typeof vr.componentWillMount!="function"||(typeof vr.componentWillMount=="function"&&vr.componentWillMount(),typeof vr.UNSAFE_componentWillMount=="function"&&vr.UNSAFE_componentWillMount()),typeof vr.componentDidMount=="function"&&(Ve.flags|=4194308)):(typeof vr.componentDidMount=="function"&&(Ve.flags|=4194308),Ve.memoizedProps=Ze,Ve.memoizedState=Gn),vr.props=Ze,vr.state=Gn,vr.context=Lr,Ze=xn):(typeof vr.componentDidMount=="function"&&(Ve.flags|=4194308),Ze=!1)}else{vr=Ve.stateNode,Fn(Ue,Ve),Lr=Ve.memoizedProps,di=mf(Ge,Lr),vr.props=di,vi=Ve.pendingProps,Xn=vr.context,Gn=Ge.contextType,xn=yo,typeof Gn=="object"&&Gn!==null&&(xn=Ja(Gn)),Wr=Ge.getDerivedStateFromProps,(Gn=typeof Wr=="function"||typeof vr.getSnapshotBeforeUpdate=="function")||typeof vr.UNSAFE_componentWillReceiveProps!="function"&&typeof vr.componentWillReceiveProps!="function"||(Lr!==vi||Xn!==xn)&&RA(Ve,vr,Ze,xn),ei=!1,Xn=Ve.memoizedState,vr.state=Xn,ki(Ve,Ze,vr,ur),es();var Zn=Ve.memoizedState;Lr!==vi||Xn!==Zn||ei||Ue!==null&&Ue.dependencies!==null&&rd(Ue.dependencies)?(typeof Wr=="function"&&(Qh(Ve,Ge,Wr,Ze),Zn=Ve.memoizedState),(di=ei||PA(Ve,Ge,di,Ze,Xn,Zn,xn)||Ue!==null&&Ue.dependencies!==null&&rd(Ue.dependencies))?(Gn||typeof vr.UNSAFE_componentWillUpdate!="function"&&typeof vr.componentWillUpdate!="function"||(typeof vr.componentWillUpdate=="function"&&vr.componentWillUpdate(Ze,Zn,xn),typeof vr.UNSAFE_componentWillUpdate=="function"&&vr.UNSAFE_componentWillUpdate(Ze,Zn,xn)),typeof vr.componentDidUpdate=="function"&&(Ve.flags|=4),typeof vr.getSnapshotBeforeUpdate=="function"&&(Ve.flags|=1024)):(typeof vr.componentDidUpdate!="function"||Lr===Ue.memoizedProps&&Xn===Ue.memoizedState||(Ve.flags|=4),typeof vr.getSnapshotBeforeUpdate!="function"||Lr===Ue.memoizedProps&&Xn===Ue.memoizedState||(Ve.flags|=1024),Ve.memoizedProps=Ze,Ve.memoizedState=Zn),vr.props=Ze,vr.state=Zn,vr.context=xn,Ze=di):(typeof vr.componentDidUpdate!="function"||Lr===Ue.memoizedProps&&Xn===Ue.memoizedState||(Ve.flags|=4),typeof vr.getSnapshotBeforeUpdate!="function"||Lr===Ue.memoizedProps&&Xn===Ue.memoizedState||(Ve.flags|=1024),Ze=!1)}return vr=Ze,Oa(Ue,Ve),Ze=(Ve.flags&128)!==0,vr||Ze?(vr=Ve.stateNode,Ge=Ze&&typeof Ge.getDerivedStateFromError!="function"?null:vr.render(),Ve.flags|=1,Ue!==null&&Ze?(Ve.child=Ad(Ve,Ue.child,null,ur),Ve.child=Ad(Ve,null,Ge,ur)):Mo(Ue,Ve,Ge,ur),Ve.memoizedState=vr.state,Ue=Ve.child):Ue=Uu(Ue,Ve,ur),Ue}function Mu(Ue,Ve,Ge,Ze){return No(),Ve.flags|=256,Mo(Ue,Ve,Ge,Ze),Ve.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vc(Ue){return{baseLanes:Ue,cachePool:Nr()}}function Eh(Ue,Ve,Ge){return Ue=Ue!==null?Ue.childLanes&~Ge:0,Ve&&(Ue|=vc),Ue}function Jh(Ue,Ve,Ge){var Ze=Ve.pendingProps,ur=!1,vr=(Ve.flags&128)!==0,Lr;if((Lr=vr)||(Lr=Ue!==null&&Ue.memoizedState===null?!1:(uo.current&2)!==0),Lr&&(ur=!0,Ve.flags&=-129),Lr=(Ve.flags&32)!==0,Ve.flags&=-33,Ue===null){if(Ws){if(ur?pf(Ve):Ou(),Ws){var Wr=Fa,xn;if(xn=Wr){e:{for(xn=Wr,Wr=dc;xn.nodeType!==8;){if(!Wr){Wr=null;break e}if(xn=Xu(xn.nextSibling),xn===null){Wr=null;break e}}Wr=xn}Wr!==null?(Ve.memoizedState={dehydrated:Wr,treeContext:wu!==null?{id:Il,overflow:Fc}:null,retryLane:536870912,hydrationErrors:null},xn=Oo(18,null,null,0),xn.stateNode=Wr,xn.return=Ve,Ve.child=xn,Za=Ve,Fa=null,xn=!0):xn=!1}xn||Tu(Ve)}if(Wr=Ve.memoizedState,Wr!==null&&(Wr=Wr.dehydrated,Wr!==null))return Tp(Wr)?Ve.lanes=32:Ve.lanes=536870912,null;Bl(Ve)}return Wr=Ze.children,Ze=Ze.fallback,ur?(Ou(),ur=Ve.mode,Wr=md({mode:"hidden",children:Wr},ur),Ze=Pl(Ze,ur,Ge,null),Wr.return=Ve,Ze.return=Ve,Wr.sibling=Ze,Ve.child=Wr,ur=Ve.child,ur.memoizedState=Vc(Ge),ur.childLanes=Eh(Ue,Lr,Ge),Ve.memoizedState=Qf,Ze):(pf(Ve),wh(Ve,Wr))}if(xn=Ue.memoizedState,xn!==null&&(Wr=xn.dehydrated,Wr!==null)){if(vr)Ve.flags&256?(pf(Ve),Ve.flags&=-257,Ve=zf(Ue,Ve,Ge)):Ve.memoizedState!==null?(Ou(),Ve.child=Ue.child,Ve.flags|=128,Ve=null):(Ou(),ur=Ze.fallback,Wr=Ve.mode,Ze=md({mode:"visible",children:Ze.children},Wr),ur=Pl(ur,Wr,Ge,null),ur.flags|=2,Ze.return=Ve,ur.return=Ve,Ze.sibling=ur,Ve.child=Ze,Ad(Ve,Ue.child,null,Ge),Ze=Ve.child,Ze.memoizedState=Vc(Ge),Ze.childLanes=Eh(Ue,Lr,Ge),Ve.memoizedState=Qf,Ve=ur);else if(pf(Ve),Tp(Wr)){if(Lr=Wr.nextSibling&&Wr.nextSibling.dataset,Lr)var Gn=Lr.dgst;Lr=Gn,Ze=Error(Pe(419)),Ze.stack="",Ze.digest=Lr,af({value:Ze,source:null,stack:null}),Ve=zf(Ue,Ve,Ge)}else if(ko||of(Ue,Ve,Ge,!1),Lr=(Ge&Ue.childLanes)!==0,ko||Lr){if(Lr=ba,Lr!==null&&(Ze=Ge&-Ge,Ze=(Ze&42)!==0?1:ss(Ze),Ze=(Ze&(Lr.suspendedLanes|Ge))!==0?0:Ze,Ze!==0&&Ze!==xn.retryLane))throw xn.retryLane=Ze,Bc(Ue,Ze),ji(Lr,Ue,Ze),Yh;Wr.data==="$?"||Ya(),Ve=zf(Ue,Ve,Ge)}else Wr.data==="$?"?(Ve.flags|=192,Ve.child=Ue.child,Ve=null):(Ue=xn.treeContext,Fa=Xu(Wr.nextSibling),Za=Ve,Ws=!0,au=null,dc=!1,Ue!==null&&(Rl[hl++]=Il,Rl[hl++]=Fc,Rl[hl++]=wu,Il=Ue.id,Fc=Ue.overflow,wu=Ve),Ve=wh(Ve,Ze.children),Ve.flags|=4096);return Ve}return ur?(Ou(),ur=Ze.fallback,Wr=Ve.mode,xn=Ue.child,Gn=xn.sibling,Ze=Qo(xn,{mode:"hidden",children:Ze.children}),Ze.subtreeFlags=xn.subtreeFlags&65011712,Gn!==null?ur=Qo(Gn,ur):(ur=Pl(ur,Wr,Ge,null),ur.flags|=2),ur.return=Ve,Ze.return=Ve,Ze.sibling=ur,Ve.child=Ze,Ze=ur,ur=Ve.child,Wr=Ue.child.memoizedState,Wr===null?Wr=Vc(Ge):(xn=Wr.cachePool,xn!==null?(Gn=eo._currentValue,xn=xn.parent!==Gn?{parent:Gn,pool:Gn}:xn):xn=Nr(),Wr={baseLanes:Wr.baseLanes|Ge,cachePool:xn}),ur.memoizedState=Wr,ur.childLanes=Eh(Ue,Lr,Ge),Ve.memoizedState=Qf,Ze):(pf(Ve),Ge=Ue.child,Ue=Ge.sibling,Ge=Qo(Ge,{mode:"visible",children:Ze.children}),Ge.return=Ve,Ge.sibling=null,Ue!==null&&(Lr=Ve.deletions,Lr===null?(Ve.deletions=[Ue],Ve.flags|=16):Lr.push(Ue)),Ve.child=Ge,Ve.memoizedState=null,Ge)}function wh(Ue,Ve){return Ve=md({mode:"visible",children:Ve},Ue.mode),Ve.return=Ue,Ue.child=Ve}function md(Ue,Ve){return Ue=Oo(22,Ue,null,Ve),Ue.lanes=0,Ue.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},Ue}function zf(Ue,Ve,Ge){return Ad(Ve,Ue.child,null,Ge),Ue=wh(Ve,Ve.pendingProps.children),Ue.flags|=2,Ve.memoizedState=null,Ue}function eA(Ue,Ve,Ge){Ue.lanes|=Ve;var Ze=Ue.alternate;Ze!==null&&(Ze.lanes|=Ve),Jf(Ue.return,Ve,Ge)}function Sh(Ue,Ve,Ge,Ze,ur){var vr=Ue.memoizedState;vr===null?Ue.memoizedState={isBackwards:Ve,rendering:null,renderingStartTime:0,last:Ze,tail:Ge,tailMode:ur}:(vr.isBackwards=Ve,vr.rendering=null,vr.renderingStartTime=0,vr.last=Ze,vr.tail=Ge,vr.tailMode=ur)}function gd(Ue,Ve,Ge){var Ze=Ve.pendingProps,ur=Ze.revealOrder,vr=Ze.tail;if(Mo(Ue,Ve,Ze.children,Ge),Ze=uo.current,(Ze&2)!==0)Ze=Ze&1|2,Ve.flags|=128;else{if(Ue!==null&&(Ue.flags&128)!==0)e:for(Ue=Ve.child;Ue!==null;){if(Ue.tag===13)Ue.memoizedState!==null&&eA(Ue,Ge,Ve);else if(Ue.tag===19)eA(Ue,Ge,Ve);else if(Ue.child!==null){Ue.child.return=Ue,Ue=Ue.child;continue}if(Ue===Ve)break e;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===Ve)break e;Ue=Ue.return}Ue.sibling.return=Ue.return,Ue=Ue.sibling}Ze&=1}switch(_r(uo,Ze),ur){case"forwards":for(Ge=Ve.child,ur=null;Ge!==null;)Ue=Ge.alternate,Ue!==null&&$f(Ue)===null&&(ur=Ge),Ge=Ge.sibling;Ge=ur,Ge===null?(ur=Ve.child,Ve.child=null):(ur=Ge.sibling,Ge.sibling=null),Sh(Ve,!1,ur,Ge,vr);break;case"backwards":for(Ge=null,ur=Ve.child,Ve.child=null;ur!==null;){if(Ue=ur.alternate,Ue!==null&&$f(Ue)===null){Ve.child=ur;break}Ue=ur.sibling,ur.sibling=Ge,Ge=ur,ur=Ue}Sh(Ve,!0,Ge,null,vr);break;case"together":Sh(Ve,!1,null,null,void 0);break;default:Ve.memoizedState=null}return Ve.child}function Uu(Ue,Ve,Ge){if(Ue!==null&&(Ve.dependencies=Ue.dependencies),xf|=Ve.lanes,(Ge&Ve.childLanes)===0)if(Ue!==null){if(of(Ue,Ve,Ge,!1),(Ge&Ve.childLanes)===0)return null}else return null;if(Ue!==null&&Ve.child!==Ue.child)throw Error(Pe(153));if(Ve.child!==null){for(Ue=Ve.child,Ge=Qo(Ue,Ue.pendingProps),Ve.child=Ge,Ge.return=Ve;Ue.sibling!==null;)Ue=Ue.sibling,Ge=Ge.sibling=Qo(Ue,Ue.pendingProps),Ge.return=Ve;Ge.sibling=null}return Ve.child}function tA(Ue,Ve){return(Ue.lanes&Ve)!==0?!0:(Ue=Ue.dependencies,!!(Ue!==null&&rd(Ue)))}function sp(Ue,Ve,Ge){switch(Ve.tag){case 3:qr(Ve,Ve.stateNode.containerInfo),hc(Ve,eo,Ue.memoizedState.cache),No();break;case 27:case 5:Zr(Ve);break;case 4:qr(Ve,Ve.stateNode.containerInfo);break;case 10:hc(Ve,Ve.type,Ve.memoizedProps.value);break;case 13:var Ze=Ve.memoizedState;if(Ze!==null)return Ze.dehydrated!==null?(pf(Ve),Ve.flags|=128,null):(Ge&Ve.child.childLanes)!==0?Jh(Ue,Ve,Ge):(pf(Ve),Ue=Uu(Ue,Ve,Ge),Ue!==null?Ue.sibling:null);pf(Ve);break;case 19:var ur=(Ue.flags&128)!==0;if(Ze=(Ge&Ve.childLanes)!==0,Ze||(of(Ue,Ve,Ge,!1),Ze=(Ge&Ve.childLanes)!==0),ur){if(Ze)return gd(Ue,Ve,Ge);Ve.flags|=128}if(ur=Ve.memoizedState,ur!==null&&(ur.rendering=null,ur.tail=null,ur.lastEffect=null),_r(uo,uo.current),Ze)break;return null;case 22:case 23:return Ve.lanes=0,Vf(Ue,Ve,Ge);case 24:hc(Ve,eo,Ue.memoizedState.cache)}return Uu(Ue,Ve,Ge)}function DA(Ue,Ve,Ge){if(Ue!==null)if(Ue.memoizedProps!==Ve.pendingProps)ko=!0;else{if(!tA(Ue,Ge)&&(Ve.flags&128)===0)return ko=!1,sp(Ue,Ve,Ge);ko=(Ue.flags&131072)!==0}else ko=!1,Ws&&(Ve.flags&1048576)!==0&&oh(Ve,Zf,Ve.index);switch(Ve.lanes=0,Ve.tag){case 16:e:{Ue=Ve.pendingProps;var Ze=Ve.elementType,ur=Ze._init;if(Ze=ur(Ze._payload),Ve.type=Ze,typeof Ze=="function")sf(Ze)?(Ue=mf(Ze,Ue),Ve.tag=1,Ve=ku(null,Ve,Ze,Ue,Ge)):(Ve.tag=0,Ve=Nu(null,Ve,Ze,Ue,Ge));else{if(Ze!=null){if(ur=Ze.$$typeof,ur===Ye){Ve.tag=11,Ve=Xh(null,Ve,Ze,Ue,Ge);break e}else if(ur===Je){Ve.tag=14,Ve=BA(null,Ve,Ze,Ue,Ge);break e}}throw Ve=Rr(Ze)||Ze,Error(Pe(306,Ve,""))}}return Ve;case 0:return Nu(Ue,Ve,Ve.type,Ve.pendingProps,Ge);case 1:return Ze=Ve.type,ur=mf(Ze,Ve.pendingProps),ku(Ue,Ve,Ze,ur,Ge);case 3:e:{if(qr(Ve,Ve.stateNode.containerInfo),Ue===null)throw Error(Pe(387));Ze=Ve.pendingProps;var vr=Ve.memoizedState;ur=vr.element,Fn(Ue,Ve),ki(Ve,Ze,null,Ge);var Lr=Ve.memoizedState;if(Ze=Lr.cache,hc(Ve,eo,Ze),Ze!==vr.cache&&ed(Ve,[eo],Ge,!0),es(),Ze=Lr.element,vr.isDehydrated)if(vr={element:Ze,isDehydrated:!1,cache:Lr.cache},Ve.updateQueue.baseState=vr,Ve.memoizedState=vr,Ve.flags&256){Ve=Mu(Ue,Ve,Ze,Ge);break e}else if(Ze!==ur){ur=Cs(Error(Pe(424)),Ve),af(ur),Ve=Mu(Ue,Ve,Ze,Ge);break e}else{switch(Ue=Ve.stateNode.containerInfo,Ue.nodeType){case 9:Ue=Ue.body;break;default:Ue=Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue}for(Fa=Xu(Ue.firstChild),Za=Ve,Ws=!0,au=null,dc=!0,Ge=Gd(Ve,null,Ze,Ge),Ve.child=Ge;Ge;)Ge.flags=Ge.flags&-3|4096,Ge=Ge.sibling}else{if(No(),Ze===ur){Ve=Uu(Ue,Ve,Ge);break e}Mo(Ue,Ve,Ze,Ge)}Ve=Ve.child}return Ve;case 26:return Oa(Ue,Ve),Ue===null?(Ge=sm(Ve.type,null,Ve.pendingProps,null))?Ve.memoizedState=Ge:Ws||(Ge=Ve.type,Ue=Ve.pendingProps,Ze=KA(Or.current).createElement(Ge),Ze[Qi]=Ve,Ze[ks]=Ue,ml(Ze,Ge,Ue),On(Ze),Ve.stateNode=Ze):Ve.memoizedState=sm(Ve.type,Ue.memoizedProps,Ve.pendingProps,Ue.memoizedState),null;case 27:return Zr(Ve),Ue===null&&Ws&&(Ze=Ve.stateNode=rm(Ve.type,Ve.pendingProps,Or.current),Za=Ve,dc=!0,ur=Fa,wd(Ve.type)?(Cp=ur,Fa=Xu(Ze.firstChild)):Fa=ur),Mo(Ue,Ve,Ve.pendingProps.children,Ge),Oa(Ue,Ve),Ue===null&&(Ve.flags|=4194304),Ve.child;case 5:return Ue===null&&Ws&&((ur=Ze=Fa)&&(Ze=Mm(Ze,Ve.type,Ve.pendingProps,dc),Ze!==null?(Ve.stateNode=Ze,Za=Ve,Fa=Xu(Ze.firstChild),dc=!1,ur=!0):ur=!1),ur||Tu(Ve)),Zr(Ve),ur=Ve.type,vr=Ve.pendingProps,Lr=Ue!==null?Ue.memoizedProps:null,Ze=vr.children,Ep(ur,vr)?Ze=null:Lr!==null&&Ep(ur,Lr)&&(Ve.flags|=32),Ve.memoizedState!==null&&(ur=Wl(Ue,Ve,ou,null,null,Ge),vA._currentValue=ur),Oa(Ue,Ve),Mo(Ue,Ve,Ze,Ge),Ve.child;case 6:return Ue===null&&Ws&&((Ue=Ge=Fa)&&(Ge=Um(Ge,Ve.pendingProps,dc),Ge!==null?(Ve.stateNode=Ge,Za=Ve,Fa=null,Ue=!0):Ue=!1),Ue||Tu(Ve)),null;case 13:return Jh(Ue,Ve,Ge);case 4:return qr(Ve,Ve.stateNode.containerInfo),Ze=Ve.pendingProps,Ue===null?Ve.child=Ad(Ve,null,Ze,Ge):Mo(Ue,Ve,Ze,Ge),Ve.child;case 11:return Xh(Ue,Ve,Ve.type,Ve.pendingProps,Ge);case 7:return Mo(Ue,Ve,Ve.pendingProps,Ge),Ve.child;case 8:return Mo(Ue,Ve,Ve.pendingProps.children,Ge),Ve.child;case 12:return Mo(Ue,Ve,Ve.pendingProps.children,Ge),Ve.child;case 10:return Ze=Ve.pendingProps,hc(Ve,Ve.type,Ze.value),Mo(Ue,Ve,Ze.children,Ge),Ve.child;case 9:return ur=Ve.type._context,Ze=Ve.pendingProps.children,Ac(Ve),ur=Ja(ur),Ze=Ze(ur),Ve.flags|=1,Mo(Ue,Ve,Ze,Ge),Ve.child;case 14:return BA(Ue,Ve,Ve.type,Ve.pendingProps,Ge);case 15:return jA(Ue,Ve,Ve.type,Ve.pendingProps,Ge);case 19:return gd(Ue,Ve,Ge);case 31:return Ze=Ve.pendingProps,Ge=Ve.mode,Ze={mode:Ze.mode,children:Ze.children},Ue===null?(Ge=md(Ze,Ge),Ge.ref=Ve.ref,Ve.child=Ge,Ge.return=Ve,Ve=Ge):(Ge=Qo(Ue.child,Ze),Ge.ref=Ve.ref,Ve.child=Ge,Ge.return=Ve,Ve=Ge),Ve;case 22:return Vf(Ue,Ve,Ge);case 24:return Ac(Ve),Ze=Ja(eo),Ue===null?(ur=xr(),ur===null&&(ur=ba,vr=Bd(),ur.pooledCache=vr,vr.refCount++,vr!==null&&(ur.pooledCacheLanes|=Ge),ur=vr),Ve.memoizedState={parent:Ze,cache:ur},Rn(Ve),hc(Ve,eo,ur)):((Ue.lanes&Ge)!==0&&(Fn(Ue,Ve),ki(Ve,null,null,Ge),es()),ur=Ue.memoizedState,vr=Ve.memoizedState,ur.parent!==Ze?(ur={parent:Ze,cache:Ze},Ve.memoizedState=ur,Ve.lanes===0&&(Ve.memoizedState=Ve.updateQueue.baseState=ur),hc(Ve,eo,Ze)):(Ze=vr.cache,hc(Ve,eo,Ze),Ze!==ur.cache&&ed(Ve,[eo],Ge,!0))),Mo(Ue,Ve,Ve.pendingProps.children,Ge),Ve.child;case 29:throw Ve.pendingProps}throw Error(Pe(156,Ve.tag))}function $u(Ue){Ue.flags|=4}function Th(Ue,Ve){if(Ve.type!=="stylesheet"||(Ve.state.loading&4)!==0)Ue.flags&=-16777217;else if(Ue.flags|=16777216,!um(Ve)){if(Ve=Xl.current,Ve!==null&&((Ks&4194048)===Ks?$c!==null:(Ks&62914560)!==Ks&&(Ks&536870912)===0||Ve!==$c))throw Hn=Gr,Hr;Ue.flags|=8192}}function Ch(Ue,Ve){Ve!==null&&(Ue.flags|=4),Ue.flags&16384&&(Ve=Ue.tag!==22?vs():536870912,Ue.lanes|=Ve,bd|=Ve)}function Zd(Ue,Ve){if(!Ws)switch(Ue.tailMode){case"hidden":Ve=Ue.tail;for(var Ge=null;Ve!==null;)Ve.alternate!==null&&(Ge=Ve),Ve=Ve.sibling;Ge===null?Ue.tail=null:Ge.sibling=null;break;case"collapsed":Ge=Ue.tail;for(var Ze=null;Ge!==null;)Ge.alternate!==null&&(Ze=Ge),Ge=Ge.sibling;Ze===null?Ve||Ue.tail===null?Ue.tail=null:Ue.tail.sibling=null:Ze.sibling=null}}function za(Ue){var Ve=Ue.alternate!==null&&Ue.alternate.child===Ue.child,Ge=0,Ze=0;if(Ve)for(var ur=Ue.child;ur!==null;)Ge|=ur.lanes|ur.childLanes,Ze|=ur.subtreeFlags&65011712,Ze|=ur.flags&65011712,ur.return=Ue,ur=ur.sibling;else for(ur=Ue.child;ur!==null;)Ge|=ur.lanes|ur.childLanes,Ze|=ur.subtreeFlags,Ze|=ur.flags,ur.return=Ue,ur=ur.sibling;return Ue.subtreeFlags|=Ze,Ue.childLanes=Ge,Ve}function ap(Ue,Ve,Ge){var Ze=Ve.pendingProps;switch(su(Ve),Ve.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return za(Ve),null;case 1:return za(Ve),null;case 3:return Ge=Ve.stateNode,Ze=null,Ue!==null&&(Ze=Ue.memoizedState.cache),Ve.memoizedState.cache!==Ze&&(Ve.flags|=2048),Al(eo),Kr(),Ge.pendingContext&&(Ge.context=Ge.pendingContext,Ge.pendingContext=null),(Ue===null||Ue.child===null)&&(zo(Ve)?$u(Ve):Ue===null||Ue.memoizedState.isDehydrated&&(Ve.flags&256)===0||(Ve.flags|=1024,ch())),za(Ve),null;case 26:return Ge=Ve.memoizedState,Ue===null?($u(Ve),Ge!==null?(za(Ve),Th(Ve,Ge)):(za(Ve),Ve.flags&=-16777217)):Ge?Ge!==Ue.memoizedState?($u(Ve),za(Ve),Th(Ve,Ge)):(za(Ve),Ve.flags&=-16777217):(Ue.memoizedProps!==Ze&&$u(Ve),za(Ve),Ve.flags&=-16777217),null;case 27:yn(Ve),Ge=Or.current;var ur=Ve.type;if(Ue!==null&&Ve.stateNode!=null)Ue.memoizedProps!==Ze&&$u(Ve);else{if(!Ze){if(Ve.stateNode===null)throw Error(Pe(166));return za(Ve),null}Ue=Pr.current,zo(Ve)?lh(Ve):(Ue=rm(ur,Ze,Ge),Ve.stateNode=Ue,$u(Ve))}return za(Ve),null;case 5:if(yn(Ve),Ge=Ve.type,Ue!==null&&Ve.stateNode!=null)Ue.memoizedProps!==Ze&&$u(Ve);else{if(!Ze){if(Ve.stateNode===null)throw Error(Pe(166));return za(Ve),null}if(Ue=Pr.current,zo(Ve))lh(Ve);else{switch(ur=KA(Or.current),Ue){case 1:Ue=ur.createElementNS("http://www.w3.org/2000/svg",Ge);break;case 2:Ue=ur.createElementNS("http://www.w3.org/1998/Math/MathML",Ge);break;default:switch(Ge){case"svg":Ue=ur.createElementNS("http://www.w3.org/2000/svg",Ge);break;case"math":Ue=ur.createElementNS("http://www.w3.org/1998/Math/MathML",Ge);break;case"script":Ue=ur.createElement("div"),Ue.innerHTML="<script><\/script>",Ue=Ue.removeChild(Ue.firstChild);break;case"select":Ue=typeof Ze.is=="string"?ur.createElement("select",{is:Ze.is}):ur.createElement("select"),Ze.multiple?Ue.multiple=!0:Ze.size&&(Ue.size=Ze.size);break;default:Ue=typeof Ze.is=="string"?ur.createElement(Ge,{is:Ze.is}):ur.createElement(Ge)}}Ue[Qi]=Ve,Ue[ks]=Ze;e:for(ur=Ve.child;ur!==null;){if(ur.tag===5||ur.tag===6)Ue.appendChild(ur.stateNode);else if(ur.tag!==4&&ur.tag!==27&&ur.child!==null){ur.child.return=ur,ur=ur.child;continue}if(ur===Ve)break e;for(;ur.sibling===null;){if(ur.return===null||ur.return===Ve)break e;ur=ur.return}ur.sibling.return=ur.return,ur=ur.sibling}Ve.stateNode=Ue;e:switch(ml(Ue,Ge,Ze),Ge){case"button":case"input":case"select":case"textarea":Ue=!!Ze.autoFocus;break e;case"img":Ue=!0;break e;default:Ue=!1}Ue&&$u(Ve)}}return za(Ve),Ve.flags&=-16777217,null;case 6:if(Ue&&Ve.stateNode!=null)Ue.memoizedProps!==Ze&&$u(Ve);else{if(typeof Ze!="string"&&Ve.stateNode===null)throw Error(Pe(166));if(Ue=Or.current,zo(Ve)){if(Ue=Ve.stateNode,Ge=Ve.memoizedProps,Ze=null,ur=Za,ur!==null)switch(ur.tag){case 27:case 5:Ze=ur.memoizedProps}Ue[Qi]=Ve,Ue=!!(Ue.nodeValue===Ge||Ze!==null&&Ze.suppressHydrationWarning===!0||qp(Ue.nodeValue,Ge)),Ue||Tu(Ve)}else Ue=KA(Ue).createTextNode(Ze),Ue[Qi]=Ve,Ve.stateNode=Ue}return za(Ve),null;case 13:if(Ze=Ve.memoizedState,Ue===null||Ue.memoizedState!==null&&Ue.memoizedState.dehydrated!==null){if(ur=zo(Ve),Ze!==null&&Ze.dehydrated!==null){if(Ue===null){if(!ur)throw Error(Pe(318));if(ur=Ve.memoizedState,ur=ur!==null?ur.dehydrated:null,!ur)throw Error(Pe(317));ur[Qi]=Ve}else No(),(Ve.flags&128)===0&&(Ve.memoizedState=null),Ve.flags|=4;za(Ve),ur=!1}else ur=ch(),Ue!==null&&Ue.memoizedState!==null&&(Ue.memoizedState.hydrationErrors=ur),ur=!0;if(!ur)return Ve.flags&256?(Bl(Ve),Ve):(Bl(Ve),null)}if(Bl(Ve),(Ve.flags&128)!==0)return Ve.lanes=Ge,Ve;if(Ge=Ze!==null,Ue=Ue!==null&&Ue.memoizedState!==null,Ge){Ze=Ve.child,ur=null,Ze.alternate!==null&&Ze.alternate.memoizedState!==null&&Ze.alternate.memoizedState.cachePool!==null&&(ur=Ze.alternate.memoizedState.cachePool.pool);var vr=null;Ze.memoizedState!==null&&Ze.memoizedState.cachePool!==null&&(vr=Ze.memoizedState.cachePool.pool),vr!==ur&&(Ze.flags|=2048)}return Ge!==Ue&&Ge&&(Ve.child.flags|=8192),Ch(Ve,Ve.updateQueue),za(Ve),null;case 4:return Kr(),Ue===null&&vp(Ve.stateNode.containerInfo),za(Ve),null;case 10:return Al(Ve.type),za(Ve),null;case 19:if(hr(uo),ur=Ve.memoizedState,ur===null)return za(Ve),null;if(Ze=(Ve.flags&128)!==0,vr=ur.rendering,vr===null)if(Ze)Zd(ur,!1);else{if(qa!==0||Ue!==null&&(Ue.flags&128)!==0)for(Ue=Ve.child;Ue!==null;){if(vr=$f(Ue),vr!==null){for(Ve.flags|=128,Zd(ur,!1),Ue=vr.updateQueue,Ve.updateQueue=Ue,Ch(Ve,Ue),Ve.subtreeFlags=0,Ue=Ge,Ge=Ve.child;Ge!==null;)Cf(Ge,Ue),Ge=Ge.sibling;return _r(uo,uo.current&1|2),Ve.child}Ue=Ue.sibling}ur.tail!==null&&qn()>nr&&(Ve.flags|=128,Ze=!0,Zd(ur,!1),Ve.lanes=4194304)}else{if(!Ze)if(Ue=$f(vr),Ue!==null){if(Ve.flags|=128,Ze=!0,Ue=Ue.updateQueue,Ve.updateQueue=Ue,Ch(Ve,Ue),Zd(ur,!0),ur.tail===null&&ur.tailMode==="hidden"&&!vr.alternate&&!Ws)return za(Ve),null}else 2*qn()-ur.renderingStartTime>nr&&Ge!==536870912&&(Ve.flags|=128,Ze=!0,Zd(ur,!1),Ve.lanes=4194304);ur.isBackwards?(vr.sibling=Ve.child,Ve.child=vr):(Ue=ur.last,Ue!==null?Ue.sibling=vr:Ve.child=vr,ur.last=vr)}return ur.tail!==null?(Ve=ur.tail,ur.rendering=Ve,ur.tail=Ve.sibling,ur.renderingStartTime=qn(),Ve.sibling=null,Ue=uo.current,_r(uo,Ze?Ue&1|2:Ue&1),Ve):(za(Ve),null);case 22:case 23:return Bl(Ve),hs(),Ze=Ve.memoizedState!==null,Ue!==null?Ue.memoizedState!==null!==Ze&&(Ve.flags|=8192):Ze&&(Ve.flags|=8192),Ze?(Ge&536870912)!==0&&(Ve.flags&128)===0&&(za(Ve),Ve.subtreeFlags&6&&(Ve.flags|=8192)):za(Ve),Ge=Ve.updateQueue,Ge!==null&&Ch(Ve,Ge.retryQueue),Ge=null,Ue!==null&&Ue.memoizedState!==null&&Ue.memoizedState.cachePool!==null&&(Ge=Ue.memoizedState.cachePool.pool),Ze=null,Ve.memoizedState!==null&&Ve.memoizedState.cachePool!==null&&(Ze=Ve.memoizedState.cachePool.pool),Ze!==Ge&&(Ve.flags|=2048),Ue!==null&&hr(dr),null;case 24:return Ge=null,Ue!==null&&(Ge=Ue.memoizedState.cache),Ve.memoizedState.cache!==Ge&&(Ve.flags|=2048),Al(eo),za(Ve),null;case 25:return null;case 30:return null}throw Error(Pe(156,Ve.tag))}function op(Ue,Ve){switch(su(Ve),Ve.tag){case 1:return Ue=Ve.flags,Ue&65536?(Ve.flags=Ue&-65537|128,Ve):null;case 3:return Al(eo),Kr(),Ue=Ve.flags,(Ue&65536)!==0&&(Ue&128)===0?(Ve.flags=Ue&-65537|128,Ve):null;case 26:case 27:case 5:return yn(Ve),null;case 13:if(Bl(Ve),Ue=Ve.memoizedState,Ue!==null&&Ue.dehydrated!==null){if(Ve.alternate===null)throw Error(Pe(340));No()}return Ue=Ve.flags,Ue&65536?(Ve.flags=Ue&-65537|128,Ve):null;case 19:return hr(uo),null;case 4:return Kr(),null;case 10:return Al(Ve.type),null;case 22:case 23:return Bl(Ve),hs(),Ue!==null&&hr(dr),Ue=Ve.flags,Ue&65536?(Ve.flags=Ue&-65537|128,Ve):null;case 24:return Al(eo),null;case 25:return null;default:return null}}function Ph(Ue,Ve){switch(su(Ve),Ve.tag){case 3:Al(eo),Kr();break;case 26:case 27:case 5:yn(Ve);break;case 4:Kr();break;case 13:Bl(Ve);break;case 19:hr(uo);break;case 10:Al(Ve.type);break;case 22:case 23:Bl(Ve),hs(),Ue!==null&&hr(dr);break;case 24:Al(eo)}}function Kf(Ue,Ve){try{var Ge=Ve.updateQueue,Ze=Ge!==null?Ge.lastEffect:null;if(Ze!==null){var ur=Ze.next;Ge=ur;do{if((Ge.tag&Ue)===Ue){Ze=void 0;var vr=Ge.create,Lr=Ge.inst;Ze=vr(),Lr.destroy=Ze}Ge=Ge.next}while(Ge!==ur)}}catch(Wr){Ba(Ve,Ve.return,Wr)}}function Vu(Ue,Ve,Ge){try{var Ze=Ve.updateQueue,ur=Ze!==null?Ze.lastEffect:null;if(ur!==null){var vr=ur.next;Ze=vr;do{if((Ze.tag&Ue)===Ue){var Lr=Ze.inst,Wr=Lr.destroy;if(Wr!==void 0){Lr.destroy=void 0,ur=Ve;var xn=Ge,Gn=Wr;try{Gn()}catch(di){Ba(ur,xn,di)}}}Ze=Ze.next}while(Ze!==vr)}}catch(di){Ba(Ve,Ve.return,di)}}function FA(Ue){var Ve=Ue.updateQueue;if(Ve!==null){var Ge=Ue.stateNode;try{qs(Ve,Ge)}catch(Ze){Ba(Ue,Ue.return,Ze)}}}function LA(Ue,Ve,Ge){Ge.props=mf(Ue.type,Ue.memoizedProps),Ge.state=Ue.memoizedState;try{Ge.componentWillUnmount()}catch(Ze){Ba(Ue,Ve,Ze)}}function vd(Ue,Ve){try{var Ge=Ue.ref;if(Ge!==null){switch(Ue.tag){case 26:case 27:case 5:var Ze=Ue.stateNode;break;case 30:Ze=Ue.stateNode;break;default:Ze=Ue.stateNode}typeof Ge=="function"?Ue.refCleanup=Ge(Ze):Ge.current=Ze}}catch(ur){Ba(Ue,Ve,ur)}}function uu(Ue,Ve){var Ge=Ue.ref,Ze=Ue.refCleanup;if(Ge!==null)if(typeof Ze=="function")try{Ze()}catch(ur){Ba(Ue,Ve,ur)}finally{Ue.refCleanup=null,Ue=Ue.alternate,Ue!=null&&(Ue.refCleanup=null)}else if(typeof Ge=="function")try{Ge(null)}catch(ur){Ba(Ue,Ve,ur)}else Ge.current=null}function OA(Ue){var Ve=Ue.type,Ge=Ue.memoizedProps,Ze=Ue.stateNode;try{e:switch(Ve){case"button":case"input":case"select":case"textarea":Ge.autoFocus&&Ze.focus();break e;case"img":Ge.src?Ze.src=Ge.src:Ge.srcSet&&(Ze.srcset=Ge.srcSet)}}catch(ur){Ba(Ue,Ue.return,ur)}}function rA(Ue,Ve,Ge){try{var Ze=Ue.stateNode;Fm(Ze,Ue.type,Ge,Ve),Ze[ks]=Ve}catch(ur){Ba(Ue,Ue.return,ur)}}function NA(Ue){return Ue.tag===5||Ue.tag===3||Ue.tag===26||Ue.tag===27&&wd(Ue.type)||Ue.tag===4}function nA(Ue){e:for(;;){for(;Ue.sibling===null;){if(Ue.return===null||NA(Ue.return))return null;Ue=Ue.return}for(Ue.sibling.return=Ue.return,Ue=Ue.sibling;Ue.tag!==5&&Ue.tag!==6&&Ue.tag!==18;){if(Ue.tag===27&&wd(Ue.type)||Ue.flags&2||Ue.child===null||Ue.tag===4)continue e;Ue.child.return=Ue,Ue=Ue.child}if(!(Ue.flags&2))return Ue.stateNode}}function Jd(Ue,Ve,Ge){var Ze=Ue.tag;if(Ze===5||Ze===6)Ue=Ue.stateNode,Ve?(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).insertBefore(Ue,Ve):(Ve=Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge,Ve.appendChild(Ue),Ge=Ge._reactRootContainer,Ge!=null||Ve.onclick!==null||(Ve.onclick=zA));else if(Ze!==4&&(Ze===27&&wd(Ue.type)&&(Ge=Ue.stateNode,Ve=null),Ue=Ue.child,Ue!==null))for(Jd(Ue,Ve,Ge),Ue=Ue.sibling;Ue!==null;)Jd(Ue,Ve,Ge),Ue=Ue.sibling}function Rh(Ue,Ve,Ge){var Ze=Ue.tag;if(Ze===5||Ze===6)Ue=Ue.stateNode,Ve?Ge.insertBefore(Ue,Ve):Ge.appendChild(Ue);else if(Ze!==4&&(Ze===27&&wd(Ue.type)&&(Ge=Ue.stateNode),Ue=Ue.child,Ue!==null))for(Rh(Ue,Ve,Ge),Ue=Ue.sibling;Ue!==null;)Rh(Ue,Ve,Ge),Ue=Ue.sibling}function Ih(Ue){var Ve=Ue.stateNode,Ge=Ue.memoizedProps;try{for(var Ze=Ue.type,ur=Ve.attributes;ur.length;)Ve.removeAttributeNode(ur[0]);ml(Ve,Ze,Ge),Ve[Qi]=Ue,Ve[ks]=Ge}catch(vr){Ba(Ue,Ue.return,vr)}}var Hu=!1,Pi=!1,gf=!1,eh=typeof WeakSet=="function"?WeakSet:Set,ca=null;function lp(Ue,Ve){if(Ue=Ue.containerInfo,_p=ZA,Ue=Lo(Ue),Xa(Ue)){if("selectionStart"in Ue)var Ge={start:Ue.selectionStart,end:Ue.selectionEnd};else e:{Ge=(Ge=Ue.ownerDocument)&&Ge.defaultView||window;var Ze=Ge.getSelection&&Ge.getSelection();if(Ze&&Ze.rangeCount!==0){Ge=Ze.anchorNode;var ur=Ze.anchorOffset,vr=Ze.focusNode;Ze=Ze.focusOffset;try{Ge.nodeType,vr.nodeType}catch{Ge=null;break e}var Lr=0,Wr=-1,xn=-1,Gn=0,di=0,vi=Ue,Xn=null;t:for(;;){for(var Zn;vi!==Ge||ur!==0&&vi.nodeType!==3||(Wr=Lr+ur),vi!==vr||Ze!==0&&vi.nodeType!==3||(xn=Lr+Ze),vi.nodeType===3&&(Lr+=vi.nodeValue.length),(Zn=vi.firstChild)!==null;)Xn=vi,vi=Zn;for(;;){if(vi===Ue)break t;if(Xn===Ge&&++Gn===ur&&(Wr=Lr),Xn===vr&&++di===Ze&&(xn=Lr),(Zn=vi.nextSibling)!==null)break;vi=Xn,Xn=vi.parentNode}vi=Zn}Ge=Wr===-1||xn===-1?null:{start:Wr,end:xn}}else Ge=null}Ge=Ge||{start:0,end:0}}else Ge=null;for(bp={focusedElem:Ue,selectionRange:Ge},ZA=!1,ca=Ve;ca!==null;)if(Ve=ca,Ue=Ve.child,(Ve.subtreeFlags&1024)!==0&&Ue!==null)Ue.return=Ve,ca=Ue;else for(;ca!==null;){switch(Ve=ca,vr=Ve.alternate,Ue=Ve.flags,Ve.tag){case 0:break;case 11:case 15:break;case 1:if((Ue&1024)!==0&&vr!==null){Ue=void 0,Ge=Ve,ur=vr.memoizedProps,vr=vr.memoizedState,Ze=Ge.stateNode;try{var gs=mf(Ge.type,ur,Ge.elementType===Ge.type);Ue=Ze.getSnapshotBeforeUpdate(gs,vr),Ze.__reactInternalSnapshotBeforeUpdate=Ue}catch(ds){Ba(Ge,Ge.return,ds)}}break;case 3:if((Ue&1024)!==0){if(Ue=Ve.stateNode.containerInfo,Ge=Ue.nodeType,Ge===9)Sp(Ue);else if(Ge===1)switch(Ue.nodeName){case"HEAD":case"HTML":case"BODY":Sp(Ue);break;default:Ue.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((Ue&1024)!==0)throw Error(Pe(163))}if(Ue=Ve.sibling,Ue!==null){Ue.return=Ve.return,ca=Ue;break}ca=Ve.return}}function ea(Ue,Ve,Ge){var Ze=Ge.flags;switch(Ge.tag){case 0:case 11:case 15:Qu(Ue,Ge),Ze&4&&Kf(5,Ge);break;case 1:if(Qu(Ue,Ge),Ze&4)if(Ue=Ge.stateNode,Ve===null)try{Ue.componentDidMount()}catch(Lr){Ba(Ge,Ge.return,Lr)}else{var ur=mf(Ge.type,Ve.memoizedProps);Ve=Ve.memoizedState;try{Ue.componentDidUpdate(ur,Ve,Ue.__reactInternalSnapshotBeforeUpdate)}catch(Lr){Ba(Ge,Ge.return,Lr)}}Ze&64&&FA(Ge),Ze&512&&vd(Ge,Ge.return);break;case 3:if(Qu(Ue,Ge),Ze&64&&(Ue=Ge.updateQueue,Ue!==null)){if(Ve=null,Ge.child!==null)switch(Ge.child.tag){case 27:case 5:Ve=Ge.child.stateNode;break;case 1:Ve=Ge.child.stateNode}try{qs(Ue,Ve)}catch(Lr){Ba(Ge,Ge.return,Lr)}}break;case 27:Ve===null&&Ze&4&&Ih(Ge);case 26:case 5:Qu(Ue,Ge),Ve===null&&Ze&4&&OA(Ge),Ze&512&&vd(Ge,Ge.return);break;case 12:Qu(Ue,Ge);break;case 13:Qu(Ue,Ge),Ze&4&&th(Ue,Ge),Ze&64&&(Ue=Ge.memoizedState,Ue!==null&&(Ue=Ue.dehydrated,Ue!==null&&(Ge=Em.bind(null,Ge),$m(Ue,Ge))));break;case 22:if(Ze=Ge.memoizedState!==null||Hu,!Ze){Ve=Ve!==null&&Ve.memoizedState!==null||Pi,ur=Hu;var vr=Pi;Hu=Ze,(Pi=Ve)&&!vr?Ku(Ue,Ge,(Ge.subtreeFlags&8772)!==0):Qu(Ue,Ge),Hu=ur,Pi=vr}break;case 30:break;default:Qu(Ue,Ge)}}function Ia(Ue){var Ve=Ue.alternate;Ve!==null&&(Ue.alternate=null,Ia(Ve)),Ue.child=null,Ue.deletions=null,Ue.sibling=null,Ue.tag===5&&(Ve=Ue.stateNode,Ve!==null&&un(Ve)),Ue.stateNode=null,Ue.return=null,Ue.dependencies=null,Ue.memoizedProps=null,Ue.memoizedState=null,Ue.pendingProps=null,Ue.stateNode=null,Ue.updateQueue=null}var ma=null,jl=!1;function gc(Ue,Ve,Ge){for(Ge=Ge.child;Ge!==null;)kA(Ue,Ve,Ge),Ge=Ge.sibling}function kA(Ue,Ve,Ge){if(Bi&&typeof Bi.onCommitFiberUnmount=="function")try{Bi.onCommitFiberUnmount(Si,Ge)}catch{}switch(Ge.tag){case 26:Pi||uu(Ge,Ve),gc(Ue,Ve,Ge),Ge.memoizedState?Ge.memoizedState.count--:Ge.stateNode&&(Ge=Ge.stateNode,Ge.parentNode.removeChild(Ge));break;case 27:Pi||uu(Ge,Ve);var Ze=ma,ur=jl;wd(Ge.type)&&(ma=Ge.stateNode,jl=!1),gc(Ue,Ve,Ge),AA(Ge.stateNode),ma=Ze,jl=ur;break;case 5:Pi||uu(Ge,Ve);case 6:if(Ze=ma,ur=jl,ma=null,gc(Ue,Ve,Ge),ma=Ze,jl=ur,ma!==null)if(jl)try{(ma.nodeType===9?ma.body:ma.nodeName==="HTML"?ma.ownerDocument.body:ma).removeChild(Ge.stateNode)}catch(vr){Ba(Ge,Ve,vr)}else try{ma.removeChild(Ge.stateNode)}catch(vr){Ba(Ge,Ve,vr)}break;case 18:ma!==null&&(jl?(Ue=ma,em(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue,Ge.stateNode),bA(Ue)):em(ma,Ge.stateNode));break;case 4:Ze=ma,ur=jl,ma=Ge.stateNode.containerInfo,jl=!0,gc(Ue,Ve,Ge),ma=Ze,jl=ur;break;case 0:case 11:case 14:case 15:Pi||Vu(2,Ge,Ve),Pi||Vu(4,Ge,Ve),gc(Ue,Ve,Ge);break;case 1:Pi||(uu(Ge,Ve),Ze=Ge.stateNode,typeof Ze.componentWillUnmount=="function"&&LA(Ge,Ve,Ze)),gc(Ue,Ve,Ge);break;case 21:gc(Ue,Ve,Ge);break;case 22:Pi=(Ze=Pi)||Ge.memoizedState!==null,gc(Ue,Ve,Ge),Pi=Ze;break;default:gc(Ue,Ve,Ge)}}function th(Ue,Ve){if(Ve.memoizedState===null&&(Ue=Ve.alternate,Ue!==null&&(Ue=Ue.memoizedState,Ue!==null&&(Ue=Ue.dehydrated,Ue!==null))))try{bA(Ue)}catch(Ge){Ba(Ve,Ve.return,Ge)}}function cp(Ue){switch(Ue.tag){case 13:case 19:var Ve=Ue.stateNode;return Ve===null&&(Ve=Ue.stateNode=new eh),Ve;case 22:return Ue=Ue.stateNode,Ve=Ue._retryCache,Ve===null&&(Ve=Ue._retryCache=new eh),Ve;default:throw Error(Pe(435,Ue.tag))}}function iA(Ue,Ve){var Ge=cp(Ue);Ve.forEach(function(Ze){var ur=wm.bind(null,Ue,Ze);Ge.has(Ze)||(Ge.add(Ze),Ze.then(ur,ur))})}function Dl(Ue,Ve){var Ge=Ve.deletions;if(Ge!==null)for(var Ze=0;Ze<Ge.length;Ze++){var ur=Ge[Ze],vr=Ue,Lr=Ve,Wr=Lr;e:for(;Wr!==null;){switch(Wr.tag){case 27:if(wd(Wr.type)){ma=Wr.stateNode,jl=!1;break e}break;case 5:ma=Wr.stateNode,jl=!1;break e;case 3:case 4:ma=Wr.stateNode.containerInfo,jl=!0;break e}Wr=Wr.return}if(ma===null)throw Error(Pe(160));kA(vr,Lr,ur),ma=null,jl=!1,vr=ur.alternate,vr!==null&&(vr.return=null),ur.return=null}if(Ve.subtreeFlags&13878)for(Ve=Ve.child;Ve!==null;)sA(Ve,Ue),Ve=Ve.sibling}var Hc=null;function sA(Ue,Ve){var Ge=Ue.alternate,Ze=Ue.flags;switch(Ue.tag){case 0:case 11:case 14:case 15:Dl(Ve,Ue),Zl(Ue),Ze&4&&(Vu(3,Ue,Ue.return),Kf(3,Ue),Vu(5,Ue,Ue.return));break;case 1:Dl(Ve,Ue),Zl(Ue),Ze&512&&(Pi||Ge===null||uu(Ge,Ge.return)),Ze&64&&Hu&&(Ue=Ue.updateQueue,Ue!==null&&(Ze=Ue.callbacks,Ze!==null&&(Ge=Ue.shared.hiddenCallbacks,Ue.shared.hiddenCallbacks=Ge===null?Ze:Ge.concat(Ze))));break;case 26:var ur=Hc;if(Dl(Ve,Ue),Zl(Ue),Ze&512&&(Pi||Ge===null||uu(Ge,Ge.return)),Ze&4){var vr=Ge!==null?Ge.memoizedState:null;if(Ze=Ue.memoizedState,Ge===null)if(Ze===null)if(Ue.stateNode===null){e:{Ze=Ue.type,Ge=Ue.memoizedProps,ur=ur.ownerDocument||ur;t:switch(Ze){case"title":vr=ur.getElementsByTagName("title")[0],(!vr||vr[Xr]||vr[Qi]||vr.namespaceURI==="http://www.w3.org/2000/svg"||vr.hasAttribute("itemprop"))&&(vr=ur.createElement(Ze),ur.head.insertBefore(vr,ur.querySelector("head > title"))),ml(vr,Ze,Ge),vr[Qi]=Ue,On(vr),Ze=vr;break e;case"link":var Lr=lm("link","href",ur).get(Ze+(Ge.href||""));if(Lr){for(var Wr=0;Wr<Lr.length;Wr++)if(vr=Lr[Wr],vr.getAttribute("href")===(Ge.href==null||Ge.href===""?null:Ge.href)&&vr.getAttribute("rel")===(Ge.rel==null?null:Ge.rel)&&vr.getAttribute("title")===(Ge.title==null?null:Ge.title)&&vr.getAttribute("crossorigin")===(Ge.crossOrigin==null?null:Ge.crossOrigin)){Lr.splice(Wr,1);break t}}vr=ur.createElement(Ze),ml(vr,Ze,Ge),ur.head.appendChild(vr);break;case"meta":if(Lr=lm("meta","content",ur).get(Ze+(Ge.content||""))){for(Wr=0;Wr<Lr.length;Wr++)if(vr=Lr[Wr],vr.getAttribute("content")===(Ge.content==null?null:""+Ge.content)&&vr.getAttribute("name")===(Ge.name==null?null:Ge.name)&&vr.getAttribute("property")===(Ge.property==null?null:Ge.property)&&vr.getAttribute("http-equiv")===(Ge.httpEquiv==null?null:Ge.httpEquiv)&&vr.getAttribute("charset")===(Ge.charSet==null?null:Ge.charSet)){Lr.splice(Wr,1);break t}}vr=ur.createElement(Ze),ml(vr,Ze,Ge),ur.head.appendChild(vr);break;default:throw Error(Pe(468,Ze))}vr[Qi]=Ue,On(vr),Ze=vr}Ue.stateNode=Ze}else cm(ur,Ue.type,Ue.stateNode);else Ue.stateNode=om(ur,Ze,Ue.memoizedProps);else vr!==Ze?(vr===null?Ge.stateNode!==null&&(Ge=Ge.stateNode,Ge.parentNode.removeChild(Ge)):vr.count--,Ze===null?cm(ur,Ue.type,Ue.stateNode):om(ur,Ze,Ue.memoizedProps)):Ze===null&&Ue.stateNode!==null&&rA(Ue,Ue.memoizedProps,Ge.memoizedProps)}break;case 27:Dl(Ve,Ue),Zl(Ue),Ze&512&&(Pi||Ge===null||uu(Ge,Ge.return)),Ge!==null&&Ze&4&&rA(Ue,Ue.memoizedProps,Ge.memoizedProps);break;case 5:if(Dl(Ve,Ue),Zl(Ue),Ze&512&&(Pi||Ge===null||uu(Ge,Ge.return)),Ue.flags&32){ur=Ue.stateNode;try{Go(ur,"")}catch(Zn){Ba(Ue,Ue.return,Zn)}}Ze&4&&Ue.stateNode!=null&&(ur=Ue.memoizedProps,rA(Ue,ur,Ge!==null?Ge.memoizedProps:ur)),Ze&1024&&(gf=!0);break;case 6:if(Dl(Ve,Ue),Zl(Ue),Ze&4){if(Ue.stateNode===null)throw Error(Pe(162));Ze=Ue.memoizedProps,Ge=Ue.stateNode;try{Ge.nodeValue=Ze}catch(Zn){Ba(Ue,Ue.return,Zn)}}break;case 3:if(qA=null,ur=Hc,Hc=WA(Ve.containerInfo),Dl(Ve,Ue),Hc=ur,Zl(Ue),Ze&4&&Ge!==null&&Ge.memoizedState.isDehydrated)try{bA(Ve.containerInfo)}catch(Zn){Ba(Ue,Ue.return,Zn)}gf&&(gf=!1,aA(Ue));break;case 4:Ze=Hc,Hc=WA(Ue.stateNode.containerInfo),Dl(Ve,Ue),Zl(Ue),Hc=Ze;break;case 12:Dl(Ve,Ue),Zl(Ue);break;case 13:Dl(Ve,Ue),Zl(Ue),Ue.child.flags&8192&&Ue.memoizedState!==null!=(Ge!==null&&Ge.memoizedState!==null)&&(sr=qn()),Ze&4&&(Ze=Ue.updateQueue,Ze!==null&&(Ue.updateQueue=null,iA(Ue,Ze)));break;case 22:ur=Ue.memoizedState!==null;var xn=Ge!==null&&Ge.memoizedState!==null,Gn=Hu,di=Pi;if(Hu=Gn||ur,Pi=di||xn,Dl(Ve,Ue),Pi=di,Hu=Gn,Zl(Ue),Ze&8192)e:for(Ve=Ue.stateNode,Ve._visibility=ur?Ve._visibility&-2:Ve._visibility|1,ur&&(Ge===null||xn||Hu||Pi||zu(Ue)),Ge=null,Ve=Ue;;){if(Ve.tag===5||Ve.tag===26){if(Ge===null){xn=Ge=Ve;try{if(vr=xn.stateNode,ur)Lr=vr.style,typeof Lr.setProperty=="function"?Lr.setProperty("display","none","important"):Lr.display="none";else{Wr=xn.stateNode;var vi=xn.memoizedProps.style,Xn=vi!=null&&vi.hasOwnProperty("display")?vi.display:null;Wr.style.display=Xn==null||typeof Xn=="boolean"?"":(""+Xn).trim()}}catch(Zn){Ba(xn,xn.return,Zn)}}}else if(Ve.tag===6){if(Ge===null){xn=Ve;try{xn.stateNode.nodeValue=ur?"":xn.memoizedProps}catch(Zn){Ba(xn,xn.return,Zn)}}}else if((Ve.tag!==22&&Ve.tag!==23||Ve.memoizedState===null||Ve===Ue)&&Ve.child!==null){Ve.child.return=Ve,Ve=Ve.child;continue}if(Ve===Ue)break e;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===Ue)break e;Ge===Ve&&(Ge=null),Ve=Ve.return}Ge===Ve&&(Ge=null),Ve.sibling.return=Ve.return,Ve=Ve.sibling}Ze&4&&(Ze=Ue.updateQueue,Ze!==null&&(Ge=Ze.retryQueue,Ge!==null&&(Ze.retryQueue=null,iA(Ue,Ge))));break;case 19:Dl(Ve,Ue),Zl(Ue),Ze&4&&(Ze=Ue.updateQueue,Ze!==null&&(Ue.updateQueue=null,iA(Ue,Ze)));break;case 30:break;case 21:break;default:Dl(Ve,Ue),Zl(Ue)}}function Zl(Ue){var Ve=Ue.flags;if(Ve&2){try{for(var Ge,Ze=Ue.return;Ze!==null;){if(NA(Ze)){Ge=Ze;break}Ze=Ze.return}if(Ge==null)throw Error(Pe(160));switch(Ge.tag){case 27:var ur=Ge.stateNode,vr=nA(Ue);Rh(Ue,vr,ur);break;case 5:var Lr=Ge.stateNode;Ge.flags&32&&(Go(Lr,""),Ge.flags&=-33);var Wr=nA(Ue);Rh(Ue,Wr,Lr);break;case 3:case 4:var xn=Ge.stateNode.containerInfo,Gn=nA(Ue);Jd(Ue,Gn,xn);break;default:throw Error(Pe(161))}}catch(di){Ba(Ue,Ue.return,di)}Ue.flags&=-3}Ve&4096&&(Ue.flags&=-4097)}function aA(Ue){if(Ue.subtreeFlags&1024)for(Ue=Ue.child;Ue!==null;){var Ve=Ue;aA(Ve),Ve.tag===5&&Ve.flags&1024&&Ve.stateNode.reset(),Ue=Ue.sibling}}function Qu(Ue,Ve){if(Ve.subtreeFlags&8772)for(Ve=Ve.child;Ve!==null;)ea(Ue,Ve.alternate,Ve),Ve=Ve.sibling}function zu(Ue){for(Ue=Ue.child;Ue!==null;){var Ve=Ue;switch(Ve.tag){case 0:case 11:case 14:case 15:Vu(4,Ve,Ve.return),zu(Ve);break;case 1:uu(Ve,Ve.return);var Ge=Ve.stateNode;typeof Ge.componentWillUnmount=="function"&&LA(Ve,Ve.return,Ge),zu(Ve);break;case 27:AA(Ve.stateNode);case 26:case 5:uu(Ve,Ve.return),zu(Ve);break;case 22:Ve.memoizedState===null&&zu(Ve);break;case 30:zu(Ve);break;default:zu(Ve)}Ue=Ue.sibling}}function Ku(Ue,Ve,Ge){for(Ge=Ge&&(Ve.subtreeFlags&8772)!==0,Ve=Ve.child;Ve!==null;){var Ze=Ve.alternate,ur=Ue,vr=Ve,Lr=vr.flags;switch(vr.tag){case 0:case 11:case 15:Ku(ur,vr,Ge),Kf(4,vr);break;case 1:if(Ku(ur,vr,Ge),Ze=vr,ur=Ze.stateNode,typeof ur.componentDidMount=="function")try{ur.componentDidMount()}catch(Gn){Ba(Ze,Ze.return,Gn)}if(Ze=vr,ur=Ze.updateQueue,ur!==null){var Wr=Ze.stateNode;try{var xn=ur.shared.hiddenCallbacks;if(xn!==null)for(ur.shared.hiddenCallbacks=null,ur=0;ur<xn.length;ur++)zs(xn[ur],Wr)}catch(Gn){Ba(Ze,Ze.return,Gn)}}Ge&&Lr&64&&FA(vr),vd(vr,vr.return);break;case 27:Ih(vr);case 26:case 5:Ku(ur,vr,Ge),Ge&&Ze===null&&Lr&4&&OA(vr),vd(vr,vr.return);break;case 12:Ku(ur,vr,Ge);break;case 13:Ku(ur,vr,Ge),Ge&&Lr&4&&th(ur,vr);break;case 22:vr.memoizedState===null&&Ku(ur,vr,Ge),vd(vr,vr.return);break;case 30:break;default:Ku(ur,vr,Ge)}Ve=Ve.sibling}}function oA(Ue,Ve){var Ge=null;Ue!==null&&Ue.memoizedState!==null&&Ue.memoizedState.cachePool!==null&&(Ge=Ue.memoizedState.cachePool.pool),Ue=null,Ve.memoizedState!==null&&Ve.memoizedState.cachePool!==null&&(Ue=Ve.memoizedState.cachePool.pool),Ue!==Ge&&(Ue!=null&&Ue.refCount++,Ge!=null&&If(Ge))}function Bh(Ue,Ve){Ue=null,Ve.alternate!==null&&(Ue=Ve.alternate.memoizedState.cache),Ve=Ve.memoizedState.cache,Ve!==Ue&&(Ve.refCount++,Ue!=null&&If(Ue))}function fu(Ue,Ve,Ge,Ze){if(Ve.subtreeFlags&10256)for(Ve=Ve.child;Ve!==null;)MA(Ue,Ve,Ge,Ze),Ve=Ve.sibling}function MA(Ue,Ve,Ge,Ze){var ur=Ve.flags;switch(Ve.tag){case 0:case 11:case 15:fu(Ue,Ve,Ge,Ze),ur&2048&&Kf(9,Ve);break;case 1:fu(Ue,Ve,Ge,Ze);break;case 3:fu(Ue,Ve,Ge,Ze),ur&2048&&(Ue=null,Ve.alternate!==null&&(Ue=Ve.alternate.memoizedState.cache),Ve=Ve.memoizedState.cache,Ve!==Ue&&(Ve.refCount++,Ue!=null&&If(Ue)));break;case 12:if(ur&2048){fu(Ue,Ve,Ge,Ze),Ue=Ve.stateNode;try{var vr=Ve.memoizedProps,Lr=vr.id,Wr=vr.onPostCommit;typeof Wr=="function"&&Wr(Lr,Ve.alternate===null?"mount":"update",Ue.passiveEffectDuration,-0)}catch(xn){Ba(Ve,Ve.return,xn)}}else fu(Ue,Ve,Ge,Ze);break;case 13:fu(Ue,Ve,Ge,Ze);break;case 23:break;case 22:vr=Ve.stateNode,Lr=Ve.alternate,Ve.memoizedState!==null?vr._visibility&2?fu(Ue,Ve,Ge,Ze):vf(Ue,Ve):vr._visibility&2?fu(Ue,Ve,Ge,Ze):(vr._visibility|=2,yd(Ue,Ve,Ge,Ze,(Ve.subtreeFlags&10256)!==0)),ur&2048&&oA(Lr,Ve);break;case 24:fu(Ue,Ve,Ge,Ze),ur&2048&&Bh(Ve.alternate,Ve);break;default:fu(Ue,Ve,Ge,Ze)}}function yd(Ue,Ve,Ge,Ze,ur){for(ur=ur&&(Ve.subtreeFlags&10256)!==0,Ve=Ve.child;Ve!==null;){var vr=Ue,Lr=Ve,Wr=Ge,xn=Ze,Gn=Lr.flags;switch(Lr.tag){case 0:case 11:case 15:yd(vr,Lr,Wr,xn,ur),Kf(8,Lr);break;case 23:break;case 22:var di=Lr.stateNode;Lr.memoizedState!==null?di._visibility&2?yd(vr,Lr,Wr,xn,ur):vf(vr,Lr):(di._visibility|=2,yd(vr,Lr,Wr,xn,ur)),ur&&Gn&2048&&oA(Lr.alternate,Lr);break;case 24:yd(vr,Lr,Wr,xn,ur),ur&&Gn&2048&&Bh(Lr.alternate,Lr);break;default:yd(vr,Lr,Wr,xn,ur)}Ve=Ve.sibling}}function vf(Ue,Ve){if(Ve.subtreeFlags&10256)for(Ve=Ve.child;Ve!==null;){var Ge=Ue,Ze=Ve,ur=Ze.flags;switch(Ze.tag){case 22:vf(Ge,Ze),ur&2048&&oA(Ze.alternate,Ze);break;case 24:vf(Ge,Ze),ur&2048&&Bh(Ze.alternate,Ze);break;default:vf(Ge,Ze)}Ve=Ve.sibling}}var al=8192;function Wf(Ue){if(Ue.subtreeFlags&al)for(Ue=Ue.child;Ue!==null;)rh(Ue),Ue=Ue.sibling}function rh(Ue){switch(Ue.tag){case 26:Wf(Ue),Ue.flags&al&&Ue.memoizedState!==null&&eg(Hc,Ue.memoizedState,Ue.memoizedProps);break;case 5:Wf(Ue);break;case 3:case 4:var Ve=Hc;Hc=WA(Ue.stateNode.containerInfo),Wf(Ue),Hc=Ve;break;case 22:Ue.memoizedState===null&&(Ve=Ue.alternate,Ve!==null&&Ve.memoizedState!==null?(Ve=al,al=16777216,Wf(Ue),al=Ve):Wf(Ue));break;default:Wf(Ue)}}function UA(Ue){var Ve=Ue.alternate;if(Ve!==null&&(Ue=Ve.child,Ue!==null)){Ve.child=null;do Ve=Ue.sibling,Ue.sibling=null,Ue=Ve;while(Ue!==null)}}function nh(Ue){var Ve=Ue.deletions;if((Ue.flags&16)!==0){if(Ve!==null)for(var Ge=0;Ge<Ve.length;Ge++){var Ze=Ve[Ge];ca=Ze,ih(Ze,Ue)}UA(Ue)}if(Ue.subtreeFlags&10256)for(Ue=Ue.child;Ue!==null;)jh(Ue),Ue=Ue.sibling}function jh(Ue){switch(Ue.tag){case 0:case 11:case 15:nh(Ue),Ue.flags&2048&&Vu(9,Ue,Ue.return);break;case 3:nh(Ue);break;case 12:nh(Ue);break;case 22:var Ve=Ue.stateNode;Ue.memoizedState!==null&&Ve._visibility&2&&(Ue.return===null||Ue.return.tag!==13)?(Ve._visibility&=-3,Wu(Ue)):nh(Ue);break;default:nh(Ue)}}function Wu(Ue){var Ve=Ue.deletions;if((Ue.flags&16)!==0){if(Ve!==null)for(var Ge=0;Ge<Ve.length;Ge++){var Ze=Ve[Ge];ca=Ze,ih(Ze,Ue)}UA(Ue)}for(Ue=Ue.child;Ue!==null;){switch(Ve=Ue,Ve.tag){case 0:case 11:case 15:Vu(8,Ve,Ve.return),Wu(Ve);break;case 22:Ge=Ve.stateNode,Ge._visibility&2&&(Ge._visibility&=-3,Wu(Ve));break;default:Wu(Ve)}Ue=Ue.sibling}}function ih(Ue,Ve){for(;ca!==null;){var Ge=ca;switch(Ge.tag){case 0:case 11:case 15:Vu(8,Ge,Ve);break;case 23:case 22:if(Ge.memoizedState!==null&&Ge.memoizedState.cachePool!==null){var Ze=Ge.memoizedState.cachePool.pool;Ze!=null&&Ze.refCount++}break;case 24:If(Ge.memoizedState.cache)}if(Ze=Ge.child,Ze!==null)Ze.return=Ge,ca=Ze;else e:for(Ge=Ue;ca!==null;){Ze=ca;var ur=Ze.sibling,vr=Ze.return;if(Ia(Ze),Ze===Ge){ca=null;break e}if(ur!==null){ur.return=vr,ca=ur;break e}ca=vr}}}var up={getCacheForType:function(Ue){var Ve=Ja(eo),Ge=Ve.data.get(Ue);return Ge===void 0&&(Ge=Ue(),Ve.data.set(Ue,Ge)),Ge}},xd=typeof WeakMap=="function"?WeakMap:Map,ua=0,ba=null,Fs=null,Ks=0,ia=0,Jl=null,yf=!1,_d=!1,lA=!1,Gu=0,qa=0,xf=0,Gf=0,cA=0,vc=0,bd=0,sh=null,Fl=null,uA=!1,sr=0,nr=1/0,cr=null,lr=null,Sr=0,Fr=null,Vr=null,fn=0,dn=0,In=null,Ln=null,$n=0,ai=null;function Mi(){if((ua&2)!==0&&Ks!==0)return Ks&-Ks;if(mr.T!==null){var Ue=Cu;return Ue!==0?Ue:Ap()}return Js()}function Ii(){vc===0&&(vc=(Ks&536870912)===0||Ws?fa():536870912);var Ue=Xl.current;return Ue!==null&&(Ue.flags|=32),vc}function ji(Ue,Ve,Ge){(Ue===ba&&(ia===2||ia===9)||Ue.cancelPendingCommit!==null)&&(zi(Ue,0),js(Ue,Ks,vc,!1)),Ji(Ue,Ge),((ua&2)===0||Ue!==ba)&&(Ue===ba&&((ua&2)===0&&(Gf|=Ge),qa===4&&js(Ue,Ks,vc,!1)),wf(Ue))}function _s(Ue,Ve,Ge){if((ua&6)!==0)throw Error(Pe(327));var Ze=!Ge&&(Ve&124)===0&&(Ve&Ue.expiredLanes)===0||ws(Ue,Ve),ur=Ze?Aa(Ue,Ve):ol(Ue,Ve,!0),vr=Ze;do{if(ur===0){_d&&!Ze&&js(Ue,Ve,0,!1);break}else{if(Ge=Ue.current.alternate,vr&&!Gi(Ge)){ur=ol(Ue,Ve,!1),vr=!1;continue}if(ur===2){if(vr=Ve,Ue.errorRecoveryDisabledLanes&vr)var Lr=0;else Lr=Ue.pendingLanes&-536870913,Lr=Lr!==0?Lr:Lr&536870912?536870912:0;if(Lr!==0){Ve=Lr;e:{var Wr=Ue;ur=sh;var xn=Wr.current.memoizedState.isDehydrated;if(xn&&(zi(Wr,Lr).flags|=256),Lr=ol(Wr,Lr,!1),Lr!==2){if(lA&&!xn){Wr.errorRecoveryDisabledLanes|=vr,Gf|=vr,ur=4;break e}vr=Fl,Fl=ur,vr!==null&&(Fl===null?Fl=vr:Fl.push.apply(Fl,vr))}ur=Lr}if(vr=!1,ur!==2)continue}}if(ur===1){zi(Ue,0),js(Ue,Ve,0,!0);break}e:{switch(Ze=Ue,vr=ur,vr){case 0:case 1:throw Error(Pe(345));case 4:if((Ve&4194048)!==Ve)break;case 6:js(Ze,Ve,vc,!yf);break e;case 2:Fl=null;break;case 3:case 5:break;default:throw Error(Pe(329))}if((Ve&62914560)===Ve&&(ur=sr+300-qn(),10<ur)){if(js(Ze,Ve,vc,!yf),Wi(Ze,0,!0)!==0)break e;Ze.timeoutHandle=Zp(Yi.bind(null,Ze,Ge,Fl,cr,uA,Ve,vc,Gf,bd,yf,vr,2,-0,0),ur);break e}Yi(Ze,Ge,Fl,cr,uA,Ve,vc,Gf,bd,yf,vr,0,-0,0)}}break}while(!0);wf(Ue)}function Yi(Ue,Ve,Ge,Ze,ur,vr,Lr,Wr,xn,Gn,di,vi,Xn,Zn){if(Ue.timeoutHandle=-1,vi=Ve.subtreeFlags,(vi&8192||(vi&16785408)===16785408)&&(gA={stylesheets:null,count:0,unsuspend:Jm},rh(Ve),vi=tg(),vi!==null)){Ue.cancelPendingCommit=vi(Yu.bind(null,Ue,Ve,vr,Ge,Ze,ur,Lr,Wr,xn,di,1,Xn,Zn)),js(Ue,vr,Lr,!Gn);return}Yu(Ue,Ve,vr,Ge,Ze,ur,Lr,Wr,xn)}function Gi(Ue){for(var Ve=Ue;;){var Ge=Ve.tag;if((Ge===0||Ge===11||Ge===15)&&Ve.flags&16384&&(Ge=Ve.updateQueue,Ge!==null&&(Ge=Ge.stores,Ge!==null)))for(var Ze=0;Ze<Ge.length;Ze++){var ur=Ge[Ze],vr=ur.getSnapshot;ur=ur.value;try{if(!pa(vr(),ur))return!1}catch{return!1}}if(Ge=Ve.child,Ve.subtreeFlags&16384&&Ge!==null)Ge.return=Ve,Ve=Ge;else{if(Ve===Ue)break;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===Ue)return!0;Ve=Ve.return}Ve.sibling.return=Ve.return,Ve=Ve.sibling}}return!0}function js(Ue,Ve,Ge,Ze){Ve&=~cA,Ve&=~Gf,Ue.suspendedLanes|=Ve,Ue.pingedLanes&=~Ve,Ze&&(Ue.warmLanes|=Ve),Ze=Ue.expirationTimes;for(var ur=Ve;0<ur;){var vr=31-Pn(ur),Lr=1<<vr;Ze[vr]=-1,ur&=~Lr}Ge!==0&&xi(Ue,Ge,Ve)}function xs(){return(ua&6)===0?(fA(0),!1):!0}function fs(){if(Fs!==null){if(ia===0)var Ue=Fs.return;else Ue=Fs,Oc=xo=null,sd(Ue),Lu=null,zd=0,Ue=Fs;for(;Ue!==null;)Ph(Ue.alternate,Ue),Ue=Ue.return;Fs=null}}function zi(Ue,Ve){var Ge=Ue.timeoutHandle;Ge!==-1&&(Ue.timeoutHandle=-1,Om(Ge)),Ge=Ue.cancelPendingCommit,Ge!==null&&(Ue.cancelPendingCommit=null,Ge()),fs(),ba=Ue,Fs=Ge=Qo(Ue.current,null),Ks=Ve,ia=0,Jl=null,yf=!1,_d=ws(Ue,Ve),lA=!1,bd=vc=cA=Gf=xf=qa=0,Fl=sh=null,uA=!1,(Ve&8)!==0&&(Ve|=Ve&32);var Ze=Ue.entangledLanes;if(Ze!==0)for(Ue=Ue.entanglements,Ze&=Ve;0<Ze;){var ur=31-Pn(Ze),vr=1<<ur;Ve|=Ue[ur],Ze&=~vr}return Gu=Ve,Tl(),Ge}function Vs(Ue,Ve){ns=null,mr.H=xh,Ve===$r||Ve===zr?(Ve=kn(),ia=3):Ve===Hr?(Ve=kn(),ia=4):ia=Ve===Yh?8:Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"?6:1,Jl=Ve,Fs===null&&(qa=1,qd(Ue,Cs(Ve,Ue.current)))}function Hs(){var Ue=mr.H;return mr.H=xh,Ue===null?xh:Ue}function ms(){var Ue=mr.A;return mr.A=up,Ue}function Ya(){qa=4,yf||(Ks&4194048)!==Ks&&Xl.current!==null||(_d=!0),(xf&134217727)===0&&(Gf&134217727)===0||ba===null||js(ba,Ks,vc,!1)}function ol(Ue,Ve,Ge){var Ze=ua;ua|=2;var ur=Hs(),vr=ms();(ba!==Ue||Ks!==Ve)&&(cr=null,zi(Ue,Ve)),Ve=!1;var Lr=qa;e:do try{if(ia!==0&&Fs!==null){var Wr=Fs,xn=Jl;switch(ia){case 8:fs(),Lr=6;break e;case 3:case 2:case 9:case 6:Xl.current===null&&(Ve=!0);var Gn=ia;if(ia=0,Jl=null,To(Ue,Wr,xn,Gn),Ge&&_d){Lr=0;break e}break;default:Gn=ia,ia=0,Jl=null,To(Ue,Wr,xn,Gn)}}tc(),Lr=qa;break}catch(di){Vs(Ue,di)}while(!0);return Ve&&Ue.shellSuspendCounter++,Oc=xo=null,ua=Ze,mr.H=ur,mr.A=vr,Fs===null&&(ba=null,Ks=0,Tl()),Lr}function tc(){for(;Fs!==null;)qu(Fs)}function Aa(Ue,Ve){var Ge=ua;ua|=2;var Ze=Hs(),ur=ms();ba!==Ue||Ks!==Ve?(cr=null,nr=qn()+500,zi(Ue,Ve)):_d=ws(Ue,Ve);e:do try{if(ia!==0&&Fs!==null){Ve=Fs;var vr=Jl;t:switch(ia){case 1:ia=0,Jl=null,To(Ue,Ve,vr,1);break;case 2:case 9:if(hn(vr)){ia=0,Jl=null,pl(Ve);break}Ve=function(){ia!==2&&ia!==9||ba!==Ue||(ia=7),wf(Ue)},vr.then(Ve,Ve);break e;case 3:ia=7;break e;case 4:ia=5;break e;case 7:hn(vr)?(ia=0,Jl=null,pl(Ve)):(ia=0,Jl=null,To(Ue,Ve,vr,7));break;case 5:var Lr=null;switch(Fs.tag){case 26:Lr=Fs.memoizedState;case 5:case 27:var Wr=Fs;if(!Lr||um(Lr)){ia=0,Jl=null;var xn=Wr.sibling;if(xn!==null)Fs=xn;else{var Gn=Wr.return;Gn!==null?(Fs=Gn,du(Gn)):Fs=null}break t}}ia=0,Jl=null,To(Ue,Ve,vr,5);break;case 6:ia=0,Jl=null,To(Ue,Ve,vr,6);break;case 8:fs(),qa=6;break e;default:throw Error(Pe(462))}}Wo();break}catch(di){Vs(Ue,di)}while(!0);return Oc=xo=null,mr.H=Ze,mr.A=ur,ua=Ge,Fs!==null?0:(ba=null,Ks=0,Tl(),qa)}function Wo(){for(;Fs!==null&&!wn();)qu(Fs)}function qu(Ue){var Ve=DA(Ue.alternate,Ue,Gu);Ue.memoizedProps=Ue.pendingProps,Ve===null?du(Ue):Fs=Ve}function pl(Ue){var Ve=Ue,Ge=Ve.alternate;switch(Ve.tag){case 15:case 0:Ve=Hf(Ge,Ve,Ve.pendingProps,Ve.type,void 0,Ks);break;case 11:Ve=Hf(Ge,Ve,Ve.pendingProps,Ve.type.render,Ve.ref,Ks);break;case 5:sd(Ve);default:Ph(Ge,Ve),Ve=Fs=Cf(Ve,Gu),Ve=DA(Ge,Ve,Gu)}Ue.memoizedProps=Ue.pendingProps,Ve===null?du(Ue):Fs=Ve}function To(Ue,Ve,Ge,Ze){Oc=xo=null,sd(Ve),Lu=null,zd=0;var ur=Ve.return;try{if(IA(Ue,ur,Ve,Ge,Ks)){qa=1,qd(Ue,Cs(Ge,Ue.current)),Fs=null;return}}catch(vr){if(ur!==null)throw Fs=ur,vr;qa=1,qd(Ue,Cs(Ge,Ue.current)),Fs=null;return}Ve.flags&32768?(Ws||Ze===1?Ue=!0:_d||(Ks&536870912)!==0?Ue=!1:(yf=Ue=!0,(Ze===2||Ze===9||Ze===3||Ze===6)&&(Ze=Xl.current,Ze!==null&&Ze.tag===13&&(Ze.flags|=16384))),Qc(Ve,Ue)):du(Ve)}function du(Ue){var Ve=Ue;do{if((Ve.flags&32768)!==0){Qc(Ve,yf);return}Ue=Ve.return;var Ge=ap(Ve.alternate,Ve,Gu);if(Ge!==null){Fs=Ge;return}if(Ve=Ve.sibling,Ve!==null){Fs=Ve;return}Fs=Ve=Ue}while(Ve!==null);qa===0&&(qa=5)}function Qc(Ue,Ve){do{var Ge=op(Ue.alternate,Ue);if(Ge!==null){Ge.flags&=32767,Fs=Ge;return}if(Ge=Ue.return,Ge!==null&&(Ge.flags|=32768,Ge.subtreeFlags=0,Ge.deletions=null),!Ve&&(Ue=Ue.sibling,Ue!==null)){Fs=Ue;return}Fs=Ue=Ge}while(Ue!==null);qa=6,Fs=null}function Yu(Ue,Ve,Ge,Ze,ur,vr,Lr,Wr,xn){Ue.cancelPendingCommit=null;do yc();while(Sr!==0);if((ua&6)!==0)throw Error(Pe(327));if(Ve!==null){if(Ve===Ue.current)throw Error(Pe(177));if(vr=Ve.lanes|Ve.childLanes,vr|=ya,Ti(Ue,Ge,vr,Lr,Wr,xn),Ue===ba&&(Fs=ba=null,Ks=0),Vr=Ve,Fr=Ue,fn=Ge,dn=vr,In=ur,Ln=Ze,(Ve.subtreeFlags&10256)!==0||(Ve.flags&10256)!==0?(Ue.callbackNode=null,Ue.callbackPriority=0,Sm(li,function(){return qf(),null})):(Ue.callbackNode=null,Ue.callbackPriority=0),Ze=(Ve.flags&13878)!==0,(Ve.subtreeFlags&13878)!==0||Ze){Ze=mr.T,mr.T=null,ur=Er.p,Er.p=2,Lr=ua,ua|=4;try{lp(Ue,Ve,Ge)}finally{ua=Lr,Er.p=ur,mr.T=Ze}}Sr=1,_f(),bf(),hu()}}function _f(){if(Sr===1){Sr=0;var Ue=Fr,Ve=Vr,Ge=(Ve.flags&13878)!==0;if((Ve.subtreeFlags&13878)!==0||Ge){Ge=mr.T,mr.T=null;var Ze=Er.p;Er.p=2;var ur=ua;ua|=4;try{sA(Ve,Ue);var vr=bp,Lr=Lo(Ue.containerInfo),Wr=vr.focusedElem,xn=vr.selectionRange;if(Lr!==Wr&&Wr&&Wr.ownerDocument&&Pc(Wr.ownerDocument.documentElement,Wr)){if(xn!==null&&Xa(Wr)){var Gn=xn.start,di=xn.end;if(di===void 0&&(di=Gn),"selectionStart"in Wr)Wr.selectionStart=Gn,Wr.selectionEnd=Math.min(di,Wr.value.length);else{var vi=Wr.ownerDocument||document,Xn=vi&&vi.defaultView||window;if(Xn.getSelection){var Zn=Xn.getSelection(),gs=Wr.textContent.length,ds=Math.min(xn.start,gs),wa=xn.end===void 0?ds:Math.min(xn.end,gs);!Zn.extend&&ds>wa&&(Lr=wa,wa=ds,ds=Lr);var Mn=Fo(Wr,ds),Bn=Fo(Wr,wa);if(Mn&&Bn&&(Zn.rangeCount!==1||Zn.anchorNode!==Mn.node||Zn.anchorOffset!==Mn.offset||Zn.focusNode!==Bn.node||Zn.focusOffset!==Bn.offset)){var Kn=vi.createRange();Kn.setStart(Mn.node,Mn.offset),Zn.removeAllRanges(),ds>wa?(Zn.addRange(Kn),Zn.extend(Bn.node,Bn.offset)):(Kn.setEnd(Bn.node,Bn.offset),Zn.addRange(Kn))}}}}for(vi=[],Zn=Wr;Zn=Zn.parentNode;)Zn.nodeType===1&&vi.push({element:Zn,left:Zn.scrollLeft,top:Zn.scrollTop});for(typeof Wr.focus=="function"&&Wr.focus(),Wr=0;Wr<vi.length;Wr++){var Ai=vi[Wr];Ai.element.scrollLeft=Ai.left,Ai.element.scrollTop=Ai.top}}ZA=!!_p,bp=_p=null}finally{ua=ur,Er.p=Ze,mr.T=Ge}}Ue.current=Ve,Sr=2}}function bf(){if(Sr===2){Sr=0;var Ue=Fr,Ve=Vr,Ge=(Ve.flags&8772)!==0;if((Ve.subtreeFlags&8772)!==0||Ge){Ge=mr.T,mr.T=null;var Ze=Er.p;Er.p=2;var ur=ua;ua|=4;try{ea(Ue,Ve.alternate,Ve)}finally{ua=ur,Er.p=Ze,mr.T=Ge}}Sr=3}}function hu(){if(Sr===4||Sr===3){Sr=0,Jr();var Ue=Fr,Ve=Vr,Ge=fn,Ze=Ln;(Ve.subtreeFlags&10256)!==0||(Ve.flags&10256)!==0?Sr=5:(Sr=0,Vr=Fr=null,Ef(Ue,Ue.pendingLanes));var ur=Ue.pendingLanes;if(ur===0&&(lr=null),us(Ge),Ve=Ve.stateNode,Bi&&typeof Bi.onCommitFiberRoot=="function")try{Bi.onCommitFiberRoot(Si,Ve,void 0,(Ve.current.flags&128)===128)}catch{}if(Ze!==null){Ve=mr.T,ur=Er.p,Er.p=2,mr.T=null;try{for(var vr=Ue.onRecoverableError,Lr=0;Lr<Ze.length;Lr++){var Wr=Ze[Lr];vr(Wr.value,{componentStack:Wr.stack})}}finally{mr.T=Ve,Er.p=ur}}(fn&3)!==0&&yc(),wf(Ue),ur=Ue.pendingLanes,(Ge&4194090)!==0&&(ur&42)!==0?Ue===ai?$n++:($n=0,ai=Ue):$n=0,fA(0)}}function Ef(Ue,Ve){(Ue.pooledCacheLanes&=Ve)===0&&(Ve=Ue.pooledCache,Ve!=null&&(Ue.pooledCache=null,If(Ve)))}function yc(Ue){return _f(),bf(),hu(),qf()}function qf(){if(Sr!==5)return!1;var Ue=Fr,Ve=dn;dn=0;var Ge=us(fn),Ze=mr.T,ur=Er.p;try{Er.p=32>Ge?32:Ge,mr.T=null,Ge=In,In=null;var vr=Fr,Lr=fn;if(Sr=0,Vr=Fr=null,fn=0,(ua&6)!==0)throw Error(Pe(331));var Wr=ua;if(ua|=4,jh(vr.current),MA(vr,vr.current,Lr,Ge),ua=Wr,fA(0,!1),Bi&&typeof Bi.onPostCommitFiberRoot=="function")try{Bi.onPostCommitFiberRoot(Si,vr)}catch{}return!0}finally{Er.p=ur,mr.T=Ze,Ef(Ue,Ve)}}function Ed(Ue,Ve,Ge){Ve=Cs(Ge,Ve),Ve=qh(Ue.stateNode,Ve,2),Ue=hi(Ue,Ve,2),Ue!==null&&(Ji(Ue,2),wf(Ue))}function Ba(Ue,Ve,Ge){if(Ue.tag===3)Ed(Ue,Ue,Ge);else for(;Ve!==null;){if(Ve.tag===3){Ed(Ve,Ue,Ge);break}else if(Ve.tag===1){var Ze=Ve.stateNode;if(typeof Ve.type.getDerivedStateFromError=="function"||typeof Ze.componentDidCatch=="function"&&(lr===null||!lr.has(Ze))){Ue=Cs(Ge,Ue),Ge=Yd(2),Ze=hi(Ve,Ge,2),Ze!==null&&(Xd(Ge,Ze,Ve,Ue),Ji(Ze,2),wf(Ze));break}}Ve=Ve.return}}function fp(Ue,Ve,Ge){var Ze=Ue.pingCache;if(Ze===null){Ze=Ue.pingCache=new xd;var ur=new Set;Ze.set(Ve,ur)}else ur=Ze.get(Ve),ur===void 0&&(ur=new Set,Ze.set(Ve,ur));ur.has(Ge)||(lA=!0,ur.add(Ge),Ue=bm.bind(null,Ue,Ve,Ge),Ve.then(Ue,Ue))}function bm(Ue,Ve,Ge){var Ze=Ue.pingCache;Ze!==null&&Ze.delete(Ve),Ue.pingedLanes|=Ue.suspendedLanes&Ge,Ue.warmLanes&=~Ge,ba===Ue&&(Ks&Ge)===Ge&&(qa===4||qa===3&&(Ks&62914560)===Ks&&300>qn()-sr?(ua&2)===0&&zi(Ue,0):cA|=Ge,bd===Ks&&(bd=0)),wf(Ue)}function kp(Ue,Ve){Ve===0&&(Ve=vs()),Ue=Bc(Ue,Ve),Ue!==null&&(Ji(Ue,Ve),wf(Ue))}function Em(Ue){var Ve=Ue.memoizedState,Ge=0;Ve!==null&&(Ge=Ve.retryLane),kp(Ue,Ge)}function wm(Ue,Ve){var Ge=0;switch(Ue.tag){case 13:var Ze=Ue.stateNode,ur=Ue.memoizedState;ur!==null&&(Ge=ur.retryLane);break;case 19:Ze=Ue.stateNode;break;case 22:Ze=Ue.stateNode._retryCache;break;default:throw Error(Pe(314))}Ze!==null&&Ze.delete(Ve),kp(Ue,Ge)}function Sm(Ue,Ve){return Cn(Ue,Ve)}var $A=null,Dh=null,dp=!1,VA=!1,hp=!1,ah=0;function wf(Ue){Ue!==Dh&&Ue.next===null&&(Dh===null?$A=Dh=Ue:Dh=Dh.next=Ue),VA=!0,dp||(dp=!0,Cm())}function fA(Ue,Ve){if(!hp&&VA){hp=!0;do for(var Ge=!1,Ze=$A;Ze!==null;){if(Ue!==0){var ur=Ze.pendingLanes;if(ur===0)var vr=0;else{var Lr=Ze.suspendedLanes,Wr=Ze.pingedLanes;vr=(1<<31-Pn(42|Ue)+1)-1,vr&=ur&~(Lr&~Wr),vr=vr&201326741?vr&201326741|1:vr?vr|2:0}vr!==0&&(Ge=!0,Vp(Ze,vr))}else vr=Ks,vr=Wi(Ze,Ze===ba?vr:0,Ze.cancelPendingCommit!==null||Ze.timeoutHandle!==-1),(vr&3)===0||ws(Ze,vr)||(Ge=!0,Vp(Ze,vr));Ze=Ze.next}while(Ge);hp=!1}}function Tm(){Mp()}function Mp(){VA=dp=!1;var Ue=0;ah!==0&&(Lm()&&(Ue=ah),ah=0);for(var Ve=qn(),Ge=null,Ze=$A;Ze!==null;){var ur=Ze.next,vr=Up(Ze,Ve);vr===0?(Ze.next=null,Ge===null?$A=ur:Ge.next=ur,ur===null&&(Dh=Ge)):(Ge=Ze,(Ue!==0||(vr&3)!==0)&&(VA=!0)),Ze=ur}fA(Ue)}function Up(Ue,Ve){for(var Ge=Ue.suspendedLanes,Ze=Ue.pingedLanes,ur=Ue.expirationTimes,vr=Ue.pendingLanes&-62914561;0<vr;){var Lr=31-Pn(vr),Wr=1<<Lr,xn=ur[Lr];xn===-1?((Wr&Ge)===0||(Wr&Ze)!==0)&&(ur[Lr]=Zi(Wr,Ve)):xn<=Ve&&(Ue.expiredLanes|=Wr),vr&=~Wr}if(Ve=ba,Ge=Ks,Ge=Wi(Ue,Ue===Ve?Ge:0,Ue.cancelPendingCommit!==null||Ue.timeoutHandle!==-1),Ze=Ue.callbackNode,Ge===0||Ue===Ve&&(ia===2||ia===9)||Ue.cancelPendingCommit!==null)return Ze!==null&&Ze!==null&&bn(Ze),Ue.callbackNode=null,Ue.callbackPriority=0;if((Ge&3)===0||ws(Ue,Ge)){if(Ve=Ge&-Ge,Ve===Ue.callbackPriority)return Ve;switch(Ze!==null&&bn(Ze),us(Ge)){case 2:case 8:Ge=ui;break;case 32:Ge=li;break;case 268435456:Ge=wi;break;default:Ge=li}return Ze=$p.bind(null,Ue),Ge=Cn(Ge,Ze),Ue.callbackPriority=Ve,Ue.callbackNode=Ge,Ve}return Ze!==null&&Ze!==null&&bn(Ze),Ue.callbackPriority=2,Ue.callbackNode=null,2}function $p(Ue,Ve){if(Sr!==0&&Sr!==5)return Ue.callbackNode=null,Ue.callbackPriority=0,null;var Ge=Ue.callbackNode;if(yc()&&Ue.callbackNode!==Ge)return null;var Ze=Ks;return Ze=Wi(Ue,Ue===ba?Ze:0,Ue.cancelPendingCommit!==null||Ue.timeoutHandle!==-1),Ze===0?null:(_s(Ue,Ze,Ve),Up(Ue,qn()),Ue.callbackNode!=null&&Ue.callbackNode===Ge?$p.bind(null,Ue):null)}function Vp(Ue,Ve){if(yc())return null;_s(Ue,Ve,!0)}function Cm(){Nm(function(){(ua&6)!==0?Cn(Jn,Tm):Mp()})}function Ap(){return ah===0&&(ah=fa()),ah}function Hp(Ue){return Ue==null||typeof Ue=="symbol"||typeof Ue=="boolean"?null:typeof Ue=="function"?Ue:ul(""+Ue)}function Qp(Ue,Ve){var Ge=Ve.ownerDocument.createElement("input");return Ge.name=Ve.name,Ge.value=Ve.value,Ue.id&&Ge.setAttribute("form",Ue.id),Ve.parentNode.insertBefore(Ge,Ve),Ue=new FormData(Ue),Ge.parentNode.removeChild(Ge),Ue}function Pm(Ue,Ve,Ge,Ze,ur){if(Ve==="submit"&&Ge&&Ge.stateNode===ur){var vr=Hp((ur[ks]||null).action),Lr=Ze.submitter;Lr&&(Ve=(Ve=Lr[ks]||null)?Hp(Ve.formAction):Lr.getAttribute("formAction"),Ve!==null&&(vr=Ve,Lr=null));var Wr=new Ml("action","action",null,Ze,ur);Ue.push({event:Wr,listeners:[{instance:null,listener:function(){if(Ze.defaultPrevented){if(ah!==0){var xn=Lr?Qp(ur,Lr):new FormData(ur);mc(Ge,{pending:!0,data:xn,method:ur.method,action:vr},null,xn)}}else typeof vr=="function"&&(Wr.preventDefault(),xn=Lr?Qp(ur,Lr):new FormData(ur),mc(Ge,{pending:!0,data:xn,method:ur.method,action:vr},vr,xn))},currentTarget:ur}]})}}for(var pp=0;pp<ru.length;pp++){var mp=ru[pp],Rm=mp.toLowerCase(),Im=mp[0].toUpperCase()+mp.slice(1);Pa(Rm,"on"+Im)}Pa(yu,"onAnimationEnd"),Pa(eu,"onAnimationIteration"),Pa(tu,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(Ql,"onTransitionRun"),Pa(xu,"onTransitionStart"),Pa(_u,"onTransitionCancel"),Pa(Ic,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dA));function zp(Ue,Ve){Ve=(Ve&4)!==0;for(var Ge=0;Ge<Ue.length;Ge++){var Ze=Ue[Ge],ur=Ze.event;Ze=Ze.listeners;e:{var vr=void 0;if(Ve)for(var Lr=Ze.length-1;0<=Lr;Lr--){var Wr=Ze[Lr],xn=Wr.instance,Gn=Wr.currentTarget;if(Wr=Wr.listener,xn!==vr&&ur.isPropagationStopped())break e;vr=Wr,ur.currentTarget=Gn;try{vr(ur)}catch(di){pd(di)}ur.currentTarget=null,vr=xn}else for(Lr=0;Lr<Ze.length;Lr++){if(Wr=Ze[Lr],xn=Wr.instance,Gn=Wr.currentTarget,Wr=Wr.listener,xn!==vr&&ur.isPropagationStopped())break e;vr=Wr,ur.currentTarget=Gn;try{vr(ur)}catch(di){pd(di)}ur.currentTarget=null,vr=xn}}}}function Qs(Ue,Ve){var Ge=Ve[qi];Ge===void 0&&(Ge=Ve[qi]=new Set);var Ze=Ue+"__bubble";Ge.has(Ze)||(Kp(Ve,Ue,2,!1),Ge.add(Ze))}function gp(Ue,Ve,Ge){var Ze=0;Ve&&(Ze|=4),Kp(Ge,Ue,Ze,Ve)}var HA="_reactListening"+Math.random().toString(36).slice(2);function vp(Ue){if(!Ue[HA]){Ue[HA]=!0,Qn.forEach(function(Ge){Ge!=="selectionchange"&&(Bm.has(Ge)||gp(Ge,!1,Ue),gp(Ge,!0,Ue))});var Ve=Ue.nodeType===9?Ue:Ue.ownerDocument;Ve===null||Ve[HA]||(Ve[HA]=!0,gp("selectionchange",!1,Ve))}}function Kp(Ue,Ve,Ge,Ze){switch(mm(Ve)){case 2:var ur=ig;break;case 8:ur=sg;break;default:ur=jp}Ge=ur.bind(null,Ve,Ge,Ue),ur=void 0,!Uo||Ve!=="touchstart"&&Ve!=="touchmove"&&Ve!=="wheel"||(ur=!0),Ze?ur!==void 0?Ue.addEventListener(Ve,Ge,{capture:!0,passive:ur}):Ue.addEventListener(Ve,Ge,!0):ur!==void 0?Ue.addEventListener(Ve,Ge,{passive:ur}):Ue.addEventListener(Ve,Ge,!1)}function yp(Ue,Ve,Ge,Ze,ur){var vr=Ze;if((Ve&1)===0&&(Ve&2)===0&&Ze!==null)e:for(;;){if(Ze===null)return;var Lr=Ze.tag;if(Lr===3||Lr===4){var Wr=Ze.stateNode.containerInfo;if(Wr===ur)break;if(Lr===4)for(Lr=Ze.return;Lr!==null;){var xn=Lr.tag;if((xn===3||xn===4)&&Lr.stateNode.containerInfo===ur)return;Lr=Lr.return}for(;Wr!==null;){if(Lr=pn(Wr),Lr===null)return;if(xn=Lr.tag,xn===5||xn===6||xn===26||xn===27){Ze=vr=Lr;continue e}Wr=Wr.parentNode}}Ze=Ze.return}Ju(function(){var Gn=vr,di=oa(Ge),vi=[];e:{var Xn=uc.get(Ue);if(Xn!==void 0){var Zn=Ml,gs=Ue;switch(Ue){case"keypress":if(Xo(Ge)===0)break e;case"keydown":case"keyup":Zn=$l;break;case"focusin":gs="focus",Zn=dl;break;case"focusout":gs="blur",Zn=dl;break;case"beforeblur":case"afterblur":Zn=dl;break;case"click":if(Ge.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Zn=Ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Zn=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Zn=Yc;break;case yu:case eu:case tu:Zn=Gc;break;case Ic:Zn=Mr;break;case"scroll":case"scrollend":Zn=mu;break;case"wheel":Zn=Sn;break;case"copy":case"cut":case"paste":Zn=Ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Zn=Cc;break;case"toggle":case"beforetoggle":Zn=ti}var ds=(Ve&4)!==0,wa=!ds&&(Ue==="scroll"||Ue==="scrollend"),Mn=ds?Xn!==null?Xn+"Capture":null:Xn;ds=[];for(var Bn=Gn,Kn;Bn!==null;){var Ai=Bn;if(Kn=Ai.stateNode,Ai=Ai.tag,Ai!==5&&Ai!==26&&Ai!==27||Kn===null||Mn===null||(Ai=Ro(Bn,Mn),Ai!=null&&ds.push(hA(Bn,Ai,Kn))),wa)break;Bn=Bn.return}0<ds.length&&(Xn=new Zn(Xn,gs,null,Ge,di),vi.push({event:Xn,listeners:ds}))}}if((Ve&7)===0){e:{if(Xn=Ue==="mouseover"||Ue==="pointerover",Zn=Ue==="mouseout"||Ue==="pointerout",Xn&&Ge!==mo&&(gs=Ge.relatedTarget||Ge.fromElement)&&(pn(gs)||gs[ta]))break e;if((Zn||Xn)&&(Xn=di.window===di?di:(Xn=di.ownerDocument)?Xn.defaultView||Xn.parentWindow:window,Zn?(gs=Ge.relatedTarget||Ge.toElement,Zn=Gn,gs=gs?pn(gs):null,gs!==null&&(wa=Ie(gs),ds=gs.tag,gs!==wa||ds!==5&&ds!==27&&ds!==6)&&(gs=null)):(Zn=null,gs=Gn),Zn!==gs)){if(ds=Ka,Ai="onMouseLeave",Mn="onMouseEnter",Bn="mouse",(Ue==="pointerout"||Ue==="pointerover")&&(ds=Cc,Ai="onPointerLeave",Mn="onPointerEnter",Bn="pointer"),wa=Zn==null?Xn:Un(Zn),Kn=gs==null?Xn:Un(gs),Xn=new ds(Ai,Bn+"leave",Zn,Ge,di),Xn.target=wa,Xn.relatedTarget=Kn,Ai=null,pn(di)===Gn&&(ds=new ds(Mn,Bn+"enter",gs,Ge,di),ds.target=Kn,ds.relatedTarget=wa,Ai=ds),wa=Ai,Zn&&gs)t:{for(ds=Zn,Mn=gs,Bn=0,Kn=ds;Kn;Kn=Fh(Kn))Bn++;for(Kn=0,Ai=Mn;Ai;Ai=Fh(Ai))Kn++;for(;0<Bn-Kn;)ds=Fh(ds),Bn--;for(;0<Kn-Bn;)Mn=Fh(Mn),Kn--;for(;Bn--;){if(ds===Mn||Mn!==null&&ds===Mn.alternate)break t;ds=Fh(ds),Mn=Fh(Mn)}ds=null}else ds=null;Zn!==null&&Wp(vi,Xn,Zn,ds,!1),gs!==null&&wa!==null&&Wp(vi,wa,gs,ds,!0)}}e:{if(Xn=Gn?Un(Gn):window,Zn=Xn.nodeName&&Xn.nodeName.toLowerCase(),Zn==="select"||Zn==="input"&&Xn.type==="file")var Xi=Xc;else if(Is(Xn))if(Zo)Xi=Sf;else{Xi=rf;var Ns=$o}else Zn=Xn.nodeName,!Zn||Zn.toLowerCase()!=="input"||Xn.type!=="checkbox"&&Xn.type!=="radio"?Gn&&pu(Gn.elementType)&&(Xi=Xc):Xi=nf;if(Xi&&(Xi=Xi(Ue,Gn))){Sl(vi,Xi,Ge,di);break e}Ns&&Ns(Ue,Xn,Gn),Ue==="focusout"&&Gn&&Xn.type==="number"&&Gn.memoizedProps.value!=null&&nc(Xn,"number",Xn.value)}switch(Ns=Gn?Un(Gn):window,Ue){case"focusin":(Is(Ns)||Ns.contentEditable==="true")&&(Jo=Ns,Ho=Gn,vo=null);break;case"focusout":vo=Ho=Jo=null;break;case"mousedown":Hl=!0;break;case"contextmenu":case"mouseup":case"dragend":Hl=!1,Da(vi,Ge,di);break;case"selectionchange":if(Rc)break;case"keydown":case"keyup":Da(vi,Ge,di)}var rs;if(Ni)e:{switch(Ue){case"compositionstart":var As="onCompositionStart";break e;case"compositionend":As="onCompositionEnd";break e;case"compositionupdate":As="onCompositionUpdate";break e}As=void 0}else ls?Vn(Ue,Ge)&&(As="onCompositionEnd"):Ue==="keydown"&&Ge.keyCode===229&&(As="onCompositionStart");As&&(Dr&&Ge.locale!=="ko"&&(ls||As!=="onCompositionStart"?As==="onCompositionEnd"&&ls&&(rs=Wc()):(Sa=di,kl="value"in Sa?Sa.value:Sa.textContent,ls=!0)),Ns=QA(Gn,As),0<Ns.length&&(As=new wc(As,Ue,null,Ge,di),vi.push({event:As,listeners:Ns}),rs?As.data=rs:(rs=si(Ge),rs!==null&&(As.data=rs)))),(rs=Tr?Ts(Ue,Ge):ps(Ue,Ge))&&(As=QA(Gn,"onBeforeInput"),0<As.length&&(Ns=new wc("onBeforeInput","beforeinput",null,Ge,di),vi.push({event:Ns,listeners:As}),Ns.data=rs)),Pm(vi,Ue,Gn,Ge,di)}zp(vi,Ve)})}function hA(Ue,Ve,Ge){return{instance:Ue,listener:Ve,currentTarget:Ge}}function QA(Ue,Ve){for(var Ge=Ve+"Capture",Ze=[];Ue!==null;){var ur=Ue,vr=ur.stateNode;if(ur=ur.tag,ur!==5&&ur!==26&&ur!==27||vr===null||(ur=Ro(Ue,Ge),ur!=null&&Ze.unshift(hA(Ue,ur,vr)),ur=Ro(Ue,Ve),ur!=null&&Ze.push(hA(Ue,ur,vr))),Ue.tag===3)return Ze;Ue=Ue.return}return[]}function Fh(Ue){if(Ue===null)return null;do Ue=Ue.return;while(Ue&&Ue.tag!==5&&Ue.tag!==27);return Ue||null}function Wp(Ue,Ve,Ge,Ze,ur){for(var vr=Ve._reactName,Lr=[];Ge!==null&&Ge!==Ze;){var Wr=Ge,xn=Wr.alternate,Gn=Wr.stateNode;if(Wr=Wr.tag,xn!==null&&xn===Ze)break;Wr!==5&&Wr!==26&&Wr!==27||Gn===null||(xn=Gn,ur?(Gn=Ro(Ge,vr),Gn!=null&&Lr.unshift(hA(Ge,Gn,xn))):ur||(Gn=Ro(Ge,vr),Gn!=null&&Lr.push(hA(Ge,Gn,xn)))),Ge=Ge.return}Lr.length!==0&&Ue.push({event:Ve,listeners:Lr})}var jm=/\r\n?/g,Dm=/\u0000|\uFFFD/g;function Gp(Ue){return(typeof Ue=="string"?Ue:""+Ue).replace(jm,`
`).replace(Dm,"")}function qp(Ue,Ve){return Ve=Gp(Ve),Gp(Ue)===Ve}function zA(){}function Ea(Ue,Ve,Ge,Ze,ur,vr){switch(Ge){case"children":typeof Ze=="string"?Ve==="body"||Ve==="textarea"&&Ze===""||Go(Ue,Ze):(typeof Ze=="number"||typeof Ze=="bigint")&&Ve!=="body"&&Go(Ue,""+Ze);break;case"className":Ss(Ue,"class",Ze);break;case"tabIndex":Ss(Ue,"tabindex",Ze);break;case"dir":case"role":case"viewBox":case"width":case"height":Ss(Ue,Ge,Ze);break;case"style":Kc(Ue,Ze,vr);break;case"data":if(Ve!=="object"){Ss(Ue,"data",Ze);break}case"src":case"href":if(Ze===""&&(Ve!=="a"||Ge!=="href")){Ue.removeAttribute(Ge);break}if(Ze==null||typeof Ze=="function"||typeof Ze=="symbol"||typeof Ze=="boolean"){Ue.removeAttribute(Ge);break}Ze=ul(""+Ze),Ue.setAttribute(Ge,Ze);break;case"action":case"formAction":if(typeof Ze=="function"){Ue.setAttribute(Ge,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof vr=="function"&&(Ge==="formAction"?(Ve!=="input"&&Ea(Ue,Ve,"name",ur.name,ur,null),Ea(Ue,Ve,"formEncType",ur.formEncType,ur,null),Ea(Ue,Ve,"formMethod",ur.formMethod,ur,null),Ea(Ue,Ve,"formTarget",ur.formTarget,ur,null)):(Ea(Ue,Ve,"encType",ur.encType,ur,null),Ea(Ue,Ve,"method",ur.method,ur,null),Ea(Ue,Ve,"target",ur.target,ur,null)));if(Ze==null||typeof Ze=="symbol"||typeof Ze=="boolean"){Ue.removeAttribute(Ge);break}Ze=ul(""+Ze),Ue.setAttribute(Ge,Ze);break;case"onClick":Ze!=null&&(Ue.onclick=zA);break;case"onScroll":Ze!=null&&Qs("scroll",Ue);break;case"onScrollEnd":Ze!=null&&Qs("scrollend",Ue);break;case"dangerouslySetInnerHTML":if(Ze!=null){if(typeof Ze!="object"||!("__html"in Ze))throw Error(Pe(61));if(Ge=Ze.__html,Ge!=null){if(ur.children!=null)throw Error(Pe(60));Ue.innerHTML=Ge}}break;case"multiple":Ue.multiple=Ze&&typeof Ze!="function"&&typeof Ze!="symbol";break;case"muted":Ue.muted=Ze&&typeof Ze!="function"&&typeof Ze!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(Ze==null||typeof Ze=="function"||typeof Ze=="boolean"||typeof Ze=="symbol"){Ue.removeAttribute("xlink:href");break}Ge=ul(""+Ze),Ue.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",Ge);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":Ze!=null&&typeof Ze!="function"&&typeof Ze!="symbol"?Ue.setAttribute(Ge,""+Ze):Ue.removeAttribute(Ge);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Ze&&typeof Ze!="function"&&typeof Ze!="symbol"?Ue.setAttribute(Ge,""):Ue.removeAttribute(Ge);break;case"capture":case"download":Ze===!0?Ue.setAttribute(Ge,""):Ze!==!1&&Ze!=null&&typeof Ze!="function"&&typeof Ze!="symbol"?Ue.setAttribute(Ge,Ze):Ue.removeAttribute(Ge);break;case"cols":case"rows":case"size":case"span":Ze!=null&&typeof Ze!="function"&&typeof Ze!="symbol"&&!isNaN(Ze)&&1<=Ze?Ue.setAttribute(Ge,Ze):Ue.removeAttribute(Ge);break;case"rowSpan":case"start":Ze==null||typeof Ze=="function"||typeof Ze=="symbol"||isNaN(Ze)?Ue.removeAttribute(Ge):Ue.setAttribute(Ge,Ze);break;case"popover":Qs("beforetoggle",Ue),Qs("toggle",Ue),ys(Ue,"popover",Ze);break;case"xlinkActuate":bs(Ue,"http://www.w3.org/1999/xlink","xlink:actuate",Ze);break;case"xlinkArcrole":bs(Ue,"http://www.w3.org/1999/xlink","xlink:arcrole",Ze);break;case"xlinkRole":bs(Ue,"http://www.w3.org/1999/xlink","xlink:role",Ze);break;case"xlinkShow":bs(Ue,"http://www.w3.org/1999/xlink","xlink:show",Ze);break;case"xlinkTitle":bs(Ue,"http://www.w3.org/1999/xlink","xlink:title",Ze);break;case"xlinkType":bs(Ue,"http://www.w3.org/1999/xlink","xlink:type",Ze);break;case"xmlBase":bs(Ue,"http://www.w3.org/XML/1998/namespace","xml:base",Ze);break;case"xmlLang":bs(Ue,"http://www.w3.org/XML/1998/namespace","xml:lang",Ze);break;case"xmlSpace":bs(Ue,"http://www.w3.org/XML/1998/namespace","xml:space",Ze);break;case"is":ys(Ue,"is",Ze);break;case"innerText":case"textContent":break;default:(!(2<Ge.length)||Ge[0]!=="o"&&Ge[0]!=="O"||Ge[1]!=="n"&&Ge[1]!=="N")&&(Ge=Ol.get(Ge)||Ge,ys(Ue,Ge,Ze))}}function xp(Ue,Ve,Ge,Ze,ur,vr){switch(Ge){case"style":Kc(Ue,Ze,vr);break;case"dangerouslySetInnerHTML":if(Ze!=null){if(typeof Ze!="object"||!("__html"in Ze))throw Error(Pe(61));if(Ge=Ze.__html,Ge!=null){if(ur.children!=null)throw Error(Pe(60));Ue.innerHTML=Ge}}break;case"children":typeof Ze=="string"?Go(Ue,Ze):(typeof Ze=="number"||typeof Ze=="bigint")&&Go(Ue,""+Ze);break;case"onScroll":Ze!=null&&Qs("scroll",Ue);break;case"onScrollEnd":Ze!=null&&Qs("scrollend",Ue);break;case"onClick":Ze!=null&&(Ue.onclick=zA);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wn.hasOwnProperty(Ge))e:{if(Ge[0]==="o"&&Ge[1]==="n"&&(ur=Ge.endsWith("Capture"),Ve=Ge.slice(2,ur?Ge.length-7:void 0),vr=Ue[ks]||null,vr=vr!=null?vr[Ge]:null,typeof vr=="function"&&Ue.removeEventListener(Ve,vr,ur),typeof Ze=="function")){typeof vr!="function"&&vr!==null&&(Ge in Ue?Ue[Ge]=null:Ue.hasAttribute(Ge)&&Ue.removeAttribute(Ge)),Ue.addEventListener(Ve,Ze,ur);break e}Ge in Ue?Ue[Ge]=Ze:Ze===!0?Ue.setAttribute(Ge,""):ys(Ue,Ge,Ze)}}}function ml(Ue,Ve,Ge){switch(Ve){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qs("error",Ue),Qs("load",Ue);var Ze=!1,ur=!1,vr;for(vr in Ge)if(Ge.hasOwnProperty(vr)){var Lr=Ge[vr];if(Lr!=null)switch(vr){case"src":Ze=!0;break;case"srcSet":ur=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Pe(137,Ve));default:Ea(Ue,Ve,vr,Lr,Ge,null)}}ur&&Ea(Ue,Ve,"srcSet",Ge.srcSet,Ge,null),Ze&&Ea(Ue,Ve,"src",Ge.src,Ge,null);return;case"input":Qs("invalid",Ue);var Wr=vr=Lr=ur=null,xn=null,Gn=null;for(Ze in Ge)if(Ge.hasOwnProperty(Ze)){var di=Ge[Ze];if(di!=null)switch(Ze){case"name":ur=di;break;case"type":Lr=di;break;case"checked":xn=di;break;case"defaultChecked":Gn=di;break;case"value":vr=di;break;case"defaultValue":Wr=di;break;case"children":case"dangerouslySetInnerHTML":if(di!=null)throw Error(Pe(137,Ve));break;default:Ea(Ue,Ve,Ze,di,Ge,null)}}rc(Ue,vr,Wr,xn,Gn,Lr,ur,!1),cl(Ue);return;case"select":Qs("invalid",Ue),Ze=Lr=vr=null;for(ur in Ge)if(Ge.hasOwnProperty(ur)&&(Wr=Ge[ur],Wr!=null))switch(ur){case"value":vr=Wr;break;case"defaultValue":Lr=Wr;break;case"multiple":Ze=Wr;default:Ea(Ue,Ve,ur,Wr,Ge,null)}Ve=vr,Ge=Lr,Ue.multiple=!!Ze,Ve!=null?gl(Ue,!!Ze,Ve,!1):Ge!=null&&gl(Ue,!!Ze,Ge,!0);return;case"textarea":Qs("invalid",Ue),vr=ur=Ze=null;for(Lr in Ge)if(Ge.hasOwnProperty(Lr)&&(Wr=Ge[Lr],Wr!=null))switch(Lr){case"value":Ze=Wr;break;case"defaultValue":ur=Wr;break;case"children":vr=Wr;break;case"dangerouslySetInnerHTML":if(Wr!=null)throw Error(Pe(91));break;default:Ea(Ue,Ve,Lr,Wr,Ge,null)}ic(Ue,Ze,ur,vr),cl(Ue);return;case"option":for(xn in Ge)if(Ge.hasOwnProperty(xn)&&(Ze=Ge[xn],Ze!=null))switch(xn){case"selected":Ue.selected=Ze&&typeof Ze!="function"&&typeof Ze!="symbol";break;default:Ea(Ue,Ve,xn,Ze,Ge,null)}return;case"dialog":Qs("beforetoggle",Ue),Qs("toggle",Ue),Qs("cancel",Ue),Qs("close",Ue);break;case"iframe":case"object":Qs("load",Ue);break;case"video":case"audio":for(Ze=0;Ze<dA.length;Ze++)Qs(dA[Ze],Ue);break;case"image":Qs("error",Ue),Qs("load",Ue);break;case"details":Qs("toggle",Ue);break;case"embed":case"source":case"link":Qs("error",Ue),Qs("load",Ue);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Gn in Ge)if(Ge.hasOwnProperty(Gn)&&(Ze=Ge[Gn],Ze!=null))switch(Gn){case"children":case"dangerouslySetInnerHTML":throw Error(Pe(137,Ve));default:Ea(Ue,Ve,Gn,Ze,Ge,null)}return;default:if(pu(Ve)){for(di in Ge)Ge.hasOwnProperty(di)&&(Ze=Ge[di],Ze!==void 0&&xp(Ue,Ve,di,Ze,Ge,void 0));return}}for(Wr in Ge)Ge.hasOwnProperty(Wr)&&(Ze=Ge[Wr],Ze!=null&&Ea(Ue,Ve,Wr,Ze,Ge,null))}function Fm(Ue,Ve,Ge,Ze){switch(Ve){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var ur=null,vr=null,Lr=null,Wr=null,xn=null,Gn=null,di=null;for(Zn in Ge){var vi=Ge[Zn];if(Ge.hasOwnProperty(Zn)&&vi!=null)switch(Zn){case"checked":break;case"value":break;case"defaultValue":xn=vi;default:Ze.hasOwnProperty(Zn)||Ea(Ue,Ve,Zn,null,Ze,vi)}}for(var Xn in Ze){var Zn=Ze[Xn];if(vi=Ge[Xn],Ze.hasOwnProperty(Xn)&&(Zn!=null||vi!=null))switch(Xn){case"type":vr=Zn;break;case"name":ur=Zn;break;case"checked":Gn=Zn;break;case"defaultChecked":di=Zn;break;case"value":Lr=Zn;break;case"defaultValue":Wr=Zn;break;case"children":case"dangerouslySetInnerHTML":if(Zn!=null)throw Error(Pe(137,Ve));break;default:Zn!==vi&&Ea(Ue,Ve,Xn,Zn,Ze,vi)}}wo(Ue,Lr,Wr,xn,Gn,di,vr,ur);return;case"select":Zn=Lr=Wr=Xn=null;for(vr in Ge)if(xn=Ge[vr],Ge.hasOwnProperty(vr)&&xn!=null)switch(vr){case"value":break;case"multiple":Zn=xn;default:Ze.hasOwnProperty(vr)||Ea(Ue,Ve,vr,null,Ze,xn)}for(ur in Ze)if(vr=Ze[ur],xn=Ge[ur],Ze.hasOwnProperty(ur)&&(vr!=null||xn!=null))switch(ur){case"value":Xn=vr;break;case"defaultValue":Wr=vr;break;case"multiple":Lr=vr;default:vr!==xn&&Ea(Ue,Ve,ur,vr,Ze,xn)}Ve=Wr,Ge=Lr,Ze=Zn,Xn!=null?gl(Ue,!!Ge,Xn,!1):!!Ze!=!!Ge&&(Ve!=null?gl(Ue,!!Ge,Ve,!0):gl(Ue,!!Ge,Ge?[]:"",!1));return;case"textarea":Zn=Xn=null;for(Wr in Ge)if(ur=Ge[Wr],Ge.hasOwnProperty(Wr)&&ur!=null&&!Ze.hasOwnProperty(Wr))switch(Wr){case"value":break;case"children":break;default:Ea(Ue,Ve,Wr,null,Ze,ur)}for(Lr in Ze)if(ur=Ze[Lr],vr=Ge[Lr],Ze.hasOwnProperty(Lr)&&(ur!=null||vr!=null))switch(Lr){case"value":Xn=ur;break;case"defaultValue":Zn=ur;break;case"children":break;case"dangerouslySetInnerHTML":if(ur!=null)throw Error(Pe(91));break;default:ur!==vr&&Ea(Ue,Ve,Lr,ur,Ze,vr)}Gs(Ue,Xn,Zn);return;case"option":for(var gs in Ge)if(Xn=Ge[gs],Ge.hasOwnProperty(gs)&&Xn!=null&&!Ze.hasOwnProperty(gs))switch(gs){case"selected":Ue.selected=!1;break;default:Ea(Ue,Ve,gs,null,Ze,Xn)}for(xn in Ze)if(Xn=Ze[xn],Zn=Ge[xn],Ze.hasOwnProperty(xn)&&Xn!==Zn&&(Xn!=null||Zn!=null))switch(xn){case"selected":Ue.selected=Xn&&typeof Xn!="function"&&typeof Xn!="symbol";break;default:Ea(Ue,Ve,xn,Xn,Ze,Zn)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ds in Ge)Xn=Ge[ds],Ge.hasOwnProperty(ds)&&Xn!=null&&!Ze.hasOwnProperty(ds)&&Ea(Ue,Ve,ds,null,Ze,Xn);for(Gn in Ze)if(Xn=Ze[Gn],Zn=Ge[Gn],Ze.hasOwnProperty(Gn)&&Xn!==Zn&&(Xn!=null||Zn!=null))switch(Gn){case"children":case"dangerouslySetInnerHTML":if(Xn!=null)throw Error(Pe(137,Ve));break;default:Ea(Ue,Ve,Gn,Xn,Ze,Zn)}return;default:if(pu(Ve)){for(var wa in Ge)Xn=Ge[wa],Ge.hasOwnProperty(wa)&&Xn!==void 0&&!Ze.hasOwnProperty(wa)&&xp(Ue,Ve,wa,void 0,Ze,Xn);for(di in Ze)Xn=Ze[di],Zn=Ge[di],!Ze.hasOwnProperty(di)||Xn===Zn||Xn===void 0&&Zn===void 0||xp(Ue,Ve,di,Xn,Ze,Zn);return}}for(var Mn in Ge)Xn=Ge[Mn],Ge.hasOwnProperty(Mn)&&Xn!=null&&!Ze.hasOwnProperty(Mn)&&Ea(Ue,Ve,Mn,null,Ze,Xn);for(vi in Ze)Xn=Ze[vi],Zn=Ge[vi],!Ze.hasOwnProperty(vi)||Xn===Zn||Xn==null&&Zn==null||Ea(Ue,Ve,vi,Xn,Ze,Zn)}var _p=null,bp=null;function KA(Ue){return Ue.nodeType===9?Ue:Ue.ownerDocument}function Yp(Ue){switch(Ue){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xp(Ue,Ve){if(Ue===0)switch(Ve){case"svg":return 1;case"math":return 2;default:return 0}return Ue===1&&Ve==="foreignObject"?0:Ue}function Ep(Ue,Ve){return Ue==="textarea"||Ue==="noscript"||typeof Ve.children=="string"||typeof Ve.children=="number"||typeof Ve.children=="bigint"||typeof Ve.dangerouslySetInnerHTML=="object"&&Ve.dangerouslySetInnerHTML!==null&&Ve.dangerouslySetInnerHTML.__html!=null}var wp=null;function Lm(){var Ue=window.event;return Ue&&Ue.type==="popstate"?Ue===wp?!1:(wp=Ue,!0):(wp=null,!1)}var Zp=typeof setTimeout=="function"?setTimeout:void 0,Om=typeof clearTimeout=="function"?clearTimeout:void 0,Jp=typeof Promise=="function"?Promise:void 0,Nm=typeof queueMicrotask=="function"?queueMicrotask:typeof Jp<"u"?function(Ue){return Jp.resolve(null).then(Ue).catch(km)}:Zp;function km(Ue){setTimeout(function(){throw Ue})}function wd(Ue){return Ue==="head"}function em(Ue,Ve){var Ge=Ve,Ze=0,ur=0;do{var vr=Ge.nextSibling;if(Ue.removeChild(Ge),vr&&vr.nodeType===8)if(Ge=vr.data,Ge==="/$"){if(0<Ze&&8>Ze){Ge=Ze;var Lr=Ue.ownerDocument;if(Ge&1&&AA(Lr.documentElement),Ge&2&&AA(Lr.body),Ge&4)for(Ge=Lr.head,AA(Ge),Lr=Ge.firstChild;Lr;){var Wr=Lr.nextSibling,xn=Lr.nodeName;Lr[Xr]||xn==="SCRIPT"||xn==="STYLE"||xn==="LINK"&&Lr.rel.toLowerCase()==="stylesheet"||Ge.removeChild(Lr),Lr=Wr}}if(ur===0){Ue.removeChild(vr),bA(Ve);return}ur--}else Ge==="$"||Ge==="$?"||Ge==="$!"?ur++:Ze=Ge.charCodeAt(0)-48;else Ze=0;Ge=vr}while(Ge);bA(Ve)}function Sp(Ue){var Ve=Ue.firstChild;for(Ve&&Ve.nodeType===10&&(Ve=Ve.nextSibling);Ve;){var Ge=Ve;switch(Ve=Ve.nextSibling,Ge.nodeName){case"HTML":case"HEAD":case"BODY":Sp(Ge),un(Ge);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(Ge.rel.toLowerCase()==="stylesheet")continue}Ue.removeChild(Ge)}}function Mm(Ue,Ve,Ge,Ze){for(;Ue.nodeType===1;){var ur=Ge;if(Ue.nodeName.toLowerCase()!==Ve.toLowerCase()){if(!Ze&&(Ue.nodeName!=="INPUT"||Ue.type!=="hidden"))break}else if(Ze){if(!Ue[Xr])switch(Ve){case"meta":if(!Ue.hasAttribute("itemprop"))break;return Ue;case"link":if(vr=Ue.getAttribute("rel"),vr==="stylesheet"&&Ue.hasAttribute("data-precedence"))break;if(vr!==ur.rel||Ue.getAttribute("href")!==(ur.href==null||ur.href===""?null:ur.href)||Ue.getAttribute("crossorigin")!==(ur.crossOrigin==null?null:ur.crossOrigin)||Ue.getAttribute("title")!==(ur.title==null?null:ur.title))break;return Ue;case"style":if(Ue.hasAttribute("data-precedence"))break;return Ue;case"script":if(vr=Ue.getAttribute("src"),(vr!==(ur.src==null?null:ur.src)||Ue.getAttribute("type")!==(ur.type==null?null:ur.type)||Ue.getAttribute("crossorigin")!==(ur.crossOrigin==null?null:ur.crossOrigin))&&vr&&Ue.hasAttribute("async")&&!Ue.hasAttribute("itemprop"))break;return Ue;default:return Ue}}else if(Ve==="input"&&Ue.type==="hidden"){var vr=ur.name==null?null:""+ur.name;if(ur.type==="hidden"&&Ue.getAttribute("name")===vr)return Ue}else return Ue;if(Ue=Xu(Ue.nextSibling),Ue===null)break}return null}function Um(Ue,Ve,Ge){if(Ve==="")return null;for(;Ue.nodeType!==3;)if((Ue.nodeType!==1||Ue.nodeName!=="INPUT"||Ue.type!=="hidden")&&!Ge||(Ue=Xu(Ue.nextSibling),Ue===null))return null;return Ue}function Tp(Ue){return Ue.data==="$!"||Ue.data==="$?"&&Ue.ownerDocument.readyState==="complete"}function $m(Ue,Ve){var Ge=Ue.ownerDocument;if(Ue.data!=="$?"||Ge.readyState==="complete")Ve();else{var Ze=function(){Ve(),Ge.removeEventListener("DOMContentLoaded",Ze)};Ge.addEventListener("DOMContentLoaded",Ze),Ue._reactRetry=Ze}}function Xu(Ue){for(;Ue!=null;Ue=Ue.nextSibling){var Ve=Ue.nodeType;if(Ve===1||Ve===3)break;if(Ve===8){if(Ve=Ue.data,Ve==="$"||Ve==="$!"||Ve==="$?"||Ve==="F!"||Ve==="F")break;if(Ve==="/$")return null}}return Ue}var Cp=null;function tm(Ue){Ue=Ue.previousSibling;for(var Ve=0;Ue;){if(Ue.nodeType===8){var Ge=Ue.data;if(Ge==="$"||Ge==="$!"||Ge==="$?"){if(Ve===0)return Ue;Ve--}else Ge==="/$"&&Ve++}Ue=Ue.previousSibling}return null}function rm(Ue,Ve,Ge){switch(Ve=KA(Ge),Ue){case"html":if(Ue=Ve.documentElement,!Ue)throw Error(Pe(452));return Ue;case"head":if(Ue=Ve.head,!Ue)throw Error(Pe(453));return Ue;case"body":if(Ue=Ve.body,!Ue)throw Error(Pe(454));return Ue;default:throw Error(Pe(451))}}function AA(Ue){for(var Ve=Ue.attributes;Ve.length;)Ue.removeAttributeNode(Ve[0]);un(Ue)}var Au=new Map,nm=new Set;function WA(Ue){return typeof Ue.getRootNode=="function"?Ue.getRootNode():Ue.nodeType===9?Ue:Ue.ownerDocument}var Yf=Er.d;Er.d={f:Vm,r:Hm,D:Qm,C:zm,L:Km,m:Wm,X:qm,S:Gm,M:Ym};function Vm(){var Ue=Yf.f(),Ve=xs();return Ue||Ve}function Hm(Ue){var Ve=gn(Ue);Ve!==null&&Ve.tag===5&&Ve.type==="form"?kf(Ve):Yf.r(Ue)}var Lh=typeof document>"u"?null:document;function im(Ue,Ve,Ge){var Ze=Lh;if(Ze&&typeof Ve=="string"&&Ve){var ur=Ms(Ve);ur='link[rel="'+Ue+'"][href="'+ur+'"]',typeof Ge=="string"&&(ur+='[crossorigin="'+Ge+'"]'),nm.has(ur)||(nm.add(ur),Ue={rel:Ue,crossOrigin:Ge,href:Ve},Ze.querySelector(ur)===null&&(Ve=Ze.createElement("link"),ml(Ve,"link",Ue),On(Ve),Ze.head.appendChild(Ve)))}}function Qm(Ue){Yf.D(Ue),im("dns-prefetch",Ue,null)}function zm(Ue,Ve){Yf.C(Ue,Ve),im("preconnect",Ue,Ve)}function Km(Ue,Ve,Ge){Yf.L(Ue,Ve,Ge);var Ze=Lh;if(Ze&&Ue&&Ve){var ur='link[rel="preload"][as="'+Ms(Ve)+'"]';Ve==="image"&&Ge&&Ge.imageSrcSet?(ur+='[imagesrcset="'+Ms(Ge.imageSrcSet)+'"]',typeof Ge.imageSizes=="string"&&(ur+='[imagesizes="'+Ms(Ge.imageSizes)+'"]')):ur+='[href="'+Ms(Ue)+'"]';var vr=ur;switch(Ve){case"style":vr=Oh(Ue);break;case"script":vr=Nh(Ue)}Au.has(vr)||(Ue=Oe({rel:"preload",href:Ve==="image"&&Ge&&Ge.imageSrcSet?void 0:Ue,as:Ve},Ge),Au.set(vr,Ue),Ze.querySelector(ur)!==null||Ve==="style"&&Ze.querySelector(pA(vr))||Ve==="script"&&Ze.querySelector(mA(vr))||(Ve=Ze.createElement("link"),ml(Ve,"link",Ue),On(Ve),Ze.head.appendChild(Ve)))}}function Wm(Ue,Ve){Yf.m(Ue,Ve);var Ge=Lh;if(Ge&&Ue){var Ze=Ve&&typeof Ve.as=="string"?Ve.as:"script",ur='link[rel="modulepreload"][as="'+Ms(Ze)+'"][href="'+Ms(Ue)+'"]',vr=ur;switch(Ze){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":vr=Nh(Ue)}if(!Au.has(vr)&&(Ue=Oe({rel:"modulepreload",href:Ue},Ve),Au.set(vr,Ue),Ge.querySelector(ur)===null)){switch(Ze){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(Ge.querySelector(mA(vr)))return}Ze=Ge.createElement("link"),ml(Ze,"link",Ue),On(Ze),Ge.head.appendChild(Ze)}}}function Gm(Ue,Ve,Ge){Yf.S(Ue,Ve,Ge);var Ze=Lh;if(Ze&&Ue){var ur=Yn(Ze).hoistableStyles,vr=Oh(Ue);Ve=Ve||"default";var Lr=ur.get(vr);if(!Lr){var Wr={loading:0,preload:null};if(Lr=Ze.querySelector(pA(vr)))Wr.loading=5;else{Ue=Oe({rel:"stylesheet",href:Ue,"data-precedence":Ve},Ge),(Ge=Au.get(vr))&&Pp(Ue,Ge);var xn=Lr=Ze.createElement("link");On(xn),ml(xn,"link",Ue),xn._p=new Promise(function(Gn,di){xn.onload=Gn,xn.onerror=di}),xn.addEventListener("load",function(){Wr.loading|=1}),xn.addEventListener("error",function(){Wr.loading|=2}),Wr.loading|=4,GA(Lr,Ve,Ze)}Lr={type:"stylesheet",instance:Lr,count:1,state:Wr},ur.set(vr,Lr)}}}function qm(Ue,Ve){Yf.X(Ue,Ve);var Ge=Lh;if(Ge&&Ue){var Ze=Yn(Ge).hoistableScripts,ur=Nh(Ue),vr=Ze.get(ur);vr||(vr=Ge.querySelector(mA(ur)),vr||(Ue=Oe({src:Ue,async:!0},Ve),(Ve=Au.get(ur))&&Rp(Ue,Ve),vr=Ge.createElement("script"),On(vr),ml(vr,"link",Ue),Ge.head.appendChild(vr)),vr={type:"script",instance:vr,count:1,state:null},Ze.set(ur,vr))}}function Ym(Ue,Ve){Yf.M(Ue,Ve);var Ge=Lh;if(Ge&&Ue){var Ze=Yn(Ge).hoistableScripts,ur=Nh(Ue),vr=Ze.get(ur);vr||(vr=Ge.querySelector(mA(ur)),vr||(Ue=Oe({src:Ue,async:!0,type:"module"},Ve),(Ve=Au.get(ur))&&Rp(Ue,Ve),vr=Ge.createElement("script"),On(vr),ml(vr,"link",Ue),Ge.head.appendChild(vr)),vr={type:"script",instance:vr,count:1,state:null},Ze.set(ur,vr))}}function sm(Ue,Ve,Ge,Ze){var ur=(ur=Or.current)?WA(ur):null;if(!ur)throw Error(Pe(446));switch(Ue){case"meta":case"title":return null;case"style":return typeof Ge.precedence=="string"&&typeof Ge.href=="string"?(Ve=Oh(Ge.href),Ge=Yn(ur).hoistableStyles,Ze=Ge.get(Ve),Ze||(Ze={type:"style",instance:null,count:0,state:null},Ge.set(Ve,Ze)),Ze):{type:"void",instance:null,count:0,state:null};case"link":if(Ge.rel==="stylesheet"&&typeof Ge.href=="string"&&typeof Ge.precedence=="string"){Ue=Oh(Ge.href);var vr=Yn(ur).hoistableStyles,Lr=vr.get(Ue);if(Lr||(ur=ur.ownerDocument||ur,Lr={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},vr.set(Ue,Lr),(vr=ur.querySelector(pA(Ue)))&&!vr._p&&(Lr.instance=vr,Lr.state.loading=5),Au.has(Ue)||(Ge={rel:"preload",as:"style",href:Ge.href,crossOrigin:Ge.crossOrigin,integrity:Ge.integrity,media:Ge.media,hrefLang:Ge.hrefLang,referrerPolicy:Ge.referrerPolicy},Au.set(Ue,Ge),vr||Xm(ur,Ue,Ge,Lr.state))),Ve&&Ze===null)throw Error(Pe(528,""));return Lr}if(Ve&&Ze!==null)throw Error(Pe(529,""));return null;case"script":return Ve=Ge.async,Ge=Ge.src,typeof Ge=="string"&&Ve&&typeof Ve!="function"&&typeof Ve!="symbol"?(Ve=Nh(Ge),Ge=Yn(ur).hoistableScripts,Ze=Ge.get(Ve),Ze||(Ze={type:"script",instance:null,count:0,state:null},Ge.set(Ve,Ze)),Ze):{type:"void",instance:null,count:0,state:null};default:throw Error(Pe(444,Ue))}}function Oh(Ue){return'href="'+Ms(Ue)+'"'}function pA(Ue){return'link[rel="stylesheet"]['+Ue+"]"}function am(Ue){return Oe({},Ue,{"data-precedence":Ue.precedence,precedence:null})}function Xm(Ue,Ve,Ge,Ze){Ue.querySelector('link[rel="preload"][as="style"]['+Ve+"]")?Ze.loading=1:(Ve=Ue.createElement("link"),Ze.preload=Ve,Ve.addEventListener("load",function(){return Ze.loading|=1}),Ve.addEventListener("error",function(){return Ze.loading|=2}),ml(Ve,"link",Ge),On(Ve),Ue.head.appendChild(Ve))}function Nh(Ue){return'[src="'+Ms(Ue)+'"]'}function mA(Ue){return"script[async]"+Ue}function om(Ue,Ve,Ge){if(Ve.count++,Ve.instance===null)switch(Ve.type){case"style":var Ze=Ue.querySelector('style[data-href~="'+Ms(Ge.href)+'"]');if(Ze)return Ve.instance=Ze,On(Ze),Ze;var ur=Oe({},Ge,{"data-href":Ge.href,"data-precedence":Ge.precedence,href:null,precedence:null});return Ze=(Ue.ownerDocument||Ue).createElement("style"),On(Ze),ml(Ze,"style",ur),GA(Ze,Ge.precedence,Ue),Ve.instance=Ze;case"stylesheet":ur=Oh(Ge.href);var vr=Ue.querySelector(pA(ur));if(vr)return Ve.state.loading|=4,Ve.instance=vr,On(vr),vr;Ze=am(Ge),(ur=Au.get(ur))&&Pp(Ze,ur),vr=(Ue.ownerDocument||Ue).createElement("link"),On(vr);var Lr=vr;return Lr._p=new Promise(function(Wr,xn){Lr.onload=Wr,Lr.onerror=xn}),ml(vr,"link",Ze),Ve.state.loading|=4,GA(vr,Ge.precedence,Ue),Ve.instance=vr;case"script":return vr=Nh(Ge.src),(ur=Ue.querySelector(mA(vr)))?(Ve.instance=ur,On(ur),ur):(Ze=Ge,(ur=Au.get(vr))&&(Ze=Oe({},Ge),Rp(Ze,ur)),Ue=Ue.ownerDocument||Ue,ur=Ue.createElement("script"),On(ur),ml(ur,"link",Ze),Ue.head.appendChild(ur),Ve.instance=ur);case"void":return null;default:throw Error(Pe(443,Ve.type))}else Ve.type==="stylesheet"&&(Ve.state.loading&4)===0&&(Ze=Ve.instance,Ve.state.loading|=4,GA(Ze,Ge.precedence,Ue));return Ve.instance}function GA(Ue,Ve,Ge){for(var Ze=Ge.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),ur=Ze.length?Ze[Ze.length-1]:null,vr=ur,Lr=0;Lr<Ze.length;Lr++){var Wr=Ze[Lr];if(Wr.dataset.precedence===Ve)vr=Wr;else if(vr!==ur)break}vr?vr.parentNode.insertBefore(Ue,vr.nextSibling):(Ve=Ge.nodeType===9?Ge.head:Ge,Ve.insertBefore(Ue,Ve.firstChild))}function Pp(Ue,Ve){Ue.crossOrigin==null&&(Ue.crossOrigin=Ve.crossOrigin),Ue.referrerPolicy==null&&(Ue.referrerPolicy=Ve.referrerPolicy),Ue.title==null&&(Ue.title=Ve.title)}function Rp(Ue,Ve){Ue.crossOrigin==null&&(Ue.crossOrigin=Ve.crossOrigin),Ue.referrerPolicy==null&&(Ue.referrerPolicy=Ve.referrerPolicy),Ue.integrity==null&&(Ue.integrity=Ve.integrity)}var qA=null;function lm(Ue,Ve,Ge){if(qA===null){var Ze=new Map,ur=qA=new Map;ur.set(Ge,Ze)}else ur=qA,Ze=ur.get(Ge),Ze||(Ze=new Map,ur.set(Ge,Ze));if(Ze.has(Ue))return Ze;for(Ze.set(Ue,null),Ge=Ge.getElementsByTagName(Ue),ur=0;ur<Ge.length;ur++){var vr=Ge[ur];if(!(vr[Xr]||vr[Qi]||Ue==="link"&&vr.getAttribute("rel")==="stylesheet")&&vr.namespaceURI!=="http://www.w3.org/2000/svg"){var Lr=vr.getAttribute(Ve)||"";Lr=Ue+Lr;var Wr=Ze.get(Lr);Wr?Wr.push(vr):Ze.set(Lr,[vr])}}return Ze}function cm(Ue,Ve,Ge){Ue=Ue.ownerDocument||Ue,Ue.head.insertBefore(Ge,Ve==="title"?Ue.querySelector("head > title"):null)}function Zm(Ue,Ve,Ge){if(Ge===1||Ve.itemProp!=null)return!1;switch(Ue){case"meta":case"title":return!0;case"style":if(typeof Ve.precedence!="string"||typeof Ve.href!="string"||Ve.href==="")break;return!0;case"link":if(typeof Ve.rel!="string"||typeof Ve.href!="string"||Ve.href===""||Ve.onLoad||Ve.onError)break;switch(Ve.rel){case"stylesheet":return Ue=Ve.disabled,typeof Ve.precedence=="string"&&Ue==null;default:return!0}case"script":if(Ve.async&&typeof Ve.async!="function"&&typeof Ve.async!="symbol"&&!Ve.onLoad&&!Ve.onError&&Ve.src&&typeof Ve.src=="string")return!0}return!1}function um(Ue){return!(Ue.type==="stylesheet"&&(Ue.state.loading&3)===0)}var gA=null;function Jm(){}function eg(Ue,Ve,Ge){if(gA===null)throw Error(Pe(475));var Ze=gA;if(Ve.type==="stylesheet"&&(typeof Ge.media!="string"||matchMedia(Ge.media).matches!==!1)&&(Ve.state.loading&4)===0){if(Ve.instance===null){var ur=Oh(Ge.href),vr=Ue.querySelector(pA(ur));if(vr){Ue=vr._p,Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"&&(Ze.count++,Ze=YA.bind(Ze),Ue.then(Ze,Ze)),Ve.state.loading|=4,Ve.instance=vr,On(vr);return}vr=Ue.ownerDocument||Ue,Ge=am(Ge),(ur=Au.get(ur))&&Pp(Ge,ur),vr=vr.createElement("link"),On(vr);var Lr=vr;Lr._p=new Promise(function(Wr,xn){Lr.onload=Wr,Lr.onerror=xn}),ml(vr,"link",Ge),Ve.instance=vr}Ze.stylesheets===null&&(Ze.stylesheets=new Map),Ze.stylesheets.set(Ve,Ue),(Ue=Ve.state.preload)&&(Ve.state.loading&3)===0&&(Ze.count++,Ve=YA.bind(Ze),Ue.addEventListener("load",Ve),Ue.addEventListener("error",Ve))}}function tg(){if(gA===null)throw Error(Pe(475));var Ue=gA;return Ue.stylesheets&&Ue.count===0&&Ip(Ue,Ue.stylesheets),0<Ue.count?function(Ve){var Ge=setTimeout(function(){if(Ue.stylesheets&&Ip(Ue,Ue.stylesheets),Ue.unsuspend){var Ze=Ue.unsuspend;Ue.unsuspend=null,Ze()}},6e4);return Ue.unsuspend=Ve,function(){Ue.unsuspend=null,clearTimeout(Ge)}}:null}function YA(){if(this.count--,this.count===0){if(this.stylesheets)Ip(this,this.stylesheets);else if(this.unsuspend){var Ue=this.unsuspend;this.unsuspend=null,Ue()}}}var XA=null;function Ip(Ue,Ve){Ue.stylesheets=null,Ue.unsuspend!==null&&(Ue.count++,XA=new Map,Ve.forEach(rg,Ue),XA=null,YA.call(Ue))}function rg(Ue,Ve){if(!(Ve.state.loading&4)){var Ge=XA.get(Ue);if(Ge)var Ze=Ge.get(null);else{Ge=new Map,XA.set(Ue,Ge);for(var ur=Ue.querySelectorAll("link[data-precedence],style[data-precedence]"),vr=0;vr<ur.length;vr++){var Lr=ur[vr];(Lr.nodeName==="LINK"||Lr.getAttribute("media")!=="not all")&&(Ge.set(Lr.dataset.precedence,Lr),Ze=Lr)}Ze&&Ge.set(null,Ze)}ur=Ve.instance,Lr=ur.getAttribute("data-precedence"),vr=Ge.get(Lr)||Ze,vr===Ze&&Ge.set(null,ur),Ge.set(Lr,ur),this.count++,Ze=YA.bind(this),ur.addEventListener("load",Ze),ur.addEventListener("error",Ze),vr?vr.parentNode.insertBefore(ur,vr.nextSibling):(Ue=Ue.nodeType===9?Ue.head:Ue,Ue.insertBefore(ur,Ue.firstChild)),Ve.state.loading|=4}}var vA={$$typeof:qe,Provider:null,Consumer:null,_currentValue:Ar,_currentValue2:Ar,_threadCount:0};function ng(Ue,Ve,Ge,Ze,ur,vr,Lr,Wr){this.tag=1,this.containerInfo=Ue,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zs(0),this.hiddenUpdates=Zs(null),this.identifierPrefix=Ze,this.onUncaughtError=ur,this.onCaughtError=vr,this.onRecoverableError=Lr,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Wr,this.incompleteTransitions=new Map}function fm(Ue,Ve,Ge,Ze,ur,vr,Lr,Wr,xn,Gn,di,vi){return Ue=new ng(Ue,Ve,Ge,Lr,Wr,xn,Gn,vi),Ve=1,vr===!0&&(Ve|=24),vr=Oo(3,null,null,Ve),Ue.current=vr,vr.stateNode=Ue,Ve=Bd(),Ve.refCount++,Ue.pooledCache=Ve,Ve.refCount++,vr.memoizedState={element:Ze,isDehydrated:Ge,cache:Ve},Rn(vr),Ue}function dm(Ue){return Ue?(Ue=yo,Ue):yo}function hm(Ue,Ve,Ge,Ze,ur,vr){ur=dm(ur),Ze.context===null?Ze.context=ur:Ze.pendingContext=ur,Ze=oi(Ve),Ze.payload={element:Ge},vr=vr===void 0?null:vr,vr!==null&&(Ze.callback=vr),Ge=hi(Ue,Ze,Ve),Ge!==null&&(ji(Ge,Ue,Ve),fi(Ge,Ue,Ve))}function Am(Ue,Ve){if(Ue=Ue.memoizedState,Ue!==null&&Ue.dehydrated!==null){var Ge=Ue.retryLane;Ue.retryLane=Ge!==0&&Ge<Ve?Ge:Ve}}function Bp(Ue,Ve){Am(Ue,Ve),(Ue=Ue.alternate)&&Am(Ue,Ve)}function pm(Ue){if(Ue.tag===13){var Ve=Bc(Ue,67108864);Ve!==null&&ji(Ve,Ue,67108864),Bp(Ue,67108864)}}var ZA=!0;function ig(Ue,Ve,Ge,Ze){var ur=mr.T;mr.T=null;var vr=Er.p;try{Er.p=2,jp(Ue,Ve,Ge,Ze)}finally{Er.p=vr,mr.T=ur}}function sg(Ue,Ve,Ge,Ze){var ur=mr.T;mr.T=null;var vr=Er.p;try{Er.p=8,jp(Ue,Ve,Ge,Ze)}finally{Er.p=vr,mr.T=ur}}function jp(Ue,Ve,Ge,Ze){if(ZA){var ur=Dp(Ze);if(ur===null)yp(Ue,Ve,Ze,JA,Ge),gm(Ue,Ze);else if(og(ur,Ue,Ve,Ge,Ze))Ze.stopPropagation();else if(gm(Ue,Ze),Ve&4&&-1<ag.indexOf(Ue)){for(;ur!==null;){var vr=gn(ur);if(vr!==null)switch(vr.tag){case 3:if(vr=vr.stateNode,vr.current.memoizedState.isDehydrated){var Lr=bi(vr.pendingLanes);if(Lr!==0){var Wr=vr;for(Wr.pendingLanes|=2,Wr.entangledLanes|=2;Lr;){var xn=1<<31-Pn(Lr);Wr.entanglements[1]|=xn,Lr&=~xn}wf(vr),(ua&6)===0&&(nr=qn()+500,fA(0))}}break;case 13:Wr=Bc(vr,2),Wr!==null&&ji(Wr,vr,2),xs(),Bp(vr,2)}if(vr=Dp(Ze),vr===null&&yp(Ue,Ve,Ze,JA,Ge),vr===ur)break;ur=vr}ur!==null&&Ze.stopPropagation()}else yp(Ue,Ve,Ze,null,Ge)}}function Dp(Ue){return Ue=oa(Ue),Fp(Ue)}var JA=null;function Fp(Ue){if(JA=null,Ue=pn(Ue),Ue!==null){var Ve=Ie(Ue);if(Ve===null)Ue=null;else{var Ge=Ve.tag;if(Ge===13){if(Ue=Be(Ve),Ue!==null)return Ue;Ue=null}else if(Ge===3){if(Ve.stateNode.current.memoizedState.isDehydrated)return Ve.tag===3?Ve.stateNode.containerInfo:null;Ue=null}else Ve!==Ue&&(Ue=null)}}return JA=Ue,null}function mm(Ue){switch(Ue){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ci()){case Jn:return 2;case ui:return 8;case li:case mi:return 32;case wi:return 268435456;default:return 32}default:return 32}}var Lp=!1,Sd=null,Td=null,Cd=null,yA=new Map,xA=new Map,Pd=[],ag="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gm(Ue,Ve){switch(Ue){case"focusin":case"focusout":Sd=null;break;case"dragenter":case"dragleave":Td=null;break;case"mouseover":case"mouseout":Cd=null;break;case"pointerover":case"pointerout":yA.delete(Ve.pointerId);break;case"gotpointercapture":case"lostpointercapture":xA.delete(Ve.pointerId)}}function _A(Ue,Ve,Ge,Ze,ur,vr){return Ue===null||Ue.nativeEvent!==vr?(Ue={blockedOn:Ve,domEventName:Ge,eventSystemFlags:Ze,nativeEvent:vr,targetContainers:[ur]},Ve!==null&&(Ve=gn(Ve),Ve!==null&&pm(Ve)),Ue):(Ue.eventSystemFlags|=Ze,Ve=Ue.targetContainers,ur!==null&&Ve.indexOf(ur)===-1&&Ve.push(ur),Ue)}function og(Ue,Ve,Ge,Ze,ur){switch(Ve){case"focusin":return Sd=_A(Sd,Ue,Ve,Ge,Ze,ur),!0;case"dragenter":return Td=_A(Td,Ue,Ve,Ge,Ze,ur),!0;case"mouseover":return Cd=_A(Cd,Ue,Ve,Ge,Ze,ur),!0;case"pointerover":var vr=ur.pointerId;return yA.set(vr,_A(yA.get(vr)||null,Ue,Ve,Ge,Ze,ur)),!0;case"gotpointercapture":return vr=ur.pointerId,xA.set(vr,_A(xA.get(vr)||null,Ue,Ve,Ge,Ze,ur)),!0}return!1}function vm(Ue){var Ve=pn(Ue.target);if(Ve!==null){var Ge=Ie(Ve);if(Ge!==null){if(Ve=Ge.tag,Ve===13){if(Ve=Be(Ge),Ve!==null){Ue.blockedOn=Ve,Na(Ue.priority,function(){if(Ge.tag===13){var Ze=Mi();Ze=ss(Ze);var ur=Bc(Ge,Ze);ur!==null&&ji(ur,Ge,Ze),Bp(Ge,Ze)}});return}}else if(Ve===3&&Ge.stateNode.current.memoizedState.isDehydrated){Ue.blockedOn=Ge.tag===3?Ge.stateNode.containerInfo:null;return}}}Ue.blockedOn=null}function ep(Ue){if(Ue.blockedOn!==null)return!1;for(var Ve=Ue.targetContainers;0<Ve.length;){var Ge=Dp(Ue.nativeEvent);if(Ge===null){Ge=Ue.nativeEvent;var Ze=new Ge.constructor(Ge.type,Ge);mo=Ze,Ge.target.dispatchEvent(Ze),mo=null}else return Ve=gn(Ge),Ve!==null&&pm(Ve),Ue.blockedOn=Ge,!1;Ve.shift()}return!0}function ym(Ue,Ve,Ge){ep(Ue)&&Ge.delete(Ve)}function lg(){Lp=!1,Sd!==null&&ep(Sd)&&(Sd=null),Td!==null&&ep(Td)&&(Td=null),Cd!==null&&ep(Cd)&&(Cd=null),yA.forEach(ym),xA.forEach(ym)}function tp(Ue,Ve){Ue.blockedOn===Ve&&(Ue.blockedOn=null,Lp||(Lp=!0,Ee.unstable_scheduleCallback(Ee.unstable_NormalPriority,lg)))}var rp=null;function xm(Ue){rp!==Ue&&(rp=Ue,Ee.unstable_scheduleCallback(Ee.unstable_NormalPriority,function(){rp===Ue&&(rp=null);for(var Ve=0;Ve<Ue.length;Ve+=3){var Ge=Ue[Ve],Ze=Ue[Ve+1],ur=Ue[Ve+2];if(typeof Ze!="function"){if(Fp(Ze||Ge)===null)continue;break}var vr=gn(Ge);vr!==null&&(Ue.splice(Ve,3),Ve-=3,mc(vr,{pending:!0,data:ur,method:Ge.method,action:Ze},Ze,ur))}}))}function bA(Ue){function Ve(xn){return tp(xn,Ue)}Sd!==null&&tp(Sd,Ue),Td!==null&&tp(Td,Ue),Cd!==null&&tp(Cd,Ue),yA.forEach(Ve),xA.forEach(Ve);for(var Ge=0;Ge<Pd.length;Ge++){var Ze=Pd[Ge];Ze.blockedOn===Ue&&(Ze.blockedOn=null)}for(;0<Pd.length&&(Ge=Pd[0],Ge.blockedOn===null);)vm(Ge),Ge.blockedOn===null&&Pd.shift();if(Ge=(Ue.ownerDocument||Ue).$$reactFormReplay,Ge!=null)for(Ze=0;Ze<Ge.length;Ze+=3){var ur=Ge[Ze],vr=Ge[Ze+1],Lr=ur[ks]||null;if(typeof vr=="function")Lr||xm(Ge);else if(Lr){var Wr=null;if(vr&&vr.hasAttribute("formAction")){if(ur=vr,Lr=vr[ks]||null)Wr=Lr.formAction;else if(Fp(ur)!==null)continue}else Wr=Lr.action;typeof Wr=="function"?Ge[Ze+1]=Wr:(Ge.splice(Ze,3),Ze-=3),xm(Ge)}}}function Op(Ue){this._internalRoot=Ue}np.prototype.render=Op.prototype.render=function(Ue){var Ve=this._internalRoot;if(Ve===null)throw Error(Pe(409));var Ge=Ve.current,Ze=Mi();hm(Ge,Ze,Ue,Ve,null,null)},np.prototype.unmount=Op.prototype.unmount=function(){var Ue=this._internalRoot;if(Ue!==null){this._internalRoot=null;var Ve=Ue.containerInfo;hm(Ue.current,2,null,Ue,null,null),xs(),Ve[ta]=null}};function np(Ue){this._internalRoot=Ue}np.prototype.unstable_scheduleHydration=function(Ue){if(Ue){var Ve=Js();Ue={blockedOn:null,target:Ue,priority:Ve};for(var Ge=0;Ge<Pd.length&&Ve!==0&&Ve<Pd[Ge].priority;Ge++);Pd.splice(Ge,0,Ue),Ge===0&&vm(Ue)}};var _m=_e.version;if(_m!=="19.1.0")throw Error(Pe(527,_m,"19.1.0"));Er.findDOMNode=function(Ue){var Ve=Ue._reactInternals;if(Ve===void 0)throw typeof Ue.render=="function"?Error(Pe(188)):(Ue=Object.keys(Ue).join(","),Error(Pe(268,Ue)));return Ue=De(Ve),Ue=Ue!==null?Fe(Ue):null,Ue=Ue===null?null:Ue.stateNode,Ue};var cg={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:mr,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ip.isDisabled&&ip.supportsFiber)try{Si=ip.inject(cg),Bi=ip}catch{}}return reactDomClient_production.createRoot=function(Ue,Ve){if(!Re(Ue))throw Error(Pe(299));var Ge=!1,Ze="",ur=Kh,vr=Wh,Lr=bh,Wr=null;return Ve!=null&&(Ve.unstable_strictMode===!0&&(Ge=!0),Ve.identifierPrefix!==void 0&&(Ze=Ve.identifierPrefix),Ve.onUncaughtError!==void 0&&(ur=Ve.onUncaughtError),Ve.onCaughtError!==void 0&&(vr=Ve.onCaughtError),Ve.onRecoverableError!==void 0&&(Lr=Ve.onRecoverableError),Ve.unstable_transitionCallbacks!==void 0&&(Wr=Ve.unstable_transitionCallbacks)),Ve=fm(Ue,1,!1,null,null,Ge,Ze,ur,vr,Lr,Wr,null),Ue[ta]=Ve.current,vp(Ue),new Op(Ve)},reactDomClient_production.hydrateRoot=function(Ue,Ve,Ge){if(!Re(Ue))throw Error(Pe(299));var Ze=!1,ur="",vr=Kh,Lr=Wh,Wr=bh,xn=null,Gn=null;return Ge!=null&&(Ge.unstable_strictMode===!0&&(Ze=!0),Ge.identifierPrefix!==void 0&&(ur=Ge.identifierPrefix),Ge.onUncaughtError!==void 0&&(vr=Ge.onUncaughtError),Ge.onCaughtError!==void 0&&(Lr=Ge.onCaughtError),Ge.onRecoverableError!==void 0&&(Wr=Ge.onRecoverableError),Ge.unstable_transitionCallbacks!==void 0&&(xn=Ge.unstable_transitionCallbacks),Ge.formState!==void 0&&(Gn=Ge.formState)),Ve=fm(Ue,1,!0,Ve,Ge??null,Ze,ur,vr,Lr,Wr,xn,Gn),Ve.context=dm(null),Ge=Ve.current,Ze=Mi(),Ze=ss(Ze),ur=oi(Ze),ur.callback=null,hi(Ge,ur,Ze),Ge=Ze,Ve.current.lanes=Ge,Ji(Ve,Ge),wf(Ve),Ue[ta]=Ve.current,vp(Ue),new np(Ve)},reactDomClient_production.version="19.1.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function Ee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ee)}catch(_e){console.error(_e)}}return Ee(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(Ee={}){function _e(Pe,Re){let{pathname:Ie,search:Be,hash:je}=Pe.location;return createLocation("",{pathname:Ie,search:Be,hash:je},Re.state&&Re.state.usr||null,Re.state&&Re.state.key||"default")}function Ce(Pe,Re){return typeof Re=="string"?Re:createPath(Re)}return getUrlBasedHistory(_e,Ce,null,Ee)}function invariant$3(Ee,_e){if(Ee===!1||Ee===null||typeof Ee>"u")throw new Error(_e)}function warning(Ee,_e){if(!Ee){typeof console<"u"&&console.warn(_e);try{throw new Error(_e)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(Ee,_e){return{usr:Ee.state,key:Ee.key,idx:_e}}function createLocation(Ee,_e,Ce=null,Pe){return{pathname:typeof Ee=="string"?Ee:Ee.pathname,search:"",hash:"",...typeof _e=="string"?parsePath(_e):_e,state:Ce,key:_e&&_e.key||Pe||createKey()}}function createPath({pathname:Ee="/",search:_e="",hash:Ce=""}){return _e&&_e!=="?"&&(Ee+=_e.charAt(0)==="?"?_e:"?"+_e),Ce&&Ce!=="#"&&(Ee+=Ce.charAt(0)==="#"?Ce:"#"+Ce),Ee}function parsePath(Ee){let _e={};if(Ee){let Ce=Ee.indexOf("#");Ce>=0&&(_e.hash=Ee.substring(Ce),Ee=Ee.substring(0,Ce));let Pe=Ee.indexOf("?");Pe>=0&&(_e.search=Ee.substring(Pe),Ee=Ee.substring(0,Pe)),Ee&&(_e.pathname=Ee)}return _e}function getUrlBasedHistory(Ee,_e,Ce,Pe={}){let{window:Re=document.defaultView,v5Compat:Ie=!1}=Pe,Be=Re.history,je="POP",De=null,Fe=Oe();Fe==null&&(Fe=0,Be.replaceState({...Be.state,idx:Fe},""));function Oe(){return(Be.state||{idx:null}).idx}function ke(){je="POP";let Ke=Oe(),ze=Ke==null?null:Ke-Fe;Fe=Ke,De&&De({action:je,location:Qe.location,delta:ze})}function Me(Ke,ze){je="PUSH";let We=createLocation(Qe.location,Ke,ze);Fe=Oe()+1;let qe=getHistoryState(We,Fe),Ye=Qe.createHref(We);try{Be.pushState(qe,"",Ye)}catch(Xe){if(Xe instanceof DOMException&&Xe.name==="DataCloneError")throw Xe;Re.location.assign(Ye)}Ie&&De&&De({action:je,location:Qe.location,delta:1})}function $e(Ke,ze){je="REPLACE";let We=createLocation(Qe.location,Ke,ze);Fe=Oe();let qe=getHistoryState(We,Fe),Ye=Qe.createHref(We);Be.replaceState(qe,"",Ye),Ie&&De&&De({action:je,location:Qe.location,delta:0})}function He(Ke){return createBrowserURLImpl(Ke)}let Qe={get action(){return je},get location(){return Ee(Re,Be)},listen(Ke){if(De)throw new Error("A history only accepts one active listener");return Re.addEventListener(PopStateEventType,ke),De=Ke,()=>{Re.removeEventListener(PopStateEventType,ke),De=null}},createHref(Ke){return _e(Re,Ke)},createURL:He,encodeLocation(Ke){let ze=He(Ke);return{pathname:ze.pathname,search:ze.search,hash:ze.hash}},push:Me,replace:$e,go(Ke){return Be.go(Ke)}};return Qe}function createBrowserURLImpl(Ee,_e=!1){let Ce="http://localhost";typeof window<"u"&&(Ce=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$3(Ce,"No window.location.(origin|href) available to create URL");let Pe=typeof Ee=="string"?Ee:createPath(Ee);return Pe=Pe.replace(/ $/,"%20"),!_e&&Pe.startsWith("//")&&(Pe=Ce+Pe),new URL(Pe,Ce)}function matchRoutes(Ee,_e,Ce="/"){return matchRoutesImpl(Ee,_e,Ce,!1)}function matchRoutesImpl(Ee,_e,Ce,Pe){let Re=typeof _e=="string"?parsePath(_e):_e,Ie=stripBasename(Re.pathname||"/",Ce);if(Ie==null)return null;let Be=flattenRoutes(Ee);rankRouteBranches(Be);let je=null;for(let De=0;je==null&&De<Be.length;++De){let Fe=decodePath(Ie);je=matchRouteBranch(Be[De],Fe,Pe)}return je}function flattenRoutes(Ee,_e=[],Ce=[],Pe=""){let Re=(Ie,Be,je)=>{let De={relativePath:je===void 0?Ie.path||"":je,caseSensitive:Ie.caseSensitive===!0,childrenIndex:Be,route:Ie};De.relativePath.startsWith("/")&&(invariant$3(De.relativePath.startsWith(Pe),`Absolute route path "${De.relativePath}" nested under path "${Pe}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),De.relativePath=De.relativePath.slice(Pe.length));let Fe=joinPaths([Pe,De.relativePath]),Oe=Ce.concat(De);Ie.children&&Ie.children.length>0&&(invariant$3(Ie.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${Fe}".`),flattenRoutes(Ie.children,_e,Oe,Fe)),!(Ie.path==null&&!Ie.index)&&_e.push({path:Fe,score:computeScore(Fe,Ie.index),routesMeta:Oe})};return Ee.forEach((Ie,Be)=>{if(Ie.path===""||!Ie.path?.includes("?"))Re(Ie,Be);else for(let je of explodeOptionalSegments(Ie.path))Re(Ie,Be,je)}),_e}function explodeOptionalSegments(Ee){let _e=Ee.split("/");if(_e.length===0)return[];let[Ce,...Pe]=_e,Re=Ce.endsWith("?"),Ie=Ce.replace(/\?$/,"");if(Pe.length===0)return Re?[Ie,""]:[Ie];let Be=explodeOptionalSegments(Pe.join("/")),je=[];return je.push(...Be.map(De=>De===""?Ie:[Ie,De].join("/"))),Re&&je.push(...Be),je.map(De=>Ee.startsWith("/")&&De===""?"/":De)}function rankRouteBranches(Ee){Ee.sort((_e,Ce)=>_e.score!==Ce.score?Ce.score-_e.score:compareIndexes(_e.routesMeta.map(Pe=>Pe.childrenIndex),Ce.routesMeta.map(Pe=>Pe.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=Ee=>Ee==="*";function computeScore(Ee,_e){let Ce=Ee.split("/"),Pe=Ce.length;return Ce.some(isSplat)&&(Pe+=splatPenalty),_e&&(Pe+=indexRouteValue),Ce.filter(Re=>!isSplat(Re)).reduce((Re,Ie)=>Re+(paramRe.test(Ie)?dynamicSegmentValue:Ie===""?emptySegmentValue:staticSegmentValue),Pe)}function compareIndexes(Ee,_e){return Ee.length===_e.length&&Ee.slice(0,-1).every((Pe,Re)=>Pe===_e[Re])?Ee[Ee.length-1]-_e[_e.length-1]:0}function matchRouteBranch(Ee,_e,Ce=!1){let{routesMeta:Pe}=Ee,Re={},Ie="/",Be=[];for(let je=0;je<Pe.length;++je){let De=Pe[je],Fe=je===Pe.length-1,Oe=Ie==="/"?_e:_e.slice(Ie.length)||"/",ke=matchPath({path:De.relativePath,caseSensitive:De.caseSensitive,end:Fe},Oe),Me=De.route;if(!ke&&Fe&&Ce&&!Pe[Pe.length-1].route.index&&(ke=matchPath({path:De.relativePath,caseSensitive:De.caseSensitive,end:!1},Oe)),!ke)return null;Object.assign(Re,ke.params),Be.push({params:Re,pathname:joinPaths([Ie,ke.pathname]),pathnameBase:normalizePathname(joinPaths([Ie,ke.pathnameBase])),route:Me}),ke.pathnameBase!=="/"&&(Ie=joinPaths([Ie,ke.pathnameBase]))}return Be}function matchPath(Ee,_e){typeof Ee=="string"&&(Ee={path:Ee,caseSensitive:!1,end:!0});let[Ce,Pe]=compilePath(Ee.path,Ee.caseSensitive,Ee.end),Re=_e.match(Ce);if(!Re)return null;let Ie=Re[0],Be=Ie.replace(/(.)\/+$/,"$1"),je=Re.slice(1);return{params:Pe.reduce((Fe,{paramName:Oe,isOptional:ke},Me)=>{if(Oe==="*"){let He=je[Me]||"";Be=Ie.slice(0,Ie.length-He.length).replace(/(.)\/+$/,"$1")}const $e=je[Me];return ke&&!$e?Fe[Oe]=void 0:Fe[Oe]=($e||"").replace(/%2F/g,"/"),Fe},{}),pathname:Ie,pathnameBase:Be,pattern:Ee}}function compilePath(Ee,_e=!1,Ce=!0){warning(Ee==="*"||!Ee.endsWith("*")||Ee.endsWith("/*"),`Route path "${Ee}" will be treated as if it were "${Ee.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${Ee.replace(/\*$/,"/*")}".`);let Pe=[],Re="^"+Ee.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Be,je,De)=>(Pe.push({paramName:je,isOptional:De!=null}),De?"/?([^\\/]+)?":"/([^\\/]+)"));return Ee.endsWith("*")?(Pe.push({paramName:"*"}),Re+=Ee==="*"||Ee==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):Ce?Re+="\\/*$":Ee!==""&&Ee!=="/"&&(Re+="(?:(?=\\/|$))"),[new RegExp(Re,_e?void 0:"i"),Pe]}function decodePath(Ee){try{return Ee.split("/").map(_e=>decodeURIComponent(_e).replace(/\//g,"%2F")).join("/")}catch(_e){return warning(!1,`The URL path "${Ee}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${_e}).`),Ee}}function stripBasename(Ee,_e){if(_e==="/")return Ee;if(!Ee.toLowerCase().startsWith(_e.toLowerCase()))return null;let Ce=_e.endsWith("/")?_e.length-1:_e.length,Pe=Ee.charAt(Ce);return Pe&&Pe!=="/"?null:Ee.slice(Ce)||"/"}function resolvePath(Ee,_e="/"){let{pathname:Ce,search:Pe="",hash:Re=""}=typeof Ee=="string"?parsePath(Ee):Ee;return{pathname:Ce?Ce.startsWith("/")?Ce:resolvePathname(Ce,_e):_e,search:normalizeSearch(Pe),hash:normalizeHash(Re)}}function resolvePathname(Ee,_e){let Ce=_e.replace(/\/+$/,"").split("/");return Ee.split("/").forEach(Re=>{Re===".."?Ce.length>1&&Ce.pop():Re!=="."&&Ce.push(Re)}),Ce.length>1?Ce.join("/"):"/"}function getInvalidPathError(Ee,_e,Ce,Pe){return`Cannot include a '${Ee}' character in a manually specified \`to.${_e}\` field [${JSON.stringify(Pe)}].  Please separate it out to the \`to.${Ce}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(Ee){return Ee.filter((_e,Ce)=>Ce===0||_e.route.path&&_e.route.path.length>0)}function getResolveToMatches(Ee){let _e=getPathContributingMatches(Ee);return _e.map((Ce,Pe)=>Pe===_e.length-1?Ce.pathname:Ce.pathnameBase)}function resolveTo(Ee,_e,Ce,Pe=!1){let Re;typeof Ee=="string"?Re=parsePath(Ee):(Re={...Ee},invariant$3(!Re.pathname||!Re.pathname.includes("?"),getInvalidPathError("?","pathname","search",Re)),invariant$3(!Re.pathname||!Re.pathname.includes("#"),getInvalidPathError("#","pathname","hash",Re)),invariant$3(!Re.search||!Re.search.includes("#"),getInvalidPathError("#","search","hash",Re)));let Ie=Ee===""||Re.pathname==="",Be=Ie?"/":Re.pathname,je;if(Be==null)je=Ce;else{let ke=_e.length-1;if(!Pe&&Be.startsWith("..")){let Me=Be.split("/");for(;Me[0]==="..";)Me.shift(),ke-=1;Re.pathname=Me.join("/")}je=ke>=0?_e[ke]:"/"}let De=resolvePath(Re,je),Fe=Be&&Be!=="/"&&Be.endsWith("/"),Oe=(Ie||Be===".")&&Ce.endsWith("/");return!De.pathname.endsWith("/")&&(Fe||Oe)&&(De.pathname+="/"),De}var joinPaths=Ee=>Ee.join("/").replace(/\/\/+/g,"/"),normalizePathname=Ee=>Ee.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=Ee=>!Ee||Ee==="?"?"":Ee.startsWith("?")?Ee:"?"+Ee,normalizeHash=Ee=>!Ee||Ee==="#"?"":Ee.startsWith("#")?Ee:"#"+Ee;function isRouteErrorResponse(Ee){return Ee!=null&&typeof Ee.status=="number"&&typeof Ee.statusText=="string"&&typeof Ee.internal=="boolean"&&"data"in Ee}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(Ee,{relative:_e}={}){invariant$3(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:Ce,navigator:Pe}=reactExports.useContext(NavigationContext),{hash:Re,pathname:Ie,search:Be}=useResolvedPath(Ee,{relative:_e}),je=Ie;return Ce!=="/"&&(je=Ie==="/"?Ce:joinPaths([Ce,Ie])),Pe.createHref({pathname:je,search:Be,hash:Re})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$3(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(Ee){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(Ee)}function useNavigate(){let{isDataRoute:Ee}=reactExports.useContext(RouteContext);return Ee?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$3(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let Ee=reactExports.useContext(DataRouterContext),{basename:_e,navigator:Ce}=reactExports.useContext(NavigationContext),{matches:Pe}=reactExports.useContext(RouteContext),{pathname:Re}=useLocation(),Ie=JSON.stringify(getResolveToMatches(Pe)),Be=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{Be.current=!0}),reactExports.useCallback((De,Fe={})=>{if(warning(Be.current,navigateEffectWarning),!Be.current)return;if(typeof De=="number"){Ce.go(De);return}let Oe=resolveTo(De,JSON.parse(Ie),Re,Fe.relative==="path");Ee==null&&_e!=="/"&&(Oe.pathname=Oe.pathname==="/"?_e:joinPaths([_e,Oe.pathname])),(Fe.replace?Ce.replace:Ce.push)(Oe,Fe.state,Fe)},[_e,Ce,Ie,Re,Ee])}reactExports.createContext(null);function useResolvedPath(Ee,{relative:_e}={}){let{matches:Ce}=reactExports.useContext(RouteContext),{pathname:Pe}=useLocation(),Re=JSON.stringify(getResolveToMatches(Ce));return reactExports.useMemo(()=>resolveTo(Ee,JSON.parse(Re),Pe,_e==="path"),[Ee,Re,Pe,_e])}function useRoutes(Ee,_e){return useRoutesImpl(Ee,_e)}function useRoutesImpl(Ee,_e,Ce,Pe){invariant$3(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:Re}=reactExports.useContext(NavigationContext),{matches:Ie}=reactExports.useContext(RouteContext),Be=Ie[Ie.length-1],je=Be?Be.params:{},De=Be?Be.pathname:"/",Fe=Be?Be.pathnameBase:"/",Oe=Be&&Be.route;{let ze=Oe&&Oe.path||"";warningOnce(De,!Oe||ze.endsWith("*")||ze.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${De}" (under <Route path="${ze}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ze}"> to <Route path="${ze==="/"?"*":`${ze}/*`}">.`)}let ke=useLocation(),Me;if(_e){let ze=typeof _e=="string"?parsePath(_e):_e;invariant$3(Fe==="/"||ze.pathname?.startsWith(Fe),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${Fe}" but pathname "${ze.pathname}" was given in the \`location\` prop.`),Me=ze}else Me=ke;let $e=Me.pathname||"/",He=$e;if(Fe!=="/"){let ze=Fe.replace(/^\//,"").split("/");He="/"+$e.replace(/^\//,"").split("/").slice(ze.length).join("/")}let Qe=matchRoutes(Ee,{pathname:He});warning(Oe||Qe!=null,`No routes matched location "${Me.pathname}${Me.search}${Me.hash}" `),warning(Qe==null||Qe[Qe.length-1].route.element!==void 0||Qe[Qe.length-1].route.Component!==void 0||Qe[Qe.length-1].route.lazy!==void 0,`Matched leaf route at location "${Me.pathname}${Me.search}${Me.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Ke=_renderMatches(Qe&&Qe.map(ze=>Object.assign({},ze,{params:Object.assign({},je,ze.params),pathname:joinPaths([Fe,Re.encodeLocation?Re.encodeLocation(ze.pathname).pathname:ze.pathname]),pathnameBase:ze.pathnameBase==="/"?Fe:joinPaths([Fe,Re.encodeLocation?Re.encodeLocation(ze.pathnameBase).pathname:ze.pathnameBase])})),Ie,Ce,Pe);return _e&&Ke?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Me},navigationType:"POP"}},Ke):Ke}function DefaultErrorComponent(){let Ee=useRouteError(),_e=isRouteErrorResponse(Ee)?`${Ee.status} ${Ee.statusText}`:Ee instanceof Error?Ee.message:JSON.stringify(Ee),Ce=Ee instanceof Error?Ee.stack:null,Pe="rgba(200,200,200, 0.5)",Re={padding:"0.5rem",backgroundColor:Pe},Ie={padding:"2px 4px",backgroundColor:Pe},Be=null;return console.error("Error handled by React Router default ErrorBoundary:",Ee),Be=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:Ie},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:Ie},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},_e),Ce?reactExports.createElement("pre",{style:Re},Ce):null,Be)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(Ee){super(Ee),this.state={location:Ee.location,revalidation:Ee.revalidation,error:Ee.error}}static getDerivedStateFromError(Ee){return{error:Ee}}static getDerivedStateFromProps(Ee,_e){return _e.location!==Ee.location||_e.revalidation!=="idle"&&Ee.revalidation==="idle"?{error:Ee.error,location:Ee.location,revalidation:Ee.revalidation}:{error:Ee.error!==void 0?Ee.error:_e.error,location:_e.location,revalidation:Ee.revalidation||_e.revalidation}}componentDidCatch(Ee,_e){console.error("React Router caught the following error during render",Ee,_e)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:Ee,match:_e,children:Ce}){let Pe=reactExports.useContext(DataRouterContext);return Pe&&Pe.static&&Pe.staticContext&&(_e.route.errorElement||_e.route.ErrorBoundary)&&(Pe.staticContext._deepestRenderedBoundaryId=_e.route.id),reactExports.createElement(RouteContext.Provider,{value:Ee},Ce)}function _renderMatches(Ee,_e=[],Ce=null,Pe=null){if(Ee==null){if(!Ce)return null;if(Ce.errors)Ee=Ce.matches;else if(_e.length===0&&!Ce.initialized&&Ce.matches.length>0)Ee=Ce.matches;else return null}let Re=Ee,Ie=Ce?.errors;if(Ie!=null){let De=Re.findIndex(Fe=>Fe.route.id&&Ie?.[Fe.route.id]!==void 0);invariant$3(De>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(Ie).join(",")}`),Re=Re.slice(0,Math.min(Re.length,De+1))}let Be=!1,je=-1;if(Ce)for(let De=0;De<Re.length;De++){let Fe=Re[De];if((Fe.route.HydrateFallback||Fe.route.hydrateFallbackElement)&&(je=De),Fe.route.id){let{loaderData:Oe,errors:ke}=Ce,Me=Fe.route.loader&&!Oe.hasOwnProperty(Fe.route.id)&&(!ke||ke[Fe.route.id]===void 0);if(Fe.route.lazy||Me){Be=!0,je>=0?Re=Re.slice(0,je+1):Re=[Re[0]];break}}}return Re.reduceRight((De,Fe,Oe)=>{let ke,Me=!1,$e=null,He=null;Ce&&(ke=Ie&&Fe.route.id?Ie[Fe.route.id]:void 0,$e=Fe.route.errorElement||defaultErrorElement,Be&&(je<0&&Oe===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Me=!0,He=null):je===Oe&&(Me=!0,He=Fe.route.hydrateFallbackElement||null)));let Qe=_e.concat(Re.slice(0,Oe+1)),Ke=()=>{let ze;return ke?ze=$e:Me?ze=He:Fe.route.Component?ze=reactExports.createElement(Fe.route.Component,null):Fe.route.element?ze=Fe.route.element:ze=De,reactExports.createElement(RenderedRoute,{match:Fe,routeContext:{outlet:De,matches:Qe,isDataRoute:Ce!=null},children:ze})};return Ce&&(Fe.route.ErrorBoundary||Fe.route.errorElement||Oe===0)?reactExports.createElement(RenderErrorBoundary,{location:Ce.location,revalidation:Ce.revalidation,component:$e,error:ke,children:Ke(),routeContext:{outlet:null,matches:Qe,isDataRoute:!0}}):Ke()},null)}function getDataRouterConsoleError(Ee){return`${Ee} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(Ee){let _e=reactExports.useContext(DataRouterContext);return invariant$3(_e,getDataRouterConsoleError(Ee)),_e}function useDataRouterState(Ee){let _e=reactExports.useContext(DataRouterStateContext);return invariant$3(_e,getDataRouterConsoleError(Ee)),_e}function useRouteContext(Ee){let _e=reactExports.useContext(RouteContext);return invariant$3(_e,getDataRouterConsoleError(Ee)),_e}function useCurrentRouteId(Ee){let _e=useRouteContext(Ee),Ce=_e.matches[_e.matches.length-1];return invariant$3(Ce.route.id,`${Ee} can only be used on routes that contain a unique "id"`),Ce.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let Ee=reactExports.useContext(RouteErrorContext),_e=useDataRouterState("useRouteError"),Ce=useCurrentRouteId("useRouteError");return Ee!==void 0?Ee:_e.errors?.[Ce]}function useNavigateStable(){let{router:Ee}=useDataRouterContext("useNavigate"),_e=useCurrentRouteId("useNavigate"),Ce=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{Ce.current=!0}),reactExports.useCallback(async(Re,Ie={})=>{warning(Ce.current,navigateEffectWarning),Ce.current&&(typeof Re=="number"?Ee.navigate(Re):await Ee.navigate(Re,{fromRouteId:_e,...Ie}))},[Ee,_e])}var alreadyWarned={};function warningOnce(Ee,_e,Ce){!_e&&!alreadyWarned[Ee]&&(alreadyWarned[Ee]=!0,warning(!1,Ce))}reactExports.memo(DataRoutes);function DataRoutes({routes:Ee,future:_e,state:Ce}){return useRoutesImpl(Ee,void 0,Ce,_e)}function Navigate({to:Ee,replace:_e,state:Ce,relative:Pe}){invariant$3(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:Re}=reactExports.useContext(NavigationContext);warning(!Re,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:Ie}=reactExports.useContext(RouteContext),{pathname:Be}=useLocation(),je=useNavigate(),De=resolveTo(Ee,getResolveToMatches(Ie),Be,Pe==="path"),Fe=JSON.stringify(De);return reactExports.useEffect(()=>{je(JSON.parse(Fe),{replace:_e,state:Ce,relative:Pe})},[je,Fe,Pe,_e,Ce]),null}function Route(Ee){invariant$3(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:Ee="/",children:_e=null,location:Ce,navigationType:Pe="POP",navigator:Re,static:Ie=!1}){invariant$3(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let Be=Ee.replace(/^\/*/,"/"),je=reactExports.useMemo(()=>({basename:Be,navigator:Re,static:Ie,future:{}}),[Be,Re,Ie]);typeof Ce=="string"&&(Ce=parsePath(Ce));let{pathname:De="/",search:Fe="",hash:Oe="",state:ke=null,key:Me="default"}=Ce,$e=reactExports.useMemo(()=>{let He=stripBasename(De,Be);return He==null?null:{location:{pathname:He,search:Fe,hash:Oe,state:ke,key:Me},navigationType:Pe}},[Be,De,Fe,Oe,ke,Me,Pe]);return warning($e!=null,`<Router basename="${Be}"> is not able to match the URL "${De}${Fe}${Oe}" because it does not start with the basename, so the <Router> won't render anything.`),$e==null?null:reactExports.createElement(NavigationContext.Provider,{value:je},reactExports.createElement(LocationContext.Provider,{children:_e,value:$e}))}function Routes({children:Ee,location:_e}){return useRoutes(createRoutesFromChildren(Ee),_e)}function createRoutesFromChildren(Ee,_e=[]){let Ce=[];return reactExports.Children.forEach(Ee,(Pe,Re)=>{if(!reactExports.isValidElement(Pe))return;let Ie=[..._e,Re];if(Pe.type===reactExports.Fragment){Ce.push.apply(Ce,createRoutesFromChildren(Pe.props.children,Ie));return}invariant$3(Pe.type===Route,`[${typeof Pe.type=="string"?Pe.type:Pe.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$3(!Pe.props.index||!Pe.props.children,"An index route cannot have child routes.");let Be={id:Pe.props.id||Ie.join("-"),caseSensitive:Pe.props.caseSensitive,element:Pe.props.element,Component:Pe.props.Component,index:Pe.props.index,path:Pe.props.path,loader:Pe.props.loader,action:Pe.props.action,hydrateFallbackElement:Pe.props.hydrateFallbackElement,HydrateFallback:Pe.props.HydrateFallback,errorElement:Pe.props.errorElement,ErrorBoundary:Pe.props.ErrorBoundary,hasErrorBoundary:Pe.props.hasErrorBoundary===!0||Pe.props.ErrorBoundary!=null||Pe.props.errorElement!=null,shouldRevalidate:Pe.props.shouldRevalidate,handle:Pe.props.handle,lazy:Pe.props.lazy};Pe.props.children&&(Be.children=createRoutesFromChildren(Pe.props.children,Ie)),Ce.push(Be)}),Ce}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(Ee){return Ee!=null&&typeof Ee.tagName=="string"}function isButtonElement(Ee){return isHtmlElement(Ee)&&Ee.tagName.toLowerCase()==="button"}function isFormElement(Ee){return isHtmlElement(Ee)&&Ee.tagName.toLowerCase()==="form"}function isInputElement(Ee){return isHtmlElement(Ee)&&Ee.tagName.toLowerCase()==="input"}function isModifiedEvent(Ee){return!!(Ee.metaKey||Ee.altKey||Ee.ctrlKey||Ee.shiftKey)}function shouldProcessLinkClick(Ee,_e){return Ee.button===0&&(!_e||_e==="_self")&&!isModifiedEvent(Ee)}function createSearchParams(Ee=""){return new URLSearchParams(typeof Ee=="string"||Array.isArray(Ee)||Ee instanceof URLSearchParams?Ee:Object.keys(Ee).reduce((_e,Ce)=>{let Pe=Ee[Ce];return _e.concat(Array.isArray(Pe)?Pe.map(Re=>[Ce,Re]):[[Ce,Pe]])},[]))}function getSearchParamsForLocation(Ee,_e){let Ce=createSearchParams(Ee);return _e&&_e.forEach((Pe,Re)=>{Ce.has(Re)||_e.getAll(Re).forEach(Ie=>{Ce.append(Re,Ie)})}),Ce}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(Ee){return Ee!=null&&!supportedFormEncTypes.has(Ee)?(warning(!1,`"${Ee}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):Ee}function getFormSubmissionInfo(Ee,_e){let Ce,Pe,Re,Ie,Be;if(isFormElement(Ee)){let je=Ee.getAttribute("action");Pe=je?stripBasename(je,_e):null,Ce=Ee.getAttribute("method")||defaultMethod,Re=getFormEncType(Ee.getAttribute("enctype"))||defaultEncType,Ie=new FormData(Ee)}else if(isButtonElement(Ee)||isInputElement(Ee)&&(Ee.type==="submit"||Ee.type==="image")){let je=Ee.form;if(je==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let De=Ee.getAttribute("formaction")||je.getAttribute("action");if(Pe=De?stripBasename(De,_e):null,Ce=Ee.getAttribute("formmethod")||je.getAttribute("method")||defaultMethod,Re=getFormEncType(Ee.getAttribute("formenctype"))||getFormEncType(je.getAttribute("enctype"))||defaultEncType,Ie=new FormData(je,Ee),!isFormDataSubmitterSupported()){let{name:Fe,type:Oe,value:ke}=Ee;if(Oe==="image"){let Me=Fe?`${Fe}.`:"";Ie.append(`${Me}x`,"0"),Ie.append(`${Me}y`,"0")}else Fe&&Ie.append(Fe,ke)}}else{if(isHtmlElement(Ee))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');Ce=defaultMethod,Pe=null,Re=defaultEncType,Be=Ee}return Ie&&Re==="text/plain"&&(Be=Ie,Ie=void 0),{action:Pe,method:Ce.toLowerCase(),encType:Re,formData:Ie,body:Be}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(Ee,_e){if(Ee===!1||Ee===null||typeof Ee>"u")throw new Error(_e)}function singleFetchUrl(Ee,_e,Ce){let Pe=typeof Ee=="string"?new URL(Ee,typeof window>"u"?"server://singlefetch/":window.location.origin):Ee;return Pe.pathname==="/"?Pe.pathname=`_root.${Ce}`:_e&&stripBasename(Pe.pathname,_e)==="/"?Pe.pathname=`${_e.replace(/\/$/,"")}/_root.${Ce}`:Pe.pathname=`${Pe.pathname.replace(/\/$/,"")}.${Ce}`,Pe}async function loadRouteModule(Ee,_e){if(Ee.id in _e)return _e[Ee.id];try{let Ce=await import(Ee.module);return _e[Ee.id]=Ce,Ce}catch(Ce){return console.error(`Error loading route module \`${Ee.module}\`, reloading page...`),console.error(Ce),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(Ee){return Ee==null?!1:Ee.href==null?Ee.rel==="preload"&&typeof Ee.imageSrcSet=="string"&&typeof Ee.imageSizes=="string":typeof Ee.rel=="string"&&typeof Ee.href=="string"}async function getKeyedPrefetchLinks(Ee,_e,Ce){let Pe=await Promise.all(Ee.map(async Re=>{let Ie=_e.routes[Re.route.id];if(Ie){let Be=await loadRouteModule(Ie,Ce);return Be.links?Be.links():[]}return[]}));return dedupeLinkDescriptors(Pe.flat(1).filter(isHtmlLinkDescriptor).filter(Re=>Re.rel==="stylesheet"||Re.rel==="preload").map(Re=>Re.rel==="stylesheet"?{...Re,rel:"prefetch",as:"style"}:{...Re,rel:"prefetch"}))}function getNewMatchesForLinks(Ee,_e,Ce,Pe,Re,Ie){let Be=(De,Fe)=>Ce[Fe]?De.route.id!==Ce[Fe].route.id:!0,je=(De,Fe)=>Ce[Fe].pathname!==De.pathname||Ce[Fe].route.path?.endsWith("*")&&Ce[Fe].params["*"]!==De.params["*"];return Ie==="assets"?_e.filter((De,Fe)=>Be(De,Fe)||je(De,Fe)):Ie==="data"?_e.filter((De,Fe)=>{let Oe=Pe.routes[De.route.id];if(!Oe||!Oe.hasLoader)return!1;if(Be(De,Fe)||je(De,Fe))return!0;if(De.route.shouldRevalidate){let ke=De.route.shouldRevalidate({currentUrl:new URL(Re.pathname+Re.search+Re.hash,window.origin),currentParams:Ce[0]?.params||{},nextUrl:new URL(Ee,window.origin),nextParams:De.params,defaultShouldRevalidate:!0});if(typeof ke=="boolean")return ke}return!0}):[]}function getModuleLinkHrefs(Ee,_e,{includeHydrateFallback:Ce}={}){return dedupeHrefs(Ee.map(Pe=>{let Re=_e.routes[Pe.route.id];if(!Re)return[];let Ie=[Re.module];return Re.clientActionModule&&(Ie=Ie.concat(Re.clientActionModule)),Re.clientLoaderModule&&(Ie=Ie.concat(Re.clientLoaderModule)),Ce&&Re.hydrateFallbackModule&&(Ie=Ie.concat(Re.hydrateFallbackModule)),Re.imports&&(Ie=Ie.concat(Re.imports)),Ie}).flat(1))}function dedupeHrefs(Ee){return[...new Set(Ee)]}function sortKeys(Ee){let _e={},Ce=Object.keys(Ee).sort();for(let Pe of Ce)_e[Pe]=Ee[Pe];return _e}function dedupeLinkDescriptors(Ee,_e){let Ce=new Set;return new Set(_e),Ee.reduce((Pe,Re)=>{let Ie=JSON.stringify(sortKeys(Re));return Ce.has(Ie)||(Ce.add(Ie),Pe.push({key:Ie,link:Re})),Pe},[])}function useDataRouterContext2(){let Ee=reactExports.useContext(DataRouterContext);return invariant2(Ee,"You must render this element inside a <DataRouterContext.Provider> element"),Ee}function useDataRouterStateContext(){let Ee=reactExports.useContext(DataRouterStateContext);return invariant2(Ee,"You must render this element inside a <DataRouterStateContext.Provider> element"),Ee}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let Ee=reactExports.useContext(FrameworkContext);return invariant2(Ee,"You must render this element inside a <HydratedRouter> element"),Ee}function usePrefetchBehavior(Ee,_e){let Ce=reactExports.useContext(FrameworkContext),[Pe,Re]=reactExports.useState(!1),[Ie,Be]=reactExports.useState(!1),{onFocus:je,onBlur:De,onMouseEnter:Fe,onMouseLeave:Oe,onTouchStart:ke}=_e,Me=reactExports.useRef(null);reactExports.useEffect(()=>{if(Ee==="render"&&Be(!0),Ee==="viewport"){let Qe=ze=>{ze.forEach(We=>{Be(We.isIntersecting)})},Ke=new IntersectionObserver(Qe,{threshold:.5});return Me.current&&Ke.observe(Me.current),()=>{Ke.disconnect()}}},[Ee]),reactExports.useEffect(()=>{if(Pe){let Qe=setTimeout(()=>{Be(!0)},100);return()=>{clearTimeout(Qe)}}},[Pe]);let $e=()=>{Re(!0)},He=()=>{Re(!1),Be(!1)};return Ce?Ee!=="intent"?[Ie,Me,{}]:[Ie,Me,{onFocus:composeEventHandlers(je,$e),onBlur:composeEventHandlers(De,He),onMouseEnter:composeEventHandlers(Fe,$e),onMouseLeave:composeEventHandlers(Oe,He),onTouchStart:composeEventHandlers(ke,$e)}]:[!1,Me,{}]}function composeEventHandlers(Ee,_e){return Ce=>{Ee&&Ee(Ce),Ce.defaultPrevented||_e(Ce)}}function PrefetchPageLinks({page:Ee,..._e}){let{router:Ce}=useDataRouterContext2(),Pe=reactExports.useMemo(()=>matchRoutes(Ce.routes,Ee,Ce.basename),[Ce.routes,Ee,Ce.basename]);return Pe?reactExports.createElement(PrefetchPageLinksImpl,{page:Ee,matches:Pe,..._e}):null}function useKeyedPrefetchLinks(Ee){let{manifest:_e,routeModules:Ce}=useFrameworkContext(),[Pe,Re]=reactExports.useState([]);return reactExports.useEffect(()=>{let Ie=!1;return getKeyedPrefetchLinks(Ee,_e,Ce).then(Be=>{Ie||Re(Be)}),()=>{Ie=!0}},[Ee,_e,Ce]),Pe}function PrefetchPageLinksImpl({page:Ee,matches:_e,...Ce}){let Pe=useLocation(),{manifest:Re,routeModules:Ie}=useFrameworkContext(),{basename:Be}=useDataRouterContext2(),{loaderData:je,matches:De}=useDataRouterStateContext(),Fe=reactExports.useMemo(()=>getNewMatchesForLinks(Ee,_e,De,Re,Pe,"data"),[Ee,_e,De,Re,Pe]),Oe=reactExports.useMemo(()=>getNewMatchesForLinks(Ee,_e,De,Re,Pe,"assets"),[Ee,_e,De,Re,Pe]),ke=reactExports.useMemo(()=>{if(Ee===Pe.pathname+Pe.search+Pe.hash)return[];let He=new Set,Qe=!1;if(_e.forEach(ze=>{let We=Re.routes[ze.route.id];!We||!We.hasLoader||(!Fe.some(qe=>qe.route.id===ze.route.id)&&ze.route.id in je&&Ie[ze.route.id]?.shouldRevalidate||We.hasClientLoader?Qe=!0:He.add(ze.route.id))}),He.size===0)return[];let Ke=singleFetchUrl(Ee,Be,"data");return Qe&&He.size>0&&Ke.searchParams.set("_routes",_e.filter(ze=>He.has(ze.route.id)).map(ze=>ze.route.id).join(",")),[Ke.pathname+Ke.search]},[Be,je,Pe,Re,Fe,_e,Ee,Ie]),Me=reactExports.useMemo(()=>getModuleLinkHrefs(Oe,Re),[Oe,Re]),$e=useKeyedPrefetchLinks(Oe);return reactExports.createElement(reactExports.Fragment,null,ke.map(He=>reactExports.createElement("link",{key:He,rel:"prefetch",as:"fetch",href:He,...Ce})),Me.map(He=>reactExports.createElement("link",{key:He,rel:"modulepreload",href:He,...Ce})),$e.map(({key:He,link:Qe})=>reactExports.createElement("link",{key:He,...Qe})))}function mergeRefs(...Ee){return _e=>{Ee.forEach(Ce=>{typeof Ce=="function"?Ce(_e):Ce!=null&&(Ce.current=_e)})}}var isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$2&&(window.__reactRouterVersion="7.7.1")}catch{}function BrowserRouter({basename:Ee,children:_e,window:Ce}){let Pe=reactExports.useRef();Pe.current==null&&(Pe.current=createBrowserHistory({window:Ce,v5Compat:!0}));let Re=Pe.current,[Ie,Be]=reactExports.useState({action:Re.action,location:Re.location}),je=reactExports.useCallback(De=>{reactExports.startTransition(()=>Be(De))},[Be]);return reactExports.useLayoutEffect(()=>Re.listen(je),[Re,je]),reactExports.createElement(Router,{basename:Ee,children:_e,location:Ie.location,navigationType:Ie.action,navigator:Re})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:_e,discover:Ce="render",prefetch:Pe="none",relative:Re,reloadDocument:Ie,replace:Be,state:je,target:De,to:Fe,preventScrollReset:Oe,viewTransition:ke,...Me},$e){let{basename:He}=reactExports.useContext(NavigationContext),Qe=typeof Fe=="string"&&ABSOLUTE_URL_REGEX2.test(Fe),Ke,ze=!1;if(typeof Fe=="string"&&Qe&&(Ke=Fe,isBrowser$2))try{let or=new URL(window.location.href),pr=Fe.startsWith("//")?new URL(or.protocol+Fe):new URL(Fe),ar=stripBasename(pr.pathname,He);pr.origin===or.origin&&ar!=null?Fe=ar+pr.search+pr.hash:ze=!0}catch{warning(!1,`<Link to="${Fe}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let We=useHref(Fe,{relative:Re}),[qe,Ye,Xe]=usePrefetchBehavior(Pe,Me),rr=useLinkClickHandler(Fe,{replace:Be,state:je,target:De,preventScrollReset:Oe,relative:Re,viewTransition:ke});function Je(or){_e&&_e(or),or.defaultPrevented||rr(or)}let er=reactExports.createElement("a",{...Me,...Xe,href:Ke||We,onClick:ze||Ie?_e:Je,ref:mergeRefs($e,Ye),target:De,"data-discover":!Qe&&Ce==="render"?"true":void 0});return qe&&!Qe?reactExports.createElement(reactExports.Fragment,null,er,reactExports.createElement(PrefetchPageLinks,{page:We})):er});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":_e="page",caseSensitive:Ce=!1,className:Pe="",end:Re=!1,style:Ie,to:Be,viewTransition:je,children:De,...Fe},Oe){let ke=useResolvedPath(Be,{relative:Fe.relative}),Me=useLocation(),$e=reactExports.useContext(DataRouterStateContext),{navigator:He,basename:Qe}=reactExports.useContext(NavigationContext),Ke=$e!=null&&useViewTransitionState(ke)&&je===!0,ze=He.encodeLocation?He.encodeLocation(ke).pathname:ke.pathname,We=Me.pathname,qe=$e&&$e.navigation&&$e.navigation.location?$e.navigation.location.pathname:null;Ce||(We=We.toLowerCase(),qe=qe?qe.toLowerCase():null,ze=ze.toLowerCase()),qe&&Qe&&(qe=stripBasename(qe,Qe)||qe);const Ye=ze!=="/"&&ze.endsWith("/")?ze.length-1:ze.length;let Xe=We===ze||!Re&&We.startsWith(ze)&&We.charAt(Ye)==="/",rr=qe!=null&&(qe===ze||!Re&&qe.startsWith(ze)&&qe.charAt(ze.length)==="/"),Je={isActive:Xe,isPending:rr,isTransitioning:Ke},er=Xe?_e:void 0,or;typeof Pe=="function"?or=Pe(Je):or=[Pe,Xe?"active":null,rr?"pending":null,Ke?"transitioning":null].filter(Boolean).join(" ");let pr=typeof Ie=="function"?Ie(Je):Ie;return reactExports.createElement(Link,{...Fe,"aria-current":er,className:or,ref:Oe,style:pr,to:Be,viewTransition:je},typeof De=="function"?De(Je):De)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:Ee="render",fetcherKey:_e,navigate:Ce,reloadDocument:Pe,replace:Re,state:Ie,method:Be=defaultMethod,action:je,onSubmit:De,relative:Fe,preventScrollReset:Oe,viewTransition:ke,...Me},$e)=>{let He=useSubmit(),Qe=useFormAction(je,{relative:Fe}),Ke=Be.toLowerCase()==="get"?"get":"post",ze=typeof je=="string"&&ABSOLUTE_URL_REGEX2.test(je),We=qe=>{if(De&&De(qe),qe.defaultPrevented)return;qe.preventDefault();let Ye=qe.nativeEvent.submitter,Xe=Ye?.getAttribute("formmethod")||Be;He(Ye||qe.currentTarget,{fetcherKey:_e,method:Xe,navigate:Ce,replace:Re,state:Ie,relative:Fe,preventScrollReset:Oe,viewTransition:ke})};return reactExports.createElement("form",{ref:$e,method:Ke,action:Qe,onSubmit:Pe?De:We,...Me,"data-discover":!ze&&Ee==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(Ee){return`${Ee} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(Ee){let _e=reactExports.useContext(DataRouterContext);return invariant$3(_e,getDataRouterConsoleError2(Ee)),_e}function useLinkClickHandler(Ee,{target:_e,replace:Ce,state:Pe,preventScrollReset:Re,relative:Ie,viewTransition:Be}={}){let je=useNavigate(),De=useLocation(),Fe=useResolvedPath(Ee,{relative:Ie});return reactExports.useCallback(Oe=>{if(shouldProcessLinkClick(Oe,_e)){Oe.preventDefault();let ke=Ce!==void 0?Ce:createPath(De)===createPath(Fe);je(Ee,{replace:ke,state:Pe,preventScrollReset:Re,relative:Ie,viewTransition:Be})}},[De,je,Fe,Ce,Pe,_e,Ee,Re,Ie,Be])}function useSearchParams(Ee){warning(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let _e=reactExports.useRef(createSearchParams(Ee)),Ce=reactExports.useRef(!1),Pe=useLocation(),Re=reactExports.useMemo(()=>getSearchParamsForLocation(Pe.search,Ce.current?null:_e.current),[Pe.search]),Ie=useNavigate(),Be=reactExports.useCallback((je,De)=>{const Fe=createSearchParams(typeof je=="function"?je(new URLSearchParams(Re)):je);Ce.current=!0,Ie("?"+Fe,De)},[Ie,Re]);return[Re,Be]}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:Ee}=useDataRouterContext3("useSubmit"),{basename:_e}=reactExports.useContext(NavigationContext),Ce=useRouteId();return reactExports.useCallback(async(Pe,Re={})=>{let{action:Ie,method:Be,encType:je,formData:De,body:Fe}=getFormSubmissionInfo(Pe,_e);if(Re.navigate===!1){let Oe=Re.fetcherKey||getUniqueFetcherId();await Ee.fetch(Oe,Ce,Re.action||Ie,{preventScrollReset:Re.preventScrollReset,formData:De,body:Fe,formMethod:Re.method||Be,formEncType:Re.encType||je,flushSync:Re.flushSync})}else await Ee.navigate(Re.action||Ie,{preventScrollReset:Re.preventScrollReset,formData:De,body:Fe,formMethod:Re.method||Be,formEncType:Re.encType||je,replace:Re.replace,state:Re.state,fromRouteId:Ce,flushSync:Re.flushSync,viewTransition:Re.viewTransition})},[Ee,_e,Ce])}function useFormAction(Ee,{relative:_e}={}){let{basename:Ce}=reactExports.useContext(NavigationContext),Pe=reactExports.useContext(RouteContext);invariant$3(Pe,"useFormAction must be used inside a RouteContext");let[Re]=Pe.matches.slice(-1),Ie={...useResolvedPath(Ee||".",{relative:_e})},Be=useLocation();if(Ee==null){Ie.search=Be.search;let je=new URLSearchParams(Ie.search),De=je.getAll("index");if(De.some(Oe=>Oe==="")){je.delete("index"),De.filter(ke=>ke).forEach(ke=>je.append("index",ke));let Oe=je.toString();Ie.search=Oe?`?${Oe}`:""}}return(!Ee||Ee===".")&&Re.route.index&&(Ie.search=Ie.search?Ie.search.replace(/^\?/,"?index&"):"?index"),Ce!=="/"&&(Ie.pathname=Ie.pathname==="/"?Ce:joinPaths([Ce,Ie.pathname])),createPath(Ie)}function useViewTransitionState(Ee,{relative:_e}={}){let Ce=reactExports.useContext(ViewTransitionContext);invariant$3(Ce!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:Pe}=useDataRouterContext3("useViewTransitionState"),Re=useResolvedPath(Ee,{relative:_e});if(!Ce.isTransitioning)return!1;let Ie=stripBasename(Ce.currentLocation.pathname,Pe)||Ce.currentLocation.pathname,Be=stripBasename(Ce.nextLocation.pathname,Pe)||Ce.nextLocation.pathname;return matchPath(Re.pathname,Be)!=null||matchPath(Re.pathname,Ie)!=null}var reactDomExports=requireReactDom(),aos$1={exports:{}},aos=aos$1.exports,hasRequiredAos;function requireAos(){return hasRequiredAos||(hasRequiredAos=1,function(Ee,_e){(function(Ce,Pe){Ee.exports=Pe()})(aos,function(){return function(Ce){function Pe(Ie){if(Re[Ie])return Re[Ie].exports;var Be=Re[Ie]={exports:{},id:Ie,loaded:!1};return Ce[Ie].call(Be.exports,Be,Be.exports,Pe),Be.loaded=!0,Be.exports}var Re={};return Pe.m=Ce,Pe.c=Re,Pe.p="dist/",Pe(0)}([function(Ce,Pe,Re){function Ie(Rr){return Rr&&Rr.__esModule?Rr:{default:Rr}}var Be=Object.assign||function(Rr){for(var Ir=1;Ir<arguments.length;Ir++){var mr=arguments[Ir];for(var Er in mr)Object.prototype.hasOwnProperty.call(mr,Er)&&(Rr[Er]=mr[Er])}return Rr},je=Re(1),De=(Ie(je),Re(6)),Fe=Ie(De),Oe=Re(7),ke=Ie(Oe),Me=Re(8),$e=Ie(Me),He=Re(9),Qe=Ie(He),Ke=Re(10),ze=Ie(Ke),We=Re(11),qe=Ie(We),Ye=Re(14),Xe=Ie(Ye),rr=[],Je=!1,er={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},or=function(){var Rr=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(Rr&&(Je=!0),Je)return rr=(0,qe.default)(rr,er),(0,ze.default)(rr,er.once),rr},pr=function(){rr=(0,Xe.default)(),or()},ar=function(){rr.forEach(function(Rr,Ir){Rr.node.removeAttribute("data-aos"),Rr.node.removeAttribute("data-aos-easing"),Rr.node.removeAttribute("data-aos-duration"),Rr.node.removeAttribute("data-aos-delay")})},fr=function(Rr){return Rr===!0||Rr==="mobile"&&Qe.default.mobile()||Rr==="phone"&&Qe.default.phone()||Rr==="tablet"&&Qe.default.tablet()||typeof Rr=="function"&&Rr()===!0},gr=function(Rr){er=Be(er,Rr),rr=(0,Xe.default)();var Ir=document.all&&!window.atob;return fr(er.disable)||Ir?ar():(er.disableMutationObserver||$e.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),er.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",er.easing),document.querySelector("body").setAttribute("data-aos-duration",er.duration),document.querySelector("body").setAttribute("data-aos-delay",er.delay),er.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?or(!0):er.startEvent==="load"?window.addEventListener(er.startEvent,function(){or(!0)}):document.addEventListener(er.startEvent,function(){or(!0)}),window.addEventListener("resize",(0,ke.default)(or,er.debounceDelay,!0)),window.addEventListener("orientationchange",(0,ke.default)(or,er.debounceDelay,!0)),window.addEventListener("scroll",(0,Fe.default)(function(){(0,ze.default)(rr,er.once)},er.throttleDelay)),er.disableMutationObserver||$e.default.ready("[data-aos]",pr),rr)};Ce.exports={init:gr,refresh:or,refreshHard:pr}},function(Ce,Pe){},,,,,function(Ce,Pe){(function(Re){function Ie(fr,gr,Rr){function Ir(bn){var wn=Pr,Jr=Cr;return Pr=Cr=void 0,Zr=bn,Yr=fr.apply(Jr,wn)}function mr(bn){return Zr=bn,qr=setTimeout(br,gr),yn?Ir(bn):Yr}function Er(bn){var wn=bn-Kr,Jr=bn-Zr,qn=gr-wn;return mn?pr(qn,Or-Jr):qn}function Ar(bn){var wn=bn-Kr,Jr=bn-Zr;return Kr===void 0||wn>=gr||wn<0||mn&&Jr>=Or}function br(){var bn=ar();return Ar(bn)?wr(bn):void(qr=setTimeout(br,Er(bn)))}function wr(bn){return qr=void 0,Cn&&Pr?Ir(bn):(Pr=Cr=void 0,Yr)}function jr(){qr!==void 0&&clearTimeout(qr),Zr=0,Pr=Kr=Cr=qr=void 0}function hr(){return qr===void 0?Yr:wr(ar())}function _r(){var bn=ar(),wn=Ar(bn);if(Pr=arguments,Cr=this,Kr=bn,wn){if(qr===void 0)return mr(Kr);if(mn)return qr=setTimeout(br,gr),Ir(Kr)}return qr===void 0&&(qr=setTimeout(br,gr)),Yr}var Pr,Cr,Or,Yr,qr,Kr,Zr=0,yn=!1,mn=!1,Cn=!0;if(typeof fr!="function")throw new TypeError(Me);return gr=Oe(gr)||0,je(Rr)&&(yn=!!Rr.leading,mn="maxWait"in Rr,Or=mn?or(Oe(Rr.maxWait)||0,gr):Or,Cn="trailing"in Rr?!!Rr.trailing:Cn),_r.cancel=jr,_r.flush=hr,_r}function Be(fr,gr,Rr){var Ir=!0,mr=!0;if(typeof fr!="function")throw new TypeError(Me);return je(Rr)&&(Ir="leading"in Rr?!!Rr.leading:Ir,mr="trailing"in Rr?!!Rr.trailing:mr),Ie(fr,gr,{leading:Ir,maxWait:gr,trailing:mr})}function je(fr){var gr=typeof fr>"u"?"undefined":ke(fr);return!!fr&&(gr=="object"||gr=="function")}function De(fr){return!!fr&&(typeof fr>"u"?"undefined":ke(fr))=="object"}function Fe(fr){return(typeof fr>"u"?"undefined":ke(fr))=="symbol"||De(fr)&&er.call(fr)==He}function Oe(fr){if(typeof fr=="number")return fr;if(Fe(fr))return $e;if(je(fr)){var gr=typeof fr.valueOf=="function"?fr.valueOf():fr;fr=je(gr)?gr+"":gr}if(typeof fr!="string")return fr===0?fr:+fr;fr=fr.replace(Qe,"");var Rr=ze.test(fr);return Rr||We.test(fr)?qe(fr.slice(2),Rr?2:8):Ke.test(fr)?$e:+fr}var ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fr){return typeof fr}:function(fr){return fr&&typeof Symbol=="function"&&fr.constructor===Symbol&&fr!==Symbol.prototype?"symbol":typeof fr},Me="Expected a function",$e=NaN,He="[object Symbol]",Qe=/^\s+|\s+$/g,Ke=/^[-+]0x[0-9a-f]+$/i,ze=/^0b[01]+$/i,We=/^0o[0-7]+$/i,qe=parseInt,Ye=(typeof Re>"u"?"undefined":ke(Re))=="object"&&Re&&Re.Object===Object&&Re,Xe=(typeof self>"u"?"undefined":ke(self))=="object"&&self&&self.Object===Object&&self,rr=Ye||Xe||Function("return this")(),Je=Object.prototype,er=Je.toString,or=Math.max,pr=Math.min,ar=function(){return rr.Date.now()};Ce.exports=Be}).call(Pe,function(){return this}())},function(Ce,Pe){(function(Re){function Ie(ar,fr,gr){function Rr(Cn){var bn=_r,wn=Pr;return _r=Pr=void 0,Kr=Cn,Or=ar.apply(wn,bn)}function Ir(Cn){return Kr=Cn,Yr=setTimeout(Ar,fr),Zr?Rr(Cn):Or}function mr(Cn){var bn=Cn-qr,wn=Cn-Kr,Jr=fr-bn;return yn?or(Jr,Cr-wn):Jr}function Er(Cn){var bn=Cn-qr,wn=Cn-Kr;return qr===void 0||bn>=fr||bn<0||yn&&wn>=Cr}function Ar(){var Cn=pr();return Er(Cn)?br(Cn):void(Yr=setTimeout(Ar,mr(Cn)))}function br(Cn){return Yr=void 0,mn&&_r?Rr(Cn):(_r=Pr=void 0,Or)}function wr(){Yr!==void 0&&clearTimeout(Yr),Kr=0,_r=qr=Pr=Yr=void 0}function jr(){return Yr===void 0?Or:br(pr())}function hr(){var Cn=pr(),bn=Er(Cn);if(_r=arguments,Pr=this,qr=Cn,bn){if(Yr===void 0)return Ir(qr);if(yn)return Yr=setTimeout(Ar,fr),Rr(qr)}return Yr===void 0&&(Yr=setTimeout(Ar,fr)),Or}var _r,Pr,Cr,Or,Yr,qr,Kr=0,Zr=!1,yn=!1,mn=!0;if(typeof ar!="function")throw new TypeError(ke);return fr=Fe(fr)||0,Be(gr)&&(Zr=!!gr.leading,yn="maxWait"in gr,Cr=yn?er(Fe(gr.maxWait)||0,fr):Cr,mn="trailing"in gr?!!gr.trailing:mn),hr.cancel=wr,hr.flush=jr,hr}function Be(ar){var fr=typeof ar>"u"?"undefined":Oe(ar);return!!ar&&(fr=="object"||fr=="function")}function je(ar){return!!ar&&(typeof ar>"u"?"undefined":Oe(ar))=="object"}function De(ar){return(typeof ar>"u"?"undefined":Oe(ar))=="symbol"||je(ar)&&Je.call(ar)==$e}function Fe(ar){if(typeof ar=="number")return ar;if(De(ar))return Me;if(Be(ar)){var fr=typeof ar.valueOf=="function"?ar.valueOf():ar;ar=Be(fr)?fr+"":fr}if(typeof ar!="string")return ar===0?ar:+ar;ar=ar.replace(He,"");var gr=Ke.test(ar);return gr||ze.test(ar)?We(ar.slice(2),gr?2:8):Qe.test(ar)?Me:+ar}var Oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ar){return typeof ar}:function(ar){return ar&&typeof Symbol=="function"&&ar.constructor===Symbol&&ar!==Symbol.prototype?"symbol":typeof ar},ke="Expected a function",Me=NaN,$e="[object Symbol]",He=/^\s+|\s+$/g,Qe=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,ze=/^0o[0-7]+$/i,We=parseInt,qe=(typeof Re>"u"?"undefined":Oe(Re))=="object"&&Re&&Re.Object===Object&&Re,Ye=(typeof self>"u"?"undefined":Oe(self))=="object"&&self&&self.Object===Object&&self,Xe=qe||Ye||Function("return this")(),rr=Object.prototype,Je=rr.toString,er=Math.max,or=Math.min,pr=function(){return Xe.Date.now()};Ce.exports=Ie}).call(Pe,function(){return this}())},function(Ce,Pe){function Re(Oe){var ke=void 0,Me=void 0;for(ke=0;ke<Oe.length;ke+=1)if(Me=Oe[ke],Me.dataset&&Me.dataset.aos||Me.children&&Re(Me.children))return!0;return!1}function Ie(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function Be(){return!!Ie()}function je(Oe,ke){var Me=window.document,$e=Ie(),He=new $e(De);Fe=ke,He.observe(Me.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function De(Oe){Oe&&Oe.forEach(function(ke){var Me=Array.prototype.slice.call(ke.addedNodes),$e=Array.prototype.slice.call(ke.removedNodes),He=Me.concat($e);if(Re(He))return Fe()})}Object.defineProperty(Pe,"__esModule",{value:!0});var Fe=function(){};Pe.default={isSupported:Be,ready:je}},function(Ce,Pe){function Re(Me,$e){if(!(Me instanceof $e))throw new TypeError("Cannot call a class as a function")}function Ie(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(Pe,"__esModule",{value:!0});var Be=function(){function Me($e,He){for(var Qe=0;Qe<He.length;Qe++){var Ke=He[Qe];Ke.enumerable=Ke.enumerable||!1,Ke.configurable=!0,"value"in Ke&&(Ke.writable=!0),Object.defineProperty($e,Ke.key,Ke)}}return function($e,He,Qe){return He&&Me($e.prototype,He),Qe&&Me($e,Qe),$e}}(),je=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,De=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,Fe=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,Oe=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,ke=function(){function Me(){Re(this,Me)}return Be(Me,[{key:"phone",value:function(){var $e=Ie();return!(!je.test($e)&&!De.test($e.substr(0,4)))}},{key:"mobile",value:function(){var $e=Ie();return!(!Fe.test($e)&&!Oe.test($e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),Me}();Pe.default=new ke},function(Ce,Pe){Object.defineProperty(Pe,"__esModule",{value:!0});var Re=function(Be,je,De){var Fe=Be.node.getAttribute("data-aos-once");je>Be.position?Be.node.classList.add("aos-animate"):typeof Fe<"u"&&(Fe==="false"||!De&&Fe!=="true")&&Be.node.classList.remove("aos-animate")},Ie=function(Be,je){var De=window.pageYOffset,Fe=window.innerHeight;Be.forEach(function(Oe,ke){Re(Oe,Fe+De,je)})};Pe.default=Ie},function(Ce,Pe,Re){function Ie(Fe){return Fe&&Fe.__esModule?Fe:{default:Fe}}Object.defineProperty(Pe,"__esModule",{value:!0});var Be=Re(12),je=Ie(Be),De=function(Fe,Oe){return Fe.forEach(function(ke,Me){ke.node.classList.add("aos-init"),ke.position=(0,je.default)(ke.node,Oe.offset)}),Fe};Pe.default=De},function(Ce,Pe,Re){function Ie(Fe){return Fe&&Fe.__esModule?Fe:{default:Fe}}Object.defineProperty(Pe,"__esModule",{value:!0});var Be=Re(13),je=Ie(Be),De=function(Fe,Oe){var ke=0,Me=0,$e=window.innerHeight,He={offset:Fe.getAttribute("data-aos-offset"),anchor:Fe.getAttribute("data-aos-anchor"),anchorPlacement:Fe.getAttribute("data-aos-anchor-placement")};switch(He.offset&&!isNaN(He.offset)&&(Me=parseInt(He.offset)),He.anchor&&document.querySelectorAll(He.anchor)&&(Fe=document.querySelectorAll(He.anchor)[0]),ke=(0,je.default)(Fe).top,He.anchorPlacement){case"top-bottom":break;case"center-bottom":ke+=Fe.offsetHeight/2;break;case"bottom-bottom":ke+=Fe.offsetHeight;break;case"top-center":ke+=$e/2;break;case"bottom-center":ke+=$e/2+Fe.offsetHeight;break;case"center-center":ke+=$e/2+Fe.offsetHeight/2;break;case"top-top":ke+=$e;break;case"bottom-top":ke+=Fe.offsetHeight+$e;break;case"center-top":ke+=Fe.offsetHeight/2+$e}return He.anchorPlacement||He.offset||isNaN(Oe)||(Me=Oe),ke+Me};Pe.default=De},function(Ce,Pe){Object.defineProperty(Pe,"__esModule",{value:!0});var Re=function(Ie){for(var Be=0,je=0;Ie&&!isNaN(Ie.offsetLeft)&&!isNaN(Ie.offsetTop);)Be+=Ie.offsetLeft-(Ie.tagName!="BODY"?Ie.scrollLeft:0),je+=Ie.offsetTop-(Ie.tagName!="BODY"?Ie.scrollTop:0),Ie=Ie.offsetParent;return{top:je,left:Be}};Pe.default=Re},function(Ce,Pe){Object.defineProperty(Pe,"__esModule",{value:!0});var Re=function(Ie){return Ie=Ie||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(Ie,function(Be){return{node:Be}})};Pe.default=Re}])})}(aos$1)),aos$1.exports}var aosExports=requireAos();const AOS=getDefaultExportFromCjs(aosExports);var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,function(module,exports){typeof document<"u"&&typeof navigator<"u"&&function(Ee,_e){module.exports=_e()}(lottie$1,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(_e){_useWebWorker=!!_e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(_e){locationHref=_e},getLocationHref=function(){return locationHref};function createTag(Ee){return document.createElement(Ee)}function extendPrototype(Ee,_e){var Ce,Pe=Ee.length,Re;for(Ce=0;Ce<Pe;Ce+=1){Re=Ee[Ce].prototype;for(var Ie in Re)Object.prototype.hasOwnProperty.call(Re,Ie)&&(_e.prototype[Ie]=Re[Ie])}}function getDescriptor(Ee,_e){return Object.getOwnPropertyDescriptor(Ee,_e)}function createProxyFunction(Ee){function _e(){}return _e.prototype=Ee,_e}var audioControllerFactory=function(){function Ee(_e){this.audios=[],this.audioFactory=_e,this._volume=1,this._isMuted=!1}return Ee.prototype={addAudio:function(Ce){this.audios.push(Ce)},pause:function(){var Ce,Pe=this.audios.length;for(Ce=0;Ce<Pe;Ce+=1)this.audios[Ce].pause()},resume:function(){var Ce,Pe=this.audios.length;for(Ce=0;Ce<Pe;Ce+=1)this.audios[Ce].resume()},setRate:function(Ce){var Pe,Re=this.audios.length;for(Pe=0;Pe<Re;Pe+=1)this.audios[Pe].setRate(Ce)},createAudio:function(Ce){return this.audioFactory?this.audioFactory(Ce):window.Howl?new window.Howl({src:[Ce]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(Ce){this.audioFactory=Ce},setVolume:function(Ce){this._volume=Ce,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var Ce,Pe=this.audios.length;for(Ce=0;Ce<Pe;Ce+=1)this.audios[Ce].volume(this._volume*(this._isMuted?0:1))}},function(){return new Ee}}(),createTypedArray=function(){function Ee(Ce,Pe){var Re=0,Ie=[],Be;switch(Ce){case"int16":case"uint8c":Be=1;break;default:Be=1.1;break}for(Re=0;Re<Pe;Re+=1)Ie.push(Be);return Ie}function _e(Ce,Pe){return Ce==="float32"?new Float32Array(Pe):Ce==="int16"?new Int16Array(Pe):Ce==="uint8c"?new Uint8ClampedArray(Pe):Ee(Ce,Pe)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?_e:Ee}();function createSizedArray(Ee){return Array.apply(null,{length:Ee})}function _typeof$6(Ee){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$6(Ee)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var Ee=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],_e,Ce=Ee.length;for(_e=0;_e<Ce;_e+=1)BMMath[Ee[_e]]=Math[Ee[_e]]})(),BMMath.random=Math.random,BMMath.abs=function(Ee){var _e=_typeof$6(Ee);if(_e==="object"&&Ee.length){var Ce=createSizedArray(Ee.length),Pe,Re=Ee.length;for(Pe=0;Pe<Re;Pe+=1)Ce[Pe]=Math.abs(Ee[Pe]);return Ce}return Math.abs(Ee)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(Ee){Ee.style.position="absolute",Ee.style.top=0,Ee.style.left=0,Ee.style.display="block",Ee.style.transformOrigin="0 0",Ee.style.webkitTransformOrigin="0 0",Ee.style.backfaceVisibility="visible",Ee.style.webkitBackfaceVisibility="visible",Ee.style.transformStyle="preserve-3d",Ee.style.webkitTransformStyle="preserve-3d",Ee.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(Ee,_e,Ce,Pe){this.type=Ee,this.currentTime=_e,this.totalTime=Ce,this.direction=Pe<0?-1:1}function BMCompleteEvent(Ee,_e){this.type=Ee,this.direction=_e<0?-1:1}function BMCompleteLoopEvent(Ee,_e,Ce,Pe){this.type=Ee,this.currentLoop=Ce,this.totalLoops=_e,this.direction=Pe<0?-1:1}function BMSegmentStartEvent(Ee,_e,Ce){this.type=Ee,this.firstFrame=_e,this.totalFrames=Ce}function BMDestroyEvent(Ee,_e){this.type=Ee,this.target=_e}function BMRenderFrameErrorEvent(Ee,_e){this.type="renderFrameError",this.nativeError=Ee,this.currentTime=_e}function BMConfigErrorEvent(Ee){this.type="configError",this.nativeError=Ee}var createElementID=function(){var Ee=0;return function(){return Ee+=1,idPrefix$1+"__lottie_element_"+Ee}}();function HSVtoRGB(Ee,_e,Ce){var Pe,Re,Ie,Be,je,De,Fe,Oe;switch(Be=Math.floor(Ee*6),je=Ee*6-Be,De=Ce*(1-_e),Fe=Ce*(1-je*_e),Oe=Ce*(1-(1-je)*_e),Be%6){case 0:Pe=Ce,Re=Oe,Ie=De;break;case 1:Pe=Fe,Re=Ce,Ie=De;break;case 2:Pe=De,Re=Ce,Ie=Oe;break;case 3:Pe=De,Re=Fe,Ie=Ce;break;case 4:Pe=Oe,Re=De,Ie=Ce;break;case 5:Pe=Ce,Re=De,Ie=Fe;break}return[Pe,Re,Ie]}function RGBtoHSV(Ee,_e,Ce){var Pe=Math.max(Ee,_e,Ce),Re=Math.min(Ee,_e,Ce),Ie=Pe-Re,Be,je=Pe===0?0:Ie/Pe,De=Pe/255;switch(Pe){case Re:Be=0;break;case Ee:Be=_e-Ce+Ie*(_e<Ce?6:0),Be/=6*Ie;break;case _e:Be=Ce-Ee+Ie*2,Be/=6*Ie;break;case Ce:Be=Ee-_e+Ie*4,Be/=6*Ie;break}return[Be,je,De]}function addSaturationToRGB(Ee,_e){var Ce=RGBtoHSV(Ee[0]*255,Ee[1]*255,Ee[2]*255);return Ce[1]+=_e,Ce[1]>1?Ce[1]=1:Ce[1]<=0&&(Ce[1]=0),HSVtoRGB(Ce[0],Ce[1],Ce[2])}function addBrightnessToRGB(Ee,_e){var Ce=RGBtoHSV(Ee[0]*255,Ee[1]*255,Ee[2]*255);return Ce[2]+=_e,Ce[2]>1?Ce[2]=1:Ce[2]<0&&(Ce[2]=0),HSVtoRGB(Ce[0],Ce[1],Ce[2])}function addHueToRGB(Ee,_e){var Ce=RGBtoHSV(Ee[0]*255,Ee[1]*255,Ee[2]*255);return Ce[0]+=_e/360,Ce[0]>1?Ce[0]-=1:Ce[0]<0&&(Ce[0]+=1),HSVtoRGB(Ce[0],Ce[1],Ce[2])}var rgbToHex=function(){var Ee=[],_e,Ce;for(_e=0;_e<256;_e+=1)Ce=_e.toString(16),Ee[_e]=Ce.length===1?"0"+Ce:Ce;return function(Pe,Re,Ie){return Pe<0&&(Pe=0),Re<0&&(Re=0),Ie<0&&(Ie=0),"#"+Ee[Pe]+Ee[Re]+Ee[Ie]}}(),setSubframeEnabled=function(_e){subframeEnabled=!!_e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(_e){expressionsPlugin=_e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(_e){expressionsInterfaces=_e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(_e){defaultCurveSegments=_e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(_e){idPrefix$1=_e};function createNS(Ee){return document.createElementNS(svgNS,Ee)}function _typeof$5(Ee){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$5(Ee)}var dataManager=function(){var Ee=1,_e=[],Ce,Pe,Re={onmessage:function(){},postMessage:function($e){Ce({data:$e})}},Ie={postMessage:function($e){Re.onmessage({data:$e})}};function Be(Me){if(window.Worker&&window.Blob&&getWebWorker()){var $e=new Blob(["var _workerSelf = self; self.onmessage = ",Me.toString()],{type:"text/javascript"}),He=URL.createObjectURL($e);return new Worker(He)}return Ce=Me,Re}function je(){Pe||(Pe=Be(function($e){function He(){function Ke(Ir,mr){var Er,Ar,br=Ir.length,wr,jr,hr,_r;for(Ar=0;Ar<br;Ar+=1)if(Er=Ir[Ar],"ks"in Er&&!Er.completed){if(Er.completed=!0,Er.hasMask){var Pr=Er.masksProperties;for(jr=Pr.length,wr=0;wr<jr;wr+=1)if(Pr[wr].pt.k.i)Xe(Pr[wr].pt.k);else for(_r=Pr[wr].pt.k.length,hr=0;hr<_r;hr+=1)Pr[wr].pt.k[hr].s&&Xe(Pr[wr].pt.k[hr].s[0]),Pr[wr].pt.k[hr].e&&Xe(Pr[wr].pt.k[hr].e[0])}Er.ty===0?(Er.layers=qe(Er.refId,mr),Ke(Er.layers,mr)):Er.ty===4?Ye(Er.shapes):Er.ty===5&&gr(Er)}}function ze(Ir,mr){if(Ir){var Er=0,Ar=Ir.length;for(Er=0;Er<Ar;Er+=1)Ir[Er].t===1&&(Ir[Er].data.layers=qe(Ir[Er].data.refId,mr),Ke(Ir[Er].data.layers,mr))}}function We(Ir,mr){for(var Er=0,Ar=mr.length;Er<Ar;){if(mr[Er].id===Ir)return mr[Er];Er+=1}return null}function qe(Ir,mr){var Er=We(Ir,mr);return Er?Er.layers.__used?JSON.parse(JSON.stringify(Er.layers)):(Er.layers.__used=!0,Er.layers):null}function Ye(Ir){var mr,Er=Ir.length,Ar,br;for(mr=Er-1;mr>=0;mr-=1)if(Ir[mr].ty==="sh")if(Ir[mr].ks.k.i)Xe(Ir[mr].ks.k);else for(br=Ir[mr].ks.k.length,Ar=0;Ar<br;Ar+=1)Ir[mr].ks.k[Ar].s&&Xe(Ir[mr].ks.k[Ar].s[0]),Ir[mr].ks.k[Ar].e&&Xe(Ir[mr].ks.k[Ar].e[0]);else Ir[mr].ty==="gr"&&Ye(Ir[mr].it)}function Xe(Ir){var mr,Er=Ir.i.length;for(mr=0;mr<Er;mr+=1)Ir.i[mr][0]+=Ir.v[mr][0],Ir.i[mr][1]+=Ir.v[mr][1],Ir.o[mr][0]+=Ir.v[mr][0],Ir.o[mr][1]+=Ir.v[mr][1]}function rr(Ir,mr){var Er=mr?mr.split("."):[100,100,100];return Ir[0]>Er[0]?!0:Er[0]>Ir[0]?!1:Ir[1]>Er[1]?!0:Er[1]>Ir[1]?!1:Ir[2]>Er[2]?!0:Er[2]>Ir[2]?!1:null}var Je=function(){var Ir=[4,4,14];function mr(Ar){var br=Ar.t.d;Ar.t.d={k:[{s:br,t:0}]}}function Er(Ar){var br,wr=Ar.length;for(br=0;br<wr;br+=1)Ar[br].ty===5&&mr(Ar[br])}return function(Ar){if(rr(Ir,Ar.v)&&(Er(Ar.layers),Ar.assets)){var br,wr=Ar.assets.length;for(br=0;br<wr;br+=1)Ar.assets[br].layers&&Er(Ar.assets[br].layers)}}}(),er=function(){var Ir=[4,7,99];return function(mr){if(mr.chars&&!rr(Ir,mr.v)){var Er,Ar=mr.chars.length;for(Er=0;Er<Ar;Er+=1){var br=mr.chars[Er];br.data&&br.data.shapes&&(Ye(br.data.shapes),br.data.ip=0,br.data.op=99999,br.data.st=0,br.data.sr=1,br.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},mr.chars[Er].t||(br.data.shapes.push({ty:"no"}),br.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),or=function(){var Ir=[5,7,15];function mr(Ar){var br=Ar.t.p;typeof br.a=="number"&&(br.a={a:0,k:br.a}),typeof br.p=="number"&&(br.p={a:0,k:br.p}),typeof br.r=="number"&&(br.r={a:0,k:br.r})}function Er(Ar){var br,wr=Ar.length;for(br=0;br<wr;br+=1)Ar[br].ty===5&&mr(Ar[br])}return function(Ar){if(rr(Ir,Ar.v)&&(Er(Ar.layers),Ar.assets)){var br,wr=Ar.assets.length;for(br=0;br<wr;br+=1)Ar.assets[br].layers&&Er(Ar.assets[br].layers)}}}(),pr=function(){var Ir=[4,1,9];function mr(Ar){var br,wr=Ar.length,jr,hr;for(br=0;br<wr;br+=1)if(Ar[br].ty==="gr")mr(Ar[br].it);else if(Ar[br].ty==="fl"||Ar[br].ty==="st")if(Ar[br].c.k&&Ar[br].c.k[0].i)for(hr=Ar[br].c.k.length,jr=0;jr<hr;jr+=1)Ar[br].c.k[jr].s&&(Ar[br].c.k[jr].s[0]/=255,Ar[br].c.k[jr].s[1]/=255,Ar[br].c.k[jr].s[2]/=255,Ar[br].c.k[jr].s[3]/=255),Ar[br].c.k[jr].e&&(Ar[br].c.k[jr].e[0]/=255,Ar[br].c.k[jr].e[1]/=255,Ar[br].c.k[jr].e[2]/=255,Ar[br].c.k[jr].e[3]/=255);else Ar[br].c.k[0]/=255,Ar[br].c.k[1]/=255,Ar[br].c.k[2]/=255,Ar[br].c.k[3]/=255}function Er(Ar){var br,wr=Ar.length;for(br=0;br<wr;br+=1)Ar[br].ty===4&&mr(Ar[br].shapes)}return function(Ar){if(rr(Ir,Ar.v)&&(Er(Ar.layers),Ar.assets)){var br,wr=Ar.assets.length;for(br=0;br<wr;br+=1)Ar.assets[br].layers&&Er(Ar.assets[br].layers)}}}(),ar=function(){var Ir=[4,4,18];function mr(Ar){var br,wr=Ar.length,jr,hr;for(br=wr-1;br>=0;br-=1)if(Ar[br].ty==="sh")if(Ar[br].ks.k.i)Ar[br].ks.k.c=Ar[br].closed;else for(hr=Ar[br].ks.k.length,jr=0;jr<hr;jr+=1)Ar[br].ks.k[jr].s&&(Ar[br].ks.k[jr].s[0].c=Ar[br].closed),Ar[br].ks.k[jr].e&&(Ar[br].ks.k[jr].e[0].c=Ar[br].closed);else Ar[br].ty==="gr"&&mr(Ar[br].it)}function Er(Ar){var br,wr,jr=Ar.length,hr,_r,Pr,Cr;for(wr=0;wr<jr;wr+=1){if(br=Ar[wr],br.hasMask){var Or=br.masksProperties;for(_r=Or.length,hr=0;hr<_r;hr+=1)if(Or[hr].pt.k.i)Or[hr].pt.k.c=Or[hr].cl;else for(Cr=Or[hr].pt.k.length,Pr=0;Pr<Cr;Pr+=1)Or[hr].pt.k[Pr].s&&(Or[hr].pt.k[Pr].s[0].c=Or[hr].cl),Or[hr].pt.k[Pr].e&&(Or[hr].pt.k[Pr].e[0].c=Or[hr].cl)}br.ty===4&&mr(br.shapes)}}return function(Ar){if(rr(Ir,Ar.v)&&(Er(Ar.layers),Ar.assets)){var br,wr=Ar.assets.length;for(br=0;br<wr;br+=1)Ar.assets[br].layers&&Er(Ar.assets[br].layers)}}}();function fr(Ir){Ir.__complete||(pr(Ir),Je(Ir),er(Ir),or(Ir),ar(Ir),Ke(Ir.layers,Ir.assets),ze(Ir.chars,Ir.assets),Ir.__complete=!0)}function gr(Ir){Ir.t.a.length===0&&"m"in Ir.t.p}var Rr={};return Rr.completeData=fr,Rr.checkColors=pr,Rr.checkChars=er,Rr.checkPathProperties=or,Rr.checkShapes=ar,Rr.completeLayers=Ke,Rr}if(Ie.dataManager||(Ie.dataManager=He()),Ie.assetLoader||(Ie.assetLoader=function(){function Ke(We){var qe=We.getResponseHeader("content-type");return qe&&We.responseType==="json"&&qe.indexOf("json")!==-1||We.response&&_typeof$5(We.response)==="object"?We.response:We.response&&typeof We.response=="string"?JSON.parse(We.response):We.responseText?JSON.parse(We.responseText):null}function ze(We,qe,Ye,Xe){var rr,Je=new XMLHttpRequest;try{Je.responseType="json"}catch{}Je.onreadystatechange=function(){if(Je.readyState===4)if(Je.status===200)rr=Ke(Je),Ye(rr);else try{rr=Ke(Je),Ye(rr)}catch(er){Xe&&Xe(er)}};try{Je.open(["G","E","T"].join(""),We,!0)}catch{Je.open(["G","E","T"].join(""),qe+"/"+We,!0)}Je.send()}return{load:ze}}()),$e.data.type==="loadAnimation")Ie.assetLoader.load($e.data.path,$e.data.fullPath,function(Ke){Ie.dataManager.completeData(Ke),Ie.postMessage({id:$e.data.id,payload:Ke,status:"success"})},function(){Ie.postMessage({id:$e.data.id,status:"error"})});else if($e.data.type==="complete"){var Qe=$e.data.animation;Ie.dataManager.completeData(Qe),Ie.postMessage({id:$e.data.id,payload:Qe,status:"success"})}else $e.data.type==="loadData"&&Ie.assetLoader.load($e.data.path,$e.data.fullPath,function(Ke){Ie.postMessage({id:$e.data.id,payload:Ke,status:"success"})},function(){Ie.postMessage({id:$e.data.id,status:"error"})})}),Pe.onmessage=function(Me){var $e=Me.data,He=$e.id,Qe=_e[He];_e[He]=null,$e.status==="success"?Qe.onComplete($e.payload):Qe.onError&&Qe.onError()})}function De(Me,$e){Ee+=1;var He="processId_"+Ee;return _e[He]={onComplete:Me,onError:$e},He}function Fe(Me,$e,He){je();var Qe=De($e,He);Pe.postMessage({type:"loadAnimation",path:Me,fullPath:window.location.origin+window.location.pathname,id:Qe})}function Oe(Me,$e,He){je();var Qe=De($e,He);Pe.postMessage({type:"loadData",path:Me,fullPath:window.location.origin+window.location.pathname,id:Qe})}function ke(Me,$e,He){je();var Qe=De($e,He);Pe.postMessage({type:"complete",animation:Me,id:Qe})}return{loadAnimation:Fe,loadData:Oe,completeAnimation:ke}}(),ImagePreloader=function(){var Ee=function(){var ze=createTag("canvas");ze.width=1,ze.height=1;var We=ze.getContext("2d");return We.fillStyle="rgba(0,0,0,0)",We.fillRect(0,0,1,1),ze}();function _e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Ce(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Pe(ze,We,qe){var Ye="";if(ze.e)Ye=ze.p;else if(We){var Xe=ze.p;Xe.indexOf("images/")!==-1&&(Xe=Xe.split("/")[1]),Ye=We+Xe}else Ye=qe,Ye+=ze.u?ze.u:"",Ye+=ze.p;return Ye}function Re(ze){var We=0,qe=setInterval((function(){var Ye=ze.getBBox();(Ye.width||We>500)&&(this._imageLoaded(),clearInterval(qe)),We+=1}).bind(this),50)}function Ie(ze){var We=Pe(ze,this.assetsPath,this.path),qe=createNS("image");isSafari?this.testImageLoaded(qe):qe.addEventListener("load",this._imageLoaded,!1),qe.addEventListener("error",(function(){Ye.img=Ee,this._imageLoaded()}).bind(this),!1),qe.setAttributeNS("http://www.w3.org/1999/xlink","href",We),this._elementHelper.append?this._elementHelper.append(qe):this._elementHelper.appendChild(qe);var Ye={img:qe,assetData:ze};return Ye}function Be(ze){var We=Pe(ze,this.assetsPath,this.path),qe=createTag("img");qe.crossOrigin="anonymous",qe.addEventListener("load",this._imageLoaded,!1),qe.addEventListener("error",(function(){Ye.img=Ee,this._imageLoaded()}).bind(this),!1),qe.src=We;var Ye={img:qe,assetData:ze};return Ye}function je(ze){var We={assetData:ze},qe=Pe(ze,this.assetsPath,this.path);return dataManager.loadData(qe,(function(Ye){We.img=Ye,this._footageLoaded()}).bind(this),(function(){We.img={},this._footageLoaded()}).bind(this)),We}function De(ze,We){this.imagesLoadedCb=We;var qe,Ye=ze.length;for(qe=0;qe<Ye;qe+=1)ze[qe].layers||(!ze[qe].t||ze[qe].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(ze[qe]))):ze[qe].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(ze[qe]))))}function Fe(ze){this.path=ze||""}function Oe(ze){this.assetsPath=ze||""}function ke(ze){for(var We=0,qe=this.images.length;We<qe;){if(this.images[We].assetData===ze)return this.images[We].img;We+=1}return null}function Me(){this.imagesLoadedCb=null,this.images.length=0}function $e(){return this.totalImages===this.loadedAssets}function He(){return this.totalFootages===this.loadedFootagesCount}function Qe(ze,We){ze==="svg"?(this._elementHelper=We,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Ke(){this._imageLoaded=_e.bind(this),this._footageLoaded=Ce.bind(this),this.testImageLoaded=Re.bind(this),this.createFootageData=je.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Ke.prototype={loadAssets:De,setAssetsPath:Oe,setPath:Fe,loadedImages:$e,loadedFootages:He,destroy:Me,getAsset:ke,createImgData:Be,createImageData:Ie,imageLoaded:_e,footageLoaded:Ce,setCacheType:Qe},Ke}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(_e,Ce){if(this._cbs[_e])for(var Pe=this._cbs[_e],Re=0;Re<Pe.length;Re+=1)Pe[Re](Ce)},addEventListener:function(_e,Ce){return this._cbs[_e]||(this._cbs[_e]=[]),this._cbs[_e].push(Ce),(function(){this.removeEventListener(_e,Ce)}).bind(this)},removeEventListener:function(_e,Ce){if(!Ce)this._cbs[_e]=null;else if(this._cbs[_e]){for(var Pe=0,Re=this._cbs[_e].length;Pe<Re;)this._cbs[_e][Pe]===Ce&&(this._cbs[_e].splice(Pe,1),Pe-=1,Re-=1),Pe+=1;this._cbs[_e].length||(this._cbs[_e]=null)}}};var markerParser=function(){function Ee(_e){for(var Ce=_e.split(`\r
`),Pe={},Re,Ie=0,Be=0;Be<Ce.length;Be+=1)Re=Ce[Be].split(":"),Re.length===2&&(Pe[Re[0]]=Re[1].trim(),Ie+=1);if(Ie===0)throw new Error;return Pe}return function(_e){for(var Ce=[],Pe=0;Pe<_e.length;Pe+=1){var Re=_e[Pe],Ie={time:Re.tm,duration:Re.dr};try{Ie.payload=JSON.parse(_e[Pe].cm)}catch{try{Ie.payload=Ee(_e[Pe].cm)}catch{Ie.payload={name:_e[Pe].cm}}}Ce.push(Ie)}return Ce}}(),ProjectInterface=function(){function Ee(_e){this.compositions.push(_e)}return function(){function _e(Ce){for(var Pe=0,Re=this.compositions.length;Pe<Re;){if(this.compositions[Pe].data&&this.compositions[Pe].data.nm===Ce)return this.compositions[Pe].prepareFrame&&this.compositions[Pe].data.xt&&this.compositions[Pe].prepareFrame(this.currentFrame),this.compositions[Pe].compInterface;Pe+=1}return null}return _e.compositions=[],_e.currentFrame=0,_e.registerComposition=Ee,_e}}(),renderers={},registerRenderer=function(_e,Ce){renderers[_e]=Ce};function getRenderer(Ee){return renderers[Ee]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var Ee in renderers)if(renderers[Ee])return Ee;return""}function _typeof$4(Ee){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$4(Ee)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(Ee){(Ee.wrapper||Ee.container)&&(this.wrapper=Ee.wrapper||Ee.container);var _e="svg";Ee.animType?_e=Ee.animType:Ee.renderer&&(_e=Ee.renderer);var Ce=getRenderer(_e);this.renderer=new Ce(this,Ee.rendererSettings),this.imagePreloader.setCacheType(_e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=_e,Ee.loop===""||Ee.loop===null||Ee.loop===void 0||Ee.loop===!0?this.loop=!0:Ee.loop===!1?this.loop=!1:this.loop=parseInt(Ee.loop,10),this.autoplay="autoplay"in Ee?Ee.autoplay:!0,this.name=Ee.name?Ee.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(Ee,"autoloadSegments")?Ee.autoloadSegments:!0,this.assetsPath=Ee.assetsPath,this.initialSegment=Ee.initialSegment,Ee.audioFactory&&this.audioController.setAudioFactory(Ee.audioFactory),Ee.animationData?this.setupAnimation(Ee.animationData):Ee.path&&(Ee.path.lastIndexOf("\\")!==-1?this.path=Ee.path.substr(0,Ee.path.lastIndexOf("\\")+1):this.path=Ee.path.substr(0,Ee.path.lastIndexOf("/")+1),this.fileName=Ee.path.substr(Ee.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(Ee.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(Ee){dataManager.completeAnimation(Ee,this.configAnimation)},AnimationItem.prototype.setData=function(Ee,_e){_e&&_typeof$4(_e)!=="object"&&(_e=JSON.parse(_e));var Ce={wrapper:Ee,animationData:_e},Pe=Ee.attributes;Ce.path=Pe.getNamedItem("data-animation-path")?Pe.getNamedItem("data-animation-path").value:Pe.getNamedItem("data-bm-path")?Pe.getNamedItem("data-bm-path").value:Pe.getNamedItem("bm-path")?Pe.getNamedItem("bm-path").value:"",Ce.animType=Pe.getNamedItem("data-anim-type")?Pe.getNamedItem("data-anim-type").value:Pe.getNamedItem("data-bm-type")?Pe.getNamedItem("data-bm-type").value:Pe.getNamedItem("bm-type")?Pe.getNamedItem("bm-type").value:Pe.getNamedItem("data-bm-renderer")?Pe.getNamedItem("data-bm-renderer").value:Pe.getNamedItem("bm-renderer")?Pe.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var Re=Pe.getNamedItem("data-anim-loop")?Pe.getNamedItem("data-anim-loop").value:Pe.getNamedItem("data-bm-loop")?Pe.getNamedItem("data-bm-loop").value:Pe.getNamedItem("bm-loop")?Pe.getNamedItem("bm-loop").value:"";Re==="false"?Ce.loop=!1:Re==="true"?Ce.loop=!0:Re!==""&&(Ce.loop=parseInt(Re,10));var Ie=Pe.getNamedItem("data-anim-autoplay")?Pe.getNamedItem("data-anim-autoplay").value:Pe.getNamedItem("data-bm-autoplay")?Pe.getNamedItem("data-bm-autoplay").value:Pe.getNamedItem("bm-autoplay")?Pe.getNamedItem("bm-autoplay").value:!0;Ce.autoplay=Ie!=="false",Ce.name=Pe.getNamedItem("data-name")?Pe.getNamedItem("data-name").value:Pe.getNamedItem("data-bm-name")?Pe.getNamedItem("data-bm-name").value:Pe.getNamedItem("bm-name")?Pe.getNamedItem("bm-name").value:"";var Be=Pe.getNamedItem("data-anim-prerender")?Pe.getNamedItem("data-anim-prerender").value:Pe.getNamedItem("data-bm-prerender")?Pe.getNamedItem("data-bm-prerender").value:Pe.getNamedItem("bm-prerender")?Pe.getNamedItem("bm-prerender").value:"";Be==="false"&&(Ce.prerender=!1),Ce.path?this.setParams(Ce):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(Ee){Ee.op>this.animationData.op&&(this.animationData.op=Ee.op,this.totalFrames=Math.floor(Ee.op-this.animationData.ip));var _e=this.animationData.layers,Ce,Pe=_e.length,Re=Ee.layers,Ie,Be=Re.length;for(Ie=0;Ie<Be;Ie+=1)for(Ce=0;Ce<Pe;){if(_e[Ce].id===Re[Ie].id){_e[Ce]=Re[Ie];break}Ce+=1}if((Ee.chars||Ee.fonts)&&(this.renderer.globalData.fontManager.addChars(Ee.chars),this.renderer.globalData.fontManager.addFonts(Ee.fonts,this.renderer.globalData.defs)),Ee.assets)for(Pe=Ee.assets.length,Ce=0;Ce<Pe;Ce+=1)this.animationData.assets.push(Ee.assets[Ce]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(Ee){this.animationData=Ee;var _e=getExpressionsPlugin();_e&&_e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var Ee=this.animationData.segments;if(!Ee||Ee.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var _e=Ee.shift();this.timeCompleted=_e.time*this.frameRate;var Ce=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(Ce,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var Ee=this.animationData.segments;Ee||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(Ee){if(this.renderer)try{this.animationData=Ee,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(Ee),Ee.assets||(Ee.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(Ee.assets),this.markers=markerParser(Ee.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(_e){this.triggerConfigError(_e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var Ee=getExpressionsPlugin();Ee&&Ee.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(Ee,_e){var Ce=typeof Ee=="number"?Ee:void 0,Pe=typeof _e=="number"?_e:void 0;this.renderer.updateContainerSize(Ce,Pe)},AnimationItem.prototype.setSubframe=function(Ee){this.isSubframeEnabled=!!Ee},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(Ee){this.triggerRenderFrameError(Ee)}},AnimationItem.prototype.play=function(Ee){Ee&&this.name!==Ee||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(Ee){Ee&&this.name!==Ee||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(Ee){Ee&&this.name!==Ee||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(Ee){Ee&&this.name!==Ee||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(Ee){for(var _e,Ce=0;Ce<this.markers.length;Ce+=1)if(_e=this.markers[Ce],_e.payload&&_e.payload.name===Ee)return _e;return null},AnimationItem.prototype.goToAndStop=function(Ee,_e,Ce){if(!(Ce&&this.name!==Ce)){var Pe=Number(Ee);if(isNaN(Pe)){var Re=this.getMarkerData(Ee);Re&&this.goToAndStop(Re.time,!0)}else _e?this.setCurrentRawFrameValue(Ee):this.setCurrentRawFrameValue(Ee*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(Ee,_e,Ce){if(!(Ce&&this.name!==Ce)){var Pe=Number(Ee);if(isNaN(Pe)){var Re=this.getMarkerData(Ee);Re&&(Re.duration?this.playSegments([Re.time,Re.time+Re.duration],!0):this.goToAndStop(Re.time,!0))}else this.goToAndStop(Pe,_e,Ce);this.play()}},AnimationItem.prototype.advanceTime=function(Ee){if(!(this.isPaused===!0||this.isLoaded===!1)){var _e=this.currentRawFrame+Ee*this.frameModifier,Ce=!1;_e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(_e>this.totalFrames?_e%this.totalFrames:0)||(Ce=!0,_e=this.totalFrames-1):_e>=this.totalFrames?(this.playCount+=1,this.checkSegments(_e%this.totalFrames)||(this.setCurrentRawFrameValue(_e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(_e):_e<0?this.checkSegments(_e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+_e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(Ce=!0,_e=0)):this.setCurrentRawFrameValue(_e),Ce&&(this.setCurrentRawFrameValue(_e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(Ee,_e){this.playCount=0,Ee[1]<Ee[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=Ee[0]-Ee[1],this.timeCompleted=this.totalFrames,this.firstFrame=Ee[1],this.setCurrentRawFrameValue(this.totalFrames-.001-_e)):Ee[1]>Ee[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=Ee[1]-Ee[0],this.timeCompleted=this.totalFrames,this.firstFrame=Ee[0],this.setCurrentRawFrameValue(.001+_e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(Ee,_e){var Ce=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<Ee?Ce=Ee:this.currentRawFrame+this.firstFrame>_e&&(Ce=_e-Ee)),this.firstFrame=Ee,this.totalFrames=_e-Ee,this.timeCompleted=this.totalFrames,Ce!==-1&&this.goToAndStop(Ce,!0)},AnimationItem.prototype.playSegments=function(Ee,_e){if(_e&&(this.segments.length=0),_typeof$4(Ee[0])==="object"){var Ce,Pe=Ee.length;for(Ce=0;Ce<Pe;Ce+=1)this.segments.push(Ee[Ce])}else this.segments.push(Ee);this.segments.length&&_e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(Ee){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),Ee&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(Ee){return this.segments.length?(this.adjustSegment(this.segments.shift(),Ee),!0):!1},AnimationItem.prototype.destroy=function(Ee){Ee&&this.name!==Ee||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(Ee){this.currentRawFrame=Ee,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(Ee){this.playSpeed=Ee,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(Ee){this.playDirection=Ee<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(Ee){this.loop=Ee},AnimationItem.prototype.setVolume=function(Ee,_e){_e&&this.name!==_e||this.audioController.setVolume(Ee)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(Ee){Ee&&this.name!==Ee||this.audioController.mute()},AnimationItem.prototype.unmute=function(Ee){Ee&&this.name!==Ee||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(Ee){var _e="";if(Ee.e)_e=Ee.p;else if(this.assetsPath){var Ce=Ee.p;Ce.indexOf("images/")!==-1&&(Ce=Ce.split("/")[1]),_e=this.assetsPath+Ce}else _e=this.path,_e+=Ee.u?Ee.u:"",_e+=Ee.p;return _e},AnimationItem.prototype.getAssetData=function(Ee){for(var _e=0,Ce=this.assets.length;_e<Ce;){if(Ee===this.assets[_e].id)return this.assets[_e];_e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(Ee){return Ee?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(Ee,_e,Ce){try{var Pe=this.renderer.getElementByPath(Ee);Pe.updateDocumentData(_e,Ce)}catch{}},AnimationItem.prototype.trigger=function(Ee){if(this._cbs&&this._cbs[Ee])switch(Ee){case"enterFrame":this.triggerEvent(Ee,new BMEnterFrameEvent(Ee,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(Ee,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(Ee,new BMCompleteLoopEvent(Ee,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(Ee,new BMCompleteEvent(Ee,this.frameMult));break;case"segmentStart":this.triggerEvent(Ee,new BMSegmentStartEvent(Ee,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(Ee,new BMDestroyEvent(Ee,this));break;default:this.triggerEvent(Ee)}Ee==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(Ee,this.currentFrame,this.totalFrames,this.frameMult)),Ee==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(Ee,this.loop,this.playCount,this.frameMult)),Ee==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(Ee,this.frameMult)),Ee==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(Ee,this.firstFrame,this.totalFrames)),Ee==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(Ee,this))},AnimationItem.prototype.triggerRenderFrameError=function(Ee){var _e=new BMRenderFrameErrorEvent(Ee,this.currentFrame);this.triggerEvent("error",_e),this.onError&&this.onError.call(this,_e)},AnimationItem.prototype.triggerConfigError=function(Ee){var _e=new BMConfigErrorEvent(Ee,this.currentFrame);this.triggerEvent("error",_e),this.onError&&this.onError.call(this,_e)};var animationManager=function(){var Ee={},_e=[],Ce=0,Pe=0,Re=0,Ie=!0,Be=!1;function je(mr){for(var Er=0,Ar=mr.target;Er<Pe;)_e[Er].animation===Ar&&(_e.splice(Er,1),Er-=1,Pe-=1,Ar.isPaused||ke()),Er+=1}function De(mr,Er){if(!mr)return null;for(var Ar=0;Ar<Pe;){if(_e[Ar].elem===mr&&_e[Ar].elem!==null)return _e[Ar].animation;Ar+=1}var br=new AnimationItem;return Me(br,mr),br.setData(mr,Er),br}function Fe(){var mr,Er=_e.length,Ar=[];for(mr=0;mr<Er;mr+=1)Ar.push(_e[mr].animation);return Ar}function Oe(){Re+=1,pr()}function ke(){Re-=1}function Me(mr,Er){mr.addEventListener("destroy",je),mr.addEventListener("_active",Oe),mr.addEventListener("_idle",ke),_e.push({elem:Er,animation:mr}),Pe+=1}function $e(mr){var Er=new AnimationItem;return Me(Er,null),Er.setParams(mr),Er}function He(mr,Er){var Ar;for(Ar=0;Ar<Pe;Ar+=1)_e[Ar].animation.setSpeed(mr,Er)}function Qe(mr,Er){var Ar;for(Ar=0;Ar<Pe;Ar+=1)_e[Ar].animation.setDirection(mr,Er)}function Ke(mr){var Er;for(Er=0;Er<Pe;Er+=1)_e[Er].animation.play(mr)}function ze(mr){var Er=mr-Ce,Ar;for(Ar=0;Ar<Pe;Ar+=1)_e[Ar].animation.advanceTime(Er);Ce=mr,Re&&!Be?window.requestAnimationFrame(ze):Ie=!0}function We(mr){Ce=mr,window.requestAnimationFrame(ze)}function qe(mr){var Er;for(Er=0;Er<Pe;Er+=1)_e[Er].animation.pause(mr)}function Ye(mr,Er,Ar){var br;for(br=0;br<Pe;br+=1)_e[br].animation.goToAndStop(mr,Er,Ar)}function Xe(mr){var Er;for(Er=0;Er<Pe;Er+=1)_e[Er].animation.stop(mr)}function rr(mr){var Er;for(Er=0;Er<Pe;Er+=1)_e[Er].animation.togglePause(mr)}function Je(mr){var Er;for(Er=Pe-1;Er>=0;Er-=1)_e[Er].animation.destroy(mr)}function er(mr,Er,Ar){var br=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),wr,jr=br.length;for(wr=0;wr<jr;wr+=1)Ar&&br[wr].setAttribute("data-bm-type",Ar),De(br[wr],mr);if(Er&&jr===0){Ar||(Ar="svg");var hr=document.getElementsByTagName("body")[0];hr.innerText="";var _r=createTag("div");_r.style.width="100%",_r.style.height="100%",_r.setAttribute("data-bm-type",Ar),hr.appendChild(_r),De(_r,mr)}}function or(){var mr;for(mr=0;mr<Pe;mr+=1)_e[mr].animation.resize()}function pr(){!Be&&Re&&Ie&&(window.requestAnimationFrame(We),Ie=!1)}function ar(){Be=!0}function fr(){Be=!1,pr()}function gr(mr,Er){var Ar;for(Ar=0;Ar<Pe;Ar+=1)_e[Ar].animation.setVolume(mr,Er)}function Rr(mr){var Er;for(Er=0;Er<Pe;Er+=1)_e[Er].animation.mute(mr)}function Ir(mr){var Er;for(Er=0;Er<Pe;Er+=1)_e[Er].animation.unmute(mr)}return Ee.registerAnimation=De,Ee.loadAnimation=$e,Ee.setSpeed=He,Ee.setDirection=Qe,Ee.play=Ke,Ee.pause=qe,Ee.stop=Xe,Ee.togglePause=rr,Ee.searchAnimations=er,Ee.resize=or,Ee.goToAndStop=Ye,Ee.destroy=Je,Ee.freeze=ar,Ee.unfreeze=fr,Ee.setVolume=gr,Ee.mute=Rr,Ee.unmute=Ir,Ee.getRegisteredAnimations=Fe,Ee}(),BezierFactory=function(){var Ee={};Ee.getBezierEasing=Ce;var _e={};function Ce(We,qe,Ye,Xe,rr){var Je=rr||("bez_"+We+"_"+qe+"_"+Ye+"_"+Xe).replace(/\./g,"p");if(_e[Je])return _e[Je];var er=new ze([We,qe,Ye,Xe]);return _e[Je]=er,er}var Pe=4,Re=.001,Ie=1e-7,Be=10,je=11,De=1/(je-1),Fe=typeof Float32Array=="function";function Oe(We,qe){return 1-3*qe+3*We}function ke(We,qe){return 3*qe-6*We}function Me(We){return 3*We}function $e(We,qe,Ye){return((Oe(qe,Ye)*We+ke(qe,Ye))*We+Me(qe))*We}function He(We,qe,Ye){return 3*Oe(qe,Ye)*We*We+2*ke(qe,Ye)*We+Me(qe)}function Qe(We,qe,Ye,Xe,rr){var Je,er,or=0;do er=qe+(Ye-qe)/2,Je=$e(er,Xe,rr)-We,Je>0?Ye=er:qe=er;while(Math.abs(Je)>Ie&&++or<Be);return er}function Ke(We,qe,Ye,Xe){for(var rr=0;rr<Pe;++rr){var Je=He(qe,Ye,Xe);if(Je===0)return qe;var er=$e(qe,Ye,Xe)-We;qe-=er/Je}return qe}function ze(We){this._p=We,this._mSampleValues=Fe?new Float32Array(je):new Array(je),this._precomputed=!1,this.get=this.get.bind(this)}return ze.prototype={get:function(qe){var Ye=this._p[0],Xe=this._p[1],rr=this._p[2],Je=this._p[3];return this._precomputed||this._precompute(),Ye===Xe&&rr===Je?qe:qe===0?0:qe===1?1:$e(this._getTForX(qe),Xe,Je)},_precompute:function(){var qe=this._p[0],Ye=this._p[1],Xe=this._p[2],rr=this._p[3];this._precomputed=!0,(qe!==Ye||Xe!==rr)&&this._calcSampleValues()},_calcSampleValues:function(){for(var qe=this._p[0],Ye=this._p[2],Xe=0;Xe<je;++Xe)this._mSampleValues[Xe]=$e(Xe*De,qe,Ye)},_getTForX:function(qe){for(var Ye=this._p[0],Xe=this._p[2],rr=this._mSampleValues,Je=0,er=1,or=je-1;er!==or&&rr[er]<=qe;++er)Je+=De;--er;var pr=(qe-rr[er])/(rr[er+1]-rr[er]),ar=Je+pr*De,fr=He(ar,Ye,Xe);return fr>=Re?Ke(qe,ar,Ye,Xe):fr===0?ar:Qe(qe,Je,Je+De,Ye,Xe)}},Ee}(),pooling=function(){function Ee(_e){return _e.concat(createSizedArray(_e.length))}return{double:Ee}}(),poolFactory=function(){return function(Ee,_e,Ce){var Pe=0,Re=Ee,Ie=createSizedArray(Re),Be={newElement:je,release:De};function je(){var Fe;return Pe?(Pe-=1,Fe=Ie[Pe]):Fe=_e(),Fe}function De(Fe){Pe===Re&&(Ie=pooling.double(Ie),Re*=2),Ce&&Ce(Fe),Ie[Pe]=Fe,Pe+=1}return Be}}(),bezierLengthPool=function(){function Ee(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,Ee)}(),segmentsLengthPool=function(){function Ee(){return{lengths:[],totalLength:0}}function _e(Ce){var Pe,Re=Ce.lengths.length;for(Pe=0;Pe<Re;Pe+=1)bezierLengthPool.release(Ce.lengths[Pe]);Ce.lengths.length=0}return poolFactory(8,Ee,_e)}();function bezFunction(){var Ee=Math;function _e(Me,$e,He,Qe,Ke,ze){var We=Me*Qe+$e*Ke+He*ze-Ke*Qe-ze*Me-He*$e;return We>-.001&&We<.001}function Ce(Me,$e,He,Qe,Ke,ze,We,qe,Ye){if(He===0&&ze===0&&Ye===0)return _e(Me,$e,Qe,Ke,We,qe);var Xe=Ee.sqrt(Ee.pow(Qe-Me,2)+Ee.pow(Ke-$e,2)+Ee.pow(ze-He,2)),rr=Ee.sqrt(Ee.pow(We-Me,2)+Ee.pow(qe-$e,2)+Ee.pow(Ye-He,2)),Je=Ee.sqrt(Ee.pow(We-Qe,2)+Ee.pow(qe-Ke,2)+Ee.pow(Ye-ze,2)),er;return Xe>rr?Xe>Je?er=Xe-rr-Je:er=Je-rr-Xe:Je>rr?er=Je-rr-Xe:er=rr-Xe-Je,er>-1e-4&&er<1e-4}var Pe=function(){return function(Me,$e,He,Qe){var Ke=getDefaultCurveSegments(),ze,We,qe,Ye,Xe,rr=0,Je,er=[],or=[],pr=bezierLengthPool.newElement();for(qe=He.length,ze=0;ze<Ke;ze+=1){for(Xe=ze/(Ke-1),Je=0,We=0;We<qe;We+=1)Ye=bmPow(1-Xe,3)*Me[We]+3*bmPow(1-Xe,2)*Xe*He[We]+3*(1-Xe)*bmPow(Xe,2)*Qe[We]+bmPow(Xe,3)*$e[We],er[We]=Ye,or[We]!==null&&(Je+=bmPow(er[We]-or[We],2)),or[We]=er[We];Je&&(Je=bmSqrt(Je),rr+=Je),pr.percents[ze]=Xe,pr.lengths[ze]=rr}return pr.addedLength=rr,pr}}();function Re(Me){var $e=segmentsLengthPool.newElement(),He=Me.c,Qe=Me.v,Ke=Me.o,ze=Me.i,We,qe=Me._length,Ye=$e.lengths,Xe=0;for(We=0;We<qe-1;We+=1)Ye[We]=Pe(Qe[We],Qe[We+1],Ke[We],ze[We+1]),Xe+=Ye[We].addedLength;return He&&qe&&(Ye[We]=Pe(Qe[We],Qe[0],Ke[We],ze[0]),Xe+=Ye[We].addedLength),$e.totalLength=Xe,$e}function Ie(Me){this.segmentLength=0,this.points=new Array(Me)}function Be(Me,$e){this.partialLength=Me,this.point=$e}var je=function(){var Me={};return function($e,He,Qe,Ke){var ze=($e[0]+"_"+$e[1]+"_"+He[0]+"_"+He[1]+"_"+Qe[0]+"_"+Qe[1]+"_"+Ke[0]+"_"+Ke[1]).replace(/\./g,"p");if(!Me[ze]){var We=getDefaultCurveSegments(),qe,Ye,Xe,rr,Je,er=0,or,pr,ar=null;$e.length===2&&($e[0]!==He[0]||$e[1]!==He[1])&&_e($e[0],$e[1],He[0],He[1],$e[0]+Qe[0],$e[1]+Qe[1])&&_e($e[0],$e[1],He[0],He[1],He[0]+Ke[0],He[1]+Ke[1])&&(We=2);var fr=new Ie(We);for(Xe=Qe.length,qe=0;qe<We;qe+=1){for(pr=createSizedArray(Xe),Je=qe/(We-1),or=0,Ye=0;Ye<Xe;Ye+=1)rr=bmPow(1-Je,3)*$e[Ye]+3*bmPow(1-Je,2)*Je*($e[Ye]+Qe[Ye])+3*(1-Je)*bmPow(Je,2)*(He[Ye]+Ke[Ye])+bmPow(Je,3)*He[Ye],pr[Ye]=rr,ar!==null&&(or+=bmPow(pr[Ye]-ar[Ye],2));or=bmSqrt(or),er+=or,fr.points[qe]=new Be(or,pr),ar=pr}fr.segmentLength=er,Me[ze]=fr}return Me[ze]}}();function De(Me,$e){var He=$e.percents,Qe=$e.lengths,Ke=He.length,ze=bmFloor((Ke-1)*Me),We=Me*$e.addedLength,qe=0;if(ze===Ke-1||ze===0||We===Qe[ze])return He[ze];for(var Ye=Qe[ze]>We?-1:1,Xe=!0;Xe;)if(Qe[ze]<=We&&Qe[ze+1]>We?(qe=(We-Qe[ze])/(Qe[ze+1]-Qe[ze]),Xe=!1):ze+=Ye,ze<0||ze>=Ke-1){if(ze===Ke-1)return He[ze];Xe=!1}return He[ze]+(He[ze+1]-He[ze])*qe}function Fe(Me,$e,He,Qe,Ke,ze){var We=De(Ke,ze),qe=1-We,Ye=Ee.round((qe*qe*qe*Me[0]+(We*qe*qe+qe*We*qe+qe*qe*We)*He[0]+(We*We*qe+qe*We*We+We*qe*We)*Qe[0]+We*We*We*$e[0])*1e3)/1e3,Xe=Ee.round((qe*qe*qe*Me[1]+(We*qe*qe+qe*We*qe+qe*qe*We)*He[1]+(We*We*qe+qe*We*We+We*qe*We)*Qe[1]+We*We*We*$e[1])*1e3)/1e3;return[Ye,Xe]}var Oe=createTypedArray("float32",8);function ke(Me,$e,He,Qe,Ke,ze,We){Ke<0?Ke=0:Ke>1&&(Ke=1);var qe=De(Ke,We);ze=ze>1?1:ze;var Ye=De(ze,We),Xe,rr=Me.length,Je=1-qe,er=1-Ye,or=Je*Je*Je,pr=qe*Je*Je*3,ar=qe*qe*Je*3,fr=qe*qe*qe,gr=Je*Je*er,Rr=qe*Je*er+Je*qe*er+Je*Je*Ye,Ir=qe*qe*er+Je*qe*Ye+qe*Je*Ye,mr=qe*qe*Ye,Er=Je*er*er,Ar=qe*er*er+Je*Ye*er+Je*er*Ye,br=qe*Ye*er+Je*Ye*Ye+qe*er*Ye,wr=qe*Ye*Ye,jr=er*er*er,hr=Ye*er*er+er*Ye*er+er*er*Ye,_r=Ye*Ye*er+er*Ye*Ye+Ye*er*Ye,Pr=Ye*Ye*Ye;for(Xe=0;Xe<rr;Xe+=1)Oe[Xe*4]=Ee.round((or*Me[Xe]+pr*He[Xe]+ar*Qe[Xe]+fr*$e[Xe])*1e3)/1e3,Oe[Xe*4+1]=Ee.round((gr*Me[Xe]+Rr*He[Xe]+Ir*Qe[Xe]+mr*$e[Xe])*1e3)/1e3,Oe[Xe*4+2]=Ee.round((Er*Me[Xe]+Ar*He[Xe]+br*Qe[Xe]+wr*$e[Xe])*1e3)/1e3,Oe[Xe*4+3]=Ee.round((jr*Me[Xe]+hr*He[Xe]+_r*Qe[Xe]+Pr*$e[Xe])*1e3)/1e3;return Oe}return{getSegmentsLength:Re,getNewSegment:ke,getPointInSegment:Fe,buildBezierData:je,pointOnLine2D:_e,pointOnLine3D:Ce}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(Ee,_e){var Ce=this.offsetTime,Pe;this.propType==="multidimensional"&&(Pe=createTypedArray("float32",this.pv.length));for(var Re=_e.lastIndex,Ie=Re,Be=this.keyframes.length-1,je=!0,De,Fe,Oe;je;){if(De=this.keyframes[Ie],Fe=this.keyframes[Ie+1],Ie===Be-1&&Ee>=Fe.t-Ce){De.h&&(De=Fe),Re=0;break}if(Fe.t-Ce>Ee){Re=Ie;break}Ie<Be-1?Ie+=1:(Re=0,je=!1)}Oe=this.keyframesMetadata[Ie]||{};var ke,Me,$e,He,Qe,Ke,ze=Fe.t-Ce,We=De.t-Ce,qe;if(De.to){Oe.bezierData||(Oe.bezierData=bez.buildBezierData(De.s,Fe.s||De.e,De.to,De.ti));var Ye=Oe.bezierData;if(Ee>=ze||Ee<We){var Xe=Ee>=ze?Ye.points.length-1:0;for(Me=Ye.points[Xe].point.length,ke=0;ke<Me;ke+=1)Pe[ke]=Ye.points[Xe].point[ke]}else{Oe.__fnct?Ke=Oe.__fnct:(Ke=BezierFactory.getBezierEasing(De.o.x,De.o.y,De.i.x,De.i.y,De.n).get,Oe.__fnct=Ke),$e=Ke((Ee-We)/(ze-We));var rr=Ye.segmentLength*$e,Je,er=_e.lastFrame<Ee&&_e._lastKeyframeIndex===Ie?_e._lastAddedLength:0;for(Qe=_e.lastFrame<Ee&&_e._lastKeyframeIndex===Ie?_e._lastPoint:0,je=!0,He=Ye.points.length;je;){if(er+=Ye.points[Qe].partialLength,rr===0||$e===0||Qe===Ye.points.length-1){for(Me=Ye.points[Qe].point.length,ke=0;ke<Me;ke+=1)Pe[ke]=Ye.points[Qe].point[ke];break}else if(rr>=er&&rr<er+Ye.points[Qe+1].partialLength){for(Je=(rr-er)/Ye.points[Qe+1].partialLength,Me=Ye.points[Qe].point.length,ke=0;ke<Me;ke+=1)Pe[ke]=Ye.points[Qe].point[ke]+(Ye.points[Qe+1].point[ke]-Ye.points[Qe].point[ke])*Je;break}Qe<He-1?Qe+=1:je=!1}_e._lastPoint=Qe,_e._lastAddedLength=er-Ye.points[Qe].partialLength,_e._lastKeyframeIndex=Ie}}else{var or,pr,ar,fr,gr;if(Be=De.s.length,qe=Fe.s||De.e,this.sh&&De.h!==1)if(Ee>=ze)Pe[0]=qe[0],Pe[1]=qe[1],Pe[2]=qe[2];else if(Ee<=We)Pe[0]=De.s[0],Pe[1]=De.s[1],Pe[2]=De.s[2];else{var Rr=createQuaternion(De.s),Ir=createQuaternion(qe),mr=(Ee-We)/(ze-We);quaternionToEuler(Pe,slerp(Rr,Ir,mr))}else for(Ie=0;Ie<Be;Ie+=1)De.h!==1&&(Ee>=ze?$e=1:Ee<We?$e=0:(De.o.x.constructor===Array?(Oe.__fnct||(Oe.__fnct=[]),Oe.__fnct[Ie]?Ke=Oe.__fnct[Ie]:(or=De.o.x[Ie]===void 0?De.o.x[0]:De.o.x[Ie],pr=De.o.y[Ie]===void 0?De.o.y[0]:De.o.y[Ie],ar=De.i.x[Ie]===void 0?De.i.x[0]:De.i.x[Ie],fr=De.i.y[Ie]===void 0?De.i.y[0]:De.i.y[Ie],Ke=BezierFactory.getBezierEasing(or,pr,ar,fr).get,Oe.__fnct[Ie]=Ke)):Oe.__fnct?Ke=Oe.__fnct:(or=De.o.x,pr=De.o.y,ar=De.i.x,fr=De.i.y,Ke=BezierFactory.getBezierEasing(or,pr,ar,fr).get,De.keyframeMetadata=Ke),$e=Ke((Ee-We)/(ze-We)))),qe=Fe.s||De.e,gr=De.h===1?De.s[Ie]:De.s[Ie]+(qe[Ie]-De.s[Ie])*$e,this.propType==="multidimensional"?Pe[Ie]=gr:Pe=gr}return _e.lastIndex=Re,Pe}function slerp(Ee,_e,Ce){var Pe=[],Re=Ee[0],Ie=Ee[1],Be=Ee[2],je=Ee[3],De=_e[0],Fe=_e[1],Oe=_e[2],ke=_e[3],Me,$e,He,Qe,Ke;return $e=Re*De+Ie*Fe+Be*Oe+je*ke,$e<0&&($e=-$e,De=-De,Fe=-Fe,Oe=-Oe,ke=-ke),1-$e>1e-6?(Me=Math.acos($e),He=Math.sin(Me),Qe=Math.sin((1-Ce)*Me)/He,Ke=Math.sin(Ce*Me)/He):(Qe=1-Ce,Ke=Ce),Pe[0]=Qe*Re+Ke*De,Pe[1]=Qe*Ie+Ke*Fe,Pe[2]=Qe*Be+Ke*Oe,Pe[3]=Qe*je+Ke*ke,Pe}function quaternionToEuler(Ee,_e){var Ce=_e[0],Pe=_e[1],Re=_e[2],Ie=_e[3],Be=Math.atan2(2*Pe*Ie-2*Ce*Re,1-2*Pe*Pe-2*Re*Re),je=Math.asin(2*Ce*Pe+2*Re*Ie),De=Math.atan2(2*Ce*Ie-2*Pe*Re,1-2*Ce*Ce-2*Re*Re);Ee[0]=Be/degToRads,Ee[1]=je/degToRads,Ee[2]=De/degToRads}function createQuaternion(Ee){var _e=Ee[0]*degToRads,Ce=Ee[1]*degToRads,Pe=Ee[2]*degToRads,Re=Math.cos(_e/2),Ie=Math.cos(Ce/2),Be=Math.cos(Pe/2),je=Math.sin(_e/2),De=Math.sin(Ce/2),Fe=Math.sin(Pe/2),Oe=Re*Ie*Be-je*De*Fe,ke=je*De*Be+Re*Ie*Fe,Me=je*Ie*Be+Re*De*Fe,$e=Re*De*Be-je*Ie*Fe;return[ke,Me,$e,Oe]}function getValueAtCurrentTime(){var Ee=this.comp.renderedFrame-this.offsetTime,_e=this.keyframes[0].t-this.offsetTime,Ce=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(Ee===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=Ce&&Ee>=Ce||this._caching.lastFrame<_e&&Ee<_e))){this._caching.lastFrame>=Ee&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var Pe=this.interpolateValue(Ee,this._caching);this.pv=Pe}return this._caching.lastFrame=Ee,this.pv}function setVValue(Ee){var _e;if(this.propType==="unidimensional")_e=Ee*this.mult,mathAbs(this.v-_e)>1e-5&&(this.v=_e,this._mdf=!0);else for(var Ce=0,Pe=this.v.length;Ce<Pe;)_e=Ee[Ce]*this.mult,mathAbs(this.v[Ce]-_e)>1e-5&&(this.v[Ce]=_e,this._mdf=!0),Ce+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var Ee,_e=this.effectsSequence.length,Ce=this.kf?this.pv:this.data.k;for(Ee=0;Ee<_e;Ee+=1)Ce=this.effectsSequence[Ee](Ce);this.setVValue(Ce),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(Ee){this.effectsSequence.push(Ee),this.container.addDynamicProperty(this)}function ValueProperty(Ee,_e,Ce,Pe){this.propType="unidimensional",this.mult=Ce||1,this.data=_e,this.v=Ce?_e.k*Ce:_e.k,this.pv=_e.k,this._mdf=!1,this.elem=Ee,this.container=Pe,this.comp=Ee.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(Ee,_e,Ce,Pe){this.propType="multidimensional",this.mult=Ce||1,this.data=_e,this._mdf=!1,this.elem=Ee,this.container=Pe,this.comp=Ee.comp,this.k=!1,this.kf=!1,this.frameId=-1;var Re,Ie=_e.k.length;for(this.v=createTypedArray("float32",Ie),this.pv=createTypedArray("float32",Ie),this.vel=createTypedArray("float32",Ie),Re=0;Re<Ie;Re+=1)this.v[Re]=_e.k[Re]*this.mult,this.pv[Re]=_e.k[Re];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(Ee,_e,Ce,Pe){this.propType="unidimensional",this.keyframes=_e.k,this.keyframesMetadata=[],this.offsetTime=Ee.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=_e,this.mult=Ce||1,this.elem=Ee,this.container=Pe,this.comp=Ee.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(Ee,_e,Ce,Pe){this.propType="multidimensional";var Re,Ie=_e.k.length,Be,je,De,Fe;for(Re=0;Re<Ie-1;Re+=1)_e.k[Re].to&&_e.k[Re].s&&_e.k[Re+1]&&_e.k[Re+1].s&&(Be=_e.k[Re].s,je=_e.k[Re+1].s,De=_e.k[Re].to,Fe=_e.k[Re].ti,(Be.length===2&&!(Be[0]===je[0]&&Be[1]===je[1])&&bez.pointOnLine2D(Be[0],Be[1],je[0],je[1],Be[0]+De[0],Be[1]+De[1])&&bez.pointOnLine2D(Be[0],Be[1],je[0],je[1],je[0]+Fe[0],je[1]+Fe[1])||Be.length===3&&!(Be[0]===je[0]&&Be[1]===je[1]&&Be[2]===je[2])&&bez.pointOnLine3D(Be[0],Be[1],Be[2],je[0],je[1],je[2],Be[0]+De[0],Be[1]+De[1],Be[2]+De[2])&&bez.pointOnLine3D(Be[0],Be[1],Be[2],je[0],je[1],je[2],je[0]+Fe[0],je[1]+Fe[1],je[2]+Fe[2]))&&(_e.k[Re].to=null,_e.k[Re].ti=null),Be[0]===je[0]&&Be[1]===je[1]&&De[0]===0&&De[1]===0&&Fe[0]===0&&Fe[1]===0&&(Be.length===2||Be[2]===je[2]&&De[2]===0&&Fe[2]===0)&&(_e.k[Re].to=null,_e.k[Re].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=_e,this.keyframes=_e.k,this.keyframesMetadata=[],this.offsetTime=Ee.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=Ce||1,this.elem=Ee,this.container=Pe,this.comp=Ee.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var Oe=_e.k[0].s.length;for(this.v=createTypedArray("float32",Oe),this.pv=createTypedArray("float32",Oe),Re=0;Re<Oe;Re+=1)this.v[Re]=initFrame,this.pv[Re]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",Oe)},this.addEffect=addEffect}var PropertyFactory=function(){function Ee(Ce,Pe,Re,Ie,Be){Pe.sid&&(Pe=Ce.globalData.slotManager.getProp(Pe));var je;if(!Pe.k.length)je=new ValueProperty(Ce,Pe,Ie,Be);else if(typeof Pe.k[0]=="number")je=new MultiDimensionalProperty(Ce,Pe,Ie,Be);else switch(Re){case 0:je=new KeyframedValueProperty(Ce,Pe,Ie,Be);break;case 1:je=new KeyframedMultidimensionalProperty(Ce,Pe,Ie,Be);break}return je.effectsSequence.length&&Be.addDynamicProperty(je),je}var _e={getProp:Ee};return _e}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(_e){this.dynamicProperties.indexOf(_e)===-1&&(this.dynamicProperties.push(_e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var _e,Ce=this.dynamicProperties.length;for(_e=0;_e<Ce;_e+=1)this.dynamicProperties[_e].getValue(),this.dynamicProperties[_e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(_e){this.container=_e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function Ee(){return createTypedArray("float32",2)}return poolFactory(8,Ee)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(Ee,_e){this.c=Ee,this.setLength(_e);for(var Ce=0;Ce<_e;)this.v[Ce]=pointPool.newElement(),this.o[Ce]=pointPool.newElement(),this.i[Ce]=pointPool.newElement(),Ce+=1},ShapePath.prototype.setLength=function(Ee){for(;this._maxLength<Ee;)this.doubleArrayLength();this._length=Ee},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(Ee,_e,Ce,Pe,Re){var Ie;switch(this._length=Math.max(this._length,Pe+1),this._length>=this._maxLength&&this.doubleArrayLength(),Ce){case"v":Ie=this.v;break;case"i":Ie=this.i;break;case"o":Ie=this.o;break;default:Ie=[];break}(!Ie[Pe]||Ie[Pe]&&!Re)&&(Ie[Pe]=pointPool.newElement()),Ie[Pe][0]=Ee,Ie[Pe][1]=_e},ShapePath.prototype.setTripleAt=function(Ee,_e,Ce,Pe,Re,Ie,Be,je){this.setXYAt(Ee,_e,"v",Be,je),this.setXYAt(Ce,Pe,"o",Be,je),this.setXYAt(Re,Ie,"i",Be,je)},ShapePath.prototype.reverse=function(){var Ee=new ShapePath;Ee.setPathData(this.c,this._length);var _e=this.v,Ce=this.o,Pe=this.i,Re=0;this.c&&(Ee.setTripleAt(_e[0][0],_e[0][1],Pe[0][0],Pe[0][1],Ce[0][0],Ce[0][1],0,!1),Re=1);var Ie=this._length-1,Be=this._length,je;for(je=Re;je<Be;je+=1)Ee.setTripleAt(_e[Ie][0],_e[Ie][1],Pe[Ie][0],Pe[Ie][1],Ce[Ie][0],Ce[Ie][1],je,!1),Ie-=1;return Ee},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function Ee(){return new ShapePath}function _e(Re){var Ie=Re._length,Be;for(Be=0;Be<Ie;Be+=1)pointPool.release(Re.v[Be]),pointPool.release(Re.i[Be]),pointPool.release(Re.o[Be]),Re.v[Be]=null,Re.i[Be]=null,Re.o[Be]=null;Re._length=0,Re.c=!1}function Ce(Re){var Ie=Pe.newElement(),Be,je=Re._length===void 0?Re.v.length:Re._length;for(Ie.setLength(je),Ie.c=Re.c,Be=0;Be<je;Be+=1)Ie.setTripleAt(Re.v[Be][0],Re.v[Be][1],Re.o[Be][0],Re.o[Be][1],Re.i[Be][0],Re.i[Be][1],Be);return Ie}var Pe=poolFactory(4,Ee,_e);return Pe.clone=Ce,Pe}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(Ee){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=Ee,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var Ee;for(Ee=0;Ee<this._length;Ee+=1)shapePool.release(this.shapes[Ee]);this._length=0};var shapeCollectionPool=function(){var Ee={newShapeCollection:Re,release:Ie},_e=0,Ce=4,Pe=createSizedArray(Ce);function Re(){var Be;return _e?(_e-=1,Be=Pe[_e]):Be=new ShapeCollection,Be}function Ie(Be){var je,De=Be._length;for(je=0;je<De;je+=1)shapePool.release(Be.shapes[je]);Be._length=0,_e===Ce&&(Pe=pooling.double(Pe),Ce*=2),Pe[_e]=Be,_e+=1}return Ee}(),ShapePropertyFactory=function(){var Ee=-999999;function _e(ze,We,qe){var Ye=qe.lastIndex,Xe,rr,Je,er,or,pr,ar,fr,gr,Rr=this.keyframes;if(ze<Rr[0].t-this.offsetTime)Xe=Rr[0].s[0],Je=!0,Ye=0;else if(ze>=Rr[Rr.length-1].t-this.offsetTime)Xe=Rr[Rr.length-1].s?Rr[Rr.length-1].s[0]:Rr[Rr.length-2].e[0],Je=!0;else{for(var Ir=Ye,mr=Rr.length-1,Er=!0,Ar,br,wr;Er&&(Ar=Rr[Ir],br=Rr[Ir+1],!(br.t-this.offsetTime>ze));)Ir<mr-1?Ir+=1:Er=!1;if(wr=this.keyframesMetadata[Ir]||{},Je=Ar.h===1,Ye=Ir,!Je){if(ze>=br.t-this.offsetTime)fr=1;else if(ze<Ar.t-this.offsetTime)fr=0;else{var jr;wr.__fnct?jr=wr.__fnct:(jr=BezierFactory.getBezierEasing(Ar.o.x,Ar.o.y,Ar.i.x,Ar.i.y).get,wr.__fnct=jr),fr=jr((ze-(Ar.t-this.offsetTime))/(br.t-this.offsetTime-(Ar.t-this.offsetTime)))}rr=br.s?br.s[0]:Ar.e[0]}Xe=Ar.s[0]}for(pr=We._length,ar=Xe.i[0].length,qe.lastIndex=Ye,er=0;er<pr;er+=1)for(or=0;or<ar;or+=1)gr=Je?Xe.i[er][or]:Xe.i[er][or]+(rr.i[er][or]-Xe.i[er][or])*fr,We.i[er][or]=gr,gr=Je?Xe.o[er][or]:Xe.o[er][or]+(rr.o[er][or]-Xe.o[er][or])*fr,We.o[er][or]=gr,gr=Je?Xe.v[er][or]:Xe.v[er][or]+(rr.v[er][or]-Xe.v[er][or])*fr,We.v[er][or]=gr}function Ce(){var ze=this.comp.renderedFrame-this.offsetTime,We=this.keyframes[0].t-this.offsetTime,qe=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Ye=this._caching.lastFrame;return Ye!==Ee&&(Ye<We&&ze<We||Ye>qe&&ze>qe)||(this._caching.lastIndex=Ye<ze?this._caching.lastIndex:0,this.interpolateShape(ze,this.pv,this._caching)),this._caching.lastFrame=ze,this.pv}function Pe(){this.paths=this.localShapeCollection}function Re(ze,We){if(ze._length!==We._length||ze.c!==We.c)return!1;var qe,Ye=ze._length;for(qe=0;qe<Ye;qe+=1)if(ze.v[qe][0]!==We.v[qe][0]||ze.v[qe][1]!==We.v[qe][1]||ze.o[qe][0]!==We.o[qe][0]||ze.o[qe][1]!==We.o[qe][1]||ze.i[qe][0]!==We.i[qe][0]||ze.i[qe][1]!==We.i[qe][1])return!1;return!0}function Ie(ze){Re(this.v,ze)||(this.v=shapePool.clone(ze),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function Be(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var ze;this.kf?ze=this.pv:this.data.ks?ze=this.data.ks.k:ze=this.data.pt.k;var We,qe=this.effectsSequence.length;for(We=0;We<qe;We+=1)ze=this.effectsSequence[We](ze);this.setVValue(ze),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function je(ze,We,qe){this.propType="shape",this.comp=ze.comp,this.container=ze,this.elem=ze,this.data=We,this.k=!1,this.kf=!1,this._mdf=!1;var Ye=qe===3?We.pt.k:We.ks.k;this.v=shapePool.clone(Ye),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=Pe,this.effectsSequence=[]}function De(ze){this.effectsSequence.push(ze),this.container.addDynamicProperty(this)}je.prototype.interpolateShape=_e,je.prototype.getValue=Be,je.prototype.setVValue=Ie,je.prototype.addEffect=De;function Fe(ze,We,qe){this.propType="shape",this.comp=ze.comp,this.elem=ze,this.container=ze,this.offsetTime=ze.data.st,this.keyframes=qe===3?We.pt.k:We.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Ye=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Ye),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=Ee,this.reset=Pe,this._caching={lastFrame:Ee,lastIndex:0},this.effectsSequence=[Ce.bind(this)]}Fe.prototype.getValue=Be,Fe.prototype.interpolateShape=_e,Fe.prototype.setVValue=Ie,Fe.prototype.addEffect=De;var Oe=function(){var ze=roundCorner;function We(qe,Ye){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Ye.d,this.elem=qe,this.comp=qe.comp,this.frameId=-1,this.initDynamicPropertyContainer(qe),this.p=PropertyFactory.getProp(qe,Ye.p,1,0,this),this.s=PropertyFactory.getProp(qe,Ye.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return We.prototype={reset:Pe,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Ye=this.p.v[0],Xe=this.p.v[1],rr=this.s.v[0]/2,Je=this.s.v[1]/2,er=this.d!==3,or=this.v;or.v[0][0]=Ye,or.v[0][1]=Xe-Je,or.v[1][0]=er?Ye+rr:Ye-rr,or.v[1][1]=Xe,or.v[2][0]=Ye,or.v[2][1]=Xe+Je,or.v[3][0]=er?Ye-rr:Ye+rr,or.v[3][1]=Xe,or.i[0][0]=er?Ye-rr*ze:Ye+rr*ze,or.i[0][1]=Xe-Je,or.i[1][0]=er?Ye+rr:Ye-rr,or.i[1][1]=Xe-Je*ze,or.i[2][0]=er?Ye+rr*ze:Ye-rr*ze,or.i[2][1]=Xe+Je,or.i[3][0]=er?Ye-rr:Ye+rr,or.i[3][1]=Xe+Je*ze,or.o[0][0]=er?Ye+rr*ze:Ye-rr*ze,or.o[0][1]=Xe-Je,or.o[1][0]=er?Ye+rr:Ye-rr,or.o[1][1]=Xe+Je*ze,or.o[2][0]=er?Ye-rr*ze:Ye+rr*ze,or.o[2][1]=Xe+Je,or.o[3][0]=er?Ye-rr:Ye+rr,or.o[3][1]=Xe-Je*ze}},extendPrototype([DynamicPropertyContainer],We),We}(),ke=function(){function ze(We,qe){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=We,this.comp=We.comp,this.data=qe,this.frameId=-1,this.d=qe.d,this.initDynamicPropertyContainer(We),qe.sy===1?(this.ir=PropertyFactory.getProp(We,qe.ir,0,0,this),this.is=PropertyFactory.getProp(We,qe.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(We,qe.pt,0,0,this),this.p=PropertyFactory.getProp(We,qe.p,1,0,this),this.r=PropertyFactory.getProp(We,qe.r,0,degToRads,this),this.or=PropertyFactory.getProp(We,qe.or,0,0,this),this.os=PropertyFactory.getProp(We,qe.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return ze.prototype={reset:Pe,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var qe=Math.floor(this.pt.v)*2,Ye=Math.PI*2/qe,Xe=!0,rr=this.or.v,Je=this.ir.v,er=this.os.v,or=this.is.v,pr=2*Math.PI*rr/(qe*2),ar=2*Math.PI*Je/(qe*2),fr,gr,Rr,Ir,mr=-Math.PI/2;mr+=this.r.v;var Er=this.data.d===3?-1:1;for(this.v._length=0,fr=0;fr<qe;fr+=1){gr=Xe?rr:Je,Rr=Xe?er:or,Ir=Xe?pr:ar;var Ar=gr*Math.cos(mr),br=gr*Math.sin(mr),wr=Ar===0&&br===0?0:br/Math.sqrt(Ar*Ar+br*br),jr=Ar===0&&br===0?0:-Ar/Math.sqrt(Ar*Ar+br*br);Ar+=+this.p.v[0],br+=+this.p.v[1],this.v.setTripleAt(Ar,br,Ar-wr*Ir*Rr*Er,br-jr*Ir*Rr*Er,Ar+wr*Ir*Rr*Er,br+jr*Ir*Rr*Er,fr,!0),Xe=!Xe,mr+=Ye*Er}},convertPolygonToPath:function(){var qe=Math.floor(this.pt.v),Ye=Math.PI*2/qe,Xe=this.or.v,rr=this.os.v,Je=2*Math.PI*Xe/(qe*4),er,or=-Math.PI*.5,pr=this.data.d===3?-1:1;for(or+=this.r.v,this.v._length=0,er=0;er<qe;er+=1){var ar=Xe*Math.cos(or),fr=Xe*Math.sin(or),gr=ar===0&&fr===0?0:fr/Math.sqrt(ar*ar+fr*fr),Rr=ar===0&&fr===0?0:-ar/Math.sqrt(ar*ar+fr*fr);ar+=+this.p.v[0],fr+=+this.p.v[1],this.v.setTripleAt(ar,fr,ar-gr*Je*rr*pr,fr-Rr*Je*rr*pr,ar+gr*Je*rr*pr,fr+Rr*Je*rr*pr,er,!0),or+=Ye*pr}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],ze),ze}(),Me=function(){function ze(We,qe){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=We,this.comp=We.comp,this.frameId=-1,this.d=qe.d,this.initDynamicPropertyContainer(We),this.p=PropertyFactory.getProp(We,qe.p,1,0,this),this.s=PropertyFactory.getProp(We,qe.s,1,0,this),this.r=PropertyFactory.getProp(We,qe.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return ze.prototype={convertRectToPath:function(){var qe=this.p.v[0],Ye=this.p.v[1],Xe=this.s.v[0]/2,rr=this.s.v[1]/2,Je=bmMin(Xe,rr,this.r.v),er=Je*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(qe+Xe,Ye-rr+Je,qe+Xe,Ye-rr+Je,qe+Xe,Ye-rr+er,0,!0),this.v.setTripleAt(qe+Xe,Ye+rr-Je,qe+Xe,Ye+rr-er,qe+Xe,Ye+rr-Je,1,!0),Je!==0?(this.v.setTripleAt(qe+Xe-Je,Ye+rr,qe+Xe-Je,Ye+rr,qe+Xe-er,Ye+rr,2,!0),this.v.setTripleAt(qe-Xe+Je,Ye+rr,qe-Xe+er,Ye+rr,qe-Xe+Je,Ye+rr,3,!0),this.v.setTripleAt(qe-Xe,Ye+rr-Je,qe-Xe,Ye+rr-Je,qe-Xe,Ye+rr-er,4,!0),this.v.setTripleAt(qe-Xe,Ye-rr+Je,qe-Xe,Ye-rr+er,qe-Xe,Ye-rr+Je,5,!0),this.v.setTripleAt(qe-Xe+Je,Ye-rr,qe-Xe+Je,Ye-rr,qe-Xe+er,Ye-rr,6,!0),this.v.setTripleAt(qe+Xe-Je,Ye-rr,qe+Xe-er,Ye-rr,qe+Xe-Je,Ye-rr,7,!0)):(this.v.setTripleAt(qe-Xe,Ye+rr,qe-Xe+er,Ye+rr,qe-Xe,Ye+rr,2),this.v.setTripleAt(qe-Xe,Ye-rr,qe-Xe,Ye-rr+er,qe-Xe,Ye-rr,3))):(this.v.setTripleAt(qe+Xe,Ye-rr+Je,qe+Xe,Ye-rr+er,qe+Xe,Ye-rr+Je,0,!0),Je!==0?(this.v.setTripleAt(qe+Xe-Je,Ye-rr,qe+Xe-Je,Ye-rr,qe+Xe-er,Ye-rr,1,!0),this.v.setTripleAt(qe-Xe+Je,Ye-rr,qe-Xe+er,Ye-rr,qe-Xe+Je,Ye-rr,2,!0),this.v.setTripleAt(qe-Xe,Ye-rr+Je,qe-Xe,Ye-rr+Je,qe-Xe,Ye-rr+er,3,!0),this.v.setTripleAt(qe-Xe,Ye+rr-Je,qe-Xe,Ye+rr-er,qe-Xe,Ye+rr-Je,4,!0),this.v.setTripleAt(qe-Xe+Je,Ye+rr,qe-Xe+Je,Ye+rr,qe-Xe+er,Ye+rr,5,!0),this.v.setTripleAt(qe+Xe-Je,Ye+rr,qe+Xe-er,Ye+rr,qe+Xe-Je,Ye+rr,6,!0),this.v.setTripleAt(qe+Xe,Ye+rr-Je,qe+Xe,Ye+rr-Je,qe+Xe,Ye+rr-er,7,!0)):(this.v.setTripleAt(qe-Xe,Ye-rr,qe-Xe+er,Ye-rr,qe-Xe,Ye-rr,1,!0),this.v.setTripleAt(qe-Xe,Ye+rr,qe-Xe,Ye+rr-er,qe-Xe,Ye+rr,2,!0),this.v.setTripleAt(qe+Xe,Ye+rr,qe+Xe-er,Ye+rr,qe+Xe,Ye+rr,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:Pe},extendPrototype([DynamicPropertyContainer],ze),ze}();function $e(ze,We,qe){var Ye;if(qe===3||qe===4){var Xe=qe===3?We.pt:We.ks,rr=Xe.k;rr.length?Ye=new Fe(ze,We,qe):Ye=new je(ze,We,qe)}else qe===5?Ye=new Me(ze,We):qe===6?Ye=new Oe(ze,We):qe===7&&(Ye=new ke(ze,We));return Ye.k&&ze.addDynamicProperty(Ye),Ye}function He(){return je}function Qe(){return Fe}var Ke={};return Ke.getShapeProp=$e,Ke.getConstructorFunction=He,Ke.getKeyframedConstructorFunction=Qe,Ke}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var Ee=Math.cos,_e=Math.sin,Ce=Math.tan,Pe=Math.round;function Re(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function Ie(Ar){if(Ar===0)return this;var br=Ee(Ar),wr=_e(Ar);return this._t(br,-wr,0,0,wr,br,0,0,0,0,1,0,0,0,0,1)}function Be(Ar){if(Ar===0)return this;var br=Ee(Ar),wr=_e(Ar);return this._t(1,0,0,0,0,br,-wr,0,0,wr,br,0,0,0,0,1)}function je(Ar){if(Ar===0)return this;var br=Ee(Ar),wr=_e(Ar);return this._t(br,0,wr,0,0,1,0,0,-wr,0,br,0,0,0,0,1)}function De(Ar){if(Ar===0)return this;var br=Ee(Ar),wr=_e(Ar);return this._t(br,-wr,0,0,wr,br,0,0,0,0,1,0,0,0,0,1)}function Fe(Ar,br){return this._t(1,br,Ar,1,0,0)}function Oe(Ar,br){return this.shear(Ce(Ar),Ce(br))}function ke(Ar,br){var wr=Ee(br),jr=_e(br);return this._t(wr,jr,0,0,-jr,wr,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Ce(Ar),1,0,0,0,0,1,0,0,0,0,1)._t(wr,-jr,0,0,jr,wr,0,0,0,0,1,0,0,0,0,1)}function Me(Ar,br,wr){return!wr&&wr!==0&&(wr=1),Ar===1&&br===1&&wr===1?this:this._t(Ar,0,0,0,0,br,0,0,0,0,wr,0,0,0,0,1)}function $e(Ar,br,wr,jr,hr,_r,Pr,Cr,Or,Yr,qr,Kr,Zr,yn,mn,Cn){return this.props[0]=Ar,this.props[1]=br,this.props[2]=wr,this.props[3]=jr,this.props[4]=hr,this.props[5]=_r,this.props[6]=Pr,this.props[7]=Cr,this.props[8]=Or,this.props[9]=Yr,this.props[10]=qr,this.props[11]=Kr,this.props[12]=Zr,this.props[13]=yn,this.props[14]=mn,this.props[15]=Cn,this}function He(Ar,br,wr){return wr=wr||0,Ar!==0||br!==0||wr!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Ar,br,wr,1):this}function Qe(Ar,br,wr,jr,hr,_r,Pr,Cr,Or,Yr,qr,Kr,Zr,yn,mn,Cn){var bn=this.props;if(Ar===1&&br===0&&wr===0&&jr===0&&hr===0&&_r===1&&Pr===0&&Cr===0&&Or===0&&Yr===0&&qr===1&&Kr===0)return bn[12]=bn[12]*Ar+bn[15]*Zr,bn[13]=bn[13]*_r+bn[15]*yn,bn[14]=bn[14]*qr+bn[15]*mn,bn[15]*=Cn,this._identityCalculated=!1,this;var wn=bn[0],Jr=bn[1],qn=bn[2],ci=bn[3],Jn=bn[4],ui=bn[5],li=bn[6],mi=bn[7],wi=bn[8],Di=bn[9],$i=bn[10],Si=bn[11],Bi=bn[12],Vi=bn[13],Pn=bn[14],En=bn[15];return bn[0]=wn*Ar+Jr*hr+qn*Or+ci*Zr,bn[1]=wn*br+Jr*_r+qn*Yr+ci*yn,bn[2]=wn*wr+Jr*Pr+qn*qr+ci*mn,bn[3]=wn*jr+Jr*Cr+qn*Kr+ci*Cn,bn[4]=Jn*Ar+ui*hr+li*Or+mi*Zr,bn[5]=Jn*br+ui*_r+li*Yr+mi*yn,bn[6]=Jn*wr+ui*Pr+li*qr+mi*mn,bn[7]=Jn*jr+ui*Cr+li*Kr+mi*Cn,bn[8]=wi*Ar+Di*hr+$i*Or+Si*Zr,bn[9]=wi*br+Di*_r+$i*Yr+Si*yn,bn[10]=wi*wr+Di*Pr+$i*qr+Si*mn,bn[11]=wi*jr+Di*Cr+$i*Kr+Si*Cn,bn[12]=Bi*Ar+Vi*hr+Pn*Or+En*Zr,bn[13]=Bi*br+Vi*_r+Pn*Yr+En*yn,bn[14]=Bi*wr+Vi*Pr+Pn*qr+En*mn,bn[15]=Bi*jr+Vi*Cr+Pn*Kr+En*Cn,this._identityCalculated=!1,this}function Ke(Ar){var br=Ar.props;return this.transform(br[0],br[1],br[2],br[3],br[4],br[5],br[6],br[7],br[8],br[9],br[10],br[11],br[12],br[13],br[14],br[15])}function ze(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function We(Ar){for(var br=0;br<16;){if(Ar.props[br]!==this.props[br])return!1;br+=1}return!0}function qe(Ar){var br;for(br=0;br<16;br+=1)Ar.props[br]=this.props[br];return Ar}function Ye(Ar){var br;for(br=0;br<16;br+=1)this.props[br]=Ar[br]}function Xe(Ar,br,wr){return{x:Ar*this.props[0]+br*this.props[4]+wr*this.props[8]+this.props[12],y:Ar*this.props[1]+br*this.props[5]+wr*this.props[9]+this.props[13],z:Ar*this.props[2]+br*this.props[6]+wr*this.props[10]+this.props[14]}}function rr(Ar,br,wr){return Ar*this.props[0]+br*this.props[4]+wr*this.props[8]+this.props[12]}function Je(Ar,br,wr){return Ar*this.props[1]+br*this.props[5]+wr*this.props[9]+this.props[13]}function er(Ar,br,wr){return Ar*this.props[2]+br*this.props[6]+wr*this.props[10]+this.props[14]}function or(){var Ar=this.props[0]*this.props[5]-this.props[1]*this.props[4],br=this.props[5]/Ar,wr=-this.props[1]/Ar,jr=-this.props[4]/Ar,hr=this.props[0]/Ar,_r=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Ar,Pr=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Ar,Cr=new Matrix;return Cr.props[0]=br,Cr.props[1]=wr,Cr.props[4]=jr,Cr.props[5]=hr,Cr.props[12]=_r,Cr.props[13]=Pr,Cr}function pr(Ar){var br=this.getInverseMatrix();return br.applyToPointArray(Ar[0],Ar[1],Ar[2]||0)}function ar(Ar){var br,wr=Ar.length,jr=[];for(br=0;br<wr;br+=1)jr[br]=pr(Ar[br]);return jr}function fr(Ar,br,wr){var jr=createTypedArray("float32",6);if(this.isIdentity())jr[0]=Ar[0],jr[1]=Ar[1],jr[2]=br[0],jr[3]=br[1],jr[4]=wr[0],jr[5]=wr[1];else{var hr=this.props[0],_r=this.props[1],Pr=this.props[4],Cr=this.props[5],Or=this.props[12],Yr=this.props[13];jr[0]=Ar[0]*hr+Ar[1]*Pr+Or,jr[1]=Ar[0]*_r+Ar[1]*Cr+Yr,jr[2]=br[0]*hr+br[1]*Pr+Or,jr[3]=br[0]*_r+br[1]*Cr+Yr,jr[4]=wr[0]*hr+wr[1]*Pr+Or,jr[5]=wr[0]*_r+wr[1]*Cr+Yr}return jr}function gr(Ar,br,wr){var jr;return this.isIdentity()?jr=[Ar,br,wr]:jr=[Ar*this.props[0]+br*this.props[4]+wr*this.props[8]+this.props[12],Ar*this.props[1]+br*this.props[5]+wr*this.props[9]+this.props[13],Ar*this.props[2]+br*this.props[6]+wr*this.props[10]+this.props[14]],jr}function Rr(Ar,br){if(this.isIdentity())return Ar+","+br;var wr=this.props;return Math.round((Ar*wr[0]+br*wr[4]+wr[12])*100)/100+","+Math.round((Ar*wr[1]+br*wr[5]+wr[13])*100)/100}function Ir(){for(var Ar=0,br=this.props,wr="matrix3d(",jr=1e4;Ar<16;)wr+=Pe(br[Ar]*jr)/jr,wr+=Ar===15?")":",",Ar+=1;return wr}function mr(Ar){var br=1e4;return Ar<1e-6&&Ar>0||Ar>-1e-6&&Ar<0?Pe(Ar*br)/br:Ar}function Er(){var Ar=this.props,br=mr(Ar[0]),wr=mr(Ar[1]),jr=mr(Ar[4]),hr=mr(Ar[5]),_r=mr(Ar[12]),Pr=mr(Ar[13]);return"matrix("+br+","+wr+","+jr+","+hr+","+_r+","+Pr+")"}return function(){this.reset=Re,this.rotate=Ie,this.rotateX=Be,this.rotateY=je,this.rotateZ=De,this.skew=Oe,this.skewFromAxis=ke,this.shear=Fe,this.scale=Me,this.setTransform=$e,this.translate=He,this.transform=Qe,this.multiply=Ke,this.applyToPoint=Xe,this.applyToX=rr,this.applyToY=Je,this.applyToZ=er,this.applyToPointArray=gr,this.applyToTriplePoints=fr,this.applyToPointStringified=Rr,this.toCSS=Ir,this.to2dCSS=Er,this.clone=qe,this.cloneFromProps=Ye,this.equals=We,this.inversePoints=ar,this.inversePoint=pr,this.getInverseMatrix=or,this._t=this.transform,this.isIdentity=ze,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(Ee){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$3(Ee)}var lottie={};function setLocation(Ee){setLocationHref(Ee)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(Ee){setSubframeEnabled(Ee)}function setPrefix(Ee){setIdPrefix(Ee)}function loadAnimation(Ee){return animationManager.loadAnimation(Ee)}function setQuality(Ee){if(typeof Ee=="string")switch(Ee){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(Ee)&&Ee>1&&setDefaultCurveSegments(Ee)}function inBrowser(){return typeof navigator<"u"}function installPlugin(Ee,_e){Ee==="expressions"&&setExpressionsPlugin(_e)}function getFactory(Ee){switch(Ee){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(Ee){for(var _e=queryString.split("&"),Ce=0;Ce<_e.length;Ce+=1){var Pe=_e[Ce].split("=");if(decodeURIComponent(Pe[0])==Ee)return decodeURIComponent(Pe[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(Ee){}var ShapeModifiers=function(){var Ee={},_e={};Ee.registerModifier=Ce,Ee.getModifier=Pe;function Ce(Re,Ie){_e[Re]||(_e[Re]=Ie)}function Pe(Re,Ie,Be){return new _e[Re](Ie,Be)}return Ee}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(Ee){if(!this.closed){Ee.sh.container.addDynamicProperty(Ee.sh);var _e={shape:Ee.sh,data:Ee,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(_e),this.addShapeToModifier(_e),this._isAnimated&&Ee.setAsAnimated()}},ShapeModifier.prototype.init=function(Ee,_e){this.shapes=[],this.elem=Ee,this.initDynamicPropertyContainer(Ee),this.initModifierProperties(Ee,_e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(Ee,_e){this.s=PropertyFactory.getProp(Ee,_e.s,0,.01,this),this.e=PropertyFactory.getProp(Ee,_e.e,0,.01,this),this.o=PropertyFactory.getProp(Ee,_e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=_e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(Ee){Ee.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(Ee,_e,Ce,Pe,Re){var Ie=[];_e<=1?Ie.push({s:Ee,e:_e}):Ee>=1?Ie.push({s:Ee-1,e:_e-1}):(Ie.push({s:Ee,e:1}),Ie.push({s:0,e:_e-1}));var Be=[],je,De=Ie.length,Fe;for(je=0;je<De;je+=1)if(Fe=Ie[je],!(Fe.e*Re<Pe||Fe.s*Re>Pe+Ce)){var Oe,ke;Fe.s*Re<=Pe?Oe=0:Oe=(Fe.s*Re-Pe)/Ce,Fe.e*Re>=Pe+Ce?ke=1:ke=(Fe.e*Re-Pe)/Ce,Be.push([Oe,ke])}return Be.length||Be.push([0,0]),Be},TrimModifier.prototype.releasePathsData=function(Ee){var _e,Ce=Ee.length;for(_e=0;_e<Ce;_e+=1)segmentsLengthPool.release(Ee[_e]);return Ee.length=0,Ee},TrimModifier.prototype.processShapes=function(Ee){var _e,Ce;if(this._mdf||Ee){var Pe=this.o.v%360/360;if(Pe<0&&(Pe+=1),this.s.v>1?_e=1+Pe:this.s.v<0?_e=0+Pe:_e=this.s.v+Pe,this.e.v>1?Ce=1+Pe:this.e.v<0?Ce=0+Pe:Ce=this.e.v+Pe,_e>Ce){var Re=_e;_e=Ce,Ce=Re}_e=Math.round(_e*1e4)*1e-4,Ce=Math.round(Ce*1e4)*1e-4,this.sValue=_e,this.eValue=Ce}else _e=this.sValue,Ce=this.eValue;var Ie,Be,je=this.shapes.length,De,Fe,Oe,ke,Me,$e=0;if(Ce===_e)for(Be=0;Be<je;Be+=1)this.shapes[Be].localShapeCollection.releaseShapes(),this.shapes[Be].shape._mdf=!0,this.shapes[Be].shape.paths=this.shapes[Be].localShapeCollection,this._mdf&&(this.shapes[Be].pathsData.length=0);else if(Ce===1&&_e===0||Ce===0&&_e===1){if(this._mdf)for(Be=0;Be<je;Be+=1)this.shapes[Be].pathsData.length=0,this.shapes[Be].shape._mdf=!0}else{var He=[],Qe,Ke;for(Be=0;Be<je;Be+=1)if(Qe=this.shapes[Be],!Qe.shape._mdf&&!this._mdf&&!Ee&&this.m!==2)Qe.shape.paths=Qe.localShapeCollection;else{if(Ie=Qe.shape.paths,Fe=Ie._length,Me=0,!Qe.shape._mdf&&Qe.pathsData.length)Me=Qe.totalShapeLength;else{for(Oe=this.releasePathsData(Qe.pathsData),De=0;De<Fe;De+=1)ke=bez.getSegmentsLength(Ie.shapes[De]),Oe.push(ke),Me+=ke.totalLength;Qe.totalShapeLength=Me,Qe.pathsData=Oe}$e+=Me,Qe.shape._mdf=!0}var ze=_e,We=Ce,qe=0,Ye;for(Be=je-1;Be>=0;Be-=1)if(Qe=this.shapes[Be],Qe.shape._mdf){for(Ke=Qe.localShapeCollection,Ke.releaseShapes(),this.m===2&&je>1?(Ye=this.calculateShapeEdges(_e,Ce,Qe.totalShapeLength,qe,$e),qe+=Qe.totalShapeLength):Ye=[[ze,We]],Fe=Ye.length,De=0;De<Fe;De+=1){ze=Ye[De][0],We=Ye[De][1],He.length=0,We<=1?He.push({s:Qe.totalShapeLength*ze,e:Qe.totalShapeLength*We}):ze>=1?He.push({s:Qe.totalShapeLength*(ze-1),e:Qe.totalShapeLength*(We-1)}):(He.push({s:Qe.totalShapeLength*ze,e:Qe.totalShapeLength}),He.push({s:0,e:Qe.totalShapeLength*(We-1)}));var Xe=this.addShapes(Qe,He[0]);if(He[0].s!==He[0].e){if(He.length>1){var rr=Qe.shape.paths.shapes[Qe.shape.paths._length-1];if(rr.c){var Je=Xe.pop();this.addPaths(Xe,Ke),Xe=this.addShapes(Qe,He[1],Je)}else this.addPaths(Xe,Ke),Xe=this.addShapes(Qe,He[1])}this.addPaths(Xe,Ke)}}Qe.shape.paths=Ke}}},TrimModifier.prototype.addPaths=function(Ee,_e){var Ce,Pe=Ee.length;for(Ce=0;Ce<Pe;Ce+=1)_e.addShape(Ee[Ce])},TrimModifier.prototype.addSegment=function(Ee,_e,Ce,Pe,Re,Ie,Be){Re.setXYAt(_e[0],_e[1],"o",Ie),Re.setXYAt(Ce[0],Ce[1],"i",Ie+1),Be&&Re.setXYAt(Ee[0],Ee[1],"v",Ie),Re.setXYAt(Pe[0],Pe[1],"v",Ie+1)},TrimModifier.prototype.addSegmentFromArray=function(Ee,_e,Ce,Pe){_e.setXYAt(Ee[1],Ee[5],"o",Ce),_e.setXYAt(Ee[2],Ee[6],"i",Ce+1),Pe&&_e.setXYAt(Ee[0],Ee[4],"v",Ce),_e.setXYAt(Ee[3],Ee[7],"v",Ce+1)},TrimModifier.prototype.addShapes=function(Ee,_e,Ce){var Pe=Ee.pathsData,Re=Ee.shape.paths.shapes,Ie,Be=Ee.shape.paths._length,je,De,Fe=0,Oe,ke,Me,$e,He=[],Qe,Ke=!0;for(Ce?(ke=Ce._length,Qe=Ce._length):(Ce=shapePool.newElement(),ke=0,Qe=0),He.push(Ce),Ie=0;Ie<Be;Ie+=1){for(Me=Pe[Ie].lengths,Ce.c=Re[Ie].c,De=Re[Ie].c?Me.length:Me.length+1,je=1;je<De;je+=1)if(Oe=Me[je-1],Fe+Oe.addedLength<_e.s)Fe+=Oe.addedLength,Ce.c=!1;else if(Fe>_e.e){Ce.c=!1;break}else _e.s<=Fe&&_e.e>=Fe+Oe.addedLength?(this.addSegment(Re[Ie].v[je-1],Re[Ie].o[je-1],Re[Ie].i[je],Re[Ie].v[je],Ce,ke,Ke),Ke=!1):($e=bez.getNewSegment(Re[Ie].v[je-1],Re[Ie].v[je],Re[Ie].o[je-1],Re[Ie].i[je],(_e.s-Fe)/Oe.addedLength,(_e.e-Fe)/Oe.addedLength,Me[je-1]),this.addSegmentFromArray($e,Ce,ke,Ke),Ke=!1,Ce.c=!1),Fe+=Oe.addedLength,ke+=1;if(Re[Ie].c&&Me.length){if(Oe=Me[je-1],Fe<=_e.e){var ze=Me[je-1].addedLength;_e.s<=Fe&&_e.e>=Fe+ze?(this.addSegment(Re[Ie].v[je-1],Re[Ie].o[je-1],Re[Ie].i[0],Re[Ie].v[0],Ce,ke,Ke),Ke=!1):($e=bez.getNewSegment(Re[Ie].v[je-1],Re[Ie].v[0],Re[Ie].o[je-1],Re[Ie].i[0],(_e.s-Fe)/ze,(_e.e-Fe)/ze,Me[je-1]),this.addSegmentFromArray($e,Ce,ke,Ke),Ke=!1,Ce.c=!1)}else Ce.c=!1;Fe+=Oe.addedLength,ke+=1}if(Ce._length&&(Ce.setXYAt(Ce.v[Qe][0],Ce.v[Qe][1],"i",Qe),Ce.setXYAt(Ce.v[Ce._length-1][0],Ce.v[Ce._length-1][1],"o",Ce._length-1)),Fe>_e.e)break;Ie<Be-1&&(Ce=shapePool.newElement(),Ke=!0,He.push(Ce),ke=0)}return He};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(Ee,_e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(Ee,_e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(Ee,_e){var Ce=_e/100,Pe=[0,0],Re=Ee._length,Ie=0;for(Ie=0;Ie<Re;Ie+=1)Pe[0]+=Ee.v[Ie][0],Pe[1]+=Ee.v[Ie][1];Pe[0]/=Re,Pe[1]/=Re;var Be=shapePool.newElement();Be.c=Ee.c;var je,De,Fe,Oe,ke,Me;for(Ie=0;Ie<Re;Ie+=1)je=Ee.v[Ie][0]+(Pe[0]-Ee.v[Ie][0])*Ce,De=Ee.v[Ie][1]+(Pe[1]-Ee.v[Ie][1])*Ce,Fe=Ee.o[Ie][0]+(Pe[0]-Ee.o[Ie][0])*-Ce,Oe=Ee.o[Ie][1]+(Pe[1]-Ee.o[Ie][1])*-Ce,ke=Ee.i[Ie][0]+(Pe[0]-Ee.i[Ie][0])*-Ce,Me=Ee.i[Ie][1]+(Pe[1]-Ee.i[Ie][1])*-Ce,Be.setTripleAt(je,De,Fe,Oe,ke,Me,Ie);return Be},PuckerAndBloatModifier.prototype.processShapes=function(Ee){var _e,Ce,Pe=this.shapes.length,Re,Ie,Be=this.amount.v;if(Be!==0){var je,De;for(Ce=0;Ce<Pe;Ce+=1){if(je=this.shapes[Ce],De=je.localShapeCollection,!(!je.shape._mdf&&!this._mdf&&!Ee))for(De.releaseShapes(),je.shape._mdf=!0,_e=je.shape.paths.shapes,Ie=je.shape.paths._length,Re=0;Re<Ie;Re+=1)De.addShape(this.processPath(_e[Re],Be));je.shape.paths=je.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var Ee=[0,0];function _e(De){var Fe=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||Fe,this.a&&De.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&De.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&De.skewFromAxis(-this.sk.v,this.sa.v),this.r?De.rotate(-this.r.v):De.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?De.translate(this.px.v,this.py.v,-this.pz.v):De.translate(this.px.v,this.py.v,0):De.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function Ce(De){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||De){var Fe;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Oe,ke;if(Fe=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Oe=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/Fe,0),ke=this.p.getValueAtTime(this.p.keyframes[0].t/Fe,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Oe=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Fe,0),ke=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/Fe,0)):(Oe=this.p.pv,ke=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/Fe,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Oe=[],ke=[];var Me=this.px,$e=this.py;Me._caching.lastFrame+Me.offsetTime<=Me.keyframes[0].t?(Oe[0]=Me.getValueAtTime((Me.keyframes[0].t+.01)/Fe,0),Oe[1]=$e.getValueAtTime(($e.keyframes[0].t+.01)/Fe,0),ke[0]=Me.getValueAtTime(Me.keyframes[0].t/Fe,0),ke[1]=$e.getValueAtTime($e.keyframes[0].t/Fe,0)):Me._caching.lastFrame+Me.offsetTime>=Me.keyframes[Me.keyframes.length-1].t?(Oe[0]=Me.getValueAtTime(Me.keyframes[Me.keyframes.length-1].t/Fe,0),Oe[1]=$e.getValueAtTime($e.keyframes[$e.keyframes.length-1].t/Fe,0),ke[0]=Me.getValueAtTime((Me.keyframes[Me.keyframes.length-1].t-.01)/Fe,0),ke[1]=$e.getValueAtTime(($e.keyframes[$e.keyframes.length-1].t-.01)/Fe,0)):(Oe=[Me.pv,$e.pv],ke[0]=Me.getValueAtTime((Me._caching.lastFrame+Me.offsetTime-.01)/Fe,Me.offsetTime),ke[1]=$e.getValueAtTime(($e._caching.lastFrame+$e.offsetTime-.01)/Fe,$e.offsetTime))}else ke=Ee,Oe=ke;this.v.rotate(-Math.atan2(Oe[1]-ke[1],Oe[0]-ke[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function Pe(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function Re(){}function Ie(De){this._addDynamicProperty(De),this.elem.addDynamicProperty(De),this._isDirty=!0}function Be(De,Fe,Oe){if(this.elem=De,this.frameId=-1,this.propType="transform",this.data=Fe,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(Oe||De),Fe.p&&Fe.p.s?(this.px=PropertyFactory.getProp(De,Fe.p.x,0,0,this),this.py=PropertyFactory.getProp(De,Fe.p.y,0,0,this),Fe.p.z&&(this.pz=PropertyFactory.getProp(De,Fe.p.z,0,0,this))):this.p=PropertyFactory.getProp(De,Fe.p||{k:[0,0,0]},1,0,this),Fe.rx){if(this.rx=PropertyFactory.getProp(De,Fe.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(De,Fe.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(De,Fe.rz,0,degToRads,this),Fe.or.k[0].ti){var ke,Me=Fe.or.k.length;for(ke=0;ke<Me;ke+=1)Fe.or.k[ke].to=null,Fe.or.k[ke].ti=null}this.or=PropertyFactory.getProp(De,Fe.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(De,Fe.r||{k:0},0,degToRads,this);Fe.sk&&(this.sk=PropertyFactory.getProp(De,Fe.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(De,Fe.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(De,Fe.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(De,Fe.s||{k:[100,100,100]},1,.01,this),Fe.o?this.o=PropertyFactory.getProp(De,Fe.o,0,.01,De):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}Be.prototype={applyToMatrix:_e,getValue:Ce,precalculateMatrix:Pe,autoOrient:Re},extendPrototype([DynamicPropertyContainer],Be),Be.prototype.addDynamicProperty=Ie,Be.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function je(De,Fe,Oe){return new Be(De,Fe,Oe)}return{getTransformProperty:je}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(Ee,_e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(Ee,_e.c,0,null,this),this.o=PropertyFactory.getProp(Ee,_e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(Ee,_e.tr,this),this.so=PropertyFactory.getProp(Ee,_e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(Ee,_e.tr.eo,0,.01,this),this.data=_e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(Ee,_e,Ce,Pe,Re,Ie){var Be=Ie?-1:1,je=Pe.s.v[0]+(1-Pe.s.v[0])*(1-Re),De=Pe.s.v[1]+(1-Pe.s.v[1])*(1-Re);Ee.translate(Pe.p.v[0]*Be*Re,Pe.p.v[1]*Be*Re,Pe.p.v[2]),_e.translate(-Pe.a.v[0],-Pe.a.v[1],Pe.a.v[2]),_e.rotate(-Pe.r.v*Be*Re),_e.translate(Pe.a.v[0],Pe.a.v[1],Pe.a.v[2]),Ce.translate(-Pe.a.v[0],-Pe.a.v[1],Pe.a.v[2]),Ce.scale(Ie?1/je:je,Ie?1/De:De),Ce.translate(Pe.a.v[0],Pe.a.v[1],Pe.a.v[2])},RepeaterModifier.prototype.init=function(Ee,_e,Ce,Pe){for(this.elem=Ee,this.arr=_e,this.pos=Ce,this.elemsData=Pe,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(Ee),this.initModifierProperties(Ee,_e[Ce]);Ce>0;)Ce-=1,this._elements.unshift(_e[Ce]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(Ee){var _e,Ce=Ee.length;for(_e=0;_e<Ce;_e+=1)Ee[_e]._processed=!1,Ee[_e].ty==="gr"&&this.resetElements(Ee[_e].it)},RepeaterModifier.prototype.cloneElements=function(Ee){var _e=JSON.parse(JSON.stringify(Ee));return this.resetElements(_e),_e},RepeaterModifier.prototype.changeGroupRender=function(Ee,_e){var Ce,Pe=Ee.length;for(Ce=0;Ce<Pe;Ce+=1)Ee[Ce]._render=_e,Ee[Ce].ty==="gr"&&this.changeGroupRender(Ee[Ce].it,_e)},RepeaterModifier.prototype.processShapes=function(Ee){var _e,Ce,Pe,Re,Ie,Be=!1;if(this._mdf||Ee){var je=Math.ceil(this.c.v);if(this._groups.length<je){for(;this._groups.length<je;){var De={it:this.cloneElements(this._elements),ty:"gr"};De.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,De),this._groups.splice(0,0,De),this._currentCopies+=1}this.elem.reloadShapes(),Be=!0}Ie=0;var Fe;for(Pe=0;Pe<=this._groups.length-1;Pe+=1){if(Fe=Ie<je,this._groups[Pe]._render=Fe,this.changeGroupRender(this._groups[Pe].it,Fe),!Fe){var Oe=this.elemsData[Pe].it,ke=Oe[Oe.length-1];ke.transform.op.v!==0?(ke.transform.op._mdf=!0,ke.transform.op.v=0):ke.transform.op._mdf=!1}Ie+=1}this._currentCopies=je;var Me=this.o.v,$e=Me%1,He=Me>0?Math.floor(Me):Math.ceil(Me),Qe=this.pMatrix.props,Ke=this.rMatrix.props,ze=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var We=0;if(Me>0){for(;We<He;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),We+=1;$e&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,$e,!1),We+=$e)}else if(Me<0){for(;We>He;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),We-=1;$e&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-$e,!0),We-=$e)}Pe=this.data.m===1?0:this._currentCopies-1,Re=this.data.m===1?1:-1,Ie=this._currentCopies;for(var qe,Ye;Ie;){if(_e=this.elemsData[Pe].it,Ce=_e[_e.length-1].transform.mProps.v.props,Ye=Ce.length,_e[_e.length-1].transform.mProps._mdf=!0,_e[_e.length-1].transform.op._mdf=!0,_e[_e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(Pe/(this._currentCopies-1)),We!==0){for((Pe!==0&&Re===1||Pe!==this._currentCopies-1&&Re===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Ke[0],Ke[1],Ke[2],Ke[3],Ke[4],Ke[5],Ke[6],Ke[7],Ke[8],Ke[9],Ke[10],Ke[11],Ke[12],Ke[13],Ke[14],Ke[15]),this.matrix.transform(ze[0],ze[1],ze[2],ze[3],ze[4],ze[5],ze[6],ze[7],ze[8],ze[9],ze[10],ze[11],ze[12],ze[13],ze[14],ze[15]),this.matrix.transform(Qe[0],Qe[1],Qe[2],Qe[3],Qe[4],Qe[5],Qe[6],Qe[7],Qe[8],Qe[9],Qe[10],Qe[11],Qe[12],Qe[13],Qe[14],Qe[15]),qe=0;qe<Ye;qe+=1)Ce[qe]=this.matrix.props[qe];this.matrix.reset()}else for(this.matrix.reset(),qe=0;qe<Ye;qe+=1)Ce[qe]=this.matrix.props[qe];We+=1,Ie-=1,Pe+=Re}}else for(Ie=this._currentCopies,Pe=0,Re=1;Ie;)_e=this.elemsData[Pe].it,Ce=_e[_e.length-1].transform.mProps.v.props,_e[_e.length-1].transform.mProps._mdf=!1,_e[_e.length-1].transform.op._mdf=!1,Ie-=1,Pe+=Re;return Be},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(Ee,_e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(Ee,_e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(Ee,_e){var Ce=shapePool.newElement();Ce.c=Ee.c;var Pe,Re=Ee._length,Ie,Be,je,De,Fe,Oe,ke=0,Me,$e,He,Qe,Ke,ze;for(Pe=0;Pe<Re;Pe+=1)Ie=Ee.v[Pe],je=Ee.o[Pe],Be=Ee.i[Pe],Ie[0]===je[0]&&Ie[1]===je[1]&&Ie[0]===Be[0]&&Ie[1]===Be[1]?(Pe===0||Pe===Re-1)&&!Ee.c?(Ce.setTripleAt(Ie[0],Ie[1],je[0],je[1],Be[0],Be[1],ke),ke+=1):(Pe===0?De=Ee.v[Re-1]:De=Ee.v[Pe-1],Fe=Math.sqrt(Math.pow(Ie[0]-De[0],2)+Math.pow(Ie[1]-De[1],2)),Oe=Fe?Math.min(Fe/2,_e)/Fe:0,Ke=Ie[0]+(De[0]-Ie[0])*Oe,Me=Ke,ze=Ie[1]-(Ie[1]-De[1])*Oe,$e=ze,He=Me-(Me-Ie[0])*roundCorner,Qe=$e-($e-Ie[1])*roundCorner,Ce.setTripleAt(Me,$e,He,Qe,Ke,ze,ke),ke+=1,Pe===Re-1?De=Ee.v[0]:De=Ee.v[Pe+1],Fe=Math.sqrt(Math.pow(Ie[0]-De[0],2)+Math.pow(Ie[1]-De[1],2)),Oe=Fe?Math.min(Fe/2,_e)/Fe:0,He=Ie[0]+(De[0]-Ie[0])*Oe,Me=He,Qe=Ie[1]+(De[1]-Ie[1])*Oe,$e=Qe,Ke=Me-(Me-Ie[0])*roundCorner,ze=$e-($e-Ie[1])*roundCorner,Ce.setTripleAt(Me,$e,He,Qe,Ke,ze,ke),ke+=1):(Ce.setTripleAt(Ee.v[Pe][0],Ee.v[Pe][1],Ee.o[Pe][0],Ee.o[Pe][1],Ee.i[Pe][0],Ee.i[Pe][1],ke),ke+=1);return Ce},RoundCornersModifier.prototype.processShapes=function(Ee){var _e,Ce,Pe=this.shapes.length,Re,Ie,Be=this.rd.v;if(Be!==0){var je,De;for(Ce=0;Ce<Pe;Ce+=1){if(je=this.shapes[Ce],De=je.localShapeCollection,!(!je.shape._mdf&&!this._mdf&&!Ee))for(De.releaseShapes(),je.shape._mdf=!0,_e=je.shape.paths.shapes,Ie=je.shape.paths._length,Re=0;Re<Ie;Re+=1)De.addShape(this.processPath(_e[Re],Be));je.shape.paths=je.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(Ee,_e){return Math.abs(Ee-_e)*1e5<=Math.min(Math.abs(Ee),Math.abs(_e))}function floatZero(Ee){return Math.abs(Ee)<=1e-5}function lerp(Ee,_e,Ce){return Ee*(1-Ce)+_e*Ce}function lerpPoint(Ee,_e,Ce){return[lerp(Ee[0],_e[0],Ce),lerp(Ee[1],_e[1],Ce)]}function quadRoots(Ee,_e,Ce){if(Ee===0)return[];var Pe=_e*_e-4*Ee*Ce;if(Pe<0)return[];var Re=-_e/(2*Ee);if(Pe===0)return[Re];var Ie=Math.sqrt(Pe)/(2*Ee);return[Re-Ie,Re+Ie]}function polynomialCoefficients(Ee,_e,Ce,Pe){return[-Ee+3*_e-3*Ce+Pe,3*Ee-6*_e+3*Ce,-3*Ee+3*_e,Ee]}function singlePoint(Ee){return new PolynomialBezier(Ee,Ee,Ee,Ee,!1)}function PolynomialBezier(Ee,_e,Ce,Pe,Re){Re&&pointEqual(Ee,_e)&&(_e=lerpPoint(Ee,Pe,1/3)),Re&&pointEqual(Ce,Pe)&&(Ce=lerpPoint(Ee,Pe,2/3));var Ie=polynomialCoefficients(Ee[0],_e[0],Ce[0],Pe[0]),Be=polynomialCoefficients(Ee[1],_e[1],Ce[1],Pe[1]);this.a=[Ie[0],Be[0]],this.b=[Ie[1],Be[1]],this.c=[Ie[2],Be[2]],this.d=[Ie[3],Be[3]],this.points=[Ee,_e,Ce,Pe]}PolynomialBezier.prototype.point=function(Ee){return[((this.a[0]*Ee+this.b[0])*Ee+this.c[0])*Ee+this.d[0],((this.a[1]*Ee+this.b[1])*Ee+this.c[1])*Ee+this.d[1]]},PolynomialBezier.prototype.derivative=function(Ee){return[(3*Ee*this.a[0]+2*this.b[0])*Ee+this.c[0],(3*Ee*this.a[1]+2*this.b[1])*Ee+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(Ee){var _e=this.derivative(Ee);return Math.atan2(_e[1],_e[0])},PolynomialBezier.prototype.normalAngle=function(Ee){var _e=this.derivative(Ee);return Math.atan2(_e[0],_e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var Ee=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(Ee))return[];var _e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/Ee,Ce=_e*_e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/Ee;if(Ce<0)return[];var Pe=Math.sqrt(Ce);return floatZero(Pe)?Pe>0&&Pe<1?[_e]:[]:[_e-Pe,_e+Pe].filter(function(Re){return Re>0&&Re<1})},PolynomialBezier.prototype.split=function(Ee){if(Ee<=0)return[singlePoint(this.points[0]),this];if(Ee>=1)return[this,singlePoint(this.points[this.points.length-1])];var _e=lerpPoint(this.points[0],this.points[1],Ee),Ce=lerpPoint(this.points[1],this.points[2],Ee),Pe=lerpPoint(this.points[2],this.points[3],Ee),Re=lerpPoint(_e,Ce,Ee),Ie=lerpPoint(Ce,Pe,Ee),Be=lerpPoint(Re,Ie,Ee);return[new PolynomialBezier(this.points[0],_e,Re,Be,!0),new PolynomialBezier(Be,Ie,Pe,this.points[3],!0)]};function extrema(Ee,_e){var Ce=Ee.points[0][_e],Pe=Ee.points[Ee.points.length-1][_e];if(Ce>Pe){var Re=Pe;Pe=Ce,Ce=Re}for(var Ie=quadRoots(3*Ee.a[_e],2*Ee.b[_e],Ee.c[_e]),Be=0;Be<Ie.length;Be+=1)if(Ie[Be]>0&&Ie[Be]<1){var je=Ee.point(Ie[Be])[_e];je<Ce?Ce=je:je>Pe&&(Pe=je)}return{min:Ce,max:Pe}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var Ee=this.bounds();return{left:Ee.x.min,right:Ee.x.max,top:Ee.y.min,bottom:Ee.y.max,width:Ee.x.max-Ee.x.min,height:Ee.y.max-Ee.y.min,cx:(Ee.x.max+Ee.x.min)/2,cy:(Ee.y.max+Ee.y.min)/2}};function intersectData(Ee,_e,Ce){var Pe=Ee.boundingBox();return{cx:Pe.cx,cy:Pe.cy,width:Pe.width,height:Pe.height,bez:Ee,t:(_e+Ce)/2,t1:_e,t2:Ce}}function splitData(Ee){var _e=Ee.bez.split(.5);return[intersectData(_e[0],Ee.t1,Ee.t),intersectData(_e[1],Ee.t,Ee.t2)]}function boxIntersect(Ee,_e){return Math.abs(Ee.cx-_e.cx)*2<Ee.width+_e.width&&Math.abs(Ee.cy-_e.cy)*2<Ee.height+_e.height}function intersectsImpl(Ee,_e,Ce,Pe,Re,Ie){if(boxIntersect(Ee,_e)){if(Ce>=Ie||Ee.width<=Pe&&Ee.height<=Pe&&_e.width<=Pe&&_e.height<=Pe){Re.push([Ee.t,_e.t]);return}var Be=splitData(Ee),je=splitData(_e);intersectsImpl(Be[0],je[0],Ce+1,Pe,Re,Ie),intersectsImpl(Be[0],je[1],Ce+1,Pe,Re,Ie),intersectsImpl(Be[1],je[0],Ce+1,Pe,Re,Ie),intersectsImpl(Be[1],je[1],Ce+1,Pe,Re,Ie)}}PolynomialBezier.prototype.intersections=function(Ee,_e,Ce){_e===void 0&&(_e=2),Ce===void 0&&(Ce=7);var Pe=[];return intersectsImpl(intersectData(this,0,1),intersectData(Ee,0,1),0,_e,Pe,Ce),Pe},PolynomialBezier.shapeSegment=function(Ee,_e){var Ce=(_e+1)%Ee.length();return new PolynomialBezier(Ee.v[_e],Ee.o[_e],Ee.i[Ce],Ee.v[Ce],!0)},PolynomialBezier.shapeSegmentInverted=function(Ee,_e){var Ce=(_e+1)%Ee.length();return new PolynomialBezier(Ee.v[Ce],Ee.i[Ce],Ee.o[_e],Ee.v[_e],!0)};function crossProduct(Ee,_e){return[Ee[1]*_e[2]-Ee[2]*_e[1],Ee[2]*_e[0]-Ee[0]*_e[2],Ee[0]*_e[1]-Ee[1]*_e[0]]}function lineIntersection(Ee,_e,Ce,Pe){var Re=[Ee[0],Ee[1],1],Ie=[_e[0],_e[1],1],Be=[Ce[0],Ce[1],1],je=[Pe[0],Pe[1],1],De=crossProduct(crossProduct(Re,Ie),crossProduct(Be,je));return floatZero(De[2])?null:[De[0]/De[2],De[1]/De[2]]}function polarOffset(Ee,_e,Ce){return[Ee[0]+Math.cos(_e)*Ce,Ee[1]-Math.sin(_e)*Ce]}function pointDistance(Ee,_e){return Math.hypot(Ee[0]-_e[0],Ee[1]-_e[1])}function pointEqual(Ee,_e){return floatEqual(Ee[0],_e[0])&&floatEqual(Ee[1],_e[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(Ee,_e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(Ee,_e.s,0,null,this),this.frequency=PropertyFactory.getProp(Ee,_e.r,0,null,this),this.pointsType=PropertyFactory.getProp(Ee,_e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(Ee,_e,Ce,Pe,Re,Ie,Be){var je=Ce-Math.PI/2,De=Ce+Math.PI/2,Fe=_e[0]+Math.cos(Ce)*Pe*Re,Oe=_e[1]-Math.sin(Ce)*Pe*Re;Ee.setTripleAt(Fe,Oe,Fe+Math.cos(je)*Ie,Oe-Math.sin(je)*Ie,Fe+Math.cos(De)*Be,Oe-Math.sin(De)*Be,Ee.length())}function getPerpendicularVector(Ee,_e){var Ce=[_e[0]-Ee[0],_e[1]-Ee[1]],Pe=-Math.PI*.5,Re=[Math.cos(Pe)*Ce[0]-Math.sin(Pe)*Ce[1],Math.sin(Pe)*Ce[0]+Math.cos(Pe)*Ce[1]];return Re}function getProjectingAngle(Ee,_e){var Ce=_e===0?Ee.length()-1:_e-1,Pe=(_e+1)%Ee.length(),Re=Ee.v[Ce],Ie=Ee.v[Pe],Be=getPerpendicularVector(Re,Ie);return Math.atan2(0,1)-Math.atan2(Be[1],Be[0])}function zigZagCorner(Ee,_e,Ce,Pe,Re,Ie,Be){var je=getProjectingAngle(_e,Ce),De=_e.v[Ce%_e._length],Fe=_e.v[Ce===0?_e._length-1:Ce-1],Oe=_e.v[(Ce+1)%_e._length],ke=Ie===2?Math.sqrt(Math.pow(De[0]-Fe[0],2)+Math.pow(De[1]-Fe[1],2)):0,Me=Ie===2?Math.sqrt(Math.pow(De[0]-Oe[0],2)+Math.pow(De[1]-Oe[1],2)):0;setPoint(Ee,_e.v[Ce%_e._length],je,Be,Pe,Me/((Re+1)*2),ke/((Re+1)*2))}function zigZagSegment(Ee,_e,Ce,Pe,Re,Ie){for(var Be=0;Be<Pe;Be+=1){var je=(Be+1)/(Pe+1),De=Re===2?Math.sqrt(Math.pow(_e.points[3][0]-_e.points[0][0],2)+Math.pow(_e.points[3][1]-_e.points[0][1],2)):0,Fe=_e.normalAngle(je),Oe=_e.point(je);setPoint(Ee,Oe,Fe,Ie,Ce,De/((Pe+1)*2),De/((Pe+1)*2)),Ie=-Ie}return Ie}ZigZagModifier.prototype.processPath=function(Ee,_e,Ce,Pe){var Re=Ee._length,Ie=shapePool.newElement();if(Ie.c=Ee.c,Ee.c||(Re-=1),Re===0)return Ie;var Be=-1,je=PolynomialBezier.shapeSegment(Ee,0);zigZagCorner(Ie,Ee,0,_e,Ce,Pe,Be);for(var De=0;De<Re;De+=1)Be=zigZagSegment(Ie,je,_e,Ce,Pe,-Be),De===Re-1&&!Ee.c?je=null:je=PolynomialBezier.shapeSegment(Ee,(De+1)%Re),zigZagCorner(Ie,Ee,De+1,_e,Ce,Pe,Be);return Ie},ZigZagModifier.prototype.processShapes=function(Ee){var _e,Ce,Pe=this.shapes.length,Re,Ie,Be=this.amplitude.v,je=Math.max(0,Math.round(this.frequency.v)),De=this.pointsType.v;if(Be!==0){var Fe,Oe;for(Ce=0;Ce<Pe;Ce+=1){if(Fe=this.shapes[Ce],Oe=Fe.localShapeCollection,!(!Fe.shape._mdf&&!this._mdf&&!Ee))for(Oe.releaseShapes(),Fe.shape._mdf=!0,_e=Fe.shape.paths.shapes,Ie=Fe.shape.paths._length,Re=0;Re<Ie;Re+=1)Oe.addShape(this.processPath(_e[Re],Be,je,De));Fe.shape.paths=Fe.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(Ee,_e,Ce){var Pe=Math.atan2(_e[0]-Ee[0],_e[1]-Ee[1]);return[polarOffset(Ee,Pe,Ce),polarOffset(_e,Pe,Ce)]}function offsetSegment(Ee,_e){var Ce,Pe,Re,Ie,Be,je,De;De=linearOffset(Ee.points[0],Ee.points[1],_e),Ce=De[0],Pe=De[1],De=linearOffset(Ee.points[1],Ee.points[2],_e),Re=De[0],Ie=De[1],De=linearOffset(Ee.points[2],Ee.points[3],_e),Be=De[0],je=De[1];var Fe=lineIntersection(Ce,Pe,Re,Ie);Fe===null&&(Fe=Pe);var Oe=lineIntersection(Be,je,Re,Ie);return Oe===null&&(Oe=Be),new PolynomialBezier(Ce,Fe,Oe,je)}function joinLines(Ee,_e,Ce,Pe,Re){var Ie=_e.points[3],Be=Ce.points[0];if(Pe===3||pointEqual(Ie,Be))return Ie;if(Pe===2){var je=-_e.tangentAngle(1),De=-Ce.tangentAngle(0)+Math.PI,Fe=lineIntersection(Ie,polarOffset(Ie,je+Math.PI/2,100),Be,polarOffset(Be,je+Math.PI/2,100)),Oe=Fe?pointDistance(Fe,Ie):pointDistance(Ie,Be)/2,ke=polarOffset(Ie,je,2*Oe*roundCorner);return Ee.setXYAt(ke[0],ke[1],"o",Ee.length()-1),ke=polarOffset(Be,De,2*Oe*roundCorner),Ee.setTripleAt(Be[0],Be[1],Be[0],Be[1],ke[0],ke[1],Ee.length()),Be}var Me=pointEqual(Ie,_e.points[2])?_e.points[0]:_e.points[2],$e=pointEqual(Be,Ce.points[1])?Ce.points[3]:Ce.points[1],He=lineIntersection(Me,Ie,Be,$e);return He&&pointDistance(He,Ie)<Re?(Ee.setTripleAt(He[0],He[1],He[0],He[1],He[0],He[1],Ee.length()),He):Ie}function getIntersection(Ee,_e){var Ce=Ee.intersections(_e);return Ce.length&&floatEqual(Ce[0][0],1)&&Ce.shift(),Ce.length?Ce[0]:null}function pruneSegmentIntersection(Ee,_e){var Ce=Ee.slice(),Pe=_e.slice(),Re=getIntersection(Ee[Ee.length-1],_e[0]);return Re&&(Ce[Ee.length-1]=Ee[Ee.length-1].split(Re[0])[0],Pe[0]=_e[0].split(Re[1])[1]),Ee.length>1&&_e.length>1&&(Re=getIntersection(Ee[0],_e[_e.length-1]),Re)?[[Ee[0].split(Re[0])[0]],[_e[_e.length-1].split(Re[1])[1]]]:[Ce,Pe]}function pruneIntersections(Ee){for(var _e,Ce=1;Ce<Ee.length;Ce+=1)_e=pruneSegmentIntersection(Ee[Ce-1],Ee[Ce]),Ee[Ce-1]=_e[0],Ee[Ce]=_e[1];return Ee.length>1&&(_e=pruneSegmentIntersection(Ee[Ee.length-1],Ee[0]),Ee[Ee.length-1]=_e[0],Ee[0]=_e[1]),Ee}function offsetSegmentSplit(Ee,_e){var Ce=Ee.inflectionPoints(),Pe,Re,Ie,Be;if(Ce.length===0)return[offsetSegment(Ee,_e)];if(Ce.length===1||floatEqual(Ce[1],1))return Ie=Ee.split(Ce[0]),Pe=Ie[0],Re=Ie[1],[offsetSegment(Pe,_e),offsetSegment(Re,_e)];Ie=Ee.split(Ce[0]),Pe=Ie[0];var je=(Ce[1]-Ce[0])/(1-Ce[0]);return Ie=Ie[1].split(je),Be=Ie[0],Re=Ie[1],[offsetSegment(Pe,_e),offsetSegment(Be,_e),offsetSegment(Re,_e)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(Ee,_e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(Ee,_e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(Ee,_e.ml,0,null,this),this.lineJoin=_e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(Ee,_e,Ce,Pe){var Re=shapePool.newElement();Re.c=Ee.c;var Ie=Ee.length();Ee.c||(Ie-=1);var Be,je,De,Fe=[];for(Be=0;Be<Ie;Be+=1)De=PolynomialBezier.shapeSegment(Ee,Be),Fe.push(offsetSegmentSplit(De,_e));if(!Ee.c)for(Be=Ie-1;Be>=0;Be-=1)De=PolynomialBezier.shapeSegmentInverted(Ee,Be),Fe.push(offsetSegmentSplit(De,_e));Fe=pruneIntersections(Fe);var Oe=null,ke=null;for(Be=0;Be<Fe.length;Be+=1){var Me=Fe[Be];for(ke&&(Oe=joinLines(Re,ke,Me[0],Ce,Pe)),ke=Me[Me.length-1],je=0;je<Me.length;je+=1)De=Me[je],Oe&&pointEqual(De.points[0],Oe)?Re.setXYAt(De.points[1][0],De.points[1][1],"o",Re.length()-1):Re.setTripleAt(De.points[0][0],De.points[0][1],De.points[1][0],De.points[1][1],De.points[0][0],De.points[0][1],Re.length()),Re.setTripleAt(De.points[3][0],De.points[3][1],De.points[3][0],De.points[3][1],De.points[2][0],De.points[2][1],Re.length()),Oe=De.points[3]}return Fe.length&&joinLines(Re,ke,Fe[0][0],Ce,Pe),Re},OffsetPathModifier.prototype.processShapes=function(Ee){var _e,Ce,Pe=this.shapes.length,Re,Ie,Be=this.amount.v,je=this.miterLimit.v,De=this.lineJoin;if(Be!==0){var Fe,Oe;for(Ce=0;Ce<Pe;Ce+=1){if(Fe=this.shapes[Ce],Oe=Fe.localShapeCollection,!(!Fe.shape._mdf&&!this._mdf&&!Ee))for(Oe.releaseShapes(),Fe.shape._mdf=!0,_e=Fe.shape.paths.shapes,Ie=Fe.shape.paths._length,Re=0;Re<Ie;Re+=1)Oe.addShape(this.processPath(_e[Re],Be,De,je));Fe.shape.paths=Fe.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(Ee){for(var _e=Ee.fStyle?Ee.fStyle.split(" "):[],Ce="normal",Pe="normal",Re=_e.length,Ie,Be=0;Be<Re;Be+=1)switch(Ie=_e[Be].toLowerCase(),Ie){case"italic":Pe="italic";break;case"bold":Ce="700";break;case"black":Ce="900";break;case"medium":Ce="500";break;case"regular":case"normal":Ce="400";break;case"light":case"thin":Ce="200";break}return{style:Pe,weight:Ee.fWeight||Ce}}var FontManager=function(){var Ee=5e3,_e={w:0,size:0,shapes:[],data:{shapes:[]}},Ce=[];Ce=Ce.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var Pe=127988,Re=917631,Ie=917601,Be=917626,je=65039,De=8205,Fe=127462,Oe=127487,ke=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function Me(mr){var Er=mr.split(","),Ar,br=Er.length,wr=[];for(Ar=0;Ar<br;Ar+=1)Er[Ar]!=="sans-serif"&&Er[Ar]!=="monospace"&&wr.push(Er[Ar]);return wr.join(",")}function $e(mr,Er){var Ar=createTag("span");Ar.setAttribute("aria-hidden",!0),Ar.style.fontFamily=Er;var br=createTag("span");br.innerText="giItT1WQy@!-/#",Ar.style.position="absolute",Ar.style.left="-10000px",Ar.style.top="-10000px",Ar.style.fontSize="300px",Ar.style.fontVariant="normal",Ar.style.fontStyle="normal",Ar.style.fontWeight="normal",Ar.style.letterSpacing="0",Ar.appendChild(br),document.body.appendChild(Ar);var wr=br.offsetWidth;return br.style.fontFamily=Me(mr)+", "+Er,{node:br,w:wr,parent:Ar}}function He(){var mr,Er=this.fonts.length,Ar,br,wr=Er;for(mr=0;mr<Er;mr+=1)this.fonts[mr].loaded?wr-=1:this.fonts[mr].fOrigin==="n"||this.fonts[mr].origin===0?this.fonts[mr].loaded=!0:(Ar=this.fonts[mr].monoCase.node,br=this.fonts[mr].monoCase.w,Ar.offsetWidth!==br?(wr-=1,this.fonts[mr].loaded=!0):(Ar=this.fonts[mr].sansCase.node,br=this.fonts[mr].sansCase.w,Ar.offsetWidth!==br&&(wr-=1,this.fonts[mr].loaded=!0)),this.fonts[mr].loaded&&(this.fonts[mr].sansCase.parent.parentNode.removeChild(this.fonts[mr].sansCase.parent),this.fonts[mr].monoCase.parent.parentNode.removeChild(this.fonts[mr].monoCase.parent)));wr!==0&&Date.now()-this.initTime<Ee?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function Qe(mr,Er){var Ar=document.body&&Er?"svg":"canvas",br,wr=getFontProperties(mr);if(Ar==="svg"){var jr=createNS("text");jr.style.fontSize="100px",jr.setAttribute("font-family",mr.fFamily),jr.setAttribute("font-style",wr.style),jr.setAttribute("font-weight",wr.weight),jr.textContent="1",mr.fClass?(jr.style.fontFamily="inherit",jr.setAttribute("class",mr.fClass)):jr.style.fontFamily=mr.fFamily,Er.appendChild(jr),br=jr}else{var hr=new OffscreenCanvas(500,500).getContext("2d");hr.font=wr.style+" "+wr.weight+" 100px "+mr.fFamily,br=hr}function _r(Pr){return Ar==="svg"?(br.textContent=Pr,br.getComputedTextLength()):br.measureText(Pr).width}return{measureText:_r}}function Ke(mr,Er){if(!mr){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=mr.list;return}if(!document.body){this.isLoaded=!0,mr.list.forEach(function(qr){qr.helper=Qe(qr),qr.cache={}}),this.fonts=mr.list;return}var Ar=mr.list,br,wr=Ar.length,jr=wr;for(br=0;br<wr;br+=1){var hr=!0,_r,Pr;if(Ar[br].loaded=!1,Ar[br].monoCase=$e(Ar[br].fFamily,"monospace"),Ar[br].sansCase=$e(Ar[br].fFamily,"sans-serif"),!Ar[br].fPath)Ar[br].loaded=!0,jr-=1;else if(Ar[br].fOrigin==="p"||Ar[br].origin===3){if(_r=document.querySelectorAll('style[f-forigin="p"][f-family="'+Ar[br].fFamily+'"], style[f-origin="3"][f-family="'+Ar[br].fFamily+'"]'),_r.length>0&&(hr=!1),hr){var Cr=createTag("style");Cr.setAttribute("f-forigin",Ar[br].fOrigin),Cr.setAttribute("f-origin",Ar[br].origin),Cr.setAttribute("f-family",Ar[br].fFamily),Cr.type="text/css",Cr.innerText="@font-face {font-family: "+Ar[br].fFamily+"; font-style: normal; src: url('"+Ar[br].fPath+"');}",Er.appendChild(Cr)}}else if(Ar[br].fOrigin==="g"||Ar[br].origin===1){for(_r=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Pr=0;Pr<_r.length;Pr+=1)_r[Pr].href.indexOf(Ar[br].fPath)!==-1&&(hr=!1);if(hr){var Or=createTag("link");Or.setAttribute("f-forigin",Ar[br].fOrigin),Or.setAttribute("f-origin",Ar[br].origin),Or.type="text/css",Or.rel="stylesheet",Or.href=Ar[br].fPath,document.body.appendChild(Or)}}else if(Ar[br].fOrigin==="t"||Ar[br].origin===2){for(_r=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Pr=0;Pr<_r.length;Pr+=1)Ar[br].fPath===_r[Pr].src&&(hr=!1);if(hr){var Yr=createTag("link");Yr.setAttribute("f-forigin",Ar[br].fOrigin),Yr.setAttribute("f-origin",Ar[br].origin),Yr.setAttribute("rel","stylesheet"),Yr.setAttribute("href",Ar[br].fPath),Er.appendChild(Yr)}}Ar[br].helper=Qe(Ar[br],Er),Ar[br].cache={},this.fonts.push(Ar[br])}jr===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function ze(mr){if(mr){this.chars||(this.chars=[]);var Er,Ar=mr.length,br,wr=this.chars.length,jr;for(Er=0;Er<Ar;Er+=1){for(br=0,jr=!1;br<wr;)this.chars[br].style===mr[Er].style&&this.chars[br].fFamily===mr[Er].fFamily&&this.chars[br].ch===mr[Er].ch&&(jr=!0),br+=1;jr||(this.chars.push(mr[Er]),wr+=1)}}}function We(mr,Er,Ar){for(var br=0,wr=this.chars.length;br<wr;){if(this.chars[br].ch===mr&&this.chars[br].style===Er&&this.chars[br].fFamily===Ar)return this.chars[br];br+=1}return(typeof mr=="string"&&mr.charCodeAt(0)!==13||!mr)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",mr,Er,Ar)),_e}function qe(mr,Er,Ar){var br=this.getFontByName(Er),wr=mr;if(!br.cache[wr]){var jr=br.helper;if(mr===" "){var hr=jr.measureText("|"+mr+"|"),_r=jr.measureText("||");br.cache[wr]=(hr-_r)/100}else br.cache[wr]=jr.measureText(mr)/100}return br.cache[wr]*Ar}function Ye(mr){for(var Er=0,Ar=this.fonts.length;Er<Ar;){if(this.fonts[Er].fName===mr)return this.fonts[Er];Er+=1}return this.fonts[0]}function Xe(mr){var Er=0,Ar=mr.charCodeAt(0);if(Ar>=55296&&Ar<=56319){var br=mr.charCodeAt(1);br>=56320&&br<=57343&&(Er=(Ar-55296)*1024+br-56320+65536)}return Er}function rr(mr,Er){var Ar=mr.toString(16)+Er.toString(16);return ke.indexOf(Ar)!==-1}function Je(mr){return mr===De}function er(mr){return mr===je}function or(mr){var Er=Xe(mr);return Er>=Fe&&Er<=Oe}function pr(mr){return or(mr.substr(0,2))&&or(mr.substr(2,2))}function ar(mr){return Ce.indexOf(mr)!==-1}function fr(mr,Er){var Ar=Xe(mr.substr(Er,2));if(Ar!==Pe)return!1;var br=0;for(Er+=2;br<5;){if(Ar=Xe(mr.substr(Er,2)),Ar<Ie||Ar>Be)return!1;br+=1,Er+=2}return Xe(mr.substr(Er,2))===Re}function gr(){this.isLoaded=!0}var Rr=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Rr.isModifier=rr,Rr.isZeroWidthJoiner=Je,Rr.isFlagEmoji=pr,Rr.isRegionalCode=or,Rr.isCombinedCharacter=ar,Rr.isRegionalFlag=fr,Rr.isVariationSelector=er,Rr.BLACK_FLAG_CODE_POINT=Pe;var Ir={addChars:ze,addFonts:Ke,getCharData:We,getFontByName:Ye,measureText:qe,checkLoadedFonts:He,setIsLoaded:gr};return Rr.prototype=Ir,Rr}();function SlotManager(Ee){this.animationData=Ee}SlotManager.prototype.getProp=function(Ee){return this.animationData.slots&&this.animationData.slots[Ee.sid]?Object.assign(Ee,this.animationData.slots[Ee.sid].p):Ee};function slotFactory(Ee){return new SlotManager(Ee)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(_e){this.renderableComponents.indexOf(_e)===-1&&this.renderableComponents.push(_e)},removeRenderableComponent:function(_e){this.renderableComponents.indexOf(_e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(_e),1)},prepareRenderableFrame:function(_e){this.checkLayerLimits(_e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(_e){this.data.ip-this.data.st<=_e&&this.data.op-this.data.st>_e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var _e,Ce=this.renderableComponents.length;for(_e=0;_e<Ce;_e+=1)this.renderableComponents[_e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var Ee={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(_e){return Ee[_e]||""}}();function SliderEffect(Ee,_e,Ce){this.p=PropertyFactory.getProp(_e,Ee.v,0,0,Ce)}function AngleEffect(Ee,_e,Ce){this.p=PropertyFactory.getProp(_e,Ee.v,0,0,Ce)}function ColorEffect(Ee,_e,Ce){this.p=PropertyFactory.getProp(_e,Ee.v,1,0,Ce)}function PointEffect(Ee,_e,Ce){this.p=PropertyFactory.getProp(_e,Ee.v,1,0,Ce)}function LayerIndexEffect(Ee,_e,Ce){this.p=PropertyFactory.getProp(_e,Ee.v,0,0,Ce)}function MaskIndexEffect(Ee,_e,Ce){this.p=PropertyFactory.getProp(_e,Ee.v,0,0,Ce)}function CheckboxEffect(Ee,_e,Ce){this.p=PropertyFactory.getProp(_e,Ee.v,0,0,Ce)}function NoValueEffect(){this.p={}}function EffectsManager(Ee,_e){var Ce=Ee.ef||[];this.effectElements=[];var Pe,Re=Ce.length,Ie;for(Pe=0;Pe<Re;Pe+=1)Ie=new GroupEffect(Ce[Pe],_e),this.effectElements.push(Ie)}function GroupEffect(Ee,_e){this.init(Ee,_e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(Ee,_e){this.data=Ee,this.effectElements=[],this.initDynamicPropertyContainer(_e);var Ce,Pe=this.data.ef.length,Re,Ie=this.data.ef;for(Ce=0;Ce<Pe;Ce+=1){switch(Re=null,Ie[Ce].ty){case 0:Re=new SliderEffect(Ie[Ce],_e,this);break;case 1:Re=new AngleEffect(Ie[Ce],_e,this);break;case 2:Re=new ColorEffect(Ie[Ce],_e,this);break;case 3:Re=new PointEffect(Ie[Ce],_e,this);break;case 4:case 7:Re=new CheckboxEffect(Ie[Ce],_e,this);break;case 10:Re=new LayerIndexEffect(Ie[Ce],_e,this);break;case 11:Re=new MaskIndexEffect(Ie[Ce],_e,this);break;case 5:Re=new EffectsManager(Ie[Ce],_e);break;default:Re=new NoValueEffect(Ie[Ce]);break}Re&&this.effectElements.push(Re)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var _e=0,Ce=this.data.masksProperties.length;_e<Ce;){if(this.data.masksProperties[_e].mode!=="n"&&this.data.masksProperties[_e].cl!==!1)return!0;_e+=1}return!1},initExpressions:function(){var _e=getExpressionInterfaces();if(_e){var Ce=_e("layer"),Pe=_e("effects"),Re=_e("shape"),Ie=_e("text"),Be=_e("comp");this.layerInterface=Ce(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var je=Pe.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(je),this.data.ty===0||this.data.xt?this.compInterface=Be(this):this.data.ty===4?(this.layerInterface.shapeInterface=Re(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=Ie(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var _e=getBlendMode(this.data.bm),Ce=this.baseElement||this.layerElement;Ce.style["mix-blend-mode"]=_e},initBaseData:function(_e,Ce,Pe){this.globalData=Ce,this.comp=Pe,this.data=_e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(_e,Ce){var Pe,Re=this.dynamicProperties.length;for(Pe=0;Pe<Re;Pe+=1)(Ce||this._isParent&&this.dynamicProperties[Pe].propType==="transform")&&(this.dynamicProperties[Pe].getValue(),this.dynamicProperties[Pe]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(_e){this.dynamicProperties.indexOf(_e)===-1&&this.dynamicProperties.push(_e)}};function FootageElement(Ee,_e,Ce){this.initFrame(),this.initRenderable(),this.assetData=_e.getAssetData(Ee.refId),this.footageData=_e.imageLoader.getAsset(this.assetData),this.initBaseData(Ee,_e,Ce)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var Ee=getExpressionInterfaces();if(Ee){var _e=Ee("footage");this.layerInterface=_e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(Ee,_e,Ce){this.initFrame(),this.initRenderable(),this.assetData=_e.getAssetData(Ee.refId),this.initBaseData(Ee,_e,Ce),this._isPlaying=!1,this._canPlay=!1;var Pe=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(Pe),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=Ee.tm?PropertyFactory.getProp(this,Ee.tm,0,_e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,Ee.au&&Ee.au.lv?Ee.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(Ee){if(this.prepareRenderableFrame(Ee,!0),this.prepareProperties(Ee,!0),this.tm._placeholder)this._currentTime=Ee/this.data.sr;else{var _e=this.tm.v;this._currentTime=_e}this._volume=this.lv.v[0];var Ce=this._volume*this._volumeMultiplier;this._previousVolume!==Ce&&(this._previousVolume=Ce,this.audio.volume(Ce))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(Ee){this.audio.rate(Ee)},AudioElement.prototype.volume=function(Ee){this._volumeMultiplier=Ee,this._previousVolume=Ee*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(Ee){var _e,Ce=this.layers.length,Pe;for(this.completeLayers=!0,_e=Ce-1;_e>=0;_e-=1)this.elements[_e]||(Pe=this.layers[_e],Pe.ip-Pe.st<=Ee-this.layers[_e].st&&Pe.op-Pe.st>Ee-this.layers[_e].st&&this.buildItem(_e)),this.completeLayers=this.elements[_e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(Ee){switch(Ee.ty){case 2:return this.createImage(Ee);case 0:return this.createComp(Ee);case 1:return this.createSolid(Ee);case 3:return this.createNull(Ee);case 4:return this.createShape(Ee);case 5:return this.createText(Ee);case 6:return this.createAudio(Ee);case 13:return this.createCamera(Ee);case 15:return this.createFootage(Ee);default:return this.createNull(Ee)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(Ee){return new AudioElement(Ee,this.globalData,this)},BaseRenderer.prototype.createFootage=function(Ee){return new FootageElement(Ee,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var Ee,_e=this.layers.length;for(Ee=0;Ee<_e;Ee+=1)this.buildItem(Ee);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(Ee){this.completeLayers=!1;var _e,Ce=Ee.length,Pe,Re=this.layers.length;for(_e=0;_e<Ce;_e+=1)for(Pe=0;Pe<Re;){if(this.layers[Pe].id===Ee[_e].id){this.layers[Pe]=Ee[_e];break}Pe+=1}},BaseRenderer.prototype.setProjectInterface=function(Ee){this.globalData.projectInterface=Ee},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(Ee,_e,Ce){for(var Pe=this.elements,Re=this.layers,Ie=0,Be=Re.length;Ie<Be;)Re[Ie].ind==_e&&(!Pe[Ie]||Pe[Ie]===!0?(this.buildItem(Ie),this.addPendingElement(Ee)):(Ce.push(Pe[Ie]),Pe[Ie].setAsParent(),Re[Ie].parent!==void 0?this.buildElementParenting(Ee,Re[Ie].parent,Ce):Ee.setHierarchy(Ce))),Ie+=1},BaseRenderer.prototype.addPendingElement=function(Ee){this.pendingElements.push(Ee)},BaseRenderer.prototype.searchExtraCompositions=function(Ee){var _e,Ce=Ee.length;for(_e=0;_e<Ce;_e+=1)if(Ee[_e].xt){var Pe=this.createComp(Ee[_e]);Pe.initExpressions(),this.globalData.projectInterface.registerComposition(Pe)}},BaseRenderer.prototype.getElementById=function(Ee){var _e,Ce=this.elements.length;for(_e=0;_e<Ce;_e+=1)if(this.elements[_e].data.ind===Ee)return this.elements[_e];return null},BaseRenderer.prototype.getElementByPath=function(Ee){var _e=Ee.shift(),Ce;if(typeof _e=="number")Ce=this.elements[_e];else{var Pe,Re=this.elements.length;for(Pe=0;Pe<Re;Pe+=1)if(this.elements[Pe].data.nm===_e){Ce=this.elements[Pe];break}}return Ee.length===0?Ce:Ce.getElementByPath(Ee)},BaseRenderer.prototype.setupGlobalData=function(Ee,_e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(Ee),this.globalData.fontManager.addChars(Ee.chars),this.globalData.fontManager.addFonts(Ee.fonts,_e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=Ee.fr,this.globalData.nm=Ee.nm,this.globalData.compSize={w:Ee.w,h:Ee.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var _e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:_e,localMat:_e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var _e,Ce=this.finalTransform.mat,Pe=0,Re=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;Pe<Re;){if(this.hierarchy[Pe].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}Pe+=1}if(this.finalTransform._matMdf)for(_e=this.finalTransform.mProp.v.props,Ce.cloneFromProps(_e),Pe=0;Pe<Re;Pe+=1)Ce.multiply(this.hierarchy[Pe].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var _e=0,Ce=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;_e<Ce;)this.localTransforms[_e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[_e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),_e+=1;if(this.finalTransform._localMatMdf){var Pe=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(Pe),_e=1;_e<Ce;_e+=1){var Re=this.localTransforms[_e].matrix;Pe.multiply(Re)}Pe.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var Ie=this.finalTransform.localOpacity;for(_e=0;_e<Ce;_e+=1)Ie*=this.localTransforms[_e].opacity*.01;this.finalTransform.localOpacity=Ie}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var _e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(_e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var Ce=0,Pe=_e.length;for(Ce=0;Ce<Pe;Ce+=1)this.localTransforms.push(_e[Ce])}}},globalToLocal:function(_e){var Ce=[];Ce.push(this.finalTransform);for(var Pe=!0,Re=this.comp;Pe;)Re.finalTransform?(Re.data.hasMask&&Ce.splice(0,0,Re.finalTransform),Re=Re.comp):Pe=!1;var Ie,Be=Ce.length,je;for(Ie=0;Ie<Be;Ie+=1)je=Ce[Ie].mat.applyToPointArray(0,0,0),_e=[_e[0]-je[0],_e[1]-je[1],0];return _e},mHelper:new Matrix};function MaskElement(Ee,_e,Ce){this.data=Ee,this.element=_e,this.globalData=Ce,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var Pe=this.globalData.defs,Re,Ie=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(Ie),this.solidPath="";var Be,je=this.masksProperties,De=0,Fe=[],Oe,ke,Me=createElementID(),$e,He,Qe,Ke,ze="clipPath",We="clip-path";for(Re=0;Re<Ie;Re+=1)if((je[Re].mode!=="a"&&je[Re].mode!=="n"||je[Re].inv||je[Re].o.k!==100||je[Re].o.x)&&(ze="mask",We="mask"),(je[Re].mode==="s"||je[Re].mode==="i")&&De===0?($e=createNS("rect"),$e.setAttribute("fill","#ffffff"),$e.setAttribute("width",this.element.comp.data.w||0),$e.setAttribute("height",this.element.comp.data.h||0),Fe.push($e)):$e=null,Be=createNS("path"),je[Re].mode==="n")this.viewData[Re]={op:PropertyFactory.getProp(this.element,je[Re].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,je[Re],3),elem:Be,lastPath:""},Pe.appendChild(Be);else{De+=1,Be.setAttribute("fill",je[Re].mode==="s"?"#000000":"#ffffff"),Be.setAttribute("clip-rule","nonzero");var qe;if(je[Re].x.k!==0?(ze="mask",We="mask",Ke=PropertyFactory.getProp(this.element,je[Re].x,0,null,this.element),qe=createElementID(),He=createNS("filter"),He.setAttribute("id",qe),Qe=createNS("feMorphology"),Qe.setAttribute("operator","erode"),Qe.setAttribute("in","SourceGraphic"),Qe.setAttribute("radius","0"),He.appendChild(Qe),Pe.appendChild(He),Be.setAttribute("stroke",je[Re].mode==="s"?"#000000":"#ffffff")):(Qe=null,Ke=null),this.storedData[Re]={elem:Be,x:Ke,expan:Qe,lastPath:"",lastOperator:"",filterId:qe,lastRadius:0},je[Re].mode==="i"){ke=Fe.length;var Ye=createNS("g");for(Oe=0;Oe<ke;Oe+=1)Ye.appendChild(Fe[Oe]);var Xe=createNS("mask");Xe.setAttribute("mask-type","alpha"),Xe.setAttribute("id",Me+"_"+De),Xe.appendChild(Be),Pe.appendChild(Xe),Ye.setAttribute("mask","url("+getLocationHref()+"#"+Me+"_"+De+")"),Fe.length=0,Fe.push(Ye)}else Fe.push(Be);je[Re].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[Re]={elem:Be,lastPath:"",op:PropertyFactory.getProp(this.element,je[Re].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,je[Re],3),invRect:$e},this.viewData[Re].prop.k||this.drawPath(je[Re],this.viewData[Re].prop.v,this.viewData[Re])}for(this.maskElement=createNS(ze),Ie=Fe.length,Re=0;Re<Ie;Re+=1)this.maskElement.appendChild(Fe[Re]);De>0&&(this.maskElement.setAttribute("id",Me),this.element.maskedElement.setAttribute(We,"url("+getLocationHref()+"#"+Me+")"),Pe.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(Ee){return this.viewData[Ee].prop},MaskElement.prototype.renderFrame=function(Ee){var _e=this.element.finalTransform.mat,Ce,Pe=this.masksProperties.length;for(Ce=0;Ce<Pe;Ce+=1)if((this.viewData[Ce].prop._mdf||Ee)&&this.drawPath(this.masksProperties[Ce],this.viewData[Ce].prop.v,this.viewData[Ce]),(this.viewData[Ce].op._mdf||Ee)&&this.viewData[Ce].elem.setAttribute("fill-opacity",this.viewData[Ce].op.v),this.masksProperties[Ce].mode!=="n"&&(this.viewData[Ce].invRect&&(this.element.finalTransform.mProp._mdf||Ee)&&this.viewData[Ce].invRect.setAttribute("transform",_e.getInverseMatrix().to2dCSS()),this.storedData[Ce].x&&(this.storedData[Ce].x._mdf||Ee))){var Re=this.storedData[Ce].expan;this.storedData[Ce].x.v<0?(this.storedData[Ce].lastOperator!=="erode"&&(this.storedData[Ce].lastOperator="erode",this.storedData[Ce].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[Ce].filterId+")")),Re.setAttribute("radius",-this.storedData[Ce].x.v)):(this.storedData[Ce].lastOperator!=="dilate"&&(this.storedData[Ce].lastOperator="dilate",this.storedData[Ce].elem.setAttribute("filter",null)),this.storedData[Ce].elem.setAttribute("stroke-width",this.storedData[Ce].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var Ee="M0,0 ";return Ee+=" h"+this.globalData.compSize.w,Ee+=" v"+this.globalData.compSize.h,Ee+=" h-"+this.globalData.compSize.w,Ee+=" v-"+this.globalData.compSize.h+" ",Ee},MaskElement.prototype.drawPath=function(Ee,_e,Ce){var Pe=" M"+_e.v[0][0]+","+_e.v[0][1],Re,Ie;for(Ie=_e._length,Re=1;Re<Ie;Re+=1)Pe+=" C"+_e.o[Re-1][0]+","+_e.o[Re-1][1]+" "+_e.i[Re][0]+","+_e.i[Re][1]+" "+_e.v[Re][0]+","+_e.v[Re][1];if(_e.c&&Ie>1&&(Pe+=" C"+_e.o[Re-1][0]+","+_e.o[Re-1][1]+" "+_e.i[0][0]+","+_e.i[0][1]+" "+_e.v[0][0]+","+_e.v[0][1]),Ce.lastPath!==Pe){var Be="";Ce.elem&&(_e.c&&(Be=Ee.inv?this.solidPath+Pe:Pe),Ce.elem.setAttribute("d",Be)),Ce.lastPath=Pe}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var Ee={};Ee.createFilter=_e,Ee.createAlphaToLuminanceFilter=Ce;function _e(Pe,Re){var Ie=createNS("filter");return Ie.setAttribute("id",Pe),Re!==!0&&(Ie.setAttribute("filterUnits","objectBoundingBox"),Ie.setAttribute("x","0%"),Ie.setAttribute("y","0%"),Ie.setAttribute("width","100%"),Ie.setAttribute("height","100%")),Ie}function Ce(){var Pe=createNS("feColorMatrix");return Pe.setAttribute("type","matrix"),Pe.setAttribute("color-interpolation-filters","sRGB"),Pe.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),Pe}return Ee}(),featureSupport=function(){var Ee={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(Ee.maskType=!1),/firefox/i.test(navigator.userAgent)&&(Ee.svgLumaHidden=!1),Ee}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(Ee){var _e,Ce="SourceGraphic",Pe=Ee.data.ef?Ee.data.ef.length:0,Re=createElementID(),Ie=filtersFactory.createFilter(Re,!0),Be=0;this.filters=[];var je;for(_e=0;_e<Pe;_e+=1){je=null;var De=Ee.data.ef[_e].ty;if(registeredEffects$1[De]){var Fe=registeredEffects$1[De].effect;je=new Fe(Ie,Ee.effectsManager.effectElements[_e],Ee,idPrefix+Be,Ce),Ce=idPrefix+Be,registeredEffects$1[De].countsAsEffect&&(Be+=1)}je&&this.filters.push(je)}Be&&(Ee.globalData.defs.appendChild(Ie),Ee.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+Re+")")),this.filters.length&&Ee.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(Ee){var _e,Ce=this.filters.length;for(_e=0;_e<Ce;_e+=1)this.filters[_e].renderFrame(Ee)},SVGEffects.prototype.getEffects=function(Ee){var _e,Ce=this.filters.length,Pe=[];for(_e=0;_e<Ce;_e+=1)this.filters[_e].type===Ee&&Pe.push(this.filters[_e]);return Pe};function registerEffect$1(Ee,_e,Ce){registeredEffects$1[Ee]={effect:_e,countsAsEffect:Ce}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var _e=null;if(this.data.td){this.matteMasks={};var Ce=createNS("g");Ce.setAttribute("id",this.layerId),Ce.appendChild(this.layerElement),_e=Ce,this.globalData.defs.appendChild(Ce)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),_e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var Pe=createNS("clipPath"),Re=createNS("path");Re.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var Ie=createElementID();if(Pe.setAttribute("id",Ie),Pe.appendChild(Re),this.globalData.defs.appendChild(Pe),this.checkMasks()){var Be=createNS("g");Be.setAttribute("clip-path","url("+getLocationHref()+"#"+Ie+")"),Be.appendChild(this.layerElement),this.transformedElement=Be,_e?_e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Ie+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(_e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[_e]){var Ce=this.layerId+"_"+_e,Pe,Re,Ie,Be;if(_e===1||_e===3){var je=createNS("mask");je.setAttribute("id",Ce),je.setAttribute("mask-type",_e===3?"luminance":"alpha"),Ie=createNS("use"),Ie.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),je.appendChild(Ie),this.globalData.defs.appendChild(je),!featureSupport.maskType&&_e===1&&(je.setAttribute("mask-type","luminance"),Pe=createElementID(),Re=filtersFactory.createFilter(Pe),this.globalData.defs.appendChild(Re),Re.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Be=createNS("g"),Be.appendChild(Ie),je.appendChild(Be),Be.setAttribute("filter","url("+getLocationHref()+"#"+Pe+")"))}else if(_e===2){var De=createNS("mask");De.setAttribute("id",Ce),De.setAttribute("mask-type","alpha");var Fe=createNS("g");De.appendChild(Fe),Pe=createElementID(),Re=filtersFactory.createFilter(Pe);var Oe=createNS("feComponentTransfer");Oe.setAttribute("in","SourceGraphic"),Re.appendChild(Oe);var ke=createNS("feFuncA");ke.setAttribute("type","table"),ke.setAttribute("tableValues","1.0 0.0"),Oe.appendChild(ke),this.globalData.defs.appendChild(Re);var Me=createNS("rect");Me.setAttribute("width",this.comp.data.w),Me.setAttribute("height",this.comp.data.h),Me.setAttribute("x","0"),Me.setAttribute("y","0"),Me.setAttribute("fill","#ffffff"),Me.setAttribute("opacity","0"),Fe.setAttribute("filter","url("+getLocationHref()+"#"+Pe+")"),Fe.appendChild(Me),Ie=createNS("use"),Ie.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Fe.appendChild(Ie),featureSupport.maskType||(De.setAttribute("mask-type","luminance"),Re.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Be=createNS("g"),Fe.appendChild(Me),Be.appendChild(this.layerElement),Fe.appendChild(Be)),this.globalData.defs.appendChild(De)}this.matteMasks[_e]=Ce}return this.matteMasks[_e]},setMatte:function(_e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+_e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(_e){this.hierarchy=_e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var Ee={initElement:function(Ce,Pe,Re){this.initFrame(),this.initBaseData(Ce,Pe,Re),this.initTransform(Ce,Pe,Re),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var Ce=this.baseElement||this.layerElement;Ce.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var Ce=this.baseElement||this.layerElement;Ce.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(Ce){this._mdf=!1,this.prepareRenderableFrame(Ce),this.prepareProperties(Ce,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(Ee)],RenderableDOMElement)})();function IImageElement(Ee,_e,Ce){this.assetData=_e.getAssetData(Ee.refId),this.assetData&&this.assetData.sid&&(this.assetData=_e.slotManager.getProp(this.assetData)),this.initElement(Ee,_e,Ce),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var Ee=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Ee),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(Ee,_e){this.elem=Ee,this.pos=_e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(_e){var Ce,Pe=this.shapeModifiers.length;for(Ce=0;Ce<Pe;Ce+=1)this.shapeModifiers[Ce].addShape(_e)},isShapeInAnimatedModifiers:function(_e){for(var Ce=0,Pe=this.shapeModifiers.length;Ce<Pe;)if(this.shapeModifiers[Ce].isAnimatedWithShape(_e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var _e,Ce=this.shapes.length;for(_e=0;_e<Ce;_e+=1)this.shapes[_e].sh.reset();Ce=this.shapeModifiers.length;var Pe;for(_e=Ce-1;_e>=0&&(Pe=this.shapeModifiers[_e].processShapes(this._isFirstFrame),!Pe);_e-=1);}},searchProcessedElement:function(_e){for(var Ce=this.processedElements,Pe=0,Re=Ce.length;Pe<Re;){if(Ce[Pe].elem===_e)return Ce[Pe].pos;Pe+=1}return 0},addProcessedElement:function(_e,Ce){for(var Pe=this.processedElements,Re=Pe.length;Re;)if(Re-=1,Pe[Re].elem===_e){Pe[Re].pos=Ce;return}Pe.push(new ProcessedElement(_e,Ce))},prepareFrame:function(_e){this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(Ee,_e,Ce){this.caches=[],this.styles=[],this.transformers=Ee,this.lStr="",this.sh=Ce,this.lvl=_e,this._isAnimated=!!Ce.k;for(var Pe=0,Re=Ee.length;Pe<Re;){if(Ee[Pe].mProps.dynamicProperties.length){this._isAnimated=!0;break}Pe+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(Ee,_e){this.data=Ee,this.type=Ee.ty,this.d="",this.lvl=_e,this._mdf=!1,this.closed=Ee.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(Ee,_e,Ce,Pe){this.elem=Ee,this.frameId=-1,this.dataProps=createSizedArray(_e.length),this.renderer=Ce,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",_e.length?_e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(Pe);var Re,Ie=_e.length||0,Be;for(Re=0;Re<Ie;Re+=1)Be=PropertyFactory.getProp(Ee,_e[Re].v,0,0,this),this.k=Be.k||this.k,this.dataProps[Re]={n:_e[Re].n,p:Be};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(Ee){if(!(this.elem.globalData.frameId===this.frameId&&!Ee)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||Ee,this._mdf)){var _e=0,Ce=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),_e=0;_e<Ce;_e+=1)this.dataProps[_e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[_e].p.v:this.dashArray[_e]=this.dataProps[_e].p.v:this.dashoffset[0]=this.dataProps[_e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(Ee,_e,Ce){this.initDynamicPropertyContainer(Ee),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(Ee,_e.o,0,.01,this),this.w=PropertyFactory.getProp(Ee,_e.w,0,null,this),this.d=new DashProperty(Ee,_e.d||{},"svg",this),this.c=PropertyFactory.getProp(Ee,_e.c,1,255,this),this.style=Ce,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(Ee,_e,Ce){this.initDynamicPropertyContainer(Ee),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(Ee,_e.o,0,.01,this),this.c=PropertyFactory.getProp(Ee,_e.c,1,255,this),this.style=Ce}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(Ee,_e,Ce){this.initDynamicPropertyContainer(Ee),this.getValue=this.iterateDynamicProperties,this.style=Ce}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(Ee,_e,Ce){this.data=_e,this.c=createTypedArray("uint8c",_e.p*4);var Pe=_e.k.k[0].s?_e.k.k[0].s.length-_e.p*4:_e.k.k.length-_e.p*4;this.o=createTypedArray("float32",Pe),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=Pe,this.initDynamicPropertyContainer(Ce),this.prop=PropertyFactory.getProp(Ee,_e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(Ee,_e){for(var Ce=0,Pe=this.o.length/2,Re;Ce<Pe;){if(Re=Math.abs(Ee[Ce*4]-Ee[_e*4+Ce*2]),Re>.01)return!1;Ce+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var Ee=0,_e=this.data.k.k.length;Ee<_e;){if(!this.comparePoints(this.data.k.k[Ee].s,this.data.p))return!1;Ee+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(Ee){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||Ee){var _e,Ce=this.data.p*4,Pe,Re;for(_e=0;_e<Ce;_e+=1)Pe=_e%4===0?100:255,Re=Math.round(this.prop.v[_e]*Pe),this.c[_e]!==Re&&(this.c[_e]=Re,this._cmdf=!Ee);if(this.o.length)for(Ce=this.prop.v.length,_e=this.data.p*4;_e<Ce;_e+=1)Pe=_e%2===0?100:1,Re=_e%2===0?Math.round(this.prop.v[_e]*100):this.prop.v[_e],this.o[_e-this.data.p*4]!==Re&&(this.o[_e-this.data.p*4]=Re,this._omdf=!Ee);this._mdf=!Ee}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(Ee,_e,Ce){this.initDynamicPropertyContainer(Ee),this.getValue=this.iterateDynamicProperties,this.initGradientData(Ee,_e,Ce)}SVGGradientFillStyleData.prototype.initGradientData=function(Ee,_e,Ce){this.o=PropertyFactory.getProp(Ee,_e.o,0,.01,this),this.s=PropertyFactory.getProp(Ee,_e.s,1,null,this),this.e=PropertyFactory.getProp(Ee,_e.e,1,null,this),this.h=PropertyFactory.getProp(Ee,_e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(Ee,_e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(Ee,_e.g,this),this.style=Ce,this.stops=[],this.setGradientData(Ce.pElem,_e),this.setGradientOpacity(_e,Ce),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(Ee,_e){var Ce=createElementID(),Pe=createNS(_e.t===1?"linearGradient":"radialGradient");Pe.setAttribute("id",Ce),Pe.setAttribute("spreadMethod","pad"),Pe.setAttribute("gradientUnits","userSpaceOnUse");var Re=[],Ie,Be,je;for(je=_e.g.p*4,Be=0;Be<je;Be+=4)Ie=createNS("stop"),Pe.appendChild(Ie),Re.push(Ie);Ee.setAttribute(_e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Ce+")"),this.gf=Pe,this.cst=Re},SVGGradientFillStyleData.prototype.setGradientOpacity=function(Ee,_e){if(this.g._hasOpacity&&!this.g._collapsable){var Ce,Pe,Re,Ie=createNS("mask"),Be=createNS("path");Ie.appendChild(Be);var je=createElementID(),De=createElementID();Ie.setAttribute("id",De);var Fe=createNS(Ee.t===1?"linearGradient":"radialGradient");Fe.setAttribute("id",je),Fe.setAttribute("spreadMethod","pad"),Fe.setAttribute("gradientUnits","userSpaceOnUse"),Re=Ee.g.k.k[0].s?Ee.g.k.k[0].s.length:Ee.g.k.k.length;var Oe=this.stops;for(Pe=Ee.g.p*4;Pe<Re;Pe+=2)Ce=createNS("stop"),Ce.setAttribute("stop-color","rgb(255,255,255)"),Fe.appendChild(Ce),Oe.push(Ce);Be.setAttribute(Ee.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+je+")"),Ee.ty==="gs"&&(Be.setAttribute("stroke-linecap",lineCapEnum[Ee.lc||2]),Be.setAttribute("stroke-linejoin",lineJoinEnum[Ee.lj||2]),Ee.lj===1&&Be.setAttribute("stroke-miterlimit",Ee.ml)),this.of=Fe,this.ms=Ie,this.ost=Oe,this.maskId=De,_e.msElem=Be}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(Ee,_e,Ce){this.initDynamicPropertyContainer(Ee),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(Ee,_e.w,0,null,this),this.d=new DashProperty(Ee,_e.d||{},"svg",this),this.initGradientData(Ee,_e,Ce),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(Ee,_e,Ce){this.transform={mProps:Ee,op:_e,container:Ce},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(_e,Ce,Pe,Re){if(Ce===0)return"";var Ie=_e.o,Be=_e.i,je=_e.v,De,Fe=" M"+Re.applyToPointStringified(je[0][0],je[0][1]);for(De=1;De<Ce;De+=1)Fe+=" C"+Re.applyToPointStringified(Ie[De-1][0],Ie[De-1][1])+" "+Re.applyToPointStringified(Be[De][0],Be[De][1])+" "+Re.applyToPointStringified(je[De][0],je[De][1]);return Pe&&Ce&&(Fe+=" C"+Re.applyToPointStringified(Ie[De-1][0],Ie[De-1][1])+" "+Re.applyToPointStringified(Be[0][0],Be[0][1])+" "+Re.applyToPointStringified(je[0][0],je[0][1]),Fe+="z"),Fe},SVGElementsRenderer=function(){var Ee=new Matrix,_e=new Matrix,Ce={createRenderFunction:Pe};function Pe(ke){switch(ke.ty){case"fl":return je;case"gf":return Fe;case"gs":return De;case"st":return Oe;case"sh":case"el":case"rc":case"sr":return Be;case"tr":return Re;case"no":return Ie;default:return null}}function Re(ke,Me,$e){($e||Me.transform.op._mdf)&&Me.transform.container.setAttribute("opacity",Me.transform.op.v),($e||Me.transform.mProps._mdf)&&Me.transform.container.setAttribute("transform",Me.transform.mProps.v.to2dCSS())}function Ie(){}function Be(ke,Me,$e){var He,Qe,Ke,ze,We,qe,Ye=Me.styles.length,Xe=Me.lvl,rr,Je,er,or;for(qe=0;qe<Ye;qe+=1){if(ze=Me.sh._mdf||$e,Me.styles[qe].lvl<Xe){for(Je=_e.reset(),er=Xe-Me.styles[qe].lvl,or=Me.transformers.length-1;!ze&&er>0;)ze=Me.transformers[or].mProps._mdf||ze,er-=1,or-=1;if(ze)for(er=Xe-Me.styles[qe].lvl,or=Me.transformers.length-1;er>0;)Je.multiply(Me.transformers[or].mProps.v),er-=1,or-=1}else Je=Ee;if(rr=Me.sh.paths,Qe=rr._length,ze){for(Ke="",He=0;He<Qe;He+=1)We=rr.shapes[He],We&&We._length&&(Ke+=buildShapeString(We,We._length,We.c,Je));Me.caches[qe]=Ke}else Ke=Me.caches[qe];Me.styles[qe].d+=ke.hd===!0?"":Ke,Me.styles[qe]._mdf=ze||Me.styles[qe]._mdf}}function je(ke,Me,$e){var He=Me.style;(Me.c._mdf||$e)&&He.pElem.setAttribute("fill","rgb("+bmFloor(Me.c.v[0])+","+bmFloor(Me.c.v[1])+","+bmFloor(Me.c.v[2])+")"),(Me.o._mdf||$e)&&He.pElem.setAttribute("fill-opacity",Me.o.v)}function De(ke,Me,$e){Fe(ke,Me,$e),Oe(ke,Me,$e)}function Fe(ke,Me,$e){var He=Me.gf,Qe=Me.g._hasOpacity,Ke=Me.s.v,ze=Me.e.v;if(Me.o._mdf||$e){var We=ke.ty==="gf"?"fill-opacity":"stroke-opacity";Me.style.pElem.setAttribute(We,Me.o.v)}if(Me.s._mdf||$e){var qe=ke.t===1?"x1":"cx",Ye=qe==="x1"?"y1":"cy";He.setAttribute(qe,Ke[0]),He.setAttribute(Ye,Ke[1]),Qe&&!Me.g._collapsable&&(Me.of.setAttribute(qe,Ke[0]),Me.of.setAttribute(Ye,Ke[1]))}var Xe,rr,Je,er;if(Me.g._cmdf||$e){Xe=Me.cst;var or=Me.g.c;for(Je=Xe.length,rr=0;rr<Je;rr+=1)er=Xe[rr],er.setAttribute("offset",or[rr*4]+"%"),er.setAttribute("stop-color","rgb("+or[rr*4+1]+","+or[rr*4+2]+","+or[rr*4+3]+")")}if(Qe&&(Me.g._omdf||$e)){var pr=Me.g.o;for(Me.g._collapsable?Xe=Me.cst:Xe=Me.ost,Je=Xe.length,rr=0;rr<Je;rr+=1)er=Xe[rr],Me.g._collapsable||er.setAttribute("offset",pr[rr*2]+"%"),er.setAttribute("stop-opacity",pr[rr*2+1])}if(ke.t===1)(Me.e._mdf||$e)&&(He.setAttribute("x2",ze[0]),He.setAttribute("y2",ze[1]),Qe&&!Me.g._collapsable&&(Me.of.setAttribute("x2",ze[0]),Me.of.setAttribute("y2",ze[1])));else{var ar;if((Me.s._mdf||Me.e._mdf||$e)&&(ar=Math.sqrt(Math.pow(Ke[0]-ze[0],2)+Math.pow(Ke[1]-ze[1],2)),He.setAttribute("r",ar),Qe&&!Me.g._collapsable&&Me.of.setAttribute("r",ar)),Me.s._mdf||Me.e._mdf||Me.h._mdf||Me.a._mdf||$e){ar||(ar=Math.sqrt(Math.pow(Ke[0]-ze[0],2)+Math.pow(Ke[1]-ze[1],2)));var fr=Math.atan2(ze[1]-Ke[1],ze[0]-Ke[0]),gr=Me.h.v;gr>=1?gr=.99:gr<=-1&&(gr=-.99);var Rr=ar*gr,Ir=Math.cos(fr+Me.a.v)*Rr+Ke[0],mr=Math.sin(fr+Me.a.v)*Rr+Ke[1];He.setAttribute("fx",Ir),He.setAttribute("fy",mr),Qe&&!Me.g._collapsable&&(Me.of.setAttribute("fx",Ir),Me.of.setAttribute("fy",mr))}}}function Oe(ke,Me,$e){var He=Me.style,Qe=Me.d;Qe&&(Qe._mdf||$e)&&Qe.dashStr&&(He.pElem.setAttribute("stroke-dasharray",Qe.dashStr),He.pElem.setAttribute("stroke-dashoffset",Qe.dashoffset[0])),Me.c&&(Me.c._mdf||$e)&&He.pElem.setAttribute("stroke","rgb("+bmFloor(Me.c.v[0])+","+bmFloor(Me.c.v[1])+","+bmFloor(Me.c.v[2])+")"),(Me.o._mdf||$e)&&He.pElem.setAttribute("stroke-opacity",Me.o.v),(Me.w._mdf||$e)&&(He.pElem.setAttribute("stroke-width",Me.w.v),He.msElem&&He.msElem.setAttribute("stroke-width",Me.w.v))}return Ce}();function SVGShapeElement(Ee,_e,Ce){this.shapes=[],this.shapesData=Ee.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(Ee,_e,Ce),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var Ee,_e=this.shapes.length,Ce,Pe,Re=this.stylesList.length,Ie,Be=[],je=!1;for(Pe=0;Pe<Re;Pe+=1){for(Ie=this.stylesList[Pe],je=!1,Be.length=0,Ee=0;Ee<_e;Ee+=1)Ce=this.shapes[Ee],Ce.styles.indexOf(Ie)!==-1&&(Be.push(Ce),je=Ce._isAnimated||je);Be.length>1&&je&&this.setShapesAsAnimated(Be)}},SVGShapeElement.prototype.setShapesAsAnimated=function(Ee){var _e,Ce=Ee.length;for(_e=0;_e<Ce;_e+=1)Ee[_e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(Ee,_e){var Ce,Pe=new SVGStyleData(Ee,_e),Re=Pe.pElem;if(Ee.ty==="st")Ce=new SVGStrokeStyleData(this,Ee,Pe);else if(Ee.ty==="fl")Ce=new SVGFillStyleData(this,Ee,Pe);else if(Ee.ty==="gf"||Ee.ty==="gs"){var Ie=Ee.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;Ce=new Ie(this,Ee,Pe),this.globalData.defs.appendChild(Ce.gf),Ce.maskId&&(this.globalData.defs.appendChild(Ce.ms),this.globalData.defs.appendChild(Ce.of),Re.setAttribute("mask","url("+getLocationHref()+"#"+Ce.maskId+")"))}else Ee.ty==="no"&&(Ce=new SVGNoStyleData(this,Ee,Pe));return(Ee.ty==="st"||Ee.ty==="gs")&&(Re.setAttribute("stroke-linecap",lineCapEnum[Ee.lc||2]),Re.setAttribute("stroke-linejoin",lineJoinEnum[Ee.lj||2]),Re.setAttribute("fill-opacity","0"),Ee.lj===1&&Re.setAttribute("stroke-miterlimit",Ee.ml)),Ee.r===2&&Re.setAttribute("fill-rule","evenodd"),Ee.ln&&Re.setAttribute("id",Ee.ln),Ee.cl&&Re.setAttribute("class",Ee.cl),Ee.bm&&(Re.style["mix-blend-mode"]=getBlendMode(Ee.bm)),this.stylesList.push(Pe),this.addToAnimatedContents(Ee,Ce),Ce},SVGShapeElement.prototype.createGroupElement=function(Ee){var _e=new ShapeGroupData;return Ee.ln&&_e.gr.setAttribute("id",Ee.ln),Ee.cl&&_e.gr.setAttribute("class",Ee.cl),Ee.bm&&(_e.gr.style["mix-blend-mode"]=getBlendMode(Ee.bm)),_e},SVGShapeElement.prototype.createTransformElement=function(Ee,_e){var Ce=TransformPropertyFactory.getTransformProperty(this,Ee,this),Pe=new SVGTransformData(Ce,Ce.o,_e);return this.addToAnimatedContents(Ee,Pe),Pe},SVGShapeElement.prototype.createShapeElement=function(Ee,_e,Ce){var Pe=4;Ee.ty==="rc"?Pe=5:Ee.ty==="el"?Pe=6:Ee.ty==="sr"&&(Pe=7);var Re=ShapePropertyFactory.getShapeProp(this,Ee,Pe,this),Ie=new SVGShapeData(_e,Ce,Re);return this.shapes.push(Ie),this.addShapeToModifiers(Ie),this.addToAnimatedContents(Ee,Ie),Ie},SVGShapeElement.prototype.addToAnimatedContents=function(Ee,_e){for(var Ce=0,Pe=this.animatedContents.length;Ce<Pe;){if(this.animatedContents[Ce].element===_e)return;Ce+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(Ee),element:_e,data:Ee})},SVGShapeElement.prototype.setElementStyles=function(Ee){var _e=Ee.styles,Ce,Pe=this.stylesList.length;for(Ce=0;Ce<Pe;Ce+=1)_e.indexOf(this.stylesList[Ce])===-1&&!this.stylesList[Ce].closed&&_e.push(this.stylesList[Ce])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Ee,_e=this.itemsData.length;for(Ee=0;Ee<_e;Ee+=1)this.prevViewData[Ee]=this.itemsData[Ee];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),_e=this.dynamicProperties.length,Ee=0;Ee<_e;Ee+=1)this.dynamicProperties[Ee].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(Ee,_e,Ce,Pe,Re,Ie,Be){var je=[].concat(Ie),De,Fe=Ee.length-1,Oe,ke,Me=[],$e=[],He,Qe,Ke;for(De=Fe;De>=0;De-=1){if(Ke=this.searchProcessedElement(Ee[De]),Ke?_e[De]=Ce[Ke-1]:Ee[De]._render=Be,Ee[De].ty==="fl"||Ee[De].ty==="st"||Ee[De].ty==="gf"||Ee[De].ty==="gs"||Ee[De].ty==="no")Ke?_e[De].style.closed=Ee[De].hd:_e[De]=this.createStyleElement(Ee[De],Re),Ee[De]._render&&_e[De].style.pElem.parentNode!==Pe&&Pe.appendChild(_e[De].style.pElem),Me.push(_e[De].style);else if(Ee[De].ty==="gr"){if(!Ke)_e[De]=this.createGroupElement(Ee[De]);else for(ke=_e[De].it.length,Oe=0;Oe<ke;Oe+=1)_e[De].prevViewData[Oe]=_e[De].it[Oe];this.searchShapes(Ee[De].it,_e[De].it,_e[De].prevViewData,_e[De].gr,Re+1,je,Be),Ee[De]._render&&_e[De].gr.parentNode!==Pe&&Pe.appendChild(_e[De].gr)}else Ee[De].ty==="tr"?(Ke||(_e[De]=this.createTransformElement(Ee[De],Pe)),He=_e[De].transform,je.push(He)):Ee[De].ty==="sh"||Ee[De].ty==="rc"||Ee[De].ty==="el"||Ee[De].ty==="sr"?(Ke||(_e[De]=this.createShapeElement(Ee[De],je,Re)),this.setElementStyles(_e[De])):Ee[De].ty==="tm"||Ee[De].ty==="rd"||Ee[De].ty==="ms"||Ee[De].ty==="pb"||Ee[De].ty==="zz"||Ee[De].ty==="op"?(Ke?(Qe=_e[De],Qe.closed=!1):(Qe=ShapeModifiers.getModifier(Ee[De].ty),Qe.init(this,Ee[De]),_e[De]=Qe,this.shapeModifiers.push(Qe)),$e.push(Qe)):Ee[De].ty==="rp"&&(Ke?(Qe=_e[De],Qe.closed=!0):(Qe=ShapeModifiers.getModifier(Ee[De].ty),_e[De]=Qe,Qe.init(this,Ee,De,_e),this.shapeModifiers.push(Qe),Be=!1),$e.push(Qe));this.addProcessedElement(Ee[De],De+1)}for(Fe=Me.length,De=0;De<Fe;De+=1)Me[De].closed=!0;for(Fe=$e.length,De=0;De<Fe;De+=1)$e[De].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var Ee,_e=this.stylesList.length;for(Ee=0;Ee<_e;Ee+=1)this.stylesList[Ee].reset();for(this.renderShape(),Ee=0;Ee<_e;Ee+=1)(this.stylesList[Ee]._mdf||this._isFirstFrame)&&(this.stylesList[Ee].msElem&&(this.stylesList[Ee].msElem.setAttribute("d",this.stylesList[Ee].d),this.stylesList[Ee].d="M0 0"+this.stylesList[Ee].d),this.stylesList[Ee].pElem.setAttribute("d",this.stylesList[Ee].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var Ee,_e=this.animatedContents.length,Ce;for(Ee=0;Ee<_e;Ee+=1)Ce=this.animatedContents[Ee],(this._isFirstFrame||Ce.element._isAnimated)&&Ce.data!==!0&&Ce.fn(Ce.data,Ce.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(Ee,_e,Ce,Pe,Re,Ie){this.o=Ee,this.sw=_e,this.sc=Ce,this.fc=Pe,this.m=Re,this.p=Ie,this._mdf={o:!0,sw:!!_e,sc:!!Ce,fc:!!Pe,m:!0,p:!0}}LetterProps.prototype.update=function(Ee,_e,Ce,Pe,Re,Ie){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var Be=!1;return this.o!==Ee&&(this.o=Ee,this._mdf.o=!0,Be=!0),this.sw!==_e&&(this.sw=_e,this._mdf.sw=!0,Be=!0),this.sc!==Ce&&(this.sc=Ce,this._mdf.sc=!0,Be=!0),this.fc!==Pe&&(this.fc=Pe,this._mdf.fc=!0,Be=!0),this.m!==Re&&(this.m=Re,this._mdf.m=!0,Be=!0),Ie.length&&(this.p[0]!==Ie[0]||this.p[1]!==Ie[1]||this.p[4]!==Ie[4]||this.p[5]!==Ie[5]||this.p[12]!==Ie[12]||this.p[13]!==Ie[13])&&(this.p=Ie,this._mdf.p=!0,Be=!0),Be};function TextProperty(Ee,_e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,_e.d&&_e.d.sid&&(_e.d=Ee.globalData.slotManager.getProp(_e.d)),this.data=_e,this.elem=Ee,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(Ee,_e){for(var Ce in _e)Object.prototype.hasOwnProperty.call(_e,Ce)&&(Ee[Ce]=_e[Ce]);return Ee},TextProperty.prototype.setCurrentData=function(Ee){Ee.__complete||this.completeTextData(Ee),this.currentData=Ee,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(Ee){this.effectsSequence.push(Ee),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(Ee){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!Ee)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var _e=this.currentData,Ce=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var Pe,Re=this.effectsSequence.length,Ie=Ee||this.data.d.k[this.keysIndex].s;for(Pe=0;Pe<Re;Pe+=1)Ce!==this.keysIndex?Ie=this.effectsSequence[Pe](Ie,Ie.t):Ie=this.effectsSequence[Pe](this.currentData,Ie.t);_e!==Ie&&this.setCurrentData(Ie),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var Ee=this.data.d.k,_e=this.elem.comp.renderedFrame,Ce=0,Pe=Ee.length;Ce<=Pe-1&&!(Ce===Pe-1||Ee[Ce+1].t>_e);)Ce+=1;return this.keysIndex!==Ce&&(this.keysIndex=Ce),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(Ee){for(var _e=[],Ce=0,Pe=Ee.length,Re,Ie,Be=!1,je=!1,De="";Ce<Pe;)Be=je,je=!1,Re=Ee.charCodeAt(Ce),De=Ee.charAt(Ce),FontManager.isCombinedCharacter(Re)?Be=!0:Re>=55296&&Re<=56319?FontManager.isRegionalFlag(Ee,Ce)?De=Ee.substr(Ce,14):(Ie=Ee.charCodeAt(Ce+1),Ie>=56320&&Ie<=57343&&(FontManager.isModifier(Re,Ie)?(De=Ee.substr(Ce,2),Be=!0):FontManager.isFlagEmoji(Ee.substr(Ce,4))?De=Ee.substr(Ce,4):De=Ee.substr(Ce,2))):Re>56319?(Ie=Ee.charCodeAt(Ce+1),FontManager.isVariationSelector(Re)&&(Be=!0)):FontManager.isZeroWidthJoiner(Re)&&(Be=!0,je=!0),Be?(_e[_e.length-1]+=De,Be=!1):_e.push(De),Ce+=De.length;return _e},TextProperty.prototype.completeTextData=function(Ee){Ee.__complete=!0;var _e=this.elem.globalData.fontManager,Ce=this.data,Pe=[],Re,Ie,Be,je=0,De,Fe=Ce.m.g,Oe=0,ke=0,Me=0,$e=[],He=0,Qe=0,Ke,ze,We=_e.getFontByName(Ee.f),qe,Ye=0,Xe=getFontProperties(We);Ee.fWeight=Xe.weight,Ee.fStyle=Xe.style,Ee.finalSize=Ee.s,Ee.finalText=this.buildFinalText(Ee.t),Ie=Ee.finalText.length,Ee.finalLineHeight=Ee.lh;var rr=Ee.tr/1e3*Ee.finalSize,Je;if(Ee.sz)for(var er=!0,or=Ee.sz[0],pr=Ee.sz[1],ar,fr;er;){fr=this.buildFinalText(Ee.t),ar=0,He=0,Ie=fr.length,rr=Ee.tr/1e3*Ee.finalSize;var gr=-1;for(Re=0;Re<Ie;Re+=1)Je=fr[Re].charCodeAt(0),Be=!1,fr[Re]===" "?gr=Re:(Je===13||Je===3)&&(He=0,Be=!0,ar+=Ee.finalLineHeight||Ee.finalSize*1.2),_e.chars?(qe=_e.getCharData(fr[Re],We.fStyle,We.fFamily),Ye=Be?0:qe.w*Ee.finalSize/100):Ye=_e.measureText(fr[Re],Ee.f,Ee.finalSize),He+Ye>or&&fr[Re]!==" "?(gr===-1?Ie+=1:Re=gr,ar+=Ee.finalLineHeight||Ee.finalSize*1.2,fr.splice(Re,gr===Re?1:0,"\r"),gr=-1,He=0):(He+=Ye,He+=rr);ar+=We.ascent*Ee.finalSize/100,this.canResize&&Ee.finalSize>this.minimumFontSize&&pr<ar?(Ee.finalSize-=1,Ee.finalLineHeight=Ee.finalSize*Ee.lh/Ee.s):(Ee.finalText=fr,Ie=Ee.finalText.length,er=!1)}He=-rr,Ye=0;var Rr=0,Ir;for(Re=0;Re<Ie;Re+=1)if(Be=!1,Ir=Ee.finalText[Re],Je=Ir.charCodeAt(0),Je===13||Je===3?(Rr=0,$e.push(He),Qe=He>Qe?He:Qe,He=-2*rr,De="",Be=!0,Me+=1):De=Ir,_e.chars?(qe=_e.getCharData(Ir,We.fStyle,_e.getFontByName(Ee.f).fFamily),Ye=Be?0:qe.w*Ee.finalSize/100):Ye=_e.measureText(De,Ee.f,Ee.finalSize),Ir===" "?Rr+=Ye+rr:(He+=Ye+rr+Rr,Rr=0),Pe.push({l:Ye,an:Ye,add:Oe,n:Be,anIndexes:[],val:De,line:Me,animatorJustifyOffset:0}),Fe==2){if(Oe+=Ye,De===""||De===" "||Re===Ie-1){for((De===""||De===" ")&&(Oe-=Ye);ke<=Re;)Pe[ke].an=Oe,Pe[ke].ind=je,Pe[ke].extra=Ye,ke+=1;je+=1,Oe=0}}else if(Fe==3){if(Oe+=Ye,De===""||Re===Ie-1){for(De===""&&(Oe-=Ye);ke<=Re;)Pe[ke].an=Oe,Pe[ke].ind=je,Pe[ke].extra=Ye,ke+=1;Oe=0,je+=1}}else Pe[je].ind=je,Pe[je].extra=0,je+=1;if(Ee.l=Pe,Qe=He>Qe?He:Qe,$e.push(He),Ee.sz)Ee.boxWidth=Ee.sz[0],Ee.justifyOffset=0;else switch(Ee.boxWidth=Qe,Ee.j){case 1:Ee.justifyOffset=-Ee.boxWidth;break;case 2:Ee.justifyOffset=-Ee.boxWidth/2;break;default:Ee.justifyOffset=0}Ee.lineWidths=$e;var mr=Ce.a,Er,Ar;ze=mr.length;var br,wr,jr=[];for(Ke=0;Ke<ze;Ke+=1){for(Er=mr[Ke],Er.a.sc&&(Ee.strokeColorAnim=!0),Er.a.sw&&(Ee.strokeWidthAnim=!0),(Er.a.fc||Er.a.fh||Er.a.fs||Er.a.fb)&&(Ee.fillColorAnim=!0),wr=0,br=Er.s.b,Re=0;Re<Ie;Re+=1)Ar=Pe[Re],Ar.anIndexes[Ke]=wr,(br==1&&Ar.val!==""||br==2&&Ar.val!==""&&Ar.val!==" "||br==3&&(Ar.n||Ar.val==" "||Re==Ie-1)||br==4&&(Ar.n||Re==Ie-1))&&(Er.s.rn===1&&jr.push(wr),wr+=1);Ce.a[Ke].s.totalChars=wr;var hr=-1,_r;if(Er.s.rn===1)for(Re=0;Re<Ie;Re+=1)Ar=Pe[Re],hr!=Ar.anIndexes[Ke]&&(hr=Ar.anIndexes[Ke],_r=jr.splice(Math.floor(Math.random()*jr.length),1)[0]),Ar.anIndexes[Ke]=_r}Ee.yOffset=Ee.finalLineHeight||Ee.finalSize*1.2,Ee.ls=Ee.ls||0,Ee.ascent=We.ascent*Ee.finalSize/100},TextProperty.prototype.updateDocumentData=function(Ee,_e){_e=_e===void 0?this.keysIndex:_e;var Ce=this.copyData({},this.data.d.k[_e].s);Ce=this.copyData(Ce,Ee),this.data.d.k[_e].s=Ce,this.recalculate(_e),this.setCurrentData(Ce),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(Ee){var _e=this.data.d.k[Ee].s;_e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(_e)},TextProperty.prototype.canResizeFont=function(Ee){this.canResize=Ee,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(Ee){this.minimumFontSize=Math.floor(Ee)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var Ee=Math.max,_e=Math.min,Ce=Math.floor;function Pe(Ie,Be){this._currentTextLength=-1,this.k=!1,this.data=Be,this.elem=Ie,this.comp=Ie.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(Ie),this.s=PropertyFactory.getProp(Ie,Be.s||{k:0},0,0,this),"e"in Be?this.e=PropertyFactory.getProp(Ie,Be.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(Ie,Be.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(Ie,Be.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(Ie,Be.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(Ie,Be.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(Ie,Be.a,0,.01,this),this.dynamicProperties.length||this.getValue()}Pe.prototype={getMult:function(Be){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var je=0,De=0,Fe=1,Oe=1;this.ne.v>0?je=this.ne.v/100:De=-this.ne.v/100,this.xe.v>0?Fe=1-this.xe.v/100:Oe=1+this.xe.v/100;var ke=BezierFactory.getBezierEasing(je,De,Fe,Oe).get,Me=0,$e=this.finalS,He=this.finalE,Qe=this.data.sh;if(Qe===2)He===$e?Me=Be>=He?1:0:Me=Ee(0,_e(.5/(He-$e)+(Be-$e)/(He-$e),1)),Me=ke(Me);else if(Qe===3)He===$e?Me=Be>=He?0:1:Me=1-Ee(0,_e(.5/(He-$e)+(Be-$e)/(He-$e),1)),Me=ke(Me);else if(Qe===4)He===$e?Me=0:(Me=Ee(0,_e(.5/(He-$e)+(Be-$e)/(He-$e),1)),Me<.5?Me*=2:Me=1-2*(Me-.5)),Me=ke(Me);else if(Qe===5){if(He===$e)Me=0;else{var Ke=He-$e;Be=_e(Ee(0,Be+.5-$e),He-$e);var ze=-Ke/2+Be,We=Ke/2;Me=Math.sqrt(1-ze*ze/(We*We))}Me=ke(Me)}else Qe===6?(He===$e?Me=0:(Be=_e(Ee(0,Be+.5-$e),He-$e),Me=(1+Math.cos(Math.PI+Math.PI*2*Be/(He-$e)))/2),Me=ke(Me)):(Be>=Ce($e)&&(Be-$e<0?Me=Ee(0,_e(_e(He,1)-($e-Be),1)):Me=Ee(0,_e(He-Be,1))),Me=ke(Me));if(this.sm.v!==100){var qe=this.sm.v*.01;qe===0&&(qe=1e-8);var Ye=.5-qe*.5;Me<Ye?Me=0:(Me=(Me-Ye)/qe,Me>1&&(Me=1))}return Me*this.a.v},getValue:function(Be){this.iterateDynamicProperties(),this._mdf=Be||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,Be&&this.data.r===2&&(this.e.v=this._currentTextLength);var je=this.data.r===2?1:100/this.data.totalChars,De=this.o.v/je,Fe=this.s.v/je+De,Oe=this.e.v/je+De;if(Fe>Oe){var ke=Fe;Fe=Oe,Oe=ke}this.finalS=Fe,this.finalE=Oe}},extendPrototype([DynamicPropertyContainer],Pe);function Re(Ie,Be,je){return new Pe(Ie,Be)}return{getTextSelectorProp:Re}}();function TextAnimatorDataProperty(Ee,_e,Ce){var Pe={propType:!1},Re=PropertyFactory.getProp,Ie=_e.a;this.a={r:Ie.r?Re(Ee,Ie.r,0,degToRads,Ce):Pe,rx:Ie.rx?Re(Ee,Ie.rx,0,degToRads,Ce):Pe,ry:Ie.ry?Re(Ee,Ie.ry,0,degToRads,Ce):Pe,sk:Ie.sk?Re(Ee,Ie.sk,0,degToRads,Ce):Pe,sa:Ie.sa?Re(Ee,Ie.sa,0,degToRads,Ce):Pe,s:Ie.s?Re(Ee,Ie.s,1,.01,Ce):Pe,a:Ie.a?Re(Ee,Ie.a,1,0,Ce):Pe,o:Ie.o?Re(Ee,Ie.o,0,.01,Ce):Pe,p:Ie.p?Re(Ee,Ie.p,1,0,Ce):Pe,sw:Ie.sw?Re(Ee,Ie.sw,0,0,Ce):Pe,sc:Ie.sc?Re(Ee,Ie.sc,1,0,Ce):Pe,fc:Ie.fc?Re(Ee,Ie.fc,1,0,Ce):Pe,fh:Ie.fh?Re(Ee,Ie.fh,0,0,Ce):Pe,fs:Ie.fs?Re(Ee,Ie.fs,0,.01,Ce):Pe,fb:Ie.fb?Re(Ee,Ie.fb,0,.01,Ce):Pe,t:Ie.t?Re(Ee,Ie.t,0,0,Ce):Pe},this.s=TextSelectorProp.getTextSelectorProp(Ee,_e.s,Ce),this.s.t=_e.s.t}function TextAnimatorProperty(Ee,_e,Ce){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=Ee,this._renderType=_e,this._elem=Ce,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(Ce)}TextAnimatorProperty.prototype.searchProperties=function(){var Ee,_e=this._textData.a.length,Ce,Pe=PropertyFactory.getProp;for(Ee=0;Ee<_e;Ee+=1)Ce=this._textData.a[Ee],this._animatorsData[Ee]=new TextAnimatorDataProperty(this._elem,Ce,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:Pe(this._elem,this._textData.p.a,0,0,this),f:Pe(this._elem,this._textData.p.f,0,0,this),l:Pe(this._elem,this._textData.p.l,0,0,this),r:Pe(this._elem,this._textData.p.r,0,0,this),p:Pe(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=Pe(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(Ee,_e){if(this.lettersChangedFlag=_e,!(!this._mdf&&!this._isFirstFrame&&!_e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var Ce=this._moreOptions.alignment.v,Pe=this._animatorsData,Re=this._textData,Ie=this.mHelper,Be=this._renderType,je=this.renderedLetters.length,De,Fe,Oe,ke,Me=Ee.l,$e,He,Qe,Ke,ze,We,qe,Ye,Xe,rr,Je,er,or,pr,ar;if(this._hasMaskedPath){if(ar=this._pathData.m,!this._pathData.n||this._pathData._mdf){var fr=ar.v;this._pathData.r.v&&(fr=fr.reverse()),$e={tLength:0,segments:[]},ke=fr._length-1;var gr;for(er=0,Oe=0;Oe<ke;Oe+=1)gr=bez.buildBezierData(fr.v[Oe],fr.v[Oe+1],[fr.o[Oe][0]-fr.v[Oe][0],fr.o[Oe][1]-fr.v[Oe][1]],[fr.i[Oe+1][0]-fr.v[Oe+1][0],fr.i[Oe+1][1]-fr.v[Oe+1][1]]),$e.tLength+=gr.segmentLength,$e.segments.push(gr),er+=gr.segmentLength;Oe=ke,ar.v.c&&(gr=bez.buildBezierData(fr.v[Oe],fr.v[0],[fr.o[Oe][0]-fr.v[Oe][0],fr.o[Oe][1]-fr.v[Oe][1]],[fr.i[0][0]-fr.v[0][0],fr.i[0][1]-fr.v[0][1]]),$e.tLength+=gr.segmentLength,$e.segments.push(gr),er+=gr.segmentLength),this._pathData.pi=$e}if($e=this._pathData.pi,He=this._pathData.f.v,qe=0,We=1,Ke=0,ze=!0,rr=$e.segments,He<0&&ar.v.c)for($e.tLength<Math.abs(He)&&(He=-Math.abs(He)%$e.tLength),qe=rr.length-1,Xe=rr[qe].points,We=Xe.length-1;He<0;)He+=Xe[We].partialLength,We-=1,We<0&&(qe-=1,Xe=rr[qe].points,We=Xe.length-1);Xe=rr[qe].points,Ye=Xe[We-1],Qe=Xe[We],Je=Qe.partialLength}ke=Me.length,De=0,Fe=0;var Rr=Ee.finalSize*1.2*.714,Ir=!0,mr,Er,Ar,br,wr;br=Pe.length;var jr,hr=-1,_r,Pr,Cr,Or=He,Yr=qe,qr=We,Kr=-1,Zr,yn,mn,Cn,bn,wn,Jr,qn,ci="",Jn=this.defaultPropsArray,ui;if(Ee.j===2||Ee.j===1){var li=0,mi=0,wi=Ee.j===2?-.5:-1,Di=0,$i=!0;for(Oe=0;Oe<ke;Oe+=1)if(Me[Oe].n){for(li&&(li+=mi);Di<Oe;)Me[Di].animatorJustifyOffset=li,Di+=1;li=0,$i=!0}else{for(Ar=0;Ar<br;Ar+=1)mr=Pe[Ar].a,mr.t.propType&&($i&&Ee.j===2&&(mi+=mr.t.v*wi),Er=Pe[Ar].s,jr=Er.getMult(Me[Oe].anIndexes[Ar],Re.a[Ar].s.totalChars),jr.length?li+=mr.t.v*jr[0]*wi:li+=mr.t.v*jr*wi);$i=!1}for(li&&(li+=mi);Di<Oe;)Me[Di].animatorJustifyOffset=li,Di+=1}for(Oe=0;Oe<ke;Oe+=1){if(Ie.reset(),Zr=1,Me[Oe].n)De=0,Fe+=Ee.yOffset,Fe+=Ir?1:0,He=Or,Ir=!1,this._hasMaskedPath&&(qe=Yr,We=qr,Xe=rr[qe].points,Ye=Xe[We-1],Qe=Xe[We],Je=Qe.partialLength,Ke=0),ci="",qn="",wn="",ui="",Jn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Kr!==Me[Oe].line){switch(Ee.j){case 1:He+=er-Ee.lineWidths[Me[Oe].line];break;case 2:He+=(er-Ee.lineWidths[Me[Oe].line])/2;break}Kr=Me[Oe].line}hr!==Me[Oe].ind&&(Me[hr]&&(He+=Me[hr].extra),He+=Me[Oe].an/2,hr=Me[Oe].ind),He+=Ce[0]*Me[Oe].an*.005;var Si=0;for(Ar=0;Ar<br;Ar+=1)mr=Pe[Ar].a,mr.p.propType&&(Er=Pe[Ar].s,jr=Er.getMult(Me[Oe].anIndexes[Ar],Re.a[Ar].s.totalChars),jr.length?Si+=mr.p.v[0]*jr[0]:Si+=mr.p.v[0]*jr),mr.a.propType&&(Er=Pe[Ar].s,jr=Er.getMult(Me[Oe].anIndexes[Ar],Re.a[Ar].s.totalChars),jr.length?Si+=mr.a.v[0]*jr[0]:Si+=mr.a.v[0]*jr);for(ze=!0,this._pathData.a.v&&(He=Me[0].an*.5+(er-this._pathData.f.v-Me[0].an*.5-Me[Me.length-1].an*.5)*hr/(ke-1),He+=this._pathData.f.v);ze;)Ke+Je>=He+Si||!Xe?(or=(He+Si-Ke)/Qe.partialLength,Pr=Ye.point[0]+(Qe.point[0]-Ye.point[0])*or,Cr=Ye.point[1]+(Qe.point[1]-Ye.point[1])*or,Ie.translate(-Ce[0]*Me[Oe].an*.005,-(Ce[1]*Rr)*.01),ze=!1):Xe&&(Ke+=Qe.partialLength,We+=1,We>=Xe.length&&(We=0,qe+=1,rr[qe]?Xe=rr[qe].points:ar.v.c?(We=0,qe=0,Xe=rr[qe].points):(Ke-=Qe.partialLength,Xe=null)),Xe&&(Ye=Qe,Qe=Xe[We],Je=Qe.partialLength));_r=Me[Oe].an/2-Me[Oe].add,Ie.translate(-_r,0,0)}else _r=Me[Oe].an/2-Me[Oe].add,Ie.translate(-_r,0,0),Ie.translate(-Ce[0]*Me[Oe].an*.005,-Ce[1]*Rr*.01,0);for(Ar=0;Ar<br;Ar+=1)mr=Pe[Ar].a,mr.t.propType&&(Er=Pe[Ar].s,jr=Er.getMult(Me[Oe].anIndexes[Ar],Re.a[Ar].s.totalChars),(De!==0||Ee.j!==0)&&(this._hasMaskedPath?jr.length?He+=mr.t.v*jr[0]:He+=mr.t.v*jr:jr.length?De+=mr.t.v*jr[0]:De+=mr.t.v*jr));for(Ee.strokeWidthAnim&&(mn=Ee.sw||0),Ee.strokeColorAnim&&(Ee.sc?yn=[Ee.sc[0],Ee.sc[1],Ee.sc[2]]:yn=[0,0,0]),Ee.fillColorAnim&&Ee.fc&&(Cn=[Ee.fc[0],Ee.fc[1],Ee.fc[2]]),Ar=0;Ar<br;Ar+=1)mr=Pe[Ar].a,mr.a.propType&&(Er=Pe[Ar].s,jr=Er.getMult(Me[Oe].anIndexes[Ar],Re.a[Ar].s.totalChars),jr.length?Ie.translate(-mr.a.v[0]*jr[0],-mr.a.v[1]*jr[1],mr.a.v[2]*jr[2]):Ie.translate(-mr.a.v[0]*jr,-mr.a.v[1]*jr,mr.a.v[2]*jr));for(Ar=0;Ar<br;Ar+=1)mr=Pe[Ar].a,mr.s.propType&&(Er=Pe[Ar].s,jr=Er.getMult(Me[Oe].anIndexes[Ar],Re.a[Ar].s.totalChars),jr.length?Ie.scale(1+(mr.s.v[0]-1)*jr[0],1+(mr.s.v[1]-1)*jr[1],1):Ie.scale(1+(mr.s.v[0]-1)*jr,1+(mr.s.v[1]-1)*jr,1));for(Ar=0;Ar<br;Ar+=1){if(mr=Pe[Ar].a,Er=Pe[Ar].s,jr=Er.getMult(Me[Oe].anIndexes[Ar],Re.a[Ar].s.totalChars),mr.sk.propType&&(jr.length?Ie.skewFromAxis(-mr.sk.v*jr[0],mr.sa.v*jr[1]):Ie.skewFromAxis(-mr.sk.v*jr,mr.sa.v*jr)),mr.r.propType&&(jr.length?Ie.rotateZ(-mr.r.v*jr[2]):Ie.rotateZ(-mr.r.v*jr)),mr.ry.propType&&(jr.length?Ie.rotateY(mr.ry.v*jr[1]):Ie.rotateY(mr.ry.v*jr)),mr.rx.propType&&(jr.length?Ie.rotateX(mr.rx.v*jr[0]):Ie.rotateX(mr.rx.v*jr)),mr.o.propType&&(jr.length?Zr+=(mr.o.v*jr[0]-Zr)*jr[0]:Zr+=(mr.o.v*jr-Zr)*jr),Ee.strokeWidthAnim&&mr.sw.propType&&(jr.length?mn+=mr.sw.v*jr[0]:mn+=mr.sw.v*jr),Ee.strokeColorAnim&&mr.sc.propType)for(bn=0;bn<3;bn+=1)jr.length?yn[bn]+=(mr.sc.v[bn]-yn[bn])*jr[0]:yn[bn]+=(mr.sc.v[bn]-yn[bn])*jr;if(Ee.fillColorAnim&&Ee.fc){if(mr.fc.propType)for(bn=0;bn<3;bn+=1)jr.length?Cn[bn]+=(mr.fc.v[bn]-Cn[bn])*jr[0]:Cn[bn]+=(mr.fc.v[bn]-Cn[bn])*jr;mr.fh.propType&&(jr.length?Cn=addHueToRGB(Cn,mr.fh.v*jr[0]):Cn=addHueToRGB(Cn,mr.fh.v*jr)),mr.fs.propType&&(jr.length?Cn=addSaturationToRGB(Cn,mr.fs.v*jr[0]):Cn=addSaturationToRGB(Cn,mr.fs.v*jr)),mr.fb.propType&&(jr.length?Cn=addBrightnessToRGB(Cn,mr.fb.v*jr[0]):Cn=addBrightnessToRGB(Cn,mr.fb.v*jr))}}for(Ar=0;Ar<br;Ar+=1)mr=Pe[Ar].a,mr.p.propType&&(Er=Pe[Ar].s,jr=Er.getMult(Me[Oe].anIndexes[Ar],Re.a[Ar].s.totalChars),this._hasMaskedPath?jr.length?Ie.translate(0,mr.p.v[1]*jr[0],-mr.p.v[2]*jr[1]):Ie.translate(0,mr.p.v[1]*jr,-mr.p.v[2]*jr):jr.length?Ie.translate(mr.p.v[0]*jr[0],mr.p.v[1]*jr[1],-mr.p.v[2]*jr[2]):Ie.translate(mr.p.v[0]*jr,mr.p.v[1]*jr,-mr.p.v[2]*jr));if(Ee.strokeWidthAnim&&(wn=mn<0?0:mn),Ee.strokeColorAnim&&(Jr="rgb("+Math.round(yn[0]*255)+","+Math.round(yn[1]*255)+","+Math.round(yn[2]*255)+")"),Ee.fillColorAnim&&Ee.fc&&(qn="rgb("+Math.round(Cn[0]*255)+","+Math.round(Cn[1]*255)+","+Math.round(Cn[2]*255)+")"),this._hasMaskedPath){if(Ie.translate(0,-Ee.ls),Ie.translate(0,Ce[1]*Rr*.01+Fe,0),this._pathData.p.v){pr=(Qe.point[1]-Ye.point[1])/(Qe.point[0]-Ye.point[0]);var Bi=Math.atan(pr)*180/Math.PI;Qe.point[0]<Ye.point[0]&&(Bi+=180),Ie.rotate(-Bi*Math.PI/180)}Ie.translate(Pr,Cr,0),He-=Ce[0]*Me[Oe].an*.005,Me[Oe+1]&&hr!==Me[Oe+1].ind&&(He+=Me[Oe].an/2,He+=Ee.tr*.001*Ee.finalSize)}else{switch(Ie.translate(De,Fe,0),Ee.ps&&Ie.translate(Ee.ps[0],Ee.ps[1]+Ee.ascent,0),Ee.j){case 1:Ie.translate(Me[Oe].animatorJustifyOffset+Ee.justifyOffset+(Ee.boxWidth-Ee.lineWidths[Me[Oe].line]),0,0);break;case 2:Ie.translate(Me[Oe].animatorJustifyOffset+Ee.justifyOffset+(Ee.boxWidth-Ee.lineWidths[Me[Oe].line])/2,0,0);break}Ie.translate(0,-Ee.ls),Ie.translate(_r,0,0),Ie.translate(Ce[0]*Me[Oe].an*.005,Ce[1]*Rr*.01,0),De+=Me[Oe].l+Ee.tr*.001*Ee.finalSize}Be==="html"?ci=Ie.toCSS():Be==="svg"?ci=Ie.to2dCSS():Jn=[Ie.props[0],Ie.props[1],Ie.props[2],Ie.props[3],Ie.props[4],Ie.props[5],Ie.props[6],Ie.props[7],Ie.props[8],Ie.props[9],Ie.props[10],Ie.props[11],Ie.props[12],Ie.props[13],Ie.props[14],Ie.props[15]],ui=Zr}je<=Oe?(wr=new LetterProps(ui,wn,Jr,qn,ci,Jn),this.renderedLetters.push(wr),je+=1,this.lettersChangedFlag=!0):(wr=this.renderedLetters[Oe],this.lettersChangedFlag=wr.update(ui,wn,Jr,qn,ci,Jn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(Ee,_e,Ce){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(Ee,_e,Ce),this.textProperty=new TextProperty(this,Ee.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(Ee.t,this.renderType,this),this.initTransform(Ee,_e,Ce),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(Ee){this._mdf=!1,this.prepareRenderableFrame(Ee),this.prepareProperties(Ee,this.isInRange)},ITextElement.prototype.createPathShape=function(Ee,_e){var Ce,Pe=_e.length,Re,Ie="";for(Ce=0;Ce<Pe;Ce+=1)_e[Ce].ty==="sh"&&(Re=_e[Ce].ks.k,Ie+=buildShapeString(Re,Re.i.length,!0,Ee));return Ie},ITextElement.prototype.updateDocumentData=function(Ee,_e){this.textProperty.updateDocumentData(Ee,_e)},ITextElement.prototype.canResizeFont=function(Ee){this.textProperty.canResizeFont(Ee)},ITextElement.prototype.setMinimumFontSize=function(Ee){this.textProperty.setMinimumFontSize(Ee)},ITextElement.prototype.applyTextPropertiesToMatrix=function(Ee,_e,Ce,Pe,Re){switch(Ee.ps&&_e.translate(Ee.ps[0],Ee.ps[1]+Ee.ascent,0),_e.translate(0,-Ee.ls,0),Ee.j){case 1:_e.translate(Ee.justifyOffset+(Ee.boxWidth-Ee.lineWidths[Ce]),0,0);break;case 2:_e.translate(Ee.justifyOffset+(Ee.boxWidth-Ee.lineWidths[Ce])/2,0,0);break}_e.translate(Pe,Re,0)},ITextElement.prototype.buildColor=function(Ee){return"rgb("+Math.round(Ee[0]*255)+","+Math.round(Ee[1]*255)+","+Math.round(Ee[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(Ee,_e,Ce){this.textSpans=[],this.renderType="svg",this.initElement(Ee,_e,Ce)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(Ee){for(var _e=0,Ce=Ee.length,Pe=[],Re="";_e<Ce;)Ee[_e]==="\r"||Ee[_e]===""?(Pe.push(Re),Re=""):Re+=Ee[_e],_e+=1;return Pe.push(Re),Pe},SVGTextLottieElement.prototype.buildShapeData=function(Ee,_e){if(Ee.shapes&&Ee.shapes.length){var Ce=Ee.shapes[0];if(Ce.it){var Pe=Ce.it[Ce.it.length-1];Pe.s&&(Pe.s.k[0]=_e,Pe.s.k[1]=_e)}}return Ee},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var Ee,_e,Ce=this.textProperty.currentData;this.renderedLetters=createSizedArray(Ce?Ce.l.length:0),Ce.fc?this.layerElement.setAttribute("fill",this.buildColor(Ce.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),Ce.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(Ce.sc)),this.layerElement.setAttribute("stroke-width",Ce.sw)),this.layerElement.setAttribute("font-size",Ce.finalSize);var Pe=this.globalData.fontManager.getFontByName(Ce.f);if(Pe.fClass)this.layerElement.setAttribute("class",Pe.fClass);else{this.layerElement.setAttribute("font-family",Pe.fFamily);var Re=Ce.fWeight,Ie=Ce.fStyle;this.layerElement.setAttribute("font-style",Ie),this.layerElement.setAttribute("font-weight",Re)}this.layerElement.setAttribute("aria-label",Ce.t);var Be=Ce.l||[],je=!!this.globalData.fontManager.chars;_e=Be.length;var De,Fe=this.mHelper,Oe="",ke=this.data.singleShape,Me=0,$e=0,He=!0,Qe=Ce.tr*.001*Ce.finalSize;if(ke&&!je&&!Ce.sz){var Ke=this.textContainer,ze="start";switch(Ce.j){case 1:ze="end";break;case 2:ze="middle";break;default:ze="start";break}Ke.setAttribute("text-anchor",ze),Ke.setAttribute("letter-spacing",Qe);var We=this.buildTextContents(Ce.finalText);for(_e=We.length,$e=Ce.ps?Ce.ps[1]+Ce.ascent:0,Ee=0;Ee<_e;Ee+=1)De=this.textSpans[Ee].span||createNS("tspan"),De.textContent=We[Ee],De.setAttribute("x",0),De.setAttribute("y",$e),De.style.display="inherit",Ke.appendChild(De),this.textSpans[Ee]||(this.textSpans[Ee]={span:null,glyph:null}),this.textSpans[Ee].span=De,$e+=Ce.finalLineHeight;this.layerElement.appendChild(Ke)}else{var qe=this.textSpans.length,Ye;for(Ee=0;Ee<_e;Ee+=1){if(this.textSpans[Ee]||(this.textSpans[Ee]={span:null,childSpan:null,glyph:null}),!je||!ke||Ee===0){if(De=qe>Ee?this.textSpans[Ee].span:createNS(je?"g":"text"),qe<=Ee){if(De.setAttribute("stroke-linecap","butt"),De.setAttribute("stroke-linejoin","round"),De.setAttribute("stroke-miterlimit","4"),this.textSpans[Ee].span=De,je){var Xe=createNS("g");De.appendChild(Xe),this.textSpans[Ee].childSpan=Xe}this.textSpans[Ee].span=De,this.layerElement.appendChild(De)}De.style.display="inherit"}if(Fe.reset(),ke&&(Be[Ee].n&&(Me=-Qe,$e+=Ce.yOffset,$e+=He?1:0,He=!1),this.applyTextPropertiesToMatrix(Ce,Fe,Be[Ee].line,Me,$e),Me+=Be[Ee].l||0,Me+=Qe),je){Ye=this.globalData.fontManager.getCharData(Ce.finalText[Ee],Pe.fStyle,this.globalData.fontManager.getFontByName(Ce.f).fFamily);var rr;if(Ye.t===1)rr=new SVGCompElement(Ye.data,this.globalData,this);else{var Je=emptyShapeData;Ye.data&&Ye.data.shapes&&(Je=this.buildShapeData(Ye.data,Ce.finalSize)),rr=new SVGShapeElement(Je,this.globalData,this)}if(this.textSpans[Ee].glyph){var er=this.textSpans[Ee].glyph;this.textSpans[Ee].childSpan.removeChild(er.layerElement),er.destroy()}this.textSpans[Ee].glyph=rr,rr._debug=!0,rr.prepareFrame(0),rr.renderFrame(),this.textSpans[Ee].childSpan.appendChild(rr.layerElement),Ye.t===1&&this.textSpans[Ee].childSpan.setAttribute("transform","scale("+Ce.finalSize/100+","+Ce.finalSize/100+")")}else ke&&De.setAttribute("transform","translate("+Fe.props[12]+","+Fe.props[13]+")"),De.textContent=Be[Ee].val,De.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ke&&De&&De.setAttribute("d",Oe)}for(;Ee<this.textSpans.length;)this.textSpans[Ee].span.style.display="none",Ee+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var Ee=this.layerElement.getBBox();this.bbox={top:Ee.y,left:Ee.x,width:Ee.width,height:Ee.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var Ee,_e=this.textSpans.length,Ce;for(this.renderedFrame=this.comp.renderedFrame,Ee=0;Ee<_e;Ee+=1)Ce=this.textSpans[Ee].glyph,Ce&&(Ce.prepareFrame(this.comp.renderedFrame-this.data.st),Ce._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var Ee,_e,Ce=this.textAnimator.renderedLetters,Pe=this.textProperty.currentData.l;_e=Pe.length;var Re,Ie,Be;for(Ee=0;Ee<_e;Ee+=1)Pe[Ee].n||(Re=Ce[Ee],Ie=this.textSpans[Ee].span,Be=this.textSpans[Ee].glyph,Be&&Be.renderFrame(),Re._mdf.m&&Ie.setAttribute("transform",Re.m),Re._mdf.o&&Ie.setAttribute("opacity",Re.o),Re._mdf.sw&&Ie.setAttribute("stroke-width",Re.sw),Re._mdf.sc&&Ie.setAttribute("stroke",Re.sc),Re._mdf.fc&&Ie.setAttribute("fill",Re.fc))}};function ISolidElement(Ee,_e,Ce){this.initElement(Ee,_e,Ce)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var Ee=createNS("rect");Ee.setAttribute("width",this.data.sw),Ee.setAttribute("height",this.data.sh),Ee.setAttribute("fill",this.data.sc),this.layerElement.appendChild(Ee)};function NullElement(Ee,_e,Ce){this.initFrame(),this.initBaseData(Ee,_e,Ce),this.initFrame(),this.initTransform(Ee,_e,Ce),this.initHierarchy()}NullElement.prototype.prepareFrame=function(Ee){this.prepareProperties(Ee,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(Ee){return new NullElement(Ee,this.globalData,this)},SVGRendererBase.prototype.createShape=function(Ee){return new SVGShapeElement(Ee,this.globalData,this)},SVGRendererBase.prototype.createText=function(Ee){return new SVGTextLottieElement(Ee,this.globalData,this)},SVGRendererBase.prototype.createImage=function(Ee){return new IImageElement(Ee,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(Ee){return new ISolidElement(Ee,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(Ee){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+Ee.w+" "+Ee.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",Ee.w),this.svgElement.setAttribute("height",Ee.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var _e=this.globalData.defs;this.setupGlobalData(Ee,_e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=Ee;var Ce=createNS("clipPath"),Pe=createNS("rect");Pe.setAttribute("width",Ee.w),Pe.setAttribute("height",Ee.h),Pe.setAttribute("x",0),Pe.setAttribute("y",0);var Re=createElementID();Ce.setAttribute("id",Re),Ce.appendChild(Pe),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Re+")"),_e.appendChild(Ce),this.layers=Ee.layers,this.elements=createSizedArray(Ee.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var Ee,_e=this.layers?this.layers.length:0;for(Ee=0;Ee<_e;Ee+=1)this.elements[Ee]&&this.elements[Ee].destroy&&this.elements[Ee].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(Ee){var _e=0,Ce=this.layers.length;for(_e=0;_e<Ce;_e+=1)if(this.layers[_e].ind===Ee)return _e;return-1},SVGRendererBase.prototype.buildItem=function(Ee){var _e=this.elements;if(!(_e[Ee]||this.layers[Ee].ty===99)){_e[Ee]=!0;var Ce=this.createItem(this.layers[Ee]);if(_e[Ee]=Ce,getExpressionsPlugin()&&(this.layers[Ee].ty===0&&this.globalData.projectInterface.registerComposition(Ce),Ce.initExpressions()),this.appendElementInPos(Ce,Ee),this.layers[Ee].tt){var Pe="tp"in this.layers[Ee]?this.findIndexByInd(this.layers[Ee].tp):Ee-1;if(Pe===-1)return;if(!this.elements[Pe]||this.elements[Pe]===!0)this.buildItem(Pe),this.addPendingElement(Ce);else{var Re=_e[Pe],Ie=Re.getMatte(this.layers[Ee].tt);Ce.setMatte(Ie)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Ee=this.pendingElements.pop();if(Ee.checkParenting(),Ee.data.tt)for(var _e=0,Ce=this.elements.length;_e<Ce;){if(this.elements[_e]===Ee){var Pe="tp"in Ee.data?this.findIndexByInd(Ee.data.tp):_e-1,Re=this.elements[Pe],Ie=Re.getMatte(this.layers[_e].tt);Ee.setMatte(Ie);break}_e+=1}}},SVGRendererBase.prototype.renderFrame=function(Ee){if(!(this.renderedFrame===Ee||this.destroyed)){Ee===null?Ee=this.renderedFrame:this.renderedFrame=Ee,this.globalData.frameNum=Ee,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=Ee,this.globalData._mdf=!1;var _e,Ce=this.layers.length;for(this.completeLayers||this.checkLayers(Ee),_e=Ce-1;_e>=0;_e-=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].prepareFrame(Ee-this.layers[_e].st);if(this.globalData._mdf)for(_e=0;_e<Ce;_e+=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(Ee,_e){var Ce=Ee.getBaseElement();if(Ce){for(var Pe=0,Re;Pe<_e;)this.elements[Pe]&&this.elements[Pe]!==!0&&this.elements[Pe].getBaseElement()&&(Re=this.elements[Pe].getBaseElement()),Pe+=1;Re?this.layerElement.insertBefore(Ce,Re):this.layerElement.appendChild(Ce)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(Ee,_e,Ce){this.initFrame(),this.initBaseData(Ee,_e,Ce),this.initTransform(Ee,_e,Ce),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!_e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(Ee){if(this._mdf=!1,this.prepareRenderableFrame(Ee),this.prepareProperties(Ee,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=Ee/this.data.sr;else{var _e=this.tm.v;_e===this.data.op&&(_e=this.data.op-1),this.renderedFrame=_e}var Ce,Pe=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),Ce=Pe-1;Ce>=0;Ce-=1)(this.completeLayers||this.elements[Ce])&&(this.elements[Ce].prepareFrame(this.renderedFrame-this.layers[Ce].st),this.elements[Ce]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var Ee,_e=this.layers.length;for(Ee=0;Ee<_e;Ee+=1)(this.completeLayers||this.elements[Ee])&&this.elements[Ee].renderFrame()},ICompElement.prototype.setElements=function(Ee){this.elements=Ee},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var Ee,_e=this.layers.length;for(Ee=0;Ee<_e;Ee+=1)this.elements[Ee]&&this.elements[Ee].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(Ee,_e,Ce){this.layers=Ee.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(Ee,_e,Ce),this.tm=Ee.tm?PropertyFactory.getProp(this,Ee.tm,0,_e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(Ee){return new SVGCompElement(Ee,this.globalData,this)};function SVGRenderer(Ee,_e){this.animationItem=Ee,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var Ce="";if(_e&&_e.title){var Pe=createNS("title"),Re=createElementID();Pe.setAttribute("id",Re),Pe.textContent=_e.title,this.svgElement.appendChild(Pe),Ce+=Re}if(_e&&_e.description){var Ie=createNS("desc"),Be=createElementID();Ie.setAttribute("id",Be),Ie.textContent=_e.description,this.svgElement.appendChild(Ie),Ce+=" "+Be}Ce&&this.svgElement.setAttribute("aria-labelledby",Ce);var je=createNS("defs");this.svgElement.appendChild(je);var De=createNS("g");this.svgElement.appendChild(De),this.layerElement=De,this.renderConfig={preserveAspectRatio:_e&&_e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_e&&_e.contentVisibility||"visible",progressiveLoad:_e&&_e.progressiveLoad||!1,hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),viewBoxOnly:_e&&_e.viewBoxOnly||!1,viewBoxSize:_e&&_e.viewBoxSize||!1,className:_e&&_e.className||"",id:_e&&_e.id||"",focusable:_e&&_e.focusable,filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"100%",height:_e&&_e.filterSize&&_e.filterSize.height||"100%",x:_e&&_e.filterSize&&_e.filterSize.x||"0%",y:_e&&_e.filterSize&&_e.filterSize.y||"0%"},width:_e&&_e.width,height:_e&&_e.height,runExpressions:!_e||_e.runExpressions===void 0||_e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:je,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(Ee){return new SVGCompElement(Ee,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(_e){var Ce,Pe=_e.length,Re="_";for(Ce=0;Ce<Pe;Ce+=1)Re+=_e[Ce].transform.key+"_";var Ie=this.sequences[Re];return Ie||(Ie={transforms:[].concat(_e),finalTransform:new Matrix,_mdf:!1},this.sequences[Re]=Ie,this.sequenceList.push(Ie)),Ie},processSequence:function(_e,Ce){for(var Pe=0,Re=_e.transforms.length,Ie=Ce;Pe<Re&&!Ce;){if(_e.transforms[Pe].transform.mProps._mdf){Ie=!0;break}Pe+=1}if(Ie)for(_e.finalTransform.reset(),Pe=Re-1;Pe>=0;Pe-=1)_e.finalTransform.multiply(_e.transforms[Pe].transform.mProps.v);_e._mdf=Ie},processSequences:function(_e){var Ce,Pe=this.sequenceList.length;for(Ce=0;Ce<Pe;Ce+=1)this.processSequence(this.sequenceList[Ce],_e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var _e="__lottie_element_luma_buffer",Ce=null,Pe=null,Re=null;function Ie(){var De=createNS("svg"),Fe=createNS("filter"),Oe=createNS("feColorMatrix");return Fe.setAttribute("id",_e),Oe.setAttribute("type","matrix"),Oe.setAttribute("color-interpolation-filters","sRGB"),Oe.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),Fe.appendChild(Oe),De.appendChild(Fe),De.setAttribute("id",_e+"_svg"),featureSupport.svgLumaHidden&&(De.style.display="none"),De}function Be(){Ce||(Re=Ie(),document.body.appendChild(Re),Ce=createTag("canvas"),Pe=Ce.getContext("2d"),Pe.filter="url(#"+_e+")",Pe.fillStyle="rgba(0,0,0,0)",Pe.fillRect(0,0,1,1))}function je(De){return Ce||Be(),Ce.width=De.width,Ce.height=De.height,Pe.filter="url(#"+_e+")",Ce}return{load:Be,get:je}};function createCanvas(Ee,_e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(Ee,_e);var Ce=createTag("canvas");return Ce.width=Ee,Ce.height=_e,Ce}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(Ee){var _e,Ce=Ee.data.ef?Ee.data.ef.length:0;this.filters=[];var Pe;for(_e=0;_e<Ce;_e+=1){Pe=null;var Re=Ee.data.ef[_e].ty;if(registeredEffects[Re]){var Ie=registeredEffects[Re].effect;Pe=new Ie(Ee.effectsManager.effectElements[_e],Ee)}Pe&&this.filters.push(Pe)}this.filters.length&&Ee.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(Ee){var _e,Ce=this.filters.length;for(_e=0;_e<Ce;_e+=1)this.filters[_e].renderFrame(Ee)},CVEffects.prototype.getEffects=function(Ee){var _e,Ce=this.filters.length,Pe=[];for(_e=0;_e<Ce;_e+=1)this.filters[_e].type===Ee&&Pe.push(this.filters[_e]);return Pe};function registerEffect(Ee,_e){registeredEffects[Ee]={effect:_e}}function CVMaskElement(Ee,_e){this.data=Ee,this.element=_e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var Ce,Pe=this.masksProperties.length,Re=!1;for(Ce=0;Ce<Pe;Ce+=1)this.masksProperties[Ce].mode!=="n"&&(Re=!0),this.viewData[Ce]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[Ce],3);this.hasMasks=Re,Re&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var Ee=this.element.finalTransform.mat,_e=this.element.canvasContext,Ce,Pe=this.masksProperties.length,Re,Ie,Be;for(_e.beginPath(),Ce=0;Ce<Pe;Ce+=1)if(this.masksProperties[Ce].mode!=="n"){this.masksProperties[Ce].inv&&(_e.moveTo(0,0),_e.lineTo(this.element.globalData.compSize.w,0),_e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),_e.lineTo(0,this.element.globalData.compSize.h),_e.lineTo(0,0)),Be=this.viewData[Ce].v,Re=Ee.applyToPointArray(Be.v[0][0],Be.v[0][1],0),_e.moveTo(Re[0],Re[1]);var je,De=Be._length;for(je=1;je<De;je+=1)Ie=Ee.applyToTriplePoints(Be.o[je-1],Be.i[je],Be.v[je]),_e.bezierCurveTo(Ie[0],Ie[1],Ie[2],Ie[3],Ie[4],Ie[5]);Ie=Ee.applyToTriplePoints(Be.o[je-1],Be.i[0],Be.v[0]),_e.bezierCurveTo(Ie[0],Ie[1],Ie[2],Ie[3],Ie[4],Ie[5])}this.element.globalData.renderer.save(!0),_e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var _e=this.globalData.canvasContext,Ce=assetLoader.createCanvas(_e.canvas.width,_e.canvas.height);this.buffers.push(Ce);var Pe=assetLoader.createCanvas(_e.canvas.width,_e.canvas.height);this.buffers.push(Pe),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var _e=this.globalData;if(_e.blendMode!==this.data.bm){_e.blendMode=this.data.bm;var Ce=getBlendMode(this.data.bm);_e.canvasContext.globalCompositeOperation=Ce}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(_e){_e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var _e=this.buffers[0],Ce=_e.getContext("2d");this.clearCanvas(Ce),Ce.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var _e=this.buffers[1],Ce=_e.getContext("2d");this.clearCanvas(Ce),Ce.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var Pe=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(Pe.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var Re=assetLoader.getLumaCanvas(this.canvasContext.canvas),Ie=Re.getContext("2d");Ie.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(Re,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(_e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(_e){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!_e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var Ce=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(Ce),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(Ce),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(Ee,_e,Ce,Pe){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var Re=4;_e.ty==="rc"?Re=5:_e.ty==="el"?Re=6:_e.ty==="sr"&&(Re=7),this.sh=ShapePropertyFactory.getShapeProp(Ee,_e,Re,Ee);var Ie,Be=Ce.length,je;for(Ie=0;Ie<Be;Ie+=1)Ce[Ie].closed||(je={transforms:Pe.addTransformSequence(Ce[Ie].transforms),trNodes:[]},this.styledShapes.push(je),Ce[Ie].elements.push(je))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(Ee,_e,Ce){this.shapes=[],this.shapesData=Ee.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(Ee,_e,Ce)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(Ee,_e){var Ce={data:Ee,type:Ee.ty,preTransforms:this.transformsManager.addTransformSequence(_e),transforms:[],elements:[],closed:Ee.hd===!0},Pe={};if(Ee.ty==="fl"||Ee.ty==="st"?(Pe.c=PropertyFactory.getProp(this,Ee.c,1,255,this),Pe.c.k||(Ce.co="rgb("+bmFloor(Pe.c.v[0])+","+bmFloor(Pe.c.v[1])+","+bmFloor(Pe.c.v[2])+")")):(Ee.ty==="gf"||Ee.ty==="gs")&&(Pe.s=PropertyFactory.getProp(this,Ee.s,1,null,this),Pe.e=PropertyFactory.getProp(this,Ee.e,1,null,this),Pe.h=PropertyFactory.getProp(this,Ee.h||{k:0},0,.01,this),Pe.a=PropertyFactory.getProp(this,Ee.a||{k:0},0,degToRads,this),Pe.g=new GradientProperty(this,Ee.g,this)),Pe.o=PropertyFactory.getProp(this,Ee.o,0,.01,this),Ee.ty==="st"||Ee.ty==="gs"){if(Ce.lc=lineCapEnum[Ee.lc||2],Ce.lj=lineJoinEnum[Ee.lj||2],Ee.lj==1&&(Ce.ml=Ee.ml),Pe.w=PropertyFactory.getProp(this,Ee.w,0,null,this),Pe.w.k||(Ce.wi=Pe.w.v),Ee.d){var Re=new DashProperty(this,Ee.d,"canvas",this);Pe.d=Re,Pe.d.k||(Ce.da=Pe.d.dashArray,Ce.do=Pe.d.dashoffset[0])}}else Ce.r=Ee.r===2?"evenodd":"nonzero";return this.stylesList.push(Ce),Pe.style=Ce,Pe},CVShapeElement.prototype.createGroupElement=function(){var Ee={it:[],prevViewData:[]};return Ee},CVShapeElement.prototype.createTransformElement=function(Ee){var _e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,Ee.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,Ee,this)}};return _e},CVShapeElement.prototype.createShapeElement=function(Ee){var _e=new CVShapeData(this,Ee,this.stylesList,this.transformsManager);return this.shapes.push(_e),this.addShapeToModifiers(_e),_e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Ee,_e=this.itemsData.length;for(Ee=0;Ee<_e;Ee+=1)this.prevViewData[Ee]=this.itemsData[Ee];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),_e=this.dynamicProperties.length,Ee=0;Ee<_e;Ee+=1)this.dynamicProperties[Ee].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(Ee){var _e,Ce=this.stylesList.length;for(_e=0;_e<Ce;_e+=1)this.stylesList[_e].closed||this.stylesList[_e].transforms.push(Ee)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var Ee,_e=this.stylesList.length;for(Ee=0;Ee<_e;Ee+=1)this.stylesList[Ee].closed||this.stylesList[Ee].transforms.pop()},CVShapeElement.prototype.closeStyles=function(Ee){var _e,Ce=Ee.length;for(_e=0;_e<Ce;_e+=1)Ee[_e].closed=!0},CVShapeElement.prototype.searchShapes=function(Ee,_e,Ce,Pe,Re){var Ie,Be=Ee.length-1,je,De,Fe=[],Oe=[],ke,Me,$e,He=[].concat(Re);for(Ie=Be;Ie>=0;Ie-=1){if(ke=this.searchProcessedElement(Ee[Ie]),ke?_e[Ie]=Ce[ke-1]:Ee[Ie]._shouldRender=Pe,Ee[Ie].ty==="fl"||Ee[Ie].ty==="st"||Ee[Ie].ty==="gf"||Ee[Ie].ty==="gs")ke?_e[Ie].style.closed=!1:_e[Ie]=this.createStyleElement(Ee[Ie],He),Fe.push(_e[Ie].style);else if(Ee[Ie].ty==="gr"){if(!ke)_e[Ie]=this.createGroupElement(Ee[Ie]);else for(De=_e[Ie].it.length,je=0;je<De;je+=1)_e[Ie].prevViewData[je]=_e[Ie].it[je];this.searchShapes(Ee[Ie].it,_e[Ie].it,_e[Ie].prevViewData,Pe,He)}else Ee[Ie].ty==="tr"?(ke||($e=this.createTransformElement(Ee[Ie]),_e[Ie]=$e),He.push(_e[Ie]),this.addTransformToStyleList(_e[Ie])):Ee[Ie].ty==="sh"||Ee[Ie].ty==="rc"||Ee[Ie].ty==="el"||Ee[Ie].ty==="sr"?ke||(_e[Ie]=this.createShapeElement(Ee[Ie])):Ee[Ie].ty==="tm"||Ee[Ie].ty==="rd"||Ee[Ie].ty==="pb"||Ee[Ie].ty==="zz"||Ee[Ie].ty==="op"?(ke?(Me=_e[Ie],Me.closed=!1):(Me=ShapeModifiers.getModifier(Ee[Ie].ty),Me.init(this,Ee[Ie]),_e[Ie]=Me,this.shapeModifiers.push(Me)),Oe.push(Me)):Ee[Ie].ty==="rp"&&(ke?(Me=_e[Ie],Me.closed=!0):(Me=ShapeModifiers.getModifier(Ee[Ie].ty),_e[Ie]=Me,Me.init(this,Ee,Ie,_e),this.shapeModifiers.push(Me),Pe=!1),Oe.push(Me));this.addProcessedElement(Ee[Ie],Ie+1)}for(this.removeTransformFromStyleList(),this.closeStyles(Fe),Be=Oe.length,Ie=0;Ie<Be;Ie+=1)Oe[Ie].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(Ee,_e){(Ee._opMdf||_e.op._mdf||this._isFirstFrame)&&(_e.opacity=Ee.opacity,_e.opacity*=_e.op.v,_e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var Ee,_e=this.stylesList.length,Ce,Pe,Re,Ie,Be,je,De=this.globalData.renderer,Fe=this.globalData.canvasContext,Oe,ke;for(Ee=0;Ee<_e;Ee+=1)if(ke=this.stylesList[Ee],Oe=ke.type,!((Oe==="st"||Oe==="gs")&&ke.wi===0||!ke.data._shouldRender||ke.coOp===0||this.globalData.currentGlobalAlpha===0)){for(De.save(),Be=ke.elements,Oe==="st"||Oe==="gs"?(De.ctxStrokeStyle(Oe==="st"?ke.co:ke.grd),De.ctxLineWidth(ke.wi),De.ctxLineCap(ke.lc),De.ctxLineJoin(ke.lj),De.ctxMiterLimit(ke.ml||0)):De.ctxFillStyle(Oe==="fl"?ke.co:ke.grd),De.ctxOpacity(ke.coOp),Oe!=="st"&&Oe!=="gs"&&Fe.beginPath(),De.ctxTransform(ke.preTransforms.finalTransform.props),Pe=Be.length,Ce=0;Ce<Pe;Ce+=1){for((Oe==="st"||Oe==="gs")&&(Fe.beginPath(),ke.da&&(Fe.setLineDash(ke.da),Fe.lineDashOffset=ke.do)),je=Be[Ce].trNodes,Ie=je.length,Re=0;Re<Ie;Re+=1)je[Re].t==="m"?Fe.moveTo(je[Re].p[0],je[Re].p[1]):je[Re].t==="c"?Fe.bezierCurveTo(je[Re].pts[0],je[Re].pts[1],je[Re].pts[2],je[Re].pts[3],je[Re].pts[4],je[Re].pts[5]):Fe.closePath();(Oe==="st"||Oe==="gs")&&(De.ctxStroke(),ke.da&&Fe.setLineDash(this.dashResetter))}Oe!=="st"&&Oe!=="gs"&&this.globalData.renderer.ctxFill(ke.r),De.restore()}},CVShapeElement.prototype.renderShape=function(Ee,_e,Ce,Pe){var Re,Ie=_e.length-1,Be;for(Be=Ee,Re=Ie;Re>=0;Re-=1)_e[Re].ty==="tr"?(Be=Ce[Re].transform,this.renderShapeTransform(Ee,Be)):_e[Re].ty==="sh"||_e[Re].ty==="el"||_e[Re].ty==="rc"||_e[Re].ty==="sr"?this.renderPath(_e[Re],Ce[Re]):_e[Re].ty==="fl"?this.renderFill(_e[Re],Ce[Re],Be):_e[Re].ty==="st"?this.renderStroke(_e[Re],Ce[Re],Be):_e[Re].ty==="gf"||_e[Re].ty==="gs"?this.renderGradientFill(_e[Re],Ce[Re],Be):_e[Re].ty==="gr"?this.renderShape(Be,_e[Re].it,Ce[Re].it):_e[Re].ty;Pe&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(Ee,_e){if(this._isFirstFrame||_e._mdf||Ee.transforms._mdf){var Ce=Ee.trNodes,Pe=_e.paths,Re,Ie,Be,je=Pe._length;Ce.length=0;var De=Ee.transforms.finalTransform;for(Be=0;Be<je;Be+=1){var Fe=Pe.shapes[Be];if(Fe&&Fe.v){for(Ie=Fe._length,Re=1;Re<Ie;Re+=1)Re===1&&Ce.push({t:"m",p:De.applyToPointArray(Fe.v[0][0],Fe.v[0][1],0)}),Ce.push({t:"c",pts:De.applyToTriplePoints(Fe.o[Re-1],Fe.i[Re],Fe.v[Re])});Ie===1&&Ce.push({t:"m",p:De.applyToPointArray(Fe.v[0][0],Fe.v[0][1],0)}),Fe.c&&Ie&&(Ce.push({t:"c",pts:De.applyToTriplePoints(Fe.o[Re-1],Fe.i[0],Fe.v[0])}),Ce.push({t:"z"}))}}Ee.trNodes=Ce}},CVShapeElement.prototype.renderPath=function(Ee,_e){if(Ee.hd!==!0&&Ee._shouldRender){var Ce,Pe=_e.styledShapes.length;for(Ce=0;Ce<Pe;Ce+=1)this.renderStyledShape(_e.styledShapes[Ce],_e.sh)}},CVShapeElement.prototype.renderFill=function(Ee,_e,Ce){var Pe=_e.style;(_e.c._mdf||this._isFirstFrame)&&(Pe.co="rgb("+bmFloor(_e.c.v[0])+","+bmFloor(_e.c.v[1])+","+bmFloor(_e.c.v[2])+")"),(_e.o._mdf||Ce._opMdf||this._isFirstFrame)&&(Pe.coOp=_e.o.v*Ce.opacity)},CVShapeElement.prototype.renderGradientFill=function(Ee,_e,Ce){var Pe=_e.style,Re;if(!Pe.grd||_e.g._mdf||_e.s._mdf||_e.e._mdf||Ee.t!==1&&(_e.h._mdf||_e.a._mdf)){var Ie=this.globalData.canvasContext,Be=_e.s.v,je=_e.e.v;if(Ee.t===1)Re=Ie.createLinearGradient(Be[0],Be[1],je[0],je[1]);else{var De=Math.sqrt(Math.pow(Be[0]-je[0],2)+Math.pow(Be[1]-je[1],2)),Fe=Math.atan2(je[1]-Be[1],je[0]-Be[0]),Oe=_e.h.v;Oe>=1?Oe=.99:Oe<=-1&&(Oe=-.99);var ke=De*Oe,Me=Math.cos(Fe+_e.a.v)*ke+Be[0],$e=Math.sin(Fe+_e.a.v)*ke+Be[1];Re=Ie.createRadialGradient(Me,$e,0,Be[0],Be[1],De)}var He,Qe=Ee.g.p,Ke=_e.g.c,ze=1;for(He=0;He<Qe;He+=1)_e.g._hasOpacity&&_e.g._collapsable&&(ze=_e.g.o[He*2+1]),Re.addColorStop(Ke[He*4]/100,"rgba("+Ke[He*4+1]+","+Ke[He*4+2]+","+Ke[He*4+3]+","+ze+")");Pe.grd=Re}Pe.coOp=_e.o.v*Ce.opacity},CVShapeElement.prototype.renderStroke=function(Ee,_e,Ce){var Pe=_e.style,Re=_e.d;Re&&(Re._mdf||this._isFirstFrame)&&(Pe.da=Re.dashArray,Pe.do=Re.dashoffset[0]),(_e.c._mdf||this._isFirstFrame)&&(Pe.co="rgb("+bmFloor(_e.c.v[0])+","+bmFloor(_e.c.v[1])+","+bmFloor(_e.c.v[2])+")"),(_e.o._mdf||Ce._opMdf||this._isFirstFrame)&&(Pe.coOp=_e.o.v*Ce.opacity),(_e.w._mdf||this._isFirstFrame)&&(Pe.wi=_e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(Ee,_e,Ce){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(Ee,_e,Ce)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var Ee=this.textProperty.currentData;this.renderedLetters=createSizedArray(Ee.l?Ee.l.length:0);var _e=!1;Ee.fc?(_e=!0,this.values.fill=this.buildColor(Ee.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=_e;var Ce=!1;Ee.sc&&(Ce=!0,this.values.stroke=this.buildColor(Ee.sc),this.values.sWidth=Ee.sw);var Pe=this.globalData.fontManager.getFontByName(Ee.f),Re,Ie,Be=Ee.l,je=this.mHelper;this.stroke=Ce,this.values.fValue=Ee.finalSize+"px "+this.globalData.fontManager.getFontByName(Ee.f).fFamily,Ie=Ee.finalText.length;var De,Fe,Oe,ke,Me,$e,He,Qe,Ke,ze,We=this.data.singleShape,qe=Ee.tr*.001*Ee.finalSize,Ye=0,Xe=0,rr=!0,Je=0;for(Re=0;Re<Ie;Re+=1){De=this.globalData.fontManager.getCharData(Ee.finalText[Re],Pe.fStyle,this.globalData.fontManager.getFontByName(Ee.f).fFamily),Fe=De&&De.data||{},je.reset(),We&&Be[Re].n&&(Ye=-qe,Xe+=Ee.yOffset,Xe+=rr?1:0,rr=!1),Me=Fe.shapes?Fe.shapes[0].it:[],He=Me.length,je.scale(Ee.finalSize/100,Ee.finalSize/100),We&&this.applyTextPropertiesToMatrix(Ee,je,Be[Re].line,Ye,Xe),Ke=createSizedArray(He-1);var er=0;for($e=0;$e<He;$e+=1)if(Me[$e].ty==="sh"){for(ke=Me[$e].ks.k.i.length,Qe=Me[$e].ks.k,ze=[],Oe=1;Oe<ke;Oe+=1)Oe===1&&ze.push(je.applyToX(Qe.v[0][0],Qe.v[0][1],0),je.applyToY(Qe.v[0][0],Qe.v[0][1],0)),ze.push(je.applyToX(Qe.o[Oe-1][0],Qe.o[Oe-1][1],0),je.applyToY(Qe.o[Oe-1][0],Qe.o[Oe-1][1],0),je.applyToX(Qe.i[Oe][0],Qe.i[Oe][1],0),je.applyToY(Qe.i[Oe][0],Qe.i[Oe][1],0),je.applyToX(Qe.v[Oe][0],Qe.v[Oe][1],0),je.applyToY(Qe.v[Oe][0],Qe.v[Oe][1],0));ze.push(je.applyToX(Qe.o[Oe-1][0],Qe.o[Oe-1][1],0),je.applyToY(Qe.o[Oe-1][0],Qe.o[Oe-1][1],0),je.applyToX(Qe.i[0][0],Qe.i[0][1],0),je.applyToY(Qe.i[0][0],Qe.i[0][1],0),je.applyToX(Qe.v[0][0],Qe.v[0][1],0),je.applyToY(Qe.v[0][0],Qe.v[0][1],0)),Ke[er]=ze,er+=1}We&&(Ye+=Be[Re].l,Ye+=qe),this.textSpans[Je]?this.textSpans[Je].elem=Ke:this.textSpans[Je]={elem:Ke},Je+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var Ee=this.canvasContext;Ee.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var _e,Ce,Pe,Re,Ie,Be,je=this.textAnimator.renderedLetters,De=this.textProperty.currentData.l;Ce=De.length;var Fe,Oe=null,ke=null,Me=null,$e,He,Qe=this.globalData.renderer;for(_e=0;_e<Ce;_e+=1)if(!De[_e].n){if(Fe=je[_e],Fe&&(Qe.save(),Qe.ctxTransform(Fe.p),Qe.ctxOpacity(Fe.o)),this.fill){for(Fe&&Fe.fc?Oe!==Fe.fc&&(Qe.ctxFillStyle(Fe.fc),Oe=Fe.fc):Oe!==this.values.fill&&(Oe=this.values.fill,Qe.ctxFillStyle(this.values.fill)),$e=this.textSpans[_e].elem,Re=$e.length,this.globalData.canvasContext.beginPath(),Pe=0;Pe<Re;Pe+=1)for(He=$e[Pe],Be=He.length,this.globalData.canvasContext.moveTo(He[0],He[1]),Ie=2;Ie<Be;Ie+=6)this.globalData.canvasContext.bezierCurveTo(He[Ie],He[Ie+1],He[Ie+2],He[Ie+3],He[Ie+4],He[Ie+5]);this.globalData.canvasContext.closePath(),Qe.ctxFill()}if(this.stroke){for(Fe&&Fe.sw?Me!==Fe.sw&&(Me=Fe.sw,Qe.ctxLineWidth(Fe.sw)):Me!==this.values.sWidth&&(Me=this.values.sWidth,Qe.ctxLineWidth(this.values.sWidth)),Fe&&Fe.sc?ke!==Fe.sc&&(ke=Fe.sc,Qe.ctxStrokeStyle(Fe.sc)):ke!==this.values.stroke&&(ke=this.values.stroke,Qe.ctxStrokeStyle(this.values.stroke)),$e=this.textSpans[_e].elem,Re=$e.length,this.globalData.canvasContext.beginPath(),Pe=0;Pe<Re;Pe+=1)for(He=$e[Pe],Be=He.length,this.globalData.canvasContext.moveTo(He[0],He[1]),Ie=2;Ie<Be;Ie+=6)this.globalData.canvasContext.bezierCurveTo(He[Ie],He[Ie+1],He[Ie+2],He[Ie+3],He[Ie+4],He[Ie+5]);this.globalData.canvasContext.closePath(),Qe.ctxStroke()}Fe&&this.globalData.renderer.restore()}};function CVImageElement(Ee,_e,Ce){this.assetData=_e.getAssetData(Ee.refId),this.img=_e.imageLoader.getAsset(this.assetData),this.initElement(Ee,_e,Ce)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var Ee=createTag("canvas");Ee.width=this.assetData.w,Ee.height=this.assetData.h;var _e=Ee.getContext("2d"),Ce=this.img.width,Pe=this.img.height,Re=Ce/Pe,Ie=this.assetData.w/this.assetData.h,Be,je,De=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;Re>Ie&&De==="xMidYMid slice"||Re<Ie&&De!=="xMidYMid slice"?(je=Pe,Be=je*Ie):(Be=Ce,je=Be/Ie),_e.drawImage(this.img,(Ce-Be)/2,(Pe-je)/2,Be,je,0,0,this.assetData.w,this.assetData.h),this.img=Ee}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(Ee,_e,Ce){this.initElement(Ee,_e,Ce)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(Ee){return new CVShapeElement(Ee,this.globalData,this)},CanvasRendererBase.prototype.createText=function(Ee){return new CVTextElement(Ee,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(Ee){return new CVImageElement(Ee,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(Ee){return new CVSolidElement(Ee,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(Ee){Ee[0]===1&&Ee[1]===0&&Ee[4]===0&&Ee[5]===1&&Ee[12]===0&&Ee[13]===0||this.canvasContext.transform(Ee[0],Ee[1],Ee[4],Ee[5],Ee[12],Ee[13])},CanvasRendererBase.prototype.ctxOpacity=function(Ee){this.canvasContext.globalAlpha*=Ee<0?0:Ee},CanvasRendererBase.prototype.ctxFillStyle=function(Ee){this.canvasContext.fillStyle=Ee},CanvasRendererBase.prototype.ctxStrokeStyle=function(Ee){this.canvasContext.strokeStyle=Ee},CanvasRendererBase.prototype.ctxLineWidth=function(Ee){this.canvasContext.lineWidth=Ee},CanvasRendererBase.prototype.ctxLineCap=function(Ee){this.canvasContext.lineCap=Ee},CanvasRendererBase.prototype.ctxLineJoin=function(Ee){this.canvasContext.lineJoin=Ee},CanvasRendererBase.prototype.ctxMiterLimit=function(Ee){this.canvasContext.miterLimit=Ee},CanvasRendererBase.prototype.ctxFill=function(Ee){this.canvasContext.fill(Ee)},CanvasRendererBase.prototype.ctxFillRect=function(Ee,_e,Ce,Pe){this.canvasContext.fillRect(Ee,_e,Ce,Pe)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(Ee){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}Ee&&(this.globalData.blendMode="source-over"),this.contextData.restore(Ee)},CanvasRendererBase.prototype.configAnimation=function(Ee){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var _e=this.animationItem.container.style;_e.width="100%",_e.height="100%";var Ce="0px 0px 0px";_e.transformOrigin=Ce,_e.mozTransformOrigin=Ce,_e.webkitTransformOrigin=Ce,_e["-webkit-transform"]=Ce,_e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=Ee,this.layers=Ee.layers,this.transformCanvas={w:Ee.w,h:Ee.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(Ee,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(Ee.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(Ee,_e){this.reset();var Ce,Pe;Ee?(Ce=Ee,Pe=_e,this.canvasContext.canvas.width=Ce,this.canvasContext.canvas.height=Pe):(this.animationItem.wrapper&&this.animationItem.container?(Ce=this.animationItem.wrapper.offsetWidth,Pe=this.animationItem.wrapper.offsetHeight):(Ce=this.canvasContext.canvas.width,Pe=this.canvasContext.canvas.height),this.canvasContext.canvas.width=Ce*this.renderConfig.dpr,this.canvasContext.canvas.height=Pe*this.renderConfig.dpr);var Re,Ie;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var Be=this.renderConfig.preserveAspectRatio.split(" "),je=Be[1]||"meet",De=Be[0]||"xMidYMid",Fe=De.substr(0,4),Oe=De.substr(4);Re=Ce/Pe,Ie=this.transformCanvas.w/this.transformCanvas.h,Ie>Re&&je==="meet"||Ie<Re&&je==="slice"?(this.transformCanvas.sx=Ce/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Ce/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=Pe/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=Pe/(this.transformCanvas.h/this.renderConfig.dpr)),Fe==="xMid"&&(Ie<Re&&je==="meet"||Ie>Re&&je==="slice")?this.transformCanvas.tx=(Ce-this.transformCanvas.w*(Pe/this.transformCanvas.h))/2*this.renderConfig.dpr:Fe==="xMax"&&(Ie<Re&&je==="meet"||Ie>Re&&je==="slice")?this.transformCanvas.tx=(Ce-this.transformCanvas.w*(Pe/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,Oe==="YMid"&&(Ie>Re&&je==="meet"||Ie<Re&&je==="slice")?this.transformCanvas.ty=(Pe-this.transformCanvas.h*(Ce/this.transformCanvas.w))/2*this.renderConfig.dpr:Oe==="YMax"&&(Ie>Re&&je==="meet"||Ie<Re&&je==="slice")?this.transformCanvas.ty=(Pe-this.transformCanvas.h*(Ce/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=Ce/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Pe/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var Ee,_e=this.layers?this.layers.length:0;for(Ee=_e-1;Ee>=0;Ee-=1)this.elements[Ee]&&this.elements[Ee].destroy&&this.elements[Ee].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(Ee,_e){if(!(this.renderedFrame===Ee&&this.renderConfig.clearCanvas===!0&&!_e||this.destroyed||Ee===-1)){this.renderedFrame=Ee,this.globalData.frameNum=Ee-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||_e,this.globalData.projectInterface.currentFrame=Ee;var Ce,Pe=this.layers.length;for(this.completeLayers||this.checkLayers(Ee),Ce=Pe-1;Ce>=0;Ce-=1)(this.completeLayers||this.elements[Ce])&&this.elements[Ce].prepareFrame(Ee-this.layers[Ce].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),Ce=Pe-1;Ce>=0;Ce-=1)(this.completeLayers||this.elements[Ce])&&this.elements[Ce].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(Ee){var _e=this.elements;if(!(_e[Ee]||this.layers[Ee].ty===99)){var Ce=this.createItem(this.layers[Ee],this,this.globalData);_e[Ee]=Ce,Ce.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Ee=this.pendingElements.pop();Ee.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var Ee,_e=15;for(Ee=0;Ee<_e;Ee+=1){var Ce=new CanvasContext;this.stack[Ee]=Ce}this._length=_e,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var Ee=this._length*2,_e=0;for(_e=this._length;_e<Ee;_e+=1)this.stack[_e]=new CanvasContext;this._length=Ee},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(Ee){this.cArrPos-=1;var _e=this.stack[this.cArrPos],Ce=_e.transform,Pe,Re=this.cTr.props;for(Pe=0;Pe<16;Pe+=1)Re[Pe]=Ce[Pe];if(Ee){this.nativeContext.restore();var Ie=this.stack[this.cArrPos+1];this.appliedFillStyle=Ie.fillStyle,this.appliedStrokeStyle=Ie.strokeStyle,this.appliedLineWidth=Ie.lineWidth,this.appliedLineCap=Ie.lineCap,this.appliedLineJoin=Ie.lineJoin,this.appliedMiterLimit=Ie.miterLimit}this.nativeContext.setTransform(Ce[0],Ce[1],Ce[4],Ce[5],Ce[12],Ce[13]),(Ee||_e.opacity!==-1&&this.currentOpacity!==_e.opacity)&&(this.nativeContext.globalAlpha=_e.opacity,this.currentOpacity=_e.opacity),this.currentFillStyle=_e.fillStyle,this.currentStrokeStyle=_e.strokeStyle,this.currentLineWidth=_e.lineWidth,this.currentLineCap=_e.lineCap,this.currentLineJoin=_e.lineJoin,this.currentMiterLimit=_e.miterLimit},CVContextData.prototype.save=function(Ee){Ee&&this.nativeContext.save();var _e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var Ce=this.stack[this.cArrPos],Pe;for(Pe=0;Pe<16;Pe+=1)Ce.transform[Pe]=_e[Pe];this.cArrPos+=1;var Re=this.stack[this.cArrPos];Re.opacity=Ce.opacity,Re.fillStyle=Ce.fillStyle,Re.strokeStyle=Ce.strokeStyle,Re.lineWidth=Ce.lineWidth,Re.lineCap=Ce.lineCap,Re.lineJoin=Ce.lineJoin,Re.miterLimit=Ce.miterLimit},CVContextData.prototype.setOpacity=function(Ee){this.stack[this.cArrPos].opacity=Ee},CVContextData.prototype.setContext=function(Ee){this.nativeContext=Ee},CVContextData.prototype.fillStyle=function(Ee){this.stack[this.cArrPos].fillStyle!==Ee&&(this.currentFillStyle=Ee,this.stack[this.cArrPos].fillStyle=Ee)},CVContextData.prototype.strokeStyle=function(Ee){this.stack[this.cArrPos].strokeStyle!==Ee&&(this.currentStrokeStyle=Ee,this.stack[this.cArrPos].strokeStyle=Ee)},CVContextData.prototype.lineWidth=function(Ee){this.stack[this.cArrPos].lineWidth!==Ee&&(this.currentLineWidth=Ee,this.stack[this.cArrPos].lineWidth=Ee)},CVContextData.prototype.lineCap=function(Ee){this.stack[this.cArrPos].lineCap!==Ee&&(this.currentLineCap=Ee,this.stack[this.cArrPos].lineCap=Ee)},CVContextData.prototype.lineJoin=function(Ee){this.stack[this.cArrPos].lineJoin!==Ee&&(this.currentLineJoin=Ee,this.stack[this.cArrPos].lineJoin=Ee)},CVContextData.prototype.miterLimit=function(Ee){this.stack[this.cArrPos].miterLimit!==Ee&&(this.currentMiterLimit=Ee,this.stack[this.cArrPos].miterLimit=Ee)},CVContextData.prototype.transform=function(Ee){this.transformMat.cloneFromProps(Ee);var _e=this.cTr;this.transformMat.multiply(_e),_e.cloneFromProps(this.transformMat.props);var Ce=_e.props;this.nativeContext.setTransform(Ce[0],Ce[1],Ce[4],Ce[5],Ce[12],Ce[13])},CVContextData.prototype.opacity=function(Ee){var _e=this.stack[this.cArrPos].opacity;_e*=Ee<0?0:Ee,this.stack[this.cArrPos].opacity!==_e&&(this.currentOpacity!==Ee&&(this.nativeContext.globalAlpha=Ee,this.currentOpacity=Ee),this.stack[this.cArrPos].opacity=_e)},CVContextData.prototype.fill=function(Ee){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(Ee)},CVContextData.prototype.fillRect=function(Ee,_e,Ce,Pe){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(Ee,_e,Ce,Pe)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(Ee,_e,Ce){this.completeLayers=!1,this.layers=Ee.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(Ee,_e,Ce),this.tm=Ee.tm?PropertyFactory.getProp(this,Ee.tm,0,_e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var Ee=this.canvasContext;Ee.beginPath(),Ee.moveTo(0,0),Ee.lineTo(this.data.w,0),Ee.lineTo(this.data.w,this.data.h),Ee.lineTo(0,this.data.h),Ee.lineTo(0,0),Ee.clip();var _e,Ce=this.layers.length;for(_e=Ce-1;_e>=0;_e-=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].renderFrame()},CVCompElement.prototype.destroy=function(){var Ee,_e=this.layers.length;for(Ee=_e-1;Ee>=0;Ee-=1)this.elements[Ee]&&this.elements[Ee].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(Ee){return new CVCompElement(Ee,this.globalData,this)};function CanvasRenderer(Ee,_e){this.animationItem=Ee,this.renderConfig={clearCanvas:_e&&_e.clearCanvas!==void 0?_e.clearCanvas:!0,context:_e&&_e.context||null,progressiveLoad:_e&&_e.progressiveLoad||!1,preserveAspectRatio:_e&&_e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_e&&_e.contentVisibility||"visible",className:_e&&_e.className||"",id:_e&&_e.id||"",runExpressions:!_e||_e.runExpressions===void 0||_e.runExpressions},this.renderConfig.dpr=_e&&_e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=_e&&_e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(Ee){return new CVCompElement(Ee,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var _e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var Ce=this.finalTransform.mat.toCSS();_e.transform=Ce,_e.webkitTransform=Ce}this.finalTransform._opMdf&&(_e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(Ee,_e,Ce){this.initElement(Ee,_e,Ce)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var Ee;this.data.hasMask?(Ee=createNS("rect"),Ee.setAttribute("width",this.data.sw),Ee.setAttribute("height",this.data.sh),Ee.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(Ee=createTag("div"),Ee.style.width=this.data.sw+"px",Ee.style.height=this.data.sh+"px",Ee.style.backgroundColor=this.data.sc),this.layerElement.appendChild(Ee)};function HShapeElement(Ee,_e,Ce){this.shapes=[],this.shapesData=Ee.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(Ee,_e,Ce),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var Ee;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),Ee=this.svgElement;else{Ee=createNS("svg");var _e=this.comp.data?this.comp.data:this.globalData.compSize;Ee.setAttribute("width",_e.w),Ee.setAttribute("height",_e.h),Ee.appendChild(this.shapesContainer),this.layerElement.appendChild(Ee)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=Ee},HShapeElement.prototype.getTransformedPoint=function(Ee,_e){var Ce,Pe=Ee.length;for(Ce=0;Ce<Pe;Ce+=1)_e=Ee[Ce].mProps.v.applyToPointArray(_e[0],_e[1],0);return _e},HShapeElement.prototype.calculateShapeBoundingBox=function(Ee,_e){var Ce=Ee.sh.v,Pe=Ee.transformers,Re,Ie=Ce._length,Be,je,De,Fe;if(!(Ie<=1)){for(Re=0;Re<Ie-1;Re+=1)Be=this.getTransformedPoint(Pe,Ce.v[Re]),je=this.getTransformedPoint(Pe,Ce.o[Re]),De=this.getTransformedPoint(Pe,Ce.i[Re+1]),Fe=this.getTransformedPoint(Pe,Ce.v[Re+1]),this.checkBounds(Be,je,De,Fe,_e);Ce.c&&(Be=this.getTransformedPoint(Pe,Ce.v[Re]),je=this.getTransformedPoint(Pe,Ce.o[Re]),De=this.getTransformedPoint(Pe,Ce.i[0]),Fe=this.getTransformedPoint(Pe,Ce.v[0]),this.checkBounds(Be,je,De,Fe,_e))}},HShapeElement.prototype.checkBounds=function(Ee,_e,Ce,Pe,Re){this.getBoundsOfCurve(Ee,_e,Ce,Pe);var Ie=this.shapeBoundingBox;Re.x=bmMin(Ie.left,Re.x),Re.xMax=bmMax(Ie.right,Re.xMax),Re.y=bmMin(Ie.top,Re.y),Re.yMax=bmMax(Ie.bottom,Re.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(Ee,_e,Ce,Pe){for(var Re=[[Ee[0],Pe[0]],[Ee[1],Pe[1]]],Ie,Be,je,De,Fe,Oe,ke,Me=0;Me<2;++Me)Be=6*Ee[Me]-12*_e[Me]+6*Ce[Me],Ie=-3*Ee[Me]+9*_e[Me]-9*Ce[Me]+3*Pe[Me],je=3*_e[Me]-3*Ee[Me],Be|=0,Ie|=0,je|=0,Ie===0&&Be===0||(Ie===0?(De=-je/Be,De>0&&De<1&&Re[Me].push(this.calculateF(De,Ee,_e,Ce,Pe,Me))):(Fe=Be*Be-4*je*Ie,Fe>=0&&(Oe=(-Be+bmSqrt(Fe))/(2*Ie),Oe>0&&Oe<1&&Re[Me].push(this.calculateF(Oe,Ee,_e,Ce,Pe,Me)),ke=(-Be-bmSqrt(Fe))/(2*Ie),ke>0&&ke<1&&Re[Me].push(this.calculateF(ke,Ee,_e,Ce,Pe,Me)))));this.shapeBoundingBox.left=bmMin.apply(null,Re[0]),this.shapeBoundingBox.top=bmMin.apply(null,Re[1]),this.shapeBoundingBox.right=bmMax.apply(null,Re[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,Re[1])},HShapeElement.prototype.calculateF=function(Ee,_e,Ce,Pe,Re,Ie){return bmPow(1-Ee,3)*_e[Ie]+3*bmPow(1-Ee,2)*Ee*Ce[Ie]+3*(1-Ee)*bmPow(Ee,2)*Pe[Ie]+bmPow(Ee,3)*Re[Ie]},HShapeElement.prototype.calculateBoundingBox=function(Ee,_e){var Ce,Pe=Ee.length;for(Ce=0;Ce<Pe;Ce+=1)Ee[Ce]&&Ee[Ce].sh?this.calculateShapeBoundingBox(Ee[Ce],_e):Ee[Ce]&&Ee[Ce].it?this.calculateBoundingBox(Ee[Ce].it,_e):Ee[Ce]&&Ee[Ce].style&&Ee[Ce].w&&this.expandStrokeBoundingBox(Ee[Ce].w,_e)},HShapeElement.prototype.expandStrokeBoundingBox=function(Ee,_e){var Ce=0;if(Ee.keyframes){for(var Pe=0;Pe<Ee.keyframes.length;Pe+=1){var Re=Ee.keyframes[Pe].s;Re>Ce&&(Ce=Re)}Ce*=Ee.mult}else Ce=Ee.v*Ee.mult;_e.x-=Ce,_e.xMax+=Ce,_e.y-=Ce,_e.yMax+=Ce},HShapeElement.prototype.currentBoxContains=function(Ee){return this.currentBBox.x<=Ee.x&&this.currentBBox.y<=Ee.y&&this.currentBBox.width+this.currentBBox.x>=Ee.x+Ee.width&&this.currentBBox.height+this.currentBBox.y>=Ee.y+Ee.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var Ee=this.tempBoundingBox,_e=999999;if(Ee.x=_e,Ee.xMax=-_e,Ee.y=_e,Ee.yMax=-_e,this.calculateBoundingBox(this.itemsData,Ee),Ee.width=Ee.xMax<Ee.x?0:Ee.xMax-Ee.x,Ee.height=Ee.yMax<Ee.y?0:Ee.yMax-Ee.y,this.currentBoxContains(Ee))return;var Ce=!1;if(this.currentBBox.w!==Ee.width&&(this.currentBBox.w=Ee.width,this.shapeCont.setAttribute("width",Ee.width),Ce=!0),this.currentBBox.h!==Ee.height&&(this.currentBBox.h=Ee.height,this.shapeCont.setAttribute("height",Ee.height),Ce=!0),Ce||this.currentBBox.x!==Ee.x||this.currentBBox.y!==Ee.y){this.currentBBox.w=Ee.width,this.currentBBox.h=Ee.height,this.currentBBox.x=Ee.x,this.currentBBox.y=Ee.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var Pe=this.shapeCont.style,Re="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Pe.transform=Re,Pe.webkitTransform=Re}}};function HTextElement(Ee,_e,Ce){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(Ee,_e,Ce)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var Ee=createNS("g");this.maskedElement.appendChild(Ee),this.innerElem=Ee}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var Ee=this.textProperty.currentData;this.renderedLetters=createSizedArray(Ee.l?Ee.l.length:0);var _e=this.innerElem.style,Ce=Ee.fc?this.buildColor(Ee.fc):"rgba(0,0,0,0)";_e.fill=Ce,_e.color=Ce,Ee.sc&&(_e.stroke=this.buildColor(Ee.sc),_e.strokeWidth=Ee.sw+"px");var Pe=this.globalData.fontManager.getFontByName(Ee.f);if(!this.globalData.fontManager.chars)if(_e.fontSize=Ee.finalSize+"px",_e.lineHeight=Ee.finalSize+"px",Pe.fClass)this.innerElem.className=Pe.fClass;else{_e.fontFamily=Pe.fFamily;var Re=Ee.fWeight,Ie=Ee.fStyle;_e.fontStyle=Ie,_e.fontWeight=Re}var Be,je,De=Ee.l;je=De.length;var Fe,Oe,ke,Me=this.mHelper,$e,He="",Qe=0;for(Be=0;Be<je;Be+=1){if(this.globalData.fontManager.chars?(this.textPaths[Qe]?Fe=this.textPaths[Qe]:(Fe=createNS("path"),Fe.setAttribute("stroke-linecap",lineCapEnum[1]),Fe.setAttribute("stroke-linejoin",lineJoinEnum[2]),Fe.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Qe]?(Oe=this.textSpans[Qe],ke=Oe.children[0]):(Oe=createTag("div"),Oe.style.lineHeight=0,ke=createNS("svg"),ke.appendChild(Fe),styleDiv(Oe)))):this.isMasked?Fe=this.textPaths[Qe]?this.textPaths[Qe]:createNS("text"):this.textSpans[Qe]?(Oe=this.textSpans[Qe],Fe=this.textPaths[Qe]):(Oe=createTag("span"),styleDiv(Oe),Fe=createTag("span"),styleDiv(Fe),Oe.appendChild(Fe)),this.globalData.fontManager.chars){var Ke=this.globalData.fontManager.getCharData(Ee.finalText[Be],Pe.fStyle,this.globalData.fontManager.getFontByName(Ee.f).fFamily),ze;if(Ke?ze=Ke.data:ze=null,Me.reset(),ze&&ze.shapes&&ze.shapes.length&&($e=ze.shapes[0].it,Me.scale(Ee.finalSize/100,Ee.finalSize/100),He=this.createPathShape(Me,$e),Fe.setAttribute("d",He)),this.isMasked)this.innerElem.appendChild(Fe);else{if(this.innerElem.appendChild(Oe),ze&&ze.shapes){document.body.appendChild(ke);var We=ke.getBBox();ke.setAttribute("width",We.width+2),ke.setAttribute("height",We.height+2),ke.setAttribute("viewBox",We.x-1+" "+(We.y-1)+" "+(We.width+2)+" "+(We.height+2));var qe=ke.style,Ye="translate("+(We.x-1)+"px,"+(We.y-1)+"px)";qe.transform=Ye,qe.webkitTransform=Ye,De[Be].yOffset=We.y-1}else ke.setAttribute("width",1),ke.setAttribute("height",1);Oe.appendChild(ke)}}else if(Fe.textContent=De[Be].val,Fe.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Fe);else{this.innerElem.appendChild(Oe);var Xe=Fe.style,rr="translate3d(0,"+-Ee.finalSize/1.2+"px,0)";Xe.transform=rr,Xe.webkitTransform=rr}this.isMasked?this.textSpans[Qe]=Fe:this.textSpans[Qe]=Oe,this.textSpans[Qe].style.display="block",this.textPaths[Qe]=Fe,Qe+=1}for(;Qe<this.textSpans.length;)this.textSpans[Qe].style.display="none",Qe+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var Ee;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),Ee=this.svgElement.style;var _e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";Ee.transform=_e,Ee.webkitTransform=_e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var Ce,Pe,Re=0,Ie=this.textAnimator.renderedLetters,Be=this.textProperty.currentData.l;Pe=Be.length;var je,De,Fe;for(Ce=0;Ce<Pe;Ce+=1)Be[Ce].n?Re+=1:(De=this.textSpans[Ce],Fe=this.textPaths[Ce],je=Ie[Re],Re+=1,je._mdf.m&&(this.isMasked?De.setAttribute("transform",je.m):(De.style.webkitTransform=je.m,De.style.transform=je.m)),De.style.opacity=je.o,je.sw&&je._mdf.sw&&Fe.setAttribute("stroke-width",je.sw),je.sc&&je._mdf.sc&&Fe.setAttribute("stroke",je.sc),je.fc&&je._mdf.fc&&(Fe.setAttribute("fill",je.fc),Fe.style.color=je.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var Oe=this.innerElem.getBBox();this.currentBBox.w!==Oe.width&&(this.currentBBox.w=Oe.width,this.svgElement.setAttribute("width",Oe.width)),this.currentBBox.h!==Oe.height&&(this.currentBBox.h=Oe.height,this.svgElement.setAttribute("height",Oe.height));var ke=1;if(this.currentBBox.w!==Oe.width+ke*2||this.currentBBox.h!==Oe.height+ke*2||this.currentBBox.x!==Oe.x-ke||this.currentBBox.y!==Oe.y-ke){this.currentBBox.w=Oe.width+ke*2,this.currentBBox.h=Oe.height+ke*2,this.currentBBox.x=Oe.x-ke,this.currentBBox.y=Oe.y-ke,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),Ee=this.svgElement.style;var Me="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Ee.transform=Me,Ee.webkitTransform=Me}}}};function HCameraElement(Ee,_e,Ce){this.initFrame(),this.initBaseData(Ee,_e,Ce),this.initHierarchy();var Pe=PropertyFactory.getProp;if(this.pe=Pe(this,Ee.pe,0,0,this),Ee.ks.p.s?(this.px=Pe(this,Ee.ks.p.x,1,0,this),this.py=Pe(this,Ee.ks.p.y,1,0,this),this.pz=Pe(this,Ee.ks.p.z,1,0,this)):this.p=Pe(this,Ee.ks.p,1,0,this),Ee.ks.a&&(this.a=Pe(this,Ee.ks.a,1,0,this)),Ee.ks.or.k.length&&Ee.ks.or.k[0].to){var Re,Ie=Ee.ks.or.k.length;for(Re=0;Re<Ie;Re+=1)Ee.ks.or.k[Re].to=null,Ee.ks.or.k[Re].ti=null}this.or=Pe(this,Ee.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=Pe(this,Ee.ks.rx,0,degToRads,this),this.ry=Pe(this,Ee.ks.ry,0,degToRads,this),this.rz=Pe(this,Ee.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var Ee,_e=this.comp.threeDElements.length,Ce,Pe,Re;for(Ee=0;Ee<_e;Ee+=1)if(Ce=this.comp.threeDElements[Ee],Ce.type==="3d"){Pe=Ce.perspectiveElem.style,Re=Ce.container.style;var Ie=this.pe.v+"px",Be="0px 0px 0px",je="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Pe.perspective=Ie,Pe.webkitPerspective=Ie,Re.transformOrigin=Be,Re.mozTransformOrigin=Be,Re.webkitTransformOrigin=Be,Pe.transform=je,Pe.webkitTransform=je}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var Ee=this._isFirstFrame,_e,Ce;if(this.hierarchy)for(Ce=this.hierarchy.length,_e=0;_e<Ce;_e+=1)Ee=this.hierarchy[_e].finalTransform.mProp._mdf||Ee;if(Ee||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(Ce=this.hierarchy.length-1,_e=Ce;_e>=0;_e-=1){var Pe=this.hierarchy[_e].finalTransform.mProp;this.mat.translate(-Pe.p.v[0],-Pe.p.v[1],Pe.p.v[2]),this.mat.rotateX(-Pe.or.v[0]).rotateY(-Pe.or.v[1]).rotateZ(Pe.or.v[2]),this.mat.rotateX(-Pe.rx.v).rotateY(-Pe.ry.v).rotateZ(Pe.rz.v),this.mat.scale(1/Pe.s.v[0],1/Pe.s.v[1],1/Pe.s.v[2]),this.mat.translate(Pe.a.v[0],Pe.a.v[1],Pe.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var Re;this.p?Re=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:Re=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var Ie=Math.sqrt(Math.pow(Re[0],2)+Math.pow(Re[1],2)+Math.pow(Re[2],2)),Be=[Re[0]/Ie,Re[1]/Ie,Re[2]/Ie],je=Math.sqrt(Be[2]*Be[2]+Be[0]*Be[0]),De=Math.atan2(Be[1],je),Fe=Math.atan2(Be[0],-Be[2]);this.mat.rotateY(Fe).rotateX(-De)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var Oe=!this._prevMat.equals(this.mat);if((Oe||this.pe._mdf)&&this.comp.threeDElements){Ce=this.comp.threeDElements.length;var ke,Me,$e;for(_e=0;_e<Ce;_e+=1)if(ke=this.comp.threeDElements[_e],ke.type==="3d"){if(Oe){var He=this.mat.toCSS();$e=ke.container.style,$e.transform=He,$e.webkitTransform=He}this.pe._mdf&&(Me=ke.perspectiveElem.style,Me.perspective=this.pe.v+"px",Me.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(Ee){this.prepareProperties(Ee,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(Ee,_e,Ce){this.assetData=_e.getAssetData(Ee.refId),this.initElement(Ee,_e,Ce)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var Ee=this.globalData.getAssetsPath(this.assetData),_e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Ee),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(_e),_e.crossOrigin="anonymous",_e.src=Ee,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(Ee,_e){this.animationItem=Ee,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:_e&&_e.className||"",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"400%",height:_e&&_e.filterSize&&_e.filterSize.height||"400%",x:_e&&_e.filterSize&&_e.filterSize.x||"-100%",y:_e&&_e.filterSize&&_e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Ee=this.pendingElements.pop();Ee.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(Ee,_e){var Ce=Ee.getBaseElement();if(Ce){var Pe=this.layers[_e];if(!Pe.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(Ce,_e);else{for(var Re=0,Ie,Be,je;Re<_e;)this.elements[Re]&&this.elements[Re]!==!0&&this.elements[Re].getBaseElement&&(Be=this.elements[Re],je=this.layers[Re].ddd?this.getThreeDContainerByPos(Re):Be.getBaseElement(),Ie=je||Ie),Re+=1;Ie?(!Pe.ddd||!this.supports3d)&&this.layerElement.insertBefore(Ce,Ie):(!Pe.ddd||!this.supports3d)&&this.layerElement.appendChild(Ce)}else this.addTo3dContainer(Ce,_e)}},HybridRendererBase.prototype.createShape=function(Ee){return this.supports3d?new HShapeElement(Ee,this.globalData,this):new SVGShapeElement(Ee,this.globalData,this)},HybridRendererBase.prototype.createText=function(Ee){return this.supports3d?new HTextElement(Ee,this.globalData,this):new SVGTextLottieElement(Ee,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(Ee){return this.camera=new HCameraElement(Ee,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(Ee){return this.supports3d?new HImageElement(Ee,this.globalData,this):new IImageElement(Ee,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(Ee){return this.supports3d?new HSolidElement(Ee,this.globalData,this):new ISolidElement(Ee,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(Ee){for(var _e=0,Ce=this.threeDElements.length;_e<Ce;){if(this.threeDElements[_e].startPos<=Ee&&this.threeDElements[_e].endPos>=Ee)return this.threeDElements[_e].perspectiveElem;_e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(Ee,_e){var Ce=createTag("div"),Pe,Re;styleDiv(Ce);var Ie=createTag("div");if(styleDiv(Ie),_e==="3d"){Pe=Ce.style,Pe.width=this.globalData.compSize.w+"px",Pe.height=this.globalData.compSize.h+"px";var Be="50% 50%";Pe.webkitTransformOrigin=Be,Pe.mozTransformOrigin=Be,Pe.transformOrigin=Be,Re=Ie.style;var je="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Re.transform=je,Re.webkitTransform=je}Ce.appendChild(Ie);var De={container:Ie,perspectiveElem:Ce,startPos:Ee,endPos:Ee,type:_e};return this.threeDElements.push(De),De},HybridRendererBase.prototype.build3dContainers=function(){var Ee,_e=this.layers.length,Ce,Pe="";for(Ee=0;Ee<_e;Ee+=1)this.layers[Ee].ddd&&this.layers[Ee].ty!==3?(Pe!=="3d"&&(Pe="3d",Ce=this.createThreeDContainer(Ee,"3d")),Ce.endPos=Math.max(Ce.endPos,Ee)):(Pe!=="2d"&&(Pe="2d",Ce=this.createThreeDContainer(Ee,"2d")),Ce.endPos=Math.max(Ce.endPos,Ee));for(_e=this.threeDElements.length,Ee=_e-1;Ee>=0;Ee-=1)this.resizerElem.appendChild(this.threeDElements[Ee].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(Ee,_e){for(var Ce=0,Pe=this.threeDElements.length;Ce<Pe;){if(_e<=this.threeDElements[Ce].endPos){for(var Re=this.threeDElements[Ce].startPos,Ie;Re<_e;)this.elements[Re]&&this.elements[Re].getBaseElement&&(Ie=this.elements[Re].getBaseElement()),Re+=1;Ie?this.threeDElements[Ce].container.insertBefore(Ee,Ie):this.threeDElements[Ce].container.appendChild(Ee);break}Ce+=1}},HybridRendererBase.prototype.configAnimation=function(Ee){var _e=createTag("div"),Ce=this.animationItem.wrapper,Pe=_e.style;Pe.width=Ee.w+"px",Pe.height=Ee.h+"px",this.resizerElem=_e,styleDiv(_e),Pe.transformStyle="flat",Pe.mozTransformStyle="flat",Pe.webkitTransformStyle="flat",this.renderConfig.className&&_e.setAttribute("class",this.renderConfig.className),Ce.appendChild(_e),Pe.overflow="hidden";var Re=createNS("svg");Re.setAttribute("width","1"),Re.setAttribute("height","1"),styleDiv(Re),this.resizerElem.appendChild(Re);var Ie=createNS("defs");Re.appendChild(Ie),this.data=Ee,this.setupGlobalData(Ee,Re),this.globalData.defs=Ie,this.layers=Ee.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var Ee,_e=this.layers?this.layers.length:0;for(Ee=0;Ee<_e;Ee+=1)this.elements[Ee]&&this.elements[Ee].destroy&&this.elements[Ee].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var Ee=this.animationItem.wrapper.offsetWidth,_e=this.animationItem.wrapper.offsetHeight,Ce=Ee/_e,Pe=this.globalData.compSize.w/this.globalData.compSize.h,Re,Ie,Be,je;Pe>Ce?(Re=Ee/this.globalData.compSize.w,Ie=Ee/this.globalData.compSize.w,Be=0,je=(_e-this.globalData.compSize.h*(Ee/this.globalData.compSize.w))/2):(Re=_e/this.globalData.compSize.h,Ie=_e/this.globalData.compSize.h,Be=(Ee-this.globalData.compSize.w*(_e/this.globalData.compSize.h))/2,je=0);var De=this.resizerElem.style;De.webkitTransform="matrix3d("+Re+",0,0,0,0,"+Ie+",0,0,0,0,1,0,"+Be+","+je+",0,1)",De.transform=De.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var Ee=this.globalData.compSize.w,_e=this.globalData.compSize.h,Ce,Pe=this.threeDElements.length;for(Ce=0;Ce<Pe;Ce+=1){var Re=this.threeDElements[Ce].perspectiveElem.style;Re.webkitPerspective=Math.sqrt(Math.pow(Ee,2)+Math.pow(_e,2))+"px",Re.perspective=Re.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(Ee){var _e,Ce=Ee.length,Pe=createTag("div");for(_e=0;_e<Ce;_e+=1)if(Ee[_e].xt){var Re=this.createComp(Ee[_e],Pe,this.globalData.comp,null);Re.initExpressions(),this.globalData.projectInterface.registerComposition(Re)}};function HCompElement(Ee,_e,Ce){this.layers=Ee.layers,this.supports3d=!Ee.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(Ee,_e,Ce),this.tm=Ee.tm?PropertyFactory.getProp(this,Ee.tm,0,_e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(Ee,_e){for(var Ce=0,Pe;Ce<_e;)this.elements[Ce]&&this.elements[Ce].getBaseElement&&(Pe=this.elements[Ce].getBaseElement()),Ce+=1;Pe?this.layerElement.insertBefore(Ee,Pe):this.layerElement.appendChild(Ee)},HCompElement.prototype.createComp=function(Ee){return this.supports3d?new HCompElement(Ee,this.globalData,this):new SVGCompElement(Ee,this.globalData,this)};function HybridRenderer(Ee,_e){this.animationItem=Ee,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:_e&&_e.className||"",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"400%",height:_e&&_e.filterSize&&_e.filterSize.height||"400%",x:_e&&_e.filterSize&&_e.filterSize.x||"-100%",y:_e&&_e.filterSize&&_e.filterSize.y||"-100%"},runExpressions:!_e||_e.runExpressions===void 0||_e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(Ee){return this.supports3d?new HCompElement(Ee,this.globalData,this):new SVGCompElement(Ee,this.globalData,this)};var CompExpressionInterface=function(){return function(Ee){function _e(Ce){for(var Pe=0,Re=Ee.layers.length;Pe<Re;){if(Ee.layers[Pe].nm===Ce||Ee.layers[Pe].ind===Ce)return Ee.elements[Pe].layerInterface;Pe+=1}return null}return Object.defineProperty(_e,"_name",{value:Ee.data.nm}),_e.layer=_e,_e.pixelAspect=1,_e.height=Ee.data.h||Ee.globalData.compSize.h,_e.width=Ee.data.w||Ee.globalData.compSize.w,_e.pixelAspect=1,_e.frameDuration=1/Ee.globalData.frameRate,_e.displayStartTime=0,_e.numLayers=Ee.layers.length,_e}}();function _typeof$2(Ee){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$2(Ee)}function seedRandom(Ee,_e){var Ce=this,Pe=256,Re=6,Ie=52,Be="random",je=_e.pow(Pe,Re),De=_e.pow(2,Ie),Fe=De*2,Oe=Pe-1,ke;function Me(qe,Ye,Xe){var rr=[];Ye=Ye===!0?{entropy:!0}:Ye||{};var Je=Ke(Qe(Ye.entropy?[qe,We(Ee)]:qe===null?ze():qe,3),rr),er=new $e(rr),or=function(){for(var ar=er.g(Re),fr=je,gr=0;ar<De;)ar=(ar+gr)*Pe,fr*=Pe,gr=er.g(1);for(;ar>=Fe;)ar/=2,fr/=2,gr>>>=1;return(ar+gr)/fr};return or.int32=function(){return er.g(4)|0},or.quick=function(){return er.g(4)/4294967296},or.double=or,Ke(We(er.S),Ee),(Ye.pass||Xe||function(pr,ar,fr,gr){return gr&&(gr.S&&He(gr,er),pr.state=function(){return He(er,{})}),fr?(_e[Be]=pr,ar):pr})(or,Je,"global"in Ye?Ye.global:this==_e,Ye.state)}_e["seed"+Be]=Me;function $e(qe){var Ye,Xe=qe.length,rr=this,Je=0,er=rr.i=rr.j=0,or=rr.S=[];for(Xe||(qe=[Xe++]);Je<Pe;)or[Je]=Je++;for(Je=0;Je<Pe;Je++)or[Je]=or[er=Oe&er+qe[Je%Xe]+(Ye=or[Je])],or[er]=Ye;rr.g=function(pr){for(var ar,fr=0,gr=rr.i,Rr=rr.j,Ir=rr.S;pr--;)ar=Ir[gr=Oe&gr+1],fr=fr*Pe+Ir[Oe&(Ir[gr]=Ir[Rr=Oe&Rr+ar])+(Ir[Rr]=ar)];return rr.i=gr,rr.j=Rr,fr}}function He(qe,Ye){return Ye.i=qe.i,Ye.j=qe.j,Ye.S=qe.S.slice(),Ye}function Qe(qe,Ye){var Xe=[],rr=_typeof$2(qe),Je;if(Ye&&rr=="object")for(Je in qe)try{Xe.push(Qe(qe[Je],Ye-1))}catch{}return Xe.length?Xe:rr=="string"?qe:qe+"\0"}function Ke(qe,Ye){for(var Xe=qe+"",rr,Je=0;Je<Xe.length;)Ye[Oe&Je]=Oe&(rr^=Ye[Oe&Je]*19)+Xe.charCodeAt(Je++);return We(Ye)}function ze(){try{var qe=new Uint8Array(Pe);return(Ce.crypto||Ce.msCrypto).getRandomValues(qe),We(qe)}catch{var Ye=Ce.navigator,Xe=Ye&&Ye.plugins;return[+new Date,Ce,Xe,Ce.screen,We(Ee)]}}function We(qe){return String.fromCharCode.apply(0,qe)}Ke(_e.random(),Ee)}function initialize$2(Ee){seedRandom([],Ee)}var propTypes={SHAPE:"shape"};function _typeof$1(Ee){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$1(Ee)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(Ee){return Ee.constructor===Array||Ee.constructor===Float32Array}function isNumerable(Ee,_e){return Ee==="number"||_e instanceof Number||Ee==="boolean"||Ee==="string"}function $bm_neg(Ee){var _e=_typeof$1(Ee);if(_e==="number"||Ee instanceof Number||_e==="boolean")return-Ee;if($bm_isInstanceOfArray(Ee)){var Ce,Pe=Ee.length,Re=[];for(Ce=0;Ce<Pe;Ce+=1)Re[Ce]=-Ee[Ce];return Re}return Ee.propType?Ee.v:-Ee}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(Ee,_e){var Ce=_typeof$1(Ee),Pe=_typeof$1(_e);if(isNumerable(Ce,Ee)&&isNumerable(Pe,_e)||Ce==="string"||Pe==="string")return Ee+_e;if($bm_isInstanceOfArray(Ee)&&isNumerable(Pe,_e))return Ee=Ee.slice(0),Ee[0]+=_e,Ee;if(isNumerable(Ce,Ee)&&$bm_isInstanceOfArray(_e))return _e=_e.slice(0),_e[0]=Ee+_e[0],_e;if($bm_isInstanceOfArray(Ee)&&$bm_isInstanceOfArray(_e)){for(var Re=0,Ie=Ee.length,Be=_e.length,je=[];Re<Ie||Re<Be;)(typeof Ee[Re]=="number"||Ee[Re]instanceof Number)&&(typeof _e[Re]=="number"||_e[Re]instanceof Number)?je[Re]=Ee[Re]+_e[Re]:je[Re]=_e[Re]===void 0?Ee[Re]:Ee[Re]||_e[Re],Re+=1;return je}return 0}var add=sum;function sub(Ee,_e){var Ce=_typeof$1(Ee),Pe=_typeof$1(_e);if(isNumerable(Ce,Ee)&&isNumerable(Pe,_e))return Ce==="string"&&(Ee=parseInt(Ee,10)),Pe==="string"&&(_e=parseInt(_e,10)),Ee-_e;if($bm_isInstanceOfArray(Ee)&&isNumerable(Pe,_e))return Ee=Ee.slice(0),Ee[0]-=_e,Ee;if(isNumerable(Ce,Ee)&&$bm_isInstanceOfArray(_e))return _e=_e.slice(0),_e[0]=Ee-_e[0],_e;if($bm_isInstanceOfArray(Ee)&&$bm_isInstanceOfArray(_e)){for(var Re=0,Ie=Ee.length,Be=_e.length,je=[];Re<Ie||Re<Be;)(typeof Ee[Re]=="number"||Ee[Re]instanceof Number)&&(typeof _e[Re]=="number"||_e[Re]instanceof Number)?je[Re]=Ee[Re]-_e[Re]:je[Re]=_e[Re]===void 0?Ee[Re]:Ee[Re]||_e[Re],Re+=1;return je}return 0}function mul(Ee,_e){var Ce=_typeof$1(Ee),Pe=_typeof$1(_e),Re;if(isNumerable(Ce,Ee)&&isNumerable(Pe,_e))return Ee*_e;var Ie,Be;if($bm_isInstanceOfArray(Ee)&&isNumerable(Pe,_e)){for(Be=Ee.length,Re=createTypedArray("float32",Be),Ie=0;Ie<Be;Ie+=1)Re[Ie]=Ee[Ie]*_e;return Re}if(isNumerable(Ce,Ee)&&$bm_isInstanceOfArray(_e)){for(Be=_e.length,Re=createTypedArray("float32",Be),Ie=0;Ie<Be;Ie+=1)Re[Ie]=Ee*_e[Ie];return Re}return 0}function div(Ee,_e){var Ce=_typeof$1(Ee),Pe=_typeof$1(_e),Re;if(isNumerable(Ce,Ee)&&isNumerable(Pe,_e))return Ee/_e;var Ie,Be;if($bm_isInstanceOfArray(Ee)&&isNumerable(Pe,_e)){for(Be=Ee.length,Re=createTypedArray("float32",Be),Ie=0;Ie<Be;Ie+=1)Re[Ie]=Ee[Ie]/_e;return Re}if(isNumerable(Ce,Ee)&&$bm_isInstanceOfArray(_e)){for(Be=_e.length,Re=createTypedArray("float32",Be),Ie=0;Ie<Be;Ie+=1)Re[Ie]=Ee/_e[Ie];return Re}return 0}function mod(Ee,_e){return typeof Ee=="string"&&(Ee=parseInt(Ee,10)),typeof _e=="string"&&(_e=parseInt(_e,10)),Ee%_e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(Ee,_e,Ce){if(_e>Ce){var Pe=Ce;Ce=_e,_e=Pe}return Math.min(Math.max(Ee,_e),Ce)}function radiansToDegrees(Ee){return Ee/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(Ee){return Ee*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(Ee,_e){if(typeof Ee=="number"||Ee instanceof Number)return _e=_e||0,Math.abs(Ee-_e);_e||(_e=helperLengthArray);var Ce,Pe=Math.min(Ee.length,_e.length),Re=0;for(Ce=0;Ce<Pe;Ce+=1)Re+=Math.pow(_e[Ce]-Ee[Ce],2);return Math.sqrt(Re)}function normalize(Ee){return div(Ee,length(Ee))}function rgbToHsl(Ee){var _e=Ee[0],Ce=Ee[1],Pe=Ee[2],Re=Math.max(_e,Ce,Pe),Ie=Math.min(_e,Ce,Pe),Be,je,De=(Re+Ie)/2;if(Re===Ie)Be=0,je=0;else{var Fe=Re-Ie;switch(je=De>.5?Fe/(2-Re-Ie):Fe/(Re+Ie),Re){case _e:Be=(Ce-Pe)/Fe+(Ce<Pe?6:0);break;case Ce:Be=(Pe-_e)/Fe+2;break;case Pe:Be=(_e-Ce)/Fe+4;break}Be/=6}return[Be,je,De,Ee[3]]}function hue2rgb(Ee,_e,Ce){return Ce<0&&(Ce+=1),Ce>1&&(Ce-=1),Ce<1/6?Ee+(_e-Ee)*6*Ce:Ce<1/2?_e:Ce<2/3?Ee+(_e-Ee)*(2/3-Ce)*6:Ee}function hslToRgb(Ee){var _e=Ee[0],Ce=Ee[1],Pe=Ee[2],Re,Ie,Be;if(Ce===0)Re=Pe,Be=Pe,Ie=Pe;else{var je=Pe<.5?Pe*(1+Ce):Pe+Ce-Pe*Ce,De=2*Pe-je;Re=hue2rgb(De,je,_e+1/3),Ie=hue2rgb(De,je,_e),Be=hue2rgb(De,je,_e-1/3)}return[Re,Ie,Be,Ee[3]]}function linear(Ee,_e,Ce,Pe,Re){if((Pe===void 0||Re===void 0)&&(Pe=_e,Re=Ce,_e=0,Ce=1),Ce<_e){var Ie=Ce;Ce=_e,_e=Ie}if(Ee<=_e)return Pe;if(Ee>=Ce)return Re;var Be=Ce===_e?0:(Ee-_e)/(Ce-_e);if(!Pe.length)return Pe+(Re-Pe)*Be;var je,De=Pe.length,Fe=createTypedArray("float32",De);for(je=0;je<De;je+=1)Fe[je]=Pe[je]+(Re[je]-Pe[je])*Be;return Fe}function random(Ee,_e){if(_e===void 0&&(Ee===void 0?(Ee=0,_e=1):(_e=Ee,Ee=void 0)),_e.length){var Ce,Pe=_e.length;Ee||(Ee=createTypedArray("float32",Pe));var Re=createTypedArray("float32",Pe),Ie=BMMath.random();for(Ce=0;Ce<Pe;Ce+=1)Re[Ce]=Ee[Ce]+Ie*(_e[Ce]-Ee[Ce]);return Re}Ee===void 0&&(Ee=0);var Be=BMMath.random();return Ee+Be*(_e-Ee)}function createPath(Ee,_e,Ce,Pe){var Re,Ie=Ee.length,Be=shapePool.newElement();Be.setPathData(!!Pe,Ie);var je=[0,0],De,Fe;for(Re=0;Re<Ie;Re+=1)De=_e&&_e[Re]?_e[Re]:je,Fe=Ce&&Ce[Re]?Ce[Re]:je,Be.setTripleAt(Ee[Re][0],Ee[Re][1],Fe[0]+Ee[Re][0],Fe[1]+Ee[Re][1],De[0]+Ee[Re][0],De[1]+Ee[Re][1],Re,!0);return Be}function initiateExpression(elem,data,property){function noOp(Ee){return Ee}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function Ee(_e,Ce){var Pe,Re,Ie=this.pv.length?this.pv.length:1,Be=createTypedArray("float32",Ie);_e=5;var je=Math.floor(time*_e);for(Pe=0,Re=0;Pe<je;){for(Re=0;Re<Ie;Re+=1)Be[Re]+=-Ce+Ce*2*BMMath.random();Pe+=1}var De=time*_e,Fe=De-Math.floor(De),Oe=createTypedArray("float32",Ie);if(Ie>1){for(Re=0;Re<Ie;Re+=1)Oe[Re]=this.pv[Re]+Be[Re]+(-Ce+Ce*2*BMMath.random())*Fe;return Oe}return this.pv+Be[0]+(-Ce+Ce*2*BMMath.random())*Fe}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(Ee,_e){return loopIn(Ee,_e,!0)}function loopOutDuration(Ee,_e){return loopOut(Ee,_e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(Ee,_e){var Ce=[_e[0]-Ee[0],_e[1]-Ee[1],_e[2]-Ee[2]],Pe=Math.atan2(Ce[0],Math.sqrt(Ce[1]*Ce[1]+Ce[2]*Ce[2]))/degToRads,Re=-Math.atan2(Ce[1],Ce[2])/degToRads;return[Re,Pe,0]}function easeOut(Ee,_e,Ce,Pe,Re){return applyEase(easeOutBez,Ee,_e,Ce,Pe,Re)}function easeIn(Ee,_e,Ce,Pe,Re){return applyEase(easeInBez,Ee,_e,Ce,Pe,Re)}function ease(Ee,_e,Ce,Pe,Re){return applyEase(easeInOutBez,Ee,_e,Ce,Pe,Re)}function applyEase(Ee,_e,Ce,Pe,Re,Ie){Re===void 0?(Re=Ce,Ie=Pe):_e=(_e-Ce)/(Pe-Ce),_e>1?_e=1:_e<0&&(_e=0);var Be=Ee(_e);if($bm_isInstanceOfArray(Re)){var je,De=Re.length,Fe=createTypedArray("float32",De);for(je=0;je<De;je+=1)Fe[je]=(Ie[je]-Re[je])*Be+Re[je];return Fe}return(Ie-Re)*Be+Re}function nearestKey(Ee){var _e,Ce=data.k.length,Pe,Re;if(!data.k.length||typeof data.k[0]=="number")Pe=0,Re=0;else if(Pe=-1,Ee*=elem.comp.globalData.frameRate,Ee<data.k[0].t)Pe=1,Re=data.k[0].t;else{for(_e=0;_e<Ce-1;_e+=1)if(Ee===data.k[_e].t){Pe=_e+1,Re=data.k[_e].t;break}else if(Ee>data.k[_e].t&&Ee<data.k[_e+1].t){Ee-data.k[_e].t>data.k[_e+1].t-Ee?(Pe=_e+2,Re=data.k[_e+1].t):(Pe=_e+1,Re=data.k[_e].t);break}Pe===-1&&(Pe=_e+1,Re=data.k[_e].t)}var Ie={};return Ie.index=Pe,Ie.time=Re/elem.comp.globalData.frameRate,Ie}function key(Ee){var _e,Ce,Pe;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+Ee);Ee-=1,_e={time:data.k[Ee].t/elem.comp.globalData.frameRate,value:[]};var Re=Object.prototype.hasOwnProperty.call(data.k[Ee],"s")?data.k[Ee].s:data.k[Ee-1].e;for(Pe=Re.length,Ce=0;Ce<Pe;Ce+=1)_e[Ce]=Re[Ce],_e.value[Ce]=Re[Ce];return _e}function framesToTime(Ee,_e){return _e||(_e=elem.comp.globalData.frameRate),Ee/_e}function timeToFrames(Ee,_e){return!Ee&&Ee!==0&&(Ee=time),_e||(_e=elem.comp.globalData.frameRate),Ee*_e}function seedRandom(Ee){BMMath.seedrandom(randSeed+Ee)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(Ee,_e){return typeof value=="string"?_e===void 0?value.substring(Ee):value.substring(Ee,_e):""}function substr(Ee,_e){return typeof value=="string"?_e===void 0?value.substr(Ee):value.substr(Ee,_e):""}function posterizeTime(Ee){time=Ee===0?0:Math.floor(time*Ee)/Ee,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(Ee){return value=Ee,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var Ee={};Ee.initExpressions=_e,Ee.resetFrame=ExpressionManager.resetFrame;function _e(Ce){var Pe=0,Re=[];function Ie(){Pe+=1}function Be(){Pe-=1,Pe===0&&De()}function je(Fe){Re.indexOf(Fe)===-1&&Re.push(Fe)}function De(){var Fe,Oe=Re.length;for(Fe=0;Fe<Oe;Fe+=1)Re[Fe].release();Re.length=0}Ce.renderer.compInterface=CompExpressionInterface(Ce.renderer),Ce.renderer.globalData.projectInterface.registerComposition(Ce.renderer),Ce.renderer.globalData.pushExpression=Ie,Ce.renderer.globalData.popExpression=Be,Ce.renderer.globalData.registerExpressionProperty=je}return Ee}(),MaskManagerInterface=function(){function Ee(Ce,Pe){this._mask=Ce,this._data=Pe}Object.defineProperty(Ee.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(Ee.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var _e=function(Pe){var Re=createSizedArray(Pe.viewData.length),Ie,Be=Pe.viewData.length;for(Ie=0;Ie<Be;Ie+=1)Re[Ie]=new Ee(Pe.viewData[Ie],Pe.masksProperties[Ie]);var je=function(Fe){for(Ie=0;Ie<Be;){if(Pe.masksProperties[Ie].nm===Fe)return Re[Ie];Ie+=1}return null};return je};return _e}(),ExpressionPropertyInterface=function(){var Ee={pv:0,v:0,mult:1},_e={pv:[0,0,0],v:[0,0,0],mult:1};function Ce(Be,je,De){Object.defineProperty(Be,"velocity",{get:function(){return je.getVelocityAtTime(je.comp.currentFrame)}}),Be.numKeys=je.keyframes?je.keyframes.length:0,Be.key=function(Fe){if(!Be.numKeys)return 0;var Oe="";"s"in je.keyframes[Fe-1]?Oe=je.keyframes[Fe-1].s:"e"in je.keyframes[Fe-2]?Oe=je.keyframes[Fe-2].e:Oe=je.keyframes[Fe-2].s;var ke=De==="unidimensional"?new Number(Oe):Object.assign({},Oe);return ke.time=je.keyframes[Fe-1].t/je.elem.comp.globalData.frameRate,ke.value=De==="unidimensional"?Oe[0]:Oe,ke},Be.valueAtTime=je.getValueAtTime,Be.speedAtTime=je.getSpeedAtTime,Be.velocityAtTime=je.getVelocityAtTime,Be.propertyGroup=je.propertyGroup}function Pe(Be){(!Be||!("pv"in Be))&&(Be=Ee);var je=1/Be.mult,De=Be.pv*je,Fe=new Number(De);return Fe.value=De,Ce(Fe,Be,"unidimensional"),function(){return Be.k&&Be.getValue(),De=Be.v*je,Fe.value!==De&&(Fe=new Number(De),Fe.value=De,Fe[0]=De,Ce(Fe,Be,"unidimensional")),Fe}}function Re(Be){(!Be||!("pv"in Be))&&(Be=_e);var je=1/Be.mult,De=Be.data&&Be.data.l||Be.pv.length,Fe=createTypedArray("float32",De),Oe=createTypedArray("float32",De);return Fe.value=Oe,Ce(Fe,Be,"multidimensional"),function(){Be.k&&Be.getValue();for(var ke=0;ke<De;ke+=1)Oe[ke]=Be.v[ke]*je,Fe[ke]=Oe[ke];return Fe}}function Ie(){return Ee}return function(Be){return Be?Be.propType==="unidimensional"?Pe(Be):Re(Be):Ie}}(),TransformExpressionInterface=function(){return function(Ee){function _e(Be){switch(Be){case"scale":case"Scale":case"ADBE Scale":case 6:return _e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return _e.rotation;case"ADBE Rotate X":return _e.xRotation;case"ADBE Rotate Y":return _e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return _e.position;case"ADBE Position_0":return _e.xPosition;case"ADBE Position_1":return _e.yPosition;case"ADBE Position_2":return _e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return _e.anchorPoint;case"opacity":case"Opacity":case 11:return _e.opacity;default:return null}}Object.defineProperty(_e,"rotation",{get:ExpressionPropertyInterface(Ee.r||Ee.rz)}),Object.defineProperty(_e,"zRotation",{get:ExpressionPropertyInterface(Ee.rz||Ee.r)}),Object.defineProperty(_e,"xRotation",{get:ExpressionPropertyInterface(Ee.rx)}),Object.defineProperty(_e,"yRotation",{get:ExpressionPropertyInterface(Ee.ry)}),Object.defineProperty(_e,"scale",{get:ExpressionPropertyInterface(Ee.s)});var Ce,Pe,Re,Ie;return Ee.p?Ie=ExpressionPropertyInterface(Ee.p):(Ce=ExpressionPropertyInterface(Ee.px),Pe=ExpressionPropertyInterface(Ee.py),Ee.pz&&(Re=ExpressionPropertyInterface(Ee.pz))),Object.defineProperty(_e,"position",{get:function(){return Ee.p?Ie():[Ce(),Pe(),Re?Re():0]}}),Object.defineProperty(_e,"xPosition",{get:ExpressionPropertyInterface(Ee.px)}),Object.defineProperty(_e,"yPosition",{get:ExpressionPropertyInterface(Ee.py)}),Object.defineProperty(_e,"zPosition",{get:ExpressionPropertyInterface(Ee.pz)}),Object.defineProperty(_e,"anchorPoint",{get:ExpressionPropertyInterface(Ee.a)}),Object.defineProperty(_e,"opacity",{get:ExpressionPropertyInterface(Ee.o)}),Object.defineProperty(_e,"skew",{get:ExpressionPropertyInterface(Ee.sk)}),Object.defineProperty(_e,"skewAxis",{get:ExpressionPropertyInterface(Ee.sa)}),Object.defineProperty(_e,"orientation",{get:ExpressionPropertyInterface(Ee.or)}),_e}}(),LayerExpressionInterface=function(){function Ee(Fe){var Oe=new Matrix;if(Fe!==void 0){var ke=this._elem.finalTransform.mProp.getValueAtTime(Fe);ke.clone(Oe)}else{var Me=this._elem.finalTransform.mProp;Me.applyToMatrix(Oe)}return Oe}function _e(Fe,Oe){var ke=this.getMatrix(Oe);return ke.props[12]=0,ke.props[13]=0,ke.props[14]=0,this.applyPoint(ke,Fe)}function Ce(Fe,Oe){var ke=this.getMatrix(Oe);return this.applyPoint(ke,Fe)}function Pe(Fe,Oe){var ke=this.getMatrix(Oe);return ke.props[12]=0,ke.props[13]=0,ke.props[14]=0,this.invertPoint(ke,Fe)}function Re(Fe,Oe){var ke=this.getMatrix(Oe);return this.invertPoint(ke,Fe)}function Ie(Fe,Oe){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ke,Me=this._elem.hierarchy.length;for(ke=0;ke<Me;ke+=1)this._elem.hierarchy[ke].finalTransform.mProp.applyToMatrix(Fe)}return Fe.applyToPointArray(Oe[0],Oe[1],Oe[2]||0)}function Be(Fe,Oe){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ke,Me=this._elem.hierarchy.length;for(ke=0;ke<Me;ke+=1)this._elem.hierarchy[ke].finalTransform.mProp.applyToMatrix(Fe)}return Fe.inversePoint(Oe)}function je(Fe){var Oe=new Matrix;if(Oe.reset(),this._elem.finalTransform.mProp.applyToMatrix(Oe),this._elem.hierarchy&&this._elem.hierarchy.length){var ke,Me=this._elem.hierarchy.length;for(ke=0;ke<Me;ke+=1)this._elem.hierarchy[ke].finalTransform.mProp.applyToMatrix(Oe);return Oe.inversePoint(Fe)}return Oe.inversePoint(Fe)}function De(){return[1,1,1,1]}return function(Fe){var Oe;function ke(Qe){$e.mask=new MaskManagerInterface(Qe,Fe)}function Me(Qe){$e.effect=Qe}function $e(Qe){switch(Qe){case"ADBE Root Vectors Group":case"Contents":case 2:return $e.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return Oe;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return $e.effect;case"ADBE Text Properties":return $e.textInterface;default:return null}}$e.getMatrix=Ee,$e.invertPoint=Be,$e.applyPoint=Ie,$e.toWorld=Ce,$e.toWorldVec=_e,$e.fromWorld=Re,$e.fromWorldVec=Pe,$e.toComp=Ce,$e.fromComp=je,$e.sampleImage=De,$e.sourceRectAtTime=Fe.sourceRectAtTime.bind(Fe),$e._elem=Fe,Oe=TransformExpressionInterface(Fe.finalTransform.mProp);var He=getDescriptor(Oe,"anchorPoint");return Object.defineProperties($e,{hasParent:{get:function(){return Fe.hierarchy.length}},parent:{get:function(){return Fe.hierarchy[0].layerInterface}},rotation:getDescriptor(Oe,"rotation"),scale:getDescriptor(Oe,"scale"),position:getDescriptor(Oe,"position"),opacity:getDescriptor(Oe,"opacity"),anchorPoint:He,anchor_point:He,transform:{get:function(){return Oe}},active:{get:function(){return Fe.isInRange}}}),$e.startTime=Fe.data.st,$e.index=Fe.data.ind,$e.source=Fe.data.refId,$e.height=Fe.data.ty===0?Fe.data.h:100,$e.width=Fe.data.ty===0?Fe.data.w:100,$e.inPoint=Fe.data.ip/Fe.comp.globalData.frameRate,$e.outPoint=Fe.data.op/Fe.comp.globalData.frameRate,$e._name=Fe.data.nm,$e.registerMaskInterface=ke,$e.registerEffectsInterface=Me,$e}}(),propertyGroupFactory=function(){return function(Ee,_e){return function(Ce){return Ce=Ce===void 0?1:Ce,Ce<=0?Ee:_e(Ce-1)}}}(),PropertyInterface=function(){return function(Ee,_e){var Ce={_name:Ee};function Pe(Re){return Re=Re===void 0?1:Re,Re<=0?Ce:_e(Re-1)}return Pe}}(),EffectsExpressionInterface=function(){var Ee={createEffectsInterface:_e};function _e(Re,Ie){if(Re.effectsManager){var Be=[],je=Re.data.ef,De,Fe=Re.effectsManager.effectElements.length;for(De=0;De<Fe;De+=1)Be.push(Ce(je[De],Re.effectsManager.effectElements[De],Ie,Re));var Oe=Re.data.ef||[],ke=function($e){for(De=0,Fe=Oe.length;De<Fe;){if($e===Oe[De].nm||$e===Oe[De].mn||$e===Oe[De].ix)return Be[De];De+=1}return null};return Object.defineProperty(ke,"numProperties",{get:function(){return Oe.length}}),ke}return null}function Ce(Re,Ie,Be,je){function De($e){for(var He=Re.ef,Qe=0,Ke=He.length;Qe<Ke;){if($e===He[Qe].nm||$e===He[Qe].mn||$e===He[Qe].ix)return He[Qe].ty===5?Oe[Qe]:Oe[Qe]();Qe+=1}throw new Error}var Fe=propertyGroupFactory(De,Be),Oe=[],ke,Me=Re.ef.length;for(ke=0;ke<Me;ke+=1)Re.ef[ke].ty===5?Oe.push(Ce(Re.ef[ke],Ie.effectElements[ke],Ie.effectElements[ke].propertyGroup,je)):Oe.push(Pe(Ie.effectElements[ke],Re.ef[ke].ty,je,Fe));return Re.mn==="ADBE Color Control"&&Object.defineProperty(De,"color",{get:function(){return Oe[0]()}}),Object.defineProperties(De,{numProperties:{get:function(){return Re.np}},_name:{value:Re.nm},propertyGroup:{value:Fe}}),De.enabled=Re.en!==0,De.active=De.enabled,De}function Pe(Re,Ie,Be,je){var De=ExpressionPropertyInterface(Re.p);function Fe(){return Ie===10?Be.comp.compInterface(Re.p.v):De()}return Re.p.setGroupProperty&&Re.p.setGroupProperty(PropertyInterface("",je)),Fe}return Ee}(),ShapePathInterface=function(){return function(_e,Ce,Pe){var Re=Ce.sh;function Ie(je){return je==="Shape"||je==="shape"||je==="Path"||je==="path"||je==="ADBE Vector Shape"||je===2?Ie.path:null}var Be=propertyGroupFactory(Ie,Pe);return Re.setGroupProperty(PropertyInterface("Path",Be)),Object.defineProperties(Ie,{path:{get:function(){return Re.k&&Re.getValue(),Re}},shape:{get:function(){return Re.k&&Re.getValue(),Re}},_name:{value:_e.nm},ix:{value:_e.ix},propertyIndex:{value:_e.ix},mn:{value:_e.mn},propertyGroup:{value:Pe}}),Ie}}(),ShapeExpressionInterface=function(){function Ee(He,Qe,Ke){var ze=[],We,qe=He?He.length:0;for(We=0;We<qe;We+=1)He[We].ty==="gr"?ze.push(Ce(He[We],Qe[We],Ke)):He[We].ty==="fl"?ze.push(Pe(He[We],Qe[We],Ke)):He[We].ty==="st"?ze.push(Be(He[We],Qe[We],Ke)):He[We].ty==="tm"?ze.push(je(He[We],Qe[We],Ke)):He[We].ty==="tr"||(He[We].ty==="el"?ze.push(Fe(He[We],Qe[We],Ke)):He[We].ty==="sr"?ze.push(Oe(He[We],Qe[We],Ke)):He[We].ty==="sh"?ze.push(ShapePathInterface(He[We],Qe[We],Ke)):He[We].ty==="rc"?ze.push(ke(He[We],Qe[We],Ke)):He[We].ty==="rd"?ze.push(Me(He[We],Qe[We],Ke)):He[We].ty==="rp"?ze.push($e(He[We],Qe[We],Ke)):He[We].ty==="gf"?ze.push(Re(He[We],Qe[We],Ke)):ze.push(Ie(He[We],Qe[We])));return ze}function _e(He,Qe,Ke){var ze,We=function(Xe){for(var rr=0,Je=ze.length;rr<Je;){if(ze[rr]._name===Xe||ze[rr].mn===Xe||ze[rr].propertyIndex===Xe||ze[rr].ix===Xe||ze[rr].ind===Xe)return ze[rr];rr+=1}return typeof Xe=="number"?ze[Xe-1]:null};We.propertyGroup=propertyGroupFactory(We,Ke),ze=Ee(He.it,Qe.it,We.propertyGroup),We.numProperties=ze.length;var qe=De(He.it[He.it.length-1],Qe.it[Qe.it.length-1],We.propertyGroup);return We.transform=qe,We.propertyIndex=He.cix,We._name=He.nm,We}function Ce(He,Qe,Ke){var ze=function(Xe){switch(Xe){case"ADBE Vectors Group":case"Contents":case 2:return ze.content;default:return ze.transform}};ze.propertyGroup=propertyGroupFactory(ze,Ke);var We=_e(He,Qe,ze.propertyGroup),qe=De(He.it[He.it.length-1],Qe.it[Qe.it.length-1],ze.propertyGroup);return ze.content=We,ze.transform=qe,Object.defineProperty(ze,"_name",{get:function(){return He.nm}}),ze.numProperties=He.np,ze.propertyIndex=He.ix,ze.nm=He.nm,ze.mn=He.mn,ze}function Pe(He,Qe,Ke){function ze(We){return We==="Color"||We==="color"?ze.color:We==="Opacity"||We==="opacity"?ze.opacity:null}return Object.defineProperties(ze,{color:{get:ExpressionPropertyInterface(Qe.c)},opacity:{get:ExpressionPropertyInterface(Qe.o)},_name:{value:He.nm},mn:{value:He.mn}}),Qe.c.setGroupProperty(PropertyInterface("Color",Ke)),Qe.o.setGroupProperty(PropertyInterface("Opacity",Ke)),ze}function Re(He,Qe,Ke){function ze(We){return We==="Start Point"||We==="start point"?ze.startPoint:We==="End Point"||We==="end point"?ze.endPoint:We==="Opacity"||We==="opacity"?ze.opacity:null}return Object.defineProperties(ze,{startPoint:{get:ExpressionPropertyInterface(Qe.s)},endPoint:{get:ExpressionPropertyInterface(Qe.e)},opacity:{get:ExpressionPropertyInterface(Qe.o)},type:{get:function(){return"a"}},_name:{value:He.nm},mn:{value:He.mn}}),Qe.s.setGroupProperty(PropertyInterface("Start Point",Ke)),Qe.e.setGroupProperty(PropertyInterface("End Point",Ke)),Qe.o.setGroupProperty(PropertyInterface("Opacity",Ke)),ze}function Ie(){function He(){return null}return He}function Be(He,Qe,Ke){var ze=propertyGroupFactory(Je,Ke),We=propertyGroupFactory(rr,ze);function qe(er){Object.defineProperty(rr,He.d[er].nm,{get:ExpressionPropertyInterface(Qe.d.dataProps[er].p)})}var Ye,Xe=He.d?He.d.length:0,rr={};for(Ye=0;Ye<Xe;Ye+=1)qe(Ye),Qe.d.dataProps[Ye].p.setGroupProperty(We);function Je(er){return er==="Color"||er==="color"?Je.color:er==="Opacity"||er==="opacity"?Je.opacity:er==="Stroke Width"||er==="stroke width"?Je.strokeWidth:null}return Object.defineProperties(Je,{color:{get:ExpressionPropertyInterface(Qe.c)},opacity:{get:ExpressionPropertyInterface(Qe.o)},strokeWidth:{get:ExpressionPropertyInterface(Qe.w)},dash:{get:function(){return rr}},_name:{value:He.nm},mn:{value:He.mn}}),Qe.c.setGroupProperty(PropertyInterface("Color",ze)),Qe.o.setGroupProperty(PropertyInterface("Opacity",ze)),Qe.w.setGroupProperty(PropertyInterface("Stroke Width",ze)),Je}function je(He,Qe,Ke){function ze(qe){return qe===He.e.ix||qe==="End"||qe==="end"?ze.end:qe===He.s.ix?ze.start:qe===He.o.ix?ze.offset:null}var We=propertyGroupFactory(ze,Ke);return ze.propertyIndex=He.ix,Qe.s.setGroupProperty(PropertyInterface("Start",We)),Qe.e.setGroupProperty(PropertyInterface("End",We)),Qe.o.setGroupProperty(PropertyInterface("Offset",We)),ze.propertyIndex=He.ix,ze.propertyGroup=Ke,Object.defineProperties(ze,{start:{get:ExpressionPropertyInterface(Qe.s)},end:{get:ExpressionPropertyInterface(Qe.e)},offset:{get:ExpressionPropertyInterface(Qe.o)},_name:{value:He.nm}}),ze.mn=He.mn,ze}function De(He,Qe,Ke){function ze(qe){return He.a.ix===qe||qe==="Anchor Point"?ze.anchorPoint:He.o.ix===qe||qe==="Opacity"?ze.opacity:He.p.ix===qe||qe==="Position"?ze.position:He.r.ix===qe||qe==="Rotation"||qe==="ADBE Vector Rotation"?ze.rotation:He.s.ix===qe||qe==="Scale"?ze.scale:He.sk&&He.sk.ix===qe||qe==="Skew"?ze.skew:He.sa&&He.sa.ix===qe||qe==="Skew Axis"?ze.skewAxis:null}var We=propertyGroupFactory(ze,Ke);return Qe.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",We)),Qe.transform.mProps.p.setGroupProperty(PropertyInterface("Position",We)),Qe.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",We)),Qe.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",We)),Qe.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",We)),Qe.transform.mProps.sk&&(Qe.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",We)),Qe.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",We))),Qe.transform.op.setGroupProperty(PropertyInterface("Opacity",We)),Object.defineProperties(ze,{opacity:{get:ExpressionPropertyInterface(Qe.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Qe.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Qe.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Qe.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Qe.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Qe.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Qe.transform.mProps.sa)},_name:{value:He.nm}}),ze.ty="tr",ze.mn=He.mn,ze.propertyGroup=Ke,ze}function Fe(He,Qe,Ke){function ze(Ye){return He.p.ix===Ye?ze.position:He.s.ix===Ye?ze.size:null}var We=propertyGroupFactory(ze,Ke);ze.propertyIndex=He.ix;var qe=Qe.sh.ty==="tm"?Qe.sh.prop:Qe.sh;return qe.s.setGroupProperty(PropertyInterface("Size",We)),qe.p.setGroupProperty(PropertyInterface("Position",We)),Object.defineProperties(ze,{size:{get:ExpressionPropertyInterface(qe.s)},position:{get:ExpressionPropertyInterface(qe.p)},_name:{value:He.nm}}),ze.mn=He.mn,ze}function Oe(He,Qe,Ke){function ze(Ye){return He.p.ix===Ye?ze.position:He.r.ix===Ye?ze.rotation:He.pt.ix===Ye?ze.points:He.or.ix===Ye||Ye==="ADBE Vector Star Outer Radius"?ze.outerRadius:He.os.ix===Ye?ze.outerRoundness:He.ir&&(He.ir.ix===Ye||Ye==="ADBE Vector Star Inner Radius")?ze.innerRadius:He.is&&He.is.ix===Ye?ze.innerRoundness:null}var We=propertyGroupFactory(ze,Ke),qe=Qe.sh.ty==="tm"?Qe.sh.prop:Qe.sh;return ze.propertyIndex=He.ix,qe.or.setGroupProperty(PropertyInterface("Outer Radius",We)),qe.os.setGroupProperty(PropertyInterface("Outer Roundness",We)),qe.pt.setGroupProperty(PropertyInterface("Points",We)),qe.p.setGroupProperty(PropertyInterface("Position",We)),qe.r.setGroupProperty(PropertyInterface("Rotation",We)),He.ir&&(qe.ir.setGroupProperty(PropertyInterface("Inner Radius",We)),qe.is.setGroupProperty(PropertyInterface("Inner Roundness",We))),Object.defineProperties(ze,{position:{get:ExpressionPropertyInterface(qe.p)},rotation:{get:ExpressionPropertyInterface(qe.r)},points:{get:ExpressionPropertyInterface(qe.pt)},outerRadius:{get:ExpressionPropertyInterface(qe.or)},outerRoundness:{get:ExpressionPropertyInterface(qe.os)},innerRadius:{get:ExpressionPropertyInterface(qe.ir)},innerRoundness:{get:ExpressionPropertyInterface(qe.is)},_name:{value:He.nm}}),ze.mn=He.mn,ze}function ke(He,Qe,Ke){function ze(Ye){return He.p.ix===Ye?ze.position:He.r.ix===Ye?ze.roundness:He.s.ix===Ye||Ye==="Size"||Ye==="ADBE Vector Rect Size"?ze.size:null}var We=propertyGroupFactory(ze,Ke),qe=Qe.sh.ty==="tm"?Qe.sh.prop:Qe.sh;return ze.propertyIndex=He.ix,qe.p.setGroupProperty(PropertyInterface("Position",We)),qe.s.setGroupProperty(PropertyInterface("Size",We)),qe.r.setGroupProperty(PropertyInterface("Rotation",We)),Object.defineProperties(ze,{position:{get:ExpressionPropertyInterface(qe.p)},roundness:{get:ExpressionPropertyInterface(qe.r)},size:{get:ExpressionPropertyInterface(qe.s)},_name:{value:He.nm}}),ze.mn=He.mn,ze}function Me(He,Qe,Ke){function ze(Ye){return He.r.ix===Ye||Ye==="Round Corners 1"?ze.radius:null}var We=propertyGroupFactory(ze,Ke),qe=Qe;return ze.propertyIndex=He.ix,qe.rd.setGroupProperty(PropertyInterface("Radius",We)),Object.defineProperties(ze,{radius:{get:ExpressionPropertyInterface(qe.rd)},_name:{value:He.nm}}),ze.mn=He.mn,ze}function $e(He,Qe,Ke){function ze(Ye){return He.c.ix===Ye||Ye==="Copies"?ze.copies:He.o.ix===Ye||Ye==="Offset"?ze.offset:null}var We=propertyGroupFactory(ze,Ke),qe=Qe;return ze.propertyIndex=He.ix,qe.c.setGroupProperty(PropertyInterface("Copies",We)),qe.o.setGroupProperty(PropertyInterface("Offset",We)),Object.defineProperties(ze,{copies:{get:ExpressionPropertyInterface(qe.c)},offset:{get:ExpressionPropertyInterface(qe.o)},_name:{value:He.nm}}),ze.mn=He.mn,ze}return function(He,Qe,Ke){var ze;function We(Ye){if(typeof Ye=="number")return Ye=Ye===void 0?1:Ye,Ye===0?Ke:ze[Ye-1];for(var Xe=0,rr=ze.length;Xe<rr;){if(ze[Xe]._name===Ye)return ze[Xe];Xe+=1}return null}function qe(){return Ke}return We.propertyGroup=propertyGroupFactory(We,qe),ze=Ee(He,Qe,We.propertyGroup),We.numProperties=ze.length,We._name="Contents",We}}(),TextExpressionInterface=function(){return function(Ee){var _e;function Ce(Pe){switch(Pe){case"ADBE Text Document":return Ce.sourceText;default:return null}}return Object.defineProperty(Ce,"sourceText",{get:function(){Ee.textProperty.getValue();var Re=Ee.textProperty.currentData.t;return(!_e||Re!==_e.value)&&(_e=new String(Re),_e.value=Re||new String(Re),Object.defineProperty(_e,"style",{get:function(){return{fillColor:Ee.textProperty.currentData.fc}}})),_e}}),Ce}}();function _typeof(Ee){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof(Ee)}var FootageInterface=function(){var Ee=function(Pe){var Re="",Ie=Pe.getFootageData();function Be(){return Re="",Ie=Pe.getFootageData(),je}function je(De){if(Ie[De])return Re=De,Ie=Ie[De],_typeof(Ie)==="object"?je:Ie;var Fe=De.indexOf(Re);if(Fe!==-1){var Oe=parseInt(De.substr(Fe+Re.length),10);return Ie=Ie[Oe],_typeof(Ie)==="object"?je:Ie}return""}return Be},_e=function(Pe){function Re(Ie){return Ie==="Outline"?Re.outlineInterface():null}return Re._name="Outline",Re.outlineInterface=Ee(Pe),Re};return function(Ce){function Pe(Re){return Re==="Data"?Pe.dataInterface:null}return Pe._name="Data",Pe.dataInterface=_e(Ce),Pe}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(Ee){return interfaces[Ee]||null}var expressionHelpers=function(){function Ee(Be,je,De){je.x&&(De.k=!0,De.x=!0,De.initiateExpression=ExpressionManager.initiateExpression,De.effectsSequence.push(De.initiateExpression(Be,je,De).bind(De)))}function _e(Be){return Be*=this.elem.globalData.frameRate,Be-=this.offsetTime,Be!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<Be?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(Be,this._cachingAtTime),this._cachingAtTime.lastFrame=Be),this._cachingAtTime.value}function Ce(Be){var je=-.01,De=this.getValueAtTime(Be),Fe=this.getValueAtTime(Be+je),Oe=0;if(De.length){var ke;for(ke=0;ke<De.length;ke+=1)Oe+=Math.pow(Fe[ke]-De[ke],2);Oe=Math.sqrt(Oe)*100}else Oe=0;return Oe}function Pe(Be){if(this.vel!==void 0)return this.vel;var je=-.001,De=this.getValueAtTime(Be),Fe=this.getValueAtTime(Be+je),Oe;if(De.length){Oe=createTypedArray("float32",De.length);var ke;for(ke=0;ke<De.length;ke+=1)Oe[ke]=(Fe[ke]-De[ke])/je}else Oe=(Fe-De)/je;return Oe}function Re(){return this.pv}function Ie(Be){this.propertyGroup=Be}return{searchExpressions:Ee,getSpeedAtTime:Ce,getVelocityAtTime:Pe,getValueAtTime:_e,getStaticValueAtTime:Re,setGroupProperty:Ie}}();function addPropertyDecorator(){function Ee(Me,$e,He){if(!this.k||!this.keyframes)return this.pv;Me=Me?Me.toLowerCase():"";var Qe=this.comp.renderedFrame,Ke=this.keyframes,ze=Ke[Ke.length-1].t;if(Qe<=ze)return this.pv;var We,qe;He?($e?We=Math.abs(ze-this.elem.comp.globalData.frameRate*$e):We=Math.max(0,ze-this.elem.data.ip),qe=ze-We):((!$e||$e>Ke.length-1)&&($e=Ke.length-1),qe=Ke[Ke.length-1-$e].t,We=ze-qe);var Ye,Xe,rr;if(Me==="pingpong"){var Je=Math.floor((Qe-qe)/We);if(Je%2!==0)return this.getValueAtTime((We-(Qe-qe)%We+qe)/this.comp.globalData.frameRate,0)}else if(Me==="offset"){var er=this.getValueAtTime(qe/this.comp.globalData.frameRate,0),or=this.getValueAtTime(ze/this.comp.globalData.frameRate,0),pr=this.getValueAtTime(((Qe-qe)%We+qe)/this.comp.globalData.frameRate,0),ar=Math.floor((Qe-qe)/We);if(this.pv.length){for(rr=new Array(er.length),Xe=rr.length,Ye=0;Ye<Xe;Ye+=1)rr[Ye]=(or[Ye]-er[Ye])*ar+pr[Ye];return rr}return(or-er)*ar+pr}else if(Me==="continue"){var fr=this.getValueAtTime(ze/this.comp.globalData.frameRate,0),gr=this.getValueAtTime((ze-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(rr=new Array(fr.length),Xe=rr.length,Ye=0;Ye<Xe;Ye+=1)rr[Ye]=fr[Ye]+(fr[Ye]-gr[Ye])*((Qe-ze)/this.comp.globalData.frameRate)/5e-4;return rr}return fr+(fr-gr)*((Qe-ze)/.001)}return this.getValueAtTime(((Qe-qe)%We+qe)/this.comp.globalData.frameRate,0)}function _e(Me,$e,He){if(!this.k)return this.pv;Me=Me?Me.toLowerCase():"";var Qe=this.comp.renderedFrame,Ke=this.keyframes,ze=Ke[0].t;if(Qe>=ze)return this.pv;var We,qe;He?($e?We=Math.abs(this.elem.comp.globalData.frameRate*$e):We=Math.max(0,this.elem.data.op-ze),qe=ze+We):((!$e||$e>Ke.length-1)&&($e=Ke.length-1),qe=Ke[$e].t,We=qe-ze);var Ye,Xe,rr;if(Me==="pingpong"){var Je=Math.floor((ze-Qe)/We);if(Je%2===0)return this.getValueAtTime(((ze-Qe)%We+ze)/this.comp.globalData.frameRate,0)}else if(Me==="offset"){var er=this.getValueAtTime(ze/this.comp.globalData.frameRate,0),or=this.getValueAtTime(qe/this.comp.globalData.frameRate,0),pr=this.getValueAtTime((We-(ze-Qe)%We+ze)/this.comp.globalData.frameRate,0),ar=Math.floor((ze-Qe)/We)+1;if(this.pv.length){for(rr=new Array(er.length),Xe=rr.length,Ye=0;Ye<Xe;Ye+=1)rr[Ye]=pr[Ye]-(or[Ye]-er[Ye])*ar;return rr}return pr-(or-er)*ar}else if(Me==="continue"){var fr=this.getValueAtTime(ze/this.comp.globalData.frameRate,0),gr=this.getValueAtTime((ze+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(rr=new Array(fr.length),Xe=rr.length,Ye=0;Ye<Xe;Ye+=1)rr[Ye]=fr[Ye]+(fr[Ye]-gr[Ye])*(ze-Qe)/.001;return rr}return fr+(fr-gr)*(ze-Qe)/.001}return this.getValueAtTime((We-((ze-Qe)%We+ze))/this.comp.globalData.frameRate,0)}function Ce(Me,$e){if(!this.k)return this.pv;if(Me=(Me||.4)*.5,$e=Math.floor($e||5),$e<=1)return this.pv;var He=this.comp.renderedFrame/this.comp.globalData.frameRate,Qe=He-Me,Ke=He+Me,ze=$e>1?(Ke-Qe)/($e-1):1,We=0,qe=0,Ye;this.pv.length?Ye=createTypedArray("float32",this.pv.length):Ye=0;for(var Xe;We<$e;){if(Xe=this.getValueAtTime(Qe+We*ze),this.pv.length)for(qe=0;qe<this.pv.length;qe+=1)Ye[qe]+=Xe[qe];else Ye+=Xe;We+=1}if(this.pv.length)for(qe=0;qe<this.pv.length;qe+=1)Ye[qe]/=$e;else Ye/=$e;return Ye}function Pe(Me){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var $e=this._transformCachingAtTime.v;if($e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var He=this.a.getValueAtTime(Me);$e.translate(-He[0]*this.a.mult,-He[1]*this.a.mult,He[2]*this.a.mult)}if(this.appliedTransformations<2){var Qe=this.s.getValueAtTime(Me);$e.scale(Qe[0]*this.s.mult,Qe[1]*this.s.mult,Qe[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Ke=this.sk.getValueAtTime(Me),ze=this.sa.getValueAtTime(Me);$e.skewFromAxis(-Ke*this.sk.mult,ze*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var We=this.r.getValueAtTime(Me);$e.rotate(-We*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var qe=this.rz.getValueAtTime(Me),Ye=this.ry.getValueAtTime(Me),Xe=this.rx.getValueAtTime(Me),rr=this.or.getValueAtTime(Me);$e.rotateZ(-qe*this.rz.mult).rotateY(Ye*this.ry.mult).rotateX(Xe*this.rx.mult).rotateZ(-rr[2]*this.or.mult).rotateY(rr[1]*this.or.mult).rotateX(rr[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Je=this.px.getValueAtTime(Me),er=this.py.getValueAtTime(Me);if(this.data.p.z){var or=this.pz.getValueAtTime(Me);$e.translate(Je*this.px.mult,er*this.py.mult,-or*this.pz.mult)}else $e.translate(Je*this.px.mult,er*this.py.mult,0)}else{var pr=this.p.getValueAtTime(Me);$e.translate(pr[0]*this.p.mult,pr[1]*this.p.mult,-pr[2]*this.p.mult)}return $e}function Re(){return this.v.clone(new Matrix)}var Ie=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Me,$e,He){var Qe=Ie(Me,$e,He);return Qe.dynamicProperties.length?Qe.getValueAtTime=Pe.bind(Qe):Qe.getValueAtTime=Re.bind(Qe),Qe.setGroupProperty=expressionHelpers.setGroupProperty,Qe};var Be=PropertyFactory.getProp;PropertyFactory.getProp=function(Me,$e,He,Qe,Ke){var ze=Be(Me,$e,He,Qe,Ke);ze.kf?ze.getValueAtTime=expressionHelpers.getValueAtTime.bind(ze):ze.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(ze),ze.setGroupProperty=expressionHelpers.setGroupProperty,ze.loopOut=Ee,ze.loopIn=_e,ze.smooth=Ce,ze.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(ze),ze.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(ze),ze.numKeys=$e.a===1?$e.k.length:0,ze.propertyIndex=$e.ix;var We=0;return He!==0&&(We=createTypedArray("float32",$e.a===1?$e.k[0].s.length:$e.k.length)),ze._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:We},expressionHelpers.searchExpressions(Me,$e,ze),ze.k&&Ke.addDynamicProperty(ze),ze};function je(Me){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Me*=this.elem.globalData.frameRate,Me-=this.offsetTime,Me!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Me?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Me,this.interpolateShape(Me,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var De=ShapePropertyFactory.getConstructorFunction(),Fe=ShapePropertyFactory.getKeyframedConstructorFunction();function Oe(){}Oe.prototype={vertices:function($e,He){this.k&&this.getValue();var Qe=this.v;He!==void 0&&(Qe=this.getValueAtTime(He,0));var Ke,ze=Qe._length,We=Qe[$e],qe=Qe.v,Ye=createSizedArray(ze);for(Ke=0;Ke<ze;Ke+=1)$e==="i"||$e==="o"?Ye[Ke]=[We[Ke][0]-qe[Ke][0],We[Ke][1]-qe[Ke][1]]:Ye[Ke]=[We[Ke][0],We[Ke][1]];return Ye},points:function($e){return this.vertices("v",$e)},inTangents:function($e){return this.vertices("i",$e)},outTangents:function($e){return this.vertices("o",$e)},isClosed:function(){return this.v.c},pointOnPath:function($e,He){var Qe=this.v;He!==void 0&&(Qe=this.getValueAtTime(He,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Qe));for(var Ke=this._segmentsLength,ze=Ke.lengths,We=Ke.totalLength*$e,qe=0,Ye=ze.length,Xe=0,rr;qe<Ye;){if(Xe+ze[qe].addedLength>We){var Je=qe,er=Qe.c&&qe===Ye-1?0:qe+1,or=(We-Xe)/ze[qe].addedLength;rr=bez.getPointInSegment(Qe.v[Je],Qe.v[er],Qe.o[Je],Qe.i[er],or,ze[qe]);break}else Xe+=ze[qe].addedLength;qe+=1}return rr||(rr=Qe.c?[Qe.v[0][0],Qe.v[0][1]]:[Qe.v[Qe._length-1][0],Qe.v[Qe._length-1][1]]),rr},vectorOnPath:function($e,He,Qe){$e==1?$e=this.v.c:$e==0&&($e=.999);var Ke=this.pointOnPath($e,He),ze=this.pointOnPath($e+.001,He),We=ze[0]-Ke[0],qe=ze[1]-Ke[1],Ye=Math.sqrt(Math.pow(We,2)+Math.pow(qe,2));if(Ye===0)return[0,0];var Xe=Qe==="tangent"?[We/Ye,qe/Ye]:[-qe/Ye,We/Ye];return Xe},tangentOnPath:function($e,He){return this.vectorOnPath($e,He,"tangent")},normalOnPath:function($e,He){return this.vectorOnPath($e,He,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([Oe],De),extendPrototype([Oe],Fe),Fe.prototype.getValueAtTime=je,Fe.prototype.initiateExpression=ExpressionManager.initiateExpression;var ke=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Me,$e,He,Qe,Ke){var ze=ke(Me,$e,He,Qe,Ke);return ze.propertyIndex=$e.ix,ze.lock=!1,He===3?expressionHelpers.searchExpressions(Me,$e.pt,ze):He===4&&expressionHelpers.searchExpressions(Me,$e.ks,ze),ze.k&&Me.addDynamicProperty(ze),ze}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function Ee(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(_e,Ce){var Pe=this.calculateExpression(Ce);if(_e.t!==Pe){var Re={};return this.copyData(Re,_e),Re.t=Pe.toString(),Re.__complete=!1,Re}return _e},TextProperty.prototype.searchProperty=function(){var _e=this.searchKeyframes(),Ce=this.searchExpressions();return this.kf=_e||Ce,this.kf},TextProperty.prototype.searchExpressions=Ee}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function Ee(_e,Ce){var Pe=createNS("feMerge");Pe.setAttribute("result",_e);var Re,Ie;for(Ie=0;Ie<Ce.length;Ie+=1)Re=createNS("feMergeNode"),Re.setAttribute("in",Ce[Ie]),Pe.appendChild(Re),Pe.appendChild(Re);return Pe}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(Ee,_e,Ce,Pe,Re){this.filterManager=_e;var Ie=createNS("feColorMatrix");Ie.setAttribute("type","matrix"),Ie.setAttribute("color-interpolation-filters","linearRGB"),Ie.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=Ie,Ie.setAttribute("result",Pe+"_tint_1"),Ee.appendChild(Ie),Ie=createNS("feColorMatrix"),Ie.setAttribute("type","matrix"),Ie.setAttribute("color-interpolation-filters","sRGB"),Ie.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Ie.setAttribute("result",Pe+"_tint_2"),Ee.appendChild(Ie),this.matrixFilter=Ie;var Be=this.createMergeNode(Pe,[Re,Pe+"_tint_1",Pe+"_tint_2"]);Ee.appendChild(Be)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(Ee){if(Ee||this.filterManager._mdf){var _e=this.filterManager.effectElements[0].p.v,Ce=this.filterManager.effectElements[1].p.v,Pe=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+Pe+" 0"),this.matrixFilter.setAttribute("values",Ce[0]-_e[0]+" 0 0 0 "+_e[0]+" "+(Ce[1]-_e[1])+" 0 0 0 "+_e[1]+" "+(Ce[2]-_e[2])+" 0 0 0 "+_e[2]+" 0 0 0 1 0")}};function SVGFillFilter(Ee,_e,Ce,Pe){this.filterManager=_e;var Re=createNS("feColorMatrix");Re.setAttribute("type","matrix"),Re.setAttribute("color-interpolation-filters","sRGB"),Re.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Re.setAttribute("result",Pe),Ee.appendChild(Re),this.matrixFilter=Re}SVGFillFilter.prototype.renderFrame=function(Ee){if(Ee||this.filterManager._mdf){var _e=this.filterManager.effectElements[2].p.v,Ce=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+_e[0]+" 0 0 0 0 "+_e[1]+" 0 0 0 0 "+_e[2]+" 0 0 0 "+Ce+" 0")}};function SVGStrokeEffect(Ee,_e,Ce){this.initialized=!1,this.filterManager=_e,this.elem=Ce,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var Ee=this.elem.layerElement.children||this.elem.layerElement.childNodes,_e,Ce,Pe,Re;for(this.filterManager.effectElements[1].p.v===1?(Re=this.elem.maskManager.masksProperties.length,Pe=0):(Pe=this.filterManager.effectElements[0].p.v-1,Re=Pe+1),Ce=createNS("g"),Ce.setAttribute("fill","none"),Ce.setAttribute("stroke-linecap","round"),Ce.setAttribute("stroke-dashoffset",1),Pe;Pe<Re;Pe+=1)_e=createNS("path"),Ce.appendChild(_e),this.paths.push({p:_e,m:Pe});if(this.filterManager.effectElements[10].p.v===3){var Ie=createNS("mask"),Be=createElementID();Ie.setAttribute("id",Be),Ie.setAttribute("mask-type","alpha"),Ie.appendChild(Ce),this.elem.globalData.defs.appendChild(Ie);var je=createNS("g");for(je.setAttribute("mask","url("+getLocationHref()+"#"+Be+")");Ee[0];)je.appendChild(Ee[0]);this.elem.layerElement.appendChild(je),this.masker=Ie,Ce.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(Ee=this.elem.layerElement.children||this.elem.layerElement.childNodes;Ee.length;)this.elem.layerElement.removeChild(Ee[0]);this.elem.layerElement.appendChild(Ce),this.elem.layerElement.removeAttribute("mask"),Ce.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=Ce},SVGStrokeEffect.prototype.renderFrame=function(Ee){this.initialized||this.initialize();var _e,Ce=this.paths.length,Pe,Re;for(_e=0;_e<Ce;_e+=1)if(this.paths[_e].m!==-1&&(Pe=this.elem.maskManager.viewData[this.paths[_e].m],Re=this.paths[_e].p,(Ee||this.filterManager._mdf||Pe.prop._mdf)&&Re.setAttribute("d",Pe.lastPath),Ee||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||Pe.prop._mdf)){var Ie;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var Be=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,je=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,De=Re.getTotalLength();Ie="0 0 0 "+De*Be+" ";var Fe=De*(je-Be),Oe=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,ke=Math.floor(Fe/Oe),Me;for(Me=0;Me<ke;Me+=1)Ie+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";Ie+="0 "+De*10+" 0 0"}else Ie="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;Re.setAttribute("stroke-dasharray",Ie)}if((Ee||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(Ee||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(Ee||this.filterManager.effectElements[3].p._mdf)){var $e=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor($e[0]*255)+","+bmFloor($e[1]*255)+","+bmFloor($e[2]*255)+")")}};function SVGTritoneFilter(Ee,_e,Ce,Pe){this.filterManager=_e;var Re=createNS("feColorMatrix");Re.setAttribute("type","matrix"),Re.setAttribute("color-interpolation-filters","linearRGB"),Re.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),Ee.appendChild(Re);var Ie=createNS("feComponentTransfer");Ie.setAttribute("color-interpolation-filters","sRGB"),Ie.setAttribute("result",Pe),this.matrixFilter=Ie;var Be=createNS("feFuncR");Be.setAttribute("type","table"),Ie.appendChild(Be),this.feFuncR=Be;var je=createNS("feFuncG");je.setAttribute("type","table"),Ie.appendChild(je),this.feFuncG=je;var De=createNS("feFuncB");De.setAttribute("type","table"),Ie.appendChild(De),this.feFuncB=De,Ee.appendChild(Ie)}SVGTritoneFilter.prototype.renderFrame=function(Ee){if(Ee||this.filterManager._mdf){var _e=this.filterManager.effectElements[0].p.v,Ce=this.filterManager.effectElements[1].p.v,Pe=this.filterManager.effectElements[2].p.v,Re=Pe[0]+" "+Ce[0]+" "+_e[0],Ie=Pe[1]+" "+Ce[1]+" "+_e[1],Be=Pe[2]+" "+Ce[2]+" "+_e[2];this.feFuncR.setAttribute("tableValues",Re),this.feFuncG.setAttribute("tableValues",Ie),this.feFuncB.setAttribute("tableValues",Be)}};function SVGProLevelsFilter(Ee,_e,Ce,Pe){this.filterManager=_e;var Re=this.filterManager.effectElements,Ie=createNS("feComponentTransfer");(Re[10].p.k||Re[10].p.v!==0||Re[11].p.k||Re[11].p.v!==1||Re[12].p.k||Re[12].p.v!==1||Re[13].p.k||Re[13].p.v!==0||Re[14].p.k||Re[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",Ie)),(Re[17].p.k||Re[17].p.v!==0||Re[18].p.k||Re[18].p.v!==1||Re[19].p.k||Re[19].p.v!==1||Re[20].p.k||Re[20].p.v!==0||Re[21].p.k||Re[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",Ie)),(Re[24].p.k||Re[24].p.v!==0||Re[25].p.k||Re[25].p.v!==1||Re[26].p.k||Re[26].p.v!==1||Re[27].p.k||Re[27].p.v!==0||Re[28].p.k||Re[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",Ie)),(Re[31].p.k||Re[31].p.v!==0||Re[32].p.k||Re[32].p.v!==1||Re[33].p.k||Re[33].p.v!==1||Re[34].p.k||Re[34].p.v!==0||Re[35].p.k||Re[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",Ie)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(Ie.setAttribute("color-interpolation-filters","sRGB"),Ee.appendChild(Ie)),(Re[3].p.k||Re[3].p.v!==0||Re[4].p.k||Re[4].p.v!==1||Re[5].p.k||Re[5].p.v!==1||Re[6].p.k||Re[6].p.v!==0||Re[7].p.k||Re[7].p.v!==1)&&(Ie=createNS("feComponentTransfer"),Ie.setAttribute("color-interpolation-filters","sRGB"),Ie.setAttribute("result",Pe),Ee.appendChild(Ie),this.feFuncRComposed=this.createFeFunc("feFuncR",Ie),this.feFuncGComposed=this.createFeFunc("feFuncG",Ie),this.feFuncBComposed=this.createFeFunc("feFuncB",Ie))}SVGProLevelsFilter.prototype.createFeFunc=function(Ee,_e){var Ce=createNS(Ee);return Ce.setAttribute("type","table"),_e.appendChild(Ce),Ce},SVGProLevelsFilter.prototype.getTableValue=function(Ee,_e,Ce,Pe,Re){for(var Ie=0,Be=256,je,De=Math.min(Ee,_e),Fe=Math.max(Ee,_e),Oe=Array.call(null,{length:Be}),ke,Me=0,$e=Re-Pe,He=_e-Ee;Ie<=256;)je=Ie/256,je<=De?ke=He<0?Re:Pe:je>=Fe?ke=He<0?Pe:Re:ke=Pe+$e*Math.pow((je-Ee)/He,1/Ce),Oe[Me]=ke,Me+=1,Ie+=256/(Be-1);return Oe.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(Ee){if(Ee||this.filterManager._mdf){var _e,Ce=this.filterManager.effectElements;this.feFuncRComposed&&(Ee||Ce[3].p._mdf||Ce[4].p._mdf||Ce[5].p._mdf||Ce[6].p._mdf||Ce[7].p._mdf)&&(_e=this.getTableValue(Ce[3].p.v,Ce[4].p.v,Ce[5].p.v,Ce[6].p.v,Ce[7].p.v),this.feFuncRComposed.setAttribute("tableValues",_e),this.feFuncGComposed.setAttribute("tableValues",_e),this.feFuncBComposed.setAttribute("tableValues",_e)),this.feFuncR&&(Ee||Ce[10].p._mdf||Ce[11].p._mdf||Ce[12].p._mdf||Ce[13].p._mdf||Ce[14].p._mdf)&&(_e=this.getTableValue(Ce[10].p.v,Ce[11].p.v,Ce[12].p.v,Ce[13].p.v,Ce[14].p.v),this.feFuncR.setAttribute("tableValues",_e)),this.feFuncG&&(Ee||Ce[17].p._mdf||Ce[18].p._mdf||Ce[19].p._mdf||Ce[20].p._mdf||Ce[21].p._mdf)&&(_e=this.getTableValue(Ce[17].p.v,Ce[18].p.v,Ce[19].p.v,Ce[20].p.v,Ce[21].p.v),this.feFuncG.setAttribute("tableValues",_e)),this.feFuncB&&(Ee||Ce[24].p._mdf||Ce[25].p._mdf||Ce[26].p._mdf||Ce[27].p._mdf||Ce[28].p._mdf)&&(_e=this.getTableValue(Ce[24].p.v,Ce[25].p.v,Ce[26].p.v,Ce[27].p.v,Ce[28].p.v),this.feFuncB.setAttribute("tableValues",_e)),this.feFuncA&&(Ee||Ce[31].p._mdf||Ce[32].p._mdf||Ce[33].p._mdf||Ce[34].p._mdf||Ce[35].p._mdf)&&(_e=this.getTableValue(Ce[31].p.v,Ce[32].p.v,Ce[33].p.v,Ce[34].p.v,Ce[35].p.v),this.feFuncA.setAttribute("tableValues",_e))}};function SVGDropShadowEffect(Ee,_e,Ce,Pe,Re){var Ie=_e.container.globalData.renderConfig.filterSize,Be=_e.data.fs||Ie;Ee.setAttribute("x",Be.x||Ie.x),Ee.setAttribute("y",Be.y||Ie.y),Ee.setAttribute("width",Be.width||Ie.width),Ee.setAttribute("height",Be.height||Ie.height),this.filterManager=_e;var je=createNS("feGaussianBlur");je.setAttribute("in","SourceAlpha"),je.setAttribute("result",Pe+"_drop_shadow_1"),je.setAttribute("stdDeviation","0"),this.feGaussianBlur=je,Ee.appendChild(je);var De=createNS("feOffset");De.setAttribute("dx","25"),De.setAttribute("dy","0"),De.setAttribute("in",Pe+"_drop_shadow_1"),De.setAttribute("result",Pe+"_drop_shadow_2"),this.feOffset=De,Ee.appendChild(De);var Fe=createNS("feFlood");Fe.setAttribute("flood-color","#00ff00"),Fe.setAttribute("flood-opacity","1"),Fe.setAttribute("result",Pe+"_drop_shadow_3"),this.feFlood=Fe,Ee.appendChild(Fe);var Oe=createNS("feComposite");Oe.setAttribute("in",Pe+"_drop_shadow_3"),Oe.setAttribute("in2",Pe+"_drop_shadow_2"),Oe.setAttribute("operator","in"),Oe.setAttribute("result",Pe+"_drop_shadow_4"),Ee.appendChild(Oe);var ke=this.createMergeNode(Pe,[Pe+"_drop_shadow_4",Re]);Ee.appendChild(ke)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(Ee){if(Ee||this.filterManager._mdf){if((Ee||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),Ee||this.filterManager.effectElements[0].p._mdf){var _e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(_e[0]*255),Math.round(_e[1]*255),Math.round(_e[2]*255)))}if((Ee||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),Ee||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var Ce=this.filterManager.effectElements[3].p.v,Pe=(this.filterManager.effectElements[2].p.v-90)*degToRads,Re=Ce*Math.cos(Pe),Ie=Ce*Math.sin(Pe);this.feOffset.setAttribute("dx",Re),this.feOffset.setAttribute("dy",Ie)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(Ee,_e,Ce){this.initialized=!1,this.filterManager=_e,this.filterElem=Ee,this.elem=Ce,Ce.matteElement=createNS("g"),Ce.matteElement.appendChild(Ce.layerElement),Ce.matteElement.appendChild(Ce.transformedElement),Ce.baseElement=Ce.matteElement}SVGMatte3Effect.prototype.findSymbol=function(Ee){for(var _e=0,Ce=_svgMatteSymbols.length;_e<Ce;){if(_svgMatteSymbols[_e]===Ee)return _svgMatteSymbols[_e];_e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(Ee,_e){var Ce=Ee.layerElement.parentNode;if(Ce){for(var Pe=Ce.children,Re=0,Ie=Pe.length;Re<Ie&&Pe[Re]!==Ee.layerElement;)Re+=1;var Be;Re<=Ie-2&&(Be=Pe[Re+1]);var je=createNS("use");je.setAttribute("href","#"+_e),Be?Ce.insertBefore(je,Be):Ce.appendChild(je)}},SVGMatte3Effect.prototype.setElementAsMask=function(Ee,_e){if(!this.findSymbol(_e)){var Ce=createElementID(),Pe=createNS("mask");Pe.setAttribute("id",_e.layerId),Pe.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(_e);var Re=Ee.globalData.defs;Re.appendChild(Pe);var Ie=createNS("symbol");Ie.setAttribute("id",Ce),this.replaceInParent(_e,Ce),Ie.appendChild(_e.layerElement),Re.appendChild(Ie);var Be=createNS("use");Be.setAttribute("href","#"+Ce),Pe.appendChild(Be),_e.data.hd=!1,_e.show()}Ee.setMatte(_e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var Ee=this.filterManager.effectElements[0].p.v,_e=this.elem.comp.elements,Ce=0,Pe=_e.length;Ce<Pe;)_e[Ce]&&_e[Ce].data.ind===Ee&&this.setElementAsMask(this.elem,_e[Ce]),Ce+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(Ee,_e,Ce,Pe){Ee.setAttribute("x","-100%"),Ee.setAttribute("y","-100%"),Ee.setAttribute("width","300%"),Ee.setAttribute("height","300%"),this.filterManager=_e;var Re=createNS("feGaussianBlur");Re.setAttribute("result",Pe),Ee.appendChild(Re),this.feGaussianBlur=Re}SVGGaussianBlurEffect.prototype.renderFrame=function(Ee){if(Ee||this.filterManager._mdf){var _e=.3,Ce=this.filterManager.effectElements[0].p.v*_e,Pe=this.filterManager.effectElements[1].p.v,Re=Pe==3?0:Ce,Ie=Pe==2?0:Ce;this.feGaussianBlur.setAttribute("stdDeviation",Re+" "+Ie);var Be=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",Be)}};function TransformEffect(){}TransformEffect.prototype.init=function(Ee){this.effectsManager=Ee,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(Ee){if(this._opMdf=!1,this._mdf=!1,Ee||this.effectsManager._mdf){var _e=this.effectsManager.effectElements,Ce=_e[0].p.v,Pe=_e[1].p.v,Re=_e[2].p.v===1,Ie=_e[3].p.v,Be=Re?Ie:_e[4].p.v,je=_e[5].p.v,De=_e[6].p.v,Fe=_e[7].p.v;this.matrix.reset(),this.matrix.translate(-Ce[0],-Ce[1],Ce[2]),this.matrix.scale(Be*.01,Ie*.01,1),this.matrix.rotate(-Fe*degToRads),this.matrix.skewFromAxis(-je*degToRads,(De+90)*degToRads),this.matrix.translate(Pe[0],Pe[1],0),this._mdf=!0,this.opacity!==_e[8].p.v&&(this.opacity=_e[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(Ee,_e){this.init(_e)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(Ee){this.init(Ee)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})}(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(Ee,_e){(_e==null||_e>Ee.length)&&(_e=Ee.length);for(var Ce=0,Pe=Array(_e);Ce<_e;Ce++)Pe[Ce]=Ee[Ce];return Pe}function _arrayWithHoles(Ee){if(Array.isArray(Ee))return Ee}function _defineProperty$I(Ee,_e,Ce){return(_e=_toPropertyKey$H(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _iterableToArrayLimit(Ee,_e){var Ce=Ee==null?null:typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(Ce!=null){var Pe,Re,Ie,Be,je=[],De=!0,Fe=!1;try{if(Ie=(Ce=Ce.call(Ee)).next,_e!==0)for(;!(De=(Pe=Ie.call(Ce)).done)&&(je.push(Pe.value),je.length!==_e);De=!0);}catch(Oe){Fe=!0,Re=Oe}finally{try{if(!De&&Ce.return!=null&&(Be=Ce.return(),Object(Be)!==Be))return}finally{if(Fe)throw Re}}return je}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys$T(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread2(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$T(Object(Ce),!0).forEach(function(Pe){_defineProperty$I(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$T(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _objectWithoutProperties$q(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$q(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.includes(Ce)||{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$q(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.includes(Pe))continue;Ce[Pe]=Ee[Pe]}return Ce}function _slicedToArray(Ee,_e){return _arrayWithHoles(Ee)||_iterableToArrayLimit(Ee,_e)||_unsupportedIterableToArray(Ee,_e)||_nonIterableRest()}function _toPrimitive$H(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function _toPropertyKey$H(Ee){var _e=_toPrimitive$H(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _unsupportedIterableToArray(Ee,_e){if(Ee){if(typeof Ee=="string")return _arrayLikeToArray(Ee,_e);var Ce={}.toString.call(Ee).slice(8,-1);return Ce==="Object"&&Ee.constructor&&(Ce=Ee.constructor.name),Ce==="Map"||Ce==="Set"?Array.from(Ee):Ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce)?_arrayLikeToArray(Ee,_e):void 0}}var _excluded$1$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function Ee(_e,Ce){var Pe=_e.animationData,Re=_e.loop,Ie=_e.autoplay,Be=_e.initialSegment,je=_e.onComplete,De=_e.onLoopComplete,Fe=_e.onEnterFrame,Oe=_e.onSegmentStart,ke=_e.onConfigReady,Me=_e.onDataReady,$e=_e.onDataFailed,He=_e.onLoadedImages,Qe=_e.onDOMLoaded,Ke=_e.onDestroy;_e.lottieRef,_e.renderer,_e.name,_e.assetsPath,_e.rendererSettings;var ze=_objectWithoutProperties$q(_e,_excluded$1$1),We=reactExports.useState(!1),qe=_slicedToArray(We,2),Ye=qe[0],Xe=qe[1],rr=reactExports.useRef(),Je=reactExports.useRef(null),er=function(){var hr;(hr=rr.current)===null||hr===void 0||hr.play()},or=function(){var hr;(hr=rr.current)===null||hr===void 0||hr.stop()},pr=function(){var hr;(hr=rr.current)===null||hr===void 0||hr.pause()},ar=function(hr){var _r;(_r=rr.current)===null||_r===void 0||_r.setSpeed(hr)},fr=function(hr,_r){var Pr;(Pr=rr.current)===null||Pr===void 0||Pr.goToAndPlay(hr,_r)},gr=function(hr,_r){var Pr;(Pr=rr.current)===null||Pr===void 0||Pr.goToAndStop(hr,_r)},Rr=function(hr){var _r;(_r=rr.current)===null||_r===void 0||_r.setDirection(hr)},Ir=function(hr,_r){var Pr;(Pr=rr.current)===null||Pr===void 0||Pr.playSegments(hr,_r)},mr=function(hr){var _r;(_r=rr.current)===null||_r===void 0||_r.setSubframe(hr)},Er=function(hr){var _r;return(_r=rr.current)===null||_r===void 0?void 0:_r.getDuration(hr)},Ar=function(){var hr;(hr=rr.current)===null||hr===void 0||hr.destroy(),rr.current=void 0},br=function(){var hr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_r;if(Je.current){(_r=rr.current)===null||_r===void 0||_r.destroy();var Pr=_objectSpread2(_objectSpread2(_objectSpread2({},_e),hr),{},{container:Je.current});return rr.current=lottie.loadAnimation(Pr),Xe(!!rr.current),function(){var Cr;(Cr=rr.current)===null||Cr===void 0||Cr.destroy(),rr.current=void 0}}};reactExports.useEffect(function(){var jr=br();return function(){return jr?.()}},[Pe,Re]),reactExports.useEffect(function(){rr.current&&(rr.current.autoplay=!!Ie)},[Ie]),reactExports.useEffect(function(){if(rr.current){if(!Be){rr.current.resetSegments(!0);return}!Array.isArray(Be)||!Be.length||((rr.current.currentRawFrame<Be[0]||rr.current.currentRawFrame>Be[1])&&(rr.current.currentRawFrame=Be[0]),rr.current.setSegment(Be[0],Be[1]))}},[Be]),reactExports.useEffect(function(){var jr=[{name:"complete",handler:je},{name:"loopComplete",handler:De},{name:"enterFrame",handler:Fe},{name:"segmentStart",handler:Oe},{name:"config_ready",handler:ke},{name:"data_ready",handler:Me},{name:"data_failed",handler:$e},{name:"loaded_images",handler:He},{name:"DOMLoaded",handler:Qe},{name:"destroy",handler:Ke}],hr=jr.filter(function(Pr){return Pr.handler!=null});if(hr.length){var _r=hr.map(function(Pr){var Cr;return(Cr=rr.current)===null||Cr===void 0||Cr.addEventListener(Pr.name,Pr.handler),function(){var Or;(Or=rr.current)===null||Or===void 0||Or.removeEventListener(Pr.name,Pr.handler)}});return function(){_r.forEach(function(Pr){return Pr()})}}},[je,De,Fe,Oe,ke,Me,$e,He,Qe,Ke]);var wr=React.createElement("div",_objectSpread2({style:Ce,ref:Je},ze));return{View:wr,play:er,stop:or,pause:pr,setSpeed:ar,goToAndStop:gr,goToAndPlay:fr,setDirection:Rr,playSegments:Ir,setSubframe:mr,getDuration:Er,destroy:Ar,animationContainerRef:Je,animationLoaded:Ye,animationItem:rr.current}};function getContainerVisibility(Ee){var _e=Ee.getBoundingClientRect(),Ce=_e.top,Pe=_e.height,Re=window.innerHeight-Ce,Ie=window.innerHeight+Pe;return Re/Ie}function getContainerCursorPosition(Ee,_e,Ce){var Pe=Ee.getBoundingClientRect(),Re=Pe.top,Ie=Pe.left,Be=Pe.width,je=Pe.height,De=(_e-Ie)/Be,Fe=(Ce-Re)/je;return{x:De,y:Fe}}var useInitInteractivity=function Ee(_e){var Ce=_e.wrapperRef,Pe=_e.animationItem,Re=_e.mode,Ie=_e.actions;reactExports.useEffect(function(){var Be=Ce.current;if(!(!Be||!Pe||!Ie.length)){Pe.stop();var je=function(){var Oe=null,ke=function(){var $e=getContainerVisibility(Be),He=Ie.find(function(Ke){var ze=Ke.visibility;return ze&&$e>=ze[0]&&$e<=ze[1]});if(He){if(He.type==="seek"&&He.visibility&&He.frames.length===2){var Qe=He.frames[0]+Math.ceil(($e-He.visibility[0])/(He.visibility[1]-He.visibility[0])*He.frames[1]);//! goToAndStop must be relative to the start of the current segment
Pe.goToAndStop(Qe-Pe.firstFrame-1,!0)}He.type==="loop"&&(Oe===null||Oe!==He.frames||Pe.isPaused)&&(Pe.playSegments(He.frames,!0),Oe=He.frames),He.type==="play"&&Pe.isPaused&&(Pe.resetSegments(!0),Pe.play()),He.type==="stop"&&Pe.goToAndStop(He.frames[0]-Pe.firstFrame-1,!0)}};return document.addEventListener("scroll",ke),function(){document.removeEventListener("scroll",ke)}},De=function(){var Oe=function(He,Qe){var Ke=He,ze=Qe;if(Ke!==-1&&ze!==-1){var We=getContainerCursorPosition(Be,Ke,ze);Ke=We.x,ze=We.y}var qe=Ie.find(function(rr){var Je=rr.position;return Je&&Array.isArray(Je.x)&&Array.isArray(Je.y)?Ke>=Je.x[0]&&Ke<=Je.x[1]&&ze>=Je.y[0]&&ze<=Je.y[1]:Je&&!Number.isNaN(Je.x)&&!Number.isNaN(Je.y)?Ke===Je.x&&ze===Je.y:!1});if(qe){if(qe.type==="seek"&&qe.position&&Array.isArray(qe.position.x)&&Array.isArray(qe.position.y)&&qe.frames.length===2){var Ye=(Ke-qe.position.x[0])/(qe.position.x[1]-qe.position.x[0]),Xe=(ze-qe.position.y[0])/(qe.position.y[1]-qe.position.y[0]);Pe.playSegments(qe.frames,!0),Pe.goToAndStop(Math.ceil((Ye+Xe)/2*(qe.frames[1]-qe.frames[0])),!0)}qe.type==="loop"&&Pe.playSegments(qe.frames,!0),qe.type==="play"&&(Pe.isPaused&&Pe.resetSegments(!1),Pe.playSegments(qe.frames)),qe.type==="stop"&&Pe.goToAndStop(qe.frames[0],!0)}},ke=function(He){Oe(He.clientX,He.clientY)},Me=function(){Oe(-1,-1)};return Be.addEventListener("mousemove",ke),Be.addEventListener("mouseout",Me),function(){Be.removeEventListener("mousemove",ke),Be.removeEventListener("mouseout",Me)}};switch(Re){case"scroll":return je();case"cursor":return De()}}},[Re,Pe])},useLottieInteractivity=function Ee(_e){var Ce=_e.actions,Pe=_e.mode,Re=_e.lottieObj,Ie=Re.animationItem,Be=Re.View,je=Re.animationContainerRef;return useInitInteractivity({actions:Ce,animationItem:Ie,mode:Pe,wrapperRef:je}),Be},_excluded$r=["style","interactivity"],Lottie=function Ee(_e){var Ce,Pe,Re,Ie=_e.style,Be=_e.interactivity,je=_objectWithoutProperties$q(_e,_excluded$r),De=useLottie(je,Ie),Fe=De.View,Oe=De.play,ke=De.stop,Me=De.pause,$e=De.setSpeed,He=De.goToAndStop,Qe=De.goToAndPlay,Ke=De.setDirection,ze=De.playSegments,We=De.setSubframe,qe=De.getDuration,Ye=De.destroy,Xe=De.animationContainerRef,rr=De.animationLoaded,Je=De.animationItem;return reactExports.useEffect(function(){_e.lottieRef&&(_e.lottieRef.current={play:Oe,stop:ke,pause:Me,setSpeed:$e,goToAndPlay:Qe,goToAndStop:He,setDirection:Ke,playSegments:ze,setSubframe:We,getDuration:qe,destroy:Ye,animationContainerRef:Xe,animationLoaded:rr,animationItem:Je})},[(Ce=_e.lottieRef)===null||Ce===void 0?void 0:Ce.current]),useLottieInteractivity({lottieObj:{View:Fe,play:Oe,stop:ke,pause:Me,setSpeed:$e,goToAndStop:He,goToAndPlay:Qe,setDirection:Ke,playSegments:ze,setSubframe:We,getDuration:qe,destroy:Ye,animationContainerRef:Xe,animationLoaded:rr,animationItem:Je},actions:(Pe=Be?.actions)!==null&&Pe!==void 0?Pe:[],mode:(Re=Be?.mode)!==null&&Re!==void 0?Re:"scroll"})};const LandingPage=()=>{const Ee=useNavigate(),[_e,Ce]=reactExports.useState(null);return reactExports.useEffect(()=>{AOS.init({duration:1e3}),fetch("/assets/supplyFlow.json").then(Pe=>Pe.json()).then(Ce).catch(console.error)},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white text-gray-900",children:[jsxRuntimeExports.jsxs("header",{className:"flex justify-between items-center p-6 shadow-md",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("img",{src:"/assets/flyp-logo.png",alt:"FLYP Logo",className:"h-28 w-auto drop-shadow-md"})}),jsxRuntimeExports.jsxs("nav",{className:"hidden md:flex gap-6",children:[jsxRuntimeExports.jsx(Link,{to:"#features",className:"hover:text-green-600",children:"Features"}),jsxRuntimeExports.jsx(Link,{to:"#pricing",className:"hover:text-green-600",children:"Pricing"}),jsxRuntimeExports.jsx(Link,{to:"#contact",className:"hover:text-green-600",children:"Contact"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white py-1 px-4 rounded",onClick:()=>Ee("/auth?type=login"),children:"Sign In"}),jsxRuntimeExports.jsx("button",{className:"bg-yellow-500 hover:bg-yellow-600 text-white py-1 px-4 rounded",onClick:()=>Ee("/auth?type=register"),children:"Register"})]})]}),jsxRuntimeExports.jsxs("section",{className:"relative flex flex-col-reverse md:flex-row items-center px-10 py-20 bg-gradient-to-r from-green-50 via-yellow-50 to-white overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/2 text-center md:text-left z-10 space-y-6",children:[jsxRuntimeExports.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold text-gray-900 leading-tight",children:["Stop running your business. ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-green-700",children:"Start flying it."})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-gray-800 max-w-xl",children:[jsxRuntimeExports.jsx("strong",{children:"Onboard your business in under 30 minutes."}),jsxRuntimeExports.jsx("br",{}),"Built for real people. No manuals. No training. Just results.",jsxRuntimeExports.jsx("br",{}),"Automate inventory, billing, and order flows  effortlessly."]}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(Link,{to:"/auth?type=register",children:jsxRuntimeExports.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-6 rounded shadow-lg",children:"Get Started Free"})})})]}),jsxRuntimeExports.jsx("div",{className:"w-full md:w-1/2 flex justify-center z-10",children:_e&&jsxRuntimeExports.jsx(Lottie,{animationData:_e,loop:!0,className:"w-96 h-96"})})]}),jsxRuntimeExports.jsxs("section",{id:"features",className:"py-16 px-10 bg-white text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold mb-12",children:"Core Features"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-4 gap-10",children:[jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/ai_inventory.png",alt:"AI Inventory Generator",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"AI Inventory Generator"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Automatically generate and optimize your inventory with AI-driven insights."})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/ocr_billing.png",alt:"OCR Billing Import",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"OCR Billing Import"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Scan and import paper invoices instantly with smart OCR technology."})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/smart_cart.png",alt:"Smart Cart",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"Smart Cart"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Create and manage orders quickly with intelligent cart suggestions."})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/customer_analytics.png",alt:"Customer Analytics",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"Customer Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Gain insights into customer behavior and sales trends."})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/distributor_connect.png",alt:"Distributor Connect",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"Distributor Connect"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Seamlessly collaborate and sync inventory with your distributors."})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/dashboards_kpis.png",alt:"Dashboards & KPIs",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"Dashboards & KPIs"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Track key performance indicators with customizable dashboards."})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/realtime_inventory.png",alt:"Realtime Inventory Sync",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"Realtime Inventory Sync"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Keep your stock levels updated across all platforms instantly."})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/gemini_ai.png",alt:"Gemini AI Assistant",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"Gemini AI Assistant"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Your AI assistant for smarter decision-making and automation."})]})]})]}),jsxRuntimeExports.jsxs("section",{id:"whyflyp",className:"py-20 px-10 bg-green-50 text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold mb-10",children:"Why FLYP?"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 max-w-4xl mx-auto mb-6",children:"FLYP is the only platform connecting Retailers, Distributors, and Product Owners with AI-powered inventory management, automated billing, performance analytics, and real-time collaboration."}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Whether youre tracking SKUs, scanning paper invoices, generating smart bills, or managing your full supply chain  FLYP adapts to your workflow and unlocks scale."})]}),jsxRuntimeExports.jsxs("section",{id:"pricing",className:"py-20 px-10 bg-gray-100 text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold mb-12",children:"Pricing Plans"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsxs("div",{"data-aos":"flip-left",className:"bg-white shadow-lg p-6 rounded border-l-4 border-green-600",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold mb-4",children:"Check-In"}),jsxRuntimeExports.jsx("p",{className:"text-green-600 font-semibold text-2xl mb-6",children:"Free"}),jsxRuntimeExports.jsxs("div",{className:"text-left text-sm text-gray-700 space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer:"})," Basic inventory tracking & billing."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor:"})," Limited product sync."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Product Owner:"})," Basic analytics dashboard."]})]}),jsxRuntimeExports.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full",children:"Choose Plan"})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"flip-left",className:"bg-white shadow-lg p-6 rounded border-l-4 border-yellow-400",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold mb-4",children:"Onboard"}),jsxRuntimeExports.jsx("p",{className:"text-yellow-600 font-semibold text-2xl mb-6",children:"299/mo"}),jsxRuntimeExports.jsxs("div",{className:"text-left text-sm text-gray-700 space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer:"})," Smart cart & OCR billing import."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor:"})," Inventory sync & order management."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Product Owner:"})," Advanced analytics & AI inventory generator."]})]}),jsxRuntimeExports.jsx("button",{className:"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 w-full",children:"Choose Plan"})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"flip-left",className:"bg-white shadow-lg p-6 rounded border-l-4 border-blue-500",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold mb-4",children:"Takeoff"}),jsxRuntimeExports.jsx("p",{className:"text-blue-600 font-semibold text-2xl mb-6",children:"499/mo"}),jsxRuntimeExports.jsxs("div",{className:"text-left text-sm text-gray-700 space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer:"})," Customer analytics & realtime inventory sync."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor:"})," Distributor connect & automated billing."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Product Owner:"})," Dashboards & KPIs with Gemini AI assistant."]})]}),jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full",children:"Choose Plan"})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"flip-left",className:"bg-white shadow-lg p-6 rounded border-l-4 border-gray-800",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold mb-4",children:"Fly"}),jsxRuntimeExports.jsx("p",{className:"text-gray-800 font-semibold text-2xl mb-6",children:"Custom"}),jsxRuntimeExports.jsxs("div",{className:"text-left text-sm text-gray-700 space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer:"})," Full feature access & priority support."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor:"})," Custom integrations & multi-branch management."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Product Owner:"})," Dedicated AI support & enterprise analytics."]})]}),jsxRuntimeExports.jsx("button",{className:"bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-900 w-full",children:"Contact Us"})]})]})]}),jsxRuntimeExports.jsxs("footer",{id:"contact",className:"bg-gray-900 text-white p-6 mt-10 text-center text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[" ",new Date().getFullYear()," FLYP  All Rights Reserved."]}),jsxRuntimeExports.jsx("p",{className:"mt-1",children:"Contact: support@flypnow.com"})]})]})};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(Ee){hookCallback=Ee}function isArray$2(Ee){return Ee instanceof Array||Object.prototype.toString.call(Ee)==="[object Array]"}function isObject$4(Ee){return Ee!=null&&Object.prototype.toString.call(Ee)==="[object Object]"}function hasOwnProp(Ee,_e){return Object.prototype.hasOwnProperty.call(Ee,_e)}function isObjectEmpty(Ee){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(Ee).length===0;var _e;for(_e in Ee)if(hasOwnProp(Ee,_e))return!1;return!0}function isUndefined(Ee){return Ee===void 0}function isNumber$2(Ee){return typeof Ee=="number"||Object.prototype.toString.call(Ee)==="[object Number]"}function isDate$1(Ee){return Ee instanceof Date||Object.prototype.toString.call(Ee)==="[object Date]"}function map$3(Ee,_e){var Ce=[],Pe,Re=Ee.length;for(Pe=0;Pe<Re;++Pe)Ce.push(_e(Ee[Pe],Pe));return Ce}function extend$2(Ee,_e){for(var Ce in _e)hasOwnProp(_e,Ce)&&(Ee[Ce]=_e[Ce]);return hasOwnProp(_e,"toString")&&(Ee.toString=_e.toString),hasOwnProp(_e,"valueOf")&&(Ee.valueOf=_e.valueOf),Ee}function createUTC(Ee,_e,Ce,Pe){return createLocalOrUTC(Ee,_e,Ce,Pe,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(Ee){return Ee._pf==null&&(Ee._pf=defaultParsingFlags()),Ee._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(Ee){var _e=Object(this),Ce=_e.length>>>0,Pe;for(Pe=0;Pe<Ce;Pe++)if(Pe in _e&&Ee.call(this,_e[Pe],Pe,_e))return!0;return!1};function isValid$1(Ee){var _e=null,Ce=!1,Pe=Ee._d&&!isNaN(Ee._d.getTime());if(Pe&&(_e=getParsingFlags(Ee),Ce=some.call(_e.parsedDateParts,function(Re){return Re!=null}),Pe=_e.overflow<0&&!_e.empty&&!_e.invalidEra&&!_e.invalidMonth&&!_e.invalidWeekday&&!_e.weekdayMismatch&&!_e.nullInput&&!_e.invalidFormat&&!_e.userInvalidated&&(!_e.meridiem||_e.meridiem&&Ce),Ee._strict&&(Pe=Pe&&_e.charsLeftOver===0&&_e.unusedTokens.length===0&&_e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(Ee))Ee._isValid=Pe;else return Pe;return Ee._isValid}function createInvalid(Ee){var _e=createUTC(NaN);return Ee!=null?extend$2(getParsingFlags(_e),Ee):getParsingFlags(_e).userInvalidated=!0,_e}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(Ee,_e){var Ce,Pe,Re,Ie=momentProperties.length;if(isUndefined(_e._isAMomentObject)||(Ee._isAMomentObject=_e._isAMomentObject),isUndefined(_e._i)||(Ee._i=_e._i),isUndefined(_e._f)||(Ee._f=_e._f),isUndefined(_e._l)||(Ee._l=_e._l),isUndefined(_e._strict)||(Ee._strict=_e._strict),isUndefined(_e._tzm)||(Ee._tzm=_e._tzm),isUndefined(_e._isUTC)||(Ee._isUTC=_e._isUTC),isUndefined(_e._offset)||(Ee._offset=_e._offset),isUndefined(_e._pf)||(Ee._pf=getParsingFlags(_e)),isUndefined(_e._locale)||(Ee._locale=_e._locale),Ie>0)for(Ce=0;Ce<Ie;Ce++)Pe=momentProperties[Ce],Re=_e[Pe],isUndefined(Re)||(Ee[Pe]=Re);return Ee}function Moment(Ee){copyConfig(this,Ee),this._d=new Date(Ee._d!=null?Ee._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(Ee){return Ee instanceof Moment||Ee!=null&&Ee._isAMomentObject!=null}function warn$1(Ee){hooks.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+Ee)}function deprecate(Ee,_e){var Ce=!0;return extend$2(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,Ee),Ce){var Pe=[],Re,Ie,Be,je=arguments.length;for(Ie=0;Ie<je;Ie++){if(Re="",typeof arguments[Ie]=="object"){Re+=`
[`+Ie+"] ";for(Be in arguments[0])hasOwnProp(arguments[0],Be)&&(Re+=Be+": "+arguments[0][Be]+", ");Re=Re.slice(0,-2)}else Re=arguments[Ie];Pe.push(Re)}warn$1(Ee+`
Arguments: `+Array.prototype.slice.call(Pe).join("")+`
`+new Error().stack),Ce=!1}return _e.apply(this,arguments)},_e)}var deprecations={};function deprecateSimple(Ee,_e){hooks.deprecationHandler!=null&&hooks.deprecationHandler(Ee,_e),deprecations[Ee]||(warn$1(_e),deprecations[Ee]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction$1(Ee){return typeof Function<"u"&&Ee instanceof Function||Object.prototype.toString.call(Ee)==="[object Function]"}function set$2(Ee){var _e,Ce;for(Ce in Ee)hasOwnProp(Ee,Ce)&&(_e=Ee[Ce],isFunction$1(_e)?this[Ce]=_e:this["_"+Ce]=_e);this._config=Ee,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(Ee,_e){var Ce=extend$2({},Ee),Pe;for(Pe in _e)hasOwnProp(_e,Pe)&&(isObject$4(Ee[Pe])&&isObject$4(_e[Pe])?(Ce[Pe]={},extend$2(Ce[Pe],Ee[Pe]),extend$2(Ce[Pe],_e[Pe])):_e[Pe]!=null?Ce[Pe]=_e[Pe]:delete Ce[Pe]);for(Pe in Ee)hasOwnProp(Ee,Pe)&&!hasOwnProp(_e,Pe)&&isObject$4(Ee[Pe])&&(Ce[Pe]=extend$2({},Ce[Pe]));return Ce}function Locale(Ee){Ee!=null&&this.set(Ee)}var keys$1;Object.keys?keys$1=Object.keys:keys$1=function(Ee){var _e,Ce=[];for(_e in Ee)hasOwnProp(Ee,_e)&&Ce.push(_e);return Ce};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar$1(Ee,_e,Ce){var Pe=this._calendar[Ee]||this._calendar.sameElse;return isFunction$1(Pe)?Pe.call(_e,Ce):Pe}function zeroFill(Ee,_e,Ce){var Pe=""+Math.abs(Ee),Re=_e-Pe.length,Ie=Ee>=0;return(Ie?Ce?"+":"":"-")+Math.pow(10,Math.max(0,Re)).toString().substr(1)+Pe}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(Ee,_e,Ce,Pe){var Re=Pe;typeof Pe=="string"&&(Re=function(){return this[Pe]()}),Ee&&(formatTokenFunctions[Ee]=Re),_e&&(formatTokenFunctions[_e[0]]=function(){return zeroFill(Re.apply(this,arguments),_e[1],_e[2])}),Ce&&(formatTokenFunctions[Ce]=function(){return this.localeData().ordinal(Re.apply(this,arguments),Ee)})}function removeFormattingTokens(Ee){return Ee.match(/\[[\s\S]/)?Ee.replace(/^\[|\]$/g,""):Ee.replace(/\\/g,"")}function makeFormatFunction(Ee){var _e=Ee.match(formattingTokens),Ce,Pe;for(Ce=0,Pe=_e.length;Ce<Pe;Ce++)formatTokenFunctions[_e[Ce]]?_e[Ce]=formatTokenFunctions[_e[Ce]]:_e[Ce]=removeFormattingTokens(_e[Ce]);return function(Re){var Ie="",Be;for(Be=0;Be<Pe;Be++)Ie+=isFunction$1(_e[Be])?_e[Be].call(Re,Ee):_e[Be];return Ie}}function formatMoment(Ee,_e){return Ee.isValid()?(_e=expandFormat(_e,Ee.localeData()),formatFunctions[_e]=formatFunctions[_e]||makeFormatFunction(_e),formatFunctions[_e](Ee)):Ee.localeData().invalidDate()}function expandFormat(Ee,_e){var Ce=5;function Pe(Re){return _e.longDateFormat(Re)||Re}for(localFormattingTokens.lastIndex=0;Ce>=0&&localFormattingTokens.test(Ee);)Ee=Ee.replace(localFormattingTokens,Pe),localFormattingTokens.lastIndex=0,Ce-=1;return Ee}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(Ee){var _e=this._longDateFormat[Ee],Ce=this._longDateFormat[Ee.toUpperCase()];return _e||!Ce?_e:(this._longDateFormat[Ee]=Ce.match(formattingTokens).map(function(Pe){return Pe==="MMMM"||Pe==="MM"||Pe==="DD"||Pe==="dddd"?Pe.slice(1):Pe}).join(""),this._longDateFormat[Ee])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal$1(Ee){return this._ordinal.replace("%d",Ee)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(Ee,_e,Ce,Pe){var Re=this._relativeTime[Ce];return isFunction$1(Re)?Re(Ee,_e,Ce,Pe):Re.replace(/%d/i,Ee)}function pastFuture(Ee,_e){var Ce=this._relativeTime[Ee>0?"future":"past"];return isFunction$1(Ce)?Ce(_e):Ce.replace(/%s/i,_e)}var aliases={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function normalizeUnits(Ee){return typeof Ee=="string"?aliases[Ee]||aliases[Ee.toLowerCase()]:void 0}function normalizeObjectUnits(Ee){var _e={},Ce,Pe;for(Pe in Ee)hasOwnProp(Ee,Pe)&&(Ce=normalizeUnits(Pe),Ce&&(_e[Ce]=Ee[Pe]));return _e}var priorities={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function getPrioritizedUnits(Ee){var _e=[],Ce;for(Ce in Ee)hasOwnProp(Ee,Ce)&&_e.push({unit:Ce,priority:priorities[Ce]});return _e.sort(function(Pe,Re){return Pe.priority-Re.priority}),_e}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,match1to2NoLeadingZero=/^[1-9]\d?/,match1to2HasZero=/^([1-9]\d|\d)/,regexes;regexes={};function addRegexToken(Ee,_e,Ce){regexes[Ee]=isFunction$1(_e)?_e:function(Pe,Re){return Pe&&Ce?Ce:_e}}function getParseRegexForToken(Ee,_e){return hasOwnProp(regexes,Ee)?regexes[Ee](_e._strict,_e._locale):new RegExp(unescapeFormat(Ee))}function unescapeFormat(Ee){return regexEscape(Ee.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(_e,Ce,Pe,Re,Ie){return Ce||Pe||Re||Ie}))}function regexEscape(Ee){return Ee.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function absFloor(Ee){return Ee<0?Math.ceil(Ee)||0:Math.floor(Ee)}function toInt(Ee){var _e=+Ee,Ce=0;return _e!==0&&isFinite(_e)&&(Ce=absFloor(_e)),Ce}var tokens={};function addParseToken(Ee,_e){var Ce,Pe=_e,Re;for(typeof Ee=="string"&&(Ee=[Ee]),isNumber$2(_e)&&(Pe=function(Ie,Be){Be[_e]=toInt(Ie)}),Re=Ee.length,Ce=0;Ce<Re;Ce++)tokens[Ee[Ce]]=Pe}function addWeekParseToken(Ee,_e){addParseToken(Ee,function(Ce,Pe,Re,Ie){Re._w=Re._w||{},_e(Ce,Re._w,Re,Ie)})}function addTimeToArrayFromToken(Ee,_e,Ce){_e!=null&&hasOwnProp(tokens,Ee)&&tokens[Ee](_e,Ce._a,Ce,Ee)}function isLeapYear(Ee){return Ee%4===0&&Ee%100!==0||Ee%400===0}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;addFormatToken("Y",0,0,function(){var Ee=this.year();return Ee<=9999?zeroFill(Ee,4):"+"+Ee});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(Ee,_e){_e[YEAR]=Ee.length===2?hooks.parseTwoDigitYear(Ee):toInt(Ee)});addParseToken("YY",function(Ee,_e){_e[YEAR]=hooks.parseTwoDigitYear(Ee)});addParseToken("Y",function(Ee,_e){_e[YEAR]=parseInt(Ee,10)});function daysInYear(Ee){return isLeapYear(Ee)?366:365}hooks.parseTwoDigitYear=function(Ee){return toInt(Ee)+(toInt(Ee)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function makeGetSet(Ee,_e){return function(Ce){return Ce!=null?(set$1$1(this,Ee,Ce),hooks.updateOffset(this,_e),this):get$3(this,Ee)}}function get$3(Ee,_e){if(!Ee.isValid())return NaN;var Ce=Ee._d,Pe=Ee._isUTC;switch(_e){case"Milliseconds":return Pe?Ce.getUTCMilliseconds():Ce.getMilliseconds();case"Seconds":return Pe?Ce.getUTCSeconds():Ce.getSeconds();case"Minutes":return Pe?Ce.getUTCMinutes():Ce.getMinutes();case"Hours":return Pe?Ce.getUTCHours():Ce.getHours();case"Date":return Pe?Ce.getUTCDate():Ce.getDate();case"Day":return Pe?Ce.getUTCDay():Ce.getDay();case"Month":return Pe?Ce.getUTCMonth():Ce.getMonth();case"FullYear":return Pe?Ce.getUTCFullYear():Ce.getFullYear();default:return NaN}}function set$1$1(Ee,_e,Ce){var Pe,Re,Ie,Be,je;if(!(!Ee.isValid()||isNaN(Ce))){switch(Pe=Ee._d,Re=Ee._isUTC,_e){case"Milliseconds":return void(Re?Pe.setUTCMilliseconds(Ce):Pe.setMilliseconds(Ce));case"Seconds":return void(Re?Pe.setUTCSeconds(Ce):Pe.setSeconds(Ce));case"Minutes":return void(Re?Pe.setUTCMinutes(Ce):Pe.setMinutes(Ce));case"Hours":return void(Re?Pe.setUTCHours(Ce):Pe.setHours(Ce));case"Date":return void(Re?Pe.setUTCDate(Ce):Pe.setDate(Ce));case"FullYear":break;default:return}Ie=Ce,Be=Ee.month(),je=Ee.date(),je=je===29&&Be===1&&!isLeapYear(Ie)?28:je,Re?Pe.setUTCFullYear(Ie,Be,je):Pe.setFullYear(Ie,Be,je)}}function stringGet(Ee){return Ee=normalizeUnits(Ee),isFunction$1(this[Ee])?this[Ee]():this}function stringSet(Ee,_e){if(typeof Ee=="object"){Ee=normalizeObjectUnits(Ee);var Ce=getPrioritizedUnits(Ee),Pe,Re=Ce.length;for(Pe=0;Pe<Re;Pe++)this[Ce[Pe].unit](Ee[Ce[Pe].unit])}else if(Ee=normalizeUnits(Ee),isFunction$1(this[Ee]))return this[Ee](_e);return this}function mod(Ee,_e){return(Ee%_e+_e)%_e}var indexOf;Array.prototype.indexOf?indexOf=Array.prototype.indexOf:indexOf=function(Ee){var _e;for(_e=0;_e<this.length;++_e)if(this[_e]===Ee)return _e;return-1};function daysInMonth(Ee,_e){if(isNaN(Ee)||isNaN(_e))return NaN;var Ce=mod(_e,12);return Ee+=(_e-Ce)/12,Ce===1?isLeapYear(Ee)?29:28:31-Ce%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(Ee){return this.localeData().monthsShort(this,Ee)});addFormatToken("MMMM",0,0,function(Ee){return this.localeData().months(this,Ee)});addRegexToken("M",match1to2,match1to2NoLeadingZero);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(Ee,_e){return _e.monthsShortRegex(Ee)});addRegexToken("MMMM",function(Ee,_e){return _e.monthsRegex(Ee)});addParseToken(["M","MM"],function(Ee,_e){_e[MONTH]=toInt(Ee)-1});addParseToken(["MMM","MMMM"],function(Ee,_e,Ce,Pe){var Re=Ce._locale.monthsParse(Ee,Pe,Ce._strict);Re!=null?_e[MONTH]=Re:getParsingFlags(Ce).invalidMonth=Ee});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(Ee,_e){return Ee?isArray$2(this._months)?this._months[Ee.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(_e)?"format":"standalone"][Ee.month()]:isArray$2(this._months)?this._months:this._months.standalone}function localeMonthsShort(Ee,_e){return Ee?isArray$2(this._monthsShort)?this._monthsShort[Ee.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(_e)?"format":"standalone"][Ee.month()]:isArray$2(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(Ee,_e,Ce){var Pe,Re,Ie,Be=Ee.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Pe=0;Pe<12;++Pe)Ie=createUTC([2e3,Pe]),this._shortMonthsParse[Pe]=this.monthsShort(Ie,"").toLocaleLowerCase(),this._longMonthsParse[Pe]=this.months(Ie,"").toLocaleLowerCase();return Ce?_e==="MMM"?(Re=indexOf.call(this._shortMonthsParse,Be),Re!==-1?Re:null):(Re=indexOf.call(this._longMonthsParse,Be),Re!==-1?Re:null):_e==="MMM"?(Re=indexOf.call(this._shortMonthsParse,Be),Re!==-1?Re:(Re=indexOf.call(this._longMonthsParse,Be),Re!==-1?Re:null)):(Re=indexOf.call(this._longMonthsParse,Be),Re!==-1?Re:(Re=indexOf.call(this._shortMonthsParse,Be),Re!==-1?Re:null))}function localeMonthsParse(Ee,_e,Ce){var Pe,Re,Ie;if(this._monthsParseExact)return handleStrictParse.call(this,Ee,_e,Ce);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Pe=0;Pe<12;Pe++){if(Re=createUTC([2e3,Pe]),Ce&&!this._longMonthsParse[Pe]&&(this._longMonthsParse[Pe]=new RegExp("^"+this.months(Re,"").replace(".","")+"$","i"),this._shortMonthsParse[Pe]=new RegExp("^"+this.monthsShort(Re,"").replace(".","")+"$","i")),!Ce&&!this._monthsParse[Pe]&&(Ie="^"+this.months(Re,"")+"|^"+this.monthsShort(Re,""),this._monthsParse[Pe]=new RegExp(Ie.replace(".",""),"i")),Ce&&_e==="MMMM"&&this._longMonthsParse[Pe].test(Ee))return Pe;if(Ce&&_e==="MMM"&&this._shortMonthsParse[Pe].test(Ee))return Pe;if(!Ce&&this._monthsParse[Pe].test(Ee))return Pe}}function setMonth(Ee,_e){if(!Ee.isValid())return Ee;if(typeof _e=="string"){if(/^\d+$/.test(_e))_e=toInt(_e);else if(_e=Ee.localeData().monthsParse(_e),!isNumber$2(_e))return Ee}var Ce=_e,Pe=Ee.date();return Pe=Pe<29?Pe:Math.min(Pe,daysInMonth(Ee.year(),Ce)),Ee._isUTC?Ee._d.setUTCMonth(Ce,Pe):Ee._d.setMonth(Ce,Pe),Ee}function getSetMonth(Ee){return Ee!=null?(setMonth(this,Ee),hooks.updateOffset(this,!0),this):get$3(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(Ee){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),Ee?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&Ee?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(Ee){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),Ee?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&Ee?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function Ee(De,Fe){return Fe.length-De.length}var _e=[],Ce=[],Pe=[],Re,Ie,Be,je;for(Re=0;Re<12;Re++)Ie=createUTC([2e3,Re]),Be=regexEscape(this.monthsShort(Ie,"")),je=regexEscape(this.months(Ie,"")),_e.push(Be),Ce.push(je),Pe.push(je),Pe.push(Be);_e.sort(Ee),Ce.sort(Ee),Pe.sort(Ee),this._monthsRegex=new RegExp("^("+Pe.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Ce.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+_e.join("|")+")","i")}function createDate(Ee,_e,Ce,Pe,Re,Ie,Be){var je;return Ee<100&&Ee>=0?(je=new Date(Ee+400,_e,Ce,Pe,Re,Ie,Be),isFinite(je.getFullYear())&&je.setFullYear(Ee)):je=new Date(Ee,_e,Ce,Pe,Re,Ie,Be),je}function createUTCDate(Ee){var _e,Ce;return Ee<100&&Ee>=0?(Ce=Array.prototype.slice.call(arguments),Ce[0]=Ee+400,_e=new Date(Date.UTC.apply(null,Ce)),isFinite(_e.getUTCFullYear())&&_e.setUTCFullYear(Ee)):_e=new Date(Date.UTC.apply(null,arguments)),_e}function firstWeekOffset(Ee,_e,Ce){var Pe=7+_e-Ce,Re=(7+createUTCDate(Ee,0,Pe).getUTCDay()-_e)%7;return-Re+Pe-1}function dayOfYearFromWeeks(Ee,_e,Ce,Pe,Re){var Ie=(7+Ce-Pe)%7,Be=firstWeekOffset(Ee,Pe,Re),je=1+7*(_e-1)+Ie+Be,De,Fe;return je<=0?(De=Ee-1,Fe=daysInYear(De)+je):je>daysInYear(Ee)?(De=Ee+1,Fe=je-daysInYear(Ee)):(De=Ee,Fe=je),{year:De,dayOfYear:Fe}}function weekOfYear(Ee,_e,Ce){var Pe=firstWeekOffset(Ee.year(),_e,Ce),Re=Math.floor((Ee.dayOfYear()-Pe-1)/7)+1,Ie,Be;return Re<1?(Be=Ee.year()-1,Ie=Re+weeksInYear(Be,_e,Ce)):Re>weeksInYear(Ee.year(),_e,Ce)?(Ie=Re-weeksInYear(Ee.year(),_e,Ce),Be=Ee.year()+1):(Be=Ee.year(),Ie=Re),{week:Ie,year:Be}}function weeksInYear(Ee,_e,Ce){var Pe=firstWeekOffset(Ee,_e,Ce),Re=firstWeekOffset(Ee+1,_e,Ce);return(daysInYear(Ee)-Pe+Re)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addRegexToken("w",match1to2,match1to2NoLeadingZero);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2,match1to2NoLeadingZero);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(Ee,_e,Ce,Pe){_e[Pe.substr(0,1)]=toInt(Ee)});function localeWeek(Ee){return weekOfYear(Ee,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(Ee){var _e=this.localeData().week(this);return Ee==null?_e:this.add((Ee-_e)*7,"d")}function getSetISOWeek(Ee){var _e=weekOfYear(this,1,4).week;return Ee==null?_e:this.add((Ee-_e)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(Ee){return this.localeData().weekdaysMin(this,Ee)});addFormatToken("ddd",0,0,function(Ee){return this.localeData().weekdaysShort(this,Ee)});addFormatToken("dddd",0,0,function(Ee){return this.localeData().weekdays(this,Ee)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(Ee,_e){return _e.weekdaysMinRegex(Ee)});addRegexToken("ddd",function(Ee,_e){return _e.weekdaysShortRegex(Ee)});addRegexToken("dddd",function(Ee,_e){return _e.weekdaysRegex(Ee)});addWeekParseToken(["dd","ddd","dddd"],function(Ee,_e,Ce,Pe){var Re=Ce._locale.weekdaysParse(Ee,Pe,Ce._strict);Re!=null?_e.d=Re:getParsingFlags(Ce).invalidWeekday=Ee});addWeekParseToken(["d","e","E"],function(Ee,_e,Ce,Pe){_e[Pe]=toInt(Ee)});function parseWeekday(Ee,_e){return typeof Ee!="string"?Ee:isNaN(Ee)?(Ee=_e.weekdaysParse(Ee),typeof Ee=="number"?Ee:null):parseInt(Ee,10)}function parseIsoWeekday(Ee,_e){return typeof Ee=="string"?_e.weekdaysParse(Ee)%7||7:isNaN(Ee)?null:Ee}function shiftWeekdays(Ee,_e){return Ee.slice(_e,7).concat(Ee.slice(0,_e))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(Ee,_e){var Ce=isArray$2(this._weekdays)?this._weekdays:this._weekdays[Ee&&Ee!==!0&&this._weekdays.isFormat.test(_e)?"format":"standalone"];return Ee===!0?shiftWeekdays(Ce,this._week.dow):Ee?Ce[Ee.day()]:Ce}function localeWeekdaysShort(Ee){return Ee===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):Ee?this._weekdaysShort[Ee.day()]:this._weekdaysShort}function localeWeekdaysMin(Ee){return Ee===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):Ee?this._weekdaysMin[Ee.day()]:this._weekdaysMin}function handleStrictParse$1(Ee,_e,Ce){var Pe,Re,Ie,Be=Ee.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Pe=0;Pe<7;++Pe)Ie=createUTC([2e3,1]).day(Pe),this._minWeekdaysParse[Pe]=this.weekdaysMin(Ie,"").toLocaleLowerCase(),this._shortWeekdaysParse[Pe]=this.weekdaysShort(Ie,"").toLocaleLowerCase(),this._weekdaysParse[Pe]=this.weekdays(Ie,"").toLocaleLowerCase();return Ce?_e==="dddd"?(Re=indexOf.call(this._weekdaysParse,Be),Re!==-1?Re:null):_e==="ddd"?(Re=indexOf.call(this._shortWeekdaysParse,Be),Re!==-1?Re:null):(Re=indexOf.call(this._minWeekdaysParse,Be),Re!==-1?Re:null):_e==="dddd"?(Re=indexOf.call(this._weekdaysParse,Be),Re!==-1||(Re=indexOf.call(this._shortWeekdaysParse,Be),Re!==-1)?Re:(Re=indexOf.call(this._minWeekdaysParse,Be),Re!==-1?Re:null)):_e==="ddd"?(Re=indexOf.call(this._shortWeekdaysParse,Be),Re!==-1||(Re=indexOf.call(this._weekdaysParse,Be),Re!==-1)?Re:(Re=indexOf.call(this._minWeekdaysParse,Be),Re!==-1?Re:null)):(Re=indexOf.call(this._minWeekdaysParse,Be),Re!==-1||(Re=indexOf.call(this._weekdaysParse,Be),Re!==-1)?Re:(Re=indexOf.call(this._shortWeekdaysParse,Be),Re!==-1?Re:null))}function localeWeekdaysParse(Ee,_e,Ce){var Pe,Re,Ie;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,Ee,_e,Ce);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Pe=0;Pe<7;Pe++){if(Re=createUTC([2e3,1]).day(Pe),Ce&&!this._fullWeekdaysParse[Pe]&&(this._fullWeekdaysParse[Pe]=new RegExp("^"+this.weekdays(Re,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Pe]=new RegExp("^"+this.weekdaysShort(Re,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Pe]=new RegExp("^"+this.weekdaysMin(Re,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Pe]||(Ie="^"+this.weekdays(Re,"")+"|^"+this.weekdaysShort(Re,"")+"|^"+this.weekdaysMin(Re,""),this._weekdaysParse[Pe]=new RegExp(Ie.replace(".",""),"i")),Ce&&_e==="dddd"&&this._fullWeekdaysParse[Pe].test(Ee))return Pe;if(Ce&&_e==="ddd"&&this._shortWeekdaysParse[Pe].test(Ee))return Pe;if(Ce&&_e==="dd"&&this._minWeekdaysParse[Pe].test(Ee))return Pe;if(!Ce&&this._weekdaysParse[Pe].test(Ee))return Pe}}function getSetDayOfWeek(Ee){if(!this.isValid())return Ee!=null?this:NaN;var _e=get$3(this,"Day");return Ee!=null?(Ee=parseWeekday(Ee,this.localeData()),this.add(Ee-_e,"d")):_e}function getSetLocaleDayOfWeek(Ee){if(!this.isValid())return Ee!=null?this:NaN;var _e=(this.day()+7-this.localeData()._week.dow)%7;return Ee==null?_e:this.add(Ee-_e,"d")}function getSetISODayOfWeek(Ee){if(!this.isValid())return Ee!=null?this:NaN;if(Ee!=null){var _e=parseIsoWeekday(Ee,this.localeData());return this.day(this.day()%7?_e:_e-7)}else return this.day()||7}function weekdaysRegex(Ee){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Ee?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&Ee?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(Ee){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Ee?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&Ee?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(Ee){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Ee?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&Ee?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function Ee(Oe,ke){return ke.length-Oe.length}var _e=[],Ce=[],Pe=[],Re=[],Ie,Be,je,De,Fe;for(Ie=0;Ie<7;Ie++)Be=createUTC([2e3,1]).day(Ie),je=regexEscape(this.weekdaysMin(Be,"")),De=regexEscape(this.weekdaysShort(Be,"")),Fe=regexEscape(this.weekdays(Be,"")),_e.push(je),Ce.push(De),Pe.push(Fe),Re.push(je),Re.push(De),Re.push(Fe);_e.sort(Ee),Ce.sort(Ee),Pe.sort(Ee),Re.sort(Ee),this._weekdaysRegex=new RegExp("^("+Re.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Pe.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Ce.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+_e.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(Ee,_e){addFormatToken(Ee,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),_e)})}meridiem("a",!0);meridiem("A",!1);function matchMeridiem(Ee,_e){return _e._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2,match1to2HasZero);addRegexToken("h",match1to2,match1to2NoLeadingZero);addRegexToken("k",match1to2,match1to2NoLeadingZero);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(Ee,_e,Ce){var Pe=toInt(Ee);_e[HOUR]=Pe===24?0:Pe});addParseToken(["a","A"],function(Ee,_e,Ce){Ce._isPm=Ce._locale.isPM(Ee),Ce._meridiem=Ee});addParseToken(["h","hh"],function(Ee,_e,Ce){_e[HOUR]=toInt(Ee),getParsingFlags(Ce).bigHour=!0});addParseToken("hmm",function(Ee,_e,Ce){var Pe=Ee.length-2;_e[HOUR]=toInt(Ee.substr(0,Pe)),_e[MINUTE]=toInt(Ee.substr(Pe)),getParsingFlags(Ce).bigHour=!0});addParseToken("hmmss",function(Ee,_e,Ce){var Pe=Ee.length-4,Re=Ee.length-2;_e[HOUR]=toInt(Ee.substr(0,Pe)),_e[MINUTE]=toInt(Ee.substr(Pe,2)),_e[SECOND]=toInt(Ee.substr(Re)),getParsingFlags(Ce).bigHour=!0});addParseToken("Hmm",function(Ee,_e,Ce){var Pe=Ee.length-2;_e[HOUR]=toInt(Ee.substr(0,Pe)),_e[MINUTE]=toInt(Ee.substr(Pe))});addParseToken("Hmmss",function(Ee,_e,Ce){var Pe=Ee.length-4,Re=Ee.length-2;_e[HOUR]=toInt(Ee.substr(0,Pe)),_e[MINUTE]=toInt(Ee.substr(Pe,2)),_e[SECOND]=toInt(Ee.substr(Re))});function localeIsPM(Ee){return(Ee+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(Ee,_e,Ce){return Ee>11?Ce?"pm":"PM":Ce?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(Ee,_e){var Ce,Pe=Math.min(Ee.length,_e.length);for(Ce=0;Ce<Pe;Ce+=1)if(Ee[Ce]!==_e[Ce])return Ce;return Pe}function normalizeLocale(Ee){return Ee&&Ee.toLowerCase().replace("_","-")}function chooseLocale(Ee){for(var _e=0,Ce,Pe,Re,Ie;_e<Ee.length;){for(Ie=normalizeLocale(Ee[_e]).split("-"),Ce=Ie.length,Pe=normalizeLocale(Ee[_e+1]),Pe=Pe?Pe.split("-"):null;Ce>0;){if(Re=loadLocale(Ie.slice(0,Ce).join("-")),Re)return Re;if(Pe&&Pe.length>=Ce&&commonPrefix(Ie,Pe)>=Ce-1)break;Ce--}_e++}return globalLocale}function isLocaleNameSane(Ee){return!!(Ee&&Ee.match("^[^/\\\\]*$"))}function loadLocale(Ee){var _e=null,Ce;if(locales[Ee]===void 0&&typeof module<"u"&&module&&module.exports&&isLocaleNameSane(Ee))try{_e=globalLocale._abbr,Ce=require,Ce("./locale/"+Ee),getSetGlobalLocale(_e)}catch{locales[Ee]=null}return locales[Ee]}function getSetGlobalLocale(Ee,_e){var Ce;return Ee&&(isUndefined(_e)?Ce=getLocale(Ee):Ce=defineLocale(Ee,_e),Ce?globalLocale=Ce:typeof console<"u"&&console.warn&&console.warn("Locale "+Ee+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(Ee,_e){if(_e!==null){var Ce,Pe=baseConfig;if(_e.abbr=Ee,locales[Ee]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Pe=locales[Ee]._config;else if(_e.parentLocale!=null)if(locales[_e.parentLocale]!=null)Pe=locales[_e.parentLocale]._config;else if(Ce=loadLocale(_e.parentLocale),Ce!=null)Pe=Ce._config;else return localeFamilies[_e.parentLocale]||(localeFamilies[_e.parentLocale]=[]),localeFamilies[_e.parentLocale].push({name:Ee,config:_e}),null;return locales[Ee]=new Locale(mergeConfigs(Pe,_e)),localeFamilies[Ee]&&localeFamilies[Ee].forEach(function(Re){defineLocale(Re.name,Re.config)}),getSetGlobalLocale(Ee),locales[Ee]}else return delete locales[Ee],null}function updateLocale(Ee,_e){if(_e!=null){var Ce,Pe,Re=baseConfig;locales[Ee]!=null&&locales[Ee].parentLocale!=null?locales[Ee].set(mergeConfigs(locales[Ee]._config,_e)):(Pe=loadLocale(Ee),Pe!=null&&(Re=Pe._config),_e=mergeConfigs(Re,_e),Pe==null&&(_e.abbr=Ee),Ce=new Locale(_e),Ce.parentLocale=locales[Ee],locales[Ee]=Ce),getSetGlobalLocale(Ee)}else locales[Ee]!=null&&(locales[Ee].parentLocale!=null?(locales[Ee]=locales[Ee].parentLocale,Ee===getSetGlobalLocale()&&getSetGlobalLocale(Ee)):locales[Ee]!=null&&delete locales[Ee]);return locales[Ee]}function getLocale(Ee){var _e;if(Ee&&Ee._locale&&Ee._locale._abbr&&(Ee=Ee._locale._abbr),!Ee)return globalLocale;if(!isArray$2(Ee)){if(_e=loadLocale(Ee),_e)return _e;Ee=[Ee]}return chooseLocale(Ee)}function listLocales(){return keys$1(locales)}function checkOverflow(Ee){var _e,Ce=Ee._a;return Ce&&getParsingFlags(Ee).overflow===-2&&(_e=Ce[MONTH]<0||Ce[MONTH]>11?MONTH:Ce[DATE]<1||Ce[DATE]>daysInMonth(Ce[YEAR],Ce[MONTH])?DATE:Ce[HOUR]<0||Ce[HOUR]>24||Ce[HOUR]===24&&(Ce[MINUTE]!==0||Ce[SECOND]!==0||Ce[MILLISECOND]!==0)?HOUR:Ce[MINUTE]<0||Ce[MINUTE]>59?MINUTE:Ce[SECOND]<0||Ce[SECOND]>59?SECOND:Ce[MILLISECOND]<0||Ce[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(Ee)._overflowDayOfYear&&(_e<YEAR||_e>DATE)&&(_e=DATE),getParsingFlags(Ee)._overflowWeeks&&_e===-1&&(_e=WEEK),getParsingFlags(Ee)._overflowWeekday&&_e===-1&&(_e=WEEKDAY),getParsingFlags(Ee).overflow=_e),Ee}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function configFromISO(Ee){var _e,Ce,Pe=Ee._i,Re=extendedIsoRegex.exec(Pe)||basicIsoRegex.exec(Pe),Ie,Be,je,De,Fe=isoDates.length,Oe=isoTimes.length;if(Re){for(getParsingFlags(Ee).iso=!0,_e=0,Ce=Fe;_e<Ce;_e++)if(isoDates[_e][1].exec(Re[1])){Be=isoDates[_e][0],Ie=isoDates[_e][2]!==!1;break}if(Be==null){Ee._isValid=!1;return}if(Re[3]){for(_e=0,Ce=Oe;_e<Ce;_e++)if(isoTimes[_e][1].exec(Re[3])){je=(Re[2]||" ")+isoTimes[_e][0];break}if(je==null){Ee._isValid=!1;return}}if(!Ie&&je!=null){Ee._isValid=!1;return}if(Re[4])if(tzRegex.exec(Re[4]))De="Z";else{Ee._isValid=!1;return}Ee._f=Be+(je||"")+(De||""),configFromStringAndFormat(Ee)}else Ee._isValid=!1}function extractFromRFC2822Strings(Ee,_e,Ce,Pe,Re,Ie){var Be=[untruncateYear(Ee),defaultLocaleMonthsShort.indexOf(_e),parseInt(Ce,10),parseInt(Pe,10),parseInt(Re,10)];return Ie&&Be.push(parseInt(Ie,10)),Be}function untruncateYear(Ee){var _e=parseInt(Ee,10);return _e<=49?2e3+_e:_e<=999?1900+_e:_e}function preprocessRFC2822(Ee){return Ee.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(Ee,_e,Ce){if(Ee){var Pe=defaultLocaleWeekdaysShort.indexOf(Ee),Re=new Date(_e[0],_e[1],_e[2]).getDay();if(Pe!==Re)return getParsingFlags(Ce).weekdayMismatch=!0,Ce._isValid=!1,!1}return!0}function calculateOffset(Ee,_e,Ce){if(Ee)return obsOffsets[Ee];if(_e)return 0;var Pe=parseInt(Ce,10),Re=Pe%100,Ie=(Pe-Re)/100;return Ie*60+Re}function configFromRFC2822(Ee){var _e=rfc2822.exec(preprocessRFC2822(Ee._i)),Ce;if(_e){if(Ce=extractFromRFC2822Strings(_e[4],_e[3],_e[2],_e[5],_e[6],_e[7]),!checkWeekday(_e[1],Ce,Ee))return;Ee._a=Ce,Ee._tzm=calculateOffset(_e[8],_e[9],_e[10]),Ee._d=createUTCDate.apply(null,Ee._a),Ee._d.setUTCMinutes(Ee._d.getUTCMinutes()-Ee._tzm),getParsingFlags(Ee).rfc2822=!0}else Ee._isValid=!1}function configFromString(Ee){var _e=aspNetJsonRegex.exec(Ee._i);if(_e!==null){Ee._d=new Date(+_e[1]);return}if(configFromISO(Ee),Ee._isValid===!1)delete Ee._isValid;else return;if(configFromRFC2822(Ee),Ee._isValid===!1)delete Ee._isValid;else return;Ee._strict?Ee._isValid=!1:hooks.createFromInputFallback(Ee)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(Ee){Ee._d=new Date(Ee._i+(Ee._useUTC?" UTC":""))});function defaults$2(Ee,_e,Ce){return Ee??_e??Ce}function currentDateArray(Ee){var _e=new Date(hooks.now());return Ee._useUTC?[_e.getUTCFullYear(),_e.getUTCMonth(),_e.getUTCDate()]:[_e.getFullYear(),_e.getMonth(),_e.getDate()]}function configFromArray(Ee){var _e,Ce,Pe=[],Re,Ie,Be;if(!Ee._d){for(Re=currentDateArray(Ee),Ee._w&&Ee._a[DATE]==null&&Ee._a[MONTH]==null&&dayOfYearFromWeekInfo(Ee),Ee._dayOfYear!=null&&(Be=defaults$2(Ee._a[YEAR],Re[YEAR]),(Ee._dayOfYear>daysInYear(Be)||Ee._dayOfYear===0)&&(getParsingFlags(Ee)._overflowDayOfYear=!0),Ce=createUTCDate(Be,0,Ee._dayOfYear),Ee._a[MONTH]=Ce.getUTCMonth(),Ee._a[DATE]=Ce.getUTCDate()),_e=0;_e<3&&Ee._a[_e]==null;++_e)Ee._a[_e]=Pe[_e]=Re[_e];for(;_e<7;_e++)Ee._a[_e]=Pe[_e]=Ee._a[_e]==null?_e===2?1:0:Ee._a[_e];Ee._a[HOUR]===24&&Ee._a[MINUTE]===0&&Ee._a[SECOND]===0&&Ee._a[MILLISECOND]===0&&(Ee._nextDay=!0,Ee._a[HOUR]=0),Ee._d=(Ee._useUTC?createUTCDate:createDate).apply(null,Pe),Ie=Ee._useUTC?Ee._d.getUTCDay():Ee._d.getDay(),Ee._tzm!=null&&Ee._d.setUTCMinutes(Ee._d.getUTCMinutes()-Ee._tzm),Ee._nextDay&&(Ee._a[HOUR]=24),Ee._w&&typeof Ee._w.d<"u"&&Ee._w.d!==Ie&&(getParsingFlags(Ee).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(Ee){var _e,Ce,Pe,Re,Ie,Be,je,De,Fe;_e=Ee._w,_e.GG!=null||_e.W!=null||_e.E!=null?(Ie=1,Be=4,Ce=defaults$2(_e.GG,Ee._a[YEAR],weekOfYear(createLocal(),1,4).year),Pe=defaults$2(_e.W,1),Re=defaults$2(_e.E,1),(Re<1||Re>7)&&(De=!0)):(Ie=Ee._locale._week.dow,Be=Ee._locale._week.doy,Fe=weekOfYear(createLocal(),Ie,Be),Ce=defaults$2(_e.gg,Ee._a[YEAR],Fe.year),Pe=defaults$2(_e.w,Fe.week),_e.d!=null?(Re=_e.d,(Re<0||Re>6)&&(De=!0)):_e.e!=null?(Re=_e.e+Ie,(_e.e<0||_e.e>6)&&(De=!0)):Re=Ie),Pe<1||Pe>weeksInYear(Ce,Ie,Be)?getParsingFlags(Ee)._overflowWeeks=!0:De!=null?getParsingFlags(Ee)._overflowWeekday=!0:(je=dayOfYearFromWeeks(Ce,Pe,Re,Ie,Be),Ee._a[YEAR]=je.year,Ee._dayOfYear=je.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(Ee){if(Ee._f===hooks.ISO_8601){configFromISO(Ee);return}if(Ee._f===hooks.RFC_2822){configFromRFC2822(Ee);return}Ee._a=[],getParsingFlags(Ee).empty=!0;var _e=""+Ee._i,Ce,Pe,Re,Ie,Be,je=_e.length,De=0,Fe,Oe;for(Re=expandFormat(Ee._f,Ee._locale).match(formattingTokens)||[],Oe=Re.length,Ce=0;Ce<Oe;Ce++)Ie=Re[Ce],Pe=(_e.match(getParseRegexForToken(Ie,Ee))||[])[0],Pe&&(Be=_e.substr(0,_e.indexOf(Pe)),Be.length>0&&getParsingFlags(Ee).unusedInput.push(Be),_e=_e.slice(_e.indexOf(Pe)+Pe.length),De+=Pe.length),formatTokenFunctions[Ie]?(Pe?getParsingFlags(Ee).empty=!1:getParsingFlags(Ee).unusedTokens.push(Ie),addTimeToArrayFromToken(Ie,Pe,Ee)):Ee._strict&&!Pe&&getParsingFlags(Ee).unusedTokens.push(Ie);getParsingFlags(Ee).charsLeftOver=je-De,_e.length>0&&getParsingFlags(Ee).unusedInput.push(_e),Ee._a[HOUR]<=12&&getParsingFlags(Ee).bigHour===!0&&Ee._a[HOUR]>0&&(getParsingFlags(Ee).bigHour=void 0),getParsingFlags(Ee).parsedDateParts=Ee._a.slice(0),getParsingFlags(Ee).meridiem=Ee._meridiem,Ee._a[HOUR]=meridiemFixWrap(Ee._locale,Ee._a[HOUR],Ee._meridiem),Fe=getParsingFlags(Ee).era,Fe!==null&&(Ee._a[YEAR]=Ee._locale.erasConvertYear(Fe,Ee._a[YEAR])),configFromArray(Ee),checkOverflow(Ee)}function meridiemFixWrap(Ee,_e,Ce){var Pe;return Ce==null?_e:Ee.meridiemHour!=null?Ee.meridiemHour(_e,Ce):(Ee.isPM!=null&&(Pe=Ee.isPM(Ce),Pe&&_e<12&&(_e+=12),!Pe&&_e===12&&(_e=0)),_e)}function configFromStringAndArray(Ee){var _e,Ce,Pe,Re,Ie,Be,je=!1,De=Ee._f.length;if(De===0){getParsingFlags(Ee).invalidFormat=!0,Ee._d=new Date(NaN);return}for(Re=0;Re<De;Re++)Ie=0,Be=!1,_e=copyConfig({},Ee),Ee._useUTC!=null&&(_e._useUTC=Ee._useUTC),_e._f=Ee._f[Re],configFromStringAndFormat(_e),isValid$1(_e)&&(Be=!0),Ie+=getParsingFlags(_e).charsLeftOver,Ie+=getParsingFlags(_e).unusedTokens.length*10,getParsingFlags(_e).score=Ie,je?Ie<Pe&&(Pe=Ie,Ce=_e):(Pe==null||Ie<Pe||Be)&&(Pe=Ie,Ce=_e,Be&&(je=!0));extend$2(Ee,Ce||_e)}function configFromObject(Ee){if(!Ee._d){var _e=normalizeObjectUnits(Ee._i),Ce=_e.day===void 0?_e.date:_e.day;Ee._a=map$3([_e.year,_e.month,Ce,_e.hour,_e.minute,_e.second,_e.millisecond],function(Pe){return Pe&&parseInt(Pe,10)}),configFromArray(Ee)}}function createFromConfig(Ee){var _e=new Moment(checkOverflow(prepareConfig(Ee)));return _e._nextDay&&(_e.add(1,"d"),_e._nextDay=void 0),_e}function prepareConfig(Ee){var _e=Ee._i,Ce=Ee._f;return Ee._locale=Ee._locale||getLocale(Ee._l),_e===null||Ce===void 0&&_e===""?createInvalid({nullInput:!0}):(typeof _e=="string"&&(Ee._i=_e=Ee._locale.preparse(_e)),isMoment(_e)?new Moment(checkOverflow(_e)):(isDate$1(_e)?Ee._d=_e:isArray$2(Ce)?configFromStringAndArray(Ee):Ce?configFromStringAndFormat(Ee):configFromInput(Ee),isValid$1(Ee)||(Ee._d=null),Ee))}function configFromInput(Ee){var _e=Ee._i;isUndefined(_e)?Ee._d=new Date(hooks.now()):isDate$1(_e)?Ee._d=new Date(_e.valueOf()):typeof _e=="string"?configFromString(Ee):isArray$2(_e)?(Ee._a=map$3(_e.slice(0),function(Ce){return parseInt(Ce,10)}),configFromArray(Ee)):isObject$4(_e)?configFromObject(Ee):isNumber$2(_e)?Ee._d=new Date(_e):hooks.createFromInputFallback(Ee)}function createLocalOrUTC(Ee,_e,Ce,Pe,Re){var Ie={};return(_e===!0||_e===!1)&&(Pe=_e,_e=void 0),(Ce===!0||Ce===!1)&&(Pe=Ce,Ce=void 0),(isObject$4(Ee)&&isObjectEmpty(Ee)||isArray$2(Ee)&&Ee.length===0)&&(Ee=void 0),Ie._isAMomentObject=!0,Ie._useUTC=Ie._isUTC=Re,Ie._l=Ce,Ie._i=Ee,Ie._f=_e,Ie._strict=Pe,createFromConfig(Ie)}function createLocal(Ee,_e,Ce,Pe){return createLocalOrUTC(Ee,_e,Ce,Pe,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Ee=createLocal.apply(null,arguments);return this.isValid()&&Ee.isValid()?Ee<this?this:Ee:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Ee=createLocal.apply(null,arguments);return this.isValid()&&Ee.isValid()?Ee>this?this:Ee:createInvalid()});function pickBy(Ee,_e){var Ce,Pe;if(_e.length===1&&isArray$2(_e[0])&&(_e=_e[0]),!_e.length)return createLocal();for(Ce=_e[0],Pe=1;Pe<_e.length;++Pe)(!_e[Pe].isValid()||_e[Pe][Ee](Ce))&&(Ce=_e[Pe]);return Ce}function min$1(){var Ee=[].slice.call(arguments,0);return pickBy("isBefore",Ee)}function max$2(){var Ee=[].slice.call(arguments,0);return pickBy("isAfter",Ee)}var now$1=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(Ee){var _e,Ce=!1,Pe,Re=ordering.length;for(_e in Ee)if(hasOwnProp(Ee,_e)&&!(indexOf.call(ordering,_e)!==-1&&(Ee[_e]==null||!isNaN(Ee[_e]))))return!1;for(Pe=0;Pe<Re;++Pe)if(Ee[ordering[Pe]]){if(Ce)return!1;parseFloat(Ee[ordering[Pe]])!==toInt(Ee[ordering[Pe]])&&(Ce=!0)}return!0}function isValid$1$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(Ee){var _e=normalizeObjectUnits(Ee),Ce=_e.year||0,Pe=_e.quarter||0,Re=_e.month||0,Ie=_e.week||_e.isoWeek||0,Be=_e.day||0,je=_e.hour||0,De=_e.minute||0,Fe=_e.second||0,Oe=_e.millisecond||0;this._isValid=isDurationValid(_e),this._milliseconds=+Oe+Fe*1e3+De*6e4+je*1e3*60*60,this._days=+Be+Ie*7,this._months=+Re+Pe*3+Ce*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(Ee){return Ee instanceof Duration}function absRound(Ee){return Ee<0?Math.round(-1*Ee)*-1:Math.round(Ee)}function compareArrays(Ee,_e,Ce){var Pe=Math.min(Ee.length,_e.length),Re=Math.abs(Ee.length-_e.length),Ie=0,Be;for(Be=0;Be<Pe;Be++)toInt(Ee[Be])!==toInt(_e[Be])&&Ie++;return Ie+Re}function offset(Ee,_e){addFormatToken(Ee,0,0,function(){var Ce=this.utcOffset(),Pe="+";return Ce<0&&(Ce=-Ce,Pe="-"),Pe+zeroFill(~~(Ce/60),2)+_e+zeroFill(~~Ce%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(Ee,_e,Ce){Ce._useUTC=!0,Ce._tzm=offsetFromString(matchShortOffset,Ee)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(Ee,_e){var Ce=(_e||"").match(Ee),Pe,Re,Ie;return Ce===null?null:(Pe=Ce[Ce.length-1]||[],Re=(Pe+"").match(chunkOffset)||["-",0,0],Ie=+(Re[1]*60)+toInt(Re[2]),Ie===0?0:Re[0]==="+"?Ie:-Ie)}function cloneWithOffset(Ee,_e){var Ce,Pe;return _e._isUTC?(Ce=_e.clone(),Pe=(isMoment(Ee)||isDate$1(Ee)?Ee.valueOf():createLocal(Ee).valueOf())-Ce.valueOf(),Ce._d.setTime(Ce._d.valueOf()+Pe),hooks.updateOffset(Ce,!1),Ce):createLocal(Ee).local()}function getDateOffset(Ee){return-Math.round(Ee._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(Ee,_e,Ce){var Pe=this._offset||0,Re;if(!this.isValid())return Ee!=null?this:NaN;if(Ee!=null){if(typeof Ee=="string"){if(Ee=offsetFromString(matchShortOffset,Ee),Ee===null)return this}else Math.abs(Ee)<16&&!Ce&&(Ee=Ee*60);return!this._isUTC&&_e&&(Re=getDateOffset(this)),this._offset=Ee,this._isUTC=!0,Re!=null&&this.add(Re,"m"),Pe!==Ee&&(!_e||this._changeInProgress?addSubtract(this,createDuration(Ee-Pe,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?Pe:getDateOffset(this)}function getSetZone(Ee,_e){return Ee!=null?(typeof Ee!="string"&&(Ee=-Ee),this.utcOffset(Ee,_e),this):-this.utcOffset()}function setOffsetToUTC(Ee){return this.utcOffset(0,Ee)}function setOffsetToLocal(Ee){return this._isUTC&&(this.utcOffset(0,Ee),this._isUTC=!1,Ee&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var Ee=offsetFromString(matchOffset,this._i);Ee!=null?this.utcOffset(Ee):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(Ee){return this.isValid()?(Ee=Ee?createLocal(Ee).utcOffset():0,(this.utcOffset()-Ee)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var Ee={},_e;return copyConfig(Ee,this),Ee=prepareConfig(Ee),Ee._a?(_e=Ee._isUTC?createUTC(Ee._a):createLocal(Ee._a),this._isDSTShifted=this.isValid()&&compareArrays(Ee._a,_e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(Ee,_e){var Ce=Ee,Pe=null,Re,Ie,Be;return isDuration(Ee)?Ce={ms:Ee._milliseconds,d:Ee._days,M:Ee._months}:isNumber$2(Ee)||!isNaN(+Ee)?(Ce={},_e?Ce[_e]=+Ee:Ce.milliseconds=+Ee):(Pe=aspNetRegex.exec(Ee))?(Re=Pe[1]==="-"?-1:1,Ce={y:0,d:toInt(Pe[DATE])*Re,h:toInt(Pe[HOUR])*Re,m:toInt(Pe[MINUTE])*Re,s:toInt(Pe[SECOND])*Re,ms:toInt(absRound(Pe[MILLISECOND]*1e3))*Re}):(Pe=isoRegex.exec(Ee))?(Re=Pe[1]==="-"?-1:1,Ce={y:parseIso(Pe[2],Re),M:parseIso(Pe[3],Re),w:parseIso(Pe[4],Re),d:parseIso(Pe[5],Re),h:parseIso(Pe[6],Re),m:parseIso(Pe[7],Re),s:parseIso(Pe[8],Re)}):Ce==null?Ce={}:typeof Ce=="object"&&("from"in Ce||"to"in Ce)&&(Be=momentsDifference(createLocal(Ce.from),createLocal(Ce.to)),Ce={},Ce.ms=Be.milliseconds,Ce.M=Be.months),Ie=new Duration(Ce),isDuration(Ee)&&hasOwnProp(Ee,"_locale")&&(Ie._locale=Ee._locale),isDuration(Ee)&&hasOwnProp(Ee,"_isValid")&&(Ie._isValid=Ee._isValid),Ie}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(Ee,_e){var Ce=Ee&&parseFloat(Ee.replace(",","."));return(isNaN(Ce)?0:Ce)*_e}function positiveMomentsDifference(Ee,_e){var Ce={};return Ce.months=_e.month()-Ee.month()+(_e.year()-Ee.year())*12,Ee.clone().add(Ce.months,"M").isAfter(_e)&&--Ce.months,Ce.milliseconds=+_e-+Ee.clone().add(Ce.months,"M"),Ce}function momentsDifference(Ee,_e){var Ce;return Ee.isValid()&&_e.isValid()?(_e=cloneWithOffset(_e,Ee),Ee.isBefore(_e)?Ce=positiveMomentsDifference(Ee,_e):(Ce=positiveMomentsDifference(_e,Ee),Ce.milliseconds=-Ce.milliseconds,Ce.months=-Ce.months),Ce):{milliseconds:0,months:0}}function createAdder(Ee,_e){return function(Ce,Pe){var Re,Ie;return Pe!==null&&!isNaN(+Pe)&&(deprecateSimple(_e,"moment()."+_e+"(period, number) is deprecated. Please use moment()."+_e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Ie=Ce,Ce=Pe,Pe=Ie),Re=createDuration(Ce,Pe),addSubtract(this,Re,Ee),this}}function addSubtract(Ee,_e,Ce,Pe){var Re=_e._milliseconds,Ie=absRound(_e._days),Be=absRound(_e._months);Ee.isValid()&&(Pe=Pe??!0,Be&&setMonth(Ee,get$3(Ee,"Month")+Be*Ce),Ie&&set$1$1(Ee,"Date",get$3(Ee,"Date")+Ie*Ce),Re&&Ee._d.setTime(Ee._d.valueOf()+Re*Ce),Pe&&hooks.updateOffset(Ee,Ie||Be))}var add$1=createAdder(1,"add"),subtract$1=createAdder(-1,"subtract");function isString$1(Ee){return typeof Ee=="string"||Ee instanceof String}function isMomentInput(Ee){return isMoment(Ee)||isDate$1(Ee)||isString$1(Ee)||isNumber$2(Ee)||isNumberOrStringArray(Ee)||isMomentInputObject(Ee)||Ee===null||Ee===void 0}function isMomentInputObject(Ee){var _e=isObject$4(Ee)&&!isObjectEmpty(Ee),Ce=!1,Pe=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Re,Ie,Be=Pe.length;for(Re=0;Re<Be;Re+=1)Ie=Pe[Re],Ce=Ce||hasOwnProp(Ee,Ie);return _e&&Ce}function isNumberOrStringArray(Ee){var _e=isArray$2(Ee),Ce=!1;return _e&&(Ce=Ee.filter(function(Pe){return!isNumber$2(Pe)&&isString$1(Ee)}).length===0),_e&&Ce}function isCalendarSpec(Ee){var _e=isObject$4(Ee)&&!isObjectEmpty(Ee),Ce=!1,Pe=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],Re,Ie;for(Re=0;Re<Pe.length;Re+=1)Ie=Pe[Re],Ce=Ce||hasOwnProp(Ee,Ie);return _e&&Ce}function getCalendarFormat(Ee,_e){var Ce=Ee.diff(_e,"days",!0);return Ce<-6?"sameElse":Ce<-1?"lastWeek":Ce<0?"lastDay":Ce<1?"sameDay":Ce<2?"nextDay":Ce<7?"nextWeek":"sameElse"}function calendar$1$1(Ee,_e){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(Ee=arguments[0],_e=void 0):isCalendarSpec(arguments[0])&&(_e=arguments[0],Ee=void 0):(Ee=void 0,_e=void 0));var Ce=Ee||createLocal(),Pe=cloneWithOffset(Ce,this).startOf("day"),Re=hooks.calendarFormat(this,Pe)||"sameElse",Ie=_e&&(isFunction$1(_e[Re])?_e[Re].call(this,Ce):_e[Re]);return this.format(Ie||this.localeData().calendar(Re,this,createLocal(Ce)))}function clone$3(){return new Moment(this)}function isAfter(Ee,_e){var Ce=isMoment(Ee)?Ee:createLocal(Ee);return this.isValid()&&Ce.isValid()?(_e=normalizeUnits(_e)||"millisecond",_e==="millisecond"?this.valueOf()>Ce.valueOf():Ce.valueOf()<this.clone().startOf(_e).valueOf()):!1}function isBefore(Ee,_e){var Ce=isMoment(Ee)?Ee:createLocal(Ee);return this.isValid()&&Ce.isValid()?(_e=normalizeUnits(_e)||"millisecond",_e==="millisecond"?this.valueOf()<Ce.valueOf():this.clone().endOf(_e).valueOf()<Ce.valueOf()):!1}function isBetween(Ee,_e,Ce,Pe){var Re=isMoment(Ee)?Ee:createLocal(Ee),Ie=isMoment(_e)?_e:createLocal(_e);return this.isValid()&&Re.isValid()&&Ie.isValid()?(Pe=Pe||"()",(Pe[0]==="("?this.isAfter(Re,Ce):!this.isBefore(Re,Ce))&&(Pe[1]===")"?this.isBefore(Ie,Ce):!this.isAfter(Ie,Ce))):!1}function isSame(Ee,_e){var Ce=isMoment(Ee)?Ee:createLocal(Ee),Pe;return this.isValid()&&Ce.isValid()?(_e=normalizeUnits(_e)||"millisecond",_e==="millisecond"?this.valueOf()===Ce.valueOf():(Pe=Ce.valueOf(),this.clone().startOf(_e).valueOf()<=Pe&&Pe<=this.clone().endOf(_e).valueOf())):!1}function isSameOrAfter(Ee,_e){return this.isSame(Ee,_e)||this.isAfter(Ee,_e)}function isSameOrBefore(Ee,_e){return this.isSame(Ee,_e)||this.isBefore(Ee,_e)}function diff(Ee,_e,Ce){var Pe,Re,Ie;if(!this.isValid())return NaN;if(Pe=cloneWithOffset(Ee,this),!Pe.isValid())return NaN;switch(Re=(Pe.utcOffset()-this.utcOffset())*6e4,_e=normalizeUnits(_e),_e){case"year":Ie=monthDiff(this,Pe)/12;break;case"month":Ie=monthDiff(this,Pe);break;case"quarter":Ie=monthDiff(this,Pe)/3;break;case"second":Ie=(this-Pe)/1e3;break;case"minute":Ie=(this-Pe)/6e4;break;case"hour":Ie=(this-Pe)/36e5;break;case"day":Ie=(this-Pe-Re)/864e5;break;case"week":Ie=(this-Pe-Re)/6048e5;break;default:Ie=this-Pe}return Ce?Ie:absFloor(Ie)}function monthDiff(Ee,_e){if(Ee.date()<_e.date())return-monthDiff(_e,Ee);var Ce=(_e.year()-Ee.year())*12+(_e.month()-Ee.month()),Pe=Ee.clone().add(Ce,"months"),Re,Ie;return _e-Pe<0?(Re=Ee.clone().add(Ce-1,"months"),Ie=(_e-Pe)/(Pe-Re)):(Re=Ee.clone().add(Ce+1,"months"),Ie=(_e-Pe)/(Re-Pe)),-(Ce+Ie)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString$1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(Ee){if(!this.isValid())return null;var _e=Ee!==!0,Ce=_e?this.clone().utc():this;return Ce.year()<0||Ce.year()>9999?formatMoment(Ce,_e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction$1(Date.prototype.toISOString)?_e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(Ce,"Z")):formatMoment(Ce,_e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var Ee="moment",_e="",Ce,Pe,Re,Ie;return this.isLocal()||(Ee=this.utcOffset()===0?"moment.utc":"moment.parseZone",_e="Z"),Ce="["+Ee+'("]',Pe=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",Re="-MM-DD[T]HH:mm:ss.SSS",Ie=_e+'[")]',this.format(Ce+Pe+Re+Ie)}function format$2(Ee){Ee||(Ee=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var _e=formatMoment(this,Ee);return this.localeData().postformat(_e)}function from$1(Ee,_e){return this.isValid()&&(isMoment(Ee)&&Ee.isValid()||createLocal(Ee).isValid())?createDuration({to:this,from:Ee}).locale(this.locale()).humanize(!_e):this.localeData().invalidDate()}function fromNow(Ee){return this.from(createLocal(),Ee)}function to$1(Ee,_e){return this.isValid()&&(isMoment(Ee)&&Ee.isValid()||createLocal(Ee).isValid())?createDuration({from:this,to:Ee}).locale(this.locale()).humanize(!_e):this.localeData().invalidDate()}function toNow(Ee){return this.to(createLocal(),Ee)}function locale$2(Ee){var _e;return Ee===void 0?this._locale._abbr:(_e=getLocale(Ee),_e!=null&&(this._locale=_e),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(Ee){return Ee===void 0?this.localeData():this.locale(Ee)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(Ee,_e){return(Ee%_e+_e)%_e}function localStartOfDate(Ee,_e,Ce){return Ee<100&&Ee>=0?new Date(Ee+400,_e,Ce)-MS_PER_400_YEARS:new Date(Ee,_e,Ce).valueOf()}function utcStartOfDate(Ee,_e,Ce){return Ee<100&&Ee>=0?Date.UTC(Ee+400,_e,Ce)-MS_PER_400_YEARS:Date.UTC(Ee,_e,Ce)}function startOf(Ee){var _e,Ce;if(Ee=normalizeUnits(Ee),Ee===void 0||Ee==="millisecond"||!this.isValid())return this;switch(Ce=this._isUTC?utcStartOfDate:localStartOfDate,Ee){case"year":_e=Ce(this.year(),0,1);break;case"quarter":_e=Ce(this.year(),this.month()-this.month()%3,1);break;case"month":_e=Ce(this.year(),this.month(),1);break;case"week":_e=Ce(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":_e=Ce(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":_e=Ce(this.year(),this.month(),this.date());break;case"hour":_e=this._d.valueOf(),_e-=mod$1(_e+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":_e=this._d.valueOf(),_e-=mod$1(_e,MS_PER_MINUTE);break;case"second":_e=this._d.valueOf(),_e-=mod$1(_e,MS_PER_SECOND);break}return this._d.setTime(_e),hooks.updateOffset(this,!0),this}function endOf(Ee){var _e,Ce;if(Ee=normalizeUnits(Ee),Ee===void 0||Ee==="millisecond"||!this.isValid())return this;switch(Ce=this._isUTC?utcStartOfDate:localStartOfDate,Ee){case"year":_e=Ce(this.year()+1,0,1)-1;break;case"quarter":_e=Ce(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":_e=Ce(this.year(),this.month()+1,1)-1;break;case"week":_e=Ce(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":_e=Ce(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":_e=Ce(this.year(),this.month(),this.date()+1)-1;break;case"hour":_e=this._d.valueOf(),_e+=MS_PER_HOUR-mod$1(_e+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":_e=this._d.valueOf(),_e+=MS_PER_MINUTE-mod$1(_e,MS_PER_MINUTE)-1;break;case"second":_e=this._d.valueOf(),_e+=MS_PER_SECOND-mod$1(_e,MS_PER_SECOND)-1;break}return this._d.setTime(_e),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate$1(){return new Date(this.valueOf())}function toArray$2(){var Ee=this;return[Ee.year(),Ee.month(),Ee.date(),Ee.hour(),Ee.minute(),Ee.second(),Ee.millisecond()]}function toObject(){var Ee=this;return{years:Ee.year(),months:Ee.month(),date:Ee.date(),hours:Ee.hours(),minutes:Ee.minutes(),seconds:Ee.seconds(),milliseconds:Ee.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid$1(this)}function parsingFlags(){return extend$2({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(Ee,_e,Ce,Pe){var Re=Ce._locale.erasParse(Ee,Pe,Ce._strict);Re?getParsingFlags(Ce).era=Re:getParsingFlags(Ce).invalidEra=Ee});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(Ee,_e,Ce,Pe){var Re;Ce._locale._eraYearOrdinalRegex&&(Re=Ee.match(Ce._locale._eraYearOrdinalRegex)),Ce._locale.eraYearOrdinalParse?_e[YEAR]=Ce._locale.eraYearOrdinalParse(Ee,Re):_e[YEAR]=parseInt(Ee,10)});function localeEras(Ee,_e){var Ce,Pe,Re,Ie=this._eras||getLocale("en")._eras;for(Ce=0,Pe=Ie.length;Ce<Pe;++Ce){switch(typeof Ie[Ce].since){case"string":Re=hooks(Ie[Ce].since).startOf("day"),Ie[Ce].since=Re.valueOf();break}switch(typeof Ie[Ce].until){case"undefined":Ie[Ce].until=1/0;break;case"string":Re=hooks(Ie[Ce].until).startOf("day").valueOf(),Ie[Ce].until=Re.valueOf();break}}return Ie}function localeErasParse(Ee,_e,Ce){var Pe,Re,Ie=this.eras(),Be,je,De;for(Ee=Ee.toUpperCase(),Pe=0,Re=Ie.length;Pe<Re;++Pe)if(Be=Ie[Pe].name.toUpperCase(),je=Ie[Pe].abbr.toUpperCase(),De=Ie[Pe].narrow.toUpperCase(),Ce)switch(_e){case"N":case"NN":case"NNN":if(je===Ee)return Ie[Pe];break;case"NNNN":if(Be===Ee)return Ie[Pe];break;case"NNNNN":if(De===Ee)return Ie[Pe];break}else if([Be,je,De].indexOf(Ee)>=0)return Ie[Pe]}function localeErasConvertYear(Ee,_e){var Ce=Ee.since<=Ee.until?1:-1;return _e===void 0?hooks(Ee.since).year():hooks(Ee.since).year()+(_e-Ee.offset)*Ce}function getEraName(){var Ee,_e,Ce,Pe=this.localeData().eras();for(Ee=0,_e=Pe.length;Ee<_e;++Ee)if(Ce=this.clone().startOf("day").valueOf(),Pe[Ee].since<=Ce&&Ce<=Pe[Ee].until||Pe[Ee].until<=Ce&&Ce<=Pe[Ee].since)return Pe[Ee].name;return""}function getEraNarrow(){var Ee,_e,Ce,Pe=this.localeData().eras();for(Ee=0,_e=Pe.length;Ee<_e;++Ee)if(Ce=this.clone().startOf("day").valueOf(),Pe[Ee].since<=Ce&&Ce<=Pe[Ee].until||Pe[Ee].until<=Ce&&Ce<=Pe[Ee].since)return Pe[Ee].narrow;return""}function getEraAbbr(){var Ee,_e,Ce,Pe=this.localeData().eras();for(Ee=0,_e=Pe.length;Ee<_e;++Ee)if(Ce=this.clone().startOf("day").valueOf(),Pe[Ee].since<=Ce&&Ce<=Pe[Ee].until||Pe[Ee].until<=Ce&&Ce<=Pe[Ee].since)return Pe[Ee].abbr;return""}function getEraYear(){var Ee,_e,Ce,Pe,Re=this.localeData().eras();for(Ee=0,_e=Re.length;Ee<_e;++Ee)if(Ce=Re[Ee].since<=Re[Ee].until?1:-1,Pe=this.clone().startOf("day").valueOf(),Re[Ee].since<=Pe&&Pe<=Re[Ee].until||Re[Ee].until<=Pe&&Pe<=Re[Ee].since)return(this.year()-hooks(Re[Ee].since).year())*Ce+Re[Ee].offset;return this.year()}function erasNameRegex(Ee){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),Ee?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(Ee){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),Ee?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(Ee){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),Ee?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(Ee,_e){return _e.erasAbbrRegex(Ee)}function matchEraName(Ee,_e){return _e.erasNameRegex(Ee)}function matchEraNarrow(Ee,_e){return _e.erasNarrowRegex(Ee)}function matchEraYearOrdinal(Ee,_e){return _e._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var Ee=[],_e=[],Ce=[],Pe=[],Re,Ie,Be,je,De,Fe=this.eras();for(Re=0,Ie=Fe.length;Re<Ie;++Re)Be=regexEscape(Fe[Re].name),je=regexEscape(Fe[Re].abbr),De=regexEscape(Fe[Re].narrow),_e.push(Be),Ee.push(je),Ce.push(De),Pe.push(Be),Pe.push(je),Pe.push(De);this._erasRegex=new RegExp("^("+Pe.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+_e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+Ee.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+Ce.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(Ee,_e){addFormatToken(0,[Ee,Ee.length],0,_e)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(Ee,_e,Ce,Pe){_e[Pe.substr(0,2)]=toInt(Ee)});addWeekParseToken(["gg","GG"],function(Ee,_e,Ce,Pe){_e[Pe]=hooks.parseTwoDigitYear(Ee)});function getSetWeekYear(Ee){return getSetWeekYearHelper.call(this,Ee,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(Ee){return getSetWeekYearHelper.call(this,Ee,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var Ee=this.localeData()._week;return weeksInYear(this.year(),Ee.dow,Ee.doy)}function getWeeksInWeekYear(){var Ee=this.localeData()._week;return weeksInYear(this.weekYear(),Ee.dow,Ee.doy)}function getSetWeekYearHelper(Ee,_e,Ce,Pe,Re){var Ie;return Ee==null?weekOfYear(this,Pe,Re).year:(Ie=weeksInYear(Ee,Pe,Re),_e>Ie&&(_e=Ie),setWeekAll.call(this,Ee,_e,Ce,Pe,Re))}function setWeekAll(Ee,_e,Ce,Pe,Re){var Ie=dayOfYearFromWeeks(Ee,_e,Ce,Pe,Re),Be=createUTCDate(Ie.year,0,Ie.dayOfYear);return this.year(Be.getUTCFullYear()),this.month(Be.getUTCMonth()),this.date(Be.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addRegexToken("Q",match1);addParseToken("Q",function(Ee,_e){_e[MONTH]=(toInt(Ee)-1)*3});function getSetQuarter(Ee){return Ee==null?Math.ceil((this.month()+1)/3):this.month((Ee-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addRegexToken("D",match1to2,match1to2NoLeadingZero);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(Ee,_e){return Ee?_e._dayOfMonthOrdinalParse||_e._ordinalParse:_e._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(Ee,_e){_e[DATE]=toInt(Ee.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(Ee,_e,Ce){Ce._dayOfYear=toInt(Ee)});function getSetDayOfYear(Ee){var _e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return Ee==null?_e:this.add(Ee-_e,"d")}addFormatToken("m",["mm",2],0,"minute");addRegexToken("m",match1to2,match1to2HasZero);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addRegexToken("s",match1to2,match1to2HasZero);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token,getSetMillisecond;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(Ee,_e){_e[MILLISECOND]=toInt(("0."+Ee)*1e3)}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto=Moment.prototype;proto.add=add$1;proto.calendar=calendar$1$1;proto.clone=clone$3;proto.diff=diff;proto.endOf=endOf;proto.format=format$2;proto.from=from$1;proto.fromNow=fromNow;proto.to=to$1;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale$2;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract$1;proto.toArray=toArray$2;proto.toObject=toObject;proto.toDate=toDate$1;proto.toISOString=toISOString;proto.inspect=inspect;typeof Symbol<"u"&&Symbol.for!=null&&(proto[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto.toJSON=toJSON;proto.toString=toString$1;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.eraName=getEraName;proto.eraNarrow=getEraNarrow;proto.eraAbbr=getEraAbbr;proto.eraYear=getEraYear;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.weeksInWeekYear=getWeeksInWeekYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(Ee){return createLocal(Ee*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(Ee){return Ee}var proto$1=Locale.prototype;proto$1.calendar=calendar$1;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal$1;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set$2;proto$1.eras=localeEras;proto$1.erasParse=localeErasParse;proto$1.erasConvertYear=localeErasConvertYear;proto$1.erasAbbrRegex=erasAbbrRegex;proto$1.erasNameRegex=erasNameRegex;proto$1.erasNarrowRegex=erasNarrowRegex;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1$1(Ee,_e,Ce,Pe){var Re=getLocale(),Ie=createUTC().set(Pe,_e);return Re[Ce](Ie,Ee)}function listMonthsImpl(Ee,_e,Ce){if(isNumber$2(Ee)&&(_e=Ee,Ee=void 0),Ee=Ee||"",_e!=null)return get$1$1(Ee,_e,Ce,"month");var Pe,Re=[];for(Pe=0;Pe<12;Pe++)Re[Pe]=get$1$1(Ee,Pe,Ce,"month");return Re}function listWeekdaysImpl(Ee,_e,Ce,Pe){typeof Ee=="boolean"?(isNumber$2(_e)&&(Ce=_e,_e=void 0),_e=_e||""):(_e=Ee,Ce=_e,Ee=!1,isNumber$2(_e)&&(Ce=_e,_e=void 0),_e=_e||"");var Re=getLocale(),Ie=Ee?Re._week.dow:0,Be,je=[];if(Ce!=null)return get$1$1(_e,(Ce+Ie)%7,Pe,"day");for(Be=0;Be<7;Be++)je[Be]=get$1$1(_e,(Be+Ie)%7,Pe,"day");return je}function listMonths(Ee,_e){return listMonthsImpl(Ee,_e,"months")}function listMonthsShort(Ee,_e){return listMonthsImpl(Ee,_e,"monthsShort")}function listWeekdays(Ee,_e,Ce){return listWeekdaysImpl(Ee,_e,Ce,"weekdays")}function listWeekdaysShort(Ee,_e,Ce){return listWeekdaysImpl(Ee,_e,Ce,"weekdaysShort")}function listWeekdaysMin(Ee,_e,Ce){return listWeekdaysImpl(Ee,_e,Ce,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(Ee){var _e=Ee%10,Ce=toInt(Ee%100/10)===1?"th":_e===1?"st":_e===2?"nd":_e===3?"rd":"th";return Ee+Ce}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs(){var Ee=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),Ee.milliseconds=mathAbs(Ee.milliseconds),Ee.seconds=mathAbs(Ee.seconds),Ee.minutes=mathAbs(Ee.minutes),Ee.hours=mathAbs(Ee.hours),Ee.months=mathAbs(Ee.months),Ee.years=mathAbs(Ee.years),this}function addSubtract$1(Ee,_e,Ce,Pe){var Re=createDuration(_e,Ce);return Ee._milliseconds+=Pe*Re._milliseconds,Ee._days+=Pe*Re._days,Ee._months+=Pe*Re._months,Ee._bubble()}function add$1$1(Ee,_e){return addSubtract$1(this,Ee,_e,1)}function subtract$1$1(Ee,_e){return addSubtract$1(this,Ee,_e,-1)}function absCeil(Ee){return Ee<0?Math.floor(Ee):Math.ceil(Ee)}function bubble(){var Ee=this._milliseconds,_e=this._days,Ce=this._months,Pe=this._data,Re,Ie,Be,je,De;return Ee>=0&&_e>=0&&Ce>=0||Ee<=0&&_e<=0&&Ce<=0||(Ee+=absCeil(monthsToDays(Ce)+_e)*864e5,_e=0,Ce=0),Pe.milliseconds=Ee%1e3,Re=absFloor(Ee/1e3),Pe.seconds=Re%60,Ie=absFloor(Re/60),Pe.minutes=Ie%60,Be=absFloor(Ie/60),Pe.hours=Be%24,_e+=absFloor(Be/24),De=absFloor(daysToMonths(_e)),Ce+=De,_e-=absCeil(monthsToDays(De)),je=absFloor(Ce/12),Ce%=12,Pe.days=_e,Pe.months=Ce,Pe.years=je,this}function daysToMonths(Ee){return Ee*4800/146097}function monthsToDays(Ee){return Ee*146097/4800}function as(Ee){if(!this.isValid())return NaN;var _e,Ce,Pe=this._milliseconds;if(Ee=normalizeUnits(Ee),Ee==="month"||Ee==="quarter"||Ee==="year")switch(_e=this._days+Pe/864e5,Ce=this._months+daysToMonths(_e),Ee){case"month":return Ce;case"quarter":return Ce/3;case"year":return Ce/12}else switch(_e=this._days+Math.round(monthsToDays(this._months)),Ee){case"week":return _e/7+Pe/6048e5;case"day":return _e+Pe/864e5;case"hour":return _e*24+Pe/36e5;case"minute":return _e*1440+Pe/6e4;case"second":return _e*86400+Pe/1e3;case"millisecond":return Math.floor(_e*864e5)+Pe;default:throw new Error("Unknown unit "+Ee)}}function makeAs(Ee){return function(){return this.as(Ee)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y"),valueOf$1=asMilliseconds;function clone$1$1(){return createDuration(this)}function get$2$1(Ee){return Ee=normalizeUnits(Ee),this.isValid()?this[Ee+"s"]():NaN}function makeGetter(Ee){return function(){return this.isValid()?this._data[Ee]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days$1=makeGetter("days"),months$1=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round$2=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(Ee,_e,Ce,Pe,Re){return Re.relativeTime(_e||1,!!Ce,Ee,Pe)}function relativeTime$1(Ee,_e,Ce,Pe){var Re=createDuration(Ee).abs(),Ie=round$2(Re.as("s")),Be=round$2(Re.as("m")),je=round$2(Re.as("h")),De=round$2(Re.as("d")),Fe=round$2(Re.as("M")),Oe=round$2(Re.as("w")),ke=round$2(Re.as("y")),Me=Ie<=Ce.ss&&["s",Ie]||Ie<Ce.s&&["ss",Ie]||Be<=1&&["m"]||Be<Ce.m&&["mm",Be]||je<=1&&["h"]||je<Ce.h&&["hh",je]||De<=1&&["d"]||De<Ce.d&&["dd",De];return Ce.w!=null&&(Me=Me||Oe<=1&&["w"]||Oe<Ce.w&&["ww",Oe]),Me=Me||Fe<=1&&["M"]||Fe<Ce.M&&["MM",Fe]||ke<=1&&["y"]||["yy",ke],Me[2]=_e,Me[3]=+Ee>0,Me[4]=Pe,substituteTimeAgo.apply(null,Me)}function getSetRelativeTimeRounding(Ee){return Ee===void 0?round$2:typeof Ee=="function"?(round$2=Ee,!0):!1}function getSetRelativeTimeThreshold(Ee,_e){return thresholds[Ee]===void 0?!1:_e===void 0?thresholds[Ee]:(thresholds[Ee]=_e,Ee==="s"&&(thresholds.ss=_e-1),!0)}function humanize(Ee,_e){if(!this.isValid())return this.localeData().invalidDate();var Ce=!1,Pe=thresholds,Re,Ie;return typeof Ee=="object"&&(_e=Ee,Ee=!1),typeof Ee=="boolean"&&(Ce=Ee),typeof _e=="object"&&(Pe=Object.assign({},thresholds,_e),_e.s!=null&&_e.ss==null&&(Pe.ss=_e.s-1)),Re=this.localeData(),Ie=relativeTime$1(this,!Ce,Pe,Re),Ce&&(Ie=Re.pastFuture(+this,Ie)),Re.postformat(Ie)}var abs$1=Math.abs;function sign$2(Ee){return(Ee>0)-(Ee<0)||+Ee}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var Ee=abs$1(this._milliseconds)/1e3,_e=abs$1(this._days),Ce=abs$1(this._months),Pe,Re,Ie,Be,je=this.asSeconds(),De,Fe,Oe,ke;return je?(Pe=absFloor(Ee/60),Re=absFloor(Pe/60),Ee%=60,Pe%=60,Ie=absFloor(Ce/12),Ce%=12,Be=Ee?Ee.toFixed(3).replace(/\.?0+$/,""):"",De=je<0?"-":"",Fe=sign$2(this._months)!==sign$2(je)?"-":"",Oe=sign$2(this._days)!==sign$2(je)?"-":"",ke=sign$2(this._milliseconds)!==sign$2(je)?"-":"",De+"P"+(Ie?Fe+Ie+"Y":"")+(Ce?Fe+Ce+"M":"")+(_e?Oe+_e+"D":"")+(Re||Pe||Ee?"T":"")+(Re?ke+Re+"H":"")+(Pe?ke+Pe+"M":"")+(Ee?ke+Be+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1$1;proto$2.abs=abs;proto$2.add=add$1$1;proto$2.subtract=subtract$1$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1$1;proto$2.get=get$2$1;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days$1;proto$2.weeks=weeks;proto$2.months=months$1;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale$2;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(Ee,_e,Ce){Ce._d=new Date(parseFloat(Ee)*1e3)});addParseToken("x",function(Ee,_e,Ce){Ce._d=new Date(toInt(Ee))});//! moment.js
hooks.version="2.30.1";setHookCallback(createLocal);hooks.fn=proto;hooks.min=min$1;hooks.max=max$2;hooks.now=now$1;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate$1;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const getDefaultsFromPostinstall=()=>{};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(Ee){const _e=[];let Ce=0;for(let Pe=0;Pe<Ee.length;Pe++){let Re=Ee.charCodeAt(Pe);Re<128?_e[Ce++]=Re:Re<2048?(_e[Ce++]=Re>>6|192,_e[Ce++]=Re&63|128):(Re&64512)===55296&&Pe+1<Ee.length&&(Ee.charCodeAt(Pe+1)&64512)===56320?(Re=65536+((Re&1023)<<10)+(Ee.charCodeAt(++Pe)&1023),_e[Ce++]=Re>>18|240,_e[Ce++]=Re>>12&63|128,_e[Ce++]=Re>>6&63|128,_e[Ce++]=Re&63|128):(_e[Ce++]=Re>>12|224,_e[Ce++]=Re>>6&63|128,_e[Ce++]=Re&63|128)}return _e},byteArrayToString=function(Ee){const _e=[];let Ce=0,Pe=0;for(;Ce<Ee.length;){const Re=Ee[Ce++];if(Re<128)_e[Pe++]=String.fromCharCode(Re);else if(Re>191&&Re<224){const Ie=Ee[Ce++];_e[Pe++]=String.fromCharCode((Re&31)<<6|Ie&63)}else if(Re>239&&Re<365){const Ie=Ee[Ce++],Be=Ee[Ce++],je=Ee[Ce++],De=((Re&7)<<18|(Ie&63)<<12|(Be&63)<<6|je&63)-65536;_e[Pe++]=String.fromCharCode(55296+(De>>10)),_e[Pe++]=String.fromCharCode(56320+(De&1023))}else{const Ie=Ee[Ce++],Be=Ee[Ce++];_e[Pe++]=String.fromCharCode((Re&15)<<12|(Ie&63)<<6|Be&63)}}return _e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(Ee,_e){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=_e?this.byteToCharMapWebSafe_:this.byteToCharMap_,Pe=[];for(let Re=0;Re<Ee.length;Re+=3){const Ie=Ee[Re],Be=Re+1<Ee.length,je=Be?Ee[Re+1]:0,De=Re+2<Ee.length,Fe=De?Ee[Re+2]:0,Oe=Ie>>2,ke=(Ie&3)<<4|je>>4;let Me=(je&15)<<2|Fe>>6,$e=Fe&63;De||($e=64,Be||(Me=64)),Pe.push(Ce[Oe],Ce[ke],Ce[Me],Ce[$e])}return Pe.join("")},encodeString(Ee,_e){return this.HAS_NATIVE_SUPPORT&&!_e?btoa(Ee):this.encodeByteArray(stringToByteArray$1(Ee),_e)},decodeString(Ee,_e){return this.HAS_NATIVE_SUPPORT&&!_e?atob(Ee):byteArrayToString(this.decodeStringToByteArray(Ee,_e))},decodeStringToByteArray(Ee,_e){this.init_();const Ce=_e?this.charToByteMapWebSafe_:this.charToByteMap_,Pe=[];for(let Re=0;Re<Ee.length;){const Ie=Ce[Ee.charAt(Re++)],je=Re<Ee.length?Ce[Ee.charAt(Re)]:0;++Re;const Fe=Re<Ee.length?Ce[Ee.charAt(Re)]:64;++Re;const ke=Re<Ee.length?Ce[Ee.charAt(Re)]:64;if(++Re,Ie==null||je==null||Fe==null||ke==null)throw new DecodeBase64StringError;const Me=Ie<<2|je>>4;if(Pe.push(Me),Fe!==64){const $e=je<<4&240|Fe>>2;if(Pe.push($e),ke!==64){const He=Fe<<6&192|ke;Pe.push(He)}}}return Pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(Ee){const _e=stringToByteArray$1(Ee);return base64.encodeByteArray(_e,!0)},base64urlEncodeWithoutPadding=function(Ee){return base64Encode(Ee).replace(/\./g,"")},base64Decode=function(Ee){try{return base64.decodeString(Ee,!0)}catch(_e){console.error("base64Decode failed: ",_e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const Ee=define_process_env_default.__FIREBASE_DEFAULTS__;if(Ee)return JSON.parse(Ee)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let Ee;try{Ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const _e=Ee&&base64Decode(Ee[1]);return _e&&JSON.parse(_e)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(Ee){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ee}`);return}},getDefaultEmulatorHost=Ee=>{var _e,Ce;return(Ce=(_e=getDefaults())===null||_e===void 0?void 0:_e.emulatorHosts)===null||Ce===void 0?void 0:Ce[Ee]},getDefaultEmulatorHostnameAndPort=Ee=>{const _e=getDefaultEmulatorHost(Ee);if(!_e)return;const Ce=_e.lastIndexOf(":");if(Ce<=0||Ce+1===_e.length)throw new Error(`Invalid host ${_e} with no separate hostname and port!`);const Pe=parseInt(_e.substring(Ce+1),10);return _e[0]==="["?[_e.substring(1,Ce-1),Pe]:[_e.substring(0,Ce),Pe]},getDefaultAppConfig=()=>{var Ee;return(Ee=getDefaults())===null||Ee===void 0?void 0:Ee.config},getExperimentalSetting=Ee=>{var _e;return(_e=getDefaults())===null||_e===void 0?void 0:_e[`_${Ee}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_e,Ce)=>{this.resolve=_e,this.reject=Ce})}wrapCallback(_e){return(Ce,Pe)=>{Ce?this.reject(Ce):this.resolve(Pe),typeof _e=="function"&&(this.promise.catch(()=>{}),_e.length===1?_e(Ce):_e(Ce,Pe))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isCloudWorkstation(Ee){try{return(Ee.startsWith("http://")||Ee.startsWith("https://")?new URL(Ee).hostname:Ee).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pingServer(Ee){return(await fetch(Ee,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(Ee,_e){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce={alg:"none",type:"JWT"},Pe=_e||"demo-project",Re=Ee.iat||0,Ie=Ee.sub||Ee.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${Pe}`,aud:Pe,iat:Re,exp:Re+3600,auth_time:Re,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[base64urlEncodeWithoutPadding(JSON.stringify(Ce)),base64urlEncodeWithoutPadding(JSON.stringify(Be)),""].join(".")}const emulatorStatus={};function getEmulatorSummary(){const Ee={prod:[],emulator:[]};for(const _e of Object.keys(emulatorStatus))emulatorStatus[_e]?Ee.emulator.push(_e):Ee.prod.push(_e);return Ee}function getOrCreateEl(Ee){let _e=document.getElementById(Ee),Ce=!1;return _e||(_e=document.createElement("div"),_e.setAttribute("id",Ee),Ce=!0),{created:Ce,element:_e}}let previouslyDismissed=!1;function updateEmulatorBanner(Ee,_e){if(typeof window>"u"||typeof document>"u"||!isCloudWorkstation(window.location.host)||emulatorStatus[Ee]===_e||emulatorStatus[Ee]||previouslyDismissed)return;emulatorStatus[Ee]=_e;function Ce(Me){return`__firebase__banner__${Me}`}const Pe="__firebase__banner",Ie=getEmulatorSummary().prod.length>0;function Be(){const Me=document.getElementById(Pe);Me&&Me.remove()}function je(Me){Me.style.display="flex",Me.style.background="#7faaf0",Me.style.position="fixed",Me.style.bottom="5px",Me.style.left="5px",Me.style.padding=".5em",Me.style.borderRadius="5px",Me.style.alignItems="center"}function De(Me,$e){Me.setAttribute("width","24"),Me.setAttribute("id",$e),Me.setAttribute("height","24"),Me.setAttribute("viewBox","0 0 24 24"),Me.setAttribute("fill","none"),Me.style.marginLeft="-6px"}function Fe(){const Me=document.createElement("span");return Me.style.cursor="pointer",Me.style.marginLeft="16px",Me.style.fontSize="24px",Me.innerHTML=" &times;",Me.onclick=()=>{previouslyDismissed=!0,Be()},Me}function Oe(Me,$e){Me.setAttribute("id",$e),Me.innerText="Learn more",Me.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",Me.setAttribute("target","__blank"),Me.style.paddingLeft="5px",Me.style.textDecoration="underline"}function ke(){const Me=getOrCreateEl(Pe),$e=Ce("text"),He=document.getElementById($e)||document.createElement("span"),Qe=Ce("learnmore"),Ke=document.getElementById(Qe)||document.createElement("a"),ze=Ce("preprendIcon"),We=document.getElementById(ze)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(Me.created){const qe=Me.element;je(qe),Oe(Ke,Qe);const Ye=Fe();De(We,ze),qe.append(We,He,Ke,Ye),document.body.appendChild(qe)}Ie?(He.innerText="Preview backend disconnected.",We.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(We.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,He.innerText="Preview backend running in this workspace."),He.setAttribute("id",$e)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",ke):ke()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){var Ee;const _e=(Ee=getDefaults())===null||Ee===void 0?void 0:Ee.forceEnvironment;if(_e==="node")return!0;if(_e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const Ee=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof Ee=="object"&&Ee.id!==void 0}function isReactNative$1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const Ee=getUA();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((Ee,_e)=>{try{let Ce=!0;const Pe="validate-browser-context-for-indexeddb-analytics-module",Re=self.indexedDB.open(Pe);Re.onsuccess=()=>{Re.result.close(),Ce||self.indexedDB.deleteDatabase(Pe),Ee(!0)},Re.onupgradeneeded=()=>{Ce=!1},Re.onerror=()=>{var Ie;_e(((Ie=Re.error)===null||Ie===void 0?void 0:Ie.message)||"")}}catch(Ce){_e(Ce)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(_e,Ce,Pe){super(Ce),this.code=_e,this.customData=Pe,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(_e,Ce,Pe){this.service=_e,this.serviceName=Ce,this.errors=Pe}create(_e,...Ce){const Pe=Ce[0]||{},Re=`${this.service}/${_e}`,Ie=this.errors[_e],Be=Ie?replaceTemplate(Ie,Pe):"Error",je=`${this.serviceName}: ${Be} (${Re}).`;return new FirebaseError(Re,je,Pe)}}function replaceTemplate(Ee,_e){return Ee.replace(PATTERN,(Ce,Pe)=>{const Re=_e[Pe];return Re!=null?String(Re):`<${Pe}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(Ee){for(const _e in Ee)if(Object.prototype.hasOwnProperty.call(Ee,_e))return!1;return!0}function deepEqual(Ee,_e){if(Ee===_e)return!0;const Ce=Object.keys(Ee),Pe=Object.keys(_e);for(const Re of Ce){if(!Pe.includes(Re))return!1;const Ie=Ee[Re],Be=_e[Re];if(isObject$3(Ie)&&isObject$3(Be)){if(!deepEqual(Ie,Be))return!1}else if(Ie!==Be)return!1}for(const Re of Pe)if(!Ce.includes(Re))return!1;return!0}function isObject$3(Ee){return Ee!==null&&typeof Ee=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(Ee){const _e=[];for(const[Ce,Pe]of Object.entries(Ee))Array.isArray(Pe)?Pe.forEach(Re=>{_e.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Re))}):_e.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Pe));return _e.length?"&"+_e.join("&"):""}function querystringDecode(Ee){const _e={};return Ee.replace(/^\?/,"").split("&").forEach(Pe=>{if(Pe){const[Re,Ie]=Pe.split("=");_e[decodeURIComponent(Re)]=decodeURIComponent(Ie)}}),_e}function extractQuerystring(Ee){const _e=Ee.indexOf("?");if(!_e)return"";const Ce=Ee.indexOf("#",_e);return Ee.substring(_e,Ce>0?Ce:void 0)}function createSubscribe(Ee,_e){const Ce=new ObserverProxy(Ee,_e);return Ce.subscribe.bind(Ce)}class ObserverProxy{constructor(_e,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{_e(this)}).catch(Pe=>{this.error(Pe)})}next(_e){this.forEachObserver(Ce=>{Ce.next(_e)})}error(_e){this.forEachObserver(Ce=>{Ce.error(_e)}),this.close(_e)}complete(){this.forEachObserver(_e=>{_e.complete()}),this.close()}subscribe(_e,Ce,Pe){let Re;if(_e===void 0&&Ce===void 0&&Pe===void 0)throw new Error("Missing Observer.");implementsAnyMethods(_e,["next","error","complete"])?Re=_e:Re={next:_e,error:Ce,complete:Pe},Re.next===void 0&&(Re.next=noop$b),Re.error===void 0&&(Re.error=noop$b),Re.complete===void 0&&(Re.complete=noop$b);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Re.error(this.finalError):Re.complete()}catch{}}),this.observers.push(Re),Ie}unsubscribeOne(_e){this.observers===void 0||this.observers[_e]===void 0||(delete this.observers[_e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(_e){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,_e)}sendOne(_e,Ce){this.task.then(()=>{if(this.observers!==void 0&&this.observers[_e]!==void 0)try{Ce(this.observers[_e])}catch(Pe){typeof console<"u"&&console.error&&console.error(Pe)}})}close(_e){this.finalized||(this.finalized=!0,_e!==void 0&&(this.finalError=_e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(Ee,_e){if(typeof Ee!="object"||Ee===null)return!1;for(const Ce of _e)if(Ce in Ee&&typeof Ee[Ce]=="function")return!0;return!1}function noop$b(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}class Component{constructor(_e,Ce,Pe){this.name=_e,this.instanceFactory=Ce,this.type=Pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Provider$1=class{constructor(_e,Ce){this.name=_e,this.container=Ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const Ce=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(Ce)){const Pe=new Deferred;if(this.instancesDeferred.set(Ce,Pe),this.isInitialized(Ce)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:Ce});Re&&Pe.resolve(Re)}catch{}}return this.instancesDeferred.get(Ce).promise}getImmediate(_e){var Ce;const Pe=this.normalizeInstanceIdentifier(_e?.identifier),Re=(Ce=_e?.optional)!==null&&Ce!==void 0?Ce:!1;if(this.isInitialized(Pe)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:Pe})}catch(Ie){if(Re)return null;throw Ie}else{if(Re)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,!!this.shouldAutoInitialize()){if(isComponentEager(_e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[Ce,Pe]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(Ce);try{const Ie=this.getOrInitializeService({instanceIdentifier:Re});Pe.resolve(Ie)}catch{}}}}clearInstance(_e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}async delete(){const _e=Array.from(this.instances.values());await Promise.all([..._e.filter(Ce=>"INTERNAL"in Ce).map(Ce=>Ce.INTERNAL.delete()),..._e.filter(Ce=>"_delete"in Ce).map(Ce=>Ce._delete())])}isComponentSet(){return this.component!=null}isInitialized(_e=DEFAULT_ENTRY_NAME$1){return this.instances.has(_e)}getOptions(_e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:Ce={}}=_e,Pe=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(Pe))throw Error(`${this.name}(${Pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:Pe,options:Ce});for(const[Ie,Be]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(Ie);Pe===je&&Be.resolve(Re)}return Re}onInit(_e,Ce){var Pe;const Re=this.normalizeInstanceIdentifier(Ce),Ie=(Pe=this.onInitCallbacks.get(Re))!==null&&Pe!==void 0?Pe:new Set;Ie.add(_e),this.onInitCallbacks.set(Re,Ie);const Be=this.instances.get(Re);return Be&&_e(Be,Re),()=>{Ie.delete(_e)}}invokeOnInitCallbacks(_e,Ce){const Pe=this.onInitCallbacks.get(Ce);if(Pe)for(const Re of Pe)try{Re(_e,Ce)}catch{}}getOrInitializeService({instanceIdentifier:_e,options:Ce={}}){let Pe=this.instances.get(_e);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(_e),options:Ce}),this.instances.set(_e,Pe),this.instancesOptions.set(_e,Ce),this.invokeOnInitCallbacks(Pe,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,Pe)}catch{}return Pe||null}normalizeInstanceIdentifier(_e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?_e:DEFAULT_ENTRY_NAME$1:_e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function normalizeIdentifierForFactory(Ee){return Ee===DEFAULT_ENTRY_NAME$1?void 0:Ee}function isComponentEager(Ee){return Ee.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const Ce=this.getProvider(_e.name);if(Ce.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);Ce.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const Ce=new Provider$1(_e,this);return this.providers.set(_e,Ce),Ce}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(Ee){Ee[Ee.DEBUG=0]="DEBUG",Ee[Ee.VERBOSE=1]="VERBOSE",Ee[Ee.INFO=2]="INFO",Ee[Ee.WARN=3]="WARN",Ee[Ee.ERROR=4]="ERROR",Ee[Ee.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(Ee,_e,...Ce)=>{if(_e<Ee.logLevel)return;const Pe=new Date().toISOString(),Re=ConsoleMethod[_e];if(Re)console[Re](`[${Pe}]  ${Ee.name}:`,...Ce);else throw new Error(`Attempted to log a message with an invalid logType (value: ${_e})`)};class Logger{constructor(_e){this.name=_e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(_e){if(!(_e in LogLevel))throw new TypeError(`Invalid value "${_e}" assigned to \`logLevel\``);this._logLevel=_e}setLogLevel(_e){this._logLevel=typeof _e=="string"?levelStringToEnum[_e]:_e}get logHandler(){return this._logHandler}set logHandler(_e){if(typeof _e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_e}get userLogHandler(){return this._userLogHandler}set userLogHandler(_e){this._userLogHandler=_e}debug(..._e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,..._e),this._logHandler(this,LogLevel.DEBUG,..._e)}log(..._e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,..._e),this._logHandler(this,LogLevel.VERBOSE,..._e)}info(..._e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,..._e),this._logHandler(this,LogLevel.INFO,..._e)}warn(..._e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,..._e),this._logHandler(this,LogLevel.WARN,..._e)}error(..._e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,..._e),this._logHandler(this,LogLevel.ERROR,..._e)}}const instanceOfAny=(Ee,_e)=>_e.some(Ce=>Ee instanceof Ce);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(Ee){const _e=new Promise((Ce,Pe)=>{const Re=()=>{Ee.removeEventListener("success",Ie),Ee.removeEventListener("error",Be)},Ie=()=>{Ce(wrap(Ee.result)),Re()},Be=()=>{Pe(Ee.error),Re()};Ee.addEventListener("success",Ie),Ee.addEventListener("error",Be)});return _e.then(Ce=>{Ce instanceof IDBCursor&&cursorRequestMap.set(Ce,Ee)}).catch(()=>{}),reverseTransformCache.set(_e,Ee),_e}function cacheDonePromiseForTransaction(Ee){if(transactionDoneMap.has(Ee))return;const _e=new Promise((Ce,Pe)=>{const Re=()=>{Ee.removeEventListener("complete",Ie),Ee.removeEventListener("error",Be),Ee.removeEventListener("abort",Be)},Ie=()=>{Ce(),Re()},Be=()=>{Pe(Ee.error||new DOMException("AbortError","AbortError")),Re()};Ee.addEventListener("complete",Ie),Ee.addEventListener("error",Be),Ee.addEventListener("abort",Be)});transactionDoneMap.set(Ee,_e)}let idbProxyTraps={get(Ee,_e,Ce){if(Ee instanceof IDBTransaction){if(_e==="done")return transactionDoneMap.get(Ee);if(_e==="objectStoreNames")return Ee.objectStoreNames||transactionStoreNamesMap.get(Ee);if(_e==="store")return Ce.objectStoreNames[1]?void 0:Ce.objectStore(Ce.objectStoreNames[0])}return wrap(Ee[_e])},set(Ee,_e,Ce){return Ee[_e]=Ce,!0},has(Ee,_e){return Ee instanceof IDBTransaction&&(_e==="done"||_e==="store")?!0:_e in Ee}};function replaceTraps(Ee){idbProxyTraps=Ee(idbProxyTraps)}function wrapFunction(Ee){return Ee===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(_e,...Ce){const Pe=Ee.call(unwrap(this),_e,...Ce);return transactionStoreNamesMap.set(Pe,_e.sort?_e.sort():[_e]),wrap(Pe)}:getCursorAdvanceMethods().includes(Ee)?function(..._e){return Ee.apply(unwrap(this),_e),wrap(cursorRequestMap.get(this))}:function(..._e){return wrap(Ee.apply(unwrap(this),_e))}}function transformCachableValue(Ee){return typeof Ee=="function"?wrapFunction(Ee):(Ee instanceof IDBTransaction&&cacheDonePromiseForTransaction(Ee),instanceOfAny(Ee,getIdbProxyableTypes())?new Proxy(Ee,idbProxyTraps):Ee)}function wrap(Ee){if(Ee instanceof IDBRequest)return promisifyRequest(Ee);if(transformCache.has(Ee))return transformCache.get(Ee);const _e=transformCachableValue(Ee);return _e!==Ee&&(transformCache.set(Ee,_e),reverseTransformCache.set(_e,Ee)),_e}const unwrap=Ee=>reverseTransformCache.get(Ee);function openDB(Ee,_e,{blocked:Ce,upgrade:Pe,blocking:Re,terminated:Ie}={}){const Be=indexedDB.open(Ee,_e),je=wrap(Be);return Pe&&Be.addEventListener("upgradeneeded",De=>{Pe(wrap(Be.result),De.oldVersion,De.newVersion,wrap(Be.transaction),De)}),Ce&&Be.addEventListener("blocked",De=>Ce(De.oldVersion,De.newVersion,De)),je.then(De=>{Ie&&De.addEventListener("close",()=>Ie()),Re&&De.addEventListener("versionchange",Fe=>Re(Fe.oldVersion,Fe.newVersion,Fe))}).catch(()=>{}),je}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(Ee,_e){if(!(Ee instanceof IDBDatabase&&!(_e in Ee)&&typeof _e=="string"))return;if(cachedMethods.get(_e))return cachedMethods.get(_e);const Ce=_e.replace(/FromIndex$/,""),Pe=_e!==Ce,Re=writeMethods.includes(Ce);if(!(Ce in(Pe?IDBIndex:IDBObjectStore).prototype)||!(Re||readMethods.includes(Ce)))return;const Ie=async function(Be,...je){const De=this.transaction(Be,Re?"readwrite":"readonly");let Fe=De.store;return Pe&&(Fe=Fe.index(je.shift())),(await Promise.all([Fe[Ce](...je),Re&&De.done]))[0]};return cachedMethods.set(_e,Ie),Ie}replaceTraps(Ee=>({...Ee,get:(_e,Ce,Pe)=>getMethod(_e,Ce)||Ee.get(_e,Ce,Pe),has:(_e,Ce)=>!!getMethod(_e,Ce)||Ee.has(_e,Ce)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(Ce=>{if(isVersionServiceProvider(Ce)){const Pe=Ce.getImmediate();return`${Pe.library}/${Pe.version}`}else return null}).filter(Ce=>Ce).join(" ")}}function isVersionServiceProvider(Ee){const _e=Ee.getComponent();return _e?.type==="VERSION"}const name$q="@firebase/app",version$1$1="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/ai",name$1$1="@firebase/firestore-compat",name$r="firebase",version$5="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(Ee,_e){try{Ee.container.addComponent(_e)}catch(Ce){logger.debug(`Component ${_e.name} failed to register with FirebaseApp ${Ee.name}`,Ce)}}function _registerComponent(Ee){const _e=Ee.name;if(_components.has(_e))return logger.debug(`There were multiple attempts to register component ${_e}.`),!1;_components.set(_e,Ee);for(const Ce of _apps.values())_addComponent(Ce,Ee);for(const Ce of _serverApps.values())_addComponent(Ce,Ee);return!0}function _getProvider(Ee,_e){const Ce=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return Ce&&Ce.triggerHeartbeat(),Ee.container.getProvider(_e)}function _isFirebaseServerApp(Ee){return Ee==null?!1:Ee.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(_e,Ce,Pe){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},Ce),this._name=Ce.name,this._automaticDataCollectionEnabled=Ce.automaticDataCollectionEnabled,this._container=Pe,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$5;function initializeApp(Ee,_e={}){let Ce=Ee;typeof _e!="object"&&(_e={name:_e});const Pe=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!0},_e),Re=Pe.name;if(typeof Re!="string"||!Re)throw ERROR_FACTORY.create("bad-app-name",{appName:String(Re)});if(Ce||(Ce=getDefaultAppConfig()),!Ce)throw ERROR_FACTORY.create("no-options");const Ie=_apps.get(Re);if(Ie){if(deepEqual(Ce,Ie.options)&&deepEqual(Pe,Ie.config))return Ie;throw ERROR_FACTORY.create("duplicate-app",{appName:Re})}const Be=new ComponentContainer(Re);for(const De of _components.values())Be.addComponent(De);const je=new FirebaseAppImpl(Ce,Pe,Be);return _apps.set(Re,je),je}function getApp(Ee=DEFAULT_ENTRY_NAME){const _e=_apps.get(Ee);if(!_e&&Ee===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!_e)throw ERROR_FACTORY.create("no-app",{appName:Ee});return _e}function registerVersion(Ee,_e,Ce){var Pe;let Re=(Pe=PLATFORM_LOG_STRING[Ee])!==null&&Pe!==void 0?Pe:Ee;Ce&&(Re+=`-${Ce}`);const Ie=Re.match(/\s|\//),Be=_e.match(/\s|\//);if(Ie||Be){const je=[`Unable to register library "${Re}" with version "${_e}":`];Ie&&je.push(`library name "${Re}" contains illegal characters (whitespace or "/")`),Ie&&Be&&je.push("and"),Be&&je.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),logger.warn(je.join(" "));return}_registerComponent(new Component(`${Re}-version`,()=>({library:Re,version:_e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(Ee,_e)=>{switch(_e){case 0:try{Ee.createObjectStore(STORE_NAME)}catch(Ce){console.warn(Ce)}}}}).catch(Ee=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:Ee.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(Ee){try{const Ce=(await getDbPromise()).transaction(STORE_NAME),Pe=await Ce.objectStore(STORE_NAME).get(computeKey(Ee));return await Ce.done,Pe}catch(_e){if(_e instanceof FirebaseError)logger.warn(_e.message);else{const Ce=ERROR_FACTORY.create("idb-get",{originalErrorMessage:_e?.message});logger.warn(Ce.message)}}}async function writeHeartbeatsToIndexedDB(Ee,_e){try{const Pe=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await Pe.objectStore(STORE_NAME).put(_e,computeKey(Ee)),await Pe.done}catch(Ce){if(Ce instanceof FirebaseError)logger.warn(Ce.message);else{const Pe=ERROR_FACTORY.create("idb-set",{originalErrorMessage:Ce?.message});logger.warn(Pe.message)}}}function computeKey(Ee){return`${Ee.name}!${Ee.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(_e){this.container=_e,this._heartbeatsCache=null;const Ce=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(Ce),this._heartbeatsCachePromise=this._storage.read().then(Pe=>(this._heartbeatsCache=Pe,Pe))}async triggerHeartbeat(){var _e,Ce;try{const Re=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ie=getUTCDateString();if(((_e=this._heartbeatsCache)===null||_e===void 0?void 0:_e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((Ce=this._heartbeatsCache)===null||Ce===void 0?void 0:Ce.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===Ie||this._heartbeatsCache.heartbeats.some(Be=>Be.date===Ie))return;if(this._heartbeatsCache.heartbeats.push({date:Ie,agent:Re}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const Be=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(Be,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Pe){logger.warn(Pe)}}async getHeartbeatsHeader(){var _e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((_e=this._heartbeatsCache)===null||_e===void 0?void 0:_e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const Ce=getUTCDateString(),{heartbeatsToSend:Pe,unsentEntries:Re}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),Ie=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:Pe}));return this._heartbeatsCache.lastSentHeartbeatDate=Ce,Re.length>0?(this._heartbeatsCache.heartbeats=Re,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),Ie}catch(Ce){return logger.warn(Ce),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(Ee,_e=MAX_HEADER_BYTES){const Ce=[];let Pe=Ee.slice();for(const Re of Ee){const Ie=Ce.find(Be=>Be.agent===Re.agent);if(Ie){if(Ie.dates.push(Re.date),countBytes(Ce)>_e){Ie.dates.pop();break}}else if(Ce.push({agent:Re.agent,dates:[Re.date]}),countBytes(Ce)>_e){Ce.pop();break}Pe=Pe.slice(1)}return{heartbeatsToSend:Ce,unsentEntries:Pe}}class HeartbeatStorageImpl{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const Ce=await readHeartbeatsFromIndexedDB(this.app);return Ce?.heartbeats?Ce:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(_e){var Ce;if(await this._canUseIndexedDBPromise){const Re=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(Ce=_e.lastSentHeartbeatDate)!==null&&Ce!==void 0?Ce:Re.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}else return}async add(_e){var Ce;if(await this._canUseIndexedDBPromise){const Re=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(Ce=_e.lastSentHeartbeatDate)!==null&&Ce!==void 0?Ce:Re.lastSentHeartbeatDate,heartbeats:[...Re.heartbeats,..._e.heartbeats]})}else return}}function countBytes(Ee){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:Ee})).length}function getEarliestHeartbeatIdx(Ee){if(Ee.length===0)return-1;let _e=0,Ce=Ee[0].date;for(let Pe=1;Pe<Ee.length;Pe++)Ee[Pe].date<Ce&&(Ce=Ee[Pe].date,_e=Pe);return _e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(Ee){_registerComponent(new Component("platform-logger",_e=>new PlatformLoggerServiceImpl(_e),"PRIVATE")),_registerComponent(new Component("heartbeat",_e=>new HeartbeatServiceImpl(_e),"PRIVATE")),registerVersion(name$q,version$1$1,Ee),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var Ee;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function _e(Je,er){function or(){}or.prototype=er.prototype,Je.D=er.prototype,Je.prototype=new or,Je.prototype.constructor=Je,Je.C=function(pr,ar,fr){for(var gr=Array(arguments.length-2),Rr=2;Rr<arguments.length;Rr++)gr[Rr-2]=arguments[Rr];return er.prototype[ar].apply(pr,gr)}}function Ce(){this.blockSize=-1}function Pe(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}_e(Pe,Ce),Pe.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function Re(Je,er,or){or||(or=0);var pr=Array(16);if(typeof er=="string")for(var ar=0;16>ar;++ar)pr[ar]=er.charCodeAt(or++)|er.charCodeAt(or++)<<8|er.charCodeAt(or++)<<16|er.charCodeAt(or++)<<24;else for(ar=0;16>ar;++ar)pr[ar]=er[or++]|er[or++]<<8|er[or++]<<16|er[or++]<<24;er=Je.g[0],or=Je.g[1],ar=Je.g[2];var fr=Je.g[3],gr=er+(fr^or&(ar^fr))+pr[0]+3614090360&4294967295;er=or+(gr<<7&4294967295|gr>>>25),gr=fr+(ar^er&(or^ar))+pr[1]+3905402710&4294967295,fr=er+(gr<<12&4294967295|gr>>>20),gr=ar+(or^fr&(er^or))+pr[2]+606105819&4294967295,ar=fr+(gr<<17&4294967295|gr>>>15),gr=or+(er^ar&(fr^er))+pr[3]+3250441966&4294967295,or=ar+(gr<<22&4294967295|gr>>>10),gr=er+(fr^or&(ar^fr))+pr[4]+4118548399&4294967295,er=or+(gr<<7&4294967295|gr>>>25),gr=fr+(ar^er&(or^ar))+pr[5]+1200080426&4294967295,fr=er+(gr<<12&4294967295|gr>>>20),gr=ar+(or^fr&(er^or))+pr[6]+2821735955&4294967295,ar=fr+(gr<<17&4294967295|gr>>>15),gr=or+(er^ar&(fr^er))+pr[7]+4249261313&4294967295,or=ar+(gr<<22&4294967295|gr>>>10),gr=er+(fr^or&(ar^fr))+pr[8]+1770035416&4294967295,er=or+(gr<<7&4294967295|gr>>>25),gr=fr+(ar^er&(or^ar))+pr[9]+2336552879&4294967295,fr=er+(gr<<12&4294967295|gr>>>20),gr=ar+(or^fr&(er^or))+pr[10]+4294925233&4294967295,ar=fr+(gr<<17&4294967295|gr>>>15),gr=or+(er^ar&(fr^er))+pr[11]+2304563134&4294967295,or=ar+(gr<<22&4294967295|gr>>>10),gr=er+(fr^or&(ar^fr))+pr[12]+1804603682&4294967295,er=or+(gr<<7&4294967295|gr>>>25),gr=fr+(ar^er&(or^ar))+pr[13]+4254626195&4294967295,fr=er+(gr<<12&4294967295|gr>>>20),gr=ar+(or^fr&(er^or))+pr[14]+2792965006&4294967295,ar=fr+(gr<<17&4294967295|gr>>>15),gr=or+(er^ar&(fr^er))+pr[15]+1236535329&4294967295,or=ar+(gr<<22&4294967295|gr>>>10),gr=er+(ar^fr&(or^ar))+pr[1]+4129170786&4294967295,er=or+(gr<<5&4294967295|gr>>>27),gr=fr+(or^ar&(er^or))+pr[6]+3225465664&4294967295,fr=er+(gr<<9&4294967295|gr>>>23),gr=ar+(er^or&(fr^er))+pr[11]+643717713&4294967295,ar=fr+(gr<<14&4294967295|gr>>>18),gr=or+(fr^er&(ar^fr))+pr[0]+3921069994&4294967295,or=ar+(gr<<20&4294967295|gr>>>12),gr=er+(ar^fr&(or^ar))+pr[5]+3593408605&4294967295,er=or+(gr<<5&4294967295|gr>>>27),gr=fr+(or^ar&(er^or))+pr[10]+38016083&4294967295,fr=er+(gr<<9&4294967295|gr>>>23),gr=ar+(er^or&(fr^er))+pr[15]+3634488961&4294967295,ar=fr+(gr<<14&4294967295|gr>>>18),gr=or+(fr^er&(ar^fr))+pr[4]+3889429448&4294967295,or=ar+(gr<<20&4294967295|gr>>>12),gr=er+(ar^fr&(or^ar))+pr[9]+568446438&4294967295,er=or+(gr<<5&4294967295|gr>>>27),gr=fr+(or^ar&(er^or))+pr[14]+3275163606&4294967295,fr=er+(gr<<9&4294967295|gr>>>23),gr=ar+(er^or&(fr^er))+pr[3]+4107603335&4294967295,ar=fr+(gr<<14&4294967295|gr>>>18),gr=or+(fr^er&(ar^fr))+pr[8]+1163531501&4294967295,or=ar+(gr<<20&4294967295|gr>>>12),gr=er+(ar^fr&(or^ar))+pr[13]+2850285829&4294967295,er=or+(gr<<5&4294967295|gr>>>27),gr=fr+(or^ar&(er^or))+pr[2]+4243563512&4294967295,fr=er+(gr<<9&4294967295|gr>>>23),gr=ar+(er^or&(fr^er))+pr[7]+1735328473&4294967295,ar=fr+(gr<<14&4294967295|gr>>>18),gr=or+(fr^er&(ar^fr))+pr[12]+2368359562&4294967295,or=ar+(gr<<20&4294967295|gr>>>12),gr=er+(or^ar^fr)+pr[5]+4294588738&4294967295,er=or+(gr<<4&4294967295|gr>>>28),gr=fr+(er^or^ar)+pr[8]+2272392833&4294967295,fr=er+(gr<<11&4294967295|gr>>>21),gr=ar+(fr^er^or)+pr[11]+1839030562&4294967295,ar=fr+(gr<<16&4294967295|gr>>>16),gr=or+(ar^fr^er)+pr[14]+4259657740&4294967295,or=ar+(gr<<23&4294967295|gr>>>9),gr=er+(or^ar^fr)+pr[1]+2763975236&4294967295,er=or+(gr<<4&4294967295|gr>>>28),gr=fr+(er^or^ar)+pr[4]+1272893353&4294967295,fr=er+(gr<<11&4294967295|gr>>>21),gr=ar+(fr^er^or)+pr[7]+4139469664&4294967295,ar=fr+(gr<<16&4294967295|gr>>>16),gr=or+(ar^fr^er)+pr[10]+3200236656&4294967295,or=ar+(gr<<23&4294967295|gr>>>9),gr=er+(or^ar^fr)+pr[13]+681279174&4294967295,er=or+(gr<<4&4294967295|gr>>>28),gr=fr+(er^or^ar)+pr[0]+3936430074&4294967295,fr=er+(gr<<11&4294967295|gr>>>21),gr=ar+(fr^er^or)+pr[3]+3572445317&4294967295,ar=fr+(gr<<16&4294967295|gr>>>16),gr=or+(ar^fr^er)+pr[6]+76029189&4294967295,or=ar+(gr<<23&4294967295|gr>>>9),gr=er+(or^ar^fr)+pr[9]+3654602809&4294967295,er=or+(gr<<4&4294967295|gr>>>28),gr=fr+(er^or^ar)+pr[12]+3873151461&4294967295,fr=er+(gr<<11&4294967295|gr>>>21),gr=ar+(fr^er^or)+pr[15]+530742520&4294967295,ar=fr+(gr<<16&4294967295|gr>>>16),gr=or+(ar^fr^er)+pr[2]+3299628645&4294967295,or=ar+(gr<<23&4294967295|gr>>>9),gr=er+(ar^(or|~fr))+pr[0]+4096336452&4294967295,er=or+(gr<<6&4294967295|gr>>>26),gr=fr+(or^(er|~ar))+pr[7]+1126891415&4294967295,fr=er+(gr<<10&4294967295|gr>>>22),gr=ar+(er^(fr|~or))+pr[14]+2878612391&4294967295,ar=fr+(gr<<15&4294967295|gr>>>17),gr=or+(fr^(ar|~er))+pr[5]+4237533241&4294967295,or=ar+(gr<<21&4294967295|gr>>>11),gr=er+(ar^(or|~fr))+pr[12]+1700485571&4294967295,er=or+(gr<<6&4294967295|gr>>>26),gr=fr+(or^(er|~ar))+pr[3]+2399980690&4294967295,fr=er+(gr<<10&4294967295|gr>>>22),gr=ar+(er^(fr|~or))+pr[10]+4293915773&4294967295,ar=fr+(gr<<15&4294967295|gr>>>17),gr=or+(fr^(ar|~er))+pr[1]+2240044497&4294967295,or=ar+(gr<<21&4294967295|gr>>>11),gr=er+(ar^(or|~fr))+pr[8]+1873313359&4294967295,er=or+(gr<<6&4294967295|gr>>>26),gr=fr+(or^(er|~ar))+pr[15]+4264355552&4294967295,fr=er+(gr<<10&4294967295|gr>>>22),gr=ar+(er^(fr|~or))+pr[6]+2734768916&4294967295,ar=fr+(gr<<15&4294967295|gr>>>17),gr=or+(fr^(ar|~er))+pr[13]+1309151649&4294967295,or=ar+(gr<<21&4294967295|gr>>>11),gr=er+(ar^(or|~fr))+pr[4]+4149444226&4294967295,er=or+(gr<<6&4294967295|gr>>>26),gr=fr+(or^(er|~ar))+pr[11]+3174756917&4294967295,fr=er+(gr<<10&4294967295|gr>>>22),gr=ar+(er^(fr|~or))+pr[2]+718787259&4294967295,ar=fr+(gr<<15&4294967295|gr>>>17),gr=or+(fr^(ar|~er))+pr[9]+3951481745&4294967295,Je.g[0]=Je.g[0]+er&4294967295,Je.g[1]=Je.g[1]+(ar+(gr<<21&4294967295|gr>>>11))&4294967295,Je.g[2]=Je.g[2]+ar&4294967295,Je.g[3]=Je.g[3]+fr&4294967295}Pe.prototype.u=function(Je,er){er===void 0&&(er=Je.length);for(var or=er-this.blockSize,pr=this.B,ar=this.h,fr=0;fr<er;){if(ar==0)for(;fr<=or;)Re(this,Je,fr),fr+=this.blockSize;if(typeof Je=="string"){for(;fr<er;)if(pr[ar++]=Je.charCodeAt(fr++),ar==this.blockSize){Re(this,pr),ar=0;break}}else for(;fr<er;)if(pr[ar++]=Je[fr++],ar==this.blockSize){Re(this,pr),ar=0;break}}this.h=ar,this.o+=er},Pe.prototype.v=function(){var Je=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Je[0]=128;for(var er=1;er<Je.length-8;++er)Je[er]=0;var or=8*this.o;for(er=Je.length-8;er<Je.length;++er)Je[er]=or&255,or/=256;for(this.u(Je),Je=Array(16),er=or=0;4>er;++er)for(var pr=0;32>pr;pr+=8)Je[or++]=this.g[er]>>>pr&255;return Je};function Ie(Je,er){var or=je;return Object.prototype.hasOwnProperty.call(or,Je)?or[Je]:or[Je]=er(Je)}function Be(Je,er){this.h=er;for(var or=[],pr=!0,ar=Je.length-1;0<=ar;ar--){var fr=Je[ar]|0;pr&&fr==er||(or[ar]=fr,pr=!1)}this.g=or}var je={};function De(Je){return-128<=Je&&128>Je?Ie(Je,function(er){return new Be([er|0],0>er?-1:0)}):new Be([Je|0],0>Je?-1:0)}function Fe(Je){if(isNaN(Je)||!isFinite(Je))return ke;if(0>Je)return Ke(Fe(-Je));for(var er=[],or=1,pr=0;Je>=or;pr++)er[pr]=Je/or|0,or*=4294967296;return new Be(er,0)}function Oe(Je,er){if(Je.length==0)throw Error("number format error: empty string");if(er=er||10,2>er||36<er)throw Error("radix out of range: "+er);if(Je.charAt(0)=="-")return Ke(Oe(Je.substring(1),er));if(0<=Je.indexOf("-"))throw Error('number format error: interior "-" character');for(var or=Fe(Math.pow(er,8)),pr=ke,ar=0;ar<Je.length;ar+=8){var fr=Math.min(8,Je.length-ar),gr=parseInt(Je.substring(ar,ar+fr),er);8>fr?(fr=Fe(Math.pow(er,fr)),pr=pr.j(fr).add(Fe(gr))):(pr=pr.j(or),pr=pr.add(Fe(gr)))}return pr}var ke=De(0),Me=De(1),$e=De(16777216);Ee=Be.prototype,Ee.m=function(){if(Qe(this))return-Ke(this).m();for(var Je=0,er=1,or=0;or<this.g.length;or++){var pr=this.i(or);Je+=(0<=pr?pr:4294967296+pr)*er,er*=4294967296}return Je},Ee.toString=function(Je){if(Je=Je||10,2>Je||36<Je)throw Error("radix out of range: "+Je);if(He(this))return"0";if(Qe(this))return"-"+Ke(this).toString(Je);for(var er=Fe(Math.pow(Je,6)),or=this,pr="";;){var ar=Ye(or,er).g;or=ze(or,ar.j(er));var fr=((0<or.g.length?or.g[0]:or.h)>>>0).toString(Je);if(or=ar,He(or))return fr+pr;for(;6>fr.length;)fr="0"+fr;pr=fr+pr}},Ee.i=function(Je){return 0>Je?0:Je<this.g.length?this.g[Je]:this.h};function He(Je){if(Je.h!=0)return!1;for(var er=0;er<Je.g.length;er++)if(Je.g[er]!=0)return!1;return!0}function Qe(Je){return Je.h==-1}Ee.l=function(Je){return Je=ze(this,Je),Qe(Je)?-1:He(Je)?0:1};function Ke(Je){for(var er=Je.g.length,or=[],pr=0;pr<er;pr++)or[pr]=~Je.g[pr];return new Be(or,~Je.h).add(Me)}Ee.abs=function(){return Qe(this)?Ke(this):this},Ee.add=function(Je){for(var er=Math.max(this.g.length,Je.g.length),or=[],pr=0,ar=0;ar<=er;ar++){var fr=pr+(this.i(ar)&65535)+(Je.i(ar)&65535),gr=(fr>>>16)+(this.i(ar)>>>16)+(Je.i(ar)>>>16);pr=gr>>>16,fr&=65535,gr&=65535,or[ar]=gr<<16|fr}return new Be(or,or[or.length-1]&-2147483648?-1:0)};function ze(Je,er){return Je.add(Ke(er))}Ee.j=function(Je){if(He(this)||He(Je))return ke;if(Qe(this))return Qe(Je)?Ke(this).j(Ke(Je)):Ke(Ke(this).j(Je));if(Qe(Je))return Ke(this.j(Ke(Je)));if(0>this.l($e)&&0>Je.l($e))return Fe(this.m()*Je.m());for(var er=this.g.length+Je.g.length,or=[],pr=0;pr<2*er;pr++)or[pr]=0;for(pr=0;pr<this.g.length;pr++)for(var ar=0;ar<Je.g.length;ar++){var fr=this.i(pr)>>>16,gr=this.i(pr)&65535,Rr=Je.i(ar)>>>16,Ir=Je.i(ar)&65535;or[2*pr+2*ar]+=gr*Ir,We(or,2*pr+2*ar),or[2*pr+2*ar+1]+=fr*Ir,We(or,2*pr+2*ar+1),or[2*pr+2*ar+1]+=gr*Rr,We(or,2*pr+2*ar+1),or[2*pr+2*ar+2]+=fr*Rr,We(or,2*pr+2*ar+2)}for(pr=0;pr<er;pr++)or[pr]=or[2*pr+1]<<16|or[2*pr];for(pr=er;pr<2*er;pr++)or[pr]=0;return new Be(or,0)};function We(Je,er){for(;(Je[er]&65535)!=Je[er];)Je[er+1]+=Je[er]>>>16,Je[er]&=65535,er++}function qe(Je,er){this.g=Je,this.h=er}function Ye(Je,er){if(He(er))throw Error("division by zero");if(He(Je))return new qe(ke,ke);if(Qe(Je))return er=Ye(Ke(Je),er),new qe(Ke(er.g),Ke(er.h));if(Qe(er))return er=Ye(Je,Ke(er)),new qe(Ke(er.g),er.h);if(30<Je.g.length){if(Qe(Je)||Qe(er))throw Error("slowDivide_ only works with positive integers.");for(var or=Me,pr=er;0>=pr.l(Je);)or=Xe(or),pr=Xe(pr);var ar=rr(or,1),fr=rr(pr,1);for(pr=rr(pr,2),or=rr(or,2);!He(pr);){var gr=fr.add(pr);0>=gr.l(Je)&&(ar=ar.add(or),fr=gr),pr=rr(pr,1),or=rr(or,1)}return er=ze(Je,ar.j(er)),new qe(ar,er)}for(ar=ke;0<=Je.l(er);){for(or=Math.max(1,Math.floor(Je.m()/er.m())),pr=Math.ceil(Math.log(or)/Math.LN2),pr=48>=pr?1:Math.pow(2,pr-48),fr=Fe(or),gr=fr.j(er);Qe(gr)||0<gr.l(Je);)or-=pr,fr=Fe(or),gr=fr.j(er);He(fr)&&(fr=Me),ar=ar.add(fr),Je=ze(Je,gr)}return new qe(ar,Je)}Ee.A=function(Je){return Ye(this,Je).h},Ee.and=function(Je){for(var er=Math.max(this.g.length,Je.g.length),or=[],pr=0;pr<er;pr++)or[pr]=this.i(pr)&Je.i(pr);return new Be(or,this.h&Je.h)},Ee.or=function(Je){for(var er=Math.max(this.g.length,Je.g.length),or=[],pr=0;pr<er;pr++)or[pr]=this.i(pr)|Je.i(pr);return new Be(or,this.h|Je.h)},Ee.xor=function(Je){for(var er=Math.max(this.g.length,Je.g.length),or=[],pr=0;pr<er;pr++)or[pr]=this.i(pr)^Je.i(pr);return new Be(or,this.h^Je.h)};function Xe(Je){for(var er=Je.g.length+1,or=[],pr=0;pr<er;pr++)or[pr]=Je.i(pr)<<1|Je.i(pr-1)>>>31;return new Be(or,Je.h)}function rr(Je,er){var or=er>>5;er%=32;for(var pr=Je.g.length-or,ar=[],fr=0;fr<pr;fr++)ar[fr]=0<er?Je.i(fr+or)>>>er|Je.i(fr+or+1)<<32-er:Je.i(fr+or);return new Be(ar,Je.h)}Pe.prototype.digest=Pe.prototype.v,Pe.prototype.reset=Pe.prototype.s,Pe.prototype.update=Pe.prototype.u,Md5=Pe,Be.prototype.add=Be.prototype.add,Be.prototype.multiply=Be.prototype.j,Be.prototype.modulo=Be.prototype.A,Be.prototype.compare=Be.prototype.l,Be.prototype.toNumber=Be.prototype.m,Be.prototype.toString=Be.prototype.toString,Be.prototype.getBits=Be.prototype.i,Be.fromNumber=Fe,Be.fromString=Oe,Integer=Be}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode$1,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var Ee,_e=typeof Object.defineProperties=="function"?Object.defineProperty:function(ir,Tr,Dr){return ir==Array.prototype||ir==Object.prototype||(ir[Tr]=Dr.value),ir};function Ce(ir){ir=[typeof globalThis=="object"&&globalThis,ir,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var Tr=0;Tr<ir.length;++Tr){var Dr=ir[Tr];if(Dr&&Dr.Math==Math)return Dr}throw Error("Cannot find global object")}var Pe=Ce(this);function Re(ir,Tr){if(Tr)e:{var Dr=Pe;ir=ir.split(".");for(var Qr=0;Qr<ir.length-1;Qr++){var Dn=ir[Qr];if(!(Dn in Dr))break e;Dr=Dr[Dn]}ir=ir[ir.length-1],Qr=Dr[ir],Tr=Tr(Qr),Tr!=Qr&&Tr!=null&&_e(Dr,ir,{configurable:!0,writable:!0,value:Tr})}}function Ie(ir,Tr){ir instanceof String&&(ir+="");var Dr=0,Qr=!1,Dn={next:function(){if(!Qr&&Dr<ir.length){var Vn=Dr++;return{value:Tr(Vn,ir[Vn]),done:!1}}return Qr=!0,{done:!0,value:void 0}}};return Dn[Symbol.iterator]=function(){return Dn},Dn}Re("Array.prototype.values",function(ir){return ir||function(){return Ie(this,function(Tr,Dr){return Dr})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var Be=Be||{},je=this||self;function De(ir){var Tr=typeof ir;return Tr=Tr!="object"?Tr:ir?Array.isArray(ir)?"array":Tr:"null",Tr=="array"||Tr=="object"&&typeof ir.length=="number"}function Fe(ir){var Tr=typeof ir;return Tr=="object"&&ir!=null||Tr=="function"}function Oe(ir,Tr,Dr){return ir.call.apply(ir.bind,arguments)}function ke(ir,Tr,Dr){if(!ir)throw Error();if(2<arguments.length){var Qr=Array.prototype.slice.call(arguments,2);return function(){var Dn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Dn,Qr),ir.apply(Tr,Dn)}}return function(){return ir.apply(Tr,arguments)}}function Me(ir,Tr,Dr){return Me=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Oe:ke,Me.apply(null,arguments)}function $e(ir,Tr){var Dr=Array.prototype.slice.call(arguments,1);return function(){var Qr=Dr.slice();return Qr.push.apply(Qr,arguments),ir.apply(this,Qr)}}function He(ir,Tr){function Dr(){}Dr.prototype=Tr.prototype,ir.aa=Tr.prototype,ir.prototype=new Dr,ir.prototype.constructor=ir,ir.Qb=function(Qr,Dn,Vn){for(var si=Array(arguments.length-2),ls=2;ls<arguments.length;ls++)si[ls-2]=arguments[ls];return Tr.prototype[Dn].apply(Qr,si)}}function Qe(ir){const Tr=ir.length;if(0<Tr){const Dr=Array(Tr);for(let Qr=0;Qr<Tr;Qr++)Dr[Qr]=ir[Qr];return Dr}return[]}function Ke(ir,Tr){for(let Dr=1;Dr<arguments.length;Dr++){const Qr=arguments[Dr];if(De(Qr)){const Dn=ir.length||0,Vn=Qr.length||0;ir.length=Dn+Vn;for(let si=0;si<Vn;si++)ir[Dn+si]=Qr[si]}else ir.push(Qr)}}class ze{constructor(Tr,Dr){this.i=Tr,this.j=Dr,this.h=0,this.g=null}get(){let Tr;return 0<this.h?(this.h--,Tr=this.g,this.g=Tr.next,Tr.next=null):Tr=this.i(),Tr}}function We(ir){return/^[\s\xa0]*$/.test(ir)}function qe(){var ir=je.navigator;return ir&&(ir=ir.userAgent)?ir:""}function Ye(ir){return Ye[" "](ir),ir}Ye[" "]=function(){};var Xe=qe().indexOf("Gecko")!=-1&&!(qe().toLowerCase().indexOf("webkit")!=-1&&qe().indexOf("Edge")==-1)&&!(qe().indexOf("Trident")!=-1||qe().indexOf("MSIE")!=-1)&&qe().indexOf("Edge")==-1;function rr(ir,Tr,Dr){for(const Qr in ir)Tr.call(Dr,ir[Qr],Qr,ir)}function Je(ir,Tr){for(const Dr in ir)Tr.call(void 0,ir[Dr],Dr,ir)}function er(ir){const Tr={};for(const Dr in ir)Tr[Dr]=ir[Dr];return Tr}const or="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pr(ir,Tr){let Dr,Qr;for(let Dn=1;Dn<arguments.length;Dn++){Qr=arguments[Dn];for(Dr in Qr)ir[Dr]=Qr[Dr];for(let Vn=0;Vn<or.length;Vn++)Dr=or[Vn],Object.prototype.hasOwnProperty.call(Qr,Dr)&&(ir[Dr]=Qr[Dr])}}function ar(ir){var Tr=1;ir=ir.split(":");const Dr=[];for(;0<Tr&&ir.length;)Dr.push(ir.shift()),Tr--;return ir.length&&Dr.push(ir.join(":")),Dr}function fr(ir){je.setTimeout(()=>{throw ir},0)}function gr(){var ir=br;let Tr=null;return ir.g&&(Tr=ir.g,ir.g=ir.g.next,ir.g||(ir.h=null),Tr.next=null),Tr}class Rr{constructor(){this.h=this.g=null}add(Tr,Dr){const Qr=Ir.get();Qr.set(Tr,Dr),this.h?this.h.next=Qr:this.g=Qr,this.h=Qr}}var Ir=new ze(()=>new mr,ir=>ir.reset());class mr{constructor(){this.next=this.g=this.h=null}set(Tr,Dr){this.h=Tr,this.g=Dr,this.next=null}reset(){this.next=this.g=this.h=null}}let Er,Ar=!1,br=new Rr,wr=()=>{const ir=je.Promise.resolve(void 0);Er=()=>{ir.then(jr)}};var jr=()=>{for(var ir;ir=gr();){try{ir.h.call(ir.g)}catch(Dr){fr(Dr)}var Tr=Ir;Tr.j(ir),100>Tr.h&&(Tr.h++,ir.next=Tr.g,Tr.g=ir)}Ar=!1};function hr(){this.s=this.s,this.C=this.C}hr.prototype.s=!1,hr.prototype.ma=function(){this.s||(this.s=!0,this.N())},hr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _r(ir,Tr){this.type=ir,this.g=this.target=Tr,this.defaultPrevented=!1}_r.prototype.h=function(){this.defaultPrevented=!0};var Pr=function(){if(!je.addEventListener||!Object.defineProperty)return!1;var ir=!1,Tr=Object.defineProperty({},"passive",{get:function(){ir=!0}});try{const Dr=()=>{};je.addEventListener("test",Dr,Tr),je.removeEventListener("test",Dr,Tr)}catch{}return ir}();function Cr(ir,Tr){if(_r.call(this,ir?ir.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,ir){var Dr=this.type=ir.type,Qr=ir.changedTouches&&ir.changedTouches.length?ir.changedTouches[0]:null;if(this.target=ir.target||ir.srcElement,this.g=Tr,Tr=ir.relatedTarget){if(Xe){e:{try{Ye(Tr.nodeName);var Dn=!0;break e}catch{}Dn=!1}Dn||(Tr=null)}}else Dr=="mouseover"?Tr=ir.fromElement:Dr=="mouseout"&&(Tr=ir.toElement);this.relatedTarget=Tr,Qr?(this.clientX=Qr.clientX!==void 0?Qr.clientX:Qr.pageX,this.clientY=Qr.clientY!==void 0?Qr.clientY:Qr.pageY,this.screenX=Qr.screenX||0,this.screenY=Qr.screenY||0):(this.clientX=ir.clientX!==void 0?ir.clientX:ir.pageX,this.clientY=ir.clientY!==void 0?ir.clientY:ir.pageY,this.screenX=ir.screenX||0,this.screenY=ir.screenY||0),this.button=ir.button,this.key=ir.key||"",this.ctrlKey=ir.ctrlKey,this.altKey=ir.altKey,this.shiftKey=ir.shiftKey,this.metaKey=ir.metaKey,this.pointerId=ir.pointerId||0,this.pointerType=typeof ir.pointerType=="string"?ir.pointerType:Or[ir.pointerType]||"",this.state=ir.state,this.i=ir,ir.defaultPrevented&&Cr.aa.h.call(this)}}He(Cr,_r);var Or={2:"touch",3:"pen",4:"mouse"};Cr.prototype.h=function(){Cr.aa.h.call(this);var ir=this.i;ir.preventDefault?ir.preventDefault():ir.returnValue=!1};var Yr="closure_listenable_"+(1e6*Math.random()|0),qr=0;function Kr(ir,Tr,Dr,Qr,Dn){this.listener=ir,this.proxy=null,this.src=Tr,this.type=Dr,this.capture=!!Qr,this.ha=Dn,this.key=++qr,this.da=this.fa=!1}function Zr(ir){ir.da=!0,ir.listener=null,ir.proxy=null,ir.src=null,ir.ha=null}function yn(ir){this.src=ir,this.g={},this.h=0}yn.prototype.add=function(ir,Tr,Dr,Qr,Dn){var Vn=ir.toString();ir=this.g[Vn],ir||(ir=this.g[Vn]=[],this.h++);var si=Cn(ir,Tr,Qr,Dn);return-1<si?(Tr=ir[si],Dr||(Tr.fa=!1)):(Tr=new Kr(Tr,this.src,Vn,!!Qr,Dn),Tr.fa=Dr,ir.push(Tr)),Tr};function mn(ir,Tr){var Dr=Tr.type;if(Dr in ir.g){var Qr=ir.g[Dr],Dn=Array.prototype.indexOf.call(Qr,Tr,void 0),Vn;(Vn=0<=Dn)&&Array.prototype.splice.call(Qr,Dn,1),Vn&&(Zr(Tr),ir.g[Dr].length==0&&(delete ir.g[Dr],ir.h--))}}function Cn(ir,Tr,Dr,Qr){for(var Dn=0;Dn<ir.length;++Dn){var Vn=ir[Dn];if(!Vn.da&&Vn.listener==Tr&&Vn.capture==!!Dr&&Vn.ha==Qr)return Dn}return-1}var bn="closure_lm_"+(1e6*Math.random()|0),wn={};function Jr(ir,Tr,Dr,Qr,Dn){if(Array.isArray(Tr)){for(var Vn=0;Vn<Tr.length;Vn++)Jr(ir,Tr[Vn],Dr,Qr,Dn);return null}return Dr=$i(Dr),ir&&ir[Yr]?ir.K(Tr,Dr,Fe(Qr)?!!Qr.capture:!1,Dn):qn(ir,Tr,Dr,!1,Qr,Dn)}function qn(ir,Tr,Dr,Qr,Dn,Vn){if(!Tr)throw Error("Invalid event type");var si=Fe(Dn)?!!Dn.capture:!!Dn,ls=wi(ir);if(ls||(ir[bn]=ls=new yn(ir)),Dr=ls.add(Tr,Dr,Qr,si,Vn),Dr.proxy)return Dr;if(Qr=ci(),Dr.proxy=Qr,Qr.src=ir,Qr.listener=Dr,ir.addEventListener)Pr||(Dn=si),Dn===void 0&&(Dn=!1),ir.addEventListener(Tr.toString(),Qr,Dn);else if(ir.attachEvent)ir.attachEvent(li(Tr.toString()),Qr);else if(ir.addListener&&ir.removeListener)ir.addListener(Qr);else throw Error("addEventListener and attachEvent are unavailable.");return Dr}function ci(){function ir(Dr){return Tr.call(ir.src,ir.listener,Dr)}const Tr=mi;return ir}function Jn(ir,Tr,Dr,Qr,Dn){if(Array.isArray(Tr))for(var Vn=0;Vn<Tr.length;Vn++)Jn(ir,Tr[Vn],Dr,Qr,Dn);else Qr=Fe(Qr)?!!Qr.capture:!!Qr,Dr=$i(Dr),ir&&ir[Yr]?(ir=ir.i,Tr=String(Tr).toString(),Tr in ir.g&&(Vn=ir.g[Tr],Dr=Cn(Vn,Dr,Qr,Dn),-1<Dr&&(Zr(Vn[Dr]),Array.prototype.splice.call(Vn,Dr,1),Vn.length==0&&(delete ir.g[Tr],ir.h--)))):ir&&(ir=wi(ir))&&(Tr=ir.g[Tr.toString()],ir=-1,Tr&&(ir=Cn(Tr,Dr,Qr,Dn)),(Dr=-1<ir?Tr[ir]:null)&&ui(Dr))}function ui(ir){if(typeof ir!="number"&&ir&&!ir.da){var Tr=ir.src;if(Tr&&Tr[Yr])mn(Tr.i,ir);else{var Dr=ir.type,Qr=ir.proxy;Tr.removeEventListener?Tr.removeEventListener(Dr,Qr,ir.capture):Tr.detachEvent?Tr.detachEvent(li(Dr),Qr):Tr.addListener&&Tr.removeListener&&Tr.removeListener(Qr),(Dr=wi(Tr))?(mn(Dr,ir),Dr.h==0&&(Dr.src=null,Tr[bn]=null)):Zr(ir)}}}function li(ir){return ir in wn?wn[ir]:wn[ir]="on"+ir}function mi(ir,Tr){if(ir.da)ir=!0;else{Tr=new Cr(Tr,this);var Dr=ir.listener,Qr=ir.ha||ir.src;ir.fa&&ui(ir),ir=Dr.call(Qr,Tr)}return ir}function wi(ir){return ir=ir[bn],ir instanceof yn?ir:null}var Di="__closure_events_fn_"+(1e9*Math.random()>>>0);function $i(ir){return typeof ir=="function"?ir:(ir[Di]||(ir[Di]=function(Tr){return ir.handleEvent(Tr)}),ir[Di])}function Si(){hr.call(this),this.i=new yn(this),this.M=this,this.F=null}He(Si,hr),Si.prototype[Yr]=!0,Si.prototype.removeEventListener=function(ir,Tr,Dr,Qr){Jn(this,ir,Tr,Dr,Qr)};function Bi(ir,Tr){var Dr,Qr=ir.F;if(Qr)for(Dr=[];Qr;Qr=Qr.F)Dr.push(Qr);if(ir=ir.M,Qr=Tr.type||Tr,typeof Tr=="string")Tr=new _r(Tr,ir);else if(Tr instanceof _r)Tr.target=Tr.target||ir;else{var Dn=Tr;Tr=new _r(Qr,ir),pr(Tr,Dn)}if(Dn=!0,Dr)for(var Vn=Dr.length-1;0<=Vn;Vn--){var si=Tr.g=Dr[Vn];Dn=Vi(si,Qr,!0,Tr)&&Dn}if(si=Tr.g=ir,Dn=Vi(si,Qr,!0,Tr)&&Dn,Dn=Vi(si,Qr,!1,Tr)&&Dn,Dr)for(Vn=0;Vn<Dr.length;Vn++)si=Tr.g=Dr[Vn],Dn=Vi(si,Qr,!1,Tr)&&Dn}Si.prototype.N=function(){if(Si.aa.N.call(this),this.i){var ir=this.i,Tr;for(Tr in ir.g){for(var Dr=ir.g[Tr],Qr=0;Qr<Dr.length;Qr++)Zr(Dr[Qr]);delete ir.g[Tr],ir.h--}}this.F=null},Si.prototype.K=function(ir,Tr,Dr,Qr){return this.i.add(String(ir),Tr,!1,Dr,Qr)},Si.prototype.L=function(ir,Tr,Dr,Qr){return this.i.add(String(ir),Tr,!0,Dr,Qr)};function Vi(ir,Tr,Dr,Qr){if(Tr=ir.i.g[String(Tr)],!Tr)return!0;Tr=Tr.concat();for(var Dn=!0,Vn=0;Vn<Tr.length;++Vn){var si=Tr[Vn];if(si&&!si.da&&si.capture==Dr){var ls=si.listener,Ts=si.ha||si.src;si.fa&&mn(ir.i,si),Dn=ls.call(Ts,Qr)!==!1&&Dn}}return Dn&&!Qr.defaultPrevented}function Pn(ir,Tr,Dr){if(typeof ir=="function")Dr&&(ir=Me(ir,Dr));else if(ir&&typeof ir.handleEvent=="function")ir=Me(ir.handleEvent,ir);else throw Error("Invalid listener argument");return 2147483647<Number(Tr)?-1:je.setTimeout(ir,Tr||0)}function En(ir){ir.g=Pn(()=>{ir.g=null,ir.i&&(ir.i=!1,En(ir))},ir.l);const Tr=ir.h;ir.h=null,ir.m.apply(null,Tr)}class jn extends hr{constructor(Tr,Dr){super(),this.m=Tr,this.l=Dr,this.h=null,this.i=!1,this.g=null}j(Tr){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(ir){hr.call(this),this.h=ir,this.g={}}He(ni,hr);var ii=[];function Fi(ir){rr(ir.g,function(Tr,Dr){this.g.hasOwnProperty(Dr)&&ui(Tr)},ir),ir.g={}}ni.prototype.N=function(){ni.aa.N.call(this),Fi(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bi=je.JSON.stringify,Wi=je.JSON.parse,ws=class{stringify(ir){return je.JSON.stringify(ir,void 0)}parse(ir){return je.JSON.parse(ir,void 0)}};function Zi(){}Zi.prototype.h=null;function fa(ir){return ir.h||(ir.h=ir.i())}function vs(){}var Zs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ji(){_r.call(this,"d")}He(Ji,_r);function Ti(){_r.call(this,"c")}He(Ti,_r);var xi={},Ui=null;function ss(){return Ui=Ui||new Si}xi.La="serverreachability";function us(ir){_r.call(this,xi.La,ir)}He(us,_r);function Js(ir){const Tr=ss();Bi(Tr,new us(Tr))}xi.STAT_EVENT="statevent";function Na(ir,Tr){_r.call(this,xi.STAT_EVENT,ir),this.stat=Tr}He(Na,_r);function Ri(ir){const Tr=ss();Bi(Tr,new Na(Tr,ir))}xi.Ma="timingevent";function Qi(ir,Tr){_r.call(this,xi.Ma,ir),this.size=Tr}He(Qi,_r);function ks(ir,Tr){if(typeof ir!="function")throw Error("Fn must not be null and must be a function");return je.setTimeout(function(){ir()},Tr)}function ta(){this.g=!0}ta.prototype.xa=function(){this.g=!1};function qi(ir,Tr,Dr,Qr,Dn,Vn){ir.info(function(){if(ir.g)if(Vn)for(var si="",ls=Vn.split("&"),Ts=0;Ts<ls.length;Ts++){var ps=ls[Ts].split("=");if(1<ps.length){var Ls=ps[0];ps=ps[1];var Is=Ls.split("_");si=2<=Is.length&&Is[1]=="type"?si+(Ls+"="+ps+"&"):si+(Ls+"=redacted&")}}else si=null;else si=Vn;return"XMLHTTP REQ ("+Qr+") [attempt "+Dn+"]: "+Tr+`
`+Dr+`
`+si})}function aa(ir,Tr,Dr,Qr,Dn,Vn,si){ir.info(function(){return"XMLHTTP RESP ("+Qr+") [ attempt "+Dn+"]: "+Tr+`
`+Dr+`
`+Vn+" "+si})}function Ur(ir,Tr,Dr,Qr){ir.info(function(){return"XMLHTTP TEXT ("+Tr+"): "+Xr(ir,Dr)+(Qr?" "+Qr:"")})}function An(ir,Tr){ir.info(function(){return"TIMEOUT: "+Tr})}ta.prototype.info=function(){};function Xr(ir,Tr){if(!ir.g)return Tr;if(!Tr)return null;try{var Dr=JSON.parse(Tr);if(Dr){for(ir=0;ir<Dr.length;ir++)if(Array.isArray(Dr[ir])){var Qr=Dr[ir];if(!(2>Qr.length)){var Dn=Qr[1];if(Array.isArray(Dn)&&!(1>Dn.length)){var Vn=Dn[0];if(Vn!="noop"&&Vn!="stop"&&Vn!="close")for(var si=1;si<Dn.length;si++)Dn[si]=""}}}}return bi(Dr)}catch{return Tr}}var un={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gn;function Un(){}He(Un,Zi),Un.prototype.g=function(){return new XMLHttpRequest},Un.prototype.i=function(){return{}},gn=new Un;function Yn(ir,Tr,Dr,Qr){this.j=ir,this.i=Tr,this.l=Dr,this.R=Qr||1,this.U=new ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new On}function On(){this.i=null,this.g="",this.h=!1}var Qn={},Wn={};function gi(ir,Tr,Dr){ir.L=1,ir.v=ic(wo(Tr)),ir.m=Dr,ir.P=!0,Ci(ir,null)}function Ci(ir,Tr){ir.F=Date.now(),Li(ir),ir.A=wo(ir.v);var Dr=ir.A,Qr=ir.R;Array.isArray(Qr)||(Qr=[String(Qr)]),ts(Dr.i,"t",Qr),ir.C=0,Dr=ir.j.J,ir.h=new On,ir.g=Mr(ir.j,Dr?Tr:null,!ir.m),0<ir.O&&(ir.M=new jn(Me(ir.Y,ir,ir.g),ir.O)),Tr=ir.U,Dr=ir.g,Qr=ir.ca;var Dn="readystatechange";Array.isArray(Dn)||(Dn&&(ii[0]=Dn.toString()),Dn=ii);for(var Vn=0;Vn<Dn.length;Vn++){var si=Jr(Dr,Dn[Vn],Qr||Tr.handleEvent,!1,Tr.h||Tr);if(!si)break;Tr.g[si.key]=si}Tr=ir.H?er(ir.H):{},ir.m?(ir.u||(ir.u="POST"),Tr["Content-Type"]="application/x-www-form-urlencoded",ir.g.ea(ir.A,ir.u,ir.m,Tr)):(ir.u="GET",ir.g.ea(ir.A,ir.u,null,Tr)),Js(),qi(ir.i,ir.u,ir.A,ir.l,ir.R,ir.m)}Yn.prototype.ca=function(ir){ir=ir.target;const Tr=this.M;Tr&&Ka(ir)==3?Tr.j():this.Y(ir)},Yn.prototype.Y=function(ir){try{if(ir==this.g)e:{const Is=Ka(this.g);var Tr=this.g.Ba();const Sl=this.g.Z();if(!(3>Is)&&(Is!=3||this.g&&(this.h.h||this.g.oa()||ef(this.g)))){this.J||Is!=4||Tr==7||(Tr==8||0>=Sl?Js(3):Js(2)),ys(this);var Dr=this.g.Z();this.X=Dr;t:if(Hi(this)){var Qr=ef(this.g);ir="";var Dn=Qr.length,Vn=Ka(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bs(this),Ss(this);var si="";break t}this.h.i=new je.TextDecoder}for(Tr=0;Tr<Dn;Tr++)this.h.h=!0,ir+=this.h.i.decode(Qr[Tr],{stream:!(Vn&&Tr==Dn-1)});Qr.length=0,this.h.g+=ir,this.C=0,si=this.h.g}else si=this.g.oa();if(this.o=Dr==200,aa(this.i,this.u,this.A,this.l,this.R,Is,Dr),this.o){if(this.T&&!this.K){t:{if(this.g){var ls,Ts=this.g;if((ls=Ts.g?Ts.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!We(ls)){var ps=ls;break t}}ps=null}if(Dr=ps)Ur(this.i,this.l,Dr,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fo(this,Dr);else{this.o=!1,this.s=3,Ri(12),bs(this),Ss(this);break e}}if(this.P){Dr=!0;let ra;for(;!this.J&&this.C<si.length;)if(ra=Ei(this,si),ra==Wn){Is==4&&(this.s=4,Ri(14),Dr=!1),Ur(this.i,this.l,null,"[Incomplete Response]");break}else if(ra==Qn){this.s=4,Ri(15),Ur(this.i,this.l,si,"[Invalid Chunk]"),Dr=!1;break}else Ur(this.i,this.l,ra,null),fo(this,ra);if(Hi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Is!=4||si.length!=0||this.h.h||(this.s=1,Ri(16),Dr=!1),this.o=this.o&&Dr,!Dr)Ur(this.i,this.l,si,"[Invalid Chunked Response]"),bs(this),Ss(this);else if(0<si.length&&!this.W){this.W=!0;var Ls=this.j;Ls.g==this&&Ls.ba&&!Ls.M&&(Ls.j.info("Great, no buffering proxy detected. Bytes received: "+si.length),oc(Ls),Ls.M=!0,Ri(11))}}else Ur(this.i,this.l,si,null),fo(this,si);Is==4&&bs(this),this.o&&!this.J&&(Is==4?cc(this.j,this):(this.o=!1,Li(this)))}else sc(this.g),Dr==400&&0<si.indexOf("Unknown SID")?(this.s=3,Ri(12)):(this.s=0,Ri(13)),bs(this),Ss(this)}}}catch{}finally{}};function Hi(ir){return ir.g?ir.u=="GET"&&ir.L!=2&&ir.j.Ca:!1}function Ei(ir,Tr){var Dr=ir.C,Qr=Tr.indexOf(`
`,Dr);return Qr==-1?Wn:(Dr=Number(Tr.substring(Dr,Qr)),isNaN(Dr)?Qn:(Qr+=1,Qr+Dr>Tr.length?Wn:(Tr=Tr.slice(Qr,Qr+Dr),ir.C=Qr+Dr,Tr)))}Yn.prototype.cancel=function(){this.J=!0,bs(this)};function Li(ir){ir.S=Date.now()+ir.I,os(ir,ir.I)}function os(ir,Tr){if(ir.B!=null)throw Error("WatchDog timer not null");ir.B=ks(Me(ir.ba,ir),Tr)}function ys(ir){ir.B&&(je.clearTimeout(ir.B),ir.B=null)}Yn.prototype.ba=function(){this.B=null;const ir=Date.now();0<=ir-this.S?(An(this.i,this.A),this.L!=2&&(Js(),Ri(17)),bs(this),this.s=2,Ss(this)):os(this,this.S-ir)};function Ss(ir){ir.j.G==0||ir.J||cc(ir.j,ir)}function bs(ir){ys(ir);var Tr=ir.M;Tr&&typeof Tr.ma=="function"&&Tr.ma(),ir.M=null,Fi(ir.U),ir.g&&(Tr=ir.g,ir.g=null,Tr.abort(),Tr.ma())}function fo(ir,Tr){try{var Dr=ir.j;if(Dr.G!=0&&(Dr.g==ir||Ma(Dr.h,ir))){if(!ir.K&&Ma(Dr.h,ir)&&Dr.G==3){try{var Qr=Dr.Da.g.parse(Tr)}catch{Qr=null}if(Array.isArray(Qr)&&Qr.length==3){var Dn=Qr;if(Dn[0]==0){e:if(!Dr.u){if(Dr.g)if(Dr.g.F+3e3<ir.F)$l(Dr),Gc(Dr);else break e;Tc(Dr),Ri(18)}}else Dr.za=Dn[1],0<Dr.za-Dr.T&&37500>Dn[2]&&Dr.F&&Dr.v==0&&!Dr.C&&(Dr.C=ks(Me(Dr.Za,Dr),6e3));if(1>=Ao(Dr.h)&&Dr.ca){try{Dr.ca()}catch{}Dr.ca=void 0}}else Do(Dr,11)}else if((ir.K||Dr.g==ir)&&$l(Dr),!We(Tr))for(Dn=Dr.Da.g.parse(Tr),Tr=0;Tr<Dn.length;Tr++){let ps=Dn[Tr];if(Dr.T=ps[0],ps=ps[1],Dr.G==2)if(ps[0]=="c"){Dr.K=ps[1],Dr.ia=ps[2];const Ls=ps[3];Ls!=null&&(Dr.la=Ls,Dr.j.info("VER="+Dr.la));const Is=ps[4];Is!=null&&(Dr.Aa=Is,Dr.j.info("SVER="+Dr.Aa));const Sl=ps[5];Sl!=null&&typeof Sl=="number"&&0<Sl&&(Qr=1.5*Sl,Dr.L=Qr,Dr.j.info("backChannelRequestTimeoutMs_="+Qr)),Qr=Dr;const ra=ir.g;if(ra){const Us=ra.g?ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var Vn=Qr.h;Vn.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(Vn.j=Vn.l,Vn.g=new Set,Vn.h&&(da(Vn,Vn.h),Vn.h=null))}if(Qr.D){const Vl=ra.g?ra.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(Qr.ya=Vl,Gs(Qr.I,Qr.D,Vl))}}Dr.G=3,Dr.l&&Dr.l.ua(),Dr.ba&&(Dr.R=Date.now()-ir.F,Dr.j.info("Handshake RTT: "+Dr.R+"ms")),Qr=Dr;var si=ir;if(Qr.qa=yr(Qr,Qr.J?Qr.ia:null,Qr.W),si.K){po(Qr.h,si);var ls=si,Ts=Qr.L;Ts&&(ls.I=Ts),ls.B&&(ys(ls),Li(ls)),Qr.g=si}else qc(Qr);0<Dr.i.length&&Ul(Dr)}else ps[0]!="stop"&&ps[0]!="close"||Do(Dr,7);else Dr.G==3&&(ps[0]=="stop"||ps[0]=="close"?ps[0]=="stop"?Do(Dr,7):wl(Dr):ps[0]!="noop"&&Dr.l&&Dr.l.ta(ps),Dr.v=0)}}Js(4)}catch{}}var Co=class{constructor(ir,Tr){this.g=ir,this.map=Tr}};function ho(ir){this.l=ir||10,je.PerformanceNavigationTiming?(ir=je.performance.getEntriesByType("navigation"),ir=0<ir.length&&(ir[0].nextHopProtocol=="hq"||ir[0].nextHopProtocol=="h2")):ir=!!(je.chrome&&je.chrome.loadTimes&&je.chrome.loadTimes()&&je.chrome.loadTimes().wasFetchedViaSpdy),this.j=ir?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Po(ir){return ir.h?!0:ir.g?ir.g.size>=ir.j:!1}function Ao(ir){return ir.h?1:ir.g?ir.g.size:0}function Ma(ir,Tr){return ir.h?ir.h==Tr:ir.g?ir.g.has(Tr):!1}function da(ir,Tr){ir.g?ir.g.add(Tr):ir.h=Tr}function po(ir,Tr){ir.h&&ir.h==Tr?ir.h=null:ir.g&&ir.g.has(Tr)&&ir.g.delete(Tr)}ho.prototype.cancel=function(){if(this.i=zc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const ir of this.g.values())ir.cancel();this.g.clear()}};function zc(ir){if(ir.h!=null)return ir.i.concat(ir.h.D);if(ir.g!=null&&ir.g.size!==0){let Tr=ir.i;for(const Dr of ir.g.values())Tr=Tr.concat(Dr.D);return Tr}return Qe(ir.i)}function xc(ir){if(ir.V&&typeof ir.V=="function")return ir.V();if(typeof Map<"u"&&ir instanceof Map||typeof Set<"u"&&ir instanceof Set)return Array.from(ir.values());if(typeof ir=="string")return ir.split("");if(De(ir)){for(var Tr=[],Dr=ir.length,Qr=0;Qr<Dr;Qr++)Tr.push(ir[Qr]);return Tr}Tr=[],Dr=0;for(Qr in ir)Tr[Dr++]=ir[Qr];return Tr}function cl(ir){if(ir.na&&typeof ir.na=="function")return ir.na();if(!ir.V||typeof ir.V!="function"){if(typeof Map<"u"&&ir instanceof Map)return Array.from(ir.keys());if(!(typeof Set<"u"&&ir instanceof Set)){if(De(ir)||typeof ir=="string"){var Tr=[];ir=ir.length;for(var Dr=0;Dr<ir;Dr++)Tr.push(Dr);return Tr}Tr=[],Dr=0;for(const Qr in ir)Tr[Dr++]=Qr;return Tr}}}function Ll(ir,Tr){if(ir.forEach&&typeof ir.forEach=="function")ir.forEach(Tr,void 0);else if(De(ir)||typeof ir=="string")Array.prototype.forEach.call(ir,Tr,void 0);else for(var Dr=cl(ir),Qr=xc(ir),Dn=Qr.length,Vn=0;Vn<Dn;Vn++)Tr.call(void 0,Qr[Vn],Dr&&Dr[Vn],ir)}var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(ir,Tr){if(ir){ir=ir.split("&");for(var Dr=0;Dr<ir.length;Dr++){var Qr=ir[Dr].indexOf("="),Dn=null;if(0<=Qr){var Vn=ir[Dr].substring(0,Qr);Dn=ir[Dr].substring(Qr+1)}else Vn=ir[Dr];Tr(Vn,Dn?decodeURIComponent(Dn.replace(/\+/g," ")):"")}}}function Ms(ir){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,ir instanceof Ms){this.h=ir.h,rc(this,ir.j),this.o=ir.o,this.g=ir.g,nc(this,ir.s),this.l=ir.l;var Tr=ir.i,Dr=new mo;Dr.i=Tr.i,Tr.g&&(Dr.g=new Map(Tr.g),Dr.h=Tr.h),gl(this,Dr),this.m=ir.m}else ir&&(Tr=String(ir).match(Eo))?(this.h=!1,rc(this,Tr[1]||"",!0),this.o=Go(Tr[2]||""),this.g=Go(Tr[3]||"",!0),nc(this,Tr[4]),this.l=Go(Tr[5]||"",!0),gl(this,Tr[6]||"",!0),this.m=Go(Tr[7]||"")):(this.h=!1,this.i=new mo(null,this.h))}Ms.prototype.toString=function(){var ir=[],Tr=this.j;Tr&&ir.push(qo(Tr,Kc,!0),":");var Dr=this.g;return(Dr||Tr=="file")&&(ir.push("//"),(Tr=this.o)&&ir.push(qo(Tr,Kc,!0),"@"),ir.push(encodeURIComponent(String(Dr)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Dr=this.s,Dr!=null&&ir.push(":",String(Dr))),(Dr=this.l)&&(this.g&&Dr.charAt(0)!="/"&&ir.push("/"),ir.push(qo(Dr,Dr.charAt(0)=="/"?Ol:pu,!0))),(Dr=this.i.toString())&&ir.push("?",Dr),(Dr=this.m)&&ir.push("#",qo(Dr,ul)),ir.join("")};function wo(ir){return new Ms(ir)}function rc(ir,Tr,Dr){ir.j=Dr?Go(Tr,!0):Tr,ir.j&&(ir.j=ir.j.replace(/:$/,""))}function nc(ir,Tr){if(Tr){if(Tr=Number(Tr),isNaN(Tr)||0>Tr)throw Error("Bad port number "+Tr);ir.s=Tr}else ir.s=null}function gl(ir,Tr,Dr){Tr instanceof mo?(ir.i=Tr,Ju(ir.i,ir.h)):(Dr||(Tr=qo(Tr,_c)),ir.i=new mo(Tr,ir.h))}function Gs(ir,Tr,Dr){ir.i.set(Tr,Dr)}function ic(ir){return Gs(ir,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),ir}function Go(ir,Tr){return ir?Tr?decodeURI(ir.replace(/%25/g,"%2525")):decodeURIComponent(ir):""}function qo(ir,Tr,Dr){return typeof ir=="string"?(ir=encodeURI(ir).replace(Tr,Zu),Dr&&(ir=ir.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ir):null}function Zu(ir){return ir=ir.charCodeAt(0),"%"+(ir>>4&15).toString(16)+(ir&15).toString(16)}var Kc=/[#\/\?@]/g,pu=/[#\?:]/g,Ol=/[#\?]/g,_c=/[#\?@]/g,ul=/#/g;function mo(ir,Tr){this.h=this.g=null,this.i=ir||null,this.j=!!Tr}function oa(ir){ir.g||(ir.g=new Map,ir.h=0,ir.i&&Ua(ir.i,function(Tr,Dr){ir.add(decodeURIComponent(Tr.replace(/\+/g," ")),Dr)}))}Ee=mo.prototype,Ee.add=function(ir,Tr){oa(this),this.i=null,ir=yl(this,ir);var Dr=this.g.get(ir);return Dr||this.g.set(ir,Dr=[]),Dr.push(Tr),this.h+=1,this};function Nl(ir,Tr){oa(ir),Tr=yl(ir,Tr),ir.g.has(Tr)&&(ir.i=null,ir.h-=ir.g.get(Tr).length,ir.g.delete(Tr))}function vl(ir,Tr){return oa(ir),Tr=yl(ir,Tr),ir.g.has(Tr)}Ee.forEach=function(ir,Tr){oa(this),this.g.forEach(function(Dr,Qr){Dr.forEach(function(Dn){ir.call(Tr,Dn,Qr,this)},this)},this)},Ee.na=function(){oa(this);const ir=Array.from(this.g.values()),Tr=Array.from(this.g.keys()),Dr=[];for(let Qr=0;Qr<Tr.length;Qr++){const Dn=ir[Qr];for(let Vn=0;Vn<Dn.length;Vn++)Dr.push(Tr[Qr])}return Dr},Ee.V=function(ir){oa(this);let Tr=[];if(typeof ir=="string")vl(this,ir)&&(Tr=Tr.concat(this.g.get(yl(this,ir))));else{ir=Array.from(this.g.values());for(let Dr=0;Dr<ir.length;Dr++)Tr=Tr.concat(ir[Dr])}return Tr},Ee.set=function(ir,Tr){return oa(this),this.i=null,ir=yl(this,ir),vl(this,ir)&&(this.h-=this.g.get(ir).length),this.g.set(ir,[Tr]),this.h+=1,this},Ee.get=function(ir,Tr){return ir?(ir=this.V(ir),0<ir.length?String(ir[0]):Tr):Tr};function ts(ir,Tr,Dr){Nl(ir,Tr),0<Dr.length&&(ir.i=null,ir.g.set(yl(ir,Tr),Qe(Dr)),ir.h+=Dr.length)}Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const ir=[],Tr=Array.from(this.g.keys());for(var Dr=0;Dr<Tr.length;Dr++){var Qr=Tr[Dr];const Vn=encodeURIComponent(String(Qr)),si=this.V(Qr);for(Qr=0;Qr<si.length;Qr++){var Dn=Vn;si[Qr]!==""&&(Dn+="="+encodeURIComponent(String(si[Qr]))),ir.push(Dn)}}return this.i=ir.join("&")};function yl(ir,Tr){return Tr=String(Tr),ir.j&&(Tr=Tr.toLowerCase()),Tr}function Ju(ir,Tr){Tr&&!ir.j&&(oa(ir),ir.i=null,ir.g.forEach(function(Dr,Qr){var Dn=Qr.toLowerCase();Qr!=Dn&&(Nl(this,Qr),ts(this,Dn,Dr))},ir)),ir.j=Tr}function Ro(ir,Tr){const Dr=new ta;if(je.Image){const Qr=new Image;Qr.onload=$e(Uo,Dr,"TestLoadImage: loaded",!0,Tr,Qr),Qr.onerror=$e(Uo,Dr,"TestLoadImage: error",!1,Tr,Qr),Qr.onabort=$e(Uo,Dr,"TestLoadImage: abort",!1,Tr,Qr),Qr.ontimeout=$e(Uo,Dr,"TestLoadImage: timeout",!1,Tr,Qr),je.setTimeout(function(){Qr.ontimeout&&Qr.ontimeout()},1e4),Qr.src=ir}else Tr(!1)}function Yo(ir,Tr){const Dr=new ta,Qr=new AbortController,Dn=setTimeout(()=>{Qr.abort(),Uo(Dr,"TestPingServer: timeout",!1,Tr)},1e4);fetch(ir,{signal:Qr.signal}).then(Vn=>{clearTimeout(Dn),Vn.ok?Uo(Dr,"TestPingServer: ok",!0,Tr):Uo(Dr,"TestPingServer: server error",!1,Tr)}).catch(()=>{clearTimeout(Dn),Uo(Dr,"TestPingServer: error",!1,Tr)})}function Uo(ir,Tr,Dr,Qr,Dn){try{Dn&&(Dn.onload=null,Dn.onerror=null,Dn.onabort=null,Dn.ontimeout=null),Qr(Dr)}catch{}}function xl(){this.g=new ws}function Sa(ir,Tr,Dr){const Qr=Dr||"";try{Ll(ir,function(Dn,Vn){let si=Dn;Fe(Dn)&&(si=bi(Dn)),Tr.push(Qr+Vn+"="+encodeURIComponent(si))})}catch(Dn){throw Tr.push(Qr+"type="+encodeURIComponent("_badmap")),Dn}}function kl(ir){this.l=ir.Ub||null,this.j=ir.eb||!1}He(kl,Zi),kl.prototype.g=function(){return new _l(this.l,this.j)},kl.prototype.i=function(ir){return function(){return ir}}({});function _l(ir,Tr){Si.call(this),this.D=ir,this.o=Tr,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}He(_l,Si),Ee=_l.prototype,Ee.open=function(ir,Tr){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=ir,this.A=Tr,this.readyState=1,Io(this)},Ee.send=function(ir){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Tr={headers:this.u,method:this.B,credentials:this.m,cache:void 0};ir&&(Tr.body=ir),(this.D||je).fetch(new Request(this.A,Tr)).then(this.Sa.bind(this),this.ga.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xo(this)),this.readyState=0},Ee.Sa=function(ir){if(this.g&&(this.l=ir,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=ir.headers,this.readyState=2,Io(this)),this.g&&(this.readyState=3,Io(this),this.g)))if(this.responseType==="arraybuffer")ir.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof je.ReadableStream<"u"&&"body"in ir){if(this.j=ir.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wc(this)}else ir.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wc(ir){ir.j.read().then(ir.Pa.bind(ir)).catch(ir.ga.bind(ir))}Ee.Pa=function(ir){if(this.g){if(this.o&&ir.value)this.response.push(ir.value);else if(!this.o){var Tr=ir.value?ir.value:new Uint8Array(0);(Tr=this.v.decode(Tr,{stream:!ir.done}))&&(this.response=this.responseText+=Tr)}ir.done?Xo(this):Io(this),this.readyState==3&&Wc(this)}},Ee.Ra=function(ir){this.g&&(this.response=this.responseText=ir,Xo(this))},Ee.Qa=function(ir){this.g&&(this.response=ir,Xo(this))},Ee.ga=function(){this.g&&Xo(this)};function Xo(ir){ir.readyState=4,ir.l=null,ir.j=null,ir.v=null,Io(ir)}Ee.setRequestHeader=function(ir,Tr){this.u.append(ir,Tr)},Ee.getResponseHeader=function(ir){return this.h&&this.h.get(ir.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const ir=[],Tr=this.h.entries();for(var Dr=Tr.next();!Dr.done;)Dr=Dr.value,ir.push(Dr[0]+": "+Dr[1]),Dr=Tr.next();return ir.join(`\r
`)};function Io(ir){ir.onreadystatechange&&ir.onreadystatechange.call(ir)}Object.defineProperty(_l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(ir){this.m=ir?"include":"same-origin"}});function bl(ir){let Tr="";return rr(ir,function(Dr,Qr){Tr+=Qr,Tr+=":",Tr+=Dr,Tr+=`\r
`}),Tr}function $a(ir,Tr,Dr){e:{for(Qr in Dr){var Qr=!1;break e}Qr=!0}Qr||(Dr=bl(Dr),typeof ir=="string"?Dr!=null&&encodeURIComponent(String(Dr)):Gs(ir,Tr,Dr))}function Rs(ir){Si.call(this),this.headers=new Map,this.o=ir||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}He(Rs,Si);var Ml=/^https?$/i,El=["POST","PUT"];Ee=Rs.prototype,Ee.Ha=function(ir){this.J=ir},Ee.ea=function(ir,Tr,Dr,Qr){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+ir);Tr=Tr?Tr.toUpperCase():"GET",this.D=ir,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gn.g(),this.v=this.o?fa(this.o):fa(gn),this.g.onreadystatechange=Me(this.Ea,this);try{this.B=!0,this.g.open(Tr,String(ir),!0),this.B=!1}catch(Vn){mu(this,Vn);return}if(ir=Dr||"",Dr=new Map(this.headers),Qr)if(Object.getPrototypeOf(Qr)===Object.prototype)for(var Dn in Qr)Dr.set(Dn,Qr[Dn]);else if(typeof Qr.keys=="function"&&typeof Qr.get=="function")for(const Vn of Qr.keys())Dr.set(Vn,Qr.get(Vn));else throw Error("Unknown input type for opt_headers: "+String(Qr));Qr=Array.from(Dr.keys()).find(Vn=>Vn.toLowerCase()=="content-type"),Dn=je.FormData&&ir instanceof je.FormData,!(0<=Array.prototype.indexOf.call(El,Tr,void 0))||Qr||Dn||Dr.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Vn,si]of Dr)this.g.setRequestHeader(Vn,si);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bo(this),this.u=!0,this.g.send(ir),this.u=!1}catch(Vn){mu(this,Vn)}};function mu(ir,Tr){ir.h=!1,ir.g&&(ir.j=!0,ir.g.abort(),ir.j=!1),ir.l=Tr,ir.m=5,ga(ir),go(ir)}function ga(ir){ir.A||(ir.A=!0,Bi(ir,"complete"),Bi(ir,"error"))}Ee.abort=function(ir){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=ir||7,Bi(this,"complete"),Bi(this,"abort"),go(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),go(this,!0)),Rs.aa.N.call(this)},Ee.Ea=function(){this.s||(this.B||this.u||this.j?bc(this):this.bb())},Ee.bb=function(){bc(this)};function bc(ir){if(ir.h&&typeof Be<"u"&&(!ir.v[1]||Ka(ir)!=4||ir.Z()!=2)){if(ir.u&&Ka(ir)==4)Pn(ir.Ea,0,ir);else if(Bi(ir,"readystatechange"),Ka(ir)==4){ir.h=!1;try{const si=ir.Z();e:switch(si){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Tr=!0;break e;default:Tr=!1}var Dr;if(!(Dr=Tr)){var Qr;if(Qr=si===0){var Dn=String(ir.D).match(Eo)[1]||null;!Dn&&je.self&&je.self.location&&(Dn=je.self.location.protocol.slice(0,-1)),Qr=!Ml.test(Dn?Dn.toLowerCase():"")}Dr=Qr}if(Dr)Bi(ir,"complete"),Bi(ir,"success");else{ir.m=6;try{var Vn=2<Ka(ir)?ir.g.statusText:""}catch{Vn=""}ir.l=Vn+" ["+ir.Z()+"]",ga(ir)}}finally{go(ir)}}}}function go(ir,Tr){if(ir.g){Bo(ir);const Dr=ir.g,Qr=ir.v[0]?()=>{}:null;ir.g=null,ir.v=null,Tr||Bi(ir,"ready");try{Dr.onreadystatechange=Qr}catch{}}}function Bo(ir){ir.I&&(je.clearTimeout(ir.I),ir.I=null)}Ee.isActive=function(){return!!this.g};function Ka(ir){return ir.g?ir.g.readyState:0}Ee.Z=function(){try{return 2<Ka(this)?this.g.status:-1}catch{return-1}},Ee.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Oa=function(ir){if(this.g){var Tr=this.g.responseText;return ir&&Tr.indexOf(ir)==0&&(Tr=Tr.substring(ir.length)),Wi(Tr)}};function ef(ir){try{if(!ir.g)return null;if("response"in ir.g)return ir.g.response;switch(ir.H){case"":case"text":return ir.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in ir.g)return ir.g.mozResponseArrayBuffer}return null}catch{return null}}function sc(ir){const Tr={};ir=(ir.g&&2<=Ka(ir)&&ir.g.getAllResponseHeaders()||"").split(`\r
`);for(let Qr=0;Qr<ir.length;Qr++){if(We(ir[Qr]))continue;var Dr=ar(ir[Qr]);const Dn=Dr[0];if(Dr=Dr[1],typeof Dr!="string")continue;Dr=Dr.trim();const Vn=Tr[Dn]||[];Tr[Dn]=Vn,Vn.push(Dr)}Je(Tr,function(Qr){return Qr.join(", ")})}Ee.Ba=function(){return this.m},Ee.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wa(ir,Tr,Dr){return Dr&&Dr.internalChannelParams&&Dr.internalChannelParams[ir]||Tr}function dl(ir){this.Aa=0,this.i=[],this.j=new ta,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wa("failFast",!1,ir),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wa("baseRetryDelayMs",5e3,ir),this.cb=Wa("retryDelaySeedMs",1e4,ir),this.Wa=Wa("forwardChannelMaxRetries",2,ir),this.wa=Wa("forwardChannelRequestTimeoutMs",2e4,ir),this.pa=ir&&ir.xmlHttpFactory||void 0,this.Xa=ir&&ir.Tb||void 0,this.Ca=ir&&ir.useFetchStreams||!1,this.L=void 0,this.J=ir&&ir.supportsCrossDomainXhr||!1,this.K="",this.h=new ho(ir&&ir.concurrentRequestLimit),this.Da=new xl,this.P=ir&&ir.fastHandshake||!1,this.O=ir&&ir.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=ir&&ir.Rb||!1,ir&&ir.xa&&this.j.xa(),ir&&ir.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&ir&&ir.detectBufferingProxy||!1,this.ja=void 0,ir&&ir.longPollingTimeout&&0<ir.longPollingTimeout&&(this.ja=ir.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}Ee=dl.prototype,Ee.la=8,Ee.G=1,Ee.connect=function(ir,Tr,Dr,Qr){Ri(0),this.W=ir,this.H=Tr||{},Dr&&Qr!==void 0&&(this.H.OSID=Dr,this.H.OAID=Qr),this.F=this.X,this.I=yr(this,null,this.W),Ul(this)};function wl(ir){if(jo(ir),ir.G==3){var Tr=ir.U++,Dr=wo(ir.I);if(Gs(Dr,"SID",ir.K),Gs(Dr,"RID",Tr),Gs(Dr,"TYPE","terminate"),ac(ir,Dr),Tr=new Yn(ir,ir.j,Tr),Tr.L=2,Tr.v=ic(wo(Dr)),Dr=!1,je.navigator&&je.navigator.sendBeacon)try{Dr=je.navigator.sendBeacon(Tr.v.toString(),"")}catch{}!Dr&&je.Image&&(new Image().src=Tr.v,Dr=!0),Dr||(Tr.g=Mr(Tr.j,null),Tr.g.ea(Tr.v)),Tr.F=Date.now(),Li(Tr)}Yc(ir)}function Gc(ir){ir.g&&(oc(ir),ir.g.cancel(),ir.g=null)}function jo(ir){Gc(ir),ir.u&&(je.clearTimeout(ir.u),ir.u=null),$l(ir),ir.h.cancel(),ir.s&&(typeof ir.s=="number"&&je.clearTimeout(ir.s),ir.s=null)}function Ul(ir){if(!Po(ir.h)&&!ir.s){ir.s=!0;var Tr=ir.Ga;Er||wr(),Ar||(Er(),Ar=!0),br.add(Tr,ir),ir.B=0}}function Ec(ir,Tr){return Ao(ir.h)>=ir.h.j-(ir.s?1:0)?!1:ir.s?(ir.i=Tr.D.concat(ir.i),!0):ir.G==1||ir.G==2||ir.B>=(ir.Va?0:ir.Wa)?!1:(ir.s=ks(Me(ir.Ga,ir,Tr),Cc(ir,ir.B)),ir.B++,!0)}Ee.Ga=function(ir){if(this.s)if(this.s=null,this.G==1){if(!ir){this.U=Math.floor(1e5*Math.random()),ir=this.U++;const Dn=new Yn(this,this.j,ir);let Vn=this.o;if(this.S&&(Vn?(Vn=er(Vn),pr(Vn,this.S)):Vn=this.S),this.m!==null||this.O||(Dn.H=Vn,Vn=null),this.P)e:{for(var Tr=0,Dr=0;Dr<this.i.length;Dr++){t:{var Qr=this.i[Dr];if("__data__"in Qr.map&&(Qr=Qr.map.__data__,typeof Qr=="string")){Qr=Qr.length;break t}Qr=void 0}if(Qr===void 0)break;if(Tr+=Qr,4096<Tr){Tr=Dr;break e}if(Tr===4096||Dr===this.i.length-1){Tr=Dr+1;break e}}Tr=1e3}else Tr=1e3;Tr=Sc(this,Dn,Tr),Dr=wo(this.I),Gs(Dr,"RID",ir),Gs(Dr,"CVER",22),this.D&&Gs(Dr,"X-HTTP-Session-Id",this.D),ac(this,Dr),Vn&&(this.O?Tr="headers="+encodeURIComponent(String(bl(Vn)))+"&"+Tr:this.m&&$a(Dr,this.m,Vn)),da(this.h,Dn),this.Ua&&Gs(Dr,"TYPE","init"),this.P?(Gs(Dr,"$req",Tr),Gs(Dr,"SID","null"),Dn.T=!0,gi(Dn,Dr,null)):gi(Dn,Dr,Tr),this.G=2}}else this.G==3&&(ir?wc(this,ir):this.i.length==0||Po(this.h)||wc(this))};function wc(ir,Tr){var Dr;Tr?Dr=Tr.l:Dr=ir.U++;const Qr=wo(ir.I);Gs(Qr,"SID",ir.K),Gs(Qr,"RID",Dr),Gs(Qr,"AID",ir.T),ac(ir,Qr),ir.m&&ir.o&&$a(Qr,ir.m,ir.o),Dr=new Yn(ir,ir.j,Dr,ir.B+1),ir.m===null&&(Dr.H=ir.o),Tr&&(ir.i=Tr.D.concat(ir.i)),Tr=Sc(ir,Dr,1e3),Dr.I=Math.round(.5*ir.wa)+Math.round(.5*ir.wa*Math.random()),da(ir.h,Dr),gi(Dr,Qr,Tr)}function ac(ir,Tr){ir.H&&rr(ir.H,function(Dr,Qr){Gs(Tr,Qr,Dr)}),ir.l&&Ll({},function(Dr,Qr){Gs(Tr,Qr,Dr)})}function Sc(ir,Tr,Dr){Dr=Math.min(ir.i.length,Dr);var Qr=ir.l?Me(ir.l.Na,ir.l,ir):null;e:{var Dn=ir.i;let Vn=-1;for(;;){const si=["count="+Dr];Vn==-1?0<Dr?(Vn=Dn[0].g,si.push("ofs="+Vn)):Vn=0:si.push("ofs="+Vn);let ls=!0;for(let Ts=0;Ts<Dr;Ts++){let ps=Dn[Ts].g;const Ls=Dn[Ts].map;if(ps-=Vn,0>ps)Vn=Math.max(0,Dn[Ts].g-100),ls=!1;else try{Sa(Ls,si,"req"+ps+"_")}catch{Qr&&Qr(Ls)}}if(ls){Qr=si.join("&");break e}}}return ir=ir.i.splice(0,Dr),Tr.D=ir,Qr}function qc(ir){if(!ir.g&&!ir.u){ir.Y=1;var Tr=ir.Fa;Er||wr(),Ar||(Er(),Ar=!0),br.add(Tr,ir),ir.v=0}}function Tc(ir){return ir.g||ir.u||3<=ir.v?!1:(ir.Y++,ir.u=ks(Me(ir.Fa,ir),Cc(ir,ir.v)),ir.v++,!0)}Ee.Fa=function(){if(this.u=null,tf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var ir=2*this.R;this.j.info("BP detection timer enabled: "+ir),this.A=ks(Me(this.ab,this),ir)}},Ee.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ri(10),Gc(this),tf(this))};function oc(ir){ir.A!=null&&(je.clearTimeout(ir.A),ir.A=null)}function tf(ir){ir.g=new Yn(ir,ir.j,"rpc",ir.Y),ir.m===null&&(ir.g.H=ir.o),ir.g.O=0;var Tr=wo(ir.qa);Gs(Tr,"RID","rpc"),Gs(Tr,"SID",ir.K),Gs(Tr,"AID",ir.T),Gs(Tr,"CI",ir.F?"0":"1"),!ir.F&&ir.ja&&Gs(Tr,"TO",ir.ja),Gs(Tr,"TYPE","xmlhttp"),ac(ir,Tr),ir.m&&ir.o&&$a(Tr,ir.m,ir.o),ir.L&&(ir.g.I=ir.L);var Dr=ir.g;ir=ir.ia,Dr.L=1,Dr.v=ic(wo(Tr)),Dr.m=null,Dr.P=!0,Ci(Dr,ir)}Ee.Za=function(){this.C!=null&&(this.C=null,Gc(this),Tc(this),Ri(19))};function $l(ir){ir.C!=null&&(je.clearTimeout(ir.C),ir.C=null)}function cc(ir,Tr){var Dr=null;if(ir.g==Tr){$l(ir),oc(ir),ir.g=null;var Qr=2}else if(Ma(ir.h,Tr))Dr=Tr.D,po(ir.h,Tr),Qr=1;else return;if(ir.G!=0){if(Tr.o)if(Qr==1){Dr=Tr.m?Tr.m.length:0,Tr=Date.now()-Tr.F;var Dn=ir.B;Qr=ss(),Bi(Qr,new Qi(Qr,Dr)),Ul(ir)}else qc(ir);else if(Dn=Tr.s,Dn==3||Dn==0&&0<Tr.X||!(Qr==1&&Ec(ir,Tr)||Qr==2&&Tc(ir)))switch(Dr&&0<Dr.length&&(Tr=ir.h,Tr.i=Tr.i.concat(Dr)),Dn){case 1:Do(ir,5);break;case 4:Do(ir,10);break;case 3:Do(ir,6);break;default:Do(ir,2)}}}function Cc(ir,Tr){let Dr=ir.Ta+Math.floor(Math.random()*ir.cb);return ir.isActive()||(Dr*=2),Dr*Tr}function Do(ir,Tr){if(ir.j.info("Error code "+Tr),Tr==2){var Dr=Me(ir.fb,ir),Qr=ir.Xa;const Dn=!Qr;Qr=new Ms(Qr||"//www.google.com/images/cleardot.gif"),je.location&&je.location.protocol=="http"||rc(Qr,"https"),ic(Qr),Dn?Ro(Qr.toString(),Dr):Yo(Qr.toString(),Dr)}else Ri(2);ir.G=0,ir.l&&ir.l.sa(Tr),Yc(ir),jo(ir)}Ee.fb=function(ir){ir?(this.j.info("Successfully pinged google.com"),Ri(2)):(this.j.info("Failed to ping google.com"),Ri(1))};function Yc(ir){if(ir.G=0,ir.ka=[],ir.l){const Tr=zc(ir.h);(Tr.length!=0||ir.i.length!=0)&&(Ke(ir.ka,Tr),Ke(ir.ka,ir.i),ir.h.i.length=0,Qe(ir.i),ir.i.length=0),ir.l.ra()}}function yr(ir,Tr,Dr){var Qr=Dr instanceof Ms?wo(Dr):new Ms(Dr);if(Qr.g!="")Tr&&(Qr.g=Tr+"."+Qr.g),nc(Qr,Qr.s);else{var Dn=je.location;Qr=Dn.protocol,Tr=Tr?Tr+"."+Dn.hostname:Dn.hostname,Dn=+Dn.port;var Vn=new Ms(null);Qr&&rc(Vn,Qr),Tr&&(Vn.g=Tr),Dn&&nc(Vn,Dn),Dr&&(Vn.l=Dr),Qr=Vn}return Dr=ir.D,Tr=ir.ya,Dr&&Tr&&Gs(Qr,Dr,Tr),Gs(Qr,"VER",ir.la),ac(ir,Qr),Qr}function Mr(ir,Tr,Dr){if(Tr&&!ir.J)throw Error("Can't create secondary domain capable XhrIo object.");return Tr=ir.Ca&&!ir.pa?new Rs(new kl({eb:Dr})):new Rs(ir.pa),Tr.Ha(ir.J),Tr}Ee.isActive=function(){return!!this.l&&this.l.isActive(this)};function vn(){}Ee=vn.prototype,Ee.ua=function(){},Ee.ta=function(){},Ee.sa=function(){},Ee.ra=function(){},Ee.isActive=function(){return!0},Ee.Na=function(){};function Sn(){}Sn.prototype.g=function(ir,Tr){return new Nn(ir,Tr)};function Nn(ir,Tr){Si.call(this),this.g=new dl(Tr),this.l=ir,this.h=Tr&&Tr.messageUrlParams||null,ir=Tr&&Tr.messageHeaders||null,Tr&&Tr.clientProtocolHeaderRequired&&(ir?ir["X-Client-Protocol"]="webchannel":ir={"X-Client-Protocol":"webchannel"}),this.g.o=ir,ir=Tr&&Tr.initMessageHeaders||null,Tr&&Tr.messageContentType&&(ir?ir["X-WebChannel-Content-Type"]=Tr.messageContentType:ir={"X-WebChannel-Content-Type":Tr.messageContentType}),Tr&&Tr.va&&(ir?ir["X-WebChannel-Client-Profile"]=Tr.va:ir={"X-WebChannel-Client-Profile":Tr.va}),this.g.S=ir,(ir=Tr&&Tr.Sb)&&!We(ir)&&(this.g.m=ir),this.v=Tr&&Tr.supportsCrossDomainXhr||!1,this.u=Tr&&Tr.sendRawJson||!1,(Tr=Tr&&Tr.httpSessionIdParam)&&!We(Tr)&&(this.g.D=Tr,ir=this.h,ir!==null&&Tr in ir&&(ir=this.h,Tr in ir&&delete ir[Tr])),this.j=new Ni(this)}He(Nn,Si),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){wl(this.g)},Nn.prototype.o=function(ir){var Tr=this.g;if(typeof ir=="string"){var Dr={};Dr.__data__=ir,ir=Dr}else this.u&&(Dr={},Dr.__data__=bi(ir),ir=Dr);Tr.i.push(new Co(Tr.Ya++,ir)),Tr.G==3&&Ul(Tr)},Nn.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,Nn.aa.N.call(this)};function ti(ir){Ji.call(this),ir.__headers__&&(this.headers=ir.__headers__,this.statusCode=ir.__status__,delete ir.__headers__,delete ir.__status__);var Tr=ir.__sm__;if(Tr){e:{for(const Dr in Tr){ir=Dr;break e}ir=void 0}(this.i=ir)&&(ir=this.i,Tr=Tr!==null&&ir in Tr?Tr[ir]:void 0),this.data=Tr}else this.data=ir}He(ti,Ji);function _i(){Ti.call(this),this.status=1}He(_i,Ti);function Ni(ir){this.g=ir}He(Ni,vn),Ni.prototype.ua=function(){Bi(this.g,"a")},Ni.prototype.ta=function(ir){Bi(this.g,new ti(ir))},Ni.prototype.sa=function(ir){Bi(this.g,new _i)},Ni.prototype.ra=function(){Bi(this.g,"b")},Sn.prototype.createWebChannel=Sn.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,createWebChannelTransport=function(){return new Sn},getStatEventTarget=function(){return ss()},Event$1=xi,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},un.NO_ERROR=0,un.TIMEOUT=8,un.HTTP_ERROR=6,ErrorCode$1=un,pn.COMPLETE="complete",EventType=pn,vs.EventType=Zs,Zs.OPEN="a",Zs.CLOSE="b",Zs.ERROR="c",Zs.MESSAGE="d",Si.prototype.listen=Si.prototype.K,WebChannel=vs,Rs.prototype.listenOnce=Rs.prototype.L,Rs.prototype.getLastError=Rs.prototype.Ka,Rs.prototype.getLastErrorCode=Rs.prototype.Ba,Rs.prototype.getStatus=Rs.prototype.Z,Rs.prototype.getResponseJson=Rs.prototype.Oa,Rs.prototype.getResponseText=Rs.prototype.oa,Rs.prototype.send=Rs.prototype.ea,Rs.prototype.setWithCredentials=Rs.prototype.Ha,XhrIo=Rs}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const F$3="@firebase/firestore",M$2="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(_e){this.uid=_e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(_e){return _e.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x$4="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$1=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return O$1.logLevel}function __PRIVATE_logDebug(Ee,..._e){if(O$1.logLevel<=LogLevel.DEBUG){const Ce=_e.map(__PRIVATE_argToString);O$1.debug(`Firestore (${x$4}): ${Ee}`,...Ce)}}function __PRIVATE_logError(Ee,..._e){if(O$1.logLevel<=LogLevel.ERROR){const Ce=_e.map(__PRIVATE_argToString);O$1.error(`Firestore (${x$4}): ${Ee}`,...Ce)}}function __PRIVATE_logWarn(Ee,..._e){if(O$1.logLevel<=LogLevel.WARN){const Ce=_e.map(__PRIVATE_argToString);O$1.warn(`Firestore (${x$4}): ${Ee}`,...Ce)}}function __PRIVATE_argToString(Ee){if(typeof Ee=="string")return Ee;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(Ce){return JSON.stringify(Ce)}(Ee)}catch{return Ee}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(Ee,_e,Ce){let Pe="Unexpected state";typeof _e=="string"?Pe=_e:Ce=_e,__PRIVATE__fail(Ee,Pe,Ce)}function __PRIVATE__fail(Ee,_e,Ce){let Pe=`FIRESTORE (${x$4}) INTERNAL ASSERTION FAILED: ${_e} (ID: ${Ee.toString(16)})`;if(Ce!==void 0)try{Pe+=" CONTEXT: "+JSON.stringify(Ce)}catch{Pe+=" CONTEXT: "+Ce}throw __PRIVATE_logError(Pe),new Error(Pe)}function __PRIVATE_hardAssert(Ee,_e,Ce,Pe){let Re="Unexpected state";typeof Ce=="string"?Re=Ce:Pe=Ce,Ee||__PRIVATE__fail(_e,Re,Pe)}function __PRIVATE_debugCast(Ee,_e){return Ee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$2={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(_e,Ce){super(_e,Ce),this.code=_e,this.message=Ce,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((_e,Ce)=>{this.resolve=_e,this.reject=Ce})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(_e,Ce){this.user=Ce,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${_e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(_e,Ce){_e.enqueueRetryable(()=>Ce(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(_e){this.token=_e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(_e,Ce){this.changeListener=Ce,_e.enqueueRetryable(()=>Ce(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(_e){this.t=_e,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(_e,Ce){__PRIVATE_hardAssert(this.o===void 0,42304);let Pe=this.i;const Re=De=>this.i!==Pe?(Pe=this.i,Ce(De)):Promise.resolve();let Ie=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),Ie.resolve(),Ie=new __PRIVATE_Deferred,_e.enqueueRetryable(()=>Re(this.currentUser))};const Be=()=>{const De=Ie;_e.enqueueRetryable(async()=>{await De.promise,await Re(this.currentUser)})},je=De=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=De,this.o&&(this.auth.addAuthTokenListener(this.o),Be())};this.t.onInit(De=>je(De)),setTimeout(()=>{if(!this.auth){const De=this.t.getImmediate({optional:!0});De?je(De):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),Ie.resolve(),Ie=new __PRIVATE_Deferred)}},0),Be()}getToken(){const _e=this.i,Ce=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(Ce).then(Pe=>this.i!==_e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):Pe?(__PRIVATE_hardAssert(typeof Pe.accessToken=="string",31837,{l:Pe}),new __PRIVATE_OAuthToken(Pe.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const _e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(_e===null||typeof _e=="string",2055,{h:_e}),new User(_e)}}class __PRIVATE_FirstPartyToken{constructor(_e,Ce,Pe){this.P=_e,this.T=Ce,this.I=Pe,this.type="FirstParty",this.user=User.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const _e=this.R();return _e&&this.A.set("Authorization",_e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(_e,Ce,Pe){this.P=_e,this.T=Ce,this.I=Pe}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.P,this.T,this.I))}start(_e,Ce){_e.enqueueRetryable(()=>Ce(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(_e){this.value=_e,this.type="AppCheck",this.headers=new Map,_e&&_e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(_e,Ce){this.V=Ce,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_isFirebaseServerApp(_e)&&_e.settings.appCheckToken&&(this.p=_e.settings.appCheckToken)}start(_e,Ce){__PRIVATE_hardAssert(this.o===void 0,3512);const Pe=Ie=>{Ie.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${Ie.error.message}`);const Be=Ie.token!==this.m;return this.m=Ie.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${Be?"new":"existing"} token.`),Be?Ce(Ie.token):Promise.resolve()};this.o=Ie=>{_e.enqueueRetryable(()=>Pe(Ie))};const Re=Ie=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=Ie,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(Ie=>Re(Ie)),setTimeout(()=>{if(!this.appCheck){const Ie=this.V.getImmediate({optional:!0});Ie?Re(Ie):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AppCheckToken(this.p));const _e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(_e).then(Ce=>Ce?(__PRIVATE_hardAssert(typeof Ce.token=="string",44558,{tokenResult:Ce}),this.m=Ce.token,new AppCheckToken(Ce.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(Ee){const _e=typeof self<"u"&&(self.crypto||self.msCrypto),Ce=new Uint8Array(Ee);if(_e&&typeof _e.getRandomValues=="function")_e.getRandomValues(Ce);else for(let Pe=0;Pe<Ee;Pe++)Ce[Pe]=Math.floor(256*Math.random());return Ce}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const _e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Ce=62*Math.floor(4.129032258064516);let Pe="";for(;Pe.length<20;){const Re=__PRIVATE_randomBytes(40);for(let Ie=0;Ie<Re.length;++Ie)Pe.length<20&&Re[Ie]<Ce&&(Pe+=_e.charAt(Re[Ie]%62))}return Pe}}function __PRIVATE_primitiveComparator(Ee,_e){return Ee<_e?-1:Ee>_e?1:0}function __PRIVATE_compareUtf8Strings(Ee,_e){let Ce=0;for(;Ce<Ee.length&&Ce<_e.length;){const Pe=Ee.codePointAt(Ce),Re=_e.codePointAt(Ce);if(Pe!==Re){if(Pe<128&&Re<128)return __PRIVATE_primitiveComparator(Pe,Re);{const Ie=__PRIVATE_newTextEncoder(),Be=__PRIVATE_compareByteArrays$1(Ie.encode(__PRIVATE_getUtf8SafeSubstring(Ee,Ce)),Ie.encode(__PRIVATE_getUtf8SafeSubstring(_e,Ce)));return Be!==0?Be:__PRIVATE_primitiveComparator(Pe,Re)}}Ce+=Pe>65535?2:1}return __PRIVATE_primitiveComparator(Ee.length,_e.length)}function __PRIVATE_getUtf8SafeSubstring(Ee,_e){return Ee.codePointAt(_e)>65535?Ee.substring(_e,_e+2):Ee.substring(_e,_e+1)}function __PRIVATE_compareByteArrays$1(Ee,_e){for(let Ce=0;Ce<Ee.length&&Ce<_e.length;++Ce)if(Ee[Ce]!==_e[Ce])return __PRIVATE_primitiveComparator(Ee[Ce],_e[Ce]);return __PRIVATE_primitiveComparator(Ee.length,_e.length)}function __PRIVATE_arrayEquals(Ee,_e,Ce){return Ee.length===_e.length&&Ee.every((Pe,Re)=>Ce(Pe,_e[Re]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$2="__name__";class BasePath{constructor(_e,Ce,Pe){Ce===void 0?Ce=0:Ce>_e.length&&fail(637,{offset:Ce,range:_e.length}),Pe===void 0?Pe=_e.length-Ce:Pe>_e.length-Ce&&fail(1746,{length:Pe,range:_e.length-Ce}),this.segments=_e,this.offset=Ce,this.len=Pe}get length(){return this.len}isEqual(_e){return BasePath.comparator(this,_e)===0}child(_e){const Ce=this.segments.slice(this.offset,this.limit());return _e instanceof BasePath?_e.forEach(Pe=>{Ce.push(Pe)}):Ce.push(_e),this.construct(Ce)}limit(){return this.offset+this.length}popFirst(_e){return _e=_e===void 0?1:_e,this.construct(this.segments,this.offset+_e,this.length-_e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(_e){return this.segments[this.offset+_e]}isEmpty(){return this.length===0}isPrefixOf(_e){if(_e.length<this.length)return!1;for(let Ce=0;Ce<this.length;Ce++)if(this.get(Ce)!==_e.get(Ce))return!1;return!0}isImmediateParentOf(_e){if(this.length+1!==_e.length)return!1;for(let Ce=0;Ce<this.length;Ce++)if(this.get(Ce)!==_e.get(Ce))return!1;return!0}forEach(_e){for(let Ce=this.offset,Pe=this.limit();Ce<Pe;Ce++)_e(this.segments[Ce])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(_e,Ce){const Pe=Math.min(_e.length,Ce.length);for(let Re=0;Re<Pe;Re++){const Ie=BasePath.compareSegments(_e.get(Re),Ce.get(Re));if(Ie!==0)return Ie}return __PRIVATE_primitiveComparator(_e.length,Ce.length)}static compareSegments(_e,Ce){const Pe=BasePath.isNumericId(_e),Re=BasePath.isNumericId(Ce);return Pe&&!Re?-1:!Pe&&Re?1:Pe&&Re?BasePath.extractNumericId(_e).compare(BasePath.extractNumericId(Ce)):__PRIVATE_compareUtf8Strings(_e,Ce)}static isNumericId(_e){return _e.startsWith("__id")&&_e.endsWith("__")}static extractNumericId(_e){return Integer.fromString(_e.substring(4,_e.length-2))}}class ResourcePath extends BasePath{construct(_e,Ce,Pe){return new ResourcePath(_e,Ce,Pe)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(..._e){const Ce=[];for(const Pe of _e){if(Pe.indexOf("//")>=0)throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid segment (${Pe}). Paths must not contain // in them.`);Ce.push(...Pe.split("/").filter(Re=>Re.length>0))}return new ResourcePath(Ce)}static emptyPath(){return new ResourcePath([])}}const L$2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(_e,Ce,Pe){return new FieldPath$1(_e,Ce,Pe)}static isValidIdentifier(_e){return L$2.test(_e)}canonicalString(){return this.toArray().map(_e=>(_e=_e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(_e)||(_e="`"+_e+"`"),_e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B$2}static keyField(){return new FieldPath$1([B$2])}static fromServerFormat(_e){const Ce=[];let Pe="",Re=0;const Ie=()=>{if(Pe.length===0)throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid field path (${_e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);Ce.push(Pe),Pe=""};let Be=!1;for(;Re<_e.length;){const je=_e[Re];if(je==="\\"){if(Re+1===_e.length)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Path has trailing escape character: "+_e);const De=_e[Re+1];if(De!=="\\"&&De!=="."&&De!=="`")throw new FirestoreError(N$2.INVALID_ARGUMENT,"Path has invalid escape sequence: "+_e);Pe+=De,Re+=2}else je==="`"?(Be=!Be,Re++):je!=="."||Be?(Pe+=je,Re++):(Ie(),Re++)}if(Ie(),Be)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Unterminated ` in path: "+_e);return new FieldPath$1(Ce)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(_e){this.path=_e}static fromPath(_e){return new DocumentKey(ResourcePath.fromString(_e))}static fromName(_e){return new DocumentKey(ResourcePath.fromString(_e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(_e){return this.path.length>=2&&this.path.get(this.path.length-2)===_e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(_e){return _e!==null&&ResourcePath.comparator(this.path,_e.path)===0}toString(){return this.path.toString()}static comparator(_e,Ce){return ResourcePath.comparator(_e.path,Ce.path)}static isDocumentKey(_e){return _e.length%2==0}static fromSegments(_e){return new DocumentKey(new ResourcePath(_e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(Ee,_e,Ce){if(!Ce)throw new FirestoreError(N$2.INVALID_ARGUMENT,`Function ${Ee}() cannot be called with an empty ${_e}.`)}function __PRIVATE_validateIsNotUsedTogether(Ee,_e,Ce,Pe){if(_e===!0&&Pe===!0)throw new FirestoreError(N$2.INVALID_ARGUMENT,`${Ee} and ${Ce} cannot be used together.`)}function __PRIVATE_validateDocumentPath(Ee){if(!DocumentKey.isDocumentKey(Ee))throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${Ee} has ${Ee.length}.`)}function __PRIVATE_validateCollectionPath(Ee){if(DocumentKey.isDocumentKey(Ee))throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${Ee} has ${Ee.length}.`)}function __PRIVATE_isPlainObject(Ee){return typeof Ee=="object"&&Ee!==null&&(Object.getPrototypeOf(Ee)===Object.prototype||Object.getPrototypeOf(Ee)===null)}function __PRIVATE_valueDescription(Ee){if(Ee===void 0)return"undefined";if(Ee===null)return"null";if(typeof Ee=="string")return Ee.length>20&&(Ee=`${Ee.substring(0,20)}...`),JSON.stringify(Ee);if(typeof Ee=="number"||typeof Ee=="boolean")return""+Ee;if(typeof Ee=="object"){if(Ee instanceof Array)return"an array";{const _e=function(Pe){return Pe.constructor?Pe.constructor.name:null}(Ee);return _e?`a custom ${_e} object`:"an object"}}return typeof Ee=="function"?"a function":fail(12329,{type:typeof Ee})}function __PRIVATE_cast(Ee,_e){if("_delegate"in Ee&&(Ee=Ee._delegate),!(Ee instanceof _e)){if(_e.name===Ee.constructor.name)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const Ce=__PRIVATE_valueDescription(Ee);throw new FirestoreError(N$2.INVALID_ARGUMENT,`Expected type '${_e.name}', but it was: ${Ce}`)}}return Ee}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function property$1(Ee,_e){const Ce={typeString:Ee};return _e&&(Ce.value=_e),Ce}function __PRIVATE_validateJSON(Ee,_e){if(!__PRIVATE_isPlainObject(Ee))throw new FirestoreError(N$2.INVALID_ARGUMENT,"JSON must be an object");let Ce;for(const Pe in _e)if(_e[Pe]){const Re=_e[Pe].typeString,Ie="value"in _e[Pe]?{value:_e[Pe].value}:void 0;if(!(Pe in Ee)){Ce=`JSON missing required field: '${Pe}'`;break}const Be=Ee[Pe];if(Re&&typeof Be!==Re){Ce=`JSON field '${Pe}' must be a ${Re}.`;break}if(Ie!==void 0&&Be!==Ie.value){Ce=`Expected '${Pe}' field to equal '${Ie.value}'`;break}}if(Ce)throw new FirestoreError(N$2.INVALID_ARGUMENT,Ce);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$3=-62135596800,q$1=1e6;class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate(_e){return Timestamp.fromMillis(_e.getTime())}static fromMillis(_e){const Ce=Math.floor(_e/1e3),Pe=Math.floor((_e-1e3*Ce)*q$1);return new Timestamp(Ce,Pe)}constructor(_e,Ce){if(this.seconds=_e,this.nanoseconds=Ce,Ce<0)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Ce);if(Ce>=1e9)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Ce);if(_e<k$3)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Timestamp seconds out of range: "+_e);if(_e>=253402300800)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Timestamp seconds out of range: "+_e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q$1}_compareTo(_e){return this.seconds===_e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,_e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,_e.seconds)}isEqual(_e){return _e.seconds===this.seconds&&_e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Timestamp._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(_e){if(__PRIVATE_validateJSON(_e,Timestamp._jsonSchema))return new Timestamp(_e.seconds,_e.nanoseconds)}valueOf(){const _e=this.seconds-k$3;return String(_e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Timestamp._jsonSchemaVersion="firestore/timestamp/1.0",Timestamp._jsonSchema={type:property$1("string",Timestamp._jsonSchemaVersion),seconds:property$1("number"),nanoseconds:property$1("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{static fromTimestamp(_e){return new SnapshotVersion(_e)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}constructor(_e){this.timestamp=_e}compareTo(_e){return this.timestamp._compareTo(_e.timestamp)}isEqual(_e){return this.timestamp.isEqual(_e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$2=-1;function __PRIVATE_newIndexOffsetSuccessorFromReadTime(Ee,_e){const Ce=Ee.toTimestamp().seconds,Pe=Ee.toTimestamp().nanoseconds+1,Re=SnapshotVersion.fromTimestamp(Pe===1e9?new Timestamp(Ce+1,0):new Timestamp(Ce,Pe));return new IndexOffset(Re,DocumentKey.empty(),_e)}function __PRIVATE_newIndexOffsetFromDocument(Ee){return new IndexOffset(Ee.readTime,Ee.key,Q$2)}class IndexOffset{constructor(_e,Ce,Pe){this.readTime=_e,this.documentKey=Ce,this.largestBatchId=Pe}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),Q$2)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),Q$2)}}function __PRIVATE_indexOffsetComparator(Ee,_e){let Ce=Ee.readTime.compareTo(_e.readTime);return Ce!==0?Ce:(Ce=DocumentKey.comparator(Ee.documentKey,_e.documentKey),Ce!==0?Ce:__PRIVATE_primitiveComparator(Ee.largestBatchId,_e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(_e){this.onCommittedListeners.push(_e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(_e=>_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(Ee){if(Ee.code!==N$2.FAILED_PRECONDITION||Ee.message!==$$3)throw Ee;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(_e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,_e(Ce=>{this.isDone=!0,this.result=Ce,this.nextCallback&&this.nextCallback(Ce)},Ce=>{this.isDone=!0,this.error=Ce,this.catchCallback&&this.catchCallback(Ce)})}catch(_e){return this.next(void 0,_e)}next(_e,Ce){return this.callbackAttached&&fail(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(Ce,this.error):this.wrapSuccess(_e,this.result):new PersistencePromise((Pe,Re)=>{this.nextCallback=Ie=>{this.wrapSuccess(_e,Ie).next(Pe,Re)},this.catchCallback=Ie=>{this.wrapFailure(Ce,Ie).next(Pe,Re)}})}toPromise(){return new Promise((_e,Ce)=>{this.next(_e,Ce)})}wrapUserFunction(_e){try{const Ce=_e();return Ce instanceof PersistencePromise?Ce:PersistencePromise.resolve(Ce)}catch(Ce){return PersistencePromise.reject(Ce)}}wrapSuccess(_e,Ce){return _e?this.wrapUserFunction(()=>_e(Ce)):PersistencePromise.resolve(Ce)}wrapFailure(_e,Ce){return _e?this.wrapUserFunction(()=>_e(Ce)):PersistencePromise.reject(Ce)}static resolve(_e){return new PersistencePromise((Ce,Pe)=>{Ce(_e)})}static reject(_e){return new PersistencePromise((Ce,Pe)=>{Pe(_e)})}static waitFor(_e){return new PersistencePromise((Ce,Pe)=>{let Re=0,Ie=0,Be=!1;_e.forEach(je=>{++Re,je.next(()=>{++Ie,Be&&Ie===Re&&Ce()},De=>Pe(De))}),Be=!0,Ie===Re&&Ce()})}static or(_e){let Ce=PersistencePromise.resolve(!1);for(const Pe of _e)Ce=Ce.next(Re=>Re?PersistencePromise.resolve(Re):Pe());return Ce}static forEach(_e,Ce){const Pe=[];return _e.forEach((Re,Ie)=>{Pe.push(Ce.call(this,Re,Ie))}),this.waitFor(Pe)}static mapArray(_e,Ce){return new PersistencePromise((Pe,Re)=>{const Ie=_e.length,Be=new Array(Ie);let je=0;for(let De=0;De<Ie;De++){const Fe=De;Ce(_e[Fe]).next(Oe=>{Be[Fe]=Oe,++je,je===Ie&&Pe(Be)},Oe=>Re(Oe))}})}static doWhile(_e,Ce){return new PersistencePromise((Pe,Re)=>{const Ie=()=>{_e()===!0?Ce().next(()=>{Ie()},Re):Pe()};Ie()})}}function __PRIVATE_getAndroidVersion(Ee){const _e=Ee.match(/Android ([\d.]+)/i),Ce=_e?_e[1].split(".").slice(0,2).join("."):"-1";return Number(Ce)}function __PRIVATE_isIndexedDbTransactionError(Ee){return Ee.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(_e,Ce){this.previousValue=_e,Ce&&(Ce.sequenceNumberHandler=Pe=>this._e(Pe),this.ae=Pe=>Ce.writeSequenceNumber(Pe))}_e(_e){return this.previousValue=Math.max(_e,this.previousValue),this.previousValue}next(){const _e=++this.previousValue;return this.ae&&this.ae(_e),_e}}__PRIVATE_ListenSequence.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$2=-1;function __PRIVATE_isNullOrUndefined(Ee){return Ee==null}function __PRIVATE_isNegativeZero(Ee){return Ee===0&&1/Ee==-1/0}function isSafeInteger(Ee){return typeof Ee=="number"&&Number.isInteger(Ee)&&!__PRIVATE_isNegativeZero(Ee)&&Ee<=Number.MAX_SAFE_INTEGER&&Ee>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$2="";function __PRIVATE_encodeResourcePath(Ee){let _e="";for(let Ce=0;Ce<Ee.length;Ce++)_e.length>0&&(_e=__PRIVATE_encodeSeparator(_e)),_e=__PRIVATE_encodeSegment(Ee.get(Ce),_e);return __PRIVATE_encodeSeparator(_e)}function __PRIVATE_encodeSegment(Ee,_e){let Ce=_e;const Pe=Ee.length;for(let Re=0;Re<Pe;Re++){const Ie=Ee.charAt(Re);switch(Ie){case"\0":Ce+="";break;case z$2:Ce+="";break;default:Ce+=Ie}}return Ce}function __PRIVATE_encodeSeparator(Ee){return Ee+z$2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(Ee){let _e=0;for(const Ce in Ee)Object.prototype.hasOwnProperty.call(Ee,Ce)&&_e++;return _e}function forEach$1(Ee,_e){for(const Ce in Ee)Object.prototype.hasOwnProperty.call(Ee,Ce)&&_e(Ce,Ee[Ce])}function isEmpty(Ee){for(const _e in Ee)if(Object.prototype.hasOwnProperty.call(Ee,_e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(_e,Ce){this.comparator=_e,this.root=Ce||LLRBNode.EMPTY}insert(_e,Ce){return new SortedMap(this.comparator,this.root.insert(_e,Ce,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(_e){return new SortedMap(this.comparator,this.root.remove(_e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(_e){let Ce=this.root;for(;!Ce.isEmpty();){const Pe=this.comparator(_e,Ce.key);if(Pe===0)return Ce.value;Pe<0?Ce=Ce.left:Pe>0&&(Ce=Ce.right)}return null}indexOf(_e){let Ce=0,Pe=this.root;for(;!Pe.isEmpty();){const Re=this.comparator(_e,Pe.key);if(Re===0)return Ce+Pe.left.size;Re<0?Pe=Pe.left:(Ce+=Pe.left.size+1,Pe=Pe.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(_e){return this.root.inorderTraversal(_e)}forEach(_e){this.inorderTraversal((Ce,Pe)=>(_e(Ce,Pe),!1))}toString(){const _e=[];return this.inorderTraversal((Ce,Pe)=>(_e.push(`${Ce}:${Pe}`),!1)),`{${_e.join(", ")}}`}reverseTraversal(_e){return this.root.reverseTraversal(_e)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(_e){return new SortedMapIterator(this.root,_e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(_e){return new SortedMapIterator(this.root,_e,this.comparator,!0)}}class SortedMapIterator{constructor(_e,Ce,Pe,Re){this.isReverse=Re,this.nodeStack=[];let Ie=1;for(;!_e.isEmpty();)if(Ie=Ce?Pe(_e.key,Ce):1,Ce&&Re&&(Ie*=-1),Ie<0)_e=this.isReverse?_e.left:_e.right;else{if(Ie===0){this.nodeStack.push(_e);break}this.nodeStack.push(_e),_e=this.isReverse?_e.right:_e.left}}getNext(){let _e=this.nodeStack.pop();const Ce={key:_e.key,value:_e.value};if(this.isReverse)for(_e=_e.left;!_e.isEmpty();)this.nodeStack.push(_e),_e=_e.right;else for(_e=_e.right;!_e.isEmpty();)this.nodeStack.push(_e),_e=_e.left;return Ce}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const _e=this.nodeStack[this.nodeStack.length-1];return{key:_e.key,value:_e.value}}}class LLRBNode{constructor(_e,Ce,Pe,Re,Ie){this.key=_e,this.value=Ce,this.color=Pe??LLRBNode.RED,this.left=Re??LLRBNode.EMPTY,this.right=Ie??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(_e,Ce,Pe,Re,Ie){return new LLRBNode(_e??this.key,Ce??this.value,Pe??this.color,Re??this.left,Ie??this.right)}isEmpty(){return!1}inorderTraversal(_e){return this.left.inorderTraversal(_e)||_e(this.key,this.value)||this.right.inorderTraversal(_e)}reverseTraversal(_e){return this.right.reverseTraversal(_e)||_e(this.key,this.value)||this.left.reverseTraversal(_e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(_e,Ce,Pe){let Re=this;const Ie=Pe(_e,Re.key);return Re=Ie<0?Re.copy(null,null,null,Re.left.insert(_e,Ce,Pe),null):Ie===0?Re.copy(null,Ce,null,null,null):Re.copy(null,null,null,null,Re.right.insert(_e,Ce,Pe)),Re.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let _e=this;return _e.left.isRed()||_e.left.left.isRed()||(_e=_e.moveRedLeft()),_e=_e.copy(null,null,null,_e.left.removeMin(),null),_e.fixUp()}remove(_e,Ce){let Pe,Re=this;if(Ce(_e,Re.key)<0)Re.left.isEmpty()||Re.left.isRed()||Re.left.left.isRed()||(Re=Re.moveRedLeft()),Re=Re.copy(null,null,null,Re.left.remove(_e,Ce),null);else{if(Re.left.isRed()&&(Re=Re.rotateRight()),Re.right.isEmpty()||Re.right.isRed()||Re.right.left.isRed()||(Re=Re.moveRedRight()),Ce(_e,Re.key)===0){if(Re.right.isEmpty())return LLRBNode.EMPTY;Pe=Re.right.min(),Re=Re.copy(Pe.key,Pe.value,null,null,Re.right.removeMin())}Re=Re.copy(null,null,null,null,Re.right.remove(_e,Ce))}return Re.fixUp()}isRed(){return this.color}fixUp(){let _e=this;return _e.right.isRed()&&!_e.left.isRed()&&(_e=_e.rotateLeft()),_e.left.isRed()&&_e.left.left.isRed()&&(_e=_e.rotateRight()),_e.left.isRed()&&_e.right.isRed()&&(_e=_e.colorFlip()),_e}moveRedLeft(){let _e=this.colorFlip();return _e.right.left.isRed()&&(_e=_e.copy(null,null,null,null,_e.right.rotateRight()),_e=_e.rotateLeft(),_e=_e.colorFlip()),_e}moveRedRight(){let _e=this.colorFlip();return _e.left.left.isRed()&&(_e=_e.rotateRight(),_e=_e.colorFlip()),_e}rotateLeft(){const _e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,_e,null)}rotateRight(){const _e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,_e)}colorFlip(){const _e=this.left.copy(null,null,!this.left.color,null,null),Ce=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,_e,Ce)}checkMaxDepth(){const _e=this.check();return Math.pow(2,_e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fail(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fail(14113,{key:this.key,value:this.value});const _e=this.left.check();if(_e!==this.right.check())throw fail(27949);return _e+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail(57766)}get value(){throw fail(16141)}get color(){throw fail(16727)}get left(){throw fail(29726)}get right(){throw fail(36894)}copy(_e,Ce,Pe,Re,Ie){return this}insert(_e,Ce,Pe){return new LLRBNode(_e,Ce)}remove(_e,Ce){return this}isEmpty(){return!0}inorderTraversal(_e){return!1}reverseTraversal(_e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(_e){this.comparator=_e,this.data=new SortedMap(this.comparator)}has(_e){return this.data.get(_e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(_e){return this.data.indexOf(_e)}forEach(_e){this.data.inorderTraversal((Ce,Pe)=>(_e(Ce),!1))}forEachInRange(_e,Ce){const Pe=this.data.getIteratorFrom(_e[0]);for(;Pe.hasNext();){const Re=Pe.getNext();if(this.comparator(Re.key,_e[1])>=0)return;Ce(Re.key)}}forEachWhile(_e,Ce){let Pe;for(Pe=Ce!==void 0?this.data.getIteratorFrom(Ce):this.data.getIterator();Pe.hasNext();)if(!_e(Pe.getNext().key))return}firstAfterOrEqual(_e){const Ce=this.data.getIteratorFrom(_e);return Ce.hasNext()?Ce.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(_e){return new SortedSetIterator(this.data.getIteratorFrom(_e))}add(_e){return this.copy(this.data.remove(_e).insert(_e,!0))}delete(_e){return this.has(_e)?this.copy(this.data.remove(_e)):this}isEmpty(){return this.data.isEmpty()}unionWith(_e){let Ce=this;return Ce.size<_e.size&&(Ce=_e,_e=this),_e.forEach(Pe=>{Ce=Ce.add(Pe)}),Ce}isEqual(_e){if(!(_e instanceof SortedSet)||this.size!==_e.size)return!1;const Ce=this.data.getIterator(),Pe=_e.data.getIterator();for(;Ce.hasNext();){const Re=Ce.getNext().key,Ie=Pe.getNext().key;if(this.comparator(Re,Ie)!==0)return!1}return!0}toArray(){const _e=[];return this.forEach(Ce=>{_e.push(Ce)}),_e}toString(){const _e=[];return this.forEach(Ce=>_e.push(Ce)),"SortedSet("+_e.toString()+")"}copy(_e){const Ce=new SortedSet(this.comparator);return Ce.data=_e,Ce}}class SortedSetIterator{constructor(_e){this.iter=_e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(_e){this.fields=_e,_e.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(_e){let Ce=new SortedSet(FieldPath$1.comparator);for(const Pe of this.fields)Ce=Ce.add(Pe);for(const Pe of _e)Ce=Ce.add(Pe);return new FieldMask(Ce.toArray())}covers(_e){for(const Ce of this.fields)if(Ce.isPrefixOf(_e))return!0;return!1}isEqual(_e){return __PRIVATE_arrayEquals(this.fields,_e.fields,(Ce,Pe)=>Ce.isEqual(Pe))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(_e){this.binaryString=_e}static fromBase64String(_e){const Ce=function(Re){try{return atob(Re)}catch(Ie){throw typeof DOMException<"u"&&Ie instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+Ie):Ie}}(_e);return new ByteString(Ce)}static fromUint8Array(_e){const Ce=function(Re){let Ie="";for(let Be=0;Be<Re.length;++Be)Ie+=String.fromCharCode(Re[Be]);return Ie}(_e);return new ByteString(Ce)}[Symbol.iterator](){let _e=0;return{next:()=>_e<this.binaryString.length?{value:this.binaryString.charCodeAt(_e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(Ce){return btoa(Ce)}(this.binaryString)}toUint8Array(){return function(Ce){const Pe=new Uint8Array(Ce.length);for(let Re=0;Re<Ce.length;Re++)Pe[Re]=Ce.charCodeAt(Re);return Pe}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(_e){return __PRIVATE_primitiveComparator(this.binaryString,_e.binaryString)}isEqual(_e){return this.binaryString===_e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const it$1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(Ee){if(__PRIVATE_hardAssert(!!Ee,39018),typeof Ee=="string"){let _e=0;const Ce=it$1.exec(Ee);if(__PRIVATE_hardAssert(!!Ce,46558,{timestamp:Ee}),Ce[1]){let Re=Ce[1];Re=(Re+"000000000").substr(0,9),_e=Number(Re)}const Pe=new Date(Ee);return{seconds:Math.floor(Pe.getTime()/1e3),nanos:_e}}return{seconds:__PRIVATE_normalizeNumber(Ee.seconds),nanos:__PRIVATE_normalizeNumber(Ee.nanos)}}function __PRIVATE_normalizeNumber(Ee){return typeof Ee=="number"?Ee:typeof Ee=="string"?Number(Ee):0}function __PRIVATE_normalizeByteString(Ee){return typeof Ee=="string"?ByteString.fromBase64String(Ee):ByteString.fromUint8Array(Ee)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st$2="server_timestamp",ot$1="__type__",_t$2="__previous_value__",at$2="__local_write_time__";function __PRIVATE_isServerTimestamp(Ee){var _e,Ce;return((Ce=(((_e=Ee?.mapValue)===null||_e===void 0?void 0:_e.fields)||{})[ot$1])===null||Ce===void 0?void 0:Ce.stringValue)===st$2}function __PRIVATE_getPreviousValue(Ee){const _e=Ee.mapValue.fields[_t$2];return __PRIVATE_isServerTimestamp(_e)?__PRIVATE_getPreviousValue(_e):_e}function __PRIVATE_getLocalWriteTime(Ee){const _e=__PRIVATE_normalizeTimestamp(Ee.mapValue.fields[at$2].timestampValue);return new Timestamp(_e.seconds,_e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(_e,Ce,Pe,Re,Ie,Be,je,De,Fe,Oe){this.databaseId=_e,this.appId=Ce,this.persistenceKey=Pe,this.host=Re,this.ssl=Ie,this.forceLongPolling=Be,this.autoDetectLongPolling=je,this.longPollingOptions=De,this.useFetchStreams=Fe,this.isUsingEmulator=Oe}}const ut$1="(default)";class DatabaseId{constructor(_e,Ce){this.projectId=_e,this.database=Ce||ut$1}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===ut$1}isEqual(_e){return _e instanceof DatabaseId&&_e.projectId===this.projectId&&_e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct$1="__type__",lt$2="__max__",ht$2={mapValue:{}},Pt$2="__vector__",Tt$1="value";function __PRIVATE_typeOrder(Ee){return"nullValue"in Ee?0:"booleanValue"in Ee?1:"integerValue"in Ee||"doubleValue"in Ee?2:"timestampValue"in Ee?3:"stringValue"in Ee?5:"bytesValue"in Ee?6:"referenceValue"in Ee?7:"geoPointValue"in Ee?8:"arrayValue"in Ee?9:"mapValue"in Ee?__PRIVATE_isServerTimestamp(Ee)?4:__PRIVATE_isMaxValue(Ee)?9007199254740991:__PRIVATE_isVectorValue(Ee)?10:11:fail(28295,{value:Ee})}function __PRIVATE_valueEquals(Ee,_e){if(Ee===_e)return!0;const Ce=__PRIVATE_typeOrder(Ee);if(Ce!==__PRIVATE_typeOrder(_e))return!1;switch(Ce){case 0:case 9007199254740991:return!0;case 1:return Ee.booleanValue===_e.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(Ee).isEqual(__PRIVATE_getLocalWriteTime(_e));case 3:return function(Re,Ie){if(typeof Re.timestampValue=="string"&&typeof Ie.timestampValue=="string"&&Re.timestampValue.length===Ie.timestampValue.length)return Re.timestampValue===Ie.timestampValue;const Be=__PRIVATE_normalizeTimestamp(Re.timestampValue),je=__PRIVATE_normalizeTimestamp(Ie.timestampValue);return Be.seconds===je.seconds&&Be.nanos===je.nanos}(Ee,_e);case 5:return Ee.stringValue===_e.stringValue;case 6:return function(Re,Ie){return __PRIVATE_normalizeByteString(Re.bytesValue).isEqual(__PRIVATE_normalizeByteString(Ie.bytesValue))}(Ee,_e);case 7:return Ee.referenceValue===_e.referenceValue;case 8:return function(Re,Ie){return __PRIVATE_normalizeNumber(Re.geoPointValue.latitude)===__PRIVATE_normalizeNumber(Ie.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(Re.geoPointValue.longitude)===__PRIVATE_normalizeNumber(Ie.geoPointValue.longitude)}(Ee,_e);case 2:return function(Re,Ie){if("integerValue"in Re&&"integerValue"in Ie)return __PRIVATE_normalizeNumber(Re.integerValue)===__PRIVATE_normalizeNumber(Ie.integerValue);if("doubleValue"in Re&&"doubleValue"in Ie){const Be=__PRIVATE_normalizeNumber(Re.doubleValue),je=__PRIVATE_normalizeNumber(Ie.doubleValue);return Be===je?__PRIVATE_isNegativeZero(Be)===__PRIVATE_isNegativeZero(je):isNaN(Be)&&isNaN(je)}return!1}(Ee,_e);case 9:return __PRIVATE_arrayEquals(Ee.arrayValue.values||[],_e.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(Re,Ie){const Be=Re.mapValue.fields||{},je=Ie.mapValue.fields||{};if(__PRIVATE_objectSize(Be)!==__PRIVATE_objectSize(je))return!1;for(const De in Be)if(Be.hasOwnProperty(De)&&(je[De]===void 0||!__PRIVATE_valueEquals(Be[De],je[De])))return!1;return!0}(Ee,_e);default:return fail(52216,{left:Ee})}}function __PRIVATE_arrayValueContains(Ee,_e){return(Ee.values||[]).find(Ce=>__PRIVATE_valueEquals(Ce,_e))!==void 0}function __PRIVATE_valueCompare(Ee,_e){if(Ee===_e)return 0;const Ce=__PRIVATE_typeOrder(Ee),Pe=__PRIVATE_typeOrder(_e);if(Ce!==Pe)return __PRIVATE_primitiveComparator(Ce,Pe);switch(Ce){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(Ee.booleanValue,_e.booleanValue);case 2:return function(Ie,Be){const je=__PRIVATE_normalizeNumber(Ie.integerValue||Ie.doubleValue),De=__PRIVATE_normalizeNumber(Be.integerValue||Be.doubleValue);return je<De?-1:je>De?1:je===De?0:isNaN(je)?isNaN(De)?0:-1:1}(Ee,_e);case 3:return __PRIVATE_compareTimestamps(Ee.timestampValue,_e.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(Ee),__PRIVATE_getLocalWriteTime(_e));case 5:return __PRIVATE_compareUtf8Strings(Ee.stringValue,_e.stringValue);case 6:return function(Ie,Be){const je=__PRIVATE_normalizeByteString(Ie),De=__PRIVATE_normalizeByteString(Be);return je.compareTo(De)}(Ee.bytesValue,_e.bytesValue);case 7:return function(Ie,Be){const je=Ie.split("/"),De=Be.split("/");for(let Fe=0;Fe<je.length&&Fe<De.length;Fe++){const Oe=__PRIVATE_primitiveComparator(je[Fe],De[Fe]);if(Oe!==0)return Oe}return __PRIVATE_primitiveComparator(je.length,De.length)}(Ee.referenceValue,_e.referenceValue);case 8:return function(Ie,Be){const je=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(Ie.latitude),__PRIVATE_normalizeNumber(Be.latitude));return je!==0?je:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(Ie.longitude),__PRIVATE_normalizeNumber(Be.longitude))}(Ee.geoPointValue,_e.geoPointValue);case 9:return __PRIVATE_compareArrays(Ee.arrayValue,_e.arrayValue);case 10:return function(Ie,Be){var je,De,Fe,Oe;const ke=Ie.fields||{},Me=Be.fields||{},$e=(je=ke[Tt$1])===null||je===void 0?void 0:je.arrayValue,He=(De=Me[Tt$1])===null||De===void 0?void 0:De.arrayValue,Qe=__PRIVATE_primitiveComparator(((Fe=$e?.values)===null||Fe===void 0?void 0:Fe.length)||0,((Oe=He?.values)===null||Oe===void 0?void 0:Oe.length)||0);return Qe!==0?Qe:__PRIVATE_compareArrays($e,He)}(Ee.mapValue,_e.mapValue);case 11:return function(Ie,Be){if(Ie===ht$2.mapValue&&Be===ht$2.mapValue)return 0;if(Ie===ht$2.mapValue)return 1;if(Be===ht$2.mapValue)return-1;const je=Ie.fields||{},De=Object.keys(je),Fe=Be.fields||{},Oe=Object.keys(Fe);De.sort(),Oe.sort();for(let ke=0;ke<De.length&&ke<Oe.length;++ke){const Me=__PRIVATE_compareUtf8Strings(De[ke],Oe[ke]);if(Me!==0)return Me;const $e=__PRIVATE_valueCompare(je[De[ke]],Fe[Oe[ke]]);if($e!==0)return $e}return __PRIVATE_primitiveComparator(De.length,Oe.length)}(Ee.mapValue,_e.mapValue);default:throw fail(23264,{le:Ce})}}function __PRIVATE_compareTimestamps(Ee,_e){if(typeof Ee=="string"&&typeof _e=="string"&&Ee.length===_e.length)return __PRIVATE_primitiveComparator(Ee,_e);const Ce=__PRIVATE_normalizeTimestamp(Ee),Pe=__PRIVATE_normalizeTimestamp(_e),Re=__PRIVATE_primitiveComparator(Ce.seconds,Pe.seconds);return Re!==0?Re:__PRIVATE_primitiveComparator(Ce.nanos,Pe.nanos)}function __PRIVATE_compareArrays(Ee,_e){const Ce=Ee.values||[],Pe=_e.values||[];for(let Re=0;Re<Ce.length&&Re<Pe.length;++Re){const Ie=__PRIVATE_valueCompare(Ce[Re],Pe[Re]);if(Ie)return Ie}return __PRIVATE_primitiveComparator(Ce.length,Pe.length)}function canonicalId(Ee){return __PRIVATE_canonifyValue(Ee)}function __PRIVATE_canonifyValue(Ee){return"nullValue"in Ee?"null":"booleanValue"in Ee?""+Ee.booleanValue:"integerValue"in Ee?""+Ee.integerValue:"doubleValue"in Ee?""+Ee.doubleValue:"timestampValue"in Ee?function(Ce){const Pe=__PRIVATE_normalizeTimestamp(Ce);return`time(${Pe.seconds},${Pe.nanos})`}(Ee.timestampValue):"stringValue"in Ee?Ee.stringValue:"bytesValue"in Ee?function(Ce){return __PRIVATE_normalizeByteString(Ce).toBase64()}(Ee.bytesValue):"referenceValue"in Ee?function(Ce){return DocumentKey.fromName(Ce).toString()}(Ee.referenceValue):"geoPointValue"in Ee?function(Ce){return`geo(${Ce.latitude},${Ce.longitude})`}(Ee.geoPointValue):"arrayValue"in Ee?function(Ce){let Pe="[",Re=!0;for(const Ie of Ce.values||[])Re?Re=!1:Pe+=",",Pe+=__PRIVATE_canonifyValue(Ie);return Pe+"]"}(Ee.arrayValue):"mapValue"in Ee?function(Ce){const Pe=Object.keys(Ce.fields||{}).sort();let Re="{",Ie=!0;for(const Be of Pe)Ie?Ie=!1:Re+=",",Re+=`${Be}:${__PRIVATE_canonifyValue(Ce.fields[Be])}`;return Re+"}"}(Ee.mapValue):fail(61005,{value:Ee})}function __PRIVATE_estimateByteSize(Ee){switch(__PRIVATE_typeOrder(Ee)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const _e=__PRIVATE_getPreviousValue(Ee);return _e?16+__PRIVATE_estimateByteSize(_e):16;case 5:return 2*Ee.stringValue.length;case 6:return __PRIVATE_normalizeByteString(Ee.bytesValue).approximateByteSize();case 7:return Ee.referenceValue.length;case 9:return function(Pe){return(Pe.values||[]).reduce((Re,Ie)=>Re+__PRIVATE_estimateByteSize(Ie),0)}(Ee.arrayValue);case 10:case 11:return function(Pe){let Re=0;return forEach$1(Pe.fields,(Ie,Be)=>{Re+=Ie.length+__PRIVATE_estimateByteSize(Be)}),Re}(Ee.mapValue);default:throw fail(13486,{value:Ee})}}function __PRIVATE_refValue(Ee,_e){return{referenceValue:`projects/${Ee.projectId}/databases/${Ee.database}/documents/${_e.path.canonicalString()}`}}function isInteger(Ee){return!!Ee&&"integerValue"in Ee}function isArray$1(Ee){return!!Ee&&"arrayValue"in Ee}function __PRIVATE_isNullValue(Ee){return!!Ee&&"nullValue"in Ee}function __PRIVATE_isNanValue(Ee){return!!Ee&&"doubleValue"in Ee&&isNaN(Number(Ee.doubleValue))}function __PRIVATE_isMapValue(Ee){return!!Ee&&"mapValue"in Ee}function __PRIVATE_isVectorValue(Ee){var _e,Ce;return((Ce=(((_e=Ee?.mapValue)===null||_e===void 0?void 0:_e.fields)||{})[ct$1])===null||Ce===void 0?void 0:Ce.stringValue)===Pt$2}function __PRIVATE_deepClone(Ee){if(Ee.geoPointValue)return{geoPointValue:Object.assign({},Ee.geoPointValue)};if(Ee.timestampValue&&typeof Ee.timestampValue=="object")return{timestampValue:Object.assign({},Ee.timestampValue)};if(Ee.mapValue){const _e={mapValue:{fields:{}}};return forEach$1(Ee.mapValue.fields,(Ce,Pe)=>_e.mapValue.fields[Ce]=__PRIVATE_deepClone(Pe)),_e}if(Ee.arrayValue){const _e={arrayValue:{values:[]}};for(let Ce=0;Ce<(Ee.arrayValue.values||[]).length;++Ce)_e.arrayValue.values[Ce]=__PRIVATE_deepClone(Ee.arrayValue.values[Ce]);return _e}return Object.assign({},Ee)}function __PRIVATE_isMaxValue(Ee){return(((Ee.mapValue||{}).fields||{}).__type__||{}).stringValue===lt$2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(_e){this.value=_e}static empty(){return new ObjectValue({mapValue:{}})}field(_e){if(_e.isEmpty())return this.value;{let Ce=this.value;for(let Pe=0;Pe<_e.length-1;++Pe)if(Ce=(Ce.mapValue.fields||{})[_e.get(Pe)],!__PRIVATE_isMapValue(Ce))return null;return Ce=(Ce.mapValue.fields||{})[_e.lastSegment()],Ce||null}}set(_e,Ce){this.getFieldsMap(_e.popLast())[_e.lastSegment()]=__PRIVATE_deepClone(Ce)}setAll(_e){let Ce=FieldPath$1.emptyPath(),Pe={},Re=[];_e.forEach((Be,je)=>{if(!Ce.isImmediateParentOf(je)){const De=this.getFieldsMap(Ce);this.applyChanges(De,Pe,Re),Pe={},Re=[],Ce=je.popLast()}Be?Pe[je.lastSegment()]=__PRIVATE_deepClone(Be):Re.push(je.lastSegment())});const Ie=this.getFieldsMap(Ce);this.applyChanges(Ie,Pe,Re)}delete(_e){const Ce=this.field(_e.popLast());__PRIVATE_isMapValue(Ce)&&Ce.mapValue.fields&&delete Ce.mapValue.fields[_e.lastSegment()]}isEqual(_e){return __PRIVATE_valueEquals(this.value,_e.value)}getFieldsMap(_e){let Ce=this.value;Ce.mapValue.fields||(Ce.mapValue={fields:{}});for(let Pe=0;Pe<_e.length;++Pe){let Re=Ce.mapValue.fields[_e.get(Pe)];__PRIVATE_isMapValue(Re)&&Re.mapValue.fields||(Re={mapValue:{fields:{}}},Ce.mapValue.fields[_e.get(Pe)]=Re),Ce=Re}return Ce.mapValue.fields}applyChanges(_e,Ce,Pe){forEach$1(Ce,(Re,Ie)=>_e[Re]=Ie);for(const Re of Pe)delete _e[Re]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(Ee){const _e=[];return forEach$1(Ee.fields,(Ce,Pe)=>{const Re=new FieldPath$1([Ce]);if(__PRIVATE_isMapValue(Pe)){const Ie=__PRIVATE_extractFieldMask(Pe.mapValue).fields;if(Ie.length===0)_e.push(Re);else for(const Be of Ie)_e.push(Re.child(Be))}else _e.push(Re)}),new FieldMask(_e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(_e,Ce,Pe,Re,Ie,Be,je){this.key=_e,this.documentType=Ce,this.version=Pe,this.readTime=Re,this.createTime=Ie,this.data=Be,this.documentState=je}static newInvalidDocument(_e){return new MutableDocument(_e,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(_e,Ce,Pe,Re){return new MutableDocument(_e,1,Ce,SnapshotVersion.min(),Pe,Re,0)}static newNoDocument(_e,Ce){return new MutableDocument(_e,2,Ce,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(_e,Ce){return new MutableDocument(_e,3,Ce,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(_e,Ce){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=_e),this.version=_e,this.documentType=1,this.data=Ce,this.documentState=0,this}convertToNoDocument(_e){return this.version=_e,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(_e){return this.version=_e,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(_e){return this.readTime=_e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(_e){return _e instanceof MutableDocument&&this.key.isEqual(_e.key)&&this.version.isEqual(_e.version)&&this.documentType===_e.documentType&&this.documentState===_e.documentState&&this.data.isEqual(_e.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(_e,Ce){this.position=_e,this.inclusive=Ce}}function __PRIVATE_boundCompareToDocument(Ee,_e,Ce){let Pe=0;for(let Re=0;Re<Ee.position.length;Re++){const Ie=_e[Re],Be=Ee.position[Re];if(Ie.field.isKeyField()?Pe=DocumentKey.comparator(DocumentKey.fromName(Be.referenceValue),Ce.key):Pe=__PRIVATE_valueCompare(Be,Ce.data.field(Ie.field)),Ie.dir==="desc"&&(Pe*=-1),Pe!==0)break}return Pe}function __PRIVATE_boundEquals(Ee,_e){if(Ee===null)return _e===null;if(_e===null||Ee.inclusive!==_e.inclusive||Ee.position.length!==_e.position.length)return!1;for(let Ce=0;Ce<Ee.position.length;Ce++)if(!__PRIVATE_valueEquals(Ee.position[Ce],_e.position[Ce]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(_e,Ce="asc"){this.field=_e,this.dir=Ce}}function __PRIVATE_orderByEquals(Ee,_e){return Ee.dir===_e.dir&&Ee.field.isEqual(_e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(_e,Ce,Pe){super(),this.field=_e,this.op=Ce,this.value=Pe}static create(_e,Ce,Pe){return _e.isKeyField()?Ce==="in"||Ce==="not-in"?this.createKeyFieldInFilter(_e,Ce,Pe):new __PRIVATE_KeyFieldFilter(_e,Ce,Pe):Ce==="array-contains"?new __PRIVATE_ArrayContainsFilter(_e,Pe):Ce==="in"?new __PRIVATE_InFilter(_e,Pe):Ce==="not-in"?new __PRIVATE_NotInFilter(_e,Pe):Ce==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(_e,Pe):new FieldFilter(_e,Ce,Pe)}static createKeyFieldInFilter(_e,Ce,Pe){return Ce==="in"?new __PRIVATE_KeyFieldInFilter(_e,Pe):new __PRIVATE_KeyFieldNotInFilter(_e,Pe)}matches(_e){const Ce=_e.data.field(this.field);return this.op==="!="?Ce!==null&&Ce.nullValue===void 0&&this.matchesComparison(__PRIVATE_valueCompare(Ce,this.value)):Ce!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(Ce)&&this.matchesComparison(__PRIVATE_valueCompare(Ce,this.value))}matchesComparison(_e){switch(this.op){case"<":return _e<0;case"<=":return _e<=0;case"==":return _e===0;case"!=":return _e!==0;case">":return _e>0;case">=":return _e>=0;default:return fail(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(_e,Ce){super(),this.filters=_e,this.op=Ce,this.he=null}static create(_e,Ce){return new CompositeFilter(_e,Ce)}matches(_e){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(Ce=>!Ce.matches(_e))===void 0:this.filters.find(Ce=>Ce.matches(_e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((_e,Ce)=>_e.concat(Ce.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(Ee){return Ee.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(Ee){return __PRIVATE_compositeFilterIsFlat(Ee)&&__PRIVATE_compositeFilterIsConjunction(Ee)}function __PRIVATE_compositeFilterIsFlat(Ee){for(const _e of Ee.filters)if(_e instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(Ee){if(Ee instanceof FieldFilter)return Ee.field.canonicalString()+Ee.op.toString()+canonicalId(Ee.value);if(__PRIVATE_compositeFilterIsFlatConjunction(Ee))return Ee.filters.map(_e=>__PRIVATE_canonifyFilter(_e)).join(",");{const _e=Ee.filters.map(Ce=>__PRIVATE_canonifyFilter(Ce)).join(",");return`${Ee.op}(${_e})`}}function __PRIVATE_filterEquals(Ee,_e){return Ee instanceof FieldFilter?function(Pe,Re){return Re instanceof FieldFilter&&Pe.op===Re.op&&Pe.field.isEqual(Re.field)&&__PRIVATE_valueEquals(Pe.value,Re.value)}(Ee,_e):Ee instanceof CompositeFilter?function(Pe,Re){return Re instanceof CompositeFilter&&Pe.op===Re.op&&Pe.filters.length===Re.filters.length?Pe.filters.reduce((Ie,Be,je)=>Ie&&__PRIVATE_filterEquals(Be,Re.filters[je]),!0):!1}(Ee,_e):void fail(19439)}function __PRIVATE_stringifyFilter(Ee){return Ee instanceof FieldFilter?function(Ce){return`${Ce.field.canonicalString()} ${Ce.op} ${canonicalId(Ce.value)}`}(Ee):Ee instanceof CompositeFilter?function(Ce){return Ce.op.toString()+" {"+Ce.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(Ee):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(_e,Ce,Pe){super(_e,Ce,Pe),this.key=DocumentKey.fromName(Pe.referenceValue)}matches(_e){const Ce=DocumentKey.comparator(_e.key,this.key);return this.matchesComparison(Ce)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(_e,Ce){super(_e,"in",Ce),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",Ce)}matches(_e){return this.keys.some(Ce=>Ce.isEqual(_e.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(_e,Ce){super(_e,"not-in",Ce),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",Ce)}matches(_e){return!this.keys.some(Ce=>Ce.isEqual(_e.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(Ee,_e){var Ce;return(((Ce=_e.arrayValue)===null||Ce===void 0?void 0:Ce.values)||[]).map(Pe=>DocumentKey.fromName(Pe.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(_e,Ce){super(_e,"array-contains",Ce)}matches(_e){const Ce=_e.data.field(this.field);return isArray$1(Ce)&&__PRIVATE_arrayValueContains(Ce.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(_e,Ce){super(_e,"in",Ce)}matches(_e){const Ce=_e.data.field(this.field);return Ce!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,Ce)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(_e,Ce){super(_e,"not-in",Ce)}matches(_e){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const Ce=_e.data.field(this.field);return Ce!==null&&Ce.nullValue===void 0&&!__PRIVATE_arrayValueContains(this.value.arrayValue,Ce)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(_e,Ce){super(_e,"array-contains-any",Ce)}matches(_e){const Ce=_e.data.field(this.field);return!(!isArray$1(Ce)||!Ce.arrayValue.values)&&Ce.arrayValue.values.some(Pe=>__PRIVATE_arrayValueContains(this.value.arrayValue,Pe))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(_e,Ce=null,Pe=[],Re=[],Ie=null,Be=null,je=null){this.path=_e,this.collectionGroup=Ce,this.orderBy=Pe,this.filters=Re,this.limit=Ie,this.startAt=Be,this.endAt=je,this.Pe=null}}function __PRIVATE_newTarget(Ee,_e=null,Ce=[],Pe=[],Re=null,Ie=null,Be=null){return new __PRIVATE_TargetImpl(Ee,_e,Ce,Pe,Re,Ie,Be)}function __PRIVATE_canonifyTarget(Ee){const _e=__PRIVATE_debugCast(Ee);if(_e.Pe===null){let Ce=_e.path.canonicalString();_e.collectionGroup!==null&&(Ce+="|cg:"+_e.collectionGroup),Ce+="|f:",Ce+=_e.filters.map(Pe=>__PRIVATE_canonifyFilter(Pe)).join(","),Ce+="|ob:",Ce+=_e.orderBy.map(Pe=>function(Ie){return Ie.field.canonicalString()+Ie.dir}(Pe)).join(","),__PRIVATE_isNullOrUndefined(_e.limit)||(Ce+="|l:",Ce+=_e.limit),_e.startAt&&(Ce+="|lb:",Ce+=_e.startAt.inclusive?"b:":"a:",Ce+=_e.startAt.position.map(Pe=>canonicalId(Pe)).join(",")),_e.endAt&&(Ce+="|ub:",Ce+=_e.endAt.inclusive?"a:":"b:",Ce+=_e.endAt.position.map(Pe=>canonicalId(Pe)).join(",")),_e.Pe=Ce}return _e.Pe}function __PRIVATE_targetEquals(Ee,_e){if(Ee.limit!==_e.limit||Ee.orderBy.length!==_e.orderBy.length)return!1;for(let Ce=0;Ce<Ee.orderBy.length;Ce++)if(!__PRIVATE_orderByEquals(Ee.orderBy[Ce],_e.orderBy[Ce]))return!1;if(Ee.filters.length!==_e.filters.length)return!1;for(let Ce=0;Ce<Ee.filters.length;Ce++)if(!__PRIVATE_filterEquals(Ee.filters[Ce],_e.filters[Ce]))return!1;return Ee.collectionGroup===_e.collectionGroup&&!!Ee.path.isEqual(_e.path)&&!!__PRIVATE_boundEquals(Ee.startAt,_e.startAt)&&__PRIVATE_boundEquals(Ee.endAt,_e.endAt)}function __PRIVATE_targetIsDocumentTarget(Ee){return DocumentKey.isDocumentKey(Ee.path)&&Ee.collectionGroup===null&&Ee.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(_e,Ce=null,Pe=[],Re=[],Ie=null,Be="F",je=null,De=null){this.path=_e,this.collectionGroup=Ce,this.explicitOrderBy=Pe,this.filters=Re,this.limit=Ie,this.limitType=Be,this.startAt=je,this.endAt=De,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(Ee,_e,Ce,Pe,Re,Ie,Be,je){return new __PRIVATE_QueryImpl(Ee,_e,Ce,Pe,Re,Ie,Be,je)}function __PRIVATE_newQueryForPath(Ee){return new __PRIVATE_QueryImpl(Ee)}function __PRIVATE_queryMatchesAllDocuments(Ee){return Ee.filters.length===0&&Ee.limit===null&&Ee.startAt==null&&Ee.endAt==null&&(Ee.explicitOrderBy.length===0||Ee.explicitOrderBy.length===1&&Ee.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(Ee){return Ee.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(Ee){const _e=__PRIVATE_debugCast(Ee);if(_e.Te===null){_e.Te=[];const Ce=new Set;for(const Ie of _e.explicitOrderBy)_e.Te.push(Ie),Ce.add(Ie.field.canonicalString());const Pe=_e.explicitOrderBy.length>0?_e.explicitOrderBy[_e.explicitOrderBy.length-1].dir:"asc";(function(Be){let je=new SortedSet(FieldPath$1.comparator);return Be.filters.forEach(De=>{De.getFlattenedFilters().forEach(Fe=>{Fe.isInequality()&&(je=je.add(Fe.field))})}),je})(_e).forEach(Ie=>{Ce.has(Ie.canonicalString())||Ie.isKeyField()||_e.Te.push(new OrderBy(Ie,Pe))}),Ce.has(FieldPath$1.keyField().canonicalString())||_e.Te.push(new OrderBy(FieldPath$1.keyField(),Pe))}return _e.Te}function __PRIVATE_queryToTarget(Ee){const _e=__PRIVATE_debugCast(Ee);return _e.Ie||(_e.Ie=__PRIVATE__queryToTarget(_e,__PRIVATE_queryNormalizedOrderBy(Ee))),_e.Ie}function __PRIVATE__queryToTarget(Ee,_e){if(Ee.limitType==="F")return __PRIVATE_newTarget(Ee.path,Ee.collectionGroup,_e,Ee.filters,Ee.limit,Ee.startAt,Ee.endAt);{_e=_e.map(Re=>{const Ie=Re.dir==="desc"?"asc":"desc";return new OrderBy(Re.field,Ie)});const Ce=Ee.endAt?new Bound(Ee.endAt.position,Ee.endAt.inclusive):null,Pe=Ee.startAt?new Bound(Ee.startAt.position,Ee.startAt.inclusive):null;return __PRIVATE_newTarget(Ee.path,Ee.collectionGroup,_e,Ee.filters,Ee.limit,Ce,Pe)}}function __PRIVATE_queryWithAddedFilter(Ee,_e){const Ce=Ee.filters.concat([_e]);return new __PRIVATE_QueryImpl(Ee.path,Ee.collectionGroup,Ee.explicitOrderBy.slice(),Ce,Ee.limit,Ee.limitType,Ee.startAt,Ee.endAt)}function __PRIVATE_queryWithLimit(Ee,_e,Ce){return new __PRIVATE_QueryImpl(Ee.path,Ee.collectionGroup,Ee.explicitOrderBy.slice(),Ee.filters.slice(),_e,Ce,Ee.startAt,Ee.endAt)}function __PRIVATE_queryEquals(Ee,_e){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(Ee),__PRIVATE_queryToTarget(_e))&&Ee.limitType===_e.limitType}function __PRIVATE_canonifyQuery(Ee){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(Ee))}|lt:${Ee.limitType}`}function __PRIVATE_stringifyQuery(Ee){return`Query(target=${function(Ce){let Pe=Ce.path.canonicalString();return Ce.collectionGroup!==null&&(Pe+=" collectionGroup="+Ce.collectionGroup),Ce.filters.length>0&&(Pe+=`, filters: [${Ce.filters.map(Re=>__PRIVATE_stringifyFilter(Re)).join(", ")}]`),__PRIVATE_isNullOrUndefined(Ce.limit)||(Pe+=", limit: "+Ce.limit),Ce.orderBy.length>0&&(Pe+=`, orderBy: [${Ce.orderBy.map(Re=>function(Be){return`${Be.field.canonicalString()} (${Be.dir})`}(Re)).join(", ")}]`),Ce.startAt&&(Pe+=", startAt: ",Pe+=Ce.startAt.inclusive?"b:":"a:",Pe+=Ce.startAt.position.map(Re=>canonicalId(Re)).join(",")),Ce.endAt&&(Pe+=", endAt: ",Pe+=Ce.endAt.inclusive?"a:":"b:",Pe+=Ce.endAt.position.map(Re=>canonicalId(Re)).join(",")),`Target(${Pe})`}(__PRIVATE_queryToTarget(Ee))}; limitType=${Ee.limitType})`}function __PRIVATE_queryMatches(Ee,_e){return _e.isFoundDocument()&&function(Pe,Re){const Ie=Re.key.path;return Pe.collectionGroup!==null?Re.key.hasCollectionId(Pe.collectionGroup)&&Pe.path.isPrefixOf(Ie):DocumentKey.isDocumentKey(Pe.path)?Pe.path.isEqual(Ie):Pe.path.isImmediateParentOf(Ie)}(Ee,_e)&&function(Pe,Re){for(const Ie of __PRIVATE_queryNormalizedOrderBy(Pe))if(!Ie.field.isKeyField()&&Re.data.field(Ie.field)===null)return!1;return!0}(Ee,_e)&&function(Pe,Re){for(const Ie of Pe.filters)if(!Ie.matches(Re))return!1;return!0}(Ee,_e)&&function(Pe,Re){return!(Pe.startAt&&!function(Be,je,De){const Fe=__PRIVATE_boundCompareToDocument(Be,je,De);return Be.inclusive?Fe<=0:Fe<0}(Pe.startAt,__PRIVATE_queryNormalizedOrderBy(Pe),Re)||Pe.endAt&&!function(Be,je,De){const Fe=__PRIVATE_boundCompareToDocument(Be,je,De);return Be.inclusive?Fe>=0:Fe>0}(Pe.endAt,__PRIVATE_queryNormalizedOrderBy(Pe),Re))}(Ee,_e)}function __PRIVATE_queryCollectionGroup(Ee){return Ee.collectionGroup||(Ee.path.length%2==1?Ee.path.lastSegment():Ee.path.get(Ee.path.length-2))}function __PRIVATE_newQueryComparator(Ee){return(_e,Ce)=>{let Pe=!1;for(const Re of __PRIVATE_queryNormalizedOrderBy(Ee)){const Ie=__PRIVATE_compareDocs(Re,_e,Ce);if(Ie!==0)return Ie;Pe=Pe||Re.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(Ee,_e,Ce){const Pe=Ee.field.isKeyField()?DocumentKey.comparator(_e.key,Ce.key):function(Ie,Be,je){const De=Be.data.field(Ie),Fe=je.data.field(Ie);return De!==null&&Fe!==null?__PRIVATE_valueCompare(De,Fe):fail(42886)}(Ee.field,_e,Ce);switch(Ee.dir){case"asc":return Pe;case"desc":return-1*Pe;default:return fail(19790,{direction:Ee.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(_e,Ce){this.mapKeyFn=_e,this.equalsFn=Ce,this.inner={},this.innerSize=0}get(_e){const Ce=this.mapKeyFn(_e),Pe=this.inner[Ce];if(Pe!==void 0){for(const[Re,Ie]of Pe)if(this.equalsFn(Re,_e))return Ie}}has(_e){return this.get(_e)!==void 0}set(_e,Ce){const Pe=this.mapKeyFn(_e),Re=this.inner[Pe];if(Re===void 0)return this.inner[Pe]=[[_e,Ce]],void this.innerSize++;for(let Ie=0;Ie<Re.length;Ie++)if(this.equalsFn(Re[Ie][0],_e))return void(Re[Ie]=[_e,Ce]);Re.push([_e,Ce]),this.innerSize++}delete(_e){const Ce=this.mapKeyFn(_e),Pe=this.inner[Ce];if(Pe===void 0)return!1;for(let Re=0;Re<Pe.length;Re++)if(this.equalsFn(Pe[Re][0],_e))return Pe.length===1?delete this.inner[Ce]:Pe.splice(Re,1),this.innerSize--,!0;return!1}forEach(_e){forEach$1(this.inner,(Ce,Pe)=>{for(const[Re,Ie]of Pe)_e(Re,Ie)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et$2=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return Et$2}const At$2=new SortedMap(DocumentKey.comparator);function documentMap(...Ee){let _e=At$2;for(const Ce of Ee)_e=_e.insert(Ce.key,Ce);return _e}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(Ee){let _e=At$2;return Ee.forEach((Ce,Pe)=>_e=_e.insert(Ce,Pe.overlayedDocument)),_e}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(Ee=>Ee.toString(),(Ee,_e)=>Ee.isEqual(_e))}const Rt$1=new SortedMap(DocumentKey.comparator),Vt$2=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...Ee){let _e=Vt$2;for(const Ce of Ee)_e=_e.add(Ce);return _e}const mt$2=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return mt$2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(Ee,_e){if(Ee.useProto3Json){if(isNaN(_e))return{doubleValue:"NaN"};if(_e===1/0)return{doubleValue:"Infinity"};if(_e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(_e)?"-0":_e}}function __PRIVATE_toInteger(Ee){return{integerValue:""+Ee}}function toNumber$1(Ee,_e){return isSafeInteger(_e)?__PRIVATE_toInteger(_e):__PRIVATE_toDouble(Ee,_e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(Ee,_e,Ce){return Ee instanceof __PRIVATE_ServerTimestampTransform?function(Re,Ie){const Be={fields:{[ot$1]:{stringValue:st$2},[at$2]:{timestampValue:{seconds:Re.seconds,nanos:Re.nanoseconds}}}};return Ie&&__PRIVATE_isServerTimestamp(Ie)&&(Ie=__PRIVATE_getPreviousValue(Ie)),Ie&&(Be.fields[_t$2]=Ie),{mapValue:Be}}(Ce,_e):Ee instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(Ee,_e):Ee instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(Ee,_e):function(Re,Ie){const Be=__PRIVATE_computeTransformOperationBaseValue(Re,Ie),je=asNumber$1(Be)+asNumber$1(Re.Ee);return isInteger(Be)&&isInteger(Re.Ee)?__PRIVATE_toInteger(je):__PRIVATE_toDouble(Re.serializer,je)}(Ee,_e)}function __PRIVATE_applyTransformOperationToRemoteDocument(Ee,_e,Ce){return Ee instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(Ee,_e):Ee instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(Ee,_e):Ce}function __PRIVATE_computeTransformOperationBaseValue(Ee,_e){return Ee instanceof __PRIVATE_NumericIncrementTransformOperation?function(Pe){return isInteger(Pe)||function(Ie){return!!Ie&&"doubleValue"in Ie}(Pe)}(_e)?_e:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(_e){super(),this.elements=_e}}function __PRIVATE_applyArrayUnionTransformOperation(Ee,_e){const Ce=__PRIVATE_coercedFieldValuesArray(_e);for(const Pe of Ee.elements)Ce.some(Re=>__PRIVATE_valueEquals(Re,Pe))||Ce.push(Pe);return{arrayValue:{values:Ce}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(_e){super(),this.elements=_e}}function __PRIVATE_applyArrayRemoveTransformOperation(Ee,_e){let Ce=__PRIVATE_coercedFieldValuesArray(_e);for(const Pe of Ee.elements)Ce=Ce.filter(Re=>!__PRIVATE_valueEquals(Re,Pe));return{arrayValue:{values:Ce}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(_e,Ce){super(),this.serializer=_e,this.Ee=Ce}}function asNumber$1(Ee){return __PRIVATE_normalizeNumber(Ee.integerValue||Ee.doubleValue)}function __PRIVATE_coercedFieldValuesArray(Ee){return isArray$1(Ee)&&Ee.arrayValue.values?Ee.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldTransform{constructor(_e,Ce){this.field=_e,this.transform=Ce}}function __PRIVATE_fieldTransformEquals(Ee,_e){return Ee.field.isEqual(_e.field)&&function(Pe,Re){return Pe instanceof __PRIVATE_ArrayUnionTransformOperation&&Re instanceof __PRIVATE_ArrayUnionTransformOperation||Pe instanceof __PRIVATE_ArrayRemoveTransformOperation&&Re instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(Pe.elements,Re.elements,__PRIVATE_valueEquals):Pe instanceof __PRIVATE_NumericIncrementTransformOperation&&Re instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(Pe.Ee,Re.Ee):Pe instanceof __PRIVATE_ServerTimestampTransform&&Re instanceof __PRIVATE_ServerTimestampTransform}(Ee.transform,_e.transform)}class MutationResult{constructor(_e,Ce){this.version=_e,this.transformResults=Ce}}class Precondition{constructor(_e,Ce){this.updateTime=_e,this.exists=Ce}static none(){return new Precondition}static exists(_e){return new Precondition(void 0,_e)}static updateTime(_e){return new Precondition(_e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(_e){return this.exists===_e.exists&&(this.updateTime?!!_e.updateTime&&this.updateTime.isEqual(_e.updateTime):!_e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(Ee,_e){return Ee.updateTime!==void 0?_e.isFoundDocument()&&_e.version.isEqual(Ee.updateTime):Ee.exists===void 0||Ee.exists===_e.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(Ee,_e){if(!Ee.hasLocalMutations||_e&&_e.fields.length===0)return null;if(_e===null)return Ee.isNoDocument()?new __PRIVATE_DeleteMutation(Ee.key,Precondition.none()):new __PRIVATE_SetMutation(Ee.key,Ee.data,Precondition.none());{const Ce=Ee.data,Pe=ObjectValue.empty();let Re=new SortedSet(FieldPath$1.comparator);for(let Ie of _e.fields)if(!Re.has(Ie)){let Be=Ce.field(Ie);Be===null&&Ie.length>1&&(Ie=Ie.popLast(),Be=Ce.field(Ie)),Be===null?Pe.delete(Ie):Pe.set(Ie,Be),Re=Re.add(Ie)}return new __PRIVATE_PatchMutation(Ee.key,Pe,new FieldMask(Re.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(Ee,_e,Ce){Ee instanceof __PRIVATE_SetMutation?function(Re,Ie,Be){const je=Re.value.clone(),De=__PRIVATE_serverTransformResults(Re.fieldTransforms,Ie,Be.transformResults);je.setAll(De),Ie.convertToFoundDocument(Be.version,je).setHasCommittedMutations()}(Ee,_e,Ce):Ee instanceof __PRIVATE_PatchMutation?function(Re,Ie,Be){if(!__PRIVATE_preconditionIsValidForDocument(Re.precondition,Ie))return void Ie.convertToUnknownDocument(Be.version);const je=__PRIVATE_serverTransformResults(Re.fieldTransforms,Ie,Be.transformResults),De=Ie.data;De.setAll(__PRIVATE_getPatch(Re)),De.setAll(je),Ie.convertToFoundDocument(Be.version,De).setHasCommittedMutations()}(Ee,_e,Ce):function(Re,Ie,Be){Ie.convertToNoDocument(Be.version).setHasCommittedMutations()}(0,_e,Ce)}function __PRIVATE_mutationApplyToLocalView(Ee,_e,Ce,Pe){return Ee instanceof __PRIVATE_SetMutation?function(Ie,Be,je,De){if(!__PRIVATE_preconditionIsValidForDocument(Ie.precondition,Be))return je;const Fe=Ie.value.clone(),Oe=__PRIVATE_localTransformResults(Ie.fieldTransforms,De,Be);return Fe.setAll(Oe),Be.convertToFoundDocument(Be.version,Fe).setHasLocalMutations(),null}(Ee,_e,Ce,Pe):Ee instanceof __PRIVATE_PatchMutation?function(Ie,Be,je,De){if(!__PRIVATE_preconditionIsValidForDocument(Ie.precondition,Be))return je;const Fe=__PRIVATE_localTransformResults(Ie.fieldTransforms,De,Be),Oe=Be.data;return Oe.setAll(__PRIVATE_getPatch(Ie)),Oe.setAll(Fe),Be.convertToFoundDocument(Be.version,Oe).setHasLocalMutations(),je===null?null:je.unionWith(Ie.fieldMask.fields).unionWith(Ie.fieldTransforms.map(ke=>ke.field))}(Ee,_e,Ce,Pe):function(Ie,Be,je){return __PRIVATE_preconditionIsValidForDocument(Ie.precondition,Be)?(Be.convertToNoDocument(Be.version).setHasLocalMutations(),null):je}(Ee,_e,Ce)}function __PRIVATE_mutationExtractBaseValue(Ee,_e){let Ce=null;for(const Pe of Ee.fieldTransforms){const Re=_e.data.field(Pe.field),Ie=__PRIVATE_computeTransformOperationBaseValue(Pe.transform,Re||null);Ie!=null&&(Ce===null&&(Ce=ObjectValue.empty()),Ce.set(Pe.field,Ie))}return Ce||null}function __PRIVATE_mutationEquals(Ee,_e){return Ee.type===_e.type&&!!Ee.key.isEqual(_e.key)&&!!Ee.precondition.isEqual(_e.precondition)&&!!function(Pe,Re){return Pe===void 0&&Re===void 0||!(!Pe||!Re)&&__PRIVATE_arrayEquals(Pe,Re,(Ie,Be)=>__PRIVATE_fieldTransformEquals(Ie,Be))}(Ee.fieldTransforms,_e.fieldTransforms)&&(Ee.type===0?Ee.value.isEqual(_e.value):Ee.type!==1||Ee.data.isEqual(_e.data)&&Ee.fieldMask.isEqual(_e.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(_e,Ce,Pe,Re=[]){super(),this.key=_e,this.value=Ce,this.precondition=Pe,this.fieldTransforms=Re,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(_e,Ce,Pe,Re,Ie=[]){super(),this.key=_e,this.data=Ce,this.fieldMask=Pe,this.precondition=Re,this.fieldTransforms=Ie,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(Ee){const _e=new Map;return Ee.fieldMask.fields.forEach(Ce=>{if(!Ce.isEmpty()){const Pe=Ee.data.field(Ce);_e.set(Ce,Pe)}}),_e}function __PRIVATE_serverTransformResults(Ee,_e,Ce){const Pe=new Map;__PRIVATE_hardAssert(Ee.length===Ce.length,32656,{Ae:Ce.length,Re:Ee.length});for(let Re=0;Re<Ce.length;Re++){const Ie=Ee[Re],Be=Ie.transform,je=_e.data.field(Ie.field);Pe.set(Ie.field,__PRIVATE_applyTransformOperationToRemoteDocument(Be,je,Ce[Re]))}return Pe}function __PRIVATE_localTransformResults(Ee,_e,Ce){const Pe=new Map;for(const Re of Ee){const Ie=Re.transform,Be=Ce.data.field(Re.field);Pe.set(Re.field,__PRIVATE_applyTransformOperationToLocalView(Ie,Be,_e))}return Pe}class __PRIVATE_DeleteMutation extends Mutation{constructor(_e,Ce){super(),this.key=_e,this.precondition=Ce,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(_e,Ce){super(),this.key=_e,this.precondition=Ce,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(_e,Ce,Pe,Re){this.batchId=_e,this.localWriteTime=Ce,this.baseMutations=Pe,this.mutations=Re}applyToRemoteDocument(_e,Ce){const Pe=Ce.mutationResults;for(let Re=0;Re<this.mutations.length;Re++){const Ie=this.mutations[Re];Ie.key.isEqual(_e.key)&&__PRIVATE_mutationApplyToRemoteDocument(Ie,_e,Pe[Re])}}applyToLocalView(_e,Ce){for(const Pe of this.baseMutations)Pe.key.isEqual(_e.key)&&(Ce=__PRIVATE_mutationApplyToLocalView(Pe,_e,Ce,this.localWriteTime));for(const Pe of this.mutations)Pe.key.isEqual(_e.key)&&(Ce=__PRIVATE_mutationApplyToLocalView(Pe,_e,Ce,this.localWriteTime));return Ce}applyToLocalDocumentSet(_e,Ce){const Pe=__PRIVATE_newMutationMap();return this.mutations.forEach(Re=>{const Ie=_e.get(Re.key),Be=Ie.overlayedDocument;let je=this.applyToLocalView(Be,Ie.mutatedFields);je=Ce.has(Re.key)?null:je;const De=__PRIVATE_calculateOverlayMutation(Be,je);De!==null&&Pe.set(Re.key,De),Be.isValidDocument()||Be.convertToNoDocument(SnapshotVersion.min())}),Pe}keys(){return this.mutations.reduce((_e,Ce)=>_e.add(Ce.key),__PRIVATE_documentKeySet())}isEqual(_e){return this.batchId===_e.batchId&&__PRIVATE_arrayEquals(this.mutations,_e.mutations,(Ce,Pe)=>__PRIVATE_mutationEquals(Ce,Pe))&&__PRIVATE_arrayEquals(this.baseMutations,_e.baseMutations,(Ce,Pe)=>__PRIVATE_mutationEquals(Ce,Pe))}}class MutationBatchResult{constructor(_e,Ce,Pe,Re){this.batch=_e,this.commitVersion=Ce,this.mutationResults=Pe,this.docVersions=Re}static from(_e,Ce,Pe){__PRIVATE_hardAssert(_e.mutations.length===Pe.length,58842,{Ve:_e.mutations.length,me:Pe.length});let Re=function(){return Rt$1}();const Ie=_e.mutations;for(let Be=0;Be<Ie.length;Be++)Re=Re.insert(Ie[Be].key,Pe[Be].version);return new MutationBatchResult(_e,Ce,Pe,Re)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(_e,Ce){this.largestBatchId=_e,this.mutation=Ce}getKey(){return this.mutation.key}isEqual(_e){return _e!==null&&this.mutation===_e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(_e,Ce){this.count=_e,this.unchangedNames=Ce}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft$1,gt$2;function __PRIVATE_isPermanentError(Ee){switch(Ee){case N$2.OK:return fail(64938);case N$2.CANCELLED:case N$2.UNKNOWN:case N$2.DEADLINE_EXCEEDED:case N$2.RESOURCE_EXHAUSTED:case N$2.INTERNAL:case N$2.UNAVAILABLE:case N$2.UNAUTHENTICATED:return!1;case N$2.INVALID_ARGUMENT:case N$2.NOT_FOUND:case N$2.ALREADY_EXISTS:case N$2.PERMISSION_DENIED:case N$2.FAILED_PRECONDITION:case N$2.ABORTED:case N$2.OUT_OF_RANGE:case N$2.UNIMPLEMENTED:case N$2.DATA_LOSS:return!0;default:return fail(15467,{code:Ee})}}function __PRIVATE_mapCodeFromRpcCode(Ee){if(Ee===void 0)return __PRIVATE_logError("GRPC error has no .code"),N$2.UNKNOWN;switch(Ee){case ft$1.OK:return N$2.OK;case ft$1.CANCELLED:return N$2.CANCELLED;case ft$1.UNKNOWN:return N$2.UNKNOWN;case ft$1.DEADLINE_EXCEEDED:return N$2.DEADLINE_EXCEEDED;case ft$1.RESOURCE_EXHAUSTED:return N$2.RESOURCE_EXHAUSTED;case ft$1.INTERNAL:return N$2.INTERNAL;case ft$1.UNAVAILABLE:return N$2.UNAVAILABLE;case ft$1.UNAUTHENTICATED:return N$2.UNAUTHENTICATED;case ft$1.INVALID_ARGUMENT:return N$2.INVALID_ARGUMENT;case ft$1.NOT_FOUND:return N$2.NOT_FOUND;case ft$1.ALREADY_EXISTS:return N$2.ALREADY_EXISTS;case ft$1.PERMISSION_DENIED:return N$2.PERMISSION_DENIED;case ft$1.FAILED_PRECONDITION:return N$2.FAILED_PRECONDITION;case ft$1.ABORTED:return N$2.ABORTED;case ft$1.OUT_OF_RANGE:return N$2.OUT_OF_RANGE;case ft$1.UNIMPLEMENTED:return N$2.UNIMPLEMENTED;case ft$1.DATA_LOSS:return N$2.DATA_LOSS;default:return fail(39323,{code:Ee})}}(gt$2=ft$1||(ft$1={}))[gt$2.OK=0]="OK",gt$2[gt$2.CANCELLED=1]="CANCELLED",gt$2[gt$2.UNKNOWN=2]="UNKNOWN",gt$2[gt$2.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt$2[gt$2.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt$2[gt$2.NOT_FOUND=5]="NOT_FOUND",gt$2[gt$2.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt$2[gt$2.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt$2[gt$2.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt$2[gt$2.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt$2[gt$2.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt$2[gt$2.ABORTED=10]="ABORTED",gt$2[gt$2.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt$2[gt$2.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt$2[gt$2.INTERNAL=13]="INTERNAL",gt$2[gt$2.UNAVAILABLE=14]="UNAVAILABLE",gt$2[gt$2.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt$2=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(Ee){const _e=__PRIVATE_newTextEncoder().encode(Ee),Ce=new Md5;return Ce.update(_e),new Uint8Array(Ce.digest())}function __PRIVATE_get64BitUints(Ee){const _e=new DataView(Ee.buffer),Ce=_e.getUint32(0,!0),Pe=_e.getUint32(4,!0),Re=_e.getUint32(8,!0),Ie=_e.getUint32(12,!0);return[new Integer([Ce,Pe],0),new Integer([Re,Ie],0)]}class BloomFilter{constructor(_e,Ce,Pe){if(this.bitmap=_e,this.padding=Ce,this.hashCount=Pe,Ce<0||Ce>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${Ce}`);if(Pe<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${Pe}`);if(_e.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${Pe}`);if(_e.length===0&&Ce!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${Ce}`);this.fe=8*_e.length-Ce,this.ge=Integer.fromNumber(this.fe)}pe(_e,Ce,Pe){let Re=_e.add(Ce.multiply(Integer.fromNumber(Pe)));return Re.compare(yt$2)===1&&(Re=new Integer([Re.getBits(0),Re.getBits(1)],0)),Re.modulo(this.ge).toNumber()}ye(_e){return!!(this.bitmap[Math.floor(_e/8)]&1<<_e%8)}mightContain(_e){if(this.fe===0)return!1;const Ce=__PRIVATE_getMd5HashValue(_e),[Pe,Re]=__PRIVATE_get64BitUints(Ce);for(let Ie=0;Ie<this.hashCount;Ie++){const Be=this.pe(Pe,Re,Ie);if(!this.ye(Be))return!1}return!0}static create(_e,Ce,Pe){const Re=_e%8==0?0:8-_e%8,Ie=new Uint8Array(Math.ceil(_e/8)),Be=new BloomFilter(Ie,Re,Ce);return Pe.forEach(je=>Be.insert(je)),Be}insert(_e){if(this.fe===0)return;const Ce=__PRIVATE_getMd5HashValue(_e),[Pe,Re]=__PRIVATE_get64BitUints(Ce);for(let Ie=0;Ie<this.hashCount;Ie++){const Be=this.pe(Pe,Re,Ie);this.we(Be)}}we(_e){const Ce=Math.floor(_e/8),Pe=_e%8;this.bitmap[Ce]|=1<<Pe}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(_e,Ce,Pe,Re,Ie){this.snapshotVersion=_e,this.targetChanges=Ce,this.targetMismatches=Pe,this.documentUpdates=Re,this.resolvedLimboDocuments=Ie}static createSynthesizedRemoteEventForCurrentChange(_e,Ce,Pe){const Re=new Map;return Re.set(_e,TargetChange.createSynthesizedTargetChangeForCurrentChange(_e,Ce,Pe)),new RemoteEvent(SnapshotVersion.min(),Re,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(_e,Ce,Pe,Re,Ie){this.resumeToken=_e,this.current=Ce,this.addedDocuments=Pe,this.modifiedDocuments=Re,this.removedDocuments=Ie}static createSynthesizedTargetChangeForCurrentChange(_e,Ce,Pe){return new TargetChange(Pe,Ce,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(_e,Ce,Pe,Re){this.Se=_e,this.removedTargetIds=Ce,this.key=Pe,this.be=Re}}class __PRIVATE_ExistenceFilterChange{constructor(_e,Ce){this.targetId=_e,this.De=Ce}}class __PRIVATE_WatchTargetChange{constructor(_e,Ce,Pe=ByteString.EMPTY_BYTE_STRING,Re=null){this.state=_e,this.targetIds=Ce,this.resumeToken=Pe,this.cause=Re}}class __PRIVATE_TargetState{constructor(){this.ve=0,this.Ce=__PRIVATE_snapshotChangesMap(),this.Fe=ByteString.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(_e){_e.approximateByteSize()>0&&(this.xe=!0,this.Fe=_e)}Le(){let _e=__PRIVATE_documentKeySet(),Ce=__PRIVATE_documentKeySet(),Pe=__PRIVATE_documentKeySet();return this.Ce.forEach((Re,Ie)=>{switch(Ie){case 0:_e=_e.add(Re);break;case 2:Ce=Ce.add(Re);break;case 1:Pe=Pe.add(Re);break;default:fail(38017,{changeType:Ie})}}),new TargetChange(this.Fe,this.Me,_e,Ce,Pe)}ke(){this.xe=!1,this.Ce=__PRIVATE_snapshotChangesMap()}qe(_e,Ce){this.xe=!0,this.Ce=this.Ce.insert(_e,Ce)}Qe(_e){this.xe=!0,this.Ce=this.Ce.remove(_e)}$e(){this.ve+=1}Ue(){this.ve-=1,__PRIVATE_hardAssert(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class __PRIVATE_WatchChangeAggregator{constructor(_e){this.We=_e,this.Ge=new Map,this.ze=__PRIVATE_mutableDocumentMap(),this.je=__PRIVATE_documentTargetMap(),this.Je=__PRIVATE_documentTargetMap(),this.He=new SortedMap(__PRIVATE_primitiveComparator)}Ye(_e){for(const Ce of _e.Se)_e.be&&_e.be.isFoundDocument()?this.Ze(Ce,_e.be):this.Xe(Ce,_e.key,_e.be);for(const Ce of _e.removedTargetIds)this.Xe(Ce,_e.key,_e.be)}et(_e){this.forEachTarget(_e,Ce=>{const Pe=this.tt(Ce);switch(_e.state){case 0:this.nt(Ce)&&Pe.Be(_e.resumeToken);break;case 1:Pe.Ue(),Pe.Oe||Pe.ke(),Pe.Be(_e.resumeToken);break;case 2:Pe.Ue(),Pe.Oe||this.removeTarget(Ce);break;case 3:this.nt(Ce)&&(Pe.Ke(),Pe.Be(_e.resumeToken));break;case 4:this.nt(Ce)&&(this.rt(Ce),Pe.Be(_e.resumeToken));break;default:fail(56790,{state:_e.state})}})}forEachTarget(_e,Ce){_e.targetIds.length>0?_e.targetIds.forEach(Ce):this.Ge.forEach((Pe,Re)=>{this.nt(Re)&&Ce(Re)})}it(_e){const Ce=_e.targetId,Pe=_e.De.count,Re=this.st(Ce);if(Re){const Ie=Re.target;if(__PRIVATE_targetIsDocumentTarget(Ie))if(Pe===0){const Be=new DocumentKey(Ie.path);this.Xe(Ce,Be,MutableDocument.newNoDocument(Be,SnapshotVersion.min()))}else __PRIVATE_hardAssert(Pe===1,20013,{expectedCount:Pe});else{const Be=this.ot(Ce);if(Be!==Pe){const je=this._t(_e),De=je?this.ut(je,_e,Be):1;if(De!==0){this.rt(Ce);const Fe=De===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(Ce,Fe)}}}}}_t(_e){const Ce=_e.De.unchangedNames;if(!Ce||!Ce.bits)return null;const{bits:{bitmap:Pe="",padding:Re=0},hashCount:Ie=0}=Ce;let Be,je;try{Be=__PRIVATE_normalizeByteString(Pe).toUint8Array()}catch(De){if(De instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+De.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw De}try{je=new BloomFilter(Be,Re,Ie)}catch(De){return __PRIVATE_logWarn(De instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",De),null}return je.fe===0?null:je}ut(_e,Ce,Pe){return Ce.De.count===Pe-this.ht(_e,Ce.targetId)?0:2}ht(_e,Ce){const Pe=this.We.getRemoteKeysForTarget(Ce);let Re=0;return Pe.forEach(Ie=>{const Be=this.We.lt(),je=`projects/${Be.projectId}/databases/${Be.database}/documents/${Ie.path.canonicalString()}`;_e.mightContain(je)||(this.Xe(Ce,Ie,null),Re++)}),Re}Pt(_e){const Ce=new Map;this.Ge.forEach((Ie,Be)=>{const je=this.st(Be);if(je){if(Ie.current&&__PRIVATE_targetIsDocumentTarget(je.target)){const De=new DocumentKey(je.target.path);this.Tt(De).has(Be)||this.It(Be,De)||this.Xe(Be,De,MutableDocument.newNoDocument(De,_e))}Ie.Ne&&(Ce.set(Be,Ie.Le()),Ie.ke())}});let Pe=__PRIVATE_documentKeySet();this.Je.forEach((Ie,Be)=>{let je=!0;Be.forEachWhile(De=>{const Fe=this.st(De);return!Fe||Fe.purpose==="TargetPurposeLimboResolution"||(je=!1,!1)}),je&&(Pe=Pe.add(Ie))}),this.ze.forEach((Ie,Be)=>Be.setReadTime(_e));const Re=new RemoteEvent(_e,Ce,this.He,this.ze,Pe);return this.ze=__PRIVATE_mutableDocumentMap(),this.je=__PRIVATE_documentTargetMap(),this.Je=__PRIVATE_documentTargetMap(),this.He=new SortedMap(__PRIVATE_primitiveComparator),Re}Ze(_e,Ce){if(!this.nt(_e))return;const Pe=this.It(_e,Ce.key)?2:0;this.tt(_e).qe(Ce.key,Pe),this.ze=this.ze.insert(Ce.key,Ce),this.je=this.je.insert(Ce.key,this.Tt(Ce.key).add(_e)),this.Je=this.Je.insert(Ce.key,this.dt(Ce.key).add(_e))}Xe(_e,Ce,Pe){if(!this.nt(_e))return;const Re=this.tt(_e);this.It(_e,Ce)?Re.qe(Ce,1):Re.Qe(Ce),this.Je=this.Je.insert(Ce,this.dt(Ce).delete(_e)),this.Je=this.Je.insert(Ce,this.dt(Ce).add(_e)),Pe&&(this.ze=this.ze.insert(Ce,Pe))}removeTarget(_e){this.Ge.delete(_e)}ot(_e){const Ce=this.tt(_e).Le();return this.We.getRemoteKeysForTarget(_e).size+Ce.addedDocuments.size-Ce.removedDocuments.size}$e(_e){this.tt(_e).$e()}tt(_e){let Ce=this.Ge.get(_e);return Ce||(Ce=new __PRIVATE_TargetState,this.Ge.set(_e,Ce)),Ce}dt(_e){let Ce=this.Je.get(_e);return Ce||(Ce=new SortedSet(__PRIVATE_primitiveComparator),this.Je=this.Je.insert(_e,Ce)),Ce}Tt(_e){let Ce=this.je.get(_e);return Ce||(Ce=new SortedSet(__PRIVATE_primitiveComparator),this.je=this.je.insert(_e,Ce)),Ce}nt(_e){const Ce=this.st(_e)!==null;return Ce||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",_e),Ce}st(_e){const Ce=this.Ge.get(_e);return Ce&&Ce.Oe?null:this.We.Et(_e)}rt(_e){this.Ge.set(_e,new __PRIVATE_TargetState),this.We.getRemoteKeysForTarget(_e).forEach(Ce=>{this.Xe(_e,Ce,null)})}It(_e,Ce){return this.We.getRemoteKeysForTarget(_e).has(Ce)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const wt$2={asc:"ASCENDING",desc:"DESCENDING"},St$1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bt$2={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(_e,Ce){this.databaseId=_e,this.useProto3Json=Ce}}function __PRIVATE_toInt32Proto(Ee,_e){return Ee.useProto3Json||__PRIVATE_isNullOrUndefined(_e)?_e:{value:_e}}function toTimestamp(Ee,_e){return Ee.useProto3Json?`${new Date(1e3*_e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+_e.nanoseconds).slice(-9)}Z`:{seconds:""+_e.seconds,nanos:_e.nanoseconds}}function __PRIVATE_toBytes(Ee,_e){return Ee.useProto3Json?_e.toBase64():_e.toUint8Array()}function __PRIVATE_toVersion(Ee,_e){return toTimestamp(Ee,_e.toTimestamp())}function __PRIVATE_fromVersion(Ee){return __PRIVATE_hardAssert(!!Ee,49232),SnapshotVersion.fromTimestamp(function(Ce){const Pe=__PRIVATE_normalizeTimestamp(Ce);return new Timestamp(Pe.seconds,Pe.nanos)}(Ee))}function __PRIVATE_toResourceName(Ee,_e){return __PRIVATE_toResourcePath(Ee,_e).canonicalString()}function __PRIVATE_toResourcePath(Ee,_e){const Ce=function(Re){return new ResourcePath(["projects",Re.projectId,"databases",Re.database])}(Ee).child("documents");return _e===void 0?Ce:Ce.child(_e)}function __PRIVATE_fromResourceName(Ee){const _e=ResourcePath.fromString(Ee);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(_e),10190,{key:_e.toString()}),_e}function __PRIVATE_toName(Ee,_e){return __PRIVATE_toResourceName(Ee.databaseId,_e.path)}function fromName(Ee,_e){const Ce=__PRIVATE_fromResourceName(_e);if(Ce.get(1)!==Ee.databaseId.projectId)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+Ce.get(1)+" vs "+Ee.databaseId.projectId);if(Ce.get(3)!==Ee.databaseId.database)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+Ce.get(3)+" vs "+Ee.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(Ce))}function __PRIVATE_toQueryPath(Ee,_e){return __PRIVATE_toResourceName(Ee.databaseId,_e)}function __PRIVATE_fromQueryPath(Ee){const _e=__PRIVATE_fromResourceName(Ee);return _e.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(_e)}function __PRIVATE_getEncodedDatabaseId(Ee){return new ResourcePath(["projects",Ee.databaseId.projectId,"databases",Ee.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(Ee){return __PRIVATE_hardAssert(Ee.length>4&&Ee.get(4)==="documents",29091,{key:Ee.toString()}),Ee.popFirst(5)}function __PRIVATE_toMutationDocument(Ee,_e,Ce){return{name:__PRIVATE_toName(Ee,_e),fields:Ce.value.mapValue.fields}}function __PRIVATE_fromWatchChange(Ee,_e){let Ce;if("targetChange"in _e){_e.targetChange;const Pe=function(Fe){return Fe==="NO_CHANGE"?0:Fe==="ADD"?1:Fe==="REMOVE"?2:Fe==="CURRENT"?3:Fe==="RESET"?4:fail(39313,{state:Fe})}(_e.targetChange.targetChangeType||"NO_CHANGE"),Re=_e.targetChange.targetIds||[],Ie=function(Fe,Oe){return Fe.useProto3Json?(__PRIVATE_hardAssert(Oe===void 0||typeof Oe=="string",58123),ByteString.fromBase64String(Oe||"")):(__PRIVATE_hardAssert(Oe===void 0||Oe instanceof Buffer||Oe instanceof Uint8Array,16193),ByteString.fromUint8Array(Oe||new Uint8Array))}(Ee,_e.targetChange.resumeToken),Be=_e.targetChange.cause,je=Be&&function(Fe){const Oe=Fe.code===void 0?N$2.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(Fe.code);return new FirestoreError(Oe,Fe.message||"")}(Be);Ce=new __PRIVATE_WatchTargetChange(Pe,Re,Ie,je||null)}else if("documentChange"in _e){_e.documentChange;const Pe=_e.documentChange;Pe.document,Pe.document.name,Pe.document.updateTime;const Re=fromName(Ee,Pe.document.name),Ie=__PRIVATE_fromVersion(Pe.document.updateTime),Be=Pe.document.createTime?__PRIVATE_fromVersion(Pe.document.createTime):SnapshotVersion.min(),je=new ObjectValue({mapValue:{fields:Pe.document.fields}}),De=MutableDocument.newFoundDocument(Re,Ie,Be,je),Fe=Pe.targetIds||[],Oe=Pe.removedTargetIds||[];Ce=new __PRIVATE_DocumentWatchChange(Fe,Oe,De.key,De)}else if("documentDelete"in _e){_e.documentDelete;const Pe=_e.documentDelete;Pe.document;const Re=fromName(Ee,Pe.document),Ie=Pe.readTime?__PRIVATE_fromVersion(Pe.readTime):SnapshotVersion.min(),Be=MutableDocument.newNoDocument(Re,Ie),je=Pe.removedTargetIds||[];Ce=new __PRIVATE_DocumentWatchChange([],je,Be.key,Be)}else if("documentRemove"in _e){_e.documentRemove;const Pe=_e.documentRemove;Pe.document;const Re=fromName(Ee,Pe.document),Ie=Pe.removedTargetIds||[];Ce=new __PRIVATE_DocumentWatchChange([],Ie,Re,null)}else{if(!("filter"in _e))return fail(11601,{At:_e});{_e.filter;const Pe=_e.filter;Pe.targetId;const{count:Re=0,unchangedNames:Ie}=Pe,Be=new ExistenceFilter(Re,Ie),je=Pe.targetId;Ce=new __PRIVATE_ExistenceFilterChange(je,Be)}}return Ce}function toMutation(Ee,_e){let Ce;if(_e instanceof __PRIVATE_SetMutation)Ce={update:__PRIVATE_toMutationDocument(Ee,_e.key,_e.value)};else if(_e instanceof __PRIVATE_DeleteMutation)Ce={delete:__PRIVATE_toName(Ee,_e.key)};else if(_e instanceof __PRIVATE_PatchMutation)Ce={update:__PRIVATE_toMutationDocument(Ee,_e.key,_e.data),updateMask:__PRIVATE_toDocumentMask(_e.fieldMask)};else{if(!(_e instanceof __PRIVATE_VerifyMutation))return fail(16599,{Rt:_e.type});Ce={verify:__PRIVATE_toName(Ee,_e.key)}}return _e.fieldTransforms.length>0&&(Ce.updateTransforms=_e.fieldTransforms.map(Pe=>function(Ie,Be){const je=Be.transform;if(je instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:Be.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(je instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:Be.field.canonicalString(),appendMissingElements:{values:je.elements}};if(je instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:Be.field.canonicalString(),removeAllFromArray:{values:je.elements}};if(je instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:Be.field.canonicalString(),increment:je.Ee};throw fail(20930,{transform:Be.transform})}(0,Pe))),_e.precondition.isNone||(Ce.currentDocument=function(Re,Ie){return Ie.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(Re,Ie.updateTime)}:Ie.exists!==void 0?{exists:Ie.exists}:fail(27497)}(Ee,_e.precondition)),Ce}function __PRIVATE_fromWriteResults(Ee,_e){return Ee&&Ee.length>0?(__PRIVATE_hardAssert(_e!==void 0,14353),Ee.map(Ce=>function(Re,Ie){let Be=Re.updateTime?__PRIVATE_fromVersion(Re.updateTime):__PRIVATE_fromVersion(Ie);return Be.isEqual(SnapshotVersion.min())&&(Be=__PRIVATE_fromVersion(Ie)),new MutationResult(Be,Re.transformResults||[])}(Ce,_e))):[]}function __PRIVATE_toDocumentsTarget(Ee,_e){return{documents:[__PRIVATE_toQueryPath(Ee,_e.path)]}}function __PRIVATE_toQueryTarget(Ee,_e){const Ce={structuredQuery:{}},Pe=_e.path;let Re;_e.collectionGroup!==null?(Re=Pe,Ce.structuredQuery.from=[{collectionId:_e.collectionGroup,allDescendants:!0}]):(Re=Pe.popLast(),Ce.structuredQuery.from=[{collectionId:Pe.lastSegment()}]),Ce.parent=__PRIVATE_toQueryPath(Ee,Re);const Ie=function(Fe){if(Fe.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(Fe,"and"))}(_e.filters);Ie&&(Ce.structuredQuery.where=Ie);const Be=function(Fe){if(Fe.length!==0)return Fe.map(Oe=>function(Me){return{field:__PRIVATE_toFieldPathReference(Me.field),direction:__PRIVATE_toDirection(Me.dir)}}(Oe))}(_e.orderBy);Be&&(Ce.structuredQuery.orderBy=Be);const je=__PRIVATE_toInt32Proto(Ee,_e.limit);return je!==null&&(Ce.structuredQuery.limit=je),_e.startAt&&(Ce.structuredQuery.startAt=function(Fe){return{before:Fe.inclusive,values:Fe.position}}(_e.startAt)),_e.endAt&&(Ce.structuredQuery.endAt=function(Fe){return{before:!Fe.inclusive,values:Fe.position}}(_e.endAt)),{Vt:Ce,parent:Re}}function __PRIVATE_convertQueryTargetToQuery(Ee){let _e=__PRIVATE_fromQueryPath(Ee.parent);const Ce=Ee.structuredQuery,Pe=Ce.from?Ce.from.length:0;let Re=null;if(Pe>0){__PRIVATE_hardAssert(Pe===1,65062);const Oe=Ce.from[0];Oe.allDescendants?Re=Oe.collectionId:_e=_e.child(Oe.collectionId)}let Ie=[];Ce.where&&(Ie=function(ke){const Me=__PRIVATE_fromFilter(ke);return Me instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(Me)?Me.getFilters():[Me]}(Ce.where));let Be=[];Ce.orderBy&&(Be=function(ke){return ke.map(Me=>function(He){return new OrderBy(__PRIVATE_fromFieldPathReference(He.field),function(Ke){switch(Ke){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(He.direction))}(Me))}(Ce.orderBy));let je=null;Ce.limit&&(je=function(ke){let Me;return Me=typeof ke=="object"?ke.value:ke,__PRIVATE_isNullOrUndefined(Me)?null:Me}(Ce.limit));let De=null;Ce.startAt&&(De=function(ke){const Me=!!ke.before,$e=ke.values||[];return new Bound($e,Me)}(Ce.startAt));let Fe=null;return Ce.endAt&&(Fe=function(ke){const Me=!ke.before,$e=ke.values||[];return new Bound($e,Me)}(Ce.endAt)),__PRIVATE_newQuery(_e,Re,Be,Ie,je,"F",De,Fe)}function __PRIVATE_toListenRequestLabels(Ee,_e){const Ce=function(Re){switch(Re){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail(28987,{purpose:Re})}}(_e.purpose);return Ce==null?null:{"goog-listen-tags":Ce}}function __PRIVATE_fromFilter(Ee){return Ee.unaryFilter!==void 0?function(Ce){switch(Ce.unaryFilter.op){case"IS_NAN":const Pe=__PRIVATE_fromFieldPathReference(Ce.unaryFilter.field);return FieldFilter.create(Pe,"==",{doubleValue:NaN});case"IS_NULL":const Re=__PRIVATE_fromFieldPathReference(Ce.unaryFilter.field);return FieldFilter.create(Re,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const Ie=__PRIVATE_fromFieldPathReference(Ce.unaryFilter.field);return FieldFilter.create(Ie,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const Be=__PRIVATE_fromFieldPathReference(Ce.unaryFilter.field);return FieldFilter.create(Be,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fail(61313);default:return fail(60726)}}(Ee):Ee.fieldFilter!==void 0?function(Ce){return FieldFilter.create(__PRIVATE_fromFieldPathReference(Ce.fieldFilter.field),function(Re){switch(Re){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fail(58110);default:return fail(50506)}}(Ce.fieldFilter.op),Ce.fieldFilter.value)}(Ee):Ee.compositeFilter!==void 0?function(Ce){return CompositeFilter.create(Ce.compositeFilter.filters.map(Pe=>__PRIVATE_fromFilter(Pe)),function(Re){switch(Re){case"AND":return"and";case"OR":return"or";default:return fail(1026)}}(Ce.compositeFilter.op))}(Ee):fail(30097,{filter:Ee})}function __PRIVATE_toDirection(Ee){return wt$2[Ee]}function __PRIVATE_toOperatorName(Ee){return St$1[Ee]}function __PRIVATE_toCompositeOperatorName(Ee){return bt$2[Ee]}function __PRIVATE_toFieldPathReference(Ee){return{fieldPath:Ee.canonicalString()}}function __PRIVATE_fromFieldPathReference(Ee){return FieldPath$1.fromServerFormat(Ee.fieldPath)}function __PRIVATE_toFilter(Ee){return Ee instanceof FieldFilter?function(Ce){if(Ce.op==="=="){if(__PRIVATE_isNanValue(Ce.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(Ce.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(Ce.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(Ce.field),op:"IS_NULL"}}}else if(Ce.op==="!="){if(__PRIVATE_isNanValue(Ce.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(Ce.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(Ce.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(Ce.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(Ce.field),op:__PRIVATE_toOperatorName(Ce.op),value:Ce.value}}}(Ee):Ee instanceof CompositeFilter?function(Ce){const Pe=Ce.getFilters().map(Re=>__PRIVATE_toFilter(Re));return Pe.length===1?Pe[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(Ce.op),filters:Pe}}}(Ee):fail(54877,{filter:Ee})}function __PRIVATE_toDocumentMask(Ee){const _e=[];return Ee.fields.forEach(Ce=>_e.push(Ce.canonicalString())),{fieldPaths:_e}}function __PRIVATE_isValidResourceName(Ee){return Ee.length>=4&&Ee.get(0)==="projects"&&Ee.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(_e,Ce,Pe,Re,Ie=SnapshotVersion.min(),Be=SnapshotVersion.min(),je=ByteString.EMPTY_BYTE_STRING,De=null){this.target=_e,this.targetId=Ce,this.purpose=Pe,this.sequenceNumber=Re,this.snapshotVersion=Ie,this.lastLimboFreeSnapshotVersion=Be,this.resumeToken=je,this.expectedCount=De}withSequenceNumber(_e){return new TargetData(this.target,this.targetId,this.purpose,_e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(_e,Ce){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,Ce,this.lastLimboFreeSnapshotVersion,_e,null)}withExpectedCount(_e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,_e)}withLastLimboFreeSnapshotVersion(_e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,_e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(_e){this.gt=_e}}function __PRIVATE_fromBundledQuery(Ee){const _e=__PRIVATE_convertQueryTargetToQuery({parent:Ee.parent,structuredQuery:Ee.structuredQuery});return Ee.limitType==="LAST"?__PRIVATE_queryWithLimit(_e,_e.limit,"L"):_e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.Dn=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(_e,Ce){return this.Dn.add(Ce),PersistencePromise.resolve()}getCollectionParents(_e,Ce){return PersistencePromise.resolve(this.Dn.getEntries(Ce))}addFieldIndex(_e,Ce){return PersistencePromise.resolve()}deleteFieldIndex(_e,Ce){return PersistencePromise.resolve()}deleteAllFieldIndexes(_e){return PersistencePromise.resolve()}createTargetIndexes(_e,Ce){return PersistencePromise.resolve()}getDocumentsMatchingTarget(_e,Ce){return PersistencePromise.resolve(null)}getIndexType(_e,Ce){return PersistencePromise.resolve(0)}getFieldIndexes(_e,Ce){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(_e){return PersistencePromise.resolve(null)}getMinOffset(_e,Ce){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(_e,Ce){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(_e,Ce,Pe){return PersistencePromise.resolve()}updateIndexEntries(_e,Ce){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(_e){const Ce=_e.lastSegment(),Pe=_e.popLast(),Re=this.index[Ce]||new SortedSet(ResourcePath.comparator),Ie=!Re.has(Pe);return this.index[Ce]=Re.add(Pe),Ie}has(_e){const Ce=_e.lastSegment(),Pe=_e.popLast(),Re=this.index[Ce];return Re&&Re.has(Pe)}getEntries(_e){return(this.index[_e]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft$1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mt$2=41943040;class LruParams{static withCacheSize(_e){return new LruParams(_e,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(_e,Ce,Pe){this.cacheSizeCollectionThreshold=_e,this.percentileToCollect=Ce,this.maximumSequenceNumbersToCollect=Pe}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(Mt$2,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(_e){this._r=_e}next(){return this._r+=2,this._r}static ar(){return new __PRIVATE_TargetIdGenerator(0)}static ur(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt$2="LruGarbageCollector",Ot$2=1048576;function __PRIVATE_bufferEntryComparator([Ee,_e],[Ce,Pe]){const Re=__PRIVATE_primitiveComparator(Ee,Ce);return Re===0?__PRIVATE_primitiveComparator(_e,Pe):Re}class __PRIVATE_RollingSequenceNumberBuffer{constructor(_e){this.Tr=_e,this.buffer=new SortedSet(__PRIVATE_bufferEntryComparator),this.Ir=0}dr(){return++this.Ir}Er(_e){const Ce=[_e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(Ce);else{const Pe=this.buffer.last();__PRIVATE_bufferEntryComparator(Ce,Pe)<0&&(this.buffer=this.buffer.delete(Pe).add(Ce))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor(_e,Ce,Pe){this.garbageCollector=_e,this.asyncQueue=Ce,this.localStore=Pe,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(_e){__PRIVATE_logDebug(xt$2,`Garbage collection scheduled in ${_e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",_e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(Ce){__PRIVATE_isIndexedDbTransactionError(Ce)?__PRIVATE_logDebug(xt$2,"Ignoring IndexedDB error during garbage collection: ",Ce):await __PRIVATE_ignoreIfPrimaryLeaseLoss(Ce)}await this.Rr(3e5)})}}class __PRIVATE_LruGarbageCollectorImpl{constructor(_e,Ce){this.Vr=_e,this.params=Ce}calculateTargetCount(_e,Ce){return this.Vr.mr(_e).next(Pe=>Math.floor(Ce/100*Pe))}nthSequenceNumber(_e,Ce){if(Ce===0)return PersistencePromise.resolve(__PRIVATE_ListenSequence.ue);const Pe=new __PRIVATE_RollingSequenceNumberBuffer(Ce);return this.Vr.forEachTarget(_e,Re=>Pe.Er(Re.sequenceNumber)).next(()=>this.Vr.gr(_e,Re=>Pe.Er(Re))).next(()=>Pe.maxValue)}removeTargets(_e,Ce,Pe){return this.Vr.removeTargets(_e,Ce,Pe)}removeOrphanedDocuments(_e,Ce){return this.Vr.removeOrphanedDocuments(_e,Ce)}collect(_e,Ce){return this.params.cacheSizeCollectionThreshold===-1?(__PRIVATE_logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(Ft$1)):this.getCacheSize(_e).next(Pe=>Pe<this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${Pe} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ft$1):this.pr(_e,Ce))}getCacheSize(_e){return this.Vr.getCacheSize(_e)}pr(_e,Ce){let Pe,Re,Ie,Be,je,De,Fe;const Oe=Date.now();return this.calculateTargetCount(_e,this.params.percentileToCollect).next(ke=>(ke>this.params.maximumSequenceNumbersToCollect?(__PRIVATE_logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ke}`),Re=this.params.maximumSequenceNumbersToCollect):Re=ke,Be=Date.now(),this.nthSequenceNumber(_e,Re))).next(ke=>(Pe=ke,je=Date.now(),this.removeTargets(_e,Pe,Ce))).next(ke=>(Ie=ke,De=Date.now(),this.removeOrphanedDocuments(_e,Pe))).next(ke=>(Fe=Date.now(),__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${Be-Oe}ms
	Determined least recently used ${Re} in `+(je-Be)+`ms
	Removed ${Ie} targets in `+(De-je)+`ms
	Removed ${ke} documents in `+(Fe-De)+`ms
Total Duration: ${Fe-Oe}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:Re,targetsRemoved:Ie,documentsRemoved:ke})))}}function __PRIVATE_newLruGarbageCollector(Ee,_e){return new __PRIVATE_LruGarbageCollectorImpl(Ee,_e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(_e=>_e.toString(),(_e,Ce)=>_e.isEqual(Ce)),this.changesApplied=!1}addEntry(_e){this.assertNotApplied(),this.changes.set(_e.key,_e)}removeEntry(_e,Ce){this.assertNotApplied(),this.changes.set(_e,MutableDocument.newInvalidDocument(_e).setReadTime(Ce))}getEntry(_e,Ce){this.assertNotApplied();const Pe=this.changes.get(Ce);return Pe!==void 0?PersistencePromise.resolve(Pe):this.getFromCache(_e,Ce)}getEntries(_e,Ce){return this.getAllFromCache(_e,Ce)}apply(_e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(_e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(_e,Ce){this.overlayedDocument=_e,this.mutatedFields=Ce}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(_e,Ce,Pe,Re){this.remoteDocumentCache=_e,this.mutationQueue=Ce,this.documentOverlayCache=Pe,this.indexManager=Re}getDocument(_e,Ce){let Pe=null;return this.documentOverlayCache.getOverlay(_e,Ce).next(Re=>(Pe=Re,this.remoteDocumentCache.getEntry(_e,Ce))).next(Re=>(Pe!==null&&__PRIVATE_mutationApplyToLocalView(Pe.mutation,Re,FieldMask.empty(),Timestamp.now()),Re))}getDocuments(_e,Ce){return this.remoteDocumentCache.getEntries(_e,Ce).next(Pe=>this.getLocalViewOfDocuments(_e,Pe,__PRIVATE_documentKeySet()).next(()=>Pe))}getLocalViewOfDocuments(_e,Ce,Pe=__PRIVATE_documentKeySet()){const Re=__PRIVATE_newOverlayMap();return this.populateOverlays(_e,Re,Ce).next(()=>this.computeViews(_e,Ce,Re,Pe).next(Ie=>{let Be=documentMap();return Ie.forEach((je,De)=>{Be=Be.insert(je,De.overlayedDocument)}),Be}))}getOverlayedDocuments(_e,Ce){const Pe=__PRIVATE_newOverlayMap();return this.populateOverlays(_e,Pe,Ce).next(()=>this.computeViews(_e,Ce,Pe,__PRIVATE_documentKeySet()))}populateOverlays(_e,Ce,Pe){const Re=[];return Pe.forEach(Ie=>{Ce.has(Ie)||Re.push(Ie)}),this.documentOverlayCache.getOverlays(_e,Re).next(Ie=>{Ie.forEach((Be,je)=>{Ce.set(Be,je)})})}computeViews(_e,Ce,Pe,Re){let Ie=__PRIVATE_mutableDocumentMap();const Be=__PRIVATE_newDocumentKeyMap(),je=function(){return __PRIVATE_newDocumentKeyMap()}();return Ce.forEach((De,Fe)=>{const Oe=Pe.get(Fe.key);Re.has(Fe.key)&&(Oe===void 0||Oe.mutation instanceof __PRIVATE_PatchMutation)?Ie=Ie.insert(Fe.key,Fe):Oe!==void 0?(Be.set(Fe.key,Oe.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(Oe.mutation,Fe,Oe.mutation.getFieldMask(),Timestamp.now())):Be.set(Fe.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(_e,Ie).next(De=>(De.forEach((Fe,Oe)=>Be.set(Fe,Oe)),Ce.forEach((Fe,Oe)=>{var ke;return je.set(Fe,new OverlayedDocument(Oe,(ke=Be.get(Fe))!==null&&ke!==void 0?ke:null))}),je))}recalculateAndSaveOverlays(_e,Ce){const Pe=__PRIVATE_newDocumentKeyMap();let Re=new SortedMap((Be,je)=>Be-je),Ie=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(_e,Ce).next(Be=>{for(const je of Be)je.keys().forEach(De=>{const Fe=Ce.get(De);if(Fe===null)return;let Oe=Pe.get(De)||FieldMask.empty();Oe=je.applyToLocalView(Fe,Oe),Pe.set(De,Oe);const ke=(Re.get(je.batchId)||__PRIVATE_documentKeySet()).add(De);Re=Re.insert(je.batchId,ke)})}).next(()=>{const Be=[],je=Re.getReverseIterator();for(;je.hasNext();){const De=je.getNext(),Fe=De.key,Oe=De.value,ke=__PRIVATE_newMutationMap();Oe.forEach(Me=>{if(!Ie.has(Me)){const $e=__PRIVATE_calculateOverlayMutation(Ce.get(Me),Pe.get(Me));$e!==null&&ke.set(Me,$e),Ie=Ie.add(Me)}}),Be.push(this.documentOverlayCache.saveOverlays(_e,Fe,ke))}return PersistencePromise.waitFor(Be)}).next(()=>Pe)}recalculateAndSaveOverlaysForDocumentKeys(_e,Ce){return this.remoteDocumentCache.getEntries(_e,Ce).next(Pe=>this.recalculateAndSaveOverlays(_e,Pe))}getDocumentsMatchingQuery(_e,Ce,Pe,Re){return function(Be){return DocumentKey.isDocumentKey(Be.path)&&Be.collectionGroup===null&&Be.filters.length===0}(Ce)?this.getDocumentsMatchingDocumentQuery(_e,Ce.path):__PRIVATE_isCollectionGroupQuery(Ce)?this.getDocumentsMatchingCollectionGroupQuery(_e,Ce,Pe,Re):this.getDocumentsMatchingCollectionQuery(_e,Ce,Pe,Re)}getNextDocuments(_e,Ce,Pe,Re){return this.remoteDocumentCache.getAllFromCollectionGroup(_e,Ce,Pe,Re).next(Ie=>{const Be=Re-Ie.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(_e,Ce,Pe.largestBatchId,Re-Ie.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let je=Q$2,De=Ie;return Be.next(Fe=>PersistencePromise.forEach(Fe,(Oe,ke)=>(je<ke.largestBatchId&&(je=ke.largestBatchId),Ie.get(Oe)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(_e,Oe).next(Me=>{De=De.insert(Oe,Me)}))).next(()=>this.populateOverlays(_e,Fe,Ie)).next(()=>this.computeViews(_e,De,Fe,__PRIVATE_documentKeySet())).next(Oe=>({batchId:je,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(Oe)})))})}getDocumentsMatchingDocumentQuery(_e,Ce){return this.getDocument(_e,new DocumentKey(Ce)).next(Pe=>{let Re=documentMap();return Pe.isFoundDocument()&&(Re=Re.insert(Pe.key,Pe)),Re})}getDocumentsMatchingCollectionGroupQuery(_e,Ce,Pe,Re){const Ie=Ce.collectionGroup;let Be=documentMap();return this.indexManager.getCollectionParents(_e,Ie).next(je=>PersistencePromise.forEach(je,De=>{const Fe=function(ke,Me){return new __PRIVATE_QueryImpl(Me,null,ke.explicitOrderBy.slice(),ke.filters.slice(),ke.limit,ke.limitType,ke.startAt,ke.endAt)}(Ce,De.child(Ie));return this.getDocumentsMatchingCollectionQuery(_e,Fe,Pe,Re).next(Oe=>{Oe.forEach((ke,Me)=>{Be=Be.insert(ke,Me)})})}).next(()=>Be))}getDocumentsMatchingCollectionQuery(_e,Ce,Pe,Re){let Ie;return this.documentOverlayCache.getOverlaysForCollection(_e,Ce.path,Pe.largestBatchId).next(Be=>(Ie=Be,this.remoteDocumentCache.getDocumentsMatchingQuery(_e,Ce,Pe,Ie,Re))).next(Be=>{Ie.forEach((De,Fe)=>{const Oe=Fe.getKey();Be.get(Oe)===null&&(Be=Be.insert(Oe,MutableDocument.newInvalidDocument(Oe)))});let je=documentMap();return Be.forEach((De,Fe)=>{const Oe=Ie.get(De);Oe!==void 0&&__PRIVATE_mutationApplyToLocalView(Oe.mutation,Fe,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(Ce,Fe)&&(je=je.insert(De,Fe))}),je})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(_e){this.serializer=_e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(_e,Ce){return PersistencePromise.resolve(this.Br.get(Ce))}saveBundleMetadata(_e,Ce){return this.Br.set(Ce.id,function(Re){return{id:Re.id,version:Re.version,createTime:__PRIVATE_fromVersion(Re.createTime)}}(Ce)),PersistencePromise.resolve()}getNamedQuery(_e,Ce){return PersistencePromise.resolve(this.Lr.get(Ce))}saveNamedQuery(_e,Ce){return this.Lr.set(Ce.name,function(Re){return{name:Re.name,query:__PRIVATE_fromBundledQuery(Re.bundledQuery),readTime:__PRIVATE_fromVersion(Re.readTime)}}(Ce)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.kr=new Map}getOverlay(_e,Ce){return PersistencePromise.resolve(this.overlays.get(Ce))}getOverlays(_e,Ce){const Pe=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(Ce,Re=>this.getOverlay(_e,Re).next(Ie=>{Ie!==null&&Pe.set(Re,Ie)})).next(()=>Pe)}saveOverlays(_e,Ce,Pe){return Pe.forEach((Re,Ie)=>{this.wt(_e,Ce,Ie)}),PersistencePromise.resolve()}removeOverlaysForBatchId(_e,Ce,Pe){const Re=this.kr.get(Pe);return Re!==void 0&&(Re.forEach(Ie=>this.overlays=this.overlays.remove(Ie)),this.kr.delete(Pe)),PersistencePromise.resolve()}getOverlaysForCollection(_e,Ce,Pe){const Re=__PRIVATE_newOverlayMap(),Ie=Ce.length+1,Be=new DocumentKey(Ce.child("")),je=this.overlays.getIteratorFrom(Be);for(;je.hasNext();){const De=je.getNext().value,Fe=De.getKey();if(!Ce.isPrefixOf(Fe.path))break;Fe.path.length===Ie&&De.largestBatchId>Pe&&Re.set(De.getKey(),De)}return PersistencePromise.resolve(Re)}getOverlaysForCollectionGroup(_e,Ce,Pe,Re){let Ie=new SortedMap((Fe,Oe)=>Fe-Oe);const Be=this.overlays.getIterator();for(;Be.hasNext();){const Fe=Be.getNext().value;if(Fe.getKey().getCollectionGroup()===Ce&&Fe.largestBatchId>Pe){let Oe=Ie.get(Fe.largestBatchId);Oe===null&&(Oe=__PRIVATE_newOverlayMap(),Ie=Ie.insert(Fe.largestBatchId,Oe)),Oe.set(Fe.getKey(),Fe)}}const je=__PRIVATE_newOverlayMap(),De=Ie.getIterator();for(;De.hasNext()&&(De.getNext().value.forEach((Fe,Oe)=>je.set(Fe,Oe)),!(je.size()>=Re)););return PersistencePromise.resolve(je)}wt(_e,Ce,Pe){const Re=this.overlays.get(Pe.key);if(Re!==null){const Be=this.kr.get(Re.largestBatchId).delete(Pe.key);this.kr.set(Re.largestBatchId,Be)}this.overlays=this.overlays.insert(Pe.key,new Overlay(Ce,Pe));let Ie=this.kr.get(Ce);Ie===void 0&&(Ie=__PRIVATE_documentKeySet(),this.kr.set(Ce,Ie)),this.kr.set(Ce,Ie.add(Pe.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(_e){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(_e,Ce){return this.sessionToken=Ce,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.qr=new SortedSet(__PRIVATE_DocReference.Qr),this.$r=new SortedSet(__PRIVATE_DocReference.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(_e,Ce){const Pe=new __PRIVATE_DocReference(_e,Ce);this.qr=this.qr.add(Pe),this.$r=this.$r.add(Pe)}Kr(_e,Ce){_e.forEach(Pe=>this.addReference(Pe,Ce))}removeReference(_e,Ce){this.Wr(new __PRIVATE_DocReference(_e,Ce))}Gr(_e,Ce){_e.forEach(Pe=>this.removeReference(Pe,Ce))}zr(_e){const Ce=new DocumentKey(new ResourcePath([])),Pe=new __PRIVATE_DocReference(Ce,_e),Re=new __PRIVATE_DocReference(Ce,_e+1),Ie=[];return this.$r.forEachInRange([Pe,Re],Be=>{this.Wr(Be),Ie.push(Be.key)}),Ie}jr(){this.qr.forEach(_e=>this.Wr(_e))}Wr(_e){this.qr=this.qr.delete(_e),this.$r=this.$r.delete(_e)}Jr(_e){const Ce=new DocumentKey(new ResourcePath([])),Pe=new __PRIVATE_DocReference(Ce,_e),Re=new __PRIVATE_DocReference(Ce,_e+1);let Ie=__PRIVATE_documentKeySet();return this.$r.forEachInRange([Pe,Re],Be=>{Ie=Ie.add(Be.key)}),Ie}containsKey(_e){const Ce=new __PRIVATE_DocReference(_e,0),Pe=this.qr.firstAfterOrEqual(Ce);return Pe!==null&&_e.isEqual(Pe.key)}}class __PRIVATE_DocReference{constructor(_e,Ce){this.key=_e,this.Hr=Ce}static Qr(_e,Ce){return DocumentKey.comparator(_e.key,Ce.key)||__PRIVATE_primitiveComparator(_e.Hr,Ce.Hr)}static Ur(_e,Ce){return __PRIVATE_primitiveComparator(_e.Hr,Ce.Hr)||DocumentKey.comparator(_e.key,Ce.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(_e,Ce){this.indexManager=_e,this.referenceDelegate=Ce,this.mutationQueue=[],this.er=1,this.Yr=new SortedSet(__PRIVATE_DocReference.Qr)}checkEmpty(_e){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(_e,Ce,Pe,Re){const Ie=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const Be=new MutationBatch(Ie,Ce,Pe,Re);this.mutationQueue.push(Be);for(const je of Re)this.Yr=this.Yr.add(new __PRIVATE_DocReference(je.key,Ie)),this.indexManager.addToCollectionParentIndex(_e,je.key.path.popLast());return PersistencePromise.resolve(Be)}lookupMutationBatch(_e,Ce){return PersistencePromise.resolve(this.Zr(Ce))}getNextMutationBatchAfterBatchId(_e,Ce){const Pe=Ce+1,Re=this.Xr(Pe),Ie=Re<0?0:Re;return PersistencePromise.resolve(this.mutationQueue.length>Ie?this.mutationQueue[Ie]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?G$2:this.er-1)}getAllMutationBatches(_e){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(_e,Ce){const Pe=new __PRIVATE_DocReference(Ce,0),Re=new __PRIVATE_DocReference(Ce,Number.POSITIVE_INFINITY),Ie=[];return this.Yr.forEachInRange([Pe,Re],Be=>{const je=this.Zr(Be.Hr);Ie.push(je)}),PersistencePromise.resolve(Ie)}getAllMutationBatchesAffectingDocumentKeys(_e,Ce){let Pe=new SortedSet(__PRIVATE_primitiveComparator);return Ce.forEach(Re=>{const Ie=new __PRIVATE_DocReference(Re,0),Be=new __PRIVATE_DocReference(Re,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([Ie,Be],je=>{Pe=Pe.add(je.Hr)})}),PersistencePromise.resolve(this.ei(Pe))}getAllMutationBatchesAffectingQuery(_e,Ce){const Pe=Ce.path,Re=Pe.length+1;let Ie=Pe;DocumentKey.isDocumentKey(Ie)||(Ie=Ie.child(""));const Be=new __PRIVATE_DocReference(new DocumentKey(Ie),0);let je=new SortedSet(__PRIVATE_primitiveComparator);return this.Yr.forEachWhile(De=>{const Fe=De.key.path;return!!Pe.isPrefixOf(Fe)&&(Fe.length===Re&&(je=je.add(De.Hr)),!0)},Be),PersistencePromise.resolve(this.ei(je))}ei(_e){const Ce=[];return _e.forEach(Pe=>{const Re=this.Zr(Pe);Re!==null&&Ce.push(Re)}),Ce}removeMutationBatch(_e,Ce){__PRIVATE_hardAssert(this.ti(Ce.batchId,"removed")===0,55003),this.mutationQueue.shift();let Pe=this.Yr;return PersistencePromise.forEach(Ce.mutations,Re=>{const Ie=new __PRIVATE_DocReference(Re.key,Ce.batchId);return Pe=Pe.delete(Ie),this.referenceDelegate.markPotentiallyOrphaned(_e,Re.key)}).next(()=>{this.Yr=Pe})}rr(_e){}containsKey(_e,Ce){const Pe=new __PRIVATE_DocReference(Ce,0),Re=this.Yr.firstAfterOrEqual(Pe);return PersistencePromise.resolve(Ce.isEqual(Re&&Re.key))}performConsistencyCheck(_e){return this.mutationQueue.length,PersistencePromise.resolve()}ti(_e,Ce){return this.Xr(_e)}Xr(_e){return this.mutationQueue.length===0?0:_e-this.mutationQueue[0].batchId}Zr(_e){const Ce=this.Xr(_e);return Ce<0||Ce>=this.mutationQueue.length?null:this.mutationQueue[Ce]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(_e){this.ni=_e,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(_e){this.indexManager=_e}addEntry(_e,Ce){const Pe=Ce.key,Re=this.docs.get(Pe),Ie=Re?Re.size:0,Be=this.ni(Ce);return this.docs=this.docs.insert(Pe,{document:Ce.mutableCopy(),size:Be}),this.size+=Be-Ie,this.indexManager.addToCollectionParentIndex(_e,Pe.path.popLast())}removeEntry(_e){const Ce=this.docs.get(_e);Ce&&(this.docs=this.docs.remove(_e),this.size-=Ce.size)}getEntry(_e,Ce){const Pe=this.docs.get(Ce);return PersistencePromise.resolve(Pe?Pe.document.mutableCopy():MutableDocument.newInvalidDocument(Ce))}getEntries(_e,Ce){let Pe=__PRIVATE_mutableDocumentMap();return Ce.forEach(Re=>{const Ie=this.docs.get(Re);Pe=Pe.insert(Re,Ie?Ie.document.mutableCopy():MutableDocument.newInvalidDocument(Re))}),PersistencePromise.resolve(Pe)}getDocumentsMatchingQuery(_e,Ce,Pe,Re){let Ie=__PRIVATE_mutableDocumentMap();const Be=Ce.path,je=new DocumentKey(Be.child("__id-9223372036854775808__")),De=this.docs.getIteratorFrom(je);for(;De.hasNext();){const{key:Fe,value:{document:Oe}}=De.getNext();if(!Be.isPrefixOf(Fe.path))break;Fe.path.length>Be.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(Oe),Pe)<=0||(Re.has(Oe.key)||__PRIVATE_queryMatches(Ce,Oe))&&(Ie=Ie.insert(Oe.key,Oe.mutableCopy()))}return PersistencePromise.resolve(Ie)}getAllFromCollectionGroup(_e,Ce,Pe,Re){fail(9500)}ri(_e,Ce){return PersistencePromise.forEach(this.docs,Pe=>Ce(Pe))}newChangeBuffer(_e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(_e){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(_e){super(),this.Or=_e}applyChanges(_e){const Ce=[];return this.changes.forEach((Pe,Re)=>{Re.isValidDocument()?Ce.push(this.Or.addEntry(_e,Re)):this.Or.removeEntry(Pe)}),PersistencePromise.waitFor(Ce)}getFromCache(_e,Ce){return this.Or.getEntry(_e,Ce)}getAllFromCache(_e,Ce){return this.Or.getEntries(_e,Ce)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(_e){this.persistence=_e,this.ii=new ObjectMap(Ce=>__PRIVATE_canonifyTarget(Ce),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.si=0,this.oi=new __PRIVATE_ReferenceSet,this.targetCount=0,this._i=__PRIVATE_TargetIdGenerator.ar()}forEachTarget(_e,Ce){return this.ii.forEach((Pe,Re)=>Ce(Re)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(_e){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(_e){return PersistencePromise.resolve(this.si)}allocateTargetId(_e){return this.highestTargetId=this._i.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(_e,Ce,Pe){return Pe&&(this.lastRemoteSnapshotVersion=Pe),Ce>this.si&&(this.si=Ce),PersistencePromise.resolve()}hr(_e){this.ii.set(_e.target,_e);const Ce=_e.targetId;Ce>this.highestTargetId&&(this._i=new __PRIVATE_TargetIdGenerator(Ce),this.highestTargetId=Ce),_e.sequenceNumber>this.si&&(this.si=_e.sequenceNumber)}addTargetData(_e,Ce){return this.hr(Ce),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(_e,Ce){return this.hr(Ce),PersistencePromise.resolve()}removeTargetData(_e,Ce){return this.ii.delete(Ce.target),this.oi.zr(Ce.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(_e,Ce,Pe){let Re=0;const Ie=[];return this.ii.forEach((Be,je)=>{je.sequenceNumber<=Ce&&Pe.get(je.targetId)===null&&(this.ii.delete(Be),Ie.push(this.removeMatchingKeysForTargetId(_e,je.targetId)),Re++)}),PersistencePromise.waitFor(Ie).next(()=>Re)}getTargetCount(_e){return PersistencePromise.resolve(this.targetCount)}getTargetData(_e,Ce){const Pe=this.ii.get(Ce)||null;return PersistencePromise.resolve(Pe)}addMatchingKeys(_e,Ce,Pe){return this.oi.Kr(Ce,Pe),PersistencePromise.resolve()}removeMatchingKeys(_e,Ce,Pe){this.oi.Gr(Ce,Pe);const Re=this.persistence.referenceDelegate,Ie=[];return Re&&Ce.forEach(Be=>{Ie.push(Re.markPotentiallyOrphaned(_e,Be))}),PersistencePromise.waitFor(Ie)}removeMatchingKeysForTargetId(_e,Ce){return this.oi.zr(Ce),PersistencePromise.resolve()}getMatchingKeysForTargetId(_e,Ce){const Pe=this.oi.Jr(Ce);return PersistencePromise.resolve(Pe)}containsKey(_e,Ce){return PersistencePromise.resolve(this.oi.containsKey(Ce))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(_e,Ce){this.ai={},this.overlays={},this.ui=new __PRIVATE_ListenSequence(0),this.ci=!1,this.ci=!0,this.li=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=_e(this),this.hi=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(Re){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(Re)}(Pe=>this.referenceDelegate.Pi(Pe)),this.serializer=new __PRIVATE_LocalSerializer(Ce),this.Ti=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(_e){return this.indexManager}getDocumentOverlayCache(_e){let Ce=this.overlays[_e.toKey()];return Ce||(Ce=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[_e.toKey()]=Ce),Ce}getMutationQueue(_e,Ce){let Pe=this.ai[_e.toKey()];return Pe||(Pe=new __PRIVATE_MemoryMutationQueue(Ce,this.referenceDelegate),this.ai[_e.toKey()]=Pe),Pe}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(_e,Ce,Pe){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",_e);const Re=new __PRIVATE_MemoryTransaction(this.ui.next());return this.referenceDelegate.Ii(),Pe(Re).next(Ie=>this.referenceDelegate.di(Re).next(()=>Ie)).toPromise().then(Ie=>(Re.raiseOnCommittedEvent(),Ie))}Ei(_e,Ce){return PersistencePromise.or(Object.values(this.ai).map(Pe=>()=>Pe.containsKey(_e,Ce)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(_e){super(),this.currentSequenceNumber=_e}}class __PRIVATE_MemoryEagerDelegate{constructor(_e){this.persistence=_e,this.Ai=new __PRIVATE_ReferenceSet,this.Ri=null}static Vi(_e){return new __PRIVATE_MemoryEagerDelegate(_e)}get mi(){if(this.Ri)return this.Ri;throw fail(60996)}addReference(_e,Ce,Pe){return this.Ai.addReference(Pe,Ce),this.mi.delete(Pe.toString()),PersistencePromise.resolve()}removeReference(_e,Ce,Pe){return this.Ai.removeReference(Pe,Ce),this.mi.add(Pe.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(_e,Ce){return this.mi.add(Ce.toString()),PersistencePromise.resolve()}removeTarget(_e,Ce){this.Ai.zr(Ce.targetId).forEach(Re=>this.mi.add(Re.toString()));const Pe=this.persistence.getTargetCache();return Pe.getMatchingKeysForTargetId(_e,Ce.targetId).next(Re=>{Re.forEach(Ie=>this.mi.add(Ie.toString()))}).next(()=>Pe.removeTargetData(_e,Ce))}Ii(){this.Ri=new Set}di(_e){const Ce=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.mi,Pe=>{const Re=DocumentKey.fromPath(Pe);return this.fi(_e,Re).next(Ie=>{Ie||Ce.removeEntry(Re,SnapshotVersion.min())})}).next(()=>(this.Ri=null,Ce.apply(_e)))}updateLimboDocument(_e,Ce){return this.fi(_e,Ce).next(Pe=>{Pe?this.mi.delete(Ce.toString()):this.mi.add(Ce.toString())})}Pi(_e){return 0}fi(_e,Ce){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Ai.containsKey(Ce)),()=>this.persistence.getTargetCache().containsKey(_e,Ce),()=>this.persistence.Ei(_e,Ce)])}}class __PRIVATE_MemoryLruDelegate{constructor(_e,Ce){this.persistence=_e,this.gi=new ObjectMap(Pe=>__PRIVATE_encodeResourcePath(Pe.path),(Pe,Re)=>Pe.isEqual(Re)),this.garbageCollector=__PRIVATE_newLruGarbageCollector(this,Ce)}static Vi(_e,Ce){return new __PRIVATE_MemoryLruDelegate(_e,Ce)}Ii(){}di(_e){return PersistencePromise.resolve()}forEachTarget(_e,Ce){return this.persistence.getTargetCache().forEachTarget(_e,Ce)}mr(_e){const Ce=this.yr(_e);return this.persistence.getTargetCache().getTargetCount(_e).next(Pe=>Ce.next(Re=>Pe+Re))}yr(_e){let Ce=0;return this.gr(_e,Pe=>{Ce++}).next(()=>Ce)}gr(_e,Ce){return PersistencePromise.forEach(this.gi,(Pe,Re)=>this.Sr(_e,Pe,Re).next(Ie=>Ie?PersistencePromise.resolve():Ce(Re)))}removeTargets(_e,Ce,Pe){return this.persistence.getTargetCache().removeTargets(_e,Ce,Pe)}removeOrphanedDocuments(_e,Ce){let Pe=0;const Re=this.persistence.getRemoteDocumentCache(),Ie=Re.newChangeBuffer();return Re.ri(_e,Be=>this.Sr(_e,Be,Ce).next(je=>{je||(Pe++,Ie.removeEntry(Be,SnapshotVersion.min()))})).next(()=>Ie.apply(_e)).next(()=>Pe)}markPotentiallyOrphaned(_e,Ce){return this.gi.set(Ce,_e.currentSequenceNumber),PersistencePromise.resolve()}removeTarget(_e,Ce){const Pe=Ce.withSequenceNumber(_e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(_e,Pe)}addReference(_e,Ce,Pe){return this.gi.set(Pe,_e.currentSequenceNumber),PersistencePromise.resolve()}removeReference(_e,Ce,Pe){return this.gi.set(Pe,_e.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument(_e,Ce){return this.gi.set(Ce,_e.currentSequenceNumber),PersistencePromise.resolve()}Pi(_e){let Ce=_e.key.toString().length;return _e.isFoundDocument()&&(Ce+=__PRIVATE_estimateByteSize(_e.data.value)),Ce}Sr(_e,Ce,Pe){return PersistencePromise.or([()=>this.persistence.Ei(_e,Ce),()=>this.persistence.getTargetCache().containsKey(_e,Ce),()=>{const Re=this.gi.get(Ce);return PersistencePromise.resolve(Re!==void 0&&Re>Pe)}])}getCacheSize(_e){return this.persistence.getRemoteDocumentCache().getSize(_e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(_e,Ce,Pe,Re){this.targetId=_e,this.fromCache=Ce,this.Is=Pe,this.ds=Re}static Es(_e,Ce){let Pe=__PRIVATE_documentKeySet(),Re=__PRIVATE_documentKeySet();for(const Ie of Ce.docChanges)switch(Ie.type){case 0:Pe=Pe.add(Ie.doc.key);break;case 1:Re=Re.add(Ie.doc.key)}return new __PRIVATE_LocalViewChanges(_e,Ce.fromCache,Pe,Re)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(_e){this._documentReadCount+=_e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(_e,Ce){this.gs=_e,this.indexManager=Ce,this.As=!0}getDocumentsMatchingQuery(_e,Ce,Pe,Re){const Ie={result:null};return this.ps(_e,Ce).next(Be=>{Ie.result=Be}).next(()=>{if(!Ie.result)return this.ys(_e,Ce,Re,Pe).next(Be=>{Ie.result=Be})}).next(()=>{if(Ie.result)return;const Be=new QueryContext;return this.ws(_e,Ce,Be).next(je=>{if(Ie.result=je,this.Rs)return this.Ss(_e,Ce,Be,je.size)})}).next(()=>Ie.result)}Ss(_e,Ce,Pe,Re){return Pe.documentReadCount<this.Vs?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(Ce),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(Ce),"scans",Pe.documentReadCount,"local documents and returns",Re,"documents as results."),Pe.documentReadCount>this.fs*Re?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(Ce),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(_e,__PRIVATE_queryToTarget(Ce))):PersistencePromise.resolve())}ps(_e,Ce){if(__PRIVATE_queryMatchesAllDocuments(Ce))return PersistencePromise.resolve(null);let Pe=__PRIVATE_queryToTarget(Ce);return this.indexManager.getIndexType(_e,Pe).next(Re=>Re===0?null:(Ce.limit!==null&&Re===1&&(Ce=__PRIVATE_queryWithLimit(Ce,null,"F"),Pe=__PRIVATE_queryToTarget(Ce)),this.indexManager.getDocumentsMatchingTarget(_e,Pe).next(Ie=>{const Be=__PRIVATE_documentKeySet(...Ie);return this.gs.getDocuments(_e,Be).next(je=>this.indexManager.getMinOffset(_e,Pe).next(De=>{const Fe=this.bs(Ce,je);return this.Ds(Ce,Fe,Be,De.readTime)?this.ps(_e,__PRIVATE_queryWithLimit(Ce,null,"F")):this.vs(_e,Fe,Ce,De)}))})))}ys(_e,Ce,Pe,Re){return __PRIVATE_queryMatchesAllDocuments(Ce)||Re.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.gs.getDocuments(_e,Pe).next(Ie=>{const Be=this.bs(Ce,Ie);return this.Ds(Ce,Be,Pe,Re)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",Re.toString(),__PRIVATE_stringifyQuery(Ce)),this.vs(_e,Be,Ce,__PRIVATE_newIndexOffsetSuccessorFromReadTime(Re,Q$2)).next(je=>je))})}bs(_e,Ce){let Pe=new SortedSet(__PRIVATE_newQueryComparator(_e));return Ce.forEach((Re,Ie)=>{__PRIVATE_queryMatches(_e,Ie)&&(Pe=Pe.add(Ie))}),Pe}Ds(_e,Ce,Pe,Re){if(_e.limit===null)return!1;if(Pe.size!==Ce.size)return!0;const Ie=_e.limitType==="F"?Ce.last():Ce.first();return!!Ie&&(Ie.hasPendingWrites||Ie.version.compareTo(Re)>0)}ws(_e,Ce,Pe){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(Ce)),this.gs.getDocumentsMatchingQuery(_e,Ce,IndexOffset.min(),Pe)}vs(_e,Ce,Pe,Re){return this.gs.getDocumentsMatchingQuery(_e,Pe,Re).next(Ie=>(Ce.forEach(Be=>{Ie=Ie.insert(Be.key,Be)}),Ie))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt$2="LocalStore",$t$1=3e8;class __PRIVATE_LocalStoreImpl{constructor(_e,Ce,Pe,Re){this.persistence=_e,this.Cs=Ce,this.serializer=Re,this.Fs=new SortedMap(__PRIVATE_primitiveComparator),this.Ms=new ObjectMap(Ie=>__PRIVATE_canonifyTarget(Ie),__PRIVATE_targetEquals),this.xs=new Map,this.Os=_e.getRemoteDocumentCache(),this.hi=_e.getTargetCache(),this.Ti=_e.getBundleCache(),this.Ns(Pe)}Ns(_e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(_e),this.indexManager=this.persistence.getIndexManager(_e),this.mutationQueue=this.persistence.getMutationQueue(_e,this.indexManager),this.localDocuments=new LocalDocumentsView(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(_e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",Ce=>_e.collect(Ce,this.Fs))}}function __PRIVATE_newLocalStore(Ee,_e,Ce,Pe){return new __PRIVATE_LocalStoreImpl(Ee,_e,Ce,Pe)}async function __PRIVATE_localStoreHandleUserChange(Ee,_e){const Ce=__PRIVATE_debugCast(Ee);return await Ce.persistence.runTransaction("Handle user change","readonly",Pe=>{let Re;return Ce.mutationQueue.getAllMutationBatches(Pe).next(Ie=>(Re=Ie,Ce.Ns(_e),Ce.mutationQueue.getAllMutationBatches(Pe))).next(Ie=>{const Be=[],je=[];let De=__PRIVATE_documentKeySet();for(const Fe of Re){Be.push(Fe.batchId);for(const Oe of Fe.mutations)De=De.add(Oe.key)}for(const Fe of Ie){je.push(Fe.batchId);for(const Oe of Fe.mutations)De=De.add(Oe.key)}return Ce.localDocuments.getDocuments(Pe,De).next(Fe=>({Bs:Fe,removedBatchIds:Be,addedBatchIds:je}))})})}function __PRIVATE_localStoreAcknowledgeBatch(Ee,_e){const Ce=__PRIVATE_debugCast(Ee);return Ce.persistence.runTransaction("Acknowledge batch","readwrite-primary",Pe=>{const Re=_e.batch.keys(),Ie=Ce.Os.newChangeBuffer({trackRemovals:!0});return function(je,De,Fe,Oe){const ke=Fe.batch,Me=ke.keys();let $e=PersistencePromise.resolve();return Me.forEach(He=>{$e=$e.next(()=>Oe.getEntry(De,He)).next(Qe=>{const Ke=Fe.docVersions.get(He);__PRIVATE_hardAssert(Ke!==null,48541),Qe.version.compareTo(Ke)<0&&(ke.applyToRemoteDocument(Qe,Fe),Qe.isValidDocument()&&(Qe.setReadTime(Fe.commitVersion),Oe.addEntry(Qe)))})}),$e.next(()=>je.mutationQueue.removeMutationBatch(De,ke))}(Ce,Pe,_e,Ie).next(()=>Ie.apply(Pe)).next(()=>Ce.mutationQueue.performConsistencyCheck(Pe)).next(()=>Ce.documentOverlayCache.removeOverlaysForBatchId(Pe,Re,_e.batch.batchId)).next(()=>Ce.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Pe,function(je){let De=__PRIVATE_documentKeySet();for(let Fe=0;Fe<je.mutationResults.length;++Fe)je.mutationResults[Fe].transformResults.length>0&&(De=De.add(je.batch.mutations[Fe].key));return De}(_e))).next(()=>Ce.localDocuments.getDocuments(Pe,Re))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ee){const _e=__PRIVATE_debugCast(Ee);return _e.persistence.runTransaction("Get last remote snapshot version","readonly",Ce=>_e.hi.getLastRemoteSnapshotVersion(Ce))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(Ee,_e){const Ce=__PRIVATE_debugCast(Ee),Pe=_e.snapshotVersion;let Re=Ce.Fs;return Ce.persistence.runTransaction("Apply remote event","readwrite-primary",Ie=>{const Be=Ce.Os.newChangeBuffer({trackRemovals:!0});Re=Ce.Fs;const je=[];_e.targetChanges.forEach((Oe,ke)=>{const Me=Re.get(ke);if(!Me)return;je.push(Ce.hi.removeMatchingKeys(Ie,Oe.removedDocuments,ke).next(()=>Ce.hi.addMatchingKeys(Ie,Oe.addedDocuments,ke)));let $e=Me.withSequenceNumber(Ie.currentSequenceNumber);_e.targetMismatches.get(ke)!==null?$e=$e.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):Oe.resumeToken.approximateByteSize()>0&&($e=$e.withResumeToken(Oe.resumeToken,Pe)),Re=Re.insert(ke,$e),function(Qe,Ke,ze){return Qe.resumeToken.approximateByteSize()===0||Ke.snapshotVersion.toMicroseconds()-Qe.snapshotVersion.toMicroseconds()>=$t$1?!0:ze.addedDocuments.size+ze.modifiedDocuments.size+ze.removedDocuments.size>0}(Me,$e,Oe)&&je.push(Ce.hi.updateTargetData(Ie,$e))});let De=__PRIVATE_mutableDocumentMap(),Fe=__PRIVATE_documentKeySet();if(_e.documentUpdates.forEach(Oe=>{_e.resolvedLimboDocuments.has(Oe)&&je.push(Ce.persistence.referenceDelegate.updateLimboDocument(Ie,Oe))}),je.push(__PRIVATE_populateDocumentChangeBuffer(Ie,Be,_e.documentUpdates).next(Oe=>{De=Oe.Ls,Fe=Oe.ks})),!Pe.isEqual(SnapshotVersion.min())){const Oe=Ce.hi.getLastRemoteSnapshotVersion(Ie).next(ke=>Ce.hi.setTargetsMetadata(Ie,Ie.currentSequenceNumber,Pe));je.push(Oe)}return PersistencePromise.waitFor(je).next(()=>Be.apply(Ie)).next(()=>Ce.localDocuments.getLocalViewOfDocuments(Ie,De,Fe)).next(()=>De)}).then(Ie=>(Ce.Fs=Re,Ie))}function __PRIVATE_populateDocumentChangeBuffer(Ee,_e,Ce){let Pe=__PRIVATE_documentKeySet(),Re=__PRIVATE_documentKeySet();return Ce.forEach(Ie=>Pe=Pe.add(Ie)),_e.getEntries(Ee,Pe).next(Ie=>{let Be=__PRIVATE_mutableDocumentMap();return Ce.forEach((je,De)=>{const Fe=Ie.get(je);De.isFoundDocument()!==Fe.isFoundDocument()&&(Re=Re.add(je)),De.isNoDocument()&&De.version.isEqual(SnapshotVersion.min())?(_e.removeEntry(je,De.readTime),Be=Be.insert(je,De)):!Fe.isValidDocument()||De.version.compareTo(Fe.version)>0||De.version.compareTo(Fe.version)===0&&Fe.hasPendingWrites?(_e.addEntry(De),Be=Be.insert(je,De)):__PRIVATE_logDebug(Qt$2,"Ignoring outdated watch update for ",je,". Current version:",Fe.version," Watch version:",De.version)}),{Ls:Be,ks:Re}})}function __PRIVATE_localStoreGetNextMutationBatch(Ee,_e){const Ce=__PRIVATE_debugCast(Ee);return Ce.persistence.runTransaction("Get next mutation batch","readonly",Pe=>(_e===void 0&&(_e=G$2),Ce.mutationQueue.getNextMutationBatchAfterBatchId(Pe,_e)))}function __PRIVATE_localStoreAllocateTarget(Ee,_e){const Ce=__PRIVATE_debugCast(Ee);return Ce.persistence.runTransaction("Allocate target","readwrite",Pe=>{let Re;return Ce.hi.getTargetData(Pe,_e).next(Ie=>Ie?(Re=Ie,PersistencePromise.resolve(Re)):Ce.hi.allocateTargetId(Pe).next(Be=>(Re=new TargetData(_e,Be,"TargetPurposeListen",Pe.currentSequenceNumber),Ce.hi.addTargetData(Pe,Re).next(()=>Re))))}).then(Pe=>{const Re=Ce.Fs.get(Pe.targetId);return(Re===null||Pe.snapshotVersion.compareTo(Re.snapshotVersion)>0)&&(Ce.Fs=Ce.Fs.insert(Pe.targetId,Pe),Ce.Ms.set(_e,Pe.targetId)),Pe})}async function __PRIVATE_localStoreReleaseTarget(Ee,_e,Ce){const Pe=__PRIVATE_debugCast(Ee),Re=Pe.Fs.get(_e),Ie=Ce?"readwrite":"readwrite-primary";try{Ce||await Pe.persistence.runTransaction("Release target",Ie,Be=>Pe.persistence.referenceDelegate.removeTarget(Be,Re))}catch(Be){if(!__PRIVATE_isIndexedDbTransactionError(Be))throw Be;__PRIVATE_logDebug(Qt$2,`Failed to update sequence numbers for target ${_e}: ${Be}`)}Pe.Fs=Pe.Fs.remove(_e),Pe.Ms.delete(Re.target)}function __PRIVATE_localStoreExecuteQuery(Ee,_e,Ce){const Pe=__PRIVATE_debugCast(Ee);let Re=SnapshotVersion.min(),Ie=__PRIVATE_documentKeySet();return Pe.persistence.runTransaction("Execute query","readwrite",Be=>function(De,Fe,Oe){const ke=__PRIVATE_debugCast(De),Me=ke.Ms.get(Oe);return Me!==void 0?PersistencePromise.resolve(ke.Fs.get(Me)):ke.hi.getTargetData(Fe,Oe)}(Pe,Be,__PRIVATE_queryToTarget(_e)).next(je=>{if(je)return Re=je.lastLimboFreeSnapshotVersion,Pe.hi.getMatchingKeysForTargetId(Be,je.targetId).next(De=>{Ie=De})}).next(()=>Pe.Cs.getDocumentsMatchingQuery(Be,_e,Ce?Re:SnapshotVersion.min(),Ce?Ie:__PRIVATE_documentKeySet())).next(je=>(__PRIVATE_setMaxReadTime(Pe,__PRIVATE_queryCollectionGroup(_e),je),{documents:je,qs:Ie})))}function __PRIVATE_setMaxReadTime(Ee,_e,Ce){let Pe=Ee.xs.get(_e)||SnapshotVersion.min();Ce.forEach((Re,Ie)=>{Ie.readTime.compareTo(Pe)>0&&(Pe=Ie.readTime)}),Ee.xs.set(_e,Pe)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}Gs(_e){this.activeTargetIds=this.activeTargetIds.add(_e)}zs(_e){this.activeTargetIds=this.activeTargetIds.delete(_e)}Ws(){const _e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(_e)}}class __PRIVATE_MemorySharedClientState{constructor(){this.Fo=new __PRIVATE_LocalClientState,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(_e){}updateMutationState(_e,Ce,Pe){}addLocalQueryTarget(_e,Ce=!0){return Ce&&this.Fo.Gs(_e),this.Mo[_e]||"not-current"}updateQueryState(_e,Ce,Pe){this.Mo[_e]=Ce}removeLocalQueryTarget(_e){this.Fo.zs(_e)}isLocalQueryTarget(_e){return this.Fo.activeTargetIds.has(_e)}clearQueryState(_e){delete this.Mo[_e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(_e){return this.Fo.activeTargetIds.has(_e)}start(){return this.Fo=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(_e,Ce,Pe){}setOnlineState(_e){}shutdown(){}writeSequenceNumber(_e){}notifyBundleLoaded(_e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{xo(_e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt$1="ConnectivityMonitor";class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(_e){this.ko.push(_e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){__PRIVATE_logDebug(zt$1,"Network connectivity changed: AVAILABLE");for(const _e of this.ko)_e(0)}Lo(){__PRIVATE_logDebug(zt$1,"Network connectivity changed: UNAVAILABLE");for(const _e of this.ko)_e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jt$1=null;function __PRIVATE_generateUniqueDebugId(){return jt$1===null?jt$1=function(){return 268435456+Math.round(2147483648*Math.random())}():jt$1++,"0x"+jt$1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt$1="RestConnection",Ht$1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_RestConnection{get Qo(){return!1}constructor(_e){this.databaseInfo=_e,this.databaseId=_e.databaseId;const Ce=_e.ssl?"https":"http",Pe=encodeURIComponent(this.databaseId.projectId),Re=encodeURIComponent(this.databaseId.database);this.$o=Ce+"://"+_e.host,this.Uo=`projects/${Pe}/databases/${Re}`,this.Ko=this.databaseId.database===ut$1?`project_id=${Pe}`:`project_id=${Pe}&database_id=${Re}`}Wo(_e,Ce,Pe,Re,Ie){const Be=__PRIVATE_generateUniqueDebugId(),je=this.Go(_e,Ce.toUriEncodedString());__PRIVATE_logDebug(Jt$1,`Sending RPC '${_e}' ${Be}:`,je,Pe);const De={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(De,Re,Ie);const{host:Fe}=new URL(je),Oe=isCloudWorkstation(Fe);return this.jo(_e,je,De,Pe,Oe).then(ke=>(__PRIVATE_logDebug(Jt$1,`Received RPC '${_e}' ${Be}: `,ke),ke),ke=>{throw __PRIVATE_logWarn(Jt$1,`RPC '${_e}' ${Be} failed with error: `,ke,"url: ",je,"request:",Pe),ke})}Jo(_e,Ce,Pe,Re,Ie,Be){return this.Wo(_e,Ce,Pe,Re,Ie)}zo(_e,Ce,Pe){_e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+x$4}(),_e["Content-Type"]="text/plain",this.databaseInfo.appId&&(_e["X-Firebase-GMPID"]=this.databaseInfo.appId),Ce&&Ce.headers.forEach((Re,Ie)=>_e[Ie]=Re),Pe&&Pe.headers.forEach((Re,Ie)=>_e[Ie]=Re)}Go(_e,Ce){const Pe=Ht$1[_e];return`${this.$o}/v1/${Ce}:${Pe}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(_e){this.Ho=_e.Ho,this.Yo=_e.Yo}Zo(_e){this.Xo=_e}e_(_e){this.t_=_e}n_(_e){this.r_=_e}onMessage(_e){this.i_=_e}close(){this.Yo()}send(_e){this.Ho(_e)}s_(){this.Xo()}o_(){this.t_()}__(_e){this.r_(_e)}a_(_e){this.i_(_e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt$1="WebChannelConnection";class __PRIVATE_WebChannelConnection extends __PRIVATE_RestConnection{constructor(_e){super(_e),this.u_=[],this.forceLongPolling=_e.forceLongPolling,this.autoDetectLongPolling=_e.autoDetectLongPolling,this.useFetchStreams=_e.useFetchStreams,this.longPollingOptions=_e.longPollingOptions}jo(_e,Ce,Pe,Re,Ie){const Be=__PRIVATE_generateUniqueDebugId();return new Promise((je,De)=>{const Fe=new XhrIo;Fe.setWithCredentials(!0),Fe.listenOnce(EventType.COMPLETE,()=>{try{switch(Fe.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const ke=Fe.getResponseJson();__PRIVATE_logDebug(Yt$1,`XHR for RPC '${_e}' ${Be} received:`,JSON.stringify(ke)),je(ke);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(Yt$1,`RPC '${_e}' ${Be} timed out`),De(new FirestoreError(N$2.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const Me=Fe.getStatus();if(__PRIVATE_logDebug(Yt$1,`RPC '${_e}' ${Be} failed with status:`,Me,"response text:",Fe.getResponseText()),Me>0){let $e=Fe.getResponseJson();Array.isArray($e)&&($e=$e[0]);const He=$e?.error;if(He&&He.status&&He.message){const Qe=function(ze){const We=ze.toLowerCase().replace(/_/g,"-");return Object.values(N$2).indexOf(We)>=0?We:N$2.UNKNOWN}(He.status);De(new FirestoreError(Qe,He.message))}else De(new FirestoreError(N$2.UNKNOWN,"Server responded with status "+Fe.getStatus()))}else De(new FirestoreError(N$2.UNAVAILABLE,"Connection failed."));break;default:fail(9055,{c_:_e,streamId:Be,l_:Fe.getLastErrorCode(),h_:Fe.getLastError()})}}finally{__PRIVATE_logDebug(Yt$1,`RPC '${_e}' ${Be} completed.`)}});const Oe=JSON.stringify(Re);__PRIVATE_logDebug(Yt$1,`RPC '${_e}' ${Be} sending request:`,Re),Fe.send(Ce,"POST",Oe,Pe,15)})}P_(_e,Ce,Pe){const Re=__PRIVATE_generateUniqueDebugId(),Ie=[this.$o,"/","google.firestore.v1.Firestore","/",_e,"/channel"],Be=createWebChannelTransport(),je=getStatEventTarget(),De={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Fe=this.longPollingOptions.timeoutSeconds;Fe!==void 0&&(De.longPollingTimeout=Math.round(1e3*Fe)),this.useFetchStreams&&(De.useFetchStreams=!0),this.zo(De.initMessageHeaders,Ce,Pe),De.encodeInitMessageHeaders=!0;const Oe=Ie.join("");__PRIVATE_logDebug(Yt$1,`Creating RPC '${_e}' stream ${Re}: ${Oe}`,De);const ke=Be.createWebChannel(Oe,De);this.T_(ke);let Me=!1,$e=!1;const He=new __PRIVATE_StreamBridge({Ho:Ke=>{$e?__PRIVATE_logDebug(Yt$1,`Not sending because RPC '${_e}' stream ${Re} is closed:`,Ke):(Me||(__PRIVATE_logDebug(Yt$1,`Opening RPC '${_e}' stream ${Re} transport.`),ke.open(),Me=!0),__PRIVATE_logDebug(Yt$1,`RPC '${_e}' stream ${Re} sending:`,Ke),ke.send(Ke))},Yo:()=>ke.close()}),Qe=(Ke,ze,We)=>{Ke.listen(ze,qe=>{try{We(qe)}catch(Ye){setTimeout(()=>{throw Ye},0)}})};return Qe(ke,WebChannel.EventType.OPEN,()=>{$e||(__PRIVATE_logDebug(Yt$1,`RPC '${_e}' stream ${Re} transport opened.`),He.s_())}),Qe(ke,WebChannel.EventType.CLOSE,()=>{$e||($e=!0,__PRIVATE_logDebug(Yt$1,`RPC '${_e}' stream ${Re} transport closed`),He.__(),this.I_(ke))}),Qe(ke,WebChannel.EventType.ERROR,Ke=>{$e||($e=!0,__PRIVATE_logWarn(Yt$1,`RPC '${_e}' stream ${Re} transport errored. Name:`,Ke.name,"Message:",Ke.message),He.__(new FirestoreError(N$2.UNAVAILABLE,"The operation could not be completed")))}),Qe(ke,WebChannel.EventType.MESSAGE,Ke=>{var ze;if(!$e){const We=Ke.data[0];__PRIVATE_hardAssert(!!We,16349);const qe=We,Ye=qe?.error||((ze=qe[0])===null||ze===void 0?void 0:ze.error);if(Ye){__PRIVATE_logDebug(Yt$1,`RPC '${_e}' stream ${Re} received error:`,Ye);const Xe=Ye.status;let rr=function(or){const pr=ft$1[or];if(pr!==void 0)return __PRIVATE_mapCodeFromRpcCode(pr)}(Xe),Je=Ye.message;rr===void 0&&(rr=N$2.INTERNAL,Je="Unknown error status: "+Xe+" with message "+Ye.message),$e=!0,He.__(new FirestoreError(rr,Je)),ke.close()}else __PRIVATE_logDebug(Yt$1,`RPC '${_e}' stream ${Re} received:`,We),He.a_(We)}}),Qe(je,Event$1.STAT_EVENT,Ke=>{Ke.stat===Stat.PROXY?__PRIVATE_logDebug(Yt$1,`RPC '${_e}' stream ${Re} detected buffering proxy`):Ke.stat===Stat.NOPROXY&&__PRIVATE_logDebug(Yt$1,`RPC '${_e}' stream ${Re} detected no buffering proxy`)}),setTimeout(()=>{He.o_()},0),He}terminate(){this.u_.forEach(_e=>_e.close()),this.u_=[]}T_(_e){this.u_.push(_e)}I_(_e){this.u_=this.u_.filter(Ce=>Ce===_e)}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(Ee){return new JsonProtoSerializer(Ee,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(_e,Ce,Pe=1e3,Re=1.5,Ie=6e4){this.Fi=_e,this.timerId=Ce,this.d_=Pe,this.E_=Re,this.A_=Ie,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(_e){this.cancel();const Ce=Math.floor(this.R_+this.p_()),Pe=Math.max(0,Date.now()-this.m_),Re=Math.max(0,Ce-Pe);Re>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${Re} ms (base delay: ${this.R_} ms, delay with jitter: ${Ce} ms, last attempt: ${Pe} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,Re,()=>(this.m_=Date.now(),_e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt$1="PersistentStream";class __PRIVATE_PersistentStream{constructor(_e,Ce,Pe,Re,Ie,Be,je,De){this.Fi=_e,this.w_=Pe,this.S_=Re,this.connection=Ie,this.authCredentialsProvider=Be,this.appCheckCredentialsProvider=je,this.listener=De,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new __PRIVATE_ExponentialBackoff(_e,Ce)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(_e){this.q_(),this.stream.send(_e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(_e,Ce){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,_e!==4?this.F_.reset():Ce&&Ce.code===N$2.RESOURCE_EXHAUSTED?(__PRIVATE_logError(Ce.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):Ce&&Ce.code===N$2.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=_e,await this.listener.n_(Ce)}U_(){}auth(){this.state=1;const _e=this.K_(this.b_),Ce=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([Pe,Re])=>{this.b_===Ce&&this.W_(Pe,Re)},Pe=>{_e(()=>{const Re=new FirestoreError(N$2.UNKNOWN,"Fetching auth token failed: "+Pe.message);return this.G_(Re)})})}W_(_e,Ce){const Pe=this.K_(this.b_);this.stream=this.z_(_e,Ce),this.stream.Zo(()=>{Pe(()=>this.listener.Zo())}),this.stream.e_(()=>{Pe(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(Re=>{Pe(()=>this.G_(Re))}),this.stream.onMessage(Re=>{Pe(()=>++this.C_==1?this.j_(Re):this.onNext(Re))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(_e){return __PRIVATE_logDebug(Zt$1,`close with error: ${_e}`),this.stream=null,this.close(4,_e)}K_(_e){return Ce=>{this.Fi.enqueueAndForget(()=>this.b_===_e?Ce():(__PRIVATE_logDebug(Zt$1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(_e,Ce,Pe,Re,Ie,Be){super(_e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",Ce,Pe,Re,Be),this.serializer=Ie}z_(_e,Ce){return this.connection.P_("Listen",_e,Ce)}j_(_e){return this.onNext(_e)}onNext(_e){this.F_.reset();const Ce=__PRIVATE_fromWatchChange(this.serializer,_e),Pe=function(Ie){if(!("targetChange"in Ie))return SnapshotVersion.min();const Be=Ie.targetChange;return Be.targetIds&&Be.targetIds.length?SnapshotVersion.min():Be.readTime?__PRIVATE_fromVersion(Be.readTime):SnapshotVersion.min()}(_e);return this.listener.J_(Ce,Pe)}H_(_e){const Ce={};Ce.database=__PRIVATE_getEncodedDatabaseId(this.serializer),Ce.addTarget=function(Ie,Be){let je;const De=Be.target;if(je=__PRIVATE_targetIsDocumentTarget(De)?{documents:__PRIVATE_toDocumentsTarget(Ie,De)}:{query:__PRIVATE_toQueryTarget(Ie,De).Vt},je.targetId=Be.targetId,Be.resumeToken.approximateByteSize()>0){je.resumeToken=__PRIVATE_toBytes(Ie,Be.resumeToken);const Fe=__PRIVATE_toInt32Proto(Ie,Be.expectedCount);Fe!==null&&(je.expectedCount=Fe)}else if(Be.snapshotVersion.compareTo(SnapshotVersion.min())>0){je.readTime=toTimestamp(Ie,Be.snapshotVersion.toTimestamp());const Fe=__PRIVATE_toInt32Proto(Ie,Be.expectedCount);Fe!==null&&(je.expectedCount=Fe)}return je}(this.serializer,_e);const Pe=__PRIVATE_toListenRequestLabels(this.serializer,_e);Pe&&(Ce.labels=Pe),this.k_(Ce)}Y_(_e){const Ce={};Ce.database=__PRIVATE_getEncodedDatabaseId(this.serializer),Ce.removeTarget=_e,this.k_(Ce)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(_e,Ce,Pe,Re,Ie,Be){super(_e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",Ce,Pe,Re,Be),this.serializer=Ie}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(_e,Ce){return this.connection.P_("Write",_e,Ce)}j_(_e){return __PRIVATE_hardAssert(!!_e.streamToken,31322),this.lastStreamToken=_e.streamToken,__PRIVATE_hardAssert(!_e.writeResults||_e.writeResults.length===0,55816),this.listener.ea()}onNext(_e){__PRIVATE_hardAssert(!!_e.streamToken,12678),this.lastStreamToken=_e.streamToken,this.F_.reset();const Ce=__PRIVATE_fromWriteResults(_e.writeResults,_e.commitTime),Pe=__PRIVATE_fromVersion(_e.commitTime);return this.listener.ta(Pe,Ce)}na(){const _e={};_e.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.k_(_e)}X_(_e){const Ce={streamToken:this.lastStreamToken,writes:_e.map(Pe=>toMutation(this.serializer,Pe))};this.k_(Ce)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Datastore{}class __PRIVATE_DatastoreImpl extends Datastore{constructor(_e,Ce,Pe,Re){super(),this.authCredentials=_e,this.appCheckCredentials=Ce,this.connection=Pe,this.serializer=Re,this.ra=!1}ia(){if(this.ra)throw new FirestoreError(N$2.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(_e,Ce,Pe,Re){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([Ie,Be])=>this.connection.Wo(_e,__PRIVATE_toResourcePath(Ce,Pe),Re,Ie,Be)).catch(Ie=>{throw Ie.name==="FirebaseError"?(Ie.code===N$2.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),Ie):new FirestoreError(N$2.UNKNOWN,Ie.toString())})}Jo(_e,Ce,Pe,Re,Ie){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([Be,je])=>this.connection.Jo(_e,__PRIVATE_toResourcePath(Ce,Pe),Re,Be,je,Ie)).catch(Be=>{throw Be.name==="FirebaseError"?(Be.code===N$2.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),Be):new FirestoreError(N$2.UNKNOWN,Be.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(_e,Ce){this.asyncQueue=_e,this.onlineStateHandler=Ce,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(_e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${_e.toString()}`),this.ua("Offline")))}set(_e){this.ha(),this.sa=0,_e==="Online"&&(this._a=!1),this.ua(_e)}ua(_e){_e!==this.state&&(this.state=_e,this.onlineStateHandler(_e))}ca(_e){const Ce=`Could not reach Cloud Firestore backend. ${_e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(__PRIVATE_logError(Ce),this._a=!1):__PRIVATE_logDebug("OnlineStateTracker",Ce)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt$2="RemoteStore";class __PRIVATE_RemoteStoreImpl{constructor(_e,Ce,Pe,Re,Ie){this.localStore=_e,this.datastore=Ce,this.asyncQueue=Pe,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=Ie,this.Ea.xo(Be=>{Pe.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug(Xt$2,"Restarting streams for network reachability change."),await async function(De){const Fe=__PRIVATE_debugCast(De);Fe.Ia.add(4),await __PRIVATE_disableNetworkInternal(Fe),Fe.Aa.set("Unknown"),Fe.Ia.delete(4),await __PRIVATE_enableNetworkInternal(Fe)}(this))})}),this.Aa=new __PRIVATE_OnlineStateTracker(Pe,Re)}}async function __PRIVATE_enableNetworkInternal(Ee){if(__PRIVATE_canUseNetwork(Ee))for(const _e of Ee.da)await _e(!0)}async function __PRIVATE_disableNetworkInternal(Ee){for(const _e of Ee.da)await _e(!1)}function __PRIVATE_remoteStoreListen(Ee,_e){const Ce=__PRIVATE_debugCast(Ee);Ce.Ta.has(_e.targetId)||(Ce.Ta.set(_e.targetId,_e),__PRIVATE_shouldStartWatchStream(Ce)?__PRIVATE_startWatchStream(Ce):__PRIVATE_ensureWatchStream(Ce).x_()&&__PRIVATE_sendWatchRequest(Ce,_e))}function __PRIVATE_remoteStoreUnlisten(Ee,_e){const Ce=__PRIVATE_debugCast(Ee),Pe=__PRIVATE_ensureWatchStream(Ce);Ce.Ta.delete(_e),Pe.x_()&&__PRIVATE_sendUnwatchRequest(Ce,_e),Ce.Ta.size===0&&(Pe.x_()?Pe.B_():__PRIVATE_canUseNetwork(Ce)&&Ce.Aa.set("Unknown"))}function __PRIVATE_sendWatchRequest(Ee,_e){if(Ee.Ra.$e(_e.targetId),_e.resumeToken.approximateByteSize()>0||_e.snapshotVersion.compareTo(SnapshotVersion.min())>0){const Ce=Ee.remoteSyncer.getRemoteKeysForTarget(_e.targetId).size;_e=_e.withExpectedCount(Ce)}__PRIVATE_ensureWatchStream(Ee).H_(_e)}function __PRIVATE_sendUnwatchRequest(Ee,_e){Ee.Ra.$e(_e),__PRIVATE_ensureWatchStream(Ee).Y_(_e)}function __PRIVATE_startWatchStream(Ee){Ee.Ra=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:_e=>Ee.remoteSyncer.getRemoteKeysForTarget(_e),Et:_e=>Ee.Ta.get(_e)||null,lt:()=>Ee.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(Ee).start(),Ee.Aa.aa()}function __PRIVATE_shouldStartWatchStream(Ee){return __PRIVATE_canUseNetwork(Ee)&&!__PRIVATE_ensureWatchStream(Ee).M_()&&Ee.Ta.size>0}function __PRIVATE_canUseNetwork(Ee){return __PRIVATE_debugCast(Ee).Ia.size===0}function __PRIVATE_cleanUpWatchStreamState(Ee){Ee.Ra=void 0}async function __PRIVATE_onWatchStreamConnected(Ee){Ee.Aa.set("Online")}async function __PRIVATE_onWatchStreamOpen(Ee){Ee.Ta.forEach((_e,Ce)=>{__PRIVATE_sendWatchRequest(Ee,_e)})}async function __PRIVATE_onWatchStreamClose(Ee,_e){__PRIVATE_cleanUpWatchStreamState(Ee),__PRIVATE_shouldStartWatchStream(Ee)?(Ee.Aa.la(_e),__PRIVATE_startWatchStream(Ee)):Ee.Aa.set("Unknown")}async function __PRIVATE_onWatchStreamChange(Ee,_e,Ce){if(Ee.Aa.set("Online"),_e instanceof __PRIVATE_WatchTargetChange&&_e.state===2&&_e.cause)try{await async function(Re,Ie){const Be=Ie.cause;for(const je of Ie.targetIds)Re.Ta.has(je)&&(await Re.remoteSyncer.rejectListen(je,Be),Re.Ta.delete(je),Re.Ra.removeTarget(je))}(Ee,_e)}catch(Pe){__PRIVATE_logDebug(Xt$2,"Failed to remove targets %s: %s ",_e.targetIds.join(","),Pe),await __PRIVATE_disableNetworkUntilRecovery(Ee,Pe)}else if(_e instanceof __PRIVATE_DocumentWatchChange?Ee.Ra.Ye(_e):_e instanceof __PRIVATE_ExistenceFilterChange?Ee.Ra.it(_e):Ee.Ra.et(_e),!Ce.isEqual(SnapshotVersion.min()))try{const Pe=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ee.localStore);Ce.compareTo(Pe)>=0&&await function(Ie,Be){const je=Ie.Ra.Pt(Be);return je.targetChanges.forEach((De,Fe)=>{if(De.resumeToken.approximateByteSize()>0){const Oe=Ie.Ta.get(Fe);Oe&&Ie.Ta.set(Fe,Oe.withResumeToken(De.resumeToken,Be))}}),je.targetMismatches.forEach((De,Fe)=>{const Oe=Ie.Ta.get(De);if(!Oe)return;Ie.Ta.set(De,Oe.withResumeToken(ByteString.EMPTY_BYTE_STRING,Oe.snapshotVersion)),__PRIVATE_sendUnwatchRequest(Ie,De);const ke=new TargetData(Oe.target,De,Fe,Oe.sequenceNumber);__PRIVATE_sendWatchRequest(Ie,ke)}),Ie.remoteSyncer.applyRemoteEvent(je)}(Ee,Ce)}catch(Pe){__PRIVATE_logDebug(Xt$2,"Failed to raise snapshot:",Pe),await __PRIVATE_disableNetworkUntilRecovery(Ee,Pe)}}async function __PRIVATE_disableNetworkUntilRecovery(Ee,_e,Ce){if(!__PRIVATE_isIndexedDbTransactionError(_e))throw _e;Ee.Ia.add(1),await __PRIVATE_disableNetworkInternal(Ee),Ee.Aa.set("Offline"),Ce||(Ce=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ee.localStore)),Ee.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug(Xt$2,"Retrying IndexedDB access"),await Ce(),Ee.Ia.delete(1),await __PRIVATE_enableNetworkInternal(Ee)})}function __PRIVATE_executeWithRecovery(Ee,_e){return _e().catch(Ce=>__PRIVATE_disableNetworkUntilRecovery(Ee,Ce,_e))}async function __PRIVATE_fillWritePipeline(Ee){const _e=__PRIVATE_debugCast(Ee),Ce=__PRIVATE_ensureWriteStream(_e);let Pe=_e.Pa.length>0?_e.Pa[_e.Pa.length-1].batchId:G$2;for(;__PRIVATE_canAddToWritePipeline(_e);)try{const Re=await __PRIVATE_localStoreGetNextMutationBatch(_e.localStore,Pe);if(Re===null){_e.Pa.length===0&&Ce.B_();break}Pe=Re.batchId,__PRIVATE_addToWritePipeline(_e,Re)}catch(Re){await __PRIVATE_disableNetworkUntilRecovery(_e,Re)}__PRIVATE_shouldStartWriteStream(_e)&&__PRIVATE_startWriteStream(_e)}function __PRIVATE_canAddToWritePipeline(Ee){return __PRIVATE_canUseNetwork(Ee)&&Ee.Pa.length<10}function __PRIVATE_addToWritePipeline(Ee,_e){Ee.Pa.push(_e);const Ce=__PRIVATE_ensureWriteStream(Ee);Ce.x_()&&Ce.Z_&&Ce.X_(_e.mutations)}function __PRIVATE_shouldStartWriteStream(Ee){return __PRIVATE_canUseNetwork(Ee)&&!__PRIVATE_ensureWriteStream(Ee).M_()&&Ee.Pa.length>0}function __PRIVATE_startWriteStream(Ee){__PRIVATE_ensureWriteStream(Ee).start()}async function __PRIVATE_onWriteStreamOpen(Ee){__PRIVATE_ensureWriteStream(Ee).na()}async function __PRIVATE_onWriteHandshakeComplete(Ee){const _e=__PRIVATE_ensureWriteStream(Ee);for(const Ce of Ee.Pa)_e.X_(Ce.mutations)}async function __PRIVATE_onMutationResult(Ee,_e,Ce){const Pe=Ee.Pa.shift(),Re=MutationBatchResult.from(Pe,_e,Ce);await __PRIVATE_executeWithRecovery(Ee,()=>Ee.remoteSyncer.applySuccessfulWrite(Re)),await __PRIVATE_fillWritePipeline(Ee)}async function __PRIVATE_onWriteStreamClose(Ee,_e){_e&&__PRIVATE_ensureWriteStream(Ee).Z_&&await async function(Pe,Re){if(function(Be){return __PRIVATE_isPermanentError(Be)&&Be!==N$2.ABORTED}(Re.code)){const Ie=Pe.Pa.shift();__PRIVATE_ensureWriteStream(Pe).N_(),await __PRIVATE_executeWithRecovery(Pe,()=>Pe.remoteSyncer.rejectFailedWrite(Ie.batchId,Re)),await __PRIVATE_fillWritePipeline(Pe)}}(Ee,_e),__PRIVATE_shouldStartWriteStream(Ee)&&__PRIVATE_startWriteStream(Ee)}async function __PRIVATE_remoteStoreHandleCredentialChange(Ee,_e){const Ce=__PRIVATE_debugCast(Ee);Ce.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(Xt$2,"RemoteStore received new credentials");const Pe=__PRIVATE_canUseNetwork(Ce);Ce.Ia.add(3),await __PRIVATE_disableNetworkInternal(Ce),Pe&&Ce.Aa.set("Unknown"),await Ce.remoteSyncer.handleCredentialChange(_e),Ce.Ia.delete(3),await __PRIVATE_enableNetworkInternal(Ce)}async function __PRIVATE_remoteStoreApplyPrimaryState(Ee,_e){const Ce=__PRIVATE_debugCast(Ee);_e?(Ce.Ia.delete(2),await __PRIVATE_enableNetworkInternal(Ce)):_e||(Ce.Ia.add(2),await __PRIVATE_disableNetworkInternal(Ce),Ce.Aa.set("Unknown"))}function __PRIVATE_ensureWatchStream(Ee){return Ee.Va||(Ee.Va=function(Ce,Pe,Re){const Ie=__PRIVATE_debugCast(Ce);return Ie.ia(),new __PRIVATE_PersistentListenStream(Pe,Ie.connection,Ie.authCredentials,Ie.appCheckCredentials,Ie.serializer,Re)}(Ee.datastore,Ee.asyncQueue,{Zo:__PRIVATE_onWatchStreamConnected.bind(null,Ee),e_:__PRIVATE_onWatchStreamOpen.bind(null,Ee),n_:__PRIVATE_onWatchStreamClose.bind(null,Ee),J_:__PRIVATE_onWatchStreamChange.bind(null,Ee)}),Ee.da.push(async _e=>{_e?(Ee.Va.N_(),__PRIVATE_shouldStartWatchStream(Ee)?__PRIVATE_startWatchStream(Ee):Ee.Aa.set("Unknown")):(await Ee.Va.stop(),__PRIVATE_cleanUpWatchStreamState(Ee))})),Ee.Va}function __PRIVATE_ensureWriteStream(Ee){return Ee.ma||(Ee.ma=function(Ce,Pe,Re){const Ie=__PRIVATE_debugCast(Ce);return Ie.ia(),new __PRIVATE_PersistentWriteStream(Pe,Ie.connection,Ie.authCredentials,Ie.appCheckCredentials,Ie.serializer,Re)}(Ee.datastore,Ee.asyncQueue,{Zo:()=>Promise.resolve(),e_:__PRIVATE_onWriteStreamOpen.bind(null,Ee),n_:__PRIVATE_onWriteStreamClose.bind(null,Ee),ea:__PRIVATE_onWriteHandshakeComplete.bind(null,Ee),ta:__PRIVATE_onMutationResult.bind(null,Ee)}),Ee.da.push(async _e=>{_e?(Ee.ma.N_(),await __PRIVATE_fillWritePipeline(Ee)):(await Ee.ma.stop(),Ee.Pa.length>0&&(__PRIVATE_logDebug(Xt$2,`Stopping write stream with ${Ee.Pa.length} pending writes`),Ee.Pa=[]))})),Ee.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(_e,Ce,Pe,Re,Ie){this.asyncQueue=_e,this.timerId=Ce,this.targetTimeMs=Pe,this.op=Re,this.removalCallback=Ie,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(Be=>{})}get promise(){return this.deferred.promise}static createAndSchedule(_e,Ce,Pe,Re,Ie){const Be=Date.now()+Pe,je=new DelayedOperation(_e,Ce,Be,Re,Ie);return je.start(Pe),je}start(_e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),_e)}skipDelay(){return this.handleDelayElapsed()}cancel(_e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(N$2.CANCELLED,"Operation cancelled"+(_e?": "+_e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(_e=>this.deferred.resolve(_e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(Ee,_e){if(__PRIVATE_logError("AsyncQueue",`${_e}: ${Ee}`),__PRIVATE_isIndexedDbTransactionError(Ee))return new FirestoreError(N$2.UNAVAILABLE,`${_e}: ${Ee}`);throw Ee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{static emptySet(_e){return new DocumentSet(_e.comparator)}constructor(_e){this.comparator=_e?(Ce,Pe)=>_e(Ce,Pe)||DocumentKey.comparator(Ce.key,Pe.key):(Ce,Pe)=>DocumentKey.comparator(Ce.key,Pe.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}has(_e){return this.keyedMap.get(_e)!=null}get(_e){return this.keyedMap.get(_e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(_e){const Ce=this.keyedMap.get(_e);return Ce?this.sortedSet.indexOf(Ce):-1}get size(){return this.sortedSet.size}forEach(_e){this.sortedSet.inorderTraversal((Ce,Pe)=>(_e(Ce),!1))}add(_e){const Ce=this.delete(_e.key);return Ce.copy(Ce.keyedMap.insert(_e.key,_e),Ce.sortedSet.insert(_e,null))}delete(_e){const Ce=this.get(_e);return Ce?this.copy(this.keyedMap.remove(_e),this.sortedSet.remove(Ce)):this}isEqual(_e){if(!(_e instanceof DocumentSet)||this.size!==_e.size)return!1;const Ce=this.sortedSet.getIterator(),Pe=_e.sortedSet.getIterator();for(;Ce.hasNext();){const Re=Ce.getNext().key,Ie=Pe.getNext().key;if(!Re.isEqual(Ie))return!1}return!0}toString(){const _e=[];return this.forEach(Ce=>{_e.push(Ce.toString())}),_e.length===0?"DocumentSet ()":`DocumentSet (
  `+_e.join(`  
`)+`
)`}copy(_e,Ce){const Pe=new DocumentSet;return Pe.comparator=this.comparator,Pe.keyedMap=_e,Pe.sortedSet=Ce,Pe}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.fa=new SortedMap(DocumentKey.comparator)}track(_e){const Ce=_e.doc.key,Pe=this.fa.get(Ce);Pe?_e.type!==0&&Pe.type===3?this.fa=this.fa.insert(Ce,_e):_e.type===3&&Pe.type!==1?this.fa=this.fa.insert(Ce,{type:Pe.type,doc:_e.doc}):_e.type===2&&Pe.type===2?this.fa=this.fa.insert(Ce,{type:2,doc:_e.doc}):_e.type===2&&Pe.type===0?this.fa=this.fa.insert(Ce,{type:0,doc:_e.doc}):_e.type===1&&Pe.type===0?this.fa=this.fa.remove(Ce):_e.type===1&&Pe.type===2?this.fa=this.fa.insert(Ce,{type:1,doc:Pe.doc}):_e.type===0&&Pe.type===1?this.fa=this.fa.insert(Ce,{type:2,doc:_e.doc}):fail(63341,{At:_e,ga:Pe}):this.fa=this.fa.insert(Ce,_e)}pa(){const _e=[];return this.fa.inorderTraversal((Ce,Pe)=>{_e.push(Pe)}),_e}}class ViewSnapshot{constructor(_e,Ce,Pe,Re,Ie,Be,je,De,Fe){this.query=_e,this.docs=Ce,this.oldDocs=Pe,this.docChanges=Re,this.mutatedKeys=Ie,this.fromCache=Be,this.syncStateChanged=je,this.excludesMetadataChanges=De,this.hasCachedResults=Fe}static fromInitialDocuments(_e,Ce,Pe,Re,Ie){const Be=[];return Ce.forEach(je=>{Be.push({type:0,doc:je})}),new ViewSnapshot(_e,Ce,DocumentSet.emptySet(Ce),Be,Pe,Re,!0,!1,Ie)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(_e){if(!(this.fromCache===_e.fromCache&&this.hasCachedResults===_e.hasCachedResults&&this.syncStateChanged===_e.syncStateChanged&&this.mutatedKeys.isEqual(_e.mutatedKeys)&&__PRIVATE_queryEquals(this.query,_e.query)&&this.docs.isEqual(_e.docs)&&this.oldDocs.isEqual(_e.oldDocs)))return!1;const Ce=this.docChanges,Pe=_e.docChanges;if(Ce.length!==Pe.length)return!1;for(let Re=0;Re<Ce.length;Re++)if(Ce[Re].type!==Pe[Re].type||!Ce[Re].doc.isEqual(Pe[Re].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(_e=>_e.ba())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(Ce,Pe){const Re=__PRIVATE_debugCast(Ce),Ie=Re.queries;Re.queries=__PRIVATE_newQueriesObjectMap(),Ie.forEach((Be,je)=>{for(const De of je.wa)De.onError(Pe)})})(this,new FirestoreError(N$2.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(Ee=>__PRIVATE_canonifyQuery(Ee),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(Ee,_e){const Ce=__PRIVATE_debugCast(Ee);let Pe=3;const Re=_e.query;let Ie=Ce.queries.get(Re);Ie?!Ie.Sa()&&_e.ba()&&(Pe=2):(Ie=new __PRIVATE_QueryListenersInfo,Pe=_e.ba()?0:1);try{switch(Pe){case 0:Ie.ya=await Ce.onListen(Re,!0);break;case 1:Ie.ya=await Ce.onListen(Re,!1);break;case 2:await Ce.onFirstRemoteStoreListen(Re)}}catch(Be){const je=__PRIVATE_wrapInUserErrorIfRecoverable(Be,`Initialization of query '${__PRIVATE_stringifyQuery(_e.query)}' failed`);return void _e.onError(je)}Ce.queries.set(Re,Ie),Ie.wa.push(_e),_e.va(Ce.onlineState),Ie.ya&&_e.Ca(Ie.ya)&&__PRIVATE_raiseSnapshotsInSyncEvent(Ce)}async function __PRIVATE_eventManagerUnlisten(Ee,_e){const Ce=__PRIVATE_debugCast(Ee),Pe=_e.query;let Re=3;const Ie=Ce.queries.get(Pe);if(Ie){const Be=Ie.wa.indexOf(_e);Be>=0&&(Ie.wa.splice(Be,1),Ie.wa.length===0?Re=_e.ba()?0:1:!Ie.Sa()&&_e.ba()&&(Re=2))}switch(Re){case 0:return Ce.queries.delete(Pe),Ce.onUnlisten(Pe,!0);case 1:return Ce.queries.delete(Pe),Ce.onUnlisten(Pe,!1);case 2:return Ce.onLastRemoteStoreUnlisten(Pe);default:return}}function __PRIVATE_eventManagerOnWatchChange(Ee,_e){const Ce=__PRIVATE_debugCast(Ee);let Pe=!1;for(const Re of _e){const Ie=Re.query,Be=Ce.queries.get(Ie);if(Be){for(const je of Be.wa)je.Ca(Re)&&(Pe=!0);Be.ya=Re}}Pe&&__PRIVATE_raiseSnapshotsInSyncEvent(Ce)}function __PRIVATE_eventManagerOnWatchError(Ee,_e,Ce){const Pe=__PRIVATE_debugCast(Ee),Re=Pe.queries.get(_e);if(Re)for(const Ie of Re.wa)Ie.onError(Ce);Pe.queries.delete(_e)}function __PRIVATE_raiseSnapshotsInSyncEvent(Ee){Ee.Da.forEach(_e=>{_e.next()})}var en,tn;(tn=en||(en={})).Fa="default",tn.Cache="cache";class __PRIVATE_QueryListener{constructor(_e,Ce,Pe){this.query=_e,this.Ma=Ce,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=Pe||{}}Ca(_e){if(!this.options.includeMetadataChanges){const Pe=[];for(const Re of _e.docChanges)Re.type!==3&&Pe.push(Re);_e=new ViewSnapshot(_e.query,_e.docs,_e.oldDocs,Pe,_e.mutatedKeys,_e.fromCache,_e.syncStateChanged,!0,_e.hasCachedResults)}let Ce=!1;return this.xa?this.Na(_e)&&(this.Ma.next(_e),Ce=!0):this.Ba(_e,this.onlineState)&&(this.La(_e),Ce=!0),this.Oa=_e,Ce}onError(_e){this.Ma.error(_e)}va(_e){this.onlineState=_e;let Ce=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,_e)&&(this.La(this.Oa),Ce=!0),Ce}Ba(_e,Ce){if(!_e.fromCache||!this.ba())return!0;const Pe=Ce!=="Offline";return(!this.options.ka||!Pe)&&(!_e.docs.isEmpty()||_e.hasCachedResults||Ce==="Offline")}Na(_e){if(_e.docChanges.length>0)return!0;const Ce=this.Oa&&this.Oa.hasPendingWrites!==_e.hasPendingWrites;return!(!_e.syncStateChanged&&!Ce)&&this.options.includeMetadataChanges===!0}La(_e){_e=ViewSnapshot.fromInitialDocuments(_e.query,_e.docs,_e.mutatedKeys,_e.fromCache,_e.hasCachedResults),this.xa=!0,this.Ma.next(_e)}ba(){return this.options.source!==en.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(_e){this.key=_e}}class __PRIVATE_RemovedLimboDocument{constructor(_e){this.key=_e}}class __PRIVATE_View{constructor(_e,Ce){this.query=_e,this.Ha=Ce,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Xa=__PRIVATE_newQueryComparator(_e),this.eu=new DocumentSet(this.Xa)}get tu(){return this.Ha}nu(_e,Ce){const Pe=Ce?Ce.ru:new __PRIVATE_DocumentChangeSet,Re=Ce?Ce.eu:this.eu;let Ie=Ce?Ce.mutatedKeys:this.mutatedKeys,Be=Re,je=!1;const De=this.query.limitType==="F"&&Re.size===this.query.limit?Re.last():null,Fe=this.query.limitType==="L"&&Re.size===this.query.limit?Re.first():null;if(_e.inorderTraversal((Oe,ke)=>{const Me=Re.get(Oe),$e=__PRIVATE_queryMatches(this.query,ke)?ke:null,He=!!Me&&this.mutatedKeys.has(Me.key),Qe=!!$e&&($e.hasLocalMutations||this.mutatedKeys.has($e.key)&&$e.hasCommittedMutations);let Ke=!1;Me&&$e?Me.data.isEqual($e.data)?He!==Qe&&(Pe.track({type:3,doc:$e}),Ke=!0):this.iu(Me,$e)||(Pe.track({type:2,doc:$e}),Ke=!0,(De&&this.Xa($e,De)>0||Fe&&this.Xa($e,Fe)<0)&&(je=!0)):!Me&&$e?(Pe.track({type:0,doc:$e}),Ke=!0):Me&&!$e&&(Pe.track({type:1,doc:Me}),Ke=!0,(De||Fe)&&(je=!0)),Ke&&($e?(Be=Be.add($e),Ie=Qe?Ie.add(Oe):Ie.delete(Oe)):(Be=Be.delete(Oe),Ie=Ie.delete(Oe)))}),this.query.limit!==null)for(;Be.size>this.query.limit;){const Oe=this.query.limitType==="F"?Be.last():Be.first();Be=Be.delete(Oe.key),Ie=Ie.delete(Oe.key),Pe.track({type:1,doc:Oe})}return{eu:Be,ru:Pe,Ds:je,mutatedKeys:Ie}}iu(_e,Ce){return _e.hasLocalMutations&&Ce.hasCommittedMutations&&!Ce.hasLocalMutations}applyChanges(_e,Ce,Pe,Re){const Ie=this.eu;this.eu=_e.eu,this.mutatedKeys=_e.mutatedKeys;const Be=_e.ru.pa();Be.sort((Oe,ke)=>function($e,He){const Qe=Ke=>{switch(Ke){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail(20277,{At:Ke})}};return Qe($e)-Qe(He)}(Oe.type,ke.type)||this.Xa(Oe.doc,ke.doc)),this.su(Pe),Re=Re!=null&&Re;const je=Ce&&!Re?this.ou():[],De=this.Za.size===0&&this.current&&!Re?1:0,Fe=De!==this.Ya;return this.Ya=De,Be.length!==0||Fe?{snapshot:new ViewSnapshot(this.query,_e.eu,Ie,Be,_e.mutatedKeys,De===0,Fe,!1,!!Pe&&Pe.resumeToken.approximateByteSize()>0),_u:je}:{_u:je}}va(_e){return this.current&&_e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(_e){return!this.Ha.has(_e)&&!!this.eu.has(_e)&&!this.eu.get(_e).hasLocalMutations}su(_e){_e&&(_e.addedDocuments.forEach(Ce=>this.Ha=this.Ha.add(Ce)),_e.modifiedDocuments.forEach(Ce=>{}),_e.removedDocuments.forEach(Ce=>this.Ha=this.Ha.delete(Ce)),this.current=_e.current)}ou(){if(!this.current)return[];const _e=this.Za;this.Za=__PRIVATE_documentKeySet(),this.eu.forEach(Pe=>{this.au(Pe.key)&&(this.Za=this.Za.add(Pe.key))});const Ce=[];return _e.forEach(Pe=>{this.Za.has(Pe)||Ce.push(new __PRIVATE_RemovedLimboDocument(Pe))}),this.Za.forEach(Pe=>{_e.has(Pe)||Ce.push(new __PRIVATE_AddedLimboDocument(Pe))}),Ce}uu(_e){this.Ha=_e.qs,this.Za=__PRIVATE_documentKeySet();const Ce=this.nu(_e.documents);return this.applyChanges(Ce,!0)}cu(){return ViewSnapshot.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const nn="SyncEngine";class __PRIVATE_QueryView{constructor(_e,Ce,Pe){this.query=_e,this.targetId=Ce,this.view=Pe}}class LimboResolution{constructor(_e){this.key=_e,this.lu=!1}}class __PRIVATE_SyncEngineImpl{constructor(_e,Ce,Pe,Re,Ie,Be){this.localStore=_e,this.remoteStore=Ce,this.eventManager=Pe,this.sharedClientState=Re,this.currentUser=Ie,this.maxConcurrentLimboResolutions=Be,this.hu={},this.Pu=new ObjectMap(je=>__PRIVATE_canonifyQuery(je),__PRIVATE_queryEquals),this.Tu=new Map,this.Iu=new Set,this.du=new SortedMap(DocumentKey.comparator),this.Eu=new Map,this.Au=new __PRIVATE_ReferenceSet,this.Ru={},this.Vu=new Map,this.mu=__PRIVATE_TargetIdGenerator.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function __PRIVATE_syncEngineListen(Ee,_e,Ce=!0){const Pe=__PRIVATE_ensureWatchCallbacks(Ee);let Re;const Ie=Pe.Pu.get(_e);return Ie?(Pe.sharedClientState.addLocalQueryTarget(Ie.targetId),Re=Ie.view.cu()):Re=await __PRIVATE_allocateTargetAndMaybeListen(Pe,_e,Ce,!0),Re}async function __PRIVATE_triggerRemoteStoreListen(Ee,_e){const Ce=__PRIVATE_ensureWatchCallbacks(Ee);await __PRIVATE_allocateTargetAndMaybeListen(Ce,_e,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(Ee,_e,Ce,Pe){const Re=await __PRIVATE_localStoreAllocateTarget(Ee.localStore,__PRIVATE_queryToTarget(_e)),Ie=Re.targetId,Be=Ee.sharedClientState.addLocalQueryTarget(Ie,Ce);let je;return Pe&&(je=await __PRIVATE_initializeViewAndComputeSnapshot(Ee,_e,Ie,Be==="current",Re.resumeToken)),Ee.isPrimaryClient&&Ce&&__PRIVATE_remoteStoreListen(Ee.remoteStore,Re),je}async function __PRIVATE_initializeViewAndComputeSnapshot(Ee,_e,Ce,Pe,Re){Ee.gu=(ke,Me,$e)=>async function(Qe,Ke,ze,We){let qe=Ke.view.nu(ze);qe.Ds&&(qe=await __PRIVATE_localStoreExecuteQuery(Qe.localStore,Ke.query,!1).then(({documents:Je})=>Ke.view.nu(Je,qe)));const Ye=We&&We.targetChanges.get(Ke.targetId),Xe=We&&We.targetMismatches.get(Ke.targetId)!=null,rr=Ke.view.applyChanges(qe,Qe.isPrimaryClient,Ye,Xe);return __PRIVATE_updateTrackedLimbos(Qe,Ke.targetId,rr._u),rr.snapshot}(Ee,ke,Me,$e);const Ie=await __PRIVATE_localStoreExecuteQuery(Ee.localStore,_e,!0),Be=new __PRIVATE_View(_e,Ie.qs),je=Be.nu(Ie.documents),De=TargetChange.createSynthesizedTargetChangeForCurrentChange(Ce,Pe&&Ee.onlineState!=="Offline",Re),Fe=Be.applyChanges(je,Ee.isPrimaryClient,De);__PRIVATE_updateTrackedLimbos(Ee,Ce,Fe._u);const Oe=new __PRIVATE_QueryView(_e,Ce,Be);return Ee.Pu.set(_e,Oe),Ee.Tu.has(Ce)?Ee.Tu.get(Ce).push(_e):Ee.Tu.set(Ce,[_e]),Fe.snapshot}async function __PRIVATE_syncEngineUnlisten(Ee,_e,Ce){const Pe=__PRIVATE_debugCast(Ee),Re=Pe.Pu.get(_e),Ie=Pe.Tu.get(Re.targetId);if(Ie.length>1)return Pe.Tu.set(Re.targetId,Ie.filter(Be=>!__PRIVATE_queryEquals(Be,_e))),void Pe.Pu.delete(_e);Pe.isPrimaryClient?(Pe.sharedClientState.removeLocalQueryTarget(Re.targetId),Pe.sharedClientState.isActiveQueryTarget(Re.targetId)||await __PRIVATE_localStoreReleaseTarget(Pe.localStore,Re.targetId,!1).then(()=>{Pe.sharedClientState.clearQueryState(Re.targetId),Ce&&__PRIVATE_remoteStoreUnlisten(Pe.remoteStore,Re.targetId),__PRIVATE_removeAndCleanupTarget(Pe,Re.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(Pe,Re.targetId),await __PRIVATE_localStoreReleaseTarget(Pe.localStore,Re.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(Ee,_e){const Ce=__PRIVATE_debugCast(Ee),Pe=Ce.Pu.get(_e),Re=Ce.Tu.get(Pe.targetId);Ce.isPrimaryClient&&Re.length===1&&(Ce.sharedClientState.removeLocalQueryTarget(Pe.targetId),__PRIVATE_remoteStoreUnlisten(Ce.remoteStore,Pe.targetId))}async function __PRIVATE_syncEngineWrite(Ee,_e,Ce){const Pe=__PRIVATE_syncEngineEnsureWriteCallbacks(Ee);try{const Re=await function(Be,je){const De=__PRIVATE_debugCast(Be),Fe=Timestamp.now(),Oe=je.reduce(($e,He)=>$e.add(He.key),__PRIVATE_documentKeySet());let ke,Me;return De.persistence.runTransaction("Locally write mutations","readwrite",$e=>{let He=__PRIVATE_mutableDocumentMap(),Qe=__PRIVATE_documentKeySet();return De.Os.getEntries($e,Oe).next(Ke=>{He=Ke,He.forEach((ze,We)=>{We.isValidDocument()||(Qe=Qe.add(ze))})}).next(()=>De.localDocuments.getOverlayedDocuments($e,He)).next(Ke=>{ke=Ke;const ze=[];for(const We of je){const qe=__PRIVATE_mutationExtractBaseValue(We,ke.get(We.key).overlayedDocument);qe!=null&&ze.push(new __PRIVATE_PatchMutation(We.key,qe,__PRIVATE_extractFieldMask(qe.value.mapValue),Precondition.exists(!0)))}return De.mutationQueue.addMutationBatch($e,Fe,ze,je)}).next(Ke=>{Me=Ke;const ze=Ke.applyToLocalDocumentSet(ke,Qe);return De.documentOverlayCache.saveOverlays($e,Ke.batchId,ze)})}).then(()=>({batchId:Me.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(ke)}))}(Pe.localStore,_e);Pe.sharedClientState.addPendingMutation(Re.batchId),function(Be,je,De){let Fe=Be.Ru[Be.currentUser.toKey()];Fe||(Fe=new SortedMap(__PRIVATE_primitiveComparator)),Fe=Fe.insert(je,De),Be.Ru[Be.currentUser.toKey()]=Fe}(Pe,Re.batchId,Ce),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Pe,Re.changes),await __PRIVATE_fillWritePipeline(Pe.remoteStore)}catch(Re){const Ie=__PRIVATE_wrapInUserErrorIfRecoverable(Re,"Failed to persist write");Ce.reject(Ie)}}async function __PRIVATE_syncEngineApplyRemoteEvent(Ee,_e){const Ce=__PRIVATE_debugCast(Ee);try{const Pe=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(Ce.localStore,_e);_e.targetChanges.forEach((Re,Ie)=>{const Be=Ce.Eu.get(Ie);Be&&(__PRIVATE_hardAssert(Re.addedDocuments.size+Re.modifiedDocuments.size+Re.removedDocuments.size<=1,22616),Re.addedDocuments.size>0?Be.lu=!0:Re.modifiedDocuments.size>0?__PRIVATE_hardAssert(Be.lu,14607):Re.removedDocuments.size>0&&(__PRIVATE_hardAssert(Be.lu,42227),Be.lu=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ce,Pe,_e)}catch(Pe){await __PRIVATE_ignoreIfPrimaryLeaseLoss(Pe)}}function __PRIVATE_syncEngineApplyOnlineStateChange(Ee,_e,Ce){const Pe=__PRIVATE_debugCast(Ee);if(Pe.isPrimaryClient&&Ce===0||!Pe.isPrimaryClient&&Ce===1){const Re=[];Pe.Pu.forEach((Ie,Be)=>{const je=Be.view.va(_e);je.snapshot&&Re.push(je.snapshot)}),function(Be,je){const De=__PRIVATE_debugCast(Be);De.onlineState=je;let Fe=!1;De.queries.forEach((Oe,ke)=>{for(const Me of ke.wa)Me.va(je)&&(Fe=!0)}),Fe&&__PRIVATE_raiseSnapshotsInSyncEvent(De)}(Pe.eventManager,_e),Re.length&&Pe.hu.J_(Re),Pe.onlineState=_e,Pe.isPrimaryClient&&Pe.sharedClientState.setOnlineState(_e)}}async function __PRIVATE_syncEngineRejectListen(Ee,_e,Ce){const Pe=__PRIVATE_debugCast(Ee);Pe.sharedClientState.updateQueryState(_e,"rejected",Ce);const Re=Pe.Eu.get(_e),Ie=Re&&Re.key;if(Ie){let Be=new SortedMap(DocumentKey.comparator);Be=Be.insert(Ie,MutableDocument.newNoDocument(Ie,SnapshotVersion.min()));const je=__PRIVATE_documentKeySet().add(Ie),De=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),Be,je);await __PRIVATE_syncEngineApplyRemoteEvent(Pe,De),Pe.du=Pe.du.remove(Ie),Pe.Eu.delete(_e),__PRIVATE_pumpEnqueuedLimboResolutions(Pe)}else await __PRIVATE_localStoreReleaseTarget(Pe.localStore,_e,!1).then(()=>__PRIVATE_removeAndCleanupTarget(Pe,_e,Ce)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(Ee,_e){const Ce=__PRIVATE_debugCast(Ee),Pe=_e.batch.batchId;try{const Re=await __PRIVATE_localStoreAcknowledgeBatch(Ce.localStore,_e);__PRIVATE_processUserCallback(Ce,Pe,null),__PRIVATE_triggerPendingWritesCallbacks(Ce,Pe),Ce.sharedClientState.updateMutationState(Pe,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ce,Re)}catch(Re){await __PRIVATE_ignoreIfPrimaryLeaseLoss(Re)}}async function __PRIVATE_syncEngineRejectFailedWrite(Ee,_e,Ce){const Pe=__PRIVATE_debugCast(Ee);try{const Re=await function(Be,je){const De=__PRIVATE_debugCast(Be);return De.persistence.runTransaction("Reject batch","readwrite-primary",Fe=>{let Oe;return De.mutationQueue.lookupMutationBatch(Fe,je).next(ke=>(__PRIVATE_hardAssert(ke!==null,37113),Oe=ke.keys(),De.mutationQueue.removeMutationBatch(Fe,ke))).next(()=>De.mutationQueue.performConsistencyCheck(Fe)).next(()=>De.documentOverlayCache.removeOverlaysForBatchId(Fe,Oe,je)).next(()=>De.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Fe,Oe)).next(()=>De.localDocuments.getDocuments(Fe,Oe))})}(Pe.localStore,_e);__PRIVATE_processUserCallback(Pe,_e,Ce),__PRIVATE_triggerPendingWritesCallbacks(Pe,_e),Pe.sharedClientState.updateMutationState(_e,"rejected",Ce),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Pe,Re)}catch(Re){await __PRIVATE_ignoreIfPrimaryLeaseLoss(Re)}}function __PRIVATE_triggerPendingWritesCallbacks(Ee,_e){(Ee.Vu.get(_e)||[]).forEach(Ce=>{Ce.resolve()}),Ee.Vu.delete(_e)}function __PRIVATE_processUserCallback(Ee,_e,Ce){const Pe=__PRIVATE_debugCast(Ee);let Re=Pe.Ru[Pe.currentUser.toKey()];if(Re){const Ie=Re.get(_e);Ie&&(Ce?Ie.reject(Ce):Ie.resolve(),Re=Re.remove(_e)),Pe.Ru[Pe.currentUser.toKey()]=Re}}function __PRIVATE_removeAndCleanupTarget(Ee,_e,Ce=null){Ee.sharedClientState.removeLocalQueryTarget(_e);for(const Pe of Ee.Tu.get(_e))Ee.Pu.delete(Pe),Ce&&Ee.hu.pu(Pe,Ce);Ee.Tu.delete(_e),Ee.isPrimaryClient&&Ee.Au.zr(_e).forEach(Pe=>{Ee.Au.containsKey(Pe)||__PRIVATE_removeLimboTarget(Ee,Pe)})}function __PRIVATE_removeLimboTarget(Ee,_e){Ee.Iu.delete(_e.path.canonicalString());const Ce=Ee.du.get(_e);Ce!==null&&(__PRIVATE_remoteStoreUnlisten(Ee.remoteStore,Ce),Ee.du=Ee.du.remove(_e),Ee.Eu.delete(Ce),__PRIVATE_pumpEnqueuedLimboResolutions(Ee))}function __PRIVATE_updateTrackedLimbos(Ee,_e,Ce){for(const Pe of Ce)Pe instanceof __PRIVATE_AddedLimboDocument?(Ee.Au.addReference(Pe.key,_e),__PRIVATE_trackLimboChange(Ee,Pe)):Pe instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug(nn,"Document no longer in limbo: "+Pe.key),Ee.Au.removeReference(Pe.key,_e),Ee.Au.containsKey(Pe.key)||__PRIVATE_removeLimboTarget(Ee,Pe.key)):fail(19791,{yu:Pe})}function __PRIVATE_trackLimboChange(Ee,_e){const Ce=_e.key,Pe=Ce.path.canonicalString();Ee.du.get(Ce)||Ee.Iu.has(Pe)||(__PRIVATE_logDebug(nn,"New document in limbo: "+Ce),Ee.Iu.add(Pe),__PRIVATE_pumpEnqueuedLimboResolutions(Ee))}function __PRIVATE_pumpEnqueuedLimboResolutions(Ee){for(;Ee.Iu.size>0&&Ee.du.size<Ee.maxConcurrentLimboResolutions;){const _e=Ee.Iu.values().next().value;Ee.Iu.delete(_e);const Ce=new DocumentKey(ResourcePath.fromString(_e)),Pe=Ee.mu.next();Ee.Eu.set(Pe,new LimboResolution(Ce)),Ee.du=Ee.du.insert(Ce,Pe),__PRIVATE_remoteStoreListen(Ee.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(Ce.path)),Pe,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.ue))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ee,_e,Ce){const Pe=__PRIVATE_debugCast(Ee),Re=[],Ie=[],Be=[];Pe.Pu.isEmpty()||(Pe.Pu.forEach((je,De)=>{Be.push(Pe.gu(De,_e,Ce).then(Fe=>{var Oe;if((Fe||Ce)&&Pe.isPrimaryClient){const ke=Fe?!Fe.fromCache:(Oe=Ce?.targetChanges.get(De.targetId))===null||Oe===void 0?void 0:Oe.current;Pe.sharedClientState.updateQueryState(De.targetId,ke?"current":"not-current")}if(Fe){Re.push(Fe);const ke=__PRIVATE_LocalViewChanges.Es(De.targetId,Fe);Ie.push(ke)}}))}),await Promise.all(Be),Pe.hu.J_(Re),await async function(De,Fe){const Oe=__PRIVATE_debugCast(De);try{await Oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",ke=>PersistencePromise.forEach(Fe,Me=>PersistencePromise.forEach(Me.Is,$e=>Oe.persistence.referenceDelegate.addReference(ke,Me.targetId,$e)).next(()=>PersistencePromise.forEach(Me.ds,$e=>Oe.persistence.referenceDelegate.removeReference(ke,Me.targetId,$e)))))}catch(ke){if(!__PRIVATE_isIndexedDbTransactionError(ke))throw ke;__PRIVATE_logDebug(Qt$2,"Failed to update sequence numbers: "+ke)}for(const ke of Fe){const Me=ke.targetId;if(!ke.fromCache){const $e=Oe.Fs.get(Me),He=$e.snapshotVersion,Qe=$e.withLastLimboFreeSnapshotVersion(He);Oe.Fs=Oe.Fs.insert(Me,Qe)}}}(Pe.localStore,Ie))}async function __PRIVATE_syncEngineHandleCredentialChange(Ee,_e){const Ce=__PRIVATE_debugCast(Ee);if(!Ce.currentUser.isEqual(_e)){__PRIVATE_logDebug(nn,"User change. New user:",_e.toKey());const Pe=await __PRIVATE_localStoreHandleUserChange(Ce.localStore,_e);Ce.currentUser=_e,function(Ie,Be){Ie.Vu.forEach(je=>{je.forEach(De=>{De.reject(new FirestoreError(N$2.CANCELLED,Be))})}),Ie.Vu.clear()}(Ce,"'waitForPendingWrites' promise is rejected due to a user change."),Ce.sharedClientState.handleUserChange(_e,Pe.removedBatchIds,Pe.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ce,Pe.Bs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(Ee,_e){const Ce=__PRIVATE_debugCast(Ee),Pe=Ce.Eu.get(_e);if(Pe&&Pe.lu)return __PRIVATE_documentKeySet().add(Pe.key);{let Re=__PRIVATE_documentKeySet();const Ie=Ce.Tu.get(_e);if(!Ie)return Re;for(const Be of Ie){const je=Ce.Pu.get(Be);Re=Re.unionWith(je.view.tu)}return Re}}function __PRIVATE_ensureWatchCallbacks(Ee){const _e=__PRIVATE_debugCast(Ee);return _e.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,_e),_e.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,_e),_e.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,_e),_e.hu.J_=__PRIVATE_eventManagerOnWatchChange.bind(null,_e.eventManager),_e.hu.pu=__PRIVATE_eventManagerOnWatchError.bind(null,_e.eventManager),_e}function __PRIVATE_syncEngineEnsureWriteCallbacks(Ee){const _e=__PRIVATE_debugCast(Ee);return _e.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,_e),_e.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,_e),_e}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(_e){this.serializer=__PRIVATE_newSerializer(_e.databaseInfo.databaseId),this.sharedClientState=this.bu(_e),this.persistence=this.Du(_e),await this.persistence.start(),this.localStore=this.vu(_e),this.gcScheduler=this.Cu(_e,this.localStore),this.indexBackfillerScheduler=this.Fu(_e,this.localStore)}Cu(_e,Ce){return null}Fu(_e,Ce){return null}vu(_e){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,_e.initialUser,this.serializer)}Du(_e){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Vi,this.serializer)}bu(_e){return new __PRIVATE_MemorySharedClientState}async terminate(){var _e,Ce;(_e=this.gcScheduler)===null||_e===void 0||_e.stop(),(Ce=this.indexBackfillerScheduler)===null||Ce===void 0||Ce.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor(_e){super(),this.cacheSizeBytes=_e}Cu(_e,Ce){__PRIVATE_hardAssert(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate,46915);const Pe=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(Pe,_e.asyncQueue,Ce)}Du(_e){const Ce=this.cacheSizeBytes!==void 0?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_MemoryPersistence(Pe=>__PRIVATE_MemoryLruDelegate.Vi(Pe,Ce),this.serializer)}}class OnlineComponentProvider{async initialize(_e,Ce){this.localStore||(this.localStore=_e.localStore,this.sharedClientState=_e.sharedClientState,this.datastore=this.createDatastore(Ce),this.remoteStore=this.createRemoteStore(Ce),this.eventManager=this.createEventManager(Ce),this.syncEngine=this.createSyncEngine(Ce,!_e.synchronizeTabs),this.sharedClientState.onlineStateHandler=Pe=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,Pe,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(_e){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(_e){const Ce=__PRIVATE_newSerializer(_e.databaseInfo.databaseId),Pe=function(Ie){return new __PRIVATE_WebChannelConnection(Ie)}(_e.databaseInfo);return function(Ie,Be,je,De){return new __PRIVATE_DatastoreImpl(Ie,Be,je,De)}(_e.authCredentials,_e.appCheckCredentials,Pe,Ce)}createRemoteStore(_e){return function(Pe,Re,Ie,Be,je){return new __PRIVATE_RemoteStoreImpl(Pe,Re,Ie,Be,je)}(this.localStore,this.datastore,_e.asyncQueue,Ce=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,Ce,0),function(){return __PRIVATE_BrowserConnectivityMonitor.C()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(_e,Ce){return function(Re,Ie,Be,je,De,Fe,Oe){const ke=new __PRIVATE_SyncEngineImpl(Re,Ie,Be,je,De,Fe);return Oe&&(ke.fu=!0),ke}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,_e.initialUser,_e.maxConcurrentLimboResolutions,Ce)}async terminate(){var _e,Ce;await async function(Re){const Ie=__PRIVATE_debugCast(Re);__PRIVATE_logDebug(Xt$2,"RemoteStore shutting down."),Ie.Ia.add(5),await __PRIVATE_disableNetworkInternal(Ie),Ie.Ea.shutdown(),Ie.Aa.set("Unknown")}(this.remoteStore),(_e=this.datastore)===null||_e===void 0||_e.terminate(),(Ce=this.eventManager)===null||Ce===void 0||Ce.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(_e){this.observer=_e,this.muted=!1}next(_e){this.muted||this.observer.next&&this.xu(this.observer.next,_e)}error(_e){this.muted||(this.observer.error?this.xu(this.observer.error,_e):__PRIVATE_logError("Uncaught Error in snapshot listener:",_e.toString()))}Ou(){this.muted=!0}xu(_e,Ce){setTimeout(()=>{this.muted||_e(Ce)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="FirestoreClient";class FirestoreClient{constructor(_e,Ce,Pe,Re,Ie){this.authCredentials=_e,this.appCheckCredentials=Ce,this.asyncQueue=Pe,this.databaseInfo=Re,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=Ie,this.authCredentials.start(Pe,async Be=>{__PRIVATE_logDebug(rn,"Received user=",Be.uid),await this.authCredentialListener(Be),this.user=Be}),this.appCheckCredentials.start(Pe,Be=>(__PRIVATE_logDebug(rn,"Received new app check token=",Be),this.appCheckCredentialListener(Be,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(_e){this.authCredentialListener=_e}setAppCheckTokenChangeListener(_e){this.appCheckCredentialListener=_e}terminate(){this.asyncQueue.enterRestrictedMode();const _e=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),_e.resolve()}catch(Ce){const Pe=__PRIVATE_wrapInUserErrorIfRecoverable(Ce,"Failed to shutdown persistence");_e.reject(Pe)}}),_e.promise}}async function __PRIVATE_setOfflineComponentProvider(Ee,_e){Ee.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(rn,"Initializing OfflineComponentProvider");const Ce=Ee.configuration;await _e.initialize(Ce);let Pe=Ce.initialUser;Ee.setCredentialChangeListener(async Re=>{Pe.isEqual(Re)||(await __PRIVATE_localStoreHandleUserChange(_e.localStore,Re),Pe=Re)}),_e.persistence.setDatabaseDeletedListener(()=>{__PRIVATE_logWarn("Terminating Firestore due to IndexedDb database deletion"),Ee.terminate().then(()=>{__PRIVATE_logDebug("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(Re=>{__PRIVATE_logWarn("Terminating Firestore due to IndexedDb database deletion failed",Re)})}),Ee._offlineComponents=_e}async function __PRIVATE_setOnlineComponentProvider(Ee,_e){Ee.asyncQueue.verifyOperationInProgress();const Ce=await __PRIVATE_ensureOfflineComponents(Ee);__PRIVATE_logDebug(rn,"Initializing OnlineComponentProvider"),await _e.initialize(Ce,Ee.configuration),Ee.setCredentialChangeListener(Pe=>__PRIVATE_remoteStoreHandleCredentialChange(_e.remoteStore,Pe)),Ee.setAppCheckTokenChangeListener((Pe,Re)=>__PRIVATE_remoteStoreHandleCredentialChange(_e.remoteStore,Re)),Ee._onlineComponents=_e}async function __PRIVATE_ensureOfflineComponents(Ee){if(!Ee._offlineComponents)if(Ee._uninitializedComponentsProvider){__PRIVATE_logDebug(rn,"Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(Ee,Ee._uninitializedComponentsProvider._offline)}catch(_e){const Ce=_e;if(!function(Re){return Re.name==="FirebaseError"?Re.code===N$2.FAILED_PRECONDITION||Re.code===N$2.UNIMPLEMENTED:!(typeof DOMException<"u"&&Re instanceof DOMException)||Re.code===22||Re.code===20||Re.code===11}(Ce))throw Ce;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+Ce),await __PRIVATE_setOfflineComponentProvider(Ee,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug(rn,"Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(Ee,new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));return Ee._offlineComponents}async function __PRIVATE_ensureOnlineComponents(Ee){return Ee._onlineComponents||(Ee._uninitializedComponentsProvider?(__PRIVATE_logDebug(rn,"Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(Ee,Ee._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug(rn,"Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(Ee,new OnlineComponentProvider))),Ee._onlineComponents}function __PRIVATE_getSyncEngine(Ee){return __PRIVATE_ensureOnlineComponents(Ee).then(_e=>_e.syncEngine)}async function __PRIVATE_getEventManager(Ee){const _e=await __PRIVATE_ensureOnlineComponents(Ee),Ce=_e.eventManager;return Ce.onListen=__PRIVATE_syncEngineListen.bind(null,_e.syncEngine),Ce.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,_e.syncEngine),Ce.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,_e.syncEngine),Ce.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,_e.syncEngine),Ce}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(Ee,_e,Ce={}){const Pe=new __PRIVATE_Deferred;return Ee.asyncQueue.enqueueAndForget(async()=>function(Ie,Be,je,De,Fe){const Oe=new __PRIVATE_AsyncObserver({next:Me=>{Oe.Ou(),Be.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(Ie,ke));const $e=Me.docs.has(je);!$e&&Me.fromCache?Fe.reject(new FirestoreError(N$2.UNAVAILABLE,"Failed to get document because the client is offline.")):$e&&Me.fromCache&&De&&De.source==="server"?Fe.reject(new FirestoreError(N$2.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Fe.resolve(Me)},error:Me=>Fe.reject(Me)}),ke=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(je.path),Oe,{includeMetadataChanges:!0,ka:!0});return __PRIVATE_eventManagerListen(Ie,ke)}(await __PRIVATE_getEventManager(Ee),Ee.asyncQueue,_e,Ce,Pe)),Pe.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(Ee,_e,Ce={}){const Pe=new __PRIVATE_Deferred;return Ee.asyncQueue.enqueueAndForget(async()=>function(Ie,Be,je,De,Fe){const Oe=new __PRIVATE_AsyncObserver({next:Me=>{Oe.Ou(),Be.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(Ie,ke)),Me.fromCache&&De.source==="server"?Fe.reject(new FirestoreError(N$2.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Fe.resolve(Me)},error:Me=>Fe.reject(Me)}),ke=new __PRIVATE_QueryListener(je,Oe,{includeMetadataChanges:!0,ka:!0});return __PRIVATE_eventManagerListen(Ie,ke)}(await __PRIVATE_getEventManager(Ee),Ee.asyncQueue,_e,Ce,Pe)),Pe.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(Ee){const _e={};return Ee.timeoutSeconds!==void 0&&(_e.timeoutSeconds=Ee.timeoutSeconds),_e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="firestore.googleapis.com",_n=!0;class FirestoreSettingsImpl{constructor(_e){var Ce,Pe;if(_e.host===void 0){if(_e.ssl!==void 0)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=on,this.ssl=_n}else this.host=_e.host,this.ssl=(Ce=_e.ssl)!==null&&Ce!==void 0?Ce:_n;if(this.isUsingEmulator=_e.emulatorOptions!==void 0,this.credentials=_e.credentials,this.ignoreUndefinedProperties=!!_e.ignoreUndefinedProperties,this.localCache=_e.localCache,_e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mt$2;else{if(_e.cacheSizeBytes!==-1&&_e.cacheSizeBytes<Ot$2)throw new FirestoreError(N$2.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=_e.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",_e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",_e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!_e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:_e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!_e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((Pe=_e.experimentalLongPollingOptions)!==null&&Pe!==void 0?Pe:{}),function(Ie){if(Ie.timeoutSeconds!==void 0){if(isNaN(Ie.timeoutSeconds))throw new FirestoreError(N$2.INVALID_ARGUMENT,`invalid long polling timeout: ${Ie.timeoutSeconds} (must not be NaN)`);if(Ie.timeoutSeconds<5)throw new FirestoreError(N$2.INVALID_ARGUMENT,`invalid long polling timeout: ${Ie.timeoutSeconds} (minimum allowed value is 5)`);if(Ie.timeoutSeconds>30)throw new FirestoreError(N$2.INVALID_ARGUMENT,`invalid long polling timeout: ${Ie.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!_e.useFetchStreams}isEqual(_e){return this.host===_e.host&&this.ssl===_e.ssl&&this.credentials===_e.credentials&&this.cacheSizeBytes===_e.cacheSizeBytes&&this.experimentalForceLongPolling===_e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===_e.experimentalAutoDetectLongPolling&&function(Pe,Re){return Pe.timeoutSeconds===Re.timeoutSeconds}(this.experimentalLongPollingOptions,_e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===_e.ignoreUndefinedProperties&&this.useFetchStreams===_e.useFetchStreams}}class Firestore$1{constructor(_e,Ce,Pe,Re){this._authCredentials=_e,this._appCheckCredentials=Ce,this._databaseId=Pe,this._app=Re,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(N$2.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(_e){if(this._settingsFrozen)throw new FirestoreError(N$2.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(_e),this._emulatorOptions=_e.emulatorOptions||{},_e.credentials!==void 0&&(this._authCredentials=function(Pe){if(!Pe)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(Pe.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(Pe.sessionIndex||"0",Pe.iamToken||null,Pe.authTokenFactory||null);case"provider":return Pe.client;default:throw new FirestoreError(N$2.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(_e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(Ce){const Pe=sn.get(Ce);Pe&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),sn.delete(Ce),Pe.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(Ee,_e,Ce,Pe={}){var Re;Ee=__PRIVATE_cast(Ee,Firestore$1);const Ie=isCloudWorkstation(_e),Be=Ee._getSettings(),je=Object.assign(Object.assign({},Be),{emulatorOptions:Ee._getEmulatorOptions()}),De=`${_e}:${Ce}`;Ie&&(pingServer(`https://${De}`),updateEmulatorBanner("Firestore",!0)),Be.host!==on&&Be.host!==De&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const Fe=Object.assign(Object.assign({},Be),{host:De,ssl:Ie,emulatorOptions:Pe});if(!deepEqual(Fe,je)&&(Ee._setSettings(Fe),Pe.mockUserToken)){let Oe,ke;if(typeof Pe.mockUserToken=="string")Oe=Pe.mockUserToken,ke=User.MOCK_USER;else{Oe=createMockUserToken(Pe.mockUserToken,(Re=Ee._app)===null||Re===void 0?void 0:Re.options.projectId);const Me=Pe.mockUserToken.sub||Pe.mockUserToken.user_id;if(!Me)throw new FirestoreError(N$2.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ke=new User(Me)}Ee._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(Oe,ke))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(_e,Ce,Pe){this.converter=Ce,this._query=Pe,this.type="query",this.firestore=_e}withConverter(_e){return new Query(this.firestore,_e,this._query)}}class DocumentReference{constructor(_e,Ce,Pe){this.converter=Ce,this._key=Pe,this.type="document",this.firestore=_e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(_e){return new DocumentReference(this.firestore,_e,this._key)}toJSON(){return{type:DocumentReference._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(_e,Ce,Pe){if(__PRIVATE_validateJSON(Ce,DocumentReference._jsonSchema))return new DocumentReference(_e,Pe||null,new DocumentKey(ResourcePath.fromString(Ce.referencePath)))}}DocumentReference._jsonSchemaVersion="firestore/documentReference/1.0",DocumentReference._jsonSchema={type:property$1("string",DocumentReference._jsonSchemaVersion),referencePath:property$1("string")};class CollectionReference extends Query{constructor(_e,Ce,Pe){super(_e,Ce,__PRIVATE_newQueryForPath(Pe)),this._path=Pe,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const _e=this._path.popLast();return _e.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(_e))}withConverter(_e){return new CollectionReference(this.firestore,_e,this._path)}}function collection(Ee,_e,...Ce){if(Ee=getModularInstance(Ee),__PRIVATE_validateNonEmptyArgument("collection","path",_e),Ee instanceof Firestore$1){const Pe=ResourcePath.fromString(_e,...Ce);return __PRIVATE_validateCollectionPath(Pe),new CollectionReference(Ee,null,Pe)}{if(!(Ee instanceof DocumentReference||Ee instanceof CollectionReference))throw new FirestoreError(N$2.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const Pe=Ee._path.child(ResourcePath.fromString(_e,...Ce));return __PRIVATE_validateCollectionPath(Pe),new CollectionReference(Ee.firestore,null,Pe)}}function doc(Ee,_e,...Ce){if(Ee=getModularInstance(Ee),arguments.length===1&&(_e=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",_e),Ee instanceof Firestore$1){const Pe=ResourcePath.fromString(_e,...Ce);return __PRIVATE_validateDocumentPath(Pe),new DocumentReference(Ee,null,new DocumentKey(Pe))}{if(!(Ee instanceof DocumentReference||Ee instanceof CollectionReference))throw new FirestoreError(N$2.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const Pe=Ee._path.child(ResourcePath.fromString(_e,...Ce));return __PRIVATE_validateDocumentPath(Pe),new DocumentReference(Ee.firestore,Ee instanceof CollectionReference?Ee.converter:null,new DocumentKey(Pe))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="AsyncQueue";class __PRIVATE_AsyncQueueImpl{constructor(_e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.oc=()=>{const Pe=getDocument();Pe&&__PRIVATE_logDebug(an,"Visibility state changed to "+Pe.visibilityState),this.F_.y_()},this._c=_e;const Ce=getDocument();Ce&&typeof Ce.addEventListener=="function"&&Ce.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(_e){this.enqueue(_e)}enqueueAndForgetEvenWhileRestricted(_e){this.ac(),this.uc(_e)}enterRestrictedMode(_e){if(!this.Xu){this.Xu=!0,this.rc=_e||!1;const Ce=getDocument();Ce&&typeof Ce.removeEventListener=="function"&&Ce.removeEventListener("visibilitychange",this.oc)}}enqueue(_e){if(this.ac(),this.Xu)return new Promise(()=>{});const Ce=new __PRIVATE_Deferred;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(_e().then(Ce.resolve,Ce.reject),Ce.promise)).then(()=>Ce.promise)}enqueueRetryable(_e){this.enqueueAndForget(()=>(this.Zu.push(_e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(_e){if(!__PRIVATE_isIndexedDbTransactionError(_e))throw _e;__PRIVATE_logDebug(an,"Operation failed with retryable error: "+_e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(_e){const Ce=this._c.then(()=>(this.nc=!0,_e().catch(Pe=>{throw this.tc=Pe,this.nc=!1,__PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",__PRIVATE_getMessageOrStack(Pe)),Pe}).then(Pe=>(this.nc=!1,Pe))));return this._c=Ce,Ce}enqueueAfterDelay(_e,Ce,Pe){this.ac(),this.sc.indexOf(_e)>-1&&(Ce=0);const Re=DelayedOperation.createAndSchedule(this,_e,Ce,Pe,Ie=>this.lc(Ie));return this.ec.push(Re),Re}ac(){this.tc&&fail(47125,{hc:__PRIVATE_getMessageOrStack(this.tc)})}verifyOperationInProgress(){}async Pc(){let _e;do _e=this._c,await _e;while(_e!==this._c)}Tc(_e){for(const Ce of this.ec)if(Ce.timerId===_e)return!0;return!1}Ic(_e){return this.Pc().then(()=>{this.ec.sort((Ce,Pe)=>Ce.targetTimeMs-Pe.targetTimeMs);for(const Ce of this.ec)if(Ce.skipDelay(),_e!=="all"&&Ce.timerId===_e)break;return this.Pc()})}dc(_e){this.sc.push(_e)}lc(_e){const Ce=this.ec.indexOf(_e);this.ec.splice(Ce,1)}}function __PRIVATE_getMessageOrStack(Ee){let _e=Ee.message||"";return Ee.stack&&(_e=Ee.stack.includes(Ee.message)?Ee.stack:Ee.message+`
`+Ee.stack),_e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isPartialObserver(Ee){return function(Ce,Pe){if(typeof Ce!="object"||Ce===null)return!1;const Re=Ce;for(const Ie of Pe)if(Ie in Re&&typeof Re[Ie]=="function")return!0;return!1}(Ee,["next","error","complete"])}class Firestore extends Firestore$1{constructor(_e,Ce,Pe,Re){super(_e,Ce,Pe,Re),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=Re?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const _e=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(_e),this._firestoreClient=void 0,await _e}}}function getFirestore(Ee,_e){const Ce=typeof Ee=="object"?Ee:getApp(),Pe=typeof Ee=="string"?Ee:ut$1,Re=_getProvider(Ce,"firestore").getImmediate({identifier:Pe});if(!Re._initialized){const Ie=getDefaultEmulatorHostnameAndPort("firestore");Ie&&connectFirestoreEmulator(Re,...Ie)}return Re}function ensureFirestoreConfigured(Ee){if(Ee._terminated)throw new FirestoreError(N$2.FAILED_PRECONDITION,"The client has already been terminated.");return Ee._firestoreClient||__PRIVATE_configureFirestore(Ee),Ee._firestoreClient}function __PRIVATE_configureFirestore(Ee){var _e,Ce,Pe;const Re=Ee._freezeSettings(),Ie=function(je,De,Fe,Oe){return new DatabaseInfo(je,De,Fe,Oe.host,Oe.ssl,Oe.experimentalForceLongPolling,Oe.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(Oe.experimentalLongPollingOptions),Oe.useFetchStreams,Oe.isUsingEmulator)}(Ee._databaseId,((_e=Ee._app)===null||_e===void 0?void 0:_e.options.appId)||"",Ee._persistenceKey,Re);Ee._componentsProvider||!((Ce=Re.localCache)===null||Ce===void 0)&&Ce._offlineComponentProvider&&(!((Pe=Re.localCache)===null||Pe===void 0)&&Pe._onlineComponentProvider)&&(Ee._componentsProvider={_offline:Re.localCache._offlineComponentProvider,_online:Re.localCache._onlineComponentProvider}),Ee._firestoreClient=new FirestoreClient(Ee._authCredentials,Ee._appCheckCredentials,Ee._queue,Ie,Ee._componentsProvider&&function(je){const De=je?._online.build();return{_offline:je?._offline.build(De),_online:De}}(Ee._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(_e){this._byteString=_e}static fromBase64String(_e){try{return new Bytes(ByteString.fromBase64String(_e))}catch(Ce){throw new FirestoreError(N$2.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+Ce)}}static fromUint8Array(_e){return new Bytes(ByteString.fromUint8Array(_e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(_e){return this._byteString.isEqual(_e._byteString)}toJSON(){return{type:Bytes._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(_e){if(__PRIVATE_validateJSON(_e,Bytes._jsonSchema))return Bytes.fromBase64String(_e.bytes)}}Bytes._jsonSchemaVersion="firestore/bytes/1.0",Bytes._jsonSchema={type:property$1("string",Bytes._jsonSchemaVersion),bytes:property$1("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(..._e){for(let Ce=0;Ce<_e.length;++Ce)if(_e[Ce].length===0)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(_e)}isEqual(_e){return this._internalPath.isEqual(_e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(_e){this._methodName=_e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(_e,Ce){if(!isFinite(_e)||_e<-90||_e>90)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+_e);if(!isFinite(Ce)||Ce<-180||Ce>180)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+Ce);this._lat=_e,this._long=Ce}get latitude(){return this._lat}get longitude(){return this._long}isEqual(_e){return this._lat===_e._lat&&this._long===_e._long}_compareTo(_e){return __PRIVATE_primitiveComparator(this._lat,_e._lat)||__PRIVATE_primitiveComparator(this._long,_e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:GeoPoint._jsonSchemaVersion}}static fromJSON(_e){if(__PRIVATE_validateJSON(_e,GeoPoint._jsonSchema))return new GeoPoint(_e.latitude,_e.longitude)}}GeoPoint._jsonSchemaVersion="firestore/geoPoint/1.0",GeoPoint._jsonSchema={type:property$1("string",GeoPoint._jsonSchemaVersion),latitude:property$1("number"),longitude:property$1("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(_e){this._values=(_e||[]).map(Ce=>Ce)}toArray(){return this._values.map(_e=>_e)}isEqual(_e){return function(Pe,Re){if(Pe.length!==Re.length)return!1;for(let Ie=0;Ie<Pe.length;++Ie)if(Pe[Ie]!==Re[Ie])return!1;return!0}(this._values,_e._values)}toJSON(){return{type:VectorValue._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(_e){if(__PRIVATE_validateJSON(_e,VectorValue._jsonSchema)){if(Array.isArray(_e.vectorValues)&&_e.vectorValues.every(Ce=>typeof Ce=="number"))return new VectorValue(_e.vectorValues);throw new FirestoreError(N$2.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}VectorValue._jsonSchemaVersion="firestore/vectorValue/1.0",VectorValue._jsonSchema={type:property$1("string",VectorValue._jsonSchemaVersion),vectorValues:property$1("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=/^__.*__$/;class ParsedSetData{constructor(_e,Ce,Pe){this.data=_e,this.fieldMask=Ce,this.fieldTransforms=Pe}toMutation(_e,Ce){return this.fieldMask!==null?new __PRIVATE_PatchMutation(_e,this.data,this.fieldMask,Ce,this.fieldTransforms):new __PRIVATE_SetMutation(_e,this.data,Ce,this.fieldTransforms)}}class ParsedUpdateData{constructor(_e,Ce,Pe){this.data=_e,this.fieldMask=Ce,this.fieldTransforms=Pe}toMutation(_e,Ce){return new __PRIVATE_PatchMutation(_e,this.data,this.fieldMask,Ce,this.fieldTransforms)}}function __PRIVATE_isWrite(Ee){switch(Ee){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail(40011,{Ec:Ee})}}class __PRIVATE_ParseContextImpl{constructor(_e,Ce,Pe,Re,Ie,Be){this.settings=_e,this.databaseId=Ce,this.serializer=Pe,this.ignoreUndefinedProperties=Re,Ie===void 0&&this.Ac(),this.fieldTransforms=Ie||[],this.fieldMask=Be||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(_e){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),_e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(_e){var Ce;const Pe=(Ce=this.path)===null||Ce===void 0?void 0:Ce.child(_e),Re=this.Rc({path:Pe,mc:!1});return Re.fc(_e),Re}gc(_e){var Ce;const Pe=(Ce=this.path)===null||Ce===void 0?void 0:Ce.child(_e),Re=this.Rc({path:Pe,mc:!1});return Re.Ac(),Re}yc(_e){return this.Rc({path:void 0,mc:!0})}wc(_e){return __PRIVATE_createError(_e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(_e){return this.fieldMask.find(Ce=>_e.isPrefixOf(Ce))!==void 0||this.fieldTransforms.find(Ce=>_e.isPrefixOf(Ce.field))!==void 0}Ac(){if(this.path)for(let _e=0;_e<this.path.length;_e++)this.fc(this.path.get(_e))}fc(_e){if(_e.length===0)throw this.wc("Document fields must not be empty");if(__PRIVATE_isWrite(this.Ec)&&cn.test(_e))throw this.wc('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(_e,Ce,Pe){this.databaseId=_e,this.ignoreUndefinedProperties=Ce,this.serializer=Pe||__PRIVATE_newSerializer(_e)}Dc(_e,Ce,Pe,Re=!1){return new __PRIVATE_ParseContextImpl({Ec:_e,methodName:Ce,bc:Pe,path:FieldPath$1.emptyPath(),mc:!1,Sc:Re},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(Ee){const _e=Ee._freezeSettings(),Ce=__PRIVATE_newSerializer(Ee._databaseId);return new __PRIVATE_UserDataReader(Ee._databaseId,!!_e.ignoreUndefinedProperties,Ce)}function __PRIVATE_parseSetData(Ee,_e,Ce,Pe,Re,Ie={}){const Be=Ee.Dc(Ie.merge||Ie.mergeFields?2:0,_e,Ce,Re);__PRIVATE_validatePlainObject("Data must be an object, but it was:",Be,Pe);const je=__PRIVATE_parseObject(Pe,Be);let De,Fe;if(Ie.merge)De=new FieldMask(Be.fieldMask),Fe=Be.fieldTransforms;else if(Ie.mergeFields){const Oe=[];for(const ke of Ie.mergeFields){const Me=__PRIVATE_fieldPathFromArgument$1(_e,ke,Ce);if(!Be.contains(Me))throw new FirestoreError(N$2.INVALID_ARGUMENT,`Field '${Me}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(Oe,Me)||Oe.push(Me)}De=new FieldMask(Oe),Fe=Be.fieldTransforms.filter(ke=>De.covers(ke.field))}else De=null,Fe=Be.fieldTransforms;return new ParsedSetData(new ObjectValue(je),De,Fe)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(_e){if(_e.Ec!==2)throw _e.Ec===1?_e.wc(`${this._methodName}() can only appear at the top level of your update data`):_e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return _e.fieldMask.push(_e.path),null}isEqual(_e){return _e instanceof __PRIVATE_DeleteFieldValueImpl}}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue{_toFieldTransform(_e){return new FieldTransform(_e.path,new __PRIVATE_ServerTimestampTransform)}isEqual(_e){return _e instanceof __PRIVATE_ServerTimestampFieldValueImpl}}function __PRIVATE_parseUpdateData(Ee,_e,Ce,Pe){const Re=Ee.Dc(1,_e,Ce);__PRIVATE_validatePlainObject("Data must be an object, but it was:",Re,Pe);const Ie=[],Be=ObjectValue.empty();forEach$1(Pe,(De,Fe)=>{const Oe=__PRIVATE_fieldPathFromDotSeparatedString(_e,De,Ce);Fe=getModularInstance(Fe);const ke=Re.gc(Oe);if(Fe instanceof __PRIVATE_DeleteFieldValueImpl)Ie.push(Oe);else{const Me=__PRIVATE_parseData(Fe,ke);Me!=null&&(Ie.push(Oe),Be.set(Oe,Me))}});const je=new FieldMask(Ie);return new ParsedUpdateData(Be,je,Re.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(Ee,_e,Ce,Pe,Re,Ie){const Be=Ee.Dc(1,_e,Ce),je=[__PRIVATE_fieldPathFromArgument$1(_e,Pe,Ce)],De=[Re];if(Ie.length%2!=0)throw new FirestoreError(N$2.INVALID_ARGUMENT,`Function ${_e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Me=0;Me<Ie.length;Me+=2)je.push(__PRIVATE_fieldPathFromArgument$1(_e,Ie[Me])),De.push(Ie[Me+1]);const Fe=[],Oe=ObjectValue.empty();for(let Me=je.length-1;Me>=0;--Me)if(!__PRIVATE_fieldMaskContains(Fe,je[Me])){const $e=je[Me];let He=De[Me];He=getModularInstance(He);const Qe=Be.gc($e);if(He instanceof __PRIVATE_DeleteFieldValueImpl)Fe.push($e);else{const Ke=__PRIVATE_parseData(He,Qe);Ke!=null&&(Fe.push($e),Oe.set($e,Ke))}}const ke=new FieldMask(Fe);return new ParsedUpdateData(Oe,ke,Be.fieldTransforms)}function __PRIVATE_parseQueryValue(Ee,_e,Ce,Pe=!1){return __PRIVATE_parseData(Ce,Ee.Dc(Pe?4:3,_e))}function __PRIVATE_parseData(Ee,_e){if(__PRIVATE_looksLikeJsonObject(Ee=getModularInstance(Ee)))return __PRIVATE_validatePlainObject("Unsupported field value:",_e,Ee),__PRIVATE_parseObject(Ee,_e);if(Ee instanceof FieldValue)return function(Pe,Re){if(!__PRIVATE_isWrite(Re.Ec))throw Re.wc(`${Pe._methodName}() can only be used with update() and set()`);if(!Re.path)throw Re.wc(`${Pe._methodName}() is not currently supported inside arrays`);const Ie=Pe._toFieldTransform(Re);Ie&&Re.fieldTransforms.push(Ie)}(Ee,_e),null;if(Ee===void 0&&_e.ignoreUndefinedProperties)return null;if(_e.path&&_e.fieldMask.push(_e.path),Ee instanceof Array){if(_e.settings.mc&&_e.Ec!==4)throw _e.wc("Nested arrays are not supported");return function(Pe,Re){const Ie=[];let Be=0;for(const je of Pe){let De=__PRIVATE_parseData(je,Re.yc(Be));De==null&&(De={nullValue:"NULL_VALUE"}),Ie.push(De),Be++}return{arrayValue:{values:Ie}}}(Ee,_e)}return function(Pe,Re){if((Pe=getModularInstance(Pe))===null)return{nullValue:"NULL_VALUE"};if(typeof Pe=="number")return toNumber$1(Re.serializer,Pe);if(typeof Pe=="boolean")return{booleanValue:Pe};if(typeof Pe=="string")return{stringValue:Pe};if(Pe instanceof Date){const Ie=Timestamp.fromDate(Pe);return{timestampValue:toTimestamp(Re.serializer,Ie)}}if(Pe instanceof Timestamp){const Ie=new Timestamp(Pe.seconds,1e3*Math.floor(Pe.nanoseconds/1e3));return{timestampValue:toTimestamp(Re.serializer,Ie)}}if(Pe instanceof GeoPoint)return{geoPointValue:{latitude:Pe.latitude,longitude:Pe.longitude}};if(Pe instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(Re.serializer,Pe._byteString)};if(Pe instanceof DocumentReference){const Ie=Re.databaseId,Be=Pe.firestore._databaseId;if(!Be.isEqual(Ie))throw Re.wc(`Document reference is for database ${Be.projectId}/${Be.database} but should be for database ${Ie.projectId}/${Ie.database}`);return{referenceValue:__PRIVATE_toResourceName(Pe.firestore._databaseId||Re.databaseId,Pe._key.path)}}if(Pe instanceof VectorValue)return function(Be,je){return{mapValue:{fields:{[ct$1]:{stringValue:Pt$2},[Tt$1]:{arrayValue:{values:Be.toArray().map(Fe=>{if(typeof Fe!="number")throw je.wc("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(je.serializer,Fe)})}}}}}}(Pe,Re);throw Re.wc(`Unsupported field value: ${__PRIVATE_valueDescription(Pe)}`)}(Ee,_e)}function __PRIVATE_parseObject(Ee,_e){const Ce={};return isEmpty(Ee)?_e.path&&_e.path.length>0&&_e.fieldMask.push(_e.path):forEach$1(Ee,(Pe,Re)=>{const Ie=__PRIVATE_parseData(Re,_e.Vc(Pe));Ie!=null&&(Ce[Pe]=Ie)}),{mapValue:{fields:Ce}}}function __PRIVATE_looksLikeJsonObject(Ee){return!(typeof Ee!="object"||Ee===null||Ee instanceof Array||Ee instanceof Date||Ee instanceof Timestamp||Ee instanceof GeoPoint||Ee instanceof Bytes||Ee instanceof DocumentReference||Ee instanceof FieldValue||Ee instanceof VectorValue)}function __PRIVATE_validatePlainObject(Ee,_e,Ce){if(!__PRIVATE_looksLikeJsonObject(Ce)||!__PRIVATE_isPlainObject(Ce)){const Pe=__PRIVATE_valueDescription(Ce);throw Pe==="an object"?_e.wc(Ee+" a custom object"):_e.wc(Ee+" "+Pe)}}function __PRIVATE_fieldPathFromArgument$1(Ee,_e,Ce){if((_e=getModularInstance(_e))instanceof FieldPath)return _e._internalPath;if(typeof _e=="string")return __PRIVATE_fieldPathFromDotSeparatedString(Ee,_e);throw __PRIVATE_createError("Field path arguments must be of type string or ",Ee,!1,void 0,Ce)}const ln$2=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(Ee,_e,Ce){if(_e.search(ln$2)>=0)throw __PRIVATE_createError(`Invalid field path (${_e}). Paths must not contain '~', '*', '/', '[', or ']'`,Ee,!1,void 0,Ce);try{return new FieldPath(..._e.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${_e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,Ee,!1,void 0,Ce)}}function __PRIVATE_createError(Ee,_e,Ce,Pe,Re){const Ie=Pe&&!Pe.isEmpty(),Be=Re!==void 0;let je=`Function ${_e}() called with invalid data`;Ce&&(je+=" (via `toFirestore()`)"),je+=". ";let De="";return(Ie||Be)&&(De+=" (found",Ie&&(De+=` in field ${Pe}`),Be&&(De+=` in document ${Re}`),De+=")"),new FirestoreError(N$2.INVALID_ARGUMENT,je+Ee+De)}function __PRIVATE_fieldMaskContains(Ee,_e){return Ee.some(Ce=>Ce.isEqual(_e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(_e,Ce,Pe,Re,Ie){this._firestore=_e,this._userDataWriter=Ce,this._key=Pe,this._document=Re,this._converter=Ie}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const _e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(_e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(_e){if(this._document){const Ce=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",_e));if(Ce!==null)return this._userDataWriter.convertValue(Ce)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(Ee,_e){return typeof _e=="string"?__PRIVATE_fieldPathFromDotSeparatedString(Ee,_e):_e instanceof FieldPath?_e._internalPath:_e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(Ee){if(Ee.limitType==="L"&&Ee.explicitOrderBy.length===0)throw new FirestoreError(N$2.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(Ee,_e,...Ce){let Pe=[];_e instanceof AppliableConstraint&&Pe.push(_e),Pe=Pe.concat(Ce),function(Ie){const Be=Ie.filter(De=>De instanceof QueryCompositeFilterConstraint).length,je=Ie.filter(De=>De instanceof QueryFieldFilterConstraint).length;if(Be>1||Be>0&&je>0)throw new FirestoreError(N$2.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(Pe);for(const Re of Pe)Ee=Re._apply(Ee);return Ee}class QueryFieldFilterConstraint extends QueryConstraint{constructor(_e,Ce,Pe){super(),this._field=_e,this._op=Ce,this._value=Pe,this.type="where"}static _create(_e,Ce,Pe){return new QueryFieldFilterConstraint(_e,Ce,Pe)}_apply(_e){const Ce=this._parse(_e);return __PRIVATE_validateNewFieldFilter(_e._query,Ce),new Query(_e.firestore,_e.converter,__PRIVATE_queryWithAddedFilter(_e._query,Ce))}_parse(_e){const Ce=__PRIVATE_newUserDataReader(_e.firestore);return function(Ie,Be,je,De,Fe,Oe,ke){let Me;if(Fe.isKeyField()){if(Oe==="array-contains"||Oe==="array-contains-any")throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Oe}' queries on documentId().`);if(Oe==="in"||Oe==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(ke,Oe);const He=[];for(const Qe of ke)He.push(__PRIVATE_parseDocumentIdValue(De,Ie,Qe));Me={arrayValue:{values:He}}}else Me=__PRIVATE_parseDocumentIdValue(De,Ie,ke)}else Oe!=="in"&&Oe!=="not-in"&&Oe!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(ke,Oe),Me=__PRIVATE_parseQueryValue(je,Be,ke,Oe==="in"||Oe==="not-in");return FieldFilter.create(Fe,Oe,Me)}(_e._query,"where",Ce,_e.firestore._databaseId,this._field,this._op,this._value)}}function where(Ee,_e,Ce){const Pe=_e,Re=__PRIVATE_fieldPathFromArgument("where",Ee);return QueryFieldFilterConstraint._create(Re,Pe,Ce)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(_e,Ce){super(),this.type=_e,this._queryConstraints=Ce}static _create(_e,Ce){return new QueryCompositeFilterConstraint(_e,Ce)}_parse(_e){const Ce=this._queryConstraints.map(Pe=>Pe._parse(_e)).filter(Pe=>Pe.getFilters().length>0);return Ce.length===1?Ce[0]:CompositeFilter.create(Ce,this._getOperator())}_apply(_e){const Ce=this._parse(_e);return Ce.getFilters().length===0?_e:(function(Re,Ie){let Be=Re;const je=Ie.getFlattenedFilters();for(const De of je)__PRIVATE_validateNewFieldFilter(Be,De),Be=__PRIVATE_queryWithAddedFilter(Be,De)}(_e._query,Ce),new Query(_e.firestore,_e.converter,__PRIVATE_queryWithAddedFilter(_e._query,Ce)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(_e,Ce){super(),this._field=_e,this._direction=Ce,this.type="orderBy"}static _create(_e,Ce){return new QueryOrderByConstraint(_e,Ce)}_apply(_e){const Ce=function(Re,Ie,Be){if(Re.startAt!==null)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(Re.endAt!==null)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(Ie,Be)}(_e._query,this._field,this._direction);return new Query(_e.firestore,_e.converter,function(Re,Ie){const Be=Re.explicitOrderBy.concat([Ie]);return new __PRIVATE_QueryImpl(Re.path,Re.collectionGroup,Be,Re.filters.slice(),Re.limit,Re.limitType,Re.startAt,Re.endAt)}(_e._query,Ce))}}function orderBy$1(Ee,_e="asc"){const Ce=_e,Pe=__PRIVATE_fieldPathFromArgument("orderBy",Ee);return QueryOrderByConstraint._create(Pe,Ce)}function __PRIVATE_parseDocumentIdValue(Ee,_e,Ce){if(typeof(Ce=getModularInstance(Ce))=="string"){if(Ce==="")throw new FirestoreError(N$2.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(_e)&&Ce.indexOf("/")!==-1)throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${Ce}' contains a '/' character.`);const Pe=_e.path.child(ResourcePath.fromString(Ce));if(!DocumentKey.isDocumentKey(Pe))throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${Pe}' is not because it has an odd number of segments (${Pe.length}).`);return __PRIVATE_refValue(Ee,new DocumentKey(Pe))}if(Ce instanceof DocumentReference)return __PRIVATE_refValue(Ee,Ce._key);throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(Ce)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(Ee,_e){if(!Array.isArray(Ee)||Ee.length===0)throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${_e.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(Ee,_e){const Ce=function(Re,Ie){for(const Be of Re)for(const je of Be.getFlattenedFilters())if(Ie.indexOf(je.op)>=0)return je.op;return null}(Ee.filters,function(Re){switch(Re){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(_e.op));if(Ce!==null)throw Ce===_e.op?new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${_e.op.toString()}' filter.`):new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid query. You cannot use '${_e.op.toString()}' filters with '${Ce.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(_e,Ce="none"){switch(__PRIVATE_typeOrder(_e)){case 0:return null;case 1:return _e.booleanValue;case 2:return __PRIVATE_normalizeNumber(_e.integerValue||_e.doubleValue);case 3:return this.convertTimestamp(_e.timestampValue);case 4:return this.convertServerTimestamp(_e,Ce);case 5:return _e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(_e.bytesValue));case 7:return this.convertReference(_e.referenceValue);case 8:return this.convertGeoPoint(_e.geoPointValue);case 9:return this.convertArray(_e.arrayValue,Ce);case 11:return this.convertObject(_e.mapValue,Ce);case 10:return this.convertVectorValue(_e.mapValue);default:throw fail(62114,{value:_e})}}convertObject(_e,Ce){return this.convertObjectMap(_e.fields,Ce)}convertObjectMap(_e,Ce="none"){const Pe={};return forEach$1(_e,(Re,Ie)=>{Pe[Re]=this.convertValue(Ie,Ce)}),Pe}convertVectorValue(_e){var Ce,Pe,Re;const Ie=(Re=(Pe=(Ce=_e.fields)===null||Ce===void 0?void 0:Ce[Tt$1].arrayValue)===null||Pe===void 0?void 0:Pe.values)===null||Re===void 0?void 0:Re.map(Be=>__PRIVATE_normalizeNumber(Be.doubleValue));return new VectorValue(Ie)}convertGeoPoint(_e){return new GeoPoint(__PRIVATE_normalizeNumber(_e.latitude),__PRIVATE_normalizeNumber(_e.longitude))}convertArray(_e,Ce){return(_e.values||[]).map(Pe=>this.convertValue(Pe,Ce))}convertServerTimestamp(_e,Ce){switch(Ce){case"previous":const Pe=__PRIVATE_getPreviousValue(_e);return Pe==null?null:this.convertValue(Pe,Ce);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(_e));default:return null}}convertTimestamp(_e){const Ce=__PRIVATE_normalizeTimestamp(_e);return new Timestamp(Ce.seconds,Ce.nanos)}convertDocumentKey(_e,Ce){const Pe=ResourcePath.fromString(_e);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(Pe),9688,{name:_e});const Re=new DatabaseId(Pe.get(1),Pe.get(3)),Ie=new DocumentKey(Pe.popFirst(5));return Re.isEqual(Ce)||__PRIVATE_logError(`Document ${Ie} contains a document reference within a different database (${Re.projectId}/${Re.database}) which is not supported. It will be treated as a reference in the current database (${Ce.projectId}/${Ce.database}) instead.`),Ie}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(Ee,_e,Ce){let Pe;return Pe=Ee?Ce&&(Ce.merge||Ce.mergeFields)?Ee.toFirestore(_e,Ce):Ee.toFirestore(_e):_e,Pe}class SnapshotMetadata{constructor(_e,Ce){this.hasPendingWrites=_e,this.fromCache=Ce}isEqual(_e){return this.hasPendingWrites===_e.hasPendingWrites&&this.fromCache===_e.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(_e,Ce,Pe,Re,Ie,Be){super(_e,Ce,Pe,Re,Be),this._firestore=_e,this._firestoreImpl=_e,this.metadata=Ie}exists(){return super.exists()}data(_e={}){if(this._document){if(this._converter){const Ce=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(Ce,_e)}return this._userDataWriter.convertValue(this._document.data.value,_e.serverTimestamps)}}get(_e,Ce={}){if(this._document){const Pe=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",_e));if(Pe!==null)return this._userDataWriter.convertValue(Pe,Ce.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new FirestoreError(N$2.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const _e=this._document,Ce={};return Ce.type=DocumentSnapshot._jsonSchemaVersion,Ce.bundle="",Ce.bundleSource="DocumentSnapshot",Ce.bundleName=this._key.toString(),!_e||!_e.isValidDocument()||!_e.isFoundDocument()?Ce:(this._userDataWriter.convertObjectMap(_e.data.value.mapValue.fields,"previous"),Ce.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),Ce)}}DocumentSnapshot._jsonSchemaVersion="firestore/documentSnapshot/1.0",DocumentSnapshot._jsonSchema={type:property$1("string",DocumentSnapshot._jsonSchemaVersion),bundleSource:property$1("string","DocumentSnapshot"),bundleName:property$1("string"),bundle:property$1("string")};class QueryDocumentSnapshot extends DocumentSnapshot{data(_e={}){return super.data(_e)}}class QuerySnapshot{constructor(_e,Ce,Pe,Re){this._firestore=_e,this._userDataWriter=Ce,this._snapshot=Re,this.metadata=new SnapshotMetadata(Re.hasPendingWrites,Re.fromCache),this.query=Pe}get docs(){const _e=[];return this.forEach(Ce=>_e.push(Ce)),_e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(_e,Ce){this._snapshot.docs.forEach(Pe=>{_e.call(Ce,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,Pe.key,Pe,new SnapshotMetadata(this._snapshot.mutatedKeys.has(Pe.key),this._snapshot.fromCache),this.query.converter))})}docChanges(_e={}){const Ce=!!_e.includeMetadataChanges;if(Ce&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(N$2.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===Ce||(this._cachedChanges=function(Re,Ie){if(Re._snapshot.oldDocs.isEmpty()){let Be=0;return Re._snapshot.docChanges.map(je=>{const De=new QueryDocumentSnapshot(Re._firestore,Re._userDataWriter,je.doc.key,je.doc,new SnapshotMetadata(Re._snapshot.mutatedKeys.has(je.doc.key),Re._snapshot.fromCache),Re.query.converter);return je.doc,{type:"added",doc:De,oldIndex:-1,newIndex:Be++}})}{let Be=Re._snapshot.oldDocs;return Re._snapshot.docChanges.filter(je=>Ie||je.type!==3).map(je=>{const De=new QueryDocumentSnapshot(Re._firestore,Re._userDataWriter,je.doc.key,je.doc,new SnapshotMetadata(Re._snapshot.mutatedKeys.has(je.doc.key),Re._snapshot.fromCache),Re.query.converter);let Fe=-1,Oe=-1;return je.type!==0&&(Fe=Be.indexOf(je.doc.key),Be=Be.delete(je.doc.key)),je.type!==1&&(Be=Be.add(je.doc),Oe=Be.indexOf(je.doc.key)),{type:__PRIVATE_resultChangeType(je.type),doc:De,oldIndex:Fe,newIndex:Oe}})}}(this,Ce),this._cachedChangesIncludeMetadataChanges=Ce),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new FirestoreError(N$2.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const _e={};_e.type=QuerySnapshot._jsonSchemaVersion,_e.bundleSource="QuerySnapshot",_e.bundleName=__PRIVATE_AutoId.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const Ce=[],Pe=[],Re=[];return this.docs.forEach(Ie=>{Ie._document!==null&&(Ce.push(Ie._document),Pe.push(this._userDataWriter.convertObjectMap(Ie._document.data.value.mapValue.fields,"previous")),Re.push(Ie.ref.path))}),_e.bundle=(this._firestore,this.query._query,_e.bundleName,"NOT SUPPORTED"),_e}}function __PRIVATE_resultChangeType(Ee){switch(Ee){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail(61501,{type:Ee})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(Ee){Ee=__PRIVATE_cast(Ee,DocumentReference);const _e=__PRIVATE_cast(Ee.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(_e),Ee._key).then(Ce=>__PRIVATE_convertToDocSnapshot(_e,Ee,Ce))}QuerySnapshot._jsonSchemaVersion="firestore/querySnapshot/1.0",QuerySnapshot._jsonSchema={type:property$1("string",QuerySnapshot._jsonSchemaVersion),bundleSource:property$1("string","QuerySnapshot"),bundleName:property$1("string"),bundle:property$1("string")};class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(_e){super(),this.firestore=_e}convertBytes(_e){return new Bytes(_e)}convertReference(_e){const Ce=this.convertDocumentKey(_e,this.firestore._databaseId);return new DocumentReference(this.firestore,null,Ce)}}function getDocs(Ee){Ee=__PRIVATE_cast(Ee,Query);const _e=__PRIVATE_cast(Ee.firestore,Firestore),Ce=ensureFirestoreConfigured(_e),Pe=new __PRIVATE_ExpUserDataWriter(_e);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(Ee._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(Ce,Ee._query).then(Re=>new QuerySnapshot(_e,Pe,Ee,Re))}function setDoc(Ee,_e,Ce){Ee=__PRIVATE_cast(Ee,DocumentReference);const Pe=__PRIVATE_cast(Ee.firestore,Firestore),Re=__PRIVATE_applyFirestoreDataConverter(Ee.converter,_e,Ce);return executeWrite(Pe,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(Pe),"setDoc",Ee._key,Re,Ee.converter!==null,Ce).toMutation(Ee._key,Precondition.none())])}function updateDoc(Ee,_e,Ce,...Pe){Ee=__PRIVATE_cast(Ee,DocumentReference);const Re=__PRIVATE_cast(Ee.firestore,Firestore),Ie=__PRIVATE_newUserDataReader(Re);let Be;return Be=typeof(_e=getModularInstance(_e))=="string"||_e instanceof FieldPath?__PRIVATE_parseUpdateVarargs(Ie,"updateDoc",Ee._key,_e,Ce,Pe):__PRIVATE_parseUpdateData(Ie,"updateDoc",Ee._key,_e),executeWrite(Re,[Be.toMutation(Ee._key,Precondition.exists(!0))])}function deleteDoc(Ee){return executeWrite(__PRIVATE_cast(Ee.firestore,Firestore),[new __PRIVATE_DeleteMutation(Ee._key,Precondition.none())])}function addDoc(Ee,_e){const Ce=__PRIVATE_cast(Ee.firestore,Firestore),Pe=doc(Ee),Re=__PRIVATE_applyFirestoreDataConverter(Ee.converter,_e);return executeWrite(Ce,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(Ee.firestore),"addDoc",Pe._key,Re,Ee.converter!==null,{}).toMutation(Pe._key,Precondition.exists(!1))]).then(()=>Pe)}function onSnapshot(Ee,..._e){var Ce,Pe,Re;Ee=getModularInstance(Ee);let Ie={includeMetadataChanges:!1,source:"default"},Be=0;typeof _e[Be]!="object"||__PRIVATE_isPartialObserver(_e[Be])||(Ie=_e[Be++]);const je={includeMetadataChanges:Ie.includeMetadataChanges,source:Ie.source};if(__PRIVATE_isPartialObserver(_e[Be])){const ke=_e[Be];_e[Be]=(Ce=ke.next)===null||Ce===void 0?void 0:Ce.bind(ke),_e[Be+1]=(Pe=ke.error)===null||Pe===void 0?void 0:Pe.bind(ke),_e[Be+2]=(Re=ke.complete)===null||Re===void 0?void 0:Re.bind(ke)}let De,Fe,Oe;if(Ee instanceof DocumentReference)Fe=__PRIVATE_cast(Ee.firestore,Firestore),Oe=__PRIVATE_newQueryForPath(Ee._key.path),De={next:ke=>{_e[Be]&&_e[Be](__PRIVATE_convertToDocSnapshot(Fe,Ee,ke))},error:_e[Be+1],complete:_e[Be+2]};else{const ke=__PRIVATE_cast(Ee,Query);Fe=__PRIVATE_cast(ke.firestore,Firestore),Oe=ke._query;const Me=new __PRIVATE_ExpUserDataWriter(Fe);De={next:$e=>{_e[Be]&&_e[Be](new QuerySnapshot(Fe,Me,ke,$e))},error:_e[Be+1],complete:_e[Be+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast(Ee._query)}return function(Me,$e,He,Qe){const Ke=new __PRIVATE_AsyncObserver(Qe),ze=new __PRIVATE_QueryListener($e,Ke,He);return Me.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(Me),ze)),()=>{Ke.Ou(),Me.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(Me),ze))}}(ensureFirestoreConfigured(Fe),Oe,je,De)}function executeWrite(Ee,_e){return function(Pe,Re){const Ie=new __PRIVATE_Deferred;return Pe.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(Pe),Re,Ie)),Ie.promise}(ensureFirestoreConfigured(Ee),_e)}function __PRIVATE_convertToDocSnapshot(Ee,_e,Ce){const Pe=Ce.docs.get(_e._key),Re=new __PRIVATE_ExpUserDataWriter(Ee);return new DocumentSnapshot(Ee,Re,_e._key,Pe,new SnapshotMetadata(Ce.hasPendingWrites,Ce.fromCache),_e.converter)}function serverTimestamp(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}(function Ee(_e,Ce=!0){(function(Re){x$4=Re})(SDK_VERSION),_registerComponent(new Component("firestore",(Pe,{instanceIdentifier:Re,options:Ie})=>{const Be=Pe.getProvider("app").getImmediate(),je=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(Pe.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(Be,Pe.getProvider("app-check-internal")),function(Fe,Oe){if(!Object.prototype.hasOwnProperty.apply(Fe.options,["projectId"]))throw new FirestoreError(N$2.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(Fe.options.projectId,Oe)}(Be,Re),Be);return Ie=Object.assign({useFetchStreams:Ce},Ie),je._setSettings(Ie),je},"PUBLIC").setMultipleInstances(!0)),registerVersion(F$3,M$2,_e),registerVersion(F$3,M$2,"esm2017")})();const index_esm=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter,Bytes,CollectionReference,DocumentReference,DocumentSnapshot,FieldPath,FieldValue,Firestore,FirestoreError,GeoPoint,Query,QueryCompositeFilterConstraint,QueryConstraint,QueryDocumentSnapshot,QueryFieldFilterConstraint,QueryOrderByConstraint,QuerySnapshot,SnapshotMetadata,Timestamp,VectorValue,_AutoId:__PRIVATE_AutoId,_ByteString:ByteString,_DatabaseId:DatabaseId,_DocumentKey:DocumentKey,_EmptyAuthCredentialsProvider:__PRIVATE_EmptyAuthCredentialsProvider,_FieldPath:FieldPath$1,_cast:__PRIVATE_cast,_logWarn:__PRIVATE_logWarn,_validateIsNotUsedTogether:__PRIVATE_validateIsNotUsedTogether,addDoc,collection,connectFirestoreEmulator,deleteDoc,doc,ensureFirestoreConfigured,executeWrite,getDoc,getDocs,getFirestore,onSnapshot,orderBy:orderBy$1,query,serverTimestamp,setDoc,updateDoc,where},Symbol.toStringTag,{value:"Module"}));var name$3="firebase",version$4="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$3,version$4,"app");function __rest$1(Ee,_e){var Ce={};for(var Pe in Ee)Object.prototype.hasOwnProperty.call(Ee,Pe)&&_e.indexOf(Pe)<0&&(Ce[Pe]=Ee[Pe]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Re=0,Pe=Object.getOwnPropertySymbols(Ee);Re<Pe.length;Re++)_e.indexOf(Pe[Re])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Pe[Re])&&(Ce[Pe[Re]]=Ee[Pe[Re]]);return Ce}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(Ee,..._e){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${Ee}`,..._e)}function _logError(Ee,..._e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${Ee}`,..._e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(Ee,..._e){throw createErrorInternal(Ee,..._e)}function _createError(Ee,..._e){return createErrorInternal(Ee,..._e)}function _errorWithCustomMessage(Ee,_e,Ce){const Pe=Object.assign(Object.assign({},prodErrorMap()),{[_e]:Ce});return new ErrorFactory("auth","Firebase",Pe).create(_e,{appName:Ee.name})}function _serverAppCurrentUserOperationNotSupportedError(Ee){return _errorWithCustomMessage(Ee,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(Ee,..._e){if(typeof Ee!="string"){const Ce=_e[0],Pe=[..._e.slice(1)];return Pe[0]&&(Pe[0].appName=Ee.name),Ee._errorFactory.create(Ce,...Pe)}return _DEFAULT_AUTH_ERROR_FACTORY.create(Ee,..._e)}function _assert(Ee,_e,...Ce){if(!Ee)throw createErrorInternal(_e,...Ce)}function debugFail(Ee){const _e="INTERNAL ASSERTION FAILED: "+Ee;throw _logError(_e),new Error(_e)}function debugAssert(Ee,_e){Ee||debugFail(_e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var Ee;return typeof self<"u"&&((Ee=self.location)===null||Ee===void 0?void 0:Ee.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var Ee;return typeof self<"u"&&((Ee=self.location)===null||Ee===void 0?void 0:Ee.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const Ee=navigator;return Ee.languages&&Ee.languages[0]||Ee.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(_e,Ce){this.shortDelay=_e,this.longDelay=Ce,debugAssert(Ce>_e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative$1()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(Ee,_e){debugAssert(Ee.emulator,"Emulator should always be set here");const{url:Ce}=Ee.emulator;return _e?`${Ce}${_e.startsWith("/")?_e.slice(1):_e}`:Ce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(_e,Ce,Pe){this.fetchImpl=_e,Ce&&(this.headersImpl=Ce),Pe&&(this.responseImpl=Pe)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CookieAuthProxiedEndpoints=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(Ee,_e){return Ee.tenantId&&!_e.tenantId?Object.assign(Object.assign({},_e),{tenantId:Ee.tenantId}):_e}async function _performApiRequest(Ee,_e,Ce,Pe,Re={}){return _performFetchWithErrorHandling(Ee,Re,async()=>{let Ie={},Be={};Pe&&(_e==="GET"?Be=Pe:Ie={body:JSON.stringify(Pe)});const je=querystring(Object.assign({key:Ee.config.apiKey},Be)).slice(1),De=await Ee._getAdditionalHeaders();De["Content-Type"]="application/json",Ee.languageCode&&(De["X-Firebase-Locale"]=Ee.languageCode);const Fe=Object.assign({method:_e,headers:De},Ie);return isCloudflareWorker()||(Fe.referrerPolicy="no-referrer"),Ee.emulatorConfig&&isCloudWorkstation(Ee.emulatorConfig.host)&&(Fe.credentials="include"),FetchProvider.fetch()(await _getFinalTarget(Ee,Ee.config.apiHost,Ce,je),Fe)})}async function _performFetchWithErrorHandling(Ee,_e,Ce){Ee._canInitEmulator=!1;const Pe=Object.assign(Object.assign({},SERVER_ERROR_MAP),_e);try{const Re=new NetworkTimeout(Ee),Ie=await Promise.race([Ce(),Re.promise]);Re.clearNetworkTimeout();const Be=await Ie.json();if("needConfirmation"in Be)throw _makeTaggedError(Ee,"account-exists-with-different-credential",Be);if(Ie.ok&&!("errorMessage"in Be))return Be;{const je=Ie.ok?Be.errorMessage:Be.error.message,[De,Fe]=je.split(" : ");if(De==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(Ee,"credential-already-in-use",Be);if(De==="EMAIL_EXISTS")throw _makeTaggedError(Ee,"email-already-in-use",Be);if(De==="USER_DISABLED")throw _makeTaggedError(Ee,"user-disabled",Be);const Oe=Pe[De]||De.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw _errorWithCustomMessage(Ee,Oe,Fe);_fail(Ee,Oe)}}catch(Re){if(Re instanceof FirebaseError)throw Re;_fail(Ee,"network-request-failed",{message:String(Re)})}}async function _performSignInRequest(Ee,_e,Ce,Pe,Re={}){const Ie=await _performApiRequest(Ee,_e,Ce,Pe,Re);return"mfaPendingCredential"in Ie&&_fail(Ee,"multi-factor-auth-required",{_serverResponse:Ie}),Ie}async function _getFinalTarget(Ee,_e,Ce,Pe){const Re=`${_e}${Ce}?${Pe}`,Ie=Ee,Be=Ie.config.emulator?_emulatorUrl(Ee.config,Re):`${Ee.config.apiScheme}://${Re}`;return CookieAuthProxiedEndpoints.includes(Ce)&&(await Ie._persistenceManagerAvailable,Ie._getPersistenceType()==="COOKIE")?Ie._getPersistence()._getFinalTarget(Be).toString():Be}function _parseEnforcementState(Ee){switch(Ee){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(_e){this.auth=_e,this.timer=null,this.promise=new Promise((Ce,Pe)=>{this.timer=setTimeout(()=>Pe(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}}function _makeTaggedError(Ee,_e,Ce){const Pe={appName:Ee.name};Ce.email&&(Pe.email=Ce.email),Ce.phoneNumber&&(Pe.phoneNumber=Ce.phoneNumber);const Re=_createError(Ee,_e,Pe);return Re.customData._tokenResponse=Ce,Re}function isEnterprise(Ee){return Ee!==void 0&&Ee.enterprise!==void 0}class RecaptchaConfig{constructor(_e){if(this.siteKey="",this.recaptchaEnforcementState=[],_e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=_e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_e.recaptchaEnforcementState}getProviderEnforcementState(_e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const Ce of this.recaptchaEnforcementState)if(Ce.provider&&Ce.provider===_e)return _parseEnforcementState(Ce.enforcementState);return null}isProviderEnabled(_e){return this.getProviderEnforcementState(_e)==="ENFORCE"||this.getProviderEnforcementState(_e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function getRecaptchaConfig(Ee,_e){return _performApiRequest(Ee,"GET","/v2/recaptchaConfig",_addTidIfNecessary(Ee,_e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(Ee,_e){return _performApiRequest(Ee,"POST","/v1/accounts:delete",_e)}async function getAccountInfo(Ee,_e){return _performApiRequest(Ee,"POST","/v1/accounts:lookup",_e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(Ee){if(Ee)try{const _e=new Date(Number(Ee));if(!isNaN(_e.getTime()))return _e.toUTCString()}catch{}}async function getIdTokenResult(Ee,_e=!1){const Ce=getModularInstance(Ee),Pe=await Ce.getIdToken(_e),Re=_parseToken(Pe);_assert(Re&&Re.exp&&Re.auth_time&&Re.iat,Ce.auth,"internal-error");const Ie=typeof Re.firebase=="object"?Re.firebase:void 0,Be=Ie?.sign_in_provider;return{claims:Re,token:Pe,authTime:utcTimestampToDateString(secondsStringToMilliseconds(Re.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(Re.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(Re.exp)),signInProvider:Be||null,signInSecondFactor:Ie?.sign_in_second_factor||null}}function secondsStringToMilliseconds(Ee){return Number(Ee)*1e3}function _parseToken(Ee){const[_e,Ce,Pe]=Ee.split(".");if(_e===void 0||Ce===void 0||Pe===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const Re=base64Decode(Ce);return Re?JSON.parse(Re):(_logError("Failed to decode base64 JWT payload"),null)}catch(Re){return _logError("Caught error parsing JWT payload as JSON",Re?.toString()),null}}function _tokenExpiresIn(Ee){const _e=_parseToken(Ee);return _assert(_e,"internal-error"),_assert(typeof _e.exp<"u","internal-error"),_assert(typeof _e.iat<"u","internal-error"),Number(_e.exp)-Number(_e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(Ee,_e,Ce=!1){if(Ce)return _e;try{return await _e}catch(Pe){throw Pe instanceof FirebaseError&&isUserInvalidated(Pe)&&Ee.auth.currentUser===Ee&&await Ee.auth.signOut(),Pe}}function isUserInvalidated({code:Ee}){return Ee==="auth/user-disabled"||Ee==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(_e){this.user=_e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(_e){var Ce;if(_e){const Pe=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),Pe}else{this.errorBackoff=3e4;const Re=((Ce=this.user.stsTokenManager.expirationTime)!==null&&Ce!==void 0?Ce:0)-Date.now()-3e5;return Math.max(0,Re)}}schedule(_e=!1){if(!this.isRunning)return;const Ce=this.getInterval(_e);this.timerId=setTimeout(async()=>{await this.iteration()},Ce)}async iteration(){try{await this.user.getIdToken(!0)}catch(_e){_e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(_e,Ce){this.createdAt=_e,this.lastLoginAt=Ce,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(_e){this.createdAt=_e.createdAt,this.lastLoginAt=_e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(Ee){var _e;const Ce=Ee.auth,Pe=await Ee.getIdToken(),Re=await _logoutIfInvalidated(Ee,getAccountInfo(Ce,{idToken:Pe}));_assert(Re?.users.length,Ce,"internal-error");const Ie=Re.users[0];Ee._notifyReloadListener(Ie);const Be=!((_e=Ie.providerUserInfo)===null||_e===void 0)&&_e.length?extractProviderData(Ie.providerUserInfo):[],je=mergeProviderData(Ee.providerData,Be),De=Ee.isAnonymous,Fe=!(Ee.email&&Ie.passwordHash)&&!je?.length,Oe=De?Fe:!1,ke={uid:Ie.localId,displayName:Ie.displayName||null,photoURL:Ie.photoUrl||null,email:Ie.email||null,emailVerified:Ie.emailVerified||!1,phoneNumber:Ie.phoneNumber||null,tenantId:Ie.tenantId||null,providerData:je,metadata:new UserMetadata(Ie.createdAt,Ie.lastLoginAt),isAnonymous:Oe};Object.assign(Ee,ke)}async function reload(Ee){const _e=getModularInstance(Ee);await _reloadWithoutSaving(_e),await _e.auth._persistUserIfCurrent(_e),_e.auth._notifyListenersIfCurrent(_e)}function mergeProviderData(Ee,_e){return[...Ee.filter(Pe=>!_e.some(Re=>Re.providerId===Pe.providerId)),..._e]}function extractProviderData(Ee){return Ee.map(_e=>{var{providerId:Ce}=_e,Pe=__rest$1(_e,["providerId"]);return{providerId:Ce,uid:Pe.rawId||"",displayName:Pe.displayName||null,email:Pe.email||null,phoneNumber:Pe.phoneNumber||null,photoURL:Pe.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(Ee,_e){const Ce=await _performFetchWithErrorHandling(Ee,{},async()=>{const Pe=querystring({grant_type:"refresh_token",refresh_token:_e}).slice(1),{tokenApiHost:Re,apiKey:Ie}=Ee.config,Be=await _getFinalTarget(Ee,Re,"/v1/token",`key=${Ie}`),je=await Ee._getAdditionalHeaders();je["Content-Type"]="application/x-www-form-urlencoded";const De={method:"POST",headers:je,body:Pe};return Ee.emulatorConfig&&isCloudWorkstation(Ee.emulatorConfig.host)&&(De.credentials="include"),FetchProvider.fetch()(Be,De)});return{accessToken:Ce.access_token,expiresIn:Ce.expires_in,refreshToken:Ce.refresh_token}}async function revokeToken(Ee,_e){return _performApiRequest(Ee,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(Ee,_e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_e){_assert(_e.idToken,"internal-error"),_assert(typeof _e.idToken<"u","internal-error"),_assert(typeof _e.refreshToken<"u","internal-error");const Ce="expiresIn"in _e&&typeof _e.expiresIn<"u"?Number(_e.expiresIn):_tokenExpiresIn(_e.idToken);this.updateTokensAndExpiration(_e.idToken,_e.refreshToken,Ce)}updateFromIdToken(_e){_assert(_e.length!==0,"internal-error");const Ce=_tokenExpiresIn(_e);this.updateTokensAndExpiration(_e,null,Ce)}async getToken(_e,Ce=!1){return!Ce&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,_e,"user-token-expired"),this.refreshToken?(await this.refresh(_e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(_e,Ce){const{accessToken:Pe,refreshToken:Re,expiresIn:Ie}=await requestStsToken(_e,Ce);this.updateTokensAndExpiration(Pe,Re,Number(Ie))}updateTokensAndExpiration(_e,Ce,Pe){this.refreshToken=Ce||null,this.accessToken=_e||null,this.expirationTime=Date.now()+Pe*1e3}static fromJSON(_e,Ce){const{refreshToken:Pe,accessToken:Re,expirationTime:Ie}=Ce,Be=new StsTokenManager;return Pe&&(_assert(typeof Pe=="string","internal-error",{appName:_e}),Be.refreshToken=Pe),Re&&(_assert(typeof Re=="string","internal-error",{appName:_e}),Be.accessToken=Re),Ie&&(_assert(typeof Ie=="number","internal-error",{appName:_e}),Be.expirationTime=Ie),Be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_e){this.accessToken=_e.accessToken,this.refreshToken=_e.refreshToken,this.expirationTime=_e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(Ee,_e){_assert(typeof Ee=="string"||typeof Ee>"u","internal-error",{appName:_e})}class UserImpl{constructor(_e){var{uid:Ce,auth:Pe,stsTokenManager:Re}=_e,Ie=__rest$1(_e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=Ce,this.auth=Pe,this.stsTokenManager=Re,this.accessToken=Re.accessToken,this.displayName=Ie.displayName||null,this.email=Ie.email||null,this.emailVerified=Ie.emailVerified||!1,this.phoneNumber=Ie.phoneNumber||null,this.photoURL=Ie.photoURL||null,this.isAnonymous=Ie.isAnonymous||!1,this.tenantId=Ie.tenantId||null,this.providerData=Ie.providerData?[...Ie.providerData]:[],this.metadata=new UserMetadata(Ie.createdAt||void 0,Ie.lastLoginAt||void 0)}async getIdToken(_e){const Ce=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,_e));return _assert(Ce,this.auth,"internal-error"),this.accessToken!==Ce&&(this.accessToken=Ce,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),Ce}getIdTokenResult(_e){return getIdTokenResult(this,_e)}reload(){return reload(this)}_assign(_e){this!==_e&&(_assert(this.uid===_e.uid,this.auth,"internal-error"),this.displayName=_e.displayName,this.photoURL=_e.photoURL,this.email=_e.email,this.emailVerified=_e.emailVerified,this.phoneNumber=_e.phoneNumber,this.isAnonymous=_e.isAnonymous,this.tenantId=_e.tenantId,this.providerData=_e.providerData.map(Ce=>Object.assign({},Ce)),this.metadata._copy(_e.metadata),this.stsTokenManager._assign(_e.stsTokenManager))}_clone(_e){const Ce=new UserImpl(Object.assign(Object.assign({},this),{auth:_e,stsTokenManager:this.stsTokenManager._clone()}));return Ce.metadata._copy(this.metadata),Ce}_onReload(_e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_e){this.reloadListener?this.reloadListener(_e):this.reloadUserInfo=_e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(_e,Ce=!1){let Pe=!1;_e.idToken&&_e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(_e),Pe=!0),Ce&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),Pe&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const _e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:_e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_e=>Object.assign({},_e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_e,Ce){var Pe,Re,Ie,Be,je,De,Fe,Oe;const ke=(Pe=Ce.displayName)!==null&&Pe!==void 0?Pe:void 0,Me=(Re=Ce.email)!==null&&Re!==void 0?Re:void 0,$e=(Ie=Ce.phoneNumber)!==null&&Ie!==void 0?Ie:void 0,He=(Be=Ce.photoURL)!==null&&Be!==void 0?Be:void 0,Qe=(je=Ce.tenantId)!==null&&je!==void 0?je:void 0,Ke=(De=Ce._redirectEventId)!==null&&De!==void 0?De:void 0,ze=(Fe=Ce.createdAt)!==null&&Fe!==void 0?Fe:void 0,We=(Oe=Ce.lastLoginAt)!==null&&Oe!==void 0?Oe:void 0,{uid:qe,emailVerified:Ye,isAnonymous:Xe,providerData:rr,stsTokenManager:Je}=Ce;_assert(qe&&Je,_e,"internal-error");const er=StsTokenManager.fromJSON(this.name,Je);_assert(typeof qe=="string",_e,"internal-error"),assertStringOrUndefined(ke,_e.name),assertStringOrUndefined(Me,_e.name),_assert(typeof Ye=="boolean",_e,"internal-error"),_assert(typeof Xe=="boolean",_e,"internal-error"),assertStringOrUndefined($e,_e.name),assertStringOrUndefined(He,_e.name),assertStringOrUndefined(Qe,_e.name),assertStringOrUndefined(Ke,_e.name),assertStringOrUndefined(ze,_e.name),assertStringOrUndefined(We,_e.name);const or=new UserImpl({uid:qe,auth:_e,email:Me,emailVerified:Ye,displayName:ke,isAnonymous:Xe,photoURL:He,phoneNumber:$e,tenantId:Qe,stsTokenManager:er,createdAt:ze,lastLoginAt:We});return rr&&Array.isArray(rr)&&(or.providerData=rr.map(pr=>Object.assign({},pr))),Ke&&(or._redirectEventId=Ke),or}static async _fromIdTokenResponse(_e,Ce,Pe=!1){const Re=new StsTokenManager;Re.updateFromServerResponse(Ce);const Ie=new UserImpl({uid:Ce.localId,auth:_e,stsTokenManager:Re,isAnonymous:Pe});return await _reloadWithoutSaving(Ie),Ie}static async _fromGetAccountInfoResponse(_e,Ce,Pe){const Re=Ce.users[0];_assert(Re.localId!==void 0,"internal-error");const Ie=Re.providerUserInfo!==void 0?extractProviderData(Re.providerUserInfo):[],Be=!(Re.email&&Re.passwordHash)&&!Ie?.length,je=new StsTokenManager;je.updateFromIdToken(Pe);const De=new UserImpl({uid:Re.localId,auth:_e,stsTokenManager:je,isAnonymous:Be}),Fe={uid:Re.localId,displayName:Re.displayName||null,photoURL:Re.photoUrl||null,email:Re.email||null,emailVerified:Re.emailVerified||!1,phoneNumber:Re.phoneNumber||null,tenantId:Re.tenantId||null,providerData:Ie,metadata:new UserMetadata(Re.createdAt,Re.lastLoginAt),isAnonymous:!(Re.email&&Re.passwordHash)&&!Ie?.length};return Object.assign(De,Fe),De}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(Ee){debugAssert(Ee instanceof Function,"Expected a class definition");let _e=instanceCache.get(Ee);return _e?(debugAssert(_e instanceof Ee,"Instance stored in cache mismatched with class"),_e):(_e=new Ee,instanceCache.set(Ee,_e),_e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(_e,Ce){this.storage[_e]=Ce}async _get(_e){const Ce=this.storage[_e];return Ce===void 0?null:Ce}async _remove(_e){delete this.storage[_e]}_addListener(_e,Ce){}_removeListener(_e,Ce){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(Ee,_e,Ce){return`firebase:${Ee}:${_e}:${Ce}`}class PersistenceUserManager{constructor(_e,Ce,Pe){this.persistence=_e,this.auth=Ce,this.userKey=Pe;const{config:Re,name:Ie}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,Re.apiKey,Ie),this.fullPersistenceKey=_persistenceKeyName("persistence",Re.apiKey,Ie),this.boundEventHandler=Ce._onStorageEvent.bind(Ce),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_e){return this.persistence._set(this.fullUserKey,_e.toJSON())}async getCurrentUser(){const _e=await this.persistence._get(this.fullUserKey);if(!_e)return null;if(typeof _e=="string"){const Ce=await getAccountInfo(this.auth,{idToken:_e}).catch(()=>{});return Ce?UserImpl._fromGetAccountInfoResponse(this.auth,Ce,_e):null}return UserImpl._fromJSON(this.auth,_e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(_e){if(this.persistence===_e)return;const Ce=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=_e,Ce)return this.setCurrentUser(Ce)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(_e,Ce,Pe="authUser"){if(!Ce.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),_e,Pe);const Re=(await Promise.all(Ce.map(async Fe=>{if(await Fe._isAvailable())return Fe}))).filter(Fe=>Fe);let Ie=Re[0]||_getInstance(inMemoryPersistence);const Be=_persistenceKeyName(Pe,_e.config.apiKey,_e.name);let je=null;for(const Fe of Ce)try{const Oe=await Fe._get(Be);if(Oe){let ke;if(typeof Oe=="string"){const Me=await getAccountInfo(_e,{idToken:Oe}).catch(()=>{});if(!Me)break;ke=await UserImpl._fromGetAccountInfoResponse(_e,Me,Oe)}else ke=UserImpl._fromJSON(_e,Oe);Fe!==Ie&&(je=ke),Ie=Fe;break}}catch{}const De=Re.filter(Fe=>Fe._shouldAllowMigration);return!Ie._shouldAllowMigration||!De.length?new PersistenceUserManager(Ie,_e,Pe):(Ie=De[0],je&&await Ie._set(Be,je.toJSON()),await Promise.all(Ce.map(async Fe=>{if(Fe!==Ie)try{await Fe._remove(Be)}catch{}})),new PersistenceUserManager(Ie,_e,Pe))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(Ee){const _e=Ee.toLowerCase();if(_e.includes("opera/")||_e.includes("opr/")||_e.includes("opios/"))return"Opera";if(_isIEMobile(_e))return"IEMobile";if(_e.includes("msie")||_e.includes("trident/"))return"IE";if(_e.includes("edge/"))return"Edge";if(_isFirefox(_e))return"Firefox";if(_e.includes("silk/"))return"Silk";if(_isBlackBerry(_e))return"Blackberry";if(_isWebOS(_e))return"Webos";if(_isSafari(_e))return"Safari";if((_e.includes("chrome/")||_isChromeIOS(_e))&&!_e.includes("edge/"))return"Chrome";if(_isAndroid(_e))return"Android";{const Ce=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,Pe=Ee.match(Ce);if(Pe?.length===2)return Pe[1]}return"Other"}function _isFirefox(Ee=getUA()){return/firefox\//i.test(Ee)}function _isSafari(Ee=getUA()){const _e=Ee.toLowerCase();return _e.includes("safari/")&&!_e.includes("chrome/")&&!_e.includes("crios/")&&!_e.includes("android")}function _isChromeIOS(Ee=getUA()){return/crios\//i.test(Ee)}function _isIEMobile(Ee=getUA()){return/iemobile/i.test(Ee)}function _isAndroid(Ee=getUA()){return/android/i.test(Ee)}function _isBlackBerry(Ee=getUA()){return/blackberry/i.test(Ee)}function _isWebOS(Ee=getUA()){return/webos/i.test(Ee)}function _isIOS(Ee=getUA()){return/iphone|ipad|ipod/i.test(Ee)||/macintosh/i.test(Ee)&&/mobile/i.test(Ee)}function _isIOSStandalone(Ee=getUA()){var _e;return _isIOS(Ee)&&!!(!((_e=window.navigator)===null||_e===void 0)&&_e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(Ee=getUA()){return _isIOS(Ee)||_isAndroid(Ee)||_isWebOS(Ee)||_isBlackBerry(Ee)||/windows phone/i.test(Ee)||_isIEMobile(Ee)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(Ee,_e=[]){let Ce;switch(Ee){case"Browser":Ce=_getBrowserName(getUA());break;case"Worker":Ce=`${_getBrowserName(getUA())}-${Ee}`;break;default:Ce=Ee}const Pe=_e.length?_e.join(","):"FirebaseCore-web";return`${Ce}/JsCore/${SDK_VERSION}/${Pe}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(_e){this.auth=_e,this.queue=[]}pushCallback(_e,Ce){const Pe=Ie=>new Promise((Be,je)=>{try{const De=_e(Ie);Be(De)}catch(De){je(De)}});Pe.onAbort=Ce,this.queue.push(Pe);const Re=this.queue.length-1;return()=>{this.queue[Re]=()=>Promise.resolve()}}async runMiddleware(_e){if(this.auth.currentUser===_e)return;const Ce=[];try{for(const Pe of this.queue)await Pe(_e),Pe.onAbort&&Ce.push(Pe.onAbort)}catch(Pe){Ce.reverse();for(const Re of Ce)try{Re()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:Pe?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(Ee,_e={}){return _performApiRequest(Ee,"GET","/v2/passwordPolicy",_addTidIfNecessary(Ee,_e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(_e){var Ce,Pe,Re,Ie;const Be=_e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(Ce=Be.minPasswordLength)!==null&&Ce!==void 0?Ce:MINIMUM_MIN_PASSWORD_LENGTH,Be.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Be.maxPasswordLength),Be.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=Be.containsLowercaseCharacter),Be.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=Be.containsUppercaseCharacter),Be.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=Be.containsNumericCharacter),Be.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Be.containsNonAlphanumericCharacter),this.enforcementState=_e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(Re=(Pe=_e.allowedNonAlphanumericCharacters)===null||Pe===void 0?void 0:Pe.join(""))!==null&&Re!==void 0?Re:"",this.forceUpgradeOnSignin=(Ie=_e.forceUpgradeOnSignin)!==null&&Ie!==void 0?Ie:!1,this.schemaVersion=_e.schemaVersion}validatePassword(_e){var Ce,Pe,Re,Ie,Be,je;const De={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_e,De),this.validatePasswordCharacterOptions(_e,De),De.isValid&&(De.isValid=(Ce=De.meetsMinPasswordLength)!==null&&Ce!==void 0?Ce:!0),De.isValid&&(De.isValid=(Pe=De.meetsMaxPasswordLength)!==null&&Pe!==void 0?Pe:!0),De.isValid&&(De.isValid=(Re=De.containsLowercaseLetter)!==null&&Re!==void 0?Re:!0),De.isValid&&(De.isValid=(Ie=De.containsUppercaseLetter)!==null&&Ie!==void 0?Ie:!0),De.isValid&&(De.isValid=(Be=De.containsNumericCharacter)!==null&&Be!==void 0?Be:!0),De.isValid&&(De.isValid=(je=De.containsNonAlphanumericCharacter)!==null&&je!==void 0?je:!0),De}validatePasswordLengthOptions(_e,Ce){const Pe=this.customStrengthOptions.minPasswordLength,Re=this.customStrengthOptions.maxPasswordLength;Pe&&(Ce.meetsMinPasswordLength=_e.length>=Pe),Re&&(Ce.meetsMaxPasswordLength=_e.length<=Re)}validatePasswordCharacterOptions(_e,Ce){this.updatePasswordCharacterOptionsStatuses(Ce,!1,!1,!1,!1);let Pe;for(let Re=0;Re<_e.length;Re++)Pe=_e.charAt(Re),this.updatePasswordCharacterOptionsStatuses(Ce,Pe>="a"&&Pe<="z",Pe>="A"&&Pe<="Z",Pe>="0"&&Pe<="9",this.allowedNonAlphanumericCharacters.includes(Pe))}updatePasswordCharacterOptionsStatuses(_e,Ce,Pe,Re,Ie){this.customStrengthOptions.containsLowercaseLetter&&(_e.containsLowercaseLetter||(_e.containsLowercaseLetter=Ce)),this.customStrengthOptions.containsUppercaseLetter&&(_e.containsUppercaseLetter||(_e.containsUppercaseLetter=Pe)),this.customStrengthOptions.containsNumericCharacter&&(_e.containsNumericCharacter||(_e.containsNumericCharacter=Re)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_e.containsNonAlphanumericCharacter||(_e.containsNonAlphanumericCharacter=Ie))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(_e,Ce,Pe,Re){this.app=_e,this.heartbeatServiceProvider=Ce,this.appCheckServiceProvider=Pe,this.config=Re,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_e.name,this.clientVersion=Re.sdkClientVersion,this._persistenceManagerAvailable=new Promise(Ie=>this._resolvePersistenceManagerAvailable=Ie)}_initializeWithPersistence(_e,Ce){return Ce&&(this._popupRedirectResolver=_getInstance(Ce)),this._initializationPromise=this.queue(async()=>{var Pe,Re,Ie;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,_e),(Pe=this._resolvePersistenceManagerAvailable)===null||Pe===void 0||Pe.call(this),!this._deleted)){if(!((Re=this._popupRedirectResolver)===null||Re===void 0)&&Re._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(Ce),this.lastNotifiedUid=((Ie=this.currentUser)===null||Ie===void 0?void 0:Ie.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const _e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!_e)){if(this.currentUser&&_e&&this.currentUser.uid===_e.uid){this._currentUser._assign(_e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(_e,!0)}}async initializeCurrentUserFromIdToken(_e){try{const Ce=await getAccountInfo(this,{idToken:_e}),Pe=await UserImpl._fromGetAccountInfoResponse(this,Ce,_e);await this.directlySetCurrentUser(Pe)}catch(Ce){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",Ce),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(_e){var Ce;if(_isFirebaseServerApp(this.app)){const Be=this.app.settings.authIdToken;return Be?new Promise(je=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(Be).then(je,je))}):this.directlySetCurrentUser(null)}const Pe=await this.assertedPersistence.getCurrentUser();let Re=Pe,Ie=!1;if(_e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const Be=(Ce=this.redirectUser)===null||Ce===void 0?void 0:Ce._redirectEventId,je=Re?._redirectEventId,De=await this.tryRedirectSignIn(_e);(!Be||Be===je)&&De?.user&&(Re=De.user,Ie=!0)}if(!Re)return this.directlySetCurrentUser(null);if(!Re._redirectEventId){if(Ie)try{await this.beforeStateQueue.runMiddleware(Re)}catch(Be){Re=Pe,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Be))}return Re?this.reloadAndSetCurrentUserOrClear(Re):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===Re._redirectEventId?this.directlySetCurrentUser(Re):this.reloadAndSetCurrentUserOrClear(Re)}async tryRedirectSignIn(_e){let Ce=null;try{Ce=await this._popupRedirectResolver._completeRedirectFn(this,_e,!0)}catch{await this._setRedirectUser(null)}return Ce}async reloadAndSetCurrentUserOrClear(_e){try{await _reloadWithoutSaving(_e)}catch(Ce){if(Ce?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(_e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(_e){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const Ce=_e?getModularInstance(_e):null;return Ce&&_assert(Ce.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(Ce&&Ce._clone(this))}async _updateCurrentUser(_e,Ce=!1){if(!this._deleted)return _e&&_assert(this.tenantId===_e.tenantId,this,"tenant-id-mismatch"),Ce||await this.beforeStateQueue.runMiddleware(_e),this.queue(async()=>{await this.directlySetCurrentUser(_e),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(_e){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(_e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(_e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const Ce=this._getPasswordPolicyInternal();return Ce.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):Ce.validatePassword(_e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const _e=await _getPasswordPolicy(this),Ce=new PasswordPolicyImpl(_e);this.tenantId===null?this._projectPasswordPolicy=Ce:this._tenantPasswordPolicies[this.tenantId]=Ce}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(_e){this._errorFactory=new ErrorFactory("auth","Firebase",_e())}onAuthStateChanged(_e,Ce,Pe){return this.registerStateListener(this.authStateSubscription,_e,Ce,Pe)}beforeAuthStateChanged(_e,Ce){return this.beforeStateQueue.pushCallback(_e,Ce)}onIdTokenChanged(_e,Ce,Pe){return this.registerStateListener(this.idTokenSubscription,_e,Ce,Pe)}authStateReady(){return new Promise((_e,Ce)=>{if(this.currentUser)_e();else{const Pe=this.onAuthStateChanged(()=>{Pe(),_e()},Ce)}})}async revokeAccessToken(_e){if(this.currentUser){const Ce=await this.currentUser.getIdToken(),Pe={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_e,idToken:Ce};this.tenantId!=null&&(Pe.tenantId=this.tenantId),await revokeToken(this,Pe)}}toJSON(){var _e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(_e=this._currentUser)===null||_e===void 0?void 0:_e.toJSON()}}async _setRedirectUser(_e,Ce){const Pe=await this.getOrInitRedirectPersistenceManager(Ce);return _e===null?Pe.removeCurrentUser():Pe.setCurrentUser(_e)}async getOrInitRedirectPersistenceManager(_e){if(!this.redirectPersistenceManager){const Ce=_e&&_getInstance(_e)||this._popupRedirectResolver;_assert(Ce,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(Ce._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(_e){var Ce,Pe;return this._isInitialized&&await this.queue(async()=>{}),((Ce=this._currentUser)===null||Ce===void 0?void 0:Ce._redirectEventId)===_e?this._currentUser:((Pe=this.redirectUser)===null||Pe===void 0?void 0:Pe._redirectEventId)===_e?this.redirectUser:null}async _persistUserIfCurrent(_e){if(_e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(_e))}_notifyListenersIfCurrent(_e){_e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _e,Ce;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Pe=(Ce=(_e=this.currentUser)===null||_e===void 0?void 0:_e.uid)!==null&&Ce!==void 0?Ce:null;this.lastNotifiedUid!==Pe&&(this.lastNotifiedUid=Pe,this.authStateSubscription.next(this.currentUser))}registerStateListener(_e,Ce,Pe,Re){if(this._deleted)return()=>{};const Ie=typeof Ce=="function"?Ce:Ce.next.bind(Ce);let Be=!1;const je=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(je,this,"internal-error"),je.then(()=>{Be||Ie(this.currentUser)}),typeof Ce=="function"){const De=_e.addObserver(Ce,Pe,Re);return()=>{Be=!0,De()}}else{const De=_e.addObserver(Ce);return()=>{Be=!0,De()}}}async directlySetCurrentUser(_e){this.currentUser&&this.currentUser!==_e&&this._currentUser._stopProactiveRefresh(),_e&&this.isProactiveRefreshEnabled&&_e._startProactiveRefresh(),this.currentUser=_e,_e?await this.assertedPersistence.setCurrentUser(_e):await this.assertedPersistence.removeCurrentUser()}queue(_e){return this.operations=this.operations.then(_e,_e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_e){!_e||this.frameworks.includes(_e)||(this.frameworks.push(_e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var _e;const Ce={"X-Client-Version":this.clientVersion};this.app.options.appId&&(Ce["X-Firebase-gmpid"]=this.app.options.appId);const Pe=await((_e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||_e===void 0?void 0:_e.getHeartbeatsHeader());Pe&&(Ce["X-Firebase-Client"]=Pe);const Re=await this._getAppCheckToken();return Re&&(Ce["X-Firebase-AppCheck"]=Re),Ce}async _getAppCheckToken(){var _e;if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const Ce=await((_e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||_e===void 0?void 0:_e.getToken());return Ce?.error&&_logWarn(`Error while retrieving App Check token: ${Ce.error}`),Ce?.token}}function _castAuth(Ee){return getModularInstance(Ee)}class Subscription{constructor(_e){this.auth=_e,this.observer=null,this.addObserver=createSubscribe(Ce=>this.observer=Ce)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(Ee){externalJSProvider=Ee}function _loadJS(Ee){return externalJSProvider.loadJS(Ee)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(Ee){return`__${Ee}${Math.floor(Math.random()*1e6)}`}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(_e){_e()}execute(_e,Ce){return Promise.resolve("token")}render(_e,Ce){return""}}class MockGreCAPTCHA{ready(_e){_e()}execute(_e,Ce){return Promise.resolve("token")}render(_e,Ce){return""}}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(_e){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(_e)}async verify(_e="verify",Ce=!1){async function Pe(Ie){if(!Ce){if(Ie.tenantId==null&&Ie._agentRecaptchaConfig!=null)return Ie._agentRecaptchaConfig.siteKey;if(Ie.tenantId!=null&&Ie._tenantRecaptchaConfigs[Ie.tenantId]!==void 0)return Ie._tenantRecaptchaConfigs[Ie.tenantId].siteKey}return new Promise(async(Be,je)=>{getRecaptchaConfig(Ie,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(De=>{if(De.recaptchaKey===void 0)je(new Error("recaptcha Enterprise site key undefined"));else{const Fe=new RecaptchaConfig(De);return Ie.tenantId==null?Ie._agentRecaptchaConfig=Fe:Ie._tenantRecaptchaConfigs[Ie.tenantId]=Fe,Be(Fe.siteKey)}}).catch(De=>{je(De)})})}function Re(Ie,Be,je){const De=window.grecaptcha;isEnterprise(De)?De.enterprise.ready(()=>{De.enterprise.execute(Ie,{action:_e}).then(Fe=>{Be(Fe)}).catch(()=>{Be(FAKE_TOKEN)})}):je(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MockGreCAPTCHATopLevel().execute("siteKey",{action:"verify"}):new Promise((Ie,Be)=>{Pe(this.auth).then(je=>{if(!Ce&&isEnterprise(window.grecaptcha))Re(je,Ie,Be);else{if(typeof window>"u"){Be(new Error("RecaptchaVerifier is only supported in browser"));return}let De=_recaptchaEnterpriseScriptUrl();De.length!==0&&(De+=je),_loadJS(De).then(()=>{Re(je,Ie,Be)}).catch(Fe=>{Be(Fe)})}}).catch(je=>{Be(je)})})}}async function injectRecaptchaFields(Ee,_e,Ce,Pe=!1,Re=!1){const Ie=new RecaptchaEnterpriseVerifier(Ee);let Be;if(Re)Be=FAKE_TOKEN;else try{Be=await Ie.verify(Ce)}catch{Be=await Ie.verify(Ce,!0)}const je=Object.assign({},_e);if(Ce==="mfaSmsEnrollment"||Ce==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in je){const De=je.phoneEnrollmentInfo.phoneNumber,Fe=je.phoneEnrollmentInfo.recaptchaToken;Object.assign(je,{phoneEnrollmentInfo:{phoneNumber:De,recaptchaToken:Fe,captchaResponse:Be,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in je){const De=je.phoneSignInInfo.recaptchaToken;Object.assign(je,{phoneSignInInfo:{recaptchaToken:De,captchaResponse:Be,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return je}return Pe?Object.assign(je,{captchaResp:Be}):Object.assign(je,{captchaResponse:Be}),Object.assign(je,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(je,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),je}async function handleRecaptchaFlow(Ee,_e,Ce,Pe,Re){var Ie;if(!((Ie=Ee._getRecaptchaConfig())===null||Ie===void 0)&&Ie.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Be=await injectRecaptchaFields(Ee,_e,Ce,Ce==="getOobCode");return Pe(Ee,Be)}else return Pe(Ee,_e).catch(async Be=>{if(Be.code==="auth/missing-recaptcha-token"){console.log(`${Ce} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const je=await injectRecaptchaFields(Ee,_e,Ce,Ce==="getOobCode");return Pe(Ee,je)}else return Promise.reject(Be)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(Ee,_e){const Ce=_getProvider(Ee,"auth");if(Ce.isInitialized()){const Re=Ce.getImmediate(),Ie=Ce.getOptions();if(deepEqual(Ie,_e??{}))return Re;_fail(Re,"already-initialized")}return Ce.initialize({options:_e})}function _initializeAuthInstance(Ee,_e){const Ce=_e?.persistence||[],Pe=(Array.isArray(Ce)?Ce:[Ce]).map(_getInstance);_e?.errorMap&&Ee._updateErrorMap(_e.errorMap),Ee._initializeWithPersistence(Pe,_e?.popupRedirectResolver)}function connectAuthEmulator(Ee,_e,Ce){const Pe=_castAuth(Ee);_assert(/^https?:\/\//.test(_e),Pe,"invalid-emulator-scheme");const Re=!1,Ie=extractProtocol(_e),{host:Be,port:je}=extractHostAndPort(_e),De=je===null?"":`:${je}`,Fe={url:`${Ie}//${Be}${De}/`},Oe=Object.freeze({host:Be,port:je,protocol:Ie.replace(":",""),options:Object.freeze({disableWarnings:Re})});if(!Pe._canInitEmulator){_assert(Pe.config.emulator&&Pe.emulatorConfig,Pe,"emulator-config-failed"),_assert(deepEqual(Fe,Pe.config.emulator)&&deepEqual(Oe,Pe.emulatorConfig),Pe,"emulator-config-failed");return}Pe.config.emulator=Fe,Pe.emulatorConfig=Oe,Pe.settings.appVerificationDisabledForTesting=!0,isCloudWorkstation(Be)?(pingServer(`${Ie}//${Be}${De}`),updateEmulatorBanner("Auth",!0)):emitEmulatorWarning()}function extractProtocol(Ee){const _e=Ee.indexOf(":");return _e<0?"":Ee.substr(0,_e+1)}function extractHostAndPort(Ee){const _e=extractProtocol(Ee),Ce=/(\/\/)?([^?#/]+)/.exec(Ee.substr(_e.length));if(!Ce)return{host:"",port:null};const Pe=Ce[2].split("@").pop()||"",Re=/^(\[[^\]]+\])(:|$)/.exec(Pe);if(Re){const Ie=Re[1];return{host:Ie,port:parsePort(Pe.substr(Ie.length+1))}}else{const[Ie,Be]=Pe.split(":");return{host:Ie,port:parsePort(Be)}}}function parsePort(Ee){if(!Ee)return null;const _e=Number(Ee);return isNaN(_e)?null:_e}function emitEmulatorWarning(){function Ee(){const _e=document.createElement("p"),Ce=_e.style;_e.innerText="Running in emulator mode. Do not use with production credentials.",Ce.position="fixed",Ce.width="100%",Ce.backgroundColor="#ffffff",Ce.border=".1em solid #000000",Ce.color="#b50000",Ce.bottom="0px",Ce.left="0px",Ce.margin="0px",Ce.zIndex="10000",Ce.textAlign="center",_e.classList.add("firebase-emulator-warning"),document.body.appendChild(_e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",Ee):Ee())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(_e,Ce){this.providerId=_e,this.signInMethod=Ce}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(_e){return debugFail("not implemented")}_linkToIdToken(_e,Ce){return debugFail("not implemented")}_getReauthenticationResolver(_e){return debugFail("not implemented")}}async function linkEmailPassword(Ee,_e){return _performApiRequest(Ee,"POST","/v1/accounts:signUp",_e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(Ee,_e){return _performSignInRequest(Ee,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(Ee,_e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(Ee,_e){return _performSignInRequest(Ee,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(Ee,_e))}async function signInWithEmailLinkForLinking(Ee,_e){return _performSignInRequest(Ee,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(Ee,_e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(_e,Ce,Pe,Re=null){super("password",Pe),this._email=_e,this._password=Ce,this._tenantId=Re}static _fromEmailAndPassword(_e,Ce){return new EmailAuthCredential(_e,Ce,"password")}static _fromEmailAndCode(_e,Ce,Pe=null){return new EmailAuthCredential(_e,Ce,"emailLink",Pe)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_e){const Ce=typeof _e=="string"?JSON.parse(_e):_e;if(Ce?.email&&Ce?.password){if(Ce.signInMethod==="password")return this._fromEmailAndPassword(Ce.email,Ce.password);if(Ce.signInMethod==="emailLink")return this._fromEmailAndCode(Ce.email,Ce.password,Ce.tenantId)}return null}async _getIdTokenResponse(_e){switch(this.signInMethod){case"password":const Ce={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(_e,Ce,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(_e,{email:this._email,oobCode:this._password});default:_fail(_e,"internal-error")}}async _linkToIdToken(_e,Ce){switch(this.signInMethod){case"password":const Pe={idToken:Ce,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(_e,Pe,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(_e,{idToken:Ce,email:this._email,oobCode:this._password});default:_fail(_e,"internal-error")}}_getReauthenticationResolver(_e){return this._getIdTokenResponse(_e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(Ee,_e){return _performSignInRequest(Ee,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(Ee,_e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_e){const Ce=new OAuthCredential(_e.providerId,_e.signInMethod);return _e.idToken||_e.accessToken?(_e.idToken&&(Ce.idToken=_e.idToken),_e.accessToken&&(Ce.accessToken=_e.accessToken),_e.nonce&&!_e.pendingToken&&(Ce.nonce=_e.nonce),_e.pendingToken&&(Ce.pendingToken=_e.pendingToken)):_e.oauthToken&&_e.oauthTokenSecret?(Ce.accessToken=_e.oauthToken,Ce.secret=_e.oauthTokenSecret):_fail("argument-error"),Ce}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_e){const Ce=typeof _e=="string"?JSON.parse(_e):_e,{providerId:Pe,signInMethod:Re}=Ce,Ie=__rest$1(Ce,["providerId","signInMethod"]);if(!Pe||!Re)return null;const Be=new OAuthCredential(Pe,Re);return Be.idToken=Ie.idToken||void 0,Be.accessToken=Ie.accessToken||void 0,Be.secret=Ie.secret,Be.nonce=Ie.nonce,Be.pendingToken=Ie.pendingToken||null,Be}_getIdTokenResponse(_e){const Ce=this.buildRequest();return signInWithIdp(_e,Ce)}_linkToIdToken(_e,Ce){const Pe=this.buildRequest();return Pe.idToken=Ce,signInWithIdp(_e,Pe)}_getReauthenticationResolver(_e){const Ce=this.buildRequest();return Ce.autoCreate=!1,signInWithIdp(_e,Ce)}buildRequest(){const _e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)_e.pendingToken=this.pendingToken;else{const Ce={};this.idToken&&(Ce.id_token=this.idToken),this.accessToken&&(Ce.access_token=this.accessToken),this.secret&&(Ce.oauth_token_secret=this.secret),Ce.providerId=this.providerId,this.nonce&&!this.pendingToken&&(Ce.nonce=this.nonce),_e.postBody=querystring(Ce)}return _e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(Ee){switch(Ee){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(Ee){const _e=querystringDecode(extractQuerystring(Ee)).link,Ce=_e?querystringDecode(extractQuerystring(_e)).deep_link_id:null,Pe=querystringDecode(extractQuerystring(Ee)).deep_link_id;return(Pe?querystringDecode(extractQuerystring(Pe)).link:null)||Pe||Ce||_e||Ee}class ActionCodeURL{constructor(_e){var Ce,Pe,Re,Ie,Be,je;const De=querystringDecode(extractQuerystring(_e)),Fe=(Ce=De.apiKey)!==null&&Ce!==void 0?Ce:null,Oe=(Pe=De.oobCode)!==null&&Pe!==void 0?Pe:null,ke=parseMode((Re=De.mode)!==null&&Re!==void 0?Re:null);_assert(Fe&&Oe&&ke,"argument-error"),this.apiKey=Fe,this.operation=ke,this.code=Oe,this.continueUrl=(Ie=De.continueUrl)!==null&&Ie!==void 0?Ie:null,this.languageCode=(Be=De.lang)!==null&&Be!==void 0?Be:null,this.tenantId=(je=De.tenantId)!==null&&je!==void 0?je:null}static parseLink(_e){const Ce=parseDeepLink(_e);try{return new ActionCodeURL(Ce)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(_e,Ce){return EmailAuthCredential._fromEmailAndPassword(_e,Ce)}static credentialWithLink(_e,Ce){const Pe=ActionCodeURL.parseLink(Ce);return _assert(Pe,"argument-error"),EmailAuthCredential._fromEmailAndCode(_e,Pe.code,Pe.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(_e){this.providerId=_e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_e){this.defaultLanguageCode=_e}setCustomParameters(_e){return this.customParameters=_e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(_e){return this.scopes.includes(_e)||this.scopes.push(_e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(_e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:_e})}static credentialFromResult(_e){return FacebookAuthProvider.credentialFromTaggedObject(_e)}static credentialFromError(_e){return FacebookAuthProvider.credentialFromTaggedObject(_e.customData||{})}static credentialFromTaggedObject({_tokenResponse:_e}){if(!_e||!("oauthAccessToken"in _e)||!_e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(_e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(_e,Ce){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:_e,accessToken:Ce})}static credentialFromResult(_e){return GoogleAuthProvider.credentialFromTaggedObject(_e)}static credentialFromError(_e){return GoogleAuthProvider.credentialFromTaggedObject(_e.customData||{})}static credentialFromTaggedObject({_tokenResponse:_e}){if(!_e)return null;const{oauthIdToken:Ce,oauthAccessToken:Pe}=_e;if(!Ce&&!Pe)return null;try{return GoogleAuthProvider.credential(Ce,Pe)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(_e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:_e})}static credentialFromResult(_e){return GithubAuthProvider.credentialFromTaggedObject(_e)}static credentialFromError(_e){return GithubAuthProvider.credentialFromTaggedObject(_e.customData||{})}static credentialFromTaggedObject({_tokenResponse:_e}){if(!_e||!("oauthAccessToken"in _e)||!_e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(_e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(_e,Ce){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:_e,oauthTokenSecret:Ce})}static credentialFromResult(_e){return TwitterAuthProvider.credentialFromTaggedObject(_e)}static credentialFromError(_e){return TwitterAuthProvider.credentialFromTaggedObject(_e.customData||{})}static credentialFromTaggedObject({_tokenResponse:_e}){if(!_e)return null;const{oauthAccessToken:Ce,oauthTokenSecret:Pe}=_e;if(!Ce||!Pe)return null;try{return TwitterAuthProvider.credential(Ce,Pe)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(Ee,_e){return _performSignInRequest(Ee,"POST","/v1/accounts:signUp",_addTidIfNecessary(Ee,_e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(_e){this.user=_e.user,this.providerId=_e.providerId,this._tokenResponse=_e._tokenResponse,this.operationType=_e.operationType}static async _fromIdTokenResponse(_e,Ce,Pe,Re=!1){const Ie=await UserImpl._fromIdTokenResponse(_e,Pe,Re),Be=providerIdForResponse(Pe);return new UserCredentialImpl({user:Ie,providerId:Be,_tokenResponse:Pe,operationType:Ce})}static async _forOperation(_e,Ce,Pe){await _e._updateTokensIfNecessary(Pe,!0);const Re=providerIdForResponse(Pe);return new UserCredentialImpl({user:_e,providerId:Re,_tokenResponse:Pe,operationType:Ce})}}function providerIdForResponse(Ee){return Ee.providerId?Ee.providerId:"phoneNumber"in Ee?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(_e,Ce,Pe,Re){var Ie;super(Ce.code,Ce.message),this.operationType=Pe,this.user=Re,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:_e.name,tenantId:(Ie=_e.tenantId)!==null&&Ie!==void 0?Ie:void 0,_serverResponse:Ce.customData._serverResponse,operationType:Pe}}static _fromErrorAndOperation(_e,Ce,Pe,Re){return new MultiFactorError(_e,Ce,Pe,Re)}}function _processCredentialSavingMfaContextIfNecessary(Ee,_e,Ce,Pe){return(_e==="reauthenticate"?Ce._getReauthenticationResolver(Ee):Ce._getIdTokenResponse(Ee)).catch(Ie=>{throw Ie.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(Ee,Ie,_e,Pe):Ie})}async function _link$1(Ee,_e,Ce=!1){const Pe=await _logoutIfInvalidated(Ee,_e._linkToIdToken(Ee.auth,await Ee.getIdToken()),Ce);return UserCredentialImpl._forOperation(Ee,"link",Pe)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(Ee,_e,Ce=!1){const{auth:Pe}=Ee;if(_isFirebaseServerApp(Pe.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Pe));const Re="reauthenticate";try{const Ie=await _logoutIfInvalidated(Ee,_processCredentialSavingMfaContextIfNecessary(Pe,Re,_e,Ee),Ce);_assert(Ie.idToken,Pe,"internal-error");const Be=_parseToken(Ie.idToken);_assert(Be,Pe,"internal-error");const{sub:je}=Be;return _assert(Ee.uid===je,Pe,"user-mismatch"),UserCredentialImpl._forOperation(Ee,Re,Ie)}catch(Ie){throw Ie?.code==="auth/user-not-found"&&_fail(Pe,"user-mismatch"),Ie}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(Ee,_e,Ce=!1){if(_isFirebaseServerApp(Ee.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ee));const Pe="signIn",Re=await _processCredentialSavingMfaContextIfNecessary(Ee,Pe,_e),Ie=await UserCredentialImpl._fromIdTokenResponse(Ee,Pe,Re);return Ce||await Ee._updateCurrentUser(Ie.user),Ie}async function signInWithCredential(Ee,_e){return _signInWithCredential(_castAuth(Ee),_e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(Ee){const _e=_castAuth(Ee);_e._getPasswordPolicyInternal()&&await _e._updatePasswordPolicy()}async function createUserWithEmailAndPassword(Ee,_e,Ce){if(_isFirebaseServerApp(Ee.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ee));const Pe=_castAuth(Ee),Be=await handleRecaptchaFlow(Pe,{returnSecureToken:!0,email:_e,password:Ce,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(De=>{throw De.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(Ee),De}),je=await UserCredentialImpl._fromIdTokenResponse(Pe,"signIn",Be);return await Pe._updateCurrentUser(je.user),je}function signInWithEmailAndPassword(Ee,_e,Ce){return _isFirebaseServerApp(Ee.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ee)):signInWithCredential(getModularInstance(Ee),EmailAuthProvider.credential(_e,Ce)).catch(async Pe=>{throw Pe.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(Ee),Pe})}function onIdTokenChanged(Ee,_e,Ce,Pe){return getModularInstance(Ee).onIdTokenChanged(_e,Ce,Pe)}function beforeAuthStateChanged(Ee,_e,Ce){return getModularInstance(Ee).beforeAuthStateChanged(_e,Ce)}function onAuthStateChanged(Ee,_e,Ce,Pe){return getModularInstance(Ee).onAuthStateChanged(_e,Ce,Pe)}function signOut(Ee){return getModularInstance(Ee).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(_e,Ce){this.storageRetriever=_e,this.type=Ce}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_e,Ce){return this.storage.setItem(_e,JSON.stringify(Ce)),Promise.resolve()}_get(_e){const Ce=this.storage.getItem(_e);return Promise.resolve(Ce?JSON.parse(Ce):null)}_remove(_e){return this.storage.removeItem(_e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_e,Ce)=>this.onStorageEvent(_e,Ce),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(_e){for(const Ce of Object.keys(this.listeners)){const Pe=this.storage.getItem(Ce),Re=this.localCache[Ce];Pe!==Re&&_e(Ce,Re,Pe)}}onStorageEvent(_e,Ce=!1){if(!_e.key){this.forAllChangedKeys((Be,je,De)=>{this.notifyListeners(Be,De)});return}const Pe=_e.key;Ce?this.detachListener():this.stopPolling();const Re=()=>{const Be=this.storage.getItem(Pe);!Ce&&this.localCache[Pe]===Be||this.notifyListeners(Pe,Be)},Ie=this.storage.getItem(Pe);_isIE10()&&Ie!==_e.newValue&&_e.newValue!==_e.oldValue?setTimeout(Re,IE10_LOCAL_STORAGE_SYNC_DELAY):Re()}notifyListeners(_e,Ce){this.localCache[_e]=Ce;const Pe=this.listeners[_e];if(Pe)for(const Re of Array.from(Pe))Re(Ce&&JSON.parse(Ce))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_e,Ce,Pe)=>{this.onStorageEvent(new StorageEvent("storage",{key:_e,oldValue:Ce,newValue:Pe}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_e,Ce){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_e]||(this.listeners[_e]=new Set,this.localCache[_e]=this.storage.getItem(_e)),this.listeners[_e].add(Ce)}_removeListener(_e,Ce){this.listeners[_e]&&(this.listeners[_e].delete(Ce),this.listeners[_e].size===0&&delete this.listeners[_e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(_e,Ce){await super._set(_e,Ce),this.localCache[_e]=JSON.stringify(Ce)}async _get(_e){const Ce=await super._get(_e);return this.localCache[_e]=JSON.stringify(Ce),Ce}async _remove(_e){await super._remove(_e),delete this.localCache[_e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_e,Ce){}_removeListener(_e,Ce){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(Ee){return Promise.all(Ee.map(async _e=>{try{return{fulfilled:!0,value:await _e}}catch(Ce){return{fulfilled:!1,reason:Ce}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(_e){this.eventTarget=_e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_e){const Ce=this.receivers.find(Re=>Re.isListeningto(_e));if(Ce)return Ce;const Pe=new Receiver(_e);return this.receivers.push(Pe),Pe}isListeningto(_e){return this.eventTarget===_e}async handleEvent(_e){const Ce=_e,{eventId:Pe,eventType:Re,data:Ie}=Ce.data,Be=this.handlersMap[Re];if(!Be?.size)return;Ce.ports[0].postMessage({status:"ack",eventId:Pe,eventType:Re});const je=Array.from(Be).map(async Fe=>Fe(Ce.origin,Ie)),De=await _allSettled(je);Ce.ports[0].postMessage({status:"done",eventId:Pe,eventType:Re,response:De})}_subscribe(_e,Ce){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_e]||(this.handlersMap[_e]=new Set),this.handlersMap[_e].add(Ce)}_unsubscribe(_e,Ce){this.handlersMap[_e]&&Ce&&this.handlersMap[_e].delete(Ce),(!Ce||this.handlersMap[_e].size===0)&&delete this.handlersMap[_e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(Ee="",_e=10){let Ce="";for(let Pe=0;Pe<_e;Pe++)Ce+=Math.floor(Math.random()*10);return Ee+Ce}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(_e){this.target=_e,this.handlers=new Set}removeMessageHandler(_e){_e.messageChannel&&(_e.messageChannel.port1.removeEventListener("message",_e.onMessage),_e.messageChannel.port1.close()),this.handlers.delete(_e)}async _send(_e,Ce,Pe=50){const Re=typeof MessageChannel<"u"?new MessageChannel:null;if(!Re)throw new Error("connection_unavailable");let Ie,Be;return new Promise((je,De)=>{const Fe=_generateEventId("",20);Re.port1.start();const Oe=setTimeout(()=>{De(new Error("unsupported_event"))},Pe);Be={messageChannel:Re,onMessage(ke){const Me=ke;if(Me.data.eventId===Fe)switch(Me.data.status){case"ack":clearTimeout(Oe),Ie=setTimeout(()=>{De(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ie),je(Me.data.response);break;default:clearTimeout(Oe),clearTimeout(Ie),De(new Error("invalid_response"));break}}},this.handlers.add(Be),Re.port1.addEventListener("message",Be.onMessage),this.target.postMessage({eventType:_e,eventId:Fe,data:Ce},[Re.port2])}).finally(()=>{Be&&this.removeMessageHandler(Be)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(Ee){_window().location.href=Ee}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var Ee;return((Ee=navigator?.serviceWorker)===null||Ee===void 0?void 0:Ee.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(_e){this.request=_e}toPromise(){return new Promise((_e,Ce)=>{this.request.addEventListener("success",()=>{_e(this.request.result)}),this.request.addEventListener("error",()=>{Ce(this.request.error)})})}}function getObjectStore(Ee,_e){return Ee.transaction([DB_OBJECTSTORE_NAME],_e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const Ee=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(Ee).toPromise()}function _openDatabase(){const Ee=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((_e,Ce)=>{Ee.addEventListener("error",()=>{Ce(Ee.error)}),Ee.addEventListener("upgradeneeded",()=>{const Pe=Ee.result;try{Pe.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(Re){Ce(Re)}}),Ee.addEventListener("success",async()=>{const Pe=Ee.result;Pe.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?_e(Pe):(Pe.close(),await _deleteDatabase(),_e(await _openDatabase()))})})}async function _putObject(Ee,_e,Ce){const Pe=getObjectStore(Ee,!0).put({[DB_DATA_KEYPATH]:_e,value:Ce});return new DBPromise(Pe).toPromise()}async function getObject(Ee,_e){const Ce=getObjectStore(Ee,!1).get(_e),Pe=await new DBPromise(Ce).toPromise();return Pe===void 0?null:Pe.value}function _deleteObject(Ee,_e){const Ce=getObjectStore(Ee,!0).delete(_e);return new DBPromise(Ce).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(_e){let Ce=0;for(;;)try{const Pe=await this._openDb();return await _e(Pe)}catch(Pe){if(Ce++>_TRANSACTION_RETRY_COUNT)throw Pe;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(_e,Ce)=>({keyProcessed:(await this._poll()).includes(Ce.key)})),this.receiver._subscribe("ping",async(_e,Ce)=>["keyChanged"])}async initializeSender(){var _e,Ce;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const Pe=await this.sender._send("ping",{},800);Pe&&!((_e=Pe[0])===null||_e===void 0)&&_e.fulfilled&&!((Ce=Pe[0])===null||Ce===void 0)&&Ce.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(_e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:_e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const _e=await _openDatabase();return await _putObject(_e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(_e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(_e){this.pendingWrites++;try{await _e()}finally{this.pendingWrites--}}async _set(_e,Ce){return this._withPendingWrite(async()=>(await this._withRetries(Pe=>_putObject(Pe,_e,Ce)),this.localCache[_e]=Ce,this.notifyServiceWorker(_e)))}async _get(_e){const Ce=await this._withRetries(Pe=>getObject(Pe,_e));return this.localCache[_e]=Ce,Ce}async _remove(_e){return this._withPendingWrite(async()=>(await this._withRetries(Ce=>_deleteObject(Ce,_e)),delete this.localCache[_e],this.notifyServiceWorker(_e)))}async _poll(){const _e=await this._withRetries(Re=>{const Ie=getObjectStore(Re,!1).getAll();return new DBPromise(Ie).toPromise()});if(!_e)return[];if(this.pendingWrites!==0)return[];const Ce=[],Pe=new Set;if(_e.length!==0)for(const{fbase_key:Re,value:Ie}of _e)Pe.add(Re),JSON.stringify(this.localCache[Re])!==JSON.stringify(Ie)&&(this.notifyListeners(Re,Ie),Ce.push(Re));for(const Re of Object.keys(this.localCache))this.localCache[Re]&&!Pe.has(Re)&&(this.notifyListeners(Re,null),Ce.push(Re));return Ce}notifyListeners(_e,Ce){this.localCache[_e]=Ce;const Pe=this.listeners[_e];if(Pe)for(const Re of Array.from(Pe))Re(Ce)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_e,Ce){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[_e]||(this.listeners[_e]=new Set,this._get(_e)),this.listeners[_e].add(Ce)}_removeListener(_e,Ce){this.listeners[_e]&&(this.listeners[_e].delete(Ce),this.listeners[_e].size===0&&delete this.listeners[_e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(Ee,_e){return _e?_getInstance(_e):(_assert(Ee._popupRedirectResolver,Ee,"argument-error"),Ee._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(_e){super("custom","custom"),this.params=_e}_getIdTokenResponse(_e){return signInWithIdp(_e,this._buildIdpRequest())}_linkToIdToken(_e,Ce){return signInWithIdp(_e,this._buildIdpRequest(Ce))}_getReauthenticationResolver(_e){return signInWithIdp(_e,this._buildIdpRequest())}_buildIdpRequest(_e){const Ce={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _e&&(Ce.idToken=_e),Ce}}function _signIn(Ee){return _signInWithCredential(Ee.auth,new IdpCredential(Ee),Ee.bypassAuthState)}function _reauth(Ee){const{auth:_e,user:Ce}=Ee;return _assert(Ce,_e,"internal-error"),_reauthenticate(Ce,new IdpCredential(Ee),Ee.bypassAuthState)}async function _link(Ee){const{auth:_e,user:Ce}=Ee;return _assert(Ce,_e,"internal-error"),_link$1(Ce,new IdpCredential(Ee),Ee.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(_e,Ce,Pe,Re,Ie=!1){this.auth=_e,this.resolver=Pe,this.user=Re,this.bypassAuthState=Ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(Ce)?Ce:[Ce]}execute(){return new Promise(async(_e,Ce)=>{this.pendingPromise={resolve:_e,reject:Ce};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Pe){this.reject(Pe)}})}async onAuthEvent(_e){const{urlResponse:Ce,sessionId:Pe,postBody:Re,tenantId:Ie,error:Be,type:je}=_e;if(Be){this.reject(Be);return}const De={auth:this.auth,requestUri:Ce,sessionId:Pe,tenantId:Ie||void 0,postBody:Re||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(je)(De))}catch(Fe){this.reject(Fe)}}onError(_e){this.reject(_e)}getIdpTask(_e){switch(_e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(_e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_e),this.unregisterAndCleanUp()}reject(_e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(_e,Ce,Pe,Re,Ie){super(_e,Ce,Re,Ie),this.provider=Pe,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const _e=await this.execute();return _assert(_e,this.auth,"internal-error"),_e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const _e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],_e),this.authWindow.associatedEvent=_e,this.resolver._originValidation(this.auth).catch(Ce=>{this.reject(Ce)}),this.resolver._isIframeWebStorageSupported(this.auth,Ce=>{Ce||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var _e;return((_e=this.authWindow)===null||_e===void 0?void 0:_e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const _e=()=>{var Ce,Pe;if(!((Pe=(Ce=this.authWindow)===null||Ce===void 0?void 0:Ce.window)===null||Pe===void 0)&&Pe.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(_e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};_e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(_e,Ce,Pe=!1){super(_e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],Ce,void 0,Pe),this.eventId=null}async execute(){let _e=redirectOutcomeMap.get(this.auth._key());if(!_e){try{const Pe=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;_e=()=>Promise.resolve(Pe)}catch(Ce){_e=()=>Promise.reject(Ce)}redirectOutcomeMap.set(this.auth._key(),_e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),_e()}async onAuthEvent(_e){if(_e.type==="signInViaRedirect")return super.onAuthEvent(_e);if(_e.type==="unknown"){this.resolve(null);return}if(_e.eventId){const Ce=await this.auth._redirectUserForId(_e.eventId);if(Ce)return this.user=Ce,super.onAuthEvent(_e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(Ee,_e){const Ce=pendingRedirectKey(_e),Pe=resolverPersistence(Ee);if(!await Pe._isAvailable())return!1;const Re=await Pe._get(Ce)==="true";return await Pe._remove(Ce),Re}function _overrideRedirectResult(Ee,_e){redirectOutcomeMap.set(Ee._key(),_e)}function resolverPersistence(Ee){return _getInstance(Ee._redirectPersistence)}function pendingRedirectKey(Ee){return _persistenceKeyName(PENDING_REDIRECT_KEY,Ee.config.apiKey,Ee.name)}async function _getRedirectResult(Ee,_e,Ce=!1){if(_isFirebaseServerApp(Ee.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ee));const Pe=_castAuth(Ee),Re=_withDefaultResolver(Pe,_e),Be=await new RedirectAction(Pe,Re,Ce).execute();return Be&&!Ce&&(delete Be.user._redirectEventId,await Pe._persistUserIfCurrent(Be.user),await Pe._setRedirectUser(null,_e)),Be}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=600*1e3;class AuthEventManager{constructor(_e){this.auth=_e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_e){this.consumers.add(_e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_e)&&(this.sendToConsumer(this.queuedRedirectEvent,_e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_e){this.consumers.delete(_e)}onEvent(_e){if(this.hasEventBeenHandled(_e))return!1;let Ce=!1;return this.consumers.forEach(Pe=>{this.isEventForConsumer(_e,Pe)&&(Ce=!0,this.sendToConsumer(_e,Pe),this.saveEventToCache(_e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(_e)||(this.hasHandledPotentialRedirect=!0,Ce||(this.queuedRedirectEvent=_e,Ce=!0)),Ce}sendToConsumer(_e,Ce){var Pe;if(_e.error&&!isNullRedirectEvent(_e)){const Re=((Pe=_e.error.code)===null||Pe===void 0?void 0:Pe.split("auth/")[1])||"internal-error";Ce.onError(_createError(this.auth,Re))}else Ce.onAuthEvent(_e)}isEventForConsumer(_e,Ce){const Pe=Ce.eventId===null||!!_e.eventId&&_e.eventId===Ce.eventId;return Ce.filter.includes(_e.type)&&Pe}hasEventBeenHandled(_e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(_e))}saveEventToCache(_e){this.cachedEventUids.add(eventUid(_e)),this.lastProcessedEventTime=Date.now()}}function eventUid(Ee){return[Ee.type,Ee.eventId,Ee.sessionId,Ee.tenantId].filter(_e=>_e).join("-")}function isNullRedirectEvent({type:Ee,error:_e}){return Ee==="unknown"&&_e?.code==="auth/no-auth-event"}function isRedirectEvent(Ee){switch(Ee.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(Ee);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(Ee,_e={}){return _performApiRequest(Ee,"GET","/v1/projects",_e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(Ee){if(Ee.config.emulator)return;const{authorizedDomains:_e}=await _getProjectConfig(Ee);for(const Ce of _e)try{if(matchDomain(Ce))return}catch{}_fail(Ee,"unauthorized-domain")}function matchDomain(Ee){const _e=_getCurrentUrl(),{protocol:Ce,hostname:Pe}=new URL(_e);if(Ee.startsWith("chrome-extension://")){const Be=new URL(Ee);return Be.hostname===""&&Pe===""?Ce==="chrome-extension:"&&Ee.replace("chrome-extension://","")===_e.replace("chrome-extension://",""):Ce==="chrome-extension:"&&Be.hostname===Pe}if(!HTTP_REGEX.test(Ce))return!1;if(IP_ADDRESS_REGEX.test(Ee))return Pe===Ee;const Re=Ee.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Re+"|"+Re+")$","i").test(Pe)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const Ee=_window().___jsl;if(Ee?.H){for(const _e of Object.keys(Ee.H))if(Ee.H[_e].r=Ee.H[_e].r||[],Ee.H[_e].L=Ee.H[_e].L||[],Ee.H[_e].r=[...Ee.H[_e].L],Ee.CP)for(let Ce=0;Ce<Ee.CP.length;Ce++)Ee.CP[Ce]=null}}function loadGapi(Ee){return new Promise((_e,Ce)=>{var Pe,Re,Ie;function Be(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{_e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),Ce(_createError(Ee,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((Re=(Pe=_window().gapi)===null||Pe===void 0?void 0:Pe.iframes)===null||Re===void 0)&&Re.Iframe)_e(gapi.iframes.getContext());else if(!((Ie=_window().gapi)===null||Ie===void 0)&&Ie.load)Be();else{const je=_generateCallbackName("iframefcb");return _window()[je]=()=>{gapi.load?Be():Ce(_createError(Ee,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${je}`).catch(De=>Ce(De))}}).catch(_e=>{throw cachedGApiLoader=null,_e})}let cachedGApiLoader=null;function _loadGapi(Ee){return cachedGApiLoader=cachedGApiLoader||loadGapi(Ee),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(Ee){const _e=Ee.config;_assert(_e.authDomain,Ee,"auth-domain-config-required");const Ce=_e.emulator?_emulatorUrl(_e,EMULATED_IFRAME_PATH):`https://${Ee.config.authDomain}/${IFRAME_PATH}`,Pe={apiKey:_e.apiKey,appName:Ee.name,v:SDK_VERSION},Re=EID_FROM_APIHOST.get(Ee.config.apiHost);Re&&(Pe.eid=Re);const Ie=Ee._getFrameworks();return Ie.length&&(Pe.fw=Ie.join(",")),`${Ce}?${querystring(Pe).slice(1)}`}async function _openIframe(Ee){const _e=await _loadGapi(Ee),Ce=_window().gapi;return _assert(Ce,Ee,"internal-error"),_e.open({where:document.body,url:getIframeUrl(Ee),messageHandlersFilter:Ce.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},Pe=>new Promise(async(Re,Ie)=>{await Pe.restyle({setHideOnLeave:!1});const Be=_createError(Ee,"network-request-failed"),je=_window().setTimeout(()=>{Ie(Be)},PING_TIMEOUT.get());function De(){_window().clearTimeout(je),Re(Pe)}Pe.ping(De).then(De,()=>{Ie(Be)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(_e){this.window=_e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(Ee,_e,Ce,Pe=DEFAULT_WIDTH,Re=DEFAULT_HEIGHT){const Ie=Math.max((window.screen.availHeight-Re)/2,0).toString(),Be=Math.max((window.screen.availWidth-Pe)/2,0).toString();let je="";const De=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:Pe.toString(),height:Re.toString(),top:Ie,left:Be}),Fe=getUA().toLowerCase();Ce&&(je=_isChromeIOS(Fe)?TARGET_BLANK:Ce),_isFirefox(Fe)&&(_e=_e||FIREFOX_EMPTY_URL,De.scrollbars="yes");const Oe=Object.entries(De).reduce((Me,[$e,He])=>`${Me}${$e}=${He},`,"");if(_isIOSStandalone(Fe)&&je!=="_self")return openAsNewWindowIOS(_e||"",je),new AuthPopup(null);const ke=window.open(_e||"",je,Oe);_assert(ke,Ee,"popup-blocked");try{ke.focus()}catch{}return new AuthPopup(ke)}function openAsNewWindowIOS(Ee,_e){const Ce=document.createElement("a");Ce.href=Ee,Ce.target=_e;const Pe=document.createEvent("MouseEvent");Pe.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),Ce.dispatchEvent(Pe)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(Ee,_e,Ce,Pe,Re,Ie){_assert(Ee.config.authDomain,Ee,"auth-domain-config-required"),_assert(Ee.config.apiKey,Ee,"invalid-api-key");const Be={apiKey:Ee.config.apiKey,appName:Ee.name,authType:Ce,redirectUrl:Pe,v:SDK_VERSION,eventId:Re};if(_e instanceof FederatedAuthProvider){_e.setDefaultLanguage(Ee.languageCode),Be.providerId=_e.providerId||"",isEmpty$1(_e.getCustomParameters())||(Be.customParameters=JSON.stringify(_e.getCustomParameters()));for(const[Oe,ke]of Object.entries({}))Be[Oe]=ke}if(_e instanceof BaseOAuthProvider){const Oe=_e.getScopes().filter(ke=>ke!=="");Oe.length>0&&(Be.scopes=Oe.join(","))}Ee.tenantId&&(Be.tid=Ee.tenantId);const je=Be;for(const Oe of Object.keys(je))je[Oe]===void 0&&delete je[Oe];const De=await Ee._getAppCheckToken(),Fe=De?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(De)}`:"";return`${getHandlerBase(Ee)}?${querystring(je).slice(1)}${Fe}`}function getHandlerBase({config:Ee}){return Ee.emulator?_emulatorUrl(Ee,EMULATOR_WIDGET_PATH):`https://${Ee.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(_e,Ce,Pe,Re){var Ie;debugAssert((Ie=this.eventManagers[_e._key()])===null||Ie===void 0?void 0:Ie.manager,"_initialize() not called before _openPopup()");const Be=await _getRedirectUrl(_e,Ce,Pe,_getCurrentUrl(),Re);return _open(_e,Be,_generateEventId())}async _openRedirect(_e,Ce,Pe,Re){await this._originValidation(_e);const Ie=await _getRedirectUrl(_e,Ce,Pe,_getCurrentUrl(),Re);return _setWindowLocation(Ie),new Promise(()=>{})}_initialize(_e){const Ce=_e._key();if(this.eventManagers[Ce]){const{manager:Re,promise:Ie}=this.eventManagers[Ce];return Re?Promise.resolve(Re):(debugAssert(Ie,"If manager is not set, promise should be"),Ie)}const Pe=this.initAndGetManager(_e);return this.eventManagers[Ce]={promise:Pe},Pe.catch(()=>{delete this.eventManagers[Ce]}),Pe}async initAndGetManager(_e){const Ce=await _openIframe(_e),Pe=new AuthEventManager(_e);return Ce.register("authEvent",Re=>(_assert(Re?.authEvent,_e,"invalid-auth-event"),{status:Pe.onEvent(Re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[_e._key()]={manager:Pe},this.iframes[_e._key()]=Ce,Pe}_isIframeWebStorageSupported(_e,Ce){this.iframes[_e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},Re=>{var Ie;const Be=(Ie=Re?.[0])===null||Ie===void 0?void 0:Ie[WEB_STORAGE_SUPPORT_KEY];Be!==void 0&&Ce(!!Be),_fail(_e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_e){const Ce=_e._key();return this.originValidationPromises[Ce]||(this.originValidationPromises[Ce]=_validateOrigin(_e)),this.originValidationPromises[Ce]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$3="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(_e){this.auth=_e,this.internalListeners=new Map}getUid(){var _e;return this.assertAuthConfigured(),((_e=this.auth.currentUser)===null||_e===void 0?void 0:_e.uid)||null}async getToken(_e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(_e)}:null}addAuthTokenListener(_e){if(this.assertAuthConfigured(),this.internalListeners.has(_e))return;const Ce=this.auth.onIdTokenChanged(Pe=>{_e(Pe?.stsTokenManager.accessToken||null)});this.internalListeners.set(_e,Ce),this.updateProactiveRefresh()}removeAuthTokenListener(_e){this.assertAuthConfigured();const Ce=this.internalListeners.get(_e);Ce&&(this.internalListeners.delete(_e),Ce(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(Ee){switch(Ee){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(Ee){_registerComponent(new Component("auth",(_e,{options:Ce})=>{const Pe=_e.getProvider("app").getImmediate(),Re=_e.getProvider("heartbeat"),Ie=_e.getProvider("app-check-internal"),{apiKey:Be,authDomain:je}=Pe.options;_assert(Be&&!Be.includes(":"),"invalid-api-key",{appName:Pe.name});const De={apiKey:Be,authDomain:je,clientPlatform:Ee,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(Ee)},Fe=new AuthImpl(Pe,Re,Ie,De);return _initializeAuthInstance(Fe,Ce),Fe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_e,Ce,Pe)=>{_e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",_e=>{const Ce=_castAuth(_e.getProvider("auth").getImmediate());return(Pe=>new AuthInterop(Pe))(Ce)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$3,getVersionForPlatform(Ee)),registerVersion(name$2,version$3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=300,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=Ee=>async _e=>{const Ce=_e&&await _e.getIdTokenResult(),Pe=Ce&&(new Date().getTime()-Date.parse(Ce.issuedAtTime))/1e3;if(Pe&&Pe>authIdTokenMaxAge)return;const Re=Ce?.token;lastPostedIdToken!==Re&&(lastPostedIdToken=Re,await fetch(Ee,{method:Re?"POST":"DELETE",headers:Re?{Authorization:`Bearer ${Re}`}:{}}))};function getAuth(Ee=getApp()){const _e=_getProvider(Ee,"auth");if(_e.isInitialized())return _e.getImmediate();const Ce=initializeAuth(Ee,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),Pe=getExperimentalSetting("authTokenSyncURL");if(Pe&&typeof isSecureContext=="boolean"&&isSecureContext){const Ie=new URL(Pe,location.origin);if(location.origin===Ie.origin){const Be=mintCookieFactory(Ie.toString());beforeAuthStateChanged(Ce,Be,()=>Be(Ce.currentUser)),onIdTokenChanged(Ce,je=>Be(je))}}const Re=getDefaultEmulatorHost("auth");return Re&&connectAuthEmulator(Ce,`http://${Re}`),Ce}function getScriptParentElement(){var Ee,_e;return(_e=(Ee=document.getElementsByTagName("head"))===null||Ee===void 0?void 0:Ee[0])!==null&&_e!==void 0?_e:document}_setExternalJSProvider({loadJS(Ee){return new Promise((_e,Ce)=>{const Pe=document.createElement("script");Pe.setAttribute("src",Ee),Pe.onload=_e,Pe.onerror=Re=>{const Ie=_createError("internal-error");Ie.customData=Re,Ce(Ie)},Pe.type="text/javascript",Pe.charset="UTF-8",getScriptParentElement().appendChild(Pe)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=120*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(_e,Ce,Pe=0){super(prependCode(_e),`Firebase Storage: ${Ce} (${prependCode(_e)})`),this.status_=Pe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(_e){this.status_=_e}_codeEquals(_e){return prependCode(_e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(_e){this.customData.serverResponse=_e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(Ee){Ee.UNKNOWN="unknown",Ee.OBJECT_NOT_FOUND="object-not-found",Ee.BUCKET_NOT_FOUND="bucket-not-found",Ee.PROJECT_NOT_FOUND="project-not-found",Ee.QUOTA_EXCEEDED="quota-exceeded",Ee.UNAUTHENTICATED="unauthenticated",Ee.UNAUTHORIZED="unauthorized",Ee.UNAUTHORIZED_APP="unauthorized-app",Ee.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ee.INVALID_CHECKSUM="invalid-checksum",Ee.CANCELED="canceled",Ee.INVALID_EVENT_NAME="invalid-event-name",Ee.INVALID_URL="invalid-url",Ee.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ee.NO_DEFAULT_BUCKET="no-default-bucket",Ee.CANNOT_SLICE_BLOB="cannot-slice-blob",Ee.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ee.NO_DOWNLOAD_URL="no-download-url",Ee.INVALID_ARGUMENT="invalid-argument",Ee.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ee.APP_DELETED="app-deleted",Ee.INVALID_ROOT_OPERATION="invalid-root-operation",Ee.INVALID_FORMAT="invalid-format",Ee.INTERNAL_ERROR="internal-error",Ee.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(Ee){return"storage/"+Ee}function unknown(){const Ee="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,Ee)}function objectNotFound(Ee){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+Ee+"' does not exist.")}function quotaExceeded(Ee){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+Ee+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const Ee="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,Ee)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(Ee){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+Ee+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(Ee){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+Ee+"'.")}function invalidDefaultBucket(Ee){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Ee+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(Ee){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${Ee} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument$1(Ee){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,Ee)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(Ee){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+Ee+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(Ee,_e){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+Ee+"': "+_e)}function internalError(Ee){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+Ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(_e,Ce){this.bucket=_e,this.path_=Ce}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const _e=encodeURIComponent;return"/b/"+_e(this.bucket)+"/o/"+_e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(_e,Ce){let Pe;try{Pe=Location.makeFromUrl(_e,Ce)}catch{return new Location(_e,"")}if(Pe.path==="")return Pe;throw invalidDefaultBucket(_e)}static makeFromUrl(_e,Ce){let Pe=null;const Re="([A-Za-z0-9.\\-_]+)";function Ie(Ye){Ye.path.charAt(Ye.path.length-1)==="/"&&(Ye.path_=Ye.path_.slice(0,-1))}const Be="(/(.*))?$",je=new RegExp("^gs://"+Re+Be,"i"),De={bucket:1,path:3};function Fe(Ye){Ye.path_=decodeURIComponent(Ye.path)}const Oe="v[A-Za-z0-9_]+",ke=Ce.replace(/[.]/g,"\\."),Me="(/([^?#]*).*)?$",$e=new RegExp(`^https?://${ke}/${Oe}/b/${Re}/o${Me}`,"i"),He={bucket:1,path:3},Qe=Ce===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":Ce,Ke="([^?#]*)",ze=new RegExp(`^https?://${Qe}/${Re}/${Ke}`,"i"),qe=[{regex:je,indices:De,postModify:Ie},{regex:$e,indices:He,postModify:Fe},{regex:ze,indices:{bucket:1,path:2},postModify:Fe}];for(let Ye=0;Ye<qe.length;Ye++){const Xe=qe[Ye],rr=Xe.regex.exec(_e);if(rr){const Je=rr[Xe.indices.bucket];let er=rr[Xe.indices.path];er||(er=""),Pe=new Location(Je,er),Xe.postModify(Pe);break}}if(Pe==null)throw invalidUrl(_e);return Pe}}class FailRequest{constructor(_e){this.promise_=Promise.reject(_e)}getPromise(){return this.promise_}cancel(_e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(Ee,_e,Ce){let Pe=1,Re=null,Ie=null,Be=!1,je=0;function De(){return je===2}let Fe=!1;function Oe(...Ke){Fe||(Fe=!0,_e.apply(null,Ke))}function ke(Ke){Re=setTimeout(()=>{Re=null,Ee($e,De())},Ke)}function Me(){Ie&&clearTimeout(Ie)}function $e(Ke,...ze){if(Fe){Me();return}if(Ke){Me(),Oe.call(null,Ke,...ze);return}if(De()||Be){Me(),Oe.call(null,Ke,...ze);return}Pe<64&&(Pe*=2);let qe;je===1?(je=2,qe=0):qe=(Pe+Math.random())*1e3,ke(qe)}let He=!1;function Qe(Ke){He||(He=!0,Me(),!Fe&&(Re!==null?(Ke||(je=2),clearTimeout(Re),ke(0)):Ke||(je=1)))}return ke(0),Ie=setTimeout(()=>{Be=!0,Qe(!0)},Ce),Qe}function stop(Ee){Ee(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(Ee){return Ee!==void 0}function isNonArrayObject(Ee){return typeof Ee=="object"&&!Array.isArray(Ee)}function isString(Ee){return typeof Ee=="string"||Ee instanceof String}function isNativeBlob(Ee){return isNativeBlobDefined()&&Ee instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(Ee,_e,Ce,Pe){if(Pe<_e)throw invalidArgument$1(`Invalid value for '${Ee}'. Expected ${_e} or greater.`);if(Pe>Ce)throw invalidArgument$1(`Invalid value for '${Ee}'. Expected ${Ce} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(Ee,_e,Ce){let Pe=_e;return Ce==null&&(Pe=`https://${_e}`),`${Ce}://${Pe}/v0${Ee}`}function makeQueryString(Ee){const _e=encodeURIComponent;let Ce="?";for(const Pe in Ee)if(Ee.hasOwnProperty(Pe)){const Re=_e(Pe)+"="+_e(Ee[Pe]);Ce=Ce+Re+"&"}return Ce=Ce.slice(0,-1),Ce}var ErrorCode;(function(Ee){Ee[Ee.NO_ERROR=0]="NO_ERROR",Ee[Ee.NETWORK_ERROR=1]="NETWORK_ERROR",Ee[Ee.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(Ee,_e){const Ce=Ee>=500&&Ee<600,Re=[408,429].indexOf(Ee)!==-1,Ie=_e.indexOf(Ee)!==-1;return Ce||Re||Ie}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(_e,Ce,Pe,Re,Ie,Be,je,De,Fe,Oe,ke,Me=!0,$e=!1){this.url_=_e,this.method_=Ce,this.headers_=Pe,this.body_=Re,this.successCodes_=Ie,this.additionalRetryCodes_=Be,this.callback_=je,this.errorCallback_=De,this.timeout_=Fe,this.progressCallback_=Oe,this.connectionFactory_=ke,this.retry=Me,this.isUsingEmulator=$e,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((He,Qe)=>{this.resolve_=He,this.reject_=Qe,this.start_()})}start_(){const _e=(Pe,Re)=>{if(Re){Pe(!1,new RequestEndStatus(!1,null,!0));return}const Ie=this.connectionFactory_();this.pendingConnection_=Ie;const Be=je=>{const De=je.loaded,Fe=je.lengthComputable?je.total:-1;this.progressCallback_!==null&&this.progressCallback_(De,Fe)};this.progressCallback_!==null&&Ie.addUploadProgressListener(Be),Ie.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&Ie.removeUploadProgressListener(Be),this.pendingConnection_=null;const je=Ie.getErrorCode()===ErrorCode.NO_ERROR,De=Ie.getStatus();if(!je||isRetryStatusCode(De,this.additionalRetryCodes_)&&this.retry){const Oe=Ie.getErrorCode()===ErrorCode.ABORT;Pe(!1,new RequestEndStatus(!1,null,Oe));return}const Fe=this.successCodes_.indexOf(De)!==-1;Pe(!0,new RequestEndStatus(Fe,Ie))})},Ce=(Pe,Re)=>{const Ie=this.resolve_,Be=this.reject_,je=Re.connection;if(Re.wasSuccessCode)try{const De=this.callback_(je,je.getResponse());isJustDef(De)?Ie(De):Ie()}catch(De){Be(De)}else if(je!==null){const De=unknown();De.serverResponse=je.getErrorText(),this.errorCallback_?Be(this.errorCallback_(je,De)):Be(De)}else if(Re.canceled){const De=this.appDelete_?appDeleted():canceled();Be(De)}else{const De=retryLimitExceeded();Be(De)}};this.canceled_?Ce(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(_e,Ce,this.timeout_)}getPromise(){return this.promise_}cancel(_e){this.canceled_=!0,this.appDelete_=_e||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(_e,Ce,Pe){this.wasSuccessCode=_e,this.connection=Ce,this.canceled=!!Pe}}function addAuthHeader_(Ee,_e){_e!==null&&_e.length>0&&(Ee.Authorization="Firebase "+_e)}function addVersionHeader_(Ee,_e){Ee["X-Firebase-Storage-Version"]="webjs/"+(_e??"AppManager")}function addGmpidHeader_(Ee,_e){_e&&(Ee["X-Firebase-GMPID"]=_e)}function addAppCheckHeader_(Ee,_e){_e!==null&&(Ee["X-Firebase-AppCheck"]=_e)}function makeRequest(Ee,_e,Ce,Pe,Re,Ie,Be=!0,je=!1){const De=makeQueryString(Ee.urlParams),Fe=Ee.url+De,Oe=Object.assign({},Ee.headers);return addGmpidHeader_(Oe,_e),addAuthHeader_(Oe,Ce),addVersionHeader_(Oe,Ie),addAppCheckHeader_(Oe,Pe),new NetworkRequest(Fe,Ee.method,Oe,Ee.body,Ee.successCodes,Ee.additionalRetryCodes,Ee.handler,Ee.errorHandler,Ee.timeout,Ee.progressCallback,Re,Be,je)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...Ee){const _e=getBlobBuilder();if(_e!==void 0){const Ce=new _e;for(let Pe=0;Pe<Ee.length;Pe++)Ce.append(Ee[Pe]);return Ce.getBlob()}else{if(isNativeBlobDefined())return new Blob(Ee);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(Ee,_e,Ce){return Ee.webkitSlice?Ee.webkitSlice(_e,Ce):Ee.mozSlice?Ee.mozSlice(_e,Ce):Ee.slice?Ee.slice(_e,Ce):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(Ee){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(Ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(_e,Ce){this.data=_e,this.contentType=Ce||null}}function dataFromString(Ee,_e){switch(Ee){case StringFormat.RAW:return new StringData(utf8Bytes_(_e));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(Ee,_e));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(_e),dataURLContentType_(_e))}throw unknown()}function utf8Bytes_(Ee){const _e=[];for(let Ce=0;Ce<Ee.length;Ce++){let Pe=Ee.charCodeAt(Ce);if(Pe<=127)_e.push(Pe);else if(Pe<=2047)_e.push(192|Pe>>6,128|Pe&63);else if((Pe&64512)===55296)if(!(Ce<Ee.length-1&&(Ee.charCodeAt(Ce+1)&64512)===56320))_e.push(239,191,189);else{const Ie=Pe,Be=Ee.charCodeAt(++Ce);Pe=65536|(Ie&1023)<<10|Be&1023,_e.push(240|Pe>>18,128|Pe>>12&63,128|Pe>>6&63,128|Pe&63)}else(Pe&64512)===56320?_e.push(239,191,189):_e.push(224|Pe>>12,128|Pe>>6&63,128|Pe&63)}return new Uint8Array(_e)}function percentEncodedBytes_(Ee){let _e;try{_e=decodeURIComponent(Ee)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(_e)}function base64Bytes_(Ee,_e){switch(Ee){case StringFormat.BASE64:{const Re=_e.indexOf("-")!==-1,Ie=_e.indexOf("_")!==-1;if(Re||Ie)throw invalidFormat(Ee,"Invalid character '"+(Re?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const Re=_e.indexOf("+")!==-1,Ie=_e.indexOf("/")!==-1;if(Re||Ie)throw invalidFormat(Ee,"Invalid character '"+(Re?"+":"/")+"' found: is it base64 encoded?");_e=_e.replace(/-/g,"+").replace(/_/g,"/");break}}let Ce;try{Ce=decodeBase64(_e)}catch(Re){throw Re.message.includes("polyfill")?Re:invalidFormat(Ee,"Invalid character found")}const Pe=new Uint8Array(Ce.length);for(let Re=0;Re<Ce.length;Re++)Pe[Re]=Ce.charCodeAt(Re);return Pe}class DataURLParts{constructor(_e){this.base64=!1,this.contentType=null;const Ce=_e.match(/^data:([^,]+)?,/);if(Ce===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Pe=Ce[1]||null;Pe!=null&&(this.base64=endsWith(Pe,";base64"),this.contentType=this.base64?Pe.substring(0,Pe.length-7):Pe),this.rest=_e.substring(_e.indexOf(",")+1)}}function dataURLBytes_(Ee){const _e=new DataURLParts(Ee);return _e.base64?base64Bytes_(StringFormat.BASE64,_e.rest):percentEncodedBytes_(_e.rest)}function dataURLContentType_(Ee){return new DataURLParts(Ee).contentType}function endsWith(Ee,_e){return Ee.length>=_e.length?Ee.substring(Ee.length-_e.length)===_e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(_e,Ce){let Pe=0,Re="";isNativeBlob(_e)?(this.data_=_e,Pe=_e.size,Re=_e.type):_e instanceof ArrayBuffer?(Ce?this.data_=new Uint8Array(_e):(this.data_=new Uint8Array(_e.byteLength),this.data_.set(new Uint8Array(_e))),Pe=this.data_.length):_e instanceof Uint8Array&&(Ce?this.data_=_e:(this.data_=new Uint8Array(_e.length),this.data_.set(_e)),Pe=_e.length),this.size_=Pe,this.type_=Re}size(){return this.size_}type(){return this.type_}slice(_e,Ce){if(isNativeBlob(this.data_)){const Pe=this.data_,Re=sliceBlob(Pe,_e,Ce);return Re===null?null:new FbsBlob(Re)}else{const Pe=new Uint8Array(this.data_.buffer,_e,Ce-_e);return new FbsBlob(Pe,!0)}}static getBlob(..._e){if(isNativeBlobDefined()){const Ce=_e.map(Pe=>Pe instanceof FbsBlob?Pe.data_:Pe);return new FbsBlob(getBlob$1.apply(null,Ce))}else{const Ce=_e.map(Be=>isString(Be)?dataFromString(StringFormat.RAW,Be).data:Be.data_);let Pe=0;Ce.forEach(Be=>{Pe+=Be.byteLength});const Re=new Uint8Array(Pe);let Ie=0;return Ce.forEach(Be=>{for(let je=0;je<Be.length;je++)Re[Ie++]=Be[je]}),new FbsBlob(Re,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(Ee){let _e;try{_e=JSON.parse(Ee)}catch{return null}return isNonArrayObject(_e)?_e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(Ee){if(Ee.length===0)return null;const _e=Ee.lastIndexOf("/");return _e===-1?"":Ee.slice(0,_e)}function child(Ee,_e){const Ce=_e.split("/").filter(Pe=>Pe.length>0).join("/");return Ee.length===0?Ce:Ee+"/"+Ce}function lastComponent(Ee){const _e=Ee.lastIndexOf("/",Ee.length-2);return _e===-1?Ee:Ee.slice(_e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(Ee,_e){return _e}class Mapping{constructor(_e,Ce,Pe,Re){this.server=_e,this.local=Ce||_e,this.writable=!!Pe,this.xform=Re||noXform_}}let mappings_=null;function xformPath(Ee){return!isString(Ee)||Ee.length<2?Ee:lastComponent(Ee)}function getMappings(){if(mappings_)return mappings_;const Ee=[];Ee.push(new Mapping("bucket")),Ee.push(new Mapping("generation")),Ee.push(new Mapping("metageneration")),Ee.push(new Mapping("name","fullPath",!0));function _e(Ie,Be){return xformPath(Be)}const Ce=new Mapping("name");Ce.xform=_e,Ee.push(Ce);function Pe(Ie,Be){return Be!==void 0?Number(Be):Be}const Re=new Mapping("size");return Re.xform=Pe,Ee.push(Re),Ee.push(new Mapping("timeCreated")),Ee.push(new Mapping("updated")),Ee.push(new Mapping("md5Hash",null,!0)),Ee.push(new Mapping("cacheControl",null,!0)),Ee.push(new Mapping("contentDisposition",null,!0)),Ee.push(new Mapping("contentEncoding",null,!0)),Ee.push(new Mapping("contentLanguage",null,!0)),Ee.push(new Mapping("contentType",null,!0)),Ee.push(new Mapping("metadata","customMetadata",!0)),mappings_=Ee,mappings_}function addRef(Ee,_e){function Ce(){const Pe=Ee.bucket,Re=Ee.fullPath,Ie=new Location(Pe,Re);return _e._makeStorageReference(Ie)}Object.defineProperty(Ee,"ref",{get:Ce})}function fromResource(Ee,_e,Ce){const Pe={};Pe.type="file";const Re=Ce.length;for(let Ie=0;Ie<Re;Ie++){const Be=Ce[Ie];Pe[Be.local]=Be.xform(Pe,_e[Be.server])}return addRef(Pe,Ee),Pe}function fromResourceString(Ee,_e,Ce){const Pe=jsonObjectOrNull(_e);return Pe===null?null:fromResource(Ee,Pe,Ce)}function downloadUrlFromResourceString(Ee,_e,Ce,Pe){const Re=jsonObjectOrNull(_e);if(Re===null||!isString(Re.downloadTokens))return null;const Ie=Re.downloadTokens;if(Ie.length===0)return null;const Be=encodeURIComponent;return Ie.split(",").map(Fe=>{const Oe=Ee.bucket,ke=Ee.fullPath,Me="/b/"+Be(Oe)+"/o/"+Be(ke),$e=makeUrl(Me,Ce,Pe),He=makeQueryString({alt:"media",token:Fe});return $e+He})[0]}function toResourceString(Ee,_e){const Ce={},Pe=_e.length;for(let Re=0;Re<Pe;Re++){const Ie=_e[Re];Ie.writable&&(Ce[Ie.server]=Ee[Ie.local])}return JSON.stringify(Ce)}class RequestInfo{constructor(_e,Ce,Pe,Re){this.url=_e,this.method=Ce,this.handler=Pe,this.timeout=Re,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(Ee){if(!Ee)throw unknown()}function metadataHandler(Ee,_e){function Ce(Pe,Re){const Ie=fromResourceString(Ee,Re,_e);return handlerCheck(Ie!==null),Ie}return Ce}function downloadUrlHandler(Ee,_e){function Ce(Pe,Re){const Ie=fromResourceString(Ee,Re,_e);return handlerCheck(Ie!==null),downloadUrlFromResourceString(Ie,Re,Ee.host,Ee._protocol)}return Ce}function sharedErrorHandler(Ee){function _e(Ce,Pe){let Re;return Ce.getStatus()===401?Ce.getErrorText().includes("Firebase App Check token is invalid")?Re=unauthorizedApp():Re=unauthenticated():Ce.getStatus()===402?Re=quotaExceeded(Ee.bucket):Ce.getStatus()===403?Re=unauthorized(Ee.path):Re=Pe,Re.status=Ce.getStatus(),Re.serverResponse=Pe.serverResponse,Re}return _e}function objectErrorHandler(Ee){const _e=sharedErrorHandler(Ee);function Ce(Pe,Re){let Ie=_e(Pe,Re);return Pe.getStatus()===404&&(Ie=objectNotFound(Ee.path)),Ie.serverResponse=Re.serverResponse,Ie}return Ce}function getDownloadUrl(Ee,_e,Ce){const Pe=_e.fullServerUrl(),Re=makeUrl(Pe,Ee.host,Ee._protocol),Ie="GET",Be=Ee.maxOperationRetryTime,je=new RequestInfo(Re,Ie,downloadUrlHandler(Ee,Ce),Be);return je.errorHandler=objectErrorHandler(_e),je}function determineContentType_(Ee,_e){return Ee&&Ee.contentType||_e&&_e.type()||"application/octet-stream"}function metadataForUpload_(Ee,_e,Ce){const Pe=Object.assign({},Ce);return Pe.fullPath=Ee.path,Pe.size=_e.size(),Pe.contentType||(Pe.contentType=determineContentType_(null,_e)),Pe}function multipartUpload(Ee,_e,Ce,Pe,Re){const Ie=_e.bucketOnlyServerUrl(),Be={"X-Goog-Upload-Protocol":"multipart"};function je(){let qe="";for(let Ye=0;Ye<2;Ye++)qe=qe+Math.random().toString().slice(2);return qe}const De=je();Be["Content-Type"]="multipart/related; boundary="+De;const Fe=metadataForUpload_(_e,Pe,Re),Oe=toResourceString(Fe,Ce),ke="--"+De+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+Oe+`\r
--`+De+`\r
Content-Type: `+Fe.contentType+`\r
\r
`,Me=`\r
--`+De+"--",$e=FbsBlob.getBlob(ke,Pe,Me);if($e===null)throw cannotSliceBlob();const He={name:Fe.fullPath},Qe=makeUrl(Ie,Ee.host,Ee._protocol),Ke="POST",ze=Ee.maxUploadRetryTime,We=new RequestInfo(Qe,Ke,metadataHandler(Ee,Ce),ze);return We.urlParams=He,We.headers=Be,We.body=$e.uploadData(),We.errorHandler=sharedErrorHandler(_e),We}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(_e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,_e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,_e()}),this.xhr_.addEventListener("load",()=>{_e()})})}send(_e,Ce,Pe,Re,Ie){if(this.sent_)throw internalError("cannot .send() more than once");if(isCloudWorkstation(_e)&&Pe&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(Ce,_e,!0),Ie!==void 0)for(const Be in Ie)Ie.hasOwnProperty(Be)&&this.xhr_.setRequestHeader(Be,Ie[Be].toString());return Re!==void 0?this.xhr_.send(Re):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(_e){return this.xhr_.getResponseHeader(_e)}addUploadProgressListener(_e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",_e)}removeUploadProgressListener(_e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",_e)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(_e,Ce){this._service=_e,Ce instanceof Location?this._location=Ce:this._location=Location.makeFromUrl(Ce,_e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(_e,Ce){return new Reference(_e,Ce)}get root(){const _e=new Location(this._location.bucket,"");return this._newRef(this._service,_e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const _e=parent(this._location.path);if(_e===null)return null;const Ce=new Location(this._location.bucket,_e);return new Reference(this._service,Ce)}_throwIfRoot(_e){if(this._location.path==="")throw invalidRootOperation(_e)}}function uploadBytes$1(Ee,_e,Ce){Ee._throwIfRoot("uploadBytes");const Pe=multipartUpload(Ee.storage,Ee._location,getMappings(),new FbsBlob(_e,!0),Ce);return Ee.storage.makeRequestWithTokens(Pe,newTextConnection).then(Re=>({metadata:Re,ref:Ee}))}function getDownloadURL$1(Ee){Ee._throwIfRoot("getDownloadURL");const _e=getDownloadUrl(Ee.storage,Ee._location,getMappings());return Ee.storage.makeRequestWithTokens(_e,newTextConnection).then(Ce=>{if(Ce===null)throw noDownloadURL();return Ce})}function _getChild$1(Ee,_e){const Ce=child(Ee._location.path,_e),Pe=new Location(Ee._location.bucket,Ce);return new Reference(Ee.storage,Pe)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(Ee){return/^[A-Za-z]+:\/\//.test(Ee)}function refFromURL(Ee,_e){return new Reference(Ee,_e)}function refFromPath(Ee,_e){if(Ee instanceof FirebaseStorageImpl){const Ce=Ee;if(Ce._bucket==null)throw noDefaultBucket();const Pe=new Reference(Ce,Ce._bucket);return _e!=null?refFromPath(Pe,_e):Pe}else return _e!==void 0?_getChild$1(Ee,_e):Ee}function ref$1(Ee,_e){if(_e&&isUrl(_e)){if(Ee instanceof FirebaseStorageImpl)return refFromURL(Ee,_e);throw invalidArgument$1("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(Ee,_e)}function extractBucket(Ee,_e){const Ce=_e?.[CONFIG_STORAGE_BUCKET_KEY];return Ce==null?null:Location.makeFromBucketSpec(Ce,Ee)}function connectStorageEmulator$1(Ee,_e,Ce,Pe={}){Ee.host=`${_e}:${Ce}`;const Re=isCloudWorkstation(_e);Re&&(pingServer(`https://${Ee.host}/b`),updateEmulatorBanner("Storage",!0)),Ee._isUsingEmulator=!0,Ee._protocol=Re?"https":"http";const{mockUserToken:Ie}=Pe;Ie&&(Ee._overrideAuthToken=typeof Ie=="string"?Ie:createMockUserToken(Ie,Ee.app.options.projectId))}class FirebaseStorageImpl{constructor(_e,Ce,Pe,Re,Ie,Be=!1){this.app=_e,this._authProvider=Ce,this._appCheckProvider=Pe,this._url=Re,this._firebaseVersion=Ie,this._isUsingEmulator=Be,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,Re!=null?this._bucket=Location.makeFromBucketSpec(Re,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(_e){this._host=_e,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,_e):this._bucket=extractBucket(_e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(_e){validateNumber("time",0,Number.POSITIVE_INFINITY,_e),this._maxUploadRetryTime=_e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(_e){validateNumber("time",0,Number.POSITIVE_INFINITY,_e),this._maxOperationRetryTime=_e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const _e=this._authProvider.getImmediate({optional:!0});if(_e){const Ce=await _e.getToken();if(Ce!==null)return Ce.accessToken}return null}async _getAppCheckToken(){if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const _e=this._appCheckProvider.getImmediate({optional:!0});return _e?(await _e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(_e=>_e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(_e){return new Reference(this,_e)}_makeRequest(_e,Ce,Pe,Re,Ie=!0){if(this._deleted)return new FailRequest(appDeleted());{const Be=makeRequest(_e,this._appId,Pe,Re,Ce,this._firebaseVersion,Ie,this._isUsingEmulator);return this._requests.add(Be),Be.getPromise().then(()=>this._requests.delete(Be),()=>this._requests.delete(Be)),Be}}async makeRequestWithTokens(_e,Ce){const[Pe,Re]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(_e,Ce,Pe,Re).getPromise()}}const name$1="@firebase/storage",version$2="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(Ee,_e,Ce){return Ee=getModularInstance(Ee),uploadBytes$1(Ee,_e,Ce)}function getDownloadURL(Ee){return Ee=getModularInstance(Ee),getDownloadURL$1(Ee)}function ref(Ee,_e){return Ee=getModularInstance(Ee),ref$1(Ee,_e)}function getStorage(Ee=getApp(),_e){Ee=getModularInstance(Ee);const Pe=_getProvider(Ee,STORAGE_TYPE).getImmediate({identifier:_e}),Re=getDefaultEmulatorHostnameAndPort("storage");return Re&&connectStorageEmulator(Pe,...Re),Pe}function connectStorageEmulator(Ee,_e,Ce,Pe={}){connectStorageEmulator$1(Ee,_e,Ce,Pe)}function factory(Ee,{instanceIdentifier:_e}){const Ce=Ee.getProvider("app").getImmediate(),Pe=Ee.getProvider("auth-internal"),Re=Ee.getProvider("app-check-internal");return new FirebaseStorageImpl(Ce,Pe,Re,_e,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name$1,version$2,""),registerVersion(name$1,version$2,"esm2017")}registerStorage();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_TYPE="type.googleapis.com/google.protobuf.Int64Value",UNSIGNED_LONG_TYPE="type.googleapis.com/google.protobuf.UInt64Value";function mapValues(Ee,_e){const Ce={};for(const Pe in Ee)Ee.hasOwnProperty(Pe)&&(Ce[Pe]=_e(Ee[Pe]));return Ce}function encode(Ee){if(Ee==null)return null;if(Ee instanceof Number&&(Ee=Ee.valueOf()),typeof Ee=="number"&&isFinite(Ee)||Ee===!0||Ee===!1||Object.prototype.toString.call(Ee)==="[object String]")return Ee;if(Ee instanceof Date)return Ee.toISOString();if(Array.isArray(Ee))return Ee.map(_e=>encode(_e));if(typeof Ee=="function"||typeof Ee=="object")return mapValues(Ee,_e=>encode(_e));throw new Error("Data cannot be encoded in JSON: "+Ee)}function decode(Ee){if(Ee==null)return Ee;if(Ee["@type"])switch(Ee["@type"]){case LONG_TYPE:case UNSIGNED_LONG_TYPE:{const _e=Number(Ee.value);if(isNaN(_e))throw new Error("Data cannot be decoded from JSON: "+Ee);return _e}default:throw new Error("Data cannot be decoded from JSON: "+Ee)}return Array.isArray(Ee)?Ee.map(_e=>decode(_e)):typeof Ee=="function"||typeof Ee=="object"?mapValues(Ee,_e=>decode(_e)):Ee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FUNCTIONS_TYPE="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const errorCodeMap={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FunctionsError extends FirebaseError{constructor(_e,Ce,Pe){super(`${FUNCTIONS_TYPE}/${_e}`,Ce||""),this.details=Pe,Object.setPrototypeOf(this,FunctionsError.prototype)}}function codeForHTTPStatus(Ee){if(Ee>=200&&Ee<300)return"ok";switch(Ee){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function _errorForResponse(Ee,_e){let Ce=codeForHTTPStatus(Ee),Pe=Ce,Re;try{const Ie=_e&&_e.error;if(Ie){const Be=Ie.status;if(typeof Be=="string"){if(!errorCodeMap[Be])return new FunctionsError("internal","internal");Ce=errorCodeMap[Be],Pe=Be}const je=Ie.message;typeof je=="string"&&(Pe=je),Re=Ie.details,Re!==void 0&&(Re=decode(Re))}}catch{}return Ce==="ok"?null:new FunctionsError(Ce,Pe,Re)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ContextProvider{constructor(_e,Ce,Pe,Re){this.app=_e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,_isFirebaseServerApp(_e)&&_e.settings.appCheckToken&&(this.serverAppAppCheckToken=_e.settings.appCheckToken),this.auth=Ce.getImmediate({optional:!0}),this.messaging=Pe.getImmediate({optional:!0}),this.auth||Ce.get().then(Ie=>this.auth=Ie,()=>{}),this.messaging||Pe.get().then(Ie=>this.messaging=Ie,()=>{}),this.appCheck||Re?.get().then(Ie=>this.appCheck=Ie,()=>{})}async getAuthToken(){if(this.auth)try{const _e=await this.auth.getToken();return _e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(_e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const Ce=_e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return Ce.error?null:Ce.token}return null}async getContext(_e){const Ce=await this.getAuthToken(),Pe=await this.getMessagingToken(),Re=await this.getAppCheckToken(_e);return{authToken:Ce,messagingToken:Pe,appCheckToken:Re}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_REGION="us-central1",responseLineRE=/^data: (.*?)(?:\n|$)/;function failAfter(Ee){let _e=null;return{promise:new Promise((Ce,Pe)=>{_e=setTimeout(()=>{Pe(new FunctionsError("deadline-exceeded","deadline-exceeded"))},Ee)}),cancel:()=>{_e&&clearTimeout(_e)}}}class FunctionsService{constructor(_e,Ce,Pe,Re,Ie=DEFAULT_REGION,Be=(...je)=>fetch(...je)){this.app=_e,this.fetchImpl=Be,this.emulatorOrigin=null,this.contextProvider=new ContextProvider(_e,Ce,Pe,Re),this.cancelAllRequests=new Promise(je=>{this.deleteService=()=>Promise.resolve(je())});try{const je=new URL(Ie);this.customDomain=je.origin+(je.pathname==="/"?"":je.pathname),this.region=DEFAULT_REGION}catch{this.customDomain=null,this.region=Ie}}_delete(){return this.deleteService()}_url(_e){const Ce=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${Ce}/${this.region}/${_e}`:this.customDomain!==null?`${this.customDomain}/${_e}`:`https://${this.region}-${Ce}.cloudfunctions.net/${_e}`}}function connectFunctionsEmulator$1(Ee,_e,Ce){const Pe=isCloudWorkstation(_e);Ee.emulatorOrigin=`http${Pe?"s":""}://${_e}:${Ce}`,Pe&&(pingServer(Ee.emulatorOrigin),updateEmulatorBanner("Functions",!0))}function httpsCallable$1(Ee,_e,Ce){const Pe=Re=>call(Ee,_e,Re,{});return Pe.stream=(Re,Ie)=>stream(Ee,_e,Re,Ie),Pe}async function postJSON(Ee,_e,Ce,Pe){Ce["Content-Type"]="application/json";let Re;try{Re=await Pe(Ee,{method:"POST",body:JSON.stringify(_e),headers:Ce})}catch{return{status:0,json:null}}let Ie=null;try{Ie=await Re.json()}catch{}return{status:Re.status,json:Ie}}async function makeAuthHeaders(Ee,_e){const Ce={},Pe=await Ee.contextProvider.getContext(_e.limitedUseAppCheckTokens);return Pe.authToken&&(Ce.Authorization="Bearer "+Pe.authToken),Pe.messagingToken&&(Ce["Firebase-Instance-ID-Token"]=Pe.messagingToken),Pe.appCheckToken!==null&&(Ce["X-Firebase-AppCheck"]=Pe.appCheckToken),Ce}function call(Ee,_e,Ce,Pe){const Re=Ee._url(_e);return callAtURL(Ee,Re,Ce,Pe)}async function callAtURL(Ee,_e,Ce,Pe){Ce=encode(Ce);const Re={data:Ce},Ie=await makeAuthHeaders(Ee,Pe),Be=Pe.timeout||7e4,je=failAfter(Be),De=await Promise.race([postJSON(_e,Re,Ie,Ee.fetchImpl),je.promise,Ee.cancelAllRequests]);if(je.cancel(),!De)throw new FunctionsError("cancelled","Firebase Functions instance was deleted.");const Fe=_errorForResponse(De.status,De.json);if(Fe)throw Fe;if(!De.json)throw new FunctionsError("internal","Response is not valid JSON object.");let Oe=De.json.data;if(typeof Oe>"u"&&(Oe=De.json.result),typeof Oe>"u")throw new FunctionsError("internal","Response is missing data field.");return{data:decode(Oe)}}function stream(Ee,_e,Ce,Pe){const Re=Ee._url(_e);return streamAtURL(Ee,Re,Ce,Pe||{})}async function streamAtURL(Ee,_e,Ce,Pe){var Re;Ce=encode(Ce);const Ie={data:Ce},Be=await makeAuthHeaders(Ee,Pe);Be["Content-Type"]="application/json",Be.Accept="text/event-stream";let je;try{je=await Ee.fetchImpl(_e,{method:"POST",body:JSON.stringify(Ie),headers:Be,signal:Pe?.signal})}catch($e){if($e instanceof Error&&$e.name==="AbortError"){const Qe=new FunctionsError("cancelled","Request was cancelled.");return{data:Promise.reject(Qe),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(Qe)}}}}}}const He=_errorForResponse(0,null);return{data:Promise.reject(He),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(He)}}}}}}let De,Fe;const Oe=new Promise(($e,He)=>{De=$e,Fe=He});(Re=Pe?.signal)===null||Re===void 0||Re.addEventListener("abort",()=>{const $e=new FunctionsError("cancelled","Request was cancelled.");Fe($e)});const ke=je.body.getReader(),Me=createResponseStream(ke,De,Fe,Pe?.signal);return{stream:{[Symbol.asyncIterator](){const $e=Me.getReader();return{async next(){const{value:He,done:Qe}=await $e.read();return{value:He,done:Qe}},async return(){return await $e.cancel(),{done:!0,value:void 0}}}}},data:Oe}}function createResponseStream(Ee,_e,Ce,Pe){const Re=(Be,je)=>{const De=Be.match(responseLineRE);if(!De)return;const Fe=De[1];try{const Oe=JSON.parse(Fe);if("result"in Oe){_e(decode(Oe.result));return}if("message"in Oe){je.enqueue(decode(Oe.message));return}if("error"in Oe){const ke=_errorForResponse(0,Oe);je.error(ke),Ce(ke);return}}catch(Oe){if(Oe instanceof FunctionsError){je.error(Oe),Ce(Oe);return}}},Ie=new TextDecoder;return new ReadableStream({start(Be){let je="";return De();async function De(){if(Pe?.aborted){const Fe=new FunctionsError("cancelled","Request was cancelled");return Be.error(Fe),Ce(Fe),Promise.resolve()}try{const{value:Fe,done:Oe}=await Ee.read();if(Oe){je.trim()&&Re(je.trim(),Be),Be.close();return}if(Pe?.aborted){const Me=new FunctionsError("cancelled","Request was cancelled");Be.error(Me),Ce(Me),await Ee.cancel();return}je+=Ie.decode(Fe,{stream:!0});const ke=je.split(`
`);je=ke.pop()||"";for(const Me of ke)Me.trim()&&Re(Me.trim(),Be);return De()}catch(Fe){const Oe=Fe instanceof FunctionsError?Fe:_errorForResponse(0,null);Be.error(Oe),Ce(Oe)}}},cancel(){return Ee.cancel()}})}const name="@firebase/functions",version$1="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AUTH_INTERNAL_NAME="auth-internal",APP_CHECK_INTERNAL_NAME="app-check-internal",MESSAGING_INTERNAL_NAME="messaging-internal";function registerFunctions(Ee){const _e=(Ce,{instanceIdentifier:Pe})=>{const Re=Ce.getProvider("app").getImmediate(),Ie=Ce.getProvider(AUTH_INTERNAL_NAME),Be=Ce.getProvider(MESSAGING_INTERNAL_NAME),je=Ce.getProvider(APP_CHECK_INTERNAL_NAME);return new FunctionsService(Re,Ie,Be,je,Pe)};_registerComponent(new Component(FUNCTIONS_TYPE,_e,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version$1,Ee),registerVersion(name,version$1,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getFunctions(Ee=getApp(),_e=DEFAULT_REGION){const Pe=_getProvider(getModularInstance(Ee),FUNCTIONS_TYPE).getImmediate({identifier:_e}),Re=getDefaultEmulatorHostnameAndPort("functions");return Re&&connectFunctionsEmulator(Pe,...Re),Pe}function connectFunctionsEmulator(Ee,_e,Ce){connectFunctionsEmulator$1(getModularInstance(Ee),_e,Ce)}function httpsCallable(Ee,_e,Ce){return httpsCallable$1(getModularInstance(Ee),_e)}registerFunctions();const firebaseConfig={apiKey:"AIzaSyBPkkXZWll0VifG5kb0DDSsoV5UB-n5pFE",authDomain:"stockpilotv1.firebaseapp.com",databaseURL:"https://stockpilotv1-default-rtdb.firebaseio.com",projectId:"stockpilotv1",storageBucket:"stockpilotv1.firebasestorage.app",messagingSenderId:"30934537475",appId:"1:30934537475:web:84a2f76609dbb1db290536",measurementId:"G-SENFJ2HSBW"},app=initializeApp(firebaseConfig),auth$2=getAuth(app),db$2=getFirestore(app),storage=getStorage(app),functions=getFunctions(app,"asia-south1"),debounce$3=(Ee,_e)=>{let Ce;return(...Pe)=>{Ce&&clearTimeout(Ce),Ce=setTimeout(()=>Ee(...Pe),_e)}},generateCustId=()=>`CUST-${Math.floor(1e3+Math.random()*9e3)}`,CustomerForm=({customer:Ee,onChange:_e,userId:Ce})=>{const[Pe,Re]=reactExports.useState([]),[Ie,Be]=reactExports.useState(!1),je=async ke=>{if(!Ce||!ke)return;const Me=collection(db$2,"businesses",Ce,"customers"),$e=await getDocs(Me),He=[],Qe=ke.toLowerCase();$e.forEach(ze=>{const We=ze.data();(We.name&&We.name.toLowerCase().includes(Qe)||We.phone&&We.phone.includes(ke))&&He.push({id:ze.id,...We})}),Re(He),Be(!0)},De=reactExports.useCallback(debounce$3(ke=>je(ke),300),[]),Fe=async ke=>{const{name:Me,value:$e}=ke.target;Me==="name"&&($e.length>1?De($e):(Re([]),Be(!1))),_e(He=>({...He,[Me]:$e,custId:He?.custId||generateCustId()}))},Oe=ke=>{Re([]),Be(!1),_e({...ke,custId:ke?.custId||generateCustId()})};return jsxRuntimeExports.jsx("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-md mb-6 space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1 relative",htmlFor:"name",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Customer Name"}),jsxRuntimeExports.jsx("input",{id:"name",type:"text",name:"name",value:Ee?.name||"",onChange:Fe,placeholder:"Enter customer name",className:"border p-2 rounded",autoComplete:"off",onBlur:()=>setTimeout(()=>Be(!1),150),onFocus:()=>{Pe.length>0&&Be(!0)}}),Ie&&Pe.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-2 border p-2 bg-gray-50 rounded",children:[jsxRuntimeExports.jsx("div",{className:"font-medium mb-1",children:"Select Customer"}),jsxRuntimeExports.jsx("ul",{className:"border rounded bg-white shadow max-h-40 overflow-y-auto z-10 w-full",children:Pe.map(ke=>jsxRuntimeExports.jsxs("li",{onClick:()=>Oe(ke),className:"p-2 hover:bg-gray-100 cursor-pointer border-b flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold text-base",children:[" ",ke.name," ",jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:[" ",ke.custId]})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[" ",ke.phone||"No Phone","   ",ke.address||"No Address"]})]},ke.custId||ke.id))})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",htmlFor:"phone",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{id:"phone",type:"tel",name:"phone",value:Ee?.phone||"",onChange:Fe,placeholder:"Enter phone number",className:"border p-2 rounded"})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",htmlFor:"email",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Email Address"}),jsxRuntimeExports.jsx("input",{id:"email",type:"email",name:"email",value:Ee?.email||"",onChange:Fe,placeholder:"Enter email address",className:"border p-2 rounded"})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",htmlFor:"address",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Customer Address"}),jsxRuntimeExports.jsx("input",{id:"address",type:"text",name:"address",value:Ee?.address||"",onChange:Fe,placeholder:"Enter customer address",className:"border p-2 rounded"})]})]})})},BillingCart=({selectedProducts:Ee=[],onUpdateCart:_e,settings:Ce})=>{const[Pe,Re]=reactExports.useState([]),{includeGST:Ie,gstRate:Be,enableCGST:je,enableSGST:De,enableIGST:Fe,includeCGST:Oe,includeSGST:ke,includeIGST:Me,cgstRate:$e,sgstRate:He,igstRate:Qe}=Ce||{},Ke=()=>{Re([...Pe,{id:"manual",name:"",sku:"",brand:"",category:"",unit:"",quantity:1,price:0,discount:0}])},ze=(Je,er,or)=>{const pr=[...Pe];pr[Je][er]=er==="quantity"||er==="price"||er==="discount"?parseFloat(or)||0:or,Re(pr)},We=Je=>{const er=[...Pe];er.splice(Je,1),Re(er)},qe=Je=>((Je.price-Je.price*Je.discount/100)*Je.quantity).toFixed(2),Ye=Pe.reduce((Je,er)=>Je+(er.price-er.price*er.discount/100)*er.quantity,0),Xe=(Ie&&Be?Ye*Be/100:0)+(Oe&&$e?Ye*$e/100:0)+(ke&&He?Ye*He/100:0)+(Me&&Qe?Ye*Qe/100:0),rr=Ye+Xe;return reactExports.useEffect(()=>{const Je=Ee.filter(er=>!Pe.some(or=>or.sku===er.sku)).map(er=>({id:er.id,name:er.productName||"",sku:er.sku||"",brand:er.brand||"",category:er.category||"",unit:er.unit||"",quantity:1,price:er.sellingPrice||0,discount:0}));Je.length>0&&Re(er=>[...er,...Je])},[Ee]),reactExports.useEffect(()=>{if(console.log("Updated Cart Items:",Pe),_e&&Pe.length>0){const Je={gst:Ie&&Be?Ye*Be/100:0,cgst:Oe&&$e?Ye*$e/100:0,sgst:ke&&He?Ye*He/100:0,igst:Me&&Qe?Ye*Qe/100:0};_e(Pe,{subtotal:Ye,taxBreakdown:Je,finalTotal:rr})}},[Pe]),jsxRuntimeExports.jsxs("div",{className:"space-y-6 px-4 pt-4 md:px-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("button",{onClick:Ke,className:"bg-green-600 text-white px-4 py-2 rounded shadow",children:"+ Add Item"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border border-gray-300 text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100 text-left",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Discount (%)"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Subtotal"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:Pe.map((Je,er)=>jsxRuntimeExports.jsxs("tr",{className:"border-t",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:Je.name||"",onChange:or=>ze(er,"name",or.target.value),className:"w-full border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:Je.sku||"",onChange:or=>ze(er,"sku",or.target.value),className:"w-full border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:Je.brand||"",onChange:or=>ze(er,"brand",or.target.value),className:"w-full border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:Je.category||"",onChange:or=>ze(er,"category",or.target.value),className:"w-full border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:Je.unit||"",onChange:or=>ze(er,"unit",or.target.value),className:"w-full border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",value:Je.quantity||0,onChange:or=>ze(er,"quantity",or.target.value),className:"w-16 border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",value:Je.price||0,onChange:or=>ze(er,"price",or.target.value),className:"w-20 border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",value:Je.discount||0,onChange:or=>ze(er,"discount",or.target.value),className:"w-20 border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:qe(Je)}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>We(er),className:"text-red-600 hover:underline",children:"Remove"})})]},er))})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 text-right space-y-2 border-t pt-4 text-sm md:text-base",children:[jsxRuntimeExports.jsxs("p",{children:["Total Items: ",Pe.length]}),jsxRuntimeExports.jsxs("p",{children:["Total Quantity: ",Pe.reduce((Je,er)=>Je+er.quantity,0)]}),jsxRuntimeExports.jsxs("p",{children:["Total Before Discount: ",Pe.reduce((Je,er)=>Je+er.price*er.quantity,0).toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:["Total Discount: ",Pe.reduce((Je,er)=>Je+er.price*er.discount*er.quantity/100,0).toFixed(2)]}),Ie&&Be>0&&jsxRuntimeExports.jsxs("p",{children:["GST (",Be,"%): ",(Ye*Be/100).toFixed(2)]}),Oe&&$e>0&&jsxRuntimeExports.jsxs("p",{children:["CGST (",$e,"%): ",(Ye*$e/100).toFixed(2)]}),ke&&He>0&&jsxRuntimeExports.jsxs("p",{children:["SGST (",He,"%): ",(Ye*He/100).toFixed(2)]}),Me&&Qe>0&&jsxRuntimeExports.jsxs("p",{children:["IGST (",Qe,"%): ",(Ye*Qe/100).toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"font-semibold text-lg",children:["Final Total: ",rr.toFixed(2)]})]})]})},InvoiceSettings=({settings:Ee,onChange:_e})=>{const Ce=Pe=>{const{name:Re,type:Ie,checked:Be,value:je}=Pe.target;let De=je;Ie==="number"&&(De=parseFloat(je||0)),_e({...Ee,[Re]:Ie==="checkbox"?Be:De})};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-md space-y-6 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Invoice Settings"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"includeGST",checked:Ee.includeGST,onChange:Ce}),"Include GST",Ee.includeGST&&jsxRuntimeExports.jsx("input",{type:"number",name:"gstRate",value:Ee.gstRate||"",onChange:Ce,className:"border px-2 py-1 rounded w-20",placeholder:"% GST"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"includeCGST",checked:Ee.includeCGST,onChange:Ce}),"Include CGST",Ee.includeCGST&&jsxRuntimeExports.jsx("input",{type:"number",name:"cgstRate",value:Ee.cgstRate||"",onChange:Ce,className:"border px-2 py-1 rounded w-20",placeholder:"% CGST"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"includeSGST",checked:Ee.includeSGST,onChange:Ce}),"Include SGST",Ee.includeSGST&&jsxRuntimeExports.jsx("input",{type:"number",name:"sgstRate",value:Ee.sgstRate||"",onChange:Ce,className:"border px-2 py-1 rounded w-20",placeholder:"% SGST"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"includeIGST",checked:Ee.includeIGST,onChange:Ce}),"Include IGST",Ee.includeIGST&&jsxRuntimeExports.jsx("input",{type:"number",name:"igstRate",value:Ee.igstRate||"",onChange:Ce,className:"border px-2 py-1 rounded w-20",placeholder:"% IGST"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Invoice Type"}),jsxRuntimeExports.jsxs("select",{name:"invoiceType",value:Ee.invoiceType,onChange:Ce,className:"border px-3 py-2 rounded",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Invoice Type"}),jsxRuntimeExports.jsx("option",{value:"retail",children:"Retail"}),jsxRuntimeExports.jsx("option",{value:"tax",children:"Tax"}),jsxRuntimeExports.jsx("option",{value:"quote",children:"Quote"}),jsxRuntimeExports.jsx("option",{value:"estimation",children:"Estimation"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Payment Mode"}),jsxRuntimeExports.jsxs("select",{name:"paymentMode",value:Ee.paymentMode,onChange:Ce,className:"border px-3 py-2 rounded",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Payment Mode"}),jsxRuntimeExports.jsx("option",{value:"cash",children:"Cash"}),jsxRuntimeExports.jsx("option",{value:"upi",children:"UPI"}),jsxRuntimeExports.jsx("option",{value:"card",children:"Card"}),jsxRuntimeExports.jsx("option",{value:"split",children:"Split"}),jsxRuntimeExports.jsx("option",{value:"credit",children:"Credit"}),jsxRuntimeExports.jsx("option",{value:"advance",children:"Advance"})]})]}),Ee.paymentMode==="split"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Cash Amount"}),jsxRuntimeExports.jsx("input",{type:"number",name:"splitCash",value:Ee.splitPayment?.cash||"",onChange:Pe=>_e({...Ee,splitPayment:{...Ee.splitPayment,cash:parseFloat(Pe.target.value||0)}}),className:"border px-3 py-2 rounded",placeholder:""})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"UPI Amount"}),jsxRuntimeExports.jsx("input",{type:"number",name:"splitUPI",value:Ee.splitPayment?.upi||"",onChange:Pe=>_e({...Ee,splitPayment:{...Ee.splitPayment,upi:parseFloat(Pe.target.value||0)}}),className:"border px-3 py-2 rounded",placeholder:""})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Card Amount"}),jsxRuntimeExports.jsx("input",{type:"number",name:"splitCard",value:Ee.splitPayment?.card||"",onChange:Pe=>_e({...Ee,splitPayment:{...Ee.splitPayment,card:parseFloat(Pe.target.value||0)}}),className:"border px-3 py-2 rounded",placeholder:""})]})]}),Ee.paymentMode==="credit"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Credit Due Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"creditDueDate",value:Ee.creditDueDate||"",onChange:Ce,className:"border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Credit Note"}),jsxRuntimeExports.jsx("input",{type:"text",name:"creditNote",value:Ee.creditNote||"",onChange:Ce,className:"border px-3 py-2 rounded",placeholder:"Optional note or reference"})]})]}),Ee.paymentMode==="advance"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Advance Paid"}),jsxRuntimeExports.jsx("input",{type:"number",name:"advancePaid",value:Ee.advancePaid||"",onChange:Ce,className:"border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Expected Payment Completion Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"advanceDueDate",value:Ee.advanceDueDate||"",onChange:Ce,className:"border px-3 py-2 rounded"})]})]})]})]})},ProductSearch=({onSelect:Ee})=>{const[_e,Ce]=reactExports.useState(""),[Pe,Re]=reactExports.useState([]),[Ie,Be]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{try{const De=auth$2.currentUser?.uid;if(!De)return;const Oe=(await getDocs(collection(db$2,"businesses",De,"products"))).docs.map(ke=>({id:ke.id,...ke.data()}));Be(Oe)}catch(De){console.error("Failed to load inventory:",De)}})()},[]),reactExports.useEffect(()=>{const je=_e.toLowerCase(),De=Ie.filter(Fe=>Fe.productName?.toLowerCase().includes(je)||Fe.sku?.toLowerCase().includes(je)||Fe.brand?.toLowerCase().includes(je)||Fe.category?.toLowerCase().includes(je));Re(je?De:[])},[_e,Ie]),jsxRuntimeExports.jsxs("div",{className:"relative mb-6 px-4 md:px-0",children:[jsxRuntimeExports.jsx("input",{type:"text",value:_e,onChange:je=>Ce(je.target.value),placeholder:"Search product by name, SKU, brand, category...",className:"border w-full px-4 py-2 rounded-lg shadow-sm text-sm md:text-base"}),Pe.length>0&&jsxRuntimeExports.jsx("ul",{className:"absolute bg-white border w-full mt-2 max-h-64 overflow-y-auto z-20 rounded-lg shadow-lg",children:Pe.map(je=>jsxRuntimeExports.jsxs("li",{onClick:()=>{Ee(je),Ce(""),Re([])},className:"p-3 hover:bg-blue-100 cursor-pointer flex items-center gap-4 border-b",children:[je.imageUrl&&jsxRuntimeExports.jsx("img",{src:je.imageUrl,alt:je.productName,className:"w-10 h-10 object-cover rounded"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:je.productName}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:["SKU: ",je.sku||"N/A"," | Brand: ",je.brand||"N/A"," | Category: ",je.category||"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:["Selling Price: ",je.sellingPrice||"0.00"]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:["Unit: ",je.unit||"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-green-600",children:["In Stock: ",je.quantity]})]})]},je.id))})]})};var html2pdf$1={exports:{}};const scriptRel="modulepreload",assetsURL=function(Ee,_e){return new URL(Ee,_e).href},seen={},__vitePreload=function Ee(_e,Ce,Pe){let Re=Promise.resolve();if(Ce&&Ce.length>0){let Fe=function(Oe){return Promise.all(Oe.map(ke=>Promise.resolve(ke).then(Me=>({status:"fulfilled",value:Me}),Me=>({status:"rejected",reason:Me}))))};const Be=document.getElementsByTagName("link"),je=document.querySelector("meta[property=csp-nonce]"),De=je?.nonce||je?.getAttribute("nonce");Re=Fe(Ce.map(Oe=>{if(Oe=assetsURL(Oe,Pe),Oe in seen)return;seen[Oe]=!0;const ke=Oe.endsWith(".css"),Me=ke?'[rel="stylesheet"]':"";if(!!Pe)for(let Qe=Be.length-1;Qe>=0;Qe--){const Ke=Be[Qe];if(Ke.href===Oe&&(!ke||Ke.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${Oe}"]${Me}`))return;const He=document.createElement("link");if(He.rel=ke?"stylesheet":scriptRel,ke||(He.as="script"),He.crossOrigin="",He.href=Oe,De&&He.setAttribute("nonce",De),document.head.appendChild(He),ke)return new Promise((Qe,Ke)=>{He.addEventListener("load",Qe),He.addEventListener("error",()=>Ke(new Error(`Unable to preload CSS for ${Oe}`)))})}))}function Ie(Be){const je=new Event("vite:preloadError",{cancelable:!0});if(je.payload=Be,window.dispatchEvent(je),!je.defaultPrevented)throw Be}return Re.then(Be=>{for(const je of Be||[])je.status==="rejected"&&Ie(je.reason);return _e().catch(Ie)})};function _typeof$1(Ee){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$1(Ee)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(Ee,_e){for(var Ce=new u16(31),Pe=0;Pe<31;++Pe)Ce[Pe]=_e+=1<<Ee[Pe-1];for(var Re=new i32(Ce[30]),Pe=1;Pe<30;++Pe)for(var Ie=Ce[Pe];Ie<Ce[Pe+1];++Ie)Re[Ie]=Ie-Ce[Pe]<<5|Pe;return{b:Ce,r:Re}},_a$1=freb(fleb,2),fl=_a$1.b,revfl=_a$1.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i$2=0;i$2<32768;++i$2){var x$3=(i$2&43690)>>1|(i$2&21845)<<1;x$3=(x$3&52428)>>2|(x$3&13107)<<2,x$3=(x$3&61680)>>4|(x$3&3855)<<4,rev[i$2]=((x$3&65280)>>8|(x$3&255)<<8)>>1}var hMap=function(Ee,_e,Ce){for(var Pe=Ee.length,Re=0,Ie=new u16(_e);Re<Pe;++Re)Ee[Re]&&++Ie[Ee[Re]-1];var Be=new u16(_e);for(Re=1;Re<_e;++Re)Be[Re]=Be[Re-1]+Ie[Re-1]<<1;var je;if(Ce){je=new u16(1<<_e);var De=15-_e;for(Re=0;Re<Pe;++Re)if(Ee[Re])for(var Fe=Re<<4|Ee[Re],Oe=_e-Ee[Re],ke=Be[Ee[Re]-1]++<<Oe,Me=ke|(1<<Oe)-1;ke<=Me;++ke)je[rev[ke]>>De]=Fe}else for(je=new u16(Pe),Re=0;Re<Pe;++Re)Ee[Re]&&(je[Re]=rev[Be[Ee[Re]-1]++]>>15-Ee[Re]);return je},flt=new u8(288);for(var i$2=0;i$2<144;++i$2)flt[i$2]=8;for(var i$2=144;i$2<256;++i$2)flt[i$2]=9;for(var i$2=256;i$2<280;++i$2)flt[i$2]=7;for(var i$2=280;i$2<288;++i$2)flt[i$2]=8;var fdt=new u8(32);for(var i$2=0;i$2<32;++i$2)fdt[i$2]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max$1=function(Ee){for(var _e=Ee[0],Ce=1;Ce<Ee.length;++Ce)Ee[Ce]>_e&&(_e=Ee[Ce]);return _e},bits=function(Ee,_e,Ce){var Pe=_e/8|0;return(Ee[Pe]|Ee[Pe+1]<<8)>>(_e&7)&Ce},bits16=function(Ee,_e){var Ce=_e/8|0;return(Ee[Ce]|Ee[Ce+1]<<8|Ee[Ce+2]<<16)>>(_e&7)},shft=function(Ee){return(Ee+7)/8|0},slc=function(Ee,_e,Ce){return(Ce==null||Ce>Ee.length)&&(Ce=Ee.length),new u8(Ee.subarray(_e,Ce))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(Ee,_e,Ce){var Pe=new Error(_e||ec[Ee]);if(Pe.code=Ee,Error.captureStackTrace&&Error.captureStackTrace(Pe,err),!Ce)throw Pe;return Pe},inflt=function(Ee,_e,Ce,Pe){var Re=Ee.length,Ie=0;if(!Re||_e.f&&!_e.l)return Ce||new u8(0);var Be=!Ce,je=Be||_e.i!=2,De=_e.i;Be&&(Ce=new u8(Re*3));var Fe=function(yn){var mn=Ce.length;if(yn>mn){var Cn=new u8(Math.max(mn*2,yn));Cn.set(Ce),Ce=Cn}},Oe=_e.f||0,ke=_e.p||0,Me=_e.b||0,$e=_e.l,He=_e.d,Qe=_e.m,Ke=_e.n,ze=Re*8;do{if(!$e){Oe=bits(Ee,ke,1);var We=bits(Ee,ke+1,3);if(ke+=3,We)if(We==1)$e=flrm,He=fdrm,Qe=9,Ke=5;else if(We==2){var rr=bits(Ee,ke,31)+257,Je=bits(Ee,ke+10,15)+4,er=rr+bits(Ee,ke+5,31)+1;ke+=14;for(var or=new u8(er),pr=new u8(19),ar=0;ar<Je;++ar)pr[clim[ar]]=bits(Ee,ke+ar*3,7);ke+=Je*3;for(var fr=max$1(pr),gr=(1<<fr)-1,Rr=hMap(pr,fr,1),ar=0;ar<er;){var Ir=Rr[bits(Ee,ke,gr)];ke+=Ir&15;var qe=Ir>>4;if(qe<16)or[ar++]=qe;else{var mr=0,Er=0;for(qe==16?(Er=3+bits(Ee,ke,3),ke+=2,mr=or[ar-1]):qe==17?(Er=3+bits(Ee,ke,7),ke+=3):qe==18&&(Er=11+bits(Ee,ke,127),ke+=7);Er--;)or[ar++]=mr}}var Ar=or.subarray(0,rr),br=or.subarray(rr);Qe=max$1(Ar),Ke=max$1(br),$e=hMap(Ar,Qe,1),He=hMap(br,Ke,1)}else err(1);else{var qe=shft(ke)+4,Ye=Ee[qe-4]|Ee[qe-3]<<8,Xe=qe+Ye;if(Xe>Re){De&&err(0);break}je&&Fe(Me+Ye),Ce.set(Ee.subarray(qe,Xe),Me),_e.b=Me+=Ye,_e.p=ke=Xe*8,_e.f=Oe;continue}if(ke>ze){De&&err(0);break}}je&&Fe(Me+131072);for(var wr=(1<<Qe)-1,jr=(1<<Ke)-1,hr=ke;;hr=ke){var mr=$e[bits16(Ee,ke)&wr],_r=mr>>4;if(ke+=mr&15,ke>ze){De&&err(0);break}if(mr||err(2),_r<256)Ce[Me++]=_r;else if(_r==256){hr=ke,$e=null;break}else{var Pr=_r-254;if(_r>264){var ar=_r-257,Cr=fleb[ar];Pr=bits(Ee,ke,(1<<Cr)-1)+fl[ar],ke+=Cr}var Or=He[bits16(Ee,ke)&jr],Yr=Or>>4;Or||err(3),ke+=Or&15;var br=fd[Yr];if(Yr>3){var Cr=fdeb[Yr];br+=bits16(Ee,ke)&(1<<Cr)-1,ke+=Cr}if(ke>ze){De&&err(0);break}je&&Fe(Me+131072);var qr=Me+Pr;if(Me<br){var Kr=Ie-br,Zr=Math.min(br,qr);for(Kr+Me<0&&err(3);Me<Zr;++Me)Ce[Me]=Pe[Kr+Me]}for(;Me<qr;++Me)Ce[Me]=Ce[Me-br]}}_e.l=$e,_e.p=hr,_e.b=Me,_e.f=Oe,$e&&(Oe=1,_e.m=Qe,_e.d=He,_e.n=Ke)}while(!Oe);return Me!=Ce.length&&Be?slc(Ce,0,Me):Ce.subarray(0,Me)},wbits=function(Ee,_e,Ce){Ce<<=_e&7;var Pe=_e/8|0;Ee[Pe]|=Ce,Ee[Pe+1]|=Ce>>8},wbits16=function(Ee,_e,Ce){Ce<<=_e&7;var Pe=_e/8|0;Ee[Pe]|=Ce,Ee[Pe+1]|=Ce>>8,Ee[Pe+2]|=Ce>>16},hTree=function(Ee,_e){for(var Ce=[],Pe=0;Pe<Ee.length;++Pe)Ee[Pe]&&Ce.push({s:Pe,f:Ee[Pe]});var Re=Ce.length,Ie=Ce.slice();if(!Re)return{t:et$1,l:0};if(Re==1){var Be=new u8(Ce[0].s+1);return Be[Ce[0].s]=1,{t:Be,l:1}}Ce.sort(function(Xe,rr){return Xe.f-rr.f}),Ce.push({s:-1,f:25001});var je=Ce[0],De=Ce[1],Fe=0,Oe=1,ke=2;for(Ce[0]={s:-1,f:je.f+De.f,l:je,r:De};Oe!=Re-1;)je=Ce[Ce[Fe].f<Ce[ke].f?Fe++:ke++],De=Ce[Fe!=Oe&&Ce[Fe].f<Ce[ke].f?Fe++:ke++],Ce[Oe++]={s:-1,f:je.f+De.f,l:je,r:De};for(var Me=Ie[0].s,Pe=1;Pe<Re;++Pe)Ie[Pe].s>Me&&(Me=Ie[Pe].s);var $e=new u16(Me+1),He=ln$1(Ce[Oe-1],$e,0);if(He>_e){var Pe=0,Qe=0,Ke=He-_e,ze=1<<Ke;for(Ie.sort(function(rr,Je){return $e[Je.s]-$e[rr.s]||rr.f-Je.f});Pe<Re;++Pe){var We=Ie[Pe].s;if($e[We]>_e)Qe+=ze-(1<<He-$e[We]),$e[We]=_e;else break}for(Qe>>=Ke;Qe>0;){var qe=Ie[Pe].s;$e[qe]<_e?Qe-=1<<_e-$e[qe]++-1:++Pe}for(;Pe>=0&&Qe;--Pe){var Ye=Ie[Pe].s;$e[Ye]==_e&&(--$e[Ye],++Qe)}He=_e}return{t:new u8($e),l:He}},ln$1=function(Ee,_e,Ce){return Ee.s==-1?Math.max(ln$1(Ee.l,_e,Ce+1),ln$1(Ee.r,_e,Ce+1)):_e[Ee.s]=Ce},lc=function(Ee){for(var _e=Ee.length;_e&&!Ee[--_e];);for(var Ce=new u16(++_e),Pe=0,Re=Ee[0],Ie=1,Be=function(De){Ce[Pe++]=De},je=1;je<=_e;++je)if(Ee[je]==Re&&je!=_e)++Ie;else{if(!Re&&Ie>2){for(;Ie>138;Ie-=138)Be(32754);Ie>2&&(Be(Ie>10?Ie-11<<5|28690:Ie-3<<5|12305),Ie=0)}else if(Ie>3){for(Be(Re),--Ie;Ie>6;Ie-=6)Be(8304);Ie>2&&(Be(Ie-3<<5|8208),Ie=0)}for(;Ie--;)Be(Re);Ie=1,Re=Ee[je]}return{c:Ce.subarray(0,Pe),n:_e}},clen=function(Ee,_e){for(var Ce=0,Pe=0;Pe<_e.length;++Pe)Ce+=Ee[Pe]*_e[Pe];return Ce},wfblk=function(Ee,_e,Ce){var Pe=Ce.length,Re=shft(_e+2);Ee[Re]=Pe&255,Ee[Re+1]=Pe>>8,Ee[Re+2]=Ee[Re]^255,Ee[Re+3]=Ee[Re+1]^255;for(var Ie=0;Ie<Pe;++Ie)Ee[Re+Ie+4]=Ce[Ie];return(Re+4+Pe)*8},wblk=function(Ee,_e,Ce,Pe,Re,Ie,Be,je,De,Fe,Oe){wbits(_e,Oe++,Ce),++Re[256];for(var ke=hTree(Re,15),Me=ke.t,$e=ke.l,He=hTree(Ie,15),Qe=He.t,Ke=He.l,ze=lc(Me),We=ze.c,qe=ze.n,Ye=lc(Qe),Xe=Ye.c,rr=Ye.n,Je=new u16(19),er=0;er<We.length;++er)++Je[We[er]&31];for(var er=0;er<Xe.length;++er)++Je[Xe[er]&31];for(var or=hTree(Je,7),pr=or.t,ar=or.l,fr=19;fr>4&&!pr[clim[fr-1]];--fr);var gr=Fe+5<<3,Rr=clen(Re,flt)+clen(Ie,fdt)+Be,Ir=clen(Re,Me)+clen(Ie,Qe)+Be+14+3*fr+clen(Je,pr)+2*Je[16]+3*Je[17]+7*Je[18];if(De>=0&&gr<=Rr&&gr<=Ir)return wfblk(_e,Oe,Ee.subarray(De,De+Fe));var mr,Er,Ar,br;if(wbits(_e,Oe,1+(Ir<Rr)),Oe+=2,Ir<Rr){mr=hMap(Me,$e,0),Er=Me,Ar=hMap(Qe,Ke,0),br=Qe;var wr=hMap(pr,ar,0);wbits(_e,Oe,qe-257),wbits(_e,Oe+5,rr-1),wbits(_e,Oe+10,fr-4),Oe+=14;for(var er=0;er<fr;++er)wbits(_e,Oe+3*er,pr[clim[er]]);Oe+=3*fr;for(var jr=[We,Xe],hr=0;hr<2;++hr)for(var _r=jr[hr],er=0;er<_r.length;++er){var Pr=_r[er]&31;wbits(_e,Oe,wr[Pr]),Oe+=pr[Pr],Pr>15&&(wbits(_e,Oe,_r[er]>>5&127),Oe+=_r[er]>>12)}}else mr=flm,Er=flt,Ar=fdm,br=fdt;for(var er=0;er<je;++er){var Cr=Pe[er];if(Cr>255){var Pr=Cr>>18&31;wbits16(_e,Oe,mr[Pr+257]),Oe+=Er[Pr+257],Pr>7&&(wbits(_e,Oe,Cr>>23&31),Oe+=fleb[Pr]);var Or=Cr&31;wbits16(_e,Oe,Ar[Or]),Oe+=br[Or],Or>3&&(wbits16(_e,Oe,Cr>>5&8191),Oe+=fdeb[Or])}else wbits16(_e,Oe,mr[Cr]),Oe+=Er[Cr]}return wbits16(_e,Oe,mr[256]),Oe+Er[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(Ee,_e,Ce,Pe,Re,Ie){var Be=Ie.z||Ee.length,je=new u8(Pe+Be+5*(1+Math.ceil(Be/7e3))+Re),De=je.subarray(Pe,je.length-Re),Fe=Ie.l,Oe=(Ie.r||0)&7;if(_e){Oe&&(De[0]=Ie.r>>3);for(var ke=deo[_e-1],Me=ke>>13,$e=ke&8191,He=(1<<Ce)-1,Qe=Ie.p||new u16(32768),Ke=Ie.h||new u16(He+1),ze=Math.ceil(Ce/3),We=2*ze,qe=function(bn){return(Ee[bn]^Ee[bn+1]<<ze^Ee[bn+2]<<We)&He},Ye=new i32(25e3),Xe=new u16(288),rr=new u16(32),Je=0,er=0,or=Ie.i||0,pr=0,ar=Ie.w||0,fr=0;or+2<Be;++or){var gr=qe(or),Rr=or&32767,Ir=Ke[gr];if(Qe[Rr]=Ir,Ke[gr]=Rr,ar<=or){var mr=Be-or;if((Je>7e3||pr>24576)&&(mr>423||!Fe)){Oe=wblk(Ee,De,0,Ye,Xe,rr,er,pr,fr,or-fr,Oe),pr=Je=er=0,fr=or;for(var Er=0;Er<286;++Er)Xe[Er]=0;for(var Er=0;Er<30;++Er)rr[Er]=0}var Ar=2,br=0,wr=$e,jr=Rr-Ir&32767;if(mr>2&&gr==qe(or-jr))for(var hr=Math.min(Me,mr)-1,_r=Math.min(32767,or),Pr=Math.min(258,mr);jr<=_r&&--wr&&Rr!=Ir;){if(Ee[or+Ar]==Ee[or+Ar-jr]){for(var Cr=0;Cr<Pr&&Ee[or+Cr]==Ee[or+Cr-jr];++Cr);if(Cr>Ar){if(Ar=Cr,br=jr,Cr>hr)break;for(var Or=Math.min(jr,Cr-2),Yr=0,Er=0;Er<Or;++Er){var qr=or-jr+Er&32767,Kr=Qe[qr],Zr=qr-Kr&32767;Zr>Yr&&(Yr=Zr,Ir=qr)}}}Rr=Ir,Ir=Qe[Rr],jr+=Rr-Ir&32767}if(br){Ye[pr++]=268435456|revfl[Ar]<<18|revfd[br];var yn=revfl[Ar]&31,mn=revfd[br]&31;er+=fleb[yn]+fdeb[mn],++Xe[257+yn],++rr[mn],ar=or+Ar,++Je}else Ye[pr++]=Ee[or],++Xe[Ee[or]]}}for(or=Math.max(or,ar);or<Be;++or)Ye[pr++]=Ee[or],++Xe[Ee[or]];Oe=wblk(Ee,De,Fe,Ye,Xe,rr,er,pr,fr,or-fr,Oe),Fe||(Ie.r=Oe&7|De[Oe/8|0]<<3,Oe-=7,Ie.h=Ke,Ie.p=Qe,Ie.i=or,Ie.w=ar)}else{for(var or=Ie.w||0;or<Be+Fe;or+=65535){var Cn=or+65535;Cn>=Be&&(De[Oe/8|0]=Fe,Cn=Be),Oe=wfblk(De,Oe+1,Ee.subarray(or,Cn))}Ie.i=Be}return slc(je,0,Pe+shft(Oe)+Re)},adler=function(){var Ee=1,_e=0;return{p:function(Ce){for(var Pe=Ee,Re=_e,Ie=Ce.length|0,Be=0;Be!=Ie;){for(var je=Math.min(Be+2655,Ie);Be<je;++Be)Re+=Pe+=Ce[Be];Pe=(Pe&65535)+15*(Pe>>16),Re=(Re&65535)+15*(Re>>16)}Ee=Pe,_e=Re},d:function(){return Ee%=65521,_e%=65521,(Ee&255)<<24|(Ee&65280)<<8|(_e&255)<<8|_e>>8}}},dopt=function(Ee,_e,Ce,Pe,Re){if(!Re&&(Re={l:1},_e.dictionary)){var Ie=_e.dictionary.subarray(-32768),Be=new u8(Ie.length+Ee.length);Be.set(Ie),Be.set(Ee,Ie.length),Ee=Be,Re.w=Ie.length}return dflt(Ee,_e.level==null?6:_e.level,_e.mem==null?Re.l?Math.ceil(Math.max(8,Math.min(13,Math.log(Ee.length)))*1.5):20:12+_e.mem,Ce,Pe,Re)},wbytes=function(Ee,_e,Ce){for(;Ce;++_e)Ee[_e]=Ce,Ce>>>=8},zlh=function(Ee,_e){var Ce=_e.level,Pe=Ce==0?0:Ce<6?1:Ce==9?3:2;if(Ee[0]=120,Ee[1]=Pe<<6|(_e.dictionary&&32),Ee[1]|=31-(Ee[0]<<8|Ee[1])%31,_e.dictionary){var Re=adler();Re.p(_e.dictionary),wbytes(Ee,2,Re.d())}},zls=function(Ee,_e){return((Ee[0]&15)!=8||Ee[0]>>4>7||(Ee[0]<<8|Ee[1])%31)&&err(6,"invalid zlib data"),(Ee[1]>>5&1)==1&&err(6,"invalid zlib data: "+(Ee[1]&32?"need":"unexpected")+" dictionary"),(Ee[1]>>3&4)+2};function zlibSync(Ee,_e){_e||(_e={});var Ce=adler();Ce.p(Ee);var Pe=dopt(Ee,_e,_e.dictionary?6:2,4);return zlh(Pe,_e),wbytes(Pe,Pe.length-4,Ce.d()),Pe}function unzlibSync(Ee,_e){return inflt(Ee.subarray(zls(Ee),-4),{i:2},_e,_e)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch(Ee){}var n$1=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i$1(){n$1.console&&typeof n$1.console.log=="function"&&n$1.console.log.apply(n$1.console,arguments)}var a$2={log:i$1,warn:function(Ee){n$1.console&&(typeof n$1.console.warn=="function"?n$1.console.warn.apply(n$1.console,arguments):i$1.call(null,arguments))},error:function(Ee){n$1.console&&(typeof n$1.console.error=="function"?n$1.console.error.apply(n$1.console,arguments):i$1(Ee))}};function o$1(Ee,_e,Ce){var Pe=new XMLHttpRequest;Pe.open("GET",Ee),Pe.responseType="blob",Pe.onload=function(){l$1(Pe.response,_e,Ce)},Pe.onerror=function(){a$2.error("could not download file")},Pe.send()}function s$2(Ee){var _e=new XMLHttpRequest;_e.open("HEAD",Ee,!1);try{_e.send()}catch{}return _e.status>=200&&_e.status<=299}function c$3(Ee){try{Ee.dispatchEvent(new MouseEvent("click"))}catch{var _e=document.createEvent("MouseEvents");_e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ee.dispatchEvent(_e)}}var u$2,h$1,l$1=n$1.saveAs||((typeof window>"u"?"undefined":_typeof$1(window))!=="object"||window!==n$1?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(Ee,_e,Ce){var Pe=n$1.URL||n$1.webkitURL,Re=document.createElement("a");_e=_e||Ee.name||"download",Re.download=_e,Re.rel="noopener",typeof Ee=="string"?(Re.href=Ee,Re.origin!==location.origin?s$2(Re.href)?o$1(Ee,_e,Ce):c$3(Re,Re.target="_blank"):c$3(Re)):(Re.href=Pe.createObjectURL(Ee),setTimeout(function(){Pe.revokeObjectURL(Re.href)},4e4),setTimeout(function(){c$3(Re)},0))}:"msSaveOrOpenBlob"in navigator?function(Ee,_e,Ce){if(_e=_e||Ee.name||"download",typeof Ee=="string")if(s$2(Ee))o$1(Ee,_e,Ce);else{var Pe=document.createElement("a");Pe.href=Ee,Pe.target="_blank",setTimeout(function(){c$3(Pe)})}else navigator.msSaveOrOpenBlob(function(Re,Ie){return Ie===void 0?Ie={autoBom:!1}:_typeof$1(Ie)!=="object"&&(a$2.warn("Deprecated: Expected third argument to be a object"),Ie={autoBom:!Ie}),Ie.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Re.type)?new Blob(["\uFEFF",Re],{type:Re.type}):Re}(Ee,Ce),_e)}:function(Ee,_e,Ce,Pe){if((Pe=Pe||open("","_blank"))&&(Pe.document.title=Pe.document.body.innerText="downloading..."),typeof Ee=="string")return o$1(Ee,_e,Ce);var Re=Ee.type==="application/octet-stream",Ie=/constructor/i.test(n$1.HTMLElement)||n$1.safari,Be=/CriOS\/[\d]+/.test(navigator.userAgent);if((Be||Re&&Ie)&&(typeof FileReader>"u"?"undefined":_typeof$1(FileReader))==="object"){var je=new FileReader;je.onloadend=function(){var Oe=je.result;Oe=Be?Oe:Oe.replace(/^data:[^;]*;/,"data:attachment/file;"),Pe?Pe.location.href=Oe:location=Oe,Pe=null},je.readAsDataURL(Ee)}else{var De=n$1.URL||n$1.webkitURL,Fe=De.createObjectURL(Ee);Pe?Pe.location=Fe:location.href=Fe,Pe=null,setTimeout(function(){De.revokeObjectURL(Fe)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f$2(Ee){var _e;Ee=Ee||"",this.ok=!1,Ee.charAt(0)=="#"&&(Ee=Ee.substr(1,6)),Ee={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[Ee=(Ee=Ee.replace(/ /g,"")).toLowerCase()]||Ee;for(var Ce=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(je){return[parseInt(je[1]),parseInt(je[2]),parseInt(je[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(je){return[parseInt(je[1],16),parseInt(je[2],16),parseInt(je[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(je){return[parseInt(je[1]+je[1],16),parseInt(je[2]+je[2],16),parseInt(je[3]+je[3],16)]}}],Pe=0;Pe<Ce.length;Pe++){var Re=Ce[Pe].re,Ie=Ce[Pe].process,Be=Re.exec(Ee);Be&&(_e=Ie(Be),this.r=_e[0],this.g=_e[1],this.b=_e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var je=this.r.toString(16),De=this.g.toString(16),Fe=this.b.toString(16);return je.length==1&&(je="0"+je),De.length==1&&(De="0"+De),Fe.length==1&&(Fe="0"+Fe),"#"+je+De+Fe}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d$1(Ee,_e){var Ce=Ee[0],Pe=Ee[1],Re=Ee[2],Ie=Ee[3];Ce=g$1(Ce,Pe,Re,Ie,_e[0],7,-680876936),Ie=g$1(Ie,Ce,Pe,Re,_e[1],12,-389564586),Re=g$1(Re,Ie,Ce,Pe,_e[2],17,606105819),Pe=g$1(Pe,Re,Ie,Ce,_e[3],22,-1044525330),Ce=g$1(Ce,Pe,Re,Ie,_e[4],7,-176418897),Ie=g$1(Ie,Ce,Pe,Re,_e[5],12,1200080426),Re=g$1(Re,Ie,Ce,Pe,_e[6],17,-1473231341),Pe=g$1(Pe,Re,Ie,Ce,_e[7],22,-45705983),Ce=g$1(Ce,Pe,Re,Ie,_e[8],7,1770035416),Ie=g$1(Ie,Ce,Pe,Re,_e[9],12,-1958414417),Re=g$1(Re,Ie,Ce,Pe,_e[10],17,-42063),Pe=g$1(Pe,Re,Ie,Ce,_e[11],22,-1990404162),Ce=g$1(Ce,Pe,Re,Ie,_e[12],7,1804603682),Ie=g$1(Ie,Ce,Pe,Re,_e[13],12,-40341101),Re=g$1(Re,Ie,Ce,Pe,_e[14],17,-1502002290),Ce=m$1(Ce,Pe=g$1(Pe,Re,Ie,Ce,_e[15],22,1236535329),Re,Ie,_e[1],5,-165796510),Ie=m$1(Ie,Ce,Pe,Re,_e[6],9,-1069501632),Re=m$1(Re,Ie,Ce,Pe,_e[11],14,643717713),Pe=m$1(Pe,Re,Ie,Ce,_e[0],20,-373897302),Ce=m$1(Ce,Pe,Re,Ie,_e[5],5,-701558691),Ie=m$1(Ie,Ce,Pe,Re,_e[10],9,38016083),Re=m$1(Re,Ie,Ce,Pe,_e[15],14,-660478335),Pe=m$1(Pe,Re,Ie,Ce,_e[4],20,-405537848),Ce=m$1(Ce,Pe,Re,Ie,_e[9],5,568446438),Ie=m$1(Ie,Ce,Pe,Re,_e[14],9,-1019803690),Re=m$1(Re,Ie,Ce,Pe,_e[3],14,-187363961),Pe=m$1(Pe,Re,Ie,Ce,_e[8],20,1163531501),Ce=m$1(Ce,Pe,Re,Ie,_e[13],5,-1444681467),Ie=m$1(Ie,Ce,Pe,Re,_e[2],9,-51403784),Re=m$1(Re,Ie,Ce,Pe,_e[7],14,1735328473),Ce=v(Ce,Pe=m$1(Pe,Re,Ie,Ce,_e[12],20,-1926607734),Re,Ie,_e[5],4,-378558),Ie=v(Ie,Ce,Pe,Re,_e[8],11,-2022574463),Re=v(Re,Ie,Ce,Pe,_e[11],16,1839030562),Pe=v(Pe,Re,Ie,Ce,_e[14],23,-35309556),Ce=v(Ce,Pe,Re,Ie,_e[1],4,-1530992060),Ie=v(Ie,Ce,Pe,Re,_e[4],11,1272893353),Re=v(Re,Ie,Ce,Pe,_e[7],16,-155497632),Pe=v(Pe,Re,Ie,Ce,_e[10],23,-1094730640),Ce=v(Ce,Pe,Re,Ie,_e[13],4,681279174),Ie=v(Ie,Ce,Pe,Re,_e[0],11,-358537222),Re=v(Re,Ie,Ce,Pe,_e[3],16,-722521979),Pe=v(Pe,Re,Ie,Ce,_e[6],23,76029189),Ce=v(Ce,Pe,Re,Ie,_e[9],4,-640364487),Ie=v(Ie,Ce,Pe,Re,_e[12],11,-421815835),Re=v(Re,Ie,Ce,Pe,_e[15],16,530742520),Ce=b(Ce,Pe=v(Pe,Re,Ie,Ce,_e[2],23,-995338651),Re,Ie,_e[0],6,-198630844),Ie=b(Ie,Ce,Pe,Re,_e[7],10,1126891415),Re=b(Re,Ie,Ce,Pe,_e[14],15,-1416354905),Pe=b(Pe,Re,Ie,Ce,_e[5],21,-57434055),Ce=b(Ce,Pe,Re,Ie,_e[12],6,1700485571),Ie=b(Ie,Ce,Pe,Re,_e[3],10,-1894986606),Re=b(Re,Ie,Ce,Pe,_e[10],15,-1051523),Pe=b(Pe,Re,Ie,Ce,_e[1],21,-2054922799),Ce=b(Ce,Pe,Re,Ie,_e[8],6,1873313359),Ie=b(Ie,Ce,Pe,Re,_e[15],10,-30611744),Re=b(Re,Ie,Ce,Pe,_e[6],15,-1560198380),Pe=b(Pe,Re,Ie,Ce,_e[13],21,1309151649),Ce=b(Ce,Pe,Re,Ie,_e[4],6,-145523070),Ie=b(Ie,Ce,Pe,Re,_e[11],10,-1120210379),Re=b(Re,Ie,Ce,Pe,_e[2],15,718787259),Pe=b(Pe,Re,Ie,Ce,_e[9],21,-343485551),Ee[0]=_$1(Ce,Ee[0]),Ee[1]=_$1(Pe,Ee[1]),Ee[2]=_$1(Re,Ee[2]),Ee[3]=_$1(Ie,Ee[3])}function p$1(Ee,_e,Ce,Pe,Re,Ie){return _e=_$1(_$1(_e,Ee),_$1(Pe,Ie)),_$1(_e<<Re|_e>>>32-Re,Ce)}function g$1(Ee,_e,Ce,Pe,Re,Ie,Be){return p$1(_e&Ce|~_e&Pe,Ee,_e,Re,Ie,Be)}function m$1(Ee,_e,Ce,Pe,Re,Ie,Be){return p$1(_e&Pe|Ce&~Pe,Ee,_e,Re,Ie,Be)}function v(Ee,_e,Ce,Pe,Re,Ie,Be){return p$1(_e^Ce^Pe,Ee,_e,Re,Ie,Be)}function b(Ee,_e,Ce,Pe,Re,Ie,Be){return p$1(Ce^(_e|~Pe),Ee,_e,Re,Ie,Be)}function y$3(Ee){var _e,Ce=Ee.length,Pe=[1732584193,-271733879,-1732584194,271733878];for(_e=64;_e<=Ee.length;_e+=64)d$1(Pe,w(Ee.substring(_e-64,_e)));Ee=Ee.substring(_e-64);var Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(_e=0;_e<Ee.length;_e++)Re[_e>>2]|=Ee.charCodeAt(_e)<<(_e%4<<3);if(Re[_e>>2]|=128<<(_e%4<<3),_e>55)for(d$1(Pe,Re),_e=0;_e<16;_e++)Re[_e]=0;return Re[14]=8*Ce,d$1(Pe,Re),Pe}function w(Ee){var _e,Ce=[];for(_e=0;_e<64;_e+=4)Ce[_e>>2]=Ee.charCodeAt(_e)+(Ee.charCodeAt(_e+1)<<8)+(Ee.charCodeAt(_e+2)<<16)+(Ee.charCodeAt(_e+3)<<24);return Ce}u$2=n$1.atob.bind(n$1),h$1=n$1.btoa.bind(n$1);var N$1="0123456789abcdef".split("");function L$1(Ee){for(var _e="",Ce=0;Ce<4;Ce++)_e+=N$1[Ee>>8*Ce+4&15]+N$1[Ee>>8*Ce&15];return _e}function A$1(Ee){return String.fromCharCode((255&Ee)>>0,(65280&Ee)>>8,(16711680&Ee)>>16,(4278190080&Ee)>>24)}function x$2(Ee){return y$3(Ee).map(A$1).join("")}var S=function(Ee){for(var _e=0;_e<Ee.length;_e++)Ee[_e]=L$1(Ee[_e]);return Ee.join("")}(y$3("hello"))!="5d41402abc4b2a76b9719d911017c592";function _$1(Ee,_e){if(S){var Ce=(65535&Ee)+(65535&_e);return(Ee>>16)+(_e>>16)+(Ce>>16)<<16|65535&Ce}return Ee+_e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P$3(Ee,_e){var Ce,Pe,Re,Ie;if(Ee!==Ce){for(var Be=(Re=Ee,Ie=1+(256/Ee.length>>0),new Array(Ie+1).join(Re)),je=[],De=0;De<256;De++)je[De]=De;var Fe=0;for(De=0;De<256;De++){var Oe=je[De];Fe=(Fe+Oe+Be.charCodeAt(De))%256,je[De]=je[Fe],je[Fe]=Oe}Ce=Ee,Pe=je}else je=Pe;var ke=_e.length,Me=0,$e=0,He="";for(De=0;De<ke;De++)$e=($e+(Oe=je[Me=(Me+1)%256]))%256,je[Me]=je[$e],je[$e]=Oe,Be=je[(je[Me]+je[$e])%256],He+=String.fromCharCode(_e.charCodeAt(De)^Be);return He}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k$2={print:4,modify:8,copy:16,"annot-forms":32};function I$1(Ee,_e,Ce,Pe){this.v=1,this.r=2;var Re=192;Ee.forEach(function(je){if(k$2.perm!==void 0)throw new Error("Invalid permission: "+je);Re+=k$2[je]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var Ie=(_e+this.padding).substr(0,32),Be=(Ce+this.padding).substr(0,32);this.O=this.processOwnerPassword(Ie,Be),this.P=-(1+(255^Re)),this.encryptionKey=x$2(Ie+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(Pe)).substr(0,5),this.U=P$3(this.encryptionKey,this.padding)}function F$2(Ee){if(/[^\u0000-\u00ff]/.test(Ee))throw new Error("Invalid PDF Name Object: "+Ee+", Only accept ASCII characters.");for(var _e="",Ce=Ee.length,Pe=0;Pe<Ce;Pe++){var Re=Ee.charCodeAt(Pe);Re<33||Re===35||Re===37||Re===40||Re===41||Re===47||Re===60||Re===62||Re===91||Re===93||Re===123||Re===125||Re>126?_e+="#"+("0"+Re.toString(16)).slice(-2):_e+=Ee[Pe]}return _e}function C(Ee){if(_typeof$1(Ee)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var _e={};this.subscribe=function(Ce,Pe,Re){if(Re=Re||!1,typeof Ce!="string"||typeof Pe!="function"||typeof Re!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");_e.hasOwnProperty(Ce)||(_e[Ce]={});var Ie=Math.random().toString(35);return _e[Ce][Ie]=[Pe,!!Re],Ie},this.unsubscribe=function(Ce){for(var Pe in _e)if(_e[Pe][Ce])return delete _e[Pe][Ce],Object.keys(_e[Pe]).length===0&&delete _e[Pe],!0;return!1},this.publish=function(Ce){if(_e.hasOwnProperty(Ce)){var Pe=Array.prototype.slice.call(arguments,1),Re=[];for(var Ie in _e[Ce]){var Be=_e[Ce][Ie];try{Be[0].apply(Ee,Pe)}catch(je){n$1.console&&a$2.error("jsPDF PubSub Error",je.message,je)}Be[1]&&Re.push(Ie)}Re.length&&Re.forEach(this.unsubscribe)}},this.getTopics=function(){return _e}}function j$1(Ee){if(!(this instanceof j$1))return new j$1(Ee);var _e="opacity,stroke-opacity".split(",");for(var Ce in Ee)Ee.hasOwnProperty(Ce)&&_e.indexOf(Ce)>=0&&(this[Ce]=Ee[Ce]);this.id="",this.objectNumber=-1}function O(Ee,_e){this.gState=Ee,this.matrix=_e,this.id="",this.objectNumber=-1}function B$1(Ee,_e,Ce,Pe,Re){if(!(this instanceof B$1))return new B$1(Ee,_e,Ce,Pe,Re);this.type=Ee==="axial"?2:3,this.coords=_e,this.colors=Ce,O.call(this,Pe,Re)}function M$1(Ee,_e,Ce,Pe,Re){if(!(this instanceof M$1))return new M$1(Ee,_e,Ce,Pe,Re);this.boundingBox=Ee,this.xStep=_e,this.yStep=Ce,this.stream="",this.cloneIndex=0,O.call(this,Pe,Re)}function E(Ee){var _e,Ce=typeof arguments[0]=="string"?arguments[0]:"p",Pe=arguments[1],Re=arguments[2],Ie=arguments[3],Be=[],je=1,De=16,Fe="S",Oe=null;_typeof$1(Ee=Ee||{})==="object"&&(Ce=Ee.orientation,Pe=Ee.unit||Pe,Re=Ee.format||Re,Ie=Ee.compress||Ee.compressPdf||Ie,(Oe=Ee.encryption||null)!==null&&(Oe.userPassword=Oe.userPassword||"",Oe.ownerPassword=Oe.ownerPassword||"",Oe.userPermissions=Oe.userPermissions||[]),je=typeof Ee.userUnit=="number"?Math.abs(Ee.userUnit):1,Ee.precision!==void 0&&(_e=Ee.precision),Ee.floatPrecision!==void 0&&(De=Ee.floatPrecision),Fe=Ee.defaultPathOperation||"S"),Be=Ee.filters||(Ie===!0?["FlateEncode"]:Be),Pe=Pe||"mm",Ce=(""+(Ce||"P")).toLowerCase();var ke=Ee.putOnlyUsedFonts||!1,Me={},$e={internal:{},__private__:{}};$e.__private__.PubSub=C;var He="1.3",Qe=$e.__private__.getPdfVersion=function(){return He};$e.__private__.setPdfVersion=function(yr){He=yr};var Ke={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};$e.__private__.getPageFormats=function(){return Ke};var ze=$e.__private__.getPageFormat=function(yr){return Ke[yr]};Re=Re||"a4";var We={COMPAT:"compat",ADVANCED:"advanced"},qe=We.COMPAT;function Ye(){this.saveGraphicsState(),Jr(new Ri(jn,0,0,-jn,0,Do()*jn).toString()+" cm"),this.setFontSize(this.getFontSize()/jn),Fe="n",qe=We.ADVANCED}function Xe(){this.restoreGraphicsState(),Fe="S",qe=We.COMPAT}var rr=$e.__private__.combineFontStyleAndFontWeight=function(yr,Mr){if(yr=="bold"&&Mr=="normal"||yr=="bold"&&Mr==400||yr=="normal"&&Mr=="italic"||yr=="bold"&&Mr=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Mr&&(yr=Mr==400||Mr==="normal"?yr==="italic"?"italic":"normal":Mr!=700&&Mr!=="bold"||yr!=="normal"?(Mr==700?"bold":Mr)+""+yr:"bold"),yr};$e.advancedAPI=function(yr){var Mr=qe===We.COMPAT;return Mr&&Ye.call(this),typeof yr!="function"||(yr(this),Mr&&Xe.call(this)),this},$e.compatAPI=function(yr){var Mr=qe===We.ADVANCED;return Mr&&Xe.call(this),typeof yr!="function"||(yr(this),Mr&&Ye.call(this)),this},$e.isAdvancedAPI=function(){return qe===We.ADVANCED};var Je,er=function(yr){if(qe!==We.ADVANCED)throw new Error(yr+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},or=$e.roundToPrecision=$e.__private__.roundToPrecision=function(yr,Mr){var vn=_e||Mr;if(isNaN(yr)||isNaN(vn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return yr.toFixed(vn).replace(/0+$/,"")};Je=$e.hpf=$e.__private__.hpf=typeof De=="number"?function(yr){if(isNaN(yr))throw new Error("Invalid argument passed to jsPDF.hpf");return or(yr,De)}:De==="smart"?function(yr){if(isNaN(yr))throw new Error("Invalid argument passed to jsPDF.hpf");return or(yr,yr>-1&&yr<1?16:5)}:function(yr){if(isNaN(yr))throw new Error("Invalid argument passed to jsPDF.hpf");return or(yr,16)};var pr=$e.f2=$e.__private__.f2=function(yr){if(isNaN(yr))throw new Error("Invalid argument passed to jsPDF.f2");return or(yr,2)},ar=$e.__private__.f3=function(yr){if(isNaN(yr))throw new Error("Invalid argument passed to jsPDF.f3");return or(yr,3)},fr=$e.scale=$e.__private__.scale=function(yr){if(isNaN(yr))throw new Error("Invalid argument passed to jsPDF.scale");return qe===We.COMPAT?yr*jn:qe===We.ADVANCED?yr:void 0},gr=function(yr){return qe===We.COMPAT?Do()-yr:qe===We.ADVANCED?yr:void 0},Rr=function(yr){return fr(gr(yr))};$e.__private__.setPrecision=$e.setPrecision=function(yr){typeof parseInt(yr,10)=="number"&&(_e=parseInt(yr,10))};var Ir,mr="00000000000000000000000000000000",Er=$e.__private__.getFileId=function(){return mr},Ar=$e.__private__.setFileId=function(yr){return mr=yr!==void 0&&/^[a-fA-F0-9]{32}$/.test(yr)?yr.toUpperCase():mr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Oe!==null&&(oa=new I$1(Oe.userPermissions,Oe.userPassword,Oe.ownerPassword,mr)),mr};$e.setFileId=function(yr){return Ar(yr),this},$e.getFileId=function(){return Er()};var br=$e.__private__.convertDateToPDFDate=function(yr){var Mr=yr.getTimezoneOffset(),vn=Mr<0?"+":"-",Sn=Math.floor(Math.abs(Mr/60)),Nn=Math.abs(Mr%60),ti=[vn,Pr(Sn),"'",Pr(Nn),"'"].join("");return["D:",yr.getFullYear(),Pr(yr.getMonth()+1),Pr(yr.getDate()),Pr(yr.getHours()),Pr(yr.getMinutes()),Pr(yr.getSeconds()),ti].join("")},wr=$e.__private__.convertPDFDateToDate=function(yr){var Mr=parseInt(yr.substr(2,4),10),vn=parseInt(yr.substr(6,2),10)-1,Sn=parseInt(yr.substr(8,2),10),Nn=parseInt(yr.substr(10,2),10),ti=parseInt(yr.substr(12,2),10),_i=parseInt(yr.substr(14,2),10);return new Date(Mr,vn,Sn,Nn,ti,_i,0)},jr=$e.__private__.setCreationDate=function(yr){var Mr;if(yr===void 0&&(yr=new Date),yr instanceof Date)Mr=br(yr);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(yr))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Mr=yr}return Ir=Mr},hr=$e.__private__.getCreationDate=function(yr){var Mr=Ir;return yr==="jsDate"&&(Mr=wr(Ir)),Mr};$e.setCreationDate=function(yr){return jr(yr),this},$e.getCreationDate=function(yr){return hr(yr)};var _r,Pr=$e.__private__.padd2=function(yr){return("0"+parseInt(yr)).slice(-2)},Cr=$e.__private__.padd2Hex=function(yr){return("00"+(yr=yr.toString())).substr(yr.length)},Or=0,Yr=[],qr=[],Kr=0,Zr=[],yn=[],mn=!1,Cn=qr,bn=function(){Or=0,Kr=0,qr=[],Yr=[],Zr=[],Xr=aa(),un=aa()};$e.__private__.setCustomOutputDestination=function(yr){mn=!0,Cn=yr};var wn=function(yr){mn||(Cn=yr)};$e.__private__.resetCustomOutputDestination=function(){mn=!1,Cn=qr};var Jr=$e.__private__.out=function(yr){return yr=yr.toString(),Kr+=yr.length+1,Cn.push(yr),Cn},qn=$e.__private__.write=function(yr){return Jr(arguments.length===1?yr.toString():Array.prototype.join.call(arguments," "))},ci=$e.__private__.getArrayBuffer=function(yr){for(var Mr=yr.length,vn=new ArrayBuffer(Mr),Sn=new Uint8Array(vn);Mr--;)Sn[Mr]=yr.charCodeAt(Mr);return vn},Jn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];$e.__private__.getStandardFonts=function(){return Jn};var ui=Ee.fontSize||16;$e.__private__.setFontSize=$e.setFontSize=function(yr){return ui=qe===We.ADVANCED?yr/jn:yr,this};var li,mi=$e.__private__.getFontSize=$e.getFontSize=function(){return qe===We.COMPAT?ui:ui*jn},wi=Ee.R2L||!1;$e.__private__.setR2L=$e.setR2L=function(yr){return wi=yr,this},$e.__private__.getR2L=$e.getR2L=function(){return wi};var Di,$i=$e.__private__.setZoomMode=function(yr){var Mr=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(yr))li=yr;else if(isNaN(yr)){if(Mr.indexOf(yr)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+yr+'" is not recognized.');li=yr}else li=parseInt(yr,10)};$e.__private__.getZoomMode=function(){return li};var Si,Bi=$e.__private__.setPageMode=function(yr){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(yr)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+yr+'" is not recognized.');Di=yr};$e.__private__.getPageMode=function(){return Di};var Vi=$e.__private__.setLayoutMode=function(yr){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(yr)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+yr+'" is not recognized.');Si=yr};$e.__private__.getLayoutMode=function(){return Si},$e.__private__.setDisplayMode=$e.setDisplayMode=function(yr,Mr,vn){return $i(yr),Vi(Mr),Bi(vn),this};var Pn={title:"",subject:"",author:"",keywords:"",creator:""};$e.__private__.getDocumentProperty=function(yr){if(Object.keys(Pn).indexOf(yr)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pn[yr]},$e.__private__.getDocumentProperties=function(){return Pn},$e.__private__.setDocumentProperties=$e.setProperties=$e.setDocumentProperties=function(yr){for(var Mr in Pn)Pn.hasOwnProperty(Mr)&&yr[Mr]&&(Pn[Mr]=yr[Mr]);return this},$e.__private__.setDocumentProperty=function(yr,Mr){if(Object.keys(Pn).indexOf(yr)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pn[yr]=Mr};var En,jn,ni,ii,Fi,bi={},Wi={},ws=[],Zi={},fa={},vs={},Zs={},Ji=null,Ti=0,xi=[],Ui=new C($e),ss=Ee.hotfixes||[],us={},Js={},Na=[],Ri=function yr(Mr,vn,Sn,Nn,ti,_i){if(!(this instanceof yr))return new yr(Mr,vn,Sn,Nn,ti,_i);isNaN(Mr)&&(Mr=1),isNaN(vn)&&(vn=0),isNaN(Sn)&&(Sn=0),isNaN(Nn)&&(Nn=1),isNaN(ti)&&(ti=0),isNaN(_i)&&(_i=0),this._matrix=[Mr,vn,Sn,Nn,ti,_i]};Object.defineProperty(Ri.prototype,"sx",{get:function(){return this._matrix[0]},set:function(yr){this._matrix[0]=yr}}),Object.defineProperty(Ri.prototype,"shy",{get:function(){return this._matrix[1]},set:function(yr){this._matrix[1]=yr}}),Object.defineProperty(Ri.prototype,"shx",{get:function(){return this._matrix[2]},set:function(yr){this._matrix[2]=yr}}),Object.defineProperty(Ri.prototype,"sy",{get:function(){return this._matrix[3]},set:function(yr){this._matrix[3]=yr}}),Object.defineProperty(Ri.prototype,"tx",{get:function(){return this._matrix[4]},set:function(yr){this._matrix[4]=yr}}),Object.defineProperty(Ri.prototype,"ty",{get:function(){return this._matrix[5]},set:function(yr){this._matrix[5]=yr}}),Object.defineProperty(Ri.prototype,"a",{get:function(){return this._matrix[0]},set:function(yr){this._matrix[0]=yr}}),Object.defineProperty(Ri.prototype,"b",{get:function(){return this._matrix[1]},set:function(yr){this._matrix[1]=yr}}),Object.defineProperty(Ri.prototype,"c",{get:function(){return this._matrix[2]},set:function(yr){this._matrix[2]=yr}}),Object.defineProperty(Ri.prototype,"d",{get:function(){return this._matrix[3]},set:function(yr){this._matrix[3]=yr}}),Object.defineProperty(Ri.prototype,"e",{get:function(){return this._matrix[4]},set:function(yr){this._matrix[4]=yr}}),Object.defineProperty(Ri.prototype,"f",{get:function(){return this._matrix[5]},set:function(yr){this._matrix[5]=yr}}),Object.defineProperty(Ri.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ri.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ri.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ri.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ri.prototype.join=function(yr){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Je).join(yr)},Ri.prototype.multiply=function(yr){var Mr=yr.sx*this.sx+yr.shy*this.shx,vn=yr.sx*this.shy+yr.shy*this.sy,Sn=yr.shx*this.sx+yr.sy*this.shx,Nn=yr.shx*this.shy+yr.sy*this.sy,ti=yr.tx*this.sx+yr.ty*this.shx+this.tx,_i=yr.tx*this.shy+yr.ty*this.sy+this.ty;return new Ri(Mr,vn,Sn,Nn,ti,_i)},Ri.prototype.decompose=function(){var yr=this.sx,Mr=this.shy,vn=this.shx,Sn=this.sy,Nn=this.tx,ti=this.ty,_i=Math.sqrt(yr*yr+Mr*Mr),Ni=(yr/=_i)*vn+(Mr/=_i)*Sn;vn-=yr*Ni,Sn-=Mr*Ni;var ir=Math.sqrt(vn*vn+Sn*Sn);return Ni/=ir,yr*(Sn/=ir)<Mr*(vn/=ir)&&(yr=-yr,Mr=-Mr,Ni=-Ni,_i=-_i),{scale:new Ri(_i,0,0,ir,0,0),translate:new Ri(1,0,0,1,Nn,ti),rotate:new Ri(yr,Mr,-Mr,yr,0,0),skew:new Ri(1,0,Ni,1,0,0)}},Ri.prototype.toString=function(yr){return this.join(" ")},Ri.prototype.inversed=function(){var yr=this.sx,Mr=this.shy,vn=this.shx,Sn=this.sy,Nn=this.tx,ti=this.ty,_i=1/(yr*Sn-Mr*vn),Ni=Sn*_i,ir=-Mr*_i,Tr=-vn*_i,Dr=yr*_i;return new Ri(Ni,ir,Tr,Dr,-Ni*Nn-Tr*ti,-ir*Nn-Dr*ti)},Ri.prototype.applyToPoint=function(yr){var Mr=yr.x*this.sx+yr.y*this.shx+this.tx,vn=yr.x*this.shy+yr.y*this.sy+this.ty;return new Sc(Mr,vn)},Ri.prototype.applyToRectangle=function(yr){var Mr=this.applyToPoint(yr),vn=this.applyToPoint(new Sc(yr.x+yr.w,yr.y+yr.h));return new qc(Mr.x,Mr.y,vn.x-Mr.x,vn.y-Mr.y)},Ri.prototype.clone=function(){var yr=this.sx,Mr=this.shy,vn=this.shx,Sn=this.sy,Nn=this.tx,ti=this.ty;return new Ri(yr,Mr,vn,Sn,Nn,ti)},$e.Matrix=Ri;var Qi=$e.matrixMult=function(yr,Mr){return Mr.multiply(yr)},ks=new Ri(1,0,0,1,0,0);$e.unitMatrix=$e.identityMatrix=ks;var ta=function(yr,Mr){if(!fa[yr]){var vn=(Mr instanceof B$1?"Sh":"P")+(Object.keys(Zi).length+1).toString(10);Mr.id=vn,fa[yr]=vn,Zi[vn]=Mr,Ui.publish("addPattern",Mr)}};$e.ShadingPattern=B$1,$e.TilingPattern=M$1,$e.addShadingPattern=function(yr,Mr){return er("addShadingPattern()"),ta(yr,Mr),this},$e.beginTilingPattern=function(yr){er("beginTilingPattern()"),oc(yr.boundingBox[0],yr.boundingBox[1],yr.boundingBox[2]-yr.boundingBox[0],yr.boundingBox[3]-yr.boundingBox[1],yr.matrix)},$e.endTilingPattern=function(yr,Mr){er("endTilingPattern()"),Mr.stream=yn[_r].join(`
`),ta(yr,Mr),Ui.publish("endTilingPattern",Mr),Na.pop().restore()};var qi=$e.__private__.newObject=function(){var yr=aa();return Ur(yr,!0),yr},aa=$e.__private__.newObjectDeferred=function(){return Or++,Yr[Or]=function(){return Kr},Or},Ur=function(yr,Mr){return Mr=typeof Mr=="boolean"&&Mr,Yr[yr]=Kr,Mr&&Jr(yr+" 0 obj"),yr},An=$e.__private__.newAdditionalObject=function(){var yr={objId:aa(),content:""};return Zr.push(yr),yr},Xr=aa(),un=aa(),pn=$e.__private__.decodeColorString=function(yr){var Mr=yr.split(" ");if(Mr.length!==2||Mr[1]!=="g"&&Mr[1]!=="G")Mr.length===5&&(Mr[4]==="k"||Mr[4]==="K")&&(Mr=[(1-Mr[0])*(1-Mr[3]),(1-Mr[1])*(1-Mr[3]),(1-Mr[2])*(1-Mr[3]),"r"]);else{var vn=parseFloat(Mr[0]);Mr=[vn,vn,vn,"r"]}for(var Sn="#",Nn=0;Nn<3;Nn++)Sn+=("0"+Math.floor(255*parseFloat(Mr[Nn])).toString(16)).slice(-2);return Sn},gn=$e.__private__.encodeColorString=function(yr){var Mr;typeof yr=="string"&&(yr={ch1:yr});var vn=yr.ch1,Sn=yr.ch2,Nn=yr.ch3,ti=yr.ch4,_i=yr.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof vn=="string"&&vn.charAt(0)!=="#"){var Ni=new f$2(vn);if(Ni.ok)vn=Ni.toHex();else if(!/^\d*\.?\d*$/.test(vn))throw new Error('Invalid color "'+vn+'" passed to jsPDF.encodeColorString.')}if(typeof vn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(vn)&&(vn="#"+vn[1]+vn[1]+vn[2]+vn[2]+vn[3]+vn[3]),typeof vn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(vn)){var ir=parseInt(vn.substr(1),16);vn=ir>>16&255,Sn=ir>>8&255,Nn=255&ir}if(Sn===void 0||ti===void 0&&vn===Sn&&Sn===Nn)if(typeof vn=="string")Mr=vn+" "+_i[0];else switch(yr.precision){case 2:Mr=pr(vn/255)+" "+_i[0];break;case 3:default:Mr=ar(vn/255)+" "+_i[0]}else if(ti===void 0||_typeof$1(ti)==="object"){if(ti&&!isNaN(ti.a)&&ti.a===0)return Mr=["1.","1.","1.",_i[1]].join(" ");if(typeof vn=="string")Mr=[vn,Sn,Nn,_i[1]].join(" ");else switch(yr.precision){case 2:Mr=[pr(vn/255),pr(Sn/255),pr(Nn/255),_i[1]].join(" ");break;default:case 3:Mr=[ar(vn/255),ar(Sn/255),ar(Nn/255),_i[1]].join(" ")}}else if(typeof vn=="string")Mr=[vn,Sn,Nn,ti,_i[2]].join(" ");else switch(yr.precision){case 2:Mr=[pr(vn),pr(Sn),pr(Nn),pr(ti),_i[2]].join(" ");break;case 3:default:Mr=[ar(vn),ar(Sn),ar(Nn),ar(ti),_i[2]].join(" ")}return Mr},Un=$e.__private__.getFilters=function(){return Be},Yn=$e.__private__.putStream=function(yr){var Mr=(yr=yr||{}).data||"",vn=yr.filters||Un(),Sn=yr.alreadyAppliedFilters||[],Nn=yr.addLength1||!1,ti=Mr.length,_i=yr.objectId,Ni=function(ls){return ls};if(Oe!==null&&_i===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Oe!==null&&(Ni=oa.encryptor(_i,0));var ir={};vn===!0&&(vn=["FlateEncode"]);var Tr=yr.additionalKeyValues||[],Dr=(ir=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(Mr,vn):{data:Mr,reverseChain:[]}).reverseChain+(Array.isArray(Sn)?Sn.join(" "):Sn.toString());if(ir.data.length!==0&&(Tr.push({key:"Length",value:ir.data.length}),Nn===!0&&Tr.push({key:"Length1",value:ti})),Dr.length!=0)if(Dr.split("/").length-1==1)Tr.push({key:"Filter",value:Dr});else{Tr.push({key:"Filter",value:"["+Dr+"]"});for(var Qr=0;Qr<Tr.length;Qr+=1)if(Tr[Qr].key==="DecodeParms"){for(var Dn=[],Vn=0;Vn<ir.reverseChain.split("/").length-1;Vn+=1)Dn.push("null");Dn.push(Tr[Qr].value),Tr[Qr].value="["+Dn.join(" ")+"]"}}Jr("<<");for(var si=0;si<Tr.length;si++)Jr("/"+Tr[si].key+" "+Tr[si].value);Jr(">>"),ir.data.length!==0&&(Jr("stream"),Jr(Ni(ir.data)),Jr("endstream"))},On=$e.__private__.putPage=function(yr){var Mr=yr.number,vn=yr.data,Sn=yr.objId,Nn=yr.contentsObjId;Ur(Sn,!0),Jr("<</Type /Page"),Jr("/Parent "+yr.rootDictionaryObjId+" 0 R"),Jr("/Resources "+yr.resourceDictionaryObjId+" 0 R"),Jr("/MediaBox ["+parseFloat(Je(yr.mediaBox.bottomLeftX))+" "+parseFloat(Je(yr.mediaBox.bottomLeftY))+" "+Je(yr.mediaBox.topRightX)+" "+Je(yr.mediaBox.topRightY)+"]"),yr.cropBox!==null&&Jr("/CropBox ["+Je(yr.cropBox.bottomLeftX)+" "+Je(yr.cropBox.bottomLeftY)+" "+Je(yr.cropBox.topRightX)+" "+Je(yr.cropBox.topRightY)+"]"),yr.bleedBox!==null&&Jr("/BleedBox ["+Je(yr.bleedBox.bottomLeftX)+" "+Je(yr.bleedBox.bottomLeftY)+" "+Je(yr.bleedBox.topRightX)+" "+Je(yr.bleedBox.topRightY)+"]"),yr.trimBox!==null&&Jr("/TrimBox ["+Je(yr.trimBox.bottomLeftX)+" "+Je(yr.trimBox.bottomLeftY)+" "+Je(yr.trimBox.topRightX)+" "+Je(yr.trimBox.topRightY)+"]"),yr.artBox!==null&&Jr("/ArtBox ["+Je(yr.artBox.bottomLeftX)+" "+Je(yr.artBox.bottomLeftY)+" "+Je(yr.artBox.topRightX)+" "+Je(yr.artBox.topRightY)+"]"),typeof yr.userUnit=="number"&&yr.userUnit!==1&&Jr("/UserUnit "+yr.userUnit),Ui.publish("putPage",{objId:Sn,pageContext:xi[Mr],pageNumber:Mr,page:vn}),Jr("/Contents "+Nn+" 0 R"),Jr(">>"),Jr("endobj");var ti=vn.join(`
`);return qe===We.ADVANCED&&(ti+=`
Q`),Ur(Nn,!0),Yn({data:ti,filters:Un(),objectId:Nn}),Jr("endobj"),Sn},Qn=$e.__private__.putPages=function(){var yr,Mr,vn=[];for(yr=1;yr<=Ti;yr++)xi[yr].objId=aa(),xi[yr].contentsObjId=aa();for(yr=1;yr<=Ti;yr++)vn.push(On({number:yr,data:yn[yr],objId:xi[yr].objId,contentsObjId:xi[yr].contentsObjId,mediaBox:xi[yr].mediaBox,cropBox:xi[yr].cropBox,bleedBox:xi[yr].bleedBox,trimBox:xi[yr].trimBox,artBox:xi[yr].artBox,userUnit:xi[yr].userUnit,rootDictionaryObjId:Xr,resourceDictionaryObjId:un}));Ur(Xr,!0),Jr("<</Type /Pages");var Sn="/Kids [";for(Mr=0;Mr<Ti;Mr++)Sn+=vn[Mr]+" 0 R ";Jr(Sn+"]"),Jr("/Count "+Ti),Jr(">>"),Jr("endobj"),Ui.publish("postPutPages")},Wn=function(yr){Ui.publish("putFont",{font:yr,out:Jr,newObject:qi,putStream:Yn}),yr.isAlreadyPutted!==!0&&(yr.objectNumber=qi(),Jr("<<"),Jr("/Type /Font"),Jr("/BaseFont /"+F$2(yr.postScriptName)),Jr("/Subtype /Type1"),typeof yr.encoding=="string"&&Jr("/Encoding /"+yr.encoding),Jr("/FirstChar 32"),Jr("/LastChar 255"),Jr(">>"),Jr("endobj"))},gi=function(){for(var yr in bi)bi.hasOwnProperty(yr)&&(ke===!1||ke===!0&&Me.hasOwnProperty(yr))&&Wn(bi[yr])},Ci=function(yr){yr.objectNumber=qi();var Mr=[];Mr.push({key:"Type",value:"/XObject"}),Mr.push({key:"Subtype",value:"/Form"}),Mr.push({key:"BBox",value:"["+[Je(yr.x),Je(yr.y),Je(yr.x+yr.width),Je(yr.y+yr.height)].join(" ")+"]"}),Mr.push({key:"Matrix",value:"["+yr.matrix.toString()+"]"});var vn=yr.pages[1].join(`
`);Yn({data:vn,additionalKeyValues:Mr,objectId:yr.objectNumber}),Jr("endobj")},Hi=function(){for(var yr in us)us.hasOwnProperty(yr)&&Ci(us[yr])},Ei=function(yr,Mr){var vn,Sn=[],Nn=1/(Mr-1);for(vn=0;vn<1;vn+=Nn)Sn.push(vn);if(Sn.push(1),yr[0].offset!=0){var ti={offset:0,color:yr[0].color};yr.unshift(ti)}if(yr[yr.length-1].offset!=1){var _i={offset:1,color:yr[yr.length-1].color};yr.push(_i)}for(var Ni="",ir=0,Tr=0;Tr<Sn.length;Tr++){for(vn=Sn[Tr];vn>yr[ir+1].offset;)ir++;var Dr=yr[ir].offset,Qr=(vn-Dr)/(yr[ir+1].offset-Dr),Dn=yr[ir].color,Vn=yr[ir+1].color;Ni+=Cr(Math.round((1-Qr)*Dn[0]+Qr*Vn[0]).toString(16))+Cr(Math.round((1-Qr)*Dn[1]+Qr*Vn[1]).toString(16))+Cr(Math.round((1-Qr)*Dn[2]+Qr*Vn[2]).toString(16))}return Ni.trim()},Li=function(yr,Mr){Mr||(Mr=21);var vn=qi(),Sn=Ei(yr.colors,Mr),Nn=[];Nn.push({key:"FunctionType",value:"0"}),Nn.push({key:"Domain",value:"[0.0 1.0]"}),Nn.push({key:"Size",value:"["+Mr+"]"}),Nn.push({key:"BitsPerSample",value:"8"}),Nn.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Nn.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Yn({data:Sn,additionalKeyValues:Nn,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:vn}),Jr("endobj"),yr.objectNumber=qi(),Jr("<< /ShadingType "+yr.type),Jr("/ColorSpace /DeviceRGB");var ti="/Coords ["+Je(parseFloat(yr.coords[0]))+" "+Je(parseFloat(yr.coords[1]))+" ";yr.type===2?ti+=Je(parseFloat(yr.coords[2]))+" "+Je(parseFloat(yr.coords[3])):ti+=Je(parseFloat(yr.coords[2]))+" "+Je(parseFloat(yr.coords[3]))+" "+Je(parseFloat(yr.coords[4]))+" "+Je(parseFloat(yr.coords[5])),Jr(ti+="]"),yr.matrix&&Jr("/Matrix ["+yr.matrix.toString()+"]"),Jr("/Function "+vn+" 0 R"),Jr("/Extend [true true]"),Jr(">>"),Jr("endobj")},os=function(yr,Mr){var vn=aa(),Sn=qi();Mr.push({resourcesOid:vn,objectOid:Sn}),yr.objectNumber=Sn;var Nn=[];Nn.push({key:"Type",value:"/Pattern"}),Nn.push({key:"PatternType",value:"1"}),Nn.push({key:"PaintType",value:"1"}),Nn.push({key:"TilingType",value:"1"}),Nn.push({key:"BBox",value:"["+yr.boundingBox.map(Je).join(" ")+"]"}),Nn.push({key:"XStep",value:Je(yr.xStep)}),Nn.push({key:"YStep",value:Je(yr.yStep)}),Nn.push({key:"Resources",value:vn+" 0 R"}),yr.matrix&&Nn.push({key:"Matrix",value:"["+yr.matrix.toString()+"]"}),Yn({data:yr.stream,additionalKeyValues:Nn,objectId:yr.objectNumber}),Jr("endobj")},ys=function(yr){var Mr;for(Mr in Zi)Zi.hasOwnProperty(Mr)&&(Zi[Mr]instanceof B$1?Li(Zi[Mr]):Zi[Mr]instanceof M$1&&os(Zi[Mr],yr))},Ss=function(yr){for(var Mr in yr.objectNumber=qi(),Jr("<<"),yr)switch(Mr){case"opacity":Jr("/ca "+pr(yr[Mr]));break;case"stroke-opacity":Jr("/CA "+pr(yr[Mr]))}Jr(">>"),Jr("endobj")},bs=function(){var yr;for(yr in vs)vs.hasOwnProperty(yr)&&Ss(vs[yr])},fo=function(){for(var yr in Jr("/XObject <<"),us)us.hasOwnProperty(yr)&&us[yr].objectNumber>=0&&Jr("/"+yr+" "+us[yr].objectNumber+" 0 R");Ui.publish("putXobjectDict"),Jr(">>")},Co=function(){oa.oid=qi(),Jr("<<"),Jr("/Filter /Standard"),Jr("/V "+oa.v),Jr("/R "+oa.r),Jr("/U <"+oa.toHexString(oa.U)+">"),Jr("/O <"+oa.toHexString(oa.O)+">"),Jr("/P "+oa.P),Jr(">>"),Jr("endobj")},ho=function(){for(var yr in Jr("/Font <<"),bi)bi.hasOwnProperty(yr)&&(ke===!1||ke===!0&&Me.hasOwnProperty(yr))&&Jr("/"+yr+" "+bi[yr].objectNumber+" 0 R");Jr(">>")},Po=function(){if(Object.keys(Zi).length>0){for(var yr in Jr("/Shading <<"),Zi)Zi.hasOwnProperty(yr)&&Zi[yr]instanceof B$1&&Zi[yr].objectNumber>=0&&Jr("/"+yr+" "+Zi[yr].objectNumber+" 0 R");Ui.publish("putShadingPatternDict"),Jr(">>")}},Ao=function(yr){if(Object.keys(Zi).length>0){for(var Mr in Jr("/Pattern <<"),Zi)Zi.hasOwnProperty(Mr)&&Zi[Mr]instanceof $e.TilingPattern&&Zi[Mr].objectNumber>=0&&Zi[Mr].objectNumber<yr&&Jr("/"+Mr+" "+Zi[Mr].objectNumber+" 0 R");Ui.publish("putTilingPatternDict"),Jr(">>")}},Ma=function(){if(Object.keys(vs).length>0){var yr;for(yr in Jr("/ExtGState <<"),vs)vs.hasOwnProperty(yr)&&vs[yr].objectNumber>=0&&Jr("/"+yr+" "+vs[yr].objectNumber+" 0 R");Ui.publish("putGStateDict"),Jr(">>")}},da=function(yr){Ur(yr.resourcesOid,!0),Jr("<<"),Jr("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ho(),Po(),Ao(yr.objectOid),Ma(),fo(),Jr(">>"),Jr("endobj")},po=function(){var yr=[];gi(),bs(),Hi(),ys(yr),Ui.publish("putResources"),yr.forEach(da),da({resourcesOid:un,objectOid:Number.MAX_SAFE_INTEGER}),Ui.publish("postPutResources")},zc=function(){Ui.publish("putAdditionalObjects");for(var yr=0;yr<Zr.length;yr++){var Mr=Zr[yr];Ur(Mr.objId,!0),Jr(Mr.content),Jr("endobj")}Ui.publish("postPutAdditionalObjects")},xc=function(yr){Wi[yr.fontName]=Wi[yr.fontName]||{},Wi[yr.fontName][yr.fontStyle]=yr.id},cl=function(yr,Mr,vn,Sn,Nn){var ti={id:"F"+(Object.keys(bi).length+1).toString(10),postScriptName:yr,fontName:Mr,fontStyle:vn,encoding:Sn,isStandardFont:Nn||!1,metadata:{}};return Ui.publish("addFont",{font:ti,instance:this}),bi[ti.id]=ti,xc(ti),ti.id},Ll=function(yr){for(var Mr=0,vn=Jn.length;Mr<vn;Mr++){var Sn=cl.call(this,yr[Mr][0],yr[Mr][1],yr[Mr][2],Jn[Mr][3],!0);ke===!1&&(Me[Sn]=!0);var Nn=yr[Mr][0].split("-");xc({id:Sn,fontName:Nn[0],fontStyle:Nn[1]||""})}Ui.publish("addFonts",{fonts:bi,dictionary:Wi})},Eo=function(yr){return yr.foo=function(){try{return yr.apply(this,arguments)}catch(Sn){var Mr=Sn.stack||"";~Mr.indexOf(" at ")&&(Mr=Mr.split(" at ")[1]);var vn="Error in function "+Mr.split(`
`)[0].split("<")[0]+": "+Sn.message;if(!n$1.console)throw new Error(vn);n$1.console.error(vn,Sn),n$1.alert&&alert(vn)}},yr.foo.bar=yr,yr.foo},Ua=function(yr,Mr){var vn,Sn,Nn,ti,_i,Ni,ir,Tr,Dr;if(Nn=(Mr=Mr||{}).sourceEncoding||"Unicode",_i=Mr.outputEncoding,(Mr.autoencode||_i)&&bi[En].metadata&&bi[En].metadata[Nn]&&bi[En].metadata[Nn].encoding&&(ti=bi[En].metadata[Nn].encoding,!_i&&bi[En].encoding&&(_i=bi[En].encoding),!_i&&ti.codePages&&(_i=ti.codePages[0]),typeof _i=="string"&&(_i=ti[_i]),_i)){for(ir=!1,Ni=[],vn=0,Sn=yr.length;vn<Sn;vn++)(Tr=_i[yr.charCodeAt(vn)])?Ni.push(String.fromCharCode(Tr)):Ni.push(yr[vn]),Ni[vn].charCodeAt(0)>>8&&(ir=!0);yr=Ni.join("")}for(vn=yr.length;ir===void 0&&vn!==0;)yr.charCodeAt(vn-1)>>8&&(ir=!0),vn--;if(!ir)return yr;for(Ni=Mr.noBOM?[]:[254,255],vn=0,Sn=yr.length;vn<Sn;vn++){if((Dr=(Tr=yr.charCodeAt(vn))>>8)>>8)throw new Error("Character at position "+vn+" of string '"+yr+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ni.push(Dr),Ni.push(Tr-(Dr<<8))}return String.fromCharCode.apply(void 0,Ni)},Ms=$e.__private__.pdfEscape=$e.pdfEscape=function(yr,Mr){return Ua(yr,Mr).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wo=$e.__private__.beginPage=function(yr){yn[++Ti]=[],xi[Ti]={objId:0,contentsObjId:0,userUnit:Number(je),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(yr[0]),topRightY:Number(yr[1])}},gl(Ti),wn(yn[_r])},rc=function(yr,Mr){var vn,Sn,Nn;switch(Ce=Mr||Ce,typeof yr=="string"&&(vn=ze(yr.toLowerCase()),Array.isArray(vn)&&(Sn=vn[0],Nn=vn[1])),Array.isArray(yr)&&(Sn=yr[0]*jn,Nn=yr[1]*jn),isNaN(Sn)&&(Sn=Re[0],Nn=Re[1]),(Sn>14400||Nn>14400)&&(a$2.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Sn=Math.min(14400,Sn),Nn=Math.min(14400,Nn)),Re=[Sn,Nn],Ce.substr(0,1)){case"l":Nn>Sn&&(Re=[Nn,Sn]);break;case"p":Sn>Nn&&(Re=[Nn,Sn])}wo(Re),mu(Ml),Jr(Wa),Ec!==0&&Jr(Ec+" J"),wc!==0&&Jr(wc+" j"),Ui.publish("addPage",{pageNumber:Ti})},nc=function(yr){yr>0&&yr<=Ti&&(yn.splice(yr,1),xi.splice(yr,1),Ti--,_r>Ti&&(_r=Ti),this.setPage(_r))},gl=function(yr){yr>0&&yr<=Ti&&(_r=yr)},Gs=$e.__private__.getNumberOfPages=$e.getNumberOfPages=function(){return yn.length-1},ic=function(yr,Mr,vn){var Sn,Nn=void 0;return vn=vn||{},yr=yr!==void 0?yr:bi[En].fontName,Mr=Mr!==void 0?Mr:bi[En].fontStyle,Sn=yr.toLowerCase(),Wi[Sn]!==void 0&&Wi[Sn][Mr]!==void 0?Nn=Wi[Sn][Mr]:Wi[yr]!==void 0&&Wi[yr][Mr]!==void 0?Nn=Wi[yr][Mr]:vn.disableWarning===!1&&a$2.warn("Unable to look up font label for font '"+yr+"', '"+Mr+"'. Refer to getFontList() for available fonts."),Nn||vn.noFallback||(Nn=Wi.times[Mr])==null&&(Nn=Wi.times.normal),Nn},Go=$e.__private__.putInfo=function(){var yr=qi(),Mr=function(Sn){return Sn};for(var vn in Oe!==null&&(Mr=oa.encryptor(yr,0)),Jr("<<"),Jr("/Producer ("+Ms(Mr("jsPDF "+E.version))+")"),Pn)Pn.hasOwnProperty(vn)&&Pn[vn]&&Jr("/"+vn.substr(0,1).toUpperCase()+vn.substr(1)+" ("+Ms(Mr(Pn[vn]))+")");Jr("/CreationDate ("+Ms(Mr(Ir))+")"),Jr(">>"),Jr("endobj")},qo=$e.__private__.putCatalog=function(yr){var Mr=(yr=yr||{}).rootDictionaryObjId||Xr;switch(qi(),Jr("<<"),Jr("/Type /Catalog"),Jr("/Pages "+Mr+" 0 R"),li||(li="fullwidth"),li){case"fullwidth":Jr("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Jr("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Jr("/OpenAction [3 0 R /Fit]");break;case"original":Jr("/OpenAction [3 0 R /XYZ null null 1]");break;default:var vn=""+li;vn.substr(vn.length-1)==="%"&&(li=parseInt(li)/100),typeof li=="number"&&Jr("/OpenAction [3 0 R /XYZ null null "+pr(li)+"]")}switch(Si||(Si="continuous"),Si){case"continuous":Jr("/PageLayout /OneColumn");break;case"single":Jr("/PageLayout /SinglePage");break;case"two":case"twoleft":Jr("/PageLayout /TwoColumnLeft");break;case"tworight":Jr("/PageLayout /TwoColumnRight")}Di&&Jr("/PageMode /"+Di),Ui.publish("putCatalog"),Jr(">>"),Jr("endobj")},Zu=$e.__private__.putTrailer=function(){Jr("trailer"),Jr("<<"),Jr("/Size "+(Or+1)),Jr("/Root "+Or+" 0 R"),Jr("/Info "+(Or-1)+" 0 R"),Oe!==null&&Jr("/Encrypt "+oa.oid+" 0 R"),Jr("/ID [ <"+mr+"> <"+mr+"> ]"),Jr(">>")},Kc=$e.__private__.putHeader=function(){Jr("%PDF-"+He),Jr("%")},pu=$e.__private__.putXRef=function(){var yr="0000000000";Jr("xref"),Jr("0 "+(Or+1)),Jr("0000000000 65535 f ");for(var Mr=1;Mr<=Or;Mr++)typeof Yr[Mr]=="function"?Jr((yr+Yr[Mr]()).slice(-10)+" 00000 n "):Yr[Mr]!==void 0?Jr((yr+Yr[Mr]).slice(-10)+" 00000 n "):Jr("0000000000 00000 n ")},Ol=$e.__private__.buildDocument=function(){bn(),wn(qr),Ui.publish("buildDocument"),Kc(),Qn(),zc(),po(),Oe!==null&&Co(),Go(),qo();var yr=Kr;return pu(),Zu(),Jr("startxref"),Jr(""+yr),Jr("%%EOF"),wn(yn[_r]),qr.join(`
`)},_c=$e.__private__.getBlob=function(yr){return new Blob([ci(yr)],{type:"application/pdf"})},ul=$e.output=$e.__private__.output=Eo(function(yr,Mr){switch(typeof(Mr=Mr||{})=="string"?Mr={filename:Mr}:Mr.filename=Mr.filename||"generated.pdf",yr){case void 0:return Ol();case"save":$e.save(Mr.filename);break;case"arraybuffer":return ci(Ol());case"blob":return _c(Ol());case"bloburi":case"bloburl":if(n$1.URL!==void 0&&typeof n$1.URL.createObjectURL=="function")return n$1.URL&&n$1.URL.createObjectURL(_c(Ol()))||void 0;a$2.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var vn="",Sn=Ol();try{vn=h$1(Sn)}catch{vn=h$1(unescape(encodeURIComponent(Sn)))}return"data:application/pdf;filename="+Mr.filename+";base64,"+vn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n$1)==="[object Window]"){var Nn="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ti=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Mr.pdfObjectUrl&&(Nn=Mr.pdfObjectUrl,ti="");var _i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Nn+'"'+ti+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Mr)+");<\/script></body></html>",Ni=n$1.open();return Ni!==null&&Ni.document.write(_i),Ni}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n$1)==="[object Window]"){var ir='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Mr.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Mr.filename+'" width="500px" height="400px" /></body></html>',Tr=n$1.open();if(Tr!==null){Tr.document.write(ir);var Dr=this;Tr.document.documentElement.querySelector("#pdfViewer").onload=function(){Tr.document.title=Mr.filename,Tr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Dr.output("bloburl"))}}return Tr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n$1)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Qr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Mr)+'"></iframe></body></html>',Dn=n$1.open();if(Dn!==null&&(Dn.document.write(Qr),Dn.document.title=Mr.filename),Dn||typeof safari>"u")return Dn;break;case"datauri":case"dataurl":return n$1.document.location.href=this.output("datauristring",Mr);default:return null}}),mo=function(yr){return Array.isArray(ss)===!0&&ss.indexOf(yr)>-1};switch(Pe){case"pt":jn=1;break;case"mm":jn=72/25.4;break;case"cm":jn=72/2.54;break;case"in":jn=72;break;case"px":jn=mo("px_scaling")==1?.75:96/72;break;case"pc":case"em":jn=12;break;case"ex":jn=6;break;default:if(typeof Pe!="number")throw new Error("Invalid unit: "+Pe);jn=Pe}var oa=null;jr(),Ar();var Nl=function(yr){return Oe!==null?oa.encryptor(yr,0):function(Mr){return Mr}},vl=$e.__private__.getPageInfo=$e.getPageInfo=function(yr){if(isNaN(yr)||yr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xi[yr].objId,pageNumber:yr,pageContext:xi[yr]}},ts=$e.__private__.getPageInfoByObjId=function(yr){if(isNaN(yr)||yr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Mr in xi)if(xi[Mr].objId===yr)break;return vl(Mr)},yl=$e.__private__.getCurrentPageInfo=$e.getCurrentPageInfo=function(){return{objId:xi[_r].objId,pageNumber:_r,pageContext:xi[_r]}};$e.addPage=function(){return rc.apply(this,arguments),this},$e.setPage=function(){return gl.apply(this,arguments),wn.call(this,yn[_r]),this},$e.insertPage=function(yr){return this.addPage(),this.movePage(_r,yr),this},$e.movePage=function(yr,Mr){var vn,Sn;if(yr>Mr){vn=yn[yr],Sn=xi[yr];for(var Nn=yr;Nn>Mr;Nn--)yn[Nn]=yn[Nn-1],xi[Nn]=xi[Nn-1];yn[Mr]=vn,xi[Mr]=Sn,this.setPage(Mr)}else if(yr<Mr){vn=yn[yr],Sn=xi[yr];for(var ti=yr;ti<Mr;ti++)yn[ti]=yn[ti+1],xi[ti]=xi[ti+1];yn[Mr]=vn,xi[Mr]=Sn,this.setPage(Mr)}return this},$e.deletePage=function(){return nc.apply(this,arguments),this},$e.__private__.text=$e.text=function(yr,Mr,vn,Sn,Nn){var ti,_i,Ni,ir,Tr,Dr,Qr,Dn,Vn,si=(Sn=Sn||{}).scope||this;if(typeof yr=="number"&&typeof Mr=="number"&&(typeof vn=="string"||Array.isArray(vn))){var ls=vn;vn=Mr,Mr=yr,yr=ls}if(arguments[3]instanceof Ri?(er("The transform parameter of text() with a Matrix value"),Vn=Nn):(Ni=arguments[4],ir=arguments[5],_typeof$1(Qr=arguments[3])==="object"&&Qr!==null||(typeof Ni=="string"&&(ir=Ni,Ni=null),typeof Qr=="string"&&(ir=Qr,Qr=null),typeof Qr=="number"&&(Ni=Qr,Qr=null),Sn={flags:Qr,angle:Ni,align:ir})),isNaN(Mr)||isNaN(vn)||yr==null)throw new Error("Invalid arguments passed to jsPDF.text");if(yr.length===0)return si;var Ts="",ps=!1,Ls=typeof Sn.lineHeightFactor=="number"?Sn.lineHeightFactor:Rs,Is=si.internal.scaleFactor;function Sl(Cs){return Cs=Cs.split("	").join(Array(Sn.TabLen||9).join(" ")),Ms(Cs,Qr)}function ra(Cs){for(var Ps,ha=Cs.concat(),ya=[],Tl=ha.length;Tl--;)typeof(Ps=ha.shift())=="string"?ya.push(Ps):Array.isArray(Cs)&&(Ps.length===1||Ps[1]===void 0&&Ps[2]===void 0)?ya.push(Ps[0]):ya.push([Ps[0],Ps[1],Ps[2]]);return ya}function Us(Cs,Ps){var ha;if(typeof Cs=="string")ha=Ps(Cs)[0];else if(Array.isArray(Cs)){for(var ya,Tl,nu=Cs.concat(),fc=[],Bc=nu.length;Bc--;)typeof(ya=nu.shift())=="string"?fc.push(Ps(ya)[0]):Array.isArray(ya)&&typeof ya[0]=="string"&&(Tl=Ps(ya[0],ya[1],ya[2]),fc.push([Tl[0],Tl[1],Tl[2]]));ha=fc}return ha}var Vl=!1,va=!0;if(typeof yr=="string")Vl=!0;else if(Array.isArray(yr)){var Xc=yr.concat();_i=[];for(var Zo,Ta=Xc.length;Ta--;)(typeof(Zo=Xc.shift())!="string"||Array.isArray(Zo)&&typeof Zo[0]!="string")&&(va=!1);Vl=va}if(Vl===!1)throw new Error('Type of text must be string or Array. "'+yr+'" is not recognized.');typeof yr=="string"&&(yr=yr.match(/[\r?\n]/)?yr.split(/\r\n|\r|\n/g):[yr]);var $s=ui/si.internal.scaleFactor,Zc=$s*(Ls-1);switch(Sn.baseline){case"bottom":vn-=Zc;break;case"top":vn+=$s-Zc;break;case"hanging":vn+=$s-2*Zc;break;case"middle":vn+=$s/2-Zc}if((Dr=Sn.maxWidth||0)>0&&(typeof yr=="string"?yr=si.splitTextToSize(yr,Dr):Object.prototype.toString.call(yr)==="[object Array]"&&(yr=yr.reduce(function(Cs,Ps){return Cs.concat(si.splitTextToSize(Ps,Dr))},[]))),ti={text:yr,x:Mr,y:vn,options:Sn,mutex:{pdfEscape:Ms,activeFontKey:En,fonts:bi,activeFontSize:ui}},Ui.publish("preProcessText",ti),yr=ti.text,Ni=(Sn=ti.options).angle,!(Vn instanceof Ri)&&Ni&&typeof Ni=="number"){Ni*=Math.PI/180,Sn.rotationDirection===0&&(Ni=-Ni),qe===We.ADVANCED&&(Ni=-Ni);var Jc=Math.cos(Ni),gu=Math.sin(Ni);Vn=new Ri(Jc,gu,-gu,Jc,0,0)}else Ni&&Ni instanceof Ri&&(Vn=Ni);qe!==We.ADVANCED||Vn||(Vn=ks),(Tr=Sn.charSpace||jo)!==void 0&&(Ts+=Je(fr(Tr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Dn=Sn.horizontalScale)!==void 0&&(Ts+=Je(100*Dn)+` Tz
`),Sn.lang;var $o=-1,rf=Sn.renderingMode!==void 0?Sn.renderingMode:Sn.stroke,nf=si.internal.getCurrentPageInfo().pageContext;switch(rf){case 0:case!1:case"fill":$o=0;break;case 1:case!0:case"stroke":$o=1;break;case 2:case"fillThenStroke":$o=2;break;case 3:case"invisible":$o=3;break;case 4:case"fillAndAddForClipping":$o=4;break;case 5:case"strokeAndAddPathForClipping":$o=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$o=6;break;case 7:case"addToPathForClipping":$o=7}var Sf=nf.usedRenderingMode!==void 0?nf.usedRenderingMode:-1;$o!==-1?Ts+=$o+` Tr
`:Sf!==-1&&(Ts+=`0 Tr
`),$o!==-1&&(nf.usedRenderingMode=$o),ir=Sn.align||"left";var Ca,pa=ui*Ls,Vo=si.internal.pageSize.getWidth(),ja=bi[En];Tr=Sn.charSpace||jo,Dr=Sn.maxWidth||0,Qr=Object.assign({autoencode:!0,noBOM:!0},Sn.flags);var Fo=[],Pc=function(Cs){return si.getStringUnitWidth(Cs,{font:ja,charSpace:Tr,fontSize:ui,doKerning:!1})*ui/Is};if(Object.prototype.toString.call(yr)==="[object Array]"){var Lo;_i=ra(yr),ir!=="left"&&(Ca=_i.map(Pc));var Xa,Rc=0;if(ir==="right"){Mr-=Ca[0],yr=[],Ta=_i.length;for(var Jo=0;Jo<Ta;Jo++)Jo===0?(Xa=Bo(Mr),Lo=Ka(vn)):(Xa=fr(Rc-Ca[Jo]),Lo=-pa),yr.push([_i[Jo],Xa,Lo]),Rc=Ca[Jo]}else if(ir==="center"){Mr-=Ca[0]/2,yr=[],Ta=_i.length;for(var Ho=0;Ho<Ta;Ho++)Ho===0?(Xa=Bo(Mr),Lo=Ka(vn)):(Xa=fr((Rc-Ca[Ho])/2),Lo=-pa),yr.push([_i[Ho],Xa,Lo]),Rc=Ca[Ho]}else if(ir==="left"){yr=[],Ta=_i.length;for(var vo=0;vo<Ta;vo++)yr.push(_i[vo])}else if(ir==="justify"&&ja.encoding==="Identity-H"){yr=[],Ta=_i.length,Dr=Dr!==0?Dr:Vo;for(var Hl=0,Da=0;Da<Ta;Da++)if(Lo=Da===0?Ka(vn):-pa,Xa=Da===0?Bo(Mr):Hl,Da<Ta-1){var el=fr((Dr-Ca[Da])/(_i[Da].split(" ").length-1)),Va=_i[Da].split(" ");yr.push([Va[0]+" ",Xa,Lo]),Hl=0;for(var tl=1;tl<Va.length;tl++){var vu=(Pc(Va[tl-1]+" "+Va[tl])-Pc(Va[tl]))*Is+el;tl==Va.length-1?yr.push([Va[tl],vu,0]):yr.push([Va[tl]+" ",vu,0]),Hl-=vu}}else yr.push([_i[Da],Xa,Lo]);yr.push(["",Hl,0])}else{if(ir!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(yr=[],Ta=_i.length,Dr=Dr!==0?Dr:Vo,Da=0;Da<Ta;Da++)Lo=Da===0?Ka(vn):-pa,Xa=Da===0?Bo(Mr):0,Da<Ta-1?Fo.push(Je(fr((Dr-Ca[Da])/(_i[Da].split(" ").length-1)))):Fo.push(0),yr.push([_i[Da],Xa,Lo])}}var Ga=typeof Sn.R2L=="boolean"?Sn.R2L:wi;Ga===!0&&(yr=Us(yr,function(Cs,Ps,ha){return[Cs.split("").reverse().join(""),Ps,ha]})),ti={text:yr,x:Mr,y:vn,options:Sn,mutex:{pdfEscape:Ms,activeFontKey:En,fonts:bi,activeFontSize:ui}},Ui.publish("postProcessText",ti),yr=ti.text,ps=ti.mutex.isHex||!1;var yu=bi[En].encoding;yu!=="WinAnsiEncoding"&&yu!=="StandardEncoding"||(yr=Us(yr,function(Cs,Ps,ha){return[Sl(Cs),Ps,ha]})),_i=ra(yr),yr=[];for(var eu,tu,Ql,xu=0,_u=1,Ic=Array.isArray(_i[0])?_u:xu,uc="",ru=function(Cs,Ps,ha){var ya="";return ha instanceof Ri?(ha=typeof Sn.angle=="number"?Qi(ha,new Ri(1,0,0,1,Cs,Ps)):Qi(new Ri(1,0,0,1,Cs,Ps),ha),qe===We.ADVANCED&&(ha=Qi(new Ri(1,0,0,-1,0,0),ha)),ya=ha.join(" ")+` Tm
`):ya=Je(Cs)+" "+Je(Ps)+` Td
`,ya},Pa=0;Pa<_i.length;Pa++){switch(uc="",Ic){case _u:Ql=(ps?"<":"(")+_i[Pa][0]+(ps?">":")"),eu=parseFloat(_i[Pa][1]),tu=parseFloat(_i[Pa][2]);break;case xu:Ql=(ps?"<":"(")+_i[Pa]+(ps?">":")"),eu=Bo(Mr),tu=Ka(vn)}Fo!==void 0&&Fo[Pa]!==void 0&&(uc=Fo[Pa]+` Tw
`),Pa===0?yr.push(uc+ru(eu,tu,Vn)+Ql):Ic===xu?yr.push(uc+Ql):Ic===_u&&yr.push(uc+ru(eu,tu,Vn)+Ql)}yr=Ic===xu?yr.join(` Tj
T* `):yr.join(` Tj
`),yr+=` Tj
`;var rl=`BT
/`;return rl+=En+" "+ui+` Tf
`,rl+=Je(ui*Ls)+` TL
`,rl+=wl+`
`,rl+=Ts,rl+=yr,Jr(rl+="ET"),Me[En]=!0,si};var Ju=$e.__private__.clip=$e.clip=function(yr){return Jr(yr==="evenodd"?"W*":"W"),this};$e.clipEvenOdd=function(){return Ju("evenodd")},$e.__private__.discardPath=$e.discardPath=function(){return Jr("n"),this};var Ro=$e.__private__.isValidStyle=function(yr){var Mr=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(yr)!==-1&&(Mr=!0),Mr};$e.__private__.setDefaultPathOperation=$e.setDefaultPathOperation=function(yr){return Ro(yr)&&(Fe=yr),this};var Yo=$e.__private__.getStyle=$e.getStyle=function(yr){var Mr=Fe;switch(yr){case"D":case"S":Mr="S";break;case"F":Mr="f";break;case"FD":case"DF":Mr="B";break;case"f":case"f*":case"B":case"B*":Mr=yr}return Mr},Uo=$e.close=function(){return Jr("h"),this};$e.stroke=function(){return Jr("S"),this},$e.fill=function(yr){return xl("f",yr),this},$e.fillEvenOdd=function(yr){return xl("f*",yr),this},$e.fillStroke=function(yr){return xl("B",yr),this},$e.fillStrokeEvenOdd=function(yr){return xl("B*",yr),this};var xl=function(yr,Mr){_typeof$1(Mr)==="object"?_l(Mr,yr):Jr(yr)},Sa=function(yr){yr===null||qe===We.ADVANCED&&yr===void 0||(yr=Yo(yr),Jr(yr))};function kl(yr,Mr,vn,Sn,Nn){var ti=new M$1(Mr||this.boundingBox,vn||this.xStep,Sn||this.yStep,this.gState,Nn||this.matrix);ti.stream=this.stream;var _i=yr+"$$"+this.cloneIndex+++"$$";return ta(_i,ti),ti}var _l=function(yr,Mr){var vn=fa[yr.key],Sn=Zi[vn];if(Sn instanceof B$1)Jr("q"),Jr(Wc(Mr)),Sn.gState&&$e.setGState(Sn.gState),Jr(yr.matrix.toString()+" cm"),Jr("/"+vn+" sh"),Jr("Q");else if(Sn instanceof M$1){var Nn=new Ri(1,0,0,-1,0,Do());yr.matrix&&(Nn=Nn.multiply(yr.matrix||ks),vn=kl.call(Sn,yr.key,yr.boundingBox,yr.xStep,yr.yStep,Nn).id),Jr("q"),Jr("/Pattern cs"),Jr("/"+vn+" scn"),Sn.gState&&$e.setGState(Sn.gState),Jr(Mr),Jr("Q")}},Wc=function(yr){switch(yr){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Xo=$e.moveTo=function(yr,Mr){return Jr(Je(fr(yr))+" "+Je(Rr(Mr))+" m"),this},Io=$e.lineTo=function(yr,Mr){return Jr(Je(fr(yr))+" "+Je(Rr(Mr))+" l"),this},bl=$e.curveTo=function(yr,Mr,vn,Sn,Nn,ti){return Jr([Je(fr(yr)),Je(Rr(Mr)),Je(fr(vn)),Je(Rr(Sn)),Je(fr(Nn)),Je(Rr(ti)),"c"].join(" ")),this};$e.__private__.line=$e.line=function(yr,Mr,vn,Sn,Nn){if(isNaN(yr)||isNaN(Mr)||isNaN(vn)||isNaN(Sn)||!Ro(Nn))throw new Error("Invalid arguments passed to jsPDF.line");return qe===We.COMPAT?this.lines([[vn-yr,Sn-Mr]],yr,Mr,[1,1],Nn||"S"):this.lines([[vn-yr,Sn-Mr]],yr,Mr,[1,1]).stroke()},$e.__private__.lines=$e.lines=function(yr,Mr,vn,Sn,Nn,ti){var _i,Ni,ir,Tr,Dr,Qr,Dn,Vn,si,ls,Ts,ps;if(typeof yr=="number"&&(ps=vn,vn=Mr,Mr=yr,yr=ps),Sn=Sn||[1,1],ti=ti||!1,isNaN(Mr)||isNaN(vn)||!Array.isArray(yr)||!Array.isArray(Sn)||!Ro(Nn)||typeof ti!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xo(Mr,vn),_i=Sn[0],Ni=Sn[1],Tr=yr.length,ls=Mr,Ts=vn,ir=0;ir<Tr;ir++)(Dr=yr[ir]).length===2?(ls=Dr[0]*_i+ls,Ts=Dr[1]*Ni+Ts,Io(ls,Ts)):(Qr=Dr[0]*_i+ls,Dn=Dr[1]*Ni+Ts,Vn=Dr[2]*_i+ls,si=Dr[3]*Ni+Ts,ls=Dr[4]*_i+ls,Ts=Dr[5]*Ni+Ts,bl(Qr,Dn,Vn,si,ls,Ts));return ti&&Uo(),Sa(Nn),this},$e.path=function(yr){for(var Mr=0;Mr<yr.length;Mr++){var vn=yr[Mr],Sn=vn.c;switch(vn.op){case"m":Xo(Sn[0],Sn[1]);break;case"l":Io(Sn[0],Sn[1]);break;case"c":bl.apply(this,Sn);break;case"h":Uo()}}return this},$e.__private__.rect=$e.rect=function(yr,Mr,vn,Sn,Nn){if(isNaN(yr)||isNaN(Mr)||isNaN(vn)||isNaN(Sn)||!Ro(Nn))throw new Error("Invalid arguments passed to jsPDF.rect");return qe===We.COMPAT&&(Sn=-Sn),Jr([Je(fr(yr)),Je(Rr(Mr)),Je(fr(vn)),Je(fr(Sn)),"re"].join(" ")),Sa(Nn),this},$e.__private__.triangle=$e.triangle=function(yr,Mr,vn,Sn,Nn,ti,_i){if(isNaN(yr)||isNaN(Mr)||isNaN(vn)||isNaN(Sn)||isNaN(Nn)||isNaN(ti)||!Ro(_i))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[vn-yr,Sn-Mr],[Nn-vn,ti-Sn],[yr-Nn,Mr-ti]],yr,Mr,[1,1],_i,!0),this},$e.__private__.roundedRect=$e.roundedRect=function(yr,Mr,vn,Sn,Nn,ti,_i){if(isNaN(yr)||isNaN(Mr)||isNaN(vn)||isNaN(Sn)||isNaN(Nn)||isNaN(ti)||!Ro(_i))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ni=4/3*(Math.SQRT2-1);return Nn=Math.min(Nn,.5*vn),ti=Math.min(ti,.5*Sn),this.lines([[vn-2*Nn,0],[Nn*Ni,0,Nn,ti-ti*Ni,Nn,ti],[0,Sn-2*ti],[0,ti*Ni,-Nn*Ni,ti,-Nn,ti],[2*Nn-vn,0],[-Nn*Ni,0,-Nn,-ti*Ni,-Nn,-ti],[0,2*ti-Sn],[0,-ti*Ni,Nn*Ni,-ti,Nn,-ti]],yr+Nn,Mr,[1,1],_i,!0),this},$e.__private__.ellipse=$e.ellipse=function(yr,Mr,vn,Sn,Nn){if(isNaN(yr)||isNaN(Mr)||isNaN(vn)||isNaN(Sn)||!Ro(Nn))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ti=4/3*(Math.SQRT2-1)*vn,_i=4/3*(Math.SQRT2-1)*Sn;return Xo(yr+vn,Mr),bl(yr+vn,Mr-_i,yr+ti,Mr-Sn,yr,Mr-Sn),bl(yr-ti,Mr-Sn,yr-vn,Mr-_i,yr-vn,Mr),bl(yr-vn,Mr+_i,yr-ti,Mr+Sn,yr,Mr+Sn),bl(yr+ti,Mr+Sn,yr+vn,Mr+_i,yr+vn,Mr),Sa(Nn),this},$e.__private__.circle=$e.circle=function(yr,Mr,vn,Sn){if(isNaN(yr)||isNaN(Mr)||isNaN(vn)||!Ro(Sn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(yr,Mr,vn,vn,Sn)},$e.setFont=function(yr,Mr,vn){return vn&&(Mr=rr(Mr,vn)),En=ic(yr,Mr,{disableWarning:!1}),this};var $a=$e.__private__.getFont=$e.getFont=function(){return bi[ic.apply($e,arguments)]};$e.__private__.getFontList=$e.getFontList=function(){var yr,Mr,vn={};for(yr in Wi)if(Wi.hasOwnProperty(yr))for(Mr in vn[yr]=[],Wi[yr])Wi[yr].hasOwnProperty(Mr)&&vn[yr].push(Mr);return vn},$e.addFont=function(yr,Mr,vn,Sn,Nn){var ti=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ti.indexOf(arguments[3])!==-1?Nn=arguments[3]:arguments[3]&&ti.indexOf(arguments[3])==-1&&(vn=rr(vn,Sn)),Nn=Nn||"Identity-H",cl.call(this,yr,Mr,vn,Nn)};var Rs,Ml=Ee.lineWidth||.200025,El=$e.__private__.getLineWidth=$e.getLineWidth=function(){return Ml},mu=$e.__private__.setLineWidth=$e.setLineWidth=function(yr){return Ml=yr,Jr(Je(fr(yr))+" w"),this};$e.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(yr,Mr){if(yr=yr||[],Mr=Mr||0,isNaN(Mr)||!Array.isArray(yr))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return yr=yr.map(function(vn){return Je(fr(vn))}).join(" "),Mr=Je(fr(Mr)),Jr("["+yr+"] "+Mr+" d"),this};var ga=$e.__private__.getLineHeight=$e.getLineHeight=function(){return ui*Rs};$e.__private__.getLineHeight=$e.getLineHeight=function(){return ui*Rs};var bc=$e.__private__.setLineHeightFactor=$e.setLineHeightFactor=function(yr){return typeof(yr=yr||1.15)=="number"&&(Rs=yr),this},go=$e.__private__.getLineHeightFactor=$e.getLineHeightFactor=function(){return Rs};bc(Ee.lineHeight);var Bo=$e.__private__.getHorizontalCoordinate=function(yr){return fr(yr)},Ka=$e.__private__.getVerticalCoordinate=function(yr){return qe===We.ADVANCED?yr:xi[_r].mediaBox.topRightY-xi[_r].mediaBox.bottomLeftY-fr(yr)},ef=$e.__private__.getHorizontalCoordinateString=$e.getHorizontalCoordinateString=function(yr){return Je(Bo(yr))},sc=$e.__private__.getVerticalCoordinateString=$e.getVerticalCoordinateString=function(yr){return Je(Ka(yr))},Wa=Ee.strokeColor||"0 G";$e.__private__.getStrokeColor=$e.getDrawColor=function(){return pn(Wa)},$e.__private__.setStrokeColor=$e.setDrawColor=function(yr,Mr,vn,Sn){return Wa=gn({ch1:yr,ch2:Mr,ch3:vn,ch4:Sn,pdfColorType:"draw",precision:2}),Jr(Wa),this};var dl=Ee.fillColor||"0 g";$e.__private__.getFillColor=$e.getFillColor=function(){return pn(dl)},$e.__private__.setFillColor=$e.setFillColor=function(yr,Mr,vn,Sn){return dl=gn({ch1:yr,ch2:Mr,ch3:vn,ch4:Sn,pdfColorType:"fill",precision:2}),Jr(dl),this};var wl=Ee.textColor||"0 g",Gc=$e.__private__.getTextColor=$e.getTextColor=function(){return pn(wl)};$e.__private__.setTextColor=$e.setTextColor=function(yr,Mr,vn,Sn){return wl=gn({ch1:yr,ch2:Mr,ch3:vn,ch4:Sn,pdfColorType:"text",precision:3}),this};var jo=Ee.charSpace,Ul=$e.__private__.getCharSpace=$e.getCharSpace=function(){return parseFloat(jo||0)};$e.__private__.setCharSpace=$e.setCharSpace=function(yr){if(isNaN(yr))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return jo=yr,this};var Ec=0;$e.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},$e.__private__.setLineCap=$e.setLineCap=function(yr){var Mr=$e.CapJoinStyles[yr];if(Mr===void 0)throw new Error("Line cap style of '"+yr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ec=Mr,Jr(Mr+" J"),this};var wc=0;$e.__private__.setLineJoin=$e.setLineJoin=function(yr){var Mr=$e.CapJoinStyles[yr];if(Mr===void 0)throw new Error("Line join style of '"+yr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wc=Mr,Jr(Mr+" j"),this},$e.__private__.setLineMiterLimit=$e.__private__.setMiterLimit=$e.setLineMiterLimit=$e.setMiterLimit=function(yr){if(yr=yr||0,isNaN(yr))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Jr(Je(fr(yr))+" M"),this},$e.GState=j$1,$e.setGState=function(yr){(yr=typeof yr=="string"?vs[Zs[yr]]:ac(null,yr)).equals(Ji)||(Jr("/"+yr.id+" gs"),Ji=yr)};var ac=function(yr,Mr){if(!yr||!Zs[yr]){var vn=!1;for(var Sn in vs)if(vs.hasOwnProperty(Sn)&&vs[Sn].equals(Mr)){vn=!0;break}if(vn)Mr=vs[Sn];else{var Nn="GS"+(Object.keys(vs).length+1).toString(10);vs[Nn]=Mr,Mr.id=Nn}return yr&&(Zs[yr]=Mr.id),Ui.publish("addGState",Mr),Mr}};$e.addGState=function(yr,Mr){return ac(yr,Mr),this},$e.saveGraphicsState=function(){return Jr("q"),ws.push({key:En,size:ui,color:wl}),this},$e.restoreGraphicsState=function(){Jr("Q");var yr=ws.pop();return En=yr.key,ui=yr.size,wl=yr.color,Ji=null,this},$e.setCurrentTransformationMatrix=function(yr){return Jr(yr.toString()+" cm"),this},$e.comment=function(yr){return Jr("#"+yr),this};var Sc=function(yr,Mr){var vn=yr||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return vn},set:function(ti){isNaN(ti)||(vn=parseFloat(ti))}});var Sn=Mr||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Sn},set:function(ti){isNaN(ti)||(Sn=parseFloat(ti))}});var Nn="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Nn},set:function(ti){Nn=ti.toString()}}),this},qc=function(yr,Mr,vn,Sn){Sc.call(this,yr,Mr),this.type="rect";var Nn=vn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Nn},set:function(_i){isNaN(_i)||(Nn=parseFloat(_i))}});var ti=Sn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ti},set:function(_i){isNaN(_i)||(ti=parseFloat(_i))}}),this},Tc=function(){this.page=Ti,this.currentPage=_r,this.pages=yn.slice(0),this.pagesContext=xi.slice(0),this.x=ni,this.y=ii,this.matrix=Fi,this.width=cc(_r),this.height=Do(_r),this.outputDestination=Cn,this.id="",this.objectNumber=-1};Tc.prototype.restore=function(){Ti=this.page,_r=this.currentPage,xi=this.pagesContext,yn=this.pages,ni=this.x,ii=this.y,Fi=this.matrix,Cc(_r,this.width),Yc(_r,this.height),Cn=this.outputDestination};var oc=function(yr,Mr,vn,Sn,Nn){Na.push(new Tc),Ti=_r=0,yn=[],ni=yr,ii=Mr,Fi=Nn,wo([vn,Sn])},tf=function(yr){if(Js[yr])Na.pop().restore();else{var Mr=new Tc,vn="Xo"+(Object.keys(us).length+1).toString(10);Mr.id=vn,Js[yr]=vn,us[vn]=Mr,Ui.publish("addFormObject",Mr),Na.pop().restore()}};for(var $l in $e.beginFormObject=function(yr,Mr,vn,Sn,Nn){return oc(yr,Mr,vn,Sn,Nn),this},$e.endFormObject=function(yr){return tf(yr),this},$e.doFormObject=function(yr,Mr){var vn=us[Js[yr]];return Jr("q"),Jr(Mr.toString()+" cm"),Jr("/"+vn.id+" Do"),Jr("Q"),this},$e.getFormObject=function(yr){var Mr=us[Js[yr]];return{x:Mr.x,y:Mr.y,width:Mr.width,height:Mr.height,matrix:Mr.matrix}},$e.save=function(yr,Mr){return yr=yr||"generated.pdf",(Mr=Mr||{}).returnPromise=Mr.returnPromise||!1,Mr.returnPromise===!1?(l$1(_c(Ol()),yr),typeof l$1.unload=="function"&&n$1.setTimeout&&setTimeout(l$1.unload,911),this):new Promise(function(vn,Sn){try{var Nn=l$1(_c(Ol()),yr);typeof l$1.unload=="function"&&n$1.setTimeout&&setTimeout(l$1.unload,911),vn(Nn)}catch(ti){Sn(ti.message)}})},E.API)E.API.hasOwnProperty($l)&&($l==="events"&&E.API.events.length?function(yr,Mr){var vn,Sn,Nn;for(Nn=Mr.length-1;Nn!==-1;Nn--)vn=Mr[Nn][0],Sn=Mr[Nn][1],yr.subscribe.apply(yr,[vn].concat(typeof Sn=="function"?[Sn]:Sn))}(Ui,E.API.events):$e[$l]=E.API[$l]);var cc=$e.getPageWidth=function(yr){return(xi[yr=yr||_r].mediaBox.topRightX-xi[yr].mediaBox.bottomLeftX)/jn},Cc=$e.setPageWidth=function(yr,Mr){xi[yr].mediaBox.topRightX=Mr*jn+xi[yr].mediaBox.bottomLeftX},Do=$e.getPageHeight=function(yr){return(xi[yr=yr||_r].mediaBox.topRightY-xi[yr].mediaBox.bottomLeftY)/jn},Yc=$e.setPageHeight=function(yr,Mr){xi[yr].mediaBox.topRightY=Mr*jn+xi[yr].mediaBox.bottomLeftY};return $e.internal={pdfEscape:Ms,getStyle:Yo,getFont:$a,getFontSize:mi,getCharSpace:Ul,getTextColor:Gc,getLineHeight:ga,getLineHeightFactor:go,getLineWidth:El,write:qn,getHorizontalCoordinate:Bo,getVerticalCoordinate:Ka,getCoordinateString:ef,getVerticalCoordinateString:sc,collections:{},newObject:qi,newAdditionalObject:An,newObjectDeferred:aa,newObjectDeferredBegin:Ur,getFilters:Un,putStream:Yn,events:Ui,scaleFactor:jn,pageSize:{getWidth:function(){return cc(_r)},setWidth:function(yr){Cc(_r,yr)},getHeight:function(){return Do(_r)},setHeight:function(yr){Yc(_r,yr)}},encryptionOptions:Oe,encryption:oa,getEncryptor:Nl,output:ul,getNumberOfPages:Gs,pages:yn,out:Jr,f2:pr,f3:ar,getPageInfo:vl,getPageInfoByObjId:ts,getCurrentPageInfo:yl,getPDFVersion:Qe,Point:Sc,Rectangle:qc,Matrix:Ri,hasHotfix:mo},Object.defineProperty($e.internal.pageSize,"width",{get:function(){return cc(_r)},set:function(yr){Cc(_r,yr)},enumerable:!0,configurable:!0}),Object.defineProperty($e.internal.pageSize,"height",{get:function(){return Do(_r)},set:function(yr){Yc(_r,yr)},enumerable:!0,configurable:!0}),Ll.call($e,Jn),En="F1",rc(Re,Ce),Ui.publish("initialized"),$e}I$1.prototype.lsbFirstWord=function(Ee){return String.fromCharCode(Ee>>0&255,Ee>>8&255,Ee>>16&255,Ee>>24&255)},I$1.prototype.toHexString=function(Ee){return Ee.split("").map(function(_e){return("0"+(255&_e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I$1.prototype.hexToBytes=function(Ee){for(var _e=[],Ce=0;Ce<Ee.length;Ce+=2)_e.push(String.fromCharCode(parseInt(Ee.substr(Ce,2),16)));return _e.join("")},I$1.prototype.processOwnerPassword=function(Ee,_e){return P$3(x$2(_e).substr(0,5),Ee)},I$1.prototype.encryptor=function(Ee,_e){var Ce=x$2(this.encryptionKey+String.fromCharCode(255&Ee,Ee>>8&255,Ee>>16&255,255&_e,_e>>8&255)).substr(0,10);return function(Pe){return P$3(Ce,Pe)}},j$1.prototype.equals=function(Ee){var _e,Ce="id,objectNumber,equals";if(!Ee||_typeof$1(Ee)!==_typeof$1(this))return!1;var Pe=0;for(_e in this)if(!(Ce.indexOf(_e)>=0)){if(this.hasOwnProperty(_e)&&!Ee.hasOwnProperty(_e)||this[_e]!==Ee[_e])return!1;Pe++}for(_e in Ee)Ee.hasOwnProperty(_e)&&Ce.indexOf(_e)<0&&Pe--;return Pe===0},E.API={events:[]},E.version="3.0.1";var q=E.API,D=1,R=function(Ee){return Ee.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(Ee){return Ee.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U$2=function(Ee){return Ee.toFixed(2)},z$1=function(Ee){return Ee.toFixed(5)};q.__acroform__={};var H=function(Ee,_e){Ee.prototype=Object.create(_e.prototype),Ee.prototype.constructor=Ee},W$2=function(Ee){return Ee*D},V$2=function(Ee){var _e=new ut,Ce=At$1.internal.getHeight(Ee)||0,Pe=At$1.internal.getWidth(Ee)||0;return _e.BBox=[0,0,Number(U$2(Pe)),Number(U$2(Ce))],_e},G$1=q.__acroform__.setBit=function(Ee,_e){if(Ee=Ee||0,_e=_e||0,isNaN(Ee)||isNaN(_e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return Ee|=1<<_e},Y$1=q.__acroform__.clearBit=function(Ee,_e){if(Ee=Ee||0,_e=_e||0,isNaN(Ee)||isNaN(_e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return Ee&=~(1<<_e)},J$2=q.__acroform__.getBit=function(Ee,_e){if(isNaN(Ee)||isNaN(_e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(Ee&1<<_e)==0?0:1},X$1=q.__acroform__.getBitForPdf=function(Ee,_e){if(isNaN(Ee)||isNaN(_e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J$2(Ee,_e-1)},K$1=q.__acroform__.setBitForPdf=function(Ee,_e){if(isNaN(Ee)||isNaN(_e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G$1(Ee,_e-1)},Z$1=q.__acroform__.clearBitForPdf=function(Ee,_e){if(isNaN(Ee)||isNaN(_e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y$1(Ee,_e-1)},$$2=q.__acroform__.calculateCoordinates=function(Ee,_e){var Ce=_e.internal.getHorizontalCoordinate,Pe=_e.internal.getVerticalCoordinate,Re=Ee[0],Ie=Ee[1],Be=Ee[2],je=Ee[3],De={};return De.lowerLeft_X=Ce(Re)||0,De.lowerLeft_Y=Pe(Ie+je)||0,De.upperRight_X=Ce(Re+Be)||0,De.upperRight_Y=Pe(Ie)||0,[Number(U$2(De.lowerLeft_X)),Number(U$2(De.lowerLeft_Y)),Number(U$2(De.upperRight_X)),Number(U$2(De.upperRight_Y))]},Q$1=function(Ee){if(Ee.appearanceStreamContent)return Ee.appearanceStreamContent;if(Ee.V||Ee.DV){var _e=[],Ce=Ee._V||Ee.DV,Pe=tt$1(Ee,Ce),Re=Ee.scope.internal.getFont(Ee.fontName,Ee.fontStyle).id;_e.push("/Tx BMC"),_e.push("q"),_e.push("BT"),_e.push(Ee.scope.__private__.encodeColorString(Ee.color)),_e.push("/"+Re+" "+U$2(Pe.fontSize)+" Tf"),_e.push("1 0 0 1 0 0 Tm"),_e.push(Pe.text),_e.push("ET"),_e.push("Q"),_e.push("EMC");var Ie=V$2(Ee);return Ie.scope=Ee.scope,Ie.stream=_e.join(`
`),Ie}},tt$1=function(Ee,_e){var Ce=Ee.fontSize===0?Ee.maxFontSize:Ee.fontSize,Pe={text:"",fontSize:""},Re=(_e=(_e=_e.substr(0,1)=="("?_e.substr(1):_e).substr(_e.length-1)==")"?_e.substr(0,_e.length-1):_e).split(" ");Re=Ee.multiline?Re.map(function(ar){return ar.split(`
`)}):Re.map(function(ar){return[ar]});var Ie=Ce,Be=At$1.internal.getHeight(Ee)||0;Be=Be<0?-Be:Be;var je=At$1.internal.getWidth(Ee)||0;je=je<0?-je:je;var De=function(ar,fr,gr){if(ar+1<Re.length){var Rr=fr+" "+Re[ar+1][0];return et(Rr,Ee,gr).width<=je-4}return!1};Ie++;e:for(;Ie>0;){_e="",Ie--;var Fe,Oe,ke=et("3",Ee,Ie).height,Me=Ee.multiline?Be-Ie:(Be-ke)/2,$e=Me+=2,He=0,Qe=0,Ke=0;if(Ie<=0){_e=`(...) Tj
`,_e+="% Width of Text: "+et(_e,Ee,Ie=12).width+", FieldWidth:"+je+`
`;break}for(var ze="",We=0,qe=0;qe<Re.length;qe++)if(Re.hasOwnProperty(qe)){var Ye=!1;if(Re[qe].length!==1&&Ke!==Re[qe].length-1){if((ke+2)*(We+2)+2>Be)continue e;ze+=Re[qe][Ke],Ye=!0,Qe=qe,qe--}else{ze=(ze+=Re[qe][Ke]+" ").substr(ze.length-1)==" "?ze.substr(0,ze.length-1):ze;var Xe=parseInt(qe),rr=De(Xe,ze,Ie),Je=qe>=Re.length-1;if(rr&&!Je){ze+=" ",Ke=0;continue}if(rr||Je){if(Je)Qe=Xe;else if(Ee.multiline&&(ke+2)*(We+2)+2>Be)continue e}else{if(!Ee.multiline||(ke+2)*(We+2)+2>Be)continue e;Qe=Xe}}for(var er="",or=He;or<=Qe;or++){var pr=Re[or];if(Ee.multiline){if(or===Qe){er+=pr[Ke]+" ",Ke=(Ke+1)%pr.length;continue}if(or===He){er+=pr[pr.length-1]+" ";continue}}er+=pr[0]+" "}switch(er=er.substr(er.length-1)==" "?er.substr(0,er.length-1):er,Oe=et(er,Ee,Ie).width,Ee.textAlign){case"right":Fe=je-Oe-2;break;case"center":Fe=(je-Oe)/2;break;case"left":default:Fe=2}_e+=U$2(Fe)+" "+U$2($e)+` Td
`,_e+="("+R(er)+`) Tj
`,_e+=-U$2(Fe)+` 0 Td
`,$e=-(Ie+2),Oe=0,He=Ye?Qe:Qe+1,We++,ze=""}break}return Pe.text=_e,Pe.fontSize=Ie,Pe},et=function(Ee,_e,Ce){var Pe=_e.scope.internal.getFont(_e.fontName,_e.fontStyle),Re=_e.scope.getStringUnitWidth(Ee,{font:Pe,fontSize:parseFloat(Ce),charSpace:0})*parseFloat(Ce);return{height:_e.scope.getStringUnitWidth("3",{font:Pe,fontSize:parseFloat(Ce),charSpace:0})*parseFloat(Ce)*1.5,width:Re}},rt$1={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt$1=function(Ee,_e){var Ce={type:"reference",object:Ee};_e.internal.getPageInfo(Ee.page).pageContext.annotations.find(function(Pe){return Pe.type===Ce.type&&Pe.object===Ce.object})===void 0&&_e.internal.getPageInfo(Ee.page).pageContext.annotations.push(Ce)},it=function(Ee,_e){for(var Ce in Ee)if(Ee.hasOwnProperty(Ce)){var Pe=Ce,Re=Ee[Ce];_e.internal.newObjectDeferredBegin(Re.objId,!0),_typeof$1(Re)==="object"&&typeof Re.putStream=="function"&&Re.putStream(),delete Ee[Pe]}},at$1=function(Ee,_e){if(_e.scope=Ee,Ee.internal!==void 0&&(Ee.internal.acroformPlugin===void 0||Ee.internal.acroformPlugin.isInitialized===!1)){if(lt$1.FieldNum=0,Ee.internal.acroformPlugin=JSON.parse(JSON.stringify(rt$1)),Ee.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=Ee.internal.scaleFactor,Ee.internal.acroformPlugin.acroFormDictionaryRoot=new ht$1,Ee.internal.acroformPlugin.acroFormDictionaryRoot.scope=Ee,Ee.internal.acroformPlugin.acroFormDictionaryRoot._eventID=Ee.internal.events.subscribe("postPutResources",function(){(function(Ce){Ce.internal.events.unsubscribe(Ce.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete Ce.internal.acroformPlugin.acroFormDictionaryRoot._eventID,Ce.internal.acroformPlugin.printedOut=!0})(Ee)}),Ee.internal.events.subscribe("buildDocument",function(){(function(Ce){Ce.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var Pe=Ce.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Re in Pe)if(Pe.hasOwnProperty(Re)){var Ie=Pe[Re];Ie.objId=void 0,Ie.hasAnnotation&&nt$1(Ie,Ce)}})(Ee)}),Ee.internal.events.subscribe("putCatalog",function(){(function(Ce){if(Ce.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");Ce.internal.write("/AcroForm "+Ce.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(Ee)}),Ee.internal.events.subscribe("postPutPages",function(Ce){(function(Pe,Re){var Ie=!Pe;for(var Be in Pe||(Re.internal.newObjectDeferredBegin(Re.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Re.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),Pe=Pe||Re.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(Pe.hasOwnProperty(Be)){var je=Pe[Be],De=[],Fe=je.Rect;if(je.Rect&&(je.Rect=$$2(je.Rect,Re)),Re.internal.newObjectDeferredBegin(je.objId,!0),je.DA=At$1.createDefaultAppearanceStream(je),_typeof$1(je)==="object"&&typeof je.getKeyValueListForStream=="function"&&(De=je.getKeyValueListForStream()),je.Rect=Fe,je.hasAppearanceStream&&!je.appearanceStreamContent){var Oe=Q$1(je);De.push({key:"AP",value:"<</N "+Oe+">>"}),Re.internal.acroformPlugin.xForms.push(Oe)}if(je.appearanceStreamContent){var ke="";for(var Me in je.appearanceStreamContent)if(je.appearanceStreamContent.hasOwnProperty(Me)){var $e=je.appearanceStreamContent[Me];if(ke+="/"+Me+" ",ke+="<<",Object.keys($e).length>=1||Array.isArray($e)){for(var Be in $e)if($e.hasOwnProperty(Be)){var He=$e[Be];typeof He=="function"&&(He=He.call(Re,je)),ke+="/"+Be+" "+He+" ",Re.internal.acroformPlugin.xForms.indexOf(He)>=0||Re.internal.acroformPlugin.xForms.push(He)}}else typeof(He=$e)=="function"&&(He=He.call(Re,je)),ke+="/"+Be+" "+He,Re.internal.acroformPlugin.xForms.indexOf(He)>=0||Re.internal.acroformPlugin.xForms.push(He);ke+=">>"}De.push({key:"AP",value:`<<
`+ke+">>"})}Re.internal.putStream({additionalKeyValues:De,objectId:je.objId}),Re.internal.out("endobj")}Ie&&it(Re.internal.acroformPlugin.xForms,Re)})(Ce,Ee)}),Ee.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(Ee,_e,Ce){var Pe=function(Be){return Be};if(Array.isArray(Ee)){for(var Re="[",Ie=0;Ie<Ee.length;Ie++)switch(Ie!==0&&(Re+=" "),_typeof$1(Ee[Ie])){case"boolean":case"number":case"object":Re+=Ee[Ie].toString();break;case"string":Ee[Ie].substr(0,1)!=="/"?(_e!==void 0&&Ce&&(Pe=Ce.internal.getEncryptor(_e)),Re+="("+R(Pe(Ee[Ie].toString()))+")"):Re+=Ee[Ie].toString()}return Re+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st$1=function(Ee,_e,Ce){var Pe=function(Re){return Re};return _e!==void 0&&Ce&&(Pe=Ce.internal.getEncryptor(_e)),(Ee=Ee||"").toString(),Ee="("+R(Pe(Ee))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(Ee){this._objId=Ee}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var Ee=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:Ee,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var Ee=[],_e=Object.getOwnPropertyNames(this).filter(function(Ie){return Ie!="content"&&Ie!="appearanceStreamContent"&&Ie!="scope"&&Ie!="objId"&&Ie.substring(0,1)!="_"});for(var Ce in _e)if(Object.getOwnPropertyDescriptor(this,_e[Ce]).configurable===!1){var Pe=_e[Ce],Re=this[Pe];Re&&(Array.isArray(Re)?Ee.push({key:Pe,value:ot(Re,this.objId,this.scope)}):Re instanceof ct?(Re.scope=this.scope,Ee.push({key:Pe,value:Re.objId+" 0 R"})):typeof Re!="function"&&Ee.push({key:Pe,value:Re}))}return Ee};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var Ee,_e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return _e},set:function(Ce){_e=Ce}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(Ce){Ee=Ce.trim()},get:function(){return Ee||null}})};H(ut,ct);var ht$1=function(){ct.call(this);var Ee,_e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return _e.length>0?_e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return _e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(Ee){var Ce=function(Pe){return Pe};return this.scope&&(Ce=this.scope.internal.getEncryptor(this.objId)),"("+R(Ce(Ee))+")"}},set:function(Ce){Ee=Ce}})};H(ht$1,ct);var lt$1=function Ee(){ct.call(this);var _e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return _e},set:function(ze){if(isNaN(ze))throw new Error('Invalid value "'+ze+'" for attribute F supplied.');_e=ze}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X$1(_e,3)},set:function(ze){ze?this.F=K$1(_e,3):this.F=Z$1(_e,3)}});var Ce=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return Ce},set:function(ze){if(isNaN(ze))throw new Error('Invalid value "'+ze+'" for attribute Ff supplied.');Ce=ze}});var Pe=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(Pe.length!==0)return Pe},set:function(ze){Pe=ze!==void 0?ze:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Pe||isNaN(Pe[0])?0:Pe[0]},set:function(ze){Pe[0]=ze}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Pe||isNaN(Pe[1])?0:Pe[1]},set:function(ze){Pe[1]=ze}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Pe||isNaN(Pe[2])?0:Pe[2]},set:function(ze){Pe[2]=ze}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Pe||isNaN(Pe[3])?0:Pe[3]},set:function(ze){Pe[3]=ze}});var Re="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Re},set:function(ze){switch(ze){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Re=ze;break;default:throw new Error('Invalid value "'+ze+'" for attribute FT supplied.')}}});var Ie=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Ie||Ie.length<1){if(this instanceof yt$1)return;Ie="FieldObject"+Ee.FieldNum++}var ze=function(We){return We};return this.scope&&(ze=this.scope.internal.getEncryptor(this.objId)),"("+R(ze(Ie))+")"},set:function(ze){Ie=ze.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Ie},set:function(ze){Ie=ze}});var Be="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Be},set:function(ze){Be=ze}});var je="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return je},set:function(ze){je=ze}});var De=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return De},set:function(ze){De=ze}});var Fe=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Fe===void 0?50/D:Fe},set:function(ze){Fe=ze}});var Oe="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Oe},set:function(ze){Oe=ze}});var ke="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!ke||this instanceof yt$1||this instanceof Nt$1))return st$1(ke,this.objId,this.scope)},set:function(ze){ze=ze.toString(),ke=ze}});var Me=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Me)return this instanceof mt$1?Me:st$1(Me,this.objId,this.scope)},set:function(ze){ze=ze.toString(),Me=this instanceof mt$1?ze:ze.substr(0,1)==="("?T(ze.substr(1,ze.length-2)):T(ze)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt$1?T(Me.substr(1,Me.length-1)):Me},set:function(ze){ze=ze.toString(),Me=this instanceof mt$1?"/"+ze:ze}});var $e=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if($e)return $e},set:function(ze){this.V=ze}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if($e)return this instanceof mt$1?$e:st$1($e,this.objId,this.scope)},set:function(ze){ze=ze.toString(),$e=this instanceof mt$1?ze:ze.substr(0,1)==="("?T(ze.substr(1,ze.length-2)):T(ze)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt$1?T($e.substr(1,$e.length-1)):$e},set:function(ze){ze=ze.toString(),$e=this instanceof mt$1?"/"+ze:ze}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var He,Qe=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Qe},set:function(ze){ze=!!ze,Qe=ze}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(He)return He},set:function(ze){He=ze}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,1)},set:function(ze){ze?this.Ff=K$1(this.Ff,1):this.Ff=Z$1(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,2)},set:function(ze){ze?this.Ff=K$1(this.Ff,2):this.Ff=Z$1(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,3)},set:function(ze){ze?this.Ff=K$1(this.Ff,3):this.Ff=Z$1(this.Ff,3)}});var Ke=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Ke!==null)return Ke},set:function(ze){if([0,1,2].indexOf(ze)===-1)throw new Error('Invalid value "'+ze+'" for attribute Q supplied.');Ke=ze}}),Object.defineProperty(this,"textAlign",{get:function(){var ze;switch(Ke){case 0:default:ze="left";break;case 1:ze="center";break;case 2:ze="right"}return ze},configurable:!0,enumerable:!0,set:function(ze){switch(ze){case"right":case 2:Ke=2;break;case"center":case 1:Ke=1;break;case"left":case 0:default:Ke=0}}})};H(lt$1,ct);var ft=function(){lt$1.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var Ee=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return Ee},set:function(Ce){Ee=Ce}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return Ee},set:function(Ce){Ee=Ce}});var _e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(_e,this.objId,this.scope)},set:function(Ce){var Pe,Re;Re=[],typeof(Pe=Ce)=="string"&&(Re=function(Ie,Be,je){je||(je=1);for(var De,Fe=[];De=Be.exec(Ie);)Fe.push(De[je]);return Fe}(Pe,/\((.*?)\)/g)),_e=Re}}),this.getOptions=function(){return _e},this.setOptions=function(Ce){_e=Ce,this.sort&&_e.sort()},this.addOption=function(Ce){Ce=(Ce=Ce||"").toString(),_e.push(Ce),this.sort&&_e.sort()},this.removeOption=function(Ce,Pe){for(Pe=Pe||!1,Ce=(Ce=Ce||"").toString();_e.indexOf(Ce)!==-1&&(_e.splice(_e.indexOf(Ce),1),Pe!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,18)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,18):this.Ff=Z$1(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,19)},set:function(Ce){this.combo===!0&&(Ce?this.Ff=K$1(this.Ff,19):this.Ff=Z$1(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,20)},set:function(Ce){Ce?(this.Ff=K$1(this.Ff,20),_e.sort()):this.Ff=Z$1(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,22)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,22):this.Ff=Z$1(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,23)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,23):this.Ff=Z$1(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,27)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,27):this.Ff=Z$1(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt$1);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt$1=function(){dt.call(this),this.combo=!0};H(pt$1,dt);var gt$1=function(){pt$1.call(this),this.edit=!0};H(gt$1,pt$1);var mt$1=function(){lt$1.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,15)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,15):this.Ff=Z$1(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,16)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,16):this.Ff=Z$1(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,17)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,17):this.Ff=Z$1(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,26)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,26):this.Ff=Z$1(this.Ff,26)}});var Ee,_e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Ce=function(Ie){return Ie};if(this.scope&&(Ce=this.scope.internal.getEncryptor(this.objId)),Object.keys(_e).length!==0){var Pe,Re=[];for(Pe in Re.push("<<"),_e)Re.push("/"+Pe+" ("+R(Ce(_e[Pe]))+")");return Re.push(">>"),Re.join(`
`)}},set:function(Ce){_typeof$1(Ce)==="object"&&(_e=Ce)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return _e.CA||""},set:function(Ce){typeof Ce=="string"&&(_e.CA=Ce)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ee},set:function(Ce){Ee=Ce}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ee.substr(1,Ee.length-1)},set:function(Ce){Ee="/"+Ce}})};H(mt$1,lt$1);var vt$1=function(){mt$1.call(this),this.pushButton=!0};H(vt$1,mt$1);var bt$1=function(){mt$1.call(this),this.radio=!0,this.pushButton=!1;var Ee=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return Ee},set:function(_e){Ee=_e!==void 0?_e:[]}})};H(bt$1,mt$1);var yt$1=function(){var Ee,_e;lt$1.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return Ee},set:function(Re){Ee=Re}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return _e},set:function(Re){_e=Re}});var Ce,Pe={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Re=function(je){return je};this.scope&&(Re=this.scope.internal.getEncryptor(this.objId));var Ie,Be=[];for(Ie in Be.push("<<"),Pe)Be.push("/"+Ie+" ("+R(Re(Pe[Ie]))+")");return Be.push(">>"),Be.join(`
`)},set:function(Re){_typeof$1(Re)==="object"&&(Pe=Re)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Pe.CA||""},set:function(Re){typeof Re=="string"&&(Pe.CA=Re)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ce},set:function(Re){Ce=Re}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ce.substr(1,Ce.length-1)},set:function(Re){Ce="/"+Re}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At$1.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt$1,lt$1),bt$1.prototype.setAppearance=function(Ee){if(!("createAppearanceStream"in Ee)||!("getCA"in Ee))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var _e in this.Kids)if(this.Kids.hasOwnProperty(_e)){var Ce=this.Kids[_e];Ce.appearanceStreamContent=Ee.createAppearanceStream(Ce.optionName),Ce.caption=Ee.getCA()}},bt$1.prototype.createOption=function(Ee){var _e=new yt$1;return _e.Parent=this,_e.optionName=Ee,this.Kids.push(_e),xt$1.call(this.scope,_e),_e};var wt$1=function(){mt$1.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At$1.CheckBox.createAppearanceStream()};H(wt$1,mt$1);var Nt$1=function(){lt$1.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,13)},set:function(_e){_e?this.Ff=K$1(this.Ff,13):this.Ff=Z$1(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,21)},set:function(_e){_e?this.Ff=K$1(this.Ff,21):this.Ff=Z$1(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,23)},set:function(_e){_e?this.Ff=K$1(this.Ff,23):this.Ff=Z$1(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,24)},set:function(_e){_e?this.Ff=K$1(this.Ff,24):this.Ff=Z$1(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,25)},set:function(_e){_e?this.Ff=K$1(this.Ff,25):this.Ff=Z$1(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,26)},set:function(_e){_e?this.Ff=K$1(this.Ff,26):this.Ff=Z$1(this.Ff,26)}});var Ee=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return Ee},set:function(_e){Ee=_e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return Ee},set:function(_e){Number.isInteger(_e)&&(Ee=_e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt$1,lt$1);var Lt$1=function(){Nt$1.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,14)},set:function(Ee){Ee?this.Ff=K$1(this.Ff,14):this.Ff=Z$1(this.Ff,14)}}),this.password=!0};H(Lt$1,Nt$1);var At$1={CheckBox:{createAppearanceStream:function(){return{N:{On:At$1.CheckBox.YesNormal},D:{On:At$1.CheckBox.YesPushDown,Off:At$1.CheckBox.OffPushDown}}},YesPushDown:function(Ee){var _e=V$2(Ee);_e.scope=Ee.scope;var Ce=[],Pe=Ee.scope.internal.getFont(Ee.fontName,Ee.fontStyle).id,Re=Ee.scope.__private__.encodeColorString(Ee.color),Ie=tt$1(Ee,Ee.caption);return Ce.push("0.749023 g"),Ce.push("0 0 "+U$2(At$1.internal.getWidth(Ee))+" "+U$2(At$1.internal.getHeight(Ee))+" re"),Ce.push("f"),Ce.push("BMC"),Ce.push("q"),Ce.push("0 0 1 rg"),Ce.push("/"+Pe+" "+U$2(Ie.fontSize)+" Tf "+Re),Ce.push("BT"),Ce.push(Ie.text),Ce.push("ET"),Ce.push("Q"),Ce.push("EMC"),_e.stream=Ce.join(`
`),_e},YesNormal:function(Ee){var _e=V$2(Ee);_e.scope=Ee.scope;var Ce=Ee.scope.internal.getFont(Ee.fontName,Ee.fontStyle).id,Pe=Ee.scope.__private__.encodeColorString(Ee.color),Re=[],Ie=At$1.internal.getHeight(Ee),Be=At$1.internal.getWidth(Ee),je=tt$1(Ee,Ee.caption);return Re.push("1 g"),Re.push("0 0 "+U$2(Be)+" "+U$2(Ie)+" re"),Re.push("f"),Re.push("q"),Re.push("0 0 1 rg"),Re.push("0 0 "+U$2(Be-1)+" "+U$2(Ie-1)+" re"),Re.push("W"),Re.push("n"),Re.push("0 g"),Re.push("BT"),Re.push("/"+Ce+" "+U$2(je.fontSize)+" Tf "+Pe),Re.push(je.text),Re.push("ET"),Re.push("Q"),_e.stream=Re.join(`
`),_e},OffPushDown:function(Ee){var _e=V$2(Ee);_e.scope=Ee.scope;var Ce=[];return Ce.push("0.749023 g"),Ce.push("0 0 "+U$2(At$1.internal.getWidth(Ee))+" "+U$2(At$1.internal.getHeight(Ee))+" re"),Ce.push("f"),_e.stream=Ce.join(`
`),_e}},RadioButton:{Circle:{createAppearanceStream:function(Ee){var _e={D:{Off:At$1.RadioButton.Circle.OffPushDown},N:{}};return _e.N[Ee]=At$1.RadioButton.Circle.YesNormal,_e.D[Ee]=At$1.RadioButton.Circle.YesPushDown,_e},getCA:function(){return"l"},YesNormal:function(Ee){var _e=V$2(Ee);_e.scope=Ee.scope;var Ce=[],Pe=At$1.internal.getWidth(Ee)<=At$1.internal.getHeight(Ee)?At$1.internal.getWidth(Ee)/4:At$1.internal.getHeight(Ee)/4;Pe=Number((.9*Pe).toFixed(5));var Re=At$1.internal.Bezier_C,Ie=Number((Pe*Re).toFixed(5));return Ce.push("q"),Ce.push("1 0 0 1 "+z$1(At$1.internal.getWidth(Ee)/2)+" "+z$1(At$1.internal.getHeight(Ee)/2)+" cm"),Ce.push(Pe+" 0 m"),Ce.push(Pe+" "+Ie+" "+Ie+" "+Pe+" 0 "+Pe+" c"),Ce.push("-"+Ie+" "+Pe+" -"+Pe+" "+Ie+" -"+Pe+" 0 c"),Ce.push("-"+Pe+" -"+Ie+" -"+Ie+" -"+Pe+" 0 -"+Pe+" c"),Ce.push(Ie+" -"+Pe+" "+Pe+" -"+Ie+" "+Pe+" 0 c"),Ce.push("f"),Ce.push("Q"),_e.stream=Ce.join(`
`),_e},YesPushDown:function(Ee){var _e=V$2(Ee);_e.scope=Ee.scope;var Ce=[],Pe=At$1.internal.getWidth(Ee)<=At$1.internal.getHeight(Ee)?At$1.internal.getWidth(Ee)/4:At$1.internal.getHeight(Ee)/4;Pe=Number((.9*Pe).toFixed(5));var Re=Number((2*Pe).toFixed(5)),Ie=Number((Re*At$1.internal.Bezier_C).toFixed(5)),Be=Number((Pe*At$1.internal.Bezier_C).toFixed(5));return Ce.push("0.749023 g"),Ce.push("q"),Ce.push("1 0 0 1 "+z$1(At$1.internal.getWidth(Ee)/2)+" "+z$1(At$1.internal.getHeight(Ee)/2)+" cm"),Ce.push(Re+" 0 m"),Ce.push(Re+" "+Ie+" "+Ie+" "+Re+" 0 "+Re+" c"),Ce.push("-"+Ie+" "+Re+" -"+Re+" "+Ie+" -"+Re+" 0 c"),Ce.push("-"+Re+" -"+Ie+" -"+Ie+" -"+Re+" 0 -"+Re+" c"),Ce.push(Ie+" -"+Re+" "+Re+" -"+Ie+" "+Re+" 0 c"),Ce.push("f"),Ce.push("Q"),Ce.push("0 g"),Ce.push("q"),Ce.push("1 0 0 1 "+z$1(At$1.internal.getWidth(Ee)/2)+" "+z$1(At$1.internal.getHeight(Ee)/2)+" cm"),Ce.push(Pe+" 0 m"),Ce.push(Pe+" "+Be+" "+Be+" "+Pe+" 0 "+Pe+" c"),Ce.push("-"+Be+" "+Pe+" -"+Pe+" "+Be+" -"+Pe+" 0 c"),Ce.push("-"+Pe+" -"+Be+" -"+Be+" -"+Pe+" 0 -"+Pe+" c"),Ce.push(Be+" -"+Pe+" "+Pe+" -"+Be+" "+Pe+" 0 c"),Ce.push("f"),Ce.push("Q"),_e.stream=Ce.join(`
`),_e},OffPushDown:function(Ee){var _e=V$2(Ee);_e.scope=Ee.scope;var Ce=[],Pe=At$1.internal.getWidth(Ee)<=At$1.internal.getHeight(Ee)?At$1.internal.getWidth(Ee)/4:At$1.internal.getHeight(Ee)/4;Pe=Number((.9*Pe).toFixed(5));var Re=Number((2*Pe).toFixed(5)),Ie=Number((Re*At$1.internal.Bezier_C).toFixed(5));return Ce.push("0.749023 g"),Ce.push("q"),Ce.push("1 0 0 1 "+z$1(At$1.internal.getWidth(Ee)/2)+" "+z$1(At$1.internal.getHeight(Ee)/2)+" cm"),Ce.push(Re+" 0 m"),Ce.push(Re+" "+Ie+" "+Ie+" "+Re+" 0 "+Re+" c"),Ce.push("-"+Ie+" "+Re+" -"+Re+" "+Ie+" -"+Re+" 0 c"),Ce.push("-"+Re+" -"+Ie+" -"+Ie+" -"+Re+" 0 -"+Re+" c"),Ce.push(Ie+" -"+Re+" "+Re+" -"+Ie+" "+Re+" 0 c"),Ce.push("f"),Ce.push("Q"),_e.stream=Ce.join(`
`),_e}},Cross:{createAppearanceStream:function(Ee){var _e={D:{Off:At$1.RadioButton.Cross.OffPushDown},N:{}};return _e.N[Ee]=At$1.RadioButton.Cross.YesNormal,_e.D[Ee]=At$1.RadioButton.Cross.YesPushDown,_e},getCA:function(){return"8"},YesNormal:function(Ee){var _e=V$2(Ee);_e.scope=Ee.scope;var Ce=[],Pe=At$1.internal.calculateCross(Ee);return Ce.push("q"),Ce.push("1 1 "+U$2(At$1.internal.getWidth(Ee)-2)+" "+U$2(At$1.internal.getHeight(Ee)-2)+" re"),Ce.push("W"),Ce.push("n"),Ce.push(U$2(Pe.x1.x)+" "+U$2(Pe.x1.y)+" m"),Ce.push(U$2(Pe.x2.x)+" "+U$2(Pe.x2.y)+" l"),Ce.push(U$2(Pe.x4.x)+" "+U$2(Pe.x4.y)+" m"),Ce.push(U$2(Pe.x3.x)+" "+U$2(Pe.x3.y)+" l"),Ce.push("s"),Ce.push("Q"),_e.stream=Ce.join(`
`),_e},YesPushDown:function(Ee){var _e=V$2(Ee);_e.scope=Ee.scope;var Ce=At$1.internal.calculateCross(Ee),Pe=[];return Pe.push("0.749023 g"),Pe.push("0 0 "+U$2(At$1.internal.getWidth(Ee))+" "+U$2(At$1.internal.getHeight(Ee))+" re"),Pe.push("f"),Pe.push("q"),Pe.push("1 1 "+U$2(At$1.internal.getWidth(Ee)-2)+" "+U$2(At$1.internal.getHeight(Ee)-2)+" re"),Pe.push("W"),Pe.push("n"),Pe.push(U$2(Ce.x1.x)+" "+U$2(Ce.x1.y)+" m"),Pe.push(U$2(Ce.x2.x)+" "+U$2(Ce.x2.y)+" l"),Pe.push(U$2(Ce.x4.x)+" "+U$2(Ce.x4.y)+" m"),Pe.push(U$2(Ce.x3.x)+" "+U$2(Ce.x3.y)+" l"),Pe.push("s"),Pe.push("Q"),_e.stream=Pe.join(`
`),_e},OffPushDown:function(Ee){var _e=V$2(Ee);_e.scope=Ee.scope;var Ce=[];return Ce.push("0.749023 g"),Ce.push("0 0 "+U$2(At$1.internal.getWidth(Ee))+" "+U$2(At$1.internal.getHeight(Ee))+" re"),Ce.push("f"),_e.stream=Ce.join(`
`),_e}}},createDefaultAppearanceStream:function(Ee){var _e=Ee.scope.internal.getFont(Ee.fontName,Ee.fontStyle).id,Ce=Ee.scope.__private__.encodeColorString(Ee.color);return"/"+_e+" "+Ee.fontSize+" Tf "+Ce}};At$1.internal={Bezier_C:.551915024494,calculateCross:function(Ee){var _e=At$1.internal.getWidth(Ee),Ce=At$1.internal.getHeight(Ee),Pe=Math.min(_e,Ce);return{x1:{x:(_e-Pe)/2,y:(Ce-Pe)/2+Pe},x2:{x:(_e-Pe)/2+Pe,y:(Ce-Pe)/2},x3:{x:(_e-Pe)/2,y:(Ce-Pe)/2},x4:{x:(_e-Pe)/2+Pe,y:(Ce-Pe)/2+Pe}}}},At$1.internal.getWidth=function(Ee){var _e=0;return _typeof$1(Ee)==="object"&&(_e=W$2(Ee.Rect[2])),_e},At$1.internal.getHeight=function(Ee){var _e=0;return _typeof$1(Ee)==="object"&&(_e=W$2(Ee.Rect[3])),_e};var xt$1=q.addField=function(Ee){if(at$1(this,Ee),!(Ee instanceof lt$1))throw new Error("Invalid argument passed to jsPDF.addField.");var _e;return(_e=Ee).scope.internal.acroformPlugin.printedOut&&(_e.scope.internal.acroformPlugin.printedOut=!1,_e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),_e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(_e),Ee.page=Ee.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt$1,q.AcroFormEditBox=gt$1,q.AcroFormButton=mt$1,q.AcroFormPushButton=vt$1,q.AcroFormRadioButton=bt$1,q.AcroFormCheckBox=wt$1,q.AcroFormTextField=Nt$1,q.AcroFormPasswordField=Lt$1,q.AcroFormAppearance=At$1,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt$1,EditBox:gt$1,Button:mt$1,PushButton:vt$1,RadioButton:bt$1,CheckBox:wt$1,TextField:Nt$1,PasswordField:Lt$1,Appearance:At$1},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt$1,EditBox:gt$1,Button:mt$1,PushButton:vt$1,RadioButton:bt$1,CheckBox:wt$1,TextField:Nt$1,PasswordField:Lt$1,Appearance:At$1};var St=E.AcroForm;function _t$1(Ee){return Ee.reduce(function(_e,Ce,Pe){return _e[Ce]=Pe,_e},{})}(function(Ee){Ee.__addimage__={};var _e="UNKNOWN",Ce={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Pe=Ee.__addimage__.getImageFileTypeByImageData=function(ar,fr){var gr,Rr,Ir,mr,Er,Ar=_e;if((fr=fr||_e)==="RGBA"||ar.data!==void 0&&ar.data instanceof Uint8ClampedArray&&"height"in ar&&"width"in ar)return"RGBA";if(rr(ar))for(Er in Ce)for(Ir=Ce[Er],gr=0;gr<Ir.length;gr+=1){for(mr=!0,Rr=0;Rr<Ir[gr].length;Rr+=1)if(Ir[gr][Rr]!==void 0&&Ir[gr][Rr]!==ar[Rr]){mr=!1;break}if(mr===!0){Ar=Er;break}}else for(Er in Ce)for(Ir=Ce[Er],gr=0;gr<Ir.length;gr+=1){for(mr=!0,Rr=0;Rr<Ir[gr].length;Rr+=1)if(Ir[gr][Rr]!==void 0&&Ir[gr][Rr]!==ar.charCodeAt(Rr)){mr=!1;break}if(mr===!0){Ar=Er;break}}return Ar===_e&&fr!==_e&&(Ar=fr),Ar},Re=function ar(fr){for(var gr=this.internal.write,Rr=this.internal.putStream,Ir=(0,this.internal.getFilters)();Ir.indexOf("FlateEncode")!==-1;)Ir.splice(Ir.indexOf("FlateEncode"),1);fr.objectId=this.internal.newObject();var mr=[];if(mr.push({key:"Type",value:"/XObject"}),mr.push({key:"Subtype",value:"/Image"}),mr.push({key:"Width",value:fr.width}),mr.push({key:"Height",value:fr.height}),fr.colorSpace===Ke.INDEXED?mr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(fr.palette.length/3-1)+" "+("sMask"in fr&&fr.sMask!==void 0?fr.objectId+2:fr.objectId+1)+" 0 R]"}):(mr.push({key:"ColorSpace",value:"/"+fr.colorSpace}),fr.colorSpace===Ke.DEVICE_CMYK&&mr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),mr.push({key:"BitsPerComponent",value:fr.bitsPerComponent}),"decodeParameters"in fr&&fr.decodeParameters!==void 0&&mr.push({key:"DecodeParms",value:"<<"+fr.decodeParameters+">>"}),"transparency"in fr&&Array.isArray(fr.transparency)){for(var Er="",Ar=0,br=fr.transparency.length;Ar<br;Ar++)Er+=fr.transparency[Ar]+" "+fr.transparency[Ar]+" ";mr.push({key:"Mask",value:"["+Er+"]"})}fr.sMask!==void 0&&mr.push({key:"SMask",value:fr.objectId+1+" 0 R"});var wr=fr.filter!==void 0?["/"+fr.filter]:void 0;if(Rr({data:fr.data,additionalKeyValues:mr,alreadyAppliedFilters:wr,objectId:fr.objectId}),gr("endobj"),"sMask"in fr&&fr.sMask!==void 0){var jr="/Predictor "+fr.predictor+" /Colors 1 /BitsPerComponent "+fr.bitsPerComponent+" /Columns "+fr.width,hr={width:fr.width,height:fr.height,colorSpace:"DeviceGray",bitsPerComponent:fr.bitsPerComponent,decodeParameters:jr,data:fr.sMask};"filter"in fr&&(hr.filter=fr.filter),ar.call(this,hr)}if(fr.colorSpace===Ke.INDEXED){var _r=this.internal.newObject();Rr({data:er(new Uint8Array(fr.palette)),objectId:_r}),gr("endobj")}},Ie=function(){var ar=this.internal.collections.addImage_images;for(var fr in ar)Re.call(this,ar[fr])},Be=function(){var ar,fr=this.internal.collections.addImage_images,gr=this.internal.write;for(var Rr in fr)gr("/I"+(ar=fr[Rr]).index,ar.objectId,"0","R")},je=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",Ie),this.internal.events.subscribe("putXobjectDict",Be))},De=function(){var ar=this.internal.collections.addImage_images;return je.call(this),ar},Fe=function(){return Object.keys(this.internal.collections.addImage_images).length},Oe=function(ar){return typeof Ee["process"+ar.toUpperCase()]=="function"},ke=function(ar){return _typeof$1(ar)==="object"&&ar.nodeType===1},Me=function(ar,fr){if(ar.nodeName==="IMG"&&ar.hasAttribute("src")){var gr=""+ar.getAttribute("src");if(gr.indexOf("data:image/")===0)return u$2(unescape(gr).split("base64,").pop());var Rr=Ee.loadFile(gr,!0);if(Rr!==void 0)return Rr}if(ar.nodeName==="CANVAS"){if(ar.width===0||ar.height===0)throw new Error("Given canvas must have data. Canvas width: "+ar.width+", height: "+ar.height);var Ir;switch(fr){case"PNG":Ir="image/png";break;case"WEBP":Ir="image/webp";break;case"JPEG":case"JPG":default:Ir="image/jpeg"}return u$2(ar.toDataURL(Ir,1).split("base64,").pop())}},$e=function(ar){var fr=this.internal.collections.addImage_images;if(fr){for(var gr in fr)if(ar===fr[gr].alias)return fr[gr]}},He=function(ar,fr,gr){return ar||fr||(ar=-96,fr=-96),ar<0&&(ar=-1*gr.width*72/ar/this.internal.scaleFactor),fr<0&&(fr=-1*gr.height*72/fr/this.internal.scaleFactor),ar===0&&(ar=fr*gr.width/gr.height),fr===0&&(fr=ar*gr.height/gr.width),[ar,fr]},Qe=function(ar,fr,gr,Rr,Ir,mr){var Er=He.call(this,gr,Rr,Ir),Ar=this.internal.getCoordinateString,br=this.internal.getVerticalCoordinateString,wr=De.call(this);if(gr=Er[0],Rr=Er[1],wr[Ir.index]=Ir,mr){mr*=Math.PI/180;var jr=Math.cos(mr),hr=Math.sin(mr),_r=function(Cr){return Cr.toFixed(4)},Pr=[_r(jr),_r(hr),_r(-1*hr),_r(jr),0,0,"cm"]}this.internal.write("q"),mr?(this.internal.write([1,"0","0",1,Ar(ar),br(fr+Rr),"cm"].join(" ")),this.internal.write(Pr.join(" ")),this.internal.write([Ar(gr),"0","0",Ar(Rr),"0","0","cm"].join(" "))):this.internal.write([Ar(gr),"0","0",Ar(Rr),Ar(ar),br(fr+Rr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ir.index+" Do"),this.internal.write("Q")},Ke=Ee.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};Ee.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ze=Ee.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},We=Ee.__addimage__.sHashCode=function(ar){var fr,gr,Rr=0;if(typeof ar=="string")for(gr=ar.length,fr=0;fr<gr;fr++)Rr=(Rr<<5)-Rr+ar.charCodeAt(fr),Rr|=0;else if(rr(ar))for(gr=ar.byteLength/2,fr=0;fr<gr;fr++)Rr=(Rr<<5)-Rr+ar[fr],Rr|=0;return Rr},qe=Ee.__addimage__.validateStringAsBase64=function(ar){(ar=ar||"").toString().trim();var fr=!0;return ar.length===0&&(fr=!1),ar.length%4!=0&&(fr=!1),/^[A-Za-z0-9+/]+$/.test(ar.substr(0,ar.length-2))===!1&&(fr=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ar.substr(-2))===!1&&(fr=!1),fr},Ye=Ee.__addimage__.extractImageFromDataUrl=function(ar){if(ar==null||!(ar=ar.trim()).startsWith("data:"))return null;var fr=ar.indexOf(",");return fr<0?null:ar.substring(0,fr).trim().endsWith("base64")?ar.substring(fr+1):null},Xe=Ee.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};Ee.__addimage__.isArrayBuffer=function(ar){return Xe()&&ar instanceof ArrayBuffer};var rr=Ee.__addimage__.isArrayBufferView=function(ar){return Xe()&&typeof Uint32Array<"u"&&(ar instanceof Int8Array||ar instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&ar instanceof Uint8ClampedArray||ar instanceof Int16Array||ar instanceof Uint16Array||ar instanceof Int32Array||ar instanceof Uint32Array||ar instanceof Float32Array||ar instanceof Float64Array)},Je=Ee.__addimage__.binaryStringToUint8Array=function(ar){for(var fr=ar.length,gr=new Uint8Array(fr),Rr=0;Rr<fr;Rr++)gr[Rr]=ar.charCodeAt(Rr);return gr},er=Ee.__addimage__.arrayBufferToBinaryString=function(ar){for(var fr="",gr=rr(ar)?ar:new Uint8Array(ar),Rr=0;Rr<gr.length;Rr+=8192)fr+=String.fromCharCode.apply(null,gr.subarray(Rr,Rr+8192));return fr};Ee.addImage=function(){var ar,fr,gr,Rr,Ir,mr,Er,Ar,br;if(typeof arguments[1]=="number"?(fr=_e,gr=arguments[1],Rr=arguments[2],Ir=arguments[3],mr=arguments[4],Er=arguments[5],Ar=arguments[6],br=arguments[7]):(fr=arguments[1],gr=arguments[2],Rr=arguments[3],Ir=arguments[4],mr=arguments[5],Er=arguments[6],Ar=arguments[7],br=arguments[8]),_typeof$1(ar=arguments[0])==="object"&&!ke(ar)&&"imageData"in ar){var wr=ar;ar=wr.imageData,fr=wr.format||fr||_e,gr=wr.x||gr||0,Rr=wr.y||Rr||0,Ir=wr.w||wr.width||Ir,mr=wr.h||wr.height||mr,Er=wr.alias||Er,Ar=wr.compression||Ar,br=wr.rotation||wr.angle||br}var jr=this.internal.getFilters();if(Ar===void 0&&jr.indexOf("FlateEncode")!==-1&&(Ar="SLOW"),isNaN(gr)||isNaN(Rr))throw new Error("Invalid coordinates passed to jsPDF.addImage");je.call(this);var hr=or.call(this,ar,fr,Er,Ar);return Qe.call(this,gr,Rr,Ir,mr,hr,br),this};var or=function(ar,fr,gr,Rr){var Ir,mr,Er;if(typeof ar=="string"&&Pe(ar)===_e){ar=unescape(ar);var Ar=pr(ar,!1);(Ar!==""||(Ar=Ee.loadFile(ar,!0))!==void 0)&&(ar=Ar)}if(ke(ar)&&(ar=Me(ar,fr)),fr=Pe(ar,fr),!Oe(fr))throw new Error("addImage does not support files of type '"+fr+"', please ensure that a plugin for '"+fr+"' support is added.");if(((Er=gr)==null||Er.length===0)&&(gr=function(br){return typeof br=="string"||rr(br)?We(br):rr(br.data)?We(br.data):null}(ar)),(Ir=$e.call(this,gr))||(Xe()&&(ar instanceof Uint8Array||fr==="RGBA"||(mr=ar,ar=Je(ar))),Ir=this["process"+fr.toUpperCase()](ar,Fe.call(this),gr,function(br){return br&&typeof br=="string"&&(br=br.toUpperCase()),br in Ee.image_compression?br:ze.NONE}(Rr),mr)),!Ir)throw new Error("An unknown error occurred whilst processing the image.");return Ir},pr=Ee.__addimage__.convertBase64ToBinaryString=function(ar,fr){fr=typeof fr!="boolean"||fr;var gr,Rr="";if(typeof ar=="string"){var Ir;gr=(Ir=Ye(ar))!==null&&Ir!==void 0?Ir:ar;try{Rr=u$2(gr)}catch(mr){if(fr)throw qe(gr)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+mr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Rr};Ee.getImageProperties=function(ar){var fr,gr,Rr="";if(ke(ar)&&(ar=Me(ar)),typeof ar=="string"&&Pe(ar)===_e&&((Rr=pr(ar,!1))===""&&(Rr=Ee.loadFile(ar)||""),ar=Rr),gr=Pe(ar),!Oe(gr))throw new Error("addImage does not support files of type '"+gr+"', please ensure that a plugin for '"+gr+"' support is added.");if(!Xe()||ar instanceof Uint8Array||(ar=Je(ar)),!(fr=this["process"+gr.toUpperCase()](ar)))throw new Error("An unknown error occurred whilst processing the image");return fr.fileType=gr,fr}})(E.API),function(Ee){var _e=function(Ce){if(Ce!==void 0&&Ce!="")return!0};E.API.events.push(["addPage",function(Ce){this.internal.getPageInfo(Ce.pageNumber).pageContext.annotations=[]}]),Ee.events.push(["putPage",function(Ce){for(var Pe,Re,Ie,Be=this.internal.getCoordinateString,je=this.internal.getVerticalCoordinateString,De=this.internal.getPageInfoByObjId(Ce.objId),Fe=Ce.pageContext.annotations,Oe=!1,ke=0;ke<Fe.length&&!Oe;ke++)switch((Pe=Fe[ke]).type){case"link":(_e(Pe.options.url)||_e(Pe.options.pageNumber))&&(Oe=!0);break;case"reference":case"text":case"freetext":Oe=!0}if(Oe!=0){this.internal.write("/Annots [");for(var Me=0;Me<Fe.length;Me++){Pe=Fe[Me];var $e=this.internal.pdfEscape,He=this.internal.getEncryptor(Ce.objId);switch(Pe.type){case"reference":this.internal.write(" "+Pe.object.objId+" 0 R ");break;case"text":var Qe=this.internal.newAdditionalObject(),Ke=this.internal.newAdditionalObject(),ze=this.internal.getEncryptor(Qe.objId),We=Pe.title||"Note";Ie="<</Type /Annot /Subtype /Text "+(Re="/Rect ["+Be(Pe.bounds.x)+" "+je(Pe.bounds.y+Pe.bounds.h)+" "+Be(Pe.bounds.x+Pe.bounds.w)+" "+je(Pe.bounds.y)+"] ")+"/Contents ("+$e(ze(Pe.contents))+")",Ie+=" /Popup "+Ke.objId+" 0 R",Ie+=" /P "+De.objId+" 0 R",Ie+=" /T ("+$e(ze(We))+") >>",Qe.content=Ie;var qe=Qe.objId+" 0 R";Ie="<</Type /Annot /Subtype /Popup "+(Re="/Rect ["+Be(Pe.bounds.x+30)+" "+je(Pe.bounds.y+Pe.bounds.h)+" "+Be(Pe.bounds.x+Pe.bounds.w+30)+" "+je(Pe.bounds.y)+"] ")+" /Parent "+qe,Pe.open&&(Ie+=" /Open true"),Ie+=" >>",Ke.content=Ie,this.internal.write(Qe.objId,"0 R",Ke.objId,"0 R");break;case"freetext":Re="/Rect ["+Be(Pe.bounds.x)+" "+je(Pe.bounds.y)+" "+Be(Pe.bounds.x+Pe.bounds.w)+" "+je(Pe.bounds.y+Pe.bounds.h)+"] ";var Ye=Pe.color||"#000000";Ie="<</Type /Annot /Subtype /FreeText "+Re+"/Contents ("+$e(He(Pe.contents))+")",Ie+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Ye+")",Ie+=" /Border [0 0 0]",Ie+=" >>",this.internal.write(Ie);break;case"link":if(Pe.options.name){var Xe=this.annotations._nameMap[Pe.options.name];Pe.options.pageNumber=Xe.page,Pe.options.top=Xe.y}else Pe.options.top||(Pe.options.top=0);if(Re="/Rect ["+Pe.finalBounds.x+" "+Pe.finalBounds.y+" "+Pe.finalBounds.w+" "+Pe.finalBounds.h+"] ",Ie="",Pe.options.url)Ie="<</Type /Annot /Subtype /Link "+Re+"/Border [0 0 0] /A <</S /URI /URI ("+$e(He(Pe.options.url))+") >>";else if(Pe.options.pageNumber)switch(Ie="<</Type /Annot /Subtype /Link "+Re+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(Pe.options.pageNumber).objId+" 0 R",Pe.options.magFactor=Pe.options.magFactor||"XYZ",Pe.options.magFactor){case"Fit":Ie+=" /Fit]";break;case"FitH":Ie+=" /FitH "+Pe.options.top+"]";break;case"FitV":Pe.options.left=Pe.options.left||0,Ie+=" /FitV "+Pe.options.left+"]";break;case"XYZ":default:var rr=je(Pe.options.top);Pe.options.left=Pe.options.left||0,Pe.options.zoom===void 0&&(Pe.options.zoom=0),Ie+=" /XYZ "+Pe.options.left+" "+rr+" "+Pe.options.zoom+"]"}Ie!=""&&(Ie+=" >>",this.internal.write(Ie))}}this.internal.write("]")}}]),Ee.createAnnotation=function(Ce){var Pe=this.internal.getCurrentPageInfo();switch(Ce.type){case"link":this.link(Ce.bounds.x,Ce.bounds.y,Ce.bounds.w,Ce.bounds.h,Ce);break;case"text":case"freetext":Pe.pageContext.annotations.push(Ce)}},Ee.link=function(Ce,Pe,Re,Ie,Be){var je=this.internal.getCurrentPageInfo(),De=this.internal.getCoordinateString,Fe=this.internal.getVerticalCoordinateString;je.pageContext.annotations.push({finalBounds:{x:De(Ce),y:Fe(Pe),w:De(Ce+Re),h:Fe(Pe+Ie)},options:Be,type:"link"})},Ee.textWithLink=function(Ce,Pe,Re,Ie){var Be,je,De=this.getTextWidth(Ce),Fe=this.internal.getLineHeight()/this.internal.scaleFactor;if(Ie.maxWidth!==void 0){je=Ie.maxWidth;var Oe=this.splitTextToSize(Ce,je).length;Be=Math.ceil(Fe*Oe)}else je=De,Be=Fe;return this.text(Ce,Pe,Re,Ie),Re+=.2*Fe,Ie.align==="center"&&(Pe-=De/2),Ie.align==="right"&&(Pe-=De),this.link(Pe,Re-Fe,je,Be,Ie),De},Ee.getTextWidth=function(Ce){var Pe=this.internal.getFontSize();return this.getStringUnitWidth(Ce)*Pe/this.internal.scaleFactor}}(E.API),function(Ee){var _e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},Ce={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},Pe={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Re=[1570,1571,1573,1575];Ee.__arabicParser__={};var Ie=Ee.__arabicParser__.isInArabicSubstitutionA=function(Qe){return _e[Qe.charCodeAt(0)]!==void 0},Be=Ee.__arabicParser__.isArabicLetter=function(Qe){return typeof Qe=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Qe)},je=Ee.__arabicParser__.isArabicEndLetter=function(Qe){return Be(Qe)&&Ie(Qe)&&_e[Qe.charCodeAt(0)].length<=2},De=Ee.__arabicParser__.isArabicAlfLetter=function(Qe){return Be(Qe)&&Re.indexOf(Qe.charCodeAt(0))>=0};Ee.__arabicParser__.arabicLetterHasIsolatedForm=function(Qe){return Be(Qe)&&Ie(Qe)&&_e[Qe.charCodeAt(0)].length>=1};var Fe=Ee.__arabicParser__.arabicLetterHasFinalForm=function(Qe){return Be(Qe)&&Ie(Qe)&&_e[Qe.charCodeAt(0)].length>=2};Ee.__arabicParser__.arabicLetterHasInitialForm=function(Qe){return Be(Qe)&&Ie(Qe)&&_e[Qe.charCodeAt(0)].length>=3};var Oe=Ee.__arabicParser__.arabicLetterHasMedialForm=function(Qe){return Be(Qe)&&Ie(Qe)&&_e[Qe.charCodeAt(0)].length==4},ke=Ee.__arabicParser__.resolveLigatures=function(Qe){var Ke=0,ze=Ce,We="",qe=0;for(Ke=0;Ke<Qe.length;Ke+=1)ze[Qe.charCodeAt(Ke)]!==void 0?(qe++,typeof(ze=ze[Qe.charCodeAt(Ke)])=="number"&&(We+=String.fromCharCode(ze),ze=Ce,qe=0),Ke===Qe.length-1&&(ze=Ce,We+=Qe.charAt(Ke-(qe-1)),Ke-=qe-1,qe=0)):(ze=Ce,We+=Qe.charAt(Ke-qe),Ke-=qe,qe=0);return We};Ee.__arabicParser__.isArabicDiacritic=function(Qe){return Qe!==void 0&&Pe[Qe.charCodeAt(0)]!==void 0};var Me=Ee.__arabicParser__.getCorrectForm=function(Qe,Ke,ze){return Be(Qe)?Ie(Qe)===!1?-1:!Fe(Qe)||!Be(Ke)&&!Be(ze)||!Be(ze)&&je(Ke)||je(Qe)&&!Be(Ke)||je(Qe)&&De(Ke)||je(Qe)&&je(Ke)?0:Oe(Qe)&&Be(Ke)&&!je(Ke)&&Be(ze)&&Fe(ze)?3:je(Qe)||!Be(ze)?1:2:-1},$e=function(Qe){var Ke=0,ze=0,We=0,qe="",Ye="",Xe="",rr=(Qe=Qe||"").split("\\s+"),Je=[];for(Ke=0;Ke<rr.length;Ke+=1){for(Je.push(""),ze=0;ze<rr[Ke].length;ze+=1)qe=rr[Ke][ze],Ye=rr[Ke][ze-1],Xe=rr[Ke][ze+1],Be(qe)?(We=Me(qe,Ye,Xe),Je[Ke]+=We!==-1?String.fromCharCode(_e[qe.charCodeAt(0)][We]):qe):Je[Ke]+=qe;Je[Ke]=ke(Je[Ke])}return Je.join(" ")},He=Ee.__arabicParser__.processArabic=Ee.processArabic=function(){var Qe,Ke=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,ze=[];if(Array.isArray(Ke)){var We=0;for(ze=[],We=0;We<Ke.length;We+=1)Array.isArray(Ke[We])?ze.push([$e(Ke[We][0]),Ke[We][1],Ke[We][2]]):ze.push([$e(Ke[We])]);Qe=ze}else Qe=$e(Ke);return typeof arguments[0]=="string"?Qe:(arguments[0].text=Qe,arguments[0])};Ee.events.push(["preProcessText",He])}(E.API),E.API.autoPrint=function(Ee){var _e;switch((Ee=Ee||{}).variant=Ee.variant||"non-conform",Ee.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){_e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+_e+" 0 R")})}return this},function(Ee){var _e=function(){var Ce=void 0;Object.defineProperty(this,"pdf",{get:function(){return Ce},set:function(je){Ce=je}});var Pe=150;Object.defineProperty(this,"width",{get:function(){return Pe},set:function(je){Pe=isNaN(je)||Number.isInteger(je)===!1||je<0?150:je,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=Pe+1)}});var Re=300;Object.defineProperty(this,"height",{get:function(){return Re},set:function(je){Re=isNaN(je)||Number.isInteger(je)===!1||je<0?300:je,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Re+1)}});var Ie=[];Object.defineProperty(this,"childNodes",{get:function(){return Ie},set:function(je){Ie=je}});var Be={};Object.defineProperty(this,"style",{get:function(){return Be},set:function(je){Be=je}}),Object.defineProperty(this,"parentNode",{})};_e.prototype.getContext=function(Ce,Pe){var Re;if((Ce=Ce||"2d")!=="2d")return null;for(Re in Pe)this.pdf.context2d.hasOwnProperty(Re)&&(this.pdf.context2d[Re]=Pe[Re]);return this.pdf.context2d._canvas=this,this.pdf.context2d},_e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},Ee.events.push(["initialized",function(){this.canvas=new _e,this.canvas.pdf=this}])}(E.API),function(Ee){var _e={left:0,top:0,bottom:0,right:0},Ce=!1,Pe=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},_e),this.internal.__cell__.margins.width=this.getPageWidth(),Re.call(this))},Re=function(){this.internal.__cell__.lastCell=new Ie,this.internal.__cell__.pages=1},Ie=function(){var De=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return De},set:function(Qe){De=Qe}});var Fe=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Fe},set:function(Qe){Fe=Qe}});var Oe=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Oe},set:function(Qe){Oe=Qe}});var ke=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return ke},set:function(Qe){ke=Qe}});var Me=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Me},set:function(Qe){Me=Qe}});var $e=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return $e},set:function(Qe){$e=Qe}});var He=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return He},set:function(Qe){He=Qe}}),this};Ie.prototype.clone=function(){return new Ie(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Ie.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},Ee.setHeaderFunction=function(De){return Pe.call(this),this.internal.__cell__.headerFunction=typeof De=="function"?De:void 0,this},Ee.getTextDimensions=function(De,Fe){Pe.call(this);var Oe=(Fe=Fe||{}).fontSize||this.getFontSize(),ke=Fe.font||this.getFont(),Me=Fe.scaleFactor||this.internal.scaleFactor,$e=0,He=0,Qe=0,Ke=this;if(!Array.isArray(De)&&typeof De!="string"){if(typeof De!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");De=String(De)}var ze=Fe.maxWidth;ze>0?typeof De=="string"?De=this.splitTextToSize(De,ze):Object.prototype.toString.call(De)==="[object Array]"&&(De=De.reduce(function(qe,Ye){return qe.concat(Ke.splitTextToSize(Ye,ze))},[])):De=Array.isArray(De)?De:[De];for(var We=0;We<De.length;We++)$e<(Qe=this.getStringUnitWidth(De[We],{font:ke})*Oe)&&($e=Qe);return $e!==0&&(He=De.length),{w:$e/=Me,h:Math.max((He*Oe*this.getLineHeightFactor()-Oe*(this.getLineHeightFactor()-1))/Me,0)}},Ee.cellAddPage=function(){Pe.call(this),this.addPage();var De=this.internal.__cell__.margins||_e;return this.internal.__cell__.lastCell=new Ie(De.left,De.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Be=Ee.cell=function(){var De;De=arguments[0]instanceof Ie?arguments[0]:new Ie(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),Pe.call(this);var Fe=this.internal.__cell__.lastCell,Oe=this.internal.__cell__.padding,ke=this.internal.__cell__.margins||_e,Me=this.internal.__cell__.tableHeaderRow,$e=this.internal.__cell__.printHeaders;return Fe.lineNumber!==void 0&&(Fe.lineNumber===De.lineNumber?(De.x=(Fe.x||0)+(Fe.width||0),De.y=Fe.y||0):Fe.y+Fe.height+De.height+ke.bottom>this.getPageHeight()?(this.cellAddPage(),De.y=ke.top,$e&&Me&&(this.printHeaderRow(De.lineNumber,!0),De.y+=Me[0].height)):De.y=Fe.y+Fe.height||De.y),De.text[0]!==void 0&&(this.rect(De.x,De.y,De.width,De.height,Ce===!0?"FD":void 0),De.align==="right"?this.text(De.text,De.x+De.width-Oe,De.y+Oe,{align:"right",baseline:"top"}):De.align==="center"?this.text(De.text,De.x+De.width/2,De.y+Oe,{align:"center",baseline:"top",maxWidth:De.width-Oe-Oe}):this.text(De.text,De.x+Oe,De.y+Oe,{align:"left",baseline:"top",maxWidth:De.width-Oe-Oe})),this.internal.__cell__.lastCell=De,this};Ee.table=function(De,Fe,Oe,ke,Me){if(Pe.call(this),!Oe)throw new Error("No data for PDF table.");var $e,He,Qe,Ke,ze=[],We=[],qe=[],Ye={},Xe={},rr=[],Je=[],er=(Me=Me||{}).autoSize||!1,or=Me.printHeaders!==!1,pr=Me.css&&Me.css["font-size"]!==void 0?16*Me.css["font-size"]:Me.fontSize||12,ar=Me.margins||Object.assign({width:this.getPageWidth()},_e),fr=typeof Me.padding=="number"?Me.padding:3,gr=Me.headerBackgroundColor||"#c8c8c8",Rr=Me.headerTextColor||"#000";if(Re.call(this),this.internal.__cell__.printHeaders=or,this.internal.__cell__.margins=ar,this.internal.__cell__.table_font_size=pr,this.internal.__cell__.padding=fr,this.internal.__cell__.headerBackgroundColor=gr,this.internal.__cell__.headerTextColor=Rr,this.setFontSize(pr),ke==null)We=ze=Object.keys(Oe[0]),qe=ze.map(function(){return"left"});else if(Array.isArray(ke)&&_typeof$1(ke[0])==="object")for(ze=ke.map(function(wr){return wr.name}),We=ke.map(function(wr){return wr.prompt||wr.name||""}),qe=ke.map(function(wr){return wr.align||"left"}),$e=0;$e<ke.length;$e+=1)Xe[ke[$e].name]=ke[$e].width*(19.049976/25.4);else Array.isArray(ke)&&typeof ke[0]=="string"&&(We=ze=ke,qe=ze.map(function(){return"left"}));if(er||Array.isArray(ke)&&typeof ke[0]=="string")for($e=0;$e<ze.length;$e+=1){for(Ye[Ke=ze[$e]]=Oe.map(function(wr){return wr[Ke]}),this.setFont(void 0,"bold"),rr.push(this.getTextDimensions(We[$e],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),He=Ye[Ke],this.setFont(void 0,"normal"),Qe=0;Qe<He.length;Qe+=1)rr.push(this.getTextDimensions(He[Qe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Xe[Ke]=Math.max.apply(null,rr)+fr+fr,rr=[]}if(or){var Ir={};for($e=0;$e<ze.length;$e+=1)Ir[ze[$e]]={},Ir[ze[$e]].text=We[$e],Ir[ze[$e]].align=qe[$e];var mr=je.call(this,Ir,Xe);Je=ze.map(function(wr){return new Ie(De,Fe,Xe[wr],mr,Ir[wr].text,void 0,Ir[wr].align)}),this.setTableHeaderRow(Je),this.printHeaderRow(1,!1)}var Er=ke.reduce(function(wr,jr){return wr[jr.name]=jr.align,wr},{});for($e=0;$e<Oe.length;$e+=1){"rowStart"in Me&&Me.rowStart instanceof Function&&Me.rowStart({row:$e,data:Oe[$e]},this);var Ar=je.call(this,Oe[$e],Xe);for(Qe=0;Qe<ze.length;Qe+=1){var br=Oe[$e][ze[Qe]];"cellStart"in Me&&Me.cellStart instanceof Function&&Me.cellStart({row:$e,col:Qe,data:br},this),Be.call(this,new Ie(De,Fe,Xe[ze[Qe]],Ar,br,$e+2,Er[ze[Qe]]))}}return this.internal.__cell__.table_x=De,this.internal.__cell__.table_y=Fe,this};var je=function(De,Fe){var Oe=this.internal.__cell__.padding,ke=this.internal.__cell__.table_font_size,Me=this.internal.scaleFactor;return Object.keys(De).map(function($e){var He=De[$e];return this.splitTextToSize(He.hasOwnProperty("text")?He.text:He,Fe[$e]-Oe-Oe)},this).map(function($e){return this.getLineHeightFactor()*$e.length*ke/Me+Oe+Oe},this).reduce(function($e,He){return Math.max($e,He)},0)};Ee.setTableHeaderRow=function(De){Pe.call(this),this.internal.__cell__.tableHeaderRow=De},Ee.printHeaderRow=function(De,Fe){if(Pe.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Oe;if(Ce=!0,typeof this.internal.__cell__.headerFunction=="function"){var ke=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Ie(ke[0],ke[1],ke[2],ke[3],void 0,-1)}this.setFont(void 0,"bold");for(var Me=[],$e=0;$e<this.internal.__cell__.tableHeaderRow.length;$e+=1){Oe=this.internal.__cell__.tableHeaderRow[$e].clone(),Fe&&(Oe.y=this.internal.__cell__.margins.top||0,Me.push(Oe)),Oe.lineNumber=De;var He=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Be.call(this,Oe),this.setTextColor(He)}Me.length>0&&this.setTableHeaderRow(Me),this.setFont(void 0,"normal"),Ce=!1}}(E.API);var Pt$1={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It$1=_t$1(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct$1=_t$1(Ft);function jt(Ee){var _e=Ee.family.replace(/"|'/g,"").toLowerCase(),Ce=function(Ie){return Pt$1[Ie=Ie||"normal"]?Ie:"normal"}(Ee.style),Pe=function(Ie){if(!Ie)return 400;if(typeof Ie=="number")return Ie>=100&&Ie<=900&&Ie%100==0?Ie:400;if(/^\d00$/.test(Ie))return parseInt(Ie);switch(Ie){case"bold":return 700;case"normal":default:return 400}}(Ee.weight),Re=function(Ie){return typeof It$1[Ie=Ie||"normal"]=="number"?Ie:"normal"}(Ee.stretch);return{family:_e,style:Ce,weight:Pe,stretch:Re,src:Ee.src||[],ref:Ee.ref||{name:_e,style:[Re,Ce,Pe].join(" ")}}}function Ot$1(Ee,_e,Ce,Pe){var Re;for(Re=Ce;Re>=0&&Re<_e.length;Re+=Pe)if(Ee[_e[Re]])return Ee[_e[Re]];for(Re=Ce;Re>=0&&Re<_e.length;Re-=Pe)if(Ee[_e[Re]])return Ee[_e[Re]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt$1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et$1(Ee){return[Ee.stretch,Ee.style,Ee.weight,Ee.family].join(" ")}function qt$1(Ee,_e,Ce){for(var Pe=(Ce=Ce||{}).defaultFontFamily||"times",Re=Object.assign({},Bt,Ce.genericFontFamilies||{}),Ie=null,Be=null,je=0;je<_e.length;++je)if(Re[(Ie=jt(_e[je])).family]&&(Ie.family=Re[Ie.family]),Ee.hasOwnProperty(Ie.family)){Be=Ee[Ie.family];break}if(!(Be=Be||Ee[Pe]))throw new Error("Could not find a font-family for the rule '"+Et$1(Ie)+"' and default family '"+Pe+"'.");if(Be=function(De,Fe){if(Fe[De])return Fe[De];var Oe=It$1[De],ke=Oe<=It$1.normal?-1:1,Me=Ot$1(Fe,kt,Oe,ke);if(!Me)throw new Error("Could not find a matching font-stretch value for "+De);return Me}(Ie.stretch,Be),Be=function(De,Fe){if(Fe[De])return Fe[De];for(var Oe=Pt$1[De],ke=0;ke<Oe.length;++ke)if(Fe[Oe[ke]])return Fe[Oe[ke]];throw new Error("Could not find a matching font-style for "+De)}(Ie.style,Be),!(Be=function(De,Fe){if(Fe[De])return Fe[De];if(De===400&&Fe[500])return Fe[500];if(De===500&&Fe[400])return Fe[400];var Oe=Ct$1[De],ke=Ot$1(Fe,Ft,Oe,De<400?-1:1);if(!ke)throw new Error("Could not find a matching font-weight for value "+De);return ke}(Ie.weight,Be)))throw new Error("Failed to resolve a font for the rule '"+Et$1(Ie)+"'.");return Be}function Dt(Ee){return Ee.trimLeft()}function Rt(Ee,_e){for(var Ce=0;Ce<Ee.length;){if(Ee.charAt(Ce)===_e)return[Ee.substring(0,Ce),Ee.substring(Ce+1)];Ce+=1}return null}function Tt(Ee){var _e=Ee.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return _e===null?null:[_e[0],Ee.substring(_e[0].length)]}var Ut,zt,Ht,Wt$1=["times"];(function(Ee){var _e,Ce,Pe,Re,Ie,Be,je,De,Fe,Oe=function(hr){return hr=hr||{},this.isStrokeTransparent=hr.isStrokeTransparent||!1,this.strokeOpacity=hr.strokeOpacity||1,this.strokeStyle=hr.strokeStyle||"#000000",this.fillStyle=hr.fillStyle||"#000000",this.isFillTransparent=hr.isFillTransparent||!1,this.fillOpacity=hr.fillOpacity||1,this.font=hr.font||"10px sans-serif",this.textBaseline=hr.textBaseline||"alphabetic",this.textAlign=hr.textAlign||"left",this.lineWidth=hr.lineWidth||1,this.lineJoin=hr.lineJoin||"miter",this.lineCap=hr.lineCap||"butt",this.path=hr.path||[],this.transform=hr.transform!==void 0?hr.transform.clone():new De,this.globalCompositeOperation=hr.globalCompositeOperation||"normal",this.globalAlpha=hr.globalAlpha||1,this.clip_path=hr.clip_path||[],this.currentPoint=hr.currentPoint||new Be,this.miterLimit=hr.miterLimit||10,this.lastPoint=hr.lastPoint||new Be,this.lineDashOffset=hr.lineDashOffset||0,this.lineDash=hr.lineDash||[],this.margin=hr.margin||[0,0,0,0],this.prevPageLastElemOffset=hr.prevPageLastElemOffset||0,this.ignoreClearRect=typeof hr.ignoreClearRect!="boolean"||hr.ignoreClearRect,this};Ee.events.push(["initialized",function(){this.context2d=new ke(this),_e=this.internal.f2,Ce=this.internal.getCoordinateString,Pe=this.internal.getVerticalCoordinateString,Re=this.internal.getHorizontalCoordinate,Ie=this.internal.getVerticalCoordinate,Be=this.internal.Point,je=this.internal.Rectangle,De=this.internal.Matrix,Fe=new Oe}]);var ke=function(hr){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var _r=hr;Object.defineProperty(this,"pdf",{get:function(){return _r}});var Pr=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Pr},set:function(wn){Pr=!!wn}});var Cr=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Cr},set:function(wn){Cr=!!wn}});var Or=0;Object.defineProperty(this,"posX",{get:function(){return Or},set:function(wn){isNaN(wn)||(Or=wn)}});var Yr=0;Object.defineProperty(this,"posY",{get:function(){return Yr},set:function(wn){isNaN(wn)||(Yr=wn)}}),Object.defineProperty(this,"margin",{get:function(){return Fe.margin},set:function(wn){var Jr;typeof wn=="number"?Jr=[wn,wn,wn,wn]:((Jr=new Array(4))[0]=wn[0],Jr[1]=wn.length>=2?wn[1]:Jr[0],Jr[2]=wn.length>=3?wn[2]:Jr[0],Jr[3]=wn.length>=4?wn[3]:Jr[1]),Fe.margin=Jr}});var qr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return qr},set:function(wn){qr=wn}});var Kr=0;Object.defineProperty(this,"lastBreak",{get:function(){return Kr},set:function(wn){Kr=wn}});var Zr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Zr},set:function(wn){Zr=wn}}),Object.defineProperty(this,"ctx",{get:function(){return Fe},set:function(wn){wn instanceof Oe&&(Fe=wn)}}),Object.defineProperty(this,"path",{get:function(){return Fe.path},set:function(wn){Fe.path=wn}});var yn=[];Object.defineProperty(this,"ctxStack",{get:function(){return yn},set:function(wn){yn=wn}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(wn){var Jr;Jr=Me(wn),this.ctx.fillStyle=Jr.style,this.ctx.isFillTransparent=Jr.a===0,this.ctx.fillOpacity=Jr.a,this.pdf.setFillColor(Jr.r,Jr.g,Jr.b,{a:Jr.a}),this.pdf.setTextColor(Jr.r,Jr.g,Jr.b,{a:Jr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(wn){var Jr=Me(wn);this.ctx.strokeStyle=Jr.style,this.ctx.isStrokeTransparent=Jr.a===0,this.ctx.strokeOpacity=Jr.a,Jr.a===0?this.pdf.setDrawColor(255,255,255):(Jr.a,this.pdf.setDrawColor(Jr.r,Jr.g,Jr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(wn){["butt","round","square"].indexOf(wn)!==-1&&(this.ctx.lineCap=wn,this.pdf.setLineCap(wn))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(wn){isNaN(wn)||(this.ctx.lineWidth=wn,this.pdf.setLineWidth(wn))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(wn){["bevel","round","miter"].indexOf(wn)!==-1&&(this.ctx.lineJoin=wn,this.pdf.setLineJoin(wn))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(wn){isNaN(wn)||(this.ctx.miterLimit=wn,this.pdf.setMiterLimit(wn))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(wn){this.ctx.textBaseline=wn}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(wn){["right","end","center","left","start"].indexOf(wn)!==-1&&(this.ctx.textAlign=wn)}});var mn=null;function Cn(wn,Jr){if(mn===null){var qn=function(ci){var Jn=[];return Object.keys(ci).forEach(function(ui){ci[ui].forEach(function(li){var mi=null;switch(li){case"bold":mi={family:ui,weight:"bold"};break;case"italic":mi={family:ui,style:"italic"};break;case"bolditalic":mi={family:ui,weight:"bold",style:"italic"};break;case"":case"normal":mi={family:ui}}mi!==null&&(mi.ref={name:ui,style:li},Jn.push(mi))})}),Jn}(wn.getFontList());mn=function(ci){for(var Jn={},ui=0;ui<ci.length;++ui){var li=jt(ci[ui]),mi=li.family,wi=li.stretch,Di=li.style,$i=li.weight;Jn[mi]=Jn[mi]||{},Jn[mi][wi]=Jn[mi][wi]||{},Jn[mi][wi][Di]=Jn[mi][wi][Di]||{},Jn[mi][wi][Di][$i]=li}return Jn}(qn.concat(Jr))}return mn}var bn=null;Object.defineProperty(this,"fontFaces",{get:function(){return bn},set:function(wn){mn=null,bn=wn}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(wn){var Jr;if(this.ctx.font=wn,(Jr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(wn))!==null){var qn=Jr[1];Jr[2];var ci=Jr[3],Jn=Jr[4];Jr[5];var ui=Jr[6],li=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Jn)[2];Jn=Math.floor(li==="px"?parseFloat(Jn)*this.pdf.internal.scaleFactor:li==="em"?parseFloat(Jn)*this.pdf.getFontSize():parseFloat(Jn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Jn);var mi=function(Pn){var En,jn,ni=[],ii=Pn.trim();if(ii==="")return Wt$1;if(ii in Mt$1)return[Mt$1[ii]];for(;ii!=="";){switch(jn=null,En=(ii=Dt(ii)).charAt(0)){case'"':case"'":jn=Rt(ii.substring(1),En);break;default:jn=Tt(ii)}if(jn===null||(ni.push(jn[0]),(ii=Dt(jn[1]))!==""&&ii.charAt(0)!==","))return Wt$1;ii=ii.replace(/^,/,"")}return ni}(ui);if(this.fontFaces){var wi=qt$1(Cn(this.pdf,this.fontFaces),mi.map(function(Pn){return{family:Pn,stretch:"normal",weight:ci,style:qn}}));this.pdf.setFont(wi.ref.name,wi.ref.style)}else{var Di="";(ci==="bold"||parseInt(ci,10)>=700||qn==="bold")&&(Di="bold"),qn==="italic"&&(Di+="italic"),Di.length===0&&(Di="normal");for(var $i="",Si={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Bi=0;Bi<mi.length;Bi++){if(this.pdf.internal.getFont(mi[Bi],Di,{noFallback:!0,disableWarning:!0})!==void 0){$i=mi[Bi];break}if(Di==="bolditalic"&&this.pdf.internal.getFont(mi[Bi],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$i=mi[Bi],Di="bold";else if(this.pdf.internal.getFont(mi[Bi],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$i=mi[Bi],Di="normal";break}}if($i===""){for(var Vi=0;Vi<mi.length;Vi++)if(Si[mi[Vi]]){$i=Si[mi[Vi]];break}}$i=$i===""?"Times":$i,this.pdf.setFont($i,Di)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(wn){this.ctx.globalCompositeOperation=wn}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(wn){this.ctx.globalAlpha=wn}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(wn){this.ctx.lineDashOffset=wn,jr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(wn){this.ctx.lineDash=wn,jr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(wn){this.ctx.ignoreClearRect=!!wn}})};ke.prototype.setLineDash=function(hr){this.lineDash=hr},ke.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},ke.prototype.fill=function(){Ye.call(this,"fill",!1)},ke.prototype.stroke=function(){Ye.call(this,"stroke",!1)},ke.prototype.beginPath=function(){this.path=[{type:"begin"}]},ke.prototype.moveTo=function(hr,_r){if(isNaN(hr)||isNaN(_r))throw a$2.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Pr=this.ctx.transform.applyToPoint(new Be(hr,_r));this.path.push({type:"mt",x:Pr.x,y:Pr.y}),this.ctx.lastPoint=new Be(hr,_r)},ke.prototype.closePath=function(){var hr=new Be(0,0),_r=0;for(_r=this.path.length-1;_r!==-1;_r--)if(this.path[_r].type==="begin"&&_typeof$1(this.path[_r+1])==="object"&&typeof this.path[_r+1].x=="number"){hr=new Be(this.path[_r+1].x,this.path[_r+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Be(hr.x,hr.y)},ke.prototype.lineTo=function(hr,_r){if(isNaN(hr)||isNaN(_r))throw a$2.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Pr=this.ctx.transform.applyToPoint(new Be(hr,_r));this.path.push({type:"lt",x:Pr.x,y:Pr.y}),this.ctx.lastPoint=new Be(Pr.x,Pr.y)},ke.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Ye.call(this,null,!0)},ke.prototype.quadraticCurveTo=function(hr,_r,Pr,Cr){if(isNaN(Pr)||isNaN(Cr)||isNaN(hr)||isNaN(_r))throw a$2.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Or=this.ctx.transform.applyToPoint(new Be(Pr,Cr)),Yr=this.ctx.transform.applyToPoint(new Be(hr,_r));this.path.push({type:"qct",x1:Yr.x,y1:Yr.y,x:Or.x,y:Or.y}),this.ctx.lastPoint=new Be(Or.x,Or.y)},ke.prototype.bezierCurveTo=function(hr,_r,Pr,Cr,Or,Yr){if(isNaN(Or)||isNaN(Yr)||isNaN(hr)||isNaN(_r)||isNaN(Pr)||isNaN(Cr))throw a$2.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var qr=this.ctx.transform.applyToPoint(new Be(Or,Yr)),Kr=this.ctx.transform.applyToPoint(new Be(hr,_r)),Zr=this.ctx.transform.applyToPoint(new Be(Pr,Cr));this.path.push({type:"bct",x1:Kr.x,y1:Kr.y,x2:Zr.x,y2:Zr.y,x:qr.x,y:qr.y}),this.ctx.lastPoint=new Be(qr.x,qr.y)},ke.prototype.arc=function(hr,_r,Pr,Cr,Or,Yr){if(isNaN(hr)||isNaN(_r)||isNaN(Pr)||isNaN(Cr)||isNaN(Or))throw a$2.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Yr=!!Yr,!this.ctx.transform.isIdentity){var qr=this.ctx.transform.applyToPoint(new Be(hr,_r));hr=qr.x,_r=qr.y;var Kr=this.ctx.transform.applyToPoint(new Be(0,Pr)),Zr=this.ctx.transform.applyToPoint(new Be(0,0));Pr=Math.sqrt(Math.pow(Kr.x-Zr.x,2)+Math.pow(Kr.y-Zr.y,2))}Math.abs(Or-Cr)>=2*Math.PI&&(Cr=0,Or=2*Math.PI),this.path.push({type:"arc",x:hr,y:_r,radius:Pr,startAngle:Cr,endAngle:Or,counterclockwise:Yr})},ke.prototype.arcTo=function(hr,_r,Pr,Cr,Or){throw new Error("arcTo not implemented.")},ke.prototype.rect=function(hr,_r,Pr,Cr){if(isNaN(hr)||isNaN(_r)||isNaN(Pr)||isNaN(Cr))throw a$2.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(hr,_r),this.lineTo(hr+Pr,_r),this.lineTo(hr+Pr,_r+Cr),this.lineTo(hr,_r+Cr),this.lineTo(hr,_r),this.lineTo(hr+Pr,_r),this.lineTo(hr,_r)},ke.prototype.fillRect=function(hr,_r,Pr,Cr){if(isNaN(hr)||isNaN(_r)||isNaN(Pr)||isNaN(Cr))throw a$2.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!$e.call(this)){var Or={};this.lineCap!=="butt"&&(Or.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Or.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(hr,_r,Pr,Cr),this.fill(),Or.hasOwnProperty("lineCap")&&(this.lineCap=Or.lineCap),Or.hasOwnProperty("lineJoin")&&(this.lineJoin=Or.lineJoin)}},ke.prototype.strokeRect=function(hr,_r,Pr,Cr){if(isNaN(hr)||isNaN(_r)||isNaN(Pr)||isNaN(Cr))throw a$2.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");He.call(this)||(this.beginPath(),this.rect(hr,_r,Pr,Cr),this.stroke())},ke.prototype.clearRect=function(hr,_r,Pr,Cr){if(isNaN(hr)||isNaN(_r)||isNaN(Pr)||isNaN(Cr))throw a$2.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(hr,_r,Pr,Cr))},ke.prototype.save=function(hr){hr=typeof hr!="boolean"||hr;for(var _r=this.pdf.internal.getCurrentPageInfo().pageNumber,Pr=0;Pr<this.pdf.internal.getNumberOfPages();Pr++)this.pdf.setPage(Pr+1),this.pdf.internal.out("q");if(this.pdf.setPage(_r),hr){this.ctx.fontSize=this.pdf.internal.getFontSize();var Cr=new Oe(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Cr}},ke.prototype.restore=function(hr){hr=typeof hr!="boolean"||hr;for(var _r=this.pdf.internal.getCurrentPageInfo().pageNumber,Pr=0;Pr<this.pdf.internal.getNumberOfPages();Pr++)this.pdf.setPage(Pr+1),this.pdf.internal.out("Q");this.pdf.setPage(_r),hr&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},ke.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Me=function(hr){var _r,Pr,Cr,Or;if(hr.isCanvasGradient===!0&&(hr=hr.getColor()),!hr)return{r:0,g:0,b:0,a:0,style:hr};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(hr))_r=0,Pr=0,Cr=0,Or=0;else{var Yr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(hr);if(Yr!==null)_r=parseInt(Yr[1]),Pr=parseInt(Yr[2]),Cr=parseInt(Yr[3]),Or=1;else if((Yr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(hr))!==null)_r=parseInt(Yr[1]),Pr=parseInt(Yr[2]),Cr=parseInt(Yr[3]),Or=parseFloat(Yr[4]);else{if(Or=1,typeof hr=="string"&&hr.charAt(0)!=="#"){var qr=new f$2(hr);hr=qr.ok?qr.toHex():"#000000"}hr.length===4?(_r=hr.substring(1,2),_r+=_r,Pr=hr.substring(2,3),Pr+=Pr,Cr=hr.substring(3,4),Cr+=Cr):(_r=hr.substring(1,3),Pr=hr.substring(3,5),Cr=hr.substring(5,7)),_r=parseInt(_r,16),Pr=parseInt(Pr,16),Cr=parseInt(Cr,16)}}return{r:_r,g:Pr,b:Cr,a:Or,style:hr}},$e=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},He=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};ke.prototype.fillText=function(hr,_r,Pr,Cr){if(isNaN(_r)||isNaN(Pr)||typeof hr!="string")throw a$2.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Cr=isNaN(Cr)?void 0:Cr,!$e.call(this)){var Or=Ar(this.ctx.transform.rotation),Yr=this.ctx.transform.scaleX;fr.call(this,{text:hr,x:_r,y:Pr,scale:Yr,angle:Or,align:this.textAlign,maxWidth:Cr})}},ke.prototype.strokeText=function(hr,_r,Pr,Cr){if(isNaN(_r)||isNaN(Pr)||typeof hr!="string")throw a$2.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!He.call(this)){Cr=isNaN(Cr)?void 0:Cr;var Or=Ar(this.ctx.transform.rotation),Yr=this.ctx.transform.scaleX;fr.call(this,{text:hr,x:_r,y:Pr,scale:Yr,renderingMode:"stroke",angle:Or,align:this.textAlign,maxWidth:Cr})}},ke.prototype.measureText=function(hr){if(typeof hr!="string")throw a$2.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var _r=this.pdf,Pr=this.pdf.internal.scaleFactor,Cr=_r.internal.getFontSize(),Or=_r.getStringUnitWidth(hr)*Cr/_r.internal.scaleFactor,Yr=function(qr){var Kr=(qr=qr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Kr}}),this};return new Yr({width:Or*=Math.round(96*Pr/72*1e4)/1e4})},ke.prototype.scale=function(hr,_r){if(isNaN(hr)||isNaN(_r))throw a$2.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Pr=new De(hr,0,0,_r,0,0);this.ctx.transform=this.ctx.transform.multiply(Pr)},ke.prototype.rotate=function(hr){if(isNaN(hr))throw a$2.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var _r=new De(Math.cos(hr),Math.sin(hr),-Math.sin(hr),Math.cos(hr),0,0);this.ctx.transform=this.ctx.transform.multiply(_r)},ke.prototype.translate=function(hr,_r){if(isNaN(hr)||isNaN(_r))throw a$2.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Pr=new De(1,0,0,1,hr,_r);this.ctx.transform=this.ctx.transform.multiply(Pr)},ke.prototype.transform=function(hr,_r,Pr,Cr,Or,Yr){if(isNaN(hr)||isNaN(_r)||isNaN(Pr)||isNaN(Cr)||isNaN(Or)||isNaN(Yr))throw a$2.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var qr=new De(hr,_r,Pr,Cr,Or,Yr);this.ctx.transform=this.ctx.transform.multiply(qr)},ke.prototype.setTransform=function(hr,_r,Pr,Cr,Or,Yr){hr=isNaN(hr)?1:hr,_r=isNaN(_r)?0:_r,Pr=isNaN(Pr)?0:Pr,Cr=isNaN(Cr)?1:Cr,Or=isNaN(Or)?0:Or,Yr=isNaN(Yr)?0:Yr,this.ctx.transform=new De(hr,_r,Pr,Cr,Or,Yr)};var Qe=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};ke.prototype.drawImage=function(hr,_r,Pr,Cr,Or,Yr,qr,Kr,Zr){var yn=this.pdf.getImageProperties(hr),mn=1,Cn=1,bn=1,wn=1;Cr!==void 0&&Kr!==void 0&&(bn=Kr/Cr,wn=Zr/Or,mn=yn.width/Cr*Kr/Cr,Cn=yn.height/Or*Zr/Or),Yr===void 0&&(Yr=_r,qr=Pr,_r=0,Pr=0),Cr!==void 0&&Kr===void 0&&(Kr=Cr,Zr=Or),Cr===void 0&&Kr===void 0&&(Kr=yn.width,Zr=yn.height);for(var Jr,qn=this.ctx.transform.decompose(),ci=Ar(qn.rotate.shx),Jn=new De,ui=(Jn=(Jn=(Jn=Jn.multiply(qn.translate)).multiply(qn.skew)).multiply(qn.scale)).applyToRectangle(new je(Yr-_r*bn,qr-Pr*wn,Cr*mn,Or*Cn)),li=Ke.call(this,ui),mi=[],wi=0;wi<li.length;wi+=1)mi.indexOf(li[wi])===-1&&mi.push(li[wi]);if(qe(mi),this.autoPaging)for(var Di=mi[0],$i=mi[mi.length-1],Si=Di;Si<$i+1;Si++){this.pdf.setPage(Si);var Bi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vi=Si===1?this.posY+this.margin[0]:this.margin[0],Pn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],En=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jn=Si===1?0:Pn+(Si-2)*En;if(this.ctx.clip_path.length!==0){var ni=this.path;Jr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=We(Jr,this.posX+this.margin[3],-jn+Vi+this.ctx.prevPageLastElemOffset),Xe.call(this,"fill",!0),this.path=ni}var ii=JSON.parse(JSON.stringify(ui));ii=We([ii],this.posX+this.margin[3],-jn+Vi+this.ctx.prevPageLastElemOffset)[0];var Fi=(Si>Di||Si<$i)&&Qe.call(this);Fi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bi,En,null).clip().discardPath()),this.pdf.addImage(hr,"JPEG",ii.x,ii.y,ii.w,ii.h,null,null,ci),Fi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(hr,"JPEG",ui.x,ui.y,ui.w,ui.h,null,null,ci)};var Ke=function(hr,_r,Pr){var Cr=[];_r=_r||this.pdf.internal.pageSize.width,Pr=Pr||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Or=this.posY+this.ctx.prevPageLastElemOffset;switch(hr.type){default:case"mt":case"lt":Cr.push(Math.floor((hr.y+Or)/Pr)+1);break;case"arc":Cr.push(Math.floor((hr.y+Or-hr.radius)/Pr)+1),Cr.push(Math.floor((hr.y+Or+hr.radius)/Pr)+1);break;case"qct":var Yr=br(this.ctx.lastPoint.x,this.ctx.lastPoint.y,hr.x1,hr.y1,hr.x,hr.y);Cr.push(Math.floor((Yr.y+Or)/Pr)+1),Cr.push(Math.floor((Yr.y+Yr.h+Or)/Pr)+1);break;case"bct":var qr=wr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,hr.x1,hr.y1,hr.x2,hr.y2,hr.x,hr.y);Cr.push(Math.floor((qr.y+Or)/Pr)+1),Cr.push(Math.floor((qr.y+qr.h+Or)/Pr)+1);break;case"rect":Cr.push(Math.floor((hr.y+Or)/Pr)+1),Cr.push(Math.floor((hr.y+hr.h+Or)/Pr)+1)}for(var Kr=0;Kr<Cr.length;Kr+=1)for(;this.pdf.internal.getNumberOfPages()<Cr[Kr];)ze.call(this);return Cr},ze=function(){var hr=this.fillStyle,_r=this.strokeStyle,Pr=this.font,Cr=this.lineCap,Or=this.lineWidth,Yr=this.lineJoin;this.pdf.addPage(),this.fillStyle=hr,this.strokeStyle=_r,this.font=Pr,this.lineCap=Cr,this.lineWidth=Or,this.lineJoin=Yr},We=function(hr,_r,Pr){for(var Cr=0;Cr<hr.length;Cr++)switch(hr[Cr].type){case"bct":hr[Cr].x2+=_r,hr[Cr].y2+=Pr;case"qct":hr[Cr].x1+=_r,hr[Cr].y1+=Pr;case"mt":case"lt":case"arc":default:hr[Cr].x+=_r,hr[Cr].y+=Pr}return hr},qe=function(hr){return hr.sort(function(_r,Pr){return _r-Pr})},Ye=function(hr,_r){for(var Pr,Cr,Or=this.fillStyle,Yr=this.strokeStyle,qr=this.lineCap,Kr=this.lineWidth,Zr=Math.abs(Kr*this.ctx.transform.scaleX),yn=this.lineJoin,mn=JSON.parse(JSON.stringify(this.path)),Cn=JSON.parse(JSON.stringify(this.path)),bn=[],wn=0;wn<Cn.length;wn++)if(Cn[wn].x!==void 0)for(var Jr=Ke.call(this,Cn[wn]),qn=0;qn<Jr.length;qn+=1)bn.indexOf(Jr[qn])===-1&&bn.push(Jr[qn]);for(var ci=0;ci<bn.length;ci++)for(;this.pdf.internal.getNumberOfPages()<bn[ci];)ze.call(this);if(qe(bn),this.autoPaging)for(var Jn=bn[0],ui=bn[bn.length-1],li=Jn;li<ui+1;li++){this.pdf.setPage(li),this.fillStyle=Or,this.strokeStyle=Yr,this.lineCap=qr,this.lineWidth=Zr,this.lineJoin=yn;var mi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wi=li===1?this.posY+this.margin[0]:this.margin[0],Di=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$i=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Si=li===1?0:Di+(li-2)*$i;if(this.ctx.clip_path.length!==0){var Bi=this.path;Pr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=We(Pr,this.posX+this.margin[3],-Si+wi+this.ctx.prevPageLastElemOffset),Xe.call(this,hr,!0),this.path=Bi}if(Cr=JSON.parse(JSON.stringify(mn)),this.path=We(Cr,this.posX+this.margin[3],-Si+wi+this.ctx.prevPageLastElemOffset),_r===!1||li===0){var Vi=(li>Jn||li<ui)&&Qe.call(this);Vi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mi,$i,null).clip().discardPath()),Xe.call(this,hr,_r),Vi&&this.pdf.restoreGraphicsState()}this.lineWidth=Kr}else this.lineWidth=Zr,Xe.call(this,hr,_r),this.lineWidth=Kr;this.path=mn},Xe=function(hr,_r){if((hr!=="stroke"||_r||!He.call(this))&&(hr==="stroke"||_r||!$e.call(this))){for(var Pr,Cr,Or=[],Yr=this.path,qr=0;qr<Yr.length;qr++){var Kr=Yr[qr];switch(Kr.type){case"begin":Or.push({begin:!0});break;case"close":Or.push({close:!0});break;case"mt":Or.push({start:Kr,deltas:[],abs:[]});break;case"lt":var Zr=Or.length;if(Yr[qr-1]&&!isNaN(Yr[qr-1].x)&&(Pr=[Kr.x-Yr[qr-1].x,Kr.y-Yr[qr-1].y],Zr>0)){for(;Zr>=0;Zr--)if(Or[Zr-1].close!==!0&&Or[Zr-1].begin!==!0){Or[Zr-1].deltas.push(Pr),Or[Zr-1].abs.push(Kr);break}}break;case"bct":Pr=[Kr.x1-Yr[qr-1].x,Kr.y1-Yr[qr-1].y,Kr.x2-Yr[qr-1].x,Kr.y2-Yr[qr-1].y,Kr.x-Yr[qr-1].x,Kr.y-Yr[qr-1].y],Or[Or.length-1].deltas.push(Pr);break;case"qct":var yn=Yr[qr-1].x+2/3*(Kr.x1-Yr[qr-1].x),mn=Yr[qr-1].y+2/3*(Kr.y1-Yr[qr-1].y),Cn=Kr.x+2/3*(Kr.x1-Kr.x),bn=Kr.y+2/3*(Kr.y1-Kr.y),wn=Kr.x,Jr=Kr.y;Pr=[yn-Yr[qr-1].x,mn-Yr[qr-1].y,Cn-Yr[qr-1].x,bn-Yr[qr-1].y,wn-Yr[qr-1].x,Jr-Yr[qr-1].y],Or[Or.length-1].deltas.push(Pr);break;case"arc":Or.push({deltas:[],abs:[],arc:!0}),Array.isArray(Or[Or.length-1].abs)&&Or[Or.length-1].abs.push(Kr)}}Cr=_r?null:hr==="stroke"?"stroke":"fill";for(var qn=!1,ci=0;ci<Or.length;ci++)if(Or[ci].arc)for(var Jn=Or[ci].abs,ui=0;ui<Jn.length;ui++){var li=Jn[ui];li.type==="arc"?er.call(this,li.x,li.y,li.radius,li.startAngle,li.endAngle,li.counterclockwise,void 0,_r,!qn):gr.call(this,li.x,li.y),qn=!0}else if(Or[ci].close===!0)this.pdf.internal.out("h"),qn=!1;else if(Or[ci].begin!==!0){var mi=Or[ci].start.x,wi=Or[ci].start.y;Rr.call(this,Or[ci].deltas,mi,wi),qn=!0}Cr&&or.call(this,Cr),_r&&pr.call(this)}},rr=function(hr){var _r=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Pr=_r*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return hr-Pr;case"top":return hr+_r-Pr;case"hanging":return hr+_r-2*Pr;case"middle":return hr+_r/2-Pr;case"ideographic":return hr;case"alphabetic":default:return hr}},Je=function(hr){return hr+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};ke.prototype.createLinearGradient=function(){var hr=function(){};return hr.colorStops=[],hr.addColorStop=function(_r,Pr){this.colorStops.push([_r,Pr])},hr.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},hr.isCanvasGradient=!0,hr},ke.prototype.createPattern=function(){return this.createLinearGradient()},ke.prototype.createRadialGradient=function(){return this.createLinearGradient()};var er=function(hr,_r,Pr,Cr,Or,Yr,qr,Kr,Zr){for(var yn=mr.call(this,Pr,Cr,Or,Yr),mn=0;mn<yn.length;mn++){var Cn=yn[mn];mn===0&&(Zr?ar.call(this,Cn.x1+hr,Cn.y1+_r):gr.call(this,Cn.x1+hr,Cn.y1+_r)),Ir.call(this,hr,_r,Cn.x2,Cn.y2,Cn.x3,Cn.y3,Cn.x4,Cn.y4)}Kr?pr.call(this):or.call(this,qr)},or=function(hr){switch(hr){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},pr=function(){this.pdf.clip(),this.pdf.discardPath()},ar=function(hr,_r){this.pdf.internal.out(Ce(hr)+" "+Pe(_r)+" m")},fr=function(hr){var _r;switch(hr.align){case"right":case"end":_r="right";break;case"center":_r="center";break;case"left":case"start":default:_r="left"}var Pr=this.pdf.getTextDimensions(hr.text),Cr=rr.call(this,hr.y),Or=Je.call(this,Cr)-Pr.h,Yr=this.ctx.transform.applyToPoint(new Be(hr.x,Cr)),qr=this.ctx.transform.decompose(),Kr=new De;Kr=(Kr=(Kr=Kr.multiply(qr.translate)).multiply(qr.skew)).multiply(qr.scale);for(var Zr,yn,mn,Cn=this.ctx.transform.applyToRectangle(new je(hr.x,Cr,Pr.w,Pr.h)),bn=Kr.applyToRectangle(new je(hr.x,Or,Pr.w,Pr.h)),wn=Ke.call(this,bn),Jr=[],qn=0;qn<wn.length;qn+=1)Jr.indexOf(wn[qn])===-1&&Jr.push(wn[qn]);if(qe(Jr),this.autoPaging)for(var ci=Jr[0],Jn=Jr[Jr.length-1],ui=ci;ui<Jn+1;ui++){this.pdf.setPage(ui);var li=ui===1?this.posY+this.margin[0]:this.margin[0],mi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wi=this.pdf.internal.pageSize.height-this.margin[2],Di=wi-this.margin[0],$i=this.pdf.internal.pageSize.width-this.margin[1],Si=$i-this.margin[3],Bi=ui===1?0:mi+(ui-2)*Di;if(this.ctx.clip_path.length!==0){var Vi=this.path;Zr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=We(Zr,this.posX+this.margin[3],-1*Bi+li),Xe.call(this,"fill",!0),this.path=Vi}var Pn=We([JSON.parse(JSON.stringify(bn))],this.posX+this.margin[3],-Bi+li+this.ctx.prevPageLastElemOffset)[0];hr.scale>=.01&&(yn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(yn*hr.scale),mn=this.lineWidth,this.lineWidth=mn*hr.scale);var En=this.autoPaging!=="text";if(En||Pn.y+Pn.h<=wi){if(En||Pn.y>=li&&Pn.x<=$i){var jn=En?hr.text:this.pdf.splitTextToSize(hr.text,hr.maxWidth||$i-Pn.x)[0],ni=We([JSON.parse(JSON.stringify(Cn))],this.posX+this.margin[3],-Bi+li+this.ctx.prevPageLastElemOffset)[0],ii=En&&(ui>ci||ui<Jn)&&Qe.call(this);ii&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Si,Di,null).clip().discardPath()),this.pdf.text(jn,ni.x,ni.y,{angle:hr.angle,align:_r,renderingMode:hr.renderingMode}),ii&&this.pdf.restoreGraphicsState()}}else Pn.y<wi&&(this.ctx.prevPageLastElemOffset+=wi-Pn.y);hr.scale>=.01&&(this.pdf.setFontSize(yn),this.lineWidth=mn)}else hr.scale>=.01&&(yn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(yn*hr.scale),mn=this.lineWidth,this.lineWidth=mn*hr.scale),this.pdf.text(hr.text,Yr.x+this.posX,Yr.y+this.posY,{angle:hr.angle,align:_r,renderingMode:hr.renderingMode,maxWidth:hr.maxWidth}),hr.scale>=.01&&(this.pdf.setFontSize(yn),this.lineWidth=mn)},gr=function(hr,_r,Pr,Cr){Pr=Pr||0,Cr=Cr||0,this.pdf.internal.out(Ce(hr+Pr)+" "+Pe(_r+Cr)+" l")},Rr=function(hr,_r,Pr){return this.pdf.lines(hr,_r,Pr,null,null)},Ir=function(hr,_r,Pr,Cr,Or,Yr,qr,Kr){this.pdf.internal.out([_e(Re(Pr+hr)),_e(Ie(Cr+_r)),_e(Re(Or+hr)),_e(Ie(Yr+_r)),_e(Re(qr+hr)),_e(Ie(Kr+_r)),"c"].join(" "))},mr=function(hr,_r,Pr,Cr){for(var Or=2*Math.PI,Yr=Math.PI/2;_r>Pr;)_r-=Or;var qr=Math.abs(Pr-_r);qr<Or&&Cr&&(qr=Or-qr);for(var Kr=[],Zr=Cr?-1:1,yn=_r;qr>1e-5;){var mn=yn+Zr*Math.min(qr,Yr);Kr.push(Er.call(this,hr,yn,mn)),qr-=Math.abs(mn-yn),yn=mn}return Kr},Er=function(hr,_r,Pr){var Cr=(Pr-_r)/2,Or=hr*Math.cos(Cr),Yr=hr*Math.sin(Cr),qr=Or,Kr=-Yr,Zr=qr*qr+Kr*Kr,yn=Zr+qr*Or+Kr*Yr,mn=4/3*(Math.sqrt(2*Zr*yn)-yn)/(qr*Yr-Kr*Or),Cn=qr-mn*Kr,bn=Kr+mn*qr,wn=Cn,Jr=-bn,qn=Cr+_r,ci=Math.cos(qn),Jn=Math.sin(qn);return{x1:hr*Math.cos(_r),y1:hr*Math.sin(_r),x2:Cn*ci-bn*Jn,y2:Cn*Jn+bn*ci,x3:wn*ci-Jr*Jn,y3:wn*Jn+Jr*ci,x4:hr*Math.cos(Pr),y4:hr*Math.sin(Pr)}},Ar=function(hr){return 180*hr/Math.PI},br=function(hr,_r,Pr,Cr,Or,Yr){var qr=hr+.5*(Pr-hr),Kr=_r+.5*(Cr-_r),Zr=Or+.5*(Pr-Or),yn=Yr+.5*(Cr-Yr),mn=Math.min(hr,Or,qr,Zr),Cn=Math.max(hr,Or,qr,Zr),bn=Math.min(_r,Yr,Kr,yn),wn=Math.max(_r,Yr,Kr,yn);return new je(mn,bn,Cn-mn,wn-bn)},wr=function(hr,_r,Pr,Cr,Or,Yr,qr,Kr){var Zr,yn,mn,Cn,bn,wn,Jr,qn,ci,Jn,ui,li,mi,wi,Di=Pr-hr,$i=Cr-_r,Si=Or-Pr,Bi=Yr-Cr,Vi=qr-Or,Pn=Kr-Yr;for(yn=0;yn<41;yn++)ci=(Jr=(mn=hr+(Zr=yn/40)*Di)+Zr*((bn=Pr+Zr*Si)-mn))+Zr*(bn+Zr*(Or+Zr*Vi-bn)-Jr),Jn=(qn=(Cn=_r+Zr*$i)+Zr*((wn=Cr+Zr*Bi)-Cn))+Zr*(wn+Zr*(Yr+Zr*Pn-wn)-qn),yn==0?(ui=ci,li=Jn,mi=ci,wi=Jn):(ui=Math.min(ui,ci),li=Math.min(li,Jn),mi=Math.max(mi,ci),wi=Math.max(wi,Jn));return new je(Math.round(ui),Math.round(li),Math.round(mi-ui),Math.round(wi-li))},jr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var hr,_r,Pr=(hr=this.ctx.lineDash,_r=this.ctx.lineDashOffset,JSON.stringify({lineDash:hr,lineDashOffset:_r}));this.prevLineDash!==Pr&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Pr)}}})(E.API),function(Ee){var _e=function(Ie){var Be,je,De,Fe,Oe,ke,Me,$e,He,Qe;for(je=[],De=0,Fe=(Ie+=Be="\0\0\0\0".slice(Ie.length%4||4)).length;Fe>De;De+=4)(Oe=(Ie.charCodeAt(De)<<24)+(Ie.charCodeAt(De+1)<<16)+(Ie.charCodeAt(De+2)<<8)+Ie.charCodeAt(De+3))!==0?(ke=(Oe=((Oe=((Oe=((Oe=(Oe-(Qe=Oe%85))/85)-(He=Oe%85))/85)-($e=Oe%85))/85)-(Me=Oe%85))/85)%85,je.push(ke+33,Me+33,$e+33,He+33,Qe+33)):je.push(122);return function(Ke,ze){for(var We=ze;We>0;We--)Ke.pop()}(je,Be.length),String.fromCharCode.apply(String,je)+"~>"},Ce=function(Ie){var Be,je,De,Fe,Oe,ke=String,Me="length",$e=255,He="charCodeAt",Qe="slice",Ke="replace";for(Ie[Qe](-2),Ie=Ie[Qe](0,-2)[Ke](/\s/g,"")[Ke]("z","!!!!!"),De=[],Fe=0,Oe=(Ie+=Be="uuuuu"[Qe](Ie[Me]%5||5))[Me];Oe>Fe;Fe+=5)je=52200625*(Ie[He](Fe)-33)+614125*(Ie[He](Fe+1)-33)+7225*(Ie[He](Fe+2)-33)+85*(Ie[He](Fe+3)-33)+(Ie[He](Fe+4)-33),De.push($e&je>>24,$e&je>>16,$e&je>>8,$e&je);return function(ze,We){for(var qe=We;qe>0;qe--)ze.pop()}(De,Be[Me]),ke.fromCharCode.apply(ke,De)},Pe=function(Ie){var Be=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Ie=Ie.replace(/\s/g,"")).indexOf(">")!==-1&&(Ie=Ie.substr(0,Ie.indexOf(">"))),Ie.length%2&&(Ie+="0"),Be.test(Ie)===!1)return"";for(var je="",De=0;De<Ie.length;De+=2)je+=String.fromCharCode("0x"+(Ie[De]+Ie[De+1]));return je},Re=function(Ie){for(var Be=new Uint8Array(Ie.length),je=Ie.length;je--;)Be[je]=Ie.charCodeAt(je);return Ie=(Be=zlibSync(Be)).reduce(function(De,Fe){return De+String.fromCharCode(Fe)},"")};Ee.processDataByFilters=function(Ie,Be){var je=0,De=Ie||"",Fe=[];for(typeof(Be=Be||[])=="string"&&(Be=[Be]),je=0;je<Be.length;je+=1)switch(Be[je]){case"ASCII85Decode":case"/ASCII85Decode":De=Ce(De),Fe.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":De=_e(De),Fe.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":De=Pe(De),Fe.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":De=De.split("").map(function(Oe){return("0"+Oe.charCodeAt().toString(16)).slice(-2)}).join("")+">",Fe.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":De=Re(De),Fe.push("/FlateDecode");break;default:throw new Error('The filter: "'+Be[je]+'" is not implemented')}return{data:De,reverseChain:Fe.reverse().join(" ")}}}(E.API),function(Ee){Ee.loadFile=function(_e,Ce,Pe){return function(Re,Ie,Be){Ie=Ie!==!1,Be=typeof Be=="function"?Be:function(){};var je=void 0;try{je=function(De,Fe,Oe){var ke=new XMLHttpRequest,Me=0,$e=function(He){var Qe=He.length,Ke=[],ze=String.fromCharCode;for(Me=0;Me<Qe;Me+=1)Ke.push(ze(255&He.charCodeAt(Me)));return Ke.join("")};if(ke.open("GET",De,!Fe),ke.overrideMimeType("text/plain; charset=x-user-defined"),Fe===!1&&(ke.onload=function(){ke.status===200?Oe($e(this.responseText)):Oe(void 0)}),ke.send(null),Fe&&ke.status===200)return $e(ke.responseText)}(Re,Ie,Be)}catch{}return je}(_e,Ce,Pe)},Ee.loadImageFile=Ee.loadFile}(E.API),function(Ee){function _e(){return(n$1.html2canvas?Promise.resolve(n$1.html2canvas):__vitePreload(()=>import("./html2canvas.esm-BfxBtG_O.js"),[],import.meta.url)).catch(function(Be){return Promise.reject(new Error("Could not load html2canvas: "+Be))}).then(function(Be){return Be.default?Be.default:Be})}function Ce(){return(n$1.DOMPurify?Promise.resolve(n$1.DOMPurify):__vitePreload(()=>import("./purify.es-CQJ0hv7W.js"),[],import.meta.url)).catch(function(Be){return Promise.reject(new Error("Could not load dompurify: "+Be))}).then(function(Be){return Be.default?Be.default:Be})}var Pe=function(Be){var je=_typeof$1(Be);return je==="undefined"?"undefined":je==="string"||Be instanceof String?"string":je==="number"||Be instanceof Number?"number":je==="function"||Be instanceof Function?"function":Be&&Be.constructor===Array?"array":Be&&Be.nodeType===1?"element":je==="object"?"object":"unknown"},Re=function(Be,je){var De=document.createElement(Be);for(var Fe in je.className&&(De.className=je.className),je.innerHTML&&je.dompurify&&(De.innerHTML=je.dompurify.sanitize(je.innerHTML)),je.style)De.style[Fe]=je.style[Fe];return De},Ie=function Be(je){var De=Object.assign(Be.convert(Promise.resolve()),JSON.parse(JSON.stringify(Be.template))),Fe=Be.convert(Promise.resolve(),De);return Fe=(Fe=Fe.setProgress(1,Be,1,[Be])).set(je)};(Ie.prototype=Object.create(Promise.prototype)).constructor=Ie,Ie.convert=function(Be,je){return Be.__proto__=je||Ie.prototype,Be},Ie.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Ie.prototype.from=function(Be,je){return this.then(function(){switch(je=je||function(De){switch(Pe(De)){case"string":return"string";case"element":return De.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(Be)){case"string":return this.then(Ce).then(function(De){return this.set({src:Re("div",{innerHTML:Be,dompurify:De})})});case"element":return this.set({src:Be});case"canvas":return this.set({canvas:Be});case"img":return this.set({img:Be});default:return this.error("Unknown source type.")}})},Ie.prototype.to=function(Be){switch(Be){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Ie.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Be={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},je=function De(Fe,Oe){for(var ke=Fe.nodeType===3?document.createTextNode(Fe.nodeValue):Fe.cloneNode(!1),Me=Fe.firstChild;Me;Me=Me.nextSibling)Oe!==!0&&Me.nodeType===1&&Me.nodeName==="SCRIPT"||ke.appendChild(De(Me,Oe));return Fe.nodeType===1&&(Fe.nodeName==="CANVAS"?(ke.width=Fe.width,ke.height=Fe.height,ke.getContext("2d").drawImage(Fe,0,0)):Fe.nodeName!=="TEXTAREA"&&Fe.nodeName!=="SELECT"||(ke.value=Fe.value),ke.addEventListener("load",function(){ke.scrollTop=Fe.scrollTop,ke.scrollLeft=Fe.scrollLeft},!0)),ke}(this.prop.src,this.opt.html2canvas.javascriptEnabled);je.tagName==="BODY"&&(Be.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Re("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Re("div",{className:"html2pdf__container",style:Be}),this.prop.container.appendChild(je),this.prop.container.firstChild.appendChild(Re("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Ie.prototype.toCanvas=function(){var Be=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Be).then(_e).then(function(je){var De=Object.assign({},this.opt.html2canvas);return delete De.onrendered,je(this.prop.container,De)}).then(function(je){(this.opt.html2canvas.onrendered||function(){})(je),this.prop.canvas=je,document.body.removeChild(this.prop.overlay)})},Ie.prototype.toContext2d=function(){var Be=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Be).then(_e).then(function(je){var De=this.opt.jsPDF,Fe=this.opt.fontFaces,Oe=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,ke=Object.assign({async:!0,allowTaint:!0,scale:Oe,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete ke.onrendered,De.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,De.context2d.posX=this.opt.x,De.context2d.posY=this.opt.y,De.context2d.margin=this.opt.margin,De.context2d.fontFaces=Fe,Fe)for(var Me=0;Me<Fe.length;++Me){var $e=Fe[Me],He=$e.src.find(function(Qe){return Qe.format==="truetype"});He&&De.addFont(He.url,$e.ref.name,$e.ref.style)}return ke.windowHeight=ke.windowHeight||0,ke.windowHeight=ke.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):ke.windowHeight,De.context2d.save(!0),je(this.prop.container,ke)}).then(function(je){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(je),this.prop.canvas=je,document.body.removeChild(this.prop.overlay)})},Ie.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Be=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Be})},Ie.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Ie.prototype.output=function(Be,je,De){return(De=De||"pdf").toLowerCase()==="img"||De.toLowerCase()==="image"?this.outputImg(Be,je):this.outputPdf(Be,je)},Ie.prototype.outputPdf=function(Be,je){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Be,je)})},Ie.prototype.outputImg=function(Be){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Be){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Be+'" is not supported.'}})},Ie.prototype.save=function(Be){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Be?{filename:Be}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Ie.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Ie.prototype.set=function(Be){if(Pe(Be)!=="object")return this;var je=Object.keys(Be||{}).map(function(De){if(De in Ie.template.prop)return function(){this.prop[De]=Be[De]};switch(De){case"margin":return this.setMargin.bind(this,Be.margin);case"jsPDF":return function(){return this.opt.jsPDF=Be.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Be.pageSize);default:return function(){this.opt[De]=Be[De]}}},this);return this.then(function(){return this.thenList(je)})},Ie.prototype.get=function(Be,je){return this.then(function(){var De=Be in Ie.template.prop?this.prop[Be]:this.opt[Be];return je?je(De):De})},Ie.prototype.setMargin=function(Be){return this.then(function(){switch(Pe(Be)){case"number":Be=[Be,Be,Be,Be];case"array":if(Be.length===2&&(Be=[Be[0],Be[1],Be[0],Be[1]]),Be.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Be}).then(this.setPageSize)},Ie.prototype.setPageSize=function(Be){function je(De,Fe){return Math.floor(De*Fe/72*96)}return this.then(function(){(Be=Be||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Be.inner={width:Be.width-this.opt.margin[1]-this.opt.margin[3],height:Be.height-this.opt.margin[0]-this.opt.margin[2]},Be.inner.px={width:je(Be.inner.width,Be.k),height:je(Be.inner.height,Be.k)},Be.inner.ratio=Be.inner.height/Be.inner.width),this.prop.pageSize=Be})},Ie.prototype.setProgress=function(Be,je,De,Fe){return Be!=null&&(this.progress.val=Be),je!=null&&(this.progress.state=je),De!=null&&(this.progress.n=De),Fe!=null&&(this.progress.stack=Fe),this.progress.ratio=this.progress.val/this.progress.state,this},Ie.prototype.updateProgress=function(Be,je,De,Fe){return this.setProgress(Be?this.progress.val+Be:null,je||null,De?this.progress.n+De:null,Fe?this.progress.stack.concat(Fe):null)},Ie.prototype.then=function(Be,je){var De=this;return this.thenCore(Be,je,function(Fe,Oe){return De.updateProgress(null,null,1,[Fe]),Promise.prototype.then.call(this,function(ke){return De.updateProgress(null,Fe),ke}).then(Fe,Oe).then(function(ke){return De.updateProgress(1),ke})})},Ie.prototype.thenCore=function(Be,je,De){De=De||Promise.prototype.then,Be&&(Be=Be.bind(this)),je&&(je=je.bind(this));var Fe=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:Ie.convert(Object.assign({},this),Promise.prototype),Oe=De.call(Fe,Be,je);return Ie.convert(Oe,this.__proto__)},Ie.prototype.thenExternal=function(Be,je){return Promise.prototype.then.call(this,Be,je)},Ie.prototype.thenList=function(Be){var je=this;return Be.forEach(function(De){je=je.thenCore(De)}),je},Ie.prototype.catch=function(Be){Be&&(Be=Be.bind(this));var je=Promise.prototype.catch.call(this,Be);return Ie.convert(je,this)},Ie.prototype.catchExternal=function(Be){return Promise.prototype.catch.call(this,Be)},Ie.prototype.error=function(Be){return this.then(function(){throw new Error(Be)})},Ie.prototype.using=Ie.prototype.set,Ie.prototype.saveAs=Ie.prototype.save,Ie.prototype.export=Ie.prototype.output,Ie.prototype.run=Ie.prototype.then,E.getPageSize=function(Be,je,De){if(_typeof$1(Be)==="object"){var Fe=Be;Be=Fe.orientation,je=Fe.unit||je,De=Fe.format||De}je=je||"mm",De=De||"a4",Be=(""+(Be||"P")).toLowerCase();var Oe,ke=(""+De).toLowerCase(),Me={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(je){case"pt":Oe=1;break;case"mm":Oe=72/25.4;break;case"cm":Oe=72/2.54;break;case"in":Oe=72;break;case"px":Oe=.75;break;case"pc":case"em":Oe=12;break;case"ex":Oe=6;break;default:throw"Invalid unit: "+je}var $e,He=0,Qe=0;if(Me.hasOwnProperty(ke))He=Me[ke][1]/Oe,Qe=Me[ke][0]/Oe;else try{He=De[1],Qe=De[0]}catch{throw new Error("Invalid format: "+De)}if(Be==="p"||Be==="portrait")Be="p",Qe>He&&($e=Qe,Qe=He,He=$e);else{if(Be!=="l"&&Be!=="landscape")throw"Invalid orientation: "+Be;Be="l",He>Qe&&($e=Qe,Qe=He,He=$e)}return{width:Qe,height:He,unit:je,k:Oe,orientation:Be}},Ee.html=function(Be,je){(je=je||{}).callback=je.callback||function(){},je.html2canvas=je.html2canvas||{},je.html2canvas.canvas=je.html2canvas.canvas||this.canvas,je.jsPDF=je.jsPDF||this,je.fontFaces=je.fontFaces?je.fontFaces.map(jt):null;var De=new Ie(je);return je.worker?De:De.from(Be).doCallback()}}(E.API),E.API.addJS=function(Ee){return Ht=Ee,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(Ee){var _e;Ee.events.push(["postPutResources",function(){var Ce=this,Pe=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Re=Ce.outline.render().split(/\r\n/),Ie=0;Ie<Re.length;Ie++){var Be=Re[Ie],je=Pe.exec(Be);if(je!=null){var De=je[1];Ce.internal.newObjectDeferredBegin(De,!1)}Ce.internal.write(Be)}if(this.outline.createNamedDestinations){var Fe=this.internal.pages.length,Oe=[];for(Ie=0;Ie<Fe;Ie++){var ke=Ce.internal.newObject();Oe.push(ke);var Me=Ce.internal.getPageInfo(Ie+1);Ce.internal.write("<< /D["+Me.objId+" 0 R /XYZ null null null]>> endobj")}var $e=Ce.internal.newObject();for(Ce.internal.write("<< /Names [ "),Ie=0;Ie<Oe.length;Ie++)Ce.internal.write("(page_"+(Ie+1)+")"+Oe[Ie]+" 0 R");Ce.internal.write(" ] >>","endobj"),_e=Ce.internal.newObject(),Ce.internal.write("<< /Dests "+$e+" 0 R"),Ce.internal.write(">>","endobj")}}]),Ee.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+_e+" 0 R"))}]),Ee.events.push(["initialized",function(){var Ce=this;Ce.outline={createNamedDestinations:!1,root:{children:[]}},Ce.outline.add=function(Pe,Re,Ie){var Be={title:Re,options:Ie,children:[]};return Pe==null&&(Pe=this.root),Pe.children.push(Be),Be},Ce.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=Ce,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},Ce.outline.genIds_r=function(Pe){Pe.id=Ce.internal.newObjectDeferred();for(var Re=0;Re<Pe.children.length;Re++)this.genIds_r(Pe.children[Re])},Ce.outline.renderRoot=function(Pe){this.objStart(Pe),this.line("/Type /Outlines"),Pe.children.length>0&&(this.line("/First "+this.makeRef(Pe.children[0])),this.line("/Last "+this.makeRef(Pe.children[Pe.children.length-1]))),this.line("/Count "+this.count_r({count:0},Pe)),this.objEnd()},Ce.outline.renderItems=function(Pe){for(var Re=this.ctx.pdf.internal.getVerticalCoordinateString,Ie=0;Ie<Pe.children.length;Ie++){var Be=Pe.children[Ie];this.objStart(Be),this.line("/Title "+this.makeString(Be.title)),this.line("/Parent "+this.makeRef(Pe)),Ie>0&&this.line("/Prev "+this.makeRef(Pe.children[Ie-1])),Ie<Pe.children.length-1&&this.line("/Next "+this.makeRef(Pe.children[Ie+1])),Be.children.length>0&&(this.line("/First "+this.makeRef(Be.children[0])),this.line("/Last "+this.makeRef(Be.children[Be.children.length-1])));var je=this.count=this.count_r({count:0},Be);if(je>0&&this.line("/Count "+je),Be.options&&Be.options.pageNumber){var De=Ce.internal.getPageInfo(Be.options.pageNumber);this.line("/Dest ["+De.objId+" 0 R /XYZ 0 "+Re(0)+" 0]")}this.objEnd()}for(var Fe=0;Fe<Pe.children.length;Fe++)this.renderItems(Pe.children[Fe])},Ce.outline.line=function(Pe){this.ctx.val+=Pe+`\r
`},Ce.outline.makeRef=function(Pe){return Pe.id+" 0 R"},Ce.outline.makeString=function(Pe){return"("+Ce.internal.pdfEscape(Pe)+")"},Ce.outline.objStart=function(Pe){this.ctx.val+=`\r
`+Pe.id+` 0 obj\r
<<\r
`},Ce.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},Ce.outline.count_r=function(Pe,Re){for(var Ie=0;Ie<Re.children.length;Ie++)Pe.count++,this.count_r(Pe,Re.children[Ie]);return Pe.count}}])}(E.API),function(Ee){var _e=[192,193,194,195,196,197,198,199];Ee.processJPEG=function(Ce,Pe,Re,Ie,Be,je){var De,Fe=this.decode.DCT_DECODE,Oe=null;if(typeof Ce=="string"||this.__addimage__.isArrayBuffer(Ce)||this.__addimage__.isArrayBufferView(Ce)){switch(Ce=Be||Ce,Ce=this.__addimage__.isArrayBuffer(Ce)?new Uint8Array(Ce):Ce,(De=function(ke){for(var Me,$e=256*ke.charCodeAt(4)+ke.charCodeAt(5),He=ke.length,Qe={width:0,height:0,numcomponents:1},Ke=4;Ke<He;Ke+=2){if(Ke+=$e,_e.indexOf(ke.charCodeAt(Ke+1))!==-1){Me=256*ke.charCodeAt(Ke+5)+ke.charCodeAt(Ke+6),Qe={width:256*ke.charCodeAt(Ke+7)+ke.charCodeAt(Ke+8),height:Me,numcomponents:ke.charCodeAt(Ke+9)};break}$e=256*ke.charCodeAt(Ke+2)+ke.charCodeAt(Ke+3)}return Qe}(Ce=this.__addimage__.isArrayBufferView(Ce)?this.__addimage__.arrayBufferToBinaryString(Ce):Ce)).numcomponents){case 1:je=this.color_spaces.DEVICE_GRAY;break;case 4:je=this.color_spaces.DEVICE_CMYK;break;case 3:je=this.color_spaces.DEVICE_RGB}Oe={data:Ce,width:De.width,height:De.height,colorSpace:je,bitsPerComponent:8,filter:Fe,index:Pe,alias:Re}}return Oe}}(E.API);var Vt$1,Gt$1,Yt,Jt,Xt$1,Kt=function(){var Ee,_e,Ce;function Pe(Ie){var Be,je,De,Fe,Oe,ke,Me,$e,He,Qe,Ke,ze,We,qe;for(this.data=Ie,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},ke=null;;){switch(Be=this.readUInt32(),He=(function(){var Ye,Xe;for(Xe=[],Ye=0;Ye<4;++Ye)Xe.push(String.fromCharCode(this.data[this.pos++]));return Xe}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(Be);break;case"fcTL":ke&&this.animation.frames.push(ke),this.pos+=4,ke={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},Oe=this.readUInt16(),Fe=this.readUInt16()||100,ke.delay=1e3*Oe/Fe,ke.disposeOp=this.data[this.pos++],ke.blendOp=this.data[this.pos++],ke.data=[];break;case"IDAT":case"fdAT":for(He==="fdAT"&&(this.pos+=4,Be-=4),Ie=ke?.data||this.imgData,ze=0;0<=Be?ze<Be:ze>Be;0<=Be?++ze:--ze)Ie.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(De=this.palette.length/3,this.transparency.indexed=this.read(Be),this.transparency.indexed.length>De)throw new Error("More transparent colors than palette size");if((Qe=De-this.transparency.indexed.length)>0)for(We=0;0<=Qe?We<Qe:We>Qe;0<=Qe?++We:--We)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(Be)[0];break;case 2:this.transparency.rgb=this.read(Be)}break;case"tEXt":Me=(Ke=this.read(Be)).indexOf(0),$e=String.fromCharCode.apply(String,Ke.slice(0,Me)),this.text[$e]=String.fromCharCode.apply(String,Ke.slice(Me+1));break;case"IEND":return ke&&this.animation.frames.push(ke),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(qe=this.colorType)===4||qe===6,je=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*je,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=Be}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}Pe.prototype.read=function(Ie){var Be,je;for(je=[],Be=0;0<=Ie?Be<Ie:Be>Ie;0<=Ie?++Be:--Be)je.push(this.data[this.pos++]);return je},Pe.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},Pe.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},Pe.prototype.decodePixels=function(Ie){var Be=this.pixelBitlength/8,je=new Uint8Array(this.width*this.height*Be),De=0,Fe=this;if(Ie==null&&(Ie=this.imgData),Ie.length===0)return new Uint8Array(0);function Oe(ke,Me,$e,He){var Qe,Ke,ze,We,qe,Ye,Xe,rr,Je,er,or,pr,ar,fr,gr,Rr,Ir,mr,Er,Ar,br,wr=Math.ceil((Fe.width-ke)/$e),jr=Math.ceil((Fe.height-Me)/He),hr=Fe.width==wr&&Fe.height==jr;for(fr=Be*wr,pr=hr?je:new Uint8Array(fr*jr),Ye=Ie.length,ar=0,Ke=0;ar<jr&&De<Ye;){switch(Ie[De++]){case 0:for(We=Ir=0;Ir<fr;We=Ir+=1)pr[Ke++]=Ie[De++];break;case 1:for(We=mr=0;mr<fr;We=mr+=1)Qe=Ie[De++],qe=We<Be?0:pr[Ke-Be],pr[Ke++]=(Qe+qe)%256;break;case 2:for(We=Er=0;Er<fr;We=Er+=1)Qe=Ie[De++],ze=(We-We%Be)/Be,gr=ar&&pr[(ar-1)*fr+ze*Be+We%Be],pr[Ke++]=(gr+Qe)%256;break;case 3:for(We=Ar=0;Ar<fr;We=Ar+=1)Qe=Ie[De++],ze=(We-We%Be)/Be,qe=We<Be?0:pr[Ke-Be],gr=ar&&pr[(ar-1)*fr+ze*Be+We%Be],pr[Ke++]=(Qe+Math.floor((qe+gr)/2))%256;break;case 4:for(We=br=0;br<fr;We=br+=1)Qe=Ie[De++],ze=(We-We%Be)/Be,qe=We<Be?0:pr[Ke-Be],ar===0?gr=Rr=0:(gr=pr[(ar-1)*fr+ze*Be+We%Be],Rr=ze&&pr[(ar-1)*fr+(ze-1)*Be+We%Be]),Xe=qe+gr-Rr,rr=Math.abs(Xe-qe),er=Math.abs(Xe-gr),or=Math.abs(Xe-Rr),Je=rr<=er&&rr<=or?qe:er<=or?gr:Rr,pr[Ke++]=(Qe+Je)%256;break;default:throw new Error("Invalid filter algorithm: "+Ie[De-1])}if(!hr){var _r=((Me+ar*He)*Fe.width+ke)*Be,Pr=ar*fr;for(We=0;We<wr;We+=1){for(var Cr=0;Cr<Be;Cr+=1)je[_r++]=pr[Pr++];_r+=($e-1)*Be}}ar++}}return Ie=unzlibSync(Ie),Fe.interlaceMethod==1?(Oe(0,0,8,8),Oe(4,0,8,8),Oe(0,4,4,8),Oe(2,0,4,4),Oe(0,2,2,4),Oe(1,0,2,2),Oe(0,1,1,2)):Oe(0,0,1,1),je},Pe.prototype.decodePalette=function(){var Ie,Be,je,De,Fe,Oe,ke,Me,$e;for(je=this.palette,Oe=this.transparency.indexed||[],Fe=new Uint8Array((Oe.length||0)+je.length),De=0,Ie=0,Be=ke=0,Me=je.length;ke<Me;Be=ke+=3)Fe[De++]=je[Be],Fe[De++]=je[Be+1],Fe[De++]=je[Be+2],Fe[De++]=($e=Oe[Ie++])!=null?$e:255;return Fe},Pe.prototype.copyToImageData=function(Ie,Be){var je,De,Fe,Oe,ke,Me,$e,He,Qe,Ke,ze;if(De=this.colors,Qe=null,je=this.hasAlphaChannel,this.palette.length&&(Qe=(ze=this._decodedPalette)!=null?ze:this._decodedPalette=this.decodePalette(),De=4,je=!0),He=(Fe=Ie.data||Ie).length,ke=Qe||Be,Oe=Me=0,De===1)for(;Oe<He;)$e=Qe?4*Be[Oe/4]:Me,Ke=ke[$e++],Fe[Oe++]=Ke,Fe[Oe++]=Ke,Fe[Oe++]=Ke,Fe[Oe++]=je?ke[$e++]:255,Me=$e;else for(;Oe<He;)$e=Qe?4*Be[Oe/4]:Me,Fe[Oe++]=ke[$e++],Fe[Oe++]=ke[$e++],Fe[Oe++]=ke[$e++],Fe[Oe++]=je?ke[$e++]:255,Me=$e},Pe.prototype.decode=function(){var Ie;return Ie=new Uint8Array(this.width*this.height*4),this.copyToImageData(Ie,this.decodePixels()),Ie};var Re=function(){if(Object.prototype.toString.call(n$1)==="[object Window]"){try{_e=n$1.document.createElement("canvas"),Ce=_e.getContext("2d")}catch{return!1}return!0}return!1};return Re(),Ee=function(Ie){var Be;if(Re()===!0)return Ce.width=Ie.width,Ce.height=Ie.height,Ce.clearRect(0,0,Ie.width,Ie.height),Ce.putImageData(Ie,0,0),(Be=new Image).src=_e.toDataURL(),Be;throw new Error("This method requires a Browser with Canvas-capability.")},Pe.prototype.decodeFrames=function(Ie){var Be,je,De,Fe,Oe,ke,Me,$e;if(this.animation){for($e=[],je=Oe=0,ke=(Me=this.animation.frames).length;Oe<ke;je=++Oe)Be=Me[je],De=Ie.createImageData(Be.width,Be.height),Fe=this.decodePixels(new Uint8Array(Be.data)),this.copyToImageData(De,Fe),Be.imageData=De,$e.push(Be.image=Ee(De));return $e}},Pe.prototype.renderFrame=function(Ie,Be){var je,De,Fe;return je=(De=this.animation.frames)[Be],Fe=De[Be-1],Be===0&&Ie.clearRect(0,0,this.width,this.height),Fe?.disposeOp===1?Ie.clearRect(Fe.xOffset,Fe.yOffset,Fe.width,Fe.height):Fe?.disposeOp===2&&Ie.putImageData(Fe.imageData,Fe.xOffset,Fe.yOffset),je.blendOp===0&&Ie.clearRect(je.xOffset,je.yOffset,je.width,je.height),Ie.drawImage(je.image,je.xOffset,je.yOffset)},Pe.prototype.animate=function(Ie){var Be,je,De,Fe,Oe,ke,Me=this;return je=0,ke=this.animation,Fe=ke.numFrames,De=ke.frames,Oe=ke.numPlays,(Be=function(){var $e,He;if($e=je++%Fe,He=De[$e],Me.renderFrame(Ie,$e),Fe>1&&je/Fe<Oe)return Me.animation._timeout=setTimeout(Be,He.delay)})()},Pe.prototype.stopAnimation=function(){var Ie;return clearTimeout((Ie=this.animation)!=null?Ie._timeout:void 0)},Pe.prototype.render=function(Ie){var Be,je;return Ie._png&&Ie._png.stopAnimation(),Ie._png=this,Ie.width=this.width,Ie.height=this.height,Be=Ie.getContext("2d"),this.animation?(this.decodeFrames(Be),this.animate(Be)):(je=Be.createImageData(this.width,this.height),this.copyToImageData(je,this.decodePixels()),Be.putImageData(je,0,0))},Pe}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(Ee){var _e=0;if(Ee[_e++]!==71||Ee[_e++]!==73||Ee[_e++]!==70||Ee[_e++]!==56||(Ee[_e++]+1&253)!=56||Ee[_e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var Ce=Ee[_e++]|Ee[_e++]<<8,Pe=Ee[_e++]|Ee[_e++]<<8,Re=Ee[_e++],Ie=Re>>7,Be=1<<(7&Re)+1;Ee[_e++],Ee[_e++];var je=null,De=null;Ie&&(je=_e,De=Be,_e+=3*Be);var Fe=!0,Oe=[],ke=0,Me=null,$e=0,He=null;for(this.width=Ce,this.height=Pe;Fe&&_e<Ee.length;)switch(Ee[_e++]){case 33:switch(Ee[_e++]){case 255:if(Ee[_e]!==11||Ee[_e+1]==78&&Ee[_e+2]==69&&Ee[_e+3]==84&&Ee[_e+4]==83&&Ee[_e+5]==67&&Ee[_e+6]==65&&Ee[_e+7]==80&&Ee[_e+8]==69&&Ee[_e+9]==50&&Ee[_e+10]==46&&Ee[_e+11]==48&&Ee[_e+12]==3&&Ee[_e+13]==1&&Ee[_e+16]==0)_e+=14,He=Ee[_e++]|Ee[_e++]<<8,_e++;else for(_e+=12;;){if(!((ar=Ee[_e++])>=0))throw Error("Invalid block size");if(ar===0)break;_e+=ar}break;case 249:if(Ee[_e++]!==4||Ee[_e+4]!==0)throw new Error("Invalid graphics extension block.");var Qe=Ee[_e++];ke=Ee[_e++]|Ee[_e++]<<8,Me=Ee[_e++],(1&Qe)==0&&(Me=null),$e=Qe>>2&7,_e++;break;case 254:for(;;){if(!((ar=Ee[_e++])>=0))throw Error("Invalid block size");if(ar===0)break;_e+=ar}break;default:throw new Error("Unknown graphic control label: 0x"+Ee[_e-1].toString(16))}break;case 44:var Ke=Ee[_e++]|Ee[_e++]<<8,ze=Ee[_e++]|Ee[_e++]<<8,We=Ee[_e++]|Ee[_e++]<<8,qe=Ee[_e++]|Ee[_e++]<<8,Ye=Ee[_e++],Xe=Ye>>6&1,rr=1<<(7&Ye)+1,Je=je,er=De,or=!1;Ye>>7&&(or=!0,Je=_e,er=rr,_e+=3*rr);var pr=_e;for(_e++;;){var ar;if(!((ar=Ee[_e++])>=0))throw Error("Invalid block size");if(ar===0)break;_e+=ar}Oe.push({x:Ke,y:ze,width:We,height:qe,has_local_palette:or,palette_offset:Je,palette_size:er,data_offset:pr,data_length:_e-pr,transparent_index:Me,interlaced:!!Xe,delay:ke,disposal:$e});break;case 59:Fe=!1;break;default:throw new Error("Unknown gif block: 0x"+Ee[_e-1].toString(16))}this.numFrames=function(){return Oe.length},this.loopCount=function(){return He},this.frameInfo=function(fr){if(fr<0||fr>=Oe.length)throw new Error("Frame index out of range.");return Oe[fr]},this.decodeAndBlitFrameBGRA=function(fr,gr){var Rr=this.frameInfo(fr),Ir=Rr.width*Rr.height,mr=new Uint8Array(Ir);$t(Ee,Rr.data_offset,mr,Ir);var Er=Rr.palette_offset,Ar=Rr.transparent_index;Ar===null&&(Ar=256);var br=Rr.width,wr=Ce-br,jr=br,hr=4*(Rr.y*Ce+Rr.x),_r=4*((Rr.y+Rr.height)*Ce+Rr.x),Pr=hr,Cr=4*wr;Rr.interlaced===!0&&(Cr+=4*Ce*7);for(var Or=8,Yr=0,qr=mr.length;Yr<qr;++Yr){var Kr=mr[Yr];if(jr===0&&(jr=br,(Pr+=Cr)>=_r&&(Cr=4*wr+4*Ce*(Or-1),Pr=hr+(br+wr)*(Or<<1),Or>>=1)),Kr===Ar)Pr+=4;else{var Zr=Ee[Er+3*Kr],yn=Ee[Er+3*Kr+1],mn=Ee[Er+3*Kr+2];gr[Pr++]=mn,gr[Pr++]=yn,gr[Pr++]=Zr,gr[Pr++]=255}--jr}},this.decodeAndBlitFrameRGBA=function(fr,gr){var Rr=this.frameInfo(fr),Ir=Rr.width*Rr.height,mr=new Uint8Array(Ir);$t(Ee,Rr.data_offset,mr,Ir);var Er=Rr.palette_offset,Ar=Rr.transparent_index;Ar===null&&(Ar=256);var br=Rr.width,wr=Ce-br,jr=br,hr=4*(Rr.y*Ce+Rr.x),_r=4*((Rr.y+Rr.height)*Ce+Rr.x),Pr=hr,Cr=4*wr;Rr.interlaced===!0&&(Cr+=4*Ce*7);for(var Or=8,Yr=0,qr=mr.length;Yr<qr;++Yr){var Kr=mr[Yr];if(jr===0&&(jr=br,(Pr+=Cr)>=_r&&(Cr=4*wr+4*Ce*(Or-1),Pr=hr+(br+wr)*(Or<<1),Or>>=1)),Kr===Ar)Pr+=4;else{var Zr=Ee[Er+3*Kr],yn=Ee[Er+3*Kr+1],mn=Ee[Er+3*Kr+2];gr[Pr++]=Zr,gr[Pr++]=yn,gr[Pr++]=mn,gr[Pr++]=255}--jr}}}function $t(Ee,_e,Ce,Pe){for(var Re=Ee[_e++],Ie=1<<Re,Be=Ie+1,je=Be+1,De=Re+1,Fe=(1<<De)-1,Oe=0,ke=0,Me=0,$e=Ee[_e++],He=new Int32Array(4096),Qe=null;;){for(;Oe<16&&$e!==0;)ke|=Ee[_e++]<<Oe,Oe+=8,$e===1?$e=Ee[_e++]:--$e;if(Oe<De)break;var Ke=ke&Fe;if(ke>>=De,Oe-=De,Ke!==Ie){if(Ke===Be)break;for(var ze=Ke<je?Ke:Qe,We=0,qe=ze;qe>Ie;)qe=He[qe]>>8,++We;var Ye=qe;if(Me+We+(ze!==Ke?1:0)>Pe)return void a$2.log("Warning, gif stream longer than expected.");Ce[Me++]=Ye;var Xe=Me+=We;for(ze!==Ke&&(Ce[Me++]=Ye),qe=ze;We--;)qe=He[qe],Ce[--Xe]=255&qe,qe>>=8;Qe!==null&&je<4096&&(He[je++]=Qe<<8|Ye,je>=Fe+1&&De<12&&(++De,Fe=Fe<<1|1)),Qe=Ke}else je=Be+1,Fe=(1<<(De=Re+1))-1,Qe=null}return Me!==Pe&&a$2.log("Warning, gif stream shorter than expected."),Ce}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt$1(Ee){var _e,Ce,Pe,Re,Ie,Be=Math.floor,je=new Array(64),De=new Array(64),Fe=new Array(64),Oe=new Array(64),ke=new Array(65535),Me=new Array(65535),$e=new Array(64),He=new Array(64),Qe=[],Ke=0,ze=7,We=new Array(64),qe=new Array(64),Ye=new Array(64),Xe=new Array(256),rr=new Array(2048),Je=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],er=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],or=[0,1,2,3,4,5,6,7,8,9,10,11],pr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ar=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],fr=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],gr=[0,1,2,3,4,5,6,7,8,9,10,11],Rr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ir=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function mr(hr,_r){for(var Pr=0,Cr=0,Or=new Array,Yr=1;Yr<=16;Yr++){for(var qr=1;qr<=hr[Yr];qr++)Or[_r[Cr]]=[],Or[_r[Cr]][0]=Pr,Or[_r[Cr]][1]=Yr,Cr++,Pr++;Pr*=2}return Or}function Er(hr){for(var _r=hr[0],Pr=hr[1]-1;Pr>=0;)_r&1<<Pr&&(Ke|=1<<ze),Pr--,--ze<0&&(Ke==255?(Ar(255),Ar(0)):Ar(Ke),ze=7,Ke=0)}function Ar(hr){Qe.push(hr)}function br(hr){Ar(hr>>8&255),Ar(255&hr)}function wr(hr,_r,Pr,Cr,Or){for(var Yr,qr=Or[0],Kr=Or[240],Zr=function(Jn,ui){var li,mi,wi,Di,$i,Si,Bi,Vi,Pn,En,jn=0;for(Pn=0;Pn<8;++Pn){li=Jn[jn],mi=Jn[jn+1],wi=Jn[jn+2],Di=Jn[jn+3],$i=Jn[jn+4],Si=Jn[jn+5],Bi=Jn[jn+6];var ni=li+(Vi=Jn[jn+7]),ii=li-Vi,Fi=mi+Bi,bi=mi-Bi,Wi=wi+Si,ws=wi-Si,Zi=Di+$i,fa=Di-$i,vs=ni+Zi,Zs=ni-Zi,Ji=Fi+Wi,Ti=Fi-Wi;Jn[jn]=vs+Ji,Jn[jn+4]=vs-Ji;var xi=.707106781*(Ti+Zs);Jn[jn+2]=Zs+xi,Jn[jn+6]=Zs-xi;var Ui=.382683433*((vs=fa+ws)-(Ti=bi+ii)),ss=.5411961*vs+Ui,us=1.306562965*Ti+Ui,Js=.707106781*(Ji=ws+bi),Na=ii+Js,Ri=ii-Js;Jn[jn+5]=Ri+ss,Jn[jn+3]=Ri-ss,Jn[jn+1]=Na+us,Jn[jn+7]=Na-us,jn+=8}for(jn=0,Pn=0;Pn<8;++Pn){li=Jn[jn],mi=Jn[jn+8],wi=Jn[jn+16],Di=Jn[jn+24],$i=Jn[jn+32],Si=Jn[jn+40],Bi=Jn[jn+48];var Qi=li+(Vi=Jn[jn+56]),ks=li-Vi,ta=mi+Bi,qi=mi-Bi,aa=wi+Si,Ur=wi-Si,An=Di+$i,Xr=Di-$i,un=Qi+An,pn=Qi-An,gn=ta+aa,Un=ta-aa;Jn[jn]=un+gn,Jn[jn+32]=un-gn;var Yn=.707106781*(Un+pn);Jn[jn+16]=pn+Yn,Jn[jn+48]=pn-Yn;var On=.382683433*((un=Xr+Ur)-(Un=qi+ks)),Qn=.5411961*un+On,Wn=1.306562965*Un+On,gi=.707106781*(gn=Ur+qi),Ci=ks+gi,Hi=ks-gi;Jn[jn+40]=Hi+Qn,Jn[jn+24]=Hi-Qn,Jn[jn+8]=Ci+Wn,Jn[jn+56]=Ci-Wn,jn++}for(Pn=0;Pn<64;++Pn)En=Jn[Pn]*ui[Pn],$e[Pn]=En>0?En+.5|0:En-.5|0;return $e}(hr,_r),yn=0;yn<64;++yn)He[Je[yn]]=Zr[yn];var mn=He[0]-Pr;Pr=He[0],mn==0?Er(Cr[0]):(Er(Cr[Me[Yr=32767+mn]]),Er(ke[Yr]));for(var Cn=63;Cn>0&&He[Cn]==0;)Cn--;if(Cn==0)return Er(qr),Pr;for(var bn,wn=1;wn<=Cn;){for(var Jr=wn;He[wn]==0&&wn<=Cn;)++wn;var qn=wn-Jr;if(qn>=16){bn=qn>>4;for(var ci=1;ci<=bn;++ci)Er(Kr);qn&=15}Yr=32767+He[wn],Er(Or[(qn<<4)+Me[Yr]]),Er(ke[Yr]),wn++}return Cn!=63&&Er(qr),Pr}function jr(hr){hr=Math.min(Math.max(hr,1),100),Ie!=hr&&(function(_r){for(var Pr=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Cr=0;Cr<64;Cr++){var Or=Be((Pr[Cr]*_r+50)/100);Or=Math.min(Math.max(Or,1),255),je[Je[Cr]]=Or}for(var Yr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],qr=0;qr<64;qr++){var Kr=Be((Yr[qr]*_r+50)/100);Kr=Math.min(Math.max(Kr,1),255),De[Je[qr]]=Kr}for(var Zr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],yn=0,mn=0;mn<8;mn++)for(var Cn=0;Cn<8;Cn++)Fe[yn]=1/(je[Je[yn]]*Zr[mn]*Zr[Cn]*8),Oe[yn]=1/(De[Je[yn]]*Zr[mn]*Zr[Cn]*8),yn++}(hr<50?Math.floor(5e3/hr):Math.floor(200-2*hr)),Ie=hr)}this.encode=function(hr,_r){_r&&jr(_r),Qe=new Array,Ke=0,ze=7,br(65496),br(65504),br(16),Ar(74),Ar(70),Ar(73),Ar(70),Ar(0),Ar(1),Ar(1),Ar(0),br(1),br(1),Ar(0),Ar(0),function(){br(65499),br(132),Ar(0);for(var mi=0;mi<64;mi++)Ar(je[mi]);Ar(1);for(var wi=0;wi<64;wi++)Ar(De[wi])}(),function(mi,wi){br(65472),br(17),Ar(8),br(wi),br(mi),Ar(3),Ar(1),Ar(17),Ar(0),Ar(2),Ar(17),Ar(1),Ar(3),Ar(17),Ar(1)}(hr.width,hr.height),function(){br(65476),br(418),Ar(0);for(var mi=0;mi<16;mi++)Ar(er[mi+1]);for(var wi=0;wi<=11;wi++)Ar(or[wi]);Ar(16);for(var Di=0;Di<16;Di++)Ar(pr[Di+1]);for(var $i=0;$i<=161;$i++)Ar(ar[$i]);Ar(1);for(var Si=0;Si<16;Si++)Ar(fr[Si+1]);for(var Bi=0;Bi<=11;Bi++)Ar(gr[Bi]);Ar(17);for(var Vi=0;Vi<16;Vi++)Ar(Rr[Vi+1]);for(var Pn=0;Pn<=161;Pn++)Ar(Ir[Pn])}(),br(65498),br(12),Ar(3),Ar(1),Ar(0),Ar(2),Ar(17),Ar(3),Ar(17),Ar(0),Ar(63),Ar(0);var Pr=0,Cr=0,Or=0;Ke=0,ze=7,this.encode.displayName="_encode_";for(var Yr,qr,Kr,Zr,yn,mn,Cn,bn,wn,Jr=hr.data,qn=hr.width,ci=hr.height,Jn=4*qn,ui=0;ui<ci;){for(Yr=0;Yr<Jn;){for(yn=Jn*ui+Yr,Cn=-1,bn=0,wn=0;wn<64;wn++)mn=yn+(bn=wn>>3)*Jn+(Cn=4*(7&wn)),ui+bn>=ci&&(mn-=Jn*(ui+1+bn-ci)),Yr+Cn>=Jn&&(mn-=Yr+Cn-Jn+4),qr=Jr[mn++],Kr=Jr[mn++],Zr=Jr[mn++],We[wn]=(rr[qr]+rr[Kr+256>>0]+rr[Zr+512>>0]>>16)-128,qe[wn]=(rr[qr+768>>0]+rr[Kr+1024>>0]+rr[Zr+1280>>0]>>16)-128,Ye[wn]=(rr[qr+1280>>0]+rr[Kr+1536>>0]+rr[Zr+1792>>0]>>16)-128;Pr=wr(We,Fe,Pr,_e,Pe),Cr=wr(qe,Oe,Cr,Ce,Re),Or=wr(Ye,Oe,Or,Ce,Re),Yr+=32}ui+=8}if(ze>=0){var li=[];li[1]=ze+1,li[0]=(1<<ze+1)-1,Er(li)}return br(65497),new Uint8Array(Qe)},Ee=Ee||50,function(){for(var hr=String.fromCharCode,_r=0;_r<256;_r++)Xe[_r]=hr(_r)}(),_e=mr(er,or),Ce=mr(fr,gr),Pe=mr(pr,ar),Re=mr(Rr,Ir),function(){for(var hr=1,_r=2,Pr=1;Pr<=15;Pr++){for(var Cr=hr;Cr<_r;Cr++)Me[32767+Cr]=Pr,ke[32767+Cr]=[],ke[32767+Cr][1]=Pr,ke[32767+Cr][0]=Cr;for(var Or=-(_r-1);Or<=-hr;Or++)Me[32767+Or]=Pr,ke[32767+Or]=[],ke[32767+Or][1]=Pr,ke[32767+Or][0]=_r-1+Or;hr<<=1,_r<<=1}}(),function(){for(var hr=0;hr<256;hr++)rr[hr]=19595*hr,rr[hr+256>>0]=38470*hr,rr[hr+512>>0]=7471*hr+32768,rr[hr+768>>0]=-11059*hr,rr[hr+1024>>0]=-21709*hr,rr[hr+1280>>0]=32768*hr+8421375,rr[hr+1536>>0]=-27439*hr,rr[hr+1792>>0]=-5329*hr}(),jr(Ee)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(Ee,_e){if(this.pos=0,this.buffer=Ee,this.datav=new DataView(Ee.buffer),this.is_with_alpha=!!_e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(Ee){function _e(er){if(!er)throw Error("assert :P")}function Ce(er,or,pr){for(var ar=0;4>ar;ar++)if(er[or+ar]!=pr.charCodeAt(ar))return!0;return!1}function Pe(er,or,pr,ar,fr){for(var gr=0;gr<fr;gr++)er[or+gr]=pr[ar+gr]}function Re(er,or,pr,ar){for(var fr=0;fr<ar;fr++)er[or+fr]=pr}function Ie(er){return new Int32Array(er)}function Be(er,or){for(var pr=[],ar=0;ar<er;ar++)pr.push(new or);return pr}function je(er,or){var pr=[];return function ar(fr,gr,Rr){for(var Ir=Rr[gr],mr=0;mr<Ir&&(fr.push(Rr.length>gr+1?[]:new or),!(Rr.length<gr+1));mr++)ar(fr[mr],gr+1,Rr)}(pr,0,er),pr}var De=function(){var er=this;function or(tr,dr){for(var xr=1<<dr-1>>>0;tr&xr;)xr>>>=1;return xr?(tr&xr-1)+xr:tr}function pr(tr,dr,xr,Br,Nr){_e(!(Br%xr));do tr[dr+(Br-=xr)]=Nr;while(0<Br)}function ar(tr,dr,xr,Br,Nr){if(_e(2328>=Nr),512>=Nr)var $r=Ie(512);else if(($r=Ie(Nr))==null)return 0;return function(Hr,zr,Gr,hn,Tn,zn){var Hn,kn,ri=zr,ei=1<<Gr,Rn=Ie(16),Fn=Ie(16);for(_e(Tn!=0),_e(hn!=null),_e(Hr!=null),_e(0<Gr),kn=0;kn<Tn;++kn){if(15<hn[kn])return 0;++Rn[hn[kn]]}if(Rn[0]==Tn)return 0;for(Fn[1]=0,Hn=1;15>Hn;++Hn){if(Rn[Hn]>1<<Hn)return 0;Fn[Hn+1]=Fn[Hn]+Rn[Hn]}for(kn=0;kn<Tn;++kn)Hn=hn[kn],0<hn[kn]&&(zn[Fn[Hn]++]=kn);if(Fn[15]==1)return(hn=new fr).g=0,hn.value=zn[0],pr(Hr,ri,1,ei,hn),ei;var oi,hi=-1,fi=ei-1,Ki=0,Oi=1,es=1,ki=1<<Gr;for(kn=0,Hn=1,Tn=2;Hn<=Gr;++Hn,Tn<<=1){if(Oi+=es<<=1,0>(es-=Rn[Hn]))return 0;for(;0<Rn[Hn];--Rn[Hn])(hn=new fr).g=Hn,hn.value=zn[kn++],pr(Hr,ri+Ki,Tn,ki,hn),Ki=or(Ki,Hn)}for(Hn=Gr+1,Tn=2;15>=Hn;++Hn,Tn<<=1){if(Oi+=es<<=1,0>(es-=Rn[Hn]))return 0;for(;0<Rn[Hn];--Rn[Hn]){if(hn=new fr,(Ki&fi)!=hi){for(ri+=ki,oi=1<<(hi=Hn)-Gr;15>hi&&!(0>=(oi-=Rn[hi]));)++hi,oi<<=1;ei+=ki=1<<(oi=hi-Gr),Hr[zr+(hi=Ki&fi)].g=oi+Gr,Hr[zr+hi].value=ri-zr-hi}hn.g=Hn-Gr,hn.value=zn[kn++],pr(Hr,ri+(Ki>>Gr),Tn,ki,hn),Ki=or(Ki,Hn)}}return Oi!=2*Fn[15]-1?0:ei}(tr,dr,xr,Br,Nr,$r)}function fr(){this.value=this.g=0}function gr(){this.value=this.g=0}function Rr(){this.G=Be(5,fr),this.H=Ie(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Be(Ta,gr)}function Ir(tr,dr,xr,Br){_e(tr!=null),_e(dr!=null),_e(2147483648>Br),tr.Ca=254,tr.I=0,tr.b=-8,tr.Ka=0,tr.oa=dr,tr.pa=xr,tr.Jd=dr,tr.Yc=xr+Br,tr.Zc=4<=Br?xr+Br-4+1:xr,Yr(tr)}function mr(tr,dr){for(var xr=0;0<dr--;)xr|=Kr(tr,128)<<dr;return xr}function Er(tr,dr){var xr=mr(tr,dr);return qr(tr)?-xr:xr}function Ar(tr,dr,xr,Br){var Nr,$r=0;for(_e(tr!=null),_e(dr!=null),_e(4294967288>Br),tr.Sb=Br,tr.Ra=0,tr.u=0,tr.h=0,4<Br&&(Br=4),Nr=0;Nr<Br;++Nr)$r+=dr[xr+Nr]<<8*Nr;tr.Ra=$r,tr.bb=Br,tr.oa=dr,tr.pa=xr}function br(tr){for(;8<=tr.u&&tr.bb<tr.Sb;)tr.Ra>>>=8,tr.Ra+=tr.oa[tr.pa+tr.bb]<<Jc-8>>>0,++tr.bb,tr.u-=8;Pr(tr)&&(tr.h=1,tr.u=0)}function wr(tr,dr){if(_e(0<=dr),!tr.h&&dr<=Zc){var xr=_r(tr)&$s[dr];return tr.u+=dr,br(tr),xr}return tr.h=1,tr.u=0}function jr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function hr(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function _r(tr){return tr.Ra>>>(tr.u&Jc-1)>>>0}function Pr(tr){return _e(tr.bb<=tr.Sb),tr.h||tr.bb==tr.Sb&&tr.u>Jc}function Cr(tr,dr){tr.u=dr,tr.h=Pr(tr)}function Or(tr){tr.u>=gu&&(_e(tr.u>=gu),br(tr))}function Yr(tr){_e(tr!=null&&tr.oa!=null),tr.pa<tr.Zc?(tr.I=(tr.oa[tr.pa++]|tr.I<<8)>>>0,tr.b+=8):(_e(tr!=null&&tr.oa!=null),tr.pa<tr.Yc?(tr.b+=8,tr.I=tr.oa[tr.pa++]|tr.I<<8):tr.Ka?tr.b=0:(tr.I<<=8,tr.b+=8,tr.Ka=1))}function qr(tr){return mr(tr,1)}function Kr(tr,dr){var xr=tr.Ca;0>tr.b&&Yr(tr);var Br=tr.b,Nr=xr*dr>>>8,$r=(tr.I>>>Br>Nr)+0;for($r?(xr-=Nr,tr.I-=Nr+1<<Br>>>0):xr=Nr+1,Br=xr,Nr=0;256<=Br;)Nr+=8,Br>>=8;return Br=7^Nr+$o[Br],tr.b-=Br,tr.Ca=(xr<<Br)-1,$r}function Zr(tr,dr,xr){tr[dr+0]=xr>>24&255,tr[dr+1]=xr>>16&255,tr[dr+2]=xr>>8&255,tr[dr+3]=xr>>0&255}function yn(tr,dr){return tr[dr+0]<<0|tr[dr+1]<<8}function mn(tr,dr){return yn(tr,dr)|tr[dr+2]<<16}function Cn(tr,dr){return yn(tr,dr)|yn(tr,dr+2)<<16}function bn(tr,dr){var xr=1<<dr;return _e(tr!=null),_e(0<dr),tr.X=Ie(xr),tr.X==null?0:(tr.Mb=32-dr,tr.Xa=dr,1)}function wn(tr,dr){_e(tr!=null),_e(dr!=null),_e(tr.Xa==dr.Xa),Pe(dr.X,0,tr.X,0,1<<dr.Xa)}function Jr(){this.X=[],this.Xa=this.Mb=0}function qn(tr,dr,xr,Br){_e(xr!=null),_e(Br!=null);var Nr=xr[0],$r=Br[0];return Nr==0&&(Nr=(tr*$r+dr/2)/dr),$r==0&&($r=(dr*Nr+tr/2)/tr),0>=Nr||0>=$r?0:(xr[0]=Nr,Br[0]=$r,1)}function ci(tr,dr){return tr+(1<<dr)-1>>>dr}function Jn(tr,dr){return((4278255360&tr)+(4278255360&dr)>>>0&4278255360)+((16711935&tr)+(16711935&dr)>>>0&16711935)>>>0}function ui(tr,dr){er[dr]=function(xr,Br,Nr,$r,Hr,zr,Gr){var hn;for(hn=0;hn<Hr;++hn){var Tn=er[tr](zr[Gr+hn-1],Nr,$r+hn);zr[Gr+hn]=Jn(xr[Br+hn],Tn)}}}function li(){this.ud=this.hd=this.jd=0}function mi(tr,dr){return((4278124286&(tr^dr))>>>1)+(tr&dr)>>>0}function wi(tr){return 0<=tr&&256>tr?tr:0>tr?0:255<tr?255:void 0}function Di(tr,dr){return wi(tr+(tr-dr+.5>>1))}function $i(tr,dr,xr){return Math.abs(dr-xr)-Math.abs(tr-xr)}function Si(tr,dr,xr,Br,Nr,$r,Hr){for(Br=$r[Hr-1],xr=0;xr<Nr;++xr)$r[Hr+xr]=Br=Jn(tr[dr+xr],Br)}function Bi(tr,dr,xr,Br,Nr){var $r;for($r=0;$r<xr;++$r){var Hr=tr[dr+$r],zr=Hr>>8&255,Gr=16711935&(Gr=(Gr=16711935&Hr)+((zr<<16)+zr));Br[Nr+$r]=(4278255360&Hr)+Gr>>>0}}function Vi(tr,dr){dr.jd=tr>>0&255,dr.hd=tr>>8&255,dr.ud=tr>>16&255}function Pn(tr,dr,xr,Br,Nr,$r){var Hr;for(Hr=0;Hr<Br;++Hr){var zr=dr[xr+Hr],Gr=zr>>>8,hn=zr,Tn=255&(Tn=(Tn=zr>>>16)+((tr.jd<<24>>24)*(Gr<<24>>24)>>>5));hn=255&(hn=(hn=hn+((tr.hd<<24>>24)*(Gr<<24>>24)>>>5))+((tr.ud<<24>>24)*(Tn<<24>>24)>>>5)),Nr[$r+Hr]=(4278255360&zr)+(Tn<<16)+hn}}function En(tr,dr,xr,Br,Nr){er[dr]=function($r,Hr,zr,Gr,hn,Tn,zn,Hn,kn){for(Gr=zn;Gr<Hn;++Gr)for(zn=0;zn<kn;++zn)hn[Tn++]=Nr(zr[Br($r[Hr++])])},er[tr]=function($r,Hr,zr,Gr,hn,Tn,zn){var Hn=8>>$r.b,kn=$r.Ea,ri=$r.K[0],ei=$r.w;if(8>Hn)for($r=(1<<$r.b)-1,ei=(1<<Hn)-1;Hr<zr;++Hr){var Rn,Fn=0;for(Rn=0;Rn<kn;++Rn)Rn&$r||(Fn=Br(Gr[hn++])),Tn[zn++]=Nr(ri[Fn&ei]),Fn>>=Hn}else er["VP8LMapColor"+xr](Gr,hn,ri,ei,Tn,zn,Hr,zr,kn)}}function jn(tr,dr,xr,Br,Nr){for(xr=dr+xr;dr<xr;){var $r=tr[dr++];Br[Nr++]=$r>>16&255,Br[Nr++]=$r>>8&255,Br[Nr++]=$r>>0&255}}function ni(tr,dr,xr,Br,Nr){for(xr=dr+xr;dr<xr;){var $r=tr[dr++];Br[Nr++]=$r>>16&255,Br[Nr++]=$r>>8&255,Br[Nr++]=$r>>0&255,Br[Nr++]=$r>>24&255}}function ii(tr,dr,xr,Br,Nr){for(xr=dr+xr;dr<xr;){var $r=(Hr=tr[dr++])>>16&240|Hr>>12&15,Hr=Hr>>0&240|Hr>>28&15;Br[Nr++]=$r,Br[Nr++]=Hr}}function Fi(tr,dr,xr,Br,Nr){for(xr=dr+xr;dr<xr;){var $r=(Hr=tr[dr++])>>16&248|Hr>>13&7,Hr=Hr>>5&224|Hr>>3&31;Br[Nr++]=$r,Br[Nr++]=Hr}}function bi(tr,dr,xr,Br,Nr){for(xr=dr+xr;dr<xr;){var $r=tr[dr++];Br[Nr++]=$r>>0&255,Br[Nr++]=$r>>8&255,Br[Nr++]=$r>>16&255}}function Wi(tr,dr,xr,Br,Nr,$r){if($r==0)for(xr=dr+xr;dr<xr;)Zr(Br,(($r=tr[dr++])[0]>>24|$r[1]>>8&65280|$r[2]<<8&16711680|$r[3]<<24)>>>0),Nr+=32;else Pe(Br,Nr,tr,dr,xr)}function ws(tr,dr){er[dr][0]=er[tr+"0"],er[dr][1]=er[tr+"1"],er[dr][2]=er[tr+"2"],er[dr][3]=er[tr+"3"],er[dr][4]=er[tr+"4"],er[dr][5]=er[tr+"5"],er[dr][6]=er[tr+"6"],er[dr][7]=er[tr+"7"],er[dr][8]=er[tr+"8"],er[dr][9]=er[tr+"9"],er[dr][10]=er[tr+"10"],er[dr][11]=er[tr+"11"],er[dr][12]=er[tr+"12"],er[dr][13]=er[tr+"13"],er[dr][14]=er[tr+"0"],er[dr][15]=er[tr+"0"]}function Zi(tr){return tr==Pf||tr==iu||tr==jc||tr==Dc}function fa(){this.eb=[],this.size=this.A=this.fb=0}function vs(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Zs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fa,this.f.kb=new vs,this.sd=null}function Ji(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ti(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xi(tr){return alert("todo:WebPSamplerProcessPlane"),tr.T}function Ui(tr,dr){var xr=tr.T,Br=dr.ba.f.RGBA,Nr=Br.eb,$r=Br.fb+tr.ka*Br.A,Hr=xo[dr.ba.S],zr=tr.y,Gr=tr.O,hn=tr.f,Tn=tr.N,zn=tr.ea,Hn=tr.W,kn=dr.cc,ri=dr.dc,ei=dr.Mc,Rn=dr.Nc,Fn=tr.ka,oi=tr.ka+tr.T,hi=tr.U,fi=hi+1>>1;for(Fn==0?Hr(zr,Gr,null,null,hn,Tn,zn,Hn,hn,Tn,zn,Hn,Nr,$r,null,null,hi):(Hr(dr.ec,dr.fc,zr,Gr,kn,ri,ei,Rn,hn,Tn,zn,Hn,Nr,$r-Br.A,Nr,$r,hi),++xr);Fn+2<oi;Fn+=2)kn=hn,ri=Tn,ei=zn,Rn=Hn,Tn+=tr.Rc,Hn+=tr.Rc,$r+=2*Br.A,Hr(zr,(Gr+=2*tr.fa)-tr.fa,zr,Gr,kn,ri,ei,Rn,hn,Tn,zn,Hn,Nr,$r-Br.A,Nr,$r,hi);return Gr+=tr.fa,tr.j+oi<tr.o?(Pe(dr.ec,dr.fc,zr,Gr,hi),Pe(dr.cc,dr.dc,hn,Tn,fi),Pe(dr.Mc,dr.Nc,zn,Hn,fi),xr--):1&oi||Hr(zr,Gr,null,null,hn,Tn,zn,Hn,hn,Tn,zn,Hn,Nr,$r+Br.A,null,null,hi),xr}function ss(tr,dr,xr){var Br=tr.F,Nr=[tr.J];if(Br!=null){var $r=tr.U,Hr=dr.ba.S,zr=Hr==Eu||Hr==jc;dr=dr.ba.f.RGBA;var Gr=[0],hn=tr.ka;Gr[0]=tr.T,tr.Kb&&(hn==0?--Gr[0]:(--hn,Nr[0]-=tr.width),tr.j+tr.ka+tr.T==tr.o&&(Gr[0]=tr.o-tr.j-hn));var Tn=dr.eb;hn=dr.fb+hn*dr.A,tr=Ps(Br,Nr[0],tr.width,$r,Gr,Tn,hn+(zr?0:3),dr.A),_e(xr==Gr),tr&&Zi(Hr)&&rl(Tn,hn,zr,$r,Gr,dr.A)}return 0}function us(tr){var dr=tr.ma,xr=dr.ba.S,Br=11>xr,Nr=xr==sf||xr==Cf||xr==Eu||xr==Pl||xr==12||Zi(xr);if(dr.memory=null,dr.Ib=null,dr.Jb=null,dr.Nd=null,!va(dr.Oa,tr,Nr?11:12))return 0;if(Nr&&Zi(xr)&&_i(),tr.da)alert("todo:use_scaling");else{if(Br){if(dr.Ib=xi,tr.Kb){if(xr=tr.U+1>>1,dr.memory=Ie(tr.U+2*xr),dr.memory==null)return 0;dr.ec=dr.memory,dr.fc=0,dr.cc=dr.ec,dr.dc=dr.fc+tr.U,dr.Mc=dr.cc,dr.Nc=dr.dc+xr,dr.Ib=Ui,_i()}}else alert("todo:EmitYUV");Nr&&(dr.Jb=ss,Br&&Nn())}if(Br&&!uh){for(tr=0;256>tr;++tr)Mh[tr]=89858*(tr-128)+Ja>>Ac,If[tr]=-22014*(tr-128)+Ja,Bd[tr]=-45773*(tr-128),eo[tr]=113618*(tr-128)+Ja>>Ac;for(tr=Kl;tr<nd;++tr)dr=76283*(tr-16)+Ja>>Ac,Bf[tr-Kl]=Ls(dr,255),jd[tr-Kl]=Ls(dr+8>>4,15);uh=1}return 1}function Js(tr){var dr=tr.ma,xr=tr.U,Br=tr.T;return _e(!(1&tr.ka)),0>=xr||0>=Br?0:(xr=dr.Ib(tr,dr),dr.Jb!=null&&dr.Jb(tr,dr,xr),dr.Dc+=xr,1)}function Na(tr){tr.ma.memory=null}function Ri(tr,dr,xr,Br){return wr(tr,8)!=47?0:(dr[0]=wr(tr,14)+1,xr[0]=wr(tr,14)+1,Br[0]=wr(tr,1),wr(tr,3)!=0?0:!tr.h)}function Qi(tr,dr){if(4>tr)return tr+1;var xr=tr-2>>1;return(2+(1&tr)<<xr)+wr(dr,xr)+1}function ks(tr,dr){return 120<dr?dr-120:1<=(xr=((xr=Fc[dr-1])>>4)*tr+(8-(15&xr)))?xr:1;var xr}function ta(tr,dr,xr){var Br=_r(xr),Nr=tr[dr+=255&Br].g-8;return 0<Nr&&(Cr(xr,xr.u+8),Br=_r(xr),dr+=tr[dr].value,dr+=Br&(1<<Nr)-1),Cr(xr,xr.u+tr[dr].g),tr[dr].value}function qi(tr,dr,xr){return xr.g+=tr.g,xr.value+=tr.value<<dr>>>0,_e(8>=xr.g),tr.g}function aa(tr,dr,xr){var Br=tr.xc;return _e((dr=Br==0?0:tr.vc[tr.md*(xr>>Br)+(dr>>Br)])<tr.Wb),tr.Ya[dr]}function Ur(tr,dr,xr,Br){var Nr=tr.ab,$r=tr.c*dr,Hr=tr.C;dr=Hr+dr;var zr=xr,Gr=Br;for(Br=tr.Ta,xr=tr.Ua;0<Nr--;){var hn=tr.gc[Nr],Tn=Hr,zn=dr,Hn=zr,kn=Gr,ri=(Gr=Br,zr=xr,hn.Ea);switch(_e(Tn<zn),_e(zn<=hn.nc),hn.hc){case 2:Sf(Hn,kn,(zn-Tn)*ri,Gr,zr);break;case 0:var ei=Tn,Rn=zn,Fn=Gr,oi=zr,hi=(ki=hn).Ea;ei==0&&(rf(Hn,kn,null,null,1,Fn,oi),Si(Hn,kn+1,0,0,hi-1,Fn,oi+1),kn+=hi,oi+=hi,++ei);for(var fi=1<<ki.b,Ki=fi-1,Oi=ci(hi,ki.b),es=ki.K,ki=ki.w+(ei>>ki.b)*Oi;ei<Rn;){var zs=es,qs=ki,Es=1;for(nf(Hn,kn,Fn,oi-hi,1,Fn,oi);Es<hi;){var yi=(Es&~Ki)+fi;yi>hi&&(yi=hi),(0,Fo[zs[qs++]>>8&15])(Hn,kn+ +Es,Fn,oi+Es-hi,yi-Es,Fn,oi+Es),Es=yi}kn+=hi,oi+=hi,++ei&Ki||(ki+=Oi)}zn!=hn.nc&&Pe(Gr,zr-ri,Gr,zr+(zn-Tn-1)*ri,ri);break;case 1:for(ri=Hn,Rn=kn,hi=(Hn=hn.Ea)-(oi=Hn&~(Fn=(kn=1<<hn.b)-1)),ei=ci(Hn,hn.b),fi=hn.K,hn=hn.w+(Tn>>hn.b)*ei;Tn<zn;){for(Ki=fi,Oi=hn,es=new li,ki=Rn+oi,zs=Rn+Hn;Rn<ki;)Vi(Ki[Oi++],es),Pc(es,ri,Rn,kn,Gr,zr),Rn+=kn,zr+=kn;Rn<zs&&(Vi(Ki[Oi++],es),Pc(es,ri,Rn,hi,Gr,zr),Rn+=hi,zr+=hi),++Tn&Fn||(hn+=ei)}break;case 3:if(Hn==Gr&&kn==zr&&0<hn.b){for(Rn=Gr,Hn=ri=zr+(zn-Tn)*ri-(oi=(zn-Tn)*ci(hn.Ea,hn.b)),kn=Gr,Fn=zr,ei=[],oi=(hi=oi)-1;0<=oi;--oi)ei[oi]=kn[Fn+oi];for(oi=hi-1;0<=oi;--oi)Rn[Hn+oi]=ei[oi];Ca(hn,Tn,zn,Gr,ri,Gr,zr)}else Ca(hn,Tn,zn,Hn,kn,Gr,zr)}zr=Br,Gr=xr}Gr!=xr&&Pe(Br,xr,zr,Gr,$r)}function An(tr,dr){var xr=tr.V,Br=tr.Ba+tr.c*tr.C,Nr=dr-tr.C;if(_e(dr<=tr.l.o),_e(16>=Nr),0<Nr){var $r=tr.l,Hr=tr.Ta,zr=tr.Ua,Gr=$r.width;if(Ur(tr,Nr,xr,Br),Nr=zr=[zr],_e((xr=tr.C)<(Br=dr)),_e($r.v<$r.va),Br>$r.o&&(Br=$r.o),xr<$r.j){var hn=$r.j-xr;xr=$r.j,Nr[0]+=hn*Gr}if(xr>=Br?xr=0:(Nr[0]+=4*$r.v,$r.ka=xr-$r.j,$r.U=$r.va-$r.v,$r.T=Br-xr,xr=1),xr){if(zr=zr[0],11>(xr=tr.ca).S){var Tn=xr.f.RGBA,zn=(Br=xr.S,Nr=$r.U,$r=$r.T,hn=Tn.eb,Tn.A),Hn=$r;for(Tn=Tn.fb+tr.Ma*Tn.A;0<Hn--;){var kn=Hr,ri=zr,ei=Nr,Rn=hn,Fn=Tn;switch(Br){case Oo:Lo(kn,ri,ei,Rn,Fn);break;case sf:Xa(kn,ri,ei,Rn,Fn);break;case Pf:Xa(kn,ri,ei,Rn,Fn),rl(Rn,Fn,0,ei,1,0);break;case Qo:Ho(kn,ri,ei,Rn,Fn);break;case Cf:Wi(kn,ri,ei,Rn,Fn,1);break;case iu:Wi(kn,ri,ei,Rn,Fn,1),rl(Rn,Fn,0,ei,1,0);break;case Eu:Wi(kn,ri,ei,Rn,Fn,0);break;case jc:Wi(kn,ri,ei,Rn,Fn,0),rl(Rn,Fn,1,ei,1,0);break;case Pl:Rc(kn,ri,ei,Rn,Fn);break;case Dc:Rc(kn,ri,ei,Rn,Fn),Cs(Rn,Fn,ei,1,0);break;case Xf:Jo(kn,ri,ei,Rn,Fn);break;default:_e(0)}zr+=Gr,Tn+=zn}tr.Ma+=$r}else alert("todo:EmitRescaledRowsYUVA");_e(tr.Ma<=xr.height)}}tr.C=dr,_e(tr.C<=tr.i)}function Xr(tr){var dr;if(0<tr.ua)return 0;for(dr=0;dr<tr.Wb;++dr){var xr=tr.Ya[dr].G,Br=tr.Ya[dr].H;if(0<xr[1][Br[1]+0].g||0<xr[2][Br[2]+0].g||0<xr[3][Br[3]+0].g)return 0}return 1}function un(tr,dr,xr,Br,Nr,$r){if(tr.Z!=0){var Hr=tr.qd,zr=tr.rd;for(_e(zl[tr.Z]!=null);dr<xr;++dr)zl[tr.Z](Hr,zr,Br,Nr,Br,Nr,$r),Hr=Br,zr=Nr,Nr+=$r;tr.qd=Hr,tr.rd=zr}}function pn(tr,dr){var xr=tr.l.ma,Br=xr.Z==0||xr.Z==1?tr.l.j:tr.C;if(Br=tr.C<Br?Br:tr.C,_e(dr<=tr.l.o),dr>Br){var Nr=tr.l.width,$r=xr.ca,Hr=xr.tb+Nr*Br,zr=tr.V,Gr=tr.Ba+tr.c*Br,hn=tr.gc;_e(tr.ab==1),_e(hn[0].hc==3),Vo(hn[0],Br,dr,zr,Gr,$r,Hr),un(xr,Br,dr,$r,Hr,Nr)}tr.C=tr.Ma=dr}function gn(tr,dr,xr,Br,Nr,$r,Hr){var zr=tr.$/Br,Gr=tr.$%Br,hn=tr.m,Tn=tr.s,zn=xr+tr.$,Hn=zn;Nr=xr+Br*Nr;var kn=xr+Br*$r,ri=280+Tn.ua,ei=tr.Pb?zr:16777216,Rn=0<Tn.ua?Tn.Wa:null,Fn=Tn.wc,oi=zn<kn?aa(Tn,Gr,zr):null;_e(tr.C<$r),_e(kn<=Nr);var hi=!1;e:for(;;){for(;hi||zn<kn;){var fi=0;if(zr>=ei){var Ki=zn-xr;_e((ei=tr).Pb),ei.wd=ei.m,ei.xd=Ki,0<ei.s.ua&&wn(ei.s.Wa,ei.s.vb),ei=zr+oh}if(Gr&Fn||(oi=aa(Tn,Gr,zr)),_e(oi!=null),oi.Qb&&(dr[zn]=oi.qb,hi=!0),!hi)if(Or(hn),oi.jc){fi=hn,Ki=dr;var Oi=zn,es=oi.pd[_r(fi)&Ta-1];_e(oi.jc),256>es.g?(Cr(fi,fi.u+es.g),Ki[Oi]=es.value,fi=0):(Cr(fi,fi.u+es.g-256),_e(256<=es.value),fi=es.value),fi==0&&(hi=!0)}else fi=ta(oi.G[0],oi.H[0],hn);if(hn.h)break;if(hi||256>fi){if(!hi)if(oi.nd)dr[zn]=(oi.qb|fi<<8)>>>0;else{if(Or(hn),hi=ta(oi.G[1],oi.H[1],hn),Or(hn),Ki=ta(oi.G[2],oi.H[2],hn),Oi=ta(oi.G[3],oi.H[3],hn),hn.h)break;dr[zn]=(Oi<<24|hi<<16|fi<<8|Ki)>>>0}if(hi=!1,++zn,++Gr>=Br&&(Gr=0,++zr,Hr!=null&&zr<=$r&&!(zr%16)&&Hr(tr,zr),Rn!=null))for(;Hn<zn;)fi=dr[Hn++],Rn.X[(506832829*fi&4294967295)>>>Rn.Mb]=fi}else if(280>fi){if(fi=Qi(fi-256,hn),Ki=ta(oi.G[4],oi.H[4],hn),Or(hn),Ki=ks(Br,Ki=Qi(Ki,hn)),hn.h)break;if(zn-xr<Ki||Nr-zn<fi)break e;for(Oi=0;Oi<fi;++Oi)dr[zn+Oi]=dr[zn+Oi-Ki];for(zn+=fi,Gr+=fi;Gr>=Br;)Gr-=Br,++zr,Hr!=null&&zr<=$r&&!(zr%16)&&Hr(tr,zr);if(_e(zn<=Nr),Gr&Fn&&(oi=aa(Tn,Gr,zr)),Rn!=null)for(;Hn<zn;)fi=dr[Hn++],Rn.X[(506832829*fi&4294967295)>>>Rn.Mb]=fi}else{if(!(fi<ri))break e;for(hi=fi-280,_e(Rn!=null);Hn<zn;)fi=dr[Hn++],Rn.X[(506832829*fi&4294967295)>>>Rn.Mb]=fi;fi=zn,_e(!(hi>>>(Ki=Rn).Xa)),dr[fi]=Ki.X[hi],hi=!0}hi||_e(hn.h==Pr(hn))}if(tr.Pb&&hn.h&&zn<Nr)_e(tr.m.h),tr.a=5,tr.m=tr.wd,tr.$=tr.xd,0<tr.s.ua&&wn(tr.s.vb,tr.s.Wa);else{if(hn.h)break e;Hr?.(tr,zr>$r?$r:zr),tr.a=0,tr.$=zn-xr}return 1}return tr.a=3,0}function Un(tr){_e(tr!=null),tr.vc=null,tr.yc=null,tr.Ya=null;var dr=tr.Wa;dr!=null&&(dr.X=null),tr.vb=null,_e(tr!=null)}function Yn(){var tr=new tf;return tr==null?null:(tr.a=0,tr.xb=af,ws("Predictor","VP8LPredictors"),ws("Predictor","VP8LPredictors_C"),ws("PredictorAdd","VP8LPredictorsAdd"),ws("PredictorAdd","VP8LPredictorsAdd_C"),Sf=Bi,Pc=Pn,Lo=jn,Xa=ni,Rc=ii,Jo=Fi,Ho=bi,er.VP8LMapColor32b=pa,er.VP8LMapColor8b=ja,tr)}function On(tr,dr,xr,Br,Nr){var $r=1,Hr=[tr],zr=[dr],Gr=Br.m,hn=Br.s,Tn=null,zn=0;e:for(;;){if(xr)for(;$r&&wr(Gr,1);){var Hn=Hr,kn=zr,ri=Br,ei=1,Rn=ri.m,Fn=ri.gc[ri.ab],oi=wr(Rn,2);if(ri.Oc&1<<oi)$r=0;else{switch(ri.Oc|=1<<oi,Fn.hc=oi,Fn.Ea=Hn[0],Fn.nc=kn[0],Fn.K=[null],++ri.ab,_e(4>=ri.ab),oi){case 0:case 1:Fn.b=wr(Rn,3)+2,ei=On(ci(Fn.Ea,Fn.b),ci(Fn.nc,Fn.b),0,ri,Fn.K),Fn.K=Fn.K[0];break;case 3:var hi,fi=wr(Rn,8)+1,Ki=16<fi?0:4<fi?1:2<fi?2:3;if(Hn[0]=ci(Fn.Ea,Ki),Fn.b=Ki,hi=ei=On(fi,1,0,ri,Fn.K)){var Oi,es=fi,ki=Fn,zs=1<<(8>>ki.b),qs=Ie(zs);if(qs==null)hi=0;else{var Es=ki.K[0],yi=ki.w;for(qs[0]=ki.K[0][0],Oi=1;Oi<1*es;++Oi)qs[Oi]=Jn(Es[yi+Oi],qs[Oi-1]);for(;Oi<4*zs;++Oi)qs[Oi]=0;ki.K[0]=null,ki.K[0]=qs,hi=1}}ei=hi;break;case 2:break;default:_e(0)}$r=ei}}if(Hr=Hr[0],zr=zr[0],$r&&wr(Gr,1)&&!($r=1<=(zn=wr(Gr,4))&&11>=zn)){Br.a=3;break e}var na;if(na=$r)t:{var Ys,hs,Ds,ns=Br,cs=Hr,Bs=zr,Os=zn,bo=xr,oo=ns.m,Ha=ns.s,la=[null],La=1,nl=0,Xs=Su[Os];r:for(;;){if(bo&&wr(oo,1)){var Qa=wr(oo,3)+2,Wl=ci(cs,Qa),pc=ci(Bs,Qa),Pu=Wl*pc;if(!On(Wl,pc,0,ns,la))break r;for(la=la[0],Ha.xc=Qa,Ys=0;Ys<Pu;++Ys){var ou=la[Ys]>>8&65535;la[Ys]=ou,ou>=La&&(La=ou+1)}}if(oo.h)break r;for(hs=0;5>hs;++hs){var xa=hl[hs];!hs&&0<Os&&(xa+=1<<Os),nl<xa&&(nl=xa)}var jf=Be(La*Xs,fr),sd=La,Ko=Be(sd,Rr);if(Ko==null)var Ra=null;else _e(65536>=sd),Ra=Ko;var Ru=Ie(nl);if(Ra==null||Ru==null||jf==null){ns.a=1;break r}var kc=jf;for(Ys=Ds=0;Ys<La;++Ys){var il=Ra[Ys],lu=il.G,sl=il.H,lf=0,cf=1,Iu=0;for(hs=0;5>hs;++hs){xa=hl[hs],lu[hs]=kc,sl[hs]=Ds,!hs&&0<Os&&(xa+=1<<Os);i:{var Df,uf=xa,Bu=ns,ju=Ru,Fd=kc,dh=Ds,ff=0,Gl=Bu.m,Ld=wr(Gl,1);if(Re(ju,0,0,uf),Ld){var Od=wr(Gl,1)+1,Nd=wr(Gl,1),ad=wr(Gl,Nd==0?1:8);ju[ad]=1,Od==2&&(ju[ad=wr(Gl,8)]=1);var Du=1}else{var Ff=Ie(19),kd=wr(Gl,4)+4;if(19<kd){Bu.a=3;var Lf=0;break i}for(Df=0;Df<kd;++Df)Ff[Il[Df]]=wr(Gl,3);var od=void 0,So=void 0,ld=Bu,hh=Ff,Mc=uf,Of=ju,cd=0,ql=ld.m,df=8,Md=Be(128,fr);n:for(;ar(Md,0,7,hh,19);){if(wr(ql,1)){var Ah=2+2*wr(ql,3);if((od=2+wr(ql,Ah))>Mc)break n}else od=Mc;for(So=0;So<Mc&&od--;){Or(ql);var Ud=Md[0+(127&_r(ql))];Cr(ql,ql.u+Ud.g);var cu=Ud.value;if(16>cu)Of[So++]=cu,cu!=0&&(df=cu);else{var ph=cu==16,Nf=cu-16,ud=Rl[Nf],co=wr(ql,Zf[Nf])+ud;if(So+co>Mc)break n;for(var hf=ph?df:0;0<co--;)Of[So++]=hf}}cd=1;break n}cd||(ld.a=3),Du=cd}(Du=Du&&!Gl.h)&&(ff=ar(Fd,dh,8,ju,uf)),Du&&ff!=0?Lf=ff:(Bu.a=3,Lf=0)}if(Lf==0)break r;if(cf&&wu[hs]==1&&(cf=kc[Ds].g==0),lf+=kc[Ds].g,Ds+=Lf,3>=hs){var Fu,dd=Ru[0];for(Fu=1;Fu<xa;++Fu)Ru[Fu]>dd&&(dd=Ru[Fu]);Iu+=dd}}if(il.nd=cf,il.Qb=0,cf&&(il.qb=(lu[3][sl[3]+0].value<<24|lu[1][sl[1]+0].value<<16|lu[2][sl[2]+0].value)>>>0,lf==0&&256>lu[0][sl[0]+0].value&&(il.Qb=1,il.qb+=lu[0][sl[0]+0].value<<8)),il.jc=!il.Qb&&6>Iu,il.jc){var Af,Yl=il;for(Af=0;Af<Ta;++Af){var mc=Af,Uc=Yl.pd[mc],kf=Yl.G[0][Yl.H[0]+mc];256<=kf.value?(Uc.g=kf.g+256,Uc.value=kf.value):(Uc.g=0,Uc.value=0,mc>>=qi(kf,8,Uc),mc>>=qi(Yl.G[1][Yl.H[1]+mc],16,Uc),mc>>=qi(Yl.G[2][Yl.H[2]+mc],0,Uc),qi(Yl.G[3][Yl.H[3]+mc],24,Uc))}}}Ha.vc=la,Ha.Wb=La,Ha.Ya=Ra,Ha.yc=jf,na=1;break t}na=0}if(!($r=na)){Br.a=3;break e}if(0<zn){if(hn.ua=1<<zn,!bn(hn.Wa,zn)){Br.a=1,$r=0;break e}}else hn.ua=0;var Mf=Br,$d=Hr,mh=zr,Vd=Mf.s,Hd=Vd.xc;if(Mf.c=$d,Mf.i=mh,Vd.md=ci($d,Hd),Vd.wc=Hd==0?-1:(1<<Hd)-1,xr){Br.xb=ch;break e}if((Tn=Ie(Hr*zr))==null){Br.a=1,$r=0;break e}$r=($r=gn(Br,Tn,0,Hr,zr,zr,null))&&!Gr.h;break e}return $r?(Nr!=null?Nr[0]=Tn:(_e(Tn==null),_e(xr)),Br.$=0,xr||Un(hn)):Un(hn),$r}function Qn(tr,dr){var xr=tr.c*tr.i,Br=xr+dr+16*dr;return _e(tr.c<=dr),tr.V=Ie(Br),tr.V==null?(tr.Ta=null,tr.Ua=0,tr.a=1,0):(tr.Ta=tr.V,tr.Ua=tr.Ba+xr+dr,1)}function Wn(tr,dr){var xr=tr.C,Br=dr-xr,Nr=tr.V,$r=tr.Ba+tr.c*xr;for(_e(dr<=tr.l.o);0<Br;){var Hr=16<Br?16:Br,zr=tr.l.ma,Gr=tr.l.width,hn=Gr*Hr,Tn=zr.ca,zn=zr.tb+Gr*xr,Hn=tr.Ta,kn=tr.Ua;Ur(tr,Hr,Nr,$r),ha(Hn,kn,Tn,zn,hn),un(zr,xr,xr+Hr,Tn,zn,Gr),Br-=Hr,Nr+=Hr*tr.c,xr+=Hr}_e(xr==dr),tr.C=tr.Ma=dr}function gi(){this.ub=this.yd=this.td=this.Rb=0}function Ci(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Hi(){this.Fb=this.Bb=this.Cb=0,this.Zb=Ie(4),this.Lb=Ie(4)}function Ei(){this.Yb=function(){var tr=[];return function dr(xr,Br,Nr){for(var $r=Nr[Br],Hr=0;Hr<$r&&(xr.push(Nr.length>Br+1?[]:0),!(Nr.length<Br+1));Hr++)dr(xr[Hr],Br+1,Nr)}(tr,0,[3,11]),tr}()}function Li(){this.jb=Ie(3),this.Wc=je([4,8],Ei),this.Xc=je([4,17],Ei)}function os(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Ie(4),this.od=new Ie(4)}function ys(){this.ld=this.La=this.dd=this.tc=0}function Ss(){this.Na=this.la=0}function bs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fo(){this.ad=Ie(384),this.Za=0,this.Ob=Ie(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Co(){this.uc=this.M=this.Nb=0,this.wa=Array(new ys),this.Y=0,this.ya=Array(new fo),this.aa=0,this.l=new Ao}function ho(){this.y=Ie(16),this.f=Ie(8),this.ea=Ie(8)}function Po(){this.cb=this.a=0,this.sc="",this.m=new jr,this.Od=new gi,this.Kc=new Ci,this.ed=new os,this.Qa=new Hi,this.Ic=this.$c=this.Aa=0,this.D=new Co,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Be(8,jr),this.ia=0,this.pb=Be(4,bs),this.Pa=new Li,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ho),this.Hd=0,this.rb=Array(new Ss),this.sb=0,this.wa=Array(new ys),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fo),this.L=this.aa=0,this.gd=je([4,2],ys),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ao(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ma(){var tr=new Po;return tr!=null&&(tr.a=0,tr.sc="OK",tr.cb=0,tr.Xb=0,Za||(Za=xc)),tr}function da(tr,dr,xr){return tr.a==0&&(tr.a=dr,tr.sc=xr,tr.cb=0),0}function po(tr,dr,xr){return 3<=xr&&tr[dr+0]==157&&tr[dr+1]==1&&tr[dr+2]==42}function zc(tr,dr){if(tr==null)return 0;if(tr.a=0,tr.sc="OK",dr==null)return da(tr,2,"null VP8Io passed to VP8GetHeaders()");var xr=dr.data,Br=dr.w,Nr=dr.ha;if(4>Nr)return da(tr,7,"Truncated header.");var $r=xr[Br+0]|xr[Br+1]<<8|xr[Br+2]<<16,Hr=tr.Od;if(Hr.Rb=!(1&$r),Hr.td=$r>>1&7,Hr.yd=$r>>4&1,Hr.ub=$r>>5,3<Hr.td)return da(tr,3,"Incorrect keyframe parameters.");if(!Hr.yd)return da(tr,4,"Frame not displayable.");Br+=3,Nr-=3;var zr=tr.Kc;if(Hr.Rb){if(7>Nr)return da(tr,7,"cannot parse picture header");if(!po(xr,Br,Nr))return da(tr,3,"Bad code word");zr.c=16383&(xr[Br+4]<<8|xr[Br+3]),zr.Td=xr[Br+4]>>6,zr.i=16383&(xr[Br+6]<<8|xr[Br+5]),zr.Ud=xr[Br+6]>>6,Br+=7,Nr-=7,tr.za=zr.c+15>>4,tr.Ub=zr.i+15>>4,dr.width=zr.c,dr.height=zr.i,dr.Da=0,dr.j=0,dr.v=0,dr.va=dr.width,dr.o=dr.height,dr.da=0,dr.ib=dr.width,dr.hb=dr.height,dr.U=dr.width,dr.T=dr.height,Re(($r=tr.Pa).jb,0,255,$r.jb.length),_e(($r=tr.Qa)!=null),$r.Cb=0,$r.Bb=0,$r.Fb=1,Re($r.Zb,0,0,$r.Zb.length),Re($r.Lb,0,0,$r.Lb)}if(Hr.ub>Nr)return da(tr,7,"bad partition length");Ir($r=tr.m,xr,Br,Hr.ub),Br+=Hr.ub,Nr-=Hr.ub,Hr.Rb&&(zr.Ld=qr($r),zr.Kd=qr($r)),zr=tr.Qa;var Gr,hn=tr.Pa;if(_e($r!=null),_e(zr!=null),zr.Cb=qr($r),zr.Cb){if(zr.Bb=qr($r),qr($r)){for(zr.Fb=qr($r),Gr=0;4>Gr;++Gr)zr.Zb[Gr]=qr($r)?Er($r,7):0;for(Gr=0;4>Gr;++Gr)zr.Lb[Gr]=qr($r)?Er($r,6):0}if(zr.Bb)for(Gr=0;3>Gr;++Gr)hn.jb[Gr]=qr($r)?mr($r,8):255}else zr.Bb=0;if($r.Ka)return da(tr,3,"cannot parse segment header");if((zr=tr.ed).zd=qr($r),zr.Tb=mr($r,6),zr.wb=mr($r,3),zr.Pc=qr($r),zr.Pc&&qr($r)){for(hn=0;4>hn;++hn)qr($r)&&(zr.vd[hn]=Er($r,6));for(hn=0;4>hn;++hn)qr($r)&&(zr.od[hn]=Er($r,6))}if(tr.L=zr.Tb==0?0:zr.zd?1:2,$r.Ka)return da(tr,3,"cannot parse filter header");var Tn=Nr;if(Nr=Gr=Br,Br=Gr+Tn,zr=Tn,tr.Xb=(1<<mr(tr.m,2))-1,Tn<3*(hn=tr.Xb))xr=7;else{for(Gr+=3*hn,zr-=3*hn,Tn=0;Tn<hn;++Tn){var zn=xr[Nr+0]|xr[Nr+1]<<8|xr[Nr+2]<<16;zn>zr&&(zn=zr),Ir(tr.Jc[+Tn],xr,Gr,zn),Gr+=zn,zr-=zn,Nr+=3}Ir(tr.Jc[+hn],xr,Gr,zr),xr=Gr<Br?0:5}if(xr!=0)return da(tr,xr,"cannot parse partitions");for(xr=mr(Gr=tr.m,7),Nr=qr(Gr)?Er(Gr,4):0,Br=qr(Gr)?Er(Gr,4):0,zr=qr(Gr)?Er(Gr,4):0,hn=qr(Gr)?Er(Gr,4):0,Gr=qr(Gr)?Er(Gr,4):0,Tn=tr.Qa,zn=0;4>zn;++zn){if(Tn.Cb){var Hn=Tn.Zb[zn];Tn.Fb||(Hn+=xr)}else{if(0<zn){tr.pb[zn]=tr.pb[0];continue}Hn=xr}var kn=tr.pb[zn];kn.Sc[0]=Rf[Ls(Hn+Nr,127)],kn.Sc[1]=su[Ls(Hn+0,127)],kn.Eb[0]=2*Rf[Ls(Hn+Br,127)],kn.Eb[1]=101581*su[Ls(Hn+zr,127)]>>16,8>kn.Eb[1]&&(kn.Eb[1]=8),kn.Qc[0]=Rf[Ls(Hn+hn,117)],kn.Qc[1]=su[Ls(Hn+Gr,127)],kn.lc=Hn+Gr}if(!Hr.Rb)return da(tr,4,"Not a key frame.");for(qr($r),Hr=tr.Pa,xr=0;4>xr;++xr){for(Nr=0;8>Nr;++Nr)for(Br=0;3>Br;++Br)for(zr=0;11>zr;++zr)hn=Kr($r,Tu[xr][Nr][Br][zr])?mr($r,8):dc[xr][Nr][Br][zr],Hr.Wc[xr][Nr].Yb[Br][zr]=hn;for(Nr=0;17>Nr;++Nr)Hr.Xc[xr][Nr]=Hr.Wc[xr][lh[Nr]]}return tr.kc=qr($r),tr.kc&&(tr.Bd=mr($r,8)),tr.cb=1}function xc(tr,dr,xr,Br,Nr,$r,Hr){var zr=dr[Nr].Yb[xr];for(xr=0;16>Nr;++Nr){if(!Kr(tr,zr[xr+0]))return Nr;for(;!Kr(tr,zr[xr+1]);)if(zr=dr[++Nr].Yb[0],xr=0,Nr==16)return 16;var Gr=dr[Nr+1].Yb;if(Kr(tr,zr[xr+2])){var hn=tr,Tn=0;if(Kr(hn,(Hn=zr)[(zn=xr)+3]))if(Kr(hn,Hn[zn+6])){for(zr=0,zn=2*(Tn=Kr(hn,Hn[zn+8]))+(Hn=Kr(hn,Hn[zn+9+Tn])),Tn=0,Hn=Fa[zn];Hn[zr];++zr)Tn+=Tn+Kr(hn,Hn[zr]);Tn+=3+(8<<zn)}else Kr(hn,Hn[zn+7])?(Tn=7+2*Kr(hn,165),Tn+=Kr(hn,145)):Tn=5+Kr(hn,159);else Tn=Kr(hn,Hn[zn+4])?3+Kr(hn,Hn[zn+5]):2;zr=Gr[2]}else Tn=1,zr=Gr[1];Gr=Hr+Ws[Nr],0>(hn=tr).b&&Yr(hn);var zn,Hn=hn.b,kn=(zn=hn.Ca>>1)-(hn.I>>Hn)>>31;--hn.b,hn.Ca+=kn,hn.Ca|=1,hn.I-=(zn+1&kn)<<Hn,$r[Gr]=((Tn^kn)-kn)*Br[(0<Nr)+0]}return 16}function cl(tr){var dr=tr.rb[tr.sb-1];dr.la=0,dr.Na=0,Re(tr.zc,0,0,tr.zc.length),tr.ja=0}function Ll(tr,dr){if(tr==null)return 0;if(dr==null)return da(tr,2,"NULL VP8Io parameter in VP8Decode().");if(!tr.cb&&!zc(tr,dr))return 0;if(_e(tr.cb),dr.ac==null||dr.ac(dr)){dr.ob&&(tr.L=0);var xr=Nc[tr.L];if(tr.L==2?(tr.yb=0,tr.zb=0):(tr.yb=dr.v-xr>>4,tr.zb=dr.j-xr>>4,0>tr.yb&&(tr.yb=0),0>tr.zb&&(tr.zb=0)),tr.Va=dr.o+15+xr>>4,tr.Hb=dr.va+15+xr>>4,tr.Hb>tr.za&&(tr.Hb=tr.za),tr.Va>tr.Ub&&(tr.Va=tr.Ub),0<tr.L){var Br=tr.ed;for(xr=0;4>xr;++xr){var Nr;if(tr.Qa.Cb){var $r=tr.Qa.Lb[xr];tr.Qa.Fb||($r+=Br.Tb)}else $r=Br.Tb;for(Nr=0;1>=Nr;++Nr){var Hr=tr.gd[xr][Nr],zr=$r;if(Br.Pc&&(zr+=Br.vd[0],Nr&&(zr+=Br.od[0])),0<(zr=0>zr?0:63<zr?63:zr)){var Gr=zr;0<Br.wb&&(Gr=4<Br.wb?Gr>>2:Gr>>1)>9-Br.wb&&(Gr=9-Br.wb),1>Gr&&(Gr=1),Hr.dd=Gr,Hr.tc=2*zr+Gr,Hr.ld=40<=zr?2:15<=zr?1:0}else Hr.tc=0;Hr.La=Nr}}}xr=0}else da(tr,6,"Frame setup failed"),xr=tr.a;if(xr=xr==0){if(xr){tr.$c=0,0<tr.Aa||(tr.Ic=Dd);e:{xr=tr.Ic,Br=4*(Gr=tr.za);var hn=32*Gr,Tn=Gr+1,zn=0<tr.L?Gr*(0<tr.Aa?2:1):0,Hn=(tr.Aa==2?2:1)*Gr;if((Hr=Br+832+(Nr=3*(16*xr+Nc[tr.L])/2*hn)+($r=tr.Fa!=null&&0<tr.Fa.length?tr.Kc.c*tr.Kc.i:0))!=Hr)xr=0;else{if(Hr>tr.Vb){if(tr.Vb=0,tr.Ec=Ie(Hr),tr.Fc=0,tr.Ec==null){xr=da(tr,1,"no memory during frame initialization.");break e}tr.Vb=Hr}Hr=tr.Ec,zr=tr.Fc,tr.Ac=Hr,tr.Bc=zr,zr+=Br,tr.Gd=Be(hn,ho),tr.Hd=0,tr.rb=Be(Tn+1,Ss),tr.sb=1,tr.wa=zn?Be(zn,ys):null,tr.Y=0,tr.D.Nb=0,tr.D.wa=tr.wa,tr.D.Y=tr.Y,0<tr.Aa&&(tr.D.Y+=Gr),_e(!0),tr.oc=Hr,tr.pc=zr,zr+=832,tr.ya=Be(Hn,fo),tr.aa=0,tr.D.ya=tr.ya,tr.D.aa=tr.aa,tr.Aa==2&&(tr.D.aa+=Gr),tr.R=16*Gr,tr.B=8*Gr,Gr=(hn=Nc[tr.L])*tr.R,hn=hn/2*tr.B,tr.sa=Hr,tr.ta=zr+Gr,tr.qa=tr.sa,tr.ra=tr.ta+16*xr*tr.R+hn,tr.Ha=tr.qa,tr.Ia=tr.ra+8*xr*tr.B+hn,tr.$c=0,zr+=Nr,tr.mb=$r?Hr:null,tr.nb=$r?zr:null,_e(zr+$r<=tr.Fc+tr.Vb),cl(tr),Re(tr.Ac,tr.Bc,0,Br),xr=1}}if(xr){if(dr.ka=0,dr.y=tr.sa,dr.O=tr.ta,dr.f=tr.qa,dr.N=tr.ra,dr.ea=tr.Ha,dr.Vd=tr.Ia,dr.fa=tr.R,dr.Rc=tr.B,dr.F=null,dr.J=0,!Bc){for(xr=-255;255>=xr;++xr)ya[255+xr]=0>xr?-xr:xr;for(xr=-1020;1020>=xr;++xr)Tl[1020+xr]=-128>xr?-128:127<xr?127:xr;for(xr=-112;112>=xr;++xr)nu[112+xr]=-16>xr?-16:15<xr?15:xr;for(xr=-255;510>=xr;++xr)fc[255+xr]=0>xr?0:255<xr?255:xr;Bc=1}vo=Go,Hl=nc,el=gl,Va=Gs,tl=ic,Da=rc,vu=dl,Ga=wl,yu=Ul,eu=Ec,tu=Gc,Ql=jo,xu=wc,_u=ac,Ic=go,uc=Bo,ru=Ka,Pa=ef,zo[0]=Ro,zo[1]=Zu,zo[2]=yl,zo[3]=Ju,zo[4]=Yo,zo[5]=xl,zo[6]=Uo,zo[7]=Sa,zo[8]=_l,zo[9]=kl,Lc[0]=mo,Lc[1]=pu,Lc[2]=Ol,Lc[3]=_c,Lc[4]=oa,Lc[5]=Nl,Lc[6]=vl,No[0]=bl,No[1]=Kc,No[2]=Wc,No[3]=Xo,No[4]=Rs,No[5]=$a,No[6]=Ml,xr=1}else xr=0}xr&&(xr=function(kn,ri){for(kn.M=0;kn.M<kn.Va;++kn.M){var ei,Rn=kn.Jc[kn.M&kn.Xb],Fn=kn.m,oi=kn;for(ei=0;ei<oi.za;++ei){var hi=Fn,fi=oi,Ki=fi.Ac,Oi=fi.Bc+4*ei,es=fi.zc,ki=fi.ya[fi.aa+ei];if(fi.Qa.Bb?ki.$b=Kr(hi,fi.Pa.jb[0])?2+Kr(hi,fi.Pa.jb[2]):Kr(hi,fi.Pa.jb[1]):ki.$b=0,fi.kc&&(ki.Ad=Kr(hi,fi.Bd)),ki.Za=!Kr(hi,145)+0,ki.Za){var zs=ki.Ob,qs=0;for(fi=0;4>fi;++fi){var Es,yi=es[0+fi];for(Es=0;4>Es;++Es){yi=Id[Ki[Oi+Es]][yi];for(var na=au[Kr(hi,yi[0])];0<na;)na=au[2*na+Kr(hi,yi[na])];yi=-na,Ki[Oi+Es]=yi}Pe(zs,qs,Ki,Oi,4),qs+=4,es[0+fi]=yi}}else yi=Kr(hi,156)?Kr(hi,128)?1:3:Kr(hi,163)?2:0,ki.Ob[0]=yi,Re(Ki,Oi,yi,4),Re(es,0,yi,4);ki.Dd=Kr(hi,142)?Kr(hi,114)?Kr(hi,183)?1:3:2:0}if(oi.m.Ka)return da(kn,7,"Premature end-of-partition0 encountered.");for(;kn.ja<kn.za;++kn.ja){if(oi=Rn,hi=(Fn=kn).rb[Fn.sb-1],Ki=Fn.rb[Fn.sb+Fn.ja],ei=Fn.ya[Fn.aa+Fn.ja],Oi=Fn.kc?ei.Ad:0)hi.la=Ki.la=0,ei.Za||(hi.Na=Ki.Na=0),ei.Hc=0,ei.Gc=0,ei.ia=0;else{var Ys,hs;if(hi=Ki,Ki=oi,Oi=Fn.Pa.Xc,es=Fn.ya[Fn.aa+Fn.ja],ki=Fn.pb[es.$b],fi=es.ad,zs=0,qs=Fn.rb[Fn.sb-1],yi=Es=0,Re(fi,zs,0,384),es.Za)var Ds=0,ns=Oi[3];else{na=Ie(16);var cs=hi.Na+qs.Na;if(cs=Za(Ki,Oi[1],cs,ki.Eb,0,na,0),hi.Na=qs.Na=(0<cs)+0,1<cs)vo(na,0,fi,zs);else{var Bs=na[0]+3>>3;for(na=0;256>na;na+=16)fi[zs+na]=Bs}Ds=1,ns=Oi[0]}var Os=15&hi.la,bo=15&qs.la;for(na=0;4>na;++na){var oo=1&bo;for(Bs=hs=0;4>Bs;++Bs)Os=Os>>1|(oo=(cs=Za(Ki,ns,cs=oo+(1&Os),ki.Sc,Ds,fi,zs))>Ds)<<7,hs=hs<<2|(3<cs?3:1<cs?2:fi[zs+0]!=0),zs+=16;Os>>=4,bo=bo>>1|oo<<7,Es=(Es<<8|hs)>>>0}for(ns=Os,Ds=bo>>4,Ys=0;4>Ys;Ys+=2){for(hs=0,Os=hi.la>>4+Ys,bo=qs.la>>4+Ys,na=0;2>na;++na){for(oo=1&bo,Bs=0;2>Bs;++Bs)cs=oo+(1&Os),Os=Os>>1|(oo=0<(cs=Za(Ki,Oi[2],cs,ki.Qc,0,fi,zs)))<<3,hs=hs<<2|(3<cs?3:1<cs?2:fi[zs+0]!=0),zs+=16;Os>>=2,bo=bo>>1|oo<<5}yi|=hs<<4*Ys,ns|=Os<<4<<Ys,Ds|=(240&bo)<<Ys}hi.la=ns,qs.la=Ds,es.Hc=Es,es.Gc=yi,es.ia=43690&yi?0:ki.ia,Oi=!(Es|yi)}if(0<Fn.L&&(Fn.wa[Fn.Y+Fn.ja]=Fn.gd[ei.$b][ei.Za],Fn.wa[Fn.Y+Fn.ja].La|=!Oi),oi.Ka)return da(kn,7,"Premature end-of-file encountered.")}if(cl(kn),Fn=ri,oi=1,ei=(Rn=kn).D,hi=0<Rn.L&&Rn.M>=Rn.zb&&Rn.M<=Rn.Va,Rn.Aa==0)e:{if(ei.M=Rn.M,ei.uc=hi,Us(Rn,ei),oi=1,ei=(hs=Rn.D).Nb,hi=(yi=Nc[Rn.L])*Rn.R,Ki=yi/2*Rn.B,na=16*ei*Rn.R,Bs=8*ei*Rn.B,Oi=Rn.sa,es=Rn.ta-hi+na,ki=Rn.qa,fi=Rn.ra-Ki+Bs,zs=Rn.Ha,qs=Rn.Ia-Ki+Bs,bo=(Os=hs.M)==0,Es=Os>=Rn.Va-1,Rn.Aa==2&&Us(Rn,hs),hs.uc)for(oo=(cs=Rn).D.M,_e(cs.D.uc),hs=cs.yb;hs<cs.Hb;++hs){Ds=hs,ns=oo;var Ha=(la=(xa=cs).D).Nb;Ys=xa.R;var la=la.wa[la.Y+Ds],La=xa.sa,nl=xa.ta+16*Ha*Ys+16*Ds,Xs=la.dd,Qa=la.tc;if(Qa!=0)if(_e(3<=Qa),xa.L==1)0<Ds&&uc(La,nl,Ys,Qa+4),la.La&&Pa(La,nl,Ys,Qa),0<ns&&Ic(La,nl,Ys,Qa+4),la.La&&ru(La,nl,Ys,Qa);else{var Wl=xa.B,pc=xa.qa,Pu=xa.ra+8*Ha*Wl+8*Ds,ou=xa.Ha,xa=xa.Ia+8*Ha*Wl+8*Ds;Ha=la.ld,0<Ds&&(Ga(La,nl,Ys,Qa+4,Xs,Ha),eu(pc,Pu,ou,xa,Wl,Qa+4,Xs,Ha)),la.La&&(Ql(La,nl,Ys,Qa,Xs,Ha),_u(pc,Pu,ou,xa,Wl,Qa,Xs,Ha)),0<ns&&(vu(La,nl,Ys,Qa+4,Xs,Ha),yu(pc,Pu,ou,xa,Wl,Qa+4,Xs,Ha)),la.La&&(tu(La,nl,Ys,Qa,Xs,Ha),xu(pc,Pu,ou,xa,Wl,Qa,Xs,Ha))}}if(Rn.ia&&alert("todo:DitherRow"),Fn.put!=null){if(hs=16*Os,Os=16*(Os+1),bo?(Fn.y=Rn.sa,Fn.O=Rn.ta+na,Fn.f=Rn.qa,Fn.N=Rn.ra+Bs,Fn.ea=Rn.Ha,Fn.W=Rn.Ia+Bs):(hs-=yi,Fn.y=Oi,Fn.O=es,Fn.f=ki,Fn.N=fi,Fn.ea=zs,Fn.W=qs),Es||(Os-=yi),Os>Fn.o&&(Os=Fn.o),Fn.F=null,Fn.J=null,Rn.Fa!=null&&0<Rn.Fa.length&&hs<Os&&(Fn.J=Yc(Rn,Fn,hs,Os-hs),Fn.F=Rn.mb,Fn.F==null&&Fn.F.length==0)){oi=da(Rn,3,"Could not decode alpha data.");break e}hs<Fn.j&&(yi=Fn.j-hs,hs=Fn.j,_e(!(1&yi)),Fn.O+=Rn.R*yi,Fn.N+=Rn.B*(yi>>1),Fn.W+=Rn.B*(yi>>1),Fn.F!=null&&(Fn.J+=Fn.width*yi)),hs<Os&&(Fn.O+=Fn.v,Fn.N+=Fn.v>>1,Fn.W+=Fn.v>>1,Fn.F!=null&&(Fn.J+=Fn.v),Fn.ka=hs-Fn.j,Fn.U=Fn.va-Fn.v,Fn.T=Os-hs,oi=Fn.put(Fn))}ei+1!=Rn.Ic||Es||(Pe(Rn.sa,Rn.ta-hi,Oi,es+16*Rn.R,hi),Pe(Rn.qa,Rn.ra-Ki,ki,fi+8*Rn.B,Ki),Pe(Rn.Ha,Rn.Ia-Ki,zs,qs+8*Rn.B,Ki))}if(!oi)return da(kn,6,"Output aborted.")}return 1}(tr,dr)),dr.bc!=null&&dr.bc(dr),xr&=1}return xr?(tr.cb=0,xr):0}function Eo(tr,dr,xr,Br,Nr){Nr=tr[dr+xr+32*Br]+(Nr>>3),tr[dr+xr+32*Br]=-256&Nr?0>Nr?0:255:Nr}function Ua(tr,dr,xr,Br,Nr,$r){Eo(tr,dr,0,xr,Br+Nr),Eo(tr,dr,1,xr,Br+$r),Eo(tr,dr,2,xr,Br-$r),Eo(tr,dr,3,xr,Br-Nr)}function Ms(tr){return(20091*tr>>16)+tr}function wo(tr,dr,xr,Br){var Nr,$r=0,Hr=Ie(16);for(Nr=0;4>Nr;++Nr){var zr=tr[dr+0]+tr[dr+8],Gr=tr[dr+0]-tr[dr+8],hn=(35468*tr[dr+4]>>16)-Ms(tr[dr+12]),Tn=Ms(tr[dr+4])+(35468*tr[dr+12]>>16);Hr[$r+0]=zr+Tn,Hr[$r+1]=Gr+hn,Hr[$r+2]=Gr-hn,Hr[$r+3]=zr-Tn,$r+=4,dr++}for(Nr=$r=0;4>Nr;++Nr)zr=(tr=Hr[$r+0]+4)+Hr[$r+8],Gr=tr-Hr[$r+8],hn=(35468*Hr[$r+4]>>16)-Ms(Hr[$r+12]),Eo(xr,Br,0,0,zr+(Tn=Ms(Hr[$r+4])+(35468*Hr[$r+12]>>16))),Eo(xr,Br,1,0,Gr+hn),Eo(xr,Br,2,0,Gr-hn),Eo(xr,Br,3,0,zr-Tn),$r++,Br+=32}function rc(tr,dr,xr,Br){var Nr=tr[dr+0]+4,$r=35468*tr[dr+4]>>16,Hr=Ms(tr[dr+4]),zr=35468*tr[dr+1]>>16;Ua(xr,Br,0,Nr+Hr,tr=Ms(tr[dr+1]),zr),Ua(xr,Br,1,Nr+$r,tr,zr),Ua(xr,Br,2,Nr-$r,tr,zr),Ua(xr,Br,3,Nr-Hr,tr,zr)}function nc(tr,dr,xr,Br,Nr){wo(tr,dr,xr,Br),Nr&&wo(tr,dr+16,xr,Br+4)}function gl(tr,dr,xr,Br){Hl(tr,dr+0,xr,Br,1),Hl(tr,dr+32,xr,Br+128,1)}function Gs(tr,dr,xr,Br){var Nr;for(tr=tr[dr+0]+4,Nr=0;4>Nr;++Nr)for(dr=0;4>dr;++dr)Eo(xr,Br,dr,Nr,tr)}function ic(tr,dr,xr,Br){tr[dr+0]&&Va(tr,dr+0,xr,Br),tr[dr+16]&&Va(tr,dr+16,xr,Br+4),tr[dr+32]&&Va(tr,dr+32,xr,Br+128),tr[dr+48]&&Va(tr,dr+48,xr,Br+128+4)}function Go(tr,dr,xr,Br){var Nr,$r=Ie(16);for(Nr=0;4>Nr;++Nr){var Hr=tr[dr+0+Nr]+tr[dr+12+Nr],zr=tr[dr+4+Nr]+tr[dr+8+Nr],Gr=tr[dr+4+Nr]-tr[dr+8+Nr],hn=tr[dr+0+Nr]-tr[dr+12+Nr];$r[0+Nr]=Hr+zr,$r[8+Nr]=Hr-zr,$r[4+Nr]=hn+Gr,$r[12+Nr]=hn-Gr}for(Nr=0;4>Nr;++Nr)Hr=(tr=$r[0+4*Nr]+3)+$r[3+4*Nr],zr=$r[1+4*Nr]+$r[2+4*Nr],Gr=$r[1+4*Nr]-$r[2+4*Nr],hn=tr-$r[3+4*Nr],xr[Br+0]=Hr+zr>>3,xr[Br+16]=hn+Gr>>3,xr[Br+32]=Hr-zr>>3,xr[Br+48]=hn-Gr>>3,Br+=64}function qo(tr,dr,xr){var Br,Nr=dr-32,$r=yo,Hr=255-tr[Nr-1];for(Br=0;Br<xr;++Br){var zr,Gr=$r,hn=Hr+tr[dr-1];for(zr=0;zr<xr;++zr)tr[dr+zr]=Gr[hn+tr[Nr+zr]];dr+=32}}function Zu(tr,dr){qo(tr,dr,4)}function Kc(tr,dr){qo(tr,dr,8)}function pu(tr,dr){qo(tr,dr,16)}function Ol(tr,dr){var xr;for(xr=0;16>xr;++xr)Pe(tr,dr+32*xr,tr,dr-32,16)}function _c(tr,dr){var xr;for(xr=16;0<xr;--xr)Re(tr,dr,tr[dr-1],16),dr+=32}function ul(tr,dr,xr){var Br;for(Br=0;16>Br;++Br)Re(dr,xr+32*Br,tr,16)}function mo(tr,dr){var xr,Br=16;for(xr=0;16>xr;++xr)Br+=tr[dr-1+32*xr]+tr[dr+xr-32];ul(Br>>5,tr,dr)}function oa(tr,dr){var xr,Br=8;for(xr=0;16>xr;++xr)Br+=tr[dr-1+32*xr];ul(Br>>4,tr,dr)}function Nl(tr,dr){var xr,Br=8;for(xr=0;16>xr;++xr)Br+=tr[dr+xr-32];ul(Br>>4,tr,dr)}function vl(tr,dr){ul(128,tr,dr)}function ts(tr,dr,xr){return tr+2*dr+xr+2>>2}function yl(tr,dr){var xr,Br=dr-32;for(Br=new Uint8Array([ts(tr[Br-1],tr[Br+0],tr[Br+1]),ts(tr[Br+0],tr[Br+1],tr[Br+2]),ts(tr[Br+1],tr[Br+2],tr[Br+3]),ts(tr[Br+2],tr[Br+3],tr[Br+4])]),xr=0;4>xr;++xr)Pe(tr,dr+32*xr,Br,0,Br.length)}function Ju(tr,dr){var xr=tr[dr-1],Br=tr[dr-1+32],Nr=tr[dr-1+64],$r=tr[dr-1+96];Zr(tr,dr+0,16843009*ts(tr[dr-1-32],xr,Br)),Zr(tr,dr+32,16843009*ts(xr,Br,Nr)),Zr(tr,dr+64,16843009*ts(Br,Nr,$r)),Zr(tr,dr+96,16843009*ts(Nr,$r,$r))}function Ro(tr,dr){var xr,Br=4;for(xr=0;4>xr;++xr)Br+=tr[dr+xr-32]+tr[dr-1+32*xr];for(Br>>=3,xr=0;4>xr;++xr)Re(tr,dr+32*xr,Br,4)}function Yo(tr,dr){var xr=tr[dr-1+0],Br=tr[dr-1+32],Nr=tr[dr-1+64],$r=tr[dr-1-32],Hr=tr[dr+0-32],zr=tr[dr+1-32],Gr=tr[dr+2-32],hn=tr[dr+3-32];tr[dr+0+96]=ts(Br,Nr,tr[dr-1+96]),tr[dr+1+96]=tr[dr+0+64]=ts(xr,Br,Nr),tr[dr+2+96]=tr[dr+1+64]=tr[dr+0+32]=ts($r,xr,Br),tr[dr+3+96]=tr[dr+2+64]=tr[dr+1+32]=tr[dr+0+0]=ts(Hr,$r,xr),tr[dr+3+64]=tr[dr+2+32]=tr[dr+1+0]=ts(zr,Hr,$r),tr[dr+3+32]=tr[dr+2+0]=ts(Gr,zr,Hr),tr[dr+3+0]=ts(hn,Gr,zr)}function Uo(tr,dr){var xr=tr[dr+1-32],Br=tr[dr+2-32],Nr=tr[dr+3-32],$r=tr[dr+4-32],Hr=tr[dr+5-32],zr=tr[dr+6-32],Gr=tr[dr+7-32];tr[dr+0+0]=ts(tr[dr+0-32],xr,Br),tr[dr+1+0]=tr[dr+0+32]=ts(xr,Br,Nr),tr[dr+2+0]=tr[dr+1+32]=tr[dr+0+64]=ts(Br,Nr,$r),tr[dr+3+0]=tr[dr+2+32]=tr[dr+1+64]=tr[dr+0+96]=ts(Nr,$r,Hr),tr[dr+3+32]=tr[dr+2+64]=tr[dr+1+96]=ts($r,Hr,zr),tr[dr+3+64]=tr[dr+2+96]=ts(Hr,zr,Gr),tr[dr+3+96]=ts(zr,Gr,Gr)}function xl(tr,dr){var xr=tr[dr-1+0],Br=tr[dr-1+32],Nr=tr[dr-1+64],$r=tr[dr-1-32],Hr=tr[dr+0-32],zr=tr[dr+1-32],Gr=tr[dr+2-32],hn=tr[dr+3-32];tr[dr+0+0]=tr[dr+1+64]=$r+Hr+1>>1,tr[dr+1+0]=tr[dr+2+64]=Hr+zr+1>>1,tr[dr+2+0]=tr[dr+3+64]=zr+Gr+1>>1,tr[dr+3+0]=Gr+hn+1>>1,tr[dr+0+96]=ts(Nr,Br,xr),tr[dr+0+64]=ts(Br,xr,$r),tr[dr+0+32]=tr[dr+1+96]=ts(xr,$r,Hr),tr[dr+1+32]=tr[dr+2+96]=ts($r,Hr,zr),tr[dr+2+32]=tr[dr+3+96]=ts(Hr,zr,Gr),tr[dr+3+32]=ts(zr,Gr,hn)}function Sa(tr,dr){var xr=tr[dr+0-32],Br=tr[dr+1-32],Nr=tr[dr+2-32],$r=tr[dr+3-32],Hr=tr[dr+4-32],zr=tr[dr+5-32],Gr=tr[dr+6-32],hn=tr[dr+7-32];tr[dr+0+0]=xr+Br+1>>1,tr[dr+1+0]=tr[dr+0+64]=Br+Nr+1>>1,tr[dr+2+0]=tr[dr+1+64]=Nr+$r+1>>1,tr[dr+3+0]=tr[dr+2+64]=$r+Hr+1>>1,tr[dr+0+32]=ts(xr,Br,Nr),tr[dr+1+32]=tr[dr+0+96]=ts(Br,Nr,$r),tr[dr+2+32]=tr[dr+1+96]=ts(Nr,$r,Hr),tr[dr+3+32]=tr[dr+2+96]=ts($r,Hr,zr),tr[dr+3+64]=ts(Hr,zr,Gr),tr[dr+3+96]=ts(zr,Gr,hn)}function kl(tr,dr){var xr=tr[dr-1+0],Br=tr[dr-1+32],Nr=tr[dr-1+64],$r=tr[dr-1+96];tr[dr+0+0]=xr+Br+1>>1,tr[dr+2+0]=tr[dr+0+32]=Br+Nr+1>>1,tr[dr+2+32]=tr[dr+0+64]=Nr+$r+1>>1,tr[dr+1+0]=ts(xr,Br,Nr),tr[dr+3+0]=tr[dr+1+32]=ts(Br,Nr,$r),tr[dr+3+32]=tr[dr+1+64]=ts(Nr,$r,$r),tr[dr+3+64]=tr[dr+2+64]=tr[dr+0+96]=tr[dr+1+96]=tr[dr+2+96]=tr[dr+3+96]=$r}function _l(tr,dr){var xr=tr[dr-1+0],Br=tr[dr-1+32],Nr=tr[dr-1+64],$r=tr[dr-1+96],Hr=tr[dr-1-32],zr=tr[dr+0-32],Gr=tr[dr+1-32],hn=tr[dr+2-32];tr[dr+0+0]=tr[dr+2+32]=xr+Hr+1>>1,tr[dr+0+32]=tr[dr+2+64]=Br+xr+1>>1,tr[dr+0+64]=tr[dr+2+96]=Nr+Br+1>>1,tr[dr+0+96]=$r+Nr+1>>1,tr[dr+3+0]=ts(zr,Gr,hn),tr[dr+2+0]=ts(Hr,zr,Gr),tr[dr+1+0]=tr[dr+3+32]=ts(xr,Hr,zr),tr[dr+1+32]=tr[dr+3+64]=ts(Br,xr,Hr),tr[dr+1+64]=tr[dr+3+96]=ts(Nr,Br,xr),tr[dr+1+96]=ts($r,Nr,Br)}function Wc(tr,dr){var xr;for(xr=0;8>xr;++xr)Pe(tr,dr+32*xr,tr,dr-32,8)}function Xo(tr,dr){var xr;for(xr=0;8>xr;++xr)Re(tr,dr,tr[dr-1],8),dr+=32}function Io(tr,dr,xr){var Br;for(Br=0;8>Br;++Br)Re(dr,xr+32*Br,tr,8)}function bl(tr,dr){var xr,Br=8;for(xr=0;8>xr;++xr)Br+=tr[dr+xr-32]+tr[dr-1+32*xr];Io(Br>>4,tr,dr)}function $a(tr,dr){var xr,Br=4;for(xr=0;8>xr;++xr)Br+=tr[dr+xr-32];Io(Br>>3,tr,dr)}function Rs(tr,dr){var xr,Br=4;for(xr=0;8>xr;++xr)Br+=tr[dr-1+32*xr];Io(Br>>3,tr,dr)}function Ml(tr,dr){Io(128,tr,dr)}function El(tr,dr,xr){var Br=tr[dr-xr],Nr=tr[dr+0],$r=3*(Nr-Br)+Tf[1020+tr[dr-2*xr]-tr[dr+xr]],Hr=bu[112+($r+4>>3)];tr[dr-xr]=yo[255+Br+bu[112+($r+3>>3)]],tr[dr+0]=yo[255+Nr-Hr]}function mu(tr,dr,xr,Br){var Nr=tr[dr+0],$r=tr[dr+xr];return Cl[255+tr[dr-2*xr]-tr[dr-xr]]>Br||Cl[255+$r-Nr]>Br}function ga(tr,dr,xr,Br){return 4*Cl[255+tr[dr-xr]-tr[dr+0]]+Cl[255+tr[dr-2*xr]-tr[dr+xr]]<=Br}function bc(tr,dr,xr,Br,Nr){var $r=tr[dr-3*xr],Hr=tr[dr-2*xr],zr=tr[dr-xr],Gr=tr[dr+0],hn=tr[dr+xr],Tn=tr[dr+2*xr],zn=tr[dr+3*xr];return 4*Cl[255+zr-Gr]+Cl[255+Hr-hn]>Br?0:Cl[255+tr[dr-4*xr]-$r]<=Nr&&Cl[255+$r-Hr]<=Nr&&Cl[255+Hr-zr]<=Nr&&Cl[255+zn-Tn]<=Nr&&Cl[255+Tn-hn]<=Nr&&Cl[255+hn-Gr]<=Nr}function go(tr,dr,xr,Br){var Nr=2*Br+1;for(Br=0;16>Br;++Br)ga(tr,dr+Br,xr,Nr)&&El(tr,dr+Br,xr)}function Bo(tr,dr,xr,Br){var Nr=2*Br+1;for(Br=0;16>Br;++Br)ga(tr,dr+Br*xr,1,Nr)&&El(tr,dr+Br*xr,1)}function Ka(tr,dr,xr,Br){var Nr;for(Nr=3;0<Nr;--Nr)go(tr,dr+=4*xr,xr,Br)}function ef(tr,dr,xr,Br){var Nr;for(Nr=3;0<Nr;--Nr)Bo(tr,dr+=4,xr,Br)}function sc(tr,dr,xr,Br,Nr,$r,Hr,zr){for($r=2*$r+1;0<Nr--;){if(bc(tr,dr,xr,$r,Hr))if(mu(tr,dr,xr,zr))El(tr,dr,xr);else{var Gr=tr,hn=dr,Tn=xr,zn=Gr[hn-2*Tn],Hn=Gr[hn-Tn],kn=Gr[hn+0],ri=Gr[hn+Tn],ei=Gr[hn+2*Tn],Rn=27*(oi=Tf[1020+3*(kn-Hn)+Tf[1020+zn-ri]])+63>>7,Fn=18*oi+63>>7,oi=9*oi+63>>7;Gr[hn-3*Tn]=yo[255+Gr[hn-3*Tn]+oi],Gr[hn-2*Tn]=yo[255+zn+Fn],Gr[hn-Tn]=yo[255+Hn+Rn],Gr[hn+0]=yo[255+kn-Rn],Gr[hn+Tn]=yo[255+ri-Fn],Gr[hn+2*Tn]=yo[255+ei-oi]}dr+=Br}}function Wa(tr,dr,xr,Br,Nr,$r,Hr,zr){for($r=2*$r+1;0<Nr--;){if(bc(tr,dr,xr,$r,Hr))if(mu(tr,dr,xr,zr))El(tr,dr,xr);else{var Gr=tr,hn=dr,Tn=xr,zn=Gr[hn-Tn],Hn=Gr[hn+0],kn=Gr[hn+Tn],ri=bu[112+((ei=3*(Hn-zn))+4>>3)],ei=bu[112+(ei+3>>3)],Rn=ri+1>>1;Gr[hn-2*Tn]=yo[255+Gr[hn-2*Tn]+Rn],Gr[hn-Tn]=yo[255+zn+ei],Gr[hn+0]=yo[255+Hn-ri],Gr[hn+Tn]=yo[255+kn-Rn]}dr+=Br}}function dl(tr,dr,xr,Br,Nr,$r){sc(tr,dr,xr,1,16,Br,Nr,$r)}function wl(tr,dr,xr,Br,Nr,$r){sc(tr,dr,1,xr,16,Br,Nr,$r)}function Gc(tr,dr,xr,Br,Nr,$r){var Hr;for(Hr=3;0<Hr;--Hr)Wa(tr,dr+=4*xr,xr,1,16,Br,Nr,$r)}function jo(tr,dr,xr,Br,Nr,$r){var Hr;for(Hr=3;0<Hr;--Hr)Wa(tr,dr+=4,1,xr,16,Br,Nr,$r)}function Ul(tr,dr,xr,Br,Nr,$r,Hr,zr){sc(tr,dr,Nr,1,8,$r,Hr,zr),sc(xr,Br,Nr,1,8,$r,Hr,zr)}function Ec(tr,dr,xr,Br,Nr,$r,Hr,zr){sc(tr,dr,1,Nr,8,$r,Hr,zr),sc(xr,Br,1,Nr,8,$r,Hr,zr)}function wc(tr,dr,xr,Br,Nr,$r,Hr,zr){Wa(tr,dr+4*Nr,Nr,1,8,$r,Hr,zr),Wa(xr,Br+4*Nr,Nr,1,8,$r,Hr,zr)}function ac(tr,dr,xr,Br,Nr,$r,Hr,zr){Wa(tr,dr+4,1,Nr,8,$r,Hr,zr),Wa(xr,Br+4,1,Nr,8,$r,Hr,zr)}function Sc(){this.ba=new Zs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ti,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function qc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Tc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function oc(){this.ua=0,this.Wa=new Jr,this.vb=new Jr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Rr,this.yc=new fr}function tf(){this.xb=this.a=0,this.l=new Ao,this.ca=new Zs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new hr,this.Pb=0,this.wd=new hr,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new oc,this.ab=0,this.gc=Be(4,Tc),this.Oc=0}function $l(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ao,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cc(tr,dr,xr,Br,Nr,$r,Hr){for(tr=tr==null?0:tr[dr+0],dr=0;dr<Hr;++dr)Nr[$r+dr]=tr+xr[Br+dr]&255,tr=Nr[$r+dr]}function Cc(tr,dr,xr,Br,Nr,$r,Hr){var zr;if(tr==null)cc(null,null,xr,Br,Nr,$r,Hr);else for(zr=0;zr<Hr;++zr)Nr[$r+zr]=tr[dr+zr]+xr[Br+zr]&255}function Do(tr,dr,xr,Br,Nr,$r,Hr){if(tr==null)cc(null,null,xr,Br,Nr,$r,Hr);else{var zr,Gr=tr[dr+0],hn=Gr,Tn=Gr;for(zr=0;zr<Hr;++zr)hn=Tn+(Gr=tr[dr+zr])-hn,Tn=xr[Br+zr]+(-256&hn?0>hn?0:255:hn)&255,hn=Gr,Nr[$r+zr]=Tn}}function Yc(tr,dr,xr,Br){var Nr=dr.width,$r=dr.o;if(_e(tr!=null&&dr!=null),0>xr||0>=Br||xr+Br>$r)return null;if(!tr.Cc){if(tr.ga==null){var Hr;if(tr.ga=new $l,(Hr=tr.ga==null)||(Hr=dr.width*dr.o,_e(tr.Gb.length==0),tr.Gb=Ie(Hr),tr.Uc=0,tr.Gb==null?Hr=0:(tr.mb=tr.Gb,tr.nb=tr.Uc,tr.rc=null,Hr=1),Hr=!Hr),!Hr){Hr=tr.ga;var zr=tr.Fa,Gr=tr.P,hn=tr.qc,Tn=tr.mb,zn=tr.nb,Hn=Gr+1,kn=hn-1,ri=Hr.l;if(_e(zr!=null&&Tn!=null&&dr!=null),zl[0]=null,zl[1]=cc,zl[2]=Cc,zl[3]=Do,Hr.ca=Tn,Hr.tb=zn,Hr.c=dr.width,Hr.i=dr.height,_e(0<Hr.c&&0<Hr.i),1>=hn)dr=0;else if(Hr.$a=zr[Gr+0]>>0&3,Hr.Z=zr[Gr+0]>>2&3,Hr.Lc=zr[Gr+0]>>4&3,Gr=zr[Gr+0]>>6&3,0>Hr.$a||1<Hr.$a||4<=Hr.Z||1<Hr.Lc||Gr)dr=0;else if(ri.put=Js,ri.ac=us,ri.bc=Na,ri.ma=Hr,ri.width=dr.width,ri.height=dr.height,ri.Da=dr.Da,ri.v=dr.v,ri.va=dr.va,ri.j=dr.j,ri.o=dr.o,Hr.$a)e:{_e(Hr.$a==1),dr=Yn();t:for(;;){if(dr==null){dr=0;break e}if(_e(Hr!=null),Hr.mc=dr,dr.c=Hr.c,dr.i=Hr.i,dr.l=Hr.l,dr.l.ma=Hr,dr.l.width=Hr.c,dr.l.height=Hr.i,dr.a=0,Ar(dr.m,zr,Hn,kn),!On(Hr.c,Hr.i,1,dr,null)||(dr.ab==1&&dr.gc[0].hc==3&&Xr(dr.s)?(Hr.ic=1,zr=dr.c*dr.i,dr.Ta=null,dr.Ua=0,dr.V=Ie(zr),dr.Ba=0,dr.V==null?(dr.a=1,dr=0):dr=1):(Hr.ic=0,dr=Qn(dr,Hr.c)),!dr))break t;dr=1;break e}Hr.mc=null,dr=0}else dr=kn>=Hr.c*Hr.i;Hr=!dr}if(Hr)return null;tr.ga.Lc!=1?tr.Ga=0:Br=$r-xr}_e(tr.ga!=null),_e(xr+Br<=$r);e:{if(dr=(zr=tr.ga).c,$r=zr.l.o,zr.$a==0){if(Hn=tr.rc,kn=tr.Vc,ri=tr.Fa,Gr=tr.P+1+xr*dr,hn=tr.mb,Tn=tr.nb+xr*dr,_e(Gr<=tr.P+tr.qc),zr.Z!=0)for(_e(zl[zr.Z]!=null),Hr=0;Hr<Br;++Hr)zl[zr.Z](Hn,kn,ri,Gr,hn,Tn,dr),Hn=hn,kn=Tn,Tn+=dr,Gr+=dr;else for(Hr=0;Hr<Br;++Hr)Pe(hn,Tn,ri,Gr,dr),Hn=hn,kn=Tn,Tn+=dr,Gr+=dr;tr.rc=Hn,tr.Vc=kn}else{if(_e(zr.mc!=null),dr=xr+Br,_e((Hr=zr.mc)!=null),_e(dr<=Hr.i),Hr.C>=dr)dr=1;else if(zr.ic||Nn(),zr.ic){zr=Hr.V,Hn=Hr.Ba,kn=Hr.c;var ei=Hr.i,Rn=(ri=1,Gr=Hr.$/kn,hn=Hr.$%kn,Tn=Hr.m,zn=Hr.s,Hr.$),Fn=kn*ei,oi=kn*dr,hi=zn.wc,fi=Rn<oi?aa(zn,hn,Gr):null;_e(Rn<=Fn),_e(dr<=ei),_e(Xr(zn));t:for(;;){for(;!Tn.h&&Rn<oi;){if(hn&hi||(fi=aa(zn,hn,Gr)),_e(fi!=null),Or(Tn),256>(ei=ta(fi.G[0],fi.H[0],Tn)))zr[Hn+Rn]=ei,++Rn,++hn>=kn&&(hn=0,++Gr<=dr&&!(Gr%16)&&pn(Hr,Gr));else{if(!(280>ei)){ri=0;break t}ei=Qi(ei-256,Tn);var Ki,Oi=ta(fi.G[4],fi.H[4],Tn);if(Or(Tn),!(Rn>=(Oi=ks(kn,Oi=Qi(Oi,Tn)))&&Fn-Rn>=ei)){ri=0;break t}for(Ki=0;Ki<ei;++Ki)zr[Hn+Rn+Ki]=zr[Hn+Rn+Ki-Oi];for(Rn+=ei,hn+=ei;hn>=kn;)hn-=kn,++Gr<=dr&&!(Gr%16)&&pn(Hr,Gr);Rn<oi&&hn&hi&&(fi=aa(zn,hn,Gr))}_e(Tn.h==Pr(Tn))}pn(Hr,Gr>dr?dr:Gr);break t}!ri||Tn.h&&Rn<Fn?(ri=0,Hr.a=Tn.h?5:3):Hr.$=Rn,dr=ri}else dr=gn(Hr,Hr.V,Hr.Ba,Hr.c,Hr.i,dr,Wn);if(!dr){Br=0;break e}}xr+Br>=$r&&(tr.Cc=1),Br=1}if(!Br)return null;if(tr.Cc&&((Br=tr.ga)!=null&&(Br.mc=null),tr.ga=null,0<tr.Ga))return alert("todo:WebPDequantizeLevels"),null}return tr.nb+xr*Nr}function yr(tr,dr,xr,Br,Nr,$r){for(;0<Nr--;){var Hr,zr=tr,Gr=dr+(xr?1:0),hn=tr,Tn=dr+(xr?0:3);for(Hr=0;Hr<Br;++Hr){var zn=hn[Tn+4*Hr];zn!=255&&(zn*=32897,zr[Gr+4*Hr+0]=zr[Gr+4*Hr+0]*zn>>23,zr[Gr+4*Hr+1]=zr[Gr+4*Hr+1]*zn>>23,zr[Gr+4*Hr+2]=zr[Gr+4*Hr+2]*zn>>23)}dr+=$r}}function Mr(tr,dr,xr,Br,Nr){for(;0<Br--;){var $r;for($r=0;$r<xr;++$r){var Hr=tr[dr+2*$r+0],zr=15&(hn=tr[dr+2*$r+1]),Gr=4369*zr,hn=(240&hn|hn>>4)*Gr>>16;tr[dr+2*$r+0]=(240&Hr|Hr>>4)*Gr>>16&240|(15&Hr|Hr<<4)*Gr>>16>>4&15,tr[dr+2*$r+1]=240&hn|zr}dr+=Nr}}function vn(tr,dr,xr,Br,Nr,$r,Hr,zr){var Gr,hn,Tn=255;for(hn=0;hn<Nr;++hn){for(Gr=0;Gr<Br;++Gr){var zn=tr[dr+Gr];$r[Hr+4*Gr]=zn,Tn&=zn}dr+=xr,Hr+=zr}return Tn!=255}function Sn(tr,dr,xr,Br,Nr){var $r;for($r=0;$r<Nr;++$r)xr[Br+$r]=tr[dr+$r]>>8}function Nn(){rl=yr,Cs=Mr,Ps=vn,ha=Sn}function ti(tr,dr,xr){er[tr]=function(Br,Nr,$r,Hr,zr,Gr,hn,Tn,zn,Hn,kn,ri,ei,Rn,Fn,oi,hi){var fi,Ki=hi-1>>1,Oi=zr[Gr+0]|hn[Tn+0]<<16,es=zn[Hn+0]|kn[ri+0]<<16;_e(Br!=null);var ki=3*Oi+es+131074>>2;for(dr(Br[Nr+0],255&ki,ki>>16,ei,Rn),$r!=null&&(ki=3*es+Oi+131074>>2,dr($r[Hr+0],255&ki,ki>>16,Fn,oi)),fi=1;fi<=Ki;++fi){var zs=zr[Gr+fi]|hn[Tn+fi]<<16,qs=zn[Hn+fi]|kn[ri+fi]<<16,Es=Oi+zs+es+qs+524296,yi=Es+2*(zs+es)>>3;ki=yi+Oi>>1,Oi=(Es=Es+2*(Oi+qs)>>3)+zs>>1,dr(Br[Nr+2*fi-1],255&ki,ki>>16,ei,Rn+(2*fi-1)*xr),dr(Br[Nr+2*fi-0],255&Oi,Oi>>16,ei,Rn+(2*fi-0)*xr),$r!=null&&(ki=Es+es>>1,Oi=yi+qs>>1,dr($r[Hr+2*fi-1],255&ki,ki>>16,Fn,oi+(2*fi-1)*xr),dr($r[Hr+2*fi+0],255&Oi,Oi>>16,Fn,oi+(2*fi+0)*xr)),Oi=zs,es=qs}1&hi||(ki=3*Oi+es+131074>>2,dr(Br[Nr+hi-1],255&ki,ki>>16,ei,Rn+(hi-1)*xr),$r!=null&&(ki=3*es+Oi+131074>>2,dr($r[Hr+hi-1],255&ki,ki>>16,Fn,oi+(hi-1)*xr)))}}function _i(){xo[Oo]=Oc,xo[sf]=Al,xo[Qo]=hc,xo[Cf]=Jf,xo[Eu]=ed,xo[Pl]=of,xo[Xf]=rd,xo[Pf]=Al,xo[iu]=Jf,xo[jc]=ed,xo[Dc]=of}function Ni(tr){return tr&-16384?0>tr?0:255:tr>>kh}function ir(tr,dr){return Ni((19077*tr>>8)+(26149*dr>>8)-14234)}function Tr(tr,dr,xr){return Ni((19077*tr>>8)-(6419*dr>>8)-(13320*xr>>8)+8708)}function Dr(tr,dr){return Ni((19077*tr>>8)+(33050*dr>>8)-17685)}function Qr(tr,dr,xr,Br,Nr){Br[Nr+0]=ir(tr,xr),Br[Nr+1]=Tr(tr,dr,xr),Br[Nr+2]=Dr(tr,dr)}function Dn(tr,dr,xr,Br,Nr){Br[Nr+0]=Dr(tr,dr),Br[Nr+1]=Tr(tr,dr,xr),Br[Nr+2]=ir(tr,xr)}function Vn(tr,dr,xr,Br,Nr){var $r=Tr(tr,dr,xr);dr=$r<<3&224|Dr(tr,dr)>>3,Br[Nr+0]=248&ir(tr,xr)|$r>>5,Br[Nr+1]=dr}function si(tr,dr,xr,Br,Nr){var $r=240&Dr(tr,dr)|15;Br[Nr+0]=240&ir(tr,xr)|Tr(tr,dr,xr)>>4,Br[Nr+1]=$r}function ls(tr,dr,xr,Br,Nr){Br[Nr+0]=255,Qr(tr,dr,xr,Br,Nr+1)}function Ts(tr,dr,xr,Br,Nr){Dn(tr,dr,xr,Br,Nr),Br[Nr+3]=255}function ps(tr,dr,xr,Br,Nr){Qr(tr,dr,xr,Br,Nr),Br[Nr+3]=255}function Ls(tr,dr){return 0>tr?0:tr>dr?dr:tr}function Is(tr,dr,xr){er[tr]=function(Br,Nr,$r,Hr,zr,Gr,hn,Tn,zn){for(var Hn=Tn+(-2&zn)*xr;Tn!=Hn;)dr(Br[Nr+0],$r[Hr+0],zr[Gr+0],hn,Tn),dr(Br[Nr+1],$r[Hr+0],zr[Gr+0],hn,Tn+xr),Nr+=2,++Hr,++Gr,Tn+=2*xr;1&zn&&dr(Br[Nr+0],$r[Hr+0],zr[Gr+0],hn,Tn)}}function Sl(tr,dr,xr){return xr==0?tr==0?dr==0?6:5:dr==0?4:0:xr}function ra(tr,dr,xr,Br,Nr){switch(tr>>>30){case 3:Hl(dr,xr,Br,Nr,0);break;case 2:Da(dr,xr,Br,Nr);break;case 1:Va(dr,xr,Br,Nr)}}function Us(tr,dr){var xr,Br,Nr=dr.M,$r=dr.Nb,Hr=tr.oc,zr=tr.pc+40,Gr=tr.oc,hn=tr.pc+584,Tn=tr.oc,zn=tr.pc+600;for(xr=0;16>xr;++xr)Hr[zr+32*xr-1]=129;for(xr=0;8>xr;++xr)Gr[hn+32*xr-1]=129,Tn[zn+32*xr-1]=129;for(0<Nr?Hr[zr-1-32]=Gr[hn-1-32]=Tn[zn-1-32]=129:(Re(Hr,zr-32-1,127,21),Re(Gr,hn-32-1,127,9),Re(Tn,zn-32-1,127,9)),Br=0;Br<tr.za;++Br){var Hn=dr.ya[dr.aa+Br];if(0<Br){for(xr=-1;16>xr;++xr)Pe(Hr,zr+32*xr-4,Hr,zr+32*xr+12,4);for(xr=-1;8>xr;++xr)Pe(Gr,hn+32*xr-4,Gr,hn+32*xr+4,4),Pe(Tn,zn+32*xr-4,Tn,zn+32*xr+4,4)}var kn=tr.Gd,ri=tr.Hd+Br,ei=Hn.ad,Rn=Hn.Hc;if(0<Nr&&(Pe(Hr,zr-32,kn[ri].y,0,16),Pe(Gr,hn-32,kn[ri].f,0,8),Pe(Tn,zn-32,kn[ri].ea,0,8)),Hn.Za){var Fn=Hr,oi=zr-32+16;for(0<Nr&&(Br>=tr.za-1?Re(Fn,oi,kn[ri].y[15],4):Pe(Fn,oi,kn[ri+1].y,0,4)),xr=0;4>xr;xr++)Fn[oi+128+xr]=Fn[oi+256+xr]=Fn[oi+384+xr]=Fn[oi+0+xr];for(xr=0;16>xr;++xr,Rn<<=2)Fn=Hr,oi=zr+Cu[xr],zo[Hn.Ob[xr]](Fn,oi),ra(Rn,ei,16*+xr,Fn,oi)}else if(Fn=Sl(Br,Nr,Hn.Ob[0]),Lc[Fn](Hr,zr),Rn!=0)for(xr=0;16>xr;++xr,Rn<<=2)ra(Rn,ei,16*+xr,Hr,zr+Cu[xr]);for(xr=Hn.Gc,Fn=Sl(Br,Nr,Hn.Dd),No[Fn](Gr,hn),No[Fn](Tn,zn),Rn=ei,Fn=Gr,oi=hn,255&(Hn=xr>>0)&&(170&Hn?el(Rn,256,Fn,oi):tl(Rn,256,Fn,oi)),Hn=Tn,Rn=zn,255&(xr>>=8)&&(170&xr?el(ei,320,Hn,Rn):tl(ei,320,Hn,Rn)),Nr<tr.Ub-1&&(Pe(kn[ri].y,0,Hr,zr+480,16),Pe(kn[ri].f,0,Gr,hn+224,8),Pe(kn[ri].ea,0,Tn,zn+224,8)),xr=8*$r*tr.B,kn=tr.sa,ri=tr.ta+16*Br+16*$r*tr.R,ei=tr.qa,Hn=tr.ra+8*Br+xr,Rn=tr.Ha,Fn=tr.Ia+8*Br+xr,xr=0;16>xr;++xr)Pe(kn,ri+xr*tr.R,Hr,zr+32*xr,16);for(xr=0;8>xr;++xr)Pe(ei,Hn+xr*tr.B,Gr,hn+32*xr,8),Pe(Rn,Fn+xr*tr.B,Tn,zn+32*xr,8)}}function Vl(tr,dr,xr,Br,Nr,$r,Hr,zr,Gr){var hn=[0],Tn=[0],zn=0,Hn=Gr!=null?Gr.kd:0,kn=Gr??new qc;if(tr==null||12>xr)return 7;kn.data=tr,kn.w=dr,kn.ha=xr,dr=[dr],xr=[xr],kn.gb=[kn.gb];e:{var ri=dr,ei=xr,Rn=kn.gb;if(_e(tr!=null),_e(ei!=null),_e(Rn!=null),Rn[0]=0,12<=ei[0]&&!Ce(tr,ri[0],"RIFF")){if(Ce(tr,ri[0]+8,"WEBP")){Rn=3;break e}var Fn=Cn(tr,ri[0]+4);if(12>Fn||4294967286<Fn){Rn=3;break e}if(Hn&&Fn>ei[0]-8){Rn=7;break e}Rn[0]=Fn,ri[0]+=12,ei[0]-=12}Rn=0}if(Rn!=0)return Rn;for(Fn=0<kn.gb[0],xr=xr[0];;){e:{var oi=tr;ei=dr,Rn=xr;var hi=hn,fi=Tn,Ki=ri=[0];if((ki=zn=[zn])[0]=0,8>Rn[0])Rn=7;else{if(!Ce(oi,ei[0],"VP8X")){if(Cn(oi,ei[0]+4)!=10){Rn=3;break e}if(18>Rn[0]){Rn=7;break e}var Oi=Cn(oi,ei[0]+8),es=1+mn(oi,ei[0]+12);if(2147483648<=es*(oi=1+mn(oi,ei[0]+15))){Rn=3;break e}Ki!=null&&(Ki[0]=Oi),hi!=null&&(hi[0]=es),fi!=null&&(fi[0]=oi),ei[0]+=18,Rn[0]-=18,ki[0]=1}Rn=0}}if(zn=zn[0],ri=ri[0],Rn!=0)return Rn;if(ei=!!(2&ri),!Fn&&zn)return 3;if($r!=null&&($r[0]=!!(16&ri)),Hr!=null&&(Hr[0]=ei),zr!=null&&(zr[0]=0),Hr=hn[0],ri=Tn[0],zn&&ei&&Gr==null){Rn=0;break}if(4>xr){Rn=7;break}if(Fn&&zn||!Fn&&!zn&&!Ce(tr,dr[0],"ALPH")){xr=[xr],kn.na=[kn.na],kn.P=[kn.P],kn.Sa=[kn.Sa];e:{Oi=tr,Rn=dr,Fn=xr;var ki=kn.gb;hi=kn.na,fi=kn.P,Ki=kn.Sa,es=22,_e(Oi!=null),_e(Fn!=null),oi=Rn[0];var zs=Fn[0];for(_e(hi!=null),_e(Ki!=null),hi[0]=null,fi[0]=null,Ki[0]=0;;){if(Rn[0]=oi,Fn[0]=zs,8>zs){Rn=7;break e}var qs=Cn(Oi,oi+4);if(4294967286<qs){Rn=3;break e}var Es=8+qs+1&-2;if(es+=Es,0<ki&&es>ki){Rn=3;break e}if(!Ce(Oi,oi,"VP8 ")||!Ce(Oi,oi,"VP8L")){Rn=0;break e}if(zs[0]<Es){Rn=7;break e}Ce(Oi,oi,"ALPH")||(hi[0]=Oi,fi[0]=oi+8,Ki[0]=qs),oi+=Es,zs-=Es}}if(xr=xr[0],kn.na=kn.na[0],kn.P=kn.P[0],kn.Sa=kn.Sa[0],Rn!=0)break}xr=[xr],kn.Ja=[kn.Ja],kn.xa=[kn.xa];e:if(ki=tr,Rn=dr,Fn=xr,hi=kn.gb[0],fi=kn.Ja,Ki=kn.xa,Oi=Rn[0],oi=!Ce(ki,Oi,"VP8 "),es=!Ce(ki,Oi,"VP8L"),_e(ki!=null),_e(Fn!=null),_e(fi!=null),_e(Ki!=null),8>Fn[0])Rn=7;else{if(oi||es){if(ki=Cn(ki,Oi+4),12<=hi&&ki>hi-12){Rn=3;break e}if(Hn&&ki>Fn[0]-8){Rn=7;break e}fi[0]=ki,Rn[0]+=8,Fn[0]-=8,Ki[0]=es}else Ki[0]=5<=Fn[0]&&ki[Oi+0]==47&&!(ki[Oi+4]>>5),fi[0]=Fn[0];Rn=0}if(xr=xr[0],kn.Ja=kn.Ja[0],kn.xa=kn.xa[0],dr=dr[0],Rn!=0)break;if(4294967286<kn.Ja)return 3;if(zr==null||ei||(zr[0]=kn.xa?2:1),Hr=[Hr],ri=[ri],kn.xa){if(5>xr){Rn=7;break}zr=Hr,Hn=ri,ei=$r,tr==null||5>xr?tr=0:5<=xr&&tr[dr+0]==47&&!(tr[dr+4]>>5)?(Fn=[0],ki=[0],hi=[0],Ar(fi=new hr,tr,dr,xr),Ri(fi,Fn,ki,hi)?(zr!=null&&(zr[0]=Fn[0]),Hn!=null&&(Hn[0]=ki[0]),ei!=null&&(ei[0]=hi[0]),tr=1):tr=0):tr=0}else{if(10>xr){Rn=7;break}zr=ri,tr==null||10>xr||!po(tr,dr+3,xr-3)?tr=0:(Hn=tr[dr+0]|tr[dr+1]<<8|tr[dr+2]<<16,ei=16383&(tr[dr+7]<<8|tr[dr+6]),tr=16383&(tr[dr+9]<<8|tr[dr+8]),1&Hn||3<(Hn>>1&7)||!(Hn>>4&1)||Hn>>5>=kn.Ja||!ei||!tr?tr=0:(Hr&&(Hr[0]=ei),zr&&(zr[0]=tr),tr=1))}if(!tr||(Hr=Hr[0],ri=ri[0],zn&&(hn[0]!=Hr||Tn[0]!=ri)))return 3;Gr!=null&&(Gr[0]=kn,Gr.offset=dr-Gr.w,_e(4294967286>dr-Gr.w),_e(Gr.offset==Gr.ha-xr));break}return Rn==0||Rn==7&&zn&&Gr==null?($r!=null&&($r[0]|=kn.na!=null&&0<kn.na.length),Br!=null&&(Br[0]=Hr),Nr!=null&&(Nr[0]=ri),0):Rn}function va(tr,dr,xr){var Br=dr.width,Nr=dr.height,$r=0,Hr=0,zr=Br,Gr=Nr;if(dr.Da=tr!=null&&0<tr.Da,dr.Da&&(zr=tr.cd,Gr=tr.bd,$r=tr.v,Hr=tr.j,11>xr||($r&=-2,Hr&=-2),0>$r||0>Hr||0>=zr||0>=Gr||$r+zr>Br||Hr+Gr>Nr))return 0;if(dr.v=$r,dr.j=Hr,dr.va=$r+zr,dr.o=Hr+Gr,dr.U=zr,dr.T=Gr,dr.da=tr!=null&&0<tr.da,dr.da){if(!qn(zr,Gr,xr=[tr.ib],$r=[tr.hb]))return 0;dr.ib=xr[0],dr.hb=$r[0]}return dr.ob=tr!=null&&tr.ob,dr.Kb=tr==null||!tr.Sd,dr.da&&(dr.ob=dr.ib<3*Br/4&&dr.hb<3*Nr/4,dr.Kb=0),1}function Xc(tr){if(tr==null)return 2;if(11>tr.S){var dr=tr.f.RGBA;dr.fb+=(tr.height-1)*dr.A,dr.A=-dr.A}else dr=tr.f.kb,tr=tr.height,dr.O+=(tr-1)*dr.fa,dr.fa=-dr.fa,dr.N+=(tr-1>>1)*dr.Ab,dr.Ab=-dr.Ab,dr.W+=(tr-1>>1)*dr.Db,dr.Db=-dr.Db,dr.F!=null&&(dr.J+=(tr-1)*dr.lb,dr.lb=-dr.lb);return 0}function Zo(tr,dr,xr,Br){if(Br==null||0>=tr||0>=dr)return 2;if(xr!=null){if(xr.Da){var Nr=xr.cd,$r=xr.bd,Hr=-2&xr.v,zr=-2&xr.j;if(0>Hr||0>zr||0>=Nr||0>=$r||Hr+Nr>tr||zr+$r>dr)return 2;tr=Nr,dr=$r}if(xr.da){if(!qn(tr,dr,Nr=[xr.ib],$r=[xr.hb]))return 2;tr=Nr[0],dr=$r[0]}}Br.width=tr,Br.height=dr;e:{var Gr=Br.width,hn=Br.height;if(tr=Br.S,0>=Gr||0>=hn||!(tr>=Oo&&13>tr))tr=2;else{if(0>=Br.Rd&&Br.sd==null){Hr=$r=Nr=dr=0;var Tn=(zr=Gr*fh[tr])*hn;if(11>tr||($r=(hn+1)/2*(dr=(Gr+1)/2),tr==12&&(Hr=(Nr=Gr)*hn)),(hn=Ie(Tn+2*$r+Hr))==null){tr=1;break e}Br.sd=hn,11>tr?((Gr=Br.f.RGBA).eb=hn,Gr.fb=0,Gr.A=zr,Gr.size=Tn):((Gr=Br.f.kb).y=hn,Gr.O=0,Gr.fa=zr,Gr.Fd=Tn,Gr.f=hn,Gr.N=0+Tn,Gr.Ab=dr,Gr.Cd=$r,Gr.ea=hn,Gr.W=0+Tn+$r,Gr.Db=dr,Gr.Ed=$r,tr==12&&(Gr.F=hn,Gr.J=0+Tn+2*$r),Gr.Tc=Hr,Gr.lb=Nr)}if(dr=1,Nr=Br.S,$r=Br.width,Hr=Br.height,Nr>=Oo&&13>Nr)if(11>Nr)tr=Br.f.RGBA,dr&=(zr=Math.abs(tr.A))*(Hr-1)+$r<=tr.size,dr&=zr>=$r*fh[Nr],dr&=tr.eb!=null;else{tr=Br.f.kb,zr=($r+1)/2,Tn=(Hr+1)/2,Gr=Math.abs(tr.fa),hn=Math.abs(tr.Ab);var zn=Math.abs(tr.Db),Hn=Math.abs(tr.lb),kn=Hn*(Hr-1)+$r;dr&=Gr*(Hr-1)+$r<=tr.Fd,dr&=hn*(Tn-1)+zr<=tr.Cd,dr=(dr&=zn*(Tn-1)+zr<=tr.Ed)&Gr>=$r&hn>=zr&zn>=zr,dr&=tr.y!=null,dr&=tr.f!=null,dr&=tr.ea!=null,Nr==12&&(dr&=Hn>=$r,dr&=kn<=tr.Tc,dr&=tr.F!=null)}else dr=0;tr=dr?0:2}}return tr!=0||xr!=null&&xr.fd&&(tr=Xc(Br)),tr}var Ta=64,$s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zc=24,Jc=32,gu=8,$o=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ui("Predictor0","PredictorAdd0"),er.Predictor0=function(){return 4278190080},er.Predictor1=function(tr){return tr},er.Predictor2=function(tr,dr,xr){return dr[xr+0]},er.Predictor3=function(tr,dr,xr){return dr[xr+1]},er.Predictor4=function(tr,dr,xr){return dr[xr-1]},er.Predictor5=function(tr,dr,xr){return mi(mi(tr,dr[xr+1]),dr[xr+0])},er.Predictor6=function(tr,dr,xr){return mi(tr,dr[xr-1])},er.Predictor7=function(tr,dr,xr){return mi(tr,dr[xr+0])},er.Predictor8=function(tr,dr,xr){return mi(dr[xr-1],dr[xr+0])},er.Predictor9=function(tr,dr,xr){return mi(dr[xr+0],dr[xr+1])},er.Predictor10=function(tr,dr,xr){return mi(mi(tr,dr[xr-1]),mi(dr[xr+0],dr[xr+1]))},er.Predictor11=function(tr,dr,xr){var Br=dr[xr+0];return 0>=$i(Br>>24&255,tr>>24&255,(dr=dr[xr-1])>>24&255)+$i(Br>>16&255,tr>>16&255,dr>>16&255)+$i(Br>>8&255,tr>>8&255,dr>>8&255)+$i(255&Br,255&tr,255&dr)?Br:tr},er.Predictor12=function(tr,dr,xr){var Br=dr[xr+0];return(wi((tr>>24&255)+(Br>>24&255)-((dr=dr[xr-1])>>24&255))<<24|wi((tr>>16&255)+(Br>>16&255)-(dr>>16&255))<<16|wi((tr>>8&255)+(Br>>8&255)-(dr>>8&255))<<8|wi((255&tr)+(255&Br)-(255&dr)))>>>0},er.Predictor13=function(tr,dr,xr){var Br=dr[xr-1];return(Di((tr=mi(tr,dr[xr+0]))>>24&255,Br>>24&255)<<24|Di(tr>>16&255,Br>>16&255)<<16|Di(tr>>8&255,Br>>8&255)<<8|Di(tr>>0&255,Br>>0&255))>>>0};var rf=er.PredictorAdd0;er.PredictorAdd1=Si,ui("Predictor2","PredictorAdd2"),ui("Predictor3","PredictorAdd3"),ui("Predictor4","PredictorAdd4"),ui("Predictor5","PredictorAdd5"),ui("Predictor6","PredictorAdd6"),ui("Predictor7","PredictorAdd7"),ui("Predictor8","PredictorAdd8"),ui("Predictor9","PredictorAdd9"),ui("Predictor10","PredictorAdd10"),ui("Predictor11","PredictorAdd11"),ui("Predictor12","PredictorAdd12"),ui("Predictor13","PredictorAdd13");var nf=er.PredictorAdd2;En("ColorIndexInverseTransform","MapARGB","32b",function(tr){return tr>>8&255},function(tr){return tr}),En("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(tr){return tr},function(tr){return tr>>8&255});var Sf,Ca=er.ColorIndexInverseTransform,pa=er.MapARGB,Vo=er.VP8LColorIndexInverseTransformAlpha,ja=er.MapAlpha,Fo=er.VP8LPredictorsAdd=[];Fo.length=16,(er.VP8LPredictors=[]).length=16,(er.VP8LPredictorsAdd_C=[]).length=16,(er.VP8LPredictors_C=[]).length=16;var Pc,Lo,Xa,Rc,Jo,Ho,vo,Hl,Da,el,Va,tl,vu,Ga,yu,eu,tu,Ql,xu,_u,Ic,uc,ru,Pa,rl,Cs,Ps,ha,ya=Ie(511),Tl=Ie(2041),nu=Ie(225),fc=Ie(767),Bc=0,Tf=Tl,bu=nu,yo=fc,Cl=ya,Oo=0,sf=1,Qo=2,Cf=3,Eu=4,Pl=5,Xf=6,Pf=7,iu=8,jc=9,Dc=10,Zf=[2,3,7],Rl=[3,3,11],hl=[280,256,256,256,40],wu=[0,1,1,1,0],Il=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Fc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Su=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],oh=8,Rf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],su=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Za=null,Fa=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ws=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],au=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],dc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Id=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Tu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],lh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Lc=[],zo=[],No=[],ch=1,af=2,zl=[],xo=[];ti("UpsampleRgbLinePair",Qr,3),ti("UpsampleBgrLinePair",Dn,3),ti("UpsampleRgbaLinePair",ps,4),ti("UpsampleBgraLinePair",Ts,4),ti("UpsampleArgbLinePair",ls,4),ti("UpsampleRgba4444LinePair",si,2),ti("UpsampleRgb565LinePair",Vn,2);var Oc=er.UpsampleRgbLinePair,hc=er.UpsampleBgrLinePair,Al=er.UpsampleRgbaLinePair,Jf=er.UpsampleBgraLinePair,ed=er.UpsampleArgbLinePair,of=er.UpsampleRgba4444LinePair,rd=er.UpsampleRgb565LinePair,Ac=16,Ja=1<<Ac-1,Kl=-227,nd=482,kh=6,uh=0,Mh=Ie(256),eo=Ie(256),Bd=Ie(256),If=Ie(256),Bf=Ie(nd-Kl),jd=Ie(nd-Kl);Is("YuvToRgbRow",Qr,3),Is("YuvToBgrRow",Dn,3),Is("YuvToRgbaRow",ps,4),Is("YuvToBgraRow",Ts,4),Is("YuvToArgbRow",ls,4),Is("YuvToRgba4444Row",si,2),Is("YuvToRgb565Row",Vn,2);var Cu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Nc=[0,2,8],Uh=[8,7,6,4,4,2,2,2,1,1,1,1],Dd=1;this.WebPDecodeRGBA=function(tr,dr,xr,Br,Nr){var $r=sf,Hr=new Sc,zr=new Zs;Hr.ba=zr,zr.S=$r,zr.width=[zr.width],zr.height=[zr.height];var Gr=zr.width,hn=zr.height,Tn=new Ji;if(Tn==null||tr==null)var zn=2;else _e(Tn!=null),zn=Vl(tr,dr,xr,Tn.width,Tn.height,Tn.Pd,Tn.Qd,Tn.format,null);if(zn!=0?Gr=0:(Gr!=null&&(Gr[0]=Tn.width[0]),hn!=null&&(hn[0]=Tn.height[0]),Gr=1),Gr){zr.width=zr.width[0],zr.height=zr.height[0],Br!=null&&(Br[0]=zr.width),Nr!=null&&(Nr[0]=zr.height);e:{if(Br=new Ao,(Nr=new qc).data=tr,Nr.w=dr,Nr.ha=xr,Nr.kd=1,dr=[0],_e(Nr!=null),((tr=Vl(Nr.data,Nr.w,Nr.ha,null,null,null,dr,null,Nr))==0||tr==7)&&dr[0]&&(tr=4),(dr=tr)==0){if(_e(Hr!=null),Br.data=Nr.data,Br.w=Nr.w+Nr.offset,Br.ha=Nr.ha-Nr.offset,Br.put=Js,Br.ac=us,Br.bc=Na,Br.ma=Hr,Nr.xa){if((tr=Yn())==null){Hr=1;break e}if(function(Hn,kn){var ri=[0],ei=[0],Rn=[0];t:for(;;){if(Hn==null)return 0;if(kn==null)return Hn.a=2,0;if(Hn.l=kn,Hn.a=0,Ar(Hn.m,kn.data,kn.w,kn.ha),!Ri(Hn.m,ri,ei,Rn)){Hn.a=3;break t}if(Hn.xb=af,kn.width=ri[0],kn.height=ei[0],!On(ri[0],ei[0],1,Hn,null))break t;return 1}return _e(Hn.a!=0),0}(tr,Br)){if(Br=(dr=Zo(Br.width,Br.height,Hr.Oa,Hr.ba))==0){t:{Br=tr;r:for(;;){if(Br==null){Br=0;break t}if(_e(Br.s.yc!=null),_e(Br.s.Ya!=null),_e(0<Br.s.Wb),_e((xr=Br.l)!=null),_e((Nr=xr.ma)!=null),Br.xb!=0){if(Br.ca=Nr.ba,Br.tb=Nr.tb,_e(Br.ca!=null),!va(Nr.Oa,xr,Cf)){Br.a=2;break r}if(!Qn(Br,xr.width)||xr.da)break r;if((xr.da||Zi(Br.ca.S))&&Nn(),11>Br.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Br.ca.f.kb.F!=null&&Nn()),Br.Pb&&0<Br.s.ua&&Br.s.vb.X==null&&!bn(Br.s.vb,Br.s.Wa.Xa)){Br.a=1;break r}Br.xb=0}if(!gn(Br,Br.V,Br.Ba,Br.c,Br.i,xr.o,An))break r;Nr.Dc=Br.Ma,Br=1;break t}_e(Br.a!=0),Br=0}Br=!Br}Br&&(dr=tr.a)}else dr=tr.a}else{if((tr=new Ma)==null){Hr=1;break e}if(tr.Fa=Nr.na,tr.P=Nr.P,tr.qc=Nr.Sa,zc(tr,Br)){if((dr=Zo(Br.width,Br.height,Hr.Oa,Hr.ba))==0){if(tr.Aa=0,xr=Hr.Oa,_e((Nr=tr)!=null),xr!=null){if(0<(Gr=0>(Gr=xr.Md)?0:100<Gr?255:255*Gr/100)){for(hn=Tn=0;4>hn;++hn)12>(zn=Nr.pb[hn]).lc&&(zn.ia=Gr*Uh[0>zn.lc?0:zn.lc]>>3),Tn|=zn.ia;Tn&&(alert("todo:VP8InitRandom"),Nr.ia=1)}Nr.Ga=xr.Id,100<Nr.Ga?Nr.Ga=100:0>Nr.Ga&&(Nr.Ga=0)}Ll(tr,Br)||(dr=tr.a)}}else dr=tr.a}dr==0&&Hr.Oa!=null&&Hr.Oa.fd&&(dr=Xc(Hr.ba))}Hr=dr}$r=Hr!=0?null:11>$r?zr.f.RGBA.eb:zr.f.kb.y}else $r=null;return $r};var fh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Fe(er,or){for(var pr="",ar=0;ar<4;ar++)pr+=String.fromCharCode(er[or++]);return pr}function Oe(er,or){return(er[or+0]<<0|er[or+1]<<8|er[or+2]<<16)>>>0}function ke(er,or){return(er[or+0]<<0|er[or+1]<<8|er[or+2]<<16|er[or+3]<<24)>>>0}new De;var Me=[0],$e=[0],He=[],Qe=new De,Ke=Ee,ze=function(er,or){var pr={},ar=0,fr=!1,gr=0,Rr=0;if(pr.frames=[],!function(_r,Pr,Cr,Or){for(var Yr=0;Yr<Or;Yr++)if(_r[Pr+Yr]!=Cr.charCodeAt(Yr))return!0;return!1}(er,or,"RIFF",4)){for(ke(er,or+=4),or+=8;or<er.length;){var Ir=Fe(er,or),mr=ke(er,or+=4);or+=4;var Er=mr+(1&mr);switch(Ir){case"VP8 ":case"VP8L":pr.frames[ar]===void 0&&(pr.frames[ar]={}),(wr=pr.frames[ar]).src_off=fr?Rr:or-8,wr.src_size=gr+mr+8,ar++,fr&&(fr=!1,gr=0,Rr=0);break;case"VP8X":(wr=pr.header={}).feature_flags=er[or];var Ar=or+4;wr.canvas_width=1+Oe(er,Ar),Ar+=3,wr.canvas_height=1+Oe(er,Ar),Ar+=3;break;case"ALPH":fr=!0,gr=Er+8,Rr=or-8;break;case"ANIM":(wr=pr.header).bgcolor=ke(er,or),Ar=or+4,wr.loop_count=(jr=er)[(hr=Ar)+0]<<0|jr[hr+1]<<8,Ar+=2;break;case"ANMF":var br,wr;(wr=pr.frames[ar]={}).offset_x=2*Oe(er,or),or+=3,wr.offset_y=2*Oe(er,or),or+=3,wr.width=1+Oe(er,or),or+=3,wr.height=1+Oe(er,or),or+=3,wr.duration=Oe(er,or),or+=3,br=er[or++],wr.dispose=1&br,wr.blend=br>>1&1}Ir!="ANMF"&&(or+=Er)}var jr,hr;return pr}}(Ke,0);ze.response=Ke,ze.rgbaoutput=!0,ze.dataurl=!1;var We=ze.header?ze.header:null,qe=ze.frames?ze.frames:null;if(We){We.loop_counter=We.loop_count,Me=[We.canvas_height],$e=[We.canvas_width];for(var Ye=0;Ye<qe.length&&qe[Ye].blend!=0;Ye++);}var Xe=qe[0],rr=Qe.WebPDecodeRGBA(Ke,Xe.src_off,Xe.src_size,$e,Me);Xe.rgba=rr,Xe.imgwidth=$e[0],Xe.imgheight=Me[0];for(var Je=0;Je<$e[0]*Me[0]*4;Je++)He[Je]=rr[Je];return this.width=$e,this.height=Me,this.data=He,this}(function(Ee){var _e=function(){return typeof zlibSync=="function"},Ce=function(Me,$e,He,Qe){var Ke=4,ze=Be;switch(Qe){case Ee.image_compression.FAST:Ke=1,ze=Ie;break;case Ee.image_compression.MEDIUM:Ke=6,ze=je;break;case Ee.image_compression.SLOW:Ke=9,ze=De}Me=Pe(Me,$e,He,ze);var We=zlibSync(Me,{level:Ke});return Ee.__addimage__.arrayBufferToBinaryString(We)},Pe=function(Me,$e,He,Qe){for(var Ke,ze,We,qe=Me.length/$e,Ye=new Uint8Array(Me.length+qe),Xe=Oe(),rr=0;rr<qe;rr+=1){if(We=rr*$e,Ke=Me.subarray(We,We+$e),Qe)Ye.set(Qe(Ke,He,ze),We+rr);else{for(var Je,er=Xe.length,or=[];Je<er;Je+=1)or[Je]=Xe[Je](Ke,He,ze);var pr=ke(or.concat());Ye.set(or[pr],We+rr)}ze=Ke}return Ye},Re=function(Me){var $e=Array.apply([],Me);return $e.unshift(0),$e},Ie=function(Me,$e){var He,Qe=[],Ke=Me.length;Qe[0]=1;for(var ze=0;ze<Ke;ze+=1)He=Me[ze-$e]||0,Qe[ze+1]=Me[ze]-He+256&255;return Qe},Be=function(Me,$e,He){var Qe,Ke=[],ze=Me.length;Ke[0]=2;for(var We=0;We<ze;We+=1)Qe=He&&He[We]||0,Ke[We+1]=Me[We]-Qe+256&255;return Ke},je=function(Me,$e,He){var Qe,Ke,ze=[],We=Me.length;ze[0]=3;for(var qe=0;qe<We;qe+=1)Qe=Me[qe-$e]||0,Ke=He&&He[qe]||0,ze[qe+1]=Me[qe]+256-(Qe+Ke>>>1)&255;return ze},De=function(Me,$e,He){var Qe,Ke,ze,We,qe=[],Ye=Me.length;qe[0]=4;for(var Xe=0;Xe<Ye;Xe+=1)Qe=Me[Xe-$e]||0,Ke=He&&He[Xe]||0,ze=He&&He[Xe-$e]||0,We=Fe(Qe,Ke,ze),qe[Xe+1]=Me[Xe]-We+256&255;return qe},Fe=function(Me,$e,He){if(Me===$e&&$e===He)return Me;var Qe=Math.abs($e-He),Ke=Math.abs(Me-He),ze=Math.abs(Me+$e-He-He);return Qe<=Ke&&Qe<=ze?Me:Ke<=ze?$e:He},Oe=function(){return[Re,Ie,Be,je,De]},ke=function(Me){var $e=Me.map(function(He){return He.reduce(function(Qe,Ke){return Qe+Math.abs(Ke)},0)});return $e.indexOf(Math.min.apply(null,$e))};Ee.processPNG=function(Me,$e,He,Qe){var Ke,ze,We,qe,Ye,Xe,rr,Je,er,or,pr,ar,fr,gr,Rr,Ir=this.decode.FLATE_DECODE,mr="";if(this.__addimage__.isArrayBuffer(Me)&&(Me=new Uint8Array(Me)),this.__addimage__.isArrayBufferView(Me)){if(Me=(We=new Kt(Me)).imgData,ze=We.bits,Ke=We.colorSpace,Ye=We.colors,[4,6].indexOf(We.colorType)!==-1){if(We.bits===8){er=(Je=We.pixelBitlength==32?new Uint32Array(We.decodePixels().buffer):We.pixelBitlength==16?new Uint16Array(We.decodePixels().buffer):new Uint8Array(We.decodePixels().buffer)).length,pr=new Uint8Array(er*We.colors),or=new Uint8Array(er);var Er,Ar=We.pixelBitlength-We.bits;for(gr=0,Rr=0;gr<er;gr++){for(fr=Je[gr],Er=0;Er<Ar;)pr[Rr++]=fr>>>Er&255,Er+=We.bits;or[gr]=fr>>>Er&255}}if(We.bits===16){er=(Je=new Uint32Array(We.decodePixels().buffer)).length,pr=new Uint8Array(er*(32/We.pixelBitlength)*We.colors),or=new Uint8Array(er*(32/We.pixelBitlength)),ar=We.colors>1,gr=0,Rr=0;for(var br=0;gr<er;)fr=Je[gr++],pr[Rr++]=fr>>>0&255,ar&&(pr[Rr++]=fr>>>16&255,fr=Je[gr++],pr[Rr++]=fr>>>0&255),or[br++]=fr>>>16&255;ze=8}Qe!==Ee.image_compression.NONE&&_e()?(Me=Ce(pr,We.width*We.colors,We.colors,Qe),rr=Ce(or,We.width,1,Qe)):(Me=pr,rr=or,Ir=void 0)}if(We.colorType===3&&(Ke=this.color_spaces.INDEXED,Xe=We.palette,We.transparency.indexed)){var wr=We.transparency.indexed,jr=0;for(gr=0,er=wr.length;gr<er;++gr)jr+=wr[gr];if((jr/=255)===er-1&&wr.indexOf(0)!==-1)qe=[wr.indexOf(0)];else if(jr!==er){for(Je=We.decodePixels(),or=new Uint8Array(Je.length),gr=0,er=Je.length;gr<er;gr++)or[gr]=wr[Je[gr]];rr=Ce(or,We.width,1)}}var hr=function(_r){var Pr;switch(_r){case Ee.image_compression.FAST:Pr=11;break;case Ee.image_compression.MEDIUM:Pr=13;break;case Ee.image_compression.SLOW:Pr=14;break;default:Pr=12}return Pr}(Qe);return Ir===this.decode.FLATE_DECODE&&(mr="/Predictor "+hr+" "),mr+="/Colors "+Ye+" /BitsPerComponent "+ze+" /Columns "+We.width,(this.__addimage__.isArrayBuffer(Me)||this.__addimage__.isArrayBufferView(Me))&&(Me=this.__addimage__.arrayBufferToBinaryString(Me)),(rr&&this.__addimage__.isArrayBuffer(rr)||this.__addimage__.isArrayBufferView(rr))&&(rr=this.__addimage__.arrayBufferToBinaryString(rr)),{alias:He,data:Me,index:$e,filter:Ir,decodeParameters:mr,transparency:qe,palette:Xe,sMask:rr,predictor:hr,width:We.width,height:We.height,bitsPerComponent:ze,colorSpace:Ke}}}})(E.API),function(Ee){Ee.processGIF89A=function(_e,Ce,Pe,Re){var Ie=new Zt(_e),Be=Ie.width,je=Ie.height,De=[];Ie.decodeAndBlitFrameRGBA(0,De);var Fe={data:De,width:Be,height:je},Oe=new Qt$1(100).encode(Fe,100);return Ee.processJPEG.call(this,Oe,Ce,Pe,Re)},Ee.processGIF87A=Ee.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var Ee=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(Ee);for(var _e=0;_e<Ee;_e++){var Ce=this.datav.getUint8(this.pos++,!0),Pe=this.datav.getUint8(this.pos++,!0),Re=this.datav.getUint8(this.pos++,!0),Ie=this.datav.getUint8(this.pos++,!0);this.palette[_e]={red:Re,green:Pe,blue:Ce,quad:Ie}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var Ee="bit"+this.bitPP,_e=this.width*this.height*4;this.data=new Uint8Array(_e),this[Ee]()}catch(Ce){a$2.log("bit decode error:"+Ce)}},te.prototype.bit1=function(){var Ee,_e=Math.ceil(this.width/8),Ce=_e%4;for(Ee=this.height-1;Ee>=0;Ee--){for(var Pe=this.bottom_up?Ee:this.height-1-Ee,Re=0;Re<_e;Re++)for(var Ie=this.datav.getUint8(this.pos++,!0),Be=Pe*this.width*4+8*Re*4,je=0;je<8&&8*Re+je<this.width;je++){var De=this.palette[Ie>>7-je&1];this.data[Be+4*je]=De.blue,this.data[Be+4*je+1]=De.green,this.data[Be+4*je+2]=De.red,this.data[Be+4*je+3]=255}Ce!==0&&(this.pos+=4-Ce)}},te.prototype.bit4=function(){for(var Ee=Math.ceil(this.width/2),_e=Ee%4,Ce=this.height-1;Ce>=0;Ce--){for(var Pe=this.bottom_up?Ce:this.height-1-Ce,Re=0;Re<Ee;Re++){var Ie=this.datav.getUint8(this.pos++,!0),Be=Pe*this.width*4+2*Re*4,je=Ie>>4,De=15&Ie,Fe=this.palette[je];if(this.data[Be]=Fe.blue,this.data[Be+1]=Fe.green,this.data[Be+2]=Fe.red,this.data[Be+3]=255,2*Re+1>=this.width)break;Fe=this.palette[De],this.data[Be+4]=Fe.blue,this.data[Be+4+1]=Fe.green,this.data[Be+4+2]=Fe.red,this.data[Be+4+3]=255}_e!==0&&(this.pos+=4-_e)}},te.prototype.bit8=function(){for(var Ee=this.width%4,_e=this.height-1;_e>=0;_e--){for(var Ce=this.bottom_up?_e:this.height-1-_e,Pe=0;Pe<this.width;Pe++){var Re=this.datav.getUint8(this.pos++,!0),Ie=Ce*this.width*4+4*Pe;if(Re<this.palette.length){var Be=this.palette[Re];this.data[Ie]=Be.red,this.data[Ie+1]=Be.green,this.data[Ie+2]=Be.blue,this.data[Ie+3]=255}else this.data[Ie]=255,this.data[Ie+1]=255,this.data[Ie+2]=255,this.data[Ie+3]=255}Ee!==0&&(this.pos+=4-Ee)}},te.prototype.bit15=function(){for(var Ee=this.width%3,_e=parseInt("11111",2),Ce=this.height-1;Ce>=0;Ce--){for(var Pe=this.bottom_up?Ce:this.height-1-Ce,Re=0;Re<this.width;Re++){var Ie=this.datav.getUint16(this.pos,!0);this.pos+=2;var Be=(Ie&_e)/_e*255|0,je=(Ie>>5&_e)/_e*255|0,De=(Ie>>10&_e)/_e*255|0,Fe=Ie>>15?255:0,Oe=Pe*this.width*4+4*Re;this.data[Oe]=De,this.data[Oe+1]=je,this.data[Oe+2]=Be,this.data[Oe+3]=Fe}this.pos+=Ee}},te.prototype.bit16=function(){for(var Ee=this.width%3,_e=parseInt("11111",2),Ce=parseInt("111111",2),Pe=this.height-1;Pe>=0;Pe--){for(var Re=this.bottom_up?Pe:this.height-1-Pe,Ie=0;Ie<this.width;Ie++){var Be=this.datav.getUint16(this.pos,!0);this.pos+=2;var je=(Be&_e)/_e*255|0,De=(Be>>5&Ce)/Ce*255|0,Fe=(Be>>11)/_e*255|0,Oe=Re*this.width*4+4*Ie;this.data[Oe]=Fe,this.data[Oe+1]=De,this.data[Oe+2]=je,this.data[Oe+3]=255}this.pos+=Ee}},te.prototype.bit24=function(){for(var Ee=this.height-1;Ee>=0;Ee--){for(var _e=this.bottom_up?Ee:this.height-1-Ee,Ce=0;Ce<this.width;Ce++){var Pe=this.datav.getUint8(this.pos++,!0),Re=this.datav.getUint8(this.pos++,!0),Ie=this.datav.getUint8(this.pos++,!0),Be=_e*this.width*4+4*Ce;this.data[Be]=Ie,this.data[Be+1]=Re,this.data[Be+2]=Pe,this.data[Be+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var Ee=this.height-1;Ee>=0;Ee--)for(var _e=this.bottom_up?Ee:this.height-1-Ee,Ce=0;Ce<this.width;Ce++){var Pe=this.datav.getUint8(this.pos++,!0),Re=this.datav.getUint8(this.pos++,!0),Ie=this.datav.getUint8(this.pos++,!0),Be=this.datav.getUint8(this.pos++,!0),je=_e*this.width*4+4*Ce;this.data[je]=Ie,this.data[je+1]=Re,this.data[je+2]=Pe,this.data[je+3]=Be}},te.prototype.getData=function(){return this.data},function(Ee){Ee.processBMP=function(_e,Ce,Pe,Re){var Ie=new te(_e,!1),Be=Ie.width,je=Ie.height,De={data:Ie.getData(),width:Be,height:je},Fe=new Qt$1(100).encode(De,100);return Ee.processJPEG.call(this,Fe,Ce,Pe,Re)}}(E.API),ee.prototype.getData=function(){return this.data},function(Ee){Ee.processWEBP=function(_e,Ce,Pe,Re){var Ie=new ee(_e),Be=Ie.width,je=Ie.height,De={data:Ie.getData(),width:Be,height:je},Fe=new Qt$1(100).encode(De,100);return Ee.processJPEG.call(this,Fe,Ce,Pe,Re)}}(E.API),E.API.processRGBA=function(Ee,_e,Ce){for(var Pe=Ee.data,Re=Pe.length,Ie=new Uint8Array(Re/4*3),Be=new Uint8Array(Re/4),je=0,De=0,Fe=0;Fe<Re;Fe+=4){var Oe=Pe[Fe],ke=Pe[Fe+1],Me=Pe[Fe+2],$e=Pe[Fe+3];Ie[je++]=Oe,Ie[je++]=ke,Ie[je++]=Me,Be[De++]=$e}var He=this.__addimage__.arrayBufferToBinaryString(Ie);return{alpha:this.__addimage__.arrayBufferToBinaryString(Be),data:He,index:_e,alias:Ce,colorSpace:"DeviceRGB",bitsPerComponent:8,width:Ee.width,height:Ee.height}},E.API.setLanguage=function(Ee){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[Ee]!==void 0&&(this.internal.languageSettings.languageCode=Ee,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt$1=E.API,Gt$1=Vt$1.getCharWidthsArray=function(Ee,_e){var Ce,Pe,Re=(_e=_e||{}).font||this.internal.getFont(),Ie=_e.fontSize||this.internal.getFontSize(),Be=_e.charSpace||this.internal.getCharSpace(),je=_e.widths?_e.widths:Re.metadata.Unicode.widths,De=je.fof?je.fof:1,Fe=_e.kerning?_e.kerning:Re.metadata.Unicode.kerning,Oe=Fe.fof?Fe.fof:1,ke=_e.doKerning!==!1,Me=0,$e=Ee.length,He=0,Qe=je[0]||De,Ke=[];for(Ce=0;Ce<$e;Ce++)Pe=Ee.charCodeAt(Ce),typeof Re.metadata.widthOfString=="function"?Ke.push((Re.metadata.widthOfGlyph(Re.metadata.characterToGlyph(Pe))+Be*(1e3/Ie)||0)/1e3):(Me=ke&&_typeof$1(Fe[Pe])==="object"&&!isNaN(parseInt(Fe[Pe][He],10))?Fe[Pe][He]/Oe:0,Ke.push((je[Pe]||Qe)/De+Me)),He=Pe;return Ke},Yt=Vt$1.getStringUnitWidth=function(Ee,_e){var Ce=(_e=_e||{}).fontSize||this.internal.getFontSize(),Pe=_e.font||this.internal.getFont(),Re=_e.charSpace||this.internal.getCharSpace();return Vt$1.processArabic&&(Ee=Vt$1.processArabic(Ee)),typeof Pe.metadata.widthOfString=="function"?Pe.metadata.widthOfString(Ee,Ce,Re)/Ce:Gt$1.apply(this,arguments).reduce(function(Ie,Be){return Ie+Be},0)},Jt=function(Ee,_e,Ce,Pe){for(var Re=[],Ie=0,Be=Ee.length,je=0;Ie!==Be&&je+_e[Ie]<Ce;)je+=_e[Ie],Ie++;Re.push(Ee.slice(0,Ie));var De=Ie;for(je=0;Ie!==Be;)je+_e[Ie]>Pe&&(Re.push(Ee.slice(De,Ie)),je=0,De=Ie),je+=_e[Ie],Ie++;return De!==Ie&&Re.push(Ee.slice(De,Ie)),Re},Xt$1=function(Ee,_e,Ce){Ce||(Ce={});var Pe,Re,Ie,Be,je,De,Fe,Oe=[],ke=[Oe],Me=Ce.textIndent||0,$e=0,He=0,Qe=Ee.split(" "),Ke=Gt$1.apply(this,[" ",Ce])[0];if(De=Ce.lineIndent===-1?Qe[0].length+2:Ce.lineIndent||0){var ze=Array(De).join(" "),We=[];Qe.map(function(Ye){(Ye=Ye.split(/\s*\n/)).length>1?We=We.concat(Ye.map(function(Xe,rr){return(rr&&Xe.length?`
`:"")+Xe})):We.push(Ye[0])}),Qe=We,De=Yt.apply(this,[ze,Ce])}for(Ie=0,Be=Qe.length;Ie<Be;Ie++){var qe=0;if(Pe=Qe[Ie],De&&Pe[0]==`
`&&(Pe=Pe.substr(1),qe=1),Me+$e+(He=(Re=Gt$1.apply(this,[Pe,Ce])).reduce(function(Ye,Xe){return Ye+Xe},0))>_e||qe){if(He>_e){for(je=Jt.apply(this,[Pe,Re,_e-(Me+$e),_e]),Oe.push(je.shift()),Oe=[je.pop()];je.length;)ke.push([je.shift()]);He=Re.slice(Pe.length-(Oe[0]?Oe[0].length:0)).reduce(function(Ye,Xe){return Ye+Xe},0)}else Oe=[Pe];ke.push(Oe),Me=He+De,$e=Ke}else Oe.push(Pe),Me+=$e+He,$e=Ke}return Fe=De?function(Ye,Xe){return(Xe?ze:"")+Ye.join(" ")}:function(Ye){return Ye.join(" ")},ke.map(Fe)},Vt$1.splitTextToSize=function(Ee,_e,Ce){var Pe,Re=(Ce=Ce||{}).fontSize||this.internal.getFontSize(),Ie=(function(Oe){if(Oe.widths&&Oe.kerning)return{widths:Oe.widths,kerning:Oe.kerning};var ke=this.internal.getFont(Oe.fontName,Oe.fontStyle);return ke.metadata.Unicode?{widths:ke.metadata.Unicode.widths||{0:1},kerning:ke.metadata.Unicode.kerning||{}}:{font:ke.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,Ce);Pe=Array.isArray(Ee)?Ee:String(Ee).split(/\r?\n/);var Be=1*this.internal.scaleFactor*_e/Re;Ie.textIndent=Ce.textIndent?1*Ce.textIndent*this.internal.scaleFactor/Re:0,Ie.lineIndent=Ce.lineIndent;var je,De,Fe=[];for(je=0,De=Pe.length;je<De;je++)Fe=Fe.concat(Xt$1.apply(this,[Pe[je],Be,Ie]));return Fe},function(Ee){Ee.__fontmetrics__=Ee.__fontmetrics__||{};for(var _e="klmnopqrstuvwxyz",Ce={},Pe={},Re=0;Re<_e.length;Re++)Ce[_e[Re]]="0123456789abcdef"[Re],Pe["0123456789abcdef"[Re]]=_e[Re];var Ie=function(ke){return"0x"+parseInt(ke,10).toString(16)},Be=Ee.__fontmetrics__.compress=function(ke){var Me,$e,He,Qe,Ke=["{"];for(var ze in ke){if(Me=ke[ze],isNaN(parseInt(ze,10))?$e="'"+ze+"'":(ze=parseInt(ze,10),$e=($e=Ie(ze).slice(2)).slice(0,-1)+Pe[$e.slice(-1)]),typeof Me=="number")Me<0?(He=Ie(Me).slice(3),Qe="-"):(He=Ie(Me).slice(2),Qe=""),He=Qe+He.slice(0,-1)+Pe[He.slice(-1)];else{if(_typeof$1(Me)!=="object")throw new Error("Don't know what to do with value type "+_typeof$1(Me)+".");He=Be(Me)}Ke.push($e+He)}return Ke.push("}"),Ke.join("")},je=Ee.__fontmetrics__.uncompress=function(ke){if(typeof ke!="string")throw new Error("Invalid argument passed to uncompress.");for(var Me,$e,He,Qe,Ke={},ze=1,We=Ke,qe=[],Ye="",Xe="",rr=ke.length-1,Je=1;Je<rr;Je+=1)(Qe=ke[Je])=="'"?Me?(He=Me.join(""),Me=void 0):Me=[]:Me?Me.push(Qe):Qe=="{"?(qe.push([We,He]),We={},He=void 0):Qe=="}"?(($e=qe.pop())[0][$e[1]]=We,He=void 0,We=$e[0]):Qe=="-"?ze=-1:He===void 0?Ce.hasOwnProperty(Qe)?(Ye+=Ce[Qe],He=parseInt(Ye,16)*ze,ze=1,Ye=""):Ye+=Qe:Ce.hasOwnProperty(Qe)?(Xe+=Ce[Qe],We[He]=parseInt(Xe,16)*ze,ze=1,He=void 0,Xe=""):Xe+=Qe;return Ke},De={codePages:["WinAnsiEncoding"],WinAnsiEncoding:je("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Fe={Unicode:{Courier:De,"Courier-Bold":De,"Courier-BoldOblique":De,"Courier-Oblique":De,Helvetica:De,"Helvetica-Bold":De,"Helvetica-BoldOblique":De,"Helvetica-Oblique":De,"Times-Roman":De,"Times-Bold":De,"Times-BoldItalic":De,"Times-Italic":De}},Oe={Unicode:{"Courier-Oblique":je("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":je("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":je("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:je("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":je("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":je("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:je("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:je("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":je("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:je("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":je("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":je("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":je("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":je("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};Ee.events.push(["addFont",function(ke){var Me=ke.font,$e=Oe.Unicode[Me.postScriptName];$e&&(Me.metadata.Unicode={},Me.metadata.Unicode.widths=$e.widths,Me.metadata.Unicode.kerning=$e.kerning);var He=Fe.Unicode[Me.postScriptName];He&&(Me.metadata.Unicode.encoding=He,Me.encoding=He.codePages[0])}])}(E.API),function(Ee){var _e=function(Ce){for(var Pe=Ce.length,Re=new Uint8Array(Pe),Ie=0;Ie<Pe;Ie++)Re[Ie]=Ce.charCodeAt(Ie);return Re};Ee.API.events.push(["addFont",function(Ce){var Pe=void 0,Re=Ce.font,Ie=Ce.instance;if(!Re.isStandardFont){if(Ie===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Re.postScriptName+"').");if(typeof(Pe=Ie.existsFileInVFS(Re.postScriptName)===!1?Ie.loadFile(Re.postScriptName):Ie.getFileFromVFS(Re.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Re.postScriptName+"').");(function(Be,je){je=/^\x00\x01\x00\x00/.test(je)?_e(je):_e(u$2(je)),Be.metadata=Ee.API.TTFFont.open(je),Be.metadata.Unicode=Be.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Be.metadata.glyIdsUsed=[0]})(Re,Pe)}}])}(E),function(Ee){function _e(){return(n$1.canvg?Promise.resolve(n$1.canvg):__vitePreload(()=>import("./index.es-CK0j5IT6.js"),[],import.meta.url)).catch(function(Ce){return Promise.reject(new Error("Could not load canvg: "+Ce))}).then(function(Ce){return Ce.default?Ce.default:Ce})}E.API.addSvgAsImage=function(Ce,Pe,Re,Ie,Be,je,De,Fe){if(isNaN(Pe)||isNaN(Re))throw a$2.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Ie)||isNaN(Be))throw a$2.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Oe=document.createElement("canvas");Oe.width=Ie,Oe.height=Be;var ke=Oe.getContext("2d");ke.fillStyle="#fff",ke.fillRect(0,0,Oe.width,Oe.height);var Me={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},$e=this;return _e().then(function(He){return He.fromString(ke,Ce,Me)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(He){return He.render(Me)}).then(function(){$e.addImage(Oe.toDataURL("image/jpeg",1),Pe,Re,Ie,Be,De,Fe)})}}(),E.API.putTotalPages=function(Ee){var _e,Ce=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(_e=new RegExp(Ee,"g"),Ce=this.internal.getNumberOfPages()):(_e=new RegExp(this.pdfEscape16(Ee,this.internal.getFont()),"g"),Ce=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var Pe=1;Pe<=this.internal.getNumberOfPages();Pe++)for(var Re=0;Re<this.internal.pages[Pe].length;Re++)this.internal.pages[Pe][Re]=this.internal.pages[Pe][Re].replace(_e,Ce);return this},E.API.viewerPreferences=function(Ee,_e){var Ce;Ee=Ee||{},_e=_e||!1;var Pe,Re,Ie,Be={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},je=Object.keys(Be),De=[],Fe=0,Oe=0,ke=0;function Me(He,Qe){var Ke,ze=!1;for(Ke=0;Ke<He.length;Ke+=1)He[Ke]===Qe&&(ze=!0);return ze}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Be)),this.internal.viewerpreferences.isSubscribed=!1),Ce=this.internal.viewerpreferences.configuration,Ee==="reset"||_e===!0){var $e=je.length;for(ke=0;ke<$e;ke+=1)Ce[je[ke]].value=Ce[je[ke]].defaultValue,Ce[je[ke]].explicitSet=!1}if(_typeof$1(Ee)==="object"){for(Re in Ee)if(Ie=Ee[Re],Me(je,Re)&&Ie!==void 0){if(Ce[Re].type==="boolean"&&typeof Ie=="boolean")Ce[Re].value=Ie;else if(Ce[Re].type==="name"&&Me(Ce[Re].valueSet,Ie))Ce[Re].value=Ie;else if(Ce[Re].type==="integer"&&Number.isInteger(Ie))Ce[Re].value=Ie;else if(Ce[Re].type==="array"){for(Fe=0;Fe<Ie.length;Fe+=1)if(Pe=!0,Ie[Fe].length===1&&typeof Ie[Fe][0]=="number")De.push(String(Ie[Fe]-1));else if(Ie[Fe].length>1){for(Oe=0;Oe<Ie[Fe].length;Oe+=1)typeof Ie[Fe][Oe]!="number"&&(Pe=!1);Pe===!0&&De.push([Ie[Fe][0]-1,Ie[Fe][1]-1].join(" "))}Ce[Re].value="["+De.join(" ")+"]"}else Ce[Re].value=Ce[Re].defaultValue;Ce[Re].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var He,Qe=[];for(He in Ce)Ce[He].explicitSet===!0&&(Ce[He].type==="name"?Qe.push("/"+He+" /"+Ce[He].value):Qe.push("/"+He+" "+Ce[He].value));Qe.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Qe.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=Ce,this},function(Ee){var _e=function(){var Pe='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Re=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Ie=unescape(encodeURIComponent(Pe)),Be=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),je=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),De=unescape(encodeURIComponent("</x:xmpmeta>")),Fe=Ie.length+Be.length+je.length+Re.length+De.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Fe+" >>"),this.internal.write("stream"),this.internal.write(Re+Ie+Be+je+De),this.internal.write("endstream"),this.internal.write("endobj")},Ce=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};Ee.addMetadata=function(Pe,Re){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:Pe,namespaceuri:Re||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",Ce),this.internal.events.subscribe("postPutResources",_e)),this}}(E.API),function(Ee){var _e=Ee.API,Ce=_e.pdfEscape16=function(Ie,Be){for(var je,De=Be.metadata.Unicode.widths,Fe=["","0","00","000","0000"],Oe=[""],ke=0,Me=Ie.length;ke<Me;++ke){if(je=Be.metadata.characterToGlyph(Ie.charCodeAt(ke)),Be.metadata.glyIdsUsed.push(je),Be.metadata.toUnicode[je]=Ie.charCodeAt(ke),De.indexOf(je)==-1&&(De.push(je),De.push([parseInt(Be.metadata.widthOfGlyph(je),10)])),je=="0")return Oe.join("");je=je.toString(16),Oe.push(Fe[4-je.length],je)}return Oe.join("")},Pe=function(Ie){var Be,je,De,Fe,Oe,ke,Me;for(Oe=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,De=[],ke=0,Me=(je=Object.keys(Ie).sort(function($e,He){return $e-He})).length;ke<Me;ke++)Be=je[ke],De.length>=100&&(Oe+=`
`+De.length+` beginbfchar
`+De.join(`
`)+`
endbfchar`,De=[]),Ie[Be]!==void 0&&Ie[Be]!==null&&typeof Ie[Be].toString=="function"&&(Fe=("0000"+Ie[Be].toString(16)).slice(-4),Be=("0000"+(+Be).toString(16)).slice(-4),De.push("<"+Be+"><"+Fe+">"));return De.length&&(Oe+=`
`+De.length+` beginbfchar
`+De.join(`
`)+`
endbfchar
`),Oe+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};_e.events.push(["putFont",function(Ie){(function(Be){var je=Be.font,De=Be.out,Fe=Be.newObject,Oe=Be.putStream;if(je.metadata instanceof Ee.API.TTFFont&&je.encoding==="Identity-H"){for(var ke=je.metadata.Unicode.widths,Me=je.metadata.subset.encode(je.metadata.glyIdsUsed,1),$e="",He=0;He<Me.length;He++)$e+=String.fromCharCode(Me[He]);var Qe=Fe();Oe({data:$e,addLength1:!0,objectId:Qe}),De("endobj");var Ke=Fe();Oe({data:Pe(je.metadata.toUnicode),addLength1:!0,objectId:Ke}),De("endobj");var ze=Fe();De("<<"),De("/Type /FontDescriptor"),De("/FontName /"+F$2(je.fontName)),De("/FontFile2 "+Qe+" 0 R"),De("/FontBBox "+Ee.API.PDFObject.convert(je.metadata.bbox)),De("/Flags "+je.metadata.flags),De("/StemV "+je.metadata.stemV),De("/ItalicAngle "+je.metadata.italicAngle),De("/Ascent "+je.metadata.ascender),De("/Descent "+je.metadata.decender),De("/CapHeight "+je.metadata.capHeight),De(">>"),De("endobj");var We=Fe();De("<<"),De("/Type /Font"),De("/BaseFont /"+F$2(je.fontName)),De("/FontDescriptor "+ze+" 0 R"),De("/W "+Ee.API.PDFObject.convert(ke)),De("/CIDToGIDMap /Identity"),De("/DW 1000"),De("/Subtype /CIDFontType2"),De("/CIDSystemInfo"),De("<<"),De("/Supplement 0"),De("/Registry (Adobe)"),De("/Ordering ("+je.encoding+")"),De(">>"),De(">>"),De("endobj"),je.objectNumber=Fe(),De("<<"),De("/Type /Font"),De("/Subtype /Type0"),De("/ToUnicode "+Ke+" 0 R"),De("/BaseFont /"+F$2(je.fontName)),De("/Encoding /"+je.encoding),De("/DescendantFonts ["+We+" 0 R]"),De(">>"),De("endobj"),je.isAlreadyPutted=!0}})(Ie)}]),_e.events.push(["putFont",function(Ie){(function(Be){var je=Be.font,De=Be.out,Fe=Be.newObject,Oe=Be.putStream;if(je.metadata instanceof Ee.API.TTFFont&&je.encoding==="WinAnsiEncoding"){for(var ke=je.metadata.rawData,Me="",$e=0;$e<ke.length;$e++)Me+=String.fromCharCode(ke[$e]);var He=Fe();Oe({data:Me,addLength1:!0,objectId:He}),De("endobj");var Qe=Fe();Oe({data:Pe(je.metadata.toUnicode),addLength1:!0,objectId:Qe}),De("endobj");var Ke=Fe();De("<<"),De("/Descent "+je.metadata.decender),De("/CapHeight "+je.metadata.capHeight),De("/StemV "+je.metadata.stemV),De("/Type /FontDescriptor"),De("/FontFile2 "+He+" 0 R"),De("/Flags 96"),De("/FontBBox "+Ee.API.PDFObject.convert(je.metadata.bbox)),De("/FontName /"+F$2(je.fontName)),De("/ItalicAngle "+je.metadata.italicAngle),De("/Ascent "+je.metadata.ascender),De(">>"),De("endobj"),je.objectNumber=Fe();for(var ze=0;ze<je.metadata.hmtx.widths.length;ze++)je.metadata.hmtx.widths[ze]=parseInt(je.metadata.hmtx.widths[ze]*(1e3/je.metadata.head.unitsPerEm));De("<</Subtype/TrueType/Type/Font/ToUnicode "+Qe+" 0 R/BaseFont/"+F$2(je.fontName)+"/FontDescriptor "+Ke+" 0 R/Encoding/"+je.encoding+" /FirstChar 29 /LastChar 255 /Widths "+Ee.API.PDFObject.convert(je.metadata.hmtx.widths)+">>"),De("endobj"),je.isAlreadyPutted=!0}})(Ie)}]);var Re=function(Ie){var Be,je=Ie.text||"",De=Ie.x,Fe=Ie.y,Oe=Ie.options||{},ke=Ie.mutex||{},Me=ke.pdfEscape,$e=ke.activeFontKey,He=ke.fonts,Qe=$e,Ke="",ze=0,We="",qe=He[Qe].encoding;if(He[Qe].encoding!=="Identity-H")return{text:je,x:De,y:Fe,options:Oe,mutex:ke};for(We=je,Qe=$e,Array.isArray(je)&&(We=je[0]),ze=0;ze<We.length;ze+=1)He[Qe].metadata.hasOwnProperty("cmap")&&(Be=He[Qe].metadata.cmap.unicode.codeMap[We[ze].charCodeAt(0)]),Be||We[ze].charCodeAt(0)<256&&He[Qe].metadata.hasOwnProperty("Unicode")?Ke+=We[ze]:Ke+="";var Ye="";return parseInt(Qe.slice(1))<14||qe==="WinAnsiEncoding"?Ye=Me(Ke,Qe).split("").map(function(Xe){return Xe.charCodeAt(0).toString(16)}).join(""):qe==="Identity-H"&&(Ye=Ce(Ke,He[Qe])),ke.isHex=!0,{text:Ye,x:De,y:Fe,options:Oe,mutex:ke}};_e.events.push(["postProcessText",function(Ie){var Be=Ie.text||"",je=[],De={text:Be,x:Ie.x,y:Ie.y,options:Ie.options,mutex:Ie.mutex};if(Array.isArray(Be)){var Fe=0;for(Fe=0;Fe<Be.length;Fe+=1)Array.isArray(Be[Fe])&&Be[Fe].length===3?je.push([Re(Object.assign({},De,{text:Be[Fe][0]})).text,Be[Fe][1],Be[Fe][2]]):je.push(Re(Object.assign({},De,{text:Be[Fe]})).text);Ie.text=je}else Ie.text=Re(Object.assign({},De,{text:Be})).text}])}(E),function(Ee){var _e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};Ee.existsFileInVFS=function(Ce){return _e.call(this),this.internal.vFS[Ce]!==void 0},Ee.addFileToVFS=function(Ce,Pe){return _e.call(this),this.internal.vFS[Ce]=Pe,this},Ee.getFileFromVFS=function(Ce){return _e.call(this),this.internal.vFS[Ce]!==void 0?this.internal.vFS[Ce]:null}}(E.API),function(Ee){Ee.__bidiEngine__=Ee.prototype.__bidiEngine__=function(Pe){var Re,Ie,Be,je,De,Fe,Oe,ke=_e,Me=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],$e=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],He={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Qe={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Ke=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ze=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),We=!1,qe=0;this.__bidiEngine__={};var Ye=function(ar){var fr=ar.charCodeAt(),gr=fr>>8,Rr=Qe[gr];return Rr!==void 0?ke[256*Rr+(255&fr)]:gr===252||gr===253?"AL":ze.test(gr)?"L":gr===8?"R":"N"},Xe=function(ar){for(var fr,gr=0;gr<ar.length;gr++){if((fr=Ye(ar.charAt(gr)))==="L")return!1;if(fr==="R")return!0}return!1},rr=function(ar,fr,gr,Rr){var Ir,mr,Er,Ar,br=fr[Rr];switch(br){case"L":case"R":We=!1;break;case"N":case"AN":break;case"EN":We&&(br="AN");break;case"AL":We=!0,br="R";break;case"WS":br="N";break;case"CS":Rr<1||Rr+1>=fr.length||(Ir=gr[Rr-1])!=="EN"&&Ir!=="AN"||(mr=fr[Rr+1])!=="EN"&&mr!=="AN"?br="N":We&&(mr="AN"),br=mr===Ir?mr:"N";break;case"ES":br=(Ir=Rr>0?gr[Rr-1]:"B")==="EN"&&Rr+1<fr.length&&fr[Rr+1]==="EN"?"EN":"N";break;case"ET":if(Rr>0&&gr[Rr-1]==="EN"){br="EN";break}if(We){br="N";break}for(Er=Rr+1,Ar=fr.length;Er<Ar&&fr[Er]==="ET";)Er++;br=Er<Ar&&fr[Er]==="EN"?"EN":"N";break;case"NSM":if(Be&&!je){for(Ar=fr.length,Er=Rr+1;Er<Ar&&fr[Er]==="NSM";)Er++;if(Er<Ar){var wr=ar[Rr],jr=wr>=1425&&wr<=2303||wr===64286;if(Ir=fr[Er],jr&&(Ir==="R"||Ir==="AL")){br="R";break}}}br=Rr<1||(Ir=fr[Rr-1])==="B"?"N":gr[Rr-1];break;case"B":We=!1,Re=!0,br=qe;break;case"S":Ie=!0,br="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":We=!1;break;case"BN":br="N"}return br},Je=function(ar,fr,gr){var Rr=ar.split("");return gr&&er(Rr,gr,{hiLevel:qe}),Rr.reverse(),fr&&fr.reverse(),Rr.join("")},er=function(ar,fr,gr){var Rr,Ir,mr,Er,Ar,br=-1,wr=ar.length,jr=0,hr=[],_r=qe?$e:Me,Pr=[];for(We=!1,Re=!1,Ie=!1,Ir=0;Ir<wr;Ir++)Pr[Ir]=Ye(ar[Ir]);for(mr=0;mr<wr;mr++){if(Ar=jr,hr[mr]=rr(ar,Pr,hr,mr),Rr=240&(jr=_r[Ar][He[hr[mr]]]),jr&=15,fr[mr]=Er=_r[jr][5],Rr>0)if(Rr===16){for(Ir=br;Ir<mr;Ir++)fr[Ir]=1;br=-1}else br=-1;if(_r[jr][6])br===-1&&(br=mr);else if(br>-1){for(Ir=br;Ir<mr;Ir++)fr[Ir]=Er;br=-1}Pr[mr]==="B"&&(fr[mr]=0),gr.hiLevel|=Er}Ie&&function(Cr,Or,Yr){for(var qr=0;qr<Yr;qr++)if(Cr[qr]==="S"){Or[qr]=qe;for(var Kr=qr-1;Kr>=0&&Cr[Kr]==="WS";Kr--)Or[Kr]=qe}}(Pr,fr,wr)},or=function(ar,fr,gr,Rr,Ir){if(!(Ir.hiLevel<ar)){if(ar===1&&qe===1&&!Re)return fr.reverse(),void(gr&&gr.reverse());for(var mr,Er,Ar,br,wr=fr.length,jr=0;jr<wr;){if(Rr[jr]>=ar){for(Ar=jr+1;Ar<wr&&Rr[Ar]>=ar;)Ar++;for(br=jr,Er=Ar-1;br<Er;br++,Er--)mr=fr[br],fr[br]=fr[Er],fr[Er]=mr,gr&&(mr=gr[br],gr[br]=gr[Er],gr[Er]=mr);jr=Ar}jr++}}},pr=function(ar,fr,gr){var Rr=ar.split(""),Ir={hiLevel:qe};return gr||(gr=[]),er(Rr,gr,Ir),function(mr,Er,Ar){if(Ar.hiLevel!==0&&Oe)for(var br,wr=0;wr<mr.length;wr++)Er[wr]===1&&(br=Ke.indexOf(mr[wr]))>=0&&(mr[wr]=Ke[br+1])}(Rr,gr,Ir),or(2,Rr,fr,gr,Ir),or(1,Rr,fr,gr,Ir),Rr.join("")};return this.__bidiEngine__.doBidiReorder=function(ar,fr,gr){if(function(Ir,mr){if(mr)for(var Er=0;Er<Ir.length;Er++)mr[Er]=Er;je===void 0&&(je=Xe(Ir)),Fe===void 0&&(Fe=Xe(Ir))}(ar,fr),Be||!De||Fe)if(Be&&De&&je^Fe)qe=je?1:0,ar=Je(ar,fr,gr);else if(!Be&&De&&Fe)qe=je?1:0,ar=pr(ar,fr,gr),ar=Je(ar,fr);else if(!Be||je||De||Fe){if(Be&&!De&&je^Fe)ar=Je(ar,fr),je?(qe=0,ar=pr(ar,fr,gr)):(qe=1,ar=pr(ar,fr,gr),ar=Je(ar,fr));else if(Be&&je&&!De&&Fe)qe=1,ar=pr(ar,fr,gr),ar=Je(ar,fr);else if(!Be&&!De&&je^Fe){var Rr=Oe;je?(qe=1,ar=pr(ar,fr,gr),qe=0,Oe=!1,ar=pr(ar,fr,gr),Oe=Rr):(qe=0,ar=pr(ar,fr,gr),ar=Je(ar,fr),qe=1,Oe=!1,ar=pr(ar,fr,gr),Oe=Rr,ar=Je(ar,fr))}}else qe=0,ar=pr(ar,fr,gr);else qe=je?1:0,ar=pr(ar,fr,gr);return ar},this.__bidiEngine__.setOptions=function(ar){ar&&(Be=ar.isInputVisual,De=ar.isOutputVisual,je=ar.isInputRtl,Fe=ar.isOutputRtl,Oe=ar.isSymmetricSwapping)},this.__bidiEngine__.setOptions(Pe),this.__bidiEngine__};var _e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],Ce=new Ee.__bidiEngine__({isInputVisual:!0});Ee.API.events.push(["postProcessText",function(Pe){var Re=Pe.text;Pe.x,Pe.y;var Ie=Pe.options||{};Pe.mutex,Ie.lang;var Be=[];if(Ie.isInputVisual=typeof Ie.isInputVisual!="boolean"||Ie.isInputVisual,Ce.setOptions(Ie),Object.prototype.toString.call(Re)==="[object Array]"){var je=0;for(Be=[],je=0;je<Re.length;je+=1)Object.prototype.toString.call(Re[je])==="[object Array]"?Be.push([Ce.doBidiReorder(Re[je][0]),Re[je][1],Re[je][2]]):Be.push([Ce.doBidiReorder(Re[je])]);Pe.text=Be}else Pe.text=Ce.doBidiReorder(Re);Ce.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function Ee(_e){var Ce;if(this.rawData=_e,Ce=this.contents=new ne$1(_e),this.contents.pos=4,Ce.readString(4)==="ttcf")throw new Error("TTCF not supported.");Ce.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return Ee.open=function(_e){return new Ee(_e)},Ee.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se$1(this),this.name=new pe$1(this),this.cmap=new ue$1(this),this.toUnicode={},this.hhea=new he$1(this),this.maxp=new ge$1(this),this.hmtx=new me(this),this.post=new fe$1(this),this.os2=new le$1(this),this.loca=new Ne(this),this.glyf=new be$1(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},Ee.prototype.registerTTF=function(){var _e,Ce,Pe,Re,Ie;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Be,je,De,Fe;for(Fe=[],Be=0,je=(De=this.bbox).length;Be<je;Be++)_e=De[Be],Fe.push(Math.round(_e*this.scaleFactor));return Fe}).call(this),this.stemV=0,this.post.exists?(Pe=255&(Re=this.post.italic_angle),(32768&(Ce=Re>>16))!=0&&(Ce=-(1+(65535^Ce))),this.italicAngle=+(Ce+"."+Pe)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Ie=this.familyClass)===1||Ie===2||Ie===3||Ie===4||Ie===5||Ie===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},Ee.prototype.characterToGlyph=function(_e){var Ce;return((Ce=this.cmap.unicode)!=null?Ce.codeMap[_e]:void 0)||0},Ee.prototype.widthOfGlyph=function(_e){var Ce;return Ce=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(_e).advance*Ce},Ee.prototype.widthOfString=function(_e,Ce,Pe){var Re,Ie,Be,je;for(Be=0,Ie=0,je=(_e=""+_e).length;0<=je?Ie<je:Ie>je;Ie=0<=je?++Ie:--Ie)Re=_e.charCodeAt(Ie),Be+=this.widthOfGlyph(this.characterToGlyph(Re))+Pe*(1e3/Ce)||0;return Be*(Ce/1e3)},Ee.prototype.lineHeight=function(_e,Ce){var Pe;return Ce==null&&(Ce=!1),Pe=Ce?this.lineGap:0,(this.ascender+Pe-this.decender)/1e3*_e},Ee}();var re$2,ne$1=function(){function Ee(_e){this.data=_e??[],this.pos=0,this.length=this.data.length}return Ee.prototype.readByte=function(){return this.data[this.pos++]},Ee.prototype.writeByte=function(_e){return this.data[this.pos++]=_e},Ee.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},Ee.prototype.writeUInt32=function(_e){return this.writeByte(_e>>>24&255),this.writeByte(_e>>16&255),this.writeByte(_e>>8&255),this.writeByte(255&_e)},Ee.prototype.readInt32=function(){var _e;return(_e=this.readUInt32())>=2147483648?_e-4294967296:_e},Ee.prototype.writeInt32=function(_e){return _e<0&&(_e+=4294967296),this.writeUInt32(_e)},Ee.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},Ee.prototype.writeUInt16=function(_e){return this.writeByte(_e>>8&255),this.writeByte(255&_e)},Ee.prototype.readInt16=function(){var _e;return(_e=this.readUInt16())>=32768?_e-65536:_e},Ee.prototype.writeInt16=function(_e){return _e<0&&(_e+=65536),this.writeUInt16(_e)},Ee.prototype.readString=function(_e){var Ce,Pe;for(Pe=[],Ce=0;0<=_e?Ce<_e:Ce>_e;Ce=0<=_e?++Ce:--Ce)Pe[Ce]=String.fromCharCode(this.readByte());return Pe.join("")},Ee.prototype.writeString=function(_e){var Ce,Pe,Re;for(Re=[],Ce=0,Pe=_e.length;0<=Pe?Ce<Pe:Ce>Pe;Ce=0<=Pe?++Ce:--Ce)Re.push(this.writeByte(_e.charCodeAt(Ce)));return Re},Ee.prototype.readShort=function(){return this.readInt16()},Ee.prototype.writeShort=function(_e){return this.writeInt16(_e)},Ee.prototype.readLongLong=function(){var _e,Ce,Pe,Re,Ie,Be,je,De;return _e=this.readByte(),Ce=this.readByte(),Pe=this.readByte(),Re=this.readByte(),Ie=this.readByte(),Be=this.readByte(),je=this.readByte(),De=this.readByte(),128&_e?-1*(72057594037927940*(255^_e)+281474976710656*(255^Ce)+1099511627776*(255^Pe)+4294967296*(255^Re)+16777216*(255^Ie)+65536*(255^Be)+256*(255^je)+(255^De)+1):72057594037927940*_e+281474976710656*Ce+1099511627776*Pe+4294967296*Re+16777216*Ie+65536*Be+256*je+De},Ee.prototype.writeLongLong=function(_e){var Ce,Pe;return Ce=Math.floor(_e/4294967296),Pe=4294967295&_e,this.writeByte(Ce>>24&255),this.writeByte(Ce>>16&255),this.writeByte(Ce>>8&255),this.writeByte(255&Ce),this.writeByte(Pe>>24&255),this.writeByte(Pe>>16&255),this.writeByte(Pe>>8&255),this.writeByte(255&Pe)},Ee.prototype.readInt=function(){return this.readInt32()},Ee.prototype.writeInt=function(_e){return this.writeInt32(_e)},Ee.prototype.read=function(_e){var Ce,Pe;for(Ce=[],Pe=0;0<=_e?Pe<_e:Pe>_e;Pe=0<=_e?++Pe:--Pe)Ce.push(this.readByte());return Ce},Ee.prototype.write=function(_e){var Ce,Pe,Re,Ie;for(Ie=[],Pe=0,Re=_e.length;Pe<Re;Pe++)Ce=_e[Pe],Ie.push(this.writeByte(Ce));return Ie},Ee}(),ie=function(){var Ee;function _e(Ce){var Pe,Re,Ie;for(this.scalarType=Ce.readInt(),this.tableCount=Ce.readShort(),this.searchRange=Ce.readShort(),this.entrySelector=Ce.readShort(),this.rangeShift=Ce.readShort(),this.tables={},Re=0,Ie=this.tableCount;0<=Ie?Re<Ie:Re>Ie;Re=0<=Ie?++Re:--Re)Pe={tag:Ce.readString(4),checksum:Ce.readInt(),offset:Ce.readInt(),length:Ce.readInt()},this.tables[Pe.tag]=Pe}return _e.prototype.encode=function(Ce){var Pe,Re,Ie,Be,je,De,Fe,Oe,ke,Me,$e,He,Qe;for(Qe in $e=Object.keys(Ce).length,De=Math.log(2),ke=16*Math.floor(Math.log($e)/De),Be=Math.floor(ke/De),Oe=16*$e-ke,(Re=new ne$1).writeInt(this.scalarType),Re.writeShort($e),Re.writeShort(ke),Re.writeShort(Be),Re.writeShort(Oe),Ie=16*$e,Fe=Re.pos+Ie,je=null,He=[],Ce)for(Me=Ce[Qe],Re.writeString(Qe),Re.writeInt(Ee(Me)),Re.writeInt(Fe),Re.writeInt(Me.length),He=He.concat(Me),Qe==="head"&&(je=Fe),Fe+=Me.length;Fe%4;)He.push(0),Fe++;return Re.write(He),Pe=2981146554-Ee(Re.data),Re.pos=je+8,Re.writeUInt32(Pe),Re.data},Ee=function(Ce){var Pe,Re,Ie,Be;for(Ce=ve.call(Ce);Ce.length%4;)Ce.push(0);for(Ie=new ne$1(Ce),Re=0,Pe=0,Be=Ce.length;Pe<Be;Pe=Pe+=4)Re+=Ie.readUInt32();return 4294967295&Re},_e}(),ae={}.hasOwnProperty,oe$1=function(Ee,_e){for(var Ce in _e)ae.call(_e,Ce)&&(Ee[Ce]=_e[Ce]);function Pe(){this.constructor=Ee}return Pe.prototype=_e.prototype,Ee.prototype=new Pe,Ee.__super__=_e.prototype,Ee};re$2=function(){function Ee(_e){var Ce;this.file=_e,Ce=this.file.directory.tables[this.tag],this.exists=!!Ce,Ce&&(this.offset=Ce.offset,this.length=Ce.length,this.parse(this.file.contents))}return Ee.prototype.parse=function(){},Ee.prototype.encode=function(){},Ee.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},Ee}();var se$1=function(Ee){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe$1(_e,re$2),_e.prototype.tag="head",_e.prototype.parse=function(Ce){return Ce.pos=this.offset,this.version=Ce.readInt(),this.revision=Ce.readInt(),this.checkSumAdjustment=Ce.readInt(),this.magicNumber=Ce.readInt(),this.flags=Ce.readShort(),this.unitsPerEm=Ce.readShort(),this.created=Ce.readLongLong(),this.modified=Ce.readLongLong(),this.xMin=Ce.readShort(),this.yMin=Ce.readShort(),this.xMax=Ce.readShort(),this.yMax=Ce.readShort(),this.macStyle=Ce.readShort(),this.lowestRecPPEM=Ce.readShort(),this.fontDirectionHint=Ce.readShort(),this.indexToLocFormat=Ce.readShort(),this.glyphDataFormat=Ce.readShort()},_e.prototype.encode=function(Ce){var Pe;return(Pe=new ne$1).writeInt(this.version),Pe.writeInt(this.revision),Pe.writeInt(this.checkSumAdjustment),Pe.writeInt(this.magicNumber),Pe.writeShort(this.flags),Pe.writeShort(this.unitsPerEm),Pe.writeLongLong(this.created),Pe.writeLongLong(this.modified),Pe.writeShort(this.xMin),Pe.writeShort(this.yMin),Pe.writeShort(this.xMax),Pe.writeShort(this.yMax),Pe.writeShort(this.macStyle),Pe.writeShort(this.lowestRecPPEM),Pe.writeShort(this.fontDirectionHint),Pe.writeShort(Ce),Pe.writeShort(this.glyphDataFormat),Pe.data},_e}(),ce=function(){function Ee(_e,Ce){var Pe,Re,Ie,Be,je,De,Fe,Oe,ke,Me,$e,He,Qe,Ke,ze,We,qe;switch(this.platformID=_e.readUInt16(),this.encodingID=_e.readShort(),this.offset=Ce+_e.readInt(),ke=_e.pos,_e.pos=this.offset,this.format=_e.readUInt16(),this.length=_e.readUInt16(),this.language=_e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(De=0;De<256;++De)this.codeMap[De]=_e.readByte();break;case 4:for($e=_e.readUInt16(),Me=$e/2,_e.pos+=6,Ie=function(){var Ye,Xe;for(Xe=[],De=Ye=0;0<=Me?Ye<Me:Ye>Me;De=0<=Me?++Ye:--Ye)Xe.push(_e.readUInt16());return Xe}(),_e.pos+=2,Qe=function(){var Ye,Xe;for(Xe=[],De=Ye=0;0<=Me?Ye<Me:Ye>Me;De=0<=Me?++Ye:--Ye)Xe.push(_e.readUInt16());return Xe}(),Fe=function(){var Ye,Xe;for(Xe=[],De=Ye=0;0<=Me?Ye<Me:Ye>Me;De=0<=Me?++Ye:--Ye)Xe.push(_e.readUInt16());return Xe}(),Oe=function(){var Ye,Xe;for(Xe=[],De=Ye=0;0<=Me?Ye<Me:Ye>Me;De=0<=Me?++Ye:--Ye)Xe.push(_e.readUInt16());return Xe}(),Re=(this.length-_e.pos+this.offset)/2,je=function(){var Ye,Xe;for(Xe=[],De=Ye=0;0<=Re?Ye<Re:Ye>Re;De=0<=Re?++Ye:--Ye)Xe.push(_e.readUInt16());return Xe}(),De=ze=0,qe=Ie.length;ze<qe;De=++ze)for(Ke=Ie[De],Pe=We=He=Qe[De];He<=Ke?We<=Ke:We>=Ke;Pe=He<=Ke?++We:--We)Oe[De]===0?Be=Pe+Fe[De]:(Be=je[Oe[De]/2+(Pe-He)-(Me-De)]||0)!==0&&(Be+=Fe[De]),this.codeMap[Pe]=65535&Be}_e.pos=ke}return Ee.encode=function(_e,Ce){var Pe,Re,Ie,Be,je,De,Fe,Oe,ke,Me,$e,He,Qe,Ke,ze,We,qe,Ye,Xe,rr,Je,er,or,pr,ar,fr,gr,Rr,Ir,mr,Er,Ar,br,wr,jr,hr,_r,Pr,Cr,Or,Yr,qr,Kr,Zr,yn,mn;switch(Rr=new ne$1,Be=Object.keys(_e).sort(function(Cn,bn){return Cn-bn}),Ce){case"macroman":for(Qe=0,Ke=function(){var Cn=[];for(He=0;He<256;++He)Cn.push(0);return Cn}(),We={0:0},Ie={},Ir=0,br=Be.length;Ir<br;Ir++)We[Kr=_e[Re=Be[Ir]]]==null&&(We[Kr]=++Qe),Ie[Re]={old:_e[Re],new:We[_e[Re]]},Ke[Re]=We[_e[Re]];return Rr.writeUInt16(1),Rr.writeUInt16(0),Rr.writeUInt32(12),Rr.writeUInt16(0),Rr.writeUInt16(262),Rr.writeUInt16(0),Rr.write(Ke),{charMap:Ie,subtable:Rr.data,maxGlyphID:Qe+1};case"unicode":for(fr=[],ke=[],qe=0,We={},Pe={},ze=Fe=null,mr=0,wr=Be.length;mr<wr;mr++)We[Xe=_e[Re=Be[mr]]]==null&&(We[Xe]=++qe),Pe[Re]={old:Xe,new:We[Xe]},je=We[Xe]-Re,ze!=null&&je===Fe||(ze&&ke.push(ze),fr.push(Re),Fe=je),ze=Re;for(ze&&ke.push(ze),ke.push(65535),fr.push(65535),pr=2*(or=fr.length),er=2*Math.pow(Math.log(or)/Math.LN2,2),Me=Math.log(er/2)/Math.LN2,Je=2*or-er,De=[],rr=[],$e=[],He=Er=0,jr=fr.length;Er<jr;He=++Er){if(ar=fr[He],Oe=ke[He],ar===65535){De.push(0),rr.push(0);break}if(ar-(gr=Pe[ar].new)>=32768)for(De.push(0),rr.push(2*($e.length+or-He)),Re=Ar=ar;ar<=Oe?Ar<=Oe:Ar>=Oe;Re=ar<=Oe?++Ar:--Ar)$e.push(Pe[Re].new);else De.push(gr-ar),rr.push(0)}for(Rr.writeUInt16(3),Rr.writeUInt16(1),Rr.writeUInt32(12),Rr.writeUInt16(4),Rr.writeUInt16(16+8*or+2*$e.length),Rr.writeUInt16(0),Rr.writeUInt16(pr),Rr.writeUInt16(er),Rr.writeUInt16(Me),Rr.writeUInt16(Je),Yr=0,hr=ke.length;Yr<hr;Yr++)Re=ke[Yr],Rr.writeUInt16(Re);for(Rr.writeUInt16(0),qr=0,_r=fr.length;qr<_r;qr++)Re=fr[qr],Rr.writeUInt16(Re);for(Zr=0,Pr=De.length;Zr<Pr;Zr++)je=De[Zr],Rr.writeUInt16(je);for(yn=0,Cr=rr.length;yn<Cr;yn++)Ye=rr[yn],Rr.writeUInt16(Ye);for(mn=0,Or=$e.length;mn<Or;mn++)Qe=$e[mn],Rr.writeUInt16(Qe);return{charMap:Pe,subtable:Rr.data,maxGlyphID:qe+1}}},Ee}(),ue$1=function(Ee){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe$1(_e,re$2),_e.prototype.tag="cmap",_e.prototype.parse=function(Ce){var Pe,Re,Ie;for(Ce.pos=this.offset,this.version=Ce.readUInt16(),Ie=Ce.readUInt16(),this.tables=[],this.unicode=null,Re=0;0<=Ie?Re<Ie:Re>Ie;Re=0<=Ie?++Re:--Re)Pe=new ce(Ce,this.offset),this.tables.push(Pe),Pe.isUnicode&&this.unicode==null&&(this.unicode=Pe);return!0},_e.encode=function(Ce,Pe){var Re,Ie;return Pe==null&&(Pe="macroman"),Re=ce.encode(Ce,Pe),(Ie=new ne$1).writeUInt16(0),Ie.writeUInt16(1),Re.table=Ie.data.concat(Re.subtable),Re},_e}(),he$1=function(Ee){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe$1(_e,re$2),_e.prototype.tag="hhea",_e.prototype.parse=function(Ce){return Ce.pos=this.offset,this.version=Ce.readInt(),this.ascender=Ce.readShort(),this.decender=Ce.readShort(),this.lineGap=Ce.readShort(),this.advanceWidthMax=Ce.readShort(),this.minLeftSideBearing=Ce.readShort(),this.minRightSideBearing=Ce.readShort(),this.xMaxExtent=Ce.readShort(),this.caretSlopeRise=Ce.readShort(),this.caretSlopeRun=Ce.readShort(),this.caretOffset=Ce.readShort(),Ce.pos+=8,this.metricDataFormat=Ce.readShort(),this.numberOfMetrics=Ce.readUInt16()},_e}(),le$1=function(Ee){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe$1(_e,re$2),_e.prototype.tag="OS/2",_e.prototype.parse=function(Ce){if(Ce.pos=this.offset,this.version=Ce.readUInt16(),this.averageCharWidth=Ce.readShort(),this.weightClass=Ce.readUInt16(),this.widthClass=Ce.readUInt16(),this.type=Ce.readShort(),this.ySubscriptXSize=Ce.readShort(),this.ySubscriptYSize=Ce.readShort(),this.ySubscriptXOffset=Ce.readShort(),this.ySubscriptYOffset=Ce.readShort(),this.ySuperscriptXSize=Ce.readShort(),this.ySuperscriptYSize=Ce.readShort(),this.ySuperscriptXOffset=Ce.readShort(),this.ySuperscriptYOffset=Ce.readShort(),this.yStrikeoutSize=Ce.readShort(),this.yStrikeoutPosition=Ce.readShort(),this.familyClass=Ce.readShort(),this.panose=function(){var Pe,Re;for(Re=[],Pe=0;Pe<10;++Pe)Re.push(Ce.readByte());return Re}(),this.charRange=function(){var Pe,Re;for(Re=[],Pe=0;Pe<4;++Pe)Re.push(Ce.readInt());return Re}(),this.vendorID=Ce.readString(4),this.selection=Ce.readShort(),this.firstCharIndex=Ce.readShort(),this.lastCharIndex=Ce.readShort(),this.version>0&&(this.ascent=Ce.readShort(),this.descent=Ce.readShort(),this.lineGap=Ce.readShort(),this.winAscent=Ce.readShort(),this.winDescent=Ce.readShort(),this.codePageRange=function(){var Pe,Re;for(Re=[],Pe=0;Pe<2;Pe=++Pe)Re.push(Ce.readInt());return Re}(),this.version>1))return this.xHeight=Ce.readShort(),this.capHeight=Ce.readShort(),this.defaultChar=Ce.readShort(),this.breakChar=Ce.readShort(),this.maxContext=Ce.readShort()},_e}(),fe$1=function(Ee){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe$1(_e,re$2),_e.prototype.tag="post",_e.prototype.parse=function(Ce){var Pe,Re,Ie;switch(Ce.pos=this.offset,this.format=Ce.readInt(),this.italicAngle=Ce.readInt(),this.underlinePosition=Ce.readShort(),this.underlineThickness=Ce.readShort(),this.isFixedPitch=Ce.readInt(),this.minMemType42=Ce.readInt(),this.maxMemType42=Ce.readInt(),this.minMemType1=Ce.readInt(),this.maxMemType1=Ce.readInt(),this.format){case 65536:break;case 131072:var Be;for(Re=Ce.readUInt16(),this.glyphNameIndex=[],Be=0;0<=Re?Be<Re:Be>Re;Be=0<=Re?++Be:--Be)this.glyphNameIndex.push(Ce.readUInt16());for(this.names=[],Ie=[];Ce.pos<this.offset+this.length;)Pe=Ce.readByte(),Ie.push(this.names.push(Ce.readString(Pe)));return Ie;case 151552:return Re=Ce.readUInt16(),this.offsets=Ce.read(Re);case 196608:break;case 262144:return this.map=(function(){var je,De,Fe;for(Fe=[],Be=je=0,De=this.file.maxp.numGlyphs;0<=De?je<De:je>De;Be=0<=De?++je:--je)Fe.push(Ce.readUInt32());return Fe}).call(this)}},_e}(),de$1=function(Ee,_e){this.raw=Ee,this.length=Ee.length,this.platformID=_e.platformID,this.encodingID=_e.encodingID,this.languageID=_e.languageID},pe$1=function(Ee){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe$1(_e,re$2),_e.prototype.tag="name",_e.prototype.parse=function(Ce){var Pe,Re,Ie,Be,je,De,Fe,Oe,ke,Me,$e;for(Ce.pos=this.offset,Ce.readShort(),Pe=Ce.readShort(),De=Ce.readShort(),Re=[],Be=0;0<=Pe?Be<Pe:Be>Pe;Be=0<=Pe?++Be:--Be)Re.push({platformID:Ce.readShort(),encodingID:Ce.readShort(),languageID:Ce.readShort(),nameID:Ce.readShort(),length:Ce.readShort(),offset:this.offset+De+Ce.readShort()});for(Fe={},Be=ke=0,Me=Re.length;ke<Me;Be=++ke)Ie=Re[Be],Ce.pos=Ie.offset,Oe=Ce.readString(Ie.length),je=new de$1(Oe,Ie),Fe[$e=Ie.nameID]==null&&(Fe[$e]=[]),Fe[Ie.nameID].push(je);this.strings=Fe,this.copyright=Fe[0],this.fontFamily=Fe[1],this.fontSubfamily=Fe[2],this.uniqueSubfamily=Fe[3],this.fontName=Fe[4],this.version=Fe[5];try{this.postscriptName=Fe[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Fe[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Fe[7],this.manufacturer=Fe[8],this.designer=Fe[9],this.description=Fe[10],this.vendorUrl=Fe[11],this.designerUrl=Fe[12],this.license=Fe[13],this.licenseUrl=Fe[14],this.preferredFamily=Fe[15],this.preferredSubfamily=Fe[17],this.compatibleFull=Fe[18],this.sampleText=Fe[19]},_e}(),ge$1=function(Ee){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe$1(_e,re$2),_e.prototype.tag="maxp",_e.prototype.parse=function(Ce){return Ce.pos=this.offset,this.version=Ce.readInt(),this.numGlyphs=Ce.readUInt16(),this.maxPoints=Ce.readUInt16(),this.maxContours=Ce.readUInt16(),this.maxCompositePoints=Ce.readUInt16(),this.maxComponentContours=Ce.readUInt16(),this.maxZones=Ce.readUInt16(),this.maxTwilightPoints=Ce.readUInt16(),this.maxStorage=Ce.readUInt16(),this.maxFunctionDefs=Ce.readUInt16(),this.maxInstructionDefs=Ce.readUInt16(),this.maxStackElements=Ce.readUInt16(),this.maxSizeOfInstructions=Ce.readUInt16(),this.maxComponentElements=Ce.readUInt16(),this.maxComponentDepth=Ce.readUInt16()},_e}(),me=function(Ee){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe$1(_e,re$2),_e.prototype.tag="hmtx",_e.prototype.parse=function(Ce){var Pe,Re,Ie,Be,je,De,Fe;for(Ce.pos=this.offset,this.metrics=[],Pe=0,De=this.file.hhea.numberOfMetrics;0<=De?Pe<De:Pe>De;Pe=0<=De?++Pe:--Pe)this.metrics.push({advance:Ce.readUInt16(),lsb:Ce.readInt16()});for(Ie=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var Oe,ke;for(ke=[],Pe=Oe=0;0<=Ie?Oe<Ie:Oe>Ie;Pe=0<=Ie?++Oe:--Oe)ke.push(Ce.readInt16());return ke}(),this.widths=(function(){var Oe,ke,Me,$e;for($e=[],Oe=0,ke=(Me=this.metrics).length;Oe<ke;Oe++)Be=Me[Oe],$e.push(Be.advance);return $e}).call(this),Re=this.widths[this.widths.length-1],Fe=[],Pe=je=0;0<=Ie?je<Ie:je>Ie;Pe=0<=Ie?++je:--je)Fe.push(this.widths.push(Re));return Fe},_e.prototype.forGlyph=function(Ce){return Ce in this.metrics?this.metrics[Ce]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[Ce-this.metrics.length]}},_e}(),ve=[].slice,be$1=function(Ee){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe$1(_e,re$2),_e.prototype.tag="glyf",_e.prototype.parse=function(){return this.cache={}},_e.prototype.glyphFor=function(Ce){var Pe,Re,Ie,Be,je,De,Fe,Oe,ke,Me;return Ce in this.cache?this.cache[Ce]:(Be=this.file.loca,Pe=this.file.contents,Re=Be.indexOf(Ce),(Ie=Be.lengthOf(Ce))===0?this.cache[Ce]=null:(Pe.pos=this.offset+Re,je=(De=new ne$1(Pe.read(Ie))).readShort(),Oe=De.readShort(),Me=De.readShort(),Fe=De.readShort(),ke=De.readShort(),this.cache[Ce]=je===-1?new we(De,Oe,Me,Fe,ke):new ye$1(De,je,Oe,Me,Fe,ke),this.cache[Ce]))},_e.prototype.encode=function(Ce,Pe,Re){var Ie,Be,je,De,Fe;for(je=[],Be=[],De=0,Fe=Pe.length;De<Fe;De++)Ie=Ce[Pe[De]],Be.push(je.length),Ie&&(je=je.concat(Ie.encode(Re)));return Be.push(je.length),{table:je,offsets:Be}},_e}(),ye$1=function(){function Ee(_e,Ce,Pe,Re,Ie,Be){this.raw=_e,this.numberOfContours=Ce,this.xMin=Pe,this.yMin=Re,this.xMax=Ie,this.yMax=Be,this.compound=!1}return Ee.prototype.encode=function(){return this.raw.data},Ee}(),we=function(){function Ee(_e,Ce,Pe,Re,Ie){var Be,je;for(this.raw=_e,this.xMin=Ce,this.yMin=Pe,this.xMax=Re,this.yMax=Ie,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Be=this.raw;je=Be.readShort(),this.glyphOffsets.push(Be.pos),this.glyphIDs.push(Be.readUInt16()),32&je;)Be.pos+=1&je?4:2,128&je?Be.pos+=8:64&je?Be.pos+=4:8&je&&(Be.pos+=2)}return Ee.prototype.encode=function(){var _e,Ce,Pe;for(Ce=new ne$1(ve.call(this.raw.data)),_e=0,Pe=this.glyphIDs.length;_e<Pe;++_e)Ce.pos=this.glyphOffsets[_e];return Ce.data},Ee}(),Ne=function(Ee){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe$1(_e,re$2),_e.prototype.tag="loca",_e.prototype.parse=function(Ce){var Pe,Re;return Ce.pos=this.offset,Pe=this.file.head.indexToLocFormat,this.offsets=Pe===0?(function(){var Ie,Be;for(Be=[],Re=0,Ie=this.length;Re<Ie;Re+=2)Be.push(2*Ce.readUInt16());return Be}).call(this):(function(){var Ie,Be;for(Be=[],Re=0,Ie=this.length;Re<Ie;Re+=4)Be.push(Ce.readUInt32());return Be}).call(this)},_e.prototype.indexOf=function(Ce){return this.offsets[Ce]},_e.prototype.lengthOf=function(Ce){return this.offsets[Ce+1]-this.offsets[Ce]},_e.prototype.encode=function(Ce,Pe){for(var Re=new Uint32Array(this.offsets.length),Ie=0,Be=0,je=0;je<Re.length;++je)if(Re[je]=Ie,Be<Pe.length&&Pe[Be]==je){++Be,Re[je]=Ie;var De=this.offsets[je],Fe=this.offsets[je+1]-De;Fe>0&&(Ie+=Fe)}for(var Oe=new Array(4*Re.length),ke=0;ke<Re.length;++ke)Oe[4*ke+3]=255&Re[ke],Oe[4*ke+2]=(65280&Re[ke])>>8,Oe[4*ke+1]=(16711680&Re[ke])>>16,Oe[4*ke]=(4278190080&Re[ke])>>24;return Oe},_e}(),Le=function(){function Ee(_e){this.font=_e,this.subset={},this.unicodes={},this.next=33}return Ee.prototype.generateCmap=function(){var _e,Ce,Pe,Re,Ie;for(Ce in Re=this.font.cmap.tables[0].codeMap,_e={},Ie=this.subset)Pe=Ie[Ce],_e[Ce]=Re[Pe];return _e},Ee.prototype.glyphsFor=function(_e){var Ce,Pe,Re,Ie,Be,je,De;for(Re={},Be=0,je=_e.length;Be<je;Be++)Re[Ie=_e[Be]]=this.font.glyf.glyphFor(Ie);for(Ie in Ce=[],Re)(Pe=Re[Ie])!=null&&Pe.compound&&Ce.push.apply(Ce,Pe.glyphIDs);if(Ce.length>0)for(Ie in De=this.glyphsFor(Ce))Pe=De[Ie],Re[Ie]=Pe;return Re},Ee.prototype.encode=function(_e,Ce){var Pe,Re,Ie,Be,je,De,Fe,Oe,ke,Me,$e,He,Qe,Ke,ze;for(Re in Pe=ue$1.encode(this.generateCmap(),"unicode"),Be=this.glyphsFor(_e),$e={0:0},ze=Pe.charMap)$e[(De=ze[Re]).old]=De.new;for(He in Me=Pe.maxGlyphID,Be)He in $e||($e[He]=Me++);return Oe=function(We){var qe,Ye;for(qe in Ye={},We)Ye[We[qe]]=qe;return Ye}($e),ke=Object.keys(Oe).sort(function(We,qe){return We-qe}),Qe=function(){var We,qe,Ye;for(Ye=[],We=0,qe=ke.length;We<qe;We++)je=ke[We],Ye.push(Oe[je]);return Ye}(),Ie=this.font.glyf.encode(Be,Qe,$e),Fe=this.font.loca.encode(Ie.offsets,Qe),Ke={cmap:this.font.cmap.raw(),glyf:Ie.table,loca:Fe,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(Ce)},this.font.os2.exists&&(Ke["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Ke)},Ee}();E.API.PDFObject=function(){var Ee;function _e(){}return Ee=function(Ce,Pe){return(Array(Pe+1).join("0")+Ce).slice(-Pe)},_e.convert=function(Ce){var Pe,Re,Ie,Be;if(Array.isArray(Ce))return"["+function(){var je,De,Fe;for(Fe=[],je=0,De=Ce.length;je<De;je++)Pe=Ce[je],Fe.push(_e.convert(Pe));return Fe}().join(" ")+"]";if(typeof Ce=="string")return"/"+Ce;if(Ce?.isString)return"("+Ce+")";if(Ce instanceof Date)return"(D:"+Ee(Ce.getUTCFullYear(),4)+Ee(Ce.getUTCMonth(),2)+Ee(Ce.getUTCDate(),2)+Ee(Ce.getUTCHours(),2)+Ee(Ce.getUTCMinutes(),2)+Ee(Ce.getUTCSeconds(),2)+"Z)";if({}.toString.call(Ce)==="[object Object]"){for(Re in Ie=["<<"],Ce)Be=Ce[Re],Ie.push("/"+Re+" "+_e.convert(Be));return Ie.push(">>"),Ie.join(`
`)}return""+Ce},_e}();const jspdf_es_min=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:St,AcroFormAppearance:At$1,AcroFormButton:mt$1,AcroFormCheckBox:wt$1,AcroFormChoiceField:ft,AcroFormComboBox:pt$1,AcroFormEditBox:gt$1,AcroFormListBox:dt,AcroFormPasswordField:Lt$1,AcroFormPushButton:vt$1,AcroFormRadioButton:bt$1,AcroFormTextField:Nt$1,GState:j$1,ShadingPattern:B$1,TilingPattern:M$1,default:E,jsPDF:E},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(jspdf_es_min);var html2canvas$1={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var html2canvas=html2canvas$1.exports,hasRequiredHtml2canvas;function requireHtml2canvas(){return hasRequiredHtml2canvas||(hasRequiredHtml2canvas=1,function(Ee,_e){(function(Ce,Pe){Ee.exports=Pe()})(html2canvas,function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var Ce=function(sr,nr){return Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(cr,lr){cr.__proto__=lr}||function(cr,lr){for(var Sr in lr)Object.prototype.hasOwnProperty.call(lr,Sr)&&(cr[Sr]=lr[Sr])},Ce(sr,nr)};function Pe(sr,nr){if(typeof nr!="function"&&nr!==null)throw new TypeError("Class extends value "+String(nr)+" is not a constructor or null");Ce(sr,nr);function cr(){this.constructor=sr}sr.prototype=nr===null?Object.create(nr):(cr.prototype=nr.prototype,new cr)}var Re=function(){return Re=Object.assign||function(nr){for(var cr,lr=1,Sr=arguments.length;lr<Sr;lr++){cr=arguments[lr];for(var Fr in cr)Object.prototype.hasOwnProperty.call(cr,Fr)&&(nr[Fr]=cr[Fr])}return nr},Re.apply(this,arguments)};function Ie(sr,nr,cr,lr){function Sr(Fr){return Fr instanceof cr?Fr:new cr(function(Vr){Vr(Fr)})}return new(cr||(cr=Promise))(function(Fr,Vr){function fn(Ln){try{In(lr.next(Ln))}catch($n){Vr($n)}}function dn(Ln){try{In(lr.throw(Ln))}catch($n){Vr($n)}}function In(Ln){Ln.done?Fr(Ln.value):Sr(Ln.value).then(fn,dn)}In((lr=lr.apply(sr,[])).next())})}function Be(sr,nr){var cr={label:0,sent:function(){if(Fr[0]&1)throw Fr[1];return Fr[1]},trys:[],ops:[]},lr,Sr,Fr,Vr;return Vr={next:fn(0),throw:fn(1),return:fn(2)},typeof Symbol=="function"&&(Vr[Symbol.iterator]=function(){return this}),Vr;function fn(In){return function(Ln){return dn([In,Ln])}}function dn(In){if(lr)throw new TypeError("Generator is already executing.");for(;cr;)try{if(lr=1,Sr&&(Fr=In[0]&2?Sr.return:In[0]?Sr.throw||((Fr=Sr.return)&&Fr.call(Sr),0):Sr.next)&&!(Fr=Fr.call(Sr,In[1])).done)return Fr;switch(Sr=0,Fr&&(In=[In[0]&2,Fr.value]),In[0]){case 0:case 1:Fr=In;break;case 4:return cr.label++,{value:In[1],done:!1};case 5:cr.label++,Sr=In[1],In=[0];continue;case 7:In=cr.ops.pop(),cr.trys.pop();continue;default:if(Fr=cr.trys,!(Fr=Fr.length>0&&Fr[Fr.length-1])&&(In[0]===6||In[0]===2)){cr=0;continue}if(In[0]===3&&(!Fr||In[1]>Fr[0]&&In[1]<Fr[3])){cr.label=In[1];break}if(In[0]===6&&cr.label<Fr[1]){cr.label=Fr[1],Fr=In;break}if(Fr&&cr.label<Fr[2]){cr.label=Fr[2],cr.ops.push(In);break}Fr[2]&&cr.ops.pop(),cr.trys.pop();continue}In=nr.call(sr,cr)}catch(Ln){In=[6,Ln],Sr=0}finally{lr=Fr=0}if(In[0]&5)throw In[1];return{value:In[0]?In[1]:void 0,done:!0}}}function je(sr,nr,cr){if(arguments.length===2)for(var lr=0,Sr=nr.length,Fr;lr<Sr;lr++)(Fr||!(lr in nr))&&(Fr||(Fr=Array.prototype.slice.call(nr,0,lr)),Fr[lr]=nr[lr]);return sr.concat(Fr||nr)}for(var De=function(){function sr(nr,cr,lr,Sr){this.left=nr,this.top=cr,this.width=lr,this.height=Sr}return sr.prototype.add=function(nr,cr,lr,Sr){return new sr(this.left+nr,this.top+cr,this.width+lr,this.height+Sr)},sr.fromClientRect=function(nr,cr){return new sr(cr.left+nr.windowBounds.left,cr.top+nr.windowBounds.top,cr.width,cr.height)},sr.fromDOMRectList=function(nr,cr){var lr=Array.from(cr).find(function(Sr){return Sr.width!==0});return lr?new sr(lr.left+nr.windowBounds.left,lr.top+nr.windowBounds.top,lr.width,lr.height):sr.EMPTY},sr.EMPTY=new sr(0,0,0,0),sr}(),Fe=function(sr,nr){return De.fromClientRect(sr,nr.getBoundingClientRect())},Oe=function(sr){var nr=sr.body,cr=sr.documentElement;if(!nr||!cr)throw new Error("Unable to get document size");var lr=Math.max(Math.max(nr.scrollWidth,cr.scrollWidth),Math.max(nr.offsetWidth,cr.offsetWidth),Math.max(nr.clientWidth,cr.clientWidth)),Sr=Math.max(Math.max(nr.scrollHeight,cr.scrollHeight),Math.max(nr.offsetHeight,cr.offsetHeight),Math.max(nr.clientHeight,cr.clientHeight));return new De(0,0,lr,Sr)},ke=function(sr){for(var nr=[],cr=0,lr=sr.length;cr<lr;){var Sr=sr.charCodeAt(cr++);if(Sr>=55296&&Sr<=56319&&cr<lr){var Fr=sr.charCodeAt(cr++);(Fr&64512)===56320?nr.push(((Sr&1023)<<10)+(Fr&1023)+65536):(nr.push(Sr),cr--)}else nr.push(Sr)}return nr},Me=function(){for(var sr=[],nr=0;nr<arguments.length;nr++)sr[nr]=arguments[nr];if(String.fromCodePoint)return String.fromCodePoint.apply(String,sr);var cr=sr.length;if(!cr)return"";for(var lr=[],Sr=-1,Fr="";++Sr<cr;){var Vr=sr[Sr];Vr<=65535?lr.push(Vr):(Vr-=65536,lr.push((Vr>>10)+55296,Vr%1024+56320)),(Sr+1===cr||lr.length>16384)&&(Fr+=String.fromCharCode.apply(String,lr),lr.length=0)}return Fr},$e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",He=typeof Uint8Array>"u"?[]:new Uint8Array(256),Qe=0;Qe<$e.length;Qe++)He[$e.charCodeAt(Qe)]=Qe;for(var Ke="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ze=typeof Uint8Array>"u"?[]:new Uint8Array(256),We=0;We<Ke.length;We++)ze[Ke.charCodeAt(We)]=We;for(var qe=function(sr){var nr=sr.length*.75,cr=sr.length,lr,Sr=0,Fr,Vr,fn,dn;sr[sr.length-1]==="="&&(nr--,sr[sr.length-2]==="="&&nr--);var In=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(nr):new Array(nr),Ln=Array.isArray(In)?In:new Uint8Array(In);for(lr=0;lr<cr;lr+=4)Fr=ze[sr.charCodeAt(lr)],Vr=ze[sr.charCodeAt(lr+1)],fn=ze[sr.charCodeAt(lr+2)],dn=ze[sr.charCodeAt(lr+3)],Ln[Sr++]=Fr<<2|Vr>>4,Ln[Sr++]=(Vr&15)<<4|fn>>2,Ln[Sr++]=(fn&3)<<6|dn&63;return In},Ye=function(sr){for(var nr=sr.length,cr=[],lr=0;lr<nr;lr+=2)cr.push(sr[lr+1]<<8|sr[lr]);return cr},Xe=function(sr){for(var nr=sr.length,cr=[],lr=0;lr<nr;lr+=4)cr.push(sr[lr+3]<<24|sr[lr+2]<<16|sr[lr+1]<<8|sr[lr]);return cr},rr=5,Je=11,er=2,or=Je-rr,pr=65536>>rr,ar=1<<rr,fr=ar-1,gr=1024>>rr,Rr=pr+gr,Ir=Rr,mr=32,Er=Ir+mr,Ar=65536>>Je,br=1<<or,wr=br-1,jr=function(sr,nr,cr){return sr.slice?sr.slice(nr,cr):new Uint16Array(Array.prototype.slice.call(sr,nr,cr))},hr=function(sr,nr,cr){return sr.slice?sr.slice(nr,cr):new Uint32Array(Array.prototype.slice.call(sr,nr,cr))},_r=function(sr,nr){var cr=qe(sr),lr=Array.isArray(cr)?Xe(cr):new Uint32Array(cr),Sr=Array.isArray(cr)?Ye(cr):new Uint16Array(cr),Fr=24,Vr=jr(Sr,Fr/2,lr[4]/2),fn=lr[5]===2?jr(Sr,(Fr+lr[4])/2):hr(lr,Math.ceil((Fr+lr[4])/4));return new Pr(lr[0],lr[1],lr[2],lr[3],Vr,fn)},Pr=function(){function sr(nr,cr,lr,Sr,Fr,Vr){this.initialValue=nr,this.errorValue=cr,this.highStart=lr,this.highValueIndex=Sr,this.index=Fr,this.data=Vr}return sr.prototype.get=function(nr){var cr;if(nr>=0){if(nr<55296||nr>56319&&nr<=65535)return cr=this.index[nr>>rr],cr=(cr<<er)+(nr&fr),this.data[cr];if(nr<=65535)return cr=this.index[pr+(nr-55296>>rr)],cr=(cr<<er)+(nr&fr),this.data[cr];if(nr<this.highStart)return cr=Er-Ar+(nr>>Je),cr=this.index[cr],cr+=nr>>rr&wr,cr=this.index[cr],cr=(cr<<er)+(nr&fr),this.data[cr];if(nr<=1114111)return this.data[this.highValueIndex]}return this.errorValue},sr}(),Cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Or=typeof Uint8Array>"u"?[]:new Uint8Array(256),Yr=0;Yr<Cr.length;Yr++)Or[Cr.charCodeAt(Yr)]=Yr;var qr="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Kr=50,Zr=1,yn=2,mn=3,Cn=4,bn=5,wn=7,Jr=8,qn=9,ci=10,Jn=11,ui=12,li=13,mi=14,wi=15,Di=16,$i=17,Si=18,Bi=19,Vi=20,Pn=21,En=22,jn=23,ni=24,ii=25,Fi=26,bi=27,Wi=28,ws=29,Zi=30,fa=31,vs=32,Zs=33,Ji=34,Ti=35,xi=36,Ui=37,ss=38,us=39,Js=40,Na=41,Ri=42,Qi=43,ks=[9001,65288],ta="!",qi="",aa="",Ur=_r(qr),An=[Zi,xi],Xr=[Zr,yn,mn,bn],un=[ci,Jr],pn=[bi,Fi],gn=Xr.concat(un),Un=[ss,us,Js,Ji,Ti],Yn=[wi,li],On=function(sr,nr){nr===void 0&&(nr="strict");var cr=[],lr=[],Sr=[];return sr.forEach(function(Fr,Vr){var fn=Ur.get(Fr);if(fn>Kr?(Sr.push(!0),fn-=Kr):Sr.push(!1),["normal","auto","loose"].indexOf(nr)!==-1&&[8208,8211,12316,12448].indexOf(Fr)!==-1)return lr.push(Vr),cr.push(Di);if(fn===Cn||fn===Jn){if(Vr===0)return lr.push(Vr),cr.push(Zi);var dn=cr[Vr-1];return gn.indexOf(dn)===-1?(lr.push(lr[Vr-1]),cr.push(dn)):(lr.push(Vr),cr.push(Zi))}if(lr.push(Vr),fn===fa)return cr.push(nr==="strict"?Pn:Ui);if(fn===Ri||fn===ws)return cr.push(Zi);if(fn===Qi)return Fr>=131072&&Fr<=196605||Fr>=196608&&Fr<=262141?cr.push(Ui):cr.push(Zi);cr.push(fn)}),[lr,cr,Sr]},Qn=function(sr,nr,cr,lr){var Sr=lr[cr];if(Array.isArray(sr)?sr.indexOf(Sr)!==-1:sr===Sr)for(var Fr=cr;Fr<=lr.length;){Fr++;var Vr=lr[Fr];if(Vr===nr)return!0;if(Vr!==ci)break}if(Sr===ci)for(var Fr=cr;Fr>0;){Fr--;var fn=lr[Fr];if(Array.isArray(sr)?sr.indexOf(fn)!==-1:sr===fn)for(var dn=cr;dn<=lr.length;){dn++;var Vr=lr[dn];if(Vr===nr)return!0;if(Vr!==ci)break}if(fn!==ci)break}return!1},Wn=function(sr,nr){for(var cr=sr;cr>=0;){var lr=nr[cr];if(lr===ci)cr--;else return lr}return 0},gi=function(sr,nr,cr,lr,Sr){if(cr[lr]===0)return qi;var Fr=lr-1;if(Array.isArray(Sr)&&Sr[Fr]===!0)return qi;var Vr=Fr-1,fn=Fr+1,dn=nr[Fr],In=Vr>=0?nr[Vr]:0,Ln=nr[fn];if(dn===yn&&Ln===mn)return qi;if(Xr.indexOf(dn)!==-1)return ta;if(Xr.indexOf(Ln)!==-1||un.indexOf(Ln)!==-1)return qi;if(Wn(Fr,nr)===Jr)return aa;if(Ur.get(sr[Fr])===Jn||(dn===vs||dn===Zs)&&Ur.get(sr[fn])===Jn||dn===wn||Ln===wn||dn===qn||[ci,li,wi].indexOf(dn)===-1&&Ln===qn||[$i,Si,Bi,ni,Wi].indexOf(Ln)!==-1||Wn(Fr,nr)===En||Qn(jn,En,Fr,nr)||Qn([$i,Si],Pn,Fr,nr)||Qn(ui,ui,Fr,nr))return qi;if(dn===ci)return aa;if(dn===jn||Ln===jn)return qi;if(Ln===Di||dn===Di)return aa;if([li,wi,Pn].indexOf(Ln)!==-1||dn===mi||In===xi&&Yn.indexOf(dn)!==-1||dn===Wi&&Ln===xi||Ln===Vi||An.indexOf(Ln)!==-1&&dn===ii||An.indexOf(dn)!==-1&&Ln===ii||dn===bi&&[Ui,vs,Zs].indexOf(Ln)!==-1||[Ui,vs,Zs].indexOf(dn)!==-1&&Ln===Fi||An.indexOf(dn)!==-1&&pn.indexOf(Ln)!==-1||pn.indexOf(dn)!==-1&&An.indexOf(Ln)!==-1||[bi,Fi].indexOf(dn)!==-1&&(Ln===ii||[En,wi].indexOf(Ln)!==-1&&nr[fn+1]===ii)||[En,wi].indexOf(dn)!==-1&&Ln===ii||dn===ii&&[ii,Wi,ni].indexOf(Ln)!==-1)return qi;if([ii,Wi,ni,$i,Si].indexOf(Ln)!==-1)for(var $n=Fr;$n>=0;){var ai=nr[$n];if(ai===ii)return qi;if([Wi,ni].indexOf(ai)!==-1)$n--;else break}if([bi,Fi].indexOf(Ln)!==-1)for(var $n=[$i,Si].indexOf(dn)!==-1?Vr:Fr;$n>=0;){var ai=nr[$n];if(ai===ii)return qi;if([Wi,ni].indexOf(ai)!==-1)$n--;else break}if(ss===dn&&[ss,us,Ji,Ti].indexOf(Ln)!==-1||[us,Ji].indexOf(dn)!==-1&&[us,Js].indexOf(Ln)!==-1||[Js,Ti].indexOf(dn)!==-1&&Ln===Js||Un.indexOf(dn)!==-1&&[Vi,Fi].indexOf(Ln)!==-1||Un.indexOf(Ln)!==-1&&dn===bi||An.indexOf(dn)!==-1&&An.indexOf(Ln)!==-1||dn===ni&&An.indexOf(Ln)!==-1||An.concat(ii).indexOf(dn)!==-1&&Ln===En&&ks.indexOf(sr[fn])===-1||An.concat(ii).indexOf(Ln)!==-1&&dn===Si)return qi;if(dn===Na&&Ln===Na){for(var Mi=cr[Fr],Ii=1;Mi>0&&(Mi--,nr[Mi]===Na);)Ii++;if(Ii%2!==0)return qi}return dn===vs&&Ln===Zs?qi:aa},Ci=function(sr,nr){nr||(nr={lineBreak:"normal",wordBreak:"normal"});var cr=On(sr,nr.lineBreak),lr=cr[0],Sr=cr[1],Fr=cr[2];(nr.wordBreak==="break-all"||nr.wordBreak==="break-word")&&(Sr=Sr.map(function(fn){return[ii,Zi,Ri].indexOf(fn)!==-1?Ui:fn}));var Vr=nr.wordBreak==="keep-all"?Fr.map(function(fn,dn){return fn&&sr[dn]>=19968&&sr[dn]<=40959}):void 0;return[lr,Sr,Vr]},Hi=function(){function sr(nr,cr,lr,Sr){this.codePoints=nr,this.required=cr===ta,this.start=lr,this.end=Sr}return sr.prototype.slice=function(){return Me.apply(void 0,this.codePoints.slice(this.start,this.end))},sr}(),Ei=function(sr,nr){var cr=ke(sr),lr=Ci(cr,nr),Sr=lr[0],Fr=lr[1],Vr=lr[2],fn=cr.length,dn=0,In=0;return{next:function(){if(In>=fn)return{done:!0,value:null};for(var Ln=qi;In<fn&&(Ln=gi(cr,Fr,Sr,++In,Vr))===qi;);if(Ln!==qi||In===fn){var $n=new Hi(cr,Ln,dn,In);return dn=In,{value:$n,done:!1}}return{done:!0,value:null}}}},Li=1,os=2,ys=4,Ss=8,bs=10,fo=47,Co=92,ho=9,Po=32,Ao=34,Ma=61,da=35,po=36,zc=37,xc=39,cl=40,Ll=41,Eo=95,Ua=45,Ms=33,wo=60,rc=62,nc=64,gl=91,Gs=93,ic=61,Go=123,qo=63,Zu=125,Kc=124,pu=126,Ol=128,_c=65533,ul=42,mo=43,oa=44,Nl=58,vl=59,ts=46,yl=0,Ju=8,Ro=11,Yo=14,Uo=31,xl=127,Sa=-1,kl=48,_l=97,Wc=101,Xo=102,Io=117,bl=122,$a=65,Rs=69,Ml=70,El=85,mu=90,ga=function(sr){return sr>=kl&&sr<=57},bc=function(sr){return sr>=55296&&sr<=57343},go=function(sr){return ga(sr)||sr>=$a&&sr<=Ml||sr>=_l&&sr<=Xo},Bo=function(sr){return sr>=_l&&sr<=bl},Ka=function(sr){return sr>=$a&&sr<=mu},ef=function(sr){return Bo(sr)||Ka(sr)},sc=function(sr){return sr>=Ol},Wa=function(sr){return sr===bs||sr===ho||sr===Po},dl=function(sr){return ef(sr)||sc(sr)||sr===Eo},wl=function(sr){return dl(sr)||ga(sr)||sr===Ua},Gc=function(sr){return sr>=yl&&sr<=Ju||sr===Ro||sr>=Yo&&sr<=Uo||sr===xl},jo=function(sr,nr){return sr!==Co?!1:nr!==bs},Ul=function(sr,nr,cr){return sr===Ua?dl(nr)||jo(nr,cr):dl(sr)?!0:!!(sr===Co&&jo(sr,nr))},Ec=function(sr,nr,cr){return sr===mo||sr===Ua?ga(nr)?!0:nr===ts&&ga(cr):ga(sr===ts?nr:sr)},wc=function(sr){var nr=0,cr=1;(sr[nr]===mo||sr[nr]===Ua)&&(sr[nr]===Ua&&(cr=-1),nr++);for(var lr=[];ga(sr[nr]);)lr.push(sr[nr++]);var Sr=lr.length?parseInt(Me.apply(void 0,lr),10):0;sr[nr]===ts&&nr++;for(var Fr=[];ga(sr[nr]);)Fr.push(sr[nr++]);var Vr=Fr.length,fn=Vr?parseInt(Me.apply(void 0,Fr),10):0;(sr[nr]===Rs||sr[nr]===Wc)&&nr++;var dn=1;(sr[nr]===mo||sr[nr]===Ua)&&(sr[nr]===Ua&&(dn=-1),nr++);for(var In=[];ga(sr[nr]);)In.push(sr[nr++]);var Ln=In.length?parseInt(Me.apply(void 0,In),10):0;return cr*(Sr+fn*Math.pow(10,-Vr))*Math.pow(10,dn*Ln)},ac={type:2},Sc={type:3},qc={type:4},Tc={type:13},oc={type:8},tf={type:21},$l={type:9},cc={type:10},Cc={type:11},Do={type:12},Yc={type:14},yr={type:23},Mr={type:1},vn={type:25},Sn={type:24},Nn={type:26},ti={type:27},_i={type:28},Ni={type:29},ir={type:31},Tr={type:32},Dr=function(){function sr(){this._value=[]}return sr.prototype.write=function(nr){this._value=this._value.concat(ke(nr))},sr.prototype.read=function(){for(var nr=[],cr=this.consumeToken();cr!==Tr;)nr.push(cr),cr=this.consumeToken();return nr},sr.prototype.consumeToken=function(){var nr=this.consumeCodePoint();switch(nr){case Ao:return this.consumeStringToken(Ao);case da:var cr=this.peekCodePoint(0),lr=this.peekCodePoint(1),Sr=this.peekCodePoint(2);if(wl(cr)||jo(lr,Sr)){var Fr=Ul(cr,lr,Sr)?os:Li,Vr=this.consumeName();return{type:5,value:Vr,flags:Fr}}break;case po:if(this.peekCodePoint(0)===Ma)return this.consumeCodePoint(),Tc;break;case xc:return this.consumeStringToken(xc);case cl:return ac;case Ll:return Sc;case ul:if(this.peekCodePoint(0)===Ma)return this.consumeCodePoint(),Yc;break;case mo:if(Ec(nr,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(nr),this.consumeNumericToken();break;case oa:return qc;case Ua:var fn=nr,dn=this.peekCodePoint(0),In=this.peekCodePoint(1);if(Ec(fn,dn,In))return this.reconsumeCodePoint(nr),this.consumeNumericToken();if(Ul(fn,dn,In))return this.reconsumeCodePoint(nr),this.consumeIdentLikeToken();if(dn===Ua&&In===rc)return this.consumeCodePoint(),this.consumeCodePoint(),Sn;break;case ts:if(Ec(nr,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(nr),this.consumeNumericToken();break;case fo:if(this.peekCodePoint(0)===ul)for(this.consumeCodePoint();;){var Ln=this.consumeCodePoint();if(Ln===ul&&(Ln=this.consumeCodePoint(),Ln===fo))return this.consumeToken();if(Ln===Sa)return this.consumeToken()}break;case Nl:return Nn;case vl:return ti;case wo:if(this.peekCodePoint(0)===Ms&&this.peekCodePoint(1)===Ua&&this.peekCodePoint(2)===Ua)return this.consumeCodePoint(),this.consumeCodePoint(),vn;break;case nc:var $n=this.peekCodePoint(0),ai=this.peekCodePoint(1),Mi=this.peekCodePoint(2);if(Ul($n,ai,Mi)){var Vr=this.consumeName();return{type:7,value:Vr}}break;case gl:return _i;case Co:if(jo(nr,this.peekCodePoint(0)))return this.reconsumeCodePoint(nr),this.consumeIdentLikeToken();break;case Gs:return Ni;case ic:if(this.peekCodePoint(0)===Ma)return this.consumeCodePoint(),oc;break;case Go:return Cc;case Zu:return Do;case Io:case El:var Ii=this.peekCodePoint(0),ji=this.peekCodePoint(1);return Ii===mo&&(go(ji)||ji===qo)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(nr),this.consumeIdentLikeToken();case Kc:if(this.peekCodePoint(0)===Ma)return this.consumeCodePoint(),$l;if(this.peekCodePoint(0)===Kc)return this.consumeCodePoint(),tf;break;case pu:if(this.peekCodePoint(0)===Ma)return this.consumeCodePoint(),cc;break;case Sa:return Tr}return Wa(nr)?(this.consumeWhiteSpace(),ir):ga(nr)?(this.reconsumeCodePoint(nr),this.consumeNumericToken()):dl(nr)?(this.reconsumeCodePoint(nr),this.consumeIdentLikeToken()):{type:6,value:Me(nr)}},sr.prototype.consumeCodePoint=function(){var nr=this._value.shift();return typeof nr>"u"?-1:nr},sr.prototype.reconsumeCodePoint=function(nr){this._value.unshift(nr)},sr.prototype.peekCodePoint=function(nr){return nr>=this._value.length?-1:this._value[nr]},sr.prototype.consumeUnicodeRangeToken=function(){for(var nr=[],cr=this.consumeCodePoint();go(cr)&&nr.length<6;)nr.push(cr),cr=this.consumeCodePoint();for(var lr=!1;cr===qo&&nr.length<6;)nr.push(cr),cr=this.consumeCodePoint(),lr=!0;if(lr){var Sr=parseInt(Me.apply(void 0,nr.map(function(dn){return dn===qo?kl:dn})),16),Fr=parseInt(Me.apply(void 0,nr.map(function(dn){return dn===qo?Ml:dn})),16);return{type:30,start:Sr,end:Fr}}var Vr=parseInt(Me.apply(void 0,nr),16);if(this.peekCodePoint(0)===Ua&&go(this.peekCodePoint(1))){this.consumeCodePoint(),cr=this.consumeCodePoint();for(var fn=[];go(cr)&&fn.length<6;)fn.push(cr),cr=this.consumeCodePoint();var Fr=parseInt(Me.apply(void 0,fn),16);return{type:30,start:Vr,end:Fr}}else return{type:30,start:Vr,end:Vr}},sr.prototype.consumeIdentLikeToken=function(){var nr=this.consumeName();return nr.toLowerCase()==="url"&&this.peekCodePoint(0)===cl?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===cl?(this.consumeCodePoint(),{type:19,value:nr}):{type:20,value:nr}},sr.prototype.consumeUrlToken=function(){var nr=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Sa)return{type:22,value:""};var cr=this.peekCodePoint(0);if(cr===xc||cr===Ao){var lr=this.consumeStringToken(this.consumeCodePoint());return lr.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Sa||this.peekCodePoint(0)===Ll)?(this.consumeCodePoint(),{type:22,value:lr.value}):(this.consumeBadUrlRemnants(),yr)}for(;;){var Sr=this.consumeCodePoint();if(Sr===Sa||Sr===Ll)return{type:22,value:Me.apply(void 0,nr)};if(Wa(Sr))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Sa||this.peekCodePoint(0)===Ll?(this.consumeCodePoint(),{type:22,value:Me.apply(void 0,nr)}):(this.consumeBadUrlRemnants(),yr);if(Sr===Ao||Sr===xc||Sr===cl||Gc(Sr))return this.consumeBadUrlRemnants(),yr;if(Sr===Co)if(jo(Sr,this.peekCodePoint(0)))nr.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),yr;else nr.push(Sr)}},sr.prototype.consumeWhiteSpace=function(){for(;Wa(this.peekCodePoint(0));)this.consumeCodePoint()},sr.prototype.consumeBadUrlRemnants=function(){for(;;){var nr=this.consumeCodePoint();if(nr===Ll||nr===Sa)return;jo(nr,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},sr.prototype.consumeStringSlice=function(nr){for(var cr=5e4,lr="";nr>0;){var Sr=Math.min(cr,nr);lr+=Me.apply(void 0,this._value.splice(0,Sr)),nr-=Sr}return this._value.shift(),lr},sr.prototype.consumeStringToken=function(nr){var cr="",lr=0;do{var Sr=this._value[lr];if(Sr===Sa||Sr===void 0||Sr===nr)return cr+=this.consumeStringSlice(lr),{type:0,value:cr};if(Sr===bs)return this._value.splice(0,lr),Mr;if(Sr===Co){var Fr=this._value[lr+1];Fr!==Sa&&Fr!==void 0&&(Fr===bs?(cr+=this.consumeStringSlice(lr),lr=-1,this._value.shift()):jo(Sr,Fr)&&(cr+=this.consumeStringSlice(lr),cr+=Me(this.consumeEscapedCodePoint()),lr=-1))}lr++}while(!0)},sr.prototype.consumeNumber=function(){var nr=[],cr=ys,lr=this.peekCodePoint(0);for((lr===mo||lr===Ua)&&nr.push(this.consumeCodePoint());ga(this.peekCodePoint(0));)nr.push(this.consumeCodePoint());lr=this.peekCodePoint(0);var Sr=this.peekCodePoint(1);if(lr===ts&&ga(Sr))for(nr.push(this.consumeCodePoint(),this.consumeCodePoint()),cr=Ss;ga(this.peekCodePoint(0));)nr.push(this.consumeCodePoint());lr=this.peekCodePoint(0),Sr=this.peekCodePoint(1);var Fr=this.peekCodePoint(2);if((lr===Rs||lr===Wc)&&((Sr===mo||Sr===Ua)&&ga(Fr)||ga(Sr)))for(nr.push(this.consumeCodePoint(),this.consumeCodePoint()),cr=Ss;ga(this.peekCodePoint(0));)nr.push(this.consumeCodePoint());return[wc(nr),cr]},sr.prototype.consumeNumericToken=function(){var nr=this.consumeNumber(),cr=nr[0],lr=nr[1],Sr=this.peekCodePoint(0),Fr=this.peekCodePoint(1),Vr=this.peekCodePoint(2);if(Ul(Sr,Fr,Vr)){var fn=this.consumeName();return{type:15,number:cr,flags:lr,unit:fn}}return Sr===zc?(this.consumeCodePoint(),{type:16,number:cr,flags:lr}):{type:17,number:cr,flags:lr}},sr.prototype.consumeEscapedCodePoint=function(){var nr=this.consumeCodePoint();if(go(nr)){for(var cr=Me(nr);go(this.peekCodePoint(0))&&cr.length<6;)cr+=Me(this.consumeCodePoint());Wa(this.peekCodePoint(0))&&this.consumeCodePoint();var lr=parseInt(cr,16);return lr===0||bc(lr)||lr>1114111?_c:lr}return nr===Sa?_c:nr},sr.prototype.consumeName=function(){for(var nr="";;){var cr=this.consumeCodePoint();if(wl(cr))nr+=Me(cr);else if(jo(cr,this.peekCodePoint(0)))nr+=Me(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(cr),nr}},sr}(),Qr=function(){function sr(nr){this._tokens=nr}return sr.create=function(nr){var cr=new Dr;return cr.write(nr),new sr(cr.read())},sr.parseValue=function(nr){return sr.create(nr).parseComponentValue()},sr.parseValues=function(nr){return sr.create(nr).parseComponentValues()},sr.prototype.parseComponentValue=function(){for(var nr=this.consumeToken();nr.type===31;)nr=this.consumeToken();if(nr.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(nr);var cr=this.consumeComponentValue();do nr=this.consumeToken();while(nr.type===31);if(nr.type===32)return cr;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},sr.prototype.parseComponentValues=function(){for(var nr=[];;){var cr=this.consumeComponentValue();if(cr.type===32)return nr;nr.push(cr),nr.push()}},sr.prototype.consumeComponentValue=function(){var nr=this.consumeToken();switch(nr.type){case 11:case 28:case 2:return this.consumeSimpleBlock(nr.type);case 19:return this.consumeFunction(nr)}return nr},sr.prototype.consumeSimpleBlock=function(nr){for(var cr={type:nr,values:[]},lr=this.consumeToken();;){if(lr.type===32||Sl(lr,nr))return cr;this.reconsumeToken(lr),cr.values.push(this.consumeComponentValue()),lr=this.consumeToken()}},sr.prototype.consumeFunction=function(nr){for(var cr={name:nr.value,values:[],type:18};;){var lr=this.consumeToken();if(lr.type===32||lr.type===3)return cr;this.reconsumeToken(lr),cr.values.push(this.consumeComponentValue())}},sr.prototype.consumeToken=function(){var nr=this._tokens.shift();return typeof nr>"u"?Tr:nr},sr.prototype.reconsumeToken=function(nr){this._tokens.unshift(nr)},sr}(),Dn=function(sr){return sr.type===15},Vn=function(sr){return sr.type===17},si=function(sr){return sr.type===20},ls=function(sr){return sr.type===0},Ts=function(sr,nr){return si(sr)&&sr.value===nr},ps=function(sr){return sr.type!==31},Ls=function(sr){return sr.type!==31&&sr.type!==4},Is=function(sr){var nr=[],cr=[];return sr.forEach(function(lr){if(lr.type===4){if(cr.length===0)throw new Error("Error parsing function args, zero tokens for arg");nr.push(cr),cr=[];return}lr.type!==31&&cr.push(lr)}),cr.length&&nr.push(cr),nr},Sl=function(sr,nr){return nr===11&&sr.type===12||nr===28&&sr.type===29?!0:nr===2&&sr.type===3},ra=function(sr){return sr.type===17||sr.type===15},Us=function(sr){return sr.type===16||ra(sr)},Vl=function(sr){return sr.length>1?[sr[0],sr[1]]:[sr[0]]},va={type:17,number:0,flags:ys},Xc={type:16,number:50,flags:ys},Zo={type:16,number:100,flags:ys},Ta=function(sr,nr,cr){var lr=sr[0],Sr=sr[1];return[$s(lr,nr),$s(typeof Sr<"u"?Sr:lr,cr)]},$s=function(sr,nr){if(sr.type===16)return sr.number/100*nr;if(Dn(sr))switch(sr.unit){case"rem":case"em":return 16*sr.number;case"px":default:return sr.number}return sr.number},Zc="deg",Jc="grad",gu="rad",$o="turn",rf={name:"angle",parse:function(sr,nr){if(nr.type===15)switch(nr.unit){case Zc:return Math.PI*nr.number/180;case Jc:return Math.PI/200*nr.number;case gu:return nr.number;case $o:return Math.PI*2*nr.number}throw new Error("Unsupported angle type")}},nf=function(sr){return sr.type===15&&(sr.unit===Zc||sr.unit===Jc||sr.unit===gu||sr.unit===$o)},Sf=function(sr){var nr=sr.filter(si).map(function(cr){return cr.value}).join(" ");switch(nr){case"to bottom right":case"to right bottom":case"left top":case"top left":return[va,va];case"to top":case"bottom":return Ca(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[va,Zo];case"to right":case"left":return Ca(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Zo,Zo];case"to bottom":case"top":return Ca(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Zo,va];case"to left":case"right":return Ca(270)}return 0},Ca=function(sr){return Math.PI*sr/180},pa={name:"color",parse:function(sr,nr){if(nr.type===18){var cr=Jo[nr.name];if(typeof cr>"u")throw new Error('Attempting to parse an unsupported color function "'+nr.name+'"');return cr(sr,nr.values)}if(nr.type===5){if(nr.value.length===3){var lr=nr.value.substring(0,1),Sr=nr.value.substring(1,2),Fr=nr.value.substring(2,3);return Fo(parseInt(lr+lr,16),parseInt(Sr+Sr,16),parseInt(Fr+Fr,16),1)}if(nr.value.length===4){var lr=nr.value.substring(0,1),Sr=nr.value.substring(1,2),Fr=nr.value.substring(2,3),Vr=nr.value.substring(3,4);return Fo(parseInt(lr+lr,16),parseInt(Sr+Sr,16),parseInt(Fr+Fr,16),parseInt(Vr+Vr,16)/255)}if(nr.value.length===6){var lr=nr.value.substring(0,2),Sr=nr.value.substring(2,4),Fr=nr.value.substring(4,6);return Fo(parseInt(lr,16),parseInt(Sr,16),parseInt(Fr,16),1)}if(nr.value.length===8){var lr=nr.value.substring(0,2),Sr=nr.value.substring(2,4),Fr=nr.value.substring(4,6),Vr=nr.value.substring(6,8);return Fo(parseInt(lr,16),parseInt(Sr,16),parseInt(Fr,16),parseInt(Vr,16)/255)}}if(nr.type===20){var fn=vo[nr.value.toUpperCase()];if(typeof fn<"u")return fn}return vo.TRANSPARENT}},Vo=function(sr){return(255&sr)===0},ja=function(sr){var nr=255&sr,cr=255&sr>>8,lr=255&sr>>16,Sr=255&sr>>24;return nr<255?"rgba("+Sr+","+lr+","+cr+","+nr/255+")":"rgb("+Sr+","+lr+","+cr+")"},Fo=function(sr,nr,cr,lr){return(sr<<24|nr<<16|cr<<8|Math.round(lr*255)<<0)>>>0},Pc=function(sr,nr){if(sr.type===17)return sr.number;if(sr.type===16){var cr=nr===3?1:255;return nr===3?sr.number/100*cr:Math.round(sr.number/100*cr)}return 0},Lo=function(sr,nr){var cr=nr.filter(Ls);if(cr.length===3){var lr=cr.map(Pc),Sr=lr[0],Fr=lr[1],Vr=lr[2];return Fo(Sr,Fr,Vr,1)}if(cr.length===4){var fn=cr.map(Pc),Sr=fn[0],Fr=fn[1],Vr=fn[2],dn=fn[3];return Fo(Sr,Fr,Vr,dn)}return 0};function Xa(sr,nr,cr){return cr<0&&(cr+=1),cr>=1&&(cr-=1),cr<1/6?(nr-sr)*cr*6+sr:cr<1/2?nr:cr<2/3?(nr-sr)*6*(2/3-cr)+sr:sr}var Rc=function(sr,nr){var cr=nr.filter(Ls),lr=cr[0],Sr=cr[1],Fr=cr[2],Vr=cr[3],fn=(lr.type===17?Ca(lr.number):rf.parse(sr,lr))/(Math.PI*2),dn=Us(Sr)?Sr.number/100:0,In=Us(Fr)?Fr.number/100:0,Ln=typeof Vr<"u"&&Us(Vr)?$s(Vr,1):1;if(dn===0)return Fo(In*255,In*255,In*255,1);var $n=In<=.5?In*(dn+1):In+dn-In*dn,ai=In*2-$n,Mi=Xa(ai,$n,fn+1/3),Ii=Xa(ai,$n,fn),ji=Xa(ai,$n,fn-1/3);return Fo(Mi*255,Ii*255,ji*255,Ln)},Jo={hsl:Rc,hsla:Rc,rgb:Lo,rgba:Lo},Ho=function(sr,nr){return pa.parse(sr,Qr.create(nr).parseComponentValue())},vo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Hl={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(sr,nr){return nr.map(function(cr){if(si(cr))switch(cr.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Da={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},el=function(sr,nr){var cr=pa.parse(sr,nr[0]),lr=nr[1];return lr&&Us(lr)?{color:cr,stop:lr}:{color:cr,stop:null}},Va=function(sr,nr){var cr=sr[0],lr=sr[sr.length-1];cr.stop===null&&(cr.stop=va),lr.stop===null&&(lr.stop=Zo);for(var Sr=[],Fr=0,Vr=0;Vr<sr.length;Vr++){var fn=sr[Vr].stop;if(fn!==null){var dn=$s(fn,nr);dn>Fr?Sr.push(dn):Sr.push(Fr),Fr=dn}else Sr.push(null)}for(var In=null,Vr=0;Vr<Sr.length;Vr++){var Ln=Sr[Vr];if(Ln===null)In===null&&(In=Vr);else if(In!==null){for(var $n=Vr-In,ai=Sr[In-1],Mi=(Ln-ai)/($n+1),Ii=1;Ii<=$n;Ii++)Sr[In+Ii-1]=Mi*Ii;In=null}}return sr.map(function(ji,_s){var Yi=ji.color;return{color:Yi,stop:Math.max(Math.min(1,Sr[_s]/nr),0)}})},tl=function(sr,nr,cr){var lr=nr/2,Sr=cr/2,Fr=$s(sr[0],nr)-lr,Vr=Sr-$s(sr[1],cr);return(Math.atan2(Vr,Fr)+Math.PI*2)%(Math.PI*2)},vu=function(sr,nr,cr){var lr=typeof sr=="number"?sr:tl(sr,nr,cr),Sr=Math.abs(nr*Math.sin(lr))+Math.abs(cr*Math.cos(lr)),Fr=nr/2,Vr=cr/2,fn=Sr/2,dn=Math.sin(lr-Math.PI/2)*fn,In=Math.cos(lr-Math.PI/2)*fn;return[Sr,Fr-In,Fr+In,Vr-dn,Vr+dn]},Ga=function(sr,nr){return Math.sqrt(sr*sr+nr*nr)},yu=function(sr,nr,cr,lr,Sr){var Fr=[[0,0],[0,nr],[sr,0],[sr,nr]];return Fr.reduce(function(Vr,fn){var dn=fn[0],In=fn[1],Ln=Ga(cr-dn,lr-In);return(Sr?Ln<Vr.optimumDistance:Ln>Vr.optimumDistance)?{optimumCorner:fn,optimumDistance:Ln}:Vr},{optimumDistance:Sr?1/0:-1/0,optimumCorner:null}).optimumCorner},eu=function(sr,nr,cr,lr,Sr){var Fr=0,Vr=0;switch(sr.size){case 0:sr.shape===0?Fr=Vr=Math.min(Math.abs(nr),Math.abs(nr-lr),Math.abs(cr),Math.abs(cr-Sr)):sr.shape===1&&(Fr=Math.min(Math.abs(nr),Math.abs(nr-lr)),Vr=Math.min(Math.abs(cr),Math.abs(cr-Sr)));break;case 2:if(sr.shape===0)Fr=Vr=Math.min(Ga(nr,cr),Ga(nr,cr-Sr),Ga(nr-lr,cr),Ga(nr-lr,cr-Sr));else if(sr.shape===1){var fn=Math.min(Math.abs(cr),Math.abs(cr-Sr))/Math.min(Math.abs(nr),Math.abs(nr-lr)),dn=yu(lr,Sr,nr,cr,!0),In=dn[0],Ln=dn[1];Fr=Ga(In-nr,(Ln-cr)/fn),Vr=fn*Fr}break;case 1:sr.shape===0?Fr=Vr=Math.max(Math.abs(nr),Math.abs(nr-lr),Math.abs(cr),Math.abs(cr-Sr)):sr.shape===1&&(Fr=Math.max(Math.abs(nr),Math.abs(nr-lr)),Vr=Math.max(Math.abs(cr),Math.abs(cr-Sr)));break;case 3:if(sr.shape===0)Fr=Vr=Math.max(Ga(nr,cr),Ga(nr,cr-Sr),Ga(nr-lr,cr),Ga(nr-lr,cr-Sr));else if(sr.shape===1){var fn=Math.max(Math.abs(cr),Math.abs(cr-Sr))/Math.max(Math.abs(nr),Math.abs(nr-lr)),$n=yu(lr,Sr,nr,cr,!1),In=$n[0],Ln=$n[1];Fr=Ga(In-nr,(Ln-cr)/fn),Vr=fn*Fr}break}return Array.isArray(sr.size)&&(Fr=$s(sr.size[0],lr),Vr=sr.size.length===2?$s(sr.size[1],Sr):Fr),[Fr,Vr]},tu=function(sr,nr){var cr=Ca(180),lr=[];return Is(nr).forEach(function(Sr,Fr){if(Fr===0){var Vr=Sr[0];if(Vr.type===20&&Vr.value==="to"){cr=Sf(Sr);return}else if(nf(Vr)){cr=rf.parse(sr,Vr);return}}var fn=el(sr,Sr);lr.push(fn)}),{angle:cr,stops:lr,type:1}},Ql=function(sr,nr){var cr=Ca(180),lr=[];return Is(nr).forEach(function(Sr,Fr){if(Fr===0){var Vr=Sr[0];if(Vr.type===20&&["top","left","right","bottom"].indexOf(Vr.value)!==-1){cr=Sf(Sr);return}else if(nf(Vr)){cr=(rf.parse(sr,Vr)+Ca(270))%Ca(360);return}}var fn=el(sr,Sr);lr.push(fn)}),{angle:cr,stops:lr,type:1}},xu=function(sr,nr){var cr=Ca(180),lr=[],Sr=1,Fr=0,Vr=3,fn=[];return Is(nr).forEach(function(dn,In){var Ln=dn[0];if(In===0){if(si(Ln)&&Ln.value==="linear"){Sr=1;return}else if(si(Ln)&&Ln.value==="radial"){Sr=2;return}}if(Ln.type===18){if(Ln.name==="from"){var $n=pa.parse(sr,Ln.values[0]);lr.push({stop:va,color:$n})}else if(Ln.name==="to"){var $n=pa.parse(sr,Ln.values[0]);lr.push({stop:Zo,color:$n})}else if(Ln.name==="color-stop"){var ai=Ln.values.filter(Ls);if(ai.length===2){var $n=pa.parse(sr,ai[1]),Mi=ai[0];Vn(Mi)&&lr.push({stop:{type:16,number:Mi.number*100,flags:Mi.flags},color:$n})}}}}),Sr===1?{angle:(cr+Ca(180))%Ca(360),stops:lr,type:Sr}:{size:Vr,shape:Fr,stops:lr,position:fn,type:Sr}},_u="closest-side",Ic="farthest-side",uc="closest-corner",ru="farthest-corner",Pa="circle",rl="ellipse",Cs="cover",Ps="contain",ha=function(sr,nr){var cr=0,lr=3,Sr=[],Fr=[];return Is(nr).forEach(function(Vr,fn){var dn=!0;if(fn===0){var In=!1;dn=Vr.reduce(function($n,ai){if(In)if(si(ai))switch(ai.value){case"center":return Fr.push(Xc),$n;case"top":case"left":return Fr.push(va),$n;case"right":case"bottom":return Fr.push(Zo),$n}else(Us(ai)||ra(ai))&&Fr.push(ai);else if(si(ai))switch(ai.value){case Pa:return cr=0,!1;case rl:return cr=1,!1;case"at":return In=!0,!1;case _u:return lr=0,!1;case Cs:case Ic:return lr=1,!1;case Ps:case uc:return lr=2,!1;case ru:return lr=3,!1}else if(ra(ai)||Us(ai))return Array.isArray(lr)||(lr=[]),lr.push(ai),!1;return $n},dn)}if(dn){var Ln=el(sr,Vr);Sr.push(Ln)}}),{size:lr,shape:cr,stops:Sr,position:Fr,type:2}},ya=function(sr,nr){var cr=0,lr=3,Sr=[],Fr=[];return Is(nr).forEach(function(Vr,fn){var dn=!0;if(fn===0?dn=Vr.reduce(function(Ln,$n){if(si($n))switch($n.value){case"center":return Fr.push(Xc),!1;case"top":case"left":return Fr.push(va),!1;case"right":case"bottom":return Fr.push(Zo),!1}else if(Us($n)||ra($n))return Fr.push($n),!1;return Ln},dn):fn===1&&(dn=Vr.reduce(function(Ln,$n){if(si($n))switch($n.value){case Pa:return cr=0,!1;case rl:return cr=1,!1;case Ps:case _u:return lr=0,!1;case Ic:return lr=1,!1;case uc:return lr=2,!1;case Cs:case ru:return lr=3,!1}else if(ra($n)||Us($n))return Array.isArray(lr)||(lr=[]),lr.push($n),!1;return Ln},dn)),dn){var In=el(sr,Vr);Sr.push(In)}}),{size:lr,shape:cr,stops:Sr,position:Fr,type:2}},Tl=function(sr){return sr.type===1},nu=function(sr){return sr.type===2},fc={name:"image",parse:function(sr,nr){if(nr.type===22){var cr={url:nr.value,type:0};return sr.cache.addImage(nr.value),cr}if(nr.type===18){var lr=Tf[nr.name];if(typeof lr>"u")throw new Error('Attempting to parse an unsupported image function "'+nr.name+'"');return lr(sr,nr.values)}throw new Error("Unsupported image type "+nr.type)}};function Bc(sr){return!(sr.type===20&&sr.value==="none")&&(sr.type!==18||!!Tf[sr.name])}var Tf={"linear-gradient":tu,"-moz-linear-gradient":Ql,"-ms-linear-gradient":Ql,"-o-linear-gradient":Ql,"-webkit-linear-gradient":Ql,"radial-gradient":ha,"-moz-radial-gradient":ya,"-ms-radial-gradient":ya,"-o-radial-gradient":ya,"-webkit-radial-gradient":ya,"-webkit-gradient":xu},bu={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(sr,nr){if(nr.length===0)return[];var cr=nr[0];return cr.type===20&&cr.value==="none"?[]:nr.filter(function(lr){return Ls(lr)&&Bc(lr)}).map(function(lr){return fc.parse(sr,lr)})}},yo={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(sr,nr){return nr.map(function(cr){if(si(cr))switch(cr.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Cl={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(sr,nr){return Is(nr).map(function(cr){return cr.filter(Us)}).map(Vl)}},Oo={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(sr,nr){return Is(nr).map(function(cr){return cr.filter(si).map(function(lr){return lr.value}).join(" ")}).map(sf)}},sf=function(sr){switch(sr){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Qo;(function(sr){sr.AUTO="auto",sr.CONTAIN="contain",sr.COVER="cover"})(Qo||(Qo={}));var Cf={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(sr,nr){return Is(nr).map(function(cr){return cr.filter(Eu)})}},Eu=function(sr){return si(sr)||Us(sr)},Pl=function(sr){return{name:"border-"+sr+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Xf=Pl("top"),Pf=Pl("right"),iu=Pl("bottom"),jc=Pl("left"),Dc=function(sr){return{name:"border-radius-"+sr,initialValue:"0 0",prefix:!1,type:1,parse:function(nr,cr){return Vl(cr.filter(Us))}}},Zf=Dc("top-left"),Rl=Dc("top-right"),hl=Dc("bottom-right"),wu=Dc("bottom-left"),Il=function(sr){return{name:"border-"+sr+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(nr,cr){switch(cr){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Fc=Il("top"),Su=Il("right"),oh=Il("bottom"),Rf=Il("left"),su=function(sr){return{name:"border-"+sr+"-width",initialValue:"0",type:0,prefix:!1,parse:function(nr,cr){return Dn(cr)?cr.number:0}}},Za=su("top"),Fa=su("right"),Ws=su("bottom"),au=su("left"),dc={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Id={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(sr,nr){switch(nr){case"rtl":return 1;case"ltr":default:return 0}}},Tu={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(sr,nr){return nr.filter(si).reduce(function(cr,lr){return cr|lh(lr.value)},0)}},lh=function(sr){switch(sr){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Lc={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(sr,nr){switch(nr){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},zo={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(sr,nr){return nr.type===20&&nr.value==="normal"?0:nr.type===17||nr.type===15?nr.number:0}},No;(function(sr){sr.NORMAL="normal",sr.STRICT="strict"})(No||(No={}));var ch={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(sr,nr){switch(nr){case"strict":return No.STRICT;case"normal":default:return No.NORMAL}}},af={name:"line-height",initialValue:"normal",prefix:!1,type:4},zl=function(sr,nr){return si(sr)&&sr.value==="normal"?1.2*nr:sr.type===17?nr*sr.number:Us(sr)?$s(sr,nr):nr},xo={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(sr,nr){return nr.type===20&&nr.value==="none"?null:fc.parse(sr,nr)}},Oc={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(sr,nr){switch(nr){case"inside":return 0;case"outside":default:return 1}}},hc={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(sr,nr){switch(nr){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Al=function(sr){return{name:"margin-"+sr,initialValue:"0",prefix:!1,type:4}},Jf=Al("top"),ed=Al("right"),of=Al("bottom"),rd=Al("left"),Ac={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(sr,nr){return nr.filter(si).map(function(cr){switch(cr.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Ja={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(sr,nr){switch(nr){case"break-word":return"break-word";case"normal":default:return"normal"}}},Kl=function(sr){return{name:"padding-"+sr,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},nd=Kl("top"),kh=Kl("right"),uh=Kl("bottom"),Mh=Kl("left"),eo={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(sr,nr){switch(nr){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Bd={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(sr,nr){switch(nr){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},If={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(sr,nr){return nr.length===1&&Ts(nr[0],"none")?[]:Is(nr).map(function(cr){for(var lr={color:vo.TRANSPARENT,offsetX:va,offsetY:va,blur:va},Sr=0,Fr=0;Fr<cr.length;Fr++){var Vr=cr[Fr];ra(Vr)?(Sr===0?lr.offsetX=Vr:Sr===1?lr.offsetY=Vr:lr.blur=Vr,Sr++):lr.color=pa.parse(sr,Vr)}return lr})}},Bf={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(sr,nr){switch(nr){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},jd={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(sr,nr){if(nr.type===20&&nr.value==="none")return null;if(nr.type===18){var cr=Uh[nr.name];if(typeof cr>"u")throw new Error('Attempting to parse an unsupported transform function "'+nr.name+'"');return cr(nr.values)}return null}},Cu=function(sr){var nr=sr.filter(function(cr){return cr.type===17}).map(function(cr){return cr.number});return nr.length===6?nr:null},Nc=function(sr){var nr=sr.filter(function(dn){return dn.type===17}).map(function(dn){return dn.number}),cr=nr[0],lr=nr[1];nr[2],nr[3];var Sr=nr[4],Fr=nr[5];nr[6],nr[7],nr[8],nr[9],nr[10],nr[11];var Vr=nr[12],fn=nr[13];return nr[14],nr[15],nr.length===16?[cr,lr,Sr,Fr,Vr,fn]:null},Uh={matrix:Cu,matrix3d:Nc},Dd={type:16,number:50,flags:ys},fh=[Dd,Dd],tr={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(sr,nr){var cr=nr.filter(Us);return cr.length!==2?fh:[cr[0],cr[1]]}},dr={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(sr,nr){switch(nr){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},xr;(function(sr){sr.NORMAL="normal",sr.BREAK_ALL="break-all",sr.KEEP_ALL="keep-all"})(xr||(xr={}));for(var Br={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(sr,nr){switch(nr){case"break-all":return xr.BREAK_ALL;case"keep-all":return xr.KEEP_ALL;case"normal":default:return xr.NORMAL}}},Nr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(sr,nr){if(nr.type===20)return{auto:!0,order:0};if(Vn(nr))return{auto:!1,order:nr.number};throw new Error("Invalid z-index number parsed")}},$r={name:"time",parse:function(sr,nr){if(nr.type===15)switch(nr.unit.toLowerCase()){case"s":return 1e3*nr.number;case"ms":return nr.number}throw new Error("Unsupported time type")}},Hr={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(sr,nr){return Vn(nr)?nr.number:1}},zr={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Gr={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(sr,nr){return nr.filter(si).map(function(cr){switch(cr.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(cr){return cr!==0})}},hn={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(sr,nr){var cr=[],lr=[];return nr.forEach(function(Sr){switch(Sr.type){case 20:case 0:cr.push(Sr.value);break;case 17:cr.push(Sr.number.toString());break;case 4:lr.push(cr.join(" ")),cr.length=0;break}}),cr.length&&lr.push(cr.join(" ")),lr.map(function(Sr){return Sr.indexOf(" ")===-1?Sr:"'"+Sr+"'"})}},Tn={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},zn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(sr,nr){if(Vn(nr))return nr.number;if(si(nr))switch(nr.value){case"bold":return 700;case"normal":default:return 400}return 400}},Hn={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(sr,nr){return nr.filter(si).map(function(cr){return cr.value})}},kn={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(sr,nr){switch(nr){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ri=function(sr,nr){return(sr&nr)!==0},ei={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(sr,nr){if(nr.length===0)return[];var cr=nr[0];return cr.type===20&&cr.value==="none"?[]:nr}},Rn={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(sr,nr){if(nr.length===0)return null;var cr=nr[0];if(cr.type===20&&cr.value==="none")return null;for(var lr=[],Sr=nr.filter(ps),Fr=0;Fr<Sr.length;Fr++){var Vr=Sr[Fr],fn=Sr[Fr+1];if(Vr.type===20){var dn=fn&&Vn(fn)?fn.number:1;lr.push({counter:Vr.value,increment:dn})}}return lr}},Fn={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(sr,nr){if(nr.length===0)return[];for(var cr=[],lr=nr.filter(ps),Sr=0;Sr<lr.length;Sr++){var Fr=lr[Sr],Vr=lr[Sr+1];if(si(Fr)&&Fr.value!=="none"){var fn=Vr&&Vn(Vr)?Vr.number:0;cr.push({counter:Fr.value,reset:fn})}}return cr}},oi={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(sr,nr){return nr.filter(Dn).map(function(cr){return $r.parse(sr,cr)})}},hi={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(sr,nr){if(nr.length===0)return null;var cr=nr[0];if(cr.type===20&&cr.value==="none")return null;var lr=[],Sr=nr.filter(ls);if(Sr.length%2!==0)return null;for(var Fr=0;Fr<Sr.length;Fr+=2){var Vr=Sr[Fr].value,fn=Sr[Fr+1].value;lr.push({open:Vr,close:fn})}return lr}},fi=function(sr,nr,cr){if(!sr)return"";var lr=sr[Math.min(nr,sr.length-1)];return lr?cr?lr.open:lr.close:""},Ki={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(sr,nr){return nr.length===1&&Ts(nr[0],"none")?[]:Is(nr).map(function(cr){for(var lr={color:255,offsetX:va,offsetY:va,blur:va,spread:va,inset:!1},Sr=0,Fr=0;Fr<cr.length;Fr++){var Vr=cr[Fr];Ts(Vr,"inset")?lr.inset=!0:ra(Vr)?(Sr===0?lr.offsetX=Vr:Sr===1?lr.offsetY=Vr:Sr===2?lr.blur=Vr:lr.spread=Vr,Sr++):lr.color=pa.parse(sr,Vr)}return lr})}},Oi={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(sr,nr){var cr=[0,1,2],lr=[];return nr.filter(si).forEach(function(Sr){switch(Sr.value){case"stroke":lr.push(1);break;case"fill":lr.push(0);break;case"markers":lr.push(2);break}}),cr.forEach(function(Sr){lr.indexOf(Sr)===-1&&lr.push(Sr)}),lr}},es={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ki={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(sr,nr){return Dn(nr)?nr.number:0}},zs=function(){function sr(nr,cr){var lr,Sr;this.animationDuration=yi(nr,oi,cr.animationDuration),this.backgroundClip=yi(nr,Hl,cr.backgroundClip),this.backgroundColor=yi(nr,Da,cr.backgroundColor),this.backgroundImage=yi(nr,bu,cr.backgroundImage),this.backgroundOrigin=yi(nr,yo,cr.backgroundOrigin),this.backgroundPosition=yi(nr,Cl,cr.backgroundPosition),this.backgroundRepeat=yi(nr,Oo,cr.backgroundRepeat),this.backgroundSize=yi(nr,Cf,cr.backgroundSize),this.borderTopColor=yi(nr,Xf,cr.borderTopColor),this.borderRightColor=yi(nr,Pf,cr.borderRightColor),this.borderBottomColor=yi(nr,iu,cr.borderBottomColor),this.borderLeftColor=yi(nr,jc,cr.borderLeftColor),this.borderTopLeftRadius=yi(nr,Zf,cr.borderTopLeftRadius),this.borderTopRightRadius=yi(nr,Rl,cr.borderTopRightRadius),this.borderBottomRightRadius=yi(nr,hl,cr.borderBottomRightRadius),this.borderBottomLeftRadius=yi(nr,wu,cr.borderBottomLeftRadius),this.borderTopStyle=yi(nr,Fc,cr.borderTopStyle),this.borderRightStyle=yi(nr,Su,cr.borderRightStyle),this.borderBottomStyle=yi(nr,oh,cr.borderBottomStyle),this.borderLeftStyle=yi(nr,Rf,cr.borderLeftStyle),this.borderTopWidth=yi(nr,Za,cr.borderTopWidth),this.borderRightWidth=yi(nr,Fa,cr.borderRightWidth),this.borderBottomWidth=yi(nr,Ws,cr.borderBottomWidth),this.borderLeftWidth=yi(nr,au,cr.borderLeftWidth),this.boxShadow=yi(nr,Ki,cr.boxShadow),this.color=yi(nr,dc,cr.color),this.direction=yi(nr,Id,cr.direction),this.display=yi(nr,Tu,cr.display),this.float=yi(nr,Lc,cr.cssFloat),this.fontFamily=yi(nr,hn,cr.fontFamily),this.fontSize=yi(nr,Tn,cr.fontSize),this.fontStyle=yi(nr,kn,cr.fontStyle),this.fontVariant=yi(nr,Hn,cr.fontVariant),this.fontWeight=yi(nr,zn,cr.fontWeight),this.letterSpacing=yi(nr,zo,cr.letterSpacing),this.lineBreak=yi(nr,ch,cr.lineBreak),this.lineHeight=yi(nr,af,cr.lineHeight),this.listStyleImage=yi(nr,xo,cr.listStyleImage),this.listStylePosition=yi(nr,Oc,cr.listStylePosition),this.listStyleType=yi(nr,hc,cr.listStyleType),this.marginTop=yi(nr,Jf,cr.marginTop),this.marginRight=yi(nr,ed,cr.marginRight),this.marginBottom=yi(nr,of,cr.marginBottom),this.marginLeft=yi(nr,rd,cr.marginLeft),this.opacity=yi(nr,Hr,cr.opacity);var Fr=yi(nr,Ac,cr.overflow);this.overflowX=Fr[0],this.overflowY=Fr[Fr.length>1?1:0],this.overflowWrap=yi(nr,Ja,cr.overflowWrap),this.paddingTop=yi(nr,nd,cr.paddingTop),this.paddingRight=yi(nr,kh,cr.paddingRight),this.paddingBottom=yi(nr,uh,cr.paddingBottom),this.paddingLeft=yi(nr,Mh,cr.paddingLeft),this.paintOrder=yi(nr,Oi,cr.paintOrder),this.position=yi(nr,Bd,cr.position),this.textAlign=yi(nr,eo,cr.textAlign),this.textDecorationColor=yi(nr,zr,(lr=cr.textDecorationColor)!==null&&lr!==void 0?lr:cr.color),this.textDecorationLine=yi(nr,Gr,(Sr=cr.textDecorationLine)!==null&&Sr!==void 0?Sr:cr.textDecoration),this.textShadow=yi(nr,If,cr.textShadow),this.textTransform=yi(nr,Bf,cr.textTransform),this.transform=yi(nr,jd,cr.transform),this.transformOrigin=yi(nr,tr,cr.transformOrigin),this.visibility=yi(nr,dr,cr.visibility),this.webkitTextStrokeColor=yi(nr,es,cr.webkitTextStrokeColor),this.webkitTextStrokeWidth=yi(nr,ki,cr.webkitTextStrokeWidth),this.wordBreak=yi(nr,Br,cr.wordBreak),this.zIndex=yi(nr,Nr,cr.zIndex)}return sr.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},sr.prototype.isTransparent=function(){return Vo(this.backgroundColor)},sr.prototype.isTransformed=function(){return this.transform!==null},sr.prototype.isPositioned=function(){return this.position!==0},sr.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},sr.prototype.isFloating=function(){return this.float!==0},sr.prototype.isInlineLevel=function(){return ri(this.display,4)||ri(this.display,33554432)||ri(this.display,268435456)||ri(this.display,536870912)||ri(this.display,67108864)||ri(this.display,134217728)},sr}(),qs=function(){function sr(nr,cr){this.content=yi(nr,ei,cr.content),this.quotes=yi(nr,hi,cr.quotes)}return sr}(),Es=function(){function sr(nr,cr){this.counterIncrement=yi(nr,Rn,cr.counterIncrement),this.counterReset=yi(nr,Fn,cr.counterReset)}return sr}(),yi=function(sr,nr,cr){var lr=new Dr,Sr=cr!==null&&typeof cr<"u"?cr.toString():nr.initialValue;lr.write(Sr);var Fr=new Qr(lr.read());switch(nr.type){case 2:var Vr=Fr.parseComponentValue();return nr.parse(sr,si(Vr)?Vr.value:nr.initialValue);case 0:return nr.parse(sr,Fr.parseComponentValue());case 1:return nr.parse(sr,Fr.parseComponentValues());case 4:return Fr.parseComponentValue();case 3:switch(nr.format){case"angle":return rf.parse(sr,Fr.parseComponentValue());case"color":return pa.parse(sr,Fr.parseComponentValue());case"image":return fc.parse(sr,Fr.parseComponentValue());case"length":var fn=Fr.parseComponentValue();return ra(fn)?fn:va;case"length-percentage":var dn=Fr.parseComponentValue();return Us(dn)?dn:va;case"time":return $r.parse(sr,Fr.parseComponentValue())}break}},na="data-html2canvas-debug",Ys=function(sr){var nr=sr.getAttribute(na);switch(nr){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},hs=function(sr,nr){var cr=Ys(sr);return cr===1||nr===cr},Ds=function(){function sr(nr,cr){if(this.context=nr,this.textNodes=[],this.elements=[],this.flags=0,hs(cr,3))debugger;this.styles=new zs(nr,window.getComputedStyle(cr,null)),uo(cr)&&(this.styles.animationDuration.some(function(lr){return lr>0})&&(cr.style.animationDuration="0s"),this.styles.transform!==null&&(cr.style.transform="none")),this.bounds=Fe(this.context,cr),hs(cr,4)&&(this.flags|=16)}return sr}(),ns="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",cs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bs=typeof Uint8Array>"u"?[]:new Uint8Array(256),Os=0;Os<cs.length;Os++)Bs[cs.charCodeAt(Os)]=Os;for(var bo=function(sr){var nr=sr.length*.75,cr=sr.length,lr,Sr=0,Fr,Vr,fn,dn;sr[sr.length-1]==="="&&(nr--,sr[sr.length-2]==="="&&nr--);var In=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(nr):new Array(nr),Ln=Array.isArray(In)?In:new Uint8Array(In);for(lr=0;lr<cr;lr+=4)Fr=Bs[sr.charCodeAt(lr)],Vr=Bs[sr.charCodeAt(lr+1)],fn=Bs[sr.charCodeAt(lr+2)],dn=Bs[sr.charCodeAt(lr+3)],Ln[Sr++]=Fr<<2|Vr>>4,Ln[Sr++]=(Vr&15)<<4|fn>>2,Ln[Sr++]=(fn&3)<<6|dn&63;return In},oo=function(sr){for(var nr=sr.length,cr=[],lr=0;lr<nr;lr+=2)cr.push(sr[lr+1]<<8|sr[lr]);return cr},Ha=function(sr){for(var nr=sr.length,cr=[],lr=0;lr<nr;lr+=4)cr.push(sr[lr+3]<<24|sr[lr+2]<<16|sr[lr+1]<<8|sr[lr]);return cr},la=5,La=11,nl=2,Xs=La-la,Qa=65536>>la,Wl=1<<la,pc=Wl-1,Pu=1024>>la,ou=Qa+Pu,xa=ou,jf=32,sd=xa+jf,Ko=65536>>La,Ra=1<<Xs,Ru=Ra-1,kc=function(sr,nr,cr){return sr.slice?sr.slice(nr,cr):new Uint16Array(Array.prototype.slice.call(sr,nr,cr))},il=function(sr,nr,cr){return sr.slice?sr.slice(nr,cr):new Uint32Array(Array.prototype.slice.call(sr,nr,cr))},lu=function(sr,nr){var cr=bo(sr),lr=Array.isArray(cr)?Ha(cr):new Uint32Array(cr),Sr=Array.isArray(cr)?oo(cr):new Uint16Array(cr),Fr=24,Vr=kc(Sr,Fr/2,lr[4]/2),fn=lr[5]===2?kc(Sr,(Fr+lr[4])/2):il(lr,Math.ceil((Fr+lr[4])/4));return new sl(lr[0],lr[1],lr[2],lr[3],Vr,fn)},sl=function(){function sr(nr,cr,lr,Sr,Fr,Vr){this.initialValue=nr,this.errorValue=cr,this.highStart=lr,this.highValueIndex=Sr,this.index=Fr,this.data=Vr}return sr.prototype.get=function(nr){var cr;if(nr>=0){if(nr<55296||nr>56319&&nr<=65535)return cr=this.index[nr>>la],cr=(cr<<nl)+(nr&pc),this.data[cr];if(nr<=65535)return cr=this.index[Qa+(nr-55296>>la)],cr=(cr<<nl)+(nr&pc),this.data[cr];if(nr<this.highStart)return cr=sd-Ko+(nr>>La),cr=this.index[cr],cr+=nr>>la&Ru,cr=this.index[cr],cr=(cr<<nl)+(nr&pc),this.data[cr];if(nr<=1114111)return this.data[this.highValueIndex]}return this.errorValue},sr}(),lf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cf=typeof Uint8Array>"u"?[]:new Uint8Array(256),Iu=0;Iu<lf.length;Iu++)cf[lf.charCodeAt(Iu)]=Iu;var Df=1,uf=2,Bu=3,ju=4,Fd=5,dh=7,ff=8,Gl=9,Ld=10,Od=11,Nd=12,ad=13,Du=14,Ff=15,kd=function(sr){for(var nr=[],cr=0,lr=sr.length;cr<lr;){var Sr=sr.charCodeAt(cr++);if(Sr>=55296&&Sr<=56319&&cr<lr){var Fr=sr.charCodeAt(cr++);(Fr&64512)===56320?nr.push(((Sr&1023)<<10)+(Fr&1023)+65536):(nr.push(Sr),cr--)}else nr.push(Sr)}return nr},Lf=function(){for(var sr=[],nr=0;nr<arguments.length;nr++)sr[nr]=arguments[nr];if(String.fromCodePoint)return String.fromCodePoint.apply(String,sr);var cr=sr.length;if(!cr)return"";for(var lr=[],Sr=-1,Fr="";++Sr<cr;){var Vr=sr[Sr];Vr<=65535?lr.push(Vr):(Vr-=65536,lr.push((Vr>>10)+55296,Vr%1024+56320)),(Sr+1===cr||lr.length>16384)&&(Fr+=String.fromCharCode.apply(String,lr),lr.length=0)}return Fr},od=lu(ns),So="",ld="",hh=function(sr){return od.get(sr)},Mc=function(sr,nr,cr){var lr=cr-2,Sr=nr[lr],Fr=nr[cr-1],Vr=nr[cr];if(Fr===uf&&Vr===Bu)return So;if(Fr===uf||Fr===Bu||Fr===ju||Vr===uf||Vr===Bu||Vr===ju)return ld;if(Fr===ff&&[ff,Gl,Od,Nd].indexOf(Vr)!==-1||(Fr===Od||Fr===Gl)&&(Vr===Gl||Vr===Ld)||(Fr===Nd||Fr===Ld)&&Vr===Ld||Vr===ad||Vr===Fd||Vr===dh||Fr===Df)return So;if(Fr===ad&&Vr===Du){for(;Sr===Fd;)Sr=nr[--lr];if(Sr===Du)return So}if(Fr===Ff&&Vr===Ff){for(var fn=0;Sr===Ff;)fn++,Sr=nr[--lr];if(fn%2===0)return So}return ld},Of=function(sr){var nr=kd(sr),cr=nr.length,lr=0,Sr=0,Fr=nr.map(hh);return{next:function(){if(lr>=cr)return{done:!0,value:null};for(var Vr=So;lr<cr&&(Vr=Mc(nr,Fr,++lr))===So;);if(Vr!==So||lr===cr){var fn=Lf.apply(null,nr.slice(Sr,lr));return Sr=lr,{value:fn,done:!1}}return{done:!0,value:null}}}},cd=function(sr){for(var nr=Of(sr),cr=[],lr;!(lr=nr.next()).done;)lr.value&&cr.push(lr.value.slice());return cr},ql=function(sr){var nr=123;if(sr.createRange){var cr=sr.createRange();if(cr.getBoundingClientRect){var lr=sr.createElement("boundtest");lr.style.height=nr+"px",lr.style.display="block",sr.body.appendChild(lr),cr.selectNode(lr);var Sr=cr.getBoundingClientRect(),Fr=Math.round(Sr.height);if(sr.body.removeChild(lr),Fr===nr)return!0}}return!1},df=function(sr){var nr=sr.createElement("boundtest");nr.style.width="50px",nr.style.display="block",nr.style.fontSize="12px",nr.style.letterSpacing="0px",nr.style.wordSpacing="0px",sr.body.appendChild(nr);var cr=sr.createRange();nr.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var lr=nr.firstChild,Sr=ke(lr.data).map(function(dn){return Me(dn)}),Fr=0,Vr={},fn=Sr.every(function(dn,In){cr.setStart(lr,Fr),cr.setEnd(lr,Fr+dn.length);var Ln=cr.getBoundingClientRect();Fr+=dn.length;var $n=Ln.x>Vr.x||Ln.y>Vr.y;return Vr=Ln,In===0?!0:$n});return sr.body.removeChild(nr),fn},Md=function(){return typeof new Image().crossOrigin<"u"},Ah=function(){return typeof new XMLHttpRequest().responseType=="string"},Ud=function(sr){var nr=new Image,cr=sr.createElement("canvas"),lr=cr.getContext("2d");if(!lr)return!1;nr.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{lr.drawImage(nr,0,0),cr.toDataURL()}catch{return!1}return!0},cu=function(sr){return sr[0]===0&&sr[1]===255&&sr[2]===0&&sr[3]===255},ph=function(sr){var nr=sr.createElement("canvas"),cr=100;nr.width=cr,nr.height=cr;var lr=nr.getContext("2d");if(!lr)return Promise.reject(!1);lr.fillStyle="rgb(0, 255, 0)",lr.fillRect(0,0,cr,cr);var Sr=new Image,Fr=nr.toDataURL();Sr.src=Fr;var Vr=Nf(cr,cr,0,0,Sr);return lr.fillStyle="red",lr.fillRect(0,0,cr,cr),ud(Vr).then(function(fn){lr.drawImage(fn,0,0);var dn=lr.getImageData(0,0,cr,cr).data;lr.fillStyle="red",lr.fillRect(0,0,cr,cr);var In=sr.createElement("div");return In.style.backgroundImage="url("+Fr+")",In.style.height=cr+"px",cu(dn)?ud(Nf(cr,cr,0,0,In)):Promise.reject(!1)}).then(function(fn){return lr.drawImage(fn,0,0),cu(lr.getImageData(0,0,cr,cr).data)}).catch(function(){return!1})},Nf=function(sr,nr,cr,lr,Sr){var Fr="http://www.w3.org/2000/svg",Vr=document.createElementNS(Fr,"svg"),fn=document.createElementNS(Fr,"foreignObject");return Vr.setAttributeNS(null,"width",sr.toString()),Vr.setAttributeNS(null,"height",nr.toString()),fn.setAttributeNS(null,"width","100%"),fn.setAttributeNS(null,"height","100%"),fn.setAttributeNS(null,"x",cr.toString()),fn.setAttributeNS(null,"y",lr.toString()),fn.setAttributeNS(null,"externalResourcesRequired","true"),Vr.appendChild(fn),fn.appendChild(Sr),Vr},ud=function(sr){return new Promise(function(nr,cr){var lr=new Image;lr.onload=function(){return nr(lr)},lr.onerror=cr,lr.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(sr))})},co={get SUPPORT_RANGE_BOUNDS(){var sr=ql(document);return Object.defineProperty(co,"SUPPORT_RANGE_BOUNDS",{value:sr}),sr},get SUPPORT_WORD_BREAKING(){var sr=co.SUPPORT_RANGE_BOUNDS&&df(document);return Object.defineProperty(co,"SUPPORT_WORD_BREAKING",{value:sr}),sr},get SUPPORT_SVG_DRAWING(){var sr=Ud(document);return Object.defineProperty(co,"SUPPORT_SVG_DRAWING",{value:sr}),sr},get SUPPORT_FOREIGNOBJECT_DRAWING(){var sr=typeof Array.from=="function"&&typeof window.fetch=="function"?ph(document):Promise.resolve(!1);return Object.defineProperty(co,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:sr}),sr},get SUPPORT_CORS_IMAGES(){var sr=Md();return Object.defineProperty(co,"SUPPORT_CORS_IMAGES",{value:sr}),sr},get SUPPORT_RESPONSE_TYPE(){var sr=Ah();return Object.defineProperty(co,"SUPPORT_RESPONSE_TYPE",{value:sr}),sr},get SUPPORT_CORS_XHR(){var sr="withCredentials"in new XMLHttpRequest;return Object.defineProperty(co,"SUPPORT_CORS_XHR",{value:sr}),sr},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var sr=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(co,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:sr}),sr}},hf=function(){function sr(nr,cr){this.text=nr,this.bounds=cr}return sr}(),Fu=function(sr,nr,cr,lr){var Sr=Uc(nr,cr),Fr=[],Vr=0;return Sr.forEach(function(fn){if(cr.textDecorationLine.length||fn.trim().length>0)if(co.SUPPORT_RANGE_BOUNDS){var dn=Af(lr,Vr,fn.length).getClientRects();if(dn.length>1){var In=Yl(fn),Ln=0;In.forEach(function(ai){Fr.push(new hf(ai,De.fromDOMRectList(sr,Af(lr,Ln+Vr,ai.length).getClientRects()))),Ln+=ai.length})}else Fr.push(new hf(fn,De.fromDOMRectList(sr,dn)))}else{var $n=lr.splitText(fn.length);Fr.push(new hf(fn,dd(sr,lr))),lr=$n}else co.SUPPORT_RANGE_BOUNDS||(lr=lr.splitText(fn.length));Vr+=fn.length}),Fr},dd=function(sr,nr){var cr=nr.ownerDocument;if(cr){var lr=cr.createElement("html2canvaswrapper");lr.appendChild(nr.cloneNode(!0));var Sr=nr.parentNode;if(Sr){Sr.replaceChild(lr,nr);var Fr=Fe(sr,lr);return lr.firstChild&&Sr.replaceChild(lr.firstChild,lr),Fr}}return De.EMPTY},Af=function(sr,nr,cr){var lr=sr.ownerDocument;if(!lr)throw new Error("Node has no owner document");var Sr=lr.createRange();return Sr.setStart(sr,nr),Sr.setEnd(sr,nr+cr),Sr},Yl=function(sr){if(co.SUPPORT_NATIVE_TEXT_SEGMENTATION){var nr=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(nr.segment(sr)).map(function(cr){return cr.segment})}return cd(sr)},mc=function(sr,nr){if(co.SUPPORT_NATIVE_TEXT_SEGMENTATION){var cr=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(cr.segment(sr)).map(function(lr){return lr.segment})}return Mf(sr,nr)},Uc=function(sr,nr){return nr.letterSpacing!==0?Yl(sr):mc(sr,nr)},kf=[32,160,4961,65792,65793,4153,4241],Mf=function(sr,nr){for(var cr=Ei(sr,{lineBreak:nr.lineBreak,wordBreak:nr.overflowWrap==="break-word"?"break-word":nr.wordBreak}),lr=[],Sr,Fr=function(){if(Sr.value){var Vr=Sr.value.slice(),fn=ke(Vr),dn="";fn.forEach(function(In){kf.indexOf(In)===-1?dn+=Me(In):(dn.length&&lr.push(dn),lr.push(Me(In)),dn="")}),dn.length&&lr.push(dn)}};!(Sr=cr.next()).done;)Fr();return lr},$d=function(){function sr(nr,cr,lr){this.text=mh(cr.data,lr.textTransform),this.textBounds=Fu(nr,this.text,lr,cr)}return sr}(),mh=function(sr,nr){switch(nr){case 1:return sr.toLowerCase();case 3:return sr.replace(Vd,Hd);case 2:return sr.toUpperCase();default:return sr}},Vd=/(^|\s|:|-|\(|\))([a-z])/g,Hd=function(sr,nr,cr){return sr.length>0?nr+cr.toUpperCase():sr},$h=function(sr){Pe(nr,sr);function nr(cr,lr){var Sr=sr.call(this,cr,lr)||this;return Sr.src=lr.currentSrc||lr.src,Sr.intrinsicWidth=lr.naturalWidth,Sr.intrinsicHeight=lr.naturalHeight,Sr.context.cache.addImage(Sr.src),Sr}return nr}(Ds),hd=function(sr){Pe(nr,sr);function nr(cr,lr){var Sr=sr.call(this,cr,lr)||this;return Sr.canvas=lr,Sr.intrinsicWidth=lr.width,Sr.intrinsicHeight=lr.height,Sr}return nr}(Ds),gh=function(sr){Pe(nr,sr);function nr(cr,lr){var Sr=sr.call(this,cr,lr)||this,Fr=new XMLSerializer,Vr=Fe(cr,lr);return lr.setAttribute("width",Vr.width+"px"),lr.setAttribute("height",Vr.height+"px"),Sr.svg="data:image/svg+xml,"+encodeURIComponent(Fr.serializeToString(lr)),Sr.intrinsicWidth=lr.width.baseVal.value,Sr.intrinsicHeight=lr.height.baseVal.value,Sr.context.cache.addImage(Sr.svg),Sr}return nr}(Ds),Qd=function(sr){Pe(nr,sr);function nr(cr,lr){var Sr=sr.call(this,cr,lr)||this;return Sr.value=lr.value,Sr}return nr}(Ds),yh=function(sr){Pe(nr,sr);function nr(cr,lr){var Sr=sr.call(this,cr,lr)||this;return Sr.start=lr.start,Sr.reversed=typeof lr.reversed=="boolean"&&lr.reversed===!0,Sr}return nr}(Ds),wA=[{type:15,flags:0,unit:"px",number:3}],xh=[{type:16,flags:0,number:50}],SA=function(sr){return sr.width>sr.height?new De(sr.left+(sr.width-sr.height)/2,sr.top,sr.height,sr.height):sr.width<sr.height?new De(sr.left,sr.top+(sr.height-sr.width)/2,sr.width,sr.width):sr},TA=function(sr){var nr=sr.type===zd?new Array(sr.value.length+1).join(""):sr.value;return nr.length===0?sr.placeholder||"":nr},_h="checkbox",Lu="radio",zd="password",Kd=707406591,Uf=function(sr){Pe(nr,sr);function nr(cr,lr){var Sr=sr.call(this,cr,lr)||this;switch(Sr.type=lr.type.toLowerCase(),Sr.checked=lr.checked,Sr.value=TA(lr),(Sr.type===_h||Sr.type===Lu)&&(Sr.styles.backgroundColor=3739148031,Sr.styles.borderTopColor=Sr.styles.borderRightColor=Sr.styles.borderBottomColor=Sr.styles.borderLeftColor=2779096575,Sr.styles.borderTopWidth=Sr.styles.borderRightWidth=Sr.styles.borderBottomWidth=Sr.styles.borderLeftWidth=1,Sr.styles.borderTopStyle=Sr.styles.borderRightStyle=Sr.styles.borderBottomStyle=Sr.styles.borderLeftStyle=1,Sr.styles.backgroundClip=[0],Sr.styles.backgroundOrigin=[0],Sr.bounds=SA(Sr.bounds)),Sr.type){case _h:Sr.styles.borderTopRightRadius=Sr.styles.borderTopLeftRadius=Sr.styles.borderBottomRightRadius=Sr.styles.borderBottomLeftRadius=wA;break;case Lu:Sr.styles.borderTopRightRadius=Sr.styles.borderTopLeftRadius=Sr.styles.borderBottomRightRadius=Sr.styles.borderBottomLeftRadius=xh;break}return Sr}return nr}(Ds),Wd=function(sr){Pe(nr,sr);function nr(cr,lr){var Sr=sr.call(this,cr,lr)||this,Fr=lr.options[lr.selectedIndex||0];return Sr.value=Fr&&Fr.text||"",Sr}return nr}(Ds),Vh=function(sr){Pe(nr,sr);function nr(cr,lr){var Sr=sr.call(this,cr,lr)||this;return Sr.value=lr.value,Sr}return nr}(Ds),Hh=function(sr){Pe(nr,sr);function nr(cr,lr){var Sr=sr.call(this,cr,lr)||this;Sr.src=lr.src,Sr.width=parseInt(lr.width,10)||0,Sr.height=parseInt(lr.height,10)||0,Sr.backgroundColor=Sr.styles.backgroundColor;try{if(lr.contentWindow&&lr.contentWindow.document&&lr.contentWindow.document.documentElement){Sr.tree=$c(cr,lr.contentWindow.document.documentElement);var Fr=lr.contentWindow.document.documentElement?Ho(cr,getComputedStyle(lr.contentWindow.document.documentElement).backgroundColor):vo.TRANSPARENT,Vr=lr.contentWindow.document.body?Ho(cr,getComputedStyle(lr.contentWindow.document.body).backgroundColor):vo.TRANSPARENT;Sr.backgroundColor=Vo(Fr)?Vo(Vr)?Sr.styles.backgroundColor:Vr:Fr}}catch{}return Sr}return nr}(Ds),Ad=["OL","UL","MENU"],Gd=function(sr,nr,cr,lr){for(var Sr=nr.firstChild,Fr=void 0;Sr;Sr=Fr)if(Fr=Sr.nextSibling,Ou(Sr)&&Sr.data.trim().length>0)cr.textNodes.push(new $d(sr,Sr,cr.styles));else if(Bl(Sr))if(IA(Sr)&&Sr.assignedNodes)Sr.assignedNodes().forEach(function(fn){return Gd(sr,fn,cr,lr)});else{var Vr=Xl(sr,Sr);Vr.styles.isVisible()&&(pf(Sr,Vr,lr)?Vr.flags|=4:CA(Vr.styles)&&(Vr.flags|=2),Ad.indexOf(Sr.tagName)!==-1&&(Vr.flags|=8),cr.elements.push(Vr),Sr.slot,Sr.shadowRoot?Gd(sr,Sr.shadowRoot,Vr,lr):!Yd(Sr)&&!mf(Sr)&&!Xd(Sr)&&Gd(sr,Sr,Vr,lr))}},Xl=function(sr,nr){return bh(nr)?new $h(sr,nr):Kh(nr)?new hd(sr,nr):mf(nr)?new gh(sr,nr):Qh(nr)?new Qd(sr,nr):zh(nr)?new yh(sr,nr):PA(nr)?new Uf(sr,nr):Xd(nr)?new Wd(sr,nr):Yd(nr)?new Vh(sr,nr):qd(nr)?new Hh(sr,nr):new Ds(sr,nr)},$c=function(sr,nr){var cr=Xl(sr,nr);return cr.flags|=4,Gd(sr,nr,cr,cr),cr},pf=function(sr,nr,cr){return nr.styles.isPositionedWithZIndex()||nr.styles.opacity<1||nr.styles.isTransformed()||pd(sr)&&cr.styles.isTransparent()},CA=function(sr){return sr.isPositioned()||sr.isFloating()},Ou=function(sr){return sr.nodeType===Node.TEXT_NODE},Bl=function(sr){return sr.nodeType===Node.ELEMENT_NODE},uo=function(sr){return Bl(sr)&&typeof sr.style<"u"&&!$f(sr)},$f=function(sr){return typeof sr.className=="object"},Qh=function(sr){return sr.tagName==="LI"},zh=function(sr){return sr.tagName==="OL"},PA=function(sr){return sr.tagName==="INPUT"},RA=function(sr){return sr.tagName==="HTML"},mf=function(sr){return sr.tagName==="svg"},pd=function(sr){return sr.tagName==="BODY"},Kh=function(sr){return sr.tagName==="CANVAS"},Wh=function(sr){return sr.tagName==="VIDEO"},bh=function(sr){return sr.tagName==="IMG"},qd=function(sr){return sr.tagName==="IFRAME"},Gh=function(sr){return sr.tagName==="STYLE"},qh=function(sr){return sr.tagName==="SCRIPT"},Yd=function(sr){return sr.tagName==="TEXTAREA"},Xd=function(sr){return sr.tagName==="SELECT"},IA=function(sr){return sr.tagName==="SLOT"},Yh=function(sr){return sr.tagName.indexOf("-")>0},ko=function(){function sr(){this.counters={}}return sr.prototype.getCounterValue=function(nr){var cr=this.counters[nr];return cr&&cr.length?cr[cr.length-1]:1},sr.prototype.getCounterValues=function(nr){var cr=this.counters[nr];return cr||[]},sr.prototype.pop=function(nr){var cr=this;nr.forEach(function(lr){return cr.counters[lr].pop()})},sr.prototype.parse=function(nr){var cr=this,lr=nr.counterIncrement,Sr=nr.counterReset,Fr=!0;lr!==null&&lr.forEach(function(fn){var dn=cr.counters[fn.counter];dn&&fn.increment!==0&&(Fr=!1,dn.length||dn.push(1),dn[Math.max(0,dn.length-1)]+=fn.increment)});var Vr=[];return Fr&&Sr.forEach(function(fn){var dn=cr.counters[fn.counter];Vr.push(fn.counter),dn||(dn=cr.counters[fn.counter]=[]),dn.push(fn.reset)}),Vr},sr}(),Mo={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Xh={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},BA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},jA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Vf=function(sr,nr,cr,lr,Sr,Fr){return sr<nr||sr>cr?zf(sr,Sr,Fr.length>0):lr.integers.reduce(function(Vr,fn,dn){for(;sr>=fn;)sr-=fn,Vr+=lr.values[dn];return Vr},"")+Fr},Zh=function(sr,nr,cr,lr){var Sr="";do cr||sr--,Sr=lr(sr)+Sr,sr/=nr;while(sr*nr>=nr);return Sr},Oa=function(sr,nr,cr,lr,Sr){var Fr=cr-nr+1;return(sr<0?"-":"")+(Zh(Math.abs(sr),Fr,lr,function(Vr){return Me(Math.floor(Vr%Fr)+nr)})+Sr)},Nu=function(sr,nr,cr){cr===void 0&&(cr=". ");var lr=nr.length;return Zh(Math.abs(sr),lr,!1,function(Sr){return nr[Math.floor(Sr%lr)]})+cr},Hf=1,ku=2,Mu=4,Qf=8,Vc=function(sr,nr,cr,lr,Sr,Fr){if(sr<-9999||sr>9999)return zf(sr,4,Sr.length>0);var Vr=Math.abs(sr),fn=Sr;if(Vr===0)return nr[0]+fn;for(var dn=0;Vr>0&&dn<=4;dn++){var In=Vr%10;In===0&&ri(Fr,Hf)&&fn!==""?fn=nr[In]+fn:In>1||In===1&&dn===0||In===1&&dn===1&&ri(Fr,ku)||In===1&&dn===1&&ri(Fr,Mu)&&sr>100||In===1&&dn>1&&ri(Fr,Qf)?fn=nr[In]+(dn>0?cr[dn-1]:"")+fn:In===1&&dn>0&&(fn=cr[dn-1]+fn),Vr=Math.floor(Vr/10)}return(sr<0?lr:"")+fn},Eh="",Jh="",wh="",md="",zf=function(sr,nr,cr){var lr=cr?". ":"",Sr=cr?"":"",Fr=cr?", ":"",Vr=cr?" ":"";switch(nr){case 0:return""+Vr;case 1:return""+Vr;case 2:return""+Vr;case 5:var fn=Oa(sr,48,57,!0,lr);return fn.length<4?"0"+fn:fn;case 4:return Nu(sr,"",Sr);case 6:return Vf(sr,1,3999,Mo,3,lr).toLowerCase();case 7:return Vf(sr,1,3999,Mo,3,lr);case 8:return Oa(sr,945,969,!1,lr);case 9:return Oa(sr,97,122,!1,lr);case 10:return Oa(sr,65,90,!1,lr);case 11:return Oa(sr,1632,1641,!0,lr);case 12:case 49:return Vf(sr,1,9999,Xh,3,lr);case 35:return Vf(sr,1,9999,Xh,3,lr).toLowerCase();case 13:return Oa(sr,2534,2543,!0,lr);case 14:case 30:return Oa(sr,6112,6121,!0,lr);case 15:return Nu(sr,"",Sr);case 16:return Nu(sr,"",Sr);case 17:case 48:return Vc(sr,"",Eh,"",Sr,ku|Mu|Qf);case 47:return Vc(sr,"",Jh,"",Sr,Hf|ku|Mu|Qf);case 42:return Vc(sr,"",Eh,"",Sr,ku|Mu|Qf);case 41:return Vc(sr,"",Jh,"",Sr,Hf|ku|Mu|Qf);case 26:return Vc(sr,"","",wh,Sr,0);case 25:return Vc(sr,"","",wh,Sr,Hf|ku|Mu);case 31:return Vc(sr,"","",md,Fr,Hf|ku|Mu);case 33:return Vc(sr,"","",md,Fr,0);case 32:return Vc(sr,"","",md,Fr,Hf|ku|Mu);case 18:return Oa(sr,2406,2415,!0,lr);case 20:return Vf(sr,1,19999,jA,3,lr);case 21:return Oa(sr,2790,2799,!0,lr);case 22:return Oa(sr,2662,2671,!0,lr);case 22:return Vf(sr,1,10999,BA,3,lr);case 23:return Nu(sr,"");case 24:return Nu(sr,"");case 27:return Oa(sr,3302,3311,!0,lr);case 28:return Nu(sr,"",Sr);case 29:return Nu(sr,"",Sr);case 34:return Oa(sr,3792,3801,!0,lr);case 37:return Oa(sr,6160,6169,!0,lr);case 38:return Oa(sr,4160,4169,!0,lr);case 39:return Oa(sr,2918,2927,!0,lr);case 40:return Oa(sr,1776,1785,!0,lr);case 43:return Oa(sr,3046,3055,!0,lr);case 44:return Oa(sr,3174,3183,!0,lr);case 45:return Oa(sr,3664,3673,!0,lr);case 46:return Oa(sr,3872,3881,!0,lr);case 3:default:return Oa(sr,48,57,!0,lr)}},eA="data-html2canvas-ignore",Sh=function(){function sr(nr,cr,lr){if(this.context=nr,this.options=lr,this.scrolledElements=[],this.referenceElement=cr,this.counters=new ko,this.quoteDepth=0,!cr.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(cr.ownerDocument.documentElement,!1)}return sr.prototype.toIFrame=function(nr,cr){var lr=this,Sr=Uu(nr,cr);if(!Sr.contentWindow)return Promise.reject("Unable to find iframe window");var Fr=nr.defaultView.pageXOffset,Vr=nr.defaultView.pageYOffset,fn=Sr.contentWindow,dn=fn.document,In=DA(Sr).then(function(){return Ie(lr,void 0,void 0,function(){var Ln,$n;return Be(this,function(ai){switch(ai.label){case 0:return this.scrolledElements.forEach(za),fn&&(fn.scrollTo(cr.left,cr.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(fn.scrollY!==cr.top||fn.scrollX!==cr.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(fn.scrollX-cr.left,fn.scrollY-cr.top,0,0))),Ln=this.options.onclone,$n=this.clonedReferenceElement,typeof $n>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:dn.fonts&&dn.fonts.ready?[4,dn.fonts.ready]:[3,2];case 1:ai.sent(),ai.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,sp(dn)]:[3,4];case 3:ai.sent(),ai.label=4;case 4:return typeof Ln=="function"?[2,Promise.resolve().then(function(){return Ln(dn,$n)}).then(function(){return Sr})]:[2,Sr]}})})});return dn.open(),dn.write(Ch(document.doctype)+"<html></html>"),Zd(this.referenceElement.ownerDocument,Fr,Vr),dn.replaceChild(dn.adoptNode(this.documentElement),dn.documentElement),dn.close(),In},sr.prototype.createElementClone=function(nr){if(hs(nr,2))debugger;if(Kh(nr))return this.createCanvasClone(nr);if(Wh(nr))return this.createVideoClone(nr);if(Gh(nr))return this.createStyleClone(nr);var cr=nr.cloneNode(!1);return bh(cr)&&(bh(nr)&&nr.currentSrc&&nr.currentSrc!==nr.src&&(cr.src=nr.currentSrc,cr.srcset=""),cr.loading==="lazy"&&(cr.loading="eager")),Yh(cr)?this.createCustomElementClone(cr):cr},sr.prototype.createCustomElementClone=function(nr){var cr=document.createElement("html2canvascustomelement");return Th(nr.style,cr),cr},sr.prototype.createStyleClone=function(nr){try{var cr=nr.sheet;if(cr&&cr.cssRules){var lr=[].slice.call(cr.cssRules,0).reduce(function(Fr,Vr){return Vr&&typeof Vr.cssText=="string"?Fr+Vr.cssText:Fr},""),Sr=nr.cloneNode(!1);return Sr.textContent=lr,Sr}}catch(Fr){if(this.context.logger.error("Unable to access cssRules property",Fr),Fr.name!=="SecurityError")throw Fr}return nr.cloneNode(!1)},sr.prototype.createCanvasClone=function(nr){var cr;if(this.options.inlineImages&&nr.ownerDocument){var lr=nr.ownerDocument.createElement("img");try{return lr.src=nr.toDataURL(),lr}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",nr)}}var Sr=nr.cloneNode(!1);try{Sr.width=nr.width,Sr.height=nr.height;var Fr=nr.getContext("2d"),Vr=Sr.getContext("2d");if(Vr)if(!this.options.allowTaint&&Fr)Vr.putImageData(Fr.getImageData(0,0,nr.width,nr.height),0,0);else{var fn=(cr=nr.getContext("webgl2"))!==null&&cr!==void 0?cr:nr.getContext("webgl");if(fn){var dn=fn.getContextAttributes();dn?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",nr)}Vr.drawImage(nr,0,0)}return Sr}catch{this.context.logger.info("Unable to clone canvas as it is tainted",nr)}return Sr},sr.prototype.createVideoClone=function(nr){var cr=nr.ownerDocument.createElement("canvas");cr.width=nr.offsetWidth,cr.height=nr.offsetHeight;var lr=cr.getContext("2d");try{return lr&&(lr.drawImage(nr,0,0,cr.width,cr.height),this.options.allowTaint||lr.getImageData(0,0,cr.width,cr.height)),cr}catch{this.context.logger.info("Unable to clone video as it is tainted",nr)}var Sr=nr.ownerDocument.createElement("canvas");return Sr.width=nr.offsetWidth,Sr.height=nr.offsetHeight,Sr},sr.prototype.appendChildNode=function(nr,cr,lr){(!Bl(cr)||!qh(cr)&&!cr.hasAttribute(eA)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(cr)))&&(!this.options.copyStyles||!Bl(cr)||!Gh(cr))&&nr.appendChild(this.cloneNode(cr,lr))},sr.prototype.cloneChildNodes=function(nr,cr,lr){for(var Sr=this,Fr=nr.shadowRoot?nr.shadowRoot.firstChild:nr.firstChild;Fr;Fr=Fr.nextSibling)if(Bl(Fr)&&IA(Fr)&&typeof Fr.assignedNodes=="function"){var Vr=Fr.assignedNodes();Vr.length&&Vr.forEach(function(fn){return Sr.appendChildNode(cr,fn,lr)})}else this.appendChildNode(cr,Fr,lr)},sr.prototype.cloneNode=function(nr,cr){if(Ou(nr))return document.createTextNode(nr.data);if(!nr.ownerDocument)return nr.cloneNode(!1);var lr=nr.ownerDocument.defaultView;if(lr&&Bl(nr)&&(uo(nr)||$f(nr))){var Sr=this.createElementClone(nr);Sr.style.transitionProperty="none";var Fr=lr.getComputedStyle(nr),Vr=lr.getComputedStyle(nr,":before"),fn=lr.getComputedStyle(nr,":after");this.referenceElement===nr&&uo(Sr)&&(this.clonedReferenceElement=Sr),pd(Sr)&&FA(Sr);var dn=this.counters.parse(new Es(this.context,Fr)),In=this.resolvePseudoContent(nr,Sr,Vr,gd.BEFORE);Yh(nr)&&(cr=!0),Wh(nr)||this.cloneChildNodes(nr,Sr,cr),In&&Sr.insertBefore(In,Sr.firstChild);var Ln=this.resolvePseudoContent(nr,Sr,fn,gd.AFTER);return Ln&&Sr.appendChild(Ln),this.counters.pop(dn),(Fr&&(this.options.copyStyles||$f(nr))&&!qd(nr)||cr)&&Th(Fr,Sr),(nr.scrollTop!==0||nr.scrollLeft!==0)&&this.scrolledElements.push([Sr,nr.scrollLeft,nr.scrollTop]),(Yd(nr)||Xd(nr))&&(Yd(Sr)||Xd(Sr))&&(Sr.value=nr.value),Sr}return nr.cloneNode(!1)},sr.prototype.resolvePseudoContent=function(nr,cr,lr,Sr){var Fr=this;if(lr){var Vr=lr.content,fn=cr.ownerDocument;if(!(!fn||!Vr||Vr==="none"||Vr==="-moz-alt-content"||lr.display==="none")){this.counters.parse(new Es(this.context,lr));var dn=new qs(this.context,lr),In=fn.createElement("html2canvaspseudoelement");Th(lr,In),dn.content.forEach(function($n){if($n.type===0)In.appendChild(fn.createTextNode($n.value));else if($n.type===22){var ai=fn.createElement("img");ai.src=$n.value,ai.style.opacity="1",In.appendChild(ai)}else if($n.type===18){if($n.name==="attr"){var Mi=$n.values.filter(si);Mi.length&&In.appendChild(fn.createTextNode(nr.getAttribute(Mi[0].value)||""))}else if($n.name==="counter"){var Ii=$n.values.filter(Ls),ji=Ii[0],_s=Ii[1];if(ji&&si(ji)){var Yi=Fr.counters.getCounterValue(ji.value),Gi=_s&&si(_s)?hc.parse(Fr.context,_s.value):3;In.appendChild(fn.createTextNode(zf(Yi,Gi,!1)))}}else if($n.name==="counters"){var js=$n.values.filter(Ls),ji=js[0],xs=js[1],_s=js[2];if(ji&&si(ji)){var fs=Fr.counters.getCounterValues(ji.value),zi=_s&&si(_s)?hc.parse(Fr.context,_s.value):3,Vs=xs&&xs.type===0?xs.value:"",Hs=fs.map(function(ol){return zf(ol,zi,!1)}).join(Vs);In.appendChild(fn.createTextNode(Hs))}}}else if($n.type===20)switch($n.value){case"open-quote":In.appendChild(fn.createTextNode(fi(dn.quotes,Fr.quoteDepth++,!0)));break;case"close-quote":In.appendChild(fn.createTextNode(fi(dn.quotes,--Fr.quoteDepth,!1)));break;default:In.appendChild(fn.createTextNode($n.value))}}),In.className=Ph+" "+Kf;var Ln=Sr===gd.BEFORE?" "+Ph:" "+Kf;return $f(cr)?cr.className.baseValue+=Ln:cr.className+=Ln,In}}},sr.destroy=function(nr){return nr.parentNode?(nr.parentNode.removeChild(nr),!0):!1},sr}(),gd;(function(sr){sr[sr.BEFORE=0]="BEFORE",sr[sr.AFTER=1]="AFTER"})(gd||(gd={}));var Uu=function(sr,nr){var cr=sr.createElement("iframe");return cr.className="html2canvas-container",cr.style.visibility="hidden",cr.style.position="fixed",cr.style.left="-10000px",cr.style.top="0px",cr.style.border="0",cr.width=nr.width.toString(),cr.height=nr.height.toString(),cr.scrolling="no",cr.setAttribute(eA,"true"),sr.body.appendChild(cr),cr},tA=function(sr){return new Promise(function(nr){if(sr.complete){nr();return}if(!sr.src){nr();return}sr.onload=nr,sr.onerror=nr})},sp=function(sr){return Promise.all([].slice.call(sr.images,0).map(tA))},DA=function(sr){return new Promise(function(nr,cr){var lr=sr.contentWindow;if(!lr)return cr("No window assigned for iframe");var Sr=lr.document;lr.onload=sr.onload=function(){lr.onload=sr.onload=null;var Fr=setInterval(function(){Sr.body.childNodes.length>0&&Sr.readyState==="complete"&&(clearInterval(Fr),nr(sr))},50)}})},$u=["all","d","content"],Th=function(sr,nr){for(var cr=sr.length-1;cr>=0;cr--){var lr=sr.item(cr);$u.indexOf(lr)===-1&&nr.style.setProperty(lr,sr.getPropertyValue(lr))}return nr},Ch=function(sr){var nr="";return sr&&(nr+="<!DOCTYPE ",sr.name&&(nr+=sr.name),sr.internalSubset&&(nr+=sr.internalSubset),sr.publicId&&(nr+='"'+sr.publicId+'"'),sr.systemId&&(nr+='"'+sr.systemId+'"'),nr+=">"),nr},Zd=function(sr,nr,cr){sr&&sr.defaultView&&(nr!==sr.defaultView.pageXOffset||cr!==sr.defaultView.pageYOffset)&&sr.defaultView.scrollTo(nr,cr)},za=function(sr){var nr=sr[0],cr=sr[1],lr=sr[2];nr.scrollLeft=cr,nr.scrollTop=lr},ap=":before",op=":after",Ph="___html2canvas___pseudoelement_before",Kf="___html2canvas___pseudoelement_after",Vu=`{
    content: "" !important;
    display: none !important;
}`,FA=function(sr){LA(sr,"."+Ph+ap+Vu+`
         .`+Kf+op+Vu)},LA=function(sr,nr){var cr=sr.ownerDocument;if(cr){var lr=cr.createElement("style");lr.textContent=nr,sr.appendChild(lr)}},vd=function(){function sr(){}return sr.getOrigin=function(nr){var cr=sr._link;return cr?(cr.href=nr,cr.href=cr.href,cr.protocol+cr.hostname+cr.port):"about:blank"},sr.isSameOrigin=function(nr){return sr.getOrigin(nr)===sr._origin},sr.setContext=function(nr){sr._link=nr.document.createElement("a"),sr._origin=sr.getOrigin(nr.location.href)},sr._origin="about:blank",sr}(),uu=function(){function sr(nr,cr){this.context=nr,this._options=cr,this._cache={}}return sr.prototype.addImage=function(nr){var cr=Promise.resolve();return this.has(nr)||(Ih(nr)||nA(nr))&&(this._cache[nr]=this.loadImage(nr)).catch(function(){}),cr},sr.prototype.match=function(nr){return this._cache[nr]},sr.prototype.loadImage=function(nr){return Ie(this,void 0,void 0,function(){var cr,lr,Sr,Fr,Vr=this;return Be(this,function(fn){switch(fn.label){case 0:return cr=vd.isSameOrigin(nr),lr=!Jd(nr)&&this._options.useCORS===!0&&co.SUPPORT_CORS_IMAGES&&!cr,Sr=!Jd(nr)&&!cr&&!Ih(nr)&&typeof this._options.proxy=="string"&&co.SUPPORT_CORS_XHR&&!lr,!cr&&this._options.allowTaint===!1&&!Jd(nr)&&!Ih(nr)&&!Sr&&!lr?[2]:(Fr=nr,Sr?[4,this.proxy(Fr)]:[3,2]);case 1:Fr=fn.sent(),fn.label=2;case 2:return this.context.logger.debug("Added image "+nr.substring(0,256)),[4,new Promise(function(dn,In){var Ln=new Image;Ln.onload=function(){return dn(Ln)},Ln.onerror=In,(Rh(Fr)||lr)&&(Ln.crossOrigin="anonymous"),Ln.src=Fr,Ln.complete===!0&&setTimeout(function(){return dn(Ln)},500),Vr._options.imageTimeout>0&&setTimeout(function(){return In("Timed out ("+Vr._options.imageTimeout+"ms) loading image")},Vr._options.imageTimeout)})];case 3:return[2,fn.sent()]}})})},sr.prototype.has=function(nr){return typeof this._cache[nr]<"u"},sr.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},sr.prototype.proxy=function(nr){var cr=this,lr=this._options.proxy;if(!lr)throw new Error("No proxy defined");var Sr=nr.substring(0,256);return new Promise(function(Fr,Vr){var fn=co.SUPPORT_RESPONSE_TYPE?"blob":"text",dn=new XMLHttpRequest;dn.onload=function(){if(dn.status===200)if(fn==="text")Fr(dn.response);else{var $n=new FileReader;$n.addEventListener("load",function(){return Fr($n.result)},!1),$n.addEventListener("error",function(ai){return Vr(ai)},!1),$n.readAsDataURL(dn.response)}else Vr("Failed to proxy resource "+Sr+" with status code "+dn.status)},dn.onerror=Vr;var In=lr.indexOf("?")>-1?"&":"?";if(dn.open("GET",""+lr+In+"url="+encodeURIComponent(nr)+"&responseType="+fn),fn!=="text"&&dn instanceof XMLHttpRequest&&(dn.responseType=fn),cr._options.imageTimeout){var Ln=cr._options.imageTimeout;dn.timeout=Ln,dn.ontimeout=function(){return Vr("Timed out ("+Ln+"ms) proxying "+Sr)}}dn.send()})},sr}(),OA=/^data:image\/svg\+xml/i,rA=/^data:image\/.*;base64,/i,NA=/^data:image\/.*/i,nA=function(sr){return co.SUPPORT_SVG_DRAWING||!Hu(sr)},Jd=function(sr){return NA.test(sr)},Rh=function(sr){return rA.test(sr)},Ih=function(sr){return sr.substr(0,4)==="blob"},Hu=function(sr){return sr.substr(-3).toLowerCase()==="svg"||OA.test(sr)},Pi=function(){function sr(nr,cr){this.type=0,this.x=nr,this.y=cr}return sr.prototype.add=function(nr,cr){return new sr(this.x+nr,this.y+cr)},sr}(),gf=function(sr,nr,cr){return new Pi(sr.x+(nr.x-sr.x)*cr,sr.y+(nr.y-sr.y)*cr)},eh=function(){function sr(nr,cr,lr,Sr){this.type=1,this.start=nr,this.startControl=cr,this.endControl=lr,this.end=Sr}return sr.prototype.subdivide=function(nr,cr){var lr=gf(this.start,this.startControl,nr),Sr=gf(this.startControl,this.endControl,nr),Fr=gf(this.endControl,this.end,nr),Vr=gf(lr,Sr,nr),fn=gf(Sr,Fr,nr),dn=gf(Vr,fn,nr);return cr?new sr(this.start,lr,Vr,dn):new sr(dn,fn,Fr,this.end)},sr.prototype.add=function(nr,cr){return new sr(this.start.add(nr,cr),this.startControl.add(nr,cr),this.endControl.add(nr,cr),this.end.add(nr,cr))},sr.prototype.reverse=function(){return new sr(this.end,this.endControl,this.startControl,this.start)},sr}(),ca=function(sr){return sr.type===1},lp=function(){function sr(nr){var cr=nr.styles,lr=nr.bounds,Sr=Ta(cr.borderTopLeftRadius,lr.width,lr.height),Fr=Sr[0],Vr=Sr[1],fn=Ta(cr.borderTopRightRadius,lr.width,lr.height),dn=fn[0],In=fn[1],Ln=Ta(cr.borderBottomRightRadius,lr.width,lr.height),$n=Ln[0],ai=Ln[1],Mi=Ta(cr.borderBottomLeftRadius,lr.width,lr.height),Ii=Mi[0],ji=Mi[1],_s=[];_s.push((Fr+dn)/lr.width),_s.push((Ii+$n)/lr.width),_s.push((Vr+ji)/lr.height),_s.push((In+ai)/lr.height);var Yi=Math.max.apply(Math,_s);Yi>1&&(Fr/=Yi,Vr/=Yi,dn/=Yi,In/=Yi,$n/=Yi,ai/=Yi,Ii/=Yi,ji/=Yi);var Gi=lr.width-dn,js=lr.height-ai,xs=lr.width-$n,fs=lr.height-ji,zi=cr.borderTopWidth,Vs=cr.borderRightWidth,Hs=cr.borderBottomWidth,ms=cr.borderLeftWidth,Ya=$s(cr.paddingTop,nr.bounds.width),ol=$s(cr.paddingRight,nr.bounds.width),tc=$s(cr.paddingBottom,nr.bounds.width),Aa=$s(cr.paddingLeft,nr.bounds.width);this.topLeftBorderDoubleOuterBox=Fr>0||Vr>0?Ia(lr.left+ms/3,lr.top+zi/3,Fr-ms/3,Vr-zi/3,ea.TOP_LEFT):new Pi(lr.left+ms/3,lr.top+zi/3),this.topRightBorderDoubleOuterBox=Fr>0||Vr>0?Ia(lr.left+Gi,lr.top+zi/3,dn-Vs/3,In-zi/3,ea.TOP_RIGHT):new Pi(lr.left+lr.width-Vs/3,lr.top+zi/3),this.bottomRightBorderDoubleOuterBox=$n>0||ai>0?Ia(lr.left+xs,lr.top+js,$n-Vs/3,ai-Hs/3,ea.BOTTOM_RIGHT):new Pi(lr.left+lr.width-Vs/3,lr.top+lr.height-Hs/3),this.bottomLeftBorderDoubleOuterBox=Ii>0||ji>0?Ia(lr.left+ms/3,lr.top+fs,Ii-ms/3,ji-Hs/3,ea.BOTTOM_LEFT):new Pi(lr.left+ms/3,lr.top+lr.height-Hs/3),this.topLeftBorderDoubleInnerBox=Fr>0||Vr>0?Ia(lr.left+ms*2/3,lr.top+zi*2/3,Fr-ms*2/3,Vr-zi*2/3,ea.TOP_LEFT):new Pi(lr.left+ms*2/3,lr.top+zi*2/3),this.topRightBorderDoubleInnerBox=Fr>0||Vr>0?Ia(lr.left+Gi,lr.top+zi*2/3,dn-Vs*2/3,In-zi*2/3,ea.TOP_RIGHT):new Pi(lr.left+lr.width-Vs*2/3,lr.top+zi*2/3),this.bottomRightBorderDoubleInnerBox=$n>0||ai>0?Ia(lr.left+xs,lr.top+js,$n-Vs*2/3,ai-Hs*2/3,ea.BOTTOM_RIGHT):new Pi(lr.left+lr.width-Vs*2/3,lr.top+lr.height-Hs*2/3),this.bottomLeftBorderDoubleInnerBox=Ii>0||ji>0?Ia(lr.left+ms*2/3,lr.top+fs,Ii-ms*2/3,ji-Hs*2/3,ea.BOTTOM_LEFT):new Pi(lr.left+ms*2/3,lr.top+lr.height-Hs*2/3),this.topLeftBorderStroke=Fr>0||Vr>0?Ia(lr.left+ms/2,lr.top+zi/2,Fr-ms/2,Vr-zi/2,ea.TOP_LEFT):new Pi(lr.left+ms/2,lr.top+zi/2),this.topRightBorderStroke=Fr>0||Vr>0?Ia(lr.left+Gi,lr.top+zi/2,dn-Vs/2,In-zi/2,ea.TOP_RIGHT):new Pi(lr.left+lr.width-Vs/2,lr.top+zi/2),this.bottomRightBorderStroke=$n>0||ai>0?Ia(lr.left+xs,lr.top+js,$n-Vs/2,ai-Hs/2,ea.BOTTOM_RIGHT):new Pi(lr.left+lr.width-Vs/2,lr.top+lr.height-Hs/2),this.bottomLeftBorderStroke=Ii>0||ji>0?Ia(lr.left+ms/2,lr.top+fs,Ii-ms/2,ji-Hs/2,ea.BOTTOM_LEFT):new Pi(lr.left+ms/2,lr.top+lr.height-Hs/2),this.topLeftBorderBox=Fr>0||Vr>0?Ia(lr.left,lr.top,Fr,Vr,ea.TOP_LEFT):new Pi(lr.left,lr.top),this.topRightBorderBox=dn>0||In>0?Ia(lr.left+Gi,lr.top,dn,In,ea.TOP_RIGHT):new Pi(lr.left+lr.width,lr.top),this.bottomRightBorderBox=$n>0||ai>0?Ia(lr.left+xs,lr.top+js,$n,ai,ea.BOTTOM_RIGHT):new Pi(lr.left+lr.width,lr.top+lr.height),this.bottomLeftBorderBox=Ii>0||ji>0?Ia(lr.left,lr.top+fs,Ii,ji,ea.BOTTOM_LEFT):new Pi(lr.left,lr.top+lr.height),this.topLeftPaddingBox=Fr>0||Vr>0?Ia(lr.left+ms,lr.top+zi,Math.max(0,Fr-ms),Math.max(0,Vr-zi),ea.TOP_LEFT):new Pi(lr.left+ms,lr.top+zi),this.topRightPaddingBox=dn>0||In>0?Ia(lr.left+Math.min(Gi,lr.width-Vs),lr.top+zi,Gi>lr.width+Vs?0:Math.max(0,dn-Vs),Math.max(0,In-zi),ea.TOP_RIGHT):new Pi(lr.left+lr.width-Vs,lr.top+zi),this.bottomRightPaddingBox=$n>0||ai>0?Ia(lr.left+Math.min(xs,lr.width-ms),lr.top+Math.min(js,lr.height-Hs),Math.max(0,$n-Vs),Math.max(0,ai-Hs),ea.BOTTOM_RIGHT):new Pi(lr.left+lr.width-Vs,lr.top+lr.height-Hs),this.bottomLeftPaddingBox=Ii>0||ji>0?Ia(lr.left+ms,lr.top+Math.min(fs,lr.height-Hs),Math.max(0,Ii-ms),Math.max(0,ji-Hs),ea.BOTTOM_LEFT):new Pi(lr.left+ms,lr.top+lr.height-Hs),this.topLeftContentBox=Fr>0||Vr>0?Ia(lr.left+ms+Aa,lr.top+zi+Ya,Math.max(0,Fr-(ms+Aa)),Math.max(0,Vr-(zi+Ya)),ea.TOP_LEFT):new Pi(lr.left+ms+Aa,lr.top+zi+Ya),this.topRightContentBox=dn>0||In>0?Ia(lr.left+Math.min(Gi,lr.width+ms+Aa),lr.top+zi+Ya,Gi>lr.width+ms+Aa?0:dn-ms+Aa,In-(zi+Ya),ea.TOP_RIGHT):new Pi(lr.left+lr.width-(Vs+ol),lr.top+zi+Ya),this.bottomRightContentBox=$n>0||ai>0?Ia(lr.left+Math.min(xs,lr.width-(ms+Aa)),lr.top+Math.min(js,lr.height+zi+Ya),Math.max(0,$n-(Vs+ol)),ai-(Hs+tc),ea.BOTTOM_RIGHT):new Pi(lr.left+lr.width-(Vs+ol),lr.top+lr.height-(Hs+tc)),this.bottomLeftContentBox=Ii>0||ji>0?Ia(lr.left+ms+Aa,lr.top+fs,Math.max(0,Ii-(ms+Aa)),ji-(Hs+tc),ea.BOTTOM_LEFT):new Pi(lr.left+ms+Aa,lr.top+lr.height-(Hs+tc))}return sr}(),ea;(function(sr){sr[sr.TOP_LEFT=0]="TOP_LEFT",sr[sr.TOP_RIGHT=1]="TOP_RIGHT",sr[sr.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",sr[sr.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ea||(ea={}));var Ia=function(sr,nr,cr,lr,Sr){var Fr=4*((Math.sqrt(2)-1)/3),Vr=cr*Fr,fn=lr*Fr,dn=sr+cr,In=nr+lr;switch(Sr){case ea.TOP_LEFT:return new eh(new Pi(sr,In),new Pi(sr,In-fn),new Pi(dn-Vr,nr),new Pi(dn,nr));case ea.TOP_RIGHT:return new eh(new Pi(sr,nr),new Pi(sr+Vr,nr),new Pi(dn,In-fn),new Pi(dn,In));case ea.BOTTOM_RIGHT:return new eh(new Pi(dn,nr),new Pi(dn,nr+fn),new Pi(sr+Vr,In),new Pi(sr,In));case ea.BOTTOM_LEFT:default:return new eh(new Pi(dn,In),new Pi(dn-Vr,In),new Pi(sr,nr+fn),new Pi(sr,nr))}},ma=function(sr){return[sr.topLeftBorderBox,sr.topRightBorderBox,sr.bottomRightBorderBox,sr.bottomLeftBorderBox]},jl=function(sr){return[sr.topLeftContentBox,sr.topRightContentBox,sr.bottomRightContentBox,sr.bottomLeftContentBox]},gc=function(sr){return[sr.topLeftPaddingBox,sr.topRightPaddingBox,sr.bottomRightPaddingBox,sr.bottomLeftPaddingBox]},kA=function(){function sr(nr,cr,lr){this.offsetX=nr,this.offsetY=cr,this.matrix=lr,this.type=0,this.target=6}return sr}(),th=function(){function sr(nr,cr){this.path=nr,this.target=cr,this.type=1}return sr}(),cp=function(){function sr(nr){this.opacity=nr,this.type=2,this.target=6}return sr}(),iA=function(sr){return sr.type===0},Dl=function(sr){return sr.type===1},Hc=function(sr){return sr.type===2},sA=function(sr,nr){return sr.length===nr.length?sr.some(function(cr,lr){return cr===nr[lr]}):!1},Zl=function(sr,nr,cr,lr,Sr){return sr.map(function(Fr,Vr){switch(Vr){case 0:return Fr.add(nr,cr);case 1:return Fr.add(nr+lr,cr);case 2:return Fr.add(nr+lr,cr+Sr);case 3:return Fr.add(nr,cr+Sr)}return Fr})},aA=function(){function sr(nr){this.element=nr,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return sr}(),Qu=function(){function sr(nr,cr){if(this.container=nr,this.parent=cr,this.effects=[],this.curves=new lp(this.container),this.container.styles.opacity<1&&this.effects.push(new cp(this.container.styles.opacity)),this.container.styles.transform!==null){var lr=this.container.bounds.left+this.container.styles.transformOrigin[0].number,Sr=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Fr=this.container.styles.transform;this.effects.push(new kA(lr,Sr,Fr))}if(this.container.styles.overflowX!==0){var Vr=ma(this.curves),fn=gc(this.curves);sA(Vr,fn)?this.effects.push(new th(Vr,6)):(this.effects.push(new th(Vr,2)),this.effects.push(new th(fn,4)))}}return sr.prototype.getEffects=function(nr){for(var cr=[2,3].indexOf(this.container.styles.position)===-1,lr=this.parent,Sr=this.effects.slice(0);lr;){var Fr=lr.effects.filter(function(dn){return!Dl(dn)});if(cr||lr.container.styles.position!==0||!lr.parent){if(Sr.unshift.apply(Sr,Fr),cr=[2,3].indexOf(lr.container.styles.position)===-1,lr.container.styles.overflowX!==0){var Vr=ma(lr.curves),fn=gc(lr.curves);sA(Vr,fn)||Sr.unshift(new th(fn,6))}}else Sr.unshift.apply(Sr,Fr);lr=lr.parent}return Sr.filter(function(dn){return ri(dn.target,nr)})},sr}(),zu=function(sr,nr,cr,lr){sr.container.elements.forEach(function(Sr){var Fr=ri(Sr.flags,4),Vr=ri(Sr.flags,2),fn=new Qu(Sr,sr);ri(Sr.styles.display,2048)&&lr.push(fn);var dn=ri(Sr.flags,8)?[]:lr;if(Fr||Vr){var In=Fr||Sr.styles.isPositioned()?cr:nr,Ln=new aA(fn);if(Sr.styles.isPositioned()||Sr.styles.opacity<1||Sr.styles.isTransformed()){var $n=Sr.styles.zIndex.order;if($n<0){var ai=0;In.negativeZIndex.some(function(Ii,ji){return $n>Ii.element.container.styles.zIndex.order?(ai=ji,!1):ai>0}),In.negativeZIndex.splice(ai,0,Ln)}else if($n>0){var Mi=0;In.positiveZIndex.some(function(Ii,ji){return $n>=Ii.element.container.styles.zIndex.order?(Mi=ji+1,!1):Mi>0}),In.positiveZIndex.splice(Mi,0,Ln)}else In.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ln)}else Sr.styles.isFloating()?In.nonPositionedFloats.push(Ln):In.nonPositionedInlineLevel.push(Ln);zu(fn,Ln,Fr?Ln:cr,dn)}else Sr.styles.isInlineLevel()?nr.inlineLevel.push(fn):nr.nonInlineLevel.push(fn),zu(fn,nr,cr,dn);ri(Sr.flags,8)&&Ku(Sr,dn)})},Ku=function(sr,nr){for(var cr=sr instanceof yh?sr.start:1,lr=sr instanceof yh?sr.reversed:!1,Sr=0;Sr<nr.length;Sr++){var Fr=nr[Sr];Fr.container instanceof Qd&&typeof Fr.container.value=="number"&&Fr.container.value!==0&&(cr=Fr.container.value),Fr.listValue=zf(cr,Fr.container.styles.listStyleType,!0),cr+=lr?-1:1}},oA=function(sr){var nr=new Qu(sr,null),cr=new aA(nr),lr=[];return zu(nr,cr,cr,lr),Ku(nr.container,lr),cr},Bh=function(sr,nr){switch(nr){case 0:return al(sr.topLeftBorderBox,sr.topLeftPaddingBox,sr.topRightBorderBox,sr.topRightPaddingBox);case 1:return al(sr.topRightBorderBox,sr.topRightPaddingBox,sr.bottomRightBorderBox,sr.bottomRightPaddingBox);case 2:return al(sr.bottomRightBorderBox,sr.bottomRightPaddingBox,sr.bottomLeftBorderBox,sr.bottomLeftPaddingBox);case 3:default:return al(sr.bottomLeftBorderBox,sr.bottomLeftPaddingBox,sr.topLeftBorderBox,sr.topLeftPaddingBox)}},fu=function(sr,nr){switch(nr){case 0:return al(sr.topLeftBorderBox,sr.topLeftBorderDoubleOuterBox,sr.topRightBorderBox,sr.topRightBorderDoubleOuterBox);case 1:return al(sr.topRightBorderBox,sr.topRightBorderDoubleOuterBox,sr.bottomRightBorderBox,sr.bottomRightBorderDoubleOuterBox);case 2:return al(sr.bottomRightBorderBox,sr.bottomRightBorderDoubleOuterBox,sr.bottomLeftBorderBox,sr.bottomLeftBorderDoubleOuterBox);case 3:default:return al(sr.bottomLeftBorderBox,sr.bottomLeftBorderDoubleOuterBox,sr.topLeftBorderBox,sr.topLeftBorderDoubleOuterBox)}},MA=function(sr,nr){switch(nr){case 0:return al(sr.topLeftBorderDoubleInnerBox,sr.topLeftPaddingBox,sr.topRightBorderDoubleInnerBox,sr.topRightPaddingBox);case 1:return al(sr.topRightBorderDoubleInnerBox,sr.topRightPaddingBox,sr.bottomRightBorderDoubleInnerBox,sr.bottomRightPaddingBox);case 2:return al(sr.bottomRightBorderDoubleInnerBox,sr.bottomRightPaddingBox,sr.bottomLeftBorderDoubleInnerBox,sr.bottomLeftPaddingBox);case 3:default:return al(sr.bottomLeftBorderDoubleInnerBox,sr.bottomLeftPaddingBox,sr.topLeftBorderDoubleInnerBox,sr.topLeftPaddingBox)}},yd=function(sr,nr){switch(nr){case 0:return vf(sr.topLeftBorderStroke,sr.topRightBorderStroke);case 1:return vf(sr.topRightBorderStroke,sr.bottomRightBorderStroke);case 2:return vf(sr.bottomRightBorderStroke,sr.bottomLeftBorderStroke);case 3:default:return vf(sr.bottomLeftBorderStroke,sr.topLeftBorderStroke)}},vf=function(sr,nr){var cr=[];return ca(sr)?cr.push(sr.subdivide(.5,!1)):cr.push(sr),ca(nr)?cr.push(nr.subdivide(.5,!0)):cr.push(nr),cr},al=function(sr,nr,cr,lr){var Sr=[];return ca(sr)?Sr.push(sr.subdivide(.5,!1)):Sr.push(sr),ca(cr)?Sr.push(cr.subdivide(.5,!0)):Sr.push(cr),ca(lr)?Sr.push(lr.subdivide(.5,!0).reverse()):Sr.push(lr),ca(nr)?Sr.push(nr.subdivide(.5,!1).reverse()):Sr.push(nr),Sr},Wf=function(sr){var nr=sr.bounds,cr=sr.styles;return nr.add(cr.borderLeftWidth,cr.borderTopWidth,-(cr.borderRightWidth+cr.borderLeftWidth),-(cr.borderTopWidth+cr.borderBottomWidth))},rh=function(sr){var nr=sr.styles,cr=sr.bounds,lr=$s(nr.paddingLeft,cr.width),Sr=$s(nr.paddingRight,cr.width),Fr=$s(nr.paddingTop,cr.width),Vr=$s(nr.paddingBottom,cr.width);return cr.add(lr+nr.borderLeftWidth,Fr+nr.borderTopWidth,-(nr.borderRightWidth+nr.borderLeftWidth+lr+Sr),-(nr.borderTopWidth+nr.borderBottomWidth+Fr+Vr))},UA=function(sr,nr){return sr===0?nr.bounds:sr===2?rh(nr):Wf(nr)},nh=function(sr,nr){return sr===0?nr.bounds:sr===2?rh(nr):Wf(nr)},jh=function(sr,nr,cr){var lr=UA(xd(sr.styles.backgroundOrigin,nr),sr),Sr=nh(xd(sr.styles.backgroundClip,nr),sr),Fr=up(xd(sr.styles.backgroundSize,nr),cr,lr),Vr=Fr[0],fn=Fr[1],dn=Ta(xd(sr.styles.backgroundPosition,nr),lr.width-Vr,lr.height-fn),In=ua(xd(sr.styles.backgroundRepeat,nr),dn,Fr,lr,Sr),Ln=Math.round(lr.left+dn[0]),$n=Math.round(lr.top+dn[1]);return[In,Ln,$n,Vr,fn]},Wu=function(sr){return si(sr)&&sr.value===Qo.AUTO},ih=function(sr){return typeof sr=="number"},up=function(sr,nr,cr){var lr=nr[0],Sr=nr[1],Fr=nr[2],Vr=sr[0],fn=sr[1];if(!Vr)return[0,0];if(Us(Vr)&&fn&&Us(fn))return[$s(Vr,cr.width),$s(fn,cr.height)];var dn=ih(Fr);if(si(Vr)&&(Vr.value===Qo.CONTAIN||Vr.value===Qo.COVER)){if(ih(Fr)){var In=cr.width/cr.height;return In<Fr!=(Vr.value===Qo.COVER)?[cr.width,cr.width/Fr]:[cr.height*Fr,cr.height]}return[cr.width,cr.height]}var Ln=ih(lr),$n=ih(Sr),ai=Ln||$n;if(Wu(Vr)&&(!fn||Wu(fn))){if(Ln&&$n)return[lr,Sr];if(!dn&&!ai)return[cr.width,cr.height];if(ai&&dn){var Mi=Ln?lr:Sr*Fr,Ii=$n?Sr:lr/Fr;return[Mi,Ii]}var ji=Ln?lr:cr.width,_s=$n?Sr:cr.height;return[ji,_s]}if(dn){var Yi=0,Gi=0;return Us(Vr)?Yi=$s(Vr,cr.width):Us(fn)&&(Gi=$s(fn,cr.height)),Wu(Vr)?Yi=Gi*Fr:(!fn||Wu(fn))&&(Gi=Yi/Fr),[Yi,Gi]}var js=null,xs=null;if(Us(Vr)?js=$s(Vr,cr.width):fn&&Us(fn)&&(xs=$s(fn,cr.height)),js!==null&&(!fn||Wu(fn))&&(xs=Ln&&$n?js/lr*Sr:cr.height),xs!==null&&Wu(Vr)&&(js=Ln&&$n?xs/Sr*lr:cr.width),js!==null&&xs!==null)return[js,xs];throw new Error("Unable to calculate background-size for element")},xd=function(sr,nr){var cr=sr[nr];return typeof cr>"u"?sr[0]:cr},ua=function(sr,nr,cr,lr,Sr){var Fr=nr[0],Vr=nr[1],fn=cr[0],dn=cr[1];switch(sr){case 2:return[new Pi(Math.round(lr.left),Math.round(lr.top+Vr)),new Pi(Math.round(lr.left+lr.width),Math.round(lr.top+Vr)),new Pi(Math.round(lr.left+lr.width),Math.round(dn+lr.top+Vr)),new Pi(Math.round(lr.left),Math.round(dn+lr.top+Vr))];case 3:return[new Pi(Math.round(lr.left+Fr),Math.round(lr.top)),new Pi(Math.round(lr.left+Fr+fn),Math.round(lr.top)),new Pi(Math.round(lr.left+Fr+fn),Math.round(lr.height+lr.top)),new Pi(Math.round(lr.left+Fr),Math.round(lr.height+lr.top))];case 1:return[new Pi(Math.round(lr.left+Fr),Math.round(lr.top+Vr)),new Pi(Math.round(lr.left+Fr+fn),Math.round(lr.top+Vr)),new Pi(Math.round(lr.left+Fr+fn),Math.round(lr.top+Vr+dn)),new Pi(Math.round(lr.left+Fr),Math.round(lr.top+Vr+dn))];default:return[new Pi(Math.round(Sr.left),Math.round(Sr.top)),new Pi(Math.round(Sr.left+Sr.width),Math.round(Sr.top)),new Pi(Math.round(Sr.left+Sr.width),Math.round(Sr.height+Sr.top)),new Pi(Math.round(Sr.left),Math.round(Sr.height+Sr.top))]}},ba="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Fs="Hidden Text",Ks=function(){function sr(nr){this._data={},this._document=nr}return sr.prototype.parseMetrics=function(nr,cr){var lr=this._document.createElement("div"),Sr=this._document.createElement("img"),Fr=this._document.createElement("span"),Vr=this._document.body;lr.style.visibility="hidden",lr.style.fontFamily=nr,lr.style.fontSize=cr,lr.style.margin="0",lr.style.padding="0",lr.style.whiteSpace="nowrap",Vr.appendChild(lr),Sr.src=ba,Sr.width=1,Sr.height=1,Sr.style.margin="0",Sr.style.padding="0",Sr.style.verticalAlign="baseline",Fr.style.fontFamily=nr,Fr.style.fontSize=cr,Fr.style.margin="0",Fr.style.padding="0",Fr.appendChild(this._document.createTextNode(Fs)),lr.appendChild(Fr),lr.appendChild(Sr);var fn=Sr.offsetTop-Fr.offsetTop+2;lr.removeChild(Fr),lr.appendChild(this._document.createTextNode(Fs)),lr.style.lineHeight="normal",Sr.style.verticalAlign="super";var dn=Sr.offsetTop-lr.offsetTop+2;return Vr.removeChild(lr),{baseline:fn,middle:dn}},sr.prototype.getMetrics=function(nr,cr){var lr=nr+" "+cr;return typeof this._data[lr]>"u"&&(this._data[lr]=this.parseMetrics(nr,cr)),this._data[lr]},sr}(),ia=function(){function sr(nr,cr){this.context=nr,this.options=cr}return sr}(),Jl=1e4,yf=function(sr){Pe(nr,sr);function nr(cr,lr){var Sr=sr.call(this,cr,lr)||this;return Sr._activeEffects=[],Sr.canvas=lr.canvas?lr.canvas:document.createElement("canvas"),Sr.ctx=Sr.canvas.getContext("2d"),lr.canvas||(Sr.canvas.width=Math.floor(lr.width*lr.scale),Sr.canvas.height=Math.floor(lr.height*lr.scale),Sr.canvas.style.width=lr.width+"px",Sr.canvas.style.height=lr.height+"px"),Sr.fontMetrics=new Ks(document),Sr.ctx.scale(Sr.options.scale,Sr.options.scale),Sr.ctx.translate(-lr.x,-lr.y),Sr.ctx.textBaseline="bottom",Sr._activeEffects=[],Sr.context.logger.debug("Canvas renderer initialized ("+lr.width+"x"+lr.height+") with scale "+lr.scale),Sr}return nr.prototype.applyEffects=function(cr){for(var lr=this;this._activeEffects.length;)this.popEffect();cr.forEach(function(Sr){return lr.applyEffect(Sr)})},nr.prototype.applyEffect=function(cr){this.ctx.save(),Hc(cr)&&(this.ctx.globalAlpha=cr.opacity),iA(cr)&&(this.ctx.translate(cr.offsetX,cr.offsetY),this.ctx.transform(cr.matrix[0],cr.matrix[1],cr.matrix[2],cr.matrix[3],cr.matrix[4],cr.matrix[5]),this.ctx.translate(-cr.offsetX,-cr.offsetY)),Dl(cr)&&(this.path(cr.path),this.ctx.clip()),this._activeEffects.push(cr)},nr.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},nr.prototype.renderStack=function(cr){return Ie(this,void 0,void 0,function(){var lr;return Be(this,function(Sr){switch(Sr.label){case 0:return lr=cr.element.container.styles,lr.isVisible()?[4,this.renderStackContent(cr)]:[3,2];case 1:Sr.sent(),Sr.label=2;case 2:return[2]}})})},nr.prototype.renderNode=function(cr){return Ie(this,void 0,void 0,function(){return Be(this,function(lr){switch(lr.label){case 0:if(ri(cr.container.flags,16))debugger;return cr.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(cr)]:[3,3];case 1:return lr.sent(),[4,this.renderNodeContent(cr)];case 2:lr.sent(),lr.label=3;case 3:return[2]}})})},nr.prototype.renderTextWithLetterSpacing=function(cr,lr,Sr){var Fr=this;if(lr===0)this.ctx.fillText(cr.text,cr.bounds.left,cr.bounds.top+Sr);else{var Vr=Yl(cr.text);Vr.reduce(function(fn,dn){return Fr.ctx.fillText(dn,fn,cr.bounds.top+Sr),fn+Fr.ctx.measureText(dn).width},cr.bounds.left)}},nr.prototype.createFontStyle=function(cr){var lr=cr.fontVariant.filter(function(Vr){return Vr==="normal"||Vr==="small-caps"}).join(""),Sr=xf(cr.fontFamily).join(", "),Fr=Dn(cr.fontSize)?""+cr.fontSize.number+cr.fontSize.unit:cr.fontSize.number+"px";return[[cr.fontStyle,lr,cr.fontWeight,Fr,Sr].join(" "),Sr,Fr]},nr.prototype.renderTextNode=function(cr,lr){return Ie(this,void 0,void 0,function(){var Sr,Fr,Vr,fn,dn,In,Ln,$n,ai=this;return Be(this,function(Mi){return Sr=this.createFontStyle(lr),Fr=Sr[0],Vr=Sr[1],fn=Sr[2],this.ctx.font=Fr,this.ctx.direction=lr.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",dn=this.fontMetrics.getMetrics(Vr,fn),In=dn.baseline,Ln=dn.middle,$n=lr.paintOrder,cr.textBounds.forEach(function(Ii){$n.forEach(function(ji){switch(ji){case 0:ai.ctx.fillStyle=ja(lr.color),ai.renderTextWithLetterSpacing(Ii,lr.letterSpacing,In);var _s=lr.textShadow;_s.length&&Ii.text.trim().length&&(_s.slice(0).reverse().forEach(function(Yi){ai.ctx.shadowColor=ja(Yi.color),ai.ctx.shadowOffsetX=Yi.offsetX.number*ai.options.scale,ai.ctx.shadowOffsetY=Yi.offsetY.number*ai.options.scale,ai.ctx.shadowBlur=Yi.blur.number,ai.renderTextWithLetterSpacing(Ii,lr.letterSpacing,In)}),ai.ctx.shadowColor="",ai.ctx.shadowOffsetX=0,ai.ctx.shadowOffsetY=0,ai.ctx.shadowBlur=0),lr.textDecorationLine.length&&(ai.ctx.fillStyle=ja(lr.textDecorationColor||lr.color),lr.textDecorationLine.forEach(function(Yi){switch(Yi){case 1:ai.ctx.fillRect(Ii.bounds.left,Math.round(Ii.bounds.top+In),Ii.bounds.width,1);break;case 2:ai.ctx.fillRect(Ii.bounds.left,Math.round(Ii.bounds.top),Ii.bounds.width,1);break;case 3:ai.ctx.fillRect(Ii.bounds.left,Math.ceil(Ii.bounds.top+Ln),Ii.bounds.width,1);break}}));break;case 1:lr.webkitTextStrokeWidth&&Ii.text.trim().length&&(ai.ctx.strokeStyle=ja(lr.webkitTextStrokeColor),ai.ctx.lineWidth=lr.webkitTextStrokeWidth,ai.ctx.lineJoin=window.chrome?"miter":"round",ai.ctx.strokeText(Ii.text,Ii.bounds.left,Ii.bounds.top+In)),ai.ctx.strokeStyle="",ai.ctx.lineWidth=0,ai.ctx.lineJoin="miter";break}})}),[2]})})},nr.prototype.renderReplacedElement=function(cr,lr,Sr){if(Sr&&cr.intrinsicWidth>0&&cr.intrinsicHeight>0){var Fr=rh(cr),Vr=gc(lr);this.path(Vr),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(Sr,0,0,cr.intrinsicWidth,cr.intrinsicHeight,Fr.left,Fr.top,Fr.width,Fr.height),this.ctx.restore()}},nr.prototype.renderNodeContent=function(cr){return Ie(this,void 0,void 0,function(){var lr,Sr,Fr,Vr,fn,dn,Gi,Gi,In,Ln,$n,ai,xs,Mi,Ii,fs,ji,_s,Yi,Gi,js,xs,fs;return Be(this,function(zi){switch(zi.label){case 0:this.applyEffects(cr.getEffects(4)),lr=cr.container,Sr=cr.curves,Fr=lr.styles,Vr=0,fn=lr.textNodes,zi.label=1;case 1:return Vr<fn.length?(dn=fn[Vr],[4,this.renderTextNode(dn,Fr)]):[3,4];case 2:zi.sent(),zi.label=3;case 3:return Vr++,[3,1];case 4:if(!(lr instanceof $h))return[3,8];zi.label=5;case 5:return zi.trys.push([5,7,,8]),[4,this.context.cache.match(lr.src)];case 6:return Gi=zi.sent(),this.renderReplacedElement(lr,Sr,Gi),[3,8];case 7:return zi.sent(),this.context.logger.error("Error loading image "+lr.src),[3,8];case 8:if(lr instanceof hd&&this.renderReplacedElement(lr,Sr,lr.canvas),!(lr instanceof gh))return[3,12];zi.label=9;case 9:return zi.trys.push([9,11,,12]),[4,this.context.cache.match(lr.svg)];case 10:return Gi=zi.sent(),this.renderReplacedElement(lr,Sr,Gi),[3,12];case 11:return zi.sent(),this.context.logger.error("Error loading svg "+lr.svg.substring(0,255)),[3,12];case 12:return lr instanceof Hh&&lr.tree?(In=new nr(this.context,{scale:this.options.scale,backgroundColor:lr.backgroundColor,x:0,y:0,width:lr.width,height:lr.height}),[4,In.render(lr.tree)]):[3,14];case 13:Ln=zi.sent(),lr.width&&lr.height&&this.ctx.drawImage(Ln,0,0,lr.width,lr.height,lr.bounds.left,lr.bounds.top,lr.bounds.width,lr.bounds.height),zi.label=14;case 14:if(lr instanceof Uf&&($n=Math.min(lr.bounds.width,lr.bounds.height),lr.type===_h?lr.checked&&(this.ctx.save(),this.path([new Pi(lr.bounds.left+$n*.39363,lr.bounds.top+$n*.79),new Pi(lr.bounds.left+$n*.16,lr.bounds.top+$n*.5549),new Pi(lr.bounds.left+$n*.27347,lr.bounds.top+$n*.44071),new Pi(lr.bounds.left+$n*.39694,lr.bounds.top+$n*.5649),new Pi(lr.bounds.left+$n*.72983,lr.bounds.top+$n*.23),new Pi(lr.bounds.left+$n*.84,lr.bounds.top+$n*.34085),new Pi(lr.bounds.left+$n*.39363,lr.bounds.top+$n*.79)]),this.ctx.fillStyle=ja(Kd),this.ctx.fill(),this.ctx.restore()):lr.type===Lu&&lr.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(lr.bounds.left+$n/2,lr.bounds.top+$n/2,$n/4,0,Math.PI*2,!0),this.ctx.fillStyle=ja(Kd),this.ctx.fill(),this.ctx.restore())),_d(lr)&&lr.value.length){switch(ai=this.createFontStyle(Fr),xs=ai[0],Mi=ai[1],Ii=this.fontMetrics.getMetrics(xs,Mi).baseline,this.ctx.font=xs,this.ctx.fillStyle=ja(Fr.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Gu(lr.styles.textAlign),fs=rh(lr),ji=0,lr.styles.textAlign){case 1:ji+=fs.width/2;break;case 2:ji+=fs.width;break}_s=fs.add(ji,0,0,-fs.height/2+1),this.ctx.save(),this.path([new Pi(fs.left,fs.top),new Pi(fs.left+fs.width,fs.top),new Pi(fs.left+fs.width,fs.top+fs.height),new Pi(fs.left,fs.top+fs.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new hf(lr.value,_s),Fr.letterSpacing,Ii),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ri(lr.styles.display,2048))return[3,20];if(lr.styles.listStyleImage===null)return[3,19];if(Yi=lr.styles.listStyleImage,Yi.type!==0)return[3,18];Gi=void 0,js=Yi.url,zi.label=15;case 15:return zi.trys.push([15,17,,18]),[4,this.context.cache.match(js)];case 16:return Gi=zi.sent(),this.ctx.drawImage(Gi,lr.bounds.left-(Gi.width+10),lr.bounds.top),[3,18];case 17:return zi.sent(),this.context.logger.error("Error loading list-style-image "+js),[3,18];case 18:return[3,20];case 19:cr.listValue&&lr.styles.listStyleType!==-1&&(xs=this.createFontStyle(Fr)[0],this.ctx.font=xs,this.ctx.fillStyle=ja(Fr.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",fs=new De(lr.bounds.left,lr.bounds.top+$s(lr.styles.paddingTop,lr.bounds.width),lr.bounds.width,zl(Fr.lineHeight,Fr.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new hf(cr.listValue,fs),Fr.letterSpacing,zl(Fr.lineHeight,Fr.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),zi.label=20;case 20:return[2]}})})},nr.prototype.renderStackContent=function(cr){return Ie(this,void 0,void 0,function(){var lr,Sr,Yi,Fr,Vr,Yi,fn,dn,Yi,In,Ln,Yi,$n,ai,Yi,Mi,Ii,Yi,ji,_s,Yi;return Be(this,function(Gi){switch(Gi.label){case 0:if(ri(cr.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(cr.element)];case 1:Gi.sent(),lr=0,Sr=cr.negativeZIndex,Gi.label=2;case 2:return lr<Sr.length?(Yi=Sr[lr],[4,this.renderStack(Yi)]):[3,5];case 3:Gi.sent(),Gi.label=4;case 4:return lr++,[3,2];case 5:return[4,this.renderNodeContent(cr.element)];case 6:Gi.sent(),Fr=0,Vr=cr.nonInlineLevel,Gi.label=7;case 7:return Fr<Vr.length?(Yi=Vr[Fr],[4,this.renderNode(Yi)]):[3,10];case 8:Gi.sent(),Gi.label=9;case 9:return Fr++,[3,7];case 10:fn=0,dn=cr.nonPositionedFloats,Gi.label=11;case 11:return fn<dn.length?(Yi=dn[fn],[4,this.renderStack(Yi)]):[3,14];case 12:Gi.sent(),Gi.label=13;case 13:return fn++,[3,11];case 14:In=0,Ln=cr.nonPositionedInlineLevel,Gi.label=15;case 15:return In<Ln.length?(Yi=Ln[In],[4,this.renderStack(Yi)]):[3,18];case 16:Gi.sent(),Gi.label=17;case 17:return In++,[3,15];case 18:$n=0,ai=cr.inlineLevel,Gi.label=19;case 19:return $n<ai.length?(Yi=ai[$n],[4,this.renderNode(Yi)]):[3,22];case 20:Gi.sent(),Gi.label=21;case 21:return $n++,[3,19];case 22:Mi=0,Ii=cr.zeroOrAutoZIndexOrTransformedOrOpacity,Gi.label=23;case 23:return Mi<Ii.length?(Yi=Ii[Mi],[4,this.renderStack(Yi)]):[3,26];case 24:Gi.sent(),Gi.label=25;case 25:return Mi++,[3,23];case 26:ji=0,_s=cr.positiveZIndex,Gi.label=27;case 27:return ji<_s.length?(Yi=_s[ji],[4,this.renderStack(Yi)]):[3,30];case 28:Gi.sent(),Gi.label=29;case 29:return ji++,[3,27];case 30:return[2]}})})},nr.prototype.mask=function(cr){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(cr.slice(0).reverse()),this.ctx.closePath()},nr.prototype.path=function(cr){this.ctx.beginPath(),this.formatPath(cr),this.ctx.closePath()},nr.prototype.formatPath=function(cr){var lr=this;cr.forEach(function(Sr,Fr){var Vr=ca(Sr)?Sr.start:Sr;Fr===0?lr.ctx.moveTo(Vr.x,Vr.y):lr.ctx.lineTo(Vr.x,Vr.y),ca(Sr)&&lr.ctx.bezierCurveTo(Sr.startControl.x,Sr.startControl.y,Sr.endControl.x,Sr.endControl.y,Sr.end.x,Sr.end.y)})},nr.prototype.renderRepeat=function(cr,lr,Sr,Fr){this.path(cr),this.ctx.fillStyle=lr,this.ctx.translate(Sr,Fr),this.ctx.fill(),this.ctx.translate(-Sr,-Fr)},nr.prototype.resizeImage=function(cr,lr,Sr){var Fr;if(cr.width===lr&&cr.height===Sr)return cr;var Vr=(Fr=this.canvas.ownerDocument)!==null&&Fr!==void 0?Fr:document,fn=Vr.createElement("canvas");fn.width=Math.max(1,lr),fn.height=Math.max(1,Sr);var dn=fn.getContext("2d");return dn.drawImage(cr,0,0,cr.width,cr.height,0,0,lr,Sr),fn},nr.prototype.renderBackgroundImage=function(cr){return Ie(this,void 0,void 0,function(){var lr,Sr,Fr,Vr,fn,dn;return Be(this,function(In){switch(In.label){case 0:lr=cr.styles.backgroundImage.length-1,Sr=function(Ln){var $n,ai,Mi,Ya,pl,To,Aa,Wo,Hs,Ii,Ya,pl,To,Aa,Wo,ji,_s,Yi,Gi,js,xs,fs,zi,Vs,Hs,ms,Ya,ol,tc,Aa,Wo,qu,pl,To,du,Qc,Yu,_f,bf,hu,Ef,yc;return Be(this,function(qf){switch(qf.label){case 0:if(Ln.type!==0)return[3,5];$n=void 0,ai=Ln.url,qf.label=1;case 1:return qf.trys.push([1,3,,4]),[4,Fr.context.cache.match(ai)];case 2:return $n=qf.sent(),[3,4];case 3:return qf.sent(),Fr.context.logger.error("Error loading background-image "+ai),[3,4];case 4:return $n&&(Mi=jh(cr,lr,[$n.width,$n.height,$n.width/$n.height]),Ya=Mi[0],pl=Mi[1],To=Mi[2],Aa=Mi[3],Wo=Mi[4],Hs=Fr.ctx.createPattern(Fr.resizeImage($n,Aa,Wo),"repeat"),Fr.renderRepeat(Ya,Hs,pl,To)),[3,6];case 5:Tl(Ln)?(Ii=jh(cr,lr,[null,null,null]),Ya=Ii[0],pl=Ii[1],To=Ii[2],Aa=Ii[3],Wo=Ii[4],ji=vu(Ln.angle,Aa,Wo),_s=ji[0],Yi=ji[1],Gi=ji[2],js=ji[3],xs=ji[4],fs=document.createElement("canvas"),fs.width=Aa,fs.height=Wo,zi=fs.getContext("2d"),Vs=zi.createLinearGradient(Yi,js,Gi,xs),Va(Ln.stops,_s).forEach(function(Ed){return Vs.addColorStop(Ed.stop,ja(Ed.color))}),zi.fillStyle=Vs,zi.fillRect(0,0,Aa,Wo),Aa>0&&Wo>0&&(Hs=Fr.ctx.createPattern(fs,"repeat"),Fr.renderRepeat(Ya,Hs,pl,To))):nu(Ln)&&(ms=jh(cr,lr,[null,null,null]),Ya=ms[0],ol=ms[1],tc=ms[2],Aa=ms[3],Wo=ms[4],qu=Ln.position.length===0?[Xc]:Ln.position,pl=$s(qu[0],Aa),To=$s(qu[qu.length-1],Wo),du=eu(Ln,pl,To,Aa,Wo),Qc=du[0],Yu=du[1],Qc>0&&Yu>0&&(_f=Fr.ctx.createRadialGradient(ol+pl,tc+To,0,ol+pl,tc+To,Qc),Va(Ln.stops,Qc*2).forEach(function(Ed){return _f.addColorStop(Ed.stop,ja(Ed.color))}),Fr.path(Ya),Fr.ctx.fillStyle=_f,Qc!==Yu?(bf=cr.bounds.left+.5*cr.bounds.width,hu=cr.bounds.top+.5*cr.bounds.height,Ef=Yu/Qc,yc=1/Ef,Fr.ctx.save(),Fr.ctx.translate(bf,hu),Fr.ctx.transform(1,0,0,Ef,0,0),Fr.ctx.translate(-bf,-hu),Fr.ctx.fillRect(ol,yc*(tc-hu)+hu,Aa,Wo*yc),Fr.ctx.restore()):Fr.ctx.fill())),qf.label=6;case 6:return lr--,[2]}})},Fr=this,Vr=0,fn=cr.styles.backgroundImage.slice(0).reverse(),In.label=1;case 1:return Vr<fn.length?(dn=fn[Vr],[5,Sr(dn)]):[3,4];case 2:In.sent(),In.label=3;case 3:return Vr++,[3,1];case 4:return[2]}})})},nr.prototype.renderSolidBorder=function(cr,lr,Sr){return Ie(this,void 0,void 0,function(){return Be(this,function(Fr){return this.path(Bh(Sr,lr)),this.ctx.fillStyle=ja(cr),this.ctx.fill(),[2]})})},nr.prototype.renderDoubleBorder=function(cr,lr,Sr,Fr){return Ie(this,void 0,void 0,function(){var Vr,fn;return Be(this,function(dn){switch(dn.label){case 0:return lr<3?[4,this.renderSolidBorder(cr,Sr,Fr)]:[3,2];case 1:return dn.sent(),[2];case 2:return Vr=fu(Fr,Sr),this.path(Vr),this.ctx.fillStyle=ja(cr),this.ctx.fill(),fn=MA(Fr,Sr),this.path(fn),this.ctx.fill(),[2]}})})},nr.prototype.renderNodeBackgroundAndBorders=function(cr){return Ie(this,void 0,void 0,function(){var lr,Sr,Fr,Vr,fn,dn,In,Ln,$n=this;return Be(this,function(ai){switch(ai.label){case 0:return this.applyEffects(cr.getEffects(2)),lr=cr.container.styles,Sr=!Vo(lr.backgroundColor)||lr.backgroundImage.length,Fr=[{style:lr.borderTopStyle,color:lr.borderTopColor,width:lr.borderTopWidth},{style:lr.borderRightStyle,color:lr.borderRightColor,width:lr.borderRightWidth},{style:lr.borderBottomStyle,color:lr.borderBottomColor,width:lr.borderBottomWidth},{style:lr.borderLeftStyle,color:lr.borderLeftColor,width:lr.borderLeftWidth}],Vr=lA(xd(lr.backgroundClip,0),cr.curves),Sr||lr.boxShadow.length?(this.ctx.save(),this.path(Vr),this.ctx.clip(),Vo(lr.backgroundColor)||(this.ctx.fillStyle=ja(lr.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(cr.container)]):[3,2];case 1:ai.sent(),this.ctx.restore(),lr.boxShadow.slice(0).reverse().forEach(function(Mi){$n.ctx.save();var Ii=ma(cr.curves),ji=Mi.inset?0:Jl,_s=Zl(Ii,-ji+(Mi.inset?1:-1)*Mi.spread.number,(Mi.inset?1:-1)*Mi.spread.number,Mi.spread.number*(Mi.inset?-2:2),Mi.spread.number*(Mi.inset?-2:2));Mi.inset?($n.path(Ii),$n.ctx.clip(),$n.mask(_s)):($n.mask(Ii),$n.ctx.clip(),$n.path(_s)),$n.ctx.shadowOffsetX=Mi.offsetX.number+ji,$n.ctx.shadowOffsetY=Mi.offsetY.number,$n.ctx.shadowColor=ja(Mi.color),$n.ctx.shadowBlur=Mi.blur.number,$n.ctx.fillStyle=Mi.inset?ja(Mi.color):"rgba(0,0,0,1)",$n.ctx.fill(),$n.ctx.restore()}),ai.label=2;case 2:fn=0,dn=0,In=Fr,ai.label=3;case 3:return dn<In.length?(Ln=In[dn],Ln.style!==0&&!Vo(Ln.color)&&Ln.width>0?Ln.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Ln.color,Ln.width,fn,cr.curves,2)]:[3,11]):[3,13];case 4:return ai.sent(),[3,11];case 5:return Ln.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Ln.color,Ln.width,fn,cr.curves,3)];case 6:return ai.sent(),[3,11];case 7:return Ln.style!==4?[3,9]:[4,this.renderDoubleBorder(Ln.color,Ln.width,fn,cr.curves)];case 8:return ai.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ln.color,fn,cr.curves)];case 10:ai.sent(),ai.label=11;case 11:fn++,ai.label=12;case 12:return dn++,[3,3];case 13:return[2]}})})},nr.prototype.renderDashedDottedBorder=function(cr,lr,Sr,Fr,Vr){return Ie(this,void 0,void 0,function(){var fn,dn,In,Ln,$n,ai,Mi,Ii,ji,_s,Yi,Gi,js,xs,fs,zi,fs,zi;return Be(this,function(Vs){return this.ctx.save(),fn=yd(Fr,Sr),dn=Bh(Fr,Sr),Vr===2&&(this.path(dn),this.ctx.clip()),ca(dn[0])?(In=dn[0].start.x,Ln=dn[0].start.y):(In=dn[0].x,Ln=dn[0].y),ca(dn[1])?($n=dn[1].end.x,ai=dn[1].end.y):($n=dn[1].x,ai=dn[1].y),Sr===0||Sr===2?Mi=Math.abs(In-$n):Mi=Math.abs(Ln-ai),this.ctx.beginPath(),Vr===3?this.formatPath(fn):this.formatPath(dn.slice(0,2)),Ii=lr<3?lr*3:lr*2,ji=lr<3?lr*2:lr,Vr===3&&(Ii=lr,ji=lr),_s=!0,Mi<=Ii*2?_s=!1:Mi<=Ii*2+ji?(Yi=Mi/(2*Ii+ji),Ii*=Yi,ji*=Yi):(Gi=Math.floor((Mi+ji)/(Ii+ji)),js=(Mi-Gi*Ii)/(Gi-1),xs=(Mi-(Gi+1)*Ii)/Gi,ji=xs<=0||Math.abs(ji-js)<Math.abs(ji-xs)?js:xs),_s&&(Vr===3?this.ctx.setLineDash([0,Ii+ji]):this.ctx.setLineDash([Ii,ji])),Vr===3?(this.ctx.lineCap="round",this.ctx.lineWidth=lr):this.ctx.lineWidth=lr*2+1.1,this.ctx.strokeStyle=ja(cr),this.ctx.stroke(),this.ctx.setLineDash([]),Vr===2&&(ca(dn[0])&&(fs=dn[3],zi=dn[0],this.ctx.beginPath(),this.formatPath([new Pi(fs.end.x,fs.end.y),new Pi(zi.start.x,zi.start.y)]),this.ctx.stroke()),ca(dn[1])&&(fs=dn[1],zi=dn[2],this.ctx.beginPath(),this.formatPath([new Pi(fs.end.x,fs.end.y),new Pi(zi.start.x,zi.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},nr.prototype.render=function(cr){return Ie(this,void 0,void 0,function(){var lr;return Be(this,function(Sr){switch(Sr.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ja(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),lr=oA(cr),[4,this.renderStack(lr)];case 1:return Sr.sent(),this.applyEffects([]),[2,this.canvas]}})})},nr}(ia),_d=function(sr){return sr instanceof Vh||sr instanceof Wd?!0:sr instanceof Uf&&sr.type!==Lu&&sr.type!==_h},lA=function(sr,nr){switch(sr){case 0:return ma(nr);case 2:return jl(nr);case 1:default:return gc(nr)}},Gu=function(sr){switch(sr){case 1:return"center";case 2:return"right";case 0:default:return"left"}},qa=["-apple-system","system-ui"],xf=function(sr){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?sr.filter(function(nr){return qa.indexOf(nr)===-1}):sr},Gf=function(sr){Pe(nr,sr);function nr(cr,lr){var Sr=sr.call(this,cr,lr)||this;return Sr.canvas=lr.canvas?lr.canvas:document.createElement("canvas"),Sr.ctx=Sr.canvas.getContext("2d"),Sr.options=lr,Sr.canvas.width=Math.floor(lr.width*lr.scale),Sr.canvas.height=Math.floor(lr.height*lr.scale),Sr.canvas.style.width=lr.width+"px",Sr.canvas.style.height=lr.height+"px",Sr.ctx.scale(Sr.options.scale,Sr.options.scale),Sr.ctx.translate(-lr.x,-lr.y),Sr.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+lr.width+"x"+lr.height+" at "+lr.x+","+lr.y+") with scale "+lr.scale),Sr}return nr.prototype.render=function(cr){return Ie(this,void 0,void 0,function(){var lr,Sr;return Be(this,function(Fr){switch(Fr.label){case 0:return lr=Nf(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,cr),[4,cA(lr)];case 1:return Sr=Fr.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ja(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(Sr,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},nr}(ia),cA=function(sr){return new Promise(function(nr,cr){var lr=new Image;lr.onload=function(){nr(lr)},lr.onerror=cr,lr.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(sr))})},vc=function(){function sr(nr){var cr=nr.id,lr=nr.enabled;this.id=cr,this.enabled=lr,this.start=Date.now()}return sr.prototype.debug=function(){for(var nr=[],cr=0;cr<arguments.length;cr++)nr[cr]=arguments[cr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,je([this.id,this.getTime()+"ms"],nr)):this.info.apply(this,nr))},sr.prototype.getTime=function(){return Date.now()-this.start},sr.prototype.info=function(){for(var nr=[],cr=0;cr<arguments.length;cr++)nr[cr]=arguments[cr];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,je([this.id,this.getTime()+"ms"],nr))},sr.prototype.warn=function(){for(var nr=[],cr=0;cr<arguments.length;cr++)nr[cr]=arguments[cr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,je([this.id,this.getTime()+"ms"],nr)):this.info.apply(this,nr))},sr.prototype.error=function(){for(var nr=[],cr=0;cr<arguments.length;cr++)nr[cr]=arguments[cr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,je([this.id,this.getTime()+"ms"],nr)):this.info.apply(this,nr))},sr.instances={},sr}(),bd=function(){function sr(nr,cr){var lr;this.windowBounds=cr,this.instanceName="#"+sr.instanceCount++,this.logger=new vc({id:this.instanceName,enabled:nr.logging}),this.cache=(lr=nr.cache)!==null&&lr!==void 0?lr:new uu(this,nr)}return sr.instanceCount=1,sr}(),sh=function(sr,nr){return nr===void 0&&(nr={}),Fl(sr,nr)};typeof window<"u"&&vd.setContext(window);var Fl=function(sr,nr){return Ie(void 0,void 0,void 0,function(){var cr,lr,Sr,Fr,Vr,fn,dn,In,Ln,$n,ai,Mi,Ii,ji,_s,Yi,Gi,js,xs,fs,Vs,zi,Vs,Hs,ms,Ya,ol,tc,Aa,Wo,qu,pl,To,du,Qc,Yu,_f,bf,hu,Ef;return Be(this,function(yc){switch(yc.label){case 0:if(!sr||typeof sr!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(cr=sr.ownerDocument,!cr)throw new Error("Element is not attached to a Document");if(lr=cr.defaultView,!lr)throw new Error("Document is not attached to a Window");return Sr={allowTaint:(Hs=nr.allowTaint)!==null&&Hs!==void 0?Hs:!1,imageTimeout:(ms=nr.imageTimeout)!==null&&ms!==void 0?ms:15e3,proxy:nr.proxy,useCORS:(Ya=nr.useCORS)!==null&&Ya!==void 0?Ya:!1},Fr=Re({logging:(ol=nr.logging)!==null&&ol!==void 0?ol:!0,cache:nr.cache},Sr),Vr={windowWidth:(tc=nr.windowWidth)!==null&&tc!==void 0?tc:lr.innerWidth,windowHeight:(Aa=nr.windowHeight)!==null&&Aa!==void 0?Aa:lr.innerHeight,scrollX:(Wo=nr.scrollX)!==null&&Wo!==void 0?Wo:lr.pageXOffset,scrollY:(qu=nr.scrollY)!==null&&qu!==void 0?qu:lr.pageYOffset},fn=new De(Vr.scrollX,Vr.scrollY,Vr.windowWidth,Vr.windowHeight),dn=new bd(Fr,fn),In=(pl=nr.foreignObjectRendering)!==null&&pl!==void 0?pl:!1,Ln={allowTaint:(To=nr.allowTaint)!==null&&To!==void 0?To:!1,onclone:nr.onclone,ignoreElements:nr.ignoreElements,inlineImages:In,copyStyles:In},dn.logger.debug("Starting document clone with size "+fn.width+"x"+fn.height+" scrolled to "+-fn.left+","+-fn.top),$n=new Sh(dn,sr,Ln),ai=$n.clonedReferenceElement,ai?[4,$n.toIFrame(cr,fn)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Mi=yc.sent(),Ii=pd(ai)||RA(ai)?Oe(ai.ownerDocument):Fe(dn,ai),ji=Ii.width,_s=Ii.height,Yi=Ii.left,Gi=Ii.top,js=uA(dn,ai,nr.backgroundColor),xs={canvas:nr.canvas,backgroundColor:js,scale:(Qc=(du=nr.scale)!==null&&du!==void 0?du:lr.devicePixelRatio)!==null&&Qc!==void 0?Qc:1,x:((Yu=nr.x)!==null&&Yu!==void 0?Yu:0)+Yi,y:((_f=nr.y)!==null&&_f!==void 0?_f:0)+Gi,width:(bf=nr.width)!==null&&bf!==void 0?bf:Math.ceil(ji),height:(hu=nr.height)!==null&&hu!==void 0?hu:Math.ceil(_s)},In?(dn.logger.debug("Document cloned, using foreign object rendering"),Vs=new Gf(dn,xs),[4,Vs.render(ai)]):[3,3];case 2:return fs=yc.sent(),[3,5];case 3:return dn.logger.debug("Document cloned, element located at "+Yi+","+Gi+" with size "+ji+"x"+_s+" using computed rendering"),dn.logger.debug("Starting DOM parsing"),zi=$c(dn,ai),js===zi.styles.backgroundColor&&(zi.styles.backgroundColor=vo.TRANSPARENT),dn.logger.debug("Starting renderer for element at "+xs.x+","+xs.y+" with size "+xs.width+"x"+xs.height),Vs=new yf(dn,xs),[4,Vs.render(zi)];case 4:fs=yc.sent(),yc.label=5;case 5:return(!((Ef=nr.removeContainer)!==null&&Ef!==void 0)||Ef)&&(Sh.destroy(Mi)||dn.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),dn.logger.debug("Finished rendering"),[2,fs]}})})},uA=function(sr,nr,cr){var lr=nr.ownerDocument,Sr=lr.documentElement?Ho(sr,getComputedStyle(lr.documentElement).backgroundColor):vo.TRANSPARENT,Fr=lr.body?Ho(sr,getComputedStyle(lr.body).backgroundColor):vo.TRANSPARENT,Vr=typeof cr=="string"?Ho(sr,cr):cr===null?vo.TRANSPARENT:4294967295;return nr===lr.documentElement?Vo(Sr)?Vo(Fr)?Vr:Fr:Sr:Vr};return sh})}(html2canvas$1)),html2canvas$1.exports}/*!
 * html2pdf.js v0.10.3
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var hasRequiredHtml2pdf;function requireHtml2pdf(){return hasRequiredHtml2pdf||(hasRequiredHtml2pdf=1,function(Ee,_e){(function(Pe,Re){Ee.exports=Re(require$$0,requireHtml2canvas())})(self,function(Ce,Pe){return function(){var Re={"./src/plugin/hyperlinks.js":function(De,Fe,Oe){Oe.r(Fe),Oe("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Oe("./node_modules/core-js/modules/es.string.link.js");var ke=Oe("./src/worker.js"),Me=Oe("./src/utils.js"),$e=[],He={toContainer:ke.default.prototype.toContainer,toPdf:ke.default.prototype.toPdf};ke.default.prototype.toContainer=function(){return He.toContainer.call(this).then(function(){if(this.opt.enableLinks){var ze=this.prop.container,We=ze.querySelectorAll("a"),qe=(0,Me.unitConvert)(ze.getBoundingClientRect(),this.prop.pageSize.k);$e=[],Array.prototype.forEach.call(We,function(Ye){for(var Xe=Ye.getClientRects(),rr=0;rr<Xe.length;rr++){var Je=(0,Me.unitConvert)(Xe[rr],this.prop.pageSize.k);Je.left-=qe.left,Je.top-=qe.top;var er=Math.floor(Je.top/this.prop.pageSize.inner.height)+1,or=this.opt.margin[0]+Je.top%this.prop.pageSize.inner.height,pr=this.opt.margin[1]+Je.left;$e.push({page:er,top:or,left:pr,clientRect:Je,link:Ye})}},this)}})},ke.default.prototype.toPdf=function(){return He.toPdf.call(this).then(function(){if(this.opt.enableLinks){$e.forEach(function(We){this.prop.pdf.setPage(We.page),this.prop.pdf.link(We.left,We.top,We.clientRect.width,We.clientRect.height,{url:We.link.href})},this);var ze=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(ze)}})}},"./src/plugin/jspdf-plugin.js":function(De,Fe,Oe){Oe.r(Fe),Oe("./node_modules/core-js/modules/es.symbol.js"),Oe("./node_modules/core-js/modules/es.symbol.description.js"),Oe("./node_modules/core-js/modules/es.object.to-string.js"),Oe("./node_modules/core-js/modules/es.symbol.iterator.js"),Oe("./node_modules/core-js/modules/es.array.iterator.js"),Oe("./node_modules/core-js/modules/es.string.iterator.js"),Oe("./node_modules/core-js/modules/web.dom-collections.iterator.js");var ke=Oe("jspdf");function Me($e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Me=function(Qe){return typeof Qe}:Me=function(Qe){return Qe&&typeof Symbol=="function"&&Qe.constructor===Symbol&&Qe!==Symbol.prototype?"symbol":typeof Qe},Me($e)}ke.jsPDF.getPageSize=function($e,He,Qe){if(Me($e)==="object"){var Ke=$e;$e=Ke.orientation,He=Ke.unit||He,Qe=Ke.format||Qe}He=He||"mm",Qe=Qe||"a4",$e=(""+($e||"P")).toLowerCase();var ze=(""+Qe).toLowerCase(),We={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(He){case"pt":var qe=1;break;case"mm":var qe=72/25.4;break;case"cm":var qe=72/2.54;break;case"in":var qe=72;break;case"px":var qe=72/96;break;case"pc":var qe=12;break;case"em":var qe=12;break;case"ex":var qe=6;break;default:throw"Invalid unit: "+He}if(We.hasOwnProperty(ze))var Ye=We[ze][1]/qe,Xe=We[ze][0]/qe;else try{var Ye=Qe[1],Xe=Qe[0]}catch{throw new Error("Invalid format: "+Qe)}if($e==="p"||$e==="portrait"){if($e="p",Xe>Ye){var rr=Xe;Xe=Ye,Ye=rr}}else if($e==="l"||$e==="landscape"){if($e="l",Ye>Xe){var rr=Xe;Xe=Ye,Ye=rr}}else throw"Invalid orientation: "+$e;var Je={width:Xe,height:Ye,unit:He,k:qe};return Je},Fe.default=ke.jsPDF},"./src/plugin/pagebreaks.js":function(De,Fe,Oe){Oe.r(Fe),Oe("./node_modules/core-js/modules/es.array.concat.js"),Oe("./node_modules/core-js/modules/es.array.slice.js"),Oe("./node_modules/core-js/modules/es.array.join.js"),Oe("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Oe("./node_modules/core-js/modules/es.object.keys.js");var ke=Oe("./src/worker.js"),Me=Oe("./src/utils.js"),$e={toContainer:ke.default.prototype.toContainer};ke.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},ke.default.prototype.toContainer=function(){return $e.toContainer.call(this).then(function(){var Ke=this.prop.container,ze=this.prop.pageSize.inner.px.height,We=[].concat(this.opt.pagebreak.mode),qe={avoidAll:We.indexOf("avoid-all")!==-1,css:We.indexOf("css")!==-1,legacy:We.indexOf("legacy")!==-1},Ye={},Xe=this;["before","after","avoid"].forEach(function(er){var or=qe.avoidAll&&er==="avoid";Ye[er]=or?[]:[].concat(Xe.opt.pagebreak[er]||[]),Ye[er].length>0&&(Ye[er]=Array.prototype.slice.call(Ke.querySelectorAll(Ye[er].join(", "))))});var rr=Ke.querySelectorAll(".html2pdf__page-break");rr=Array.prototype.slice.call(rr);var Je=Ke.querySelectorAll("*");Array.prototype.forEach.call(Je,function(or){var pr={before:!1,after:qe.legacy&&rr.indexOf(or)!==-1,avoid:qe.avoidAll};if(qe.css){var ar=window.getComputedStyle(or),fr=["always","page","left","right"],gr=["avoid","avoid-page"];pr={before:pr.before||fr.indexOf(ar.breakBefore||ar.pageBreakBefore)!==-1,after:pr.after||fr.indexOf(ar.breakAfter||ar.pageBreakAfter)!==-1,avoid:pr.avoid||gr.indexOf(ar.breakInside||ar.pageBreakInside)!==-1}}Object.keys(pr).forEach(function(br){pr[br]=pr[br]||Ye[br].indexOf(or)!==-1});var Rr=or.getBoundingClientRect();if(pr.avoid&&!pr.before){var Ir=Math.floor(Rr.top/ze),mr=Math.floor(Rr.bottom/ze),Er=Math.abs(Rr.bottom-Rr.top)/ze;mr!==Ir&&Er<=1&&(pr.before=!0)}if(pr.before){var Ar=(0,Me.createElement)("div",{style:{display:"block",height:ze-Rr.top%ze+"px"}});or.parentNode.insertBefore(Ar,or)}if(pr.after){var Ar=(0,Me.createElement)("div",{style:{display:"block",height:ze-Rr.bottom%ze+"px"}});or.parentNode.insertBefore(Ar,or.nextSibling)}})})}},"./src/utils.js":function(De,Fe,Oe){Oe.r(Fe),Oe.d(Fe,{objType:function(){return Me},createElement:function(){return $e},cloneNode:function(){return He},unitConvert:function(){return Qe},toPx:function(){return Ke}}),Oe("./node_modules/core-js/modules/es.number.constructor.js"),Oe("./node_modules/core-js/modules/es.symbol.js"),Oe("./node_modules/core-js/modules/es.symbol.description.js"),Oe("./node_modules/core-js/modules/es.object.to-string.js"),Oe("./node_modules/core-js/modules/es.symbol.iterator.js"),Oe("./node_modules/core-js/modules/es.array.iterator.js"),Oe("./node_modules/core-js/modules/es.string.iterator.js"),Oe("./node_modules/core-js/modules/web.dom-collections.iterator.js");function ke(ze){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ke=function(qe){return typeof qe}:ke=function(qe){return qe&&typeof Symbol=="function"&&qe.constructor===Symbol&&qe!==Symbol.prototype?"symbol":typeof qe},ke(ze)}var Me=function(We){var qe=ke(We);return qe==="undefined"?"undefined":qe==="string"||We instanceof String?"string":qe==="number"||We instanceof Number?"number":qe==="function"||We instanceof Function?"function":We&&We.constructor===Array?"array":We&&We.nodeType===1?"element":qe==="object"?"object":"unknown"},$e=function(We,qe){var Ye=document.createElement(We);if(qe.className&&(Ye.className=qe.className),qe.innerHTML){Ye.innerHTML=qe.innerHTML;for(var Xe=Ye.getElementsByTagName("script"),rr=Xe.length;rr-- >0;null)Xe[rr].parentNode.removeChild(Xe[rr])}for(var Je in qe.style)Ye.style[Je]=qe.style[Je];return Ye},He=function ze(We,qe){for(var Ye=We.nodeType===3?document.createTextNode(We.nodeValue):We.cloneNode(!1),Xe=We.firstChild;Xe;Xe=Xe.nextSibling)(qe===!0||Xe.nodeType!==1||Xe.nodeName!=="SCRIPT")&&Ye.appendChild(ze(Xe,qe));return We.nodeType===1&&(We.nodeName==="CANVAS"?(Ye.width=We.width,Ye.height=We.height,Ye.getContext("2d").drawImage(We,0,0)):(We.nodeName==="TEXTAREA"||We.nodeName==="SELECT")&&(Ye.value=We.value),Ye.addEventListener("load",function(){Ye.scrollTop=We.scrollTop,Ye.scrollLeft=We.scrollLeft},!0)),Ye},Qe=function(We,qe){if(Me(We)==="number")return We*72/96/qe;var Ye={};for(var Xe in We)Ye[Xe]=We[Xe]*72/96/qe;return Ye},Ke=function(We,qe){return Math.floor(We*qe/72*96)}},"./src/worker.js":function(De,Fe,Oe){Oe.r(Fe),Oe("./node_modules/core-js/modules/es.object.assign.js"),Oe("./node_modules/core-js/modules/es.array.map.js"),Oe("./node_modules/core-js/modules/es.object.keys.js"),Oe("./node_modules/core-js/modules/es.array.concat.js"),Oe("./node_modules/core-js/modules/es.object.to-string.js"),Oe("./node_modules/core-js/modules/es.regexp.to-string.js"),Oe("./node_modules/core-js/modules/es.function.name.js"),Oe("./node_modules/core-js/modules/web.dom-collections.for-each.js");var ke=Oe("jspdf"),Me=Oe("html2canvas"),$e=Oe("./src/utils.js"),He=Oe("./node_modules/es6-promise/dist/es6-promise.js"),Qe=Oe.n(He),Ke=Qe().Promise,ze=function We(qe){var Ye=Object.assign(We.convert(Ke.resolve()),JSON.parse(JSON.stringify(We.template))),Xe=We.convert(Ke.resolve(),Ye);return Xe=Xe.setProgress(1,We,1,[We]),Xe=Xe.set(qe),Xe};ze.prototype=Object.create(Ke.prototype),ze.prototype.constructor=ze,ze.convert=function(qe,Ye){return qe.__proto__=Ye||ze.prototype,qe},ze.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},ze.prototype.from=function(qe,Ye){function Xe(rr){switch((0,$e.objType)(rr)){case"string":return"string";case"element":return rr.nodeName.toLowerCase&&rr.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(Ye=Ye||Xe(qe),Ye){case"string":return this.set({src:(0,$e.createElement)("div",{innerHTML:qe})});case"element":return this.set({src:qe});case"canvas":return this.set({canvas:qe});case"img":return this.set({img:qe});default:return this.error("Unknown source type.")}})},ze.prototype.to=function(qe){switch(qe){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},ze.prototype.toContainer=function(){var qe=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(qe).then(function(){var Xe={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},rr={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};Xe.opacity=0;var Je=(0,$e.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,$e.createElement)("div",{className:"html2pdf__overlay",style:Xe}),this.prop.container=(0,$e.createElement)("div",{className:"html2pdf__container",style:rr}),this.prop.container.appendChild(Je),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},ze.prototype.toCanvas=function(){var qe=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(qe).then(function(){var Xe=Object.assign({},this.opt.html2canvas);return delete Xe.onrendered,Me(this.prop.container,Xe)}).then(function(Xe){var rr=this.opt.html2canvas.onrendered||function(){};rr(Xe),this.prop.canvas=Xe,document.body.removeChild(this.prop.overlay)})},ze.prototype.toImg=function(){var qe=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(qe).then(function(){var Xe=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Xe})},ze.prototype.toPdf=function(){var qe=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(qe).then(function(){var Xe=this.prop.canvas,rr=this.opt,Je=Xe.height,er=Math.floor(Xe.width*this.prop.pageSize.inner.ratio),or=Math.ceil(Je/er),pr=this.prop.pageSize.inner.height,ar=document.createElement("canvas"),fr=ar.getContext("2d");ar.width=Xe.width,ar.height=er,this.prop.pdf=this.prop.pdf||new ke.jsPDF(rr.jsPDF);for(var gr=0;gr<or;gr++){gr===or-1&&Je%er!==0&&(ar.height=Je%er,pr=ar.height*this.prop.pageSize.inner.width/ar.width);var Rr=ar.width,Ir=ar.height;fr.fillStyle="white",fr.fillRect(0,0,Rr,Ir),fr.drawImage(Xe,0,gr*er,Rr,Ir,0,0,Rr,Ir),gr&&this.prop.pdf.addPage();var mr=ar.toDataURL("image/"+rr.image.type,rr.image.quality);this.prop.pdf.addImage(mr,rr.image.type,rr.margin[1],rr.margin[0],this.prop.pageSize.inner.width,pr)}})},ze.prototype.output=function(qe,Ye,Xe){return Xe=Xe||"pdf",Xe.toLowerCase()==="img"||Xe.toLowerCase()==="image"?this.outputImg(qe,Ye):this.outputPdf(qe,Ye)},ze.prototype.outputPdf=function(qe,Ye){var Xe=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(Xe).then(function(){return this.prop.pdf.output(qe,Ye)})},ze.prototype.outputImg=function(qe,Ye){var Xe=[function(){return this.prop.img||this.toImg()}];return this.thenList(Xe).then(function(){switch(qe){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+qe+'" is not supported.'}})},ze.prototype.save=function(qe){var Ye=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(Ye).set(qe?{filename:qe}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},ze.prototype.set=function(qe){if((0,$e.objType)(qe)!=="object")return this;var Ye=Object.keys(qe||{}).map(function(Xe){switch(Xe){case"margin":return this.setMargin.bind(this,qe.margin);case"jsPDF":return function(){return this.opt.jsPDF=qe.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,qe.pageSize);default:return Xe in ze.template.prop?function(){this.prop[Xe]=qe[Xe]}:function(){this.opt[Xe]=qe[Xe]}}},this);return this.then(function(){return this.thenList(Ye)})},ze.prototype.get=function(qe,Ye){return this.then(function(){var rr=qe in ze.template.prop?this.prop[qe]:this.opt[qe];return Ye?Ye(rr):rr})},ze.prototype.setMargin=function(qe){return this.then(function(){switch((0,$e.objType)(qe)){case"number":qe=[qe,qe,qe,qe];case"array":if(qe.length===2&&(qe=[qe[0],qe[1],qe[0],qe[1]]),qe.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=qe}).then(this.setPageSize)},ze.prototype.setPageSize=function(qe){return this.then(function(){qe=qe||ke.jsPDF.getPageSize(this.opt.jsPDF),qe.hasOwnProperty("inner")||(qe.inner={width:qe.width-this.opt.margin[1]-this.opt.margin[3],height:qe.height-this.opt.margin[0]-this.opt.margin[2]},qe.inner.px={width:(0,$e.toPx)(qe.inner.width,qe.k),height:(0,$e.toPx)(qe.inner.height,qe.k)},qe.inner.ratio=qe.inner.height/qe.inner.width),this.prop.pageSize=qe})},ze.prototype.setProgress=function(qe,Ye,Xe,rr){return qe!=null&&(this.progress.val=qe),Ye!=null&&(this.progress.state=Ye),Xe!=null&&(this.progress.n=Xe),rr!=null&&(this.progress.stack=rr),this.progress.ratio=this.progress.val/this.progress.state,this},ze.prototype.updateProgress=function(qe,Ye,Xe,rr){return this.setProgress(qe?this.progress.val+qe:null,Ye||null,Xe?this.progress.n+Xe:null,rr?this.progress.stack.concat(rr):null)},ze.prototype.then=function(qe,Ye){var Xe=this;return this.thenCore(qe,Ye,function(Je,er){return Xe.updateProgress(null,null,1,[Je]),Ke.prototype.then.call(this,function(pr){return Xe.updateProgress(null,Je),pr}).then(Je,er).then(function(pr){return Xe.updateProgress(1),pr})})},ze.prototype.thenCore=function(qe,Ye,Xe){Xe=Xe||Ke.prototype.then;var rr=this;qe&&(qe=qe.bind(rr)),Ye&&(Ye=Ye.bind(rr));var Je=Ke.toString().indexOf("[native code]")!==-1&&Ke.name==="Promise",er=Je?rr:ze.convert(Object.assign({},rr),Ke.prototype),or=Xe.call(er,qe,Ye);return ze.convert(or,rr.__proto__)},ze.prototype.thenExternal=function(qe,Ye){return Ke.prototype.then.call(this,qe,Ye)},ze.prototype.thenList=function(qe){var Ye=this;return qe.forEach(function(rr){Ye=Ye.thenCore(rr)}),Ye},ze.prototype.catch=function(We){We&&(We=We.bind(this));var qe=Ke.prototype.catch.call(this,We);return ze.convert(qe,this)},ze.prototype.catchExternal=function(qe){return Ke.prototype.catch.call(this,qe)},ze.prototype.error=function(qe){return this.then(function(){throw new Error(qe)})},ze.prototype.using=ze.prototype.set,ze.prototype.saveAs=ze.prototype.save,ze.prototype.export=ze.prototype.output,ze.prototype.run=ze.prototype.then,Fe.default=ze},"./node_modules/core-js/internals/a-function.js":function(De){De.exports=function(Fe){if(typeof Fe!="function")throw TypeError(String(Fe)+" is not a function");return Fe}},"./node_modules/core-js/internals/a-possible-prototype.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/is-object.js");De.exports=function(Me){if(!ke(Me)&&Me!==null)throw TypeError("Can't set "+String(Me)+" as a prototype");return Me}},"./node_modules/core-js/internals/add-to-unscopables.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/well-known-symbol.js"),Me=Oe("./node_modules/core-js/internals/object-create.js"),$e=Oe("./node_modules/core-js/internals/object-define-property.js"),He=ke("unscopables"),Qe=Array.prototype;Qe[He]==null&&$e.f(Qe,He,{configurable:!0,value:Me(null)}),De.exports=function(Ke){Qe[He][Ke]=!0}},"./node_modules/core-js/internals/an-object.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/is-object.js");De.exports=function(Me){if(!ke(Me))throw TypeError(String(Me)+" is not an object");return Me}},"./node_modules/core-js/internals/array-for-each.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/array-iteration.js").forEach,Me=Oe("./node_modules/core-js/internals/array-method-is-strict.js"),$e=Me("forEach");De.exports=$e?[].forEach:function(Qe){return ke(this,Qe,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-includes.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/to-indexed-object.js"),Me=Oe("./node_modules/core-js/internals/to-length.js"),$e=Oe("./node_modules/core-js/internals/to-absolute-index.js"),He=function(Qe){return function(Ke,ze,We){var qe=ke(Ke),Ye=Me(qe.length),Xe=$e(We,Ye),rr;if(Qe&&ze!=ze){for(;Ye>Xe;)if(rr=qe[Xe++],rr!=rr)return!0}else for(;Ye>Xe;Xe++)if((Qe||Xe in qe)&&qe[Xe]===ze)return Qe||Xe||0;return!Qe&&-1}};De.exports={includes:He(!0),indexOf:He(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/function-bind-context.js"),Me=Oe("./node_modules/core-js/internals/indexed-object.js"),$e=Oe("./node_modules/core-js/internals/to-object.js"),He=Oe("./node_modules/core-js/internals/to-length.js"),Qe=Oe("./node_modules/core-js/internals/array-species-create.js"),Ke=[].push,ze=function(We){var qe=We==1,Ye=We==2,Xe=We==3,rr=We==4,Je=We==6,er=We==7,or=We==5||Je;return function(pr,ar,fr,gr){for(var Rr=$e(pr),Ir=Me(Rr),mr=ke(ar,fr,3),Er=He(Ir.length),Ar=0,br=gr||Qe,wr=qe?br(pr,Er):Ye||er?br(pr,0):void 0,jr,hr;Er>Ar;Ar++)if((or||Ar in Ir)&&(jr=Ir[Ar],hr=mr(jr,Ar,Rr),We))if(qe)wr[Ar]=hr;else if(hr)switch(We){case 3:return!0;case 5:return jr;case 6:return Ar;case 2:Ke.call(wr,jr)}else switch(We){case 4:return!1;case 7:Ke.call(wr,jr)}return Je?-1:Xe||rr?rr:wr}};De.exports={forEach:ze(0),map:ze(1),filter:ze(2),some:ze(3),every:ze(4),find:ze(5),findIndex:ze(6),filterReject:ze(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/fails.js"),Me=Oe("./node_modules/core-js/internals/well-known-symbol.js"),$e=Oe("./node_modules/core-js/internals/engine-v8-version.js"),He=Me("species");De.exports=function(Qe){return $e>=51||!ke(function(){var Ke=[],ze=Ke.constructor={};return ze[He]=function(){return{foo:1}},Ke[Qe](Boolean).foo!==1})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/fails.js");De.exports=function(Me,$e){var He=[][Me];return!!He&&ke(function(){He.call(null,$e||function(){throw 1},1)})}},"./node_modules/core-js/internals/array-species-constructor.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/is-object.js"),Me=Oe("./node_modules/core-js/internals/is-array.js"),$e=Oe("./node_modules/core-js/internals/well-known-symbol.js"),He=$e("species");De.exports=function(Qe){var Ke;return Me(Qe)&&(Ke=Qe.constructor,typeof Ke=="function"&&(Ke===Array||Me(Ke.prototype))?Ke=void 0:ke(Ke)&&(Ke=Ke[He],Ke===null&&(Ke=void 0))),Ke===void 0?Array:Ke}},"./node_modules/core-js/internals/array-species-create.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/array-species-constructor.js");De.exports=function(Me,$e){return new(ke(Me))($e===0?0:$e)}},"./node_modules/core-js/internals/classof-raw.js":function(De){var Fe={}.toString;De.exports=function(Oe){return Fe.call(Oe).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/to-string-tag-support.js"),Me=Oe("./node_modules/core-js/internals/classof-raw.js"),$e=Oe("./node_modules/core-js/internals/well-known-symbol.js"),He=$e("toStringTag"),Qe=Me(function(){return arguments}())=="Arguments",Ke=function(ze,We){try{return ze[We]}catch{}};De.exports=ke?Me:function(ze){var We,qe,Ye;return ze===void 0?"Undefined":ze===null?"Null":typeof(qe=Ke(We=Object(ze),He))=="string"?qe:Qe?Me(We):(Ye=Me(We))=="Object"&&typeof We.callee=="function"?"Arguments":Ye}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/has.js"),Me=Oe("./node_modules/core-js/internals/own-keys.js"),$e=Oe("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),He=Oe("./node_modules/core-js/internals/object-define-property.js");De.exports=function(Qe,Ke){for(var ze=Me(Ke),We=He.f,qe=$e.f,Ye=0;Ye<ze.length;Ye++){var Xe=ze[Ye];ke(Qe,Xe)||We(Qe,Xe,qe(Ke,Xe))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/fails.js");De.exports=!ke(function(){function Me(){}return Me.prototype.constructor=null,Object.getPrototypeOf(new Me)!==Me.prototype})},"./node_modules/core-js/internals/create-html.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/require-object-coercible.js"),Me=Oe("./node_modules/core-js/internals/to-string.js"),$e=/"/g;De.exports=function(He,Qe,Ke,ze){var We=Me(ke(He)),qe="<"+Qe;return Ke!==""&&(qe+=" "+Ke+'="'+Me(ze).replace($e,"&quot;")+'"'),qe+">"+We+"</"+Qe+">"}},"./node_modules/core-js/internals/create-iterator-constructor.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,Me=Oe("./node_modules/core-js/internals/object-create.js"),$e=Oe("./node_modules/core-js/internals/create-property-descriptor.js"),He=Oe("./node_modules/core-js/internals/set-to-string-tag.js"),Qe=Oe("./node_modules/core-js/internals/iterators.js"),Ke=function(){return this};De.exports=function(ze,We,qe){var Ye=We+" Iterator";return ze.prototype=Me(ke,{next:$e(1,qe)}),He(ze,Ye,!1,!0),Qe[Ye]=Ke,ze}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/descriptors.js"),Me=Oe("./node_modules/core-js/internals/object-define-property.js"),$e=Oe("./node_modules/core-js/internals/create-property-descriptor.js");De.exports=ke?function(He,Qe,Ke){return Me.f(He,Qe,$e(1,Ke))}:function(He,Qe,Ke){return He[Qe]=Ke,He}},"./node_modules/core-js/internals/create-property-descriptor.js":function(De){De.exports=function(Fe,Oe){return{enumerable:!(Fe&1),configurable:!(Fe&2),writable:!(Fe&4),value:Oe}}},"./node_modules/core-js/internals/create-property.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/to-property-key.js"),Me=Oe("./node_modules/core-js/internals/object-define-property.js"),$e=Oe("./node_modules/core-js/internals/create-property-descriptor.js");De.exports=function(He,Qe,Ke){var ze=ke(Qe);ze in He?Me.f(He,ze,$e(0,Ke)):He[ze]=Ke}},"./node_modules/core-js/internals/define-iterator.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/export.js"),Me=Oe("./node_modules/core-js/internals/create-iterator-constructor.js"),$e=Oe("./node_modules/core-js/internals/object-get-prototype-of.js"),He=Oe("./node_modules/core-js/internals/object-set-prototype-of.js"),Qe=Oe("./node_modules/core-js/internals/set-to-string-tag.js"),Ke=Oe("./node_modules/core-js/internals/create-non-enumerable-property.js"),ze=Oe("./node_modules/core-js/internals/redefine.js"),We=Oe("./node_modules/core-js/internals/well-known-symbol.js"),qe=Oe("./node_modules/core-js/internals/is-pure.js"),Ye=Oe("./node_modules/core-js/internals/iterators.js"),Xe=Oe("./node_modules/core-js/internals/iterators-core.js"),rr=Xe.IteratorPrototype,Je=Xe.BUGGY_SAFARI_ITERATORS,er=We("iterator"),or="keys",pr="values",ar="entries",fr=function(){return this};De.exports=function(gr,Rr,Ir,mr,Er,Ar,br){Me(Ir,Rr,mr);var wr=function(Zr){if(Zr===Er&&Cr)return Cr;if(!Je&&Zr in _r)return _r[Zr];switch(Zr){case or:return function(){return new Ir(this,Zr)};case pr:return function(){return new Ir(this,Zr)};case ar:return function(){return new Ir(this,Zr)}}return function(){return new Ir(this)}},jr=Rr+" Iterator",hr=!1,_r=gr.prototype,Pr=_r[er]||_r["@@iterator"]||Er&&_r[Er],Cr=!Je&&Pr||wr(Er),Or=Rr=="Array"&&_r.entries||Pr,Yr,qr,Kr;if(Or&&(Yr=$e(Or.call(new gr)),rr!==Object.prototype&&Yr.next&&(!qe&&$e(Yr)!==rr&&(He?He(Yr,rr):typeof Yr[er]!="function"&&Ke(Yr,er,fr)),Qe(Yr,jr,!0,!0),qe&&(Ye[jr]=fr))),Er==pr&&Pr&&Pr.name!==pr&&(hr=!0,Cr=function(){return Pr.call(this)}),(!qe||br)&&_r[er]!==Cr&&Ke(_r,er,Cr),Ye[Rr]=Cr,Er)if(qr={values:wr(pr),keys:Ar?Cr:wr(or),entries:wr(ar)},br)for(Kr in qr)(Je||hr||!(Kr in _r))&&ze(_r,Kr,qr[Kr]);else ke({target:Rr,proto:!0,forced:Je||hr},qr);return qr}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/path.js"),Me=Oe("./node_modules/core-js/internals/has.js"),$e=Oe("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),He=Oe("./node_modules/core-js/internals/object-define-property.js").f;De.exports=function(Qe){var Ke=ke.Symbol||(ke.Symbol={});Me(Ke,Qe)||He(Ke,Qe,{value:$e.f(Qe)})}},"./node_modules/core-js/internals/descriptors.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/fails.js");De.exports=!ke(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"./node_modules/core-js/internals/document-create-element.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/global.js"),Me=Oe("./node_modules/core-js/internals/is-object.js"),$e=ke.document,He=Me($e)&&Me($e.createElement);De.exports=function(Qe){return He?$e.createElement(Qe):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(De){De.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/engine-user-agent.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/get-built-in.js");De.exports=ke("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/global.js"),Me=Oe("./node_modules/core-js/internals/engine-user-agent.js"),$e=ke.process,He=ke.Deno,Qe=$e&&$e.versions||He&&He.version,Ke=Qe&&Qe.v8,ze,We;Ke?(ze=Ke.split("."),We=ze[0]<4?1:ze[0]+ze[1]):Me&&(ze=Me.match(/Edge\/(\d+)/),(!ze||ze[1]>=74)&&(ze=Me.match(/Chrome\/(\d+)/),ze&&(We=ze[1]))),De.exports=We&&+We},"./node_modules/core-js/internals/enum-bug-keys.js":function(De){De.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/global.js"),Me=Oe("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,$e=Oe("./node_modules/core-js/internals/create-non-enumerable-property.js"),He=Oe("./node_modules/core-js/internals/redefine.js"),Qe=Oe("./node_modules/core-js/internals/set-global.js"),Ke=Oe("./node_modules/core-js/internals/copy-constructor-properties.js"),ze=Oe("./node_modules/core-js/internals/is-forced.js");De.exports=function(We,qe){var Ye=We.target,Xe=We.global,rr=We.stat,Je,er,or,pr,ar,fr;if(Xe?er=ke:rr?er=ke[Ye]||Qe(Ye,{}):er=(ke[Ye]||{}).prototype,er)for(or in qe){if(ar=qe[or],We.noTargetGet?(fr=Me(er,or),pr=fr&&fr.value):pr=er[or],Je=ze(Xe?or:Ye+(rr?".":"#")+or,We.forced),!Je&&pr!==void 0){if(typeof ar==typeof pr)continue;Ke(ar,pr)}(We.sham||pr&&pr.sham)&&$e(ar,"sham",!0),He(er,or,ar,We)}}},"./node_modules/core-js/internals/fails.js":function(De){De.exports=function(Fe){try{return!!Fe()}catch{return!0}}},"./node_modules/core-js/internals/function-bind-context.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/a-function.js");De.exports=function(Me,$e,He){if(ke(Me),$e===void 0)return Me;switch(He){case 0:return function(){return Me.call($e)};case 1:return function(Qe){return Me.call($e,Qe)};case 2:return function(Qe,Ke){return Me.call($e,Qe,Ke)};case 3:return function(Qe,Ke,ze){return Me.call($e,Qe,Ke,ze)}}return function(){return Me.apply($e,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/global.js"),Me=function($e){return typeof $e=="function"?$e:void 0};De.exports=function($e,He){return arguments.length<2?Me(ke[$e]):ke[$e]&&ke[$e][He]}},"./node_modules/core-js/internals/global.js":function(De){var Fe=function(Oe){return Oe&&Oe.Math==Math&&Oe};De.exports=Fe(typeof globalThis=="object"&&globalThis)||Fe(typeof window=="object"&&window)||Fe(typeof self=="object"&&self)||Fe(typeof commonjsGlobal$2=="object"&&commonjsGlobal$2)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/to-object.js"),Me={}.hasOwnProperty;De.exports=Object.hasOwn||function(He,Qe){return Me.call(ke(He),Qe)}},"./node_modules/core-js/internals/hidden-keys.js":function(De){De.exports={}},"./node_modules/core-js/internals/html.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/get-built-in.js");De.exports=ke("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/descriptors.js"),Me=Oe("./node_modules/core-js/internals/fails.js"),$e=Oe("./node_modules/core-js/internals/document-create-element.js");De.exports=!ke&&!Me(function(){return Object.defineProperty($e("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/fails.js"),Me=Oe("./node_modules/core-js/internals/classof-raw.js"),$e="".split;De.exports=ke(function(){return!Object("z").propertyIsEnumerable(0)})?function(He){return Me(He)=="String"?$e.call(He,""):Object(He)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/is-object.js"),Me=Oe("./node_modules/core-js/internals/object-set-prototype-of.js");De.exports=function($e,He,Qe){var Ke,ze;return Me&&typeof(Ke=He.constructor)=="function"&&Ke!==Qe&&ke(ze=Ke.prototype)&&ze!==Qe.prototype&&Me($e,ze),$e}},"./node_modules/core-js/internals/inspect-source.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/shared-store.js"),Me=Function.toString;typeof ke.inspectSource!="function"&&(ke.inspectSource=function($e){return Me.call($e)}),De.exports=ke.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/native-weak-map.js"),Me=Oe("./node_modules/core-js/internals/global.js"),$e=Oe("./node_modules/core-js/internals/is-object.js"),He=Oe("./node_modules/core-js/internals/create-non-enumerable-property.js"),Qe=Oe("./node_modules/core-js/internals/has.js"),Ke=Oe("./node_modules/core-js/internals/shared-store.js"),ze=Oe("./node_modules/core-js/internals/shared-key.js"),We=Oe("./node_modules/core-js/internals/hidden-keys.js"),qe="Object already initialized",Ye=Me.WeakMap,Xe,rr,Je,er=function(Ir){return Je(Ir)?rr(Ir):Xe(Ir,{})},or=function(Ir){return function(mr){var Er;if(!$e(mr)||(Er=rr(mr)).type!==Ir)throw TypeError("Incompatible receiver, "+Ir+" required");return Er}};if(ke||Ke.state){var pr=Ke.state||(Ke.state=new Ye),ar=pr.get,fr=pr.has,gr=pr.set;Xe=function(Ir,mr){if(fr.call(pr,Ir))throw new TypeError(qe);return mr.facade=Ir,gr.call(pr,Ir,mr),mr},rr=function(Ir){return ar.call(pr,Ir)||{}},Je=function(Ir){return fr.call(pr,Ir)}}else{var Rr=ze("state");We[Rr]=!0,Xe=function(Ir,mr){if(Qe(Ir,Rr))throw new TypeError(qe);return mr.facade=Ir,He(Ir,Rr,mr),mr},rr=function(Ir){return Qe(Ir,Rr)?Ir[Rr]:{}},Je=function(Ir){return Qe(Ir,Rr)}}De.exports={set:Xe,get:rr,has:Je,enforce:er,getterFor:or}},"./node_modules/core-js/internals/is-array.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/classof-raw.js");De.exports=Array.isArray||function($e){return ke($e)=="Array"}},"./node_modules/core-js/internals/is-forced.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/fails.js"),Me=/#|\.prototype\./,$e=function(We,qe){var Ye=Qe[He(We)];return Ye==ze?!0:Ye==Ke?!1:typeof qe=="function"?ke(qe):!!qe},He=$e.normalize=function(We){return String(We).replace(Me,".").toLowerCase()},Qe=$e.data={},Ke=$e.NATIVE="N",ze=$e.POLYFILL="P";De.exports=$e},"./node_modules/core-js/internals/is-object.js":function(De){De.exports=function(Fe){return typeof Fe=="object"?Fe!==null:typeof Fe=="function"}},"./node_modules/core-js/internals/is-pure.js":function(De){De.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/get-built-in.js"),Me=Oe("./node_modules/core-js/internals/use-symbol-as-uid.js");De.exports=Me?function($e){return typeof $e=="symbol"}:function($e){var He=ke("Symbol");return typeof He=="function"&&Object($e)instanceof He}},"./node_modules/core-js/internals/iterators-core.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/fails.js"),Me=Oe("./node_modules/core-js/internals/object-get-prototype-of.js"),$e=Oe("./node_modules/core-js/internals/create-non-enumerable-property.js"),He=Oe("./node_modules/core-js/internals/has.js"),Qe=Oe("./node_modules/core-js/internals/well-known-symbol.js"),Ke=Oe("./node_modules/core-js/internals/is-pure.js"),ze=Qe("iterator"),We=!1,qe=function(){return this},Ye,Xe,rr;[].keys&&(rr=[].keys(),"next"in rr?(Xe=Me(Me(rr)),Xe!==Object.prototype&&(Ye=Xe)):We=!0);var Je=Ye==null||ke(function(){var er={};return Ye[ze].call(er)!==er});Je&&(Ye={}),(!Ke||Je)&&!He(Ye,ze)&&$e(Ye,ze,qe),De.exports={IteratorPrototype:Ye,BUGGY_SAFARI_ITERATORS:We}},"./node_modules/core-js/internals/iterators.js":function(De){De.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/engine-v8-version.js"),Me=Oe("./node_modules/core-js/internals/fails.js");De.exports=!!Object.getOwnPropertySymbols&&!Me(function(){var $e=Symbol();return!String($e)||!(Object($e)instanceof Symbol)||!Symbol.sham&&ke&&ke<41})},"./node_modules/core-js/internals/native-weak-map.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/global.js"),Me=Oe("./node_modules/core-js/internals/inspect-source.js"),$e=ke.WeakMap;De.exports=typeof $e=="function"&&/native code/.test(Me($e))},"./node_modules/core-js/internals/object-assign.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/descriptors.js"),Me=Oe("./node_modules/core-js/internals/fails.js"),$e=Oe("./node_modules/core-js/internals/object-keys.js"),He=Oe("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Qe=Oe("./node_modules/core-js/internals/object-property-is-enumerable.js"),Ke=Oe("./node_modules/core-js/internals/to-object.js"),ze=Oe("./node_modules/core-js/internals/indexed-object.js"),We=Object.assign,qe=Object.defineProperty;De.exports=!We||Me(function(){if(ke&&We({b:1},We(qe({},"a",{enumerable:!0,get:function(){qe(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var Ye={},Xe={},rr=Symbol(),Je="abcdefghijklmnopqrst";return Ye[rr]=7,Je.split("").forEach(function(er){Xe[er]=er}),We({},Ye)[rr]!=7||$e(We({},Xe)).join("")!=Je})?function(Xe,rr){for(var Je=Ke(Xe),er=arguments.length,or=1,pr=He.f,ar=Qe.f;er>or;)for(var fr=ze(arguments[or++]),gr=pr?$e(fr).concat(pr(fr)):$e(fr),Rr=gr.length,Ir=0,mr;Rr>Ir;)mr=gr[Ir++],(!ke||ar.call(fr,mr))&&(Je[mr]=fr[mr]);return Je}:We},"./node_modules/core-js/internals/object-create.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/an-object.js"),Me=Oe("./node_modules/core-js/internals/object-define-properties.js"),$e=Oe("./node_modules/core-js/internals/enum-bug-keys.js"),He=Oe("./node_modules/core-js/internals/hidden-keys.js"),Qe=Oe("./node_modules/core-js/internals/html.js"),Ke=Oe("./node_modules/core-js/internals/document-create-element.js"),ze=Oe("./node_modules/core-js/internals/shared-key.js"),We=">",qe="<",Ye="prototype",Xe="script",rr=ze("IE_PROTO"),Je=function(){},er=function(gr){return qe+Xe+We+gr+qe+"/"+Xe+We},or=function(gr){gr.write(er("")),gr.close();var Rr=gr.parentWindow.Object;return gr=null,Rr},pr=function(){var gr=Ke("iframe"),Rr="java"+Xe+":",Ir;if(gr.style)return gr.style.display="none",Qe.appendChild(gr),gr.src=String(Rr),Ir=gr.contentWindow.document,Ir.open(),Ir.write(er("document.F=Object")),Ir.close(),Ir.F},ar,fr=function(){try{ar=new ActiveXObject("htmlfile")}catch{}fr=document.domain&&ar?or(ar):pr()||or(ar);for(var gr=$e.length;gr--;)delete fr[Ye][$e[gr]];return fr()};He[rr]=!0,De.exports=Object.create||function(Rr,Ir){var mr;return Rr!==null?(Je[Ye]=ke(Rr),mr=new Je,Je[Ye]=null,mr[rr]=Rr):mr=fr(),Ir===void 0?mr:Me(mr,Ir)}},"./node_modules/core-js/internals/object-define-properties.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/descriptors.js"),Me=Oe("./node_modules/core-js/internals/object-define-property.js"),$e=Oe("./node_modules/core-js/internals/an-object.js"),He=Oe("./node_modules/core-js/internals/object-keys.js");De.exports=ke?Object.defineProperties:function(Ke,ze){$e(Ke);for(var We=He(ze),qe=We.length,Ye=0,Xe;qe>Ye;)Me.f(Ke,Xe=We[Ye++],ze[Xe]);return Ke}},"./node_modules/core-js/internals/object-define-property.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/descriptors.js"),Me=Oe("./node_modules/core-js/internals/ie8-dom-define.js"),$e=Oe("./node_modules/core-js/internals/an-object.js"),He=Oe("./node_modules/core-js/internals/to-property-key.js"),Qe=Object.defineProperty;Fe.f=ke?Qe:function(ze,We,qe){if($e(ze),We=He(We),$e(qe),Me)try{return Qe(ze,We,qe)}catch{}if("get"in qe||"set"in qe)throw TypeError("Accessors not supported");return"value"in qe&&(ze[We]=qe.value),ze}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/descriptors.js"),Me=Oe("./node_modules/core-js/internals/object-property-is-enumerable.js"),$e=Oe("./node_modules/core-js/internals/create-property-descriptor.js"),He=Oe("./node_modules/core-js/internals/to-indexed-object.js"),Qe=Oe("./node_modules/core-js/internals/to-property-key.js"),Ke=Oe("./node_modules/core-js/internals/has.js"),ze=Oe("./node_modules/core-js/internals/ie8-dom-define.js"),We=Object.getOwnPropertyDescriptor;Fe.f=ke?We:function(Ye,Xe){if(Ye=He(Ye),Xe=Qe(Xe),ze)try{return We(Ye,Xe)}catch{}if(Ke(Ye,Xe))return $e(!Me.f.call(Ye,Xe),Ye[Xe])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/to-indexed-object.js"),Me=Oe("./node_modules/core-js/internals/object-get-own-property-names.js").f,$e={}.toString,He=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Qe=function(Ke){try{return Me(Ke)}catch{return He.slice()}};De.exports.f=function(ze){return He&&$e.call(ze)=="[object Window]"?Qe(ze):Me(ke(ze))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/object-keys-internal.js"),Me=Oe("./node_modules/core-js/internals/enum-bug-keys.js"),$e=Me.concat("length","prototype");Fe.f=Object.getOwnPropertyNames||function(Qe){return ke(Qe,$e)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(De,Fe){Fe.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/has.js"),Me=Oe("./node_modules/core-js/internals/to-object.js"),$e=Oe("./node_modules/core-js/internals/shared-key.js"),He=Oe("./node_modules/core-js/internals/correct-prototype-getter.js"),Qe=$e("IE_PROTO"),Ke=Object.prototype;De.exports=He?Object.getPrototypeOf:function(ze){return ze=Me(ze),ke(ze,Qe)?ze[Qe]:typeof ze.constructor=="function"&&ze instanceof ze.constructor?ze.constructor.prototype:ze instanceof Object?Ke:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/has.js"),Me=Oe("./node_modules/core-js/internals/to-indexed-object.js"),$e=Oe("./node_modules/core-js/internals/array-includes.js").indexOf,He=Oe("./node_modules/core-js/internals/hidden-keys.js");De.exports=function(Qe,Ke){var ze=Me(Qe),We=0,qe=[],Ye;for(Ye in ze)!ke(He,Ye)&&ke(ze,Ye)&&qe.push(Ye);for(;Ke.length>We;)ke(ze,Ye=Ke[We++])&&(~$e(qe,Ye)||qe.push(Ye));return qe}},"./node_modules/core-js/internals/object-keys.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/object-keys-internal.js"),Me=Oe("./node_modules/core-js/internals/enum-bug-keys.js");De.exports=Object.keys||function(He){return ke(He,Me)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(De,Fe){var Oe={}.propertyIsEnumerable,ke=Object.getOwnPropertyDescriptor,Me=ke&&!Oe.call({1:2},1);Fe.f=Me?function(He){var Qe=ke(this,He);return!!Qe&&Qe.enumerable}:Oe},"./node_modules/core-js/internals/object-set-prototype-of.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/an-object.js"),Me=Oe("./node_modules/core-js/internals/a-possible-prototype.js");De.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var $e=!1,He={},Qe;try{Qe=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,Qe.call(He,[]),$e=He instanceof Array}catch{}return function(ze,We){return ke(ze),Me(We),$e?Qe.call(ze,We):ze.__proto__=We,ze}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/to-string-tag-support.js"),Me=Oe("./node_modules/core-js/internals/classof.js");De.exports=ke?{}.toString:function(){return"[object "+Me(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/is-object.js");De.exports=function(Me,$e){var He,Qe;if($e==="string"&&typeof(He=Me.toString)=="function"&&!ke(Qe=He.call(Me))||typeof(He=Me.valueOf)=="function"&&!ke(Qe=He.call(Me))||$e!=="string"&&typeof(He=Me.toString)=="function"&&!ke(Qe=He.call(Me)))return Qe;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/get-built-in.js"),Me=Oe("./node_modules/core-js/internals/object-get-own-property-names.js"),$e=Oe("./node_modules/core-js/internals/object-get-own-property-symbols.js"),He=Oe("./node_modules/core-js/internals/an-object.js");De.exports=ke("Reflect","ownKeys")||function(Ke){var ze=Me.f(He(Ke)),We=$e.f;return We?ze.concat(We(Ke)):ze}},"./node_modules/core-js/internals/path.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/global.js");De.exports=ke},"./node_modules/core-js/internals/redefine.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/global.js"),Me=Oe("./node_modules/core-js/internals/create-non-enumerable-property.js"),$e=Oe("./node_modules/core-js/internals/has.js"),He=Oe("./node_modules/core-js/internals/set-global.js"),Qe=Oe("./node_modules/core-js/internals/inspect-source.js"),Ke=Oe("./node_modules/core-js/internals/internal-state.js"),ze=Ke.get,We=Ke.enforce,qe=String(String).split("String");(De.exports=function(Ye,Xe,rr,Je){var er=Je?!!Je.unsafe:!1,or=Je?!!Je.enumerable:!1,pr=Je?!!Je.noTargetGet:!1,ar;if(typeof rr=="function"&&(typeof Xe=="string"&&!$e(rr,"name")&&Me(rr,"name",Xe),ar=We(rr),ar.source||(ar.source=qe.join(typeof Xe=="string"?Xe:""))),Ye===ke){or?Ye[Xe]=rr:He(Xe,rr);return}else er?!pr&&Ye[Xe]&&(or=!0):delete Ye[Xe];or?Ye[Xe]=rr:Me(Ye,Xe,rr)})(Function.prototype,"toString",function(){return typeof this=="function"&&ze(this).source||Qe(this)})},"./node_modules/core-js/internals/regexp-flags.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/an-object.js");De.exports=function(){var Me=ke(this),$e="";return Me.global&&($e+="g"),Me.ignoreCase&&($e+="i"),Me.multiline&&($e+="m"),Me.dotAll&&($e+="s"),Me.unicode&&($e+="u"),Me.sticky&&($e+="y"),$e}},"./node_modules/core-js/internals/require-object-coercible.js":function(De){De.exports=function(Fe){if(Fe==null)throw TypeError("Can't call method on "+Fe);return Fe}},"./node_modules/core-js/internals/set-global.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/global.js");De.exports=function(Me,$e){try{Object.defineProperty(ke,Me,{value:$e,configurable:!0,writable:!0})}catch{ke[Me]=$e}return $e}},"./node_modules/core-js/internals/set-to-string-tag.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/object-define-property.js").f,Me=Oe("./node_modules/core-js/internals/has.js"),$e=Oe("./node_modules/core-js/internals/well-known-symbol.js"),He=$e("toStringTag");De.exports=function(Qe,Ke,ze){Qe&&!Me(Qe=ze?Qe:Qe.prototype,He)&&ke(Qe,He,{configurable:!0,value:Ke})}},"./node_modules/core-js/internals/shared-key.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/shared.js"),Me=Oe("./node_modules/core-js/internals/uid.js"),$e=ke("keys");De.exports=function(He){return $e[He]||($e[He]=Me(He))}},"./node_modules/core-js/internals/shared-store.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/global.js"),Me=Oe("./node_modules/core-js/internals/set-global.js"),$e="__core-js_shared__",He=ke[$e]||Me($e,{});De.exports=He},"./node_modules/core-js/internals/shared.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/is-pure.js"),Me=Oe("./node_modules/core-js/internals/shared-store.js");(De.exports=function($e,He){return Me[$e]||(Me[$e]=He!==void 0?He:{})})("versions",[]).push({version:"3.16.0",mode:ke?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-html-forced.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/fails.js");De.exports=function(Me){return ke(function(){var $e=""[Me]('"');return $e!==$e.toLowerCase()||$e.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/to-integer.js"),Me=Oe("./node_modules/core-js/internals/to-string.js"),$e=Oe("./node_modules/core-js/internals/require-object-coercible.js"),He=function(Qe){return function(Ke,ze){var We=Me($e(Ke)),qe=ke(ze),Ye=We.length,Xe,rr;return qe<0||qe>=Ye?Qe?"":void 0:(Xe=We.charCodeAt(qe),Xe<55296||Xe>56319||qe+1===Ye||(rr=We.charCodeAt(qe+1))<56320||rr>57343?Qe?We.charAt(qe):Xe:Qe?We.slice(qe,qe+2):(Xe-55296<<10)+(rr-56320)+65536)}};De.exports={codeAt:He(!1),charAt:He(!0)}},"./node_modules/core-js/internals/string-trim.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/require-object-coercible.js"),Me=Oe("./node_modules/core-js/internals/to-string.js"),$e=Oe("./node_modules/core-js/internals/whitespaces.js"),He="["+$e+"]",Qe=RegExp("^"+He+He+"*"),Ke=RegExp(He+He+"*$"),ze=function(We){return function(qe){var Ye=Me(ke(qe));return We&1&&(Ye=Ye.replace(Qe,"")),We&2&&(Ye=Ye.replace(Ke,"")),Ye}};De.exports={start:ze(1),end:ze(2),trim:ze(3)}},"./node_modules/core-js/internals/to-absolute-index.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/to-integer.js"),Me=Math.max,$e=Math.min;De.exports=function(He,Qe){var Ke=ke(He);return Ke<0?Me(Ke+Qe,0):$e(Ke,Qe)}},"./node_modules/core-js/internals/to-indexed-object.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/indexed-object.js"),Me=Oe("./node_modules/core-js/internals/require-object-coercible.js");De.exports=function($e){return ke(Me($e))}},"./node_modules/core-js/internals/to-integer.js":function(De){var Fe=Math.ceil,Oe=Math.floor;De.exports=function(ke){return isNaN(ke=+ke)?0:(ke>0?Oe:Fe)(ke)}},"./node_modules/core-js/internals/to-length.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/to-integer.js"),Me=Math.min;De.exports=function($e){return $e>0?Me(ke($e),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/require-object-coercible.js");De.exports=function(Me){return Object(ke(Me))}},"./node_modules/core-js/internals/to-primitive.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/is-object.js"),Me=Oe("./node_modules/core-js/internals/is-symbol.js"),$e=Oe("./node_modules/core-js/internals/ordinary-to-primitive.js"),He=Oe("./node_modules/core-js/internals/well-known-symbol.js"),Qe=He("toPrimitive");De.exports=function(Ke,ze){if(!ke(Ke)||Me(Ke))return Ke;var We=Ke[Qe],qe;if(We!==void 0){if(ze===void 0&&(ze="default"),qe=We.call(Ke,ze),!ke(qe)||Me(qe))return qe;throw TypeError("Can't convert object to primitive value")}return ze===void 0&&(ze="number"),$e(Ke,ze)}},"./node_modules/core-js/internals/to-property-key.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/to-primitive.js"),Me=Oe("./node_modules/core-js/internals/is-symbol.js");De.exports=function($e){var He=ke($e,"string");return Me(He)?He:String(He)}},"./node_modules/core-js/internals/to-string-tag-support.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/well-known-symbol.js"),Me=ke("toStringTag"),$e={};$e[Me]="z",De.exports=String($e)==="[object z]"},"./node_modules/core-js/internals/to-string.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/is-symbol.js");De.exports=function(Me){if(ke(Me))throw TypeError("Cannot convert a Symbol value to a string");return String(Me)}},"./node_modules/core-js/internals/uid.js":function(De){var Fe=0,Oe=Math.random();De.exports=function(ke){return"Symbol("+String(ke===void 0?"":ke)+")_"+(++Fe+Oe).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/native-symbol.js");De.exports=ke&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/well-known-symbol.js");Fe.f=ke},"./node_modules/core-js/internals/well-known-symbol.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/global.js"),Me=Oe("./node_modules/core-js/internals/shared.js"),$e=Oe("./node_modules/core-js/internals/has.js"),He=Oe("./node_modules/core-js/internals/uid.js"),Qe=Oe("./node_modules/core-js/internals/native-symbol.js"),Ke=Oe("./node_modules/core-js/internals/use-symbol-as-uid.js"),ze=Me("wks"),We=ke.Symbol,qe=Ke?We:We&&We.withoutSetter||He;De.exports=function(Ye){return(!$e(ze,Ye)||!(Qe||typeof ze[Ye]=="string"))&&(Qe&&$e(We,Ye)?ze[Ye]=We[Ye]:ze[Ye]=qe("Symbol."+Ye)),ze[Ye]}},"./node_modules/core-js/internals/whitespaces.js":function(De){De.exports=`	
\v\f\r \u2028\u2029\uFEFF`},"./node_modules/core-js/modules/es.array.concat.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/export.js"),Me=Oe("./node_modules/core-js/internals/fails.js"),$e=Oe("./node_modules/core-js/internals/is-array.js"),He=Oe("./node_modules/core-js/internals/is-object.js"),Qe=Oe("./node_modules/core-js/internals/to-object.js"),Ke=Oe("./node_modules/core-js/internals/to-length.js"),ze=Oe("./node_modules/core-js/internals/create-property.js"),We=Oe("./node_modules/core-js/internals/array-species-create.js"),qe=Oe("./node_modules/core-js/internals/array-method-has-species-support.js"),Ye=Oe("./node_modules/core-js/internals/well-known-symbol.js"),Xe=Oe("./node_modules/core-js/internals/engine-v8-version.js"),rr=Ye("isConcatSpreadable"),Je=9007199254740991,er="Maximum allowed index exceeded",or=Xe>=51||!Me(function(){var gr=[];return gr[rr]=!1,gr.concat()[0]!==gr}),pr=qe("concat"),ar=function(gr){if(!He(gr))return!1;var Rr=gr[rr];return Rr!==void 0?!!Rr:$e(gr)},fr=!or||!pr;ke({target:"Array",proto:!0,forced:fr},{concat:function(Rr){var Ir=Qe(this),mr=We(Ir,0),Er=0,Ar,br,wr,jr,hr;for(Ar=-1,wr=arguments.length;Ar<wr;Ar++)if(hr=Ar===-1?Ir:arguments[Ar],ar(hr)){if(jr=Ke(hr.length),Er+jr>Je)throw TypeError(er);for(br=0;br<jr;br++,Er++)br in hr&&ze(mr,Er,hr[br])}else{if(Er>=Je)throw TypeError(er);ze(mr,Er++,hr)}return mr.length=Er,mr}})},"./node_modules/core-js/modules/es.array.iterator.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/to-indexed-object.js"),Me=Oe("./node_modules/core-js/internals/add-to-unscopables.js"),$e=Oe("./node_modules/core-js/internals/iterators.js"),He=Oe("./node_modules/core-js/internals/internal-state.js"),Qe=Oe("./node_modules/core-js/internals/define-iterator.js"),Ke="Array Iterator",ze=He.set,We=He.getterFor(Ke);De.exports=Qe(Array,"Array",function(qe,Ye){ze(this,{type:Ke,target:ke(qe),index:0,kind:Ye})},function(){var qe=We(this),Ye=qe.target,Xe=qe.kind,rr=qe.index++;return!Ye||rr>=Ye.length?(qe.target=void 0,{value:void 0,done:!0}):Xe=="keys"?{value:rr,done:!1}:Xe=="values"?{value:Ye[rr],done:!1}:{value:[rr,Ye[rr]],done:!1}},"values"),$e.Arguments=$e.Array,Me("keys"),Me("values"),Me("entries")},"./node_modules/core-js/modules/es.array.join.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/export.js"),Me=Oe("./node_modules/core-js/internals/indexed-object.js"),$e=Oe("./node_modules/core-js/internals/to-indexed-object.js"),He=Oe("./node_modules/core-js/internals/array-method-is-strict.js"),Qe=[].join,Ke=Me!=Object,ze=He("join",",");ke({target:"Array",proto:!0,forced:Ke||!ze},{join:function(qe){return Qe.call($e(this),qe===void 0?",":qe)}})},"./node_modules/core-js/modules/es.array.map.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/export.js"),Me=Oe("./node_modules/core-js/internals/array-iteration.js").map,$e=Oe("./node_modules/core-js/internals/array-method-has-species-support.js"),He=$e("map");ke({target:"Array",proto:!0,forced:!He},{map:function(Ke){return Me(this,Ke,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/export.js"),Me=Oe("./node_modules/core-js/internals/is-object.js"),$e=Oe("./node_modules/core-js/internals/is-array.js"),He=Oe("./node_modules/core-js/internals/to-absolute-index.js"),Qe=Oe("./node_modules/core-js/internals/to-length.js"),Ke=Oe("./node_modules/core-js/internals/to-indexed-object.js"),ze=Oe("./node_modules/core-js/internals/create-property.js"),We=Oe("./node_modules/core-js/internals/well-known-symbol.js"),qe=Oe("./node_modules/core-js/internals/array-method-has-species-support.js"),Ye=qe("slice"),Xe=We("species"),rr=[].slice,Je=Math.max;ke({target:"Array",proto:!0,forced:!Ye},{slice:function(or,pr){var ar=Ke(this),fr=Qe(ar.length),gr=He(or,fr),Rr=He(pr===void 0?fr:pr,fr),Ir,mr,Er;if($e(ar)&&(Ir=ar.constructor,typeof Ir=="function"&&(Ir===Array||$e(Ir.prototype))?Ir=void 0:Me(Ir)&&(Ir=Ir[Xe],Ir===null&&(Ir=void 0)),Ir===Array||Ir===void 0))return rr.call(ar,gr,Rr);for(mr=new(Ir===void 0?Array:Ir)(Je(Rr-gr,0)),Er=0;gr<Rr;gr++,Er++)gr in ar&&ze(mr,Er,ar[gr]);return mr.length=Er,mr}})},"./node_modules/core-js/modules/es.function.name.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/descriptors.js"),Me=Oe("./node_modules/core-js/internals/object-define-property.js").f,$e=Function.prototype,He=$e.toString,Qe=/^\s*function ([^ (]*)/,Ke="name";ke&&!(Ke in $e)&&Me($e,Ke,{configurable:!0,get:function(){try{return He.call(this).match(Qe)[1]}catch{return""}}})},"./node_modules/core-js/modules/es.number.constructor.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/descriptors.js"),Me=Oe("./node_modules/core-js/internals/global.js"),$e=Oe("./node_modules/core-js/internals/is-forced.js"),He=Oe("./node_modules/core-js/internals/redefine.js"),Qe=Oe("./node_modules/core-js/internals/has.js"),Ke=Oe("./node_modules/core-js/internals/classof-raw.js"),ze=Oe("./node_modules/core-js/internals/inherit-if-required.js"),We=Oe("./node_modules/core-js/internals/is-symbol.js"),qe=Oe("./node_modules/core-js/internals/to-primitive.js"),Ye=Oe("./node_modules/core-js/internals/fails.js"),Xe=Oe("./node_modules/core-js/internals/object-create.js"),rr=Oe("./node_modules/core-js/internals/object-get-own-property-names.js").f,Je=Oe("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,er=Oe("./node_modules/core-js/internals/object-define-property.js").f,or=Oe("./node_modules/core-js/internals/string-trim.js").trim,pr="Number",ar=Me[pr],fr=ar.prototype,gr=Ke(Xe(fr))==pr,Rr=function(br){if(We(br))throw TypeError("Cannot convert a Symbol value to a number");var wr=qe(br,"number"),jr,hr,_r,Pr,Cr,Or,Yr,qr;if(typeof wr=="string"&&wr.length>2){if(wr=or(wr),jr=wr.charCodeAt(0),jr===43||jr===45){if(hr=wr.charCodeAt(2),hr===88||hr===120)return NaN}else if(jr===48){switch(wr.charCodeAt(1)){case 66:case 98:_r=2,Pr=49;break;case 79:case 111:_r=8,Pr=55;break;default:return+wr}for(Cr=wr.slice(2),Or=Cr.length,Yr=0;Yr<Or;Yr++)if(qr=Cr.charCodeAt(Yr),qr<48||qr>Pr)return NaN;return parseInt(Cr,_r)}}return+wr};if($e(pr,!ar(" 0o1")||!ar("0b1")||ar("+0x1"))){for(var Ir=function(wr){var jr=arguments.length<1?0:wr,hr=this;return hr instanceof Ir&&(gr?Ye(function(){fr.valueOf.call(hr)}):Ke(hr)!=pr)?ze(new ar(Rr(jr)),hr,Ir):Rr(jr)},mr=ke?rr(ar):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Er=0,Ar;mr.length>Er;Er++)Qe(ar,Ar=mr[Er])&&!Qe(Ir,Ar)&&er(Ir,Ar,Je(ar,Ar));Ir.prototype=fr,fr.constructor=Ir,He(Me,pr,Ir)}},"./node_modules/core-js/modules/es.object.assign.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/export.js"),Me=Oe("./node_modules/core-js/internals/object-assign.js");ke({target:"Object",stat:!0,forced:Object.assign!==Me},{assign:Me})},"./node_modules/core-js/modules/es.object.keys.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/export.js"),Me=Oe("./node_modules/core-js/internals/to-object.js"),$e=Oe("./node_modules/core-js/internals/object-keys.js"),He=Oe("./node_modules/core-js/internals/fails.js"),Qe=He(function(){$e(1)});ke({target:"Object",stat:!0,forced:Qe},{keys:function(ze){return $e(Me(ze))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/to-string-tag-support.js"),Me=Oe("./node_modules/core-js/internals/redefine.js"),$e=Oe("./node_modules/core-js/internals/object-to-string.js");ke||Me(Object.prototype,"toString",$e,{unsafe:!0})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/redefine.js"),Me=Oe("./node_modules/core-js/internals/an-object.js"),$e=Oe("./node_modules/core-js/internals/to-string.js"),He=Oe("./node_modules/core-js/internals/fails.js"),Qe=Oe("./node_modules/core-js/internals/regexp-flags.js"),Ke="toString",ze=RegExp.prototype,We=ze[Ke],qe=He(function(){return We.call({source:"a",flags:"b"})!="/a/b"}),Ye=We.name!=Ke;(qe||Ye)&&ke(RegExp.prototype,Ke,function(){var rr=Me(this),Je=$e(rr.source),er=rr.flags,or=$e(er===void 0&&rr instanceof RegExp&&!("flags"in ze)?Qe.call(rr):er);return"/"+Je+"/"+or},{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/string-multibyte.js").charAt,Me=Oe("./node_modules/core-js/internals/to-string.js"),$e=Oe("./node_modules/core-js/internals/internal-state.js"),He=Oe("./node_modules/core-js/internals/define-iterator.js"),Qe="String Iterator",Ke=$e.set,ze=$e.getterFor(Qe);He(String,"String",function(We){Ke(this,{type:Qe,string:Me(We),index:0})},function(){var qe=ze(this),Ye=qe.string,Xe=qe.index,rr;return Xe>=Ye.length?{value:void 0,done:!0}:(rr=ke(Ye,Xe),qe.index+=rr.length,{value:rr,done:!1})})},"./node_modules/core-js/modules/es.string.link.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/export.js"),Me=Oe("./node_modules/core-js/internals/create-html.js"),$e=Oe("./node_modules/core-js/internals/string-html-forced.js");ke({target:"String",proto:!0,forced:$e("link")},{link:function(Qe){return Me(this,"a","href",Qe)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/export.js"),Me=Oe("./node_modules/core-js/internals/descriptors.js"),$e=Oe("./node_modules/core-js/internals/global.js"),He=Oe("./node_modules/core-js/internals/has.js"),Qe=Oe("./node_modules/core-js/internals/is-object.js"),Ke=Oe("./node_modules/core-js/internals/object-define-property.js").f,ze=Oe("./node_modules/core-js/internals/copy-constructor-properties.js"),We=$e.Symbol;if(Me&&typeof We=="function"&&(!("description"in We.prototype)||We().description!==void 0)){var qe={},Ye=function(){var pr=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),ar=this instanceof Ye?new We(pr):pr===void 0?We():We(pr);return pr===""&&(qe[ar]=!0),ar};ze(Ye,We);var Xe=Ye.prototype=We.prototype;Xe.constructor=Ye;var rr=Xe.toString,Je=String(We("test"))=="Symbol(test)",er=/^Symbol\((.*)\)[^)]+$/;Ke(Xe,"description",{configurable:!0,get:function(){var pr=Qe(this)?this.valueOf():this,ar=rr.call(pr);if(He(qe,pr))return"";var fr=Je?ar.slice(7,-1):ar.replace(er,"$1");return fr===""?void 0:fr}}),ke({global:!0,forced:!0},{Symbol:Ye})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/define-well-known-symbol.js");ke("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/export.js"),Me=Oe("./node_modules/core-js/internals/global.js"),$e=Oe("./node_modules/core-js/internals/get-built-in.js"),He=Oe("./node_modules/core-js/internals/is-pure.js"),Qe=Oe("./node_modules/core-js/internals/descriptors.js"),Ke=Oe("./node_modules/core-js/internals/native-symbol.js"),ze=Oe("./node_modules/core-js/internals/fails.js"),We=Oe("./node_modules/core-js/internals/has.js"),qe=Oe("./node_modules/core-js/internals/is-array.js"),Ye=Oe("./node_modules/core-js/internals/is-object.js"),Xe=Oe("./node_modules/core-js/internals/is-symbol.js"),rr=Oe("./node_modules/core-js/internals/an-object.js"),Je=Oe("./node_modules/core-js/internals/to-object.js"),er=Oe("./node_modules/core-js/internals/to-indexed-object.js"),or=Oe("./node_modules/core-js/internals/to-property-key.js"),pr=Oe("./node_modules/core-js/internals/to-string.js"),ar=Oe("./node_modules/core-js/internals/create-property-descriptor.js"),fr=Oe("./node_modules/core-js/internals/object-create.js"),gr=Oe("./node_modules/core-js/internals/object-keys.js"),Rr=Oe("./node_modules/core-js/internals/object-get-own-property-names.js"),Ir=Oe("./node_modules/core-js/internals/object-get-own-property-names-external.js"),mr=Oe("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Er=Oe("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),Ar=Oe("./node_modules/core-js/internals/object-define-property.js"),br=Oe("./node_modules/core-js/internals/object-property-is-enumerable.js"),wr=Oe("./node_modules/core-js/internals/create-non-enumerable-property.js"),jr=Oe("./node_modules/core-js/internals/redefine.js"),hr=Oe("./node_modules/core-js/internals/shared.js"),_r=Oe("./node_modules/core-js/internals/shared-key.js"),Pr=Oe("./node_modules/core-js/internals/hidden-keys.js"),Cr=Oe("./node_modules/core-js/internals/uid.js"),Or=Oe("./node_modules/core-js/internals/well-known-symbol.js"),Yr=Oe("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),qr=Oe("./node_modules/core-js/internals/define-well-known-symbol.js"),Kr=Oe("./node_modules/core-js/internals/set-to-string-tag.js"),Zr=Oe("./node_modules/core-js/internals/internal-state.js"),yn=Oe("./node_modules/core-js/internals/array-iteration.js").forEach,mn=_r("hidden"),Cn="Symbol",bn="prototype",wn=Or("toPrimitive"),Jr=Zr.set,qn=Zr.getterFor(Cn),ci=Object[bn],Jn=Me.Symbol,ui=$e("JSON","stringify"),li=Er.f,mi=Ar.f,wi=Ir.f,Di=br.f,$i=hr("symbols"),Si=hr("op-symbols"),Bi=hr("string-to-symbol-registry"),Vi=hr("symbol-to-string-registry"),Pn=hr("wks"),En=Me.QObject,jn=!En||!En[bn]||!En[bn].findChild,ni=Qe&&ze(function(){return fr(mi({},"a",{get:function(){return mi(this,"a",{value:7}).a}})).a!=7})?function(Ji,Ti,xi){var Ui=li(ci,Ti);Ui&&delete ci[Ti],mi(Ji,Ti,xi),Ui&&Ji!==ci&&mi(ci,Ti,Ui)}:mi,ii=function(Ji,Ti){var xi=$i[Ji]=fr(Jn[bn]);return Jr(xi,{type:Cn,tag:Ji,description:Ti}),Qe||(xi.description=Ti),xi},Fi=function(Ti,xi,Ui){Ti===ci&&Fi(Si,xi,Ui),rr(Ti);var ss=or(xi);return rr(Ui),We($i,ss)?(Ui.enumerable?(We(Ti,mn)&&Ti[mn][ss]&&(Ti[mn][ss]=!1),Ui=fr(Ui,{enumerable:ar(0,!1)})):(We(Ti,mn)||mi(Ti,mn,ar(1,{})),Ti[mn][ss]=!0),ni(Ti,ss,Ui)):mi(Ti,ss,Ui)},bi=function(Ti,xi){rr(Ti);var Ui=er(xi),ss=gr(Ui).concat(vs(Ui));return yn(ss,function(us){(!Qe||ws.call(Ui,us))&&Fi(Ti,us,Ui[us])}),Ti},Wi=function(Ti,xi){return xi===void 0?fr(Ti):bi(fr(Ti),xi)},ws=function(Ti){var xi=or(Ti),Ui=Di.call(this,xi);return this===ci&&We($i,xi)&&!We(Si,xi)?!1:Ui||!We(this,xi)||!We($i,xi)||We(this,mn)&&this[mn][xi]?Ui:!0},Zi=function(Ti,xi){var Ui=er(Ti),ss=or(xi);if(!(Ui===ci&&We($i,ss)&&!We(Si,ss))){var us=li(Ui,ss);return us&&We($i,ss)&&!(We(Ui,mn)&&Ui[mn][ss])&&(us.enumerable=!0),us}},fa=function(Ti){var xi=wi(er(Ti)),Ui=[];return yn(xi,function(ss){!We($i,ss)&&!We(Pr,ss)&&Ui.push(ss)}),Ui},vs=function(Ti){var xi=Ti===ci,Ui=wi(xi?Si:er(Ti)),ss=[];return yn(Ui,function(us){We($i,us)&&(!xi||We(ci,us))&&ss.push($i[us])}),ss};if(Ke||(Jn=function(){if(this instanceof Jn)throw TypeError("Symbol is not a constructor");var Ti=!arguments.length||arguments[0]===void 0?void 0:pr(arguments[0]),xi=Cr(Ti),Ui=function(ss){this===ci&&Ui.call(Si,ss),We(this,mn)&&We(this[mn],xi)&&(this[mn][xi]=!1),ni(this,xi,ar(1,ss))};return Qe&&jn&&ni(ci,xi,{configurable:!0,set:Ui}),ii(xi,Ti)},jr(Jn[bn],"toString",function(){return qn(this).tag}),jr(Jn,"withoutSetter",function(Ji){return ii(Cr(Ji),Ji)}),br.f=ws,Ar.f=Fi,Er.f=Zi,Rr.f=Ir.f=fa,mr.f=vs,Yr.f=function(Ji){return ii(Or(Ji),Ji)},Qe&&(mi(Jn[bn],"description",{configurable:!0,get:function(){return qn(this).description}}),He||jr(ci,"propertyIsEnumerable",ws,{unsafe:!0}))),ke({global:!0,wrap:!0,forced:!Ke,sham:!Ke},{Symbol:Jn}),yn(gr(Pn),function(Ji){qr(Ji)}),ke({target:Cn,stat:!0,forced:!Ke},{for:function(Ji){var Ti=pr(Ji);if(We(Bi,Ti))return Bi[Ti];var xi=Jn(Ti);return Bi[Ti]=xi,Vi[xi]=Ti,xi},keyFor:function(Ti){if(!Xe(Ti))throw TypeError(Ti+" is not a symbol");if(We(Vi,Ti))return Vi[Ti]},useSetter:function(){jn=!0},useSimple:function(){jn=!1}}),ke({target:"Object",stat:!0,forced:!Ke,sham:!Qe},{create:Wi,defineProperty:Fi,defineProperties:bi,getOwnPropertyDescriptor:Zi}),ke({target:"Object",stat:!0,forced:!Ke},{getOwnPropertyNames:fa,getOwnPropertySymbols:vs}),ke({target:"Object",stat:!0,forced:ze(function(){mr.f(1)})},{getOwnPropertySymbols:function(Ti){return mr.f(Je(Ti))}}),ui){var Zs=!Ke||ze(function(){var Ji=Jn();return ui([Ji])!="[null]"||ui({a:Ji})!="{}"||ui(Object(Ji))!="{}"});ke({target:"JSON",stat:!0,forced:Zs},{stringify:function(Ti,xi,Ui){for(var ss=[Ti],us=1,Js;arguments.length>us;)ss.push(arguments[us++]);if(Js=xi,!(!Ye(xi)&&Ti===void 0||Xe(Ti)))return qe(xi)||(xi=function(Na,Ri){if(typeof Js=="function"&&(Ri=Js.call(this,Na,Ri)),!Xe(Ri))return Ri}),ss[1]=xi,ui.apply(null,ss)}})}Jn[bn][wn]||wr(Jn[bn],wn,Jn[bn].valueOf),Kr(Jn,Cn),Pr[mn]=!0},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/global.js"),Me=Oe("./node_modules/core-js/internals/dom-iterables.js"),$e=Oe("./node_modules/core-js/internals/array-for-each.js"),He=Oe("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var Qe in Me){var Ke=ke[Qe],ze=Ke&&Ke.prototype;if(ze&&ze.forEach!==$e)try{He(ze,"forEach",$e)}catch{ze.forEach=$e}}},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(De,Fe,Oe){var ke=Oe("./node_modules/core-js/internals/global.js"),Me=Oe("./node_modules/core-js/internals/dom-iterables.js"),$e=Oe("./node_modules/core-js/modules/es.array.iterator.js"),He=Oe("./node_modules/core-js/internals/create-non-enumerable-property.js"),Qe=Oe("./node_modules/core-js/internals/well-known-symbol.js"),Ke=Qe("iterator"),ze=Qe("toStringTag"),We=$e.values;for(var qe in Me){var Ye=ke[qe],Xe=Ye&&Ye.prototype;if(Xe){if(Xe[Ke]!==We)try{He(Xe,Ke,We)}catch{Xe[Ke]=We}if(Xe[ze]||He(Xe,ze,qe),Me[qe]){for(var rr in $e)if(Xe[rr]!==$e[rr])try{He(Xe,rr,$e[rr])}catch{Xe[rr]=$e[rr]}}}}},"./node_modules/es6-promise/dist/es6-promise.js":function(De){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(Fe,Oe){De.exports=Oe()})(this,function(){function Fe(En){var jn=typeof En;return En!==null&&(jn==="object"||jn==="function")}function Oe(En){return typeof En=="function"}var ke=void 0;Array.isArray?ke=Array.isArray:ke=function(En){return Object.prototype.toString.call(En)==="[object Array]"};var Me=ke,$e=0,He=void 0,Qe=void 0,Ke=function(jn,ni){gr[$e]=jn,gr[$e+1]=ni,$e+=2,$e===2&&(Qe?Qe(Rr):mr())};function ze(En){Qe=En}function We(En){Ke=En}var qe=typeof window<"u"?window:void 0,Ye=qe||{},Xe=Ye.MutationObserver||Ye.WebKitMutationObserver,rr=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",Je=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function er(){return function(){return process.nextTick(Rr)}}function or(){return typeof He<"u"?function(){He(Rr)}:fr()}function pr(){var En=0,jn=new Xe(Rr),ni=document.createTextNode("");return jn.observe(ni,{characterData:!0}),function(){ni.data=En=++En%2}}function ar(){var En=new MessageChannel;return En.port1.onmessage=Rr,function(){return En.port2.postMessage(0)}}function fr(){var En=setTimeout;return function(){return En(Rr,1)}}var gr=new Array(1e3);function Rr(){for(var En=0;En<$e;En+=2){var jn=gr[En],ni=gr[En+1];jn(ni),gr[En]=void 0,gr[En+1]=void 0}$e=0}function Ir(){try{var En=Function("return this")().require("vertx");return He=En.runOnLoop||En.runOnContext,or()}catch{return fr()}}var mr=void 0;rr?mr=er():Xe?mr=pr():Je?mr=ar():qe===void 0?mr=Ir():mr=fr();function Er(En,jn){var ni=this,ii=new this.constructor(wr);ii[br]===void 0&&ui(ii);var Fi=ni._state;if(Fi){var bi=arguments[Fi-1];Ke(function(){return Jr(Fi,ii,bi,ni._result)})}else bn(ni,ii,En,jn);return ii}function Ar(En){var jn=this;if(En&&typeof En=="object"&&En.constructor===jn)return En;var ni=new jn(wr);return Zr(ni,En),ni}var br=Math.random().toString(36).substring(2);function wr(){}var jr=void 0,hr=1,_r=2;function Pr(){return new TypeError("You cannot resolve a promise with itself")}function Cr(){return new TypeError("A promises callback cannot return that same promise.")}function Or(En,jn,ni,ii){try{En.call(jn,ni,ii)}catch(Fi){return Fi}}function Yr(En,jn,ni){Ke(function(ii){var Fi=!1,bi=Or(ni,jn,function(Wi){Fi||(Fi=!0,jn!==Wi?Zr(ii,Wi):mn(ii,Wi))},function(Wi){Fi||(Fi=!0,Cn(ii,Wi))},"Settle: "+(ii._label||" unknown promise"));!Fi&&bi&&(Fi=!0,Cn(ii,bi))},En)}function qr(En,jn){jn._state===hr?mn(En,jn._result):jn._state===_r?Cn(En,jn._result):bn(jn,void 0,function(ni){return Zr(En,ni)},function(ni){return Cn(En,ni)})}function Kr(En,jn,ni){jn.constructor===En.constructor&&ni===Er&&jn.constructor.resolve===Ar?qr(En,jn):ni===void 0?mn(En,jn):Oe(ni)?Yr(En,jn,ni):mn(En,jn)}function Zr(En,jn){if(En===jn)Cn(En,Pr());else if(Fe(jn)){var ni=void 0;try{ni=jn.then}catch(ii){Cn(En,ii);return}Kr(En,jn,ni)}else mn(En,jn)}function yn(En){En._onerror&&En._onerror(En._result),wn(En)}function mn(En,jn){En._state===jr&&(En._result=jn,En._state=hr,En._subscribers.length!==0&&Ke(wn,En))}function Cn(En,jn){En._state===jr&&(En._state=_r,En._result=jn,Ke(yn,En))}function bn(En,jn,ni,ii){var Fi=En._subscribers,bi=Fi.length;En._onerror=null,Fi[bi]=jn,Fi[bi+hr]=ni,Fi[bi+_r]=ii,bi===0&&En._state&&Ke(wn,En)}function wn(En){var jn=En._subscribers,ni=En._state;if(jn.length!==0){for(var ii=void 0,Fi=void 0,bi=En._result,Wi=0;Wi<jn.length;Wi+=3)ii=jn[Wi],Fi=jn[Wi+ni],ii?Jr(ni,ii,Fi,bi):Fi(bi);En._subscribers.length=0}}function Jr(En,jn,ni,ii){var Fi=Oe(ni),bi=void 0,Wi=void 0,ws=!0;if(Fi){try{bi=ni(ii)}catch(Zi){ws=!1,Wi=Zi}if(jn===bi){Cn(jn,Cr());return}}else bi=ii;jn._state!==jr||(Fi&&ws?Zr(jn,bi):ws===!1?Cn(jn,Wi):En===hr?mn(jn,bi):En===_r&&Cn(jn,bi))}function qn(En,jn){try{jn(function(ii){Zr(En,ii)},function(ii){Cn(En,ii)})}catch(ni){Cn(En,ni)}}var ci=0;function Jn(){return ci++}function ui(En){En[br]=ci++,En._state=void 0,En._result=void 0,En._subscribers=[]}function li(){return new Error("Array Methods must be provided an Array")}var mi=function(){function En(jn,ni){this._instanceConstructor=jn,this.promise=new jn(wr),this.promise[br]||ui(this.promise),Me(ni)?(this.length=ni.length,this._remaining=ni.length,this._result=new Array(this.length),this.length===0?mn(this.promise,this._result):(this.length=this.length||0,this._enumerate(ni),this._remaining===0&&mn(this.promise,this._result))):Cn(this.promise,li())}return En.prototype._enumerate=function(ni){for(var ii=0;this._state===jr&&ii<ni.length;ii++)this._eachEntry(ni[ii],ii)},En.prototype._eachEntry=function(ni,ii){var Fi=this._instanceConstructor,bi=Fi.resolve;if(bi===Ar){var Wi=void 0,ws=void 0,Zi=!1;try{Wi=ni.then}catch(vs){Zi=!0,ws=vs}if(Wi===Er&&ni._state!==jr)this._settledAt(ni._state,ii,ni._result);else if(typeof Wi!="function")this._remaining--,this._result[ii]=ni;else if(Fi===Vi){var fa=new Fi(wr);Zi?Cn(fa,ws):Kr(fa,ni,Wi),this._willSettleAt(fa,ii)}else this._willSettleAt(new Fi(function(vs){return vs(ni)}),ii)}else this._willSettleAt(bi(ni),ii)},En.prototype._settledAt=function(ni,ii,Fi){var bi=this.promise;bi._state===jr&&(this._remaining--,ni===_r?Cn(bi,Fi):this._result[ii]=Fi),this._remaining===0&&mn(bi,this._result)},En.prototype._willSettleAt=function(ni,ii){var Fi=this;bn(ni,void 0,function(bi){return Fi._settledAt(hr,ii,bi)},function(bi){return Fi._settledAt(_r,ii,bi)})},En}();function wi(En){return new mi(this,En).promise}function Di(En){var jn=this;return Me(En)?new jn(function(ni,ii){for(var Fi=En.length,bi=0;bi<Fi;bi++)jn.resolve(En[bi]).then(ni,ii)}):new jn(function(ni,ii){return ii(new TypeError("You must pass an array to race."))})}function $i(En){var jn=this,ni=new jn(wr);return Cn(ni,En),ni}function Si(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Bi(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Vi=function(){function En(jn){this[br]=Jn(),this._result=this._state=void 0,this._subscribers=[],wr!==jn&&(typeof jn!="function"&&Si(),this instanceof En?qn(this,jn):Bi())}return En.prototype.catch=function(ni){return this.then(null,ni)},En.prototype.finally=function(ni){var ii=this,Fi=ii.constructor;return Oe(ni)?ii.then(function(bi){return Fi.resolve(ni()).then(function(){return bi})},function(bi){return Fi.resolve(ni()).then(function(){throw bi})}):ii.then(ni,ni)},En}();Vi.prototype.then=Er,Vi.all=wi,Vi.race=Di,Vi.resolve=Ar,Vi.reject=$i,Vi._setScheduler=ze,Vi._setAsap=We,Vi._asap=Ke;function Pn(){var En=void 0;if(typeof commonjsGlobal$2<"u")En=commonjsGlobal$2;else if(typeof self<"u")En=self;else try{En=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var jn=En.Promise;if(jn){var ni=null;try{ni=Object.prototype.toString.call(jn.resolve())}catch{}if(ni==="[object Promise]"&&!jn.cast)return}En.Promise=Vi}return Vi.polyfill=Pn,Vi.Promise=Vi,Vi})},html2canvas:function(De){De.exports=Pe},jspdf:function(De){De.exports=Ce}},Ie={};function Be(De){var Fe=Ie[De];if(Fe!==void 0)return Fe.exports;var Oe=Ie[De]={exports:{}};return Re[De].call(Oe.exports,Oe,Oe.exports,Be),Oe.exports}(function(){Be.n=function(De){var Fe=De&&De.__esModule?function(){return De.default}:function(){return De};return Be.d(Fe,{a:Fe}),Fe}})(),function(){Be.d=function(De,Fe){for(var Oe in Fe)Be.o(Fe,Oe)&&!Be.o(De,Oe)&&Object.defineProperty(De,Oe,{enumerable:!0,get:Fe[Oe]})}}(),function(){Be.o=function(De,Fe){return Object.prototype.hasOwnProperty.call(De,Fe)}}(),function(){Be.r=function(De){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(De,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(De,"__esModule",{value:!0})}}();var je={};return function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/Be.r(je);var De=Be("./src/worker.js");Be("./src/plugin/jspdf-plugin.js"),Be("./src/plugin/pagebreaks.js"),Be("./src/plugin/hyperlinks.js");var Fe=function Oe(ke,Me){var $e=new Oe.Worker(Me);return ke?$e.from(ke).save():$e};Fe.Worker=De.default,je.default=Fe}(),je=je.default,je}()})}(html2pdf$1)),html2pdf$1.exports}var html2pdfExports=requireHtml2pdf();const html2pdf=getDefaultExportFromCjs(html2pdfExports),FLYPLogo="/assets/flyp-logo.png",InvoicePreview$1=({customer:Ee,cartItems:_e,settings:Ce,paymentMode:Pe,invoiceType:Re,issuedAt:Ie,userInfo:Be,onCancel:je,onConfirm:De})=>{const[Fe,Oe]=React.useState(null);React.useEffect(()=>{(async()=>{const Ye=auth$2.currentUser;if(!Ye)return;const Xe=await getDoc(doc(db$2,"businesses",Ye.uid));Xe.exists()&&Oe(Xe.data())})()},[]);const ke=qe=>qe.quantity*qe.price*(1-qe.discount/100),Me=(_e||[]).reduce((qe,Ye)=>qe+ke(Ye),0),$e=Ce.includeGST?Me*(Ce.gstRate||0)/100:0,He=Ce.includeCGST?Me*(Ce.cgstRate||0)/100:0,Qe=Ce.includeSGST?Me*(Ce.sgstRate||0)/100:0,Ke=Ce.includeIGST?Me*(Ce.igstRate||0)/100:0,ze=Me+$e+He+Qe+Ke,We=()=>{const qe=document.getElementById("invoice-content");html2pdf().from(qe).save(`Invoice-FLYP-${Ie?new Date(Ie).getTime():Date.now()}.pdf`)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"text-right mb-2 max-w-4xl mx-auto mt-4",children:jsxRuntimeExports.jsx("button",{onClick:We,className:"px-4 py-1 bg-gray-700 text-white rounded mr-2",children:"Download PDF"})}),jsxRuntimeExports.jsxs("div",{id:"invoice-content",className:"bg-white p-4 md:p-6 rounded-xl shadow-md max-w-4xl mx-auto mt-6 pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)] space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"Invoice Preview"}),jsxRuntimeExports.jsx("button",{className:"text-red-500 hover:underline",onClick:je,children:"Cancel"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mb-6 border-b pb-4",children:[jsxRuntimeExports.jsxs("div",{className:"w-1/2 pr-6 border-r border-gray-300",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2 border-b pb-1",children:"Customer Information"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Name:"})," ",Ee.name]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Phone:"})," ",Ee.phone]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",Ee.email]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Address:"})," ",Ee.address]})]}),jsxRuntimeExports.jsxs("div",{className:"w-1/2 pl-6 text-right",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2 border-b pb-1",children:"Retailer Information"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Business Name:"})," ",Fe?.businessName||"Retailer"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Owner:"})," ",Fe?.ownerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Phone:"})," ",Fe?.phone]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",Fe?.email]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Address:"})," ",Fe?.address]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"GSTIN:"})," ",Fe?.gstNumber||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"PAN:"})," ",Fe?.pan||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Invoice ID:"})," FLYP-",Ie?new Date(Ie).getTime():Date.now()]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Invoice Issued On:"})," ",Ie?hooks(Ie).local().format("DD MMM YYYY, hh:mm A"):"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Current Issue Date & Time:"})," ",hooks().local().format("DD MMM YYYY, hh:mm A")]})]})]}),jsxRuntimeExports.jsx("h2",{className:"text-center font-extrabold text-2xl mb-6 uppercase tracking-widest font-bold",children:Re==="retail"?"RETAIL INVOICE":Re==="tax"?"TAX INVOICE":Re==="quote"?"QUOTATION":Re==="estimation"?"ESTIMATION":"TAX INVOICE"}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-center font-bold text-lg mt-6 uppercase",children:"Products"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Discount (%)"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Subtotal"})]})}),jsxRuntimeExports.jsx("tbody",{children:_e.map((qe,Ye)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:qe.name}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:qe.brand||"-"}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:qe.category||"-"}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:qe.unit||"-"}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:qe.quantity}),jsxRuntimeExports.jsxs("td",{className:"border px-2 py-1",children:["",qe.price]}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:qe.discount||0}),jsxRuntimeExports.jsxs("td",{className:"border px-2 py-1",children:["",ke(qe).toFixed(2)]})]},Ye))})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4 text-right",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Tax Summary"}),Ce.includeGST&&jsxRuntimeExports.jsxs("p",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"w-24 text-left",children:["GST (",Ce.gstRate||0,"%):"]})," ",$e.toFixed(2)]}),Ce.includeCGST&&jsxRuntimeExports.jsxs("p",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"w-24 text-left",children:["CGST (",Ce.cgstRate||0,"%):"]})," ",He.toFixed(2)]}),Ce.includeSGST&&jsxRuntimeExports.jsxs("p",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"w-24 text-left",children:["SGST (",Ce.sgstRate||0,"%):"]})," ",Qe.toFixed(2)]}),Ce.includeIGST&&jsxRuntimeExports.jsxs("p",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"w-24 text-left",children:["IGST (",Ce.igstRate||0,"%):"]})," ",Ke.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"mt-2 font-bold text-xl",children:["Total: ",ze.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Payment Mode: ",Pe||"N/A"," | Invoice Type: ",Re&&Re.length>0?Re.charAt(0).toUpperCase()+Re.slice(1):"N/A"]}),Pe==="credit"&&(Ce.creditDueDate||Ce.dueDate)&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Due Date: ",hooks(Ce.creditDueDate||Ce.dueDate).format("DD MMM YYYY")]}),Pe==="split"&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mt-1 space-y-1",children:[jsxRuntimeExports.jsx("p",{children:"Split Breakdown:"}),jsxRuntimeExports.jsxs("p",{children:["- ",Ce.splitCash??0," by Cash"]}),jsxRuntimeExports.jsxs("p",{children:["- ",Ce.splitUPI??0," by UPI"]}),jsxRuntimeExports.jsxs("p",{children:["- ",Ce.splitCard??0," by Card"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-8",children:[jsxRuntimeExports.jsx("div",{className:"text-left",children:jsxRuntimeExports.jsx("img",{src:FLYPLogo,alt:"FLYP Logo",className:"w-24 opacity-70"})}),jsxRuntimeExports.jsx("div",{className:"text-right text-sm text-gray-500 italic",children:"Thank you for your business!"})]}),jsxRuntimeExports.jsx("button",{className:"mt-6 px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700",onClick:De,children:"Publish Invoice"})]})]})]})},updateInventoryStock=async(Ee,_e)=>{for(const Ce of _e)try{console.log("Updating stock for:",Ce.name,"ID:",Ce.id,"Qty:",Ce.quantity,"Brand:",Ce.brand,"Category:",Ce.category);const Pe=doc(db$2,"businesses",Ee,"products",Ce.id),Re=await getDoc(Pe);if(Re.exists()){const Be=(parseFloat(Re.data().quantity)||0)-Ce.quantity,je=Be<0?0:Be;await updateDoc(Pe,{quantity:je}),console.log("Stock updated to:",je)}else console.warn("Product not found for ID:",Ce.id)}catch(Pe){console.error("Error updating stock for product ID:",Ce.id,Pe.message)}},CreateInvoice=()=>{const[Ee,_e]=reactExports.useState({name:"",phone:"",email:"",address:""}),[Ce,Pe]=reactExports.useState([]),[Re,Ie]=reactExports.useState({includeGST:!1,includeCGST:!1,includeIGST:!1,gstRate:9,cgstRate:9,igstRate:18,invoiceType:"",paymentMode:""}),[Be,je]=reactExports.useState([]),[De,Fe]=reactExports.useState({visible:!1,issuedAt:null}),[Oe,ke]=reactExports.useState(null),[Me,$e]=reactExports.useState(""),[He,Qe]=reactExports.useState(null),[Ke,ze]=reactExports.useState({cash:0,upi:0,card:0});reactExports.useEffect(()=>{(async()=>{const rr=auth$2.currentUser;if(rr){const Je=doc(db$2,"businesses",rr.uid),er=await getDoc(Je);er.exists()&&ke({...er.data(),uid:rr.uid})}})()},[]);const We=Xe=>{_e(Xe)},qe=async()=>{if(!Oe){alert("User not authenticated or user info missing.");return}if(Ce.length===0){alert("Cart is empty. Please add products to generate invoice.");return}const Xe=hooks().format("YYYY-MM-DDTHH:mm:ss.SSSZ"),rr="INV-"+Math.random().toString(36).substr(2,9).toUpperCase();$e(rr);try{if(Ee&&Ee.custId){const br=doc(db$2,"businesses",Oe.uid,"customers",Ee.custId),wr=await getDoc(br);if(wr.exists()){const hr={...wr.data(),...Ee,updatedAt:Xe};await updateDoc(br,hr)}else await setDoc(br,{...Ee,createdAt:Xe})}}catch(br){console.error("Error saving/updating customer:",br),alert("Failed to save customer info. Please try again.");return}const Je=Ce.reduce((br,wr)=>{const jr=wr.quantity*wr.price,hr=wr.discount||0;return br+jr-jr*hr/100},0),er=Re.includeGST?Je*(Re.gstRate/100):0,or=Re.includeCGST?Je*(Re.cgstRate/100):0,pr=Re.includeSGST?Je*(Re.sgstRate/100):0,ar=Re.includeIGST?Je*(Re.igstRate/100):0,fr=parseFloat((Je+er+or+pr+ar).toFixed(2));if(Re.paymentMode==="Split"){const br=Ke.cash+Ke.upi+Ke.card;if(br!==fr){alert(`Split payment does not match invoice total. Total: ${fr}, Split: ${br}`);return}}let gr=!1,Rr=null,Ir=null;Re.paymentMode?.toLowerCase()==="credit"?Ir=Re.creditDueDate||hooks().add(7,"days").format("YYYY-MM-DD"):(gr=!0,Rr=Xe);const mr={...Re};delete mr.splitCash,delete mr.splitUPI,delete mr.splitCard,delete mr.splitPayment;const Er=Re.splitPayment||Ke;console.log(" SplitPayment Before Save:",Er);const Ar={customer:Ee,custId:Ee&&Ee.custId?Ee.custId:void 0,cartItems:Ce,settings:mr,paymentMode:Re.paymentMode,invoiceType:Re.invoiceType,issuedAt:Xe,invoiceId:rr,totalAmount:fr,splitPayment:Er,creditDueDate:Ir,isPaid:gr,paidOn:Rr};console.log(" Invoice Data to Save:",Ar),Qe(Ar),Fe({visible:!0,issuedAt:Xe})},Ye=()=>{Fe({visible:!1,issuedAt:null})};return De.visible&&Oe&&He?jsxRuntimeExports.jsx(InvoicePreview$1,{customer:Ee,cartItems:Ce,settings:Re,paymentMode:Re.paymentMode,invoiceType:Re.invoiceType,issuedAt:De.issuedAt,invoiceId:Me,onCancel:Ye,onConfirm:async()=>{try{const Xe=doc(db$2,"businesses",Oe.uid,"finalizedInvoices",Me);await setDoc(Xe,{...He,createdAt:He.issuedAt,isPaid:He.isPaid,paidOn:He.paidOn,creditDueDate:He.creditDueDate}),console.log("Invoice saved to Firestore:",Me),await updateInventoryStock(Oe.uid,Ce)}catch(Xe){console.error("Error saving invoice:",Xe.message),alert("Failed to save invoice. Please try again.");return}Fe({visible:!1,issuedAt:null})},taxRates:{gst:Re.gstRate,cgst:Re.cgstRate,igst:Re.igstRate},userInfo:{businessName:Oe.businessName||"N/A",ownerName:Oe.ownerName||"N/A",address:Oe.address||"N/A",phone:Oe.phone||"N/A",email:Oe.email||"N/A",gstin:Oe.gstin||"N/A",pan:Oe.pan||"N/A"}}):jsxRuntimeExports.jsxs("div",{className:"space-y-6 px-4 md:px-6 pb-32 pt-[env(safe-area-inset-top)]",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Customer Information"}),Oe&&jsxRuntimeExports.jsx(CustomerForm,{customer:Ee,onChange:We,userId:Oe.uid})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Add Product"}),jsxRuntimeExports.jsx(ProductSearch,{onSelect:Xe=>{if(!Be.find(Je=>Je.id===Xe.id)){const Je=[...Be,Xe];je(Je),Pe(er=>[...er,{id:Xe.id,name:Xe.name,sku:Xe.sku||"",brand:Xe.brand||"",category:Xe.category||"",quantity:1,price:parseFloat(Xe.sellingPrice||0),discount:0,unit:Xe.unit||""}])}}})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[jsxRuntimeExports.jsx(InvoiceSettings,{settings:Re,onChange:Ie}),Re.paymentMode==="Split"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Amount"}),jsxRuntimeExports.jsx("input",{type:"number",value:Ke.cash,onChange:Xe=>{const rr=parseFloat(Xe.target.value)||0;console.log(" Cash Split Updated:",rr),ze(Je=>({...Je,cash:rr}))},className:"w-full border rounded px-3 py-2"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"UPI Amount"}),jsxRuntimeExports.jsx("input",{type:"number",value:Ke.upi,onChange:Xe=>{const rr=parseFloat(Xe.target.value)||0;console.log(" UPI Split Updated:",rr),ze(Je=>({...Je,upi:rr}))},className:"w-full border rounded px-3 py-2"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Amount"}),jsxRuntimeExports.jsx("input",{type:"number",value:Ke.card,onChange:Xe=>{const rr=parseFloat(Xe.target.value)||0;console.log(" Card Split Updated:",rr),ze(Je=>({...Je,card:rr}))},className:"w-full border rounded px-3 py-2"})]})]}),Re.paymentMode==="Credit"&&jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Credit Due Date (Default: 7 days from today)"}),jsxRuntimeExports.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2",value:Re.creditDueDate||"",onChange:Xe=>{Ie(rr=>({...rr,creditDueDate:Xe.target.value}))}})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Product Cart"}),jsxRuntimeExports.jsx(BillingCart,{selectedProducts:Be,cartItems:Ce,onUpdateCart:Pe,settings:Re})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:qe,className:"bg-blue-600 text-white px-6 py-2 rounded shadow",children:"Create Bill"})}),jsxRuntimeExports.jsx("div",{className:"fixed bottom-4 inset-x-4 z-50 md:hidden",children:jsxRuntimeExports.jsx("button",{onClick:qe,className:"w-full bg-blue-600 text-white py-3 rounded-xl shadow-lg text-lg font-semibold",children:"Create Bill"})})]})};function r(Ee){var _e,Ce,Pe="";if(typeof Ee=="string"||typeof Ee=="number")Pe+=Ee;else if(typeof Ee=="object")if(Array.isArray(Ee)){var Re=Ee.length;for(_e=0;_e<Re;_e++)Ee[_e]&&(Ce=r(Ee[_e]))&&(Pe&&(Pe+=" "),Pe+=Ce)}else for(Ce in Ee)Ee[Ce]&&(Pe&&(Pe+=" "),Pe+=Ce);return Pe}function clsx(){for(var Ee,_e,Ce=0,Pe="",Re=arguments.length;Ce<Re;Ce++)(Ee=arguments[Ce])&&(_e=r(Ee))&&(Pe&&(Pe+=" "),Pe+=_e);return Pe}function Mt(Ee){if(typeof document>"u")return;let _e=document.head||document.getElementsByTagName("head")[0],Ce=document.createElement("style");Ce.type="text/css",_e.firstChild?_e.insertBefore(Ce,_e.firstChild):_e.appendChild(Ce),Ce.styleSheet?Ce.styleSheet.cssText=Ee:Ce.appendChild(document.createTextNode(Ee))}Mt(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var L=Ee=>typeof Ee=="number"&&!isNaN(Ee),N=Ee=>typeof Ee=="string",P$2=Ee=>typeof Ee=="function",mt=Ee=>N(Ee)||L(Ee),B=Ee=>N(Ee)||P$2(Ee)?Ee:null,pt=(Ee,_e)=>Ee===!1||L(Ee)&&Ee>0?Ee:_e,z=Ee=>reactExports.isValidElement(Ee)||N(Ee)||P$2(Ee)||L(Ee);function Z(Ee,_e,Ce=300){let{scrollHeight:Pe,style:Re}=Ee;requestAnimationFrame(()=>{Re.minHeight="initial",Re.height=Pe+"px",Re.transition=`all ${Ce}ms`,requestAnimationFrame(()=>{Re.height="0",Re.padding="0",Re.margin="0",setTimeout(_e,Ce)})})}function $$1({enter:Ee,exit:_e,appendPosition:Ce=!1,collapse:Pe=!0,collapseDuration:Re=300}){return function({children:Ie,position:Be,preventExitTransition:je,done:De,nodeRef:Fe,isIn:Oe,playToast:ke}){let Me=Ce?`${Ee}--${Be}`:Ee,$e=Ce?`${_e}--${Be}`:_e,He=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{let Qe=Fe.current,Ke=Me.split(" "),ze=We=>{We.target===Fe.current&&(ke(),Qe.removeEventListener("animationend",ze),Qe.removeEventListener("animationcancel",ze),He.current===0&&We.type!=="animationcancel"&&Qe.classList.remove(...Ke))};Qe.classList.add(...Ke),Qe.addEventListener("animationend",ze),Qe.addEventListener("animationcancel",ze)},[]),reactExports.useEffect(()=>{let Qe=Fe.current,Ke=()=>{Qe.removeEventListener("animationend",Ke),Pe?Z(Qe,De,Re):De()};Oe||(je?Ke():(He.current=1,Qe.className+=` ${$e}`,Qe.addEventListener("animationend",Ke)))},[Oe]),React.createElement(React.Fragment,null,Ie)}}function J$1(Ee,_e){return{content:tt(Ee.content,Ee.props),containerId:Ee.props.containerId,id:Ee.props.toastId,theme:Ee.props.theme,type:Ee.props.type,data:Ee.props.data||{},isLoading:Ee.props.isLoading,icon:Ee.props.icon,reason:Ee.removalReason,status:_e}}function tt(Ee,_e,Ce=!1){return reactExports.isValidElement(Ee)&&!N(Ee.type)?reactExports.cloneElement(Ee,{closeToast:_e.closeToast,toastProps:_e,data:_e.data,isPaused:Ce}):P$2(Ee)?Ee({closeToast:_e.closeToast,toastProps:_e,data:_e.data,isPaused:Ce}):Ee}function yt({closeToast:Ee,theme:_e,ariaLabel:Ce="close"}){return React.createElement("button",{className:`Toastify__close-button Toastify__close-button--${_e}`,type:"button",onClick:Pe=>{Pe.stopPropagation(),Ee(!0)},"aria-label":Ce},React.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},React.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gt({delay:Ee,isRunning:_e,closeToast:Ce,type:Pe="default",hide:Re,className:Ie,controlledProgress:Be,progress:je,rtl:De,isIn:Fe,theme:Oe}){let ke=Re||Be&&je===0,Me={animationDuration:`${Ee}ms`,animationPlayState:_e?"running":"paused"};Be&&(Me.transform=`scaleX(${je})`);let $e=clsx("Toastify__progress-bar",Be?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${Oe}`,`Toastify__progress-bar--${Pe}`,{"Toastify__progress-bar--rtl":De}),He=P$2(Ie)?Ie({rtl:De,type:Pe,defaultClassName:$e}):clsx($e,Ie),Qe={[Be&&je>=1?"onTransitionEnd":"onAnimationEnd"]:Be&&je<1?null:()=>{Fe&&Ce()}};return React.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":ke},React.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${Oe} Toastify__progress-bar--${Pe}`}),React.createElement("div",{role:"progressbar","aria-hidden":ke?"true":"false","aria-label":"notification timer",className:He,style:Me,...Qe}))}var Xt=1,at=()=>`${Xt++}`;function _t(Ee,_e,Ce){let Pe=1,Re=0,Ie=[],Be=[],je=_e,De=new Map,Fe=new Set,Oe=We=>(Fe.add(We),()=>Fe.delete(We)),ke=()=>{Be=Array.from(De.values()),Fe.forEach(We=>We())},Me=({containerId:We,toastId:qe,updateId:Ye})=>{let Xe=We?We!==Ee:Ee!==1,rr=De.has(qe)&&Ye==null;return Xe||rr},$e=(We,qe)=>{De.forEach(Ye=>{var Xe;(qe==null||qe===Ye.props.toastId)&&((Xe=Ye.toggle)==null||Xe.call(Ye,We))})},He=We=>{var qe,Ye;(Ye=(qe=We.props)==null?void 0:qe.onClose)==null||Ye.call(qe,We.removalReason),We.isActive=!1},Qe=We=>{if(We==null)De.forEach(He);else{let qe=De.get(We);qe&&He(qe)}ke()},Ke=()=>{Re-=Ie.length,Ie=[]},ze=We=>{var qe,Ye;let{toastId:Xe,updateId:rr}=We.props,Je=rr==null;We.staleId&&De.delete(We.staleId),We.isActive=!0,De.set(Xe,We),ke(),Ce(J$1(We,Je?"added":"updated")),Je&&((Ye=(qe=We.props).onOpen)==null||Ye.call(qe))};return{id:Ee,props:je,observe:Oe,toggle:$e,removeToast:Qe,toasts:De,clearQueue:Ke,buildToast:(We,qe)=>{if(Me(qe))return;let{toastId:Ye,updateId:Xe,data:rr,staleId:Je,delay:er}=qe,or=Xe==null;or&&Re++;let pr={...je,style:je.toastStyle,key:Pe++,...Object.fromEntries(Object.entries(qe).filter(([fr,gr])=>gr!=null)),toastId:Ye,updateId:Xe,data:rr,isIn:!1,className:B(qe.className||je.toastClassName),progressClassName:B(qe.progressClassName||je.progressClassName),autoClose:qe.isLoading?!1:pt(qe.autoClose,je.autoClose),closeToast(fr){De.get(Ye).removalReason=fr,Qe(Ye)},deleteToast(){let fr=De.get(Ye);if(fr!=null){if(Ce(J$1(fr,"removed")),De.delete(Ye),Re--,Re<0&&(Re=0),Ie.length>0){ze(Ie.shift());return}ke()}}};pr.closeButton=je.closeButton,qe.closeButton===!1||z(qe.closeButton)?pr.closeButton=qe.closeButton:qe.closeButton===!0&&(pr.closeButton=z(je.closeButton)?je.closeButton:!0);let ar={content:We,props:pr,staleId:Je};je.limit&&je.limit>0&&Re>je.limit&&or?Ie.push(ar):L(er)?setTimeout(()=>{ze(ar)},er):ze(ar)},setProps(We){je=We},setToggle:(We,qe)=>{let Ye=De.get(We);Ye&&(Ye.toggle=qe)},isToastActive:We=>{var qe;return(qe=De.get(We))==null?void 0:qe.isActive},getSnapshot:()=>Be}}var I=new Map,F$1=[],st=new Set,Vt=Ee=>st.forEach(_e=>_e(Ee)),bt=()=>I.size>0;function Qt(){F$1.forEach(Ee=>nt(Ee.content,Ee.options)),F$1=[]}var vt=(Ee,{containerId:_e})=>{var Ce;return(Ce=I.get(_e||1))==null?void 0:Ce.toasts.get(Ee)};function X(Ee,_e){var Ce;if(_e)return!!((Ce=I.get(_e))!=null&&Ce.isToastActive(Ee));let Pe=!1;return I.forEach(Re=>{Re.isToastActive(Ee)&&(Pe=!0)}),Pe}function ht(Ee){if(!bt()){F$1=F$1.filter(_e=>Ee!=null&&_e.options.toastId!==Ee);return}if(Ee==null||mt(Ee))I.forEach(_e=>{_e.removeToast(Ee)});else if(Ee&&("containerId"in Ee||"id"in Ee)){let _e=I.get(Ee.containerId);_e?_e.removeToast(Ee.id):I.forEach(Ce=>{Ce.removeToast(Ee.id)})}}var Ct=(Ee={})=>{I.forEach(_e=>{_e.props.limit&&(!Ee.containerId||_e.id===Ee.containerId)&&_e.clearQueue()})};function nt(Ee,_e){z(Ee)&&(bt()||F$1.push({content:Ee,options:_e}),I.forEach(Ce=>{Ce.buildToast(Ee,_e)}))}function xt(Ee){var _e;(_e=I.get(Ee.containerId||1))==null||_e.setToggle(Ee.id,Ee.fn)}function rt(Ee,_e){I.forEach(Ce=>{(_e==null||!(_e!=null&&_e.containerId)||_e?.containerId===Ce.id)&&Ce.toggle(Ee,_e?.id)})}function Et(Ee){let _e=Ee.containerId||1;return{subscribe(Ce){let Pe=_t(_e,Ee,Vt);I.set(_e,Pe);let Re=Pe.observe(Ce);return Qt(),()=>{Re(),I.delete(_e)}},setProps(Ce){var Pe;(Pe=I.get(_e))==null||Pe.setProps(Ce)},getSnapshot(){var Ce;return(Ce=I.get(_e))==null?void 0:Ce.getSnapshot()}}}function Pt(Ee){return st.add(Ee),()=>{st.delete(Ee)}}function Wt(Ee){return Ee&&(N(Ee.toastId)||L(Ee.toastId))?Ee.toastId:at()}function U$1(Ee,_e){return nt(Ee,_e),_e.toastId}function V$1(Ee,_e){return{..._e,type:_e&&_e.type||Ee,toastId:Wt(_e)}}function Q(Ee){return(_e,Ce)=>U$1(_e,V$1(Ee,Ce))}function y$2(Ee,_e){return U$1(Ee,V$1("default",_e))}y$2.loading=(Ee,_e)=>U$1(Ee,V$1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,..._e}));function Gt(Ee,{pending:_e,error:Ce,success:Pe},Re){let Ie;_e&&(Ie=N(_e)?y$2.loading(_e,Re):y$2.loading(_e.render,{...Re,..._e}));let Be={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},je=(Fe,Oe,ke)=>{if(Oe==null){y$2.dismiss(Ie);return}let Me={type:Fe,...Be,...Re,data:ke},$e=N(Oe)?{render:Oe}:Oe;return Ie?y$2.update(Ie,{...Me,...$e}):y$2($e.render,{...Me,...$e}),ke},De=P$2(Ee)?Ee():Ee;return De.then(Fe=>je("success",Pe,Fe)).catch(Fe=>je("error",Ce,Fe)),De}y$2.promise=Gt;y$2.success=Q("success");y$2.info=Q("info");y$2.error=Q("error");y$2.warning=Q("warning");y$2.warn=y$2.warning;y$2.dark=(Ee,_e)=>U$1(Ee,V$1("default",{theme:"dark",..._e}));function qt(Ee){ht(Ee)}y$2.dismiss=qt;y$2.clearWaitingQueue=Ct;y$2.isActive=X;y$2.update=(Ee,_e={})=>{let Ce=vt(Ee,_e);if(Ce){let{props:Pe,content:Re}=Ce,Ie={delay:100,...Pe,..._e,toastId:_e.toastId||Ee,updateId:at()};Ie.toastId!==Ee&&(Ie.staleId=Ee);let Be=Ie.render||Re;delete Ie.render,U$1(Be,Ie)}};y$2.done=Ee=>{y$2.update(Ee,{progress:1})};y$2.onChange=Pt;y$2.play=Ee=>rt(!0,Ee);y$2.pause=Ee=>rt(!1,Ee);function It(Ee){var _e;let{subscribe:Ce,getSnapshot:Pe,setProps:Re}=reactExports.useRef(Et(Ee)).current;Re(Ee);let Ie=(_e=reactExports.useSyncExternalStore(Ce,Pe,Pe))==null?void 0:_e.slice();function Be(je){if(!Ie)return[];let De=new Map;return Ee.newestOnTop&&Ie.reverse(),Ie.forEach(Fe=>{let{position:Oe}=Fe.props;De.has(Oe)||De.set(Oe,[]),De.get(Oe).push(Fe)}),Array.from(De,Fe=>je(Fe[0],Fe[1]))}return{getToastToRender:Be,isToastActive:X,count:Ie?.length}}function At(Ee){let[_e,Ce]=reactExports.useState(!1),[Pe,Re]=reactExports.useState(!1),Ie=reactExports.useRef(null),Be=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:je,pauseOnHover:De,closeToast:Fe,onClick:Oe,closeOnClick:ke}=Ee;xt({id:Ee.toastId,containerId:Ee.containerId,fn:Ce}),reactExports.useEffect(()=>{if(Ee.pauseOnFocusLoss)return Me(),()=>{$e()}},[Ee.pauseOnFocusLoss]);function Me(){document.hasFocus()||ze(),window.addEventListener("focus",Ke),window.addEventListener("blur",ze)}function $e(){window.removeEventListener("focus",Ke),window.removeEventListener("blur",ze)}function He(Je){if(Ee.draggable===!0||Ee.draggable===Je.pointerType){We();let er=Ie.current;Be.canCloseOnClick=!0,Be.canDrag=!0,er.style.transition="none",Ee.draggableDirection==="x"?(Be.start=Je.clientX,Be.removalDistance=er.offsetWidth*(Ee.draggablePercent/100)):(Be.start=Je.clientY,Be.removalDistance=er.offsetHeight*(Ee.draggablePercent===80?Ee.draggablePercent*1.5:Ee.draggablePercent)/100)}}function Qe(Je){let{top:er,bottom:or,left:pr,right:ar}=Ie.current.getBoundingClientRect();Je.nativeEvent.type!=="touchend"&&Ee.pauseOnHover&&Je.clientX>=pr&&Je.clientX<=ar&&Je.clientY>=er&&Je.clientY<=or?ze():Ke()}function Ke(){Ce(!0)}function ze(){Ce(!1)}function We(){Be.didMove=!1,document.addEventListener("pointermove",Ye),document.addEventListener("pointerup",Xe)}function qe(){document.removeEventListener("pointermove",Ye),document.removeEventListener("pointerup",Xe)}function Ye(Je){let er=Ie.current;if(Be.canDrag&&er){Be.didMove=!0,_e&&ze(),Ee.draggableDirection==="x"?Be.delta=Je.clientX-Be.start:Be.delta=Je.clientY-Be.start,Be.start!==Je.clientX&&(Be.canCloseOnClick=!1);let or=Ee.draggableDirection==="x"?`${Be.delta}px, var(--y)`:`0, calc(${Be.delta}px + var(--y))`;er.style.transform=`translate3d(${or},0)`,er.style.opacity=`${1-Math.abs(Be.delta/Be.removalDistance)}`}}function Xe(){qe();let Je=Ie.current;if(Be.canDrag&&Be.didMove&&Je){if(Be.canDrag=!1,Math.abs(Be.delta)>Be.removalDistance){Re(!0),Ee.closeToast(!0),Ee.collapseAll();return}Je.style.transition="transform 0.2s, opacity 0.2s",Je.style.removeProperty("transform"),Je.style.removeProperty("opacity")}}let rr={onPointerDown:He,onPointerUp:Qe};return je&&De&&(rr.onMouseEnter=ze,Ee.stacked||(rr.onMouseLeave=Ke)),ke&&(rr.onClick=Je=>{Oe&&Oe(Je),Be.canCloseOnClick&&Fe(!0)}),{playToast:Ke,pauseToast:ze,isRunning:_e,preventExitTransition:Pe,toastRef:Ie,eventHandlers:rr}}var Ot=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,G=({theme:Ee,type:_e,isLoading:Ce,...Pe})=>React.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:Ee==="colored"?"currentColor":`var(--toastify-icon-color-${_e})`,...Pe});function ao(Ee){return React.createElement(G,{...Ee},React.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function so(Ee){return React.createElement(G,{...Ee},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function no(Ee){return React.createElement(G,{...Ee},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ro(Ee){return React.createElement(G,{...Ee},React.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function io(){return React.createElement("div",{className:"Toastify__spinner"})}var W$1={info:so,warning:ao,success:no,error:ro,spinner:io},lo=Ee=>Ee in W$1;function Nt({theme:Ee,type:_e,isLoading:Ce,icon:Pe}){let Re=null,Ie={theme:Ee,type:_e};return Pe===!1||(P$2(Pe)?Re=Pe({...Ie,isLoading:Ce}):reactExports.isValidElement(Pe)?Re=reactExports.cloneElement(Pe,Ie):Ce?Re=W$1.spinner():lo(_e)&&(Re=W$1[_e](Ie))),Re}var wt=Ee=>{let{isRunning:_e,preventExitTransition:Ce,toastRef:Pe,eventHandlers:Re,playToast:Ie}=At(Ee),{closeButton:Be,children:je,autoClose:De,onClick:Fe,type:Oe,hideProgressBar:ke,closeToast:Me,transition:$e,position:He,className:Qe,style:Ke,progressClassName:ze,updateId:We,role:qe,progress:Ye,rtl:Xe,toastId:rr,deleteToast:Je,isIn:er,isLoading:or,closeOnClick:pr,theme:ar,ariaLabel:fr}=Ee,gr=clsx("Toastify__toast",`Toastify__toast-theme--${ar}`,`Toastify__toast--${Oe}`,{"Toastify__toast--rtl":Xe},{"Toastify__toast--close-on-click":pr}),Rr=P$2(Qe)?Qe({rtl:Xe,position:He,type:Oe,defaultClassName:gr}):clsx(gr,Qe),Ir=Nt(Ee),mr=!!Ye||!De,Er={closeToast:Me,type:Oe,theme:ar},Ar=null;return Be===!1||(P$2(Be)?Ar=Be(Er):reactExports.isValidElement(Be)?Ar=reactExports.cloneElement(Be,Er):Ar=yt(Er)),React.createElement($e,{isIn:er,done:Je,position:He,preventExitTransition:Ce,nodeRef:Pe,playToast:Ie},React.createElement("div",{id:rr,tabIndex:0,onClick:Fe,"data-in":er,className:Rr,...Re,style:Ke,ref:Pe,...er&&{role:qe,"aria-label":fr}},Ir!=null&&React.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!or})},Ir),tt(je,Ee,!_e),Ar,!Ee.customProgressBar&&React.createElement(gt,{...We&&!mr?{key:`p-${We}`}:{},rtl:Xe,theme:ar,delay:De,isRunning:_e,isIn:er,closeToast:Me,hide:ke,type:Oe,className:ze,controlledProgress:mr,progress:Ye||0})))},K=(Ee,_e=!1)=>({enter:`Toastify--animate Toastify__${Ee}-enter`,exit:`Toastify--animate Toastify__${Ee}-exit`,appendPosition:_e}),lt=$$1(K("bounce",!0)),_o={position:"top-right",transition:lt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:Ee=>Ee.altKey&&Ee.code==="KeyT"};function Lt(Ee){let _e={..._o,...Ee},Ce=Ee.stacked,[Pe,Re]=reactExports.useState(!0),Ie=reactExports.useRef(null),{getToastToRender:Be,isToastActive:je,count:De}=It(_e),{className:Fe,style:Oe,rtl:ke,containerId:Me,hotKeys:$e}=_e;function He(Ke){let ze=clsx("Toastify__toast-container",`Toastify__toast-container--${Ke}`,{"Toastify__toast-container--rtl":ke});return P$2(Fe)?Fe({position:Ke,rtl:ke,defaultClassName:ze}):clsx(ze,B(Fe))}function Qe(){Ce&&(Re(!0),y$2.play())}return Ot(()=>{var Ke;if(Ce){let ze=Ie.current.querySelectorAll('[data-in="true"]'),We=12,qe=(Ke=_e.position)==null?void 0:Ke.includes("top"),Ye=0,Xe=0;Array.from(ze).reverse().forEach((rr,Je)=>{let er=rr;er.classList.add("Toastify__toast--stacked"),Je>0&&(er.dataset.collapsed=`${Pe}`),er.dataset.pos||(er.dataset.pos=qe?"top":"bot");let or=Ye*(Pe?.2:1)+(Pe?0:We*Je);er.style.setProperty("--y",`${qe?or:or*-1}px`),er.style.setProperty("--g",`${We}`),er.style.setProperty("--s",`${1-(Pe?Xe:0)}`),Ye+=er.offsetHeight,Xe+=.025})}},[Pe,De,Ce]),reactExports.useEffect(()=>{function Ke(ze){var We;let qe=Ie.current;$e(ze)&&((We=qe.querySelector('[tabIndex="0"]'))==null||We.focus(),Re(!1),y$2.pause()),ze.key==="Escape"&&(document.activeElement===qe||qe!=null&&qe.contains(document.activeElement))&&(Re(!0),y$2.play())}return document.addEventListener("keydown",Ke),()=>{document.removeEventListener("keydown",Ke)}},[$e]),React.createElement("section",{ref:Ie,className:"Toastify",id:Me,onMouseEnter:()=>{Ce&&(Re(!1),y$2.pause())},onMouseLeave:Qe,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":_e["aria-label"]},Be((Ke,ze)=>{let We=ze.length?{...Oe}:{...Oe,pointerEvents:"none"};return React.createElement("div",{tabIndex:-1,className:He(Ke),"data-stacked":Ce,style:We,key:`c-${Ke}`},ze.map(({content:qe,props:Ye})=>React.createElement(wt,{...Ye,stacked:Ce,collapseAll:Qe,isIn:je(Ye.toastId,Ye.containerId),key:`t-${Ye.key}`},qe)))}))}const MarkPaidModal=({isOpen:Ee,onClose:_e,onConfirm:Ce,invoice:Pe})=>{const[Re,Ie]=reactExports.useState("cash"),Be=()=>{Ce(Re)};return Ee?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Mark Invoice as Paid"}),jsxRuntimeExports.jsxs("p",{className:"mb-2",children:["Invoice ID: ",jsxRuntimeExports.jsx("span",{className:"font-mono",children:Pe?.invoiceId})]}),jsxRuntimeExports.jsx("label",{className:"block mt-4 font-medium",children:"Select Payment Mode:"}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 w-full mt-2 rounded",value:Re,onChange:je=>Ie(je.target.value),children:[jsxRuntimeExports.jsx("option",{value:"cash",children:"Cash"}),jsxRuntimeExports.jsx("option",{value:"upi",children:"UPI"}),jsxRuntimeExports.jsx("option",{value:"card",children:"Card"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:_e,className:"px-4 py-2 rounded border border-gray-400 hover:bg-gray-100",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Be,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Confirm Paid"})]})]})}):null},ViewInvoices=()=>{const[Ee,_e]=reactExports.useState([]),[Ce,Pe]=reactExports.useState([]),[Re,Ie]=reactExports.useState(""),[Be,je]=reactExports.useState(null),[De,Fe]=reactExports.useState(""),[Oe,ke]=reactExports.useState(""),[Me,$e]=reactExports.useState(!1);return reactExports.useEffect(()=>{(async()=>{const Qe=auth$2.currentUser?.uid;if(Qe)try{const Ke=collection(db$2,`businesses/${Qe}/finalizedInvoices`),ze=await getDocs(Ke),qe=(await Promise.all(ze.docs.map(async Ye=>{const Xe=Ye.data();let rr=Xe.customer||{};if(Xe.custId)try{const Je=await getDoc(doc(db$2,"businesses",Qe,"customers",Xe.custId));Je.exists()&&(rr={...rr,...Je.data()})}catch(Je){console.warn("Customer lookup failed:",Je)}return{id:Ye.id,...Xe,customer:rr,createdAt:Xe.createdAt instanceof Date?Xe.createdAt:Xe.createdAt?.toDate?.()||(typeof Xe.createdAt=="string"?new Date(Xe.createdAt):null),total:Xe.totalAmount??Xe.total??0}}))).filter(Ye=>Ye.createdAt).sort((Ye,Xe)=>new Date(Xe.createdAt)-new Date(Ye.createdAt));_e(qe),Pe(qe)}catch(Ke){console.error("Error loading invoices:",Ke)}})()},[]),reactExports.useEffect(()=>{const He=Re.toLowerCase(),Qe=Ee.filter(Ke=>{const ze=Ke.customer?.name?.toLowerCase().includes(He)||Ke.invoiceType?.toLowerCase().includes(He),We=Ke.createdAt?new Date(Ke.createdAt):null,qe=De?hooks(We).format("YYYY-MM-DD")===De:!0;return ze&&qe});Pe(Qe)},[Re,Ee,De,Oe]),jsxRuntimeExports.jsxs("div",{className:"px-4 py-6 md:px-6 pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)]",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Invoices"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-4 gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by customer or invoice type...",value:Re,onChange:He=>Ie(He.target.value),className:"border px-4 py-2 w-full rounded"})}),jsxRuntimeExports.jsxs("div",{className:"w-64",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm mb-1",children:"Invoice Date"}),jsxRuntimeExports.jsx("input",{type:"date",value:De,onChange:He=>Fe(He.target.value),className:"border px-3 py-2 rounded w-full"})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Ce.map(He=>jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"border bg-white shadow rounded-xl px-4 py-4 flex flex-col md:flex-row justify-between items-start md:items-center text-sm space-y-2 md:space-y-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 mb-2 md:mb-0",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:He.customer?.name||"Unnamed"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:[He.customer?.address||"No Address"," | ",He.customer?.phone||"No Phone"]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-500",children:["Items: ",He.cartItems?.length||0," | Date: ",He.createdAt?hooks(He.createdAt).local().format("DD MMM YYYY, hh:mm A"):"N/A"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end justify-center gap-2 relative min-h-[50px]",children:[He.paymentMode==="credit"&&!He.isPaid&&(()=>{const Qe=hooks(He.creditDueDate||He.settings?.creditDueDate),Ke=Qe.isBefore(hooks(),"day");return jsxRuntimeExports.jsxs("span",{className:`absolute top-1/2 right-[72px] transform -translate-y-1/2 text-white text-[10px] px-3 py-[2px] rounded-full shadow whitespace-nowrap ${Ke?"bg-orange-600":"bg-red-600"}`,children:[Ke?"Overdue: ":"Credit Due: ",Qe.format("DD MMM")]})})(),jsxRuntimeExports.jsxs("p",{className:"font-semibold text-lg",children:["",Number(He.totalAmount||He.total||0).toFixed(2)]}),jsxRuntimeExports.jsx("button",{className:"mt-1 px-3 py-1 bg-blue-600 text-white rounded text-xs",onClick:()=>je(He),children:"View"})]})]})},He.id))}),Be&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6 max-w-4xl w-full max-h-screen overflow-y-auto space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"invoice-preview-container",children:jsxRuntimeExports.jsx(InvoicePreview$1,{customer:Be.customer,cartItems:(Be.cartItems||[]).map(He=>({...He,unit:He.unit||"-"})),settings:{...Be.settings,creditDueDate:Be.creditDueDate||Be.settings?.creditDueDate||null,splitCash:Be.settings?.splitCash??Be.splitPayment?.cash??0,splitUPI:Be.settings?.splitUPI??Be.splitPayment?.upi??0,splitCard:Be.settings?.splitCard??Be.splitPayment?.card??0},invoiceType:Be.invoiceType,paymentMode:Be.paymentMode,issuedAt:Be.createdAt,userInfo:{businessName:Be.userInfo?.businessName,gstNumber:Be.userInfo?.gstNumber||Be.gstNumber||"N/A"},onCancel:()=>je(null),viewOnly:!0})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 p-4 bg-white rounded shadow text-sm",children:[jsxRuntimeExports.jsxs("p",{className:"mb-2",children:["Here is your receipt from ",jsxRuntimeExports.jsx("strong",{children:Be.userInfo?.businessName}),", located at"," ",jsxRuntimeExports.jsx("strong",{children:Be.userInfo?.address||"N/A"}),".",jsxRuntimeExports.jsx("br",{}),"Total: ",jsxRuntimeExports.jsxs("strong",{children:["",Number(Be.totalAmount||0).toFixed(2)]}),jsxRuntimeExports.jsx("br",{}),"Issued on:"," ",jsxRuntimeExports.jsx("strong",{children:Be.createdAt?hooks(Be.createdAt).format("DD MMM YYYY, hh:mm A"):"N/A"})]}),Be.paymentMode==="credit"&&!Be.isPaid&&jsxRuntimeExports.jsx("button",{className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded mb-4",onClick:()=>$e(!0),children:"Mark as Paid"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("a",{href:`https://wa.me/91${Be.customer?.phone}?text=Here%20is%20your%20invoice%20from%20${encodeURIComponent(Be.userInfo?.businessName||"FLYP")}%20-%20Total%3A%20${Number(Be.totalAmount||0).toFixed(2)}%20on%20${encodeURIComponent(hooks(Be.createdAt).format("DD MMM YYYY, hh:mm A"))}`,target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded inline-block",children:"Send via WhatsApp"}),jsxRuntimeExports.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",onClick:()=>{const He=document.querySelector(".invoice-preview-container");if(!He)return alert("Invoice content not found.");const Qe={margin:.5,filename:`Invoice-${Be.id}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};html2pdf().set(Qe).from(He).save()},children:"Send via Email"})]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-xs text-gray-500 italic",children:"Powered by FLYP  smart business invoicing"})]})]})}),Me&&jsxRuntimeExports.jsx(MarkPaidModal,{isOpen:!0,onClose:()=>$e(!1),invoice:Be,onConfirm:async He=>{const Ke=`businesses/${auth$2.currentUser?.uid}/finalizedInvoices/${Be.id}`,ze=doc(db$2,Ke),We=new Date;await updateDoc(ze,{isPaid:!0,paidOn:We,paidVia:He});const qe=Ee.map(Ye=>Ye.id===Be.id?{...Ye,isPaid:!0,paidOn:We,paidVia:He}:Ye);_e(qe),Pe(qe),y$2.success("Invoice marked as paid successfully!"),$e(!1),je(null)}})]})},Billing=()=>{const[Ee,_e]=reactExports.useState("create");return jsxRuntimeExports.jsxs("section",{className:"px-4 py-6 md:px-6 max-w-6xl mx-auto pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)]",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl md:text-2xl font-bold mb-4 text-center",children:"Billing Dashboard"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center mb-6 gap-2",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded-l ${Ee==="create"?"bg-blue-600 text-white":"bg-gray-200 text-gray-800"}`,onClick:()=>_e("create"),children:"Create Invoice"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-2 ${Ee==="view"?"bg-blue-600 text-white":"bg-gray-200 text-gray-800"}`,onClick:()=>_e("view"),children:"View Invoices"})]}),Ee==="create"&&jsxRuntimeExports.jsx("div",{className:"space-y-4 pb-28",children:jsxRuntimeExports.jsx(CreateInvoice,{})}),Ee==="view"&&jsxRuntimeExports.jsx(ViewInvoices,{}),Ee==="create"&&jsxRuntimeExports.jsx("div",{className:"fixed bottom-4 inset-x-4 z-50 md:hidden",children:jsxRuntimeExports.jsx("button",{onClick:()=>console.log("Create Bill tapped"),className:"w-full bg-blue-600 text-white py-3 rounded-xl shadow-lg text-lg font-semibold",children:"Create Bill"})})]})},LayoutGroupContext=reactExports.createContext({});function useConstant(Ee){const _e=reactExports.useRef(null);return _e.current===null&&(_e.current=Ee()),_e.current}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(Ee,_e){Ee.indexOf(_e)===-1&&Ee.push(_e)}function removeItem(Ee,_e){const Ce=Ee.indexOf(_e);Ce>-1&&Ee.splice(Ce,1)}const clamp=(Ee,_e,Ce)=>Ce>_e?_e:Ce<Ee?Ee:Ce;let invariant$2=()=>{};const MotionGlobalConfig={},isNumericalString=Ee=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(Ee);function isObject$2(Ee){return typeof Ee=="object"&&Ee!==null}const isZeroValueString=Ee=>/^0[^.\s]+$/u.test(Ee);function memo(Ee){let _e;return()=>(_e===void 0&&(_e=Ee()),_e)}const noop$a=Ee=>Ee,combineFunctions=(Ee,_e)=>Ce=>_e(Ee(Ce)),pipe=(...Ee)=>Ee.reduce(combineFunctions),progress=(Ee,_e,Ce)=>{const Pe=_e-Ee;return Pe===0?1:(Ce-Ee)/Pe};class SubscriptionManager{constructor(){this.subscriptions=[]}add(_e){return addUniqueItem(this.subscriptions,_e),()=>removeItem(this.subscriptions,_e)}notify(_e,Ce,Pe){const Re=this.subscriptions.length;if(Re)if(Re===1)this.subscriptions[0](_e,Ce,Pe);else for(let Ie=0;Ie<Re;Ie++){const Be=this.subscriptions[Ie];Be&&Be(_e,Ce,Pe)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=Ee=>Ee*1e3,millisecondsToSeconds=Ee=>Ee/1e3;function velocityPerSecond(Ee,_e){return _e?Ee*(1e3/_e):0}const calcBezier=(Ee,_e,Ce)=>(((1-3*Ce+3*_e)*Ee+(3*Ce-6*_e))*Ee+3*_e)*Ee,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(Ee,_e,Ce,Pe,Re){let Ie,Be,je=0;do Be=_e+(Ce-_e)/2,Ie=calcBezier(Be,Pe,Re)-Ee,Ie>0?Ce=Be:_e=Be;while(Math.abs(Ie)>subdivisionPrecision&&++je<subdivisionMaxIterations);return Be}function cubicBezier$1(Ee,_e,Ce,Pe){if(Ee===_e&&Ce===Pe)return noop$a;const Re=Ie=>binarySubdivide(Ie,0,1,Ee,Ce);return Ie=>Ie===0||Ie===1?Ie:calcBezier(Re(Ie),_e,Pe)}const mirrorEasing=Ee=>_e=>_e<=.5?Ee(2*_e)/2:(2-Ee(2*(1-_e)))/2,reverseEasing=Ee=>_e=>1-Ee(1-_e),backOut=cubicBezier$1(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=Ee=>(Ee*=2)<1?.5*backIn(Ee):.5*(2-Math.pow(2,-10*(Ee-1))),circIn=Ee=>1-Math.sin(Math.acos(Ee)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier$1(.42,0,1,1),easeOut=cubicBezier$1(0,0,.58,1),easeInOut=cubicBezier$1(.42,0,.58,1),isEasingArray=Ee=>Array.isArray(Ee)&&typeof Ee[0]!="number",isBezierDefinition=Ee=>Array.isArray(Ee)&&typeof Ee[0]=="number",easingLookup={linear:noop$a,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=Ee=>typeof Ee=="string",easingDefinitionToFunction=Ee=>{if(isBezierDefinition(Ee)){invariant$2(Ee.length===4);const[_e,Ce,Pe,Re]=Ee;return cubicBezier$1(_e,Ce,Pe,Re)}else if(isValidEasing(Ee))return easingLookup[Ee];return Ee},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(Ee,_e){let Ce=new Set,Pe=new Set,Re=!1,Ie=!1;const Be=new WeakSet;let je={delta:0,timestamp:0,isProcessing:!1};function De(Oe){Be.has(Oe)&&(Fe.schedule(Oe),Ee()),Oe(je)}const Fe={schedule:(Oe,ke=!1,Me=!1)=>{const He=Me&&Re?Ce:Pe;return ke&&Be.add(Oe),He.has(Oe)||He.add(Oe),Oe},cancel:Oe=>{Pe.delete(Oe),Be.delete(Oe)},process:Oe=>{if(je=Oe,Re){Ie=!0;return}Re=!0,[Ce,Pe]=[Pe,Ce],Ce.forEach(De),Ce.clear(),Re=!1,Ie&&(Ie=!1,Fe.process(Oe))}};return Fe}const maxElapsed=40;function createRenderBatcher(Ee,_e){let Ce=!1,Pe=!0;const Re={delta:0,timestamp:0,isProcessing:!1},Ie=()=>Ce=!0,Be=stepsOrder.reduce((qe,Ye)=>(qe[Ye]=createRenderStep(Ie),qe),{}),{setup:je,read:De,resolveKeyframes:Fe,preUpdate:Oe,update:ke,preRender:Me,render:$e,postRender:He}=Be,Qe=()=>{const qe=MotionGlobalConfig.useManualTiming?Re.timestamp:performance.now();Ce=!1,MotionGlobalConfig.useManualTiming||(Re.delta=Pe?1e3/60:Math.max(Math.min(qe-Re.timestamp,maxElapsed),1)),Re.timestamp=qe,Re.isProcessing=!0,je.process(Re),De.process(Re),Fe.process(Re),Oe.process(Re),ke.process(Re),Me.process(Re),$e.process(Re),He.process(Re),Re.isProcessing=!1,Ce&&_e&&(Pe=!1,Ee(Qe))},Ke=()=>{Ce=!0,Pe=!0,Re.isProcessing||Ee(Qe)};return{schedule:stepsOrder.reduce((qe,Ye)=>{const Xe=Be[Ye];return qe[Ye]=(rr,Je=!1,er=!1)=>(Ce||Ke(),Xe.schedule(rr,Je,er)),qe},{}),cancel:qe=>{for(let Ye=0;Ye<stepsOrder.length;Ye++)Be[stepsOrder[Ye]].cancel(qe)},state:Re,steps:Be}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$a,!0);let now;function clearTime(){now=void 0}const time$1={now:()=>(now===void 0&&time$1.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:Ee=>{now=Ee,queueMicrotask(clearTime)}},checkStringStartsWith=Ee=>_e=>typeof _e=="string"&&_e.startsWith(Ee),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=Ee=>startsAsVariableToken(Ee)?singleCssVariableRegex.test(Ee.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number$3={test:Ee=>typeof Ee=="number",parse:parseFloat,transform:Ee=>Ee},alpha$2={...number$3,transform:Ee=>clamp(0,1,Ee)},scale={...number$3,default:1},sanitize=Ee=>Math.round(Ee*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish$1(Ee){return Ee==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(Ee,_e)=>Ce=>!!(typeof Ce=="string"&&singleColorRegex.test(Ce)&&Ce.startsWith(Ee)||_e&&!isNullish$1(Ce)&&Object.prototype.hasOwnProperty.call(Ce,_e)),splitColor=(Ee,_e,Ce)=>Pe=>{if(typeof Pe!="string")return Pe;const[Re,Ie,Be,je]=Pe.match(floatRegex);return{[Ee]:parseFloat(Re),[_e]:parseFloat(Ie),[Ce]:parseFloat(Be),alpha:je!==void 0?parseFloat(je):1}},clampRgbUnit=Ee=>clamp(0,255,Ee),rgbUnit={...number$3,transform:Ee=>Math.round(clampRgbUnit(Ee))},rgba$1={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:Ee,green:_e,blue:Ce,alpha:Pe=1})=>"rgba("+rgbUnit.transform(Ee)+", "+rgbUnit.transform(_e)+", "+rgbUnit.transform(Ce)+", "+sanitize(alpha$2.transform(Pe))+")"};function parseHex(Ee){let _e="",Ce="",Pe="",Re="";return Ee.length>5?(_e=Ee.substring(1,3),Ce=Ee.substring(3,5),Pe=Ee.substring(5,7),Re=Ee.substring(7,9)):(_e=Ee.substring(1,2),Ce=Ee.substring(2,3),Pe=Ee.substring(3,4),Re=Ee.substring(4,5),_e+=_e,Ce+=Ce,Pe+=Pe,Re+=Re),{red:parseInt(_e,16),green:parseInt(Ce,16),blue:parseInt(Pe,16),alpha:Re?parseInt(Re,16)/255:1}}const hex$2={test:isColorString("#"),parse:parseHex,transform:rgba$1.transform},createUnitType=Ee=>({test:_e=>typeof _e=="string"&&_e.endsWith(Ee)&&_e.split(" ").length===1,parse:parseFloat,transform:_e=>`${_e}${Ee}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:Ee=>percent.parse(Ee)/100,transform:Ee=>percent.transform(Ee*100)},hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:Ee,saturation:_e,lightness:Ce,alpha:Pe=1})=>"hsla("+Math.round(Ee)+", "+percent.transform(sanitize(_e))+", "+percent.transform(sanitize(Ce))+", "+sanitize(alpha$2.transform(Pe))+")"},color$2={test:Ee=>rgba$1.test(Ee)||hex$2.test(Ee)||hsla$1.test(Ee),parse:Ee=>rgba$1.test(Ee)?rgba$1.parse(Ee):hsla$1.test(Ee)?hsla$1.parse(Ee):hex$2.parse(Ee),transform:Ee=>typeof Ee=="string"?Ee:Ee.hasOwnProperty("red")?rgba$1.transform(Ee):hsla$1.transform(Ee),getAnimatableNone:Ee=>{const _e=color$2.parse(Ee);return _e.alpha=0,color$2.transform(_e)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(Ee){return isNaN(Ee)&&typeof Ee=="string"&&(Ee.match(floatRegex)?.length||0)+(Ee.match(colorRegex)?.length||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(Ee){const _e=Ee.toString(),Ce=[],Pe={color:[],number:[],var:[]},Re=[];let Ie=0;const je=_e.replace(complexRegex,De=>(color$2.test(De)?(Pe.color.push(Ie),Re.push(COLOR_TOKEN),Ce.push(color$2.parse(De))):De.startsWith(VAR_FUNCTION_TOKEN)?(Pe.var.push(Ie),Re.push(VAR_TOKEN),Ce.push(De)):(Pe.number.push(Ie),Re.push(NUMBER_TOKEN),Ce.push(parseFloat(De))),++Ie,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:Ce,split:je,indexes:Pe,types:Re}}function parseComplexValue(Ee){return analyseComplexValue(Ee).values}function createTransformer(Ee){const{split:_e,types:Ce}=analyseComplexValue(Ee),Pe=_e.length;return Re=>{let Ie="";for(let Be=0;Be<Pe;Be++)if(Ie+=_e[Be],Re[Be]!==void 0){const je=Ce[Be];je===NUMBER_TOKEN?Ie+=sanitize(Re[Be]):je===COLOR_TOKEN?Ie+=color$2.transform(Re[Be]):Ie+=Re[Be]}return Ie}}const convertNumbersToZero=Ee=>typeof Ee=="number"?0:color$2.test(Ee)?color$2.getAnimatableNone(Ee):Ee;function getAnimatableNone$1(Ee){const _e=parseComplexValue(Ee);return createTransformer(Ee)(_e.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(Ee,_e,Ce){return Ce<0&&(Ce+=1),Ce>1&&(Ce-=1),Ce<1/6?Ee+(_e-Ee)*6*Ce:Ce<1/2?_e:Ce<2/3?Ee+(_e-Ee)*(2/3-Ce)*6:Ee}function hslaToRgba({hue:Ee,saturation:_e,lightness:Ce,alpha:Pe}){Ee/=360,_e/=100,Ce/=100;let Re=0,Ie=0,Be=0;if(!_e)Re=Ie=Be=Ce;else{const je=Ce<.5?Ce*(1+_e):Ce+_e-Ce*_e,De=2*Ce-je;Re=hueToRgb(De,je,Ee+1/3),Ie=hueToRgb(De,je,Ee),Be=hueToRgb(De,je,Ee-1/3)}return{red:Math.round(Re*255),green:Math.round(Ie*255),blue:Math.round(Be*255),alpha:Pe}}function mixImmediate(Ee,_e){return Ce=>Ce>0?_e:Ee}const mixNumber$1=(Ee,_e,Ce)=>Ee+(_e-Ee)*Ce,mixLinearColor=(Ee,_e,Ce)=>{const Pe=Ee*Ee,Re=Ce*(_e*_e-Pe)+Pe;return Re<0?0:Math.sqrt(Re)},colorTypes=[hex$2,rgba$1,hsla$1],getColorType=Ee=>colorTypes.find(_e=>_e.test(Ee));function asRGBA(Ee){const _e=getColorType(Ee);if(!_e)return!1;let Ce=_e.parse(Ee);return _e===hsla$1&&(Ce=hslaToRgba(Ce)),Ce}const mixColor=(Ee,_e)=>{const Ce=asRGBA(Ee),Pe=asRGBA(_e);if(!Ce||!Pe)return mixImmediate(Ee,_e);const Re={...Ce};return Ie=>(Re.red=mixLinearColor(Ce.red,Pe.red,Ie),Re.green=mixLinearColor(Ce.green,Pe.green,Ie),Re.blue=mixLinearColor(Ce.blue,Pe.blue,Ie),Re.alpha=mixNumber$1(Ce.alpha,Pe.alpha,Ie),rgba$1.transform(Re))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(Ee,_e){return invisibleValues.has(Ee)?Ce=>Ce<=0?Ee:_e:Ce=>Ce>=1?_e:Ee}function mixNumber(Ee,_e){return Ce=>mixNumber$1(Ee,_e,Ce)}function getMixer(Ee){return typeof Ee=="number"?mixNumber:typeof Ee=="string"?isCSSVariableToken(Ee)?mixImmediate:color$2.test(Ee)?mixColor:mixComplex:Array.isArray(Ee)?mixArray:typeof Ee=="object"?color$2.test(Ee)?mixColor:mixObject:mixImmediate}function mixArray(Ee,_e){const Ce=[...Ee],Pe=Ce.length,Re=Ee.map((Ie,Be)=>getMixer(Ie)(Ie,_e[Be]));return Ie=>{for(let Be=0;Be<Pe;Be++)Ce[Be]=Re[Be](Ie);return Ce}}function mixObject(Ee,_e){const Ce={...Ee,..._e},Pe={};for(const Re in Ce)Ee[Re]!==void 0&&_e[Re]!==void 0&&(Pe[Re]=getMixer(Ee[Re])(Ee[Re],_e[Re]));return Re=>{for(const Ie in Pe)Ce[Ie]=Pe[Ie](Re);return Ce}}function matchOrder(Ee,_e){const Ce=[],Pe={color:0,var:0,number:0};for(let Re=0;Re<_e.values.length;Re++){const Ie=_e.types[Re],Be=Ee.indexes[Ie][Pe[Ie]],je=Ee.values[Be]??0;Ce[Re]=je,Pe[Ie]++}return Ce}const mixComplex=(Ee,_e)=>{const Ce=complex.createTransformer(_e),Pe=analyseComplexValue(Ee),Re=analyseComplexValue(_e);return Pe.indexes.var.length===Re.indexes.var.length&&Pe.indexes.color.length===Re.indexes.color.length&&Pe.indexes.number.length>=Re.indexes.number.length?invisibleValues.has(Ee)&&!Re.values.length||invisibleValues.has(_e)&&!Pe.values.length?mixVisibility(Ee,_e):pipe(mixArray(matchOrder(Pe,Re),Re.values),Ce):mixImmediate(Ee,_e)};function mix(Ee,_e,Ce){return typeof Ee=="number"&&typeof _e=="number"&&typeof Ce=="number"?mixNumber$1(Ee,_e,Ce):getMixer(Ee)(Ee,_e)}const frameloopDriver=Ee=>{const _e=({timestamp:Ce})=>Ee(Ce);return{start:(Ce=!0)=>frame.update(_e,Ce),stop:()=>cancelFrame(_e),now:()=>frameData.isProcessing?frameData.timestamp:time$1.now()}},generateLinearEasing=(Ee,_e,Ce=10)=>{let Pe="";const Re=Math.max(Math.round(_e/Ce),2);for(let Ie=0;Ie<Re;Ie++)Pe+=Math.round(Ee(Ie/(Re-1))*1e4)/1e4+", ";return`linear(${Pe.substring(0,Pe.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(Ee){let _e=0;const Ce=50;let Pe=Ee.next(_e);for(;!Pe.done&&_e<maxGeneratorDuration;)_e+=Ce,Pe=Ee.next(_e);return _e>=maxGeneratorDuration?1/0:_e}function createGeneratorEasing(Ee,_e=100,Ce){const Pe=Ce({...Ee,keyframes:[0,_e]}),Re=Math.min(calcGeneratorDuration(Pe),maxGeneratorDuration);return{type:"keyframes",ease:Ie=>Pe.next(Re*Ie).value/_e,duration:millisecondsToSeconds(Re)}}const velocitySampleDuration=5;function calcGeneratorVelocity(Ee,_e,Ce){const Pe=Math.max(_e-velocitySampleDuration,0);return velocityPerSecond(Ce-Ee(Pe),_e-Pe)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:Ee=springDefaults.duration,bounce:_e=springDefaults.bounce,velocity:Ce=springDefaults.velocity,mass:Pe=springDefaults.mass}){let Re,Ie,Be=1-_e;Be=clamp(springDefaults.minDamping,springDefaults.maxDamping,Be),Ee=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(Ee)),Be<1?(Re=Fe=>{const Oe=Fe*Be,ke=Oe*Ee,Me=Oe-Ce,$e=calcAngularFreq(Fe,Be),He=Math.exp(-ke);return safeMin-Me/$e*He},Ie=Fe=>{const ke=Fe*Be*Ee,Me=ke*Ce+Ce,$e=Math.pow(Be,2)*Math.pow(Fe,2)*Ee,He=Math.exp(-ke),Qe=calcAngularFreq(Math.pow(Fe,2),Be);return(-Re(Fe)+safeMin>0?-1:1)*((Me-$e)*He)/Qe}):(Re=Fe=>{const Oe=Math.exp(-Fe*Ee),ke=(Fe-Ce)*Ee+1;return-safeMin+Oe*ke},Ie=Fe=>{const Oe=Math.exp(-Fe*Ee),ke=(Ce-Fe)*(Ee*Ee);return Oe*ke});const je=5/Ee,De=approximateRoot(Re,Ie,je);if(Ee=secondsToMilliseconds(Ee),isNaN(De))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:Ee};{const Fe=Math.pow(De,2)*Pe;return{stiffness:Fe,damping:Be*2*Math.sqrt(Pe*Fe),duration:Ee}}}const rootIterations=12;function approximateRoot(Ee,_e,Ce){let Pe=Ce;for(let Re=1;Re<rootIterations;Re++)Pe=Pe-Ee(Pe)/_e(Pe);return Pe}function calcAngularFreq(Ee,_e){return Ee*Math.sqrt(1-_e*_e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(Ee,_e){return _e.some(Ce=>Ee[Ce]!==void 0)}function getSpringOptions(Ee){let _e={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...Ee};if(!isSpringType(Ee,physicsKeys)&&isSpringType(Ee,durationKeys))if(Ee.visualDuration){const Ce=Ee.visualDuration,Pe=2*Math.PI/(Ce*1.2),Re=Pe*Pe,Ie=2*clamp(.05,1,1-(Ee.bounce||0))*Math.sqrt(Re);_e={..._e,mass:springDefaults.mass,stiffness:Re,damping:Ie}}else{const Ce=findSpring(Ee);_e={..._e,...Ce,mass:springDefaults.mass},_e.isResolvedFromDuration=!0}return _e}function spring(Ee=springDefaults.visualDuration,_e=springDefaults.bounce){const Ce=typeof Ee!="object"?{visualDuration:Ee,keyframes:[0,1],bounce:_e}:Ee;let{restSpeed:Pe,restDelta:Re}=Ce;const Ie=Ce.keyframes[0],Be=Ce.keyframes[Ce.keyframes.length-1],je={done:!1,value:Ie},{stiffness:De,damping:Fe,mass:Oe,duration:ke,velocity:Me,isResolvedFromDuration:$e}=getSpringOptions({...Ce,velocity:-millisecondsToSeconds(Ce.velocity||0)}),He=Me||0,Qe=Fe/(2*Math.sqrt(De*Oe)),Ke=Be-Ie,ze=millisecondsToSeconds(Math.sqrt(De/Oe)),We=Math.abs(Ke)<5;Pe||(Pe=We?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),Re||(Re=We?springDefaults.restDelta.granular:springDefaults.restDelta.default);let qe;if(Qe<1){const Xe=calcAngularFreq(ze,Qe);qe=rr=>{const Je=Math.exp(-Qe*ze*rr);return Be-Je*((He+Qe*ze*Ke)/Xe*Math.sin(Xe*rr)+Ke*Math.cos(Xe*rr))}}else if(Qe===1)qe=Xe=>Be-Math.exp(-ze*Xe)*(Ke+(He+ze*Ke)*Xe);else{const Xe=ze*Math.sqrt(Qe*Qe-1);qe=rr=>{const Je=Math.exp(-Qe*ze*rr),er=Math.min(Xe*rr,300);return Be-Je*((He+Qe*ze*Ke)*Math.sinh(er)+Xe*Ke*Math.cosh(er))/Xe}}const Ye={calculatedDuration:$e&&ke||null,next:Xe=>{const rr=qe(Xe);if($e)je.done=Xe>=ke;else{let Je=Xe===0?He:0;Qe<1&&(Je=Xe===0?secondsToMilliseconds(He):calcGeneratorVelocity(qe,Xe,rr));const er=Math.abs(Je)<=Pe,or=Math.abs(Be-rr)<=Re;je.done=er&&or}return je.value=je.done?Be:rr,je},toString:()=>{const Xe=Math.min(calcGeneratorDuration(Ye),maxGeneratorDuration),rr=generateLinearEasing(Je=>Ye.next(Xe*Je).value,Xe,30);return Xe+"ms "+rr},toTransition:()=>{}};return Ye}spring.applyToOptions=Ee=>{const _e=createGeneratorEasing(Ee,100,spring);return Ee.ease=_e.ease,Ee.duration=secondsToMilliseconds(_e.duration),Ee.type="keyframes",Ee};function inertia({keyframes:Ee,velocity:_e=0,power:Ce=.8,timeConstant:Pe=325,bounceDamping:Re=10,bounceStiffness:Ie=500,modifyTarget:Be,min:je,max:De,restDelta:Fe=.5,restSpeed:Oe}){const ke=Ee[0],Me={done:!1,value:ke},$e=er=>je!==void 0&&er<je||De!==void 0&&er>De,He=er=>je===void 0?De:De===void 0||Math.abs(je-er)<Math.abs(De-er)?je:De;let Qe=Ce*_e;const Ke=ke+Qe,ze=Be===void 0?Ke:Be(Ke);ze!==Ke&&(Qe=ze-ke);const We=er=>-Qe*Math.exp(-er/Pe),qe=er=>ze+We(er),Ye=er=>{const or=We(er),pr=qe(er);Me.done=Math.abs(or)<=Fe,Me.value=Me.done?ze:pr};let Xe,rr;const Je=er=>{$e(Me.value)&&(Xe=er,rr=spring({keyframes:[Me.value,He(Me.value)],velocity:calcGeneratorVelocity(qe,er,Me.value),damping:Re,stiffness:Ie,restDelta:Fe,restSpeed:Oe}))};return Je(0),{calculatedDuration:null,next:er=>{let or=!1;return!rr&&Xe===void 0&&(or=!0,Ye(er),Je(er)),Xe!==void 0&&er>=Xe?rr.next(er-Xe):(!or&&Ye(er),Me)}}}function createMixers(Ee,_e,Ce){const Pe=[],Re=Ce||MotionGlobalConfig.mix||mix,Ie=Ee.length-1;for(let Be=0;Be<Ie;Be++){let je=Re(Ee[Be],Ee[Be+1]);if(_e){const De=Array.isArray(_e)?_e[Be]||noop$a:_e;je=pipe(De,je)}Pe.push(je)}return Pe}function interpolate$3(Ee,_e,{clamp:Ce=!0,ease:Pe,mixer:Re}={}){const Ie=Ee.length;if(invariant$2(Ie===_e.length),Ie===1)return()=>_e[0];if(Ie===2&&_e[0]===_e[1])return()=>_e[1];const Be=Ee[0]===Ee[1];Ee[0]>Ee[Ie-1]&&(Ee=[...Ee].reverse(),_e=[..._e].reverse());const je=createMixers(_e,Pe,Re),De=je.length,Fe=Oe=>{if(Be&&Oe<Ee[0])return _e[0];let ke=0;if(De>1)for(;ke<Ee.length-2&&!(Oe<Ee[ke+1]);ke++);const Me=progress(Ee[ke],Ee[ke+1],Oe);return je[ke](Me)};return Ce?Oe=>Fe(clamp(Ee[0],Ee[Ie-1],Oe)):Fe}function fillOffset(Ee,_e){const Ce=Ee[Ee.length-1];for(let Pe=1;Pe<=_e;Pe++){const Re=progress(0,_e,Pe);Ee.push(mixNumber$1(Ce,1,Re))}}function defaultOffset(Ee){const _e=[0];return fillOffset(_e,Ee.length-1),_e}function convertOffsetToTimes(Ee,_e){return Ee.map(Ce=>Ce*_e)}function defaultEasing(Ee,_e){return Ee.map(()=>_e||easeInOut).splice(0,Ee.length-1)}function keyframes({duration:Ee=300,keyframes:_e,times:Ce,ease:Pe="easeInOut"}){const Re=isEasingArray(Pe)?Pe.map(easingDefinitionToFunction):easingDefinitionToFunction(Pe),Ie={done:!1,value:_e[0]},Be=convertOffsetToTimes(Ce&&Ce.length===_e.length?Ce:defaultOffset(_e),Ee),je=interpolate$3(Be,_e,{ease:Array.isArray(Re)?Re:defaultEasing(_e,Re)});return{calculatedDuration:Ee,next:De=>(Ie.value=je(De),Ie.done=De>=Ee,Ie)}}const isNotNull$1=Ee=>Ee!==null;function getFinalKeyframe$1(Ee,{repeat:_e,repeatType:Ce="loop"},Pe,Re=1){const Ie=Ee.filter(isNotNull$1),je=Re<0||_e&&Ce!=="loop"&&_e%2===1?0:Ie.length-1;return!je||Pe===void 0?Ie[je]:Pe}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(Ee){typeof Ee.type=="string"&&(Ee.type=transitionTypeMap[Ee.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(_e=>{this.resolve=_e})}notifyFinished(){this.resolve()}then(_e,Ce){return this.finished.then(_e,Ce)}}const percentToProgress=Ee=>Ee/100;class JSAnimation extends WithPromise{constructor(_e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:Ce}=this.options;Ce&&Ce.updatedAt!==time$1.now()&&this.tick(time$1.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=_e,this.initAnimation(),this.play(),_e.autoplay===!1&&this.pause()}initAnimation(){const{options:_e}=this;replaceTransitionType(_e);const{type:Ce=keyframes,repeat:Pe=0,repeatDelay:Re=0,repeatType:Ie,velocity:Be=0}=_e;let{keyframes:je}=_e;const De=Ce||keyframes;De!==keyframes&&typeof je[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(je[0],je[1])),je=[0,100]);const Fe=De({..._e,keyframes:je});Ie==="mirror"&&(this.mirroredGenerator=De({..._e,keyframes:[...je].reverse(),velocity:-Be})),Fe.calculatedDuration===null&&(Fe.calculatedDuration=calcGeneratorDuration(Fe));const{calculatedDuration:Oe}=Fe;this.calculatedDuration=Oe,this.resolvedDuration=Oe+Re,this.totalDuration=this.resolvedDuration*(Pe+1)-Re,this.generator=Fe}updateTime(_e){const Ce=Math.round(_e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Ce}tick(_e,Ce=!1){const{generator:Pe,totalDuration:Re,mixKeyframes:Ie,mirroredGenerator:Be,resolvedDuration:je,calculatedDuration:De}=this;if(this.startTime===null)return Pe.next(0);const{delay:Fe=0,keyframes:Oe,repeat:ke,repeatType:Me,repeatDelay:$e,type:He,onUpdate:Qe,finalKeyframe:Ke}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,_e):this.speed<0&&(this.startTime=Math.min(_e-Re/this.speed,this.startTime)),Ce?this.currentTime=_e:this.updateTime(_e);const ze=this.currentTime-Fe*(this.playbackSpeed>=0?1:-1),We=this.playbackSpeed>=0?ze<0:ze>Re;this.currentTime=Math.max(ze,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=Re);let qe=this.currentTime,Ye=Pe;if(ke){const er=Math.min(this.currentTime,Re)/je;let or=Math.floor(er),pr=er%1;!pr&&er>=1&&(pr=1),pr===1&&or--,or=Math.min(or,ke+1),!!(or%2)&&(Me==="reverse"?(pr=1-pr,$e&&(pr-=$e/je)):Me==="mirror"&&(Ye=Be)),qe=clamp(0,1,pr)*je}const Xe=We?{done:!1,value:Oe[0]}:Ye.next(qe);Ie&&(Xe.value=Ie(Xe.value));let{done:rr}=Xe;!We&&De!==null&&(rr=this.playbackSpeed>=0?this.currentTime>=Re:this.currentTime<=0);const Je=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&rr);return Je&&He!==inertia&&(Xe.value=getFinalKeyframe$1(Oe,this.options,Ke,this.speed)),Qe&&Qe(Xe.value),Je&&this.finish(),Xe}then(_e,Ce){return this.finished.then(_e,Ce)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get time(){return millisecondsToSeconds(this.currentTime)}set time(_e){_e=secondsToMilliseconds(_e),this.currentTime=_e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=_e:this.driver&&(this.startTime=this.driver.now()-_e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(_e){this.updateTime(time$1.now());const Ce=this.playbackSpeed!==_e;this.playbackSpeed=_e,Ce&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:_e=frameloopDriver,startTime:Ce}=this.options;this.driver||(this.driver=_e(Re=>this.tick(Re))),this.options.onPlay?.();const Pe=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=Pe):this.holdTime!==null?this.startTime=Pe-this.holdTime:this.startTime||(this.startTime=Ce??Pe),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time$1.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(_e){return this.startTime=0,this.tick(_e,!0)}attachTimeline(_e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),_e.observe(this)}}function fillWildcards(Ee){for(let _e=1;_e<Ee.length;_e++)Ee[_e]??(Ee[_e]=Ee[_e-1])}const radToDeg=Ee=>Ee*180/Math.PI,rotate$1=Ee=>{const _e=radToDeg(Math.atan2(Ee[1],Ee[0]));return rebaseAngle(_e)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:Ee=>(Math.abs(Ee[0])+Math.abs(Ee[3]))/2,rotate:rotate$1,rotateZ:rotate$1,skewX:Ee=>radToDeg(Math.atan(Ee[1])),skewY:Ee=>radToDeg(Math.atan(Ee[2])),skew:Ee=>(Math.abs(Ee[1])+Math.abs(Ee[2]))/2},rebaseAngle=Ee=>(Ee=Ee%360,Ee<0&&(Ee+=360),Ee),rotateZ=rotate$1,scaleX=Ee=>Math.sqrt(Ee[0]*Ee[0]+Ee[1]*Ee[1]),scaleY=Ee=>Math.sqrt(Ee[4]*Ee[4]+Ee[5]*Ee[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:Ee=>(scaleX(Ee)+scaleY(Ee))/2,rotateX:Ee=>rebaseAngle(radToDeg(Math.atan2(Ee[6],Ee[5]))),rotateY:Ee=>rebaseAngle(radToDeg(Math.atan2(-Ee[2],Ee[0]))),rotateZ,rotate:rotateZ,skewX:Ee=>radToDeg(Math.atan(Ee[4])),skewY:Ee=>radToDeg(Math.atan(Ee[1])),skew:Ee=>(Math.abs(Ee[1])+Math.abs(Ee[4]))/2};function defaultTransformValue(Ee){return Ee.includes("scale")?1:0}function parseValueFromTransform(Ee,_e){if(!Ee||Ee==="none")return defaultTransformValue(_e);const Ce=Ee.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let Pe,Re;if(Ce)Pe=matrix3dParsers,Re=Ce;else{const je=Ee.match(/^matrix\(([-\d.e\s,]+)\)$/u);Pe=matrix2dParsers,Re=je}if(!Re)return defaultTransformValue(_e);const Ie=Pe[_e],Be=Re[1].split(",").map(convertTransformToNumber);return typeof Ie=="function"?Ie(Be):Be[Ie]}const readTransformValue=(Ee,_e)=>{const{transform:Ce="none"}=getComputedStyle(Ee);return parseValueFromTransform(Ce,_e)};function convertTransformToNumber(Ee){return parseFloat(Ee.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=Ee=>Ee===number$3||Ee===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(Ee=>!transformKeys.has(Ee));function removeNonTranslationalTransform(Ee){const _e=[];return nonTranslationalTransformKeys.forEach(Ce=>{const Pe=Ee.getValue(Ce);Pe!==void 0&&(_e.push([Ce,Pe.get()]),Pe.set(Ce.startsWith("scale")?1:0))}),_e}const positionalValues={width:({x:Ee},{paddingLeft:_e="0",paddingRight:Ce="0"})=>Ee.max-Ee.min-parseFloat(_e)-parseFloat(Ce),height:({y:Ee},{paddingTop:_e="0",paddingBottom:Ce="0"})=>Ee.max-Ee.min-parseFloat(_e)-parseFloat(Ce),top:(Ee,{top:_e})=>parseFloat(_e),left:(Ee,{left:_e})=>parseFloat(_e),bottom:({y:Ee},{top:_e})=>parseFloat(_e)+(Ee.max-Ee.min),right:({x:Ee},{left:_e})=>parseFloat(_e)+(Ee.max-Ee.min),x:(Ee,{transform:_e})=>parseValueFromTransform(_e,"x"),y:(Ee,{transform:_e})=>parseValueFromTransform(_e,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const Ee=Array.from(toResolve).filter(Pe=>Pe.needsMeasurement),_e=new Set(Ee.map(Pe=>Pe.element)),Ce=new Map;_e.forEach(Pe=>{const Re=removeNonTranslationalTransform(Pe);Re.length&&(Ce.set(Pe,Re),Pe.render())}),Ee.forEach(Pe=>Pe.measureInitialState()),_e.forEach(Pe=>{Pe.render();const Re=Ce.get(Pe);Re&&Re.forEach(([Ie,Be])=>{Pe.getValue(Ie)?.set(Be)})}),Ee.forEach(Pe=>Pe.measureEndState()),Ee.forEach(Pe=>{Pe.suspendedScrollY!==void 0&&window.scrollTo(0,Pe.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(Ee=>Ee.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(Ee=>{Ee.readKeyframes(),Ee.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(_e,Ce,Pe,Re,Ie,Be=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[..._e],this.onComplete=Ce,this.name=Pe,this.motionValue=Re,this.element=Ie,this.isAsync=Be}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:_e,name:Ce,element:Pe,motionValue:Re}=this;if(_e[0]===null){const Ie=Re?.get(),Be=_e[_e.length-1];if(Ie!==void 0)_e[0]=Ie;else if(Pe&&Ce){const je=Pe.readValue(Ce,Be);je!=null&&(_e[0]=je)}_e[0]===void 0&&(_e[0]=Be),Re&&Ie===void 0&&Re.set(_e[0])}fillWildcards(_e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(_e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,_e),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=Ee=>Ee.startsWith("--");function setStyle$1(Ee,_e,Ce){isCSSVar(_e)?Ee.style.setProperty(_e,Ce):Ee.style[_e]=Ce}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(Ee,_e){const Ce=memo(Ee);return()=>supportsFlags[_e]??Ce()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([Ee,_e,Ce,Pe])=>`cubic-bezier(${Ee}, ${_e}, ${Ce}, ${Pe})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(Ee,_e){if(Ee)return typeof Ee=="function"?supportsLinearEasing()?generateLinearEasing(Ee,_e):"ease-out":isBezierDefinition(Ee)?cubicBezierAsString(Ee):Array.isArray(Ee)?Ee.map(Ce=>mapEasingToNativeEasing(Ce,_e)||supportedWaapiEasing.easeOut):supportedWaapiEasing[Ee]}function startWaapiAnimation(Ee,_e,Ce,{delay:Pe=0,duration:Re=300,repeat:Ie=0,repeatType:Be="loop",ease:je="easeOut",times:De}={},Fe=void 0){const Oe={[_e]:Ce};De&&(Oe.offset=De);const ke=mapEasingToNativeEasing(je,Re);Array.isArray(ke)&&(Oe.easing=ke);const Me={delay:Pe,duration:Re,easing:Array.isArray(ke)?"linear":ke,fill:"both",iterations:Ie+1,direction:Be==="reverse"?"alternate":"normal"};return Fe&&(Me.pseudoElement=Fe),Ee.animate(Oe,Me)}function isGenerator(Ee){return typeof Ee=="function"&&"applyToOptions"in Ee}function applyGeneratorOptions({type:Ee,..._e}){return isGenerator(Ee)&&supportsLinearEasing()?Ee.applyToOptions(_e):(_e.duration??(_e.duration=300),_e.ease??(_e.ease="easeOut"),_e)}class NativeAnimation extends WithPromise{constructor(_e){if(super(),this.finishedTime=null,this.isStopped=!1,!_e)return;const{element:Ce,name:Pe,keyframes:Re,pseudoElement:Ie,allowFlatten:Be=!1,finalKeyframe:je,onComplete:De}=_e;this.isPseudoElement=!!Ie,this.allowFlatten=Be,this.options=_e,invariant$2(typeof _e.type!="string");const Fe=applyGeneratorOptions(_e);this.animation=startWaapiAnimation(Ce,Pe,Re,Fe,Ie),Fe.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!Ie){const Oe=getFinalKeyframe$1(Re,this.options,je,this.speed);this.updateMotionValue?this.updateMotionValue(Oe):setStyle$1(Ce,Pe,Oe),this.animation.cancel()}De?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:_e}=this;_e==="idle"||_e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const _e=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(_e))}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(_e){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(_e)}get speed(){return this.animation.playbackRate}set speed(_e){_e<0&&(this.finishedTime=null),this.animation.playbackRate=_e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(_e){this.animation.startTime=_e}attachTimeline({timeline:_e,observe:Ce}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,_e&&supportsScrollTimeline()?(this.animation.timeline=_e,noop$a):Ce(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(Ee){return Ee in unsupportedEasingFunctions}function replaceStringEasing(Ee){typeof Ee.ease=="string"&&isUnsupportedEase(Ee.ease)&&(Ee.ease=unsupportedEasingFunctions[Ee.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(_e){replaceStringEasing(_e),replaceTransitionType(_e),super(_e),_e.startTime&&(this.startTime=_e.startTime),this.options=_e}updateMotionValue(_e){const{motionValue:Ce,onUpdate:Pe,onComplete:Re,element:Ie,...Be}=this.options;if(!Ce)return;if(_e!==void 0){Ce.set(_e);return}const je=new JSAnimation({...Be,autoplay:!1}),De=secondsToMilliseconds(this.finishedTime??this.time);Ce.setWithVelocity(je.sample(De-sampleDelta).value,je.sample(De).value,sampleDelta),je.stop()}}const isAnimatable=(Ee,_e)=>_e==="zIndex"?!1:!!(typeof Ee=="number"||Array.isArray(Ee)||typeof Ee=="string"&&(complex.test(Ee)||Ee==="0")&&!Ee.startsWith("url("));function hasKeyframesChanged(Ee){const _e=Ee[0];if(Ee.length===1)return!0;for(let Ce=0;Ce<Ee.length;Ce++)if(Ee[Ce]!==_e)return!0}function canAnimate(Ee,_e,Ce,Pe){const Re=Ee[0];if(Re===null)return!1;if(_e==="display"||_e==="visibility")return!0;const Ie=Ee[Ee.length-1],Be=isAnimatable(Re,_e),je=isAnimatable(Ie,_e);return!Be||!je?!1:hasKeyframesChanged(Ee)||(Ce==="spring"||isGenerator(Ce))&&Pe}function makeAnimationInstant(Ee){Ee.duration=0,Ee.type}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(Ee){const{motionValue:_e,name:Ce,repeatDelay:Pe,repeatType:Re,damping:Ie,type:Be}=Ee;if(!(_e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:De,transformTemplate:Fe}=_e.owner.getProps();return supportsWaapi()&&Ce&&acceleratedValues.has(Ce)&&(Ce!=="transform"||!Fe)&&!De&&!Pe&&Re!=="mirror"&&Ie!==0&&Be!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:_e=!0,delay:Ce=0,type:Pe="keyframes",repeat:Re=0,repeatDelay:Ie=0,repeatType:Be="loop",keyframes:je,name:De,motionValue:Fe,element:Oe,...ke}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=time$1.now();const Me={autoplay:_e,delay:Ce,type:Pe,repeat:Re,repeatDelay:Ie,repeatType:Be,name:De,motionValue:Fe,element:Oe,...ke},$e=Oe?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new $e(je,(He,Qe,Ke)=>this.onKeyframesResolved(He,Qe,Me,!Ke),De,Fe,Oe),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(_e,Ce,Pe,Re){this.keyframeResolver=void 0;const{name:Ie,type:Be,velocity:je,delay:De,isHandoff:Fe,onUpdate:Oe}=Pe;this.resolvedAt=time$1.now(),canAnimate(_e,Ie,Be,je)||((MotionGlobalConfig.instantAnimations||!De)&&Oe?.(getFinalKeyframe$1(_e,Pe,Ce)),_e[0]=_e[_e.length-1],makeAnimationInstant(Pe),Pe.repeat=0);const Me={startTime:Re?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:Ce,...Pe,keyframes:_e},$e=!Fe&&supportsBrowserAnimation(Me)?new NativeAnimationExtended({...Me,element:Me.motionValue.owner.current}):new JSAnimation(Me);$e.finished.then(()=>this.notifyFinished()).catch(noop$a),this.pendingTimeline&&(this.stopTimeline=$e.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=$e}get finished(){return this._animation?this.animation.finished:this._finished}then(_e,Ce){return this.finished.finally(_e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(_e){this.animation.time=_e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(_e){this.animation.speed=_e}get startTime(){return this.animation.startTime}attachTimeline(_e){return this._animation?this.stopTimeline=this.animation.attachTimeline(_e):this.pendingTimeline=_e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(Ee){const _e=splitCSSVariableRegex.exec(Ee);if(!_e)return[,];const[,Ce,Pe,Re]=_e;return[`--${Ce??Pe}`,Re]}function getVariableValue(Ee,_e,Ce=1){const[Pe,Re]=parseCSSVariable(Ee);if(!Pe)return;const Ie=window.getComputedStyle(_e).getPropertyValue(Pe);if(Ie){const Be=Ie.trim();return isNumericalString(Be)?parseFloat(Be):Be}return isCSSVariableToken(Re)?getVariableValue(Re,_e,Ce+1):Re}function getValueTransition(Ee,_e){return Ee?.[_e]??Ee?.default??Ee}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:Ee=>Ee==="auto",parse:Ee=>Ee},testValueType=Ee=>_e=>_e.test(Ee),dimensionValueTypes=[number$3,px,percent,degrees,vw,vh,auto],findDimensionValueType=Ee=>dimensionValueTypes.find(testValueType(Ee));function isNone(Ee){return typeof Ee=="number"?Ee===0:Ee!==null?Ee==="none"||Ee==="0"||isZeroValueString(Ee):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(Ee){const[_e,Ce]=Ee.slice(0,-1).split("(");if(_e==="drop-shadow")return Ee;const[Pe]=Ce.match(floatRegex)||[];if(!Pe)return Ee;const Re=Ce.replace(Pe,"");let Ie=maxDefaults.has(_e)?1:0;return Pe!==Ce&&(Ie*=100),_e+"("+Ie+Re+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:Ee=>{const _e=Ee.match(functionRegex);return _e?_e.map(applyDefaultFilter).join(" "):Ee}},int={...number$3,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha$2,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha$2,strokeOpacity:alpha$2,numOctaves:int},defaultValueTypes={...numberValueTypes,color:color$2,backgroundColor:color$2,outlineColor:color$2,fill:color$2,stroke:color$2,borderColor:color$2,borderTopColor:color$2,borderRightColor:color$2,borderBottomColor:color$2,borderLeftColor:color$2,filter,WebkitFilter:filter},getDefaultValueType=Ee=>defaultValueTypes[Ee];function getAnimatableNone(Ee,_e){let Ce=getDefaultValueType(Ee);return Ce!==filter&&(Ce=complex),Ce.getAnimatableNone?Ce.getAnimatableNone(_e):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(Ee,_e,Ce){let Pe=0,Re;for(;Pe<Ee.length&&!Re;){const Ie=Ee[Pe];typeof Ie=="string"&&!invalidTemplates.has(Ie)&&analyseComplexValue(Ie).values.length&&(Re=Ee[Pe]),Pe++}if(Re&&Ce)for(const Ie of _e)Ee[Ie]=getAnimatableNone(Ce,Re)}class DOMKeyframesResolver extends KeyframeResolver{constructor(_e,Ce,Pe,Re,Ie){super(_e,Ce,Pe,Re,Ie,!0)}readKeyframes(){const{unresolvedKeyframes:_e,element:Ce,name:Pe}=this;if(!Ce||!Ce.current)return;super.readKeyframes();for(let De=0;De<_e.length;De++){let Fe=_e[De];if(typeof Fe=="string"&&(Fe=Fe.trim(),isCSSVariableToken(Fe))){const Oe=getVariableValue(Fe,Ce.current);Oe!==void 0&&(_e[De]=Oe),De===_e.length-1&&(this.finalKeyframe=Fe)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(Pe)||_e.length!==2)return;const[Re,Ie]=_e,Be=findDimensionValueType(Re),je=findDimensionValueType(Ie);if(Be!==je)if(isNumOrPxType(Be)&&isNumOrPxType(je))for(let De=0;De<_e.length;De++){const Fe=_e[De];typeof Fe=="string"&&(_e[De]=parseFloat(Fe))}else positionalValues[Pe]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:_e,name:Ce}=this,Pe=[];for(let Re=0;Re<_e.length;Re++)(_e[Re]===null||isNone(_e[Re]))&&Pe.push(Re);Pe.length&&makeNoneKeyframesAnimatable(_e,Pe,Ce)}measureInitialState(){const{element:_e,unresolvedKeyframes:Ce,name:Pe}=this;if(!_e||!_e.current)return;Pe==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[Pe](_e.measureViewportBox(),window.getComputedStyle(_e.current)),Ce[0]=this.measuredOrigin;const Re=Ce[Ce.length-1];Re!==void 0&&_e.getValue(Pe,Re).jump(Re,!1)}measureEndState(){const{element:_e,name:Ce,unresolvedKeyframes:Pe}=this;if(!_e||!_e.current)return;const Re=_e.getValue(Ce);Re&&Re.jump(this.measuredOrigin,!1);const Ie=Pe.length-1,Be=Pe[Ie];Pe[Ie]=positionalValues[Ce](_e.measureViewportBox(),window.getComputedStyle(_e.current)),Be!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=Be),this.removedTransforms?.length&&this.removedTransforms.forEach(([je,De])=>{_e.getValue(je).set(De)}),this.resolveNoneKeyframes()}}function resolveElements(Ee,_e,Ce){if(Ee instanceof EventTarget)return[Ee];if(typeof Ee=="string"){let Pe=document;const Re=Ce?.[Ee]??Pe.querySelectorAll(Ee);return Re?Array.from(Re):[]}return Array.from(Ee)}const getValueAsType=(Ee,_e)=>_e&&typeof Ee=="number"?_e.transform(Ee):Ee;function isHTMLElement(Ee){return isObject$2(Ee)&&"offsetHeight"in Ee}const MAX_VELOCITY_DELTA=30,isFloat=Ee=>!isNaN(parseFloat(Ee));class MotionValue{constructor(_e,Ce={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=Pe=>{const Re=time$1.now();if(this.updatedAt!==Re&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(Pe),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const Ie of this.dependents)Ie.dirty()},this.hasAnimated=!1,this.setCurrent(_e),this.owner=Ce.owner}setCurrent(_e){this.current=_e,this.updatedAt=time$1.now(),this.canTrackVelocity===null&&_e!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(_e=this.current){this.prevFrameValue=_e,this.prevUpdatedAt=this.updatedAt}onChange(_e){return this.on("change",_e)}on(_e,Ce){this.events[_e]||(this.events[_e]=new SubscriptionManager);const Pe=this.events[_e].add(Ce);return _e==="change"?()=>{Pe(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:Pe}clearListeners(){for(const _e in this.events)this.events[_e].clear()}attach(_e,Ce){this.passiveEffect=_e,this.stopPassiveEffect=Ce}set(_e){this.passiveEffect?this.passiveEffect(_e,this.updateAndNotify):this.updateAndNotify(_e)}setWithVelocity(_e,Ce,Pe){this.set(Ce),this.prev=void 0,this.prevFrameValue=_e,this.prevUpdatedAt=this.updatedAt-Pe}jump(_e,Ce=!0){this.updateAndNotify(_e),this.prev=_e,this.prevUpdatedAt=this.prevFrameValue=void 0,Ce&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(_e){this.dependents||(this.dependents=new Set),this.dependents.add(_e)}removeDependent(_e){this.dependents&&this.dependents.delete(_e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const _e=time$1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||_e-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const Ce=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),Ce)}start(_e){return this.stop(),new Promise(Ce=>{this.hasAnimated=!0,this.animation=_e(Ce),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(Ee,_e){return new MotionValue(Ee,_e)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(Ee){return Ee==="x"||Ee==="y"?isDragging[Ee]?null:(isDragging[Ee]=!0,()=>{isDragging[Ee]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(Ee,_e){const Ce=resolveElements(Ee),Pe=new AbortController,Re={passive:!0,..._e,signal:Pe.signal};return[Ce,Re,()=>Pe.abort()]}function isValidHover(Ee){return!(Ee.pointerType==="touch"||isDragActive())}function hover(Ee,_e,Ce={}){const[Pe,Re,Ie]=setupGesture(Ee,Ce),Be=je=>{if(!isValidHover(je))return;const{target:De}=je,Fe=_e(De,je);if(typeof Fe!="function"||!De)return;const Oe=ke=>{isValidHover(ke)&&(Fe(ke),De.removeEventListener("pointerleave",Oe))};De.addEventListener("pointerleave",Oe,Re)};return Pe.forEach(je=>{je.addEventListener("pointerenter",Be,Re)}),Ie}const isNodeOrChild=(Ee,_e)=>_e?Ee===_e?!0:isNodeOrChild(Ee,_e.parentElement):!1,isPrimaryPointer=Ee=>Ee.pointerType==="mouse"?typeof Ee.button!="number"||Ee.button<=0:Ee.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(Ee){return focusableElements.has(Ee.tagName)||Ee.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(Ee){return _e=>{_e.key==="Enter"&&Ee(_e)}}function firePointerEvent(Ee,_e){Ee.dispatchEvent(new PointerEvent("pointer"+_e,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(Ee,_e)=>{const Ce=Ee.currentTarget;if(!Ce)return;const Pe=filterEvents(()=>{if(isPressing.has(Ce))return;firePointerEvent(Ce,"down");const Re=filterEvents(()=>{firePointerEvent(Ce,"up")}),Ie=()=>firePointerEvent(Ce,"cancel");Ce.addEventListener("keyup",Re,_e),Ce.addEventListener("blur",Ie,_e)});Ce.addEventListener("keydown",Pe,_e),Ce.addEventListener("blur",()=>Ce.removeEventListener("keydown",Pe),_e)};function isValidPressEvent(Ee){return isPrimaryPointer(Ee)&&!isDragActive()}function press(Ee,_e,Ce={}){const[Pe,Re,Ie]=setupGesture(Ee,Ce),Be=je=>{const De=je.currentTarget;if(!isValidPressEvent(je))return;isPressing.add(De);const Fe=_e(De,je),Oe=($e,He)=>{window.removeEventListener("pointerup",ke),window.removeEventListener("pointercancel",Me),isPressing.has(De)&&isPressing.delete(De),isValidPressEvent($e)&&typeof Fe=="function"&&Fe($e,{success:He})},ke=$e=>{Oe($e,De===window||De===document||Ce.useGlobalTarget||isNodeOrChild(De,$e.target))},Me=$e=>{Oe($e,!1)};window.addEventListener("pointerup",ke,Re),window.addEventListener("pointercancel",Me,Re)};return Pe.forEach(je=>{(Ce.useGlobalTarget?window:je).addEventListener("pointerdown",Be,Re),isHTMLElement(je)&&(je.addEventListener("focus",Fe=>enableKeyboardPress(Fe,Re)),!isElementKeyboardAccessible(je)&&!je.hasAttribute("tabindex")&&(je.tabIndex=0))}),Ie}function isSVGElement(Ee){return isObject$2(Ee)&&"ownerSVGElement"in Ee}function isSVGSVGElement(Ee){return isSVGElement(Ee)&&Ee.tagName==="svg"}const isMotionValue=Ee=>!!(Ee&&Ee.getVelocity),valueTypes=[...dimensionValueTypes,color$2,complex],findValueType=Ee=>valueTypes.find(testValueType(Ee)),MotionConfigContext=reactExports.createContext({transformPagePoint:Ee=>Ee,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(_e){const Ce=this.props.childRef.current;if(Ce&&_e.isPresent&&!this.props.isPresent){const Pe=Ce.offsetParent,Re=isHTMLElement(Pe)&&Pe.offsetWidth||0,Ie=this.props.sizeRef.current;Ie.height=Ce.offsetHeight||0,Ie.width=Ce.offsetWidth||0,Ie.top=Ce.offsetTop,Ie.left=Ce.offsetLeft,Ie.right=Re-Ie.width-Ie.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:Ee,isPresent:_e,anchorX:Ce,root:Pe}){const Re=reactExports.useId(),Ie=reactExports.useRef(null),Be=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:je}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:De,height:Fe,top:Oe,left:ke,right:Me}=Be.current;if(_e||!Ie.current||!De||!Fe)return;const $e=Ce==="left"?`left: ${ke}`:`right: ${Me}`;Ie.current.dataset.motionPopId=Re;const He=document.createElement("style");je&&(He.nonce=je);const Qe=Pe??document.head;return Qe.appendChild(He),He.sheet&&He.sheet.insertRule(`
          [data-motion-pop-id="${Re}"] {
            position: absolute !important;
            width: ${De}px !important;
            height: ${Fe}px !important;
            ${$e}px !important;
            top: ${Oe}px !important;
          }
        `),()=>{Qe.contains(He)&&Qe.removeChild(He)}},[_e]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:_e,childRef:Ie,sizeRef:Be,children:reactExports.cloneElement(Ee,{ref:Ie})})}const PresenceChild=({children:Ee,initial:_e,isPresent:Ce,onExitComplete:Pe,custom:Re,presenceAffectsLayout:Ie,mode:Be,anchorX:je,root:De})=>{const Fe=useConstant(newChildrenMap),Oe=reactExports.useId();let ke=!0,Me=reactExports.useMemo(()=>(ke=!1,{id:Oe,initial:_e,isPresent:Ce,custom:Re,onExitComplete:$e=>{Fe.set($e,!0);for(const He of Fe.values())if(!He)return;Pe&&Pe()},register:$e=>(Fe.set($e,!1),()=>Fe.delete($e))}),[Ce,Fe,Pe]);return Ie&&ke&&(Me={...Me}),reactExports.useMemo(()=>{Fe.forEach(($e,He)=>Fe.set(He,!1))},[Ce]),reactExports.useEffect(()=>{!Ce&&!Fe.size&&Pe&&Pe()},[Ce]),Be==="popLayout"&&(Ee=jsxRuntimeExports.jsx(PopChild,{isPresent:Ce,anchorX:je,root:De,children:Ee})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:Me,children:Ee})};function newChildrenMap(){return new Map}function usePresence(Ee=!0){const _e=reactExports.useContext(PresenceContext);if(_e===null)return[!0,null];const{isPresent:Ce,onExitComplete:Pe,register:Re}=_e,Ie=reactExports.useId();reactExports.useEffect(()=>{if(Ee)return Re(Ie)},[Ee]);const Be=reactExports.useCallback(()=>Ee&&Pe&&Pe(Ie),[Ie,Pe,Ee]);return!Ce&&Pe?[!1,Be]:[!0]}const getChildKey=Ee=>Ee.key||"";function onlyElements(Ee){const _e=[];return reactExports.Children.forEach(Ee,Ce=>{reactExports.isValidElement(Ce)&&_e.push(Ce)}),_e}const AnimatePresence=({children:Ee,custom:_e,initial:Ce=!0,onExitComplete:Pe,presenceAffectsLayout:Re=!0,mode:Ie="sync",propagate:Be=!1,anchorX:je="left",root:De})=>{const[Fe,Oe]=usePresence(Be),ke=reactExports.useMemo(()=>onlyElements(Ee),[Ee]),Me=Be&&!Fe?[]:ke.map(getChildKey),$e=reactExports.useRef(!0),He=reactExports.useRef(ke),Qe=useConstant(()=>new Map),[Ke,ze]=reactExports.useState(ke),[We,qe]=reactExports.useState(ke);useIsomorphicLayoutEffect$1(()=>{$e.current=!1,He.current=ke;for(let rr=0;rr<We.length;rr++){const Je=getChildKey(We[rr]);Me.includes(Je)?Qe.delete(Je):Qe.get(Je)!==!0&&Qe.set(Je,!1)}},[We,Me.length,Me.join("-")]);const Ye=[];if(ke!==Ke){let rr=[...ke];for(let Je=0;Je<We.length;Je++){const er=We[Je],or=getChildKey(er);Me.includes(or)||(rr.splice(Je,0,er),Ye.push(er))}return Ie==="wait"&&Ye.length&&(rr=Ye),qe(onlyElements(rr)),ze(ke),null}const{forceRender:Xe}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:We.map(rr=>{const Je=getChildKey(rr),er=Be&&!Fe?!1:ke===We||Me.includes(Je),or=()=>{if(Qe.has(Je))Qe.set(Je,!0);else return;let pr=!0;Qe.forEach(ar=>{ar||(pr=!1)}),pr&&(Xe?.(),qe(He.current),Be&&Oe?.(),Pe&&Pe())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:er,initial:!$e.current||Ce?void 0:!1,custom:_e,presenceAffectsLayout:Re,mode:Ie,root:De,onExitComplete:er?void 0:or,anchorX:je,children:rr},Je)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const Ee in featureProps)featureDefinitions[Ee]={isEnabled:_e=>featureProps[Ee].some(Ce=>!!_e[Ce])};function loadFeatures(Ee){for(const _e in Ee)featureDefinitions[_e]={...featureDefinitions[_e],...Ee[_e]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(Ee){return Ee.startsWith("while")||Ee.startsWith("drag")&&Ee!=="draggable"||Ee.startsWith("layout")||Ee.startsWith("onTap")||Ee.startsWith("onPan")||Ee.startsWith("onLayout")||validMotionProps.has(Ee)}let shouldForward=Ee=>!isValidMotionProp(Ee);function loadExternalIsValidProp(Ee){typeof Ee=="function"&&(shouldForward=_e=>_e.startsWith("on")?!isValidMotionProp(_e):Ee(_e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(Ee,_e,Ce){const Pe={};for(const Re in Ee)Re==="values"&&typeof Ee.values=="object"||(shouldForward(Re)||Ce===!0&&isValidMotionProp(Re)||!_e&&!isValidMotionProp(Re)||Ee.draggable&&Re.startsWith("onDrag"))&&(Pe[Re]=Ee[Re]);return Pe}const MotionContext=reactExports.createContext({});function isAnimationControls(Ee){return Ee!==null&&typeof Ee=="object"&&typeof Ee.start=="function"}function isVariantLabel(Ee){return typeof Ee=="string"||Array.isArray(Ee)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(Ee){return isAnimationControls(Ee.animate)||variantProps.some(_e=>isVariantLabel(Ee[_e]))}function isVariantNode(Ee){return!!(isControllingVariants(Ee)||Ee.variants)}function getCurrentTreeVariants(Ee,_e){if(isControllingVariants(Ee)){const{initial:Ce,animate:Pe}=Ee;return{initial:Ce===!1||isVariantLabel(Ce)?Ce:void 0,animate:isVariantLabel(Pe)?Pe:void 0}}return Ee.inherit!==!1?_e:{}}function useCreateMotionContext(Ee){const{initial:_e,animate:Ce}=getCurrentTreeVariants(Ee,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:_e,animate:Ce}),[variantLabelsAsDependency(_e),variantLabelsAsDependency(Ce)])}function variantLabelsAsDependency(Ee){return Array.isArray(Ee)?Ee.join(" "):Ee}const scaleCorrectors={};function addScaleCorrector(Ee){for(const _e in Ee)scaleCorrectors[_e]=Ee[_e],isCSSVariableName(_e)&&(scaleCorrectors[_e].isCSSVariable=!0)}function isForcedMotionValue(Ee,{layout:_e,layoutId:Ce}){return transformProps.has(Ee)||Ee.startsWith("origin")||(_e||Ce!==void 0)&&(!!scaleCorrectors[Ee]||Ee==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(Ee,_e,Ce){let Pe="",Re=!0;for(let Ie=0;Ie<numTransforms;Ie++){const Be=transformPropOrder[Ie],je=Ee[Be];if(je===void 0)continue;let De=!0;if(typeof je=="number"?De=je===(Be.startsWith("scale")?1:0):De=parseFloat(je)===0,!De||Ce){const Fe=getValueAsType(je,numberValueTypes[Be]);if(!De){Re=!1;const Oe=translateAlias[Be]||Be;Pe+=`${Oe}(${Fe}) `}Ce&&(_e[Be]=Fe)}}return Pe=Pe.trim(),Ce?Pe=Ce(_e,Re?"":Pe):Re&&(Pe="none"),Pe}function buildHTMLStyles(Ee,_e,Ce){const{style:Pe,vars:Re,transformOrigin:Ie}=Ee;let Be=!1,je=!1;for(const De in _e){const Fe=_e[De];if(transformProps.has(De)){Be=!0;continue}else if(isCSSVariableName(De)){Re[De]=Fe;continue}else{const Oe=getValueAsType(Fe,numberValueTypes[De]);De.startsWith("origin")?(je=!0,Ie[De]=Oe):Pe[De]=Oe}}if(_e.transform||(Be||Ce?Pe.transform=buildTransform(_e,Ee.transform,Ce):Pe.transform&&(Pe.transform="none")),je){const{originX:De="50%",originY:Fe="50%",originZ:Oe=0}=Ie;Pe.transformOrigin=`${De} ${Fe} ${Oe}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(Ee,_e,Ce){for(const Pe in _e)!isMotionValue(_e[Pe])&&!isForcedMotionValue(Pe,Ce)&&(Ee[Pe]=_e[Pe])}function useInitialMotionValues({transformTemplate:Ee},_e){return reactExports.useMemo(()=>{const Ce=createHtmlRenderState();return buildHTMLStyles(Ce,_e,Ee),Object.assign({},Ce.vars,Ce.style)},[_e])}function useStyle(Ee,_e){const Ce=Ee.style||{},Pe={};return copyRawValuesOnly(Pe,Ce,Ee),Object.assign(Pe,useInitialMotionValues(Ee,_e)),Pe}function useHTMLProps(Ee,_e){const Ce={},Pe=useStyle(Ee,_e);return Ee.drag&&Ee.dragListener!==!1&&(Ce.draggable=!1,Pe.userSelect=Pe.WebkitUserSelect=Pe.WebkitTouchCallout="none",Pe.touchAction=Ee.drag===!0?"none":`pan-${Ee.drag==="x"?"y":"x"}`),Ee.tabIndex===void 0&&(Ee.onTap||Ee.onTapStart||Ee.whileTap)&&(Ce.tabIndex=0),Ce.style=Pe,Ce}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(Ee,_e,Ce=1,Pe=0,Re=!0){Ee.pathLength=1;const Ie=Re?dashKeys:camelKeys;Ee[Ie.offset]=px.transform(-Pe);const Be=px.transform(_e),je=px.transform(Ce);Ee[Ie.array]=`${Be} ${je}`}function buildSVGAttrs(Ee,{attrX:_e,attrY:Ce,attrScale:Pe,pathLength:Re,pathSpacing:Ie=1,pathOffset:Be=0,...je},De,Fe,Oe){if(buildHTMLStyles(Ee,je,Fe),De){Ee.style.viewBox&&(Ee.attrs.viewBox=Ee.style.viewBox);return}Ee.attrs=Ee.style,Ee.style={};const{attrs:ke,style:Me}=Ee;ke.transform&&(Me.transform=ke.transform,delete ke.transform),(Me.transform||ke.transformOrigin)&&(Me.transformOrigin=ke.transformOrigin??"50% 50%",delete ke.transformOrigin),Me.transform&&(Me.transformBox=Oe?.transformBox??"fill-box",delete ke.transformBox),_e!==void 0&&(ke.x=_e),Ce!==void 0&&(ke.y=Ce),Pe!==void 0&&(ke.scale=Pe),Re!==void 0&&buildSVGPath(ke,Re,Ie,Be,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=Ee=>typeof Ee=="string"&&Ee.toLowerCase()==="svg";function useSVGProps(Ee,_e,Ce,Pe){const Re=reactExports.useMemo(()=>{const Ie=createSvgRenderState();return buildSVGAttrs(Ie,_e,isSVGTag(Pe),Ee.transformTemplate,Ee.style),{...Ie.attrs,style:{...Ie.style}}},[_e]);if(Ee.style){const Ie={};copyRawValuesOnly(Ie,Ee.style,Ee),Re.style={...Ie,...Re.style}}return Re}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(Ee){return typeof Ee!="string"||Ee.includes("-")?!1:!!(lowercaseSVGElements.indexOf(Ee)>-1||/[A-Z]/u.test(Ee))}function useRender(Ee,_e,Ce,{latestValues:Pe},Re,Ie=!1){const je=(isSVGComponent(Ee)?useSVGProps:useHTMLProps)(_e,Pe,Re,Ee),De=filterProps$1(_e,typeof Ee=="string",Ie),Fe=Ee!==reactExports.Fragment?{...De,...je,ref:Ce}:{},{children:Oe}=_e,ke=reactExports.useMemo(()=>isMotionValue(Oe)?Oe.get():Oe,[Oe]);return reactExports.createElement(Ee,{...Fe,children:ke})}function getValueState(Ee){const _e=[{},{}];return Ee?.values.forEach((Ce,Pe)=>{_e[0][Pe]=Ce.get(),_e[1][Pe]=Ce.getVelocity()}),_e}function resolveVariantFromProps(Ee,_e,Ce,Pe){if(typeof _e=="function"){const[Re,Ie]=getValueState(Pe);_e=_e(Ce!==void 0?Ce:Ee.custom,Re,Ie)}if(typeof _e=="string"&&(_e=Ee.variants&&Ee.variants[_e]),typeof _e=="function"){const[Re,Ie]=getValueState(Pe);_e=_e(Ce!==void 0?Ce:Ee.custom,Re,Ie)}return _e}function resolveMotionValue(Ee){return isMotionValue(Ee)?Ee.get():Ee}function makeState({scrapeMotionValuesFromProps:Ee,createRenderState:_e},Ce,Pe,Re){return{latestValues:makeLatestValues(Ce,Pe,Re,Ee),renderState:_e()}}function makeLatestValues(Ee,_e,Ce,Pe){const Re={},Ie=Pe(Ee,{});for(const Me in Ie)Re[Me]=resolveMotionValue(Ie[Me]);let{initial:Be,animate:je}=Ee;const De=isControllingVariants(Ee),Fe=isVariantNode(Ee);_e&&Fe&&!De&&Ee.inherit!==!1&&(Be===void 0&&(Be=_e.initial),je===void 0&&(je=_e.animate));let Oe=Ce?Ce.initial===!1:!1;Oe=Oe||Be===!1;const ke=Oe?je:Be;if(ke&&typeof ke!="boolean"&&!isAnimationControls(ke)){const Me=Array.isArray(ke)?ke:[ke];for(let $e=0;$e<Me.length;$e++){const He=resolveVariantFromProps(Ee,Me[$e]);if(He){const{transitionEnd:Qe,transition:Ke,...ze}=He;for(const We in ze){let qe=ze[We];if(Array.isArray(qe)){const Ye=Oe?qe.length-1:0;qe=qe[Ye]}qe!==null&&(Re[We]=qe)}for(const We in Qe)Re[We]=Qe[We]}}}return Re}const makeUseVisualState=Ee=>(_e,Ce)=>{const Pe=reactExports.useContext(MotionContext),Re=reactExports.useContext(PresenceContext),Ie=()=>makeState(Ee,_e,Pe,Re);return Ce?Ie():useConstant(Ie)};function scrapeMotionValuesFromProps$1(Ee,_e,Ce){const{style:Pe}=Ee,Re={};for(const Ie in Pe)(isMotionValue(Pe[Ie])||_e.style&&isMotionValue(_e.style[Ie])||isForcedMotionValue(Ie,Ee)||Ce?.getValue(Ie)?.liveStyle!==void 0)&&(Re[Ie]=Pe[Ie]);return Re}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(Ee,_e,Ce){const Pe=scrapeMotionValuesFromProps$1(Ee,_e,Ce);for(const Re in Ee)if(isMotionValue(Ee[Re])||isMotionValue(_e[Re])){const Ie=transformPropOrder.indexOf(Re)!==-1?"attr"+Re.charAt(0).toUpperCase()+Re.substring(1):Re;Pe[Ie]=Ee[Re]}return Pe}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(Ee){return Ee&&typeof Ee=="object"&&Object.prototype.hasOwnProperty.call(Ee,"current")}function useMotionRef(Ee,_e,Ce){return reactExports.useCallback(Pe=>{Pe&&Ee.onMount&&Ee.onMount(Pe),_e&&(Pe?_e.mount(Pe):_e.unmount()),Ce&&(typeof Ce=="function"?Ce(Pe):isRefObject(Ce)&&(Ce.current=Pe))},[_e])}const camelToDash=Ee=>Ee.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(Ee,_e,Ce,Pe,Re){const{visualElement:Ie}=reactExports.useContext(MotionContext),Be=reactExports.useContext(LazyContext),je=reactExports.useContext(PresenceContext),De=reactExports.useContext(MotionConfigContext).reducedMotion,Fe=reactExports.useRef(null);Pe=Pe||Be.renderer,!Fe.current&&Pe&&(Fe.current=Pe(Ee,{visualState:_e,parent:Ie,props:Ce,presenceContext:je,blockInitialAnimation:je?je.initial===!1:!1,reducedMotionConfig:De}));const Oe=Fe.current,ke=reactExports.useContext(SwitchLayoutGroupContext);Oe&&!Oe.projection&&Re&&(Oe.type==="html"||Oe.type==="svg")&&createProjectionNode$1(Fe.current,Ce,Re,ke);const Me=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{Oe&&Me.current&&Oe.update(Ce,je)});const $e=Ce[optimizedAppearDataAttribute],He=reactExports.useRef(!!$e&&!window.MotionHandoffIsComplete?.($e)&&window.MotionHasOptimisedAnimation?.($e));return useIsomorphicLayoutEffect$1(()=>{Oe&&(Me.current=!0,window.MotionIsMounted=!0,Oe.updateFeatures(),Oe.scheduleRenderMicrotask(),He.current&&Oe.animationState&&Oe.animationState.animateChanges())}),reactExports.useEffect(()=>{Oe&&(!He.current&&Oe.animationState&&Oe.animationState.animateChanges(),He.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.($e)}),He.current=!1))}),Oe}function createProjectionNode$1(Ee,_e,Ce,Pe){const{layoutId:Re,layout:Ie,drag:Be,dragConstraints:je,layoutScroll:De,layoutRoot:Fe,layoutCrossfade:Oe}=_e;Ee.projection=new Ce(Ee.latestValues,_e["data-framer-portal-id"]?void 0:getClosestProjectingNode(Ee.parent)),Ee.projection.setOptions({layoutId:Re,layout:Ie,alwaysMeasureLayout:!!Be||je&&isRefObject(je),visualElement:Ee,animationType:typeof Ie=="string"?Ie:"both",initialPromotionConfig:Pe,crossfade:Oe,layoutScroll:De,layoutRoot:Fe})}function getClosestProjectingNode(Ee){if(Ee)return Ee.options.allowProjection!==!1?Ee.projection:getClosestProjectingNode(Ee.parent)}function createMotionComponent(Ee,{forwardMotionProps:_e=!1}={},Ce,Pe){Ce&&loadFeatures(Ce);const Re=isSVGComponent(Ee)?useSVGVisualState:useHTMLVisualState;function Ie(je,De){let Fe;const Oe={...reactExports.useContext(MotionConfigContext),...je,layoutId:useLayoutId(je)},{isStatic:ke}=Oe,Me=useCreateMotionContext(je),$e=Re(je,ke);if(!ke&&isBrowser$1){useStrictMode();const He=getProjectionFunctionality(Oe);Fe=He.MeasureLayout,Me.visualElement=useVisualElement(Ee,$e,Oe,Pe,He.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:Me,children:[Fe&&Me.visualElement?jsxRuntimeExports.jsx(Fe,{visualElement:Me.visualElement,...Oe}):null,useRender(Ee,je,useMotionRef($e,Me.visualElement,De),$e,ke,_e)]})}Ie.displayName=`motion.${typeof Ee=="string"?Ee:`create(${Ee.displayName??Ee.name??""})`}`;const Be=reactExports.forwardRef(Ie);return Be[motionComponentSymbol]=Ee,Be}function useLayoutId({layoutId:Ee}){const _e=reactExports.useContext(LayoutGroupContext).id;return _e&&Ee!==void 0?_e+"-"+Ee:Ee}function useStrictMode(Ee,_e){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(Ee){const{drag:_e,layout:Ce}=featureDefinitions;if(!_e&&!Ce)return{};const Pe={..._e,...Ce};return{MeasureLayout:_e?.isEnabled(Ee)||Ce?.isEnabled(Ee)?Pe.MeasureLayout:void 0,ProjectionNode:Pe.ProjectionNode}}function createMotionProxy(Ee,_e){if(typeof Proxy>"u")return createMotionComponent;const Ce=new Map,Pe=(Ie,Be)=>createMotionComponent(Ie,Be,Ee,_e),Re=(Ie,Be)=>Pe(Ie,Be);return new Proxy(Re,{get:(Ie,Be)=>Be==="create"?Pe:(Ce.has(Be)||Ce.set(Be,createMotionComponent(Be,void 0,Ee,_e)),Ce.get(Be))})}function convertBoundingBoxToBox({top:Ee,left:_e,right:Ce,bottom:Pe}){return{x:{min:_e,max:Ce},y:{min:Ee,max:Pe}}}function convertBoxToBoundingBox({x:Ee,y:_e}){return{top:_e.min,right:Ee.max,bottom:_e.max,left:Ee.min}}function transformBoxPoints(Ee,_e){if(!_e)return Ee;const Ce=_e({x:Ee.left,y:Ee.top}),Pe=_e({x:Ee.right,y:Ee.bottom});return{top:Ce.y,left:Ce.x,bottom:Pe.y,right:Pe.x}}function isIdentityScale(Ee){return Ee===void 0||Ee===1}function hasScale({scale:Ee,scaleX:_e,scaleY:Ce}){return!isIdentityScale(Ee)||!isIdentityScale(_e)||!isIdentityScale(Ce)}function hasTransform(Ee){return hasScale(Ee)||has2DTranslate(Ee)||Ee.z||Ee.rotate||Ee.rotateX||Ee.rotateY||Ee.skewX||Ee.skewY}function has2DTranslate(Ee){return is2DTranslate(Ee.x)||is2DTranslate(Ee.y)}function is2DTranslate(Ee){return Ee&&Ee!=="0%"}function scalePoint(Ee,_e,Ce){const Pe=Ee-Ce,Re=_e*Pe;return Ce+Re}function applyPointDelta(Ee,_e,Ce,Pe,Re){return Re!==void 0&&(Ee=scalePoint(Ee,Re,Pe)),scalePoint(Ee,Ce,Pe)+_e}function applyAxisDelta(Ee,_e=0,Ce=1,Pe,Re){Ee.min=applyPointDelta(Ee.min,_e,Ce,Pe,Re),Ee.max=applyPointDelta(Ee.max,_e,Ce,Pe,Re)}function applyBoxDelta(Ee,{x:_e,y:Ce}){applyAxisDelta(Ee.x,_e.translate,_e.scale,_e.originPoint),applyAxisDelta(Ee.y,Ce.translate,Ce.scale,Ce.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(Ee,_e,Ce,Pe=!1){const Re=Ce.length;if(!Re)return;_e.x=_e.y=1;let Ie,Be;for(let je=0;je<Re;je++){Ie=Ce[je],Be=Ie.projectionDelta;const{visualElement:De}=Ie.options;De&&De.props.style&&De.props.style.display==="contents"||(Pe&&Ie.options.layoutScroll&&Ie.scroll&&Ie!==Ie.root&&transformBox(Ee,{x:-Ie.scroll.offset.x,y:-Ie.scroll.offset.y}),Be&&(_e.x*=Be.x.scale,_e.y*=Be.y.scale,applyBoxDelta(Ee,Be)),Pe&&hasTransform(Ie.latestValues)&&transformBox(Ee,Ie.latestValues))}_e.x<TREE_SCALE_SNAP_MAX&&_e.x>TREE_SCALE_SNAP_MIN&&(_e.x=1),_e.y<TREE_SCALE_SNAP_MAX&&_e.y>TREE_SCALE_SNAP_MIN&&(_e.y=1)}function translateAxis(Ee,_e){Ee.min=Ee.min+_e,Ee.max=Ee.max+_e}function transformAxis(Ee,_e,Ce,Pe,Re=.5){const Ie=mixNumber$1(Ee.min,Ee.max,Re);applyAxisDelta(Ee,_e,Ce,Ie,Pe)}function transformBox(Ee,_e){transformAxis(Ee.x,_e.x,_e.scaleX,_e.scale,_e.originX),transformAxis(Ee.y,_e.y,_e.scaleY,_e.scale,_e.originY)}function measureViewportBox(Ee,_e){return convertBoundingBoxToBox(transformBoxPoints(Ee.getBoundingClientRect(),_e))}function measurePageBox(Ee,_e,Ce){const Pe=measureViewportBox(Ee,Ce),{scroll:Re}=_e;return Re&&(translateAxis(Pe.x,Re.offset.x),translateAxis(Pe.y,Re.offset.y)),Pe}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const Ee=window.matchMedia("(prefers-reduced-motion)"),_e=()=>prefersReducedMotion.current=Ee.matches;Ee.addEventListener("change",_e),_e()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(Ee,_e,Ce){for(const Pe in _e){const Re=_e[Pe],Ie=Ce[Pe];if(isMotionValue(Re))Ee.addValue(Pe,Re);else if(isMotionValue(Ie))Ee.addValue(Pe,motionValue(Re,{owner:Ee}));else if(Ie!==Re)if(Ee.hasValue(Pe)){const Be=Ee.getValue(Pe);Be.liveStyle===!0?Be.jump(Re):Be.hasAnimated||Be.set(Re)}else{const Be=Ee.getStaticValue(Pe);Ee.addValue(Pe,motionValue(Be!==void 0?Be:Re,{owner:Ee}))}}for(const Pe in Ce)_e[Pe]===void 0&&Ee.removeValue(Pe);return _e}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(_e,Ce,Pe){return{}}constructor({parent:_e,props:Ce,presenceContext:Pe,reducedMotionConfig:Re,blockInitialAnimation:Ie,visualState:Be},je={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const Me=time$1.now();this.renderScheduledAt<Me&&(this.renderScheduledAt=Me,frame.render(this.render,!1,!0))};const{latestValues:De,renderState:Fe}=Be;this.latestValues=De,this.baseTarget={...De},this.initialValues=Ce.initial?{...De}:{},this.renderState=Fe,this.parent=_e,this.props=Ce,this.presenceContext=Pe,this.depth=_e?_e.depth+1:0,this.reducedMotionConfig=Re,this.options=je,this.blockInitialAnimation=!!Ie,this.isControllingVariants=isControllingVariants(Ce),this.isVariantNode=isVariantNode(Ce),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(_e&&_e.current);const{willChange:Oe,...ke}=this.scrapeMotionValuesFromProps(Ce,{},this);for(const Me in ke){const $e=ke[Me];De[Me]!==void 0&&isMotionValue($e)&&$e.set(De[Me])}}mount(_e){this.current=_e,visualElementStore.set(_e,this),this.projection&&!this.projection.instance&&this.projection.mount(_e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((Ce,Pe)=>this.bindToMotionValue(Pe,Ce)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(_e=>_e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const _e in this.events)this.events[_e].clear();for(const _e in this.features){const Ce=this.features[_e];Ce&&(Ce.unmount(),Ce.isMounted=!1)}this.current=null}bindToMotionValue(_e,Ce){this.valueSubscriptions.has(_e)&&this.valueSubscriptions.get(_e)();const Pe=transformProps.has(_e);Pe&&this.onBindTransform&&this.onBindTransform();const Re=Ce.on("change",Be=>{this.latestValues[_e]=Be,this.props.onUpdate&&frame.preRender(this.notifyUpdate),Pe&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let Ie;window.MotionCheckAppearSync&&(Ie=window.MotionCheckAppearSync(this,_e,Ce)),this.valueSubscriptions.set(_e,()=>{Re(),Ie&&Ie(),Ce.owner&&Ce.stop()})}sortNodePosition(_e){return!this.current||!this.sortInstanceNodePosition||this.type!==_e.type?0:this.sortInstanceNodePosition(this.current,_e.current)}updateFeatures(){let _e="animation";for(_e in featureDefinitions){const Ce=featureDefinitions[_e];if(!Ce)continue;const{isEnabled:Pe,Feature:Re}=Ce;if(!this.features[_e]&&Re&&Pe(this.props)&&(this.features[_e]=new Re(this)),this.features[_e]){const Ie=this.features[_e];Ie.isMounted?Ie.update():(Ie.mount(),Ie.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(_e){return this.latestValues[_e]}setStaticValue(_e,Ce){this.latestValues[_e]=Ce}update(_e,Ce){(_e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=_e,this.prevPresenceContext=this.presenceContext,this.presenceContext=Ce;for(let Pe=0;Pe<propEventHandlers.length;Pe++){const Re=propEventHandlers[Pe];this.propEventSubscriptions[Re]&&(this.propEventSubscriptions[Re](),delete this.propEventSubscriptions[Re]);const Ie="on"+Re,Be=_e[Ie];Be&&(this.propEventSubscriptions[Re]=this.on(Re,Be))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(_e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(_e){return this.props.variants?this.props.variants[_e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(_e){const Ce=this.getClosestVariantNode();if(Ce)return Ce.variantChildren&&Ce.variantChildren.add(_e),()=>Ce.variantChildren.delete(_e)}addValue(_e,Ce){const Pe=this.values.get(_e);Ce!==Pe&&(Pe&&this.removeValue(_e),this.bindToMotionValue(_e,Ce),this.values.set(_e,Ce),this.latestValues[_e]=Ce.get())}removeValue(_e){this.values.delete(_e);const Ce=this.valueSubscriptions.get(_e);Ce&&(Ce(),this.valueSubscriptions.delete(_e)),delete this.latestValues[_e],this.removeValueFromRenderState(_e,this.renderState)}hasValue(_e){return this.values.has(_e)}getValue(_e,Ce){if(this.props.values&&this.props.values[_e])return this.props.values[_e];let Pe=this.values.get(_e);return Pe===void 0&&Ce!==void 0&&(Pe=motionValue(Ce===null?void 0:Ce,{owner:this}),this.addValue(_e,Pe)),Pe}readValue(_e,Ce){let Pe=this.latestValues[_e]!==void 0||!this.current?this.latestValues[_e]:this.getBaseTargetFromProps(this.props,_e)??this.readValueFromInstance(this.current,_e,this.options);return Pe!=null&&(typeof Pe=="string"&&(isNumericalString(Pe)||isZeroValueString(Pe))?Pe=parseFloat(Pe):!findValueType(Pe)&&complex.test(Ce)&&(Pe=getAnimatableNone(_e,Ce)),this.setBaseTarget(_e,isMotionValue(Pe)?Pe.get():Pe)),isMotionValue(Pe)?Pe.get():Pe}setBaseTarget(_e,Ce){this.baseTarget[_e]=Ce}getBaseTarget(_e){const{initial:Ce}=this.props;let Pe;if(typeof Ce=="string"||typeof Ce=="object"){const Ie=resolveVariantFromProps(this.props,Ce,this.presenceContext?.custom);Ie&&(Pe=Ie[_e])}if(Ce&&Pe!==void 0)return Pe;const Re=this.getBaseTargetFromProps(this.props,_e);return Re!==void 0&&!isMotionValue(Re)?Re:this.initialValues[_e]!==void 0&&Pe===void 0?void 0:this.baseTarget[_e]}on(_e,Ce){return this.events[_e]||(this.events[_e]=new SubscriptionManager),this.events[_e].add(Ce)}notify(_e,...Ce){this.events[_e]&&this.events[_e].notify(...Ce)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(_e,Ce){return _e.compareDocumentPosition(Ce)&2?1:-1}getBaseTargetFromProps(_e,Ce){return _e.style?_e.style[Ce]:void 0}removeValueFromRenderState(_e,{vars:Ce,style:Pe}){delete Ce[_e],delete Pe[_e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:_e}=this.props;isMotionValue(_e)&&(this.childSubscription=_e.on("change",Ce=>{this.current&&(this.current.textContent=`${Ce}`)}))}}function renderHTML(Ee,{style:_e,vars:Ce},Pe,Re){const Ie=Ee.style;let Be;for(Be in _e)Ie[Be]=_e[Be];Re?.applyProjectionStyles(Ie,Pe);for(Be in Ce)Ie.setProperty(Be,Ce[Be])}function getComputedStyle$2(Ee){return window.getComputedStyle(Ee)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(_e,Ce){if(transformProps.has(Ce))return this.projection?.isProjecting?defaultTransformValue(Ce):readTransformValue(_e,Ce);{const Pe=getComputedStyle$2(_e),Re=(isCSSVariableName(Ce)?Pe.getPropertyValue(Ce):Pe[Ce])||0;return typeof Re=="string"?Re.trim():Re}}measureInstanceViewportBox(_e,{transformPagePoint:Ce}){return measureViewportBox(_e,Ce)}build(_e,Ce,Pe){buildHTMLStyles(_e,Ce,Pe.transformTemplate)}scrapeMotionValuesFromProps(_e,Ce,Pe){return scrapeMotionValuesFromProps$1(_e,Ce,Pe)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(Ee,_e,Ce,Pe){renderHTML(Ee,_e,void 0,Pe);for(const Re in _e.attrs)Ee.setAttribute(camelCaseAttributes.has(Re)?Re:camelToDash(Re),_e.attrs[Re])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(_e,Ce){return _e[Ce]}readValueFromInstance(_e,Ce){if(transformProps.has(Ce)){const Pe=getDefaultValueType(Ce);return Pe&&Pe.default||0}return Ce=camelCaseAttributes.has(Ce)?Ce:camelToDash(Ce),_e.getAttribute(Ce)}scrapeMotionValuesFromProps(_e,Ce,Pe){return scrapeMotionValuesFromProps(_e,Ce,Pe)}build(_e,Ce,Pe){buildSVGAttrs(_e,Ce,this.isSVGTag,Pe.transformTemplate,Pe.style)}renderInstance(_e,Ce,Pe,Re){renderSVG(_e,Ce,Pe,Re)}mount(_e){this.isSVGTag=isSVGTag(_e.tagName),super.mount(_e)}}const createDomVisualElement=(Ee,_e)=>isSVGComponent(Ee)?new SVGVisualElement(_e):new HTMLVisualElement(_e,{allowProjection:Ee!==reactExports.Fragment});function resolveVariant(Ee,_e,Ce){const Pe=Ee.getProps();return resolveVariantFromProps(Pe,_e,Ce!==void 0?Ce:Pe.custom,Ee)}const isKeyframesTarget=Ee=>Array.isArray(Ee);function setMotionValue(Ee,_e,Ce){Ee.hasValue(_e)?Ee.getValue(_e).set(Ce):Ee.addValue(_e,motionValue(Ce))}function resolveFinalValueInKeyframes(Ee){return isKeyframesTarget(Ee)?Ee[Ee.length-1]||0:Ee}function setTarget(Ee,_e){const Ce=resolveVariant(Ee,_e);let{transitionEnd:Pe={},transition:Re={},...Ie}=Ce||{};Ie={...Ie,...Pe};for(const Be in Ie){const je=resolveFinalValueInKeyframes(Ie[Be]);setMotionValue(Ee,Be,je)}}function isWillChangeMotionValue(Ee){return!!(isMotionValue(Ee)&&Ee.add)}function addValueToWillChange(Ee,_e){const Ce=Ee.getValue("willChange");if(isWillChangeMotionValue(Ce))return Ce.add(_e);if(!Ce&&MotionGlobalConfig.WillChange){const Pe=new MotionGlobalConfig.WillChange("auto");Ee.addValue("willChange",Pe),Pe.add(_e)}}function getOptimisedAppearId(Ee){return Ee.props[optimizedAppearDataAttribute]}const isNotNull=Ee=>Ee!==null;function getFinalKeyframe(Ee,{repeat:_e,repeatType:Ce="loop"},Pe){const Re=Ee.filter(isNotNull),Ie=_e&&Ce!=="loop"&&_e%2===1?0:Re.length-1;return Re[Ie]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=Ee=>({type:"spring",stiffness:550,damping:Ee===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(Ee,{keyframes:_e})=>_e.length>2?keyframesTransition:transformProps.has(Ee)?Ee.startsWith("scale")?criticallyDampedSpring(_e[1]):underDampedSpring:ease;function isTransitionDefined({when:Ee,delay:_e,delayChildren:Ce,staggerChildren:Pe,staggerDirection:Re,repeat:Ie,repeatType:Be,repeatDelay:je,from:De,elapsed:Fe,...Oe}){return!!Object.keys(Oe).length}const animateMotionValue=(Ee,_e,Ce,Pe={},Re,Ie)=>Be=>{const je=getValueTransition(Pe,Ee)||{},De=je.delay||Pe.delay||0;let{elapsed:Fe=0}=Pe;Fe=Fe-secondsToMilliseconds(De);const Oe={keyframes:Array.isArray(Ce)?Ce:[null,Ce],ease:"easeOut",velocity:_e.getVelocity(),...je,delay:-Fe,onUpdate:Me=>{_e.set(Me),je.onUpdate&&je.onUpdate(Me)},onComplete:()=>{Be(),je.onComplete&&je.onComplete()},name:Ee,motionValue:_e,element:Ie?void 0:Re};isTransitionDefined(je)||Object.assign(Oe,getDefaultTransition(Ee,Oe)),Oe.duration&&(Oe.duration=secondsToMilliseconds(Oe.duration)),Oe.repeatDelay&&(Oe.repeatDelay=secondsToMilliseconds(Oe.repeatDelay)),Oe.from!==void 0&&(Oe.keyframes[0]=Oe.from);let ke=!1;if((Oe.type===!1||Oe.duration===0&&!Oe.repeatDelay)&&(makeAnimationInstant(Oe),Oe.delay===0&&(ke=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(ke=!0,makeAnimationInstant(Oe),Oe.delay=0),Oe.allowFlatten=!je.type&&!je.ease,ke&&!Ie&&_e.get()!==void 0){const Me=getFinalKeyframe(Oe.keyframes,je);if(Me!==void 0){frame.update(()=>{Oe.onUpdate(Me),Oe.onComplete()});return}}return je.isSync?new JSAnimation(Oe):new AsyncMotionValueAnimation(Oe)};function shouldBlockAnimation({protectedKeys:Ee,needsAnimating:_e},Ce){const Pe=Ee.hasOwnProperty(Ce)&&_e[Ce]!==!0;return _e[Ce]=!1,Pe}function animateTarget(Ee,_e,{delay:Ce=0,transitionOverride:Pe,type:Re}={}){let{transition:Ie=Ee.getDefaultTransition(),transitionEnd:Be,...je}=_e;Pe&&(Ie=Pe);const De=[],Fe=Re&&Ee.animationState&&Ee.animationState.getState()[Re];for(const Oe in je){const ke=Ee.getValue(Oe,Ee.latestValues[Oe]??null),Me=je[Oe];if(Me===void 0||Fe&&shouldBlockAnimation(Fe,Oe))continue;const $e={delay:Ce,...getValueTransition(Ie||{},Oe)},He=ke.get();if(He!==void 0&&!ke.isAnimating&&!Array.isArray(Me)&&Me===He&&!$e.velocity)continue;let Qe=!1;if(window.MotionHandoffAnimation){const ze=getOptimisedAppearId(Ee);if(ze){const We=window.MotionHandoffAnimation(ze,Oe,frame);We!==null&&($e.startTime=We,Qe=!0)}}addValueToWillChange(Ee,Oe),ke.start(animateMotionValue(Oe,ke,Me,Ee.shouldReduceMotion&&positionalKeys.has(Oe)?{type:!1}:$e,Ee,Qe));const Ke=ke.animation;Ke&&De.push(Ke)}return Be&&Promise.all(De).then(()=>{frame.update(()=>{Be&&setTarget(Ee,Be)})}),De}function animateVariant(Ee,_e,Ce={}){const Pe=resolveVariant(Ee,_e,Ce.type==="exit"?Ee.presenceContext?.custom:void 0);let{transition:Re=Ee.getDefaultTransition()||{}}=Pe||{};Ce.transitionOverride&&(Re=Ce.transitionOverride);const Ie=Pe?()=>Promise.all(animateTarget(Ee,Pe,Ce)):()=>Promise.resolve(),Be=Ee.variantChildren&&Ee.variantChildren.size?(De=0)=>{const{delayChildren:Fe=0,staggerChildren:Oe,staggerDirection:ke}=Re;return animateChildren(Ee,_e,De,Fe,Oe,ke,Ce)}:()=>Promise.resolve(),{when:je}=Re;if(je){const[De,Fe]=je==="beforeChildren"?[Ie,Be]:[Be,Ie];return De().then(()=>Fe())}else return Promise.all([Ie(),Be(Ce.delay)])}function animateChildren(Ee,_e,Ce=0,Pe=0,Re=0,Ie=1,Be){const je=[],De=Ee.variantChildren.size,Fe=(De-1)*Re,Oe=typeof Pe=="function",ke=Oe?Me=>Pe(Me,De):Ie===1?(Me=0)=>Me*Re:(Me=0)=>Fe-Me*Re;return Array.from(Ee.variantChildren).sort(sortByTreeOrder).forEach((Me,$e)=>{Me.notify("AnimationStart",_e),je.push(animateVariant(Me,_e,{...Be,delay:Ce+(Oe?0:Pe)+ke($e)}).then(()=>Me.notify("AnimationComplete",_e)))}),Promise.all(je)}function sortByTreeOrder(Ee,_e){return Ee.sortNodePosition(_e)}function animateVisualElement(Ee,_e,Ce={}){Ee.notify("AnimationStart",_e);let Pe;if(Array.isArray(_e)){const Re=_e.map(Ie=>animateVariant(Ee,Ie,Ce));Pe=Promise.all(Re)}else if(typeof _e=="string")Pe=animateVariant(Ee,_e,Ce);else{const Re=typeof _e=="function"?resolveVariant(Ee,_e,Ce.custom):_e;Pe=Promise.all(animateTarget(Ee,Re,Ce))}return Pe.then(()=>{Ee.notify("AnimationComplete",_e)})}function shallowCompare(Ee,_e){if(!Array.isArray(_e))return!1;const Ce=_e.length;if(Ce!==Ee.length)return!1;for(let Pe=0;Pe<Ce;Pe++)if(_e[Pe]!==Ee[Pe])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(Ee){if(!Ee)return;if(!Ee.isControllingVariants){const Ce=Ee.parent?getVariantContext(Ee.parent)||{}:{};return Ee.props.initial!==void 0&&(Ce.initial=Ee.props.initial),Ce}const _e={};for(let Ce=0;Ce<numVariantProps;Ce++){const Pe=variantProps[Ce],Re=Ee.props[Pe];(isVariantLabel(Re)||Re===!1)&&(_e[Pe]=Re)}return _e}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(Ee){return _e=>Promise.all(_e.map(({animation:Ce,options:Pe})=>animateVisualElement(Ee,Ce,Pe)))}function createAnimationState(Ee){let _e=animateList(Ee),Ce=createState(),Pe=!0;const Re=De=>(Fe,Oe)=>{const ke=resolveVariant(Ee,Oe,De==="exit"?Ee.presenceContext?.custom:void 0);if(ke){const{transition:Me,transitionEnd:$e,...He}=ke;Fe={...Fe,...He,...$e}}return Fe};function Ie(De){_e=De(Ee)}function Be(De){const{props:Fe}=Ee,Oe=getVariantContext(Ee.parent)||{},ke=[],Me=new Set;let $e={},He=1/0;for(let Ke=0;Ke<numAnimationTypes;Ke++){const ze=reversePriorityOrder[Ke],We=Ce[ze],qe=Fe[ze]!==void 0?Fe[ze]:Oe[ze],Ye=isVariantLabel(qe),Xe=ze===De?We.isActive:null;Xe===!1&&(He=Ke);let rr=qe===Oe[ze]&&qe!==Fe[ze]&&Ye;if(rr&&Pe&&Ee.manuallyAnimateOnMount&&(rr=!1),We.protectedKeys={...$e},!We.isActive&&Xe===null||!qe&&!We.prevProp||isAnimationControls(qe)||typeof qe=="boolean")continue;const Je=checkVariantsDidChange(We.prevProp,qe);let er=Je||ze===De&&We.isActive&&!rr&&Ye||Ke>He&&Ye,or=!1;const pr=Array.isArray(qe)?qe:[qe];let ar=pr.reduce(Re(ze),{});Xe===!1&&(ar={});const{prevResolvedValues:fr={}}=We,gr={...fr,...ar},Rr=Er=>{er=!0,Me.has(Er)&&(or=!0,Me.delete(Er)),We.needsAnimating[Er]=!0;const Ar=Ee.getValue(Er);Ar&&(Ar.liveStyle=!1)};for(const Er in gr){const Ar=ar[Er],br=fr[Er];if($e.hasOwnProperty(Er))continue;let wr=!1;isKeyframesTarget(Ar)&&isKeyframesTarget(br)?wr=!shallowCompare(Ar,br):wr=Ar!==br,wr?Ar!=null?Rr(Er):Me.add(Er):Ar!==void 0&&Me.has(Er)?Rr(Er):We.protectedKeys[Er]=!0}We.prevProp=qe,We.prevResolvedValues=ar,We.isActive&&($e={...$e,...ar}),Pe&&Ee.blockInitialAnimation&&(er=!1),er&&(!(rr&&Je)||or)&&ke.push(...pr.map(Er=>({animation:Er,options:{type:ze}})))}if(Me.size){const Ke={};if(typeof Fe.initial!="boolean"){const ze=resolveVariant(Ee,Array.isArray(Fe.initial)?Fe.initial[0]:Fe.initial);ze&&ze.transition&&(Ke.transition=ze.transition)}Me.forEach(ze=>{const We=Ee.getBaseTarget(ze),qe=Ee.getValue(ze);qe&&(qe.liveStyle=!0),Ke[ze]=We??null}),ke.push({animation:Ke})}let Qe=!!ke.length;return Pe&&(Fe.initial===!1||Fe.initial===Fe.animate)&&!Ee.manuallyAnimateOnMount&&(Qe=!1),Pe=!1,Qe?_e(ke):Promise.resolve()}function je(De,Fe){if(Ce[De].isActive===Fe)return Promise.resolve();Ee.variantChildren?.forEach(ke=>ke.animationState?.setActive(De,Fe)),Ce[De].isActive=Fe;const Oe=Be(De);for(const ke in Ce)Ce[ke].protectedKeys={};return Oe}return{animateChanges:Be,setActive:je,setAnimateFunction:Ie,getState:()=>Ce,reset:()=>{Ce=createState(),Pe=!0}}}function checkVariantsDidChange(Ee,_e){return typeof _e=="string"?_e!==Ee:Array.isArray(_e)?!shallowCompare(_e,Ee):!1}function createTypeState(Ee=!1){return{isActive:Ee,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(_e){this.isMounted=!1,this.node=_e}update(){}}class AnimationFeature extends Feature{constructor(_e){super(_e),_e.animationState||(_e.animationState=createAnimationState(_e))}updateAnimationControlsSubscription(){const{animate:_e}=this.node.getProps();isAnimationControls(_e)&&(this.unmountControls=_e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:_e}=this.node.getProps(),{animate:Ce}=this.node.prevProps||{};_e!==Ce&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:_e,onExitComplete:Ce}=this.node.presenceContext,{isPresent:Pe}=this.node.prevPresenceContext||{};if(!this.node.animationState||_e===Pe)return;const Re=this.node.animationState.setActive("exit",!_e);Ce&&!_e&&Re.then(()=>{Ce(this.id)})}mount(){const{register:_e,onExitComplete:Ce}=this.node.presenceContext||{};Ce&&Ce(this.id),_e&&(this.unmount=_e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(Ee,_e,Ce,Pe={passive:!0}){return Ee.addEventListener(_e,Ce,Pe),()=>Ee.removeEventListener(_e,Ce)}function extractEventInfo(Ee){return{point:{x:Ee.pageX,y:Ee.pageY}}}const addPointerInfo=Ee=>_e=>isPrimaryPointer(_e)&&Ee(_e,extractEventInfo(_e));function addPointerEvent(Ee,_e,Ce,Pe){return addDomEvent(Ee,_e,addPointerInfo(Ce),Pe)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(Ee){return Ee.max-Ee.min}function isNear(Ee,_e,Ce){return Math.abs(Ee-_e)<=Ce}function calcAxisDelta(Ee,_e,Ce,Pe=.5){Ee.origin=Pe,Ee.originPoint=mixNumber$1(_e.min,_e.max,Ee.origin),Ee.scale=calcLength(Ce)/calcLength(_e),Ee.translate=mixNumber$1(Ce.min,Ce.max,Ee.origin)-Ee.originPoint,(Ee.scale>=SCALE_MIN&&Ee.scale<=SCALE_MAX||isNaN(Ee.scale))&&(Ee.scale=1),(Ee.translate>=TRANSLATE_MIN&&Ee.translate<=TRANSLATE_MAX||isNaN(Ee.translate))&&(Ee.translate=0)}function calcBoxDelta(Ee,_e,Ce,Pe){calcAxisDelta(Ee.x,_e.x,Ce.x,Pe?Pe.originX:void 0),calcAxisDelta(Ee.y,_e.y,Ce.y,Pe?Pe.originY:void 0)}function calcRelativeAxis(Ee,_e,Ce){Ee.min=Ce.min+_e.min,Ee.max=Ee.min+calcLength(_e)}function calcRelativeBox(Ee,_e,Ce){calcRelativeAxis(Ee.x,_e.x,Ce.x),calcRelativeAxis(Ee.y,_e.y,Ce.y)}function calcRelativeAxisPosition(Ee,_e,Ce){Ee.min=_e.min-Ce.min,Ee.max=Ee.min+calcLength(_e)}function calcRelativePosition(Ee,_e,Ce){calcRelativeAxisPosition(Ee.x,_e.x,Ce.x),calcRelativeAxisPosition(Ee.y,_e.y,Ce.y)}function eachAxis(Ee){return[Ee("x"),Ee("y")]}const getContextWindow=({current:Ee})=>Ee?Ee.ownerDocument.defaultView:null,distance=(Ee,_e)=>Math.abs(Ee-_e);function distance2D(Ee,_e){const Ce=distance(Ee.x,_e.x),Pe=distance(Ee.y,_e.y);return Math.sqrt(Ce**2+Pe**2)}class PanSession{constructor(_e,Ce,{transformPagePoint:Pe,contextWindow:Re=window,dragSnapToOrigin:Ie=!1,distanceThreshold:Be=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Me=getPanInfo(this.lastMoveEventInfo,this.history),$e=this.startEvent!==null,He=distance2D(Me.offset,{x:0,y:0})>=this.distanceThreshold;if(!$e&&!He)return;const{point:Qe}=Me,{timestamp:Ke}=frameData;this.history.push({...Qe,timestamp:Ke});const{onStart:ze,onMove:We}=this.handlers;$e||(ze&&ze(this.lastMoveEvent,Me),this.startEvent=this.lastMoveEvent),We&&We(this.lastMoveEvent,Me)},this.handlePointerMove=(Me,$e)=>{this.lastMoveEvent=Me,this.lastMoveEventInfo=transformPoint($e,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(Me,$e)=>{this.end();const{onEnd:He,onSessionEnd:Qe,resumeAnimation:Ke}=this.handlers;if(this.dragSnapToOrigin&&Ke&&Ke(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ze=getPanInfo(Me.type==="pointercancel"?this.lastMoveEventInfo:transformPoint($e,this.transformPagePoint),this.history);this.startEvent&&He&&He(Me,ze),Qe&&Qe(Me,ze)},!isPrimaryPointer(_e))return;this.dragSnapToOrigin=Ie,this.handlers=Ce,this.transformPagePoint=Pe,this.distanceThreshold=Be,this.contextWindow=Re||window;const je=extractEventInfo(_e),De=transformPoint(je,this.transformPagePoint),{point:Fe}=De,{timestamp:Oe}=frameData;this.history=[{...Fe,timestamp:Oe}];const{onSessionStart:ke}=Ce;ke&&ke(_e,getPanInfo(De,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(_e){this.handlers=_e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(Ee,_e){return _e?{point:_e(Ee.point)}:Ee}function subtractPoint(Ee,_e){return{x:Ee.x-_e.x,y:Ee.y-_e.y}}function getPanInfo({point:Ee},_e){return{point:Ee,delta:subtractPoint(Ee,lastDevicePoint(_e)),offset:subtractPoint(Ee,startDevicePoint(_e)),velocity:getVelocity(_e,.1)}}function startDevicePoint(Ee){return Ee[0]}function lastDevicePoint(Ee){return Ee[Ee.length-1]}function getVelocity(Ee,_e){if(Ee.length<2)return{x:0,y:0};let Ce=Ee.length-1,Pe=null;const Re=lastDevicePoint(Ee);for(;Ce>=0&&(Pe=Ee[Ce],!(Re.timestamp-Pe.timestamp>secondsToMilliseconds(_e)));)Ce--;if(!Pe)return{x:0,y:0};const Ie=millisecondsToSeconds(Re.timestamp-Pe.timestamp);if(Ie===0)return{x:0,y:0};const Be={x:(Re.x-Pe.x)/Ie,y:(Re.y-Pe.y)/Ie};return Be.x===1/0&&(Be.x=0),Be.y===1/0&&(Be.y=0),Be}function applyConstraints(Ee,{min:_e,max:Ce},Pe){return _e!==void 0&&Ee<_e?Ee=Pe?mixNumber$1(_e,Ee,Pe.min):Math.max(Ee,_e):Ce!==void 0&&Ee>Ce&&(Ee=Pe?mixNumber$1(Ce,Ee,Pe.max):Math.min(Ee,Ce)),Ee}function calcRelativeAxisConstraints(Ee,_e,Ce){return{min:_e!==void 0?Ee.min+_e:void 0,max:Ce!==void 0?Ee.max+Ce-(Ee.max-Ee.min):void 0}}function calcRelativeConstraints(Ee,{top:_e,left:Ce,bottom:Pe,right:Re}){return{x:calcRelativeAxisConstraints(Ee.x,Ce,Re),y:calcRelativeAxisConstraints(Ee.y,_e,Pe)}}function calcViewportAxisConstraints(Ee,_e){let Ce=_e.min-Ee.min,Pe=_e.max-Ee.max;return _e.max-_e.min<Ee.max-Ee.min&&([Ce,Pe]=[Pe,Ce]),{min:Ce,max:Pe}}function calcViewportConstraints(Ee,_e){return{x:calcViewportAxisConstraints(Ee.x,_e.x),y:calcViewportAxisConstraints(Ee.y,_e.y)}}function calcOrigin(Ee,_e){let Ce=.5;const Pe=calcLength(Ee),Re=calcLength(_e);return Re>Pe?Ce=progress(_e.min,_e.max-Pe,Ee.min):Pe>Re&&(Ce=progress(Ee.min,Ee.max-Re,_e.min)),clamp(0,1,Ce)}function rebaseAxisConstraints(Ee,_e){const Ce={};return _e.min!==void 0&&(Ce.min=_e.min-Ee.min),_e.max!==void 0&&(Ce.max=_e.max-Ee.min),Ce}const defaultElastic=.35;function resolveDragElastic(Ee=defaultElastic){return Ee===!1?Ee=0:Ee===!0&&(Ee=defaultElastic),{x:resolveAxisElastic(Ee,"left","right"),y:resolveAxisElastic(Ee,"top","bottom")}}function resolveAxisElastic(Ee,_e,Ce){return{min:resolvePointElastic(Ee,_e),max:resolvePointElastic(Ee,Ce)}}function resolvePointElastic(Ee,_e){return typeof Ee=="number"?Ee:Ee[_e]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(_e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=_e}start(_e,{snapToCursor:Ce=!1,distanceThreshold:Pe}={}){const{presenceContext:Re}=this.visualElement;if(Re&&Re.isPresent===!1)return;const Ie=ke=>{const{dragSnapToOrigin:Me}=this.getProps();Me?this.pauseAnimation():this.stopAnimation(),Ce&&this.snapToCursor(extractEventInfo(ke).point)},Be=(ke,Me)=>{const{drag:$e,dragPropagation:He,onDragStart:Qe}=this.getProps();if($e&&!He&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock($e),!this.openDragLock))return;this.latestPointerEvent=ke,this.latestPanInfo=Me,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(ze=>{let We=this.getAxisMotionValue(ze).get()||0;if(percent.test(We)){const{projection:qe}=this.visualElement;if(qe&&qe.layout){const Ye=qe.layout.layoutBox[ze];Ye&&(We=calcLength(Ye)*(parseFloat(We)/100))}}this.originPoint[ze]=We}),Qe&&frame.postRender(()=>Qe(ke,Me)),addValueToWillChange(this.visualElement,"transform");const{animationState:Ke}=this.visualElement;Ke&&Ke.setActive("whileDrag",!0)},je=(ke,Me)=>{this.latestPointerEvent=ke,this.latestPanInfo=Me;const{dragPropagation:$e,dragDirectionLock:He,onDirectionLock:Qe,onDrag:Ke}=this.getProps();if(!$e&&!this.openDragLock)return;const{offset:ze}=Me;if(He&&this.currentDirection===null){this.currentDirection=getCurrentDirection(ze),this.currentDirection!==null&&Qe&&Qe(this.currentDirection);return}this.updateAxis("x",Me.point,ze),this.updateAxis("y",Me.point,ze),this.visualElement.render(),Ke&&Ke(ke,Me)},De=(ke,Me)=>{this.latestPointerEvent=ke,this.latestPanInfo=Me,this.stop(ke,Me),this.latestPointerEvent=null,this.latestPanInfo=null},Fe=()=>eachAxis(ke=>this.getAnimationState(ke)==="paused"&&this.getAxisMotionValue(ke).animation?.play()),{dragSnapToOrigin:Oe}=this.getProps();this.panSession=new PanSession(_e,{onSessionStart:Ie,onStart:Be,onMove:je,onSessionEnd:De,resumeAnimation:Fe},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Oe,distanceThreshold:Pe,contextWindow:getContextWindow(this.visualElement)})}stop(_e,Ce){const Pe=_e||this.latestPointerEvent,Re=Ce||this.latestPanInfo,Ie=this.isDragging;if(this.cancel(),!Ie||!Re||!Pe)return;const{velocity:Be}=Re;this.startAnimation(Be);const{onDragEnd:je}=this.getProps();je&&frame.postRender(()=>je(Pe,Re))}cancel(){this.isDragging=!1;const{projection:_e,animationState:Ce}=this.visualElement;_e&&(_e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:Pe}=this.getProps();!Pe&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),Ce&&Ce.setActive("whileDrag",!1)}updateAxis(_e,Ce,Pe){const{drag:Re}=this.getProps();if(!Pe||!shouldDrag(_e,Re,this.currentDirection))return;const Ie=this.getAxisMotionValue(_e);let Be=this.originPoint[_e]+Pe[_e];this.constraints&&this.constraints[_e]&&(Be=applyConstraints(Be,this.constraints[_e],this.elastic[_e])),Ie.set(Be)}resolveConstraints(){const{dragConstraints:_e,dragElastic:Ce}=this.getProps(),Pe=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,Re=this.constraints;_e&&isRefObject(_e)?this.constraints||(this.constraints=this.resolveRefConstraints()):_e&&Pe?this.constraints=calcRelativeConstraints(Pe.layoutBox,_e):this.constraints=!1,this.elastic=resolveDragElastic(Ce),Re!==this.constraints&&Pe&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(Ie=>{this.constraints!==!1&&this.getAxisMotionValue(Ie)&&(this.constraints[Ie]=rebaseAxisConstraints(Pe.layoutBox[Ie],this.constraints[Ie]))})}resolveRefConstraints(){const{dragConstraints:_e,onMeasureDragConstraints:Ce}=this.getProps();if(!_e||!isRefObject(_e))return!1;const Pe=_e.current,{projection:Re}=this.visualElement;if(!Re||!Re.layout)return!1;const Ie=measurePageBox(Pe,Re.root,this.visualElement.getTransformPagePoint());let Be=calcViewportConstraints(Re.layout.layoutBox,Ie);if(Ce){const je=Ce(convertBoxToBoundingBox(Be));this.hasMutatedConstraints=!!je,je&&(Be=convertBoundingBoxToBox(je))}return Be}startAnimation(_e){const{drag:Ce,dragMomentum:Pe,dragElastic:Re,dragTransition:Ie,dragSnapToOrigin:Be,onDragTransitionEnd:je}=this.getProps(),De=this.constraints||{},Fe=eachAxis(Oe=>{if(!shouldDrag(Oe,Ce,this.currentDirection))return;let ke=De&&De[Oe]||{};Be&&(ke={min:0,max:0});const Me=Re?200:1e6,$e=Re?40:1e7,He={type:"inertia",velocity:Pe?_e[Oe]:0,bounceStiffness:Me,bounceDamping:$e,timeConstant:750,restDelta:1,restSpeed:10,...Ie,...ke};return this.startAxisValueAnimation(Oe,He)});return Promise.all(Fe).then(je)}startAxisValueAnimation(_e,Ce){const Pe=this.getAxisMotionValue(_e);return addValueToWillChange(this.visualElement,_e),Pe.start(animateMotionValue(_e,Pe,0,Ce,this.visualElement,!1))}stopAnimation(){eachAxis(_e=>this.getAxisMotionValue(_e).stop())}pauseAnimation(){eachAxis(_e=>this.getAxisMotionValue(_e).animation?.pause())}getAnimationState(_e){return this.getAxisMotionValue(_e).animation?.state}getAxisMotionValue(_e){const Ce=`_drag${_e.toUpperCase()}`,Pe=this.visualElement.getProps(),Re=Pe[Ce];return Re||this.visualElement.getValue(_e,(Pe.initial?Pe.initial[_e]:void 0)||0)}snapToCursor(_e){eachAxis(Ce=>{const{drag:Pe}=this.getProps();if(!shouldDrag(Ce,Pe,this.currentDirection))return;const{projection:Re}=this.visualElement,Ie=this.getAxisMotionValue(Ce);if(Re&&Re.layout){const{min:Be,max:je}=Re.layout.layoutBox[Ce];Ie.set(_e[Ce]-mixNumber$1(Be,je,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:_e,dragConstraints:Ce}=this.getProps(),{projection:Pe}=this.visualElement;if(!isRefObject(Ce)||!Pe||!this.constraints)return;this.stopAnimation();const Re={x:0,y:0};eachAxis(Be=>{const je=this.getAxisMotionValue(Be);if(je&&this.constraints!==!1){const De=je.get();Re[Be]=calcOrigin({min:De,max:De},this.constraints[Be])}});const{transformTemplate:Ie}=this.visualElement.getProps();this.visualElement.current.style.transform=Ie?Ie({},""):"none",Pe.root&&Pe.root.updateScroll(),Pe.updateLayout(),this.resolveConstraints(),eachAxis(Be=>{if(!shouldDrag(Be,_e,null))return;const je=this.getAxisMotionValue(Be),{min:De,max:Fe}=this.constraints[Be];je.set(mixNumber$1(De,Fe,Re[Be]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const _e=this.visualElement.current,Ce=addPointerEvent(_e,"pointerdown",De=>{const{drag:Fe,dragListener:Oe=!0}=this.getProps();Fe&&Oe&&this.start(De)}),Pe=()=>{const{dragConstraints:De}=this.getProps();isRefObject(De)&&De.current&&(this.constraints=this.resolveRefConstraints())},{projection:Re}=this.visualElement,Ie=Re.addEventListener("measure",Pe);Re&&!Re.layout&&(Re.root&&Re.root.updateScroll(),Re.updateLayout()),frame.read(Pe);const Be=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),je=Re.addEventListener("didUpdate",({delta:De,hasLayoutChanged:Fe})=>{this.isDragging&&Fe&&(eachAxis(Oe=>{const ke=this.getAxisMotionValue(Oe);ke&&(this.originPoint[Oe]+=De[Oe].translate,ke.set(ke.get()+De[Oe].translate))}),this.visualElement.render())});return()=>{Be(),Ce(),Ie(),je&&je()}}getProps(){const _e=this.visualElement.getProps(),{drag:Ce=!1,dragDirectionLock:Pe=!1,dragPropagation:Re=!1,dragConstraints:Ie=!1,dragElastic:Be=defaultElastic,dragMomentum:je=!0}=_e;return{..._e,drag:Ce,dragDirectionLock:Pe,dragPropagation:Re,dragConstraints:Ie,dragElastic:Be,dragMomentum:je}}}function shouldDrag(Ee,_e,Ce){return(_e===!0||_e===Ee)&&(Ce===null||Ce===Ee)}function getCurrentDirection(Ee,_e=10){let Ce=null;return Math.abs(Ee.y)>_e?Ce="y":Math.abs(Ee.x)>_e&&(Ce="x"),Ce}class DragGesture extends Feature{constructor(_e){super(_e),this.removeGroupControls=noop$a,this.removeListeners=noop$a,this.controls=new VisualElementDragControls(_e)}mount(){const{dragControls:_e}=this.node.getProps();_e&&(this.removeGroupControls=_e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$a}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=Ee=>(_e,Ce)=>{Ee&&frame.postRender(()=>Ee(_e,Ce))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$a}onPointerDown(_e){this.session=new PanSession(_e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:_e,onPanStart:Ce,onPan:Pe,onPanEnd:Re}=this.node.getProps();return{onSessionStart:asyncHandler(_e),onStart:asyncHandler(Ce),onMove:Pe,onEnd:(Ie,Be)=>{delete this.session,Re&&frame.postRender(()=>Re(Ie,Be))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",_e=>this.onPointerDown(_e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(Ee,_e){return _e.max===_e.min?0:Ee/(_e.max-_e.min)*100}const correctBorderRadius={correct:(Ee,_e)=>{if(!_e.target)return Ee;if(typeof Ee=="string")if(px.test(Ee))Ee=parseFloat(Ee);else return Ee;const Ce=pixelsToPercent(Ee,_e.target.x),Pe=pixelsToPercent(Ee,_e.target.y);return`${Ce}% ${Pe}%`}},correctBoxShadow={correct:(Ee,{treeScale:_e,projectionDelta:Ce})=>{const Pe=Ee,Re=complex.parse(Ee);if(Re.length>5)return Pe;const Ie=complex.createTransformer(Ee),Be=typeof Re[0]!="number"?1:0,je=Ce.x.scale*_e.x,De=Ce.y.scale*_e.y;Re[0+Be]/=je,Re[1+Be]/=De;const Fe=mixNumber$1(je,De,.5);return typeof Re[2+Be]=="number"&&(Re[2+Be]/=Fe),typeof Re[3+Be]=="number"&&(Re[3+Be]/=Fe),Ie(Re)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:_e,layoutGroup:Ce,switchLayoutGroup:Pe,layoutId:Re}=this.props,{projection:Ie}=_e;addScaleCorrector(defaultScaleCorrectors),Ie&&(Ce.group&&Ce.group.add(Ie),Pe&&Pe.register&&Re&&Pe.register(Ie),hasTakenAnySnapshot&&Ie.root.didUpdate(),Ie.addEventListener("animationComplete",()=>{this.safeToRemove()}),Ie.setOptions({...Ie.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(_e){const{layoutDependency:Ce,visualElement:Pe,drag:Re,isPresent:Ie}=this.props,{projection:Be}=Pe;return Be&&(Be.isPresent=Ie,hasTakenAnySnapshot=!0,Re||_e.layoutDependency!==Ce||Ce===void 0||_e.isPresent!==Ie?Be.willUpdate():this.safeToRemove(),_e.isPresent!==Ie&&(Ie?Be.promote():Be.relegate()||frame.postRender(()=>{const je=Be.getStack();(!je||!je.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:_e}=this.props.visualElement;_e&&(_e.root.didUpdate(),microtask.postRender(()=>{!_e.currentAnimation&&_e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:_e,layoutGroup:Ce,switchLayoutGroup:Pe}=this.props,{projection:Re}=_e;Re&&(Re.scheduleCheckAfterUnmount(),Ce&&Ce.group&&Ce.group.remove(Re),Pe&&Pe.deregister&&Pe.deregister(Re))}safeToRemove(){const{safeToRemove:_e}=this.props;_e&&_e()}render(){return null}}function MeasureLayout(Ee){const[_e,Ce]=usePresence(),Pe=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...Ee,layoutGroup:Pe,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:_e,safeToRemove:Ce})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(Ee,_e,Ce){const Pe=isMotionValue(Ee)?Ee:motionValue(Ee);return Pe.start(animateMotionValue("",Pe,_e,Ce)),Pe.animation}const compareByDepth=(Ee,_e)=>Ee.depth-_e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(_e){addUniqueItem(this.children,_e),this.isDirty=!0}remove(_e){removeItem(this.children,_e),this.isDirty=!0}forEach(_e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(_e)}}function delay(Ee,_e){const Ce=time$1.now(),Pe=({timestamp:Re})=>{const Ie=Re-Ce;Ie>=_e&&(cancelFrame(Pe),Ee(Ie-_e))};return frame.setup(Pe,!0),()=>cancelFrame(Pe)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=Ee=>typeof Ee=="string"?parseFloat(Ee):Ee,isPx=Ee=>typeof Ee=="number"||px.test(Ee);function mixValues(Ee,_e,Ce,Pe,Re,Ie){Re?(Ee.opacity=mixNumber$1(0,Ce.opacity??1,easeCrossfadeIn(Pe)),Ee.opacityExit=mixNumber$1(_e.opacity??1,0,easeCrossfadeOut(Pe))):Ie&&(Ee.opacity=mixNumber$1(_e.opacity??1,Ce.opacity??1,Pe));for(let Be=0;Be<numBorders;Be++){const je=`border${borders[Be]}Radius`;let De=getRadius(_e,je),Fe=getRadius(Ce,je);if(De===void 0&&Fe===void 0)continue;De||(De=0),Fe||(Fe=0),De===0||Fe===0||isPx(De)===isPx(Fe)?(Ee[je]=Math.max(mixNumber$1(asNumber(De),asNumber(Fe),Pe),0),(percent.test(Fe)||percent.test(De))&&(Ee[je]+="%")):Ee[je]=Fe}(_e.rotate||Ce.rotate)&&(Ee.rotate=mixNumber$1(_e.rotate||0,Ce.rotate||0,Pe))}function getRadius(Ee,_e){return Ee[_e]!==void 0?Ee[_e]:Ee.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$a);function compress(Ee,_e,Ce){return Pe=>Pe<Ee?0:Pe>_e?1:Ce(progress(Ee,_e,Pe))}function copyAxisInto(Ee,_e){Ee.min=_e.min,Ee.max=_e.max}function copyBoxInto(Ee,_e){copyAxisInto(Ee.x,_e.x),copyAxisInto(Ee.y,_e.y)}function copyAxisDeltaInto(Ee,_e){Ee.translate=_e.translate,Ee.scale=_e.scale,Ee.originPoint=_e.originPoint,Ee.origin=_e.origin}function removePointDelta(Ee,_e,Ce,Pe,Re){return Ee-=_e,Ee=scalePoint(Ee,1/Ce,Pe),Re!==void 0&&(Ee=scalePoint(Ee,1/Re,Pe)),Ee}function removeAxisDelta(Ee,_e=0,Ce=1,Pe=.5,Re,Ie=Ee,Be=Ee){if(percent.test(_e)&&(_e=parseFloat(_e),_e=mixNumber$1(Be.min,Be.max,_e/100)-Be.min),typeof _e!="number")return;let je=mixNumber$1(Ie.min,Ie.max,Pe);Ee===Ie&&(je-=_e),Ee.min=removePointDelta(Ee.min,_e,Ce,je,Re),Ee.max=removePointDelta(Ee.max,_e,Ce,je,Re)}function removeAxisTransforms(Ee,_e,[Ce,Pe,Re],Ie,Be){removeAxisDelta(Ee,_e[Ce],_e[Pe],_e[Re],_e.scale,Ie,Be)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(Ee,_e,Ce,Pe){removeAxisTransforms(Ee.x,_e,xKeys,Ce?Ce.x:void 0,Pe?Pe.x:void 0),removeAxisTransforms(Ee.y,_e,yKeys,Ce?Ce.y:void 0,Pe?Pe.y:void 0)}function isAxisDeltaZero(Ee){return Ee.translate===0&&Ee.scale===1}function isDeltaZero(Ee){return isAxisDeltaZero(Ee.x)&&isAxisDeltaZero(Ee.y)}function axisEquals(Ee,_e){return Ee.min===_e.min&&Ee.max===_e.max}function boxEquals(Ee,_e){return axisEquals(Ee.x,_e.x)&&axisEquals(Ee.y,_e.y)}function axisEqualsRounded(Ee,_e){return Math.round(Ee.min)===Math.round(_e.min)&&Math.round(Ee.max)===Math.round(_e.max)}function boxEqualsRounded(Ee,_e){return axisEqualsRounded(Ee.x,_e.x)&&axisEqualsRounded(Ee.y,_e.y)}function aspectRatio(Ee){return calcLength(Ee.x)/calcLength(Ee.y)}function axisDeltaEquals(Ee,_e){return Ee.translate===_e.translate&&Ee.scale===_e.scale&&Ee.originPoint===_e.originPoint}class NodeStack{constructor(){this.members=[]}add(_e){addUniqueItem(this.members,_e),_e.scheduleRender()}remove(_e){if(removeItem(this.members,_e),_e===this.prevLead&&(this.prevLead=void 0),_e===this.lead){const Ce=this.members[this.members.length-1];Ce&&this.promote(Ce)}}relegate(_e){const Ce=this.members.findIndex(Re=>_e===Re);if(Ce===0)return!1;let Pe;for(let Re=Ce;Re>=0;Re--){const Ie=this.members[Re];if(Ie.isPresent!==!1){Pe=Ie;break}}return Pe?(this.promote(Pe),!0):!1}promote(_e,Ce){const Pe=this.lead;if(_e!==Pe&&(this.prevLead=Pe,this.lead=_e,_e.show(),Pe)){Pe.instance&&Pe.scheduleRender(),_e.scheduleRender(),_e.resumeFrom=Pe,Ce&&(_e.resumeFrom.preserveOpacity=!0),Pe.snapshot&&(_e.snapshot=Pe.snapshot,_e.snapshot.latestValues=Pe.animationValues||Pe.latestValues),_e.root&&_e.root.isUpdating&&(_e.isLayoutDirty=!0);const{crossfade:Re}=_e.options;Re===!1&&Pe.hide()}}exitAnimationComplete(){this.members.forEach(_e=>{const{options:Ce,resumingFrom:Pe}=_e;Ce.onExitComplete&&Ce.onExitComplete(),Pe&&Pe.options.onExitComplete&&Pe.options.onExitComplete()})}scheduleRender(){this.members.forEach(_e=>{_e.instance&&_e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(Ee,_e,Ce){let Pe="";const Re=Ee.x.translate/_e.x,Ie=Ee.y.translate/_e.y,Be=Ce?.z||0;if((Re||Ie||Be)&&(Pe=`translate3d(${Re}px, ${Ie}px, ${Be}px) `),(_e.x!==1||_e.y!==1)&&(Pe+=`scale(${1/_e.x}, ${1/_e.y}) `),Ce){const{transformPerspective:Fe,rotate:Oe,rotateX:ke,rotateY:Me,skewX:$e,skewY:He}=Ce;Fe&&(Pe=`perspective(${Fe}px) ${Pe}`),Oe&&(Pe+=`rotate(${Oe}deg) `),ke&&(Pe+=`rotateX(${ke}deg) `),Me&&(Pe+=`rotateY(${Me}deg) `),$e&&(Pe+=`skewX(${$e}deg) `),He&&(Pe+=`skewY(${He}deg) `)}const je=Ee.x.scale*_e.x,De=Ee.y.scale*_e.y;return(je!==1||De!==1)&&(Pe+=`scale(${je}, ${De})`),Pe||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(Ee,_e,Ce,Pe){const{latestValues:Re}=_e;Re[Ee]&&(Ce[Ee]=Re[Ee],_e.setStaticValue(Ee,0),Pe&&(Pe[Ee]=0))}function cancelTreeOptimisedTransformAnimations(Ee){if(Ee.hasCheckedOptimisedAppear=!0,Ee.root===Ee)return;const{visualElement:_e}=Ee.options;if(!_e)return;const Ce=getOptimisedAppearId(_e);if(window.MotionHasOptimisedAnimation(Ce,"transform")){const{layout:Re,layoutId:Ie}=Ee.options;window.MotionCancelOptimisedAnimation(Ce,"transform",frame,!(Re||Ie))}const{parent:Pe}=Ee;Pe&&!Pe.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(Pe)}function createProjectionNode({attachResizeListener:Ee,defaultParent:_e,measureScroll:Ce,checkIsScrollRoot:Pe,resetTransform:Re}){return class{constructor(Be={},je=_e?.()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=Be,this.root=je?je.root||je:this,this.path=je?[...je.path,je]:[],this.parent=je,this.depth=je?je.depth+1:0;for(let De=0;De<this.path.length;De++)this.path[De].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(Be,je){return this.eventHandlers.has(Be)||this.eventHandlers.set(Be,new SubscriptionManager),this.eventHandlers.get(Be).add(je)}notifyListeners(Be,...je){const De=this.eventHandlers.get(Be);De&&De.notify(...je)}hasListeners(Be){return this.eventHandlers.has(Be)}mount(Be){if(this.instance)return;this.isSVG=isSVGElement(Be)&&!isSVGSVGElement(Be),this.instance=Be;const{layoutId:je,layout:De,visualElement:Fe}=this.options;if(Fe&&!Fe.current&&Fe.mount(Be),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(De||je)&&(this.isLayoutDirty=!0),Ee){let Oe,ke=0;const Me=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{ke=window.innerWidth}),Ee(Be,()=>{const $e=window.innerWidth;$e!==ke&&(ke=$e,this.root.updateBlockedByResize=!0,Oe&&Oe(),Oe=delay(Me,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}je&&this.root.registerSharedNode(je,this),this.options.animate!==!1&&Fe&&(je||De)&&this.addEventListener("didUpdate",({delta:Oe,hasLayoutChanged:ke,hasRelativeLayoutChanged:Me,layout:$e})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const He=this.options.transition||Fe.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Qe,onLayoutAnimationComplete:Ke}=Fe.getProps(),ze=!this.targetLayout||!boxEqualsRounded(this.targetLayout,$e),We=!ke&&Me;if(this.options.layoutRoot||this.resumeFrom||We||ke&&(ze||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const qe={...getValueTransition(He,"layout"),onPlay:Qe,onComplete:Ke};(Fe.shouldReduceMotion||this.options.layoutRoot)&&(qe.delay=0,qe.type=!1),this.startAnimation(qe),this.setAnimationOrigin(Oe,We)}else ke||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=$e})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const Be=this.getStack();Be&&Be.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:Be}=this.options;return Be&&Be.getProps().transformTemplate}willUpdate(Be=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Oe=0;Oe<this.path.length;Oe++){const ke=this.path[Oe];ke.shouldResetTransform=!0,ke.updateScroll("snapshot"),ke.options.layoutRoot&&ke.willUpdate(!1)}const{layoutId:je,layout:De}=this.options;if(je===void 0&&!De)return;const Fe=this.getTransformTemplate();this.prevTransformTemplateValue=Fe?Fe(this.latestValues,""):void 0,this.updateSnapshot(),Be&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const je=time$1.now();frameData.delta=clamp(0,1e3/60,je-frameData.timestamp),frameData.timestamp=je,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let De=0;De<this.path.length;De++)this.path[De].updateScroll();const Be=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:je}=this.options;je&&je.notify("LayoutMeasure",this.layout.layoutBox,Be?Be.layoutBox:void 0)}updateScroll(Be="measure"){let je=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===Be&&(je=!1),je&&this.instance){const De=Pe(this.instance);this.scroll={animationId:this.root.animationId,phase:Be,isRoot:De,offset:Ce(this.instance),wasRoot:this.scroll?this.scroll.isRoot:De}}}resetTransform(){if(!Re)return;const Be=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,je=this.projectionDelta&&!isDeltaZero(this.projectionDelta),De=this.getTransformTemplate(),Fe=De?De(this.latestValues,""):void 0,Oe=Fe!==this.prevTransformTemplateValue;Be&&this.instance&&(je||hasTransform(this.latestValues)||Oe)&&(Re(this.instance,Fe),this.shouldResetTransform=!1,this.scheduleRender())}measure(Be=!0){const je=this.measurePageBox();let De=this.removeElementScroll(je);return Be&&(De=this.removeTransform(De)),roundBox(De),{animationId:this.root.animationId,measuredBox:je,layoutBox:De,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:Be}=this.options;if(!Be)return createBox();const je=Be.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:Fe}=this.root;Fe&&(translateAxis(je.x,Fe.offset.x),translateAxis(je.y,Fe.offset.y))}return je}removeElementScroll(Be){const je=createBox();if(copyBoxInto(je,Be),this.scroll?.wasRoot)return je;for(let De=0;De<this.path.length;De++){const Fe=this.path[De],{scroll:Oe,options:ke}=Fe;Fe!==this.root&&Oe&&ke.layoutScroll&&(Oe.wasRoot&&copyBoxInto(je,Be),translateAxis(je.x,Oe.offset.x),translateAxis(je.y,Oe.offset.y))}return je}applyTransform(Be,je=!1){const De=createBox();copyBoxInto(De,Be);for(let Fe=0;Fe<this.path.length;Fe++){const Oe=this.path[Fe];!je&&Oe.options.layoutScroll&&Oe.scroll&&Oe!==Oe.root&&transformBox(De,{x:-Oe.scroll.offset.x,y:-Oe.scroll.offset.y}),hasTransform(Oe.latestValues)&&transformBox(De,Oe.latestValues)}return hasTransform(this.latestValues)&&transformBox(De,this.latestValues),De}removeTransform(Be){const je=createBox();copyBoxInto(je,Be);for(let De=0;De<this.path.length;De++){const Fe=this.path[De];if(!Fe.instance||!hasTransform(Fe.latestValues))continue;hasScale(Fe.latestValues)&&Fe.updateSnapshot();const Oe=createBox(),ke=Fe.measurePageBox();copyBoxInto(Oe,ke),removeBoxTransforms(je,Fe.latestValues,Fe.snapshot?Fe.snapshot.layoutBox:void 0,Oe)}return hasTransform(this.latestValues)&&removeBoxTransforms(je,this.latestValues),je}setTargetDelta(Be){this.targetDelta=Be,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(Be){this.options={...this.options,...Be,crossfade:Be.crossfade!==void 0?Be.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(Be=!1){const je=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=je.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=je.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=je.isSharedProjectionDirty);const De=!!this.resumingFrom||this!==je;if(!(Be||De&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:Oe,layoutId:ke}=this.options;if(!(!this.layout||!(Oe||ke))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const Me=this.getClosestProjectingParent();Me&&Me.layout&&this.animationProgress!==1?(this.relativeParent=Me,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,Me.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const Me=this.getClosestProjectingParent();Me&&!!Me.resumingFrom==!!this.resumingFrom&&!Me.options.layoutScroll&&Me.target&&this.animationProgress!==1?(this.relativeParent=Me,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,Me.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const Be=this.getLead(),je=!!this.resumingFrom||this!==Be;let De=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(De=!1),je&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(De=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(De=!1),De)return;const{layout:Fe,layoutId:Oe}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Fe||Oe))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const ke=this.treeScale.x,Me=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,je),Be.layout&&!Be.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(Be.target=Be.layout.layoutBox,Be.targetWithTransforms=createBox());const{target:$e}=Be;if(!$e){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,$e,this.latestValues),(this.treeScale.x!==ke||this.treeScale.y!==Me||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",$e))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(Be=!0){if(this.options.visualElement?.scheduleRender(),Be){const je=this.getStack();je&&je.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(Be,je=!1){const De=this.snapshot,Fe=De?De.latestValues:{},Oe={...this.latestValues},ke=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!je;const Me=createBox(),$e=De?De.source:void 0,He=this.layout?this.layout.source:void 0,Qe=$e!==He,Ke=this.getStack(),ze=!Ke||Ke.members.length<=1,We=!!(Qe&&!ze&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let qe;this.mixTargetDelta=Ye=>{const Xe=Ye/1e3;mixAxisDelta(ke.x,Be.x,Xe),mixAxisDelta(ke.y,Be.y,Xe),this.setTargetDelta(ke),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(Me,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,Me,Xe),qe&&boxEquals(this.relativeTarget,qe)&&(this.isProjectionDirty=!1),qe||(qe=createBox()),copyBoxInto(qe,this.relativeTarget)),Qe&&(this.animationValues=Oe,mixValues(Oe,Fe,this.latestValues,Xe,We,ze)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Xe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(Be){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...Be,velocity:0,isSync:!0,onUpdate:je=>{this.mixTargetDelta(je),Be.onUpdate&&Be.onUpdate(je)},onStop:()=>{},onComplete:()=>{Be.onComplete&&Be.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const Be=this.getStack();Be&&Be.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const Be=this.getLead();let{targetWithTransforms:je,target:De,layout:Fe,latestValues:Oe}=Be;if(!(!je||!De||!Fe)){if(this!==Be&&this.layout&&Fe&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,Fe.layoutBox)){De=this.target||createBox();const ke=calcLength(this.layout.layoutBox.x);De.x.min=Be.target.x.min,De.x.max=De.x.min+ke;const Me=calcLength(this.layout.layoutBox.y);De.y.min=Be.target.y.min,De.y.max=De.y.min+Me}copyBoxInto(je,De),transformBox(je,Oe),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,je,Oe)}}registerSharedNode(Be,je){this.sharedNodes.has(Be)||this.sharedNodes.set(Be,new NodeStack),this.sharedNodes.get(Be).add(je);const Fe=je.options.initialPromotionConfig;je.promote({transition:Fe?Fe.transition:void 0,preserveFollowOpacity:Fe&&Fe.shouldPreserveFollowOpacity?Fe.shouldPreserveFollowOpacity(je):void 0})}isLead(){const Be=this.getStack();return Be?Be.lead===this:!0}getLead(){const{layoutId:Be}=this.options;return Be?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:Be}=this.options;return Be?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:Be}=this.options;if(Be)return this.root.sharedNodes.get(Be)}promote({needsReset:Be,transition:je,preserveFollowOpacity:De}={}){const Fe=this.getStack();Fe&&Fe.promote(this,De),Be&&(this.projectionDelta=void 0,this.needsReset=!0),je&&this.setOptions({transition:je})}relegate(){const Be=this.getStack();return Be?Be.relegate(this):!1}resetSkewAndRotation(){const{visualElement:Be}=this.options;if(!Be)return;let je=!1;const{latestValues:De}=Be;if((De.z||De.rotate||De.rotateX||De.rotateY||De.rotateZ||De.skewX||De.skewY)&&(je=!0),!je)return;const Fe={};De.z&&resetDistortingTransform("z",Be,Fe,this.animationValues);for(let Oe=0;Oe<transformAxes.length;Oe++)resetDistortingTransform(`rotate${transformAxes[Oe]}`,Be,Fe,this.animationValues),resetDistortingTransform(`skew${transformAxes[Oe]}`,Be,Fe,this.animationValues);Be.render();for(const Oe in Fe)Be.setStaticValue(Oe,Fe[Oe]),this.animationValues&&(this.animationValues[Oe]=Fe[Oe]);Be.scheduleRender()}applyProjectionStyles(Be,je){if(!this.instance||this.isSVG)return;if(!this.isVisible){Be.visibility="hidden";return}const De=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,Be.visibility="",Be.opacity="",Be.pointerEvents=resolveMotionValue(je?.pointerEvents)||"",Be.transform=De?De(this.latestValues,""):"none";return}const Fe=this.getLead();if(!this.projectionDelta||!this.layout||!Fe.target){this.options.layoutId&&(Be.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Be.pointerEvents=resolveMotionValue(je?.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Be.transform=De?De({},""):"none",this.hasProjected=!1);return}Be.visibility="";const Oe=Fe.animationValues||Fe.latestValues;this.applyTransformsToTarget();let ke=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,Oe);De&&(ke=De(Oe,ke)),Be.transform=ke;const{x:Me,y:$e}=this.projectionDelta;Be.transformOrigin=`${Me.origin*100}% ${$e.origin*100}% 0`,Fe.animationValues?Be.opacity=Fe===this?Oe.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:Oe.opacityExit:Be.opacity=Fe===this?Oe.opacity!==void 0?Oe.opacity:"":Oe.opacityExit!==void 0?Oe.opacityExit:0;for(const He in scaleCorrectors){if(Oe[He]===void 0)continue;const{correct:Qe,applyTo:Ke,isCSSVariable:ze}=scaleCorrectors[He],We=ke==="none"?Oe[He]:Qe(Oe[He],Fe);if(Ke){const qe=Ke.length;for(let Ye=0;Ye<qe;Ye++)Be[Ke[Ye]]=We}else ze?this.options.visualElement.renderState.vars[He]=We:Be[He]=We}this.options.layoutId&&(Be.pointerEvents=Fe===this?resolveMotionValue(je?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(Be=>Be.currentAnimation?.stop()),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(Ee){Ee.updateLayout()}function notifyLayoutUpdate(Ee){const _e=Ee.resumeFrom?.snapshot||Ee.snapshot;if(Ee.isLead()&&Ee.layout&&_e&&Ee.hasListeners("didUpdate")){const{layoutBox:Ce,measuredBox:Pe}=Ee.layout,{animationType:Re}=Ee.options,Ie=_e.source!==Ee.layout.source;Re==="size"?eachAxis(Oe=>{const ke=Ie?_e.measuredBox[Oe]:_e.layoutBox[Oe],Me=calcLength(ke);ke.min=Ce[Oe].min,ke.max=ke.min+Me}):shouldAnimatePositionOnly(Re,_e.layoutBox,Ce)&&eachAxis(Oe=>{const ke=Ie?_e.measuredBox[Oe]:_e.layoutBox[Oe],Me=calcLength(Ce[Oe]);ke.max=ke.min+Me,Ee.relativeTarget&&!Ee.currentAnimation&&(Ee.isProjectionDirty=!0,Ee.relativeTarget[Oe].max=Ee.relativeTarget[Oe].min+Me)});const Be=createDelta();calcBoxDelta(Be,Ce,_e.layoutBox);const je=createDelta();Ie?calcBoxDelta(je,Ee.applyTransform(Pe,!0),_e.measuredBox):calcBoxDelta(je,Ce,_e.layoutBox);const De=!isDeltaZero(Be);let Fe=!1;if(!Ee.resumeFrom){const Oe=Ee.getClosestProjectingParent();if(Oe&&!Oe.resumeFrom){const{snapshot:ke,layout:Me}=Oe;if(ke&&Me){const $e=createBox();calcRelativePosition($e,_e.layoutBox,ke.layoutBox);const He=createBox();calcRelativePosition(He,Ce,Me.layoutBox),boxEqualsRounded($e,He)||(Fe=!0),Oe.options.layoutRoot&&(Ee.relativeTarget=He,Ee.relativeTargetOrigin=$e,Ee.relativeParent=Oe)}}}Ee.notifyListeners("didUpdate",{layout:Ce,snapshot:_e,delta:je,layoutDelta:Be,hasLayoutChanged:De,hasRelativeLayoutChanged:Fe})}else if(Ee.isLead()){const{onExitComplete:Ce}=Ee.options;Ce&&Ce()}Ee.options.transition=void 0}function propagateDirtyNodes(Ee){Ee.parent&&(Ee.isProjecting()||(Ee.isProjectionDirty=Ee.parent.isProjectionDirty),Ee.isSharedProjectionDirty||(Ee.isSharedProjectionDirty=!!(Ee.isProjectionDirty||Ee.parent.isProjectionDirty||Ee.parent.isSharedProjectionDirty)),Ee.isTransformDirty||(Ee.isTransformDirty=Ee.parent.isTransformDirty))}function cleanDirtyNodes(Ee){Ee.isProjectionDirty=Ee.isSharedProjectionDirty=Ee.isTransformDirty=!1}function clearSnapshot(Ee){Ee.clearSnapshot()}function clearMeasurements(Ee){Ee.clearMeasurements()}function clearIsLayoutDirty(Ee){Ee.isLayoutDirty=!1}function resetTransformStyle(Ee){const{visualElement:_e}=Ee.options;_e&&_e.getProps().onBeforeLayoutMeasure&&_e.notify("BeforeLayoutMeasure"),Ee.resetTransform()}function finishAnimation(Ee){Ee.finishAnimation(),Ee.targetDelta=Ee.relativeTarget=Ee.target=void 0,Ee.isProjectionDirty=!0}function resolveTargetDelta(Ee){Ee.resolveTargetDelta()}function calcProjection(Ee){Ee.calcProjection()}function resetSkewAndRotation(Ee){Ee.resetSkewAndRotation()}function removeLeadSnapshots(Ee){Ee.removeLeadSnapshot()}function mixAxisDelta(Ee,_e,Ce){Ee.translate=mixNumber$1(_e.translate,0,Ce),Ee.scale=mixNumber$1(_e.scale,1,Ce),Ee.origin=_e.origin,Ee.originPoint=_e.originPoint}function mixAxis(Ee,_e,Ce,Pe){Ee.min=mixNumber$1(_e.min,Ce.min,Pe),Ee.max=mixNumber$1(_e.max,Ce.max,Pe)}function mixBox(Ee,_e,Ce,Pe){mixAxis(Ee.x,_e.x,Ce.x,Pe),mixAxis(Ee.y,_e.y,Ce.y,Pe)}function hasOpacityCrossfade(Ee){return Ee.animationValues&&Ee.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=Ee=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(Ee),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$a;function roundAxis(Ee){Ee.min=roundPoint(Ee.min),Ee.max=roundPoint(Ee.max)}function roundBox(Ee){roundAxis(Ee.x),roundAxis(Ee.y)}function shouldAnimatePositionOnly(Ee,_e,Ce){return Ee==="position"||Ee==="preserve-aspect"&&!isNear(aspectRatio(_e),aspectRatio(Ce),.2)}function checkNodeWasScrollRoot(Ee){return Ee!==Ee.root&&Ee.scroll?.wasRoot}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(Ee,_e)=>addDomEvent(Ee,"resize",_e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:Ee=>({x:Ee.scrollLeft,y:Ee.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const Ee=new DocumentProjectionNode({});Ee.mount(window),Ee.setOptions({layoutScroll:!0}),rootProjectionNode.current=Ee}return rootProjectionNode.current},resetTransform:(Ee,_e)=>{Ee.style.transform=_e!==void 0?_e:"none"},checkIsScrollRoot:Ee=>window.getComputedStyle(Ee).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(Ee,_e,Ce){const{props:Pe}=Ee;Ee.animationState&&Pe.whileHover&&Ee.animationState.setActive("whileHover",Ce==="Start");const Re="onHover"+Ce,Ie=Pe[Re];Ie&&frame.postRender(()=>Ie(_e,extractEventInfo(_e)))}class HoverGesture extends Feature{mount(){const{current:_e}=this.node;_e&&(this.unmount=hover(_e,(Ce,Pe)=>(handleHoverEvent(this.node,Pe,"Start"),Re=>handleHoverEvent(this.node,Re,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let _e=!1;try{_e=this.node.current.matches(":focus-visible")}catch{_e=!0}!_e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(Ee,_e,Ce){const{props:Pe}=Ee;if(Ee.current instanceof HTMLButtonElement&&Ee.current.disabled)return;Ee.animationState&&Pe.whileTap&&Ee.animationState.setActive("whileTap",Ce==="Start");const Re="onTap"+(Ce==="End"?"":Ce),Ie=Pe[Re];Ie&&frame.postRender(()=>Ie(_e,extractEventInfo(_e)))}class PressGesture extends Feature{mount(){const{current:_e}=this.node;_e&&(this.unmount=press(_e,(Ce,Pe)=>(handlePressEvent(this.node,Pe,"Start"),(Re,{success:Ie})=>handlePressEvent(this.node,Re,Ie?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=Ee=>{const _e=observerCallbacks.get(Ee.target);_e&&_e(Ee)},fireAllObserverCallbacks=Ee=>{Ee.forEach(fireObserverCallback)};function initIntersectionObserver({root:Ee,..._e}){const Ce=Ee||document;observers.has(Ce)||observers.set(Ce,{});const Pe=observers.get(Ce),Re=JSON.stringify(_e);return Pe[Re]||(Pe[Re]=new IntersectionObserver(fireAllObserverCallbacks,{root:Ee,..._e})),Pe[Re]}function observeIntersection(Ee,_e,Ce){const Pe=initIntersectionObserver(_e);return observerCallbacks.set(Ee,Ce),Pe.observe(Ee),()=>{observerCallbacks.delete(Ee),Pe.unobserve(Ee)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:_e={}}=this.node.getProps(),{root:Ce,margin:Pe,amount:Re="some",once:Ie}=_e,Be={root:Ce?Ce.current:void 0,rootMargin:Pe,threshold:typeof Re=="number"?Re:thresholdNames[Re]},je=De=>{const{isIntersecting:Fe}=De;if(this.isInView===Fe||(this.isInView=Fe,Ie&&!Fe&&this.hasEnteredView))return;Fe&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",Fe);const{onViewportEnter:Oe,onViewportLeave:ke}=this.node.getProps(),Me=Fe?Oe:ke;Me&&Me(De)};return observeIntersection(this.node.current,Be,je)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:_e,prevProps:Ce}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(_e,Ce))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:Ee={}},{viewport:_e={}}={}){return Ce=>Ee[Ce]!==_e[Ce]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement),ProfileSettings=()=>{const Ee={Retailer:" Retailer",Distributor:" Distributor","Product Owner":" Product Owner"},[_e,Ce]=reactExports.useState({ownerName:"",email:"",phone:"",businessName:"",address:"",logoUrl:"",gstNumber:"",businessType:"Retailer",invoicePreference:"Minimal",whatsappAlerts:!1,profileVersion:0,lastUpdated:"",businessMode:"Online",flypId:""}),[Pe,Re]=reactExports.useState("owner"),Ie=async()=>{if(!$e||!window.confirm("Are you sure you want to generate your unique FLYP ID? This cannot be changed later."))return;const We="FLYP-"+Math.random().toString(36).substring(2,8).toUpperCase(),qe=collection(db$2,"businesses");if(!(await getDocs(query(qe,where("flypId","==",We)))).empty){y$2.error("Try again. FLYP ID already exists.");return}const Xe=doc(db$2,"businesses",$e.uid);await updateDoc(Xe,{flypId:We}),Ce(rr=>({...rr,flypId:We})),y$2.success(" Your FLYP ID has been created!")},[Be,je]=reactExports.useState(null),[De,Fe]=reactExports.useState(null),[Oe,ke]=reactExports.useState(!0),$e=getAuth().currentUser;reactExports.useEffect(()=>{(async()=>{if(!$e)return;const We=doc(db$2,"businesses",$e.uid),qe=await getDoc(We);qe.exists()&&(Ce(Ye=>({...Ye,...qe.data(),ownerName:qe.data().ownerName||""})),qe.data().logoUrl&&Fe(qe.data().logoUrl)),ke(!1)})()},[$e]);const He=ze=>{const{name:We,value:qe}=ze.target;Ce(Ye=>({...Ye,[We]:qe}))},Qe=ze=>{const We=ze.target.files[0];We&&(je(We),Fe(URL.createObjectURL(We)))},Ke=async()=>{if($e)try{let ze={..._e,name:_e.ownerName};if(Be){const qe=ref(storage,`logos/${$e.uid}`);await uploadBytes(qe,Be);const Ye=await getDownloadURL(qe);ze.logoUrl=Ye}ze.profileVersion=(_e.profileVersion||0)+1,ze.lastUpdated=new Date().toISOString();const We=doc(db$2,"businesses",$e.uid);await updateDoc(We,ze),y$2.success("Profile updated successfully!")}catch(ze){console.error("Update failed",ze),y$2.error("Failed to update profile.")}};return Oe?jsxRuntimeExports.jsx("div",{children:"Loading profile..."}):jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto p-8",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 flex items-center gap-2",children:["Profile Settings",jsxRuntimeExports.jsx("span",{title:"Your business role in the system",className:"ml-1 px-2 py-1 rounded-full bg-indigo-100 text-indigo-700 text-xs font-medium",children:Ee[_e.businessType]||" User"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsx("div",{className:"w-1/4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Re("owner"),className:`w-full py-2 px-4 rounded-lg shadow ${Pe==="owner"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Owner Info"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>Re("business"),className:`w-full py-2 px-4 rounded-lg shadow ${Pe==="business"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Business Details"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>Re("branding"),className:`w-full py-2 px-4 rounded-lg shadow ${Pe==="branding"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Branding"})]})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},className:"w-3/4",children:[Pe==="owner"&&jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl border hover:shadow-md transition bg-gray-50 space-y-6",children:[jsxRuntimeExports.jsx("h3",{"data-section":"owner",className:"text-lg font-semibold mb-4",children:"Owner Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Owner Name"}),jsxRuntimeExports.jsx("input",{name:"ownerName",value:_e.ownerName,onChange:He,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Email Address"}),jsxRuntimeExports.jsx("input",{name:"email",value:_e.email,onChange:He,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{name:"phone",value:_e.phone,onChange:He,className:"w-full border px-3 py-2 rounded"})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-indigo-300 bg-indigo-50 p-4",children:[jsxRuntimeExports.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:["FLYP ID",_e.flypId&&jsxRuntimeExports.jsx("span",{className:"text-xs text-indigo-600 font-semibold bg-indigo-100 px-2 py-1 rounded-full",children:" Info"})]}),_e.flypId?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{disabled:!0,value:_e.flypId,className:"w-full border px-3 py-2 rounded bg-gray-100"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-green-600 text-xs font-semibold",children:" FLYP ID Linked"})]}):jsxRuntimeExports.jsx("button",{onClick:Ie,className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-all animate-pulse",children:" Generate My FLYP ID"})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-right",children:jsxRuntimeExports.jsx("button",{onClick:Ke,className:"bg-indigo-600 text-white px-5 py-2 rounded hover:bg-indigo-700 transition",children:" Save Changes"})})]}),Pe==="business"&&jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl border hover:shadow-md transition bg-gray-50 space-y-6",children:[jsxRuntimeExports.jsx("h3",{"data-section":"business",className:"text-lg font-semibold mb-4",children:"Business Details"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Business Name"}),jsxRuntimeExports.jsx("input",{name:"businessName",value:_e.businessName,onChange:He,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Address"}),jsxRuntimeExports.jsx("input",{name:"address",value:_e.address,onChange:He,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"GST Number"}),jsxRuntimeExports.jsx("input",{name:"gstNumber",value:_e.gstNumber,onChange:He,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Business Type"}),jsxRuntimeExports.jsx("input",{name:"businessType",value:_e.businessType,disabled:!0,className:"w-full border px-3 py-2 rounded bg-gray-100 cursor-not-allowed"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Invoice Preference"}),jsxRuntimeExports.jsxs("select",{name:"invoicePreference",value:_e.invoicePreference,onChange:He,className:"w-full border px-3 py-2 rounded",children:[jsxRuntimeExports.jsx("option",{children:"Minimal"}),jsxRuntimeExports.jsx("option",{children:"Detailed"}),jsxRuntimeExports.jsx("option",{children:"Modern"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Business Mode"}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:_e.businessMode==="Online",onChange:ze=>Ce(We=>({...We,businessMode:ze.target.checked?"Online":"Offline"}))}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:bg-green-500 transition-all"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm text-gray-700",children:_e.businessMode})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Enable WhatsApp Notifications"}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:_e.whatsappAlerts,onChange:ze=>Ce(We=>({...We,whatsappAlerts:ze.target.checked}))}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:bg-blue-500 transition-all"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm text-gray-700",children:_e.whatsappAlerts?"Enabled":"Disabled"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-right",children:jsxRuntimeExports.jsx("button",{onClick:Ke,className:"bg-indigo-600 text-white px-5 py-2 rounded hover:bg-indigo-700 transition",children:" Save Changes"})})]}),Pe==="branding"&&jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl border hover:shadow-md transition bg-gray-50 space-y-6",children:[jsxRuntimeExports.jsxs("h3",{"data-section":"branding",className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[" Branding & Metadata",jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"(Customize your brand identity)"})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 font-medium",children:"Business Logo"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Qe,className:"w-full border border-gray-300 rounded-md px-4 py-2 text-sm"}),De&&jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("img",{src:De,alt:"Logo Preview",className:"w-24 h-24 rounded-full ring-2 ring-indigo-500 shadow-md"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Preview of your logo"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[_e.lastUpdated&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[jsxRuntimeExports.jsx("strong",{children:" Last Updated:"})," ",new Date(_e.lastUpdated).toLocaleString()]}),_e.profileVersion>0&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[jsxRuntimeExports.jsx("strong",{children:" Profile Version:"})," ",_e.profileVersion]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-right",children:jsxRuntimeExports.jsx("button",{onClick:Ke,className:"bg-indigo-600 text-white px-5 py-2 rounded hover:bg-indigo-700 transition",children:" Save Changes"})})]})]})]})]},Pe)})]})]})};function autoTableText(Ee,_e,Ce,Pe,Re){Pe=Pe||{};var Ie=1.15,Be=Re.internal.scaleFactor,je=Re.internal.getFontSize()/Be,De=Re.getLineHeightFactor?Re.getLineHeightFactor():Ie,Fe=je*De,Oe=/\r\n|\r|\n/g,ke="",Me=1;if((Pe.valign==="middle"||Pe.valign==="bottom"||Pe.halign==="center"||Pe.halign==="right")&&(ke=typeof Ee=="string"?Ee.split(Oe):Ee,Me=ke.length||1),Ce+=je*(2-Ie),Pe.valign==="middle"?Ce-=Me/2*Fe:Pe.valign==="bottom"&&(Ce-=Me*Fe),Pe.halign==="center"||Pe.halign==="right"){var $e=je;if(Pe.halign==="center"&&($e*=.5),ke&&Me>=1){for(var He=0;He<ke.length;He++)Re.text(ke[He],_e-Re.getStringUnitWidth(ke[He])*$e,Ce),Ce+=Fe;return Re}_e-=Re.getStringUnitWidth(Ee)*$e}return Pe.halign==="justify"?Re.text(Ee,_e,Ce,{maxWidth:Pe.maxWidth||100,align:"justify"}):Re.text(Ee,_e,Ce),Re}var globalDefaults={},DocHandler=function(){function Ee(_e){this.jsPDFDocument=_e,this.userStyles={textColor:_e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:_e.internal.getFontSize(),fontStyle:_e.internal.getFont().fontStyle,font:_e.internal.getFont().fontName,lineWidth:_e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:_e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return Ee.setDefaults=function(_e,Ce){Ce===void 0&&(Ce=null),Ce?Ce.__autoTableDocumentDefaults=_e:globalDefaults=_e},Ee.unifyColor=function(_e){return Array.isArray(_e)?_e:typeof _e=="number"?[_e,_e,_e]:typeof _e=="string"?[_e]:null},Ee.prototype.applyStyles=function(_e,Ce){var Pe,Re,Ie;Ce===void 0&&(Ce=!1),_e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(_e.fontStyle);var Be=this.jsPDFDocument.internal.getFont(),je=Be.fontStyle,De=Be.fontName;if(_e.font&&(De=_e.font),_e.fontStyle){je=_e.fontStyle;var Fe=this.getFontList()[De];Fe&&Fe.indexOf(je)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(Fe[0]),je=Fe[0])}if(this.jsPDFDocument.setFont(De,je),_e.fontSize&&this.jsPDFDocument.setFontSize(_e.fontSize),!Ce){var Oe=Ee.unifyColor(_e.fillColor);Oe&&(Pe=this.jsPDFDocument).setFillColor.apply(Pe,Oe),Oe=Ee.unifyColor(_e.textColor),Oe&&(Re=this.jsPDFDocument).setTextColor.apply(Re,Oe),Oe=Ee.unifyColor(_e.lineColor),Oe&&(Ie=this.jsPDFDocument).setDrawColor.apply(Ie,Oe),typeof _e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(_e.lineWidth)}},Ee.prototype.splitTextToSize=function(_e,Ce,Pe){return this.jsPDFDocument.splitTextToSize(_e,Ce,Pe)},Ee.prototype.rect=function(_e,Ce,Pe,Re,Ie){return this.jsPDFDocument.rect(_e,Ce,Pe,Re,Ie)},Ee.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},Ee.prototype.getTextWidth=function(_e){return this.jsPDFDocument.getTextWidth(_e)},Ee.prototype.getDocument=function(){return this.jsPDFDocument},Ee.prototype.setPage=function(_e){this.jsPDFDocument.setPage(_e)},Ee.prototype.addPage=function(){return this.jsPDFDocument.addPage()},Ee.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},Ee.prototype.getGlobalOptions=function(){return globalDefaults||{}},Ee.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},Ee.prototype.pageSize=function(){var _e=this.jsPDFDocument.internal.pageSize;return _e.width==null&&(_e={width:_e.getWidth(),height:_e.getHeight()}),_e},Ee.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},Ee.prototype.getLineHeightFactor=function(){var _e=this.jsPDFDocument;return _e.getLineHeightFactor?_e.getLineHeightFactor():1.15},Ee.prototype.getLineHeight=function(_e){return _e/this.scaleFactor()*this.getLineHeightFactor()},Ee.prototype.pageNumber=function(){var _e=this.jsPDFDocument.internal.getCurrentPageInfo();return _e?_e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},Ee}(),extendStatics=function(Ee,_e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,Pe){Ce.__proto__=Pe}||function(Ce,Pe){for(var Re in Pe)Object.prototype.hasOwnProperty.call(Pe,Re)&&(Ce[Re]=Pe[Re])},extendStatics(Ee,_e)};function __extends(Ee,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Class extends value "+String(_e)+" is not a constructor or null");extendStatics(Ee,_e);function Ce(){this.constructor=Ee}Ee.prototype=_e===null?Object.create(_e):(Ce.prototype=_e.prototype,new Ce)}typeof SuppressedError=="function"&&SuppressedError;var HtmlRowInput=function(Ee){__extends(_e,Ee);function _e(Ce){var Pe=Ee.call(this)||this;return Pe._element=Ce,Pe}return _e}(Array);function defaultStyles(Ee){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/Ee,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function getTheme(Ee){var _e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return _e[Ee]}function getStringWidth(Ee,_e,Ce){Ce.applyStyles(_e,!0);var Pe=Array.isArray(Ee)?Ee:[Ee],Re=Pe.map(function(Ie){return Ce.getTextWidth(Ie)}).reduce(function(Ie,Be){return Math.max(Ie,Be)},0);return Re}function addTableBorder(Ee,_e,Ce,Pe){var Re=_e.settings.tableLineWidth,Ie=_e.settings.tableLineColor;Ee.applyStyles({lineWidth:Re,lineColor:Ie});var Be=getFillStyle(Re,!1);Be&&Ee.rect(Ce.x,Ce.y,_e.getWidth(Ee.pageSize().width),Pe.y-Ce.y,Be)}function getFillStyle(Ee,_e){var Ce=Ee>0,Pe=_e||_e===0;return Ce&&Pe?"DF":Ce?"S":Pe?"F":null}function parseSpacing(Ee,_e){var Ce,Pe,Re,Ie;if(Ee=Ee||_e,Array.isArray(Ee)){if(Ee.length>=4)return{top:Ee[0],right:Ee[1],bottom:Ee[2],left:Ee[3]};if(Ee.length===3)return{top:Ee[0],right:Ee[1],bottom:Ee[2],left:Ee[1]};if(Ee.length===2)return{top:Ee[0],right:Ee[1],bottom:Ee[0],left:Ee[1]};Ee.length===1?Ee=Ee[0]:Ee=_e}return typeof Ee=="object"?(typeof Ee.vertical=="number"&&(Ee.top=Ee.vertical,Ee.bottom=Ee.vertical),typeof Ee.horizontal=="number"&&(Ee.right=Ee.horizontal,Ee.left=Ee.horizontal),{left:(Ce=Ee.left)!==null&&Ce!==void 0?Ce:_e,top:(Pe=Ee.top)!==null&&Pe!==void 0?Pe:_e,right:(Re=Ee.right)!==null&&Re!==void 0?Re:_e,bottom:(Ie=Ee.bottom)!==null&&Ie!==void 0?Ie:_e}):(typeof Ee!="number"&&(Ee=_e),{top:Ee,right:Ee,bottom:Ee,left:Ee})}function getPageAvailableWidth(Ee,_e){var Ce=parseSpacing(_e.settings.margin,0);return Ee.pageSize().width-(Ce.left+Ce.right)}function parseCss(Ee,_e,Ce,Pe,Re){var Ie={},Be=1.3333333333333333,je=parseColor(_e,function(qe){return Re.getComputedStyle(qe).backgroundColor});je!=null&&(Ie.fillColor=je);var De=parseColor(_e,function(qe){return Re.getComputedStyle(qe).color});De!=null&&(Ie.textColor=De);var Fe=parsePadding(Pe,Ce);Fe&&(Ie.cellPadding=Fe);var Oe="borderTopColor",ke=Be*Ce,Me=Pe.borderTopWidth;if(Pe.borderBottomWidth===Me&&Pe.borderRightWidth===Me&&Pe.borderLeftWidth===Me){var $e=(parseFloat(Me)||0)/ke;$e&&(Ie.lineWidth=$e)}else Ie.lineWidth={top:(parseFloat(Pe.borderTopWidth)||0)/ke,right:(parseFloat(Pe.borderRightWidth)||0)/ke,bottom:(parseFloat(Pe.borderBottomWidth)||0)/ke,left:(parseFloat(Pe.borderLeftWidth)||0)/ke},Ie.lineWidth.top||(Ie.lineWidth.right?Oe="borderRightColor":Ie.lineWidth.bottom?Oe="borderBottomColor":Ie.lineWidth.left&&(Oe="borderLeftColor"));var He=parseColor(_e,function(qe){return Re.getComputedStyle(qe)[Oe]});He!=null&&(Ie.lineColor=He);var Qe=["left","right","center","justify"];Qe.indexOf(Pe.textAlign)!==-1&&(Ie.halign=Pe.textAlign),Qe=["middle","bottom","top"],Qe.indexOf(Pe.verticalAlign)!==-1&&(Ie.valign=Pe.verticalAlign);var Ke=parseInt(Pe.fontSize||"");isNaN(Ke)||(Ie.fontSize=Ke/Be);var ze=parseFontStyle(Pe);ze&&(Ie.fontStyle=ze);var We=(Pe.fontFamily||"").toLowerCase();return Ee.indexOf(We)!==-1&&(Ie.font=We),Ie}function parseFontStyle(Ee){var _e="";return(Ee.fontWeight==="bold"||Ee.fontWeight==="bolder"||parseInt(Ee.fontWeight)>=700)&&(_e="bold"),(Ee.fontStyle==="italic"||Ee.fontStyle==="oblique")&&(_e+="italic"),_e}function parseColor(Ee,_e){var Ce=realColor(Ee,_e);if(!Ce)return null;var Pe=Ce.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!Pe||!Array.isArray(Pe))return null;var Re=[parseInt(Pe[1]),parseInt(Pe[2]),parseInt(Pe[3])],Ie=parseInt(Pe[4]);return Ie===0||isNaN(Re[0])||isNaN(Re[1])||isNaN(Re[2])?null:Re}function realColor(Ee,_e){var Ce=_e(Ee);return Ce==="rgba(0, 0, 0, 0)"||Ce==="transparent"||Ce==="initial"||Ce==="inherit"?Ee.parentElement==null?null:realColor(Ee.parentElement,_e):Ce}function parsePadding(Ee,_e){var Ce=[Ee.paddingTop,Ee.paddingRight,Ee.paddingBottom,Ee.paddingLeft],Pe=96/(72/_e),Re=(parseInt(Ee.lineHeight)-parseInt(Ee.fontSize))/_e/2,Ie=Ce.map(function(je){return parseInt(je||"0")/Pe}),Be=parseSpacing(Ie,0);return Re>Be.top&&(Be.top=Re),Re>Be.bottom&&(Be.bottom=Re),Be}function parseHtml(Ee,_e,Ce,Pe,Re){var Ie,Be;Pe===void 0&&(Pe=!1),Re===void 0&&(Re=!1);var je;typeof _e=="string"?je=Ce.document.querySelector(_e):je=_e;var De=Object.keys(Ee.getFontList()),Fe=Ee.scaleFactor(),Oe=[],ke=[],Me=[];if(!je)return console.error("Html table could not be found with input: ",_e),{head:Oe,body:ke,foot:Me};for(var $e=0;$e<je.rows.length;$e++){var He=je.rows[$e],Qe=(Be=(Ie=He?.parentElement)===null||Ie===void 0?void 0:Ie.tagName)===null||Be===void 0?void 0:Be.toLowerCase(),Ke=parseRowContent(De,Fe,Ce,He,Pe,Re);Ke&&(Qe==="thead"?Oe.push(Ke):Qe==="tfoot"?Me.push(Ke):ke.push(Ke))}return{head:Oe,body:ke,foot:Me}}function parseRowContent(Ee,_e,Ce,Pe,Re,Ie){for(var Be=new HtmlRowInput(Pe),je=0;je<Pe.cells.length;je++){var De=Pe.cells[je],Fe=Ce.getComputedStyle(De);if(Re||Fe.display!=="none"){var Oe=void 0;Ie&&(Oe=parseCss(Ee,De,_e,Fe,Ce)),Be.push({rowSpan:De.rowSpan,colSpan:De.colSpan,styles:Oe,_element:De,content:parseCellContent(De)})}}var ke=Ce.getComputedStyle(Pe);if(Be.length>0&&(Re||ke.display!=="none"))return Be}function parseCellContent(Ee){var _e=Ee.cloneNode(!0);return _e.innerHTML=_e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),_e.innerHTML=_e.innerHTML.split(/<br.*?>/).map(function(Ce){return Ce.trim()}).join(`
`),_e.innerText||_e.textContent||""}function validateInput(Ee,_e,Ce){for(var Pe=0,Re=[Ee,_e,Ce];Pe<Re.length;Pe++){var Ie=Re[Pe];Ie&&typeof Ie!="object"&&console.error("The options parameter should be of type object, is: "+typeof Ie),Ie.startY&&typeof Ie.startY!="number"&&(console.error("Invalid value for startY option",Ie.startY),delete Ie.startY)}}function assign$1(Ee,_e,Ce,Pe,Re){if(Ee==null)throw new TypeError("Cannot convert undefined or null to object");for(var Ie=Object(Ee),Be=1;Be<arguments.length;Be++){var je=arguments[Be];if(je!=null)for(var De in je)Object.prototype.hasOwnProperty.call(je,De)&&(Ie[De]=je[De])}return Ie}function parseInput(Ee,_e){var Ce=new DocHandler(Ee),Pe=Ce.getDocumentOptions(),Re=Ce.getGlobalOptions();validateInput(Re,Pe,_e);var Ie=assign$1({},Re,Pe,_e),Be;typeof window<"u"&&(Be=window);var je=parseStyles(Re,Pe,_e),De=parseHooks(Re,Pe,_e),Fe=parseSettings(Ce,Ie),Oe=parseContent$1(Ce,Ie,Be);return{id:_e.tableId,content:Oe,hooks:De,styles:je,settings:Fe}}function parseStyles(Ee,_e,Ce){for(var Pe={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},Re=function(De){if(De==="columnStyles"){var Fe=Ee[De],Oe=_e[De],ke=Ce[De];Pe.columnStyles=assign$1({},Fe,Oe,ke)}else{var Me=[Ee,_e,Ce],$e=Me.map(function(He){return He[De]||{}});Pe[De]=assign$1({},$e[0],$e[1],$e[2])}},Ie=0,Be=Object.keys(Pe);Ie<Be.length;Ie++){var je=Be[Ie];Re(je)}return Pe}function parseHooks(Ee,_e,Ce){for(var Pe=[Ee,_e,Ce],Re={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},Ie=0,Be=Pe;Ie<Be.length;Ie++){var je=Be[Ie];je.didParseCell&&Re.didParseCell.push(je.didParseCell),je.willDrawCell&&Re.willDrawCell.push(je.willDrawCell),je.didDrawCell&&Re.didDrawCell.push(je.didDrawCell),je.willDrawPage&&Re.willDrawPage.push(je.willDrawPage),je.didDrawPage&&Re.didDrawPage.push(je.didDrawPage)}return Re}function parseSettings(Ee,_e){var Ce,Pe,Re,Ie,Be,je,De,Fe,Oe,ke,Me,$e,He=parseSpacing(_e.margin,40/Ee.scaleFactor()),Qe=(Ce=getStartY(Ee,_e.startY))!==null&&Ce!==void 0?Ce:He.top,Ke;_e.showFoot===!0?Ke="everyPage":_e.showFoot===!1?Ke="never":Ke=(Pe=_e.showFoot)!==null&&Pe!==void 0?Pe:"everyPage";var ze;_e.showHead===!0?ze="everyPage":_e.showHead===!1?ze="never":ze=(Re=_e.showHead)!==null&&Re!==void 0?Re:"everyPage";var We=(Ie=_e.useCss)!==null&&Ie!==void 0?Ie:!1,qe=_e.theme||(We?"plain":"striped"),Ye=!!_e.horizontalPageBreak,Xe=(Be=_e.horizontalPageBreakRepeat)!==null&&Be!==void 0?Be:null;return{includeHiddenHtml:(je=_e.includeHiddenHtml)!==null&&je!==void 0?je:!1,useCss:We,theme:qe,startY:Qe,margin:He,pageBreak:(De=_e.pageBreak)!==null&&De!==void 0?De:"auto",rowPageBreak:(Fe=_e.rowPageBreak)!==null&&Fe!==void 0?Fe:"auto",tableWidth:(Oe=_e.tableWidth)!==null&&Oe!==void 0?Oe:"auto",showHead:ze,showFoot:Ke,tableLineWidth:(ke=_e.tableLineWidth)!==null&&ke!==void 0?ke:0,tableLineColor:(Me=_e.tableLineColor)!==null&&Me!==void 0?Me:200,horizontalPageBreak:Ye,horizontalPageBreakRepeat:Xe,horizontalPageBreakBehaviour:($e=_e.horizontalPageBreakBehaviour)!==null&&$e!==void 0?$e:"afterAllRows"}}function getStartY(Ee,_e){var Ce=Ee.getLastAutoTable(),Pe=Ee.scaleFactor(),Re=Ee.pageNumber(),Ie=!1;if(Ce&&Ce.startPageNumber){var Be=Ce.startPageNumber+Ce.pageNumber-1;Ie=Be===Re}return typeof _e=="number"?_e:(_e==null||_e===!1)&&Ie&&Ce?.finalY!=null?Ce.finalY+20/Pe:null}function parseContent$1(Ee,_e,Ce){var Pe=_e.head||[],Re=_e.body||[],Ie=_e.foot||[];if(_e.html){var Be=_e.includeHiddenHtml;if(Ce){var je=parseHtml(Ee,_e.html,Ce,Be,_e.useCss)||{};Pe=je.head||Pe,Re=je.body||Pe,Ie=je.foot||Pe}else console.error("Cannot parse html in non browser environment")}var De=_e.columns||parseColumns(Pe,Re,Ie);return{columns:De,head:Pe,body:Re,foot:Ie}}function parseColumns(Ee,_e,Ce){var Pe=Ee[0]||_e[0]||Ce[0]||[],Re=[];return Object.keys(Pe).filter(function(Ie){return Ie!=="_element"}).forEach(function(Ie){var Be=1,je;Array.isArray(Pe)?je=Pe[parseInt(Ie)]:je=Pe[Ie],typeof je=="object"&&!Array.isArray(je)&&(Be=je?.colSpan||1);for(var De=0;De<Be;De++){var Fe=void 0;Array.isArray(Pe)?Fe=Re.length:Fe=Ie+(De>0?"_".concat(De):"");var Oe={dataKey:Fe};Re.push(Oe)}}),Re}var HookData=function(){function Ee(_e,Ce,Pe){this.table=Ce,this.pageNumber=Ce.pageNumber,this.settings=Ce.settings,this.cursor=Pe,this.doc=_e.getDocument()}return Ee}(),CellHookData=function(Ee){__extends(_e,Ee);function _e(Ce,Pe,Re,Ie,Be,je){var De=Ee.call(this,Ce,Pe,je)||this;return De.cell=Re,De.row=Ie,De.column=Be,De.section=Ie.section,De}return _e}(HookData),Table=function(){function Ee(_e,Ce){this.pageNumber=1,this.id=_e.id,this.settings=_e.settings,this.styles=_e.styles,this.hooks=_e.hooks,this.columns=Ce.columns,this.head=Ce.head,this.body=Ce.body,this.foot=Ce.foot}return Ee.prototype.getHeadHeight=function(_e){return this.head.reduce(function(Ce,Pe){return Ce+Pe.getMaxCellHeight(_e)},0)},Ee.prototype.getFootHeight=function(_e){return this.foot.reduce(function(Ce,Pe){return Ce+Pe.getMaxCellHeight(_e)},0)},Ee.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},Ee.prototype.callCellHooks=function(_e,Ce,Pe,Re,Ie,Be){for(var je=0,De=Ce;je<De.length;je++){var Fe=De[je],Oe=new CellHookData(_e,this,Pe,Re,Ie,Be),ke=Fe(Oe)===!1;if(Pe.text=Array.isArray(Pe.text)?Pe.text:[Pe.text],ke)return!1}return!0},Ee.prototype.callEndPageHooks=function(_e,Ce){_e.applyStyles(_e.userStyles);for(var Pe=0,Re=this.hooks.didDrawPage;Pe<Re.length;Pe++){var Ie=Re[Pe];Ie(new HookData(_e,this,Ce))}},Ee.prototype.callWillDrawPageHooks=function(_e,Ce){for(var Pe=0,Re=this.hooks.willDrawPage;Pe<Re.length;Pe++){var Ie=Re[Pe];Ie(new HookData(_e,this,Ce))}},Ee.prototype.getWidth=function(_e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var Ce=this.columns.reduce(function(Re,Ie){return Re+Ie.wrappedWidth},0);return Ce}else{var Pe=this.settings.margin;return _e-Pe.left-Pe.right}},Ee}(),Row=function(){function Ee(_e,Ce,Pe,Re,Ie){Ie===void 0&&(Ie=!1),this.height=0,this.raw=_e,_e instanceof HtmlRowInput&&(this.raw=_e._element,this.element=_e._element),this.index=Ce,this.section=Pe,this.cells=Re,this.spansMultiplePages=Ie}return Ee.prototype.getMaxCellHeight=function(_e){var Ce=this;return _e.reduce(function(Pe,Re){var Ie;return Math.max(Pe,((Ie=Ce.cells[Re.index])===null||Ie===void 0?void 0:Ie.height)||0)},0)},Ee.prototype.hasRowSpan=function(_e){var Ce=this;return _e.filter(function(Pe){var Re=Ce.cells[Pe.index];return Re?Re.rowSpan>1:!1}).length>0},Ee.prototype.canEntireRowFit=function(_e,Ce){return this.getMaxCellHeight(Ce)<=_e},Ee.prototype.getMinimumRowHeight=function(_e,Ce){var Pe=this;return _e.reduce(function(Re,Ie){var Be=Pe.cells[Ie.index];if(!Be)return 0;var je=Ce.getLineHeight(Be.styles.fontSize),De=Be.padding("vertical"),Fe=De+je;return Fe>Re?Fe:Re},0)},Ee}(),Cell$1=function(){function Ee(_e,Ce,Pe){var Re;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=Ce,this.section=Pe,this.raw=_e;var Ie=_e;_e!=null&&typeof _e=="object"&&!Array.isArray(_e)?(this.rowSpan=_e.rowSpan||1,this.colSpan=_e.colSpan||1,Ie=(Re=_e.content)!==null&&Re!==void 0?Re:_e,_e._element&&(this.raw=_e._element)):(this.rowSpan=1,this.colSpan=1);var Be=Ie!=null?""+Ie:"",je=/\r\n|\r|\n/g;this.text=Be.split(je)}return Ee.prototype.getTextPos=function(){var _e;if(this.styles.valign==="top")_e=this.y+this.padding("top");else if(this.styles.valign==="bottom")_e=this.y+this.height-this.padding("bottom");else{var Ce=this.height-this.padding("vertical");_e=this.y+Ce/2+this.padding("top")}var Pe;if(this.styles.halign==="right")Pe=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var Re=this.width-this.padding("horizontal");Pe=this.x+Re/2+this.padding("left")}else Pe=this.x+this.padding("left");return{x:Pe,y:_e}},Ee.prototype.getContentHeight=function(_e,Ce){Ce===void 0&&(Ce=1.15);var Pe=Array.isArray(this.text)?this.text.length:1,Re=this.styles.fontSize/_e*Ce,Ie=Pe*Re+this.padding("vertical");return Math.max(Ie,this.styles.minCellHeight)},Ee.prototype.padding=function(_e){var Ce=parseSpacing(this.styles.cellPadding,0);return _e==="vertical"?Ce.top+Ce.bottom:_e==="horizontal"?Ce.left+Ce.right:Ce[_e]},Ee}(),Column=function(){function Ee(_e,Ce,Pe){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=_e,this.raw=Ce,this.index=Pe}return Ee.prototype.getMaxCustomCellWidth=function(_e){for(var Ce=0,Pe=0,Re=_e.allRows();Pe<Re.length;Pe++){var Ie=Re[Pe],Be=Ie.cells[this.index];Be&&typeof Be.styles.cellWidth=="number"&&(Ce=Math.max(Ce,Be.styles.cellWidth))}return Ce},Ee}();function calculateWidths(Ee,_e){calculate(Ee,_e);var Ce=[],Pe=0;_e.columns.forEach(function(Ie){var Be=Ie.getMaxCustomCellWidth(_e);Be?Ie.width=Be:(Ie.width=Ie.wrappedWidth,Ce.push(Ie)),Pe+=Ie.width});var Re=_e.getWidth(Ee.pageSize().width)-Pe;Re&&(Re=resizeColumns(Ce,Re,function(Ie){return Math.max(Ie.minReadableWidth,Ie.minWidth)})),Re&&(Re=resizeColumns(Ce,Re,function(Ie){return Ie.minWidth})),Re=Math.abs(Re),!_e.settings.horizontalPageBreak&&Re>.1/Ee.scaleFactor()&&(Re=Re<1?Re:Math.round(Re),console.warn("Of the table content, ".concat(Re," units width could not fit page"))),applyColSpans(_e),fitContent(_e,Ee),applyRowSpans(_e)}function calculate(Ee,_e){var Ce=Ee.scaleFactor(),Pe=_e.settings.horizontalPageBreak,Re=getPageAvailableWidth(Ee,_e);_e.allRows().forEach(function(Ie){for(var Be=0,je=_e.columns;Be<je.length;Be++){var De=je[Be],Fe=Ie.cells[De.index];if(Fe){var Oe=_e.hooks.didParseCell;_e.callCellHooks(Ee,Oe,Fe,Ie,De,null);var ke=Fe.padding("horizontal");Fe.contentWidth=getStringWidth(Fe.text,Fe.styles,Ee)+ke;var Me=getStringWidth(Fe.text.join(" ").split(/[^\S\u00A0]+/),Fe.styles,Ee);if(Fe.minReadableWidth=Me+Fe.padding("horizontal"),typeof Fe.styles.cellWidth=="number")Fe.minWidth=Fe.styles.cellWidth,Fe.wrappedWidth=Fe.styles.cellWidth;else if(Fe.styles.cellWidth==="wrap"||Pe===!0)Fe.contentWidth>Re?(Fe.minWidth=Re,Fe.wrappedWidth=Re):(Fe.minWidth=Fe.contentWidth,Fe.wrappedWidth=Fe.contentWidth);else{var $e=10/Ce;Fe.minWidth=Fe.styles.minCellWidth||$e,Fe.wrappedWidth=Fe.contentWidth,Fe.minWidth>Fe.wrappedWidth&&(Fe.wrappedWidth=Fe.minWidth)}}}}),_e.allRows().forEach(function(Ie){for(var Be=0,je=_e.columns;Be<je.length;Be++){var De=je[Be],Fe=Ie.cells[De.index];if(Fe&&Fe.colSpan===1)De.wrappedWidth=Math.max(De.wrappedWidth,Fe.wrappedWidth),De.minWidth=Math.max(De.minWidth,Fe.minWidth),De.minReadableWidth=Math.max(De.minReadableWidth,Fe.minReadableWidth);else{var Oe=_e.styles.columnStyles[De.dataKey]||_e.styles.columnStyles[De.index]||{},ke=Oe.cellWidth||Oe.minCellWidth;ke&&typeof ke=="number"&&(De.minWidth=ke,De.wrappedWidth=ke)}Fe&&(Fe.colSpan>1&&!De.minWidth&&(De.minWidth=Fe.minWidth),Fe.colSpan>1&&!De.wrappedWidth&&(De.wrappedWidth=Fe.minWidth))}})}function resizeColumns(Ee,_e,Ce){for(var Pe=_e,Re=Ee.reduce(function($e,He){return $e+He.wrappedWidth},0),Ie=0;Ie<Ee.length;Ie++){var Be=Ee[Ie],je=Be.wrappedWidth/Re,De=Pe*je,Fe=Be.width+De,Oe=Ce(Be),ke=Fe<Oe?Oe:Fe;_e-=ke-Be.width,Be.width=ke}if(_e=Math.round(_e*1e10)/1e10,_e){var Me=Ee.filter(function($e){return _e<0?$e.width>Ce($e):!0});Me.length&&(_e=resizeColumns(Me,_e,Ce))}return _e}function applyRowSpans(Ee){for(var _e={},Ce=1,Pe=Ee.allRows(),Re=0;Re<Pe.length;Re++)for(var Ie=Pe[Re],Be=0,je=Ee.columns;Be<je.length;Be++){var De=je[Be],Fe=_e[De.index];if(Ce>1)Ce--,delete Ie.cells[De.index];else if(Fe)Fe.cell.height+=Ie.height,Ce=Fe.cell.colSpan,delete Ie.cells[De.index],Fe.left--,Fe.left<=1&&delete _e[De.index];else{var Oe=Ie.cells[De.index];if(!Oe)continue;if(Oe.height=Ie.height,Oe.rowSpan>1){var ke=Pe.length-Re,Me=Oe.rowSpan>ke?ke:Oe.rowSpan;_e[De.index]={cell:Oe,left:Me,row:Ie}}}}}function applyColSpans(Ee){for(var _e=Ee.allRows(),Ce=0;Ce<_e.length;Ce++)for(var Pe=_e[Ce],Re=null,Ie=0,Be=0,je=0;je<Ee.columns.length;je++){var De=Ee.columns[je];if(Be-=1,Be>1&&Ee.columns[je+1])Ie+=De.width,delete Pe.cells[De.index];else if(Re){var Fe=Re;delete Pe.cells[De.index],Re=null,Fe.width=De.width+Ie}else{var Fe=Pe.cells[De.index];if(!Fe)continue;if(Be=Fe.colSpan,Ie=0,Fe.colSpan>1){Re=Fe,Ie+=De.width;continue}Fe.width=De.width+Ie}}}function fitContent(Ee,_e){for(var Ce={count:0,height:0},Pe=0,Re=Ee.allRows();Pe<Re.length;Pe++){for(var Ie=Re[Pe],Be=0,je=Ee.columns;Be<je.length;Be++){var De=je[Be],Fe=Ie.cells[De.index];if(Fe){_e.applyStyles(Fe.styles,!0);var Oe=Fe.width-Fe.padding("horizontal");if(Fe.styles.overflow==="linebreak")Fe.text=_e.splitTextToSize(Fe.text,Oe+1/_e.scaleFactor(),{fontSize:Fe.styles.fontSize});else if(Fe.styles.overflow==="ellipsize")Fe.text=ellipsize(Fe.text,Oe,Fe.styles,_e,"...");else if(Fe.styles.overflow==="hidden")Fe.text=ellipsize(Fe.text,Oe,Fe.styles,_e,"");else if(typeof Fe.styles.overflow=="function"){var ke=Fe.styles.overflow(Fe.text,Oe);typeof ke=="string"?Fe.text=[ke]:Fe.text=ke}Fe.contentHeight=Fe.getContentHeight(_e.scaleFactor(),_e.getLineHeightFactor());var Me=Fe.contentHeight/Fe.rowSpan;Fe.rowSpan>1&&Ce.count*Ce.height<Me*Fe.rowSpan?Ce={height:Me,count:Fe.rowSpan}:Ce&&Ce.count>0&&Ce.height>Me&&(Me=Ce.height),Me>Ie.height&&(Ie.height=Me)}}Ce.count--}}function ellipsize(Ee,_e,Ce,Pe,Re){return Ee.map(function(Ie){return ellipsizeStr(Ie,_e,Ce,Pe,Re)})}function ellipsizeStr(Ee,_e,Ce,Pe,Re){var Ie=1e4*Pe.scaleFactor();if(_e=Math.ceil(_e*Ie)/Ie,_e>=getStringWidth(Ee,Ce,Pe))return Ee;for(;_e<getStringWidth(Ee+Re,Ce,Pe)&&!(Ee.length<=1);)Ee=Ee.substring(0,Ee.length-1);return Ee.trim()+Re}function createTable(Ee,_e){var Ce=new DocHandler(Ee),Pe=parseContent(_e,Ce.scaleFactor()),Re=new Table(_e,Pe);return calculateWidths(Ce,Re),Ce.applyStyles(Ce.userStyles),Re}function parseContent(Ee,_e){var Ce=Ee.content,Pe=createColumns(Ce.columns);if(Ce.head.length===0){var Re=generateSectionRow(Pe,"head");Re&&Ce.head.push(Re)}if(Ce.foot.length===0){var Re=generateSectionRow(Pe,"foot");Re&&Ce.foot.push(Re)}var Ie=Ee.settings.theme,Be=Ee.styles;return{columns:Pe,head:parseSection("head",Ce.head,Pe,Be,Ie,_e),body:parseSection("body",Ce.body,Pe,Be,Ie,_e),foot:parseSection("foot",Ce.foot,Pe,Be,Ie,_e)}}function parseSection(Ee,_e,Ce,Pe,Re,Ie){var Be={},je=_e.map(function(De,Fe){for(var Oe=0,ke={},Me=0,$e=0,He=0,Qe=Ce;He<Qe.length;He++){var Ke=Qe[He];if(Be[Ke.index]==null||Be[Ke.index].left===0)if($e===0){var ze=void 0;Array.isArray(De)?ze=De[Ke.index-Me-Oe]:ze=De[Ke.dataKey];var We={};typeof ze=="object"&&!Array.isArray(ze)&&(We=ze?.styles||{});var qe=cellStyles(Ee,Ke,Fe,Re,Pe,Ie,We),Ye=new Cell$1(ze,qe,Ee);ke[Ke.dataKey]=Ye,ke[Ke.index]=Ye,$e=Ye.colSpan-1,Be[Ke.index]={left:Ye.rowSpan-1,times:$e}}else $e--,Me++;else Be[Ke.index].left--,$e=Be[Ke.index].times,Oe++}return new Row(De,Fe,Ee,ke)});return je}function generateSectionRow(Ee,_e){var Ce={};return Ee.forEach(function(Pe){if(Pe.raw!=null){var Re=getSectionTitle(_e,Pe.raw);Re!=null&&(Ce[Pe.dataKey]=Re)}}),Object.keys(Ce).length>0?Ce:null}function getSectionTitle(Ee,_e){if(Ee==="head"){if(typeof _e=="object")return _e.header||null;if(typeof _e=="string"||typeof _e=="number")return _e}else if(Ee==="foot"&&typeof _e=="object")return _e.footer;return null}function createColumns(Ee){return Ee.map(function(_e,Ce){var Pe,Re;return typeof _e=="object"?Re=(Pe=_e.dataKey)!==null&&Pe!==void 0?Pe:Ce:Re=Ce,new Column(Re,_e,Ce)})}function cellStyles(Ee,_e,Ce,Pe,Re,Ie,Be){var je=getTheme(Pe),De;Ee==="head"?De=Re.headStyles:Ee==="body"?De=Re.bodyStyles:Ee==="foot"&&(De=Re.footStyles);var Fe=assign$1({},je.table,je[Ee],Re.styles,De),Oe=Re.columnStyles[_e.dataKey]||Re.columnStyles[_e.index]||{},ke=Ee==="body"?Oe:{},Me=Ee==="body"&&Ce%2===0?assign$1({},je.alternateRow,Re.alternateRowStyles):{},$e=defaultStyles(Ie),He=assign$1({},$e,Fe,Me,ke);return assign$1(He,Be)}function getColumnsCanFitInPage(Ee,_e,Ce){var Pe;Ce===void 0&&(Ce={});var Re=getPageAvailableWidth(Ee,_e),Ie=new Map,Be=[],je=[],De=[];Array.isArray(_e.settings.horizontalPageBreakRepeat)?De=_e.settings.horizontalPageBreakRepeat:(typeof _e.settings.horizontalPageBreakRepeat=="string"||typeof _e.settings.horizontalPageBreakRepeat=="number")&&(De=[_e.settings.horizontalPageBreakRepeat]),De.forEach(function(Me){var $e=_e.columns.find(function(He){return He.dataKey===Me||He.index===Me});$e&&!Ie.has($e.index)&&(Ie.set($e.index,!0),Be.push($e.index),je.push(_e.columns[$e.index]),Re-=$e.wrappedWidth)});for(var Fe=!0,Oe=(Pe=Ce?.start)!==null&&Pe!==void 0?Pe:0;Oe<_e.columns.length;){if(Ie.has(Oe)){Oe++;continue}var ke=_e.columns[Oe].wrappedWidth;if(Fe||Re>=ke)Fe=!1,Be.push(Oe),je.push(_e.columns[Oe]),Re-=ke;else break;Oe++}return{colIndexes:Be,columns:je,lastIndex:Oe-1}}function calculateAllColumnsCanFitInPage(Ee,_e){for(var Ce=[],Pe=0;Pe<_e.columns.length;Pe++){var Re=getColumnsCanFitInPage(Ee,_e,{start:Pe});Re.columns.length&&(Ce.push(Re),Pe=Re.lastIndex)}return Ce}function drawTable(Ee,_e){var Ce=_e.settings,Pe=Ce.startY,Re=Ce.margin,Ie={x:Re.left,y:Pe},Be=_e.getHeadHeight(_e.columns)+_e.getFootHeight(_e.columns),je=Pe+Re.bottom+Be;if(Ce.pageBreak==="avoid"){var De=_e.body,Fe=De.reduce(function(Me,$e){return Me+$e.height},0);je+=Fe}var Oe=new DocHandler(Ee);(Ce.pageBreak==="always"||Ce.startY!=null&&je>Oe.pageSize().height)&&(nextPage(Oe),Ie.y=Re.top),_e.callWillDrawPageHooks(Oe,Ie);var ke=assign$1({},Ie);_e.startPageNumber=Oe.pageNumber(),Ce.horizontalPageBreak?printTableWithHorizontalPageBreak(Oe,_e,ke,Ie):(Oe.applyStyles(Oe.userStyles),(Ce.showHead==="firstPage"||Ce.showHead==="everyPage")&&_e.head.forEach(function(Me){return printRow(Oe,_e,Me,Ie,_e.columns)}),Oe.applyStyles(Oe.userStyles),_e.body.forEach(function(Me,$e){var He=$e===_e.body.length-1;printFullRow(Oe,_e,Me,He,ke,Ie,_e.columns)}),Oe.applyStyles(Oe.userStyles),(Ce.showFoot==="lastPage"||Ce.showFoot==="everyPage")&&_e.foot.forEach(function(Me){return printRow(Oe,_e,Me,Ie,_e.columns)})),addTableBorder(Oe,_e,ke,Ie),_e.callEndPageHooks(Oe,Ie),_e.finalY=Ie.y,Ee.lastAutoTable=_e,Oe.applyStyles(Oe.userStyles)}function printTableWithHorizontalPageBreak(Ee,_e,Ce,Pe){var Re=calculateAllColumnsCanFitInPage(Ee,_e),Ie=_e.settings;if(Ie.horizontalPageBreakBehaviour==="afterAllRows")Re.forEach(function(Fe,Oe){Ee.applyStyles(Ee.userStyles),Oe>0?addPage(Ee,_e,Ce,Pe,Fe.columns,!0):printHead(Ee,_e,Pe,Fe.columns),printBody(Ee,_e,Ce,Pe,Fe.columns),printFoot(Ee,_e,Pe,Fe.columns)});else for(var Be=-1,je=Re[0],De=function(){var Fe=Be;if(je){Ee.applyStyles(Ee.userStyles);var Oe=je.columns;Be>=0?addPage(Ee,_e,Ce,Pe,Oe,!0):printHead(Ee,_e,Pe,Oe),Fe=printBodyWithoutPageBreaks(Ee,_e,Be+1,Pe,Oe),printFoot(Ee,_e,Pe,Oe)}var ke=Fe-Be;Re.slice(1).forEach(function(Me){Ee.applyStyles(Ee.userStyles),addPage(Ee,_e,Ce,Pe,Me.columns,!0),printBodyWithoutPageBreaks(Ee,_e,Be+1,Pe,Me.columns,ke),printFoot(Ee,_e,Pe,Me.columns)}),Be=Fe};Be<_e.body.length-1;)De()}function printHead(Ee,_e,Ce,Pe){var Re=_e.settings;Ee.applyStyles(Ee.userStyles),(Re.showHead==="firstPage"||Re.showHead==="everyPage")&&_e.head.forEach(function(Ie){return printRow(Ee,_e,Ie,Ce,Pe)})}function printBody(Ee,_e,Ce,Pe,Re){Ee.applyStyles(Ee.userStyles),_e.body.forEach(function(Ie,Be){var je=Be===_e.body.length-1;printFullRow(Ee,_e,Ie,je,Ce,Pe,Re)})}function printBodyWithoutPageBreaks(Ee,_e,Ce,Pe,Re,Ie){Ee.applyStyles(Ee.userStyles),Ie=Ie??_e.body.length;var Be=Math.min(Ce+Ie,_e.body.length),je=-1;return _e.body.slice(Ce,Be).forEach(function(De,Fe){var Oe=Ce+Fe===_e.body.length-1,ke=getRemainingPageSpace(Ee,_e,Oe,Pe);De.canEntireRowFit(ke,Re)&&(printRow(Ee,_e,De,Pe,Re),je=Ce+Fe)}),je}function printFoot(Ee,_e,Ce,Pe){var Re=_e.settings;Ee.applyStyles(Ee.userStyles),(Re.showFoot==="lastPage"||Re.showFoot==="everyPage")&&_e.foot.forEach(function(Ie){return printRow(Ee,_e,Ie,Ce,Pe)})}function getRemainingLineCount(Ee,_e,Ce){var Pe=Ce.getLineHeight(Ee.styles.fontSize),Re=Ee.padding("vertical"),Ie=Math.floor((_e-Re)/Pe);return Math.max(0,Ie)}function modifyRowToFit(Ee,_e,Ce,Pe){var Re={};Ee.spansMultiplePages=!0,Ee.height=0;for(var Ie=0,Be=0,je=Ce.columns;Be<je.length;Be++){var De=je[Be],Fe=Ee.cells[De.index];if(Fe){Array.isArray(Fe.text)||(Fe.text=[Fe.text]);var Oe=new Cell$1(Fe.raw,Fe.styles,Fe.section);Oe=assign$1(Oe,Fe),Oe.text=[];var ke=getRemainingLineCount(Fe,_e,Pe);Fe.text.length>ke&&(Oe.text=Fe.text.splice(ke,Fe.text.length));var Me=Pe.scaleFactor(),$e=Pe.getLineHeightFactor();Fe.contentHeight=Fe.getContentHeight(Me,$e),Fe.contentHeight>=_e&&(Fe.contentHeight=_e,Oe.styles.minCellHeight-=_e),Fe.contentHeight>Ee.height&&(Ee.height=Fe.contentHeight),Oe.contentHeight=Oe.getContentHeight(Me,$e),Oe.contentHeight>Ie&&(Ie=Oe.contentHeight),Re[De.index]=Oe}}var He=new Row(Ee.raw,-1,Ee.section,Re,!0);He.height=Ie;for(var Qe=0,Ke=Ce.columns;Qe<Ke.length;Qe++){var De=Ke[Qe],Oe=He.cells[De.index];Oe&&(Oe.height=He.height);var Fe=Ee.cells[De.index];Fe&&(Fe.height=Ee.height)}return He}function shouldPrintOnCurrentPage(Ee,_e,Ce,Pe){var Re=Ee.pageSize().height,Ie=Pe.settings.margin,Be=Ie.top+Ie.bottom,je=Re-Be;_e.section==="body"&&(je-=Pe.getHeadHeight(Pe.columns)+Pe.getFootHeight(Pe.columns));var De=_e.getMinimumRowHeight(Pe.columns,Ee),Fe=De<Ce;if(De>je)return console.error("Will not be able to print row ".concat(_e.index," correctly since it's minimum height is larger than page height")),!0;if(!Fe)return!1;var Oe=_e.hasRowSpan(Pe.columns),ke=_e.getMaxCellHeight(Pe.columns)>je;return ke?(Oe&&console.error("The content of row ".concat(_e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Oe||Pe.settings.rowPageBreak==="avoid")}function printFullRow(Ee,_e,Ce,Pe,Re,Ie,Be){var je=getRemainingPageSpace(Ee,_e,Pe,Ie);if(Ce.canEntireRowFit(je,Be))printRow(Ee,_e,Ce,Ie,Be);else if(shouldPrintOnCurrentPage(Ee,Ce,je,_e)){var De=modifyRowToFit(Ce,je,_e,Ee);printRow(Ee,_e,Ce,Ie,Be),addPage(Ee,_e,Re,Ie,Be),printFullRow(Ee,_e,De,Pe,Re,Ie,Be)}else addPage(Ee,_e,Re,Ie,Be),printFullRow(Ee,_e,Ce,Pe,Re,Ie,Be)}function printRow(Ee,_e,Ce,Pe,Re){Pe.x=_e.settings.margin.left;for(var Ie=0,Be=Re;Ie<Be.length;Ie++){var je=Be[Ie],De=Ce.cells[je.index];if(!De){Pe.x+=je.width;continue}Ee.applyStyles(De.styles),De.x=Pe.x,De.y=Pe.y;var Fe=_e.callCellHooks(Ee,_e.hooks.willDrawCell,De,Ce,je,Pe);if(Fe===!1){Pe.x+=je.width;continue}drawCellRect(Ee,De,Pe);var Oe=De.getTextPos();autoTableText(De.text,Oe.x,Oe.y,{halign:De.styles.halign,valign:De.styles.valign,maxWidth:Math.ceil(De.width-De.padding("left")-De.padding("right"))},Ee.getDocument()),_e.callCellHooks(Ee,_e.hooks.didDrawCell,De,Ce,je,Pe),Pe.x+=je.width}Pe.y+=Ce.height}function drawCellRect(Ee,_e,Ce){var Pe=_e.styles;if(Ee.getDocument().setFillColor(Ee.getDocument().getFillColor()),typeof Pe.lineWidth=="number"){var Re=getFillStyle(Pe.lineWidth,Pe.fillColor);Re&&Ee.rect(_e.x,Ce.y,_e.width,_e.height,Re)}else typeof Pe.lineWidth=="object"&&(Pe.fillColor&&Ee.rect(_e.x,Ce.y,_e.width,_e.height,"F"),drawCellBorders(Ee,_e,Ce,Pe.lineWidth))}function drawCellBorders(Ee,_e,Ce,Pe){var Re,Ie,Be,je;Pe.top&&(Re=Ce.x,Ie=Ce.y,Be=Ce.x+_e.width,je=Ce.y,Pe.right&&(Be+=.5*Pe.right),Pe.left&&(Re-=.5*Pe.left),De(Pe.top,Re,Ie,Be,je)),Pe.bottom&&(Re=Ce.x,Ie=Ce.y+_e.height,Be=Ce.x+_e.width,je=Ce.y+_e.height,Pe.right&&(Be+=.5*Pe.right),Pe.left&&(Re-=.5*Pe.left),De(Pe.bottom,Re,Ie,Be,je)),Pe.left&&(Re=Ce.x,Ie=Ce.y,Be=Ce.x,je=Ce.y+_e.height,Pe.top&&(Ie-=.5*Pe.top),Pe.bottom&&(je+=.5*Pe.bottom),De(Pe.left,Re,Ie,Be,je)),Pe.right&&(Re=Ce.x+_e.width,Ie=Ce.y,Be=Ce.x+_e.width,je=Ce.y+_e.height,Pe.top&&(Ie-=.5*Pe.top),Pe.bottom&&(je+=.5*Pe.bottom),De(Pe.right,Re,Ie,Be,je));function De(Fe,Oe,ke,Me,$e){Ee.getDocument().setLineWidth(Fe),Ee.getDocument().line(Oe,ke,Me,$e,"S")}}function getRemainingPageSpace(Ee,_e,Ce,Pe){var Re=_e.settings.margin.bottom,Ie=_e.settings.showFoot;return(Ie==="everyPage"||Ie==="lastPage"&&Ce)&&(Re+=_e.getFootHeight(_e.columns)),Ee.pageSize().height-Pe.y-Re}function addPage(Ee,_e,Ce,Pe,Re,Ie){Re===void 0&&(Re=[]),Ie===void 0&&(Ie=!1),Ee.applyStyles(Ee.userStyles),_e.settings.showFoot==="everyPage"&&!Ie&&_e.foot.forEach(function(je){return printRow(Ee,_e,je,Pe,Re)}),_e.callEndPageHooks(Ee,Pe);var Be=_e.settings.margin;addTableBorder(Ee,_e,Ce,Pe),nextPage(Ee),_e.pageNumber++,Pe.x=Be.left,Pe.y=Be.top,Ce.y=Be.top,_e.callWillDrawPageHooks(Ee,Pe),_e.settings.showHead==="everyPage"&&(_e.head.forEach(function(je){return printRow(Ee,_e,je,Pe,Re)}),Ee.applyStyles(Ee.userStyles))}function nextPage(Ee){var _e=Ee.pageNumber();Ee.setPage(_e+1);var Ce=Ee.pageNumber();return Ce===_e?(Ee.addPage(),!0):!1}function applyPlugin(Ee){Ee.API.autoTable=function(){for(var _e=[],Ce=0;Ce<arguments.length;Ce++)_e[Ce]=arguments[Ce];var Pe=_e[0],Re=parseInput(this,Pe),Ie=createTable(this,Re);return drawTable(this,Ie),this},Ee.API.lastAutoTable=!1,Ee.API.autoTableText=function(_e,Ce,Pe,Re){autoTableText(_e,Ce,Pe,Re,this)},Ee.API.autoTableSetDefaults=function(_e){return DocHandler.setDefaults(_e,this),this},Ee.autoTableSetDefaults=function(_e,Ce){DocHandler.setDefaults(_e,Ce)},Ee.API.autoTableHtmlToJson=function(_e,Ce){var Pe;if(Ce===void 0&&(Ce=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var Re=new DocHandler(this),Ie=parseHtml(Re,_e,window,Ce,!1),Be=Ie.head,je=Ie.body,De=((Pe=Be[0])===null||Pe===void 0?void 0:Pe.map(function(Fe){return Fe.content}))||[];return{columns:De,rows:je,data:je}}}var _a;function autoTable(Ee,_e){var Ce=parseInput(Ee,_e),Pe=createTable(Ee,Ce);drawTable(Ee,Pe)}try{if(typeof window<"u"&&window){var anyWindow=window,jsPDF=anyWindow.jsPDF||((_a=anyWindow.jspdf)===null||_a===void 0?void 0:_a.jsPDF);jsPDF&&applyPlugin(jsPDF)}}catch(Ee){console.error("Could not apply autoTable plugin",Ee)}const OrderStatusTab=()=>{const[Ee,_e]=reactExports.useState([]),[Ce,Pe]=reactExports.useState([]),[Re,Ie]=reactExports.useState(""),[Be,je]=reactExports.useState("All"),[De,Fe]=reactExports.useState("All Time"),[Oe,ke]=reactExports.useState(null),[Me,$e]=reactExports.useState(null),[He,Qe]=reactExports.useState(""),[Ke,ze]=reactExports.useState("");reactExports.useEffect(()=>{const Je=onAuthStateChanged(auth$2,er=>{er&&(ke(er),We(er.uid))});return()=>Je()},[]);const We=async Je=>{const er=collection(db$2,`businesses/${Je}/sentOrders`),pr=(await getDocs(er)).docs.map(ar=>({id:ar.id,...ar.data()}));_e(pr),Pe(pr)};reactExports.useEffect(()=>{let Je=Ee;if(Be!=="All"&&(Je=Je.filter(er=>er.status===Be)),Re.trim()){const er=Re.toLowerCase();Je=Je.filter(or=>(or.distributorId?.toLowerCase()||"").includes(er)||(or.id?.toLowerCase()||"").includes(er)||(or.distributorName?.toLowerCase()||"").includes(er)||(or.distributorCity?.toLowerCase()||"").includes(er)||(or.distributorState?.toLowerCase()||"").includes(er)||(or.distributorEmail?.toLowerCase()||"").includes(er))}if(De==="Today"){const er=new Date;Je=Je.filter(or=>{const pr=or.timestamp?.toDate?.();return pr&&pr.getDate()===er.getDate()&&pr.getMonth()===er.getMonth()&&pr.getFullYear()===er.getFullYear()})}else if(De==="This Week"){const er=new Date,or=new Date(er);or.setDate(er.getDate()-er.getDay()),Je=Je.filter(pr=>{const ar=pr.timestamp?.toDate?.();return ar&&ar>=or&&ar<=er})}else if(De==="Custom Range"&&He&&Ke){const er=new Date(He),or=new Date(Ke);Je=Je.filter(pr=>{const ar=pr.timestamp?.toDate?.();return ar&&ar>=er&&ar<=or})}Je=Je.sort((er,or)=>{const pr=er.timestamp?.toDate?.();return or.timestamp?.toDate?.()-pr}),Pe(Je)},[Be,Re,Ee,De,He,Ke]);const qe=Je=>{$e(Me===Je?null:Je)},Ye=()=>{const Je=["Order ID","Distributor","Status","Amount","Date"],er=Ce.map(gr=>[gr.id,gr.distributorName,gr.status,gr.totalAmount,gr.timestamp?.toDate?.().toLocaleString()||"-"]),or=[Je,...er].map(gr=>gr.join(",")).join(`
`),pr=new Blob([or],{type:"text/csv"}),ar=URL.createObjectURL(pr),fr=document.createElement("a");fr.href=ar,fr.download="order-history.csv",fr.click()},Xe=()=>{const Je=new E,er=[["Order ID","Distributor","Status","Amount","Date"]],or=Ce.map(pr=>[pr.id,pr.distributorName,pr.status,`${pr.totalAmount}`,pr.timestamp?.toDate?.().toLocaleString()||"-"]);Je.text("Order History",14,16),autoTable(Je,{startY:20,head:er,body:or,styles:{fontSize:8}}),Je.save("order-history.pdf")},rr=(Je,er)=>{const or=["Product","Brand","SKU","Qty","Unit","Price"],pr=(Je.items||[]).map(ar=>[ar.productName||ar.name||"",ar.brand||"",ar.sku,ar.quantity,ar.unit,`${ar.price!==void 0&&ar.price!==null?ar.price:ar.unitPrice||0}`]);if(er==="pdf"){const ar=new E,fr=(Rr,Ir)=>`${Rr}: ${Ir||""}`,gr=Je.timestamp?.toDate?.().toLocaleString()||"-";ar.setFontSize(12),ar.text(`Order ID: ${Je.id}`,14,14),ar.text(fr("Date",gr),14,22),ar.text(fr("Status",Je.status),14,30),ar.text(fr("Payment Mode",Je.paymentMode),14,38),ar.text(fr("Order Note",Je.note),14,46),ar.text(fr("Distributor",Je.distributorName),14,58),ar.text(fr("Distributor Location",`${Je.distributorCity||""}, ${Je.distributorState||""}`),14,66),ar.text(fr("Distributor Phone",Je.distributorPhone),14,74),ar.text(fr("Distributor Email",Je.distributorEmail),14,82),ar.text(fr("Retailer ID",Oe?.uid),14,94),autoTable(ar,{startY:102,head:[["Product","Brand","SKU","Qty","Unit","Price"]],body:(Je.items||[]).map(Rr=>[Rr.productName||Rr.name||"",Rr.brand||"",Rr.sku,Rr.quantity,Rr.unit,`${Rr.price!==void 0&&Rr.price!==null?Rr.price:Rr.unitPrice||0}`]),styles:{fontSize:8}}),ar.save(`order-${Je.id}.pdf`)}else if(er==="csv"||er==="excel"){const ar=[or,...pr].map(Ir=>Ir.join(",")).join(`
`),fr=new Blob([ar],{type:"text/csv"}),gr=URL.createObjectURL(fr),Rr=document.createElement("a");Rr.href=gr,Rr.download=`order-${Je.id}.${er==="excel"?"xls":"csv"}`,Rr.click()}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-4 justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by distributor or order ID",className:"border px-3 py-2 rounded w-1/3",value:Re,onChange:Je=>Ie(Je.target.value)}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",value:Be,onChange:Je=>je(Je.target.value),children:[jsxRuntimeExports.jsx("option",{children:"All"}),jsxRuntimeExports.jsx("option",{children:"Requested"}),jsxRuntimeExports.jsx("option",{children:"Accepted"}),jsxRuntimeExports.jsx("option",{children:"Rejected"}),jsxRuntimeExports.jsx("option",{children:"Modified"})]}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",value:De,onChange:Je=>Fe(Je.target.value),children:[jsxRuntimeExports.jsx("option",{children:"All Time"}),jsxRuntimeExports.jsx("option",{children:"Today"}),jsxRuntimeExports.jsx("option",{children:"This Week"}),jsxRuntimeExports.jsx("option",{children:"Custom Range"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:Ye,className:"border bg-blue-50 hover:bg-blue-100 text-blue-600 px-3 py-2 rounded text-sm",children:"Export CSV"}),jsxRuntimeExports.jsx("button",{onClick:Xe,className:"border bg-green-50 hover:bg-green-100 text-green-600 px-3 py-2 rounded text-sm",children:"Export PDF"})]})]}),De==="Custom Range"&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[jsxRuntimeExports.jsx("label",{children:"From:"}),jsxRuntimeExports.jsx("input",{type:"date",value:He,onChange:Je=>Qe(Je.target.value),className:"border px-2 py-1 rounded"}),jsxRuntimeExports.jsx("label",{children:"To:"}),jsxRuntimeExports.jsx("input",{type:"date",value:Ke,onChange:Je=>ze(Je.target.value),className:"border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100 text-left",children:[jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Order ID"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Distributor (Name)"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Date"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ce.map(Je=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{onClick:()=>qe(Je.id),className:"cursor-pointer hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"p-2 border",children:Je.id}),jsxRuntimeExports.jsxs("td",{className:"p-2 border",children:[jsxRuntimeExports.jsx("div",{children:Je.distributorName||""}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:[Je.distributorCity||"",", ",Je.distributorState||""]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400",children:Je.distributorId})]}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${Je.status==="Accepted"?"bg-green-100 text-green-700":Je.status==="Rejected"?"bg-red-100 text-red-700":Je.status==="Modified"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`,children:Je.status})}),jsxRuntimeExports.jsxs("td",{className:"p-2 border",children:["",Je.totalAmount||0]}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:Je.timestamp?.toDate?.().toLocaleString()||"-"})]}),Me===Je.id&&jsxRuntimeExports.jsx("tr",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("td",{colSpan:"5",className:"p-4 border",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm mb-2 text-gray-700",children:[jsxRuntimeExports.jsx("strong",{children:"Order Note:"})," ",Je.note||"",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Payment Mode:"})," ",Je.paymentMode||"",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Items:"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Distributor Info:"})," ",Je.distributorCity||"N/A",", ",Je.distributorState||"N/A",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Phone:"})," ",Je.distributorPhone||"",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",Je.distributorEmail||"",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>rr(Je,"pdf"),className:"border bg-green-50 hover:bg-green-100 text-green-600 px-3 py-1 rounded text-sm",children:"PDF"}),jsxRuntimeExports.jsx("button",{onClick:()=>rr(Je,"csv"),className:"border bg-blue-50 hover:bg-blue-100 text-blue-600 px-3 py-1 rounded text-sm",children:"CSV"}),jsxRuntimeExports.jsx("button",{onClick:()=>rr(Je,"excel"),className:"border bg-yellow-50 hover:bg-yellow-100 text-yellow-600 px-3 py-1 rounded text-sm",children:"Excel"})]}),jsxRuntimeExports.jsxs("table",{className:"w-full text-sm border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Price"})]})}),jsxRuntimeExports.jsx("tbody",{children:(Je.items||[]).map((er,or)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"p-1 border",children:er.productName||er.name||""}),jsxRuntimeExports.jsx("td",{className:"p-1 border",children:er.brand||""}),jsxRuntimeExports.jsx("td",{className:"p-1 border",children:er.sku}),jsxRuntimeExports.jsx("td",{className:"p-1 border",children:er.quantity}),jsxRuntimeExports.jsx("td",{className:"p-1 border",children:er.unit}),jsxRuntimeExports.jsxs("td",{className:"p-1 border",children:["",er.price!==void 0&&er.price!==null?er.price:er.unitPrice||0]})]},or))})]})]})})]},Je.id))})]})]})},byteToHex=[];for(let Ee=0;Ee<256;++Ee)byteToHex.push((Ee+256).toString(16).slice(1));function unsafeStringify(Ee,_e=0){return(byteToHex[Ee[_e+0]]+byteToHex[Ee[_e+1]]+byteToHex[Ee[_e+2]]+byteToHex[Ee[_e+3]]+"-"+byteToHex[Ee[_e+4]]+byteToHex[Ee[_e+5]]+"-"+byteToHex[Ee[_e+6]]+byteToHex[Ee[_e+7]]+"-"+byteToHex[Ee[_e+8]]+byteToHex[Ee[_e+9]]+"-"+byteToHex[Ee[_e+10]]+byteToHex[Ee[_e+11]]+byteToHex[Ee[_e+12]]+byteToHex[Ee[_e+13]]+byteToHex[Ee[_e+14]]+byteToHex[Ee[_e+15]]).toLowerCase()}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(Ee,_e,Ce){if(native.randomUUID&&!Ee)return native.randomUUID();Ee=Ee||{};const Pe=Ee.random??Ee.rng?.()??rng();if(Pe.length<16)throw new Error("Random bytes length must be >= 16");return Pe[6]=Pe[6]&15|64,Pe[8]=Pe[8]&63|128,unsafeStringify(Pe)}const AddDeliveredItemsToInventory=({order:Ee,onClose:_e})=>{const Ce=getAuth(),[Pe,Re]=reactExports.useState((Ee.items||[]).map(Oe=>({...Oe,sellingPrice:"",category:Oe.category||"",brand:Oe.brand||"",imageFile:null,imageUrl:"",sku:Oe.sku||"",unit:Oe.unit||""}))),[Ie,Be]=reactExports.useState(!1),je=(Oe,ke,Me)=>{const $e=[...Pe];$e[Oe][ke]=Me,Re($e)},De=(Oe,ke)=>{const Me=[...Pe];Me[Oe].imageFile=ke,Re(Me)},Fe=async()=>{Be(!0);try{const Oe=Pe.map(async(Me,$e)=>{let He="";if(Me.imageFile){const Ye=ref(storage,`products/${v4()}`);await uploadBytes(Ye,Me.imageFile),He=await getDownloadURL(Ye)}const Qe=v4(),Ke={name:Me.productName||Me.name||`Product ${$e+1}`,sku:Me.sku||`SKU-${v4().slice(0,6)}`,quantity:Number(Me.quantity||0),unit:Me.unit||"unit",costPrice:Number(Me.price||0),sellingPrice:Number(Me.sellingPrice||0),brand:Me.brand||"",category:Me.category||"",imageUrl:He,distributorPrice:Number(Me.price||0),sourceOrderId:Ee.id,createdAt:serverTimestamp()};console.log("Saving product to inventory:",Ke);const ze=collection(db$2,"businesses",Ce.currentUser.uid,"products"),We=query(ze,where("name","==",Ke.name),where("brand","==",Ke.brand)),qe=await getDocs(We);if(qe.empty)await setDoc(doc(ze,Qe),Ke),console.log("Created new product:",Qe);else{const Ye=qe.docs[0],Xe=Ye.data(),rr=Number(Xe.quantity||0)+Number(Ke.quantity);await updateDoc(Ye.ref,{quantity:rr,costPrice:Ke.costPrice,sellingPrice:Ke.sellingPrice,lastUpdatedFromOrder:Ee.id}),console.log("Updated existing product:",Ye.id)}});await Promise.all(Oe),console.log("All products saved successfully.");const ke=doc(db$2,"businesses",Ce.currentUser.uid,"sentOrders",Ee.id);await updateDoc(ke,{inventorySynced:!0,"statusTimestamps.inventorySyncedAt":serverTimestamp()}),alert("Items added to inventory!"),_e()}catch(Oe){console.error("Inventory addition failed:",Oe),alert("Failed to add items.")}finally{Be(!1)}};return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add Delivered Items to Inventory"}),Pe.map((Oe,ke)=>jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3 rounded-md",children:[jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx("strong",{children:Oe.productName||Oe.name})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Quantity"}),jsxRuntimeExports.jsx("input",{value:Oe.quantity,disabled:!0,className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Distributor Price"}),jsxRuntimeExports.jsx("input",{value:Oe.price,disabled:!0,className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Selling Price"}),jsxRuntimeExports.jsx("input",{type:"number",value:Oe.sellingPrice,onChange:Me=>je(ke,"sellingPrice",Me.target.value),className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Brand"}),jsxRuntimeExports.jsx("input",{value:Oe.brand,onChange:Me=>je(ke,"brand",Me.target.value),className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Category"}),jsxRuntimeExports.jsx("input",{value:Oe.category,onChange:Me=>je(ke,"category",Me.target.value),className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Upload Image"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Me=>De(ke,Me.target.files[0])})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Unit"}),jsxRuntimeExports.jsx("input",{value:Oe.unit,onChange:Me=>je(ke,"unit",Me.target.value),className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"SKU"}),jsxRuntimeExports.jsx("input",{value:Oe.sku,onChange:Me=>je(ke,"sku",Me.target.value),className:"w-full border px-2 py-1 rounded"})]})]})]},ke)),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-4",children:[jsxRuntimeExports.jsx("button",{onClick:_e,className:"bg-gray-400 text-white px-4 py-2 rounded",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Fe,disabled:Ie,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:Ie?"Adding...":"Add to Inventory"})]})]})},TrackOrderTab=()=>{const[Ee,_e]=reactExports.useState([]),[Ce,Pe]=reactExports.useState(!0),[Re,Ie]=reactExports.useState("All"),[Be,je]=reactExports.useState(null),[De,Fe]=reactExports.useState(null),Oe=getAuth(),ke=getFirestore();reactExports.useEffect(()=>{(()=>{const Qe=Oe.currentUser;if(!Qe)return;const Ke=query(collection(ke,"businesses",Qe.uid,"sentOrders")),ze=onSnapshot(Ke,We=>{const qe=We.docs.map(Ye=>({id:Ye.id,...Ye.data()})).sort((Ye,Xe)=>Xe.timestamp?.seconds-Ye.timestamp?.seconds);_e(qe),Pe(!1)});return()=>ze()})()},[Oe]);const Me=Re==="All"?Ee:Ee.filter(He=>He.status===Re),$e=["Requested","Accepted","Modified","Shipped","Delivered"];return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"mr-2 font-semibold",children:"Filter by Status:"}),jsxRuntimeExports.jsxs("select",{value:Re,onChange:He=>Ie(He.target.value),className:"border px-2 py-1 rounded",children:[jsxRuntimeExports.jsx("option",{children:"All"}),jsxRuntimeExports.jsx("option",{children:"Accepted"}),jsxRuntimeExports.jsx("option",{children:"Rejected"}),jsxRuntimeExports.jsx("option",{children:"Pending"}),jsxRuntimeExports.jsx("option",{children:"Modified"}),jsxRuntimeExports.jsx("option",{children:"Delivered"})]})]}),Ce?jsxRuntimeExports.jsx("p",{children:"Loading orders..."}):Me.length===0?jsxRuntimeExports.jsx("p",{children:"No orders found for this filter."}):jsxRuntimeExports.jsxs("table",{className:"w-full table-auto border-collapse border border-gray-300",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"border px-3 py-2",children:"Distributor"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2",children:"Order Date"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2",children:"Items"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2",children:"Delivery ETA"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2",children:"Progress"})]})}),jsxRuntimeExports.jsx("tbody",{children:Me.map(He=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{onClick:()=>je(Qe=>Qe===He.id?null:He.id),className:"cursor-pointer hover:bg-gray-100",children:[jsxRuntimeExports.jsx("td",{className:"border px-3 py-2",children:He.distributorName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2",children:He.timestamp?.toDate().toLocaleString()||"N/A"}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2",children:He.items?.length||0}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2 font-medium",children:He.status}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2",children:He.eta||"Not specified"}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2",children:jsxRuntimeExports.jsx("div",{className:"flex gap-1 text-xs",children:$e.map((Qe,Ke)=>{const ze=$e.indexOf(He.status);return jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:ze===Ke?"text-blue-600 font-semibold":ze>Ke?"text-green-600 font-semibold":"text-gray-400",children:Qe}),Ke!==$e.length-1&&jsxRuntimeExports.jsx("span",{children:""})]},Ke)})})})]}),Be===He.id&&jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"p-4 bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Order ID:"})," ",He.id]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor Name:"})," ",He.distributorName||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor Email:"})," ",He.distributorEmail||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor Phone:"})," ",He.distributorPhone||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor Address:"})," ",He.distributorAddress||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Payment Mode:"})," ",He.paymentMode||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," ",He.note||""]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Status:"})," ",He.status]}),He.statusTimestamps&&jsxRuntimeExports.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-700",children:[He.statusTimestamps.requestedAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Requested At:"})," ",new Date(He.statusTimestamps.requestedAt.seconds*1e3).toLocaleString()]}),He.statusTimestamps.acceptedAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Accepted At:"})," ",new Date(He.statusTimestamps.acceptedAt.seconds*1e3).toLocaleString()]}),He.statusTimestamps.modifiedAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Modified At:"})," ",new Date(He.statusTimestamps.modifiedAt.seconds*1e3).toLocaleString()]}),He.statusTimestamps.shippedAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Shipped At:"})," ",new Date(He.statusTimestamps.shippedAt.seconds*1e3).toLocaleString()]}),He.statusTimestamps.deliveredAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivered At:"})," ",new Date(He.statusTimestamps.deliveredAt.seconds*1e3).toLocaleString()]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("strong",{children:"Products:"}),jsxRuntimeExports.jsxs("table",{className:"w-full mt-2 text-sm border border-gray-300",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border px-3 py-1 text-left",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-1 text-left",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-1 text-left",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-1 text-left",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-1 text-left",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-1 text-left",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-1 text-left",children:"Subtotal"})]})}),jsxRuntimeExports.jsx("tbody",{children:(He.items||[]).map((Qe,Ke)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border px-3 py-1",children:Qe.name||Qe.productName||""}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-1",children:Qe.brand||""}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-1",children:Qe.category||""}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-1",children:Qe.quantity}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-1",children:Qe.unit}),jsxRuntimeExports.jsxs("td",{className:"border px-3 py-1",children:["",Qe.price!==void 0?parseFloat(Qe.price).toFixed(2):Qe.sellingPrice!==void 0?parseFloat(Qe.sellingPrice).toFixed(2):"0.00"]}),jsxRuntimeExports.jsxs("td",{className:"border px-3 py-1",children:["",((Qe.price!==void 0?parseFloat(Qe.price):Qe.sellingPrice!==void 0?parseFloat(Qe.sellingPrice):0)*(Qe.quantity||0)).toFixed(2)]})]},Ke))})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 font-semibold",children:["Total Price: ",(He.items||[]).reduce((Qe,Ke)=>{const ze=Ke.price!==void 0?parseFloat(Ke.price):Ke.sellingPrice!==void 0?parseFloat(Ke.sellingPrice):0,We=Ke.quantity||0;return Qe+ze*We},0).toFixed(2)]}),He.status==="Delivered"&&(He.inventorySynced?jsxRuntimeExports.jsx("button",{className:"mt-3 px-4 py-2 bg-gray-400 text-white rounded",disabled:!0,children:" Added to Inventory"}):jsxRuntimeExports.jsx("button",{className:"mt-3 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",onClick:()=>Fe(He),children:"Add Items to Inventory"}))]})})})]},He.id))})]}),De&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-md w-11/12 max-w-3xl p-4 overflow-y-auto max-h-[90vh]",children:jsxRuntimeExports.jsx(AddDeliveredItemsToInventory,{order:De,onClose:()=>Fe(null),onSuccess:()=>{y$2.success("Items successfully added to inventory!"),Fe(null)}})})})]})},RetailerOrderHistory=()=>{const[Ee,_e]=reactExports.useState("status");return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Order History"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>_e("status"),className:`px-4 py-2 rounded ${Ee==="status"?"bg-blue-600 text-white":"bg-gray-200"}`,children:" Order Status"}),jsxRuntimeExports.jsx("button",{onClick:()=>_e("track"),className:`px-4 py-2 rounded ${Ee==="track"?"bg-blue-600 text-white":"bg-gray-200"}`,children:" Track Orders"})]}),jsxRuntimeExports.jsx("div",{children:Ee==="status"?jsxRuntimeExports.jsx(OrderStatusTab,{}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(TrackOrderTab,{}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm mt-4 ml-1",children:"Track order status across: Requested  Accepted/Rejected/Modified  Shipped  Delivered"})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round$1(Ee){return Ee+.5|0}const lim=(Ee,_e,Ce)=>Math.max(Math.min(Ee,Ce),_e);function p2b(Ee){return lim(round$1(Ee*2.55),0,255)}function n2b(Ee){return lim(round$1(Ee*255),0,255)}function b2n(Ee){return lim(round$1(Ee/2.55)/100,0,1)}function n2p(Ee){return lim(round$1(Ee*100),0,100)}const map$1$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex$1=[..."0123456789ABCDEF"],h1=Ee=>hex$1[Ee&15],h2=Ee=>hex$1[(Ee&240)>>4]+hex$1[Ee&15],eq$1=Ee=>(Ee&240)>>4===(Ee&15),isShort=Ee=>eq$1(Ee.r)&&eq$1(Ee.g)&&eq$1(Ee.b)&&eq$1(Ee.a);function hexParse(Ee){var _e=Ee.length,Ce;return Ee[0]==="#"&&(_e===4||_e===5?Ce={r:255&map$1$1[Ee[1]]*17,g:255&map$1$1[Ee[2]]*17,b:255&map$1$1[Ee[3]]*17,a:_e===5?map$1$1[Ee[4]]*17:255}:(_e===7||_e===9)&&(Ce={r:map$1$1[Ee[1]]<<4|map$1$1[Ee[2]],g:map$1$1[Ee[3]]<<4|map$1$1[Ee[4]],b:map$1$1[Ee[5]]<<4|map$1$1[Ee[6]],a:_e===9?map$1$1[Ee[7]]<<4|map$1$1[Ee[8]]:255})),Ce}const alpha$1=(Ee,_e)=>Ee<255?_e(Ee):"";function hexString(Ee){var _e=isShort(Ee)?h1:h2;return Ee?"#"+_e(Ee.r)+_e(Ee.g)+_e(Ee.b)+alpha$1(Ee.a,_e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(Ee,_e,Ce){const Pe=_e*Math.min(Ce,1-Ce),Re=(Ie,Be=(Ie+Ee/30)%12)=>Ce-Pe*Math.max(Math.min(Be-3,9-Be,1),-1);return[Re(0),Re(8),Re(4)]}function hsv2rgbn(Ee,_e,Ce){const Pe=(Re,Ie=(Re+Ee/60)%6)=>Ce-Ce*_e*Math.max(Math.min(Ie,4-Ie,1),0);return[Pe(5),Pe(3),Pe(1)]}function hwb2rgbn(Ee,_e,Ce){const Pe=hsl2rgbn(Ee,1,.5);let Re;for(_e+Ce>1&&(Re=1/(_e+Ce),_e*=Re,Ce*=Re),Re=0;Re<3;Re++)Pe[Re]*=1-_e-Ce,Pe[Re]+=_e;return Pe}function hueValue(Ee,_e,Ce,Pe,Re){return Ee===Re?(_e-Ce)/Pe+(_e<Ce?6:0):_e===Re?(Ce-Ee)/Pe+2:(Ee-_e)/Pe+4}function rgb2hsl(Ee){const Ce=Ee.r/255,Pe=Ee.g/255,Re=Ee.b/255,Ie=Math.max(Ce,Pe,Re),Be=Math.min(Ce,Pe,Re),je=(Ie+Be)/2;let De,Fe,Oe;return Ie!==Be&&(Oe=Ie-Be,Fe=je>.5?Oe/(2-Ie-Be):Oe/(Ie+Be),De=hueValue(Ce,Pe,Re,Oe,Ie),De=De*60+.5),[De|0,Fe||0,je]}function calln(Ee,_e,Ce,Pe){return(Array.isArray(_e)?Ee(_e[0],_e[1],_e[2]):Ee(_e,Ce,Pe)).map(n2b)}function hsl2rgb$1(Ee,_e,Ce){return calln(hsl2rgbn,Ee,_e,Ce)}function hwb2rgb(Ee,_e,Ce){return calln(hwb2rgbn,Ee,_e,Ce)}function hsv2rgb(Ee,_e,Ce){return calln(hsv2rgbn,Ee,_e,Ce)}function hue(Ee){return(Ee%360+360)%360}function hueParse(Ee){const _e=HUE_RE.exec(Ee);let Ce=255,Pe;if(!_e)return;_e[5]!==Pe&&(Ce=_e[6]?p2b(+_e[5]):n2b(+_e[5]));const Re=hue(+_e[2]),Ie=+_e[3]/100,Be=+_e[4]/100;return _e[1]==="hwb"?Pe=hwb2rgb(Re,Ie,Be):_e[1]==="hsv"?Pe=hsv2rgb(Re,Ie,Be):Pe=hsl2rgb$1(Re,Ie,Be),{r:Pe[0],g:Pe[1],b:Pe[2],a:Ce}}function rotate(Ee,_e){var Ce=rgb2hsl(Ee);Ce[0]=hue(Ce[0]+_e),Ce=hsl2rgb$1(Ce),Ee.r=Ce[0],Ee.g=Ce[1],Ee.b=Ce[2]}function hslString(Ee){if(!Ee)return;const _e=rgb2hsl(Ee),Ce=_e[0],Pe=n2p(_e[1]),Re=n2p(_e[2]);return Ee.a<255?`hsla(${Ce}, ${Pe}%, ${Re}%, ${b2n(Ee.a)})`:`hsl(${Ce}, ${Pe}%, ${Re}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const Ee={},_e=Object.keys(names$1),Ce=Object.keys(map$2);let Pe,Re,Ie,Be,je;for(Pe=0;Pe<_e.length;Pe++){for(Be=je=_e[Pe],Re=0;Re<Ce.length;Re++)Ie=Ce[Re],je=je.replace(Ie,map$2[Ie]);Ie=parseInt(names$1[Be],16),Ee[je]=[Ie>>16&255,Ie>>8&255,Ie&255]}return Ee}let names;function nameParse(Ee){names||(names=unpack(),names.transparent=[0,0,0,0]);const _e=names[Ee.toLowerCase()];return _e&&{r:_e[0],g:_e[1],b:_e[2],a:_e.length===4?_e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(Ee){const _e=RGB_RE.exec(Ee);let Ce=255,Pe,Re,Ie;if(_e){if(_e[7]!==Pe){const Be=+_e[7];Ce=_e[8]?p2b(Be):lim(Be*255,0,255)}return Pe=+_e[1],Re=+_e[3],Ie=+_e[5],Pe=255&(_e[2]?p2b(Pe):lim(Pe,0,255)),Re=255&(_e[4]?p2b(Re):lim(Re,0,255)),Ie=255&(_e[6]?p2b(Ie):lim(Ie,0,255)),{r:Pe,g:Re,b:Ie,a:Ce}}}function rgbString(Ee){return Ee&&(Ee.a<255?`rgba(${Ee.r}, ${Ee.g}, ${Ee.b}, ${b2n(Ee.a)})`:`rgb(${Ee.r}, ${Ee.g}, ${Ee.b})`)}const to=Ee=>Ee<=.0031308?Ee*12.92:Math.pow(Ee,1/2.4)*1.055-.055,from=Ee=>Ee<=.04045?Ee/12.92:Math.pow((Ee+.055)/1.055,2.4);function interpolate$2(Ee,_e,Ce){const Pe=from(b2n(Ee.r)),Re=from(b2n(Ee.g)),Ie=from(b2n(Ee.b));return{r:n2b(to(Pe+Ce*(from(b2n(_e.r))-Pe))),g:n2b(to(Re+Ce*(from(b2n(_e.g))-Re))),b:n2b(to(Ie+Ce*(from(b2n(_e.b))-Ie))),a:Ee.a+Ce*(_e.a-Ee.a)}}function modHSL(Ee,_e,Ce){if(Ee){let Pe=rgb2hsl(Ee);Pe[_e]=Math.max(0,Math.min(Pe[_e]+Pe[_e]*Ce,_e===0?360:1)),Pe=hsl2rgb$1(Pe),Ee.r=Pe[0],Ee.g=Pe[1],Ee.b=Pe[2]}}function clone$2(Ee,_e){return Ee&&Object.assign(_e||{},Ee)}function fromObject(Ee){var _e={r:0,g:0,b:0,a:255};return Array.isArray(Ee)?Ee.length>=3&&(_e={r:Ee[0],g:Ee[1],b:Ee[2],a:255},Ee.length>3&&(_e.a=n2b(Ee[3]))):(_e=clone$2(Ee,{r:0,g:0,b:0,a:1}),_e.a=n2b(_e.a)),_e}function functionParse(Ee){return Ee.charAt(0)==="r"?rgbParse(Ee):hueParse(Ee)}let Color$1=class Np{constructor(_e){if(_e instanceof Np)return _e;const Ce=typeof _e;let Pe;Ce==="object"?Pe=fromObject(_e):Ce==="string"&&(Pe=hexParse(_e)||nameParse(_e)||functionParse(_e)),this._rgb=Pe,this._valid=!!Pe}get valid(){return this._valid}get rgb(){var _e=clone$2(this._rgb);return _e&&(_e.a=b2n(_e.a)),_e}set rgb(_e){this._rgb=fromObject(_e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(_e,Ce){if(_e){const Pe=this.rgb,Re=_e.rgb;let Ie;const Be=Ce===Ie?.5:Ce,je=2*Be-1,De=Pe.a-Re.a,Fe=((je*De===-1?je:(je+De)/(1+je*De))+1)/2;Ie=1-Fe,Pe.r=255&Fe*Pe.r+Ie*Re.r+.5,Pe.g=255&Fe*Pe.g+Ie*Re.g+.5,Pe.b=255&Fe*Pe.b+Ie*Re.b+.5,Pe.a=Be*Pe.a+(1-Be)*Re.a,this.rgb=Pe}return this}interpolate(_e,Ce){return _e&&(this._rgb=interpolate$2(this._rgb,_e._rgb,Ce)),this}clone(){return new Np(this.rgb)}alpha(_e){return this._rgb.a=n2b(_e),this}clearer(_e){const Ce=this._rgb;return Ce.a*=1-_e,this}greyscale(){const _e=this._rgb,Ce=round$1(_e.r*.3+_e.g*.59+_e.b*.11);return _e.r=_e.g=_e.b=Ce,this}opaquer(_e){const Ce=this._rgb;return Ce.a*=1+_e,this}negate(){const _e=this._rgb;return _e.r=255-_e.r,_e.g=255-_e.g,_e.b=255-_e.b,this}lighten(_e){return modHSL(this._rgb,2,_e),this}darken(_e){return modHSL(this._rgb,2,-_e),this}saturate(_e){return modHSL(this._rgb,1,_e),this}desaturate(_e){return modHSL(this._rgb,1,-_e),this}rotate(_e){return rotate(this._rgb,_e),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function noop$9(){}const uid=(()=>{let Ee=0;return()=>Ee++})();function isNullOrUndef(Ee){return Ee==null}function isArray(Ee){if(Array.isArray&&Array.isArray(Ee))return!0;const _e=Object.prototype.toString.call(Ee);return _e.slice(0,7)==="[object"&&_e.slice(-6)==="Array]"}function isObject$1(Ee){return Ee!==null&&Object.prototype.toString.call(Ee)==="[object Object]"}function isNumberFinite(Ee){return(typeof Ee=="number"||Ee instanceof Number)&&isFinite(+Ee)}function finiteOrDefault(Ee,_e){return isNumberFinite(Ee)?Ee:_e}function valueOrDefault(Ee,_e){return typeof Ee>"u"?_e:Ee}const toPercentage=(Ee,_e)=>typeof Ee=="string"&&Ee.endsWith("%")?parseFloat(Ee)/100:+Ee/_e,toDimension=(Ee,_e)=>typeof Ee=="string"&&Ee.endsWith("%")?parseFloat(Ee)/100*_e:+Ee;function callback(Ee,_e,Ce){if(Ee&&typeof Ee.call=="function")return Ee.apply(Ce,_e)}function each$1(Ee,_e,Ce,Pe){let Re,Ie,Be;if(isArray(Ee))for(Ie=Ee.length,Re=0;Re<Ie;Re++)_e.call(Ce,Ee[Re],Re);else if(isObject$1(Ee))for(Be=Object.keys(Ee),Ie=Be.length,Re=0;Re<Ie;Re++)_e.call(Ce,Ee[Be[Re]],Be[Re])}function _elementsEqual(Ee,_e){let Ce,Pe,Re,Ie;if(!Ee||!_e||Ee.length!==_e.length)return!1;for(Ce=0,Pe=Ee.length;Ce<Pe;++Ce)if(Re=Ee[Ce],Ie=_e[Ce],Re.datasetIndex!==Ie.datasetIndex||Re.index!==Ie.index)return!1;return!0}function clone$1(Ee){if(isArray(Ee))return Ee.map(clone$1);if(isObject$1(Ee)){const _e=Object.create(null),Ce=Object.keys(Ee),Pe=Ce.length;let Re=0;for(;Re<Pe;++Re)_e[Ce[Re]]=clone$1(Ee[Ce[Re]]);return _e}return Ee}function isValidKey(Ee){return["__proto__","prototype","constructor"].indexOf(Ee)===-1}function _merger(Ee,_e,Ce,Pe){if(!isValidKey(Ee))return;const Re=_e[Ee],Ie=Ce[Ee];isObject$1(Re)&&isObject$1(Ie)?merge(Re,Ie,Pe):_e[Ee]=clone$1(Ie)}function merge(Ee,_e,Ce){const Pe=isArray(_e)?_e:[_e],Re=Pe.length;if(!isObject$1(Ee))return Ee;Ce=Ce||{};const Ie=Ce.merger||_merger;let Be;for(let je=0;je<Re;++je){if(Be=Pe[je],!isObject$1(Be))continue;const De=Object.keys(Be);for(let Fe=0,Oe=De.length;Fe<Oe;++Fe)Ie(De[Fe],Ee,Be,Ce)}return Ee}function mergeIf(Ee,_e){return merge(Ee,_e,{merger:_mergerIf})}function _mergerIf(Ee,_e,Ce){if(!isValidKey(Ee))return;const Pe=_e[Ee],Re=Ce[Ee];isObject$1(Pe)&&isObject$1(Re)?mergeIf(Pe,Re):Object.prototype.hasOwnProperty.call(_e,Ee)||(_e[Ee]=clone$1(Re))}const keyResolvers={"":Ee=>Ee,x:Ee=>Ee.x,y:Ee=>Ee.y};function _splitKey(Ee){const _e=Ee.split("."),Ce=[];let Pe="";for(const Re of _e)Pe+=Re,Pe.endsWith("\\")?Pe=Pe.slice(0,-1)+".":(Ce.push(Pe),Pe="");return Ce}function _getKeyResolver(Ee){const _e=_splitKey(Ee);return Ce=>{for(const Pe of _e){if(Pe==="")break;Ce=Ce&&Ce[Pe]}return Ce}}function resolveObjectKey(Ee,_e){return(keyResolvers[_e]||(keyResolvers[_e]=_getKeyResolver(_e)))(Ee)}function _capitalize(Ee){return Ee.charAt(0).toUpperCase()+Ee.slice(1)}const defined$1=Ee=>typeof Ee<"u",isFunction=Ee=>typeof Ee=="function",setsEqual=(Ee,_e)=>{if(Ee.size!==_e.size)return!1;for(const Ce of Ee)if(!_e.has(Ce))return!1;return!0};function _isClickEvent(Ee){return Ee.type==="mouseup"||Ee.type==="click"||Ee.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign$1=Math.sign;function almostEquals(Ee,_e,Ce){return Math.abs(Ee-_e)<Ce}function niceNum(Ee){const _e=Math.round(Ee);Ee=almostEquals(Ee,_e,Ee/1e3)?_e:Ee;const Ce=Math.pow(10,Math.floor(log10(Ee))),Pe=Ee/Ce;return(Pe<=1?1:Pe<=2?2:Pe<=5?5:10)*Ce}function _factorize(Ee){const _e=[],Ce=Math.sqrt(Ee);let Pe;for(Pe=1;Pe<Ce;Pe++)Ee%Pe===0&&(_e.push(Pe),_e.push(Ee/Pe));return Ce===(Ce|0)&&_e.push(Ce),_e.sort((Re,Ie)=>Re-Ie).pop(),_e}function isNonPrimitive(Ee){return typeof Ee=="symbol"||typeof Ee=="object"&&Ee!==null&&!(Symbol.toPrimitive in Ee||"toString"in Ee||"valueOf"in Ee)}function isNumber$1(Ee){return!isNonPrimitive(Ee)&&!isNaN(parseFloat(Ee))&&isFinite(Ee)}function almostWhole(Ee,_e){const Ce=Math.round(Ee);return Ce-_e<=Ee&&Ce+_e>=Ee}function _setMinAndMaxByKey(Ee,_e,Ce){let Pe,Re,Ie;for(Pe=0,Re=Ee.length;Pe<Re;Pe++)Ie=Ee[Pe][Ce],isNaN(Ie)||(_e.min=Math.min(_e.min,Ie),_e.max=Math.max(_e.max,Ie))}function toRadians(Ee){return Ee*(PI/180)}function toDegrees(Ee){return Ee*(180/PI)}function _decimalPlaces(Ee){if(!isNumberFinite(Ee))return;let _e=1,Ce=0;for(;Math.round(Ee*_e)/_e!==Ee;)_e*=10,Ce++;return Ce}function getAngleFromPoint(Ee,_e){const Ce=_e.x-Ee.x,Pe=_e.y-Ee.y,Re=Math.sqrt(Ce*Ce+Pe*Pe);let Ie=Math.atan2(Pe,Ce);return Ie<-.5*PI&&(Ie+=TAU),{angle:Ie,distance:Re}}function distanceBetweenPoints$1(Ee,_e){return Math.sqrt(Math.pow(_e.x-Ee.x,2)+Math.pow(_e.y-Ee.y,2))}function _angleDiff(Ee,_e){return(Ee-_e+PITAU)%TAU-PI}function _normalizeAngle(Ee){return(Ee%TAU+TAU)%TAU}function _angleBetween(Ee,_e,Ce,Pe){const Re=_normalizeAngle(Ee),Ie=_normalizeAngle(_e),Be=_normalizeAngle(Ce),je=_normalizeAngle(Ie-Re),De=_normalizeAngle(Be-Re),Fe=_normalizeAngle(Re-Ie),Oe=_normalizeAngle(Re-Be);return Re===Ie||Re===Be||Pe&&Ie===Be||je>De&&Fe<Oe}function _limitValue(Ee,_e,Ce){return Math.max(_e,Math.min(Ce,Ee))}function _int16Range(Ee){return _limitValue(Ee,-32768,32767)}function _isBetween(Ee,_e,Ce,Pe=1e-6){return Ee>=Math.min(_e,Ce)-Pe&&Ee<=Math.max(_e,Ce)+Pe}function _lookup(Ee,_e,Ce){Ce=Ce||(Be=>Ee[Be]<_e);let Pe=Ee.length-1,Re=0,Ie;for(;Pe-Re>1;)Ie=Re+Pe>>1,Ce(Ie)?Re=Ie:Pe=Ie;return{lo:Re,hi:Pe}}const _lookupByKey=(Ee,_e,Ce,Pe)=>_lookup(Ee,Ce,Pe?Re=>{const Ie=Ee[Re][_e];return Ie<Ce||Ie===Ce&&Ee[Re+1][_e]===Ce}:Re=>Ee[Re][_e]<Ce),_rlookupByKey=(Ee,_e,Ce)=>_lookup(Ee,Ce,Pe=>Ee[Pe][_e]>=Ce);function _filterBetween(Ee,_e,Ce){let Pe=0,Re=Ee.length;for(;Pe<Re&&Ee[Pe]<_e;)Pe++;for(;Re>Pe&&Ee[Re-1]>Ce;)Re--;return Pe>0||Re<Ee.length?Ee.slice(Pe,Re):Ee}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(Ee,_e){if(Ee._chartjs){Ee._chartjs.listeners.push(_e);return}Object.defineProperty(Ee,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[_e]}}),arrayEvents.forEach(Ce=>{const Pe="_onData"+_capitalize(Ce),Re=Ee[Ce];Object.defineProperty(Ee,Ce,{configurable:!0,enumerable:!1,value(...Ie){const Be=Re.apply(this,Ie);return Ee._chartjs.listeners.forEach(je=>{typeof je[Pe]=="function"&&je[Pe](...Ie)}),Be}})})}function unlistenArrayEvents(Ee,_e){const Ce=Ee._chartjs;if(!Ce)return;const Pe=Ce.listeners,Re=Pe.indexOf(_e);Re!==-1&&Pe.splice(Re,1),!(Pe.length>0)&&(arrayEvents.forEach(Ie=>{delete Ee[Ie]}),delete Ee._chartjs)}function _arrayUnique(Ee){const _e=new Set(Ee);return _e.size===Ee.length?Ee:Array.from(_e)}const requestAnimFrame=function(){return typeof window>"u"?function(Ee){return Ee()}:window.requestAnimationFrame}();function throttled(Ee,_e){let Ce=[],Pe=!1;return function(...Re){Ce=Re,Pe||(Pe=!0,requestAnimFrame.call(window,()=>{Pe=!1,Ee.apply(_e,Ce)}))}}function debounce$2(Ee,_e){let Ce;return function(...Pe){return _e?(clearTimeout(Ce),Ce=setTimeout(Ee,_e,Pe)):Ee.apply(this,Pe),_e}}const _toLeftRightCenter=Ee=>Ee==="start"?"left":Ee==="end"?"right":"center",_alignStartEnd=(Ee,_e,Ce)=>Ee==="start"?_e:Ee==="end"?Ce:(_e+Ce)/2,_textX=(Ee,_e,Ce,Pe)=>Ee===(Pe?"left":"right")?Ce:Ee==="center"?(_e+Ce)/2:_e,atEdge=Ee=>Ee===0||Ee===1,elasticIn=(Ee,_e,Ce)=>-(Math.pow(2,10*(Ee-=1))*Math.sin((Ee-_e)*TAU/Ce)),elasticOut=(Ee,_e,Ce)=>Math.pow(2,-10*Ee)*Math.sin((Ee-_e)*TAU/Ce)+1,effects={linear:Ee=>Ee,easeInQuad:Ee=>Ee*Ee,easeOutQuad:Ee=>-Ee*(Ee-2),easeInOutQuad:Ee=>(Ee/=.5)<1?.5*Ee*Ee:-.5*(--Ee*(Ee-2)-1),easeInCubic:Ee=>Ee*Ee*Ee,easeOutCubic:Ee=>(Ee-=1)*Ee*Ee+1,easeInOutCubic:Ee=>(Ee/=.5)<1?.5*Ee*Ee*Ee:.5*((Ee-=2)*Ee*Ee+2),easeInQuart:Ee=>Ee*Ee*Ee*Ee,easeOutQuart:Ee=>-((Ee-=1)*Ee*Ee*Ee-1),easeInOutQuart:Ee=>(Ee/=.5)<1?.5*Ee*Ee*Ee*Ee:-.5*((Ee-=2)*Ee*Ee*Ee-2),easeInQuint:Ee=>Ee*Ee*Ee*Ee*Ee,easeOutQuint:Ee=>(Ee-=1)*Ee*Ee*Ee*Ee+1,easeInOutQuint:Ee=>(Ee/=.5)<1?.5*Ee*Ee*Ee*Ee*Ee:.5*((Ee-=2)*Ee*Ee*Ee*Ee+2),easeInSine:Ee=>-Math.cos(Ee*HALF_PI)+1,easeOutSine:Ee=>Math.sin(Ee*HALF_PI),easeInOutSine:Ee=>-.5*(Math.cos(PI*Ee)-1),easeInExpo:Ee=>Ee===0?0:Math.pow(2,10*(Ee-1)),easeOutExpo:Ee=>Ee===1?1:-Math.pow(2,-10*Ee)+1,easeInOutExpo:Ee=>atEdge(Ee)?Ee:Ee<.5?.5*Math.pow(2,10*(Ee*2-1)):.5*(-Math.pow(2,-10*(Ee*2-1))+2),easeInCirc:Ee=>Ee>=1?Ee:-(Math.sqrt(1-Ee*Ee)-1),easeOutCirc:Ee=>Math.sqrt(1-(Ee-=1)*Ee),easeInOutCirc:Ee=>(Ee/=.5)<1?-.5*(Math.sqrt(1-Ee*Ee)-1):.5*(Math.sqrt(1-(Ee-=2)*Ee)+1),easeInElastic:Ee=>atEdge(Ee)?Ee:elasticIn(Ee,.075,.3),easeOutElastic:Ee=>atEdge(Ee)?Ee:elasticOut(Ee,.075,.3),easeInOutElastic(Ee){return atEdge(Ee)?Ee:Ee<.5?.5*elasticIn(Ee*2,.1125,.45):.5+.5*elasticOut(Ee*2-1,.1125,.45)},easeInBack(Ee){return Ee*Ee*((1.70158+1)*Ee-1.70158)},easeOutBack(Ee){return(Ee-=1)*Ee*((1.70158+1)*Ee+1.70158)+1},easeInOutBack(Ee){let _e=1.70158;return(Ee/=.5)<1?.5*(Ee*Ee*(((_e*=1.525)+1)*Ee-_e)):.5*((Ee-=2)*Ee*(((_e*=1.525)+1)*Ee+_e)+2)},easeInBounce:Ee=>1-effects.easeOutBounce(1-Ee),easeOutBounce(Ee){return Ee<1/2.75?7.5625*Ee*Ee:Ee<2/2.75?7.5625*(Ee-=1.5/2.75)*Ee+.75:Ee<2.5/2.75?7.5625*(Ee-=2.25/2.75)*Ee+.9375:7.5625*(Ee-=2.625/2.75)*Ee+.984375},easeInOutBounce:Ee=>Ee<.5?effects.easeInBounce(Ee*2)*.5:effects.easeOutBounce(Ee*2-1)*.5+.5};function isPatternOrGradient(Ee){if(Ee&&typeof Ee=="object"){const _e=Ee.toString();return _e==="[object CanvasPattern]"||_e==="[object CanvasGradient]"}return!1}function color$1(Ee){return isPatternOrGradient(Ee)?Ee:new Color$1(Ee)}function getHoverColor(Ee){return isPatternOrGradient(Ee)?Ee:new Color$1(Ee).saturate(.5).darken(.1).hexString()}const numbers$1=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(Ee){Ee.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),Ee.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:_e=>_e!=="onProgress"&&_e!=="onComplete"&&_e!=="fn"}),Ee.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers$1}}),Ee.describe("animations",{_fallback:"animation"}),Ee.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:_e=>_e|0}}}})}function applyLayoutsDefaults(Ee){Ee.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(Ee,_e){_e=_e||{};const Ce=Ee+JSON.stringify(_e);let Pe=intlCache.get(Ce);return Pe||(Pe=new Intl.NumberFormat(Ee,_e),intlCache.set(Ce,Pe)),Pe}function formatNumber(Ee,_e,Ce){return getNumberFormat(_e,Ce).format(Ee)}const formatters$1={values(Ee){return isArray(Ee)?Ee:""+Ee},numeric(Ee,_e,Ce){if(Ee===0)return"0";const Pe=this.chart.options.locale;let Re,Ie=Ee;if(Ce.length>1){const Fe=Math.max(Math.abs(Ce[0].value),Math.abs(Ce[Ce.length-1].value));(Fe<1e-4||Fe>1e15)&&(Re="scientific"),Ie=calculateDelta(Ee,Ce)}const Be=log10(Math.abs(Ie)),je=isNaN(Be)?1:Math.max(Math.min(-1*Math.floor(Be),20),0),De={notation:Re,minimumFractionDigits:je,maximumFractionDigits:je};return Object.assign(De,this.options.ticks.format),formatNumber(Ee,Pe,De)}};function calculateDelta(Ee,_e){let Ce=_e.length>3?_e[2].value-_e[1].value:_e[1].value-_e[0].value;return Math.abs(Ce)>=1&&Ee!==Math.floor(Ee)&&(Ce=Ee-Math.floor(Ee)),Ce}var Ticks={formatters:formatters$1};function applyScaleDefaults(Ee){Ee.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(_e,Ce)=>Ce.lineWidth,tickColor:(_e,Ce)=>Ce.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Ee.route("scale.ticks","color","","color"),Ee.route("scale.grid","color","","borderColor"),Ee.route("scale.border","color","","borderColor"),Ee.route("scale.title","color","","color"),Ee.describe("scale",{_fallback:!1,_scriptable:_e=>!_e.startsWith("before")&&!_e.startsWith("after")&&_e!=="callback"&&_e!=="parser",_indexable:_e=>_e!=="borderDash"&&_e!=="tickBorderDash"&&_e!=="dash"}),Ee.describe("scales",{_fallback:"scale"}),Ee.describe("scale.ticks",{_scriptable:_e=>_e!=="backdropPadding"&&_e!=="callback",_indexable:_e=>_e!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(Ee,_e){if(!_e)return Ee;const Ce=_e.split(".");for(let Pe=0,Re=Ce.length;Pe<Re;++Pe){const Ie=Ce[Pe];Ee=Ee[Ie]||(Ee[Ie]=Object.create(null))}return Ee}function set$1(Ee,_e,Ce){return typeof _e=="string"?merge(getScope$1(Ee,_e),Ce):merge(getScope$1(Ee,""),_e)}class Defaults{constructor(_e,Ce){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=Pe=>Pe.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(Pe,Re)=>getHoverColor(Re.backgroundColor),this.hoverBorderColor=(Pe,Re)=>getHoverColor(Re.borderColor),this.hoverColor=(Pe,Re)=>getHoverColor(Re.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(_e),this.apply(Ce)}set(_e,Ce){return set$1(this,_e,Ce)}get(_e){return getScope$1(this,_e)}describe(_e,Ce){return set$1(descriptors,_e,Ce)}override(_e,Ce){return set$1(overrides,_e,Ce)}route(_e,Ce,Pe,Re){const Ie=getScope$1(this,_e),Be=getScope$1(this,Pe),je="_"+Ce;Object.defineProperties(Ie,{[je]:{value:Ie[Ce],writable:!0},[Ce]:{enumerable:!0,get(){const De=this[je],Fe=Be[Re];return isObject$1(De)?Object.assign({},Fe,De):valueOrDefault(De,Fe)},set(De){this[je]=De}}})}apply(_e){_e.forEach(Ce=>Ce(this))}}var defaults$1=new Defaults({_scriptable:Ee=>!Ee.startsWith("on"),_indexable:Ee=>Ee!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(Ee){return!Ee||isNullOrUndef(Ee.size)||isNullOrUndef(Ee.family)?null:(Ee.style?Ee.style+" ":"")+(Ee.weight?Ee.weight+" ":"")+Ee.size+"px "+Ee.family}function _measureText(Ee,_e,Ce,Pe,Re){let Ie=_e[Re];return Ie||(Ie=_e[Re]=Ee.measureText(Re).width,Ce.push(Re)),Ie>Pe&&(Pe=Ie),Pe}function _alignPixel(Ee,_e,Ce){const Pe=Ee.currentDevicePixelRatio,Re=Ce!==0?Math.max(Ce/2,.5):0;return Math.round((_e-Re)*Pe)/Pe+Re}function clearCanvas(Ee,_e){!_e&&!Ee||(_e=_e||Ee.getContext("2d"),_e.save(),_e.resetTransform(),_e.clearRect(0,0,Ee.width,Ee.height),_e.restore())}function drawPoint(Ee,_e,Ce,Pe){drawPointLegend(Ee,_e,Ce,Pe,null)}function drawPointLegend(Ee,_e,Ce,Pe,Re){let Ie,Be,je,De,Fe,Oe,ke,Me;const $e=_e.pointStyle,He=_e.rotation,Qe=_e.radius;let Ke=(He||0)*RAD_PER_DEG;if($e&&typeof $e=="object"&&(Ie=$e.toString(),Ie==="[object HTMLImageElement]"||Ie==="[object HTMLCanvasElement]")){Ee.save(),Ee.translate(Ce,Pe),Ee.rotate(Ke),Ee.drawImage($e,-$e.width/2,-$e.height/2,$e.width,$e.height),Ee.restore();return}if(!(isNaN(Qe)||Qe<=0)){switch(Ee.beginPath(),$e){default:Re?Ee.ellipse(Ce,Pe,Re/2,Qe,0,0,TAU):Ee.arc(Ce,Pe,Qe,0,TAU),Ee.closePath();break;case"triangle":Oe=Re?Re/2:Qe,Ee.moveTo(Ce+Math.sin(Ke)*Oe,Pe-Math.cos(Ke)*Qe),Ke+=TWO_THIRDS_PI,Ee.lineTo(Ce+Math.sin(Ke)*Oe,Pe-Math.cos(Ke)*Qe),Ke+=TWO_THIRDS_PI,Ee.lineTo(Ce+Math.sin(Ke)*Oe,Pe-Math.cos(Ke)*Qe),Ee.closePath();break;case"rectRounded":Fe=Qe*.516,De=Qe-Fe,Be=Math.cos(Ke+QUARTER_PI)*De,ke=Math.cos(Ke+QUARTER_PI)*(Re?Re/2-Fe:De),je=Math.sin(Ke+QUARTER_PI)*De,Me=Math.sin(Ke+QUARTER_PI)*(Re?Re/2-Fe:De),Ee.arc(Ce-ke,Pe-je,Fe,Ke-PI,Ke-HALF_PI),Ee.arc(Ce+Me,Pe-Be,Fe,Ke-HALF_PI,Ke),Ee.arc(Ce+ke,Pe+je,Fe,Ke,Ke+HALF_PI),Ee.arc(Ce-Me,Pe+Be,Fe,Ke+HALF_PI,Ke+PI),Ee.closePath();break;case"rect":if(!He){De=Math.SQRT1_2*Qe,Oe=Re?Re/2:De,Ee.rect(Ce-Oe,Pe-De,2*Oe,2*De);break}Ke+=QUARTER_PI;case"rectRot":ke=Math.cos(Ke)*(Re?Re/2:Qe),Be=Math.cos(Ke)*Qe,je=Math.sin(Ke)*Qe,Me=Math.sin(Ke)*(Re?Re/2:Qe),Ee.moveTo(Ce-ke,Pe-je),Ee.lineTo(Ce+Me,Pe-Be),Ee.lineTo(Ce+ke,Pe+je),Ee.lineTo(Ce-Me,Pe+Be),Ee.closePath();break;case"crossRot":Ke+=QUARTER_PI;case"cross":ke=Math.cos(Ke)*(Re?Re/2:Qe),Be=Math.cos(Ke)*Qe,je=Math.sin(Ke)*Qe,Me=Math.sin(Ke)*(Re?Re/2:Qe),Ee.moveTo(Ce-ke,Pe-je),Ee.lineTo(Ce+ke,Pe+je),Ee.moveTo(Ce+Me,Pe-Be),Ee.lineTo(Ce-Me,Pe+Be);break;case"star":ke=Math.cos(Ke)*(Re?Re/2:Qe),Be=Math.cos(Ke)*Qe,je=Math.sin(Ke)*Qe,Me=Math.sin(Ke)*(Re?Re/2:Qe),Ee.moveTo(Ce-ke,Pe-je),Ee.lineTo(Ce+ke,Pe+je),Ee.moveTo(Ce+Me,Pe-Be),Ee.lineTo(Ce-Me,Pe+Be),Ke+=QUARTER_PI,ke=Math.cos(Ke)*(Re?Re/2:Qe),Be=Math.cos(Ke)*Qe,je=Math.sin(Ke)*Qe,Me=Math.sin(Ke)*(Re?Re/2:Qe),Ee.moveTo(Ce-ke,Pe-je),Ee.lineTo(Ce+ke,Pe+je),Ee.moveTo(Ce+Me,Pe-Be),Ee.lineTo(Ce-Me,Pe+Be);break;case"line":Be=Re?Re/2:Math.cos(Ke)*Qe,je=Math.sin(Ke)*Qe,Ee.moveTo(Ce-Be,Pe-je),Ee.lineTo(Ce+Be,Pe+je);break;case"dash":Ee.moveTo(Ce,Pe),Ee.lineTo(Ce+Math.cos(Ke)*(Re?Re/2:Qe),Pe+Math.sin(Ke)*Qe);break;case!1:Ee.closePath();break}Ee.fill(),_e.borderWidth>0&&Ee.stroke()}}function _isPointInArea(Ee,_e,Ce){return Ce=Ce||.5,!_e||Ee&&Ee.x>_e.left-Ce&&Ee.x<_e.right+Ce&&Ee.y>_e.top-Ce&&Ee.y<_e.bottom+Ce}function clipArea(Ee,_e){Ee.save(),Ee.beginPath(),Ee.rect(_e.left,_e.top,_e.right-_e.left,_e.bottom-_e.top),Ee.clip()}function unclipArea(Ee){Ee.restore()}function _steppedLineTo(Ee,_e,Ce,Pe,Re){if(!_e)return Ee.lineTo(Ce.x,Ce.y);if(Re==="middle"){const Ie=(_e.x+Ce.x)/2;Ee.lineTo(Ie,_e.y),Ee.lineTo(Ie,Ce.y)}else Re==="after"!=!!Pe?Ee.lineTo(_e.x,Ce.y):Ee.lineTo(Ce.x,_e.y);Ee.lineTo(Ce.x,Ce.y)}function _bezierCurveTo(Ee,_e,Ce,Pe){if(!_e)return Ee.lineTo(Ce.x,Ce.y);Ee.bezierCurveTo(Pe?_e.cp1x:_e.cp2x,Pe?_e.cp1y:_e.cp2y,Pe?Ce.cp2x:Ce.cp1x,Pe?Ce.cp2y:Ce.cp1y,Ce.x,Ce.y)}function setRenderOpts(Ee,_e){_e.translation&&Ee.translate(_e.translation[0],_e.translation[1]),isNullOrUndef(_e.rotation)||Ee.rotate(_e.rotation),_e.color&&(Ee.fillStyle=_e.color),_e.textAlign&&(Ee.textAlign=_e.textAlign),_e.textBaseline&&(Ee.textBaseline=_e.textBaseline)}function decorateText(Ee,_e,Ce,Pe,Re){if(Re.strikethrough||Re.underline){const Ie=Ee.measureText(Pe),Be=_e-Ie.actualBoundingBoxLeft,je=_e+Ie.actualBoundingBoxRight,De=Ce-Ie.actualBoundingBoxAscent,Fe=Ce+Ie.actualBoundingBoxDescent,Oe=Re.strikethrough?(De+Fe)/2:Fe;Ee.strokeStyle=Ee.fillStyle,Ee.beginPath(),Ee.lineWidth=Re.decorationWidth||2,Ee.moveTo(Be,Oe),Ee.lineTo(je,Oe),Ee.stroke()}}function drawBackdrop(Ee,_e){const Ce=Ee.fillStyle;Ee.fillStyle=_e.color,Ee.fillRect(_e.left,_e.top,_e.width,_e.height),Ee.fillStyle=Ce}function renderText(Ee,_e,Ce,Pe,Re,Ie={}){const Be=isArray(_e)?_e:[_e],je=Ie.strokeWidth>0&&Ie.strokeColor!=="";let De,Fe;for(Ee.save(),Ee.font=Re.string,setRenderOpts(Ee,Ie),De=0;De<Be.length;++De)Fe=Be[De],Ie.backdrop&&drawBackdrop(Ee,Ie.backdrop),je&&(Ie.strokeColor&&(Ee.strokeStyle=Ie.strokeColor),isNullOrUndef(Ie.strokeWidth)||(Ee.lineWidth=Ie.strokeWidth),Ee.strokeText(Fe,Ce,Pe,Ie.maxWidth)),Ee.fillText(Fe,Ce,Pe,Ie.maxWidth),decorateText(Ee,Ce,Pe,Fe,Ie),Pe+=Number(Re.lineHeight);Ee.restore()}function addRoundedRectPath(Ee,_e){const{x:Ce,y:Pe,w:Re,h:Ie,radius:Be}=_e;Ee.arc(Ce+Be.topLeft,Pe+Be.topLeft,Be.topLeft,1.5*PI,PI,!0),Ee.lineTo(Ce,Pe+Ie-Be.bottomLeft),Ee.arc(Ce+Be.bottomLeft,Pe+Ie-Be.bottomLeft,Be.bottomLeft,PI,HALF_PI,!0),Ee.lineTo(Ce+Re-Be.bottomRight,Pe+Ie),Ee.arc(Ce+Re-Be.bottomRight,Pe+Ie-Be.bottomRight,Be.bottomRight,HALF_PI,0,!0),Ee.lineTo(Ce+Re,Pe+Be.topRight),Ee.arc(Ce+Re-Be.topRight,Pe+Be.topRight,Be.topRight,0,-HALF_PI,!0),Ee.lineTo(Ce+Be.topLeft,Pe)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(Ee,_e){const Ce=(""+Ee).match(LINE_HEIGHT);if(!Ce||Ce[1]==="normal")return _e*1.2;switch(Ee=+Ce[2],Ce[3]){case"px":return Ee;case"%":Ee/=100;break}return _e*Ee}const numberOrZero=Ee=>+Ee||0;function _readValueToProps(Ee,_e){const Ce={},Pe=isObject$1(_e),Re=Pe?Object.keys(_e):_e,Ie=isObject$1(Ee)?Pe?Be=>valueOrDefault(Ee[Be],Ee[_e[Be]]):Be=>Ee[Be]:()=>Ee;for(const Be of Re)Ce[Be]=numberOrZero(Ie(Be));return Ce}function toTRBL(Ee){return _readValueToProps(Ee,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(Ee){return _readValueToProps(Ee,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(Ee){const _e=toTRBL(Ee);return _e.width=_e.left+_e.right,_e.height=_e.top+_e.bottom,_e}function toFont(Ee,_e){Ee=Ee||{},_e=_e||defaults$1.font;let Ce=valueOrDefault(Ee.size,_e.size);typeof Ce=="string"&&(Ce=parseInt(Ce,10));let Pe=valueOrDefault(Ee.style,_e.style);Pe&&!(""+Pe).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+Pe+'"'),Pe=void 0);const Re={family:valueOrDefault(Ee.family,_e.family),lineHeight:toLineHeight(valueOrDefault(Ee.lineHeight,_e.lineHeight),Ce),size:Ce,style:Pe,weight:valueOrDefault(Ee.weight,_e.weight),string:""};return Re.string=toFontString(Re),Re}function resolve(Ee,_e,Ce,Pe){let Re,Ie,Be;for(Re=0,Ie=Ee.length;Re<Ie;++Re)if(Be=Ee[Re],Be!==void 0&&Be!==void 0)return Be}function _addGrace(Ee,_e,Ce){const{min:Pe,max:Re}=Ee,Ie=toDimension(_e,(Re-Pe)/2),Be=(je,De)=>Ce&&je===0?0:je+De;return{min:Be(Pe,-Math.abs(Ie)),max:Be(Re,Ie)}}function createContext(Ee,_e){return Object.assign(Object.create(Ee),_e)}function _createResolver(Ee,_e=[""],Ce,Pe,Re=()=>Ee[0]){const Ie=Ce||Ee;typeof Pe>"u"&&(Pe=_resolve("_fallback",Ee));const Be={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:Ee,_rootScopes:Ie,_fallback:Pe,_getTarget:Re,override:je=>_createResolver([je,...Ee],_e,Ie,Pe)};return new Proxy(Be,{deleteProperty(je,De){return delete je[De],delete je._keys,delete Ee[0][De],!0},get(je,De){return _cached(je,De,()=>_resolveWithPrefixes(De,_e,Ee,je))},getOwnPropertyDescriptor(je,De){return Reflect.getOwnPropertyDescriptor(je._scopes[0],De)},getPrototypeOf(){return Reflect.getPrototypeOf(Ee[0])},has(je,De){return getKeysFromAllScopes(je).includes(De)},ownKeys(je){return getKeysFromAllScopes(je)},set(je,De,Fe){const Oe=je._storage||(je._storage=Re());return je[De]=Oe[De]=Fe,delete je._keys,!0}})}function _attachContext(Ee,_e,Ce,Pe){const Re={_cacheable:!1,_proxy:Ee,_context:_e,_subProxy:Ce,_stack:new Set,_descriptors:_descriptors(Ee,Pe),setContext:Ie=>_attachContext(Ee,Ie,Ce,Pe),override:Ie=>_attachContext(Ee.override(Ie),_e,Ce,Pe)};return new Proxy(Re,{deleteProperty(Ie,Be){return delete Ie[Be],delete Ee[Be],!0},get(Ie,Be,je){return _cached(Ie,Be,()=>_resolveWithContext(Ie,Be,je))},getOwnPropertyDescriptor(Ie,Be){return Ie._descriptors.allKeys?Reflect.has(Ee,Be)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(Ee,Be)},getPrototypeOf(){return Reflect.getPrototypeOf(Ee)},has(Ie,Be){return Reflect.has(Ee,Be)},ownKeys(){return Reflect.ownKeys(Ee)},set(Ie,Be,je){return Ee[Be]=je,delete Ie[Be],!0}})}function _descriptors(Ee,_e={scriptable:!0,indexable:!0}){const{_scriptable:Ce=_e.scriptable,_indexable:Pe=_e.indexable,_allKeys:Re=_e.allKeys}=Ee;return{allKeys:Re,scriptable:Ce,indexable:Pe,isScriptable:isFunction(Ce)?Ce:()=>Ce,isIndexable:isFunction(Pe)?Pe:()=>Pe}}const readKey=(Ee,_e)=>Ee?Ee+_capitalize(_e):_e,needsSubResolver=(Ee,_e)=>isObject$1(_e)&&Ee!=="adapters"&&(Object.getPrototypeOf(_e)===null||_e.constructor===Object);function _cached(Ee,_e,Ce){if(Object.prototype.hasOwnProperty.call(Ee,_e)||_e==="constructor")return Ee[_e];const Pe=Ce();return Ee[_e]=Pe,Pe}function _resolveWithContext(Ee,_e,Ce){const{_proxy:Pe,_context:Re,_subProxy:Ie,_descriptors:Be}=Ee;let je=Pe[_e];return isFunction(je)&&Be.isScriptable(_e)&&(je=_resolveScriptable(_e,je,Ee,Ce)),isArray(je)&&je.length&&(je=_resolveArray(_e,je,Ee,Be.isIndexable)),needsSubResolver(_e,je)&&(je=_attachContext(je,Re,Ie&&Ie[_e],Be)),je}function _resolveScriptable(Ee,_e,Ce,Pe){const{_proxy:Re,_context:Ie,_subProxy:Be,_stack:je}=Ce;if(je.has(Ee))throw new Error("Recursion detected: "+Array.from(je).join("->")+"->"+Ee);je.add(Ee);let De=_e(Ie,Be||Pe);return je.delete(Ee),needsSubResolver(Ee,De)&&(De=createSubResolver(Re._scopes,Re,Ee,De)),De}function _resolveArray(Ee,_e,Ce,Pe){const{_proxy:Re,_context:Ie,_subProxy:Be,_descriptors:je}=Ce;if(typeof Ie.index<"u"&&Pe(Ee))return _e[Ie.index%_e.length];if(isObject$1(_e[0])){const De=_e,Fe=Re._scopes.filter(Oe=>Oe!==De);_e=[];for(const Oe of De){const ke=createSubResolver(Fe,Re,Ee,Oe);_e.push(_attachContext(ke,Ie,Be&&Be[Ee],je))}}return _e}function resolveFallback(Ee,_e,Ce){return isFunction(Ee)?Ee(_e,Ce):Ee}const getScope=(Ee,_e)=>Ee===!0?_e:typeof Ee=="string"?resolveObjectKey(_e,Ee):void 0;function addScopes(Ee,_e,Ce,Pe,Re){for(const Ie of _e){const Be=getScope(Ce,Ie);if(Be){Ee.add(Be);const je=resolveFallback(Be._fallback,Ce,Re);if(typeof je<"u"&&je!==Ce&&je!==Pe)return je}else if(Be===!1&&typeof Pe<"u"&&Ce!==Pe)return null}return!1}function createSubResolver(Ee,_e,Ce,Pe){const Re=_e._rootScopes,Ie=resolveFallback(_e._fallback,Ce,Pe),Be=[...Ee,...Re],je=new Set;je.add(Pe);let De=addScopesFromKey(je,Be,Ce,Ie||Ce,Pe);return De===null||typeof Ie<"u"&&Ie!==Ce&&(De=addScopesFromKey(je,Be,Ie,De,Pe),De===null)?!1:_createResolver(Array.from(je),[""],Re,Ie,()=>subGetTarget(_e,Ce,Pe))}function addScopesFromKey(Ee,_e,Ce,Pe,Re){for(;Ce;)Ce=addScopes(Ee,_e,Ce,Pe,Re);return Ce}function subGetTarget(Ee,_e,Ce){const Pe=Ee._getTarget();_e in Pe||(Pe[_e]={});const Re=Pe[_e];return isArray(Re)&&isObject$1(Ce)?Ce:Re||{}}function _resolveWithPrefixes(Ee,_e,Ce,Pe){let Re;for(const Ie of _e)if(Re=_resolve(readKey(Ie,Ee),Ce),typeof Re<"u")return needsSubResolver(Ee,Re)?createSubResolver(Ce,Pe,Ee,Re):Re}function _resolve(Ee,_e){for(const Ce of _e){if(!Ce)continue;const Pe=Ce[Ee];if(typeof Pe<"u")return Pe}}function getKeysFromAllScopes(Ee){let _e=Ee._keys;return _e||(_e=Ee._keys=resolveKeysFromAllScopes(Ee._scopes)),_e}function resolveKeysFromAllScopes(Ee){const _e=new Set;for(const Ce of Ee)for(const Pe of Object.keys(Ce).filter(Re=>!Re.startsWith("_")))_e.add(Pe);return Array.from(_e)}const EPSILON=Number.EPSILON||1e-14,getPoint=(Ee,_e)=>_e<Ee.length&&!Ee[_e].skip&&Ee[_e],getValueAxis=Ee=>Ee==="x"?"y":"x";function splineCurve(Ee,_e,Ce,Pe){const Re=Ee.skip?_e:Ee,Ie=_e,Be=Ce.skip?_e:Ce,je=distanceBetweenPoints$1(Ie,Re),De=distanceBetweenPoints$1(Be,Ie);let Fe=je/(je+De),Oe=De/(je+De);Fe=isNaN(Fe)?0:Fe,Oe=isNaN(Oe)?0:Oe;const ke=Pe*Fe,Me=Pe*Oe;return{previous:{x:Ie.x-ke*(Be.x-Re.x),y:Ie.y-ke*(Be.y-Re.y)},next:{x:Ie.x+Me*(Be.x-Re.x),y:Ie.y+Me*(Be.y-Re.y)}}}function monotoneAdjust(Ee,_e,Ce){const Pe=Ee.length;let Re,Ie,Be,je,De,Fe=getPoint(Ee,0);for(let Oe=0;Oe<Pe-1;++Oe)if(De=Fe,Fe=getPoint(Ee,Oe+1),!(!De||!Fe)){if(almostEquals(_e[Oe],0,EPSILON)){Ce[Oe]=Ce[Oe+1]=0;continue}Re=Ce[Oe]/_e[Oe],Ie=Ce[Oe+1]/_e[Oe],je=Math.pow(Re,2)+Math.pow(Ie,2),!(je<=9)&&(Be=3/Math.sqrt(je),Ce[Oe]=Re*Be*_e[Oe],Ce[Oe+1]=Ie*Be*_e[Oe])}}function monotoneCompute(Ee,_e,Ce="x"){const Pe=getValueAxis(Ce),Re=Ee.length;let Ie,Be,je,De=getPoint(Ee,0);for(let Fe=0;Fe<Re;++Fe){if(Be=je,je=De,De=getPoint(Ee,Fe+1),!je)continue;const Oe=je[Ce],ke=je[Pe];Be&&(Ie=(Oe-Be[Ce])/3,je[`cp1${Ce}`]=Oe-Ie,je[`cp1${Pe}`]=ke-Ie*_e[Fe]),De&&(Ie=(De[Ce]-Oe)/3,je[`cp2${Ce}`]=Oe+Ie,je[`cp2${Pe}`]=ke+Ie*_e[Fe])}}function splineCurveMonotone(Ee,_e="x"){const Ce=getValueAxis(_e),Pe=Ee.length,Re=Array(Pe).fill(0),Ie=Array(Pe);let Be,je,De,Fe=getPoint(Ee,0);for(Be=0;Be<Pe;++Be)if(je=De,De=Fe,Fe=getPoint(Ee,Be+1),!!De){if(Fe){const Oe=Fe[_e]-De[_e];Re[Be]=Oe!==0?(Fe[Ce]-De[Ce])/Oe:0}Ie[Be]=je?Fe?sign$1(Re[Be-1])!==sign$1(Re[Be])?0:(Re[Be-1]+Re[Be])/2:Re[Be-1]:Re[Be]}monotoneAdjust(Ee,Re,Ie),monotoneCompute(Ee,Ie,_e)}function capControlPoint(Ee,_e,Ce){return Math.max(Math.min(Ee,Ce),_e)}function capBezierPoints(Ee,_e){let Ce,Pe,Re,Ie,Be,je=_isPointInArea(Ee[0],_e);for(Ce=0,Pe=Ee.length;Ce<Pe;++Ce)Be=Ie,Ie=je,je=Ce<Pe-1&&_isPointInArea(Ee[Ce+1],_e),Ie&&(Re=Ee[Ce],Be&&(Re.cp1x=capControlPoint(Re.cp1x,_e.left,_e.right),Re.cp1y=capControlPoint(Re.cp1y,_e.top,_e.bottom)),je&&(Re.cp2x=capControlPoint(Re.cp2x,_e.left,_e.right),Re.cp2y=capControlPoint(Re.cp2y,_e.top,_e.bottom)))}function _updateBezierControlPoints(Ee,_e,Ce,Pe,Re){let Ie,Be,je,De;if(_e.spanGaps&&(Ee=Ee.filter(Fe=>!Fe.skip)),_e.cubicInterpolationMode==="monotone")splineCurveMonotone(Ee,Re);else{let Fe=Pe?Ee[Ee.length-1]:Ee[0];for(Ie=0,Be=Ee.length;Ie<Be;++Ie)je=Ee[Ie],De=splineCurve(Fe,je,Ee[Math.min(Ie+1,Be-(Pe?0:1))%Be],_e.tension),je.cp1x=De.previous.x,je.cp1y=De.previous.y,je.cp2x=De.next.x,je.cp2y=De.next.y,Fe=je}_e.capBezierPoints&&capBezierPoints(Ee,Ce)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(Ee){let _e=Ee.parentNode;return _e&&_e.toString()==="[object ShadowRoot]"&&(_e=_e.host),_e}function parseMaxStyle(Ee,_e,Ce){let Pe;return typeof Ee=="string"?(Pe=parseInt(Ee,10),Ee.indexOf("%")!==-1&&(Pe=Pe/100*_e.parentNode[Ce])):Pe=Ee,Pe}const getComputedStyle$1=Ee=>Ee.ownerDocument.defaultView.getComputedStyle(Ee,null);function getStyle(Ee,_e){return getComputedStyle$1(Ee).getPropertyValue(_e)}const positions=["top","right","bottom","left"];function getPositionedStyle(Ee,_e,Ce){const Pe={};Ce=Ce?"-"+Ce:"";for(let Re=0;Re<4;Re++){const Ie=positions[Re];Pe[Ie]=parseFloat(Ee[_e+"-"+Ie+Ce])||0}return Pe.width=Pe.left+Pe.right,Pe.height=Pe.top+Pe.bottom,Pe}const useOffsetPos=(Ee,_e,Ce)=>(Ee>0||_e>0)&&(!Ce||!Ce.shadowRoot);function getCanvasPosition(Ee,_e){const Ce=Ee.touches,Pe=Ce&&Ce.length?Ce[0]:Ee,{offsetX:Re,offsetY:Ie}=Pe;let Be=!1,je,De;if(useOffsetPos(Re,Ie,Ee.target))je=Re,De=Ie;else{const Fe=_e.getBoundingClientRect();je=Pe.clientX-Fe.left,De=Pe.clientY-Fe.top,Be=!0}return{x:je,y:De,box:Be}}function getRelativePosition(Ee,_e){if("native"in Ee)return Ee;const{canvas:Ce,currentDevicePixelRatio:Pe}=_e,Re=getComputedStyle$1(Ce),Ie=Re.boxSizing==="border-box",Be=getPositionedStyle(Re,"padding"),je=getPositionedStyle(Re,"border","width"),{x:De,y:Fe,box:Oe}=getCanvasPosition(Ee,Ce),ke=Be.left+(Oe&&je.left),Me=Be.top+(Oe&&je.top);let{width:$e,height:He}=_e;return Ie&&($e-=Be.width+je.width,He-=Be.height+je.height),{x:Math.round((De-ke)/$e*Ce.width/Pe),y:Math.round((Fe-Me)/He*Ce.height/Pe)}}function getContainerSize(Ee,_e,Ce){let Pe,Re;if(_e===void 0||Ce===void 0){const Ie=Ee&&_getParentNode(Ee);if(!Ie)_e=Ee.clientWidth,Ce=Ee.clientHeight;else{const Be=Ie.getBoundingClientRect(),je=getComputedStyle$1(Ie),De=getPositionedStyle(je,"border","width"),Fe=getPositionedStyle(je,"padding");_e=Be.width-Fe.width-De.width,Ce=Be.height-Fe.height-De.height,Pe=parseMaxStyle(je.maxWidth,Ie,"clientWidth"),Re=parseMaxStyle(je.maxHeight,Ie,"clientHeight")}}return{width:_e,height:Ce,maxWidth:Pe||INFINITY,maxHeight:Re||INFINITY}}const round1=Ee=>Math.round(Ee*10)/10;function getMaximumSize(Ee,_e,Ce,Pe){const Re=getComputedStyle$1(Ee),Ie=getPositionedStyle(Re,"margin"),Be=parseMaxStyle(Re.maxWidth,Ee,"clientWidth")||INFINITY,je=parseMaxStyle(Re.maxHeight,Ee,"clientHeight")||INFINITY,De=getContainerSize(Ee,_e,Ce);let{width:Fe,height:Oe}=De;if(Re.boxSizing==="content-box"){const Me=getPositionedStyle(Re,"border","width"),$e=getPositionedStyle(Re,"padding");Fe-=$e.width+Me.width,Oe-=$e.height+Me.height}return Fe=Math.max(0,Fe-Ie.width),Oe=Math.max(0,Pe?Fe/Pe:Oe-Ie.height),Fe=round1(Math.min(Fe,Be,De.maxWidth)),Oe=round1(Math.min(Oe,je,De.maxHeight)),Fe&&!Oe&&(Oe=round1(Fe/2)),(_e!==void 0||Ce!==void 0)&&Pe&&De.height&&Oe>De.height&&(Oe=De.height,Fe=round1(Math.floor(Oe*Pe))),{width:Fe,height:Oe}}function retinaScale(Ee,_e,Ce){const Pe=_e||1,Re=Math.floor(Ee.height*Pe),Ie=Math.floor(Ee.width*Pe);Ee.height=Math.floor(Ee.height),Ee.width=Math.floor(Ee.width);const Be=Ee.canvas;return Be.style&&(Ce||!Be.style.height&&!Be.style.width)&&(Be.style.height=`${Ee.height}px`,Be.style.width=`${Ee.width}px`),Ee.currentDevicePixelRatio!==Pe||Be.height!==Re||Be.width!==Ie?(Ee.currentDevicePixelRatio=Pe,Be.height=Re,Be.width=Ie,Ee.ctx.setTransform(Pe,0,0,Pe,0,0),!0):!1}const supportsEventListenerOptions=function(){let Ee=!1;try{const _e={get passive(){return Ee=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,_e),window.removeEventListener("test",null,_e))}catch{}return Ee}();function readUsedSize(Ee,_e){const Ce=getStyle(Ee,_e),Pe=Ce&&Ce.match(/^(\d+)(\.\d+)?px$/);return Pe?+Pe[1]:void 0}function _pointInLine(Ee,_e,Ce,Pe){return{x:Ee.x+Ce*(_e.x-Ee.x),y:Ee.y+Ce*(_e.y-Ee.y)}}function _steppedInterpolation(Ee,_e,Ce,Pe){return{x:Ee.x+Ce*(_e.x-Ee.x),y:Pe==="middle"?Ce<.5?Ee.y:_e.y:Pe==="after"?Ce<1?Ee.y:_e.y:Ce>0?_e.y:Ee.y}}function _bezierInterpolation(Ee,_e,Ce,Pe){const Re={x:Ee.cp2x,y:Ee.cp2y},Ie={x:_e.cp1x,y:_e.cp1y},Be=_pointInLine(Ee,Re,Ce),je=_pointInLine(Re,Ie,Ce),De=_pointInLine(Ie,_e,Ce),Fe=_pointInLine(Be,je,Ce),Oe=_pointInLine(je,De,Ce);return _pointInLine(Fe,Oe,Ce)}const getRightToLeftAdapter=function(Ee,_e){return{x(Ce){return Ee+Ee+_e-Ce},setWidth(Ce){_e=Ce},textAlign(Ce){return Ce==="center"?Ce:Ce==="right"?"left":"right"},xPlus(Ce,Pe){return Ce-Pe},leftForLtr(Ce,Pe){return Ce-Pe}}},getLeftToRightAdapter=function(){return{x(Ee){return Ee},setWidth(Ee){},textAlign(Ee){return Ee},xPlus(Ee,_e){return Ee+_e},leftForLtr(Ee,_e){return Ee}}};function getRtlAdapter(Ee,_e,Ce){return Ee?getRightToLeftAdapter(_e,Ce):getLeftToRightAdapter()}function overrideTextDirection(Ee,_e){let Ce,Pe;(_e==="ltr"||_e==="rtl")&&(Ce=Ee.canvas.style,Pe=[Ce.getPropertyValue("direction"),Ce.getPropertyPriority("direction")],Ce.setProperty("direction",_e,"important"),Ee.prevTextDirection=Pe)}function restoreTextDirection(Ee,_e){_e!==void 0&&(delete Ee.prevTextDirection,Ee.canvas.style.setProperty("direction",_e[0],_e[1]))}function propertyFn(Ee){return Ee==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(_e,Ce)=>_e-Ce,normalize:_e=>_e}}function normalizeSegment({start:Ee,end:_e,count:Ce,loop:Pe,style:Re}){return{start:Ee%Ce,end:_e%Ce,loop:Pe&&(_e-Ee+1)%Ce===0,style:Re}}function getSegment(Ee,_e,Ce){const{property:Pe,start:Re,end:Ie}=Ce,{between:Be,normalize:je}=propertyFn(Pe),De=_e.length;let{start:Fe,end:Oe,loop:ke}=Ee,Me,$e;if(ke){for(Fe+=De,Oe+=De,Me=0,$e=De;Me<$e&&Be(je(_e[Fe%De][Pe]),Re,Ie);++Me)Fe--,Oe--;Fe%=De,Oe%=De}return Oe<Fe&&(Oe+=De),{start:Fe,end:Oe,loop:ke,style:Ee.style}}function _boundSegment(Ee,_e,Ce){if(!Ce)return[Ee];const{property:Pe,start:Re,end:Ie}=Ce,Be=_e.length,{compare:je,between:De,normalize:Fe}=propertyFn(Pe),{start:Oe,end:ke,loop:Me,style:$e}=getSegment(Ee,_e,Ce),He=[];let Qe=!1,Ke=null,ze,We,qe;const Ye=()=>De(Re,qe,ze)&&je(Re,qe)!==0,Xe=()=>je(Ie,ze)===0||De(Ie,qe,ze),rr=()=>Qe||Ye(),Je=()=>!Qe||Xe();for(let er=Oe,or=Oe;er<=ke;++er)We=_e[er%Be],!We.skip&&(ze=Fe(We[Pe]),ze!==qe&&(Qe=De(ze,Re,Ie),Ke===null&&rr()&&(Ke=je(ze,Re)===0?er:or),Ke!==null&&Je()&&(He.push(normalizeSegment({start:Ke,end:er,loop:Me,count:Be,style:$e})),Ke=null),or=er,qe=ze));return Ke!==null&&He.push(normalizeSegment({start:Ke,end:ke,loop:Me,count:Be,style:$e})),He}function _boundSegments(Ee,_e){const Ce=[],Pe=Ee.segments;for(let Re=0;Re<Pe.length;Re++){const Ie=_boundSegment(Pe[Re],Ee.points,_e);Ie.length&&Ce.push(...Ie)}return Ce}function findStartAndEnd(Ee,_e,Ce,Pe){let Re=0,Ie=_e-1;if(Ce&&!Pe)for(;Re<_e&&!Ee[Re].skip;)Re++;for(;Re<_e&&Ee[Re].skip;)Re++;for(Re%=_e,Ce&&(Ie+=Re);Ie>Re&&Ee[Ie%_e].skip;)Ie--;return Ie%=_e,{start:Re,end:Ie}}function solidSegments(Ee,_e,Ce,Pe){const Re=Ee.length,Ie=[];let Be=_e,je=Ee[_e],De;for(De=_e+1;De<=Ce;++De){const Fe=Ee[De%Re];Fe.skip||Fe.stop?je.skip||(Pe=!1,Ie.push({start:_e%Re,end:(De-1)%Re,loop:Pe}),_e=Be=Fe.stop?De:null):(Be=De,je.skip&&(_e=De)),je=Fe}return Be!==null&&Ie.push({start:_e%Re,end:Be%Re,loop:Pe}),Ie}function _computeSegments(Ee,_e){const Ce=Ee.points,Pe=Ee.options.spanGaps,Re=Ce.length;if(!Re)return[];const Ie=!!Ee._loop,{start:Be,end:je}=findStartAndEnd(Ce,Re,Ie,Pe);if(Pe===!0)return splitByStyles(Ee,[{start:Be,end:je,loop:Ie}],Ce,_e);const De=je<Be?je+Re:je,Fe=!!Ee._fullLoop&&Be===0&&je===Re-1;return splitByStyles(Ee,solidSegments(Ce,Be,De,Fe),Ce,_e)}function splitByStyles(Ee,_e,Ce,Pe){return!Pe||!Pe.setContext||!Ce?_e:doSplitByStyles(Ee,_e,Ce,Pe)}function doSplitByStyles(Ee,_e,Ce,Pe){const Re=Ee._chart.getContext(),Ie=readStyle(Ee.options),{_datasetIndex:Be,options:{spanGaps:je}}=Ee,De=Ce.length,Fe=[];let Oe=Ie,ke=_e[0].start,Me=ke;function $e(He,Qe,Ke,ze){const We=je?-1:1;if(He!==Qe){for(He+=De;Ce[He%De].skip;)He-=We;for(;Ce[Qe%De].skip;)Qe+=We;He%De!==Qe%De&&(Fe.push({start:He%De,end:Qe%De,loop:Ke,style:ze}),Oe=ze,ke=Qe%De)}}for(const He of _e){ke=je?ke:He.start;let Qe=Ce[ke%De],Ke;for(Me=ke+1;Me<=He.end;Me++){const ze=Ce[Me%De];Ke=readStyle(Pe.setContext(createContext(Re,{type:"segment",p0:Qe,p1:ze,p0DataIndex:(Me-1)%De,p1DataIndex:Me%De,datasetIndex:Be}))),styleChanged(Ke,Oe)&&$e(ke,Me-1,He.loop,Oe),Qe=ze,Oe=Ke}ke<Me-1&&$e(ke,Me-1,He.loop,Oe)}return Fe}function readStyle(Ee){return{backgroundColor:Ee.backgroundColor,borderCapStyle:Ee.borderCapStyle,borderDash:Ee.borderDash,borderDashOffset:Ee.borderDashOffset,borderJoinStyle:Ee.borderJoinStyle,borderWidth:Ee.borderWidth,borderColor:Ee.borderColor}}function styleChanged(Ee,_e){if(!_e)return!1;const Ce=[],Pe=function(Re,Ie){return isPatternOrGradient(Ie)?(Ce.includes(Ie)||Ce.push(Ie),Ce.indexOf(Ie)):Ie};return JSON.stringify(Ee,Pe)!==JSON.stringify(_e,Pe)}function getSizeForArea(Ee,_e,Ce){return Ee.options.clip?Ee[Ce]:_e[Ce]}function getDatasetArea(Ee,_e){const{xScale:Ce,yScale:Pe}=Ee;return Ce&&Pe?{left:getSizeForArea(Ce,_e,"left"),right:getSizeForArea(Ce,_e,"right"),top:getSizeForArea(Pe,_e,"top"),bottom:getSizeForArea(Pe,_e,"bottom")}:_e}function getDatasetClipArea(Ee,_e){const Ce=_e._clip;if(Ce.disabled)return!1;const Pe=getDatasetArea(_e,Ee.chartArea);return{left:Ce.left===!1?0:Pe.left-(Ce.left===!0?0:Ce.left),right:Ce.right===!1?Ee.width:Pe.right+(Ce.right===!0?0:Ce.right),top:Ce.top===!1?0:Pe.top-(Ce.top===!0?0:Ce.top),bottom:Ce.bottom===!1?Ee.height:Pe.bottom+(Ce.bottom===!0?0:Ce.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(_e,Ce,Pe,Re){const Ie=Ce.listeners[Re],Be=Ce.duration;Ie.forEach(je=>je({chart:_e,initial:Ce.initial,numSteps:Be,currentStep:Math.min(Pe-Ce.start,Be)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(_e=Date.now()){let Ce=0;this._charts.forEach((Pe,Re)=>{if(!Pe.running||!Pe.items.length)return;const Ie=Pe.items;let Be=Ie.length-1,je=!1,De;for(;Be>=0;--Be)De=Ie[Be],De._active?(De._total>Pe.duration&&(Pe.duration=De._total),De.tick(_e),je=!0):(Ie[Be]=Ie[Ie.length-1],Ie.pop());je&&(Re.draw(),this._notify(Re,Pe,_e,"progress")),Ie.length||(Pe.running=!1,this._notify(Re,Pe,_e,"complete"),Pe.initial=!1),Ce+=Ie.length}),this._lastDate=_e,Ce===0&&(this._running=!1)}_getAnims(_e){const Ce=this._charts;let Pe=Ce.get(_e);return Pe||(Pe={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},Ce.set(_e,Pe)),Pe}listen(_e,Ce,Pe){this._getAnims(_e).listeners[Ce].push(Pe)}add(_e,Ce){!Ce||!Ce.length||this._getAnims(_e).items.push(...Ce)}has(_e){return this._getAnims(_e).items.length>0}start(_e){const Ce=this._charts.get(_e);Ce&&(Ce.running=!0,Ce.start=Date.now(),Ce.duration=Ce.items.reduce((Pe,Re)=>Math.max(Pe,Re._duration),0),this._refresh())}running(_e){if(!this._running)return!1;const Ce=this._charts.get(_e);return!(!Ce||!Ce.running||!Ce.items.length)}stop(_e){const Ce=this._charts.get(_e);if(!Ce||!Ce.items.length)return;const Pe=Ce.items;let Re=Pe.length-1;for(;Re>=0;--Re)Pe[Re].cancel();Ce.items=[],this._notify(_e,Ce,Date.now(),"complete")}remove(_e){return this._charts.delete(_e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(Ee,_e,Ce){return Ce>.5?_e:Ee},color(Ee,_e,Ce){const Pe=color$1(Ee||transparent),Re=Pe.valid&&color$1(_e||transparent);return Re&&Re.valid?Re.mix(Pe,Ce).hexString():_e},number(Ee,_e,Ce){return Ee+(_e-Ee)*Ce}};class Animation{constructor(_e,Ce,Pe,Re){const Ie=Ce[Pe];Re=resolve([_e.to,Re,Ie,_e.from]);const Be=resolve([_e.from,Ie,Re]);this._active=!0,this._fn=_e.fn||interpolators[_e.type||typeof Be],this._easing=effects[_e.easing]||effects.linear,this._start=Math.floor(Date.now()+(_e.delay||0)),this._duration=this._total=Math.floor(_e.duration),this._loop=!!_e.loop,this._target=Ce,this._prop=Pe,this._from=Be,this._to=Re,this._promises=void 0}active(){return this._active}update(_e,Ce,Pe){if(this._active){this._notify(!1);const Re=this._target[this._prop],Ie=Pe-this._start,Be=this._duration-Ie;this._start=Pe,this._duration=Math.floor(Math.max(Be,_e.duration)),this._total+=Ie,this._loop=!!_e.loop,this._to=resolve([_e.to,Ce,Re,_e.from]),this._from=resolve([_e.from,Re,Ce])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(_e){const Ce=_e-this._start,Pe=this._duration,Re=this._prop,Ie=this._from,Be=this._loop,je=this._to;let De;if(this._active=Ie!==je&&(Be||Ce<Pe),!this._active){this._target[Re]=je,this._notify(!0);return}if(Ce<0){this._target[Re]=Ie;return}De=Ce/Pe%2,De=Be&&De>1?2-De:De,De=this._easing(Math.min(1,Math.max(0,De))),this._target[Re]=this._fn(Ie,je,De)}wait(){const _e=this._promises||(this._promises=[]);return new Promise((Ce,Pe)=>{_e.push({res:Ce,rej:Pe})})}_notify(_e){const Ce=_e?"res":"rej",Pe=this._promises||[];for(let Re=0;Re<Pe.length;Re++)Pe[Re][Ce]()}}class Animations{constructor(_e,Ce){this._chart=_e,this._properties=new Map,this.configure(Ce)}configure(_e){if(!isObject$1(_e))return;const Ce=Object.keys(defaults$1.animation),Pe=this._properties;Object.getOwnPropertyNames(_e).forEach(Re=>{const Ie=_e[Re];if(!isObject$1(Ie))return;const Be={};for(const je of Ce)Be[je]=Ie[je];(isArray(Ie.properties)&&Ie.properties||[Re]).forEach(je=>{(je===Re||!Pe.has(je))&&Pe.set(je,Be)})})}_animateOptions(_e,Ce){const Pe=Ce.options,Re=resolveTargetOptions(_e,Pe);if(!Re)return[];const Ie=this._createAnimations(Re,Pe);return Pe.$shared&&awaitAll(_e.options.$animations,Pe).then(()=>{_e.options=Pe},()=>{}),Ie}_createAnimations(_e,Ce){const Pe=this._properties,Re=[],Ie=_e.$animations||(_e.$animations={}),Be=Object.keys(Ce),je=Date.now();let De;for(De=Be.length-1;De>=0;--De){const Fe=Be[De];if(Fe.charAt(0)==="$")continue;if(Fe==="options"){Re.push(...this._animateOptions(_e,Ce));continue}const Oe=Ce[Fe];let ke=Ie[Fe];const Me=Pe.get(Fe);if(ke)if(Me&&ke.active()){ke.update(Me,Oe,je);continue}else ke.cancel();if(!Me||!Me.duration){_e[Fe]=Oe;continue}Ie[Fe]=ke=new Animation(Me,_e,Fe,Oe),Re.push(ke)}return Re}update(_e,Ce){if(this._properties.size===0){Object.assign(_e,Ce);return}const Pe=this._createAnimations(_e,Ce);if(Pe.length)return animator.add(this._chart,Pe),!0}}function awaitAll(Ee,_e){const Ce=[],Pe=Object.keys(_e);for(let Re=0;Re<Pe.length;Re++){const Ie=Ee[Pe[Re]];Ie&&Ie.active()&&Ce.push(Ie.wait())}return Promise.all(Ce)}function resolveTargetOptions(Ee,_e){if(!_e)return;let Ce=Ee.options;if(!Ce){Ee.options=_e;return}return Ce.$shared&&(Ee.options=Ce=Object.assign({},Ce,{$shared:!1,$animations:{}})),Ce}function scaleClip(Ee,_e){const Ce=Ee&&Ee.options||{},Pe=Ce.reverse,Re=Ce.min===void 0?_e:0,Ie=Ce.max===void 0?_e:0;return{start:Pe?Ie:Re,end:Pe?Re:Ie}}function defaultClip(Ee,_e,Ce){if(Ce===!1)return!1;const Pe=scaleClip(Ee,Ce),Re=scaleClip(_e,Ce);return{top:Re.end,right:Pe.end,bottom:Re.start,left:Pe.start}}function toClip(Ee){let _e,Ce,Pe,Re;return isObject$1(Ee)?(_e=Ee.top,Ce=Ee.right,Pe=Ee.bottom,Re=Ee.left):_e=Ce=Pe=Re=Ee,{top:_e,right:Ce,bottom:Pe,left:Re,disabled:Ee===!1}}function getSortedDatasetIndices(Ee,_e){const Ce=[],Pe=Ee._getSortedDatasetMetas(_e);let Re,Ie;for(Re=0,Ie=Pe.length;Re<Ie;++Re)Ce.push(Pe[Re].index);return Ce}function applyStack(Ee,_e,Ce,Pe={}){const Re=Ee.keys,Ie=Pe.mode==="single";let Be,je,De,Fe;if(_e===null)return;let Oe=!1;for(Be=0,je=Re.length;Be<je;++Be){if(De=+Re[Be],De===Ce){if(Oe=!0,Pe.all)continue;break}Fe=Ee.values[De],isNumberFinite(Fe)&&(Ie||_e===0||sign$1(_e)===sign$1(Fe))&&(_e+=Fe)}return!Oe&&!Pe.all?0:_e}function convertObjectDataToArray(Ee,_e){const{iScale:Ce,vScale:Pe}=_e,Re=Ce.axis==="x"?"x":"y",Ie=Pe.axis==="x"?"x":"y",Be=Object.keys(Ee),je=new Array(Be.length);let De,Fe,Oe;for(De=0,Fe=Be.length;De<Fe;++De)Oe=Be[De],je[De]={[Re]:Oe,[Ie]:Ee[Oe]};return je}function isStacked$1(Ee,_e){const Ce=Ee&&Ee.options.stacked;return Ce||Ce===void 0&&_e.stack!==void 0}function getStackKey(Ee,_e,Ce){return`${Ee.id}.${_e.id}.${Ce.stack||Ce.type}`}function getUserBounds(Ee){const{min:_e,max:Ce,minDefined:Pe,maxDefined:Re}=Ee.getUserBounds();return{min:Pe?_e:Number.NEGATIVE_INFINITY,max:Re?Ce:Number.POSITIVE_INFINITY}}function getOrCreateStack(Ee,_e,Ce){const Pe=Ee[_e]||(Ee[_e]={});return Pe[Ce]||(Pe[Ce]={})}function getLastIndexInStack(Ee,_e,Ce,Pe){for(const Re of _e.getMatchingVisibleMetas(Pe).reverse()){const Ie=Ee[Re.index];if(Ce&&Ie>0||!Ce&&Ie<0)return Re.index}return null}function updateStacks(Ee,_e){const{chart:Ce,_cachedMeta:Pe}=Ee,Re=Ce._stacks||(Ce._stacks={}),{iScale:Ie,vScale:Be,index:je}=Pe,De=Ie.axis,Fe=Be.axis,Oe=getStackKey(Ie,Be,Pe),ke=_e.length;let Me;for(let $e=0;$e<ke;++$e){const He=_e[$e],{[De]:Qe,[Fe]:Ke}=He,ze=He._stacks||(He._stacks={});Me=ze[Fe]=getOrCreateStack(Re,Oe,Qe),Me[je]=Ke,Me._top=getLastIndexInStack(Me,Be,!0,Pe.type),Me._bottom=getLastIndexInStack(Me,Be,!1,Pe.type);const We=Me._visualValues||(Me._visualValues={});We[je]=Ke}}function getFirstScaleId(Ee,_e){const Ce=Ee.scales;return Object.keys(Ce).filter(Pe=>Ce[Pe].axis===_e).shift()}function createDatasetContext(Ee,_e){return createContext(Ee,{active:!1,dataset:void 0,datasetIndex:_e,index:_e,mode:"default",type:"dataset"})}function createDataContext(Ee,_e,Ce){return createContext(Ee,{active:!1,dataIndex:_e,parsed:void 0,raw:void 0,element:Ce,index:_e,mode:"default",type:"data"})}function clearStacks(Ee,_e){const Ce=Ee.controller.index,Pe=Ee.vScale&&Ee.vScale.axis;if(Pe){_e=_e||Ee._parsed;for(const Re of _e){const Ie=Re._stacks;if(!Ie||Ie[Pe]===void 0||Ie[Pe][Ce]===void 0)return;delete Ie[Pe][Ce],Ie[Pe]._visualValues!==void 0&&Ie[Pe]._visualValues[Ce]!==void 0&&delete Ie[Pe]._visualValues[Ce]}}}const isDirectUpdateMode=Ee=>Ee==="reset"||Ee==="none",cloneIfNotShared=(Ee,_e)=>_e?Ee:Object.assign({},Ee),createStack=(Ee,_e,Ce)=>Ee&&!_e.hidden&&_e._stacked&&{keys:getSortedDatasetIndices(Ce,!0),values:null};class DatasetController{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(_e,Ce){this.chart=_e,this._ctx=_e.ctx,this.index=Ce,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const _e=this._cachedMeta;this.configure(),this.linkScales(),_e._stacked=isStacked$1(_e.vScale,_e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(_e){this.index!==_e&&clearStacks(this._cachedMeta),this.index=_e}linkScales(){const _e=this.chart,Ce=this._cachedMeta,Pe=this.getDataset(),Re=(ke,Me,$e,He)=>ke==="x"?Me:ke==="r"?He:$e,Ie=Ce.xAxisID=valueOrDefault(Pe.xAxisID,getFirstScaleId(_e,"x")),Be=Ce.yAxisID=valueOrDefault(Pe.yAxisID,getFirstScaleId(_e,"y")),je=Ce.rAxisID=valueOrDefault(Pe.rAxisID,getFirstScaleId(_e,"r")),De=Ce.indexAxis,Fe=Ce.iAxisID=Re(De,Ie,Be,je),Oe=Ce.vAxisID=Re(De,Be,Ie,je);Ce.xScale=this.getScaleForId(Ie),Ce.yScale=this.getScaleForId(Be),Ce.rScale=this.getScaleForId(je),Ce.iScale=this.getScaleForId(Fe),Ce.vScale=this.getScaleForId(Oe)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(_e){return this.chart.scales[_e]}_getOtherScale(_e){const Ce=this._cachedMeta;return _e===Ce.iScale?Ce.vScale:Ce.iScale}reset(){this._update("reset")}_destroy(){const _e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),_e._stacked&&clearStacks(_e)}_dataCheck(){const _e=this.getDataset(),Ce=_e.data||(_e.data=[]),Pe=this._data;if(isObject$1(Ce)){const Re=this._cachedMeta;this._data=convertObjectDataToArray(Ce,Re)}else if(Pe!==Ce){if(Pe){unlistenArrayEvents(Pe,this);const Re=this._cachedMeta;clearStacks(Re),Re._parsed=[]}Ce&&Object.isExtensible(Ce)&&listenArrayEvents(Ce,this),this._syncList=[],this._data=Ce}}addElements(){const _e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(_e.dataset=new this.datasetElementType)}buildOrUpdateElements(_e){const Ce=this._cachedMeta,Pe=this.getDataset();let Re=!1;this._dataCheck();const Ie=Ce._stacked;Ce._stacked=isStacked$1(Ce.vScale,Ce),Ce.stack!==Pe.stack&&(Re=!0,clearStacks(Ce),Ce.stack=Pe.stack),this._resyncElements(_e),(Re||Ie!==Ce._stacked)&&(updateStacks(this,Ce._parsed),Ce._stacked=isStacked$1(Ce.vScale,Ce))}configure(){const _e=this.chart.config,Ce=_e.datasetScopeKeys(this._type),Pe=_e.getOptionScopes(this.getDataset(),Ce,!0);this.options=_e.createResolver(Pe,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(_e,Ce){const{_cachedMeta:Pe,_data:Re}=this,{iScale:Ie,_stacked:Be}=Pe,je=Ie.axis;let De=_e===0&&Ce===Re.length?!0:Pe._sorted,Fe=_e>0&&Pe._parsed[_e-1],Oe,ke,Me;if(this._parsing===!1)Pe._parsed=Re,Pe._sorted=!0,Me=Re;else{isArray(Re[_e])?Me=this.parseArrayData(Pe,Re,_e,Ce):isObject$1(Re[_e])?Me=this.parseObjectData(Pe,Re,_e,Ce):Me=this.parsePrimitiveData(Pe,Re,_e,Ce);const $e=()=>ke[je]===null||Fe&&ke[je]<Fe[je];for(Oe=0;Oe<Ce;++Oe)Pe._parsed[Oe+_e]=ke=Me[Oe],De&&($e()&&(De=!1),Fe=ke);Pe._sorted=De}Be&&updateStacks(this,Me)}parsePrimitiveData(_e,Ce,Pe,Re){const{iScale:Ie,vScale:Be}=_e,je=Ie.axis,De=Be.axis,Fe=Ie.getLabels(),Oe=Ie===Be,ke=new Array(Re);let Me,$e,He;for(Me=0,$e=Re;Me<$e;++Me)He=Me+Pe,ke[Me]={[je]:Oe||Ie.parse(Fe[He],He),[De]:Be.parse(Ce[He],He)};return ke}parseArrayData(_e,Ce,Pe,Re){const{xScale:Ie,yScale:Be}=_e,je=new Array(Re);let De,Fe,Oe,ke;for(De=0,Fe=Re;De<Fe;++De)Oe=De+Pe,ke=Ce[Oe],je[De]={x:Ie.parse(ke[0],Oe),y:Be.parse(ke[1],Oe)};return je}parseObjectData(_e,Ce,Pe,Re){const{xScale:Ie,yScale:Be}=_e,{xAxisKey:je="x",yAxisKey:De="y"}=this._parsing,Fe=new Array(Re);let Oe,ke,Me,$e;for(Oe=0,ke=Re;Oe<ke;++Oe)Me=Oe+Pe,$e=Ce[Me],Fe[Oe]={x:Ie.parse(resolveObjectKey($e,je),Me),y:Be.parse(resolveObjectKey($e,De),Me)};return Fe}getParsed(_e){return this._cachedMeta._parsed[_e]}getDataElement(_e){return this._cachedMeta.data[_e]}applyStack(_e,Ce,Pe){const Re=this.chart,Ie=this._cachedMeta,Be=Ce[_e.axis],je={keys:getSortedDatasetIndices(Re,!0),values:Ce._stacks[_e.axis]._visualValues};return applyStack(je,Be,Ie.index,{mode:Pe})}updateRangeFromParsed(_e,Ce,Pe,Re){const Ie=Pe[Ce.axis];let Be=Ie===null?NaN:Ie;const je=Re&&Pe._stacks[Ce.axis];Re&&je&&(Re.values=je,Be=applyStack(Re,Ie,this._cachedMeta.index)),_e.min=Math.min(_e.min,Be),_e.max=Math.max(_e.max,Be)}getMinMax(_e,Ce){const Pe=this._cachedMeta,Re=Pe._parsed,Ie=Pe._sorted&&_e===Pe.iScale,Be=Re.length,je=this._getOtherScale(_e),De=createStack(Ce,Pe,this.chart),Fe={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:Oe,max:ke}=getUserBounds(je);let Me,$e;function He(){$e=Re[Me];const Qe=$e[je.axis];return!isNumberFinite($e[_e.axis])||Oe>Qe||ke<Qe}for(Me=0;Me<Be&&!(!He()&&(this.updateRangeFromParsed(Fe,_e,$e,De),Ie));++Me);if(Ie){for(Me=Be-1;Me>=0;--Me)if(!He()){this.updateRangeFromParsed(Fe,_e,$e,De);break}}return Fe}getAllParsedValues(_e){const Ce=this._cachedMeta._parsed,Pe=[];let Re,Ie,Be;for(Re=0,Ie=Ce.length;Re<Ie;++Re)Be=Ce[Re][_e.axis],isNumberFinite(Be)&&Pe.push(Be);return Pe}getMaxOverflow(){return!1}getLabelAndValue(_e){const Ce=this._cachedMeta,Pe=Ce.iScale,Re=Ce.vScale,Ie=this.getParsed(_e);return{label:Pe?""+Pe.getLabelForValue(Ie[Pe.axis]):"",value:Re?""+Re.getLabelForValue(Ie[Re.axis]):""}}_update(_e){const Ce=this._cachedMeta;this.update(_e||"default"),Ce._clip=toClip(valueOrDefault(this.options.clip,defaultClip(Ce.xScale,Ce.yScale,this.getMaxOverflow())))}update(_e){}draw(){const _e=this._ctx,Ce=this.chart,Pe=this._cachedMeta,Re=Pe.data||[],Ie=Ce.chartArea,Be=[],je=this._drawStart||0,De=this._drawCount||Re.length-je,Fe=this.options.drawActiveElementsOnTop;let Oe;for(Pe.dataset&&Pe.dataset.draw(_e,Ie,je,De),Oe=je;Oe<je+De;++Oe){const ke=Re[Oe];ke.hidden||(ke.active&&Fe?Be.push(ke):ke.draw(_e,Ie))}for(Oe=0;Oe<Be.length;++Oe)Be[Oe].draw(_e,Ie)}getStyle(_e,Ce){const Pe=Ce?"active":"default";return _e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(Pe):this.resolveDataElementOptions(_e||0,Pe)}getContext(_e,Ce,Pe){const Re=this.getDataset();let Ie;if(_e>=0&&_e<this._cachedMeta.data.length){const Be=this._cachedMeta.data[_e];Ie=Be.$context||(Be.$context=createDataContext(this.getContext(),_e,Be)),Ie.parsed=this.getParsed(_e),Ie.raw=Re.data[_e],Ie.index=Ie.dataIndex=_e}else Ie=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),Ie.dataset=Re,Ie.index=Ie.datasetIndex=this.index;return Ie.active=!!Ce,Ie.mode=Pe,Ie}resolveDatasetElementOptions(_e){return this._resolveElementOptions(this.datasetElementType.id,_e)}resolveDataElementOptions(_e,Ce){return this._resolveElementOptions(this.dataElementType.id,Ce,_e)}_resolveElementOptions(_e,Ce="default",Pe){const Re=Ce==="active",Ie=this._cachedDataOpts,Be=_e+"-"+Ce,je=Ie[Be],De=this.enableOptionSharing&&defined$1(Pe);if(je)return cloneIfNotShared(je,De);const Fe=this.chart.config,Oe=Fe.datasetElementScopeKeys(this._type,_e),ke=Re?[`${_e}Hover`,"hover",_e,""]:[_e,""],Me=Fe.getOptionScopes(this.getDataset(),Oe),$e=Object.keys(defaults$1.elements[_e]),He=()=>this.getContext(Pe,Re,Ce),Qe=Fe.resolveNamedOptions(Me,$e,He,ke);return Qe.$shared&&(Qe.$shared=De,Ie[Be]=Object.freeze(cloneIfNotShared(Qe,De))),Qe}_resolveAnimations(_e,Ce,Pe){const Re=this.chart,Ie=this._cachedDataOpts,Be=`animation-${Ce}`,je=Ie[Be];if(je)return je;let De;if(Re.options.animation!==!1){const Oe=this.chart.config,ke=Oe.datasetAnimationScopeKeys(this._type,Ce),Me=Oe.getOptionScopes(this.getDataset(),ke);De=Oe.createResolver(Me,this.getContext(_e,Pe,Ce))}const Fe=new Animations(Re,De&&De.animations);return De&&De._cacheable&&(Ie[Be]=Object.freeze(Fe)),Fe}getSharedOptions(_e){if(_e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},_e))}includeOptions(_e,Ce){return!Ce||isDirectUpdateMode(_e)||this.chart._animationsDisabled}_getSharedOptions(_e,Ce){const Pe=this.resolveDataElementOptions(_e,Ce),Re=this._sharedOptions,Ie=this.getSharedOptions(Pe),Be=this.includeOptions(Ce,Ie)||Ie!==Re;return this.updateSharedOptions(Ie,Ce,Pe),{sharedOptions:Ie,includeOptions:Be}}updateElement(_e,Ce,Pe,Re){isDirectUpdateMode(Re)?Object.assign(_e,Pe):this._resolveAnimations(Ce,Re).update(_e,Pe)}updateSharedOptions(_e,Ce,Pe){_e&&!isDirectUpdateMode(Ce)&&this._resolveAnimations(void 0,Ce).update(_e,Pe)}_setStyle(_e,Ce,Pe,Re){_e.active=Re;const Ie=this.getStyle(Ce,Re);this._resolveAnimations(Ce,Pe,Re).update(_e,{options:!Re&&this.getSharedOptions(Ie)||Ie})}removeHoverStyle(_e,Ce,Pe){this._setStyle(_e,Pe,"active",!1)}setHoverStyle(_e,Ce,Pe){this._setStyle(_e,Pe,"active",!0)}_removeDatasetHoverStyle(){const _e=this._cachedMeta.dataset;_e&&this._setStyle(_e,void 0,"active",!1)}_setDatasetHoverStyle(){const _e=this._cachedMeta.dataset;_e&&this._setStyle(_e,void 0,"active",!0)}_resyncElements(_e){const Ce=this._data,Pe=this._cachedMeta.data;for(const[je,De,Fe]of this._syncList)this[je](De,Fe);this._syncList=[];const Re=Pe.length,Ie=Ce.length,Be=Math.min(Ie,Re);Be&&this.parse(0,Be),Ie>Re?this._insertElements(Re,Ie-Re,_e):Ie<Re&&this._removeElements(Ie,Re-Ie)}_insertElements(_e,Ce,Pe=!0){const Re=this._cachedMeta,Ie=Re.data,Be=_e+Ce;let je;const De=Fe=>{for(Fe.length+=Ce,je=Fe.length-1;je>=Be;je--)Fe[je]=Fe[je-Ce]};for(De(Ie),je=_e;je<Be;++je)Ie[je]=new this.dataElementType;this._parsing&&De(Re._parsed),this.parse(_e,Ce),Pe&&this.updateElements(Ie,_e,Ce,"reset")}updateElements(_e,Ce,Pe,Re){}_removeElements(_e,Ce){const Pe=this._cachedMeta;if(this._parsing){const Re=Pe._parsed.splice(_e,Ce);Pe._stacked&&clearStacks(Pe,Re)}Pe.data.splice(_e,Ce)}_sync(_e){if(this._parsing)this._syncList.push(_e);else{const[Ce,Pe,Re]=_e;this[Ce](Pe,Re)}this.chart._dataChanges.push([this.index,..._e])}_onDataPush(){const _e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-_e,_e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(_e,Ce){Ce&&this._sync(["_removeElements",_e,Ce]);const Pe=arguments.length-2;Pe&&this._sync(["_insertElements",_e,Pe])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function getAllScaleValues(Ee,_e){if(!Ee._cache.$bar){const Ce=Ee.getMatchingVisibleMetas(_e);let Pe=[];for(let Re=0,Ie=Ce.length;Re<Ie;Re++)Pe=Pe.concat(Ce[Re].controller.getAllParsedValues(Ee));Ee._cache.$bar=_arrayUnique(Pe.sort((Re,Ie)=>Re-Ie))}return Ee._cache.$bar}function computeMinSampleSize(Ee){const _e=Ee.iScale,Ce=getAllScaleValues(_e,Ee.type);let Pe=_e._length,Re,Ie,Be,je;const De=()=>{Be===32767||Be===-32768||(defined$1(je)&&(Pe=Math.min(Pe,Math.abs(Be-je)||Pe)),je=Be)};for(Re=0,Ie=Ce.length;Re<Ie;++Re)Be=_e.getPixelForValue(Ce[Re]),De();for(je=void 0,Re=0,Ie=_e.ticks.length;Re<Ie;++Re)Be=_e.getPixelForTick(Re),De();return Pe}function computeFitCategoryTraits(Ee,_e,Ce,Pe){const Re=Ce.barThickness;let Ie,Be;return isNullOrUndef(Re)?(Ie=_e.min*Ce.categoryPercentage,Be=Ce.barPercentage):(Ie=Re*Pe,Be=1),{chunk:Ie/Pe,ratio:Be,start:_e.pixels[Ee]-Ie/2}}function computeFlexCategoryTraits(Ee,_e,Ce,Pe){const Re=_e.pixels,Ie=Re[Ee];let Be=Ee>0?Re[Ee-1]:null,je=Ee<Re.length-1?Re[Ee+1]:null;const De=Ce.categoryPercentage;Be===null&&(Be=Ie-(je===null?_e.end-_e.start:je-Ie)),je===null&&(je=Ie+Ie-Be);const Fe=Ie-(Ie-Math.min(Be,je))/2*De;return{chunk:Math.abs(je-Be)/2*De/Pe,ratio:Ce.barPercentage,start:Fe}}function parseFloatBar(Ee,_e,Ce,Pe){const Re=Ce.parse(Ee[0],Pe),Ie=Ce.parse(Ee[1],Pe),Be=Math.min(Re,Ie),je=Math.max(Re,Ie);let De=Be,Fe=je;Math.abs(Be)>Math.abs(je)&&(De=je,Fe=Be),_e[Ce.axis]=Fe,_e._custom={barStart:De,barEnd:Fe,start:Re,end:Ie,min:Be,max:je}}function parseValue(Ee,_e,Ce,Pe){return isArray(Ee)?parseFloatBar(Ee,_e,Ce,Pe):_e[Ce.axis]=Ce.parse(Ee,Pe),_e}function parseArrayOrPrimitive(Ee,_e,Ce,Pe){const Re=Ee.iScale,Ie=Ee.vScale,Be=Re.getLabels(),je=Re===Ie,De=[];let Fe,Oe,ke,Me;for(Fe=Ce,Oe=Ce+Pe;Fe<Oe;++Fe)Me=_e[Fe],ke={},ke[Re.axis]=je||Re.parse(Be[Fe],Fe),De.push(parseValue(Me,ke,Ie,Fe));return De}function isFloatBar(Ee){return Ee&&Ee.barStart!==void 0&&Ee.barEnd!==void 0}function barSign(Ee,_e,Ce){return Ee!==0?sign$1(Ee):(_e.isHorizontal()?1:-1)*(_e.min>=Ce?1:-1)}function borderProps(Ee){let _e,Ce,Pe,Re,Ie;return Ee.horizontal?(_e=Ee.base>Ee.x,Ce="left",Pe="right"):(_e=Ee.base<Ee.y,Ce="bottom",Pe="top"),_e?(Re="end",Ie="start"):(Re="start",Ie="end"),{start:Ce,end:Pe,reverse:_e,top:Re,bottom:Ie}}function setBorderSkipped(Ee,_e,Ce,Pe){let Re=_e.borderSkipped;const Ie={};if(!Re){Ee.borderSkipped=Ie;return}if(Re===!0){Ee.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:Be,end:je,reverse:De,top:Fe,bottom:Oe}=borderProps(Ee);Re==="middle"&&Ce&&(Ee.enableBorderRadius=!0,(Ce._top||0)===Pe?Re=Fe:(Ce._bottom||0)===Pe?Re=Oe:(Ie[parseEdge(Oe,Be,je,De)]=!0,Re=Fe)),Ie[parseEdge(Re,Be,je,De)]=!0,Ee.borderSkipped=Ie}function parseEdge(Ee,_e,Ce,Pe){return Pe?(Ee=swap$2(Ee,_e,Ce),Ee=startEnd(Ee,Ce,_e)):Ee=startEnd(Ee,_e,Ce),Ee}function swap$2(Ee,_e,Ce){return Ee===_e?Ce:Ee===Ce?_e:Ee}function startEnd(Ee,_e,Ce){return Ee==="start"?_e:Ee==="end"?Ce:Ee}function setInflateAmount(Ee,{inflateAmount:_e},Ce){Ee.inflateAmount=_e==="auto"?Ce===1?.33:0:_e}class BarController extends DatasetController{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(_e,Ce,Pe,Re){return parseArrayOrPrimitive(_e,Ce,Pe,Re)}parseArrayData(_e,Ce,Pe,Re){return parseArrayOrPrimitive(_e,Ce,Pe,Re)}parseObjectData(_e,Ce,Pe,Re){const{iScale:Ie,vScale:Be}=_e,{xAxisKey:je="x",yAxisKey:De="y"}=this._parsing,Fe=Ie.axis==="x"?je:De,Oe=Be.axis==="x"?je:De,ke=[];let Me,$e,He,Qe;for(Me=Pe,$e=Pe+Re;Me<$e;++Me)Qe=Ce[Me],He={},He[Ie.axis]=Ie.parse(resolveObjectKey(Qe,Fe),Me),ke.push(parseValue(resolveObjectKey(Qe,Oe),He,Be,Me));return ke}updateRangeFromParsed(_e,Ce,Pe,Re){super.updateRangeFromParsed(_e,Ce,Pe,Re);const Ie=Pe._custom;Ie&&Ce===this._cachedMeta.vScale&&(_e.min=Math.min(_e.min,Ie.min),_e.max=Math.max(_e.max,Ie.max))}getMaxOverflow(){return 0}getLabelAndValue(_e){const Ce=this._cachedMeta,{iScale:Pe,vScale:Re}=Ce,Ie=this.getParsed(_e),Be=Ie._custom,je=isFloatBar(Be)?"["+Be.start+", "+Be.end+"]":""+Re.getLabelForValue(Ie[Re.axis]);return{label:""+Pe.getLabelForValue(Ie[Pe.axis]),value:je}}initialize(){this.enableOptionSharing=!0,super.initialize();const _e=this._cachedMeta;_e.stack=this.getDataset().stack}update(_e){const Ce=this._cachedMeta;this.updateElements(Ce.data,0,Ce.data.length,_e)}updateElements(_e,Ce,Pe,Re){const Ie=Re==="reset",{index:Be,_cachedMeta:{vScale:je}}=this,De=je.getBasePixel(),Fe=je.isHorizontal(),Oe=this._getRuler(),{sharedOptions:ke,includeOptions:Me}=this._getSharedOptions(Ce,Re);for(let $e=Ce;$e<Ce+Pe;$e++){const He=this.getParsed($e),Qe=Ie||isNullOrUndef(He[je.axis])?{base:De,head:De}:this._calculateBarValuePixels($e),Ke=this._calculateBarIndexPixels($e,Oe),ze=(He._stacks||{})[je.axis],We={horizontal:Fe,base:Qe.base,enableBorderRadius:!ze||isFloatBar(He._custom)||Be===ze._top||Be===ze._bottom,x:Fe?Qe.head:Ke.center,y:Fe?Ke.center:Qe.head,height:Fe?Ke.size:Math.abs(Qe.size),width:Fe?Math.abs(Qe.size):Ke.size};Me&&(We.options=ke||this.resolveDataElementOptions($e,_e[$e].active?"active":Re));const qe=We.options||_e[$e].options;setBorderSkipped(We,qe,ze,Be),setInflateAmount(We,qe,Oe.ratio),this.updateElement(_e[$e],$e,We,Re)}}_getStacks(_e,Ce){const{iScale:Pe}=this._cachedMeta,Re=Pe.getMatchingVisibleMetas(this._type).filter(Oe=>Oe.controller.options.grouped),Ie=Pe.options.stacked,Be=[],je=this._cachedMeta.controller.getParsed(Ce),De=je&&je[Pe.axis],Fe=Oe=>{const ke=Oe._parsed.find($e=>$e[Pe.axis]===De),Me=ke&&ke[Oe.vScale.axis];if(isNullOrUndef(Me)||isNaN(Me))return!0};for(const Oe of Re)if(!(Ce!==void 0&&Fe(Oe))&&((Ie===!1||Be.indexOf(Oe.stack)===-1||Ie===void 0&&Oe.stack===void 0)&&Be.push(Oe.stack),Oe.index===_e))break;return Be.length||Be.push(void 0),Be}_getStackCount(_e){return this._getStacks(void 0,_e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const _e=this.chart.scales,Ce=this.chart.options.indexAxis;return Object.keys(_e).filter(Pe=>_e[Pe].axis===Ce).shift()}_getAxis(){const _e={},Ce=this.getFirstScaleIdForIndexAxis();for(const Pe of this.chart.data.datasets)_e[valueOrDefault(this.chart.options.indexAxis==="x"?Pe.xAxisID:Pe.yAxisID,Ce)]=!0;return Object.keys(_e)}_getStackIndex(_e,Ce,Pe){const Re=this._getStacks(_e,Pe),Ie=Ce!==void 0?Re.indexOf(Ce):-1;return Ie===-1?Re.length-1:Ie}_getRuler(){const _e=this.options,Ce=this._cachedMeta,Pe=Ce.iScale,Re=[];let Ie,Be;for(Ie=0,Be=Ce.data.length;Ie<Be;++Ie)Re.push(Pe.getPixelForValue(this.getParsed(Ie)[Pe.axis],Ie));const je=_e.barThickness;return{min:je||computeMinSampleSize(Ce),pixels:Re,start:Pe._startPixel,end:Pe._endPixel,stackCount:this._getStackCount(),scale:Pe,grouped:_e.grouped,ratio:je?1:_e.categoryPercentage*_e.barPercentage}}_calculateBarValuePixels(_e){const{_cachedMeta:{vScale:Ce,_stacked:Pe,index:Re},options:{base:Ie,minBarLength:Be}}=this,je=Ie||0,De=this.getParsed(_e),Fe=De._custom,Oe=isFloatBar(Fe);let ke=De[Ce.axis],Me=0,$e=Pe?this.applyStack(Ce,De,Pe):ke,He,Qe;$e!==ke&&(Me=$e-ke,$e=ke),Oe&&(ke=Fe.barStart,$e=Fe.barEnd-Fe.barStart,ke!==0&&sign$1(ke)!==sign$1(Fe.barEnd)&&(Me=0),Me+=ke);const Ke=!isNullOrUndef(Ie)&&!Oe?Ie:Me;let ze=Ce.getPixelForValue(Ke);if(this.chart.getDataVisibility(_e)?He=Ce.getPixelForValue(Me+$e):He=ze,Qe=He-ze,Math.abs(Qe)<Be){Qe=barSign(Qe,Ce,je)*Be,ke===je&&(ze-=Qe/2);const We=Ce.getPixelForDecimal(0),qe=Ce.getPixelForDecimal(1),Ye=Math.min(We,qe),Xe=Math.max(We,qe);ze=Math.max(Math.min(ze,Xe),Ye),He=ze+Qe,Pe&&!Oe&&(De._stacks[Ce.axis]._visualValues[Re]=Ce.getValueForPixel(He)-Ce.getValueForPixel(ze))}if(ze===Ce.getPixelForValue(je)){const We=sign$1(Qe)*Ce.getLineWidthForValue(je)/2;ze+=We,Qe-=We}return{size:Qe,base:ze,head:He,center:He+Qe/2}}_calculateBarIndexPixels(_e,Ce){const Pe=Ce.scale,Re=this.options,Ie=Re.skipNull,Be=valueOrDefault(Re.maxBarThickness,1/0);let je,De;const Fe=this._getAxisCount();if(Ce.grouped){const Oe=Ie?this._getStackCount(_e):Ce.stackCount,ke=Re.barThickness==="flex"?computeFlexCategoryTraits(_e,Ce,Re,Oe*Fe):computeFitCategoryTraits(_e,Ce,Re,Oe*Fe),Me=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,$e=this._getAxis().indexOf(valueOrDefault(Me,this.getFirstScaleIdForIndexAxis())),He=this._getStackIndex(this.index,this._cachedMeta.stack,Ie?_e:void 0)+$e;je=ke.start+ke.chunk*He+ke.chunk/2,De=Math.min(Be,ke.chunk*ke.ratio)}else je=Pe.getPixelForValue(this.getParsed(_e)[Pe.axis],_e),De=Math.min(Be,Ce.min*Ce.ratio);return{base:je-De/2,head:je+De/2,center:je,size:De}}draw(){const _e=this._cachedMeta,Ce=_e.vScale,Pe=_e.data,Re=Pe.length;let Ie=0;for(;Ie<Re;++Ie)this.getParsed(Ie)[Ce.axis]!==null&&!Pe[Ie].hidden&&Pe[Ie].draw(this._ctx)}}function getRatioAndOffset(Ee,_e,Ce){let Pe=1,Re=1,Ie=0,Be=0;if(_e<TAU){const je=Ee,De=je+_e,Fe=Math.cos(je),Oe=Math.sin(je),ke=Math.cos(De),Me=Math.sin(De),$e=(qe,Ye,Xe)=>_angleBetween(qe,je,De,!0)?1:Math.max(Ye,Ye*Ce,Xe,Xe*Ce),He=(qe,Ye,Xe)=>_angleBetween(qe,je,De,!0)?-1:Math.min(Ye,Ye*Ce,Xe,Xe*Ce),Qe=$e(0,Fe,ke),Ke=$e(HALF_PI,Oe,Me),ze=He(PI,Fe,ke),We=He(PI+HALF_PI,Oe,Me);Pe=(Qe-ze)/2,Re=(Ke-We)/2,Ie=-(Qe+ze)/2,Be=-(Ke+We)/2}return{ratioX:Pe,ratioY:Re,offsetX:Ie,offsetY:Be}}class DoughnutController extends DatasetController{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:_e=>_e!=="spacing",_indexable:_e=>_e!=="spacing"&&!_e.startsWith("borderDash")&&!_e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(_e){const Ce=_e.data;if(Ce.labels.length&&Ce.datasets.length){const{labels:{pointStyle:Pe,color:Re}}=_e.legend.options;return Ce.labels.map((Ie,Be)=>{const De=_e.getDatasetMeta(0).controller.getStyle(Be);return{text:Ie,fillStyle:De.backgroundColor,strokeStyle:De.borderColor,fontColor:Re,lineWidth:De.borderWidth,pointStyle:Pe,hidden:!_e.getDataVisibility(Be),index:Be}})}return[]}},onClick(_e,Ce,Pe){Pe.chart.toggleDataVisibility(Ce.index),Pe.chart.update()}}}};constructor(_e,Ce){super(_e,Ce),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(_e,Ce){const Pe=this.getDataset().data,Re=this._cachedMeta;if(this._parsing===!1)Re._parsed=Pe;else{let Ie=De=>+Pe[De];if(isObject$1(Pe[_e])){const{key:De="value"}=this._parsing;Ie=Fe=>+resolveObjectKey(Pe[Fe],De)}let Be,je;for(Be=_e,je=_e+Ce;Be<je;++Be)Re._parsed[Be]=Ie(Be)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let _e=TAU,Ce=-TAU;for(let Pe=0;Pe<this.chart.data.datasets.length;++Pe)if(this.chart.isDatasetVisible(Pe)&&this.chart.getDatasetMeta(Pe).type===this._type){const Re=this.chart.getDatasetMeta(Pe).controller,Ie=Re._getRotation(),Be=Re._getCircumference();_e=Math.min(_e,Ie),Ce=Math.max(Ce,Ie+Be)}return{rotation:_e,circumference:Ce-_e}}update(_e){const Ce=this.chart,{chartArea:Pe}=Ce,Re=this._cachedMeta,Ie=Re.data,Be=this.getMaxBorderWidth()+this.getMaxOffset(Ie)+this.options.spacing,je=Math.max((Math.min(Pe.width,Pe.height)-Be)/2,0),De=Math.min(toPercentage(this.options.cutout,je),1),Fe=this._getRingWeight(this.index),{circumference:Oe,rotation:ke}=this._getRotationExtents(),{ratioX:Me,ratioY:$e,offsetX:He,offsetY:Qe}=getRatioAndOffset(ke,Oe,De),Ke=(Pe.width-Be)/Me,ze=(Pe.height-Be)/$e,We=Math.max(Math.min(Ke,ze)/2,0),qe=toDimension(this.options.radius,We),Ye=Math.max(qe*De,0),Xe=(qe-Ye)/this._getVisibleDatasetWeightTotal();this.offsetX=He*qe,this.offsetY=Qe*qe,Re.total=this.calculateTotal(),this.outerRadius=qe-Xe*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Xe*Fe,0),this.updateElements(Ie,0,Ie.length,_e)}_circumference(_e,Ce){const Pe=this.options,Re=this._cachedMeta,Ie=this._getCircumference();return Ce&&Pe.animation.animateRotate||!this.chart.getDataVisibility(_e)||Re._parsed[_e]===null||Re.data[_e].hidden?0:this.calculateCircumference(Re._parsed[_e]*Ie/TAU)}updateElements(_e,Ce,Pe,Re){const Ie=Re==="reset",Be=this.chart,je=Be.chartArea,Fe=Be.options.animation,Oe=(je.left+je.right)/2,ke=(je.top+je.bottom)/2,Me=Ie&&Fe.animateScale,$e=Me?0:this.innerRadius,He=Me?0:this.outerRadius,{sharedOptions:Qe,includeOptions:Ke}=this._getSharedOptions(Ce,Re);let ze=this._getRotation(),We;for(We=0;We<Ce;++We)ze+=this._circumference(We,Ie);for(We=Ce;We<Ce+Pe;++We){const qe=this._circumference(We,Ie),Ye=_e[We],Xe={x:Oe+this.offsetX,y:ke+this.offsetY,startAngle:ze,endAngle:ze+qe,circumference:qe,outerRadius:He,innerRadius:$e};Ke&&(Xe.options=Qe||this.resolveDataElementOptions(We,Ye.active?"active":Re)),ze+=qe,this.updateElement(Ye,We,Xe,Re)}}calculateTotal(){const _e=this._cachedMeta,Ce=_e.data;let Pe=0,Re;for(Re=0;Re<Ce.length;Re++){const Ie=_e._parsed[Re];Ie!==null&&!isNaN(Ie)&&this.chart.getDataVisibility(Re)&&!Ce[Re].hidden&&(Pe+=Math.abs(Ie))}return Pe}calculateCircumference(_e){const Ce=this._cachedMeta.total;return Ce>0&&!isNaN(_e)?TAU*(Math.abs(_e)/Ce):0}getLabelAndValue(_e){const Ce=this._cachedMeta,Pe=this.chart,Re=Pe.data.labels||[],Ie=formatNumber(Ce._parsed[_e],Pe.options.locale);return{label:Re[_e]||"",value:Ie}}getMaxBorderWidth(_e){let Ce=0;const Pe=this.chart;let Re,Ie,Be,je,De;if(!_e){for(Re=0,Ie=Pe.data.datasets.length;Re<Ie;++Re)if(Pe.isDatasetVisible(Re)){Be=Pe.getDatasetMeta(Re),_e=Be.data,je=Be.controller;break}}if(!_e)return 0;for(Re=0,Ie=_e.length;Re<Ie;++Re)De=je.resolveDataElementOptions(Re),De.borderAlign!=="inner"&&(Ce=Math.max(Ce,De.borderWidth||0,De.hoverBorderWidth||0));return Ce}getMaxOffset(_e){let Ce=0;for(let Pe=0,Re=_e.length;Pe<Re;++Pe){const Ie=this.resolveDataElementOptions(Pe);Ce=Math.max(Ce,Ie.offset||0,Ie.hoverOffset||0)}return Ce}_getRingWeightOffset(_e){let Ce=0;for(let Pe=0;Pe<_e;++Pe)this.chart.isDatasetVisible(Pe)&&(Ce+=this._getRingWeight(Pe));return Ce}_getRingWeight(_e){return Math.max(valueOrDefault(this.chart.data.datasets[_e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class PieController extends DoughnutController{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{static override(_e){Object.assign(DateAdapterBase.prototype,_e)}options;constructor(_e){this.options=_e||{}}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(Ee,_e,Ce,Pe){const{controller:Re,data:Ie,_sorted:Be}=Ee,je=Re._cachedMeta.iScale,De=Ee.dataset&&Ee.dataset.options?Ee.dataset.options.spanGaps:null;if(je&&_e===je.axis&&_e!=="r"&&Be&&Ie.length){const Fe=je._reversePixels?_rlookupByKey:_lookupByKey;if(Pe){if(Re._sharedOptions){const Oe=Ie[0],ke=typeof Oe.getRange=="function"&&Oe.getRange(_e);if(ke){const Me=Fe(Ie,_e,Ce-ke),$e=Fe(Ie,_e,Ce+ke);return{lo:Me.lo,hi:$e.hi}}}}else{const Oe=Fe(Ie,_e,Ce);if(De){const{vScale:ke}=Re._cachedMeta,{_parsed:Me}=Ee,$e=Me.slice(0,Oe.lo+1).reverse().findIndex(Qe=>!isNullOrUndef(Qe[ke.axis]));Oe.lo-=Math.max(0,$e);const He=Me.slice(Oe.hi).findIndex(Qe=>!isNullOrUndef(Qe[ke.axis]));Oe.hi+=Math.max(0,He)}return Oe}}return{lo:0,hi:Ie.length-1}}function evaluateInteractionItems(Ee,_e,Ce,Pe,Re){const Ie=Ee.getSortedVisibleDatasetMetas(),Be=Ce[_e];for(let je=0,De=Ie.length;je<De;++je){const{index:Fe,data:Oe}=Ie[je],{lo:ke,hi:Me}=binarySearch(Ie[je],_e,Be,Re);for(let $e=ke;$e<=Me;++$e){const He=Oe[$e];He.skip||Pe(He,Fe,$e)}}}function getDistanceMetricForAxis(Ee){const _e=Ee.indexOf("x")!==-1,Ce=Ee.indexOf("y")!==-1;return function(Pe,Re){const Ie=_e?Math.abs(Pe.x-Re.x):0,Be=Ce?Math.abs(Pe.y-Re.y):0;return Math.sqrt(Math.pow(Ie,2)+Math.pow(Be,2))}}function getIntersectItems(Ee,_e,Ce,Pe,Re){const Ie=[];return!Re&&!Ee.isPointInArea(_e)||evaluateInteractionItems(Ee,Ce,_e,function(je,De,Fe){!Re&&!_isPointInArea(je,Ee.chartArea,0)||je.inRange(_e.x,_e.y,Pe)&&Ie.push({element:je,datasetIndex:De,index:Fe})},!0),Ie}function getNearestRadialItems(Ee,_e,Ce,Pe){let Re=[];function Ie(Be,je,De){const{startAngle:Fe,endAngle:Oe}=Be.getProps(["startAngle","endAngle"],Pe),{angle:ke}=getAngleFromPoint(Be,{x:_e.x,y:_e.y});_angleBetween(ke,Fe,Oe)&&Re.push({element:Be,datasetIndex:je,index:De})}return evaluateInteractionItems(Ee,Ce,_e,Ie),Re}function getNearestCartesianItems(Ee,_e,Ce,Pe,Re,Ie){let Be=[];const je=getDistanceMetricForAxis(Ce);let De=Number.POSITIVE_INFINITY;function Fe(Oe,ke,Me){const $e=Oe.inRange(_e.x,_e.y,Re);if(Pe&&!$e)return;const He=Oe.getCenterPoint(Re);if(!(!!Ie||Ee.isPointInArea(He))&&!$e)return;const Ke=je(_e,He);Ke<De?(Be=[{element:Oe,datasetIndex:ke,index:Me}],De=Ke):Ke===De&&Be.push({element:Oe,datasetIndex:ke,index:Me})}return evaluateInteractionItems(Ee,Ce,_e,Fe),Be}function getNearestItems(Ee,_e,Ce,Pe,Re,Ie){return!Ie&&!Ee.isPointInArea(_e)?[]:Ce==="r"&&!Pe?getNearestRadialItems(Ee,_e,Ce,Re):getNearestCartesianItems(Ee,_e,Ce,Pe,Re,Ie)}function getAxisItems(Ee,_e,Ce,Pe,Re){const Ie=[],Be=Ce==="x"?"inXRange":"inYRange";let je=!1;return evaluateInteractionItems(Ee,Ce,_e,(De,Fe,Oe)=>{De[Be]&&De[Be](_e[Ce],Re)&&(Ie.push({element:De,datasetIndex:Fe,index:Oe}),je=je||De.inRange(_e.x,_e.y,Re))}),Pe&&!je?[]:Ie}var Interaction={modes:{index(Ee,_e,Ce,Pe){const Re=getRelativePosition(_e,Ee),Ie=Ce.axis||"x",Be=Ce.includeInvisible||!1,je=Ce.intersect?getIntersectItems(Ee,Re,Ie,Pe,Be):getNearestItems(Ee,Re,Ie,!1,Pe,Be),De=[];return je.length?(Ee.getSortedVisibleDatasetMetas().forEach(Fe=>{const Oe=je[0].index,ke=Fe.data[Oe];ke&&!ke.skip&&De.push({element:ke,datasetIndex:Fe.index,index:Oe})}),De):[]},dataset(Ee,_e,Ce,Pe){const Re=getRelativePosition(_e,Ee),Ie=Ce.axis||"xy",Be=Ce.includeInvisible||!1;let je=Ce.intersect?getIntersectItems(Ee,Re,Ie,Pe,Be):getNearestItems(Ee,Re,Ie,!1,Pe,Be);if(je.length>0){const De=je[0].datasetIndex,Fe=Ee.getDatasetMeta(De).data;je=[];for(let Oe=0;Oe<Fe.length;++Oe)je.push({element:Fe[Oe],datasetIndex:De,index:Oe})}return je},point(Ee,_e,Ce,Pe){const Re=getRelativePosition(_e,Ee),Ie=Ce.axis||"xy",Be=Ce.includeInvisible||!1;return getIntersectItems(Ee,Re,Ie,Pe,Be)},nearest(Ee,_e,Ce,Pe){const Re=getRelativePosition(_e,Ee),Ie=Ce.axis||"xy",Be=Ce.includeInvisible||!1;return getNearestItems(Ee,Re,Ie,Ce.intersect,Pe,Be)},x(Ee,_e,Ce,Pe){const Re=getRelativePosition(_e,Ee);return getAxisItems(Ee,Re,"x",Ce.intersect,Pe)},y(Ee,_e,Ce,Pe){const Re=getRelativePosition(_e,Ee);return getAxisItems(Ee,Re,"y",Ce.intersect,Pe)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(Ee,_e){return Ee.filter(Ce=>Ce.pos===_e)}function filterDynamicPositionByAxis(Ee,_e){return Ee.filter(Ce=>STATIC_POSITIONS.indexOf(Ce.pos)===-1&&Ce.box.axis===_e)}function sortByWeight(Ee,_e){return Ee.sort((Ce,Pe)=>{const Re=_e?Pe:Ce,Ie=_e?Ce:Pe;return Re.weight===Ie.weight?Re.index-Ie.index:Re.weight-Ie.weight})}function wrapBoxes(Ee){const _e=[];let Ce,Pe,Re,Ie,Be,je;for(Ce=0,Pe=(Ee||[]).length;Ce<Pe;++Ce)Re=Ee[Ce],{position:Ie,options:{stack:Be,stackWeight:je=1}}=Re,_e.push({index:Ce,box:Re,pos:Ie,horizontal:Re.isHorizontal(),weight:Re.weight,stack:Be&&Ie+Be,stackWeight:je});return _e}function buildStacks(Ee){const _e={};for(const Ce of Ee){const{stack:Pe,pos:Re,stackWeight:Ie}=Ce;if(!Pe||!STATIC_POSITIONS.includes(Re))continue;const Be=_e[Pe]||(_e[Pe]={count:0,placed:0,weight:0,size:0});Be.count++,Be.weight+=Ie}return _e}function setLayoutDims(Ee,_e){const Ce=buildStacks(Ee),{vBoxMaxWidth:Pe,hBoxMaxHeight:Re}=_e;let Ie,Be,je;for(Ie=0,Be=Ee.length;Ie<Be;++Ie){je=Ee[Ie];const{fullSize:De}=je.box,Fe=Ce[je.stack],Oe=Fe&&je.stackWeight/Fe.weight;je.horizontal?(je.width=Oe?Oe*Pe:De&&_e.availableWidth,je.height=Re):(je.width=Pe,je.height=Oe?Oe*Re:De&&_e.availableHeight)}return Ce}function buildLayoutBoxes(Ee){const _e=wrapBoxes(Ee),Ce=sortByWeight(_e.filter(Fe=>Fe.box.fullSize),!0),Pe=sortByWeight(filterByPosition(_e,"left"),!0),Re=sortByWeight(filterByPosition(_e,"right")),Ie=sortByWeight(filterByPosition(_e,"top"),!0),Be=sortByWeight(filterByPosition(_e,"bottom")),je=filterDynamicPositionByAxis(_e,"x"),De=filterDynamicPositionByAxis(_e,"y");return{fullSize:Ce,leftAndTop:Pe.concat(Ie),rightAndBottom:Re.concat(De).concat(Be).concat(je),chartArea:filterByPosition(_e,"chartArea"),vertical:Pe.concat(Re).concat(De),horizontal:Ie.concat(Be).concat(je)}}function getCombinedMax(Ee,_e,Ce,Pe){return Math.max(Ee[Ce],_e[Ce])+Math.max(Ee[Pe],_e[Pe])}function updateMaxPadding(Ee,_e){Ee.top=Math.max(Ee.top,_e.top),Ee.left=Math.max(Ee.left,_e.left),Ee.bottom=Math.max(Ee.bottom,_e.bottom),Ee.right=Math.max(Ee.right,_e.right)}function updateDims(Ee,_e,Ce,Pe){const{pos:Re,box:Ie}=Ce,Be=Ee.maxPadding;if(!isObject$1(Re)){Ce.size&&(Ee[Re]-=Ce.size);const ke=Pe[Ce.stack]||{size:0,count:1};ke.size=Math.max(ke.size,Ce.horizontal?Ie.height:Ie.width),Ce.size=ke.size/ke.count,Ee[Re]+=Ce.size}Ie.getPadding&&updateMaxPadding(Be,Ie.getPadding());const je=Math.max(0,_e.outerWidth-getCombinedMax(Be,Ee,"left","right")),De=Math.max(0,_e.outerHeight-getCombinedMax(Be,Ee,"top","bottom")),Fe=je!==Ee.w,Oe=De!==Ee.h;return Ee.w=je,Ee.h=De,Ce.horizontal?{same:Fe,other:Oe}:{same:Oe,other:Fe}}function handleMaxPadding(Ee){const _e=Ee.maxPadding;function Ce(Pe){const Re=Math.max(_e[Pe]-Ee[Pe],0);return Ee[Pe]+=Re,Re}Ee.y+=Ce("top"),Ee.x+=Ce("left"),Ce("right"),Ce("bottom")}function getMargins(Ee,_e){const Ce=_e.maxPadding;function Pe(Re){const Ie={left:0,top:0,right:0,bottom:0};return Re.forEach(Be=>{Ie[Be]=Math.max(_e[Be],Ce[Be])}),Ie}return Pe(Ee?["left","right"]:["top","bottom"])}function fitBoxes(Ee,_e,Ce,Pe){const Re=[];let Ie,Be,je,De,Fe,Oe;for(Ie=0,Be=Ee.length,Fe=0;Ie<Be;++Ie){je=Ee[Ie],De=je.box,De.update(je.width||_e.w,je.height||_e.h,getMargins(je.horizontal,_e));const{same:ke,other:Me}=updateDims(_e,Ce,je,Pe);Fe|=ke&&Re.length,Oe=Oe||Me,De.fullSize||Re.push(je)}return Fe&&fitBoxes(Re,_e,Ce,Pe)||Oe}function setBoxDims(Ee,_e,Ce,Pe,Re){Ee.top=Ce,Ee.left=_e,Ee.right=_e+Pe,Ee.bottom=Ce+Re,Ee.width=Pe,Ee.height=Re}function placeBoxes(Ee,_e,Ce,Pe){const Re=Ce.padding;let{x:Ie,y:Be}=_e;for(const je of Ee){const De=je.box,Fe=Pe[je.stack]||{placed:0,weight:1},Oe=je.stackWeight/Fe.weight||1;if(je.horizontal){const ke=_e.w*Oe,Me=Fe.size||De.height;defined$1(Fe.start)&&(Be=Fe.start),De.fullSize?setBoxDims(De,Re.left,Be,Ce.outerWidth-Re.right-Re.left,Me):setBoxDims(De,_e.left+Fe.placed,Be,ke,Me),Fe.start=Be,Fe.placed+=ke,Be=De.bottom}else{const ke=_e.h*Oe,Me=Fe.size||De.width;defined$1(Fe.start)&&(Ie=Fe.start),De.fullSize?setBoxDims(De,Ie,Re.top,Me,Ce.outerHeight-Re.bottom-Re.top):setBoxDims(De,Ie,_e.top+Fe.placed,Me,ke),Fe.start=Ie,Fe.placed+=ke,Ie=De.right}}_e.x=Ie,_e.y=Be}var layouts={addBox(Ee,_e){Ee.boxes||(Ee.boxes=[]),_e.fullSize=_e.fullSize||!1,_e.position=_e.position||"top",_e.weight=_e.weight||0,_e._layers=_e._layers||function(){return[{z:0,draw(Ce){_e.draw(Ce)}}]},Ee.boxes.push(_e)},removeBox(Ee,_e){const Ce=Ee.boxes?Ee.boxes.indexOf(_e):-1;Ce!==-1&&Ee.boxes.splice(Ce,1)},configure(Ee,_e,Ce){_e.fullSize=Ce.fullSize,_e.position=Ce.position,_e.weight=Ce.weight},update(Ee,_e,Ce,Pe){if(!Ee)return;const Re=toPadding(Ee.options.layout.padding),Ie=Math.max(_e-Re.width,0),Be=Math.max(Ce-Re.height,0),je=buildLayoutBoxes(Ee.boxes),De=je.vertical,Fe=je.horizontal;each$1(Ee.boxes,Qe=>{typeof Qe.beforeLayout=="function"&&Qe.beforeLayout()});const Oe=De.reduce((Qe,Ke)=>Ke.box.options&&Ke.box.options.display===!1?Qe:Qe+1,0)||1,ke=Object.freeze({outerWidth:_e,outerHeight:Ce,padding:Re,availableWidth:Ie,availableHeight:Be,vBoxMaxWidth:Ie/2/Oe,hBoxMaxHeight:Be/2}),Me=Object.assign({},Re);updateMaxPadding(Me,toPadding(Pe));const $e=Object.assign({maxPadding:Me,w:Ie,h:Be,x:Re.left,y:Re.top},Re),He=setLayoutDims(De.concat(Fe),ke);fitBoxes(je.fullSize,$e,ke,He),fitBoxes(De,$e,ke,He),fitBoxes(Fe,$e,ke,He)&&fitBoxes(De,$e,ke,He),handleMaxPadding($e),placeBoxes(je.leftAndTop,$e,ke,He),$e.x+=$e.w,$e.y+=$e.h,placeBoxes(je.rightAndBottom,$e,ke,He),Ee.chartArea={left:$e.left,top:$e.top,right:$e.left+$e.w,bottom:$e.top+$e.h,height:$e.h,width:$e.w},each$1(je.chartArea,Qe=>{const Ke=Qe.box;Object.assign(Ke,Ee.chartArea),Ke.update($e.w,$e.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(_e,Ce){}releaseContext(_e){return!1}addEventListener(_e,Ce,Pe){}removeEventListener(_e,Ce,Pe){}getDevicePixelRatio(){return 1}getMaximumSize(_e,Ce,Pe,Re){return Ce=Math.max(0,Ce||_e.width),Pe=Pe||_e.height,{width:Ce,height:Math.max(0,Re?Math.floor(Ce/Re):Pe)}}isAttached(_e){return!0}updateConfig(_e){}}class BasicPlatform extends BasePlatform{acquireContext(_e){return _e&&_e.getContext&&_e.getContext("2d")||null}updateConfig(_e){_e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=Ee=>Ee===null||Ee==="";function initCanvas(Ee,_e){const Ce=Ee.style,Pe=Ee.getAttribute("height"),Re=Ee.getAttribute("width");if(Ee[EXPANDO_KEY]={initial:{height:Pe,width:Re,style:{display:Ce.display,height:Ce.height,width:Ce.width}}},Ce.display=Ce.display||"block",Ce.boxSizing=Ce.boxSizing||"border-box",isNullOrEmpty(Re)){const Ie=readUsedSize(Ee,"width");Ie!==void 0&&(Ee.width=Ie)}if(isNullOrEmpty(Pe))if(Ee.style.height==="")Ee.height=Ee.width/(_e||2);else{const Ie=readUsedSize(Ee,"height");Ie!==void 0&&(Ee.height=Ie)}return Ee}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener$1(Ee,_e,Ce){Ee&&Ee.addEventListener(_e,Ce,eventListenerOptions)}function removeListener$1(Ee,_e,Ce){Ee&&Ee.canvas&&Ee.canvas.removeEventListener(_e,Ce,eventListenerOptions)}function fromNativeEvent(Ee,_e){const Ce=EVENT_TYPES[Ee.type]||Ee.type,{x:Pe,y:Re}=getRelativePosition(Ee,_e);return{type:Ce,chart:_e,native:Ee,x:Pe!==void 0?Pe:null,y:Re!==void 0?Re:null}}function nodeListContains(Ee,_e){for(const Ce of Ee)if(Ce===_e||Ce.contains(_e))return!0}function createAttachObserver(Ee,_e,Ce){const Pe=Ee.canvas,Re=new MutationObserver(Ie=>{let Be=!1;for(const je of Ie)Be=Be||nodeListContains(je.addedNodes,Pe),Be=Be&&!nodeListContains(je.removedNodes,Pe);Be&&Ce()});return Re.observe(document,{childList:!0,subtree:!0}),Re}function createDetachObserver(Ee,_e,Ce){const Pe=Ee.canvas,Re=new MutationObserver(Ie=>{let Be=!1;for(const je of Ie)Be=Be||nodeListContains(je.removedNodes,Pe),Be=Be&&!nodeListContains(je.addedNodes,Pe);Be&&Ce()});return Re.observe(document,{childList:!0,subtree:!0}),Re}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const Ee=window.devicePixelRatio;Ee!==oldDevicePixelRatio&&(oldDevicePixelRatio=Ee,drpListeningCharts.forEach((_e,Ce)=>{Ce.currentDevicePixelRatio!==Ee&&_e()}))}function listenDevicePixelRatioChanges(Ee,_e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(Ee,_e)}function unlistenDevicePixelRatioChanges(Ee){drpListeningCharts.delete(Ee),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(Ee,_e,Ce){const Pe=Ee.canvas,Re=Pe&&_getParentNode(Pe);if(!Re)return;const Ie=throttled((je,De)=>{const Fe=Re.clientWidth;Ce(je,De),Fe<Re.clientWidth&&Ce()},window),Be=new ResizeObserver(je=>{const De=je[0],Fe=De.contentRect.width,Oe=De.contentRect.height;Fe===0&&Oe===0||Ie(Fe,Oe)});return Be.observe(Re),listenDevicePixelRatioChanges(Ee,Ie),Be}function releaseObserver(Ee,_e,Ce){Ce&&Ce.disconnect(),_e==="resize"&&unlistenDevicePixelRatioChanges(Ee)}function createProxyAndListen(Ee,_e,Ce){const Pe=Ee.canvas,Re=throttled(Ie=>{Ee.ctx!==null&&Ce(fromNativeEvent(Ie,Ee))},Ee);return addListener$1(Pe,_e,Re),Re}class DomPlatform extends BasePlatform{acquireContext(_e,Ce){const Pe=_e&&_e.getContext&&_e.getContext("2d");return Pe&&Pe.canvas===_e?(initCanvas(_e,Ce),Pe):null}releaseContext(_e){const Ce=_e.canvas;if(!Ce[EXPANDO_KEY])return!1;const Pe=Ce[EXPANDO_KEY].initial;["height","width"].forEach(Ie=>{const Be=Pe[Ie];isNullOrUndef(Be)?Ce.removeAttribute(Ie):Ce.setAttribute(Ie,Be)});const Re=Pe.style||{};return Object.keys(Re).forEach(Ie=>{Ce.style[Ie]=Re[Ie]}),Ce.width=Ce.width,delete Ce[EXPANDO_KEY],!0}addEventListener(_e,Ce,Pe){this.removeEventListener(_e,Ce);const Re=_e.$proxies||(_e.$proxies={}),Be={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[Ce]||createProxyAndListen;Re[Ce]=Be(_e,Ce,Pe)}removeEventListener(_e,Ce){const Pe=_e.$proxies||(_e.$proxies={}),Re=Pe[Ce];if(!Re)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[Ce]||removeListener$1)(_e,Ce,Re),Pe[Ce]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(_e,Ce,Pe,Re){return getMaximumSize(_e,Ce,Pe,Re)}isAttached(_e){const Ce=_e&&_getParentNode(_e);return!!(Ce&&Ce.isConnected)}}function _detectPlatform(Ee){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&Ee instanceof OffscreenCanvas?BasicPlatform:DomPlatform}let Element$1=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(_e){const{x:Ce,y:Pe}=this.getProps(["x","y"],_e);return{x:Ce,y:Pe}}hasValue(){return isNumber$1(this.x)&&isNumber$1(this.y)}getProps(_e,Ce){const Pe=this.$animations;if(!Ce||!Pe)return this;const Re={};return _e.forEach(Ie=>{Re[Ie]=Pe[Ie]&&Pe[Ie].active()?Pe[Ie]._to:this[Ie]}),Re}};function autoSkip(Ee,_e){const Ce=Ee.options.ticks,Pe=determineMaxTicks(Ee),Re=Math.min(Ce.maxTicksLimit||Pe,Pe),Ie=Ce.major.enabled?getMajorIndices(_e):[],Be=Ie.length,je=Ie[0],De=Ie[Be-1],Fe=[];if(Be>Re)return skipMajors(_e,Fe,Ie,Be/Re),Fe;const Oe=calculateSpacing(Ie,_e,Re);if(Be>0){let ke,Me;const $e=Be>1?Math.round((De-je)/(Be-1)):null;for(skip(_e,Fe,Oe,isNullOrUndef($e)?0:je-$e,je),ke=0,Me=Be-1;ke<Me;ke++)skip(_e,Fe,Oe,Ie[ke],Ie[ke+1]);return skip(_e,Fe,Oe,De,isNullOrUndef($e)?_e.length:De+$e),Fe}return skip(_e,Fe,Oe),Fe}function determineMaxTicks(Ee){const _e=Ee.options.offset,Ce=Ee._tickSize(),Pe=Ee._length/Ce+(_e?0:1),Re=Ee._maxLength/Ce;return Math.floor(Math.min(Pe,Re))}function calculateSpacing(Ee,_e,Ce){const Pe=getEvenSpacing(Ee),Re=_e.length/Ce;if(!Pe)return Math.max(Re,1);const Ie=_factorize(Pe);for(let Be=0,je=Ie.length-1;Be<je;Be++){const De=Ie[Be];if(De>Re)return De}return Math.max(Re,1)}function getMajorIndices(Ee){const _e=[];let Ce,Pe;for(Ce=0,Pe=Ee.length;Ce<Pe;Ce++)Ee[Ce].major&&_e.push(Ce);return _e}function skipMajors(Ee,_e,Ce,Pe){let Re=0,Ie=Ce[0],Be;for(Pe=Math.ceil(Pe),Be=0;Be<Ee.length;Be++)Be===Ie&&(_e.push(Ee[Be]),Re++,Ie=Ce[Re*Pe])}function skip(Ee,_e,Ce,Pe,Re){const Ie=valueOrDefault(Pe,0),Be=Math.min(valueOrDefault(Re,Ee.length),Ee.length);let je=0,De,Fe,Oe;for(Ce=Math.ceil(Ce),Re&&(De=Re-Pe,Ce=De/Math.floor(De/Ce)),Oe=Ie;Oe<0;)je++,Oe=Math.round(Ie+je*Ce);for(Fe=Math.max(Ie,0);Fe<Be;Fe++)Fe===Oe&&(_e.push(Ee[Fe]),je++,Oe=Math.round(Ie+je*Ce))}function getEvenSpacing(Ee){const _e=Ee.length;let Ce,Pe;if(_e<2)return!1;for(Pe=Ee[0],Ce=1;Ce<_e;++Ce)if(Ee[Ce]-Ee[Ce-1]!==Pe)return!1;return Pe}const reverseAlign=Ee=>Ee==="left"?"right":Ee==="right"?"left":Ee,offsetFromEdge=(Ee,_e,Ce)=>_e==="top"||_e==="left"?Ee[_e]+Ce:Ee[_e]-Ce,getTicksLimit=(Ee,_e)=>Math.min(_e||Ee,Ee);function sample(Ee,_e){const Ce=[],Pe=Ee.length/_e,Re=Ee.length;let Ie=0;for(;Ie<Re;Ie+=Pe)Ce.push(Ee[Math.floor(Ie)]);return Ce}function getPixelForGridLine(Ee,_e,Ce){const Pe=Ee.ticks.length,Re=Math.min(_e,Pe-1),Ie=Ee._startPixel,Be=Ee._endPixel,je=1e-6;let De=Ee.getPixelForTick(Re),Fe;if(!(Ce&&(Pe===1?Fe=Math.max(De-Ie,Be-De):_e===0?Fe=(Ee.getPixelForTick(1)-De)/2:Fe=(De-Ee.getPixelForTick(Re-1))/2,De+=Re<_e?Fe:-Fe,De<Ie-je||De>Be+je)))return De}function garbageCollect(Ee,_e){each$1(Ee,Ce=>{const Pe=Ce.gc,Re=Pe.length/2;let Ie;if(Re>_e){for(Ie=0;Ie<Re;++Ie)delete Ce.data[Pe[Ie]];Pe.splice(0,Re)}})}function getTickMarkLength(Ee){return Ee.drawTicks?Ee.tickLength:0}function getTitleHeight(Ee,_e){if(!Ee.display)return 0;const Ce=toFont(Ee.font,_e),Pe=toPadding(Ee.padding);return(isArray(Ee.text)?Ee.text.length:1)*Ce.lineHeight+Pe.height}function createScaleContext(Ee,_e){return createContext(Ee,{scale:_e,type:"scale"})}function createTickContext(Ee,_e,Ce){return createContext(Ee,{tick:Ce,index:_e,type:"tick"})}function titleAlign(Ee,_e,Ce){let Pe=_toLeftRightCenter(Ee);return(Ce&&_e!=="right"||!Ce&&_e==="right")&&(Pe=reverseAlign(Pe)),Pe}function titleArgs(Ee,_e,Ce,Pe){const{top:Re,left:Ie,bottom:Be,right:je,chart:De}=Ee,{chartArea:Fe,scales:Oe}=De;let ke=0,Me,$e,He;const Qe=Be-Re,Ke=je-Ie;if(Ee.isHorizontal()){if($e=_alignStartEnd(Pe,Ie,je),isObject$1(Ce)){const ze=Object.keys(Ce)[0],We=Ce[ze];He=Oe[ze].getPixelForValue(We)+Qe-_e}else Ce==="center"?He=(Fe.bottom+Fe.top)/2+Qe-_e:He=offsetFromEdge(Ee,Ce,_e);Me=je-Ie}else{if(isObject$1(Ce)){const ze=Object.keys(Ce)[0],We=Ce[ze];$e=Oe[ze].getPixelForValue(We)-Ke+_e}else Ce==="center"?$e=(Fe.left+Fe.right)/2-Ke+_e:$e=offsetFromEdge(Ee,Ce,_e);He=_alignStartEnd(Pe,Be,Re),ke=Ce==="left"?-HALF_PI:HALF_PI}return{titleX:$e,titleY:He,maxWidth:Me,rotation:ke}}class Scale extends Element$1{constructor(_e){super(),this.id=_e.id,this.type=_e.type,this.options=void 0,this.ctx=_e.ctx,this.chart=_e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(_e){this.options=_e.setContext(this.getContext()),this.axis=_e.axis,this._userMin=this.parse(_e.min),this._userMax=this.parse(_e.max),this._suggestedMin=this.parse(_e.suggestedMin),this._suggestedMax=this.parse(_e.suggestedMax)}parse(_e,Ce){return _e}getUserBounds(){let{_userMin:_e,_userMax:Ce,_suggestedMin:Pe,_suggestedMax:Re}=this;return _e=finiteOrDefault(_e,Number.POSITIVE_INFINITY),Ce=finiteOrDefault(Ce,Number.NEGATIVE_INFINITY),Pe=finiteOrDefault(Pe,Number.POSITIVE_INFINITY),Re=finiteOrDefault(Re,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(_e,Pe),max:finiteOrDefault(Ce,Re),minDefined:isNumberFinite(_e),maxDefined:isNumberFinite(Ce)}}getMinMax(_e){let{min:Ce,max:Pe,minDefined:Re,maxDefined:Ie}=this.getUserBounds(),Be;if(Re&&Ie)return{min:Ce,max:Pe};const je=this.getMatchingVisibleMetas();for(let De=0,Fe=je.length;De<Fe;++De)Be=je[De].controller.getMinMax(this,_e),Re||(Ce=Math.min(Ce,Be.min)),Ie||(Pe=Math.max(Pe,Be.max));return Ce=Ie&&Ce>Pe?Pe:Ce,Pe=Re&&Ce>Pe?Ce:Pe,{min:finiteOrDefault(Ce,finiteOrDefault(Pe,Ce)),max:finiteOrDefault(Pe,finiteOrDefault(Ce,Pe))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const _e=this.chart.data;return this.options.labels||(this.isHorizontal()?_e.xLabels:_e.yLabels)||_e.labels||[]}getLabelItems(_e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(_e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(_e,Ce,Pe){const{beginAtZero:Re,grace:Ie,ticks:Be}=this.options,je=Be.sampleSize;this.beforeUpdate(),this.maxWidth=_e,this.maxHeight=Ce,this._margins=Pe=Object.assign({left:0,right:0,top:0,bottom:0},Pe),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+Pe.left+Pe.right:this.height+Pe.top+Pe.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,Ie,Re),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const De=je<this.ticks.length;this._convertTicksToLabels(De?sample(this.ticks,je):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),Be.display&&(Be.autoSkip||Be.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),De&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let _e=this.options.reverse,Ce,Pe;this.isHorizontal()?(Ce=this.left,Pe=this.right):(Ce=this.top,Pe=this.bottom,_e=!_e),this._startPixel=Ce,this._endPixel=Pe,this._reversePixels=_e,this._length=Pe-Ce,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(_e){this.chart.notifyPlugins(_e,this.getContext()),callback(this.options[_e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(_e){const Ce=this.options.ticks;let Pe,Re,Ie;for(Pe=0,Re=_e.length;Pe<Re;Pe++)Ie=_e[Pe],Ie.label=callback(Ce.callback,[Ie.value,Pe,_e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const _e=this.options,Ce=_e.ticks,Pe=getTicksLimit(this.ticks.length,_e.ticks.maxTicksLimit),Re=Ce.minRotation||0,Ie=Ce.maxRotation;let Be=Re,je,De,Fe;if(!this._isVisible()||!Ce.display||Re>=Ie||Pe<=1||!this.isHorizontal()){this.labelRotation=Re;return}const Oe=this._getLabelSizes(),ke=Oe.widest.width,Me=Oe.highest.height,$e=_limitValue(this.chart.width-ke,0,this.maxWidth);je=_e.offset?this.maxWidth/Pe:$e/(Pe-1),ke+6>je&&(je=$e/(Pe-(_e.offset?.5:1)),De=this.maxHeight-getTickMarkLength(_e.grid)-Ce.padding-getTitleHeight(_e.title,this.chart.options.font),Fe=Math.sqrt(ke*ke+Me*Me),Be=toDegrees(Math.min(Math.asin(_limitValue((Oe.highest.height+6)/je,-1,1)),Math.asin(_limitValue(De/Fe,-1,1))-Math.asin(_limitValue(Me/Fe,-1,1)))),Be=Math.max(Re,Math.min(Ie,Be))),this.labelRotation=Be}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const _e={width:0,height:0},{chart:Ce,options:{ticks:Pe,title:Re,grid:Ie}}=this,Be=this._isVisible(),je=this.isHorizontal();if(Be){const De=getTitleHeight(Re,Ce.options.font);if(je?(_e.width=this.maxWidth,_e.height=getTickMarkLength(Ie)+De):(_e.height=this.maxHeight,_e.width=getTickMarkLength(Ie)+De),Pe.display&&this.ticks.length){const{first:Fe,last:Oe,widest:ke,highest:Me}=this._getLabelSizes(),$e=Pe.padding*2,He=toRadians(this.labelRotation),Qe=Math.cos(He),Ke=Math.sin(He);if(je){const ze=Pe.mirror?0:Ke*ke.width+Qe*Me.height;_e.height=Math.min(this.maxHeight,_e.height+ze+$e)}else{const ze=Pe.mirror?0:Qe*ke.width+Ke*Me.height;_e.width=Math.min(this.maxWidth,_e.width+ze+$e)}this._calculatePadding(Fe,Oe,Ke,Qe)}}this._handleMargins(),je?(this.width=this._length=Ce.width-this._margins.left-this._margins.right,this.height=_e.height):(this.width=_e.width,this.height=this._length=Ce.height-this._margins.top-this._margins.bottom)}_calculatePadding(_e,Ce,Pe,Re){const{ticks:{align:Ie,padding:Be},position:je}=this.options,De=this.labelRotation!==0,Fe=je!=="top"&&this.axis==="x";if(this.isHorizontal()){const Oe=this.getPixelForTick(0)-this.left,ke=this.right-this.getPixelForTick(this.ticks.length-1);let Me=0,$e=0;De?Fe?(Me=Re*_e.width,$e=Pe*Ce.height):(Me=Pe*_e.height,$e=Re*Ce.width):Ie==="start"?$e=Ce.width:Ie==="end"?Me=_e.width:Ie!=="inner"&&(Me=_e.width/2,$e=Ce.width/2),this.paddingLeft=Math.max((Me-Oe+Be)*this.width/(this.width-Oe),0),this.paddingRight=Math.max(($e-ke+Be)*this.width/(this.width-ke),0)}else{let Oe=Ce.height/2,ke=_e.height/2;Ie==="start"?(Oe=0,ke=_e.height):Ie==="end"&&(Oe=Ce.height,ke=0),this.paddingTop=Oe+Be,this.paddingBottom=ke+Be}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:_e,position:Ce}=this.options;return Ce==="top"||Ce==="bottom"||_e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(_e){this.beforeTickToLabelConversion(),this.generateTickLabels(_e);let Ce,Pe;for(Ce=0,Pe=_e.length;Ce<Pe;Ce++)isNullOrUndef(_e[Ce].label)&&(_e.splice(Ce,1),Pe--,Ce--);this.afterTickToLabelConversion()}_getLabelSizes(){let _e=this._labelSizes;if(!_e){const Ce=this.options.ticks.sampleSize;let Pe=this.ticks;Ce<Pe.length&&(Pe=sample(Pe,Ce)),this._labelSizes=_e=this._computeLabelSizes(Pe,Pe.length,this.options.ticks.maxTicksLimit)}return _e}_computeLabelSizes(_e,Ce,Pe){const{ctx:Re,_longestTextCache:Ie}=this,Be=[],je=[],De=Math.floor(Ce/getTicksLimit(Ce,Pe));let Fe=0,Oe=0,ke,Me,$e,He,Qe,Ke,ze,We,qe,Ye,Xe;for(ke=0;ke<Ce;ke+=De){if(He=_e[ke].label,Qe=this._resolveTickFontOptions(ke),Re.font=Ke=Qe.string,ze=Ie[Ke]=Ie[Ke]||{data:{},gc:[]},We=Qe.lineHeight,qe=Ye=0,!isNullOrUndef(He)&&!isArray(He))qe=_measureText(Re,ze.data,ze.gc,qe,He),Ye=We;else if(isArray(He))for(Me=0,$e=He.length;Me<$e;++Me)Xe=He[Me],!isNullOrUndef(Xe)&&!isArray(Xe)&&(qe=_measureText(Re,ze.data,ze.gc,qe,Xe),Ye+=We);Be.push(qe),je.push(Ye),Fe=Math.max(qe,Fe),Oe=Math.max(Ye,Oe)}garbageCollect(Ie,Ce);const rr=Be.indexOf(Fe),Je=je.indexOf(Oe),er=or=>({width:Be[or]||0,height:je[or]||0});return{first:er(0),last:er(Ce-1),widest:er(rr),highest:er(Je),widths:Be,heights:je}}getLabelForValue(_e){return _e}getPixelForValue(_e,Ce){return NaN}getValueForPixel(_e){}getPixelForTick(_e){const Ce=this.ticks;return _e<0||_e>Ce.length-1?null:this.getPixelForValue(Ce[_e].value)}getPixelForDecimal(_e){this._reversePixels&&(_e=1-_e);const Ce=this._startPixel+_e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,Ce,0):Ce)}getDecimalForPixel(_e){const Ce=(_e-this._startPixel)/this._length;return this._reversePixels?1-Ce:Ce}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:_e,max:Ce}=this;return _e<0&&Ce<0?Ce:_e>0&&Ce>0?_e:0}getContext(_e){const Ce=this.ticks||[];if(_e>=0&&_e<Ce.length){const Pe=Ce[_e];return Pe.$context||(Pe.$context=createTickContext(this.getContext(),_e,Pe))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const _e=this.options.ticks,Ce=toRadians(this.labelRotation),Pe=Math.abs(Math.cos(Ce)),Re=Math.abs(Math.sin(Ce)),Ie=this._getLabelSizes(),Be=_e.autoSkipPadding||0,je=Ie?Ie.widest.width+Be:0,De=Ie?Ie.highest.height+Be:0;return this.isHorizontal()?De*Pe>je*Re?je/Pe:De/Re:De*Re<je*Pe?De/Pe:je/Re}_isVisible(){const _e=this.options.display;return _e!=="auto"?!!_e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(_e){const Ce=this.axis,Pe=this.chart,Re=this.options,{grid:Ie,position:Be,border:je}=Re,De=Ie.offset,Fe=this.isHorizontal(),ke=this.ticks.length+(De?1:0),Me=getTickMarkLength(Ie),$e=[],He=je.setContext(this.getContext()),Qe=He.display?He.width:0,Ke=Qe/2,ze=function(mr){return _alignPixel(Pe,mr,Qe)};let We,qe,Ye,Xe,rr,Je,er,or,pr,ar,fr,gr;if(Be==="top")We=ze(this.bottom),Je=this.bottom-Me,or=We-Ke,ar=ze(_e.top)+Ke,gr=_e.bottom;else if(Be==="bottom")We=ze(this.top),ar=_e.top,gr=ze(_e.bottom)-Ke,Je=We+Ke,or=this.top+Me;else if(Be==="left")We=ze(this.right),rr=this.right-Me,er=We-Ke,pr=ze(_e.left)+Ke,fr=_e.right;else if(Be==="right")We=ze(this.left),pr=_e.left,fr=ze(_e.right)-Ke,rr=We+Ke,er=this.left+Me;else if(Ce==="x"){if(Be==="center")We=ze((_e.top+_e.bottom)/2+.5);else if(isObject$1(Be)){const mr=Object.keys(Be)[0],Er=Be[mr];We=ze(this.chart.scales[mr].getPixelForValue(Er))}ar=_e.top,gr=_e.bottom,Je=We+Ke,or=Je+Me}else if(Ce==="y"){if(Be==="center")We=ze((_e.left+_e.right)/2);else if(isObject$1(Be)){const mr=Object.keys(Be)[0],Er=Be[mr];We=ze(this.chart.scales[mr].getPixelForValue(Er))}rr=We-Ke,er=rr-Me,pr=_e.left,fr=_e.right}const Rr=valueOrDefault(Re.ticks.maxTicksLimit,ke),Ir=Math.max(1,Math.ceil(ke/Rr));for(qe=0;qe<ke;qe+=Ir){const mr=this.getContext(qe),Er=Ie.setContext(mr),Ar=je.setContext(mr),br=Er.lineWidth,wr=Er.color,jr=Ar.dash||[],hr=Ar.dashOffset,_r=Er.tickWidth,Pr=Er.tickColor,Cr=Er.tickBorderDash||[],Or=Er.tickBorderDashOffset;Ye=getPixelForGridLine(this,qe,De),Ye!==void 0&&(Xe=_alignPixel(Pe,Ye,br),Fe?rr=er=pr=fr=Xe:Je=or=ar=gr=Xe,$e.push({tx1:rr,ty1:Je,tx2:er,ty2:or,x1:pr,y1:ar,x2:fr,y2:gr,width:br,color:wr,borderDash:jr,borderDashOffset:hr,tickWidth:_r,tickColor:Pr,tickBorderDash:Cr,tickBorderDashOffset:Or}))}return this._ticksLength=ke,this._borderValue=We,$e}_computeLabelItems(_e){const Ce=this.axis,Pe=this.options,{position:Re,ticks:Ie}=Pe,Be=this.isHorizontal(),je=this.ticks,{align:De,crossAlign:Fe,padding:Oe,mirror:ke}=Ie,Me=getTickMarkLength(Pe.grid),$e=Me+Oe,He=ke?-Oe:$e,Qe=-toRadians(this.labelRotation),Ke=[];let ze,We,qe,Ye,Xe,rr,Je,er,or,pr,ar,fr,gr="middle";if(Re==="top")rr=this.bottom-He,Je=this._getXAxisLabelAlignment();else if(Re==="bottom")rr=this.top+He,Je=this._getXAxisLabelAlignment();else if(Re==="left"){const Ir=this._getYAxisLabelAlignment(Me);Je=Ir.textAlign,Xe=Ir.x}else if(Re==="right"){const Ir=this._getYAxisLabelAlignment(Me);Je=Ir.textAlign,Xe=Ir.x}else if(Ce==="x"){if(Re==="center")rr=(_e.top+_e.bottom)/2+$e;else if(isObject$1(Re)){const Ir=Object.keys(Re)[0],mr=Re[Ir];rr=this.chart.scales[Ir].getPixelForValue(mr)+$e}Je=this._getXAxisLabelAlignment()}else if(Ce==="y"){if(Re==="center")Xe=(_e.left+_e.right)/2-$e;else if(isObject$1(Re)){const Ir=Object.keys(Re)[0],mr=Re[Ir];Xe=this.chart.scales[Ir].getPixelForValue(mr)}Je=this._getYAxisLabelAlignment(Me).textAlign}Ce==="y"&&(De==="start"?gr="top":De==="end"&&(gr="bottom"));const Rr=this._getLabelSizes();for(ze=0,We=je.length;ze<We;++ze){qe=je[ze],Ye=qe.label;const Ir=Ie.setContext(this.getContext(ze));er=this.getPixelForTick(ze)+Ie.labelOffset,or=this._resolveTickFontOptions(ze),pr=or.lineHeight,ar=isArray(Ye)?Ye.length:1;const mr=ar/2,Er=Ir.color,Ar=Ir.textStrokeColor,br=Ir.textStrokeWidth;let wr=Je;Be?(Xe=er,Je==="inner"&&(ze===We-1?wr=this.options.reverse?"left":"right":ze===0?wr=this.options.reverse?"right":"left":wr="center"),Re==="top"?Fe==="near"||Qe!==0?fr=-ar*pr+pr/2:Fe==="center"?fr=-Rr.highest.height/2-mr*pr+pr:fr=-Rr.highest.height+pr/2:Fe==="near"||Qe!==0?fr=pr/2:Fe==="center"?fr=Rr.highest.height/2-mr*pr:fr=Rr.highest.height-ar*pr,ke&&(fr*=-1),Qe!==0&&!Ir.showLabelBackdrop&&(Xe+=pr/2*Math.sin(Qe))):(rr=er,fr=(1-ar)*pr/2);let jr;if(Ir.showLabelBackdrop){const hr=toPadding(Ir.backdropPadding),_r=Rr.heights[ze],Pr=Rr.widths[ze];let Cr=fr-hr.top,Or=0-hr.left;switch(gr){case"middle":Cr-=_r/2;break;case"bottom":Cr-=_r;break}switch(Je){case"center":Or-=Pr/2;break;case"right":Or-=Pr;break;case"inner":ze===We-1?Or-=Pr:ze>0&&(Or-=Pr/2);break}jr={left:Or,top:Cr,width:Pr+hr.width,height:_r+hr.height,color:Ir.backdropColor}}Ke.push({label:Ye,font:or,textOffset:fr,options:{rotation:Qe,color:Er,strokeColor:Ar,strokeWidth:br,textAlign:wr,textBaseline:gr,translation:[Xe,rr],backdrop:jr}})}return Ke}_getXAxisLabelAlignment(){const{position:_e,ticks:Ce}=this.options;if(-toRadians(this.labelRotation))return _e==="top"?"left":"right";let Re="center";return Ce.align==="start"?Re="left":Ce.align==="end"?Re="right":Ce.align==="inner"&&(Re="inner"),Re}_getYAxisLabelAlignment(_e){const{position:Ce,ticks:{crossAlign:Pe,mirror:Re,padding:Ie}}=this.options,Be=this._getLabelSizes(),je=_e+Ie,De=Be.widest.width;let Fe,Oe;return Ce==="left"?Re?(Oe=this.right+Ie,Pe==="near"?Fe="left":Pe==="center"?(Fe="center",Oe+=De/2):(Fe="right",Oe+=De)):(Oe=this.right-je,Pe==="near"?Fe="right":Pe==="center"?(Fe="center",Oe-=De/2):(Fe="left",Oe=this.left)):Ce==="right"?Re?(Oe=this.left+Ie,Pe==="near"?Fe="right":Pe==="center"?(Fe="center",Oe-=De/2):(Fe="left",Oe-=De)):(Oe=this.left+je,Pe==="near"?Fe="left":Pe==="center"?(Fe="center",Oe+=De/2):(Fe="right",Oe=this.right)):Fe="right",{textAlign:Fe,x:Oe}}_computeLabelArea(){if(this.options.ticks.mirror)return;const _e=this.chart,Ce=this.options.position;if(Ce==="left"||Ce==="right")return{top:0,left:this.left,bottom:_e.height,right:this.right};if(Ce==="top"||Ce==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:_e.width}}drawBackground(){const{ctx:_e,options:{backgroundColor:Ce},left:Pe,top:Re,width:Ie,height:Be}=this;Ce&&(_e.save(),_e.fillStyle=Ce,_e.fillRect(Pe,Re,Ie,Be),_e.restore())}getLineWidthForValue(_e){const Ce=this.options.grid;if(!this._isVisible()||!Ce.display)return 0;const Re=this.ticks.findIndex(Ie=>Ie.value===_e);return Re>=0?Ce.setContext(this.getContext(Re)).lineWidth:0}drawGrid(_e){const Ce=this.options.grid,Pe=this.ctx,Re=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(_e));let Ie,Be;const je=(De,Fe,Oe)=>{!Oe.width||!Oe.color||(Pe.save(),Pe.lineWidth=Oe.width,Pe.strokeStyle=Oe.color,Pe.setLineDash(Oe.borderDash||[]),Pe.lineDashOffset=Oe.borderDashOffset,Pe.beginPath(),Pe.moveTo(De.x,De.y),Pe.lineTo(Fe.x,Fe.y),Pe.stroke(),Pe.restore())};if(Ce.display)for(Ie=0,Be=Re.length;Ie<Be;++Ie){const De=Re[Ie];Ce.drawOnChartArea&&je({x:De.x1,y:De.y1},{x:De.x2,y:De.y2},De),Ce.drawTicks&&je({x:De.tx1,y:De.ty1},{x:De.tx2,y:De.ty2},{color:De.tickColor,width:De.tickWidth,borderDash:De.tickBorderDash,borderDashOffset:De.tickBorderDashOffset})}}drawBorder(){const{chart:_e,ctx:Ce,options:{border:Pe,grid:Re}}=this,Ie=Pe.setContext(this.getContext()),Be=Pe.display?Ie.width:0;if(!Be)return;const je=Re.setContext(this.getContext(0)).lineWidth,De=this._borderValue;let Fe,Oe,ke,Me;this.isHorizontal()?(Fe=_alignPixel(_e,this.left,Be)-Be/2,Oe=_alignPixel(_e,this.right,je)+je/2,ke=Me=De):(ke=_alignPixel(_e,this.top,Be)-Be/2,Me=_alignPixel(_e,this.bottom,je)+je/2,Fe=Oe=De),Ce.save(),Ce.lineWidth=Ie.width,Ce.strokeStyle=Ie.color,Ce.beginPath(),Ce.moveTo(Fe,ke),Ce.lineTo(Oe,Me),Ce.stroke(),Ce.restore()}drawLabels(_e){if(!this.options.ticks.display)return;const Pe=this.ctx,Re=this._computeLabelArea();Re&&clipArea(Pe,Re);const Ie=this.getLabelItems(_e);for(const Be of Ie){const je=Be.options,De=Be.font,Fe=Be.label,Oe=Be.textOffset;renderText(Pe,Fe,0,Oe,De,je)}Re&&unclipArea(Pe)}drawTitle(){const{ctx:_e,options:{position:Ce,title:Pe,reverse:Re}}=this;if(!Pe.display)return;const Ie=toFont(Pe.font),Be=toPadding(Pe.padding),je=Pe.align;let De=Ie.lineHeight/2;Ce==="bottom"||Ce==="center"||isObject$1(Ce)?(De+=Be.bottom,isArray(Pe.text)&&(De+=Ie.lineHeight*(Pe.text.length-1))):De+=Be.top;const{titleX:Fe,titleY:Oe,maxWidth:ke,rotation:Me}=titleArgs(this,De,Ce,je);renderText(_e,Pe.text,0,0,Ie,{color:Pe.color,maxWidth:ke,rotation:Me,textAlign:titleAlign(je,Ce,Re),textBaseline:"middle",translation:[Fe,Oe]})}draw(_e){this._isVisible()&&(this.drawBackground(),this.drawGrid(_e),this.drawBorder(),this.drawTitle(),this.drawLabels(_e))}_layers(){const _e=this.options,Ce=_e.ticks&&_e.ticks.z||0,Pe=valueOrDefault(_e.grid&&_e.grid.z,-1),Re=valueOrDefault(_e.border&&_e.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:Ce,draw:Ie=>{this.draw(Ie)}}]:[{z:Pe,draw:Ie=>{this.drawBackground(),this.drawGrid(Ie),this.drawTitle()}},{z:Re,draw:()=>{this.drawBorder()}},{z:Ce,draw:Ie=>{this.drawLabels(Ie)}}]}getMatchingVisibleMetas(_e){const Ce=this.chart.getSortedVisibleDatasetMetas(),Pe=this.axis+"AxisID",Re=[];let Ie,Be;for(Ie=0,Be=Ce.length;Ie<Be;++Ie){const je=Ce[Ie];je[Pe]===this.id&&(!_e||je.type===_e)&&Re.push(je)}return Re}_resolveTickFontOptions(_e){const Ce=this.options.ticks.setContext(this.getContext(_e));return toFont(Ce.font)}_maxDigits(){const _e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/_e}}class TypedRegistry{constructor(_e,Ce,Pe){this.type=_e,this.scope=Ce,this.override=Pe,this.items=Object.create(null)}isForType(_e){return Object.prototype.isPrototypeOf.call(this.type.prototype,_e.prototype)}register(_e){const Ce=Object.getPrototypeOf(_e);let Pe;isIChartComponent(Ce)&&(Pe=this.register(Ce));const Re=this.items,Ie=_e.id,Be=this.scope+"."+Ie;if(!Ie)throw new Error("class does not have id: "+_e);return Ie in Re||(Re[Ie]=_e,registerDefaults(_e,Be,Pe),this.override&&defaults$1.override(_e.id,_e.overrides)),Be}get(_e){return this.items[_e]}unregister(_e){const Ce=this.items,Pe=_e.id,Re=this.scope;Pe in Ce&&delete Ce[Pe],Re&&Pe in defaults$1[Re]&&(delete defaults$1[Re][Pe],this.override&&delete overrides[Pe])}}function registerDefaults(Ee,_e,Ce){const Pe=merge(Object.create(null),[Ce?defaults$1.get(Ce):{},defaults$1.get(_e),Ee.defaults]);defaults$1.set(_e,Pe),Ee.defaultRoutes&&routeDefaults(_e,Ee.defaultRoutes),Ee.descriptors&&defaults$1.describe(_e,Ee.descriptors)}function routeDefaults(Ee,_e){Object.keys(_e).forEach(Ce=>{const Pe=Ce.split("."),Re=Pe.pop(),Ie=[Ee].concat(Pe).join("."),Be=_e[Ce].split("."),je=Be.pop(),De=Be.join(".");defaults$1.route(Ie,Re,De,je)})}function isIChartComponent(Ee){return"id"in Ee&&"defaults"in Ee}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(..._e){this._each("register",_e)}remove(..._e){this._each("unregister",_e)}addControllers(..._e){this._each("register",_e,this.controllers)}addElements(..._e){this._each("register",_e,this.elements)}addPlugins(..._e){this._each("register",_e,this.plugins)}addScales(..._e){this._each("register",_e,this.scales)}getController(_e){return this._get(_e,this.controllers,"controller")}getElement(_e){return this._get(_e,this.elements,"element")}getPlugin(_e){return this._get(_e,this.plugins,"plugin")}getScale(_e){return this._get(_e,this.scales,"scale")}removeControllers(..._e){this._each("unregister",_e,this.controllers)}removeElements(..._e){this._each("unregister",_e,this.elements)}removePlugins(..._e){this._each("unregister",_e,this.plugins)}removeScales(..._e){this._each("unregister",_e,this.scales)}_each(_e,Ce,Pe){[...Ce].forEach(Re=>{const Ie=Pe||this._getRegistryForType(Re);Pe||Ie.isForType(Re)||Ie===this.plugins&&Re.id?this._exec(_e,Ie,Re):each$1(Re,Be=>{const je=Pe||this._getRegistryForType(Be);this._exec(_e,je,Be)})})}_exec(_e,Ce,Pe){const Re=_capitalize(_e);callback(Pe["before"+Re],[],Pe),Ce[_e](Pe),callback(Pe["after"+Re],[],Pe)}_getRegistryForType(_e){for(let Ce=0;Ce<this._typedRegistries.length;Ce++){const Pe=this._typedRegistries[Ce];if(Pe.isForType(_e))return Pe}return this.plugins}_get(_e,Ce,Pe){const Re=Ce.get(_e);if(Re===void 0)throw new Error('"'+_e+'" is not a registered '+Pe+".");return Re}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(_e,Ce,Pe,Re){Ce==="beforeInit"&&(this._init=this._createDescriptors(_e,!0),this._notify(this._init,_e,"install"));const Ie=Re?this._descriptors(_e).filter(Re):this._descriptors(_e),Be=this._notify(Ie,_e,Ce,Pe);return Ce==="afterDestroy"&&(this._notify(Ie,_e,"stop"),this._notify(this._init,_e,"uninstall")),Be}_notify(_e,Ce,Pe,Re){Re=Re||{};for(const Ie of _e){const Be=Ie.plugin,je=Be[Pe],De=[Ce,Re,Ie.options];if(callback(je,De,Be)===!1&&Re.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(_e){if(this._cache)return this._cache;const Ce=this._cache=this._createDescriptors(_e);return this._notifyStateChanges(_e),Ce}_createDescriptors(_e,Ce){const Pe=_e&&_e.config,Re=valueOrDefault(Pe.options&&Pe.options.plugins,{}),Ie=allPlugins(Pe);return Re===!1&&!Ce?[]:createDescriptors(_e,Ie,Re,Ce)}_notifyStateChanges(_e){const Ce=this._oldCache||[],Pe=this._cache,Re=(Ie,Be)=>Ie.filter(je=>!Be.some(De=>je.plugin.id===De.plugin.id));this._notify(Re(Ce,Pe),_e,"stop"),this._notify(Re(Pe,Ce),_e,"start")}}function allPlugins(Ee){const _e={},Ce=[],Pe=Object.keys(registry.plugins.items);for(let Ie=0;Ie<Pe.length;Ie++)Ce.push(registry.getPlugin(Pe[Ie]));const Re=Ee.plugins||[];for(let Ie=0;Ie<Re.length;Ie++){const Be=Re[Ie];Ce.indexOf(Be)===-1&&(Ce.push(Be),_e[Be.id]=!0)}return{plugins:Ce,localIds:_e}}function getOpts(Ee,_e){return!_e&&Ee===!1?null:Ee===!0?{}:Ee}function createDescriptors(Ee,{plugins:_e,localIds:Ce},Pe,Re){const Ie=[],Be=Ee.getContext();for(const je of _e){const De=je.id,Fe=getOpts(Pe[De],Re);Fe!==null&&Ie.push({plugin:je,options:pluginOpts(Ee.config,{plugin:je,local:Ce[De]},Fe,Be)})}return Ie}function pluginOpts(Ee,{plugin:_e,local:Ce},Pe,Re){const Ie=Ee.pluginScopeKeys(_e),Be=Ee.getOptionScopes(Pe,Ie);return Ce&&_e.defaults&&Be.push(_e.defaults),Ee.createResolver(Be,Re,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(Ee,_e){const Ce=defaults$1.datasets[Ee]||{};return((_e.datasets||{})[Ee]||{}).indexAxis||_e.indexAxis||Ce.indexAxis||"x"}function getAxisFromDefaultScaleID(Ee,_e){let Ce=Ee;return Ee==="_index_"?Ce=_e:Ee==="_value_"&&(Ce=_e==="x"?"y":"x"),Ce}function getDefaultScaleIDFromAxis(Ee,_e){return Ee===_e?"_index_":"_value_"}function idMatchesAxis(Ee){if(Ee==="x"||Ee==="y"||Ee==="r")return Ee}function axisFromPosition(Ee){if(Ee==="top"||Ee==="bottom")return"x";if(Ee==="left"||Ee==="right")return"y"}function determineAxis(Ee,..._e){if(idMatchesAxis(Ee))return Ee;for(const Ce of _e){const Pe=Ce.axis||axisFromPosition(Ce.position)||Ee.length>1&&idMatchesAxis(Ee[0].toLowerCase());if(Pe)return Pe}throw new Error(`Cannot determine type of '${Ee}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(Ee,_e,Ce){if(Ce[_e+"AxisID"]===Ee)return{axis:_e}}function retrieveAxisFromDatasets(Ee,_e){if(_e.data&&_e.data.datasets){const Ce=_e.data.datasets.filter(Pe=>Pe.xAxisID===Ee||Pe.yAxisID===Ee);if(Ce.length)return getAxisFromDataset(Ee,"x",Ce[0])||getAxisFromDataset(Ee,"y",Ce[0])}return{}}function mergeScaleConfig(Ee,_e){const Ce=overrides[Ee.type]||{scales:{}},Pe=_e.scales||{},Re=getIndexAxis(Ee.type,_e),Ie=Object.create(null);return Object.keys(Pe).forEach(Be=>{const je=Pe[Be];if(!isObject$1(je))return console.error(`Invalid scale configuration for scale: ${Be}`);if(je._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${Be}`);const De=determineAxis(Be,je,retrieveAxisFromDatasets(Be,Ee),defaults$1.scales[je.type]),Fe=getDefaultScaleIDFromAxis(De,Re),Oe=Ce.scales||{};Ie[Be]=mergeIf(Object.create(null),[{axis:De},je,Oe[De],Oe[Fe]])}),Ee.data.datasets.forEach(Be=>{const je=Be.type||Ee.type,De=Be.indexAxis||getIndexAxis(je,_e),Oe=(overrides[je]||{}).scales||{};Object.keys(Oe).forEach(ke=>{const Me=getAxisFromDefaultScaleID(ke,De),$e=Be[Me+"AxisID"]||Me;Ie[$e]=Ie[$e]||Object.create(null),mergeIf(Ie[$e],[{axis:Me},Pe[$e],Oe[ke]])})}),Object.keys(Ie).forEach(Be=>{const je=Ie[Be];mergeIf(je,[defaults$1.scales[je.type],defaults$1.scale])}),Ie}function initOptions(Ee){const _e=Ee.options||(Ee.options={});_e.plugins=valueOrDefault(_e.plugins,{}),_e.scales=mergeScaleConfig(Ee,_e)}function initData(Ee){return Ee=Ee||{},Ee.datasets=Ee.datasets||[],Ee.labels=Ee.labels||[],Ee}function initConfig(Ee){return Ee=Ee||{},Ee.data=initData(Ee.data),initOptions(Ee),Ee}const keyCache=new Map,keysCached=new Set;function cachedKeys(Ee,_e){let Ce=keyCache.get(Ee);return Ce||(Ce=_e(),keyCache.set(Ee,Ce),keysCached.add(Ce)),Ce}const addIfFound=(Ee,_e,Ce)=>{const Pe=resolveObjectKey(_e,Ce);Pe!==void 0&&Ee.add(Pe)};class Config{constructor(_e){this._config=initConfig(_e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(_e){this._config.type=_e}get data(){return this._config.data}set data(_e){this._config.data=initData(_e)}get options(){return this._config.options}set options(_e){this._config.options=_e}get plugins(){return this._config.plugins}update(){const _e=this._config;this.clearCache(),initOptions(_e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(_e){return cachedKeys(_e,()=>[[`datasets.${_e}`,""]])}datasetAnimationScopeKeys(_e,Ce){return cachedKeys(`${_e}.transition.${Ce}`,()=>[[`datasets.${_e}.transitions.${Ce}`,`transitions.${Ce}`],[`datasets.${_e}`,""]])}datasetElementScopeKeys(_e,Ce){return cachedKeys(`${_e}-${Ce}`,()=>[[`datasets.${_e}.elements.${Ce}`,`datasets.${_e}`,`elements.${Ce}`,""]])}pluginScopeKeys(_e){const Ce=_e.id,Pe=this.type;return cachedKeys(`${Pe}-plugin-${Ce}`,()=>[[`plugins.${Ce}`,..._e.additionalOptionScopes||[]]])}_cachedScopes(_e,Ce){const Pe=this._scopeCache;let Re=Pe.get(_e);return(!Re||Ce)&&(Re=new Map,Pe.set(_e,Re)),Re}getOptionScopes(_e,Ce,Pe){const{options:Re,type:Ie}=this,Be=this._cachedScopes(_e,Pe),je=Be.get(Ce);if(je)return je;const De=new Set;Ce.forEach(Oe=>{_e&&(De.add(_e),Oe.forEach(ke=>addIfFound(De,_e,ke))),Oe.forEach(ke=>addIfFound(De,Re,ke)),Oe.forEach(ke=>addIfFound(De,overrides[Ie]||{},ke)),Oe.forEach(ke=>addIfFound(De,defaults$1,ke)),Oe.forEach(ke=>addIfFound(De,descriptors,ke))});const Fe=Array.from(De);return Fe.length===0&&Fe.push(Object.create(null)),keysCached.has(Ce)&&Be.set(Ce,Fe),Fe}chartOptionScopes(){const{options:_e,type:Ce}=this;return[_e,overrides[Ce]||{},defaults$1.datasets[Ce]||{},{type:Ce},defaults$1,descriptors]}resolveNamedOptions(_e,Ce,Pe,Re=[""]){const Ie={$shared:!0},{resolver:Be,subPrefixes:je}=getResolver(this._resolverCache,_e,Re);let De=Be;if(needContext(Be,Ce)){Ie.$shared=!1,Pe=isFunction(Pe)?Pe():Pe;const Fe=this.createResolver(_e,Pe,je);De=_attachContext(Be,Pe,Fe)}for(const Fe of Ce)Ie[Fe]=De[Fe];return Ie}createResolver(_e,Ce,Pe=[""],Re){const{resolver:Ie}=getResolver(this._resolverCache,_e,Pe);return isObject$1(Ce)?_attachContext(Ie,Ce,void 0,Re):Ie}}function getResolver(Ee,_e,Ce){let Pe=Ee.get(_e);Pe||(Pe=new Map,Ee.set(_e,Pe));const Re=Ce.join();let Ie=Pe.get(Re);return Ie||(Ie={resolver:_createResolver(_e,Ce),subPrefixes:Ce.filter(je=>!je.toLowerCase().includes("hover"))},Pe.set(Re,Ie)),Ie}const hasFunction=Ee=>isObject$1(Ee)&&Object.getOwnPropertyNames(Ee).some(_e=>isFunction(Ee[_e]));function needContext(Ee,_e){const{isScriptable:Ce,isIndexable:Pe}=_descriptors(Ee);for(const Re of _e){const Ie=Ce(Re),Be=Pe(Re),je=(Be||Ie)&&Ee[Re];if(Ie&&(isFunction(je)||hasFunction(je))||Be&&isArray(je))return!0}return!1}var version="4.5.0";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(Ee,_e){return Ee==="top"||Ee==="bottom"||KNOWN_POSITIONS.indexOf(Ee)===-1&&_e==="x"}function compare2Level(Ee,_e){return function(Ce,Pe){return Ce[Ee]===Pe[Ee]?Ce[_e]-Pe[_e]:Ce[Ee]-Pe[Ee]}}function onAnimationsComplete(Ee){const _e=Ee.chart,Ce=_e.options.animation;_e.notifyPlugins("afterRender"),callback(Ce&&Ce.onComplete,[Ee],_e)}function onAnimationProgress(Ee){const _e=Ee.chart,Ce=_e.options.animation;callback(Ce&&Ce.onProgress,[Ee],_e)}function getCanvas(Ee){return _isDomSupported()&&typeof Ee=="string"?Ee=document.getElementById(Ee):Ee&&Ee.length&&(Ee=Ee[0]),Ee&&Ee.canvas&&(Ee=Ee.canvas),Ee}const instances={},getChart=Ee=>{const _e=getCanvas(Ee);return Object.values(instances).filter(Ce=>Ce.canvas===_e).pop()};function moveNumericKeys(Ee,_e,Ce){const Pe=Object.keys(Ee);for(const Re of Pe){const Ie=+Re;if(Ie>=_e){const Be=Ee[Re];delete Ee[Re],(Ce>0||Ie>_e)&&(Ee[Ie+Ce]=Be)}}}function determineLastEvent(Ee,_e,Ce,Pe){return!Ce||Ee.type==="mouseout"?null:Pe?_e:Ee}let Chart$1=class{static defaults=defaults$1;static instances=instances;static overrides=overrides;static registry=registry;static version=version;static getChart=getChart;static register(..._e){registry.add(..._e),invalidatePlugins()}static unregister(..._e){registry.remove(..._e),invalidatePlugins()}constructor(_e,Ce){const Pe=this.config=new Config(Ce),Re=getCanvas(_e),Ie=getChart(Re);if(Ie)throw new Error("Canvas is already in use. Chart with ID '"+Ie.id+"' must be destroyed before the canvas with ID '"+Ie.canvas.id+"' can be reused.");const Be=Pe.createResolver(Pe.chartOptionScopes(),this.getContext());this.platform=new(Pe.platform||_detectPlatform(Re)),this.platform.updateConfig(Pe);const je=this.platform.acquireContext(Re,Be.aspectRatio),De=je&&je.canvas,Fe=De&&De.height,Oe=De&&De.width;if(this.id=uid(),this.ctx=je,this.canvas=De,this.width=Oe,this.height=Fe,this._options=Be,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce$2(ke=>this.update(ke),Be.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!je||!De){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:_e,maintainAspectRatio:Ce},width:Pe,height:Re,_aspectRatio:Ie}=this;return isNullOrUndef(_e)?Ce&&Ie?Ie:Re?Pe/Re:null:_e}get data(){return this.config.data}set data(_e){this.config.data=_e}get options(){return this._options}set options(_e){this.config.options=_e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(_e,Ce){animator.running(this)?this._resizeBeforeDraw={width:_e,height:Ce}:this._resize(_e,Ce)}_resize(_e,Ce){const Pe=this.options,Re=this.canvas,Ie=Pe.maintainAspectRatio&&this.aspectRatio,Be=this.platform.getMaximumSize(Re,_e,Ce,Ie),je=Pe.devicePixelRatio||this.platform.getDevicePixelRatio(),De=this.width?"resize":"attach";this.width=Be.width,this.height=Be.height,this._aspectRatio=this.aspectRatio,retinaScale(this,je,!0)&&(this.notifyPlugins("resize",{size:Be}),callback(Pe.onResize,[this,Be],this),this.attached&&this._doResize(De)&&this.render())}ensureScalesHaveIDs(){const Ce=this.options.scales||{};each$1(Ce,(Pe,Re)=>{Pe.id=Re})}buildOrUpdateScales(){const _e=this.options,Ce=_e.scales,Pe=this.scales,Re=Object.keys(Pe).reduce((Be,je)=>(Be[je]=!1,Be),{});let Ie=[];Ce&&(Ie=Ie.concat(Object.keys(Ce).map(Be=>{const je=Ce[Be],De=determineAxis(Be,je),Fe=De==="r",Oe=De==="x";return{options:je,dposition:Fe?"chartArea":Oe?"bottom":"left",dtype:Fe?"radialLinear":Oe?"category":"linear"}}))),each$1(Ie,Be=>{const je=Be.options,De=je.id,Fe=determineAxis(De,je),Oe=valueOrDefault(je.type,Be.dtype);(je.position===void 0||positionIsHorizontal(je.position,Fe)!==positionIsHorizontal(Be.dposition))&&(je.position=Be.dposition),Re[De]=!0;let ke=null;if(De in Pe&&Pe[De].type===Oe)ke=Pe[De];else{const Me=registry.getScale(Oe);ke=new Me({id:De,type:Oe,ctx:this.ctx,chart:this}),Pe[ke.id]=ke}ke.init(je,_e)}),each$1(Re,(Be,je)=>{Be||delete Pe[je]}),each$1(Pe,Be=>{layouts.configure(this,Be,Be.options),layouts.addBox(this,Be)})}_updateMetasets(){const _e=this._metasets,Ce=this.data.datasets.length,Pe=_e.length;if(_e.sort((Re,Ie)=>Re.index-Ie.index),Pe>Ce){for(let Re=Ce;Re<Pe;++Re)this._destroyDatasetMeta(Re);_e.splice(Ce,Pe-Ce)}this._sortedMetasets=_e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:_e,data:{datasets:Ce}}=this;_e.length>Ce.length&&delete this._stacks,_e.forEach((Pe,Re)=>{Ce.filter(Ie=>Ie===Pe._dataset).length===0&&this._destroyDatasetMeta(Re)})}buildOrUpdateControllers(){const _e=[],Ce=this.data.datasets;let Pe,Re;for(this._removeUnreferencedMetasets(),Pe=0,Re=Ce.length;Pe<Re;Pe++){const Ie=Ce[Pe];let Be=this.getDatasetMeta(Pe);const je=Ie.type||this.config.type;if(Be.type&&Be.type!==je&&(this._destroyDatasetMeta(Pe),Be=this.getDatasetMeta(Pe)),Be.type=je,Be.indexAxis=Ie.indexAxis||getIndexAxis(je,this.options),Be.order=Ie.order||0,Be.index=Pe,Be.label=""+Ie.label,Be.visible=this.isDatasetVisible(Pe),Be.controller)Be.controller.updateIndex(Pe),Be.controller.linkScales();else{const De=registry.getController(je),{datasetElementType:Fe,dataElementType:Oe}=defaults$1.datasets[je];Object.assign(De,{dataElementType:registry.getElement(Oe),datasetElementType:Fe&&registry.getElement(Fe)}),Be.controller=new De(this,Pe),_e.push(Be.controller)}}return this._updateMetasets(),_e}_resetElements(){each$1(this.data.datasets,(_e,Ce)=>{this.getDatasetMeta(Ce).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(_e){const Ce=this.config;Ce.update();const Pe=this._options=Ce.createResolver(Ce.chartOptionScopes(),this.getContext()),Re=this._animationsDisabled=!Pe.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:_e,cancelable:!0})===!1)return;const Ie=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let Be=0;for(let Fe=0,Oe=this.data.datasets.length;Fe<Oe;Fe++){const{controller:ke}=this.getDatasetMeta(Fe),Me=!Re&&Ie.indexOf(ke)===-1;ke.buildOrUpdateElements(Me),Be=Math.max(+ke.getMaxOverflow(),Be)}Be=this._minPadding=Pe.layout.autoPadding?Be:0,this._updateLayout(Be),Re||each$1(Ie,Fe=>{Fe.reset()}),this._updateDatasets(_e),this.notifyPlugins("afterUpdate",{mode:_e}),this._layers.sort(compare2Level("z","_idx"));const{_active:je,_lastEvent:De}=this;De?this._eventHandler(De,!0):je.length&&this._updateHoverStyles(je,je,!0),this.render()}_updateScales(){each$1(this.scales,_e=>{layouts.removeBox(this,_e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const _e=this.options,Ce=new Set(Object.keys(this._listeners)),Pe=new Set(_e.events);(!setsEqual(Ce,Pe)||!!this._responsiveListeners!==_e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:_e}=this,Ce=this._getUniformDataChanges()||[];for(const{method:Pe,start:Re,count:Ie}of Ce){const Be=Pe==="_removeElements"?-Ie:Ie;moveNumericKeys(_e,Re,Be)}}_getUniformDataChanges(){const _e=this._dataChanges;if(!_e||!_e.length)return;this._dataChanges=[];const Ce=this.data.datasets.length,Pe=Ie=>new Set(_e.filter(Be=>Be[0]===Ie).map((Be,je)=>je+","+Be.splice(1).join(","))),Re=Pe(0);for(let Ie=1;Ie<Ce;Ie++)if(!setsEqual(Re,Pe(Ie)))return;return Array.from(Re).map(Ie=>Ie.split(",")).map(Ie=>({method:Ie[1],start:+Ie[2],count:+Ie[3]}))}_updateLayout(_e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,_e);const Ce=this.chartArea,Pe=Ce.width<=0||Ce.height<=0;this._layers=[],each$1(this.boxes,Re=>{Pe&&Re.position==="chartArea"||(Re.configure&&Re.configure(),this._layers.push(...Re._layers()))},this),this._layers.forEach((Re,Ie)=>{Re._idx=Ie}),this.notifyPlugins("afterLayout")}_updateDatasets(_e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:_e,cancelable:!0})!==!1){for(let Ce=0,Pe=this.data.datasets.length;Ce<Pe;++Ce)this.getDatasetMeta(Ce).controller.configure();for(let Ce=0,Pe=this.data.datasets.length;Ce<Pe;++Ce)this._updateDataset(Ce,isFunction(_e)?_e({datasetIndex:Ce}):_e);this.notifyPlugins("afterDatasetsUpdate",{mode:_e})}}_updateDataset(_e,Ce){const Pe=this.getDatasetMeta(_e),Re={meta:Pe,index:_e,mode:Ce,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",Re)!==!1&&(Pe.controller._update(Ce),Re.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",Re))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let _e;if(this._resizeBeforeDraw){const{width:Pe,height:Re}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(Pe,Re)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const Ce=this._layers;for(_e=0;_e<Ce.length&&Ce[_e].z<=0;++_e)Ce[_e].draw(this.chartArea);for(this._drawDatasets();_e<Ce.length;++_e)Ce[_e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(_e){const Ce=this._sortedMetasets,Pe=[];let Re,Ie;for(Re=0,Ie=Ce.length;Re<Ie;++Re){const Be=Ce[Re];(!_e||Be.visible)&&Pe.push(Be)}return Pe}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const _e=this.getSortedVisibleDatasetMetas();for(let Ce=_e.length-1;Ce>=0;--Ce)this._drawDataset(_e[Ce]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(_e){const Ce=this.ctx,Pe={meta:_e,index:_e.index,cancelable:!0},Re=getDatasetClipArea(this,_e);this.notifyPlugins("beforeDatasetDraw",Pe)!==!1&&(Re&&clipArea(Ce,Re),_e.controller.draw(),Re&&unclipArea(Ce),Pe.cancelable=!1,this.notifyPlugins("afterDatasetDraw",Pe))}isPointInArea(_e){return _isPointInArea(_e,this.chartArea,this._minPadding)}getElementsAtEventForMode(_e,Ce,Pe,Re){const Ie=Interaction.modes[Ce];return typeof Ie=="function"?Ie(this,_e,Pe,Re):[]}getDatasetMeta(_e){const Ce=this.data.datasets[_e],Pe=this._metasets;let Re=Pe.filter(Ie=>Ie&&Ie._dataset===Ce).pop();return Re||(Re={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:Ce&&Ce.order||0,index:_e,_dataset:Ce,_parsed:[],_sorted:!1},Pe.push(Re)),Re}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(_e){const Ce=this.data.datasets[_e];if(!Ce)return!1;const Pe=this.getDatasetMeta(_e);return typeof Pe.hidden=="boolean"?!Pe.hidden:!Ce.hidden}setDatasetVisibility(_e,Ce){const Pe=this.getDatasetMeta(_e);Pe.hidden=!Ce}toggleDataVisibility(_e){this._hiddenIndices[_e]=!this._hiddenIndices[_e]}getDataVisibility(_e){return!this._hiddenIndices[_e]}_updateVisibility(_e,Ce,Pe){const Re=Pe?"show":"hide",Ie=this.getDatasetMeta(_e),Be=Ie.controller._resolveAnimations(void 0,Re);defined$1(Ce)?(Ie.data[Ce].hidden=!Pe,this.update()):(this.setDatasetVisibility(_e,Pe),Be.update(Ie,{visible:Pe}),this.update(je=>je.datasetIndex===_e?Re:void 0))}hide(_e,Ce){this._updateVisibility(_e,Ce,!1)}show(_e,Ce){this._updateVisibility(_e,Ce,!0)}_destroyDatasetMeta(_e){const Ce=this._metasets[_e];Ce&&Ce.controller&&Ce.controller._destroy(),delete this._metasets[_e]}_stop(){let _e,Ce;for(this.stop(),animator.remove(this),_e=0,Ce=this.data.datasets.length;_e<Ce;++_e)this._destroyDatasetMeta(_e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:_e,ctx:Ce}=this;this._stop(),this.config.clearCache(),_e&&(this.unbindEvents(),clearCanvas(_e,Ce),this.platform.releaseContext(Ce),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(..._e){return this.canvas.toDataURL(..._e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const _e=this._listeners,Ce=this.platform,Pe=(Ie,Be)=>{Ce.addEventListener(this,Ie,Be),_e[Ie]=Be},Re=(Ie,Be,je)=>{Ie.offsetX=Be,Ie.offsetY=je,this._eventHandler(Ie)};each$1(this.options.events,Ie=>Pe(Ie,Re))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const _e=this._responsiveListeners,Ce=this.platform,Pe=(De,Fe)=>{Ce.addEventListener(this,De,Fe),_e[De]=Fe},Re=(De,Fe)=>{_e[De]&&(Ce.removeEventListener(this,De,Fe),delete _e[De])},Ie=(De,Fe)=>{this.canvas&&this.resize(De,Fe)};let Be;const je=()=>{Re("attach",je),this.attached=!0,this.resize(),Pe("resize",Ie),Pe("detach",Be)};Be=()=>{this.attached=!1,Re("resize",Ie),this._stop(),this._resize(0,0),Pe("attach",je)},Ce.isAttached(this.canvas)?je():Be()}unbindEvents(){each$1(this._listeners,(_e,Ce)=>{this.platform.removeEventListener(this,Ce,_e)}),this._listeners={},each$1(this._responsiveListeners,(_e,Ce)=>{this.platform.removeEventListener(this,Ce,_e)}),this._responsiveListeners=void 0}updateHoverStyle(_e,Ce,Pe){const Re=Pe?"set":"remove";let Ie,Be,je,De;for(Ce==="dataset"&&(Ie=this.getDatasetMeta(_e[0].datasetIndex),Ie.controller["_"+Re+"DatasetHoverStyle"]()),je=0,De=_e.length;je<De;++je){Be=_e[je];const Fe=Be&&this.getDatasetMeta(Be.datasetIndex).controller;Fe&&Fe[Re+"HoverStyle"](Be.element,Be.datasetIndex,Be.index)}}getActiveElements(){return this._active||[]}setActiveElements(_e){const Ce=this._active||[],Pe=_e.map(({datasetIndex:Ie,index:Be})=>{const je=this.getDatasetMeta(Ie);if(!je)throw new Error("No dataset found at index "+Ie);return{datasetIndex:Ie,element:je.data[Be],index:Be}});!_elementsEqual(Pe,Ce)&&(this._active=Pe,this._lastEvent=null,this._updateHoverStyles(Pe,Ce))}notifyPlugins(_e,Ce,Pe){return this._plugins.notify(this,_e,Ce,Pe)}isPluginEnabled(_e){return this._plugins._cache.filter(Ce=>Ce.plugin.id===_e).length===1}_updateHoverStyles(_e,Ce,Pe){const Re=this.options.hover,Ie=(De,Fe)=>De.filter(Oe=>!Fe.some(ke=>Oe.datasetIndex===ke.datasetIndex&&Oe.index===ke.index)),Be=Ie(Ce,_e),je=Pe?_e:Ie(_e,Ce);Be.length&&this.updateHoverStyle(Be,Re.mode,!1),je.length&&Re.mode&&this.updateHoverStyle(je,Re.mode,!0)}_eventHandler(_e,Ce){const Pe={event:_e,replay:Ce,cancelable:!0,inChartArea:this.isPointInArea(_e)},Re=Be=>(Be.options.events||this.options.events).includes(_e.native.type);if(this.notifyPlugins("beforeEvent",Pe,Re)===!1)return;const Ie=this._handleEvent(_e,Ce,Pe.inChartArea);return Pe.cancelable=!1,this.notifyPlugins("afterEvent",Pe,Re),(Ie||Pe.changed)&&this.render(),this}_handleEvent(_e,Ce,Pe){const{_active:Re=[],options:Ie}=this,Be=Ce,je=this._getActiveElements(_e,Re,Pe,Be),De=_isClickEvent(_e),Fe=determineLastEvent(_e,this._lastEvent,Pe,De);Pe&&(this._lastEvent=null,callback(Ie.onHover,[_e,je,this],this),De&&callback(Ie.onClick,[_e,je,this],this));const Oe=!_elementsEqual(je,Re);return(Oe||Ce)&&(this._active=je,this._updateHoverStyles(je,Re,Ce)),this._lastEvent=Fe,Oe}_getActiveElements(_e,Ce,Pe,Re){if(_e.type==="mouseout")return[];if(!Pe)return Ce;const Ie=this.options.hover;return this.getElementsAtEventForMode(_e,Ie.mode,Ie,Re)}};function invalidatePlugins(){return each$1(Chart$1.instances,Ee=>Ee._plugins.invalidate())}function clipSelf(Ee,_e,Ce){const{startAngle:Pe,x:Re,y:Ie,outerRadius:Be,innerRadius:je,options:De}=_e,{borderWidth:Fe,borderJoinStyle:Oe}=De,ke=Math.min(Fe/Be,_normalizeAngle(Pe-Ce));if(Ee.beginPath(),Ee.arc(Re,Ie,Be-Fe/2,Pe+ke/2,Ce-ke/2),je>0){const Me=Math.min(Fe/je,_normalizeAngle(Pe-Ce));Ee.arc(Re,Ie,je+Fe/2,Ce-Me/2,Pe+Me/2,!0)}else{const Me=Math.min(Fe/2,Be*_normalizeAngle(Pe-Ce));if(Oe==="round")Ee.arc(Re,Ie,Me,Ce-PI/2,Pe+PI/2,!0);else if(Oe==="bevel"){const $e=2*Me*Me,He=-$e*Math.cos(Ce+PI/2)+Re,Qe=-$e*Math.sin(Ce+PI/2)+Ie,Ke=$e*Math.cos(Pe+PI/2)+Re,ze=$e*Math.sin(Pe+PI/2)+Ie;Ee.lineTo(He,Qe),Ee.lineTo(Ke,ze)}}Ee.closePath(),Ee.moveTo(0,0),Ee.rect(0,0,Ee.canvas.width,Ee.canvas.height),Ee.clip("evenodd")}function clipArc(Ee,_e,Ce){const{startAngle:Pe,pixelMargin:Re,x:Ie,y:Be,outerRadius:je,innerRadius:De}=_e;let Fe=Re/je;Ee.beginPath(),Ee.arc(Ie,Be,je,Pe-Fe,Ce+Fe),De>Re?(Fe=Re/De,Ee.arc(Ie,Be,De,Ce+Fe,Pe-Fe,!0)):Ee.arc(Ie,Be,Re,Ce+HALF_PI,Pe-HALF_PI),Ee.closePath(),Ee.clip()}function toRadiusCorners(Ee){return _readValueToProps(Ee,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(Ee,_e,Ce,Pe){const Re=toRadiusCorners(Ee.options.borderRadius),Ie=(Ce-_e)/2,Be=Math.min(Ie,Pe*_e/2),je=De=>{const Fe=(Ce-Math.min(Ie,De))*Pe/2;return _limitValue(De,0,Math.min(Ie,Fe))};return{outerStart:je(Re.outerStart),outerEnd:je(Re.outerEnd),innerStart:_limitValue(Re.innerStart,0,Be),innerEnd:_limitValue(Re.innerEnd,0,Be)}}function rThetaToXY(Ee,_e,Ce,Pe){return{x:Ce+Ee*Math.cos(_e),y:Pe+Ee*Math.sin(_e)}}function pathArc(Ee,_e,Ce,Pe,Re,Ie){const{x:Be,y:je,startAngle:De,pixelMargin:Fe,innerRadius:Oe}=_e,ke=Math.max(_e.outerRadius+Pe+Ce-Fe,0),Me=Oe>0?Oe+Pe+Ce+Fe:0;let $e=0;const He=Re-De;if(Pe){const Ir=Oe>0?Oe-Pe:0,mr=ke>0?ke-Pe:0,Er=(Ir+mr)/2,Ar=Er!==0?He*Er/(Er+Pe):He;$e=(He-Ar)/2}const Qe=Math.max(.001,He*ke-Ce/PI)/ke,Ke=(He-Qe)/2,ze=De+Ke+$e,We=Re-Ke-$e,{outerStart:qe,outerEnd:Ye,innerStart:Xe,innerEnd:rr}=parseBorderRadius$1(_e,Me,ke,We-ze),Je=ke-qe,er=ke-Ye,or=ze+qe/Je,pr=We-Ye/er,ar=Me+Xe,fr=Me+rr,gr=ze+Xe/ar,Rr=We-rr/fr;if(Ee.beginPath(),Ie){const Ir=(or+pr)/2;if(Ee.arc(Be,je,ke,or,Ir),Ee.arc(Be,je,ke,Ir,pr),Ye>0){const br=rThetaToXY(er,pr,Be,je);Ee.arc(br.x,br.y,Ye,pr,We+HALF_PI)}const mr=rThetaToXY(fr,We,Be,je);if(Ee.lineTo(mr.x,mr.y),rr>0){const br=rThetaToXY(fr,Rr,Be,je);Ee.arc(br.x,br.y,rr,We+HALF_PI,Rr+Math.PI)}const Er=(We-rr/Me+(ze+Xe/Me))/2;if(Ee.arc(Be,je,Me,We-rr/Me,Er,!0),Ee.arc(Be,je,Me,Er,ze+Xe/Me,!0),Xe>0){const br=rThetaToXY(ar,gr,Be,je);Ee.arc(br.x,br.y,Xe,gr+Math.PI,ze-HALF_PI)}const Ar=rThetaToXY(Je,ze,Be,je);if(Ee.lineTo(Ar.x,Ar.y),qe>0){const br=rThetaToXY(Je,or,Be,je);Ee.arc(br.x,br.y,qe,ze-HALF_PI,or)}}else{Ee.moveTo(Be,je);const Ir=Math.cos(or)*ke+Be,mr=Math.sin(or)*ke+je;Ee.lineTo(Ir,mr);const Er=Math.cos(pr)*ke+Be,Ar=Math.sin(pr)*ke+je;Ee.lineTo(Er,Ar)}Ee.closePath()}function drawArc(Ee,_e,Ce,Pe,Re){const{fullCircles:Ie,startAngle:Be,circumference:je}=_e;let De=_e.endAngle;if(Ie){pathArc(Ee,_e,Ce,Pe,De,Re);for(let Fe=0;Fe<Ie;++Fe)Ee.fill();isNaN(je)||(De=Be+(je%TAU||TAU))}return pathArc(Ee,_e,Ce,Pe,De,Re),Ee.fill(),De}function drawBorder(Ee,_e,Ce,Pe,Re){const{fullCircles:Ie,startAngle:Be,circumference:je,options:De}=_e,{borderWidth:Fe,borderJoinStyle:Oe,borderDash:ke,borderDashOffset:Me,borderRadius:$e}=De,He=De.borderAlign==="inner";if(!Fe)return;Ee.setLineDash(ke||[]),Ee.lineDashOffset=Me,He?(Ee.lineWidth=Fe*2,Ee.lineJoin=Oe||"round"):(Ee.lineWidth=Fe,Ee.lineJoin=Oe||"bevel");let Qe=_e.endAngle;if(Ie){pathArc(Ee,_e,Ce,Pe,Qe,Re);for(let Ke=0;Ke<Ie;++Ke)Ee.stroke();isNaN(je)||(Qe=Be+(je%TAU||TAU))}He&&clipArc(Ee,_e,Qe),De.selfJoin&&Qe-Be>=PI&&$e===0&&Oe!=="miter"&&clipSelf(Ee,_e,Qe),Ie||(pathArc(Ee,_e,Ce,Pe,Qe,Re),Ee.stroke())}class ArcElement extends Element$1{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:_e=>_e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(_e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,_e&&Object.assign(this,_e)}inRange(_e,Ce,Pe){const Re=this.getProps(["x","y"],Pe),{angle:Ie,distance:Be}=getAngleFromPoint(Re,{x:_e,y:Ce}),{startAngle:je,endAngle:De,innerRadius:Fe,outerRadius:Oe,circumference:ke}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],Pe),Me=(this.options.spacing+this.options.borderWidth)/2,$e=valueOrDefault(ke,De-je),He=_angleBetween(Ie,je,De)&&je!==De,Qe=$e>=TAU||He,Ke=_isBetween(Be,Fe+Me,Oe+Me);return Qe&&Ke}getCenterPoint(_e){const{x:Ce,y:Pe,startAngle:Re,endAngle:Ie,innerRadius:Be,outerRadius:je}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],_e),{offset:De,spacing:Fe}=this.options,Oe=(Re+Ie)/2,ke=(Be+je+Fe+De)/2;return{x:Ce+Math.cos(Oe)*ke,y:Pe+Math.sin(Oe)*ke}}tooltipPosition(_e){return this.getCenterPoint(_e)}draw(_e){const{options:Ce,circumference:Pe}=this,Re=(Ce.offset||0)/4,Ie=(Ce.spacing||0)/2,Be=Ce.circular;if(this.pixelMargin=Ce.borderAlign==="inner"?.33:0,this.fullCircles=Pe>TAU?Math.floor(Pe/TAU):0,Pe===0||this.innerRadius<0||this.outerRadius<0)return;_e.save();const je=(this.startAngle+this.endAngle)/2;_e.translate(Math.cos(je)*Re,Math.sin(je)*Re);const De=1-Math.sin(Math.min(PI,Pe||0)),Fe=Re*De;_e.fillStyle=Ce.backgroundColor,_e.strokeStyle=Ce.borderColor,drawArc(_e,this,Fe,Ie,Be),drawBorder(_e,this,Fe,Ie,Be),_e.restore()}}function setStyle(Ee,_e,Ce=_e){Ee.lineCap=valueOrDefault(Ce.borderCapStyle,_e.borderCapStyle),Ee.setLineDash(valueOrDefault(Ce.borderDash,_e.borderDash)),Ee.lineDashOffset=valueOrDefault(Ce.borderDashOffset,_e.borderDashOffset),Ee.lineJoin=valueOrDefault(Ce.borderJoinStyle,_e.borderJoinStyle),Ee.lineWidth=valueOrDefault(Ce.borderWidth,_e.borderWidth),Ee.strokeStyle=valueOrDefault(Ce.borderColor,_e.borderColor)}function lineTo(Ee,_e,Ce){Ee.lineTo(Ce.x,Ce.y)}function getLineMethod(Ee){return Ee.stepped?_steppedLineTo:Ee.tension||Ee.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(Ee,_e,Ce={}){const Pe=Ee.length,{start:Re=0,end:Ie=Pe-1}=Ce,{start:Be,end:je}=_e,De=Math.max(Re,Be),Fe=Math.min(Ie,je),Oe=Re<Be&&Ie<Be||Re>je&&Ie>je;return{count:Pe,start:De,loop:_e.loop,ilen:Fe<De&&!Oe?Pe+Fe-De:Fe-De}}function pathSegment(Ee,_e,Ce,Pe){const{points:Re,options:Ie}=_e,{count:Be,start:je,loop:De,ilen:Fe}=pathVars(Re,Ce,Pe),Oe=getLineMethod(Ie);let{move:ke=!0,reverse:Me}=Pe||{},$e,He,Qe;for($e=0;$e<=Fe;++$e)He=Re[(je+(Me?Fe-$e:$e))%Be],!He.skip&&(ke?(Ee.moveTo(He.x,He.y),ke=!1):Oe(Ee,Qe,He,Me,Ie.stepped),Qe=He);return De&&(He=Re[(je+(Me?Fe:0))%Be],Oe(Ee,Qe,He,Me,Ie.stepped)),!!De}function fastPathSegment(Ee,_e,Ce,Pe){const Re=_e.points,{count:Ie,start:Be,ilen:je}=pathVars(Re,Ce,Pe),{move:De=!0,reverse:Fe}=Pe||{};let Oe=0,ke=0,Me,$e,He,Qe,Ke,ze;const We=Ye=>(Be+(Fe?je-Ye:Ye))%Ie,qe=()=>{Qe!==Ke&&(Ee.lineTo(Oe,Ke),Ee.lineTo(Oe,Qe),Ee.lineTo(Oe,ze))};for(De&&($e=Re[We(0)],Ee.moveTo($e.x,$e.y)),Me=0;Me<=je;++Me){if($e=Re[We(Me)],$e.skip)continue;const Ye=$e.x,Xe=$e.y,rr=Ye|0;rr===He?(Xe<Qe?Qe=Xe:Xe>Ke&&(Ke=Xe),Oe=(ke*Oe+Ye)/++ke):(qe(),Ee.lineTo(Ye,Xe),He=rr,ke=0,Qe=Ke=Xe),ze=Xe}qe()}function _getSegmentMethod(Ee){const _e=Ee.options,Ce=_e.borderDash&&_e.borderDash.length;return!Ee._decimated&&!Ee._loop&&!_e.tension&&_e.cubicInterpolationMode!=="monotone"&&!_e.stepped&&!Ce?fastPathSegment:pathSegment}function _getInterpolationMethod(Ee){return Ee.stepped?_steppedInterpolation:Ee.tension||Ee.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(Ee,_e,Ce,Pe){let Re=_e._path;Re||(Re=_e._path=new Path2D,_e.path(Re,Ce,Pe)&&Re.closePath()),setStyle(Ee,_e.options),Ee.stroke(Re)}function strokePathDirect(Ee,_e,Ce,Pe){const{segments:Re,options:Ie}=_e,Be=_getSegmentMethod(_e);for(const je of Re)setStyle(Ee,Ie,je.style),Ee.beginPath(),Be(Ee,_e,je,{start:Ce,end:Ce+Pe-1})&&Ee.closePath(),Ee.stroke()}const usePath2D=typeof Path2D=="function";function draw(Ee,_e,Ce,Pe){usePath2D&&!_e.options.segment?strokePathWithCache(Ee,_e,Ce,Pe):strokePathDirect(Ee,_e,Ce,Pe)}class LineElement extends Element$1{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:_e=>_e!=="borderDash"&&_e!=="fill"};constructor(_e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,_e&&Object.assign(this,_e)}updateControlPoints(_e,Ce){const Pe=this.options;if((Pe.tension||Pe.cubicInterpolationMode==="monotone")&&!Pe.stepped&&!this._pointsUpdated){const Re=Pe.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,Pe,_e,Re,Ce),this._pointsUpdated=!0}}set points(_e){this._points=_e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const _e=this.segments,Ce=this.points;return _e.length&&Ce[_e[0].start]}last(){const _e=this.segments,Ce=this.points,Pe=_e.length;return Pe&&Ce[_e[Pe-1].end]}interpolate(_e,Ce){const Pe=this.options,Re=_e[Ce],Ie=this.points,Be=_boundSegments(this,{property:Ce,start:Re,end:Re});if(!Be.length)return;const je=[],De=_getInterpolationMethod(Pe);let Fe,Oe;for(Fe=0,Oe=Be.length;Fe<Oe;++Fe){const{start:ke,end:Me}=Be[Fe],$e=Ie[ke],He=Ie[Me];if($e===He){je.push($e);continue}const Qe=Math.abs((Re-$e[Ce])/(He[Ce]-$e[Ce])),Ke=De($e,He,Qe,Pe.stepped);Ke[Ce]=_e[Ce],je.push(Ke)}return je.length===1?je[0]:je}pathSegment(_e,Ce,Pe){return _getSegmentMethod(this)(_e,this,Ce,Pe)}path(_e,Ce,Pe){const Re=this.segments,Ie=_getSegmentMethod(this);let Be=this._loop;Ce=Ce||0,Pe=Pe||this.points.length-Ce;for(const je of Re)Be&=Ie(_e,this,je,{start:Ce,end:Ce+Pe-1});return!!Be}draw(_e,Ce,Pe,Re){const Ie=this.options||{};(this.points||[]).length&&Ie.borderWidth&&(_e.save(),draw(_e,this,Pe,Re),_e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function inRange$1(Ee,_e,Ce,Pe){const Re=Ee.options,{[Ce]:Ie}=Ee.getProps([Ce],Pe);return Math.abs(_e-Ie)<Re.radius+Re.hitRadius}class PointElement extends Element$1{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(_e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,_e&&Object.assign(this,_e)}inRange(_e,Ce,Pe){const Re=this.options,{x:Ie,y:Be}=this.getProps(["x","y"],Pe);return Math.pow(_e-Ie,2)+Math.pow(Ce-Be,2)<Math.pow(Re.hitRadius+Re.radius,2)}inXRange(_e,Ce){return inRange$1(this,_e,"x",Ce)}inYRange(_e,Ce){return inRange$1(this,_e,"y",Ce)}getCenterPoint(_e){const{x:Ce,y:Pe}=this.getProps(["x","y"],_e);return{x:Ce,y:Pe}}size(_e){_e=_e||this.options||{};let Ce=_e.radius||0;Ce=Math.max(Ce,Ce&&_e.hoverRadius||0);const Pe=Ce&&_e.borderWidth||0;return(Ce+Pe)*2}draw(_e,Ce){const Pe=this.options;this.skip||Pe.radius<.1||!_isPointInArea(this,Ce,this.size(Pe)/2)||(_e.strokeStyle=Pe.borderColor,_e.lineWidth=Pe.borderWidth,_e.fillStyle=Pe.backgroundColor,drawPoint(_e,Pe,this.x,this.y))}getRange(){const _e=this.options||{};return _e.radius+_e.hitRadius}}function getBarBounds(Ee,_e){const{x:Ce,y:Pe,base:Re,width:Ie,height:Be}=Ee.getProps(["x","y","base","width","height"],_e);let je,De,Fe,Oe,ke;return Ee.horizontal?(ke=Be/2,je=Math.min(Ce,Re),De=Math.max(Ce,Re),Fe=Pe-ke,Oe=Pe+ke):(ke=Ie/2,je=Ce-ke,De=Ce+ke,Fe=Math.min(Pe,Re),Oe=Math.max(Pe,Re)),{left:je,top:Fe,right:De,bottom:Oe}}function skipOrLimit(Ee,_e,Ce,Pe){return Ee?0:_limitValue(_e,Ce,Pe)}function parseBorderWidth(Ee,_e,Ce){const Pe=Ee.options.borderWidth,Re=Ee.borderSkipped,Ie=toTRBL(Pe);return{t:skipOrLimit(Re.top,Ie.top,0,Ce),r:skipOrLimit(Re.right,Ie.right,0,_e),b:skipOrLimit(Re.bottom,Ie.bottom,0,Ce),l:skipOrLimit(Re.left,Ie.left,0,_e)}}function parseBorderRadius(Ee,_e,Ce){const{enableBorderRadius:Pe}=Ee.getProps(["enableBorderRadius"]),Re=Ee.options.borderRadius,Ie=toTRBLCorners(Re),Be=Math.min(_e,Ce),je=Ee.borderSkipped,De=Pe||isObject$1(Re);return{topLeft:skipOrLimit(!De||je.top||je.left,Ie.topLeft,0,Be),topRight:skipOrLimit(!De||je.top||je.right,Ie.topRight,0,Be),bottomLeft:skipOrLimit(!De||je.bottom||je.left,Ie.bottomLeft,0,Be),bottomRight:skipOrLimit(!De||je.bottom||je.right,Ie.bottomRight,0,Be)}}function boundingRects(Ee){const _e=getBarBounds(Ee),Ce=_e.right-_e.left,Pe=_e.bottom-_e.top,Re=parseBorderWidth(Ee,Ce/2,Pe/2),Ie=parseBorderRadius(Ee,Ce/2,Pe/2);return{outer:{x:_e.left,y:_e.top,w:Ce,h:Pe,radius:Ie},inner:{x:_e.left+Re.l,y:_e.top+Re.t,w:Ce-Re.l-Re.r,h:Pe-Re.t-Re.b,radius:{topLeft:Math.max(0,Ie.topLeft-Math.max(Re.t,Re.l)),topRight:Math.max(0,Ie.topRight-Math.max(Re.t,Re.r)),bottomLeft:Math.max(0,Ie.bottomLeft-Math.max(Re.b,Re.l)),bottomRight:Math.max(0,Ie.bottomRight-Math.max(Re.b,Re.r))}}}}function inRange$2(Ee,_e,Ce,Pe){const Re=_e===null,Ie=Ce===null,je=Ee&&!(Re&&Ie)&&getBarBounds(Ee,Pe);return je&&(Re||_isBetween(_e,je.left,je.right))&&(Ie||_isBetween(Ce,je.top,je.bottom))}function hasRadius(Ee){return Ee.topLeft||Ee.topRight||Ee.bottomLeft||Ee.bottomRight}function addNormalRectPath(Ee,_e){Ee.rect(_e.x,_e.y,_e.w,_e.h)}function inflateRect(Ee,_e,Ce={}){const Pe=Ee.x!==Ce.x?-_e:0,Re=Ee.y!==Ce.y?-_e:0,Ie=(Ee.x+Ee.w!==Ce.x+Ce.w?_e:0)-Pe,Be=(Ee.y+Ee.h!==Ce.y+Ce.h?_e:0)-Re;return{x:Ee.x+Pe,y:Ee.y+Re,w:Ee.w+Ie,h:Ee.h+Be,radius:Ee.radius}}class BarElement extends Element$1{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(_e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,_e&&Object.assign(this,_e)}draw(_e){const{inflateAmount:Ce,options:{borderColor:Pe,backgroundColor:Re}}=this,{inner:Ie,outer:Be}=boundingRects(this),je=hasRadius(Be.radius)?addRoundedRectPath:addNormalRectPath;_e.save(),(Be.w!==Ie.w||Be.h!==Ie.h)&&(_e.beginPath(),je(_e,inflateRect(Be,Ce,Ie)),_e.clip(),je(_e,inflateRect(Ie,-Ce,Be)),_e.fillStyle=Pe,_e.fill("evenodd")),_e.beginPath(),je(_e,inflateRect(Ie,Ce)),_e.fillStyle=Re,_e.fill(),_e.restore()}inRange(_e,Ce,Pe){return inRange$2(this,_e,Ce,Pe)}inXRange(_e,Ce){return inRange$2(this,_e,null,Ce)}inYRange(_e,Ce){return inRange$2(this,null,_e,Ce)}getCenterPoint(_e){const{x:Ce,y:Pe,base:Re,horizontal:Ie}=this.getProps(["x","y","base","horizontal"],_e);return{x:Ie?(Ce+Re)/2:Ce,y:Ie?Pe:(Pe+Re)/2}}getRange(_e){return _e==="x"?this.width/2:this.height/2}}const getBoxSize=(Ee,_e)=>{let{boxHeight:Ce=_e,boxWidth:Pe=_e}=Ee;return Ee.usePointStyle&&(Ce=Math.min(Ce,_e),Pe=Ee.pointStyleWidth||Math.min(Pe,_e)),{boxWidth:Pe,boxHeight:Ce,itemHeight:Math.max(_e,Ce)}},itemsEqual=(Ee,_e)=>Ee!==null&&_e!==null&&Ee.datasetIndex===_e.datasetIndex&&Ee.index===_e.index;let Legend$1=class extends Element$1{constructor(_e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=_e.chart,this.options=_e.options,this.ctx=_e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(_e,Ce,Pe){this.maxWidth=_e,this.maxHeight=Ce,this._margins=Pe,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const _e=this.options.labels||{};let Ce=callback(_e.generateLabels,[this.chart],this)||[];_e.filter&&(Ce=Ce.filter(Pe=>_e.filter(Pe,this.chart.data))),_e.sort&&(Ce=Ce.sort((Pe,Re)=>_e.sort(Pe,Re,this.chart.data))),this.options.reverse&&Ce.reverse(),this.legendItems=Ce}fit(){const{options:_e,ctx:Ce}=this;if(!_e.display){this.width=this.height=0;return}const Pe=_e.labels,Re=toFont(Pe.font),Ie=Re.size,Be=this._computeTitleHeight(),{boxWidth:je,itemHeight:De}=getBoxSize(Pe,Ie);let Fe,Oe;Ce.font=Re.string,this.isHorizontal()?(Fe=this.maxWidth,Oe=this._fitRows(Be,Ie,je,De)+10):(Oe=this.maxHeight,Fe=this._fitCols(Be,Re,je,De)+10),this.width=Math.min(Fe,_e.maxWidth||this.maxWidth),this.height=Math.min(Oe,_e.maxHeight||this.maxHeight)}_fitRows(_e,Ce,Pe,Re){const{ctx:Ie,maxWidth:Be,options:{labels:{padding:je}}}=this,De=this.legendHitBoxes=[],Fe=this.lineWidths=[0],Oe=Re+je;let ke=_e;Ie.textAlign="left",Ie.textBaseline="middle";let Me=-1,$e=-Oe;return this.legendItems.forEach((He,Qe)=>{const Ke=Pe+Ce/2+Ie.measureText(He.text).width;(Qe===0||Fe[Fe.length-1]+Ke+2*je>Be)&&(ke+=Oe,Fe[Fe.length-(Qe>0?0:1)]=0,$e+=Oe,Me++),De[Qe]={left:0,top:$e,row:Me,width:Ke,height:Re},Fe[Fe.length-1]+=Ke+je}),ke}_fitCols(_e,Ce,Pe,Re){const{ctx:Ie,maxHeight:Be,options:{labels:{padding:je}}}=this,De=this.legendHitBoxes=[],Fe=this.columnSizes=[],Oe=Be-_e;let ke=je,Me=0,$e=0,He=0,Qe=0;return this.legendItems.forEach((Ke,ze)=>{const{itemWidth:We,itemHeight:qe}=calculateItemSize(Pe,Ce,Ie,Ke,Re);ze>0&&$e+qe+2*je>Oe&&(ke+=Me+je,Fe.push({width:Me,height:$e}),He+=Me+je,Qe++,Me=$e=0),De[ze]={left:He,top:$e,col:Qe,width:We,height:qe},Me=Math.max(Me,We),$e+=qe+je}),ke+=Me,Fe.push({width:Me,height:$e}),ke}adjustHitBoxes(){if(!this.options.display)return;const _e=this._computeTitleHeight(),{legendHitBoxes:Ce,options:{align:Pe,labels:{padding:Re},rtl:Ie}}=this,Be=getRtlAdapter(Ie,this.left,this.width);if(this.isHorizontal()){let je=0,De=_alignStartEnd(Pe,this.left+Re,this.right-this.lineWidths[je]);for(const Fe of Ce)je!==Fe.row&&(je=Fe.row,De=_alignStartEnd(Pe,this.left+Re,this.right-this.lineWidths[je])),Fe.top+=this.top+_e+Re,Fe.left=Be.leftForLtr(Be.x(De),Fe.width),De+=Fe.width+Re}else{let je=0,De=_alignStartEnd(Pe,this.top+_e+Re,this.bottom-this.columnSizes[je].height);for(const Fe of Ce)Fe.col!==je&&(je=Fe.col,De=_alignStartEnd(Pe,this.top+_e+Re,this.bottom-this.columnSizes[je].height)),Fe.top=De,Fe.left+=this.left+Re,Fe.left=Be.leftForLtr(Be.x(Fe.left),Fe.width),De+=Fe.height+Re}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const _e=this.ctx;clipArea(_e,this),this._draw(),unclipArea(_e)}}_draw(){const{options:_e,columnSizes:Ce,lineWidths:Pe,ctx:Re}=this,{align:Ie,labels:Be}=_e,je=defaults$1.color,De=getRtlAdapter(_e.rtl,this.left,this.width),Fe=toFont(Be.font),{padding:Oe}=Be,ke=Fe.size,Me=ke/2;let $e;this.drawTitle(),Re.textAlign=De.textAlign("left"),Re.textBaseline="middle",Re.lineWidth=.5,Re.font=Fe.string;const{boxWidth:He,boxHeight:Qe,itemHeight:Ke}=getBoxSize(Be,ke),ze=function(rr,Je,er){if(isNaN(He)||He<=0||isNaN(Qe)||Qe<0)return;Re.save();const or=valueOrDefault(er.lineWidth,1);if(Re.fillStyle=valueOrDefault(er.fillStyle,je),Re.lineCap=valueOrDefault(er.lineCap,"butt"),Re.lineDashOffset=valueOrDefault(er.lineDashOffset,0),Re.lineJoin=valueOrDefault(er.lineJoin,"miter"),Re.lineWidth=or,Re.strokeStyle=valueOrDefault(er.strokeStyle,je),Re.setLineDash(valueOrDefault(er.lineDash,[])),Be.usePointStyle){const pr={radius:Qe*Math.SQRT2/2,pointStyle:er.pointStyle,rotation:er.rotation,borderWidth:or},ar=De.xPlus(rr,He/2),fr=Je+Me;drawPointLegend(Re,pr,ar,fr,Be.pointStyleWidth&&He)}else{const pr=Je+Math.max((ke-Qe)/2,0),ar=De.leftForLtr(rr,He),fr=toTRBLCorners(er.borderRadius);Re.beginPath(),Object.values(fr).some(gr=>gr!==0)?addRoundedRectPath(Re,{x:ar,y:pr,w:He,h:Qe,radius:fr}):Re.rect(ar,pr,He,Qe),Re.fill(),or!==0&&Re.stroke()}Re.restore()},We=function(rr,Je,er){renderText(Re,er.text,rr,Je+Ke/2,Fe,{strikethrough:er.hidden,textAlign:De.textAlign(er.textAlign)})},qe=this.isHorizontal(),Ye=this._computeTitleHeight();qe?$e={x:_alignStartEnd(Ie,this.left+Oe,this.right-Pe[0]),y:this.top+Oe+Ye,line:0}:$e={x:this.left+Oe,y:_alignStartEnd(Ie,this.top+Ye+Oe,this.bottom-Ce[0].height),line:0},overrideTextDirection(this.ctx,_e.textDirection);const Xe=Ke+Oe;this.legendItems.forEach((rr,Je)=>{Re.strokeStyle=rr.fontColor,Re.fillStyle=rr.fontColor;const er=Re.measureText(rr.text).width,or=De.textAlign(rr.textAlign||(rr.textAlign=Be.textAlign)),pr=He+Me+er;let ar=$e.x,fr=$e.y;De.setWidth(this.width),qe?Je>0&&ar+pr+Oe>this.right&&(fr=$e.y+=Xe,$e.line++,ar=$e.x=_alignStartEnd(Ie,this.left+Oe,this.right-Pe[$e.line])):Je>0&&fr+Xe>this.bottom&&(ar=$e.x=ar+Ce[$e.line].width+Oe,$e.line++,fr=$e.y=_alignStartEnd(Ie,this.top+Ye+Oe,this.bottom-Ce[$e.line].height));const gr=De.x(ar);if(ze(gr,fr,rr),ar=_textX(or,ar+He+Me,qe?ar+pr:this.right,_e.rtl),We(De.x(ar),fr,rr),qe)$e.x+=pr+Oe;else if(typeof rr.text!="string"){const Rr=Fe.lineHeight;$e.y+=calculateLegendItemHeight(rr,Rr)+Oe}else $e.y+=Xe}),restoreTextDirection(this.ctx,_e.textDirection)}drawTitle(){const _e=this.options,Ce=_e.title,Pe=toFont(Ce.font),Re=toPadding(Ce.padding);if(!Ce.display)return;const Ie=getRtlAdapter(_e.rtl,this.left,this.width),Be=this.ctx,je=Ce.position,De=Pe.size/2,Fe=Re.top+De;let Oe,ke=this.left,Me=this.width;if(this.isHorizontal())Me=Math.max(...this.lineWidths),Oe=this.top+Fe,ke=_alignStartEnd(_e.align,ke,this.right-Me);else{const He=this.columnSizes.reduce((Qe,Ke)=>Math.max(Qe,Ke.height),0);Oe=Fe+_alignStartEnd(_e.align,this.top,this.bottom-He-_e.labels.padding-this._computeTitleHeight())}const $e=_alignStartEnd(je,ke,ke+Me);Be.textAlign=Ie.textAlign(_toLeftRightCenter(je)),Be.textBaseline="middle",Be.strokeStyle=Ce.color,Be.fillStyle=Ce.color,Be.font=Pe.string,renderText(Be,Ce.text,$e,Oe,Pe)}_computeTitleHeight(){const _e=this.options.title,Ce=toFont(_e.font),Pe=toPadding(_e.padding);return _e.display?Ce.lineHeight+Pe.height:0}_getLegendItemAt(_e,Ce){let Pe,Re,Ie;if(_isBetween(_e,this.left,this.right)&&_isBetween(Ce,this.top,this.bottom)){for(Ie=this.legendHitBoxes,Pe=0;Pe<Ie.length;++Pe)if(Re=Ie[Pe],_isBetween(_e,Re.left,Re.left+Re.width)&&_isBetween(Ce,Re.top,Re.top+Re.height))return this.legendItems[Pe]}return null}handleEvent(_e){const Ce=this.options;if(!isListened(_e.type,Ce))return;const Pe=this._getLegendItemAt(_e.x,_e.y);if(_e.type==="mousemove"||_e.type==="mouseout"){const Re=this._hoveredItem,Ie=itemsEqual(Re,Pe);Re&&!Ie&&callback(Ce.onLeave,[_e,Re,this],this),this._hoveredItem=Pe,Pe&&!Ie&&callback(Ce.onHover,[_e,Pe,this],this)}else Pe&&callback(Ce.onClick,[_e,Pe,this],this)}};function calculateItemSize(Ee,_e,Ce,Pe,Re){const Ie=calculateItemWidth(Pe,Ee,_e,Ce),Be=calculateItemHeight(Re,Pe,_e.lineHeight);return{itemWidth:Ie,itemHeight:Be}}function calculateItemWidth(Ee,_e,Ce,Pe){let Re=Ee.text;return Re&&typeof Re!="string"&&(Re=Re.reduce((Ie,Be)=>Ie.length>Be.length?Ie:Be)),_e+Ce.size/2+Pe.measureText(Re).width}function calculateItemHeight(Ee,_e,Ce){let Pe=Ee;return typeof _e.text!="string"&&(Pe=calculateLegendItemHeight(_e,Ce)),Pe}function calculateLegendItemHeight(Ee,_e){const Ce=Ee.text?Ee.text.length:0;return _e*Ce}function isListened(Ee,_e){return!!((Ee==="mousemove"||Ee==="mouseout")&&(_e.onHover||_e.onLeave)||_e.onClick&&(Ee==="click"||Ee==="mouseup"))}var plugin_legend={id:"legend",_element:Legend$1,start(Ee,_e,Ce){const Pe=Ee.legend=new Legend$1({ctx:Ee.ctx,options:Ce,chart:Ee});layouts.configure(Ee,Pe,Ce),layouts.addBox(Ee,Pe)},stop(Ee){layouts.removeBox(Ee,Ee.legend),delete Ee.legend},beforeUpdate(Ee,_e,Ce){const Pe=Ee.legend;layouts.configure(Ee,Pe,Ce),Pe.options=Ce},afterUpdate(Ee){const _e=Ee.legend;_e.buildLabels(),_e.adjustHitBoxes()},afterEvent(Ee,_e){_e.replay||Ee.legend.handleEvent(_e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(Ee,_e,Ce){const Pe=_e.datasetIndex,Re=Ce.chart;Re.isDatasetVisible(Pe)?(Re.hide(Pe),_e.hidden=!0):(Re.show(Pe),_e.hidden=!1)},onHover:null,onLeave:null,labels:{color:Ee=>Ee.chart.options.color,boxWidth:40,padding:10,generateLabels(Ee){const _e=Ee.data.datasets,{labels:{usePointStyle:Ce,pointStyle:Pe,textAlign:Re,color:Ie,useBorderRadius:Be,borderRadius:je}}=Ee.legend.options;return Ee._getSortedDatasetMetas().map(De=>{const Fe=De.controller.getStyle(Ce?0:void 0),Oe=toPadding(Fe.borderWidth);return{text:_e[De.index].label,fillStyle:Fe.backgroundColor,fontColor:Ie,hidden:!De.visible,lineCap:Fe.borderCapStyle,lineDash:Fe.borderDash,lineDashOffset:Fe.borderDashOffset,lineJoin:Fe.borderJoinStyle,lineWidth:(Oe.width+Oe.height)/4,strokeStyle:Fe.borderColor,pointStyle:Pe||Fe.pointStyle,rotation:Fe.rotation,textAlign:Re||Fe.textAlign,borderRadius:Be&&(je||Fe.borderRadius),datasetIndex:De.index}},this)}},title:{color:Ee=>Ee.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:Ee=>!Ee.startsWith("on"),labels:{_scriptable:Ee=>!["generateLabels","filter","sort"].includes(Ee)}}};class Title extends Element$1{constructor(_e){super(),this.chart=_e.chart,this.options=_e.options,this.ctx=_e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(_e,Ce){const Pe=this.options;if(this.left=0,this.top=0,!Pe.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=_e,this.height=this.bottom=Ce;const Re=isArray(Pe.text)?Pe.text.length:1;this._padding=toPadding(Pe.padding);const Ie=Re*toFont(Pe.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=Ie:this.width=Ie}isHorizontal(){const _e=this.options.position;return _e==="top"||_e==="bottom"}_drawArgs(_e){const{top:Ce,left:Pe,bottom:Re,right:Ie,options:Be}=this,je=Be.align;let De=0,Fe,Oe,ke;return this.isHorizontal()?(Oe=_alignStartEnd(je,Pe,Ie),ke=Ce+_e,Fe=Ie-Pe):(Be.position==="left"?(Oe=Pe+_e,ke=_alignStartEnd(je,Re,Ce),De=PI*-.5):(Oe=Ie-_e,ke=_alignStartEnd(je,Ce,Re),De=PI*.5),Fe=Re-Ce),{titleX:Oe,titleY:ke,maxWidth:Fe,rotation:De}}draw(){const _e=this.ctx,Ce=this.options;if(!Ce.display)return;const Pe=toFont(Ce.font),Ie=Pe.lineHeight/2+this._padding.top,{titleX:Be,titleY:je,maxWidth:De,rotation:Fe}=this._drawArgs(Ie);renderText(_e,Ce.text,0,0,Pe,{color:Ce.color,maxWidth:De,rotation:Fe,textAlign:_toLeftRightCenter(Ce.align),textBaseline:"middle",translation:[Be,je]})}}function createTitle(Ee,_e){const Ce=new Title({ctx:Ee.ctx,options:_e,chart:Ee});layouts.configure(Ee,Ce,_e),layouts.addBox(Ee,Ce),Ee.titleBlock=Ce}var plugin_title={id:"title",_element:Title,start(Ee,_e,Ce){createTitle(Ee,Ce)},stop(Ee){const _e=Ee.titleBlock;layouts.removeBox(Ee,_e),delete Ee.titleBlock},beforeUpdate(Ee,_e,Ce){const Pe=Ee.titleBlock;layouts.configure(Ee,Pe,Ce),Pe.options=Ce},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(Ee){if(!Ee.length)return!1;let _e,Ce,Pe=new Set,Re=0,Ie=0;for(_e=0,Ce=Ee.length;_e<Ce;++_e){const je=Ee[_e].element;if(je&&je.hasValue()){const De=je.tooltipPosition();Pe.add(De.x),Re+=De.y,++Ie}}return Ie===0||Pe.size===0?!1:{x:[...Pe].reduce((je,De)=>je+De)/Pe.size,y:Re/Ie}},nearest(Ee,_e){if(!Ee.length)return!1;let Ce=_e.x,Pe=_e.y,Re=Number.POSITIVE_INFINITY,Ie,Be,je;for(Ie=0,Be=Ee.length;Ie<Be;++Ie){const De=Ee[Ie].element;if(De&&De.hasValue()){const Fe=De.getCenterPoint(),Oe=distanceBetweenPoints$1(_e,Fe);Oe<Re&&(Re=Oe,je=De)}}if(je){const De=je.tooltipPosition();Ce=De.x,Pe=De.y}return{x:Ce,y:Pe}}};function pushOrConcat(Ee,_e){return _e&&(isArray(_e)?Array.prototype.push.apply(Ee,_e):Ee.push(_e)),Ee}function splitNewlines(Ee){return(typeof Ee=="string"||Ee instanceof String)&&Ee.indexOf(`
`)>-1?Ee.split(`
`):Ee}function createTooltipItem(Ee,_e){const{element:Ce,datasetIndex:Pe,index:Re}=_e,Ie=Ee.getDatasetMeta(Pe).controller,{label:Be,value:je}=Ie.getLabelAndValue(Re);return{chart:Ee,label:Be,parsed:Ie.getParsed(Re),raw:Ee.data.datasets[Pe].data[Re],formattedValue:je,dataset:Ie.getDataset(),dataIndex:Re,datasetIndex:Pe,element:Ce}}function getTooltipSize(Ee,_e){const Ce=Ee.chart.ctx,{body:Pe,footer:Re,title:Ie}=Ee,{boxWidth:Be,boxHeight:je}=_e,De=toFont(_e.bodyFont),Fe=toFont(_e.titleFont),Oe=toFont(_e.footerFont),ke=Ie.length,Me=Re.length,$e=Pe.length,He=toPadding(_e.padding);let Qe=He.height,Ke=0,ze=Pe.reduce((Ye,Xe)=>Ye+Xe.before.length+Xe.lines.length+Xe.after.length,0);if(ze+=Ee.beforeBody.length+Ee.afterBody.length,ke&&(Qe+=ke*Fe.lineHeight+(ke-1)*_e.titleSpacing+_e.titleMarginBottom),ze){const Ye=_e.displayColors?Math.max(je,De.lineHeight):De.lineHeight;Qe+=$e*Ye+(ze-$e)*De.lineHeight+(ze-1)*_e.bodySpacing}Me&&(Qe+=_e.footerMarginTop+Me*Oe.lineHeight+(Me-1)*_e.footerSpacing);let We=0;const qe=function(Ye){Ke=Math.max(Ke,Ce.measureText(Ye).width+We)};return Ce.save(),Ce.font=Fe.string,each$1(Ee.title,qe),Ce.font=De.string,each$1(Ee.beforeBody.concat(Ee.afterBody),qe),We=_e.displayColors?Be+2+_e.boxPadding:0,each$1(Pe,Ye=>{each$1(Ye.before,qe),each$1(Ye.lines,qe),each$1(Ye.after,qe)}),We=0,Ce.font=Oe.string,each$1(Ee.footer,qe),Ce.restore(),Ke+=He.width,{width:Ke,height:Qe}}function determineYAlign(Ee,_e){const{y:Ce,height:Pe}=_e;return Ce<Pe/2?"top":Ce>Ee.height-Pe/2?"bottom":"center"}function doesNotFitWithAlign(Ee,_e,Ce,Pe){const{x:Re,width:Ie}=Pe,Be=Ce.caretSize+Ce.caretPadding;if(Ee==="left"&&Re+Ie+Be>_e.width||Ee==="right"&&Re-Ie-Be<0)return!0}function determineXAlign(Ee,_e,Ce,Pe){const{x:Re,width:Ie}=Ce,{width:Be,chartArea:{left:je,right:De}}=Ee;let Fe="center";return Pe==="center"?Fe=Re<=(je+De)/2?"left":"right":Re<=Ie/2?Fe="left":Re>=Be-Ie/2&&(Fe="right"),doesNotFitWithAlign(Fe,Ee,_e,Ce)&&(Fe="center"),Fe}function determineAlignment(Ee,_e,Ce){const Pe=Ce.yAlign||_e.yAlign||determineYAlign(Ee,Ce);return{xAlign:Ce.xAlign||_e.xAlign||determineXAlign(Ee,_e,Ce,Pe),yAlign:Pe}}function alignX(Ee,_e){let{x:Ce,width:Pe}=Ee;return _e==="right"?Ce-=Pe:_e==="center"&&(Ce-=Pe/2),Ce}function alignY(Ee,_e,Ce){let{y:Pe,height:Re}=Ee;return _e==="top"?Pe+=Ce:_e==="bottom"?Pe-=Re+Ce:Pe-=Re/2,Pe}function getBackgroundPoint(Ee,_e,Ce,Pe){const{caretSize:Re,caretPadding:Ie,cornerRadius:Be}=Ee,{xAlign:je,yAlign:De}=Ce,Fe=Re+Ie,{topLeft:Oe,topRight:ke,bottomLeft:Me,bottomRight:$e}=toTRBLCorners(Be);let He=alignX(_e,je);const Qe=alignY(_e,De,Fe);return De==="center"?je==="left"?He+=Fe:je==="right"&&(He-=Fe):je==="left"?He-=Math.max(Oe,Me)+Re:je==="right"&&(He+=Math.max(ke,$e)+Re),{x:_limitValue(He,0,Pe.width-_e.width),y:_limitValue(Qe,0,Pe.height-_e.height)}}function getAlignedX(Ee,_e,Ce){const Pe=toPadding(Ce.padding);return _e==="center"?Ee.x+Ee.width/2:_e==="right"?Ee.x+Ee.width-Pe.right:Ee.x+Pe.left}function getBeforeAfterBodyLines(Ee){return pushOrConcat([],splitNewlines(Ee))}function createTooltipContext(Ee,_e,Ce){return createContext(Ee,{tooltip:_e,tooltipItems:Ce,type:"tooltip"})}function overrideCallbacks(Ee,_e){const Ce=_e&&_e.dataset&&_e.dataset.tooltip&&_e.dataset.tooltip.callbacks;return Ce?Ee.override(Ce):Ee}const defaultCallbacks={beforeTitle:noop$9,title(Ee){if(Ee.length>0){const _e=Ee[0],Ce=_e.chart.data.labels,Pe=Ce?Ce.length:0;if(this&&this.options&&this.options.mode==="dataset")return _e.dataset.label||"";if(_e.label)return _e.label;if(Pe>0&&_e.dataIndex<Pe)return Ce[_e.dataIndex]}return""},afterTitle:noop$9,beforeBody:noop$9,beforeLabel:noop$9,label(Ee){if(this&&this.options&&this.options.mode==="dataset")return Ee.label+": "+Ee.formattedValue||Ee.formattedValue;let _e=Ee.dataset.label||"";_e&&(_e+=": ");const Ce=Ee.formattedValue;return isNullOrUndef(Ce)||(_e+=Ce),_e},labelColor(Ee){const Ce=Ee.chart.getDatasetMeta(Ee.datasetIndex).controller.getStyle(Ee.dataIndex);return{borderColor:Ce.borderColor,backgroundColor:Ce.backgroundColor,borderWidth:Ce.borderWidth,borderDash:Ce.borderDash,borderDashOffset:Ce.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(Ee){const Ce=Ee.chart.getDatasetMeta(Ee.datasetIndex).controller.getStyle(Ee.dataIndex);return{pointStyle:Ce.pointStyle,rotation:Ce.rotation}},afterLabel:noop$9,afterBody:noop$9,beforeFooter:noop$9,footer:noop$9,afterFooter:noop$9};function invokeCallbackWithFallback(Ee,_e,Ce,Pe){const Re=Ee[_e].call(Ce,Pe);return typeof Re>"u"?defaultCallbacks[_e].call(Ce,Pe):Re}let Tooltip$1=class extends Element$1{static positioners=positioners;constructor(_e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=_e.chart,this.options=_e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(_e){this.options=_e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const _e=this._cachedAnimations;if(_e)return _e;const Ce=this.chart,Pe=this.options.setContext(this.getContext()),Re=Pe.enabled&&Ce.options.animation&&Pe.animations,Ie=new Animations(this.chart,Re);return Re._cacheable&&(this._cachedAnimations=Object.freeze(Ie)),Ie}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(_e,Ce){const{callbacks:Pe}=Ce,Re=invokeCallbackWithFallback(Pe,"beforeTitle",this,_e),Ie=invokeCallbackWithFallback(Pe,"title",this,_e),Be=invokeCallbackWithFallback(Pe,"afterTitle",this,_e);let je=[];return je=pushOrConcat(je,splitNewlines(Re)),je=pushOrConcat(je,splitNewlines(Ie)),je=pushOrConcat(je,splitNewlines(Be)),je}getBeforeBody(_e,Ce){return getBeforeAfterBodyLines(invokeCallbackWithFallback(Ce.callbacks,"beforeBody",this,_e))}getBody(_e,Ce){const{callbacks:Pe}=Ce,Re=[];return each$1(_e,Ie=>{const Be={before:[],lines:[],after:[]},je=overrideCallbacks(Pe,Ie);pushOrConcat(Be.before,splitNewlines(invokeCallbackWithFallback(je,"beforeLabel",this,Ie))),pushOrConcat(Be.lines,invokeCallbackWithFallback(je,"label",this,Ie)),pushOrConcat(Be.after,splitNewlines(invokeCallbackWithFallback(je,"afterLabel",this,Ie))),Re.push(Be)}),Re}getAfterBody(_e,Ce){return getBeforeAfterBodyLines(invokeCallbackWithFallback(Ce.callbacks,"afterBody",this,_e))}getFooter(_e,Ce){const{callbacks:Pe}=Ce,Re=invokeCallbackWithFallback(Pe,"beforeFooter",this,_e),Ie=invokeCallbackWithFallback(Pe,"footer",this,_e),Be=invokeCallbackWithFallback(Pe,"afterFooter",this,_e);let je=[];return je=pushOrConcat(je,splitNewlines(Re)),je=pushOrConcat(je,splitNewlines(Ie)),je=pushOrConcat(je,splitNewlines(Be)),je}_createItems(_e){const Ce=this._active,Pe=this.chart.data,Re=[],Ie=[],Be=[];let je=[],De,Fe;for(De=0,Fe=Ce.length;De<Fe;++De)je.push(createTooltipItem(this.chart,Ce[De]));return _e.filter&&(je=je.filter((Oe,ke,Me)=>_e.filter(Oe,ke,Me,Pe))),_e.itemSort&&(je=je.sort((Oe,ke)=>_e.itemSort(Oe,ke,Pe))),each$1(je,Oe=>{const ke=overrideCallbacks(_e.callbacks,Oe);Re.push(invokeCallbackWithFallback(ke,"labelColor",this,Oe)),Ie.push(invokeCallbackWithFallback(ke,"labelPointStyle",this,Oe)),Be.push(invokeCallbackWithFallback(ke,"labelTextColor",this,Oe))}),this.labelColors=Re,this.labelPointStyles=Ie,this.labelTextColors=Be,this.dataPoints=je,je}update(_e,Ce){const Pe=this.options.setContext(this.getContext()),Re=this._active;let Ie,Be=[];if(!Re.length)this.opacity!==0&&(Ie={opacity:0});else{const je=positioners[Pe.position].call(this,Re,this._eventPosition);Be=this._createItems(Pe),this.title=this.getTitle(Be,Pe),this.beforeBody=this.getBeforeBody(Be,Pe),this.body=this.getBody(Be,Pe),this.afterBody=this.getAfterBody(Be,Pe),this.footer=this.getFooter(Be,Pe);const De=this._size=getTooltipSize(this,Pe),Fe=Object.assign({},je,De),Oe=determineAlignment(this.chart,Pe,Fe),ke=getBackgroundPoint(Pe,Fe,Oe,this.chart);this.xAlign=Oe.xAlign,this.yAlign=Oe.yAlign,Ie={opacity:1,x:ke.x,y:ke.y,width:De.width,height:De.height,caretX:je.x,caretY:je.y}}this._tooltipItems=Be,this.$context=void 0,Ie&&this._resolveAnimations().update(this,Ie),_e&&Pe.external&&Pe.external.call(this,{chart:this.chart,tooltip:this,replay:Ce})}drawCaret(_e,Ce,Pe,Re){const Ie=this.getCaretPosition(_e,Pe,Re);Ce.lineTo(Ie.x1,Ie.y1),Ce.lineTo(Ie.x2,Ie.y2),Ce.lineTo(Ie.x3,Ie.y3)}getCaretPosition(_e,Ce,Pe){const{xAlign:Re,yAlign:Ie}=this,{caretSize:Be,cornerRadius:je}=Pe,{topLeft:De,topRight:Fe,bottomLeft:Oe,bottomRight:ke}=toTRBLCorners(je),{x:Me,y:$e}=_e,{width:He,height:Qe}=Ce;let Ke,ze,We,qe,Ye,Xe;return Ie==="center"?(Ye=$e+Qe/2,Re==="left"?(Ke=Me,ze=Ke-Be,qe=Ye+Be,Xe=Ye-Be):(Ke=Me+He,ze=Ke+Be,qe=Ye-Be,Xe=Ye+Be),We=Ke):(Re==="left"?ze=Me+Math.max(De,Oe)+Be:Re==="right"?ze=Me+He-Math.max(Fe,ke)-Be:ze=this.caretX,Ie==="top"?(qe=$e,Ye=qe-Be,Ke=ze-Be,We=ze+Be):(qe=$e+Qe,Ye=qe+Be,Ke=ze+Be,We=ze-Be),Xe=qe),{x1:Ke,x2:ze,x3:We,y1:qe,y2:Ye,y3:Xe}}drawTitle(_e,Ce,Pe){const Re=this.title,Ie=Re.length;let Be,je,De;if(Ie){const Fe=getRtlAdapter(Pe.rtl,this.x,this.width);for(_e.x=getAlignedX(this,Pe.titleAlign,Pe),Ce.textAlign=Fe.textAlign(Pe.titleAlign),Ce.textBaseline="middle",Be=toFont(Pe.titleFont),je=Pe.titleSpacing,Ce.fillStyle=Pe.titleColor,Ce.font=Be.string,De=0;De<Ie;++De)Ce.fillText(Re[De],Fe.x(_e.x),_e.y+Be.lineHeight/2),_e.y+=Be.lineHeight+je,De+1===Ie&&(_e.y+=Pe.titleMarginBottom-je)}}_drawColorBox(_e,Ce,Pe,Re,Ie){const Be=this.labelColors[Pe],je=this.labelPointStyles[Pe],{boxHeight:De,boxWidth:Fe}=Ie,Oe=toFont(Ie.bodyFont),ke=getAlignedX(this,"left",Ie),Me=Re.x(ke),$e=De<Oe.lineHeight?(Oe.lineHeight-De)/2:0,He=Ce.y+$e;if(Ie.usePointStyle){const Qe={radius:Math.min(Fe,De)/2,pointStyle:je.pointStyle,rotation:je.rotation,borderWidth:1},Ke=Re.leftForLtr(Me,Fe)+Fe/2,ze=He+De/2;_e.strokeStyle=Ie.multiKeyBackground,_e.fillStyle=Ie.multiKeyBackground,drawPoint(_e,Qe,Ke,ze),_e.strokeStyle=Be.borderColor,_e.fillStyle=Be.backgroundColor,drawPoint(_e,Qe,Ke,ze)}else{_e.lineWidth=isObject$1(Be.borderWidth)?Math.max(...Object.values(Be.borderWidth)):Be.borderWidth||1,_e.strokeStyle=Be.borderColor,_e.setLineDash(Be.borderDash||[]),_e.lineDashOffset=Be.borderDashOffset||0;const Qe=Re.leftForLtr(Me,Fe),Ke=Re.leftForLtr(Re.xPlus(Me,1),Fe-2),ze=toTRBLCorners(Be.borderRadius);Object.values(ze).some(We=>We!==0)?(_e.beginPath(),_e.fillStyle=Ie.multiKeyBackground,addRoundedRectPath(_e,{x:Qe,y:He,w:Fe,h:De,radius:ze}),_e.fill(),_e.stroke(),_e.fillStyle=Be.backgroundColor,_e.beginPath(),addRoundedRectPath(_e,{x:Ke,y:He+1,w:Fe-2,h:De-2,radius:ze}),_e.fill()):(_e.fillStyle=Ie.multiKeyBackground,_e.fillRect(Qe,He,Fe,De),_e.strokeRect(Qe,He,Fe,De),_e.fillStyle=Be.backgroundColor,_e.fillRect(Ke,He+1,Fe-2,De-2))}_e.fillStyle=this.labelTextColors[Pe]}drawBody(_e,Ce,Pe){const{body:Re}=this,{bodySpacing:Ie,bodyAlign:Be,displayColors:je,boxHeight:De,boxWidth:Fe,boxPadding:Oe}=Pe,ke=toFont(Pe.bodyFont);let Me=ke.lineHeight,$e=0;const He=getRtlAdapter(Pe.rtl,this.x,this.width),Qe=function(er){Ce.fillText(er,He.x(_e.x+$e),_e.y+Me/2),_e.y+=Me+Ie},Ke=He.textAlign(Be);let ze,We,qe,Ye,Xe,rr,Je;for(Ce.textAlign=Be,Ce.textBaseline="middle",Ce.font=ke.string,_e.x=getAlignedX(this,Ke,Pe),Ce.fillStyle=Pe.bodyColor,each$1(this.beforeBody,Qe),$e=je&&Ke!=="right"?Be==="center"?Fe/2+Oe:Fe+2+Oe:0,Ye=0,rr=Re.length;Ye<rr;++Ye){for(ze=Re[Ye],We=this.labelTextColors[Ye],Ce.fillStyle=We,each$1(ze.before,Qe),qe=ze.lines,je&&qe.length&&(this._drawColorBox(Ce,_e,Ye,He,Pe),Me=Math.max(ke.lineHeight,De)),Xe=0,Je=qe.length;Xe<Je;++Xe)Qe(qe[Xe]),Me=ke.lineHeight;each$1(ze.after,Qe)}$e=0,Me=ke.lineHeight,each$1(this.afterBody,Qe),_e.y-=Ie}drawFooter(_e,Ce,Pe){const Re=this.footer,Ie=Re.length;let Be,je;if(Ie){const De=getRtlAdapter(Pe.rtl,this.x,this.width);for(_e.x=getAlignedX(this,Pe.footerAlign,Pe),_e.y+=Pe.footerMarginTop,Ce.textAlign=De.textAlign(Pe.footerAlign),Ce.textBaseline="middle",Be=toFont(Pe.footerFont),Ce.fillStyle=Pe.footerColor,Ce.font=Be.string,je=0;je<Ie;++je)Ce.fillText(Re[je],De.x(_e.x),_e.y+Be.lineHeight/2),_e.y+=Be.lineHeight+Pe.footerSpacing}}drawBackground(_e,Ce,Pe,Re){const{xAlign:Ie,yAlign:Be}=this,{x:je,y:De}=_e,{width:Fe,height:Oe}=Pe,{topLeft:ke,topRight:Me,bottomLeft:$e,bottomRight:He}=toTRBLCorners(Re.cornerRadius);Ce.fillStyle=Re.backgroundColor,Ce.strokeStyle=Re.borderColor,Ce.lineWidth=Re.borderWidth,Ce.beginPath(),Ce.moveTo(je+ke,De),Be==="top"&&this.drawCaret(_e,Ce,Pe,Re),Ce.lineTo(je+Fe-Me,De),Ce.quadraticCurveTo(je+Fe,De,je+Fe,De+Me),Be==="center"&&Ie==="right"&&this.drawCaret(_e,Ce,Pe,Re),Ce.lineTo(je+Fe,De+Oe-He),Ce.quadraticCurveTo(je+Fe,De+Oe,je+Fe-He,De+Oe),Be==="bottom"&&this.drawCaret(_e,Ce,Pe,Re),Ce.lineTo(je+$e,De+Oe),Ce.quadraticCurveTo(je,De+Oe,je,De+Oe-$e),Be==="center"&&Ie==="left"&&this.drawCaret(_e,Ce,Pe,Re),Ce.lineTo(je,De+ke),Ce.quadraticCurveTo(je,De,je+ke,De),Ce.closePath(),Ce.fill(),Re.borderWidth>0&&Ce.stroke()}_updateAnimationTarget(_e){const Ce=this.chart,Pe=this.$animations,Re=Pe&&Pe.x,Ie=Pe&&Pe.y;if(Re||Ie){const Be=positioners[_e.position].call(this,this._active,this._eventPosition);if(!Be)return;const je=this._size=getTooltipSize(this,_e),De=Object.assign({},Be,this._size),Fe=determineAlignment(Ce,_e,De),Oe=getBackgroundPoint(_e,De,Fe,Ce);(Re._to!==Oe.x||Ie._to!==Oe.y)&&(this.xAlign=Fe.xAlign,this.yAlign=Fe.yAlign,this.width=je.width,this.height=je.height,this.caretX=Be.x,this.caretY=Be.y,this._resolveAnimations().update(this,Oe))}}_willRender(){return!!this.opacity}draw(_e){const Ce=this.options.setContext(this.getContext());let Pe=this.opacity;if(!Pe)return;this._updateAnimationTarget(Ce);const Re={width:this.width,height:this.height},Ie={x:this.x,y:this.y};Pe=Math.abs(Pe)<.001?0:Pe;const Be=toPadding(Ce.padding),je=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;Ce.enabled&&je&&(_e.save(),_e.globalAlpha=Pe,this.drawBackground(Ie,_e,Re,Ce),overrideTextDirection(_e,Ce.textDirection),Ie.y+=Be.top,this.drawTitle(Ie,_e,Ce),this.drawBody(Ie,_e,Ce),this.drawFooter(Ie,_e,Ce),restoreTextDirection(_e,Ce.textDirection),_e.restore())}getActiveElements(){return this._active||[]}setActiveElements(_e,Ce){const Pe=this._active,Re=_e.map(({datasetIndex:je,index:De})=>{const Fe=this.chart.getDatasetMeta(je);if(!Fe)throw new Error("Cannot find a dataset at index "+je);return{datasetIndex:je,element:Fe.data[De],index:De}}),Ie=!_elementsEqual(Pe,Re),Be=this._positionChanged(Re,Ce);(Ie||Be)&&(this._active=Re,this._eventPosition=Ce,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(_e,Ce,Pe=!0){if(Ce&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const Re=this.options,Ie=this._active||[],Be=this._getActiveElements(_e,Ie,Ce,Pe),je=this._positionChanged(Be,_e),De=Ce||!_elementsEqual(Be,Ie)||je;return De&&(this._active=Be,(Re.enabled||Re.external)&&(this._eventPosition={x:_e.x,y:_e.y},this.update(!0,Ce))),De}_getActiveElements(_e,Ce,Pe,Re){const Ie=this.options;if(_e.type==="mouseout")return[];if(!Re)return Ce.filter(je=>this.chart.data.datasets[je.datasetIndex]&&this.chart.getDatasetMeta(je.datasetIndex).controller.getParsed(je.index)!==void 0);const Be=this.chart.getElementsAtEventForMode(_e,Ie.mode,Ie,Pe);return Ie.reverse&&Be.reverse(),Be}_positionChanged(_e,Ce){const{caretX:Pe,caretY:Re,options:Ie}=this,Be=positioners[Ie.position].call(this,_e,Ce);return Be!==!1&&(Pe!==Be.x||Re!==Be.y)}};var plugin_tooltip={id:"tooltip",_element:Tooltip$1,positioners,afterInit(Ee,_e,Ce){Ce&&(Ee.tooltip=new Tooltip$1({chart:Ee,options:Ce}))},beforeUpdate(Ee,_e,Ce){Ee.tooltip&&Ee.tooltip.initialize(Ce)},reset(Ee,_e,Ce){Ee.tooltip&&Ee.tooltip.initialize(Ce)},afterDraw(Ee){const _e=Ee.tooltip;if(_e&&_e._willRender()){const Ce={tooltip:_e};if(Ee.notifyPlugins("beforeTooltipDraw",{...Ce,cancelable:!0})===!1)return;_e.draw(Ee.ctx),Ee.notifyPlugins("afterTooltipDraw",Ce)}},afterEvent(Ee,_e){if(Ee.tooltip){const Ce=_e.replay;Ee.tooltip.handleEvent(_e.event,Ce,_e.inChartArea)&&(_e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(Ee,_e)=>_e.bodyFont.size,boxWidth:(Ee,_e)=>_e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:Ee=>Ee!=="filter"&&Ee!=="itemSort"&&Ee!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(Ee,_e,Ce,Pe)=>(typeof _e=="string"?(Ce=Ee.push(_e)-1,Pe.unshift({index:Ce,label:_e})):isNaN(_e)&&(Ce=null),Ce);function findOrAddLabel(Ee,_e,Ce,Pe){const Re=Ee.indexOf(_e);if(Re===-1)return addIfString(Ee,_e,Ce,Pe);const Ie=Ee.lastIndexOf(_e);return Re!==Ie?Ce:Re}const validIndex=(Ee,_e)=>Ee===null?null:_limitValue(Math.round(Ee),0,_e);function _getLabelForValue(Ee){const _e=this.getLabels();return Ee>=0&&Ee<_e.length?_e[Ee]:Ee}class CategoryScale extends Scale{static id="category";static defaults={ticks:{callback:_getLabelForValue}};constructor(_e){super(_e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(_e){const Ce=this._addedLabels;if(Ce.length){const Pe=this.getLabels();for(const{index:Re,label:Ie}of Ce)Pe[Re]===Ie&&Pe.splice(Re,1);this._addedLabels=[]}super.init(_e)}parse(_e,Ce){if(isNullOrUndef(_e))return null;const Pe=this.getLabels();return Ce=isFinite(Ce)&&Pe[Ce]===_e?Ce:findOrAddLabel(Pe,_e,valueOrDefault(Ce,_e),this._addedLabels),validIndex(Ce,Pe.length-1)}determineDataLimits(){const{minDefined:_e,maxDefined:Ce}=this.getUserBounds();let{min:Pe,max:Re}=this.getMinMax(!0);this.options.bounds==="ticks"&&(_e||(Pe=0),Ce||(Re=this.getLabels().length-1)),this.min=Pe,this.max=Re}buildTicks(){const _e=this.min,Ce=this.max,Pe=this.options.offset,Re=[];let Ie=this.getLabels();Ie=_e===0&&Ce===Ie.length-1?Ie:Ie.slice(_e,Ce+1),this._valueRange=Math.max(Ie.length-(Pe?0:1),1),this._startValue=this.min-(Pe?.5:0);for(let Be=_e;Be<=Ce;Be++)Re.push({value:Be});return Re}getLabelForValue(_e){return _getLabelForValue.call(this,_e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(_e){return typeof _e!="number"&&(_e=this.parse(_e)),_e===null?NaN:this.getPixelForDecimal((_e-this._startValue)/this._valueRange)}getPixelForTick(_e){const Ce=this.ticks;return _e<0||_e>Ce.length-1?null:this.getPixelForValue(Ce[_e].value)}getValueForPixel(_e){return Math.round(this._startValue+this.getDecimalForPixel(_e)*this._valueRange)}getBasePixel(){return this.bottom}}function generateTicks$1(Ee,_e){const Ce=[],{bounds:Re,step:Ie,min:Be,max:je,precision:De,count:Fe,maxTicks:Oe,maxDigits:ke,includeBounds:Me}=Ee,$e=Ie||1,He=Oe-1,{min:Qe,max:Ke}=_e,ze=!isNullOrUndef(Be),We=!isNullOrUndef(je),qe=!isNullOrUndef(Fe),Ye=(Ke-Qe)/(ke+1);let Xe=niceNum((Ke-Qe)/He/$e)*$e,rr,Je,er,or;if(Xe<1e-14&&!ze&&!We)return[{value:Qe},{value:Ke}];or=Math.ceil(Ke/Xe)-Math.floor(Qe/Xe),or>He&&(Xe=niceNum(or*Xe/He/$e)*$e),isNullOrUndef(De)||(rr=Math.pow(10,De),Xe=Math.ceil(Xe*rr)/rr),Re==="ticks"?(Je=Math.floor(Qe/Xe)*Xe,er=Math.ceil(Ke/Xe)*Xe):(Je=Qe,er=Ke),ze&&We&&Ie&&almostWhole((je-Be)/Ie,Xe/1e3)?(or=Math.round(Math.min((je-Be)/Xe,Oe)),Xe=(je-Be)/or,Je=Be,er=je):qe?(Je=ze?Be:Je,er=We?je:er,or=Fe-1,Xe=(er-Je)/or):(or=(er-Je)/Xe,almostEquals(or,Math.round(or),Xe/1e3)?or=Math.round(or):or=Math.ceil(or));const pr=Math.max(_decimalPlaces(Xe),_decimalPlaces(Je));rr=Math.pow(10,isNullOrUndef(De)?pr:De),Je=Math.round(Je*rr)/rr,er=Math.round(er*rr)/rr;let ar=0;for(ze&&(Me&&Je!==Be?(Ce.push({value:Be}),Je<Be&&ar++,almostEquals(Math.round((Je+ar*Xe)*rr)/rr,Be,relativeLabelSize(Be,Ye,Ee))&&ar++):Je<Be&&ar++);ar<or;++ar){const fr=Math.round((Je+ar*Xe)*rr)/rr;if(We&&fr>je)break;Ce.push({value:fr})}return We&&Me&&er!==je?Ce.length&&almostEquals(Ce[Ce.length-1].value,je,relativeLabelSize(je,Ye,Ee))?Ce[Ce.length-1].value=je:Ce.push({value:je}):(!We||er===je)&&Ce.push({value:er}),Ce}function relativeLabelSize(Ee,_e,{horizontal:Ce,minRotation:Pe}){const Re=toRadians(Pe),Ie=(Ce?Math.sin(Re):Math.cos(Re))||.001,Be=.75*_e*(""+Ee).length;return Math.min(_e/Ie,Be)}class LinearScaleBase extends Scale{constructor(_e){super(_e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(_e,Ce){return isNullOrUndef(_e)||(typeof _e=="number"||_e instanceof Number)&&!isFinite(+_e)?null:+_e}handleTickRangeOptions(){const{beginAtZero:_e}=this.options,{minDefined:Ce,maxDefined:Pe}=this.getUserBounds();let{min:Re,max:Ie}=this;const Be=De=>Re=Ce?Re:De,je=De=>Ie=Pe?Ie:De;if(_e){const De=sign$1(Re),Fe=sign$1(Ie);De<0&&Fe<0?je(0):De>0&&Fe>0&&Be(0)}if(Re===Ie){let De=Ie===0?1:Math.abs(Ie*.05);je(Ie+De),_e||Be(Re-De)}this.min=Re,this.max=Ie}getTickLimit(){const _e=this.options.ticks;let{maxTicksLimit:Ce,stepSize:Pe}=_e,Re;return Pe?(Re=Math.ceil(this.max/Pe)-Math.floor(this.min/Pe)+1,Re>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${Pe} would result generating up to ${Re} ticks. Limiting to 1000.`),Re=1e3)):(Re=this.computeTickLimit(),Ce=Ce||11),Ce&&(Re=Math.min(Ce,Re)),Re}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const _e=this.options,Ce=_e.ticks;let Pe=this.getTickLimit();Pe=Math.max(2,Pe);const Re={maxTicks:Pe,bounds:_e.bounds,min:_e.min,max:_e.max,precision:Ce.precision,step:Ce.stepSize,count:Ce.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:Ce.minRotation||0,includeBounds:Ce.includeBounds!==!1},Ie=this._range||this,Be=generateTicks$1(Re,Ie);return _e.bounds==="ticks"&&_setMinAndMaxByKey(Be,this,"value"),_e.reverse?(Be.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),Be}configure(){const _e=this.ticks;let Ce=this.min,Pe=this.max;if(super.configure(),this.options.offset&&_e.length){const Re=(Pe-Ce)/Math.max(_e.length-1,1)/2;Ce-=Re,Pe+=Re}this._startValue=Ce,this._endValue=Pe,this._valueRange=Pe-Ce}getLabelForValue(_e){return formatNumber(_e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{static id="linear";static defaults={ticks:{callback:Ticks.formatters.numeric}};determineDataLimits(){const{min:_e,max:Ce}=this.getMinMax(!0);this.min=isNumberFinite(_e)?_e:0,this.max=isNumberFinite(Ce)?Ce:1,this.handleTickRangeOptions()}computeTickLimit(){const _e=this.isHorizontal(),Ce=_e?this.width:this.height,Pe=toRadians(this.options.ticks.minRotation),Re=(_e?Math.sin(Pe):Math.cos(Pe))||.001,Ie=this._resolveTickFontOptions(0);return Math.ceil(Ce/Math.min(40,Ie.lineHeight/Re))}getPixelForValue(_e){return _e===null?NaN:this.getPixelForDecimal((_e-this._startValue)/this._valueRange)}getValueForPixel(_e){return this._startValue+this.getDecimalForPixel(_e)*this._valueRange}}const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(Ee,_e){return Ee-_e}function parse(Ee,_e){if(isNullOrUndef(_e))return null;const Ce=Ee._adapter,{parser:Pe,round:Re,isoWeekday:Ie}=Ee._parseOpts;let Be=_e;return typeof Pe=="function"&&(Be=Pe(Be)),isNumberFinite(Be)||(Be=typeof Pe=="string"?Ce.parse(Be,Pe):Ce.parse(Be)),Be===null?null:(Re&&(Be=Re==="week"&&(isNumber$1(Ie)||Ie===!0)?Ce.startOf(Be,"isoWeek",Ie):Ce.startOf(Be,Re)),+Be)}function determineUnitForAutoTicks(Ee,_e,Ce,Pe){const Re=UNITS.length;for(let Ie=UNITS.indexOf(Ee);Ie<Re-1;++Ie){const Be=INTERVALS[UNITS[Ie]],je=Be.steps?Be.steps:Number.MAX_SAFE_INTEGER;if(Be.common&&Math.ceil((Ce-_e)/(je*Be.size))<=Pe)return UNITS[Ie]}return UNITS[Re-1]}function determineUnitForFormatting(Ee,_e,Ce,Pe,Re){for(let Ie=UNITS.length-1;Ie>=UNITS.indexOf(Ce);Ie--){const Be=UNITS[Ie];if(INTERVALS[Be].common&&Ee._adapter.diff(Re,Pe,Be)>=_e-1)return Be}return UNITS[Ce?UNITS.indexOf(Ce):0]}function determineMajorUnit(Ee){for(let _e=UNITS.indexOf(Ee)+1,Ce=UNITS.length;_e<Ce;++_e)if(INTERVALS[UNITS[_e]].common)return UNITS[_e]}function addTick(Ee,_e,Ce){if(!Ce)Ee[_e]=!0;else if(Ce.length){const{lo:Pe,hi:Re}=_lookup(Ce,_e),Ie=Ce[Pe]>=_e?Ce[Pe]:Ce[Re];Ee[Ie]=!0}}function setMajorTicks(Ee,_e,Ce,Pe){const Re=Ee._adapter,Ie=+Re.startOf(_e[0].value,Pe),Be=_e[_e.length-1].value;let je,De;for(je=Ie;je<=Be;je=+Re.add(je,1,Pe))De=Ce[je],De>=0&&(_e[De].major=!0);return _e}function ticksFromTimestamps(Ee,_e,Ce){const Pe=[],Re={},Ie=_e.length;let Be,je;for(Be=0;Be<Ie;++Be)je=_e[Be],Re[je]=Be,Pe.push({value:je,major:!1});return Ie===0||!Ce?Pe:setMajorTicks(Ee,Pe,Re,Ce)}class TimeScale extends Scale{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(_e){super(_e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(_e,Ce={}){const Pe=_e.time||(_e.time={}),Re=this._adapter=new adapters._date(_e.adapters.date);Re.init(Ce),mergeIf(Pe.displayFormats,Re.formats()),this._parseOpts={parser:Pe.parser,round:Pe.round,isoWeekday:Pe.isoWeekday},super.init(_e),this._normalized=Ce.normalized}parse(_e,Ce){return _e===void 0?null:parse(this,_e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const _e=this.options,Ce=this._adapter,Pe=_e.time.unit||"day";let{min:Re,max:Ie,minDefined:Be,maxDefined:je}=this.getUserBounds();function De(Fe){!Be&&!isNaN(Fe.min)&&(Re=Math.min(Re,Fe.min)),!je&&!isNaN(Fe.max)&&(Ie=Math.max(Ie,Fe.max))}(!Be||!je)&&(De(this._getLabelBounds()),(_e.bounds!=="ticks"||_e.ticks.source!=="labels")&&De(this.getMinMax(!1))),Re=isNumberFinite(Re)&&!isNaN(Re)?Re:+Ce.startOf(Date.now(),Pe),Ie=isNumberFinite(Ie)&&!isNaN(Ie)?Ie:+Ce.endOf(Date.now(),Pe)+1,this.min=Math.min(Re,Ie-1),this.max=Math.max(Re+1,Ie)}_getLabelBounds(){const _e=this.getLabelTimestamps();let Ce=Number.POSITIVE_INFINITY,Pe=Number.NEGATIVE_INFINITY;return _e.length&&(Ce=_e[0],Pe=_e[_e.length-1]),{min:Ce,max:Pe}}buildTicks(){const _e=this.options,Ce=_e.time,Pe=_e.ticks,Re=Pe.source==="labels"?this.getLabelTimestamps():this._generate();_e.bounds==="ticks"&&Re.length&&(this.min=this._userMin||Re[0],this.max=this._userMax||Re[Re.length-1]);const Ie=this.min,Be=this.max,je=_filterBetween(Re,Ie,Be);return this._unit=Ce.unit||(Pe.autoSkip?determineUnitForAutoTicks(Ce.minUnit,this.min,this.max,this._getLabelCapacity(Ie)):determineUnitForFormatting(this,je.length,Ce.minUnit,this.min,this.max)),this._majorUnit=!Pe.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(Re),_e.reverse&&je.reverse(),ticksFromTimestamps(this,je,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(_e=>+_e.value))}initOffsets(_e=[]){let Ce=0,Pe=0,Re,Ie;this.options.offset&&_e.length&&(Re=this.getDecimalForValue(_e[0]),_e.length===1?Ce=1-Re:Ce=(this.getDecimalForValue(_e[1])-Re)/2,Ie=this.getDecimalForValue(_e[_e.length-1]),_e.length===1?Pe=Ie:Pe=(Ie-this.getDecimalForValue(_e[_e.length-2]))/2);const Be=_e.length<3?.5:.25;Ce=_limitValue(Ce,0,Be),Pe=_limitValue(Pe,0,Be),this._offsets={start:Ce,end:Pe,factor:1/(Ce+1+Pe)}}_generate(){const _e=this._adapter,Ce=this.min,Pe=this.max,Re=this.options,Ie=Re.time,Be=Ie.unit||determineUnitForAutoTicks(Ie.minUnit,Ce,Pe,this._getLabelCapacity(Ce)),je=valueOrDefault(Re.ticks.stepSize,1),De=Be==="week"?Ie.isoWeekday:!1,Fe=isNumber$1(De)||De===!0,Oe={};let ke=Ce,Me,$e;if(Fe&&(ke=+_e.startOf(ke,"isoWeek",De)),ke=+_e.startOf(ke,Fe?"day":Be),_e.diff(Pe,Ce,Be)>1e5*je)throw new Error(Ce+" and "+Pe+" are too far apart with stepSize of "+je+" "+Be);const He=Re.ticks.source==="data"&&this.getDataTimestamps();for(Me=ke,$e=0;Me<Pe;Me=+_e.add(Me,je,Be),$e++)addTick(Oe,Me,He);return(Me===Pe||Re.bounds==="ticks"||$e===1)&&addTick(Oe,Me,He),Object.keys(Oe).sort(sorter).map(Qe=>+Qe)}getLabelForValue(_e){const Ce=this._adapter,Pe=this.options.time;return Pe.tooltipFormat?Ce.format(_e,Pe.tooltipFormat):Ce.format(_e,Pe.displayFormats.datetime)}format(_e,Ce){const Re=this.options.time.displayFormats,Ie=this._unit,Be=Ce||Re[Ie];return this._adapter.format(_e,Be)}_tickFormatFunction(_e,Ce,Pe,Re){const Ie=this.options,Be=Ie.ticks.callback;if(Be)return callback(Be,[_e,Ce,Pe],this);const je=Ie.time.displayFormats,De=this._unit,Fe=this._majorUnit,Oe=De&&je[De],ke=Fe&&je[Fe],Me=Pe[Ce],$e=Fe&&ke&&Me&&Me.major;return this._adapter.format(_e,Re||($e?ke:Oe))}generateTickLabels(_e){let Ce,Pe,Re;for(Ce=0,Pe=_e.length;Ce<Pe;++Ce)Re=_e[Ce],Re.label=this._tickFormatFunction(Re.value,Ce,_e)}getDecimalForValue(_e){return _e===null?NaN:(_e-this.min)/(this.max-this.min)}getPixelForValue(_e){const Ce=this._offsets,Pe=this.getDecimalForValue(_e);return this.getPixelForDecimal((Ce.start+Pe)*Ce.factor)}getValueForPixel(_e){const Ce=this._offsets,Pe=this.getDecimalForPixel(_e)/Ce.factor-Ce.end;return this.min+Pe*(this.max-this.min)}_getLabelSize(_e){const Ce=this.options.ticks,Pe=this.ctx.measureText(_e).width,Re=toRadians(this.isHorizontal()?Ce.maxRotation:Ce.minRotation),Ie=Math.cos(Re),Be=Math.sin(Re),je=this._resolveTickFontOptions(0).size;return{w:Pe*Ie+je*Be,h:Pe*Be+je*Ie}}_getLabelCapacity(_e){const Ce=this.options.time,Pe=Ce.displayFormats,Re=Pe[Ce.unit]||Pe.millisecond,Ie=this._tickFormatFunction(_e,0,ticksFromTimestamps(this,[_e],this._majorUnit),Re),Be=this._getLabelSize(Ie),je=Math.floor(this.isHorizontal()?this.width/Be.w:this.height/Be.h)-1;return je>0?je:1}getDataTimestamps(){let _e=this._cache.data||[],Ce,Pe;if(_e.length)return _e;const Re=this.getMatchingVisibleMetas();if(this._normalized&&Re.length)return this._cache.data=Re[0].controller.getAllParsedValues(this);for(Ce=0,Pe=Re.length;Ce<Pe;++Ce)_e=_e.concat(Re[Ce].controller.getAllParsedValues(this));return this._cache.data=this.normalize(_e)}getLabelTimestamps(){const _e=this._cache.labels||[];let Ce,Pe;if(_e.length)return _e;const Re=this.getLabels();for(Ce=0,Pe=Re.length;Ce<Pe;++Ce)_e.push(parse(this,Re[Ce]));return this._cache.labels=this._normalized?_e:this.normalize(_e)}normalize(_e){return _arrayUnique(_e.sort(sorter))}}function interpolate$1(Ee,_e,Ce){let Pe=0,Re=Ee.length-1,Ie,Be,je,De;Ce?(_e>=Ee[Pe].pos&&_e<=Ee[Re].pos&&({lo:Pe,hi:Re}=_lookupByKey(Ee,"pos",_e)),{pos:Ie,time:je}=Ee[Pe],{pos:Be,time:De}=Ee[Re]):(_e>=Ee[Pe].time&&_e<=Ee[Re].time&&({lo:Pe,hi:Re}=_lookupByKey(Ee,"time",_e)),{time:Ie,pos:je}=Ee[Pe],{time:Be,pos:De}=Ee[Re]);const Fe=Be-Ie;return Fe?je+(De-je)*(_e-Ie)/Fe:je}class TimeSeriesScale extends TimeScale{static id="timeseries";static defaults=TimeScale.defaults;constructor(_e){super(_e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const _e=this._getTimestampsForTable(),Ce=this._table=this.buildLookupTable(_e);this._minPos=interpolate$1(Ce,this.min),this._tableRange=interpolate$1(Ce,this.max)-this._minPos,super.initOffsets(_e)}buildLookupTable(_e){const{min:Ce,max:Pe}=this,Re=[],Ie=[];let Be,je,De,Fe,Oe;for(Be=0,je=_e.length;Be<je;++Be)Fe=_e[Be],Fe>=Ce&&Fe<=Pe&&Re.push(Fe);if(Re.length<2)return[{time:Ce,pos:0},{time:Pe,pos:1}];for(Be=0,je=Re.length;Be<je;++Be)Oe=Re[Be+1],De=Re[Be-1],Fe=Re[Be],Math.round((Oe+De)/2)!==Fe&&Ie.push({time:Fe,pos:Be/(je-1)});return Ie}_generate(){const _e=this.min,Ce=this.max;let Pe=super.getDataTimestamps();return(!Pe.includes(_e)||!Pe.length)&&Pe.splice(0,0,_e),(!Pe.includes(Ce)||Pe.length===1)&&Pe.push(Ce),Pe.sort((Re,Ie)=>Re-Ie)}_getTimestampsForTable(){let _e=this._cache.all||[];if(_e.length)return _e;const Ce=this.getDataTimestamps(),Pe=this.getLabelTimestamps();return Ce.length&&Pe.length?_e=this.normalize(Ce.concat(Pe)):_e=Ce.length?Ce:Pe,_e=this._cache.all=_e,_e}getDecimalForValue(_e){return(interpolate$1(this._table,_e)-this._minPos)/this._tableRange}getValueForPixel(_e){const Ce=this._offsets,Pe=this.getDecimalForPixel(_e)/Ce.factor-Ce.end;return interpolate$1(this._table,Pe*this._tableRange+this._minPos,!0)}}const defaultDatasetIdKey="label";function reforwardRef(Ee,_e){typeof Ee=="function"?Ee(_e):Ee&&(Ee.current=_e)}function setOptions(Ee,_e){const Ce=Ee.options;Ce&&_e&&Object.assign(Ce,_e)}function setLabels(Ee,_e){Ee.labels=_e}function setDatasets(Ee,_e){let Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultDatasetIdKey;const Pe=[];Ee.datasets=_e.map(Re=>{const Ie=Ee.datasets.find(Be=>Be[Ce]===Re[Ce]);return!Ie||!Re.data||Pe.includes(Ie)?{...Re}:(Pe.push(Ie),Object.assign(Ie,Re),Ie)})}function cloneData(Ee){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultDatasetIdKey;const Ce={labels:[],datasets:[]};return setLabels(Ce,Ee.labels),setDatasets(Ce,Ee.datasets,_e),Ce}function ChartComponent(Ee,_e){const{height:Ce=150,width:Pe=300,redraw:Re=!1,datasetIdKey:Ie,type:Be,data:je,options:De,plugins:Fe=[],fallbackContent:Oe,updateMode:ke,...Me}=Ee,$e=reactExports.useRef(null),He=reactExports.useRef(null),Qe=()=>{$e.current&&(He.current=new Chart$1($e.current,{type:Be,data:cloneData(je,Ie),options:De&&{...De},plugins:Fe}),reforwardRef(_e,He.current))},Ke=()=>{reforwardRef(_e,null),He.current&&(He.current.destroy(),He.current=null)};return reactExports.useEffect(()=>{!Re&&He.current&&De&&setOptions(He.current,De)},[Re,De]),reactExports.useEffect(()=>{!Re&&He.current&&setLabels(He.current.config.data,je.labels)},[Re,je.labels]),reactExports.useEffect(()=>{!Re&&He.current&&je.datasets&&setDatasets(He.current.config.data,je.datasets,Ie)},[Re,je.datasets]),reactExports.useEffect(()=>{He.current&&(Re?(Ke(),setTimeout(Qe)):He.current.update(ke))},[Re,De,je.labels,je.datasets,ke]),reactExports.useEffect(()=>{He.current&&(Ke(),setTimeout(Qe))},[Be]),reactExports.useEffect(()=>(Qe(),()=>Ke()),[]),React.createElement("canvas",{ref:$e,role:"img",height:Ce,width:Pe,...Me},Oe)}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(Ee,_e){return Chart$1.register(_e),reactExports.forwardRef((Ce,Pe)=>React.createElement(Chart,{...Ce,ref:Pe,type:Ee}))}const Bar$1=createTypedChart("bar",BarController),Pie$1=createTypedChart("pie",PieController);Chart$1.register(BarElement,CategoryScale,LinearScale,plugin_tooltip,plugin_legend);const CustomerRetentionCard=()=>{const[Ee,_e]=reactExports.useState({totalCustomers:0,returningCustomers:0,retentionRate:0,chartData:[]});reactExports.useEffect(()=>{(async()=>{const Re=auth$2.currentUser?.uid;if(!Re)return;const Ie=collection(db$2,`businesses/${Re}/finalizedInvoices`),Be=await getDocs(Ie),je={};Be.docs.forEach(Me=>{const He=Me.data().customer||{},Qe=He.custId||He.phone||He.email||He.name;je[Qe]||(je[Qe]={custId:He.custId,name:He.name,visits:0}),je[Qe].visits+=1});const De=Object.keys(je).length,Fe=Object.values(je).filter(Me=>Me.visits>1).length,Oe=De>0?(Fe/De*100).toFixed(1):0,ke=Object.values(je).sort((Me,$e)=>$e.visits-Me.visits).map(Me=>({name:Me.name||"Unknown",visits:Me.visits}));_e({totalCustomers:De,returningCustomers:Fe,retentionRate:Oe,chartData:ke})})()},[]);const Ce={labels:Ee.chartData.map(Pe=>Pe.name),datasets:[{label:"Visits",data:Ee.chartData.map(Pe=>Pe.visits),backgroundColor:"#3B82F6"}]};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-2",children:" Customer Retention"}),jsxRuntimeExports.jsxs("p",{children:["Total Customers: ",jsxRuntimeExports.jsx("strong",{children:Ee.totalCustomers})]}),jsxRuntimeExports.jsxs("p",{children:["Returning Customers: ",jsxRuntimeExports.jsx("strong",{children:Ee.returningCustomers})]}),jsxRuntimeExports.jsxs("p",{children:["Retention Rate: ",jsxRuntimeExports.jsxs("strong",{children:[Ee.retentionRate,"%"]})]}),Ee.chartData.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(Bar$1,{data:Ce,options:{responsive:!0,plugins:{legend:{display:!1}}}})})]})},TopLoyalCustomersTable=()=>{const[Ee,_e]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Pe=auth$2.currentUser?.uid;if(!Pe)return;const Re=collection(db$2,`businesses/${Pe}/finalizedInvoices`),Be=(await getDocs(Re)).docs.map(Fe=>Fe.data()),je={};Be.forEach(Fe=>{const Oe=Fe.customer||{},ke=Oe.custId||Oe.phone||Oe.email||Oe.name;je[ke]||(je[ke]={custId:Oe.custId,name:Oe.name,phone:Oe.phone,totalSpend:0,orders:0}),je[ke].orders+=1,je[ke].totalSpend+=Fe.totalAmount||0});const De=Object.values(je).map(Fe=>({...Fe,avgOrderValue:Fe.orders>0?(Fe.totalSpend/Fe.orders).toFixed(2):"0.00"})).sort((Fe,Oe)=>Oe.totalSpend-Fe.totalSpend).slice(0,5);_e(De)})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Top Loyal / High-Spend Customers"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2 text-left",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-left",children:"Phone"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-center",children:"Orders"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-right",children:"Total Spend"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-right",children:"Avg Order Value"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ee.map((Ce,Pe)=>jsxRuntimeExports.jsxs("tr",{className:"border-t",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:Ce.name||"N/A"}),jsxRuntimeExports.jsx("td",{className:"p-2",children:Ce.phone||"N/A"}),jsxRuntimeExports.jsx("td",{className:"p-2 text-center",children:Ce.orders}),jsxRuntimeExports.jsxs("td",{className:"p-2 text-right",children:["",Ce.totalSpend.toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"p-2 text-right",children:["",Ce.avgOrderValue]})]},Pe))})]})})]})},CustomerProductsTable=()=>{const[Ee,_e]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Pe=auth$2.currentUser?.uid;if(!Pe)return;const Re=collection(db$2,`businesses/${Pe}/finalizedInvoices`),Be=(await getDocs(Re)).docs.map(Fe=>Fe.data()),je={};Be.forEach(Fe=>{const Oe=Fe.customer||{},ke=Oe.custId||Oe.phone||Oe.email||Oe.name;je[ke]||(je[ke]={custId:Oe.custId,name:Oe.name,phone:Oe.phone,visits:0,totalSpend:0,products:{}}),je[ke].visits+=1,je[ke].totalSpend+=Fe.totalAmount||0,(Fe.cartItems||[]).forEach(Me=>{je[ke].products[Me.name]||(je[ke].products[Me.name]=0),je[ke].products[Me.name]+=Me.quantity})});const De=Object.values(je).map(Fe=>({...Fe,topProducts:Object.entries(Fe.products).sort((Oe,ke)=>ke[1]-Oe[1]).slice(0,3).map(([Oe,ke])=>`${Oe} (${ke})`).join(", ")})).sort((Fe,Oe)=>Oe.visits-Fe.visits);_e(De)})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Products Bought by Each Customer"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2 text-left",children:"Customer Name"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-center",children:"Visits"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-left",children:"Top Products"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-right",children:"Total Spend"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ee.map((Ce,Pe)=>jsxRuntimeExports.jsxs("tr",{className:"border-t",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:Ce.name||"N/A"}),jsxRuntimeExports.jsx("td",{className:"p-2 text-center",children:Ce.visits}),jsxRuntimeExports.jsx("td",{className:"p-2",children:Ce.topProducts}),jsxRuntimeExports.jsxs("td",{className:"p-2 text-right",children:["",Ce.totalSpend.toFixed(2)]})]},Pe))})]})})]})};Chart$1.register(BarElement,CategoryScale,LinearScale,plugin_tooltip,plugin_legend);const HourlyVisitChart=()=>{const[Ee,_e]=reactExports.useState(new Array(24).fill(0));reactExports.useEffect(()=>{(async()=>{const Ie=auth$2.currentUser?.uid;if(!Ie)return;const Be=collection(db$2,`businesses/${Ie}/finalizedInvoices`),je=await getDocs(Be),De=new Array(24).fill(0),Fe=new Set;je.docs.forEach(Oe=>{const ke=Oe.data(),Me=ke.issuedAt||ke.createdAt;if(!Me)return;const He=new Date(Me).getHours(),Qe=ke.customer||{},ze=`${Qe.custId||Qe.phone||Qe.email||Qe.name}-${He}`;Fe.has(ze)||(Fe.add(ze),De[He]++)}),_e(De)})()},[]);const Ce={labels:Array.from({length:24},(Re,Ie)=>`${Ie}:00`),datasets:[{label:"Invoices",data:Ee,backgroundColor:"#10B981"}]},Pe={responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,stepSize:1}}};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Hourly Customer Visit Trends"}),jsxRuntimeExports.jsx(Bar$1,{data:Ce,options:Pe})]})},CustomerInsights=()=>{const[Ee,_e]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Pe=auth$2.currentUser?.uid;if(!Pe)return;const Re=collection(db$2,`businesses/${Pe}/finalizedInvoices`),Be=(await getDocs(Re)).docs.map(De=>De.data()),je={};Be.forEach(De=>{const Fe=De.customer||{},Oe=Fe.custId||Fe.phone||Fe.email||Fe.name;je[Oe]||(je[Oe]={custId:Fe.custId,name:Fe.name,phone:Fe.phone,email:Fe.email,visits:0,totalSpend:0,products:{}}),je[Oe].visits+=1,je[Oe].totalSpend+=De.totalAmount||0,(De.cartItems||[]).forEach(ke=>{je[Oe].products[ke.name]||(je[Oe].products[ke.name]=0),je[Oe].products[ke.name]+=ke.quantity})}),_e(Object.values(je))})()},[]),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Insights"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Ee.map((Ce,Pe)=>jsxRuntimeExports.jsxs("div",{className:"border p-4 rounded shadow bg-white",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold",children:[Ce.name," (",Ce.phone,")"]}),jsxRuntimeExports.jsxs("p",{children:["Total Visits: ",Ce.visits]}),jsxRuntimeExports.jsxs("p",{children:["Total Spend: ",Ce.totalSpend.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:["Top Products: ",Object.entries(Ce.products).map(([Re,Ie])=>`${Re} (${Ie})`).join(", ")]})]},Pe))})]})},CustomerLoyaltyTags=()=>{const[Ee,_e]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Pe=auth$2.currentUser?.uid;if(!Pe)return;const Re=collection(db$2,`businesses/${Pe}/finalizedInvoices`),Ie=await getDocs(Re),Be={};Ie.docs.forEach(De=>{const Oe=De.data().customer||{},ke=Oe.custId||Oe.phone||Oe.email||Oe.name;Be[ke]||(Be[ke]={custId:Oe.custId,name:Oe.name,phone:Oe.phone,visits:0}),Be[ke].visits+=1});const je=Object.values(Be).map(De=>({...De,tier:De.visits>=10?" Platinum":De.visits>=5?" Gold":De.visits>=1?" Silver":"New"})).sort((De,Fe)=>Fe.visits-De.visits);_e(je)})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Customer Loyalty Tiers"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ee.map((Ce,Pe)=>jsxRuntimeExports.jsxs("div",{className:"border p-4 rounded shadow-sm",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold",children:[Ce.name," (",Ce.phone,")"]}),jsxRuntimeExports.jsxs("p",{children:["Visits: ",Ce.visits]}),jsxRuntimeExports.jsxs("p",{children:["Tier: ",jsxRuntimeExports.jsx("strong",{children:Ce.tier})]})]},Pe))})]})};Chart$1.register(BarElement,CategoryScale,LinearScale,plugin_tooltip,plugin_legend);const TopProductsChart=()=>{const[Ee,_e]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{const Ie=auth$2.currentUser?.uid;if(!Ie)return;const Be=collection(db$2,`businesses/${Ie}/finalizedInvoices`),je=await getDocs(Be),De={},Fe={};je.docs.forEach(ke=>{const Me=ke.data(),$e=Me.customer||{},He=$e.custId||$e.phone||$e.email||$e.name;(Me.cartItems||[]).forEach(Qe=>{const Ke=Qe.name||"Unnamed",ze=`${He}-${Ke}`;Fe[ze]||(Fe[ze]=Qe.quantity,De[Ke]=(De[Ke]||0)+Qe.quantity)})});const Oe=Object.entries(De).sort((ke,Me)=>Me[1]-ke[1]).slice(0,5).map(([ke,Me])=>({name:ke,qty:Me}));_e(Oe)})()},[]);const Ce={labels:Ee.map(Re=>Re.name),datasets:[{label:"Quantity Sold",data:Ee.map(Re=>Re.qty),backgroundColor:"#6366F1"}]},Pe={responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,stepSize:1}}};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Top 5 Most Frequently Bought Products"}),jsxRuntimeExports.jsx(Bar$1,{data:Ce,options:Pe})]})},CustomerAnalysis=({custId:Ee})=>jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold mb-4",children:" Customer Analysis"}),jsxRuntimeExports.jsx(CustomerRetentionCard,{custId:Ee}),jsxRuntimeExports.jsx(TopLoyalCustomersTable,{custId:Ee}),jsxRuntimeExports.jsx(CustomerProductsTable,{custId:Ee}),jsxRuntimeExports.jsx(HourlyVisitChart,{custId:Ee}),jsxRuntimeExports.jsx(TopProductsChart,{custId:Ee}),jsxRuntimeExports.jsx(CustomerInsights,{custId:Ee}),jsxRuntimeExports.jsx(CustomerLoyaltyTags,{custId:Ee})]}),AuthContext=reactExports.createContext(),useAuth=()=>reactExports.useContext(AuthContext),getCurrentUserId=()=>auth$2.currentUser?.uid||null,AuthProvider=({children:Ee})=>{const[_e,Ce]=reactExports.useState(null),[Pe,Re]=reactExports.useState(null),[Ie,Be]=reactExports.useState(!0);return reactExports.useEffect(()=>{const je=onAuthStateChanged(auth$2,async De=>{if(Ce(De),De){console.log("Authenticated user UID:",De.uid);const Fe=doc(db$2,"businesses",De.uid),Oe=await getDoc(Fe);Oe.exists()&&Re(Oe.data().role)}else console.log("User signed out or no user authenticated."),Re(null);Be(!1)});return()=>je()},[]),jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:_e,role:Pe,loading:Ie,setUser:Ce,setRole:Re,setLoading:Be},children:Ie?null:Ee})},ManualEntryForm$1=()=>{const{currentUser:Ee}=useAuth(),[_e,Ce]=reactExports.useState({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),[Pe,Re]=reactExports.useState(null),[Ie,Be]=reactExports.useState(!1),je=Fe=>{const{name:Oe,value:ke,files:Me}=Fe.target;if(Oe==="image"){const $e=Me[0];Ce({..._e,image:$e}),Re(URL.createObjectURL($e))}else Ce({..._e,[Oe]:ke})},De=async Fe=>{Fe.preventDefault();const Oe=getCurrentUserId();if(!Oe)return;Be(!0);const{productName:ke,sku:Me,quantity:$e,costPrice:He,sellingPrice:Qe}=_e;if(!ke||!Me||!$e||!He||!Qe){y$2.error("Please fill all required fields"),Be(!1);return}try{let Ke="";if(_e.image){const We=ref(storage,`inventory/${Oe}/${Date.now()}_${_e.image.name}`);await uploadBytes(We,_e.image),Ke=await getDownloadURL(We)}const ze=doc(collection(db$2,"businesses",Oe,"products"));await setDoc(ze,{productName:_e.productName,sku:_e.sku,brand:_e.brand,category:_e.category,quantity:_e.quantity,costPrice:_e.costPrice,sellingPrice:_e.sellingPrice,unit:_e.unit,description:_e.description,imageUrl:Ke,id:ze.id,createdAt:serverTimestamp(),addedBy:Oe}),y$2.success(" Product added successfully!"),Ce({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),Re(null)}catch(Ke){console.error("Error adding product:",Ke),y$2.error(" Failed to add product. Please try again.")}finally{Be(!1)}};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded p-4 mt-4 shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Inventory Manually"}),jsxRuntimeExports.jsxs("form",{onSubmit:De,className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"productName",placeholder:"Product Name",value:_e.productName,onChange:je,required:!0,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"text",name:"sku",placeholder:"SKU",value:_e.sku,onChange:je,required:!0,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"text",name:"brand",placeholder:"Brand",value:_e.brand,onChange:je,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"text",name:"category",placeholder:"Category",value:_e.category,onChange:je,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"number",name:"quantity",placeholder:"Quantity",value:_e.quantity,onChange:je,required:!0,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"number",name:"costPrice",placeholder:"Cost Price",value:_e.costPrice,onChange:je,required:!0,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"number",name:"sellingPrice",placeholder:"Selling Price",value:_e.sellingPrice,onChange:je,required:!0,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"text",name:"unit",placeholder:"Unit (e.g., box, piece)",value:_e.unit,onChange:je,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("textarea",{name:"description",placeholder:"Description",value:_e.description,onChange:je,className:"border p-2 rounded col-span-2"}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:je,className:"mb-2"}),Pe&&jsxRuntimeExports.jsx("img",{src:Pe,alt:"Product preview",className:"h-24 w-24 object-cover rounded border"})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Ie,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 col-span-2",children:Ie?"Uploading...":"Add Product"})]})]})},OCRUploadForm$1=({userId:Ee})=>{const[_e,Ce]=reactExports.useState(null),[Pe,Re]=reactExports.useState(""),[Ie,Be]=reactExports.useState(!1),[je,De]=reactExports.useState([]),Fe=He=>{const Qe=He.target.files[0];Qe&&Qe.size<=5*1024*1024&&(Qe.type.includes("image")||Qe.type==="application/pdf")?(Ce(Qe),Re(URL.createObjectURL(Qe)),y$2.info(` ${Qe.name} selected. Ready to scan.`)):y$2.error("File must be under 5MB and in JPG/PNG/PDF format.")},Oe=async()=>{if(!_e){y$2.error("No image selected.");return}if(!Ee){console.error("handleScan: Missing userId from props or AuthContext."),y$2.dismiss(),y$2.error("User not authenticated. Please log in again.");return}Be(!0),y$2.loading(" Scanning Image with OCR...");try{const Qe=await(Xe=>new Promise((rr,Je)=>{const er=new FileReader;er.readAsDataURL(Xe),er.onload=()=>rr(er.result.split(",")[1]),er.onerror=or=>Je(or)}))(_e),ze=await fetch("https://asia-south1-stockpilotv1.cloudfunctions.net/ocrFromImage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:Qe})}),We=await ze.json();if(!ze.ok)throw new Error(We?.error||"Cloud Function OCR failed.");const qe=We?.products||[];if(!Array.isArray(qe)||qe.length===0)throw new Error("No recognizable products parsed.");const Ye=qe.map(Xe=>({productName:Xe.name||"",brand:Xe.brand||"",quantity:Xe.quantity||"",unit:Xe.unit||"",costPrice:Xe.price||"",sellingPrice:"",description:"",imageURL:Pe}));De(Ye),y$2.dismiss(),y$2.success(" Scan complete. Review and save.")}catch(He){y$2.dismiss(),y$2.error(" OCR scan failed. Check console for details."),console.error("OCR Scan Error:",He)}finally{Be(!1)}},ke=(He,Qe,Ke)=>{const ze=[...je];ze[He][Qe]=Ke,De(ze)},Me=async()=>{if(!je.length||!Ee){y$2.error("No products to save or user not authenticated.");return}try{const He=je.map(Qe=>addDoc(collection(db$2,"businesses",Ee,"products"),{...Qe,createdAt:new Date}));await Promise.all(He),y$2.success("Products saved to inventory."),De([]),Ce(null),Re("")}catch(He){y$2.error("Failed to save products."),console.error(He)}},$e=He=>{const Qe=je.filter((Ke,ze)=>ze!==He);De(Qe)};return jsxRuntimeExports.jsxs("div",{className:"p-4 bg-white rounded shadow-md",children:[!1,jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"OCR Inventory Upload"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:Fe}),Pe&&jsxRuntimeExports.jsx("img",{src:Pe,alt:"Preview",className:"mt-2 w-40 h-40 object-cover border rounded"}),jsxRuntimeExports.jsx("button",{onClick:Oe,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-50",disabled:Ie||!_e,children:Ie?"Scanning...":"Scan & Import"}),je.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("table",{className:"mt-4 w-full border text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100",children:[jsxRuntimeExports.jsx("th",{children:"Product"}),jsxRuntimeExports.jsx("th",{children:"Brand"}),jsxRuntimeExports.jsx("th",{children:"Qty"}),jsxRuntimeExports.jsx("th",{children:"Unit"}),jsxRuntimeExports.jsx("th",{children:"Cost"}),jsxRuntimeExports.jsx("th",{children:"Sell"}),jsxRuntimeExports.jsx("th",{children:"Desc"}),jsxRuntimeExports.jsx("th",{children:""})]})}),jsxRuntimeExports.jsx("tbody",{children:je.map((He,Qe)=>jsxRuntimeExports.jsxs("tr",{children:[["productName","brand","quantity","unit","costPrice","sellingPrice","description"].map(Ke=>jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{type:"text",value:He[Ke],onChange:ze=>ke(Qe,Ke,ze.target.value),className:"border w-full px-1"})},Ke)),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("button",{onClick:()=>$e(Qe),className:"text-red-600 hover:text-red-800",children:""})})]},Qe))})]}),jsxRuntimeExports.jsx("button",{onClick:Me,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded",children:"Save Products"})]})]})},inputClass="mb-2 w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",AdvancedBrandInputForm=({onGenerate:Ee})=>{const[_e,Ce]=reactExports.useState(""),[Pe,Re]=reactExports.useState(""),[Ie,Be]=reactExports.useState(""),[je,De]=reactExports.useState("20"),[Fe,Oe]=reactExports.useState(""),[ke,Me]=reactExports.useState(""),[$e,He]=reactExports.useState(""),[Qe,Ke]=reactExports.useState(""),[ze,We]=reactExports.useState(!1),qe=()=>`
You are an inventory assistant. Return ONLY a markdown table of ${je} products.
Start the response with the following header row exactly:

| Product Name | Brand | Category | SKU | Price (INR) | Unit |

Each product must follow this format and ensure the **Unit** column includes both quantity and container type (e.g., "100ml Bottle", "250g Jar", "50ml Tube").
Do not include any text above or below the table.

Brand: ${_e}
Category: ${Pe}
Known Types: ${Ie}
SKU Pattern: ${ke}
Region Context: ${$e}
Additional Notes: ${Fe}
`.trim(),Ye=async()=>{const Xe=Qe.trim()||qe();if(!_e||!Pe){alert("Please enter Brand Name and Category");return}We(!0),await Ee(Xe),We(!1)};return jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded bg-white shadow-md space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:" Advanced Inventory Generator"}),jsxRuntimeExports.jsxs("fieldset",{className:"border border-gray-300 rounded p-4",children:[jsxRuntimeExports.jsx("legend",{className:"text-md font-semibold px-2",children:"Brand Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Brand Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:_e,onChange:Xe=>Ce(Xe.target.value),className:inputClass})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Category"}),jsxRuntimeExports.jsx("input",{type:"text",value:Pe,onChange:Xe=>Re(Xe.target.value),className:inputClass})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Known Product Types"}),jsxRuntimeExports.jsx("input",{type:"text",value:Ie,onChange:Xe=>Be(Xe.target.value),className:inputClass,placeholder:"e.g. Front Load, Cream Biscuit"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity of Products"}),jsxRuntimeExports.jsxs("select",{value:je,onChange:Xe=>De(Xe.target.value),className:inputClass,children:[jsxRuntimeExports.jsx("option",{value:"10",children:"10"}),jsxRuntimeExports.jsx("option",{value:"20",children:"20"}),jsxRuntimeExports.jsx("option",{value:"30",children:"30"}),jsxRuntimeExports.jsx("option",{value:"50",children:"50"})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Brand Description"}),jsxRuntimeExports.jsx("textarea",{value:Fe,onChange:Xe=>Oe(Xe.target.value),className:inputClass,rows:2})]})]})]}),jsxRuntimeExports.jsxs("fieldset",{className:"border border-gray-300 rounded p-4",children:[jsxRuntimeExports.jsx("legend",{className:"text-md font-semibold px-2",children:"SKU Pattern"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Optional SKU Pattern"}),jsxRuntimeExports.jsx("input",{type:"text",value:ke,onChange:Xe=>Me(Xe.target.value),className:inputClass,placeholder:"e.g. RL-TEA-*, SMG-WM-*"})]})]}),jsxRuntimeExports.jsxs("fieldset",{className:"border border-gray-300 rounded p-4",children:[jsxRuntimeExports.jsx("legend",{className:"text-md font-semibold px-2",children:"Region Context"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Smart Region Note (optional)"}),jsxRuntimeExports.jsx("input",{type:"text",value:$e,onChange:Xe=>He(Xe.target.value),className:inputClass,placeholder:"e.g. Local brand sold only in Gujarat"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 mt-4",children:" Prompt Preview (Editable)"}),jsxRuntimeExports.jsx("textarea",{rows:6,value:Qe||qe(),onChange:Xe=>Ke(Xe.target.value),className:"w-full border border-gray-300 rounded p-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),jsxRuntimeExports.jsx("button",{onClick:Ye,disabled:ze,className:`mt-3 px-4 py-2 rounded text-white ${ze?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:ze?" Generating...":" Generate Inventory"})]})},AddInventoryAI=({userId:Ee})=>{const[_e,Ce]=reactExports.useState(""),[Pe,Re]=reactExports.useState([]),[Ie,Be]=reactExports.useState([]),[je,De]=reactExports.useState(!1),Fe=getFirestore(app),Oe=async $e=>{if(!$e||$e.trim().length===0){y$2.error("Prompt is empty.");return}De(!0);try{const Ke=(await(await fetch("https://us-central1-stockpilotv1.cloudfunctions.net/generateInventoryByBrand",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:$e})})).json()).inventory,ze=[];if(Array.isArray(Ke))for(const We of Ke)!We.productName||!We.sku||ze.push({productName:We.productName||"",brand:We.brand||"",category:We.category||"Food",sku:We.sku||"",unit:We.unit||"",quantity:"",costPrice:"",sellingPrice:We.price||"",imageUrl:We.imageUrl||""});Be(ze),ze.length===0&&y$2.info("No inventory returned. Try adjusting prompt.")}catch(He){console.error("Prompt-based inventory error:",He),y$2.error("Failed to fetch inventory.")}finally{De(!1)}},ke=async()=>{if(!Ee||Ie.length===0){y$2.error("No inventory to upload.");return}try{for(const $e of Ie)await addDoc(collection(Fe,"businesses",Ee,"products"),{...$e,source:"ai",createdAt:serverTimestamp()});y$2.success("Inventory added successfully!"),Be([])}catch($e){console.error("Upload Error:",$e),y$2.error("Failed to add inventory.")}},Me=($e,He,Qe)=>{const Ke=[...Ie];Ke[$e][He]=Qe,Be(Ke)};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-4",children:"AI-Based Inventory Generator"}),jsxRuntimeExports.jsx(AdvancedBrandInputForm,{onGenerate:Oe}),Ie.length>0&&jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"min-w-full border mt-6 text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Cost"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ie.map(($e,He)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:jsxRuntimeExports.jsx("input",{value:$e.productName??"(productName)",onChange:Qe=>Me(He,"productName",Qe.target.value),className:"w-full border rounded px-1 py-0.5"})}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:jsxRuntimeExports.jsx("input",{value:$e.brand??"(brand)",onChange:Qe=>Me(He,"brand",Qe.target.value),className:"w-full border rounded px-1 py-0.5"})}),["category","sku","unit","quantity","costPrice","sellingPrice"].map(Qe=>jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:jsxRuntimeExports.jsx("input",{value:$e[Qe]??`(${Qe})`,onChange:Ke=>Me(He,Qe,Ke.target.value),className:"w-full border rounded px-1 py-0.5"})},Qe)),jsxRuntimeExports.jsx("td",{className:"px-2 py-1 border text-center",children:jsxRuntimeExports.jsx("button",{className:"text-red-600 font-bold",onClick:()=>{const Qe=[...Ie];Qe.splice(He,1),Be(Qe)},children:""})})]},He))})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:ke,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:" Add to Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>Be([]),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Clear All"})]})]})]})},fetchGoogleImages=async Ee=>{const _e="AIzaSyBPkkXZWll0VifG5kb0DDSsoV5UB-n5pFE",Ce="82ccaaa87aa2e40a6",Re=(Ie=>{let Be=[];if(typeof Ie=="object"&&Ie!==null){const{brand:je="",name:De="",unit:Fe=""}=Ie;Be=[`${je} ${De} ${Fe} product packaging`,`${je} ${De} ${Fe}`,`${je} ${De}`,`${De} ${Fe}`,`${je} ${Fe}`,`${je} product`,`${De} product`,`${je} ${De} pack photo`]}else Be=[`${Ie} product packaging`,`${Ie} product`,`${Ie} pack photo`,`${Ie} retail image`,`${Ie} ecommerce packaging`];return Be.map(je=>`${je} product packaging image`)})(Ee);for(const Ie of Re)try{const Be=await fetch(`https://www.googleapis.com/customsearch/v1?q=${encodeURIComponent(Ie)}&searchType=image&key=${_e}&cx=${Ce}&num=6`);if(Be.ok){const je=await Be.json();if(je.items&&je.items.length>0)return je.items.filter(De=>De.link&&De.link.startsWith("http")).map(De=>De.link)}}catch(Be){console.error("Google Image Fetch Error:",Be.message)}return console.warn(" No image results found for:",Ee),[]},fetchGoogleImages$1=Object.freeze(Object.defineProperty({__proto__:null,default:fetchGoogleImages},Symbol.toStringTag,{value:"Module"})),DeleteConfirmationModal=({product:Ee,confirmationText:_e,onChange:Ce,onCancel:Pe,onConfirm:Re})=>jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow-lg p-6 w-[90%] md:w-[400px]",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-red-600",children:"Delete Product?"}),jsxRuntimeExports.jsxs("p",{className:"mb-4",children:["Are you sure you want to delete ",jsxRuntimeExports.jsx("strong",{children:Ee?.productName||"this product"})," (SKU: ",jsxRuntimeExports.jsx("strong",{children:Ee?.sku||"N/A"}),")?"]}),jsxRuntimeExports.jsxs("p",{className:"mb-2 text-sm text-gray-600",children:["Type ",jsxRuntimeExports.jsx("code",{className:"bg-gray-100 px-1 rounded border",children:"delete"})," to confirm."]}),jsxRuntimeExports.jsx("input",{type:"text",className:"w-full border rounded px-3 py-1 mb-4",placeholder:'Type "delete" to confirm',value:_e,onChange:Ce}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:Pe,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Re,disabled:_e.trim().toLowerCase()!=="delete",className:`px-4 py-2 rounded text-white ${_e.trim().toLowerCase()==="delete"?"bg-red-600 hover:bg-red-700":"bg-gray-400 cursor-not-allowed"}`,children:"Delete"})]})]})}),ViewInventory$1=({userId:Ee})=>{const[_e,Ce]=reactExports.useState([]),[Pe,Re]=reactExports.useState([]),[Ie,Be]=reactExports.useState(""),[je,De]=reactExports.useState(""),[Fe,Oe]=reactExports.useState("asc"),[ke,Me]=reactExports.useState({rowId:null,field:null}),[$e,He]=reactExports.useState(""),[Qe,Ke]=reactExports.useState(""),[ze,We]=reactExports.useState([]),[qe,Ye]=reactExports.useState(!1),[Xe,rr]=reactExports.useState([]),[Je,er]=reactExports.useState(!1),[or,pr]=reactExports.useState(null),[ar,fr]=reactExports.useState(""),[gr,Rr]=reactExports.useState(!1),[Ir,mr]=reactExports.useState(null),[Er,Ar]=reactExports.useState(null),[br,wr]=reactExports.useState(!1),[jr,hr]=reactExports.useState(""),[_r,Pr]=reactExports.useState(null),[Cr,Or]=reactExports.useState(""),[Yr,qr]=reactExports.useState([]),[Kr,Zr]=reactExports.useState(!1),[yn,mn]=reactExports.useState(""),[Cn,bn]=reactExports.useState([]),[wn,Jr]=reactExports.useState(!1),qn=async()=>{if(!yn)return;Jr(!0);const Pn=await fetchGoogleImages(yn);bn(Pn||[]),Jr(!1)},[ci,Jn]=reactExports.useState("list"),ui=getFirestore();if(!Ee)return jsxRuntimeExports.jsx("div",{className:"text-center p-4",children:"Loading user data..."});reactExports.useEffect(()=>{if(!Ee)return;console.log("Current user UID:",Ee);const Pn=collection(ui,"businesses",Ee,"products"),En=onSnapshot(Pn,async jn=>{const ni=getStorage(),ii=await Promise.all(jn.docs.map(async bi=>{const Wi=bi.data();let ws="";try{if(Wi.imageUrl)ws=Wi.imageUrl;else if(Wi.imagePath){const Zi=ref(ni,Wi.imagePath);ws=await getDownloadURL(Zi)}}catch(Zi){console.warn("Image fetch error for:",Wi.imagePath||"unknown",Zi.message)}return{id:bi.id,...Wi,imageUrl:ws,imagePath:Wi.imagePath||""}}));Ce(ii),Re(ii);const Fi=[...new Set(ii.map(bi=>bi.brand).filter(Boolean))];rr(Fi)});return()=>En()},[Ee]),reactExports.useEffect(()=>{const Pn=Ie.toLowerCase(),En=_e.filter(jn=>{const ni=jn.productName?.toLowerCase().includes(Pn)||jn.sku?.toLowerCase().includes(Pn)||jn.brand?.toLowerCase().includes(Pn)||jn.category?.toLowerCase().includes(Pn),ii=!Qe||wi(jn.quantity)===Qe,Fi=ze.length===0||jn.brand&&ze.includes(jn.brand);return ni&&ii&&Fi});Re(En)},[Ie,_e,Qe,ze]),reactExports.useEffect(()=>{if(!je){Re(Pn=>[...Pn]);return}Re(Pn=>[...Pn].sort((jn,ni)=>{const ii=parseFloat(jn[je])||0,Fi=parseFloat(ni[je])||0;return Fe==="asc"?ii-Fi:Fi-ii}))},[je,Fe]);const li=(Pn,En,jn)=>{Me({rowId:Pn,field:En}),He(jn)},mi=async(Pn,En,jn)=>{try{const ni=collection(ui,"businesses",Ee,"products"),ii=doc(ni,Pn);await updateDoc(ii,{[En]:jn})}catch(ni){console.error("Error updating inventory field:",ni)}finally{Me({rowId:null,field:null}),He("")}},wi=Pn=>{const En=parseInt(Pn);return isNaN(En)?"Unknown":En<=5?"Low":"In Stock"},Di=Pn=>{pr(Pn),fr(""),er(!0)},$i=async()=>{if(or&&ar.trim().toLowerCase()==="delete")try{const Pn=doc(ui,"businesses",Ee,"products",or.id);await deleteDoc(Pn)}catch(Pn){console.error("Error deleting product:",Pn)}finally{er(!1),pr(null),fr("")}},Si=Pn=>{mr(Pn),Ar(null),wr(!1),hr(""),Pr(null),Rr(!0)},Bi=Pn=>{const En=Pn.target.files?.[0]||null;if(Ar(En),hr(""),En){const jn=URL.createObjectURL(En);Pr(jn)}else Pr(null)},Vi=async()=>{if(!Ir||!Er&&!_r){y$2.error("No image selected");return}wr(!0),hr("");try{let Pn=null,En=null;if(Er){const ni=getStorage(),ii=Er.name.split(".").pop();En=`product_images/${Ee}/${Ir.id}.${ii}`;const Fi=ref(ni,En);await uploadBytes(Fi,Er),Pn=await getDownloadURL(Fi)}else _r&&(Pn=_r);const jn=doc(getFirestore(),"businesses",Ee,"products",Ir.id);await updateDoc(jn,En?{imageUrl:Pn,imagePath:En}:{imageUrl:Pn}),y$2.success("Image uploaded successfully"),Rr(!1),mr(null),Ar(null),Pr(null)}catch(Pn){console.error("Error uploading image:",Pn),hr("Image upload failed: "+(Pn?.message||"Unknown error")),y$2.error("Failed to upload image")}finally{wr(!1)}};return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center w-full md:w-1/3",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, brand, SKU...",value:Ie,onChange:Pn=>Be(Pn.target.value),className:"border px-4 py-2 rounded w-full"}),jsxRuntimeExports.jsx("button",{onClick:()=>Zr(!0),className:"ml-2 bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded",children:"Search with AI"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",onChange:Pn=>De(Pn.target.value),value:je,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Sort by"}),jsxRuntimeExports.jsx("option",{value:"quantity",children:"Quantity"}),jsxRuntimeExports.jsx("option",{value:"costPrice",children:"Cost Price"}),jsxRuntimeExports.jsx("option",{value:"sellingPrice",children:"Selling Price"})]}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",onChange:Pn=>Oe(Pn.target.value),value:Fe,children:[jsxRuntimeExports.jsx("option",{value:"asc",children:"Asc"}),jsxRuntimeExports.jsx("option",{value:"desc",children:"Desc"})]}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",onChange:Pn=>Ke(Pn.target.value),value:Qe,children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Status"}),jsxRuntimeExports.jsx("option",{value:"In Stock",children:"In Stock"}),jsxRuntimeExports.jsx("option",{value:"Low",children:"Low"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{className:"border px-3 py-2 rounded min-w-[120px] text-left bg-white",type:"button",onClick:()=>Ye(Pn=>!Pn),children:[ze.length===0?"All Brands":ze.length===1?ze[0]:ze.join(", "),jsxRuntimeExports.jsx("span",{className:"ml-1",children:""})]}),qe&&jsxRuntimeExports.jsxs("div",{className:"absolute left-0 mt-1 bg-white border rounded shadow z-20 p-2 min-w-[140px] max-h-56 overflow-y-auto",children:[Xe.length===0&&jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 px-2 py-1",children:"No brands"}),Xe.map((Pn,En)=>jsxRuntimeExports.jsxs("label",{className:"block px-2 py-1 cursor-pointer hover:bg-gray-100",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ze.includes(Pn),onChange:jn=>{jn.target.checked?We([...ze,Pn]):We(ze.filter(ni=>ni!==Pn))},className:"mr-2"}),Pn]},En)),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-2",children:[jsxRuntimeExports.jsx("button",{className:"text-xs text-blue-500 underline",type:"button",onClick:()=>We([]),children:"Clear All"}),jsxRuntimeExports.jsx("button",{className:"text-xs text-gray-600 underline",type:"button",onClick:()=>Ye(!1),children:"Close"})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end mb-4",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-1 mr-2 rounded ${ci==="list"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Jn("list"),children:"List View"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-1 rounded ${ci==="grid"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Jn("grid"),children:"Grid View"})]}),ci==="list"?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm border rounded shadow-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100 text-left",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2",children:"Image"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Cost"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Sell"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Source"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Delete"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[Pe.map(Pn=>jsxRuntimeExports.jsxs("tr",{className:"border-t",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("div",{className:"inline-block cursor-pointer",onClick:()=>Si(Pn),title:"Click to upload image",children:jsxRuntimeExports.jsx("img",{src:Pn.imageUrl||"/placeholder.png",alt:"product",className:"h-10 w-10 rounded object-cover border border-gray-200"})})}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>li(Pn.id,"productName",Pn.productName),children:ke.rowId===Pn.id&&ke.field==="productName"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:$e,onChange:En=>He(En.target.value),onBlur:()=>mi(Pn.id,"productName",$e),autoFocus:!0}):Pn.productName}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>li(Pn.id,"sku",Pn.sku),children:ke.rowId===Pn.id&&ke.field==="sku"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:$e,onChange:En=>He(En.target.value),onBlur:()=>mi(Pn.id,"sku",$e),autoFocus:!0}):Pn.sku}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>li(Pn.id,"brand",Pn.brand),children:ke.rowId===Pn.id&&ke.field==="brand"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:$e,onChange:En=>He(En.target.value),onBlur:()=>mi(Pn.id,"brand",$e),autoFocus:!0}):Pn.brand}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>li(Pn.id,"category",Pn.category),children:ke.rowId===Pn.id&&ke.field==="category"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:$e,onChange:En=>He(En.target.value),onBlur:()=>mi(Pn.id,"category",$e),autoFocus:!0}):Pn.category}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>li(Pn.id,"quantity",Pn.quantity),children:ke.rowId===Pn.id&&ke.field==="quantity"?jsxRuntimeExports.jsx("input",{type:"number",className:"w-full border px-1",value:$e,onChange:En=>He(En.target.value),onBlur:()=>mi(Pn.id,"quantity",Number($e)),autoFocus:!0}):Pn.quantity}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>li(Pn.id,"unit",Pn.unit),children:ke.rowId===Pn.id&&ke.field==="unit"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:$e,onChange:En=>He(En.target.value),onBlur:()=>mi(Pn.id,"unit",$e),autoFocus:!0}):Pn.unit}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>li(Pn.id,"costPrice",Pn.costPrice),children:ke.rowId===Pn.id&&ke.field==="costPrice"?jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",className:"w-full border px-1",value:$e,onChange:En=>He(En.target.value),onBlur:()=>mi(Pn.id,"costPrice",Number($e)),autoFocus:!0}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["",Pn.costPrice]})}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>li(Pn.id,"sellingPrice",Pn.sellingPrice),children:ke.rowId===Pn.id&&ke.field==="sellingPrice"?jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",className:"w-full border px-1",value:$e,onChange:En=>He(En.target.value),onBlur:()=>mi(Pn.id,"sellingPrice",Number($e)),autoFocus:!0}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["",Pn.sellingPrice]})}),jsxRuntimeExports.jsx("td",{className:"p-2 min-w-[80px] text-center",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded text-white text-xs ${wi(Pn.quantity)==="Low"?"bg-red-500":"bg-green-500"}`,children:wi(Pn.quantity)})}),jsxRuntimeExports.jsx("td",{className:"p-2 min-w-[100px] max-w-[120px] text-center",children:Pn.sourceOrderId?jsxRuntimeExports.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs bg-blue-500 text-white break-words whitespace-normal leading-snug",children:"From Order"}):""}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>Di(Pn),className:"text-red-600 hover:text-red-800",title:"Delete Item",children:""})})]},Pn.id)),Pe.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"12",className:"text-center p-4 text-gray-500",children:_e.length===0?"No products found.":"Loading inventory..."})}):null]})]})}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Pe.map(Pn=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-2",children:jsxRuntimeExports.jsx("button",{className:"focus:outline-none",style:{width:"100%"},onClick:()=>Si(Pn),title:"Click to upload image",children:jsxRuntimeExports.jsx("img",{src:Pn.imageUrl||"/placeholder.png",alt:Pn.productName,className:"w-full h-32 object-contain rounded border border-gray-200"})})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-1",children:Pn.productName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[Pn.brand," | ",Pn.category]}),jsxRuntimeExports.jsxs("p",{className:"text-sm mb-1",children:["Qty: ",Pn.quantity," | ",Pn.sellingPrice]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:["SKU: ",Pn.sku||"N/A"," | Unit: ",Pn.unit||"N/A"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-auto",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs rounded font-semibold ${(Pn.status||wi(Pn.quantity))==="In Stock"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:Pn.status||wi(Pn.quantity)}),jsxRuntimeExports.jsx("button",{className:"ml-auto text-red-600 hover:text-red-800 px-2",title:"Delete Item",onClick:()=>Di(Pn),children:""})]})]},Pn.id))}),Je&&jsxRuntimeExports.jsx(DeleteConfirmationModal,{product:or,confirmationText:ar,onChange:Pn=>fr(Pn.target.value),onCancel:()=>{er(!1),pr(null),fr("")},onConfirm:$i}),gr&&jsxRuntimeExports.jsx(UploadProductImageModal,{imageTargetProduct:Ir,setShowImageModal:Rr,setImageTargetProduct:mr,setImageUploadFile:Ar,setImageUploadError:hr,setImagePreviewUrl:Pr,imageUploadFile:Er,imageUploadLoading:br,imageUploadError:jr,imagePreviewUrl:_r,handleImageFileChange:Bi,handleImageUpload:Vi}),Kr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-11/12 max-w-2xl relative",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Zr(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-red-600",children:""}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Search Product Images"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter product description...",className:"flex-grow border border-gray-300 px-4 py-2 rounded",value:yn,onChange:Pn=>mn(Pn.target.value)}),jsxRuntimeExports.jsx("button",{onClick:qn,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:wn?"Searching...":"Search"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-h-80 overflow-y-auto",children:Cn.map((Pn,En)=>jsxRuntimeExports.jsx("img",{src:Pn,alt:"AI result",className:"w-full h-28 object-cover rounded cursor-pointer border hover:border-blue-500",onClick:()=>{navigator.clipboard.writeText(Pn),alert("Image URL copied to clipboard!")}},En))})]})})]})},UploadProductImageModal=({imageTargetProduct:Ee,setShowImageModal:_e,setImageTargetProduct:Ce,setImageUploadFile:Pe,setImageUploadError:Re,setImagePreviewUrl:Ie,imageUploadFile:Be,imageUploadLoading:je,imageUploadError:De,imagePreviewUrl:Fe,handleImageFileChange:Oe,handleImageUpload:ke})=>{const[Me,$e]=reactExports.useState(""),[He,Qe]=reactExports.useState([]),[Ke,ze]=reactExports.useState(!1),[We,qe]=reactExports.useState("unsplash"),Ye=async()=>{ze(!0);try{let Xe=[];if(We==="unsplash")Xe=await fetchUnsplashImages(Me);else{const rr=(await __vitePreload(async()=>{const{default:Je}=await Promise.resolve().then(()=>fetchGoogleImages$1);return{default:Je}},void 0,import.meta.url)).default;Xe=await rr(Me)}Qe(Xe)}catch(Xe){console.error("Image search error:",Xe)}ze(!1)};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow-lg p-6 w-[95%] max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Upload Product Image"}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-gray-700",children:Ee?.productName||"Product"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>qe("unsplash"),className:`px-3 py-1 rounded ${We==="unsplash"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Unsplash"}),jsxRuntimeExports.jsx("button",{onClick:()=>qe("google"),className:`px-3 py-1 rounded ${We==="google"?"bg-green-600 text-white":"bg-gray-200"}`,children:"Google"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:`Search image with ${We==="unsplash"?"Unsplash":"Google"}...`,value:Me,onChange:Xe=>$e(Xe.target.value),className:"border px-2 py-1 rounded w-full"}),jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-1 rounded",onClick:Ye,type:"button",disabled:Ke,children:Ke?"Searching...":"Search"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:He.map((Xe,rr)=>jsxRuntimeExports.jsx("img",{src:Xe,alt:"AI result",className:"w-24 h-24 object-cover border rounded cursor-pointer hover:scale-105 transition-all",onClick:()=>{Pe(null),Re(""),Ie(Xe)},onError:Je=>Je.target.src="/placeholder.jpg"},rr))}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Oe,className:"mb-3",disabled:je}),Fe&&jsxRuntimeExports.jsx("div",{className:"mb-3 flex justify-center",children:jsxRuntimeExports.jsx("img",{src:Fe,alt:"Preview",className:"max-h-40 max-w-full rounded border",style:{objectFit:"contain"}})}),Be&&jsxRuntimeExports.jsx("div",{className:"mb-2",children:jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:Be.name})}),De&&jsxRuntimeExports.jsx("div",{className:"mb-2 text-red-600 text-sm",children:De}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{_e(!1),Ce(null),Pe(null),Re(""),Ie(null),$e(""),Qe([])},className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",disabled:je,children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:ke,className:`px-4 py-2 rounded text-white ${(Be||Fe)&&!je?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,disabled:!(Be||Fe)||je,children:je?"Uploading...":"Upload"})]})]})})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend);Chart$1.register(ArcElement,plugin_tooltip,plugin_legend);Chart$1.register(LineElement,CategoryScale,LinearScale,PointElement,plugin_tooltip,plugin_legend);const KpiCards=({invoiceData:Ee})=>{const _e=Ee.filter(De=>De.paymentMode?.toLowerCase()==="credit"?De.isPaid===!0:!0),Ce=_e.reduce((De,Fe)=>De+(Fe.totalAmount||Fe.total||0),0),Pe=_e.length,Re=Pe>0?(Ce/Pe).toFixed(2):0,Ie=Ee.reduce((De,Fe)=>{const Oe=(Fe.paymentMode||"").toLowerCase(),ke=Fe.totalAmount||Fe.total||0;if(Oe==="credit"&&Fe.isPaid!==!0)return De;if(Oe==="split"){const Me=Fe.splitPayment||{};De.cash=(De.cash||0)+(parseFloat(Me.cash)||0),De.card=(De.card||0)+(parseFloat(Me.card)||0),De.upi=(De.upi||0)+(parseFloat(Me.upi)||0)}else if(Oe==="credit"){const Me=(Fe.paidVia||"").toLowerCase();De[Me]=(De[Me]||0)+ke}else["cash","card","upi"].includes(Oe)?De[Oe]=(De[Oe]||0)+ke:De.unknown=(De.unknown||0)+ke;return De},{}),Be=new Set(_e.map(De=>De.customer?.email||De.customer?.name||"")).size,je=[{label:"Total Revenue",value:`${Ce.toLocaleString()}`,icon:""},{label:"Total Invoices",value:Pe,icon:""},{label:"Avg Order Value",value:`${Re}`,icon:""},{label:"Total Customers",value:Be,icon:""}];if(Ie){const De={cash:"",upi:"",card:"",unknown:""},Fe={cash:"Cash",upi:"UPI",card:"Card",unknown:"Unknown"};Object.entries(Ie).forEach(([Oe,ke])=>{je.push({label:`Revenue via ${Fe[Oe]||Oe}`,value:`${parseFloat(ke).toLocaleString()}`,icon:De[Oe]||""})})}return jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:je.map((De,Fe)=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow p-4 flex items-center space-x-4 border",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl",title:De.label,children:De.icon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:De.label}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold",children:De.value})]})]},Fe))})},RecentInvoices=({invoiceData:Ee})=>{const _e=[...Ee].sort((Ce,Pe)=>(Pe.createdAt?.toDate?.()||new Date(Pe.createdAt))-(Ce.createdAt?.toDate?.()||new Date(Ce.createdAt))).slice(0,5);return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow p-4 border",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-semibold mb-2",children:" Recent Invoices"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:_e.map((Ce,Pe)=>{const Re=Ce.createdAt?.toDate?.()||new Date(Ce.createdAt),Ie=Ce.paymentMode?.toLowerCase?.();let Be="Unknown";if(Ie==="cash")Be=" Cash";else if(Ie==="card")Be=" Card";else if(Ie==="upi")Be=" UPI";else if(Ie==="split"){const je=Ce.splitPayment||{},De=je.cash||0,Fe=je.upi||0,Oe=je.card||0;Be=` Split ( ${De} /  ${Fe} /  ${Oe})`}else if(Ie==="credit")if(Ce.isPaid){const je=Ce.paidVia?.toLowerCase?.();je==="cash"?Be=" Paid via  Cash":je==="upi"?Be=" Paid via  UPI":je==="card"?Be=" Paid via  Card":Be=" Paid"}else{const je=Ce.settings?.creditDueDate||Ce.creditDueDate||null;Be=` Credit  Due on ${je?hooks(je.toDate?.()||je).local().format("DD MMM, YYYY"):"N/A"}`}return jsxRuntimeExports.jsxs("li",{className:"border-b pb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ce.customer?.name||"Unknown Customer"}),jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:hooks(Re).local().format("DD MMM, hh:mm:ss A")})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-600",children:["",Ce.totalAmount??Ce.total??0,"  ",Be]})]},Pe)})})]})},LowStockAlertWidget=({userId:Ee})=>{const[_e,Ce]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{try{if(!Ee)return;const Re=collection(db$2,"businesses",Ee,"products"),Ie=await getDocs(Re),Be=[];Ie.forEach(je=>{const De=je.data();parseInt(De.quantity,10)<=5&&Be.push({...De,id:je.id})}),Ce(Be)}catch(Re){console.error("Error fetching low stock items:",Re)}})()},[Ee]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow p-4 border",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-semibold mb-2 text-red-600",children:" Low Stock Alerts"}),_e.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"All items are sufficiently stocked."}):jsxRuntimeExports.jsx("ul",{className:"space-y-2 text-sm",children:_e.map(Pe=>jsxRuntimeExports.jsxs("li",{className:"flex justify-between border-b pb-1",children:[jsxRuntimeExports.jsx("span",{children:Pe.productName}),jsxRuntimeExports.jsx("span",{className:"text-red-500 font-semibold",children:Pe.quantity})]},Pe.id))})]})},parseDate$1=Ee=>{if(!Ee)return null;let _e=new Date(`${Ee}T00:00:00`);if(isNaN(_e.getTime())){const[Ce,Pe,Re]=Ee.split("-");Ce&&Pe&&Re&&(_e=new Date(`${Re}-${Pe}-${Ce}T00:00:00`))}return isNaN(_e.getTime())?null:_e},CreditDueList=({creditInvoices:Ee=[],dueToday:_e=[],dueTomorrow:Ce=[],totalDue:Pe=0})=>{const Re=new Date;Re.setHours(0,0,0,0);const Ie=new Date(Re);Ie.setDate(Ie.getDate()+1);const Be=Fe=>{const Oe=Fe.creditDueDate||Fe.settings?.creditDueDate,ke=parseDate$1(Oe);if(!ke)return"Invalid";ke.setHours(0,0,0,0);const Me=(ke-Re)/(1e3*60*60*24);return Me<0?"Overdue":Me===0?"Due Today":Me===1?"Due Tomorrow":"Upcoming"},je={Overdue:[],"Due Today":[],"Due Tomorrow":[],Upcoming:[]};Ee.forEach(Fe=>{if(Fe.isPaid)return;const Oe=Fe.creditDueDate||Fe.settings?.creditDueDate;if(!parseDate$1(Oe))return;const Me=Be(Fe);je[Me].push(Fe)});const De=(Fe,Oe,ke="")=>Oe.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-1",children:Fe}),jsxRuntimeExports.jsx("table",{className:"min-w-full text-sm mb-2",children:jsxRuntimeExports.jsx("tbody",{children:Oe.map((Me,$e)=>{const He=Me.creditDueDate||Me.settings?.creditDueDate,Qe=parseDate$1(He),Ke=parseFloat(Me.splitPayment?.totalAmount||Me.totalAmount||Me.settings?.totalAmount||0).toFixed(2);if(Fe==="Upcoming")return jsxRuntimeExports.jsxs("tr",{className:`border-b hover:bg-gray-50 ${ke}`,children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:Me.name||Me.customer?.name||"N/A"}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-1",children:["",Ke]}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:Qe?Qe.toLocaleDateString():"Invalid Date"})]},$e);const ze=Qe?Math.ceil((Qe-Re)/(1e3*60*60*24)):null,We=Fe==="Overdue"?`Overdue by ${Math.abs(ze)} days`:Fe;return jsxRuntimeExports.jsxs("tr",{className:`border-b hover:bg-gray-50 ${ke}`,children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:Me.name||Me.customer?.name||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:Me.invoiceId||Me.id}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:Qe?Qe.toLocaleDateString():"Invalid Date"}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-1",children:["",Ke]}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:Me.isPaid?`Paid via ${Me.paidVia||"N/A"} on ${new Date(Me.paidOn).toLocaleDateString()}`:We})]},$e)})})})]});return Object.values(je).some(Fe=>Fe.length>0),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-1",children:" Credit Dues"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[jsxRuntimeExports.jsxs("p",{children:[" Total Due Pending: ",Ee.reduce((Fe,Oe)=>Fe+parseFloat(Oe.splitPayment?.totalAmount||Oe.totalAmount||Oe.settings?.totalAmount||0),0).toFixed(2)," from ",Ee.length," invoice(s)"]}),jsxRuntimeExports.jsxs("p",{children:[" Due Today: ",_e.reduce((Fe,Oe)=>Fe+parseFloat(Oe.splitPayment?.totalAmount||Oe.totalAmount||Oe.settings?.totalAmount||0),0).toFixed(2)," from ",_e.length," invoice(s)"]}),jsxRuntimeExports.jsxs("p",{children:[" Due Tomorrow: ",Ce.reduce((Fe,Oe)=>Fe+parseFloat(Oe.splitPayment?.totalAmount||Oe.totalAmount||Oe.settings?.totalAmount||0),0).toFixed(2)," from ",Ce.length," invoice(s)"]})]}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[De("Overdue",je.Overdue,"bg-red-100"),De("Due Today",je["Due Today"],"bg-yellow-100"),De("Due Tomorrow",je["Due Tomorrow"],"bg-blue-50"),De("Upcoming",je.Upcoming)]})]})},HomeSnapshot=({filterDates:Ee,filterType:_e})=>{const[Ce,Pe]=reactExports.useState([]),[Re,Ie]=reactExports.useState(null),[Be,je]=reactExports.useState(_e||"All"),[De,Fe]=reactExports.useState([]);reactExports.useEffect(()=>{const Xe=onAuthStateChanged(auth$2,rr=>{if(rr){Ie(rr.uid);const Je=collection(db$2,"businesses",rr.uid,"finalizedInvoices"),er=onSnapshot(Je,or=>{const pr=[];or.forEach(ar=>{pr.push({...ar.data(),id:ar.id})}),Pe(pr),Fe(Oe(pr,_e||"All",Ee))},or=>{console.error("Error in snapshot listener:",or)});return()=>er()}});return()=>Xe()},[]);const Oe=(Xe,rr,Je={})=>{const er=new Date,{start:or,end:pr}=Je;return Xe.filter(ar=>{const fr=ar.issuedAt?typeof ar.issuedAt.toDate=="function"?ar.issuedAt.toDate():new Date(ar.issuedAt):null;if(!fr)return!1;if(or&&pr)return fr>=or&&fr<=pr;if(rr==="Today"){const gr=new Date;gr.setHours(0,0,0,0);const Rr=new Date;return Rr.setHours(23,59,59,999),fr>=gr&&fr<=Rr}else if(rr==="ThisWeek"){const gr=new Date(er),Rr=gr.getDay(),Ir=Rr===0?6:Rr-1;gr.setDate(gr.getDate()-Ir),gr.setHours(0,0,0,0);const mr=new Date(gr);return mr.setDate(gr.getDate()+6),mr.setHours(23,59,59,999),fr>=gr&&fr<=mr}else if(rr==="ThisMonth"){const gr=new Date(er.getFullYear(),er.getMonth(),1),Rr=new Date(er.getFullYear(),er.getMonth()+1,0);return Rr.setHours(23,59,59,999),fr>=gr&&fr<=Rr}else if(rr==="ThisYear"){const gr=new Date(er.getFullYear(),0,1),Rr=new Date(er.getFullYear(),11,31,23,59,59,999);return fr>=gr&&fr<=Rr}return!0})};reactExports.useEffect(()=>{Fe(Oe(Ce,Be,Ee))},[Be,Ee,Ce]),reactExports.useEffect(()=>{je(_e||"All")},[_e]);const ke=De.reduce((Xe,rr)=>{const Je=parseFloat(rr.totalAmount||rr.total||0);return rr.isPaid?Xe+Je:Xe},0),Me=De.reduce((Xe,rr)=>{if(!rr.isPaid)return Xe;const Je=parseFloat(rr.totalAmount||rr.total||0),er=(rr.paymentMode||"").toLowerCase();if(er==="split"){const or=rr.splitPayment||{},pr=parseFloat(or.cash||0),ar=parseFloat(or.card||0),fr=parseFloat(or.upi||0);Xe.Cash=(Xe.Cash||0)+pr,Xe.Card=(Xe.Card||0)+ar,Xe.UPI=(Xe.UPI||0)+fr}else if(er==="credit"){const or=(rr.paidVia||"").toLowerCase();or==="cash"?Xe.Cash=(Xe.Cash||0)+Je:or==="card"?Xe.Card=(Xe.Card||0)+Je:or==="upi"?Xe.UPI=(Xe.UPI||0)+Je:Xe.Other=(Xe.Other||0)+Je}else{const or=er==="cash"?"Cash":er==="card"?"Card":er==="upi"?"UPI":"Other";Xe[or]=(Xe[or]||0)+Je}return Xe},{}),$e=De.filter(Xe=>Xe.paymentMode?.toLowerCase()==="credit"&&Xe.isPaid===!1&&(Xe.settings?.creditDueDate||Xe.creditDueDate)),He=new Date;He.setHours(0,0,0,0);const Qe=new Date(He);Qe.setDate(He.getDate()+1);const Ke=$e.filter(Xe=>{const rr=Xe.settings?.creditDueDate||Xe.creditDueDate,Je=new Date(`${rr}T00:00:00`);return Je.setHours(0,0,0,0),Je.getTime()===He.getTime()}),ze=Ke.reduce((Xe,rr)=>{const Je=parseFloat(rr.totalAmount||rr.settings?.totalAmount||0);return Xe+Je},0),We=$e.filter(Xe=>{const rr=Xe.settings?.creditDueDate||Xe.creditDueDate,Je=new Date(`${rr}T00:00:00`);return Je.setHours(0,0,0,0),Je.getTime()===Qe.getTime()}),qe=We.reduce((Xe,rr)=>{const Je=parseFloat(rr.totalAmount||rr.settings?.totalAmount||0);return Xe+Je},0);console.log("Filtered invoices:",De);const Ye=$e.reduce((Xe,rr)=>{const Je=parseFloat(rr.totalAmount||rr.settings?.totalAmount||0);return Xe+Je},0);return jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[Be==="All"&&!Ee?.start?"Showing all time data":`Filtered by: ${Be}`,Ee?.start&&Ee?.end&&jsxRuntimeExports.jsxs("span",{children:[" | Custom Range: ",Ee.start.toLocaleDateString()," - ",Ee.end.toLocaleDateString()]})]}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:" Home Snapshot: Todays KPIs"}),jsxRuntimeExports.jsx(KpiCards,{invoiceData:De,totalRevenue:ke,paymentStats:Me,dueToday:ze,dueTomorrow:qe,totalDue:Ye,totalDueCount:$e?.filter(Xe=>Xe.isPaid===!1).length||0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(LowStockAlertWidget,{userId:Re}),jsxRuntimeExports.jsx(RecentInvoices,{invoiceData:[...De].sort((Xe,rr)=>new Date(rr.createdAt)-new Date(Xe.createdAt))}),jsxRuntimeExports.jsx(CreditDueList,{creditInvoices:$e,dueToday:Ke,dueTomorrow:We,totalDue:Ye})]})]})},AnalyticsFilterContext=reactExports.createContext(),AnalyticsFilterProvider=({children:Ee})=>{const[_e,Ce]=reactExports.useState(null),[Pe,Re]=reactExports.useState(null);return jsxRuntimeExports.jsx(AnalyticsFilterContext.Provider,{value:{selectedProduct:_e,setSelectedProduct:Ce,selectedDate:Pe,setSelectedDate:Re},children:Ee})},useAnalyticsFilter=()=>reactExports.useContext(AnalyticsFilterContext);var get$2={},isUnsafeProperty={},hasRequiredIsUnsafeProperty;function requireIsUnsafeProperty(){return hasRequiredIsUnsafeProperty||(hasRequiredIsUnsafeProperty=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){return Ce==="__proto__"}Ee.isUnsafeProperty=_e}(isUnsafeProperty)),isUnsafeProperty}var isDeepKey={},hasRequiredIsDeepKey;function requireIsDeepKey(){return hasRequiredIsDeepKey||(hasRequiredIsDeepKey=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){switch(typeof Ce){case"number":case"symbol":return!1;case"string":return Ce.includes(".")||Ce.includes("[")||Ce.includes("]")}}Ee.isDeepKey=_e}(isDeepKey)),isDeepKey}var toKey={},hasRequiredToKey;function requireToKey(){return hasRequiredToKey||(hasRequiredToKey=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){return typeof Ce=="string"||typeof Ce=="symbol"?Ce:Object.is(Ce?.valueOf?.(),-0)?"-0":String(Ce)}Ee.toKey=_e}(toKey)),toKey}var toPath={},hasRequiredToPath;function requireToPath(){return hasRequiredToPath||(hasRequiredToPath=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){const Pe=[],Re=Ce.length;if(Re===0)return Pe;let Ie=0,Be="",je="",De=!1;for(Ce.charCodeAt(0)===46&&(Pe.push(""),Ie++);Ie<Re;){const Fe=Ce[Ie];je?Fe==="\\"&&Ie+1<Re?(Ie++,Be+=Ce[Ie]):Fe===je?je="":Be+=Fe:De?Fe==='"'||Fe==="'"?je=Fe:Fe==="]"?(De=!1,Pe.push(Be),Be=""):Be+=Fe:Fe==="["?(De=!0,Be&&(Pe.push(Be),Be="")):Fe==="."?Be&&(Pe.push(Be),Be=""):Be+=Fe,Ie++}return Be&&Pe.push(Be),Pe}Ee.toPath=_e}(toPath)),toPath}var hasRequiredGet$1;function requireGet$1(){return hasRequiredGet$1||(hasRequiredGet$1=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIsUnsafeProperty(),Ce=requireIsDeepKey(),Pe=requireToKey(),Re=requireToPath();function Ie(je,De,Fe){if(je==null)return Fe;switch(typeof De){case"string":{if(_e.isUnsafeProperty(De))return Fe;const Oe=je[De];return Oe===void 0?Ce.isDeepKey(De)?Ie(je,Re.toPath(De),Fe):Fe:Oe}case"number":case"symbol":{typeof De=="number"&&(De=Pe.toKey(De));const Oe=je[De];return Oe===void 0?Fe:Oe}default:{if(Array.isArray(De))return Be(je,De,Fe);if(Object.is(De?.valueOf(),-0)?De="-0":De=String(De),_e.isUnsafeProperty(De))return Fe;const Oe=je[De];return Oe===void 0?Fe:Oe}}}function Be(je,De,Fe){if(De.length===0)return Fe;let Oe=je;for(let ke=0;ke<De.length;ke++){if(Oe==null||_e.isUnsafeProperty(De[ke]))return Fe;Oe=Oe[De[ke]]}return Oe===void 0?Fe:Oe}Ee.get=Ie}(get$2)),get$2}var get$1,hasRequiredGet;function requireGet(){return hasRequiredGet||(hasRequiredGet=1,get$1=requireGet$1().get),get$1}var getExports=requireGet();const get=getDefaultExportFromCjs(getExports);var reactIs={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production;function requireReactIs_production(){if(hasRequiredReactIs_production)return reactIs_production;hasRequiredReactIs_production=1;var Ee=Symbol.for("react.transitional.element"),_e=Symbol.for("react.portal"),Ce=Symbol.for("react.fragment"),Pe=Symbol.for("react.strict_mode"),Re=Symbol.for("react.profiler"),Ie=Symbol.for("react.consumer"),Be=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),Me=Symbol.for("react.view_transition"),$e=Symbol.for("react.client.reference");function He(Qe){if(typeof Qe=="object"&&Qe!==null){var Ke=Qe.$$typeof;switch(Ke){case Ee:switch(Qe=Qe.type,Qe){case Ce:case Re:case Pe:case De:case Fe:case Me:return Qe;default:switch(Qe=Qe&&Qe.$$typeof,Qe){case Be:case je:case ke:case Oe:return Qe;case Ie:return Qe;default:return Ke}}case _e:return Ke}}}return reactIs_production.ContextConsumer=Ie,reactIs_production.ContextProvider=Be,reactIs_production.Element=Ee,reactIs_production.ForwardRef=je,reactIs_production.Fragment=Ce,reactIs_production.Lazy=ke,reactIs_production.Memo=Oe,reactIs_production.Portal=_e,reactIs_production.Profiler=Re,reactIs_production.StrictMode=Pe,reactIs_production.Suspense=De,reactIs_production.SuspenseList=Fe,reactIs_production.isContextConsumer=function(Qe){return He(Qe)===Ie},reactIs_production.isContextProvider=function(Qe){return He(Qe)===Be},reactIs_production.isElement=function(Qe){return typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===Ee},reactIs_production.isForwardRef=function(Qe){return He(Qe)===je},reactIs_production.isFragment=function(Qe){return He(Qe)===Ce},reactIs_production.isLazy=function(Qe){return He(Qe)===ke},reactIs_production.isMemo=function(Qe){return He(Qe)===Oe},reactIs_production.isPortal=function(Qe){return He(Qe)===_e},reactIs_production.isProfiler=function(Qe){return He(Qe)===Re},reactIs_production.isStrictMode=function(Qe){return He(Qe)===Pe},reactIs_production.isSuspense=function(Qe){return He(Qe)===De},reactIs_production.isSuspenseList=function(Qe){return He(Qe)===Fe},reactIs_production.isValidElementType=function(Qe){return typeof Qe=="string"||typeof Qe=="function"||Qe===Ce||Qe===Re||Qe===Pe||Qe===De||Qe===Fe||typeof Qe=="object"&&Qe!==null&&(Qe.$$typeof===ke||Qe.$$typeof===Oe||Qe.$$typeof===Be||Qe.$$typeof===Ie||Qe.$$typeof===je||Qe.$$typeof===$e||Qe.getModuleId!==void 0)},reactIs_production.typeOf=He,reactIs_production}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production()),reactIs.exports}var reactIsExports=requireReactIs(),mathSign=Ee=>Ee===0?0:Ee>0?1:-1,isNan=Ee=>typeof Ee=="number"&&Ee!=+Ee,isPercent=Ee=>typeof Ee=="string"&&Ee.indexOf("%")===Ee.length-1,isNumber=Ee=>(typeof Ee=="number"||Ee instanceof Number)&&!isNan(Ee),isNumOrStr=Ee=>isNumber(Ee)||typeof Ee=="string",idCounter=0,uniqueId=Ee=>{var _e=++idCounter;return"".concat(Ee||"").concat(_e)},getPercentValue=function Ee(_e,Ce){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(_e)&&typeof _e!="string")return Pe;var Ie;if(isPercent(_e)){if(Ce==null)return Pe;var Be=_e.indexOf("%");Ie=Ce*parseFloat(_e.slice(0,Be))/100}else Ie=+_e;return isNan(Ie)&&(Ie=Pe),Re&&Ce!=null&&Ie>Ce&&(Ie=Ce),Ie},hasDuplicate=Ee=>{if(!Array.isArray(Ee))return!1;for(var _e=Ee.length,Ce={},Pe=0;Pe<_e;Pe++)if(!Ce[Ee[Pe]])Ce[Ee[Pe]]=!0;else return!0;return!1},interpolateNumber$1=(Ee,_e)=>isNumber(Ee)&&isNumber(_e)?Ce=>Ee+Ce*(_e-Ee):()=>_e;function findEntryInArray(Ee,_e,Ce){if(!(!Ee||!Ee.length))return Ee.find(Pe=>Pe&&(typeof _e=="function"?_e(Pe):get(Pe,_e))===Ce)}var isNullish=Ee=>Ee===null||typeof Ee>"u",upperFirst=Ee=>isNullish(Ee)?Ee:"".concat(Ee.charAt(0).toUpperCase()).concat(Ee.slice(1)),SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=(Ee,_e)=>{if(!Ee||typeof Ee=="function"||typeof Ee=="boolean")return null;var Ce=Ee;if(reactExports.isValidElement(Ee)&&(Ce=Ee.props),typeof Ce!="object"&&typeof Ce!="function")return null;var Pe={};return Object.keys(Ce).forEach(Re=>{EventKeys.includes(Re)&&(Pe[Re]=Ie=>Ce[Re](Ce,Ie))}),Pe},getEventHandlerOfChild=(Ee,_e,Ce)=>Pe=>(Ee(_e,Ce,Pe),null),adaptEventsOfChild=(Ee,_e,Ce)=>{if(Ee===null||typeof Ee!="object"&&typeof Ee!="function")return null;var Pe=null;return Object.keys(Ee).forEach(Re=>{var Ie=Ee[Re];EventKeys.includes(Re)&&typeof Ie=="function"&&(Pe||(Pe={}),Pe[Re]=getEventHandlerOfChild(Ie,_e,Ce))}),Pe},getDisplayName=Ee=>typeof Ee=="string"?Ee:Ee?Ee.displayName||Ee.name||"Component":"",lastChildren=null,lastResult=null,toArray$1=Ee=>{if(Ee===lastChildren&&Array.isArray(lastResult))return lastResult;var _e=[];return reactExports.Children.forEach(Ee,Ce=>{isNullish(Ce)||(reactIsExports.isFragment(Ce)?_e=_e.concat(toArray$1(Ce.props.children)):_e.push(Ce))}),lastResult=_e,lastChildren=Ee,_e};function findAllByType(Ee,_e){var Ce=[],Pe=[];return Array.isArray(_e)?Pe=_e.map(Re=>getDisplayName(Re)):Pe=[getDisplayName(_e)],toArray$1(Ee).forEach(Re=>{var Ie=get(Re,"type.displayName")||get(Re,"type.name");Pe.indexOf(Ie)!==-1&&Ce.push(Re)}),Ce}var isClipDot=Ee=>Ee&&typeof Ee=="object"&&"clipDot"in Ee?!!Ee.clipDot:!0,isValidSpreadableProp=(Ee,_e,Ce,Pe)=>{var Re,Ie=(Re=Pe&&FilteredElementKeyMap?.[Pe])!==null&&Re!==void 0?Re:[];return _e.startsWith("data-")||typeof Ee!="function"&&(Pe&&Ie.includes(_e)||SVGElementPropKeys.includes(_e))||Ce&&EventKeys.includes(_e)},filterProps=(Ee,_e,Ce)=>{if(!Ee||typeof Ee=="function"||typeof Ee=="boolean")return null;var Pe=Ee;if(reactExports.isValidElement(Ee)&&(Pe=Ee.props),typeof Pe!="object"&&typeof Pe!="function")return null;var Re={};return Object.keys(Pe).forEach(Ie=>{var Be;isValidSpreadableProp((Be=Pe)===null||Be===void 0?void 0:Be[Ie],Ie,_e,Ce)&&(Re[Ie]=Pe[Ie])}),Re},_excluded$q=["children","width","height","viewBox","className","style","title","desc"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$t.apply(null,arguments)}function _objectWithoutProperties$p(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$p(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$p(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}var Surface=reactExports.forwardRef((Ee,_e)=>{var{children:Ce,width:Pe,height:Re,viewBox:Ie,className:Be,style:je,title:De,desc:Fe}=Ee,Oe=_objectWithoutProperties$p(Ee,_excluded$q),ke=Ie||{width:Pe,height:Re,x:0,y:0},Me=clsx("recharts-surface",Be);return reactExports.createElement("svg",_extends$t({},filterProps(Oe,!0,"svg"),{className:Me,width:Pe,height:Re,style:je,viewBox:"".concat(ke.x," ").concat(ke.y," ").concat(ke.width," ").concat(ke.height),ref:_e}),reactExports.createElement("title",null,De),reactExports.createElement("desc",null,Fe),Ce)}),_excluded$p=["children","className"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$s.apply(null,arguments)}function _objectWithoutProperties$o(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$o(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$o(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}var Layer=reactExports.forwardRef((Ee,_e)=>{var{children:Ce,className:Pe}=Ee,Re=_objectWithoutProperties$o(Ee,_excluded$p),Ie=clsx("recharts-layer",Pe);return reactExports.createElement("g",_extends$s({className:Ie},filterProps(Re,!0),{ref:_e}),Ce)}),LegendPortalContext=reactExports.createContext(null),useLegendPortal=()=>reactExports.useContext(LegendPortalContext);function constant$1(Ee){return function(){return Ee}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(Ee){this._+=Ee[0];for(let _e=1,Ce=Ee.length;_e<Ce;++_e)this._+=arguments[_e]+Ee[_e]}function appendRound(Ee){let _e=Math.floor(Ee);if(!(_e>=0))throw new Error(`invalid digits: ${Ee}`);if(_e>15)return append;const Ce=10**_e;return function(Pe){this._+=Pe[0];for(let Re=1,Ie=Pe.length;Re<Ie;++Re)this._+=Math.round(arguments[Re]*Ce)/Ce+Pe[Re]}}class Path{constructor(_e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=_e==null?append:appendRound(_e)}moveTo(_e,Ce){this._append`M${this._x0=this._x1=+_e},${this._y0=this._y1=+Ce}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(_e,Ce){this._append`L${this._x1=+_e},${this._y1=+Ce}`}quadraticCurveTo(_e,Ce,Pe,Re){this._append`Q${+_e},${+Ce},${this._x1=+Pe},${this._y1=+Re}`}bezierCurveTo(_e,Ce,Pe,Re,Ie,Be){this._append`C${+_e},${+Ce},${+Pe},${+Re},${this._x1=+Ie},${this._y1=+Be}`}arcTo(_e,Ce,Pe,Re,Ie){if(_e=+_e,Ce=+Ce,Pe=+Pe,Re=+Re,Ie=+Ie,Ie<0)throw new Error(`negative radius: ${Ie}`);let Be=this._x1,je=this._y1,De=Pe-_e,Fe=Re-Ce,Oe=Be-_e,ke=je-Ce,Me=Oe*Oe+ke*ke;if(this._x1===null)this._append`M${this._x1=_e},${this._y1=Ce}`;else if(Me>epsilon)if(!(Math.abs(ke*De-Fe*Oe)>epsilon)||!Ie)this._append`L${this._x1=_e},${this._y1=Ce}`;else{let $e=Pe-Be,He=Re-je,Qe=De*De+Fe*Fe,Ke=$e*$e+He*He,ze=Math.sqrt(Qe),We=Math.sqrt(Me),qe=Ie*Math.tan((pi-Math.acos((Qe+Me-Ke)/(2*ze*We)))/2),Ye=qe/We,Xe=qe/ze;Math.abs(Ye-1)>epsilon&&this._append`L${_e+Ye*Oe},${Ce+Ye*ke}`,this._append`A${Ie},${Ie},0,0,${+(ke*$e>Oe*He)},${this._x1=_e+Xe*De},${this._y1=Ce+Xe*Fe}`}}arc(_e,Ce,Pe,Re,Ie,Be){if(_e=+_e,Ce=+Ce,Pe=+Pe,Be=!!Be,Pe<0)throw new Error(`negative radius: ${Pe}`);let je=Pe*Math.cos(Re),De=Pe*Math.sin(Re),Fe=_e+je,Oe=Ce+De,ke=1^Be,Me=Be?Re-Ie:Ie-Re;this._x1===null?this._append`M${Fe},${Oe}`:(Math.abs(this._x1-Fe)>epsilon||Math.abs(this._y1-Oe)>epsilon)&&this._append`L${Fe},${Oe}`,Pe&&(Me<0&&(Me=Me%tau+tau),Me>tauEpsilon?this._append`A${Pe},${Pe},0,1,${ke},${_e-je},${Ce-De}A${Pe},${Pe},0,1,${ke},${this._x1=Fe},${this._y1=Oe}`:Me>epsilon&&this._append`A${Pe},${Pe},0,${+(Me>=pi)},${ke},${this._x1=_e+Pe*Math.cos(Ie)},${this._y1=Ce+Pe*Math.sin(Ie)}`)}rect(_e,Ce,Pe,Re){this._append`M${this._x0=this._x1=+_e},${this._y0=this._y1=+Ce}h${Pe=+Pe}v${+Re}h${-Pe}Z`}toString(){return this._}}function withPath(Ee){let _e=3;return Ee.digits=function(Ce){if(!arguments.length)return _e;if(Ce==null)_e=null;else{const Pe=Math.floor(Ce);if(!(Pe>=0))throw new RangeError(`invalid digits: ${Ce}`);_e=Pe}return Ee},()=>new Path(_e)}function array(Ee){return typeof Ee=="object"&&"length"in Ee?Ee:Array.from(Ee)}function Linear(Ee){this._context=Ee}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ee,_e){switch(Ee=+Ee,_e=+_e,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ee,_e):this._context.moveTo(Ee,_e);break;case 1:this._point=2;default:this._context.lineTo(Ee,_e);break}}};function curveLinear(Ee){return new Linear(Ee)}function x$1(Ee){return Ee[0]}function y$1(Ee){return Ee[1]}function shapeLine(Ee,_e){var Ce=constant$1(!0),Pe=null,Re=curveLinear,Ie=null,Be=withPath(je);Ee=typeof Ee=="function"?Ee:Ee===void 0?x$1:constant$1(Ee),_e=typeof _e=="function"?_e:_e===void 0?y$1:constant$1(_e);function je(De){var Fe,Oe=(De=array(De)).length,ke,Me=!1,$e;for(Pe==null&&(Ie=Re($e=Be())),Fe=0;Fe<=Oe;++Fe)!(Fe<Oe&&Ce(ke=De[Fe],Fe,De))===Me&&((Me=!Me)?Ie.lineStart():Ie.lineEnd()),Me&&Ie.point(+Ee(ke,Fe,De),+_e(ke,Fe,De));if($e)return Ie=null,$e+""||null}return je.x=function(De){return arguments.length?(Ee=typeof De=="function"?De:constant$1(+De),je):Ee},je.y=function(De){return arguments.length?(_e=typeof De=="function"?De:constant$1(+De),je):_e},je.defined=function(De){return arguments.length?(Ce=typeof De=="function"?De:constant$1(!!De),je):Ce},je.curve=function(De){return arguments.length?(Re=De,Pe!=null&&(Ie=Re(Pe)),je):Re},je.context=function(De){return arguments.length?(De==null?Pe=Ie=null:Ie=Re(Pe=De),je):Pe},je}function shapeArea(Ee,_e,Ce){var Pe=null,Re=constant$1(!0),Ie=null,Be=curveLinear,je=null,De=withPath(Fe);Ee=typeof Ee=="function"?Ee:Ee===void 0?x$1:constant$1(+Ee),_e=typeof _e=="function"?_e:constant$1(_e===void 0?0:+_e),Ce=typeof Ce=="function"?Ce:Ce===void 0?y$1:constant$1(+Ce);function Fe(ke){var Me,$e,He,Qe=(ke=array(ke)).length,Ke,ze=!1,We,qe=new Array(Qe),Ye=new Array(Qe);for(Ie==null&&(je=Be(We=De())),Me=0;Me<=Qe;++Me){if(!(Me<Qe&&Re(Ke=ke[Me],Me,ke))===ze)if(ze=!ze)$e=Me,je.areaStart(),je.lineStart();else{for(je.lineEnd(),je.lineStart(),He=Me-1;He>=$e;--He)je.point(qe[He],Ye[He]);je.lineEnd(),je.areaEnd()}ze&&(qe[Me]=+Ee(Ke,Me,ke),Ye[Me]=+_e(Ke,Me,ke),je.point(Pe?+Pe(Ke,Me,ke):qe[Me],Ce?+Ce(Ke,Me,ke):Ye[Me]))}if(We)return je=null,We+""||null}function Oe(){return shapeLine().defined(Re).curve(Be).context(Ie)}return Fe.x=function(ke){return arguments.length?(Ee=typeof ke=="function"?ke:constant$1(+ke),Pe=null,Fe):Ee},Fe.x0=function(ke){return arguments.length?(Ee=typeof ke=="function"?ke:constant$1(+ke),Fe):Ee},Fe.x1=function(ke){return arguments.length?(Pe=ke==null?null:typeof ke=="function"?ke:constant$1(+ke),Fe):Pe},Fe.y=function(ke){return arguments.length?(_e=typeof ke=="function"?ke:constant$1(+ke),Ce=null,Fe):_e},Fe.y0=function(ke){return arguments.length?(_e=typeof ke=="function"?ke:constant$1(+ke),Fe):_e},Fe.y1=function(ke){return arguments.length?(Ce=ke==null?null:typeof ke=="function"?ke:constant$1(+ke),Fe):Ce},Fe.lineX0=Fe.lineY0=function(){return Oe().x(Ee).y(_e)},Fe.lineY1=function(){return Oe().x(Ee).y(Ce)},Fe.lineX1=function(){return Oe().x(Pe).y(_e)},Fe.defined=function(ke){return arguments.length?(Re=typeof ke=="function"?ke:constant$1(!!ke),Fe):Re},Fe.curve=function(ke){return arguments.length?(Be=ke,Ie!=null&&(je=Be(Ie)),Fe):Be},Fe.context=function(ke){return arguments.length?(ke==null?Ie=je=null:je=Be(Ie=ke),Fe):Ie},Fe}class Bump{constructor(_e,Ce){this._context=_e,this._x=Ce}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(_e,Ce){switch(_e=+_e,Ce=+Ce,this._point){case 0:{this._point=1,this._line?this._context.lineTo(_e,Ce):this._context.moveTo(_e,Ce);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+_e)/2,this._y0,this._x0,Ce,_e,Ce):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+Ce)/2,_e,this._y0,_e,Ce);break}}this._x0=_e,this._y0=Ce}}function bumpX(Ee){return new Bump(Ee,!0)}function bumpY(Ee){return new Bump(Ee,!1)}const symbolCircle={draw(Ee,_e){const Ce=sqrt$1(_e/pi$1);Ee.moveTo(Ce,0),Ee.arc(0,0,Ce,0,tau$1)}},symbolCross={draw(Ee,_e){const Ce=sqrt$1(_e/5)/2;Ee.moveTo(-3*Ce,-Ce),Ee.lineTo(-Ce,-Ce),Ee.lineTo(-Ce,-3*Ce),Ee.lineTo(Ce,-3*Ce),Ee.lineTo(Ce,-Ce),Ee.lineTo(3*Ce,-Ce),Ee.lineTo(3*Ce,Ce),Ee.lineTo(Ce,Ce),Ee.lineTo(Ce,3*Ce),Ee.lineTo(-Ce,3*Ce),Ee.lineTo(-Ce,Ce),Ee.lineTo(-3*Ce,Ce),Ee.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(Ee,_e){const Ce=sqrt$1(_e/tan30_2),Pe=Ce*tan30;Ee.moveTo(0,-Ce),Ee.lineTo(Pe,0),Ee.lineTo(0,Ce),Ee.lineTo(-Pe,0),Ee.closePath()}},symbolSquare={draw(Ee,_e){const Ce=sqrt$1(_e),Pe=-Ce/2;Ee.rect(Pe,Pe,Ce,Ce)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(Ee,_e){const Ce=sqrt$1(_e*ka),Pe=kx*Ce,Re=ky*Ce;Ee.moveTo(0,-Ce),Ee.lineTo(Pe,Re);for(let Ie=1;Ie<5;++Ie){const Be=tau$1*Ie/5,je=cos(Be),De=sin(Be);Ee.lineTo(De*Ce,-je*Ce),Ee.lineTo(je*Pe-De*Re,De*Pe+je*Re)}Ee.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(Ee,_e){const Ce=-sqrt$1(_e/(sqrt3*3));Ee.moveTo(0,Ce*2),Ee.lineTo(-sqrt3*Ce,-Ce),Ee.lineTo(sqrt3*Ce,-Ce),Ee.closePath()}},c$2=-.5,s$1=sqrt$1(3)/2,k$1=1/sqrt$1(12),a$1=(k$1/2+1)*3,symbolWye={draw(Ee,_e){const Ce=sqrt$1(_e/a$1),Pe=Ce/2,Re=Ce*k$1,Ie=Pe,Be=Ce*k$1+Ce,je=-Ie,De=Be;Ee.moveTo(Pe,Re),Ee.lineTo(Ie,Be),Ee.lineTo(je,De),Ee.lineTo(c$2*Pe-s$1*Re,s$1*Pe+c$2*Re),Ee.lineTo(c$2*Ie-s$1*Be,s$1*Ie+c$2*Be),Ee.lineTo(c$2*je-s$1*De,s$1*je+c$2*De),Ee.lineTo(c$2*Pe+s$1*Re,c$2*Re-s$1*Pe),Ee.lineTo(c$2*Ie+s$1*Be,c$2*Be-s$1*Ie),Ee.lineTo(c$2*je+s$1*De,c$2*De-s$1*je),Ee.closePath()}};function Symbol$1(Ee,_e){let Ce=null,Pe=withPath(Re);Ee=typeof Ee=="function"?Ee:constant$1(Ee||symbolCircle),_e=typeof _e=="function"?_e:constant$1(_e===void 0?64:+_e);function Re(){let Ie;if(Ce||(Ce=Ie=Pe()),Ee.apply(this,arguments).draw(Ce,+_e.apply(this,arguments)),Ie)return Ce=null,Ie+""||null}return Re.type=function(Ie){return arguments.length?(Ee=typeof Ie=="function"?Ie:constant$1(Ie),Re):Ee},Re.size=function(Ie){return arguments.length?(_e=typeof Ie=="function"?Ie:constant$1(+Ie),Re):_e},Re.context=function(Ie){return arguments.length?(Ce=Ie??null,Re):Ce},Re}function noop$8(){}function point$2(Ee,_e,Ce){Ee._context.bezierCurveTo((2*Ee._x0+Ee._x1)/3,(2*Ee._y0+Ee._y1)/3,(Ee._x0+2*Ee._x1)/3,(Ee._y0+2*Ee._y1)/3,(Ee._x0+4*Ee._x1+_e)/6,(Ee._y0+4*Ee._y1+Ce)/6)}function Basis(Ee){this._context=Ee}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ee,_e){switch(Ee=+Ee,_e=+_e,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ee,_e):this._context.moveTo(Ee,_e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,Ee,_e);break}this._x0=this._x1,this._x1=Ee,this._y0=this._y1,this._y1=_e}};function curveBasis(Ee){return new Basis(Ee)}function BasisClosed(Ee){this._context=Ee}BasisClosed.prototype={areaStart:noop$8,areaEnd:noop$8,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(Ee,_e){switch(Ee=+Ee,_e=+_e,this._point){case 0:this._point=1,this._x2=Ee,this._y2=_e;break;case 1:this._point=2,this._x3=Ee,this._y3=_e;break;case 2:this._point=3,this._x4=Ee,this._y4=_e,this._context.moveTo((this._x0+4*this._x1+Ee)/6,(this._y0+4*this._y1+_e)/6);break;default:point$2(this,Ee,_e);break}this._x0=this._x1,this._x1=Ee,this._y0=this._y1,this._y1=_e}};function curveBasisClosed(Ee){return new BasisClosed(Ee)}function BasisOpen(Ee){this._context=Ee}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Ee,_e){switch(Ee=+Ee,_e=+_e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Ce=(this._x0+4*this._x1+Ee)/6,Pe=(this._y0+4*this._y1+_e)/6;this._line?this._context.lineTo(Ce,Pe):this._context.moveTo(Ce,Pe);break;case 3:this._point=4;default:point$2(this,Ee,_e);break}this._x0=this._x1,this._x1=Ee,this._y0=this._y1,this._y1=_e}};function curveBasisOpen(Ee){return new BasisOpen(Ee)}function LinearClosed(Ee){this._context=Ee}LinearClosed.prototype={areaStart:noop$8,areaEnd:noop$8,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Ee,_e){Ee=+Ee,_e=+_e,this._point?this._context.lineTo(Ee,_e):(this._point=1,this._context.moveTo(Ee,_e))}};function curveLinearClosed(Ee){return new LinearClosed(Ee)}function sign(Ee){return Ee<0?-1:1}function slope3(Ee,_e,Ce){var Pe=Ee._x1-Ee._x0,Re=_e-Ee._x1,Ie=(Ee._y1-Ee._y0)/(Pe||Re<0&&-0),Be=(Ce-Ee._y1)/(Re||Pe<0&&-0),je=(Ie*Re+Be*Pe)/(Pe+Re);return(sign(Ie)+sign(Be))*Math.min(Math.abs(Ie),Math.abs(Be),.5*Math.abs(je))||0}function slope2(Ee,_e){var Ce=Ee._x1-Ee._x0;return Ce?(3*(Ee._y1-Ee._y0)/Ce-_e)/2:_e}function point$1(Ee,_e,Ce){var Pe=Ee._x0,Re=Ee._y0,Ie=Ee._x1,Be=Ee._y1,je=(Ie-Pe)/3;Ee._context.bezierCurveTo(Pe+je,Re+je*_e,Ie-je,Be-je*Ce,Ie,Be)}function MonotoneX(Ee){this._context=Ee}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ee,_e){var Ce=NaN;if(Ee=+Ee,_e=+_e,!(Ee===this._x1&&_e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Ee,_e):this._context.moveTo(Ee,_e);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,Ce=slope3(this,Ee,_e)),Ce);break;default:point$1(this,this._t0,Ce=slope3(this,Ee,_e));break}this._x0=this._x1,this._x1=Ee,this._y0=this._y1,this._y1=_e,this._t0=Ce}}};function MonotoneY(Ee){this._context=new ReflectContext(Ee)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(Ee,_e){MonotoneX.prototype.point.call(this,_e,Ee)};function ReflectContext(Ee){this._context=Ee}ReflectContext.prototype={moveTo:function(Ee,_e){this._context.moveTo(_e,Ee)},closePath:function(){this._context.closePath()},lineTo:function(Ee,_e){this._context.lineTo(_e,Ee)},bezierCurveTo:function(Ee,_e,Ce,Pe,Re,Ie){this._context.bezierCurveTo(_e,Ee,Pe,Ce,Ie,Re)}};function monotoneX(Ee){return new MonotoneX(Ee)}function monotoneY(Ee){return new MonotoneY(Ee)}function Natural(Ee){this._context=Ee}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var Ee=this._x,_e=this._y,Ce=Ee.length;if(Ce)if(this._line?this._context.lineTo(Ee[0],_e[0]):this._context.moveTo(Ee[0],_e[0]),Ce===2)this._context.lineTo(Ee[1],_e[1]);else for(var Pe=controlPoints(Ee),Re=controlPoints(_e),Ie=0,Be=1;Be<Ce;++Ie,++Be)this._context.bezierCurveTo(Pe[0][Ie],Re[0][Ie],Pe[1][Ie],Re[1][Ie],Ee[Be],_e[Be]);(this._line||this._line!==0&&Ce===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(Ee,_e){this._x.push(+Ee),this._y.push(+_e)}};function controlPoints(Ee){var _e,Ce=Ee.length-1,Pe,Re=new Array(Ce),Ie=new Array(Ce),Be=new Array(Ce);for(Re[0]=0,Ie[0]=2,Be[0]=Ee[0]+2*Ee[1],_e=1;_e<Ce-1;++_e)Re[_e]=1,Ie[_e]=4,Be[_e]=4*Ee[_e]+2*Ee[_e+1];for(Re[Ce-1]=2,Ie[Ce-1]=7,Be[Ce-1]=8*Ee[Ce-1]+Ee[Ce],_e=1;_e<Ce;++_e)Pe=Re[_e]/Ie[_e-1],Ie[_e]-=Pe,Be[_e]-=Pe*Be[_e-1];for(Re[Ce-1]=Be[Ce-1]/Ie[Ce-1],_e=Ce-2;_e>=0;--_e)Re[_e]=(Be[_e]-Re[_e+1])/Ie[_e];for(Ie[Ce-1]=(Ee[Ce]+Re[Ce-1])/2,_e=0;_e<Ce-1;++_e)Ie[_e]=2*Ee[_e+1]-Re[_e+1];return[Re,Ie]}function curveNatural(Ee){return new Natural(Ee)}function Step(Ee,_e){this._context=Ee,this._t=_e}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(Ee,_e){switch(Ee=+Ee,_e=+_e,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ee,_e):this._context.moveTo(Ee,_e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,_e),this._context.lineTo(Ee,_e);else{var Ce=this._x*(1-this._t)+Ee*this._t;this._context.lineTo(Ce,this._y),this._context.lineTo(Ce,_e)}break}}this._x=Ee,this._y=_e}};function curveStep(Ee){return new Step(Ee,.5)}function stepBefore(Ee){return new Step(Ee,0)}function stepAfter(Ee){return new Step(Ee,1)}function stackOffsetNone(Ee,_e){if((Be=Ee.length)>1)for(var Ce=1,Pe,Re,Ie=Ee[_e[0]],Be,je=Ie.length;Ce<Be;++Ce)for(Re=Ie,Ie=Ee[_e[Ce]],Pe=0;Pe<je;++Pe)Ie[Pe][1]+=Ie[Pe][0]=isNaN(Re[Pe][1])?Re[Pe][0]:Re[Pe][1]}function stackOrderNone(Ee){for(var _e=Ee.length,Ce=new Array(_e);--_e>=0;)Ce[_e]=_e;return Ce}function stackValue(Ee,_e){return Ee[_e]}function stackSeries(Ee){const _e=[];return _e.key=Ee,_e}function shapeStack(){var Ee=constant$1([]),_e=stackOrderNone,Ce=stackOffsetNone,Pe=stackValue;function Re(Ie){var Be=Array.from(Ee.apply(this,arguments),stackSeries),je,De=Be.length,Fe=-1,Oe;for(const ke of Ie)for(je=0,++Fe;je<De;++je)(Be[je][Fe]=[0,+Pe(ke,Be[je].key,Fe,Ie)]).data=ke;for(je=0,Oe=array(_e(Be));je<De;++je)Be[Oe[je]].index=je;return Ce(Be,Oe),Be}return Re.keys=function(Ie){return arguments.length?(Ee=typeof Ie=="function"?Ie:constant$1(Array.from(Ie)),Re):Ee},Re.value=function(Ie){return arguments.length?(Pe=typeof Ie=="function"?Ie:constant$1(+Ie),Re):Pe},Re.order=function(Ie){return arguments.length?(_e=Ie==null?stackOrderNone:typeof Ie=="function"?Ie:constant$1(Array.from(Ie)),Re):_e},Re.offset=function(Ie){return arguments.length?(Ce=Ie??stackOffsetNone,Re):Ce},Re}function stackOffsetExpand(Ee,_e){if((Pe=Ee.length)>0){for(var Ce,Pe,Re=0,Ie=Ee[0].length,Be;Re<Ie;++Re){for(Be=Ce=0;Ce<Pe;++Ce)Be+=Ee[Ce][Re][1]||0;if(Be)for(Ce=0;Ce<Pe;++Ce)Ee[Ce][Re][1]/=Be}stackOffsetNone(Ee,_e)}}function stackOffsetSilhouette(Ee,_e){if((Re=Ee.length)>0){for(var Ce=0,Pe=Ee[_e[0]],Re,Ie=Pe.length;Ce<Ie;++Ce){for(var Be=0,je=0;Be<Re;++Be)je+=Ee[Be][Ce][1]||0;Pe[Ce][1]+=Pe[Ce][0]=-je/2}stackOffsetNone(Ee,_e)}}function stackOffsetWiggle(Ee,_e){if(!(!((Be=Ee.length)>0)||!((Ie=(Re=Ee[_e[0]]).length)>0))){for(var Ce=0,Pe=1,Re,Ie,Be;Pe<Ie;++Pe){for(var je=0,De=0,Fe=0;je<Be;++je){for(var Oe=Ee[_e[je]],ke=Oe[Pe][1]||0,Me=Oe[Pe-1][1]||0,$e=(ke-Me)/2,He=0;He<je;++He){var Qe=Ee[_e[He]],Ke=Qe[Pe][1]||0,ze=Qe[Pe-1][1]||0;$e+=Ke-ze}De+=ke,Fe+=$e*ke}Re[Pe-1][1]+=Re[Pe-1][0]=Ce,De&&(Ce-=Fe/De)}Re[Pe-1][1]+=Re[Pe-1][0]=Ce,stackOffsetNone(Ee,_e)}}var _excluded$o=["type","size","sizeType"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$r.apply(null,arguments)}function ownKeys$S(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$S(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$S(Object(Ce),!0).forEach(function(Pe){_defineProperty$H(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$S(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$H(Ee,_e,Ce){return(_e=_toPropertyKey$G(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$G(Ee){var _e=_toPrimitive$G(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$G(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function _objectWithoutProperties$n(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$n(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$n(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=Ee=>{var _e="symbol".concat(upperFirst(Ee));return symbolFactories[_e]||symbolCircle},calculateAreaSize=(Ee,_e,Ce)=>{if(_e==="area")return Ee;switch(Ce){case"cross":return 5*Ee*Ee/9;case"diamond":return .5*Ee*Ee/Math.sqrt(3);case"square":return Ee*Ee;case"star":{var Pe=18*RADIAN$1;return 1.25*Ee*Ee*(Math.tan(Pe)-Math.tan(Pe*2)*Math.tan(Pe)**2)}case"triangle":return Math.sqrt(3)*Ee*Ee/4;case"wye":return(21-10*Math.sqrt(3))*Ee*Ee/8;default:return Math.PI*Ee*Ee/4}},registerSymbol=(Ee,_e)=>{symbolFactories["symbol".concat(upperFirst(Ee))]=_e},Symbols=Ee=>{var{type:_e="circle",size:Ce=64,sizeType:Pe="area"}=Ee,Re=_objectWithoutProperties$n(Ee,_excluded$o),Ie=_objectSpread$S(_objectSpread$S({},Re),{},{type:_e,size:Ce,sizeType:Pe}),Be=()=>{var ke=getSymbolFactory(_e),Me=Symbol$1().type(ke).size(calculateAreaSize(Ce,Pe,_e));return Me()},{className:je,cx:De,cy:Fe}=Ie,Oe=filterProps(Ie,!0);return De===+De&&Fe===+Fe&&Ce===+Ce?reactExports.createElement("path",_extends$r({},Oe,{className:clsx("recharts-symbols",je),transform:"translate(".concat(De,", ").concat(Fe,")"),d:Be()})):null};Symbols.registerSymbol=registerSymbol;function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$q.apply(null,arguments)}function ownKeys$R(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$R(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$R(Object(Ce),!0).forEach(function(Pe){_defineProperty$G(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$R(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$G(Ee,_e,Ce){return(_e=_toPropertyKey$F(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$F(Ee){var _e=_toPrimitive$F(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$F(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var SIZE=32;class DefaultLegendContent extends reactExports.PureComponent{renderIcon(_e,Ce){var{inactiveColor:Pe}=this.props,Re=SIZE/2,Ie=SIZE/6,Be=SIZE/3,je=_e.inactive?Pe:_e.color,De=Ce??_e.type;if(De==="none")return null;if(De==="plainline")return reactExports.createElement("line",{strokeWidth:4,fill:"none",stroke:je,strokeDasharray:_e.payload.strokeDasharray,x1:0,y1:Re,x2:SIZE,y2:Re,className:"recharts-legend-icon"});if(De==="line")return reactExports.createElement("path",{strokeWidth:4,fill:"none",stroke:je,d:"M0,".concat(Re,"h").concat(Be,`
            A`).concat(Ie,",").concat(Ie,",0,1,1,").concat(2*Be,",").concat(Re,`
            H`).concat(SIZE,"M").concat(2*Be,",").concat(Re,`
            A`).concat(Ie,",").concat(Ie,",0,1,1,").concat(Be,",").concat(Re),className:"recharts-legend-icon"});if(De==="rect")return reactExports.createElement("path",{stroke:"none",fill:je,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(reactExports.isValidElement(_e.legendIcon)){var Fe=_objectSpread$R({},_e);return delete Fe.legendIcon,reactExports.cloneElement(_e.legendIcon,Fe)}return reactExports.createElement(Symbols,{fill:je,cx:Re,cy:Re,size:SIZE,sizeType:"diameter",type:De})}renderItems(){var{payload:_e,iconSize:Ce,layout:Pe,formatter:Re,inactiveColor:Ie,iconType:Be}=this.props,je={x:0,y:0,width:SIZE,height:SIZE},De={display:Pe==="horizontal"?"inline-block":"block",marginRight:10},Fe={display:"inline-block",verticalAlign:"middle",marginRight:4};return _e.map((Oe,ke)=>{var Me=Oe.formatter||Re,$e=clsx({"recharts-legend-item":!0,["legend-item-".concat(ke)]:!0,inactive:Oe.inactive});if(Oe.type==="none")return null;var He=Oe.inactive?Ie:Oe.color,Qe=Me?Me(Oe.value,Oe,ke):Oe.value;return reactExports.createElement("li",_extends$q({className:$e,style:De,key:"legend-item-".concat(ke)},adaptEventsOfChild(this.props,Oe,ke)),reactExports.createElement(Surface,{width:Ce,height:Ce,viewBox:je,style:Fe,"aria-label":"".concat(Qe," legend icon")},this.renderIcon(Oe,Be)),reactExports.createElement("span",{className:"recharts-legend-item-text",style:{color:He}},Qe))})}render(){var{payload:_e,layout:Ce,align:Pe}=this.props;if(!_e||!_e.length)return null;var Re={padding:0,margin:0,textAlign:Ce==="horizontal"?Pe:"left"};return reactExports.createElement("ul",{className:"recharts-default-legend",style:Re},this.renderItems())}}_defineProperty$G(DefaultLegendContent,"displayName","Legend");_defineProperty$G(DefaultLegendContent,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var uniqBy$3={},uniqBy$2={},hasRequiredUniqBy$2;function requireUniqBy$2(){return hasRequiredUniqBy$2||(hasRequiredUniqBy$2=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce,Pe){const Re=new Map;for(let Ie=0;Ie<Ce.length;Ie++){const Be=Ce[Ie],je=Pe(Be);Re.has(je)||Re.set(je,Be)}return Array.from(Re.values())}Ee.uniqBy=_e}(uniqBy$2)),uniqBy$2}var identity$4={},hasRequiredIdentity;function requireIdentity(){return hasRequiredIdentity||(hasRequiredIdentity=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){return Ce}Ee.identity=_e}(identity$4)),identity$4}var isArrayLikeObject={},isArrayLike={},isLength={},hasRequiredIsLength;function requireIsLength(){return hasRequiredIsLength||(hasRequiredIsLength=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){return Number.isSafeInteger(Ce)&&Ce>=0}Ee.isLength=_e}(isLength)),isLength}var hasRequiredIsArrayLike;function requireIsArrayLike(){return hasRequiredIsArrayLike||(hasRequiredIsArrayLike=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIsLength();function Ce(Pe){return Pe!=null&&typeof Pe!="function"&&_e.isLength(Pe.length)}Ee.isArrayLike=Ce}(isArrayLike)),isArrayLike}var isObjectLike={},hasRequiredIsObjectLike;function requireIsObjectLike(){return hasRequiredIsObjectLike||(hasRequiredIsObjectLike=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){return typeof Ce=="object"&&Ce!==null}Ee.isObjectLike=_e}(isObjectLike)),isObjectLike}var hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){return hasRequiredIsArrayLikeObject||(hasRequiredIsArrayLikeObject=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIsArrayLike(),Ce=requireIsObjectLike();function Pe(Re){return Ce.isObjectLike(Re)&&_e.isArrayLike(Re)}Ee.isArrayLikeObject=Pe}(isArrayLikeObject)),isArrayLikeObject}var iteratee={},property={},hasRequiredProperty;function requireProperty(){return hasRequiredProperty||(hasRequiredProperty=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireGet$1();function Ce(Pe){return function(Re){return _e.get(Re,Pe)}}Ee.property=Ce}(property)),property}var matches={},isMatch={},isMatchWith={},isObject={},hasRequiredIsObject;function requireIsObject(){return hasRequiredIsObject||(hasRequiredIsObject=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){return Ce!==null&&(typeof Ce=="object"||typeof Ce=="function")}Ee.isObject=_e}(isObject)),isObject}var isPrimitive={},hasRequiredIsPrimitive;function requireIsPrimitive(){return hasRequiredIsPrimitive||(hasRequiredIsPrimitive=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){return Ce==null||typeof Ce!="object"&&typeof Ce!="function"}Ee.isPrimitive=_e}(isPrimitive)),isPrimitive}var eq={},hasRequiredEq;function requireEq(){return hasRequiredEq||(hasRequiredEq=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce,Pe){return Ce===Pe||Number.isNaN(Ce)&&Number.isNaN(Pe)}Ee.eq=_e}(eq)),eq}var hasRequiredIsMatchWith;function requireIsMatchWith(){return hasRequiredIsMatchWith||(hasRequiredIsMatchWith=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIsMatch(),Ce=requireIsObject(),Pe=requireIsPrimitive(),Re=requireEq();function Ie(ke,Me,$e){return typeof $e!="function"?_e.isMatch(ke,Me):Be(ke,Me,function He(Qe,Ke,ze,We,qe,Ye){const Xe=$e(Qe,Ke,ze,We,qe,Ye);return Xe!==void 0?!!Xe:Be(Qe,Ke,He,Ye)},new Map)}function Be(ke,Me,$e,He){if(Me===ke)return!0;switch(typeof Me){case"object":return je(ke,Me,$e,He);case"function":return Object.keys(Me).length>0?Be(ke,{...Me},$e,He):Re.eq(ke,Me);default:return Ce.isObject(ke)?typeof Me=="string"?Me==="":!0:Re.eq(ke,Me)}}function je(ke,Me,$e,He){if(Me==null)return!0;if(Array.isArray(Me))return Fe(ke,Me,$e,He);if(Me instanceof Map)return De(ke,Me,$e,He);if(Me instanceof Set)return Oe(ke,Me,$e,He);const Qe=Object.keys(Me);if(ke==null)return Qe.length===0;if(Qe.length===0)return!0;if(He&&He.has(Me))return He.get(Me)===ke;He&&He.set(Me,ke);try{for(let Ke=0;Ke<Qe.length;Ke++){const ze=Qe[Ke];if(!Pe.isPrimitive(ke)&&!(ze in ke)||Me[ze]===void 0&&ke[ze]!==void 0||Me[ze]===null&&ke[ze]!==null||!$e(ke[ze],Me[ze],ze,ke,Me,He))return!1}return!0}finally{He&&He.delete(Me)}}function De(ke,Me,$e,He){if(Me.size===0)return!0;if(!(ke instanceof Map))return!1;for(const[Qe,Ke]of Me.entries()){const ze=ke.get(Qe);if($e(ze,Ke,Qe,ke,Me,He)===!1)return!1}return!0}function Fe(ke,Me,$e,He){if(Me.length===0)return!0;if(!Array.isArray(ke))return!1;const Qe=new Set;for(let Ke=0;Ke<Me.length;Ke++){const ze=Me[Ke];let We=!1;for(let qe=0;qe<ke.length;qe++){if(Qe.has(qe))continue;const Ye=ke[qe];let Xe=!1;if($e(Ye,ze,Ke,ke,Me,He)&&(Xe=!0),Xe){Qe.add(qe),We=!0;break}}if(!We)return!1}return!0}function Oe(ke,Me,$e,He){return Me.size===0?!0:ke instanceof Set?Fe([...ke],[...Me],$e,He):!1}Ee.isMatchWith=Ie,Ee.isSetMatch=Oe}(isMatchWith)),isMatchWith}var hasRequiredIsMatch;function requireIsMatch(){return hasRequiredIsMatch||(hasRequiredIsMatch=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIsMatchWith();function Ce(Pe,Re){return _e.isMatchWith(Pe,Re,()=>{})}Ee.isMatch=Ce}(isMatch)),isMatch}var cloneDeep$1={},cloneDeepWith$1={},getSymbols={},hasRequiredGetSymbols;function requireGetSymbols(){return hasRequiredGetSymbols||(hasRequiredGetSymbols=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){return Object.getOwnPropertySymbols(Ce).filter(Pe=>Object.prototype.propertyIsEnumerable.call(Ce,Pe))}Ee.getSymbols=_e}(getSymbols)),getSymbols}var getTag={},hasRequiredGetTag;function requireGetTag(){return hasRequiredGetTag||(hasRequiredGetTag=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){return Ce==null?Ce===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(Ce)}Ee.getTag=_e}(getTag)),getTag}var tags={},hasRequiredTags;function requireTags(){return hasRequiredTags||(hasRequiredTags=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e="[object RegExp]",Ce="[object String]",Pe="[object Number]",Re="[object Boolean]",Ie="[object Arguments]",Be="[object Symbol]",je="[object Date]",De="[object Map]",Fe="[object Set]",Oe="[object Array]",ke="[object Function]",Me="[object ArrayBuffer]",$e="[object Object]",He="[object Error]",Qe="[object DataView]",Ke="[object Uint8Array]",ze="[object Uint8ClampedArray]",We="[object Uint16Array]",qe="[object Uint32Array]",Ye="[object BigUint64Array]",Xe="[object Int8Array]",rr="[object Int16Array]",Je="[object Int32Array]",er="[object BigInt64Array]",or="[object Float32Array]",pr="[object Float64Array]";Ee.argumentsTag=Ie,Ee.arrayBufferTag=Me,Ee.arrayTag=Oe,Ee.bigInt64ArrayTag=er,Ee.bigUint64ArrayTag=Ye,Ee.booleanTag=Re,Ee.dataViewTag=Qe,Ee.dateTag=je,Ee.errorTag=He,Ee.float32ArrayTag=or,Ee.float64ArrayTag=pr,Ee.functionTag=ke,Ee.int16ArrayTag=rr,Ee.int32ArrayTag=Je,Ee.int8ArrayTag=Xe,Ee.mapTag=De,Ee.numberTag=Pe,Ee.objectTag=$e,Ee.regexpTag=_e,Ee.setTag=Fe,Ee.stringTag=Ce,Ee.symbolTag=Be,Ee.uint16ArrayTag=We,Ee.uint32ArrayTag=qe,Ee.uint8ArrayTag=Ke,Ee.uint8ClampedArrayTag=ze}(tags)),tags}var isTypedArray={},hasRequiredIsTypedArray;function requireIsTypedArray(){return hasRequiredIsTypedArray||(hasRequiredIsTypedArray=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){return ArrayBuffer.isView(Ce)&&!(Ce instanceof DataView)}Ee.isTypedArray=_e}(isTypedArray)),isTypedArray}var hasRequiredCloneDeepWith$1;function requireCloneDeepWith$1(){return hasRequiredCloneDeepWith$1||(hasRequiredCloneDeepWith$1=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireGetSymbols(),Ce=requireGetTag(),Pe=requireTags(),Re=requireIsPrimitive(),Ie=requireIsTypedArray();function Be(Oe,ke){return je(Oe,void 0,Oe,new Map,ke)}function je(Oe,ke,Me,$e=new Map,He=void 0){const Qe=He?.(Oe,ke,Me,$e);if(Qe!=null)return Qe;if(Re.isPrimitive(Oe))return Oe;if($e.has(Oe))return $e.get(Oe);if(Array.isArray(Oe)){const Ke=new Array(Oe.length);$e.set(Oe,Ke);for(let ze=0;ze<Oe.length;ze++)Ke[ze]=je(Oe[ze],ze,Me,$e,He);return Object.hasOwn(Oe,"index")&&(Ke.index=Oe.index),Object.hasOwn(Oe,"input")&&(Ke.input=Oe.input),Ke}if(Oe instanceof Date)return new Date(Oe.getTime());if(Oe instanceof RegExp){const Ke=new RegExp(Oe.source,Oe.flags);return Ke.lastIndex=Oe.lastIndex,Ke}if(Oe instanceof Map){const Ke=new Map;$e.set(Oe,Ke);for(const[ze,We]of Oe)Ke.set(ze,je(We,ze,Me,$e,He));return Ke}if(Oe instanceof Set){const Ke=new Set;$e.set(Oe,Ke);for(const ze of Oe)Ke.add(je(ze,void 0,Me,$e,He));return Ke}if(typeof Buffer<"u"&&Buffer.isBuffer(Oe))return Oe.subarray();if(Ie.isTypedArray(Oe)){const Ke=new(Object.getPrototypeOf(Oe)).constructor(Oe.length);$e.set(Oe,Ke);for(let ze=0;ze<Oe.length;ze++)Ke[ze]=je(Oe[ze],ze,Me,$e,He);return Ke}if(Oe instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&Oe instanceof SharedArrayBuffer)return Oe.slice(0);if(Oe instanceof DataView){const Ke=new DataView(Oe.buffer.slice(0),Oe.byteOffset,Oe.byteLength);return $e.set(Oe,Ke),De(Ke,Oe,Me,$e,He),Ke}if(typeof File<"u"&&Oe instanceof File){const Ke=new File([Oe],Oe.name,{type:Oe.type});return $e.set(Oe,Ke),De(Ke,Oe,Me,$e,He),Ke}if(Oe instanceof Blob){const Ke=new Blob([Oe],{type:Oe.type});return $e.set(Oe,Ke),De(Ke,Oe,Me,$e,He),Ke}if(Oe instanceof Error){const Ke=new Oe.constructor;return $e.set(Oe,Ke),Ke.message=Oe.message,Ke.name=Oe.name,Ke.stack=Oe.stack,Ke.cause=Oe.cause,De(Ke,Oe,Me,$e,He),Ke}if(typeof Oe=="object"&&Fe(Oe)){const Ke=Object.create(Object.getPrototypeOf(Oe));return $e.set(Oe,Ke),De(Ke,Oe,Me,$e,He),Ke}return Oe}function De(Oe,ke,Me=Oe,$e,He){const Qe=[...Object.keys(ke),..._e.getSymbols(ke)];for(let Ke=0;Ke<Qe.length;Ke++){const ze=Qe[Ke],We=Object.getOwnPropertyDescriptor(Oe,ze);(We==null||We.writable)&&(Oe[ze]=je(ke[ze],ze,Me,$e,He))}}function Fe(Oe){switch(Ce.getTag(Oe)){case Pe.argumentsTag:case Pe.arrayTag:case Pe.arrayBufferTag:case Pe.dataViewTag:case Pe.booleanTag:case Pe.dateTag:case Pe.float32ArrayTag:case Pe.float64ArrayTag:case Pe.int8ArrayTag:case Pe.int16ArrayTag:case Pe.int32ArrayTag:case Pe.mapTag:case Pe.numberTag:case Pe.objectTag:case Pe.regexpTag:case Pe.setTag:case Pe.stringTag:case Pe.symbolTag:case Pe.uint8ArrayTag:case Pe.uint8ClampedArrayTag:case Pe.uint16ArrayTag:case Pe.uint32ArrayTag:return!0;default:return!1}}Ee.cloneDeepWith=Be,Ee.cloneDeepWithImpl=je,Ee.copyProperties=De}(cloneDeepWith$1)),cloneDeepWith$1}var hasRequiredCloneDeep$1;function requireCloneDeep$1(){return hasRequiredCloneDeep$1||(hasRequiredCloneDeep$1=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireCloneDeepWith$1();function Ce(Pe){return _e.cloneDeepWithImpl(Pe,void 0,Pe,new Map,void 0)}Ee.cloneDeep=Ce}(cloneDeep$1)),cloneDeep$1}var hasRequiredMatches;function requireMatches(){return hasRequiredMatches||(hasRequiredMatches=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIsMatch(),Ce=requireCloneDeep$1();function Pe(Re){return Re=Ce.cloneDeep(Re),Ie=>_e.isMatch(Ie,Re)}Ee.matches=Pe}(matches)),matches}var matchesProperty={},cloneDeep={},cloneDeepWith={},hasRequiredCloneDeepWith;function requireCloneDeepWith(){return hasRequiredCloneDeepWith||(hasRequiredCloneDeepWith=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireCloneDeepWith$1(),Ce=requireTags();function Pe(Re,Ie){return _e.cloneDeepWith(Re,(Be,je,De,Fe)=>{const Oe=Ie?.(Be,je,De,Fe);if(Oe!=null)return Oe;if(typeof Re=="object")switch(Object.prototype.toString.call(Re)){case Ce.numberTag:case Ce.stringTag:case Ce.booleanTag:{const ke=new Re.constructor(Re?.valueOf());return _e.copyProperties(ke,Re),ke}case Ce.argumentsTag:{const ke={};return _e.copyProperties(ke,Re),ke.length=Re.length,ke[Symbol.iterator]=Re[Symbol.iterator],ke}default:return}})}Ee.cloneDeepWith=Pe}(cloneDeepWith)),cloneDeepWith}var hasRequiredCloneDeep;function requireCloneDeep(){return hasRequiredCloneDeep||(hasRequiredCloneDeep=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireCloneDeepWith();function Ce(Pe){return _e.cloneDeepWith(Pe)}Ee.cloneDeep=Ce}(cloneDeep)),cloneDeep}var has$1={},isIndex={},hasRequiredIsIndex;function requireIsIndex(){return hasRequiredIsIndex||(hasRequiredIsIndex=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=/^(?:0|[1-9]\d*)$/;function Ce(Pe,Re=Number.MAX_SAFE_INTEGER){switch(typeof Pe){case"number":return Number.isInteger(Pe)&&Pe>=0&&Pe<Re;case"symbol":return!1;case"string":return _e.test(Pe)}}Ee.isIndex=Ce}(isIndex)),isIndex}var isArguments={},hasRequiredIsArguments;function requireIsArguments(){return hasRequiredIsArguments||(hasRequiredIsArguments=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireGetTag();function Ce(Pe){return Pe!==null&&typeof Pe=="object"&&_e.getTag(Pe)==="[object Arguments]"}Ee.isArguments=Ce}(isArguments)),isArguments}var hasRequiredHas;function requireHas(){return hasRequiredHas||(hasRequiredHas=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIsDeepKey(),Ce=requireIsIndex(),Pe=requireIsArguments(),Re=requireToPath();function Ie(Be,je){let De;if(Array.isArray(je)?De=je:typeof je=="string"&&_e.isDeepKey(je)&&Be?.[je]==null?De=Re.toPath(je):De=[je],De.length===0)return!1;let Fe=Be;for(let Oe=0;Oe<De.length;Oe++){const ke=De[Oe];if((Fe==null||!Object.hasOwn(Fe,ke))&&!((Array.isArray(Fe)||Pe.isArguments(Fe))&&Ce.isIndex(ke)&&ke<Fe.length))return!1;Fe=Fe[ke]}return!0}Ee.has=Ie}(has$1)),has$1}var hasRequiredMatchesProperty;function requireMatchesProperty(){return hasRequiredMatchesProperty||(hasRequiredMatchesProperty=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIsMatch(),Ce=requireToKey(),Pe=requireCloneDeep(),Re=requireGet$1(),Ie=requireHas();function Be(je,De){switch(typeof je){case"object":{Object.is(je?.valueOf(),-0)&&(je="-0");break}case"number":{je=Ce.toKey(je);break}}return De=Pe.cloneDeep(De),function(Fe){const Oe=Re.get(Fe,je);return Oe===void 0?Ie.has(Fe,je):De===void 0?Oe===void 0:_e.isMatch(Oe,De)}}Ee.matchesProperty=Be}(matchesProperty)),matchesProperty}var hasRequiredIteratee;function requireIteratee(){return hasRequiredIteratee||(hasRequiredIteratee=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIdentity(),Ce=requireProperty(),Pe=requireMatches(),Re=requireMatchesProperty();function Ie(Be){if(Be==null)return _e.identity;switch(typeof Be){case"function":return Be;case"object":return Array.isArray(Be)&&Be.length===2?Re.matchesProperty(Be[0],Be[1]):Pe.matches(Be);case"string":case"symbol":case"number":return Ce.property(Be)}}Ee.iteratee=Ie}(iteratee)),iteratee}var hasRequiredUniqBy$1;function requireUniqBy$1(){return hasRequiredUniqBy$1||(hasRequiredUniqBy$1=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireUniqBy$2(),Ce=requireIdentity(),Pe=requireIsArrayLikeObject(),Re=requireIteratee();function Ie(Be,je=Ce.identity){return Pe.isArrayLikeObject(Be)?_e.uniqBy(Array.from(Be),Re.iteratee(je)):[]}Ee.uniqBy=Ie}(uniqBy$3)),uniqBy$3}var uniqBy$1,hasRequiredUniqBy;function requireUniqBy(){return hasRequiredUniqBy||(hasRequiredUniqBy=1,uniqBy$1=requireUniqBy$1().uniqBy),uniqBy$1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(Ee,_e,Ce){return _e===!0?uniqBy(Ee,Ce):typeof _e=="function"?uniqBy(Ee,_e):Ee}var withSelector$1={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var Ee=requireReact();function _e(ke,Me){return ke===Me&&(ke!==0||1/ke===1/Me)||ke!==ke&&Me!==Me}var Ce=typeof Object.is=="function"?Object.is:_e,Pe=Ee.useState,Re=Ee.useEffect,Ie=Ee.useLayoutEffect,Be=Ee.useDebugValue;function je(ke,Me){var $e=Me(),He=Pe({inst:{value:$e,getSnapshot:Me}}),Qe=He[0].inst,Ke=He[1];return Ie(function(){Qe.value=$e,Qe.getSnapshot=Me,De(Qe)&&Ke({inst:Qe})},[ke,$e,Me]),Re(function(){return De(Qe)&&Ke({inst:Qe}),ke(function(){De(Qe)&&Ke({inst:Qe})})},[ke]),Be($e),$e}function De(ke){var Me=ke.getSnapshot;ke=ke.value;try{var $e=Me();return!Ce(ke,$e)}catch{return!0}}function Fe(ke,Me){return Me()}var Oe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fe:je;return useSyncExternalStoreShim_production.useSyncExternalStore=Ee.useSyncExternalStore!==void 0?Ee.useSyncExternalStore:Oe,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var Ee=requireReact(),_e=requireShim();function Ce(Fe,Oe){return Fe===Oe&&(Fe!==0||1/Fe===1/Oe)||Fe!==Fe&&Oe!==Oe}var Pe=typeof Object.is=="function"?Object.is:Ce,Re=_e.useSyncExternalStore,Ie=Ee.useRef,Be=Ee.useEffect,je=Ee.useMemo,De=Ee.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(Fe,Oe,ke,Me,$e){var He=Ie(null);if(He.current===null){var Qe={hasValue:!1,value:null};He.current=Qe}else Qe=He.current;He=je(function(){function ze(rr){if(!We){if(We=!0,qe=rr,rr=Me(rr),$e!==void 0&&Qe.hasValue){var Je=Qe.value;if($e(Je,rr))return Ye=Je}return Ye=rr}if(Je=Ye,Pe(qe,rr))return Je;var er=Me(rr);return $e!==void 0&&$e(Je,er)?(qe=rr,Je):(qe=rr,Ye=er)}var We=!1,qe,Ye,Xe=ke===void 0?null:ke;return[function(){return ze(Oe())},Xe===null?void 0:function(){return ze(Xe())}]},[Oe,ke,Me,$e]);var Ke=Re(Fe,He[0],He[1]);return Be(function(){Qe.hasValue=!0,Qe.value=Ke},[Ke]),De(Ke),Ke},withSelector_production}var hasRequiredWithSelector$1;function requireWithSelector$1(){return hasRequiredWithSelector$1||(hasRequiredWithSelector$1=1,withSelector$1.exports=requireWithSelector_production()),withSelector$1.exports}var withSelectorExports=requireWithSelector$1(),RechartsReduxContext=reactExports.createContext(null),noopDispatch=Ee=>Ee,useAppDispatch=()=>{var Ee=reactExports.useContext(RechartsReduxContext);return Ee?Ee.store.dispatch:noopDispatch},noop$7=()=>{},addNestedSubNoop=()=>noop$7,refEquality=(Ee,_e)=>Ee===_e;function useAppSelector(Ee){var _e=reactExports.useContext(RechartsReduxContext);return withSelectorExports.useSyncExternalStoreWithSelector(_e?_e.subscription.addNestedSub:addNestedSubNoop,_e?_e.store.getState:noop$7,_e?_e.store.getState:noop$7,_e?Ee:noop$7,refEquality)}function assertIsFunction(Ee,_e=`expected a function, instead received ${typeof Ee}`){if(typeof Ee!="function")throw new TypeError(_e)}function assertIsObject(Ee,_e=`expected an object, instead received ${typeof Ee}`){if(typeof Ee!="object")throw new TypeError(_e)}function assertIsArrayOfFunctions(Ee,_e="expected all items to be functions, instead received the following types: "){if(!Ee.every(Ce=>typeof Ce=="function")){const Ce=Ee.map(Pe=>typeof Pe=="function"?`function ${Pe.name||"unnamed"}()`:typeof Pe).join(", ");throw new TypeError(`${_e}[${Ce}]`)}}var ensureIsArray=Ee=>Array.isArray(Ee)?Ee:[Ee];function getDependencies(Ee){const _e=Array.isArray(Ee[0])?Ee[0]:Ee;return assertIsArrayOfFunctions(_e,"createSelector expects all input-selectors to be functions, but received the following types: "),_e}function collectInputSelectorResults(Ee,_e){const Ce=[],{length:Pe}=Ee;for(let Re=0;Re<Pe;Re++)Ce.push(Ee[Re].apply(null,_e));return Ce}var StrongRef=class{constructor(Ee){this.value=Ee}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(Ee,_e={}){let Ce=createCacheNode();const{resultEqualityCheck:Pe}=_e;let Re,Ie=0;function Be(){let je=Ce;const{length:De}=arguments;for(let ke=0,Me=De;ke<Me;ke++){const $e=arguments[ke];if(typeof $e=="function"||typeof $e=="object"&&$e!==null){let He=je.o;He===null&&(je.o=He=new WeakMap);const Qe=He.get($e);Qe===void 0?(je=createCacheNode(),He.set($e,je)):je=Qe}else{let He=je.p;He===null&&(je.p=He=new Map);const Qe=He.get($e);Qe===void 0?(je=createCacheNode(),He.set($e,je)):je=Qe}}const Fe=je;let Oe;if(je.s===TERMINATED)Oe=je.v;else if(Oe=Ee.apply(null,arguments),Ie++,Pe){const ke=Re?.deref?.()??Re;ke!=null&&Pe(ke,Oe)&&(Oe=ke,Ie!==0&&Ie--),Re=typeof Oe=="object"&&Oe!==null||typeof Oe=="function"?new Ref(Oe):Oe}return Fe.s=TERMINATED,Fe.v=Oe,Oe}return Be.clearCache=()=>{Ce=createCacheNode(),Be.resetResultsCount()},Be.resultsCount=()=>Ie,Be.resetResultsCount=()=>{Ie=0},Be}function createSelectorCreator(Ee,..._e){const Ce=typeof Ee=="function"?{memoize:Ee,memoizeOptions:_e}:Ee,Pe=(...Re)=>{let Ie=0,Be=0,je,De={},Fe=Re.pop();typeof Fe=="object"&&(De=Fe,Fe=Re.pop()),assertIsFunction(Fe,`createSelector expects an output function after the inputs, but received: [${typeof Fe}]`);const Oe={...Ce,...De},{memoize:ke,memoizeOptions:Me=[],argsMemoize:$e=weakMapMemoize,argsMemoizeOptions:He=[]}=Oe,Qe=ensureIsArray(Me),Ke=ensureIsArray(He),ze=getDependencies(Re),We=ke(function(){return Ie++,Fe.apply(null,arguments)},...Qe),qe=$e(function(){Be++;const Xe=collectInputSelectorResults(ze,arguments);return je=We.apply(null,Xe),je},...Ke);return Object.assign(qe,{resultFunc:Fe,memoizedResultFunc:We,dependencies:ze,dependencyRecomputations:()=>Be,resetDependencyRecomputations:()=>{Be=0},lastResult:()=>je,recomputations:()=>Ie,resetRecomputations:()=>{Ie=0},memoize:ke,argsMemoize:$e})};return Object.assign(Pe,{withTypes:()=>Pe}),Pe}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((Ee,_e=createSelector)=>{assertIsObject(Ee,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof Ee}`);const Ce=Object.keys(Ee),Pe=Ce.map(Ie=>Ee[Ie]);return _e(Pe,(...Ie)=>Ie.reduce((Be,je,De)=>(Be[Ce[De]]=je,Be),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={},hasRequiredCompareValues;function requireCompareValues(){return hasRequiredCompareValues||(hasRequiredCompareValues=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Pe){return typeof Pe=="symbol"?1:Pe===null?2:Pe===void 0?3:Pe!==Pe?4:0}const Ce=(Pe,Re,Ie)=>{if(Pe!==Re){const Be=_e(Pe),je=_e(Re);if(Be===je&&Be===0){if(Pe<Re)return Ie==="desc"?1:-1;if(Pe>Re)return Ie==="desc"?-1:1}return Ie==="desc"?je-Be:Be-je}return 0};Ee.compareValues=Ce}(compareValues)),compareValues}var isKey={},isSymbol={},hasRequiredIsSymbol;function requireIsSymbol(){return hasRequiredIsSymbol||(hasRequiredIsSymbol=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){return typeof Ce=="symbol"||Ce instanceof Symbol}Ee.isSymbol=_e}(isSymbol)),isSymbol}var hasRequiredIsKey;function requireIsKey(){return hasRequiredIsKey||(hasRequiredIsKey=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIsSymbol(),Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pe=/^\w*$/;function Re(Ie,Be){return Array.isArray(Ie)?!1:typeof Ie=="number"||typeof Ie=="boolean"||Ie==null||_e.isSymbol(Ie)?!0:typeof Ie=="string"&&(Pe.test(Ie)||!Ce.test(Ie))||Be!=null&&Object.hasOwn(Be,Ie)}Ee.isKey=Re}(isKey)),isKey}var hasRequiredOrderBy;function requireOrderBy(){return hasRequiredOrderBy||(hasRequiredOrderBy=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireCompareValues(),Ce=requireIsKey(),Pe=requireToPath();function Re(Ie,Be,je,De){if(Ie==null)return[];je=De?void 0:je,Array.isArray(Ie)||(Ie=Object.values(Ie)),Array.isArray(Be)||(Be=Be==null?[null]:[Be]),Be.length===0&&(Be=[null]),Array.isArray(je)||(je=je==null?[]:[je]),je=je.map($e=>String($e));const Fe=($e,He)=>{let Qe=$e;for(let Ke=0;Ke<He.length&&Qe!=null;++Ke)Qe=Qe[He[Ke]];return Qe},Oe=($e,He)=>He==null||$e==null?He:typeof $e=="object"&&"key"in $e?Object.hasOwn(He,$e.key)?He[$e.key]:Fe(He,$e.path):typeof $e=="function"?$e(He):Array.isArray($e)?Fe(He,$e):typeof He=="object"?He[$e]:He,ke=Be.map($e=>(Array.isArray($e)&&$e.length===1&&($e=$e[0]),$e==null||typeof $e=="function"||Array.isArray($e)||Ce.isKey($e)?$e:{key:$e,path:Pe.toPath($e)}));return Ie.map($e=>({original:$e,criteria:ke.map(He=>Oe(He,$e))})).slice().sort(($e,He)=>{for(let Qe=0;Qe<ke.length;Qe++){const Ke=_e.compareValues($e.criteria[Qe],He.criteria[Qe],je[Qe]);if(Ke!==0)return Ke}return 0}).map($e=>$e.original)}Ee.orderBy=Re}(orderBy)),orderBy}var flatten={},hasRequiredFlatten;function requireFlatten(){return hasRequiredFlatten||(hasRequiredFlatten=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce,Pe=1){const Re=[],Ie=Math.floor(Pe),Be=(je,De)=>{for(let Fe=0;Fe<je.length;Fe++){const Oe=je[Fe];Array.isArray(Oe)&&De<Ie?Be(Oe,De+1):Re.push(Oe)}};return Be(Ce,0),Re}Ee.flatten=_e}(flatten)),flatten}var isIterateeCall={},hasRequiredIsIterateeCall;function requireIsIterateeCall(){return hasRequiredIsIterateeCall||(hasRequiredIsIterateeCall=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIsIndex(),Ce=requireIsArrayLike(),Pe=requireIsObject(),Re=requireEq();function Ie(Be,je,De){return Pe.isObject(De)&&(typeof je=="number"&&Ce.isArrayLike(De)&&_e.isIndex(je)&&je<De.length||typeof je=="string"&&je in De)?Re.eq(De[je],Be):!1}Ee.isIterateeCall=Ie}(isIterateeCall)),isIterateeCall}var hasRequiredSortBy$1;function requireSortBy$1(){return hasRequiredSortBy$1||(hasRequiredSortBy$1=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireOrderBy(),Ce=requireFlatten(),Pe=requireIsIterateeCall();function Re(Ie,...Be){const je=Be.length;return je>1&&Pe.isIterateeCall(Ie,Be[0],Be[1])?Be=[]:je>2&&Pe.isIterateeCall(Be[0],Be[1],Be[2])&&(Be=[Be[0]]),_e.orderBy(Ie,Ce.flatten(Be),["asc"])}Ee.sortBy=Re}(sortBy$2)),sortBy$2}var sortBy$1,hasRequiredSortBy;function requireSortBy(){return hasRequiredSortBy||(hasRequiredSortBy=1,sortBy$1=requireSortBy$1().sortBy),sortBy$1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);var selectLegendSettings=Ee=>Ee.legend.settings,selectLegendSize=Ee=>Ee.legend.size,selectAllLegendPayload2DArray=Ee=>Ee.legend.payload,selectLegendPayload=createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(Ee,_e)=>{var{itemSorter:Ce}=_e,Pe=Ee.flat(1);return Ce?sortBy(Pe,Ce):Pe});function useLegendPayload(){return useAppSelector(selectLegendPayload)}var EPS$1=1;function useElementOffset(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[_e,Ce]=reactExports.useState({height:0,left:0,top:0,width:0}),Pe=reactExports.useCallback(Re=>{if(Re!=null){var Ie=Re.getBoundingClientRect(),Be={height:Ie.height,left:Ie.left,top:Ie.top,width:Ie.width};(Math.abs(Be.height-_e.height)>EPS$1||Math.abs(Be.left-_e.left)>EPS$1||Math.abs(Be.top-_e.top)>EPS$1||Math.abs(Be.width-_e.width)>EPS$1)&&Ce({height:Be.height,left:Be.left,top:Be.top,width:Be.width})}},[_e.width,_e.height,_e.top,_e.left,...Ee]);return[_e,Pe]}function formatProdErrorMessage$1(Ee){return`Minified Redux error #${Ee}; visit https://redux.js.org/Errors?code=${Ee} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$5(Ee){if(typeof Ee!="object"||Ee===null)return!1;let _e=Ee;for(;Object.getPrototypeOf(_e)!==null;)_e=Object.getPrototypeOf(_e);return Object.getPrototypeOf(Ee)===_e||Object.getPrototypeOf(Ee)===null}function createStore(Ee,_e,Ce){if(typeof Ee!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof _e=="function"&&typeof Ce=="function"||typeof Ce=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof _e=="function"&&typeof Ce>"u"&&(Ce=_e,_e=void 0),typeof Ce<"u"){if(typeof Ce!="function")throw new Error(formatProdErrorMessage$1(1));return Ce(createStore)(Ee,_e)}let Pe=Ee,Re=_e,Ie=new Map,Be=Ie,je=0,De=!1;function Fe(){Be===Ie&&(Be=new Map,Ie.forEach((Ke,ze)=>{Be.set(ze,Ke)}))}function Oe(){if(De)throw new Error(formatProdErrorMessage$1(3));return Re}function ke(Ke){if(typeof Ke!="function")throw new Error(formatProdErrorMessage$1(4));if(De)throw new Error(formatProdErrorMessage$1(5));let ze=!0;Fe();const We=je++;return Be.set(We,Ke),function(){if(ze){if(De)throw new Error(formatProdErrorMessage$1(6));ze=!1,Fe(),Be.delete(We),Ie=null}}}function Me(Ke){if(!isPlainObject$5(Ke))throw new Error(formatProdErrorMessage$1(7));if(typeof Ke.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof Ke.type!="string")throw new Error(formatProdErrorMessage$1(17));if(De)throw new Error(formatProdErrorMessage$1(9));try{De=!0,Re=Pe(Re,Ke)}finally{De=!1}return(Ie=Be).forEach(We=>{We()}),Ke}function $e(Ke){if(typeof Ke!="function")throw new Error(formatProdErrorMessage$1(10));Pe=Ke,Me({type:actionTypes_default.REPLACE})}function He(){const Ke=ke;return{subscribe(ze){if(typeof ze!="object"||ze===null)throw new Error(formatProdErrorMessage$1(11));function We(){const Ye=ze;Ye.next&&Ye.next(Oe())}return We(),{unsubscribe:Ke(We)}},[symbol_observable_default](){return this}}}return Me({type:actionTypes_default.INIT}),{dispatch:Me,subscribe:ke,getState:Oe,replaceReducer:$e,[symbol_observable_default]:He}}function assertReducerShape(Ee){Object.keys(Ee).forEach(_e=>{const Ce=Ee[_e];if(typeof Ce(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof Ce(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(Ee){const _e=Object.keys(Ee),Ce={};for(let Ie=0;Ie<_e.length;Ie++){const Be=_e[Ie];typeof Ee[Be]=="function"&&(Ce[Be]=Ee[Be])}const Pe=Object.keys(Ce);let Re;try{assertReducerShape(Ce)}catch(Ie){Re=Ie}return function(Be={},je){if(Re)throw Re;let De=!1;const Fe={};for(let Oe=0;Oe<Pe.length;Oe++){const ke=Pe[Oe],Me=Ce[ke],$e=Be[ke],He=Me($e,je);if(typeof He>"u")throw je&&je.type,new Error(formatProdErrorMessage$1(14));Fe[ke]=He,De=De||He!==$e}return De=De||Pe.length!==Object.keys(Be).length,De?Fe:Be}}function compose$1(...Ee){return Ee.length===0?_e=>_e:Ee.length===1?Ee[0]:Ee.reduce((_e,Ce)=>(...Pe)=>_e(Ce(...Pe)))}function applyMiddleware(...Ee){return _e=>(Ce,Pe)=>{const Re=_e(Ce,Pe);let Ie=()=>{throw new Error(formatProdErrorMessage$1(15))};const Be={getState:Re.getState,dispatch:(De,...Fe)=>Ie(De,...Fe)},je=Ee.map(De=>De(Be));return Ie=compose$1(...je)(Re.dispatch),{...Re,dispatch:Ie}}}function isAction(Ee){return isPlainObject$5(Ee)&&"type"in Ee&&typeof Ee.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(Ee,..._e){throw new Error(`[Immer] minified error nr: ${Ee}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(Ee){return!!Ee&&!!Ee[DRAFT_STATE]}function isDraftable(Ee){return Ee?isPlainObject$4(Ee)||Array.isArray(Ee)||!!Ee[DRAFTABLE]||!!Ee.constructor?.[DRAFTABLE]||isMap(Ee)||isSet(Ee):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject$4(Ee){if(!Ee||typeof Ee!="object")return!1;const _e=getPrototypeOf(Ee);if(_e===null)return!0;const Ce=Object.hasOwnProperty.call(_e,"constructor")&&_e.constructor;return Ce===Object?!0:typeof Ce=="function"&&Function.toString.call(Ce)===objectCtorString}function each(Ee,_e){getArchtype(Ee)===0?Reflect.ownKeys(Ee).forEach(Ce=>{_e(Ce,Ee[Ce],Ee)}):Ee.forEach((Ce,Pe)=>_e(Pe,Ce,Ee))}function getArchtype(Ee){const _e=Ee[DRAFT_STATE];return _e?_e.type_:Array.isArray(Ee)?1:isMap(Ee)?2:isSet(Ee)?3:0}function has(Ee,_e){return getArchtype(Ee)===2?Ee.has(_e):Object.prototype.hasOwnProperty.call(Ee,_e)}function set(Ee,_e,Ce){const Pe=getArchtype(Ee);Pe===2?Ee.set(_e,Ce):Pe===3?Ee.add(Ce):Ee[_e]=Ce}function is(Ee,_e){return Ee===_e?Ee!==0||1/Ee===1/_e:Ee!==Ee&&_e!==_e}function isMap(Ee){return Ee instanceof Map}function isSet(Ee){return Ee instanceof Set}function latest(Ee){return Ee.copy_||Ee.base_}function shallowCopy(Ee,_e){if(isMap(Ee))return new Map(Ee);if(isSet(Ee))return new Set(Ee);if(Array.isArray(Ee))return Array.prototype.slice.call(Ee);const Ce=isPlainObject$4(Ee);if(_e===!0||_e==="class_only"&&!Ce){const Pe=Object.getOwnPropertyDescriptors(Ee);delete Pe[DRAFT_STATE];let Re=Reflect.ownKeys(Pe);for(let Ie=0;Ie<Re.length;Ie++){const Be=Re[Ie],je=Pe[Be];je.writable===!1&&(je.writable=!0,je.configurable=!0),(je.get||je.set)&&(Pe[Be]={configurable:!0,writable:!0,enumerable:je.enumerable,value:Ee[Be]})}return Object.create(getPrototypeOf(Ee),Pe)}else{const Pe=getPrototypeOf(Ee);if(Pe!==null&&Ce)return{...Ee};const Re=Object.create(Pe);return Object.assign(Re,Ee)}}function freeze(Ee,_e=!1){return isFrozen(Ee)||isDraft(Ee)||!isDraftable(Ee)||(getArchtype(Ee)>1&&(Ee.set=Ee.add=Ee.clear=Ee.delete=dontMutateFrozenCollections),Object.freeze(Ee),_e&&Object.entries(Ee).forEach(([Ce,Pe])=>freeze(Pe,!0))),Ee}function dontMutateFrozenCollections(){die(2)}function isFrozen(Ee){return Object.isFrozen(Ee)}var plugins={};function getPlugin(Ee){const _e=plugins[Ee];return _e||die(0,Ee),_e}var currentScope;function getCurrentScope(){return currentScope}function createScope(Ee,_e){return{drafts_:[],parent_:Ee,immer_:_e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(Ee,_e){_e&&(getPlugin("Patches"),Ee.patches_=[],Ee.inversePatches_=[],Ee.patchListener_=_e)}function revokeScope(Ee){leaveScope(Ee),Ee.drafts_.forEach(revokeDraft),Ee.drafts_=null}function leaveScope(Ee){Ee===currentScope&&(currentScope=Ee.parent_)}function enterScope(Ee){return currentScope=createScope(currentScope,Ee)}function revokeDraft(Ee){const _e=Ee[DRAFT_STATE];_e.type_===0||_e.type_===1?_e.revoke_():_e.revoked_=!0}function processResult(Ee,_e){_e.unfinalizedDrafts_=_e.drafts_.length;const Ce=_e.drafts_[0];return Ee!==void 0&&Ee!==Ce?(Ce[DRAFT_STATE].modified_&&(revokeScope(_e),die(4)),isDraftable(Ee)&&(Ee=finalize(_e,Ee),_e.parent_||maybeFreeze(_e,Ee)),_e.patches_&&getPlugin("Patches").generateReplacementPatches_(Ce[DRAFT_STATE].base_,Ee,_e.patches_,_e.inversePatches_)):Ee=finalize(_e,Ce,[]),revokeScope(_e),_e.patches_&&_e.patchListener_(_e.patches_,_e.inversePatches_),Ee!==NOTHING?Ee:void 0}function finalize(Ee,_e,Ce){if(isFrozen(_e))return _e;const Pe=_e[DRAFT_STATE];if(!Pe)return each(_e,(Re,Ie)=>finalizeProperty(Ee,Pe,_e,Re,Ie,Ce)),_e;if(Pe.scope_!==Ee)return _e;if(!Pe.modified_)return maybeFreeze(Ee,Pe.base_,!0),Pe.base_;if(!Pe.finalized_){Pe.finalized_=!0,Pe.scope_.unfinalizedDrafts_--;const Re=Pe.copy_;let Ie=Re,Be=!1;Pe.type_===3&&(Ie=new Set(Re),Re.clear(),Be=!0),each(Ie,(je,De)=>finalizeProperty(Ee,Pe,Re,je,De,Ce,Be)),maybeFreeze(Ee,Re,!1),Ce&&Ee.patches_&&getPlugin("Patches").generatePatches_(Pe,Ce,Ee.patches_,Ee.inversePatches_)}return Pe.copy_}function finalizeProperty(Ee,_e,Ce,Pe,Re,Ie,Be){if(isDraft(Re)){const je=Ie&&_e&&_e.type_!==3&&!has(_e.assigned_,Pe)?Ie.concat(Pe):void 0,De=finalize(Ee,Re,je);if(set(Ce,Pe,De),isDraft(De))Ee.canAutoFreeze_=!1;else return}else Be&&Ce.add(Re);if(isDraftable(Re)&&!isFrozen(Re)){if(!Ee.immer_.autoFreeze_&&Ee.unfinalizedDrafts_<1)return;finalize(Ee,Re),(!_e||!_e.scope_.parent_)&&typeof Pe!="symbol"&&Object.prototype.propertyIsEnumerable.call(Ce,Pe)&&maybeFreeze(Ee,Re)}}function maybeFreeze(Ee,_e,Ce=!1){!Ee.parent_&&Ee.immer_.autoFreeze_&&Ee.canAutoFreeze_&&freeze(_e,Ce)}function createProxyProxy(Ee,_e){const Ce=Array.isArray(Ee),Pe={type_:Ce?1:0,scope_:_e?_e.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:_e,base_:Ee,draft_:null,copy_:null,revoke_:null,isManual_:!1};let Re=Pe,Ie=objectTraps;Ce&&(Re=[Pe],Ie=arrayTraps);const{revoke:Be,proxy:je}=Proxy.revocable(Re,Ie);return Pe.draft_=je,Pe.revoke_=Be,je}var objectTraps={get(Ee,_e){if(_e===DRAFT_STATE)return Ee;const Ce=latest(Ee);if(!has(Ce,_e))return readPropFromProto(Ee,Ce,_e);const Pe=Ce[_e];return Ee.finalized_||!isDraftable(Pe)?Pe:Pe===peek(Ee.base_,_e)?(prepareCopy(Ee),Ee.copy_[_e]=createProxy(Pe,Ee)):Pe},has(Ee,_e){return _e in latest(Ee)},ownKeys(Ee){return Reflect.ownKeys(latest(Ee))},set(Ee,_e,Ce){const Pe=getDescriptorFromProto(latest(Ee),_e);if(Pe?.set)return Pe.set.call(Ee.draft_,Ce),!0;if(!Ee.modified_){const Re=peek(latest(Ee),_e),Ie=Re?.[DRAFT_STATE];if(Ie&&Ie.base_===Ce)return Ee.copy_[_e]=Ce,Ee.assigned_[_e]=!1,!0;if(is(Ce,Re)&&(Ce!==void 0||has(Ee.base_,_e)))return!0;prepareCopy(Ee),markChanged(Ee)}return Ee.copy_[_e]===Ce&&(Ce!==void 0||_e in Ee.copy_)||Number.isNaN(Ce)&&Number.isNaN(Ee.copy_[_e])||(Ee.copy_[_e]=Ce,Ee.assigned_[_e]=!0),!0},deleteProperty(Ee,_e){return peek(Ee.base_,_e)!==void 0||_e in Ee.base_?(Ee.assigned_[_e]=!1,prepareCopy(Ee),markChanged(Ee)):delete Ee.assigned_[_e],Ee.copy_&&delete Ee.copy_[_e],!0},getOwnPropertyDescriptor(Ee,_e){const Ce=latest(Ee),Pe=Reflect.getOwnPropertyDescriptor(Ce,_e);return Pe&&{writable:!0,configurable:Ee.type_!==1||_e!=="length",enumerable:Pe.enumerable,value:Ce[_e]}},defineProperty(){die(11)},getPrototypeOf(Ee){return getPrototypeOf(Ee.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(Ee,_e)=>{arrayTraps[Ee]=function(){return arguments[0]=arguments[0][0],_e.apply(this,arguments)}});arrayTraps.deleteProperty=function(Ee,_e){return arrayTraps.set.call(this,Ee,_e,void 0)};arrayTraps.set=function(Ee,_e,Ce){return objectTraps.set.call(this,Ee[0],_e,Ce,Ee[0])};function peek(Ee,_e){const Ce=Ee[DRAFT_STATE];return(Ce?latest(Ce):Ee)[_e]}function readPropFromProto(Ee,_e,Ce){const Pe=getDescriptorFromProto(_e,Ce);return Pe?"value"in Pe?Pe.value:Pe.get?.call(Ee.draft_):void 0}function getDescriptorFromProto(Ee,_e){if(!(_e in Ee))return;let Ce=getPrototypeOf(Ee);for(;Ce;){const Pe=Object.getOwnPropertyDescriptor(Ce,_e);if(Pe)return Pe;Ce=getPrototypeOf(Ce)}}function markChanged(Ee){Ee.modified_||(Ee.modified_=!0,Ee.parent_&&markChanged(Ee.parent_))}function prepareCopy(Ee){Ee.copy_||(Ee.copy_=shallowCopy(Ee.base_,Ee.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(Ee){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(_e,Ce,Pe)=>{if(typeof _e=="function"&&typeof Ce!="function"){const Ie=Ce;Ce=_e;const Be=this;return function(De=Ie,...Fe){return Be.produce(De,Oe=>Ce.call(this,Oe,...Fe))}}typeof Ce!="function"&&die(6),Pe!==void 0&&typeof Pe!="function"&&die(7);let Re;if(isDraftable(_e)){const Ie=enterScope(this),Be=createProxy(_e,void 0);let je=!0;try{Re=Ce(Be),je=!1}finally{je?revokeScope(Ie):leaveScope(Ie)}return usePatchesInScope(Ie,Pe),processResult(Re,Ie)}else if(!_e||typeof _e!="object"){if(Re=Ce(_e),Re===void 0&&(Re=_e),Re===NOTHING&&(Re=void 0),this.autoFreeze_&&freeze(Re,!0),Pe){const Ie=[],Be=[];getPlugin("Patches").generateReplacementPatches_(_e,Re,Ie,Be),Pe(Ie,Be)}return Re}else die(1,_e)},this.produceWithPatches=(_e,Ce)=>{if(typeof _e=="function")return(Be,...je)=>this.produceWithPatches(Be,De=>_e(De,...je));let Pe,Re;return[this.produce(_e,Ce,(Be,je)=>{Pe=Be,Re=je}),Pe,Re]},typeof Ee?.autoFreeze=="boolean"&&this.setAutoFreeze(Ee.autoFreeze),typeof Ee?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(Ee.useStrictShallowCopy)}createDraft(Ee){isDraftable(Ee)||die(8),isDraft(Ee)&&(Ee=current(Ee));const _e=enterScope(this),Ce=createProxy(Ee,void 0);return Ce[DRAFT_STATE].isManual_=!0,leaveScope(_e),Ce}finishDraft(Ee,_e){const Ce=Ee&&Ee[DRAFT_STATE];(!Ce||!Ce.isManual_)&&die(9);const{scope_:Pe}=Ce;return usePatchesInScope(Pe,_e),processResult(void 0,Pe)}setAutoFreeze(Ee){this.autoFreeze_=Ee}setUseStrictShallowCopy(Ee){this.useStrictShallowCopy_=Ee}applyPatches(Ee,_e){let Ce;for(Ce=_e.length-1;Ce>=0;Ce--){const Re=_e[Ce];if(Re.path.length===0&&Re.op==="replace"){Ee=Re.value;break}}Ce>-1&&(_e=_e.slice(Ce+1));const Pe=getPlugin("Patches").applyPatches_;return isDraft(Ee)?Pe(Ee,_e):this.produce(Ee,Re=>Pe(Re,_e))}};function createProxy(Ee,_e){const Ce=isMap(Ee)?getPlugin("MapSet").proxyMap_(Ee,_e):isSet(Ee)?getPlugin("MapSet").proxySet_(Ee,_e):createProxyProxy(Ee,_e);return(_e?_e.scope_:getCurrentScope()).drafts_.push(Ce),Ce}function current(Ee){return isDraft(Ee)||die(10,Ee),currentImpl(Ee)}function currentImpl(Ee){if(!isDraftable(Ee)||isFrozen(Ee))return Ee;const _e=Ee[DRAFT_STATE];let Ce;if(_e){if(!_e.modified_)return _e.base_;_e.finalized_=!0,Ce=shallowCopy(Ee,_e.scope_.immer_.useStrictShallowCopy_)}else Ce=shallowCopy(Ee,!0);return each(Ce,(Pe,Re)=>{set(Ce,Pe,currentImpl(Re))}),_e&&(_e.finalized_=!1),Ce}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function castDraft(Ee){return Ee}function createThunkMiddleware(Ee){return({dispatch:Ce,getState:Pe})=>Re=>Ie=>typeof Ie=="function"?Ie(Ce,Pe,Ee):Re(Ie)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)};function createAction(Ee,_e){function Ce(...Pe){if(_e){let Re=_e(...Pe);if(!Re)throw new Error(formatProdErrorMessage(0));return{type:Ee,payload:Re.payload,..."meta"in Re&&{meta:Re.meta},..."error"in Re&&{error:Re.error}}}return{type:Ee,payload:Pe[0]}}return Ce.toString=()=>`${Ee}`,Ce.type=Ee,Ce.match=Pe=>isAction(Pe)&&Pe.type===Ee,Ce}var Tuple=class EA extends Array{constructor(..._e){super(..._e),Object.setPrototypeOf(this,EA.prototype)}static get[Symbol.species](){return EA}concat(..._e){return super.concat.apply(this,_e)}prepend(..._e){return _e.length===1&&Array.isArray(_e[0])?new EA(..._e[0].concat(this)):new EA(..._e.concat(this))}};function freezeDraftable(Ee){return isDraftable(Ee)?produce(Ee,()=>{}):Ee}function getOrInsertComputed(Ee,_e,Ce){return Ee.has(_e)?Ee.get(_e):Ee.set(_e,Ce(_e)).get(_e)}function isBoolean(Ee){return typeof Ee=="boolean"}var buildGetDefaultMiddleware=()=>function(_e){const{thunk:Ce=!0,immutableCheck:Pe=!0,serializableCheck:Re=!0,actionCreatorCheck:Ie=!0}=_e??{};let Be=new Tuple;return Ce&&(isBoolean(Ce)?Be.push(thunk):Be.push(withExtraArgument(Ce.extraArgument))),Be},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=Ee=>_e=>{setTimeout(_e,Ee)},autoBatchEnhancer=(Ee={type:"raf"})=>_e=>(...Ce)=>{const Pe=_e(...Ce);let Re=!0,Ie=!1,Be=!1;const je=new Set,De=Ee.type==="tick"?queueMicrotask:Ee.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):Ee.type==="callback"?Ee.queueNotification:createQueueWithTimer(Ee.timeout),Fe=()=>{Be=!1,Ie&&(Ie=!1,je.forEach(Oe=>Oe()))};return Object.assign({},Pe,{subscribe(Oe){const ke=()=>Re&&Oe(),Me=Pe.subscribe(ke);return je.add(Oe),()=>{Me(),je.delete(Oe)}},dispatch(Oe){try{return Re=!Oe?.meta?.[SHOULD_AUTOBATCH],Ie=!Re,Ie&&(Be||(Be=!0,De(Fe))),Pe.dispatch(Oe)}finally{Re=!0}}})},buildGetDefaultEnhancers=Ee=>function(Ce){const{autoBatch:Pe=!0}=Ce??{};let Re=new Tuple(Ee);return Pe&&Re.push(autoBatchEnhancer(typeof Pe=="object"?Pe:void 0)),Re};function configureStore(Ee){const _e=buildGetDefaultMiddleware(),{reducer:Ce=void 0,middleware:Pe,devTools:Re=!0,preloadedState:Ie=void 0,enhancers:Be=void 0}=Ee||{};let je;if(typeof Ce=="function")je=Ce;else if(isPlainObject$5(Ce))je=combineReducers(Ce);else throw new Error(formatProdErrorMessage(1));let De;typeof Pe=="function"?De=Pe(_e):De=_e();let Fe=compose$1;Re&&(Fe=composeWithDevTools({trace:!1,...typeof Re=="object"&&Re}));const Oe=applyMiddleware(...De),ke=buildGetDefaultEnhancers(Oe);let Me=typeof Be=="function"?Be(ke):ke();const $e=Fe(...Me);return createStore(je,Ie,$e)}function executeReducerBuilderCallback(Ee){const _e={},Ce=[];let Pe;const Re={addCase(Ie,Be){const je=typeof Ie=="string"?Ie:Ie.type;if(!je)throw new Error(formatProdErrorMessage(28));if(je in _e)throw new Error(formatProdErrorMessage(29));return _e[je]=Be,Re},addMatcher(Ie,Be){return Ce.push({matcher:Ie,reducer:Be}),Re},addDefaultCase(Ie){return Pe=Ie,Re}};return Ee(Re),[_e,Ce,Pe]}function isStateFunction(Ee){return typeof Ee=="function"}function createReducer(Ee,_e){let[Ce,Pe,Re]=executeReducerBuilderCallback(_e),Ie;if(isStateFunction(Ee))Ie=()=>freezeDraftable(Ee());else{const je=freezeDraftable(Ee);Ie=()=>je}function Be(je=Ie(),De){let Fe=[Ce[De.type],...Pe.filter(({matcher:Oe})=>Oe(De)).map(({reducer:Oe})=>Oe)];return Fe.filter(Oe=>!!Oe).length===0&&(Fe=[Re]),Fe.reduce((Oe,ke)=>{if(ke)if(isDraft(Oe)){const $e=ke(Oe,De);return $e===void 0?Oe:$e}else{if(isDraftable(Oe))return produce(Oe,Me=>ke(Me,De));{const Me=ke(Oe,De);if(Me===void 0){if(Oe===null)return Oe;throw Error("A case reducer on a non-draftable value must not return undefined")}return Me}}return Oe},je)}return Be.getInitialState=Ie,Be}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(Ee=21)=>{let _e="",Ce=Ee;for(;Ce--;)_e+=urlAlphabet[Math.random()*64|0];return _e},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(Ee,_e){return`${Ee}/${_e}`}function buildCreateSlice({creators:Ee}={}){const _e=Ee?.asyncThunk?.[asyncThunkSymbol];return function(Pe){const{name:Re,reducerPath:Ie=Re}=Pe;if(!Re)throw new Error(formatProdErrorMessage(11));const Be=(typeof Pe.reducers=="function"?Pe.reducers(buildReducerCreators()):Pe.reducers)||{},je=Object.keys(Be),De={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},Fe={addCase(qe,Ye){const Xe=typeof qe=="string"?qe:qe.type;if(!Xe)throw new Error(formatProdErrorMessage(12));if(Xe in De.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return De.sliceCaseReducersByType[Xe]=Ye,Fe},addMatcher(qe,Ye){return De.sliceMatchers.push({matcher:qe,reducer:Ye}),Fe},exposeAction(qe,Ye){return De.actionCreators[qe]=Ye,Fe},exposeCaseReducer(qe,Ye){return De.sliceCaseReducersByName[qe]=Ye,Fe}};je.forEach(qe=>{const Ye=Be[qe],Xe={reducerName:qe,type:getType(Re,qe),createNotation:typeof Pe.reducers=="function"};isAsyncThunkSliceReducerDefinition(Ye)?handleThunkCaseReducerDefinition(Xe,Ye,Fe,_e):handleNormalReducerDefinition(Xe,Ye,Fe)});function Oe(){const[qe={},Ye=[],Xe=void 0]=typeof Pe.extraReducers=="function"?executeReducerBuilderCallback(Pe.extraReducers):[Pe.extraReducers],rr={...qe,...De.sliceCaseReducersByType};return createReducer(Pe.initialState,Je=>{for(let er in rr)Je.addCase(er,rr[er]);for(let er of De.sliceMatchers)Je.addMatcher(er.matcher,er.reducer);for(let er of Ye)Je.addMatcher(er.matcher,er.reducer);Xe&&Je.addDefaultCase(Xe)})}const ke=qe=>qe,Me=new Map,$e=new WeakMap;let He;function Qe(qe,Ye){return He||(He=Oe()),He(qe,Ye)}function Ke(){return He||(He=Oe()),He.getInitialState()}function ze(qe,Ye=!1){function Xe(Je){let er=Je[qe];return typeof er>"u"&&Ye&&(er=getOrInsertComputed($e,Xe,Ke)),er}function rr(Je=ke){const er=getOrInsertComputed(Me,Ye,()=>new WeakMap);return getOrInsertComputed(er,Je,()=>{const or={};for(const[pr,ar]of Object.entries(Pe.selectors??{}))or[pr]=wrapSelector(ar,Je,()=>getOrInsertComputed($e,Je,Ke),Ye);return or})}return{reducerPath:qe,getSelectors:rr,get selectors(){return rr(Xe)},selectSlice:Xe}}const We={name:Re,reducer:Qe,actions:De.actionCreators,caseReducers:De.sliceCaseReducersByName,getInitialState:Ke,...ze(Ie),injectInto(qe,{reducerPath:Ye,...Xe}={}){const rr=Ye??Ie;return qe.inject({reducerPath:rr,reducer:Qe},Xe),{...We,...ze(rr,!0)}}};return We}}function wrapSelector(Ee,_e,Ce,Pe){function Re(Ie,...Be){let je=_e(Ie);return typeof je>"u"&&Pe&&(je=Ce()),Ee(je,...Be)}return Re.unwrapped=Ee,Re}var createSlice=buildCreateSlice();function buildReducerCreators(){function Ee(_e,Ce){return{_reducerDefinitionType:"asyncThunk",payloadCreator:_e,...Ce}}return Ee.withTypes=()=>Ee,{reducer(_e){return Object.assign({[_e.name](...Ce){return _e(...Ce)}}[_e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(_e,Ce){return{_reducerDefinitionType:"reducerWithPrepare",prepare:_e,reducer:Ce}},asyncThunk:Ee}}function handleNormalReducerDefinition({type:Ee,reducerName:_e,createNotation:Ce},Pe,Re){let Ie,Be;if("reducer"in Pe){if(Ce&&!isCaseReducerWithPrepareDefinition(Pe))throw new Error(formatProdErrorMessage(17));Ie=Pe.reducer,Be=Pe.prepare}else Ie=Pe;Re.addCase(Ee,Ie).exposeCaseReducer(_e,Ie).exposeAction(_e,Be?createAction(Ee,Be):createAction(Ee))}function isAsyncThunkSliceReducerDefinition(Ee){return Ee._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(Ee){return Ee._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:Ee,reducerName:_e},Ce,Pe,Re){if(!Re)throw new Error(formatProdErrorMessage(18));const{payloadCreator:Ie,fulfilled:Be,pending:je,rejected:De,settled:Fe,options:Oe}=Ce,ke=Re(Ee,Ie,Oe);Pe.exposeAction(_e,ke),Be&&Pe.addCase(ke.fulfilled,Be),je&&Pe.addCase(ke.pending,je),De&&Pe.addCase(ke.rejected,De),Fe&&Pe.addMatcher(ke.settled,Fe),Pe.exposeCaseReducer(_e,{fulfilled:Be||noop$6,pending:je||noop$6,rejected:De||noop$6,settled:Fe||noop$6})}function noop$6(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(Ee){this.code=Ee,this.message=`${task} ${cancelled} (reason: ${Ee})`}name="TaskAbortError";message},assertFunction=(Ee,_e)=>{if(typeof Ee!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(Ee,_e=noop2)=>(Ee.catch(_e),Ee),addAbortSignalListener=(Ee,_e)=>(Ee.addEventListener("abort",_e,{once:!0}),()=>Ee.removeEventListener("abort",_e)),abortControllerWithReason=(Ee,_e)=>{const Ce=Ee.signal;Ce.aborted||("reason"in Ce||Object.defineProperty(Ce,"reason",{enumerable:!0,value:_e,configurable:!0,writable:!0}),Ee.abort(_e))},validateActive=Ee=>{if(Ee.aborted){const{reason:_e}=Ee;throw new TaskAbortError(_e)}};function raceWithSignal(Ee,_e){let Ce=noop2;return new Promise((Pe,Re)=>{const Ie=()=>Re(new TaskAbortError(Ee.reason));if(Ee.aborted){Ie();return}Ce=addAbortSignalListener(Ee,Ie),_e.finally(()=>Ce()).then(Pe,Re)}).finally(()=>{Ce=noop2})}var runTask=async(Ee,_e)=>{try{return await Promise.resolve(),{status:"ok",value:await Ee()}}catch(Ce){return{status:Ce instanceof TaskAbortError?"cancelled":"rejected",error:Ce}}finally{_e?.()}},createPause=Ee=>_e=>catchRejection(raceWithSignal(Ee,_e).then(Ce=>(validateActive(Ee),Ce))),createDelay=Ee=>{const _e=createPause(Ee);return Ce=>_e(new Promise(Pe=>setTimeout(Pe,Ce)))},{assign}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(Ee,_e)=>{const Ce=Pe=>addAbortSignalListener(Ee,()=>abortControllerWithReason(Pe,Ee.reason));return(Pe,Re)=>{assertFunction(Pe);const Ie=new AbortController;Ce(Ie);const Be=runTask(async()=>{validateActive(Ee),validateActive(Ie.signal);const je=await Pe({pause:createPause(Ie.signal),delay:createDelay(Ie.signal),signal:Ie.signal});return validateActive(Ie.signal),je},()=>abortControllerWithReason(Ie,taskCompleted));return Re?.autoJoin&&_e.push(Be.catch(noop2)),{result:createPause(Ee)(Be),cancel(){abortControllerWithReason(Ie,taskCancelled)}}}},createTakePattern=(Ee,_e)=>{const Ce=async(Pe,Re)=>{validateActive(_e);let Ie=()=>{};const je=[new Promise((De,Fe)=>{let Oe=Ee({predicate:Pe,effect:(ke,Me)=>{Me.unsubscribe(),De([ke,Me.getState(),Me.getOriginalState()])}});Ie=()=>{Oe(),Fe()}})];Re!=null&&je.push(new Promise(De=>setTimeout(De,Re,null)));try{const De=await raceWithSignal(_e,Promise.race(je));return validateActive(_e),De}finally{Ie()}};return(Pe,Re)=>catchRejection(Ce(Pe,Re))},getListenerEntryPropsFrom=Ee=>{let{type:_e,actionCreator:Ce,matcher:Pe,predicate:Re,effect:Ie}=Ee;if(_e)Re=createAction(_e).match;else if(Ce)_e=Ce.type,Re=Ce.match;else if(Pe)Re=Pe;else if(!Re)throw new Error(formatProdErrorMessage(21));return assertFunction(Ie),{predicate:Re,type:_e,effect:Ie}},createListenerEntry=assign(Ee=>{const{type:_e,predicate:Ce,effect:Pe}=getListenerEntryPropsFrom(Ee);return{id:nanoid(),effect:Pe,type:_e,predicate:Ce,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(Ee,_e)=>{const{type:Ce,effect:Pe,predicate:Re}=getListenerEntryPropsFrom(_e);return Array.from(Ee.values()).find(Ie=>(typeof Ce=="string"?Ie.type===Ce:Ie.predicate===Re)&&Ie.effect===Pe)},cancelActiveListeners=Ee=>{Ee.pending.forEach(_e=>{abortControllerWithReason(_e,listenerCancelled)})},createClearListenerMiddleware=Ee=>()=>{Ee.forEach(cancelActiveListeners),Ee.clear()},safelyNotifyError=(Ee,_e,Ce)=>{try{Ee(_e,Ce)}catch(Pe){setTimeout(()=>{throw Pe},0)}},addListener=assign(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(...Ee)=>{console.error(`${alm}/error`,...Ee)},createListenerMiddleware=(Ee={})=>{const _e=new Map,{extra:Ce,onError:Pe=defaultErrorHandler}=Ee;assertFunction(Pe);const Re=Oe=>(Oe.unsubscribe=()=>_e.delete(Oe.id),_e.set(Oe.id,Oe),ke=>{Oe.unsubscribe(),ke?.cancelActive&&cancelActiveListeners(Oe)}),Ie=Oe=>{const ke=findListenerEntry(_e,Oe)??createListenerEntry(Oe);return Re(ke)};assign(Ie,{withTypes:()=>Ie});const Be=Oe=>{const ke=findListenerEntry(_e,Oe);return ke&&(ke.unsubscribe(),Oe.cancelActive&&cancelActiveListeners(ke)),!!ke};assign(Be,{withTypes:()=>Be});const je=async(Oe,ke,Me,$e)=>{const He=new AbortController,Qe=createTakePattern(Ie,He.signal),Ke=[];try{Oe.pending.add(He),await Promise.resolve(Oe.effect(ke,assign({},Me,{getOriginalState:$e,condition:(ze,We)=>Qe(ze,We).then(Boolean),take:Qe,delay:createDelay(He.signal),pause:createPause(He.signal),extra:Ce,signal:He.signal,fork:createFork(He.signal,Ke),unsubscribe:Oe.unsubscribe,subscribe:()=>{_e.set(Oe.id,Oe)},cancelActiveListeners:()=>{Oe.pending.forEach((ze,We,qe)=>{ze!==He&&(abortControllerWithReason(ze,listenerCancelled),qe.delete(ze))})},cancel:()=>{abortControllerWithReason(He,listenerCancelled),Oe.pending.delete(He)},throwIfCancelled:()=>{validateActive(He.signal)}})))}catch(ze){ze instanceof TaskAbortError||safelyNotifyError(Pe,ze,{raisedBy:"effect"})}finally{await Promise.all(Ke),abortControllerWithReason(He,listenerCompleted),Oe.pending.delete(He)}},De=createClearListenerMiddleware(_e);return{middleware:Oe=>ke=>Me=>{if(!isAction(Me))return ke(Me);if(addListener.match(Me))return Ie(Me.payload);if(clearAllListeners.match(Me)){De();return}if(removeListener.match(Me))return Be(Me.payload);let $e=Oe.getState();const He=()=>{if($e===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return $e};let Qe;try{if(Qe=ke(Me),_e.size>0){const Ke=Oe.getState(),ze=Array.from(_e.values());for(const We of ze){let qe=!1;try{qe=We.predicate(Me,Ke,$e)}catch(Ye){qe=!1,safelyNotifyError(Pe,Ye,{raisedBy:"predicate"})}qe&&je(We,Me,Oe,He)}}}finally{$e=INTERNAL_NIL_TOKEN}return Qe},startListening:Ie,stopListening:Be,clearListeners:De}};function formatProdErrorMessage(Ee){return`Minified Redux Toolkit error #${Ee}; visit https://redux-toolkit.js.org/Errors?code=${Ee} for the full message or use the non-minified dev environment for full errors. `}var initialState$9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$9,reducers:{setLayout(Ee,_e){Ee.layoutType=_e.payload},setChartSize(Ee,_e){Ee.width=_e.payload.width,Ee.height=_e.payload.height},setMargin(Ee,_e){Ee.margin.top=_e.payload.top,Ee.margin.right=_e.payload.right,Ee.margin.bottom=_e.payload.bottom,Ee.margin.left=_e.payload.left},setScale(Ee,_e){Ee.scale=_e.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function ownKeys$Q(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$Q(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$Q(Object(Ce),!0).forEach(function(Pe){_defineProperty$F(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$Q(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$F(Ee,_e,Ce){return(_e=_toPropertyKey$E(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$E(Ee){var _e=_toPrimitive$E(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$E(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var RADIAN=Math.PI/180,radianToDegree=Ee=>Ee*180/Math.PI,polarToCartesian=(Ee,_e,Ce,Pe)=>({x:Ee+Math.cos(-RADIAN*Pe)*Ce,y:_e+Math.sin(-RADIAN*Pe)*Ce}),getMaxRadius=function Ee(_e,Ce){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(_e-(Pe.left||0)-(Pe.right||0)),Math.abs(Ce-(Pe.top||0)-(Pe.bottom||0)))/2},distanceBetweenPoints=(Ee,_e)=>{var{x:Ce,y:Pe}=Ee,{x:Re,y:Ie}=_e;return Math.sqrt((Ce-Re)**2+(Pe-Ie)**2)},getAngleOfPoint=(Ee,_e)=>{var{x:Ce,y:Pe}=Ee,{cx:Re,cy:Ie}=_e,Be=distanceBetweenPoints({x:Ce,y:Pe},{x:Re,y:Ie});if(Be<=0)return{radius:Be,angle:0};var je=(Ce-Re)/Be,De=Math.acos(je);return Pe>Ie&&(De=2*Math.PI-De),{radius:Be,angle:radianToDegree(De),angleInRadian:De}},formatAngleOfSector=Ee=>{var{startAngle:_e,endAngle:Ce}=Ee,Pe=Math.floor(_e/360),Re=Math.floor(Ce/360),Ie=Math.min(Pe,Re);return{startAngle:_e-Ie*360,endAngle:Ce-Ie*360}},reverseFormatAngleOfSector=(Ee,_e)=>{var{startAngle:Ce,endAngle:Pe}=_e,Re=Math.floor(Ce/360),Ie=Math.floor(Pe/360),Be=Math.min(Re,Ie);return Ee+Be*360},inRangeOfSector=(Ee,_e)=>{var{x:Ce,y:Pe}=Ee,{radius:Re,angle:Ie}=getAngleOfPoint({x:Ce,y:Pe},_e),{innerRadius:Be,outerRadius:je}=_e;if(Re<Be||Re>je||Re===0)return null;var{startAngle:De,endAngle:Fe}=formatAngleOfSector(_e),Oe=Ie,ke;if(De<=Fe){for(;Oe>Fe;)Oe-=360;for(;Oe<De;)Oe+=360;ke=Oe>=De&&Oe<=Fe}else{for(;Oe>De;)Oe-=360;for(;Oe<Fe;)Oe+=360;ke=Oe>=Fe&&Oe<=De}return ke?_objectSpread$Q(_objectSpread$Q({},_e),{},{radius:Re,angle:reverseFormatAngleOfSector(Oe,_e)}):null};function ownKeys$P(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$P(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$P(Object(Ce),!0).forEach(function(Pe){_defineProperty$E(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$P(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$E(Ee,_e,Ce){return(_e=_toPropertyKey$D(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$D(Ee){var _e=_toPrimitive$D(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$D(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function getValueByDataKey(Ee,_e,Ce){return isNullish(Ee)||isNullish(_e)?Ce:isNumOrStr(_e)?get(Ee,_e,Ce):typeof _e=="function"?_e(Ee):Ce}var calculateActiveTickIndex=(Ee,_e,Ce,Pe,Re)=>{var Ie,Be=-1,je=(Ie=_e?.length)!==null&&Ie!==void 0?Ie:0;if(je<=1||Ee==null)return 0;if(Pe==="angleAxis"&&Re!=null&&Math.abs(Math.abs(Re[1]-Re[0])-360)<=1e-6)for(var De=0;De<je;De++){var Fe=De>0?Ce[De-1].coordinate:Ce[je-1].coordinate,Oe=Ce[De].coordinate,ke=De>=je-1?Ce[0].coordinate:Ce[De+1].coordinate,Me=void 0;if(mathSign(Oe-Fe)!==mathSign(ke-Oe)){var $e=[];if(mathSign(ke-Oe)===mathSign(Re[1]-Re[0])){Me=ke;var He=Oe+Re[1]-Re[0];$e[0]=Math.min(He,(He+Fe)/2),$e[1]=Math.max(He,(He+Fe)/2)}else{Me=Fe;var Qe=ke+Re[1]-Re[0];$e[0]=Math.min(Oe,(Qe+Oe)/2),$e[1]=Math.max(Oe,(Qe+Oe)/2)}var Ke=[Math.min(Oe,(Me+Oe)/2),Math.max(Oe,(Me+Oe)/2)];if(Ee>Ke[0]&&Ee<=Ke[1]||Ee>=$e[0]&&Ee<=$e[1]){({index:Be}=Ce[De]);break}}else{var ze=Math.min(Fe,ke),We=Math.max(Fe,ke);if(Ee>(ze+Oe)/2&&Ee<=(We+Oe)/2){({index:Be}=Ce[De]);break}}}else if(_e){for(var qe=0;qe<je;qe++)if(qe===0&&Ee<=(_e[qe].coordinate+_e[qe+1].coordinate)/2||qe>0&&qe<je-1&&Ee>(_e[qe].coordinate+_e[qe-1].coordinate)/2&&Ee<=(_e[qe].coordinate+_e[qe+1].coordinate)/2||qe===je-1&&Ee>(_e[qe].coordinate+_e[qe-1].coordinate)/2){({index:Be}=_e[qe]);break}}return Be},appendOffsetOfLegend=(Ee,_e,Ce)=>{if(_e&&Ce){var{width:Pe,height:Re}=Ce,{align:Ie,verticalAlign:Be,layout:je}=_e;if((je==="vertical"||je==="horizontal"&&Be==="middle")&&Ie!=="center"&&isNumber(Ee[Ie]))return _objectSpread$P(_objectSpread$P({},Ee),{},{[Ie]:Ee[Ie]+(Pe||0)});if((je==="horizontal"||je==="vertical"&&Ie==="center")&&Be!=="middle"&&isNumber(Ee[Be]))return _objectSpread$P(_objectSpread$P({},Ee),{},{[Be]:Ee[Be]+(Re||0)})}return Ee},isCategoricalAxis=(Ee,_e)=>Ee==="horizontal"&&_e==="xAxis"||Ee==="vertical"&&_e==="yAxis"||Ee==="centric"&&_e==="angleAxis"||Ee==="radial"&&_e==="radiusAxis",getCoordinatesOfGrid=(Ee,_e,Ce,Pe)=>{if(Pe)return Ee.map(je=>je.coordinate);var Re,Ie,Be=Ee.map(je=>(je.coordinate===_e&&(Re=!0),je.coordinate===Ce&&(Ie=!0),je.coordinate));return Re||Be.push(_e),Ie||Be.push(Ce),Be},getTicksOfAxis=(Ee,_e,Ce)=>{if(!Ee)return null;var{duplicateDomain:Pe,type:Re,range:Ie,scale:Be,realScaleType:je,isCategorical:De,categoricalDomain:Fe,tickCount:Oe,ticks:ke,niceTicks:Me,axisType:$e}=Ee;if(!Be)return null;var He=je==="scaleBand"&&Be.bandwidth?Be.bandwidth()/2:2,Qe=Re==="category"&&Be.bandwidth?Be.bandwidth()/He:0;if(Qe=$e==="angleAxis"&&Ie&&Ie.length>=2?mathSign(Ie[0]-Ie[1])*2*Qe:Qe,ke||Me){var Ke=(ke||Me||[]).map((ze,We)=>{var qe=Pe?Pe.indexOf(ze):ze;return{coordinate:Be(qe)+Qe,value:ze,offset:Qe,index:We}});return Ke.filter(ze=>!isNan(ze.coordinate))}return De&&Fe?Fe.map((ze,We)=>({coordinate:Be(ze)+Qe,value:ze,index:We,offset:Qe})):Be.ticks&&Oe!=null?Be.ticks(Oe).map((ze,We)=>({coordinate:Be(ze)+Qe,value:ze,offset:Qe,index:We})):Be.domain().map((ze,We)=>({coordinate:Be(ze)+Qe,value:Pe?Pe[ze]:ze,index:We,offset:Qe}))},EPS=1e-4,checkDomainOfScale=Ee=>{var _e=Ee.domain();if(!(!_e||_e.length<=2)){var Ce=_e.length,Pe=Ee.range(),Re=Math.min(Pe[0],Pe[1])-EPS,Ie=Math.max(Pe[0],Pe[1])+EPS,Be=Ee(_e[0]),je=Ee(_e[Ce-1]);(Be<Re||Be>Ie||je<Re||je>Ie)&&Ee.domain([_e[0],_e[Ce-1]])}},truncateByDomain=(Ee,_e)=>{if(!_e||_e.length!==2||!isNumber(_e[0])||!isNumber(_e[1]))return Ee;var Ce=Math.min(_e[0],_e[1]),Pe=Math.max(_e[0],_e[1]),Re=[Ee[0],Ee[1]];return(!isNumber(Ee[0])||Ee[0]<Ce)&&(Re[0]=Ce),(!isNumber(Ee[1])||Ee[1]>Pe)&&(Re[1]=Pe),Re[0]>Pe&&(Re[0]=Pe),Re[1]<Ce&&(Re[1]=Ce),Re},offsetSign=Ee=>{var _e=Ee.length;if(!(_e<=0))for(var Ce=0,Pe=Ee[0].length;Ce<Pe;++Ce)for(var Re=0,Ie=0,Be=0;Be<_e;++Be){var je=isNan(Ee[Be][Ce][1])?Ee[Be][Ce][0]:Ee[Be][Ce][1];je>=0?(Ee[Be][Ce][0]=Re,Ee[Be][Ce][1]=Re+je,Re=Ee[Be][Ce][1]):(Ee[Be][Ce][0]=Ie,Ee[Be][Ce][1]=Ie+je,Ie=Ee[Be][Ce][1])}},offsetPositive=Ee=>{var _e=Ee.length;if(!(_e<=0))for(var Ce=0,Pe=Ee[0].length;Ce<Pe;++Ce)for(var Re=0,Ie=0;Ie<_e;++Ie){var Be=isNan(Ee[Ie][Ce][1])?Ee[Ie][Ce][0]:Ee[Ie][Ce][1];Be>=0?(Ee[Ie][Ce][0]=Re,Ee[Ie][Ce][1]=Re+Be,Re=Ee[Ie][Ce][1]):(Ee[Ie][Ce][0]=0,Ee[Ie][Ce][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(Ee,_e,Ce)=>{var Pe=STACK_OFFSET_MAP[Ce],Re=shapeStack().keys(_e).value((Ie,Be)=>+getValueByDataKey(Ie,Be,0)).order(stackOrderNone).offset(Pe);return Re(Ee)};function getNormalizedStackId(Ee){return Ee==null?void 0:String(Ee)}function getCateCoordinateOfLine(Ee){var{axis:_e,ticks:Ce,bandSize:Pe,entry:Re,index:Ie,dataKey:Be}=Ee;if(_e.type==="category"){if(!_e.allowDuplicatedCategory&&_e.dataKey&&!isNullish(Re[_e.dataKey])){var je=findEntryInArray(Ce,"value",Re[_e.dataKey]);if(je)return je.coordinate+Pe/2}return Ce[Ie]?Ce[Ie].coordinate+Pe/2:null}var De=getValueByDataKey(Re,isNullish(Be)?_e.dataKey:Be);return isNullish(De)?null:_e.scale(De)}var getCateCoordinateOfBar=Ee=>{var{axis:_e,ticks:Ce,offset:Pe,bandSize:Re,entry:Ie,index:Be}=Ee;if(_e.type==="category")return Ce[Be]?Ce[Be].coordinate+Pe:null;var je=getValueByDataKey(Ie,_e.dataKey,_e.scale.domain()[Be]);return isNullish(je)?null:_e.scale(je)-Re/2+Pe},getBaseValueOfBar=Ee=>{var{numericAxis:_e}=Ee,Ce=_e.scale.domain();if(_e.type==="number"){var Pe=Math.min(Ce[0],Ce[1]),Re=Math.max(Ce[0],Ce[1]);return Pe<=0&&Re>=0?0:Re<0?Re:Pe}return Ce[0]},getDomainOfSingle=Ee=>{var _e=Ee.flat(2).filter(isNumber);return[Math.min(..._e),Math.max(..._e)]},makeDomainFinite=Ee=>[Ee[0]===1/0?0:Ee[0],Ee[1]===-1/0?0:Ee[1]],getDomainOfStackGroups=(Ee,_e,Ce)=>{if(Ee!=null)return makeDomainFinite(Object.keys(Ee).reduce((Pe,Re)=>{var Ie=Ee[Re],{stackedData:Be}=Ie,je=Be.reduce((De,Fe)=>{var Oe=getDomainOfSingle(Fe.slice(_e,Ce+1));return[Math.min(De[0],Oe[0]),Math.max(De[1],Oe[1])]},[1/0,-1/0]);return[Math.min(je[0],Pe[0]),Math.max(je[1],Pe[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(Ee,_e,Ce)=>{if(Ee&&Ee.scale&&Ee.scale.bandwidth){var Pe=Ee.scale.bandwidth();if(!Ce||Pe>0)return Pe}if(Ee&&_e&&_e.length>=2){for(var Re=sortBy(_e,Oe=>Oe.coordinate),Ie=1/0,Be=1,je=Re.length;Be<je;Be++){var De=Re[Be],Fe=Re[Be-1];Ie=Math.min((De.coordinate||0)-(Fe.coordinate||0),Ie)}return Ie===1/0?0:Ie}return Ce?void 0:0};function getTooltipEntry(Ee){var{tooltipEntrySettings:_e,dataKey:Ce,payload:Pe,value:Re,name:Ie}=Ee;return _objectSpread$P(_objectSpread$P({},_e),{},{dataKey:Ce,payload:Pe,value:Re,name:Ie})}function getTooltipNameProp(Ee,_e){if(Ee)return String(Ee);if(typeof _e=="string")return _e}function inRange(Ee,_e,Ce,Pe,Re){if(Ce==="horizontal"||Ce==="vertical"){var Ie=Ee>=Re.left&&Ee<=Re.left+Re.width&&_e>=Re.top&&_e<=Re.top+Re.height;return Ie?{x:Ee,y:_e}:null}return Pe?inRangeOfSector({x:Ee,y:_e},Pe):null}var getActiveCoordinate=(Ee,_e,Ce,Pe)=>{var Re=_e.find(Fe=>Fe&&Fe.index===Ce);if(Re){if(Ee==="horizontal")return{x:Re.coordinate,y:Pe.y};if(Ee==="vertical")return{x:Pe.x,y:Re.coordinate};if(Ee==="centric"){var Ie=Re.coordinate,{radius:Be}=Pe;return _objectSpread$P(_objectSpread$P(_objectSpread$P({},Pe),polarToCartesian(Pe.cx,Pe.cy,Be,Ie)),{},{angle:Ie,radius:Be})}var je=Re.coordinate,{angle:De}=Pe;return _objectSpread$P(_objectSpread$P(_objectSpread$P({},Pe),polarToCartesian(Pe.cx,Pe.cy,je,De)),{},{angle:De,radius:je})}return{x:0,y:0}},calculateTooltipPos=(Ee,_e)=>_e==="horizontal"?Ee.x:_e==="vertical"?Ee.y:_e==="centric"?Ee.angle:Ee.radius,selectChartWidth=Ee=>Ee.layout.width,selectChartHeight=Ee=>Ee.layout.height,selectContainerScale=Ee=>Ee.layout.scale,selectMargin=Ee=>Ee.layout.margin,selectAllXAxes=createSelector(Ee=>Ee.cartesianAxis.xAxis,Ee=>Object.values(Ee)),selectAllYAxes=createSelector(Ee=>Ee.cartesianAxis.yAxis,Ee=>Object.values(Ee)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_DATAKEY_ATTRIBUTE_NAME="data-recharts-item-data-key",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$O(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$O(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$O(Object(Ce),!0).forEach(function(Pe){_defineProperty$D(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$O(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$D(Ee,_e,Ce){return(_e=_toPropertyKey$C(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$C(Ee){var _e=_toPrimitive$C(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$C(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var selectBrushHeight=Ee=>Ee.brush.height,selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectAllXAxes,selectAllYAxes,selectLegendSettings,selectLegendSize],(Ee,_e,Ce,Pe,Re,Ie,Be,je)=>{var De=Ie.reduce((He,Qe)=>{var{orientation:Ke}=Qe;if(!Qe.mirror&&!Qe.hide){var ze=typeof Qe.width=="number"?Qe.width:DEFAULT_Y_AXIS_WIDTH;return _objectSpread$O(_objectSpread$O({},He),{},{[Ke]:He[Ke]+ze})}return He},{left:Ce.left||0,right:Ce.right||0}),Fe=Re.reduce((He,Qe)=>{var{orientation:Ke}=Qe;return!Qe.mirror&&!Qe.hide?_objectSpread$O(_objectSpread$O({},He),{},{[Ke]:get(He,"".concat(Ke))+Qe.height}):He},{top:Ce.top||0,bottom:Ce.bottom||0}),Oe=_objectSpread$O(_objectSpread$O({},Fe),De),ke=Oe.bottom;Oe.bottom+=Pe,Oe=appendOffsetOfLegend(Oe,Be,je);var Me=Ee-Oe.left-Oe.right,$e=_e-Oe.top-Oe.bottom;return _objectSpread$O(_objectSpread$O({brushBottom:ke},Oe),{},{width:Math.max(Me,0),height:Math.max($e,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,Ee=>({x:Ee.left,y:Ee.top,width:Ee.width,height:Ee.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(Ee,_e)=>({x:0,y:0,width:Ee,height:_e})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=Ee=>Ee.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(Ee,_e,Ce)=>({height:Ee.height,x:isNumber(Ee.x)?Ee.x:_e.left,y:isNumber(Ee.y)?Ee.y:_e.top+_e.height+_e.brushBottom-(Ce?.bottom||0),width:isNumber(Ee.width)?Ee.width:_e.width})),useViewBox=()=>{var Ee,_e=useIsPanorama(),Ce=useAppSelector(selectChartViewBox),Pe=useAppSelector(selectBrushDimensions),Re=(Ee=useAppSelector(selectBrushSettings))===null||Ee===void 0?void 0:Ee.padding;return!_e||!Pe||!Re?Ce:{width:Pe.width-Re.left-Re.right,height:Pe.height-Re.top-Re.bottom,x:Re.left,y:Re.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var Ee;return(Ee=useAppSelector(selectChartOffsetInternal))!==null&&Ee!==void 0?Ee:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),manyComponentsThrowErrorsIfMarginIsUndefined={top:0,right:0,bottom:0,left:0},useMargin=()=>{var Ee;return(Ee=useAppSelector(_e=>_e.layout.margin))!==null&&Ee!==void 0?Ee:manyComponentsThrowErrorsIfMarginIsUndefined},selectChartLayout=Ee=>Ee.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),initialState$8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$8,reducers:{setLegendSize(Ee,_e){Ee.size.width=_e.payload.width,Ee.size.height=_e.payload.height},setLegendSettings(Ee,_e){Ee.settings.align=_e.payload.align,Ee.settings.layout=_e.payload.layout,Ee.settings.verticalAlign=_e.payload.verticalAlign,Ee.settings.itemSorter=_e.payload.itemSorter},addLegendPayload(Ee,_e){Ee.payload.push(_e.payload)},removeLegendPayload(Ee,_e){var Ce=current(Ee).payload.indexOf(_e.payload);Ce>-1&&Ee.payload.splice(Ce,1)}}}),{setLegendSize,setLegendSettings,addLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer,_excluded$n=["contextPayload"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$p.apply(null,arguments)}function ownKeys$N(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$N(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$N(Object(Ce),!0).forEach(function(Pe){_defineProperty$C(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$N(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$C(Ee,_e,Ce){return(_e=_toPropertyKey$B(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$B(Ee){var _e=_toPrimitive$B(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$B(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function _objectWithoutProperties$m(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$m(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$m(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}function defaultUniqBy$1(Ee){return Ee.value}function LegendContent(Ee){var{contextPayload:_e}=Ee,Ce=_objectWithoutProperties$m(Ee,_excluded$n),Pe=getUniqPayload(_e,Ee.payloadUniqBy,defaultUniqBy$1),Re=_objectSpread$N(_objectSpread$N({},Ce),{},{payload:Pe});return reactExports.isValidElement(Ee.content)?reactExports.cloneElement(Ee.content,Re):typeof Ee.content=="function"?reactExports.createElement(Ee.content,Re):reactExports.createElement(DefaultLegendContent,Re)}function getDefaultPosition(Ee,_e,Ce,Pe,Re,Ie){var{layout:Be,align:je,verticalAlign:De}=_e,Fe,Oe;return(!Ee||(Ee.left===void 0||Ee.left===null)&&(Ee.right===void 0||Ee.right===null))&&(je==="center"&&Be==="vertical"?Fe={left:((Pe||0)-Ie.width)/2}:Fe=je==="right"?{right:Ce&&Ce.right||0}:{left:Ce&&Ce.left||0}),(!Ee||(Ee.top===void 0||Ee.top===null)&&(Ee.bottom===void 0||Ee.bottom===null))&&(De==="middle"?Oe={top:((Re||0)-Ie.height)/2}:Oe=De==="bottom"?{bottom:Ce&&Ce.bottom||0}:{top:Ce&&Ce.top||0}),_objectSpread$N(_objectSpread$N({},Fe),Oe)}function LegendSettingsDispatcher(Ee){var _e=useAppDispatch();return reactExports.useEffect(()=>{_e(setLegendSettings(Ee))},[_e,Ee]),null}function LegendSizeDispatcher(Ee){var _e=useAppDispatch();return reactExports.useEffect(()=>(_e(setLegendSize(Ee)),()=>{_e(setLegendSize({width:0,height:0}))}),[_e,Ee]),null}function LegendWrapper(Ee){var _e=useLegendPayload(),Ce=useLegendPortal(),Pe=useMargin(),{width:Re,height:Ie,wrapperStyle:Be,portal:je}=Ee,[De,Fe]=useElementOffset([_e]),Oe=useChartWidth(),ke=useChartHeight(),Me=Oe-(Pe.left||0)-(Pe.right||0),$e=Legend.getWidthOrHeight(Ee.layout,Ie,Re,Me),He=je?Be:_objectSpread$N(_objectSpread$N({position:"absolute",width:$e?.width||Re||"auto",height:$e?.height||Ie||"auto"},getDefaultPosition(Be,Ee,Pe,Oe,ke,De)),Be),Qe=je??Ce;if(Qe==null)return null;var Ke=reactExports.createElement("div",{className:"recharts-legend-wrapper",style:He,ref:Fe},reactExports.createElement(LegendSettingsDispatcher,{layout:Ee.layout,align:Ee.align,verticalAlign:Ee.verticalAlign,itemSorter:Ee.itemSorter}),reactExports.createElement(LegendSizeDispatcher,{width:De.width,height:De.height}),reactExports.createElement(LegendContent,_extends$p({},Ee,$e,{margin:Pe,chartWidth:Oe,chartHeight:ke,contextPayload:_e})));return reactDomExports.createPortal(Ke,Qe)}class Legend extends reactExports.PureComponent{static getWidthOrHeight(_e,Ce,Pe,Re){return _e==="vertical"&&isNumber(Ce)?{height:Ce}:_e==="horizontal"?{width:Pe||Re}:null}render(){return reactExports.createElement(LegendWrapper,this.props)}}_defineProperty$C(Legend,"displayName","Legend");_defineProperty$C(Legend,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$o.apply(null,arguments)}function ownKeys$M(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$M(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$M(Object(Ce),!0).forEach(function(Pe){_defineProperty$B(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$M(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$B(Ee,_e,Ce){return(_e=_toPropertyKey$A(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$A(Ee){var _e=_toPrimitive$A(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$A(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function defaultFormatter(Ee){return Array.isArray(Ee)&&isNumOrStr(Ee[0])&&isNumOrStr(Ee[1])?Ee.join(" ~ "):Ee}var DefaultTooltipContent=Ee=>{var{separator:_e=" : ",contentStyle:Ce={},itemStyle:Pe={},labelStyle:Re={},payload:Ie,formatter:Be,itemSorter:je,wrapperClassName:De,labelClassName:Fe,label:Oe,labelFormatter:ke,accessibilityLayer:Me=!1}=Ee,$e=()=>{if(Ie&&Ie.length){var Xe={padding:0,margin:0},rr=(je?sortBy(Ie,je):Ie).map((Je,er)=>{if(Je.type==="none")return null;var or=Je.formatter||Be||defaultFormatter,{value:pr,name:ar}=Je,fr=pr,gr=ar;if(or){var Rr=or(pr,ar,Je,er,Ie);if(Array.isArray(Rr))[fr,gr]=Rr;else if(Rr!=null)fr=Rr;else return null}var Ir=_objectSpread$M({display:"block",paddingTop:4,paddingBottom:4,color:Je.color||"#000"},Pe);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(er),style:Ir},isNumOrStr(gr)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},gr):null,isNumOrStr(gr)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},_e):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},fr),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},Je.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:Xe},rr)}return null},He=_objectSpread$M({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},Ce),Qe=_objectSpread$M({margin:0},Re),Ke=!isNullish(Oe),ze=Ke?Oe:"",We=clsx("recharts-default-tooltip",De),qe=clsx("recharts-tooltip-label",Fe);Ke&&ke&&Ie!==void 0&&Ie!==null&&(ze=ke(Oe,Ie));var Ye=Me?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$o({className:We,style:He},Ye),reactExports.createElement("p",{className:qe,style:Qe},reactExports.isValidElement(ze)?ze:"".concat(ze)),$e())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(Ee){var{coordinate:_e,translateX:Ce,translateY:Pe}=Ee;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(Ce)&&_e&&isNumber(_e.x)&&Ce>=_e.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(Ce)&&_e&&isNumber(_e.x)&&Ce<_e.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(Pe)&&_e&&isNumber(_e.y)&&Pe>=_e.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(Pe)&&_e&&isNumber(_e.y)&&Pe<_e.y})}function getTooltipTranslateXY(Ee){var{allowEscapeViewBox:_e,coordinate:Ce,key:Pe,offsetTopLeft:Re,position:Ie,reverseDirection:Be,tooltipDimension:je,viewBox:De,viewBoxDimension:Fe}=Ee;if(Ie&&isNumber(Ie[Pe]))return Ie[Pe];var Oe=Ce[Pe]-je-(Re>0?Re:0),ke=Ce[Pe]+Re;if(_e[Pe])return Be[Pe]?Oe:ke;var Me=De[Pe];if(Me==null)return 0;if(Be[Pe]){var $e=Oe,He=Me;return $e<He?Math.max(ke,Me):Math.max(Oe,Me)}if(Fe==null)return 0;var Qe=ke+je,Ke=Me+Fe;return Qe>Ke?Math.max(Oe,Me):Math.max(ke,Me)}function getTransformStyle(Ee){var{translateX:_e,translateY:Ce,useTranslate3d:Pe}=Ee;return{transform:Pe?"translate3d(".concat(_e,"px, ").concat(Ce,"px, 0)"):"translate(".concat(_e,"px, ").concat(Ce,"px)")}}function getTooltipTranslate(Ee){var{allowEscapeViewBox:_e,coordinate:Ce,offsetTopLeft:Pe,position:Re,reverseDirection:Ie,tooltipBox:Be,useTranslate3d:je,viewBox:De}=Ee,Fe,Oe,ke;return Be.height>0&&Be.width>0&&Ce?(Oe=getTooltipTranslateXY({allowEscapeViewBox:_e,coordinate:Ce,key:"x",offsetTopLeft:Pe,position:Re,reverseDirection:Ie,tooltipDimension:Be.width,viewBox:De,viewBoxDimension:De.width}),ke=getTooltipTranslateXY({allowEscapeViewBox:_e,coordinate:Ce,key:"y",offsetTopLeft:Pe,position:Re,reverseDirection:Ie,tooltipDimension:Be.height,viewBox:De,viewBoxDimension:De.height}),Fe=getTransformStyle({translateX:Oe,translateY:ke,useTranslate3d:je})):Fe=TOOLTIP_HIDDEN,{cssProperties:Fe,cssClasses:getTooltipCSSClassName({translateX:Oe,translateY:ke,coordinate:Ce})}}function ownKeys$L(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$L(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$L(Object(Ce),!0).forEach(function(Pe){_defineProperty$A(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$L(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$A(Ee,_e,Ce){return(_e=_toPropertyKey$z(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$z(Ee){var _e=_toPrimitive$z(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$z(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$A(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$A(this,"handleKeyDown",_e=>{if(_e.key==="Escape"){var Ce,Pe,Re,Ie;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(Ce=(Pe=this.props.coordinate)===null||Pe===void 0?void 0:Pe.x)!==null&&Ce!==void 0?Ce:0,y:(Re=(Ie=this.props.coordinate)===null||Ie===void 0?void 0:Ie.y)!==null&&Re!==void 0?Re:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var _e,Ce;this.state.dismissed&&(((_e=this.props.coordinate)===null||_e===void 0?void 0:_e.x)!==this.state.dismissedAtCoordinate.x||((Ce=this.props.coordinate)===null||Ce===void 0?void 0:Ce.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:_e,allowEscapeViewBox:Ce,animationDuration:Pe,animationEasing:Re,children:Ie,coordinate:Be,hasPayload:je,isAnimationActive:De,offset:Fe,position:Oe,reverseDirection:ke,useTranslate3d:Me,viewBox:$e,wrapperStyle:He,lastBoundingBox:Qe,innerRef:Ke,hasPortalFromProps:ze}=this.props,{cssClasses:We,cssProperties:qe}=getTooltipTranslate({allowEscapeViewBox:Ce,coordinate:Be,offsetTopLeft:Fe,position:Oe,reverseDirection:ke,tooltipBox:{height:Qe.height,width:Qe.width},useTranslate3d:Me,viewBox:$e}),Ye=ze?{}:_objectSpread$L(_objectSpread$L({transition:De&&_e?"transform ".concat(Pe,"ms ").concat(Re):void 0},qe),{},{pointerEvents:"none",visibility:!this.state.dismissed&&_e&&je?"visible":"hidden",position:"absolute",top:0,left:0}),Xe=_objectSpread$L(_objectSpread$L({},Ye),{},{visibility:!this.state.dismissed&&_e&&je?"visible":"hidden"},He);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:We,style:Xe,ref:Ke},Ie)}}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global={isSsr:parseIsSsrByDefault()},useAccessibilityLayer=()=>useAppSelector(Ee=>Ee.rootProps.accessibilityLayer);function isWellBehavedNumber(Ee){return Number.isFinite(Ee)}function isPositiveNumber(Ee){return typeof Ee=="number"&&Ee>0&&Number.isFinite(Ee)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$n.apply(null,arguments)}function ownKeys$K(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$K(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$K(Object(Ce),!0).forEach(function(Pe){_defineProperty$z(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$K(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$z(Ee,_e,Ce){return(_e=_toPropertyKey$y(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$y(Ee){var _e=_toPrimitive$y(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$y(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=Ee=>isWellBehavedNumber(Ee.x)&&isWellBehavedNumber(Ee.y),getX=Ee=>Ee.x,getY=Ee=>Ee.y,getCurveFactory=(Ee,_e)=>{if(typeof Ee=="function")return Ee;var Ce="curve".concat(upperFirst(Ee));return(Ce==="curveMonotone"||Ce==="curveBump")&&_e?CURVE_FACTORIES["".concat(Ce).concat(_e==="vertical"?"Y":"X")]:CURVE_FACTORIES[Ce]||curveLinear},getPath$1=Ee=>{var{type:_e="linear",points:Ce=[],baseLine:Pe,layout:Re,connectNulls:Ie=!1}=Ee,Be=getCurveFactory(_e,Re),je=Ie?Ce.filter(defined):Ce,De;if(Array.isArray(Pe)){var Fe=Ie?Pe.filter(ke=>defined(ke)):Pe,Oe=je.map((ke,Me)=>_objectSpread$K(_objectSpread$K({},ke),{},{base:Fe[Me]}));return Re==="vertical"?De=shapeArea().y(getY).x1(getX).x0(ke=>ke.base.x):De=shapeArea().x(getX).y1(getY).y0(ke=>ke.base.y),De.defined(defined).curve(Be),De(Oe)}return Re==="vertical"&&isNumber(Pe)?De=shapeArea().y(getY).x1(getX).x0(Pe):isNumber(Pe)?De=shapeArea().x(getX).y1(getY).y0(Pe):De=shapeLine().x(getX).y(getY),De.defined(defined).curve(Be),De(je)},Curve=Ee=>{var{className:_e,points:Ce,path:Pe,pathRef:Re}=Ee;if((!Ce||!Ce.length)&&!Pe)return null;var Ie=Ce&&Ce.length?getPath$1(Ee):Pe;return reactExports.createElement("path",_extends$n({},filterProps(Ee,!1),adaptEventHandlers(Ee),{className:clsx("recharts-curve",_e),d:Ie===null?void 0:Ie,ref:Re}))},_excluded$m=["x","y","top","left","width","height","className"];function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$m.apply(null,arguments)}function ownKeys$J(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$J(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$J(Object(Ce),!0).forEach(function(Pe){_defineProperty$y(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$J(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$y(Ee,_e,Ce){return(_e=_toPropertyKey$x(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$x(Ee){var _e=_toPrimitive$x(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$x(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function _objectWithoutProperties$l(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$l(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$l(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}var getPath=(Ee,_e,Ce,Pe,Re,Ie)=>"M".concat(Ee,",").concat(Re,"v").concat(Pe,"M").concat(Ie,",").concat(_e,"h").concat(Ce),Cross=Ee=>{var{x:_e=0,y:Ce=0,top:Pe=0,left:Re=0,width:Ie=0,height:Be=0,className:je}=Ee,De=_objectWithoutProperties$l(Ee,_excluded$m),Fe=_objectSpread$J({x:_e,y:Ce,top:Pe,left:Re,width:Ie,height:Be},De);return!isNumber(_e)||!isNumber(Ce)||!isNumber(Ie)||!isNumber(Be)||!isNumber(Pe)||!isNumber(Re)?null:reactExports.createElement("path",_extends$m({},filterProps(Fe,!0),{className:clsx("recharts-cross",je),d:getPath(_e,Ce,Ie,Be,Pe,Re)}))};function getCursorRectangle(Ee,_e,Ce,Pe){var Re=Pe/2;return{stroke:"none",fill:"#ccc",x:Ee==="horizontal"?_e.x-Re:Ce.left+.5,y:Ee==="horizontal"?Ce.top+.5:_e.y-Re,width:Ee==="horizontal"?Pe:Ce.width-1,height:Ee==="horizontal"?Ce.height-1:Pe}}function ownKeys$I(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$I(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$I(Object(Ce),!0).forEach(function(Pe){_defineProperty$x(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$I(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$x(Ee,_e,Ce){return(_e=_toPropertyKey$w(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$w(Ee){var _e=_toPrimitive$w(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$w(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function resolveDefaultProps(Ee,_e){var Ce=_objectSpread$I({},Ee),Pe=_e,Re=Object.keys(_e),Ie=Re.reduce((Be,je)=>(Be[je]===void 0&&Pe[je]!==void 0&&(Be[je]=Pe[je]),Be),Ce);return Ie}var isEqual$2={},isEqualWith={},isPlainObject$3={},hasRequiredIsPlainObject$2;function requireIsPlainObject$2(){return hasRequiredIsPlainObject$2||(hasRequiredIsPlainObject$2=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){if(!Ce||typeof Ce!="object")return!1;const Pe=Object.getPrototypeOf(Ce);return Pe===null||Pe===Object.prototype||Object.getPrototypeOf(Pe)===null?Object.prototype.toString.call(Ce)==="[object Object]":!1}Ee.isPlainObject=_e}(isPlainObject$3)),isPlainObject$3}var hasRequiredIsEqualWith;function requireIsEqualWith(){return hasRequiredIsEqualWith||(hasRequiredIsEqualWith=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIsPlainObject$2(),Ce=requireGetSymbols(),Pe=requireGetTag(),Re=requireTags(),Ie=requireEq();function Be(Fe,Oe,ke){return je(Fe,Oe,void 0,void 0,void 0,void 0,ke)}function je(Fe,Oe,ke,Me,$e,He,Qe){const Ke=Qe(Fe,Oe,ke,Me,$e,He);if(Ke!==void 0)return Ke;if(typeof Fe==typeof Oe)switch(typeof Fe){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return Fe===Oe;case"number":return Fe===Oe||Object.is(Fe,Oe);case"function":return Fe===Oe;case"object":return De(Fe,Oe,He,Qe)}return De(Fe,Oe,He,Qe)}function De(Fe,Oe,ke,Me){if(Object.is(Fe,Oe))return!0;let $e=Pe.getTag(Fe),He=Pe.getTag(Oe);if($e===Re.argumentsTag&&($e=Re.objectTag),He===Re.argumentsTag&&(He=Re.objectTag),$e!==He)return!1;switch($e){case Re.stringTag:return Fe.toString()===Oe.toString();case Re.numberTag:{const ze=Fe.valueOf(),We=Oe.valueOf();return Ie.eq(ze,We)}case Re.booleanTag:case Re.dateTag:case Re.symbolTag:return Object.is(Fe.valueOf(),Oe.valueOf());case Re.regexpTag:return Fe.source===Oe.source&&Fe.flags===Oe.flags;case Re.functionTag:return Fe===Oe}ke=ke??new Map;const Qe=ke.get(Fe),Ke=ke.get(Oe);if(Qe!=null&&Ke!=null)return Qe===Oe;ke.set(Fe,Oe),ke.set(Oe,Fe);try{switch($e){case Re.mapTag:{if(Fe.size!==Oe.size)return!1;for(const[ze,We]of Fe.entries())if(!Oe.has(ze)||!je(We,Oe.get(ze),ze,Fe,Oe,ke,Me))return!1;return!0}case Re.setTag:{if(Fe.size!==Oe.size)return!1;const ze=Array.from(Fe.values()),We=Array.from(Oe.values());for(let qe=0;qe<ze.length;qe++){const Ye=ze[qe],Xe=We.findIndex(rr=>je(Ye,rr,void 0,Fe,Oe,ke,Me));if(Xe===-1)return!1;We.splice(Xe,1)}return!0}case Re.arrayTag:case Re.uint8ArrayTag:case Re.uint8ClampedArrayTag:case Re.uint16ArrayTag:case Re.uint32ArrayTag:case Re.bigUint64ArrayTag:case Re.int8ArrayTag:case Re.int16ArrayTag:case Re.int32ArrayTag:case Re.bigInt64ArrayTag:case Re.float32ArrayTag:case Re.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(Fe)!==Buffer.isBuffer(Oe)||Fe.length!==Oe.length)return!1;for(let ze=0;ze<Fe.length;ze++)if(!je(Fe[ze],Oe[ze],ze,Fe,Oe,ke,Me))return!1;return!0}case Re.arrayBufferTag:return Fe.byteLength!==Oe.byteLength?!1:De(new Uint8Array(Fe),new Uint8Array(Oe),ke,Me);case Re.dataViewTag:return Fe.byteLength!==Oe.byteLength||Fe.byteOffset!==Oe.byteOffset?!1:De(new Uint8Array(Fe),new Uint8Array(Oe),ke,Me);case Re.errorTag:return Fe.name===Oe.name&&Fe.message===Oe.message;case Re.objectTag:{if(!(De(Fe.constructor,Oe.constructor,ke,Me)||_e.isPlainObject(Fe)&&_e.isPlainObject(Oe)))return!1;const We=[...Object.keys(Fe),...Ce.getSymbols(Fe)],qe=[...Object.keys(Oe),...Ce.getSymbols(Oe)];if(We.length!==qe.length)return!1;for(let Ye=0;Ye<We.length;Ye++){const Xe=We[Ye],rr=Fe[Xe];if(!Object.hasOwn(Oe,Xe))return!1;const Je=Oe[Xe];if(!je(rr,Je,Xe,Fe,Oe,ke,Me))return!1}return!0}default:return!1}}finally{ke.delete(Fe),ke.delete(Oe)}}Ee.isEqualWith=Be}(isEqualWith)),isEqualWith}var noop$5={},hasRequiredNoop;function requireNoop(){return hasRequiredNoop||(hasRequiredNoop=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(){}Ee.noop=_e}(noop$5)),noop$5}var hasRequiredIsEqual$1;function requireIsEqual$1(){return hasRequiredIsEqual$1||(hasRequiredIsEqual$1=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIsEqualWith(),Ce=requireNoop();function Pe(Re,Ie){return _e.isEqualWith(Re,Ie,Ce.noop)}Ee.isEqual=Pe}(isEqual$2)),isEqual$2}var isEqual$1,hasRequiredIsEqual;function requireIsEqual(){return hasRequiredIsEqual||(hasRequiredIsEqual=1,isEqual$1=requireIsEqual$1().isEqual),isEqual$1}var isEqualExports=requireIsEqual();const isEqual=getDefaultExportFromCjs(isEqualExports);function createAnimateManager(Ee){var _e={},Ce=()=>null,Pe=!1,Re=null,Ie=Be=>{if(!Pe){if(Array.isArray(Be)){if(!Be.length)return;var je=Be,[De,...Fe]=je;if(typeof De=="number"){Re=Ee.setTimeout(Ie.bind(null,Fe),De);return}Ie(De),Re=Ee.setTimeout(Ie.bind(null,Fe));return}typeof Be=="object"&&(_e=Be,Ce(_e)),typeof Be=="function"&&Be()}};return{stop:()=>{Pe=!0},start:Be=>{Pe=!1,Re&&(Re(),Re=null),Ie(Be)},subscribe:Be=>(Ce=Be,()=>{Ce=()=>null}),getTimeoutController:()=>Ee}}var ACCURACY=1e-4,cubicBezierFactor=(Ee,_e)=>[0,3*Ee,3*_e-6*Ee,3*Ee-3*_e+1],evaluatePolynomial=(Ee,_e)=>Ee.map((Ce,Pe)=>Ce*_e**Pe).reduce((Ce,Pe)=>Ce+Pe),cubicBezier=(Ee,_e)=>Ce=>{var Pe=cubicBezierFactor(Ee,_e);return evaluatePolynomial(Pe,Ce)},derivativeCubicBezier=(Ee,_e)=>Ce=>{var Pe=cubicBezierFactor(Ee,_e),Re=[...Pe.map((Ie,Be)=>Ie*Be).slice(1),0];return evaluatePolynomial(Re,Ce)},configBezier=function Ee(){for(var _e,Ce,Pe,Re,Ie=arguments.length,Be=new Array(Ie),je=0;je<Ie;je++)Be[je]=arguments[je];if(Be.length===1)switch(Be[0]){case"linear":[_e,Pe,Ce,Re]=[0,0,1,1];break;case"ease":[_e,Pe,Ce,Re]=[.25,.1,.25,1];break;case"ease-in":[_e,Pe,Ce,Re]=[.42,0,1,1];break;case"ease-out":[_e,Pe,Ce,Re]=[.42,0,.58,1];break;case"ease-in-out":[_e,Pe,Ce,Re]=[0,0,.58,1];break;default:{var De=Be[0].split("(");De[0]==="cubic-bezier"&&De[1].split(")")[0].split(",").length===4&&([_e,Pe,Ce,Re]=De[1].split(")")[0].split(",").map(He=>parseFloat(He)))}}else Be.length===4&&([_e,Pe,Ce,Re]=Be);var Fe=cubicBezier(_e,Ce),Oe=cubicBezier(Pe,Re),ke=derivativeCubicBezier(_e,Ce),Me=He=>He>1?1:He<0?0:He,$e=He=>{for(var Qe=He>1?1:He,Ke=Qe,ze=0;ze<8;++ze){var We=Fe(Ke)-Qe,qe=ke(Ke);if(Math.abs(We-Qe)<ACCURACY||qe<ACCURACY)return Oe(Ke);Ke=Me(Ke-We/qe)}return Oe(Ke)};return $e.isStepper=!1,$e},configSpring=function Ee(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:Ce=100,damping:Pe=8,dt:Re=17}=_e,Ie=(Be,je,De)=>{var Fe=-(Be-je)*Ce,Oe=De*Pe,ke=De+(Fe-Oe)*Re/1e3,Me=De*Re/1e3+Be;return Math.abs(Me-je)<ACCURACY&&Math.abs(ke)<ACCURACY?[je,0]:[Me,ke]};return Ie.isStepper=!0,Ie.dt=Re,Ie},configEasing=Ee=>{if(typeof Ee=="string")switch(Ee){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(Ee);case"spring":return configSpring();default:if(Ee.split("(")[0]==="cubic-bezier")return configBezier(Ee)}return typeof Ee=="function"?Ee:null};function ownKeys$H(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$H(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$H(Object(Ce),!0).forEach(function(Pe){_defineProperty$w(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$H(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$w(Ee,_e,Ce){return(_e=_toPropertyKey$v(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$v(Ee){var _e=_toPrimitive$v(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$v(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var getDashCase=Ee=>Ee.replace(/([A-Z])/g,_e=>"-".concat(_e.toLowerCase())),getTransitionVal=(Ee,_e,Ce)=>Ee.map(Pe=>"".concat(getDashCase(Pe)," ").concat(_e,"ms ").concat(Ce)).join(","),getIntersectionKeys=(Ee,_e)=>[Object.keys(Ee),Object.keys(_e)].reduce((Ce,Pe)=>Ce.filter(Re=>Pe.includes(Re))),mapObject=(Ee,_e)=>Object.keys(_e).reduce((Ce,Pe)=>_objectSpread$H(_objectSpread$H({},Ce),{},{[Pe]:Ee(Pe,_e[Pe])}),{});function ownKeys$G(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$G(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$G(Object(Ce),!0).forEach(function(Pe){_defineProperty$v(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$G(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$v(Ee,_e,Ce){return(_e=_toPropertyKey$u(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$u(Ee){var _e=_toPrimitive$u(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$u(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var alpha=(Ee,_e,Ce)=>Ee+(_e-Ee)*Ce,needContinue=Ee=>{var{from:_e,to:Ce}=Ee;return _e!==Ce},calStepperVals=(Ee,_e,Ce)=>{var Pe=mapObject((Re,Ie)=>{if(needContinue(Ie)){var[Be,je]=Ee(Ie.from,Ie.to,Ie.velocity);return _objectSpread$G(_objectSpread$G({},Ie),{},{from:Be,velocity:je})}return Ie},_e);return Ce<1?mapObject((Re,Ie)=>needContinue(Ie)?_objectSpread$G(_objectSpread$G({},Ie),{},{velocity:alpha(Ie.velocity,Pe[Re].velocity,Ce),from:alpha(Ie.from,Pe[Re].from,Ce)}):Ie,_e):calStepperVals(Ee,Pe,Ce-1)};function createStepperUpdate(Ee,_e,Ce,Pe,Re,Ie){var Be,je=Pe.reduce((Me,$e)=>_objectSpread$G(_objectSpread$G({},Me),{},{[$e]:{from:Ee[$e],velocity:0,to:_e[$e]}}),{}),De=()=>mapObject((Me,$e)=>$e.from,je),Fe=()=>!Object.values(je).filter(needContinue).length,Oe=null,ke=Me=>{Be||(Be=Me);var $e=Me-Be,He=$e/Ce.dt;je=calStepperVals(Ce,je,He),Re(_objectSpread$G(_objectSpread$G(_objectSpread$G({},Ee),_e),De())),Be=Me,Fe()||(Oe=Ie.setTimeout(ke))};return()=>(Oe=Ie.setTimeout(ke),()=>{Oe()})}function createTimingUpdate(Ee,_e,Ce,Pe,Re,Ie,Be){var je=null,De=Re.reduce((ke,Me)=>_objectSpread$G(_objectSpread$G({},ke),{},{[Me]:[Ee[Me],_e[Me]]}),{}),Fe,Oe=ke=>{Fe||(Fe=ke);var Me=(ke-Fe)/Pe,$e=mapObject((Qe,Ke)=>alpha(...Ke,Ce(Me)),De);if(Ie(_objectSpread$G(_objectSpread$G(_objectSpread$G({},Ee),_e),$e)),Me<1)je=Be.setTimeout(Oe);else{var He=mapObject((Qe,Ke)=>alpha(...Ke,Ce(1)),De);Ie(_objectSpread$G(_objectSpread$G(_objectSpread$G({},Ee),_e),He))}};return()=>(je=Be.setTimeout(Oe),()=>{je()})}const configUpdate=(Ee,_e,Ce,Pe,Re,Ie)=>{var Be=getIntersectionKeys(Ee,_e);return Ce.isStepper===!0?createStepperUpdate(Ee,_e,Ce,Be,Re,Ie):createTimingUpdate(Ee,_e,Ce,Pe,Be,Re,Ie)};class RequestAnimationFrameTimeoutController{setTimeout(_e){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Pe=performance.now(),Re=null,Ie=Be=>{Be-Pe>=Ce?_e(Be):typeof requestAnimationFrame=="function"&&(Re=requestAnimationFrame(Ie))};return Re=requestAnimationFrame(Ie),()=>{cancelAnimationFrame(Re)}}}var _excluded$l=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$l.apply(null,arguments)}function _objectWithoutProperties$k(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$k(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$k(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}function ownKeys$F(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$F(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$F(Object(Ce),!0).forEach(function(Pe){_defineProperty$u(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$F(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$u(Ee,_e,Ce){return(_e=_toPropertyKey$t(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$t(Ee){var _e=_toPrimitive$t(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$t(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}class AnimateImpl extends reactExports.PureComponent{constructor(_e,Ce){super(_e,Ce),_defineProperty$u(this,"mounted",!1),_defineProperty$u(this,"manager",null),_defineProperty$u(this,"stopJSAnimation",null),_defineProperty$u(this,"unSubscribe",null);var{isActive:Pe,attributeName:Re,from:Ie,to:Be,children:je,duration:De,animationManager:Fe}=this.props;if(this.manager=Fe,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!Pe||De<=0){this.state={style:{}},typeof je=="function"&&(this.state={style:Be});return}if(Ie){if(typeof je=="function"){this.state={style:Ie};return}this.state={style:Re?{[Re]:Ie}:Ie}}else this.state={style:{}}}componentDidMount(){var{isActive:_e,canBegin:Ce}=this.props;this.mounted=!0,!(!_e||!Ce)&&this.runAnimation(this.props)}componentDidUpdate(_e){var{isActive:Ce,canBegin:Pe,attributeName:Re,shouldReAnimate:Ie,to:Be,from:je}=this.props,{style:De}=this.state;if(Pe){if(!Ce){var Fe={style:Re?{[Re]:Be}:Be};this.state&&De&&(Re&&De[Re]!==Be||!Re&&De!==Be)&&this.setState(Fe);return}if(!(isEqual(_e.to,Be)&&_e.canBegin&&_e.isActive)){var Oe=!_e.canBegin||!_e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var ke=Oe||Ie?je:_e.to;if(this.state&&De){var Me={style:Re?{[Re]:ke}:ke};(Re&&De[Re]!==ke||!Re&&De!==ke)&&this.setState(Me)}this.runAnimation(_objectSpread$F(_objectSpread$F({},this.props),{},{from:ke,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:_e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),_e&&_e()}handleStyleChange(_e){this.changeStyle(_e)}changeStyle(_e){this.mounted&&this.setState({style:_e})}runJSAnimation(_e){var{from:Ce,to:Pe,duration:Re,easing:Ie,begin:Be,onAnimationEnd:je,onAnimationStart:De}=_e,Fe=configUpdate(Ce,Pe,configEasing(Ie),Re,this.changeStyle,this.manager.getTimeoutController()),Oe=()=>{this.stopJSAnimation=Fe()};this.manager.start([De,Be,Oe,Re,je])}runAnimation(_e){var{begin:Ce,duration:Pe,attributeName:Re,to:Ie,easing:Be,onAnimationStart:je,onAnimationEnd:De,children:Fe}=_e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof Be=="function"||typeof Fe=="function"||Be==="spring"){this.runJSAnimation(_e);return}var Oe=Re?{[Re]:Ie}:Ie,ke=getTransitionVal(Object.keys(Oe),Pe,Be);this.manager.start([je,Ce,_objectSpread$F(_objectSpread$F({},Oe),{},{transition:ke}),Pe,De])}render(){var _e=this.props,{children:Ce,begin:Pe,duration:Re,attributeName:Ie,easing:Be,isActive:je,from:De,to:Fe,canBegin:Oe,onAnimationEnd:ke,shouldReAnimate:Me,onAnimationReStart:$e,animationManager:He}=_e,Qe=_objectWithoutProperties$k(_e,_excluded$l),Ke=reactExports.Children.count(Ce),ze=this.state.style;if(typeof Ce=="function")return Ce(ze);if(!je||Ke===0||Re<=0)return Ce;var We=qe=>{var{style:Ye={},className:Xe}=qe.props,rr=reactExports.cloneElement(qe,_objectSpread$F(_objectSpread$F({},Qe),{},{style:_objectSpread$F(_objectSpread$F({},Ye),ze),className:Xe}));return rr};return Ke===1?We(reactExports.Children.only(Ce)):reactExports.createElement("div",null,reactExports.Children.map(Ce,qe=>We(qe)))}}_defineProperty$u(AnimateImpl,"displayName","Animate");_defineProperty$u(AnimateImpl,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var AnimationManagerContext=reactExports.createContext(null);function Animate(Ee){var _e,Ce,Pe=reactExports.useContext(AnimationManagerContext);return reactExports.createElement(AnimateImpl,_extends$l({},Ee,{animationManager:(_e=(Ce=Ee.animationManager)!==null&&Ce!==void 0?Ce:Pe)!==null&&_e!==void 0?_e:createDefaultAnimationManager()}))}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$k.apply(null,arguments)}var getRectanglePath=(Ee,_e,Ce,Pe,Re)=>{var Ie=Math.min(Math.abs(Ce)/2,Math.abs(Pe)/2),Be=Pe>=0?1:-1,je=Ce>=0?1:-1,De=Pe>=0&&Ce>=0||Pe<0&&Ce<0?1:0,Fe;if(Ie>0&&Re instanceof Array){for(var Oe=[0,0,0,0],ke=0,Me=4;ke<Me;ke++)Oe[ke]=Re[ke]>Ie?Ie:Re[ke];Fe="M".concat(Ee,",").concat(_e+Be*Oe[0]),Oe[0]>0&&(Fe+="A ".concat(Oe[0],",").concat(Oe[0],",0,0,").concat(De,",").concat(Ee+je*Oe[0],",").concat(_e)),Fe+="L ".concat(Ee+Ce-je*Oe[1],",").concat(_e),Oe[1]>0&&(Fe+="A ".concat(Oe[1],",").concat(Oe[1],",0,0,").concat(De,`,
        `).concat(Ee+Ce,",").concat(_e+Be*Oe[1])),Fe+="L ".concat(Ee+Ce,",").concat(_e+Pe-Be*Oe[2]),Oe[2]>0&&(Fe+="A ".concat(Oe[2],",").concat(Oe[2],",0,0,").concat(De,`,
        `).concat(Ee+Ce-je*Oe[2],",").concat(_e+Pe)),Fe+="L ".concat(Ee+je*Oe[3],",").concat(_e+Pe),Oe[3]>0&&(Fe+="A ".concat(Oe[3],",").concat(Oe[3],",0,0,").concat(De,`,
        `).concat(Ee,",").concat(_e+Pe-Be*Oe[3])),Fe+="Z"}else if(Ie>0&&Re===+Re&&Re>0){var $e=Math.min(Ie,Re);Fe="M ".concat(Ee,",").concat(_e+Be*$e,`
            A `).concat($e,",").concat($e,",0,0,").concat(De,",").concat(Ee+je*$e,",").concat(_e,`
            L `).concat(Ee+Ce-je*$e,",").concat(_e,`
            A `).concat($e,",").concat($e,",0,0,").concat(De,",").concat(Ee+Ce,",").concat(_e+Be*$e,`
            L `).concat(Ee+Ce,",").concat(_e+Pe-Be*$e,`
            A `).concat($e,",").concat($e,",0,0,").concat(De,",").concat(Ee+Ce-je*$e,",").concat(_e+Pe,`
            L `).concat(Ee+je*$e,",").concat(_e+Pe,`
            A `).concat($e,",").concat($e,",0,0,").concat(De,",").concat(Ee,",").concat(_e+Pe-Be*$e," Z")}else Fe="M ".concat(Ee,",").concat(_e," h ").concat(Ce," v ").concat(Pe," h ").concat(-Ce," Z");return Fe},defaultProps$6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle$1=Ee=>{var _e=resolveDefaultProps(Ee,defaultProps$6),Ce=reactExports.useRef(null),[Pe,Re]=reactExports.useState(-1);reactExports.useEffect(()=>{if(Ce.current&&Ce.current.getTotalLength)try{var ze=Ce.current.getTotalLength();ze&&Re(ze)}catch{}},[]);var{x:Ie,y:Be,width:je,height:De,radius:Fe,className:Oe}=_e,{animationEasing:ke,animationDuration:Me,animationBegin:$e,isAnimationActive:He,isUpdateAnimationActive:Qe}=_e;if(Ie!==+Ie||Be!==+Be||je!==+je||De!==+De||je===0||De===0)return null;var Ke=clsx("recharts-rectangle",Oe);return Qe?reactExports.createElement(Animate,{canBegin:Pe>0,from:{width:je,height:De,x:Ie,y:Be},to:{width:je,height:De,x:Ie,y:Be},duration:Me,animationEasing:ke,isActive:Qe},ze=>{var{width:We,height:qe,x:Ye,y:Xe}=ze;return reactExports.createElement(Animate,{canBegin:Pe>0,from:"0px ".concat(Pe===-1?1:Pe,"px"),to:"".concat(Pe,"px 0px"),attributeName:"strokeDasharray",begin:$e,duration:Me,isActive:He,easing:ke},reactExports.createElement("path",_extends$k({},filterProps(_e,!0),{className:Ke,d:getRectanglePath(Ye,Xe,We,qe,Fe),ref:Ce})))}):reactExports.createElement("path",_extends$k({},filterProps(_e,!0),{className:Ke,d:getRectanglePath(Ie,Be,je,De,Fe)}))};function getRadialCursorPoints(Ee){var{cx:_e,cy:Ce,radius:Pe,startAngle:Re,endAngle:Ie}=Ee,Be=polarToCartesian(_e,Ce,Pe,Re),je=polarToCartesian(_e,Ce,Pe,Ie);return{points:[Be,je],cx:_e,cy:Ce,radius:Pe,startAngle:Re,endAngle:Ie}}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$j.apply(null,arguments)}var getDeltaAngle$1=(Ee,_e)=>{var Ce=mathSign(_e-Ee),Pe=Math.min(Math.abs(_e-Ee),359.999);return Ce*Pe},getTangentCircle=Ee=>{var{cx:_e,cy:Ce,radius:Pe,angle:Re,sign:Ie,isExternal:Be,cornerRadius:je,cornerIsExternal:De}=Ee,Fe=je*(Be?1:-1)+Pe,Oe=Math.asin(je/Fe)/RADIAN,ke=De?Re:Re+Ie*Oe,Me=polarToCartesian(_e,Ce,Fe,ke),$e=polarToCartesian(_e,Ce,Pe,ke),He=De?Re-Ie*Oe:Re,Qe=polarToCartesian(_e,Ce,Fe*Math.cos(Oe*RADIAN),He);return{center:Me,circleTangency:$e,lineTangency:Qe,theta:Oe}},getSectorPath=Ee=>{var{cx:_e,cy:Ce,innerRadius:Pe,outerRadius:Re,startAngle:Ie,endAngle:Be}=Ee,je=getDeltaAngle$1(Ie,Be),De=Ie+je,Fe=polarToCartesian(_e,Ce,Re,Ie),Oe=polarToCartesian(_e,Ce,Re,De),ke="M ".concat(Fe.x,",").concat(Fe.y,`
    A `).concat(Re,",").concat(Re,`,0,
    `).concat(+(Math.abs(je)>180),",").concat(+(Ie>De),`,
    `).concat(Oe.x,",").concat(Oe.y,`
  `);if(Pe>0){var Me=polarToCartesian(_e,Ce,Pe,Ie),$e=polarToCartesian(_e,Ce,Pe,De);ke+="L ".concat($e.x,",").concat($e.y,`
            A `).concat(Pe,",").concat(Pe,`,0,
            `).concat(+(Math.abs(je)>180),",").concat(+(Ie<=De),`,
            `).concat(Me.x,",").concat(Me.y," Z")}else ke+="L ".concat(_e,",").concat(Ce," Z");return ke},getSectorWithCorner=Ee=>{var{cx:_e,cy:Ce,innerRadius:Pe,outerRadius:Re,cornerRadius:Ie,forceCornerRadius:Be,cornerIsExternal:je,startAngle:De,endAngle:Fe}=Ee,Oe=mathSign(Fe-De),{circleTangency:ke,lineTangency:Me,theta:$e}=getTangentCircle({cx:_e,cy:Ce,radius:Re,angle:De,sign:Oe,cornerRadius:Ie,cornerIsExternal:je}),{circleTangency:He,lineTangency:Qe,theta:Ke}=getTangentCircle({cx:_e,cy:Ce,radius:Re,angle:Fe,sign:-Oe,cornerRadius:Ie,cornerIsExternal:je}),ze=je?Math.abs(De-Fe):Math.abs(De-Fe)-$e-Ke;if(ze<0)return Be?"M ".concat(Me.x,",").concat(Me.y,`
        a`).concat(Ie,",").concat(Ie,",0,0,1,").concat(Ie*2,`,0
        a`).concat(Ie,",").concat(Ie,",0,0,1,").concat(-Ie*2,`,0
      `):getSectorPath({cx:_e,cy:Ce,innerRadius:Pe,outerRadius:Re,startAngle:De,endAngle:Fe});var We="M ".concat(Me.x,",").concat(Me.y,`
    A`).concat(Ie,",").concat(Ie,",0,0,").concat(+(Oe<0),",").concat(ke.x,",").concat(ke.y,`
    A`).concat(Re,",").concat(Re,",0,").concat(+(ze>180),",").concat(+(Oe<0),",").concat(He.x,",").concat(He.y,`
    A`).concat(Ie,",").concat(Ie,",0,0,").concat(+(Oe<0),",").concat(Qe.x,",").concat(Qe.y,`
  `);if(Pe>0){var{circleTangency:qe,lineTangency:Ye,theta:Xe}=getTangentCircle({cx:_e,cy:Ce,radius:Pe,angle:De,sign:Oe,isExternal:!0,cornerRadius:Ie,cornerIsExternal:je}),{circleTangency:rr,lineTangency:Je,theta:er}=getTangentCircle({cx:_e,cy:Ce,radius:Pe,angle:Fe,sign:-Oe,isExternal:!0,cornerRadius:Ie,cornerIsExternal:je}),or=je?Math.abs(De-Fe):Math.abs(De-Fe)-Xe-er;if(or<0&&Ie===0)return"".concat(We,"L").concat(_e,",").concat(Ce,"Z");We+="L".concat(Je.x,",").concat(Je.y,`
      A`).concat(Ie,",").concat(Ie,",0,0,").concat(+(Oe<0),",").concat(rr.x,",").concat(rr.y,`
      A`).concat(Pe,",").concat(Pe,",0,").concat(+(or>180),",").concat(+(Oe>0),",").concat(qe.x,",").concat(qe.y,`
      A`).concat(Ie,",").concat(Ie,",0,0,").concat(+(Oe<0),",").concat(Ye.x,",").concat(Ye.y,"Z")}else We+="L".concat(_e,",").concat(Ce,"Z");return We},defaultProps$5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=Ee=>{var _e=resolveDefaultProps(Ee,defaultProps$5),{cx:Ce,cy:Pe,innerRadius:Re,outerRadius:Ie,cornerRadius:Be,forceCornerRadius:je,cornerIsExternal:De,startAngle:Fe,endAngle:Oe,className:ke}=_e;if(Ie<Re||Fe===Oe)return null;var Me=clsx("recharts-sector",ke),$e=Ie-Re,He=getPercentValue(Be,$e,0,!0),Qe;return He>0&&Math.abs(Fe-Oe)<360?Qe=getSectorWithCorner({cx:Ce,cy:Pe,innerRadius:Re,outerRadius:Ie,cornerRadius:Math.min(He,$e/2),forceCornerRadius:je,cornerIsExternal:De,startAngle:Fe,endAngle:Oe}):Qe=getSectorPath({cx:Ce,cy:Pe,innerRadius:Re,outerRadius:Ie,startAngle:Fe,endAngle:Oe}),reactExports.createElement("path",_extends$j({},filterProps(_e,!0),{className:Me,d:Qe}))};function getCursorPoints(Ee,_e,Ce){var Pe,Re,Ie,Be;if(Ee==="horizontal")Pe=_e.x,Ie=Pe,Re=Ce.top,Be=Ce.top+Ce.height;else if(Ee==="vertical")Re=_e.y,Be=Re,Pe=Ce.left,Ie=Ce.left+Ce.width;else if(_e.cx!=null&&_e.cy!=null)if(Ee==="centric"){var{cx:je,cy:De,innerRadius:Fe,outerRadius:Oe,angle:ke}=_e,Me=polarToCartesian(je,De,Fe,ke),$e=polarToCartesian(je,De,Oe,ke);Pe=Me.x,Re=Me.y,Ie=$e.x,Be=$e.y}else return getRadialCursorPoints(_e);return[{x:Pe,y:Re},{x:Ie,y:Be}]}var range$4={},toFinite={},toNumber={},hasRequiredToNumber;function requireToNumber(){return hasRequiredToNumber||(hasRequiredToNumber=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIsSymbol();function Ce(Pe){return _e.isSymbol(Pe)?NaN:Number(Pe)}Ee.toNumber=Ce}(toNumber)),toNumber}var hasRequiredToFinite;function requireToFinite(){return hasRequiredToFinite||(hasRequiredToFinite=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireToNumber();function Ce(Pe){return Pe?(Pe=_e.toNumber(Pe),Pe===1/0||Pe===-1/0?(Pe<0?-1:1)*Number.MAX_VALUE:Pe===Pe?Pe:0):Pe===0?Pe:0}Ee.toFinite=Ce}(toFinite)),toFinite}var hasRequiredRange$1;function requireRange$1(){return hasRequiredRange$1||(hasRequiredRange$1=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireIsIterateeCall(),Ce=requireToFinite();function Pe(Re,Ie,Be){Be&&typeof Be!="number"&&_e.isIterateeCall(Re,Ie,Be)&&(Ie=Be=void 0),Re=Ce.toFinite(Re),Ie===void 0?(Ie=Re,Re=0):Ie=Ce.toFinite(Ie),Be=Be===void 0?Re<Ie?1:-1:Ce.toFinite(Be);const je=Math.max(Math.ceil((Ie-Re)/(Be||1)),0),De=new Array(je);for(let Fe=0;Fe<je;Fe++)De[Fe]=Re,Re+=Be;return De}Ee.range=Pe}(range$4)),range$4}var range$3,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range$3=requireRange$1().range),range$3}var rangeExports=requireRange();const range$2=getDefaultExportFromCjs(rangeExports);function ascending(Ee,_e){return Ee==null||_e==null?NaN:Ee<_e?-1:Ee>_e?1:Ee>=_e?0:NaN}function descending(Ee,_e){return Ee==null||_e==null?NaN:_e<Ee?-1:_e>Ee?1:_e>=Ee?0:NaN}function bisector(Ee){let _e,Ce,Pe;Ee.length!==2?(_e=ascending,Ce=(je,De)=>ascending(Ee(je),De),Pe=(je,De)=>Ee(je)-De):(_e=Ee===ascending||Ee===descending?Ee:zero$1,Ce=Ee,Pe=Ee);function Re(je,De,Fe=0,Oe=je.length){if(Fe<Oe){if(_e(De,De)!==0)return Oe;do{const ke=Fe+Oe>>>1;Ce(je[ke],De)<0?Fe=ke+1:Oe=ke}while(Fe<Oe)}return Fe}function Ie(je,De,Fe=0,Oe=je.length){if(Fe<Oe){if(_e(De,De)!==0)return Oe;do{const ke=Fe+Oe>>>1;Ce(je[ke],De)<=0?Fe=ke+1:Oe=ke}while(Fe<Oe)}return Fe}function Be(je,De,Fe=0,Oe=je.length){const ke=Re(je,De,Fe,Oe-1);return ke>Fe&&Pe(je[ke-1],De)>-Pe(je[ke],De)?ke-1:ke}return{left:Re,center:Be,right:Ie}}function zero$1(){return 0}function number$2(Ee){return Ee===null?NaN:+Ee}function*numbers(Ee,_e){for(let Ce of Ee)Ce!=null&&(Ce=+Ce)>=Ce&&(yield Ce)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(_e,Ce=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Ce}}),_e!=null)for(const[Pe,Re]of _e)this.set(Pe,Re)}get(_e){return super.get(intern_get(this,_e))}has(_e){return super.has(intern_get(this,_e))}set(_e,Ce){return super.set(intern_set(this,_e),Ce)}delete(_e){return super.delete(intern_delete(this,_e))}}function intern_get({_intern:Ee,_key:_e},Ce){const Pe=_e(Ce);return Ee.has(Pe)?Ee.get(Pe):Ce}function intern_set({_intern:Ee,_key:_e},Ce){const Pe=_e(Ce);return Ee.has(Pe)?Ee.get(Pe):(Ee.set(Pe,Ce),Ce)}function intern_delete({_intern:Ee,_key:_e},Ce){const Pe=_e(Ce);return Ee.has(Pe)&&(Ce=Ee.get(Pe),Ee.delete(Pe)),Ce}function keyof(Ee){return Ee!==null&&typeof Ee=="object"?Ee.valueOf():Ee}function compareDefined(Ee=ascending){if(Ee===ascending)return ascendingDefined;if(typeof Ee!="function")throw new TypeError("compare is not a function");return(_e,Ce)=>{const Pe=Ee(_e,Ce);return Pe||Pe===0?Pe:(Ee(Ce,Ce)===0)-(Ee(_e,_e)===0)}}function ascendingDefined(Ee,_e){return(Ee==null||!(Ee>=Ee))-(_e==null||!(_e>=_e))||(Ee<_e?-1:Ee>_e?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(Ee,_e,Ce){const Pe=(_e-Ee)/Math.max(0,Ce),Re=Math.floor(Math.log10(Pe)),Ie=Pe/Math.pow(10,Re),Be=Ie>=e10?10:Ie>=e5?5:Ie>=e2?2:1;let je,De,Fe;return Re<0?(Fe=Math.pow(10,-Re)/Be,je=Math.round(Ee*Fe),De=Math.round(_e*Fe),je/Fe<Ee&&++je,De/Fe>_e&&--De,Fe=-Fe):(Fe=Math.pow(10,Re)*Be,je=Math.round(Ee/Fe),De=Math.round(_e/Fe),je*Fe<Ee&&++je,De*Fe>_e&&--De),De<je&&.5<=Ce&&Ce<2?tickSpec(Ee,_e,Ce*2):[je,De,Fe]}function ticks(Ee,_e,Ce){if(_e=+_e,Ee=+Ee,Ce=+Ce,!(Ce>0))return[];if(Ee===_e)return[Ee];const Pe=_e<Ee,[Re,Ie,Be]=Pe?tickSpec(_e,Ee,Ce):tickSpec(Ee,_e,Ce);if(!(Ie>=Re))return[];const je=Ie-Re+1,De=new Array(je);if(Pe)if(Be<0)for(let Fe=0;Fe<je;++Fe)De[Fe]=(Ie-Fe)/-Be;else for(let Fe=0;Fe<je;++Fe)De[Fe]=(Ie-Fe)*Be;else if(Be<0)for(let Fe=0;Fe<je;++Fe)De[Fe]=(Re+Fe)/-Be;else for(let Fe=0;Fe<je;++Fe)De[Fe]=(Re+Fe)*Be;return De}function tickIncrement(Ee,_e,Ce){return _e=+_e,Ee=+Ee,Ce=+Ce,tickSpec(Ee,_e,Ce)[2]}function tickStep(Ee,_e,Ce){_e=+_e,Ee=+Ee,Ce=+Ce;const Pe=_e<Ee,Re=Pe?tickIncrement(_e,Ee,Ce):tickIncrement(Ee,_e,Ce);return(Pe?-1:1)*(Re<0?1/-Re:Re)}function max(Ee,_e){let Ce;for(const Pe of Ee)Pe!=null&&(Ce<Pe||Ce===void 0&&Pe>=Pe)&&(Ce=Pe);return Ce}function min(Ee,_e){let Ce;for(const Pe of Ee)Pe!=null&&(Ce>Pe||Ce===void 0&&Pe>=Pe)&&(Ce=Pe);return Ce}function quickselect(Ee,_e,Ce=0,Pe=1/0,Re){if(_e=Math.floor(_e),Ce=Math.floor(Math.max(0,Ce)),Pe=Math.floor(Math.min(Ee.length-1,Pe)),!(Ce<=_e&&_e<=Pe))return Ee;for(Re=Re===void 0?ascendingDefined:compareDefined(Re);Pe>Ce;){if(Pe-Ce>600){const De=Pe-Ce+1,Fe=_e-Ce+1,Oe=Math.log(De),ke=.5*Math.exp(2*Oe/3),Me=.5*Math.sqrt(Oe*ke*(De-ke)/De)*(Fe-De/2<0?-1:1),$e=Math.max(Ce,Math.floor(_e-Fe*ke/De+Me)),He=Math.min(Pe,Math.floor(_e+(De-Fe)*ke/De+Me));quickselect(Ee,_e,$e,He,Re)}const Ie=Ee[_e];let Be=Ce,je=Pe;for(swap$1(Ee,Ce,_e),Re(Ee[Pe],Ie)>0&&swap$1(Ee,Ce,Pe);Be<je;){for(swap$1(Ee,Be,je),++Be,--je;Re(Ee[Be],Ie)<0;)++Be;for(;Re(Ee[je],Ie)>0;)--je}Re(Ee[Ce],Ie)===0?swap$1(Ee,Ce,je):(++je,swap$1(Ee,je,Pe)),je<=_e&&(Ce=je+1),_e<=je&&(Pe=je-1)}return Ee}function swap$1(Ee,_e,Ce){const Pe=Ee[_e];Ee[_e]=Ee[Ce],Ee[Ce]=Pe}function quantile$1(Ee,_e,Ce){if(Ee=Float64Array.from(numbers(Ee)),!(!(Pe=Ee.length)||isNaN(_e=+_e))){if(_e<=0||Pe<2)return min(Ee);if(_e>=1)return max(Ee);var Pe,Re=(Pe-1)*_e,Ie=Math.floor(Re),Be=max(quickselect(Ee,Ie).subarray(0,Ie+1)),je=min(Ee.subarray(Ie+1));return Be+(je-Be)*(Re-Ie)}}function quantileSorted(Ee,_e,Ce=number$2){if(!(!(Pe=Ee.length)||isNaN(_e=+_e))){if(_e<=0||Pe<2)return+Ce(Ee[0],0,Ee);if(_e>=1)return+Ce(Ee[Pe-1],Pe-1,Ee);var Pe,Re=(Pe-1)*_e,Ie=Math.floor(Re),Be=+Ce(Ee[Ie],Ie,Ee),je=+Ce(Ee[Ie+1],Ie+1,Ee);return Be+(je-Be)*(Re-Ie)}}function range$1(Ee,_e,Ce){Ee=+Ee,_e=+_e,Ce=(Re=arguments.length)<2?(_e=Ee,Ee=0,1):Re<3?1:+Ce;for(var Pe=-1,Re=Math.max(0,Math.ceil((_e-Ee)/Ce))|0,Ie=new Array(Re);++Pe<Re;)Ie[Pe]=Ee+Pe*Ce;return Ie}function initRange(Ee,_e){switch(arguments.length){case 0:break;case 1:this.range(Ee);break;default:this.range(_e).domain(Ee);break}return this}function initInterpolator(Ee,_e){switch(arguments.length){case 0:break;case 1:{typeof Ee=="function"?this.interpolator(Ee):this.range(Ee);break}default:{this.domain(Ee),typeof _e=="function"?this.interpolator(_e):this.range(_e);break}}return this}const implicit=Symbol("implicit");function ordinal(){var Ee=new InternMap,_e=[],Ce=[],Pe=implicit;function Re(Ie){let Be=Ee.get(Ie);if(Be===void 0){if(Pe!==implicit)return Pe;Ee.set(Ie,Be=_e.push(Ie)-1)}return Ce[Be%Ce.length]}return Re.domain=function(Ie){if(!arguments.length)return _e.slice();_e=[],Ee=new InternMap;for(const Be of Ie)Ee.has(Be)||Ee.set(Be,_e.push(Be)-1);return Re},Re.range=function(Ie){return arguments.length?(Ce=Array.from(Ie),Re):Ce.slice()},Re.unknown=function(Ie){return arguments.length?(Pe=Ie,Re):Pe},Re.copy=function(){return ordinal(_e,Ce).unknown(Pe)},initRange.apply(Re,arguments),Re}function band(){var Ee=ordinal().unknown(void 0),_e=Ee.domain,Ce=Ee.range,Pe=0,Re=1,Ie,Be,je=!1,De=0,Fe=0,Oe=.5;delete Ee.unknown;function ke(){var Me=_e().length,$e=Re<Pe,He=$e?Re:Pe,Qe=$e?Pe:Re;Ie=(Qe-He)/Math.max(1,Me-De+Fe*2),je&&(Ie=Math.floor(Ie)),He+=(Qe-He-Ie*(Me-De))*Oe,Be=Ie*(1-De),je&&(He=Math.round(He),Be=Math.round(Be));var Ke=range$1(Me).map(function(ze){return He+Ie*ze});return Ce($e?Ke.reverse():Ke)}return Ee.domain=function(Me){return arguments.length?(_e(Me),ke()):_e()},Ee.range=function(Me){return arguments.length?([Pe,Re]=Me,Pe=+Pe,Re=+Re,ke()):[Pe,Re]},Ee.rangeRound=function(Me){return[Pe,Re]=Me,Pe=+Pe,Re=+Re,je=!0,ke()},Ee.bandwidth=function(){return Be},Ee.step=function(){return Ie},Ee.round=function(Me){return arguments.length?(je=!!Me,ke()):je},Ee.padding=function(Me){return arguments.length?(De=Math.min(1,Fe=+Me),ke()):De},Ee.paddingInner=function(Me){return arguments.length?(De=Math.min(1,Me),ke()):De},Ee.paddingOuter=function(Me){return arguments.length?(Fe=+Me,ke()):Fe},Ee.align=function(Me){return arguments.length?(Oe=Math.max(0,Math.min(1,Me)),ke()):Oe},Ee.copy=function(){return band(_e(),[Pe,Re]).round(je).paddingInner(De).paddingOuter(Fe).align(Oe)},initRange.apply(ke(),arguments)}function pointish(Ee){var _e=Ee.copy;return Ee.padding=Ee.paddingOuter,delete Ee.paddingInner,delete Ee.paddingOuter,Ee.copy=function(){return pointish(_e())},Ee}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(Ee,_e,Ce){Ee.prototype=_e.prototype=Ce,Ce.constructor=Ee}function extend$1(Ee,_e){var Ce=Object.create(Ee.prototype);for(var Pe in _e)Ce[Pe]=_e[Pe];return Ce}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(Ee){return Object.assign(new this.constructor,this,Ee)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(Ee){var _e,Ce;return Ee=(Ee+"").trim().toLowerCase(),(_e=reHex.exec(Ee))?(Ce=_e[1].length,_e=parseInt(_e[1],16),Ce===6?rgbn(_e):Ce===3?new Rgb(_e>>8&15|_e>>4&240,_e>>4&15|_e&240,(_e&15)<<4|_e&15,1):Ce===8?rgba(_e>>24&255,_e>>16&255,_e>>8&255,(_e&255)/255):Ce===4?rgba(_e>>12&15|_e>>8&240,_e>>8&15|_e>>4&240,_e>>4&15|_e&240,((_e&15)<<4|_e&15)/255):null):(_e=reRgbInteger.exec(Ee))?new Rgb(_e[1],_e[2],_e[3],1):(_e=reRgbPercent.exec(Ee))?new Rgb(_e[1]*255/100,_e[2]*255/100,_e[3]*255/100,1):(_e=reRgbaInteger.exec(Ee))?rgba(_e[1],_e[2],_e[3],_e[4]):(_e=reRgbaPercent.exec(Ee))?rgba(_e[1]*255/100,_e[2]*255/100,_e[3]*255/100,_e[4]):(_e=reHslPercent.exec(Ee))?hsla(_e[1],_e[2]/100,_e[3]/100,1):(_e=reHslaPercent.exec(Ee))?hsla(_e[1],_e[2]/100,_e[3]/100,_e[4]):named.hasOwnProperty(Ee)?rgbn(named[Ee]):Ee==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(Ee){return new Rgb(Ee>>16&255,Ee>>8&255,Ee&255,1)}function rgba(Ee,_e,Ce,Pe){return Pe<=0&&(Ee=_e=Ce=NaN),new Rgb(Ee,_e,Ce,Pe)}function rgbConvert(Ee){return Ee instanceof Color||(Ee=color(Ee)),Ee?(Ee=Ee.rgb(),new Rgb(Ee.r,Ee.g,Ee.b,Ee.opacity)):new Rgb}function rgb$1(Ee,_e,Ce,Pe){return arguments.length===1?rgbConvert(Ee):new Rgb(Ee,_e,Ce,Pe??1)}function Rgb(Ee,_e,Ce,Pe){this.r=+Ee,this.g=+_e,this.b=+Ce,this.opacity=+Pe}define(Rgb,rgb$1,extend$1(Color,{brighter(Ee){return Ee=Ee==null?brighter:Math.pow(brighter,Ee),new Rgb(this.r*Ee,this.g*Ee,this.b*Ee,this.opacity)},darker(Ee){return Ee=Ee==null?darker:Math.pow(darker,Ee),new Rgb(this.r*Ee,this.g*Ee,this.b*Ee,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const Ee=clampa(this.opacity);return`${Ee===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${Ee===1?")":`, ${Ee})`}`}function clampa(Ee){return isNaN(Ee)?1:Math.max(0,Math.min(1,Ee))}function clampi(Ee){return Math.max(0,Math.min(255,Math.round(Ee)||0))}function hex(Ee){return Ee=clampi(Ee),(Ee<16?"0":"")+Ee.toString(16)}function hsla(Ee,_e,Ce,Pe){return Pe<=0?Ee=_e=Ce=NaN:Ce<=0||Ce>=1?Ee=_e=NaN:_e<=0&&(Ee=NaN),new Hsl(Ee,_e,Ce,Pe)}function hslConvert(Ee){if(Ee instanceof Hsl)return new Hsl(Ee.h,Ee.s,Ee.l,Ee.opacity);if(Ee instanceof Color||(Ee=color(Ee)),!Ee)return new Hsl;if(Ee instanceof Hsl)return Ee;Ee=Ee.rgb();var _e=Ee.r/255,Ce=Ee.g/255,Pe=Ee.b/255,Re=Math.min(_e,Ce,Pe),Ie=Math.max(_e,Ce,Pe),Be=NaN,je=Ie-Re,De=(Ie+Re)/2;return je?(_e===Ie?Be=(Ce-Pe)/je+(Ce<Pe)*6:Ce===Ie?Be=(Pe-_e)/je+2:Be=(_e-Ce)/je+4,je/=De<.5?Ie+Re:2-Ie-Re,Be*=60):je=De>0&&De<1?0:Be,new Hsl(Be,je,De,Ee.opacity)}function hsl(Ee,_e,Ce,Pe){return arguments.length===1?hslConvert(Ee):new Hsl(Ee,_e,Ce,Pe??1)}function Hsl(Ee,_e,Ce,Pe){this.h=+Ee,this.s=+_e,this.l=+Ce,this.opacity=+Pe}define(Hsl,hsl,extend$1(Color,{brighter(Ee){return Ee=Ee==null?brighter:Math.pow(brighter,Ee),new Hsl(this.h,this.s,this.l*Ee,this.opacity)},darker(Ee){return Ee=Ee==null?darker:Math.pow(darker,Ee),new Hsl(this.h,this.s,this.l*Ee,this.opacity)},rgb(){var Ee=this.h%360+(this.h<0)*360,_e=isNaN(Ee)||isNaN(this.s)?0:this.s,Ce=this.l,Pe=Ce+(Ce<.5?Ce:1-Ce)*_e,Re=2*Ce-Pe;return new Rgb(hsl2rgb(Ee>=240?Ee-240:Ee+120,Re,Pe),hsl2rgb(Ee,Re,Pe),hsl2rgb(Ee<120?Ee+240:Ee-120,Re,Pe),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const Ee=clampa(this.opacity);return`${Ee===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${Ee===1?")":`, ${Ee})`}`}}));function clamph(Ee){return Ee=(Ee||0)%360,Ee<0?Ee+360:Ee}function clampt(Ee){return Math.max(0,Math.min(1,Ee||0))}function hsl2rgb(Ee,_e,Ce){return(Ee<60?_e+(Ce-_e)*Ee/60:Ee<180?Ce:Ee<240?_e+(Ce-_e)*(240-Ee)/60:_e)*255}const constant=Ee=>()=>Ee;function linear$1(Ee,_e){return function(Ce){return Ee+Ce*_e}}function exponential(Ee,_e,Ce){return Ee=Math.pow(Ee,Ce),_e=Math.pow(_e,Ce)-Ee,Ce=1/Ce,function(Pe){return Math.pow(Ee+Pe*_e,Ce)}}function gamma(Ee){return(Ee=+Ee)==1?nogamma:function(_e,Ce){return Ce-_e?exponential(_e,Ce,Ee):constant(isNaN(_e)?Ce:_e)}}function nogamma(Ee,_e){var Ce=_e-Ee;return Ce?linear$1(Ee,Ce):constant(isNaN(Ee)?_e:Ee)}const rgb=function Ee(_e){var Ce=gamma(_e);function Pe(Re,Ie){var Be=Ce((Re=rgb$1(Re)).r,(Ie=rgb$1(Ie)).r),je=Ce(Re.g,Ie.g),De=Ce(Re.b,Ie.b),Fe=nogamma(Re.opacity,Ie.opacity);return function(Oe){return Re.r=Be(Oe),Re.g=je(Oe),Re.b=De(Oe),Re.opacity=Fe(Oe),Re+""}}return Pe.gamma=Ee,Pe}(1);function numberArray(Ee,_e){_e||(_e=[]);var Ce=Ee?Math.min(_e.length,Ee.length):0,Pe=_e.slice(),Re;return function(Ie){for(Re=0;Re<Ce;++Re)Pe[Re]=Ee[Re]*(1-Ie)+_e[Re]*Ie;return Pe}}function isNumberArray(Ee){return ArrayBuffer.isView(Ee)&&!(Ee instanceof DataView)}function genericArray(Ee,_e){var Ce=_e?_e.length:0,Pe=Ee?Math.min(Ce,Ee.length):0,Re=new Array(Pe),Ie=new Array(Ce),Be;for(Be=0;Be<Pe;++Be)Re[Be]=interpolate(Ee[Be],_e[Be]);for(;Be<Ce;++Be)Ie[Be]=_e[Be];return function(je){for(Be=0;Be<Pe;++Be)Ie[Be]=Re[Be](je);return Ie}}function date$1(Ee,_e){var Ce=new Date;return Ee=+Ee,_e=+_e,function(Pe){return Ce.setTime(Ee*(1-Pe)+_e*Pe),Ce}}function interpolateNumber(Ee,_e){return Ee=+Ee,_e=+_e,function(Ce){return Ee*(1-Ce)+_e*Ce}}function object(Ee,_e){var Ce={},Pe={},Re;(Ee===null||typeof Ee!="object")&&(Ee={}),(_e===null||typeof _e!="object")&&(_e={});for(Re in _e)Re in Ee?Ce[Re]=interpolate(Ee[Re],_e[Re]):Pe[Re]=_e[Re];return function(Ie){for(Re in Ce)Pe[Re]=Ce[Re](Ie);return Pe}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(Ee){return function(){return Ee}}function one(Ee){return function(_e){return Ee(_e)+""}}function string(Ee,_e){var Ce=reA.lastIndex=reB.lastIndex=0,Pe,Re,Ie,Be=-1,je=[],De=[];for(Ee=Ee+"",_e=_e+"";(Pe=reA.exec(Ee))&&(Re=reB.exec(_e));)(Ie=Re.index)>Ce&&(Ie=_e.slice(Ce,Ie),je[Be]?je[Be]+=Ie:je[++Be]=Ie),(Pe=Pe[0])===(Re=Re[0])?je[Be]?je[Be]+=Re:je[++Be]=Re:(je[++Be]=null,De.push({i:Be,x:interpolateNumber(Pe,Re)})),Ce=reB.lastIndex;return Ce<_e.length&&(Ie=_e.slice(Ce),je[Be]?je[Be]+=Ie:je[++Be]=Ie),je.length<2?De[0]?one(De[0].x):zero(_e):(_e=De.length,function(Fe){for(var Oe=0,ke;Oe<_e;++Oe)je[(ke=De[Oe]).i]=ke.x(Fe);return je.join("")})}function interpolate(Ee,_e){var Ce=typeof _e,Pe;return _e==null||Ce==="boolean"?constant(_e):(Ce==="number"?interpolateNumber:Ce==="string"?(Pe=color(_e))?(_e=Pe,rgb):string:_e instanceof color?rgb:_e instanceof Date?date$1:isNumberArray(_e)?numberArray:Array.isArray(_e)?genericArray:typeof _e.valueOf!="function"&&typeof _e.toString!="function"||isNaN(_e)?object:interpolateNumber)(Ee,_e)}function interpolateRound(Ee,_e){return Ee=+Ee,_e=+_e,function(Ce){return Math.round(Ee*(1-Ce)+_e*Ce)}}function piecewise(Ee,_e){_e===void 0&&(_e=Ee,Ee=interpolate);for(var Ce=0,Pe=_e.length-1,Re=_e[0],Ie=new Array(Pe<0?0:Pe);Ce<Pe;)Ie[Ce]=Ee(Re,Re=_e[++Ce]);return function(Be){var je=Math.max(0,Math.min(Pe-1,Math.floor(Be*=Pe)));return Ie[je](Be-je)}}function constants(Ee){return function(){return Ee}}function number$1(Ee){return+Ee}var unit=[0,1];function identity$3(Ee){return Ee}function normalize(Ee,_e){return(_e-=Ee=+Ee)?function(Ce){return(Ce-Ee)/_e}:constants(isNaN(_e)?NaN:.5)}function clamper(Ee,_e){var Ce;return Ee>_e&&(Ce=Ee,Ee=_e,_e=Ce),function(Pe){return Math.max(Ee,Math.min(_e,Pe))}}function bimap(Ee,_e,Ce){var Pe=Ee[0],Re=Ee[1],Ie=_e[0],Be=_e[1];return Re<Pe?(Pe=normalize(Re,Pe),Ie=Ce(Be,Ie)):(Pe=normalize(Pe,Re),Ie=Ce(Ie,Be)),function(je){return Ie(Pe(je))}}function polymap(Ee,_e,Ce){var Pe=Math.min(Ee.length,_e.length)-1,Re=new Array(Pe),Ie=new Array(Pe),Be=-1;for(Ee[Pe]<Ee[0]&&(Ee=Ee.slice().reverse(),_e=_e.slice().reverse());++Be<Pe;)Re[Be]=normalize(Ee[Be],Ee[Be+1]),Ie[Be]=Ce(_e[Be],_e[Be+1]);return function(je){var De=bisectRight(Ee,je,1,Pe)-1;return Ie[De](Re[De](je))}}function copy$1(Ee,_e){return _e.domain(Ee.domain()).range(Ee.range()).interpolate(Ee.interpolate()).clamp(Ee.clamp()).unknown(Ee.unknown())}function transformer$2(){var Ee=unit,_e=unit,Ce=interpolate,Pe,Re,Ie,Be=identity$3,je,De,Fe;function Oe(){var Me=Math.min(Ee.length,_e.length);return Be!==identity$3&&(Be=clamper(Ee[0],Ee[Me-1])),je=Me>2?polymap:bimap,De=Fe=null,ke}function ke(Me){return Me==null||isNaN(Me=+Me)?Ie:(De||(De=je(Ee.map(Pe),_e,Ce)))(Pe(Be(Me)))}return ke.invert=function(Me){return Be(Re((Fe||(Fe=je(_e,Ee.map(Pe),interpolateNumber)))(Me)))},ke.domain=function(Me){return arguments.length?(Ee=Array.from(Me,number$1),Oe()):Ee.slice()},ke.range=function(Me){return arguments.length?(_e=Array.from(Me),Oe()):_e.slice()},ke.rangeRound=function(Me){return _e=Array.from(Me),Ce=interpolateRound,Oe()},ke.clamp=function(Me){return arguments.length?(Be=Me?!0:identity$3,Oe()):Be!==identity$3},ke.interpolate=function(Me){return arguments.length?(Ce=Me,Oe()):Ce},ke.unknown=function(Me){return arguments.length?(Ie=Me,ke):Ie},function(Me,$e){return Pe=Me,Re=$e,Oe()}}function continuous(){return transformer$2()(identity$3,identity$3)}function formatDecimal(Ee){return Math.abs(Ee=Math.round(Ee))>=1e21?Ee.toLocaleString("en").replace(/,/g,""):Ee.toString(10)}function formatDecimalParts(Ee,_e){if((Ce=(Ee=_e?Ee.toExponential(_e-1):Ee.toExponential()).indexOf("e"))<0)return null;var Ce,Pe=Ee.slice(0,Ce);return[Pe.length>1?Pe[0]+Pe.slice(2):Pe,+Ee.slice(Ce+1)]}function exponent(Ee){return Ee=formatDecimalParts(Math.abs(Ee)),Ee?Ee[1]:NaN}function formatGroup(Ee,_e){return function(Ce,Pe){for(var Re=Ce.length,Ie=[],Be=0,je=Ee[0],De=0;Re>0&&je>0&&(De+je+1>Pe&&(je=Math.max(1,Pe-De)),Ie.push(Ce.substring(Re-=je,Re+je)),!((De+=je+1)>Pe));)je=Ee[Be=(Be+1)%Ee.length];return Ie.reverse().join(_e)}}function formatNumerals(Ee){return function(_e){return _e.replace(/[0-9]/g,function(Ce){return Ee[+Ce]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(Ee){if(!(_e=re$1.exec(Ee)))throw new Error("invalid format: "+Ee);var _e;return new FormatSpecifier({fill:_e[1],align:_e[2],sign:_e[3],symbol:_e[4],zero:_e[5],width:_e[6],comma:_e[7],precision:_e[8]&&_e[8].slice(1),trim:_e[9],type:_e[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(Ee){this.fill=Ee.fill===void 0?" ":Ee.fill+"",this.align=Ee.align===void 0?">":Ee.align+"",this.sign=Ee.sign===void 0?"-":Ee.sign+"",this.symbol=Ee.symbol===void 0?"":Ee.symbol+"",this.zero=!!Ee.zero,this.width=Ee.width===void 0?void 0:+Ee.width,this.comma=!!Ee.comma,this.precision=Ee.precision===void 0?void 0:+Ee.precision,this.trim=!!Ee.trim,this.type=Ee.type===void 0?"":Ee.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(Ee){e:for(var _e=Ee.length,Ce=1,Pe=-1,Re;Ce<_e;++Ce)switch(Ee[Ce]){case".":Pe=Re=Ce;break;case"0":Pe===0&&(Pe=Ce),Re=Ce;break;default:if(!+Ee[Ce])break e;Pe>0&&(Pe=0);break}return Pe>0?Ee.slice(0,Pe)+Ee.slice(Re+1):Ee}var prefixExponent;function formatPrefixAuto(Ee,_e){var Ce=formatDecimalParts(Ee,_e);if(!Ce)return Ee+"";var Pe=Ce[0],Re=Ce[1],Ie=Re-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(Re/3)))*3)+1,Be=Pe.length;return Ie===Be?Pe:Ie>Be?Pe+new Array(Ie-Be+1).join("0"):Ie>0?Pe.slice(0,Ie)+"."+Pe.slice(Ie):"0."+new Array(1-Ie).join("0")+formatDecimalParts(Ee,Math.max(0,_e+Ie-1))[0]}function formatRounded(Ee,_e){var Ce=formatDecimalParts(Ee,_e);if(!Ce)return Ee+"";var Pe=Ce[0],Re=Ce[1];return Re<0?"0."+new Array(-Re).join("0")+Pe:Pe.length>Re+1?Pe.slice(0,Re+1)+"."+Pe.slice(Re+1):Pe+new Array(Re-Pe.length+2).join("0")}const formatTypes={"%":(Ee,_e)=>(Ee*100).toFixed(_e),b:Ee=>Math.round(Ee).toString(2),c:Ee=>Ee+"",d:formatDecimal,e:(Ee,_e)=>Ee.toExponential(_e),f:(Ee,_e)=>Ee.toFixed(_e),g:(Ee,_e)=>Ee.toPrecision(_e),o:Ee=>Math.round(Ee).toString(8),p:(Ee,_e)=>formatRounded(Ee*100,_e),r:formatRounded,s:formatPrefixAuto,X:Ee=>Math.round(Ee).toString(16).toUpperCase(),x:Ee=>Math.round(Ee).toString(16)};function identity$2(Ee){return Ee}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(Ee){var _e=Ee.grouping===void 0||Ee.thousands===void 0?identity$2:formatGroup(map$1.call(Ee.grouping,Number),Ee.thousands+""),Ce=Ee.currency===void 0?"":Ee.currency[0]+"",Pe=Ee.currency===void 0?"":Ee.currency[1]+"",Re=Ee.decimal===void 0?".":Ee.decimal+"",Ie=Ee.numerals===void 0?identity$2:formatNumerals(map$1.call(Ee.numerals,String)),Be=Ee.percent===void 0?"%":Ee.percent+"",je=Ee.minus===void 0?"":Ee.minus+"",De=Ee.nan===void 0?"NaN":Ee.nan+"";function Fe(ke){ke=formatSpecifier(ke);var Me=ke.fill,$e=ke.align,He=ke.sign,Qe=ke.symbol,Ke=ke.zero,ze=ke.width,We=ke.comma,qe=ke.precision,Ye=ke.trim,Xe=ke.type;Xe==="n"?(We=!0,Xe="g"):formatTypes[Xe]||(qe===void 0&&(qe=12),Ye=!0,Xe="g"),(Ke||Me==="0"&&$e==="=")&&(Ke=!0,Me="0",$e="=");var rr=Qe==="$"?Ce:Qe==="#"&&/[boxX]/.test(Xe)?"0"+Xe.toLowerCase():"",Je=Qe==="$"?Pe:/[%p]/.test(Xe)?Be:"",er=formatTypes[Xe],or=/[defgprs%]/.test(Xe);qe=qe===void 0?6:/[gprs]/.test(Xe)?Math.max(1,Math.min(21,qe)):Math.max(0,Math.min(20,qe));function pr(ar){var fr=rr,gr=Je,Rr,Ir,mr;if(Xe==="c")gr=er(ar)+gr,ar="";else{ar=+ar;var Er=ar<0||1/ar<0;if(ar=isNaN(ar)?De:er(Math.abs(ar),qe),Ye&&(ar=formatTrim(ar)),Er&&+ar==0&&He!=="+"&&(Er=!1),fr=(Er?He==="("?He:je:He==="-"||He==="("?"":He)+fr,gr=(Xe==="s"?prefixes[8+prefixExponent/3]:"")+gr+(Er&&He==="("?")":""),or){for(Rr=-1,Ir=ar.length;++Rr<Ir;)if(mr=ar.charCodeAt(Rr),48>mr||mr>57){gr=(mr===46?Re+ar.slice(Rr+1):ar.slice(Rr))+gr,ar=ar.slice(0,Rr);break}}}We&&!Ke&&(ar=_e(ar,1/0));var Ar=fr.length+ar.length+gr.length,br=Ar<ze?new Array(ze-Ar+1).join(Me):"";switch(We&&Ke&&(ar=_e(br+ar,br.length?ze-gr.length:1/0),br=""),$e){case"<":ar=fr+ar+gr+br;break;case"=":ar=fr+br+ar+gr;break;case"^":ar=br.slice(0,Ar=br.length>>1)+fr+ar+gr+br.slice(Ar);break;default:ar=br+fr+ar+gr;break}return Ie(ar)}return pr.toString=function(){return ke+""},pr}function Oe(ke,Me){var $e=Fe((ke=formatSpecifier(ke),ke.type="f",ke)),He=Math.max(-8,Math.min(8,Math.floor(exponent(Me)/3)))*3,Qe=Math.pow(10,-He),Ke=prefixes[8+He/3];return function(ze){return $e(Qe*ze)+Ke}}return{format:Fe,formatPrefix:Oe}}var locale$1,format$1,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(Ee){return locale$1=formatLocale$1(Ee),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(Ee){return Math.max(0,-exponent(Math.abs(Ee)))}function precisionPrefix(Ee,_e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(_e)/3)))*3-exponent(Math.abs(Ee)))}function precisionRound(Ee,_e){return Ee=Math.abs(Ee),_e=Math.abs(_e)-Ee,Math.max(0,exponent(_e)-exponent(Ee))+1}function tickFormat(Ee,_e,Ce,Pe){var Re=tickStep(Ee,_e,Ce),Ie;switch(Pe=formatSpecifier(Pe??",f"),Pe.type){case"s":{var Be=Math.max(Math.abs(Ee),Math.abs(_e));return Pe.precision==null&&!isNaN(Ie=precisionPrefix(Re,Be))&&(Pe.precision=Ie),formatPrefix(Pe,Be)}case"":case"e":case"g":case"p":case"r":{Pe.precision==null&&!isNaN(Ie=precisionRound(Re,Math.max(Math.abs(Ee),Math.abs(_e))))&&(Pe.precision=Ie-(Pe.type==="e"));break}case"f":case"%":{Pe.precision==null&&!isNaN(Ie=precisionFixed(Re))&&(Pe.precision=Ie-(Pe.type==="%")*2);break}}return format$1(Pe)}function linearish(Ee){var _e=Ee.domain;return Ee.ticks=function(Ce){var Pe=_e();return ticks(Pe[0],Pe[Pe.length-1],Ce??10)},Ee.tickFormat=function(Ce,Pe){var Re=_e();return tickFormat(Re[0],Re[Re.length-1],Ce??10,Pe)},Ee.nice=function(Ce){Ce==null&&(Ce=10);var Pe=_e(),Re=0,Ie=Pe.length-1,Be=Pe[Re],je=Pe[Ie],De,Fe,Oe=10;for(je<Be&&(Fe=Be,Be=je,je=Fe,Fe=Re,Re=Ie,Ie=Fe);Oe-- >0;){if(Fe=tickIncrement(Be,je,Ce),Fe===De)return Pe[Re]=Be,Pe[Ie]=je,_e(Pe);if(Fe>0)Be=Math.floor(Be/Fe)*Fe,je=Math.ceil(je/Fe)*Fe;else if(Fe<0)Be=Math.ceil(Be*Fe)/Fe,je=Math.floor(je*Fe)/Fe;else break;De=Fe}return Ee},Ee}function linear(){var Ee=continuous();return Ee.copy=function(){return copy$1(Ee,linear())},initRange.apply(Ee,arguments),linearish(Ee)}function identity$1(Ee){var _e;function Ce(Pe){return Pe==null||isNaN(Pe=+Pe)?_e:Pe}return Ce.invert=Ce,Ce.domain=Ce.range=function(Pe){return arguments.length?(Ee=Array.from(Pe,number$1),Ce):Ee.slice()},Ce.unknown=function(Pe){return arguments.length?(_e=Pe,Ce):_e},Ce.copy=function(){return identity$1(Ee).unknown(_e)},Ee=arguments.length?Array.from(Ee,number$1):[0,1],linearish(Ce)}function nice(Ee,_e){Ee=Ee.slice();var Ce=0,Pe=Ee.length-1,Re=Ee[Ce],Ie=Ee[Pe],Be;return Ie<Re&&(Be=Ce,Ce=Pe,Pe=Be,Be=Re,Re=Ie,Ie=Be),Ee[Ce]=_e.floor(Re),Ee[Pe]=_e.ceil(Ie),Ee}function transformLog(Ee){return Math.log(Ee)}function transformExp(Ee){return Math.exp(Ee)}function transformLogn(Ee){return-Math.log(-Ee)}function transformExpn(Ee){return-Math.exp(-Ee)}function pow10(Ee){return isFinite(Ee)?+("1e"+Ee):Ee<0?0:Ee}function powp(Ee){return Ee===10?pow10:Ee===Math.E?Math.exp:_e=>Math.pow(Ee,_e)}function logp(Ee){return Ee===Math.E?Math.log:Ee===10&&Math.log10||Ee===2&&Math.log2||(Ee=Math.log(Ee),_e=>Math.log(_e)/Ee)}function reflect(Ee){return(_e,Ce)=>-Ee(-_e,Ce)}function loggish(Ee){const _e=Ee(transformLog,transformExp),Ce=_e.domain;let Pe=10,Re,Ie;function Be(){return Re=logp(Pe),Ie=powp(Pe),Ce()[0]<0?(Re=reflect(Re),Ie=reflect(Ie),Ee(transformLogn,transformExpn)):Ee(transformLog,transformExp),_e}return _e.base=function(je){return arguments.length?(Pe=+je,Be()):Pe},_e.domain=function(je){return arguments.length?(Ce(je),Be()):Ce()},_e.ticks=je=>{const De=Ce();let Fe=De[0],Oe=De[De.length-1];const ke=Oe<Fe;ke&&([Fe,Oe]=[Oe,Fe]);let Me=Re(Fe),$e=Re(Oe),He,Qe;const Ke=je==null?10:+je;let ze=[];if(!(Pe%1)&&$e-Me<Ke){if(Me=Math.floor(Me),$e=Math.ceil($e),Fe>0){for(;Me<=$e;++Me)for(He=1;He<Pe;++He)if(Qe=Me<0?He/Ie(-Me):He*Ie(Me),!(Qe<Fe)){if(Qe>Oe)break;ze.push(Qe)}}else for(;Me<=$e;++Me)for(He=Pe-1;He>=1;--He)if(Qe=Me>0?He/Ie(-Me):He*Ie(Me),!(Qe<Fe)){if(Qe>Oe)break;ze.push(Qe)}ze.length*2<Ke&&(ze=ticks(Fe,Oe,Ke))}else ze=ticks(Me,$e,Math.min($e-Me,Ke)).map(Ie);return ke?ze.reverse():ze},_e.tickFormat=(je,De)=>{if(je==null&&(je=10),De==null&&(De=Pe===10?"s":","),typeof De!="function"&&(!(Pe%1)&&(De=formatSpecifier(De)).precision==null&&(De.trim=!0),De=format$1(De)),je===1/0)return De;const Fe=Math.max(1,Pe*je/_e.ticks().length);return Oe=>{let ke=Oe/Ie(Math.round(Re(Oe)));return ke*Pe<Pe-.5&&(ke*=Pe),ke<=Fe?De(Oe):""}},_e.nice=()=>Ce(nice(Ce(),{floor:je=>Ie(Math.floor(Re(je))),ceil:je=>Ie(Math.ceil(Re(je)))})),_e}function log(){const Ee=loggish(transformer$2()).domain([1,10]);return Ee.copy=()=>copy$1(Ee,log()).base(Ee.base()),initRange.apply(Ee,arguments),Ee}function transformSymlog(Ee){return function(_e){return Math.sign(_e)*Math.log1p(Math.abs(_e/Ee))}}function transformSymexp(Ee){return function(_e){return Math.sign(_e)*Math.expm1(Math.abs(_e))*Ee}}function symlogish(Ee){var _e=1,Ce=Ee(transformSymlog(_e),transformSymexp(_e));return Ce.constant=function(Pe){return arguments.length?Ee(transformSymlog(_e=+Pe),transformSymexp(_e)):_e},linearish(Ce)}function symlog(){var Ee=symlogish(transformer$2());return Ee.copy=function(){return copy$1(Ee,symlog()).constant(Ee.constant())},initRange.apply(Ee,arguments)}function transformPow(Ee){return function(_e){return _e<0?-Math.pow(-_e,Ee):Math.pow(_e,Ee)}}function transformSqrt(Ee){return Ee<0?-Math.sqrt(-Ee):Math.sqrt(Ee)}function transformSquare(Ee){return Ee<0?-Ee*Ee:Ee*Ee}function powish(Ee){var _e=Ee(identity$3,identity$3),Ce=1;function Pe(){return Ce===1?Ee(identity$3,identity$3):Ce===.5?Ee(transformSqrt,transformSquare):Ee(transformPow(Ce),transformPow(1/Ce))}return _e.exponent=function(Re){return arguments.length?(Ce=+Re,Pe()):Ce},linearish(_e)}function pow(){var Ee=powish(transformer$2());return Ee.copy=function(){return copy$1(Ee,pow()).exponent(Ee.exponent())},initRange.apply(Ee,arguments),Ee}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(Ee){return Math.sign(Ee)*Ee*Ee}function unsquare(Ee){return Math.sign(Ee)*Math.sqrt(Math.abs(Ee))}function radial(){var Ee=continuous(),_e=[0,1],Ce=!1,Pe;function Re(Ie){var Be=unsquare(Ee(Ie));return isNaN(Be)?Pe:Ce?Math.round(Be):Be}return Re.invert=function(Ie){return Ee.invert(square(Ie))},Re.domain=function(Ie){return arguments.length?(Ee.domain(Ie),Re):Ee.domain()},Re.range=function(Ie){return arguments.length?(Ee.range((_e=Array.from(Ie,number$1)).map(square)),Re):_e.slice()},Re.rangeRound=function(Ie){return Re.range(Ie).round(!0)},Re.round=function(Ie){return arguments.length?(Ce=!!Ie,Re):Ce},Re.clamp=function(Ie){return arguments.length?(Ee.clamp(Ie),Re):Ee.clamp()},Re.unknown=function(Ie){return arguments.length?(Pe=Ie,Re):Pe},Re.copy=function(){return radial(Ee.domain(),_e).round(Ce).clamp(Ee.clamp()).unknown(Pe)},initRange.apply(Re,arguments),linearish(Re)}function quantile(){var Ee=[],_e=[],Ce=[],Pe;function Re(){var Be=0,je=Math.max(1,_e.length);for(Ce=new Array(je-1);++Be<je;)Ce[Be-1]=quantileSorted(Ee,Be/je);return Ie}function Ie(Be){return Be==null||isNaN(Be=+Be)?Pe:_e[bisectRight(Ce,Be)]}return Ie.invertExtent=function(Be){var je=_e.indexOf(Be);return je<0?[NaN,NaN]:[je>0?Ce[je-1]:Ee[0],je<Ce.length?Ce[je]:Ee[Ee.length-1]]},Ie.domain=function(Be){if(!arguments.length)return Ee.slice();Ee=[];for(let je of Be)je!=null&&!isNaN(je=+je)&&Ee.push(je);return Ee.sort(ascending),Re()},Ie.range=function(Be){return arguments.length?(_e=Array.from(Be),Re()):_e.slice()},Ie.unknown=function(Be){return arguments.length?(Pe=Be,Ie):Pe},Ie.quantiles=function(){return Ce.slice()},Ie.copy=function(){return quantile().domain(Ee).range(_e).unknown(Pe)},initRange.apply(Ie,arguments)}function quantize(){var Ee=0,_e=1,Ce=1,Pe=[.5],Re=[0,1],Ie;function Be(De){return De!=null&&De<=De?Re[bisectRight(Pe,De,0,Ce)]:Ie}function je(){var De=-1;for(Pe=new Array(Ce);++De<Ce;)Pe[De]=((De+1)*_e-(De-Ce)*Ee)/(Ce+1);return Be}return Be.domain=function(De){return arguments.length?([Ee,_e]=De,Ee=+Ee,_e=+_e,je()):[Ee,_e]},Be.range=function(De){return arguments.length?(Ce=(Re=Array.from(De)).length-1,je()):Re.slice()},Be.invertExtent=function(De){var Fe=Re.indexOf(De);return Fe<0?[NaN,NaN]:Fe<1?[Ee,Pe[0]]:Fe>=Ce?[Pe[Ce-1],_e]:[Pe[Fe-1],Pe[Fe]]},Be.unknown=function(De){return arguments.length&&(Ie=De),Be},Be.thresholds=function(){return Pe.slice()},Be.copy=function(){return quantize().domain([Ee,_e]).range(Re).unknown(Ie)},initRange.apply(linearish(Be),arguments)}function threshold(){var Ee=[.5],_e=[0,1],Ce,Pe=1;function Re(Ie){return Ie!=null&&Ie<=Ie?_e[bisectRight(Ee,Ie,0,Pe)]:Ce}return Re.domain=function(Ie){return arguments.length?(Ee=Array.from(Ie),Pe=Math.min(Ee.length,_e.length-1),Re):Ee.slice()},Re.range=function(Ie){return arguments.length?(_e=Array.from(Ie),Pe=Math.min(Ee.length,_e.length-1),Re):_e.slice()},Re.invertExtent=function(Ie){var Be=_e.indexOf(Ie);return[Ee[Be-1],Ee[Be]]},Re.unknown=function(Ie){return arguments.length?(Ce=Ie,Re):Ce},Re.copy=function(){return threshold().domain(Ee).range(_e).unknown(Ce)},initRange.apply(Re,arguments)}const t0=new Date,t1=new Date;function timeInterval(Ee,_e,Ce,Pe){function Re(Ie){return Ee(Ie=arguments.length===0?new Date:new Date(+Ie)),Ie}return Re.floor=Ie=>(Ee(Ie=new Date(+Ie)),Ie),Re.ceil=Ie=>(Ee(Ie=new Date(Ie-1)),_e(Ie,1),Ee(Ie),Ie),Re.round=Ie=>{const Be=Re(Ie),je=Re.ceil(Ie);return Ie-Be<je-Ie?Be:je},Re.offset=(Ie,Be)=>(_e(Ie=new Date(+Ie),Be==null?1:Math.floor(Be)),Ie),Re.range=(Ie,Be,je)=>{const De=[];if(Ie=Re.ceil(Ie),je=je==null?1:Math.floor(je),!(Ie<Be)||!(je>0))return De;let Fe;do De.push(Fe=new Date(+Ie)),_e(Ie,je),Ee(Ie);while(Fe<Ie&&Ie<Be);return De},Re.filter=Ie=>timeInterval(Be=>{if(Be>=Be)for(;Ee(Be),!Ie(Be);)Be.setTime(Be-1)},(Be,je)=>{if(Be>=Be)if(je<0)for(;++je<=0;)for(;_e(Be,-1),!Ie(Be););else for(;--je>=0;)for(;_e(Be,1),!Ie(Be););}),Ce&&(Re.count=(Ie,Be)=>(t0.setTime(+Ie),t1.setTime(+Be),Ee(t0),Ee(t1),Math.floor(Ce(t0,t1))),Re.every=Ie=>(Ie=Math.floor(Ie),!isFinite(Ie)||!(Ie>0)?null:Ie>1?Re.filter(Pe?Be=>Pe(Be)%Ie===0:Be=>Re.count(0,Be)%Ie===0):Re)),Re}const millisecond=timeInterval(()=>{},(Ee,_e)=>{Ee.setTime(+Ee+_e)},(Ee,_e)=>_e-Ee);millisecond.every=Ee=>(Ee=Math.floor(Ee),!isFinite(Ee)||!(Ee>0)?null:Ee>1?timeInterval(_e=>{_e.setTime(Math.floor(_e/Ee)*Ee)},(_e,Ce)=>{_e.setTime(+_e+Ce*Ee)},(_e,Ce)=>(Ce-_e)/Ee):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(Ee=>{Ee.setTime(Ee-Ee.getMilliseconds())},(Ee,_e)=>{Ee.setTime(+Ee+_e*durationSecond)},(Ee,_e)=>(_e-Ee)/durationSecond,Ee=>Ee.getUTCSeconds());second.range;const timeMinute=timeInterval(Ee=>{Ee.setTime(Ee-Ee.getMilliseconds()-Ee.getSeconds()*durationSecond)},(Ee,_e)=>{Ee.setTime(+Ee+_e*durationMinute)},(Ee,_e)=>(_e-Ee)/durationMinute,Ee=>Ee.getMinutes());timeMinute.range;const utcMinute=timeInterval(Ee=>{Ee.setUTCSeconds(0,0)},(Ee,_e)=>{Ee.setTime(+Ee+_e*durationMinute)},(Ee,_e)=>(_e-Ee)/durationMinute,Ee=>Ee.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(Ee=>{Ee.setTime(Ee-Ee.getMilliseconds()-Ee.getSeconds()*durationSecond-Ee.getMinutes()*durationMinute)},(Ee,_e)=>{Ee.setTime(+Ee+_e*durationHour)},(Ee,_e)=>(_e-Ee)/durationHour,Ee=>Ee.getHours());timeHour.range;const utcHour=timeInterval(Ee=>{Ee.setUTCMinutes(0,0,0)},(Ee,_e)=>{Ee.setTime(+Ee+_e*durationHour)},(Ee,_e)=>(_e-Ee)/durationHour,Ee=>Ee.getUTCHours());utcHour.range;const timeDay=timeInterval(Ee=>Ee.setHours(0,0,0,0),(Ee,_e)=>Ee.setDate(Ee.getDate()+_e),(Ee,_e)=>(_e-Ee-(_e.getTimezoneOffset()-Ee.getTimezoneOffset())*durationMinute)/durationDay,Ee=>Ee.getDate()-1);timeDay.range;const utcDay=timeInterval(Ee=>{Ee.setUTCHours(0,0,0,0)},(Ee,_e)=>{Ee.setUTCDate(Ee.getUTCDate()+_e)},(Ee,_e)=>(_e-Ee)/durationDay,Ee=>Ee.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(Ee=>{Ee.setUTCHours(0,0,0,0)},(Ee,_e)=>{Ee.setUTCDate(Ee.getUTCDate()+_e)},(Ee,_e)=>(_e-Ee)/durationDay,Ee=>Math.floor(Ee/durationDay));unixDay.range;function timeWeekday(Ee){return timeInterval(_e=>{_e.setDate(_e.getDate()-(_e.getDay()+7-Ee)%7),_e.setHours(0,0,0,0)},(_e,Ce)=>{_e.setDate(_e.getDate()+Ce*7)},(_e,Ce)=>(Ce-_e-(Ce.getTimezoneOffset()-_e.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(Ee){return timeInterval(_e=>{_e.setUTCDate(_e.getUTCDate()-(_e.getUTCDay()+7-Ee)%7),_e.setUTCHours(0,0,0,0)},(_e,Ce)=>{_e.setUTCDate(_e.getUTCDate()+Ce*7)},(_e,Ce)=>(Ce-_e)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(Ee=>{Ee.setDate(1),Ee.setHours(0,0,0,0)},(Ee,_e)=>{Ee.setMonth(Ee.getMonth()+_e)},(Ee,_e)=>_e.getMonth()-Ee.getMonth()+(_e.getFullYear()-Ee.getFullYear())*12,Ee=>Ee.getMonth());timeMonth.range;const utcMonth=timeInterval(Ee=>{Ee.setUTCDate(1),Ee.setUTCHours(0,0,0,0)},(Ee,_e)=>{Ee.setUTCMonth(Ee.getUTCMonth()+_e)},(Ee,_e)=>_e.getUTCMonth()-Ee.getUTCMonth()+(_e.getUTCFullYear()-Ee.getUTCFullYear())*12,Ee=>Ee.getUTCMonth());utcMonth.range;const timeYear=timeInterval(Ee=>{Ee.setMonth(0,1),Ee.setHours(0,0,0,0)},(Ee,_e)=>{Ee.setFullYear(Ee.getFullYear()+_e)},(Ee,_e)=>_e.getFullYear()-Ee.getFullYear(),Ee=>Ee.getFullYear());timeYear.every=Ee=>!isFinite(Ee=Math.floor(Ee))||!(Ee>0)?null:timeInterval(_e=>{_e.setFullYear(Math.floor(_e.getFullYear()/Ee)*Ee),_e.setMonth(0,1),_e.setHours(0,0,0,0)},(_e,Ce)=>{_e.setFullYear(_e.getFullYear()+Ce*Ee)});timeYear.range;const utcYear=timeInterval(Ee=>{Ee.setUTCMonth(0,1),Ee.setUTCHours(0,0,0,0)},(Ee,_e)=>{Ee.setUTCFullYear(Ee.getUTCFullYear()+_e)},(Ee,_e)=>_e.getUTCFullYear()-Ee.getUTCFullYear(),Ee=>Ee.getUTCFullYear());utcYear.every=Ee=>!isFinite(Ee=Math.floor(Ee))||!(Ee>0)?null:timeInterval(_e=>{_e.setUTCFullYear(Math.floor(_e.getUTCFullYear()/Ee)*Ee),_e.setUTCMonth(0,1),_e.setUTCHours(0,0,0,0)},(_e,Ce)=>{_e.setUTCFullYear(_e.getUTCFullYear()+Ce*Ee)});utcYear.range;function ticker(Ee,_e,Ce,Pe,Re,Ie){const Be=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[Ie,1,durationMinute],[Ie,5,5*durationMinute],[Ie,15,15*durationMinute],[Ie,30,30*durationMinute],[Re,1,durationHour],[Re,3,3*durationHour],[Re,6,6*durationHour],[Re,12,12*durationHour],[Pe,1,durationDay],[Pe,2,2*durationDay],[Ce,1,durationWeek],[_e,1,durationMonth],[_e,3,3*durationMonth],[Ee,1,durationYear]];function je(Fe,Oe,ke){const Me=Oe<Fe;Me&&([Fe,Oe]=[Oe,Fe]);const $e=ke&&typeof ke.range=="function"?ke:De(Fe,Oe,ke),He=$e?$e.range(Fe,+Oe+1):[];return Me?He.reverse():He}function De(Fe,Oe,ke){const Me=Math.abs(Oe-Fe)/ke,$e=bisector(([,,Ke])=>Ke).right(Be,Me);if($e===Be.length)return Ee.every(tickStep(Fe/durationYear,Oe/durationYear,ke));if($e===0)return millisecond.every(Math.max(tickStep(Fe,Oe,ke),1));const[He,Qe]=Be[Me/Be[$e-1][2]<Be[$e][2]/Me?$e-1:$e];return He.every(Qe)}return[je,De]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(Ee){if(0<=Ee.y&&Ee.y<100){var _e=new Date(-1,Ee.m,Ee.d,Ee.H,Ee.M,Ee.S,Ee.L);return _e.setFullYear(Ee.y),_e}return new Date(Ee.y,Ee.m,Ee.d,Ee.H,Ee.M,Ee.S,Ee.L)}function utcDate(Ee){if(0<=Ee.y&&Ee.y<100){var _e=new Date(Date.UTC(-1,Ee.m,Ee.d,Ee.H,Ee.M,Ee.S,Ee.L));return _e.setUTCFullYear(Ee.y),_e}return new Date(Date.UTC(Ee.y,Ee.m,Ee.d,Ee.H,Ee.M,Ee.S,Ee.L))}function newDate(Ee,_e,Ce){return{y:Ee,m:_e,d:Ce,H:0,M:0,S:0,L:0}}function formatLocale(Ee){var _e=Ee.dateTime,Ce=Ee.date,Pe=Ee.time,Re=Ee.periods,Ie=Ee.days,Be=Ee.shortDays,je=Ee.months,De=Ee.shortMonths,Fe=formatRe(Re),Oe=formatLookup(Re),ke=formatRe(Ie),Me=formatLookup(Ie),$e=formatRe(Be),He=formatLookup(Be),Qe=formatRe(je),Ke=formatLookup(je),ze=formatRe(De),We=formatLookup(De),qe={a:Er,A:Ar,b:br,B:wr,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:jr,q:hr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},Ye={a:_r,A:Pr,b:Cr,B:Or,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Yr,q:qr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},Xe={a:pr,A:ar,b:fr,B:gr,c:Rr,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:or,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Ir,X:mr,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};qe.x=rr(Ce,qe),qe.X=rr(Pe,qe),qe.c=rr(_e,qe),Ye.x=rr(Ce,Ye),Ye.X=rr(Pe,Ye),Ye.c=rr(_e,Ye);function rr(Kr,Zr){return function(yn){var mn=[],Cn=-1,bn=0,wn=Kr.length,Jr,qn,ci;for(yn instanceof Date||(yn=new Date(+yn));++Cn<wn;)Kr.charCodeAt(Cn)===37&&(mn.push(Kr.slice(bn,Cn)),(qn=pads[Jr=Kr.charAt(++Cn)])!=null?Jr=Kr.charAt(++Cn):qn=Jr==="e"?" ":"0",(ci=Zr[Jr])&&(Jr=ci(yn,qn)),mn.push(Jr),bn=Cn+1);return mn.push(Kr.slice(bn,Cn)),mn.join("")}}function Je(Kr,Zr){return function(yn){var mn=newDate(1900,void 0,1),Cn=er(mn,Kr,yn+="",0),bn,wn;if(Cn!=yn.length)return null;if("Q"in mn)return new Date(mn.Q);if("s"in mn)return new Date(mn.s*1e3+("L"in mn?mn.L:0));if(Zr&&!("Z"in mn)&&(mn.Z=0),"p"in mn&&(mn.H=mn.H%12+mn.p*12),mn.m===void 0&&(mn.m="q"in mn?mn.q:0),"V"in mn){if(mn.V<1||mn.V>53)return null;"w"in mn||(mn.w=1),"Z"in mn?(bn=utcDate(newDate(mn.y,0,1)),wn=bn.getUTCDay(),bn=wn>4||wn===0?utcMonday.ceil(bn):utcMonday(bn),bn=utcDay.offset(bn,(mn.V-1)*7),mn.y=bn.getUTCFullYear(),mn.m=bn.getUTCMonth(),mn.d=bn.getUTCDate()+(mn.w+6)%7):(bn=localDate(newDate(mn.y,0,1)),wn=bn.getDay(),bn=wn>4||wn===0?timeMonday.ceil(bn):timeMonday(bn),bn=timeDay.offset(bn,(mn.V-1)*7),mn.y=bn.getFullYear(),mn.m=bn.getMonth(),mn.d=bn.getDate()+(mn.w+6)%7)}else("W"in mn||"U"in mn)&&("w"in mn||(mn.w="u"in mn?mn.u%7:"W"in mn?1:0),wn="Z"in mn?utcDate(newDate(mn.y,0,1)).getUTCDay():localDate(newDate(mn.y,0,1)).getDay(),mn.m=0,mn.d="W"in mn?(mn.w+6)%7+mn.W*7-(wn+5)%7:mn.w+mn.U*7-(wn+6)%7);return"Z"in mn?(mn.H+=mn.Z/100|0,mn.M+=mn.Z%100,utcDate(mn)):localDate(mn)}}function er(Kr,Zr,yn,mn){for(var Cn=0,bn=Zr.length,wn=yn.length,Jr,qn;Cn<bn;){if(mn>=wn)return-1;if(Jr=Zr.charCodeAt(Cn++),Jr===37){if(Jr=Zr.charAt(Cn++),qn=Xe[Jr in pads?Zr.charAt(Cn++):Jr],!qn||(mn=qn(Kr,yn,mn))<0)return-1}else if(Jr!=yn.charCodeAt(mn++))return-1}return mn}function or(Kr,Zr,yn){var mn=Fe.exec(Zr.slice(yn));return mn?(Kr.p=Oe.get(mn[0].toLowerCase()),yn+mn[0].length):-1}function pr(Kr,Zr,yn){var mn=$e.exec(Zr.slice(yn));return mn?(Kr.w=He.get(mn[0].toLowerCase()),yn+mn[0].length):-1}function ar(Kr,Zr,yn){var mn=ke.exec(Zr.slice(yn));return mn?(Kr.w=Me.get(mn[0].toLowerCase()),yn+mn[0].length):-1}function fr(Kr,Zr,yn){var mn=ze.exec(Zr.slice(yn));return mn?(Kr.m=We.get(mn[0].toLowerCase()),yn+mn[0].length):-1}function gr(Kr,Zr,yn){var mn=Qe.exec(Zr.slice(yn));return mn?(Kr.m=Ke.get(mn[0].toLowerCase()),yn+mn[0].length):-1}function Rr(Kr,Zr,yn){return er(Kr,_e,Zr,yn)}function Ir(Kr,Zr,yn){return er(Kr,Ce,Zr,yn)}function mr(Kr,Zr,yn){return er(Kr,Pe,Zr,yn)}function Er(Kr){return Be[Kr.getDay()]}function Ar(Kr){return Ie[Kr.getDay()]}function br(Kr){return De[Kr.getMonth()]}function wr(Kr){return je[Kr.getMonth()]}function jr(Kr){return Re[+(Kr.getHours()>=12)]}function hr(Kr){return 1+~~(Kr.getMonth()/3)}function _r(Kr){return Be[Kr.getUTCDay()]}function Pr(Kr){return Ie[Kr.getUTCDay()]}function Cr(Kr){return De[Kr.getUTCMonth()]}function Or(Kr){return je[Kr.getUTCMonth()]}function Yr(Kr){return Re[+(Kr.getUTCHours()>=12)]}function qr(Kr){return 1+~~(Kr.getUTCMonth()/3)}return{format:function(Kr){var Zr=rr(Kr+="",qe);return Zr.toString=function(){return Kr},Zr},parse:function(Kr){var Zr=Je(Kr+="",!1);return Zr.toString=function(){return Kr},Zr},utcFormat:function(Kr){var Zr=rr(Kr+="",Ye);return Zr.toString=function(){return Kr},Zr},utcParse:function(Kr){var Zr=Je(Kr+="",!0);return Zr.toString=function(){return Kr},Zr}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(Ee,_e,Ce){var Pe=Ee<0?"-":"",Re=(Pe?-Ee:Ee)+"",Ie=Re.length;return Pe+(Ie<Ce?new Array(Ce-Ie+1).join(_e)+Re:Re)}function requote(Ee){return Ee.replace(requoteRe,"\\$&")}function formatRe(Ee){return new RegExp("^(?:"+Ee.map(requote).join("|")+")","i")}function formatLookup(Ee){return new Map(Ee.map((_e,Ce)=>[_e.toLowerCase(),Ce]))}function parseWeekdayNumberSunday(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+1));return Pe?(Ee.w=+Pe[0],Ce+Pe[0].length):-1}function parseWeekdayNumberMonday(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+1));return Pe?(Ee.u=+Pe[0],Ce+Pe[0].length):-1}function parseWeekNumberSunday(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+2));return Pe?(Ee.U=+Pe[0],Ce+Pe[0].length):-1}function parseWeekNumberISO(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+2));return Pe?(Ee.V=+Pe[0],Ce+Pe[0].length):-1}function parseWeekNumberMonday(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+2));return Pe?(Ee.W=+Pe[0],Ce+Pe[0].length):-1}function parseFullYear(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+4));return Pe?(Ee.y=+Pe[0],Ce+Pe[0].length):-1}function parseYear(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+2));return Pe?(Ee.y=+Pe[0]+(+Pe[0]>68?1900:2e3),Ce+Pe[0].length):-1}function parseZone(Ee,_e,Ce){var Pe=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(_e.slice(Ce,Ce+6));return Pe?(Ee.Z=Pe[1]?0:-(Pe[2]+(Pe[3]||"00")),Ce+Pe[0].length):-1}function parseQuarter(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+1));return Pe?(Ee.q=Pe[0]*3-3,Ce+Pe[0].length):-1}function parseMonthNumber(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+2));return Pe?(Ee.m=Pe[0]-1,Ce+Pe[0].length):-1}function parseDayOfMonth(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+2));return Pe?(Ee.d=+Pe[0],Ce+Pe[0].length):-1}function parseDayOfYear(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+3));return Pe?(Ee.m=0,Ee.d=+Pe[0],Ce+Pe[0].length):-1}function parseHour24(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+2));return Pe?(Ee.H=+Pe[0],Ce+Pe[0].length):-1}function parseMinutes(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+2));return Pe?(Ee.M=+Pe[0],Ce+Pe[0].length):-1}function parseSeconds(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+2));return Pe?(Ee.S=+Pe[0],Ce+Pe[0].length):-1}function parseMilliseconds(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+3));return Pe?(Ee.L=+Pe[0],Ce+Pe[0].length):-1}function parseMicroseconds(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce,Ce+6));return Pe?(Ee.L=Math.floor(Pe[0]/1e3),Ce+Pe[0].length):-1}function parseLiteralPercent(Ee,_e,Ce){var Pe=percentRe.exec(_e.slice(Ce,Ce+1));return Pe?Ce+Pe[0].length:-1}function parseUnixTimestamp(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce));return Pe?(Ee.Q=+Pe[0],Ce+Pe[0].length):-1}function parseUnixTimestampSeconds(Ee,_e,Ce){var Pe=numberRe.exec(_e.slice(Ce));return Pe?(Ee.s=+Pe[0],Ce+Pe[0].length):-1}function formatDayOfMonth(Ee,_e){return pad(Ee.getDate(),_e,2)}function formatHour24(Ee,_e){return pad(Ee.getHours(),_e,2)}function formatHour12(Ee,_e){return pad(Ee.getHours()%12||12,_e,2)}function formatDayOfYear(Ee,_e){return pad(1+timeDay.count(timeYear(Ee),Ee),_e,3)}function formatMilliseconds(Ee,_e){return pad(Ee.getMilliseconds(),_e,3)}function formatMicroseconds(Ee,_e){return formatMilliseconds(Ee,_e)+"000"}function formatMonthNumber(Ee,_e){return pad(Ee.getMonth()+1,_e,2)}function formatMinutes(Ee,_e){return pad(Ee.getMinutes(),_e,2)}function formatSeconds(Ee,_e){return pad(Ee.getSeconds(),_e,2)}function formatWeekdayNumberMonday(Ee){var _e=Ee.getDay();return _e===0?7:_e}function formatWeekNumberSunday(Ee,_e){return pad(timeSunday.count(timeYear(Ee)-1,Ee),_e,2)}function dISO(Ee){var _e=Ee.getDay();return _e>=4||_e===0?timeThursday(Ee):timeThursday.ceil(Ee)}function formatWeekNumberISO(Ee,_e){return Ee=dISO(Ee),pad(timeThursday.count(timeYear(Ee),Ee)+(timeYear(Ee).getDay()===4),_e,2)}function formatWeekdayNumberSunday(Ee){return Ee.getDay()}function formatWeekNumberMonday(Ee,_e){return pad(timeMonday.count(timeYear(Ee)-1,Ee),_e,2)}function formatYear(Ee,_e){return pad(Ee.getFullYear()%100,_e,2)}function formatYearISO(Ee,_e){return Ee=dISO(Ee),pad(Ee.getFullYear()%100,_e,2)}function formatFullYear(Ee,_e){return pad(Ee.getFullYear()%1e4,_e,4)}function formatFullYearISO(Ee,_e){var Ce=Ee.getDay();return Ee=Ce>=4||Ce===0?timeThursday(Ee):timeThursday.ceil(Ee),pad(Ee.getFullYear()%1e4,_e,4)}function formatZone(Ee){var _e=Ee.getTimezoneOffset();return(_e>0?"-":(_e*=-1,"+"))+pad(_e/60|0,"0",2)+pad(_e%60,"0",2)}function formatUTCDayOfMonth(Ee,_e){return pad(Ee.getUTCDate(),_e,2)}function formatUTCHour24(Ee,_e){return pad(Ee.getUTCHours(),_e,2)}function formatUTCHour12(Ee,_e){return pad(Ee.getUTCHours()%12||12,_e,2)}function formatUTCDayOfYear(Ee,_e){return pad(1+utcDay.count(utcYear(Ee),Ee),_e,3)}function formatUTCMilliseconds(Ee,_e){return pad(Ee.getUTCMilliseconds(),_e,3)}function formatUTCMicroseconds(Ee,_e){return formatUTCMilliseconds(Ee,_e)+"000"}function formatUTCMonthNumber(Ee,_e){return pad(Ee.getUTCMonth()+1,_e,2)}function formatUTCMinutes(Ee,_e){return pad(Ee.getUTCMinutes(),_e,2)}function formatUTCSeconds(Ee,_e){return pad(Ee.getUTCSeconds(),_e,2)}function formatUTCWeekdayNumberMonday(Ee){var _e=Ee.getUTCDay();return _e===0?7:_e}function formatUTCWeekNumberSunday(Ee,_e){return pad(utcSunday.count(utcYear(Ee)-1,Ee),_e,2)}function UTCdISO(Ee){var _e=Ee.getUTCDay();return _e>=4||_e===0?utcThursday(Ee):utcThursday.ceil(Ee)}function formatUTCWeekNumberISO(Ee,_e){return Ee=UTCdISO(Ee),pad(utcThursday.count(utcYear(Ee),Ee)+(utcYear(Ee).getUTCDay()===4),_e,2)}function formatUTCWeekdayNumberSunday(Ee){return Ee.getUTCDay()}function formatUTCWeekNumberMonday(Ee,_e){return pad(utcMonday.count(utcYear(Ee)-1,Ee),_e,2)}function formatUTCYear(Ee,_e){return pad(Ee.getUTCFullYear()%100,_e,2)}function formatUTCYearISO(Ee,_e){return Ee=UTCdISO(Ee),pad(Ee.getUTCFullYear()%100,_e,2)}function formatUTCFullYear(Ee,_e){return pad(Ee.getUTCFullYear()%1e4,_e,4)}function formatUTCFullYearISO(Ee,_e){var Ce=Ee.getUTCDay();return Ee=Ce>=4||Ce===0?utcThursday(Ee):utcThursday.ceil(Ee),pad(Ee.getUTCFullYear()%1e4,_e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(Ee){return+Ee}function formatUnixTimestampSeconds(Ee){return Math.floor(+Ee/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(Ee){return locale=formatLocale(Ee),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(Ee){return new Date(Ee)}function number(Ee){return Ee instanceof Date?+Ee:+new Date(+Ee)}function calendar(Ee,_e,Ce,Pe,Re,Ie,Be,je,De,Fe){var Oe=continuous(),ke=Oe.invert,Me=Oe.domain,$e=Fe(".%L"),He=Fe(":%S"),Qe=Fe("%I:%M"),Ke=Fe("%I %p"),ze=Fe("%a %d"),We=Fe("%b %d"),qe=Fe("%B"),Ye=Fe("%Y");function Xe(rr){return(De(rr)<rr?$e:je(rr)<rr?He:Be(rr)<rr?Qe:Ie(rr)<rr?Ke:Pe(rr)<rr?Re(rr)<rr?ze:We:Ce(rr)<rr?qe:Ye)(rr)}return Oe.invert=function(rr){return new Date(ke(rr))},Oe.domain=function(rr){return arguments.length?Me(Array.from(rr,number)):Me().map(date)},Oe.ticks=function(rr){var Je=Me();return Ee(Je[0],Je[Je.length-1],rr??10)},Oe.tickFormat=function(rr,Je){return Je==null?Xe:Fe(Je)},Oe.nice=function(rr){var Je=Me();return(!rr||typeof rr.range!="function")&&(rr=_e(Je[0],Je[Je.length-1],rr??10)),rr?Me(nice(Je,rr)):Oe},Oe.copy=function(){return copy$1(Oe,calendar(Ee,_e,Ce,Pe,Re,Ie,Be,je,De,Fe))},Oe}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var Ee=0,_e=1,Ce,Pe,Re,Ie,Be=identity$3,je=!1,De;function Fe(ke){return ke==null||isNaN(ke=+ke)?De:Be(Re===0?.5:(ke=(Ie(ke)-Ce)*Re,je?Math.max(0,Math.min(1,ke)):ke))}Fe.domain=function(ke){return arguments.length?([Ee,_e]=ke,Ce=Ie(Ee=+Ee),Pe=Ie(_e=+_e),Re=Ce===Pe?0:1/(Pe-Ce),Fe):[Ee,_e]},Fe.clamp=function(ke){return arguments.length?(je=!!ke,Fe):je},Fe.interpolator=function(ke){return arguments.length?(Be=ke,Fe):Be};function Oe(ke){return function(Me){var $e,He;return arguments.length?([$e,He]=Me,Be=ke($e,He),Fe):[Be(0),Be(1)]}}return Fe.range=Oe(interpolate),Fe.rangeRound=Oe(interpolateRound),Fe.unknown=function(ke){return arguments.length?(De=ke,Fe):De},function(ke){return Ie=ke,Ce=ke(Ee),Pe=ke(_e),Re=Ce===Pe?0:1/(Pe-Ce),Fe}}function copy(Ee,_e){return _e.domain(Ee.domain()).interpolator(Ee.interpolator()).clamp(Ee.clamp()).unknown(Ee.unknown())}function sequential(){var Ee=linearish(transformer$1()(identity$3));return Ee.copy=function(){return copy(Ee,sequential())},initInterpolator.apply(Ee,arguments)}function sequentialLog(){var Ee=loggish(transformer$1()).domain([1,10]);return Ee.copy=function(){return copy(Ee,sequentialLog()).base(Ee.base())},initInterpolator.apply(Ee,arguments)}function sequentialSymlog(){var Ee=symlogish(transformer$1());return Ee.copy=function(){return copy(Ee,sequentialSymlog()).constant(Ee.constant())},initInterpolator.apply(Ee,arguments)}function sequentialPow(){var Ee=powish(transformer$1());return Ee.copy=function(){return copy(Ee,sequentialPow()).exponent(Ee.exponent())},initInterpolator.apply(Ee,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var Ee=[],_e=identity$3;function Ce(Pe){if(Pe!=null&&!isNaN(Pe=+Pe))return _e((bisectRight(Ee,Pe,1)-1)/(Ee.length-1))}return Ce.domain=function(Pe){if(!arguments.length)return Ee.slice();Ee=[];for(let Re of Pe)Re!=null&&!isNaN(Re=+Re)&&Ee.push(Re);return Ee.sort(ascending),Ce},Ce.interpolator=function(Pe){return arguments.length?(_e=Pe,Ce):_e},Ce.range=function(){return Ee.map((Pe,Re)=>_e(Re/(Ee.length-1)))},Ce.quantiles=function(Pe){return Array.from({length:Pe+1},(Re,Ie)=>quantile$1(Ee,Ie/Pe))},Ce.copy=function(){return sequentialQuantile(_e).domain(Ee)},initInterpolator.apply(Ce,arguments)}function transformer(){var Ee=0,_e=.5,Ce=1,Pe=1,Re,Ie,Be,je,De,Fe=identity$3,Oe,ke=!1,Me;function $e(Qe){return isNaN(Qe=+Qe)?Me:(Qe=.5+((Qe=+Oe(Qe))-Ie)*(Pe*Qe<Pe*Ie?je:De),Fe(ke?Math.max(0,Math.min(1,Qe)):Qe))}$e.domain=function(Qe){return arguments.length?([Ee,_e,Ce]=Qe,Re=Oe(Ee=+Ee),Ie=Oe(_e=+_e),Be=Oe(Ce=+Ce),je=Re===Ie?0:.5/(Ie-Re),De=Ie===Be?0:.5/(Be-Ie),Pe=Ie<Re?-1:1,$e):[Ee,_e,Ce]},$e.clamp=function(Qe){return arguments.length?(ke=!!Qe,$e):ke},$e.interpolator=function(Qe){return arguments.length?(Fe=Qe,$e):Fe};function He(Qe){return function(Ke){var ze,We,qe;return arguments.length?([ze,We,qe]=Ke,Fe=piecewise(Qe,[ze,We,qe]),$e):[Fe(0),Fe(.5),Fe(1)]}}return $e.range=He(interpolate),$e.rangeRound=He(interpolateRound),$e.unknown=function(Qe){return arguments.length?(Me=Qe,$e):Me},function(Qe){return Oe=Qe,Re=Qe(Ee),Ie=Qe(_e),Be=Qe(Ce),je=Re===Ie?0:.5/(Ie-Re),De=Ie===Be?0:.5/(Be-Ie),Pe=Ie<Re?-1:1,$e}}function diverging(){var Ee=linearish(transformer()(identity$3));return Ee.copy=function(){return copy(Ee,diverging())},initInterpolator.apply(Ee,arguments)}function divergingLog(){var Ee=loggish(transformer()).domain([.1,1,10]);return Ee.copy=function(){return copy(Ee,divergingLog()).base(Ee.base())},initInterpolator.apply(Ee,arguments)}function divergingSymlog(){var Ee=symlogish(transformer());return Ee.copy=function(){return copy(Ee,divergingSymlog()).constant(Ee.constant())},initInterpolator.apply(Ee,arguments)}function divergingPow(){var Ee=powish(transformer());return Ee.copy=function(){return copy(Ee,divergingPow()).exponent(Ee.exponent())},initInterpolator.apply(Ee,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$1,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=Ee=>Ee.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],Ee=>{var _e=Ee.chartData!=null?Ee.chartData.length-1:0;return{chartData:Ee.chartData,computedData:Ee.computedData,dataEndIndex:_e,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanorama=(Ee,_e,Ce,Pe)=>Pe?selectChartDataAndAlwaysIgnoreIndexes(Ee):selectChartDataWithIndexes(Ee);function isWellFormedNumberDomain(Ee){if(Array.isArray(Ee)&&Ee.length===2){var[_e,Ce]=Ee;if(isWellBehavedNumber(_e)&&isWellBehavedNumber(Ce))return!0}return!1}function extendDomain(Ee,_e,Ce){return Ce?Ee:[Math.min(Ee[0],_e[0]),Math.max(Ee[1],_e[1])]}function numericalDomainSpecifiedWithoutRequiringData(Ee,_e){if(_e&&typeof Ee!="function"&&Array.isArray(Ee)&&Ee.length===2){var[Ce,Pe]=Ee,Re,Ie;if(isWellBehavedNumber(Ce))Re=Ce;else if(typeof Ce=="function")return;if(isWellBehavedNumber(Pe))Ie=Pe;else if(typeof Pe=="function")return;var Be=[Re,Ie];if(isWellFormedNumberDomain(Be))return Be}}function parseNumericalUserDomain(Ee,_e,Ce){if(!(!Ce&&_e==null)){if(typeof Ee=="function"&&_e!=null)try{var Pe=Ee(_e,Ce);if(isWellFormedNumberDomain(Pe))return extendDomain(Pe,_e,Ce)}catch{}if(Array.isArray(Ee)&&Ee.length===2){var[Re,Ie]=Ee,Be,je;if(Re==="auto")_e!=null&&(Be=Math.min(..._e));else if(isNumber(Re))Be=Re;else if(typeof Re=="function")try{_e!=null&&(Be=Re(_e?.[0]))}catch{}else if(typeof Re=="string"&&MIN_VALUE_REG.test(Re)){var De=MIN_VALUE_REG.exec(Re);if(De==null||_e==null)Be=void 0;else{var Fe=+De[1];Be=_e[0]-Fe}}else Be=_e?.[0];if(Ie==="auto")_e!=null&&(je=Math.max(..._e));else if(isNumber(Ie))je=Ie;else if(typeof Ie=="function")try{_e!=null&&(je=Ie(_e?.[1]))}catch{}else if(typeof Ie=="string"&&MAX_VALUE_REG.test(Ie)){var Oe=MAX_VALUE_REG.exec(Ie);if(Oe==null||_e==null)je=void 0;else{var ke=+Oe[1];je=_e[1]+ke}}else je=_e?.[1];var Me=[Be,je];if(isWellFormedNumberDomain(Me))return _e==null?Me:extendDomain(Me,_e,Ce)}}}var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P$1={};P$1.absoluteValue=P$1.abs=function(){var Ee=new this.constructor(this);return Ee.s&&(Ee.s=1),Ee};P$1.comparedTo=P$1.cmp=function(Ee){var _e,Ce,Pe,Re,Ie=this;if(Ee=new Ie.constructor(Ee),Ie.s!==Ee.s)return Ie.s||-Ee.s;if(Ie.e!==Ee.e)return Ie.e>Ee.e^Ie.s<0?1:-1;for(Pe=Ie.d.length,Re=Ee.d.length,_e=0,Ce=Pe<Re?Pe:Re;_e<Ce;++_e)if(Ie.d[_e]!==Ee.d[_e])return Ie.d[_e]>Ee.d[_e]^Ie.s<0?1:-1;return Pe===Re?0:Pe>Re^Ie.s<0?1:-1};P$1.decimalPlaces=P$1.dp=function(){var Ee=this,_e=Ee.d.length-1,Ce=(_e-Ee.e)*LOG_BASE;if(_e=Ee.d[_e],_e)for(;_e%10==0;_e/=10)Ce--;return Ce<0?0:Ce};P$1.dividedBy=P$1.div=function(Ee){return divide(this,new this.constructor(Ee))};P$1.dividedToIntegerBy=P$1.idiv=function(Ee){var _e=this,Ce=_e.constructor;return round(divide(_e,new Ce(Ee),0,1),Ce.precision)};P$1.equals=P$1.eq=function(Ee){return!this.cmp(Ee)};P$1.exponent=function(){return getBase10Exponent(this)};P$1.greaterThan=P$1.gt=function(Ee){return this.cmp(Ee)>0};P$1.greaterThanOrEqualTo=P$1.gte=function(Ee){return this.cmp(Ee)>=0};P$1.isInteger=P$1.isint=function(){return this.e>this.d.length-2};P$1.isNegative=P$1.isneg=function(){return this.s<0};P$1.isPositive=P$1.ispos=function(){return this.s>0};P$1.isZero=function(){return this.s===0};P$1.lessThan=P$1.lt=function(Ee){return this.cmp(Ee)<0};P$1.lessThanOrEqualTo=P$1.lte=function(Ee){return this.cmp(Ee)<1};P$1.logarithm=P$1.log=function(Ee){var _e,Ce=this,Pe=Ce.constructor,Re=Pe.precision,Ie=Re+5;if(Ee===void 0)Ee=new Pe(10);else if(Ee=new Pe(Ee),Ee.s<1||Ee.eq(ONE))throw Error(decimalError+"NaN");if(Ce.s<1)throw Error(decimalError+(Ce.s?"NaN":"-Infinity"));return Ce.eq(ONE)?new Pe(0):(external=!1,_e=divide(ln(Ce,Ie),ln(Ee,Ie),Ie),external=!0,round(_e,Re))};P$1.minus=P$1.sub=function(Ee){var _e=this;return Ee=new _e.constructor(Ee),_e.s==Ee.s?subtract(_e,Ee):add(_e,(Ee.s=-Ee.s,Ee))};P$1.modulo=P$1.mod=function(Ee){var _e,Ce=this,Pe=Ce.constructor,Re=Pe.precision;if(Ee=new Pe(Ee),!Ee.s)throw Error(decimalError+"NaN");return Ce.s?(external=!1,_e=divide(Ce,Ee,0,1).times(Ee),external=!0,Ce.minus(_e)):round(new Pe(Ce),Re)};P$1.naturalExponential=P$1.exp=function(){return exp(this)};P$1.naturalLogarithm=P$1.ln=function(){return ln(this)};P$1.negated=P$1.neg=function(){var Ee=new this.constructor(this);return Ee.s=-Ee.s||0,Ee};P$1.plus=P$1.add=function(Ee){var _e=this;return Ee=new _e.constructor(Ee),_e.s==Ee.s?add(_e,Ee):subtract(_e,(Ee.s=-Ee.s,Ee))};P$1.precision=P$1.sd=function(Ee){var _e,Ce,Pe,Re=this;if(Ee!==void 0&&Ee!==!!Ee&&Ee!==1&&Ee!==0)throw Error(invalidArgument+Ee);if(_e=getBase10Exponent(Re)+1,Pe=Re.d.length-1,Ce=Pe*LOG_BASE+1,Pe=Re.d[Pe],Pe){for(;Pe%10==0;Pe/=10)Ce--;for(Pe=Re.d[0];Pe>=10;Pe/=10)Ce++}return Ee&&_e>Ce?_e:Ce};P$1.squareRoot=P$1.sqrt=function(){var Ee,_e,Ce,Pe,Re,Ie,Be,je=this,De=je.constructor;if(je.s<1){if(!je.s)return new De(0);throw Error(decimalError+"NaN")}for(Ee=getBase10Exponent(je),external=!1,Re=Math.sqrt(+je),Re==0||Re==1/0?(_e=digitsToString(je.d),(_e.length+Ee)%2==0&&(_e+="0"),Re=Math.sqrt(_e),Ee=mathfloor((Ee+1)/2)-(Ee<0||Ee%2),Re==1/0?_e="5e"+Ee:(_e=Re.toExponential(),_e=_e.slice(0,_e.indexOf("e")+1)+Ee),Pe=new De(_e)):Pe=new De(Re.toString()),Ce=De.precision,Re=Be=Ce+3;;)if(Ie=Pe,Pe=Ie.plus(divide(je,Ie,Be+2)).times(.5),digitsToString(Ie.d).slice(0,Be)===(_e=digitsToString(Pe.d)).slice(0,Be)){if(_e=_e.slice(Be-3,Be+1),Re==Be&&_e=="4999"){if(round(Ie,Ce+1,0),Ie.times(Ie).eq(je)){Pe=Ie;break}}else if(_e!="9999")break;Be+=4}return external=!0,round(Pe,Ce)};P$1.times=P$1.mul=function(Ee){var _e,Ce,Pe,Re,Ie,Be,je,De,Fe,Oe=this,ke=Oe.constructor,Me=Oe.d,$e=(Ee=new ke(Ee)).d;if(!Oe.s||!Ee.s)return new ke(0);for(Ee.s*=Oe.s,Ce=Oe.e+Ee.e,De=Me.length,Fe=$e.length,De<Fe&&(Ie=Me,Me=$e,$e=Ie,Be=De,De=Fe,Fe=Be),Ie=[],Be=De+Fe,Pe=Be;Pe--;)Ie.push(0);for(Pe=Fe;--Pe>=0;){for(_e=0,Re=De+Pe;Re>Pe;)je=Ie[Re]+$e[Pe]*Me[Re-Pe-1]+_e,Ie[Re--]=je%BASE|0,_e=je/BASE|0;Ie[Re]=(Ie[Re]+_e)%BASE|0}for(;!Ie[--Be];)Ie.pop();return _e?++Ce:Ie.shift(),Ee.d=Ie,Ee.e=Ce,external?round(Ee,ke.precision):Ee};P$1.toDecimalPlaces=P$1.todp=function(Ee,_e){var Ce=this,Pe=Ce.constructor;return Ce=new Pe(Ce),Ee===void 0?Ce:(checkInt32(Ee,0,MAX_DIGITS),_e===void 0?_e=Pe.rounding:checkInt32(_e,0,8),round(Ce,Ee+getBase10Exponent(Ce)+1,_e))};P$1.toExponential=function(Ee,_e){var Ce,Pe=this,Re=Pe.constructor;return Ee===void 0?Ce=toString(Pe,!0):(checkInt32(Ee,0,MAX_DIGITS),_e===void 0?_e=Re.rounding:checkInt32(_e,0,8),Pe=round(new Re(Pe),Ee+1,_e),Ce=toString(Pe,!0,Ee+1)),Ce};P$1.toFixed=function(Ee,_e){var Ce,Pe,Re=this,Ie=Re.constructor;return Ee===void 0?toString(Re):(checkInt32(Ee,0,MAX_DIGITS),_e===void 0?_e=Ie.rounding:checkInt32(_e,0,8),Pe=round(new Ie(Re),Ee+getBase10Exponent(Re)+1,_e),Ce=toString(Pe.abs(),!1,Ee+getBase10Exponent(Pe)+1),Re.isneg()&&!Re.isZero()?"-"+Ce:Ce)};P$1.toInteger=P$1.toint=function(){var Ee=this,_e=Ee.constructor;return round(new _e(Ee),getBase10Exponent(Ee)+1,_e.rounding)};P$1.toNumber=function(){return+this};P$1.toPower=P$1.pow=function(Ee){var _e,Ce,Pe,Re,Ie,Be,je=this,De=je.constructor,Fe=12,Oe=+(Ee=new De(Ee));if(!Ee.s)return new De(ONE);if(je=new De(je),!je.s){if(Ee.s<1)throw Error(decimalError+"Infinity");return je}if(je.eq(ONE))return je;if(Pe=De.precision,Ee.eq(ONE))return round(je,Pe);if(_e=Ee.e,Ce=Ee.d.length-1,Be=_e>=Ce,Ie=je.s,Be){if((Ce=Oe<0?-Oe:Oe)<=MAX_SAFE_INTEGER){for(Re=new De(ONE),_e=Math.ceil(Pe/LOG_BASE+4),external=!1;Ce%2&&(Re=Re.times(je),truncate(Re.d,_e)),Ce=mathfloor(Ce/2),Ce!==0;)je=je.times(je),truncate(je.d,_e);return external=!0,Ee.s<0?new De(ONE).div(Re):round(Re,Pe)}}else if(Ie<0)throw Error(decimalError+"NaN");return Ie=Ie<0&&Ee.d[Math.max(_e,Ce)]&1?-1:1,je.s=1,external=!1,Re=Ee.times(ln(je,Pe+Fe)),external=!0,Re=exp(Re),Re.s=Ie,Re};P$1.toPrecision=function(Ee,_e){var Ce,Pe,Re=this,Ie=Re.constructor;return Ee===void 0?(Ce=getBase10Exponent(Re),Pe=toString(Re,Ce<=Ie.toExpNeg||Ce>=Ie.toExpPos)):(checkInt32(Ee,1,MAX_DIGITS),_e===void 0?_e=Ie.rounding:checkInt32(_e,0,8),Re=round(new Ie(Re),Ee,_e),Ce=getBase10Exponent(Re),Pe=toString(Re,Ee<=Ce||Ce<=Ie.toExpNeg,Ee)),Pe};P$1.toSignificantDigits=P$1.tosd=function(Ee,_e){var Ce=this,Pe=Ce.constructor;return Ee===void 0?(Ee=Pe.precision,_e=Pe.rounding):(checkInt32(Ee,1,MAX_DIGITS),_e===void 0?_e=Pe.rounding:checkInt32(_e,0,8)),round(new Pe(Ce),Ee,_e)};P$1.toString=P$1.valueOf=P$1.val=P$1.toJSON=P$1[Symbol.for("nodejs.util.inspect.custom")]=function(){var Ee=this,_e=getBase10Exponent(Ee),Ce=Ee.constructor;return toString(Ee,_e<=Ce.toExpNeg||_e>=Ce.toExpPos)};function add(Ee,_e){var Ce,Pe,Re,Ie,Be,je,De,Fe,Oe=Ee.constructor,ke=Oe.precision;if(!Ee.s||!_e.s)return _e.s||(_e=new Oe(Ee)),external?round(_e,ke):_e;if(De=Ee.d,Fe=_e.d,Be=Ee.e,Re=_e.e,De=De.slice(),Ie=Be-Re,Ie){for(Ie<0?(Pe=De,Ie=-Ie,je=Fe.length):(Pe=Fe,Re=Be,je=De.length),Be=Math.ceil(ke/LOG_BASE),je=Be>je?Be+1:je+1,Ie>je&&(Ie=je,Pe.length=1),Pe.reverse();Ie--;)Pe.push(0);Pe.reverse()}for(je=De.length,Ie=Fe.length,je-Ie<0&&(Ie=je,Pe=Fe,Fe=De,De=Pe),Ce=0;Ie;)Ce=(De[--Ie]=De[Ie]+Fe[Ie]+Ce)/BASE|0,De[Ie]%=BASE;for(Ce&&(De.unshift(Ce),++Re),je=De.length;De[--je]==0;)De.pop();return _e.d=De,_e.e=Re,external?round(_e,ke):_e}function checkInt32(Ee,_e,Ce){if(Ee!==~~Ee||Ee<_e||Ee>Ce)throw Error(invalidArgument+Ee)}function digitsToString(Ee){var _e,Ce,Pe,Re=Ee.length-1,Ie="",Be=Ee[0];if(Re>0){for(Ie+=Be,_e=1;_e<Re;_e++)Pe=Ee[_e]+"",Ce=LOG_BASE-Pe.length,Ce&&(Ie+=getZeroString(Ce)),Ie+=Pe;Be=Ee[_e],Pe=Be+"",Ce=LOG_BASE-Pe.length,Ce&&(Ie+=getZeroString(Ce))}else if(Be===0)return"0";for(;Be%10===0;)Be/=10;return Ie+Be}var divide=function(){function Ee(Pe,Re){var Ie,Be=0,je=Pe.length;for(Pe=Pe.slice();je--;)Ie=Pe[je]*Re+Be,Pe[je]=Ie%BASE|0,Be=Ie/BASE|0;return Be&&Pe.unshift(Be),Pe}function _e(Pe,Re,Ie,Be){var je,De;if(Ie!=Be)De=Ie>Be?1:-1;else for(je=De=0;je<Ie;je++)if(Pe[je]!=Re[je]){De=Pe[je]>Re[je]?1:-1;break}return De}function Ce(Pe,Re,Ie){for(var Be=0;Ie--;)Pe[Ie]-=Be,Be=Pe[Ie]<Re[Ie]?1:0,Pe[Ie]=Be*BASE+Pe[Ie]-Re[Ie];for(;!Pe[0]&&Pe.length>1;)Pe.shift()}return function(Pe,Re,Ie,Be){var je,De,Fe,Oe,ke,Me,$e,He,Qe,Ke,ze,We,qe,Ye,Xe,rr,Je,er,or=Pe.constructor,pr=Pe.s==Re.s?1:-1,ar=Pe.d,fr=Re.d;if(!Pe.s)return new or(Pe);if(!Re.s)throw Error(decimalError+"Division by zero");for(De=Pe.e-Re.e,Je=fr.length,Xe=ar.length,$e=new or(pr),He=$e.d=[],Fe=0;fr[Fe]==(ar[Fe]||0);)++Fe;if(fr[Fe]>(ar[Fe]||0)&&--De,Ie==null?We=Ie=or.precision:Be?We=Ie+(getBase10Exponent(Pe)-getBase10Exponent(Re))+1:We=Ie,We<0)return new or(0);if(We=We/LOG_BASE+2|0,Fe=0,Je==1)for(Oe=0,fr=fr[0],We++;(Fe<Xe||Oe)&&We--;Fe++)qe=Oe*BASE+(ar[Fe]||0),He[Fe]=qe/fr|0,Oe=qe%fr|0;else{for(Oe=BASE/(fr[0]+1)|0,Oe>1&&(fr=Ee(fr,Oe),ar=Ee(ar,Oe),Je=fr.length,Xe=ar.length),Ye=Je,Qe=ar.slice(0,Je),Ke=Qe.length;Ke<Je;)Qe[Ke++]=0;er=fr.slice(),er.unshift(0),rr=fr[0],fr[1]>=BASE/2&&++rr;do Oe=0,je=_e(fr,Qe,Je,Ke),je<0?(ze=Qe[0],Je!=Ke&&(ze=ze*BASE+(Qe[1]||0)),Oe=ze/rr|0,Oe>1?(Oe>=BASE&&(Oe=BASE-1),ke=Ee(fr,Oe),Me=ke.length,Ke=Qe.length,je=_e(ke,Qe,Me,Ke),je==1&&(Oe--,Ce(ke,Je<Me?er:fr,Me))):(Oe==0&&(je=Oe=1),ke=fr.slice()),Me=ke.length,Me<Ke&&ke.unshift(0),Ce(Qe,ke,Ke),je==-1&&(Ke=Qe.length,je=_e(fr,Qe,Je,Ke),je<1&&(Oe++,Ce(Qe,Je<Ke?er:fr,Ke))),Ke=Qe.length):je===0&&(Oe++,Qe=[0]),He[Fe++]=Oe,je&&Qe[0]?Qe[Ke++]=ar[Ye]||0:(Qe=[ar[Ye]],Ke=1);while((Ye++<Xe||Qe[0]!==void 0)&&We--)}return He[0]||He.shift(),$e.e=De,round($e,Be?Ie+getBase10Exponent($e)+1:Ie)}}();function exp(Ee,_e){var Ce,Pe,Re,Ie,Be,je,De=0,Fe=0,Oe=Ee.constructor,ke=Oe.precision;if(getBase10Exponent(Ee)>16)throw Error(exponentOutOfRange+getBase10Exponent(Ee));if(!Ee.s)return new Oe(ONE);for(external=!1,je=ke,Be=new Oe(.03125);Ee.abs().gte(.1);)Ee=Ee.times(Be),Fe+=5;for(Pe=Math.log(mathpow(2,Fe))/Math.LN10*2+5|0,je+=Pe,Ce=Re=Ie=new Oe(ONE),Oe.precision=je;;){if(Re=round(Re.times(Ee),je),Ce=Ce.times(++De),Be=Ie.plus(divide(Re,Ce,je)),digitsToString(Be.d).slice(0,je)===digitsToString(Ie.d).slice(0,je)){for(;Fe--;)Ie=round(Ie.times(Ie),je);return Oe.precision=ke,_e==null?(external=!0,round(Ie,ke)):Ie}Ie=Be}}function getBase10Exponent(Ee){for(var _e=Ee.e*LOG_BASE,Ce=Ee.d[0];Ce>=10;Ce/=10)_e++;return _e}function getLn10(Ee,_e,Ce){if(_e>Ee.LN10.sd())throw external=!0,Ce&&(Ee.precision=Ce),Error(decimalError+"LN10 precision limit exceeded");return round(new Ee(Ee.LN10),_e)}function getZeroString(Ee){for(var _e="";Ee--;)_e+="0";return _e}function ln(Ee,_e){var Ce,Pe,Re,Ie,Be,je,De,Fe,Oe,ke=1,Me=10,$e=Ee,He=$e.d,Qe=$e.constructor,Ke=Qe.precision;if($e.s<1)throw Error(decimalError+($e.s?"NaN":"-Infinity"));if($e.eq(ONE))return new Qe(0);if(_e==null?(external=!1,Fe=Ke):Fe=_e,$e.eq(10))return _e==null&&(external=!0),getLn10(Qe,Fe);if(Fe+=Me,Qe.precision=Fe,Ce=digitsToString(He),Pe=Ce.charAt(0),Ie=getBase10Exponent($e),Math.abs(Ie)<15e14){for(;Pe<7&&Pe!=1||Pe==1&&Ce.charAt(1)>3;)$e=$e.times(Ee),Ce=digitsToString($e.d),Pe=Ce.charAt(0),ke++;Ie=getBase10Exponent($e),Pe>1?($e=new Qe("0."+Ce),Ie++):$e=new Qe(Pe+"."+Ce.slice(1))}else return De=getLn10(Qe,Fe+2,Ke).times(Ie+""),$e=ln(new Qe(Pe+"."+Ce.slice(1)),Fe-Me).plus(De),Qe.precision=Ke,_e==null?(external=!0,round($e,Ke)):$e;for(je=Be=$e=divide($e.minus(ONE),$e.plus(ONE),Fe),Oe=round($e.times($e),Fe),Re=3;;){if(Be=round(Be.times(Oe),Fe),De=je.plus(divide(Be,new Qe(Re),Fe)),digitsToString(De.d).slice(0,Fe)===digitsToString(je.d).slice(0,Fe))return je=je.times(2),Ie!==0&&(je=je.plus(getLn10(Qe,Fe+2,Ke).times(Ie+""))),je=divide(je,new Qe(ke),Fe),Qe.precision=Ke,_e==null?(external=!0,round(je,Ke)):je;je=De,Re+=2}}function parseDecimal(Ee,_e){var Ce,Pe,Re;for((Ce=_e.indexOf("."))>-1&&(_e=_e.replace(".","")),(Pe=_e.search(/e/i))>0?(Ce<0&&(Ce=Pe),Ce+=+_e.slice(Pe+1),_e=_e.substring(0,Pe)):Ce<0&&(Ce=_e.length),Pe=0;_e.charCodeAt(Pe)===48;)++Pe;for(Re=_e.length;_e.charCodeAt(Re-1)===48;)--Re;if(_e=_e.slice(Pe,Re),_e){if(Re-=Pe,Ce=Ce-Pe-1,Ee.e=mathfloor(Ce/LOG_BASE),Ee.d=[],Pe=(Ce+1)%LOG_BASE,Ce<0&&(Pe+=LOG_BASE),Pe<Re){for(Pe&&Ee.d.push(+_e.slice(0,Pe)),Re-=LOG_BASE;Pe<Re;)Ee.d.push(+_e.slice(Pe,Pe+=LOG_BASE));_e=_e.slice(Pe),Pe=LOG_BASE-_e.length}else Pe-=Re;for(;Pe--;)_e+="0";if(Ee.d.push(+_e),external&&(Ee.e>MAX_E||Ee.e<-MAX_E))throw Error(exponentOutOfRange+Ce)}else Ee.s=0,Ee.e=0,Ee.d=[0];return Ee}function round(Ee,_e,Ce){var Pe,Re,Ie,Be,je,De,Fe,Oe,ke=Ee.d;for(Be=1,Ie=ke[0];Ie>=10;Ie/=10)Be++;if(Pe=_e-Be,Pe<0)Pe+=LOG_BASE,Re=_e,Fe=ke[Oe=0];else{if(Oe=Math.ceil((Pe+1)/LOG_BASE),Ie=ke.length,Oe>=Ie)return Ee;for(Fe=Ie=ke[Oe],Be=1;Ie>=10;Ie/=10)Be++;Pe%=LOG_BASE,Re=Pe-LOG_BASE+Be}if(Ce!==void 0&&(Ie=mathpow(10,Be-Re-1),je=Fe/Ie%10|0,De=_e<0||ke[Oe+1]!==void 0||Fe%Ie,De=Ce<4?(je||De)&&(Ce==0||Ce==(Ee.s<0?3:2)):je>5||je==5&&(Ce==4||De||Ce==6&&(Pe>0?Re>0?Fe/mathpow(10,Be-Re):0:ke[Oe-1])%10&1||Ce==(Ee.s<0?8:7))),_e<1||!ke[0])return De?(Ie=getBase10Exponent(Ee),ke.length=1,_e=_e-Ie-1,ke[0]=mathpow(10,(LOG_BASE-_e%LOG_BASE)%LOG_BASE),Ee.e=mathfloor(-_e/LOG_BASE)||0):(ke.length=1,ke[0]=Ee.e=Ee.s=0),Ee;if(Pe==0?(ke.length=Oe,Ie=1,Oe--):(ke.length=Oe+1,Ie=mathpow(10,LOG_BASE-Pe),ke[Oe]=Re>0?(Fe/mathpow(10,Be-Re)%mathpow(10,Re)|0)*Ie:0),De)for(;;)if(Oe==0){(ke[0]+=Ie)==BASE&&(ke[0]=1,++Ee.e);break}else{if(ke[Oe]+=Ie,ke[Oe]!=BASE)break;ke[Oe--]=0,Ie=1}for(Pe=ke.length;ke[--Pe]===0;)ke.pop();if(external&&(Ee.e>MAX_E||Ee.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(Ee));return Ee}function subtract(Ee,_e){var Ce,Pe,Re,Ie,Be,je,De,Fe,Oe,ke,Me=Ee.constructor,$e=Me.precision;if(!Ee.s||!_e.s)return _e.s?_e.s=-_e.s:_e=new Me(Ee),external?round(_e,$e):_e;if(De=Ee.d,ke=_e.d,Pe=_e.e,Fe=Ee.e,De=De.slice(),Be=Fe-Pe,Be){for(Oe=Be<0,Oe?(Ce=De,Be=-Be,je=ke.length):(Ce=ke,Pe=Fe,je=De.length),Re=Math.max(Math.ceil($e/LOG_BASE),je)+2,Be>Re&&(Be=Re,Ce.length=1),Ce.reverse(),Re=Be;Re--;)Ce.push(0);Ce.reverse()}else{for(Re=De.length,je=ke.length,Oe=Re<je,Oe&&(je=Re),Re=0;Re<je;Re++)if(De[Re]!=ke[Re]){Oe=De[Re]<ke[Re];break}Be=0}for(Oe&&(Ce=De,De=ke,ke=Ce,_e.s=-_e.s),je=De.length,Re=ke.length-je;Re>0;--Re)De[je++]=0;for(Re=ke.length;Re>Be;){if(De[--Re]<ke[Re]){for(Ie=Re;Ie&&De[--Ie]===0;)De[Ie]=BASE-1;--De[Ie],De[Re]+=BASE}De[Re]-=ke[Re]}for(;De[--je]===0;)De.pop();for(;De[0]===0;De.shift())--Pe;return De[0]?(_e.d=De,_e.e=Pe,external?round(_e,$e):_e):new Me(0)}function toString(Ee,_e,Ce){var Pe,Re=getBase10Exponent(Ee),Ie=digitsToString(Ee.d),Be=Ie.length;return _e?(Ce&&(Pe=Ce-Be)>0?Ie=Ie.charAt(0)+"."+Ie.slice(1)+getZeroString(Pe):Be>1&&(Ie=Ie.charAt(0)+"."+Ie.slice(1)),Ie=Ie+(Re<0?"e":"e+")+Re):Re<0?(Ie="0."+getZeroString(-Re-1)+Ie,Ce&&(Pe=Ce-Be)>0&&(Ie+=getZeroString(Pe))):Re>=Be?(Ie+=getZeroString(Re+1-Be),Ce&&(Pe=Ce-Re-1)>0&&(Ie=Ie+"."+getZeroString(Pe))):((Pe=Re+1)<Be&&(Ie=Ie.slice(0,Pe)+"."+Ie.slice(Pe)),Ce&&(Pe=Ce-Be)>0&&(Re+1===Be&&(Ie+="."),Ie+=getZeroString(Pe))),Ee.s<0?"-"+Ie:Ie}function truncate(Ee,_e){if(Ee.length>_e)return Ee.length=_e,!0}function clone(Ee){var _e,Ce,Pe;function Re(Ie){var Be=this;if(!(Be instanceof Re))return new Re(Ie);if(Be.constructor=Re,Ie instanceof Re){Be.s=Ie.s,Be.e=Ie.e,Be.d=(Ie=Ie.d)?Ie.slice():Ie;return}if(typeof Ie=="number"){if(Ie*0!==0)throw Error(invalidArgument+Ie);if(Ie>0)Be.s=1;else if(Ie<0)Ie=-Ie,Be.s=-1;else{Be.s=0,Be.e=0,Be.d=[0];return}if(Ie===~~Ie&&Ie<1e7){Be.e=0,Be.d=[Ie];return}return parseDecimal(Be,Ie.toString())}else if(typeof Ie!="string")throw Error(invalidArgument+Ie);if(Ie.charCodeAt(0)===45?(Ie=Ie.slice(1),Be.s=-1):Be.s=1,isDecimal.test(Ie))parseDecimal(Be,Ie);else throw Error(invalidArgument+Ie)}if(Re.prototype=P$1,Re.ROUND_UP=0,Re.ROUND_DOWN=1,Re.ROUND_CEIL=2,Re.ROUND_FLOOR=3,Re.ROUND_HALF_UP=4,Re.ROUND_HALF_DOWN=5,Re.ROUND_HALF_EVEN=6,Re.ROUND_HALF_CEIL=7,Re.ROUND_HALF_FLOOR=8,Re.clone=clone,Re.config=Re.set=config,Ee===void 0&&(Ee={}),Ee)for(Pe=["precision","rounding","toExpNeg","toExpPos","LN10"],_e=0;_e<Pe.length;)Ee.hasOwnProperty(Ce=Pe[_e++])||(Ee[Ce]=this[Ce]);return Re.config(Ee),Re}function config(Ee){if(!Ee||typeof Ee!="object")throw Error(decimalError+"Object expected");var _e,Ce,Pe,Re=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(_e=0;_e<Re.length;_e+=3)if((Pe=Ee[Ce=Re[_e]])!==void 0)if(mathfloor(Pe)===Pe&&Pe>=Re[_e+1]&&Pe<=Re[_e+2])this[Ce]=Pe;else throw Error(invalidArgument+Ce+": "+Pe);if((Pe=Ee[Ce="LN10"])!==void 0)if(Pe==Math.LN10)this[Ce]=new this(Pe);else throw Error(invalidArgument+Ce+": "+Pe);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;var identity=Ee=>Ee,PLACE_HOLDER={},isPlaceHolder=Ee=>Ee===PLACE_HOLDER,curry0=Ee=>function _e(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?_e:Ee(...arguments)},curryN=(Ee,_e)=>Ee===1?_e:curry0(function(){for(var Ce=arguments.length,Pe=new Array(Ce),Re=0;Re<Ce;Re++)Pe[Re]=arguments[Re];var Ie=Pe.filter(Be=>Be!==PLACE_HOLDER).length;return Ie>=Ee?_e(...Pe):curryN(Ee-Ie,curry0(function(){for(var Be=arguments.length,je=new Array(Be),De=0;De<Be;De++)je[De]=arguments[De];var Fe=Pe.map(Oe=>isPlaceHolder(Oe)?je.shift():Oe);return _e(...Fe,...je)}))}),curry=Ee=>curryN(Ee.length,Ee),range=(Ee,_e)=>{for(var Ce=[],Pe=Ee;Pe<_e;++Pe)Ce[Pe-Ee]=Pe;return Ce},map=curry((Ee,_e)=>Array.isArray(_e)?_e.map(Ee):Object.keys(_e).map(Ce=>_e[Ce]).map(Ee)),compose=function Ee(){for(var _e=arguments.length,Ce=new Array(_e),Pe=0;Pe<_e;Pe++)Ce[Pe]=arguments[Pe];if(!Ce.length)return identity;var Re=Ce.reverse(),Ie=Re[0],Be=Re.slice(1);return function(){return Be.reduce((je,De)=>De(je),Ie(...arguments))}},reverse=Ee=>Array.isArray(Ee)?Ee.reverse():Ee.split("").reverse().join(""),memoize=Ee=>{var _e=null,Ce=null;return function(){for(var Pe=arguments.length,Re=new Array(Pe),Ie=0;Ie<Pe;Ie++)Re[Ie]=arguments[Ie];return _e&&Re.every((Be,je)=>{var De;return Be===((De=_e)===null||De===void 0?void 0:De[je])})||(_e=Re,Ce=Ee(...Re)),Ce}};function getDigitCount(Ee){var _e;return Ee===0?_e=1:_e=Math.floor(new Decimal$1(Ee).abs().log(10).toNumber())+1,_e}function rangeStep(Ee,_e,Ce){for(var Pe=new Decimal$1(Ee),Re=0,Ie=[];Pe.lt(_e)&&Re<1e5;)Ie.push(Pe.toNumber()),Pe=Pe.add(Ce),Re++;return Ie}curry((Ee,_e,Ce)=>{var Pe=+Ee,Re=+_e;return Pe+Ce*(Re-Pe)});curry((Ee,_e,Ce)=>{var Pe=_e-+Ee;return Pe=Pe||1/0,(Ce-Ee)/Pe});curry((Ee,_e,Ce)=>{var Pe=_e-+Ee;return Pe=Pe||1/0,Math.max(0,Math.min(1,(Ce-Ee)/Pe))});var getValidInterval=Ee=>{var[_e,Ce]=Ee,[Pe,Re]=[_e,Ce];return _e>Ce&&([Pe,Re]=[Ce,_e]),[Pe,Re]},getFormatStep=(Ee,_e,Ce)=>{if(Ee.lte(0))return new Decimal$1(0);var Pe=getDigitCount(Ee.toNumber()),Re=new Decimal$1(10).pow(Pe),Ie=Ee.div(Re),Be=Pe!==1?.05:.1,je=new Decimal$1(Math.ceil(Ie.div(Be).toNumber())).add(Ce).mul(Be),De=je.mul(Re);return _e?new Decimal$1(De.toNumber()):new Decimal$1(Math.ceil(De.toNumber()))},getTickOfSingleValue=(Ee,_e,Ce)=>{var Pe=new Decimal$1(1),Re=new Decimal$1(Ee);if(!Re.isint()&&Ce){var Ie=Math.abs(Ee);Ie<1?(Pe=new Decimal$1(10).pow(getDigitCount(Ee)-1),Re=new Decimal$1(Math.floor(Re.div(Pe).toNumber())).mul(Pe)):Ie>1&&(Re=new Decimal$1(Math.floor(Ee)))}else Ee===0?Re=new Decimal$1(Math.floor((_e-1)/2)):Ce||(Re=new Decimal$1(Math.floor(Ee)));var Be=Math.floor((_e-1)/2),je=compose(map(De=>Re.add(new Decimal$1(De-Be).mul(Pe)).toNumber()),range);return je(0,_e)},_calculateStep=function Ee(_e,Ce,Pe,Re){var Ie=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((Ce-_e)/(Pe-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var Be=getFormatStep(new Decimal$1(Ce).sub(_e).div(Pe-1),Re,Ie),je;_e<=0&&Ce>=0?je=new Decimal$1(0):(je=new Decimal$1(_e).add(Ce).div(2),je=je.sub(new Decimal$1(je).mod(Be)));var De=Math.ceil(je.sub(_e).div(Be).toNumber()),Fe=Math.ceil(new Decimal$1(Ce).sub(je).div(Be).toNumber()),Oe=De+Fe+1;return Oe>Pe?_calculateStep(_e,Ce,Pe,Re,Ie+1):(Oe<Pe&&(Fe=Ce>0?Fe+(Pe-Oe):Fe,De=Ce>0?De:De+(Pe-Oe)),{step:Be,tickMin:je.sub(new Decimal$1(De).mul(Be)),tickMax:je.add(new Decimal$1(Fe).mul(Be))})};function getNiceTickValuesFn(Ee){var[_e,Ce]=Ee,Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,Ie=Math.max(Pe,2),[Be,je]=getValidInterval([_e,Ce]);if(Be===-1/0||je===1/0){var De=je===1/0?[Be,...range(0,Pe-1).map(()=>1/0)]:[...range(0,Pe-1).map(()=>-1/0),je];return _e>Ce?reverse(De):De}if(Be===je)return getTickOfSingleValue(Be,Pe,Re);var{step:Fe,tickMin:Oe,tickMax:ke}=_calculateStep(Be,je,Ie,Re,0),Me=rangeStep(Oe,ke.add(new Decimal$1(.1).mul(Fe)),Fe);return _e>Ce?reverse(Me):Me}function getTickValuesFixedDomainFn(Ee,_e){var[Ce,Pe]=Ee,Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[Ie,Be]=getValidInterval([Ce,Pe]);if(Ie===-1/0||Be===1/0)return[Ce,Pe];if(Ie===Be)return[Ie];var je=Math.max(_e,2),De=getFormatStep(new Decimal$1(Be).sub(Ie).div(je-1),Re,0),Fe=[...rangeStep(new Decimal$1(Ie),new Decimal$1(Be),De),Be];return Re===!1&&(Fe=Fe.map(Oe=>Math.round(Oe))),Ce>Pe?reverse(Fe):Fe}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),selectRootMaxBarSize=Ee=>Ee.rootProps.maxBarSize,selectBarGap=Ee=>Ee.rootProps.barGap,selectBarCategoryGap=Ee=>Ee.rootProps.barCategoryGap,selectRootBarSize=Ee=>Ee.rootProps.barSize,selectStackOffsetType=Ee=>Ee.rootProps.stackOffset,selectChartName=Ee=>Ee.options.chartName,selectSyncId=Ee=>Ee.rootProps.syncId,selectSyncMethod=Ee=>Ee.rootProps.syncMethod,selectEventEmitter=Ee=>Ee.options.eventEmitter,defaultPolarAngleAxisProps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},combineAxisRangeWithReverse=(Ee,_e)=>{if(!(!Ee||!_e))return Ee!=null&&Ee.reversed?[_e[1],_e[0]]:_e},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(Ee,_e)=>Ee.polarAxis.angleAxis[_e]!=null?Ee.polarAxis.angleAxis[_e]:Ee.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(Ee,_e)=>Ee.polarAxis.radiusAxis[_e]!=null?Ee.polarAxis.radiusAxis[_e]:Ee.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=Ee=>Ee.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(Ee,_e)=>{if(Ee!=null)return getPercentValue(Ee.innerRadius,_e,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(Ee,_e)=>{if(Ee!=null)return getPercentValue(Ee.outerRadius,_e,_e*.8)}),combineAngleAxisRange=Ee=>{if(Ee==null)return[0,0];var{startAngle:_e,endAngle:Ce}=Ee;return[_e,Ce]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(Ee,_e,Ce)=>{if(!(Ee==null||_e==null||Ce==null))return[_e,Ce]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(Ee,_e,Ce,Pe,Re,Ie)=>{if(!(Ee!=="centric"&&Ee!=="radial"||_e==null||Ce==null||Pe==null)){var{cx:Be,cy:je,startAngle:De,endAngle:Fe}=_e;return{cx:getPercentValue(Be,Re,Re/2),cy:getPercentValue(je,Ie,Ie/2),innerRadius:Ce,outerRadius:Pe,startAngle:De,endAngle:Fe,clockWise:!1}}}),pickAxisType=(Ee,_e)=>_e,pickAxisId=(Ee,_e,Ce)=>Ce;function ownKeys$E(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$E(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$E(Object(Ce),!0).forEach(function(Pe){_defineProperty$t(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$E(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$t(Ee,_e,Ce){return(_e=_toPropertyKey$s(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$s(Ee){var _e=_toPrimitive$s(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$s(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettings=(Ee,_e)=>{var Ce=Ee.cartesianAxis.xAxis[_e];return Ce??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettings=(Ee,_e)=>{var Ce=Ee.cartesianAxis.yAxis[_e];return Ce??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(Ee,_e)=>{var Ce=Ee.cartesianAxis.zAxis[_e];return Ce??implicitZAxis},selectBaseAxis=(Ee,_e,Ce)=>{switch(_e){case"xAxis":return selectXAxisSettings(Ee,Ce);case"yAxis":return selectYAxisSettings(Ee,Ce);case"zAxis":return selectZAxisSettings(Ee,Ce);case"angleAxis":return selectAngleAxis(Ee,Ce);case"radiusAxis":return selectRadiusAxis(Ee,Ce);default:throw new Error("Unexpected axis type: ".concat(_e))}},selectCartesianAxisSettings=(Ee,_e,Ce)=>{switch(_e){case"xAxis":return selectXAxisSettings(Ee,Ce);case"yAxis":return selectYAxisSettings(Ee,Ce);default:throw new Error("Unexpected axis type: ".concat(_e))}},selectAxisSettings=(Ee,_e,Ce)=>{switch(_e){case"xAxis":return selectXAxisSettings(Ee,Ce);case"yAxis":return selectYAxisSettings(Ee,Ce);case"angleAxis":return selectAngleAxis(Ee,Ce);case"radiusAxis":return selectRadiusAxis(Ee,Ce);default:throw new Error("Unexpected axis type: ".concat(_e))}},selectHasBar=Ee=>Ee.graphicalItems.countOfBars>0;function itemAxisPredicate(Ee,_e){return Ce=>{switch(Ee){case"xAxis":return"xAxisId"in Ce&&Ce.xAxisId===_e;case"yAxis":return"yAxisId"in Ce&&Ce.yAxisId===_e;case"zAxis":return"zAxisId"in Ce&&Ce.zAxisId===_e;case"angleAxis":return"angleAxisId"in Ce&&Ce.angleAxisId===_e;case"radiusAxis":return"radiusAxisId"in Ce&&Ce.radiusAxisId===_e;default:return!1}}}var selectUnfilteredCartesianItems=Ee=>Ee.graphicalItems.cartesianItems,selectAxisPredicate$1=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(Ee,_e,Ce)=>Ee.filter(Ce).filter(Pe=>_e?.includeHidden===!0?!0:!Pe.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate$1],combineGraphicalItemsSettings),filterGraphicalNotStackedItems=Ee=>Ee.filter(_e=>_e.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=Ee=>Ee.map(_e=>_e.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData),combineDisplayedData=(Ee,_e)=>{var{chartData:Ce=[],dataStartIndex:Pe,dataEndIndex:Re}=_e;return Ee.length>0?Ee:Ce.slice(Pe,Re+1)},selectDisplayedData$1=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanorama],combineDisplayedData),combineAppliedValues=(Ee,_e,Ce)=>_e?.dataKey!=null?Ee.map(Pe=>({value:getValueByDataKey(Pe,_e.dataKey)})):Ce.length>0?Ce.map(Pe=>Pe.dataKey).flatMap(Pe=>Ee.map(Re=>({value:getValueByDataKey(Re,Pe)}))):Ee.map(Pe=>({value:Pe})),selectAllAppliedValues=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(Ee,_e){switch(Ee){case"xAxis":return _e.direction==="x";case"yAxis":return _e.direction==="y";default:return!1}}function onlyAllowNumbers(Ee){return Ee.filter(_e=>isNumOrStr(_e)||_e instanceof Date).map(Number).filter(_e=>isNan(_e)===!1)}function getErrorDomainByDataKey(Ee,_e,Ce){return!Ce||typeof _e!="number"||isNan(_e)?[]:Ce.length?onlyAllowNumbers(Ce.flatMap(Pe=>{var Re=getValueByDataKey(Ee,Pe.dataKey),Ie,Be;if(Array.isArray(Re)?[Ie,Be]=Re:Ie=Be=Re,!(!isWellBehavedNumber(Ie)||!isWellBehavedNumber(Be)))return[_e-Ie,_e+Be]})):[]}var combineStackGroups=(Ee,_e,Ce)=>{var Pe={},Re=_e.reduce((Ie,Be)=>(Be.stackId==null||(Ie[Be.stackId]==null&&(Ie[Be.stackId]=[]),Ie[Be.stackId].push(Be)),Ie),Pe);return Object.fromEntries(Object.entries(Re).map(Ie=>{var[Be,je]=Ie,De=je.map(Fe=>Fe.dataKey);return[Be,{stackedData:getStackedData(Ee,De,Ce),graphicalItems:je}]}))},selectStackGroups=createSelector([selectDisplayedData$1,selectCartesianItemsSettings,selectStackOffsetType],combineStackGroups),combineDomainOfStackGroups=(Ee,_e,Ce)=>{var{dataStartIndex:Pe,dataEndIndex:Re}=_e;if(Ce!=="zAxis"){var Ie=getDomainOfStackGroups(Ee,Pe,Re);if(!(Ie!=null&&Ie[0]===0&&Ie[1]===0))return Ie}},selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType],combineDomainOfStackGroups),combineAppliedNumericalValuesIncludingErrorValues=(Ee,_e,Ce,Pe)=>Ce.length>0?Ee.flatMap(Re=>Ce.flatMap(Ie=>{var Be,je,De=(Be=Ie.errorBars)===null||Be===void 0?void 0:Be.filter(Oe=>isErrorBarRelevantForAxisType(Pe,Oe)),Fe=getValueByDataKey(Re,(je=_e.dataKey)!==null&&je!==void 0?je:Ie.dataKey);return{value:Fe,errorDomain:getErrorDomainByDataKey(Re,Fe,De)}})).filter(Boolean):_e?.dataKey!=null?Ee.map(Re=>({value:getValueByDataKey(Re,_e.dataKey),errorDomain:[]})):Ee.map(Re=>({value:Re,errorDomain:[]})),selectAllAppliedNumericalValuesIncludingErrorValues=createSelector(selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,pickAxisType,combineAppliedNumericalValuesIncludingErrorValues);function onlyAllowNumbersAndStringsAndDates(Ee){var{value:_e}=Ee;if(isNumOrStr(_e)||_e instanceof Date)return _e}var computeNumericalDomain=Ee=>{var _e=Ee.flatMap(Pe=>[Pe.value,Pe.errorDomain]).flat(1),Ce=onlyAllowNumbers(_e);if(Ce.length!==0)return[Math.min(...Ce),Math.max(...Ce)]},computeDomainOfTypeCategory=(Ee,_e,Ce)=>{var Pe=Ee.map(onlyAllowNumbersAndStringsAndDates).filter(Re=>Re!=null);return Ce&&(_e.dataKey==null||_e.allowDuplicatedCategory&&hasDuplicate(Pe))?range$2(0,Ee.length):_e.allowDuplicatedCategory?Pe:Array.from(new Set(Pe))},getDomainDefinition=Ee=>{var _e;if(Ee==null||!("domain"in Ee))return defaultNumericDomain;if(Ee.domain!=null)return Ee.domain;if(Ee.ticks!=null){if(Ee.type==="number"){var Ce=onlyAllowNumbers(Ee.ticks);return[Math.min(...Ce),Math.max(...Ce)]}if(Ee.type==="category")return Ee.ticks.map(String)}return(_e=Ee?.domain)!==null&&_e!==void 0?_e:defaultNumericDomain},mergeDomains=function Ee(){for(var _e=arguments.length,Ce=new Array(_e),Pe=0;Pe<_e;Pe++)Ce[Pe]=arguments[Pe];var Re=Ce.filter(Boolean);if(Re.length!==0){var Ie=Re.flat(),Be=Math.min(...Ie),je=Math.max(...Ie);return[Be,je]}},selectReferenceDots=Ee=>Ee.referenceElements.dots,filterReferenceElements=(Ee,_e,Ce)=>Ee.filter(Pe=>Pe.ifOverflow==="extendDomain").filter(Pe=>_e==="xAxis"?Pe.xAxisId===Ce:Pe.yAxisId===Ce),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=Ee=>Ee.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=Ee=>Ee.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(Ee,_e)=>{var Ce=onlyAllowNumbers(Ee.map(Pe=>_e==="xAxis"?Pe.x:Pe.y));if(Ce.length!==0)return[Math.min(...Ce),Math.max(...Ce)]},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(Ee,_e)=>{var Ce=onlyAllowNumbers(Ee.flatMap(Pe=>[_e==="xAxis"?Pe.x1:Pe.y1,_e==="xAxis"?Pe.x2:Pe.y2]));if(Ce.length!==0)return[Math.min(...Ce),Math.max(...Ce)]},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain),combineLinesDomain=(Ee,_e)=>{var Ce=onlyAllowNumbers(Ee.map(Pe=>_e==="xAxis"?Pe.x:Pe.y));if(Ce.length!==0)return[Math.min(...Ce),Math.max(...Ce)]},selectReferenceLinesDomain=createSelector(selectReferenceLinesByAxis,pickAxisType,combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(Ee,_e,Ce)=>mergeDomains(Ee,Ce,_e)),selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),combineNumericalDomain=(Ee,_e,Ce,Pe,Re)=>{var Ie=numericalDomainSpecifiedWithoutRequiringData(_e,Ee.allowDataOverflow);return Ie??parseNumericalUserDomain(_e,mergeDomains(Ce,Re,computeNumericalDomain(Pe)),Ee.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainOfStackGroups,selectAllAppliedNumericalValuesIncludingErrorValues,selectReferenceElementsDomain],combineNumericalDomain),expandDomain=[0,1],combineAxisDomain=(Ee,_e,Ce,Pe,Re,Ie,Be)=>{if(!(Ee==null||Ce==null||Ce.length===0)){var{dataKey:je,type:De}=Ee,Fe=isCategoricalAxis(_e,Ie);return Fe&&je==null?range$2(0,Ce.length):De==="category"?computeDomainOfTypeCategory(Pe,Ee,Fe):Re==="expand"?expandDomain:Be}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData$1,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(Ee,_e,Ce,Pe,Re)=>{if(Ee!=null){var{scale:Ie,type:Be}=Ee;if(Ie==="auto")return _e==="radial"&&Re==="radiusAxis"?"band":_e==="radial"&&Re==="angleAxis"?"linear":Be==="category"&&Pe&&(Pe.indexOf("LineChart")>=0||Pe.indexOf("AreaChart")>=0||Pe.indexOf("ComposedChart")>=0&&!Ce)?"point":Be==="category"?"band":"linear";if(typeof Ie=="string"){var je="scale".concat(upperFirst(Ie));return je in d3Scales?je:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(Ee){if(Ee!=null){if(Ee in d3Scales)return d3Scales[Ee]();var _e="scale".concat(upperFirst(Ee));if(_e in d3Scales)return d3Scales[_e]()}}function combineScaleFunction(Ee,_e,Ce,Pe){if(!(Ce==null||Pe==null)){if(typeof Ee.scale=="function")return Ee.scale.copy().domain(Ce).range(Pe);var Re=getD3ScaleFromType(_e);if(Re!=null){var Ie=Re.domain(Ce).range(Pe);return checkDomainOfScale(Ie),Ie}}}var combineNiceTicks=(Ee,_e,Ce)=>{var Pe=getDomainDefinition(_e);if(!(Ce!=="auto"&&Ce!=="linear")){if(_e!=null&&_e.tickCount&&Array.isArray(Pe)&&(Pe[0]==="auto"||Pe[1]==="auto")&&isWellFormedNumberDomain(Ee))return getNiceTickValues(Ee,_e.tickCount,_e.allowDecimals);if(_e!=null&&_e.tickCount&&_e.type==="number"&&isWellFormedNumberDomain(Ee))return getTickValuesFixedDomain(Ee,_e.tickCount,_e.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(Ee,_e,Ce,Pe)=>{if(Pe!=="angleAxis"&&Ee?.type==="number"&&isWellFormedNumberDomain(_e)&&Array.isArray(Ce)&&Ce.length>0){var Re=_e[0],Ie=Ce[0],Be=_e[1],je=Ce[Ce.length-1];return[Math.min(Re,Ie),Math.max(Be,je)]}return _e},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(Ee,_e)=>{if(!(!_e||_e.type!=="number")){var Ce=1/0,Pe=Array.from(onlyAllowNumbers(Ee.map(je=>je.value))).sort((je,De)=>je-De);if(Pe.length<2)return 1/0;var Re=Pe[Pe.length-1]-Pe[0];if(Re===0)return 1/0;for(var Ie=0;Ie<Pe.length-1;Ie++){var Be=Pe[Ie+1]-Pe[Ie];Ce=Math.min(Ce,Be)}return Ce/Re}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(Ee,_e,Ce,Pe)=>Pe,(Ee,_e,Ce,Pe,Re)=>{if(!isWellBehavedNumber(Ee))return 0;var Ie=_e==="vertical"?Pe.height:Pe.width;if(Re==="gap")return Ee*Ie/2;if(Re==="no-gap"){var Be=getPercentValue(Ce,Ee*Ie),je=Ee*Ie/2;return je-Be-(je-Be)/Ie*Be}return 0}),selectCalculatedXAxisPadding=(Ee,_e)=>{var Ce=selectXAxisSettings(Ee,_e);return Ce==null||typeof Ce.padding!="string"?0:selectCalculatedPadding(Ee,"xAxis",_e,Ce.padding)},selectCalculatedYAxisPadding=(Ee,_e)=>{var Ce=selectYAxisSettings(Ee,_e);return Ce==null||typeof Ce.padding!="string"?0:selectCalculatedPadding(Ee,"yAxis",_e,Ce.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(Ee,_e)=>{var Ce,Pe;if(Ee==null)return{left:0,right:0};var{padding:Re}=Ee;return typeof Re=="string"?{left:_e,right:_e}:{left:((Ce=Re.left)!==null&&Ce!==void 0?Ce:0)+_e,right:((Pe=Re.right)!==null&&Pe!==void 0?Pe:0)+_e}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(Ee,_e)=>{var Ce,Pe;if(Ee==null)return{top:0,bottom:0};var{padding:Re}=Ee;return typeof Re=="string"?{top:_e,bottom:_e}:{top:((Ce=Re.top)!==null&&Ce!==void 0?Ce:0)+_e,bottom:((Pe=Re.bottom)!==null&&Pe!==void 0?Pe:0)+_e}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(Ee,_e,Ce)=>Ce],(Ee,_e,Ce,Pe,Re)=>{var{padding:Ie}=Pe;return Re?[Ie.left,Ce.width-Ie.right]:[Ee.left+_e.left,Ee.left+Ee.width-_e.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(Ee,_e,Ce)=>Ce],(Ee,_e,Ce,Pe,Re,Ie)=>{var{padding:Be}=Re;return Ie?[Pe.height-Be.bottom,Be.top]:_e==="horizontal"?[Ee.top+Ee.height-Ce.bottom,Ee.top+Ce.top]:[Ee.top+Ce.top,Ee.top+Ee.height-Ce.bottom]}),selectAxisRange=(Ee,_e,Ce,Pe)=>{var Re;switch(_e){case"xAxis":return combineXAxisRange(Ee,Ce,Pe);case"yAxis":return combineYAxisRange(Ee,Ce,Pe);case"zAxis":return(Re=selectZAxisSettings(Ee,Ce))===null||Re===void 0?void 0:Re.range;case"angleAxis":return selectAngleAxisRange(Ee);case"radiusAxis":return selectRadiusAxisRange(Ee,Ce);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector(selectCartesianItemsSettings,pickAxisType,(Ee,_e)=>Ee.flatMap(Ce=>{var Pe;return(Pe=Ce.errorBars)!==null&&Pe!==void 0?Pe:[]}).filter(Ce=>isErrorBarRelevantForAxisType(_e,Ce)));function compareIds(Ee,_e){return Ee.id<_e.id?-1:Ee.id>_e.id?1:0}var pickAxisOrientation=(Ee,_e)=>_e,pickMirror=(Ee,_e,Ce)=>Ce,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(Ee,_e,Ce)=>Ee.filter(Pe=>Pe.orientation===_e).filter(Pe=>Pe.mirror===Ce).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(Ee,_e,Ce)=>Ee.filter(Pe=>Pe.orientation===_e).filter(Pe=>Pe.mirror===Ce).sort(compareIds)),getXAxisSize=(Ee,_e)=>({width:Ee.width,height:_e.height}),getYAxisSize=(Ee,_e)=>{var Ce=typeof _e.width=="number"?_e.width:DEFAULT_Y_AXIS_WIDTH;return{width:Ce,height:Ee.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(Ee,_e,Ce)=>{switch(_e){case"top":return Ee.top;case"bottom":return Ce-Ee.bottom;default:return 0}},combineYAxisPositionStartingPoint=(Ee,_e,Ce)=>{switch(_e){case"left":return Ee.left;case"right":return Ce-Ee.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(Ee,_e,Ce,Pe,Re)=>{var Ie={},Be;return Ce.forEach(je=>{var De=getXAxisSize(_e,je);Be==null&&(Be=combineXAxisPositionStartingPoint(_e,Pe,Ee));var Fe=Pe==="top"&&!Re||Pe==="bottom"&&Re;Ie[je.id]=Be-Number(Fe)*De.height,Be+=(Fe?-1:1)*De.height}),Ie}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(Ee,_e,Ce,Pe,Re)=>{var Ie={},Be;return Ce.forEach(je=>{var De=getYAxisSize(_e,je);Be==null&&(Be=combineYAxisPositionStartingPoint(_e,Pe,Ee));var Fe=Pe==="left"&&!Re||Pe==="right"&&Re;Ie[je.id]=Be-Number(Fe)*De.width,Be+=(Fe?-1:1)*De.width}),Ie}),selectXAxisPosition=(Ee,_e)=>{var Ce=selectChartOffsetInternal(Ee),Pe=selectXAxisSettings(Ee,_e);if(Pe!=null){var Re=selectAllXAxesOffsetSteps(Ee,Pe.orientation,Pe.mirror),Ie=Re[_e];return Ie==null?{x:Ce.left,y:0}:{x:Ce.left,y:Ie}}},selectYAxisPosition=(Ee,_e)=>{var Ce=selectChartOffsetInternal(Ee),Pe=selectYAxisSettings(Ee,_e);if(Pe!=null){var Re=selectAllYAxesOffsetSteps(Ee,Pe.orientation,Pe.mirror),Ie=Re[_e];return Ie==null?{x:0,y:Ce.top}:{x:Ie,y:Ce.top}}},selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(Ee,_e)=>{var Ce=typeof _e.width=="number"?_e.width:DEFAULT_Y_AXIS_WIDTH;return{width:Ce,height:Ee.height}}),selectCartesianAxisSize=(Ee,_e,Ce)=>{switch(_e){case"xAxis":return selectXAxisSize(Ee,Ce).width;case"yAxis":return selectYAxisSize(Ee,Ce).height;default:return}},combineDuplicateDomain=(Ee,_e,Ce,Pe)=>{if(Ce!=null){var{allowDuplicatedCategory:Re,type:Ie,dataKey:Be}=Ce,je=isCategoricalAxis(Ee,Pe),De=_e.map(Fe=>Fe.value);if(Be&&je&&Ie==="category"&&Re&&hasDuplicate(De))return De}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(Ee,_e,Ce,Pe)=>{if(!(Ce==null||Ce.dataKey==null)){var{type:Re,scale:Ie}=Ce,Be=isCategoricalAxis(Ee,Pe);if(Be&&(Re==="number"||Ie!=="auto"))return _e.map(je=>je.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(Ee,_e,Ce,Pe,Re,Ie,Be,je,De)=>{if(_e==null)return null;var Fe=isCategoricalAxis(Ee,De);return{angle:_e.angle,interval:_e.interval,minTickGap:_e.minTickGap,orientation:_e.orientation,tick:_e.tick,tickCount:_e.tickCount,tickFormatter:_e.tickFormatter,ticks:_e.ticks,type:_e.type,unit:_e.unit,axisType:De,categoricalDomain:Ie,duplicateDomain:Re,isCategorical:Fe,niceTicks:je,range:Be,realScaleType:Ce,scale:Pe}}),combineAxisTicks=(Ee,_e,Ce,Pe,Re,Ie,Be,je,De)=>{if(!(_e==null||Pe==null)){var Fe=isCategoricalAxis(Ee,De),{type:Oe,ticks:ke,tickCount:Me}=_e,$e=Ce==="scaleBand"&&typeof Pe.bandwidth=="function"?Pe.bandwidth()/2:2,He=Oe==="category"&&Pe.bandwidth?Pe.bandwidth()/$e:0;He=De==="angleAxis"&&Ie!=null&&Ie.length>=2?mathSign(Ie[0]-Ie[1])*2*He:He;var Qe=ke||Re;if(Qe){var Ke=Qe.map((ze,We)=>{var qe=Be?Be.indexOf(ze):ze;return{index:We,coordinate:Pe(qe)+He,value:ze,offset:He}});return Ke.filter(ze=>!isNan(ze.coordinate))}return Fe&&je?je.map((ze,We)=>({coordinate:Pe(ze)+He,value:ze,index:We,offset:He})):Pe.ticks?Pe.ticks(Me).map(ze=>({coordinate:Pe(ze)+He,value:ze,offset:He})):Pe.domain().map((ze,We)=>({coordinate:Pe(ze)+He,value:Be?Be[ze]:ze,index:We,offset:He}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(Ee,_e,Ce,Pe,Re,Ie,Be)=>{if(!(_e==null||Ce==null||Pe==null||Pe[0]===Pe[1])){var je=isCategoricalAxis(Ee,Be),{tickCount:De}=_e,Fe=0;return Fe=Be==="angleAxis"&&Pe?.length>=2?mathSign(Pe[0]-Pe[1])*2*Fe:Fe,je&&Ie?Ie.map((Oe,ke)=>({coordinate:Ce(Oe)+Fe,value:Oe,index:ke,offset:Fe})):Ce.ticks?Ce.ticks(De).map(Oe=>({coordinate:Ce(Oe)+Fe,value:Oe,offset:Fe})):Ce.domain().map((Oe,ke)=>({coordinate:Ce(Oe)+Fe,value:Re?Re[Oe]:Oe,index:ke,offset:Fe}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(Ee,_e)=>{if(!(Ee==null||_e==null))return _objectSpread$E(_objectSpread$E({},Ee),{},{scale:_e})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((Ee,_e,Ce)=>selectZAxisSettings(Ee,Ce),selectZAxisScale,(Ee,_e)=>{if(!(Ee==null||_e==null))return _objectSpread$E(_objectSpread$E({},Ee),{},{scale:_e})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(Ee,_e,Ce)=>{switch(Ee){case"horizontal":return _e.some(Pe=>Pe.reversed)?"right-to-left":"left-to-right";case"vertical":return Ce.some(Pe=>Pe.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=Ee=>Ee.options.defaultTooltipEventType,selectValidateTooltipEventTypes=Ee=>Ee.options.validateTooltipEventTypes;function combineTooltipEventType(Ee,_e,Ce){if(Ee==null)return _e;var Pe=Ee?"axis":"item";return Ce==null?_e:Ce.includes(Pe)?Pe:_e}function selectTooltipEventType$1(Ee,_e){var Ce=selectDefaultTooltipEventType(Ee),Pe=selectValidateTooltipEventTypes(Ee);return combineTooltipEventType(_e,Ce,Pe)}function useTooltipEventType(Ee){return useAppSelector(_e=>selectTooltipEventType$1(_e,Ee))}var combineActiveLabel=(Ee,_e)=>{var Ce,Pe=Number(_e);if(!(isNan(Pe)||_e==null))return Pe>=0?Ee==null||(Ce=Ee[Pe])===null||Ce===void 0?void 0:Ce.value:void 0},selectTooltipSettings=Ee=>Ee.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,coordinate:void 0},initialState$7={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$7,reducers:{addTooltipEntrySettings(Ee,_e){Ee.tooltipItemPayloads.push(_e.payload)},removeTooltipEntrySettings(Ee,_e){var Ce=current(Ee).tooltipItemPayloads.indexOf(_e.payload);Ce>-1&&Ee.tooltipItemPayloads.splice(Ce,1)},setTooltipSettingsState(Ee,_e){Ee.settings=_e.payload},setActiveMouseOverItemIndex(Ee,_e){Ee.syncInteraction.active=!1,Ee.keyboardInteraction.active=!1,Ee.itemInteraction.hover.active=!0,Ee.itemInteraction.hover.index=_e.payload.activeIndex,Ee.itemInteraction.hover.dataKey=_e.payload.activeDataKey,Ee.itemInteraction.hover.coordinate=_e.payload.activeCoordinate},mouseLeaveChart(Ee){Ee.itemInteraction.hover.active=!1,Ee.axisInteraction.hover.active=!1},mouseLeaveItem(Ee){Ee.itemInteraction.hover.active=!1},setActiveClickItemIndex(Ee,_e){Ee.syncInteraction.active=!1,Ee.itemInteraction.click.active=!0,Ee.keyboardInteraction.active=!1,Ee.itemInteraction.click.index=_e.payload.activeIndex,Ee.itemInteraction.click.dataKey=_e.payload.activeDataKey,Ee.itemInteraction.click.coordinate=_e.payload.activeCoordinate},setMouseOverAxisIndex(Ee,_e){Ee.syncInteraction.active=!1,Ee.axisInteraction.hover.active=!0,Ee.keyboardInteraction.active=!1,Ee.axisInteraction.hover.index=_e.payload.activeIndex,Ee.axisInteraction.hover.dataKey=_e.payload.activeDataKey,Ee.axisInteraction.hover.coordinate=_e.payload.activeCoordinate},setMouseClickAxisIndex(Ee,_e){Ee.syncInteraction.active=!1,Ee.keyboardInteraction.active=!1,Ee.axisInteraction.click.active=!0,Ee.axisInteraction.click.index=_e.payload.activeIndex,Ee.axisInteraction.click.dataKey=_e.payload.activeDataKey,Ee.axisInteraction.click.coordinate=_e.payload.activeCoordinate},setSyncInteraction(Ee,_e){Ee.syncInteraction=_e.payload},setKeyboardInteraction(Ee,_e){Ee.keyboardInteraction.active=_e.payload.active,Ee.keyboardInteraction.index=_e.payload.activeIndex,Ee.keyboardInteraction.coordinate=_e.payload.activeCoordinate,Ee.keyboardInteraction.dataKey=_e.payload.activeDataKey}}}),{addTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$D(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$D(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$D(Object(Ce),!0).forEach(function(Pe){_defineProperty$s(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$D(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$s(Ee,_e,Ce){return(_e=_toPropertyKey$r(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$r(Ee){var _e=_toPrimitive$r(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$r(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function chooseAppropriateMouseInteraction(Ee,_e,Ce){return _e==="axis"?Ce==="click"?Ee.axisInteraction.click:Ee.axisInteraction.hover:Ce==="click"?Ee.itemInteraction.click:Ee.itemInteraction.hover}function hasBeenActivePreviously(Ee){return Ee.index!=null}var combineTooltipInteractionState=(Ee,_e,Ce,Pe)=>{if(_e==null)return noInteraction;var Re=chooseAppropriateMouseInteraction(Ee,_e,Ce);if(Re==null)return noInteraction;if(Re.active)return Re;if(Ee.keyboardInteraction.active)return Ee.keyboardInteraction;if(Ee.syncInteraction.active&&Ee.syncInteraction.index!=null)return Ee.syncInteraction;var Ie=Ee.settings.active===!0;if(hasBeenActivePreviously(Re)){if(Ie)return _objectSpread$D(_objectSpread$D({},Re),{},{active:!0})}else if(Pe!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:Pe};return _objectSpread$D(_objectSpread$D({},noInteraction),{},{coordinate:Re.coordinate})},combineActiveTooltipIndex=(Ee,_e)=>{var Ce=Ee?.index;if(Ce==null)return null;var Pe=Number(Ce);if(!isWellBehavedNumber(Pe))return Ce;var Re=0,Ie=1/0;return _e.length>0&&(Ie=_e.length-1),String(Math.max(Re,Math.min(Pe,Ie)))},combineCoordinateForDefaultIndex=(Ee,_e,Ce,Pe,Re,Ie,Be,je)=>{if(!(Ie==null||je==null)){var De=Be[0],Fe=De==null?void 0:je(De.positions,Ie);if(Fe!=null)return Fe;var Oe=Re?.[Number(Ie)];if(Oe)switch(Ce){case"horizontal":return{x:Oe.coordinate,y:(Pe.top+_e)/2};default:return{x:(Pe.left+Ee)/2,y:Oe.coordinate}}}},combineTooltipPayloadConfigurations=(Ee,_e,Ce,Pe)=>{if(_e==="axis")return Ee.tooltipItemPayloads;if(Ee.tooltipItemPayloads.length===0)return[];var Re;return Ce==="hover"?Re=Ee.itemInteraction.hover.dataKey:Re=Ee.itemInteraction.click.dataKey,Re==null&&Pe!=null?[Ee.tooltipItemPayloads[0]]:Ee.tooltipItemPayloads.filter(Ie=>{var Be;return((Be=Ie.settings)===null||Be===void 0?void 0:Be.dataKey)===Re})},selectTooltipPayloadSearcher=Ee=>Ee.options.tooltipPayloadSearcher,selectTooltipState=Ee=>Ee.tooltip;function ownKeys$C(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$C(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$C(Object(Ce),!0).forEach(function(Pe){_defineProperty$r(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$C(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$r(Ee,_e,Ce){return(_e=_toPropertyKey$q(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$q(Ee){var _e=_toPrimitive$q(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$q(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function getSliced(Ee,_e,Ce){return Array.isArray(Ee)&&Ee&&_e+Ce!==0?Ee.slice(_e,Ce+1):Ee}function selectFinalData(Ee,_e){return Ee??_e}var combineTooltipPayload=(Ee,_e,Ce,Pe,Re,Ie,Be)=>{if(!(_e==null||Ie==null)){var{chartData:je,computedData:De,dataStartIndex:Fe,dataEndIndex:Oe}=Ce,ke=[];return Ee.reduce((Me,$e)=>{var He,{dataDefinedOnItem:Qe,settings:Ke}=$e,ze=selectFinalData(Qe,je),We=getSliced(ze,Fe,Oe),qe=(He=Ke?.dataKey)!==null&&He!==void 0?He:Pe?.dataKey,Ye=Ke?.nameKey,Xe;if(Pe!=null&&Pe.dataKey&&Array.isArray(We)&&!Array.isArray(We[0])&&Be==="axis"?Xe=findEntryInArray(We,Pe.dataKey,Re):Xe=Ie(We,_e,De,Ye),Array.isArray(Xe))Xe.forEach(Je=>{var er=_objectSpread$C(_objectSpread$C({},Ke),{},{name:Je.name,unit:Je.unit,color:void 0,fill:void 0});Me.push(getTooltipEntry({tooltipEntrySettings:er,dataKey:Je.dataKey,payload:Je.payload,value:getValueByDataKey(Je.payload,Je.dataKey),name:Je.name}))});else{var rr;Me.push(getTooltipEntry({tooltipEntrySettings:Ke,dataKey:qe,payload:Xe,value:getValueByDataKey(Xe,qe),name:(rr=getValueByDataKey(Xe,Ye))!==null&&rr!==void 0?rr:Ke?.name}))}return Me},ke)}},selectTooltipAxisType=Ee=>{var _e=selectChartLayout(Ee);return _e==="horizontal"?"xAxis":_e==="vertical"?"yAxis":_e==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=Ee=>Ee.tooltip.settings.axisId,selectTooltipAxis=Ee=>{var _e=selectTooltipAxisType(Ee),Ce=selectTooltipAxisId(Ee);return selectAxisSettings(Ee,_e,Ce)},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([Ee=>Ee.graphicalItems.cartesianItems,Ee=>Ee.graphicalItems.polarItems],(Ee,_e)=>[...Ee,..._e]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectTooltipStackGroups=createSelector([selectTooltipDisplayedData,selectAllGraphicalItemsSettings,selectStackOffsetType],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectTooltipAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectTooltipAxisType],combineAppliedNumericalValuesIncludingErrorValues),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainOfStackGroups,selectTooltipAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=Ee=>{var _e=selectTooltipAxisType(Ee),Ce=selectTooltipAxisId(Ee),Pe=!1;return selectAxisRange(Ee,_e,Ce,Pe)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(Ee,_e,Ce,Pe,Re,Ie,Be,je)=>{if(_e){var{type:De}=_e,Fe=isCategoricalAxis(Ee,je);if(Pe){var Oe=Ce==="scaleBand"&&Pe.bandwidth?Pe.bandwidth()/2:2,ke=De==="category"&&Pe.bandwidth?Pe.bandwidth()/Oe:0;return ke=je==="angleAxis"&&Re!=null&&Re?.length>=2?mathSign(Re[0]-Re[1])*2*ke:ke,Fe&&Be?Be.map((Me,$e)=>({coordinate:Pe(Me)+ke,value:Me,index:$e,offset:ke})):Pe.domain().map((Me,$e)=>({coordinate:Pe(Me)+ke,value:Ie?Ie[Me]:Me,index:$e,offset:ke}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(Ee,_e,Ce)=>combineTooltipEventType(Ce.shared,Ee,_e)),selectTooltipTrigger=Ee=>Ee.tooltip.settings.trigger,selectDefaultIndex=Ee=>Ee.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],Ee=>{if(Ee)return Ee.dataKey}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(Ee,_e)=>Ee!=null&&Ee.coordinate?Ee.coordinate:_e),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],Ee=>Ee.active),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxis,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload),selectActiveTooltipDataPoints=createSelector([selectActiveTooltipPayload],Ee=>{if(Ee!=null){var _e=Ee.map(Ce=>Ce.payload).filter(Ce=>Ce!=null);return Array.from(new Set(_e))}});function ownKeys$B(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$B(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$B(Object(Ce),!0).forEach(function(Pe){_defineProperty$q(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$B(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$q(Ee,_e,Ce){return(_e=_toPropertyKey$p(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$p(Ee){var _e=_toPrimitive$p(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$p(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var Ee=useTooltipAxis(),_e=useAppSelector(selectTooltipAxisTicks),Ce=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(_objectSpread$B(_objectSpread$B({},Ee),{},{scale:Ce}),_e)},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(Ee,_e)=>_e,pickTrigger=(Ee,_e,Ce)=>Ce,pickDefaultIndex=(Ee,_e,Ce,Pe)=>Pe,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,Ee=>sortBy(Ee,_e=>_e.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData],combineActiveTooltipIndex),selectTooltipDataKey=(Ee,_e,Ce)=>{if(_e!=null){var Pe=selectTooltipState(Ee);return _e==="axis"?Ce==="hover"?Pe.axisInteraction.hover.dataKey:Pe.axisInteraction.click.dataKey:Ce==="hover"?Pe.itemInteraction.hover.dataKey:Pe.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(Ee,_e)=>{var Ce;return(Ce=Ee.coordinate)!==null&&Ce!==void 0?Ce:_e}),selectActiveLabel=createSelector(selectTooltipAxisTicks,selectActiveIndex,combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxis,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState],Ee=>({isActive:Ee.active,activeIndex:Ee.index})),combineActiveProps=(Ee,_e,Ce,Pe,Re,Ie,Be,je)=>{if(!(!Ee||!_e||!Pe||!Re||!Ie)){var De=inRange(Ee.chartX,Ee.chartY,_e,Ce,je);if(De){var Fe=calculateTooltipPos(De,_e),Oe=calculateActiveTickIndex(Fe,Be,Ie,Pe,Re),ke=getActiveCoordinate(_e,Ie,Oe,De);return{activeIndex:String(Oe),activeCoordinate:ke}}}};function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$i.apply(null,arguments)}function ownKeys$A(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$A(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$A(Object(Ce),!0).forEach(function(Pe){_defineProperty$p(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$A(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$p(Ee,_e,Ce){return(_e=_toPropertyKey$o(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$o(Ee){var _e=_toPrimitive$o(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$o(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function CursorInternal(Ee){var{coordinate:_e,payload:Ce,index:Pe,offset:Re,tooltipAxisBandSize:Ie,layout:Be,cursor:je,tooltipEventType:De,chartName:Fe}=Ee,Oe=_e,ke=Ce,Me=Pe;if(!je||!Oe||Fe!=="ScatterChart"&&De!=="axis")return null;var $e,He;if(Fe==="ScatterChart")$e=Oe,He=Cross;else if(Fe==="BarChart")$e=getCursorRectangle(Be,Oe,Re,Ie),He=Rectangle$1;else if(Be==="radial"){var{cx:Qe,cy:Ke,radius:ze,startAngle:We,endAngle:qe}=getRadialCursorPoints(Oe);$e={cx:Qe,cy:Ke,startAngle:We,endAngle:qe,innerRadius:ze,outerRadius:ze},He=Sector}else $e={points:getCursorPoints(Be,Oe,Re)},He=Curve;var Ye=typeof je=="object"&&"className"in je?je.className:void 0,Xe=_objectSpread$A(_objectSpread$A(_objectSpread$A(_objectSpread$A({stroke:"#ccc",pointerEvents:"none"},Re),$e),filterProps(je,!1)),{},{payload:ke,payloadIndex:Me,className:clsx("recharts-tooltip-cursor",Ye)});return reactExports.isValidElement(je)?reactExports.cloneElement(je,Xe):reactExports.createElement(He,Xe)}function Cursor(Ee){var _e=useTooltipAxisBandSize(),Ce=useOffsetInternal(),Pe=useChartLayout(),Re=useChartName();return reactExports.createElement(CursorInternal,_extends$i({},Ee,{coordinate:Ee.coordinate,index:Ee.index,payload:Ee.payload,offset:Ce,layout:Pe,tooltipAxisBandSize:_e,chartName:Re}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(Ee){var _e=Object.prototype.hasOwnProperty,Ce="~";function Pe(){}Object.create&&(Pe.prototype=Object.create(null),new Pe().__proto__||(Ce=!1));function Re(De,Fe,Oe){this.fn=De,this.context=Fe,this.once=Oe||!1}function Ie(De,Fe,Oe,ke,Me){if(typeof Oe!="function")throw new TypeError("The listener must be a function");var $e=new Re(Oe,ke||De,Me),He=Ce?Ce+Fe:Fe;return De._events[He]?De._events[He].fn?De._events[He]=[De._events[He],$e]:De._events[He].push($e):(De._events[He]=$e,De._eventsCount++),De}function Be(De,Fe){--De._eventsCount===0?De._events=new Pe:delete De._events[Fe]}function je(){this._events=new Pe,this._eventsCount=0}je.prototype.eventNames=function(){var Fe=[],Oe,ke;if(this._eventsCount===0)return Fe;for(ke in Oe=this._events)_e.call(Oe,ke)&&Fe.push(Ce?ke.slice(1):ke);return Object.getOwnPropertySymbols?Fe.concat(Object.getOwnPropertySymbols(Oe)):Fe},je.prototype.listeners=function(Fe){var Oe=Ce?Ce+Fe:Fe,ke=this._events[Oe];if(!ke)return[];if(ke.fn)return[ke.fn];for(var Me=0,$e=ke.length,He=new Array($e);Me<$e;Me++)He[Me]=ke[Me].fn;return He},je.prototype.listenerCount=function(Fe){var Oe=Ce?Ce+Fe:Fe,ke=this._events[Oe];return ke?ke.fn?1:ke.length:0},je.prototype.emit=function(Fe,Oe,ke,Me,$e,He){var Qe=Ce?Ce+Fe:Fe;if(!this._events[Qe])return!1;var Ke=this._events[Qe],ze=arguments.length,We,qe;if(Ke.fn){switch(Ke.once&&this.removeListener(Fe,Ke.fn,void 0,!0),ze){case 1:return Ke.fn.call(Ke.context),!0;case 2:return Ke.fn.call(Ke.context,Oe),!0;case 3:return Ke.fn.call(Ke.context,Oe,ke),!0;case 4:return Ke.fn.call(Ke.context,Oe,ke,Me),!0;case 5:return Ke.fn.call(Ke.context,Oe,ke,Me,$e),!0;case 6:return Ke.fn.call(Ke.context,Oe,ke,Me,$e,He),!0}for(qe=1,We=new Array(ze-1);qe<ze;qe++)We[qe-1]=arguments[qe];Ke.fn.apply(Ke.context,We)}else{var Ye=Ke.length,Xe;for(qe=0;qe<Ye;qe++)switch(Ke[qe].once&&this.removeListener(Fe,Ke[qe].fn,void 0,!0),ze){case 1:Ke[qe].fn.call(Ke[qe].context);break;case 2:Ke[qe].fn.call(Ke[qe].context,Oe);break;case 3:Ke[qe].fn.call(Ke[qe].context,Oe,ke);break;case 4:Ke[qe].fn.call(Ke[qe].context,Oe,ke,Me);break;default:if(!We)for(Xe=1,We=new Array(ze-1);Xe<ze;Xe++)We[Xe-1]=arguments[Xe];Ke[qe].fn.apply(Ke[qe].context,We)}}return!0},je.prototype.on=function(Fe,Oe,ke){return Ie(this,Fe,Oe,ke,!1)},je.prototype.once=function(Fe,Oe,ke){return Ie(this,Fe,Oe,ke,!0)},je.prototype.removeListener=function(Fe,Oe,ke,Me){var $e=Ce?Ce+Fe:Fe;if(!this._events[$e])return this;if(!Oe)return Be(this,$e),this;var He=this._events[$e];if(He.fn)He.fn===Oe&&(!Me||He.once)&&(!ke||He.context===ke)&&Be(this,$e);else{for(var Qe=0,Ke=[],ze=He.length;Qe<ze;Qe++)(He[Qe].fn!==Oe||Me&&!He[Qe].once||ke&&He[Qe].context!==ke)&&Ke.push(He[Qe]);Ke.length?this._events[$e]=Ke.length===1?Ke[0]:Ke:Be(this,$e)}return this},je.prototype.removeAllListeners=function(Fe){var Oe;return Fe?(Oe=Ce?Ce+Fe:Fe,this._events[Oe]&&Be(this,Oe)):(this._events=new Pe,this._eventsCount=0),this},je.prototype.off=je.prototype.removeListener,je.prototype.addListener=je.prototype.on,je.prefixed=Ce,je.EventEmitter=je,Ee.exports=je}(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(Ee,_e){if(_e){var Ce=Number.parseInt(_e,10);if(!isNan(Ce))return Ee?.[Ce]}}var initialState$6={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$6,reducers:{createEventEmitter:Ee=>{Ee.eventEmitter==null&&(Ee.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(Ee){return Ee.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(Ee,_e){if(Ee.chartData=_e.payload,_e.payload==null){Ee.dataStartIndex=0,Ee.dataEndIndex=0;return}_e.payload.length>0&&Ee.dataEndIndex!==_e.payload.length-1&&(Ee.dataEndIndex=_e.payload.length-1)},setComputedData(Ee,_e){Ee.computedData=_e.payload},setDataStartEndIndexes(Ee,_e){var{startIndex:Ce,endIndex:Pe}=_e.payload;Ce!=null&&(Ee.dataStartIndex=Ce),Pe!=null&&(Ee.dataEndIndex=Pe)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,noop$4=()=>{};function useTooltipSyncEventsListener(){var Ee=useAppSelector(selectSyncId),_e=useAppSelector(selectEventEmitter),Ce=useAppDispatch(),Pe=useAppSelector(selectSyncMethod),Re=useAppSelector(selectTooltipAxisTicks),Ie=useChartLayout(),Be=useViewBox(),je=useAppSelector(De=>De.rootProps.className);reactExports.useEffect(()=>{if(Ee==null)return noop$4;var De=(Fe,Oe,ke)=>{if(_e!==ke&&Ee===Fe){if(Pe==="index"){Ce(Oe);return}if(Re!=null){var Me;if(typeof Pe=="function"){var $e={activeTooltipIndex:Oe.payload.index==null?void 0:Number(Oe.payload.index),isTooltipActive:Oe.payload.active,activeIndex:Oe.payload.index==null?void 0:Number(Oe.payload.index),activeLabel:Oe.payload.label,activeDataKey:Oe.payload.dataKey,activeCoordinate:Oe.payload.coordinate},He=Pe(Re,$e);Me=Re[He]}else Pe==="value"&&(Me=Re.find(rr=>String(rr.value)===Oe.payload.label));var{coordinate:Qe}=Oe.payload;if(Me==null||Oe.payload.active===!1||Qe==null||Be==null){Ce(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:Ke,y:ze}=Qe,We=Math.min(Ke,Be.x+Be.width),qe=Math.min(ze,Be.y+Be.height),Ye={x:Ie==="horizontal"?Me.coordinate:We,y:Ie==="horizontal"?qe:Me.coordinate},Xe=setSyncInteraction({active:Oe.payload.active,coordinate:Ye,dataKey:Oe.payload.dataKey,index:String(Me.index),label:Oe.payload.label});Ce(Xe)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,De),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,De)}},[je,Ce,_e,Ee,Pe,Re,Ie,Be])}function useBrushSyncEventsListener(){var Ee=useAppSelector(selectSyncId),_e=useAppSelector(selectEventEmitter),Ce=useAppDispatch();reactExports.useEffect(()=>{if(Ee==null)return noop$4;var Pe=(Re,Ie,Be)=>{_e!==Be&&Ee===Re&&Ce(setDataStartEndIndexes(Ie))};return eventCenter.on(BRUSH_SYNC_EVENT,Pe),()=>{eventCenter.off(BRUSH_SYNC_EVENT,Pe)}},[Ce,_e,Ee])}function useSynchronisedEventsFromOtherCharts(){var Ee=useAppDispatch();reactExports.useEffect(()=>{Ee(createEventEmitter())},[Ee]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(Ee,_e,Ce,Pe,Re,Ie){var Be=useAppSelector(Me=>selectTooltipDataKey(Me,Ee,_e)),je=useAppSelector(selectEventEmitter),De=useAppSelector(selectSyncId),Fe=useAppSelector(selectSyncMethod),Oe=useAppSelector(selectSynchronisedTooltipState),ke=Oe?.active;reactExports.useEffect(()=>{if(!ke&&De!=null&&je!=null){var Me=setSyncInteraction({active:Ie,coordinate:Ce,dataKey:Be,index:Re,label:typeof Pe=="number"?String(Pe):Pe});eventCenter.emit(TOOLTIP_SYNC_EVENT,De,Me,je)}},[ke,Ce,Be,Re,Pe,je,De,Fe,Ie])}function ownKeys$z(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$z(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$z(Object(Ce),!0).forEach(function(Pe){_defineProperty$o(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$z(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$o(Ee,_e,Ce){return(_e=_toPropertyKey$n(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$n(Ee){var _e=_toPrimitive$n(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$n(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function defaultUniqBy(Ee){return Ee.dataKey}function renderContent(Ee,_e){return reactExports.isValidElement(Ee)?reactExports.cloneElement(Ee,_e):typeof Ee=="function"?reactExports.createElement(Ee,_e):reactExports.createElement(DefaultTooltipContent,_e)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Global.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(Ee){var _e=resolveDefaultProps(Ee,defaultTooltipProps),{active:Ce,allowEscapeViewBox:Pe,animationDuration:Re,animationEasing:Ie,content:Be,filterNull:je,isAnimationActive:De,offset:Fe,payloadUniqBy:Oe,position:ke,reverseDirection:Me,useTranslate3d:$e,wrapperStyle:He,cursor:Qe,shared:Ke,trigger:ze,defaultIndex:We,portal:qe,axisId:Ye}=_e,Xe=useAppDispatch(),rr=typeof We=="number"?String(We):We;reactExports.useEffect(()=>{Xe(setTooltipSettingsState({shared:Ke,trigger:ze,axisId:Ye,active:Ce,defaultIndex:rr}))},[Xe,Ke,ze,Ye,Ce,rr]);var Je=useViewBox(),er=useAccessibilityLayer(),or=useTooltipEventType(Ke),{activeIndex:pr,isActive:ar}=useAppSelector(Cr=>selectIsTooltipActive(Cr,or,ze,rr)),fr=useAppSelector(Cr=>selectTooltipPayload(Cr,or,ze,rr)),gr=useAppSelector(Cr=>selectActiveLabel(Cr,or,ze,rr)),Rr=useAppSelector(Cr=>selectActiveCoordinate(Cr,or,ze,rr)),Ir=fr,mr=useTooltipPortal(),Er=Ce??ar,[Ar,br]=useElementOffset([Ir,Er]),wr=or==="axis"?gr:void 0;useTooltipChartSynchronisation(or,ze,Rr,wr,pr,Er);var jr=qe??mr;if(jr==null)return null;var hr=Ir??emptyPayload;Er||(hr=emptyPayload),je&&hr.length&&(hr=getUniqPayload(Ir.filter(Cr=>Cr.value!=null&&(Cr.hide!==!0||_e.includeHidden)),Oe,defaultUniqBy));var _r=hr.length>0,Pr=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:Pe,animationDuration:Re,animationEasing:Ie,isAnimationActive:De,active:Er,coordinate:Rr,hasPayload:_r,offset:Fe,position:ke,reverseDirection:Me,useTranslate3d:$e,viewBox:Je,wrapperStyle:He,lastBoundingBox:Ar,innerRef:br,hasPortalFromProps:!!qe},renderContent(Be,_objectSpread$z(_objectSpread$z({},_e),{},{payload:hr,label:wr,active:Er,coordinate:Rr,accessibilityLayer:er})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(Pr,jr),Er&&reactExports.createElement(Cursor,{cursor:Qe,tooltipEventType:or,coordinate:Rr,payload:Ir,index:pr}))}var throttle$2={},debounce$1={},debounce={},hasRequiredDebounce$1;function requireDebounce$1(){return hasRequiredDebounce$1||(hasRequiredDebounce$1=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce,Pe,{signal:Re,edges:Ie}={}){let Be,je=null;const De=Ie!=null&&Ie.includes("leading"),Fe=Ie==null||Ie.includes("trailing"),Oe=()=>{je!==null&&(Ce.apply(Be,je),Be=void 0,je=null)},ke=()=>{Fe&&Oe(),Qe()};let Me=null;const $e=()=>{Me!=null&&clearTimeout(Me),Me=setTimeout(()=>{Me=null,ke()},Pe)},He=()=>{Me!==null&&(clearTimeout(Me),Me=null)},Qe=()=>{He(),Be=void 0,je=null},Ke=()=>{Oe()},ze=function(...We){if(Re?.aborted)return;Be=this,je=We;const qe=Me==null;$e(),De&&qe&&Oe()};return ze.schedule=$e,ze.cancel=Qe,ze.flush=Ke,Re?.addEventListener("abort",Qe,{once:!0}),ze}Ee.debounce=_e}(debounce)),debounce}var hasRequiredDebounce;function requireDebounce(){return hasRequiredDebounce||(hasRequiredDebounce=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireDebounce$1();function Ce(Pe,Re=0,Ie={}){typeof Ie!="object"&&(Ie={});const{leading:Be=!1,trailing:je=!0,maxWait:De}=Ie,Fe=Array(2);Be&&(Fe[0]="leading"),je&&(Fe[1]="trailing");let Oe,ke=null;const Me=_e.debounce(function(...Qe){Oe=Pe.apply(this,Qe),ke=null},Re,{edges:Fe}),$e=function(...Qe){return De!=null&&(ke===null&&(ke=Date.now()),Date.now()-ke>=De)?(Oe=Pe.apply(this,Qe),ke=Date.now(),Me.cancel(),Me.schedule(),Oe):(Me.apply(this,Qe),Oe)},He=()=>(Me.flush(),Oe);return $e.cancel=Me.cancel,$e.flush=He,$e}Ee.debounce=Ce}(debounce$1)),debounce$1}var hasRequiredThrottle$1;function requireThrottle$1(){return hasRequiredThrottle$1||(hasRequiredThrottle$1=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireDebounce();function Ce(Pe,Re=0,Ie={}){const{leading:Be=!0,trailing:je=!0}=Ie;return _e.debounce(Pe,Re,{leading:Be,maxWait:Re,trailing:je})}Ee.throttle=Ce}(throttle$2)),throttle$2}var throttle$1,hasRequiredThrottle;function requireThrottle(){return hasRequiredThrottle||(hasRequiredThrottle=1,throttle$1=requireThrottle$1().throttle),throttle$1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);var warn=function Ee(_e,Ce){for(var Pe=arguments.length,Re=new Array(Pe>2?Pe-2:0),Ie=2;Ie<Pe;Ie++)Re[Ie-2]=arguments[Ie]};function ownKeys$y(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$y(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$y(Object(Ce),!0).forEach(function(Pe){_defineProperty$n(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$y(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$n(Ee,_e,Ce){return(_e=_toPropertyKey$m(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$m(Ee){var _e=_toPrimitive$m(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$m(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var ResponsiveContainer=reactExports.forwardRef((Ee,_e)=>{var{aspect:Ce,initialDimension:Pe={width:-1,height:-1},width:Re="100%",height:Ie="100%",minWidth:Be=0,minHeight:je,maxHeight:De,children:Fe,debounce:Oe=0,id:ke,className:Me,onResize:$e,style:He={}}=Ee,Qe=reactExports.useRef(null),Ke=reactExports.useRef();Ke.current=$e,reactExports.useImperativeHandle(_e,()=>Qe.current);var[ze,We]=reactExports.useState({containerWidth:Pe.width,containerHeight:Pe.height}),qe=reactExports.useCallback((Xe,rr)=>{We(Je=>{var er=Math.round(Xe),or=Math.round(rr);return Je.containerWidth===er&&Je.containerHeight===or?Je:{containerWidth:er,containerHeight:or}})},[]);reactExports.useEffect(()=>{var Xe=or=>{var pr,{width:ar,height:fr}=or[0].contentRect;qe(ar,fr),(pr=Ke.current)===null||pr===void 0||pr.call(Ke,ar,fr)};Oe>0&&(Xe=throttle(Xe,Oe,{trailing:!0,leading:!1}));var rr=new ResizeObserver(Xe),{width:Je,height:er}=Qe.current.getBoundingClientRect();return qe(Je,er),rr.observe(Qe.current),()=>{rr.disconnect()}},[qe,Oe]);var Ye=reactExports.useMemo(()=>{var{containerWidth:Xe,containerHeight:rr}=ze;if(Xe<0||rr<0)return null;warn(isPercent(Re)||isPercent(Ie),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,Re,Ie),warn(!Ce||Ce>0,"The aspect(%s) must be greater than zero.",Ce);var Je=isPercent(Re)?Xe:Re,er=isPercent(Ie)?rr:Ie;return Ce&&Ce>0&&(Je?er=Je/Ce:er&&(Je=er*Ce),De&&er>De&&(er=De)),warn(Je>0||er>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Je,er,Re,Ie,Be,je,Ce),reactExports.Children.map(Fe,or=>reactExports.cloneElement(or,{width:Je,height:er,style:_objectSpread$y({width:Je,height:er},or.props.style)}))},[Ce,Fe,Ie,De,je,Be,ze,Re]);return reactExports.createElement("div",{id:ke?"".concat(ke):void 0,className:clsx("recharts-responsive-container",Me),style:_objectSpread$y(_objectSpread$y({},He),{},{width:Re,height:Ie,minWidth:Be,minHeight:je,maxHeight:De}),ref:Qe},reactExports.createElement("div",{style:{width:0,height:0,overflow:"visible"}},Ye))}),Cell=Ee=>null;Cell.displayName="Cell";function ownKeys$x(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$x(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$x(Object(Ce),!0).forEach(function(Pe){_defineProperty$m(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$x(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$m(Ee,_e,Ce){return(_e=_toPropertyKey$l(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$l(Ee){var _e=_toPrimitive$l(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$l(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(Ee){var _e=_objectSpread$x({},Ee);return Object.keys(_e).forEach(Ce=>{_e[Ce]||delete _e[Ce]}),_e}var getStringSize=function Ee(_e){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_e==null||Global.isSsr)return{width:0,height:0};var Pe=removeInvalidKeys(Ce),Re=JSON.stringify({text:_e,copyStyle:Pe});if(stringCache.widthCache[Re])return stringCache.widthCache[Re];try{var Ie=document.getElementById(MEASUREMENT_SPAN_ID);Ie||(Ie=document.createElement("span"),Ie.setAttribute("id",MEASUREMENT_SPAN_ID),Ie.setAttribute("aria-hidden","true"),document.body.appendChild(Ie));var Be=_objectSpread$x(_objectSpread$x({},SPAN_STYLE),Pe);Object.assign(Ie.style,Be),Ie.textContent="".concat(_e);var je=Ie.getBoundingClientRect(),De={width:je.width,height:je.height};return stringCache.widthCache[Re]=De,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),De}catch{return{width:0,height:0}}},MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(Ee,_e){return Ee*CONVERSION_RATES[_e]}class DecimalCSS{static parse(_e){var Ce,[,Pe,Re]=(Ce=NUM_SPLIT_REGEX.exec(_e))!==null&&Ce!==void 0?Ce:[];return new DecimalCSS(parseFloat(Pe),Re??"")}constructor(_e,Ce){this.num=_e,this.unit=Ce,this.num=_e,this.unit=Ce,isNan(_e)&&(this.unit=""),Ce!==""&&!CSS_LENGTH_UNIT_REGEX.test(Ce)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(Ce)&&(this.num=convertToPx(_e,Ce),this.unit="px")}add(_e){return this.unit!==_e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+_e.num,this.unit)}subtract(_e){return this.unit!==_e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-_e.num,this.unit)}multiply(_e){return this.unit!==""&&_e.unit!==""&&this.unit!==_e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*_e.num,this.unit||_e.unit)}divide(_e){return this.unit!==""&&_e.unit!==""&&this.unit!==_e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/_e.num,this.unit||_e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}function calculateArithmetic(Ee){if(Ee.includes(STR_NAN))return STR_NAN;for(var _e=Ee;_e.includes("*")||_e.includes("/");){var Ce,[,Pe,Re,Ie]=(Ce=MULTIPLY_OR_DIVIDE_REGEX.exec(_e))!==null&&Ce!==void 0?Ce:[],Be=DecimalCSS.parse(Pe??""),je=DecimalCSS.parse(Ie??""),De=Re==="*"?Be.multiply(je):Be.divide(je);if(De.isNaN())return STR_NAN;_e=_e.replace(MULTIPLY_OR_DIVIDE_REGEX,De.toString())}for(;_e.includes("+")||/.-\d+(?:\.\d+)?/.test(_e);){var Fe,[,Oe,ke,Me]=(Fe=ADD_OR_SUBTRACT_REGEX.exec(_e))!==null&&Fe!==void 0?Fe:[],$e=DecimalCSS.parse(Oe??""),He=DecimalCSS.parse(Me??""),Qe=ke==="+"?$e.add(He):$e.subtract(He);if(Qe.isNaN())return STR_NAN;_e=_e.replace(ADD_OR_SUBTRACT_REGEX,Qe.toString())}return _e}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(Ee){for(var _e=Ee,Ce;(Ce=PARENTHESES_REGEX.exec(_e))!=null;){var[,Pe]=Ce;_e=_e.replace(PARENTHESES_REGEX,calculateArithmetic(Pe))}return _e}function evaluateExpression(Ee){var _e=Ee.replace(/\s+/g,"");return _e=calculateParentheses(_e),_e=calculateArithmetic(_e),_e}function safeEvaluateExpression(Ee){try{return evaluateExpression(Ee)}catch{return STR_NAN}}function reduceCSSCalc(Ee){var _e=safeEvaluateExpression(Ee.slice(5,-1));return _e===STR_NAN?"":_e}var _excluded$k=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$8=["dx","dy","angle","className","breakAll"];function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$h.apply(null,arguments)}function _objectWithoutProperties$j(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$j(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$j(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=Ee=>{var{children:_e,breakAll:Ce,style:Pe}=Ee;try{var Re=[];isNullish(_e)||(Ce?Re=_e.toString().split(""):Re=_e.toString().split(BREAKING_SPACES));var Ie=Re.map(je=>({word:je,width:getStringSize(je,Pe).width})),Be=Ce?0:getStringSize("",Pe).width;return{wordsWithComputedWidth:Ie,spaceWidth:Be}}catch{return null}},calculateWordsByLines=(Ee,_e,Ce,Pe,Re)=>{var{maxLines:Ie,children:Be,style:je,breakAll:De}=Ee,Fe=isNumber(Ie),Oe=Be,ke=function(){var ar=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ar.reduce((fr,gr)=>{var{word:Rr,width:Ir}=gr,mr=fr[fr.length-1];if(mr&&(Pe==null||Re||mr.width+Ir+Ce<Number(Pe)))mr.words.push(Rr),mr.width+=Ir+Ce;else{var Er={words:[Rr],width:Ir};fr.push(Er)}return fr},[])},Me=ke(_e),$e=pr=>pr.reduce((ar,fr)=>ar.width>fr.width?ar:fr);if(!Fe||Re)return Me;var He=Me.length>Ie||$e(Me).width>Number(Pe);if(!He)return Me;for(var Qe="",Ke=pr=>{var ar=Oe.slice(0,pr),fr=calculateWordWidths({breakAll:De,style:je,children:ar+Qe}).wordsWithComputedWidth,gr=ke(fr),Rr=gr.length>Ie||$e(gr).width>Number(Pe);return[Rr,gr]},ze=0,We=Oe.length-1,qe=0,Ye;ze<=We&&qe<=Oe.length-1;){var Xe=Math.floor((ze+We)/2),rr=Xe-1,[Je,er]=Ke(rr),[or]=Ke(Xe);if(!Je&&!or&&(ze=Xe+1),Je&&or&&(We=Xe-1),!Je&&or){Ye=er;break}qe++}return Ye||Me},getWordsWithoutCalculate=Ee=>{var _e=isNullish(Ee)?[]:Ee.toString().split(BREAKING_SPACES);return[{words:_e}]},getWordsByLines=Ee=>{var{width:_e,scaleToFit:Ce,children:Pe,style:Re,breakAll:Ie,maxLines:Be}=Ee;if((_e||Ce)&&!Global.isSsr){var je,De,Fe=calculateWordWidths({breakAll:Ie,children:Pe,style:Re});if(Fe){var{wordsWithComputedWidth:Oe,spaceWidth:ke}=Fe;je=Oe,De=ke}else return getWordsWithoutCalculate(Pe);return calculateWordsByLines({breakAll:Ie,children:Pe,maxLines:Be,style:Re},je,De,_e,Ce)}return getWordsWithoutCalculate(Pe)},DEFAULT_FILL="#808080",Text=reactExports.forwardRef((Ee,_e)=>{var{x:Ce=0,y:Pe=0,lineHeight:Re="1em",capHeight:Ie="0.71em",scaleToFit:Be=!1,textAnchor:je="start",verticalAnchor:De="end",fill:Fe=DEFAULT_FILL}=Ee,Oe=_objectWithoutProperties$j(Ee,_excluded$k),ke=reactExports.useMemo(()=>getWordsByLines({breakAll:Oe.breakAll,children:Oe.children,maxLines:Oe.maxLines,scaleToFit:Be,style:Oe.style,width:Oe.width}),[Oe.breakAll,Oe.children,Oe.maxLines,Be,Oe.style,Oe.width]),{dx:Me,dy:$e,angle:He,className:Qe,breakAll:Ke}=Oe,ze=_objectWithoutProperties$j(Oe,_excluded2$8);if(!isNumOrStr(Ce)||!isNumOrStr(Pe))return null;var We=Ce+(isNumber(Me)?Me:0),qe=Pe+(isNumber($e)?$e:0),Ye;switch(De){case"start":Ye=reduceCSSCalc("calc(".concat(Ie,")"));break;case"middle":Ye=reduceCSSCalc("calc(".concat((ke.length-1)/2," * -").concat(Re," + (").concat(Ie," / 2))"));break;default:Ye=reduceCSSCalc("calc(".concat(ke.length-1," * -").concat(Re,")"));break}var Xe=[];if(Be){var rr=ke[0].width,{width:Je}=Oe;Xe.push("scale(".concat(isNumber(Je)?Je/rr:1,")"))}return He&&Xe.push("rotate(".concat(He,", ").concat(We,", ").concat(qe,")")),Xe.length&&(ze.transform=Xe.join(" ")),reactExports.createElement("text",_extends$h({},filterProps(ze,!0),{ref:_e,x:We,y:qe,className:clsx("recharts-text",Qe),textAnchor:je,fill:Fe.includes("url")?DEFAULT_FILL:Fe}),ke.map((er,or)=>{var pr=er.words.join(Ke?"":" ");return reactExports.createElement("tspan",{x:We,dy:or===0?Ye:Re,key:"".concat(pr,"-").concat(or)},pr)}))});Text.displayName="Text";var _excluded$j=["offset"],_excluded2$7=["labelRef"];function _objectWithoutProperties$i(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$i(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$i(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}function ownKeys$w(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$w(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$w(Object(Ce),!0).forEach(function(Pe){_defineProperty$l(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$w(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$l(Ee,_e,Ce){return(_e=_toPropertyKey$k(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$k(Ee){var _e=_toPrimitive$k(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$k(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$g.apply(null,arguments)}var getLabel=Ee=>{var{value:_e,formatter:Ce}=Ee,Pe=isNullish(Ee.children)?_e:Ee.children;return typeof Ce=="function"?Ce(Pe):Pe},isLabelContentAFunction=Ee=>Ee!=null&&typeof Ee=="function",getDeltaAngle=(Ee,_e)=>{var Ce=mathSign(_e-Ee),Pe=Math.min(Math.abs(_e-Ee),360);return Ce*Pe},renderRadialLabel=(Ee,_e,Ce)=>{var{position:Pe,viewBox:Re,offset:Ie,className:Be}=Ee,{cx:je,cy:De,innerRadius:Fe,outerRadius:Oe,startAngle:ke,endAngle:Me,clockWise:$e}=Re,He=(Fe+Oe)/2,Qe=getDeltaAngle(ke,Me),Ke=Qe>=0?1:-1,ze,We;Pe==="insideStart"?(ze=ke+Ke*Ie,We=$e):Pe==="insideEnd"?(ze=Me-Ke*Ie,We=!$e):Pe==="end"&&(ze=Me+Ke*Ie,We=$e),We=Qe<=0?We:!We;var qe=polarToCartesian(je,De,He,ze),Ye=polarToCartesian(je,De,He,ze+(We?1:-1)*359),Xe="M".concat(qe.x,",").concat(qe.y,`
    A`).concat(He,",").concat(He,",0,1,").concat(We?0:1,`,
    `).concat(Ye.x,",").concat(Ye.y),rr=isNullish(Ee.id)?uniqueId("recharts-radial-line-"):Ee.id;return reactExports.createElement("text",_extends$g({},Ce,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",Be)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:rr,d:Xe})),reactExports.createElement("textPath",{xlinkHref:"#".concat(rr)},_e))},getAttrsOfPolarLabel=Ee=>{var{viewBox:_e,offset:Ce,position:Pe}=Ee,{cx:Re,cy:Ie,innerRadius:Be,outerRadius:je,startAngle:De,endAngle:Fe}=_e,Oe=(De+Fe)/2;if(Pe==="outside"){var{x:ke,y:Me}=polarToCartesian(Re,Ie,je+Ce,Oe);return{x:ke,y:Me,textAnchor:ke>=Re?"start":"end",verticalAnchor:"middle"}}if(Pe==="center")return{x:Re,y:Ie,textAnchor:"middle",verticalAnchor:"middle"};if(Pe==="centerTop")return{x:Re,y:Ie,textAnchor:"middle",verticalAnchor:"start"};if(Pe==="centerBottom")return{x:Re,y:Ie,textAnchor:"middle",verticalAnchor:"end"};var $e=(Be+je)/2,{x:He,y:Qe}=polarToCartesian(Re,Ie,$e,Oe);return{x:He,y:Qe,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=(Ee,_e)=>{var{parentViewBox:Ce,offset:Pe,position:Re}=Ee,{x:Ie,y:Be,width:je,height:De}=_e,Fe=De>=0?1:-1,Oe=Fe*Pe,ke=Fe>0?"end":"start",Me=Fe>0?"start":"end",$e=je>=0?1:-1,He=$e*Pe,Qe=$e>0?"end":"start",Ke=$e>0?"start":"end";if(Re==="top"){var ze={x:Ie+je/2,y:Be-Fe*Pe,textAnchor:"middle",verticalAnchor:ke};return _objectSpread$w(_objectSpread$w({},ze),Ce?{height:Math.max(Be-Ce.y,0),width:je}:{})}if(Re==="bottom"){var We={x:Ie+je/2,y:Be+De+Oe,textAnchor:"middle",verticalAnchor:Me};return _objectSpread$w(_objectSpread$w({},We),Ce?{height:Math.max(Ce.y+Ce.height-(Be+De),0),width:je}:{})}if(Re==="left"){var qe={x:Ie-He,y:Be+De/2,textAnchor:Qe,verticalAnchor:"middle"};return _objectSpread$w(_objectSpread$w({},qe),Ce?{width:Math.max(qe.x-Ce.x,0),height:De}:{})}if(Re==="right"){var Ye={x:Ie+je+He,y:Be+De/2,textAnchor:Ke,verticalAnchor:"middle"};return _objectSpread$w(_objectSpread$w({},Ye),Ce?{width:Math.max(Ce.x+Ce.width-Ye.x,0),height:De}:{})}var Xe=Ce?{width:je,height:De}:{};return Re==="insideLeft"?_objectSpread$w({x:Ie+He,y:Be+De/2,textAnchor:Ke,verticalAnchor:"middle"},Xe):Re==="insideRight"?_objectSpread$w({x:Ie+je-He,y:Be+De/2,textAnchor:Qe,verticalAnchor:"middle"},Xe):Re==="insideTop"?_objectSpread$w({x:Ie+je/2,y:Be+Oe,textAnchor:"middle",verticalAnchor:Me},Xe):Re==="insideBottom"?_objectSpread$w({x:Ie+je/2,y:Be+De-Oe,textAnchor:"middle",verticalAnchor:ke},Xe):Re==="insideTopLeft"?_objectSpread$w({x:Ie+He,y:Be+Oe,textAnchor:Ke,verticalAnchor:Me},Xe):Re==="insideTopRight"?_objectSpread$w({x:Ie+je-He,y:Be+Oe,textAnchor:Qe,verticalAnchor:Me},Xe):Re==="insideBottomLeft"?_objectSpread$w({x:Ie+He,y:Be+De-Oe,textAnchor:Ke,verticalAnchor:ke},Xe):Re==="insideBottomRight"?_objectSpread$w({x:Ie+je-He,y:Be+De-Oe,textAnchor:Qe,verticalAnchor:ke},Xe):Re&&typeof Re=="object"&&(isNumber(Re.x)||isPercent(Re.x))&&(isNumber(Re.y)||isPercent(Re.y))?_objectSpread$w({x:Ie+getPercentValue(Re.x,je),y:Be+getPercentValue(Re.y,De),textAnchor:"end",verticalAnchor:"end"},Xe):_objectSpread$w({x:Ie+je/2,y:Be+De/2,textAnchor:"middle",verticalAnchor:"middle"},Xe)},isPolar=Ee=>"cx"in Ee&&isNumber(Ee.cx);function Label(Ee){var{offset:_e=5}=Ee,Ce=_objectWithoutProperties$i(Ee,_excluded$j),Pe=_objectSpread$w({offset:_e},Ce),{viewBox:Re,position:Ie,value:Be,children:je,content:De,className:Fe="",textBreakAll:Oe,labelRef:ke}=Pe,Me=useViewBox(),$e=Re||Me;if(!$e||isNullish(Be)&&isNullish(je)&&!reactExports.isValidElement(De)&&typeof De!="function")return null;if(reactExports.isValidElement(De)){var{labelRef:He}=Pe,Qe=_objectWithoutProperties$i(Pe,_excluded2$7);return reactExports.cloneElement(De,Qe)}var Ke;if(typeof De=="function"){if(Ke=reactExports.createElement(De,Pe),reactExports.isValidElement(Ke))return Ke}else Ke=getLabel(Pe);var ze=isPolar($e),We=filterProps(Pe,!0);if(ze&&(Ie==="insideStart"||Ie==="insideEnd"||Ie==="end"))return renderRadialLabel(Pe,Ke,We);var qe=ze?getAttrsOfPolarLabel(Pe):getAttrsOfCartesianLabel(Pe,$e);return reactExports.createElement(Text,_extends$g({ref:ke,className:clsx("recharts-label",Fe)},We,qe,{breakAll:Oe}),Ke)}Label.displayName="Label";var parseViewBox=Ee=>{var{cx:_e,cy:Ce,angle:Pe,startAngle:Re,endAngle:Ie,r:Be,radius:je,innerRadius:De,outerRadius:Fe,x:Oe,y:ke,top:Me,left:$e,width:He,height:Qe,clockWise:Ke,labelViewBox:ze}=Ee;if(ze)return ze;if(isNumber(He)&&isNumber(Qe)){if(isNumber(Oe)&&isNumber(ke))return{x:Oe,y:ke,width:He,height:Qe};if(isNumber(Me)&&isNumber($e))return{x:Me,y:$e,width:He,height:Qe}}if(isNumber(Oe)&&isNumber(ke))return{x:Oe,y:ke,width:0,height:0};if(isNumber(_e)&&isNumber(Ce))return{cx:_e,cy:Ce,startAngle:Re||Pe||0,endAngle:Ie||Pe||0,innerRadius:De||0,outerRadius:Fe||je||Be||0,clockWise:Ke};if(Ee.viewBox)return Ee.viewBox},parseLabel=(Ee,_e,Ce)=>{if(!Ee)return null;var Pe={viewBox:_e,labelRef:Ce};return Ee===!0?reactExports.createElement(Label,_extends$g({key:"label-implicit"},Pe)):isNumOrStr(Ee)?reactExports.createElement(Label,_extends$g({key:"label-implicit",value:Ee},Pe)):reactExports.isValidElement(Ee)?Ee.type===Label?reactExports.cloneElement(Ee,_objectSpread$w({key:"label-implicit"},Pe)):reactExports.createElement(Label,_extends$g({key:"label-implicit",content:Ee},Pe)):isLabelContentAFunction(Ee)?reactExports.createElement(Label,_extends$g({key:"label-implicit",content:Ee},Pe)):Ee&&typeof Ee=="object"?reactExports.createElement(Label,_extends$g({},Ee,{key:"label-implicit"},Pe)):null},renderCallByParent$1=function Ee(_e,Ce){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!_e||!_e.children&&Pe&&!_e.label)return null;var{children:Re,labelRef:Ie}=_e,Be=parseViewBox(_e),je=findAllByType(Re,Label).map((Fe,Oe)=>reactExports.cloneElement(Fe,{viewBox:Ce||Be,key:"label-".concat(Oe)}));if(!Pe)return je;var De=parseLabel(_e.label,Ce||Be,Ie);return[De,...je]};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;var last$3={},last$2={},hasRequiredLast$2;function requireLast$2(){return hasRequiredLast$2||(hasRequiredLast$2=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){return Ce[Ce.length-1]}Ee.last=_e}(last$2)),last$2}var toArray={},hasRequiredToArray;function requireToArray(){return hasRequiredToArray||(hasRequiredToArray=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){return Array.isArray(Ce)?Ce:Array.from(Ce)}Ee.toArray=_e}(toArray)),toArray}var hasRequiredLast$1;function requireLast$1(){return hasRequiredLast$1||(hasRequiredLast$1=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});const _e=requireLast$2(),Ce=requireToArray(),Pe=requireIsArrayLike();function Re(Ie){if(Pe.isArrayLike(Ie))return _e.last(Ce.toArray(Ie))}Ee.last=Re}(last$3)),last$3}var last$1,hasRequiredLast;function requireLast(){return hasRequiredLast||(hasRequiredLast=1,last$1=requireLast$1().last),last$1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);var _excluded$i=["valueAccessor"],_excluded2$6=["data","dataKey","clockWise","id","textBreakAll"];function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$f.apply(null,arguments)}function ownKeys$v(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$v(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$v(Object(Ce),!0).forEach(function(Pe){_defineProperty$k(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$v(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$k(Ee,_e,Ce){return(_e=_toPropertyKey$j(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$j(Ee){var _e=_toPrimitive$j(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$j(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function _objectWithoutProperties$h(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$h(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$h(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}var defaultAccessor=Ee=>Array.isArray(Ee.value)?last(Ee.value):Ee.value;function LabelList(Ee){var{valueAccessor:_e=defaultAccessor}=Ee,Ce=_objectWithoutProperties$h(Ee,_excluded$i),{data:Pe,dataKey:Re,clockWise:Ie,id:Be,textBreakAll:je}=Ce,De=_objectWithoutProperties$h(Ce,_excluded2$6);return!Pe||!Pe.length?null:reactExports.createElement(Layer,{className:"recharts-label-list"},Pe.map((Fe,Oe)=>{var ke=isNullish(Re)?_e(Fe,Oe):getValueByDataKey(Fe&&Fe.payload,Re),Me=isNullish(Be)?{}:{id:"".concat(Be,"-").concat(Oe)};return reactExports.createElement(Label,_extends$f({},filterProps(Fe,!0),De,Me,{parentViewBox:Fe.parentViewBox,value:ke,textBreakAll:je,viewBox:Label.parseViewBox(isNullish(Ie)?Fe:_objectSpread$v(_objectSpread$v({},Fe),{},{clockWise:Ie})),key:"label-".concat(Oe),index:Oe}))}))}LabelList.displayName="LabelList";function parseLabelList(Ee,_e){return Ee?Ee===!0?reactExports.createElement(LabelList,{key:"labelList-implicit",data:_e}):reactExports.isValidElement(Ee)||isLabelContentAFunction(Ee)?reactExports.createElement(LabelList,{key:"labelList-implicit",data:_e,content:Ee}):typeof Ee=="object"?reactExports.createElement(LabelList,_extends$f({data:_e},Ee,{key:"labelList-implicit"})):null:null}function renderCallByParent(Ee,_e){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!Ee||!Ee.children&&Ce&&!Ee.label)return null;var{children:Pe}=Ee,Re=findAllByType(Pe,LabelList).map((Be,je)=>reactExports.cloneElement(Be,{data:_e,key:"labelList-".concat(je)}));if(!Ce)return Re;var Ie=parseLabelList(Ee.label,_e);return[Ie,...Re]}LabelList.renderCallByParent=renderCallByParent;function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$e.apply(null,arguments)}var Dot=Ee=>{var{cx:_e,cy:Ce,r:Pe,className:Re}=Ee,Ie=clsx("recharts-dot",Re);return _e===+_e&&Ce===+Ce&&Pe===+Pe?reactExports.createElement("circle",_extends$e({},filterProps(Ee,!1),adaptEventHandlers(Ee),{className:Ie,cx:_e,cy:Ce,r:Pe})):null},selectUnfilteredPolarItems=Ee=>Ee.graphicalItems.polarItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),selectPolarItemsSettings=createSelector([selectUnfilteredPolarItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings),selectPolarGraphicalItemsData=createSelector([selectPolarItemsSettings],combineGraphicalItemsData),selectPolarDisplayedData=createSelector([selectPolarGraphicalItemsData,selectChartDataAndAlwaysIgnoreIndexes],combineDisplayedData),selectPolarAppliedValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],combineAppliedValues),selectAllPolarAppliedNumericalValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],(Ee,_e,Ce)=>Ce.length>0?Ee.flatMap(Pe=>Ce.flatMap(Re=>{var Ie,Be=getValueByDataKey(Pe,(Ie=_e.dataKey)!==null&&Ie!==void 0?Ie:Re.dataKey);return{value:Be,errorDomain:[]}})).filter(Boolean):_e?.dataKey!=null?Ee.map(Pe=>({value:getValueByDataKey(Pe,_e.dataKey),errorDomain:[]})):Ee.map(Pe=>({value:Pe,errorDomain:[]}))),unsupportedInPolarChart=()=>{},selectPolarNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,unsupportedInPolarChart,selectAllPolarAppliedNumericalValues,unsupportedInPolarChart],combineNumericalDomain),selectPolarAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectPolarDisplayedData,selectPolarAppliedValues,selectStackOffsetType,pickAxisType,selectPolarNumericalDomain],combineAxisDomain),selectPolarNiceTicks=createSelector([selectPolarAxisDomain,selectBaseAxis,selectRealScaleType],combineNiceTicks);createSelector([selectBaseAxis,selectPolarAxisDomain,selectPolarNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks);var initialState$5={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$5,reducers:{addRadiusAxis(Ee,_e){Ee.radiusAxis[_e.payload.id]=_e.payload},removeRadiusAxis(Ee,_e){delete Ee.radiusAxis[_e.payload.id]},addAngleAxis(Ee,_e){Ee.angleAxis[_e.payload.id]=_e.payload},removeAngleAxis(Ee,_e){delete Ee.angleAxis[_e.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer;function ownKeys$u(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$u(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$u(Object(Ce),!0).forEach(function(Pe){_defineProperty$j(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$u(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$j(Ee,_e,Ce){return(_e=_toPropertyKey$i(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$i(Ee){var _e=_toPrimitive$i(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$i(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var pickPieSettings=(Ee,_e)=>_e,emptyArray=[],pickCells$1=(Ee,_e,Ce)=>Ce?.length===0?emptyArray:Ce,selectDisplayedData=createSelector([selectChartDataAndAlwaysIgnoreIndexes,pickPieSettings,pickCells$1],(Ee,_e,Ce)=>{var{chartData:Pe}=Ee,Re;if(_e?.data!=null&&_e.data.length>0?Re=_e.data:Re=Pe,(!Re||!Re.length)&&Ce!=null&&(Re=Ce.map(Ie=>_objectSpread$u(_objectSpread$u({},_e.presentationProps),Ie.props))),Re!=null)return Re}),selectPieLegend=createSelector([selectDisplayedData,pickPieSettings,pickCells$1],(Ee,_e,Ce)=>{if(Ee!=null)return Ee.map((Pe,Re)=>{var Ie,Be=getValueByDataKey(Pe,_e.nameKey,_e.name),je;return Ce!=null&&(Ie=Ce[Re])!==null&&Ie!==void 0&&(Ie=Ie.props)!==null&&Ie!==void 0&&Ie.fill?je=Ce[Re].props.fill:typeof Pe=="object"&&Pe!=null&&"fill"in Pe?je=Pe.fill:je=_e.fill,{value:getTooltipNameProp(Be,_e.dataKey),color:je,payload:Pe,type:_e.legendType}})}),selectSynchronisedPieSettings=createSelector([selectUnfilteredPolarItems,pickPieSettings],(Ee,_e)=>{if(Ee.some(Ce=>Ce.type==="pie"&&_e.dataKey===Ce.dataKey&&_e.data===Ce.data))return _e}),selectPieSectors=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1,selectChartOffsetInternal],(Ee,_e,Ce,Pe)=>{if(!(_e==null||Ee==null))return computePieSectors({offset:Pe,pieSettings:_e,displayedData:Ee,cells:Ce})}),initialState$4={countOfBars:0,cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$4,reducers:{addBar(Ee){Ee.countOfBars+=1},removeBar(Ee){Ee.countOfBars-=1},addCartesianGraphicalItem(Ee,_e){Ee.cartesianItems.push(_e.payload)},replaceCartesianGraphicalItem(Ee,_e){var{prev:Ce,next:Pe}=_e.payload,Re=current(Ee).cartesianItems.indexOf(Ce);Re>-1&&(Ee.cartesianItems[Re]=Pe)},removeCartesianGraphicalItem(Ee,_e){var Ce=current(Ee).cartesianItems.indexOf(_e.payload);Ce>-1&&Ee.cartesianItems.splice(Ce,1)},addPolarGraphicalItem(Ee,_e){Ee.polarItems.push(_e.payload)},removePolarGraphicalItem(Ee,_e){var Ce=current(Ee).polarItems.indexOf(_e.payload);Ce>-1&&Ee.polarItems.splice(Ce,1)}}}),{addBar,removeBar,addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer;function ownKeys$t(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$t(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$t(Object(Ce),!0).forEach(function(Pe){_defineProperty$i(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$t(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$i(Ee,_e,Ce){return(_e=_toPropertyKey$h(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$h(Ee){var _e=_toPrimitive$h(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$h(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function SetCartesianGraphicalItem(Ee){var _e=useAppDispatch(),Ce=reactExports.useRef(null);return reactExports.useEffect(()=>{var Pe=_objectSpread$t(_objectSpread$t({},Ee),{},{stackId:getNormalizedStackId(Ee.stackId)});Ce.current===null?_e(addCartesianGraphicalItem(Pe)):Ce.current!==Pe&&_e(replaceCartesianGraphicalItem({prev:Ce.current,next:Pe})),Ce.current=Pe},[_e,Ee]),reactExports.useEffect(()=>()=>{Ce.current&&(_e(removeCartesianGraphicalItem(Ce.current)),Ce.current=null)},[_e]),null}function SetPolarGraphicalItem(Ee){var _e=useAppDispatch();return reactExports.useEffect(()=>(_e(addPolarGraphicalItem(Ee)),()=>{_e(removePolarGraphicalItem(Ee))}),[_e,Ee]),null}var isPlainObject$2={},hasRequiredIsPlainObject$1;function requireIsPlainObject$1(){return hasRequiredIsPlainObject$1||(hasRequiredIsPlainObject$1=1,function(Ee){Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"});function _e(Ce){if(typeof Ce!="object"||Ce==null)return!1;if(Object.getPrototypeOf(Ce)===null)return!0;if(Object.prototype.toString.call(Ce)!=="[object Object]"){const Re=Ce[Symbol.toStringTag];return Re==null||!Object.getOwnPropertyDescriptor(Ce,Symbol.toStringTag)?.writable?!1:Ce.toString()===`[object ${Re}]`}let Pe=Ce;for(;Object.getPrototypeOf(Pe)!==null;)Pe=Object.getPrototypeOf(Pe);return Object.getPrototypeOf(Ce)===Pe}Ee.isPlainObject=_e}(isPlainObject$2)),isPlainObject$2}var isPlainObject$1,hasRequiredIsPlainObject;function requireIsPlainObject(){return hasRequiredIsPlainObject||(hasRequiredIsPlainObject=1,isPlainObject$1=requireIsPlainObject$1().isPlainObject),isPlainObject$1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject=getDefaultExportFromCjs(isPlainObjectExports);function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$d.apply(null,arguments)}var getTrapezoidPath=(Ee,_e,Ce,Pe,Re)=>{var Ie=Ce-Pe,Be;return Be="M ".concat(Ee,",").concat(_e),Be+="L ".concat(Ee+Ce,",").concat(_e),Be+="L ".concat(Ee+Ce-Ie/2,",").concat(_e+Re),Be+="L ".concat(Ee+Ce-Ie/2-Pe,",").concat(_e+Re),Be+="L ".concat(Ee,",").concat(_e," Z"),Be},defaultProps$4={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=Ee=>{var _e=resolveDefaultProps(Ee,defaultProps$4),Ce=reactExports.useRef(),[Pe,Re]=reactExports.useState(-1);reactExports.useEffect(()=>{if(Ce.current&&Ce.current.getTotalLength)try{var Ke=Ce.current.getTotalLength();Ke&&Re(Ke)}catch{}},[]);var{x:Ie,y:Be,upperWidth:je,lowerWidth:De,height:Fe,className:Oe}=_e,{animationEasing:ke,animationDuration:Me,animationBegin:$e,isUpdateAnimationActive:He}=_e;if(Ie!==+Ie||Be!==+Be||je!==+je||De!==+De||Fe!==+Fe||je===0&&De===0||Fe===0)return null;var Qe=clsx("recharts-trapezoid",Oe);return He?reactExports.createElement(Animate,{canBegin:Pe>0,from:{upperWidth:0,lowerWidth:0,height:Fe,x:Ie,y:Be},to:{upperWidth:je,lowerWidth:De,height:Fe,x:Ie,y:Be},duration:Me,animationEasing:ke,isActive:He},Ke=>{var{upperWidth:ze,lowerWidth:We,height:qe,x:Ye,y:Xe}=Ke;return reactExports.createElement(Animate,{canBegin:Pe>0,from:"0px ".concat(Pe===-1?1:Pe,"px"),to:"".concat(Pe,"px 0px"),attributeName:"strokeDasharray",begin:$e,duration:Me,easing:ke},reactExports.createElement("path",_extends$d({},filterProps(_e,!0),{className:Qe,d:getTrapezoidPath(Ye,Xe,ze,We,qe),ref:Ce})))}):reactExports.createElement("g",null,reactExports.createElement("path",_extends$d({},filterProps(_e,!0),{className:Qe,d:getTrapezoidPath(Ie,Be,je,De,Fe)})))},_excluded$h=["option","shapeType","propTransformer","activeClassName","isActive"];function _objectWithoutProperties$g(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$g(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$g(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}function ownKeys$s(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$s(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$s(Object(Ce),!0).forEach(function(Pe){_defineProperty$h(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$s(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$h(Ee,_e,Ce){return(_e=_toPropertyKey$g(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$g(Ee){var _e=_toPrimitive$g(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$g(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function defaultPropTransformer(Ee,_e){return _objectSpread$s(_objectSpread$s({},_e),Ee)}function isSymbolsProps(Ee,_e){return Ee==="symbols"}function ShapeSelector(Ee){var{shapeType:_e,elementProps:Ce}=Ee;switch(_e){case"rectangle":return reactExports.createElement(Rectangle$1,Ce);case"trapezoid":return reactExports.createElement(Trapezoid,Ce);case"sector":return reactExports.createElement(Sector,Ce);case"symbols":if(isSymbolsProps(_e))return reactExports.createElement(Symbols,Ce);break;default:return null}}function getPropsFromShapeOption(Ee){return reactExports.isValidElement(Ee)?Ee.props:Ee}function Shape(Ee){var{option:_e,shapeType:Ce,propTransformer:Pe=defaultPropTransformer,activeClassName:Re="recharts-active-shape",isActive:Ie}=Ee,Be=_objectWithoutProperties$g(Ee,_excluded$h),je;if(reactExports.isValidElement(_e))je=reactExports.cloneElement(_e,_objectSpread$s(_objectSpread$s({},Be),getPropsFromShapeOption(_e)));else if(typeof _e=="function")je=_e(Be);else if(isPlainObject(_e)&&typeof _e!="boolean"){var De=Pe(_e,Be);je=reactExports.createElement(ShapeSelector,{shapeType:Ce,elementProps:De})}else{var Fe=Be;je=reactExports.createElement(ShapeSelector,{shapeType:Ce,elementProps:Fe})}return Ie?reactExports.createElement(Layer,{className:Re},je):je}var useMouseEnterItemDispatch=(Ee,_e)=>{var Ce=useAppDispatch();return(Pe,Re)=>Ie=>{Ee?.(Pe,Re,Ie),Ce(setActiveMouseOverItemIndex({activeIndex:String(Re),activeDataKey:_e,activeCoordinate:Pe.tooltipPosition}))}},useMouseLeaveItemDispatch=Ee=>{var _e=useAppDispatch();return(Ce,Pe)=>Re=>{Ee?.(Ce,Pe,Re),_e(mouseLeaveItem())}},useMouseClickItemDispatch=(Ee,_e)=>{var Ce=useAppDispatch();return(Pe,Re)=>Ie=>{Ee?.(Pe,Re,Ie),Ce(setActiveClickItemIndex({activeIndex:String(Re),activeDataKey:_e,activeCoordinate:Pe.tooltipPosition}))}};function SetTooltipEntrySettings(Ee){var{fn:_e,args:Ce}=Ee,Pe=useAppDispatch(),Re=useIsPanorama();return reactExports.useEffect(()=>{if(!Re){var Ie=_e(Ce);return Pe(addTooltipEntrySettings(Ie)),()=>{Pe(removeTooltipEntrySettings(Ie))}}},[_e,Ce,Pe,Re]),null}var noop$3=()=>{};function SetLegendPayload(Ee){var{legendPayload:_e}=Ee,Ce=useAppDispatch(),Pe=useIsPanorama();return reactExports.useEffect(()=>Pe?noop$3:(Ce(addLegendPayload(_e)),()=>{Ce(removeLegendPayload(_e))}),[Ce,Pe,_e]),null}function SetPolarLegendPayload(Ee){var{legendPayload:_e}=Ee,Ce=useAppDispatch(),Pe=useAppSelector(selectChartLayout);return reactExports.useEffect(()=>Pe!=="centric"&&Pe!=="radial"?noop$3:(Ce(addLegendPayload(_e)),()=>{Ce(removeLegendPayload(_e))}),[Ce,Pe,_e]),null}function useAnimationId(Ee){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",Ce=reactExports.useRef(uniqueId(_e)),Pe=reactExports.useRef(Ee);return Pe.current!==Ee&&(Ce.current=uniqueId(_e),Pe.current=Ee),Ce.current}var _excluded$g=["onMouseEnter","onClick","onMouseLeave"];function _objectWithoutProperties$f(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$f(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$f(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}function ownKeys$r(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$r(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$r(Object(Ce),!0).forEach(function(Pe){_defineProperty$g(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$r(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$g(Ee,_e,Ce){return(_e=_toPropertyKey$f(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$f(Ee){var _e=_toPrimitive$f(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$f(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$c.apply(null,arguments)}function SetPiePayloadLegend(Ee){var _e=reactExports.useMemo(()=>filterProps(Ee,!1),[Ee]),Ce=reactExports.useMemo(()=>findAllByType(Ee.children,Cell),[Ee.children]),Pe=reactExports.useMemo(()=>({name:Ee.name,nameKey:Ee.nameKey,tooltipType:Ee.tooltipType,data:Ee.data,dataKey:Ee.dataKey,cx:Ee.cx,cy:Ee.cy,startAngle:Ee.startAngle,endAngle:Ee.endAngle,minAngle:Ee.minAngle,paddingAngle:Ee.paddingAngle,innerRadius:Ee.innerRadius,outerRadius:Ee.outerRadius,cornerRadius:Ee.cornerRadius,legendType:Ee.legendType,fill:Ee.fill,presentationProps:_e}),[Ee.cornerRadius,Ee.cx,Ee.cy,Ee.data,Ee.dataKey,Ee.endAngle,Ee.innerRadius,Ee.minAngle,Ee.name,Ee.nameKey,Ee.outerRadius,Ee.paddingAngle,Ee.startAngle,Ee.tooltipType,Ee.legendType,Ee.fill,_e]),Re=useAppSelector(Ie=>selectPieLegend(Ie,Pe,Ce));return reactExports.createElement(SetPolarLegendPayload,{legendPayload:Re})}function getTooltipEntrySettings$2(Ee){var{dataKey:_e,nameKey:Ce,sectors:Pe,stroke:Re,strokeWidth:Ie,fill:Be,name:je,hide:De,tooltipType:Fe}=Ee;return{dataDefinedOnItem:Pe?.map(Oe=>Oe.tooltipPayload),positions:Pe?.map(Oe=>Oe.tooltipPosition),settings:{stroke:Re,strokeWidth:Ie,fill:Be,dataKey:_e,nameKey:Ce,name:getTooltipNameProp(je,_e),hide:De,type:Fe,color:Be,unit:""}}}var getTextAnchor=(Ee,_e)=>Ee>_e?"start":Ee<_e?"end":"middle",getOuterRadius=(Ee,_e,Ce)=>typeof _e=="function"?_e(Ee):getPercentValue(_e,Ce,Ce*.8),parseCoordinateOfPie=(Ee,_e,Ce)=>{var{top:Pe,left:Re,width:Ie,height:Be}=_e,je=getMaxRadius(Ie,Be),De=Re+getPercentValue(Ee.cx,Ie,Ie/2),Fe=Pe+getPercentValue(Ee.cy,Be,Be/2),Oe=getPercentValue(Ee.innerRadius,je,0),ke=getOuterRadius(Ce,Ee.outerRadius,je),Me=Ee.maxRadius||Math.sqrt(Ie*Ie+Be*Be)/2;return{cx:De,cy:Fe,innerRadius:Oe,outerRadius:ke,maxRadius:Me}},parseDeltaAngle=(Ee,_e)=>{var Ce=mathSign(_e-Ee),Pe=Math.min(Math.abs(_e-Ee),360);return Ce*Pe},renderLabelLineItem=(Ee,_e)=>{if(reactExports.isValidElement(Ee))return reactExports.cloneElement(Ee,_e);if(typeof Ee=="function")return Ee(_e);var Ce=clsx("recharts-pie-label-line",typeof Ee!="boolean"?Ee.className:"");return reactExports.createElement(Curve,_extends$c({},_e,{type:"linear",className:Ce}))},renderLabelItem=(Ee,_e,Ce)=>{if(reactExports.isValidElement(Ee))return reactExports.cloneElement(Ee,_e);var Pe=Ce;if(typeof Ee=="function"&&(Pe=Ee(_e),reactExports.isValidElement(Pe)))return Pe;var Re=clsx("recharts-pie-label-text",typeof Ee!="boolean"&&typeof Ee!="function"?Ee.className:"");return reactExports.createElement(Text,_extends$c({},_e,{alignmentBaseline:"middle",className:Re}),Pe)};function PieLabels(Ee){var{sectors:_e,props:Ce,showLabels:Pe}=Ee,{label:Re,labelLine:Ie,dataKey:Be}=Ce;if(!Pe||!Re||!_e)return null;var je=filterProps(Ce,!1),De=filterProps(Re,!1),Fe=filterProps(Ie,!1),Oe=typeof Re=="object"&&"offsetRadius"in Re&&Re.offsetRadius||20,ke=_e.map((Me,$e)=>{var He=(Me.startAngle+Me.endAngle)/2,Qe=polarToCartesian(Me.cx,Me.cy,Me.outerRadius+Oe,He),Ke=_objectSpread$r(_objectSpread$r(_objectSpread$r(_objectSpread$r({},je),Me),{},{stroke:"none"},De),{},{index:$e,textAnchor:getTextAnchor(Qe.x,Me.cx)},Qe),ze=_objectSpread$r(_objectSpread$r(_objectSpread$r(_objectSpread$r({},je),Me),{},{fill:"none",stroke:Me.fill},Fe),{},{index:$e,points:[polarToCartesian(Me.cx,Me.cy,Me.outerRadius,He),Qe],key:"line"});return reactExports.createElement(Layer,{key:"label-".concat(Me.startAngle,"-").concat(Me.endAngle,"-").concat(Me.midAngle,"-").concat($e)},Ie&&renderLabelLineItem(Ie,ze),renderLabelItem(Re,Ke,getValueByDataKey(Me,Be)))});return reactExports.createElement(Layer,{className:"recharts-pie-labels"},ke)}function PieSectors(Ee){var{sectors:_e,activeShape:Ce,inactiveShape:Pe,allOtherPieProps:Re,showLabels:Ie}=Ee,Be=useAppSelector(selectActiveTooltipIndex),{onMouseEnter:je,onClick:De,onMouseLeave:Fe}=Re,Oe=_objectWithoutProperties$f(Re,_excluded$g),ke=useMouseEnterItemDispatch(je,Re.dataKey),Me=useMouseLeaveItemDispatch(Fe),$e=useMouseClickItemDispatch(De,Re.dataKey);return _e==null?null:reactExports.createElement(reactExports.Fragment,null,_e.map((He,Qe)=>{if(He?.startAngle===0&&He?.endAngle===0&&_e.length!==1)return null;var Ke=Ce&&String(Qe)===Be,ze=Be?Pe:null,We=Ke?Ce:ze,qe=_objectSpread$r(_objectSpread$r({},He),{},{stroke:He.stroke,tabIndex:-1,[DATA_ITEM_INDEX_ATTRIBUTE_NAME]:Qe,[DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]:Re.dataKey});return reactExports.createElement(Layer,_extends$c({tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(Oe,He,Qe),{onMouseEnter:ke(He,Qe),onMouseLeave:Me(He,Qe),onClick:$e(He,Qe),key:"sector-".concat(He?.startAngle,"-").concat(He?.endAngle,"-").concat(He.midAngle,"-").concat(Qe)}),reactExports.createElement(Shape,_extends$c({option:We,isActive:Ke,shapeType:"sector"},qe)))}),reactExports.createElement(PieLabels,{sectors:_e,props:Re,showLabels:Ie}))}function computePieSectors(Ee){var _e,{pieSettings:Ce,displayedData:Pe,cells:Re,offset:Ie}=Ee,{cornerRadius:Be,startAngle:je,endAngle:De,dataKey:Fe,nameKey:Oe,tooltipType:ke}=Ce,Me=Math.abs(Ce.minAngle),$e=parseDeltaAngle(je,De),He=Math.abs($e),Qe=Pe.length<=1?0:(_e=Ce.paddingAngle)!==null&&_e!==void 0?_e:0,Ke=Pe.filter(rr=>getValueByDataKey(rr,Fe,0)!==0).length,ze=(He>=360?Ke:Ke-1)*Qe,We=He-Ke*Me-ze,qe=Pe.reduce((rr,Je)=>{var er=getValueByDataKey(Je,Fe,0);return rr+(isNumber(er)?er:0)},0),Ye;if(qe>0){var Xe;Ye=Pe.map((rr,Je)=>{var er=getValueByDataKey(rr,Fe,0),or=getValueByDataKey(rr,Oe,Je),pr=parseCoordinateOfPie(Ce,Ie,rr),ar=(isNumber(er)?er:0)/qe,fr,gr=_objectSpread$r(_objectSpread$r({},rr),Re&&Re[Je]&&Re[Je].props);Je?fr=Xe.endAngle+mathSign($e)*Qe*(er!==0?1:0):fr=je;var Rr=fr+mathSign($e)*((er!==0?Me:0)+ar*We),Ir=(fr+Rr)/2,mr=(pr.innerRadius+pr.outerRadius)/2,Er=[{name:or,value:er,payload:gr,dataKey:Fe,type:ke}],Ar=polarToCartesian(pr.cx,pr.cy,mr,Ir);return Xe=_objectSpread$r(_objectSpread$r(_objectSpread$r(_objectSpread$r({},Ce.presentationProps),{},{percent:ar,cornerRadius:Be,name:or,tooltipPayload:Er,midAngle:Ir,middleRadius:mr,tooltipPosition:Ar},gr),pr),{},{value:getValueByDataKey(rr,Fe),startAngle:fr,endAngle:Rr,payload:gr,paddingAngle:mathSign($e)*Qe}),Xe})}return Ye}function SectorsWithAnimation(Ee){var{props:_e,previousSectorsRef:Ce}=Ee,{sectors:Pe,isAnimationActive:Re,animationBegin:Ie,animationDuration:Be,animationEasing:je,activeShape:De,inactiveShape:Fe,onAnimationStart:Oe,onAnimationEnd:ke}=_e,Me=useAnimationId(_e,"recharts-pie-"),$e=Ce.current,[He,Qe]=reactExports.useState(!0),Ke=reactExports.useCallback(()=>{typeof ke=="function"&&ke(),Qe(!1)},[ke]),ze=reactExports.useCallback(()=>{typeof Oe=="function"&&Oe(),Qe(!0)},[Oe]);return reactExports.createElement(Animate,{begin:Ie,duration:Be,isActive:Re,easing:je,from:{t:0},to:{t:1},onAnimationStart:ze,onAnimationEnd:Ke,key:Me},We=>{var{t:qe}=We,Ye=[],Xe=Pe&&Pe[0],rr=Xe.startAngle;return Pe.forEach((Je,er)=>{var or=$e&&$e[er],pr=er>0?get(Je,"paddingAngle",0):0;if(or){var ar=interpolateNumber$1(or.endAngle-or.startAngle,Je.endAngle-Je.startAngle),fr=_objectSpread$r(_objectSpread$r({},Je),{},{startAngle:rr+pr,endAngle:rr+ar(qe)+pr});Ye.push(fr),rr=fr.endAngle}else{var{endAngle:gr,startAngle:Rr}=Je,Ir=interpolateNumber$1(0,gr-Rr),mr=Ir(qe),Er=_objectSpread$r(_objectSpread$r({},Je),{},{startAngle:rr+pr,endAngle:rr+mr+pr});Ye.push(Er),rr=Er.endAngle}}),Ce.current=Ye,reactExports.createElement(Layer,null,reactExports.createElement(PieSectors,{sectors:Ye,activeShape:De,inactiveShape:Fe,allOtherPieProps:_e,showLabels:!He}))})}function RenderSectors(Ee){var{sectors:_e,isAnimationActive:Ce,activeShape:Pe,inactiveShape:Re}=Ee,Ie=reactExports.useRef(null),Be=Ie.current;return Ce&&_e&&_e.length&&(!Be||Be!==_e)?reactExports.createElement(SectorsWithAnimation,{props:Ee,previousSectorsRef:Ie}):reactExports.createElement(PieSectors,{sectors:_e,activeShape:Pe,inactiveShape:Re,allOtherPieProps:Ee,showLabels:!0})}function PieWithTouchMove(Ee){var{hide:_e,className:Ce,rootTabIndex:Pe}=Ee,Re=clsx("recharts-pie",Ce);return _e?null:reactExports.createElement(Layer,{tabIndex:Pe,className:Re},reactExports.createElement(RenderSectors,Ee))}var defaultPieProps={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Global.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function PieImpl(Ee){var _e=resolveDefaultProps(Ee,defaultPieProps),Ce=reactExports.useMemo(()=>findAllByType(Ee.children,Cell),[Ee.children]),Pe=filterProps(_e,!1),Re=reactExports.useMemo(()=>({name:_e.name,nameKey:_e.nameKey,tooltipType:_e.tooltipType,data:_e.data,dataKey:_e.dataKey,cx:_e.cx,cy:_e.cy,startAngle:_e.startAngle,endAngle:_e.endAngle,minAngle:_e.minAngle,paddingAngle:_e.paddingAngle,innerRadius:_e.innerRadius,outerRadius:_e.outerRadius,cornerRadius:_e.cornerRadius,legendType:_e.legendType,fill:_e.fill,presentationProps:Pe}),[_e.cornerRadius,_e.cx,_e.cy,_e.data,_e.dataKey,_e.endAngle,_e.innerRadius,_e.minAngle,_e.name,_e.nameKey,_e.outerRadius,_e.paddingAngle,_e.startAngle,_e.tooltipType,_e.legendType,_e.fill,Pe]),Ie=useAppSelector(Be=>selectPieSectors(Be,Re,Ce));return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$2,args:_objectSpread$r(_objectSpread$r({},_e),{},{sectors:Ie})}),reactExports.createElement(PieWithTouchMove,_extends$c({},_e,{sectors:Ie})))}class Pie extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$g(this,"id",uniqueId("recharts-pie-"))}render(){return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetPolarGraphicalItem,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),reactExports.createElement(SetPiePayloadLegend,this.props),reactExports.createElement(PieImpl,this.props),this.props.children)}}_defineProperty$g(Pie,"displayName","Pie");_defineProperty$g(Pie,"defaultProps",defaultPieProps);var selectChartOffset=createSelector([selectChartOffsetInternal],Ee=>{if(Ee)return{top:Ee.top,bottom:Ee.bottom,left:Ee.left,right:Ee.right}}),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(Ee,_e,Ce)=>{if(!(!Ee||_e==null||Ce==null))return{x:Ee.left,y:Ee.top,width:Math.max(0,_e-Ee.left-Ee.right),height:Math.max(0,Ce-Ee.top-Ee.bottom)}}),useXAxis=Ee=>{var _e=useIsPanorama();return useAppSelector(Ce=>selectAxisWithScale(Ce,"xAxis",Ee,_e))},useYAxis=Ee=>{var _e=useIsPanorama();return useAppSelector(Ce=>selectAxisWithScale(Ce,"yAxis",Ee,_e))},usePlotArea=()=>useAppSelector(selectPlotArea),useActiveTooltipDataPoints=()=>useAppSelector(selectActiveTooltipDataPoints);function ownKeys$q(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$q(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$q(Object(Ce),!0).forEach(function(Pe){_defineProperty$f(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$q(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$f(Ee,_e,Ce){return(_e=_toPropertyKey$e(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$e(Ee){var _e=_toPrimitive$e(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$e(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var renderActivePoint=Ee=>{var{point:_e,childIndex:Ce,mainColor:Pe,activeDot:Re,dataKey:Ie}=Ee;if(Re===!1||_e.x==null||_e.y==null)return null;var Be=_objectSpread$q(_objectSpread$q({index:Ce,dataKey:Ie,cx:_e.x,cy:_e.y,r:4,fill:Pe??"none",strokeWidth:2,stroke:"#fff",payload:_e.payload,value:_e.value},filterProps(Re,!1)),adaptEventHandlers(Re)),je;return reactExports.isValidElement(Re)?je=reactExports.cloneElement(Re,Be):typeof Re=="function"?je=Re(Be):je=reactExports.createElement(Dot,Be),reactExports.createElement(Layer,{className:"recharts-active-dot"},je)};function ActivePoints(Ee){var{points:_e,mainColor:Ce,activeDot:Pe,itemDataKey:Re}=Ee,Ie=useAppSelector(selectActiveTooltipIndex),Be=useActiveTooltipDataPoints();if(_e==null||Be==null)return null;var je=_e.find(De=>Be.includes(De.payload));return isNullish(je)?null:renderActivePoint({point:je,childIndex:Number(Ie),mainColor:Ce,dataKey:Re,activeDot:Pe})}var ReportBar=()=>{var Ee=useAppDispatch();return reactExports.useEffect(()=>(Ee(addBar()),()=>{Ee(removeBar())})),null},_excluded$f=["children"];function _objectWithoutProperties$e(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$e(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$e(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}var noop$2=()=>{},ErrorBarDirectionDispatchContext=reactExports.createContext({addErrorBar:noop$2,removeErrorBar:noop$2}),initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(Ee){var{children:_e}=Ee,Ce=_objectWithoutProperties$e(Ee,_excluded$f);return reactExports.createElement(ErrorBarContext.Provider,{value:Ce},_e)}var useErrorBarContext=()=>reactExports.useContext(ErrorBarContext),CartesianGraphicalItemContext=Ee=>{var{children:_e,xAxisId:Ce,yAxisId:Pe,zAxisId:Re,dataKey:Ie,data:Be,stackId:je,hide:De,type:Fe,barSize:Oe}=Ee,[ke,Me]=reactExports.useState([]),$e=reactExports.useCallback(Ke=>{Me(ze=>[...ze,Ke])},[Me]),He=reactExports.useCallback(Ke=>{Me(ze=>ze.filter(We=>We!==Ke))},[Me]),Qe=useIsPanorama();return reactExports.createElement(ErrorBarDirectionDispatchContext.Provider,{value:{addErrorBar:$e,removeErrorBar:He}},reactExports.createElement(SetCartesianGraphicalItem,{type:Fe,data:Be,xAxisId:Ce,yAxisId:Pe,zAxisId:Re,dataKey:Ie,errorBars:ke,stackId:je,hide:De,barSize:Oe,isPanorama:Qe}),_e)};function ReportErrorBarSettings(Ee){var{addErrorBar:_e,removeErrorBar:Ce}=reactExports.useContext(ErrorBarDirectionDispatchContext);return reactExports.useEffect(()=>(_e(Ee),()=>{Ce(Ee)}),[_e,Ce,Ee]),null}var _excluded$e=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function _defineProperty$e(Ee,_e,Ce){return(_e=_toPropertyKey$d(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$d(Ee){var _e=_toPrimitive$d(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$d(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$b.apply(null,arguments)}function _objectWithoutProperties$d(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$d(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$d(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}function ErrorBarImpl(Ee){var{direction:_e,width:Ce,dataKey:Pe,isAnimationActive:Re,animationBegin:Ie,animationDuration:Be,animationEasing:je}=Ee,De=_objectWithoutProperties$d(Ee,_excluded$e),Fe=filterProps(De,!1),{data:Oe,dataPointFormatter:ke,xAxisId:Me,yAxisId:$e,errorBarOffset:He}=useErrorBarContext(),Qe=useXAxis(Me),Ke=useYAxis($e);if(Qe?.scale==null||Ke?.scale==null||Oe==null||_e==="x"&&Qe.type!=="number")return null;var ze=Oe.map(We=>{var{x:qe,y:Ye,value:Xe,errorVal:rr}=ke(We,Pe,_e);if(!rr)return null;var Je=[],er,or;if(Array.isArray(rr)?[er,or]=rr:er=or=rr,_e==="x"){var{scale:pr}=Qe,ar=Ye+He,fr=ar+Ce,gr=ar-Ce,Rr=pr(Xe-er),Ir=pr(Xe+or);Je.push({x1:Ir,y1:fr,x2:Ir,y2:gr}),Je.push({x1:Rr,y1:ar,x2:Ir,y2:ar}),Je.push({x1:Rr,y1:fr,x2:Rr,y2:gr})}else if(_e==="y"){var{scale:mr}=Ke,Er=qe+He,Ar=Er-Ce,br=Er+Ce,wr=mr(Xe-er),jr=mr(Xe+or);Je.push({x1:Ar,y1:jr,x2:br,y2:jr}),Je.push({x1:Er,y1:wr,x2:Er,y2:jr}),Je.push({x1:Ar,y1:wr,x2:br,y2:wr})}var hr="".concat(qe+He,"px ").concat(Ye+He,"px");return reactExports.createElement(Layer,_extends$b({className:"recharts-errorBar",key:"bar-".concat(Je.map(_r=>"".concat(_r.x1,"-").concat(_r.x2,"-").concat(_r.y1,"-").concat(_r.y2)))},Fe),Je.map(_r=>{var Pr=Re?{transformOrigin:"".concat(_r.x1-5,"px")}:void 0;return reactExports.createElement(Animate,{from:{transform:"scaleY(0)",transformOrigin:hr},to:{transform:"scaleY(1)",transformOrigin:hr},begin:Ie,easing:je,isActive:Re,duration:Be,key:"line-".concat(_r.x1,"-").concat(_r.x2,"-").concat(_r.y1,"-").concat(_r.y2),style:{transformOrigin:hr}},reactExports.createElement("line",_extends$b({},_r,{style:Pr})))}))});return reactExports.createElement(Layer,{className:"recharts-errorBars"},ze)}var ErrorBarPreferredDirection=reactExports.createContext(void 0);function useErrorBarDirection(Ee){var _e=reactExports.useContext(ErrorBarPreferredDirection);return Ee??_e??"x"}function SetErrorBarPreferredDirection(Ee){var{direction:_e,children:Ce}=Ee;return reactExports.createElement(ErrorBarPreferredDirection.Provider,{value:_e},Ce)}var errorBarDefaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function ErrorBarInternal(Ee){var _e=useErrorBarDirection(Ee.direction),{width:Ce,isAnimationActive:Pe,animationBegin:Re,animationDuration:Ie,animationEasing:Be}=resolveDefaultProps(Ee,errorBarDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportErrorBarSettings,{dataKey:Ee.dataKey,direction:_e}),reactExports.createElement(ErrorBarImpl,_extends$b({},Ee,{direction:_e,width:Ce,isAnimationActive:Pe,animationBegin:Re,animationDuration:Ie,animationEasing:Be})))}class ErrorBar extends reactExports.Component{render(){return reactExports.createElement(ErrorBarInternal,this.props)}}_defineProperty$e(ErrorBar,"defaultProps",errorBarDefaultProps);_defineProperty$e(ErrorBar,"displayName","ErrorBar");var prefix="Invariant failed";function invariant$1(Ee,_e){throw new Error(prefix)}var _excluded$d=["x","y"];function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$a.apply(null,arguments)}function ownKeys$p(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$p(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$p(Object(Ce),!0).forEach(function(Pe){_defineProperty$d(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$p(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$d(Ee,_e,Ce){return(_e=_toPropertyKey$c(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$c(Ee){var _e=_toPrimitive$c(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$c(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function _objectWithoutProperties$c(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$c(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$c(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}function typeguardBarRectangleProps(Ee,_e){var{x:Ce,y:Pe}=Ee,Re=_objectWithoutProperties$c(Ee,_excluded$d),Ie="".concat(Ce),Be=parseInt(Ie,10),je="".concat(Pe),De=parseInt(je,10),Fe="".concat(_e.height||Re.height),Oe=parseInt(Fe,10),ke="".concat(_e.width||Re.width),Me=parseInt(ke,10);return _objectSpread$p(_objectSpread$p(_objectSpread$p(_objectSpread$p(_objectSpread$p({},_e),Re),Be?{x:Be}:{}),De?{y:De}:{}),{},{height:Oe,width:Me,name:_e.name,radius:_e.radius})}function BarRectangle(Ee){return reactExports.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},Ee))}var minPointSizeCallback=function Ee(_e){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(Pe,Re)=>{if(isNumber(_e))return _e;var Ie=isNumber(Pe)||isNullish(Pe);return Ie?_e(Pe,Re):(Ie||invariant$1(),Ce)}};function useNeedsClip(Ee,_e){var Ce,Pe,Re=useAppSelector(Fe=>selectXAxisSettings(Fe,Ee)),Ie=useAppSelector(Fe=>selectYAxisSettings(Fe,_e)),Be=(Ce=Re?.allowDataOverflow)!==null&&Ce!==void 0?Ce:implicitXAxis.allowDataOverflow,je=(Pe=Ie?.allowDataOverflow)!==null&&Pe!==void 0?Pe:implicitYAxis.allowDataOverflow,De=Be||je;return{needClip:De,needClipX:Be,needClipY:je}}function GraphicalItemClipPath(Ee){var{xAxisId:_e,yAxisId:Ce,clipPathId:Pe}=Ee,Re=usePlotArea(),{needClipX:Ie,needClipY:Be,needClip:je}=useNeedsClip(_e,Ce);if(!je)return null;var{x:De,y:Fe,width:Oe,height:ke}=Re;return reactExports.createElement("clipPath",{id:"clipPath-".concat(Pe)},reactExports.createElement("rect",{x:Ie?De:De-Oe/2,y:Be?Fe:Fe-ke/2,width:Ie?Oe:Oe*2,height:Be?ke:ke*2}))}var _excluded$c=["onMouseEnter","onMouseLeave","onClick"],_excluded2$5=["value","background","tooltipPosition"],_excluded3$1=["onMouseEnter","onClick","onMouseLeave"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$9.apply(null,arguments)}function ownKeys$o(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$o(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$o(Object(Ce),!0).forEach(function(Pe){_defineProperty$c(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$o(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$c(Ee,_e,Ce){return(_e=_toPropertyKey$b(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$b(Ee){var _e=_toPrimitive$b(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$b(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function _objectWithoutProperties$b(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$b(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$b(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}var computeLegendPayloadFromBarData=Ee=>{var{dataKey:_e,name:Ce,fill:Pe,legendType:Re,hide:Ie}=Ee;return[{inactive:Ie,dataKey:_e,type:Re,color:Pe,value:getTooltipNameProp(Ce,_e),payload:Ee}]};function getTooltipEntrySettings$1(Ee){var{dataKey:_e,stroke:Ce,strokeWidth:Pe,fill:Re,name:Ie,hide:Be,unit:je}=Ee;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:Ce,strokeWidth:Pe,fill:Re,dataKey:_e,nameKey:void 0,name:getTooltipNameProp(Ie,_e),hide:Be,type:Ee.tooltipType,color:Ee.fill,unit:je}}}function BarBackground(Ee){var _e=useAppSelector(selectActiveTooltipIndex),{data:Ce,dataKey:Pe,background:Re,allOtherBarProps:Ie}=Ee,{onMouseEnter:Be,onMouseLeave:je,onClick:De}=Ie,Fe=_objectWithoutProperties$b(Ie,_excluded$c),Oe=useMouseEnterItemDispatch(Be,Pe),ke=useMouseLeaveItemDispatch(je),Me=useMouseClickItemDispatch(De,Pe);if(!Re||Ce==null)return null;var $e=filterProps(Re,!1);return reactExports.createElement(reactExports.Fragment,null,Ce.map((He,Qe)=>{var{value:Ke,background:ze,tooltipPosition:We}=He,qe=_objectWithoutProperties$b(He,_excluded2$5);if(!ze)return null;var Ye=Oe(He,Qe),Xe=ke(He,Qe),rr=Me(He,Qe),Je=_objectSpread$o(_objectSpread$o(_objectSpread$o(_objectSpread$o(_objectSpread$o({option:Re,isActive:String(Qe)===_e},qe),{},{fill:"#eee"},ze),$e),adaptEventsOfChild(Fe,He,Qe)),{},{onMouseEnter:Ye,onMouseLeave:Xe,onClick:rr,dataKey:Pe,index:Qe,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$9({key:"background-bar-".concat(Qe)},Je))}))}function BarRectangles(Ee){var{data:_e,props:Ce,showLabels:Pe}=Ee,Re=filterProps(Ce,!1),{shape:Ie,dataKey:Be,activeBar:je}=Ce,De=useAppSelector(selectActiveTooltipIndex),Fe=useAppSelector(selectActiveTooltipDataKey),{onMouseEnter:Oe,onClick:ke,onMouseLeave:Me}=Ce,$e=_objectWithoutProperties$b(Ce,_excluded3$1),He=useMouseEnterItemDispatch(Oe,Be),Qe=useMouseLeaveItemDispatch(Me),Ke=useMouseClickItemDispatch(ke,Be);return _e?reactExports.createElement(reactExports.Fragment,null,_e.map((ze,We)=>{var qe=je&&String(We)===De&&(Fe==null||Be===Fe),Ye=qe?je:Ie,Xe=_objectSpread$o(_objectSpread$o(_objectSpread$o({},Re),ze),{},{isActive:qe,option:Ye,index:We,dataKey:Be});return reactExports.createElement(Layer,_extends$9({className:"recharts-bar-rectangle"},adaptEventsOfChild($e,ze,We),{onMouseEnter:He(ze,We),onMouseLeave:Qe(ze,We),onClick:Ke(ze,We),key:"rectangle-".concat(ze?.x,"-").concat(ze?.y,"-").concat(ze?.value,"-").concat(We)}),reactExports.createElement(BarRectangle,Xe))}),Pe&&LabelList.renderCallByParent(Ce,_e)):null}function RectanglesWithAnimation(Ee){var{props:_e,previousRectanglesRef:Ce}=Ee,{data:Pe,layout:Re,isAnimationActive:Ie,animationBegin:Be,animationDuration:je,animationEasing:De,onAnimationEnd:Fe,onAnimationStart:Oe}=_e,ke=Ce.current,Me=useAnimationId(_e,"recharts-bar-"),[$e,He]=reactExports.useState(!1),Qe=reactExports.useCallback(()=>{typeof Fe=="function"&&Fe(),He(!1)},[Fe]),Ke=reactExports.useCallback(()=>{typeof Oe=="function"&&Oe(),He(!0)},[Oe]);return reactExports.createElement(Animate,{begin:Be,duration:je,isActive:Ie,easing:De,from:{t:0},to:{t:1},onAnimationEnd:Qe,onAnimationStart:Ke,key:Me},ze=>{var{t:We}=ze,qe=We===1?Pe:Pe.map((Ye,Xe)=>{var rr=ke&&ke[Xe];if(rr){var Je=interpolateNumber$1(rr.x,Ye.x),er=interpolateNumber$1(rr.y,Ye.y),or=interpolateNumber$1(rr.width,Ye.width),pr=interpolateNumber$1(rr.height,Ye.height);return _objectSpread$o(_objectSpread$o({},Ye),{},{x:Je(We),y:er(We),width:or(We),height:pr(We)})}if(Re==="horizontal"){var ar=interpolateNumber$1(0,Ye.height),fr=ar(We);return _objectSpread$o(_objectSpread$o({},Ye),{},{y:Ye.y+Ye.height-fr,height:fr})}var gr=interpolateNumber$1(0,Ye.width),Rr=gr(We);return _objectSpread$o(_objectSpread$o({},Ye),{},{width:Rr})});return We>0&&(Ce.current=qe),reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:_e,data:qe,showLabels:!$e}))})}function RenderRectangles(Ee){var{data:_e,isAnimationActive:Ce}=Ee,Pe=reactExports.useRef(null);return Ce&&_e&&_e.length&&(Pe.current==null||Pe.current!==_e)?reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:Pe,props:Ee}):reactExports.createElement(BarRectangles,{props:Ee,data:_e,showLabels:!0})}var defaultMinPointSize=0,errorBarDataPointFormatter$1=(Ee,_e)=>{var Ce=Array.isArray(Ee.value)?Ee.value[1]:Ee.value;return{x:Ee.x,y:Ee.y,value:Ce,errorVal:getValueByDataKey(Ee,_e)}};class BarWithState extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$c(this,"id",uniqueId("recharts-bar-"))}render(){var{hide:_e,data:Ce,dataKey:Pe,className:Re,xAxisId:Ie,yAxisId:Be,needClip:je,background:De,id:Fe,layout:Oe}=this.props;if(_e)return null;var ke=clsx("recharts-bar",Re),Me=isNullish(Fe)?this.id:Fe;return reactExports.createElement(Layer,{className:ke},je&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:Me,xAxisId:Ie,yAxisId:Be})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:je?"url(#clipPath-".concat(Me,")"):null},reactExports.createElement(BarBackground,{data:Ce,dataKey:Pe,background:De,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)),reactExports.createElement(SetErrorBarPreferredDirection,{direction:Oe==="horizontal"?"y":"x"},this.props.children))}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Global.isSsr,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0};function BarImpl(Ee){var{xAxisId:_e,yAxisId:Ce,hide:Pe,legendType:Re,minPointSize:Ie,activeBar:Be,animationBegin:je,animationDuration:De,animationEasing:Fe,isAnimationActive:Oe}=resolveDefaultProps(Ee,defaultBarProps),{needClip:ke}=useNeedsClip(_e,Ce),Me=useChartLayout(),$e=useIsPanorama(),He=reactExports.useMemo(()=>({barSize:Ee.barSize,data:void 0,dataKey:Ee.dataKey,maxBarSize:Ee.maxBarSize,minPointSize:Ie,stackId:getNormalizedStackId(Ee.stackId)}),[Ee.barSize,Ee.dataKey,Ee.maxBarSize,Ie,Ee.stackId]),Qe=findAllByType(Ee.children,Cell),Ke=useAppSelector(qe=>selectBarRectangles(qe,_e,Ce,$e,He,Qe));if(Me!=="vertical"&&Me!=="horizontal")return null;var ze,We=Ke?.[0];return We==null||We.height==null||We.width==null?ze=0:ze=Me==="vertical"?We.height/2:We.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:_e,yAxisId:Ce,data:Ke,dataPointFormatter:errorBarDataPointFormatter$1,errorBarOffset:ze},reactExports.createElement(BarWithState,_extends$9({},Ee,{layout:Me,needClip:ke,data:Ke,xAxisId:_e,yAxisId:Ce,hide:Pe,legendType:Re,minPointSize:Ie,activeBar:Be,animationBegin:je,animationDuration:De,animationEasing:Fe,isAnimationActive:Oe})))}function computeBarRectangles(Ee){var{layout:_e,barSettings:{dataKey:Ce,minPointSize:Pe},pos:Re,bandSize:Ie,xAxis:Be,yAxis:je,xAxisTicks:De,yAxisTicks:Fe,stackedData:Oe,displayedData:ke,offset:Me,cells:$e}=Ee,He=_e==="horizontal"?je:Be,Qe=Oe?He.scale.domain():null,Ke=getBaseValueOfBar({numericAxis:He});return ke.map((ze,We)=>{var qe,Ye,Xe,rr,Je,er;Oe?qe=truncateByDomain(Oe[We],Qe):(qe=getValueByDataKey(ze,Ce),Array.isArray(qe)||(qe=[Ke,qe]));var or=minPointSizeCallback(Pe,defaultMinPointSize)(qe[1],We);if(_e==="horizontal"){var pr,[ar,fr]=[je.scale(qe[0]),je.scale(qe[1])];Ye=getCateCoordinateOfBar({axis:Be,ticks:De,bandSize:Ie,offset:Re.offset,entry:ze,index:We}),Xe=(pr=fr??ar)!==null&&pr!==void 0?pr:void 0,rr=Re.size;var gr=ar-fr;if(Je=isNan(gr)?0:gr,er={x:Ye,y:Me.top,width:rr,height:Me.height},Math.abs(or)>0&&Math.abs(Je)<Math.abs(or)){var Rr=mathSign(Je||or)*(Math.abs(or)-Math.abs(Je));Xe-=Rr,Je+=Rr}}else{var[Ir,mr]=[Be.scale(qe[0]),Be.scale(qe[1])];if(Ye=Ir,Xe=getCateCoordinateOfBar({axis:je,ticks:Fe,bandSize:Ie,offset:Re.offset,entry:ze,index:We}),rr=mr-Ir,Je=Re.size,er={x:Me.left,y:Xe,width:Me.width,height:Je},Math.abs(or)>0&&Math.abs(rr)<Math.abs(or)){var Er=mathSign(rr||or)*(Math.abs(or)-Math.abs(rr));rr+=Er}}var Ar=_objectSpread$o(_objectSpread$o({},ze),{},{x:Ye,y:Xe,width:rr,height:Je,value:Oe?qe:qe[1],payload:ze,background:er,tooltipPosition:{x:Ye+rr/2,y:Xe+Je/2}},$e&&$e[We]&&$e[We].props);return Ar})}class Bar extends reactExports.PureComponent{render(){return reactExports.createElement(CartesianGraphicalItemContext,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},reactExports.createElement(ReportBar,null),reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(this.props)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$1,args:this.props}),reactExports.createElement(BarImpl,this.props))}}_defineProperty$c(Bar,"displayName","Bar");_defineProperty$c(Bar,"defaultProps",defaultBarProps);function ownKeys$n(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$n(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$n(Object(Ce),!0).forEach(function(Pe){_defineProperty$b(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$n(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$b(Ee,_e,Ce){return(_e=_toPropertyKey$a(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$a(Ee){var _e=_toPrimitive$a(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$a(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var pickXAxisId=(Ee,_e)=>_e,pickYAxisId=(Ee,_e,Ce)=>Ce,pickIsPanorama=(Ee,_e,Ce,Pe)=>Pe,pickBarSettings=(Ee,_e,Ce,Pe,Re)=>Re,pickMaxBarSize=(Ee,_e,Ce,Pe,Re)=>Re.maxBarSize,pickCells=(Ee,_e,Ce,Pe,Re,Ie)=>Ie,getBarSize=(Ee,_e,Ce)=>{var Pe=Ce??Ee;if(!isNullish(Pe))return getPercentValue(Pe,_e,0)},selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,pickXAxisId,pickYAxisId,pickIsPanorama],(Ee,_e,Ce,Pe,Re)=>_e.filter(Ie=>Ee==="horizontal"?Ie.xAxisId===Ce:Ie.yAxisId===Pe).filter(Ie=>Ie.isPanorama===Re).filter(Ie=>Ie.hide===!1).filter(Ie=>Ie.type==="bar")),selectBarStackGroups=(Ee,_e,Ce,Pe)=>{var Re=selectChartLayout(Ee);return Re==="horizontal"?selectStackGroups(Ee,"yAxis",Ce,Pe):selectStackGroups(Ee,"xAxis",_e,Pe)},selectBarCartesianAxisSize=(Ee,_e,Ce)=>{var Pe=selectChartLayout(Ee);return Pe==="horizontal"?selectCartesianAxisSize(Ee,"xAxis",_e):selectCartesianAxisSize(Ee,"yAxis",Ce)};function isStacked(Ee){return Ee.stackId!=null&&Ee.dataKey!=null}var combineBarSizeList=(Ee,_e,Ce)=>{var Pe={},Re=Ee.filter(isStacked),Ie=Ee.filter(Fe=>Fe.stackId==null),Be=Re.reduce((Fe,Oe)=>(Fe[Oe.stackId]||(Fe[Oe.stackId]=[]),Fe[Oe.stackId].push(Oe),Fe),Pe),je=Object.entries(Be).map(Fe=>{var[Oe,ke]=Fe,Me=ke.map(He=>He.dataKey),$e=getBarSize(_e,Ce,ke[0].barSize);return{stackId:Oe,dataKeys:Me,barSize:$e}}),De=Ie.map(Fe=>{var Oe=[Fe.dataKey].filter(Me=>Me!=null),ke=getBarSize(_e,Ce,Fe.barSize);return{stackId:void 0,dataKeys:Oe,barSize:ke}});return[...je,...De]},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(Ee,_e,Ce,Pe,Re)=>{var Ie,Be,je=selectChartLayout(Ee),De=selectRootMaxBarSize(Ee),{maxBarSize:Fe}=Re,Oe=isNullish(Fe)?De:Fe,ke,Me;return je==="horizontal"?(ke=selectAxisWithScale(Ee,"xAxis",_e,Pe),Me=selectTicksOfGraphicalItem(Ee,"xAxis",_e,Pe)):(ke=selectAxisWithScale(Ee,"yAxis",Ce,Pe),Me=selectTicksOfGraphicalItem(Ee,"yAxis",Ce,Pe)),(Ie=(Be=getBandSizeOfAxis(ke,Me,!0))!==null&&Be!==void 0?Be:Oe)!==null&&Ie!==void 0?Ie:0},selectAxisBandSize=(Ee,_e,Ce,Pe)=>{var Re=selectChartLayout(Ee),Ie,Be;return Re==="horizontal"?(Ie=selectAxisWithScale(Ee,"xAxis",_e,Pe),Be=selectTicksOfGraphicalItem(Ee,"xAxis",_e,Pe)):(Ie=selectAxisWithScale(Ee,"yAxis",Ce,Pe),Be=selectTicksOfGraphicalItem(Ee,"yAxis",Ce,Pe)),getBandSizeOfAxis(Ie,Be)};function getBarPositions(Ee,_e,Ce,Pe,Re){var Ie=Pe.length;if(!(Ie<1)){var Be=getPercentValue(Ee,Ce,0,!0),je,De=[];if(isWellBehavedNumber(Pe[0].barSize)){var Fe=!1,Oe=Ce/Ie,ke=Pe.reduce((ze,We)=>ze+(We.barSize||0),0);ke+=(Ie-1)*Be,ke>=Ce&&(ke-=(Ie-1)*Be,Be=0),ke>=Ce&&Oe>0&&(Fe=!0,Oe*=.9,ke=Ie*Oe);var Me=(Ce-ke)/2>>0,$e={offset:Me-Be,size:0};je=Pe.reduce((ze,We)=>{var qe,Ye={stackId:We.stackId,dataKeys:We.dataKeys,position:{offset:$e.offset+$e.size+Be,size:Fe?Oe:(qe=We.barSize)!==null&&qe!==void 0?qe:0}},Xe=[...ze,Ye];return $e=Xe[Xe.length-1].position,Xe},De)}else{var He=getPercentValue(_e,Ce,0,!0);Ce-2*He-(Ie-1)*Be<=0&&(Be=0);var Qe=(Ce-2*He-(Ie-1)*Be)/Ie;Qe>1&&(Qe>>=0);var Ke=isWellBehavedNumber(Re)?Math.min(Qe,Re):Qe;je=Pe.reduce((ze,We,qe)=>[...ze,{stackId:We.stackId,dataKeys:We.dataKeys,position:{offset:He+(Qe+Be)*qe+(Qe-Ke)/2,size:Ke}}],De)}return je}}var combineAllBarPositions=(Ee,_e,Ce,Pe,Re,Ie,Be)=>{var je=isNullish(Be)?_e:Be,De=getBarPositions(Ce,Pe,Re!==Ie?Re:Ie,Ee,je);return Re!==Ie&&De!=null&&(De=De.map(Fe=>_objectSpread$n(_objectSpread$n({},Fe),{},{position:_objectSpread$n(_objectSpread$n({},Fe.position),{},{offset:Fe.position.offset-Re/2})}))),De},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,pickMaxBarSize],combineAllBarPositions),selectXAxisWithScale$1=(Ee,_e,Ce,Pe)=>selectAxisWithScale(Ee,"xAxis",_e,Pe),selectYAxisWithScale$1=(Ee,_e,Ce,Pe)=>selectAxisWithScale(Ee,"yAxis",Ce,Pe),selectXAxisTicks$1=(Ee,_e,Ce,Pe)=>selectTicksOfGraphicalItem(Ee,"xAxis",_e,Pe),selectYAxisTicks$1=(Ee,_e,Ce,Pe)=>selectTicksOfGraphicalItem(Ee,"yAxis",Ce,Pe),selectBarPosition=createSelector([selectAllBarPositions,pickBarSettings],(Ee,_e)=>{if(Ee!=null){var Ce=Ee.find(Pe=>Pe.stackId===_e.stackId&&Pe.dataKeys.includes(_e.dataKey));if(Ce!=null)return Ce.position}}),combineStackedData=(Ee,_e)=>{if(!(!Ee||_e?.dataKey==null)){var{stackId:Ce}=_e;if(Ce!=null){var Pe=Ee[Ce];if(Pe){var{stackedData:Re}=Pe;if(Re){var Ie=Re.find(Be=>Be.key===_e.dataKey);return Ie}}}}},selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarSettings],(Ee,_e)=>{if(Ee.some(Ce=>Ce.type==="bar"&&_e.dataKey===Ce.dataKey&&_e.stackId===Ce.stackId&&_e.stackId===Ce.stackId))return _e}),selectStackedDataOfItem=createSelector([selectBarStackGroups,pickBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanorama,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells],(Ee,_e,Ce,Pe,Re,Ie,Be,je,De,Fe,Oe,ke)=>{var{chartData:Me,dataStartIndex:$e,dataEndIndex:He}=je;if(!(Oe==null||Ie==null||Be!=="horizontal"&&Be!=="vertical"||_e==null||Ce==null||Pe==null||Re==null||De==null)){var{data:Qe}=Oe,Ke;if(Qe!=null&&Qe.length>0?Ke=Qe:Ke=Me?.slice($e,He+1),Ke!=null)return computeBarRectangles({layout:Be,barSettings:Oe,pos:Ie,bandSize:De,xAxis:_e,yAxis:Ce,xAxisTicks:Pe,yAxisTicks:Re,stackedData:Fe,displayedData:Ke,offset:Ee,cells:ke})}}),ChartDataContextProvider=Ee=>{var{chartData:_e}=Ee,Ce=useAppDispatch(),Pe=useIsPanorama();return reactExports.useEffect(()=>Pe?()=>{}:(Ce(setChartData(_e)),()=>{Ce(setChartData(void 0))}),[_e,Ce,Pe]),null},initialState$3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$3,reducers:{setBrushSettings(Ee,_e){return _e.payload==null?initialState$3:_e.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function _defineProperty$a(Ee,_e,Ce){return(_e=_toPropertyKey$9(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$9(Ee){var _e=_toPrimitive$9(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$9(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}class ScaleHelper{static create(_e){return new ScaleHelper(_e)}constructor(_e){this.scale=_e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(_e){var{bandAware:Ce,position:Pe}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_e!==void 0){if(Pe)switch(Pe){case"start":return this.scale(_e);case"middle":{var Re=this.bandwidth?this.bandwidth()/2:0;return this.scale(_e)+Re}case"end":{var Ie=this.bandwidth?this.bandwidth():0;return this.scale(_e)+Ie}default:return this.scale(_e)}if(Ce){var Be=this.bandwidth?this.bandwidth()/2:0;return this.scale(_e)+Be}return this.scale(_e)}}isInRange(_e){var Ce=this.range(),Pe=Ce[0],Re=Ce[Ce.length-1];return Pe<=Re?_e>=Pe&&_e<=Re:_e>=Re&&_e<=Pe}}_defineProperty$a(ScaleHelper,"EPS",1e-4);function normalizeAngle(Ee){return(Ee%180+180)%180}var getAngledRectangleWidth=function Ee(_e){var{width:Ce,height:Pe}=_e,Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Ie=normalizeAngle(Re),Be=Ie*Math.PI/180,je=Math.atan(Pe/Ce),De=Be>je&&Be<Math.PI-je?Pe/Math.sin(Be):Ce/Math.cos(Be);return Math.abs(De)},initialState$2={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$2,reducers:{addDot:(Ee,_e)=>{Ee.dots.push(_e.payload)},removeDot:(Ee,_e)=>{var Ce=current(Ee).dots.findIndex(Pe=>Pe===_e.payload);Ce!==-1&&Ee.dots.splice(Ce,1)},addArea:(Ee,_e)=>{Ee.areas.push(_e.payload)},removeArea:(Ee,_e)=>{var Ce=current(Ee).areas.findIndex(Pe=>Pe===_e.payload);Ce!==-1&&Ee.areas.splice(Ce,1)},addLine:(Ee,_e)=>{Ee.lines.push(_e.payload)},removeLine:(Ee,_e)=>{var Ce=current(Ee).lines.findIndex(Pe=>Pe===_e.payload);Ce!==-1&&Ee.lines.splice(Ce,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=Ee=>{var{children:_e}=Ee,[Ce]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),Pe=usePlotArea();if(Pe==null)return null;var{x:Re,y:Ie,width:Be,height:je}=Pe;return reactExports.createElement(ClipPathIdContext.Provider,{value:Ce},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:Ce},reactExports.createElement("rect",{x:Re,y:Ie,height:je,width:Be}))),_e)};function shallowEqual(Ee,_e){for(var Ce in Ee)if({}.hasOwnProperty.call(Ee,Ce)&&(!{}.hasOwnProperty.call(_e,Ce)||Ee[Ce]!==_e[Ce]))return!1;for(var Pe in _e)if({}.hasOwnProperty.call(_e,Pe)&&!{}.hasOwnProperty.call(Ee,Pe))return!1;return!0}function getEveryNthWithCondition(Ee,_e,Ce){if(_e<1)return[];if(_e===1&&Ce===void 0)return Ee;for(var Pe=[],Re=0;Re<Ee.length;Re+=_e)Pe.push(Ee[Re]);return Pe}function getAngledTickWidth(Ee,_e,Ce){var Pe={width:Ee.width+_e.width,height:Ee.height+_e.height};return getAngledRectangleWidth(Pe,Ce)}function getTickBoundaries(Ee,_e,Ce){var Pe=Ce==="width",{x:Re,y:Ie,width:Be,height:je}=Ee;return _e===1?{start:Pe?Re:Ie,end:Pe?Re+Be:Ie+je}:{start:Pe?Re+Be:Ie+je,end:Pe?Re:Ie}}function isVisible(Ee,_e,Ce,Pe,Re){if(Ee*_e<Ee*Pe||Ee*_e>Ee*Re)return!1;var Ie=Ce();return Ee*(_e-Ee*Ie/2-Pe)>=0&&Ee*(_e+Ee*Ie/2-Re)<=0}function getNumberIntervalTicks(Ee,_e){return getEveryNthWithCondition(Ee,_e+1)}function getEquidistantTicks(Ee,_e,Ce,Pe,Re){for(var Ie=(Pe||[]).slice(),{start:Be,end:je}=_e,De=0,Fe=1,Oe=Be,ke=function(){var He=Pe?.[De];if(He===void 0)return{v:getEveryNthWithCondition(Pe,Fe)};var Qe=De,Ke,ze=()=>(Ke===void 0&&(Ke=Ce(He,Qe)),Ke),We=He.coordinate,qe=De===0||isVisible(Ee,We,ze,Oe,je);qe||(De=0,Oe=Be,Fe+=1),qe&&(Oe=We+Ee*(ze()/2+Re),De+=Fe)},Me;Fe<=Ie.length;)if(Me=ke(),Me)return Me.v;return[]}function ownKeys$m(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$m(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$m(Object(Ce),!0).forEach(function(Pe){_defineProperty$9(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$m(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$9(Ee,_e,Ce){return(_e=_toPropertyKey$8(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$8(Ee){var _e=_toPrimitive$8(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$8(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function getTicksEnd(Ee,_e,Ce,Pe,Re){for(var Ie=(Pe||[]).slice(),Be=Ie.length,{start:je}=_e,{end:De}=_e,Fe=function(Me){var $e=Ie[Me],He,Qe=()=>(He===void 0&&(He=Ce($e,Me)),He);if(Me===Be-1){var Ke=Ee*($e.coordinate+Ee*Qe()/2-De);Ie[Me]=$e=_objectSpread$m(_objectSpread$m({},$e),{},{tickCoord:Ke>0?$e.coordinate-Ke*Ee:$e.coordinate})}else Ie[Me]=$e=_objectSpread$m(_objectSpread$m({},$e),{},{tickCoord:$e.coordinate});var ze=isVisible(Ee,$e.tickCoord,Qe,je,De);ze&&(De=$e.tickCoord-Ee*(Qe()/2+Re),Ie[Me]=_objectSpread$m(_objectSpread$m({},$e),{},{isShow:!0}))},Oe=Be-1;Oe>=0;Oe--)Fe(Oe);return Ie}function getTicksStart(Ee,_e,Ce,Pe,Re,Ie){var Be=(Pe||[]).slice(),je=Be.length,{start:De,end:Fe}=_e;if(Ie){var Oe=Pe[je-1],ke=Ce(Oe,je-1),Me=Ee*(Oe.coordinate+Ee*ke/2-Fe);Be[je-1]=Oe=_objectSpread$m(_objectSpread$m({},Oe),{},{tickCoord:Me>0?Oe.coordinate-Me*Ee:Oe.coordinate});var $e=isVisible(Ee,Oe.tickCoord,()=>ke,De,Fe);$e&&(Fe=Oe.tickCoord-Ee*(ke/2+Re),Be[je-1]=_objectSpread$m(_objectSpread$m({},Oe),{},{isShow:!0}))}for(var He=Ie?je-1:je,Qe=function(We){var qe=Be[We],Ye,Xe=()=>(Ye===void 0&&(Ye=Ce(qe,We)),Ye);if(We===0){var rr=Ee*(qe.coordinate-Ee*Xe()/2-De);Be[We]=qe=_objectSpread$m(_objectSpread$m({},qe),{},{tickCoord:rr<0?qe.coordinate-rr*Ee:qe.coordinate})}else Be[We]=qe=_objectSpread$m(_objectSpread$m({},qe),{},{tickCoord:qe.coordinate});var Je=isVisible(Ee,qe.tickCoord,Xe,De,Fe);Je&&(De=qe.tickCoord+Ee*(Xe()/2+Re),Be[We]=_objectSpread$m(_objectSpread$m({},qe),{},{isShow:!0}))},Ke=0;Ke<He;Ke++)Qe(Ke);return Be}function getTicks(Ee,_e,Ce){var{tick:Pe,ticks:Re,viewBox:Ie,minTickGap:Be,orientation:je,interval:De,tickFormatter:Fe,unit:Oe,angle:ke}=Ee;if(!Re||!Re.length||!Pe)return[];if(isNumber(De)||Global.isSsr){var Me;return(Me=getNumberIntervalTicks(Re,isNumber(De)?De:0))!==null&&Me!==void 0?Me:[]}var $e=[],He=je==="top"||je==="bottom"?"width":"height",Qe=Oe&&He==="width"?getStringSize(Oe,{fontSize:_e,letterSpacing:Ce}):{width:0,height:0},Ke=(qe,Ye)=>{var Xe=typeof Fe=="function"?Fe(qe.value,Ye):qe.value;return He==="width"?getAngledTickWidth(getStringSize(Xe,{fontSize:_e,letterSpacing:Ce}),Qe,ke):getStringSize(Xe,{fontSize:_e,letterSpacing:Ce})[He]},ze=Re.length>=2?mathSign(Re[1].coordinate-Re[0].coordinate):1,We=getTickBoundaries(Ie,ze,He);return De==="equidistantPreserveStart"?getEquidistantTicks(ze,We,Ke,Re,Be):(De==="preserveStart"||De==="preserveStartEnd"?$e=getTicksStart(ze,We,Ke,Re,Be,De==="preserveStartEnd"):$e=getTicksEnd(ze,We,Ke,Re,Be),$e.filter(qe=>qe.isShow))}var _excluded$b=["viewBox"],_excluded2$4=["viewBox"];function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$8.apply(null,arguments)}function ownKeys$l(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$l(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$l(Object(Ce),!0).forEach(function(Pe){_defineProperty$8(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$l(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _objectWithoutProperties$a(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$a(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$a(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}function _defineProperty$8(Ee,_e,Ce){return(_e=_toPropertyKey$7(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$7(Ee){var _e=_toPrimitive$7(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$7(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}class CartesianAxis extends reactExports.Component{constructor(_e){super(_e),this.tickRefs=reactExports.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(_e,Ce){var{viewBox:Pe}=_e,Re=_objectWithoutProperties$a(_e,_excluded$b),Ie=this.props,{viewBox:Be}=Ie,je=_objectWithoutProperties$a(Ie,_excluded2$4);return!shallowEqual(Pe,Be)||!shallowEqual(Re,je)||!shallowEqual(Ce,this.state)}getTickLineCoord(_e){var{x:Ce,y:Pe,width:Re,height:Ie,orientation:Be,tickSize:je,mirror:De,tickMargin:Fe}=this.props,Oe,ke,Me,$e,He,Qe,Ke=De?-1:1,ze=_e.tickSize||je,We=isNumber(_e.tickCoord)?_e.tickCoord:_e.coordinate;switch(Be){case"top":Oe=ke=_e.coordinate,$e=Pe+ +!De*Ie,Me=$e-Ke*ze,Qe=Me-Ke*Fe,He=We;break;case"left":Me=$e=_e.coordinate,ke=Ce+ +!De*Re,Oe=ke-Ke*ze,He=Oe-Ke*Fe,Qe=We;break;case"right":Me=$e=_e.coordinate,ke=Ce+ +De*Re,Oe=ke+Ke*ze,He=Oe+Ke*Fe,Qe=We;break;default:Oe=ke=_e.coordinate,$e=Pe+ +De*Ie,Me=$e+Ke*ze,Qe=Me+Ke*Fe,He=We;break}return{line:{x1:Oe,y1:Me,x2:ke,y2:$e},tick:{x:He,y:Qe}}}getTickTextAnchor(){var{orientation:_e,mirror:Ce}=this.props,Pe;switch(_e){case"left":Pe=Ce?"start":"end";break;case"right":Pe=Ce?"end":"start";break;default:Pe="middle";break}return Pe}getTickVerticalAnchor(){var{orientation:_e,mirror:Ce}=this.props;switch(_e){case"left":case"right":return"middle";case"top":return Ce?"start":"end";default:return Ce?"end":"start"}}renderAxisLine(){var{x:_e,y:Ce,width:Pe,height:Re,orientation:Ie,mirror:Be,axisLine:je}=this.props,De=_objectSpread$l(_objectSpread$l(_objectSpread$l({},filterProps(this.props,!1)),filterProps(je,!1)),{},{fill:"none"});if(Ie==="top"||Ie==="bottom"){var Fe=+(Ie==="top"&&!Be||Ie==="bottom"&&Be);De=_objectSpread$l(_objectSpread$l({},De),{},{x1:_e,y1:Ce+Fe*Re,x2:_e+Pe,y2:Ce+Fe*Re})}else{var Oe=+(Ie==="left"&&!Be||Ie==="right"&&Be);De=_objectSpread$l(_objectSpread$l({},De),{},{x1:_e+Oe*Pe,y1:Ce,x2:_e+Oe*Pe,y2:Ce+Re})}return reactExports.createElement("line",_extends$8({},De,{className:clsx("recharts-cartesian-axis-line",get(je,"className"))}))}static renderTickItem(_e,Ce,Pe){var Re,Ie=clsx(Ce.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(_e))Re=reactExports.cloneElement(_e,_objectSpread$l(_objectSpread$l({},Ce),{},{className:Ie}));else if(typeof _e=="function")Re=_e(_objectSpread$l(_objectSpread$l({},Ce),{},{className:Ie}));else{var Be="recharts-cartesian-axis-tick-value";typeof _e!="boolean"&&(Be=clsx(Be,_e.className)),Re=reactExports.createElement(Text,_extends$8({},Ce,{className:Be}),Pe)}return Re}renderTicks(_e,Ce){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:Re,stroke:Ie,tick:Be,tickFormatter:je,unit:De}=this.props,Fe=getTicks(_objectSpread$l(_objectSpread$l({},this.props),{},{ticks:Pe}),_e,Ce),Oe=this.getTickTextAnchor(),ke=this.getTickVerticalAnchor(),Me=filterProps(this.props,!1),$e=filterProps(Be,!1),He=_objectSpread$l(_objectSpread$l({},Me),{},{fill:"none"},filterProps(Re,!1)),Qe=Fe.map((Ke,ze)=>{var{line:We,tick:qe}=this.getTickLineCoord(Ke),Ye=_objectSpread$l(_objectSpread$l(_objectSpread$l(_objectSpread$l({textAnchor:Oe,verticalAnchor:ke},Me),{},{stroke:"none",fill:Ie},$e),qe),{},{index:ze,payload:Ke,visibleTicksCount:Fe.length,tickFormatter:je});return reactExports.createElement(Layer,_extends$8({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Ke.value,"-").concat(Ke.coordinate,"-").concat(Ke.tickCoord)},adaptEventsOfChild(this.props,Ke,ze)),Re&&reactExports.createElement("line",_extends$8({},He,We,{className:clsx("recharts-cartesian-axis-tick-line",get(Re,"className"))})),Be&&CartesianAxis.renderTickItem(Be,Ye,"".concat(typeof je=="function"?je(Ke.value,ze):Ke.value).concat(De||"")))});return Qe.length>0?reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks"},Qe):null}render(){var{axisLine:_e,width:Ce,height:Pe,className:Re,hide:Ie}=this.props;if(Ie)return null;var{ticks:Be}=this.props;return Ce!=null&&Ce<=0||Pe!=null&&Pe<=0?null:reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",Re),ref:je=>{if(je){var De=je.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(De);var Fe=De[0];if(Fe){var Oe=window.getComputedStyle(Fe).fontSize,ke=window.getComputedStyle(Fe).letterSpacing;(Oe!==this.state.fontSize||ke!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(Fe).fontSize,letterSpacing:window.getComputedStyle(Fe).letterSpacing})}}}},_e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,Be),Label.renderCallByParent(this.props))}}_defineProperty$8(CartesianAxis,"displayName","CartesianAxis");_defineProperty$8(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$a=["x1","y1","x2","y2","key"],_excluded2$3=["offset"],_excluded3=["xAxisId","yAxisId"],_excluded4=["xAxisId","yAxisId"];function ownKeys$k(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$k(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$k(Object(Ce),!0).forEach(function(Pe){_defineProperty$7(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$k(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$7(Ee,_e,Ce){return(_e=_toPropertyKey$6(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$6(Ee){var _e=_toPrimitive$6(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$6(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$7.apply(null,arguments)}function _objectWithoutProperties$9(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$9(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$9(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}var Background=Ee=>{var{fill:_e}=Ee;if(!_e||_e==="none")return null;var{fillOpacity:Ce,x:Pe,y:Re,width:Ie,height:Be,ry:je}=Ee;return reactExports.createElement("rect",{x:Pe,y:Re,ry:je,width:Ie,height:Be,stroke:"none",fill:_e,fillOpacity:Ce,className:"recharts-cartesian-grid-bg"})};function renderLineItem(Ee,_e){var Ce;if(reactExports.isValidElement(Ee))Ce=reactExports.cloneElement(Ee,_e);else if(typeof Ee=="function")Ce=Ee(_e);else{var{x1:Pe,y1:Re,x2:Ie,y2:Be,key:je}=_e,De=_objectWithoutProperties$9(_e,_excluded$a),Fe=filterProps(De,!1),{offset:Oe}=Fe,ke=_objectWithoutProperties$9(Fe,_excluded2$3);Ce=reactExports.createElement("line",_extends$7({},ke,{x1:Pe,y1:Re,x2:Ie,y2:Be,fill:"none",key:je}))}return Ce}function HorizontalGridLines(Ee){var{x:_e,width:Ce,horizontal:Pe=!0,horizontalPoints:Re}=Ee;if(!Pe||!Re||!Re.length)return null;var{xAxisId:Ie,yAxisId:Be}=Ee,je=_objectWithoutProperties$9(Ee,_excluded3),De=Re.map((Fe,Oe)=>{var ke=_objectSpread$k(_objectSpread$k({},je),{},{x1:_e,y1:Fe,x2:_e+Ce,y2:Fe,key:"line-".concat(Oe),index:Oe});return renderLineItem(Pe,ke)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},De)}function VerticalGridLines(Ee){var{y:_e,height:Ce,vertical:Pe=!0,verticalPoints:Re}=Ee;if(!Pe||!Re||!Re.length)return null;var{xAxisId:Ie,yAxisId:Be}=Ee,je=_objectWithoutProperties$9(Ee,_excluded4),De=Re.map((Fe,Oe)=>{var ke=_objectSpread$k(_objectSpread$k({},je),{},{x1:Fe,y1:_e,x2:Fe,y2:_e+Ce,key:"line-".concat(Oe),index:Oe});return renderLineItem(Pe,ke)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},De)}function HorizontalStripes(Ee){var{horizontalFill:_e,fillOpacity:Ce,x:Pe,y:Re,width:Ie,height:Be,horizontalPoints:je,horizontal:De=!0}=Ee;if(!De||!_e||!_e.length)return null;var Fe=je.map(ke=>Math.round(ke+Re-Re)).sort((ke,Me)=>ke-Me);Re!==Fe[0]&&Fe.unshift(0);var Oe=Fe.map((ke,Me)=>{var $e=!Fe[Me+1],He=$e?Re+Be-ke:Fe[Me+1]-ke;if(He<=0)return null;var Qe=Me%_e.length;return reactExports.createElement("rect",{key:"react-".concat(Me),y:ke,x:Pe,height:He,width:Ie,stroke:"none",fill:_e[Qe],fillOpacity:Ce,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},Oe)}function VerticalStripes(Ee){var{vertical:_e=!0,verticalFill:Ce,fillOpacity:Pe,x:Re,y:Ie,width:Be,height:je,verticalPoints:De}=Ee;if(!_e||!Ce||!Ce.length)return null;var Fe=De.map(ke=>Math.round(ke+Re-Re)).sort((ke,Me)=>ke-Me);Re!==Fe[0]&&Fe.unshift(0);var Oe=Fe.map((ke,Me)=>{var $e=!Fe[Me+1],He=$e?Re+Be-ke:Fe[Me+1]-ke;if(He<=0)return null;var Qe=Me%Ce.length;return reactExports.createElement("rect",{key:"react-".concat(Me),x:ke,y:Ie,width:He,height:je,stroke:"none",fill:Ce[Qe],fillOpacity:Pe,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},Oe)}var defaultVerticalCoordinatesGenerator=(Ee,_e)=>{var{xAxis:Ce,width:Pe,height:Re,offset:Ie}=Ee;return getCoordinatesOfGrid(getTicks(_objectSpread$k(_objectSpread$k(_objectSpread$k({},CartesianAxis.defaultProps),Ce),{},{ticks:getTicksOfAxis(Ce),viewBox:{x:0,y:0,width:Pe,height:Re}})),Ie.left,Ie.left+Ie.width,_e)},defaultHorizontalCoordinatesGenerator=(Ee,_e)=>{var{yAxis:Ce,width:Pe,height:Re,offset:Ie}=Ee;return getCoordinatesOfGrid(getTicks(_objectSpread$k(_objectSpread$k(_objectSpread$k({},CartesianAxis.defaultProps),Ce),{},{ticks:getTicksOfAxis(Ce),viewBox:{x:0,y:0,width:Pe,height:Re}})),Ie.top,Ie.top+Ie.height,_e)},defaultProps$3={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function CartesianGrid(Ee){var _e=useChartWidth(),Ce=useChartHeight(),Pe=useOffsetInternal(),Re=_objectSpread$k(_objectSpread$k({},resolveDefaultProps(Ee,defaultProps$3)),{},{x:isNumber(Ee.x)?Ee.x:Pe.left,y:isNumber(Ee.y)?Ee.y:Pe.top,width:isNumber(Ee.width)?Ee.width:Pe.width,height:isNumber(Ee.height)?Ee.height:Pe.height}),{xAxisId:Ie,yAxisId:Be,x:je,y:De,width:Fe,height:Oe,syncWithTicks:ke,horizontalValues:Me,verticalValues:$e}=Re,He=useIsPanorama(),Qe=useAppSelector(or=>selectAxisPropsNeededForCartesianGridTicksGenerator(or,"xAxis",Ie,He)),Ke=useAppSelector(or=>selectAxisPropsNeededForCartesianGridTicksGenerator(or,"yAxis",Be,He));if(!isNumber(Fe)||Fe<=0||!isNumber(Oe)||Oe<=0||!isNumber(je)||je!==+je||!isNumber(De)||De!==+De)return null;var ze=Re.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,We=Re.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:qe,verticalPoints:Ye}=Re;if((!qe||!qe.length)&&typeof We=="function"){var Xe=Me&&Me.length,rr=We({yAxis:Ke?_objectSpread$k(_objectSpread$k({},Ke),{},{ticks:Xe?Me:Ke.ticks}):void 0,width:_e,height:Ce,offset:Pe},Xe?!0:ke);warn(Array.isArray(rr),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof rr,"]")),Array.isArray(rr)&&(qe=rr)}if((!Ye||!Ye.length)&&typeof ze=="function"){var Je=$e&&$e.length,er=ze({xAxis:Qe?_objectSpread$k(_objectSpread$k({},Qe),{},{ticks:Je?$e:Qe.ticks}):void 0,width:_e,height:Ce,offset:Pe},Je?!0:ke);warn(Array.isArray(er),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof er,"]")),Array.isArray(er)&&(Ye=er)}return reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:Re.fill,fillOpacity:Re.fillOpacity,x:Re.x,y:Re.y,width:Re.width,height:Re.height,ry:Re.ry}),reactExports.createElement(HorizontalStripes,_extends$7({},Re,{horizontalPoints:qe})),reactExports.createElement(VerticalStripes,_extends$7({},Re,{verticalPoints:Ye})),reactExports.createElement(HorizontalGridLines,_extends$7({},Re,{offset:Pe,horizontalPoints:qe,xAxis:Qe,yAxis:Ke})),reactExports.createElement(VerticalGridLines,_extends$7({},Re,{offset:Pe,verticalPoints:Ye,xAxis:Qe,yAxis:Ke})))}CartesianGrid.displayName="CartesianGrid";var selectXAxisWithScale=(Ee,_e,Ce,Pe)=>selectAxisWithScale(Ee,"xAxis",_e,Pe),selectXAxisTicks=(Ee,_e,Ce,Pe)=>selectTicksOfGraphicalItem(Ee,"xAxis",_e,Pe),selectYAxisWithScale=(Ee,_e,Ce,Pe)=>selectAxisWithScale(Ee,"yAxis",Ce,Pe),selectYAxisTicks=(Ee,_e,Ce,Pe)=>selectTicksOfGraphicalItem(Ee,"yAxis",Ce,Pe),selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks],(Ee,_e,Ce,Pe,Re)=>isCategoricalAxis(Ee,"xAxis")?getBandSizeOfAxis(_e,Pe,!1):getBandSizeOfAxis(Ce,Re,!1)),pickLineSettings=(Ee,_e,Ce,Pe,Re)=>Re,selectSynchronisedLineSettings=createSelector([selectUnfilteredCartesianItems,pickLineSettings],(Ee,_e)=>{if(Ee.some(Ce=>Ce.type==="line"&&_e.dataKey===Ce.dataKey&&_e.data===Ce.data))return _e}),selectLinePoints=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectSynchronisedLineSettings,selectBandSize,selectChartDataWithIndexesIfNotInPanorama],(Ee,_e,Ce,Pe,Re,Ie,Be,je)=>{var{chartData:De,dataStartIndex:Fe,dataEndIndex:Oe}=je;if(!(Ie==null||_e==null||Ce==null||Pe==null||Re==null||Pe.length===0||Re.length===0||Be==null)){var{dataKey:ke,data:Me}=Ie,$e;if(Me!=null&&Me.length>0?$e=Me:$e=De?.slice(Fe,Oe+1),$e!=null)return computeLinePoints({layout:Ee,xAxis:_e,yAxis:Ce,xAxisTicks:Pe,yAxisTicks:Re,dataKey:ke,bandSize:Be,displayedData:$e})}}),_excluded$9=["type","layout","connectNulls","needClip"],_excluded2$2=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function _objectWithoutProperties$8(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$8(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$8(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}function ownKeys$j(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$j(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$j(Object(Ce),!0).forEach(function(Pe){_defineProperty$6(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$j(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$6(Ee,_e,Ce){return(_e=_toPropertyKey$5(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$5(Ee){var _e=_toPrimitive$5(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$5(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$6.apply(null,arguments)}var computeLegendPayloadFromAreaData=Ee=>{var{dataKey:_e,name:Ce,stroke:Pe,legendType:Re,hide:Ie}=Ee;return[{inactive:Ie,dataKey:_e,type:Re,color:Pe,value:getTooltipNameProp(Ce,_e),payload:Ee}]};function getTooltipEntrySettings(Ee){var{dataKey:_e,data:Ce,stroke:Pe,strokeWidth:Re,fill:Ie,name:Be,hide:je,unit:De}=Ee;return{dataDefinedOnItem:Ce,positions:void 0,settings:{stroke:Pe,strokeWidth:Re,fill:Ie,dataKey:_e,nameKey:void 0,name:getTooltipNameProp(Be,_e),hide:je,type:Ee.tooltipType,color:Ee.stroke,unit:De}}}var generateSimpleStrokeDasharray=(Ee,_e)=>"".concat(_e,"px ").concat(Ee-_e,"px");function repeat(Ee,_e){for(var Ce=Ee.length%2!==0?[...Ee,0]:Ee,Pe=[],Re=0;Re<_e;++Re)Pe=[...Pe,...Ce];return Pe}var getStrokeDasharray=(Ee,_e,Ce)=>{var Pe=Ce.reduce((ke,Me)=>ke+Me);if(!Pe)return generateSimpleStrokeDasharray(_e,Ee);for(var Re=Math.floor(Ee/Pe),Ie=Ee%Pe,Be=_e-Ee,je=[],De=0,Fe=0;De<Ce.length;Fe+=Ce[De],++De)if(Fe+Ce[De]>Ie){je=[...Ce.slice(0,De),Ie-Fe];break}var Oe=je.length%2===0?[0,Be]:[Be];return[...repeat(Ce,Re),...je,...Oe].map(ke=>"".concat(ke,"px")).join(", ")};function renderDotItem(Ee,_e){var Ce;if(reactExports.isValidElement(Ee))Ce=reactExports.cloneElement(Ee,_e);else if(typeof Ee=="function")Ce=Ee(_e);else{var Pe=clsx("recharts-line-dot",typeof Ee!="boolean"?Ee.className:"");Ce=reactExports.createElement(Dot,_extends$6({},_e,{className:Pe}))}return Ce}function shouldRenderDots(Ee,_e){return Ee==null?!1:_e?!0:Ee.length===1}function Dots(Ee){var{clipPathId:_e,points:Ce,props:Pe}=Ee,{dot:Re,dataKey:Ie,needClip:Be}=Pe;if(!shouldRenderDots(Ce,Re))return null;var je=isClipDot(Re),De=filterProps(Pe,!1),Fe=filterProps(Re,!0),Oe=Ce.map((Me,$e)=>{var He=_objectSpread$j(_objectSpread$j(_objectSpread$j({key:"dot-".concat($e),r:3},De),Fe),{},{index:$e,cx:Me.x,cy:Me.y,dataKey:Ie,value:Me.value,payload:Me.payload,points:Ce});return renderDotItem(Re,He)}),ke={clipPath:Be?"url(#clipPath-".concat(je?"":"dots-").concat(_e,")"):null};return reactExports.createElement(Layer,_extends$6({className:"recharts-line-dots",key:"dots"},ke),Oe)}function StaticCurve(Ee){var{clipPathId:_e,pathRef:Ce,points:Pe,strokeDasharray:Re,props:Ie,showLabels:Be}=Ee,{type:je,layout:De,connectNulls:Fe,needClip:Oe}=Ie,ke=_objectWithoutProperties$8(Ie,_excluded$9),Me=_objectSpread$j(_objectSpread$j({},filterProps(ke,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:Oe?"url(#clipPath-".concat(_e,")"):null,points:Pe,type:je,layout:De,connectNulls:Fe,strokeDasharray:Re??Ie.strokeDasharray});return reactExports.createElement(reactExports.Fragment,null,Pe?.length>1&&reactExports.createElement(Curve,_extends$6({},Me,{pathRef:Ce})),reactExports.createElement(Dots,{points:Pe,clipPathId:_e,props:Ie}),Be&&LabelList.renderCallByParent(Ie,Pe))}function getTotalLength(Ee){try{return Ee&&Ee.getTotalLength&&Ee.getTotalLength()||0}catch{return 0}}function CurveWithAnimation(Ee){var{clipPathId:_e,props:Ce,pathRef:Pe,previousPointsRef:Re,longestAnimatedLengthRef:Ie}=Ee,{points:Be,strokeDasharray:je,isAnimationActive:De,animationBegin:Fe,animationDuration:Oe,animationEasing:ke,animateNewValues:Me,width:$e,height:He,onAnimationEnd:Qe,onAnimationStart:Ke}=Ce,ze=Re.current,We=useAnimationId(Ce,"recharts-line-"),[qe,Ye]=reactExports.useState(!1),Xe=reactExports.useCallback(()=>{typeof Qe=="function"&&Qe(),Ye(!1)},[Qe]),rr=reactExports.useCallback(()=>{typeof Ke=="function"&&Ke(),Ye(!0)},[Ke]),Je=getTotalLength(Pe.current),er=Ie.current;return reactExports.createElement(Animate,{begin:Fe,duration:Oe,isActive:De,easing:ke,from:{t:0},to:{t:1},onAnimationEnd:Xe,onAnimationStart:rr,key:We},or=>{var{t:pr}=or,ar=interpolateNumber$1(er,Je+er),fr=Math.min(ar(pr),Je),gr;if(je){var Rr="".concat(je).split(/[,\s]+/gim).map(Er=>parseFloat(Er));gr=getStrokeDasharray(fr,Je,Rr)}else gr=generateSimpleStrokeDasharray(Je,fr);if(ze){var Ir=ze.length/Be.length,mr=pr===1?Be:Be.map((Er,Ar)=>{var br=Math.floor(Ar*Ir);if(ze[br]){var wr=ze[br],jr=interpolateNumber$1(wr.x,Er.x),hr=interpolateNumber$1(wr.y,Er.y);return _objectSpread$j(_objectSpread$j({},Er),{},{x:jr(pr),y:hr(pr)})}if(Me){var _r=interpolateNumber$1($e*2,Er.x),Pr=interpolateNumber$1(He/2,Er.y);return _objectSpread$j(_objectSpread$j({},Er),{},{x:_r(pr),y:Pr(pr)})}return _objectSpread$j(_objectSpread$j({},Er),{},{x:Er.x,y:Er.y})});return Re.current=mr,reactExports.createElement(StaticCurve,{props:Ce,points:mr,clipPathId:_e,pathRef:Pe,showLabels:!qe,strokeDasharray:gr})}return pr>0&&Je>0&&(Re.current=Be,Ie.current=fr),reactExports.createElement(StaticCurve,{props:Ce,points:Be,clipPathId:_e,pathRef:Pe,showLabels:!qe,strokeDasharray:gr})})}function RenderCurve(Ee){var{clipPathId:_e,props:Ce}=Ee,{points:Pe,isAnimationActive:Re}=Ce,Ie=reactExports.useRef(null),Be=reactExports.useRef(0),je=reactExports.useRef(null),De=Ie.current;return Re&&Pe&&Pe.length&&De!==Pe?reactExports.createElement(CurveWithAnimation,{props:Ce,clipPathId:_e,previousPointsRef:Ie,longestAnimatedLengthRef:Be,pathRef:je}):reactExports.createElement(StaticCurve,{props:Ce,points:Pe,clipPathId:_e,pathRef:je,showLabels:!0})}var errorBarDataPointFormatter=(Ee,_e)=>({x:Ee.x,y:Ee.y,value:Ee.value,errorVal:getValueByDataKey(Ee.payload,_e)});class LineWithState extends reactExports.Component{constructor(){super(...arguments),_defineProperty$6(this,"id",uniqueId("recharts-line-"))}render(){var _e,{hide:Ce,dot:Pe,points:Re,className:Ie,xAxisId:Be,yAxisId:je,top:De,left:Fe,width:Oe,height:ke,id:Me,needClip:$e,layout:He}=this.props;if(Ce)return null;var Qe=clsx("recharts-line",Ie),Ke=isNullish(Me)?this.id:Me,{r:ze=3,strokeWidth:We=2}=(_e=filterProps(Pe,!1))!==null&&_e!==void 0?_e:{r:3,strokeWidth:2},qe=isClipDot(Pe),Ye=ze*2+We;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Layer,{className:Qe},$e&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:Ke,xAxisId:Be,yAxisId:je}),!qe&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(Ke)},reactExports.createElement("rect",{x:Fe-Ye/2,y:De-Ye/2,width:Oe+Ye,height:ke+Ye}))),reactExports.createElement(RenderCurve,{props:this.props,clipPathId:Ke}),reactExports.createElement(SetErrorBarPreferredDirection,{direction:He==="horizontal"?"y":"x"},reactExports.createElement(SetErrorBarContext,{xAxisId:Be,yAxisId:je,data:Re,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:0},this.props.children))),reactExports.createElement(ActivePoints,{activeDot:this.props.activeDot,points:Re,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var defaultLineProps={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Global.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function LineImpl(Ee){var _e=resolveDefaultProps(Ee,defaultLineProps),{activeDot:Ce,animateNewValues:Pe,animationBegin:Re,animationDuration:Ie,animationEasing:Be,connectNulls:je,dot:De,hide:Fe,isAnimationActive:Oe,label:ke,legendType:Me,xAxisId:$e,yAxisId:He}=_e,Qe=_objectWithoutProperties$8(_e,_excluded2$2),{needClip:Ke}=useNeedsClip($e,He),{height:ze,width:We,x:qe,y:Ye}=usePlotArea(),Xe=useChartLayout(),rr=useIsPanorama(),Je=reactExports.useMemo(()=>({dataKey:Ee.dataKey,data:Ee.data}),[Ee.dataKey,Ee.data]),er=useAppSelector(or=>selectLinePoints(or,$e,He,rr,Je));return Xe!=="horizontal"&&Xe!=="vertical"?null:reactExports.createElement(LineWithState,_extends$6({},Qe,{connectNulls:je,dot:De,activeDot:Ce,animateNewValues:Pe,animationBegin:Re,animationDuration:Ie,animationEasing:Be,isAnimationActive:Oe,hide:Fe,label:ke,legendType:Me,xAxisId:$e,yAxisId:He,points:er,layout:Xe,height:ze,width:We,left:qe,top:Ye,needClip:Ke}))}function computeLinePoints(Ee){var{layout:_e,xAxis:Ce,yAxis:Pe,xAxisTicks:Re,yAxisTicks:Ie,dataKey:Be,bandSize:je,displayedData:De}=Ee;return De.map((Fe,Oe)=>{var ke=getValueByDataKey(Fe,Be);return _e==="horizontal"?{x:getCateCoordinateOfLine({axis:Ce,ticks:Re,bandSize:je,entry:Fe,index:Oe}),y:isNullish(ke)?null:Pe.scale(ke),value:ke,payload:Fe}:{x:isNullish(ke)?null:Ce.scale(ke),y:getCateCoordinateOfLine({axis:Pe,ticks:Ie,bandSize:je,entry:Fe,index:Oe}),value:ke,payload:Fe}})}class Line extends reactExports.PureComponent{render(){return reactExports.createElement(CartesianGraphicalItemContext,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData(this.props)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings,args:this.props}),reactExports.createElement(LineImpl,this.props))}}_defineProperty$6(Line,"displayName","Line");_defineProperty$6(Line,"defaultProps",defaultLineProps);function ownKeys$i(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$i(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$i(Object(Ce),!0).forEach(function(Pe){_defineProperty$5(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$i(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$5(Ee,_e,Ce){return(_e=_toPropertyKey$4(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$4(Ee){var _e=_toPrimitive$4(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$4(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var initialState$1={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$1,reducers:{addXAxis(Ee,_e){Ee.xAxis[_e.payload.id]=_e.payload},removeXAxis(Ee,_e){delete Ee.xAxis[_e.payload.id]},addYAxis(Ee,_e){Ee.yAxis[_e.payload.id]=_e.payload},removeYAxis(Ee,_e){delete Ee.yAxis[_e.payload.id]},addZAxis(Ee,_e){Ee.zAxis[_e.payload.id]=_e.payload},removeZAxis(Ee,_e){delete Ee.zAxis[_e.payload.id]},updateYAxisWidth(Ee,_e){var{id:Ce,width:Pe}=_e.payload;Ee.yAxis[Ce]&&(Ee.yAxis[Ce]=_objectSpread$i(_objectSpread$i({},Ee.yAxis[Ce]),{},{width:Pe}))}}}),{addXAxis,removeXAxis,addYAxis,removeYAxis,addZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,_excluded$8=["children"],_excluded2$1=["dangerouslySetInnerHTML","ticks"];function _defineProperty$4(Ee,_e,Ce){return(_e=_toPropertyKey$3(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$3(Ee){var _e=_toPrimitive$3(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$3(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$5.apply(null,arguments)}function _objectWithoutProperties$7(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$7(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$7(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}function SetXAxisSettings(Ee){var _e=useAppDispatch(),Ce=reactExports.useMemo(()=>{var{children:Ie}=Ee,Be=_objectWithoutProperties$7(Ee,_excluded$8);return Be},[Ee]),Pe=useAppSelector(Ie=>selectXAxisSettings(Ie,Ce.id)),Re=Ce===Pe;return reactExports.useEffect(()=>(_e(addXAxis(Ce)),()=>{_e(removeXAxis(Ce))}),[Ce,_e]),Re?Ee.children:null}var XAxisImpl=Ee=>{var{xAxisId:_e,className:Ce}=Ee,Pe=useAppSelector(selectAxisViewBox),Re=useIsPanorama(),Ie="xAxis",Be=useAppSelector($e=>selectAxisScale($e,Ie,_e,Re)),je=useAppSelector($e=>selectTicksOfAxis($e,Ie,_e,Re)),De=useAppSelector($e=>selectXAxisSize($e,_e)),Fe=useAppSelector($e=>selectXAxisPosition($e,_e));if(De==null||Fe==null)return null;var{dangerouslySetInnerHTML:Oe,ticks:ke}=Ee,Me=_objectWithoutProperties$7(Ee,_excluded2$1);return reactExports.createElement(CartesianAxis,_extends$5({},Me,{scale:Be,x:Fe.x,y:Fe.y,width:De.width,height:De.height,className:clsx("recharts-".concat(Ie," ").concat(Ie),Ce),viewBox:Pe,ticks:je}))},XAxisSettingsDispatcher=Ee=>{var _e,Ce,Pe,Re,Ie;return reactExports.createElement(SetXAxisSettings,{interval:(_e=Ee.interval)!==null&&_e!==void 0?_e:"preserveEnd",id:Ee.xAxisId,scale:Ee.scale,type:Ee.type,padding:Ee.padding,allowDataOverflow:Ee.allowDataOverflow,domain:Ee.domain,dataKey:Ee.dataKey,allowDuplicatedCategory:Ee.allowDuplicatedCategory,allowDecimals:Ee.allowDecimals,tickCount:Ee.tickCount,includeHidden:(Ce=Ee.includeHidden)!==null&&Ce!==void 0?Ce:!1,reversed:Ee.reversed,ticks:Ee.ticks,height:Ee.height,orientation:Ee.orientation,mirror:Ee.mirror,hide:Ee.hide,unit:Ee.unit,name:Ee.name,angle:(Pe=Ee.angle)!==null&&Pe!==void 0?Pe:0,minTickGap:(Re=Ee.minTickGap)!==null&&Re!==void 0?Re:5,tick:(Ie=Ee.tick)!==null&&Ie!==void 0?Ie:!0,tickFormatter:Ee.tickFormatter},reactExports.createElement(XAxisImpl,Ee))};class XAxis extends reactExports.Component{render(){return reactExports.createElement(XAxisSettingsDispatcher,this.props)}}_defineProperty$4(XAxis,"displayName","XAxis");_defineProperty$4(XAxis,"defaultProps",{allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,height:implicitXAxis.height,hide:!1,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tickCount:implicitXAxis.tickCount,type:implicitXAxis.type,xAxisId:0});var getCalculatedYAxisWidth=Ee=>{var{ticks:_e,label:Ce,labelGapWithTick:Pe=5,tickSize:Re=0,tickMargin:Ie=0}=Ee,Be=0;if(_e){_e.forEach(Oe=>{if(Oe){var ke=Oe.getBoundingClientRect();ke.width>Be&&(Be=ke.width)}});var je=Ce?Ce.getBoundingClientRect().width:0,De=Re+Ie,Fe=Be+De+je+(Ce?Pe:0);return Math.round(Fe)}return 0},_excluded$7=["dangerouslySetInnerHTML","ticks"];function _defineProperty$3(Ee,_e,Ce){return(_e=_toPropertyKey$2(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$2(Ee){var _e=_toPrimitive$2(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$2(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$4.apply(null,arguments)}function _objectWithoutProperties$6(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$6(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$6(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}function SetYAxisSettings(Ee){var _e=useAppDispatch();return reactExports.useEffect(()=>(_e(addYAxis(Ee)),()=>{_e(removeYAxis(Ee))}),[Ee,_e]),null}var YAxisImpl=Ee=>{var _e,{yAxisId:Ce,className:Pe,width:Re,label:Ie}=Ee,Be=reactExports.useRef(null),je=reactExports.useRef(null),De=useAppSelector(selectAxisViewBox),Fe=useIsPanorama(),Oe=useAppDispatch(),ke="yAxis",Me=useAppSelector(qe=>selectAxisScale(qe,ke,Ce,Fe)),$e=useAppSelector(qe=>selectYAxisSize(qe,Ce)),He=useAppSelector(qe=>selectYAxisPosition(qe,Ce)),Qe=useAppSelector(qe=>selectTicksOfAxis(qe,ke,Ce,Fe));if(reactExports.useLayoutEffect(()=>{var qe;if(!(Re!=="auto"||!$e||isLabelContentAFunction(Ie)||reactExports.isValidElement(Ie))){var Ye=Be.current,Xe=Ye==null||(qe=Ye.tickRefs)===null||qe===void 0?void 0:qe.current,{tickSize:rr,tickMargin:Je}=Ye.props,er=getCalculatedYAxisWidth({ticks:Xe,label:je.current,labelGapWithTick:5,tickSize:rr,tickMargin:Je});Math.round($e.width)!==Math.round(er)&&Oe(updateYAxisWidth({id:Ce,width:er}))}},[Be,Be==null||(_e=Be.current)===null||_e===void 0||(_e=_e.tickRefs)===null||_e===void 0?void 0:_e.current,$e?.width,$e,Oe,Ie,Ce,Re]),$e==null||He==null)return null;var{dangerouslySetInnerHTML:Ke,ticks:ze}=Ee,We=_objectWithoutProperties$6(Ee,_excluded$7);return reactExports.createElement(CartesianAxis,_extends$4({},We,{ref:Be,labelRef:je,scale:Me,x:He.x,y:He.y,width:$e.width,height:$e.height,className:clsx("recharts-".concat(ke," ").concat(ke),Pe),viewBox:De,ticks:Qe}))},YAxisSettingsDispatcher=Ee=>{var _e,Ce,Pe,Re,Ie;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:(_e=Ee.interval)!==null&&_e!==void 0?_e:"preserveEnd",id:Ee.yAxisId,scale:Ee.scale,type:Ee.type,domain:Ee.domain,allowDataOverflow:Ee.allowDataOverflow,dataKey:Ee.dataKey,allowDuplicatedCategory:Ee.allowDuplicatedCategory,allowDecimals:Ee.allowDecimals,tickCount:Ee.tickCount,padding:Ee.padding,includeHidden:(Ce=Ee.includeHidden)!==null&&Ce!==void 0?Ce:!1,reversed:Ee.reversed,ticks:Ee.ticks,width:Ee.width,orientation:Ee.orientation,mirror:Ee.mirror,hide:Ee.hide,unit:Ee.unit,name:Ee.name,angle:(Pe=Ee.angle)!==null&&Pe!==void 0?Pe:0,minTickGap:(Re=Ee.minTickGap)!==null&&Re!==void 0?Re:5,tick:(Ie=Ee.tick)!==null&&Ie!==void 0?Ie:!0,tickFormatter:Ee.tickFormatter}),reactExports.createElement(YAxisImpl,Ee))},YAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,hide:!1,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tickCount:implicitYAxis.tickCount,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0};class YAxis extends reactExports.Component{render(){return reactExports.createElement(YAxisSettingsDispatcher,this.props)}}_defineProperty$3(YAxis,"displayName","YAxis");_defineProperty$3(YAxis,"defaultProps",YAxisDefaultProps);var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var Ee=requireReact();function _e(De,Fe){return De===Fe&&(De!==0||1/De===1/Fe)||De!==De&&Fe!==Fe}var Ce=typeof Object.is=="function"?Object.is:_e,Pe=Ee.useSyncExternalStore,Re=Ee.useRef,Ie=Ee.useEffect,Be=Ee.useMemo,je=Ee.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(De,Fe,Oe,ke,Me){var $e=Re(null);if($e.current===null){var He={hasValue:!1,value:null};$e.current=He}else He=$e.current;$e=Be(function(){function Ke(Xe){if(!ze){if(ze=!0,We=Xe,Xe=ke(Xe),Me!==void 0&&He.hasValue){var rr=He.value;if(Me(rr,Xe))return qe=rr}return qe=Xe}if(rr=qe,Ce(We,Xe))return rr;var Je=ke(Xe);return Me!==void 0&&Me(rr,Je)?(We=Xe,rr):(We=Xe,qe=Je)}var ze=!1,We,qe,Ye=Oe===void 0?null:Oe;return[function(){return Ke(Fe())},Ye===null?void 0:function(){return Ke(Ye())}]},[Fe,Oe,ke,Me]);var Qe=Pe(De,$e[0],$e[1]);return Ie(function(){He.hasValue=!0,He.value=Qe},[Qe]),je(Qe),Qe},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}requireWithSelector();function defaultNoopBatch(Ee){Ee()}function createListenerCollection(){let Ee=null,_e=null;return{clear(){Ee=null,_e=null},notify(){defaultNoopBatch(()=>{let Ce=Ee;for(;Ce;)Ce.callback(),Ce=Ce.next})},get(){const Ce=[];let Pe=Ee;for(;Pe;)Ce.push(Pe),Pe=Pe.next;return Ce},subscribe(Ce){let Pe=!0;const Re=_e={callback:Ce,next:null,prev:_e};return Re.prev?Re.prev.next=Re:Ee=Re,function(){!Pe||Ee===null||(Pe=!1,Re.next?Re.next.prev=Re.prev:_e=Re.prev,Re.prev?Re.prev.next=Re.next:Ee=Re.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(Ee,_e){let Ce,Pe=nullListeners,Re=0,Ie=!1;function Be(Qe){Oe();const Ke=Pe.subscribe(Qe);let ze=!1;return()=>{ze||(ze=!0,Ke(),ke())}}function je(){Pe.notify()}function De(){He.onStateChange&&He.onStateChange()}function Fe(){return Ie}function Oe(){Re++,Ce||(Ce=Ee.subscribe(De),Pe=createListenerCollection())}function ke(){Re--,Ce&&Re===0&&(Ce(),Ce=void 0,Pe.clear(),Pe=nullListeners)}function Me(){Ie||(Ie=!0,Oe())}function $e(){Ie&&(Ie=!1,ke())}const He={addNestedSub:Be,notifyNestedSubs:je,handleChangeWrapper:De,isSubscribed:Fe,trySubscribe:Me,tryUnsubscribe:$e,getListeners:()=>Pe};return He}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const Ee=gT[ContextKey]??=new Map;let _e=Ee.get(reactExports.createContext);return _e||(_e=reactExports.createContext(null),Ee.set(reactExports.createContext,_e)),_e}var ReactReduxContext=getContext();function Provider(Ee){const{children:_e,context:Ce,serverState:Pe,store:Re}=Ee,Ie=reactExports.useMemo(()=>{const De=createSubscription(Re);return{store:Re,subscription:De,getServerState:Pe?()=>Pe:void 0}},[Re,Pe]),Be=reactExports.useMemo(()=>Re.getState(),[Re]);useIsomorphicLayoutEffect(()=>{const{subscription:De}=Ie;return De.onStateChange=De.notifyNestedSubs,De.trySubscribe(),Be!==Re.getState()&&De.notifyNestedSubs(),()=>{De.tryUnsubscribe(),De.onStateChange=void 0}},[Ie,Be]);const je=Ce||ReactReduxContext;return reactExports.createElement(je.Provider,{value:Ie},_e)}var Provider_default=Provider,pickChartPointer=(Ee,_e)=>_e,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=Ee=>{var _e=Ee.currentTarget.getBoundingClientRect(),Ce=_e.width/Ee.currentTarget.offsetWidth,Pe=_e.height/Ee.currentTarget.offsetHeight;return{chartX:Math.round((Ee.clientX-_e.left)/Ce),chartY:Math.round((Ee.clientY-_e.top)/Pe)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(Ee,_e)=>{var Ce=Ee.payload,Pe=selectActivePropsFromChartPointer(_e.getState(),getChartPointer(Ce));Pe?.activeIndex!=null&&_e.dispatch(setMouseClickAxisIndex({activeIndex:Pe.activeIndex,activeDataKey:void 0,activeCoordinate:Pe.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware();mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(Ee,_e)=>{var Ce=Ee.payload,Pe=_e.getState(),Re=selectTooltipEventType$1(Pe,Pe.tooltip.settings.shared),Ie=selectActivePropsFromChartPointer(Pe,getChartPointer(Ce));Re==="axis"&&(Ie?.activeIndex!=null?_e.dispatch(setMouseOverAxisIndex({activeIndex:Ie.activeIndex,activeDataKey:void 0,activeCoordinate:Ie.activeCoordinate})):_e.dispatch(mouseLeaveChart()))}});function reduxDevtoolsJsonStringifyReplacer(Ee,_e){return _e instanceof HTMLElement?"HTMLElement <".concat(_e.tagName,' class="').concat(_e.className,'">'):_e===window?"global.window":_e}var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(Ee,_e)=>{var Ce;Ee.accessibilityLayer=_e.payload.accessibilityLayer,Ee.barCategoryGap=_e.payload.barCategoryGap,Ee.barGap=(Ce=_e.payload.barGap)!==null&&Ce!==void 0?Ce:initialState.barGap,Ee.barSize=_e.payload.barSize,Ee.maxBarSize=_e.payload.maxBarSize,Ee.stackOffset=_e.payload.stackOffset,Ee.syncId=_e.payload.syncId,Ee.syncMethod=_e.payload.syncMethod,Ee.className=_e.payload.className}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(Ee,_e)=>_e.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(Ee,_e)=>{var Ce=_e.getState(),Pe=Ce.rootProps.accessibilityLayer!==!1;if(Pe){var{keyboardInteraction:Re}=Ce.tooltip,Ie=Ee.payload;if(!(Ie!=="ArrowRight"&&Ie!=="ArrowLeft"&&Ie!=="Enter")){var Be=Number(combineActiveTooltipIndex(Re,selectTooltipDisplayedData(Ce))),je=selectTooltipAxisTicks(Ce);if(Ie==="Enter"){var De=selectCoordinateForDefaultIndex(Ce,"axis","hover",String(Re.index));_e.dispatch(setKeyboardInteraction({active:!Re.active,activeIndex:Re.index,activeDataKey:Re.dataKey,activeCoordinate:De}));return}var Fe=selectChartDirection(Ce),Oe=Fe==="left-to-right"?1:-1,ke=Ie==="ArrowRight"?1:-1,Me=Be+ke*Oe;if(!(je==null||Me>=je.length||Me<0)){var $e=selectCoordinateForDefaultIndex(Ce,"axis","hover",String(Me));_e.dispatch(setKeyboardInteraction({active:!0,activeIndex:Me.toString(),activeDataKey:void 0,activeCoordinate:$e}))}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(Ee,_e)=>{var Ce=_e.getState(),Pe=Ce.rootProps.accessibilityLayer!==!1;if(Pe){var{keyboardInteraction:Re}=Ce.tooltip;if(!Re.active&&Re.index==null){var Ie="0",Be=selectCoordinateForDefaultIndex(Ce,"axis","hover",String(Ie));_e.dispatch(setKeyboardInteraction({activeDataKey:void 0,active:!0,activeIndex:Ie,activeCoordinate:Be}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware();externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(Ee,_e)=>{if(Ee.payload.handler!=null){var Ce=_e.getState(),Pe={activeCoordinate:selectActiveTooltipCoordinate(Ce),activeDataKey:selectActiveTooltipDataKey(Ce),activeIndex:selectActiveTooltipIndex(Ce),activeLabel:selectActiveLabel$1(Ce),activeTooltipIndex:selectActiveTooltipIndex(Ce),isTooltipActive:selectIsTooltipActive$1(Ce)};Ee.payload.handler(Pe,Ee.payload.reactEvent)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],Ee=>Ee.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(Ee,_e,Ce)=>_e,(Ee,_e,Ce)=>Ce],(Ee,_e,Ce,Pe)=>{var Re=Ee.find(je=>je.settings.dataKey===Pe);if(Re!=null){var{positions:Ie}=Re;if(Ie!=null){var Be=_e(Ie,Ce);return Be}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(Ee,_e)=>{var Ce=Ee.payload,Pe=_e.getState(),Re=selectTooltipEventType$1(Pe,Pe.tooltip.settings.shared);if(Re==="axis"){var Ie=selectActivePropsFromChartPointer(Pe,getChartPointer({clientX:Ce.touches[0].clientX,clientY:Ce.touches[0].clientY,currentTarget:Ce.currentTarget}));Ie?.activeIndex!=null&&_e.dispatch(setMouseOverAxisIndex({activeIndex:Ie.activeIndex,activeDataKey:void 0,activeCoordinate:Ie.activeCoordinate}))}else if(Re==="item"){var Be,je=Ce.touches[0],De=document.elementFromPoint(je.clientX,je.clientY);if(!De||!De.getAttribute)return;var Fe=De.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),Oe=(Be=De.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME))!==null&&Be!==void 0?Be:void 0,ke=selectTooltipCoordinate(_e.getState(),Fe,Oe);_e.dispatch(setActiveMouseOverItemIndex({activeDataKey:Oe,activeIndex:Fe,activeCoordinate:ke}))}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer}),createRechartsStore=function Ee(_e){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return configureStore({reducer:rootReducer,preloadedState:_e,middleware:Pe=>Pe({serializableCheck:!1}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware]),devTools:{serialize:{replacer:reduxDevtoolsJsonStringifyReplacer},name:"recharts-".concat(Ce)}})};function RechartsStoreProvider(Ee){var{preloadedState:_e,children:Ce,reduxStoreName:Pe}=Ee,Re=useIsPanorama(),Ie=reactExports.useRef(null);if(Re)return Ce;Ie.current==null&&(Ie.current=createRechartsStore(_e,Pe));var Be=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:Be,store:Ie.current},Ce)}function ReportMainChartProps(Ee){var{layout:_e,width:Ce,height:Pe,margin:Re}=Ee,Ie=useAppDispatch(),Be=useIsPanorama();return reactExports.useEffect(()=>{Be||(Ie(setLayout(_e)),Ie(setChartSize({width:Ce,height:Pe})),Ie(setMargin(Re)))},[Ie,Be,_e,Ce,Pe,Re]),null}function ReportChartProps(Ee){var _e=useAppDispatch();return reactExports.useEffect(()=>{_e(updateOptions(Ee))},[_e,Ee]),null}var _excluded$6=["children"];function _objectWithoutProperties$5(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$5(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$5(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$3.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},MainChartSurface=reactExports.forwardRef((Ee,_e)=>{var Ce=useChartWidth(),Pe=useChartHeight(),Re=useAccessibilityLayer();if(!isPositiveNumber(Ce)||!isPositiveNumber(Pe))return null;var{children:Ie,otherAttributes:Be,title:je,desc:De}=Ee,Fe,Oe;return typeof Be.tabIndex=="number"?Fe=Be.tabIndex:Fe=Re?0:void 0,typeof Be.role=="string"?Oe=Be.role:Oe=Re?"application":void 0,reactExports.createElement(Surface,_extends$3({},Be,{title:je,desc:De,role:Oe,tabIndex:Fe,width:Ce,height:Pe,style:FULL_WIDTH_AND_HEIGHT,ref:_e}),Ie)}),BrushPanoramaSurface=Ee=>{var{children:_e}=Ee,Ce=useAppSelector(selectBrushDimensions);if(!Ce)return null;var{width:Pe,height:Re,y:Ie,x:Be}=Ce;return reactExports.createElement(Surface,{width:Pe,height:Re,x:Be,y:Ie},_e)},RootSurface=reactExports.forwardRef((Ee,_e)=>{var{children:Ce}=Ee,Pe=_objectWithoutProperties$5(Ee,_excluded$6),Re=useIsPanorama();return Re?reactExports.createElement(BrushPanoramaSurface,null,Ce):reactExports.createElement(MainChartSurface,_extends$3({ref:_e},Pe),Ce)});function useReportScale(){var Ee=useAppDispatch(),[_e,Ce]=reactExports.useState(null),Pe=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(_e!=null){var Re=_e.getBoundingClientRect(),Ie=Re.width/_e.offsetWidth;isWellBehavedNumber(Ie)&&Ie!==Pe&&Ee(setScale(Ie))}},[_e,Ee,Pe]),Ce}function ownKeys$h(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$h(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$h(Object(Ce),!0).forEach(function(Pe){_defineProperty$2(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$h(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$2(Ee,_e,Ce){return(_e=_toPropertyKey$1(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey$1(Ee){var _e=_toPrimitive$1(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$1(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}var RechartsWrapper=reactExports.forwardRef((Ee,_e)=>{var{children:Ce,className:Pe,height:Re,onClick:Ie,onContextMenu:Be,onDoubleClick:je,onMouseDown:De,onMouseEnter:Fe,onMouseLeave:Oe,onMouseMove:ke,onMouseUp:Me,onTouchEnd:$e,onTouchMove:He,onTouchStart:Qe,style:Ke,width:ze}=Ee,We=useAppDispatch(),[qe,Ye]=reactExports.useState(null),[Xe,rr]=reactExports.useState(null);useSynchronisedEventsFromOtherCharts();var Je=useReportScale(),er=reactExports.useCallback(hr=>{Je(hr),typeof _e=="function"&&_e(hr),Ye(hr),rr(hr)},[Je,_e,Ye,rr]),or=reactExports.useCallback(hr=>{We(mouseClickAction(hr)),We(externalEventAction({handler:Ie,reactEvent:hr}))},[We,Ie]),pr=reactExports.useCallback(hr=>{We(mouseMoveAction(hr)),We(externalEventAction({handler:Fe,reactEvent:hr}))},[We,Fe]),ar=reactExports.useCallback(hr=>{We(mouseLeaveChart()),We(externalEventAction({handler:Oe,reactEvent:hr}))},[We,Oe]),fr=reactExports.useCallback(hr=>{We(mouseMoveAction(hr)),We(externalEventAction({handler:ke,reactEvent:hr}))},[We,ke]),gr=reactExports.useCallback(()=>{We(focusAction())},[We]),Rr=reactExports.useCallback(hr=>{We(keyDownAction(hr.key))},[We]),Ir=reactExports.useCallback(hr=>{We(externalEventAction({handler:Be,reactEvent:hr}))},[We,Be]),mr=reactExports.useCallback(hr=>{We(externalEventAction({handler:je,reactEvent:hr}))},[We,je]),Er=reactExports.useCallback(hr=>{We(externalEventAction({handler:De,reactEvent:hr}))},[We,De]),Ar=reactExports.useCallback(hr=>{We(externalEventAction({handler:Me,reactEvent:hr}))},[We,Me]),br=reactExports.useCallback(hr=>{We(externalEventAction({handler:Qe,reactEvent:hr}))},[We,Qe]),wr=reactExports.useCallback(hr=>{We(touchEventAction(hr)),We(externalEventAction({handler:He,reactEvent:hr}))},[We,He]),jr=reactExports.useCallback(hr=>{We(externalEventAction({handler:$e,reactEvent:hr}))},[We,$e]);return reactExports.createElement(TooltipPortalContext.Provider,{value:qe},reactExports.createElement(LegendPortalContext.Provider,{value:Xe},reactExports.createElement("div",{className:clsx("recharts-wrapper",Pe),style:_objectSpread$h({position:"relative",cursor:"default",width:ze,height:Re},Ke),onClick:or,onContextMenu:Ir,onDoubleClick:mr,onFocus:gr,onKeyDown:Rr,onMouseDown:Er,onMouseEnter:pr,onMouseLeave:ar,onMouseMove:fr,onMouseUp:Ar,onTouchEnd:jr,onTouchMove:wr,onTouchStart:br,ref:er},Ce)))}),_excluded$5=["children","className","width","height","style","compact","title","desc"];function _objectWithoutProperties$4(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$4(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$4(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}var CategoricalChart=reactExports.forwardRef((Ee,_e)=>{var{children:Ce,className:Pe,width:Re,height:Ie,style:Be,compact:je,title:De,desc:Fe}=Ee,Oe=_objectWithoutProperties$4(Ee,_excluded$5),ke=filterProps(Oe,!1);return je?reactExports.createElement(RootSurface,{otherAttributes:ke,title:De,desc:Fe},Ce):reactExports.createElement(RechartsWrapper,{className:Pe,style:Be,width:Re,height:Ie,onClick:Ee.onClick,onMouseLeave:Ee.onMouseLeave,onMouseEnter:Ee.onMouseEnter,onMouseMove:Ee.onMouseMove,onMouseDown:Ee.onMouseDown,onMouseUp:Ee.onMouseUp,onContextMenu:Ee.onContextMenu,onDoubleClick:Ee.onDoubleClick,onTouchStart:Ee.onTouchStart,onTouchMove:Ee.onTouchMove,onTouchEnd:Ee.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:ke,title:De,desc:Fe,ref:_e},reactExports.createElement(ClipPathProvider,null,Ce)))}),_excluded$4=["width","height"];function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$2.apply(null,arguments)}function _objectWithoutProperties$3(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$3(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$3(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}var defaultMargin$1={top:5,right:5,bottom:5,left:5},defaultProps$2={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin$1,reverseStackOrder:!1,syncMethod:"index"},CartesianChart=reactExports.forwardRef(function Ee(_e,Ce){var Pe,Re=resolveDefaultProps(_e.categoricalChartProps,defaultProps$2),{width:Ie,height:Be}=Re,je=_objectWithoutProperties$3(Re,_excluded$4);if(!isPositiveNumber(Ie)||!isPositiveNumber(Be))return null;var{chartName:De,defaultTooltipEventType:Fe,validateTooltipEventTypes:Oe,tooltipPayloadSearcher:ke,categoricalChartProps:Me}=_e,$e={chartName:De,defaultTooltipEventType:Fe,validateTooltipEventTypes:Oe,tooltipPayloadSearcher:ke,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:$e},reduxStoreName:(Pe=Me.id)!==null&&Pe!==void 0?Pe:De},reactExports.createElement(ChartDataContextProvider,{chartData:Me.data}),reactExports.createElement(ReportMainChartProps,{width:Ie,height:Be,layout:Re.layout,margin:Re.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:Re.accessibilityLayer,barCategoryGap:Re.barCategoryGap,maxBarSize:Re.maxBarSize,stackOffset:Re.stackOffset,barGap:Re.barGap,barSize:Re.barSize,syncId:Re.syncId,syncMethod:Re.syncMethod,className:Re.className}),reactExports.createElement(CategoricalChart,_extends$2({},je,{width:Ie,height:Be,ref:Ce})))}),allowedTooltipTypes$1=["axis","item"],BarChart=reactExports.forwardRef((Ee,_e)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$1,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:Ee,ref:_e}));function ReportPolarOptions(Ee){var _e=useAppDispatch();return reactExports.useEffect(()=>{_e(updatePolarOptions(Ee))},[_e,Ee]),null}var _excluded$3=["width","height","layout"];function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)({}).hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends$1.apply(null,arguments)}function _objectWithoutProperties$2(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose$2(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.indexOf(Ce)===-1&&{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}function _objectWithoutPropertiesLoose$2(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)!==-1)continue;Ce[Pe]=Ee[Pe]}return Ce}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultProps$1={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},PolarChart=reactExports.forwardRef(function Ee(_e,Ce){var Pe,Re=resolveDefaultProps(_e.categoricalChartProps,defaultProps$1),{width:Ie,height:Be,layout:je}=Re,De=_objectWithoutProperties$2(Re,_excluded$3);if(!isPositiveNumber(Ie)||!isPositiveNumber(Be))return null;var{chartName:Fe,defaultTooltipEventType:Oe,validateTooltipEventTypes:ke,tooltipPayloadSearcher:Me}=_e,$e={chartName:Fe,defaultTooltipEventType:Oe,validateTooltipEventTypes:ke,tooltipPayloadSearcher:Me,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:$e},reduxStoreName:(Pe=Re.id)!==null&&Pe!==void 0?Pe:Fe},reactExports.createElement(ChartDataContextProvider,{chartData:Re.data}),reactExports.createElement(ReportMainChartProps,{width:Ie,height:Be,layout:je,margin:Re.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:Re.accessibilityLayer,barCategoryGap:Re.barCategoryGap,maxBarSize:Re.maxBarSize,stackOffset:Re.stackOffset,barGap:Re.barGap,barSize:Re.barSize,syncId:Re.syncId,syncMethod:Re.syncMethod,className:Re.className}),reactExports.createElement(ReportPolarOptions,{cx:Re.cx,cy:Re.cy,startAngle:Re.startAngle,endAngle:Re.endAngle,innerRadius:Re.innerRadius,outerRadius:Re.outerRadius}),reactExports.createElement(CategoricalChart,_extends$1({width:Ie,height:Be},De,{ref:Ce})))}),allowedTooltipTypes=["item"],defaultProps={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},PieChart=reactExports.forwardRef((Ee,_e)=>{var Ce=resolveDefaultProps(Ee,defaultProps);return reactExports.createElement(PolarChart,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:Ce,ref:_e})});const millisecondsInWeek=6048e5,millisecondsInDay=864e5,constructFromSymbol=Symbol.for("constructDateFrom");function constructFrom(Ee,_e){return typeof Ee=="function"?Ee(_e):Ee&&typeof Ee=="object"&&constructFromSymbol in Ee?Ee[constructFromSymbol](_e):Ee instanceof Date?new Ee.constructor(_e):new Date(_e)}function toDate(Ee,_e){return constructFrom(_e||Ee,Ee)}function addDays(Ee,_e,Ce){const Pe=toDate(Ee,Ce?.in);return isNaN(_e)?constructFrom(Ee,NaN):(_e&&Pe.setDate(Pe.getDate()+_e),Pe)}let defaultOptions$6={};function getDefaultOptions(){return defaultOptions$6}function startOfWeek(Ee,_e){const Ce=getDefaultOptions(),Pe=_e?.weekStartsOn??_e?.locale?.options?.weekStartsOn??Ce.weekStartsOn??Ce.locale?.options?.weekStartsOn??0,Re=toDate(Ee,_e?.in),Ie=Re.getDay(),Be=(Ie<Pe?7:0)+Ie-Pe;return Re.setDate(Re.getDate()-Be),Re.setHours(0,0,0,0),Re}function startOfISOWeek(Ee,_e){return startOfWeek(Ee,{..._e,weekStartsOn:1})}function getISOWeekYear(Ee,_e){const Ce=toDate(Ee,_e?.in),Pe=Ce.getFullYear(),Re=constructFrom(Ce,0);Re.setFullYear(Pe+1,0,4),Re.setHours(0,0,0,0);const Ie=startOfISOWeek(Re),Be=constructFrom(Ce,0);Be.setFullYear(Pe,0,4),Be.setHours(0,0,0,0);const je=startOfISOWeek(Be);return Ce.getTime()>=Ie.getTime()?Pe+1:Ce.getTime()>=je.getTime()?Pe:Pe-1}function getTimezoneOffsetInMilliseconds(Ee){const _e=toDate(Ee),Ce=new Date(Date.UTC(_e.getFullYear(),_e.getMonth(),_e.getDate(),_e.getHours(),_e.getMinutes(),_e.getSeconds(),_e.getMilliseconds()));return Ce.setUTCFullYear(_e.getFullYear()),+Ee-+Ce}function normalizeDates(Ee,..._e){const Ce=constructFrom.bind(null,_e.find(Pe=>typeof Pe=="object"));return _e.map(Ce)}function startOfDay(Ee,_e){const Ce=toDate(Ee,_e?.in);return Ce.setHours(0,0,0,0),Ce}function differenceInCalendarDays(Ee,_e,Ce){const[Pe,Re]=normalizeDates(Ce?.in,Ee,_e),Ie=startOfDay(Pe),Be=startOfDay(Re),je=+Ie-getTimezoneOffsetInMilliseconds(Ie),De=+Be-getTimezoneOffsetInMilliseconds(Be);return Math.round((je-De)/millisecondsInDay)}function startOfISOWeekYear(Ee,_e){const Ce=getISOWeekYear(Ee,_e),Pe=constructFrom(Ee,0);return Pe.setFullYear(Ce,0,4),Pe.setHours(0,0,0,0),startOfISOWeek(Pe)}function isDate(Ee){return Ee instanceof Date||typeof Ee=="object"&&Object.prototype.toString.call(Ee)==="[object Date]"}function isValid(Ee){return!(!isDate(Ee)&&typeof Ee!="number"||isNaN(+toDate(Ee)))}function endOfMonth(Ee,_e){const Ce=toDate(Ee,_e?.in),Pe=Ce.getMonth();return Ce.setFullYear(Ce.getFullYear(),Pe+1,0),Ce.setHours(23,59,59,999),Ce}function startOfMonth(Ee,_e){const Ce=toDate(Ee,_e?.in);return Ce.setDate(1),Ce.setHours(0,0,0,0),Ce}function startOfYear(Ee,_e){const Ce=toDate(Ee,_e?.in);return Ce.setFullYear(Ce.getFullYear(),0,1),Ce.setHours(0,0,0,0),Ce}function endOfWeek(Ee,_e){const Ce=_e?.weekStartsOn,Pe=toDate(Ee,_e?.in),Re=Pe.getDay(),Ie=(Re<Ce?-7:0)+6-(Re-Ce);return Pe.setDate(Pe.getDate()+Ie),Pe.setHours(23,59,59,999),Pe}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=(Ee,_e,Ce)=>{let Pe;const Re=formatDistanceLocale[Ee];return typeof Re=="string"?Pe=Re:_e===1?Pe=Re.one:Pe=Re.other.replace("{{count}}",_e.toString()),Ce?.addSuffix?Ce.comparison&&Ce.comparison>0?"in "+Pe:Pe+" ago":Pe};function buildFormatLongFn(Ee){return(_e={})=>{const Ce=_e.width?String(_e.width):Ee.defaultWidth;return Ee.formats[Ce]||Ee.formats[Ee.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(Ee,_e,Ce,Pe)=>formatRelativeLocale[Ee];function buildLocalizeFn(Ee){return(_e,Ce)=>{const Pe=Ce?.context?String(Ce.context):"standalone";let Re;if(Pe==="formatting"&&Ee.formattingValues){const Be=Ee.defaultFormattingWidth||Ee.defaultWidth,je=Ce?.width?String(Ce.width):Be;Re=Ee.formattingValues[je]||Ee.formattingValues[Be]}else{const Be=Ee.defaultWidth,je=Ce?.width?String(Ce.width):Ee.defaultWidth;Re=Ee.values[je]||Ee.values[Be]}const Ie=Ee.argumentCallback?Ee.argumentCallback(_e):_e;return Re[Ie]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(Ee,_e)=>{const Ce=Number(Ee),Pe=Ce%100;if(Pe>20||Pe<10)switch(Pe%10){case 1:return Ce+"st";case 2:return Ce+"nd";case 3:return Ce+"rd"}return Ce+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:Ee=>Ee-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(Ee){return(_e,Ce={})=>{const Pe=Ce.width,Re=Pe&&Ee.matchPatterns[Pe]||Ee.matchPatterns[Ee.defaultMatchWidth],Ie=_e.match(Re);if(!Ie)return null;const Be=Ie[0],je=Pe&&Ee.parsePatterns[Pe]||Ee.parsePatterns[Ee.defaultParseWidth],De=Array.isArray(je)?findIndex(je,ke=>ke.test(Be)):findKey(je,ke=>ke.test(Be));let Fe;Fe=Ee.valueCallback?Ee.valueCallback(De):De,Fe=Ce.valueCallback?Ce.valueCallback(Fe):Fe;const Oe=_e.slice(Be.length);return{value:Fe,rest:Oe}}}function findKey(Ee,_e){for(const Ce in Ee)if(Object.prototype.hasOwnProperty.call(Ee,Ce)&&_e(Ee[Ce]))return Ce}function findIndex(Ee,_e){for(let Ce=0;Ce<Ee.length;Ce++)if(_e(Ee[Ce]))return Ce}function buildMatchPatternFn(Ee){return(_e,Ce={})=>{const Pe=_e.match(Ee.matchPattern);if(!Pe)return null;const Re=Pe[0],Ie=_e.match(Ee.parsePattern);if(!Ie)return null;let Be=Ee.valueCallback?Ee.valueCallback(Ie[0]):Ie[0];Be=Ce.valueCallback?Ce.valueCallback(Be):Be;const je=_e.slice(Re.length);return{value:Be,rest:je}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:Ee=>parseInt(Ee,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:Ee=>Ee+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(Ee,_e){const Ce=toDate(Ee,_e?.in);return differenceInCalendarDays(Ce,startOfYear(Ce))+1}function getISOWeek(Ee,_e){const Ce=toDate(Ee,_e?.in),Pe=+startOfISOWeek(Ce)-+startOfISOWeekYear(Ce);return Math.round(Pe/millisecondsInWeek)+1}function getWeekYear(Ee,_e){const Ce=toDate(Ee,_e?.in),Pe=Ce.getFullYear(),Re=getDefaultOptions(),Ie=_e?.firstWeekContainsDate??_e?.locale?.options?.firstWeekContainsDate??Re.firstWeekContainsDate??Re.locale?.options?.firstWeekContainsDate??1,Be=constructFrom(_e?.in||Ee,0);Be.setFullYear(Pe+1,0,Ie),Be.setHours(0,0,0,0);const je=startOfWeek(Be,_e),De=constructFrom(_e?.in||Ee,0);De.setFullYear(Pe,0,Ie),De.setHours(0,0,0,0);const Fe=startOfWeek(De,_e);return+Ce>=+je?Pe+1:+Ce>=+Fe?Pe:Pe-1}function startOfWeekYear(Ee,_e){const Ce=getDefaultOptions(),Pe=_e?.firstWeekContainsDate??_e?.locale?.options?.firstWeekContainsDate??Ce.firstWeekContainsDate??Ce.locale?.options?.firstWeekContainsDate??1,Re=getWeekYear(Ee,_e),Ie=constructFrom(_e?.in||Ee,0);return Ie.setFullYear(Re,0,Pe),Ie.setHours(0,0,0,0),startOfWeek(Ie,_e)}function getWeek(Ee,_e){const Ce=toDate(Ee,_e?.in),Pe=+startOfWeek(Ce,_e)-+startOfWeekYear(Ce,_e);return Math.round(Pe/millisecondsInWeek)+1}function addLeadingZeros(Ee,_e){const Ce=Ee<0?"-":"",Pe=Math.abs(Ee).toString().padStart(_e,"0");return Ce+Pe}const lightFormatters={y(Ee,_e){const Ce=Ee.getFullYear(),Pe=Ce>0?Ce:1-Ce;return addLeadingZeros(_e==="yy"?Pe%100:Pe,_e.length)},M(Ee,_e){const Ce=Ee.getMonth();return _e==="M"?String(Ce+1):addLeadingZeros(Ce+1,2)},d(Ee,_e){return addLeadingZeros(Ee.getDate(),_e.length)},a(Ee,_e){const Ce=Ee.getHours()/12>=1?"pm":"am";switch(_e){case"a":case"aa":return Ce.toUpperCase();case"aaa":return Ce;case"aaaaa":return Ce[0];case"aaaa":default:return Ce==="am"?"a.m.":"p.m."}},h(Ee,_e){return addLeadingZeros(Ee.getHours()%12||12,_e.length)},H(Ee,_e){return addLeadingZeros(Ee.getHours(),_e.length)},m(Ee,_e){return addLeadingZeros(Ee.getMinutes(),_e.length)},s(Ee,_e){return addLeadingZeros(Ee.getSeconds(),_e.length)},S(Ee,_e){const Ce=_e.length,Pe=Ee.getMilliseconds(),Re=Math.trunc(Pe*Math.pow(10,Ce-3));return addLeadingZeros(Re,_e.length)}},dayPeriodEnum={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(Ee,_e,Ce){const Pe=Ee.getFullYear()>0?1:0;switch(_e){case"G":case"GG":case"GGG":return Ce.era(Pe,{width:"abbreviated"});case"GGGGG":return Ce.era(Pe,{width:"narrow"});case"GGGG":default:return Ce.era(Pe,{width:"wide"})}},y:function(Ee,_e,Ce){if(_e==="yo"){const Pe=Ee.getFullYear(),Re=Pe>0?Pe:1-Pe;return Ce.ordinalNumber(Re,{unit:"year"})}return lightFormatters.y(Ee,_e)},Y:function(Ee,_e,Ce,Pe){const Re=getWeekYear(Ee,Pe),Ie=Re>0?Re:1-Re;if(_e==="YY"){const Be=Ie%100;return addLeadingZeros(Be,2)}return _e==="Yo"?Ce.ordinalNumber(Ie,{unit:"year"}):addLeadingZeros(Ie,_e.length)},R:function(Ee,_e){const Ce=getISOWeekYear(Ee);return addLeadingZeros(Ce,_e.length)},u:function(Ee,_e){const Ce=Ee.getFullYear();return addLeadingZeros(Ce,_e.length)},Q:function(Ee,_e,Ce){const Pe=Math.ceil((Ee.getMonth()+1)/3);switch(_e){case"Q":return String(Pe);case"QQ":return addLeadingZeros(Pe,2);case"Qo":return Ce.ordinalNumber(Pe,{unit:"quarter"});case"QQQ":return Ce.quarter(Pe,{width:"abbreviated",context:"formatting"});case"QQQQQ":return Ce.quarter(Pe,{width:"narrow",context:"formatting"});case"QQQQ":default:return Ce.quarter(Pe,{width:"wide",context:"formatting"})}},q:function(Ee,_e,Ce){const Pe=Math.ceil((Ee.getMonth()+1)/3);switch(_e){case"q":return String(Pe);case"qq":return addLeadingZeros(Pe,2);case"qo":return Ce.ordinalNumber(Pe,{unit:"quarter"});case"qqq":return Ce.quarter(Pe,{width:"abbreviated",context:"standalone"});case"qqqqq":return Ce.quarter(Pe,{width:"narrow",context:"standalone"});case"qqqq":default:return Ce.quarter(Pe,{width:"wide",context:"standalone"})}},M:function(Ee,_e,Ce){const Pe=Ee.getMonth();switch(_e){case"M":case"MM":return lightFormatters.M(Ee,_e);case"Mo":return Ce.ordinalNumber(Pe+1,{unit:"month"});case"MMM":return Ce.month(Pe,{width:"abbreviated",context:"formatting"});case"MMMMM":return Ce.month(Pe,{width:"narrow",context:"formatting"});case"MMMM":default:return Ce.month(Pe,{width:"wide",context:"formatting"})}},L:function(Ee,_e,Ce){const Pe=Ee.getMonth();switch(_e){case"L":return String(Pe+1);case"LL":return addLeadingZeros(Pe+1,2);case"Lo":return Ce.ordinalNumber(Pe+1,{unit:"month"});case"LLL":return Ce.month(Pe,{width:"abbreviated",context:"standalone"});case"LLLLL":return Ce.month(Pe,{width:"narrow",context:"standalone"});case"LLLL":default:return Ce.month(Pe,{width:"wide",context:"standalone"})}},w:function(Ee,_e,Ce,Pe){const Re=getWeek(Ee,Pe);return _e==="wo"?Ce.ordinalNumber(Re,{unit:"week"}):addLeadingZeros(Re,_e.length)},I:function(Ee,_e,Ce){const Pe=getISOWeek(Ee);return _e==="Io"?Ce.ordinalNumber(Pe,{unit:"week"}):addLeadingZeros(Pe,_e.length)},d:function(Ee,_e,Ce){return _e==="do"?Ce.ordinalNumber(Ee.getDate(),{unit:"date"}):lightFormatters.d(Ee,_e)},D:function(Ee,_e,Ce){const Pe=getDayOfYear(Ee);return _e==="Do"?Ce.ordinalNumber(Pe,{unit:"dayOfYear"}):addLeadingZeros(Pe,_e.length)},E:function(Ee,_e,Ce){const Pe=Ee.getDay();switch(_e){case"E":case"EE":case"EEE":return Ce.day(Pe,{width:"abbreviated",context:"formatting"});case"EEEEE":return Ce.day(Pe,{width:"narrow",context:"formatting"});case"EEEEEE":return Ce.day(Pe,{width:"short",context:"formatting"});case"EEEE":default:return Ce.day(Pe,{width:"wide",context:"formatting"})}},e:function(Ee,_e,Ce,Pe){const Re=Ee.getDay(),Ie=(Re-Pe.weekStartsOn+8)%7||7;switch(_e){case"e":return String(Ie);case"ee":return addLeadingZeros(Ie,2);case"eo":return Ce.ordinalNumber(Ie,{unit:"day"});case"eee":return Ce.day(Re,{width:"abbreviated",context:"formatting"});case"eeeee":return Ce.day(Re,{width:"narrow",context:"formatting"});case"eeeeee":return Ce.day(Re,{width:"short",context:"formatting"});case"eeee":default:return Ce.day(Re,{width:"wide",context:"formatting"})}},c:function(Ee,_e,Ce,Pe){const Re=Ee.getDay(),Ie=(Re-Pe.weekStartsOn+8)%7||7;switch(_e){case"c":return String(Ie);case"cc":return addLeadingZeros(Ie,_e.length);case"co":return Ce.ordinalNumber(Ie,{unit:"day"});case"ccc":return Ce.day(Re,{width:"abbreviated",context:"standalone"});case"ccccc":return Ce.day(Re,{width:"narrow",context:"standalone"});case"cccccc":return Ce.day(Re,{width:"short",context:"standalone"});case"cccc":default:return Ce.day(Re,{width:"wide",context:"standalone"})}},i:function(Ee,_e,Ce){const Pe=Ee.getDay(),Re=Pe===0?7:Pe;switch(_e){case"i":return String(Re);case"ii":return addLeadingZeros(Re,_e.length);case"io":return Ce.ordinalNumber(Re,{unit:"day"});case"iii":return Ce.day(Pe,{width:"abbreviated",context:"formatting"});case"iiiii":return Ce.day(Pe,{width:"narrow",context:"formatting"});case"iiiiii":return Ce.day(Pe,{width:"short",context:"formatting"});case"iiii":default:return Ce.day(Pe,{width:"wide",context:"formatting"})}},a:function(Ee,_e,Ce){const Re=Ee.getHours()/12>=1?"pm":"am";switch(_e){case"a":case"aa":return Ce.dayPeriod(Re,{width:"abbreviated",context:"formatting"});case"aaa":return Ce.dayPeriod(Re,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return Ce.dayPeriod(Re,{width:"narrow",context:"formatting"});case"aaaa":default:return Ce.dayPeriod(Re,{width:"wide",context:"formatting"})}},b:function(Ee,_e,Ce){const Pe=Ee.getHours();let Re;switch(Pe===12?Re=dayPeriodEnum.noon:Pe===0?Re=dayPeriodEnum.midnight:Re=Pe/12>=1?"pm":"am",_e){case"b":case"bb":return Ce.dayPeriod(Re,{width:"abbreviated",context:"formatting"});case"bbb":return Ce.dayPeriod(Re,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return Ce.dayPeriod(Re,{width:"narrow",context:"formatting"});case"bbbb":default:return Ce.dayPeriod(Re,{width:"wide",context:"formatting"})}},B:function(Ee,_e,Ce){const Pe=Ee.getHours();let Re;switch(Pe>=17?Re=dayPeriodEnum.evening:Pe>=12?Re=dayPeriodEnum.afternoon:Pe>=4?Re=dayPeriodEnum.morning:Re=dayPeriodEnum.night,_e){case"B":case"BB":case"BBB":return Ce.dayPeriod(Re,{width:"abbreviated",context:"formatting"});case"BBBBB":return Ce.dayPeriod(Re,{width:"narrow",context:"formatting"});case"BBBB":default:return Ce.dayPeriod(Re,{width:"wide",context:"formatting"})}},h:function(Ee,_e,Ce){if(_e==="ho"){let Pe=Ee.getHours()%12;return Pe===0&&(Pe=12),Ce.ordinalNumber(Pe,{unit:"hour"})}return lightFormatters.h(Ee,_e)},H:function(Ee,_e,Ce){return _e==="Ho"?Ce.ordinalNumber(Ee.getHours(),{unit:"hour"}):lightFormatters.H(Ee,_e)},K:function(Ee,_e,Ce){const Pe=Ee.getHours()%12;return _e==="Ko"?Ce.ordinalNumber(Pe,{unit:"hour"}):addLeadingZeros(Pe,_e.length)},k:function(Ee,_e,Ce){let Pe=Ee.getHours();return Pe===0&&(Pe=24),_e==="ko"?Ce.ordinalNumber(Pe,{unit:"hour"}):addLeadingZeros(Pe,_e.length)},m:function(Ee,_e,Ce){return _e==="mo"?Ce.ordinalNumber(Ee.getMinutes(),{unit:"minute"}):lightFormatters.m(Ee,_e)},s:function(Ee,_e,Ce){return _e==="so"?Ce.ordinalNumber(Ee.getSeconds(),{unit:"second"}):lightFormatters.s(Ee,_e)},S:function(Ee,_e){return lightFormatters.S(Ee,_e)},X:function(Ee,_e,Ce){const Pe=Ee.getTimezoneOffset();if(Pe===0)return"Z";switch(_e){case"X":return formatTimezoneWithOptionalMinutes(Pe);case"XXXX":case"XX":return formatTimezone(Pe);case"XXXXX":case"XXX":default:return formatTimezone(Pe,":")}},x:function(Ee,_e,Ce){const Pe=Ee.getTimezoneOffset();switch(_e){case"x":return formatTimezoneWithOptionalMinutes(Pe);case"xxxx":case"xx":return formatTimezone(Pe);case"xxxxx":case"xxx":default:return formatTimezone(Pe,":")}},O:function(Ee,_e,Ce){const Pe=Ee.getTimezoneOffset();switch(_e){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(Pe,":");case"OOOO":default:return"GMT"+formatTimezone(Pe,":")}},z:function(Ee,_e,Ce){const Pe=Ee.getTimezoneOffset();switch(_e){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(Pe,":");case"zzzz":default:return"GMT"+formatTimezone(Pe,":")}},t:function(Ee,_e,Ce){const Pe=Math.trunc(+Ee/1e3);return addLeadingZeros(Pe,_e.length)},T:function(Ee,_e,Ce){return addLeadingZeros(+Ee,_e.length)}};function formatTimezoneShort(Ee,_e=""){const Ce=Ee>0?"-":"+",Pe=Math.abs(Ee),Re=Math.trunc(Pe/60),Ie=Pe%60;return Ie===0?Ce+String(Re):Ce+String(Re)+_e+addLeadingZeros(Ie,2)}function formatTimezoneWithOptionalMinutes(Ee,_e){return Ee%60===0?(Ee>0?"-":"+")+addLeadingZeros(Math.abs(Ee)/60,2):formatTimezone(Ee,_e)}function formatTimezone(Ee,_e=""){const Ce=Ee>0?"-":"+",Pe=Math.abs(Ee),Re=addLeadingZeros(Math.trunc(Pe/60),2),Ie=addLeadingZeros(Pe%60,2);return Ce+Re+_e+Ie}const dateLongFormatter=(Ee,_e)=>{switch(Ee){case"P":return _e.date({width:"short"});case"PP":return _e.date({width:"medium"});case"PPP":return _e.date({width:"long"});case"PPPP":default:return _e.date({width:"full"})}},timeLongFormatter=(Ee,_e)=>{switch(Ee){case"p":return _e.time({width:"short"});case"pp":return _e.time({width:"medium"});case"ppp":return _e.time({width:"long"});case"pppp":default:return _e.time({width:"full"})}},dateTimeLongFormatter=(Ee,_e)=>{const Ce=Ee.match(/(P+)(p+)?/)||[],Pe=Ce[1],Re=Ce[2];if(!Re)return dateLongFormatter(Ee,_e);let Ie;switch(Pe){case"P":Ie=_e.dateTime({width:"short"});break;case"PP":Ie=_e.dateTime({width:"medium"});break;case"PPP":Ie=_e.dateTime({width:"long"});break;case"PPPP":default:Ie=_e.dateTime({width:"full"});break}return Ie.replace("{{date}}",dateLongFormatter(Pe,_e)).replace("{{time}}",timeLongFormatter(Re,_e))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(Ee){return dayOfYearTokenRE.test(Ee)}function isProtectedWeekYearToken(Ee){return weekYearTokenRE.test(Ee)}function warnOrThrowProtectedError(Ee,_e,Ce){const Pe=message(Ee,_e,Ce);if(console.warn(Pe),throwTokens.includes(Ee))throw new RangeError(Pe)}function message(Ee,_e,Ce){const Pe=Ee[0]==="Y"?"years":"days of the month";return`Use \`${Ee.toLowerCase()}\` instead of \`${Ee}\` (in \`${_e}\`) for formatting ${Pe} to the input \`${Ce}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(Ee,_e,Ce){const Pe=getDefaultOptions(),Re=Pe.locale??enUS,Ie=Pe.firstWeekContainsDate??Pe.locale?.options?.firstWeekContainsDate??1,Be=Pe.weekStartsOn??Pe.locale?.options?.weekStartsOn??0,je=toDate(Ee,Ce?.in);if(!isValid(je))throw new RangeError("Invalid time value");let De=_e.match(longFormattingTokensRegExp).map(Oe=>{const ke=Oe[0];if(ke==="p"||ke==="P"){const Me=longFormatters[ke];return Me(Oe,Re.formatLong)}return Oe}).join("").match(formattingTokensRegExp).map(Oe=>{if(Oe==="''")return{isToken:!1,value:"'"};const ke=Oe[0];if(ke==="'")return{isToken:!1,value:cleanEscapedString(Oe)};if(formatters[ke])return{isToken:!0,value:Oe};if(ke.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ke+"`");return{isToken:!1,value:Oe}});Re.localize.preprocessor&&(De=Re.localize.preprocessor(je,De));const Fe={firstWeekContainsDate:Ie,weekStartsOn:Be,locale:Re};return De.map(Oe=>{if(!Oe.isToken)return Oe.value;const ke=Oe.value;(isProtectedWeekYearToken(ke)||isProtectedDayOfYearToken(ke))&&warnOrThrowProtectedError(ke,_e,String(Ee));const Me=formatters[ke[0]];return Me(je,ke,Re.localize,Fe)}).join("")}function cleanEscapedString(Ee){const _e=Ee.match(escapedStringRegExp);return _e?_e[1].replace(doubleQuoteRegExp,"'"):Ee}function subDays(Ee,_e,Ce){return addDays(Ee,-_e,Ce)}const RevenueOverview=()=>{const[Ee,_e]=reactExports.useState([]),{selectedProduct:Ce,selectedDate:Pe}=useAnalyticsFilter(),[Re,Ie]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{const We=auth$2.currentUser;if(!We)return;const qe=collection(db$2,"businesses",We.uid,"finalizedInvoices"),Ye=await getDocs(qe),Xe=[];Ye.forEach(rr=>{const Je=rr.data();Je.totalAmount&&Xe.push(Je)}),_e(Xe)}catch(We){console.error("Error fetching revenue data:",We)}})()},[]);const Be=Ee.filter(ze=>{let We;ze.issuedAt?.toDate?We=ze.issuedAt.toDate():typeof ze.issuedAt=="string"&&(We=new Date(ze.issuedAt));const qe=Pe?We&&!isNaN(We)&&format(We,"yyyy-MM-dd")===Pe:!0,Ye=Ce?Array.isArray(ze.cartItems)&&ze.cartItems.some(Xe=>Xe.sku===Ce):!0;return qe&&Ye}),je=Be.reduce((ze,We)=>We.paymentMode==="credit"&&!We.isPaid?ze:ze+parseFloat(We.totalAmount||0),0),De=Be.length,Fe={cash:0,upi:0,card:0},Oe={};Be.forEach(ze=>{const We=parseFloat(ze.totalAmount||0),qe=ze.paymentMode?.toLowerCase();if(qe==="split"){const rr=ze.splitPayment||{};Fe.cash+=parseFloat(rr.cash||0),Fe.upi+=parseFloat(rr.upi||0),Fe.card+=parseFloat(rr.card||0)}else if(qe==="credit"&&ze.isPaid){const rr=ze.paidVia?.toLowerCase();rr==="cash"?Fe.cash+=We:rr==="upi"?Fe.upi+=We:rr==="card"&&(Fe.card+=We)}else["cash","upi","card"].includes(qe)&&(Fe[qe]+=We);let Ye;if(ze.issuedAt?.toDate?Ye=ze.issuedAt.toDate():typeof ze.issuedAt=="string"&&(Ye=new Date(ze.issuedAt)),!Ye||isNaN(Ye))return;const Xe=format(Ye,"yyyy-MM-dd");Oe[Xe]||(Oe[Xe]=0),Oe[Xe]+=We});const ke=Object.entries(Oe).map(([ze,We])=>({date:ze,revenue:We})).sort((ze,We)=>new Date(ze.date)-new Date(We.date));for(let ze=1;ze<ke.length;ze++){const We=ke[ze-1].revenue,Ye=ke[ze].revenue-We,Xe=We===0?100:Ye/We*100;ke[ze].changeAmount=Ye,ke[ze].changePercent=Xe.toFixed(1),ke[ze].changeColor=Ye>0?"#10b981":Ye<0?"#ef4444":"#9ca3af"}ke.length===0&&ke.push({date:format(new Date,"yyyy-MM-dd"),revenue:0});const Me=Pe?Ee.filter(ze=>{let We;return ze.issuedAt?.toDate?We=ze.issuedAt.toDate():typeof ze.issuedAt=="string"&&(We=new Date(ze.issuedAt)),!We||isNaN(We)?!1:format(We,"yyyy-MM-dd")===Pe}):Ee,$e={cash:0,upi:0,card:0};Me.forEach(ze=>{const We=ze.totalAmount||0,qe=ze.paymentMode?.toLowerCase();qe&&$e[qe]!==void 0&&($e[qe]+=We)});const He=Object.values($e).reduce((ze,We)=>ze+We,0),Qe=Object.entries($e).map(([ze,We])=>({name:ze.charAt(0).toUpperCase()+ze.slice(1),value:We,percent:He>0?(We/He*100).toFixed(1):0})),Ke=({active:ze,payload:We,label:qe})=>{if(ze&&We&&We.length){const Ye=ke.find(rr=>rr.date===qe);if(!Ye)return null;const Xe=Ye.changeAmount>=0?"+":"";return jsxRuntimeExports.jsxs("div",{className:"bg-white shadow rounded px-3 py-2 border text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:qe}),jsxRuntimeExports.jsxs("p",{children:["Revenue: ",Ye.revenue.toFixed(2)]}),Ye.changeAmount!==void 0&&jsxRuntimeExports.jsxs("p",{style:{color:Ye.changeColor},children:["Growth: ",`${Xe}${Ye.changeAmount}`," (",`${Xe}${Ye.changePercent}%`,")"]})]})}return null};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Revenue Overview"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Total Revenue:"})," ",je.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Total Invoices:"})," ",De]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:"Revenue by Payment Mode:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside",children:[jsxRuntimeExports.jsxs("li",{children:["Cash: ",Fe.cash.toFixed(2)]}),jsxRuntimeExports.jsxs("li",{children:["UPI: ",Fe.upi.toFixed(2)]}),jsxRuntimeExports.jsxs("li",{children:["Card: ",Fe.card.toFixed(2)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsx("div",{style:{width:`${Math.max(700,ke.length*80)}px`,height:300},children:jsxRuntimeExports.jsx(ResponsiveContainer,{children:jsxRuntimeExports.jsxs(BarChart,{data:ke,onClick:({activeLabel:ze})=>{ze&&(setSelectedDate(ze),Ie(ze))},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"date",label:{value:"Date",position:"insideBottom",offset:-5}}),jsxRuntimeExports.jsx(YAxis,{label:{value:"Revenue",angle:-90,position:"insideLeft"}}),jsxRuntimeExports.jsx(Tooltip,{content:jsxRuntimeExports.jsx(Ke,{})}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"revenue",fill:"#4f46e5",radius:[4,4,0,0]}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,dot:{r:4},label:({index:ze,x:We,y:qe})=>{const Ye=ke[ze];if(!Ye||Ye.date!==Re)return null;const Xe=Ye.changeAmount>=0?"+":"";return jsxRuntimeExports.jsx("text",{x:We,y:qe-10,fill:Ye.changeColor,fontSize:12,textAnchor:"middle",children:`${Xe}${Ye.changeAmount} (${Xe}${Ye.changePercent}%)`})}})]})})})}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow h-full",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-center mb-2",children:"Revenue by Payment Mode"}),jsxRuntimeExports.jsxs("p",{className:"text-center text-sm mb-2",children:["Total Revenue: ",je.toFixed(2)]}),Pe&&jsxRuntimeExports.jsx("div",{className:"text-center mb-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>setSelectedDate(null),className:"text-blue-600 text-sm underline",children:"Reset to All Time View"})}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:250,children:jsxRuntimeExports.jsx(PieChart,{children:jsxRuntimeExports.jsxs(Pie,{data:Qe,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:({name:ze,value:We,percent:qe})=>`${ze}: ${We} (${qe}%)`,labelLine:!1,isAnimationActive:!0,children:[jsxRuntimeExports.jsx(Cell,{fill:"#fbbf24"}),jsxRuntimeExports.jsx(Cell,{fill:"#34d399"}),jsxRuntimeExports.jsx(Cell,{fill:"#818cf8"})]})})})]})]})]})},TopSellingProducts=()=>{const[Ee,_e]=reactExports.useState([]),{selectedProduct:Ce,selectedDate:Pe}=useAnalyticsFilter();return reactExports.useEffect(()=>{(async()=>{try{const Ie=auth$2.currentUser;if(!Ie)return;const Be=collection(db$2,"businesses",Ie.uid,"finalizedInvoices"),je=await getDocs(Be),De={};je.forEach(Oe=>{const ke=Oe.data();if(Pe&&new Date(ke.timestamp||ke.issuedAt?.toDate?.()||ke.issuedAt).toISOString().split("T")[0]!==Pe)return;(ke.cartItems||ke.cart||[]).forEach($e=>{if(Ce&&$e.sku!==Ce)return;const He=$e.sku||$e.name||$e.id;if(!He)return;const Qe=Number($e.quantity||0);Qe<=0||(De[He]||(De[He]={name:$e.name||"Unnamed",sku:$e.sku||"-",brand:$e.brand||"",unit:$e.unit||"",quantity:0}),De[He].quantity+=Qe)})});const Fe=Object.values(De).sort((Oe,ke)=>ke.quantity-Oe.quantity).slice(0,5);_e(Fe)}catch(Ie){console.error("Error fetching top-selling products:",Ie)}})()},[Ce,Pe]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Top Selling Products"}),Ee.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No data available"}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(BarChart,{data:Ee,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{content:({active:Re,payload:Ie})=>{if(Re&&Ie&&Ie.length){const Be=Ie[0].payload;return jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded px-3 py-2 border text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:Be.name}),jsxRuntimeExports.jsxs("p",{children:["Brand: ",Be.brand]}),jsxRuntimeExports.jsxs("p",{children:["SKU: ",Be.sku]}),jsxRuntimeExports.jsxs("p",{children:["Unit: ",Be.unit]}),jsxRuntimeExports.jsxs("p",{children:["Items Sold: ",Be.quantity]})]})}return null}}),jsxRuntimeExports.jsx(Bar,{dataKey:"quantity",fill:"#4f46e5",radius:[4,4,0,0]})]})})})]})},COLORS=["#4f46e5","#22c55e","#f97316","#06b6d4","#e11d48"],ProfitInsights=()=>{const[Ee,_e]=reactExports.useState(0),[Ce,Pe]=reactExports.useState(0),[Re,Ie]=reactExports.useState([]),[Be,je]=reactExports.useState([]),{selectedProduct:De,selectedDate:Fe}=useAnalyticsFilter();return reactExports.useEffect(()=>{(async()=>{try{const ke=auth$2.currentUser;if(!ke)return;const Me=collection(db$2,"businesses",ke.uid,"finalizedInvoices"),$e=await getDocs(Me),He={};let Qe=0,Ke=0;for(const qe of $e.docs){const Ye=qe.data(),Xe=Array.isArray(Ye.cartItems)?Ye.cartItems:[],Je=Ye.timestamp?.toDate?.()?.toISOString().split("T")[0];if(!(Fe&&Je!==Fe))for(const er of Xe){if(De&&er.sku!==De)continue;const or=er.id;if(!or)continue;const pr=doc(db$2,"businesses",ke.uid,"products",or),ar=await getDoc(pr);if(!ar.exists())continue;const fr=ar.data(),gr=Number(fr?.costPrice||0),Rr=parseFloat(er?.price||"0"),Ir=Number(er?.quantity||0);(gr===0||Rr===0)&&console.log("Unexpected cost or price:",{product:fr,item:er,costPrice:gr,sellingPrice:Rr});const mr=(Rr-gr)*Ir,Er=Rr*Ir;Qe+=mr,Ke+=Er;const Ar=er.sku||er.name;He[Ar]||(He[Ar]={name:er.name,sku:er.sku,brand:fr.brand||"",unit:fr?.unit?.trim()||"",profit:0,revenue:0}),He[Ar].profit+=mr,He[Ar].revenue+=Er}}const ze=Object.values(He).filter(qe=>qe.profit>0).sort((qe,Ye)=>Ye.profit-qe.profit).slice(0,5);_e(Qe),Pe(Ke);const We=Ke>0?Qe/Ke*100:0;Ie(ze),je(ze.map(qe=>({name:qe.name,revenue:qe.revenue,profit:qe.profit,margin:qe.revenue>0?qe.profit/qe.revenue*100:0})))}catch(ke){console.error("Error calculating profit:",ke)}})()},[De,Fe]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Profit Insights"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Total Revenue:"})," ",Ce.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Total Profit:"})," ",Ee.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Profit Margin:"})," ",(Ee/Ce*100).toFixed(1),"%"]}),jsxRuntimeExports.jsxs("div",{className:"my-6",style:{width:"100%",height:280,display:"flex",gap:"2rem"},children:[jsxRuntimeExports.jsx(ResponsiveContainer,{children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:Re,dataKey:"profit",nameKey:"name",outerRadius:100,label:!0,children:Re.map((Oe,ke)=>jsxRuntimeExports.jsx(Cell,{fill:COLORS[ke%COLORS.length]},`cell-${ke}`))}),jsxRuntimeExports.jsx(Tooltip,{})]})}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:280,children:jsxRuntimeExports.jsxs(BarChart,{data:Be,margin:{top:20,right:30,left:20,bottom:5},children:[jsxRuntimeExports.jsx(XAxis,{dataKey:"name"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{formatter:(Oe,ke,Me)=>{const $e=Be.find(He=>He.name===Me.payload.name);return ke==="Margin"?[`${$e?.margin.toFixed(1)}%`,"Margin"]:[`${Oe.toFixed(2)}`,ke]}}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"revenue",fill:"#4f46e5",name:"Revenue"}),jsxRuntimeExports.jsx(Bar,{dataKey:"profit",fill:"#22c55e",name:"Profit"}),jsxRuntimeExports.jsx(Bar,{dataKey:"margin",fill:"#facc15",name:"Margin"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium mb-2",children:"Top Profit Generating Products:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside",children:[Re.map((Oe,ke)=>jsxRuntimeExports.jsxs("li",{children:[Oe.name," | Brand: ",Oe.brand," | Unit: ",Oe.unit," | SKU: ",Oe.sku," | Profit: ",Oe.profit.toFixed(2)]},ke)),Re.length===0&&jsxRuntimeExports.jsx("li",{className:"text-gray-500",children:"No data available"})]})]})]})},InventoryForecast=()=>{const[Ee,_e]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{try{const Pe=auth$2.currentUser;if(!Pe)return;const Re=collection(db$2,"businesses",Pe.uid,"finalizedInvoices"),Ie=await getDocs(Re),Be={};Ie.forEach(De=>{(De.data().cart||[]).forEach(ke=>{const Me=ke.inventoryId;Me&&(Be[Me]||(Be[Me]=0),Be[Me]+=ke.quantity||0)})});const je=[];for(const De of Object.keys(Be)){const Fe=doc(db$2,"businesses",Pe.uid,"products",De),Oe=await getDoc(Fe);if(!Oe.exists())continue;const ke=Oe.data(),Me=ke.quantity||0,$e=Be[De],He=$e>0?Math.floor(Me/($e/30)):"";He!==""&&He<=7&&je.push({name:ke.name,sku:ke.sku,quantityLeft:Me,avgDailySales:Math.round($e/30),daysRemaining:He})}_e(je)}catch(Pe){console.error("Error forecasting inventory:",Pe)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Inventory Forecast"}),Ee.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No low-stock predictions at the moment."}):jsxRuntimeExports.jsx("ul",{className:"divide-y divide-gray-200",children:Ee.map((Ce,Pe)=>jsxRuntimeExports.jsxs("li",{className:"py-2",children:[jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[Ce.name," (",Ce.sku,")"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Stock Left: ",Ce.quantityLeft,"  Avg Daily Sale: ",Ce.avgDailySales,"  Days Remaining: ",Ce.daysRemaining]})]},Pe))})]})},InvoiceTypeBreakdown=()=>{const[Ee,_e]=reactExports.useState({});return reactExports.useEffect(()=>{(async()=>{try{const Pe=auth$2.currentUser;if(!Pe)return;const Re=collection(db$2,"businesses",Pe.uid,"finalizedInvoices"),Ie=await getDocs(Re),Be={};Ie.forEach(je=>{const Fe=je.data().invoiceType||"Unspecified";Be[Fe]||(Be[Fe]=0),Be[Fe]+=1}),_e(Be)}catch(Pe){console.error("Error fetching invoice type breakdown:",Pe)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Invoice Type Breakdown"}),Object.keys(Ee).length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No invoices found."}):jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-1",children:Object.entries(Ee).map(([Ce,Pe],Re)=>jsxRuntimeExports.jsxs("li",{children:[Ce,": ",Pe," invoice",Pe>1?"s":""]},Re))})]})},SalesGrowthHeatmap=()=>{const[Ee,_e]=reactExports.useState({});return reactExports.useEffect(()=>{(async()=>{try{const Pe=auth$2.currentUser;if(!Pe)return;const Re=collection(db$2,"businesses",Pe.uid,"finalizedInvoices"),Ie=await getDocs(Re),Be={};for(let je=0;je<30;je++){const De=format(subDays(new Date,je),"yyyy-MM-dd");Be[De]=0}Ie.forEach(je=>{const De=je.data();if(!De.createdAt||!De.totalAmount)return;const Fe=De.createdAt.toDate?De.createdAt.toDate():new Date(De.createdAt),Oe=format(Fe,"yyyy-MM-dd");Be[Oe]!==void 0&&(Be[Oe]+=De.totalAmount)}),_e(Be)}catch(Pe){console.error("Error fetching daily sales:",Pe)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sales Growth (Last 30 Days)"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-5 gap-2 text-center text-sm",children:Object.entries(Ee).map(([Ce,Pe],Re)=>jsxRuntimeExports.jsxs("div",{className:"p-2 border rounded",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:format(new Date(Ce),"MMM d")}),jsxRuntimeExports.jsxs("div",{className:"text-green-700 font-semibold",children:["",Pe.toFixed(0)]})]},Re))})]})},SmartSuggestionsPanel=()=>{const[Ee,_e]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{try{const Pe=auth$2.currentUser;if(!Pe)return;const Re=collection(db$2,"businesses",Pe.uid,"finalizedInvoices"),Ie=collection(db$2,"businesses",Pe.uid,"products"),Be=await getDocs(Re),je=await getDocs(Ie);let De=0;const Fe={},Oe=[];Be.forEach(He=>{const Qe=He.data();De+=Qe.totalAmount||0,(Qe.cart||[]).forEach(ze=>{const We=ze.sku||ze.name;We&&(Fe[We]||(Fe[We]=0),Fe[We]+=ze.quantity||0)})}),je.forEach(He=>{const Qe=He.data();(Qe.quantity||0)<10&&Oe.push(Qe.name)});const ke=Object.entries(Fe).sort((He,Qe)=>Qe[1]-He[1]).slice(0,2).map(([He,Qe])=>`Consider bundling "${He}" in offers. High sales volume.`),Me=Oe.map(He=>`Restock soon: "${He}" is running low.`),$e=[` Total Revenue so far: ${De.toFixed(0)}.`,...ke,...Me];_e($e)}catch(Pe){console.error("Error generating smart suggestions:",Pe)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Smart Suggestions"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[Ee.map((Ce,Pe)=>jsxRuntimeExports.jsx("li",{className:"text-gray-700",children:Ce},Pe)),Ee.length===0&&jsxRuntimeExports.jsx("li",{className:"text-gray-500",children:"Generating suggestions..."})]})]})},BusinessAnalytics=()=>jsxRuntimeExports.jsx(AnalyticsFilterProvider,{children:jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" Business Analytics Dashboard"}),jsxRuntimeExports.jsx(FilterControls,{}),jsxRuntimeExports.jsx(RevenueOverview,{}),jsxRuntimeExports.jsx(TopSellingProducts,{}),jsxRuntimeExports.jsx(ProfitInsights,{}),jsxRuntimeExports.jsx(InventoryForecast,{}),jsxRuntimeExports.jsx(InvoiceTypeBreakdown,{}),jsxRuntimeExports.jsx(SalesGrowthHeatmap,{}),jsxRuntimeExports.jsx(SmartSuggestionsPanel,{})]})}),FilterControls=()=>{const{selectedProduct:Ee,setSelectedProduct:_e,selectedDate:Ce,setSelectedDate:Pe}=useAnalyticsFilter();return jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select Product:"}),jsxRuntimeExports.jsxs("select",{className:"mt-1 block w-60 rounded border-gray-300 shadow-sm",value:Ee||"",onChange:Re=>_e(Re.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Products"}),jsxRuntimeExports.jsx("option",{value:"SKU1",children:"SKU1"}),jsxRuntimeExports.jsx("option",{value:"SKU2",children:"SKU2"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select Date:"}),jsxRuntimeExports.jsx("input",{type:"date",className:"mt-1 block w-48 rounded border-gray-300 shadow-sm",value:Ce||"",onChange:Re=>Pe(Re.target.value)})]})]})},SendRequestModal=({distributor:Ee,onClose:_e})=>{const[Ce,Pe]=reactExports.useState(""),[Re,Ie]=reactExports.useState(!1),Be=auth$2.currentUser,je=async()=>{if(!Be||!Ee?.id){alert("Missing user or distributor info.");return}Ie(!0);const De=Be.uid,Fe=Ee.id,Oe={retailerId:De,retailerName:Be.displayName||"Retailer",message:Ce||"",sentAt:serverTimestamp(),status:"pending"};console.log(" Sending request to distributor:",Fe),console.log(" Request payload:",Oe);try{await setDoc(doc(db$2,`businesses/${Fe}/connectionRequests/${De}`),Oe),await setDoc(doc(db$2,`businesses/${De}/sentRequests/${Fe}`),{distributorId:Fe,distributorName:Ee.businessName||Ee.displayName||"Distributor",retailerId:De,message:Ce||"",sentAt:serverTimestamp(),status:"pending"}),alert(" Connection request sent!"),_e()}catch(ke){console.error(" Error sending request:",ke),alert("Failed to send request. Check console for details.")}finally{Ie(!1)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-md",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Connect with ",Ee.businessName]}),jsxRuntimeExports.jsx("textarea",{className:"w-full border px-3 py-2 rounded mb-4",placeholder:"Optional message...",rows:3,value:Ce,onChange:De=>Pe(De.target.value)}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:_e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:je,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:Re,children:Re?"Sending...":"Send Request"})]})]})})},checkIfRequestExists=async(Ee,_e)=>{const Ce=doc(db$2,"businesses",Ee,"sentRequests",_e),Pe=doc(db$2,"businesses",_e,"connectionRequests",Ee),[Re,Ie]=await Promise.all([getDoc(Ce),getDoc(Pe)]);if(Re.exists()&&Ie.exists()){const Be=Re.data().status,je=Ie.data().status;return Be==="accepted"&&je==="accepted"?"connected":Be||je||null}else{if(Re.exists())return Re.data().status;if(Ie.exists())return Ie.data().status}return null},SearchDistributor=()=>{const[Ee,_e]=reactExports.useState(""),[Ce,Pe]=reactExports.useState([]),[Re,Ie]=reactExports.useState(!1),[Be,je]=reactExports.useState(null),[De,Fe]=reactExports.useState(!1),Oe=async()=>{if(!Ee.trim())return;Ie(!0);const ke=query(collection(db$2,"businesses"),where("role","==","Distributor"));let Me=[];try{Me=await getDocs(ke)}catch(Qe){console.error(" Firestore search error:",Qe.message),alert("Permission error or network issue. Please check your Firebase rules or connection."),Ie(!1);return}const $e=[],He=auth$2.currentUser?.uid;for(const Qe of Me.docs){const Ke=Qe.data(),ze=Qe.id;if(Ke.businessName?.toLowerCase().includes(Ee.toLowerCase())||Ke.ownerName?.toLowerCase().includes(Ee.toLowerCase())||Ke.phone?.includes(Ee)||Ke.city?.toLowerCase().includes(Ee.toLowerCase())||ze===Ee){const We=await checkIfRequestExists(He,ze);$e.push({id:ze,...Ke,requestStatus:We})}}Pe($e),Ie(!1)};return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Search Distributors"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, phone, city or ID",value:Ee,onChange:ke=>_e(ke.target.value),className:"border px-3 py-2 rounded w-full"}),jsxRuntimeExports.jsx("button",{onClick:Oe,className:"bg-blue-600 text-white px-4 py-2 rounded",children:Re?"Searching...":"Search"})]}),jsxRuntimeExports.jsxs("div",{children:[Ce.length===0&&!Re&&jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No distributors found."}),Ce.map(ke=>jsxRuntimeExports.jsxs("div",{className:"border p-3 rounded mb-2 shadow-sm flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:ke.businessName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Owner: ",ke.ownerName]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["City: ",ke.city]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Phone: ",ke.phone]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",ke.id]})]}),ke.requestStatus==="connected"?jsxRuntimeExports.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded",children:"Connected"}):ke.requestStatus==="accepted"?jsxRuntimeExports.jsx("span",{className:"bg-green-400 text-white px-3 py-1 rounded",children:"Accepted"}):ke.requestStatus==="pending"?jsxRuntimeExports.jsx("span",{className:"bg-gray-400 text-white px-3 py-1 rounded",children:"Request Sent"}):jsxRuntimeExports.jsx("button",{onClick:()=>{je(ke),Fe(!0)},className:"bg-green-600 text-white px-3 py-1 rounded",children:"Send Request"})]},ke.id))]}),De&&Be&&jsxRuntimeExports.jsx(SendRequestModal,{distributor:Be,onClose:()=>{Fe(!1),je(null)}})]})},ViewSentRequests=()=>{const[Ee,_e]=reactExports.useState([]),[Ce,Pe]=reactExports.useState(!1),Re=auth$2.currentUser;return reactExports.useEffect(()=>{if(!Re)return;const Ie=collection(db$2,`businesses/${Re.uid}/sentRequests`),Be=onSnapshot(Ie,je=>{const De=je.docs.map(Fe=>({id:Fe.id,...Fe.data()}));_e(De)});return()=>Be()},[Re]),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Sent Distributor Requests"}),Ce?jsxRuntimeExports.jsx("p",{children:"Loading..."}):Ee.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"You havent sent any requests yet."}):jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:Ee.map(Ie=>jsxRuntimeExports.jsxs("li",{className:"border rounded p-4 flex justify-between items-center shadow-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:Ie.distributorName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Distributor ID: ",Ie.distributorId]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",Ie.status]})]}),Ie.status==="pending"&&jsxRuntimeExports.jsx("button",{disabled:!0,className:"bg-yellow-400 text-white px-3 py-1 rounded opacity-60 cursor-not-allowed",children:"Pending"}),Ie.status==="active"&&jsxRuntimeExports.jsx("span",{className:"bg-green-600 text-white px-3 py-1 rounded",children:"Connected"})]},Ie.id))})]})},RetailerOrderRequestForm=({distributorId:Ee})=>{const[_e,Ce]=reactExports.useState([]),[Pe,Re]=reactExports.useState(!1),[Ie,Be]=reactExports.useState([]),[je,De]=reactExports.useState([]),[Fe,Oe]=reactExports.useState("COD"),[ke,Me]=reactExports.useState(15),[$e,He]=reactExports.useState({advance:"",balance:""});reactExports.useEffect(()=>{if(!Ee)return;const We=query(collection(db$2,"businesses",Ee,"products")),qe=onSnapshot(We,Ye=>{const Xe=Ye.docs.map(rr=>({id:rr.id,...rr.data()}));Be(Xe)});return()=>qe()},[Ee]);const Qe=(We,qe,Ye)=>{const Xe=[..._e];if(Xe[We][qe]=Ye,Ce(Xe),qe==="productName"){const rr=Ye.toLowerCase(),Je=Ie.filter(er=>er.productName?.toLowerCase().includes(rr)||er.sku?.toLowerCase().includes(rr)||er.brand?.toLowerCase().includes(rr)||er.category?.toLowerCase().includes(rr)||er.unit?.toLowerCase().includes(rr)||(er.sellingPrice+"").includes(rr));De(Je)}},Ke=()=>{Ce([..._e,{productName:"",sku:"",brand:"",category:"",quantity:"",unit:"",description:"",notes:"",unitPrice:""}])},ze=async()=>{const We=auth$2.currentUser;if(!(!We||!Ee||_e.length===0))try{Re(!0);const qe=_e.reduce((ar,fr)=>{const gr=parseFloat(fr.quantity)||0,Rr=parseFloat(fr.unitPrice)||0;return ar+gr*Rr},0),Ye=await getDoc(doc(db$2,"businesses",Ee)),Xe=Ye.exists()?Ye.data():{},rr=Xe.phone||"",Je=Xe.email||"",er=collection(db$2,`businesses/${Ee}/orderRequests`),or=await addDoc(er,{retailerId:We.uid,distributorId:Ee,items:_e,totalAmount:qe,paymentMode:Fe,creditDays:Fe==="Credit Cycle"?ke:null,splitPayment:Fe==="Split Payment"?$e:null,status:"Requested",timestamp:serverTimestamp(),distributorName:Xe.businessName||Xe.ownerName||"",distributorCity:Xe.city||"",distributorState:Xe.state||"",distributorPhone:rr,distributorEmail:Je}),pr=doc(db$2,`businesses/${We.uid}/sentOrders/${or.id}`);await setDoc(pr,{retailerId:We.uid,distributorId:Ee,items:_e,totalAmount:qe,paymentMode:Fe,creditDays:Fe==="Credit Cycle"?ke:null,splitPayment:Fe==="Split Payment"?$e:null,status:"Requested",timestamp:serverTimestamp(),distributorName:Xe.businessName||Xe.ownerName||"",distributorCity:Xe.city||"",distributorState:Xe.state||"",distributorPhone:rr,distributorEmail:Je}),y$2.success("Order request sent successfully!"),Ce([{productName:"",sku:"",brand:"",category:"",quantity:"",unit:"",description:"",notes:"",unitPrice:""}])}catch(qe){console.error("Error sending order:",qe),alert("Failed to send order request.")}finally{Re(!1)}};return jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded shadow-md bg-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Send Order Request"}),jsxRuntimeExports.jsxs("div",{className:"mb-4 relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:" Search product by name, SKU, brand, etc.",className:"w-full px-4 py-2 border rounded shadow-sm",onChange:We=>{const qe=We.target.value.toLowerCase();if(qe.trim()===""){De([]);return}const Ye=Ie.filter(Xe=>Xe.productName?.toLowerCase().includes(qe)||Xe.sku?.toLowerCase().includes(qe)||Xe.brand?.toLowerCase().includes(qe)||Xe.category?.toLowerCase().includes(qe)||(Xe.sellingPrice+"").includes(qe));De(Ye)}}),je.length>0&&jsxRuntimeExports.jsx("ul",{className:"bg-white border rounded mt-1 max-h-40 overflow-y-auto text-sm absolute left-0 right-0 z-20",children:je.map(We=>jsxRuntimeExports.jsxs("li",{className:"px-3 py-2 hover:bg-blue-100 cursor-pointer border-b",onClick:()=>{if(_e.some(Ye=>Ye.sku===We.sku)){y$2.warning("Item already added to cart.");return}Ce([..._e,{productName:We.productName,sku:We.sku,brand:We.brand,category:We.category,quantity:"",unit:We.unit||"",description:"",notes:"",unitPrice:We.sellingPrice||"",available:We.quantity,distributorProductId:We.id}]),De([])},children:[jsxRuntimeExports.jsx("div",{className:"font-semibold",children:We.productName}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-600 flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs("span",{children:["Brand: ",We.brand||""]}),jsxRuntimeExports.jsxs("span",{children:["SKU: ",We.sku||""]}),jsxRuntimeExports.jsxs("span",{children:["Unit: ",We.unit||""]}),jsxRuntimeExports.jsxs("span",{children:["Price: ",We.sellingPrice||""]}),jsxRuntimeExports.jsxs("span",{className:`font-semibold ${We.quantity===0?"text-red-600":We.quantity<=10?"text-yellow-600":"text-green-600"}`,children:["In Stock: ",We.quantity]})]})]},We.id))})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"font-medium mr-2",children:"Payment Mode:"}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",value:Fe,onChange:We=>Oe(We.target.value),children:[jsxRuntimeExports.jsx("option",{value:"COD",children:"Cash on Delivery"}),jsxRuntimeExports.jsx("option",{value:"Advance Payment",children:"Advance Payment"}),jsxRuntimeExports.jsx("option",{value:"Credit Cycle",children:"Credit Cycle"}),jsxRuntimeExports.jsx("option",{value:"Post-Sale Payment",children:"Post-Sale Payment"}),jsxRuntimeExports.jsx("option",{value:"Split Payment",children:"Split Payment"}),jsxRuntimeExports.jsx("option",{value:"Monthly Ledger",children:"Monthly Credit Statement"})]}),Fe==="Credit Cycle"&&jsxRuntimeExports.jsx("input",{type:"number",className:"ml-4 border px-3 py-2 rounded",placeholder:"Credit days",value:ke,onChange:We=>Me(We.target.value)}),Fe==="Split Payment"&&jsxRuntimeExports.jsxs("div",{className:"ml-4 flex gap-2 mt-2",children:[jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Advance %",className:"border px-3 py-2 rounded",value:$e.advance,onChange:We=>He({...$e,advance:We.target.value})}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Balance %",className:"border px-3 py-2 rounded",value:$e.balance,onChange:We=>He({...$e,balance:We.target.value})})]})]}),_e.map((We,qe)=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-9 gap-2 mb-2 items-center",children:[jsxRuntimeExports.jsx("div",{className:"relative flex-grow",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Product Name",className:"border px-3 py-2 rounded w-full bg-gray-100 cursor-not-allowed",value:We.productName,disabled:!0})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"SKU",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:We.sku,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Brand",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:We.brand,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Category",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:We.category,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Quantity",className:"border px-3 py-2 rounded",value:We.quantity,onChange:Ye=>Qe(qe,"quantity",Ye.target.value)}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Unit (e.g., kg)",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:We.unit,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Price ()",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:We.unitPrice,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Description",className:"border px-3 py-2 rounded",value:We.description,onChange:Ye=>Qe(qe,"description",Ye.target.value)}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Notes",className:"border px-3 py-2 rounded w-full",value:We.notes,onChange:Ye=>Qe(qe,"notes",Ye.target.value)}),jsxRuntimeExports.jsx("button",{onClick:()=>{const Ye=_e.filter((Xe,rr)=>rr!==qe);Ce(Ye)},className:"text-red-500 hover:text-red-700 text-sm",title:"Remove Row",children:""})]})]},qe)),jsxRuntimeExports.jsx("button",{onClick:Ke,className:"mb-4 bg-gray-300 px-3 py-1 rounded text-sm hover:bg-gray-400",children:"+ Add Item"}),jsxRuntimeExports.jsxs("div",{className:"text-right font-semibold text-lg mb-3",children:["Total: ",_e.reduce((We,qe)=>We+parseFloat(qe.unitPrice||0)*parseFloat(qe.quantity||0),0).toFixed(2)]}),jsxRuntimeExports.jsx("button",{onClick:ze,disabled:Pe||!Ee,className:"block w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:Pe?"Sending Order...":"Send Order"})]})},checkRetailerConnected=async(Ee,_e)=>{const Ce=doc(db$2,"businesses",_e,"connectedRetailers",Ee);return(await getDoc(Ce)).exists()},SmartAssistant=({distributor:Ee})=>{reactExports.useEffect(()=>{console.log(" SmartAssistant Debug:"),console.log("Retailer UID (auth):",auth$2.currentUser?.uid),console.log("Distributor ID (prop):",Ee?.id)},[Ee]);const[_e,Ce]=reactExports.useState([]),[Pe,Re]=reactExports.useState(""),[Ie,Be]=reactExports.useState(""),[je,De]=reactExports.useState(!1),[Fe,Oe]=reactExports.useState([]),[ke,Me]=reactExports.useState(""),$e=reactExports.useRef(null),He=auth$2.currentUser?.uid,Qe=Ee?.id;reactExports.useEffect(()=>{if(!He||!Qe)return;const ze=collection(db$2,"businesses",Qe,"connectedRetailers",He,"assistantChats"),We=query(ze,orderBy$1("timestamp")),qe=onSnapshot(We,Ye=>{const Xe=Ye.docs.map(rr=>({id:rr.id,...rr.data()}));Ce(Xe)});return()=>qe()},[He,Qe]),reactExports.useEffect(()=>{if(!He||!Qe)return;const ze=query(collection(db$2,"assistantQueries"),orderBy$1("timestamp","desc")),We=onSnapshot(ze,qe=>{const Ye=qe.docs.find(Xe=>Xe.data().userId===He&&Xe.data().distributorId===Qe&&Xe.data().source==="SmartAssistant"&&Xe.data().reply);if(Ye){const Xe=Ye.data().reply;if(!_e.some(Je=>Je.message===Xe&&Je.sender==="assistant")){const Je={id:`reply-${Ye.id}`,message:Xe,sender:"assistant",timestamp:Ye.data().timestamp};Ce(er=>[...er,Je]),De(!1)}}});return()=>We()},[He,Qe,_e]),reactExports.useEffect(()=>{const ze=setTimeout(()=>{Me(Pe.trim())},300);return()=>clearTimeout(ze)},[Pe]),reactExports.useEffect(()=>{if(!ke||!Qe){Oe([]);return}(async()=>{if(!await checkRetailerConnected(He,Qe)){Oe([]);return}const qe=query(collection(db$2,"businesses",Qe,"products"));try{const Xe=(await __vitePreload(async()=>{const{getDocs:rr}=await Promise.resolve().then(()=>index_esm);return{getDocs:rr}},void 0,import.meta.url).then(({getDocs:rr})=>rr(qe))).docs.map(rr=>rr.data().name).filter(rr=>rr?.toLowerCase().includes(ke.toLowerCase()));Oe(Xe.slice(0,5))}catch(Ye){console.error("Suggestion fetch error:",Ye),Oe([])}})()},[ke,Qe]);const Ke=async()=>{if(!Pe.trim())return;if(!He||!Qe){console.error("Missing retailerId or distributorId");return}const ze={message:Pe.trim(),sender:"retailer",timestamp:serverTimestamp()};try{await addDoc(collection(db$2,"businesses",Qe,"connectedRetailers",He,"assistantChats"),ze),await addDoc(collection(db$2,"assistantQueries"),{prompt:Pe.trim(),timestamp:serverTimestamp(),userId:He,distributorId:Qe,role:"retailer",source:"SmartAssistant"}),Re(""),De(!0)}catch(We){console.error("Failed to send message:",We.message)}};return reactExports.useEffect(()=>{$e.current?.scrollIntoView({behavior:"smooth"})},[_e]),jsxRuntimeExports.jsxs("div",{className:"h-[500px] flex flex-col border rounded shadow p-4 bg-white relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 mb-4",children:[_e.map(ze=>jsxRuntimeExports.jsxs("div",{className:`p-2 max-w-xs rounded ${ze.sender==="retailer"?"bg-blue-100 self-end text-right":"bg-gray-100 self-start text-left"}`,children:[jsxRuntimeExports.jsx("p",{className:"text-sm",children:ze.message}),ze.sender==="assistant"&&ze.timestamp&&jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:" Delivered"})]},ze.id)),je&&jsxRuntimeExports.jsx("div",{className:"p-2 max-w-xs rounded bg-gray-100 self-start text-left animate-pulse",children:jsxRuntimeExports.jsx("p",{className:"text-sm italic text-gray-500",children:"Assistant is typing..."})}),jsxRuntimeExports.jsx("div",{ref:$e})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 relative",children:[jsxRuntimeExports.jsx("input",{type:"text",className:"flex-1 border rounded px-3 py-2 text-sm",placeholder:"Ask something...",value:Pe,onChange:ze=>Re(ze.target.value),onKeyDown:ze=>ze.key==="Enter"&&Ke()}),jsxRuntimeExports.jsx("button",{onClick:Ke,className:"bg-blue-600 text-white px-4 py-2 rounded text-sm",children:"Send"}),Fe.length>0&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-14 left-0 right-0 bg-white border rounded shadow text-sm z-10",children:Fe.map((ze,We)=>jsxRuntimeExports.jsx("div",{onClick:()=>{Re(ze),Oe([])},className:"px-3 py-2 hover:bg-gray-100 cursor-pointer",children:ze},We))})]})]})},ConnectedDistributorPanel=({distributor:Ee,onBack:_e})=>{if(!Ee)return console.warn(" No distributor passed to ConnectedDistributorPanel"),jsxRuntimeExports.jsx("div",{className:"p-4 text-red-600",children:"Error: No distributor selected."});const[Ce,Pe]=reactExports.useState("overview"),Re=()=>{switch(Ce){case"overview":return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Distributor Overview"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Name:"})," ",Ee?.businessName||Ee?.distributorName||Ee?.name||Ee?.ownerName||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"City:"})," ",Ee?.city||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Phone:"})," ",Ee?.phone||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",Ee?.email||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"ID:"})," ",Ee?.id||"N/A"]})]});case"enquiry":return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Send Enquiry"}),jsxRuntimeExports.jsx("textarea",{className:"w-full border p-2 rounded",rows:"4",placeholder:"Type your message about item, pricing or availability..."}),jsxRuntimeExports.jsx("button",{className:"mt-2 bg-blue-600 text-white px-4 py-2 rounded",children:"Send Enquiry"})]});case"order":return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Place Order"}),jsxRuntimeExports.jsx(RetailerOrderRequestForm,{distributorId:Ee?.id})]});case"chat":return jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsx(SmartAssistant,{distributor:Ee})});default:return null}};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow-md mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50 rounded-t",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Connected to ",Ee?.businessName||Ee?.distributorName||Ee?.name||Ee?.ownerName||"N/A"]}),_e&&jsxRuntimeExports.jsx("button",{onClick:_e,className:"text-sm text-blue-600 hover:underline","data-testid":"back-to-distributors",children:" Back"})]}),jsxRuntimeExports.jsx("div",{className:"flex border-b",children:[{key:"overview",label:"Distributor Overview"},{key:"enquiry",label:"Send Enquiry"},{key:"order",label:"Place Order"},{key:"chat",label:"Smart Assistant"}].map(({key:Ie,label:Be})=>jsxRuntimeExports.jsx("button",{className:`px-4 py-2 text-sm capitalize font-medium ${Ce===Ie?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,onClick:()=>Pe(Ie),children:Be},Ie))}),jsxRuntimeExports.jsx("div",{children:Re()})]})},RetailerConnectedDistributors=({onSelect:Ee})=>{const[_e,Ce]=reactExports.useState([]),[Pe,Re]=reactExports.useState(!1),Ie=auth$2.currentUser;reactExports.useEffect(()=>{Ie&&Be()},[Ie]);const Be=async()=>{Re(!0);try{const Oe=collection(db$2,`businesses/${Ie.uid}/connectedDistributors`),ke=await getDocs(Oe);if(ke.empty)console.warn(`[ConnectedDistributors]  No connectedDistributors found for user: ${Ie.uid}`),Ce([]);else{const $e=ke.docs.map(He=>{const Qe=He.data()||{};return{id:He.id,distributorName:Qe.distributorName||"Unnamed Distributor",city:Qe.city||"Unknown City",email:Qe.distributorEmail||"Not Provided",phone:Qe.distributorPhone||"Not Provided",distributorOwner:Qe.distributorOwner||"",...Qe}}).sort((He,Qe)=>{const Ke=He.distributorName.toLowerCase(),ze=Qe.distributorName.toLowerCase();return Ke.localeCompare(ze)});console.log(`[ConnectedDistributors]  Found ${$e.length} connected distributors`),Ce($e)}}catch(Oe){console.error("[ConnectedDistributors]  Error fetching connected distributors:",Oe),Ce([])}Re(!1)},[je,De]=reactExports.useState(null),Fe=async Oe=>{try{const ke=doc(db$2,"businesses",Oe.id),Me=await getDoc(ke);if(Me.exists()){const $e=Me.data();De({...Oe,...$e})}else console.warn(`No profile found for distributor ID: ${Oe.id}`),De(Oe)}catch(ke){console.error("Failed to fetch distributor profile:",ke),De(Oe)}};return jsxRuntimeExports.jsx("div",{children:Pe?jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:"Loading connected distributors..."}):je?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"mb-4 text-lg font-semibold",children:["Distributor: ",je?.distributorName||je?.id]}),jsxRuntimeExports.jsx(ConnectedDistributorPanel,{distributor:je,onBack:()=>De(null)})]}):_e.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"No connected distributors found."}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"View Connected Distributors"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_e.map(Oe=>jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:Oe.distributorOwner||Oe.distributorName||Oe.id}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:Oe.city||"City unknown"}),(Oe.phone||Oe.email)&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[Oe.phone&&jsxRuntimeExports.jsxs("span",{children:["Phone: ",Oe.phone," "]}),Oe.email&&jsxRuntimeExports.jsxs("span",{children:["Email: ",Oe.email]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Fe(Oe),className:"mt-2 text-sm bg-blue-600 text-white px-3 py-1 rounded",children:"View Details"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-green-600 font-semibold",children:"Connected"})]},Oe.id))})]})})},AddEmployeeForm=()=>{const[Ee,_e]=reactExports.useState({name:"",email:"",password:"",role:"Staff",phone:""}),[Ce,Pe]=reactExports.useState(!1),Re=je=>{_e({...Ee,[je.target.name]:je.target.value})},Ie=()=>"FLYP-"+Math.random().toString(36).substr(2,9).toUpperCase(),Be=async je=>{je.preventDefault();const{name:De,email:Fe,password:Oe,role:ke,phone:Me}=Ee;if(!De||!Fe||!Oe||!Me)return y$2.error("Please fill all fields");try{Pe(!0);const $e=auth$2.currentUser;if(!$e){y$2.error("User not authenticated. Please log in again.");return}const He=Ie(),Qe=httpsCallable(functions,"createEmployee");try{const Ke=await Qe({name:De,email:Fe,password:Oe,role:ke,retailerId:$e.uid,phone:Me,flypId:He});if(!Ke.data.success)throw new Error(Ke.data.message||"Failed to create employee");await setDoc(doc(db$2,"employeeIndex",He),{uid:Ke.data.uid,retailerId:$e.uid,email:Fe}),await setDoc(doc(db$2,`businesses/${$e.uid}/employees/${Ke.data.uid}`),{name:De,email:Fe,phone:Me,role:ke,createdAt:new Date,flypId:He,uid:Ke.data.uid,status:"active"})}catch(Ke){console.error("Callable function error:",Ke),y$2.error(Ke.message||"Failed to create employee via function");return}y$2.success("Employee created successfully!"),_e({name:"",email:"",password:"",role:"Staff",phone:""})}catch($e){console.error($e),y$2.error($e.message||"Failed to create employee")}finally{Pe(!1)}};return jsxRuntimeExports.jsxs("form",{onSubmit:Be,className:"bg-white shadow p-6 rounded-lg w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add Employee"}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:Ee.name,onChange:Re,className:"w-full border px-3 py-2 rounded",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:Ee.email,onChange:Re,className:"w-full border px-3 py-2 rounded",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Password"}),jsxRuntimeExports.jsx("input",{type:"password",name:"password",value:Ee.password,onChange:Re,className:"w-full border px-3 py-2 rounded",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phone",value:Ee.phone,onChange:Re,className:"w-full border px-3 py-2 rounded",placeholder:"+91XXXXXXXXXX",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Role"}),jsxRuntimeExports.jsxs("select",{name:"role",value:Ee.role,onChange:Re,className:"w-full border px-3 py-2 rounded",children:[jsxRuntimeExports.jsx("option",{value:"Staff",children:"Staff"}),jsxRuntimeExports.jsx("option",{value:"Manager",children:"Manager"})]})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Ce,className:"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:Ce?"Creating...":"Create Employee"})]})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$2=["attr","size","title"];function _objectWithoutProperties$1(Ee,_e){if(Ee==null)return{};var Ce=_objectWithoutPropertiesLoose$1(Ee,_e),Pe,Re;if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Re=0;Re<Ie.length;Re++)Pe=Ie[Re],!(_e.indexOf(Pe)>=0)&&Object.prototype.propertyIsEnumerable.call(Ee,Pe)&&(Ce[Pe]=Ee[Pe])}return Ce}function _objectWithoutPropertiesLoose$1(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if(Object.prototype.hasOwnProperty.call(Ee,Pe)){if(_e.indexOf(Pe)>=0)continue;Ce[Pe]=Ee[Pe]}return Ce}function _extends(){return _extends=Object.assign?Object.assign.bind():function(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e];for(var Pe in Ce)Object.prototype.hasOwnProperty.call(Ce,Pe)&&(Ee[Pe]=Ce[Pe])}return Ee},_extends.apply(this,arguments)}function ownKeys$g(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$g(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$g(Object(Ce),!0).forEach(function(Pe){_defineProperty$1(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$g(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function _defineProperty$1(Ee,_e,Ce){return _e=_toPropertyKey(_e),_e in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function _toPropertyKey(Ee){var _e=_toPrimitive(Ee,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive(Ee,_e){if(typeof Ee!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function Tree2Element(Ee){return Ee&&Ee.map((_e,Ce)=>React.createElement(_e.tag,_objectSpread$g({key:Ce},_e.attr),Tree2Element(_e.child)))}function GenIcon(Ee){return _e=>React.createElement(IconBase,_extends({attr:_objectSpread$g({},Ee.attr)},_e),Tree2Element(Ee.child))}function IconBase(Ee){var _e=Ce=>{var{attr:Pe,size:Re,title:Ie}=Ee,Be=_objectWithoutProperties$1(Ee,_excluded$2),je=Re||Ce.size||"1em",De;return Ce.className&&(De=Ce.className),Ee.className&&(De=(De?De+" ":"")+Ee.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},Ce.attr,Pe,Be,{className:De,style:_objectSpread$g(_objectSpread$g({color:Ee.color||Ce.color},Ce.style),Ee.style),height:je,width:je,xmlns:"http://www.w3.org/2000/svg"}),Ie&&React.createElement("title",null,Ie),Ee.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,Ce=>_e(Ce)):_e(DefaultContext)}function FiTrash2(Ee){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(Ee)}const ViewEmployees=()=>{const[Ee,_e]=reactExports.useState([]),[Ce,Pe]=reactExports.useState([]),[Re,Ie]=reactExports.useState(""),[Be,je]=reactExports.useState(!0),De=auth$2.currentUser;reactExports.useEffect(()=>{if(!De)return;const Me=query(collection(db$2,"businesses",De.uid,"employees")),$e=onSnapshot(Me,He=>{const Qe=He.docs.map(Ke=>({id:Ke.id,...Ke.data()}));_e(Qe),Pe(Qe),je(!1)});return()=>$e()},[De]),reactExports.useEffect(()=>{const Me=Re.toLowerCase(),$e=Ee.filter(He=>He.name?.toLowerCase().includes(Me)||He.email?.toLowerCase().includes(Me)||He.role?.toLowerCase().includes(Me));Pe($e)},[Re,Ee]);const Fe=async Me=>{window.confirm("Are you sure you want to delete this employee?")&&(await deleteDoc(doc(db$2,"businesses",De.uid,"employees",Me)),y$2.success("Employee deleted successfully"))},Oe=async Me=>{const $e=Me.status==="active"?"inactive":"active";await updateDoc(doc(db$2,"businesses",De.uid,"employees",Me.id),{status:$e}),y$2.success(`Status changed to ${$e}`)},ke=Me=>{if(!Me?.toDate)return"-";const $e=Me.toDate(),Qe=Math.floor((new Date-$e)/1e3);return Qe<60?"Just now":Qe<3600?`${Math.floor(Qe/60)} mins ago`:Qe<86400?$e.toLocaleTimeString():$e.toLocaleDateString()};return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"View Employees"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, email or role...",value:Re,onChange:Me=>Ie(Me.target.value),className:"mb-4 w-full px-4 py-2 border border-gray-300 rounded shadow-sm"}),Be?jsxRuntimeExports.jsx("p",{children:"Loading..."}):Ce.length===0?jsxRuntimeExports.jsx("p",{children:"No employees found."}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100 text-left text-sm font-semibold",children:[jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"FLYP ID"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Phone"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Role"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Presence"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Created At"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Login Link"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ce.map(Me=>jsxRuntimeExports.jsxs("tr",{className:"text-sm hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Me.flypId||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Me.name||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Me.email||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Me.phone||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:jsxRuntimeExports.jsxs("select",{value:Me.role||"",onChange:async $e=>{const He=$e.target.value;await updateDoc(doc(db$2,"businesses",De.uid,"employees",Me.id),{role:He}),y$2.success(`Role updated to ${He}`)},className:"text-sm px-2 py-1 border border-gray-300 rounded",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select"}),jsxRuntimeExports.jsx("option",{value:"Manager",children:"Manager"}),jsxRuntimeExports.jsx("option",{value:"Sales",children:"Sales"}),jsxRuntimeExports.jsx("option",{value:"Inventory",children:"Inventory"}),jsxRuntimeExports.jsx("option",{value:"Admin",children:"Admin"})]})}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:jsxRuntimeExports.jsx("button",{onClick:()=>Oe(Me),className:`px-2 py-1 rounded text-xs ${Me.status==="active"?"bg-green-200 text-green-800":"bg-gray-200 text-gray-700"}`,children:Me.status==="active"?"Active":"Inactive"})}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Me.online?jsxRuntimeExports.jsx("span",{className:"text-green-600 font-medium",children:"Online"}):jsxRuntimeExports.jsxs("span",{className:"text-gray-500 text-xs italic",children:["Last seen: ",ke(Me.lastSeen)]})}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Me.createdAt?.toDate?.().toLocaleDateString()||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Me.flypId?jsxRuntimeExports.jsx("button",{onClick:()=>{const $e=`https://flypnow.com/employee-login?uid=${Me.flypId}`;navigator.clipboard.writeText($e),y$2.success("Login link copied!")},className:"text-blue-600 hover:underline text-sm",children:"Copy Link"}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs italic",children:"No FLYP ID"})}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:jsxRuntimeExports.jsx("button",{onClick:()=>Fe(Me.id),className:"text-red-600 hover:text-red-800",children:jsxRuntimeExports.jsx(FiTrash2,{})})})]},Me.id))})]})})]})},ManageEmployee=()=>{const[Ee,_e]=reactExports.useState("add");return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-6",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded-md ${Ee==="add"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>_e("add"),children:" Add Employee"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded-md ${Ee==="view"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>_e("view"),children:" View Employees"})]}),Ee==="add"&&jsxRuntimeExports.jsx(AddEmployeeForm,{}),Ee==="view"&&jsxRuntimeExports.jsx(ViewEmployees,{})]})};function FaBoxes(Ee){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(Ee)}function FaBuilding(Ee){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(Ee)}function FaChartLine(Ee){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(Ee)}function FaFileInvoice(Ee){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(Ee)}function FaHome(Ee){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(Ee)}function FaSignOutAlt(Ee){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(Ee)}function FaUserPlus(Ee){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(Ee)}function FaUser(Ee){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(Ee)}function FaUsers(Ee){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(Ee)}const RetailerDashboard=()=>{const[Ee,_e]=reactExports.useState("home"),[Ce,Pe]=reactExports.useState(null),[Re,Ie]=reactExports.useState(null),[Be,je]=reactExports.useState("add"),[De,Fe]=reactExports.useState("manual"),[Oe,ke]=reactExports.useState("all"),[Me,$e]=reactExports.useState({start:null,end:null}),[He,Qe]=reactExports.useState("search"),[Ke,ze]=reactExports.useState(!1);reactExports.useEffect(()=>{const Xe=new Date;$e(Oe==="month"?{start:startOfMonth(Xe),end:endOfMonth(Xe)}:Oe==="week"?{start:startOfWeek(Xe,{weekStartsOn:1}),end:endOfWeek(Xe,{weekStartsOn:1})}:{start:null,end:null})},[Oe]);const We=useNavigate();reactExports.useEffect(()=>{const Xe=onAuthStateChanged(auth$2,async rr=>{try{if(rr){const Je=doc(db$2,"businesses",rr.uid),er=await getDoc(Je);er.exists()&&Ie({...er.data(),userId:rr.uid,flypId:er.data().flypId||rr.uid})}else console.warn("User not authenticated yet.")}catch(Je){console.error("Error fetching user profile:",Je)}});return()=>Xe()},[]);const qe=()=>{signOut(auth$2).then(()=>{We("/auth?type=login")}).catch(Xe=>{console.error("Sign out error:",Xe)})},Ye=[{id:"home",label:"Home",icon:jsxRuntimeExports.jsx(FaHome,{})},{id:"billing",label:"Billing",icon:jsxRuntimeExports.jsx(FaFileInvoice,{})},{id:"inventory",label:"Inventory",icon:jsxRuntimeExports.jsx(FaBoxes,{})},{id:"analytics",label:"Business Analytics",icon:jsxRuntimeExports.jsx(FaChartLine,{})},{id:"distributors",label:"Distributor Connection",icon:jsxRuntimeExports.jsx(FaBuilding,{})},{id:"orderHistory",label:"Order History",icon:jsxRuntimeExports.jsx(FaFileInvoice,{})},{id:"customers",label:"Customer Analysis",icon:jsxRuntimeExports.jsx(FaUsers,{})},{id:"employees",label:"Manage Employee",icon:jsxRuntimeExports.jsx(FaUserPlus,{})},{id:"profile",label:"Profile Settings",icon:jsxRuntimeExports.jsx(FaUser,{})}];return jsxRuntimeExports.jsxs("div",{className:"flex min-h-screen bg-gray-100 text-gray-800",children:[Ke&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-40 md:hidden",onClick:()=>ze(!1),children:jsxRuntimeExports.jsxs("div",{className:"w-64 bg-white h-full shadow-lg p-4",onClick:Xe=>Xe.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold mb-4",children:"FLYP"}),Ye.map(Xe=>jsxRuntimeExports.jsxs("button",{onClick:()=>{_e(Xe.id),ze(!1)},className:`flex items-center gap-3 px-4 py-2 rounded-lg w-full text-left ${Ee===Xe.id?"bg-blue-100 text-blue-600 font-semibold":"hover:bg-gray-100"}`,children:[Xe.icon,Xe.label]},Xe.id))]})}),jsxRuntimeExports.jsxs("div",{className:"hidden md:block w-64 bg-white shadow-md border-r border-gray-200 fixed top-0 bottom-0 left-0 z-40",children:[jsxRuntimeExports.jsx("div",{className:"p-5 text-xl font-bold border-b border-gray-200",children:"FLYP"}),jsxRuntimeExports.jsx("nav",{className:"flex flex-col p-4 gap-2",children:Ye.map(Xe=>jsxRuntimeExports.jsxs("button",{onClick:()=>_e(Xe.id),className:`flex items-center gap-3 px-4 py-2 rounded-lg text-left ${Ee===Xe.id?"bg-blue-100 text-blue-600 font-semibold":"hover:bg-gray-100"}`,children:[Xe.icon,Xe.label]},Xe.id))})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[jsxRuntimeExports.jsxs("div",{className:"sticky top-0 z-30 bg-white px-6 py-3 border-b border-gray-200 shadow-sm flex items-center justify-between",children:[jsxRuntimeExports.jsx("button",{className:"md:hidden text-2xl text-gray-600",onClick:()=>ze(!0),children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:"Retailer Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Logged in as: Retailer"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:Re?.businessName||"Business Name"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:[Re?.ownerName||"Owner"," | ID: ",Re?.flypId||Re?.userId||"UserID"]})]}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full overflow-hidden",children:Re?.logoUrl?jsxRuntimeExports.jsx("img",{src:Re.logoUrl,alt:"Logo",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-gray-300"})}),jsxRuntimeExports.jsx("button",{onClick:qe,className:"text-red-500 hover:text-red-700 text-xl",title:"Sign Out",children:jsxRuntimeExports.jsx(FaSignOutAlt,{})})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{duration:.4},className:"flex-1 px-4 py-6 md:px-6 overflow-y-auto pt-4",children:[Ee==="home"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"filter",className:"font-medium",children:"Filter by:"}),jsxRuntimeExports.jsxs("select",{id:"filter",value:Oe,onChange:Xe=>ke(Xe.target.value),className:"border px-3 py-1 rounded",children:[jsxRuntimeExports.jsx("option",{value:"today",children:"Today"}),jsxRuntimeExports.jsx("option",{value:"all",children:"All Time"}),jsxRuntimeExports.jsx("option",{value:"month",children:"This Month"}),jsxRuntimeExports.jsx("option",{value:"week",children:"This Week"}),jsxRuntimeExports.jsx("option",{value:"custom",children:"Custom Range"})]}),Oe==="custom"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{type:"date",onChange:Xe=>$e(rr=>({...rr,start:new Date(Xe.target.value)})),className:"border px-2 py-1 rounded"}),jsxRuntimeExports.jsx("input",{type:"date",onChange:Xe=>$e(rr=>({...rr,end:new Date(Xe.target.value)})),className:"border px-2 py-1 rounded"})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4 md:space-y-6",children:jsxRuntimeExports.jsx(HomeSnapshot,{filterDates:Me})})]}),Ee==="billing"&&jsxRuntimeExports.jsx(Billing,{}),Ee==="orderHistory"&&jsxRuntimeExports.jsx(RetailerOrderHistory,{}),Ee==="inventory"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-6 border-b pb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>je("add"),className:`px-4 py-2 rounded ${Be==="add"?"bg-blue-500 text-white":"bg-gray-200"}`,children:" Add Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>je("view"),className:`px-4 py-2 rounded ${Be==="view"?"bg-blue-500 text-white":"bg-gray-200"}`,children:" View Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>je("group"),className:`px-4 py-2 rounded ${Be==="group"?"bg-blue-500 text-white":"bg-gray-200"}`,children:" Group Items"}),jsxRuntimeExports.jsx("button",{onClick:()=>je("lowstock"),className:`px-4 py-2 rounded ${Be==="lowstock"?"bg-blue-500 text-white":"bg-gray-200"}`,children:" Low Stock Alerts"})]}),Be==="add"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Inventory Input Method"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Fe("manual"),className:`px-3 py-2 border rounded ${De==="manual"?"bg-green-100 border-green-500":""}`,children:" Manual Entry"}),jsxRuntimeExports.jsx("button",{onClick:()=>Fe("ocr"),className:`px-3 py-2 border rounded ${De==="ocr"?"bg-green-100 border-green-500":""}`,children:" OCR Upload"}),jsxRuntimeExports.jsx("button",{onClick:()=>Fe("ai"),className:`px-3 py-2 border rounded ${De==="ai"?"bg-green-100 border-green-500":""}`,children:" AI-Based"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[De==="manual"&&Re?.userId&&jsxRuntimeExports.jsx(ManualEntryForm$1,{userId:Re.userId}),De==="ocr"&&Re?.userId&&jsxRuntimeExports.jsx(OCRUploadForm$1,{userId:Re.userId}),De==="ai"&&Re?.userId&&jsxRuntimeExports.jsx(AddInventoryAI,{userId:Re.userId})]})]}),Be==="view"&&Re?.userId&&jsxRuntimeExports.jsx(ViewInventory$1,{userId:Re.userId}),Be==="group"&&jsxRuntimeExports.jsx("div",{children:" Group Items Component Placeholder"}),Be==="lowstock"&&jsxRuntimeExports.jsx("div",{children:" Low Stock Alert Component Placeholder"})]}),Ee==="analytics"&&jsxRuntimeExports.jsx(BusinessAnalytics,{}),Ee==="distributors"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Qe("search"),className:`px-4 py-2 rounded ${He==="search"?"bg-blue-500 text-white":"bg-gray-200"}`,children:" Search Distributor"}),jsxRuntimeExports.jsx("button",{onClick:()=>Qe("sent"),className:`px-4 py-2 rounded ${He==="sent"?"bg-blue-500 text-white":"bg-gray-200"}`,children:" Sent Requests"}),jsxRuntimeExports.jsx("button",{onClick:()=>Qe("connected"),className:`px-4 py-2 rounded ${He==="connected"?"bg-blue-500 text-white":"bg-gray-200"}`,children:" View Distributors"})]}),He==="search"&&jsxRuntimeExports.jsx(SearchDistributor,{}),He==="sent"&&jsxRuntimeExports.jsx(ViewSentRequests,{}),He==="connected"&&(Ce?jsxRuntimeExports.jsx(ConnectedDistributorPanel,{distributor:Ce,onBack:()=>Pe(null)}):jsxRuntimeExports.jsx(RetailerConnectedDistributors,{onSelectDistributor:Pe}))]}),Ee==="customers"&&jsxRuntimeExports.jsx(CustomerAnalysis,{}),Ee==="employees"&&jsxRuntimeExports.jsx(ManageEmployee,{}),Ee==="profile"&&jsxRuntimeExports.jsx(ProfileSettings,{})]},Ee)]})]})},RetailerRequests=({db:Ee,auth:_e})=>{const[Ce,Pe]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{const Be=_e.currentUser;if(!Be)return;const je=collection(Ee,`businesses/${Be.uid}/connectionRequests`),De=await getDocs(je),Fe=await Promise.all(De.docs.map(async Oe=>{const ke=Oe.data(),Me=ke.retailerId;let $e={};try{const He=doc(Ee,"businesses",Me),Qe=await getDoc(He);Qe.exists()?$e=Qe.data():console.warn("Retailer business doc not found for:",Me)}catch(He){console.error(" Error fetching retailer info:",He.message)}return{id:Oe.id,retailerId:Me,status:ke.status,sentAt:ke.sentAt,...$e}}));Pe(Fe)})()},[]);const Re=async(Ie,Be)=>{const je=_e.currentUser;if(!je)return;const De=je.uid,Fe=doc(Ee,"businesses",De),Oe=await getDoc(Fe),ke=Oe.exists()?Oe.data():{},Me=doc(Ee,`businesses/${De}/connectionRequests/${Ie}`);await updateDoc(Me,{status:Be}),console.log(" Updated distributor's connectionRequests status to:",Be);const $e=doc(Ee,`businesses/${Ie}/sentRequests/${De}`);try{await updateDoc($e,{status:Be}),console.log(" Updated retailer's sentRequests status to:",Be)}catch(He){console.error(" Failed to update retailer's sentRequest:",He.message)}if(Be==="accepted")try{const He=doc(Ee,"businesses",Ie),Qe=await getDoc(He),Ke=Qe.exists()?Qe.data():{};console.log(" Saving distributor to retailer's connectedDistributors..."),await setDoc(doc(Ee,`businesses/${Ie}/connectedDistributors/${De}`),{distributorId:De,distributorName:ke.businessName||"Unnamed Distributor",distributorOwner:ke.ownerName||"Unknown Owner",distributorEmail:ke.email||"",distributorPhone:ke.phone||"",city:ke.city||"",connectedAt:serverTimestamp(),status:"accepted"},{merge:!0}),console.log(" Saved to retailer's connectedDistributors"),console.log(" Saving retailer to distributor's connectedRetailers..."),await setDoc(doc(Ee,`businesses/${De}/connectedRetailers/${Ie}`),{retailerId:Ie,retailerName:Ke.businessName||"Unnamed Retailer",retailerEmail:Ke.email||"",retailerPhone:Ke.phone||"",city:Ke.city||"",connectedAt:serverTimestamp(),status:"accepted"},{merge:!0}),console.log(" Saved to distributor's connectedRetailers")}catch(He){console.error(" Failed to create connected entries:",He.message)}Pe(He=>He.map(Qe=>Qe.id===Ie?{...Qe,status:Be}:Qe))};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Incoming Retailer Requests"}),Ce.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"No requests found."}):jsxRuntimeExports.jsx("ul",{className:"space-y-4",children:Ce.map(Ie=>jsxRuntimeExports.jsx("li",{className:"bg-white shadow p-4 rounded",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:Ie.businessName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[Ie.ownerName," (",Ie.email,")"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ie.status})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Re(Ie.retailerId,"accepted"),disabled:Ie.status==="accepted",className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded disabled:opacity-50",children:"Accept"}),jsxRuntimeExports.jsx("button",{onClick:()=>Re(Ie.retailerId,"rejected"),disabled:Ie.status==="rejected",className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded disabled:opacity-50",children:"Reject"})]})]})},Ie.id))})]})},ManualEntryForm=()=>{const{user:Ee}=useAuth();if(!Ee)return console.warn("No current user found in context."),jsxRuntimeExports.jsx("div",{className:"p-4 text-red-500",children:"Loading user info..."});const[_e,Ce]=reactExports.useState({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),[Pe,Re]=reactExports.useState(""),[Ie,Be]=reactExports.useState(!1),je=Fe=>{const{name:Oe,value:ke,files:Me}=Fe.target;if(Oe==="image"){const $e=Me?.[0];if(!$e||!($e instanceof File)||!$e.name){y$2.error("Invalid image file.");return}Ce(Qe=>({...Qe,image:$e}));const He=new FileReader;He.onloadend=()=>Re(He.result),He.readAsDataURL($e)}else Ce($e=>({...$e,[Oe]:ke}))},De=async Fe=>{if(Fe.preventDefault(),Be(!0),console.log("Manual Entry - currentUser:",Ee),!Ee?.uid){y$2.error("User ID is missing in manual entry. Cannot save product."),Be(!1);return}const Oe=Ee.uid;try{let ke="";if(_e.image&&_e.image instanceof File){let Me=_e.image?.name;(!Me||typeof Me!="string"||Me.trim()==="")&&(Me=`product_${Date.now()}.jpg`);const $e=ref(storage,`products/${Oe}/${Me}`);await uploadBytes($e,_e.image),ke=await getDownloadURL($e)}await addDoc(collection(db$2,"businesses",Oe,"products"),{productName:_e.productName||"",brand:_e.brand||"",category:_e.category||"",quantity:_e.quantity?Number(_e.quantity):0,unit:_e.unit||"",costPrice:_e.costPrice?Number(_e.costPrice):0,sellingPrice:_e.sellingPrice?Number(_e.sellingPrice):0,description:_e.description||"",sku:_e.sku||"",imageUrl:ke,createdAt:serverTimestamp(),addedBy:Oe}),y$2.success("Product added successfully!"),Ce({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),Re("")}catch(ke){console.error("Upload failed:",ke),y$2.error("Failed to add product.")}Be(!1)};return jsxRuntimeExports.jsxs("form",{onSubmit:De,className:"space-y-4 p-4 bg-white rounded shadow",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"productName",placeholder:"Product Name",value:_e.productName,onChange:je,className:"border p-2 rounded w-full",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"sku",placeholder:"SKU",value:_e.sku,onChange:je,className:"border p-2 rounded w-full"}),jsxRuntimeExports.jsx("input",{type:"text",name:"brand",placeholder:"Brand",value:_e.brand,onChange:je,className:"border p-2 rounded w-full"}),jsxRuntimeExports.jsx("input",{type:"text",name:"category",placeholder:"Category",value:_e.category,onChange:je,className:"border p-2 rounded w-full"}),jsxRuntimeExports.jsx("input",{type:"number",name:"quantity",placeholder:"Quantity",value:_e.quantity,onChange:je,className:"border p-2 rounded w-full",required:!0}),jsxRuntimeExports.jsx("input",{type:"number",name:"costPrice",placeholder:"Cost Price",value:_e.costPrice,onChange:je,className:"border p-2 rounded w-full"}),jsxRuntimeExports.jsx("input",{type:"number",name:"sellingPrice",placeholder:"Selling Price",value:_e.sellingPrice,onChange:je,className:"border p-2 rounded w-full",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"unit",placeholder:"Unit (e.g., kg, box)",value:_e.unit,onChange:je,className:"border p-2 rounded w-full"})]}),jsxRuntimeExports.jsx("textarea",{name:"description",placeholder:"Description",value:_e.description,onChange:je,className:"border p-2 rounded w-full"}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-4",children:jsxRuntimeExports.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:je,className:"border p-2 rounded w-full"})}),Pe&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsx("img",{src:Pe,alt:"Preview",className:"h-32 w-32 object-cover border rounded"})}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",disabled:Ie,children:Ie?"Saving...":"Add Product"})})]})};let e={data:""},t=Ee=>typeof window=="object"?((Ee?Ee.querySelector("#_goober"):window._goober)||Object.assign((Ee||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:Ee||e,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n=/\n+/g,o=(Ee,_e)=>{let Ce="",Pe="",Re="";for(let Ie in Ee){let Be=Ee[Ie];Ie[0]=="@"?Ie[1]=="i"?Ce=Ie+" "+Be+";":Pe+=Ie[1]=="f"?o(Be,Ie):Ie+"{"+o(Be,Ie[1]=="k"?"":_e)+"}":typeof Be=="object"?Pe+=o(Be,_e?_e.replace(/([^,])+/g,je=>Ie.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,De=>/&/.test(De)?De.replace(/&/g,je):je?je+" "+De:De)):Ie):Be!=null&&(Ie=/^--/.test(Ie)?Ie:Ie.replace(/[A-Z]/g,"-$&").toLowerCase(),Re+=o.p?o.p(Ie,Be):Ie+":"+Be+";")}return Ce+(_e&&Re?_e+"{"+Re+"}":Re)+Pe},c$1={},s=Ee=>{if(typeof Ee=="object"){let _e="";for(let Ce in Ee)_e+=Ce+s(Ee[Ce]);return _e}return Ee},i=(Ee,_e,Ce,Pe,Re)=>{let Ie=s(Ee),Be=c$1[Ie]||(c$1[Ie]=(De=>{let Fe=0,Oe=11;for(;Fe<De.length;)Oe=101*Oe+De.charCodeAt(Fe++)>>>0;return"go"+Oe})(Ie));if(!c$1[Be]){let De=Ie!==Ee?Ee:(Fe=>{let Oe,ke,Me=[{}];for(;Oe=l.exec(Fe.replace(a,""));)Oe[4]?Me.shift():Oe[3]?(ke=Oe[3].replace(n," ").trim(),Me.unshift(Me[0][ke]=Me[0][ke]||{})):Me[0][Oe[1]]=Oe[2].replace(n," ").trim();return Me[0]})(Ee);c$1[Be]=o(Re?{["@keyframes "+Be]:De}:De,Ce?"":"."+Be)}let je=Ce&&c$1.g?c$1.g:null;return Ce&&(c$1.g=c$1[Be]),((De,Fe,Oe,ke)=>{ke?Fe.data=Fe.data.replace(ke,De):Fe.data.indexOf(De)===-1&&(Fe.data=Oe?De+Fe.data:Fe.data+De)})(c$1[Be],_e,Pe,je),Be},p=(Ee,_e,Ce)=>Ee.reduce((Pe,Re,Ie)=>{let Be=_e[Ie];if(Be&&Be.call){let je=Be(Ce),De=je&&je.props&&je.props.className||/^go/.test(je)&&je;Be=De?"."+De:je&&typeof je=="object"?je.props?"":o(je,""):je===!1?"":je}return Pe+Re+(Be??"")},"");function u$1(Ee){let _e=this||{},Ce=Ee.call?Ee(_e.p):Ee;return i(Ce.unshift?Ce.raw?p(Ce,[].slice.call(arguments,1),_e.p):Ce.reduce((Pe,Re)=>Object.assign(Pe,Re&&Re.call?Re(_e.p):Re),{}):Ce,t(_e.target),_e.g,_e.o,_e.k)}let d,f$1,g;u$1.bind({g:1});let h=u$1.bind({k:1});function m(Ee,_e,Ce,Pe){o.p=_e,d=Ee,f$1=Ce,g=Pe}function j(Ee,_e){let Ce=this||{};return function(){let Pe=arguments;function Re(Ie,Be){let je=Object.assign({},Ie),De=je.className||Re.className;Ce.p=Object.assign({theme:f$1&&f$1()},je),Ce.o=/ *go\d+/.test(De),je.className=u$1.apply(Ce,Pe)+(De?" "+De:"");let Fe=Ee;return Ee[0]&&(Fe=je.as||Ee,delete je.as),g&&Fe[0]&&g(je),d(Fe,je)}return Re}}var W=Ee=>typeof Ee=="function",f=(Ee,_e)=>W(Ee)?Ee(_e):Ee,F=(()=>{let Ee=0;return()=>(++Ee).toString()})(),A=(()=>{let Ee;return()=>{if(Ee===void 0&&typeof window<"u"){let _e=matchMedia("(prefers-reduced-motion: reduce)");Ee=!_e||_e.matches}return Ee}})(),Y=20,U=(Ee,_e)=>{switch(_e.type){case 0:return{...Ee,toasts:[_e.toast,...Ee.toasts].slice(0,Y)};case 1:return{...Ee,toasts:Ee.toasts.map(Ie=>Ie.id===_e.toast.id?{...Ie,..._e.toast}:Ie)};case 2:let{toast:Ce}=_e;return U(Ee,{type:Ee.toasts.find(Ie=>Ie.id===Ce.id)?1:0,toast:Ce});case 3:let{toastId:Pe}=_e;return{...Ee,toasts:Ee.toasts.map(Ie=>Ie.id===Pe||Pe===void 0?{...Ie,dismissed:!0,visible:!1}:Ie)};case 4:return _e.toastId===void 0?{...Ee,toasts:[]}:{...Ee,toasts:Ee.toasts.filter(Ie=>Ie.id!==_e.toastId)};case 5:return{...Ee,pausedAt:_e.time};case 6:let Re=_e.time-(Ee.pausedAt||0);return{...Ee,pausedAt:void 0,toasts:Ee.toasts.map(Ie=>({...Ie,pauseDuration:Ie.pauseDuration+Re}))}}},P=[],y={toasts:[],pausedAt:void 0},u=Ee=>{y=U(y,Ee),P.forEach(_e=>{_e(y)})},J=(Ee,_e="blank",Ce)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:_e,ariaProps:{role:"status","aria-live":"polite"},message:Ee,pauseDuration:0,...Ce,id:Ce?.id||F()}),x=Ee=>(_e,Ce)=>{let Pe=J(_e,Ee,Ce);return u({type:2,toast:Pe}),Pe.id},c=(Ee,_e)=>x("blank")(Ee,_e);c.error=x("error");c.success=x("success");c.loading=x("loading");c.custom=x("custom");c.dismiss=Ee=>{u({type:3,toastId:Ee})};c.remove=Ee=>u({type:4,toastId:Ee});c.promise=(Ee,_e,Ce)=>{let Pe=c.loading(_e.loading,{...Ce,...Ce?.loading});return typeof Ee=="function"&&(Ee=Ee()),Ee.then(Re=>{let Ie=_e.success?f(_e.success,Re):void 0;return Ie?c.success(Ie,{id:Pe,...Ce,...Ce?.success}):c.dismiss(Pe),Re}).catch(Re=>{let Ie=_e.error?f(_e.error,Re):void 0;Ie?c.error(Ie,{id:Pe,...Ce,...Ce?.error}):c.dismiss(Pe)}),Ee};var oe=h`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,re=h`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,se=h`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,k=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${Ee=>Ee.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${re} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${Ee=>Ee.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${se} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ne=h`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V=j("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${Ee=>Ee.secondary||"#e0e0e0"};
  border-right-color: ${Ee=>Ee.primary||"#616161"};
  animation: ${ne} 1s linear infinite;
`,pe=h`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,de=h`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${Ee=>Ee.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${de} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${Ee=>Ee.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ue=j("div")`
  position: absolute;
`,le=j("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fe=h`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Te=j("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M=({toast:Ee})=>{let{icon:_e,type:Ce,iconTheme:Pe}=Ee;return _e!==void 0?typeof _e=="string"?reactExports.createElement(Te,null,_e):_e:Ce==="blank"?null:reactExports.createElement(le,null,reactExports.createElement(V,{...Pe}),Ce!=="loading"&&reactExports.createElement(ue,null,Ce==="error"?reactExports.createElement(k,{...Pe}):reactExports.createElement(_,{...Pe})))},ye=Ee=>`
0% {transform: translate3d(0,${Ee*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ge=Ee=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${Ee*-150}%,-1px) scale(.6); opacity:0;}
`,he="0%{opacity:0;} 100%{opacity:1;}",xe="0%{opacity:1;} 100%{opacity:0;}",be=j("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Se=j("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ae=(Ee,_e)=>{let Ce=Ee.includes("top")?1:-1,[Pe,Re]=A()?[he,xe]:[ye(Ce),ge(Ce)];return{animation:_e?`${h(Pe)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h(Re)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};reactExports.memo(({toast:Ee,position:_e,style:Ce,children:Pe})=>{let Re=Ee.height?Ae(Ee.position||_e||"top-center",Ee.visible):{opacity:0},Ie=reactExports.createElement(M,{toast:Ee}),Be=reactExports.createElement(Se,{...Ee.ariaProps},f(Ee.message,Ee));return reactExports.createElement(be,{className:Ee.className,style:{...Re,...Ce,...Ee.style}},typeof Pe=="function"?Pe({icon:Ie,message:Be}):reactExports.createElement(reactExports.Fragment,null,Ie,Be))});m(reactExports.createElement);u$1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const OCRUploadForm=({distributorId:Ee})=>{const[_e,Ce]=reactExports.useState(null),[Pe,Re]=reactExports.useState(null),[Ie,Be]=reactExports.useState([]),[je,De]=reactExports.useState(!1),Fe=$e=>$e.split(`
`).filter(Qe=>typeof Qe=="string"&&Qe.trim()!=="").map(Qe=>{const Ke=Qe.split(",").map(ze=>ze.trim());if(Ke.length>=4)return{productName:Ke[0]||"",quantity:Ke[1]||"",unit:Ke[2]||"",cost:Ke[3]||"",brand:Ke[4]||"",category:Ke[5]||"",description:Ke[6]||"",sku:Ke[7]||"",imageUrl:Ke[8]||""};{const ze=Qe.trim().split(" "),We=ze.find(Ye=>!isNaN(Ye)),qe=ze.find(Ye=>["pcs","kg","ltr","box","unit"].some(Xe=>Ye.toLowerCase().includes(Xe)));return{productName:Qe.replace(We,"").replace(qe,"").trim(),quantity:We||"1",unit:qe||"",cost:"",brand:"",category:"",description:"",sku:"",imageUrl:""}}}),Oe=$e=>{const He=$e.target.files[0];if(!He)return;Ce(He);const Qe=new FileReader;Qe.onloadend=()=>Re(Qe.result),Qe.readAsDataURL(He)},ke=async()=>{if(!_e)return;De(!0);const $e=new FileReader;$e.onloadend=async()=>{const He=$e.result.split(",")[1],Qe=Ke=>Ke.trim().split(`
`).map(ze=>ze.replace(/^\s*[\d\-.:]+\s*/,"").trim()).filter(ze=>ze);if(!He){c.error("Failed to convert file."),De(!1);return}try{const We=await(await fetch("https://asia-south1-stockpilotv1.cloudfunctions.net/ocrFromImage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:He})})).json(),qe=We?.text?.[0]?.description||"";if(qe){const Ye=Qe(qe).join(`
`);We.products=Fe(Ye)}if(Array.isArray(We.products)){const Ye=We.products.map(Xe=>({productName:Xe?.productName||Xe?.name||"",quantity:Xe?.quantity||"",unit:Xe?.unit||"",costPrice:Xe?.cost||Xe?.costPrice||"",sellingPrice:"",brand:Xe?.brand||"",category:Xe?.category||"",description:Xe?.description||"",sku:Xe?.sku||"",imageUrl:Xe?.imageUrl||""})).filter(Xe=>Xe.productName);Be(Ye),c.success("OCR scan completed!")}else c.error("No valid product data found.")}catch(Ke){console.error("OCR failed:",Ke),c.error("Failed to scan image.")}De(!1)},_e.type==="application/pdf"||_e.type.startsWith("image/")?$e.readAsDataURL(_e):(c.error("Unsupported file format. Please upload an image or PDF."),De(!1))},Me=async()=>{if(!Ie.length)return;if(!Ee){c.error("Distributor ID missing. Cannot save.");return}const $e=Ie.filter(Qe=>Qe&&typeof Qe.productName=="string"&&Qe.productName.trim()!=="");if(console.log("Saving for distributorId:",Ee),console.log("Valid products to save:",$e),!$e.length){c.error("No valid products to save.");return}const He=$e.map(Qe=>addDoc(collection(db$2,"businesses",Ee,"products"),{productName:Qe.productName?.trim()||"",brand:Qe.brand?.trim()||"",category:Qe.category?.trim()||"",quantity:Number(Qe.quantity)||0,unit:Qe.unit?.trim()||"",costPrice:Number(Qe.costPrice)||0,sellingPrice:Number(Qe.sellingPrice)||0,description:Qe.description?.trim()||"",sku:Qe.sku?.trim()||"",imageUrl:Qe.imageUrl||"",createdAt:serverTimestamp()}).catch(Ke=>{console.error("Failed to add product:",Qe,Ke)}));try{await Promise.all(He),console.log("Products saved successfully."),c.success("All products saved!"),Be([])}catch(Qe){console.error("Saving failed:",Qe),c.error("Failed to save products.")}};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow-md",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 font-medium",children:"Upload Inventory Image"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Oe,className:"block border border-gray-300 rounded p-2"}),Pe&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx("img",{src:Pe,alt:"Preview",className:"max-w-xs rounded shadow"})}),jsxRuntimeExports.jsx("button",{onClick:ke,disabled:!_e||je,className:`mt-4 px-4 py-2 rounded ${je||!_e?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white transition duration-200`,children:je?"Scanning...":"Scan & Import"}),Ie.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"border p-2 rounded mt-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Scanned Products"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto mt-4",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white border rounded shadow",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100 text-left text-sm",children:[jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"#"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Cost Price"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Selling Price"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ie.map(($e,He)=>jsxRuntimeExports.jsxs("tr",{className:"text-sm",children:[jsxRuntimeExports.jsx("td",{className:"p-2 border",children:He+1}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:jsxRuntimeExports.jsx("input",{type:"text",value:$e.productName||"",onChange:Qe=>{const Ke=[...Ie];Ke[He].productName=Qe.target.value,Be(Ke)},className:"w-full border rounded p-1"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:jsxRuntimeExports.jsx("input",{type:"number",value:$e.quantity||"",onChange:Qe=>{const Ke=[...Ie];Ke[He].quantity=Qe.target.value,Be(Ke)},className:"w-full border rounded p-1"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:jsxRuntimeExports.jsx("input",{type:"text",value:$e.unit||"",onChange:Qe=>{const Ke=[...Ie];Ke[He].unit=Qe.target.value,Be(Ke)},className:"w-full border rounded p-1"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:jsxRuntimeExports.jsx("input",{type:"number",value:$e.costPrice||"",onChange:Qe=>{const Ke=[...Ie];Ke[He].costPrice=Qe.target.value,Be(Ke)},className:"w-full border rounded p-1"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:jsxRuntimeExports.jsx("input",{type:"number",value:$e.sellingPrice||"",onChange:Qe=>{const Ke=[...Ie];Ke[He].sellingPrice=Qe.target.value,Be(Ke)},className:"w-full border rounded p-1"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:jsxRuntimeExports.jsx("button",{onClick:()=>{const Qe=Ie.filter((Ke,ze)=>ze!==He);Be(Qe)},className:"text-red-600 hover:text-red-800",children:"Delete"})})]},He))})]})})]}),jsxRuntimeExports.jsx("button",{onClick:Me,className:"mt-4 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded transition duration-200",children:"Save All Products"})]})]})},AIAutogenForm=({distributorId:Ee})=>{const[_e,Ce]=reactExports.useState(""),[Pe,Re]=reactExports.useState(""),[Ie,Be]=reactExports.useState([]),[je,De]=reactExports.useState(!1),Fe=async()=>{if(!(!_e||!Pe)){De(!0);try{const Me=await(await fetch("https://us-central1-stockpilotv1.cloudfunctions.net/generateInventoryAI",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:_e,brand:Pe})})).json();Array.isArray(Me.products)?Be(Me.products):alert("No product suggestions found.")}catch(ke){console.error("AI generation failed:",ke),alert("Failed to generate inventory.")}De(!1)}},Oe=async()=>{if(!Ie.length)return;const ke=Ie.map(Me=>addDoc(collection(db$2,"businesses",Ee,"products"),{...Me,timestamp:serverTimestamp()}));try{await Promise.all(ke),alert("Generated products saved!"),Be([])}catch(Me){console.error("Saving failed:",Me),alert("Failed to save products.")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Category (e.g. Snacks)",value:_e,onChange:ke=>Ce(ke.target.value),className:"input"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Brand (e.g. Lay's)",value:Pe,onChange:ke=>Re(ke.target.value),className:"input"}),jsxRuntimeExports.jsx("button",{onClick:Fe,disabled:je,className:"px-4 py-2 bg-blue-600 text-white rounded",children:je?"Generating...":"Generate Products"}),Ie.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"border p-2 rounded",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Suggested Products"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:Ie.map((ke,Me)=>jsxRuntimeExports.jsxs("li",{className:"bg-gray-50 p-2 rounded border",children:[ke.productName,"  ",ke.sellingPrice," (",ke.quantity,")"]},Me))})]}),jsxRuntimeExports.jsx("button",{onClick:Oe,className:"px-4 py-2 bg-green-600 text-white rounded",children:"Save All Products"})]})]})},AddInventoryOptions$1=({userId:Ee})=>{const[_e,Ce]=reactExports.useState("manual");return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Add Inventory"}),jsxRuntimeExports.jsxs("div",{className:"border border-gray-300 p-4 rounded-md shadow-sm bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-4 mb-4",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded ${_e==="manual"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Ce("manual"),children:"Manual Entry"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded ${_e==="ocr"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Ce("ocr"),children:"OCR Upload"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded ${_e==="ai"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Ce("ai"),children:"AI Autogen"})]}),jsxRuntimeExports.jsxs("div",{children:[_e==="manual"&&jsxRuntimeExports.jsx(ManualEntryForm,{}),_e==="ocr"&&jsxRuntimeExports.jsx(OCRUploadForm,{distributorId:Ee}),_e==="ai"&&jsxRuntimeExports.jsx(AIAutogenForm,{})]})]})]})},ViewInventory=()=>{const[Ee,_e]=reactExports.useState([]),[Ce,Pe]=reactExports.useState(""),[Re,Ie]=reactExports.useState("name"),[Be,je]=reactExports.useState("asc"),[De,Fe]=reactExports.useState("All"),[Oe,ke]=reactExports.useState({});reactExports.useEffect(()=>{const Ke=getAuth(),ze=getFirestore(),We=Ke.currentUser;if(!We)return;const qe=collection(ze,"businesses",We.uid,"products"),Ye=onSnapshot(qe,Xe=>{const rr=Xe.docs.map(Je=>({id:Je.id,...Je.data()}));_e(rr)});return()=>Ye()},[]);const Me=async(Ke,ze,We)=>{const qe=getFirestore(),Ye=doc(qe,"businesses",getAuth().currentUser.uid,"products",Ke);await updateDoc(Ye,{[ze]:We})},$e=Ke=>{Pe(Ke.target.value.toLowerCase())},He=Ke=>Ke==null||isNaN(Ke)?"Unknown":Ke>10?"In Stock":Ke>0?"Low":"Out of Stock",Qe=Ee.filter(Ke=>(Ke.name||Ke.productName)?.toLowerCase().includes(Ce)||Ke.sku?.toLowerCase().includes(Ce)||Ke.brand?.toLowerCase().includes(Ce)||Ke.category?.toLowerCase().includes(Ce)).filter(Ke=>{const ze=He(Oe[Ke.id]??Ke.quantity);return De==="All"||ze===De}).sort((Ke,ze)=>{const We=Ke[Re],qe=ze[Re];return We==null?1:qe==null?-1:typeof We=="number"&&typeof qe=="number"?Be==="asc"?We-qe:qe-We:Be==="asc"?We.toString().localeCompare(qe.toString(),void 0,{numeric:!0}):qe.toString().localeCompare(We.toString(),void 0,{numeric:!0})});return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row justify-between gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, brand, SKU...",value:Ce,onChange:$e,className:"border rounded px-3 py-1 w-full sm:w-1/3"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("select",{onChange:Ke=>Ie(Ke.target.value),className:"border rounded px-2 py-1",value:Re,children:[jsxRuntimeExports.jsx("option",{value:"name",children:"Sort by Name"}),jsxRuntimeExports.jsx("option",{value:"sku",children:"Sort by SKU"}),jsxRuntimeExports.jsx("option",{value:"quantity",children:"Sort by Quantity"}),jsxRuntimeExports.jsx("option",{value:"costPrice",children:"Sort by Cost Price"}),jsxRuntimeExports.jsx("option",{value:"sellingPrice",children:"Sort by Selling Price"})]}),jsxRuntimeExports.jsxs("select",{onChange:Ke=>je(Ke.target.value),className:"border rounded px-2 py-1",value:Be,children:[jsxRuntimeExports.jsx("option",{value:"asc",children:"Asc"}),jsxRuntimeExports.jsx("option",{value:"desc",children:"Desc"})]}),jsxRuntimeExports.jsxs("select",{onChange:Ke=>Fe(Ke.target.value),className:"border rounded px-2 py-1",value:De,children:[jsxRuntimeExports.jsx("option",{value:"All",children:"All Status"}),jsxRuntimeExports.jsx("option",{value:"In Stock",children:"In Stock"}),jsxRuntimeExports.jsx("option",{value:"Low",children:"Low"}),jsxRuntimeExports.jsx("option",{value:"Out of Stock",children:"Out of Stock"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-auto w-full",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100 text-left",children:[jsxRuntimeExports.jsx("th",{className:"p-3 border-b break-words whitespace-normal",children:"Image"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"Cost"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"Sell"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-b text-center break-words whitespace-normal",children:"Status"})]})}),jsxRuntimeExports.jsx("tbody",{children:Qe.map(Ke=>jsxRuntimeExports.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"p-3 break-words whitespace-normal",children:jsxRuntimeExports.jsx("img",{src:Ke.imageUrl||"/placeholder.png",alt:"",className:"h-10 w-10 object-cover rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx("input",{defaultValue:Ke.name||Ke.productName,onBlur:ze=>Me(Ke.id,"name",ze.target.value),className:"w-full border-b"})})}),jsxRuntimeExports.jsx("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx("input",{defaultValue:Ke.sku,onBlur:ze=>Me(Ke.id,"sku",ze.target.value),className:"w-full border-b"})})}),jsxRuntimeExports.jsx("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx("input",{defaultValue:Ke.brand,onBlur:ze=>Me(Ke.id,"brand",ze.target.value),className:"w-full border-b"})})}),jsxRuntimeExports.jsx("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx("input",{defaultValue:Ke.category,onBlur:ze=>Me(Ke.id,"category",ze.target.value),className:"w-full border-b"})})}),jsxRuntimeExports.jsx("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx("input",{type:"number",value:Oe[Ke.id]??Ke.quantity,onChange:ze=>{const We=parseInt(ze.target.value);ke(qe=>({...qe,[Ke.id]:We}))},onBlur:ze=>{const We=parseInt(ze.target.value);Me(Ke.id,"quantity",We)},className:"w-full border-b"})})}),jsxRuntimeExports.jsx("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx("input",{defaultValue:Ke.unit,onBlur:ze=>Me(Ke.id,"unit",ze.target.value),className:"w-full border-b"})})}),jsxRuntimeExports.jsxs("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:["",jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx("input",{type:"number",defaultValue:Ke.costPrice,onBlur:ze=>Me(Ke.id,"costPrice",parseFloat(ze.target.value)),className:"w-full border-b"})})]}),jsxRuntimeExports.jsxs("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:["",jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx("input",{type:"number",defaultValue:Ke.sellingPrice,onBlur:ze=>Me(Ke.id,"sellingPrice",parseFloat(ze.target.value)),className:"w-full border-b"})})]}),jsxRuntimeExports.jsx("td",{className:"p-3 text-center break-words whitespace-normal",children:jsxRuntimeExports.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full whitespace-nowrap ${He(Oe[Ke.id]??Ke.quantity)==="In Stock"?"bg-green-100 text-green-700":He(Oe[Ke.id]??Ke.quantity)==="Low"?"bg-yellow-100 text-yellow-700":He(Oe[Ke.id]??Ke.quantity)==="Out of Stock"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:He(Oe[Ke.id]??Ke.quantity)})})]},Ke.id))})]})})]})},DistributorInventory=()=>{const[Ee,_e]=reactExports.useState([]),[Ce,Pe]=reactExports.useState("add"),Re=auth$2.currentUser?.uid;return reactExports.useEffect(()=>{const Ie=auth$2.currentUser;if(!Ie)return;const Be=collection(db$2,`businesses/${Ie.uid}/products`),je=onSnapshot(Be,De=>{const Fe=De.docs.map(Oe=>({id:Oe.id,...Oe.data()}));_e(Fe)});return()=>je()},[]),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex space-x-4 mb-4",children:["add","view","group","lowstock"].map(Ie=>jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded shadow-sm ${Ce===Ie?"bg-blue-600 text-white ring-2 ring-offset-2 ring-blue-400":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>Pe(Ie),children:Ie==="add"?"Add Inventory":Ie==="view"?"View Inventory":Ie==="group"?"Item Groups":"Low Stock Alerts"},Ie))}),Ce==="add"&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(AddInventoryOptions$1,{userId:Re,role:"distributor"})}),Ce==="view"&&jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx(ViewInventory,{userId:Re,db:db$2,role:"distributor"})}),["group","lowstock"].includes(Ce)&&jsxRuntimeExports.jsx("div",{className:"text-gray-500 italic mt-4",children:"This tab is under construction."})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var XLSX={};XLSX.version="0.18.5";var current_ansi=1252,VALID_ANSI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],set_ansi=function(Ee){VALID_ANSI.indexOf(Ee)!=-1&&(current_ansi=Ee)};function reset_ansi(){set_ansi(1252)}var set_cp=function(Ee){set_ansi(Ee)};function reset_cp(){set_cp(1200),reset_ansi()}var _getchar=function Ee(_e){return String.fromCharCode(_e)},_getansi=function Ee(_e){return String.fromCharCode(_e)},$cptable,Base64_map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Base64_encode(Ee){for(var _e="",Ce=0,Pe=0,Re=0,Ie=0,Be=0,je=0,De=0,Fe=0;Fe<Ee.length;)Ce=Ee.charCodeAt(Fe++),Ie=Ce>>2,Pe=Ee.charCodeAt(Fe++),Be=(Ce&3)<<4|Pe>>4,Re=Ee.charCodeAt(Fe++),je=(Pe&15)<<2|Re>>6,De=Re&63,isNaN(Pe)?je=De=64:isNaN(Re)&&(De=64),_e+=Base64_map.charAt(Ie)+Base64_map.charAt(Be)+Base64_map.charAt(je)+Base64_map.charAt(De);return _e}function Base64_decode(Ee){var _e="",Ce=0,Pe=0,Re=0,Ie=0,Be=0,je=0,De=0;Ee=Ee.replace(/[^\w\+\/\=]/g,"");for(var Fe=0;Fe<Ee.length;)Ie=Base64_map.indexOf(Ee.charAt(Fe++)),Be=Base64_map.indexOf(Ee.charAt(Fe++)),Ce=Ie<<2|Be>>4,_e+=String.fromCharCode(Ce),je=Base64_map.indexOf(Ee.charAt(Fe++)),Pe=(Be&15)<<4|je>>2,je!==64&&(_e+=String.fromCharCode(Pe)),De=Base64_map.indexOf(Ee.charAt(Fe++)),Re=(je&3)<<6|De,De!==64&&(_e+=String.fromCharCode(Re));return _e}var has_buf=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Buffer_from=function(){if(typeof Buffer<"u"){var Ee=!Buffer.from;if(!Ee)try{Buffer.from("foo","utf8")}catch{Ee=!0}return Ee?function(_e,Ce){return Ce?new Buffer(_e,Ce):new Buffer(_e)}:Buffer.from.bind(Buffer)}return function(){}}();function new_raw_buf(Ee){return has_buf?Buffer.alloc?Buffer.alloc(Ee):new Buffer(Ee):typeof Uint8Array<"u"?new Uint8Array(Ee):new Array(Ee)}function new_unsafe_buf(Ee){return has_buf?Buffer.allocUnsafe?Buffer.allocUnsafe(Ee):new Buffer(Ee):typeof Uint8Array<"u"?new Uint8Array(Ee):new Array(Ee)}var s2a=function Ee(_e){return has_buf?Buffer_from(_e,"binary"):_e.split("").map(function(Ce){return Ce.charCodeAt(0)&255})};function s2ab(Ee){if(typeof ArrayBuffer>"u")return s2a(Ee);for(var _e=new ArrayBuffer(Ee.length),Ce=new Uint8Array(_e),Pe=0;Pe!=Ee.length;++Pe)Ce[Pe]=Ee.charCodeAt(Pe)&255;return _e}function a2s(Ee){if(Array.isArray(Ee))return Ee.map(function(Pe){return String.fromCharCode(Pe)}).join("");for(var _e=[],Ce=0;Ce<Ee.length;++Ce)_e[Ce]=String.fromCharCode(Ee[Ce]);return _e.join("")}function a2u(Ee){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(Ee)}var bconcat=has_buf?function(Ee){return Buffer.concat(Ee.map(function(_e){return Buffer.isBuffer(_e)?_e:Buffer_from(_e)}))}:function(Ee){if(typeof Uint8Array<"u"){var _e=0,Ce=0;for(_e=0;_e<Ee.length;++_e)Ce+=Ee[_e].length;var Pe=new Uint8Array(Ce),Re=0;for(_e=0,Ce=0;_e<Ee.length;Ce+=Re,++_e)if(Re=Ee[_e].length,Ee[_e]instanceof Uint8Array)Pe.set(Ee[_e],Ce);else{if(typeof Ee[_e]=="string")throw"wtf";Pe.set(new Uint8Array(Ee[_e]),Ce)}return Pe}return[].concat.apply([],Ee.map(function(Ie){return Array.isArray(Ie)?Ie:[].slice.call(Ie)}))};function utf8decode(Ee){for(var _e=[],Ce=0,Pe=Ee.length+250,Re=new_raw_buf(Ee.length+255),Ie=0;Ie<Ee.length;++Ie){var Be=Ee.charCodeAt(Ie);if(Be<128)Re[Ce++]=Be;else if(Be<2048)Re[Ce++]=192|Be>>6&31,Re[Ce++]=128|Be&63;else if(Be>=55296&&Be<57344){Be=(Be&1023)+64;var je=Ee.charCodeAt(++Ie)&1023;Re[Ce++]=240|Be>>8&7,Re[Ce++]=128|Be>>2&63,Re[Ce++]=128|je>>6&15|(Be&3)<<4,Re[Ce++]=128|je&63}else Re[Ce++]=224|Be>>12&15,Re[Ce++]=128|Be>>6&63,Re[Ce++]=128|Be&63;Ce>Pe&&(_e.push(Re.slice(0,Ce)),Ce=0,Re=new_raw_buf(65535),Pe=65530)}return _e.push(Re.slice(0,Ce)),bconcat(_e)}var chr0=/\u0000/g,chr1=/[\u0001-\u0006]/g;function _strrev(Ee){for(var _e="",Ce=Ee.length-1;Ce>=0;)_e+=Ee.charAt(Ce--);return _e}function pad0(Ee,_e){var Ce=""+Ee;return Ce.length>=_e?Ce:fill("0",_e-Ce.length)+Ce}function pad_(Ee,_e){var Ce=""+Ee;return Ce.length>=_e?Ce:fill(" ",_e-Ce.length)+Ce}function rpad_(Ee,_e){var Ce=""+Ee;return Ce.length>=_e?Ce:Ce+fill(" ",_e-Ce.length)}function pad0r1(Ee,_e){var Ce=""+Math.round(Ee);return Ce.length>=_e?Ce:fill("0",_e-Ce.length)+Ce}function pad0r2(Ee,_e){var Ce=""+Ee;return Ce.length>=_e?Ce:fill("0",_e-Ce.length)+Ce}var p2_32=Math.pow(2,32);function pad0r(Ee,_e){if(Ee>p2_32||Ee<-p2_32)return pad0r1(Ee,_e);var Ce=Math.round(Ee);return pad0r2(Ce,_e)}function SSF_isgeneral(Ee,_e){return _e=_e||0,Ee.length>=7+_e&&(Ee.charCodeAt(_e)|32)===103&&(Ee.charCodeAt(_e+1)|32)===101&&(Ee.charCodeAt(_e+2)|32)===110&&(Ee.charCodeAt(_e+3)|32)===101&&(Ee.charCodeAt(_e+4)|32)===114&&(Ee.charCodeAt(_e+5)|32)===97&&(Ee.charCodeAt(_e+6)|32)===108}var days=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],months=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function SSF_init_table(Ee){return Ee||(Ee={}),Ee[0]="General",Ee[1]="0",Ee[2]="0.00",Ee[3]="#,##0",Ee[4]="#,##0.00",Ee[9]="0%",Ee[10]="0.00%",Ee[11]="0.00E+00",Ee[12]="# ?/?",Ee[13]="# ??/??",Ee[14]="m/d/yy",Ee[15]="d-mmm-yy",Ee[16]="d-mmm",Ee[17]="mmm-yy",Ee[18]="h:mm AM/PM",Ee[19]="h:mm:ss AM/PM",Ee[20]="h:mm",Ee[21]="h:mm:ss",Ee[22]="m/d/yy h:mm",Ee[37]="#,##0 ;(#,##0)",Ee[38]="#,##0 ;[Red](#,##0)",Ee[39]="#,##0.00;(#,##0.00)",Ee[40]="#,##0.00;[Red](#,##0.00)",Ee[45]="mm:ss",Ee[46]="[h]:mm:ss",Ee[47]="mmss.0",Ee[48]="##0.0E+0",Ee[49]="@",Ee[56]='"/ "hh""mm""ss" "',Ee}var table_fmt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},SSF_default_map={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},SSF_default_str={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function SSF_frac(Ee,_e,Ce){for(var Pe=Ee<0?-1:1,Re=Ee*Pe,Ie=0,Be=1,je=0,De=1,Fe=0,Oe=0,ke=Math.floor(Re);Fe<_e&&(ke=Math.floor(Re),je=ke*Be+Ie,Oe=ke*Fe+De,!(Re-ke<5e-8));)Re=1/(Re-ke),Ie=Be,Be=je,De=Fe,Fe=Oe;if(Oe>_e&&(Fe>_e?(Oe=De,je=Ie):(Oe=Fe,je=Be)),!Ce)return[0,Pe*je,Oe];var Me=Math.floor(Pe*je/Oe);return[Me,Pe*je-Me*Oe,Oe]}function SSF_parse_date_code(Ee,_e,Ce){if(Ee>2958465||Ee<0)return null;var Pe=Ee|0,Re=Math.floor(86400*(Ee-Pe)),Ie=0,Be=[],je={D:Pe,T:Re,u:86400*(Ee-Pe)-Re,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(je.u)<1e-6&&(je.u=0),_e&&_e.date1904&&(Pe+=1462),je.u>.9999&&(je.u=0,++Re==86400&&(je.T=Re=0,++Pe,++je.D)),Pe===60)Be=Ce?[1317,10,29]:[1900,2,29],Ie=3;else if(Pe===0)Be=Ce?[1317,8,29]:[1900,1,0],Ie=6;else{Pe>60&&--Pe;var De=new Date(1900,0,1);De.setDate(De.getDate()+Pe-1),Be=[De.getFullYear(),De.getMonth()+1,De.getDate()],Ie=De.getDay(),Pe<60&&(Ie=(Ie+6)%7),Ce&&(Ie=SSF_fix_hijri(De,Be))}return je.y=Be[0],je.m=Be[1],je.d=Be[2],je.S=Re%60,Re=Math.floor(Re/60),je.M=Re%60,Re=Math.floor(Re/60),je.H=Re,je.q=Ie,je}var SSFbasedate=new Date(1899,11,31,0,0,0),SSFdnthresh=SSFbasedate.getTime(),SSFbase1904=new Date(1900,2,1,0,0,0);function datenum_local(Ee,_e){var Ce=Ee.getTime();return _e?Ce-=1461*24*60*60*1e3:Ee>=SSFbase1904&&(Ce+=1440*60*1e3),(Ce-(SSFdnthresh+(Ee.getTimezoneOffset()-SSFbasedate.getTimezoneOffset())*6e4))/(1440*60*1e3)}function SSF_strip_decimal(Ee){return Ee.indexOf(".")==-1?Ee:Ee.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function SSF_normalize_exp(Ee){return Ee.indexOf("E")==-1?Ee:Ee.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SSF_small_exp(Ee){var _e=Ee<0?12:11,Ce=SSF_strip_decimal(Ee.toFixed(12));return Ce.length<=_e||(Ce=Ee.toPrecision(10),Ce.length<=_e)?Ce:Ee.toExponential(5)}function SSF_large_exp(Ee){var _e=SSF_strip_decimal(Ee.toFixed(11));return _e.length>(Ee<0?12:11)||_e==="0"||_e==="-0"?Ee.toPrecision(6):_e}function SSF_general_num(Ee){var _e=Math.floor(Math.log(Math.abs(Ee))*Math.LOG10E),Ce;return _e>=-4&&_e<=-1?Ce=Ee.toPrecision(10+_e):Math.abs(_e)<=9?Ce=SSF_small_exp(Ee):_e===10?Ce=Ee.toFixed(10).substr(0,12):Ce=SSF_large_exp(Ee),SSF_strip_decimal(SSF_normalize_exp(Ce.toUpperCase()))}function SSF_general(Ee,_e){switch(typeof Ee){case"string":return Ee;case"boolean":return Ee?"TRUE":"FALSE";case"number":return(Ee|0)===Ee?Ee.toString(10):SSF_general_num(Ee);case"undefined":return"";case"object":if(Ee==null)return"";if(Ee instanceof Date)return SSF_format(14,datenum_local(Ee,_e&&_e.date1904),_e)}throw new Error("unsupported value in General format: "+Ee)}function SSF_fix_hijri(Ee,_e){_e[0]-=581;var Ce=Ee.getDay();return Ee<60&&(Ce=(Ce+6)%7),Ce}function SSF_write_date(Ee,_e,Ce,Pe){var Re="",Ie=0,Be=0,je=Ce.y,De,Fe=0;switch(Ee){case 98:je=Ce.y+543;case 121:switch(_e.length){case 1:case 2:De=je%100,Fe=2;break;default:De=je%1e4,Fe=4;break}break;case 109:switch(_e.length){case 1:case 2:De=Ce.m,Fe=_e.length;break;case 3:return months[Ce.m-1][1];case 5:return months[Ce.m-1][0];default:return months[Ce.m-1][2]}break;case 100:switch(_e.length){case 1:case 2:De=Ce.d,Fe=_e.length;break;case 3:return days[Ce.q][0];default:return days[Ce.q][1]}break;case 104:switch(_e.length){case 1:case 2:De=1+(Ce.H+11)%12,Fe=_e.length;break;default:throw"bad hour format: "+_e}break;case 72:switch(_e.length){case 1:case 2:De=Ce.H,Fe=_e.length;break;default:throw"bad hour format: "+_e}break;case 77:switch(_e.length){case 1:case 2:De=Ce.M,Fe=_e.length;break;default:throw"bad minute format: "+_e}break;case 115:if(_e!="s"&&_e!="ss"&&_e!=".0"&&_e!=".00"&&_e!=".000")throw"bad second format: "+_e;return Ce.u===0&&(_e=="s"||_e=="ss")?pad0(Ce.S,_e.length):(Pe>=2?Be=Pe===3?1e3:100:Be=Pe===1?10:1,Ie=Math.round(Be*(Ce.S+Ce.u)),Ie>=60*Be&&(Ie=0),_e==="s"?Ie===0?"0":""+Ie/Be:(Re=pad0(Ie,2+Pe),_e==="ss"?Re.substr(0,2):"."+Re.substr(2,_e.length-1)));case 90:switch(_e){case"[h]":case"[hh]":De=Ce.D*24+Ce.H;break;case"[m]":case"[mm]":De=(Ce.D*24+Ce.H)*60+Ce.M;break;case"[s]":case"[ss]":De=((Ce.D*24+Ce.H)*60+Ce.M)*60+Math.round(Ce.S+Ce.u);break;default:throw"bad abstime format: "+_e}Fe=_e.length===3?1:2;break;case 101:De=je,Fe=1;break}var Oe=Fe>0?pad0(De,Fe):"";return Oe}function commaify(Ee){var _e=3;if(Ee.length<=_e)return Ee;for(var Ce=Ee.length%_e,Pe=Ee.substr(0,Ce);Ce!=Ee.length;Ce+=_e)Pe+=(Pe.length>0?",":"")+Ee.substr(Ce,_e);return Pe}var pct1=/%/g;function write_num_pct(Ee,_e,Ce){var Pe=_e.replace(pct1,""),Re=_e.length-Pe.length;return write_num(Ee,Pe,Ce*Math.pow(10,2*Re))+fill("%",Re)}function write_num_cm(Ee,_e,Ce){for(var Pe=_e.length-1;_e.charCodeAt(Pe-1)===44;)--Pe;return write_num(Ee,_e.substr(0,Pe),Ce/Math.pow(10,3*(_e.length-Pe)))}function write_num_exp(Ee,_e){var Ce,Pe=Ee.indexOf("E")-Ee.indexOf(".")-1;if(Ee.match(/^#+0.0E\+0$/)){if(_e==0)return"0.0E+0";if(_e<0)return"-"+write_num_exp(Ee,-_e);var Re=Ee.indexOf(".");Re===-1&&(Re=Ee.indexOf("E"));var Ie=Math.floor(Math.log(_e)*Math.LOG10E)%Re;if(Ie<0&&(Ie+=Re),Ce=(_e/Math.pow(10,Ie)).toPrecision(Pe+1+(Re+Ie)%Re),Ce.indexOf("e")===-1){var Be=Math.floor(Math.log(_e)*Math.LOG10E);for(Ce.indexOf(".")===-1?Ce=Ce.charAt(0)+"."+Ce.substr(1)+"E+"+(Be-Ce.length+Ie):Ce+="E+"+(Be-Ie);Ce.substr(0,2)==="0.";)Ce=Ce.charAt(0)+Ce.substr(2,Re)+"."+Ce.substr(2+Re),Ce=Ce.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");Ce=Ce.replace(/\+-/,"-")}Ce=Ce.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(je,De,Fe,Oe){return De+Fe+Oe.substr(0,(Re+Ie)%Re)+"."+Oe.substr(Ie)+"E"})}else Ce=_e.toExponential(Pe);return Ee.match(/E\+00$/)&&Ce.match(/e[+-]\d$/)&&(Ce=Ce.substr(0,Ce.length-1)+"0"+Ce.charAt(Ce.length-1)),Ee.match(/E\-/)&&Ce.match(/e\+/)&&(Ce=Ce.replace(/e\+/,"e")),Ce.replace("e","E")}var frac1=/# (\?+)( ?)\/( ?)(\d+)/;function write_num_f1(Ee,_e,Ce){var Pe=parseInt(Ee[4],10),Re=Math.round(_e*Pe),Ie=Math.floor(Re/Pe),Be=Re-Ie*Pe,je=Pe;return Ce+(Ie===0?"":""+Ie)+" "+(Be===0?fill(" ",Ee[1].length+1+Ee[4].length):pad_(Be,Ee[1].length)+Ee[2]+"/"+Ee[3]+pad0(je,Ee[4].length))}function write_num_f2(Ee,_e,Ce){return Ce+(_e===0?"":""+_e)+fill(" ",Ee[1].length+2+Ee[4].length)}var dec1=/^#*0*\.([0#]+)/,closeparen=/\).*[0#]/,phone=/\(###\) ###\\?-####/;function hashq(Ee){for(var _e="",Ce,Pe=0;Pe!=Ee.length;++Pe)switch(Ce=Ee.charCodeAt(Pe)){case 35:break;case 63:_e+=" ";break;case 48:_e+="0";break;default:_e+=String.fromCharCode(Ce)}return _e}function rnd(Ee,_e){var Ce=Math.pow(10,_e);return""+Math.round(Ee*Ce)/Ce}function dec(Ee,_e){var Ce=Ee-Math.floor(Ee),Pe=Math.pow(10,_e);return _e<(""+Math.round(Ce*Pe)).length?0:Math.round(Ce*Pe)}function carry(Ee,_e){return _e<(""+Math.round((Ee-Math.floor(Ee))*Math.pow(10,_e))).length?1:0}function flr(Ee){return Ee<2147483647&&Ee>-2147483648?""+(Ee>=0?Ee|0:Ee-1|0):""+Math.floor(Ee)}function write_num_flt(Ee,_e,Ce){if(Ee.charCodeAt(0)===40&&!_e.match(closeparen)){var Pe=_e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return Ce>=0?write_num_flt("n",Pe,Ce):"("+write_num_flt("n",Pe,-Ce)+")"}if(_e.charCodeAt(_e.length-1)===44)return write_num_cm(Ee,_e,Ce);if(_e.indexOf("%")!==-1)return write_num_pct(Ee,_e,Ce);if(_e.indexOf("E")!==-1)return write_num_exp(_e,Ce);if(_e.charCodeAt(0)===36)return"$"+write_num_flt(Ee,_e.substr(_e.charAt(1)==" "?2:1),Ce);var Re,Ie,Be,je,De=Math.abs(Ce),Fe=Ce<0?"-":"";if(_e.match(/^00+$/))return Fe+pad0r(De,_e.length);if(_e.match(/^[#?]+$/))return Re=pad0r(Ce,0),Re==="0"&&(Re=""),Re.length>_e.length?Re:hashq(_e.substr(0,_e.length-Re.length))+Re;if(Ie=_e.match(frac1))return write_num_f1(Ie,De,Fe);if(_e.match(/^#+0+$/))return Fe+pad0r(De,_e.length-_e.indexOf("0"));if(Ie=_e.match(dec1))return Re=rnd(Ce,Ie[1].length).replace(/^([^\.]+)$/,"$1."+hashq(Ie[1])).replace(/\.$/,"."+hashq(Ie[1])).replace(/\.(\d*)$/,function(He,Qe){return"."+Qe+fill("0",hashq(Ie[1]).length-Qe.length)}),_e.indexOf("0.")!==-1?Re:Re.replace(/^0\./,".");if(_e=_e.replace(/^#+([0.])/,"$1"),Ie=_e.match(/^(0*)\.(#*)$/))return Fe+rnd(De,Ie[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,Ie[1].length?"0.":".");if(Ie=_e.match(/^#{1,3},##0(\.?)$/))return Fe+commaify(pad0r(De,0));if(Ie=_e.match(/^#,##0\.([#0]*0)$/))return Ce<0?"-"+write_num_flt(Ee,_e,-Ce):commaify(""+(Math.floor(Ce)+carry(Ce,Ie[1].length)))+"."+pad0(dec(Ce,Ie[1].length),Ie[1].length);if(Ie=_e.match(/^#,#*,#0/))return write_num_flt(Ee,_e.replace(/^#,#*,/,""),Ce);if(Ie=_e.match(/^([0#]+)(\\?-([0#]+))+$/))return Re=_strrev(write_num_flt(Ee,_e.replace(/[\\-]/g,""),Ce)),Be=0,_strrev(_strrev(_e.replace(/\\/g,"")).replace(/[0#]/g,function(He){return Be<Re.length?Re.charAt(Be++):He==="0"?"0":""}));if(_e.match(phone))return Re=write_num_flt(Ee,"##########",Ce),"("+Re.substr(0,3)+") "+Re.substr(3,3)+"-"+Re.substr(6);var Oe="";if(Ie=_e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return Be=Math.min(Ie[4].length,7),je=SSF_frac(De,Math.pow(10,Be)-1,!1),Re=""+Fe,Oe=write_num("n",Ie[1],je[1]),Oe.charAt(Oe.length-1)==" "&&(Oe=Oe.substr(0,Oe.length-1)+"0"),Re+=Oe+Ie[2]+"/"+Ie[3],Oe=rpad_(je[2],Be),Oe.length<Ie[4].length&&(Oe=hashq(Ie[4].substr(Ie[4].length-Oe.length))+Oe),Re+=Oe,Re;if(Ie=_e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return Be=Math.min(Math.max(Ie[1].length,Ie[4].length),7),je=SSF_frac(De,Math.pow(10,Be)-1,!0),Fe+(je[0]||(je[1]?"":"0"))+" "+(je[1]?pad_(je[1],Be)+Ie[2]+"/"+Ie[3]+rpad_(je[2],Be):fill(" ",2*Be+1+Ie[2].length+Ie[3].length));if(Ie=_e.match(/^[#0?]+$/))return Re=pad0r(Ce,0),_e.length<=Re.length?Re:hashq(_e.substr(0,_e.length-Re.length))+Re;if(Ie=_e.match(/^([#0?]+)\.([#0]+)$/)){Re=""+Ce.toFixed(Math.min(Ie[2].length,10)).replace(/([^0])0+$/,"$1"),Be=Re.indexOf(".");var ke=_e.indexOf(".")-Be,Me=_e.length-Re.length-ke;return hashq(_e.substr(0,ke)+Re+_e.substr(_e.length-Me))}if(Ie=_e.match(/^00,000\.([#0]*0)$/))return Be=dec(Ce,Ie[1].length),Ce<0?"-"+write_num_flt(Ee,_e,-Ce):commaify(flr(Ce)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(He){return"00,"+(He.length<3?pad0(0,3-He.length):"")+He})+"."+pad0(Be,Ie[1].length);switch(_e){case"###,##0.00":return write_num_flt(Ee,"#,##0.00",Ce);case"###,###":case"##,###":case"#,###":var $e=commaify(pad0r(De,0));return $e!=="0"?Fe+$e:"";case"###,###.00":return write_num_flt(Ee,"###,##0.00",Ce).replace(/^0\./,".");case"#,###.00":return write_num_flt(Ee,"#,##0.00",Ce).replace(/^0\./,".")}throw new Error("unsupported format |"+_e+"|")}function write_num_cm2(Ee,_e,Ce){for(var Pe=_e.length-1;_e.charCodeAt(Pe-1)===44;)--Pe;return write_num(Ee,_e.substr(0,Pe),Ce/Math.pow(10,3*(_e.length-Pe)))}function write_num_pct2(Ee,_e,Ce){var Pe=_e.replace(pct1,""),Re=_e.length-Pe.length;return write_num(Ee,Pe,Ce*Math.pow(10,2*Re))+fill("%",Re)}function write_num_exp2(Ee,_e){var Ce,Pe=Ee.indexOf("E")-Ee.indexOf(".")-1;if(Ee.match(/^#+0.0E\+0$/)){if(_e==0)return"0.0E+0";if(_e<0)return"-"+write_num_exp2(Ee,-_e);var Re=Ee.indexOf(".");Re===-1&&(Re=Ee.indexOf("E"));var Ie=Math.floor(Math.log(_e)*Math.LOG10E)%Re;if(Ie<0&&(Ie+=Re),Ce=(_e/Math.pow(10,Ie)).toPrecision(Pe+1+(Re+Ie)%Re),!Ce.match(/[Ee]/)){var Be=Math.floor(Math.log(_e)*Math.LOG10E);Ce.indexOf(".")===-1?Ce=Ce.charAt(0)+"."+Ce.substr(1)+"E+"+(Be-Ce.length+Ie):Ce+="E+"+(Be-Ie),Ce=Ce.replace(/\+-/,"-")}Ce=Ce.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(je,De,Fe,Oe){return De+Fe+Oe.substr(0,(Re+Ie)%Re)+"."+Oe.substr(Ie)+"E"})}else Ce=_e.toExponential(Pe);return Ee.match(/E\+00$/)&&Ce.match(/e[+-]\d$/)&&(Ce=Ce.substr(0,Ce.length-1)+"0"+Ce.charAt(Ce.length-1)),Ee.match(/E\-/)&&Ce.match(/e\+/)&&(Ce=Ce.replace(/e\+/,"e")),Ce.replace("e","E")}function write_num_int(Ee,_e,Ce){if(Ee.charCodeAt(0)===40&&!_e.match(closeparen)){var Pe=_e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return Ce>=0?write_num_int("n",Pe,Ce):"("+write_num_int("n",Pe,-Ce)+")"}if(_e.charCodeAt(_e.length-1)===44)return write_num_cm2(Ee,_e,Ce);if(_e.indexOf("%")!==-1)return write_num_pct2(Ee,_e,Ce);if(_e.indexOf("E")!==-1)return write_num_exp2(_e,Ce);if(_e.charCodeAt(0)===36)return"$"+write_num_int(Ee,_e.substr(_e.charAt(1)==" "?2:1),Ce);var Re,Ie,Be,je,De=Math.abs(Ce),Fe=Ce<0?"-":"";if(_e.match(/^00+$/))return Fe+pad0(De,_e.length);if(_e.match(/^[#?]+$/))return Re=""+Ce,Ce===0&&(Re=""),Re.length>_e.length?Re:hashq(_e.substr(0,_e.length-Re.length))+Re;if(Ie=_e.match(frac1))return write_num_f2(Ie,De,Fe);if(_e.match(/^#+0+$/))return Fe+pad0(De,_e.length-_e.indexOf("0"));if(Ie=_e.match(dec1))return Re=(""+Ce).replace(/^([^\.]+)$/,"$1."+hashq(Ie[1])).replace(/\.$/,"."+hashq(Ie[1])),Re=Re.replace(/\.(\d*)$/,function(He,Qe){return"."+Qe+fill("0",hashq(Ie[1]).length-Qe.length)}),_e.indexOf("0.")!==-1?Re:Re.replace(/^0\./,".");if(_e=_e.replace(/^#+([0.])/,"$1"),Ie=_e.match(/^(0*)\.(#*)$/))return Fe+(""+De).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,Ie[1].length?"0.":".");if(Ie=_e.match(/^#{1,3},##0(\.?)$/))return Fe+commaify(""+De);if(Ie=_e.match(/^#,##0\.([#0]*0)$/))return Ce<0?"-"+write_num_int(Ee,_e,-Ce):commaify(""+Ce)+"."+fill("0",Ie[1].length);if(Ie=_e.match(/^#,#*,#0/))return write_num_int(Ee,_e.replace(/^#,#*,/,""),Ce);if(Ie=_e.match(/^([0#]+)(\\?-([0#]+))+$/))return Re=_strrev(write_num_int(Ee,_e.replace(/[\\-]/g,""),Ce)),Be=0,_strrev(_strrev(_e.replace(/\\/g,"")).replace(/[0#]/g,function(He){return Be<Re.length?Re.charAt(Be++):He==="0"?"0":""}));if(_e.match(phone))return Re=write_num_int(Ee,"##########",Ce),"("+Re.substr(0,3)+") "+Re.substr(3,3)+"-"+Re.substr(6);var Oe="";if(Ie=_e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return Be=Math.min(Ie[4].length,7),je=SSF_frac(De,Math.pow(10,Be)-1,!1),Re=""+Fe,Oe=write_num("n",Ie[1],je[1]),Oe.charAt(Oe.length-1)==" "&&(Oe=Oe.substr(0,Oe.length-1)+"0"),Re+=Oe+Ie[2]+"/"+Ie[3],Oe=rpad_(je[2],Be),Oe.length<Ie[4].length&&(Oe=hashq(Ie[4].substr(Ie[4].length-Oe.length))+Oe),Re+=Oe,Re;if(Ie=_e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return Be=Math.min(Math.max(Ie[1].length,Ie[4].length),7),je=SSF_frac(De,Math.pow(10,Be)-1,!0),Fe+(je[0]||(je[1]?"":"0"))+" "+(je[1]?pad_(je[1],Be)+Ie[2]+"/"+Ie[3]+rpad_(je[2],Be):fill(" ",2*Be+1+Ie[2].length+Ie[3].length));if(Ie=_e.match(/^[#0?]+$/))return Re=""+Ce,_e.length<=Re.length?Re:hashq(_e.substr(0,_e.length-Re.length))+Re;if(Ie=_e.match(/^([#0]+)\.([#0]+)$/)){Re=""+Ce.toFixed(Math.min(Ie[2].length,10)).replace(/([^0])0+$/,"$1"),Be=Re.indexOf(".");var ke=_e.indexOf(".")-Be,Me=_e.length-Re.length-ke;return hashq(_e.substr(0,ke)+Re+_e.substr(_e.length-Me))}if(Ie=_e.match(/^00,000\.([#0]*0)$/))return Ce<0?"-"+write_num_int(Ee,_e,-Ce):commaify(""+Ce).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(He){return"00,"+(He.length<3?pad0(0,3-He.length):"")+He})+"."+pad0(0,Ie[1].length);switch(_e){case"###,###":case"##,###":case"#,###":var $e=commaify(""+De);return $e!=="0"?Fe+$e:"";default:if(_e.match(/\.[0#?]*$/))return write_num_int(Ee,_e.slice(0,_e.lastIndexOf(".")),Ce)+hashq(_e.slice(_e.lastIndexOf(".")))}throw new Error("unsupported format |"+_e+"|")}function write_num(Ee,_e,Ce){return(Ce|0)===Ce?write_num_int(Ee,_e,Ce):write_num_flt(Ee,_e,Ce)}function SSF_split_fmt(Ee){for(var _e=[],Ce=!1,Pe=0,Re=0;Pe<Ee.length;++Pe)switch(Ee.charCodeAt(Pe)){case 34:Ce=!Ce;break;case 95:case 42:case 92:++Pe;break;case 59:_e[_e.length]=Ee.substr(Re,Pe-Re),Re=Pe+1}if(_e[_e.length]=Ee.substr(Re),Ce===!0)throw new Error("Format |"+Ee+"| unterminated string ");return _e}var SSF_abstime=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fmt_is_date(Ee){for(var _e=0,Ce="",Pe="";_e<Ee.length;)switch(Ce=Ee.charAt(_e)){case"G":SSF_isgeneral(Ee,_e)&&(_e+=6),_e++;break;case'"':for(;Ee.charCodeAt(++_e)!==34&&_e<Ee.length;);++_e;break;case"\\":_e+=2;break;case"_":_e+=2;break;case"@":++_e;break;case"B":case"b":if(Ee.charAt(_e+1)==="1"||Ee.charAt(_e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(Ee.substr(_e,3).toUpperCase()==="A/P"||Ee.substr(_e,5).toUpperCase()==="AM/PM"||Ee.substr(_e,5).toUpperCase()==="/")return!0;++_e;break;case"[":for(Pe=Ce;Ee.charAt(_e++)!=="]"&&_e<Ee.length;)Pe+=Ee.charAt(_e);if(Pe.match(SSF_abstime))return!0;break;case".":case"0":case"#":for(;_e<Ee.length&&("0#?.,E+-%".indexOf(Ce=Ee.charAt(++_e))>-1||Ce=="\\"&&Ee.charAt(_e+1)=="-"&&"0#".indexOf(Ee.charAt(_e+2))>-1););break;case"?":for(;Ee.charAt(++_e)===Ce;);break;case"*":++_e,(Ee.charAt(_e)==" "||Ee.charAt(_e)=="*")&&++_e;break;case"(":case")":++_e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;_e<Ee.length&&"0123456789".indexOf(Ee.charAt(++_e))>-1;);break;case" ":++_e;break;default:++_e;break}return!1}function eval_fmt(Ee,_e,Ce,Pe){for(var Re=[],Ie="",Be=0,je="",De="t",Fe,Oe,ke,Me="H";Be<Ee.length;)switch(je=Ee.charAt(Be)){case"G":if(!SSF_isgeneral(Ee,Be))throw new Error("unrecognized character "+je+" in "+Ee);Re[Re.length]={t:"G",v:"General"},Be+=7;break;case'"':for(Ie="";(ke=Ee.charCodeAt(++Be))!==34&&Be<Ee.length;)Ie+=String.fromCharCode(ke);Re[Re.length]={t:"t",v:Ie},++Be;break;case"\\":var $e=Ee.charAt(++Be),He=$e==="("||$e===")"?$e:"t";Re[Re.length]={t:He,v:$e},++Be;break;case"_":Re[Re.length]={t:"t",v:" "},Be+=2;break;case"@":Re[Re.length]={t:"T",v:_e},++Be;break;case"B":case"b":if(Ee.charAt(Be+1)==="1"||Ee.charAt(Be+1)==="2"){if(Fe==null&&(Fe=SSF_parse_date_code(_e,Ce,Ee.charAt(Be+1)==="2"),Fe==null))return"";Re[Re.length]={t:"X",v:Ee.substr(Be,2)},De=je,Be+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":je=je.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(_e<0||Fe==null&&(Fe=SSF_parse_date_code(_e,Ce),Fe==null))return"";for(Ie=je;++Be<Ee.length&&Ee.charAt(Be).toLowerCase()===je;)Ie+=je;je==="m"&&De.toLowerCase()==="h"&&(je="M"),je==="h"&&(je=Me),Re[Re.length]={t:je,v:Ie},De=je;break;case"A":case"a":case"":var Qe={t:je,v:je};if(Fe==null&&(Fe=SSF_parse_date_code(_e,Ce)),Ee.substr(Be,3).toUpperCase()==="A/P"?(Fe!=null&&(Qe.v=Fe.H>=12?"P":"A"),Qe.t="T",Me="h",Be+=3):Ee.substr(Be,5).toUpperCase()==="AM/PM"?(Fe!=null&&(Qe.v=Fe.H>=12?"PM":"AM"),Qe.t="T",Be+=5,Me="h"):Ee.substr(Be,5).toUpperCase()==="/"?(Fe!=null&&(Qe.v=Fe.H>=12?"":""),Qe.t="T",Be+=5,Me="h"):(Qe.t="t",++Be),Fe==null&&Qe.t==="T")return"";Re[Re.length]=Qe,De=je;break;case"[":for(Ie=je;Ee.charAt(Be++)!=="]"&&Be<Ee.length;)Ie+=Ee.charAt(Be);if(Ie.slice(-1)!=="]")throw'unterminated "[" block: |'+Ie+"|";if(Ie.match(SSF_abstime)){if(Fe==null&&(Fe=SSF_parse_date_code(_e,Ce),Fe==null))return"";Re[Re.length]={t:"Z",v:Ie.toLowerCase()},De=Ie.charAt(1)}else Ie.indexOf("$")>-1&&(Ie=(Ie.match(/\$([^-\[\]]*)/)||[])[1]||"$",fmt_is_date(Ee)||(Re[Re.length]={t:"t",v:Ie}));break;case".":if(Fe!=null){for(Ie=je;++Be<Ee.length&&(je=Ee.charAt(Be))==="0";)Ie+=je;Re[Re.length]={t:"s",v:Ie};break}case"0":case"#":for(Ie=je;++Be<Ee.length&&"0#?.,E+-%".indexOf(je=Ee.charAt(Be))>-1;)Ie+=je;Re[Re.length]={t:"n",v:Ie};break;case"?":for(Ie=je;Ee.charAt(++Be)===je;)Ie+=je;Re[Re.length]={t:je,v:Ie},De=je;break;case"*":++Be,(Ee.charAt(Be)==" "||Ee.charAt(Be)=="*")&&++Be;break;case"(":case")":Re[Re.length]={t:Pe===1?"t":je,v:je},++Be;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(Ie=je;Be<Ee.length&&"0123456789".indexOf(Ee.charAt(++Be))>-1;)Ie+=Ee.charAt(Be);Re[Re.length]={t:"D",v:Ie};break;case" ":Re[Re.length]={t:je,v:je},++Be;break;case"$":Re[Re.length]={t:"t",v:"$"},++Be;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(je)===-1)throw new Error("unrecognized character "+je+" in "+Ee);Re[Re.length]={t:"t",v:je},++Be;break}var Ke=0,ze=0,We;for(Be=Re.length-1,De="t";Be>=0;--Be)switch(Re[Be].t){case"h":case"H":Re[Be].t=Me,De="h",Ke<1&&(Ke=1);break;case"s":(We=Re[Be].v.match(/\.0+$/))&&(ze=Math.max(ze,We[0].length-1)),Ke<3&&(Ke=3);case"d":case"y":case"M":case"e":De=Re[Be].t;break;case"m":De==="s"&&(Re[Be].t="M",Ke<2&&(Ke=2));break;case"X":break;case"Z":Ke<1&&Re[Be].v.match(/[Hh]/)&&(Ke=1),Ke<2&&Re[Be].v.match(/[Mm]/)&&(Ke=2),Ke<3&&Re[Be].v.match(/[Ss]/)&&(Ke=3)}switch(Ke){case 0:break;case 1:Fe.u>=.5&&(Fe.u=0,++Fe.S),Fe.S>=60&&(Fe.S=0,++Fe.M),Fe.M>=60&&(Fe.M=0,++Fe.H);break;case 2:Fe.u>=.5&&(Fe.u=0,++Fe.S),Fe.S>=60&&(Fe.S=0,++Fe.M);break}var qe="",Ye;for(Be=0;Be<Re.length;++Be)switch(Re[Be].t){case"t":case"T":case" ":case"D":break;case"X":Re[Be].v="",Re[Be].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":Re[Be].v=SSF_write_date(Re[Be].t.charCodeAt(0),Re[Be].v,Fe,ze),Re[Be].t="t";break;case"n":case"?":for(Ye=Be+1;Re[Ye]!=null&&((je=Re[Ye].t)==="?"||je==="D"||(je===" "||je==="t")&&Re[Ye+1]!=null&&(Re[Ye+1].t==="?"||Re[Ye+1].t==="t"&&Re[Ye+1].v==="/")||Re[Be].t==="("&&(je===" "||je==="n"||je===")")||je==="t"&&(Re[Ye].v==="/"||Re[Ye].v===" "&&Re[Ye+1]!=null&&Re[Ye+1].t=="?"));)Re[Be].v+=Re[Ye].v,Re[Ye]={v:"",t:";"},++Ye;qe+=Re[Be].v,Be=Ye-1;break;case"G":Re[Be].t="t",Re[Be].v=SSF_general(_e,Ce);break}var Xe="",rr,Je;if(qe.length>0){qe.charCodeAt(0)==40?(rr=_e<0&&qe.charCodeAt(0)===45?-_e:_e,Je=write_num("n",qe,rr)):(rr=_e<0&&Pe>1?-_e:_e,Je=write_num("n",qe,rr),rr<0&&Re[0]&&Re[0].t=="t"&&(Je=Je.substr(1),Re[0].v="-"+Re[0].v)),Ye=Je.length-1;var er=Re.length;for(Be=0;Be<Re.length;++Be)if(Re[Be]!=null&&Re[Be].t!="t"&&Re[Be].v.indexOf(".")>-1){er=Be;break}var or=Re.length;if(er===Re.length&&Je.indexOf("E")===-1){for(Be=Re.length-1;Be>=0;--Be)Re[Be]==null||"n?".indexOf(Re[Be].t)===-1||(Ye>=Re[Be].v.length-1?(Ye-=Re[Be].v.length,Re[Be].v=Je.substr(Ye+1,Re[Be].v.length)):Ye<0?Re[Be].v="":(Re[Be].v=Je.substr(0,Ye+1),Ye=-1),Re[Be].t="t",or=Be);Ye>=0&&or<Re.length&&(Re[or].v=Je.substr(0,Ye+1)+Re[or].v)}else if(er!==Re.length&&Je.indexOf("E")===-1){for(Ye=Je.indexOf(".")-1,Be=er;Be>=0;--Be)if(!(Re[Be]==null||"n?".indexOf(Re[Be].t)===-1)){for(Oe=Re[Be].v.indexOf(".")>-1&&Be===er?Re[Be].v.indexOf(".")-1:Re[Be].v.length-1,Xe=Re[Be].v.substr(Oe+1);Oe>=0;--Oe)Ye>=0&&(Re[Be].v.charAt(Oe)==="0"||Re[Be].v.charAt(Oe)==="#")&&(Xe=Je.charAt(Ye--)+Xe);Re[Be].v=Xe,Re[Be].t="t",or=Be}for(Ye>=0&&or<Re.length&&(Re[or].v=Je.substr(0,Ye+1)+Re[or].v),Ye=Je.indexOf(".")+1,Be=er;Be<Re.length;++Be)if(!(Re[Be]==null||"n?(".indexOf(Re[Be].t)===-1&&Be!==er)){for(Oe=Re[Be].v.indexOf(".")>-1&&Be===er?Re[Be].v.indexOf(".")+1:0,Xe=Re[Be].v.substr(0,Oe);Oe<Re[Be].v.length;++Oe)Ye<Je.length&&(Xe+=Je.charAt(Ye++));Re[Be].v=Xe,Re[Be].t="t",or=Be}}}for(Be=0;Be<Re.length;++Be)Re[Be]!=null&&"n?".indexOf(Re[Be].t)>-1&&(rr=Pe>1&&_e<0&&Be>0&&Re[Be-1].v==="-"?-_e:_e,Re[Be].v=write_num(Re[Be].t,Re[Be].v,rr),Re[Be].t="t");var pr="";for(Be=0;Be!==Re.length;++Be)Re[Be]!=null&&(pr+=Re[Be].v);return pr}var cfregex2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function chkcond(Ee,_e){if(_e==null)return!1;var Ce=parseFloat(_e[2]);switch(_e[1]){case"=":if(Ee==Ce)return!0;break;case">":if(Ee>Ce)return!0;break;case"<":if(Ee<Ce)return!0;break;case"<>":if(Ee!=Ce)return!0;break;case">=":if(Ee>=Ce)return!0;break;case"<=":if(Ee<=Ce)return!0;break}return!1}function choose_fmt(Ee,_e){var Ce=SSF_split_fmt(Ee),Pe=Ce.length,Re=Ce[Pe-1].indexOf("@");if(Pe<4&&Re>-1&&--Pe,Ce.length>4)throw new Error("cannot find right format for |"+Ce.join("|")+"|");if(typeof _e!="number")return[4,Ce.length===4||Re>-1?Ce[Ce.length-1]:"@"];switch(Ce.length){case 1:Ce=Re>-1?["General","General","General",Ce[0]]:[Ce[0],Ce[0],Ce[0],"@"];break;case 2:Ce=Re>-1?[Ce[0],Ce[0],Ce[0],Ce[1]]:[Ce[0],Ce[1],Ce[0],"@"];break;case 3:Ce=Re>-1?[Ce[0],Ce[1],Ce[0],Ce[2]]:[Ce[0],Ce[1],Ce[2],"@"];break}var Ie=_e>0?Ce[0]:_e<0?Ce[1]:Ce[2];if(Ce[0].indexOf("[")===-1&&Ce[1].indexOf("[")===-1)return[Pe,Ie];if(Ce[0].match(/\[[=<>]/)!=null||Ce[1].match(/\[[=<>]/)!=null){var Be=Ce[0].match(cfregex2),je=Ce[1].match(cfregex2);return chkcond(_e,Be)?[Pe,Ce[0]]:chkcond(_e,je)?[Pe,Ce[1]]:[Pe,Ce[Be!=null&&je!=null?2:1]]}return[Pe,Ie]}function SSF_format(Ee,_e,Ce){Ce==null&&(Ce={});var Pe="";switch(typeof Ee){case"string":Ee=="m/d/yy"&&Ce.dateNF?Pe=Ce.dateNF:Pe=Ee;break;case"number":Ee==14&&Ce.dateNF?Pe=Ce.dateNF:Pe=(Ce.table!=null?Ce.table:table_fmt)[Ee],Pe==null&&(Pe=Ce.table&&Ce.table[SSF_default_map[Ee]]||table_fmt[SSF_default_map[Ee]]),Pe==null&&(Pe=SSF_default_str[Ee]||"General");break}if(SSF_isgeneral(Pe,0))return SSF_general(_e,Ce);_e instanceof Date&&(_e=datenum_local(_e,Ce.date1904));var Re=choose_fmt(Pe,_e);if(SSF_isgeneral(Re[1]))return SSF_general(_e,Ce);if(_e===!0)_e="TRUE";else if(_e===!1)_e="FALSE";else if(_e===""||_e==null)return"";return eval_fmt(Re[1],_e,Ce,Re[0])}function SSF_load(Ee,_e){if(typeof _e!="number"){_e=+_e||-1;for(var Ce=0;Ce<392;++Ce){if(table_fmt[Ce]==null){_e<0&&(_e=Ce);continue}if(table_fmt[Ce]==Ee){_e=Ce;break}}_e<0&&(_e=391)}return table_fmt[_e]=Ee,_e}function SSF_load_table(Ee){for(var _e=0;_e!=392;++_e)Ee[_e]!==void 0&&SSF_load(Ee[_e],_e)}function make_ssf(){table_fmt=SSF_init_table()}var dateNFregex=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function dateNF_regex(Ee){var _e=typeof Ee=="number"?table_fmt[Ee]:Ee;return _e=_e.replace(dateNFregex,"(\\d+)"),new RegExp("^"+_e+"$")}function dateNF_fix(Ee,_e,Ce){var Pe=-1,Re=-1,Ie=-1,Be=-1,je=-1,De=-1;(_e.match(dateNFregex)||[]).forEach(function(ke,Me){var $e=parseInt(Ce[Me+1],10);switch(ke.toLowerCase().charAt(0)){case"y":Pe=$e;break;case"d":Ie=$e;break;case"h":Be=$e;break;case"s":De=$e;break;case"m":Be>=0?je=$e:Re=$e;break}}),De>=0&&je==-1&&Re>=0&&(je=Re,Re=-1);var Fe=(""+(Pe>=0?Pe:new Date().getFullYear())).slice(-4)+"-"+("00"+(Re>=1?Re:1)).slice(-2)+"-"+("00"+(Ie>=1?Ie:1)).slice(-2);Fe.length==7&&(Fe="0"+Fe),Fe.length==8&&(Fe="20"+Fe);var Oe=("00"+(Be>=0?Be:0)).slice(-2)+":"+("00"+(je>=0?je:0)).slice(-2)+":"+("00"+(De>=0?De:0)).slice(-2);return Be==-1&&je==-1&&De==-1?Fe:Pe==-1&&Re==-1&&Ie==-1?Oe:Fe+"T"+Oe}var CRC32=function(){var Ee={};Ee.version="1.2.0";function _e(){for(var Je=0,er=new Array(256),or=0;or!=256;++or)Je=or,Je=Je&1?-306674912^Je>>>1:Je>>>1,Je=Je&1?-306674912^Je>>>1:Je>>>1,Je=Je&1?-306674912^Je>>>1:Je>>>1,Je=Je&1?-306674912^Je>>>1:Je>>>1,Je=Je&1?-306674912^Je>>>1:Je>>>1,Je=Je&1?-306674912^Je>>>1:Je>>>1,Je=Je&1?-306674912^Je>>>1:Je>>>1,Je=Je&1?-306674912^Je>>>1:Je>>>1,er[or]=Je;return typeof Int32Array<"u"?new Int32Array(er):er}var Ce=_e();function Pe(Je){var er=0,or=0,pr=0,ar=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(pr=0;pr!=256;++pr)ar[pr]=Je[pr];for(pr=0;pr!=256;++pr)for(or=Je[pr],er=256+pr;er<4096;er+=256)or=ar[er]=or>>>8^Je[or&255];var fr=[];for(pr=1;pr!=16;++pr)fr[pr-1]=typeof Int32Array<"u"?ar.subarray(pr*256,pr*256+256):ar.slice(pr*256,pr*256+256);return fr}var Re=Pe(Ce),Ie=Re[0],Be=Re[1],je=Re[2],De=Re[3],Fe=Re[4],Oe=Re[5],ke=Re[6],Me=Re[7],$e=Re[8],He=Re[9],Qe=Re[10],Ke=Re[11],ze=Re[12],We=Re[13],qe=Re[14];function Ye(Je,er){for(var or=er^-1,pr=0,ar=Je.length;pr<ar;)or=or>>>8^Ce[(or^Je.charCodeAt(pr++))&255];return~or}function Xe(Je,er){for(var or=er^-1,pr=Je.length-15,ar=0;ar<pr;)or=qe[Je[ar++]^or&255]^We[Je[ar++]^or>>8&255]^ze[Je[ar++]^or>>16&255]^Ke[Je[ar++]^or>>>24]^Qe[Je[ar++]]^He[Je[ar++]]^$e[Je[ar++]]^Me[Je[ar++]]^ke[Je[ar++]]^Oe[Je[ar++]]^Fe[Je[ar++]]^De[Je[ar++]]^je[Je[ar++]]^Be[Je[ar++]]^Ie[Je[ar++]]^Ce[Je[ar++]];for(pr+=15;ar<pr;)or=or>>>8^Ce[(or^Je[ar++])&255];return~or}function rr(Je,er){for(var or=er^-1,pr=0,ar=Je.length,fr=0,gr=0;pr<ar;)fr=Je.charCodeAt(pr++),fr<128?or=or>>>8^Ce[(or^fr)&255]:fr<2048?(or=or>>>8^Ce[(or^(192|fr>>6&31))&255],or=or>>>8^Ce[(or^(128|fr&63))&255]):fr>=55296&&fr<57344?(fr=(fr&1023)+64,gr=Je.charCodeAt(pr++)&1023,or=or>>>8^Ce[(or^(240|fr>>8&7))&255],or=or>>>8^Ce[(or^(128|fr>>2&63))&255],or=or>>>8^Ce[(or^(128|gr>>6&15|(fr&3)<<4))&255],or=or>>>8^Ce[(or^(128|gr&63))&255]):(or=or>>>8^Ce[(or^(224|fr>>12&15))&255],or=or>>>8^Ce[(or^(128|fr>>6&63))&255],or=or>>>8^Ce[(or^(128|fr&63))&255]);return~or}return Ee.table=Ce,Ee.bstr=Ye,Ee.buf=Xe,Ee.str=rr,Ee}(),CFB=function Ee(){var _e={};_e.version="1.2.1";function Ce(Ur,An){for(var Xr=Ur.split("/"),un=An.split("/"),pn=0,gn=0,Un=Math.min(Xr.length,un.length);pn<Un;++pn){if(gn=Xr[pn].length-un[pn].length)return gn;if(Xr[pn]!=un[pn])return Xr[pn]<un[pn]?-1:1}return Xr.length-un.length}function Pe(Ur){if(Ur.charAt(Ur.length-1)=="/")return Ur.slice(0,-1).indexOf("/")===-1?Ur:Pe(Ur.slice(0,-1));var An=Ur.lastIndexOf("/");return An===-1?Ur:Ur.slice(0,An+1)}function Re(Ur){if(Ur.charAt(Ur.length-1)=="/")return Re(Ur.slice(0,-1));var An=Ur.lastIndexOf("/");return An===-1?Ur:Ur.slice(An+1)}function Ie(Ur,An){typeof An=="string"&&(An=new Date(An));var Xr=An.getHours();Xr=Xr<<6|An.getMinutes(),Xr=Xr<<5|An.getSeconds()>>>1,Ur.write_shift(2,Xr);var un=An.getFullYear()-1980;un=un<<4|An.getMonth()+1,un=un<<5|An.getDate(),Ur.write_shift(2,un)}function Be(Ur){var An=Ur.read_shift(2)&65535,Xr=Ur.read_shift(2)&65535,un=new Date,pn=Xr&31;Xr>>>=5;var gn=Xr&15;Xr>>>=4,un.setMilliseconds(0),un.setFullYear(Xr+1980),un.setMonth(gn-1),un.setDate(pn);var Un=An&31;An>>>=5;var Yn=An&63;return An>>>=6,un.setHours(An),un.setMinutes(Yn),un.setSeconds(Un<<1),un}function je(Ur){prep_blob(Ur,0);for(var An={},Xr=0;Ur.l<=Ur.length-4;){var un=Ur.read_shift(2),pn=Ur.read_shift(2),gn=Ur.l+pn,Un={};switch(un){case 21589:Xr=Ur.read_shift(1),Xr&1&&(Un.mtime=Ur.read_shift(4)),pn>5&&(Xr&2&&(Un.atime=Ur.read_shift(4)),Xr&4&&(Un.ctime=Ur.read_shift(4))),Un.mtime&&(Un.mt=new Date(Un.mtime*1e3));break}Ur.l=gn,An[un]=Un}return An}var De;function Fe(){return De||(De={})}function Oe(Ur,An){if(Ur[0]==80&&Ur[1]==75)return vs(Ur,An);if((Ur[0]|32)==109&&(Ur[1]|32)==105)return Na(Ur,An);if(Ur.length<512)throw new Error("CFB file size "+Ur.length+" < 512");var Xr=3,un=512,pn=0,gn=0,Un=0,Yn=0,On=0,Qn=[],Wn=Ur.slice(0,512);prep_blob(Wn,0);var gi=ke(Wn);switch(Xr=gi[0],Xr){case 3:un=512;break;case 4:un=4096;break;case 0:if(gi[1]==0)return vs(Ur,An);default:throw new Error("Major Version: Expected 3 or 4 saw "+Xr)}un!==512&&(Wn=Ur.slice(0,un),prep_blob(Wn,28));var Ci=Ur.slice(0,un);Me(Wn,Xr);var Hi=Wn.read_shift(4,"i");if(Xr===3&&Hi!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Hi);Wn.l+=4,Un=Wn.read_shift(4,"i"),Wn.l+=4,Wn.chk("00100000","Mini Stream Cutoff Size: "),Yn=Wn.read_shift(4,"i"),pn=Wn.read_shift(4,"i"),On=Wn.read_shift(4,"i"),gn=Wn.read_shift(4,"i");for(var Ei=-1,Li=0;Li<109&&(Ei=Wn.read_shift(4,"i"),!(Ei<0));++Li)Qn[Li]=Ei;var os=$e(Ur,un);Ke(On,gn,os,un,Qn);var ys=We(os,Un,Qn,un);ys[Un].name="!Directory",pn>0&&Yn!==gr&&(ys[Yn].name="!MiniFAT"),ys[Qn[0]].name="!FAT",ys.fat_addrs=Qn,ys.ssz=un;var Ss={},bs=[],fo=[],Co=[];qe(Un,ys,os,bs,pn,Ss,fo,Yn),He(fo,Co,bs),bs.shift();var ho={FileIndex:fo,FullPaths:Co};return An&&An.raw&&(ho.raw={header:Ci,sectors:os}),ho}function ke(Ur){if(Ur[Ur.l]==80&&Ur[Ur.l+1]==75)return[0,0];Ur.chk(Rr,"Header Signature: "),Ur.l+=16;var An=Ur.read_shift(2,"u");return[Ur.read_shift(2,"u"),An]}function Me(Ur,An){var Xr=9;switch(Ur.l+=2,Xr=Ur.read_shift(2)){case 9:if(An!=3)throw new Error("Sector Shift: Expected 9 saw "+Xr);break;case 12:if(An!=4)throw new Error("Sector Shift: Expected 12 saw "+Xr);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Xr)}Ur.chk("0600","Mini Sector Shift: "),Ur.chk("000000000000","Reserved: ")}function $e(Ur,An){for(var Xr=Math.ceil(Ur.length/An)-1,un=[],pn=1;pn<Xr;++pn)un[pn-1]=Ur.slice(pn*An,(pn+1)*An);return un[Xr-1]=Ur.slice(Xr*An),un}function He(Ur,An,Xr){for(var un=0,pn=0,gn=0,Un=0,Yn=0,On=Xr.length,Qn=[],Wn=[];un<On;++un)Qn[un]=Wn[un]=un,An[un]=Xr[un];for(;Yn<Wn.length;++Yn)un=Wn[Yn],pn=Ur[un].L,gn=Ur[un].R,Un=Ur[un].C,Qn[un]===un&&(pn!==-1&&Qn[pn]!==pn&&(Qn[un]=Qn[pn]),gn!==-1&&Qn[gn]!==gn&&(Qn[un]=Qn[gn])),Un!==-1&&(Qn[Un]=un),pn!==-1&&un!=Qn[un]&&(Qn[pn]=Qn[un],Wn.lastIndexOf(pn)<Yn&&Wn.push(pn)),gn!==-1&&un!=Qn[un]&&(Qn[gn]=Qn[un],Wn.lastIndexOf(gn)<Yn&&Wn.push(gn));for(un=1;un<On;++un)Qn[un]===un&&(gn!==-1&&Qn[gn]!==gn?Qn[un]=Qn[gn]:pn!==-1&&Qn[pn]!==pn&&(Qn[un]=Qn[pn]));for(un=1;un<On;++un)if(Ur[un].type!==0){if(Yn=un,Yn!=Qn[Yn])do Yn=Qn[Yn],An[un]=An[Yn]+"/"+An[un];while(Yn!==0&&Qn[Yn]!==-1&&Yn!=Qn[Yn]);Qn[un]=-1}for(An[0]+="/",un=1;un<On;++un)Ur[un].type!==2&&(An[un]+="/")}function Qe(Ur,An,Xr){for(var un=Ur.start,pn=Ur.size,gn=[],Un=un;Xr&&pn>0&&Un>=0;)gn.push(An.slice(Un*fr,Un*fr+fr)),pn-=fr,Un=__readInt32LE(Xr,Un*4);return gn.length===0?new_buf(0):bconcat(gn).slice(0,Ur.size)}function Ke(Ur,An,Xr,un,pn){var gn=gr;if(Ur===gr){if(An!==0)throw new Error("DIFAT chain shorter than expected")}else if(Ur!==-1){var Un=Xr[Ur],Yn=(un>>>2)-1;if(!Un)return;for(var On=0;On<Yn&&(gn=__readInt32LE(Un,On*4))!==gr;++On)pn.push(gn);Ke(__readInt32LE(Un,un-4),An-1,Xr,un,pn)}}function ze(Ur,An,Xr,un,pn){var gn=[],Un=[];pn||(pn=[]);var Yn=un-1,On=0,Qn=0;for(On=An;On>=0;){pn[On]=!0,gn[gn.length]=On,Un.push(Ur[On]);var Wn=Xr[Math.floor(On*4/un)];if(Qn=On*4&Yn,un<4+Qn)throw new Error("FAT boundary crossed: "+On+" 4 "+un);if(!Ur[Wn])break;On=__readInt32LE(Ur[Wn],Qn)}return{nodes:gn,data:__toBuffer([Un])}}function We(Ur,An,Xr,un){var pn=Ur.length,gn=[],Un=[],Yn=[],On=[],Qn=un-1,Wn=0,gi=0,Ci=0,Hi=0;for(Wn=0;Wn<pn;++Wn)if(Yn=[],Ci=Wn+An,Ci>=pn&&(Ci-=pn),!Un[Ci]){On=[];var Ei=[];for(gi=Ci;gi>=0;){Ei[gi]=!0,Un[gi]=!0,Yn[Yn.length]=gi,On.push(Ur[gi]);var Li=Xr[Math.floor(gi*4/un)];if(Hi=gi*4&Qn,un<4+Hi)throw new Error("FAT boundary crossed: "+gi+" 4 "+un);if(!Ur[Li]||(gi=__readInt32LE(Ur[Li],Hi),Ei[gi]))break}gn[Ci]={nodes:Yn,data:__toBuffer([On])}}return gn}function qe(Ur,An,Xr,un,pn,gn,Un,Yn){for(var On=0,Qn=un.length?2:0,Wn=An[Ur].data,gi=0,Ci=0,Hi;gi<Wn.length;gi+=128){var Ei=Wn.slice(gi,gi+128);prep_blob(Ei,64),Ci=Ei.read_shift(2),Hi=__utf16le(Ei,0,Ci-Qn),un.push(Hi);var Li={name:Hi,type:Ei.read_shift(1),color:Ei.read_shift(1),L:Ei.read_shift(4,"i"),R:Ei.read_shift(4,"i"),C:Ei.read_shift(4,"i"),clsid:Ei.read_shift(16),state:Ei.read_shift(4,"i"),start:0,size:0},os=Ei.read_shift(2)+Ei.read_shift(2)+Ei.read_shift(2)+Ei.read_shift(2);os!==0&&(Li.ct=Ye(Ei,Ei.l-8));var ys=Ei.read_shift(2)+Ei.read_shift(2)+Ei.read_shift(2)+Ei.read_shift(2);ys!==0&&(Li.mt=Ye(Ei,Ei.l-8)),Li.start=Ei.read_shift(4,"i"),Li.size=Ei.read_shift(4,"i"),Li.size<0&&Li.start<0&&(Li.size=Li.type=0,Li.start=gr,Li.name=""),Li.type===5?(On=Li.start,pn>0&&On!==gr&&(An[On].name="!StreamData")):Li.size>=4096?(Li.storage="fat",An[Li.start]===void 0&&(An[Li.start]=ze(Xr,Li.start,An.fat_addrs,An.ssz)),An[Li.start].name=Li.name,Li.content=An[Li.start].data.slice(0,Li.size)):(Li.storage="minifat",Li.size<0?Li.size=0:On!==gr&&Li.start!==gr&&An[On]&&(Li.content=Qe(Li,An[On].data,(An[Yn]||{}).data))),Li.content&&prep_blob(Li.content,0),gn[Hi]=Li,Un.push(Li)}}function Ye(Ur,An){return new Date((__readUInt32LE(Ur,An+4)/1e7*Math.pow(2,32)+__readUInt32LE(Ur,An)/1e7-11644473600)*1e3)}function Xe(Ur,An){return Fe(),Oe(De.readFileSync(Ur),An)}function rr(Ur,An){var Xr=An&&An.type;switch(Xr||has_buf&&Buffer.isBuffer(Ur)&&(Xr="buffer"),Xr||"base64"){case"file":return Xe(Ur,An);case"base64":return Oe(s2a(Base64_decode(Ur)),An);case"binary":return Oe(s2a(Ur),An)}return Oe(Ur,An)}function Je(Ur,An){var Xr=An||{},un=Xr.root||"Root Entry";if(Ur.FullPaths||(Ur.FullPaths=[]),Ur.FileIndex||(Ur.FileIndex=[]),Ur.FullPaths.length!==Ur.FileIndex.length)throw new Error("inconsistent CFB structure");Ur.FullPaths.length===0&&(Ur.FullPaths[0]=un+"/",Ur.FileIndex[0]={name:un,type:5}),Xr.CLSID&&(Ur.FileIndex[0].clsid=Xr.CLSID),er(Ur)}function er(Ur){var An="Sh33tJ5";if(!CFB.find(Ur,"/"+An)){var Xr=new_buf(4);Xr[0]=55,Xr[1]=Xr[3]=50,Xr[2]=54,Ur.FileIndex.push({name:An,type:2,content:Xr,size:4,L:69,R:69,C:69}),Ur.FullPaths.push(Ur.FullPaths[0]+An),or(Ur)}}function or(Ur,An){Je(Ur);for(var Xr=!1,un=!1,pn=Ur.FullPaths.length-1;pn>=0;--pn){var gn=Ur.FileIndex[pn];switch(gn.type){case 0:un?Xr=!0:(Ur.FileIndex.pop(),Ur.FullPaths.pop());break;case 1:case 2:case 5:un=!0,isNaN(gn.R*gn.L*gn.C)&&(Xr=!0),gn.R>-1&&gn.L>-1&&gn.R==gn.L&&(Xr=!0);break;default:Xr=!0;break}}if(!(!Xr&&!An)){var Un=new Date(1987,1,19),Yn=0,On=Object.create?Object.create(null):{},Qn=[];for(pn=0;pn<Ur.FullPaths.length;++pn)On[Ur.FullPaths[pn]]=!0,Ur.FileIndex[pn].type!==0&&Qn.push([Ur.FullPaths[pn],Ur.FileIndex[pn]]);for(pn=0;pn<Qn.length;++pn){var Wn=Pe(Qn[pn][0]);un=On[Wn],un||(Qn.push([Wn,{name:Re(Wn).replace("/",""),type:1,clsid:mr,ct:Un,mt:Un,content:null}]),On[Wn]=!0)}for(Qn.sort(function(Hi,Ei){return Ce(Hi[0],Ei[0])}),Ur.FullPaths=[],Ur.FileIndex=[],pn=0;pn<Qn.length;++pn)Ur.FullPaths[pn]=Qn[pn][0],Ur.FileIndex[pn]=Qn[pn][1];for(pn=0;pn<Qn.length;++pn){var gi=Ur.FileIndex[pn],Ci=Ur.FullPaths[pn];if(gi.name=Re(Ci).replace("/",""),gi.L=gi.R=gi.C=-(gi.color=1),gi.size=gi.content?gi.content.length:0,gi.start=0,gi.clsid=gi.clsid||mr,pn===0)gi.C=Qn.length>1?1:-1,gi.size=0,gi.type=5;else if(Ci.slice(-1)=="/"){for(Yn=pn+1;Yn<Qn.length&&Pe(Ur.FullPaths[Yn])!=Ci;++Yn);for(gi.C=Yn>=Qn.length?-1:Yn,Yn=pn+1;Yn<Qn.length&&Pe(Ur.FullPaths[Yn])!=Pe(Ci);++Yn);gi.R=Yn>=Qn.length?-1:Yn,gi.type=1}else Pe(Ur.FullPaths[pn+1]||"")==Pe(Ci)&&(gi.R=pn+1),gi.type=2}}}function pr(Ur,An){var Xr=An||{};if(Xr.fileType=="mad")return Ri(Ur,Xr);switch(or(Ur),Xr.fileType){case"zip":return Ji(Ur,Xr)}var un=function(Hi){for(var Ei=0,Li=0,os=0;os<Hi.FileIndex.length;++os){var ys=Hi.FileIndex[os];if(ys.content){var Ss=ys.content.length;Ss>0&&(Ss<4096?Ei+=Ss+63>>6:Li+=Ss+511>>9)}}for(var bs=Hi.FullPaths.length+3>>2,fo=Ei+7>>3,Co=Ei+127>>7,ho=fo+Li+bs+Co,Po=ho+127>>7,Ao=Po<=109?0:Math.ceil((Po-109)/127);ho+Po+Ao+127>>7>Po;)Ao=++Po<=109?0:Math.ceil((Po-109)/127);var Ma=[1,Ao,Po,Co,bs,Li,Ei,0];return Hi.FileIndex[0].size=Ei<<6,Ma[7]=(Hi.FileIndex[0].start=Ma[0]+Ma[1]+Ma[2]+Ma[3]+Ma[4]+Ma[5])+(Ma[6]+7>>3),Ma}(Ur),pn=new_buf(un[7]<<9),gn=0,Un=0;{for(gn=0;gn<8;++gn)pn.write_shift(1,Ir[gn]);for(gn=0;gn<8;++gn)pn.write_shift(2,0);for(pn.write_shift(2,62),pn.write_shift(2,3),pn.write_shift(2,65534),pn.write_shift(2,9),pn.write_shift(2,6),gn=0;gn<3;++gn)pn.write_shift(2,0);for(pn.write_shift(4,0),pn.write_shift(4,un[2]),pn.write_shift(4,un[0]+un[1]+un[2]+un[3]-1),pn.write_shift(4,0),pn.write_shift(4,4096),pn.write_shift(4,un[3]?un[0]+un[1]+un[2]-1:gr),pn.write_shift(4,un[3]),pn.write_shift(-4,un[1]?un[0]-1:gr),pn.write_shift(4,un[1]),gn=0;gn<109;++gn)pn.write_shift(-4,gn<un[2]?un[1]+gn:-1)}if(un[1])for(Un=0;Un<un[1];++Un){for(;gn<236+Un*127;++gn)pn.write_shift(-4,gn<un[2]?un[1]+gn:-1);pn.write_shift(-4,Un===un[1]-1?gr:Un+1)}var Yn=function(Hi){for(Un+=Hi;gn<Un-1;++gn)pn.write_shift(-4,gn+1);Hi&&(++gn,pn.write_shift(-4,gr))};for(Un=gn=0,Un+=un[1];gn<Un;++gn)pn.write_shift(-4,Er.DIFSECT);for(Un+=un[2];gn<Un;++gn)pn.write_shift(-4,Er.FATSECT);Yn(un[3]),Yn(un[4]);for(var On=0,Qn=0,Wn=Ur.FileIndex[0];On<Ur.FileIndex.length;++On)Wn=Ur.FileIndex[On],Wn.content&&(Qn=Wn.content.length,!(Qn<4096)&&(Wn.start=Un,Yn(Qn+511>>9)));for(Yn(un[6]+7>>3);pn.l&511;)pn.write_shift(-4,Er.ENDOFCHAIN);for(Un=gn=0,On=0;On<Ur.FileIndex.length;++On)Wn=Ur.FileIndex[On],Wn.content&&(Qn=Wn.content.length,!(!Qn||Qn>=4096)&&(Wn.start=Un,Yn(Qn+63>>6)));for(;pn.l&511;)pn.write_shift(-4,Er.ENDOFCHAIN);for(gn=0;gn<un[4]<<2;++gn){var gi=Ur.FullPaths[gn];if(!gi||gi.length===0){for(On=0;On<17;++On)pn.write_shift(4,0);for(On=0;On<3;++On)pn.write_shift(4,-1);for(On=0;On<12;++On)pn.write_shift(4,0);continue}Wn=Ur.FileIndex[gn],gn===0&&(Wn.start=Wn.size?Wn.start-1:gr);var Ci=gn===0&&Xr.root||Wn.name;if(Qn=2*(Ci.length+1),pn.write_shift(64,Ci,"utf16le"),pn.write_shift(2,Qn),pn.write_shift(1,Wn.type),pn.write_shift(1,Wn.color),pn.write_shift(-4,Wn.L),pn.write_shift(-4,Wn.R),pn.write_shift(-4,Wn.C),Wn.clsid)pn.write_shift(16,Wn.clsid,"hex");else for(On=0;On<4;++On)pn.write_shift(4,0);pn.write_shift(4,Wn.state||0),pn.write_shift(4,0),pn.write_shift(4,0),pn.write_shift(4,0),pn.write_shift(4,0),pn.write_shift(4,Wn.start),pn.write_shift(4,Wn.size),pn.write_shift(4,0)}for(gn=1;gn<Ur.FileIndex.length;++gn)if(Wn=Ur.FileIndex[gn],Wn.size>=4096)if(pn.l=Wn.start+1<<9,has_buf&&Buffer.isBuffer(Wn.content))Wn.content.copy(pn,pn.l,0,Wn.size),pn.l+=Wn.size+511&-512;else{for(On=0;On<Wn.size;++On)pn.write_shift(1,Wn.content[On]);for(;On&511;++On)pn.write_shift(1,0)}for(gn=1;gn<Ur.FileIndex.length;++gn)if(Wn=Ur.FileIndex[gn],Wn.size>0&&Wn.size<4096)if(has_buf&&Buffer.isBuffer(Wn.content))Wn.content.copy(pn,pn.l,0,Wn.size),pn.l+=Wn.size+63&-64;else{for(On=0;On<Wn.size;++On)pn.write_shift(1,Wn.content[On]);for(;On&63;++On)pn.write_shift(1,0)}if(has_buf)pn.l=pn.length;else for(;pn.l<pn.length;)pn.write_shift(1,0);return pn}function ar(Ur,An){var Xr=Ur.FullPaths.map(function(On){return On.toUpperCase()}),un=Xr.map(function(On){var Qn=On.split("/");return Qn[Qn.length-(On.slice(-1)=="/"?2:1)]}),pn=!1;An.charCodeAt(0)===47?(pn=!0,An=Xr[0].slice(0,-1)+An):pn=An.indexOf("/")!==-1;var gn=An.toUpperCase(),Un=pn===!0?Xr.indexOf(gn):un.indexOf(gn);if(Un!==-1)return Ur.FileIndex[Un];var Yn=!gn.match(chr1);for(gn=gn.replace(chr0,""),Yn&&(gn=gn.replace(chr1,"!")),Un=0;Un<Xr.length;++Un)if((Yn?Xr[Un].replace(chr1,"!"):Xr[Un]).replace(chr0,"")==gn||(Yn?un[Un].replace(chr1,"!"):un[Un]).replace(chr0,"")==gn)return Ur.FileIndex[Un];return null}var fr=64,gr=-2,Rr="d0cf11e0a1b11ae1",Ir=[208,207,17,224,161,177,26,225],mr="00000000000000000000000000000000",Er={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:gr,FREESECT:-1,HEADER_SIGNATURE:Rr,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:mr,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ar(Ur,An,Xr){Fe();var un=pr(Ur,Xr);De.writeFileSync(An,un)}function br(Ur){for(var An=new Array(Ur.length),Xr=0;Xr<Ur.length;++Xr)An[Xr]=String.fromCharCode(Ur[Xr]);return An.join("")}function wr(Ur,An){var Xr=pr(Ur,An);switch(An&&An.type||"buffer"){case"file":return Fe(),De.writeFileSync(An.filename,Xr),Xr;case"binary":return typeof Xr=="string"?Xr:br(Xr);case"base64":return Base64_encode(typeof Xr=="string"?Xr:br(Xr));case"buffer":if(has_buf)return Buffer.isBuffer(Xr)?Xr:Buffer_from(Xr);case"array":return typeof Xr=="string"?s2a(Xr):Xr}return Xr}var jr;function hr(Ur){try{var An=Ur.InflateRaw,Xr=new An;if(Xr._processChunk(new Uint8Array([3,0]),Xr._finishFlushFlag),Xr.bytesRead)jr=Ur;else throw new Error("zlib does not expose bytesRead")}catch(un){console.error("cannot use native zlib: "+(un.message||un))}}function _r(Ur,An){if(!jr)return Zi(Ur,An);var Xr=jr.InflateRaw,un=new Xr,pn=un._processChunk(Ur.slice(Ur.l),un._finishFlushFlag);return Ur.l+=un.bytesRead,pn}function Pr(Ur){return jr?jr.deflateRawSync(Ur):En(Ur)}var Cr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Or=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Yr=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function qr(Ur){var An=(Ur<<1|Ur<<11)&139536|(Ur<<5|Ur<<15)&558144;return(An>>16|An>>8|An)&255}for(var Kr=typeof Uint8Array<"u",Zr=Kr?new Uint8Array(256):[],yn=0;yn<256;++yn)Zr[yn]=qr(yn);function mn(Ur,An){var Xr=Zr[Ur&255];return An<=8?Xr>>>8-An:(Xr=Xr<<8|Zr[Ur>>8&255],An<=16?Xr>>>16-An:(Xr=Xr<<8|Zr[Ur>>16&255],Xr>>>24-An))}function Cn(Ur,An){var Xr=An&7,un=An>>>3;return(Ur[un]|(Xr<=6?0:Ur[un+1]<<8))>>>Xr&3}function bn(Ur,An){var Xr=An&7,un=An>>>3;return(Ur[un]|(Xr<=5?0:Ur[un+1]<<8))>>>Xr&7}function wn(Ur,An){var Xr=An&7,un=An>>>3;return(Ur[un]|(Xr<=4?0:Ur[un+1]<<8))>>>Xr&15}function Jr(Ur,An){var Xr=An&7,un=An>>>3;return(Ur[un]|(Xr<=3?0:Ur[un+1]<<8))>>>Xr&31}function qn(Ur,An){var Xr=An&7,un=An>>>3;return(Ur[un]|(Xr<=1?0:Ur[un+1]<<8))>>>Xr&127}function ci(Ur,An,Xr){var un=An&7,pn=An>>>3,gn=(1<<Xr)-1,Un=Ur[pn]>>>un;return Xr<8-un||(Un|=Ur[pn+1]<<8-un,Xr<16-un)||(Un|=Ur[pn+2]<<16-un,Xr<24-un)||(Un|=Ur[pn+3]<<24-un),Un&gn}function Jn(Ur,An,Xr){var un=An&7,pn=An>>>3;return un<=5?Ur[pn]|=(Xr&7)<<un:(Ur[pn]|=Xr<<un&255,Ur[pn+1]=(Xr&7)>>8-un),An+3}function ui(Ur,An,Xr){var un=An&7,pn=An>>>3;return Xr=(Xr&1)<<un,Ur[pn]|=Xr,An+1}function li(Ur,An,Xr){var un=An&7,pn=An>>>3;return Xr<<=un,Ur[pn]|=Xr&255,Xr>>>=8,Ur[pn+1]=Xr,An+8}function mi(Ur,An,Xr){var un=An&7,pn=An>>>3;return Xr<<=un,Ur[pn]|=Xr&255,Xr>>>=8,Ur[pn+1]=Xr&255,Ur[pn+2]=Xr>>>8,An+16}function wi(Ur,An){var Xr=Ur.length,un=2*Xr>An?2*Xr:An+5,pn=0;if(Xr>=An)return Ur;if(has_buf){var gn=new_unsafe_buf(un);if(Ur.copy)Ur.copy(gn);else for(;pn<Ur.length;++pn)gn[pn]=Ur[pn];return gn}else if(Kr){var Un=new Uint8Array(un);if(Un.set)Un.set(Ur);else for(;pn<Xr;++pn)Un[pn]=Ur[pn];return Un}return Ur.length=un,Ur}function Di(Ur){for(var An=new Array(Ur),Xr=0;Xr<Ur;++Xr)An[Xr]=0;return An}function $i(Ur,An,Xr){var un=1,pn=0,gn=0,Un=0,Yn=0,On=Ur.length,Qn=Kr?new Uint16Array(32):Di(32);for(gn=0;gn<32;++gn)Qn[gn]=0;for(gn=On;gn<Xr;++gn)Ur[gn]=0;On=Ur.length;var Wn=Kr?new Uint16Array(On):Di(On);for(gn=0;gn<On;++gn)Qn[pn=Ur[gn]]++,un<pn&&(un=pn),Wn[gn]=0;for(Qn[0]=0,gn=1;gn<=un;++gn)Qn[gn+16]=Yn=Yn+Qn[gn-1]<<1;for(gn=0;gn<On;++gn)Yn=Ur[gn],Yn!=0&&(Wn[gn]=Qn[Yn+16]++);var gi=0;for(gn=0;gn<On;++gn)if(gi=Ur[gn],gi!=0)for(Yn=mn(Wn[gn],un)>>un-gi,Un=(1<<un+4-gi)-1;Un>=0;--Un)An[Yn|Un<<gi]=gi&15|gn<<4;return un}var Si=Kr?new Uint16Array(512):Di(512),Bi=Kr?new Uint16Array(32):Di(32);if(!Kr){for(var Vi=0;Vi<512;++Vi)Si[Vi]=0;for(Vi=0;Vi<32;++Vi)Bi[Vi]=0}(function(){for(var Ur=[],An=0;An<32;An++)Ur.push(5);$i(Ur,Bi,32);var Xr=[];for(An=0;An<=143;An++)Xr.push(8);for(;An<=255;An++)Xr.push(9);for(;An<=279;An++)Xr.push(7);for(;An<=287;An++)Xr.push(8);$i(Xr,Si,288)})();var Pn=function(){for(var An=Kr?new Uint8Array(32768):[],Xr=0,un=0;Xr<Yr.length-1;++Xr)for(;un<Yr[Xr+1];++un)An[un]=Xr;for(;un<32768;++un)An[un]=29;var pn=Kr?new Uint8Array(259):[];for(Xr=0,un=0;Xr<Or.length-1;++Xr)for(;un<Or[Xr+1];++un)pn[un]=Xr;function gn(Yn,On){for(var Qn=0;Qn<Yn.length;){var Wn=Math.min(65535,Yn.length-Qn),gi=Qn+Wn==Yn.length;for(On.write_shift(1,+gi),On.write_shift(2,Wn),On.write_shift(2,~Wn&65535);Wn-- >0;)On[On.l++]=Yn[Qn++]}return On.l}function Un(Yn,On){for(var Qn=0,Wn=0,gi=Kr?new Uint16Array(32768):[];Wn<Yn.length;){var Ci=Math.min(65535,Yn.length-Wn);if(Ci<10){for(Qn=Jn(On,Qn,+(Wn+Ci==Yn.length)),Qn&7&&(Qn+=8-(Qn&7)),On.l=Qn/8|0,On.write_shift(2,Ci),On.write_shift(2,~Ci&65535);Ci-- >0;)On[On.l++]=Yn[Wn++];Qn=On.l*8;continue}Qn=Jn(On,Qn,+(Wn+Ci==Yn.length)+2);for(var Hi=0;Ci-- >0;){var Ei=Yn[Wn];Hi=(Hi<<5^Ei)&32767;var Li=-1,os=0;if((Li=gi[Hi])&&(Li|=Wn&-32768,Li>Wn&&(Li-=32768),Li<Wn))for(;Yn[Li+os]==Yn[Wn+os]&&os<250;)++os;if(os>2){Ei=pn[os],Ei<=22?Qn=li(On,Qn,Zr[Ei+1]>>1)-1:(li(On,Qn,3),Qn+=5,li(On,Qn,Zr[Ei-23]>>5),Qn+=3);var ys=Ei<8?0:Ei-4>>2;ys>0&&(mi(On,Qn,os-Or[Ei]),Qn+=ys),Ei=An[Wn-Li],Qn=li(On,Qn,Zr[Ei]>>3),Qn-=3;var Ss=Ei<4?0:Ei-2>>1;Ss>0&&(mi(On,Qn,Wn-Li-Yr[Ei]),Qn+=Ss);for(var bs=0;bs<os;++bs)gi[Hi]=Wn&32767,Hi=(Hi<<5^Yn[Wn])&32767,++Wn;Ci-=os-1}else Ei<=143?Ei=Ei+48:Qn=ui(On,Qn,1),Qn=li(On,Qn,Zr[Ei]),gi[Hi]=Wn&32767,++Wn}Qn=li(On,Qn,0)-1}return On.l=(Qn+7)/8|0,On.l}return function(On,Qn){return On.length<8?gn(On,Qn):Un(On,Qn)}}();function En(Ur){var An=new_buf(50+Math.floor(Ur.length*1.1)),Xr=Pn(Ur,An);return An.slice(0,Xr)}var jn=Kr?new Uint16Array(32768):Di(32768),ni=Kr?new Uint16Array(32768):Di(32768),ii=Kr?new Uint16Array(128):Di(128),Fi=1,bi=1;function Wi(Ur,An){var Xr=Jr(Ur,An)+257;An+=5;var un=Jr(Ur,An)+1;An+=5;var pn=wn(Ur,An)+4;An+=4;for(var gn=0,Un=Kr?new Uint8Array(19):Di(19),Yn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],On=1,Qn=Kr?new Uint8Array(8):Di(8),Wn=Kr?new Uint8Array(8):Di(8),gi=Un.length,Ci=0;Ci<pn;++Ci)Un[Cr[Ci]]=gn=bn(Ur,An),On<gn&&(On=gn),Qn[gn]++,An+=3;var Hi=0;for(Qn[0]=0,Ci=1;Ci<=On;++Ci)Wn[Ci]=Hi=Hi+Qn[Ci-1]<<1;for(Ci=0;Ci<gi;++Ci)(Hi=Un[Ci])!=0&&(Yn[Ci]=Wn[Hi]++);var Ei=0;for(Ci=0;Ci<gi;++Ci)if(Ei=Un[Ci],Ei!=0){Hi=Zr[Yn[Ci]]>>8-Ei;for(var Li=(1<<7-Ei)-1;Li>=0;--Li)ii[Hi|Li<<Ei]=Ei&7|Ci<<3}var os=[];for(On=1;os.length<Xr+un;)switch(Hi=ii[qn(Ur,An)],An+=Hi&7,Hi>>>=3){case 16:for(gn=3+Cn(Ur,An),An+=2,Hi=os[os.length-1];gn-- >0;)os.push(Hi);break;case 17:for(gn=3+bn(Ur,An),An+=3;gn-- >0;)os.push(0);break;case 18:for(gn=11+qn(Ur,An),An+=7;gn-- >0;)os.push(0);break;default:os.push(Hi),On<Hi&&(On=Hi);break}var ys=os.slice(0,Xr),Ss=os.slice(Xr);for(Ci=Xr;Ci<286;++Ci)ys[Ci]=0;for(Ci=un;Ci<30;++Ci)Ss[Ci]=0;return Fi=$i(ys,jn,286),bi=$i(Ss,ni,30),An}function ws(Ur,An){if(Ur[0]==3&&!(Ur[1]&3))return[new_raw_buf(An),2];for(var Xr=0,un=0,pn=new_unsafe_buf(An||1<<18),gn=0,Un=pn.length>>>0,Yn=0,On=0;(un&1)==0;){if(un=bn(Ur,Xr),Xr+=3,un>>>1)un>>1==1?(Yn=9,On=5):(Xr=Wi(Ur,Xr),Yn=Fi,On=bi);else{Xr&7&&(Xr+=8-(Xr&7));var Qn=Ur[Xr>>>3]|Ur[(Xr>>>3)+1]<<8;if(Xr+=32,Qn>0)for(!An&&Un<gn+Qn&&(pn=wi(pn,gn+Qn),Un=pn.length);Qn-- >0;)pn[gn++]=Ur[Xr>>>3],Xr+=8;continue}for(;;){!An&&Un<gn+32767&&(pn=wi(pn,gn+32767),Un=pn.length);var Wn=ci(Ur,Xr,Yn),gi=un>>>1==1?Si[Wn]:jn[Wn];if(Xr+=gi&15,gi>>>=4,(gi>>>8&255)===0)pn[gn++]=gi;else{if(gi==256)break;gi-=257;var Ci=gi<8?0:gi-4>>2;Ci>5&&(Ci=0);var Hi=gn+Or[gi];Ci>0&&(Hi+=ci(Ur,Xr,Ci),Xr+=Ci),Wn=ci(Ur,Xr,On),gi=un>>>1==1?Bi[Wn]:ni[Wn],Xr+=gi&15,gi>>>=4;var Ei=gi<4?0:gi-2>>1,Li=Yr[gi];for(Ei>0&&(Li+=ci(Ur,Xr,Ei),Xr+=Ei),!An&&Un<Hi&&(pn=wi(pn,Hi+100),Un=pn.length);gn<Hi;)pn[gn]=pn[gn-Li],++gn}}}return An?[pn,Xr+7>>>3]:[pn.slice(0,gn),Xr+7>>>3]}function Zi(Ur,An){var Xr=Ur.slice(Ur.l||0),un=ws(Xr,An);return Ur.l+=un[1],un[0]}function fa(Ur,An){if(Ur)typeof console<"u"&&console.error(An);else throw new Error(An)}function vs(Ur,An){var Xr=Ur;prep_blob(Xr,0);var un=[],pn=[],gn={FileIndex:un,FullPaths:pn};Je(gn,{root:An.root});for(var Un=Xr.length-4;(Xr[Un]!=80||Xr[Un+1]!=75||Xr[Un+2]!=5||Xr[Un+3]!=6)&&Un>=0;)--Un;Xr.l=Un+4,Xr.l+=4;var Yn=Xr.read_shift(2);Xr.l+=6;var On=Xr.read_shift(4);for(Xr.l=On,Un=0;Un<Yn;++Un){Xr.l+=20;var Qn=Xr.read_shift(4),Wn=Xr.read_shift(4),gi=Xr.read_shift(2),Ci=Xr.read_shift(2),Hi=Xr.read_shift(2);Xr.l+=8;var Ei=Xr.read_shift(4),Li=je(Xr.slice(Xr.l+gi,Xr.l+gi+Ci));Xr.l+=gi+Ci+Hi;var os=Xr.l;Xr.l=Ei+4,Zs(Xr,Qn,Wn,gn,Li),Xr.l=os}return gn}function Zs(Ur,An,Xr,un,pn){Ur.l+=2;var gn=Ur.read_shift(2),Un=Ur.read_shift(2),Yn=Be(Ur);if(gn&8257)throw new Error("Unsupported ZIP encryption");for(var On=Ur.read_shift(4),Qn=Ur.read_shift(4),Wn=Ur.read_shift(4),gi=Ur.read_shift(2),Ci=Ur.read_shift(2),Hi="",Ei=0;Ei<gi;++Ei)Hi+=String.fromCharCode(Ur[Ur.l++]);if(Ci){var Li=je(Ur.slice(Ur.l,Ur.l+Ci));(Li[21589]||{}).mt&&(Yn=Li[21589].mt),((pn||{})[21589]||{}).mt&&(Yn=pn[21589].mt)}Ur.l+=Ci;var os=Ur.slice(Ur.l,Ur.l+Qn);switch(Un){case 8:os=_r(Ur,Wn);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Un)}var ys=!1;gn&8&&(On=Ur.read_shift(4),On==134695760&&(On=Ur.read_shift(4),ys=!0),Qn=Ur.read_shift(4),Wn=Ur.read_shift(4)),Qn!=An&&fa(ys,"Bad compressed size: "+An+" != "+Qn),Wn!=Xr&&fa(ys,"Bad uncompressed size: "+Xr+" != "+Wn),ks(un,Hi,os,{unsafe:!0,mt:Yn})}function Ji(Ur,An){var Xr=An||{},un=[],pn=[],gn=new_buf(1),Un=Xr.compression?8:0,Yn=0,On=0,Qn=0,Wn=0,gi=0,Ci=Ur.FullPaths[0],Hi=Ci,Ei=Ur.FileIndex[0],Li=[],os=0;for(On=1;On<Ur.FullPaths.length;++On)if(Hi=Ur.FullPaths[On].slice(Ci.length),Ei=Ur.FileIndex[On],!(!Ei.size||!Ei.content||Hi=="Sh33tJ5")){var ys=Wn,Ss=new_buf(Hi.length);for(Qn=0;Qn<Hi.length;++Qn)Ss.write_shift(1,Hi.charCodeAt(Qn)&127);Ss=Ss.slice(0,Ss.l),Li[gi]=CRC32.buf(Ei.content,0);var bs=Ei.content;Un==8&&(bs=Pr(bs)),gn=new_buf(30),gn.write_shift(4,67324752),gn.write_shift(2,20),gn.write_shift(2,Yn),gn.write_shift(2,Un),Ei.mt?Ie(gn,Ei.mt):gn.write_shift(4,0),gn.write_shift(-4,Li[gi]),gn.write_shift(4,bs.length),gn.write_shift(4,Ei.content.length),gn.write_shift(2,Ss.length),gn.write_shift(2,0),Wn+=gn.length,un.push(gn),Wn+=Ss.length,un.push(Ss),Wn+=bs.length,un.push(bs),gn=new_buf(46),gn.write_shift(4,33639248),gn.write_shift(2,0),gn.write_shift(2,20),gn.write_shift(2,Yn),gn.write_shift(2,Un),gn.write_shift(4,0),gn.write_shift(-4,Li[gi]),gn.write_shift(4,bs.length),gn.write_shift(4,Ei.content.length),gn.write_shift(2,Ss.length),gn.write_shift(2,0),gn.write_shift(2,0),gn.write_shift(2,0),gn.write_shift(2,0),gn.write_shift(4,0),gn.write_shift(4,ys),os+=gn.l,pn.push(gn),os+=Ss.length,pn.push(Ss),++gi}return gn=new_buf(22),gn.write_shift(4,101010256),gn.write_shift(2,0),gn.write_shift(2,0),gn.write_shift(2,gi),gn.write_shift(2,gi),gn.write_shift(4,os),gn.write_shift(4,Wn),gn.write_shift(2,0),bconcat([bconcat(un),bconcat(pn),gn])}var Ti={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function xi(Ur,An){if(Ur.ctype)return Ur.ctype;var Xr=Ur.name||"",un=Xr.match(/\.([^\.]+)$/);return un&&Ti[un[1]]||An&&(un=(Xr=An).match(/[\.\\]([^\.\\])+$/),un&&Ti[un[1]])?Ti[un[1]]:"application/octet-stream"}function Ui(Ur){for(var An=Base64_encode(Ur),Xr=[],un=0;un<An.length;un+=76)Xr.push(An.slice(un,un+76));return Xr.join(`\r
`)+`\r
`}function ss(Ur){var An=Ur.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Qn){var Wn=Qn.charCodeAt(0).toString(16).toUpperCase();return"="+(Wn.length==1?"0"+Wn:Wn)});An=An.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),An.charAt(0)==`
`&&(An="=0D"+An.slice(1)),An=An.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Xr=[],un=An.split(`\r
`),pn=0;pn<un.length;++pn){var gn=un[pn];if(gn.length==0){Xr.push("");continue}for(var Un=0;Un<gn.length;){var Yn=76,On=gn.slice(Un,Un+Yn);On.charAt(Yn-1)=="="?Yn--:On.charAt(Yn-2)=="="?Yn-=2:On.charAt(Yn-3)=="="&&(Yn-=3),On=gn.slice(Un,Un+Yn),Un+=Yn,Un<gn.length&&(On+="="),Xr.push(On)}}return Xr.join(`\r
`)}function us(Ur){for(var An=[],Xr=0;Xr<Ur.length;++Xr){for(var un=Ur[Xr];Xr<=Ur.length&&un.charAt(un.length-1)=="=";)un=un.slice(0,un.length-1)+Ur[++Xr];An.push(un)}for(var pn=0;pn<An.length;++pn)An[pn]=An[pn].replace(/[=][0-9A-Fa-f]{2}/g,function(gn){return String.fromCharCode(parseInt(gn.slice(1),16))});return s2a(An.join(`\r
`))}function Js(Ur,An,Xr){for(var un="",pn="",gn="",Un,Yn=0;Yn<10;++Yn){var On=An[Yn];if(!On||On.match(/^\s*$/))break;var Qn=On.match(/^(.*?):\s*([^\s].*)$/);if(Qn)switch(Qn[1].toLowerCase()){case"content-location":un=Qn[2].trim();break;case"content-type":gn=Qn[2].trim();break;case"content-transfer-encoding":pn=Qn[2].trim();break}}switch(++Yn,pn.toLowerCase()){case"base64":Un=s2a(Base64_decode(An.slice(Yn).join("")));break;case"quoted-printable":Un=us(An.slice(Yn));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+pn)}var Wn=ks(Ur,un.slice(Xr.length),Un,{unsafe:!0});gn&&(Wn.ctype=gn)}function Na(Ur,An){if(br(Ur.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Xr=An&&An.root||"",un=(has_buf&&Buffer.isBuffer(Ur)?Ur.toString("binary"):br(Ur)).split(`\r
`),pn=0,gn="";for(pn=0;pn<un.length;++pn)if(gn=un[pn],!!/^Content-Location:/i.test(gn)&&(gn=gn.slice(gn.indexOf("file")),Xr||(Xr=gn.slice(0,gn.lastIndexOf("/")+1)),gn.slice(0,Xr.length)!=Xr))for(;Xr.length>0&&(Xr=Xr.slice(0,Xr.length-1),Xr=Xr.slice(0,Xr.lastIndexOf("/")+1),gn.slice(0,Xr.length)!=Xr););var Un=(un[1]||"").match(/boundary="(.*?)"/);if(!Un)throw new Error("MAD cannot find boundary");var Yn="--"+(Un[1]||""),On=[],Qn=[],Wn={FileIndex:On,FullPaths:Qn};Je(Wn);var gi,Ci=0;for(pn=0;pn<un.length;++pn){var Hi=un[pn];Hi!==Yn&&Hi!==Yn+"--"||(Ci++&&Js(Wn,un.slice(gi,pn),Xr),gi=pn)}return Wn}function Ri(Ur,An){var Xr=An||{},un=Xr.boundary||"SheetJS";un="------="+un;for(var pn=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+un.slice(2)+'"',"","",""],gn=Ur.FullPaths[0],Un=gn,Yn=Ur.FileIndex[0],On=1;On<Ur.FullPaths.length;++On)if(Un=Ur.FullPaths[On].slice(gn.length),Yn=Ur.FileIndex[On],!(!Yn.size||!Yn.content||Un=="Sh33tJ5")){Un=Un.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(os){return"_x"+os.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(os){return"_u"+os.charCodeAt(0).toString(16)+"_"});for(var Qn=Yn.content,Wn=has_buf&&Buffer.isBuffer(Qn)?Qn.toString("binary"):br(Qn),gi=0,Ci=Math.min(1024,Wn.length),Hi=0,Ei=0;Ei<=Ci;++Ei)(Hi=Wn.charCodeAt(Ei))>=32&&Hi<128&&++gi;var Li=gi>=Ci*4/5;pn.push(un),pn.push("Content-Location: "+(Xr.root||"file:///C:/SheetJS/")+Un),pn.push("Content-Transfer-Encoding: "+(Li?"quoted-printable":"base64")),pn.push("Content-Type: "+xi(Yn,Un)),pn.push(""),pn.push(Li?ss(Wn):Ui(Wn))}return pn.push(un+`--\r
`),pn.join(`\r
`)}function Qi(Ur){var An={};return Je(An,Ur),An}function ks(Ur,An,Xr,un){var pn=un&&un.unsafe;pn||Je(Ur);var gn=!pn&&CFB.find(Ur,An);if(!gn){var Un=Ur.FullPaths[0];An.slice(0,Un.length)==Un?Un=An:(Un.slice(-1)!="/"&&(Un+="/"),Un=(Un+An).replace("//","/")),gn={name:Re(An),type:2},Ur.FileIndex.push(gn),Ur.FullPaths.push(Un),pn||CFB.utils.cfb_gc(Ur)}return gn.content=Xr,gn.size=Xr?Xr.length:0,un&&(un.CLSID&&(gn.clsid=un.CLSID),un.mt&&(gn.mt=un.mt),un.ct&&(gn.ct=un.ct)),gn}function ta(Ur,An){Je(Ur);var Xr=CFB.find(Ur,An);if(Xr){for(var un=0;un<Ur.FileIndex.length;++un)if(Ur.FileIndex[un]==Xr)return Ur.FileIndex.splice(un,1),Ur.FullPaths.splice(un,1),!0}return!1}function qi(Ur,An,Xr){Je(Ur);var un=CFB.find(Ur,An);if(un){for(var pn=0;pn<Ur.FileIndex.length;++pn)if(Ur.FileIndex[pn]==un)return Ur.FileIndex[pn].name=Re(Xr),Ur.FullPaths[pn]=Xr,!0}return!1}function aa(Ur){or(Ur,!0)}return _e.find=ar,_e.read=rr,_e.parse=Oe,_e.write=wr,_e.writeFile=Ar,_e.utils={cfb_new:Qi,cfb_add:ks,cfb_del:ta,cfb_mov:qi,cfb_gc:aa,ReadShift,CheckField,prep_blob,bconcat,use_zlib:hr,_deflateRaw:En,_inflateRaw:Zi,consts:Er},_e}();function blobify(Ee){return typeof Ee=="string"?s2ab(Ee):Array.isArray(Ee)?a2u(Ee):Ee}function write_dl(Ee,_e,Ce){if(typeof Deno<"u"){if(Ce&&typeof _e=="string")switch(Ce){case"utf8":_e=new TextEncoder(Ce).encode(_e);break;case"binary":_e=s2ab(_e);break;default:throw new Error("Unsupported encoding "+Ce)}return Deno.writeFileSync(Ee,_e)}var Pe=Ce=="utf8"?utf8write(_e):_e;if(typeof IE_SaveFile<"u")return IE_SaveFile(Pe,Ee);if(typeof Blob<"u"){var Re=new Blob([blobify(Pe)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(Re,Ee);if(typeof saveAs<"u")return saveAs(Re,Ee);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var Ie=URL.createObjectURL(Re);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(Ie)},6e4),chrome.downloads.download({url:Ie,filename:Ee,saveAs:!0});var Be=document.createElement("a");if(Be.download!=null)return Be.download=Ee,Be.href=Ie,document.body.appendChild(Be),Be.click(),document.body.removeChild(Be),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(Ie)},6e4),Ie}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var je=File(Ee);return je.open("w"),je.encoding="binary",Array.isArray(_e)&&(_e=a2s(_e)),je.write(_e),je.close(),_e}catch(De){if(!De.message||!De.message.match(/onstruct/))throw De}throw new Error("cannot save file "+Ee)}function keys(Ee){for(var _e=Object.keys(Ee),Ce=[],Pe=0;Pe<_e.length;++Pe)Object.prototype.hasOwnProperty.call(Ee,_e[Pe])&&Ce.push(_e[Pe]);return Ce}function evert_key(Ee,_e){for(var Ce=[],Pe=keys(Ee),Re=0;Re!==Pe.length;++Re)Ce[Ee[Pe[Re]][_e]]==null&&(Ce[Ee[Pe[Re]][_e]]=Pe[Re]);return Ce}function evert(Ee){for(var _e=[],Ce=keys(Ee),Pe=0;Pe!==Ce.length;++Pe)_e[Ee[Ce[Pe]]]=Ce[Pe];return _e}function evert_num(Ee){for(var _e=[],Ce=keys(Ee),Pe=0;Pe!==Ce.length;++Pe)_e[Ee[Ce[Pe]]]=parseInt(Ce[Pe],10);return _e}function evert_arr(Ee){for(var _e=[],Ce=keys(Ee),Pe=0;Pe!==Ce.length;++Pe)_e[Ee[Ce[Pe]]]==null&&(_e[Ee[Ce[Pe]]]=[]),_e[Ee[Ce[Pe]]].push(Ce[Pe]);return _e}var basedate=new Date(1899,11,30,0,0,0);function datenum(Ee,_e){var Ce=Ee.getTime(),Pe=basedate.getTime()+(Ee.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4;return(Ce-Pe)/(1440*60*1e3)}var refdate=new Date,dnthresh=basedate.getTime()+(refdate.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4,refoffset=refdate.getTimezoneOffset();function numdate(Ee){var _e=new Date;return _e.setTime(Ee*24*60*60*1e3+dnthresh),_e.getTimezoneOffset()!==refoffset&&_e.setTime(_e.getTime()+(_e.getTimezoneOffset()-refoffset)*6e4),_e}var good_pd_date_1=new Date("2017-02-19T19:06:09.000Z"),good_pd_date=isNaN(good_pd_date_1.getFullYear())?new Date("2/19/17"):good_pd_date_1,good_pd=good_pd_date.getFullYear()==2017;function parseDate(Ee,_e){var Ce=new Date(Ee);if(good_pd)return _e>0?Ce.setTime(Ce.getTime()+Ce.getTimezoneOffset()*60*1e3):_e<0&&Ce.setTime(Ce.getTime()-Ce.getTimezoneOffset()*60*1e3),Ce;if(Ee instanceof Date)return Ee;if(good_pd_date.getFullYear()==1917&&!isNaN(Ce.getFullYear())){var Pe=Ce.getFullYear();return Ee.indexOf(""+Pe)>-1||Ce.setFullYear(Ce.getFullYear()+100),Ce}var Re=Ee.match(/\d+/g)||["2017","2","19","0","0","0"],Ie=new Date(+Re[0],+Re[1]-1,+Re[2],+Re[3]||0,+Re[4]||0,+Re[5]||0);return Ee.indexOf("Z")>-1&&(Ie=new Date(Ie.getTime()-Ie.getTimezoneOffset()*60*1e3)),Ie}function cc2str(Ee,_e){if(has_buf&&Buffer.isBuffer(Ee))return Ee.toString("binary");if(typeof TextDecoder<"u")try{var Ce={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(Ee)&&(Ee=new Uint8Array(Ee)),new TextDecoder("latin1").decode(Ee).replace(/[]/g,function(Ie){return Ce[Ie]||Ie})}catch{}for(var Pe=[],Re=0;Re!=Ee.length;++Re)Pe.push(String.fromCharCode(Ee[Re]));return Pe.join("")}function dup(Ee){if(typeof JSON<"u"&&!Array.isArray(Ee))return JSON.parse(JSON.stringify(Ee));if(typeof Ee!="object"||Ee==null)return Ee;if(Ee instanceof Date)return new Date(Ee.getTime());var _e={};for(var Ce in Ee)Object.prototype.hasOwnProperty.call(Ee,Ce)&&(_e[Ce]=dup(Ee[Ce]));return _e}function fill(Ee,_e){for(var Ce="";Ce.length<_e;)Ce+=Ee;return Ce}function fuzzynum(Ee){var _e=Number(Ee);if(!isNaN(_e))return isFinite(_e)?_e:NaN;if(!/\d/.test(Ee))return _e;var Ce=1,Pe=Ee.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return Ce*=100,""});return!isNaN(_e=Number(Pe))||(Pe=Pe.replace(/[(](.*)[)]/,function(Re,Ie){return Ce=-Ce,Ie}),!isNaN(_e=Number(Pe)))?_e/Ce:_e}var lower_months=["january","february","march","april","may","june","july","august","september","october","november","december"];function fuzzydate(Ee){var _e=new Date(Ee),Ce=new Date(NaN),Pe=_e.getYear(),Re=_e.getMonth(),Ie=_e.getDate();if(isNaN(Ie))return Ce;var Be=Ee.toLowerCase();if(Be.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(Be=Be.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),Be.length>3&&lower_months.indexOf(Be)==-1)return Ce}else if(Be.match(/[a-z]/))return Ce;return Pe<0||Pe>8099?Ce:(Re>0||Ie>1)&&Pe!=101?_e:Ee.match(/[^-0-9:,\/\\]/)?Ce:_e}function zip_add_file(Ee,_e,Ce){if(Ee.FullPaths){if(typeof Ce=="string"){var Pe;return has_buf?Pe=Buffer_from(Ce):Pe=utf8decode(Ce),CFB.utils.cfb_add(Ee,_e,Pe)}CFB.utils.cfb_add(Ee,_e,Ce)}else Ee.file(_e,Ce)}function zip_new(){return CFB.utils.cfb_new()}var XML_HEADER=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,encodings={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rencoding=evert(encodings),decregex=/[&<>'"]/g,charegex=/[\u0000-\u0008\u000b-\u001f]/g;function escapexml(Ee){var _e=Ee+"";return _e.replace(decregex,function(Ce){return rencoding[Ce]}).replace(charegex,function(Ce){return"_x"+("000"+Ce.charCodeAt(0).toString(16)).slice(-4)+"_"})}function escapexmltag(Ee){return escapexml(Ee).replace(/ /g,"_x0020_")}var htmlcharegex=/[\u0000-\u001f]/g;function escapehtml(Ee){var _e=Ee+"";return _e.replace(decregex,function(Ce){return rencoding[Ce]}).replace(/\n/g,"<br/>").replace(htmlcharegex,function(Ce){return"&#x"+("000"+Ce.charCodeAt(0).toString(16)).slice(-4)+";"})}function escapexlml(Ee){var _e=Ee+"";return _e.replace(decregex,function(Ce){return rencoding[Ce]}).replace(htmlcharegex,function(Ce){return"&#x"+Ce.charCodeAt(0).toString(16).toUpperCase()+";"})}function xlml_unfixstr(Ee){return Ee.replace(/(\r\n|[\r\n])/g,"&#10;")}function parsexmlbool(Ee){switch(Ee){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function utf8reada(Ee){for(var _e="",Ce=0,Pe=0,Re=0,Ie=0,Be=0,je=0;Ce<Ee.length;){if(Pe=Ee.charCodeAt(Ce++),Pe<128){_e+=String.fromCharCode(Pe);continue}if(Re=Ee.charCodeAt(Ce++),Pe>191&&Pe<224){Be=(Pe&31)<<6,Be|=Re&63,_e+=String.fromCharCode(Be);continue}if(Ie=Ee.charCodeAt(Ce++),Pe<240){_e+=String.fromCharCode((Pe&15)<<12|(Re&63)<<6|Ie&63);continue}Be=Ee.charCodeAt(Ce++),je=((Pe&7)<<18|(Re&63)<<12|(Ie&63)<<6|Be&63)-65536,_e+=String.fromCharCode(55296+(je>>>10&1023)),_e+=String.fromCharCode(56320+(je&1023))}return _e}function utf8readb(Ee){var _e=new_raw_buf(2*Ee.length),Ce,Pe,Re=1,Ie=0,Be=0,je;for(Pe=0;Pe<Ee.length;Pe+=Re)Re=1,(je=Ee.charCodeAt(Pe))<128?Ce=je:je<224?(Ce=(je&31)*64+(Ee.charCodeAt(Pe+1)&63),Re=2):je<240?(Ce=(je&15)*4096+(Ee.charCodeAt(Pe+1)&63)*64+(Ee.charCodeAt(Pe+2)&63),Re=3):(Re=4,Ce=(je&7)*262144+(Ee.charCodeAt(Pe+1)&63)*4096+(Ee.charCodeAt(Pe+2)&63)*64+(Ee.charCodeAt(Pe+3)&63),Ce-=65536,Be=55296+(Ce>>>10&1023),Ce=56320+(Ce&1023)),Be!==0&&(_e[Ie++]=Be&255,_e[Ie++]=Be>>>8,Be=0),_e[Ie++]=Ce%256,_e[Ie++]=Ce>>>8;return _e.slice(0,Ie).toString("ucs2")}function utf8readc(Ee){return Buffer_from(Ee,"binary").toString("utf8")}var utf8corpus="foo bar baz",utf8read=has_buf&&(utf8readc(utf8corpus)==utf8reada(utf8corpus)&&utf8readc||utf8readb(utf8corpus)==utf8reada(utf8corpus)&&utf8readb)||utf8reada,utf8write=has_buf?function(Ee){return Buffer_from(Ee,"utf8").toString("binary")}:function(Ee){for(var _e=[],Ce=0,Pe=0,Re=0;Ce<Ee.length;)switch(Pe=Ee.charCodeAt(Ce++),!0){case Pe<128:_e.push(String.fromCharCode(Pe));break;case Pe<2048:_e.push(String.fromCharCode(192+(Pe>>6))),_e.push(String.fromCharCode(128+(Pe&63)));break;case(Pe>=55296&&Pe<57344):Pe-=55296,Re=Ee.charCodeAt(Ce++)-56320+(Pe<<10),_e.push(String.fromCharCode(240+(Re>>18&7))),_e.push(String.fromCharCode(144+(Re>>12&63))),_e.push(String.fromCharCode(128+(Re>>6&63))),_e.push(String.fromCharCode(128+(Re&63)));break;default:_e.push(String.fromCharCode(224+(Pe>>12))),_e.push(String.fromCharCode(128+(Pe>>6&63))),_e.push(String.fromCharCode(128+(Pe&63)))}return _e.join("")},htmldecode=function(){var Ee=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(_e){return[new RegExp("&"+_e[0]+";","ig"),_e[1]]});return function(Ce){for(var Pe=Ce.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),Re=0;Re<Ee.length;++Re)Pe=Pe.replace(Ee[Re][0],Ee[Re][1]);return Pe}}(),wtregex=/(^\s|\s$|\n)/;function writetag(Ee,_e){return"<"+Ee+(_e.match(wtregex)?' xml:space="preserve"':"")+">"+_e+"</"+Ee+">"}function wxt_helper(Ee){return keys(Ee).map(function(_e){return" "+_e+'="'+Ee[_e]+'"'}).join("")}function writextag(Ee,_e,Ce){return"<"+Ee+(Ce!=null?wxt_helper(Ce):"")+(_e!=null?(_e.match(wtregex)?' xml:space="preserve"':"")+">"+_e+"</"+Ee:"/")+">"}function write_w3cdtf(Ee,_e){try{return Ee.toISOString().replace(/\.\d*/,"")}catch(Ce){if(_e)throw Ce}return""}function write_vt(Ee,_e){switch(typeof Ee){case"string":var Ce=writextag("vt:lpwstr",escapexml(Ee));return Ce=Ce.replace(/&quot;/g,"_x0022_"),Ce;case"number":return writextag((Ee|0)==Ee?"vt:i4":"vt:r8",escapexml(String(Ee)));case"boolean":return writextag("vt:bool",Ee?"true":"false")}if(Ee instanceof Date)return writextag("vt:filetime",write_w3cdtf(Ee));throw new Error("Unable to serialize "+Ee)}var XMLNS={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},XMLNS_main=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],XLMLNS={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function read_double_le(Ee,_e){for(var Ce=1-2*(Ee[_e+7]>>>7),Pe=((Ee[_e+7]&127)<<4)+(Ee[_e+6]>>>4&15),Re=Ee[_e+6]&15,Ie=5;Ie>=0;--Ie)Re=Re*256+Ee[_e+Ie];return Pe==2047?Re==0?Ce*(1/0):NaN:(Pe==0?Pe=-1022:(Pe-=1023,Re+=Math.pow(2,52)),Ce*Math.pow(2,Pe-52)*Re)}function write_double_le(Ee,_e,Ce){var Pe=(_e<0||1/_e==-1/0?1:0)<<7,Re=0,Ie=0,Be=Pe?-_e:_e;isFinite(Be)?Be==0?Re=Ie=0:(Re=Math.floor(Math.log(Be)/Math.LN2),Ie=Be*Math.pow(2,52-Re),Re<=-1023&&(!isFinite(Ie)||Ie<Math.pow(2,52))?Re=-1022:(Ie-=Math.pow(2,52),Re+=1023)):(Re=2047,Ie=isNaN(_e)?26985:0);for(var je=0;je<=5;++je,Ie/=256)Ee[Ce+je]=Ie&255;Ee[Ce+6]=(Re&15)<<4|Ie&15,Ee[Ce+7]=Re>>4|Pe}var ___toBuffer=function(Ee){for(var _e=[],Ce=10240,Pe=0;Pe<Ee[0].length;++Pe)if(Ee[0][Pe])for(var Re=0,Ie=Ee[0][Pe].length;Re<Ie;Re+=Ce)_e.push.apply(_e,Ee[0][Pe].slice(Re,Re+Ce));return _e},__toBuffer=has_buf?function(Ee){return Ee[0].length>0&&Buffer.isBuffer(Ee[0][0])?Buffer.concat(Ee[0].map(function(_e){return Buffer.isBuffer(_e)?_e:Buffer_from(_e)})):___toBuffer(Ee)}:___toBuffer,___utf16le=function(Ee,_e,Ce){for(var Pe=[],Re=_e;Re<Ce;Re+=2)Pe.push(String.fromCharCode(__readUInt16LE(Ee,Re)));return Pe.join("").replace(chr0,"")},__utf16le=has_buf?function(Ee,_e,Ce){return Buffer.isBuffer(Ee)?Ee.toString("utf16le",_e,Ce).replace(chr0,""):___utf16le(Ee,_e,Ce)}:___utf16le,___hexlify=function(Ee,_e,Ce){for(var Pe=[],Re=_e;Re<_e+Ce;++Re)Pe.push(("0"+Ee[Re].toString(16)).slice(-2));return Pe.join("")},__hexlify=has_buf?function(Ee,_e,Ce){return Buffer.isBuffer(Ee)?Ee.toString("hex",_e,_e+Ce):___hexlify(Ee,_e,Ce)}:___hexlify,___utf8=function(Ee,_e,Ce){for(var Pe=[],Re=_e;Re<Ce;Re++)Pe.push(String.fromCharCode(__readUInt8(Ee,Re)));return Pe.join("")},__utf8=has_buf?function Ee(_e,Ce,Pe){return Buffer.isBuffer(_e)?_e.toString("utf8",Ce,Pe):___utf8(_e,Ce,Pe)}:___utf8,___lpstr=function(Ee,_e){var Ce=__readUInt32LE(Ee,_e);return Ce>0?__utf8(Ee,_e+4,_e+4+Ce-1):""},__lpstr=___lpstr,___cpstr=function(Ee,_e){var Ce=__readUInt32LE(Ee,_e);return Ce>0?__utf8(Ee,_e+4,_e+4+Ce-1):""},__cpstr=___cpstr,___lpwstr=function(Ee,_e){var Ce=2*__readUInt32LE(Ee,_e);return Ce>0?__utf8(Ee,_e+4,_e+4+Ce-1):""},__lpwstr=___lpwstr,___lpp4=function Ee(_e,Ce){var Pe=__readUInt32LE(_e,Ce);return Pe>0?__utf16le(_e,Ce+4,Ce+4+Pe):""},__lpp4=___lpp4,___8lpp4=function(Ee,_e){var Ce=__readUInt32LE(Ee,_e);return Ce>0?__utf8(Ee,_e+4,_e+4+Ce):""},__8lpp4=___8lpp4,___double=function(Ee,_e){return read_double_le(Ee,_e)},__double=___double,is_buf=function Ee(_e){return Array.isArray(_e)||typeof Uint8Array<"u"&&_e instanceof Uint8Array};has_buf&&(__lpstr=function(_e,Ce){if(!Buffer.isBuffer(_e))return ___lpstr(_e,Ce);var Pe=_e.readUInt32LE(Ce);return Pe>0?_e.toString("utf8",Ce+4,Ce+4+Pe-1):""},__cpstr=function(_e,Ce){if(!Buffer.isBuffer(_e))return ___cpstr(_e,Ce);var Pe=_e.readUInt32LE(Ce);return Pe>0?_e.toString("utf8",Ce+4,Ce+4+Pe-1):""},__lpwstr=function(_e,Ce){if(!Buffer.isBuffer(_e))return ___lpwstr(_e,Ce);var Pe=2*_e.readUInt32LE(Ce);return _e.toString("utf16le",Ce+4,Ce+4+Pe-1)},__lpp4=function(_e,Ce){if(!Buffer.isBuffer(_e))return ___lpp4(_e,Ce);var Pe=_e.readUInt32LE(Ce);return _e.toString("utf16le",Ce+4,Ce+4+Pe)},__8lpp4=function(_e,Ce){if(!Buffer.isBuffer(_e))return ___8lpp4(_e,Ce);var Pe=_e.readUInt32LE(Ce);return _e.toString("utf8",Ce+4,Ce+4+Pe)},__double=function(_e,Ce){return Buffer.isBuffer(_e)?_e.readDoubleLE(Ce):___double(_e,Ce)},is_buf=function(_e){return Buffer.isBuffer(_e)||Array.isArray(_e)||typeof Uint8Array<"u"&&_e instanceof Uint8Array});var __readUInt8=function(Ee,_e){return Ee[_e]},__readUInt16LE=function(Ee,_e){return Ee[_e+1]*256+Ee[_e]},__readInt16LE=function(Ee,_e){var Ce=Ee[_e+1]*256+Ee[_e];return Ce<32768?Ce:(65535-Ce+1)*-1},__readUInt32LE=function(Ee,_e){return Ee[_e+3]*(1<<24)+(Ee[_e+2]<<16)+(Ee[_e+1]<<8)+Ee[_e]},__readInt32LE=function(Ee,_e){return Ee[_e+3]<<24|Ee[_e+2]<<16|Ee[_e+1]<<8|Ee[_e]},__readInt32BE=function(Ee,_e){return Ee[_e]<<24|Ee[_e+1]<<16|Ee[_e+2]<<8|Ee[_e+3]};function ReadShift(Ee,_e){var Ce="",Pe,Re,Ie=[],Be,je,De,Fe;switch(_e){case"dbcs":if(Fe=this.l,has_buf&&Buffer.isBuffer(this))Ce=this.slice(this.l,this.l+2*Ee).toString("utf16le");else for(De=0;De<Ee;++De)Ce+=String.fromCharCode(__readUInt16LE(this,Fe)),Fe+=2;Ee*=2;break;case"utf8":Ce=__utf8(this,this.l,this.l+Ee);break;case"utf16le":Ee*=2,Ce=__utf16le(this,this.l,this.l+Ee);break;case"wstr":return ReadShift.call(this,Ee,"dbcs");case"lpstr-ansi":Ce=__lpstr(this,this.l),Ee=4+__readUInt32LE(this,this.l);break;case"lpstr-cp":Ce=__cpstr(this,this.l),Ee=4+__readUInt32LE(this,this.l);break;case"lpwstr":Ce=__lpwstr(this,this.l),Ee=4+2*__readUInt32LE(this,this.l);break;case"lpp4":Ee=4+__readUInt32LE(this,this.l),Ce=__lpp4(this,this.l),Ee&2&&(Ee+=2);break;case"8lpp4":Ee=4+__readUInt32LE(this,this.l),Ce=__8lpp4(this,this.l),Ee&3&&(Ee+=4-(Ee&3));break;case"cstr":for(Ee=0,Ce="";(Be=__readUInt8(this,this.l+Ee++))!==0;)Ie.push(_getchar(Be));Ce=Ie.join("");break;case"_wstr":for(Ee=0,Ce="";(Be=__readUInt16LE(this,this.l+Ee))!==0;)Ie.push(_getchar(Be)),Ee+=2;Ee+=2,Ce=Ie.join("");break;case"dbcs-cont":for(Ce="",Fe=this.l,De=0;De<Ee;++De){if(this.lens&&this.lens.indexOf(Fe)!==-1)return Be=__readUInt8(this,Fe),this.l=Fe+1,je=ReadShift.call(this,Ee-De,Be?"dbcs-cont":"sbcs-cont"),Ie.join("")+je;Ie.push(_getchar(__readUInt16LE(this,Fe))),Fe+=2}Ce=Ie.join(""),Ee*=2;break;case"cpstr":case"sbcs-cont":for(Ce="",Fe=this.l,De=0;De!=Ee;++De){if(this.lens&&this.lens.indexOf(Fe)!==-1)return Be=__readUInt8(this,Fe),this.l=Fe+1,je=ReadShift.call(this,Ee-De,Be?"dbcs-cont":"sbcs-cont"),Ie.join("")+je;Ie.push(_getchar(__readUInt8(this,Fe))),Fe+=1}Ce=Ie.join("");break;default:switch(Ee){case 1:return Pe=__readUInt8(this,this.l),this.l++,Pe;case 2:return Pe=(_e==="i"?__readInt16LE:__readUInt16LE)(this,this.l),this.l+=2,Pe;case 4:case-4:return _e==="i"||(this[this.l+3]&128)===0?(Pe=(Ee>0?__readInt32LE:__readInt32BE)(this,this.l),this.l+=4,Pe):(Re=__readUInt32LE(this,this.l),this.l+=4,Re);case 8:case-8:if(_e==="f")return Ee==8?Re=__double(this,this.l):Re=__double([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,Re;Ee=8;case 16:Ce=__hexlify(this,this.l,Ee);break}}return this.l+=Ee,Ce}var __writeUInt32LE=function(Ee,_e,Ce){Ee[Ce]=_e&255,Ee[Ce+1]=_e>>>8&255,Ee[Ce+2]=_e>>>16&255,Ee[Ce+3]=_e>>>24&255},__writeInt32LE=function(Ee,_e,Ce){Ee[Ce]=_e&255,Ee[Ce+1]=_e>>8&255,Ee[Ce+2]=_e>>16&255,Ee[Ce+3]=_e>>24&255},__writeUInt16LE=function(Ee,_e,Ce){Ee[Ce]=_e&255,Ee[Ce+1]=_e>>>8&255};function WriteShift(Ee,_e,Ce){var Pe=0,Re=0;if(Ce==="dbcs"){for(Re=0;Re!=_e.length;++Re)__writeUInt16LE(this,_e.charCodeAt(Re),this.l+2*Re);Pe=2*_e.length}else if(Ce==="sbcs"){for(_e=_e.replace(/[^\x00-\x7F]/g,"_"),Re=0;Re!=_e.length;++Re)this[this.l+Re]=_e.charCodeAt(Re)&255;Pe=_e.length}else if(Ce==="hex"){for(;Re<Ee;++Re)this[this.l++]=parseInt(_e.slice(2*Re,2*Re+2),16)||0;return this}else if(Ce==="utf16le"){var Ie=Math.min(this.l+Ee,this.length);for(Re=0;Re<Math.min(_e.length,Ee);++Re){var Be=_e.charCodeAt(Re);this[this.l++]=Be&255,this[this.l++]=Be>>8}for(;this.l<Ie;)this[this.l++]=0;return this}else switch(Ee){case 1:Pe=1,this[this.l]=_e&255;break;case 2:Pe=2,this[this.l]=_e&255,_e>>>=8,this[this.l+1]=_e&255;break;case 3:Pe=3,this[this.l]=_e&255,_e>>>=8,this[this.l+1]=_e&255,_e>>>=8,this[this.l+2]=_e&255;break;case 4:Pe=4,__writeUInt32LE(this,_e,this.l);break;case 8:if(Pe=8,Ce==="f"){write_double_le(this,_e,this.l);break}case 16:break;case-4:Pe=4,__writeInt32LE(this,_e,this.l);break}return this.l+=Pe,this}function CheckField(Ee,_e){var Ce=__hexlify(this,this.l,Ee.length>>1);if(Ce!==Ee)throw new Error(_e+"Expected "+Ee+" saw "+Ce);this.l+=Ee.length>>1}function prep_blob(Ee,_e){Ee.l=_e,Ee.read_shift=ReadShift,Ee.chk=CheckField,Ee.write_shift=WriteShift}function parsenoop(Ee,_e){Ee.l+=_e}function new_buf(Ee){var _e=new_raw_buf(Ee);return prep_blob(_e,0),_e}function buf_array(){var Ee=[],_e=has_buf?256:2048,Ce=function(Fe){var Oe=new_buf(Fe);return prep_blob(Oe,0),Oe},Pe=Ce(_e),Re=function(){Pe&&(Pe.length>Pe.l&&(Pe=Pe.slice(0,Pe.l),Pe.l=Pe.length),Pe.length>0&&Ee.push(Pe),Pe=null)},Ie=function(Fe){return Pe&&Fe<Pe.length-Pe.l?Pe:(Re(),Pe=Ce(Math.max(Fe+1,_e)))},Be=function(){return Re(),bconcat(Ee)},je=function(Fe){Re(),Pe=Fe,Pe.l==null&&(Pe.l=Pe.length),Ie(_e)};return{next:Ie,push:je,end:Be,_bufs:Ee}}function write_record(Ee,_e,Ce,Pe){var Re=+_e,Ie;if(!isNaN(Re)){Pe||(Pe=XLSBRecordEnum[Re].p||(Ce||[]).length||0),Ie=1+(Re>=128?1:0)+1,Pe>=128&&++Ie,Pe>=16384&&++Ie,Pe>=2097152&&++Ie;var Be=Ee.next(Ie);Re<=127?Be.write_shift(1,Re):(Be.write_shift(1,(Re&127)+128),Be.write_shift(1,Re>>7));for(var je=0;je!=4;++je)if(Pe>=128)Be.write_shift(1,(Pe&127)+128),Pe>>=7;else{Be.write_shift(1,Pe);break}Pe>0&&is_buf(Ce)&&Ee.push(Ce)}}function shift_cell_xls(Ee,_e,Ce){var Pe=dup(Ee);if(_e.s?(Pe.cRel&&(Pe.c+=_e.s.c),Pe.rRel&&(Pe.r+=_e.s.r)):(Pe.cRel&&(Pe.c+=_e.c),Pe.rRel&&(Pe.r+=_e.r)),!Ce||Ce.biff<12){for(;Pe.c>=256;)Pe.c-=256;for(;Pe.r>=65536;)Pe.r-=65536}return Pe}function shift_range_xls(Ee,_e,Ce){var Pe=dup(Ee);return Pe.s=shift_cell_xls(Pe.s,_e.s,Ce),Pe.e=shift_cell_xls(Pe.e,_e.s,Ce),Pe}function encode_cell_xls(Ee,_e){if(Ee.cRel&&Ee.c<0)for(Ee=dup(Ee);Ee.c<0;)Ee.c+=_e>8?16384:256;if(Ee.rRel&&Ee.r<0)for(Ee=dup(Ee);Ee.r<0;)Ee.r+=_e>8?1048576:_e>5?65536:16384;var Ce=encode_cell(Ee);return!Ee.cRel&&Ee.cRel!=null&&(Ce=fix_col(Ce)),!Ee.rRel&&Ee.rRel!=null&&(Ce=fix_row(Ce)),Ce}function encode_range_xls(Ee,_e){return Ee.s.r==0&&!Ee.s.rRel&&Ee.e.r==(_e.biff>=12?1048575:_e.biff>=8?65536:16384)&&!Ee.e.rRel?(Ee.s.cRel?"":"$")+encode_col(Ee.s.c)+":"+(Ee.e.cRel?"":"$")+encode_col(Ee.e.c):Ee.s.c==0&&!Ee.s.cRel&&Ee.e.c==(_e.biff>=12?16383:255)&&!Ee.e.cRel?(Ee.s.rRel?"":"$")+encode_row(Ee.s.r)+":"+(Ee.e.rRel?"":"$")+encode_row(Ee.e.r):encode_cell_xls(Ee.s,_e.biff)+":"+encode_cell_xls(Ee.e,_e.biff)}function decode_row(Ee){return parseInt(unfix_row(Ee),10)-1}function encode_row(Ee){return""+(Ee+1)}function fix_row(Ee){return Ee.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function unfix_row(Ee){return Ee.replace(/\$(\d+)$/,"$1")}function decode_col(Ee){for(var _e=unfix_col(Ee),Ce=0,Pe=0;Pe!==_e.length;++Pe)Ce=26*Ce+_e.charCodeAt(Pe)-64;return Ce-1}function encode_col(Ee){if(Ee<0)throw new Error("invalid column "+Ee);var _e="";for(++Ee;Ee;Ee=Math.floor((Ee-1)/26))_e=String.fromCharCode((Ee-1)%26+65)+_e;return _e}function fix_col(Ee){return Ee.replace(/^([A-Z])/,"$$$1")}function unfix_col(Ee){return Ee.replace(/^\$([A-Z])/,"$1")}function split_cell(Ee){return Ee.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function decode_cell(Ee){for(var _e=0,Ce=0,Pe=0;Pe<Ee.length;++Pe){var Re=Ee.charCodeAt(Pe);Re>=48&&Re<=57?_e=10*_e+(Re-48):Re>=65&&Re<=90&&(Ce=26*Ce+(Re-64))}return{c:Ce-1,r:_e-1}}function encode_cell(Ee){for(var _e=Ee.c+1,Ce="";_e;_e=(_e-1)/26|0)Ce=String.fromCharCode((_e-1)%26+65)+Ce;return Ce+(Ee.r+1)}function decode_range(Ee){var _e=Ee.indexOf(":");return _e==-1?{s:decode_cell(Ee),e:decode_cell(Ee)}:{s:decode_cell(Ee.slice(0,_e)),e:decode_cell(Ee.slice(_e+1))}}function encode_range(Ee,_e){return typeof _e>"u"||typeof _e=="number"?encode_range(Ee.s,Ee.e):(typeof Ee!="string"&&(Ee=encode_cell(Ee)),typeof _e!="string"&&(_e=encode_cell(_e)),Ee==_e?Ee:Ee+":"+_e)}function safe_decode_range(Ee){var _e={s:{c:0,r:0},e:{c:0,r:0}},Ce=0,Pe=0,Re=0,Ie=Ee.length;for(Ce=0;Pe<Ie&&!((Re=Ee.charCodeAt(Pe)-64)<1||Re>26);++Pe)Ce=26*Ce+Re;for(_e.s.c=--Ce,Ce=0;Pe<Ie&&!((Re=Ee.charCodeAt(Pe)-48)<0||Re>9);++Pe)Ce=10*Ce+Re;if(_e.s.r=--Ce,Pe===Ie||Re!=10)return _e.e.c=_e.s.c,_e.e.r=_e.s.r,_e;for(++Pe,Ce=0;Pe!=Ie&&!((Re=Ee.charCodeAt(Pe)-64)<1||Re>26);++Pe)Ce=26*Ce+Re;for(_e.e.c=--Ce,Ce=0;Pe!=Ie&&!((Re=Ee.charCodeAt(Pe)-48)<0||Re>9);++Pe)Ce=10*Ce+Re;return _e.e.r=--Ce,_e}function safe_format_cell(Ee,_e){var Ce=Ee.t=="d"&&_e instanceof Date;if(Ee.z!=null)try{return Ee.w=SSF_format(Ee.z,Ce?datenum(_e):_e)}catch{}try{return Ee.w=SSF_format((Ee.XF||{}).numFmtId||(Ce?14:0),Ce?datenum(_e):_e)}catch{return""+_e}}function format_cell(Ee,_e,Ce){return Ee==null||Ee.t==null||Ee.t=="z"?"":Ee.w!==void 0?Ee.w:(Ee.t=="d"&&!Ee.z&&Ce&&Ce.dateNF&&(Ee.z=Ce.dateNF),Ee.t=="e"?BErr[Ee.v]||Ee.v:_e==null?safe_format_cell(Ee,Ee.v):safe_format_cell(Ee,_e))}function sheet_to_workbook(Ee,_e){var Ce=_e&&_e.sheet?_e.sheet:"Sheet1",Pe={};return Pe[Ce]=Ee,{SheetNames:[Ce],Sheets:Pe}}function sheet_add_aoa(Ee,_e,Ce){var Pe=Ce||{},Re=Ee?Array.isArray(Ee):Pe.dense,Ie=Ee||(Re?[]:{}),Be=0,je=0;if(Ie&&Pe.origin!=null){if(typeof Pe.origin=="number")Be=Pe.origin;else{var De=typeof Pe.origin=="string"?decode_cell(Pe.origin):Pe.origin;Be=De.r,je=De.c}Ie["!ref"]||(Ie["!ref"]="A1:A1")}var Fe={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(Ie["!ref"]){var Oe=safe_decode_range(Ie["!ref"]);Fe.s.c=Oe.s.c,Fe.s.r=Oe.s.r,Fe.e.c=Math.max(Fe.e.c,Oe.e.c),Fe.e.r=Math.max(Fe.e.r,Oe.e.r),Be==-1&&(Fe.e.r=Be=Oe.e.r+1)}for(var ke=0;ke!=_e.length;++ke)if(_e[ke]){if(!Array.isArray(_e[ke]))throw new Error("aoa_to_sheet expects an array of arrays");for(var Me=0;Me!=_e[ke].length;++Me)if(!(typeof _e[ke][Me]>"u")){var $e={v:_e[ke][Me]},He=Be+ke,Qe=je+Me;if(Fe.s.r>He&&(Fe.s.r=He),Fe.s.c>Qe&&(Fe.s.c=Qe),Fe.e.r<He&&(Fe.e.r=He),Fe.e.c<Qe&&(Fe.e.c=Qe),_e[ke][Me]&&typeof _e[ke][Me]=="object"&&!Array.isArray(_e[ke][Me])&&!(_e[ke][Me]instanceof Date))$e=_e[ke][Me];else if(Array.isArray($e.v)&&($e.f=_e[ke][Me][1],$e.v=$e.v[0]),$e.v===null)if($e.f)$e.t="n";else if(Pe.nullError)$e.t="e",$e.v=0;else if(Pe.sheetStubs)$e.t="z";else continue;else typeof $e.v=="number"?$e.t="n":typeof $e.v=="boolean"?$e.t="b":$e.v instanceof Date?($e.z=Pe.dateNF||table_fmt[14],Pe.cellDates?($e.t="d",$e.w=SSF_format($e.z,datenum($e.v))):($e.t="n",$e.v=datenum($e.v),$e.w=SSF_format($e.z,$e.v))):$e.t="s";if(Re)Ie[He]||(Ie[He]=[]),Ie[He][Qe]&&Ie[He][Qe].z&&($e.z=Ie[He][Qe].z),Ie[He][Qe]=$e;else{var Ke=encode_cell({c:Qe,r:He});Ie[Ke]&&Ie[Ke].z&&($e.z=Ie[Ke].z),Ie[Ke]=$e}}}return Fe.s.c<1e7&&(Ie["!ref"]=encode_range(Fe)),Ie}function aoa_to_sheet(Ee,_e){return sheet_add_aoa(null,Ee,_e)}function parse_Int32LE(Ee){return Ee.read_shift(4,"i")}function write_UInt32LE(Ee,_e){return _e||(_e=new_buf(4)),_e.write_shift(4,Ee),_e}function parse_XLWideString(Ee){var _e=Ee.read_shift(4);return _e===0?"":Ee.read_shift(_e,"dbcs")}function write_XLWideString(Ee,_e){var Ce=!1;return _e==null&&(Ce=!0,_e=new_buf(4+2*Ee.length)),_e.write_shift(4,Ee.length),Ee.length>0&&_e.write_shift(0,Ee,"dbcs"),Ce?_e.slice(0,_e.l):_e}function parse_StrRun(Ee){return{ich:Ee.read_shift(2),ifnt:Ee.read_shift(2)}}function write_StrRun(Ee,_e){return _e||(_e=new_buf(4)),_e.write_shift(2,0),_e.write_shift(2,0),_e}function parse_RichStr(Ee,_e){var Ce=Ee.l,Pe=Ee.read_shift(1),Re=parse_XLWideString(Ee),Ie=[],Be={t:Re,h:Re};if((Pe&1)!==0){for(var je=Ee.read_shift(4),De=0;De!=je;++De)Ie.push(parse_StrRun(Ee));Be.r=Ie}else Be.r=[{ich:0,ifnt:0}];return Ee.l=Ce+_e,Be}function write_RichStr(Ee,_e){var Ce=!1;return _e==null&&(Ce=!0,_e=new_buf(15+4*Ee.t.length)),_e.write_shift(1,0),write_XLWideString(Ee.t,_e),Ce?_e.slice(0,_e.l):_e}var parse_BrtCommentText=parse_RichStr;function write_BrtCommentText(Ee,_e){var Ce=!1;return _e==null&&(Ce=!0,_e=new_buf(23+4*Ee.t.length)),_e.write_shift(1,1),write_XLWideString(Ee.t,_e),_e.write_shift(4,1),write_StrRun({},_e),Ce?_e.slice(0,_e.l):_e}function parse_XLSBCell(Ee){var _e=Ee.read_shift(4),Ce=Ee.read_shift(2);return Ce+=Ee.read_shift(1)<<16,Ee.l++,{c:_e,iStyleRef:Ce}}function write_XLSBCell(Ee,_e){return _e==null&&(_e=new_buf(8)),_e.write_shift(-4,Ee.c),_e.write_shift(3,Ee.iStyleRef||Ee.s),_e.write_shift(1,0),_e}function parse_XLSBShortCell(Ee){var _e=Ee.read_shift(2);return _e+=Ee.read_shift(1)<<16,Ee.l++,{c:-1,iStyleRef:_e}}function write_XLSBShortCell(Ee,_e){return _e==null&&(_e=new_buf(4)),_e.write_shift(3,Ee.iStyleRef||Ee.s),_e.write_shift(1,0),_e}var parse_XLSBCodeName=parse_XLWideString,write_XLSBCodeName=write_XLWideString;function parse_XLNullableWideString(Ee){var _e=Ee.read_shift(4);return _e===0||_e===4294967295?"":Ee.read_shift(_e,"dbcs")}function write_XLNullableWideString(Ee,_e){var Ce=!1;return _e==null&&(Ce=!0,_e=new_buf(127)),_e.write_shift(4,Ee.length>0?Ee.length:4294967295),Ee.length>0&&_e.write_shift(0,Ee,"dbcs"),Ce?_e.slice(0,_e.l):_e}var parse_XLNameWideString=parse_XLWideString,parse_RelID=parse_XLNullableWideString,write_RelID=write_XLNullableWideString;function parse_RkNumber(Ee){var _e=Ee.slice(Ee.l,Ee.l+4),Ce=_e[0]&1,Pe=_e[0]&2;Ee.l+=4;var Re=Pe===0?__double([0,0,0,0,_e[0]&252,_e[1],_e[2],_e[3]],0):__readInt32LE(_e,0)>>2;return Ce?Re/100:Re}function write_RkNumber(Ee,_e){_e==null&&(_e=new_buf(4));var Ce=0,Pe=0,Re=Ee*100;if(Ee==(Ee|0)&&Ee>=-536870912&&Ee<1<<29?Pe=1:Re==(Re|0)&&Re>=-536870912&&Re<1<<29&&(Pe=1,Ce=1),Pe)_e.write_shift(-4,((Ce?Re:Ee)<<2)+(Ce+2));else throw new Error("unsupported RkNumber "+Ee)}function parse_RfX(Ee){var _e={s:{},e:{}};return _e.s.r=Ee.read_shift(4),_e.e.r=Ee.read_shift(4),_e.s.c=Ee.read_shift(4),_e.e.c=Ee.read_shift(4),_e}function write_RfX(Ee,_e){return _e||(_e=new_buf(16)),_e.write_shift(4,Ee.s.r),_e.write_shift(4,Ee.e.r),_e.write_shift(4,Ee.s.c),_e.write_shift(4,Ee.e.c),_e}var parse_UncheckedRfX=parse_RfX,write_UncheckedRfX=write_RfX;function parse_Xnum(Ee){if(Ee.length-Ee.l<8)throw"XLS Xnum Buffer underflow";return Ee.read_shift(8,"f")}function write_Xnum(Ee,_e){return(_e||new_buf(8)).write_shift(8,Ee,"f")}function parse_BrtColor(Ee){var _e={},Ce=Ee.read_shift(1),Pe=Ce>>>1,Re=Ee.read_shift(1),Ie=Ee.read_shift(2,"i"),Be=Ee.read_shift(1),je=Ee.read_shift(1),De=Ee.read_shift(1);switch(Ee.l++,Pe){case 0:_e.auto=1;break;case 1:_e.index=Re;var Fe=XLSIcv[Re];Fe&&(_e.rgb=rgb2Hex(Fe));break;case 2:_e.rgb=rgb2Hex([Be,je,De]);break;case 3:_e.theme=Re;break}return Ie!=0&&(_e.tint=Ie>0?Ie/32767:Ie/32768),_e}function write_BrtColor(Ee,_e){if(_e||(_e=new_buf(8)),!Ee||Ee.auto)return _e.write_shift(4,0),_e.write_shift(4,0),_e;Ee.index!=null?(_e.write_shift(1,2),_e.write_shift(1,Ee.index)):Ee.theme!=null?(_e.write_shift(1,6),_e.write_shift(1,Ee.theme)):(_e.write_shift(1,5),_e.write_shift(1,0));var Ce=Ee.tint||0;if(Ce>0?Ce*=32767:Ce<0&&(Ce*=32768),_e.write_shift(2,Ce),!Ee.rgb||Ee.theme!=null)_e.write_shift(2,0),_e.write_shift(1,0),_e.write_shift(1,0);else{var Pe=Ee.rgb||"FFFFFF";typeof Pe=="number"&&(Pe=("000000"+Pe.toString(16)).slice(-6)),_e.write_shift(1,parseInt(Pe.slice(0,2),16)),_e.write_shift(1,parseInt(Pe.slice(2,4),16)),_e.write_shift(1,parseInt(Pe.slice(4,6),16)),_e.write_shift(1,255)}return _e}function parse_FontFlags(Ee){var _e=Ee.read_shift(1);Ee.l++;var Ce={fBold:_e&1,fItalic:_e&2,fUnderline:_e&4,fStrikeout:_e&8,fOutline:_e&16,fShadow:_e&32,fCondense:_e&64,fExtend:_e&128};return Ce}function write_FontFlags(Ee,_e){_e||(_e=new_buf(2));var Ce=(Ee.italic?2:0)|(Ee.strike?8:0)|(Ee.outline?16:0)|(Ee.shadow?32:0)|(Ee.condense?64:0)|(Ee.extend?128:0);return _e.write_shift(1,Ce),_e.write_shift(1,0),_e}var VT_I2=2,VT_I4=3,VT_BOOL=11,VT_UI4=19,VT_FILETIME=64,VT_BLOB=65,VT_CF=71,VT_VECTOR_VARIANT=4108,VT_VECTOR_LPSTR=4126,VT_STRING=80,DocSummaryPIDDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Category",t:VT_STRING},3:{n:"PresentationFormat",t:VT_STRING},4:{n:"ByteCount",t:VT_I4},5:{n:"LineCount",t:VT_I4},6:{n:"ParagraphCount",t:VT_I4},7:{n:"SlideCount",t:VT_I4},8:{n:"NoteCount",t:VT_I4},9:{n:"HiddenCount",t:VT_I4},10:{n:"MultimediaClipCount",t:VT_I4},11:{n:"ScaleCrop",t:VT_BOOL},12:{n:"HeadingPairs",t:VT_VECTOR_VARIANT},13:{n:"TitlesOfParts",t:VT_VECTOR_LPSTR},14:{n:"Manager",t:VT_STRING},15:{n:"Company",t:VT_STRING},16:{n:"LinksUpToDate",t:VT_BOOL},17:{n:"CharacterCount",t:VT_I4},19:{n:"SharedDoc",t:VT_BOOL},22:{n:"HyperlinksChanged",t:VT_BOOL},23:{n:"AppVersion",t:VT_I4,p:"version"},24:{n:"DigSig",t:VT_BLOB},26:{n:"ContentType",t:VT_STRING},27:{n:"ContentStatus",t:VT_STRING},28:{n:"Language",t:VT_STRING},29:{n:"Version",t:VT_STRING},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}},SummaryPIDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Title",t:VT_STRING},3:{n:"Subject",t:VT_STRING},4:{n:"Author",t:VT_STRING},5:{n:"Keywords",t:VT_STRING},6:{n:"Comments",t:VT_STRING},7:{n:"Template",t:VT_STRING},8:{n:"LastAuthor",t:VT_STRING},9:{n:"RevNumber",t:VT_STRING},10:{n:"EditTime",t:VT_FILETIME},11:{n:"LastPrinted",t:VT_FILETIME},12:{n:"CreatedDate",t:VT_FILETIME},13:{n:"ModifiedDate",t:VT_FILETIME},14:{n:"PageCount",t:VT_I4},15:{n:"WordCount",t:VT_I4},16:{n:"CharCount",t:VT_I4},17:{n:"Thumbnail",t:VT_CF},18:{n:"Application",t:VT_STRING},19:{n:"DocSecurity",t:VT_I4},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}};function rgbify(Ee){return Ee.map(function(_e){return[_e>>16&255,_e>>8&255,_e&255]})}var _XLSIcv=rgbify([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),XLSIcv=dup(_XLSIcv),BErr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ct2type={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},CT_LIST={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function new_ct(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function write_ct(Ee,_e){var Ce=evert_arr(ct2type),Pe=[],Re;Pe[Pe.length]=XML_HEADER,Pe[Pe.length]=writextag("Types",null,{xmlns:XMLNS.CT,"xmlns:xsd":XMLNS.xsd,"xmlns:xsi":XMLNS.xsi}),Pe=Pe.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(De){return writextag("Default",null,{Extension:De[0],ContentType:De[1]})}));var Ie=function(De){Ee[De]&&Ee[De].length>0&&(Re=Ee[De][0],Pe[Pe.length]=writextag("Override",null,{PartName:(Re[0]=="/"?"":"/")+Re,ContentType:CT_LIST[De][_e.bookType]||CT_LIST[De].xlsx}))},Be=function(De){(Ee[De]||[]).forEach(function(Fe){Pe[Pe.length]=writextag("Override",null,{PartName:(Fe[0]=="/"?"":"/")+Fe,ContentType:CT_LIST[De][_e.bookType]||CT_LIST[De].xlsx})})},je=function(De){(Ee[De]||[]).forEach(function(Fe){Pe[Pe.length]=writextag("Override",null,{PartName:(Fe[0]=="/"?"":"/")+Fe,ContentType:Ce[De][0]})})};return Ie("workbooks"),Be("sheets"),Be("charts"),je("themes"),["strs","styles"].forEach(Ie),["coreprops","extprops","custprops"].forEach(je),je("vba"),je("comments"),je("threadedcomments"),je("drawings"),Be("metadata"),je("people"),Pe.length>2&&(Pe[Pe.length]="</Types>",Pe[1]=Pe[1].replace("/>",">")),Pe.join("")}var RELS={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function get_rels_path(Ee){var _e=Ee.lastIndexOf("/");return Ee.slice(0,_e+1)+"_rels/"+Ee.slice(_e+1)+".rels"}function write_rels(Ee){var _e=[XML_HEADER,writextag("Relationships",null,{xmlns:XMLNS.RELS})];return keys(Ee["!id"]).forEach(function(Ce){_e[_e.length]=writextag("Relationship",null,Ee["!id"][Ce])}),_e.length>2&&(_e[_e.length]="</Relationships>",_e[1]=_e[1].replace("/>",">")),_e.join("")}function add_rels(Ee,_e,Ce,Pe,Re,Ie){if(Re||(Re={}),Ee["!id"]||(Ee["!id"]={}),Ee["!idx"]||(Ee["!idx"]=1),_e<0)for(_e=Ee["!idx"];Ee["!id"]["rId"+_e];++_e);if(Ee["!idx"]=_e+1,Re.Id="rId"+_e,Re.Type=Pe,Re.Target=Ce,[RELS.HLINK,RELS.XPATH,RELS.XMISS].indexOf(Re.Type)>-1&&(Re.TargetMode="External"),Ee["!id"][Re.Id])throw new Error("Cannot rewrite rId "+_e);return Ee["!id"][Re.Id]=Re,Ee[("/"+Re.Target).replace("//","/")]=Re,_e}function write_manifest(Ee){var _e=[XML_HEADER];_e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),_e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var Ce=0;Ce<Ee.length;++Ce)_e.push('  <manifest:file-entry manifest:full-path="'+Ee[Ce][0]+'" manifest:media-type="'+Ee[Ce][1]+`"/>
`);return _e.push("</manifest:manifest>"),_e.join("")}function write_rdf_type(Ee,_e,Ce){return['  <rdf:Description rdf:about="'+Ee+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(Ce||"odf")+"#"+_e+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf_has(Ee,_e){return['  <rdf:Description rdf:about="'+Ee+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+_e+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf(Ee){var _e=[XML_HEADER];_e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var Ce=0;Ce!=Ee.length;++Ce)_e.push(write_rdf_type(Ee[Ce][0],Ee[Ce][1])),_e.push(write_rdf_has("",Ee[Ce][0]));return _e.push(write_rdf_type("","Document","pkg")),_e.push("</rdf:RDF>"),_e.join("")}function write_meta_ods(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+XLSX.version+"</meta:generator></office:meta></office:document-meta>"}var CORE_PROPS=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function cp_doit(Ee,_e,Ce,Pe,Re){Re[Ee]!=null||_e==null||_e===""||(Re[Ee]=_e,_e=escapexml(_e),Pe[Pe.length]=Ce?writextag(Ee,_e,Ce):writetag(Ee,_e))}function write_core_props(Ee,_e){var Ce=_e||{},Pe=[XML_HEADER,writextag("cp:coreProperties",null,{"xmlns:cp":XMLNS.CORE_PROPS,"xmlns:dc":XMLNS.dc,"xmlns:dcterms":XMLNS.dcterms,"xmlns:dcmitype":XMLNS.dcmitype,"xmlns:xsi":XMLNS.xsi})],Re={};if(!Ee&&!Ce.Props)return Pe.join("");Ee&&(Ee.CreatedDate!=null&&cp_doit("dcterms:created",typeof Ee.CreatedDate=="string"?Ee.CreatedDate:write_w3cdtf(Ee.CreatedDate,Ce.WTF),{"xsi:type":"dcterms:W3CDTF"},Pe,Re),Ee.ModifiedDate!=null&&cp_doit("dcterms:modified",typeof Ee.ModifiedDate=="string"?Ee.ModifiedDate:write_w3cdtf(Ee.ModifiedDate,Ce.WTF),{"xsi:type":"dcterms:W3CDTF"},Pe,Re));for(var Ie=0;Ie!=CORE_PROPS.length;++Ie){var Be=CORE_PROPS[Ie],je=Ce.Props&&Ce.Props[Be[1]]!=null?Ce.Props[Be[1]]:Ee?Ee[Be[1]]:null;je===!0?je="1":je===!1?je="0":typeof je=="number"&&(je=String(je)),je!=null&&cp_doit(Be[0],je,null,Pe,Re)}return Pe.length>2&&(Pe[Pe.length]="</cp:coreProperties>",Pe[1]=Pe[1].replace("/>",">")),Pe.join("")}var EXT_PROPS=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],PseudoPropsPairs=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function write_ext_props(Ee){var _e=[],Ce=writextag;return Ee||(Ee={}),Ee.Application="SheetJS",_e[_e.length]=XML_HEADER,_e[_e.length]=writextag("Properties",null,{xmlns:XMLNS.EXT_PROPS,"xmlns:vt":XMLNS.vt}),EXT_PROPS.forEach(function(Pe){if(Ee[Pe[1]]!==void 0){var Re;switch(Pe[2]){case"string":Re=escapexml(String(Ee[Pe[1]]));break;case"bool":Re=Ee[Pe[1]]?"true":"false";break}Re!==void 0&&(_e[_e.length]=Ce(Pe[0],Re))}}),_e[_e.length]=Ce("HeadingPairs",Ce("vt:vector",Ce("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+Ce("vt:variant",Ce("vt:i4",String(Ee.Worksheets))),{size:2,baseType:"variant"})),_e[_e.length]=Ce("TitlesOfParts",Ce("vt:vector",Ee.SheetNames.map(function(Pe){return"<vt:lpstr>"+escapexml(Pe)+"</vt:lpstr>"}).join(""),{size:Ee.Worksheets,baseType:"lpstr"})),_e.length>2&&(_e[_e.length]="</Properties>",_e[1]=_e[1].replace("/>",">")),_e.join("")}function write_cust_props(Ee){var _e=[XML_HEADER,writextag("Properties",null,{xmlns:XMLNS.CUST_PROPS,"xmlns:vt":XMLNS.vt})];if(!Ee)return _e.join("");var Ce=1;return keys(Ee).forEach(function(Re){++Ce,_e[_e.length]=writextag("property",write_vt(Ee[Re]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:Ce,name:escapexml(Re)})}),_e.length>2&&(_e[_e.length]="</Properties>",_e[1]=_e[1].replace("/>",">")),_e.join("")}var XLMLDocPropsMap={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function xlml_write_docprops(Ee,_e){var Ce=[];return keys(XLMLDocPropsMap).map(function(Pe){for(var Re=0;Re<CORE_PROPS.length;++Re)if(CORE_PROPS[Re][1]==Pe)return CORE_PROPS[Re];for(Re=0;Re<EXT_PROPS.length;++Re)if(EXT_PROPS[Re][1]==Pe)return EXT_PROPS[Re];throw Pe}).forEach(function(Pe){if(Ee[Pe[1]]!=null){var Re=_e&&_e.Props&&_e.Props[Pe[1]]!=null?_e.Props[Pe[1]]:Ee[Pe[1]];switch(Pe[2]){case"date":Re=new Date(Re).toISOString().replace(/\.\d*Z/,"Z");break}typeof Re=="number"?Re=String(Re):Re===!0||Re===!1?Re=Re?"1":"0":Re instanceof Date&&(Re=new Date(Re).toISOString().replace(/\.\d*Z/,"")),Ce.push(writetag(XLMLDocPropsMap[Pe[1]]||Pe[1],Re))}}),writextag("DocumentProperties",Ce.join(""),{xmlns:XLMLNS.o})}function xlml_write_custprops(Ee,_e){var Ce=["Worksheets","SheetNames"],Pe="CustomDocumentProperties",Re=[];return Ee&&keys(Ee).forEach(function(Ie){if(Object.prototype.hasOwnProperty.call(Ee,Ie)){for(var Be=0;Be<CORE_PROPS.length;++Be)if(Ie==CORE_PROPS[Be][1])return;for(Be=0;Be<EXT_PROPS.length;++Be)if(Ie==EXT_PROPS[Be][1])return;for(Be=0;Be<Ce.length;++Be)if(Ie==Ce[Be])return;var je=Ee[Ie],De="string";typeof je=="number"?(De="float",je=String(je)):je===!0||je===!1?(De="boolean",je=je?"1":"0"):je=String(je),Re.push(writextag(escapexmltag(Ie),je,{"dt:dt":De}))}}),_e&&keys(_e).forEach(function(Ie){if(Object.prototype.hasOwnProperty.call(_e,Ie)&&!(Ee&&Object.prototype.hasOwnProperty.call(Ee,Ie))){var Be=_e[Ie],je="string";typeof Be=="number"?(je="float",Be=String(Be)):Be===!0||Be===!1?(je="boolean",Be=Be?"1":"0"):Be instanceof Date?(je="dateTime.tz",Be=Be.toISOString()):Be=String(Be),Re.push(writextag(escapexmltag(Ie),Be,{"dt:dt":je}))}}),"<"+Pe+' xmlns="'+XLMLNS.o+'">'+Re.join("")+"</"+Pe+">"}function write_FILETIME(Ee){var _e=typeof Ee=="string"?new Date(Date.parse(Ee)):Ee,Ce=_e.getTime()/1e3+11644473600,Pe=Ce%Math.pow(2,32),Re=(Ce-Pe)/Math.pow(2,32);Pe*=1e7,Re*=1e7;var Ie=Pe/Math.pow(2,32)|0;Ie>0&&(Pe=Pe%Math.pow(2,32),Re+=Ie);var Be=new_buf(8);return Be.write_shift(4,Pe),Be.write_shift(4,Re),Be}function write_TypedPropertyValue(Ee,_e){var Ce=new_buf(4),Pe=new_buf(4);switch(Ce.write_shift(4,Ee==80?31:Ee),Ee){case 3:Pe.write_shift(-4,_e);break;case 5:Pe=new_buf(8),Pe.write_shift(8,_e,"f");break;case 11:Pe.write_shift(4,_e?1:0);break;case 64:Pe=write_FILETIME(_e);break;case 31:case 80:for(Pe=new_buf(4+2*(_e.length+1)+(_e.length%2?0:2)),Pe.write_shift(4,_e.length+1),Pe.write_shift(0,_e,"dbcs");Pe.l!=Pe.length;)Pe.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+Ee+" "+_e)}return bconcat([Ce,Pe])}var XLSPSSkip=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function guess_property_type(Ee){switch(typeof Ee){case"boolean":return 11;case"number":return(Ee|0)==Ee?3:5;case"string":return 31;case"object":if(Ee instanceof Date)return 64;break}return-1}function write_PropertySet(Ee,_e,Ce){var Pe=new_buf(8),Re=[],Ie=[],Be=8,je=0,De=new_buf(8),Fe=new_buf(8);if(De.write_shift(4,2),De.write_shift(4,1200),Fe.write_shift(4,1),Ie.push(De),Re.push(Fe),Be+=8+De.length,!_e){Fe=new_buf(8),Fe.write_shift(4,0),Re.unshift(Fe);var Oe=[new_buf(4)];for(Oe[0].write_shift(4,Ee.length),je=0;je<Ee.length;++je){var ke=Ee[je][0];for(De=new_buf(8+2*(ke.length+1)+(ke.length%2?0:2)),De.write_shift(4,je+2),De.write_shift(4,ke.length+1),De.write_shift(0,ke,"dbcs");De.l!=De.length;)De.write_shift(1,0);Oe.push(De)}De=bconcat(Oe),Ie.unshift(De),Be+=8+De.length}for(je=0;je<Ee.length;++je)if(!(_e&&!_e[Ee[je][0]])&&!(XLSPSSkip.indexOf(Ee[je][0])>-1||PseudoPropsPairs.indexOf(Ee[je][0])>-1)&&Ee[je][1]!=null){var Me=Ee[je][1],$e=0;if(_e){$e=+_e[Ee[je][0]];var He=Ce[$e];if(He.p=="version"&&typeof Me=="string"){var Qe=Me.split(".");Me=(+Qe[0]<<16)+(+Qe[1]||0)}De=write_TypedPropertyValue(He.t,Me)}else{var Ke=guess_property_type(Me);Ke==-1&&(Ke=31,Me=String(Me)),De=write_TypedPropertyValue(Ke,Me)}Ie.push(De),Fe=new_buf(8),Fe.write_shift(4,_e?$e:2+je),Re.push(Fe),Be+=8+De.length}var ze=8*(Ie.length+1);for(je=0;je<Ie.length;++je)Re[je].write_shift(4,ze),ze+=Ie[je].length;return Pe.write_shift(4,Be),Pe.write_shift(4,Ie.length),bconcat([Pe].concat(Re).concat(Ie))}function write_PropertySetStream(Ee,_e,Ce,Pe,Re,Ie){var Be=new_buf(Re?68:48),je=[Be];Be.write_shift(2,65534),Be.write_shift(2,0),Be.write_shift(4,842412599),Be.write_shift(16,CFB.utils.consts.HEADER_CLSID,"hex"),Be.write_shift(4,Re?2:1),Be.write_shift(16,_e,"hex"),Be.write_shift(4,Re?68:48);var De=write_PropertySet(Ee,Ce,Pe);if(je.push(De),Re){var Fe=write_PropertySet(Re,null,null);Be.write_shift(16,Ie,"hex"),Be.write_shift(4,68+De.length),je.push(Fe)}return bconcat(je)}function writezeroes(Ee,_e){_e||(_e=new_buf(Ee));for(var Ce=0;Ce<Ee;++Ce)_e.write_shift(1,0);return _e}function parsebool(Ee,_e){return Ee.read_shift(_e)===1}function writebool(Ee,_e){return _e||(_e=new_buf(2)),_e.write_shift(2,+!!Ee),_e}function parseuint16(Ee){return Ee.read_shift(2,"u")}function writeuint16(Ee,_e){return _e||(_e=new_buf(2)),_e.write_shift(2,Ee),_e}function write_Bes(Ee,_e,Ce){return Ce||(Ce=new_buf(2)),Ce.write_shift(1,_e=="e"?+Ee:+!!Ee),Ce.write_shift(1,_e=="e"?1:0),Ce}function parse_ShortXLUnicodeString(Ee,_e,Ce){var Pe=Ee.read_shift(Ce&&Ce.biff>=12?2:1),Re="sbcs-cont";if(Ce&&Ce.biff>=8,!Ce||Ce.biff==8){var Ie=Ee.read_shift(1);Ie&&(Re="dbcs-cont")}else Ce.biff==12&&(Re="wstr");Ce.biff>=2&&Ce.biff<=5&&(Re="cpstr");var Be=Pe?Ee.read_shift(Pe,Re):"";return Be}function write_XLUnicodeRichExtendedString(Ee){var _e=Ee.t||"",Ce=new_buf(3);Ce.write_shift(2,_e.length),Ce.write_shift(1,1);var Pe=new_buf(2*_e.length);Pe.write_shift(2*_e.length,_e,"utf16le");var Re=[Ce,Pe];return bconcat(Re)}function parse_XLUnicodeStringNoCch(Ee,_e,Ce){var Pe;if(Ce){if(Ce.biff>=2&&Ce.biff<=5)return Ee.read_shift(_e,"cpstr");if(Ce.biff>=12)return Ee.read_shift(_e,"dbcs-cont")}var Re=Ee.read_shift(1);return Re===0?Pe=Ee.read_shift(_e,"sbcs-cont"):Pe=Ee.read_shift(_e,"dbcs-cont"),Pe}function parse_XLUnicodeString(Ee,_e,Ce){var Pe=Ee.read_shift(Ce&&Ce.biff==2?1:2);return Pe===0?(Ee.l++,""):parse_XLUnicodeStringNoCch(Ee,Pe,Ce)}function parse_XLUnicodeString2(Ee,_e,Ce){if(Ce.biff>5)return parse_XLUnicodeString(Ee,_e,Ce);var Pe=Ee.read_shift(1);return Pe===0?(Ee.l++,""):Ee.read_shift(Pe,Ce.biff<=4||!Ee.lens?"cpstr":"sbcs-cont")}function write_XLUnicodeString(Ee,_e,Ce){return Ce||(Ce=new_buf(3+2*Ee.length)),Ce.write_shift(2,Ee.length),Ce.write_shift(1,1),Ce.write_shift(31,Ee,"utf16le"),Ce}function write_HyperlinkString(Ee,_e){_e||(_e=new_buf(6+Ee.length*2)),_e.write_shift(4,1+Ee.length);for(var Ce=0;Ce<Ee.length;++Ce)_e.write_shift(2,Ee.charCodeAt(Ce));return _e.write_shift(2,0),_e}function write_Hyperlink(Ee){var _e=new_buf(512),Ce=0,Pe=Ee.Target;Pe.slice(0,7)=="file://"&&(Pe=Pe.slice(7));var Re=Pe.indexOf("#"),Ie=Re>-1?31:23;switch(Pe.charAt(0)){case"#":Ie=28;break;case".":Ie&=-3;break}_e.write_shift(4,2),_e.write_shift(4,Ie);var Be=[8,6815827,6619237,4849780,83];for(Ce=0;Ce<Be.length;++Ce)_e.write_shift(4,Be[Ce]);if(Ie==28)Pe=Pe.slice(1),write_HyperlinkString(Pe,_e);else if(Ie&2){for(Be="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),Ce=0;Ce<Be.length;++Ce)_e.write_shift(1,parseInt(Be[Ce],16));var je=Re>-1?Pe.slice(0,Re):Pe;for(_e.write_shift(4,2*(je.length+1)),Ce=0;Ce<je.length;++Ce)_e.write_shift(2,je.charCodeAt(Ce));_e.write_shift(2,0),Ie&8&&write_HyperlinkString(Re>-1?Pe.slice(Re+1):"",_e)}else{for(Be="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),Ce=0;Ce<Be.length;++Ce)_e.write_shift(1,parseInt(Be[Ce],16));for(var De=0;Pe.slice(De*3,De*3+3)=="../"||Pe.slice(De*3,De*3+3)=="..\\";)++De;for(_e.write_shift(2,De),_e.write_shift(4,Pe.length-3*De+1),Ce=0;Ce<Pe.length-3*De;++Ce)_e.write_shift(1,Pe.charCodeAt(Ce+3*De)&255);for(_e.write_shift(1,0),_e.write_shift(2,65535),_e.write_shift(2,57005),Ce=0;Ce<6;++Ce)_e.write_shift(4,0)}return _e.slice(0,_e.l)}function write_XLSCell(Ee,_e,Ce,Pe){return Pe||(Pe=new_buf(6)),Pe.write_shift(2,Ee),Pe.write_shift(2,_e),Pe.write_shift(2,Ce||0),Pe}function parse_XTI(Ee,_e,Ce){var Pe=Ce.biff>8?4:2,Re=Ee.read_shift(Pe),Ie=Ee.read_shift(Pe,"i"),Be=Ee.read_shift(Pe,"i");return[Re,Ie,Be]}function parse_Ref8U(Ee){var _e=Ee.read_shift(2),Ce=Ee.read_shift(2),Pe=Ee.read_shift(2),Re=Ee.read_shift(2);return{s:{c:Pe,r:_e},e:{c:Re,r:Ce}}}function write_Ref8U(Ee,_e){return _e||(_e=new_buf(8)),_e.write_shift(2,Ee.s.r),_e.write_shift(2,Ee.e.r),_e.write_shift(2,Ee.s.c),_e.write_shift(2,Ee.e.c),_e}function write_BOF(Ee,_e,Ce){var Pe=1536,Re=16;switch(Ce.bookType){case"biff8":break;case"biff5":Pe=1280,Re=8;break;case"biff4":Pe=4,Re=6;break;case"biff3":Pe=3,Re=6;break;case"biff2":Pe=2,Re=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var Ie=new_buf(Re);return Ie.write_shift(2,Pe),Ie.write_shift(2,_e),Re>4&&Ie.write_shift(2,29282),Re>6&&Ie.write_shift(2,1997),Re>8&&(Ie.write_shift(2,49161),Ie.write_shift(2,1),Ie.write_shift(2,1798),Ie.write_shift(2,0)),Ie}function write_WriteAccess(Ee,_e){var Ce=!_e||_e.biff==8,Pe=new_buf(Ce?112:54);for(Pe.write_shift(_e.biff==8?2:1,7),Ce&&Pe.write_shift(1,0),Pe.write_shift(4,859007059),Pe.write_shift(4,5458548|(Ce?0:536870912));Pe.l<Pe.length;)Pe.write_shift(1,Ce?0:32);return Pe}function write_BoundSheet8(Ee,_e){var Ce=!_e||_e.biff>=8?2:1,Pe=new_buf(8+Ce*Ee.name.length);Pe.write_shift(4,Ee.pos),Pe.write_shift(1,Ee.hs||0),Pe.write_shift(1,Ee.dt),Pe.write_shift(1,Ee.name.length),_e.biff>=8&&Pe.write_shift(1,1),Pe.write_shift(Ce*Ee.name.length,Ee.name,_e.biff<8?"sbcs":"utf16le");var Re=Pe.slice(0,Pe.l);return Re.l=Pe.l,Re}function write_SST(Ee,_e){var Ce=new_buf(8);Ce.write_shift(4,Ee.Count),Ce.write_shift(4,Ee.Unique);for(var Pe=[],Re=0;Re<Ee.length;++Re)Pe[Re]=write_XLUnicodeRichExtendedString(Ee[Re]);var Ie=bconcat([Ce].concat(Pe));return Ie.parts=[Ce.length].concat(Pe.map(function(Be){return Be.length})),Ie}function write_Window1(){var Ee=new_buf(18);return Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,29280),Ee.write_shift(2,17600),Ee.write_shift(2,56),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,1),Ee.write_shift(2,500),Ee}function write_Window2(Ee){var _e=new_buf(18),Ce=1718;return Ee&&Ee.RTL&&(Ce|=64),_e.write_shift(2,Ce),_e.write_shift(4,0),_e.write_shift(4,64),_e.write_shift(4,0),_e.write_shift(4,0),_e}function write_Font(Ee,_e){var Ce=Ee.name||"Arial",Pe=_e&&_e.biff==5,Re=Pe?15+Ce.length:16+2*Ce.length,Ie=new_buf(Re);return Ie.write_shift(2,Ee.sz*20),Ie.write_shift(4,0),Ie.write_shift(2,400),Ie.write_shift(4,0),Ie.write_shift(2,0),Ie.write_shift(1,Ce.length),Pe||Ie.write_shift(1,1),Ie.write_shift((Pe?1:2)*Ce.length,Ce,Pe?"sbcs":"utf16le"),Ie}function write_LabelSst(Ee,_e,Ce,Pe){var Re=new_buf(10);return write_XLSCell(Ee,_e,Pe,Re),Re.write_shift(4,Ce),Re}function write_Label(Ee,_e,Ce,Pe,Re){var Ie=!Re||Re.biff==8,Be=new_buf(8+ +Ie+(1+Ie)*Ce.length);return write_XLSCell(Ee,_e,Pe,Be),Be.write_shift(2,Ce.length),Ie&&Be.write_shift(1,1),Be.write_shift((1+Ie)*Ce.length,Ce,Ie?"utf16le":"sbcs"),Be}function write_Format(Ee,_e,Ce,Pe){var Re=Ce&&Ce.biff==5;Pe||(Pe=new_buf(Re?3+_e.length:5+2*_e.length)),Pe.write_shift(2,Ee),Pe.write_shift(Re?1:2,_e.length),Re||Pe.write_shift(1,1),Pe.write_shift((Re?1:2)*_e.length,_e,Re?"sbcs":"utf16le");var Ie=Pe.length>Pe.l?Pe.slice(0,Pe.l):Pe;return Ie.l==null&&(Ie.l=Ie.length),Ie}function write_Dimensions(Ee,_e){var Ce=_e.biff==8||!_e.biff?4:2,Pe=new_buf(2*Ce+6);return Pe.write_shift(Ce,Ee.s.r),Pe.write_shift(Ce,Ee.e.r+1),Pe.write_shift(2,Ee.s.c),Pe.write_shift(2,Ee.e.c+1),Pe.write_shift(2,0),Pe}function write_XF(Ee,_e,Ce,Pe){var Re=Ce&&Ce.biff==5;Pe||(Pe=new_buf(Re?16:20)),Pe.write_shift(2,0),Ee.style?(Pe.write_shift(2,Ee.numFmtId||0),Pe.write_shift(2,65524)):(Pe.write_shift(2,Ee.numFmtId||0),Pe.write_shift(2,_e<<4));var Ie=0;return Ee.numFmtId>0&&Re&&(Ie|=1024),Pe.write_shift(4,Ie),Pe.write_shift(4,0),Re||Pe.write_shift(4,0),Pe.write_shift(2,0),Pe}function write_Guts(Ee){var _e=new_buf(8);return _e.write_shift(4,0),_e.write_shift(2,0),_e.write_shift(2,0),_e}function write_BoolErr(Ee,_e,Ce,Pe,Re,Ie){var Be=new_buf(8);return write_XLSCell(Ee,_e,Pe,Be),write_Bes(Ce,Ie,Be),Be}function write_Number(Ee,_e,Ce,Pe){var Re=new_buf(14);return write_XLSCell(Ee,_e,Pe,Re),write_Xnum(Ce,Re),Re}function parse_ExternSheet(Ee,_e,Ce){if(Ce.biff<8)return parse_BIFF5ExternSheet(Ee,_e,Ce);for(var Pe=[],Re=Ee.l+_e,Ie=Ee.read_shift(Ce.biff>8?4:2);Ie--!==0;)Pe.push(parse_XTI(Ee,Ce.biff>8?12:6,Ce));if(Ee.l!=Re)throw new Error("Bad ExternSheet: "+Ee.l+" != "+Re);return Pe}function parse_BIFF5ExternSheet(Ee,_e,Ce){Ee[Ee.l+1]==3&&Ee[Ee.l]++;var Pe=parse_ShortXLUnicodeString(Ee,_e,Ce);return Pe.charCodeAt(0)==3?Pe.slice(1):Pe}function write_MergeCells(Ee){var _e=new_buf(2+Ee.length*8);_e.write_shift(2,Ee.length);for(var Ce=0;Ce<Ee.length;++Ce)write_Ref8U(Ee[Ce],_e);return _e}function write_HLink(Ee){var _e=new_buf(24),Ce=decode_cell(Ee[0]);_e.write_shift(2,Ce.r),_e.write_shift(2,Ce.r),_e.write_shift(2,Ce.c),_e.write_shift(2,Ce.c);for(var Pe="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),Re=0;Re<16;++Re)_e.write_shift(1,parseInt(Pe[Re],16));return bconcat([_e,write_Hyperlink(Ee[1])])}function write_HLinkTooltip(Ee){var _e=Ee[1].Tooltip,Ce=new_buf(10+2*(_e.length+1));Ce.write_shift(2,2048);var Pe=decode_cell(Ee[0]);Ce.write_shift(2,Pe.r),Ce.write_shift(2,Pe.r),Ce.write_shift(2,Pe.c),Ce.write_shift(2,Pe.c);for(var Re=0;Re<_e.length;++Re)Ce.write_shift(2,_e.charCodeAt(Re));return Ce.write_shift(2,0),Ce}function write_Country(Ee){return Ee||(Ee=new_buf(4)),Ee.write_shift(2,1),Ee.write_shift(2,1),Ee}function parse_ColInfo(Ee,_e,Ce){if(!Ce.cellStyles)return parsenoop(Ee,_e);var Pe=Ce&&Ce.biff>=12?4:2,Re=Ee.read_shift(Pe),Ie=Ee.read_shift(Pe),Be=Ee.read_shift(Pe),je=Ee.read_shift(Pe),De=Ee.read_shift(2);Pe==2&&(Ee.l+=2);var Fe={s:Re,e:Ie,w:Be,ixfe:je,flags:De};return(Ce.biff>=5||!Ce.biff)&&(Fe.level=De>>8&7),Fe}function write_ColInfo(Ee,_e){var Ce=new_buf(12);Ce.write_shift(2,_e),Ce.write_shift(2,_e),Ce.write_shift(2,Ee.width*256),Ce.write_shift(2,0);var Pe=0;return Ee.hidden&&(Pe|=1),Ce.write_shift(1,Pe),Pe=Ee.level||0,Ce.write_shift(1,Pe),Ce.write_shift(2,0),Ce}function write_RRTabId(Ee){for(var _e=new_buf(2*Ee),Ce=0;Ce<Ee;++Ce)_e.write_shift(2,Ce+1);return _e}function write_BIFF2NUM(Ee,_e,Ce){var Pe=new_buf(15);return write_BIFF2Cell(Pe,Ee,_e),Pe.write_shift(8,Ce,"f"),Pe}function write_BIFF2INT(Ee,_e,Ce){var Pe=new_buf(9);return write_BIFF2Cell(Pe,Ee,_e),Pe.write_shift(2,Ce),Pe}var DBF=function(){var Ee={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},_e=evert({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function Ce(je,De){var Fe=[],Oe=new_raw_buf(1);switch(De.type){case"base64":Oe=s2a(Base64_decode(je));break;case"binary":Oe=s2a(je);break;case"buffer":case"array":Oe=je;break}prep_blob(Oe,0);var ke=Oe.read_shift(1),Me=!!(ke&136),$e=!1,He=!1;switch(ke){case 2:break;case 3:break;case 48:$e=!0,Me=!0;break;case 49:$e=!0,Me=!0;break;case 131:break;case 139:break;case 140:He=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+ke.toString(16))}var Qe=0,Ke=521;ke==2&&(Qe=Oe.read_shift(2)),Oe.l+=3,ke!=2&&(Qe=Oe.read_shift(4)),Qe>1048576&&(Qe=1e6),ke!=2&&(Ke=Oe.read_shift(2));var ze=Oe.read_shift(2),We=De.codepage||1252;ke!=2&&(Oe.l+=16,Oe.read_shift(1),Oe[Oe.l]!==0&&(We=Ee[Oe[Oe.l]]),Oe.l+=1,Oe.l+=2),He&&(Oe.l+=36);for(var qe=[],Ye={},Xe=Math.min(Oe.length,ke==2?521:Ke-10-($e?264:0)),rr=He?32:11;Oe.l<Xe&&Oe[Oe.l]!=13;)switch(Ye={},Ye.name=$cptable.utils.decode(We,Oe.slice(Oe.l,Oe.l+rr)).replace(/[\u0000\r\n].*$/g,""),Oe.l+=rr,Ye.type=String.fromCharCode(Oe.read_shift(1)),ke!=2&&!He&&(Ye.offset=Oe.read_shift(4)),Ye.len=Oe.read_shift(1),ke==2&&(Ye.offset=Oe.read_shift(2)),Ye.dec=Oe.read_shift(1),Ye.name.length&&qe.push(Ye),ke!=2&&(Oe.l+=He?13:14),Ye.type){case"B":(!$e||Ye.len!=8)&&De.WTF&&console.log("Skipping "+Ye.name+":"+Ye.type);break;case"G":case"P":De.WTF&&console.log("Skipping "+Ye.name+":"+Ye.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Ye.type)}if(Oe[Oe.l]!==13&&(Oe.l=Ke-1),Oe.read_shift(1)!==13)throw new Error("DBF Terminator not found "+Oe.l+" "+Oe[Oe.l]);Oe.l=Ke;var Je=0,er=0;for(Fe[0]=[],er=0;er!=qe.length;++er)Fe[0][er]=qe[er].name;for(;Qe-- >0;){if(Oe[Oe.l]===42){Oe.l+=ze;continue}for(++Oe.l,Fe[++Je]=[],er=0,er=0;er!=qe.length;++er){var or=Oe.slice(Oe.l,Oe.l+qe[er].len);Oe.l+=qe[er].len,prep_blob(or,0);var pr=$cptable.utils.decode(We,or);switch(qe[er].type){case"C":pr.trim().length&&(Fe[Je][er]=pr.replace(/\s+$/,""));break;case"D":pr.length===8?Fe[Je][er]=new Date(+pr.slice(0,4),+pr.slice(4,6)-1,+pr.slice(6,8)):Fe[Je][er]=pr;break;case"F":Fe[Je][er]=parseFloat(pr.trim());break;case"+":case"I":Fe[Je][er]=He?or.read_shift(-4,"i")^2147483648:or.read_shift(4,"i");break;case"L":switch(pr.trim().toUpperCase()){case"Y":case"T":Fe[Je][er]=!0;break;case"N":case"F":Fe[Je][er]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+pr+"|")}break;case"M":if(!Me)throw new Error("DBF Unexpected MEMO for type "+ke.toString(16));Fe[Je][er]="##MEMO##"+(He?parseInt(pr.trim(),10):or.read_shift(4));break;case"N":pr=pr.replace(/\u0000/g,"").trim(),pr&&pr!="."&&(Fe[Je][er]=+pr||0);break;case"@":Fe[Je][er]=new Date(or.read_shift(-8,"f")-621356832e5);break;case"T":Fe[Je][er]=new Date((or.read_shift(4)-2440588)*864e5+or.read_shift(4));break;case"Y":Fe[Je][er]=or.read_shift(4,"i")/1e4+or.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":Fe[Je][er]=-or.read_shift(-8,"f");break;case"B":if($e&&qe[er].len==8){Fe[Je][er]=or.read_shift(8,"f");break}case"G":case"P":or.l+=qe[er].len;break;case"0":if(qe[er].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+qe[er].type)}}}if(ke!=2&&Oe.l<Oe.length&&Oe[Oe.l++]!=26)throw new Error("DBF EOF Marker missing "+(Oe.l-1)+" of "+Oe.length+" "+Oe[Oe.l-1].toString(16));return De&&De.sheetRows&&(Fe=Fe.slice(0,De.sheetRows)),De.DBF=qe,Fe}function Pe(je,De){var Fe=De||{};Fe.dateNF||(Fe.dateNF="yyyymmdd");var Oe=aoa_to_sheet(Ce(je,Fe),Fe);return Oe["!cols"]=Fe.DBF.map(function(ke){return{wch:ke.len,DBF:ke}}),delete Fe.DBF,Oe}function Re(je,De){try{return sheet_to_workbook(Pe(je,De),De)}catch(Fe){if(De&&De.WTF)throw Fe}return{SheetNames:[],Sheets:{}}}var Ie={B:8,C:250,L:1,D:8,"?":0,"":0};function Be(je,De){var Fe=De||{};if(+Fe.codepage>=0&&set_cp(+Fe.codepage),Fe.type=="string")throw new Error("Cannot write DBF to JS string");var Oe=buf_array(),ke=sheet_to_json(je,{header:1,raw:!0,cellDates:!0}),Me=ke[0],$e=ke.slice(1),He=je["!cols"]||[],Qe=0,Ke=0,ze=0,We=1;for(Qe=0;Qe<Me.length;++Qe){if(((He[Qe]||{}).DBF||{}).name){Me[Qe]=He[Qe].DBF.name,++ze;continue}if(Me[Qe]!=null){if(++ze,typeof Me[Qe]=="number"&&(Me[Qe]=Me[Qe].toString(10)),typeof Me[Qe]!="string")throw new Error("DBF Invalid column name "+Me[Qe]+" |"+typeof Me[Qe]+"|");if(Me.indexOf(Me[Qe])!==Qe){for(Ke=0;Ke<1024;++Ke)if(Me.indexOf(Me[Qe]+"_"+Ke)==-1){Me[Qe]+="_"+Ke;break}}}}var qe=safe_decode_range(je["!ref"]),Ye=[],Xe=[],rr=[];for(Qe=0;Qe<=qe.e.c-qe.s.c;++Qe){var Je="",er="",or=0,pr=[];for(Ke=0;Ke<$e.length;++Ke)$e[Ke][Qe]!=null&&pr.push($e[Ke][Qe]);if(pr.length==0||Me[Qe]==null){Ye[Qe]="?";continue}for(Ke=0;Ke<pr.length;++Ke){switch(typeof pr[Ke]){case"number":er="B";break;case"string":er="C";break;case"boolean":er="L";break;case"object":er=pr[Ke]instanceof Date?"D":"C";break;default:er="C"}or=Math.max(or,String(pr[Ke]).length),Je=Je&&Je!=er?"C":er}or>250&&(or=250),er=((He[Qe]||{}).DBF||{}).type,er=="C"&&He[Qe].DBF.len>or&&(or=He[Qe].DBF.len),Je=="B"&&er=="N"&&(Je="N",rr[Qe]=He[Qe].DBF.dec,or=He[Qe].DBF.len),Xe[Qe]=Je=="C"||er=="N"?or:Ie[Je]||0,We+=Xe[Qe],Ye[Qe]=Je}var ar=Oe.next(32);for(ar.write_shift(4,318902576),ar.write_shift(4,$e.length),ar.write_shift(2,296+32*ze),ar.write_shift(2,We),Qe=0;Qe<4;++Qe)ar.write_shift(4,0);for(ar.write_shift(4,0|(+_e[current_ansi]||3)<<8),Qe=0,Ke=0;Qe<Me.length;++Qe)if(Me[Qe]!=null){var fr=Oe.next(32),gr=(Me[Qe].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);fr.write_shift(1,gr,"sbcs"),fr.write_shift(1,Ye[Qe]=="?"?"C":Ye[Qe],"sbcs"),fr.write_shift(4,Ke),fr.write_shift(1,Xe[Qe]||Ie[Ye[Qe]]||0),fr.write_shift(1,rr[Qe]||0),fr.write_shift(1,2),fr.write_shift(4,0),fr.write_shift(1,0),fr.write_shift(4,0),fr.write_shift(4,0),Ke+=Xe[Qe]||Ie[Ye[Qe]]||0}var Rr=Oe.next(264);for(Rr.write_shift(4,13),Qe=0;Qe<65;++Qe)Rr.write_shift(4,0);for(Qe=0;Qe<$e.length;++Qe){var Ir=Oe.next(We);for(Ir.write_shift(1,0),Ke=0;Ke<Me.length;++Ke)if(Me[Ke]!=null)switch(Ye[Ke]){case"L":Ir.write_shift(1,$e[Qe][Ke]==null?63:$e[Qe][Ke]?84:70);break;case"B":Ir.write_shift(8,$e[Qe][Ke]||0,"f");break;case"N":var mr="0";for(typeof $e[Qe][Ke]=="number"&&(mr=$e[Qe][Ke].toFixed(rr[Ke]||0)),ze=0;ze<Xe[Ke]-mr.length;++ze)Ir.write_shift(1,32);Ir.write_shift(1,mr,"sbcs");break;case"D":$e[Qe][Ke]?(Ir.write_shift(4,("0000"+$e[Qe][Ke].getFullYear()).slice(-4),"sbcs"),Ir.write_shift(2,("00"+($e[Qe][Ke].getMonth()+1)).slice(-2),"sbcs"),Ir.write_shift(2,("00"+$e[Qe][Ke].getDate()).slice(-2),"sbcs")):Ir.write_shift(8,"00000000","sbcs");break;case"C":var Er=String($e[Qe][Ke]!=null?$e[Qe][Ke]:"").slice(0,Xe[Ke]);for(Ir.write_shift(1,Er,"sbcs"),ze=0;ze<Xe[Ke]-Er.length;++ze)Ir.write_shift(1,32);break}}return Oe.next(1).write_shift(1,26),Oe.end()}return{to_workbook:Re,to_sheet:Pe,from_sheet:Be}}(),SYLK=function(){var Ee={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},_e=new RegExp("\x1BN("+keys(Ee).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),Ce=function(Me,$e){var He=Ee[$e];return typeof He=="number"?_getansi(He):He},Pe=function(Me,$e,He){var Qe=$e.charCodeAt(0)-32<<4|He.charCodeAt(0)-48;return Qe==59?Me:_getansi(Qe)};Ee["|"]=254;function Re(Me,$e){switch($e.type){case"base64":return Ie(Base64_decode(Me),$e);case"binary":return Ie(Me,$e);case"buffer":return Ie(has_buf&&Buffer.isBuffer(Me)?Me.toString("binary"):a2s(Me),$e);case"array":return Ie(cc2str(Me),$e)}throw new Error("Unrecognized type "+$e.type)}function Ie(Me,$e){var He=Me.split(/[\n\r]+/),Qe=-1,Ke=-1,ze=0,We=0,qe=[],Ye=[],Xe=null,rr={},Je=[],er=[],or=[],pr=0,ar;for(+$e.codepage>=0&&set_cp(+$e.codepage);ze!==He.length;++ze){pr=0;var fr=He[ze].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,Pe).replace(_e,Ce),gr=fr.replace(/;;/g,"\0").split(";").map(function(Cr){return Cr.replace(/\u0000/g,";")}),Rr=gr[0],Ir;if(fr.length>0)switch(Rr){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":gr[1].charAt(0)=="P"&&Ye.push(fr.slice(3).replace(/;;/g,";"));break;case"C":var mr=!1,Er=!1,Ar=!1,br=!1,wr=-1,jr=-1;for(We=1;We<gr.length;++We)switch(gr[We].charAt(0)){case"A":break;case"X":Ke=parseInt(gr[We].slice(1))-1,Er=!0;break;case"Y":for(Qe=parseInt(gr[We].slice(1))-1,Er||(Ke=0),ar=qe.length;ar<=Qe;++ar)qe[ar]=[];break;case"K":Ir=gr[We].slice(1),Ir.charAt(0)==='"'?Ir=Ir.slice(1,Ir.length-1):Ir==="TRUE"?Ir=!0:Ir==="FALSE"?Ir=!1:isNaN(fuzzynum(Ir))?isNaN(fuzzydate(Ir).getDate())||(Ir=parseDate(Ir)):(Ir=fuzzynum(Ir),Xe!==null&&fmt_is_date(Xe)&&(Ir=numdate(Ir))),mr=!0;break;case"E":br=!0;var hr=rc_to_a1(gr[We].slice(1),{r:Qe,c:Ke});qe[Qe][Ke]=[qe[Qe][Ke],hr];break;case"S":Ar=!0,qe[Qe][Ke]=[qe[Qe][Ke],"S5S"];break;case"G":break;case"R":wr=parseInt(gr[We].slice(1))-1;break;case"C":jr=parseInt(gr[We].slice(1))-1;break;default:if($e&&$e.WTF)throw new Error("SYLK bad record "+fr)}if(mr&&(qe[Qe][Ke]&&qe[Qe][Ke].length==2?qe[Qe][Ke][0]=Ir:qe[Qe][Ke]=Ir,Xe=null),Ar){if(br)throw new Error("SYLK shared formula cannot have own formula");var _r=wr>-1&&qe[wr][jr];if(!_r||!_r[1])throw new Error("SYLK shared formula cannot find base");qe[Qe][Ke][1]=shift_formula_str(_r[1],{r:Qe-wr,c:Ke-jr})}break;case"F":var Pr=0;for(We=1;We<gr.length;++We)switch(gr[We].charAt(0)){case"X":Ke=parseInt(gr[We].slice(1))-1,++Pr;break;case"Y":for(Qe=parseInt(gr[We].slice(1))-1,ar=qe.length;ar<=Qe;++ar)qe[ar]=[];break;case"M":pr=parseInt(gr[We].slice(1))/20;break;case"F":break;case"G":break;case"P":Xe=Ye[parseInt(gr[We].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(or=gr[We].slice(1).split(" "),ar=parseInt(or[0],10);ar<=parseInt(or[1],10);++ar)pr=parseInt(or[2],10),er[ar-1]=pr===0?{hidden:!0}:{wch:pr},process_col(er[ar-1]);break;case"C":Ke=parseInt(gr[We].slice(1))-1,er[Ke]||(er[Ke]={});break;case"R":Qe=parseInt(gr[We].slice(1))-1,Je[Qe]||(Je[Qe]={}),pr>0?(Je[Qe].hpt=pr,Je[Qe].hpx=pt2px(pr)):pr===0&&(Je[Qe].hidden=!0);break;default:if($e&&$e.WTF)throw new Error("SYLK bad record "+fr)}Pr<1&&(Xe=null);break;default:if($e&&$e.WTF)throw new Error("SYLK bad record "+fr)}}return Je.length>0&&(rr["!rows"]=Je),er.length>0&&(rr["!cols"]=er),$e&&$e.sheetRows&&(qe=qe.slice(0,$e.sheetRows)),[qe,rr]}function Be(Me,$e){var He=Re(Me,$e),Qe=He[0],Ke=He[1],ze=aoa_to_sheet(Qe,$e);return keys(Ke).forEach(function(We){ze[We]=Ke[We]}),ze}function je(Me,$e){return sheet_to_workbook(Be(Me,$e),$e)}function De(Me,$e,He,Qe){var Ke="C;Y"+(He+1)+";X"+(Qe+1)+";K";switch(Me.t){case"n":Ke+=Me.v||0,Me.f&&!Me.F&&(Ke+=";E"+a1_to_rc(Me.f,{r:He,c:Qe}));break;case"b":Ke+=Me.v?"TRUE":"FALSE";break;case"e":Ke+=Me.w||Me.v;break;case"d":Ke+='"'+(Me.w||Me.v)+'"';break;case"s":Ke+='"'+Me.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return Ke}function Fe(Me,$e){$e.forEach(function(He,Qe){var Ke="F;W"+(Qe+1)+" "+(Qe+1)+" ";He.hidden?Ke+="0":(typeof He.width=="number"&&!He.wpx&&(He.wpx=width2px(He.width)),typeof He.wpx=="number"&&!He.wch&&(He.wch=px2char(He.wpx)),typeof He.wch=="number"&&(Ke+=Math.round(He.wch))),Ke.charAt(Ke.length-1)!=" "&&Me.push(Ke)})}function Oe(Me,$e){$e.forEach(function(He,Qe){var Ke="F;";He.hidden?Ke+="M0;":He.hpt?Ke+="M"+20*He.hpt+";":He.hpx&&(Ke+="M"+20*px2pt(He.hpx)+";"),Ke.length>2&&Me.push(Ke+"R"+(Qe+1))})}function ke(Me,$e){var He=["ID;PWXL;N;E"],Qe=[],Ke=safe_decode_range(Me["!ref"]),ze,We=Array.isArray(Me),qe=`\r
`;He.push("P;PGeneral"),He.push("F;P0;DG0G8;M255"),Me["!cols"]&&Fe(He,Me["!cols"]),Me["!rows"]&&Oe(He,Me["!rows"]),He.push("B;Y"+(Ke.e.r-Ke.s.r+1)+";X"+(Ke.e.c-Ke.s.c+1)+";D"+[Ke.s.c,Ke.s.r,Ke.e.c,Ke.e.r].join(" "));for(var Ye=Ke.s.r;Ye<=Ke.e.r;++Ye)for(var Xe=Ke.s.c;Xe<=Ke.e.c;++Xe){var rr=encode_cell({r:Ye,c:Xe});ze=We?(Me[Ye]||[])[Xe]:Me[rr],!(!ze||ze.v==null&&(!ze.f||ze.F))&&Qe.push(De(ze,Me,Ye,Xe))}return He.join(qe)+qe+Qe.join(qe)+qe+"E"+qe}return{to_workbook:je,to_sheet:Be,from_sheet:ke}}(),DIF=function(){function Ee(Ie,Be){switch(Be.type){case"base64":return _e(Base64_decode(Ie),Be);case"binary":return _e(Ie,Be);case"buffer":return _e(has_buf&&Buffer.isBuffer(Ie)?Ie.toString("binary"):a2s(Ie),Be);case"array":return _e(cc2str(Ie),Be)}throw new Error("Unrecognized type "+Be.type)}function _e(Ie,Be){for(var je=Ie.split(`
`),De=-1,Fe=-1,Oe=0,ke=[];Oe!==je.length;++Oe){if(je[Oe].trim()==="BOT"){ke[++De]=[],Fe=0;continue}if(!(De<0)){var Me=je[Oe].trim().split(","),$e=Me[0],He=Me[1];++Oe;for(var Qe=je[Oe]||"";(Qe.match(/["]/g)||[]).length&1&&Oe<je.length-1;)Qe+=`
`+je[++Oe];switch(Qe=Qe.trim(),+$e){case-1:if(Qe==="BOT"){ke[++De]=[],Fe=0;continue}else if(Qe!=="EOD")throw new Error("Unrecognized DIF special command "+Qe);break;case 0:Qe==="TRUE"?ke[De][Fe]=!0:Qe==="FALSE"?ke[De][Fe]=!1:isNaN(fuzzynum(He))?isNaN(fuzzydate(He).getDate())?ke[De][Fe]=He:ke[De][Fe]=parseDate(He):ke[De][Fe]=fuzzynum(He),++Fe;break;case 1:Qe=Qe.slice(1,Qe.length-1),Qe=Qe.replace(/""/g,'"'),Qe&&Qe.match(/^=".*"$/)&&(Qe=Qe.slice(2,-1)),ke[De][Fe++]=Qe!==""?Qe:null;break}if(Qe==="EOD")break}}return Be&&Be.sheetRows&&(ke=ke.slice(0,Be.sheetRows)),ke}function Ce(Ie,Be){return aoa_to_sheet(Ee(Ie,Be),Be)}function Pe(Ie,Be){return sheet_to_workbook(Ce(Ie,Be),Be)}var Re=function(){var Ie=function(De,Fe,Oe,ke,Me){De.push(Fe),De.push(Oe+","+ke),De.push('"'+Me.replace(/"/g,'""')+'"')},Be=function(De,Fe,Oe,ke){De.push(Fe+","+Oe),De.push(Fe==1?'"'+ke.replace(/"/g,'""')+'"':ke)};return function(De){var Fe=[],Oe=safe_decode_range(De["!ref"]),ke,Me=Array.isArray(De);Ie(Fe,"TABLE",0,1,"sheetjs"),Ie(Fe,"VECTORS",0,Oe.e.r-Oe.s.r+1,""),Ie(Fe,"TUPLES",0,Oe.e.c-Oe.s.c+1,""),Ie(Fe,"DATA",0,0,"");for(var $e=Oe.s.r;$e<=Oe.e.r;++$e){Be(Fe,-1,0,"BOT");for(var He=Oe.s.c;He<=Oe.e.c;++He){var Qe=encode_cell({r:$e,c:He});if(ke=Me?(De[$e]||[])[He]:De[Qe],!ke){Be(Fe,1,0,"");continue}switch(ke.t){case"n":var Ke=ke.w;!Ke&&ke.v!=null&&(Ke=ke.v),Ke==null?ke.f&&!ke.F?Be(Fe,1,0,"="+ke.f):Be(Fe,1,0,""):Be(Fe,0,Ke,"V");break;case"b":Be(Fe,0,ke.v?1:0,ke.v?"TRUE":"FALSE");break;case"s":Be(Fe,1,0,isNaN(ke.v)?ke.v:'="'+ke.v+'"');break;case"d":ke.w||(ke.w=SSF_format(ke.z||table_fmt[14],datenum(parseDate(ke.v)))),Be(Fe,0,ke.w,"V");break;default:Be(Fe,1,0,"")}}}Be(Fe,-1,0,"EOD");var ze=`\r
`,We=Fe.join(ze);return We}}();return{to_workbook:Pe,to_sheet:Ce,from_sheet:Re}}(),ETH=function(){function Ee(ke){return ke.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function _e(ke){return ke.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function Ce(ke,Me){for(var $e=ke.split(`
`),He=-1,Qe=-1,Ke=0,ze=[];Ke!==$e.length;++Ke){var We=$e[Ke].trim().split(":");if(We[0]==="cell"){var qe=decode_cell(We[1]);if(ze.length<=qe.r)for(He=ze.length;He<=qe.r;++He)ze[He]||(ze[He]=[]);switch(He=qe.r,Qe=qe.c,We[2]){case"t":ze[He][Qe]=Ee(We[3]);break;case"v":ze[He][Qe]=+We[3];break;case"vtf":var Ye=We[We.length-1];case"vtc":switch(We[3]){case"nl":ze[He][Qe]=!!+We[4];break;default:ze[He][Qe]=+We[4];break}We[2]=="vtf"&&(ze[He][Qe]=[ze[He][Qe],Ye])}}}return Me&&Me.sheetRows&&(ze=ze.slice(0,Me.sheetRows)),ze}function Pe(ke,Me){return aoa_to_sheet(Ce(ke,Me),Me)}function Re(ke,Me){return sheet_to_workbook(Pe(ke,Me),Me)}var Ie=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),Be=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,je=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),De="--SocialCalcSpreadsheetControlSave--";function Fe(ke){if(!ke||!ke["!ref"])return"";for(var Me=[],$e=[],He,Qe="",Ke=decode_range(ke["!ref"]),ze=Array.isArray(ke),We=Ke.s.r;We<=Ke.e.r;++We)for(var qe=Ke.s.c;qe<=Ke.e.c;++qe)if(Qe=encode_cell({r:We,c:qe}),He=ze?(ke[We]||[])[qe]:ke[Qe],!(!He||He.v==null||He.t==="z")){switch($e=["cell",Qe,"t"],He.t){case"s":case"str":$e.push(_e(He.v));break;case"n":He.f?($e[2]="vtf",$e[3]="n",$e[4]=He.v,$e[5]=_e(He.f)):($e[2]="v",$e[3]=He.v);break;case"b":$e[2]="vt"+(He.f?"f":"c"),$e[3]="nl",$e[4]=He.v?"1":"0",$e[5]=_e(He.f||(He.v?"TRUE":"FALSE"));break;case"d":var Ye=datenum(parseDate(He.v));$e[2]="vtc",$e[3]="nd",$e[4]=""+Ye,$e[5]=He.w||SSF_format(He.z||table_fmt[14],Ye);break;case"e":continue}Me.push($e.join(":"))}return Me.push("sheet:c:"+(Ke.e.c-Ke.s.c+1)+":r:"+(Ke.e.r-Ke.s.r+1)+":tvf:1"),Me.push("valueformat:1:text-wiki"),Me.join(`
`)}function Oe(ke){return[Ie,Be,je,Be,Fe(ke),De].join(`
`)}return{to_workbook:Re,to_sheet:Pe,from_sheet:Oe}}(),PRN=function(){function Ee(Oe,ke,Me,$e,He){He.raw?ke[Me][$e]=Oe:Oe===""||(Oe==="TRUE"?ke[Me][$e]=!0:Oe==="FALSE"?ke[Me][$e]=!1:isNaN(fuzzynum(Oe))?isNaN(fuzzydate(Oe).getDate())?ke[Me][$e]=Oe:ke[Me][$e]=parseDate(Oe):ke[Me][$e]=fuzzynum(Oe))}function _e(Oe,ke){var Me=ke||{},$e=[];if(!Oe||Oe.length===0)return $e;for(var He=Oe.split(/[\r\n]/),Qe=He.length-1;Qe>=0&&He[Qe].length===0;)--Qe;for(var Ke=10,ze=0,We=0;We<=Qe;++We)ze=He[We].indexOf(" "),ze==-1?ze=He[We].length:ze++,Ke=Math.max(Ke,ze);for(We=0;We<=Qe;++We){$e[We]=[];var qe=0;for(Ee(He[We].slice(0,Ke).trim(),$e,We,qe,Me),qe=1;qe<=(He[We].length-Ke)/10+1;++qe)Ee(He[We].slice(Ke+(qe-1)*10,Ke+qe*10).trim(),$e,We,qe,Me)}return Me.sheetRows&&($e=$e.slice(0,Me.sheetRows)),$e}var Ce={44:",",9:"	",59:";",124:"|"},Pe={44:3,9:2,59:1,124:0};function Re(Oe){for(var ke={},Me=!1,$e=0,He=0;$e<Oe.length;++$e)(He=Oe.charCodeAt($e))==34?Me=!Me:!Me&&He in Ce&&(ke[He]=(ke[He]||0)+1);He=[];for($e in ke)Object.prototype.hasOwnProperty.call(ke,$e)&&He.push([ke[$e],$e]);if(!He.length){ke=Pe;for($e in ke)Object.prototype.hasOwnProperty.call(ke,$e)&&He.push([ke[$e],$e])}return He.sort(function(Qe,Ke){return Qe[0]-Ke[0]||Pe[Qe[1]]-Pe[Ke[1]]}),Ce[He.pop()[1]]||44}function Ie(Oe,ke){var Me=ke||{},$e="",He=Me.dense?[]:{},Qe={s:{c:0,r:0},e:{c:0,r:0}};Oe.slice(0,4)=="sep="?Oe.charCodeAt(5)==13&&Oe.charCodeAt(6)==10?($e=Oe.charAt(4),Oe=Oe.slice(7)):Oe.charCodeAt(5)==13||Oe.charCodeAt(5)==10?($e=Oe.charAt(4),Oe=Oe.slice(6)):$e=Re(Oe.slice(0,1024)):Me&&Me.FS?$e=Me.FS:$e=Re(Oe.slice(0,1024));var Ke=0,ze=0,We=0,qe=0,Ye=0,Xe=$e.charCodeAt(0),rr=!1,Je=0,er=Oe.charCodeAt(0);Oe=Oe.replace(/\r\n/mg,`
`);var or=Me.dateNF!=null?dateNF_regex(Me.dateNF):null;function pr(){var ar=Oe.slice(qe,Ye),fr={};if(ar.charAt(0)=='"'&&ar.charAt(ar.length-1)=='"'&&(ar=ar.slice(1,-1).replace(/""/g,'"')),ar.length===0)fr.t="z";else if(Me.raw)fr.t="s",fr.v=ar;else if(ar.trim().length===0)fr.t="s",fr.v=ar;else if(ar.charCodeAt(0)==61)ar.charCodeAt(1)==34&&ar.charCodeAt(ar.length-1)==34?(fr.t="s",fr.v=ar.slice(2,-1).replace(/""/g,'"')):fuzzyfmla(ar)?(fr.t="n",fr.f=ar.slice(1)):(fr.t="s",fr.v=ar);else if(ar=="TRUE")fr.t="b",fr.v=!0;else if(ar=="FALSE")fr.t="b",fr.v=!1;else if(!isNaN(We=fuzzynum(ar)))fr.t="n",Me.cellText!==!1&&(fr.w=ar),fr.v=We;else if(!isNaN(fuzzydate(ar).getDate())||or&&ar.match(or)){fr.z=Me.dateNF||table_fmt[14];var gr=0;or&&ar.match(or)&&(ar=dateNF_fix(ar,Me.dateNF,ar.match(or)||[]),gr=1),Me.cellDates?(fr.t="d",fr.v=parseDate(ar,gr)):(fr.t="n",fr.v=datenum(parseDate(ar,gr))),Me.cellText!==!1&&(fr.w=SSF_format(fr.z,fr.v instanceof Date?datenum(fr.v):fr.v)),Me.cellNF||delete fr.z}else fr.t="s",fr.v=ar;if(fr.t=="z"||(Me.dense?(He[Ke]||(He[Ke]=[]),He[Ke][ze]=fr):He[encode_cell({c:ze,r:Ke})]=fr),qe=Ye+1,er=Oe.charCodeAt(qe),Qe.e.c<ze&&(Qe.e.c=ze),Qe.e.r<Ke&&(Qe.e.r=Ke),Je==Xe)++ze;else if(ze=0,++Ke,Me.sheetRows&&Me.sheetRows<=Ke)return!0}e:for(;Ye<Oe.length;++Ye)switch(Je=Oe.charCodeAt(Ye)){case 34:er===34&&(rr=!rr);break;case Xe:case 10:case 13:if(!rr&&pr())break e;break}return Ye-qe>0&&pr(),He["!ref"]=encode_range(Qe),He}function Be(Oe,ke){return!(ke&&ke.PRN)||ke.FS||Oe.slice(0,4)=="sep="||Oe.indexOf("	")>=0||Oe.indexOf(",")>=0||Oe.indexOf(";")>=0?Ie(Oe,ke):aoa_to_sheet(_e(Oe,ke),ke)}function je(Oe,ke){var Me="",$e=ke.type=="string"?[0,0,0,0]:firstbyte(Oe,ke);switch(ke.type){case"base64":Me=Base64_decode(Oe);break;case"binary":Me=Oe;break;case"buffer":ke.codepage==65001?Me=Oe.toString("utf8"):ke.codepage&&typeof $cptable<"u"||(Me=has_buf&&Buffer.isBuffer(Oe)?Oe.toString("binary"):a2s(Oe));break;case"array":Me=cc2str(Oe);break;case"string":Me=Oe;break;default:throw new Error("Unrecognized type "+ke.type)}return $e[0]==239&&$e[1]==187&&$e[2]==191?Me=utf8read(Me.slice(3)):ke.type!="string"&&ke.type!="buffer"&&ke.codepage==65001?Me=utf8read(Me):ke.type=="binary"&&typeof $cptable<"u",Me.slice(0,19)=="socialcalc:version:"?ETH.to_sheet(ke.type=="string"?Me:utf8read(Me),ke):Be(Me,ke)}function De(Oe,ke){return sheet_to_workbook(je(Oe,ke),ke)}function Fe(Oe){for(var ke=[],Me=safe_decode_range(Oe["!ref"]),$e,He=Array.isArray(Oe),Qe=Me.s.r;Qe<=Me.e.r;++Qe){for(var Ke=[],ze=Me.s.c;ze<=Me.e.c;++ze){var We=encode_cell({r:Qe,c:ze});if($e=He?(Oe[Qe]||[])[ze]:Oe[We],!$e||$e.v==null){Ke.push("          ");continue}for(var qe=($e.w||(format_cell($e),$e.w)||"").slice(0,10);qe.length<10;)qe+=" ";Ke.push(qe+(ze===0?" ":""))}ke.push(Ke.join(""))}return ke.join(`
`)}return{to_workbook:De,to_sheet:je,from_sheet:Fe}}(),WK_=function(){function Ee(hr,_r,Pr){if(hr){prep_blob(hr,hr.l||0);for(var Cr=Pr.Enum||wr;hr.l<hr.length;){var Or=hr.read_shift(2),Yr=Cr[Or]||Cr[65535],qr=hr.read_shift(2),Kr=hr.l+qr,Zr=Yr.f&&Yr.f(hr,qr,Pr);if(hr.l=Kr,_r(Zr,Yr,Or))return}}}function _e(hr,_r){switch(_r.type){case"base64":return Ce(s2a(Base64_decode(hr)),_r);case"binary":return Ce(s2a(hr),_r);case"buffer":case"array":return Ce(hr,_r)}throw"Unsupported type "+_r.type}function Ce(hr,_r){if(!hr)return hr;var Pr=_r||{},Cr=Pr.dense?[]:{},Or="Sheet1",Yr="",qr=0,Kr={},Zr=[],yn=[],mn={s:{r:0,c:0},e:{r:0,c:0}},Cn=Pr.sheetRows||0;if(hr[2]==0&&(hr[3]==8||hr[3]==9)&&hr.length>=16&&hr[14]==5&&hr[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(hr[2]==2)Pr.Enum=wr,Ee(hr,function(qn,ci,Jn){switch(Jn){case 0:Pr.vers=qn,qn>=4096&&(Pr.qpro=!0);break;case 6:mn=qn;break;case 204:qn&&(Yr=qn);break;case 222:Yr=qn;break;case 15:case 51:Pr.qpro||(qn[1].v=qn[1].v.slice(1));case 13:case 14:case 16:Jn==14&&(qn[2]&112)==112&&(qn[2]&15)>1&&(qn[2]&15)<15&&(qn[1].z=Pr.dateNF||table_fmt[14],Pr.cellDates&&(qn[1].t="d",qn[1].v=numdate(qn[1].v))),Pr.qpro&&qn[3]>qr&&(Cr["!ref"]=encode_range(mn),Kr[Or]=Cr,Zr.push(Or),Cr=Pr.dense?[]:{},mn={s:{r:0,c:0},e:{r:0,c:0}},qr=qn[3],Or=Yr||"Sheet"+(qr+1),Yr="");var ui=Pr.dense?(Cr[qn[0].r]||[])[qn[0].c]:Cr[encode_cell(qn[0])];if(ui){ui.t=qn[1].t,ui.v=qn[1].v,qn[1].z!=null&&(ui.z=qn[1].z),qn[1].f!=null&&(ui.f=qn[1].f);break}Pr.dense?(Cr[qn[0].r]||(Cr[qn[0].r]=[]),Cr[qn[0].r][qn[0].c]=qn[1]):Cr[encode_cell(qn[0])]=qn[1];break}},Pr);else if(hr[2]==26||hr[2]==14)Pr.Enum=jr,hr[2]==14&&(Pr.qpro=!0,hr.l=0),Ee(hr,function(qn,ci,Jn){switch(Jn){case 204:Or=qn;break;case 22:qn[1].v=qn[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(qn[3]>qr&&(Cr["!ref"]=encode_range(mn),Kr[Or]=Cr,Zr.push(Or),Cr=Pr.dense?[]:{},mn={s:{r:0,c:0},e:{r:0,c:0}},qr=qn[3],Or="Sheet"+(qr+1)),Cn>0&&qn[0].r>=Cn)break;Pr.dense?(Cr[qn[0].r]||(Cr[qn[0].r]=[]),Cr[qn[0].r][qn[0].c]=qn[1]):Cr[encode_cell(qn[0])]=qn[1],mn.e.c<qn[0].c&&(mn.e.c=qn[0].c),mn.e.r<qn[0].r&&(mn.e.r=qn[0].r);break;case 27:qn[14e3]&&(yn[qn[14e3][0]]=qn[14e3][1]);break;case 1537:yn[qn[0]]=qn[1],qn[0]==qr&&(Or=qn[1]);break}},Pr);else throw new Error("Unrecognized LOTUS BOF "+hr[2]);if(Cr["!ref"]=encode_range(mn),Kr[Yr||Or]=Cr,Zr.push(Yr||Or),!yn.length)return{SheetNames:Zr,Sheets:Kr};for(var bn={},wn=[],Jr=0;Jr<yn.length;++Jr)Kr[Zr[Jr]]?(wn.push(yn[Jr]||Zr[Jr]),bn[yn[Jr]]=Kr[yn[Jr]]||Kr[Zr[Jr]]):(wn.push(yn[Jr]),bn[yn[Jr]]={"!ref":"A1"});return{SheetNames:wn,Sheets:bn}}function Pe(hr,_r){var Pr=_r||{};if(+Pr.codepage>=0&&set_cp(+Pr.codepage),Pr.type=="string")throw new Error("Cannot write WK1 to JS string");var Cr=buf_array(),Or=safe_decode_range(hr["!ref"]),Yr=Array.isArray(hr),qr=[];write_biff_rec(Cr,0,Ie(1030)),write_biff_rec(Cr,6,De(Or));for(var Kr=Math.min(Or.e.r,8191),Zr=Or.s.r;Zr<=Kr;++Zr)for(var yn=encode_row(Zr),mn=Or.s.c;mn<=Or.e.c;++mn){Zr===Or.s.r&&(qr[mn]=encode_col(mn));var Cn=qr[mn]+yn,bn=Yr?(hr[Zr]||[])[mn]:hr[Cn];if(!(!bn||bn.t=="z"))if(bn.t=="n")(bn.v|0)==bn.v&&bn.v>=-32768&&bn.v<=32767?write_biff_rec(Cr,13,$e(Zr,mn,bn.v)):write_biff_rec(Cr,14,Qe(Zr,mn,bn.v));else{var wn=format_cell(bn);write_biff_rec(Cr,15,ke(Zr,mn,wn.slice(0,239)))}}return write_biff_rec(Cr,1),Cr.end()}function Re(hr,_r){var Pr=_r||{};if(+Pr.codepage>=0&&set_cp(+Pr.codepage),Pr.type=="string")throw new Error("Cannot write WK3 to JS string");var Cr=buf_array();write_biff_rec(Cr,0,Be(hr));for(var Or=0,Yr=0;Or<hr.SheetNames.length;++Or)(hr.Sheets[hr.SheetNames[Or]]||{})["!ref"]&&write_biff_rec(Cr,27,br(hr.SheetNames[Or],Yr++));var qr=0;for(Or=0;Or<hr.SheetNames.length;++Or){var Kr=hr.Sheets[hr.SheetNames[Or]];if(!(!Kr||!Kr["!ref"])){for(var Zr=safe_decode_range(Kr["!ref"]),yn=Array.isArray(Kr),mn=[],Cn=Math.min(Zr.e.r,8191),bn=Zr.s.r;bn<=Cn;++bn)for(var wn=encode_row(bn),Jr=Zr.s.c;Jr<=Zr.e.c;++Jr){bn===Zr.s.r&&(mn[Jr]=encode_col(Jr));var qn=mn[Jr]+wn,ci=yn?(Kr[bn]||[])[Jr]:Kr[qn];if(!(!ci||ci.t=="z"))if(ci.t=="n")write_biff_rec(Cr,23,pr(bn,Jr,qr,ci.v));else{var Jn=format_cell(ci);write_biff_rec(Cr,22,Je(bn,Jr,qr,Jn.slice(0,239)))}}++qr}}return write_biff_rec(Cr,1),Cr.end()}function Ie(hr){var _r=new_buf(2);return _r.write_shift(2,hr),_r}function Be(hr){var _r=new_buf(26);_r.write_shift(2,4096),_r.write_shift(2,4),_r.write_shift(4,0);for(var Pr=0,Cr=0,Or=0,Yr=0;Yr<hr.SheetNames.length;++Yr){var qr=hr.SheetNames[Yr],Kr=hr.Sheets[qr];if(!(!Kr||!Kr["!ref"])){++Or;var Zr=decode_range(Kr["!ref"]);Pr<Zr.e.r&&(Pr=Zr.e.r),Cr<Zr.e.c&&(Cr=Zr.e.c)}}return Pr>8191&&(Pr=8191),_r.write_shift(2,Pr),_r.write_shift(1,Or),_r.write_shift(1,Cr),_r.write_shift(2,0),_r.write_shift(2,0),_r.write_shift(1,1),_r.write_shift(1,2),_r.write_shift(4,0),_r.write_shift(4,0),_r}function je(hr,_r,Pr){var Cr={s:{c:0,r:0},e:{c:0,r:0}};return _r==8&&Pr.qpro?(Cr.s.c=hr.read_shift(1),hr.l++,Cr.s.r=hr.read_shift(2),Cr.e.c=hr.read_shift(1),hr.l++,Cr.e.r=hr.read_shift(2),Cr):(Cr.s.c=hr.read_shift(2),Cr.s.r=hr.read_shift(2),_r==12&&Pr.qpro&&(hr.l+=2),Cr.e.c=hr.read_shift(2),Cr.e.r=hr.read_shift(2),_r==12&&Pr.qpro&&(hr.l+=2),Cr.s.c==65535&&(Cr.s.c=Cr.e.c=Cr.s.r=Cr.e.r=0),Cr)}function De(hr){var _r=new_buf(8);return _r.write_shift(2,hr.s.c),_r.write_shift(2,hr.s.r),_r.write_shift(2,hr.e.c),_r.write_shift(2,hr.e.r),_r}function Fe(hr,_r,Pr){var Cr=[{c:0,r:0},{t:"n",v:0},0,0];return Pr.qpro&&Pr.vers!=20768?(Cr[0].c=hr.read_shift(1),Cr[3]=hr.read_shift(1),Cr[0].r=hr.read_shift(2),hr.l+=2):(Cr[2]=hr.read_shift(1),Cr[0].c=hr.read_shift(2),Cr[0].r=hr.read_shift(2)),Cr}function Oe(hr,_r,Pr){var Cr=hr.l+_r,Or=Fe(hr,_r,Pr);if(Or[1].t="s",Pr.vers==20768){hr.l++;var Yr=hr.read_shift(1);return Or[1].v=hr.read_shift(Yr,"utf8"),Or}return Pr.qpro&&hr.l++,Or[1].v=hr.read_shift(Cr-hr.l,"cstr"),Or}function ke(hr,_r,Pr){var Cr=new_buf(7+Pr.length);Cr.write_shift(1,255),Cr.write_shift(2,_r),Cr.write_shift(2,hr),Cr.write_shift(1,39);for(var Or=0;Or<Cr.length;++Or){var Yr=Pr.charCodeAt(Or);Cr.write_shift(1,Yr>=128?95:Yr)}return Cr.write_shift(1,0),Cr}function Me(hr,_r,Pr){var Cr=Fe(hr,_r,Pr);return Cr[1].v=hr.read_shift(2,"i"),Cr}function $e(hr,_r,Pr){var Cr=new_buf(7);return Cr.write_shift(1,255),Cr.write_shift(2,_r),Cr.write_shift(2,hr),Cr.write_shift(2,Pr,"i"),Cr}function He(hr,_r,Pr){var Cr=Fe(hr,_r,Pr);return Cr[1].v=hr.read_shift(8,"f"),Cr}function Qe(hr,_r,Pr){var Cr=new_buf(13);return Cr.write_shift(1,255),Cr.write_shift(2,_r),Cr.write_shift(2,hr),Cr.write_shift(8,Pr,"f"),Cr}function Ke(hr,_r,Pr){var Cr=hr.l+_r,Or=Fe(hr,_r,Pr);if(Or[1].v=hr.read_shift(8,"f"),Pr.qpro)hr.l=Cr;else{var Yr=hr.read_shift(2);Ye(hr.slice(hr.l,hr.l+Yr),Or),hr.l+=Yr}return Or}function ze(hr,_r,Pr){var Cr=_r&32768;return _r&=-32769,_r=(Cr?hr:0)+(_r>=8192?_r-16384:_r),(Cr?"":"$")+(Pr?encode_col(_r):encode_row(_r))}var We={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},qe=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Ye(hr,_r){prep_blob(hr,0);for(var Pr=[],Cr=0,Or="",Yr="",qr="",Kr="";hr.l<hr.length;){var Zr=hr[hr.l++];switch(Zr){case 0:Pr.push(hr.read_shift(8,"f"));break;case 1:Yr=ze(_r[0].c,hr.read_shift(2),!0),Or=ze(_r[0].r,hr.read_shift(2),!1),Pr.push(Yr+Or);break;case 2:{var yn=ze(_r[0].c,hr.read_shift(2),!0),mn=ze(_r[0].r,hr.read_shift(2),!1);Yr=ze(_r[0].c,hr.read_shift(2),!0),Or=ze(_r[0].r,hr.read_shift(2),!1),Pr.push(yn+mn+":"+Yr+Or)}break;case 3:if(hr.l<hr.length){console.error("WK1 premature formula end");return}break;case 4:Pr.push("("+Pr.pop()+")");break;case 5:Pr.push(hr.read_shift(2));break;case 6:{for(var Cn="";Zr=hr[hr.l++];)Cn+=String.fromCharCode(Zr);Pr.push('"'+Cn.replace(/"/g,'""')+'"')}break;case 8:Pr.push("-"+Pr.pop());break;case 23:Pr.push("+"+Pr.pop());break;case 22:Pr.push("NOT("+Pr.pop()+")");break;case 20:case 21:Kr=Pr.pop(),qr=Pr.pop(),Pr.push(["AND","OR"][Zr-20]+"("+qr+","+Kr+")");break;default:if(Zr<32&&qe[Zr])Kr=Pr.pop(),qr=Pr.pop(),Pr.push(qr+qe[Zr]+Kr);else if(We[Zr]){if(Cr=We[Zr][1],Cr==69&&(Cr=hr[hr.l++]),Cr>Pr.length){console.error("WK1 bad formula parse 0x"+Zr.toString(16)+":|"+Pr.join("|")+"|");return}var bn=Pr.slice(-Cr);Pr.length-=Cr,Pr.push(We[Zr][0]+"("+bn.join(",")+")")}else return Zr<=7?console.error("WK1 invalid opcode "+Zr.toString(16)):Zr<=24?console.error("WK1 unsupported op "+Zr.toString(16)):Zr<=30?console.error("WK1 invalid opcode "+Zr.toString(16)):Zr<=115?console.error("WK1 unsupported function opcode "+Zr.toString(16)):console.error("WK1 unrecognized opcode "+Zr.toString(16))}}Pr.length==1?_r[1].f=""+Pr[0]:console.error("WK1 bad formula parse |"+Pr.join("|")+"|")}function Xe(hr){var _r=[{c:0,r:0},{t:"n",v:0},0];return _r[0].r=hr.read_shift(2),_r[3]=hr[hr.l++],_r[0].c=hr[hr.l++],_r}function rr(hr,_r){var Pr=Xe(hr);return Pr[1].t="s",Pr[1].v=hr.read_shift(_r-4,"cstr"),Pr}function Je(hr,_r,Pr,Cr){var Or=new_buf(6+Cr.length);Or.write_shift(2,hr),Or.write_shift(1,Pr),Or.write_shift(1,_r),Or.write_shift(1,39);for(var Yr=0;Yr<Cr.length;++Yr){var qr=Cr.charCodeAt(Yr);Or.write_shift(1,qr>=128?95:qr)}return Or.write_shift(1,0),Or}function er(hr,_r){var Pr=Xe(hr);Pr[1].v=hr.read_shift(2);var Cr=Pr[1].v>>1;if(Pr[1].v&1)switch(Cr&7){case 0:Cr=(Cr>>3)*5e3;break;case 1:Cr=(Cr>>3)*500;break;case 2:Cr=(Cr>>3)/20;break;case 3:Cr=(Cr>>3)/200;break;case 4:Cr=(Cr>>3)/2e3;break;case 5:Cr=(Cr>>3)/2e4;break;case 6:Cr=(Cr>>3)/16;break;case 7:Cr=(Cr>>3)/64;break}return Pr[1].v=Cr,Pr}function or(hr,_r){var Pr=Xe(hr),Cr=hr.read_shift(4),Or=hr.read_shift(4),Yr=hr.read_shift(2);if(Yr==65535)return Cr===0&&Or===3221225472?(Pr[1].t="e",Pr[1].v=15):Cr===0&&Or===3489660928?(Pr[1].t="e",Pr[1].v=42):Pr[1].v=0,Pr;var qr=Yr&32768;return Yr=(Yr&32767)-16446,Pr[1].v=(1-qr*2)*(Or*Math.pow(2,Yr+32)+Cr*Math.pow(2,Yr)),Pr}function pr(hr,_r,Pr,Cr){var Or=new_buf(14);if(Or.write_shift(2,hr),Or.write_shift(1,Pr),Or.write_shift(1,_r),Cr==0)return Or.write_shift(4,0),Or.write_shift(4,0),Or.write_shift(2,65535),Or;var Yr=0,qr=0,Kr=0,Zr=0;return Cr<0&&(Yr=1,Cr=-Cr),qr=Math.log2(Cr)|0,Cr/=Math.pow(2,qr-31),Zr=Cr>>>0,(Zr&2147483648)==0&&(Cr/=2,++qr,Zr=Cr>>>0),Cr-=Zr,Zr|=2147483648,Zr>>>=0,Cr*=Math.pow(2,32),Kr=Cr>>>0,Or.write_shift(4,Kr),Or.write_shift(4,Zr),qr+=16383+(Yr?32768:0),Or.write_shift(2,qr),Or}function ar(hr,_r){var Pr=or(hr);return hr.l+=_r-14,Pr}function fr(hr,_r){var Pr=Xe(hr),Cr=hr.read_shift(4);return Pr[1].v=Cr>>6,Pr}function gr(hr,_r){var Pr=Xe(hr),Cr=hr.read_shift(8,"f");return Pr[1].v=Cr,Pr}function Rr(hr,_r){var Pr=gr(hr);return hr.l+=_r-10,Pr}function Ir(hr,_r){return hr[hr.l+_r-1]==0?hr.read_shift(_r,"cstr"):""}function mr(hr,_r){var Pr=hr[hr.l++];Pr>_r-1&&(Pr=_r-1);for(var Cr="";Cr.length<Pr;)Cr+=String.fromCharCode(hr[hr.l++]);return Cr}function Er(hr,_r,Pr){if(!(!Pr.qpro||_r<21)){var Cr=hr.read_shift(1);hr.l+=17,hr.l+=1,hr.l+=2;var Or=hr.read_shift(_r-21,"cstr");return[Cr,Or]}}function Ar(hr,_r){for(var Pr={},Cr=hr.l+_r;hr.l<Cr;){var Or=hr.read_shift(2);if(Or==14e3){for(Pr[Or]=[0,""],Pr[Or][0]=hr.read_shift(2);hr[hr.l];)Pr[Or][1]+=String.fromCharCode(hr[hr.l]),hr.l++;hr.l++}}return Pr}function br(hr,_r){var Pr=new_buf(5+hr.length);Pr.write_shift(2,14e3),Pr.write_shift(2,_r);for(var Cr=0;Cr<hr.length;++Cr){var Or=hr.charCodeAt(Cr);Pr[Pr.l++]=Or>127?95:Or}return Pr[Pr.l++]=0,Pr}var wr={0:{n:"BOF",f:parseuint16},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:je},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:Me},14:{n:"NUMBER",f:He},15:{n:"LABEL",f:Oe},16:{n:"FORMULA",f:Ke},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:Oe},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ir},222:{n:"SHEETNAMELP",f:mr},65535:{n:""}},jr={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:rr},23:{n:"NUMBER17",f:or},24:{n:"NUMBER18",f:er},25:{n:"FORMULA19",f:ar},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ar},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:fr},38:{n:"??"},39:{n:"NUMBER27",f:gr},40:{n:"FORMULA28",f:Rr},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ir},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Er},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:Pe,book_to_wk3:Re,to_workbook:_e}}(),straywsregex=/^\s|\s$|[\t\n\r]/;function write_sst_xml(Ee,_e){if(!_e.bookSST)return"";var Ce=[XML_HEADER];Ce[Ce.length]=writextag("sst",null,{xmlns:XMLNS_main[0],count:Ee.Count,uniqueCount:Ee.Unique});for(var Pe=0;Pe!=Ee.length;++Pe)if(Ee[Pe]!=null){var Re=Ee[Pe],Ie="<si>";Re.r?Ie+=Re.r:(Ie+="<t",Re.t||(Re.t=""),Re.t.match(straywsregex)&&(Ie+=' xml:space="preserve"'),Ie+=">"+escapexml(Re.t)+"</t>"),Ie+="</si>",Ce[Ce.length]=Ie}return Ce.length>2&&(Ce[Ce.length]="</sst>",Ce[1]=Ce[1].replace("/>",">")),Ce.join("")}function parse_BrtBeginSst(Ee){return[Ee.read_shift(4),Ee.read_shift(4)]}function write_BrtBeginSst(Ee,_e){return _e||(_e=new_buf(8)),_e.write_shift(4,Ee.Count),_e.write_shift(4,Ee.Unique),_e}var write_BrtSSTItem=write_RichStr;function write_sst_bin(Ee){var _e=buf_array();write_record(_e,159,write_BrtBeginSst(Ee));for(var Ce=0;Ce<Ee.length;++Ce)write_record(_e,19,write_BrtSSTItem(Ee[Ce]));return write_record(_e,160),_e.end()}function _JS2ANSI(Ee){for(var _e=[],Ce=Ee.split(""),Pe=0;Pe<Ce.length;++Pe)_e[Pe]=Ce[Pe].charCodeAt(0);return _e}function crypto_CreatePasswordVerifier_Method1(Ee){var _e=0,Ce,Pe=_JS2ANSI(Ee),Re=Pe.length+1,Ie,Be,je,De,Fe;for(Ce=new_raw_buf(Re),Ce[0]=Pe.length,Ie=1;Ie!=Re;++Ie)Ce[Ie]=Pe[Ie-1];for(Ie=Re-1;Ie>=0;--Ie)Be=Ce[Ie],je=(_e&16384)===0?0:1,De=_e<<1&32767,Fe=je|De,_e=Fe^Be;return _e^52811}var RTF=function(){function Ee(Re,Ie){switch(Ie.type){case"base64":return _e(Base64_decode(Re),Ie);case"binary":return _e(Re,Ie);case"buffer":return _e(has_buf&&Buffer.isBuffer(Re)?Re.toString("binary"):a2s(Re),Ie);case"array":return _e(cc2str(Re),Ie)}throw new Error("Unrecognized type "+Ie.type)}function _e(Re,Ie){var Be=Ie||{},je=Be.dense?[]:{},De=Re.match(/\\trowd.*?\\row\b/g);if(!De.length)throw new Error("RTF missing table");var Fe={s:{c:0,r:0},e:{c:0,r:De.length-1}};return De.forEach(function(Oe,ke){Array.isArray(je)&&(je[ke]=[]);for(var Me=/\\\w+\b/g,$e=0,He,Qe=-1;He=Me.exec(Oe);){switch(He[0]){case"\\cell":var Ke=Oe.slice($e,Me.lastIndex-He[0].length);if(Ke[0]==" "&&(Ke=Ke.slice(1)),++Qe,Ke.length){var ze={v:Ke,t:"s"};Array.isArray(je)?je[ke][Qe]=ze:je[encode_cell({r:ke,c:Qe})]=ze}break}$e=Me.lastIndex}Qe>Fe.e.c&&(Fe.e.c=Qe)}),je["!ref"]=encode_range(Fe),je}function Ce(Re,Ie){return sheet_to_workbook(Ee(Re,Ie),Ie)}function Pe(Re){for(var Ie=["{\\rtf1\\ansi"],Be=safe_decode_range(Re["!ref"]),je,De=Array.isArray(Re),Fe=Be.s.r;Fe<=Be.e.r;++Fe){Ie.push("\\trowd\\trautofit1");for(var Oe=Be.s.c;Oe<=Be.e.c;++Oe)Ie.push("\\cellx"+(Oe+1));for(Ie.push("\\pard\\intbl"),Oe=Be.s.c;Oe<=Be.e.c;++Oe){var ke=encode_cell({r:Fe,c:Oe});je=De?(Re[Fe]||[])[Oe]:Re[ke],!(!je||je.v==null&&(!je.f||je.F))&&(Ie.push(" "+(je.w||(format_cell(je),je.w))),Ie.push("\\cell"))}Ie.push("\\pard\\intbl\\row")}return Ie.join("")+"}"}return{to_workbook:Ce,to_sheet:Ee,from_sheet:Pe}}();function rgb2Hex(Ee){for(var _e=0,Ce=1;_e!=3;++_e)Ce=Ce*256+(Ee[_e]>255?255:Ee[_e]<0?0:Ee[_e]);return Ce.toString(16).toUpperCase().slice(1)}var DEF_MDW=6,MDW=DEF_MDW;function width2px(Ee){return Math.floor((Ee+Math.round(128/MDW)/256)*MDW)}function px2char(Ee){return Math.floor((Ee-5)/MDW*100+.5)/100}function char2width(Ee){return Math.round((Ee*MDW+5)/MDW*256)/256}function process_col(Ee){Ee.width?(Ee.wpx=width2px(Ee.width),Ee.wch=px2char(Ee.wpx),Ee.MDW=MDW):Ee.wpx?(Ee.wch=px2char(Ee.wpx),Ee.width=char2width(Ee.wch),Ee.MDW=MDW):typeof Ee.wch=="number"&&(Ee.width=char2width(Ee.wch),Ee.wpx=width2px(Ee.width),Ee.MDW=MDW),Ee.customWidth&&delete Ee.customWidth}var DEF_PPI=96,PPI=DEF_PPI;function px2pt(Ee){return Ee*96/PPI}function pt2px(Ee){return Ee*PPI/96}function write_numFmts(Ee){var _e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(Ce){for(var Pe=Ce[0];Pe<=Ce[1];++Pe)Ee[Pe]!=null&&(_e[_e.length]=writextag("numFmt",null,{numFmtId:Pe,formatCode:escapexml(Ee[Pe])}))}),_e.length===1?"":(_e[_e.length]="</numFmts>",_e[0]=writextag("numFmts",null,{count:_e.length-2}).replace("/>",">"),_e.join(""))}function write_cellXfs(Ee){var _e=[];return _e[_e.length]=writextag("cellXfs",null),Ee.forEach(function(Ce){_e[_e.length]=writextag("xf",null,Ce)}),_e[_e.length]="</cellXfs>",_e.length===2?"":(_e[0]=writextag("cellXfs",null,{count:_e.length-2}).replace("/>",">"),_e.join(""))}function write_sty_xml(Ee,_e){var Ce=[XML_HEADER,writextag("styleSheet",null,{xmlns:XMLNS_main[0],"xmlns:vt":XMLNS.vt})],Pe;return Ee.SSF&&(Pe=write_numFmts(Ee.SSF))!=null&&(Ce[Ce.length]=Pe),Ce[Ce.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',Ce[Ce.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',Ce[Ce.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',Ce[Ce.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(Pe=write_cellXfs(_e.cellXfs))&&(Ce[Ce.length]=Pe),Ce[Ce.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',Ce[Ce.length]='<dxfs count="0"/>',Ce[Ce.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',Ce.length>2&&(Ce[Ce.length]="</styleSheet>",Ce[1]=Ce[1].replace("/>",">")),Ce.join("")}function parse_BrtFmt(Ee,_e){var Ce=Ee.read_shift(2),Pe=parse_XLWideString(Ee);return[Ce,Pe]}function write_BrtFmt(Ee,_e,Ce){Ce||(Ce=new_buf(6+4*_e.length)),Ce.write_shift(2,Ee),write_XLWideString(_e,Ce);var Pe=Ce.length>Ce.l?Ce.slice(0,Ce.l):Ce;return Ce.l==null&&(Ce.l=Ce.length),Pe}function parse_BrtFont(Ee,_e,Ce){var Pe={};Pe.sz=Ee.read_shift(2)/20;var Re=parse_FontFlags(Ee);Re.fItalic&&(Pe.italic=1),Re.fCondense&&(Pe.condense=1),Re.fExtend&&(Pe.extend=1),Re.fShadow&&(Pe.shadow=1),Re.fOutline&&(Pe.outline=1),Re.fStrikeout&&(Pe.strike=1);var Ie=Ee.read_shift(2);switch(Ie===700&&(Pe.bold=1),Ee.read_shift(2)){case 1:Pe.vertAlign="superscript";break;case 2:Pe.vertAlign="subscript";break}var Be=Ee.read_shift(1);Be!=0&&(Pe.underline=Be);var je=Ee.read_shift(1);je>0&&(Pe.family=je);var De=Ee.read_shift(1);switch(De>0&&(Pe.charset=De),Ee.l++,Pe.color=parse_BrtColor(Ee),Ee.read_shift(1)){case 1:Pe.scheme="major";break;case 2:Pe.scheme="minor";break}return Pe.name=parse_XLWideString(Ee),Pe}function write_BrtFont(Ee,_e){_e||(_e=new_buf(153)),_e.write_shift(2,Ee.sz*20),write_FontFlags(Ee,_e),_e.write_shift(2,Ee.bold?700:400);var Ce=0;Ee.vertAlign=="superscript"?Ce=1:Ee.vertAlign=="subscript"&&(Ce=2),_e.write_shift(2,Ce),_e.write_shift(1,Ee.underline||0),_e.write_shift(1,Ee.family||0),_e.write_shift(1,Ee.charset||0),_e.write_shift(1,0),write_BrtColor(Ee.color,_e);var Pe=0;return Pe=2,_e.write_shift(1,Pe),write_XLWideString(Ee.name,_e),_e.length>_e.l?_e.slice(0,_e.l):_e}var XLSBFillPTNames=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rev_XLSBFillPTNames,parse_BrtFill=parsenoop;function write_BrtFill(Ee,_e){_e||(_e=new_buf(84)),rev_XLSBFillPTNames||(rev_XLSBFillPTNames=evert(XLSBFillPTNames));var Ce=rev_XLSBFillPTNames[Ee.patternType];Ce==null&&(Ce=40),_e.write_shift(4,Ce);var Pe=0;if(Ce!=40)for(write_BrtColor({auto:1},_e),write_BrtColor({auto:1},_e);Pe<12;++Pe)_e.write_shift(4,0);else{for(;Pe<4;++Pe)_e.write_shift(4,0);for(;Pe<12;++Pe)_e.write_shift(4,0)}return _e.length>_e.l?_e.slice(0,_e.l):_e}function parse_BrtXF(Ee,_e){var Ce=Ee.l+_e,Pe=Ee.read_shift(2),Re=Ee.read_shift(2);return Ee.l=Ce,{ixfe:Pe,numFmtId:Re}}function write_BrtXF(Ee,_e,Ce){Ce||(Ce=new_buf(16)),Ce.write_shift(2,_e||0),Ce.write_shift(2,Ee.numFmtId||0),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(1,0),Ce.write_shift(1,0);var Pe=0;return Ce.write_shift(1,Pe),Ce.write_shift(1,0),Ce.write_shift(1,0),Ce.write_shift(1,0),Ce}function write_Blxf(Ee,_e){return _e||(_e=new_buf(10)),_e.write_shift(1,0),_e.write_shift(1,0),_e.write_shift(4,0),_e.write_shift(4,0),_e}var parse_BrtBorder=parsenoop;function write_BrtBorder(Ee,_e){return _e||(_e=new_buf(51)),_e.write_shift(1,0),write_Blxf(null,_e),write_Blxf(null,_e),write_Blxf(null,_e),write_Blxf(null,_e),write_Blxf(null,_e),_e.length>_e.l?_e.slice(0,_e.l):_e}function write_BrtStyle(Ee,_e){return _e||(_e=new_buf(52)),_e.write_shift(4,Ee.xfId),_e.write_shift(2,1),_e.write_shift(1,0),_e.write_shift(1,0),write_XLNullableWideString(Ee.name||"",_e),_e.length>_e.l?_e.slice(0,_e.l):_e}function write_BrtBeginTableStyles(Ee,_e,Ce){var Pe=new_buf(2052);return Pe.write_shift(4,Ee),write_XLNullableWideString(_e,Pe),write_XLNullableWideString(Ce,Pe),Pe.length>Pe.l?Pe.slice(0,Pe.l):Pe}function write_FMTS_bin(Ee,_e){if(_e){var Ce=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(Pe){for(var Re=Pe[0];Re<=Pe[1];++Re)_e[Re]!=null&&++Ce}),Ce!=0&&(write_record(Ee,615,write_UInt32LE(Ce)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(Pe){for(var Re=Pe[0];Re<=Pe[1];++Re)_e[Re]!=null&&write_record(Ee,44,write_BrtFmt(Re,_e[Re]))}),write_record(Ee,616))}}function write_FONTS_bin(Ee){var _e=1;write_record(Ee,611,write_UInt32LE(_e)),write_record(Ee,43,write_BrtFont({sz:12,color:{theme:1},name:"Calibri",family:2})),write_record(Ee,612)}function write_FILLS_bin(Ee){var _e=2;write_record(Ee,603,write_UInt32LE(_e)),write_record(Ee,45,write_BrtFill({patternType:"none"})),write_record(Ee,45,write_BrtFill({patternType:"gray125"})),write_record(Ee,604)}function write_BORDERS_bin(Ee){var _e=1;write_record(Ee,613,write_UInt32LE(_e)),write_record(Ee,46,write_BrtBorder()),write_record(Ee,614)}function write_CELLSTYLEXFS_bin(Ee){var _e=1;write_record(Ee,626,write_UInt32LE(_e)),write_record(Ee,47,write_BrtXF({numFmtId:0},65535)),write_record(Ee,627)}function write_CELLXFS_bin(Ee,_e){write_record(Ee,617,write_UInt32LE(_e.length)),_e.forEach(function(Ce){write_record(Ee,47,write_BrtXF(Ce,0))}),write_record(Ee,618)}function write_STYLES_bin(Ee){var _e=1;write_record(Ee,619,write_UInt32LE(_e)),write_record(Ee,48,write_BrtStyle({xfId:0,name:"Normal"})),write_record(Ee,620)}function write_DXFS_bin(Ee){var _e=0;write_record(Ee,505,write_UInt32LE(_e)),write_record(Ee,506)}function write_TABLESTYLES_bin(Ee){var _e=0;write_record(Ee,508,write_BrtBeginTableStyles(_e,"TableStyleMedium9","PivotStyleMedium4")),write_record(Ee,509)}function write_sty_bin(Ee,_e){var Ce=buf_array();return write_record(Ce,278),write_FMTS_bin(Ce,Ee.SSF),write_FONTS_bin(Ce),write_FILLS_bin(Ce),write_BORDERS_bin(Ce),write_CELLSTYLEXFS_bin(Ce),write_CELLXFS_bin(Ce,_e.cellXfs),write_STYLES_bin(Ce),write_DXFS_bin(Ce),write_TABLESTYLES_bin(Ce),write_record(Ce,279),Ce.end()}function write_theme(Ee,_e){if(_e&&_e.themeXLSX)return _e.themeXLSX;if(Ee&&typeof Ee.raw=="string")return Ee.raw;var Ce=[XML_HEADER];return Ce[Ce.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',Ce[Ce.length]="<a:themeElements>",Ce[Ce.length]='<a:clrScheme name="Office">',Ce[Ce.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',Ce[Ce.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',Ce[Ce.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',Ce[Ce.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',Ce[Ce.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',Ce[Ce.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',Ce[Ce.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',Ce[Ce.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',Ce[Ce.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',Ce[Ce.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',Ce[Ce.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',Ce[Ce.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',Ce[Ce.length]="</a:clrScheme>",Ce[Ce.length]='<a:fontScheme name="Office">',Ce[Ce.length]="<a:majorFont>",Ce[Ce.length]='<a:latin typeface="Cambria"/>',Ce[Ce.length]='<a:ea typeface=""/>',Ce[Ce.length]='<a:cs typeface=""/>',Ce[Ce.length]='<a:font script="Jpan" typeface=" "/>',Ce[Ce.length]='<a:font script="Hang" typeface=" "/>',Ce[Ce.length]='<a:font script="Hans" typeface=""/>',Ce[Ce.length]='<a:font script="Hant" typeface=""/>',Ce[Ce.length]='<a:font script="Arab" typeface="Times New Roman"/>',Ce[Ce.length]='<a:font script="Hebr" typeface="Times New Roman"/>',Ce[Ce.length]='<a:font script="Thai" typeface="Tahoma"/>',Ce[Ce.length]='<a:font script="Ethi" typeface="Nyala"/>',Ce[Ce.length]='<a:font script="Beng" typeface="Vrinda"/>',Ce[Ce.length]='<a:font script="Gujr" typeface="Shruti"/>',Ce[Ce.length]='<a:font script="Khmr" typeface="MoolBoran"/>',Ce[Ce.length]='<a:font script="Knda" typeface="Tunga"/>',Ce[Ce.length]='<a:font script="Guru" typeface="Raavi"/>',Ce[Ce.length]='<a:font script="Cans" typeface="Euphemia"/>',Ce[Ce.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',Ce[Ce.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',Ce[Ce.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',Ce[Ce.length]='<a:font script="Thaa" typeface="MV Boli"/>',Ce[Ce.length]='<a:font script="Deva" typeface="Mangal"/>',Ce[Ce.length]='<a:font script="Telu" typeface="Gautami"/>',Ce[Ce.length]='<a:font script="Taml" typeface="Latha"/>',Ce[Ce.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',Ce[Ce.length]='<a:font script="Orya" typeface="Kalinga"/>',Ce[Ce.length]='<a:font script="Mlym" typeface="Kartika"/>',Ce[Ce.length]='<a:font script="Laoo" typeface="DokChampa"/>',Ce[Ce.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',Ce[Ce.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',Ce[Ce.length]='<a:font script="Viet" typeface="Times New Roman"/>',Ce[Ce.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',Ce[Ce.length]='<a:font script="Geor" typeface="Sylfaen"/>',Ce[Ce.length]="</a:majorFont>",Ce[Ce.length]="<a:minorFont>",Ce[Ce.length]='<a:latin typeface="Calibri"/>',Ce[Ce.length]='<a:ea typeface=""/>',Ce[Ce.length]='<a:cs typeface=""/>',Ce[Ce.length]='<a:font script="Jpan" typeface=" "/>',Ce[Ce.length]='<a:font script="Hang" typeface=" "/>',Ce[Ce.length]='<a:font script="Hans" typeface=""/>',Ce[Ce.length]='<a:font script="Hant" typeface=""/>',Ce[Ce.length]='<a:font script="Arab" typeface="Arial"/>',Ce[Ce.length]='<a:font script="Hebr" typeface="Arial"/>',Ce[Ce.length]='<a:font script="Thai" typeface="Tahoma"/>',Ce[Ce.length]='<a:font script="Ethi" typeface="Nyala"/>',Ce[Ce.length]='<a:font script="Beng" typeface="Vrinda"/>',Ce[Ce.length]='<a:font script="Gujr" typeface="Shruti"/>',Ce[Ce.length]='<a:font script="Khmr" typeface="DaunPenh"/>',Ce[Ce.length]='<a:font script="Knda" typeface="Tunga"/>',Ce[Ce.length]='<a:font script="Guru" typeface="Raavi"/>',Ce[Ce.length]='<a:font script="Cans" typeface="Euphemia"/>',Ce[Ce.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',Ce[Ce.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',Ce[Ce.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',Ce[Ce.length]='<a:font script="Thaa" typeface="MV Boli"/>',Ce[Ce.length]='<a:font script="Deva" typeface="Mangal"/>',Ce[Ce.length]='<a:font script="Telu" typeface="Gautami"/>',Ce[Ce.length]='<a:font script="Taml" typeface="Latha"/>',Ce[Ce.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',Ce[Ce.length]='<a:font script="Orya" typeface="Kalinga"/>',Ce[Ce.length]='<a:font script="Mlym" typeface="Kartika"/>',Ce[Ce.length]='<a:font script="Laoo" typeface="DokChampa"/>',Ce[Ce.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',Ce[Ce.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',Ce[Ce.length]='<a:font script="Viet" typeface="Arial"/>',Ce[Ce.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',Ce[Ce.length]='<a:font script="Geor" typeface="Sylfaen"/>',Ce[Ce.length]="</a:minorFont>",Ce[Ce.length]="</a:fontScheme>",Ce[Ce.length]='<a:fmtScheme name="Office">',Ce[Ce.length]="<a:fillStyleLst>",Ce[Ce.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',Ce[Ce.length]='<a:gradFill rotWithShape="1">',Ce[Ce.length]="<a:gsLst>",Ce[Ce.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',Ce[Ce.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',Ce[Ce.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',Ce[Ce.length]="</a:gsLst>",Ce[Ce.length]='<a:lin ang="16200000" scaled="1"/>',Ce[Ce.length]="</a:gradFill>",Ce[Ce.length]='<a:gradFill rotWithShape="1">',Ce[Ce.length]="<a:gsLst>",Ce[Ce.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',Ce[Ce.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',Ce[Ce.length]="</a:gsLst>",Ce[Ce.length]='<a:lin ang="16200000" scaled="0"/>',Ce[Ce.length]="</a:gradFill>",Ce[Ce.length]="</a:fillStyleLst>",Ce[Ce.length]="<a:lnStyleLst>",Ce[Ce.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',Ce[Ce.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',Ce[Ce.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',Ce[Ce.length]="</a:lnStyleLst>",Ce[Ce.length]="<a:effectStyleLst>",Ce[Ce.length]="<a:effectStyle>",Ce[Ce.length]="<a:effectLst>",Ce[Ce.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',Ce[Ce.length]="</a:effectLst>",Ce[Ce.length]="</a:effectStyle>",Ce[Ce.length]="<a:effectStyle>",Ce[Ce.length]="<a:effectLst>",Ce[Ce.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',Ce[Ce.length]="</a:effectLst>",Ce[Ce.length]="</a:effectStyle>",Ce[Ce.length]="<a:effectStyle>",Ce[Ce.length]="<a:effectLst>",Ce[Ce.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',Ce[Ce.length]="</a:effectLst>",Ce[Ce.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',Ce[Ce.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',Ce[Ce.length]="</a:effectStyle>",Ce[Ce.length]="</a:effectStyleLst>",Ce[Ce.length]="<a:bgFillStyleLst>",Ce[Ce.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',Ce[Ce.length]='<a:gradFill rotWithShape="1">',Ce[Ce.length]="<a:gsLst>",Ce[Ce.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',Ce[Ce.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',Ce[Ce.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',Ce[Ce.length]="</a:gsLst>",Ce[Ce.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',Ce[Ce.length]="</a:gradFill>",Ce[Ce.length]='<a:gradFill rotWithShape="1">',Ce[Ce.length]="<a:gsLst>",Ce[Ce.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',Ce[Ce.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',Ce[Ce.length]="</a:gsLst>",Ce[Ce.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',Ce[Ce.length]="</a:gradFill>",Ce[Ce.length]="</a:bgFillStyleLst>",Ce[Ce.length]="</a:fmtScheme>",Ce[Ce.length]="</a:themeElements>",Ce[Ce.length]="<a:objectDefaults>",Ce[Ce.length]="<a:spDef>",Ce[Ce.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',Ce[Ce.length]="</a:spDef>",Ce[Ce.length]="<a:lnDef>",Ce[Ce.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',Ce[Ce.length]="</a:lnDef>",Ce[Ce.length]="</a:objectDefaults>",Ce[Ce.length]="<a:extraClrSchemeLst/>",Ce[Ce.length]="</a:theme>",Ce.join("")}function parse_BrtMdtinfo(Ee,_e){return{flags:Ee.read_shift(4),version:Ee.read_shift(4),name:parse_XLWideString(Ee)}}function write_BrtMdtinfo(Ee){var _e=new_buf(12+2*Ee.name.length);return _e.write_shift(4,Ee.flags),_e.write_shift(4,Ee.version),write_XLWideString(Ee.name,_e),_e.slice(0,_e.l)}function parse_BrtMdb(Ee){for(var _e=[],Ce=Ee.read_shift(4);Ce-- >0;)_e.push([Ee.read_shift(4),Ee.read_shift(4)]);return _e}function write_BrtMdb(Ee){var _e=new_buf(4+8*Ee.length);_e.write_shift(4,Ee.length);for(var Ce=0;Ce<Ee.length;++Ce)_e.write_shift(4,Ee[Ce][0]),_e.write_shift(4,Ee[Ce][1]);return _e}function write_BrtBeginEsfmd(Ee,_e){var Ce=new_buf(8+2*_e.length);return Ce.write_shift(4,Ee),write_XLWideString(_e,Ce),Ce.slice(0,Ce.l)}function parse_BrtBeginEsmdb(Ee){return Ee.l+=4,Ee.read_shift(4)!=0}function write_BrtBeginEsmdb(Ee,_e){var Ce=new_buf(8);return Ce.write_shift(4,Ee),Ce.write_shift(4,1),Ce}function write_xlmeta_bin(){var Ee=buf_array();return write_record(Ee,332),write_record(Ee,334,write_UInt32LE(1)),write_record(Ee,335,write_BrtMdtinfo({name:"XLDAPR",version:12e4,flags:3496657072})),write_record(Ee,336),write_record(Ee,339,write_BrtBeginEsfmd(1,"XLDAPR")),write_record(Ee,52),write_record(Ee,35,write_UInt32LE(514)),write_record(Ee,4096,write_UInt32LE(0)),write_record(Ee,4097,writeuint16(1)),write_record(Ee,36),write_record(Ee,53),write_record(Ee,340),write_record(Ee,337,write_BrtBeginEsmdb(1)),write_record(Ee,51,write_BrtMdb([[1,0]])),write_record(Ee,338),write_record(Ee,333),Ee.end()}function write_xlmeta_xml(){var Ee=[XML_HEADER];return Ee.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),Ee.join("")}function parse_BrtCalcChainItem$(Ee){var _e={};_e.i=Ee.read_shift(4);var Ce={};Ce.r=Ee.read_shift(4),Ce.c=Ee.read_shift(4),_e.r=encode_cell(Ce);var Pe=Ee.read_shift(1);return Pe&2&&(_e.l="1"),Pe&8&&(_e.a="1"),_e}var _shapeid=1024;function write_comments_vml(Ee,_e){for(var Ce=[21600,21600],Pe=["m0,0l0",Ce[1],Ce[0],Ce[1],Ce[0],"0xe"].join(","),Re=[writextag("xml",null,{"xmlns:v":XLMLNS.v,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:mv":XLMLNS.mv}).replace(/\/>/,">"),writextag("o:shapelayout",writextag("o:idmap",null,{"v:ext":"edit",data:Ee}),{"v:ext":"edit"}),writextag("v:shapetype",[writextag("v:stroke",null,{joinstyle:"miter"}),writextag("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:Ce.join(","),path:Pe})];_shapeid<Ee*1e3;)_shapeid+=1e3;return _e.forEach(function(Ie){var Be=decode_cell(Ie[0]),je={color2:"#BEFF82",type:"gradient"};je.type=="gradient"&&(je.angle="-180");var De=je.type=="gradient"?writextag("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,Fe=writextag("v:fill",De,je),Oe={on:"t",obscured:"t"};++_shapeid,Re=Re.concat(["<v:shape"+wxt_helper({id:"_x0000_s"+_shapeid,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(Ie[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",Fe,writextag("v:shadow",null,Oe),writextag("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",writetag("x:Anchor",[Be.c+1,0,Be.r+1,0,Be.c+3,20,Be.r+5,20].join(",")),writetag("x:AutoFill","False"),writetag("x:Row",String(Be.r)),writetag("x:Column",String(Be.c)),Ie[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),Re.push("</xml>"),Re.join("")}function write_comments_xml(Ee){var _e=[XML_HEADER,writextag("comments",null,{xmlns:XMLNS_main[0]})],Ce=[];return _e.push("<authors>"),Ee.forEach(function(Pe){Pe[1].forEach(function(Re){var Ie=escapexml(Re.a);Ce.indexOf(Ie)==-1&&(Ce.push(Ie),_e.push("<author>"+Ie+"</author>")),Re.T&&Re.ID&&Ce.indexOf("tc="+Re.ID)==-1&&(Ce.push("tc="+Re.ID),_e.push("<author>tc="+Re.ID+"</author>"))})}),Ce.length==0&&(Ce.push("SheetJ5"),_e.push("<author>SheetJ5</author>")),_e.push("</authors>"),_e.push("<commentList>"),Ee.forEach(function(Pe){var Re=0,Ie=[];if(Pe[1][0]&&Pe[1][0].T&&Pe[1][0].ID?Re=Ce.indexOf("tc="+Pe[1][0].ID):Pe[1].forEach(function(De){De.a&&(Re=Ce.indexOf(escapexml(De.a))),Ie.push(De.t||"")}),_e.push('<comment ref="'+Pe[0]+'" authorId="'+Re+'"><text>'),Ie.length<=1)_e.push(writetag("t",escapexml(Ie[0]||"")));else{for(var Be=`Comment:
    `+Ie[0]+`
`,je=1;je<Ie.length;++je)Be+=`Reply:
    `+Ie[je]+`
`;_e.push(writetag("t",escapexml(Be)))}_e.push("</text></comment>")}),_e.push("</commentList>"),_e.length>2&&(_e[_e.length]="</comments>",_e[1]=_e[1].replace("/>",">")),_e.join("")}function write_tcmnt_xml(Ee,_e,Ce){var Pe=[XML_HEADER,writextag("ThreadedComments",null,{xmlns:XMLNS.TCMNT}).replace(/[\/]>/,">")];return Ee.forEach(function(Re){var Ie="";(Re[1]||[]).forEach(function(Be,je){if(!Be.T){delete Be.ID;return}Be.a&&_e.indexOf(Be.a)==-1&&_e.push(Be.a);var De={ref:Re[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+Ce.tcid++).slice(-12)+"}"};je==0?Ie=De.id:De.parentId=Ie,Be.ID=De.id,Be.a&&(De.personId="{54EE7950-7262-4200-6969-"+("000000000000"+_e.indexOf(Be.a)).slice(-12)+"}"),Pe.push(writextag("threadedComment",writetag("text",Be.t||""),De))})}),Pe.push("</ThreadedComments>"),Pe.join("")}function write_people_xml(Ee){var _e=[XML_HEADER,writextag("personList",null,{xmlns:XMLNS.TCMNT,"xmlns:x":XMLNS_main[0]}).replace(/[\/]>/,">")];return Ee.forEach(function(Ce,Pe){_e.push(writextag("person",null,{displayName:Ce,id:"{54EE7950-7262-4200-6969-"+("000000000000"+Pe).slice(-12)+"}",userId:Ce,providerId:"None"}))}),_e.push("</personList>"),_e.join("")}function parse_BrtBeginComment(Ee){var _e={};_e.iauthor=Ee.read_shift(4);var Ce=parse_UncheckedRfX(Ee);return _e.rfx=Ce.s,_e.ref=encode_cell(Ce.s),Ee.l+=16,_e}function write_BrtBeginComment(Ee,_e){return _e==null&&(_e=new_buf(36)),_e.write_shift(4,Ee[1].iauthor),write_UncheckedRfX(Ee[0],_e),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e}var parse_BrtCommentAuthor=parse_XLWideString;function write_BrtCommentAuthor(Ee){return write_XLWideString(Ee.slice(0,54))}function write_comments_bin(Ee){var _e=buf_array(),Ce=[];return write_record(_e,628),write_record(_e,630),Ee.forEach(function(Pe){Pe[1].forEach(function(Re){Ce.indexOf(Re.a)>-1||(Ce.push(Re.a.slice(0,54)),write_record(_e,632,write_BrtCommentAuthor(Re.a)))})}),write_record(_e,631),write_record(_e,633),Ee.forEach(function(Pe){Pe[1].forEach(function(Re){Re.iauthor=Ce.indexOf(Re.a);var Ie={s:decode_cell(Pe[0]),e:decode_cell(Pe[0])};write_record(_e,635,write_BrtBeginComment([Ie,Re])),Re.t&&Re.t.length>0&&write_record(_e,637,write_BrtCommentText(Re)),write_record(_e,636),delete Re.iauthor})}),write_record(_e,634),write_record(_e,629),_e.end()}function fill_vba_xls(Ee,_e){_e.FullPaths.forEach(function(Ce,Pe){if(Pe!=0){var Re=Ce.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");Re.slice(-1)!=="/"&&CFB.utils.cfb_add(Ee,Re,_e.FileIndex[Pe].content)}})}var VBAFMTS=["xlsb","xlsm","xlam","biff8","xla"],rc_to_a1=function(){var Ee=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,_e={r:0,c:0};function Ce(Pe,Re,Ie,Be){var je=!1,De=!1;Ie.length==0?De=!0:Ie.charAt(0)=="["&&(De=!0,Ie=Ie.slice(1,-1)),Be.length==0?je=!0:Be.charAt(0)=="["&&(je=!0,Be=Be.slice(1,-1));var Fe=Ie.length>0?parseInt(Ie,10)|0:0,Oe=Be.length>0?parseInt(Be,10)|0:0;return je?Oe+=_e.c:--Oe,De?Fe+=_e.r:--Fe,Re+(je?"":"$")+encode_col(Oe)+(De?"":"$")+encode_row(Fe)}return function(Re,Ie){return _e=Ie,Re.replace(Ee,Ce)}}(),crefregex=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,a1_to_rc=function(){return function(_e,Ce){return _e.replace(crefregex,function(Pe,Re,Ie,Be,je,De){var Fe=decode_col(Be)-(Ie?0:Ce.c),Oe=decode_row(De)-(je?0:Ce.r),ke=Oe==0?"":je?Oe+1:"["+Oe+"]",Me=Fe==0?"":Ie?Fe+1:"["+Fe+"]";return Re+"R"+ke+"C"+Me})}}();function shift_formula_str(Ee,_e){return Ee.replace(crefregex,function(Ce,Pe,Re,Ie,Be,je){return Pe+(Re=="$"?Re+Ie:encode_col(decode_col(Ie)+_e.c))+(Be=="$"?Be+je:encode_row(decode_row(je)+_e.r))})}function fuzzyfmla(Ee){return Ee.length!=1}function parseread1(Ee){Ee.l+=1}function parse_ColRelU(Ee,_e){var Ce=Ee.read_shift(2);return[Ce&16383,Ce>>14&1,Ce>>15&1]}function parse_RgceArea(Ee,_e,Ce){var Pe=2;if(Ce){if(Ce.biff>=2&&Ce.biff<=5)return parse_RgceArea_BIFF2(Ee);Ce.biff==12&&(Pe=4)}var Re=Ee.read_shift(Pe),Ie=Ee.read_shift(Pe),Be=parse_ColRelU(Ee),je=parse_ColRelU(Ee);return{s:{r:Re,c:Be[0],cRel:Be[1],rRel:Be[2]},e:{r:Ie,c:je[0],cRel:je[1],rRel:je[2]}}}function parse_RgceArea_BIFF2(Ee){var _e=parse_ColRelU(Ee),Ce=parse_ColRelU(Ee),Pe=Ee.read_shift(1),Re=Ee.read_shift(1);return{s:{r:_e[0],c:Pe,cRel:_e[1],rRel:_e[2]},e:{r:Ce[0],c:Re,cRel:Ce[1],rRel:Ce[2]}}}function parse_RgceAreaRel(Ee,_e,Ce){if(Ce.biff<8)return parse_RgceArea_BIFF2(Ee);var Pe=Ee.read_shift(Ce.biff==12?4:2),Re=Ee.read_shift(Ce.biff==12?4:2),Ie=parse_ColRelU(Ee),Be=parse_ColRelU(Ee);return{s:{r:Pe,c:Ie[0],cRel:Ie[1],rRel:Ie[2]},e:{r:Re,c:Be[0],cRel:Be[1],rRel:Be[2]}}}function parse_RgceLoc(Ee,_e,Ce){if(Ce&&Ce.biff>=2&&Ce.biff<=5)return parse_RgceLoc_BIFF2(Ee);var Pe=Ee.read_shift(Ce&&Ce.biff==12?4:2),Re=parse_ColRelU(Ee);return{r:Pe,c:Re[0],cRel:Re[1],rRel:Re[2]}}function parse_RgceLoc_BIFF2(Ee){var _e=parse_ColRelU(Ee),Ce=Ee.read_shift(1);return{r:_e[0],c:Ce,cRel:_e[1],rRel:_e[2]}}function parse_RgceElfLoc(Ee){var _e=Ee.read_shift(2),Ce=Ee.read_shift(2);return{r:_e,c:Ce&255,fQuoted:!!(Ce&16384),cRel:Ce>>15,rRel:Ce>>15}}function parse_RgceLocRel(Ee,_e,Ce){var Pe=Ce&&Ce.biff?Ce.biff:8;if(Pe>=2&&Pe<=5)return parse_RgceLocRel_BIFF2(Ee);var Re=Ee.read_shift(Pe>=12?4:2),Ie=Ee.read_shift(2),Be=(Ie&16384)>>14,je=(Ie&32768)>>15;if(Ie&=16383,je==1)for(;Re>524287;)Re-=1048576;if(Be==1)for(;Ie>8191;)Ie=Ie-16384;return{r:Re,c:Ie,cRel:Be,rRel:je}}function parse_RgceLocRel_BIFF2(Ee){var _e=Ee.read_shift(2),Ce=Ee.read_shift(1),Pe=(_e&32768)>>15,Re=(_e&16384)>>14;return _e&=16383,Pe==1&&_e>=8192&&(_e=_e-16384),Re==1&&Ce>=128&&(Ce=Ce-256),{r:_e,c:Ce,cRel:Re,rRel:Pe}}function parse_PtgArea(Ee,_e,Ce){var Pe=(Ee[Ee.l++]&96)>>5,Re=parse_RgceArea(Ee,Ce.biff>=2&&Ce.biff<=5?6:8,Ce);return[Pe,Re]}function parse_PtgArea3d(Ee,_e,Ce){var Pe=(Ee[Ee.l++]&96)>>5,Re=Ee.read_shift(2,"i"),Ie=8;if(Ce)switch(Ce.biff){case 5:Ee.l+=12,Ie=6;break;case 12:Ie=12;break}var Be=parse_RgceArea(Ee,Ie,Ce);return[Pe,Re,Be]}function parse_PtgAreaErr(Ee,_e,Ce){var Pe=(Ee[Ee.l++]&96)>>5;return Ee.l+=Ce&&Ce.biff>8?12:Ce.biff<8?6:8,[Pe]}function parse_PtgAreaErr3d(Ee,_e,Ce){var Pe=(Ee[Ee.l++]&96)>>5,Re=Ee.read_shift(2),Ie=8;if(Ce)switch(Ce.biff){case 5:Ee.l+=12,Ie=6;break;case 12:Ie=12;break}return Ee.l+=Ie,[Pe,Re]}function parse_PtgAreaN(Ee,_e,Ce){var Pe=(Ee[Ee.l++]&96)>>5,Re=parse_RgceAreaRel(Ee,_e-1,Ce);return[Pe,Re]}function parse_PtgArray(Ee,_e,Ce){var Pe=(Ee[Ee.l++]&96)>>5;return Ee.l+=Ce.biff==2?6:Ce.biff==12?14:7,[Pe]}function parse_PtgAttrBaxcel(Ee){var _e=Ee[Ee.l+1]&1,Ce=1;return Ee.l+=4,[_e,Ce]}function parse_PtgAttrChoose(Ee,_e,Ce){Ee.l+=2;for(var Pe=Ee.read_shift(Ce&&Ce.biff==2?1:2),Re=[],Ie=0;Ie<=Pe;++Ie)Re.push(Ee.read_shift(Ce&&Ce.biff==2?1:2));return Re}function parse_PtgAttrGoto(Ee,_e,Ce){var Pe=Ee[Ee.l+1]&255?1:0;return Ee.l+=2,[Pe,Ee.read_shift(Ce&&Ce.biff==2?1:2)]}function parse_PtgAttrIf(Ee,_e,Ce){var Pe=Ee[Ee.l+1]&255?1:0;return Ee.l+=2,[Pe,Ee.read_shift(Ce&&Ce.biff==2?1:2)]}function parse_PtgAttrIfError(Ee){var _e=Ee[Ee.l+1]&255?1:0;return Ee.l+=2,[_e,Ee.read_shift(2)]}function parse_PtgAttrSemi(Ee,_e,Ce){var Pe=Ee[Ee.l+1]&255?1:0;return Ee.l+=Ce&&Ce.biff==2?3:4,[Pe]}function parse_PtgAttrSpaceType(Ee){var _e=Ee.read_shift(1),Ce=Ee.read_shift(1);return[_e,Ce]}function parse_PtgAttrSpace(Ee){return Ee.read_shift(2),parse_PtgAttrSpaceType(Ee)}function parse_PtgAttrSpaceSemi(Ee){return Ee.read_shift(2),parse_PtgAttrSpaceType(Ee)}function parse_PtgRef(Ee,_e,Ce){var Pe=(Ee[Ee.l]&96)>>5;Ee.l+=1;var Re=parse_RgceLoc(Ee,0,Ce);return[Pe,Re]}function parse_PtgRefN(Ee,_e,Ce){var Pe=(Ee[Ee.l]&96)>>5;Ee.l+=1;var Re=parse_RgceLocRel(Ee,0,Ce);return[Pe,Re]}function parse_PtgRef3d(Ee,_e,Ce){var Pe=(Ee[Ee.l]&96)>>5;Ee.l+=1;var Re=Ee.read_shift(2);Ce&&Ce.biff==5&&(Ee.l+=12);var Ie=parse_RgceLoc(Ee,0,Ce);return[Pe,Re,Ie]}function parse_PtgFunc(Ee,_e,Ce){var Pe=(Ee[Ee.l]&96)>>5;Ee.l+=1;var Re=Ee.read_shift(Ce&&Ce.biff<=3?1:2);return[FtabArgc[Re],Ftab[Re],Pe]}function parse_PtgFuncVar(Ee,_e,Ce){var Pe=Ee[Ee.l++],Re=Ee.read_shift(1),Ie=Ce&&Ce.biff<=3?[Pe==88?-1:0,Ee.read_shift(1)]:parsetab(Ee);return[Re,(Ie[0]===0?Ftab:Cetab)[Ie[1]]]}function parsetab(Ee){return[Ee[Ee.l+1]>>7,Ee.read_shift(2)&32767]}function parse_PtgAttrSum(Ee,_e,Ce){Ee.l+=Ce&&Ce.biff==2?3:4}function parse_PtgExp(Ee,_e,Ce){if(Ee.l++,Ce&&Ce.biff==12)return[Ee.read_shift(4,"i"),0];var Pe=Ee.read_shift(2),Re=Ee.read_shift(Ce&&Ce.biff==2?1:2);return[Pe,Re]}function parse_PtgErr(Ee){return Ee.l++,BErr[Ee.read_shift(1)]}function parse_PtgInt(Ee){return Ee.l++,Ee.read_shift(2)}function parse_PtgBool(Ee){return Ee.l++,Ee.read_shift(1)!==0}function parse_PtgNum(Ee){return Ee.l++,parse_Xnum(Ee)}function parse_PtgStr(Ee,_e,Ce){return Ee.l++,parse_ShortXLUnicodeString(Ee,_e-1,Ce)}function parse_SerAr(Ee,_e){var Ce=[Ee.read_shift(1)];if(_e==12)switch(Ce[0]){case 2:Ce[0]=4;break;case 4:Ce[0]=16;break;case 0:Ce[0]=1;break;case 1:Ce[0]=2;break}switch(Ce[0]){case 4:Ce[1]=parsebool(Ee,1)?"TRUE":"FALSE",_e!=12&&(Ee.l+=7);break;case 37:case 16:Ce[1]=BErr[Ee[Ee.l]],Ee.l+=_e==12?4:8;break;case 0:Ee.l+=8;break;case 1:Ce[1]=parse_Xnum(Ee);break;case 2:Ce[1]=parse_XLUnicodeString2(Ee,0,{biff:_e>0&&_e<8?2:_e});break;default:throw new Error("Bad SerAr: "+Ce[0])}return Ce}function parse_PtgExtraMem(Ee,_e,Ce){for(var Pe=Ee.read_shift(Ce.biff==12?4:2),Re=[],Ie=0;Ie!=Pe;++Ie)Re.push((Ce.biff==12?parse_UncheckedRfX:parse_Ref8U)(Ee));return Re}function parse_PtgExtraArray(Ee,_e,Ce){var Pe=0,Re=0;Ce.biff==12?(Pe=Ee.read_shift(4),Re=Ee.read_shift(4)):(Re=1+Ee.read_shift(1),Pe=1+Ee.read_shift(2)),Ce.biff>=2&&Ce.biff<8&&(--Pe,--Re==0&&(Re=256));for(var Ie=0,Be=[];Ie!=Pe&&(Be[Ie]=[]);++Ie)for(var je=0;je!=Re;++je)Be[Ie][je]=parse_SerAr(Ee,Ce.biff);return Be}function parse_PtgName(Ee,_e,Ce){var Pe=Ee.read_shift(1)>>>5&3,Re=!Ce||Ce.biff>=8?4:2,Ie=Ee.read_shift(Re);switch(Ce.biff){case 2:Ee.l+=5;break;case 3:case 4:Ee.l+=8;break;case 5:Ee.l+=12;break}return[Pe,0,Ie]}function parse_PtgNameX(Ee,_e,Ce){if(Ce.biff==5)return parse_PtgNameX_BIFF5(Ee);var Pe=Ee.read_shift(1)>>>5&3,Re=Ee.read_shift(2),Ie=Ee.read_shift(4);return[Pe,Re,Ie]}function parse_PtgNameX_BIFF5(Ee){var _e=Ee.read_shift(1)>>>5&3,Ce=Ee.read_shift(2,"i");Ee.l+=8;var Pe=Ee.read_shift(2);return Ee.l+=12,[_e,Ce,Pe]}function parse_PtgMemArea(Ee,_e,Ce){var Pe=Ee.read_shift(1)>>>5&3;Ee.l+=Ce&&Ce.biff==2?3:4;var Re=Ee.read_shift(Ce&&Ce.biff==2?1:2);return[Pe,Re]}function parse_PtgMemFunc(Ee,_e,Ce){var Pe=Ee.read_shift(1)>>>5&3,Re=Ee.read_shift(Ce&&Ce.biff==2?1:2);return[Pe,Re]}function parse_PtgRefErr(Ee,_e,Ce){var Pe=Ee.read_shift(1)>>>5&3;return Ee.l+=4,Ce.biff<8&&Ee.l--,Ce.biff==12&&(Ee.l+=2),[Pe]}function parse_PtgRefErr3d(Ee,_e,Ce){var Pe=(Ee[Ee.l++]&96)>>5,Re=Ee.read_shift(2),Ie=4;if(Ce)switch(Ce.biff){case 5:Ie=15;break;case 12:Ie=6;break}return Ee.l+=Ie,[Pe,Re]}var parse_PtgMemErr=parsenoop,parse_PtgMemNoMem=parsenoop,parse_PtgTbl=parsenoop;function parse_PtgElfLoc(Ee,_e,Ce){return Ee.l+=2,[parse_RgceElfLoc(Ee)]}function parse_PtgElfNoop(Ee){return Ee.l+=6,[]}var parse_PtgElfCol=parse_PtgElfLoc,parse_PtgElfColS=parse_PtgElfNoop,parse_PtgElfColSV=parse_PtgElfNoop,parse_PtgElfColV=parse_PtgElfLoc;function parse_PtgElfLel(Ee){return Ee.l+=2,[parseuint16(Ee),Ee.read_shift(2)&1]}var parse_PtgElfRadical=parse_PtgElfLoc,parse_PtgElfRadicalLel=parse_PtgElfLel,parse_PtgElfRadicalS=parse_PtgElfNoop,parse_PtgElfRw=parse_PtgElfLoc,parse_PtgElfRwV=parse_PtgElfLoc,PtgListRT=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function parse_PtgList(Ee){Ee.l+=2;var _e=Ee.read_shift(2),Ce=Ee.read_shift(2),Pe=Ee.read_shift(4),Re=Ee.read_shift(2),Ie=Ee.read_shift(2),Be=PtgListRT[Ce>>2&31];return{ixti:_e,coltype:Ce&3,rt:Be,idx:Pe,c:Re,C:Ie}}function parse_PtgSxName(Ee){return Ee.l+=2,[Ee.read_shift(4)]}function parse_PtgSheet(Ee,_e,Ce){return Ee.l+=5,Ee.l+=2,Ee.l+=Ce.biff==2?1:4,["PTGSHEET"]}function parse_PtgEndSheet(Ee,_e,Ce){return Ee.l+=Ce.biff==2?4:5,["PTGENDSHEET"]}function parse_PtgMemAreaN(Ee){var _e=Ee.read_shift(1)>>>5&3,Ce=Ee.read_shift(2);return[_e,Ce]}function parse_PtgMemNoMemN(Ee){var _e=Ee.read_shift(1)>>>5&3,Ce=Ee.read_shift(2);return[_e,Ce]}function parse_PtgAttrNoop(Ee){return Ee.l+=4,[0,0]}var PtgTypes={1:{n:"PtgExp",f:parse_PtgExp},2:{n:"PtgTbl",f:parse_PtgTbl},3:{n:"PtgAdd",f:parseread1},4:{n:"PtgSub",f:parseread1},5:{n:"PtgMul",f:parseread1},6:{n:"PtgDiv",f:parseread1},7:{n:"PtgPower",f:parseread1},8:{n:"PtgConcat",f:parseread1},9:{n:"PtgLt",f:parseread1},10:{n:"PtgLe",f:parseread1},11:{n:"PtgEq",f:parseread1},12:{n:"PtgGe",f:parseread1},13:{n:"PtgGt",f:parseread1},14:{n:"PtgNe",f:parseread1},15:{n:"PtgIsect",f:parseread1},16:{n:"PtgUnion",f:parseread1},17:{n:"PtgRange",f:parseread1},18:{n:"PtgUplus",f:parseread1},19:{n:"PtgUminus",f:parseread1},20:{n:"PtgPercent",f:parseread1},21:{n:"PtgParen",f:parseread1},22:{n:"PtgMissArg",f:parseread1},23:{n:"PtgStr",f:parse_PtgStr},26:{n:"PtgSheet",f:parse_PtgSheet},27:{n:"PtgEndSheet",f:parse_PtgEndSheet},28:{n:"PtgErr",f:parse_PtgErr},29:{n:"PtgBool",f:parse_PtgBool},30:{n:"PtgInt",f:parse_PtgInt},31:{n:"PtgNum",f:parse_PtgNum},32:{n:"PtgArray",f:parse_PtgArray},33:{n:"PtgFunc",f:parse_PtgFunc},34:{n:"PtgFuncVar",f:parse_PtgFuncVar},35:{n:"PtgName",f:parse_PtgName},36:{n:"PtgRef",f:parse_PtgRef},37:{n:"PtgArea",f:parse_PtgArea},38:{n:"PtgMemArea",f:parse_PtgMemArea},39:{n:"PtgMemErr",f:parse_PtgMemErr},40:{n:"PtgMemNoMem",f:parse_PtgMemNoMem},41:{n:"PtgMemFunc",f:parse_PtgMemFunc},42:{n:"PtgRefErr",f:parse_PtgRefErr},43:{n:"PtgAreaErr",f:parse_PtgAreaErr},44:{n:"PtgRefN",f:parse_PtgRefN},45:{n:"PtgAreaN",f:parse_PtgAreaN},46:{n:"PtgMemAreaN",f:parse_PtgMemAreaN},47:{n:"PtgMemNoMemN",f:parse_PtgMemNoMemN},57:{n:"PtgNameX",f:parse_PtgNameX},58:{n:"PtgRef3d",f:parse_PtgRef3d},59:{n:"PtgArea3d",f:parse_PtgArea3d},60:{n:"PtgRefErr3d",f:parse_PtgRefErr3d},61:{n:"PtgAreaErr3d",f:parse_PtgAreaErr3d},255:{}},PtgDupes={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ptg18={1:{n:"PtgElfLel",f:parse_PtgElfLel},2:{n:"PtgElfRw",f:parse_PtgElfRw},3:{n:"PtgElfCol",f:parse_PtgElfCol},6:{n:"PtgElfRwV",f:parse_PtgElfRwV},7:{n:"PtgElfColV",f:parse_PtgElfColV},10:{n:"PtgElfRadical",f:parse_PtgElfRadical},11:{n:"PtgElfRadicalS",f:parse_PtgElfRadicalS},13:{n:"PtgElfColS",f:parse_PtgElfColS},15:{n:"PtgElfColSV",f:parse_PtgElfColSV},16:{n:"PtgElfRadicalLel",f:parse_PtgElfRadicalLel},25:{n:"PtgList",f:parse_PtgList},29:{n:"PtgSxName",f:parse_PtgSxName},255:{}},Ptg19={0:{n:"PtgAttrNoop",f:parse_PtgAttrNoop},1:{n:"PtgAttrSemi",f:parse_PtgAttrSemi},2:{n:"PtgAttrIf",f:parse_PtgAttrIf},4:{n:"PtgAttrChoose",f:parse_PtgAttrChoose},8:{n:"PtgAttrGoto",f:parse_PtgAttrGoto},16:{n:"PtgAttrSum",f:parse_PtgAttrSum},32:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},33:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},64:{n:"PtgAttrSpace",f:parse_PtgAttrSpace},65:{n:"PtgAttrSpaceSemi",f:parse_PtgAttrSpaceSemi},128:{n:"PtgAttrIfError",f:parse_PtgAttrIfError},255:{}};function parse_RgbExtra(Ee,_e,Ce,Pe){if(Pe.biff<8)return parsenoop(Ee,_e);for(var Re=Ee.l+_e,Ie=[],Be=0;Be!==Ce.length;++Be)switch(Ce[Be][0]){case"PtgArray":Ce[Be][1]=parse_PtgExtraArray(Ee,0,Pe),Ie.push(Ce[Be][1]);break;case"PtgMemArea":Ce[Be][2]=parse_PtgExtraMem(Ee,Ce[Be][1],Pe),Ie.push(Ce[Be][2]);break;case"PtgExp":Pe&&Pe.biff==12&&(Ce[Be][1][1]=Ee.read_shift(4),Ie.push(Ce[Be][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+Ce[Be][0]}return _e=Re-Ee.l,_e!==0&&Ie.push(parsenoop(Ee,_e)),Ie}function parse_Rgce(Ee,_e,Ce){for(var Pe=Ee.l+_e,Re,Ie,Be=[];Pe!=Ee.l;)_e=Pe-Ee.l,Ie=Ee[Ee.l],Re=PtgTypes[Ie]||PtgTypes[PtgDupes[Ie]],(Ie===24||Ie===25)&&(Re=(Ie===24?Ptg18:Ptg19)[Ee[Ee.l+1]]),!Re||!Re.f?parsenoop(Ee,_e):Be.push([Re.n,Re.f(Ee,_e,Ce)]);return Be}function stringify_array(Ee){for(var _e=[],Ce=0;Ce<Ee.length;++Ce){for(var Pe=Ee[Ce],Re=[],Ie=0;Ie<Pe.length;++Ie){var Be=Pe[Ie];if(Be)switch(Be[0]){case 2:Re.push('"'+Be[1].replace(/"/g,'""')+'"');break;default:Re.push(Be[1])}else Re.push("")}_e.push(Re.join(","))}return _e.join(";")}var PtgBinOp={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function formula_quote_sheet_name(Ee,_e){if(!Ee&&!(_e&&_e.biff<=5&&_e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(Ee)?"'"+Ee+"'":Ee}function get_ixti_raw(Ee,_e,Ce){if(!Ee)return"SH33TJSERR0";if(Ce.biff>8&&(!Ee.XTI||!Ee.XTI[_e]))return Ee.SheetNames[_e];if(!Ee.XTI)return"SH33TJSERR6";var Pe=Ee.XTI[_e];if(Ce.biff<8)return _e>1e4&&(_e-=65536),_e<0&&(_e=-_e),_e==0?"":Ee.XTI[_e-1];if(!Pe)return"SH33TJSERR1";var Re="";if(Ce.biff>8)switch(Ee[Pe[0]][0]){case 357:return Re=Pe[1]==-1?"#REF":Ee.SheetNames[Pe[1]],Pe[1]==Pe[2]?Re:Re+":"+Ee.SheetNames[Pe[2]];case 358:return Ce.SID!=null?Ee.SheetNames[Ce.SID]:"SH33TJSSAME"+Ee[Pe[0]][0];case 355:default:return"SH33TJSSRC"+Ee[Pe[0]][0]}switch(Ee[Pe[0]][0][0]){case 1025:return Re=Pe[1]==-1?"#REF":Ee.SheetNames[Pe[1]]||"SH33TJSERR3",Pe[1]==Pe[2]?Re:Re+":"+Ee.SheetNames[Pe[2]];case 14849:return Ee[Pe[0]].slice(1).map(function(Ie){return Ie.Name}).join(";;");default:return Ee[Pe[0]][0][3]?(Re=Pe[1]==-1?"#REF":Ee[Pe[0]][0][3][Pe[1]]||"SH33TJSERR4",Pe[1]==Pe[2]?Re:Re+":"+Ee[Pe[0]][0][3][Pe[2]]):"SH33TJSERR2"}}function get_ixti(Ee,_e,Ce){var Pe=get_ixti_raw(Ee,_e,Ce);return Pe=="#REF"?Pe:formula_quote_sheet_name(Pe,Ce)}function stringify_formula(Ee,_e,Ce,Pe,Re){var Ie=Re&&Re.biff||8,Be={s:{c:0,r:0}},je=[],De,Fe,Oe,ke=0,Me=0,$e,He="";if(!Ee[0]||!Ee[0][0])return"";for(var Qe=-1,Ke="",ze=0,We=Ee[0].length;ze<We;++ze){var qe=Ee[0][ze];switch(qe[0]){case"PtgUminus":je.push("-"+je.pop());break;case"PtgUplus":je.push("+"+je.pop());break;case"PtgPercent":je.push(je.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(De=je.pop(),Fe=je.pop(),Qe>=0){switch(Ee[0][Qe][1][0]){case 0:Ke=fill(" ",Ee[0][Qe][1][1]);break;case 1:Ke=fill("\r",Ee[0][Qe][1][1]);break;default:if(Ke="",Re.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Ee[0][Qe][1][0])}Fe=Fe+Ke,Qe=-1}je.push(Fe+PtgBinOp[qe[0]]+De);break;case"PtgIsect":De=je.pop(),Fe=je.pop(),je.push(Fe+" "+De);break;case"PtgUnion":De=je.pop(),Fe=je.pop(),je.push(Fe+","+De);break;case"PtgRange":De=je.pop(),Fe=je.pop(),je.push(Fe+":"+De);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":Oe=shift_cell_xls(qe[1][1],Be,Re),je.push(encode_cell_xls(Oe,Ie));break;case"PtgRefN":Oe=Ce?shift_cell_xls(qe[1][1],Ce,Re):qe[1][1],je.push(encode_cell_xls(Oe,Ie));break;case"PtgRef3d":ke=qe[1][1],Oe=shift_cell_xls(qe[1][2],Be,Re),He=get_ixti(Pe,ke,Re),je.push(He+"!"+encode_cell_xls(Oe,Ie));break;case"PtgFunc":case"PtgFuncVar":var Ye=qe[1][0],Xe=qe[1][1];Ye||(Ye=0),Ye&=127;var rr=Ye==0?[]:je.slice(-Ye);je.length-=Ye,Xe==="User"&&(Xe=rr.shift()),je.push(Xe+"("+rr.join(",")+")");break;case"PtgBool":je.push(qe[1]?"TRUE":"FALSE");break;case"PtgInt":je.push(qe[1]);break;case"PtgNum":je.push(String(qe[1]));break;case"PtgStr":je.push('"'+qe[1].replace(/"/g,'""')+'"');break;case"PtgErr":je.push(qe[1]);break;case"PtgAreaN":$e=shift_range_xls(qe[1][1],Ce?{s:Ce}:Be,Re),je.push(encode_range_xls($e,Re));break;case"PtgArea":$e=shift_range_xls(qe[1][1],Be,Re),je.push(encode_range_xls($e,Re));break;case"PtgArea3d":ke=qe[1][1],$e=qe[1][2],He=get_ixti(Pe,ke,Re),je.push(He+"!"+encode_range_xls($e,Re));break;case"PtgAttrSum":je.push("SUM("+je.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":Me=qe[1][2];var Je=(Pe.names||[])[Me-1]||(Pe[0]||[])[Me],er=Je?Je.Name:"SH33TJSNAME"+String(Me);er&&er.slice(0,6)=="_xlfn."&&!Re.xlfn&&(er=er.slice(6)),je.push(er);break;case"PtgNameX":var or=qe[1][1];Me=qe[1][2];var pr;if(Re.biff<=5)or<0&&(or=-or),Pe[or]&&(pr=Pe[or][Me]);else{var ar="";if(((Pe[or]||[])[0]||[])[0]==14849||(((Pe[or]||[])[0]||[])[0]==1025?Pe[or][Me]&&Pe[or][Me].itab>0&&(ar=Pe.SheetNames[Pe[or][Me].itab-1]+"!"):ar=Pe.SheetNames[Me-1]+"!"),Pe[or]&&Pe[or][Me])ar+=Pe[or][Me].Name;else if(Pe[0]&&Pe[0][Me])ar+=Pe[0][Me].Name;else{var fr=(get_ixti_raw(Pe,or,Re)||"").split(";;");fr[Me-1]?ar=fr[Me-1]:ar+="SH33TJSERRX"}je.push(ar);break}pr||(pr={Name:"SH33TJSERRY"}),je.push(pr.Name);break;case"PtgParen":var gr="(",Rr=")";if(Qe>=0){switch(Ke="",Ee[0][Qe][1][0]){case 2:gr=fill(" ",Ee[0][Qe][1][1])+gr;break;case 3:gr=fill("\r",Ee[0][Qe][1][1])+gr;break;case 4:Rr=fill(" ",Ee[0][Qe][1][1])+Rr;break;case 5:Rr=fill("\r",Ee[0][Qe][1][1])+Rr;break;default:if(Re.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Ee[0][Qe][1][0])}Qe=-1}je.push(gr+je.pop()+Rr);break;case"PtgRefErr":je.push("#REF!");break;case"PtgRefErr3d":je.push("#REF!");break;case"PtgExp":Oe={c:qe[1][1],r:qe[1][0]};var Ir={c:Ce.c,r:Ce.r};if(Pe.sharedf[encode_cell(Oe)]){var mr=Pe.sharedf[encode_cell(Oe)];je.push(stringify_formula(mr,Be,Ir,Pe,Re))}else{var Er=!1;for(De=0;De!=Pe.arrayf.length;++De)if(Fe=Pe.arrayf[De],!(Oe.c<Fe[0].s.c||Oe.c>Fe[0].e.c)&&!(Oe.r<Fe[0].s.r||Oe.r>Fe[0].e.r)){je.push(stringify_formula(Fe[1],Be,Ir,Pe,Re)),Er=!0;break}Er||je.push(qe[1])}break;case"PtgArray":je.push("{"+stringify_array(qe[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":Qe=ze;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":je.push("");break;case"PtgAreaErr":je.push("#REF!");break;case"PtgAreaErr3d":je.push("#REF!");break;case"PtgList":je.push("Table"+qe[1].idx+"[#"+qe[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(qe));default:throw new Error("Unrecognized Formula Token: "+String(qe))}var Ar=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(Re.biff!=3&&Qe>=0&&Ar.indexOf(Ee[0][ze][0])==-1){qe=Ee[0][Qe];var br=!0;switch(qe[1][0]){case 4:br=!1;case 0:Ke=fill(" ",qe[1][1]);break;case 5:br=!1;case 1:Ke=fill("\r",qe[1][1]);break;default:if(Ke="",Re.WTF)throw new Error("Unexpected PtgAttrSpaceType "+qe[1][0])}je.push((br?Ke:"")+je.pop()+(br?"":Ke)),Qe=-1}}if(je.length>1&&Re.WTF)throw new Error("bad formula stack");return je[0]}function write_FormulaValue(Ee){if(Ee==null){var _e=new_buf(8);return _e.write_shift(1,3),_e.write_shift(1,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,65535),_e}else if(typeof Ee=="number")return write_Xnum(Ee);return write_Xnum(0)}function write_Formula(Ee,_e,Ce,Pe,Re){var Ie=write_XLSCell(_e,Ce,Re),Be=write_FormulaValue(Ee.v),je=new_buf(6),De=33;je.write_shift(2,De),je.write_shift(4,0);for(var Fe=new_buf(Ee.bf.length),Oe=0;Oe<Ee.bf.length;++Oe)Fe[Oe]=Ee.bf[Oe];var ke=bconcat([Ie,Be,je,Fe]);return ke}function parse_XLSBParsedFormula(Ee,_e,Ce){var Pe=Ee.read_shift(4),Re=parse_Rgce(Ee,Pe,Ce),Ie=Ee.read_shift(4),Be=Ie>0?parse_RgbExtra(Ee,Ie,Re,Ce):null;return[Re,Be]}var parse_XLSBArrayParsedFormula=parse_XLSBParsedFormula,parse_XLSBCellParsedFormula=parse_XLSBParsedFormula,parse_XLSBNameParsedFormula=parse_XLSBParsedFormula,parse_XLSBSharedParsedFormula=parse_XLSBParsedFormula,Cetab={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ftab={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FtabArgc={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function csf_to_ods_formula(Ee){var _e="of:="+Ee.replace(crefregex,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return _e.replace(/;/g,"|").replace(/,/g,";")}function csf_to_ods_3D(Ee){return Ee.replace(/\./,"!")}var browser_has_Map=typeof Map<"u";function get_sst_id(Ee,_e,Ce){var Pe=0,Re=Ee.length;if(Ce){if(browser_has_Map?Ce.has(_e):Object.prototype.hasOwnProperty.call(Ce,_e)){for(var Ie=browser_has_Map?Ce.get(_e):Ce[_e];Pe<Ie.length;++Pe)if(Ee[Ie[Pe]].t===_e)return Ee.Count++,Ie[Pe]}}else for(;Pe<Re;++Pe)if(Ee[Pe].t===_e)return Ee.Count++,Pe;return Ee[Re]={t:_e},Ee.Count++,Ee.Unique++,Ce&&(browser_has_Map?(Ce.has(_e)||Ce.set(_e,[]),Ce.get(_e).push(Re)):(Object.prototype.hasOwnProperty.call(Ce,_e)||(Ce[_e]=[]),Ce[_e].push(Re))),Re}function col_obj_w(Ee,_e){var Ce={min:Ee+1,max:Ee+1},Pe=-1;return _e.MDW&&(MDW=_e.MDW),_e.width!=null?Ce.customWidth=1:_e.wpx!=null?Pe=px2char(_e.wpx):_e.wch!=null&&(Pe=_e.wch),Pe>-1?(Ce.width=char2width(Pe),Ce.customWidth=1):_e.width!=null&&(Ce.width=_e.width),_e.hidden&&(Ce.hidden=!0),_e.level!=null&&(Ce.outlineLevel=Ce.level=_e.level),Ce}function default_margins(Ee,_e){if(Ee){var Ce=[.7,.7,.75,.75,.3,.3];Ee.left==null&&(Ee.left=Ce[0]),Ee.right==null&&(Ee.right=Ce[1]),Ee.top==null&&(Ee.top=Ce[2]),Ee.bottom==null&&(Ee.bottom=Ce[3]),Ee.header==null&&(Ee.header=Ce[4]),Ee.footer==null&&(Ee.footer=Ce[5])}}function get_cell_style(Ee,_e,Ce){var Pe=Ce.revssf[_e.z!=null?_e.z:"General"],Re=60,Ie=Ee.length;if(Pe==null&&Ce.ssf){for(;Re<392;++Re)if(Ce.ssf[Re]==null){SSF_load(_e.z,Re),Ce.ssf[Re]=_e.z,Ce.revssf[_e.z]=Pe=Re;break}}for(Re=0;Re!=Ie;++Re)if(Ee[Re].numFmtId===Pe)return Re;return Ee[Ie]={numFmtId:Pe,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},Ie}function check_ws(Ee,_e,Ce){if(Ee&&Ee["!ref"]){var Pe=safe_decode_range(Ee["!ref"]);if(Pe.e.c<Pe.s.c||Pe.e.r<Pe.s.r)throw new Error("Bad range ("+Ce+"): "+Ee["!ref"])}}function write_ws_xml_merges(Ee){if(Ee.length===0)return"";for(var _e='<mergeCells count="'+Ee.length+'">',Ce=0;Ce!=Ee.length;++Ce)_e+='<mergeCell ref="'+encode_range(Ee[Ce])+'"/>';return _e+"</mergeCells>"}function write_ws_xml_sheetpr(Ee,_e,Ce,Pe,Re){var Ie=!1,Be={},je=null;if(Pe.bookType!=="xlsx"&&_e.vbaraw){var De=_e.SheetNames[Ce];try{_e.Workbook&&(De=_e.Workbook.Sheets[Ce].CodeName||De)}catch{}Ie=!0,Be.codeName=utf8write(escapexml(De))}if(Ee&&Ee["!outline"]){var Fe={summaryBelow:1,summaryRight:1};Ee["!outline"].above&&(Fe.summaryBelow=0),Ee["!outline"].left&&(Fe.summaryRight=0),je=(je||"")+writextag("outlinePr",null,Fe)}!Ie&&!je||(Re[Re.length]=writextag("sheetPr",je,Be))}var sheetprot_deffalse=["objects","scenarios","selectLockedCells","selectUnlockedCells"],sheetprot_deftrue=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function write_ws_xml_protection(Ee){var _e={sheet:1};return sheetprot_deffalse.forEach(function(Ce){Ee[Ce]!=null&&Ee[Ce]&&(_e[Ce]="1")}),sheetprot_deftrue.forEach(function(Ce){Ee[Ce]!=null&&!Ee[Ce]&&(_e[Ce]="0")}),Ee.password&&(_e.password=crypto_CreatePasswordVerifier_Method1(Ee.password).toString(16).toUpperCase()),writextag("sheetProtection",null,_e)}function write_ws_xml_margins(Ee){return default_margins(Ee),writextag("pageMargins",null,Ee)}function write_ws_xml_cols(Ee,_e){for(var Ce=["<cols>"],Pe,Re=0;Re!=_e.length;++Re)(Pe=_e[Re])&&(Ce[Ce.length]=writextag("col",null,col_obj_w(Re,Pe)));return Ce[Ce.length]="</cols>",Ce.join("")}function write_ws_xml_autofilter(Ee,_e,Ce,Pe){var Re=typeof Ee.ref=="string"?Ee.ref:encode_range(Ee.ref);Ce.Workbook||(Ce.Workbook={Sheets:[]}),Ce.Workbook.Names||(Ce.Workbook.Names=[]);var Ie=Ce.Workbook.Names,Be=decode_range(Re);Be.s.r==Be.e.r&&(Be.e.r=decode_range(_e["!ref"]).e.r,Re=encode_range(Be));for(var je=0;je<Ie.length;++je){var De=Ie[je];if(De.Name=="_xlnm._FilterDatabase"&&De.Sheet==Pe){De.Ref="'"+Ce.SheetNames[Pe]+"'!"+Re;break}}return je==Ie.length&&Ie.push({Name:"_xlnm._FilterDatabase",Sheet:Pe,Ref:"'"+Ce.SheetNames[Pe]+"'!"+Re}),writextag("autoFilter",null,{ref:Re})}function write_ws_xml_sheetviews(Ee,_e,Ce,Pe){var Re={workbookViewId:"0"};return(((Pe||{}).Workbook||{}).Views||[])[0]&&(Re.rightToLeft=Pe.Workbook.Views[0].RTL?"1":"0"),writextag("sheetViews",writextag("sheetView",null,Re),{})}function write_ws_xml_cell(Ee,_e,Ce,Pe){if(Ee.c&&Ce["!comments"].push([_e,Ee.c]),Ee.v===void 0&&typeof Ee.f!="string"||Ee.t==="z"&&!Ee.f)return"";var Re="",Ie=Ee.t,Be=Ee.v;if(Ee.t!=="z")switch(Ee.t){case"b":Re=Ee.v?"1":"0";break;case"n":Re=""+Ee.v;break;case"e":Re=BErr[Ee.v];break;case"d":Pe&&Pe.cellDates?Re=parseDate(Ee.v,-1).toISOString():(Ee=dup(Ee),Ee.t="n",Re=""+(Ee.v=datenum(parseDate(Ee.v)))),typeof Ee.z>"u"&&(Ee.z=table_fmt[14]);break;default:Re=Ee.v;break}var je=writetag("v",escapexml(Re)),De={r:_e},Fe=get_cell_style(Pe.cellXfs,Ee,Pe);switch(Fe!==0&&(De.s=Fe),Ee.t){case"n":break;case"d":De.t="d";break;case"b":De.t="b";break;case"e":De.t="e";break;case"z":break;default:if(Ee.v==null){delete Ee.t;break}if(Ee.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(Pe&&Pe.bookSST){je=writetag("v",""+get_sst_id(Pe.Strings,Ee.v,Pe.revStrings)),De.t="s";break}De.t="str";break}if(Ee.t!=Ie&&(Ee.t=Ie,Ee.v=Be),typeof Ee.f=="string"&&Ee.f){var Oe=Ee.F&&Ee.F.slice(0,_e.length)==_e?{t:"array",ref:Ee.F}:null;je=writextag("f",escapexml(Ee.f),Oe)+(Ee.v!=null?je:"")}return Ee.l&&Ce["!links"].push([_e,Ee.l]),Ee.D&&(De.cm=1),writextag("c",je,De)}function write_ws_xml_data(Ee,_e,Ce,Pe){var Re=[],Ie=[],Be=safe_decode_range(Ee["!ref"]),je="",De,Fe="",Oe=[],ke=0,Me=0,$e=Ee["!rows"],He=Array.isArray(Ee),Qe={r:Fe},Ke,ze=-1;for(Me=Be.s.c;Me<=Be.e.c;++Me)Oe[Me]=encode_col(Me);for(ke=Be.s.r;ke<=Be.e.r;++ke){for(Ie=[],Fe=encode_row(ke),Me=Be.s.c;Me<=Be.e.c;++Me){De=Oe[Me]+Fe;var We=He?(Ee[ke]||[])[Me]:Ee[De];We!==void 0&&(je=write_ws_xml_cell(We,De,Ee,_e))!=null&&Ie.push(je)}(Ie.length>0||$e&&$e[ke])&&(Qe={r:Fe},$e&&$e[ke]&&(Ke=$e[ke],Ke.hidden&&(Qe.hidden=1),ze=-1,Ke.hpx?ze=px2pt(Ke.hpx):Ke.hpt&&(ze=Ke.hpt),ze>-1&&(Qe.ht=ze,Qe.customHeight=1),Ke.level&&(Qe.outlineLevel=Ke.level)),Re[Re.length]=writextag("row",Ie.join(""),Qe))}if($e)for(;ke<$e.length;++ke)$e&&$e[ke]&&(Qe={r:ke+1},Ke=$e[ke],Ke.hidden&&(Qe.hidden=1),ze=-1,Ke.hpx?ze=px2pt(Ke.hpx):Ke.hpt&&(ze=Ke.hpt),ze>-1&&(Qe.ht=ze,Qe.customHeight=1),Ke.level&&(Qe.outlineLevel=Ke.level),Re[Re.length]=writextag("row","",Qe));return Re.join("")}function write_ws_xml(Ee,_e,Ce,Pe){var Re=[XML_HEADER,writextag("worksheet",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r})],Ie=Ce.SheetNames[Ee],Be=0,je="",De=Ce.Sheets[Ie];De==null&&(De={});var Fe=De["!ref"]||"A1",Oe=safe_decode_range(Fe);if(Oe.e.c>16383||Oe.e.r>1048575){if(_e.WTF)throw new Error("Range "+Fe+" exceeds format limit A1:XFD1048576");Oe.e.c=Math.min(Oe.e.c,16383),Oe.e.r=Math.min(Oe.e.c,1048575),Fe=encode_range(Oe)}Pe||(Pe={}),De["!comments"]=[];var ke=[];write_ws_xml_sheetpr(De,Ce,Ee,_e,Re),Re[Re.length]=writextag("dimension",null,{ref:Fe}),Re[Re.length]=write_ws_xml_sheetviews(De,_e,Ee,Ce),_e.sheetFormat&&(Re[Re.length]=writextag("sheetFormatPr",null,{defaultRowHeight:_e.sheetFormat.defaultRowHeight||"16",baseColWidth:_e.sheetFormat.baseColWidth||"10",outlineLevelRow:_e.sheetFormat.outlineLevelRow||"7"})),De["!cols"]!=null&&De["!cols"].length>0&&(Re[Re.length]=write_ws_xml_cols(De,De["!cols"])),Re[Be=Re.length]="<sheetData/>",De["!links"]=[],De["!ref"]!=null&&(je=write_ws_xml_data(De,_e),je.length>0&&(Re[Re.length]=je)),Re.length>Be+1&&(Re[Re.length]="</sheetData>",Re[Be]=Re[Be].replace("/>",">")),De["!protect"]&&(Re[Re.length]=write_ws_xml_protection(De["!protect"])),De["!autofilter"]!=null&&(Re[Re.length]=write_ws_xml_autofilter(De["!autofilter"],De,Ce,Ee)),De["!merges"]!=null&&De["!merges"].length>0&&(Re[Re.length]=write_ws_xml_merges(De["!merges"]));var Me=-1,$e,He=-1;return De["!links"].length>0&&(Re[Re.length]="<hyperlinks>",De["!links"].forEach(function(Qe){Qe[1].Target&&($e={ref:Qe[0]},Qe[1].Target.charAt(0)!="#"&&(He=add_rels(Pe,-1,escapexml(Qe[1].Target).replace(/#.*$/,""),RELS.HLINK),$e["r:id"]="rId"+He),(Me=Qe[1].Target.indexOf("#"))>-1&&($e.location=escapexml(Qe[1].Target.slice(Me+1))),Qe[1].Tooltip&&($e.tooltip=escapexml(Qe[1].Tooltip)),Re[Re.length]=writextag("hyperlink",null,$e))}),Re[Re.length]="</hyperlinks>"),delete De["!links"],De["!margins"]!=null&&(Re[Re.length]=write_ws_xml_margins(De["!margins"])),(!_e||_e.ignoreEC||_e.ignoreEC==null)&&(Re[Re.length]=writetag("ignoredErrors",writextag("ignoredError",null,{numberStoredAsText:1,sqref:Fe}))),ke.length>0&&(He=add_rels(Pe,-1,"../drawings/drawing"+(Ee+1)+".xml",RELS.DRAW),Re[Re.length]=writextag("drawing",null,{"r:id":"rId"+He}),De["!drawing"]=ke),De["!comments"].length>0&&(He=add_rels(Pe,-1,"../drawings/vmlDrawing"+(Ee+1)+".vml",RELS.VML),Re[Re.length]=writextag("legacyDrawing",null,{"r:id":"rId"+He}),De["!legacy"]=He),Re.length>1&&(Re[Re.length]="</worksheet>",Re[1]=Re[1].replace("/>",">")),Re.join("")}function parse_BrtRowHdr(Ee,_e){var Ce={},Pe=Ee.l+_e;Ce.r=Ee.read_shift(4),Ee.l+=4;var Re=Ee.read_shift(2);Ee.l+=1;var Ie=Ee.read_shift(1);return Ee.l=Pe,Ie&7&&(Ce.level=Ie&7),Ie&16&&(Ce.hidden=!0),Ie&32&&(Ce.hpt=Re/20),Ce}function write_BrtRowHdr(Ee,_e,Ce){var Pe=new_buf(145),Re=(Ce["!rows"]||[])[Ee]||{};Pe.write_shift(4,Ee),Pe.write_shift(4,0);var Ie=320;Re.hpx?Ie=px2pt(Re.hpx)*20:Re.hpt&&(Ie=Re.hpt*20),Pe.write_shift(2,Ie),Pe.write_shift(1,0);var Be=0;Re.level&&(Be|=Re.level),Re.hidden&&(Be|=16),(Re.hpx||Re.hpt)&&(Be|=32),Pe.write_shift(1,Be),Pe.write_shift(1,0);var je=0,De=Pe.l;Pe.l+=4;for(var Fe={r:Ee,c:0},Oe=0;Oe<16;++Oe)if(!(_e.s.c>Oe+1<<10||_e.e.c<Oe<<10)){for(var ke=-1,Me=-1,$e=Oe<<10;$e<Oe+1<<10;++$e){Fe.c=$e;var He=Array.isArray(Ce)?(Ce[Fe.r]||[])[Fe.c]:Ce[encode_cell(Fe)];He&&(ke<0&&(ke=$e),Me=$e)}ke<0||(++je,Pe.write_shift(4,ke),Pe.write_shift(4,Me))}var Qe=Pe.l;return Pe.l=De,Pe.write_shift(4,je),Pe.l=Qe,Pe.length>Pe.l?Pe.slice(0,Pe.l):Pe}function write_row_header(Ee,_e,Ce,Pe){var Re=write_BrtRowHdr(Pe,Ce,_e);(Re.length>17||(_e["!rows"]||[])[Pe])&&write_record(Ee,0,Re)}var parse_BrtWsDim=parse_UncheckedRfX,write_BrtWsDim=write_UncheckedRfX;function parse_BrtWsFmtInfo(){}function parse_BrtWsProp(Ee,_e){var Ce={},Pe=Ee[Ee.l];return++Ee.l,Ce.above=!(Pe&64),Ce.left=!(Pe&128),Ee.l+=18,Ce.name=parse_XLSBCodeName(Ee),Ce}function write_BrtWsProp(Ee,_e,Ce){Ce==null&&(Ce=new_buf(84+4*Ee.length));var Pe=192;_e&&(_e.above&&(Pe&=-65),_e.left&&(Pe&=-129)),Ce.write_shift(1,Pe);for(var Re=1;Re<3;++Re)Ce.write_shift(1,0);return write_BrtColor({auto:1},Ce),Ce.write_shift(-4,-1),Ce.write_shift(-4,-1),write_XLSBCodeName(Ee,Ce),Ce.slice(0,Ce.l)}function parse_BrtCellBlank(Ee){var _e=parse_XLSBCell(Ee);return[_e]}function write_BrtCellBlank(Ee,_e,Ce){return Ce==null&&(Ce=new_buf(8)),write_XLSBCell(_e,Ce)}function parse_BrtShortBlank(Ee){var _e=parse_XLSBShortCell(Ee);return[_e]}function write_BrtShortBlank(Ee,_e,Ce){return Ce==null&&(Ce=new_buf(4)),write_XLSBShortCell(_e,Ce)}function parse_BrtCellBool(Ee){var _e=parse_XLSBCell(Ee),Ce=Ee.read_shift(1);return[_e,Ce,"b"]}function write_BrtCellBool(Ee,_e,Ce){return Ce==null&&(Ce=new_buf(9)),write_XLSBCell(_e,Ce),Ce.write_shift(1,Ee.v?1:0),Ce}function parse_BrtShortBool(Ee){var _e=parse_XLSBShortCell(Ee),Ce=Ee.read_shift(1);return[_e,Ce,"b"]}function write_BrtShortBool(Ee,_e,Ce){return Ce==null&&(Ce=new_buf(5)),write_XLSBShortCell(_e,Ce),Ce.write_shift(1,Ee.v?1:0),Ce}function parse_BrtCellError(Ee){var _e=parse_XLSBCell(Ee),Ce=Ee.read_shift(1);return[_e,Ce,"e"]}function write_BrtCellError(Ee,_e,Ce){return Ce==null&&(Ce=new_buf(9)),write_XLSBCell(_e,Ce),Ce.write_shift(1,Ee.v),Ce}function parse_BrtShortError(Ee){var _e=parse_XLSBShortCell(Ee),Ce=Ee.read_shift(1);return[_e,Ce,"e"]}function write_BrtShortError(Ee,_e,Ce){return Ce==null&&(Ce=new_buf(8)),write_XLSBShortCell(_e,Ce),Ce.write_shift(1,Ee.v),Ce.write_shift(2,0),Ce.write_shift(1,0),Ce}function parse_BrtCellIsst(Ee){var _e=parse_XLSBCell(Ee),Ce=Ee.read_shift(4);return[_e,Ce,"s"]}function write_BrtCellIsst(Ee,_e,Ce){return Ce==null&&(Ce=new_buf(12)),write_XLSBCell(_e,Ce),Ce.write_shift(4,_e.v),Ce}function parse_BrtShortIsst(Ee){var _e=parse_XLSBShortCell(Ee),Ce=Ee.read_shift(4);return[_e,Ce,"s"]}function write_BrtShortIsst(Ee,_e,Ce){return Ce==null&&(Ce=new_buf(8)),write_XLSBShortCell(_e,Ce),Ce.write_shift(4,_e.v),Ce}function parse_BrtCellReal(Ee){var _e=parse_XLSBCell(Ee),Ce=parse_Xnum(Ee);return[_e,Ce,"n"]}function write_BrtCellReal(Ee,_e,Ce){return Ce==null&&(Ce=new_buf(16)),write_XLSBCell(_e,Ce),write_Xnum(Ee.v,Ce),Ce}function parse_BrtShortReal(Ee){var _e=parse_XLSBShortCell(Ee),Ce=parse_Xnum(Ee);return[_e,Ce,"n"]}function write_BrtShortReal(Ee,_e,Ce){return Ce==null&&(Ce=new_buf(12)),write_XLSBShortCell(_e,Ce),write_Xnum(Ee.v,Ce),Ce}function parse_BrtCellRk(Ee){var _e=parse_XLSBCell(Ee),Ce=parse_RkNumber(Ee);return[_e,Ce,"n"]}function write_BrtCellRk(Ee,_e,Ce){return Ce==null&&(Ce=new_buf(12)),write_XLSBCell(_e,Ce),write_RkNumber(Ee.v,Ce),Ce}function parse_BrtShortRk(Ee){var _e=parse_XLSBShortCell(Ee),Ce=parse_RkNumber(Ee);return[_e,Ce,"n"]}function write_BrtShortRk(Ee,_e,Ce){return Ce==null&&(Ce=new_buf(8)),write_XLSBShortCell(_e,Ce),write_RkNumber(Ee.v,Ce),Ce}function parse_BrtCellRString(Ee){var _e=parse_XLSBCell(Ee),Ce=parse_RichStr(Ee);return[_e,Ce,"is"]}function parse_BrtCellSt(Ee){var _e=parse_XLSBCell(Ee),Ce=parse_XLWideString(Ee);return[_e,Ce,"str"]}function write_BrtCellSt(Ee,_e,Ce){return Ce==null&&(Ce=new_buf(12+4*Ee.v.length)),write_XLSBCell(_e,Ce),write_XLWideString(Ee.v,Ce),Ce.length>Ce.l?Ce.slice(0,Ce.l):Ce}function parse_BrtShortSt(Ee){var _e=parse_XLSBShortCell(Ee),Ce=parse_XLWideString(Ee);return[_e,Ce,"str"]}function write_BrtShortSt(Ee,_e,Ce){return Ce==null&&(Ce=new_buf(8+4*Ee.v.length)),write_XLSBShortCell(_e,Ce),write_XLWideString(Ee.v,Ce),Ce.length>Ce.l?Ce.slice(0,Ce.l):Ce}function parse_BrtFmlaBool(Ee,_e,Ce){var Pe=Ee.l+_e,Re=parse_XLSBCell(Ee);Re.r=Ce["!row"];var Ie=Ee.read_shift(1),Be=[Re,Ie,"b"];if(Ce.cellFormula){Ee.l+=2;var je=parse_XLSBCellParsedFormula(Ee,Pe-Ee.l,Ce);Be[3]=stringify_formula(je,null,Re,Ce.supbooks,Ce)}else Ee.l=Pe;return Be}function parse_BrtFmlaError(Ee,_e,Ce){var Pe=Ee.l+_e,Re=parse_XLSBCell(Ee);Re.r=Ce["!row"];var Ie=Ee.read_shift(1),Be=[Re,Ie,"e"];if(Ce.cellFormula){Ee.l+=2;var je=parse_XLSBCellParsedFormula(Ee,Pe-Ee.l,Ce);Be[3]=stringify_formula(je,null,Re,Ce.supbooks,Ce)}else Ee.l=Pe;return Be}function parse_BrtFmlaNum(Ee,_e,Ce){var Pe=Ee.l+_e,Re=parse_XLSBCell(Ee);Re.r=Ce["!row"];var Ie=parse_Xnum(Ee),Be=[Re,Ie,"n"];if(Ce.cellFormula){Ee.l+=2;var je=parse_XLSBCellParsedFormula(Ee,Pe-Ee.l,Ce);Be[3]=stringify_formula(je,null,Re,Ce.supbooks,Ce)}else Ee.l=Pe;return Be}function parse_BrtFmlaString(Ee,_e,Ce){var Pe=Ee.l+_e,Re=parse_XLSBCell(Ee);Re.r=Ce["!row"];var Ie=parse_XLWideString(Ee),Be=[Re,Ie,"str"];if(Ce.cellFormula){Ee.l+=2;var je=parse_XLSBCellParsedFormula(Ee,Pe-Ee.l,Ce);Be[3]=stringify_formula(je,null,Re,Ce.supbooks,Ce)}else Ee.l=Pe;return Be}var parse_BrtMergeCell=parse_UncheckedRfX,write_BrtMergeCell=write_UncheckedRfX;function write_BrtBeginMergeCells(Ee,_e){return _e==null&&(_e=new_buf(4)),_e.write_shift(4,Ee),_e}function parse_BrtHLink(Ee,_e){var Ce=Ee.l+_e,Pe=parse_UncheckedRfX(Ee),Re=parse_XLNullableWideString(Ee),Ie=parse_XLWideString(Ee),Be=parse_XLWideString(Ee),je=parse_XLWideString(Ee);Ee.l=Ce;var De={rfx:Pe,relId:Re,loc:Ie,display:je};return Be&&(De.Tooltip=Be),De}function write_BrtHLink(Ee,_e){var Ce=new_buf(50+4*(Ee[1].Target.length+(Ee[1].Tooltip||"").length));write_UncheckedRfX({s:decode_cell(Ee[0]),e:decode_cell(Ee[0])},Ce),write_RelID("rId"+_e,Ce);var Pe=Ee[1].Target.indexOf("#"),Re=Pe==-1?"":Ee[1].Target.slice(Pe+1);return write_XLWideString(Re||"",Ce),write_XLWideString(Ee[1].Tooltip||"",Ce),write_XLWideString("",Ce),Ce.slice(0,Ce.l)}function parse_BrtPane(){}function parse_BrtArrFmla(Ee,_e,Ce){var Pe=Ee.l+_e,Re=parse_RfX(Ee),Ie=Ee.read_shift(1),Be=[Re];if(Be[2]=Ie,Ce.cellFormula){var je=parse_XLSBArrayParsedFormula(Ee,Pe-Ee.l,Ce);Be[1]=je}else Ee.l=Pe;return Be}function parse_BrtShrFmla(Ee,_e,Ce){var Pe=Ee.l+_e,Re=parse_UncheckedRfX(Ee),Ie=[Re];if(Ce.cellFormula){var Be=parse_XLSBSharedParsedFormula(Ee,Pe-Ee.l,Ce);Ie[1]=Be,Ee.l=Pe}else Ee.l=Pe;return Ie}function write_BrtColInfo(Ee,_e,Ce){Ce==null&&(Ce=new_buf(18));var Pe=col_obj_w(Ee,_e);Ce.write_shift(-4,Ee),Ce.write_shift(-4,Ee),Ce.write_shift(4,(Pe.width||10)*256),Ce.write_shift(4,0);var Re=0;return _e.hidden&&(Re|=1),typeof Pe.width=="number"&&(Re|=2),_e.level&&(Re|=_e.level<<8),Ce.write_shift(2,Re),Ce}var BrtMarginKeys=["left","right","top","bottom","header","footer"];function parse_BrtMargins(Ee){var _e={};return BrtMarginKeys.forEach(function(Ce){_e[Ce]=parse_Xnum(Ee)}),_e}function write_BrtMargins(Ee,_e){return _e==null&&(_e=new_buf(48)),default_margins(Ee),BrtMarginKeys.forEach(function(Ce){write_Xnum(Ee[Ce],_e)}),_e}function parse_BrtBeginWsView(Ee){var _e=Ee.read_shift(2);return Ee.l+=28,{RTL:_e&32}}function write_BrtBeginWsView(Ee,_e,Ce){Ce==null&&(Ce=new_buf(30));var Pe=924;return(((_e||{}).Views||[])[0]||{}).RTL&&(Pe|=32),Ce.write_shift(2,Pe),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(1,0),Ce.write_shift(1,0),Ce.write_shift(2,0),Ce.write_shift(2,100),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(4,0),Ce}function write_BrtCellIgnoreEC(Ee){var _e=new_buf(24);return _e.write_shift(4,4),_e.write_shift(4,1),write_UncheckedRfX(Ee,_e),_e}function write_BrtSheetProtection(Ee,_e){return _e==null&&(_e=new_buf(66)),_e.write_shift(2,Ee.password?crypto_CreatePasswordVerifier_Method1(Ee.password):0),_e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(Ce){Ce[1]?_e.write_shift(4,Ee[Ce[0]]!=null&&!Ee[Ce[0]]?1:0):_e.write_shift(4,Ee[Ce[0]]!=null&&Ee[Ce[0]]?0:1)}),_e}function parse_BrtDVal(){}function parse_BrtDVal14(){}function write_ws_bin_cell(Ee,_e,Ce,Pe,Re,Ie,Be){if(_e.v===void 0)return!1;var je="";switch(_e.t){case"b":je=_e.v?"1":"0";break;case"d":_e=dup(_e),_e.z=_e.z||table_fmt[14],_e.v=datenum(parseDate(_e.v)),_e.t="n";break;case"n":case"e":je=""+_e.v;break;default:je=_e.v;break}var De={r:Ce,c:Pe};switch(De.s=get_cell_style(Re.cellXfs,_e,Re),_e.l&&Ie["!links"].push([encode_cell(De),_e.l]),_e.c&&Ie["!comments"].push([encode_cell(De),_e.c]),_e.t){case"s":case"str":return Re.bookSST?(je=get_sst_id(Re.Strings,_e.v,Re.revStrings),De.t="s",De.v=je,Be?write_record(Ee,18,write_BrtShortIsst(_e,De)):write_record(Ee,7,write_BrtCellIsst(_e,De))):(De.t="str",Be?write_record(Ee,17,write_BrtShortSt(_e,De)):write_record(Ee,6,write_BrtCellSt(_e,De))),!0;case"n":return _e.v==(_e.v|0)&&_e.v>-1e3&&_e.v<1e3?Be?write_record(Ee,13,write_BrtShortRk(_e,De)):write_record(Ee,2,write_BrtCellRk(_e,De)):Be?write_record(Ee,16,write_BrtShortReal(_e,De)):write_record(Ee,5,write_BrtCellReal(_e,De)),!0;case"b":return De.t="b",Be?write_record(Ee,15,write_BrtShortBool(_e,De)):write_record(Ee,4,write_BrtCellBool(_e,De)),!0;case"e":return De.t="e",Be?write_record(Ee,14,write_BrtShortError(_e,De)):write_record(Ee,3,write_BrtCellError(_e,De)),!0}return Be?write_record(Ee,12,write_BrtShortBlank(_e,De)):write_record(Ee,1,write_BrtCellBlank(_e,De)),!0}function write_CELLTABLE(Ee,_e,Ce,Pe){var Re=safe_decode_range(_e["!ref"]||"A1"),Ie,Be="",je=[];write_record(Ee,145);var De=Array.isArray(_e),Fe=Re.e.r;_e["!rows"]&&(Fe=Math.max(Re.e.r,_e["!rows"].length-1));for(var Oe=Re.s.r;Oe<=Fe;++Oe){Be=encode_row(Oe),write_row_header(Ee,_e,Re,Oe);var ke=!1;if(Oe<=Re.e.r)for(var Me=Re.s.c;Me<=Re.e.c;++Me){Oe===Re.s.r&&(je[Me]=encode_col(Me)),Ie=je[Me]+Be;var $e=De?(_e[Oe]||[])[Me]:_e[Ie];if(!$e){ke=!1;continue}ke=write_ws_bin_cell(Ee,$e,Oe,Me,Pe,_e,ke)}}write_record(Ee,146)}function write_MERGECELLS(Ee,_e){!_e||!_e["!merges"]||(write_record(Ee,177,write_BrtBeginMergeCells(_e["!merges"].length)),_e["!merges"].forEach(function(Ce){write_record(Ee,176,write_BrtMergeCell(Ce))}),write_record(Ee,178))}function write_COLINFOS(Ee,_e){!_e||!_e["!cols"]||(write_record(Ee,390),_e["!cols"].forEach(function(Ce,Pe){Ce&&write_record(Ee,60,write_BrtColInfo(Pe,Ce))}),write_record(Ee,391))}function write_IGNOREECS(Ee,_e){!_e||!_e["!ref"]||(write_record(Ee,648),write_record(Ee,649,write_BrtCellIgnoreEC(safe_decode_range(_e["!ref"]))),write_record(Ee,650))}function write_HLINKS(Ee,_e,Ce){_e["!links"].forEach(function(Pe){if(Pe[1].Target){var Re=add_rels(Ce,-1,Pe[1].Target.replace(/#.*$/,""),RELS.HLINK);write_record(Ee,494,write_BrtHLink(Pe,Re))}}),delete _e["!links"]}function write_LEGACYDRAWING(Ee,_e,Ce,Pe){if(_e["!comments"].length>0){var Re=add_rels(Pe,-1,"../drawings/vmlDrawing"+(Ce+1)+".vml",RELS.VML);write_record(Ee,551,write_RelID("rId"+Re)),_e["!legacy"]=Re}}function write_AUTOFILTER(Ee,_e,Ce,Pe){if(_e["!autofilter"]){var Re=_e["!autofilter"],Ie=typeof Re.ref=="string"?Re.ref:encode_range(Re.ref);Ce.Workbook||(Ce.Workbook={Sheets:[]}),Ce.Workbook.Names||(Ce.Workbook.Names=[]);var Be=Ce.Workbook.Names,je=decode_range(Ie);je.s.r==je.e.r&&(je.e.r=decode_range(_e["!ref"]).e.r,Ie=encode_range(je));for(var De=0;De<Be.length;++De){var Fe=Be[De];if(Fe.Name=="_xlnm._FilterDatabase"&&Fe.Sheet==Pe){Fe.Ref="'"+Ce.SheetNames[Pe]+"'!"+Ie;break}}De==Be.length&&Be.push({Name:"_xlnm._FilterDatabase",Sheet:Pe,Ref:"'"+Ce.SheetNames[Pe]+"'!"+Ie}),write_record(Ee,161,write_UncheckedRfX(safe_decode_range(Ie))),write_record(Ee,162)}}function write_WSVIEWS2(Ee,_e,Ce){write_record(Ee,133),write_record(Ee,137,write_BrtBeginWsView(_e,Ce)),write_record(Ee,138),write_record(Ee,134)}function write_SHEETPROTECT(Ee,_e){_e["!protect"]&&write_record(Ee,535,write_BrtSheetProtection(_e["!protect"]))}function write_ws_bin(Ee,_e,Ce,Pe){var Re=buf_array(),Ie=Ce.SheetNames[Ee],Be=Ce.Sheets[Ie]||{},je=Ie;try{Ce&&Ce.Workbook&&(je=Ce.Workbook.Sheets[Ee].CodeName||je)}catch{}var De=safe_decode_range(Be["!ref"]||"A1");if(De.e.c>16383||De.e.r>1048575){if(_e.WTF)throw new Error("Range "+(Be["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");De.e.c=Math.min(De.e.c,16383),De.e.r=Math.min(De.e.c,1048575)}return Be["!links"]=[],Be["!comments"]=[],write_record(Re,129),(Ce.vbaraw||Be["!outline"])&&write_record(Re,147,write_BrtWsProp(je,Be["!outline"])),write_record(Re,148,write_BrtWsDim(De)),write_WSVIEWS2(Re,Be,Ce.Workbook),write_COLINFOS(Re,Be),write_CELLTABLE(Re,Be,Ee,_e),write_SHEETPROTECT(Re,Be),write_AUTOFILTER(Re,Be,Ce,Ee),write_MERGECELLS(Re,Be),write_HLINKS(Re,Be,Pe),Be["!margins"]&&write_record(Re,476,write_BrtMargins(Be["!margins"])),(!_e||_e.ignoreEC||_e.ignoreEC==null)&&write_IGNOREECS(Re,Be),write_LEGACYDRAWING(Re,Be,Ee,Pe),write_record(Re,130),Re.end()}function parse_BrtCsProp(Ee,_e){Ee.l+=10;var Ce=parse_XLWideString(Ee);return{name:Ce}}var WBPropsDef=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function safe1904(Ee){return!Ee.Workbook||!Ee.Workbook.WBProps?"false":parsexmlbool(Ee.Workbook.WBProps.date1904)?"true":"false"}var badchars="][*?/\\".split("");function check_ws_name(Ee,_e){if(Ee.length>31)throw new Error("Sheet names cannot exceed 31 chars");var Ce=!0;return badchars.forEach(function(Pe){if(Ee.indexOf(Pe)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),Ce}function check_wb_names(Ee,_e,Ce){Ee.forEach(function(Pe,Re){check_ws_name(Pe);for(var Ie=0;Ie<Re;++Ie)if(Pe==Ee[Ie])throw new Error("Duplicate Sheet Name: "+Pe);if(Ce){var Be=_e&&_e[Re]&&_e[Re].CodeName||Pe;if(Be.charCodeAt(0)==95&&Be.length>22)throw new Error("Bad Code Name: Worksheet"+Be)}})}function check_wb(Ee){if(!Ee||!Ee.SheetNames||!Ee.Sheets)throw new Error("Invalid Workbook");if(!Ee.SheetNames.length)throw new Error("Workbook is empty");var _e=Ee.Workbook&&Ee.Workbook.Sheets||[];check_wb_names(Ee.SheetNames,_e,!!Ee.vbaraw);for(var Ce=0;Ce<Ee.SheetNames.length;++Ce)check_ws(Ee.Sheets[Ee.SheetNames[Ce]],Ee.SheetNames[Ce],Ce)}function write_wb_xml(Ee){var _e=[XML_HEADER];_e[_e.length]=writextag("workbook",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r});var Ce=Ee.Workbook&&(Ee.Workbook.Names||[]).length>0,Pe={codeName:"ThisWorkbook"};Ee.Workbook&&Ee.Workbook.WBProps&&(WBPropsDef.forEach(function(je){Ee.Workbook.WBProps[je[0]]!=null&&Ee.Workbook.WBProps[je[0]]!=je[1]&&(Pe[je[0]]=Ee.Workbook.WBProps[je[0]])}),Ee.Workbook.WBProps.CodeName&&(Pe.codeName=Ee.Workbook.WBProps.CodeName,delete Pe.CodeName)),_e[_e.length]=writextag("workbookPr",null,Pe);var Re=Ee.Workbook&&Ee.Workbook.Sheets||[],Ie=0;if(Re&&Re[0]&&Re[0].Hidden){for(_e[_e.length]="<bookViews>",Ie=0;Ie!=Ee.SheetNames.length&&!(!Re[Ie]||!Re[Ie].Hidden);++Ie);Ie==Ee.SheetNames.length&&(Ie=0),_e[_e.length]='<workbookView firstSheet="'+Ie+'" activeTab="'+Ie+'"/>',_e[_e.length]="</bookViews>"}for(_e[_e.length]="<sheets>",Ie=0;Ie!=Ee.SheetNames.length;++Ie){var Be={name:escapexml(Ee.SheetNames[Ie].slice(0,31))};if(Be.sheetId=""+(Ie+1),Be["r:id"]="rId"+(Ie+1),Re[Ie])switch(Re[Ie].Hidden){case 1:Be.state="hidden";break;case 2:Be.state="veryHidden";break}_e[_e.length]=writextag("sheet",null,Be)}return _e[_e.length]="</sheets>",Ce&&(_e[_e.length]="<definedNames>",Ee.Workbook&&Ee.Workbook.Names&&Ee.Workbook.Names.forEach(function(je){var De={name:je.Name};je.Comment&&(De.comment=je.Comment),je.Sheet!=null&&(De.localSheetId=""+je.Sheet),je.Hidden&&(De.hidden="1"),je.Ref&&(_e[_e.length]=writextag("definedName",escapexml(je.Ref),De))}),_e[_e.length]="</definedNames>"),_e.length>2&&(_e[_e.length]="</workbook>",_e[1]=_e[1].replace("/>",">")),_e.join("")}function parse_BrtBundleSh(Ee,_e){var Ce={};return Ce.Hidden=Ee.read_shift(4),Ce.iTabID=Ee.read_shift(4),Ce.strRelID=parse_RelID(Ee),Ce.name=parse_XLWideString(Ee),Ce}function write_BrtBundleSh(Ee,_e){return _e||(_e=new_buf(127)),_e.write_shift(4,Ee.Hidden),_e.write_shift(4,Ee.iTabID),write_RelID(Ee.strRelID,_e),write_XLWideString(Ee.name.slice(0,31),_e),_e.length>_e.l?_e.slice(0,_e.l):_e}function parse_BrtWbProp(Ee,_e){var Ce={},Pe=Ee.read_shift(4);Ce.defaultThemeVersion=Ee.read_shift(4);var Re=_e>8?parse_XLWideString(Ee):"";return Re.length>0&&(Ce.CodeName=Re),Ce.autoCompressPictures=!!(Pe&65536),Ce.backupFile=!!(Pe&64),Ce.checkCompatibility=!!(Pe&4096),Ce.date1904=!!(Pe&1),Ce.filterPrivacy=!!(Pe&8),Ce.hidePivotFieldList=!!(Pe&1024),Ce.promptedSolutions=!!(Pe&16),Ce.publishItems=!!(Pe&2048),Ce.refreshAllConnections=!!(Pe&262144),Ce.saveExternalLinkValues=!!(Pe&128),Ce.showBorderUnselectedTables=!!(Pe&4),Ce.showInkAnnotation=!!(Pe&32),Ce.showObjects=["all","placeholders","none"][Pe>>13&3],Ce.showPivotChartFilter=!!(Pe&32768),Ce.updateLinks=["userSet","never","always"][Pe>>8&3],Ce}function write_BrtWbProp(Ee,_e){_e||(_e=new_buf(72));var Ce=0;return Ee&&Ee.filterPrivacy&&(Ce|=8),_e.write_shift(4,Ce),_e.write_shift(4,0),write_XLSBCodeName(Ee&&Ee.CodeName||"ThisWorkbook",_e),_e.slice(0,_e.l)}function parse_BrtName(Ee,_e,Ce){var Pe=Ee.l+_e;Ee.l+=4,Ee.l+=1;var Re=Ee.read_shift(4),Ie=parse_XLNameWideString(Ee),Be=parse_XLSBNameParsedFormula(Ee,0,Ce),je=parse_XLNullableWideString(Ee);Ee.l=Pe;var De={Name:Ie,Ptg:Be};return Re<268435455&&(De.Sheet=Re),je&&(De.Comment=je),De}function write_BUNDLESHS(Ee,_e){write_record(Ee,143);for(var Ce=0;Ce!=_e.SheetNames.length;++Ce){var Pe=_e.Workbook&&_e.Workbook.Sheets&&_e.Workbook.Sheets[Ce]&&_e.Workbook.Sheets[Ce].Hidden||0,Re={Hidden:Pe,iTabID:Ce+1,strRelID:"rId"+(Ce+1),name:_e.SheetNames[Ce]};write_record(Ee,156,write_BrtBundleSh(Re))}write_record(Ee,144)}function write_BrtFileVersion(Ee,_e){_e||(_e=new_buf(127));for(var Ce=0;Ce!=4;++Ce)_e.write_shift(4,0);return write_XLWideString("SheetJS",_e),write_XLWideString(XLSX.version,_e),write_XLWideString(XLSX.version,_e),write_XLWideString("7262",_e),_e.length>_e.l?_e.slice(0,_e.l):_e}function write_BrtBookView(Ee,_e){_e||(_e=new_buf(29)),_e.write_shift(-4,0),_e.write_shift(-4,460),_e.write_shift(4,28800),_e.write_shift(4,17600),_e.write_shift(4,500),_e.write_shift(4,Ee),_e.write_shift(4,Ee);var Ce=120;return _e.write_shift(1,Ce),_e.length>_e.l?_e.slice(0,_e.l):_e}function write_BOOKVIEWS(Ee,_e){if(!(!_e.Workbook||!_e.Workbook.Sheets)){for(var Ce=_e.Workbook.Sheets,Pe=0,Re=-1,Ie=-1;Pe<Ce.length;++Pe)!Ce[Pe]||!Ce[Pe].Hidden&&Re==-1?Re=Pe:Ce[Pe].Hidden==1&&Ie==-1&&(Ie=Pe);Ie>Re||(write_record(Ee,135),write_record(Ee,158,write_BrtBookView(Re)),write_record(Ee,136))}}function write_wb_bin(Ee,_e){var Ce=buf_array();return write_record(Ce,131),write_record(Ce,128,write_BrtFileVersion()),write_record(Ce,153,write_BrtWbProp(Ee.Workbook&&Ee.Workbook.WBProps||null)),write_BOOKVIEWS(Ce,Ee),write_BUNDLESHS(Ce,Ee),write_record(Ce,132),Ce.end()}function write_wb(Ee,_e,Ce){return(_e.slice(-4)===".bin"?write_wb_bin:write_wb_xml)(Ee)}function write_ws(Ee,_e,Ce,Pe,Re){return(_e.slice(-4)===".bin"?write_ws_bin:write_ws_xml)(Ee,Ce,Pe,Re)}function write_sty(Ee,_e,Ce){return(_e.slice(-4)===".bin"?write_sty_bin:write_sty_xml)(Ee,Ce)}function write_sst(Ee,_e,Ce){return(_e.slice(-4)===".bin"?write_sst_bin:write_sst_xml)(Ee,Ce)}function write_cmnt(Ee,_e,Ce){return(_e.slice(-4)===".bin"?write_comments_bin:write_comments_xml)(Ee)}function write_xlmeta(Ee){return(Ee.slice(-4)===".bin"?write_xlmeta_bin:write_xlmeta_xml)()}function write_props_xlml(Ee,_e){var Ce=[];return Ee.Props&&Ce.push(xlml_write_docprops(Ee.Props,_e)),Ee.Custprops&&Ce.push(xlml_write_custprops(Ee.Props,Ee.Custprops)),Ce.join("")}function write_wb_xlml(){return""}function write_sty_xlml(Ee,_e){var Ce=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return _e.cellXfs.forEach(function(Pe,Re){var Ie=[];Ie.push(writextag("NumberFormat",null,{"ss:Format":escapexml(table_fmt[Pe.numFmtId])}));var Be={"ss:ID":"s"+(21+Re)};Ce.push(writextag("Style",Ie.join(""),Be))}),writextag("Styles",Ce.join(""))}function write_name_xlml(Ee){return writextag("NamedRange",null,{"ss:Name":Ee.Name,"ss:RefersTo":"="+a1_to_rc(Ee.Ref,{r:0,c:0})})}function write_names_xlml(Ee){if(!((Ee||{}).Workbook||{}).Names)return"";for(var _e=Ee.Workbook.Names,Ce=[],Pe=0;Pe<_e.length;++Pe){var Re=_e[Pe];Re.Sheet==null&&(Re.Name.match(/^_xlfn\./)||Ce.push(write_name_xlml(Re)))}return writextag("Names",Ce.join(""))}function write_ws_xlml_names(Ee,_e,Ce,Pe){if(!Ee||!((Pe||{}).Workbook||{}).Names)return"";for(var Re=Pe.Workbook.Names,Ie=[],Be=0;Be<Re.length;++Be){var je=Re[Be];je.Sheet==Ce&&(je.Name.match(/^_xlfn\./)||Ie.push(write_name_xlml(je)))}return Ie.join("")}function write_ws_xlml_wsopts(Ee,_e,Ce,Pe){if(!Ee)return"";var Re=[];if(Ee["!margins"]&&(Re.push("<PageSetup>"),Ee["!margins"].header&&Re.push(writextag("Header",null,{"x:Margin":Ee["!margins"].header})),Ee["!margins"].footer&&Re.push(writextag("Footer",null,{"x:Margin":Ee["!margins"].footer})),Re.push(writextag("PageMargins",null,{"x:Bottom":Ee["!margins"].bottom||"0.75","x:Left":Ee["!margins"].left||"0.7","x:Right":Ee["!margins"].right||"0.7","x:Top":Ee["!margins"].top||"0.75"})),Re.push("</PageSetup>")),Pe&&Pe.Workbook&&Pe.Workbook.Sheets&&Pe.Workbook.Sheets[Ce])if(Pe.Workbook.Sheets[Ce].Hidden)Re.push(writextag("Visible",Pe.Workbook.Sheets[Ce].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var Ie=0;Ie<Ce&&!(Pe.Workbook.Sheets[Ie]&&!Pe.Workbook.Sheets[Ie].Hidden);++Ie);Ie==Ce&&Re.push("<Selected/>")}return((((Pe||{}).Workbook||{}).Views||[])[0]||{}).RTL&&Re.push("<DisplayRightToLeft/>"),Ee["!protect"]&&(Re.push(writetag("ProtectContents","True")),Ee["!protect"].objects&&Re.push(writetag("ProtectObjects","True")),Ee["!protect"].scenarios&&Re.push(writetag("ProtectScenarios","True")),Ee["!protect"].selectLockedCells!=null&&!Ee["!protect"].selectLockedCells?Re.push(writetag("EnableSelection","NoSelection")):Ee["!protect"].selectUnlockedCells!=null&&!Ee["!protect"].selectUnlockedCells&&Re.push(writetag("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(Be){Ee["!protect"][Be[0]]&&Re.push("<"+Be[1]+"/>")})),Re.length==0?"":writextag("WorksheetOptions",Re.join(""),{xmlns:XLMLNS.x})}function write_ws_xlml_comment(Ee){return Ee.map(function(_e){var Ce=xlml_unfixstr(_e.t||""),Pe=writextag("ss:Data",Ce,{xmlns:"http://www.w3.org/TR/REC-html40"});return writextag("Comment",Pe,{"ss:Author":_e.a})}).join("")}function write_ws_xlml_cell(Ee,_e,Ce,Pe,Re,Ie,Be){if(!Ee||Ee.v==null&&Ee.f==null)return"";var je={};if(Ee.f&&(je["ss:Formula"]="="+escapexml(a1_to_rc(Ee.f,Be))),Ee.F&&Ee.F.slice(0,_e.length)==_e){var De=decode_cell(Ee.F.slice(_e.length+1));je["ss:ArrayRange"]="RC:R"+(De.r==Be.r?"":"["+(De.r-Be.r)+"]")+"C"+(De.c==Be.c?"":"["+(De.c-Be.c)+"]")}if(Ee.l&&Ee.l.Target&&(je["ss:HRef"]=escapexml(Ee.l.Target),Ee.l.Tooltip&&(je["x:HRefScreenTip"]=escapexml(Ee.l.Tooltip))),Ce["!merges"])for(var Fe=Ce["!merges"],Oe=0;Oe!=Fe.length;++Oe)Fe[Oe].s.c!=Be.c||Fe[Oe].s.r!=Be.r||(Fe[Oe].e.c>Fe[Oe].s.c&&(je["ss:MergeAcross"]=Fe[Oe].e.c-Fe[Oe].s.c),Fe[Oe].e.r>Fe[Oe].s.r&&(je["ss:MergeDown"]=Fe[Oe].e.r-Fe[Oe].s.r));var ke="",Me="";switch(Ee.t){case"z":if(!Pe.sheetStubs)return"";break;case"n":ke="Number",Me=String(Ee.v);break;case"b":ke="Boolean",Me=Ee.v?"1":"0";break;case"e":ke="Error",Me=BErr[Ee.v];break;case"d":ke="DateTime",Me=new Date(Ee.v).toISOString(),Ee.z==null&&(Ee.z=Ee.z||table_fmt[14]);break;case"s":ke="String",Me=escapexlml(Ee.v||"");break}var $e=get_cell_style(Pe.cellXfs,Ee,Pe);je["ss:StyleID"]="s"+(21+$e),je["ss:Index"]=Be.c+1;var He=Ee.v!=null?Me:"",Qe=Ee.t=="z"?"":'<Data ss:Type="'+ke+'">'+He+"</Data>";return(Ee.c||[]).length>0&&(Qe+=write_ws_xlml_comment(Ee.c)),writextag("Cell",Qe,je)}function write_ws_xlml_row(Ee,_e){var Ce='<Row ss:Index="'+(Ee+1)+'"';return _e&&(_e.hpt&&!_e.hpx&&(_e.hpx=pt2px(_e.hpt)),_e.hpx&&(Ce+=' ss:AutoFitHeight="0" ss:Height="'+_e.hpx+'"'),_e.hidden&&(Ce+=' ss:Hidden="1"')),Ce+">"}function write_ws_xlml_table(Ee,_e,Ce,Pe){if(!Ee["!ref"])return"";var Re=safe_decode_range(Ee["!ref"]),Ie=Ee["!merges"]||[],Be=0,je=[];Ee["!cols"]&&Ee["!cols"].forEach(function(Ke,ze){process_col(Ke);var We=!!Ke.width,qe=col_obj_w(ze,Ke),Ye={"ss:Index":ze+1};We&&(Ye["ss:Width"]=width2px(qe.width)),Ke.hidden&&(Ye["ss:Hidden"]="1"),je.push(writextag("Column",null,Ye))});for(var De=Array.isArray(Ee),Fe=Re.s.r;Fe<=Re.e.r;++Fe){for(var Oe=[write_ws_xlml_row(Fe,(Ee["!rows"]||[])[Fe])],ke=Re.s.c;ke<=Re.e.c;++ke){var Me=!1;for(Be=0;Be!=Ie.length;++Be)if(!(Ie[Be].s.c>ke)&&!(Ie[Be].s.r>Fe)&&!(Ie[Be].e.c<ke)&&!(Ie[Be].e.r<Fe)){(Ie[Be].s.c!=ke||Ie[Be].s.r!=Fe)&&(Me=!0);break}if(!Me){var $e={r:Fe,c:ke},He=encode_cell($e),Qe=De?(Ee[Fe]||[])[ke]:Ee[He];Oe.push(write_ws_xlml_cell(Qe,He,Ee,_e,Ce,Pe,$e))}}Oe.push("</Row>"),Oe.length>2&&je.push(Oe.join(""))}return je.join("")}function write_ws_xlml(Ee,_e,Ce){var Pe=[],Re=Ce.SheetNames[Ee],Ie=Ce.Sheets[Re],Be=Ie?write_ws_xlml_names(Ie,_e,Ee,Ce):"";return Be.length>0&&Pe.push("<Names>"+Be+"</Names>"),Be=Ie?write_ws_xlml_table(Ie,_e,Ee,Ce):"",Be.length>0&&Pe.push("<Table>"+Be+"</Table>"),Pe.push(write_ws_xlml_wsopts(Ie,_e,Ee,Ce)),Pe.join("")}function write_xlml(Ee,_e){_e||(_e={}),Ee.SSF||(Ee.SSF=dup(table_fmt)),Ee.SSF&&(make_ssf(),SSF_load_table(Ee.SSF),_e.revssf=evert_num(Ee.SSF),_e.revssf[Ee.SSF[65535]]=0,_e.ssf=Ee.SSF,_e.cellXfs=[],get_cell_style(_e.cellXfs,{},{revssf:{General:0}}));var Ce=[];Ce.push(write_props_xlml(Ee,_e)),Ce.push(write_wb_xlml()),Ce.push(""),Ce.push("");for(var Pe=0;Pe<Ee.SheetNames.length;++Pe)Ce.push(writextag("Worksheet",write_ws_xlml(Pe,_e,Ee),{"ss:Name":escapexml(Ee.SheetNames[Pe])}));return Ce[2]=write_sty_xlml(Ee,_e),Ce[3]=write_names_xlml(Ee),XML_HEADER+writextag("Workbook",Ce.join(""),{xmlns:XLMLNS.ss,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:ss":XLMLNS.ss,"xmlns:dt":XLMLNS.dt,"xmlns:html":XLMLNS.html})}var PSCLSID={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function write_xls_props(Ee,_e){var Ce=[],Pe=[],Re=[],Ie=0,Be,je=evert_key(DocSummaryPIDDSI,"n"),De=evert_key(SummaryPIDSI,"n");if(Ee.Props)for(Be=keys(Ee.Props),Ie=0;Ie<Be.length;++Ie)(Object.prototype.hasOwnProperty.call(je,Be[Ie])?Ce:Object.prototype.hasOwnProperty.call(De,Be[Ie])?Pe:Re).push([Be[Ie],Ee.Props[Be[Ie]]]);if(Ee.Custprops)for(Be=keys(Ee.Custprops),Ie=0;Ie<Be.length;++Ie)Object.prototype.hasOwnProperty.call(Ee.Props||{},Be[Ie])||(Object.prototype.hasOwnProperty.call(je,Be[Ie])?Ce:Object.prototype.hasOwnProperty.call(De,Be[Ie])?Pe:Re).push([Be[Ie],Ee.Custprops[Be[Ie]]]);var Fe=[];for(Ie=0;Ie<Re.length;++Ie)XLSPSSkip.indexOf(Re[Ie][0])>-1||PseudoPropsPairs.indexOf(Re[Ie][0])>-1||Re[Ie][1]!=null&&Fe.push(Re[Ie]);Pe.length&&CFB.utils.cfb_add(_e,"/SummaryInformation",write_PropertySetStream(Pe,PSCLSID.SI,De,SummaryPIDSI)),(Ce.length||Fe.length)&&CFB.utils.cfb_add(_e,"/DocumentSummaryInformation",write_PropertySetStream(Ce,PSCLSID.DSI,je,DocSummaryPIDDSI,Fe.length?Fe:null,PSCLSID.UDI))}function write_xlscfb(Ee,_e){var Ce=_e||{},Pe=CFB.utils.cfb_new({root:"R"}),Re="/Workbook";switch(Ce.bookType||"xls"){case"xls":Ce.bookType="biff8";case"xla":Ce.bookType||(Ce.bookType="xla");case"biff8":Re="/Workbook",Ce.biff=8;break;case"biff5":Re="/Book",Ce.biff=5;break;default:throw new Error("invalid type "+Ce.bookType+" for XLS CFB")}return CFB.utils.cfb_add(Pe,Re,write_biff_buf(Ee,Ce)),Ce.biff==8&&(Ee.Props||Ee.Custprops)&&write_xls_props(Ee,Pe),Ce.biff==8&&Ee.vbaraw&&fill_vba_xls(Pe,CFB.read(Ee.vbaraw,{type:typeof Ee.vbaraw=="string"?"binary":"buffer"})),Pe}var XLSBRecordEnum={0:{f:parse_BrtRowHdr},1:{f:parse_BrtCellBlank},2:{f:parse_BrtCellRk},3:{f:parse_BrtCellError},4:{f:parse_BrtCellBool},5:{f:parse_BrtCellReal},6:{f:parse_BrtCellSt},7:{f:parse_BrtCellIsst},8:{f:parse_BrtFmlaString},9:{f:parse_BrtFmlaNum},10:{f:parse_BrtFmlaBool},11:{f:parse_BrtFmlaError},12:{f:parse_BrtShortBlank},13:{f:parse_BrtShortRk},14:{f:parse_BrtShortError},15:{f:parse_BrtShortBool},16:{f:parse_BrtShortReal},17:{f:parse_BrtShortSt},18:{f:parse_BrtShortIsst},19:{f:parse_RichStr},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:parse_BrtName},40:{},42:{},43:{f:parse_BrtFont},44:{f:parse_BrtFmt},45:{f:parse_BrtFill},46:{f:parse_BrtBorder},47:{f:parse_BrtXF},48:{},49:{f:parse_Int32LE},50:{},51:{f:parse_BrtMdb},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:parse_ColInfo},62:{f:parse_BrtCellRString},63:{f:parse_BrtCalcChainItem$},64:{f:parse_BrtDVal},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:parsenoop,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:parse_BrtBeginWsView},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:parse_BrtWsProp},148:{f:parse_BrtWsDim,p:16},151:{f:parse_BrtPane},152:{},153:{f:parse_BrtWbProp},154:{},155:{},156:{f:parse_BrtBundleSh},157:{},158:{},159:{T:1,f:parse_BrtBeginSst},160:{T:-1},161:{T:1,f:parse_UncheckedRfX},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:parse_BrtMergeCell},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:parse_BrtMdtinfo},336:{T:-1},337:{f:parse_BrtBeginEsmdb,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:parse_RelID},357:{},358:{},359:{},360:{T:1},361:{},362:{f:parse_ExternSheet},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:parse_BrtArrFmla},427:{f:parse_BrtShrFmla},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:parse_BrtMargins},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:parse_BrtWsFmtInfo},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:parse_BrtHLink},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:parse_RelID},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:parse_BrtCommentAuthor},633:{T:1},634:{T:-1},635:{T:1,f:parse_BrtBeginComment},636:{T:-1},637:{f:parse_BrtCommentText},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:parse_BrtCsProp},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:parse_BrtDVal14},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function write_biff_rec(Ee,_e,Ce,Pe){var Re=_e;if(!isNaN(Re)){var Ie=Pe||(Ce||[]).length||0,Be=Ee.next(4);Be.write_shift(2,Re),Be.write_shift(2,Ie),Ie>0&&is_buf(Ce)&&Ee.push(Ce)}}function write_biff_continue(Ee,_e,Ce,Pe){var Re=(Ce||[]).length||0;if(Re<=8224)return write_biff_rec(Ee,_e,Ce,Re);var Ie=_e;if(!isNaN(Ie)){for(var Be=Ce.parts||[],je=0,De=0,Fe=0;Fe+(Be[je]||8224)<=8224;)Fe+=Be[je]||8224,je++;var Oe=Ee.next(4);for(Oe.write_shift(2,Ie),Oe.write_shift(2,Fe),Ee.push(Ce.slice(De,De+Fe)),De+=Fe;De<Re;){for(Oe=Ee.next(4),Oe.write_shift(2,60),Fe=0;Fe+(Be[je]||8224)<=8224;)Fe+=Be[je]||8224,je++;Oe.write_shift(2,Fe),Ee.push(Ce.slice(De,De+Fe)),De+=Fe}}}function write_BIFF2Cell(Ee,_e,Ce){return Ee||(Ee=new_buf(7)),Ee.write_shift(2,_e),Ee.write_shift(2,Ce),Ee.write_shift(2,0),Ee.write_shift(1,0),Ee}function write_BIFF2BERR(Ee,_e,Ce,Pe){var Re=new_buf(9);return write_BIFF2Cell(Re,Ee,_e),write_Bes(Ce,Pe||"b",Re),Re}function write_BIFF2LABEL(Ee,_e,Ce){var Pe=new_buf(8+2*Ce.length);return write_BIFF2Cell(Pe,Ee,_e),Pe.write_shift(1,Ce.length),Pe.write_shift(Ce.length,Ce,"sbcs"),Pe.l<Pe.length?Pe.slice(0,Pe.l):Pe}function write_ws_biff2_cell(Ee,_e,Ce,Pe){if(_e.v!=null)switch(_e.t){case"d":case"n":var Re=_e.t=="d"?datenum(parseDate(_e.v)):_e.v;Re==(Re|0)&&Re>=0&&Re<65536?write_biff_rec(Ee,2,write_BIFF2INT(Ce,Pe,Re)):write_biff_rec(Ee,3,write_BIFF2NUM(Ce,Pe,Re));return;case"b":case"e":write_biff_rec(Ee,5,write_BIFF2BERR(Ce,Pe,_e.v,_e.t));return;case"s":case"str":write_biff_rec(Ee,4,write_BIFF2LABEL(Ce,Pe,(_e.v||"").slice(0,255)));return}write_biff_rec(Ee,1,write_BIFF2Cell(null,Ce,Pe))}function write_ws_biff2(Ee,_e,Ce,Pe){var Re=Array.isArray(_e),Ie=safe_decode_range(_e["!ref"]||"A1"),Be,je="",De=[];if(Ie.e.c>255||Ie.e.r>16383){if(Pe.WTF)throw new Error("Range "+(_e["!ref"]||"A1")+" exceeds format limit A1:IV16384");Ie.e.c=Math.min(Ie.e.c,255),Ie.e.r=Math.min(Ie.e.c,16383),Be=encode_range(Ie)}for(var Fe=Ie.s.r;Fe<=Ie.e.r;++Fe){je=encode_row(Fe);for(var Oe=Ie.s.c;Oe<=Ie.e.c;++Oe){Fe===Ie.s.r&&(De[Oe]=encode_col(Oe)),Be=De[Oe]+je;var ke=Re?(_e[Fe]||[])[Oe]:_e[Be];ke&&write_ws_biff2_cell(Ee,ke,Fe,Oe)}}}function write_biff2_buf(Ee,_e){for(var Ce=_e||{},Pe=buf_array(),Re=0,Ie=0;Ie<Ee.SheetNames.length;++Ie)Ee.SheetNames[Ie]==Ce.sheet&&(Re=Ie);if(Re==0&&Ce.sheet&&Ee.SheetNames[0]!=Ce.sheet)throw new Error("Sheet not found: "+Ce.sheet);return write_biff_rec(Pe,Ce.biff==4?1033:Ce.biff==3?521:9,write_BOF(Ee,16,Ce)),write_ws_biff2(Pe,Ee.Sheets[Ee.SheetNames[Re]],Re,Ce),write_biff_rec(Pe,10),Pe.end()}function write_FONTS_biff8(Ee,_e,Ce){write_biff_rec(Ee,49,write_Font({sz:12,name:"Arial"},Ce))}function write_FMTS_biff8(Ee,_e,Ce){_e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(Pe){for(var Re=Pe[0];Re<=Pe[1];++Re)_e[Re]!=null&&write_biff_rec(Ee,1054,write_Format(Re,_e[Re],Ce))})}function write_FEAT(Ee,_e){var Ce=new_buf(19);Ce.write_shift(4,2151),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(2,3),Ce.write_shift(1,1),Ce.write_shift(4,0),write_biff_rec(Ee,2151,Ce),Ce=new_buf(39),Ce.write_shift(4,2152),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(2,3),Ce.write_shift(1,0),Ce.write_shift(4,0),Ce.write_shift(2,1),Ce.write_shift(4,4),Ce.write_shift(2,0),write_Ref8U(safe_decode_range(_e["!ref"]||"A1"),Ce),Ce.write_shift(4,4),write_biff_rec(Ee,2152,Ce)}function write_CELLXFS_biff8(Ee,_e){for(var Ce=0;Ce<16;++Ce)write_biff_rec(Ee,224,write_XF({numFmtId:0,style:!0},0,_e));_e.cellXfs.forEach(function(Pe){write_biff_rec(Ee,224,write_XF(Pe,0,_e))})}function write_ws_biff8_hlinks(Ee,_e){for(var Ce=0;Ce<_e["!links"].length;++Ce){var Pe=_e["!links"][Ce];write_biff_rec(Ee,440,write_HLink(Pe)),Pe[1].Tooltip&&write_biff_rec(Ee,2048,write_HLinkTooltip(Pe))}delete _e["!links"]}function write_ws_cols_biff8(Ee,_e){if(_e){var Ce=0;_e.forEach(function(Pe,Re){++Ce<=256&&Pe&&write_biff_rec(Ee,125,write_ColInfo(col_obj_w(Re,Pe),Re))})}}function write_ws_biff8_cell(Ee,_e,Ce,Pe,Re){var Ie=16+get_cell_style(Re.cellXfs,_e,Re);if(_e.v==null&&!_e.bf){write_biff_rec(Ee,513,write_XLSCell(Ce,Pe,Ie));return}if(_e.bf)write_biff_rec(Ee,6,write_Formula(_e,Ce,Pe,Re,Ie));else switch(_e.t){case"d":case"n":var Be=_e.t=="d"?datenum(parseDate(_e.v)):_e.v;write_biff_rec(Ee,515,write_Number(Ce,Pe,Be,Ie));break;case"b":case"e":write_biff_rec(Ee,517,write_BoolErr(Ce,Pe,_e.v,Ie,Re,_e.t));break;case"s":case"str":if(Re.bookSST){var je=get_sst_id(Re.Strings,_e.v,Re.revStrings);write_biff_rec(Ee,253,write_LabelSst(Ce,Pe,je,Ie))}else write_biff_rec(Ee,516,write_Label(Ce,Pe,(_e.v||"").slice(0,255),Ie,Re));break;default:write_biff_rec(Ee,513,write_XLSCell(Ce,Pe,Ie))}}function write_ws_biff8(Ee,_e,Ce){var Pe=buf_array(),Re=Ce.SheetNames[Ee],Ie=Ce.Sheets[Re]||{},Be=(Ce||{}).Workbook||{},je=(Be.Sheets||[])[Ee]||{},De=Array.isArray(Ie),Fe=_e.biff==8,Oe,ke="",Me=[],$e=safe_decode_range(Ie["!ref"]||"A1"),He=Fe?65536:16384;if($e.e.c>255||$e.e.r>=He){if(_e.WTF)throw new Error("Range "+(Ie["!ref"]||"A1")+" exceeds format limit A1:IV16384");$e.e.c=Math.min($e.e.c,255),$e.e.r=Math.min($e.e.c,He-1)}write_biff_rec(Pe,2057,write_BOF(Ce,16,_e)),write_biff_rec(Pe,13,writeuint16(1)),write_biff_rec(Pe,12,writeuint16(100)),write_biff_rec(Pe,15,writebool(!0)),write_biff_rec(Pe,17,writebool(!1)),write_biff_rec(Pe,16,write_Xnum(.001)),write_biff_rec(Pe,95,writebool(!0)),write_biff_rec(Pe,42,writebool(!1)),write_biff_rec(Pe,43,writebool(!1)),write_biff_rec(Pe,130,writeuint16(1)),write_biff_rec(Pe,128,write_Guts()),write_biff_rec(Pe,131,writebool(!1)),write_biff_rec(Pe,132,writebool(!1)),Fe&&write_ws_cols_biff8(Pe,Ie["!cols"]),write_biff_rec(Pe,512,write_Dimensions($e,_e)),Fe&&(Ie["!links"]=[]);for(var Qe=$e.s.r;Qe<=$e.e.r;++Qe){ke=encode_row(Qe);for(var Ke=$e.s.c;Ke<=$e.e.c;++Ke){Qe===$e.s.r&&(Me[Ke]=encode_col(Ke)),Oe=Me[Ke]+ke;var ze=De?(Ie[Qe]||[])[Ke]:Ie[Oe];ze&&(write_ws_biff8_cell(Pe,ze,Qe,Ke,_e),Fe&&ze.l&&Ie["!links"].push([Oe,ze.l]))}}var We=je.CodeName||je.name||Re;return Fe&&write_biff_rec(Pe,574,write_Window2((Be.Views||[])[0])),Fe&&(Ie["!merges"]||[]).length&&write_biff_rec(Pe,229,write_MergeCells(Ie["!merges"])),Fe&&write_ws_biff8_hlinks(Pe,Ie),write_biff_rec(Pe,442,write_XLUnicodeString(We)),Fe&&write_FEAT(Pe,Ie),write_biff_rec(Pe,10),Pe.end()}function write_biff8_global(Ee,_e,Ce){var Pe=buf_array(),Re=(Ee||{}).Workbook||{},Ie=Re.Sheets||[],Be=Re.WBProps||{},je=Ce.biff==8,De=Ce.biff==5;if(write_biff_rec(Pe,2057,write_BOF(Ee,5,Ce)),Ce.bookType=="xla"&&write_biff_rec(Pe,135),write_biff_rec(Pe,225,je?writeuint16(1200):null),write_biff_rec(Pe,193,writezeroes(2)),De&&write_biff_rec(Pe,191),De&&write_biff_rec(Pe,192),write_biff_rec(Pe,226),write_biff_rec(Pe,92,write_WriteAccess("SheetJS",Ce)),write_biff_rec(Pe,66,writeuint16(je?1200:1252)),je&&write_biff_rec(Pe,353,writeuint16(0)),je&&write_biff_rec(Pe,448),write_biff_rec(Pe,317,write_RRTabId(Ee.SheetNames.length)),je&&Ee.vbaraw&&write_biff_rec(Pe,211),je&&Ee.vbaraw){var Fe=Be.CodeName||"ThisWorkbook";write_biff_rec(Pe,442,write_XLUnicodeString(Fe))}write_biff_rec(Pe,156,writeuint16(17)),write_biff_rec(Pe,25,writebool(!1)),write_biff_rec(Pe,18,writebool(!1)),write_biff_rec(Pe,19,writeuint16(0)),je&&write_biff_rec(Pe,431,writebool(!1)),je&&write_biff_rec(Pe,444,writeuint16(0)),write_biff_rec(Pe,61,write_Window1()),write_biff_rec(Pe,64,writebool(!1)),write_biff_rec(Pe,141,writeuint16(0)),write_biff_rec(Pe,34,writebool(safe1904(Ee)=="true")),write_biff_rec(Pe,14,writebool(!0)),je&&write_biff_rec(Pe,439,writebool(!1)),write_biff_rec(Pe,218,writeuint16(0)),write_FONTS_biff8(Pe,Ee,Ce),write_FMTS_biff8(Pe,Ee.SSF,Ce),write_CELLXFS_biff8(Pe,Ce),je&&write_biff_rec(Pe,352,writebool(!1));var Oe=Pe.end(),ke=buf_array();je&&write_biff_rec(ke,140,write_Country()),je&&Ce.Strings&&write_biff_continue(ke,252,write_SST(Ce.Strings)),write_biff_rec(ke,10);var Me=ke.end(),$e=buf_array(),He=0,Qe=0;for(Qe=0;Qe<Ee.SheetNames.length;++Qe)He+=(je?12:11)+(je?2:1)*Ee.SheetNames[Qe].length;var Ke=Oe.length+He+Me.length;for(Qe=0;Qe<Ee.SheetNames.length;++Qe){var ze=Ie[Qe]||{};write_biff_rec($e,133,write_BoundSheet8({pos:Ke,hs:ze.Hidden||0,dt:0,name:Ee.SheetNames[Qe]},Ce)),Ke+=_e[Qe].length}var We=$e.end();if(He!=We.length)throw new Error("BS8 "+He+" != "+We.length);var qe=[];return Oe.length&&qe.push(Oe),We.length&&qe.push(We),Me.length&&qe.push(Me),bconcat(qe)}function write_biff8_buf(Ee,_e){var Ce=_e||{},Pe=[];Ee&&!Ee.SSF&&(Ee.SSF=dup(table_fmt)),Ee&&Ee.SSF&&(make_ssf(),SSF_load_table(Ee.SSF),Ce.revssf=evert_num(Ee.SSF),Ce.revssf[Ee.SSF[65535]]=0,Ce.ssf=Ee.SSF),Ce.Strings=[],Ce.Strings.Count=0,Ce.Strings.Unique=0,fix_write_opts(Ce),Ce.cellXfs=[],get_cell_style(Ce.cellXfs,{},{revssf:{General:0}}),Ee.Props||(Ee.Props={});for(var Re=0;Re<Ee.SheetNames.length;++Re)Pe[Pe.length]=write_ws_biff8(Re,Ce,Ee);return Pe.unshift(write_biff8_global(Ee,Pe,Ce)),bconcat(Pe)}function write_biff_buf(Ee,_e){for(var Ce=0;Ce<=Ee.SheetNames.length;++Ce){var Pe=Ee.Sheets[Ee.SheetNames[Ce]];if(!(!Pe||!Pe["!ref"])){var Re=decode_range(Pe["!ref"]);Re.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+Ee.SheetNames[Ce]+"' extends beyond column IV (255).  Data may be lost.")}}var Ie=_e||{};switch(Ie.biff||2){case 8:case 5:return write_biff8_buf(Ee,_e);case 4:case 3:case 2:return write_biff2_buf(Ee,_e)}throw new Error("invalid type "+Ie.bookType+" for BIFF")}function make_html_row(Ee,_e,Ce,Pe){for(var Re=Ee["!merges"]||[],Ie=[],Be=_e.s.c;Be<=_e.e.c;++Be){for(var je=0,De=0,Fe=0;Fe<Re.length;++Fe)if(!(Re[Fe].s.r>Ce||Re[Fe].s.c>Be)&&!(Re[Fe].e.r<Ce||Re[Fe].e.c<Be)){if(Re[Fe].s.r<Ce||Re[Fe].s.c<Be){je=-1;break}je=Re[Fe].e.r-Re[Fe].s.r+1,De=Re[Fe].e.c-Re[Fe].s.c+1;break}if(!(je<0)){var Oe=encode_cell({r:Ce,c:Be}),ke=Pe.dense?(Ee[Ce]||[])[Be]:Ee[Oe],Me=ke&&ke.v!=null&&(ke.h||escapehtml(ke.w||(format_cell(ke),ke.w)||""))||"",$e={};je>1&&($e.rowspan=je),De>1&&($e.colspan=De),Pe.editable?Me='<span contenteditable="true">'+Me+"</span>":ke&&($e["data-t"]=ke&&ke.t||"z",ke.v!=null&&($e["data-v"]=ke.v),ke.z!=null&&($e["data-z"]=ke.z),ke.l&&(ke.l.Target||"#").charAt(0)!="#"&&(Me='<a href="'+ke.l.Target+'">'+Me+"</a>")),$e.id=(Pe.id||"sjs")+"-"+Oe,Ie.push(writextag("td",Me,$e))}}var He="<tr>";return He+Ie.join("")+"</tr>"}var HTML_BEGIN='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',HTML_END="</body></html>";function make_html_preamble(Ee,_e,Ce){var Pe=[];return Pe.join("")+"<table"+(Ce&&Ce.id?' id="'+Ce.id+'"':"")+">"}function sheet_to_html(Ee,_e){var Ce=_e||{},Pe=Ce.header!=null?Ce.header:HTML_BEGIN,Re=Ce.footer!=null?Ce.footer:HTML_END,Ie=[Pe],Be=decode_range(Ee["!ref"]);Ce.dense=Array.isArray(Ee),Ie.push(make_html_preamble(Ee,Be,Ce));for(var je=Be.s.r;je<=Be.e.r;++je)Ie.push(make_html_row(Ee,Be,je,Ce));return Ie.push("</table>"+Re),Ie.join("")}function sheet_add_dom(Ee,_e,Ce){var Pe=Ce||{},Re=0,Ie=0;if(Pe.origin!=null)if(typeof Pe.origin=="number")Re=Pe.origin;else{var Be=typeof Pe.origin=="string"?decode_cell(Pe.origin):Pe.origin;Re=Be.r,Ie=Be.c}var je=_e.getElementsByTagName("tr"),De=Math.min(Pe.sheetRows||1e7,je.length),Fe={s:{r:0,c:0},e:{r:Re,c:Ie}};if(Ee["!ref"]){var Oe=decode_range(Ee["!ref"]);Fe.s.r=Math.min(Fe.s.r,Oe.s.r),Fe.s.c=Math.min(Fe.s.c,Oe.s.c),Fe.e.r=Math.max(Fe.e.r,Oe.e.r),Fe.e.c=Math.max(Fe.e.c,Oe.e.c),Re==-1&&(Fe.e.r=Re=Oe.e.r+1)}var ke=[],Me=0,$e=Ee["!rows"]||(Ee["!rows"]=[]),He=0,Qe=0,Ke=0,ze=0,We=0,qe=0;for(Ee["!cols"]||(Ee["!cols"]=[]);He<je.length&&Qe<De;++He){var Ye=je[He];if(is_dom_element_hidden(Ye)){if(Pe.display)continue;$e[Qe]={hidden:!0}}var Xe=Ye.children;for(Ke=ze=0;Ke<Xe.length;++Ke){var rr=Xe[Ke];if(!(Pe.display&&is_dom_element_hidden(rr))){var Je=rr.hasAttribute("data-v")?rr.getAttribute("data-v"):rr.hasAttribute("v")?rr.getAttribute("v"):htmldecode(rr.innerHTML),er=rr.getAttribute("data-z")||rr.getAttribute("z");for(Me=0;Me<ke.length;++Me){var or=ke[Me];or.s.c==ze+Ie&&or.s.r<Qe+Re&&Qe+Re<=or.e.r&&(ze=or.e.c+1-Ie,Me=-1)}qe=+rr.getAttribute("colspan")||1,((We=+rr.getAttribute("rowspan")||1)>1||qe>1)&&ke.push({s:{r:Qe+Re,c:ze+Ie},e:{r:Qe+Re+(We||1)-1,c:ze+Ie+(qe||1)-1}});var pr={t:"s",v:Je},ar=rr.getAttribute("data-t")||rr.getAttribute("t")||"";Je!=null&&(Je.length==0?pr.t=ar||"z":Pe.raw||Je.trim().length==0||ar=="s"||(Je==="TRUE"?pr={t:"b",v:!0}:Je==="FALSE"?pr={t:"b",v:!1}:isNaN(fuzzynum(Je))?isNaN(fuzzydate(Je).getDate())||(pr={t:"d",v:parseDate(Je)},Pe.cellDates||(pr={t:"n",v:datenum(pr.v)}),pr.z=Pe.dateNF||table_fmt[14]):pr={t:"n",v:fuzzynum(Je)})),pr.z===void 0&&er!=null&&(pr.z=er);var fr="",gr=rr.getElementsByTagName("A");if(gr&&gr.length)for(var Rr=0;Rr<gr.length&&!(gr[Rr].hasAttribute("href")&&(fr=gr[Rr].getAttribute("href"),fr.charAt(0)!="#"));++Rr);fr&&fr.charAt(0)!="#"&&(pr.l={Target:fr}),Pe.dense?(Ee[Qe+Re]||(Ee[Qe+Re]=[]),Ee[Qe+Re][ze+Ie]=pr):Ee[encode_cell({c:ze+Ie,r:Qe+Re})]=pr,Fe.e.c<ze+Ie&&(Fe.e.c=ze+Ie),ze+=qe}}++Qe}return ke.length&&(Ee["!merges"]=(Ee["!merges"]||[]).concat(ke)),Fe.e.r=Math.max(Fe.e.r,Qe-1+Re),Ee["!ref"]=encode_range(Fe),Qe>=De&&(Ee["!fullref"]=encode_range((Fe.e.r=je.length-He+Qe-1+Re,Fe))),Ee}function parse_dom_table(Ee,_e){var Ce=_e||{},Pe=Ce.dense?[]:{};return sheet_add_dom(Pe,Ee,_e)}function table_to_book(Ee,_e){return sheet_to_workbook(parse_dom_table(Ee,_e),_e)}function is_dom_element_hidden(Ee){var _e="",Ce=get_get_computed_style_function(Ee);return Ce&&(_e=Ce(Ee).getPropertyValue("display")),_e||(_e=Ee.style&&Ee.style.display),_e==="none"}function get_get_computed_style_function(Ee){return Ee.ownerDocument.defaultView&&typeof Ee.ownerDocument.defaultView.getComputedStyle=="function"?Ee.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var write_styles_ods=function(){var Ee=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),_e="<office:document-styles "+wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+Ee+"</office:document-styles>";return function(){return XML_HEADER+_e}}(),write_content_ods=function(){var Ee=function(Ie){return escapexml(Ie).replace(/  +/g,function(Be){return'<text:s text:c="'+Be.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},_e=`          <table:table-cell />
`,Ce=`          <table:covered-table-cell/>
`,Pe=function(Ie,Be,je){var De=[];De.push('      <table:table table:name="'+escapexml(Be.SheetNames[je])+`" table:style-name="ta1">
`);var Fe=0,Oe=0,ke=decode_range(Ie["!ref"]||"A1"),Me=Ie["!merges"]||[],$e=0,He=Array.isArray(Ie);if(Ie["!cols"])for(Oe=0;Oe<=ke.e.c;++Oe)De.push("        <table:table-column"+(Ie["!cols"][Oe]?' table:style-name="co'+Ie["!cols"][Oe].ods+'"':"")+`></table:table-column>
`);var Qe="",Ke=Ie["!rows"]||[];for(Fe=0;Fe<ke.s.r;++Fe)Qe=Ke[Fe]?' table:style-name="ro'+Ke[Fe].ods+'"':"",De.push("        <table:table-row"+Qe+`></table:table-row>
`);for(;Fe<=ke.e.r;++Fe){for(Qe=Ke[Fe]?' table:style-name="ro'+Ke[Fe].ods+'"':"",De.push("        <table:table-row"+Qe+`>
`),Oe=0;Oe<ke.s.c;++Oe)De.push(_e);for(;Oe<=ke.e.c;++Oe){var ze=!1,We={},qe="";for($e=0;$e!=Me.length;++$e)if(!(Me[$e].s.c>Oe)&&!(Me[$e].s.r>Fe)&&!(Me[$e].e.c<Oe)&&!(Me[$e].e.r<Fe)){(Me[$e].s.c!=Oe||Me[$e].s.r!=Fe)&&(ze=!0),We["table:number-columns-spanned"]=Me[$e].e.c-Me[$e].s.c+1,We["table:number-rows-spanned"]=Me[$e].e.r-Me[$e].s.r+1;break}if(ze){De.push(Ce);continue}var Ye=encode_cell({r:Fe,c:Oe}),Xe=He?(Ie[Fe]||[])[Oe]:Ie[Ye];if(Xe&&Xe.f&&(We["table:formula"]=escapexml(csf_to_ods_formula(Xe.f)),Xe.F&&Xe.F.slice(0,Ye.length)==Ye)){var rr=decode_range(Xe.F);We["table:number-matrix-columns-spanned"]=rr.e.c-rr.s.c+1,We["table:number-matrix-rows-spanned"]=rr.e.r-rr.s.r+1}if(!Xe){De.push(_e);continue}switch(Xe.t){case"b":qe=Xe.v?"TRUE":"FALSE",We["office:value-type"]="boolean",We["office:boolean-value"]=Xe.v?"true":"false";break;case"n":qe=Xe.w||String(Xe.v||0),We["office:value-type"]="float",We["office:value"]=Xe.v||0;break;case"s":case"str":qe=Xe.v==null?"":Xe.v,We["office:value-type"]="string";break;case"d":qe=Xe.w||parseDate(Xe.v).toISOString(),We["office:value-type"]="date",We["office:date-value"]=parseDate(Xe.v).toISOString(),We["table:style-name"]="ce1";break;default:De.push(_e);continue}var Je=Ee(qe);if(Xe.l&&Xe.l.Target){var er=Xe.l.Target;er=er.charAt(0)=="#"?"#"+csf_to_ods_3D(er.slice(1)):er,er.charAt(0)!="#"&&!er.match(/^\w+:/)&&(er="../"+er),Je=writextag("text:a",Je,{"xlink:href":er.replace(/&/g,"&amp;")})}De.push("          "+writextag("table:table-cell",writextag("text:p",Je,{}),We)+`
`)}De.push(`        </table:table-row>
`)}return De.push(`      </table:table>
`),De.join("")},Re=function(Ie,Be){Ie.push(` <office:automatic-styles>
`),Ie.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),Ie.push(`   <number:month number:style="long"/>
`),Ie.push(`   <number:text>/</number:text>
`),Ie.push(`   <number:day number:style="long"/>
`),Ie.push(`   <number:text>/</number:text>
`),Ie.push(`   <number:year/>
`),Ie.push(`  </number:date-style>
`);var je=0;Be.SheetNames.map(function(Fe){return Be.Sheets[Fe]}).forEach(function(Fe){if(Fe&&Fe["!cols"]){for(var Oe=0;Oe<Fe["!cols"].length;++Oe)if(Fe["!cols"][Oe]){var ke=Fe["!cols"][Oe];if(ke.width==null&&ke.wpx==null&&ke.wch==null)continue;process_col(ke),ke.ods=je;var Me=Fe["!cols"][Oe].wpx+"px";Ie.push('  <style:style style:name="co'+je+`" style:family="table-column">
`),Ie.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+Me+`"/>
`),Ie.push(`  </style:style>
`),++je}}});var De=0;Be.SheetNames.map(function(Fe){return Be.Sheets[Fe]}).forEach(function(Fe){if(Fe&&Fe["!rows"]){for(var Oe=0;Oe<Fe["!rows"].length;++Oe)if(Fe["!rows"][Oe]){Fe["!rows"][Oe].ods=De;var ke=Fe["!rows"][Oe].hpx+"px";Ie.push('  <style:style style:name="ro'+De+`" style:family="table-row">
`),Ie.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+ke+`"/>
`),Ie.push(`  </style:style>
`),++De}}}),Ie.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),Ie.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),Ie.push(`  </style:style>
`),Ie.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),Ie.push(` </office:automatic-styles>
`)};return function(Be,je){var De=[XML_HEADER],Fe=wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),Oe=wxt_helper({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});je.bookType=="fods"?(De.push("<office:document"+Fe+Oe+`>
`),De.push(write_meta_ods().replace(/office:document-meta/g,"office:meta"))):De.push("<office:document-content"+Fe+`>
`),Re(De,Be),De.push(`  <office:body>
`),De.push(`    <office:spreadsheet>
`);for(var ke=0;ke!=Be.SheetNames.length;++ke)De.push(Pe(Be.Sheets[Be.SheetNames[ke]],Be,ke));return De.push(`    </office:spreadsheet>
`),De.push(`  </office:body>
`),je.bookType=="fods"?De.push("</office:document>"):De.push("</office:document-content>"),De.join("")}}();function write_ods(Ee,_e){if(_e.bookType=="fods")return write_content_ods(Ee,_e);var Ce=zip_new(),Pe="",Re=[],Ie=[];return Pe="mimetype",zip_add_file(Ce,Pe,"application/vnd.oasis.opendocument.spreadsheet"),Pe="content.xml",zip_add_file(Ce,Pe,write_content_ods(Ee,_e)),Re.push([Pe,"text/xml"]),Ie.push([Pe,"ContentFile"]),Pe="styles.xml",zip_add_file(Ce,Pe,write_styles_ods(Ee,_e)),Re.push([Pe,"text/xml"]),Ie.push([Pe,"StylesFile"]),Pe="meta.xml",zip_add_file(Ce,Pe,XML_HEADER+write_meta_ods()),Re.push([Pe,"text/xml"]),Ie.push([Pe,"MetadataFile"]),Pe="manifest.rdf",zip_add_file(Ce,Pe,write_rdf(Ie)),Re.push([Pe,"application/rdf+xml"]),Pe="META-INF/manifest.xml",zip_add_file(Ce,Pe,write_manifest(Re)),Ce}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function u8_to_dataview(Ee){return new DataView(Ee.buffer,Ee.byteOffset,Ee.byteLength)}function stru8(Ee){return typeof TextEncoder<"u"?new TextEncoder().encode(Ee):s2a(utf8write(Ee))}function u8contains(Ee,_e){e:for(var Ce=0;Ce<=Ee.length-_e.length;++Ce){for(var Pe=0;Pe<_e.length;++Pe)if(Ee[Ce+Pe]!=_e[Pe])continue e;return!0}return!1}function u8concat(Ee){var _e=Ee.reduce(function(Re,Ie){return Re+Ie.length},0),Ce=new Uint8Array(_e),Pe=0;return Ee.forEach(function(Re){Ce.set(Re,Pe),Pe+=Re.length}),Ce}function writeDecimal128LE(Ee,_e,Ce){var Pe=Math.floor(Ce==0?0:Math.LOG10E*Math.log(Math.abs(Ce)))+6176-20,Re=Ce/Math.pow(10,Pe-6176);Ee[_e+15]|=Pe>>7,Ee[_e+14]|=(Pe&127)<<1;for(var Ie=0;Re>=1;++Ie,Re/=256)Ee[_e+Ie]=Re&255;Ee[_e+15]|=Ce>=0?0:128}function parse_varint49(Ee,_e){var Ce=_e?_e[0]:0,Pe=Ee[Ce]&127;e:if(Ee[Ce++]>=128&&(Pe|=(Ee[Ce]&127)<<7,Ee[Ce++]<128||(Pe|=(Ee[Ce]&127)<<14,Ee[Ce++]<128)||(Pe|=(Ee[Ce]&127)<<21,Ee[Ce++]<128)||(Pe+=(Ee[Ce]&127)*Math.pow(2,28),++Ce,Ee[Ce++]<128)||(Pe+=(Ee[Ce]&127)*Math.pow(2,35),++Ce,Ee[Ce++]<128)||(Pe+=(Ee[Ce]&127)*Math.pow(2,42),++Ce,Ee[Ce++]<128)))break e;return _e&&(_e[0]=Ce),Pe}function write_varint49(Ee){var _e=new Uint8Array(7);_e[0]=Ee&127;var Ce=1;e:if(Ee>127){if(_e[Ce-1]|=128,_e[Ce]=Ee>>7&127,++Ce,Ee<=16383||(_e[Ce-1]|=128,_e[Ce]=Ee>>14&127,++Ce,Ee<=2097151)||(_e[Ce-1]|=128,_e[Ce]=Ee>>21&127,++Ce,Ee<=268435455)||(_e[Ce-1]|=128,_e[Ce]=Ee/256>>>21&127,++Ce,Ee<=34359738367)||(_e[Ce-1]|=128,_e[Ce]=Ee/65536>>>21&127,++Ce,Ee<=4398046511103))break e;_e[Ce-1]|=128,_e[Ce]=Ee/16777216>>>21&127,++Ce}return _e.slice(0,Ce)}function varint_to_i32(Ee){var _e=0,Ce=Ee[_e]&127;e:if(Ee[_e++]>=128){if(Ce|=(Ee[_e]&127)<<7,Ee[_e++]<128||(Ce|=(Ee[_e]&127)<<14,Ee[_e++]<128)||(Ce|=(Ee[_e]&127)<<21,Ee[_e++]<128))break e;Ce|=(Ee[_e]&127)<<28}return Ce}function parse_shallow(Ee){for(var _e=[],Ce=[0];Ce[0]<Ee.length;){var Pe=Ce[0],Re=parse_varint49(Ee,Ce),Ie=Re&7;Re=Math.floor(Re/8);var Be=0,je;if(Re==0)break;switch(Ie){case 0:{for(var De=Ce[0];Ee[Ce[0]++]>=128;);je=Ee.slice(De,Ce[0])}break;case 5:Be=4,je=Ee.slice(Ce[0],Ce[0]+Be),Ce[0]+=Be;break;case 1:Be=8,je=Ee.slice(Ce[0],Ce[0]+Be),Ce[0]+=Be;break;case 2:Be=parse_varint49(Ee,Ce),je=Ee.slice(Ce[0],Ce[0]+Be),Ce[0]+=Be;break;case 3:case 4:default:throw new Error("PB Type ".concat(Ie," for Field ").concat(Re," at offset ").concat(Pe))}var Fe={data:je,type:Ie};_e[Re]==null?_e[Re]=[Fe]:_e[Re].push(Fe)}return _e}function write_shallow(Ee){var _e=[];return Ee.forEach(function(Ce,Pe){Ce.forEach(function(Re){Re.data&&(_e.push(write_varint49(Pe*8+Re.type)),Re.type==2&&_e.push(write_varint49(Re.data.length)),_e.push(Re.data))})}),u8concat(_e)}function parse_iwa_file(Ee){for(var _e,Ce=[],Pe=[0];Pe[0]<Ee.length;){var Re=parse_varint49(Ee,Pe),Ie=parse_shallow(Ee.slice(Pe[0],Pe[0]+Re));Pe[0]+=Re;var Be={id:varint_to_i32(Ie[1][0].data),messages:[]};Ie[2].forEach(function(je){var De=parse_shallow(je.data),Fe=varint_to_i32(De[3][0].data);Be.messages.push({meta:De,data:Ee.slice(Pe[0],Pe[0]+Fe)}),Pe[0]+=Fe}),(_e=Ie[3])!=null&&_e[0]&&(Be.merge=varint_to_i32(Ie[3][0].data)>>>0>0),Ce.push(Be)}return Ce}function write_iwa_file(Ee){var _e=[];return Ee.forEach(function(Ce){var Pe=[];Pe[1]=[{data:write_varint49(Ce.id),type:0}],Pe[2]=[],Ce.merge!=null&&(Pe[3]=[{data:write_varint49(+!!Ce.merge),type:0}]);var Re=[];Ce.messages.forEach(function(Be){Re.push(Be.data),Be.meta[3]=[{type:0,data:write_varint49(Be.data.length)}],Pe[2].push({data:write_shallow(Be.meta),type:2})});var Ie=write_shallow(Pe);_e.push(write_varint49(Ie.length)),_e.push(Ie),Re.forEach(function(Be){return _e.push(Be)})}),u8concat(_e)}function parse_snappy_chunk(Ee,_e){if(Ee!=0)throw new Error("Unexpected Snappy chunk type ".concat(Ee));for(var Ce=[0],Pe=parse_varint49(_e,Ce),Re=[];Ce[0]<_e.length;){var Ie=_e[Ce[0]]&3;if(Ie==0){var Be=_e[Ce[0]++]>>2;if(Be<60)++Be;else{var je=Be-59;Be=_e[Ce[0]],je>1&&(Be|=_e[Ce[0]+1]<<8),je>2&&(Be|=_e[Ce[0]+2]<<16),je>3&&(Be|=_e[Ce[0]+3]<<24),Be>>>=0,Be++,Ce[0]+=je}Re.push(_e.slice(Ce[0],Ce[0]+Be)),Ce[0]+=Be;continue}else{var De=0,Fe=0;if(Ie==1?(Fe=(_e[Ce[0]]>>2&7)+4,De=(_e[Ce[0]++]&224)<<3,De|=_e[Ce[0]++]):(Fe=(_e[Ce[0]++]>>2)+1,Ie==2?(De=_e[Ce[0]]|_e[Ce[0]+1]<<8,Ce[0]+=2):(De=(_e[Ce[0]]|_e[Ce[0]+1]<<8|_e[Ce[0]+2]<<16|_e[Ce[0]+3]<<24)>>>0,Ce[0]+=4)),Re=[u8concat(Re)],De==0)throw new Error("Invalid offset 0");if(De>Re[0].length)throw new Error("Invalid offset beyond length");if(Fe>=De)for(Re.push(Re[0].slice(-De)),Fe-=De;Fe>=Re[Re.length-1].length;)Re.push(Re[Re.length-1]),Fe-=Re[Re.length-1].length;Re.push(Re[0].slice(-De,-De+Fe))}}var Oe=u8concat(Re);if(Oe.length!=Pe)throw new Error("Unexpected length: ".concat(Oe.length," != ").concat(Pe));return Oe}function decompress_iwa_file(Ee){for(var _e=[],Ce=0;Ce<Ee.length;){var Pe=Ee[Ce++],Re=Ee[Ce]|Ee[Ce+1]<<8|Ee[Ce+2]<<16;Ce+=3,_e.push(parse_snappy_chunk(Pe,Ee.slice(Ce,Ce+Re))),Ce+=Re}if(Ce!==Ee.length)throw new Error("data is not a valid framed stream!");return u8concat(_e)}function compress_iwa_file(Ee){for(var _e=[],Ce=0;Ce<Ee.length;){var Pe=Math.min(Ee.length-Ce,268435455),Re=new Uint8Array(4);_e.push(Re);var Ie=write_varint49(Pe),Be=Ie.length;_e.push(Ie),Pe<=60?(Be++,_e.push(new Uint8Array([Pe-1<<2]))):Pe<=256?(Be+=2,_e.push(new Uint8Array([240,Pe-1&255]))):Pe<=65536?(Be+=3,_e.push(new Uint8Array([244,Pe-1&255,Pe-1>>8&255]))):Pe<=16777216?(Be+=4,_e.push(new Uint8Array([248,Pe-1&255,Pe-1>>8&255,Pe-1>>16&255]))):Pe<=4294967296&&(Be+=5,_e.push(new Uint8Array([252,Pe-1&255,Pe-1>>8&255,Pe-1>>16&255,Pe-1>>>24&255]))),_e.push(Ee.slice(Ce,Ce+Pe)),Be+=Pe,Re[0]=0,Re[1]=Be&255,Re[2]=Be>>8&255,Re[3]=Be>>16&255,Ce+=Pe}return u8concat(_e)}function write_new_storage(Ee,_e){var Ce=new Uint8Array(32),Pe=u8_to_dataview(Ce),Re=12,Ie=0;switch(Ce[0]=5,Ee.t){case"n":Ce[1]=2,writeDecimal128LE(Ce,Re,Ee.v),Ie|=1,Re+=16;break;case"b":Ce[1]=6,Pe.setFloat64(Re,Ee.v?1:0,!0),Ie|=2,Re+=8;break;case"s":if(_e.indexOf(Ee.v)==-1)throw new Error("Value ".concat(Ee.v," missing from SST!"));Ce[1]=3,Pe.setUint32(Re,_e.indexOf(Ee.v),!0),Ie|=8,Re+=4;break;default:throw"unsupported cell type "+Ee.t}return Pe.setUint32(8,Ie,!0),Ce.slice(0,Re)}function write_old_storage(Ee,_e){var Ce=new Uint8Array(32),Pe=u8_to_dataview(Ce),Re=12,Ie=0;switch(Ce[0]=3,Ee.t){case"n":Ce[2]=2,Pe.setFloat64(Re,Ee.v,!0),Ie|=32,Re+=8;break;case"b":Ce[2]=6,Pe.setFloat64(Re,Ee.v?1:0,!0),Ie|=32,Re+=8;break;case"s":if(_e.indexOf(Ee.v)==-1)throw new Error("Value ".concat(Ee.v," missing from SST!"));Ce[2]=3,Pe.setUint32(Re,_e.indexOf(Ee.v),!0),Ie|=16,Re+=4;break;default:throw"unsupported cell type "+Ee.t}return Pe.setUint32(4,Ie,!0),Ce.slice(0,Re)}function parse_TSP_Reference(Ee){var _e=parse_shallow(Ee);return parse_varint49(_e[1][0].data)}function write_tile_row(Ee,_e,Ce){var Pe,Re,Ie,Be;if(!((Pe=Ee[6])!=null&&Pe[0])||!((Re=Ee[7])!=null&&Re[0]))throw"Mutation only works on post-BNC storages!";var je=((Be=(Ie=Ee[8])==null?void 0:Ie[0])==null?void 0:Be.data)&&varint_to_i32(Ee[8][0].data)>0||!1;if(je)throw"Math only works with normal offsets";for(var De=0,Fe=u8_to_dataview(Ee[7][0].data),Oe=0,ke=[],Me=u8_to_dataview(Ee[4][0].data),$e=0,He=[],Qe=0;Qe<_e.length;++Qe){if(_e[Qe]==null){Fe.setUint16(Qe*2,65535,!0),Me.setUint16(Qe*2,65535);continue}Fe.setUint16(Qe*2,Oe,!0),Me.setUint16(Qe*2,$e,!0);var Ke,ze;switch(typeof _e[Qe]){case"string":Ke=write_new_storage({t:"s",v:_e[Qe]},Ce),ze=write_old_storage({t:"s",v:_e[Qe]},Ce);break;case"number":Ke=write_new_storage({t:"n",v:_e[Qe]},Ce),ze=write_old_storage({t:"n",v:_e[Qe]},Ce);break;case"boolean":Ke=write_new_storage({t:"b",v:_e[Qe]},Ce),ze=write_old_storage({t:"b",v:_e[Qe]},Ce);break;default:throw new Error("Unsupported value "+_e[Qe])}ke.push(Ke),Oe+=Ke.length,He.push(ze),$e+=ze.length,++De}for(Ee[2][0].data=write_varint49(De);Qe<Ee[7][0].data.length/2;++Qe)Fe.setUint16(Qe*2,65535,!0),Me.setUint16(Qe*2,65535,!0);return Ee[6][0].data=u8concat(ke),Ee[3][0].data=u8concat(He),De}function write_numbers_iwa(Ee,_e){if(!_e||!_e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var Ce=Ee.Sheets[Ee.SheetNames[0]];Ee.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var Pe=decode_range(Ce["!ref"]);Pe.s.r=Pe.s.c=0;var Re=!1;Pe.e.c>9&&(Re=!0,Pe.e.c=9),Pe.e.r>49&&(Re=!0,Pe.e.r=49),Re&&console.error("The Numbers writer is currently limited to ".concat(encode_range(Pe)));var Ie=sheet_to_json(Ce,{range:Pe,header:1}),Be=["~Sh33tJ5~"];Ie.forEach(function(_r){return _r.forEach(function(Pr){typeof Pr=="string"&&Be.push(Pr)})});var je={},De=[],Fe=CFB.read(_e.numbers,{type:"base64"});Fe.FileIndex.map(function(_r,Pr){return[_r,Fe.FullPaths[Pr]]}).forEach(function(_r){var Pr=_r[0],Cr=_r[1];if(Pr.type==2&&Pr.name.match(/\.iwa/)){var Or=Pr.content,Yr=decompress_iwa_file(Or),qr=parse_iwa_file(Yr);qr.forEach(function(Kr){De.push(Kr.id),je[Kr.id]={deps:[],location:Cr,type:varint_to_i32(Kr.messages[0].meta[1][0].data)}})}}),De.sort(function(_r,Pr){return _r-Pr});var Oe=De.filter(function(_r){return _r>1}).map(function(_r){return[_r,write_varint49(_r)]});Fe.FileIndex.map(function(_r,Pr){return[_r,Fe.FullPaths[Pr]]}).forEach(function(_r){var Pr=_r[0];if(_r[1],!!Pr.name.match(/\.iwa/)){var Cr=parse_iwa_file(decompress_iwa_file(Pr.content));Cr.forEach(function(Or){Or.messages.forEach(function(Yr){Oe.forEach(function(qr){Or.messages.some(function(Kr){return varint_to_i32(Kr.meta[1][0].data)!=11006&&u8contains(Kr.data,qr[1])})&&je[qr[0]].deps.push(Or.id)})})})}});for(var ke=CFB.find(Fe,je[1].location),Me=parse_iwa_file(decompress_iwa_file(ke.content)),$e,He=0;He<Me.length;++He){var Qe=Me[He];Qe.id==1&&($e=Qe)}var Ke=parse_TSP_Reference(parse_shallow($e.messages[0].data)[1][0].data);for(ke=CFB.find(Fe,je[Ke].location),Me=parse_iwa_file(decompress_iwa_file(ke.content)),He=0;He<Me.length;++He)Qe=Me[He],Qe.id==Ke&&($e=Qe);for(Ke=parse_TSP_Reference(parse_shallow($e.messages[0].data)[2][0].data),ke=CFB.find(Fe,je[Ke].location),Me=parse_iwa_file(decompress_iwa_file(ke.content)),He=0;He<Me.length;++He)Qe=Me[He],Qe.id==Ke&&($e=Qe);for(Ke=parse_TSP_Reference(parse_shallow($e.messages[0].data)[2][0].data),ke=CFB.find(Fe,je[Ke].location),Me=parse_iwa_file(decompress_iwa_file(ke.content)),He=0;He<Me.length;++He)Qe=Me[He],Qe.id==Ke&&($e=Qe);var ze=parse_shallow($e.messages[0].data);{ze[6][0].data=write_varint49(Pe.e.r+1),ze[7][0].data=write_varint49(Pe.e.c+1);var We=parse_TSP_Reference(ze[46][0].data),qe=CFB.find(Fe,je[We].location),Ye=parse_iwa_file(decompress_iwa_file(qe.content));{for(var Xe=0;Xe<Ye.length&&Ye[Xe].id!=We;++Xe);if(Ye[Xe].id!=We)throw"Bad ColumnRowUIDMapArchive";var rr=parse_shallow(Ye[Xe].messages[0].data);rr[1]=[],rr[2]=[],rr[3]=[];for(var Je=0;Je<=Pe.e.c;++Je){var er=[];er[1]=er[2]=[{type:0,data:write_varint49(Je+420690)}],rr[1].push({type:2,data:write_shallow(er)}),rr[2].push({type:0,data:write_varint49(Je)}),rr[3].push({type:0,data:write_varint49(Je)})}rr[4]=[],rr[5]=[],rr[6]=[];for(var or=0;or<=Pe.e.r;++or)er=[],er[1]=er[2]=[{type:0,data:write_varint49(or+726270)}],rr[4].push({type:2,data:write_shallow(er)}),rr[5].push({type:0,data:write_varint49(or)}),rr[6].push({type:0,data:write_varint49(or)});Ye[Xe].messages[0].data=write_shallow(rr)}qe.content=compress_iwa_file(write_iwa_file(Ye)),qe.size=qe.content.length,delete ze[46];var pr=parse_shallow(ze[4][0].data);{pr[7][0].data=write_varint49(Pe.e.r+1);var ar=parse_shallow(pr[1][0].data),fr=parse_TSP_Reference(ar[2][0].data);qe=CFB.find(Fe,je[fr].location),Ye=parse_iwa_file(decompress_iwa_file(qe.content));{if(Ye[0].id!=fr)throw"Bad HeaderStorageBucket";var gr=parse_shallow(Ye[0].messages[0].data);for(or=0;or<Ie.length;++or){var Rr=parse_shallow(gr[2][0].data);Rr[1][0].data=write_varint49(or),Rr[4][0].data=write_varint49(Ie[or].length),gr[2][or]={type:gr[2][0].type,data:write_shallow(Rr)}}Ye[0].messages[0].data=write_shallow(gr)}qe.content=compress_iwa_file(write_iwa_file(Ye)),qe.size=qe.content.length;var Ir=parse_TSP_Reference(pr[2][0].data);qe=CFB.find(Fe,je[Ir].location),Ye=parse_iwa_file(decompress_iwa_file(qe.content));{if(Ye[0].id!=Ir)throw"Bad HeaderStorageBucket";for(gr=parse_shallow(Ye[0].messages[0].data),Je=0;Je<=Pe.e.c;++Je)Rr=parse_shallow(gr[2][0].data),Rr[1][0].data=write_varint49(Je),Rr[4][0].data=write_varint49(Pe.e.r+1),gr[2][Je]={type:gr[2][0].type,data:write_shallow(Rr)};Ye[0].messages[0].data=write_shallow(gr)}qe.content=compress_iwa_file(write_iwa_file(Ye)),qe.size=qe.content.length;var mr=parse_TSP_Reference(pr[4][0].data);(function(){for(var _r=CFB.find(Fe,je[mr].location),Pr=parse_iwa_file(decompress_iwa_file(_r.content)),Cr,Or=0;Or<Pr.length;++Or){var Yr=Pr[Or];Yr.id==mr&&(Cr=Yr)}var qr=parse_shallow(Cr.messages[0].data);{qr[3]=[];var Kr=[];Be.forEach(function(mn,Cn){Kr[1]=[{type:0,data:write_varint49(Cn)}],Kr[2]=[{type:0,data:write_varint49(1)}],Kr[3]=[{type:2,data:stru8(mn)}],qr[3].push({type:2,data:write_shallow(Kr)})})}Cr.messages[0].data=write_shallow(qr);var Zr=write_iwa_file(Pr),yn=compress_iwa_file(Zr);_r.content=yn,_r.size=_r.content.length})();var Er=parse_shallow(pr[3][0].data);{var Ar=Er[1][0];delete Er[2];var br=parse_shallow(Ar.data);{var wr=parse_TSP_Reference(br[2][0].data);(function(){for(var _r=CFB.find(Fe,je[wr].location),Pr=parse_iwa_file(decompress_iwa_file(_r.content)),Cr,Or=0;Or<Pr.length;++Or){var Yr=Pr[Or];Yr.id==wr&&(Cr=Yr)}var qr=parse_shallow(Cr.messages[0].data);{delete qr[6],delete Er[7];var Kr=new Uint8Array(qr[5][0].data);qr[5]=[];for(var Zr=0,yn=0;yn<=Pe.e.r;++yn){var mn=parse_shallow(Kr);Zr+=write_tile_row(mn,Ie[yn],Be),mn[1][0].data=write_varint49(yn),qr[5].push({data:write_shallow(mn),type:2})}qr[1]=[{type:0,data:write_varint49(Pe.e.c+1)}],qr[2]=[{type:0,data:write_varint49(Pe.e.r+1)}],qr[3]=[{type:0,data:write_varint49(Zr)}],qr[4]=[{type:0,data:write_varint49(Pe.e.r+1)}]}Cr.messages[0].data=write_shallow(qr);var Cn=write_iwa_file(Pr),bn=compress_iwa_file(Cn);_r.content=bn,_r.size=_r.content.length})()}Ar.data=write_shallow(br)}pr[3][0].data=write_shallow(Er)}ze[4][0].data=write_shallow(pr)}$e.messages[0].data=write_shallow(ze);var jr=write_iwa_file(Me),hr=compress_iwa_file(jr);return ke.content=hr,ke.size=ke.content.length,Fe}function fix_opts_func(Ee){return function(Ce){for(var Pe=0;Pe!=Ee.length;++Pe){var Re=Ee[Pe];Ce[Re[0]]===void 0&&(Ce[Re[0]]=Re[1]),Re[2]==="n"&&(Ce[Re[0]]=Number(Ce[Re[0]]))}}}function fix_write_opts(Ee){fix_opts_func([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(Ee)}function write_zip(Ee,_e){return _e.bookType=="ods"?write_ods(Ee,_e):_e.bookType=="numbers"?write_numbers_iwa(Ee,_e):_e.bookType=="xlsb"?write_zip_xlsxb(Ee,_e):write_zip_xlsx(Ee,_e)}function write_zip_xlsxb(Ee,_e){_shapeid=1024,Ee&&!Ee.SSF&&(Ee.SSF=dup(table_fmt)),Ee&&Ee.SSF&&(make_ssf(),SSF_load_table(Ee.SSF),_e.revssf=evert_num(Ee.SSF),_e.revssf[Ee.SSF[65535]]=0,_e.ssf=Ee.SSF),_e.rels={},_e.wbrels={},_e.Strings=[],_e.Strings.Count=0,_e.Strings.Unique=0,browser_has_Map?_e.revStrings=new Map:(_e.revStrings={},_e.revStrings.foo=[],delete _e.revStrings.foo);var Ce=_e.bookType=="xlsb"?"bin":"xml",Pe=VBAFMTS.indexOf(_e.bookType)>-1,Re=new_ct();fix_write_opts(_e=_e||{});var Ie=zip_new(),Be="",je=0;if(_e.cellXfs=[],get_cell_style(_e.cellXfs,{},{revssf:{General:0}}),Ee.Props||(Ee.Props={}),Be="docProps/core.xml",zip_add_file(Ie,Be,write_core_props(Ee.Props,_e)),Re.coreprops.push(Be),add_rels(_e.rels,2,Be,RELS.CORE_PROPS),Be="docProps/app.xml",!(Ee.Props&&Ee.Props.SheetNames))if(!Ee.Workbook||!Ee.Workbook.Sheets)Ee.Props.SheetNames=Ee.SheetNames;else{for(var De=[],Fe=0;Fe<Ee.SheetNames.length;++Fe)(Ee.Workbook.Sheets[Fe]||{}).Hidden!=2&&De.push(Ee.SheetNames[Fe]);Ee.Props.SheetNames=De}for(Ee.Props.Worksheets=Ee.Props.SheetNames.length,zip_add_file(Ie,Be,write_ext_props(Ee.Props)),Re.extprops.push(Be),add_rels(_e.rels,3,Be,RELS.EXT_PROPS),Ee.Custprops!==Ee.Props&&keys(Ee.Custprops||{}).length>0&&(Be="docProps/custom.xml",zip_add_file(Ie,Be,write_cust_props(Ee.Custprops)),Re.custprops.push(Be),add_rels(_e.rels,4,Be,RELS.CUST_PROPS)),je=1;je<=Ee.SheetNames.length;++je){var Oe={"!id":{}},ke=Ee.Sheets[Ee.SheetNames[je-1]],Me=(ke||{})["!type"]||"sheet";switch(Me){case"chart":default:Be="xl/worksheets/sheet"+je+"."+Ce,zip_add_file(Ie,Be,write_ws(je-1,Be,_e,Ee,Oe)),Re.sheets.push(Be),add_rels(_e.wbrels,-1,"worksheets/sheet"+je+"."+Ce,RELS.WS[0])}if(ke){var $e=ke["!comments"],He=!1,Qe="";$e&&$e.length>0&&(Qe="xl/comments"+je+"."+Ce,zip_add_file(Ie,Qe,write_cmnt($e,Qe)),Re.comments.push(Qe),add_rels(Oe,-1,"../comments"+je+"."+Ce,RELS.CMNT),He=!0),ke["!legacy"]&&He&&zip_add_file(Ie,"xl/drawings/vmlDrawing"+je+".vml",write_comments_vml(je,ke["!comments"])),delete ke["!comments"],delete ke["!legacy"]}Oe["!id"].rId1&&zip_add_file(Ie,get_rels_path(Be),write_rels(Oe))}return _e.Strings!=null&&_e.Strings.length>0&&(Be="xl/sharedStrings."+Ce,zip_add_file(Ie,Be,write_sst(_e.Strings,Be,_e)),Re.strs.push(Be),add_rels(_e.wbrels,-1,"sharedStrings."+Ce,RELS.SST)),Be="xl/workbook."+Ce,zip_add_file(Ie,Be,write_wb(Ee,Be)),Re.workbooks.push(Be),add_rels(_e.rels,1,Be,RELS.WB),Be="xl/theme/theme1.xml",zip_add_file(Ie,Be,write_theme(Ee.Themes,_e)),Re.themes.push(Be),add_rels(_e.wbrels,-1,"theme/theme1.xml",RELS.THEME),Be="xl/styles."+Ce,zip_add_file(Ie,Be,write_sty(Ee,Be,_e)),Re.styles.push(Be),add_rels(_e.wbrels,-1,"styles."+Ce,RELS.STY),Ee.vbaraw&&Pe&&(Be="xl/vbaProject.bin",zip_add_file(Ie,Be,Ee.vbaraw),Re.vba.push(Be),add_rels(_e.wbrels,-1,"vbaProject.bin",RELS.VBA)),Be="xl/metadata."+Ce,zip_add_file(Ie,Be,write_xlmeta(Be)),Re.metadata.push(Be),add_rels(_e.wbrels,-1,"metadata."+Ce,RELS.XLMETA),zip_add_file(Ie,"[Content_Types].xml",write_ct(Re,_e)),zip_add_file(Ie,"_rels/.rels",write_rels(_e.rels)),zip_add_file(Ie,"xl/_rels/workbook."+Ce+".rels",write_rels(_e.wbrels)),delete _e.revssf,delete _e.ssf,Ie}function write_zip_xlsx(Ee,_e){_shapeid=1024,Ee&&!Ee.SSF&&(Ee.SSF=dup(table_fmt)),Ee&&Ee.SSF&&(make_ssf(),SSF_load_table(Ee.SSF),_e.revssf=evert_num(Ee.SSF),_e.revssf[Ee.SSF[65535]]=0,_e.ssf=Ee.SSF),_e.rels={},_e.wbrels={},_e.Strings=[],_e.Strings.Count=0,_e.Strings.Unique=0,browser_has_Map?_e.revStrings=new Map:(_e.revStrings={},_e.revStrings.foo=[],delete _e.revStrings.foo);var Ce="xml",Pe=VBAFMTS.indexOf(_e.bookType)>-1,Re=new_ct();fix_write_opts(_e=_e||{});var Ie=zip_new(),Be="",je=0;if(_e.cellXfs=[],get_cell_style(_e.cellXfs,{},{revssf:{General:0}}),Ee.Props||(Ee.Props={}),Be="docProps/core.xml",zip_add_file(Ie,Be,write_core_props(Ee.Props,_e)),Re.coreprops.push(Be),add_rels(_e.rels,2,Be,RELS.CORE_PROPS),Be="docProps/app.xml",!(Ee.Props&&Ee.Props.SheetNames))if(!Ee.Workbook||!Ee.Workbook.Sheets)Ee.Props.SheetNames=Ee.SheetNames;else{for(var De=[],Fe=0;Fe<Ee.SheetNames.length;++Fe)(Ee.Workbook.Sheets[Fe]||{}).Hidden!=2&&De.push(Ee.SheetNames[Fe]);Ee.Props.SheetNames=De}Ee.Props.Worksheets=Ee.Props.SheetNames.length,zip_add_file(Ie,Be,write_ext_props(Ee.Props)),Re.extprops.push(Be),add_rels(_e.rels,3,Be,RELS.EXT_PROPS),Ee.Custprops!==Ee.Props&&keys(Ee.Custprops||{}).length>0&&(Be="docProps/custom.xml",zip_add_file(Ie,Be,write_cust_props(Ee.Custprops)),Re.custprops.push(Be),add_rels(_e.rels,4,Be,RELS.CUST_PROPS));var Oe=["SheetJ5"];for(_e.tcid=0,je=1;je<=Ee.SheetNames.length;++je){var ke={"!id":{}},Me=Ee.Sheets[Ee.SheetNames[je-1]],$e=(Me||{})["!type"]||"sheet";switch($e){case"chart":default:Be="xl/worksheets/sheet"+je+"."+Ce,zip_add_file(Ie,Be,write_ws_xml(je-1,_e,Ee,ke)),Re.sheets.push(Be),add_rels(_e.wbrels,-1,"worksheets/sheet"+je+"."+Ce,RELS.WS[0])}if(Me){var He=Me["!comments"],Qe=!1,Ke="";if(He&&He.length>0){var ze=!1;He.forEach(function(We){We[1].forEach(function(qe){qe.T==!0&&(ze=!0)})}),ze&&(Ke="xl/threadedComments/threadedComment"+je+"."+Ce,zip_add_file(Ie,Ke,write_tcmnt_xml(He,Oe,_e)),Re.threadedcomments.push(Ke),add_rels(ke,-1,"../threadedComments/threadedComment"+je+"."+Ce,RELS.TCMNT)),Ke="xl/comments"+je+"."+Ce,zip_add_file(Ie,Ke,write_comments_xml(He)),Re.comments.push(Ke),add_rels(ke,-1,"../comments"+je+"."+Ce,RELS.CMNT),Qe=!0}Me["!legacy"]&&Qe&&zip_add_file(Ie,"xl/drawings/vmlDrawing"+je+".vml",write_comments_vml(je,Me["!comments"])),delete Me["!comments"],delete Me["!legacy"]}ke["!id"].rId1&&zip_add_file(Ie,get_rels_path(Be),write_rels(ke))}return _e.Strings!=null&&_e.Strings.length>0&&(Be="xl/sharedStrings."+Ce,zip_add_file(Ie,Be,write_sst_xml(_e.Strings,_e)),Re.strs.push(Be),add_rels(_e.wbrels,-1,"sharedStrings."+Ce,RELS.SST)),Be="xl/workbook."+Ce,zip_add_file(Ie,Be,write_wb_xml(Ee)),Re.workbooks.push(Be),add_rels(_e.rels,1,Be,RELS.WB),Be="xl/theme/theme1.xml",zip_add_file(Ie,Be,write_theme(Ee.Themes,_e)),Re.themes.push(Be),add_rels(_e.wbrels,-1,"theme/theme1.xml",RELS.THEME),Be="xl/styles."+Ce,zip_add_file(Ie,Be,write_sty_xml(Ee,_e)),Re.styles.push(Be),add_rels(_e.wbrels,-1,"styles."+Ce,RELS.STY),Ee.vbaraw&&Pe&&(Be="xl/vbaProject.bin",zip_add_file(Ie,Be,Ee.vbaraw),Re.vba.push(Be),add_rels(_e.wbrels,-1,"vbaProject.bin",RELS.VBA)),Be="xl/metadata."+Ce,zip_add_file(Ie,Be,write_xlmeta_xml()),Re.metadata.push(Be),add_rels(_e.wbrels,-1,"metadata."+Ce,RELS.XLMETA),Oe.length>1&&(Be="xl/persons/person.xml",zip_add_file(Ie,Be,write_people_xml(Oe)),Re.people.push(Be),add_rels(_e.wbrels,-1,"persons/person.xml",RELS.PEOPLE)),zip_add_file(Ie,"[Content_Types].xml",write_ct(Re,_e)),zip_add_file(Ie,"_rels/.rels",write_rels(_e.rels)),zip_add_file(Ie,"xl/_rels/workbook."+Ce+".rels",write_rels(_e.wbrels)),delete _e.revssf,delete _e.ssf,Ie}function firstbyte(Ee,_e){var Ce="";switch((_e||{}).type||"base64"){case"buffer":return[Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5],Ee[6],Ee[7]];case"base64":Ce=Base64_decode(Ee.slice(0,12));break;case"binary":Ce=Ee;break;case"array":return[Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5],Ee[6],Ee[7]];default:throw new Error("Unrecognized type "+(_e&&_e.type||"undefined"))}return[Ce.charCodeAt(0),Ce.charCodeAt(1),Ce.charCodeAt(2),Ce.charCodeAt(3),Ce.charCodeAt(4),Ce.charCodeAt(5),Ce.charCodeAt(6),Ce.charCodeAt(7)]}function write_cfb_ctr(Ee,_e){switch(_e.type){case"base64":case"binary":break;case"buffer":case"array":_e.type="";break;case"file":return write_dl(_e.file,CFB.write(Ee,{type:has_buf?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+_e.bookType+"' files");default:throw new Error("Unrecognized type "+_e.type)}return CFB.write(Ee,_e)}function write_zip_type(Ee,_e){var Ce=dup(_e||{}),Pe=write_zip(Ee,Ce);return write_zip_denouement(Pe,Ce)}function write_zip_denouement(Ee,_e){var Ce={},Pe=has_buf?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(_e.compression&&(Ce.compression="DEFLATE"),_e.password)Ce.type=Pe;else switch(_e.type){case"base64":Ce.type="base64";break;case"binary":Ce.type="string";break;case"string":throw new Error("'string' output type invalid for '"+_e.bookType+"' files");case"buffer":case"file":Ce.type=Pe;break;default:throw new Error("Unrecognized type "+_e.type)}var Re=Ee.FullPaths?CFB.write(Ee,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[Ce.type]||Ce.type,compression:!!_e.compression}):Ee.generate(Ce);if(typeof Deno<"u"&&typeof Re=="string"){if(_e.type=="binary"||_e.type=="base64")return Re;Re=new Uint8Array(s2ab(Re))}return _e.password&&typeof encrypt_agile<"u"?write_cfb_ctr(encrypt_agile(Re,_e.password),_e):_e.type==="file"?write_dl(_e.file,Re):_e.type=="string"?utf8read(Re):Re}function write_cfb_type(Ee,_e){var Ce=_e||{},Pe=write_xlscfb(Ee,Ce);return write_cfb_ctr(Pe,Ce)}function write_string_type(Ee,_e,Ce){Ce||(Ce="");var Pe=Ce+Ee;switch(_e.type){case"base64":return Base64_encode(utf8write(Pe));case"binary":return utf8write(Pe);case"string":return Ee;case"file":return write_dl(_e.file,Pe,"utf8");case"buffer":return has_buf?Buffer_from(Pe,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(Pe):write_string_type(Pe,{type:"binary"}).split("").map(function(Re){return Re.charCodeAt(0)})}throw new Error("Unrecognized type "+_e.type)}function write_stxt_type(Ee,_e){switch(_e.type){case"base64":return Base64_encode(Ee);case"binary":return Ee;case"string":return Ee;case"file":return write_dl(_e.file,Ee,"binary");case"buffer":return has_buf?Buffer_from(Ee,"binary"):Ee.split("").map(function(Ce){return Ce.charCodeAt(0)})}throw new Error("Unrecognized type "+_e.type)}function write_binary_type(Ee,_e){switch(_e.type){case"string":case"base64":case"binary":for(var Ce="",Pe=0;Pe<Ee.length;++Pe)Ce+=String.fromCharCode(Ee[Pe]);return _e.type=="base64"?Base64_encode(Ce):_e.type=="string"?utf8read(Ce):Ce;case"file":return write_dl(_e.file,Ee);case"buffer":return Ee;default:throw new Error("Unrecognized type "+_e.type)}}function writeSync(Ee,_e){reset_cp(),check_wb(Ee);var Ce=dup(_e||{});if(Ce.cellStyles&&(Ce.cellNF=!0,Ce.sheetStubs=!0),Ce.type=="array"){Ce.type="binary";var Pe=writeSync(Ee,Ce);return Ce.type="array",s2ab(Pe)}var Re=0;if(Ce.sheet&&(typeof Ce.sheet=="number"?Re=Ce.sheet:Re=Ee.SheetNames.indexOf(Ce.sheet),!Ee.SheetNames[Re]))throw new Error("Sheet not found: "+Ce.sheet+" : "+typeof Ce.sheet);switch(Ce.bookType||"xlsb"){case"xml":case"xlml":return write_string_type(write_xlml(Ee,Ce),Ce);case"slk":case"sylk":return write_string_type(SYLK.from_sheet(Ee.Sheets[Ee.SheetNames[Re]],Ce),Ce);case"htm":case"html":return write_string_type(sheet_to_html(Ee.Sheets[Ee.SheetNames[Re]],Ce),Ce);case"txt":return write_stxt_type(sheet_to_txt(Ee.Sheets[Ee.SheetNames[Re]],Ce),Ce);case"csv":return write_string_type(sheet_to_csv(Ee.Sheets[Ee.SheetNames[Re]],Ce),Ce,"\uFEFF");case"dif":return write_string_type(DIF.from_sheet(Ee.Sheets[Ee.SheetNames[Re]],Ce),Ce);case"dbf":return write_binary_type(DBF.from_sheet(Ee.Sheets[Ee.SheetNames[Re]],Ce),Ce);case"prn":return write_string_type(PRN.from_sheet(Ee.Sheets[Ee.SheetNames[Re]],Ce),Ce);case"rtf":return write_string_type(RTF.from_sheet(Ee.Sheets[Ee.SheetNames[Re]],Ce),Ce);case"eth":return write_string_type(ETH.from_sheet(Ee.Sheets[Ee.SheetNames[Re]],Ce),Ce);case"fods":return write_string_type(write_ods(Ee,Ce),Ce);case"wk1":return write_binary_type(WK_.sheet_to_wk1(Ee.Sheets[Ee.SheetNames[Re]],Ce),Ce);case"wk3":return write_binary_type(WK_.book_to_wk3(Ee,Ce),Ce);case"biff2":Ce.biff||(Ce.biff=2);case"biff3":Ce.biff||(Ce.biff=3);case"biff4":return Ce.biff||(Ce.biff=4),write_binary_type(write_biff_buf(Ee,Ce),Ce);case"biff5":Ce.biff||(Ce.biff=5);case"biff8":case"xla":case"xls":return Ce.biff||(Ce.biff=8),write_cfb_type(Ee,Ce);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return write_zip_type(Ee,Ce);default:throw new Error("Unrecognized bookType |"+Ce.bookType+"|")}}function resolve_book_type(Ee){if(!Ee.bookType){var _e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},Ce=Ee.file.slice(Ee.file.lastIndexOf(".")).toLowerCase();Ce.match(/^\.[a-z]+$/)&&(Ee.bookType=Ce.slice(1)),Ee.bookType=_e[Ee.bookType]||Ee.bookType}}function writeFileSync(Ee,_e,Ce){var Pe={};return Pe.type="file",Pe.file=_e,resolve_book_type(Pe),writeSync(Ee,Pe)}function make_json_row(Ee,_e,Ce,Pe,Re,Ie,Be,je){var De=encode_row(Ce),Fe=je.defval,Oe=je.raw||!Object.prototype.hasOwnProperty.call(je,"raw"),ke=!0,Me=Re===1?[]:{};if(Re!==1)if(Object.defineProperty)try{Object.defineProperty(Me,"__rowNum__",{value:Ce,enumerable:!1})}catch{Me.__rowNum__=Ce}else Me.__rowNum__=Ce;if(!Be||Ee[Ce])for(var $e=_e.s.c;$e<=_e.e.c;++$e){var He=Be?Ee[Ce][$e]:Ee[Pe[$e]+De];if(He===void 0||He.t===void 0){if(Fe===void 0)continue;Ie[$e]!=null&&(Me[Ie[$e]]=Fe);continue}var Qe=He.v;switch(He.t){case"z":if(Qe==null)break;continue;case"e":Qe=Qe==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+He.t)}if(Ie[$e]!=null){if(Qe==null)if(He.t=="e"&&Qe===null)Me[Ie[$e]]=null;else if(Fe!==void 0)Me[Ie[$e]]=Fe;else if(Oe&&Qe===null)Me[Ie[$e]]=null;else continue;else Me[Ie[$e]]=Oe&&(He.t!=="n"||He.t==="n"&&je.rawNumbers!==!1)?Qe:format_cell(He,Qe,je);Qe!=null&&(ke=!1)}}return{row:Me,isempty:ke}}function sheet_to_json(Ee,_e){if(Ee==null||Ee["!ref"]==null)return[];var Ce={t:"n",v:0},Pe=0,Re=1,Ie=[],Be=0,je="",De={s:{r:0,c:0},e:{r:0,c:0}},Fe=_e||{},Oe=Fe.range!=null?Fe.range:Ee["!ref"];switch(Fe.header===1?Pe=1:Fe.header==="A"?Pe=2:Array.isArray(Fe.header)?Pe=3:Fe.header==null&&(Pe=0),typeof Oe){case"string":De=safe_decode_range(Oe);break;case"number":De=safe_decode_range(Ee["!ref"]),De.s.r=Oe;break;default:De=Oe}Pe>0&&(Re=0);var ke=encode_row(De.s.r),Me=[],$e=[],He=0,Qe=0,Ke=Array.isArray(Ee),ze=De.s.r,We=0,qe={};Ke&&!Ee[ze]&&(Ee[ze]=[]);var Ye=Fe.skipHidden&&Ee["!cols"]||[],Xe=Fe.skipHidden&&Ee["!rows"]||[];for(We=De.s.c;We<=De.e.c;++We)if(!(Ye[We]||{}).hidden)switch(Me[We]=encode_col(We),Ce=Ke?Ee[ze][We]:Ee[Me[We]+ke],Pe){case 1:Ie[We]=We-De.s.c;break;case 2:Ie[We]=Me[We];break;case 3:Ie[We]=Fe.header[We-De.s.c];break;default:if(Ce==null&&(Ce={w:"__EMPTY",t:"s"}),je=Be=format_cell(Ce,null,Fe),Qe=qe[Be]||0,!Qe)qe[Be]=1;else{do je=Be+"_"+Qe++;while(qe[je]);qe[Be]=Qe,qe[je]=1}Ie[We]=je}for(ze=De.s.r+Re;ze<=De.e.r;++ze)if(!(Xe[ze]||{}).hidden){var rr=make_json_row(Ee,De,ze,Me,Pe,Ie,Ke,Fe);(rr.isempty===!1||(Pe===1?Fe.blankrows!==!1:Fe.blankrows))&&($e[He++]=rr.row)}return $e.length=He,$e}var qreg=/"/g;function make_csv_row(Ee,_e,Ce,Pe,Re,Ie,Be,je){for(var De=!0,Fe=[],Oe="",ke=encode_row(Ce),Me=_e.s.c;Me<=_e.e.c;++Me)if(Pe[Me]){var $e=je.dense?(Ee[Ce]||[])[Me]:Ee[Pe[Me]+ke];if($e==null)Oe="";else if($e.v!=null){De=!1,Oe=""+(je.rawNumbers&&$e.t=="n"?$e.v:format_cell($e,null,je));for(var He=0,Qe=0;He!==Oe.length;++He)if((Qe=Oe.charCodeAt(He))===Re||Qe===Ie||Qe===34||je.forceQuotes){Oe='"'+Oe.replace(qreg,'""')+'"';break}Oe=="ID"&&(Oe='"ID"')}else $e.f!=null&&!$e.F?(De=!1,Oe="="+$e.f,Oe.indexOf(",")>=0&&(Oe='"'+Oe.replace(qreg,'""')+'"')):Oe="";Fe.push(Oe)}return je.blankrows===!1&&De?null:Fe.join(Be)}function sheet_to_csv(Ee,_e){var Ce=[],Pe=_e??{};if(Ee==null||Ee["!ref"]==null)return"";var Re=safe_decode_range(Ee["!ref"]),Ie=Pe.FS!==void 0?Pe.FS:",",Be=Ie.charCodeAt(0),je=Pe.RS!==void 0?Pe.RS:`
`,De=je.charCodeAt(0),Fe=new RegExp((Ie=="|"?"\\|":Ie)+"+$"),Oe="",ke=[];Pe.dense=Array.isArray(Ee);for(var Me=Pe.skipHidden&&Ee["!cols"]||[],$e=Pe.skipHidden&&Ee["!rows"]||[],He=Re.s.c;He<=Re.e.c;++He)(Me[He]||{}).hidden||(ke[He]=encode_col(He));for(var Qe=0,Ke=Re.s.r;Ke<=Re.e.r;++Ke)($e[Ke]||{}).hidden||(Oe=make_csv_row(Ee,Re,Ke,ke,Be,De,Ie,Pe),Oe!=null&&(Pe.strip&&(Oe=Oe.replace(Fe,"")),(Oe||Pe.blankrows!==!1)&&Ce.push((Qe++?je:"")+Oe)));return delete Pe.dense,Ce.join("")}function sheet_to_txt(Ee,_e){_e||(_e={}),_e.FS="	",_e.RS=`
`;var Ce=sheet_to_csv(Ee,_e);return Ce}function sheet_to_formulae(Ee){var _e="",Ce,Pe="";if(Ee==null||Ee["!ref"]==null)return[];var Re=safe_decode_range(Ee["!ref"]),Ie="",Be=[],je,De=[],Fe=Array.isArray(Ee);for(je=Re.s.c;je<=Re.e.c;++je)Be[je]=encode_col(je);for(var Oe=Re.s.r;Oe<=Re.e.r;++Oe)for(Ie=encode_row(Oe),je=Re.s.c;je<=Re.e.c;++je)if(_e=Be[je]+Ie,Ce=Fe?(Ee[Oe]||[])[je]:Ee[_e],Pe="",Ce!==void 0){if(Ce.F!=null){if(_e=Ce.F,!Ce.f)continue;Pe=Ce.f,_e.indexOf(":")==-1&&(_e=_e+":"+_e)}if(Ce.f!=null)Pe=Ce.f;else{if(Ce.t=="z")continue;if(Ce.t=="n"&&Ce.v!=null)Pe=""+Ce.v;else if(Ce.t=="b")Pe=Ce.v?"TRUE":"FALSE";else if(Ce.w!==void 0)Pe="'"+Ce.w;else{if(Ce.v===void 0)continue;Ce.t=="s"?Pe="'"+Ce.v:Pe=""+Ce.v}}De[De.length]=_e+"="+Pe}return De}function sheet_add_json(Ee,_e,Ce){var Pe=Ce||{},Re=+!Pe.skipHeader,Ie=Ee||{},Be=0,je=0;if(Ie&&Pe.origin!=null)if(typeof Pe.origin=="number")Be=Pe.origin;else{var De=typeof Pe.origin=="string"?decode_cell(Pe.origin):Pe.origin;Be=De.r,je=De.c}var Fe,Oe={s:{c:0,r:0},e:{c:je,r:Be+_e.length-1+Re}};if(Ie["!ref"]){var ke=safe_decode_range(Ie["!ref"]);Oe.e.c=Math.max(Oe.e.c,ke.e.c),Oe.e.r=Math.max(Oe.e.r,ke.e.r),Be==-1&&(Be=ke.e.r+1,Oe.e.r=Be+_e.length-1+Re)}else Be==-1&&(Be=0,Oe.e.r=_e.length-1+Re);var Me=Pe.header||[],$e=0;_e.forEach(function(Qe,Ke){keys(Qe).forEach(function(ze){($e=Me.indexOf(ze))==-1&&(Me[$e=Me.length]=ze);var We=Qe[ze],qe="z",Ye="",Xe=encode_cell({c:je+$e,r:Be+Ke+Re});Fe=ws_get_cell_stub(Ie,Xe),We&&typeof We=="object"&&!(We instanceof Date)?Ie[Xe]=We:(typeof We=="number"?qe="n":typeof We=="boolean"?qe="b":typeof We=="string"?qe="s":We instanceof Date?(qe="d",Pe.cellDates||(qe="n",We=datenum(We)),Ye=Pe.dateNF||table_fmt[14]):We===null&&Pe.nullError&&(qe="e",We=0),Fe?(Fe.t=qe,Fe.v=We,delete Fe.w,delete Fe.R,Ye&&(Fe.z=Ye)):Ie[Xe]=Fe={t:qe,v:We},Ye&&(Fe.z=Ye))})}),Oe.e.c=Math.max(Oe.e.c,je+Me.length-1);var He=encode_row(Be);if(Re)for($e=0;$e<Me.length;++$e)Ie[encode_col($e+je)+He]={t:"s",v:Me[$e]};return Ie["!ref"]=encode_range(Oe),Ie}function json_to_sheet(Ee,_e){return sheet_add_json(null,Ee,_e)}function ws_get_cell_stub(Ee,_e,Ce){if(typeof _e=="string"){if(Array.isArray(Ee)){var Pe=decode_cell(_e);return Ee[Pe.r]||(Ee[Pe.r]=[]),Ee[Pe.r][Pe.c]||(Ee[Pe.r][Pe.c]={t:"z"})}return Ee[_e]||(Ee[_e]={t:"z"})}return typeof _e!="number"?ws_get_cell_stub(Ee,encode_cell(_e)):ws_get_cell_stub(Ee,encode_cell({r:_e,c:Ce||0}))}function wb_sheet_idx(Ee,_e){if(typeof _e=="number"){if(_e>=0&&Ee.SheetNames.length>_e)return _e;throw new Error("Cannot find sheet # "+_e)}else if(typeof _e=="string"){var Ce=Ee.SheetNames.indexOf(_e);if(Ce>-1)return Ce;throw new Error("Cannot find sheet name |"+_e+"|")}else throw new Error("Cannot find sheet |"+_e+"|")}function book_new(){return{SheetNames:[],Sheets:{}}}function book_append_sheet(Ee,_e,Ce,Pe){var Re=1;if(!Ce)for(;Re<=65535&&Ee.SheetNames.indexOf(Ce="Sheet"+Re)!=-1;++Re,Ce=void 0);if(!Ce||Ee.SheetNames.length>=65535)throw new Error("Too many worksheets");if(Pe&&Ee.SheetNames.indexOf(Ce)>=0){var Ie=Ce.match(/(^.*?)(\d+)$/);Re=Ie&&+Ie[2]||0;var Be=Ie&&Ie[1]||Ce;for(++Re;Re<=65535&&Ee.SheetNames.indexOf(Ce=Be+Re)!=-1;++Re);}if(check_ws_name(Ce),Ee.SheetNames.indexOf(Ce)>=0)throw new Error("Worksheet with name |"+Ce+"| already exists!");return Ee.SheetNames.push(Ce),Ee.Sheets[Ce]=_e,Ce}function book_set_sheet_visibility(Ee,_e,Ce){Ee.Workbook||(Ee.Workbook={}),Ee.Workbook.Sheets||(Ee.Workbook.Sheets=[]);var Pe=wb_sheet_idx(Ee,_e);switch(Ee.Workbook.Sheets[Pe]||(Ee.Workbook.Sheets[Pe]={}),Ce){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+Ce)}Ee.Workbook.Sheets[Pe].Hidden=Ce}function cell_set_number_format(Ee,_e){return Ee.z=_e,Ee}function cell_set_hyperlink(Ee,_e,Ce){return _e?(Ee.l={Target:_e},Ce&&(Ee.l.Tooltip=Ce)):delete Ee.l,Ee}function cell_set_internal_link(Ee,_e,Ce){return cell_set_hyperlink(Ee,"#"+_e,Ce)}function cell_add_comment(Ee,_e,Ce){Ee.c||(Ee.c=[]),Ee.c.push({t:_e,a:Ce||"SheetJS"})}function sheet_set_array_formula(Ee,_e,Ce,Pe){for(var Re=typeof _e!="string"?_e:safe_decode_range(_e),Ie=typeof _e=="string"?_e:encode_range(_e),Be=Re.s.r;Be<=Re.e.r;++Be)for(var je=Re.s.c;je<=Re.e.c;++je){var De=ws_get_cell_stub(Ee,Be,je);De.t="n",De.F=Ie,delete De.v,Be==Re.s.r&&je==Re.s.c&&(De.f=Ce,Pe&&(De.D=!0))}return Ee}var utils={encode_col,encode_row,encode_cell,encode_range,decode_col,decode_row,split_cell,decode_cell,decode_range,format_cell,sheet_add_aoa,sheet_add_json,sheet_add_dom,aoa_to_sheet,json_to_sheet,table_to_sheet:parse_dom_table,table_to_book,sheet_to_csv,sheet_to_txt,sheet_to_json,sheet_to_html,sheet_to_formulae,sheet_to_row_object_array:sheet_to_json,sheet_get_cell:ws_get_cell_stub,book_new,book_append_sheet,book_set_sheet_visibility,cell_set_number_format,cell_set_hyperlink,cell_set_internal_link,cell_add_comment,sheet_set_array_formula,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const OrderRequests=()=>{const[Ee,_e]=reactExports.useState([]),[Ce,Pe]=reactExports.useState(!0),[Re,Ie]=reactExports.useState("none"),[Be,je]=reactExports.useState([]),[De,Fe]=reactExports.useState(""),Oe=ze=>{je(We=>We.includes(ze)?We.filter(qe=>qe!==ze):[...We,ze])},ke=getFirestore(),Me=getAuth();reactExports.useEffect(()=>{const ze=Me.currentUser;if(!ze)return;const We=async Xe=>{const rr=doc(ke,"businesses",Xe.retailerId);let Je={};try{const or=await getDoc(rr);if(or.exists()){const pr=or.data();Je={retailerName:pr.businessName||pr.ownerName||"N/A",retailerEmail:pr.email||"N/A",retailerPhone:pr.phone||"N/A",retailerCity:pr.city||"N/A",retailerState:pr.state||"N/A",retailerAddress:pr.address||"N/A"}}}catch(or){console.warn("Retailer fetch failed:",or)}const er=await Promise.all((Xe.items||[]).map(async or=>{if(!or.distributorProductId)return{...or};try{const pr=await getDoc(doc(ke,"businesses",Me.currentUser.uid,"products",or.distributorProductId));if(pr.exists()){const ar=pr.data().quantity;return{...or,availableStock:ar}}}catch(pr){console.warn("Stock lookup failed:",pr)}return{...or}}));return{...Xe,...Je,items:er}},qe=collection(ke,"businesses",ze.uid,"orderRequests"),Ye=onSnapshot(qe,Xe=>{const rr=Xe.docs.map(Je=>We({id:Je.id,...Je.data()}));Promise.all(rr).then(Je=>{Je.sort((er,or)=>or.timestamp?.seconds-er.timestamp?.seconds),_e(Je),Pe(!1)})});return()=>Ye()},[]);const $e=async(ze,We)=>{try{const Ye=(await getDoc(doc(ke,"businesses",Me.currentUser.uid,"orderRequests",ze))).data(),Xe=doc(ke,"businesses",Ye.distributorId||Me.currentUser.uid,"orderRequests",ze),rr=doc(ke,"businesses",Ye.retailerId,"sentOrders",ze),Je=await getDoc(rr);if(We==="Accepted"){const or=[];for(let ar of Ye.items||[]){let fr={...ar};if(ar.distributorProductId){const gr=doc(ke,"businesses",Me.currentUser.uid,"products",ar.distributorProductId),Rr=await getDoc(gr);if(Rr.exists()){const Ir=Rr.data(),mr=Ir.quantity||0,Er=Math.max(mr-Number(ar.quantity||0),0);await updateDoc(gr,{quantity:Er}),fr={...fr,price:Ir.sellingPrice||Ir.price||0,subtotal:(Ir.sellingPrice||Ir.price||0)*Number(ar.quantity||0),sku:Ir.sku||"",category:Ir.category||"",brand:Ir.brand||""}}}or.push(fr)}const pr={status:We,items:or,distributorId:Me.currentUser.uid,retailerId:Ye.retailerId,timestamp:Ye.timestamp,notes:Ye.notes||"",paymentMode:Ye.paymentMode||"N/A",creditDays:Ye.creditDays||null,splitPayment:Ye.splitPayment||null};await updateDoc(Xe,{status:We,items:or,statusTimestamps:{acceptedAt:serverTimestamp()}}),Je.exists()?await updateDoc(rr,{...pr,status:We,statusTimestamps:{acceptedAt:serverTimestamp()}}):await setDoc(rr,{...pr,statusTimestamps:{requestedAt:Ye.timestamp}});return}const er={status:We,items:Ye.items,distributorId:Me.currentUser.uid,retailerId:Ye.retailerId,timestamp:Ye.timestamp,notes:Ye.notes||"",paymentMode:Ye.paymentMode||"N/A",creditDays:Ye.creditDays||null,splitPayment:Ye.splitPayment||null};if(We==="Rejected"){const or=prompt("Enter reason for rejection:");if(!or)return;await updateDoc(Xe,{status:We,rejectionNote:or,statusTimestamps:{rejectedAt:serverTimestamp()}}),Je.exists()?await updateDoc(rr,{status:We,rejectionNote:or,statusTimestamps:{rejectedAt:serverTimestamp()}}):await setDoc(rr,{...er,rejectionNote:or,statusTimestamps:{requestedAt:Ye.timestamp}});return}if(We==="Modified"){await updateDoc(Xe,{status:We,statusTimestamps:{modifiedAt:serverTimestamp()}}),Je.exists()?await updateDoc(rr,{status:We,statusTimestamps:{modifiedAt:serverTimestamp()}}):await setDoc(rr,{...er,statusTimestamps:{requestedAt:Ye.timestamp}});return}}catch(qe){console.error("Failed to update status:",qe)}},He=ze=>{const We=[["Retailer","Email","Date","Payment","Status"],[ze.retailerName,ze.retailerEmail,ze.timestamp?.seconds?new Date(ze.timestamp.seconds*1e3).toLocaleDateString():"",ze.paymentMode,ze.status]].map(Xe=>Xe.join(",")).join(`
`),qe=new Blob([We],{type:"text/csv"}),Ye=document.createElement("a");Ye.href=URL.createObjectURL(qe),Ye.download=`order_${ze.id}.csv`,Ye.click()},Qe=ze=>{const We=utils.book_new(),qe=utils.json_to_sheet([{Retailer:ze.retailerName,Email:ze.retailerEmail,Date:ze.timestamp?.seconds?new Date(ze.timestamp.seconds*1e3).toLocaleDateString():"",Payment:ze.paymentMode,Status:ze.status}]);utils.book_append_sheet(We,qe,"Order"),writeFileSync(We,`order_${ze.id}.xlsx`)},Ke=ze=>{const We=document.getElementById(`order-card-${ze.id}`);html2pdf().from(We).save(`order_${ze.id}.pdf`)};return Ce?jsxRuntimeExports.jsx("div",{className:"p-4",children:"Loading order requests..."}):Ee.length===0?jsxRuntimeExports.jsx("div",{className:"p-4 text-gray-500",children:"No order requests yet."}):jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-x-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Group by:"}),jsxRuntimeExports.jsxs("select",{value:Re,onChange:ze=>Ie(ze.target.value),className:"border rounded px-2 py-1 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"none",children:"None"}),jsxRuntimeExports.jsx("option",{value:"retailer",children:"Retailer"}),jsxRuntimeExports.jsx("option",{value:"date",children:"Date"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:He,className:"px-3 py-1 border text-sm rounded bg-white hover:bg-gray-100",children:"Export CSV"}),jsxRuntimeExports.jsx("button",{onClick:Qe,className:"px-3 py-1 border text-sm rounded bg-white hover:bg-gray-100",children:"Export Excel"}),jsxRuntimeExports.jsx("button",{onClick:Ke,className:"px-3 py-1 border text-sm rounded bg-white hover:bg-gray-100",children:"Export PDF"})]})]}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by Order ID, Retailer Name, Email, Phone, City, or Address",value:De,onChange:ze=>Fe(ze.target.value.toLowerCase()),className:"w-full px-3 py-2 border rounded shadow-sm text-sm"})}),jsxRuntimeExports.jsx("div",{id:"order-requests-content",children:Ee.filter(ze=>{const We=De.toLowerCase();return ze.id?.toLowerCase().includes(We)||ze.retailerName?.toLowerCase().includes(We)||ze.retailerEmail?.toLowerCase().includes(We)||ze.retailerPhone?.toLowerCase().includes(We)||ze.retailerCity?.toLowerCase().includes(We)||ze.retailerAddress?.toLowerCase().includes(We)}).map(ze=>jsxRuntimeExports.jsxs("div",{className:"border border-gray-300 rounded-md shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-4 py-2 cursor-pointer",onClick:()=>Oe(ze.id),children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold text-gray-800",children:["Retailer: ",ze.retailerName||"N/A"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[ze.retailerCity||"N/A",", ",ze.retailerState||"N/A","  ",ze.retailerAddress||"N/A"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Requested on: ",ze.timestamp?.seconds?new Date(ze.timestamp.seconds*1e3).toLocaleString():"N/A"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Items: ",ze.items?.length||0," | Total: ",ze.items?.reduce((We,qe)=>We+qe.quantity*(qe.price||0),0).toFixed(2)||"0.00"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Status: ",jsxRuntimeExports.jsx("span",{className:"font-semibold text-blue-600",children:ze.status})]})]}),jsxRuntimeExports.jsx("button",{className:"text-blue-600 underline text-sm",children:Be.includes(ze.id)?"Hide Details":"Show Details"})]}),Be.includes(ze.id)&&jsxRuntimeExports.jsx("div",{id:`order-card-${ze.id}`,className:"bg-white p-4",children:jsxRuntimeExports.jsxs("div",{className:"relative bg-white shadow-md rounded-md p-4 border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"absolute top-2 right-4 text-sm font-bold",children:[ze.status==="Accepted"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-md font-bold",children:" Accepted"}),ze.status==="Rejected"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-md font-bold",children:" Rejected"}),ze.status==="Modified"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded-md font-bold",children:" Modified"})]}),jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-lg mb-2",children:["Retailer: ",ze.retailerName||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Order ID:"})," ",ze.id]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Email:"})," ",ze.retailerEmail||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Phone:"})," ",ze.retailerPhone||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Address:"})," ",ze.retailerAddress||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"City:"})," ",ze.retailerCity||"N/A",", ",jsxRuntimeExports.jsx("strong",{children:"State:"})," ",ze.retailerState||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Requested On:"})," ",ze.timestamp?.seconds?new Date(ze.timestamp.seconds*1e3).toLocaleString():"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Order Note:"})," ",ze.notes||""]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Status:"})," ",jsxRuntimeExports.jsx("span",{className:"ml-2 px-2 py-1 bg-gray-100 text-black font-bold rounded",children:ze.status})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Payment Mode:"})," ",ze.paymentMode||"N/A"]}),ze.paymentMode==="Credit Cycle"&&ze.timestamp?.seconds&&ze.creditDays&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Due Date:"})," ",new Date(ze.timestamp.seconds*1e3+ze.creditDays*864e5).toLocaleDateString()]}),ze.paymentMode==="Split Payment"&&ze.splitPayment&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Split Payment:"})," Advance ",ze.splitPayment.advance,"% / Balance ",ze.splitPayment.balance,"%"]}),jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-1",children:"Items:"}),jsxRuntimeExports.jsxs("div",{className:"mt-2 border border-gray-400 rounded-md overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-6 font-semibold bg-gray-100 border-b border-gray-400 px-3 py-2",children:[jsxRuntimeExports.jsx("div",{children:"Name"}),jsxRuntimeExports.jsx("div",{children:"Brand"}),jsxRuntimeExports.jsx("div",{children:"Category"}),jsxRuntimeExports.jsx("div",{children:"Qty"}),jsxRuntimeExports.jsx("div",{children:"Unit"}),jsxRuntimeExports.jsx("div",{children:"Stock"})]}),ze.items.map((We,qe)=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-6 border-t border-gray-200 px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("div",{children:We.productName}),jsxRuntimeExports.jsx("div",{children:We.brand||""}),jsxRuntimeExports.jsx("div",{children:We.category||""}),jsxRuntimeExports.jsx("div",{children:We.quantity}),jsxRuntimeExports.jsx("div",{children:We.unit}),jsxRuntimeExports.jsx("div",{className:`font-medium ${We.availableStock===void 0?"text-gray-400":We.availableStock>=We.quantity?"text-green-600":We.availableStock>0?"text-yellow-500":"text-red-600"}`,children:We.availableStock===void 0?"N/A":We.availableStock>=We.quantity?`${We.availableStock} In Stock`:We.availableStock>0?`${We.availableStock} Low`:"Out of Stock"})]},qe))]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>He(ze),className:"px-3 py-1 border text-xs rounded bg-white hover:bg-gray-100",children:"CSV"}),jsxRuntimeExports.jsx("button",{onClick:()=>Qe(ze),className:"px-3 py-1 border text-xs rounded bg-white hover:bg-gray-100",children:"Excel"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ke(ze),className:"px-3 py-1 border text-xs rounded bg-white hover:bg-gray-100",children:"PDF"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-2",children:[jsxRuntimeExports.jsx("button",{disabled:ze.status!=="Requested",onClick:()=>$e(ze.id,"Accepted"),className:"px-4 py-1 bg-green-500 text-white rounded",children:"Accept"}),jsxRuntimeExports.jsx("button",{disabled:ze.status!=="Requested",onClick:()=>$e(ze.id,"Rejected"),className:"px-4 py-1 bg-red-500 text-white rounded",children:"Reject"}),jsxRuntimeExports.jsx("button",{disabled:ze.status!=="Requested",onClick:()=>$e(ze.id,"Modified"),className:"px-4 py-1 bg-yellow-500 text-white rounded",children:"Modify"})]}),ze.rejectionNote&&jsxRuntimeExports.jsxs("p",{className:"text-sm mt-2 text-red-600",children:[jsxRuntimeExports.jsx("strong",{children:"Reason:"})," ",ze.rejectionNote]})]})})]},ze.id))})]})},PendingOrders=()=>{const[Ee,_e]=reactExports.useState([]),Ce=getFirestore(),Pe=getAuth(),Re=async(Me,$e)=>{const He=Pe.currentUser;if(!He)return;const Qe=doc(Ce,"businesses",He.uid,"orderRequests",Me);await updateDoc(Qe,{expectedDeliveryDate:$e})},Ie=async(Me,$e)=>{const He=Pe.currentUser;if(!He)return;const Qe=doc(Ce,"businesses",He.uid,"orderRequests",Me);await updateDoc(Qe,{deliveryMode:$e})},Be=async(Me,$e)=>{const He=Pe.currentUser;if(!He)return;const Qe=doc(Ce,"businesses",He.uid,"orderRequests",Me);await updateDoc(Qe,{paymentMode:$e})},je=async Me=>{const $e=Pe.currentUser;if(!$e)return;const He=Ee.find(qe=>qe.id===Me);if(!He||(_e(qe=>qe.map(Ye=>Ye.id!==Me?Ye:{...Ye,deliveryDateError:!Ye.expectedDeliveryDate,deliveryModeError:!Ye.deliveryMode})),!He.expectedDeliveryDate||!He.deliveryMode))return;const Qe=doc(Ce,"businesses",$e.uid,"orderRequests",Me),Ke=doc(Ce,"businesses",He.retailerId,"sentOrders",Me),ze={status:"Shipped",retailerName:He.retailerName||He.retailer?.name||"N/A",retailerEmail:He.retailerEmail||He.retailer?.email||"N/A",retailerPhone:He.retailerPhone||He.retailer?.phone||"N/A",paymentMethod:He.paymentMode||"N/A",createdAt:He.timestamp?.seconds?new Date(He.timestamp.seconds*1e3).toISOString():new Date().toISOString(),expectedDeliveryDate:He.expectedDeliveryDate,deliveryMode:He.deliveryMode,statusTimestamps:{shippedAt:serverTimestamp()}};await updateDoc(Qe,ze);const We={status:"Shipped",expectedDeliveryDate:He.expectedDeliveryDate,deliveryMode:He.deliveryMode,shippedAt:new Date().toISOString(),statusTimestamps:{shippedAt:serverTimestamp()}};await updateDoc(Ke,We)},De=(Me,$e,He,Qe)=>{_e(Ke=>Ke.map(ze=>{if(ze.id!==Me)return ze;const We=[...ze.items];return We[$e]={...We[$e],[He]:Qe},{...ze,items:We}}))},Fe=(Me,$e)=>{_e(He=>He.map(Qe=>{if(Qe.id!==Me)return Qe;const Ke=Qe.items.filter((ze,We)=>We!==$e);return{...Qe,items:Ke}}))},Oe=async Me=>{const $e=Pe.currentUser;if(!$e)return;const He=Ee.find(Ke=>Ke.id===Me),Qe=doc(Ce,"businesses",$e.uid,"orderRequests",Me);await updateDoc(Qe,{items:He.items,paymentMode:He.paymentMode,deliveryMode:He.deliveryMode||"",expectedDeliveryDate:He.expectedDeliveryDate||""})},ke=Me=>Me.stockAvailable===void 0||Me.stockAvailable===null?{isOverstock:!1,message:""}:Me.quantity>Me.stockAvailable?{isOverstock:!0,message:`Only ${Me.stockAvailable} in stock`}:{isOverstock:!1,message:""};return reactExports.useEffect(()=>{const Me=Pe.currentUser;if(!Me)return;const $e=collection(Ce,"businesses",Me.uid,"orderRequests"),He=query($e,where("status","in",["Accepted","Modified"])),Qe=onSnapshot(He,async Ke=>{const ze=await Promise.all(Ke.docs.map(async We=>{const qe=We.data(),Ye=doc(Ce,"businesses",qe.retailerId),Xe=await getDoc(Ye),rr=Xe.exists()?Xe.data():{},Je=await Promise.all((qe.items||[]).map(async er=>{if(er.productId)try{const or=doc(Ce,"products",er.productId),pr=await getDoc(or);if(pr.exists()){const ar=pr.data();return{...er,stockAvailable:ar.stockAvailable,price:ar.sellingPrice||0,sku:ar.sku||"",unit:ar.unit||""}}}catch{}return er}));return{id:We.id,...qe,items:Je,retailerName:rr.businessName||rr.ownerName||"N/A",retailerEmail:rr.email||"N/A"}}));_e(ze)});return()=>Qe()},[]),jsxRuntimeExports.jsx("div",{className:"p-4 space-y-4",children:Ee.map(Me=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow border",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-lg",children:["Retailer: ",Me.retailerName]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Order ID: ",Me.id]}),jsxRuntimeExports.jsx("span",{className:`text-sm font-bold ${Me.status==="Accepted"?"text-green-600":"text-yellow-600"}`,children:Me.status})]}),jsxRuntimeExports.jsxs("p",{children:["Email: ",Me.retailerEmail]}),Me.status==="Modified"?jsxRuntimeExports.jsxs("label",{className:"block",children:["Payment Mode:",jsxRuntimeExports.jsxs("select",{value:Me.paymentMode||"",onChange:$e=>Be(Me.id,$e.target.value),className:"border rounded px-2 py-1 ml-2",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select"}),jsxRuntimeExports.jsx("option",{value:"COD",children:"Cash on Delivery (COD)"}),jsxRuntimeExports.jsx("option",{value:"Split Payment",children:"Split Payment (50/50 or custom %)"}),jsxRuntimeExports.jsx("option",{value:"Advance Payment",children:"Advance Payment"}),jsxRuntimeExports.jsx("option",{value:"End of Month",children:"End of Month"}),jsxRuntimeExports.jsx("option",{value:"Credit Cycle",children:"Credit Cycle (15/30 days)"}),jsxRuntimeExports.jsx("option",{value:"UPI",children:"UPI"}),jsxRuntimeExports.jsx("option",{value:"Net Banking",children:"Net Banking"}),jsxRuntimeExports.jsx("option",{value:"Cheque",children:"Cheque"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]}):jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Payment Mode:"})," ",Me.paymentMode||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:["Requested On: ",new Date(Me.timestamp?.seconds*1e3).toLocaleString()]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 border border-gray-400 rounded-md overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-8 font-semibold bg-gray-100 border-b border-gray-400 px-3 py-2",children:[jsxRuntimeExports.jsx("div",{children:"Name"}),jsxRuntimeExports.jsx("div",{children:"Brand"}),jsxRuntimeExports.jsx("div",{children:"Category"}),jsxRuntimeExports.jsx("div",{children:"Qty"}),jsxRuntimeExports.jsx("div",{children:"Unit"}),jsxRuntimeExports.jsx("div",{children:"Actions"}),jsxRuntimeExports.jsx("div",{children:"Price"}),jsxRuntimeExports.jsx("div",{children:"Subtotal"})]}),Me.items.map(($e,He)=>{const{isOverstock:Qe,message:Ke}=ke($e);return jsxRuntimeExports.jsx("div",{className:"grid grid-cols-8 border-t border-gray-200 px-3 py-2 text-sm items-center",children:Me.status==="Modified"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{className:"border px-1",type:"text",value:$e.productName,onChange:ze=>De(Me.id,He,"productName",ze.target.value)}),jsxRuntimeExports.jsx("input",{className:"border px-1",type:"text",value:$e.brand||"",onChange:ze=>De(Me.id,He,"brand",ze.target.value)}),jsxRuntimeExports.jsx("input",{className:"border px-1",type:"text",value:$e.category||"",onChange:ze=>De(Me.id,He,"category",ze.target.value)}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("input",{className:`border px-1 ${Qe?"border-red-600":""}`,type:"number",value:$e.quantity,onChange:ze=>De(Me.id,He,"quantity",parseInt(ze.target.value))}),Qe&&jsxRuntimeExports.jsx("span",{className:"text-xs text-red-600",children:Ke})]}),jsxRuntimeExports.jsx("input",{className:"border px-1",type:"text",value:$e.unit||"",onChange:ze=>De(Me.id,He,"unit",ze.target.value)}),jsxRuntimeExports.jsx("button",{onClick:()=>Fe(Me.id,He),className:"text-red-600 font-bold hover:text-red-800",title:"Delete Item",type:"button",children:"Delete"}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{children:$e.productName}),jsxRuntimeExports.jsx("div",{children:$e.brand||"N/A"}),jsxRuntimeExports.jsx("div",{children:$e.category||"N/A"}),jsxRuntimeExports.jsxs("div",{children:[$e.quantity,$e.stockAvailable!==void 0&&$e.quantity>$e.stockAvailable&&jsxRuntimeExports.jsx("span",{className:"text-red-600 text-xs ml-1",children:"Out of Stock"})]}),jsxRuntimeExports.jsx("div",{children:$e.unit||"N/A"}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{children:["",$e.price?.toFixed(2)||"0.00"]}),jsxRuntimeExports.jsxs("div",{children:["",($e.quantity*$e.price).toFixed(2)||"0.00"]})]})},He)})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:"block",children:["Expected Delivery Date:",jsxRuntimeExports.jsx("input",{type:"date",value:Me.expectedDeliveryDate||"",onChange:$e=>{Re(Me.id,$e.target.value),_e(He=>He.map(Qe=>Qe.id===Me.id?{...Qe,expectedDeliveryDate:$e.target.value}:Qe))},className:"border rounded px-2 py-1 ml-2"})]}),Me.deliveryDateError&&jsxRuntimeExports.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Please select a valid delivery date."}),jsxRuntimeExports.jsxs("label",{className:"block",children:["Delivery Mode:",jsxRuntimeExports.jsxs("select",{value:Me.deliveryMode||"",onChange:$e=>{Ie(Me.id,$e.target.value),_e(He=>He.map(Qe=>Qe.id===Me.id?{...Qe,deliveryMode:$e.target.value}:Qe))},className:"border rounded px-2 py-1 ml-2",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select"}),jsxRuntimeExports.jsx("option",{value:"By Distributor",children:"By Distributor"}),jsxRuntimeExports.jsx("option",{value:"Shiprocket",children:"Shiprocket"}),jsxRuntimeExports.jsx("option",{value:"Delhivery",children:"Delhivery"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]}),Me.deliveryModeError&&jsxRuntimeExports.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Please select a delivery mode."}),Me.status==="Modified"&&jsxRuntimeExports.jsx("button",{onClick:()=>Oe(Me.id),className:"mt-2 bg-yellow-500 text-white px-4 py-1 rounded hover:bg-yellow-600",children:"Save Changes"}),jsxRuntimeExports.jsx("button",{onClick:()=>je(Me.id),className:"mt-2 bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700",children:"Mark as Shipped"})]})]},Me.id))})},TrackOrders=()=>{const[Ee,_e]=reactExports.useState([]),[Ce,Pe]=reactExports.useState([]),[Re,Ie]=reactExports.useState("Shipped"),[Be,je]=reactExports.useState(""),[De,Fe]=reactExports.useState(""),Oe=getFirestore(),ke=getAuth(),Me=We=>{Pe(qe=>qe.includes(We)?qe.filter(Ye=>Ye!==We):[...qe,We])},$e=We=>{console.log("Exporting CSV:",We)},He=We=>{console.log("Exporting Excel:",We)},Qe=We=>{console.log("Exporting PDF:",We)};reactExports.useEffect(()=>{const We=ke.currentUser;if(!We)return;const qe=query(collection(Oe,"businesses",We.uid,"orderRequests"),where("status","in",["Shipped","Delivered"])),Ye=onSnapshot(qe,Xe=>{const rr=Xe.docs.map(Je=>({id:Je.id,...Je.data()})).sort((Je,er)=>{const or=Je.status==="Delivered",pr=er.status==="Delivered";return or!==pr?or?1:-1:new Date(er.createdAt||0).getTime()-new Date(Je.createdAt||0).getTime()});_e(rr)});return()=>Ye()},[]);const Ke=async We=>{const qe=ke.currentUser;if(!qe)return;const Ye=doc(Oe,"businesses",qe.uid,"orderRequests",We),rr=(await getDoc(Ye)).data();if(!rr||!rr.retailerId)return;const Je=doc(Oe,"businesses",rr.retailerId,"sentOrders",We),er={status:"Delivered",deliveredAt:new Date().toISOString(),statusTimestamps:{deliveredAt:serverTimestamp()}};await updateDoc(Ye,er),await updateDoc(Je,er)},ze=Ee.filter(We=>{const qe=Re==="Shipped"?We.status==="Shipped"||We.status==="Out for Delivery":We.status==="Delivered",Ye=Be.toLowerCase(),Xe=We.id?.toLowerCase().includes(Ye)||We.retailerName?.toLowerCase().includes(Ye)||We.retailerEmail?.toLowerCase().includes(Ye)||We.retailerPhone?.toLowerCase().includes(Ye)||We.retailerAddress?.toLowerCase().includes(Ye)||We.city?.toLowerCase().includes(Ye),rr=De?We.expectedDeliveryDate?.slice(0,10)===De:!0;return qe&&Xe&&rr});return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Track Orders"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by order ID, retailer, phone, email, etc.",value:Be,onChange:We=>je(We.target.value),className:"px-3 py-2 border rounded w-full md:w-1/2"}),jsxRuntimeExports.jsx("input",{type:"date",value:De,onChange:We=>Fe(We.target.value),className:"px-3 py-2 border rounded"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-4",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-1 rounded ${Re==="Shipped"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Ie("Shipped"),children:"Shipped"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-1 rounded ${Re==="Delivered"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Ie("Delivered"),children:"Delivered"})]}),ze.length===0?jsxRuntimeExports.jsx("p",{children:"No orders to track yet."}):ze.map(We=>jsxRuntimeExports.jsxs("div",{className:"border rounded mb-6 shadow",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 px-4 py-2 flex flex-col md:flex-row justify-between items-start md:items-center border-b",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-800",children:We.retailerName||We.retailer?.name||"N/A"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:We.createdAt?new Date(We.createdAt).toLocaleString():"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 md:mt-0 text-sm",children:[jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Items:"})," ",We.items?.length||0]}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Status:"})," ",We.status]}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"ETA:"})," ",We.expectedDeliveryDate||"Not specified"]})]}),jsxRuntimeExports.jsx("div",{className:"mt-2 md:mt-0 text-sm",children:jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:["Requested","Accepted","Modified","Shipped","Delivered"].map((qe,Ye,Xe)=>{const rr=Xe.indexOf(We.status);return jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:rr===Ye?"text-blue-600 font-semibold":rr>Ye?"text-green-600 font-semibold":"text-gray-400",children:qe}),Ye!==Xe.length-1&&jsxRuntimeExports.jsx("span",{children:""})]},Ye)})})}),jsxRuntimeExports.jsx("button",{onClick:()=>Me(We.id),className:"text-sm text-blue-600 underline ml-4",children:Ce.includes(We.id)?"Hide Details":"Show Details"})]}),Ce.includes(We.id)&&jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Order ID:"})," ",We.id]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Email:"})," ",We.retailerEmail||We.retailer?.email||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Phone:"})," ",We.retailerPhone||We.retailer?.phone||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Payment Method:"})," ",We.paymentMethod||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivery Mode:"})," ",We.deliveryMode||"N/A"]}),We.deliveredAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivered On:"})," ",new Date(We.deliveredAt).toLocaleString()]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded text-xs",onClick:()=>$e(We),children:"Export CSV"}),jsxRuntimeExports.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded text-xs",onClick:()=>He(We),children:"Export Excel"}),jsxRuntimeExports.jsx("button",{className:"px-3 py-1 bg-red-500 text-white rounded text-xs",onClick:()=>Qe(We),children:"Export PDF"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 border rounded-lg p-3 bg-white",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-2",children:"Items Ordered:"}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"min-w-full table-auto border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border px-2 py-1 text-left",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1 text-left",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1 text-left",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1 text-center",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1 text-right",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1 text-right",children:"Subtotal"})]})}),jsxRuntimeExports.jsx("tbody",{children:(We.items||[]).map((qe,Ye)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:qe.productName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:qe.brand||""}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:qe.sku||""}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1 text-center",children:qe.quantity}),jsxRuntimeExports.jsxs("td",{className:"border px-2 py-1 text-right",children:["",qe.price?.toFixed(2)||"0.00"]}),jsxRuntimeExports.jsxs("td",{className:"border px-2 py-1 text-right",children:["",(qe.quantity*qe.price).toFixed(2)||"0.00"]})]},Ye))})]}),jsxRuntimeExports.jsxs("div",{className:"text-right font-semibold mt-2",children:["Total: ",We.items?.reduce((qe,Ye)=>qe+Ye.quantity*Ye.price,0)?.toFixed(2)]})]})]}),(We.status==="Shipped"||We.status==="Out for Delivery")&&jsxRuntimeExports.jsx("button",{onClick:()=>Ke(We.id),className:"mt-4 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Mark as Delivered"})]})]},We.id))]})},DispatchTracker=()=>{const[Ee,_e]=reactExports.useState("requests");return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Dispatch Tracker"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-4 mb-6",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded ${Ee==="requests"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>_e("requests"),children:"Order Requests"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded ${Ee==="pending"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>_e("pending"),children:"Pending Orders"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded ${Ee==="completed"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>_e("completed"),children:"Track Orders"})]}),Ee==="requests"&&jsxRuntimeExports.jsx(OrderRequests,{}),Ee==="pending"&&jsxRuntimeExports.jsx(PendingOrders,{}),Ee==="completed"&&jsxRuntimeExports.jsx(TrackOrders,{})]})};var dayjs_min$1={exports:{}},dayjs_min=dayjs_min$1.exports,hasRequiredDayjs_min;function requireDayjs_min(){return hasRequiredDayjs_min||(hasRequiredDayjs_min=1,function(Ee,_e){(function(Ce,Pe){Ee.exports=Pe()})(dayjs_min,function(){var Ce=1e3,Pe=6e4,Re=36e5,Ie="millisecond",Be="second",je="minute",De="hour",Fe="day",Oe="week",ke="month",Me="quarter",$e="year",He="date",Qe="Invalid Date",Ke=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ze=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,We={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Rr){var Ir=["th","st","nd","rd"],mr=Rr%100;return"["+Rr+(Ir[(mr-20)%10]||Ir[mr]||Ir[0])+"]"}},qe=function(Rr,Ir,mr){var Er=String(Rr);return!Er||Er.length>=Ir?Rr:""+Array(Ir+1-Er.length).join(mr)+Rr},Ye={s:qe,z:function(Rr){var Ir=-Rr.utcOffset(),mr=Math.abs(Ir),Er=Math.floor(mr/60),Ar=mr%60;return(Ir<=0?"+":"-")+qe(Er,2,"0")+":"+qe(Ar,2,"0")},m:function Rr(Ir,mr){if(Ir.date()<mr.date())return-Rr(mr,Ir);var Er=12*(mr.year()-Ir.year())+(mr.month()-Ir.month()),Ar=Ir.clone().add(Er,ke),br=mr-Ar<0,wr=Ir.clone().add(Er+(br?-1:1),ke);return+(-(Er+(mr-Ar)/(br?Ar-wr:wr-Ar))||0)},a:function(Rr){return Rr<0?Math.ceil(Rr)||0:Math.floor(Rr)},p:function(Rr){return{M:ke,y:$e,w:Oe,d:Fe,D:He,h:De,m:je,s:Be,ms:Ie,Q:Me}[Rr]||String(Rr||"").toLowerCase().replace(/s$/,"")},u:function(Rr){return Rr===void 0}},Xe="en",rr={};rr[Xe]=We;var Je="$isDayjsObject",er=function(Rr){return Rr instanceof fr||!(!Rr||!Rr[Je])},or=function Rr(Ir,mr,Er){var Ar;if(!Ir)return Xe;if(typeof Ir=="string"){var br=Ir.toLowerCase();rr[br]&&(Ar=br),mr&&(rr[br]=mr,Ar=br);var wr=Ir.split("-");if(!Ar&&wr.length>1)return Rr(wr[0])}else{var jr=Ir.name;rr[jr]=Ir,Ar=jr}return!Er&&Ar&&(Xe=Ar),Ar||!Er&&Xe},pr=function(Rr,Ir){if(er(Rr))return Rr.clone();var mr=typeof Ir=="object"?Ir:{};return mr.date=Rr,mr.args=arguments,new fr(mr)},ar=Ye;ar.l=or,ar.i=er,ar.w=function(Rr,Ir){return pr(Rr,{locale:Ir.$L,utc:Ir.$u,x:Ir.$x,$offset:Ir.$offset})};var fr=function(){function Rr(mr){this.$L=or(mr.locale,null,!0),this.parse(mr),this.$x=this.$x||mr.x||{},this[Je]=!0}var Ir=Rr.prototype;return Ir.parse=function(mr){this.$d=function(Er){var Ar=Er.date,br=Er.utc;if(Ar===null)return new Date(NaN);if(ar.u(Ar))return new Date;if(Ar instanceof Date)return new Date(Ar);if(typeof Ar=="string"&&!/Z$/i.test(Ar)){var wr=Ar.match(Ke);if(wr){var jr=wr[2]-1||0,hr=(wr[7]||"0").substring(0,3);return br?new Date(Date.UTC(wr[1],jr,wr[3]||1,wr[4]||0,wr[5]||0,wr[6]||0,hr)):new Date(wr[1],jr,wr[3]||1,wr[4]||0,wr[5]||0,wr[6]||0,hr)}}return new Date(Ar)}(mr),this.init()},Ir.init=function(){var mr=this.$d;this.$y=mr.getFullYear(),this.$M=mr.getMonth(),this.$D=mr.getDate(),this.$W=mr.getDay(),this.$H=mr.getHours(),this.$m=mr.getMinutes(),this.$s=mr.getSeconds(),this.$ms=mr.getMilliseconds()},Ir.$utils=function(){return ar},Ir.isValid=function(){return this.$d.toString()!==Qe},Ir.isSame=function(mr,Er){var Ar=pr(mr);return this.startOf(Er)<=Ar&&Ar<=this.endOf(Er)},Ir.isAfter=function(mr,Er){return pr(mr)<this.startOf(Er)},Ir.isBefore=function(mr,Er){return this.endOf(Er)<pr(mr)},Ir.$g=function(mr,Er,Ar){return ar.u(mr)?this[Er]:this.set(Ar,mr)},Ir.unix=function(){return Math.floor(this.valueOf()/1e3)},Ir.valueOf=function(){return this.$d.getTime()},Ir.startOf=function(mr,Er){var Ar=this,br=!!ar.u(Er)||Er,wr=ar.p(mr),jr=function(Kr,Zr){var yn=ar.w(Ar.$u?Date.UTC(Ar.$y,Zr,Kr):new Date(Ar.$y,Zr,Kr),Ar);return br?yn:yn.endOf(Fe)},hr=function(Kr,Zr){return ar.w(Ar.toDate()[Kr].apply(Ar.toDate("s"),(br?[0,0,0,0]:[23,59,59,999]).slice(Zr)),Ar)},_r=this.$W,Pr=this.$M,Cr=this.$D,Or="set"+(this.$u?"UTC":"");switch(wr){case $e:return br?jr(1,0):jr(31,11);case ke:return br?jr(1,Pr):jr(0,Pr+1);case Oe:var Yr=this.$locale().weekStart||0,qr=(_r<Yr?_r+7:_r)-Yr;return jr(br?Cr-qr:Cr+(6-qr),Pr);case Fe:case He:return hr(Or+"Hours",0);case De:return hr(Or+"Minutes",1);case je:return hr(Or+"Seconds",2);case Be:return hr(Or+"Milliseconds",3);default:return this.clone()}},Ir.endOf=function(mr){return this.startOf(mr,!1)},Ir.$set=function(mr,Er){var Ar,br=ar.p(mr),wr="set"+(this.$u?"UTC":""),jr=(Ar={},Ar[Fe]=wr+"Date",Ar[He]=wr+"Date",Ar[ke]=wr+"Month",Ar[$e]=wr+"FullYear",Ar[De]=wr+"Hours",Ar[je]=wr+"Minutes",Ar[Be]=wr+"Seconds",Ar[Ie]=wr+"Milliseconds",Ar)[br],hr=br===Fe?this.$D+(Er-this.$W):Er;if(br===ke||br===$e){var _r=this.clone().set(He,1);_r.$d[jr](hr),_r.init(),this.$d=_r.set(He,Math.min(this.$D,_r.daysInMonth())).$d}else jr&&this.$d[jr](hr);return this.init(),this},Ir.set=function(mr,Er){return this.clone().$set(mr,Er)},Ir.get=function(mr){return this[ar.p(mr)]()},Ir.add=function(mr,Er){var Ar,br=this;mr=Number(mr);var wr=ar.p(Er),jr=function(Pr){var Cr=pr(br);return ar.w(Cr.date(Cr.date()+Math.round(Pr*mr)),br)};if(wr===ke)return this.set(ke,this.$M+mr);if(wr===$e)return this.set($e,this.$y+mr);if(wr===Fe)return jr(1);if(wr===Oe)return jr(7);var hr=(Ar={},Ar[je]=Pe,Ar[De]=Re,Ar[Be]=Ce,Ar)[wr]||1,_r=this.$d.getTime()+mr*hr;return ar.w(_r,this)},Ir.subtract=function(mr,Er){return this.add(-1*mr,Er)},Ir.format=function(mr){var Er=this,Ar=this.$locale();if(!this.isValid())return Ar.invalidDate||Qe;var br=mr||"YYYY-MM-DDTHH:mm:ssZ",wr=ar.z(this),jr=this.$H,hr=this.$m,_r=this.$M,Pr=Ar.weekdays,Cr=Ar.months,Or=Ar.meridiem,Yr=function(Zr,yn,mn,Cn){return Zr&&(Zr[yn]||Zr(Er,br))||mn[yn].slice(0,Cn)},qr=function(Zr){return ar.s(jr%12||12,Zr,"0")},Kr=Or||function(Zr,yn,mn){var Cn=Zr<12?"AM":"PM";return mn?Cn.toLowerCase():Cn};return br.replace(ze,function(Zr,yn){return yn||function(mn){switch(mn){case"YY":return String(Er.$y).slice(-2);case"YYYY":return ar.s(Er.$y,4,"0");case"M":return _r+1;case"MM":return ar.s(_r+1,2,"0");case"MMM":return Yr(Ar.monthsShort,_r,Cr,3);case"MMMM":return Yr(Cr,_r);case"D":return Er.$D;case"DD":return ar.s(Er.$D,2,"0");case"d":return String(Er.$W);case"dd":return Yr(Ar.weekdaysMin,Er.$W,Pr,2);case"ddd":return Yr(Ar.weekdaysShort,Er.$W,Pr,3);case"dddd":return Pr[Er.$W];case"H":return String(jr);case"HH":return ar.s(jr,2,"0");case"h":return qr(1);case"hh":return qr(2);case"a":return Kr(jr,hr,!0);case"A":return Kr(jr,hr,!1);case"m":return String(hr);case"mm":return ar.s(hr,2,"0");case"s":return String(Er.$s);case"ss":return ar.s(Er.$s,2,"0");case"SSS":return ar.s(Er.$ms,3,"0");case"Z":return wr}return null}(Zr)||wr.replace(":","")})},Ir.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Ir.diff=function(mr,Er,Ar){var br,wr=this,jr=ar.p(Er),hr=pr(mr),_r=(hr.utcOffset()-this.utcOffset())*Pe,Pr=this-hr,Cr=function(){return ar.m(wr,hr)};switch(jr){case $e:br=Cr()/12;break;case ke:br=Cr();break;case Me:br=Cr()/3;break;case Oe:br=(Pr-_r)/6048e5;break;case Fe:br=(Pr-_r)/864e5;break;case De:br=Pr/Re;break;case je:br=Pr/Pe;break;case Be:br=Pr/Ce;break;default:br=Pr}return Ar?br:ar.a(br)},Ir.daysInMonth=function(){return this.endOf(ke).$D},Ir.$locale=function(){return rr[this.$L]},Ir.locale=function(mr,Er){if(!mr)return this.$L;var Ar=this.clone(),br=or(mr,Er,!0);return br&&(Ar.$L=br),Ar},Ir.clone=function(){return ar.w(this.$d,this)},Ir.toDate=function(){return new Date(this.valueOf())},Ir.toJSON=function(){return this.isValid()?this.toISOString():null},Ir.toISOString=function(){return this.$d.toISOString()},Ir.toString=function(){return this.$d.toUTCString()},Rr}(),gr=fr.prototype;return pr.prototype=gr,[["$ms",Ie],["$s",Be],["$m",je],["$H",De],["$W",Fe],["$M",ke],["$y",$e],["$D",He]].forEach(function(Rr){gr[Rr[1]]=function(Ir){return this.$g(Ir,Rr[0],Rr[1])}}),pr.extend=function(Rr,Ir){return Rr.$i||(Rr(Ir,fr,pr),Rr.$i=!0),pr},pr.locale=or,pr.isDayjs=er,pr.unix=function(Rr){return pr(1e3*Rr)},pr.en=rr[Xe],pr.Ls=rr,pr.p={},pr})}(dayjs_min$1)),dayjs_min$1.exports}var dayjs_minExports=requireDayjs_min();const dayjs=getDefaultExportFromCjs(dayjs_minExports),DispatchSpeedTracker=({distributorId:Ee})=>{const[_e,Ce]=reactExports.useState(null),[Pe,Re]=reactExports.useState(0);return reactExports.useEffect(()=>{Ee&&(async()=>{const Be=collection(db$2,"businesses",Ee,"orderRequests"),je=await getDocs(Be);let De=0,Fe=0;je.forEach(ke=>{const Me=ke.data(),$e=Me.orderAcceptedAt||Me.createdAt,He=Me.orderShippedAt||Me.deliveredAt;if($e&&He){const Qe=dayjs($e),ze=dayjs(He).diff(Qe,"minute");!isNaN(ze)&&ze>=0&&(De+=ze,Fe+=1)}});const Oe=Fe>0?(De/Fe).toFixed(1):null;Ce(Oe),Re(Fe)})()},[Ee]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Dispatch Speed Tracker"}),_e!==null?jsxRuntimeExports.jsxs("p",{children:["Average Dispatch Time: ",jsxRuntimeExports.jsxs("strong",{children:[_e," minutes"]})," across ",Pe," orders"]}):jsxRuntimeExports.jsx("p",{children:"No dispatch data available."})]})},InventoryDrainForecast=({distributorId:Ee})=>{const[_e,Ce]=reactExports.useState([]);return reactExports.useEffect(()=>{Ee&&(async()=>{const Re=collection(db$2,"businesses",Ee,"orderRequests"),Ie=await getDocs(Re),Be={},De=dayjs().subtract(7,"day");Ie.forEach(Oe=>{const ke=Oe.data();dayjs(ke.timestamp?.toDate?.()||ke.timestamp).isAfter(De)&&Array.isArray(ke.items)&&ke.items.forEach($e=>{const He=$e.distributorProductId,Qe=parseInt($e.quantity)||0;Be[He]||(Be[He]={name:$e.productName,sold:0}),Be[He].sold+=Qe})});const Fe=[];for(const Oe in Be){const ke=doc(db$2,"businesses",Ee,"products",Oe),$e=(await getDoc(ke)).data();if($e){const He=parseInt($e.quantity||0),Qe=Be[Oe].sold/7,Ke=Qe>0?Math.floor(He/Qe):"";Fe.push({name:Be[Oe].name,currentStock:He,avgDailySale:Qe.toFixed(1),daysLeft:Ke})}}Ce(Fe)})()},[Ee]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Inventory Drain Forecast"}),_e.length===0?jsxRuntimeExports.jsx("p",{children:"No data available for forecast."}):jsxRuntimeExports.jsxs("table",{className:"w-full text-sm mt-2",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left border-b",children:[jsxRuntimeExports.jsx("th",{className:"py-1",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Stock"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Avg Sold/Day"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Est. Days Left"})]})}),jsxRuntimeExports.jsx("tbody",{children:_e.map((Pe,Re)=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"py-1",children:Pe.name}),jsxRuntimeExports.jsx("td",{className:"py-1",children:Pe.currentStock}),jsxRuntimeExports.jsx("td",{className:"py-1",children:Pe.avgDailySale}),jsxRuntimeExports.jsx("td",{className:"py-1",children:Pe.daysLeft})]},Re))})]})]})};Chart$1.register(ArcElement,plugin_tooltip,plugin_legend);const RetailerDependencyRisk=({distributorId:Ee})=>{const[_e,Ce]=reactExports.useState([]),[Pe,Re]=reactExports.useState(!1);reactExports.useEffect(()=>{Ee&&(async()=>{const je=collection(db$2,"businesses",Ee,"orderRequests"),De=await getDocs(je),Fe={};let Oe=0;De.forEach(He=>{const Ke=He.data().retailerName||"Unknown";Fe[Ke]=(Fe[Ke]||0)+1,Oe+=1});const ke=Object.entries(Fe).sort((He,Qe)=>Qe[1]-He[1]).map(([He,Qe])=>({name:He,count:Qe})),$e=ke.slice(0,3).reduce((He,Qe)=>He+Qe.count,0)/Oe*100;Re($e>60),Ce(ke)})()},[Ee]);const Ie={labels:_e.map(Be=>Be.name),datasets:[{data:_e.map(Be=>Be.count),backgroundColor:["#4CAF50","#FF9800","#2196F3","#F44336","#9C27B0","#3F51B5","#009688","#FF5722","#607D8B"]}]};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Retailer Dependency Risk"}),_e.length===0?jsxRuntimeExports.jsx("p",{children:"No data yet."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Pie$1,{data:Ie}),Pe&&jsxRuntimeExports.jsx("p",{className:"mt-4 text-red-600 font-medium",children:" High dependency on a few retailers. Consider diversifying your reach."})]})]})},BrandPerformanceTracker=({distributorId:Ee})=>{const[_e,Ce]=reactExports.useState([]);return reactExports.useEffect(()=>{Ee&&(async()=>{const Re=collection(db$2,"businesses",Ee,"orderRequests"),Ie=await getDocs(Re),Be={};Ie.forEach(De=>{const Fe=De.data();Fe.status==="Delivered"&&Array.isArray(Fe.items)&&Fe.items.forEach(Oe=>{const ke=Oe.brand||"Unknown",Me=parseInt(Oe.quantity)||0,$e=(Oe.unitPrice||0)*Me,He=(Oe.price||0)*Me,Qe=$e-He;Be[ke]||(Be[ke]={quantity:0,revenue:0,profit:0}),Be[ke].quantity+=Me,Be[ke].revenue+=$e,Be[ke].profit+=Qe})});const je=Object.entries(Be).map(([De,Fe])=>({brand:De,...Fe}));je.sort((De,Fe)=>Fe.profit-De.profit),Ce(je)})()},[Ee]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Brand Performance Tracker"}),_e.length===0?jsxRuntimeExports.jsx("p",{children:"No brand data available."}):jsxRuntimeExports.jsxs("table",{className:"w-full text-sm mt-2",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left border-b",children:[jsxRuntimeExports.jsx("th",{className:"py-1",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Units Sold"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Revenue"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Profit"})]})}),jsxRuntimeExports.jsx("tbody",{children:_e.map((Pe,Re)=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"py-1",children:Pe.brand}),jsxRuntimeExports.jsx("td",{className:"py-1",children:Pe.quantity}),jsxRuntimeExports.jsxs("td",{className:"py-1",children:["",Pe.revenue]}),jsxRuntimeExports.jsxs("td",{className:"py-1",children:["",Pe.profit]})]},Re))})]})]})},DailySmartSummary=({distributorId:Ee})=>{const[_e,Ce]=reactExports.useState({totalOrders:0,totalRevenue:0,totalProfit:0,avgProfitPercent:0});return reactExports.useEffect(()=>{Ee&&(async()=>{const Re=dayjs().startOf("day").toDate(),Ie=dayjs().endOf("day").toDate(),Be=collection(db$2,"businesses",Ee,"orderRequests"),je=query(Be,where("status","==","Delivered"),where("timestamp",">=",Timestamp.fromDate(Re)),where("timestamp","<=",Timestamp.fromDate(Ie))),De=await getDocs(je);let Fe=0,Oe=0,ke=0;De.forEach($e=>{const He=$e.data();Fe+=1,Oe+=He.totalAmount||0,Array.isArray(He.items)&&He.items.forEach(Qe=>{const Ke=(Qe.unitPrice||0)-(Qe.price||0);ke+=Ke*(parseInt(Qe.quantity)||0)})});const Me=Oe>0?(ke/Oe*100).toFixed(2):0;Ce({totalOrders:Fe,totalRevenue:Oe,totalProfit:ke,avgProfitPercent:Me})})()},[Ee]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Todays Smart Summary"}),jsxRuntimeExports.jsxs("p",{children:[" Orders Delivered: ",jsxRuntimeExports.jsx("strong",{children:_e.totalOrders})]}),jsxRuntimeExports.jsxs("p",{children:[" Revenue: ",jsxRuntimeExports.jsxs("strong",{children:["",_e.totalRevenue]})]}),jsxRuntimeExports.jsxs("p",{children:[" Profit: ",jsxRuntimeExports.jsxs("strong",{children:["",_e.totalProfit]})," (",_e.avgProfitPercent,"% avg profit)"]})]})},DistributorAnalytics=({distributorId:Ee})=>{console.log(" DistributorAnalytics loaded with distributorId:",Ee);const[_e,Ce]=reactExports.useState(0),[Pe,Re]=reactExports.useState(0),[Ie,Be]=reactExports.useState([]),je=getFirestore();return reactExports.useEffect(()=>{if(!Ee)return;(async()=>{try{const Fe=collection(je,"businesses",Ee,"orderRequests"),Oe=await getDocs(Fe);Ce(Oe.size)}catch(Fe){console.error("Failed to fetch analytics:",Fe)}})()},[Ee]),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Analytics"}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow rounded p-6 grid gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"Total Orders Fulfilled"}),jsxRuntimeExports.jsx("p",{className:"text-2xl",children:_e})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"Avg. Dispatch Time (mins)"}),jsxRuntimeExports.jsx("p",{className:"text-2xl",children:Pe})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"Top Requested Products"}),Ie.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"No data yet."}):jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside",children:Ie.map((De,Fe)=>jsxRuntimeExports.jsx("li",{children:De.name},Fe))})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 grid gap-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:"Advanced Insights"}),jsxRuntimeExports.jsx(DispatchSpeedTracker,{distributorId:Ee}),jsxRuntimeExports.jsx(InventoryDrainForecast,{distributorId:Ee}),jsxRuntimeExports.jsx(RetailerDependencyRisk,{distributorId:Ee}),jsxRuntimeExports.jsx(BrandPerformanceTracker,{distributorId:Ee}),jsxRuntimeExports.jsx(DailySmartSummary,{distributorId:Ee})]})]})},ManageRetailers=()=>jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Manage Connected Retailers"}),jsxRuntimeExports.jsx("p",{children:"This section will display all retailers connected to the distributor and offer management options like remove, update, view performance, etc."})]}),DistributorHome=()=>{const[Ee,_e]=reactExports.useState({totalOrders:0,pendingOrders:0,completedOrders:0,totalRevenue:0,inventoryCount:0,lowStockCount:0});return reactExports.useEffect(()=>{(async()=>{const Pe=auth$2.currentUser?.uid;if(Pe)try{const Re=await getDocs(collection(db$2,`businesses/${Pe}/orderRequests`));let Ie=0,Be=0,je=0,De=0;Re.forEach(Me=>{const $e=Me.data();Ie++,($e.status==="Pending"||$e.status==="Accepted"||$e.status==="Modified")&&Be++,$e.status==="Delivered"&&je++,De+=Number($e.totalAmount||0)});const Fe=await getDocs(collection(db$2,`businesses/${Pe}/products`));let Oe=0,ke=0;Fe.forEach(Me=>{const $e=Me.data();Oe++,$e.quantity<5&&ke++}),_e({totalOrders:Ie,pendingOrders:Be,completedOrders:je,totalRevenue:De,inventoryCount:Oe,lowStockCount:ke})}catch(Re){console.error("Error loading distributor stats:",Re)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold",children:" Distributor Business Snapshot"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Total Orders"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:Ee.totalOrders})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Pending Orders"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Ee.pendingOrders})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Completed Orders"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-600",children:Ee.completedOrders})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Total Revenue"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",Ee.totalRevenue.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Inventory Items"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:Ee.inventoryCount})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Low Stock Alerts"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-red-600",children:Ee.lowStockCount})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:" Order Trends"}),jsxRuntimeExports.jsx("div",{className:"h-40 bg-gray-100 rounded flex items-center justify-center text-gray-400",children:"Chart Placeholder"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:" Revenue Insights"}),jsxRuntimeExports.jsx("div",{className:"h-40 bg-gray-100 rounded flex items-center justify-center text-gray-400",children:"Revenue Chart Placeholder"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4 mt-6",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:" Todays Collection Schedule"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Data will list retailers with dues today (future enhancement)"})]})]})},DistributorDashboard=()=>{const Ee=useNavigate(),[_e,Ce]=reactExports.useState(0),[Pe,Re]=reactExports.useState(0),[Ie,Be]=reactExports.useState(0),[je,De]=reactExports.useState("dashboard"),[Fe,Oe]=reactExports.useState(null),ke=getFirestore();reactExports.useEffect(()=>{(async()=>{const He=auth$2.currentUser;if(!He)return;const Qe=doc(ke,"businesses",He.uid),Ke=await getDoc(Qe);Ke.exists()&&Oe(Ke.data());const ze=collection(ke,"businesses",He.uid,"retailerRequests"),We=collection(ke,"businesses",He.uid,"products"),qe=collection(ke,"businesses",He.uid,"dispatches"),[Ye,Xe,rr]=await Promise.all([getDocs(ze),getDocs(We),getDocs(qe)]);Ce(Ye.size),Re(Xe.size),Be(rr.size)})()},[]);const Me=async()=>{await signOut(auth$2),Ee("/")};return jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[jsxRuntimeExports.jsxs("aside",{className:"w-64 bg-blue-900 text-white shadow-lg p-5 flex flex-col justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold tracking-wide text-white mb-6",children:"FLYP"}),jsxRuntimeExports.jsxs("nav",{className:"space-y-4 mt-20",children:[jsxRuntimeExports.jsx("button",{onClick:()=>De("dashboard"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${je==="dashboard"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:" Dashboard"}),jsxRuntimeExports.jsx("button",{onClick:()=>De("retailerRequests"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${je==="retailerRequests"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:" Retailer Requests"}),jsxRuntimeExports.jsx("button",{onClick:()=>De("inventory"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${je==="inventory"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:" Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>De("dispatch"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${je==="dispatch"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:" Dispatch Tracker"}),jsxRuntimeExports.jsx("button",{onClick:()=>De("analytics"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${je==="analytics"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:" Analytics"}),jsxRuntimeExports.jsx("button",{onClick:()=>De("manageRetailers"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${je==="manageRetailers"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:" Manage Retailers"})]})]}),jsxRuntimeExports.jsx("button",{onClick:Me,className:"bg-red-600 hover:bg-red-700 py-2 rounded text-sm mt-6",children:"Sign Out"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 p-8 overflow-y-auto flex flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"sticky top-0 z-10 bg-white px-6 py-3 shadow flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Distributor Dashboard"})}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-700",children:Fe?.businessName||"Distributor"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:auth$2.currentUser?.email}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",auth$2.currentUser?.uid]})]})]}),jsxRuntimeExports.jsxs("main",{className:"flex-1",children:[je==="dashboard"&&jsxRuntimeExports.jsx(DistributorHome,{}),je==="retailerRequests"&&jsxRuntimeExports.jsx(RetailerRequests,{db:ke,auth:auth$2}),je==="inventory"&&jsxRuntimeExports.jsx(DistributorInventory,{db:ke,auth:auth$2}),je==="dispatch"&&jsxRuntimeExports.jsx(DispatchTracker,{db:ke,auth:auth$2}),je==="analytics"&&auth$2?.currentUser&&jsxRuntimeExports.jsx(DistributorAnalytics,{distributorId:auth$2.currentUser.uid}),je==="manageRetailers"&&jsxRuntimeExports.jsx(ManageRetailers,{db:ke,auth:auth$2})]})]})]})},ProductOwnerDashboard=()=>{const Ee=useNavigate(),_e=async()=>{try{await signOut(auth$2),Ee("/")}catch(Ce){console.error("Sign out error:",Ce)}};return jsxRuntimeExports.jsxs("div",{className:"flex h-screen",children:[jsxRuntimeExports.jsxs("div",{className:"w-64 bg-gray-900 text-white p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Product Owner"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-4",children:[jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Dashboard"}),jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Production"}),jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Inventory"}),jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Reports"}),jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Business Insights"})]}),jsxRuntimeExports.jsx("button",{onClick:_e,className:"mt-12 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded",children:"Sign Out"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 bg-gray-100 p-10 overflow-y-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-semibold mb-6",children:"Welcome Product Owner!"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Here's your central hub to manage production cycles, oversee inventory, and analyze supply performance."}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white shadow p-6 rounded",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"Active Products"}),jsxRuntimeExports.jsx("p",{className:"text-green-600 text-3xl mt-2",children:"145"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow p-6 rounded",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"Production Units"}),jsxRuntimeExports.jsx("p",{className:"text-blue-600 text-3xl mt-2",children:"32"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow p-6 rounded",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"Pending Shipments"}),jsxRuntimeExports.jsx("p",{className:"text-orange-600 text-3xl mt-2",children:"9"})]})]})]})]})},AddInventoryOptions=()=>{const[Ee,_e]=reactExports.useState(null),Ce=()=>Ee==="manual"?jsxRuntimeExports.jsxs("form",{className:"space-y-4 mt-6 bg-white p-6 rounded shadow",onSubmit:async Pe=>{Pe.preventDefault();const Re=getAuth(),Ie=getFirestore(app),Be=Re.currentUser;if(!Be){alert("User not authenticated");return}const je=new FormData(Pe.target),De={productName:je.get("productName"),sku:je.get("sku"),brand:je.get("brand"),category:je.get("category"),quantity:parseInt(je.get("quantity")),unit:je.get("unit"),costPrice:parseFloat(je.get("costPrice")),sellingPrice:parseFloat(je.get("sellingPrice")),description:je.get("description"),timestamp:serverTimestamp()};try{await addDoc(collection(Ie,"businesses",Be.uid,"products"),De),alert("Product added successfully!"),Pe.target.reset(),_e(null)}catch(Fe){console.error("Error adding product:",Fe),alert("Failed to add product.")}},id:"add-product-form",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"productName",placeholder:"Product Name",className:"w-full border p-2 rounded",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"sku",placeholder:"SKU",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"text",name:"brand",placeholder:"Brand",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"text",name:"category",placeholder:"Category",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"number",name:"quantity",placeholder:"Quantity",className:"w-full border p-2 rounded",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"unit",placeholder:"Unit (e.g. pcs, box)",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"number",name:"costPrice",placeholder:"Cost Price",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"number",name:"sellingPrice",placeholder:"Selling Price",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsx("textarea",{name:"description",placeholder:"Description",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"file",name:"productImage",accept:"image/*",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-4",children:[jsxRuntimeExports.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded",children:"Submit"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_e(null),className:"bg-red-500 text-white px-4 py-2 rounded",children:"Cancel"})]})]}):Ee==="ocr"?jsxRuntimeExports.jsx("div",{className:"mt-6 text-gray-500",children:"OCR form coming soon."}):Ee==="ai"?jsxRuntimeExports.jsx("div",{className:"mt-6 text-gray-500",children:"AI auto-generation coming soon."}):null;return jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Select Inventory Input Method"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>_e("manual"),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Manual Entry"}),jsxRuntimeExports.jsx("button",{onClick:()=>_e("ocr"),className:"bg-yellow-600 text-white px-4 py-2 rounded",children:"OCR Upload"}),jsxRuntimeExports.jsx("button",{onClick:()=>_e("ai"),className:"bg-purple-600 text-white px-4 py-2 rounded",children:"AI Generate"})]}),Ce()]})},ItemGroups=()=>jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Item Groups"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"This section will allow users to group similar items together (like variants or combos)."}),jsxRuntimeExports.jsx("div",{className:"mt-6 border rounded p-4 bg-yellow-50 border-yellow-300",children:jsxRuntimeExports.jsx("p",{className:"text-yellow-800",children:" Feature coming soon: Add item groups by SKU, brand, or category."})})]}),LowStockAlerts=()=>{const[Ee,_e]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Pe=getFirestore(app),Ie=getAuth(app).currentUser;if(Ie)try{const Be=collection(Pe,"businesses",Ie.uid,"products"),je=query(Be,where("quantity","<=",5)),De=await getDocs(je),Fe=[];De.forEach(Oe=>{Fe.push({id:Oe.id,...Oe.data()})}),_e(Fe)}catch(Be){console.error("Error fetching low stock items:",Be)}})()},[]),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-4",children:"Low Stock Alerts"}),Ee.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:" All products are well-stocked!"}):jsxRuntimeExports.jsx("ul",{className:"divide-y divide-gray-200",children:Ee.map(Ce=>jsxRuntimeExports.jsxs("li",{className:"py-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-md font-medium text-gray-800",children:Ce.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",Ce.sku]})]}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold text-red-600",children:[Ce.quantity," left"]})]},Ce.id))})]})},Inventory=()=>{const[Ee,_e]=reactExports.useState("add"),Ce=()=>{try{switch(Ee){case"add":return jsxRuntimeExports.jsx(AddInventoryOptions,{});case"view":return jsxRuntimeExports.jsx(ViewInventory$1,{});case"groups":return jsxRuntimeExports.jsx(ItemGroups,{});case"alerts":return jsxRuntimeExports.jsx(LowStockAlerts,{});default:return jsxRuntimeExports.jsx("div",{className:"text-red-600",children:"Invalid tab selected"})}}catch(Re){return jsxRuntimeExports.jsxs("div",{className:"text-red-600",children:["An error occurred while rendering the tab: ",Re.message]})}},Pe=Re=>`px-4 py-2 rounded transition ${Ee===Re?"bg-blue-600 text-white shadow":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`;return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-700 mb-4",children:"Inventory Management"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[jsxRuntimeExports.jsx("button",{className:Pe("add"),onClick:()=>_e("add"),children:" Add Inventory"}),jsxRuntimeExports.jsx("button",{className:Pe("view"),onClick:()=>_e("view"),children:" View Inventory"}),jsxRuntimeExports.jsx("button",{className:Pe("groups"),onClick:()=>_e("groups"),children:" Item Groups"}),jsxRuntimeExports.jsx("button",{className:Pe("alerts"),onClick:()=>_e("alerts"),children:" Low Stock Alerts"})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded shadow p-4 min-h-[200px]",children:Ce()})]})},InvoiceCard=({invoice:Ee})=>{const{customerInfo:_e,items:Ce,total:Pe,subtotal:Re,gst:Ie,createdAt:Be,settings:je}=Ee;return jsxRuntimeExports.jsx("div",{className:"w-full max-w-md mx-auto mb-4",children:jsxRuntimeExports.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 shadow-md bg-white hover:shadow-lg transition-all overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between items-center mb-2",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-base md:text-lg",children:[" ",je?.invoiceType||"Invoice"]}),jsxRuntimeExports.jsx("span",{className:"text-xs md:text-sm text-gray-500",children:new Date(Be).toLocaleDateString()})]}),jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-base md:text-sm",children:_e?.name}),jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:_e?.email}),jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:_e?.phone})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-2 text-xs md:text-sm",children:[Ce?.slice(0,3).map((De,Fe)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between",children:[jsxRuntimeExports.jsxs("span",{children:[De.name,"  ",De.quantity]}),jsxRuntimeExports.jsxs("span",{children:["",De.subtotal]})]},Fe)),Ce?.length>3&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:["+ ",Ce.length-3," more items"]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-2 mt-2 text-xs md:text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Subtotal"}),jsxRuntimeExports.jsxs("span",{children:["",Re]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between",children:[jsxRuntimeExports.jsx("span",{children:"GST"}),jsxRuntimeExports.jsxs("span",{children:["",Ie]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between font-bold",children:[jsxRuntimeExports.jsx("span",{children:"Total"}),jsxRuntimeExports.jsxs("span",{children:["",Pe]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 text-right",children:jsxRuntimeExports.jsx("button",{className:"text-blue-600 hover:underline text-xs md:text-sm",children:"View / Download"})})]})})},InvoicePreview=({invoice:Ee,onClose:_e})=>{if(!Ee)return null;const{customer:Ce,cartItems:Pe,totalAmount:Re,issuedAt:Ie,settings:Be,paymentMode:je}=Ee;return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-end",children:jsxRuntimeExports.jsxs("div",{className:"w-full sm:max-w-xl bg-white shadow-xl p-4 md:p-6 rounded-xl overflow-y-auto max-h-[90vh] space-y-4 pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)]",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:"Invoice Preview"}),jsxRuntimeExports.jsx("button",{onClick:_e,className:"text-red-500 font-bold text-lg",children:""})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Date: ",new Date(Ie).toLocaleString()]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Customer Info"}),jsxRuntimeExports.jsxs("p",{children:["Name: ",Ce?.name]}),jsxRuntimeExports.jsxs("p",{children:["Email: ",Ce?.email]}),jsxRuntimeExports.jsxs("p",{children:["Phone: ",Ce?.phone]}),jsxRuntimeExports.jsxs("p",{children:["Address: ",Ce?.address]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Items"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm border",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"text-left p-2 border",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"text-left p-2 border",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"text-left p-2 border",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"text-left p-2 border",children:"Total"})]})}),jsxRuntimeExports.jsx("tbody",{children:Pe?.map((De,Fe)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"p-2 border",children:De.name}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:De.quantity}),jsxRuntimeExports.jsxs("td",{className:"p-2 border",children:["",De.price]}),jsxRuntimeExports.jsxs("td",{className:"p-2 border",children:["",(De.quantity*De.price*(1-(De.discount||0)/100)).toFixed(2)]})]},Fe))})]})})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm border-t pt-4",children:[jsxRuntimeExports.jsxs("p",{className:"font-bold",children:["Total: ",Re]}),jsxRuntimeExports.jsxs("p",{children:["Payment Mode: ",Be?.paymentMode]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Download PDF"})})]})})},AllInvoices=()=>{const[Ee,_e]=reactExports.useState([]),[Ce,Pe]=reactExports.useState([]),[Re,Ie]=reactExports.useState(null),[Be,je]=reactExports.useState(""),[De,Fe]=reactExports.useState({from:"",to:""});reactExports.useEffect(()=>{(async()=>{const $e=getAuth().currentUser;if(!$e)return;const He=collection(getFirestore(),`businesses/${$e.uid}/finalizedInvoices`),Ke=(await getDocs(He)).docs.map(ze=>({id:ze.id,...ze.data()}));_e(Ke),Pe(Ke)})()},[]),reactExports.useEffect(()=>{const Me=Be.toLowerCase(),$e=Ee.filter(He=>{const Qe=He.customerInfo?.name?.toLowerCase().includes(Me),Ke=He.customerInfo?.email?.toLowerCase().includes(Me),ze=new Date(He.createdAt),We=De.from?new Date(De.from):null,qe=De.to?new Date(De.to):null,Ye=(!We||ze>=We)&&(!qe||ze<=qe);return(Qe||Ke)&&Ye});Pe($e)},[Be,De,Ee]);const Oe=Me=>Ie(Me),ke=()=>Ie(null);return jsxRuntimeExports.jsxs("div",{className:"px-4 py-6 md:px-6 pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)] space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg md:text-xl font-semibold mb-4",children:"All Invoices"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by customer name/email",value:Be,onChange:Me=>je(Me.target.value),className:"border border-gray-300 p-2 rounded w-full sm:max-w-xs text-sm"}),jsxRuntimeExports.jsx("input",{type:"date",value:De.from,onChange:Me=>Fe($e=>({...$e,from:Me.target.value})),className:"border border-gray-300 p-2 rounded w-full sm:max-w-xs text-sm"}),jsxRuntimeExports.jsx("input",{type:"date",value:De.to,onChange:Me=>Fe($e=>({...$e,to:Me.target.value})),className:"border border-gray-300 p-2 rounded w-full sm:max-w-xs text-sm"})]}),Ce.length===0?jsxRuntimeExports.jsx("p",{children:"No invoices found."}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ce.map(Me=>jsxRuntimeExports.jsx(InvoiceCard,{invoice:Me,onView:()=>Oe(Me)},Me.id))}),Re&&jsxRuntimeExports.jsx(InvoicePreview,{invoice:Re,onClose:ke})]})};function _typeof(Ee){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof(Ee)}function toPrimitive(Ee,_e){if(_typeof(Ee)!="object"||!Ee)return Ee;var Ce=Ee[Symbol.toPrimitive];if(Ce!==void 0){var Pe=Ce.call(Ee,_e);if(_typeof(Pe)!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ee)}function toPropertyKey(Ee){var _e=toPrimitive(Ee,"string");return _typeof(_e)=="symbol"?_e:_e+""}function _defineProperty(Ee,_e,Ce){return(_e=toPropertyKey(_e))in Ee?Object.defineProperty(Ee,_e,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ee[_e]=Ce,Ee}function getDefaultExportFromCjs$1(Ee){return Ee&&Ee.__esModule&&Object.prototype.hasOwnProperty.call(Ee,"default")?Ee.default:Ee}var invariant_1,hasRequiredInvariant;function requireInvariant(){if(hasRequiredInvariant)return invariant_1;hasRequiredInvariant=1;var Ee=function(Ce,Pe,Re,Ie,Be,je,De,Fe){if(!Ce){var Oe;if(Pe===void 0)Oe=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var ke=[Re,Ie,Be,je,De,Fe],Me=0;Oe=new Error(Pe.replace(/%s/g,function(){return ke[Me++]})),Oe.name="Invariant Violation"}throw Oe.framesToPop=1,Oe}};return invariant_1=Ee,invariant_1}var invariantExports=requireInvariant(),invariant=getDefaultExportFromCjs$1(invariantExports),MapContext=reactExports.createContext(null);function useGoogleMap(){invariant(!!reactExports.useContext,"useGoogleMap is React hook and requires React version 16.8+");var Ee=reactExports.useContext(MapContext);return invariant(!!Ee,"useGoogleMap needs a GoogleMap available up in the tree"),Ee}function reduce(Ee,_e,Ce){return Object.keys(Ee).reduce(function(Re,Ie){return _e(Re,Ee[Ie],Ie)},Ce)}function forEach(Ee,_e){Object.keys(Ee).forEach(Ce=>_e(Ee[Ce],Ce))}function applyUpdaterToNextProps(Ee,_e,Ce,Pe){var Re={},Ie=(Be,je)=>{var De=Ce[je];De!==_e[je]&&(Re[je]=De,Be(Pe,De))};return forEach(Ee,Ie),Re}function registerEvents(Ee,_e,Ce){var Pe=reduce(Ce,function(Ie,Be,je){return typeof Ee[je]=="function"&&Ie.push(google.maps.event.addListener(_e,Be,Ee[je])),Ie},[]);return Pe}function unregisterEvent(Ee){google.maps.event.removeListener(Ee)}function unregisterEvents(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];Ee.forEach(unregisterEvent)}function applyUpdatersToPropsAndRegisterEvents(Ee){var{updaterMap:_e,eventMap:Ce,prevProps:Pe,nextProps:Re,instance:Ie}=Ee,Be=registerEvents(Re,Ie,Ce);return applyUpdaterToNextProps(_e,Pe,Re,Ie),Be}function GoogleMapFunctional(Ee){var{children:_e,options:Ce,id:Pe,mapContainerStyle:Re,mapContainerClassName:Ie,center:Be,onClick:je,onDblClick:De,onDrag:Fe,onDragEnd:Oe,onDragStart:ke,onMouseMove:Me,onMouseOut:$e,onMouseOver:He,onMouseDown:Qe,onMouseUp:Ke,onRightClick:ze,onCenterChanged:We,onLoad:qe,onUnmount:Ye}=Ee,[Xe,rr]=reactExports.useState(null),Je=reactExports.useRef(null),[er,or]=reactExports.useState(null),[pr,ar]=reactExports.useState(null),[fr,gr]=reactExports.useState(null),[Rr,Ir]=reactExports.useState(null),[mr,Er]=reactExports.useState(null),[Ar,br]=reactExports.useState(null),[wr,jr]=reactExports.useState(null),[hr,_r]=reactExports.useState(null),[Pr,Cr]=reactExports.useState(null),[Or,Yr]=reactExports.useState(null),[qr,Kr]=reactExports.useState(null),[Zr,yn]=reactExports.useState(null);return reactExports.useEffect(()=>{Ce&&Xe!==null&&Xe.setOptions(Ce)},[Xe,Ce]),reactExports.useEffect(()=>{Xe!==null&&typeof Be<"u"&&Xe.setCenter(Be)},[Xe,Be]),reactExports.useEffect(()=>{Xe&&De&&(pr!==null&&google.maps.event.removeListener(pr),ar(google.maps.event.addListener(Xe,"dblclick",De)))},[De]),reactExports.useEffect(()=>{Xe&&Oe&&(fr!==null&&google.maps.event.removeListener(fr),gr(google.maps.event.addListener(Xe,"dragend",Oe)))},[Oe]),reactExports.useEffect(()=>{Xe&&ke&&(Rr!==null&&google.maps.event.removeListener(Rr),Ir(google.maps.event.addListener(Xe,"dragstart",ke)))},[ke]),reactExports.useEffect(()=>{Xe&&Qe&&(mr!==null&&google.maps.event.removeListener(mr),Er(google.maps.event.addListener(Xe,"mousedown",Qe)))},[Qe]),reactExports.useEffect(()=>{Xe&&Me&&(Ar!==null&&google.maps.event.removeListener(Ar),br(google.maps.event.addListener(Xe,"mousemove",Me)))},[Me]),reactExports.useEffect(()=>{Xe&&$e&&(wr!==null&&google.maps.event.removeListener(wr),jr(google.maps.event.addListener(Xe,"mouseout",$e)))},[$e]),reactExports.useEffect(()=>{Xe&&He&&(hr!==null&&google.maps.event.removeListener(hr),_r(google.maps.event.addListener(Xe,"mouseover",He)))},[He]),reactExports.useEffect(()=>{Xe&&Ke&&(Pr!==null&&google.maps.event.removeListener(Pr),Cr(google.maps.event.addListener(Xe,"mouseup",Ke)))},[Ke]),reactExports.useEffect(()=>{Xe&&ze&&(Or!==null&&google.maps.event.removeListener(Or),Yr(google.maps.event.addListener(Xe,"rightclick",ze)))},[ze]),reactExports.useEffect(()=>{Xe&&je&&(qr!==null&&google.maps.event.removeListener(qr),Kr(google.maps.event.addListener(Xe,"click",je)))},[je]),reactExports.useEffect(()=>{Xe&&Fe&&(Zr!==null&&google.maps.event.removeListener(Zr),yn(google.maps.event.addListener(Xe,"drag",Fe)))},[Fe]),reactExports.useEffect(()=>{Xe&&We&&(er!==null&&google.maps.event.removeListener(er),or(google.maps.event.addListener(Xe,"center_changed",We)))},[je]),reactExports.useEffect(()=>{var mn=Je.current===null?null:new google.maps.Map(Je.current,Ce);return rr(mn),mn!==null&&qe&&qe(mn),()=>{mn!==null&&Ye&&Ye(mn)}},[]),jsxRuntimeExports.jsx("div",{id:Pe,ref:Je,style:Re,className:Ie,children:jsxRuntimeExports.jsx(MapContext.Provider,{value:Xe,children:Xe!==null?_e:null})})}reactExports.memo(GoogleMapFunctional);function asyncGeneratorStep(Ee,_e,Ce,Pe,Re,Ie,Be){try{var je=Ee[Ie](Be),De=je.value}catch(Fe){return void Ce(Fe)}je.done?_e(De):Promise.resolve(De).then(Pe,Re)}function _asyncToGenerator(Ee){return function(){var _e=this,Ce=arguments;return new Promise(function(Pe,Re){var Ie=Ee.apply(_e,Ce);function Be(De){asyncGeneratorStep(Ie,Pe,Re,Be,je,"next",De)}function je(De){asyncGeneratorStep(Ie,Pe,Re,Be,je,"throw",De)}Be(void 0)})}}function makeLoadScriptUrl(Ee){var{googleMapsApiKey:_e,googleMapsClientId:Ce,version:Pe="weekly",language:Re,region:Ie,libraries:Be,channel:je,mapIds:De,authReferrerPolicy:Fe,apiUrl:Oe="https://maps.googleapis.com"}=Ee,ke=[];return invariant(_e&&Ce||!(_e&&Ce),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),_e?ke.push("key=".concat(_e)):Ce&&ke.push("client=".concat(Ce)),Pe&&ke.push("v=".concat(Pe)),Re&&ke.push("language=".concat(Re)),Ie&&ke.push("region=".concat(Ie)),Be&&Be.length&&ke.push("libraries=".concat(Be.sort().join(","))),je&&ke.push("channel=".concat(je)),De&&De.length&&ke.push("map_ids=".concat(De.join(","))),Fe&&ke.push("auth_referrer_policy=".concat(Fe)),ke.push("loading=async"),ke.push("callback=initMap"),"".concat(Oe,"/maps/api/js?").concat(ke.join("&"))}var isBrowser=typeof document<"u";function injectScript(Ee){var{url:_e,id:Ce,nonce:Pe}=Ee;return isBrowser?new Promise(function(Ie,Be){var je=document.getElementById(Ce),De=window;if(je){var Fe=je.getAttribute("data-state");if(je.src===_e&&Fe!=="error"){if(Fe==="ready")return Ie(Ce);var Oe=De.initMap,ke=je.onerror;De.initMap=function(){Oe&&Oe(),Ie(Ce)},je.onerror=function($e){ke&&ke($e),Be($e)};return}else je.remove()}var Me=document.createElement("script");Me.type="text/javascript",Me.src=_e,Me.id=Ce,Me.async=!0,Me.nonce=Pe||"",Me.onerror=function(He){Me.setAttribute("data-state","error"),Be(He)},De.initMap=function(){Me.setAttribute("data-state","ready"),Ie(Ce)},document.head.appendChild(Me)}).catch(Re=>{throw console.error("injectScript error: ",Re),Re}):Promise.reject(new Error("document is undefined"))}function isGoogleFontStyle(Ee){var _e=Ee.href;return _e&&(_e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||_e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:Ee.tagName.toLowerCase()==="style"&&Ee.styleSheet&&Ee.styleSheet.cssText&&Ee.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(Ee.styleSheet.cssText="",!0):Ee.tagName.toLowerCase()==="style"&&Ee.innerHTML&&Ee.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(Ee.innerHTML="",!0):Ee.tagName.toLowerCase()==="style"&&!Ee.styleSheet&&!Ee.innerHTML}function preventGoogleFonts(){var Ee=document.getElementsByTagName("head")[0];if(Ee){var _e=Ee.insertBefore.bind(Ee);Ee.insertBefore=function(Re,Ie){return isGoogleFontStyle(Re)||Reflect.apply(_e,Ee,[Re,Ie]),Re};var Ce=Ee.appendChild.bind(Ee);Ee.appendChild=function(Re){return isGoogleFontStyle(Re)||Reflect.apply(Ce,Ee,[Re]),Re}}}var cleaningUp=!1;function DefaultLoadingElement(){return jsxRuntimeExports.jsx("div",{children:"Loading..."})}var defaultLoadScriptProps={id:"script-loader",version:"weekly"};class LoadScript extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"check",null),_defineProperty(this,"state",{loaded:!1}),_defineProperty(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),_defineProperty(this,"isCleaningUp",_asyncToGenerator(function*(){function _e(Ce){if(!cleaningUp)Ce();else if(isBrowser)var Pe=window.setInterval(function(){cleaningUp||(window.clearInterval(Pe),Ce())},1)}return new Promise(_e)})),_defineProperty(this,"cleanup",()=>{cleaningUp=!0;var _e=document.getElementById(this.props.id);_e&&_e.parentNode&&_e.parentNode.removeChild(_e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(Pe){return typeof Pe.src=="string"&&Pe.src.includes("maps.googleapis")}).forEach(function(Pe){Pe.parentNode&&Pe.parentNode.removeChild(Pe)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(Pe){return Pe.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(Pe){Pe.parentNode&&Pe.parentNode.removeChild(Pe)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(Pe){return Pe.innerText!==void 0&&Pe.innerText.length>0&&Pe.innerText.includes(".gm-")}).forEach(function(Pe){Pe.parentNode&&Pe.parentNode.removeChild(Pe)})}),_defineProperty(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&preventGoogleFonts(),invariant(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var _e={id:this.props.id,nonce:this.props.nonce,url:makeLoadScriptUrl(this.props)};injectScript(_e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(Ce=>{this.props.onError&&this.props.onError(Ce),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),_defineProperty(this,"getRef",_e=>{this.check=_e})}componentDidMount(){if(isBrowser){if(window.google&&window.google.maps&&!cleaningUp){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(Ce){console.error("Error at injecting script after cleaning up: ",Ce)})}}componentDidUpdate(_e){this.props.libraries!==_e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),isBrowser&&_e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(isBrowser){this.cleanup();var _e=()=>{this.check||(delete window.google,cleaningUp=!1)};window.setTimeout(_e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||jsxRuntimeExports.jsx(DefaultLoadingElement,{})]})}}_defineProperty(LoadScript,"defaultProps",defaultLoadScriptProps);function _objectWithoutPropertiesLoose(Ee,_e){if(Ee==null)return{};var Ce={};for(var Pe in Ee)if({}.hasOwnProperty.call(Ee,Pe)){if(_e.includes(Pe))continue;Ce[Pe]=Ee[Pe]}return Ce}function _objectWithoutProperties(Ee,_e){if(Ee==null)return{};var Ce,Pe,Re=_objectWithoutPropertiesLoose(Ee,_e);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<Ie.length;Pe++)Ce=Ie[Pe],_e.includes(Ce)||{}.propertyIsEnumerable.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re}var previouslyLoadedUrl;function useLoadScript(Ee){var{id:_e=defaultLoadScriptProps.id,version:Ce=defaultLoadScriptProps.version,nonce:Pe,googleMapsApiKey:Re,googleMapsClientId:Ie,language:Be,region:je,libraries:De,preventGoogleFontsLoading:Fe,channel:Oe,mapIds:ke,authReferrerPolicy:Me,apiUrl:$e="https://maps.googleapis.com"}=Ee,He=reactExports.useRef(!1),[Qe,Ke]=reactExports.useState(!1),[ze,We]=reactExports.useState(void 0);reactExports.useEffect(function(){return He.current=!0,()=>{He.current=!1}},[]),reactExports.useEffect(function(){isBrowser&&Fe&&preventGoogleFonts()},[Fe]),reactExports.useEffect(function(){Qe&&invariant(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[Qe]);var qe=makeLoadScriptUrl({version:Ce,googleMapsApiKey:Re,googleMapsClientId:Ie,language:Be,region:je,libraries:De,channel:Oe,mapIds:ke,authReferrerPolicy:Me,apiUrl:$e});reactExports.useEffect(function(){if(!isBrowser)return;function rr(){He.current&&(Ke(!0),previouslyLoadedUrl=qe)}if(window.google&&window.google.maps&&previouslyLoadedUrl===qe){rr();return}injectScript({id:_e,url:qe,nonce:Pe}).then(rr).catch(function(er){He.current&&We(er),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(Re||"-",") or Client ID (").concat(Ie||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(er)})},[_e,qe,Pe]);var Ye=reactExports.useRef(void 0);return reactExports.useEffect(function(){Ye.current&&De!==Ye.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Ye.current=De},[De]),{isLoaded:Qe,loadError:ze,url:qe}}var _excluded$1=["loadingElement","onLoad","onError","onUnmount","children"],defaultLoadingElement=jsxRuntimeExports.jsx(DefaultLoadingElement,{});function LoadScriptNext(Ee){var{loadingElement:_e,onLoad:Ce,onError:Pe,onUnmount:Re,children:Ie}=Ee,Be=_objectWithoutProperties(Ee,_excluded$1),{isLoaded:je,loadError:De}=useLoadScript(Be);return reactExports.useEffect(function(){je&&typeof Ce=="function"&&Ce()},[je,Ce]),reactExports.useEffect(function(){De&&typeof Pe=="function"&&Pe(De)},[De,Pe]),reactExports.useEffect(function(){return()=>{Re&&Re()}},[Re]),je?Ie:_e||defaultLoadingElement}reactExports.memo(LoadScriptNext);typeof SuppressedError=="function"&&SuppressedError;var LoaderStatus;(function(Ee){Ee[Ee.INITIALIZED=0]="INITIALIZED",Ee[Ee.LOADING=1]="LOADING",Ee[Ee.SUCCESS=2]="SUCCESS",Ee[Ee.FAILURE=3]="FAILURE"})(LoaderStatus||(LoaderStatus={}));function ownKeys$f(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$f(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$f(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$f(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}var eventMap$h={},updaterMap$h={options(Ee,_e){Ee.setOptions(_e)}};function TrafficLayerFunctional(Ee){var{options:_e,onLoad:Ce,onUnmount:Pe}=Ee,Re=reactExports.useContext(MapContext),[Ie,Be]=reactExports.useState(null);return reactExports.useEffect(()=>{Ie!==null&&Ie.setMap(Re)},[Re]),reactExports.useEffect(()=>{_e&&Ie!==null&&Ie.setOptions(_e)},[Ie,_e]),reactExports.useEffect(()=>{var je=new google.maps.TrafficLayer(_objectSpread$f(_objectSpread$f({},_e),{},{map:Re}));return Be(je),Ce&&Ce(je),()=>{Ie!==null&&(Pe&&Pe(Ie),Ie.setMap(null))}},[]),null}reactExports.memo(TrafficLayerFunctional);class TrafficLayer extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"state",{trafficLayer:null}),_defineProperty(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),_defineProperty(this,"registeredEvents",[])}componentDidMount(){var _e=new google.maps.TrafficLayer(_objectSpread$f(_objectSpread$f({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$h,eventMap:eventMap$h,prevProps:{},nextProps:this.props,instance:_e}),this.setState(function(){return{trafficLayer:_e}},this.setTrafficLayerCallback)}componentDidUpdate(_e){this.state.trafficLayer!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$h,eventMap:eventMap$h,prevProps:_e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),unregisterEvents(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}_defineProperty(TrafficLayer,"contextType",MapContext);function BicyclingLayerFunctional(Ee){var{onLoad:_e,onUnmount:Ce}=Ee,Pe=reactExports.useContext(MapContext),[Re,Ie]=reactExports.useState(null);return reactExports.useEffect(()=>{Re!==null&&Re.setMap(Pe)},[Pe]),reactExports.useEffect(()=>{var Be=new google.maps.BicyclingLayer;return Ie(Be),Be.setMap(Pe),_e&&_e(Be),()=>{Be!==null&&(Ce&&Ce(Be),Be.setMap(null))}},[]),null}reactExports.memo(BicyclingLayerFunctional);class BicyclingLayer extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"state",{bicyclingLayer:null}),_defineProperty(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var _e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:_e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}_defineProperty(BicyclingLayer,"contextType",MapContext);function TransitLayerFunctional(Ee){var{onLoad:_e,onUnmount:Ce}=Ee,Pe=reactExports.useContext(MapContext),[Re,Ie]=reactExports.useState(null);return reactExports.useEffect(()=>{Re!==null&&Re.setMap(Pe)},[Pe]),reactExports.useEffect(()=>{var Be=new google.maps.TransitLayer;return Ie(Be),Be.setMap(Pe),_e&&_e(Be),()=>{Re!==null&&(Ce&&Ce(Re),Re.setMap(null))}},[]),null}reactExports.memo(TransitLayerFunctional);class TransitLayer extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"state",{transitLayer:null}),_defineProperty(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var _e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:_e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}_defineProperty(TransitLayer,"contextType",MapContext);function ownKeys$e(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$e(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$e(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$e(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}var eventMap$g={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},updaterMap$g={drawingMode(Ee,_e){Ee.setDrawingMode(_e)},options(Ee,_e){Ee.setOptions(_e)}};function DrawingManagerFunctional(Ee){var{options:_e,drawingMode:Ce,onCircleComplete:Pe,onMarkerComplete:Re,onOverlayComplete:Ie,onPolygonComplete:Be,onPolylineComplete:je,onRectangleComplete:De,onLoad:Fe,onUnmount:Oe}=Ee,ke=reactExports.useContext(MapContext),[Me,$e]=reactExports.useState(null),[He,Qe]=reactExports.useState(null),[Ke,ze]=reactExports.useState(null),[We,qe]=reactExports.useState(null),[Ye,Xe]=reactExports.useState(null),[rr,Je]=reactExports.useState(null),[er,or]=reactExports.useState(null);return reactExports.useEffect(()=>{Me!==null&&Me.setMap(ke)},[ke]),reactExports.useEffect(()=>{_e&&Me!==null&&Me.setOptions(_e)},[Me,_e]),reactExports.useEffect(()=>{Me!==null&&Me.setDrawingMode(Ce??null)},[Me,Ce]),reactExports.useEffect(()=>{Me&&Pe&&(He!==null&&google.maps.event.removeListener(He),Qe(google.maps.event.addListener(Me,"circlecomplete",Pe)))},[Me,Pe]),reactExports.useEffect(()=>{Me&&Re&&(Ke!==null&&google.maps.event.removeListener(Ke),ze(google.maps.event.addListener(Me,"markercomplete",Re)))},[Me,Re]),reactExports.useEffect(()=>{Me&&Ie&&(We!==null&&google.maps.event.removeListener(We),qe(google.maps.event.addListener(Me,"overlaycomplete",Ie)))},[Me,Ie]),reactExports.useEffect(()=>{Me&&Be&&(Ye!==null&&google.maps.event.removeListener(Ye),Xe(google.maps.event.addListener(Me,"polygoncomplete",Be)))},[Me,Be]),reactExports.useEffect(()=>{Me&&je&&(rr!==null&&google.maps.event.removeListener(rr),Je(google.maps.event.addListener(Me,"polylinecomplete",je)))},[Me,je]),reactExports.useEffect(()=>{Me&&De&&(er!==null&&google.maps.event.removeListener(er),or(google.maps.event.addListener(Me,"rectanglecomplete",De)))},[Me,De]),reactExports.useEffect(()=>{invariant(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var pr=new google.maps.drawing.DrawingManager(_objectSpread$e(_objectSpread$e({},_e),{},{map:ke}));return Ce&&pr.setDrawingMode(Ce),Pe&&Qe(google.maps.event.addListener(pr,"circlecomplete",Pe)),Re&&ze(google.maps.event.addListener(pr,"markercomplete",Re)),Ie&&qe(google.maps.event.addListener(pr,"overlaycomplete",Ie)),Be&&Xe(google.maps.event.addListener(pr,"polygoncomplete",Be)),je&&Je(google.maps.event.addListener(pr,"polylinecomplete",je)),De&&or(google.maps.event.addListener(pr,"rectanglecomplete",De)),$e(pr),Fe&&Fe(pr),()=>{Me!==null&&(He&&google.maps.event.removeListener(He),Ke&&google.maps.event.removeListener(Ke),We&&google.maps.event.removeListener(We),Ye&&google.maps.event.removeListener(Ye),rr&&google.maps.event.removeListener(rr),er&&google.maps.event.removeListener(er),Oe&&Oe(Me),Me.setMap(null))}},[]),null}reactExports.memo(DrawingManagerFunctional);class DrawingManager extends reactExports.PureComponent{constructor(_e){super(_e),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{drawingManager:null}),_defineProperty(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),invariant(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var _e=new google.maps.drawing.DrawingManager(_objectSpread$e(_objectSpread$e({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$g,eventMap:eventMap$g,prevProps:{},nextProps:this.props,instance:_e}),this.setState(function(){return{drawingManager:_e}},this.setDrawingManagerCallback)}componentDidUpdate(_e){this.state.drawingManager!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$g,eventMap:eventMap$g,prevProps:_e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),unregisterEvents(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}_defineProperty(DrawingManager,"contextType",MapContext);function ownKeys$d(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$d(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$d(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$d(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}var eventMap$f={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},updaterMap$f={animation(Ee,_e){Ee.setAnimation(_e)},clickable(Ee,_e){Ee.setClickable(_e)},cursor(Ee,_e){Ee.setCursor(_e)},draggable(Ee,_e){Ee.setDraggable(_e)},icon(Ee,_e){Ee.setIcon(_e)},label(Ee,_e){Ee.setLabel(_e)},map(Ee,_e){Ee.setMap(_e)},opacity(Ee,_e){Ee.setOpacity(_e)},options(Ee,_e){Ee.setOptions(_e)},position(Ee,_e){Ee.setPosition(_e)},shape(Ee,_e){Ee.setShape(_e)},title(Ee,_e){Ee.setTitle(_e)},visible(Ee,_e){Ee.setVisible(_e)},zIndex(Ee,_e){Ee.setZIndex(_e)}},defaultOptions$5={};function MarkerFunctional(Ee){var{position:_e,options:Ce,clusterer:Pe,noClustererRedraw:Re,children:Ie,draggable:Be,visible:je,animation:De,clickable:Fe,cursor:Oe,icon:ke,label:Me,opacity:$e,shape:He,title:Qe,zIndex:Ke,onClick:ze,onDblClick:We,onDrag:qe,onDragEnd:Ye,onDragStart:Xe,onMouseOut:rr,onMouseOver:Je,onMouseUp:er,onMouseDown:or,onRightClick:pr,onClickableChanged:ar,onCursorChanged:fr,onAnimationChanged:gr,onDraggableChanged:Rr,onFlatChanged:Ir,onIconChanged:mr,onPositionChanged:Er,onShapeChanged:Ar,onTitleChanged:br,onVisibleChanged:wr,onZindexChanged:jr,onLoad:hr,onUnmount:_r}=Ee,Pr=reactExports.useContext(MapContext),[Cr,Or]=reactExports.useState(null),[Yr,qr]=reactExports.useState(null),[Kr,Zr]=reactExports.useState(null),[yn,mn]=reactExports.useState(null),[Cn,bn]=reactExports.useState(null),[wn,Jr]=reactExports.useState(null),[qn,ci]=reactExports.useState(null),[Jn,ui]=reactExports.useState(null),[li,mi]=reactExports.useState(null),[wi,Di]=reactExports.useState(null),[$i,Si]=reactExports.useState(null),[Bi,Vi]=reactExports.useState(null),[Pn,En]=reactExports.useState(null),[jn,ni]=reactExports.useState(null),[ii,Fi]=reactExports.useState(null),[bi,Wi]=reactExports.useState(null),[ws,Zi]=reactExports.useState(null),[fa,vs]=reactExports.useState(null),[Zs,Ji]=reactExports.useState(null),[Ti,xi]=reactExports.useState(null),[Ui,ss]=reactExports.useState(null),[us,Js]=reactExports.useState(null);reactExports.useEffect(()=>{Cr!==null&&Cr.setMap(Pr)},[Pr]),reactExports.useEffect(()=>{typeof Ce<"u"&&Cr!==null&&Cr.setOptions(Ce)},[Cr,Ce]),reactExports.useEffect(()=>{typeof Be<"u"&&Cr!==null&&Cr.setDraggable(Be)},[Cr,Be]),reactExports.useEffect(()=>{_e&&Cr!==null&&Cr.setPosition(_e)},[Cr,_e]),reactExports.useEffect(()=>{typeof je<"u"&&Cr!==null&&Cr.setVisible(je)},[Cr,je]),reactExports.useEffect(()=>{Cr?.setAnimation(De)},[Cr,De]),reactExports.useEffect(()=>{Cr&&Fe!==void 0&&Cr.setClickable(Fe)},[Cr,Fe]),reactExports.useEffect(()=>{Cr&&Oe!==void 0&&Cr.setCursor(Oe)},[Cr,Oe]),reactExports.useEffect(()=>{Cr&&ke!==void 0&&Cr.setIcon(ke)},[Cr,ke]),reactExports.useEffect(()=>{Cr&&Me!==void 0&&Cr.setLabel(Me)},[Cr,Me]),reactExports.useEffect(()=>{Cr&&$e!==void 0&&Cr.setOpacity($e)},[Cr,$e]),reactExports.useEffect(()=>{Cr&&He!==void 0&&Cr.setShape(He)},[Cr,He]),reactExports.useEffect(()=>{Cr&&Qe!==void 0&&Cr.setTitle(Qe)},[Cr,Qe]),reactExports.useEffect(()=>{Cr&&Ke!==void 0&&Cr.setZIndex(Ke)},[Cr,Ke]),reactExports.useEffect(()=>{Cr&&We&&(Yr!==null&&google.maps.event.removeListener(Yr),qr(google.maps.event.addListener(Cr,"dblclick",We)))},[We]),reactExports.useEffect(()=>{Cr&&Ye&&(Kr!==null&&google.maps.event.removeListener(Kr),Zr(google.maps.event.addListener(Cr,"dragend",Ye)))},[Ye]),reactExports.useEffect(()=>{Cr&&Xe&&(yn!==null&&google.maps.event.removeListener(yn),mn(google.maps.event.addListener(Cr,"dragstart",Xe)))},[Xe]),reactExports.useEffect(()=>{Cr&&or&&(Cn!==null&&google.maps.event.removeListener(Cn),bn(google.maps.event.addListener(Cr,"mousedown",or)))},[or]),reactExports.useEffect(()=>{Cr&&rr&&(wn!==null&&google.maps.event.removeListener(wn),Jr(google.maps.event.addListener(Cr,"mouseout",rr)))},[rr]),reactExports.useEffect(()=>{Cr&&Je&&(qn!==null&&google.maps.event.removeListener(qn),ci(google.maps.event.addListener(Cr,"mouseover",Je)))},[Je]),reactExports.useEffect(()=>{Cr&&er&&(Jn!==null&&google.maps.event.removeListener(Jn),ui(google.maps.event.addListener(Cr,"mouseup",er)))},[er]),reactExports.useEffect(()=>{Cr&&pr&&(li!==null&&google.maps.event.removeListener(li),mi(google.maps.event.addListener(Cr,"rightclick",pr)))},[pr]),reactExports.useEffect(()=>{Cr&&ze&&(wi!==null&&google.maps.event.removeListener(wi),Di(google.maps.event.addListener(Cr,"click",ze)))},[ze]),reactExports.useEffect(()=>{Cr&&qe&&($i!==null&&google.maps.event.removeListener($i),Si(google.maps.event.addListener(Cr,"drag",qe)))},[qe]),reactExports.useEffect(()=>{Cr&&ar&&(Bi!==null&&google.maps.event.removeListener(Bi),Vi(google.maps.event.addListener(Cr,"clickable_changed",ar)))},[ar]),reactExports.useEffect(()=>{Cr&&fr&&(Pn!==null&&google.maps.event.removeListener(Pn),En(google.maps.event.addListener(Cr,"cursor_changed",fr)))},[fr]),reactExports.useEffect(()=>{Cr&&gr&&(jn!==null&&google.maps.event.removeListener(jn),ni(google.maps.event.addListener(Cr,"animation_changed",gr)))},[gr]),reactExports.useEffect(()=>{Cr&&Rr&&(ii!==null&&google.maps.event.removeListener(ii),Fi(google.maps.event.addListener(Cr,"draggable_changed",Rr)))},[Rr]),reactExports.useEffect(()=>{Cr&&Ir&&(bi!==null&&google.maps.event.removeListener(bi),Wi(google.maps.event.addListener(Cr,"flat_changed",Ir)))},[Ir]),reactExports.useEffect(()=>{Cr&&mr&&(ws!==null&&google.maps.event.removeListener(ws),Zi(google.maps.event.addListener(Cr,"icon_changed",mr)))},[mr]),reactExports.useEffect(()=>{Cr&&Er&&(fa!==null&&google.maps.event.removeListener(fa),vs(google.maps.event.addListener(Cr,"position_changed",Er)))},[Er]),reactExports.useEffect(()=>{Cr&&Ar&&(Zs!==null&&google.maps.event.removeListener(Zs),Ji(google.maps.event.addListener(Cr,"shape_changed",Ar)))},[Ar]),reactExports.useEffect(()=>{Cr&&br&&(Ti!==null&&google.maps.event.removeListener(Ti),xi(google.maps.event.addListener(Cr,"title_changed",br)))},[br]),reactExports.useEffect(()=>{Cr&&wr&&(Ui!==null&&google.maps.event.removeListener(Ui),ss(google.maps.event.addListener(Cr,"visible_changed",wr)))},[wr]),reactExports.useEffect(()=>{Cr&&jr&&(us!==null&&google.maps.event.removeListener(us),Js(google.maps.event.addListener(Cr,"zindex_changed",jr)))},[jr]),reactExports.useEffect(()=>{var Ri=_objectSpread$d(_objectSpread$d(_objectSpread$d({},Ce||defaultOptions$5),Pe?defaultOptions$5:{map:Pr}),{},{position:_e}),Qi=new google.maps.Marker(Ri);return Pe?Pe.addMarker(Qi,!!Re):Qi.setMap(Pr),_e&&Qi.setPosition(_e),typeof je<"u"&&Qi.setVisible(je),typeof Be<"u"&&Qi.setDraggable(Be),typeof Fe<"u"&&Qi.setClickable(Fe),typeof Oe=="string"&&Qi.setCursor(Oe),ke&&Qi.setIcon(ke),typeof Me<"u"&&Qi.setLabel(Me),typeof $e<"u"&&Qi.setOpacity($e),He&&Qi.setShape(He),typeof Qe=="string"&&Qi.setTitle(Qe),typeof Ke=="number"&&Qi.setZIndex(Ke),We&&qr(google.maps.event.addListener(Qi,"dblclick",We)),Ye&&Zr(google.maps.event.addListener(Qi,"dragend",Ye)),Xe&&mn(google.maps.event.addListener(Qi,"dragstart",Xe)),or&&bn(google.maps.event.addListener(Qi,"mousedown",or)),rr&&Jr(google.maps.event.addListener(Qi,"mouseout",rr)),Je&&ci(google.maps.event.addListener(Qi,"mouseover",Je)),er&&ui(google.maps.event.addListener(Qi,"mouseup",er)),pr&&mi(google.maps.event.addListener(Qi,"rightclick",pr)),ze&&Di(google.maps.event.addListener(Qi,"click",ze)),qe&&Si(google.maps.event.addListener(Qi,"drag",qe)),ar&&Vi(google.maps.event.addListener(Qi,"clickable_changed",ar)),fr&&En(google.maps.event.addListener(Qi,"cursor_changed",fr)),gr&&ni(google.maps.event.addListener(Qi,"animation_changed",gr)),Rr&&Fi(google.maps.event.addListener(Qi,"draggable_changed",Rr)),Ir&&Wi(google.maps.event.addListener(Qi,"flat_changed",Ir)),mr&&Zi(google.maps.event.addListener(Qi,"icon_changed",mr)),Er&&vs(google.maps.event.addListener(Qi,"position_changed",Er)),Ar&&Ji(google.maps.event.addListener(Qi,"shape_changed",Ar)),br&&xi(google.maps.event.addListener(Qi,"title_changed",br)),wr&&ss(google.maps.event.addListener(Qi,"visible_changed",wr)),jr&&Js(google.maps.event.addListener(Qi,"zindex_changed",jr)),Or(Qi),hr&&hr(Qi),()=>{Yr!==null&&google.maps.event.removeListener(Yr),Kr!==null&&google.maps.event.removeListener(Kr),yn!==null&&google.maps.event.removeListener(yn),Cn!==null&&google.maps.event.removeListener(Cn),wn!==null&&google.maps.event.removeListener(wn),qn!==null&&google.maps.event.removeListener(qn),Jn!==null&&google.maps.event.removeListener(Jn),li!==null&&google.maps.event.removeListener(li),wi!==null&&google.maps.event.removeListener(wi),Bi!==null&&google.maps.event.removeListener(Bi),Pn!==null&&google.maps.event.removeListener(Pn),jn!==null&&google.maps.event.removeListener(jn),ii!==null&&google.maps.event.removeListener(ii),bi!==null&&google.maps.event.removeListener(bi),ws!==null&&google.maps.event.removeListener(ws),fa!==null&&google.maps.event.removeListener(fa),Ti!==null&&google.maps.event.removeListener(Ti),Ui!==null&&google.maps.event.removeListener(Ui),us!==null&&google.maps.event.removeListener(us),_r&&_r(Qi),Pe?Pe.removeMarker(Qi,!!Re):Qi&&Qi.setMap(null)}},[]);var Na=reactExports.useMemo(()=>Ie?reactExports.Children.map(Ie,Ri=>{if(!reactExports.isValidElement(Ri))return Ri;var Qi=Ri;return reactExports.cloneElement(Qi,{anchor:Cr})}):null,[Ie,Cr]);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Na})||null}reactExports.memo(MarkerFunctional);class Marker extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[])}componentDidMount(){var _e=this;return _asyncToGenerator(function*(){var Ce=_objectSpread$d(_objectSpread$d(_objectSpread$d({},_e.props.options||defaultOptions$5),_e.props.clusterer?defaultOptions$5:{map:_e.context}),{},{position:_e.props.position});_e.marker=new google.maps.Marker(Ce),_e.props.clusterer?_e.props.clusterer.addMarker(_e.marker,!!_e.props.noClustererRedraw):_e.marker.setMap(_e.context),_e.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$f,eventMap:eventMap$f,prevProps:{},nextProps:_e.props,instance:_e.marker}),_e.props.onLoad&&_e.props.onLoad(_e.marker)})()}componentDidUpdate(_e){this.marker&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$f,eventMap:eventMap$f,prevProps:_e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),unregisterEvents(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var _e=this.props.children?reactExports.Children.map(this.props.children,Ce=>{if(!reactExports.isValidElement(Ce))return Ce;var Pe=Ce;return reactExports.cloneElement(Pe,{anchor:this.marker})}):null;return _e||null}}_defineProperty(Marker,"contextType",MapContext);var ClusterIcon=function(){function Ee(_e,Ce){_e.getClusterer().extend(Ee,google.maps.OverlayView),this.cluster=_e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=Ce,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(_e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return Ee.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},Ee.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},Ee.prototype.onClick=function(_e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var Ce=this.cluster.getClusterer();if(google.maps.event.trigger(Ce,"click",this.cluster),google.maps.event.trigger(Ce,"clusterclick",this.cluster),Ce.getZoomOnClick()){var Pe=Ce.getMaxZoom(),Re=this.cluster.getBounds(),Ie=Ce.getMap();Ie!==null&&"fitBounds"in Ie&&Ie.fitBounds(Re),this.timeOut=window.setTimeout(function(){var Be=Ce.getMap();if(Be!==null){"fitBounds"in Be&&Be.fitBounds(Re);var je=Be.getZoom()||0;Pe!==null&&je>Pe&&Be.setZoom(Pe+1)}},100)}_e.cancelBubble=!0,_e.stopPropagation&&_e.stopPropagation()}},Ee.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},Ee.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},Ee.prototype.onAdd=function(){var _e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(_e=this.getPanes())===null||_e===void 0||_e.overlayMouseTarget.appendChild(this.div);var Ce=this.getMap();Ce!==null&&(this.boundsChangedListener=google.maps.event.addListener(Ce,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},Ee.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},Ee.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var _e=this.getPosFromLatLng(this.center);this.div.style.top=_e!==null?"".concat(_e.y,"px"):"0",this.div.style.left=_e!==null?"".concat(_e.x,"px"):"0"}},Ee.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},Ee.prototype.show=function(){var _e,Ce,Pe,Re,Ie,Be;if(this.div&&this.center){var je=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,De=this.backgroundPosition.split(" "),Fe=parseInt(((_e=De[0])===null||_e===void 0?void 0:_e.replace(/^\s+|\s+$/g,""))||"0",10),Oe=parseInt(((Ce=De[1])===null||Ce===void 0?void 0:Ce.replace(/^\s+|\s+$/g,""))||"0",10),ke=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(ke!==null?"".concat(ke.y,"px"):"0","; left: ").concat(ke!==null?"".concat(ke.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var Me=document.createElement("img");Me.alt=je,Me.src=this.url,Me.width=this.width,Me.height=this.height,Me.setAttribute("style","position: absolute; top: ".concat(Oe,"px; left: ").concat(Fe,"px")),this.cluster.getClusterer().enableRetinaIcons||(Me.style.clip="rect(-".concat(Oe,"px, -").concat(Fe+this.width,"px, -").concat(Oe+this.height,", -").concat(Fe,")"));var $e=document.createElement("div");$e.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((Pe=this.sums)===null||Pe===void 0)&&Pe.text&&($e.innerText="".concat((Re=this.sums)===null||Re===void 0?void 0:Re.text)),!((Ie=this.sums)===null||Ie===void 0)&&Ie.html&&($e.innerHTML="".concat((Be=this.sums)===null||Be===void 0?void 0:Be.html)),this.div.innerHTML="",this.div.appendChild(Me),this.div.appendChild($e),this.div.title=je,this.div.style.display=""}this.visible=!0},Ee.prototype.useStyle=function(_e){this.sums=_e;var Ce=this.cluster.getClusterer().getStyles(),Pe=Ce[Math.min(Ce.length-1,Math.max(0,_e.index-1))];Pe&&(this.url=Pe.url,this.height=Pe.height,this.width=Pe.width,Pe.className&&(this.className="".concat(this.clusterClassName," ").concat(Pe.className)),this.anchorText=Pe.anchorText||[0,0],this.anchorIcon=Pe.anchorIcon||[this.height/2,this.width/2],this.textColor=Pe.textColor||"black",this.textSize=Pe.textSize||11,this.textDecoration=Pe.textDecoration||"none",this.fontWeight=Pe.fontWeight||"bold",this.fontStyle=Pe.fontStyle||"normal",this.fontFamily=Pe.fontFamily||"Arial,sans-serif",this.backgroundPosition=Pe.backgroundPosition||"0 0")},Ee.prototype.setCenter=function(_e){this.center=_e},Ee.prototype.getPosFromLatLng=function(_e){var Ce=this.getProjection().fromLatLngToDivPixel(_e);return Ce!==null&&(Ce.x-=this.anchorIcon[1],Ce.y-=this.anchorIcon[0]),Ce},Ee}(),Cluster$1=function(){function Ee(_e){this.markerClusterer=_e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new ClusterIcon(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return Ee.prototype.getSize=function(){return this.markers.length},Ee.prototype.getMarkers=function(){return this.markers},Ee.prototype.getCenter=function(){return this.center},Ee.prototype.getMap=function(){return this.map},Ee.prototype.getClusterer=function(){return this.markerClusterer},Ee.prototype.getBounds=function(){for(var _e=new google.maps.LatLngBounds(this.center,this.center),Ce=this.getMarkers(),Pe=0,Re=Ce;Pe<Re.length;Pe++){var Ie=Re[Pe],Be=Ie.getPosition();Be&&_e.extend(Be)}return _e},Ee.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},Ee.prototype.addMarker=function(_e){var Ce;if(this.isMarkerAlreadyAdded(_e))return!1;if(this.center){if(this.averageCenter){var Pe=_e.getPosition();if(Pe){var Re=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(Re-1)+Pe.lat())/Re,(this.center.lng()*(Re-1)+Pe.lng())/Re),this.calculateBounds()}}}else{var Pe=_e.getPosition();Pe&&(this.center=Pe,this.calculateBounds())}_e.isAdded=!0,this.markers.push(_e);var Ie=this.markers.length,Be=this.markerClusterer.getMaxZoom(),je=(Ce=this.map)===null||Ce===void 0?void 0:Ce.getZoom();if(Be!==null&&typeof je<"u"&&je>Be)_e.getMap()!==this.map&&_e.setMap(this.map);else if(Ie<this.minClusterSize)_e.getMap()!==this.map&&_e.setMap(this.map);else if(Ie===this.minClusterSize)for(var De=0,Fe=this.markers;De<Fe.length;De++){var Oe=Fe[De];Oe.setMap(null)}else _e.setMap(null);return!0},Ee.prototype.isMarkerInClusterBounds=function(_e){if(this.bounds!==null){var Ce=_e.getPosition();if(Ce)return this.bounds.contains(Ce)}return!1},Ee.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},Ee.prototype.updateIcon=function(){var _e,Ce=this.markers.length,Pe=this.markerClusterer.getMaxZoom(),Re=(_e=this.map)===null||_e===void 0?void 0:_e.getZoom();if(Pe!==null&&typeof Re<"u"&&Re>Pe){this.clusterIcon.hide();return}if(Ce<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},Ee.prototype.isMarkerAlreadyAdded=function(_e){if(this.markers.includes)return this.markers.includes(_e);for(var Ce=0;Ce<this.markers.length;Ce++)if(_e===this.markers[Ce])return!0;return!1},Ee}();function CALCULATOR(Ee,_e){var Ce=Ee.length,Pe=Ce.toString().length,Re=Math.min(Pe,_e);return{text:Ce.toString(),index:Re,title:""}}var BATCH_SIZE=2e3,BATCH_SIZE_IE=500,IMAGE_PATH="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",IMAGE_EXTENSION="png",IMAGE_SIZES=[53,56,66,78,90],CLUSTERER_CLASS="cluster",Clusterer=function(){function Ee(_e,Ce,Pe){Ce===void 0&&(Ce=[]),Pe===void 0&&(Pe={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(Ee,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=Pe.gridSize||60,this.minClusterSize=Pe.minimumClusterSize||2,this.maxZoom=Pe.maxZoom||null,this.styles=Pe.styles||[],this.title=Pe.title||"",this.zoomOnClick=!0,Pe.zoomOnClick!==void 0&&(this.zoomOnClick=Pe.zoomOnClick),this.averageCenter=!1,Pe.averageCenter!==void 0&&(this.averageCenter=Pe.averageCenter),this.ignoreHidden=!1,Pe.ignoreHidden!==void 0&&(this.ignoreHidden=Pe.ignoreHidden),this.enableRetinaIcons=!1,Pe.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=Pe.enableRetinaIcons),this.imagePath=Pe.imagePath||IMAGE_PATH,this.imageExtension=Pe.imageExtension||IMAGE_EXTENSION,this.imageSizes=Pe.imageSizes||IMAGE_SIZES,this.calculator=Pe.calculator||CALCULATOR,this.batchSize=Pe.batchSize||BATCH_SIZE,this.batchSizeIE=Pe.batchSizeIE||BATCH_SIZE_IE,this.clusterClass=Pe.clusterClass||CLUSTERER_CLASS,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(Ce,!0),this.setMap(_e)}return Ee.prototype.onZoomChanged=function(){var _e,Ce;this.resetViewport(!1),(((_e=this.getMap())===null||_e===void 0?void 0:_e.getZoom())===(this.get("minZoom")||0)||((Ce=this.getMap())===null||Ce===void 0?void 0:Ce.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},Ee.prototype.onIdle=function(){this.redraw()},Ee.prototype.onAdd=function(){var _e=this.getMap();this.activeMap=_e,this.ready=!0,this.repaint(),_e!==null&&(this.listeners=[google.maps.event.addListener(_e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(_e,"idle",this.onIdle)])},Ee.prototype.onRemove=function(){for(var _e=0,Ce=this.markers;_e<Ce.length;_e++){var Pe=Ce[_e];Pe.getMap()!==this.activeMap&&Pe.setMap(this.activeMap)}for(var Re=0,Ie=this.clusters;Re<Ie.length;Re++){var Be=Ie[Re];Be.remove()}this.clusters=[];for(var je=0,De=this.listeners;je<De.length;je++){var Fe=De[je];google.maps.event.removeListener(Fe)}this.listeners=[],this.activeMap=null,this.ready=!1},Ee.prototype.draw=function(){},Ee.prototype.getMap=function(){return null},Ee.prototype.getPanes=function(){return null},Ee.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},Ee.prototype.setMap=function(){},Ee.prototype.addListener=function(){return{remove:function(){}}},Ee.prototype.bindTo=function(){},Ee.prototype.get=function(){},Ee.prototype.notify=function(){},Ee.prototype.set=function(){},Ee.prototype.setValues=function(){},Ee.prototype.unbind=function(){},Ee.prototype.unbindAll=function(){},Ee.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var _e=0;_e<this.imageSizes.length;_e++)this.styles.push({url:"".concat(this.imagePath+(_e+1),".").concat(this.imageExtension),height:this.imageSizes[_e]||0,width:this.imageSizes[_e]||0})},Ee.prototype.fitMapToMarkers=function(){for(var _e=this.getMarkers(),Ce=new google.maps.LatLngBounds,Pe=0,Re=_e;Pe<Re.length;Pe++){var Ie=Re[Pe],Be=Ie.getPosition();Be&&Ce.extend(Be)}var je=this.getMap();je!==null&&"fitBounds"in je&&je.fitBounds(Ce)},Ee.prototype.getGridSize=function(){return this.gridSize},Ee.prototype.setGridSize=function(_e){this.gridSize=_e},Ee.prototype.getMinimumClusterSize=function(){return this.minClusterSize},Ee.prototype.setMinimumClusterSize=function(_e){this.minClusterSize=_e},Ee.prototype.getMaxZoom=function(){return this.maxZoom},Ee.prototype.setMaxZoom=function(_e){this.maxZoom=_e},Ee.prototype.getStyles=function(){return this.styles},Ee.prototype.setStyles=function(_e){this.styles=_e},Ee.prototype.getTitle=function(){return this.title},Ee.prototype.setTitle=function(_e){this.title=_e},Ee.prototype.getZoomOnClick=function(){return this.zoomOnClick},Ee.prototype.setZoomOnClick=function(_e){this.zoomOnClick=_e},Ee.prototype.getAverageCenter=function(){return this.averageCenter},Ee.prototype.setAverageCenter=function(_e){this.averageCenter=_e},Ee.prototype.getIgnoreHidden=function(){return this.ignoreHidden},Ee.prototype.setIgnoreHidden=function(_e){this.ignoreHidden=_e},Ee.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},Ee.prototype.setEnableRetinaIcons=function(_e){this.enableRetinaIcons=_e},Ee.prototype.getImageExtension=function(){return this.imageExtension},Ee.prototype.setImageExtension=function(_e){this.imageExtension=_e},Ee.prototype.getImagePath=function(){return this.imagePath},Ee.prototype.setImagePath=function(_e){this.imagePath=_e},Ee.prototype.getImageSizes=function(){return this.imageSizes},Ee.prototype.setImageSizes=function(_e){this.imageSizes=_e},Ee.prototype.getCalculator=function(){return this.calculator},Ee.prototype.setCalculator=function(_e){this.calculator=_e},Ee.prototype.getBatchSizeIE=function(){return this.batchSizeIE},Ee.prototype.setBatchSizeIE=function(_e){this.batchSizeIE=_e},Ee.prototype.getClusterClass=function(){return this.clusterClass},Ee.prototype.setClusterClass=function(_e){this.clusterClass=_e},Ee.prototype.getMarkers=function(){return this.markers},Ee.prototype.getTotalMarkers=function(){return this.markers.length},Ee.prototype.getClusters=function(){return this.clusters},Ee.prototype.getTotalClusters=function(){return this.clusters.length},Ee.prototype.addMarker=function(_e,Ce){this.pushMarkerTo(_e),Ce||this.redraw()},Ee.prototype.addMarkers=function(_e,Ce){for(var Pe in _e)if(Object.prototype.hasOwnProperty.call(_e,Pe)){var Re=_e[Pe];Re&&this.pushMarkerTo(Re)}Ce||this.redraw()},Ee.prototype.pushMarkerTo=function(_e){var Ce=this;_e.getDraggable()&&google.maps.event.addListener(_e,"dragend",function(){Ce.ready&&(_e.isAdded=!1,Ce.repaint())}),_e.isAdded=!1,this.markers.push(_e)},Ee.prototype.removeMarker_=function(_e){var Ce=-1;if(this.markers.indexOf)Ce=this.markers.indexOf(_e);else for(var Pe=0;Pe<this.markers.length;Pe++)if(_e===this.markers[Pe]){Ce=Pe;break}return Ce===-1?!1:(_e.setMap(null),this.markers.splice(Ce,1),!0)},Ee.prototype.removeMarker=function(_e,Ce){var Pe=this.removeMarker_(_e);return!Ce&&Pe&&this.repaint(),Pe},Ee.prototype.removeMarkers=function(_e,Ce){for(var Pe=!1,Re=0,Ie=_e;Re<Ie.length;Re++){var Be=Ie[Re];Pe=Pe||this.removeMarker_(Be)}return!Ce&&Pe&&this.repaint(),Pe},Ee.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},Ee.prototype.repaint=function(){var _e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var Pe=0,Re=_e;Pe<Re.length;Pe++){var Ie=Re[Pe];Ie.remove()}},0)},Ee.prototype.getExtendedBounds=function(_e){var Ce=this.getProjection(),Pe=Ce.fromLatLngToDivPixel(new google.maps.LatLng(_e.getNorthEast().lat(),_e.getNorthEast().lng()));Pe!==null&&(Pe.x+=this.gridSize,Pe.y-=this.gridSize);var Re=Ce.fromLatLngToDivPixel(new google.maps.LatLng(_e.getSouthWest().lat(),_e.getSouthWest().lng()));if(Re!==null&&(Re.x-=this.gridSize,Re.y+=this.gridSize),Pe!==null){var Ie=Ce.fromDivPixelToLatLng(Pe);Ie!==null&&_e.extend(Ie)}if(Re!==null){var Be=Ce.fromDivPixelToLatLng(Re);Be!==null&&_e.extend(Be)}return _e},Ee.prototype.redraw=function(){this.createClusters(0)},Ee.prototype.resetViewport=function(_e){for(var Ce=0,Pe=this.clusters;Ce<Pe.length;Ce++){var Re=Pe[Ce];Re.remove()}this.clusters=[];for(var Ie=0,Be=this.markers;Ie<Be.length;Ie++){var je=Be[Ie];je.isAdded=!1,_e&&je.setMap(null)}},Ee.prototype.distanceBetweenPoints=function(_e,Ce){var Pe=6371,Re=(Ce.lat()-_e.lat())*Math.PI/180,Ie=(Ce.lng()-_e.lng())*Math.PI/180,Be=Math.sin(Re/2)*Math.sin(Re/2)+Math.cos(_e.lat()*Math.PI/180)*Math.cos(Ce.lat()*Math.PI/180)*Math.sin(Ie/2)*Math.sin(Ie/2);return Pe*(2*Math.atan2(Math.sqrt(Be),Math.sqrt(1-Be)))},Ee.prototype.isMarkerInBounds=function(_e,Ce){var Pe=_e.getPosition();return Pe?Ce.contains(Pe):!1},Ee.prototype.addToClosestCluster=function(_e){for(var Ce,Pe=4e4,Re=null,Ie=0,Be=this.clusters;Ie<Be.length;Ie++){var je=Be[Ie];Ce=je;var De=Ce.getCenter(),Fe=_e.getPosition();if(De&&Fe){var Oe=this.distanceBetweenPoints(De,Fe);Oe<Pe&&(Pe=Oe,Re=Ce)}}Re&&Re.isMarkerInClusterBounds(_e)?Re.addMarker(_e):(Ce=new Cluster$1(this),Ce.addMarker(_e),this.clusters.push(Ce))},Ee.prototype.createClusters=function(_e){var Ce=this;if(this.ready){_e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var Pe=this.getMap(),Re=Pe!==null&&("getBounds"in Pe)?Pe.getBounds():null,Ie=Pe?.getZoom()||0,Be=Ie>3?new google.maps.LatLngBounds(Re?.getSouthWest(),Re?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),je=this.getExtendedBounds(Be),De=Math.min(_e+this.batchSize,this.markers.length),Fe=_e;Fe<De;Fe++){var Oe=this.markers[Fe];Oe&&!Oe.isAdded&&this.isMarkerInBounds(Oe,je)&&(!this.ignoreHidden||this.ignoreHidden&&Oe.getVisible())&&this.addToClosestCluster(Oe)}if(De<this.markers.length)this.timerRefStatic=window.setTimeout(function(){Ce.createClusters(De)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var ke=0,Me=this.clusters;ke<Me.length;ke++){var $e=Me[ke];$e.updateIcon()}}}},Ee.prototype.extend=function(_e,Ce){return(function(Re){for(var Ie in Re.prototype){var Be=Ie;this.prototype[Be]=Re.prototype[Be]}return this}).apply(_e,[Ce])},Ee}();function ownKeys$c(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$c(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$c(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$c(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}var eventMap$e={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},updaterMap$e={averageCenter(Ee,_e){Ee.setAverageCenter(_e)},batchSizeIE(Ee,_e){Ee.setBatchSizeIE(_e)},calculator(Ee,_e){Ee.setCalculator(_e)},clusterClass(Ee,_e){Ee.setClusterClass(_e)},enableRetinaIcons(Ee,_e){Ee.setEnableRetinaIcons(_e)},gridSize(Ee,_e){Ee.setGridSize(_e)},ignoreHidden(Ee,_e){Ee.setIgnoreHidden(_e)},imageExtension(Ee,_e){Ee.setImageExtension(_e)},imagePath(Ee,_e){Ee.setImagePath(_e)},imageSizes(Ee,_e){Ee.setImageSizes(_e)},maxZoom(Ee,_e){Ee.setMaxZoom(_e)},minimumClusterSize(Ee,_e){Ee.setMinimumClusterSize(_e)},styles(Ee,_e){Ee.setStyles(_e)},title(Ee,_e){Ee.setTitle(_e)},zoomOnClick(Ee,_e){Ee.setZoomOnClick(_e)}},defaultOptions$4={};function MarkerClustererFunctional(Ee){var{children:_e,options:Ce,averageCenter:Pe,batchSizeIE:Re,calculator:Ie,clusterClass:Be,enableRetinaIcons:je,gridSize:De,ignoreHidden:Fe,imageExtension:Oe,imagePath:ke,imageSizes:Me,maxZoom:$e,minimumClusterSize:He,styles:Qe,title:Ke,zoomOnClick:ze,onClick:We,onClusteringBegin:qe,onClusteringEnd:Ye,onMouseOver:Xe,onMouseOut:rr,onLoad:Je,onUnmount:er}=Ee,[or,pr]=reactExports.useState(null),ar=reactExports.useContext(MapContext),[fr,gr]=reactExports.useState(null),[Rr,Ir]=reactExports.useState(null),[mr,Er]=reactExports.useState(null),[Ar,br]=reactExports.useState(null),[wr,jr]=reactExports.useState(null);return reactExports.useEffect(()=>{or&&rr&&(Ar!==null&&google.maps.event.removeListener(Ar),br(google.maps.event.addListener(or,eventMap$e.onMouseOut,rr)))},[rr]),reactExports.useEffect(()=>{or&&Xe&&(wr!==null&&google.maps.event.removeListener(wr),jr(google.maps.event.addListener(or,eventMap$e.onMouseOver,Xe)))},[Xe]),reactExports.useEffect(()=>{or&&We&&(fr!==null&&google.maps.event.removeListener(fr),gr(google.maps.event.addListener(or,eventMap$e.onClick,We)))},[We]),reactExports.useEffect(()=>{or&&qe&&(Rr!==null&&google.maps.event.removeListener(Rr),Ir(google.maps.event.addListener(or,eventMap$e.onClusteringBegin,qe)))},[qe]),reactExports.useEffect(()=>{or&&Ye&&(mr!==null&&google.maps.event.removeListener(mr),Ir(google.maps.event.addListener(or,eventMap$e.onClusteringEnd,Ye)))},[Ye]),reactExports.useEffect(()=>{typeof Pe<"u"&&or!==null&&updaterMap$e.averageCenter(or,Pe)},[or,Pe]),reactExports.useEffect(()=>{typeof Re<"u"&&or!==null&&updaterMap$e.batchSizeIE(or,Re)},[or,Re]),reactExports.useEffect(()=>{typeof Ie<"u"&&or!==null&&updaterMap$e.calculator(or,Ie)},[or,Ie]),reactExports.useEffect(()=>{typeof Be<"u"&&or!==null&&updaterMap$e.clusterClass(or,Be)},[or,Be]),reactExports.useEffect(()=>{typeof je<"u"&&or!==null&&updaterMap$e.enableRetinaIcons(or,je)},[or,je]),reactExports.useEffect(()=>{typeof De<"u"&&or!==null&&updaterMap$e.gridSize(or,De)},[or,De]),reactExports.useEffect(()=>{typeof Fe<"u"&&or!==null&&updaterMap$e.ignoreHidden(or,Fe)},[or,Fe]),reactExports.useEffect(()=>{typeof Oe<"u"&&or!==null&&updaterMap$e.imageExtension(or,Oe)},[or,Oe]),reactExports.useEffect(()=>{typeof ke<"u"&&or!==null&&updaterMap$e.imagePath(or,ke)},[or,ke]),reactExports.useEffect(()=>{typeof Me<"u"&&or!==null&&updaterMap$e.imageSizes(or,Me)},[or,Me]),reactExports.useEffect(()=>{typeof $e<"u"&&or!==null&&updaterMap$e.maxZoom(or,$e)},[or,$e]),reactExports.useEffect(()=>{typeof He<"u"&&or!==null&&updaterMap$e.minimumClusterSize(or,He)},[or,He]),reactExports.useEffect(()=>{typeof Qe<"u"&&or!==null&&updaterMap$e.styles(or,Qe)},[or,Qe]),reactExports.useEffect(()=>{typeof Ke<"u"&&or!==null&&updaterMap$e.title(or,Ke)},[or,Ke]),reactExports.useEffect(()=>{typeof ze<"u"&&or!==null&&updaterMap$e.zoomOnClick(or,ze)},[or,ze]),reactExports.useEffect(()=>{if(ar){var hr=_objectSpread$c({},Ce||defaultOptions$4),_r=new Clusterer(ar,[],hr);return Pe&&updaterMap$e.averageCenter(_r,Pe),Re&&updaterMap$e.batchSizeIE(_r,Re),Ie&&updaterMap$e.calculator(_r,Ie),Be&&updaterMap$e.clusterClass(_r,Be),je&&updaterMap$e.enableRetinaIcons(_r,je),De&&updaterMap$e.gridSize(_r,De),Fe&&updaterMap$e.ignoreHidden(_r,Fe),Oe&&updaterMap$e.imageExtension(_r,Oe),ke&&updaterMap$e.imagePath(_r,ke),Me&&updaterMap$e.imageSizes(_r,Me),$e&&updaterMap$e.maxZoom(_r,$e),He&&updaterMap$e.minimumClusterSize(_r,He),Qe&&updaterMap$e.styles(_r,Qe),Ke&&updaterMap$e.title(_r,Ke),ze&&updaterMap$e.zoomOnClick(_r,ze),rr&&br(google.maps.event.addListener(_r,eventMap$e.onMouseOut,rr)),Xe&&jr(google.maps.event.addListener(_r,eventMap$e.onMouseOver,Xe)),We&&gr(google.maps.event.addListener(_r,eventMap$e.onClick,We)),qe&&Ir(google.maps.event.addListener(_r,eventMap$e.onClusteringBegin,qe)),Ye&&Er(google.maps.event.addListener(_r,eventMap$e.onClusteringEnd,Ye)),pr(_r),Je&&Je(_r),()=>{Ar!==null&&google.maps.event.removeListener(Ar),wr!==null&&google.maps.event.removeListener(wr),fr!==null&&google.maps.event.removeListener(fr),Rr!==null&&google.maps.event.removeListener(Rr),mr!==null&&google.maps.event.removeListener(mr),er&&er(_r)}}},[]),or!==null&&_e(or)||null}reactExports.memo(MarkerClustererFunctional);class ClustererComponent extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{markerClusterer:null}),_defineProperty(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var _e=new Clusterer(this.context,[],this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$e,eventMap:eventMap$e,prevProps:{},nextProps:this.props,instance:_e}),this.setState(()=>({markerClusterer:_e}),this.setClustererCallback)}}componentDidUpdate(_e){this.state.markerClusterer&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$e,eventMap:eventMap$e,prevProps:_e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),unregisterEvents(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}_defineProperty(ClustererComponent,"contextType",MapContext);function cancelHandler(Ee){Ee.cancelBubble=!0,Ee.stopPropagation&&Ee.stopPropagation()}var InfoBox=function(){function Ee(_e){_e===void 0&&(_e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(Ee,google.maps.OverlayView),this.content=_e.content||"",this.disableAutoPan=_e.disableAutoPan||!1,this.maxWidth=_e.maxWidth||0,this.pixelOffset=_e.pixelOffset||new google.maps.Size(0,0),this.position=_e.position||new google.maps.LatLng(0,0),this.zIndex=_e.zIndex||null,this.boxClass=_e.boxClass||"infoBox",this.boxStyle=_e.boxStyle||{},this.closeBoxMargin=_e.closeBoxMargin||"2px",this.closeBoxURL=_e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",_e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=_e.infoBoxClearance||new google.maps.Size(1,1),typeof _e.visible>"u"&&(typeof _e.isHidden>"u"?_e.visible=!0:_e.visible=!_e.isHidden),this.isHidden=!_e.visible,this.alignBottom=_e.alignBottom||!1,this.pane=_e.pane||"floatPane",this.enableEventPropagation=_e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return Ee.prototype.createInfoBoxDiv=function(){var _e=this,Ce=function(Oe){Oe.returnValue=!1,Oe.preventDefault&&Oe.preventDefault(),_e.enableEventPropagation||cancelHandler(Oe)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var Pe=this.getPanes();if(Pe!==null&&Pe[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var Re=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-Re.left-Re.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var Ie=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],Be=0,je=Ie;Be<je.length;Be++){var De=je[Be];this.eventListeners.push(google.maps.event.addListener(this.div,De,cancelHandler))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){_e.div&&(_e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",Ce),google.maps.event.trigger(this,"domready")}},Ee.prototype.getCloseBoxImg=function(){var _e="";return this.closeBoxURL!==""&&(_e='<img alt=""',_e+=' aria-hidden="true"',_e+=" src='"+this.closeBoxURL+"'",_e+=" align=right",_e+=" style='",_e+=" position: relative;",_e+=" cursor: pointer;",_e+=" margin: "+this.closeBoxMargin+";",_e+="'>"),_e},Ee.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},Ee.prototype.closeClickHandler=function(_e){_e.cancelBubble=!0,_e.stopPropagation&&_e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},Ee.prototype.getCloseClickHandler=function(){return this.closeClickHandler},Ee.prototype.panBox=function(_e){if(this.div&&!_e){var Ce=this.getMap();if(Ce instanceof google.maps.Map){var Pe=0,Re=0,Ie=Ce.getBounds();Ie&&!Ie.contains(this.position)&&Ce.setCenter(this.position);var Be=Ce.getDiv(),je=Be.offsetWidth,De=Be.offsetHeight,Fe=this.pixelOffset.width,Oe=this.pixelOffset.height,ke=this.div.offsetWidth,Me=this.div.offsetHeight,$e=this.infoBoxClearance.width,He=this.infoBoxClearance.height,Qe=this.getProjection(),Ke=Qe.fromLatLngToContainerPixel(this.position);Ke!==null&&(Ke.x<-Fe+$e?Pe=Ke.x+Fe-$e:Ke.x+ke+Fe+$e>je&&(Pe=Ke.x+ke+Fe+$e-je),this.alignBottom?Ke.y<-Oe+He+Me?Re=Ke.y+Oe-He-Me:Ke.y+Oe+He>De&&(Re=Ke.y+Oe+He-De):Ke.y<-Oe+He?Re=Ke.y+Oe-He:Ke.y+Me+Oe+He>De&&(Re=Ke.y+Me+Oe+He-De)),Pe===0&&Re===0||Ce.panBy(Pe,Re)}}},Ee.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var _e=this.boxStyle;for(var Ce in _e)Object.prototype.hasOwnProperty.call(_e,Ce)&&(this.div.style[Ce]=_e[Ce]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var Pe=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+Pe*100+')"',this.div.style.filter="alpha(opacity="+Pe*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},Ee.prototype.getBoxWidths=function(){var _e={top:0,bottom:0,left:0,right:0};if(!this.div)return _e;if(document.defaultView){var Ce=this.div.ownerDocument,Pe=Ce&&Ce.defaultView?Ce.defaultView.getComputedStyle(this.div,""):null;Pe&&(_e.top=parseInt(Pe.borderTopWidth||"",10)||0,_e.bottom=parseInt(Pe.borderBottomWidth||"",10)||0,_e.left=parseInt(Pe.borderLeftWidth||"",10)||0,_e.right=parseInt(Pe.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var Re=this.div.currentStyle;Re&&(_e.top=parseInt(Re.borderTopWidth||"",10)||0,_e.bottom=parseInt(Re.borderBottomWidth||"",10)||0,_e.left=parseInt(Re.borderLeftWidth||"",10)||0,_e.right=parseInt(Re.borderRightWidth||"",10)||0)}return _e},Ee.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},Ee.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var _e=this.getProjection(),Ce=_e.fromLatLngToDivPixel(this.position);Ce!==null&&(this.div.style.left=Ce.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(Ce.y+this.pixelOffset.height)+"px":this.div.style.top=Ce.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},Ee.prototype.setOptions=function(_e){_e===void 0&&(_e={}),typeof _e.boxClass<"u"&&(this.boxClass=_e.boxClass,this.setBoxStyle()),typeof _e.boxStyle<"u"&&(this.boxStyle=_e.boxStyle,this.setBoxStyle()),typeof _e.content<"u"&&this.setContent(_e.content),typeof _e.disableAutoPan<"u"&&(this.disableAutoPan=_e.disableAutoPan),typeof _e.maxWidth<"u"&&(this.maxWidth=_e.maxWidth),typeof _e.pixelOffset<"u"&&(this.pixelOffset=_e.pixelOffset),typeof _e.alignBottom<"u"&&(this.alignBottom=_e.alignBottom),typeof _e.position<"u"&&this.setPosition(_e.position),typeof _e.zIndex<"u"&&this.setZIndex(_e.zIndex),typeof _e.closeBoxMargin<"u"&&(this.closeBoxMargin=_e.closeBoxMargin),typeof _e.closeBoxURL<"u"&&(this.closeBoxURL=_e.closeBoxURL),typeof _e.infoBoxClearance<"u"&&(this.infoBoxClearance=_e.infoBoxClearance),typeof _e.isHidden<"u"&&(this.isHidden=_e.isHidden),typeof _e.visible<"u"&&(this.isHidden=!_e.visible),typeof _e.enableEventPropagation<"u"&&(this.enableEventPropagation=_e.enableEventPropagation),this.div&&this.draw()},Ee.prototype.setContent=function(_e){this.content=_e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof _e=="string"?this.div.innerHTML=this.getCloseBoxImg()+_e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(_e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof _e=="string"?this.div.innerHTML=this.getCloseBoxImg()+_e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(_e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},Ee.prototype.setPosition=function(_e){this.position=_e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},Ee.prototype.setVisible=function(_e){this.isHidden=!_e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},Ee.prototype.setZIndex=function(_e){this.zIndex=_e,this.div&&(this.div.style.zIndex=_e+""),google.maps.event.trigger(this,"zindex_changed")},Ee.prototype.getContent=function(){return this.content},Ee.prototype.getPosition=function(){return this.position},Ee.prototype.getZIndex=function(){return this.zIndex},Ee.prototype.getVisible=function(){var _e=this.getMap();return typeof _e>"u"||_e===null?!1:!this.isHidden},Ee.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},Ee.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},Ee.prototype.open=function(_e,Ce){var Pe=this;Ce&&(this.position=Ce.getPosition(),this.moveListener=google.maps.event.addListener(Ce,"position_changed",function(){var Re=Ce.getPosition();Pe.setPosition(Re)}),this.mapListener=google.maps.event.addListener(Ce,"map_changed",function(){Pe.setMap(Ce.map)})),this.setMap(_e),this.div&&this.panBox()},Ee.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var _e=0,Ce=this.eventListeners;_e<Ce.length;_e++){var Pe=Ce[_e];google.maps.event.removeListener(Pe)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},Ee.prototype.extend=function(_e,Ce){return(function(Re){for(var Ie in Re.prototype)Object.prototype.hasOwnProperty.call(this,Ie)||(this.prototype[Ie]=Re.prototype[Ie]);return this}).apply(_e,[Ce])},Ee}(),_excluded=["position"],_excluded2=["position"];function ownKeys$b(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$b(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$b(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$b(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}var eventMap$d={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},updaterMap$d={options(Ee,_e){Ee.setOptions(_e)},position(Ee,_e){_e instanceof google.maps.LatLng?Ee.setPosition(_e):Ee.setPosition(new google.maps.LatLng(_e.lat,_e.lng))},visible(Ee,_e){Ee.setVisible(_e)},zIndex(Ee,_e){Ee.setZIndex(_e)}},defaultOptions$3={};function InfoBoxFunctional(Ee){var{children:_e,anchor:Ce,options:Pe,position:Re,zIndex:Ie,onCloseClick:Be,onDomReady:je,onContentChanged:De,onPositionChanged:Fe,onZindexChanged:Oe,onLoad:ke,onUnmount:Me}=Ee,$e=reactExports.useContext(MapContext),[He,Qe]=reactExports.useState(null),[Ke,ze]=reactExports.useState(null),[We,qe]=reactExports.useState(null),[Ye,Xe]=reactExports.useState(null),[rr,Je]=reactExports.useState(null),[er,or]=reactExports.useState(null),pr=reactExports.useRef(null);return reactExports.useEffect(()=>{$e&&He!==null&&(He.close(),Ce?He.open($e,Ce):He.getPosition()&&He.open($e))},[$e,He,Ce]),reactExports.useEffect(()=>{Pe&&He!==null&&He.setOptions(Pe)},[He,Pe]),reactExports.useEffect(()=>{if(Re&&He!==null){var ar=Re instanceof google.maps.LatLng?Re:new google.maps.LatLng(Re.lat,Re.lng);He.setPosition(ar)}},[Re]),reactExports.useEffect(()=>{typeof Ie=="number"&&He!==null&&He.setZIndex(Ie)},[Ie]),reactExports.useEffect(()=>{He&&Be&&(Ke!==null&&google.maps.event.removeListener(Ke),ze(google.maps.event.addListener(He,"closeclick",Be)))},[Be]),reactExports.useEffect(()=>{He&&je&&(We!==null&&google.maps.event.removeListener(We),qe(google.maps.event.addListener(He,"domready",je)))},[je]),reactExports.useEffect(()=>{He&&De&&(Ye!==null&&google.maps.event.removeListener(Ye),Xe(google.maps.event.addListener(He,"content_changed",De)))},[De]),reactExports.useEffect(()=>{He&&Fe&&(rr!==null&&google.maps.event.removeListener(rr),Je(google.maps.event.addListener(He,"position_changed",Fe)))},[Fe]),reactExports.useEffect(()=>{He&&Oe&&(er!==null&&google.maps.event.removeListener(er),or(google.maps.event.addListener(He,"zindex_changed",Oe)))},[Oe]),reactExports.useEffect(()=>{if($e){var ar=Pe||defaultOptions$3,{position:fr}=ar,gr=_objectWithoutProperties(ar,_excluded),Rr;fr&&!(fr instanceof google.maps.LatLng)&&(Rr=new google.maps.LatLng(fr.lat,fr.lng));var Ir=new InfoBox(_objectSpread$b(_objectSpread$b({},gr),Rr?{position:Rr}:{}));pr.current=document.createElement("div"),Qe(Ir),Be&&ze(google.maps.event.addListener(Ir,"closeclick",Be)),je&&qe(google.maps.event.addListener(Ir,"domready",je)),De&&Xe(google.maps.event.addListener(Ir,"content_changed",De)),Fe&&Je(google.maps.event.addListener(Ir,"position_changed",Fe)),Oe&&or(google.maps.event.addListener(Ir,"zindex_changed",Oe)),Ir.setContent(pr.current),Ce?Ir.open($e,Ce):Ir.getPosition()?Ir.open($e):invariant(!1,"You must provide either an anchor or a position prop for <InfoBox>."),ke&&ke(Ir)}return()=>{He!==null&&(Ke&&google.maps.event.removeListener(Ke),Ye&&google.maps.event.removeListener(Ye),We&&google.maps.event.removeListener(We),rr&&google.maps.event.removeListener(rr),er&&google.maps.event.removeListener(er),Me&&Me(He),He.close())}},[]),pr.current?reactDomExports.createPortal(reactExports.Children.only(_e),pr.current):null}reactExports.memo(InfoBoxFunctional);class InfoBoxComponent extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"containerElement",null),_defineProperty(this,"state",{infoBox:null}),_defineProperty(this,"open",(_e,Ce)=>{Ce?this.context!==null&&_e.open(this.context,Ce):_e.getPosition()?this.context!==null&&_e.open(this.context):invariant(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),_defineProperty(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var _e=this.props.options||{},{position:Ce}=_e,Pe=_objectWithoutProperties(_e,_excluded2),Re;Ce&&!(Ce instanceof google.maps.LatLng)&&(Re=new google.maps.LatLng(Ce.lat,Ce.lng));var Ie=new InfoBox(_objectSpread$b(_objectSpread$b({},Pe),Re?{position:Re}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$d,eventMap:eventMap$d,prevProps:{},nextProps:this.props,instance:Ie}),this.setState({infoBox:Ie},this.setInfoBoxCallback)}componentDidUpdate(_e){var{infoBox:Ce}=this.state;Ce!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$d,eventMap:eventMap$d,prevProps:_e,nextProps:this.props,instance:Ce}))}componentWillUnmount(){var{onUnmount:_e}=this.props,{infoBox:Ce}=this.state;Ce!==null&&(_e&&_e(Ce),unregisterEvents(this.registeredEvents),Ce.close())}render(){return this.containerElement?reactDomExports.createPortal(reactExports.Children.only(this.props.children),this.containerElement):null}}_defineProperty(InfoBoxComponent,"contextType",MapContext);var fastDeepEqual,hasRequiredFastDeepEqual;function requireFastDeepEqual(){return hasRequiredFastDeepEqual||(hasRequiredFastDeepEqual=1,fastDeepEqual=function Ee(_e,Ce){if(_e===Ce)return!0;if(_e&&Ce&&typeof _e=="object"&&typeof Ce=="object"){if(_e.constructor!==Ce.constructor)return!1;var Pe,Re,Ie;if(Array.isArray(_e)){if(Pe=_e.length,Pe!=Ce.length)return!1;for(Re=Pe;Re--!==0;)if(!Ee(_e[Re],Ce[Re]))return!1;return!0}if(_e.constructor===RegExp)return _e.source===Ce.source&&_e.flags===Ce.flags;if(_e.valueOf!==Object.prototype.valueOf)return _e.valueOf()===Ce.valueOf();if(_e.toString!==Object.prototype.toString)return _e.toString()===Ce.toString();if(Ie=Object.keys(_e),Pe=Ie.length,Pe!==Object.keys(Ce).length)return!1;for(Re=Pe;Re--!==0;)if(!Object.prototype.hasOwnProperty.call(Ce,Ie[Re]))return!1;for(Re=Pe;Re--!==0;){var Be=Ie[Re];if(!Ee(_e[Be],Ce[Be]))return!1}return!0}return _e!==_e&&Ce!==Ce}),fastDeepEqual}var fastDeepEqualExports=requireFastDeepEqual(),equal2=getDefaultExportFromCjs$1(fastDeepEqualExports),ARRAY_TYPES=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],VERSION=1,HEADER_SIZE=8;class KDBush{static from(_e){if(!(_e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[Ce,Pe]=new Uint8Array(_e,0,2);if(Ce!==219)throw new Error("Data does not appear to be in a KDBush format.");var Re=Pe>>4;if(Re!==VERSION)throw new Error("Got v".concat(Re," data when expected v").concat(VERSION,"."));var Ie=ARRAY_TYPES[Pe&15];if(!Ie)throw new Error("Unrecognized array type.");var[Be]=new Uint16Array(_e,2,1),[je]=new Uint32Array(_e,4,1);return new KDBush(je,Be,Ie,_e)}constructor(_e){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,Re=arguments.length>3?arguments[3]:void 0;if(isNaN(_e)||_e<0)throw new Error("Unpexpected numItems value: ".concat(_e,"."));this.numItems=+_e,this.nodeSize=Math.min(Math.max(+Ce,2),65535),this.ArrayType=Pe,this.IndexArrayType=_e<65536?Uint16Array:Uint32Array;var Ie=ARRAY_TYPES.indexOf(this.ArrayType),Be=_e*2*this.ArrayType.BYTES_PER_ELEMENT,je=_e*this.IndexArrayType.BYTES_PER_ELEMENT,De=(8-je%8)%8;if(Ie<0)throw new Error("Unexpected typed array class: ".concat(Pe,"."));Re&&Re instanceof ArrayBuffer?(this.data=Re,this.ids=new this.IndexArrayType(this.data,HEADER_SIZE,_e),this.coords=new this.ArrayType(this.data,HEADER_SIZE+je+De,_e*2),this._pos=_e*2,this._finished=!0):(this.data=new ArrayBuffer(HEADER_SIZE+Be+je+De),this.ids=new this.IndexArrayType(this.data,HEADER_SIZE,_e),this.coords=new this.ArrayType(this.data,HEADER_SIZE+je+De,_e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(VERSION<<4)+Ie]),new Uint16Array(this.data,2,1)[0]=Ce,new Uint32Array(this.data,4,1)[0]=_e)}add(_e,Ce){var Pe=this._pos>>1;return this.ids[Pe]=Pe,this.coords[this._pos++]=_e,this.coords[this._pos++]=Ce,Pe}finish(){var _e=this._pos>>1;if(_e!==this.numItems)throw new Error("Added ".concat(_e," items when expected ").concat(this.numItems,"."));return sort(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(_e,Ce,Pe,Re){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:Ie,coords:Be,nodeSize:je}=this,De=[0,Ie.length-1,0],Fe=[];De.length;){var Oe=De.pop()||0,ke=De.pop()||0,Me=De.pop()||0;if(ke-Me<=je){for(var $e=Me;$e<=ke;$e++){var He=Be[2*$e],Qe=Be[2*$e+1];He>=_e&&He<=Pe&&Qe>=Ce&&Qe<=Re&&Fe.push(Ie[$e])}continue}var Ke=Me+ke>>1,ze=Be[2*Ke],We=Be[2*Ke+1];ze>=_e&&ze<=Pe&&We>=Ce&&We<=Re&&Fe.push(Ie[Ke]),(Oe===0?_e<=ze:Ce<=We)&&(De.push(Me),De.push(Ke-1),De.push(1-Oe)),(Oe===0?Pe>=ze:Re>=We)&&(De.push(Ke+1),De.push(ke),De.push(1-Oe))}return Fe}within(_e,Ce,Pe){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:Re,coords:Ie,nodeSize:Be}=this,je=[0,Re.length-1,0],De=[],Fe=Pe*Pe;je.length;){var Oe=je.pop()||0,ke=je.pop()||0,Me=je.pop()||0;if(ke-Me<=Be){for(var $e=Me;$e<=ke;$e++)sqDist(Ie[2*$e],Ie[2*$e+1],_e,Ce)<=Fe&&De.push(Re[$e]);continue}var He=Me+ke>>1,Qe=Ie[2*He],Ke=Ie[2*He+1];sqDist(Qe,Ke,_e,Ce)<=Fe&&De.push(Re[He]),(Oe===0?_e-Pe<=Qe:Ce-Pe<=Ke)&&(je.push(Me),je.push(He-1),je.push(1-Oe)),(Oe===0?_e+Pe>=Qe:Ce+Pe>=Ke)&&(je.push(He+1),je.push(ke),je.push(1-Oe))}return De}}function sort(Ee,_e,Ce,Pe,Re,Ie){if(!(Re-Pe<=Ce)){var Be=Pe+Re>>1;select(Ee,_e,Be,Pe,Re,Ie),sort(Ee,_e,Ce,Pe,Be-1,1-Ie),sort(Ee,_e,Ce,Be+1,Re,1-Ie)}}function select(Ee,_e,Ce,Pe,Re,Ie){for(;Re>Pe;){if(Re-Pe>600){var Be=Re-Pe+1,je=Ce-Pe+1,De=Math.log(Be),Fe=.5*Math.exp(2*De/3),Oe=.5*Math.sqrt(De*Fe*(Be-Fe)/Be)*(je-Be/2<0?-1:1),ke=Math.max(Pe,Math.floor(Ce-je*Fe/Be+Oe)),Me=Math.min(Re,Math.floor(Ce+(Be-je)*Fe/Be+Oe));select(Ee,_e,Ce,ke,Me,Ie)}var $e=_e[2*Ce+Ie],He=Pe,Qe=Re;for(swapItem(Ee,_e,Pe,Ce),_e[2*Re+Ie]>$e&&swapItem(Ee,_e,Pe,Re);He<Qe;){for(swapItem(Ee,_e,He,Qe),He++,Qe--;_e[2*He+Ie]<$e;)He++;for(;_e[2*Qe+Ie]>$e;)Qe--}_e[2*Pe+Ie]===$e?swapItem(Ee,_e,Pe,Qe):(Qe++,swapItem(Ee,_e,Qe,Re)),Qe<=Ce&&(Pe=Qe+1),Ce<=Qe&&(Re=Qe-1)}}function swapItem(Ee,_e,Ce,Pe){swap(Ee,Ce,Pe),swap(_e,2*Ce,2*Pe),swap(_e,2*Ce+1,2*Pe+1)}function swap(Ee,_e,Ce){var Pe=Ee[_e];Ee[_e]=Ee[Ce],Ee[Ce]=Pe}function sqDist(Ee,_e,Ce,Pe){var Re=Ee-Ce,Ie=_e-Pe;return Re*Re+Ie*Ie}var defaultOptions$2={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ee=>Ee},fround=Math.fround||(Ee=>_e=>(Ee[0]=+_e,Ee[0]))(new Float32Array(1)),OFFSET_ZOOM=2,OFFSET_ID=3,OFFSET_PARENT=4,OFFSET_NUM=5,OFFSET_PROP=6;class Supercluster{constructor(_e){this.options=Object.assign(Object.create(defaultOptions$2),_e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(_e){var{log:Ce,minZoom:Pe,maxZoom:Re}=this.options;Ce&&console.time("total time");var Ie="prepare ".concat(_e.length," points");Ce&&console.time(Ie),this.points=_e;for(var Be=[],je=0;je<_e.length;je++){var De=_e[je];if(De.geometry){var[Fe,Oe]=De.geometry.coordinates,ke=fround(lngX(Fe)),Me=fround(latY(Oe));Be.push(ke,Me,1/0,je,-1,1),this.options.reduce&&Be.push(0)}}var $e=this.trees[Re+1]=this._createTree(Be);Ce&&console.timeEnd(Ie);for(var He=Re;He>=Pe;He--){var Qe=+Date.now();$e=this.trees[He]=this._createTree(this._cluster($e,He)),Ce&&console.log("z%d: %d clusters in %dms",He,$e.numItems,+Date.now()-Qe)}return Ce&&console.timeEnd("total time"),this}getClusters(_e,Ce){var Pe=((_e[0]+180)%360+360)%360-180,Re=Math.max(-90,Math.min(90,_e[1])),Ie=_e[2]===180?180:((_e[2]+180)%360+360)%360-180,Be=Math.max(-90,Math.min(90,_e[3]));if(_e[2]-_e[0]>=360)Pe=-180,Ie=180;else if(Pe>Ie){var je=this.getClusters([Pe,Re,180,Be],Ce),De=this.getClusters([-180,Re,Ie,Be],Ce);return je.concat(De)}var Fe=this.trees[this._limitZoom(Ce)],Oe=Fe.range(lngX(Pe),latY(Be),lngX(Ie),latY(Re)),ke=Fe.data,Me=[];for(var $e of Oe){var He=this.stride*$e;Me.push(ke[He+OFFSET_NUM]>1?getClusterJSON(ke,He,this.clusterProps):this.points[ke[He+OFFSET_ID]])}return Me}getChildren(_e){var Ce=this._getOriginId(_e),Pe=this._getOriginZoom(_e),Re="No cluster with the specified id.",Ie=this.trees[Pe];if(!Ie)throw new Error(Re);var Be=Ie.data;if(Ce*this.stride>=Be.length)throw new Error(Re);var je=this.options.radius/(this.options.extent*Math.pow(2,Pe-1)),De=Be[Ce*this.stride],Fe=Be[Ce*this.stride+1],Oe=Ie.within(De,Fe,je),ke=[];for(var Me of Oe){var $e=Me*this.stride;Be[$e+OFFSET_PARENT]===_e&&ke.push(Be[$e+OFFSET_NUM]>1?getClusterJSON(Be,$e,this.clusterProps):this.points[Be[$e+OFFSET_ID]])}if(ke.length===0)throw new Error(Re);return ke}getLeaves(_e,Ce,Pe){Ce=Ce||10,Pe=Pe||0;var Re=[];return this._appendLeaves(Re,_e,Ce,Pe,0),Re}getTile(_e,Ce,Pe){var Re=this.trees[this._limitZoom(_e)],Ie=Math.pow(2,_e),{extent:Be,radius:je}=this.options,De=je/Be,Fe=(Pe-De)/Ie,Oe=(Pe+1+De)/Ie,ke={features:[]};return this._addTileFeatures(Re.range((Ce-De)/Ie,Fe,(Ce+1+De)/Ie,Oe),Re.data,Ce,Pe,Ie,ke),Ce===0&&this._addTileFeatures(Re.range(1-De/Ie,Fe,1,Oe),Re.data,Ie,Pe,Ie,ke),Ce===Ie-1&&this._addTileFeatures(Re.range(0,Fe,De/Ie,Oe),Re.data,-1,Pe,Ie,ke),ke.features.length?ke:null}getClusterExpansionZoom(_e){for(var Ce=this._getOriginZoom(_e)-1;Ce<=this.options.maxZoom;){var Pe=this.getChildren(_e);if(Ce++,Pe.length!==1)break;_e=Pe[0].properties.cluster_id}return Ce}_appendLeaves(_e,Ce,Pe,Re,Ie){var Be=this.getChildren(Ce);for(var je of Be){var De=je.properties;if(De&&De.cluster?Ie+De.point_count<=Re?Ie+=De.point_count:Ie=this._appendLeaves(_e,De.cluster_id,Pe,Re,Ie):Ie<Re?Ie++:_e.push(je),_e.length===Pe)break}return Ie}_createTree(_e){for(var Ce=new KDBush(_e.length/this.stride|0,this.options.nodeSize,Float32Array),Pe=0;Pe<_e.length;Pe+=this.stride)Ce.add(_e[Pe],_e[Pe+1]);return Ce.finish(),Ce.data=_e,Ce}_addTileFeatures(_e,Ce,Pe,Re,Ie,Be){for(var je of _e){var De=je*this.stride,Fe=Ce[De+OFFSET_NUM]>1,Oe=void 0,ke=void 0,Me=void 0;if(Fe)Oe=getClusterProperties(Ce,De,this.clusterProps),ke=Ce[De],Me=Ce[De+1];else{var $e=this.points[Ce[De+OFFSET_ID]];Oe=$e.properties;var[He,Qe]=$e.geometry.coordinates;ke=lngX(He),Me=latY(Qe)}var Ke={type:1,geometry:[[Math.round(this.options.extent*(ke*Ie-Pe)),Math.round(this.options.extent*(Me*Ie-Re))]],tags:Oe},ze=void 0;Fe||this.options.generateId?ze=Ce[De+OFFSET_ID]:ze=this.points[Ce[De+OFFSET_ID]].id,ze!==void 0&&(Ke.id=ze),Be.features.push(Ke)}}_limitZoom(_e){return Math.max(this.options.minZoom,Math.min(Math.floor(+_e),this.options.maxZoom+1))}_cluster(_e,Ce){for(var{radius:Pe,extent:Re,reduce:Ie,minPoints:Be}=this.options,je=Pe/(Re*Math.pow(2,Ce)),De=_e.data,Fe=[],Oe=this.stride,ke=0;ke<De.length;ke+=Oe)if(!(De[ke+OFFSET_ZOOM]<=Ce)){De[ke+OFFSET_ZOOM]=Ce;var Me=De[ke],$e=De[ke+1],He=_e.within(De[ke],De[ke+1],je),Qe=De[ke+OFFSET_NUM],Ke=Qe;for(var ze of He){var We=ze*Oe;De[We+OFFSET_ZOOM]>Ce&&(Ke+=De[We+OFFSET_NUM])}if(Ke>Qe&&Ke>=Be){var qe=Me*Qe,Ye=$e*Qe,Xe=void 0,rr=-1,Je=((ke/Oe|0)<<5)+(Ce+1)+this.points.length;for(var er of He){var or=er*Oe;if(!(De[or+OFFSET_ZOOM]<=Ce)){De[or+OFFSET_ZOOM]=Ce;var pr=De[or+OFFSET_NUM];qe+=De[or]*pr,Ye+=De[or+1]*pr,De[or+OFFSET_PARENT]=Je,Ie&&(Xe||(Xe=this._map(De,ke,!0),rr=this.clusterProps.length,this.clusterProps.push(Xe)),Ie(Xe,this._map(De,or)))}}De[ke+OFFSET_PARENT]=Je,Fe.push(qe/Ke,Ye/Ke,1/0,Je,-1,Ke),Ie&&Fe.push(rr)}else{for(var ar=0;ar<Oe;ar++)Fe.push(De[ke+ar]);if(Ke>1)for(var fr of He){var gr=fr*Oe;if(!(De[gr+OFFSET_ZOOM]<=Ce)){De[gr+OFFSET_ZOOM]=Ce;for(var Rr=0;Rr<Oe;Rr++)Fe.push(De[gr+Rr])}}}}return Fe}_getOriginId(_e){return _e-this.points.length>>5}_getOriginZoom(_e){return(_e-this.points.length)%32}_map(_e,Ce,Pe){if(_e[Ce+OFFSET_NUM]>1){var Re=this.clusterProps[_e[Ce+OFFSET_PROP]];return Pe?Object.assign({},Re):Re}var Ie=this.points[_e[Ce+OFFSET_ID]].properties,Be=this.options.map(Ie);return Pe&&Be===Ie?Object.assign({},Be):Be}}function getClusterJSON(Ee,_e,Ce){return{type:"Feature",id:Ee[_e+OFFSET_ID],properties:getClusterProperties(Ee,_e,Ce),geometry:{type:"Point",coordinates:[xLng(Ee[_e]),yLat(Ee[_e+1])]}}}function getClusterProperties(Ee,_e,Ce){var Pe=Ee[_e+OFFSET_NUM],Re=Pe>=1e4?"".concat(Math.round(Pe/1e3),"k"):Pe>=1e3?"".concat(Math.round(Pe/100)/10,"k"):Pe,Ie=Ee[_e+OFFSET_PROP],Be=Ie===-1?{}:Object.assign({},Ce[Ie]);return Object.assign(Be,{cluster:!0,cluster_id:Ee[_e+OFFSET_ID],point_count:Pe,point_count_abbreviated:Re})}function lngX(Ee){return Ee/360+.5}function latY(Ee){var _e=Math.sin(Ee*Math.PI/180),Ce=.5-.25*Math.log((1+_e)/(1-_e))/Math.PI;return Ce<0?0:Ce>1?1:Ce}function xLng(Ee){return(Ee-.5)*360}function yLat(Ee){var _e=(180-Ee*360)*Math.PI/180;return 360*Math.atan(Math.exp(_e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __rest(Ee,_e){var Ce={};for(var Pe in Ee)Object.prototype.hasOwnProperty.call(Ee,Pe)&&_e.indexOf(Pe)<0&&(Ce[Pe]=Ee[Pe]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Re=0,Pe=Object.getOwnPropertySymbols(Ee);Re<Pe.length;Re++)_e.indexOf(Pe[Re])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Pe[Re])&&(Ce[Pe[Re]]=Ee[Pe[Re]]);return Ce}class MarkerUtils{static isAdvancedMarkerAvailable(_e){return google.maps.marker&&_e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(_e){return google.maps.marker&&_e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(_e,Ce){this.isAdvancedMarker(_e)?_e.map=Ce:_e.setMap(Ce)}static getPosition(_e){if(this.isAdvancedMarker(_e)){if(_e.position){if(_e.position instanceof google.maps.LatLng)return _e.position;if(_e.position.lat&&_e.position.lng)return new google.maps.LatLng(_e.position.lat,_e.position.lng)}return new google.maps.LatLng(null)}return _e.getPosition()}static getVisible(_e){return this.isAdvancedMarker(_e)?!0:_e.getVisible()}}class Cluster{constructor(_e){var{markers:Ce,position:Pe}=_e;this.markers=Ce,Pe&&(Pe instanceof google.maps.LatLng?this._position=Pe:this._position=new google.maps.LatLng(Pe))}get bounds(){if(!(this.markers.length===0&&!this._position)){var _e=new google.maps.LatLngBounds(this._position,this._position);for(var Ce of this.markers)_e.extend(MarkerUtils.getPosition(Ce));return _e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(_e=>MarkerUtils.getVisible(_e)).length}push(_e){this.markers.push(_e)}delete(){this.marker&&(MarkerUtils.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class AbstractAlgorithm{constructor(_e){var{maxZoom:Ce=16}=_e;this.maxZoom=Ce}noop(_e){var{markers:Ce}=_e;return noop$1(Ce)}}var noop$1=Ee=>{var _e=Ee.map(Ce=>new Cluster({position:MarkerUtils.getPosition(Ce),markers:[Ce]}));return _e};class SuperClusterAlgorithm extends AbstractAlgorithm{constructor(_e){var{maxZoom:Ce,radius:Pe=60}=_e,Re=__rest(_e,["maxZoom","radius"]);super({maxZoom:Ce}),this.state={zoom:-1},this.superCluster=new Supercluster(Object.assign({maxZoom:this.maxZoom,radius:Pe},Re))}calculate(_e){var Ce=!1,Pe={zoom:_e.map.getZoom()};if(!equal2(_e.markers,this.markers)){Ce=!0,this.markers=[..._e.markers];var Re=this.markers.map(Ie=>{var Be=MarkerUtils.getPosition(Ie),je=[Be.lng(),Be.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:je},properties:{marker:Ie}}});this.superCluster.load(Re)}return Ce||(this.state.zoom<=this.maxZoom||Pe.zoom<=this.maxZoom)&&(Ce=!equal2(this.state,Pe)),this.state=Pe,Ce&&(this.clusters=this.cluster(_e)),{clusters:this.clusters,changed:Ce}}cluster(_e){var{map:Ce}=_e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(Ce.getZoom())).map(Pe=>this.transformCluster(Pe))}transformCluster(_e){var{geometry:{coordinates:[Ce,Pe]},properties:Re}=_e;if(Re.cluster)return new Cluster({markers:this.superCluster.getLeaves(Re.cluster_id,1/0).map(Be=>Be.properties.marker),position:{lat:Pe,lng:Ce}});var Ie=Re.marker;return new Cluster({markers:[Ie],position:MarkerUtils.getPosition(Ie)})}}class ClusterStats{constructor(_e,Ce){this.markers={sum:_e.length};var Pe=Ce.map(Ie=>Ie.count),Re=Pe.reduce((Ie,Be)=>Ie+Be,0);this.clusters={count:Ce.length,markers:{mean:Re/Ce.length,sum:Re,min:Math.min(...Pe),max:Math.max(...Pe)}}}}class DefaultRenderer{render(_e,Ce,Pe){var{count:Re,position:Ie}=_e,Be=Re>Math.max(10,Ce.clusters.markers.mean)?"#ff0000":"#0000ff",je='<svg fill="'.concat(Be,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(Re,`</text>
</svg>`),De="Cluster of ".concat(Re," markers"),Fe=Number(google.maps.Marker.MAX_ZINDEX)+Re;if(MarkerUtils.isAdvancedMarkerAvailable(Pe)){var Oe=new DOMParser,ke=Oe.parseFromString(je,"image/svg+xml").documentElement;ke.setAttribute("transform","translate(0 25)");var Me={map:Pe,position:Ie,zIndex:Fe,title:De,content:ke};return new google.maps.marker.AdvancedMarkerElement(Me)}var $e={position:Ie,zIndex:Fe,title:De,icon:{url:"data:image/svg+xml;base64,".concat(btoa(je)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker($e)}}function extend(Ee,_e){for(var Ce in _e.prototype)Ee.prototype[Ce]=_e.prototype[Ce]}class OverlayViewSafe{constructor(){extend(OverlayViewSafe,google.maps.OverlayView)}}var MarkerClustererEvents;(function(Ee){Ee.CLUSTERING_BEGIN="clusteringbegin",Ee.CLUSTERING_END="clusteringend",Ee.CLUSTER_CLICK="click"})(MarkerClustererEvents||(MarkerClustererEvents={}));var defaultOnClusterClickHandler=(Ee,_e,Ce)=>{Ce.fitBounds(_e.bounds)};class MarkerClusterer extends OverlayViewSafe{constructor(_e){var{map:Ce,markers:Pe=[],algorithmOptions:Re={},algorithm:Ie=new SuperClusterAlgorithm(Re),renderer:Be=new DefaultRenderer,onClusterClick:je=defaultOnClusterClickHandler}=_e;super(),this.markers=[...Pe],this.clusters=[],this.algorithm=Ie,this.renderer=Be,this.onClusterClick=je,Ce&&this.setMap(Ce)}addMarker(_e,Ce){this.markers.includes(_e)||(this.markers.push(_e),Ce||this.render())}addMarkers(_e,Ce){_e.forEach(Pe=>{this.addMarker(Pe,!0)}),Ce||this.render()}removeMarker(_e,Ce){var Pe=this.markers.indexOf(_e);return Pe===-1?!1:(MarkerUtils.setMap(_e,null),this.markers.splice(Pe,1),Ce||this.render(),!0)}removeMarkers(_e,Ce){var Pe=!1;return _e.forEach(Re=>{Pe=this.removeMarker(Re,!0)||Pe}),Pe&&!Ce&&this.render(),Pe}clearMarkers(_e){this.markers.length=0,_e||this.render()}render(){var _e=this.getMap();if(_e instanceof google.maps.Map&&_e.getProjection()){google.maps.event.trigger(this,MarkerClustererEvents.CLUSTERING_BEGIN,this);var{clusters:Ce,changed:Pe}=this.algorithm.calculate({markers:this.markers,map:_e,mapCanvasProjection:this.getProjection()});if(Pe||Pe==null){var Re=new Set;for(var Ie of Ce)Ie.markers.length==1&&Re.add(Ie.markers[0]);var Be=[];for(var je of this.clusters)je.marker!=null&&(je.markers.length==1?Re.has(je.marker)||MarkerUtils.setMap(je.marker,null):Be.push(je.marker));this.clusters=Ce,this.renderClusters(),requestAnimationFrame(()=>Be.forEach(De=>MarkerUtils.setMap(De,null)))}google.maps.event.trigger(this,MarkerClustererEvents.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(_e=>MarkerUtils.setMap(_e,null)),this.clusters.forEach(_e=>_e.delete()),this.clusters=[]}renderClusters(){var _e=new ClusterStats(this.markers,this.clusters),Ce=this.getMap();this.clusters.forEach(Pe=>{Pe.markers.length===1?Pe.marker=Pe.markers[0]:(Pe.marker=this.renderer.render(Pe,_e,Ce),Pe.markers.forEach(Re=>MarkerUtils.setMap(Re,null)),this.onClusterClick&&Pe.marker.addListener("click",Re=>{google.maps.event.trigger(this,MarkerClustererEvents.CLUSTER_CLICK,Pe),this.onClusterClick(Re,Pe,Ce)})),MarkerUtils.setMap(Pe.marker,Ce)})}}function ownKeys$a(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$a(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$a(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$a(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function useGoogleMarkerClusterer(Ee){var _e=useGoogleMap(),[Ce,Pe]=reactExports.useState(null);return reactExports.useEffect(()=>{if(_e&&Ce===null){var Re=new MarkerClusterer(_objectSpread$a(_objectSpread$a({},Ee),{},{map:_e}));Pe(Re)}},[_e]),Ce}function GoogleMarkerClusterer(Ee){var{children:_e,options:Ce}=Ee,Pe=useGoogleMarkerClusterer(Ce);return Pe!==null?_e(Pe):null}reactExports.memo(GoogleMarkerClusterer);var eventMap$c={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},updaterMap$c={options(Ee,_e){Ee.setOptions(_e)},position(Ee,_e){Ee.setPosition(_e)},zIndex(Ee,_e){Ee.setZIndex(_e)}};function InfoWindowFunctional(Ee){var{children:_e,anchor:Ce,options:Pe,position:Re,zIndex:Ie,onCloseClick:Be,onDomReady:je,onContentChanged:De,onPositionChanged:Fe,onZindexChanged:Oe,onLoad:ke,onUnmount:Me}=Ee,$e=reactExports.useContext(MapContext),[He,Qe]=reactExports.useState(null),[Ke,ze]=reactExports.useState(null),[We,qe]=reactExports.useState(null),[Ye,Xe]=reactExports.useState(null),[rr,Je]=reactExports.useState(null),[er,or]=reactExports.useState(null),pr=reactExports.useRef(null);return reactExports.useEffect(()=>{He!==null&&(He.close(),Ce?He.open($e,Ce):He.getPosition()&&He.open($e))},[$e,He,Ce]),reactExports.useEffect(()=>{Pe&&He!==null&&He.setOptions(Pe)},[He,Pe]),reactExports.useEffect(()=>{Re&&He!==null&&He.setPosition(Re)},[Re]),reactExports.useEffect(()=>{typeof Ie=="number"&&He!==null&&He.setZIndex(Ie)},[Ie]),reactExports.useEffect(()=>{He&&Be&&(Ke!==null&&google.maps.event.removeListener(Ke),ze(google.maps.event.addListener(He,"closeclick",Be)))},[Be]),reactExports.useEffect(()=>{He&&je&&(We!==null&&google.maps.event.removeListener(We),qe(google.maps.event.addListener(He,"domready",je)))},[je]),reactExports.useEffect(()=>{He&&De&&(Ye!==null&&google.maps.event.removeListener(Ye),Xe(google.maps.event.addListener(He,"content_changed",De)))},[De]),reactExports.useEffect(()=>{He&&Fe&&(rr!==null&&google.maps.event.removeListener(rr),Je(google.maps.event.addListener(He,"position_changed",Fe)))},[Fe]),reactExports.useEffect(()=>{He&&Oe&&(er!==null&&google.maps.event.removeListener(er),or(google.maps.event.addListener(He,"zindex_changed",Oe)))},[Oe]),reactExports.useEffect(()=>{var ar=new google.maps.InfoWindow(Pe);return Qe(ar),pr.current=document.createElement("div"),Be&&ze(google.maps.event.addListener(ar,"closeclick",Be)),je&&qe(google.maps.event.addListener(ar,"domready",je)),De&&Xe(google.maps.event.addListener(ar,"content_changed",De)),Fe&&Je(google.maps.event.addListener(ar,"position_changed",Fe)),Oe&&or(google.maps.event.addListener(ar,"zindex_changed",Oe)),ar.setContent(pr.current),Re&&ar.setPosition(Re),Ie&&ar.setZIndex(Ie),Ce?ar.open($e,Ce):ar.getPosition()?ar.open($e):invariant(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),ke&&ke(ar),()=>{Ke&&google.maps.event.removeListener(Ke),Ye&&google.maps.event.removeListener(Ye),We&&google.maps.event.removeListener(We),rr&&google.maps.event.removeListener(rr),er&&google.maps.event.removeListener(er),Me&&Me(ar),ar.close()}},[]),pr.current?reactDomExports.createPortal(reactExports.Children.only(_e),pr.current):null}reactExports.memo(InfoWindowFunctional);class InfoWindow extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"containerElement",null),_defineProperty(this,"state",{infoWindow:null}),_defineProperty(this,"open",(_e,Ce)=>{Ce?_e.open(this.context,Ce):_e.getPosition()?_e.open(this.context):invariant(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),_defineProperty(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var _e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$c,eventMap:eventMap$c,prevProps:{},nextProps:this.props,instance:_e}),this.setState(()=>({infoWindow:_e}),this.setInfoWindowCallback)}componentDidUpdate(_e){this.state.infoWindow!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$c,eventMap:eventMap$c,prevProps:_e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(unregisterEvents(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?reactDomExports.createPortal(reactExports.Children.only(this.props.children),this.containerElement):null}}_defineProperty(InfoWindow,"contextType",MapContext);function ownKeys$9(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$9(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$9(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$9(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}var eventMap$b={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},updaterMap$b={draggable(Ee,_e){Ee.setDraggable(_e)},editable(Ee,_e){Ee.setEditable(_e)},map(Ee,_e){Ee.setMap(_e)},options(Ee,_e){Ee.setOptions(_e)},path(Ee,_e){Ee.setPath(_e)},visible(Ee,_e){Ee.setVisible(_e)}},defaultOptions$1={};function PolylineFunctional(Ee){var{options:_e,draggable:Ce,editable:Pe,visible:Re,path:Ie,onDblClick:Be,onDragEnd:je,onDragStart:De,onMouseDown:Fe,onMouseMove:Oe,onMouseOut:ke,onMouseOver:Me,onMouseUp:$e,onRightClick:He,onClick:Qe,onDrag:Ke,onLoad:ze,onUnmount:We}=Ee,qe=reactExports.useContext(MapContext),[Ye,Xe]=reactExports.useState(null),[rr,Je]=reactExports.useState(null),[er,or]=reactExports.useState(null),[pr,ar]=reactExports.useState(null),[fr,gr]=reactExports.useState(null),[Rr,Ir]=reactExports.useState(null),[mr,Er]=reactExports.useState(null),[Ar,br]=reactExports.useState(null),[wr,jr]=reactExports.useState(null),[hr,_r]=reactExports.useState(null),[Pr,Cr]=reactExports.useState(null),[Or,Yr]=reactExports.useState(null);return reactExports.useEffect(()=>{Ye!==null&&Ye.setMap(qe)},[qe]),reactExports.useEffect(()=>{typeof _e<"u"&&Ye!==null&&Ye.setOptions(_e)},[Ye,_e]),reactExports.useEffect(()=>{typeof Ce<"u"&&Ye!==null&&Ye.setDraggable(Ce)},[Ye,Ce]),reactExports.useEffect(()=>{typeof Pe<"u"&&Ye!==null&&Ye.setEditable(Pe)},[Ye,Pe]),reactExports.useEffect(()=>{typeof Re<"u"&&Ye!==null&&Ye.setVisible(Re)},[Ye,Re]),reactExports.useEffect(()=>{typeof Ie<"u"&&Ye!==null&&Ye.setPath(Ie)},[Ye,Ie]),reactExports.useEffect(()=>{Ye&&Be&&(rr!==null&&google.maps.event.removeListener(rr),Je(google.maps.event.addListener(Ye,"dblclick",Be)))},[Be]),reactExports.useEffect(()=>{Ye&&je&&(er!==null&&google.maps.event.removeListener(er),or(google.maps.event.addListener(Ye,"dragend",je)))},[je]),reactExports.useEffect(()=>{Ye&&De&&(pr!==null&&google.maps.event.removeListener(pr),ar(google.maps.event.addListener(Ye,"dragstart",De)))},[De]),reactExports.useEffect(()=>{Ye&&Fe&&(fr!==null&&google.maps.event.removeListener(fr),gr(google.maps.event.addListener(Ye,"mousedown",Fe)))},[Fe]),reactExports.useEffect(()=>{Ye&&Oe&&(Rr!==null&&google.maps.event.removeListener(Rr),Ir(google.maps.event.addListener(Ye,"mousemove",Oe)))},[Oe]),reactExports.useEffect(()=>{Ye&&ke&&(mr!==null&&google.maps.event.removeListener(mr),Er(google.maps.event.addListener(Ye,"mouseout",ke)))},[ke]),reactExports.useEffect(()=>{Ye&&Me&&(Ar!==null&&google.maps.event.removeListener(Ar),br(google.maps.event.addListener(Ye,"mouseover",Me)))},[Me]),reactExports.useEffect(()=>{Ye&&$e&&(wr!==null&&google.maps.event.removeListener(wr),jr(google.maps.event.addListener(Ye,"mouseup",$e)))},[$e]),reactExports.useEffect(()=>{Ye&&He&&(hr!==null&&google.maps.event.removeListener(hr),_r(google.maps.event.addListener(Ye,"rightclick",He)))},[He]),reactExports.useEffect(()=>{Ye&&Qe&&(Pr!==null&&google.maps.event.removeListener(Pr),Cr(google.maps.event.addListener(Ye,"click",Qe)))},[Qe]),reactExports.useEffect(()=>{Ye&&Ke&&(Or!==null&&google.maps.event.removeListener(Or),Yr(google.maps.event.addListener(Ye,"drag",Ke)))},[Ke]),reactExports.useEffect(()=>{var qr=new google.maps.Polyline(_objectSpread$9(_objectSpread$9({},_e||defaultOptions$1),{},{map:qe}));return Ie&&qr.setPath(Ie),typeof Re<"u"&&qr.setVisible(Re),typeof Pe<"u"&&qr.setEditable(Pe),typeof Ce<"u"&&qr.setDraggable(Ce),Be&&Je(google.maps.event.addListener(qr,"dblclick",Be)),je&&or(google.maps.event.addListener(qr,"dragend",je)),De&&ar(google.maps.event.addListener(qr,"dragstart",De)),Fe&&gr(google.maps.event.addListener(qr,"mousedown",Fe)),Oe&&Ir(google.maps.event.addListener(qr,"mousemove",Oe)),ke&&Er(google.maps.event.addListener(qr,"mouseout",ke)),Me&&br(google.maps.event.addListener(qr,"mouseover",Me)),$e&&jr(google.maps.event.addListener(qr,"mouseup",$e)),He&&_r(google.maps.event.addListener(qr,"rightclick",He)),Qe&&Cr(google.maps.event.addListener(qr,"click",Qe)),Ke&&Yr(google.maps.event.addListener(qr,"drag",Ke)),Xe(qr),ze&&ze(qr),()=>{rr!==null&&google.maps.event.removeListener(rr),er!==null&&google.maps.event.removeListener(er),pr!==null&&google.maps.event.removeListener(pr),fr!==null&&google.maps.event.removeListener(fr),Rr!==null&&google.maps.event.removeListener(Rr),mr!==null&&google.maps.event.removeListener(mr),Ar!==null&&google.maps.event.removeListener(Ar),wr!==null&&google.maps.event.removeListener(wr),hr!==null&&google.maps.event.removeListener(hr),Pr!==null&&google.maps.event.removeListener(Pr),We&&We(qr),qr.setMap(null)}},[]),null}reactExports.memo(PolylineFunctional);class Polyline extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{polyline:null}),_defineProperty(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var _e=new google.maps.Polyline(_objectSpread$9(_objectSpread$9({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$b,eventMap:eventMap$b,prevProps:{},nextProps:this.props,instance:_e}),this.setState(function(){return{polyline:_e}},this.setPolylineCallback)}componentDidUpdate(_e){this.state.polyline!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$b,eventMap:eventMap$b,prevProps:_e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),unregisterEvents(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}_defineProperty(Polyline,"contextType",MapContext);function ownKeys$8(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$8(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$8(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$8(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}var eventMap$a={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},updaterMap$a={draggable(Ee,_e){Ee.setDraggable(_e)},editable(Ee,_e){Ee.setEditable(_e)},map(Ee,_e){Ee.setMap(_e)},options(Ee,_e){Ee.setOptions(_e)},path(Ee,_e){Ee.setPath(_e)},paths(Ee,_e){Ee.setPaths(_e)},visible(Ee,_e){Ee.setVisible(_e)}};function PolygonFunctional(Ee){var{options:_e,draggable:Ce,editable:Pe,visible:Re,path:Ie,paths:Be,onDblClick:je,onDragEnd:De,onDragStart:Fe,onMouseDown:Oe,onMouseMove:ke,onMouseOut:Me,onMouseOver:$e,onMouseUp:He,onRightClick:Qe,onClick:Ke,onDrag:ze,onLoad:We,onUnmount:qe,onEdit:Ye}=Ee,Xe=reactExports.useContext(MapContext),[rr,Je]=reactExports.useState(null),[er,or]=reactExports.useState(null),[pr,ar]=reactExports.useState(null),[fr,gr]=reactExports.useState(null),[Rr,Ir]=reactExports.useState(null),[mr,Er]=reactExports.useState(null),[Ar,br]=reactExports.useState(null),[wr,jr]=reactExports.useState(null),[hr,_r]=reactExports.useState(null),[Pr,Cr]=reactExports.useState(null),[Or,Yr]=reactExports.useState(null),[qr,Kr]=reactExports.useState(null);return reactExports.useEffect(()=>{rr!==null&&rr.setMap(Xe)},[Xe]),reactExports.useEffect(()=>{typeof _e<"u"&&rr!==null&&rr.setOptions(_e)},[rr,_e]),reactExports.useEffect(()=>{typeof Ce<"u"&&rr!==null&&rr.setDraggable(Ce)},[rr,Ce]),reactExports.useEffect(()=>{typeof Pe<"u"&&rr!==null&&rr.setEditable(Pe)},[rr,Pe]),reactExports.useEffect(()=>{typeof Re<"u"&&rr!==null&&rr.setVisible(Re)},[rr,Re]),reactExports.useEffect(()=>{typeof Ie<"u"&&rr!==null&&rr.setPath(Ie)},[rr,Ie]),reactExports.useEffect(()=>{typeof Be<"u"&&rr!==null&&rr.setPaths(Be)},[rr,Be]),reactExports.useEffect(()=>{rr&&typeof je=="function"&&(er!==null&&google.maps.event.removeListener(er),or(google.maps.event.addListener(rr,"dblclick",je)))},[je]),reactExports.useEffect(()=>{rr&&(google.maps.event.addListener(rr.getPath(),"insert_at",()=>{Ye?.(rr)}),google.maps.event.addListener(rr.getPath(),"set_at",()=>{Ye?.(rr)}),google.maps.event.addListener(rr.getPath(),"remove_at",()=>{Ye?.(rr)}))},[rr,Ye]),reactExports.useEffect(()=>{rr&&typeof De=="function"&&(pr!==null&&google.maps.event.removeListener(pr),ar(google.maps.event.addListener(rr,"dragend",De)))},[De]),reactExports.useEffect(()=>{rr&&typeof Fe=="function"&&(fr!==null&&google.maps.event.removeListener(fr),gr(google.maps.event.addListener(rr,"dragstart",Fe)))},[Fe]),reactExports.useEffect(()=>{rr&&typeof Oe=="function"&&(Rr!==null&&google.maps.event.removeListener(Rr),Ir(google.maps.event.addListener(rr,"mousedown",Oe)))},[Oe]),reactExports.useEffect(()=>{rr&&typeof ke=="function"&&(mr!==null&&google.maps.event.removeListener(mr),Er(google.maps.event.addListener(rr,"mousemove",ke)))},[ke]),reactExports.useEffect(()=>{rr&&typeof Me=="function"&&(Ar!==null&&google.maps.event.removeListener(Ar),br(google.maps.event.addListener(rr,"mouseout",Me)))},[Me]),reactExports.useEffect(()=>{rr&&typeof $e=="function"&&(wr!==null&&google.maps.event.removeListener(wr),jr(google.maps.event.addListener(rr,"mouseover",$e)))},[$e]),reactExports.useEffect(()=>{rr&&typeof He=="function"&&(hr!==null&&google.maps.event.removeListener(hr),_r(google.maps.event.addListener(rr,"mouseup",He)))},[He]),reactExports.useEffect(()=>{rr&&typeof Qe=="function"&&(Pr!==null&&google.maps.event.removeListener(Pr),Cr(google.maps.event.addListener(rr,"rightclick",Qe)))},[Qe]),reactExports.useEffect(()=>{rr&&typeof Ke=="function"&&(Or!==null&&google.maps.event.removeListener(Or),Yr(google.maps.event.addListener(rr,"click",Ke)))},[Ke]),reactExports.useEffect(()=>{rr&&typeof ze=="function"&&(qr!==null&&google.maps.event.removeListener(qr),Kr(google.maps.event.addListener(rr,"drag",ze)))},[ze]),reactExports.useEffect(()=>{var Zr=new google.maps.Polygon(_objectSpread$8(_objectSpread$8({},_e),{},{map:Xe}));return Ie&&Zr.setPath(Ie),Be&&Zr.setPaths(Be),typeof Re<"u"&&Zr.setVisible(Re),typeof Pe<"u"&&Zr.setEditable(Pe),typeof Ce<"u"&&Zr.setDraggable(Ce),je&&or(google.maps.event.addListener(Zr,"dblclick",je)),De&&ar(google.maps.event.addListener(Zr,"dragend",De)),Fe&&gr(google.maps.event.addListener(Zr,"dragstart",Fe)),Oe&&Ir(google.maps.event.addListener(Zr,"mousedown",Oe)),ke&&Er(google.maps.event.addListener(Zr,"mousemove",ke)),Me&&br(google.maps.event.addListener(Zr,"mouseout",Me)),$e&&jr(google.maps.event.addListener(Zr,"mouseover",$e)),He&&_r(google.maps.event.addListener(Zr,"mouseup",He)),Qe&&Cr(google.maps.event.addListener(Zr,"rightclick",Qe)),Ke&&Yr(google.maps.event.addListener(Zr,"click",Ke)),ze&&Kr(google.maps.event.addListener(Zr,"drag",ze)),Je(Zr),We&&We(Zr),()=>{er!==null&&google.maps.event.removeListener(er),pr!==null&&google.maps.event.removeListener(pr),fr!==null&&google.maps.event.removeListener(fr),Rr!==null&&google.maps.event.removeListener(Rr),mr!==null&&google.maps.event.removeListener(mr),Ar!==null&&google.maps.event.removeListener(Ar),wr!==null&&google.maps.event.removeListener(wr),hr!==null&&google.maps.event.removeListener(hr),Pr!==null&&google.maps.event.removeListener(Pr),Or!==null&&google.maps.event.removeListener(Or),qe&&qe(Zr),Zr.setMap(null)}},[]),null}reactExports.memo(PolygonFunctional);class Polygon extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[])}componentDidMount(){var _e=this.props.options||{};this.polygon=new google.maps.Polygon(_e),this.polygon.setMap(this.context),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$a,eventMap:eventMap$a,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(_e){this.polygon&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$a,eventMap:eventMap$a,prevProps:_e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),unregisterEvents(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}_defineProperty(Polygon,"contextType",MapContext);function ownKeys$7(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$7(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$7(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$7(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}var eventMap$9={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},updaterMap$9={bounds(Ee,_e){Ee.setBounds(_e)},draggable(Ee,_e){Ee.setDraggable(_e)},editable(Ee,_e){Ee.setEditable(_e)},map(Ee,_e){Ee.setMap(_e)},options(Ee,_e){Ee.setOptions(_e)},visible(Ee,_e){Ee.setVisible(_e)}};function RectangleFunctional(Ee){var{options:_e,bounds:Ce,draggable:Pe,editable:Re,visible:Ie,onDblClick:Be,onDragEnd:je,onDragStart:De,onMouseDown:Fe,onMouseMove:Oe,onMouseOut:ke,onMouseOver:Me,onMouseUp:$e,onRightClick:He,onClick:Qe,onDrag:Ke,onBoundsChanged:ze,onLoad:We,onUnmount:qe}=Ee,Ye=reactExports.useContext(MapContext),[Xe,rr]=reactExports.useState(null),[Je,er]=reactExports.useState(null),[or,pr]=reactExports.useState(null),[ar,fr]=reactExports.useState(null),[gr,Rr]=reactExports.useState(null),[Ir,mr]=reactExports.useState(null),[Er,Ar]=reactExports.useState(null),[br,wr]=reactExports.useState(null),[jr,hr]=reactExports.useState(null),[_r,Pr]=reactExports.useState(null),[Cr,Or]=reactExports.useState(null),[Yr,qr]=reactExports.useState(null),[Kr,Zr]=reactExports.useState(null);return reactExports.useEffect(()=>{Xe!==null&&Xe.setMap(Ye)},[Ye]),reactExports.useEffect(()=>{typeof _e<"u"&&Xe!==null&&Xe.setOptions(_e)},[Xe,_e]),reactExports.useEffect(()=>{typeof Pe<"u"&&Xe!==null&&Xe.setDraggable(Pe)},[Xe,Pe]),reactExports.useEffect(()=>{typeof Re<"u"&&Xe!==null&&Xe.setEditable(Re)},[Xe,Re]),reactExports.useEffect(()=>{typeof Ie<"u"&&Xe!==null&&Xe.setVisible(Ie)},[Xe,Ie]),reactExports.useEffect(()=>{typeof Ce<"u"&&Xe!==null&&Xe.setBounds(Ce)},[Xe,Ce]),reactExports.useEffect(()=>{Xe&&Be&&(Je!==null&&google.maps.event.removeListener(Je),er(google.maps.event.addListener(Xe,"dblclick",Be)))},[Be]),reactExports.useEffect(()=>{Xe&&je&&(or!==null&&google.maps.event.removeListener(or),pr(google.maps.event.addListener(Xe,"dragend",je)))},[je]),reactExports.useEffect(()=>{Xe&&De&&(ar!==null&&google.maps.event.removeListener(ar),fr(google.maps.event.addListener(Xe,"dragstart",De)))},[De]),reactExports.useEffect(()=>{Xe&&Fe&&(gr!==null&&google.maps.event.removeListener(gr),Rr(google.maps.event.addListener(Xe,"mousedown",Fe)))},[Fe]),reactExports.useEffect(()=>{Xe&&Oe&&(Ir!==null&&google.maps.event.removeListener(Ir),mr(google.maps.event.addListener(Xe,"mousemove",Oe)))},[Oe]),reactExports.useEffect(()=>{Xe&&ke&&(Er!==null&&google.maps.event.removeListener(Er),Ar(google.maps.event.addListener(Xe,"mouseout",ke)))},[ke]),reactExports.useEffect(()=>{Xe&&Me&&(br!==null&&google.maps.event.removeListener(br),wr(google.maps.event.addListener(Xe,"mouseover",Me)))},[Me]),reactExports.useEffect(()=>{Xe&&$e&&(jr!==null&&google.maps.event.removeListener(jr),hr(google.maps.event.addListener(Xe,"mouseup",$e)))},[$e]),reactExports.useEffect(()=>{Xe&&He&&(_r!==null&&google.maps.event.removeListener(_r),Pr(google.maps.event.addListener(Xe,"rightclick",He)))},[He]),reactExports.useEffect(()=>{Xe&&Qe&&(Cr!==null&&google.maps.event.removeListener(Cr),Or(google.maps.event.addListener(Xe,"click",Qe)))},[Qe]),reactExports.useEffect(()=>{Xe&&Ke&&(Yr!==null&&google.maps.event.removeListener(Yr),qr(google.maps.event.addListener(Xe,"drag",Ke)))},[Ke]),reactExports.useEffect(()=>{Xe&&ze&&(Kr!==null&&google.maps.event.removeListener(Kr),Zr(google.maps.event.addListener(Xe,"bounds_changed",ze)))},[ze]),reactExports.useEffect(()=>{var yn=new google.maps.Rectangle(_objectSpread$7(_objectSpread$7({},_e),{},{map:Ye}));return typeof Ie<"u"&&yn.setVisible(Ie),typeof Re<"u"&&yn.setEditable(Re),typeof Pe<"u"&&yn.setDraggable(Pe),typeof Ce<"u"&&yn.setBounds(Ce),Be&&er(google.maps.event.addListener(yn,"dblclick",Be)),je&&pr(google.maps.event.addListener(yn,"dragend",je)),De&&fr(google.maps.event.addListener(yn,"dragstart",De)),Fe&&Rr(google.maps.event.addListener(yn,"mousedown",Fe)),Oe&&mr(google.maps.event.addListener(yn,"mousemove",Oe)),ke&&Ar(google.maps.event.addListener(yn,"mouseout",ke)),Me&&wr(google.maps.event.addListener(yn,"mouseover",Me)),$e&&hr(google.maps.event.addListener(yn,"mouseup",$e)),He&&Pr(google.maps.event.addListener(yn,"rightclick",He)),Qe&&Or(google.maps.event.addListener(yn,"click",Qe)),Ke&&qr(google.maps.event.addListener(yn,"drag",Ke)),ze&&Zr(google.maps.event.addListener(yn,"bounds_changed",ze)),rr(yn),We&&We(yn),()=>{Je!==null&&google.maps.event.removeListener(Je),or!==null&&google.maps.event.removeListener(or),ar!==null&&google.maps.event.removeListener(ar),gr!==null&&google.maps.event.removeListener(gr),Ir!==null&&google.maps.event.removeListener(Ir),Er!==null&&google.maps.event.removeListener(Er),br!==null&&google.maps.event.removeListener(br),jr!==null&&google.maps.event.removeListener(jr),_r!==null&&google.maps.event.removeListener(_r),Cr!==null&&google.maps.event.removeListener(Cr),Yr!==null&&google.maps.event.removeListener(Yr),Kr!==null&&google.maps.event.removeListener(Kr),qe&&qe(yn),yn.setMap(null)}},[]),null}reactExports.memo(RectangleFunctional);class Rectangle extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{rectangle:null}),_defineProperty(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var _e=new google.maps.Rectangle(_objectSpread$7(_objectSpread$7({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$9,eventMap:eventMap$9,prevProps:{},nextProps:this.props,instance:_e}),this.setState(function(){return{rectangle:_e}},this.setRectangleCallback)}componentDidUpdate(_e){this.state.rectangle!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$9,eventMap:eventMap$9,prevProps:_e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),unregisterEvents(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}_defineProperty(Rectangle,"contextType",MapContext);function ownKeys$6(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$6(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$6(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$6(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}var eventMap$8={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},updaterMap$8={center(Ee,_e){Ee.setCenter(_e)},draggable(Ee,_e){Ee.setDraggable(_e)},editable(Ee,_e){Ee.setEditable(_e)},map(Ee,_e){Ee.setMap(_e)},options(Ee,_e){Ee.setOptions(_e)},radius(Ee,_e){Ee.setRadius(_e)},visible(Ee,_e){Ee.setVisible(_e)}},defaultOptions={};function CircleFunctional(Ee){var{options:_e,center:Ce,radius:Pe,draggable:Re,editable:Ie,visible:Be,onDblClick:je,onDragEnd:De,onDragStart:Fe,onMouseDown:Oe,onMouseMove:ke,onMouseOut:Me,onMouseOver:$e,onMouseUp:He,onRightClick:Qe,onClick:Ke,onDrag:ze,onCenterChanged:We,onRadiusChanged:qe,onLoad:Ye,onUnmount:Xe}=Ee,rr=reactExports.useContext(MapContext),[Je,er]=reactExports.useState(null),[or,pr]=reactExports.useState(null),[ar,fr]=reactExports.useState(null),[gr,Rr]=reactExports.useState(null),[Ir,mr]=reactExports.useState(null),[Er,Ar]=reactExports.useState(null),[br,wr]=reactExports.useState(null),[jr,hr]=reactExports.useState(null),[_r,Pr]=reactExports.useState(null),[Cr,Or]=reactExports.useState(null),[Yr,qr]=reactExports.useState(null),[Kr,Zr]=reactExports.useState(null),[yn,mn]=reactExports.useState(null),[Cn,bn]=reactExports.useState(null);return reactExports.useEffect(()=>{Je!==null&&Je.setMap(rr)},[rr]),reactExports.useEffect(()=>{typeof _e<"u"&&Je!==null&&Je.setOptions(_e)},[Je,_e]),reactExports.useEffect(()=>{typeof Re<"u"&&Je!==null&&Je.setDraggable(Re)},[Je,Re]),reactExports.useEffect(()=>{typeof Ie<"u"&&Je!==null&&Je.setEditable(Ie)},[Je,Ie]),reactExports.useEffect(()=>{typeof Be<"u"&&Je!==null&&Je.setVisible(Be)},[Je,Be]),reactExports.useEffect(()=>{typeof Pe=="number"&&Je!==null&&Je.setRadius(Pe)},[Je,Pe]),reactExports.useEffect(()=>{typeof Ce<"u"&&Je!==null&&Je.setCenter(Ce)},[Je,Ce]),reactExports.useEffect(()=>{Je&&je&&(or!==null&&google.maps.event.removeListener(or),pr(google.maps.event.addListener(Je,"dblclick",je)))},[je]),reactExports.useEffect(()=>{Je&&De&&(ar!==null&&google.maps.event.removeListener(ar),fr(google.maps.event.addListener(Je,"dragend",De)))},[De]),reactExports.useEffect(()=>{Je&&Fe&&(gr!==null&&google.maps.event.removeListener(gr),Rr(google.maps.event.addListener(Je,"dragstart",Fe)))},[Fe]),reactExports.useEffect(()=>{Je&&Oe&&(Ir!==null&&google.maps.event.removeListener(Ir),mr(google.maps.event.addListener(Je,"mousedown",Oe)))},[Oe]),reactExports.useEffect(()=>{Je&&ke&&(Er!==null&&google.maps.event.removeListener(Er),Ar(google.maps.event.addListener(Je,"mousemove",ke)))},[ke]),reactExports.useEffect(()=>{Je&&Me&&(br!==null&&google.maps.event.removeListener(br),wr(google.maps.event.addListener(Je,"mouseout",Me)))},[Me]),reactExports.useEffect(()=>{Je&&$e&&(jr!==null&&google.maps.event.removeListener(jr),hr(google.maps.event.addListener(Je,"mouseover",$e)))},[$e]),reactExports.useEffect(()=>{Je&&He&&(_r!==null&&google.maps.event.removeListener(_r),Pr(google.maps.event.addListener(Je,"mouseup",He)))},[He]),reactExports.useEffect(()=>{Je&&Qe&&(Cr!==null&&google.maps.event.removeListener(Cr),Or(google.maps.event.addListener(Je,"rightclick",Qe)))},[Qe]),reactExports.useEffect(()=>{Je&&Ke&&(Yr!==null&&google.maps.event.removeListener(Yr),qr(google.maps.event.addListener(Je,"click",Ke)))},[Ke]),reactExports.useEffect(()=>{Je&&ze&&(Kr!==null&&google.maps.event.removeListener(Kr),Zr(google.maps.event.addListener(Je,"drag",ze)))},[ze]),reactExports.useEffect(()=>{Je&&We&&(yn!==null&&google.maps.event.removeListener(yn),mn(google.maps.event.addListener(Je,"center_changed",We)))},[Ke]),reactExports.useEffect(()=>{Je&&qe&&(Cn!==null&&google.maps.event.removeListener(Cn),bn(google.maps.event.addListener(Je,"radius_changed",qe)))},[qe]),reactExports.useEffect(()=>{var wn=new google.maps.Circle(_objectSpread$6(_objectSpread$6({},_e||defaultOptions),{},{map:rr}));return typeof Pe=="number"&&wn.setRadius(Pe),typeof Ce<"u"&&wn.setCenter(Ce),typeof Pe=="number"&&wn.setRadius(Pe),typeof Be<"u"&&wn.setVisible(Be),typeof Ie<"u"&&wn.setEditable(Ie),typeof Re<"u"&&wn.setDraggable(Re),je&&pr(google.maps.event.addListener(wn,"dblclick",je)),De&&fr(google.maps.event.addListener(wn,"dragend",De)),Fe&&Rr(google.maps.event.addListener(wn,"dragstart",Fe)),Oe&&mr(google.maps.event.addListener(wn,"mousedown",Oe)),ke&&Ar(google.maps.event.addListener(wn,"mousemove",ke)),Me&&wr(google.maps.event.addListener(wn,"mouseout",Me)),$e&&hr(google.maps.event.addListener(wn,"mouseover",$e)),He&&Pr(google.maps.event.addListener(wn,"mouseup",He)),Qe&&Or(google.maps.event.addListener(wn,"rightclick",Qe)),Ke&&qr(google.maps.event.addListener(wn,"click",Ke)),ze&&Zr(google.maps.event.addListener(wn,"drag",ze)),We&&mn(google.maps.event.addListener(wn,"center_changed",We)),qe&&bn(google.maps.event.addListener(wn,"radius_changed",qe)),er(wn),Ye&&Ye(wn),()=>{or!==null&&google.maps.event.removeListener(or),ar!==null&&google.maps.event.removeListener(ar),gr!==null&&google.maps.event.removeListener(gr),Ir!==null&&google.maps.event.removeListener(Ir),Er!==null&&google.maps.event.removeListener(Er),br!==null&&google.maps.event.removeListener(br),jr!==null&&google.maps.event.removeListener(jr),_r!==null&&google.maps.event.removeListener(_r),Cr!==null&&google.maps.event.removeListener(Cr),Yr!==null&&google.maps.event.removeListener(Yr),yn!==null&&google.maps.event.removeListener(yn),Cn!==null&&google.maps.event.removeListener(Cn),Xe&&Xe(wn),wn.setMap(null)}},[]),null}reactExports.memo(CircleFunctional);class Circle extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{circle:null}),_defineProperty(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var _e=new google.maps.Circle(_objectSpread$6(_objectSpread$6({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$8,eventMap:eventMap$8,prevProps:{},nextProps:this.props,instance:_e}),this.setState(function(){return{circle:_e}},this.setCircleCallback)}componentDidUpdate(_e){this.state.circle!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$8,eventMap:eventMap$8,prevProps:_e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var _e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),unregisterEvents(this.registeredEvents),(_e=this.state.circle)===null||_e===void 0||_e.setMap(null)}}render(){return null}}_defineProperty(Circle,"contextType",MapContext);function ownKeys$5(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$5(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$5(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$5(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}var eventMap$7={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},updaterMap$7={add(Ee,_e){Ee.add(_e)},addgeojson(Ee,_e,Ce){Ee.addGeoJson(_e,Ce)},contains(Ee,_e){Ee.contains(_e)},foreach(Ee,_e){Ee.forEach(_e)},loadgeojson(Ee,_e,Ce,Pe){Ee.loadGeoJson(_e,Ce,Pe)},overridestyle(Ee,_e,Ce){Ee.overrideStyle(_e,Ce)},remove(Ee,_e){Ee.remove(_e)},revertstyle(Ee,_e){Ee.revertStyle(_e)},controlposition(Ee,_e){Ee.setControlPosition(_e)},controls(Ee,_e){Ee.setControls(_e)},drawingmode(Ee,_e){Ee.setDrawingMode(_e)},map(Ee,_e){Ee.setMap(_e)},style(Ee,_e){Ee.setStyle(_e)},togeojson(Ee,_e){Ee.toGeoJson(_e)}};function DataFunctional(Ee){var{options:_e,onClick:Ce,onDblClick:Pe,onMouseDown:Re,onMouseMove:Ie,onMouseOut:Be,onMouseOver:je,onMouseUp:De,onRightClick:Fe,onAddFeature:Oe,onRemoveFeature:ke,onRemoveProperty:Me,onSetGeometry:$e,onSetProperty:He,onLoad:Qe,onUnmount:Ke}=Ee,ze=reactExports.useContext(MapContext),[We,qe]=reactExports.useState(null),[Ye,Xe]=reactExports.useState(null),[rr,Je]=reactExports.useState(null),[er,or]=reactExports.useState(null),[pr,ar]=reactExports.useState(null),[fr,gr]=reactExports.useState(null),[Rr,Ir]=reactExports.useState(null),[mr,Er]=reactExports.useState(null),[Ar,br]=reactExports.useState(null),[wr,jr]=reactExports.useState(null),[hr,_r]=reactExports.useState(null),[Pr,Cr]=reactExports.useState(null),[Or,Yr]=reactExports.useState(null),[qr,Kr]=reactExports.useState(null);return reactExports.useEffect(()=>{We!==null&&We.setMap(ze)},[ze]),reactExports.useEffect(()=>{We&&Pe&&(Ye!==null&&google.maps.event.removeListener(Ye),Xe(google.maps.event.addListener(We,"dblclick",Pe)))},[Pe]),reactExports.useEffect(()=>{We&&Re&&(rr!==null&&google.maps.event.removeListener(rr),Je(google.maps.event.addListener(We,"mousedown",Re)))},[Re]),reactExports.useEffect(()=>{We&&Ie&&(er!==null&&google.maps.event.removeListener(er),or(google.maps.event.addListener(We,"mousemove",Ie)))},[Ie]),reactExports.useEffect(()=>{We&&Be&&(pr!==null&&google.maps.event.removeListener(pr),ar(google.maps.event.addListener(We,"mouseout",Be)))},[Be]),reactExports.useEffect(()=>{We&&je&&(fr!==null&&google.maps.event.removeListener(fr),gr(google.maps.event.addListener(We,"mouseover",je)))},[je]),reactExports.useEffect(()=>{We&&De&&(Rr!==null&&google.maps.event.removeListener(Rr),Ir(google.maps.event.addListener(We,"mouseup",De)))},[De]),reactExports.useEffect(()=>{We&&Fe&&(mr!==null&&google.maps.event.removeListener(mr),Er(google.maps.event.addListener(We,"rightclick",Fe)))},[Fe]),reactExports.useEffect(()=>{We&&Ce&&(Ar!==null&&google.maps.event.removeListener(Ar),br(google.maps.event.addListener(We,"click",Ce)))},[Ce]),reactExports.useEffect(()=>{We&&Oe&&(wr!==null&&google.maps.event.removeListener(wr),jr(google.maps.event.addListener(We,"addfeature",Oe)))},[Oe]),reactExports.useEffect(()=>{We&&ke&&(hr!==null&&google.maps.event.removeListener(hr),_r(google.maps.event.addListener(We,"removefeature",ke)))},[ke]),reactExports.useEffect(()=>{We&&Me&&(Pr!==null&&google.maps.event.removeListener(Pr),Cr(google.maps.event.addListener(We,"removeproperty",Me)))},[Me]),reactExports.useEffect(()=>{We&&$e&&(Or!==null&&google.maps.event.removeListener(Or),Yr(google.maps.event.addListener(We,"setgeometry",$e)))},[$e]),reactExports.useEffect(()=>{We&&He&&(qr!==null&&google.maps.event.removeListener(qr),Kr(google.maps.event.addListener(We,"setproperty",He)))},[He]),reactExports.useEffect(()=>{if(ze!==null){var Zr=new google.maps.Data(_objectSpread$5(_objectSpread$5({},_e),{},{map:ze}));Pe&&Xe(google.maps.event.addListener(Zr,"dblclick",Pe)),Re&&Je(google.maps.event.addListener(Zr,"mousedown",Re)),Ie&&or(google.maps.event.addListener(Zr,"mousemove",Ie)),Be&&ar(google.maps.event.addListener(Zr,"mouseout",Be)),je&&gr(google.maps.event.addListener(Zr,"mouseover",je)),De&&Ir(google.maps.event.addListener(Zr,"mouseup",De)),Fe&&Er(google.maps.event.addListener(Zr,"rightclick",Fe)),Ce&&br(google.maps.event.addListener(Zr,"click",Ce)),Oe&&jr(google.maps.event.addListener(Zr,"addfeature",Oe)),ke&&_r(google.maps.event.addListener(Zr,"removefeature",ke)),Me&&Cr(google.maps.event.addListener(Zr,"removeproperty",Me)),$e&&Yr(google.maps.event.addListener(Zr,"setgeometry",$e)),He&&Kr(google.maps.event.addListener(Zr,"setproperty",He)),qe(Zr),Qe&&Qe(Zr)}return()=>{We&&(Ye!==null&&google.maps.event.removeListener(Ye),rr!==null&&google.maps.event.removeListener(rr),er!==null&&google.maps.event.removeListener(er),pr!==null&&google.maps.event.removeListener(pr),fr!==null&&google.maps.event.removeListener(fr),Rr!==null&&google.maps.event.removeListener(Rr),mr!==null&&google.maps.event.removeListener(mr),Ar!==null&&google.maps.event.removeListener(Ar),wr!==null&&google.maps.event.removeListener(wr),hr!==null&&google.maps.event.removeListener(hr),Pr!==null&&google.maps.event.removeListener(Pr),Or!==null&&google.maps.event.removeListener(Or),qr!==null&&google.maps.event.removeListener(qr),Ke&&Ke(We),We.setMap(null))}},[]),null}reactExports.memo(DataFunctional);class Data extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{data:null}),_defineProperty(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var _e=new google.maps.Data(_objectSpread$5(_objectSpread$5({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$7,eventMap:eventMap$7,prevProps:{},nextProps:this.props,instance:_e}),this.setState(()=>({data:_e}),this.setDataCallback)}}componentDidUpdate(_e){this.state.data!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$7,eventMap:eventMap$7,prevProps:_e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),unregisterEvents(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}_defineProperty(Data,"contextType",MapContext);function ownKeys$4(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$4(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$4(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$4(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}var eventMap$6={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},updaterMap$6={options(Ee,_e){Ee.setOptions(_e)},url(Ee,_e){Ee.setUrl(_e)},zIndex(Ee,_e){Ee.setZIndex(_e)}};class KmlLayer extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{kmlLayer:null}),_defineProperty(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var _e=new google.maps.KmlLayer(_objectSpread$4(_objectSpread$4({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$6,eventMap:eventMap$6,prevProps:{},nextProps:this.props,instance:_e}),this.setState(function(){return{kmlLayer:_e}},this.setKmlLayerCallback)}componentDidUpdate(_e){this.state.kmlLayer!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$6,eventMap:eventMap$6,prevProps:_e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),unregisterEvents(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}_defineProperty(KmlLayer,"contextType",MapContext);function getOffsetOverride(Ee,_e){return typeof _e=="function"?_e(Ee.offsetWidth,Ee.offsetHeight):{x:0,y:0}}function createLatLng(Ee,_e){return new _e(Ee.lat,Ee.lng)}function createLatLngBounds(Ee,_e){return new _e(new google.maps.LatLng(Ee.ne.lat,Ee.ne.lng),new google.maps.LatLng(Ee.sw.lat,Ee.sw.lng))}function ensureOfType(Ee,_e,Ce){return Ee instanceof _e?Ee:Ce(Ee,_e)}function ensureOfTypeBounds(Ee,_e,Ce){return Ee instanceof _e?Ee:Ce(Ee,_e)}function getLayoutStylesByBounds(Ee,_e,Ce){var Pe=Ee&&Ee.fromLatLngToDivPixel(Ce.getNorthEast()),Re=Ee&&Ee.fromLatLngToDivPixel(Ce.getSouthWest());return Pe&&Re?{left:"".concat(Re.x+_e.x,"px"),top:"".concat(Pe.y+_e.y,"px"),width:"".concat(Pe.x-Re.x-_e.x,"px"),height:"".concat(Re.y-Pe.y-_e.y,"px")}:{left:"-9999px",top:"-9999px"}}function getLayoutStylesByPosition(Ee,_e,Ce){var Pe=Ee&&Ee.fromLatLngToDivPixel(Ce);if(Pe){var{x:Re,y:Ie}=Pe;return{left:"".concat(Re+_e.x,"px"),top:"".concat(Ie+_e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function getLayoutStyles(Ee,_e,Ce,Pe){return Ce!==void 0?getLayoutStylesByBounds(Ee,_e,ensureOfTypeBounds(Ce,google.maps.LatLngBounds,createLatLngBounds)):getLayoutStylesByPosition(Ee,_e,ensureOfType(Pe,google.maps.LatLng,createLatLng))}function arePositionsEqual(Ee,_e){return Ee.left===_e.left&&Ee.top===_e.top&&Ee.width===_e.height&&Ee.height===_e.height}function ownKeys$3(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$3(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$3(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$3(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function createOverlay(Ee,_e,Ce,Pe,Re){class Ie extends google.maps.OverlayView{constructor(je,De,Fe,Oe){super(),this.container=je,this.pane=De,this.position=Fe,this.bounds=Oe}onAdd(){var je,De=(je=this.getPanes())===null||je===void 0?void 0:je[this.pane];De?.appendChild(this.container)}draw(){var je=this.getProjection(),De=_objectSpread$3({},this.container?getOffsetOverride(this.container,Re):{x:0,y:0}),Fe=getLayoutStyles(je,De,this.bounds,this.position);for(var[Oe,ke]of Object.entries(Fe))this.container.style[Oe]=ke}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new Ie(Ee,_e,Ce,Pe)}function ownKeys$2(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$2(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$2(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$2(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}function convertToLatLngString(Ee){if(!Ee)return"";var _e=Ee instanceof google.maps.LatLng?Ee:new google.maps.LatLng(Ee.lat,Ee.lng);return _e+""}function convertToLatLngBoundsString(Ee){if(!Ee)return"";var _e=Ee instanceof google.maps.LatLngBounds?Ee:new google.maps.LatLngBounds(new google.maps.LatLng(Ee.south,Ee.east),new google.maps.LatLng(Ee.north,Ee.west));return _e+""}function OverlayViewFunctional(Ee){var{position:_e,bounds:Ce,mapPaneName:Pe,zIndex:Re,onLoad:Ie,onUnmount:Be,getPixelPositionOffset:je,children:De}=Ee,Fe=reactExports.useContext(MapContext),Oe=reactExports.useMemo(()=>{var Me=document.createElement("div");return Me.style.position="absolute",Me},[]),ke=reactExports.useMemo(()=>createOverlay(Oe,Pe,_e,Ce,je),[Oe,Pe,_e,Ce]);return reactExports.useEffect(()=>(Ie?.(ke),ke?.setMap(Fe),()=>{Be?.(ke),ke?.setMap(null)}),[Fe,ke]),reactExports.useEffect(()=>{Oe.style.zIndex="".concat(Re)},[Re,Oe]),reactDomExports.createPortal(De,Oe)}reactExports.memo(OverlayViewFunctional);class OverlayView extends reactExports.PureComponent{constructor(_e){super(_e),_defineProperty(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),_defineProperty(this,"updatePane",()=>{var Pe=this.props.mapPaneName,Re=this.overlayView.getPanes();invariant(!!Pe,"OverlayView requires props.mapPaneName but got %s",Pe),Re?this.setState({paneEl:Re[Pe]}):this.setState({paneEl:null})}),_defineProperty(this,"onAdd",()=>{var Pe,Re;this.updatePane(),(Pe=(Re=this.props).onLoad)===null||Pe===void 0||Pe.call(Re,this.overlayView)}),_defineProperty(this,"onPositionElement",()=>{var Pe=this.overlayView.getProjection(),Re=_objectSpread$2({x:0,y:0},this.containerRef.current?getOffsetOverride(this.containerRef.current,this.props.getPixelPositionOffset):{}),Ie=getLayoutStyles(Pe,Re,this.props.bounds,this.props.position);if(!arePositionsEqual(Ie,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var Be,je,De,Fe;this.setState({containerStyle:{top:(Be=Ie.top)!==null&&Be!==void 0?Be:0,left:(je=Ie.left)!==null&&je!==void 0?je:0,width:(De=Ie.width)!==null&&De!==void 0?De:0,height:(Fe=Ie.height)!==null&&Fe!==void 0?Fe:0,position:"absolute"}})}}),_defineProperty(this,"draw",()=>{this.onPositionElement()}),_defineProperty(this,"onRemove",()=>{var Pe,Re;this.setState(()=>({paneEl:null})),(Pe=(Re=this.props).onUnmount)===null||Pe===void 0||Pe.call(Re,this.overlayView)}),this.containerRef=reactExports.createRef();var Ce=new google.maps.OverlayView;Ce.onAdd=this.onAdd,Ce.draw=this.draw,Ce.onRemove=this.onRemove,this.overlayView=Ce}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(_e){var Ce=convertToLatLngString(_e.position),Pe=convertToLatLngString(this.props.position),Re=convertToLatLngBoundsString(_e.bounds),Ie=convertToLatLngBoundsString(this.props.bounds);(Ce!==Pe||Re!==Ie)&&this.overlayView.draw(),_e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var _e=this.state.paneEl;return _e?reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:reactExports.Children.only(this.props.children)}),_e):null}}_defineProperty(OverlayView,"FLOAT_PANE","floatPane");_defineProperty(OverlayView,"MAP_PANE","mapPane");_defineProperty(OverlayView,"MARKER_LAYER","markerLayer");_defineProperty(OverlayView,"OVERLAY_LAYER","overlayLayer");_defineProperty(OverlayView,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");_defineProperty(OverlayView,"contextType",MapContext);function noop(){}function ownKeys$1(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread$1(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$1(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys$1(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}var eventMap$5={onDblClick:"dblclick",onClick:"click"},updaterMap$5={opacity(Ee,_e){Ee.setOpacity(_e)}};function GroundOverlayFunctional(Ee){var{url:_e,bounds:Ce,options:Pe,visible:Re}=Ee,Ie=reactExports.useContext(MapContext),Be=new google.maps.LatLngBounds(new google.maps.LatLng(Ce.south,Ce.west),new google.maps.LatLng(Ce.north,Ce.east)),je=reactExports.useMemo(()=>new google.maps.GroundOverlay(_e,Be,Pe),[]);return reactExports.useEffect(()=>{je!==null&&je.setMap(Ie)},[Ie]),reactExports.useEffect(()=>{typeof _e<"u"&&je!==null&&(je.set("url",_e),je.setMap(Ie))},[je,_e]),reactExports.useEffect(()=>{typeof Re<"u"&&je!==null&&je.setOpacity(Re?1:0)},[je,Re]),reactExports.useEffect(()=>{var De=new google.maps.LatLngBounds(new google.maps.LatLng(Ce.south,Ce.west),new google.maps.LatLng(Ce.north,Ce.east));typeof Ce<"u"&&je!==null&&(je.set("bounds",De),je.setMap(Ie))},[je,Ce]),null}reactExports.memo(GroundOverlayFunctional);class GroundOverlay extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{groundOverlay:null}),_defineProperty(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){invariant(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var _e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,_objectSpread$1(_objectSpread$1({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$5,eventMap:eventMap$5,prevProps:{},nextProps:this.props,instance:_e}),this.setState(function(){return{groundOverlay:_e}},this.setGroundOverlayCallback)}componentDidUpdate(_e){this.state.groundOverlay!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$5,eventMap:eventMap$5,prevProps:_e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}_defineProperty(GroundOverlay,"defaultProps",{onLoad:noop});_defineProperty(GroundOverlay,"contextType",MapContext);function ownKeys(Ee,_e){var Ce=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(Ee);_e&&(Pe=Pe.filter(function(Re){return Object.getOwnPropertyDescriptor(Ee,Re).enumerable})),Ce.push.apply(Ce,Pe)}return Ce}function _objectSpread(Ee){for(var _e=1;_e<arguments.length;_e++){var Ce=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(Ce),!0).forEach(function(Pe){_defineProperty(Ee,Pe,Ce[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ce)):ownKeys(Object(Ce)).forEach(function(Pe){Object.defineProperty(Ee,Pe,Object.getOwnPropertyDescriptor(Ce,Pe))})}return Ee}var eventMap$4={},updaterMap$4={data(Ee,_e){Ee.setData(_e)},map(Ee,_e){Ee.setMap(_e)},options(Ee,_e){Ee.setOptions(_e)}};function HeatmapLayerFunctional(Ee){var{data:_e,onLoad:Ce,onUnmount:Pe,options:Re}=Ee,Ie=reactExports.useContext(MapContext),[Be,je]=reactExports.useState(null);return reactExports.useEffect(()=>{google.maps.visualization||invariant(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),reactExports.useEffect(()=>{invariant(!!_e,"data property is required in HeatmapLayer %s",_e)},[_e]),reactExports.useEffect(()=>{Be!==null&&Be.setMap(Ie)},[Ie]),reactExports.useEffect(()=>{Re&&Be!==null&&Be.setOptions(Re)},[Be,Re]),reactExports.useEffect(()=>{var De=new google.maps.visualization.HeatmapLayer(_objectSpread(_objectSpread({},Re),{},{data:_e,map:Ie}));return je(De),Ce&&Ce(De),()=>{Be!==null&&(Pe&&Pe(Be),Be.setMap(null))}},[]),null}reactExports.memo(HeatmapLayerFunctional);class HeatmapLayer extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{heatmapLayer:null}),_defineProperty(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){invariant(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),invariant(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var _e=new google.maps.visualization.HeatmapLayer(_objectSpread(_objectSpread({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$4,eventMap:eventMap$4,prevProps:{},nextProps:this.props,instance:_e}),this.setState(function(){return{heatmapLayer:_e}},this.setHeatmapLayerCallback)}componentDidUpdate(_e){unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$4,eventMap:eventMap$4,prevProps:_e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),unregisterEvents(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}_defineProperty(HeatmapLayer,"contextType",MapContext);var eventMap$3={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},updaterMap$3={register(Ee,_e,Ce){Ee.registerPanoProvider(_e,Ce)},links(Ee,_e){Ee.setLinks(_e)},motionTracking(Ee,_e){Ee.setMotionTracking(_e)},options(Ee,_e){Ee.setOptions(_e)},pano(Ee,_e){Ee.setPano(_e)},position(Ee,_e){Ee.setPosition(_e)},pov(Ee,_e){Ee.setPov(_e)},visible(Ee,_e){Ee.setVisible(_e)},zoom(Ee,_e){Ee.setZoom(_e)}};class StreetViewPanorama extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{streetViewPanorama:null}),_defineProperty(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var _e,Ce,Pe=(_e=(Ce=this.context)===null||Ce===void 0?void 0:Ce.getStreetView())!==null&&_e!==void 0?_e:null;this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$3,eventMap:eventMap$3,prevProps:{},nextProps:this.props,instance:Pe}),this.setState(()=>({streetViewPanorama:Pe}),this.setStreetViewPanoramaCallback)}componentDidUpdate(_e){this.state.streetViewPanorama!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$3,eventMap:eventMap$3,prevProps:_e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),unregisterEvents(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}_defineProperty(StreetViewPanorama,"contextType",MapContext);class StreetViewService extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"state",{streetViewService:null}),_defineProperty(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var _e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:_e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}_defineProperty(StreetViewService,"contextType",MapContext);var eventMap$2={onDirectionsChanged:"directions_changed"},updaterMap$2={directions(Ee,_e){Ee.setDirections(_e)},map(Ee,_e){Ee.setMap(_e)},options(Ee,_e){Ee.setOptions(_e)},panel(Ee,_e){Ee.setPanel(_e)},routeIndex(Ee,_e){Ee.setRouteIndex(_e)}};class DirectionsRenderer extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{directionsRenderer:null}),_defineProperty(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var _e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$2,eventMap:eventMap$2,prevProps:{},nextProps:this.props,instance:_e}),this.setState(function(){return{directionsRenderer:_e}},this.setDirectionsRendererCallback)}componentDidUpdate(_e){this.state.directionsRenderer!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$2,eventMap:eventMap$2,prevProps:_e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),unregisterEvents(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}_defineProperty(DirectionsRenderer,"contextType",MapContext);var eventMap$1={onPlacesChanged:"places_changed"},updaterMap$1={bounds(Ee,_e){Ee.setBounds(_e)}};class StandaloneSearchBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"containerElement",reactExports.createRef()),_defineProperty(this,"state",{searchBox:null}),_defineProperty(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(invariant(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var _e=this.containerElement.current.querySelector("input");if(_e!==null){var Ce=new google.maps.places.SearchBox(_e,this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$1,eventMap:eventMap$1,prevProps:{},nextProps:this.props,instance:Ce}),this.setState(function(){return{searchBox:Ce}},this.setSearchBoxCallback)}}}componentDidUpdate(_e){this.state.searchBox!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$1,eventMap:eventMap$1,prevProps:_e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),unregisterEvents(this.registeredEvents))}render(){return jsxRuntimeExports.jsx("div",{ref:this.containerElement,children:reactExports.Children.only(this.props.children)})}}_defineProperty(StandaloneSearchBox,"contextType",MapContext);var eventMap={onPlaceChanged:"place_changed"},updaterMap={bounds(Ee,_e){Ee.setBounds(_e)},restrictions(Ee,_e){Ee.setComponentRestrictions(_e)},fields(Ee,_e){Ee.setFields(_e)},options(Ee,_e){Ee.setOptions(_e)},types(Ee,_e){Ee.setTypes(_e)}};class Autocomplete extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"containerElement",reactExports.createRef()),_defineProperty(this,"state",{autocomplete:null}),_defineProperty(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var _e;invariant(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var Ce=(_e=this.containerElement.current)===null||_e===void 0?void 0:_e.querySelector("input");if(Ce){var Pe=new google.maps.places.Autocomplete(Ce,this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap,eventMap,prevProps:{},nextProps:this.props,instance:Pe}),this.setState(()=>({autocomplete:Pe}),this.setAutocompleteCallback)}}componentDidUpdate(_e){unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap,eventMap,prevProps:_e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&unregisterEvents(this.registeredEvents)}render(){return jsxRuntimeExports.jsx("div",{ref:this.containerElement,className:this.props.className,children:reactExports.Children.only(this.props.children)})}}_defineProperty(Autocomplete,"defaultProps",{className:""});_defineProperty(Autocomplete,"contextType",MapContext);const auth$1=getAuth(app),db$1=getFirestore(app),libraries=["places"],Register=({role:Ee="retailer"})=>{const[_e,Ce]=reactExports.useState({businessName:"",ownerName:"",email:"",password:"",phone:"",city:"",address:"",state:"",country:"",zipcode:"",role:Ee}),[Pe,Re]=reactExports.useState(""),[Ie,Be]=reactExports.useState(""),je=reactExports.useRef(null),De=()=>{const ke=je.current?.getPlace();if(!ke||!ke.address_components)return;const Me={address:ke.formatted_address||"",city:"",state:"",country:"",zipcode:""};for(const $e of ke.address_components){const He=$e.types;He.includes("locality")&&(Me.city=$e.long_name),He.includes("administrative_area_level_1")&&(Me.state=$e.long_name),He.includes("country")&&(Me.country=$e.long_name),He.includes("postal_code")&&(Me.zipcode=$e.long_name)}Ce($e=>({...$e,...Me}))},Fe=ke=>{Ce(Me=>({...Me,[ke.target.name]:ke.target.value}))},Oe=async ke=>{ke.preventDefault(),Re(""),Be("");try{const $e=(await createUserWithEmailAndPassword(auth$1,_e.email,_e.password)).user.uid;await setDoc(doc(db$1,"businesses",$e),{..._e,createdAt:new Date().toISOString()}),Be(" Registered successfully!")}catch(Me){Re(Me.message)}};return jsxRuntimeExports.jsx(LoadScript,{googleMapsApiKey:"AIzaSyC2SC9SufL8OJGCrulZWpkU3yv4EZZCOPs",libraries,children:jsxRuntimeExports.jsxs("div",{className:"p-8 bg-white/10 backdrop-blur-md text-white rounded-2xl shadow-2xl w-full max-w-xl border border-white/20 animate-fadeInUp",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold mb-6 text-center",children:["Register as ",Ee.charAt(0).toUpperCase()+Ee.slice(1)]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-center text-cyan-300 mb-2",children:["Welcome to ",jsxRuntimeExports.jsx("span",{className:"font-bold text-white",children:"FLYP"}),"  India's Smart Supply Chain Platform"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-center text-cyan-300 mb-2",children:["Youre joining ",jsxRuntimeExports.jsx("strong",{children:"FLYP"})," as a ",jsxRuntimeExports.jsx("strong",{children:Ee.charAt(0).toUpperCase()+Ee.slice(1)})]}),Pe&&jsxRuntimeExports.jsx("div",{className:"text-red-400 mb-3 text-sm",children:Pe}),Ie&&jsxRuntimeExports.jsx("div",{className:"text-green-400 mb-3 text-sm",children:Ie}),jsxRuntimeExports.jsxs("form",{onSubmit:Oe,className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"businessName",placeholder:"Business Name",value:_e.businessName,onChange:Fe,required:!0,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),jsxRuntimeExports.jsx("input",{type:"text",name:"ownerName",placeholder:"Owner Name",value:_e.ownerName,onChange:Fe,required:!0,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",placeholder:"Email",value:_e.email,onChange:Fe,required:!0,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),jsxRuntimeExports.jsx("input",{type:"password",name:"password",placeholder:"Password",value:_e.password,onChange:Fe,required:!0,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),jsxRuntimeExports.jsx("input",{type:"text",name:"phone",placeholder:"Phone Number",value:_e.phone,onChange:Fe,required:!0,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),jsxRuntimeExports.jsx("input",{type:"text",name:"city",placeholder:"City",value:_e.city,onChange:Fe,required:!0,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),jsxRuntimeExports.jsx(Autocomplete,{onLoad:ke=>je.current=ke,onPlaceChanged:De,children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search Address",className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"})}),jsxRuntimeExports.jsx("input",{type:"text",name:"address",placeholder:"Address",value:_e.address,onChange:Fe,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),jsxRuntimeExports.jsx("input",{type:"text",name:"city",placeholder:"City",value:_e.city,onChange:Fe,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),jsxRuntimeExports.jsx("input",{type:"text",name:"state",placeholder:"State",value:_e.state,onChange:Fe,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),jsxRuntimeExports.jsx("input",{type:"text",name:"zipcode",placeholder:"Zipcode",value:_e.zipcode,onChange:Fe,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),jsxRuntimeExports.jsx("input",{type:"text",name:"country",placeholder:"Country",value:_e.country,onChange:Fe,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),jsxRuntimeExports.jsx("input",{type:"text",name:"role",value:Ee.charAt(0).toUpperCase()+Ee.slice(1),disabled:!0,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none transition-all duration-300 cursor-not-allowed"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-blue-500 hover:to-cyan-500 transition-all duration-300 text-white py-2 px-4 rounded-xl mt-6 font-semibold tracking-wide shadow-md",children:"Register"})]})]})})},auth=getAuth(app),db=getFirestore(app),Login=()=>{const Ee=useNavigate(),[_e,Ce]=reactExports.useState({email:"",password:""}),[Pe,Re]=reactExports.useState(""),Ie=je=>{Ce(De=>({...De,[je.target.name]:je.target.value}))},Be=async je=>{je.preventDefault(),Re("");try{const Fe=(await signInWithEmailAndPassword(auth,_e.email,_e.password)).user,Oe=await getDoc(doc(db,"businesses",Fe.uid));if(!Oe.exists()){Re(" User data not found in Firestore.");return}const Me=Oe.data().role;Ee(Me==="retailer"?"/dashboard/inventory":Me==="distributor"?"/dashboard/billing":"/dashboard/inventory")}catch(De){Re(De.message)}};return jsxRuntimeExports.jsxs("div",{className:"p-8 bg-slate-900 text-white rounded-2xl shadow-xl w-full max-w-xl border border-slate-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Welcome Back"}),Pe&&jsxRuntimeExports.jsx("div",{className:"text-red-400 mb-3 text-sm",children:Pe}),jsxRuntimeExports.jsxs("form",{onSubmit:Be,className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"email",name:"email",placeholder:"Email",value:_e.email,onChange:Ie,required:!0,className:"w-full px-4 py-2 rounded bg-slate-800 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),jsxRuntimeExports.jsx("input",{type:"password",name:"password",placeholder:"Password",value:_e.password,onChange:Ie,required:!0,className:"w-full px-4 py-2 rounded bg-slate-800 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 transition-all duration-300 text-white py-2 px-4 rounded-lg mt-2",children:"Sign In"})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-right",children:jsxRuntimeExports.jsx("button",{onClick:async()=>{await signOut(auth),Ee("/")},className:"text-sm text-red-400 hover:text-red-600 underline transition",children:"Sign Out"})})]})},AuthPage=()=>{const{user:Ee}=reactExports.useContext(AuthContext),_e=useNavigate();useLocation();const[Ce]=useSearchParams(),Pe=Ce.get("type"),[Re,Ie]=reactExports.useState(""),[Be,je]=reactExports.useState(!0);if(reactExports.useEffect(()=>{if(!Pe){_e("/auth?type=login",{replace:!0});return}},[Pe,_e]),reactExports.useEffect(()=>{Pe==="login"?(async()=>{if(!Ee){je(!1);return}try{const Oe=doc(db$2,"businesses",Ee.uid),ke=await getDoc(Oe);if(ke.exists()){const $e=ke.data().role?.toLowerCase();_e($e==="retailer"?"/dashboard":$e==="distributor"?"/distributor-dashboard":$e==="productowner"||$e==="product owner"?"/product-owner-dashboard":"/")}else console.warn("No user profile found in Firestore."),_e("/")}catch(Oe){console.error("Error fetching user role:",Oe),_e("/")}finally{je(!1)}})():je(!1)},[Ee,Pe]),Be)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center",children:jsxRuntimeExports.jsx("p",{className:"text-white text-lg animate-pulse",children:"Loading..."})});const De=Fe=>{Ie(Fe)};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center",children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Pe==="register"&&!Re&&jsxRuntimeExports.jsxs("div",{className:"flex w-full min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white",children:[jsxRuntimeExports.jsxs("div",{className:"w-1/2 flex flex-col justify-center items-center bg-gradient-to-br from-yellow-100 to-yellow-200 text-black p-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold mb-4 text-left w-full",children:"Why Choose FLYP?"}),jsxRuntimeExports.jsx("p",{className:"text-lg mb-8 text-left w-full",children:"Empowering Indian Retailers, Distributors, and Product Owners with automated billing, smart inventory, and real-time supply chain dashboards."}),jsxRuntimeExports.jsxs("div",{className:"text-sm italic text-left w-full",children:['"With FLYP, our order processing time dropped by 70%. Now I track my dealers, stock, and invoices in one place."',jsxRuntimeExports.jsx("br",{})," Raghav, Distributor, Pune"]})]}),jsxRuntimeExports.jsx("div",{className:"w-1/2 flex flex-col justify-center items-center p-10",children:jsxRuntimeExports.jsxs("div",{className:"bg-white text-black rounded-2xl shadow-xl p-10 w-full max-w-md animate-fadeIn",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Select Your Role to Register"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{onClick:()=>De("Retailer"),className:"cursor-pointer border-2 border-blue-400 hover:border-blue-500 bg-blue-50 hover:bg-blue-100 rounded-xl p-5 transition-all duration-300 hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("h3",{className:"text-blue-700 font-semibold text-lg",children:"Retailer"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manages product selling to end customers"})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>De("Distributor"),className:"cursor-pointer border-2 border-green-400 hover:border-green-500 bg-green-50 hover:bg-green-100 rounded-xl p-5 transition-all duration-300 hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("h3",{className:"text-green-700 font-semibold text-lg",children:"Distributor"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Supplies inventory to retailers"})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>De("ProductOwner"),className:"cursor-pointer border-2 border-orange-400 hover:border-orange-500 bg-orange-50 hover:bg-orange-100 rounded-xl p-5 transition-all duration-300 hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("h3",{className:"text-orange-700 font-semibold text-lg",children:"Product Owner"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Owns and distributes products to distributors"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-6",children:jsxRuntimeExports.jsx("button",{className:"text-sm text-gray-600 hover:text-white hover:bg-red-500 px-4 py-2 rounded transition-all duration-300",onClick:()=>_e("/"),children:"Cancel"})})]})})]}),Pe==="register"&&Re&&jsxRuntimeExports.jsx("div",{className:"animate-fadeInUp transition-all duration-500",children:jsxRuntimeExports.jsx(Register,{role:Re})}),Pe==="login"&&jsxRuntimeExports.jsx(Login,{})]})})},EmployeeLogin=()=>{const[Ee,_e]=reactExports.useState(""),[Ce,Pe]=reactExports.useState(""),[Re,Ie]=reactExports.useState(""),Be=async()=>{const je=Ee.trim().toUpperCase(),De=Ce.trim(),Fe=Re.trim();if(!je||!De||!Fe){y$2.error("Please fill in all fields");return}try{const Oe=doc(db$2,"employeeIndex",je),ke=await getDoc(Oe);if(!ke.exists()){y$2.error("Invalid FLYP ID");return}const Me=ke.data(),{uid:$e,retailerId:He,email:Qe}=Me;console.log(" Resolved flypId:",je),console.log(" Resolved UID from index:",$e),console.log(" Retailer ID:",He);const ze=(await signInWithEmailAndPassword(auth$2,Qe,Fe)).user.uid;console.log(" Signed in Firebase UID:",ze);const We=doc(db$2,"businesses",He,"employees",ze);console.log(" Fetching employee doc from path:",`businesses/${He}/employees/${ze}`);const qe=await getDoc(We);if(!qe.exists()){y$2.error("Employee not linked to this business");return}const Ye=qe.data();if(Ye.phone!==De){y$2.error("Incorrect phone");return}localStorage.setItem("employeeRole",Ye.role),localStorage.setItem("retailerId",He),localStorage.setItem("employeeUID",ze),await updateDoc(We,{online:!0,lastSeen:serverTimestamp()}),y$2.success(`Welcome ${Ye.role}`),window.location.href="/employee-dashboard"}catch(Oe){console.error("Login error",Oe.message),y$2.error("Login failed")}};return jsxRuntimeExports.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold mb-4",children:"Employee Login"}),jsxRuntimeExports.jsx("input",{className:"border p-2 w-full mb-2",placeholder:"FLYP ID",value:Ee,onChange:je=>_e(je.target.value)}),jsxRuntimeExports.jsx("input",{className:"border p-2 w-full mb-2",placeholder:"Phone Number",value:Ce,onChange:je=>Pe(je.target.value)}),jsxRuntimeExports.jsx("input",{type:"password",className:"border p-2 w-full mb-2",placeholder:"Password",value:Re,onChange:je=>Ie(je.target.value)}),jsxRuntimeExports.jsx("button",{onClick:Be,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Login"})]})},PrivateRoute=({children:Ee})=>{const{user:_e,loading:Ce}=useAuth();return Ce?jsxRuntimeExports.jsx("div",{className:"text-center mt-20 text-gray-500",children:"Loading..."}):_e?Ee:jsxRuntimeExports.jsx(Navigate,{to:"/auth",replace:!0})},App=()=>jsxRuntimeExports.jsxs(AuthProvider,{children:[jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/auth/*",element:jsxRuntimeExports.jsx(AuthPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/employee-login",element:jsxRuntimeExports.jsx(EmployeeLogin,{})}),jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(RetailerDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/distributor-dashboard",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(DistributorDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/product-owner-dashboard",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(ProductOwnerDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/inventory",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Inventory,{})})}),jsxRuntimeExports.jsx(Route,{path:"/billing",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Billing,{})})}),jsxRuntimeExports.jsx(Route,{path:"/invoices",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(AllInvoices,{})})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/auth?type=login",replace:!0})})]}),jsxRuntimeExports.jsx(Lt,{position:"top-right",autoClose:3e3})]});ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(App,{})})})}));export{_typeof$1 as _,commonjsGlobal$2 as c,getDefaultExportFromCjs as g};
