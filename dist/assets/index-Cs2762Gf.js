function _mergeNamespaces(Ce,Re){for(var je=0;je<Re.length;je++){const Be=Re[je];if(typeof Be!="string"&&!Array.isArray(Be)){for(const De in Be)if(De!=="default"&&!(De in Ce)){const Fe=Object.getOwnPropertyDescriptor(Be,De);Fe&&Object.defineProperty(Ce,De,Fe.get?Fe:{enumerable:!0,get:()=>Be[De]})}}}return Object.freeze(Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"}))}(function(){const Re=document.createElement("link").relList;if(Re&&Re.supports&&Re.supports("modulepreload"))return;for(const De of document.querySelectorAll('link[rel="modulepreload"]'))Be(De);new MutationObserver(De=>{for(const Fe of De)if(Fe.type==="childList")for(const Oe of Fe.addedNodes)Oe.tagName==="LINK"&&Oe.rel==="modulepreload"&&Be(Oe)}).observe(document,{childList:!0,subtree:!0});function je(De){const Fe={};return De.integrity&&(Fe.integrity=De.integrity),De.referrerPolicy&&(Fe.referrerPolicy=De.referrerPolicy),De.crossOrigin==="use-credentials"?Fe.credentials="include":De.crossOrigin==="anonymous"?Fe.credentials="omit":Fe.credentials="same-origin",Fe}function Be(De){if(De.ep)return;De.ep=!0;const Fe=je(De);fetch(De.href,Fe)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Ce){return Ce&&Ce.__esModule&&Object.prototype.hasOwnProperty.call(Ce,"default")?Ce.default:Ce}function getAugmentedNamespace(Ce){if(Object.prototype.hasOwnProperty.call(Ce,"__esModule"))return Ce;var Re=Ce.default;if(typeof Re=="function"){var je=function Be(){var De=!1;try{De=this instanceof Be}catch{}return De?Reflect.construct(Re,arguments,this.constructor):Re.apply(this,arguments)};je.prototype=Re.prototype}else je={};return Object.defineProperty(je,"__esModule",{value:!0}),Object.keys(Ce).forEach(function(Be){var De=Object.getOwnPropertyDescriptor(Ce,Be);Object.defineProperty(je,Be,De.get?De:{enumerable:!0,get:function(){return Ce[Be]}})}),je}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var Ce=Symbol.for("react.transitional.element"),Re=Symbol.for("react.fragment");function je(Be,De,Fe){var Oe=null;if(Fe!==void 0&&(Oe=""+Fe),De.key!==void 0&&(Oe=""+De.key),"key"in De){Fe={};for(var ke in De)ke!=="key"&&(Fe[ke]=De[ke])}else Fe=De;return De=Fe.ref,{$$typeof:Ce,type:Be,key:Oe,ref:De!==void 0?De:null,props:Fe}}return reactJsxRuntime_production.Fragment=Re,reactJsxRuntime_production.jsx=je,reactJsxRuntime_production.jsxs=je,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var Ce=Symbol.for("react.transitional.element"),Re=Symbol.for("react.portal"),je=Symbol.for("react.fragment"),Be=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),Fe=Symbol.for("react.consumer"),Oe=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Ue=Symbol.for("react.memo"),$e=Symbol.for("react.lazy"),He=Symbol.iterator;function Qe(Br){return Br===null||typeof Br!="object"?null:(Br=He&&Br[He]||Br["@@iterator"],typeof Br=="function"?Br:null)}var We={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qe=Object.assign,Ke={};function Xe(Br,Lr,yr){this.props=Br,this.context=Lr,this.refs=Ke,this.updater=yr||We}Xe.prototype.isReactComponent={},Xe.prototype.setState=function(Br,Lr){if(typeof Br!="object"&&typeof Br!="function"&&Br!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Br,Lr,"setState")},Xe.prototype.forceUpdate=function(Br){this.updater.enqueueForceUpdate(this,Br,"forceUpdate")};function Ye(){}Ye.prototype=Xe.prototype;function Ze(Br,Lr,yr){this.props=Br,this.context=Lr,this.refs=Ke,this.updater=yr||We}var Je=Ze.prototype=new Ye;Je.constructor=Ze,qe(Je,Xe.prototype),Je.isPureReactComponent=!0;var tr=Array.isArray,rr={H:null,A:null,T:null,S:null,V:null},ar=Object.prototype.hasOwnProperty;function nr(Br,Lr,yr,vr,Tr,Or){return yr=Or.ref,{$$typeof:Ce,type:Br,key:Lr,ref:yr!==void 0?yr:null,props:Or}}function sr(Br,Lr){return nr(Br.type,Lr,void 0,void 0,void 0,Br.props)}function dr(Br){return typeof Br=="object"&&Br!==null&&Br.$$typeof===Ce}function _r(Br){var Lr={"=":"=0",":":"=2"};return"$"+Br.replace(/[=:]/g,function(yr){return Lr[yr]})}var fr=/\/+/g;function or(Br,Lr){return typeof Br=="object"&&Br!==null&&Br.key!=null?_r(""+Br.key):Lr.toString(36)}function Er(){}function Rr(Br){switch(Br.status){case"fulfilled":return Br.value;case"rejected":throw Br.reason;default:switch(typeof Br.status=="string"?Br.then(Er,Er):(Br.status="pending",Br.then(function(Lr){Br.status==="pending"&&(Br.status="fulfilled",Br.value=Lr)},function(Lr){Br.status==="pending"&&(Br.status="rejected",Br.reason=Lr)})),Br.status){case"fulfilled":return Br.value;case"rejected":throw Br.reason}}throw Br}function jr(Br,Lr,yr,vr,Tr){var Or=typeof Br;(Or==="undefined"||Or==="boolean")&&(Br=null);var Nr=!1;if(Br===null)Nr=!0;else switch(Or){case"bigint":case"string":case"number":Nr=!0;break;case"object":switch(Br.$$typeof){case Ce:case Re:Nr=!0;break;case $e:return Nr=Br._init,jr(Nr(Br._payload),Lr,yr,vr,Tr)}}if(Nr)return Tr=Tr(Br),Nr=vr===""?"."+or(Br,0):vr,tr(Tr)?(yr="",Nr!=null&&(yr=Nr.replace(fr,"$&/")+"/"),jr(Tr,Lr,yr,"",function(qr){return qr})):Tr!=null&&(dr(Tr)&&(Tr=sr(Tr,yr+(Tr.key==null||Br&&Br.key===Tr.key?"":(""+Tr.key).replace(fr,"$&/")+"/")+Nr)),Lr.push(Tr)),1;Nr=0;var Hr=vr===""?".":vr+":";if(tr(Br))for(var Wr=0;Wr<Br.length;Wr++)vr=Br[Wr],Or=Hr+or(vr,Wr),Nr+=jr(vr,Lr,yr,Or,Tr);else if(Wr=Qe(Br),typeof Wr=="function")for(Br=Wr.call(Br),Wr=0;!(vr=Br.next()).done;)vr=vr.value,Or=Hr+or(vr,Wr++),Nr+=jr(vr,Lr,yr,Or,Tr);else if(Or==="object"){if(typeof Br.then=="function")return jr(Rr(Br),Lr,yr,vr,Tr);throw Lr=String(Br),Error("Objects are not valid as a React child (found: "+(Lr==="[object Object]"?"object with keys {"+Object.keys(Br).join(", ")+"}":Lr)+"). If you meant to render a collection of children, use an array instead.")}return Nr}function xr(Br,Lr,yr){if(Br==null)return Br;var vr=[],Tr=0;return jr(Br,vr,"","",function(Or){return Lr.call(yr,Or,Tr++)}),vr}function Pr(Br){if(Br._status===-1){var Lr=Br._result;Lr=Lr(),Lr.then(function(yr){(Br._status===0||Br._status===-1)&&(Br._status=1,Br._result=yr)},function(yr){(Br._status===0||Br._status===-1)&&(Br._status=2,Br._result=yr)}),Br._status===-1&&(Br._status=0,Br._result=Lr)}if(Br._status===1)return Br._result.default;throw Br._result}var br=typeof reportError=="function"?reportError:function(Br){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Lr=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Br=="object"&&Br!==null&&typeof Br.message=="string"?String(Br.message):String(Br),error:Br});if(!window.dispatchEvent(Lr))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Br);return}console.error(Br)};function wr(){}return react_production.Children={map:xr,forEach:function(Br,Lr,yr){xr(Br,function(){Lr.apply(this,arguments)},yr)},count:function(Br){var Lr=0;return xr(Br,function(){Lr++}),Lr},toArray:function(Br){return xr(Br,function(Lr){return Lr})||[]},only:function(Br){if(!dr(Br))throw Error("React.Children.only expected to receive a single React element child.");return Br}},react_production.Component=Xe,react_production.Fragment=je,react_production.Profiler=De,react_production.PureComponent=Ze,react_production.StrictMode=Be,react_production.Suspense=Me,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rr,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Br){return rr.H.useMemoCache(Br)}},react_production.cache=function(Br){return function(){return Br.apply(null,arguments)}},react_production.cloneElement=function(Br,Lr,yr){if(Br==null)throw Error("The argument must be a React element, but you passed "+Br+".");var vr=qe({},Br.props),Tr=Br.key,Or=void 0;if(Lr!=null)for(Nr in Lr.ref!==void 0&&(Or=void 0),Lr.key!==void 0&&(Tr=""+Lr.key),Lr)!ar.call(Lr,Nr)||Nr==="key"||Nr==="__self"||Nr==="__source"||Nr==="ref"&&Lr.ref===void 0||(vr[Nr]=Lr[Nr]);var Nr=arguments.length-2;if(Nr===1)vr.children=yr;else if(1<Nr){for(var Hr=Array(Nr),Wr=0;Wr<Nr;Wr++)Hr[Wr]=arguments[Wr+2];vr.children=Hr}return nr(Br.type,Tr,void 0,void 0,Or,vr)},react_production.createContext=function(Br){return Br={$$typeof:Oe,_currentValue:Br,_currentValue2:Br,_threadCount:0,Provider:null,Consumer:null},Br.Provider=Br,Br.Consumer={$$typeof:Fe,_context:Br},Br},react_production.createElement=function(Br,Lr,yr){var vr,Tr={},Or=null;if(Lr!=null)for(vr in Lr.key!==void 0&&(Or=""+Lr.key),Lr)ar.call(Lr,vr)&&vr!=="key"&&vr!=="__self"&&vr!=="__source"&&(Tr[vr]=Lr[vr]);var Nr=arguments.length-2;if(Nr===1)Tr.children=yr;else if(1<Nr){for(var Hr=Array(Nr),Wr=0;Wr<Nr;Wr++)Hr[Wr]=arguments[Wr+2];Tr.children=Hr}if(Br&&Br.defaultProps)for(vr in Nr=Br.defaultProps,Nr)Tr[vr]===void 0&&(Tr[vr]=Nr[vr]);return nr(Br,Or,void 0,void 0,null,Tr)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Br){return{$$typeof:ke,render:Br}},react_production.isValidElement=dr,react_production.lazy=function(Br){return{$$typeof:$e,_payload:{_status:-1,_result:Br},_init:Pr}},react_production.memo=function(Br,Lr){return{$$typeof:Ue,type:Br,compare:Lr===void 0?null:Lr}},react_production.startTransition=function(Br){var Lr=rr.T,yr={};rr.T=yr;try{var vr=Br(),Tr=rr.S;Tr!==null&&Tr(yr,vr),typeof vr=="object"&&vr!==null&&typeof vr.then=="function"&&vr.then(wr,br)}catch(Or){br(Or)}finally{rr.T=Lr}},react_production.unstable_useCacheRefresh=function(){return rr.H.useCacheRefresh()},react_production.use=function(Br){return rr.H.use(Br)},react_production.useActionState=function(Br,Lr,yr){return rr.H.useActionState(Br,Lr,yr)},react_production.useCallback=function(Br,Lr){return rr.H.useCallback(Br,Lr)},react_production.useContext=function(Br){return rr.H.useContext(Br)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Br,Lr){return rr.H.useDeferredValue(Br,Lr)},react_production.useEffect=function(Br,Lr,yr){var vr=rr.H;if(typeof yr=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return vr.useEffect(Br,Lr)},react_production.useId=function(){return rr.H.useId()},react_production.useImperativeHandle=function(Br,Lr,yr){return rr.H.useImperativeHandle(Br,Lr,yr)},react_production.useInsertionEffect=function(Br,Lr){return rr.H.useInsertionEffect(Br,Lr)},react_production.useLayoutEffect=function(Br,Lr){return rr.H.useLayoutEffect(Br,Lr)},react_production.useMemo=function(Br,Lr){return rr.H.useMemo(Br,Lr)},react_production.useOptimistic=function(Br,Lr){return rr.H.useOptimistic(Br,Lr)},react_production.useReducer=function(Br,Lr,yr){return rr.H.useReducer(Br,Lr,yr)},react_production.useRef=function(Br){return rr.H.useRef(Br)},react_production.useState=function(Br){return rr.H.useState(Br)},react_production.useSyncExternalStore=function(Br,Lr,yr){return rr.H.useSyncExternalStore(Br,Lr,yr)},react_production.useTransition=function(){return rr.H.useTransition()},react_production.version="19.1.1",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(Ce){function Re(xr,Pr){var br=xr.length;xr.push(Pr);e:for(;0<br;){var wr=br-1>>>1,Br=xr[wr];if(0<De(Br,Pr))xr[wr]=Pr,xr[br]=Br,br=wr;else break e}}function je(xr){return xr.length===0?null:xr[0]}function Be(xr){if(xr.length===0)return null;var Pr=xr[0],br=xr.pop();if(br!==Pr){xr[0]=br;e:for(var wr=0,Br=xr.length,Lr=Br>>>1;wr<Lr;){var yr=2*(wr+1)-1,vr=xr[yr],Tr=yr+1,Or=xr[Tr];if(0>De(vr,br))Tr<Br&&0>De(Or,vr)?(xr[wr]=Or,xr[Tr]=br,wr=Tr):(xr[wr]=vr,xr[yr]=br,wr=yr);else if(Tr<Br&&0>De(Or,br))xr[wr]=Or,xr[Tr]=br,wr=Tr;else break e}}return Pr}function De(xr,Pr){var br=xr.sortIndex-Pr.sortIndex;return br!==0?br:xr.id-Pr.id}if(Ce.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var Fe=performance;Ce.unstable_now=function(){return Fe.now()}}else{var Oe=Date,ke=Oe.now();Ce.unstable_now=function(){return Oe.now()-ke}}var Me=[],Ue=[],$e=1,He=null,Qe=3,We=!1,qe=!1,Ke=!1,Xe=!1,Ye=typeof setTimeout=="function"?setTimeout:null,Ze=typeof clearTimeout=="function"?clearTimeout:null,Je=typeof setImmediate<"u"?setImmediate:null;function tr(xr){for(var Pr=je(Ue);Pr!==null;){if(Pr.callback===null)Be(Ue);else if(Pr.startTime<=xr)Be(Ue),Pr.sortIndex=Pr.expirationTime,Re(Me,Pr);else break;Pr=je(Ue)}}function rr(xr){if(Ke=!1,tr(xr),!qe)if(je(Me)!==null)qe=!0,ar||(ar=!0,or());else{var Pr=je(Ue);Pr!==null&&jr(rr,Pr.startTime-xr)}}var ar=!1,nr=-1,sr=5,dr=-1;function _r(){return Xe?!0:!(Ce.unstable_now()-dr<sr)}function fr(){if(Xe=!1,ar){var xr=Ce.unstable_now();dr=xr;var Pr=!0;try{e:{qe=!1,Ke&&(Ke=!1,Ze(nr),nr=-1),We=!0;var br=Qe;try{t:{for(tr(xr),He=je(Me);He!==null&&!(He.expirationTime>xr&&_r());){var wr=He.callback;if(typeof wr=="function"){He.callback=null,Qe=He.priorityLevel;var Br=wr(He.expirationTime<=xr);if(xr=Ce.unstable_now(),typeof Br=="function"){He.callback=Br,tr(xr),Pr=!0;break t}He===je(Me)&&Be(Me),tr(xr)}else Be(Me);He=je(Me)}if(He!==null)Pr=!0;else{var Lr=je(Ue);Lr!==null&&jr(rr,Lr.startTime-xr),Pr=!1}}break e}finally{He=null,Qe=br,We=!1}Pr=void 0}}finally{Pr?or():ar=!1}}}var or;if(typeof Je=="function")or=function(){Je(fr)};else if(typeof MessageChannel<"u"){var Er=new MessageChannel,Rr=Er.port2;Er.port1.onmessage=fr,or=function(){Rr.postMessage(null)}}else or=function(){Ye(fr,0)};function jr(xr,Pr){nr=Ye(function(){xr(Ce.unstable_now())},Pr)}Ce.unstable_IdlePriority=5,Ce.unstable_ImmediatePriority=1,Ce.unstable_LowPriority=4,Ce.unstable_NormalPriority=3,Ce.unstable_Profiling=null,Ce.unstable_UserBlockingPriority=2,Ce.unstable_cancelCallback=function(xr){xr.callback=null},Ce.unstable_forceFrameRate=function(xr){0>xr||125<xr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):sr=0<xr?Math.floor(1e3/xr):5},Ce.unstable_getCurrentPriorityLevel=function(){return Qe},Ce.unstable_next=function(xr){switch(Qe){case 1:case 2:case 3:var Pr=3;break;default:Pr=Qe}var br=Qe;Qe=Pr;try{return xr()}finally{Qe=br}},Ce.unstable_requestPaint=function(){Xe=!0},Ce.unstable_runWithPriority=function(xr,Pr){switch(xr){case 1:case 2:case 3:case 4:case 5:break;default:xr=3}var br=Qe;Qe=xr;try{return Pr()}finally{Qe=br}},Ce.unstable_scheduleCallback=function(xr,Pr,br){var wr=Ce.unstable_now();switch(typeof br=="object"&&br!==null?(br=br.delay,br=typeof br=="number"&&0<br?wr+br:wr):br=wr,xr){case 1:var Br=-1;break;case 2:Br=250;break;case 5:Br=1073741823;break;case 4:Br=1e4;break;default:Br=5e3}return Br=br+Br,xr={id:$e++,callback:Pr,priorityLevel:xr,startTime:br,expirationTime:Br,sortIndex:-1},br>wr?(xr.sortIndex=br,Re(Ue,xr),je(Me)===null&&xr===je(Ue)&&(Ke?(Ze(nr),nr=-1):Ke=!0,jr(rr,br-wr))):(xr.sortIndex=Br,Re(Me,xr),qe||We||(qe=!0,ar||(ar=!0,or()))),xr},Ce.unstable_shouldYield=_r,Ce.unstable_wrapCallback=function(xr){var Pr=Qe;return function(){var br=Qe;Qe=Pr;try{return xr.apply(this,arguments)}finally{Qe=br}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var Ce=requireReact();function Re(Me){var Ue="https://react.dev/errors/"+Me;if(1<arguments.length){Ue+="?args[]="+encodeURIComponent(arguments[1]);for(var $e=2;$e<arguments.length;$e++)Ue+="&args[]="+encodeURIComponent(arguments[$e])}return"Minified React error #"+Me+"; visit "+Ue+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function je(){}var Be={d:{f:je,r:function(){throw Error(Re(522))},D:je,C:je,L:je,m:je,X:je,S:je,M:je},p:0,findDOMNode:null},De=Symbol.for("react.portal");function Fe(Me,Ue,$e){var He=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:De,key:He==null?null:""+He,children:Me,containerInfo:Ue,implementation:$e}}var Oe=Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ke(Me,Ue){if(Me==="font")return"";if(typeof Ue=="string")return Ue==="use-credentials"?Ue:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Be,reactDom_production.createPortal=function(Me,Ue){var $e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ue||Ue.nodeType!==1&&Ue.nodeType!==9&&Ue.nodeType!==11)throw Error(Re(299));return Fe(Me,Ue,null,$e)},reactDom_production.flushSync=function(Me){var Ue=Oe.T,$e=Be.p;try{if(Oe.T=null,Be.p=2,Me)return Me()}finally{Oe.T=Ue,Be.p=$e,Be.d.f()}},reactDom_production.preconnect=function(Me,Ue){typeof Me=="string"&&(Ue?(Ue=Ue.crossOrigin,Ue=typeof Ue=="string"?Ue==="use-credentials"?Ue:"":void 0):Ue=null,Be.d.C(Me,Ue))},reactDom_production.prefetchDNS=function(Me){typeof Me=="string"&&Be.d.D(Me)},reactDom_production.preinit=function(Me,Ue){if(typeof Me=="string"&&Ue&&typeof Ue.as=="string"){var $e=Ue.as,He=ke($e,Ue.crossOrigin),Qe=typeof Ue.integrity=="string"?Ue.integrity:void 0,We=typeof Ue.fetchPriority=="string"?Ue.fetchPriority:void 0;$e==="style"?Be.d.S(Me,typeof Ue.precedence=="string"?Ue.precedence:void 0,{crossOrigin:He,integrity:Qe,fetchPriority:We}):$e==="script"&&Be.d.X(Me,{crossOrigin:He,integrity:Qe,fetchPriority:We,nonce:typeof Ue.nonce=="string"?Ue.nonce:void 0})}},reactDom_production.preinitModule=function(Me,Ue){if(typeof Me=="string")if(typeof Ue=="object"&&Ue!==null){if(Ue.as==null||Ue.as==="script"){var $e=ke(Ue.as,Ue.crossOrigin);Be.d.M(Me,{crossOrigin:$e,integrity:typeof Ue.integrity=="string"?Ue.integrity:void 0,nonce:typeof Ue.nonce=="string"?Ue.nonce:void 0})}}else Ue==null&&Be.d.M(Me)},reactDom_production.preload=function(Me,Ue){if(typeof Me=="string"&&typeof Ue=="object"&&Ue!==null&&typeof Ue.as=="string"){var $e=Ue.as,He=ke($e,Ue.crossOrigin);Be.d.L(Me,$e,{crossOrigin:He,integrity:typeof Ue.integrity=="string"?Ue.integrity:void 0,nonce:typeof Ue.nonce=="string"?Ue.nonce:void 0,type:typeof Ue.type=="string"?Ue.type:void 0,fetchPriority:typeof Ue.fetchPriority=="string"?Ue.fetchPriority:void 0,referrerPolicy:typeof Ue.referrerPolicy=="string"?Ue.referrerPolicy:void 0,imageSrcSet:typeof Ue.imageSrcSet=="string"?Ue.imageSrcSet:void 0,imageSizes:typeof Ue.imageSizes=="string"?Ue.imageSizes:void 0,media:typeof Ue.media=="string"?Ue.media:void 0})}},reactDom_production.preloadModule=function(Me,Ue){if(typeof Me=="string")if(Ue){var $e=ke(Ue.as,Ue.crossOrigin);Be.d.m(Me,{as:typeof Ue.as=="string"&&Ue.as!=="script"?Ue.as:void 0,crossOrigin:$e,integrity:typeof Ue.integrity=="string"?Ue.integrity:void 0})}else Be.d.m(Me)},reactDom_production.requestFormReset=function(Me){Be.d.r(Me)},reactDom_production.unstable_batchedUpdates=function(Me,Ue){return Me(Ue)},reactDom_production.useFormState=function(Me,Ue,$e){return Oe.H.useFormState(Me,Ue,$e)},reactDom_production.useFormStatus=function(){return Oe.H.useHostTransitionStatus()},reactDom_production.version="19.1.1",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function Ce(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ce)}catch(Re){console.error(Re)}}return Ce(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var Ce=requireScheduler(),Re=requireReact(),je=requireReactDom();function Be(ze){var Ge="https://react.dev/errors/"+ze;if(1<arguments.length){Ge+="?args[]="+encodeURIComponent(arguments[1]);for(var er=2;er<arguments.length;er++)Ge+="&args[]="+encodeURIComponent(arguments[er])}return"Minified React error #"+ze+"; visit "+Ge+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function De(ze){return!(!ze||ze.nodeType!==1&&ze.nodeType!==9&&ze.nodeType!==11)}function Fe(ze){var Ge=ze,er=ze;if(ze.alternate)for(;Ge.return;)Ge=Ge.return;else{ze=Ge;do Ge=ze,(Ge.flags&4098)!==0&&(er=Ge.return),ze=Ge.return;while(ze)}return Ge.tag===3?er:null}function Oe(ze){if(ze.tag===13){var Ge=ze.memoizedState;if(Ge===null&&(ze=ze.alternate,ze!==null&&(Ge=ze.memoizedState)),Ge!==null)return Ge.dehydrated}return null}function ke(ze){if(Fe(ze)!==ze)throw Error(Be(188))}function Me(ze){var Ge=ze.alternate;if(!Ge){if(Ge=Fe(ze),Ge===null)throw Error(Be(188));return Ge!==ze?null:ze}for(var er=ze,ir=Ge;;){var mr=er.return;if(mr===null)break;var Sr=mr.alternate;if(Sr===null){if(ir=mr.return,ir!==null){er=ir;continue}break}if(mr.child===Sr.child){for(Sr=mr.child;Sr;){if(Sr===er)return ke(mr),ze;if(Sr===ir)return ke(mr),Ge;Sr=Sr.sibling}throw Error(Be(188))}if(er.return!==ir.return)er=mr,ir=Sr;else{for(var Vr=!1,rn=mr.child;rn;){if(rn===er){Vr=!0,er=mr,ir=Sr;break}if(rn===ir){Vr=!0,ir=mr,er=Sr;break}rn=rn.sibling}if(!Vr){for(rn=Sr.child;rn;){if(rn===er){Vr=!0,er=Sr,ir=mr;break}if(rn===ir){Vr=!0,ir=Sr,er=mr;break}rn=rn.sibling}if(!Vr)throw Error(Be(189))}}if(er.alternate!==ir)throw Error(Be(190))}if(er.tag!==3)throw Error(Be(188));return er.stateNode.current===er?ze:Ge}function Ue(ze){var Ge=ze.tag;if(Ge===5||Ge===26||Ge===27||Ge===6)return ze;for(ze=ze.child;ze!==null;){if(Ge=Ue(ze),Ge!==null)return Ge;ze=ze.sibling}return null}var $e=Object.assign,He=Symbol.for("react.element"),Qe=Symbol.for("react.transitional.element"),We=Symbol.for("react.portal"),qe=Symbol.for("react.fragment"),Ke=Symbol.for("react.strict_mode"),Xe=Symbol.for("react.profiler"),Ye=Symbol.for("react.provider"),Ze=Symbol.for("react.consumer"),Je=Symbol.for("react.context"),tr=Symbol.for("react.forward_ref"),rr=Symbol.for("react.suspense"),ar=Symbol.for("react.suspense_list"),nr=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),dr=Symbol.for("react.activity"),_r=Symbol.for("react.memo_cache_sentinel"),fr=Symbol.iterator;function or(ze){return ze===null||typeof ze!="object"?null:(ze=fr&&ze[fr]||ze["@@iterator"],typeof ze=="function"?ze:null)}var Er=Symbol.for("react.client.reference");function Rr(ze){if(ze==null)return null;if(typeof ze=="function")return ze.$$typeof===Er?null:ze.displayName||ze.name||null;if(typeof ze=="string")return ze;switch(ze){case qe:return"Fragment";case Xe:return"Profiler";case Ke:return"StrictMode";case rr:return"Suspense";case ar:return"SuspenseList";case dr:return"Activity"}if(typeof ze=="object")switch(ze.$$typeof){case We:return"Portal";case Je:return(ze.displayName||"Context")+".Provider";case Ze:return(ze._context.displayName||"Context")+".Consumer";case tr:var Ge=ze.render;return ze=ze.displayName,ze||(ze=Ge.displayName||Ge.name||"",ze=ze!==""?"ForwardRef("+ze+")":"ForwardRef"),ze;case nr:return Ge=ze.displayName||null,Ge!==null?Ge:Rr(ze.type)||"Memo";case sr:Ge=ze._payload,ze=ze._init;try{return Rr(ze(Ge))}catch{}}return null}var jr=Array.isArray,xr=Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pr=je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,br={pending:!1,data:null,method:null,action:null},wr=[],Br=-1;function Lr(ze){return{current:ze}}function yr(ze){0>Br||(ze.current=wr[Br],wr[Br]=null,Br--)}function vr(ze,Ge){Br++,wr[Br]=ze.current,ze.current=Ge}var Tr=Lr(null),Or=Lr(null),Nr=Lr(null),Hr=Lr(null);function Wr(ze,Ge){switch(vr(Nr,Ge),vr(Or,ze),vr(Tr,null),Ge.nodeType){case 9:case 11:ze=(ze=Ge.documentElement)&&(ze=ze.namespaceURI)?Wp(ze):0;break;default:if(ze=Ge.tagName,Ge=Ge.namespaceURI)Ge=Wp(Ge),ze=Kp(Ge,ze);else switch(ze){case"svg":ze=1;break;case"math":ze=2;break;default:ze=0}}yr(Tr),vr(Tr,ze)}function qr(){yr(Tr),yr(Or),yr(Nr)}function Jr(ze){ze.memoizedState!==null&&vr(Hr,ze);var Ge=Tr.current,er=Kp(Ge,ze.type);Ge!==er&&(vr(Or,ze),vr(Tr,er))}function An(ze){Or.current===ze&&(yr(Tr),yr(Or)),Hr.current===ze&&(yr(Hr),AA._currentValue=br)}var an=Object.prototype.hasOwnProperty,bn=Ce.unstable_scheduleCallback,gn=Ce.unstable_cancelCallback,mn=Ce.unstable_shouldYield,Zr=Ce.unstable_requestPaint,kn=Ce.unstable_now,ri=Ce.unstable_getCurrentPriorityLevel,zn=Ce.unstable_ImmediatePriority,ei=Ce.unstable_UserBlockingPriority,Jn=Ce.unstable_NormalPriority,Wn=Ce.unstable_LowPriority,_i=Ce.unstable_IdlePriority,wi=Ce.log,Oi=Ce.unstable_setDisableYieldValue,xi=null,Pi=null;function Ii(ze){if(typeof wi=="function"&&Oi(ze),Pi&&typeof Pi.setStrictMode=="function")try{Pi.setStrictMode(xi,ze)}catch{}}var Si=Math.clz32?Math.clz32:oi,En=Math.log,Cn=Math.LN2;function oi(ze){return ze>>>=0,ze===0?32:31-(En(ze)/Cn|0)|0}var ci=256,Qi=4194304;function ti(ze){var Ge=ze&42;if(Ge!==0)return Ge;switch(ze&-ze){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ze&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return ze&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return ze}}function Bi(ze,Ge,er){var ir=ze.pendingLanes;if(ir===0)return 0;var mr=0,Sr=ze.suspendedLanes,Vr=ze.pingedLanes;ze=ze.warmLanes;var rn=ir&134217727;return rn!==0?(ir=rn&~Sr,ir!==0?mr=ti(ir):(Vr&=rn,Vr!==0?mr=ti(Vr):er||(er=rn&~ze,er!==0&&(mr=ti(er))))):(rn=ir&~Sr,rn!==0?mr=ti(rn):Vr!==0?mr=ti(Vr):er||(er=ir&~ze,er!==0&&(mr=ti(er)))),mr===0?0:Ge!==0&&Ge!==mr&&(Ge&Sr)===0&&(Sr=mr&-mr,er=Ge&-Ge,Sr>=er||Sr===32&&(er&4194048)!==0)?Ge:mr}function jn(ze,Ge){return(ze.pendingLanes&~(ze.suspendedLanes&~ze.pingedLanes)&Ge)===0}function vn(ze,Ge){switch(ze){case 1:case 2:case 4:case 8:case 64:return Ge+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ge+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ni(){var ze=ci;return ci<<=1,(ci&4194048)===0&&(ci=256),ze}function bi(){var ze=Qi;return Qi<<=1,(Qi&62914560)===0&&(Qi=4194304),ze}function Gi(ze){for(var Ge=[],er=0;31>er;er++)Ge.push(ze);return Ge}function Di(ze,Ge){ze.pendingLanes|=Ge,Ge!==268435456&&(ze.suspendedLanes=0,ze.pingedLanes=0,ze.warmLanes=0)}function hi(ze,Ge,er,ir,mr,Sr){var Vr=ze.pendingLanes;ze.pendingLanes=er,ze.suspendedLanes=0,ze.pingedLanes=0,ze.warmLanes=0,ze.expiredLanes&=er,ze.entangledLanes&=er,ze.errorRecoveryDisabledLanes&=er,ze.shellSuspendCounter=0;var rn=ze.entanglements,yn=ze.expirationTimes,Gn=ze.hiddenUpdates;for(er=Vr&~er;0<er;){var di=31-Si(er),vi=1<<di;rn[di]=0,yn[di]=-1;var Yn=Gn[di];if(Yn!==null)for(Gn[di]=null,di=0;di<Yn.length;di++){var Xn=Yn[di];Xn!==null&&(Xn.lane&=-536870913)}er&=~vi}ir!==0&&fi(ze,ir,0),Sr!==0&&mr===0&&ze.tag!==0&&(ze.suspendedLanes|=Sr&~(Vr&~Ge))}function fi(ze,Ge,er){ze.pendingLanes|=Ge,ze.suspendedLanes&=~Ge;var ir=31-Si(Ge);ze.entangledLanes|=Ge,ze.entanglements[ir]=ze.entanglements[ir]|1073741824|er&4194090}function Ri(ze,Ge){var er=ze.entangledLanes|=Ge;for(ze=ze.entanglements;er;){var ir=31-Si(er),mr=1<<ir;mr&Ge|ze[ir]&Ge&&(ze[ir]|=Ge),er&=~mr}}function Zi(ze){switch(ze){case 2:ze=1;break;case 8:ze=4;break;case 32:ze=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:ze=128;break;case 268435456:ze=134217728;break;default:ze=0}return ze}function ds(ze){return ze&=-ze,2<ze?8<ze?(ze&134217727)!==0?32:268435456:8:2}function oa(){var ze=Pr.p;return ze!==0?ze:(ze=window.event,ze===void 0?32:fm(ze.type))}function Wa(ze,Ge){var er=Pr.p;try{return Pr.p=ze,Ge()}finally{Pr.p=er}}var Mi=Math.random().toString(36).slice(2),Qs="__reactFiber$"+Mi,Fs="__reactProps$"+Mi,Xs="__reactContainer$"+Mi,Yi="__reactEvents$"+Mi,ra="__reactListeners$"+Mi,Kr="__reactHandles$"+Mi,fn="__reactResources$"+Mi,sn="__reactMarker$"+Mi;function on(ze){delete ze[Qs],delete ze[Fs],delete ze[Yi],delete ze[ra],delete ze[Kr]}function hn(ze){var Ge=ze[Qs];if(Ge)return Ge;for(var er=ze.parentNode;er;){if(Ge=er[Xs]||er[Qs]){if(er=Ge.alternate,Ge.child!==null||er!==null&&er.child!==null)for(ze=Xp(ze);ze!==null;){if(er=ze[Qs])return er;ze=Xp(ze)}return Ge}ze=er,er=ze.parentNode}return null}function pn(ze){if(ze=ze[Qs]||ze[Xs]){var Ge=ze.tag;if(Ge===5||Ge===6||Ge===13||Ge===26||Ge===27||Ge===3)return ze}return null}function Mn(ze){var Ge=ze.tag;if(Ge===5||Ge===26||Ge===27||Ge===6)return ze.stateNode;throw Error(Be(33))}function qn(ze){var Ge=ze[fn];return Ge||(Ge=ze[fn]={hoistableStyles:new Map,hoistableScripts:new Map}),Ge}function Nn(ze){ze[sn]=!0}var Vn=new Set,Kn={};function gi(ze,Ge){Ti(ze,Ge),Ti(ze+"Capture",Ge)}function Ti(ze,Ge){for(Kn[ze]=Ge,ze=0;ze<Ge.length;ze++)Vn.add(Ge[ze])}var zi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ci={},Li={};function ss(ze){return an.call(Li,ze)?!0:an.call(Ci,ze)?!1:zi.test(ze)?Li[ze]=!0:(Ci[ze]=!0,!1)}function gs(ze,Ge,er){if(ss(Ge))if(er===null)ze.removeAttribute(Ge);else{switch(typeof er){case"undefined":case"function":case"symbol":ze.removeAttribute(Ge);return;case"boolean":var ir=Ge.toLowerCase().slice(0,5);if(ir!=="data-"&&ir!=="aria-"){ze.removeAttribute(Ge);return}}ze.setAttribute(Ge,""+er)}}function _s(ze,Ge,er){if(er===null)ze.removeAttribute(Ge);else{switch(typeof er){case"undefined":case"function":case"symbol":case"boolean":ze.removeAttribute(Ge);return}ze.setAttribute(Ge,""+er)}}function ys(ze,Ge,er,ir){if(ir===null)ze.removeAttribute(er);else{switch(typeof ir){case"undefined":case"function":case"symbol":case"boolean":ze.removeAttribute(er);return}ze.setAttributeNS(Ge,er,""+ir)}}var eo,Eo;function oo(ze){if(eo===void 0)try{throw Error()}catch(er){var Ge=er.stack.trim().match(/\n( *(at )?)/);eo=Ge&&Ge[1]||"",Eo=-1<er.stack.indexOf(`
    at`)?" (<anonymous>)":-1<er.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eo+ze+Eo}var wo=!1;function co(ze,Ge){if(!ze||wo)return"";wo=!0;var er=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var ir={DetermineComponentFrameRoot:function(){try{if(Ge){var vi=function(){throw Error()};if(Object.defineProperty(vi.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vi,[])}catch(Xn){var Yn=Xn}Reflect.construct(ze,[],vi)}else{try{vi.call()}catch(Xn){Yn=Xn}ze.call(vi.prototype)}}else{try{throw Error()}catch(Xn){Yn=Xn}(vi=ze())&&typeof vi.catch=="function"&&vi.catch(function(){})}}catch(Xn){if(Xn&&Yn&&typeof Xn.stack=="string")return[Xn.stack,Yn.stack]}return[null,null]}};ir.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var mr=Object.getOwnPropertyDescriptor(ir.DetermineComponentFrameRoot,"name");mr&&mr.configurable&&Object.defineProperty(ir.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Sr=ir.DetermineComponentFrameRoot(),Vr=Sr[0],rn=Sr[1];if(Vr&&rn){var yn=Vr.split(`
`),Gn=rn.split(`
`);for(mr=ir=0;ir<yn.length&&!yn[ir].includes("DetermineComponentFrameRoot");)ir++;for(;mr<Gn.length&&!Gn[mr].includes("DetermineComponentFrameRoot");)mr++;if(ir===yn.length||mr===Gn.length)for(ir=yn.length-1,mr=Gn.length-1;1<=ir&&0<=mr&&yn[ir]!==Gn[mr];)mr--;for(;1<=ir&&0<=mr;ir--,mr--)if(yn[ir]!==Gn[mr]){if(ir!==1||mr!==1)do if(ir--,mr--,0>mr||yn[ir]!==Gn[mr]){var di=`
`+yn[ir].replace(" at new "," at ");return ze.displayName&&di.includes("<anonymous>")&&(di=di.replace("<anonymous>",ze.displayName)),di}while(1<=ir&&0<=mr);break}}}finally{wo=!1,Error.prepareStackTrace=er}return(er=ze?ze.displayName||ze.name:"")?oo(er):""}function Na(ze){switch(ze.tag){case 26:case 27:case 5:return oo(ze.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 15:return co(ze.type,!1);case 11:return co(ze.type.render,!1);case 1:return co(ze.type,!0);case 31:return oo("Activity");default:return""}}function la(ze){try{var Ge="";do Ge+=Na(ze),ze=ze.return;while(ze);return Ge}catch(er){return`
Error generating stack: `+er.message+`
`+er.stack}}function uo(ze){switch(typeof ze){case"bigint":case"boolean":case"number":case"string":case"undefined":return ze;case"object":return ze;default:return""}}function $c(ze){var Ge=ze.type;return(ze=ze.nodeName)&&ze.toLowerCase()==="input"&&(Ge==="checkbox"||Ge==="radio")}function mc(ze){var Ge=$c(ze)?"checked":"value",er=Object.getOwnPropertyDescriptor(ze.constructor.prototype,Ge),ir=""+ze[Ge];if(!ze.hasOwnProperty(Ge)&&typeof er<"u"&&typeof er.get=="function"&&typeof er.set=="function"){var mr=er.get,Sr=er.set;return Object.defineProperty(ze,Ge,{configurable:!0,get:function(){return mr.call(this)},set:function(Vr){ir=""+Vr,Sr.call(this,Vr)}}),Object.defineProperty(ze,Ge,{enumerable:er.enumerable}),{getValue:function(){return ir},setValue:function(Vr){ir=""+Vr},stopTracking:function(){ze._valueTracker=null,delete ze[Ge]}}}}function sl(ze){ze._valueTracker||(ze._valueTracker=mc(ze))}function Bl(ze){if(!ze)return!1;var Ge=ze._valueTracker;if(!Ge)return!0;var er=Ge.getValue(),ir="";return ze&&(ir=$c(ze)?ze.checked?"true":"false":ze.value),ze=ir,ze!==er?(Ge.setValue(ze),!0):!1}function xo(ze){if(ze=ze||(typeof document<"u"?document:void 0),typeof ze>"u")return null;try{return ze.activeElement||ze.body}catch{return ze.body}}var Da=/[\n"\\]/g;function Os(ze){return ze.replace(Da,function(Ge){return"\\"+Ge.charCodeAt(0).toString(16)+" "})}function vo(ze,Ge,er,ir,mr,Sr,Vr,rn){ze.name="",Vr!=null&&typeof Vr!="function"&&typeof Vr!="symbol"&&typeof Vr!="boolean"?ze.type=Vr:ze.removeAttribute("type"),Ge!=null?Vr==="number"?(Ge===0&&ze.value===""||ze.value!=Ge)&&(ze.value=""+uo(Ge)):ze.value!==""+uo(Ge)&&(ze.value=""+uo(Ge)):Vr!=="submit"&&Vr!=="reset"||ze.removeAttribute("value"),Ge!=null?Jl(ze,Vr,uo(Ge)):er!=null?Jl(ze,Vr,uo(er)):ir!=null&&ze.removeAttribute("value"),mr==null&&Sr!=null&&(ze.defaultChecked=!!Sr),mr!=null&&(ze.checked=mr&&typeof mr!="function"&&typeof mr!="symbol"),rn!=null&&typeof rn!="function"&&typeof rn!="symbol"&&typeof rn!="boolean"?ze.name=""+uo(rn):ze.removeAttribute("name")}function Xl(ze,Ge,er,ir,mr,Sr,Vr,rn){if(Sr!=null&&typeof Sr!="function"&&typeof Sr!="symbol"&&typeof Sr!="boolean"&&(ze.type=Sr),Ge!=null||er!=null){if(!(Sr!=="submit"&&Sr!=="reset"||Ge!=null))return;er=er!=null?""+uo(er):"",Ge=Ge!=null?""+uo(Ge):er,rn||Ge===ze.value||(ze.value=Ge),ze.defaultValue=Ge}ir=ir??mr,ir=typeof ir!="function"&&typeof ir!="symbol"&&!!ir,ze.checked=rn?ze.checked:!!ir,ze.defaultChecked=!!ir,Vr!=null&&typeof Vr!="function"&&typeof Vr!="symbol"&&typeof Vr!="boolean"&&(ze.name=Vr)}function Jl(ze,Ge,er){Ge==="number"&&xo(ze.ownerDocument)===ze||ze.defaultValue===""+er||(ze.defaultValue=""+er)}function hl(ze,Ge,er,ir){if(ze=ze.options,Ge){Ge={};for(var mr=0;mr<er.length;mr++)Ge["$"+er[mr]]=!0;for(er=0;er<ze.length;er++)mr=Ge.hasOwnProperty("$"+ze[er].value),ze[er].selected!==mr&&(ze[er].selected=mr),mr&&ir&&(ze[er].defaultSelected=!0)}else{for(er=""+uo(er),Ge=null,mr=0;mr<ze.length;mr++){if(ze[mr].value===er){ze[mr].selected=!0,ir&&(ze[mr].defaultSelected=!0);return}Ge!==null||ze[mr].disabled||(Ge=ze[mr])}Ge!==null&&(Ge.selected=!0)}}function Ws(ze,Ge,er){if(Ge!=null&&(Ge=""+uo(Ge),Ge!==ze.value&&(ze.value=Ge),er==null)){ze.defaultValue!==Ge&&(ze.defaultValue=Ge);return}ze.defaultValue=er!=null?""+uo(er):""}function Zl(ze,Ge,er,ir){if(Ge==null){if(ir!=null){if(er!=null)throw Error(Be(92));if(jr(ir)){if(1<ir.length)throw Error(Be(93));ir=ir[0]}er=ir}er==null&&(er=""),Ge=er}er=uo(Ge),ze.defaultValue=er,ir=ze.textContent,ir===er&&ir!==""&&ir!==null&&(ze.value=ir)}function Qo(ze,Ge){if(Ge){var er=ze.firstChild;if(er&&er===ze.lastChild&&er.nodeType===3){er.nodeValue=Ge;return}}ze.textContent=Ge}var zo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gu(ze,Ge,er){var ir=Ge.indexOf("--")===0;er==null||typeof er=="boolean"||er===""?ir?ze.setProperty(Ge,""):Ge==="float"?ze.cssFloat="":ze[Ge]="":ir?ze.setProperty(Ge,er):typeof er!="number"||er===0||zo.has(Ge)?Ge==="float"?ze.cssFloat=er:ze[Ge]=(""+er).trim():ze[Ge]=er+"px"}function Vc(ze,Ge,er){if(Ge!=null&&typeof Ge!="object")throw Error(Be(62));if(ze=ze.style,er!=null){for(var ir in er)!er.hasOwnProperty(ir)||Ge!=null&&Ge.hasOwnProperty(ir)||(ir.indexOf("--")===0?ze.setProperty(ir,""):ir==="float"?ze.cssFloat="":ze[ir]="");for(var mr in Ge)ir=Ge[mr],Ge.hasOwnProperty(mr)&&er[mr]!==ir&&Gu(ze,mr,ir)}else for(var Sr in Ge)Ge.hasOwnProperty(Sr)&&Gu(ze,Sr,Ge[Sr])}function du(ze){if(ze.indexOf("-")===-1)return!1;switch(ze){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(ze){return gc.test(""+ze)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":ze}var fo=null;function na(ze){return ze=ze.target||ze.srcElement||window,ze.correspondingUseElement&&(ze=ze.correspondingUseElement),ze.nodeType===3?ze.parentNode:ze}var Dl=null,Al=null;function ts(ze){var Ge=pn(ze);if(Ge&&(ze=Ge.stateNode)){var er=ze[Fs]||null;e:switch(ze=Ge.stateNode,Ge.type){case"input":if(vo(ze,er.value,er.defaultValue,er.defaultValue,er.checked,er.defaultChecked,er.type,er.name),Ge=er.name,er.type==="radio"&&Ge!=null){for(er=ze;er.parentNode;)er=er.parentNode;for(er=er.querySelectorAll('input[name="'+Os(""+Ge)+'"][type="radio"]'),Ge=0;Ge<er.length;Ge++){var ir=er[Ge];if(ir!==ze&&ir.form===ze.form){var mr=ir[Fs]||null;if(!mr)throw Error(Be(90));vo(ir,mr.value,mr.defaultValue,mr.defaultValue,mr.checked,mr.defaultChecked,mr.type,mr.name)}}for(Ge=0;Ge<er.length;Ge++)ir=er[Ge],ir.form===ze.form&&Bl(ir)}break e;case"textarea":Ws(ze,er.value,er.defaultValue);break e;case"select":Ge=er.value,Ge!=null&&hl(ze,!!er.multiple,Ge,!1)}}}var pl=!1;function qu(ze,Ge,er){if(pl)return ze(Ge,er);pl=!0;try{var ir=ze(Ge);return ir}finally{if(pl=!1,(Dl!==null||Al!==null)&&(xs(),Dl&&(Ge=Dl,ze=Al,Al=Dl=null,ts(Ge),ze)))for(Ge=0;Ge<ze.length;Ge++)ts(ze[Ge])}}function So(ze,Ge){var er=ze.stateNode;if(er===null)return null;var ir=er[Fs]||null;if(ir===null)return null;er=ir[Ge];e:switch(Ge){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ir=!ir.disabled)||(ze=ze.type,ir=!(ze==="button"||ze==="input"||ze==="select"||ze==="textarea")),ze=!ir;break e;default:ze=!1}if(ze)return null;if(er&&typeof er!="function")throw Error(Be(231,Ge,typeof er));return er}var Wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=!1;if(Wo)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{Oo=!1}var ya=null,gl=null,xl=null;function Hc(){if(xl)return xl;var ze,Ge=gl,er=Ge.length,ir,mr="value"in ya?ya.value:ya.textContent,Sr=mr.length;for(ze=0;ze<er&&Ge[ze]===mr[ze];ze++);var Vr=er-ze;for(ir=1;ir<=Vr&&Ge[er-ir]===mr[Sr-ir];ir++);return xl=mr.slice(ze,1<ir?1-ir:void 0)}function Ko(ze){var Ge=ze.keyCode;return"charCode"in ze?(ze=ze.charCode,ze===0&&Ge===13&&(ze=13)):ze=Ge,ze===10&&(ze=13),32<=ze||ze===13?ze:0}function Co(){return!0}function vl(){return!1}function Fa(ze){function Ge(er,ir,mr,Sr,Vr){this._reactName=er,this._targetInst=mr,this.type=ir,this.nativeEvent=Sr,this.target=Vr,this.currentTarget=null;for(var rn in ze)ze.hasOwnProperty(rn)&&(er=ze[rn],this[rn]=er?er(Sr):Sr[rn]);return this.isDefaultPrevented=(Sr.defaultPrevented!=null?Sr.defaultPrevented:Sr.returnValue===!1)?Co:vl,this.isPropagationStopped=vl,this}return $e(Ge.prototype,{preventDefault:function(){this.defaultPrevented=!0;var er=this.nativeEvent;er&&(er.preventDefault?er.preventDefault():typeof er.returnValue!="unknown"&&(er.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var er=this.nativeEvent;er&&(er.stopPropagation?er.stopPropagation():typeof er.cancelBubble!="unknown"&&(er.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),Ge}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ze){return ze.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=Fa(Cs),yl=$e({},Cs,{view:0,detail:0}),fu=Fa(yl),ha,xc,ho,To=$e({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(ze){return ze.relatedTarget===void 0?ze.fromElement===ze.srcElement?ze.toElement:ze.fromElement:ze.relatedTarget},movementX:function(ze){return"movementX"in ze?ze.movementX:(ze!==ho&&(ho&&ze.type==="mousemove"?(ha=ze.screenX-ho.screenX,xc=ze.screenY-ho.screenY):xc=ha=0,ho=ze),ha)},movementY:function(ze){return"movementY"in ze?ze.movementY:xc}}),$a=Fa(To),Yu=$e({},To,{dataTransfer:0}),tc=Fa(Yu),Va=$e({},yl,{relatedTarget:0}),ol=Fa(Va),bl=$e({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Qc=Fa(bl),Ro=$e({},Cs,{clipboardData:function(ze){return"clipboardData"in ze?ze.clipboardData:window.clipboardData}}),Ol=Fa(Ro),vc=$e({},Cs,{data:0}),yc=Fa(vc),rc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _c(ze){var Ge=this.nativeEvent;return Ge.getModifierState?Ge.getModifierState(ze):(ze=zc[ze])?!!Ge[ze]:!1}function nc(){return _c}var Xu=$e({},yl,{key:function(ze){if(ze.key){var Ge=rc[ze.key]||ze.key;if(Ge!=="Unidentified")return Ge}return ze.type==="keypress"?(ze=Ko(ze),ze===13?"Enter":String.fromCharCode(ze)):ze.type==="keydown"||ze.type==="keyup"?bc[ze.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(ze){return ze.type==="keypress"?Ko(ze):0},keyCode:function(ze){return ze.type==="keydown"||ze.type==="keyup"?ze.keyCode:0},which:function(ze){return ze.type==="keypress"?Ko(ze):ze.type==="keydown"||ze.type==="keyup"?ze.keyCode:0}}),kl=Fa(Xu),ic=$e({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ec=Fa(ic),Po=$e({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),Wc=Fa(Po),Cr=$e({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),zr=Fa(Cr),xn=$e({},To,{deltaX:function(ze){return"deltaX"in ze?ze.deltaX:"wheelDeltaX"in ze?-ze.wheelDeltaX:0},deltaY:function(ze){return"deltaY"in ze?ze.deltaY:"wheelDeltaY"in ze?-ze.wheelDeltaY:"wheelDelta"in ze?-ze.wheelDelta:0},deltaZ:0,deltaMode:0}),_n=Fa(xn),Dn=$e({},Cs,{newState:0,oldState:0}),ni=Fa(Dn),Ei=[9,13,27,32],$i=Wo&&"CompositionEvent"in window,ur=null;Wo&&"documentMode"in document&&(ur=document.documentMode);var Fr=Wo&&"TextEvent"in window&&!ur,Ur=Wo&&(!$i||ur&&8<ur&&11>=ur),en=" ",Pn=!1;function Un(ze,Ge){switch(ze){case"keyup":return Ei.indexOf(Ge.keyCode)!==-1;case"keydown":return Ge.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function si(ze){return ze=ze.detail,typeof ze=="object"&&"data"in ze?ze.data:null}var os=!1;function Es(ze,Ge){switch(ze){case"compositionend":return si(Ge);case"keypress":return Ge.which!==32?null:(Pn=!0,en);case"textInput":return ze=Ge.data,ze===en&&Pn?null:ze;default:return null}}function As(ze,Ge){if(os)return ze==="compositionend"||!$i&&Un(ze,Ge)?(ze=Hc(),xl=gl=ya=null,os=!1,ze):null;switch(ze){case"paste":return null;case"keypress":if(!(Ge.ctrlKey||Ge.altKey||Ge.metaKey)||Ge.ctrlKey&&Ge.altKey){if(Ge.char&&1<Ge.char.length)return Ge.char;if(Ge.which)return String.fromCharCode(Ge.which)}return null;case"compositionend":return Ur&&Ge.locale!=="ko"?null:Ge.data;default:return null}}var Bs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ts(ze){var Ge=ze&&ze.nodeName&&ze.nodeName.toLowerCase();return Ge==="input"?!!Bs[ze.type]:Ge==="textarea"}function _l(ze,Ge,er,ir){Dl?Al?Al.push(ir):Al=[ir]:Dl=ir,Ge=UA(Ge,"onChange"),0<Ge.length&&(er=new Fl("onChange","change",null,er,ir),ze.push({event:er,listeners:Ge}))}var Js=null,ks=null;function Ml(ze){$p(ze,0)}function Aa(ze){var Ge=Mn(ze);if(Bl(Ge))return ze}function Kc(ze,Ge){if(ze==="change")return Ge}var Go=!1;if(Wo){var ba;if(Wo){var Ms="oninput"in document;if(!Ms){var Gc=document.createElement("div");Gc.setAttribute("oninput","return;"),Ms=typeof Gc.oninput=="function"}ba=Ms}else ba=!1;Go=ba&&(!document.documentMode||9<document.documentMode)}function qc(){Js&&(Js.detachEvent("onpropertychange",hu),ks=Js=null)}function hu(ze){if(ze.propertyName==="value"&&Aa(ks)){var Ge=[];_l(Ge,ks,ze,na(ze)),qu(Ml,Ge)}}function ko(ze,Ge,er){ze==="focusin"?(qc(),Js=Ge,ks=er,Js.attachEvent("onpropertychange",hu)):ze==="focusout"&&qc()}function Ju(ze){if(ze==="selectionchange"||ze==="keyup"||ze==="keydown")return Aa(ks)}function Zu(ze,Ge){if(ze==="click")return Aa(Ge)}function Ed(ze,Ge){if(ze==="input"||ze==="change")return Aa(Ge)}function Ea(ze,Ge){return ze===Ge&&(ze!==0||1/ze===1/Ge)||ze!==ze&&Ge!==Ge}var da=typeof Object.is=="function"?Object.is:Ea;function Mo(ze,Ge){if(da(ze,Ge))return!0;if(typeof ze!="object"||ze===null||typeof Ge!="object"||Ge===null)return!1;var er=Object.keys(ze),ir=Object.keys(Ge);if(er.length!==ir.length)return!1;for(ir=0;ir<er.length;ir++){var mr=er[ir];if(!an.call(Ge,mr)||!da(ze[mr],Ge[mr]))return!1}return!0}function Ra(ze){for(;ze&&ze.firstChild;)ze=ze.firstChild;return ze}function Io(ze,Ge){var er=Ra(ze);ze=0;for(var ir;er;){if(er.nodeType===3){if(ir=ze+er.textContent.length,ze<=Ge&&ir>=Ge)return{node:er,offset:Ge-ze};ze=ir}e:{for(;er;){if(er.nextSibling){er=er.nextSibling;break e}er=er.parentNode}er=void 0}er=Ra(er)}}function wc(ze,Ge){return ze&&Ge?ze===Ge?!0:ze&&ze.nodeType===3?!1:Ge&&Ge.nodeType===3?wc(ze,Ge.parentNode):"contains"in ze?ze.contains(Ge):ze.compareDocumentPosition?!!(ze.compareDocumentPosition(Ge)&16):!1:!1}function jo(ze){ze=ze!=null&&ze.ownerDocument!=null&&ze.ownerDocument.defaultView!=null?ze.ownerDocument.defaultView:window;for(var Ge=xo(ze.document);Ge instanceof ze.HTMLIFrameElement;){try{var er=typeof Ge.contentWindow.location.href=="string"}catch{er=!1}if(er)ze=Ge.contentWindow;else break;Ge=xo(ze.document)}return Ge}function Ka(ze){var Ge=ze&&ze.nodeName&&ze.nodeName.toLowerCase();return Ge&&(Ge==="input"&&(ze.type==="text"||ze.type==="search"||ze.type==="tel"||ze.type==="url"||ze.type==="password")||Ge==="textarea"||ze.contentEditable==="true")}var Sc=Wo&&"documentMode"in document&&11>=document.documentMode,qo=null,Lo=null,Ao=null,Ll=!1;function Pa(ze,Ge,er){var ir=er.window===er?er.document:er.nodeType===9?er:er.ownerDocument;Ll||qo==null||qo!==xo(ir)||(ir=qo,"selectionStart"in ir&&Ka(ir)?ir={start:ir.selectionStart,end:ir.selectionEnd}:(ir=(ir.ownerDocument&&ir.ownerDocument.defaultView||window).getSelection(),ir={anchorNode:ir.anchorNode,anchorOffset:ir.anchorOffset,focusNode:ir.focusNode,focusOffset:ir.focusOffset}),Ao&&Mo(Ao,ir)||(Ao=ir,ir=UA(Lo,"onSelect"),0<ir.length&&(Ge=new Fl("onSelect","select",null,Ge,er),ze.push({event:Ge,listeners:ir}),Ge.target=qo)))}function Yo(ze,Ge){var er={};return er[ze.toLowerCase()]=Ge.toLowerCase(),er["Webkit"+ze]="webkit"+Ge,er["Moz"+ze]="moz"+Ge,er}var Oa={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionrun:Yo("Transition","TransitionRun"),transitionstart:Yo("Transition","TransitionStart"),transitioncancel:Yo("Transition","TransitionCancel"),transitionend:Yo("Transition","TransitionEnd")},Xo={},Au={};Wo&&(Au=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Ha(ze){if(Xo[ze])return Xo[ze];if(!Oa[ze])return ze;var Ge=Oa[ze],er;for(er in Ge)if(Ge.hasOwnProperty(er)&&er in Au)return Xo[ze]=Ge[er];return ze}var pu=Ha("animationend"),Yc=Ha("animationiteration"),Xc=Ha("animationstart"),Ul=Ha("transitionrun"),mu=Ha("transitionstart"),gu=Ha("transitioncancel"),Cc=Ha("transitionend"),sc=new Map,Jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jc.push("scrollEnd");function wa(ze,Ge){sc.set(ze,Ge),gi(Ge,[ze])}var Jo=new WeakMap;function ws(ze,Ge){if(typeof ze=="object"&&ze!==null){var er=Jo.get(ze);return er!==void 0?er:(Ge={value:ze,source:Ge,stack:la(Ge)},Jo.set(ze,Ge),Ge)}return{value:ze,source:Ge,stack:la(Ge)}}var Ss=[],ca=0,pa=0;function El(){for(var ze=ca,Ge=pa=ca=0;Ge<ze;){var er=Ss[Ge];Ss[Ge++]=null;var ir=Ss[Ge];Ss[Ge++]=null;var mr=Ss[Ge];Ss[Ge++]=null;var Sr=Ss[Ge];if(Ss[Ge++]=null,ir!==null&&mr!==null){var Vr=ir.pending;Vr===null?mr.next=mr:(mr.next=Vr.next,Vr.next=mr),ir.pending=mr}Sr!==0&&wd(er,mr,Sr)}}function Zc(ze,Ge,er,ir){Ss[ca++]=ze,Ss[ca++]=Ge,Ss[ca++]=er,Ss[ca++]=ir,pa|=ir,ze.lanes|=ir,ze=ze.alternate,ze!==null&&(ze.lanes|=ir)}function ac(ze,Ge,er,ir){return Zc(ze,Ge,er,ir),xu(ze)}function Tc(ze,Ge){return Zc(ze,null,null,Ge),xu(ze)}function wd(ze,Ge,er){ze.lanes|=er;var ir=ze.alternate;ir!==null&&(ir.lanes|=er);for(var mr=!1,Sr=ze.return;Sr!==null;)Sr.childLanes|=er,ir=Sr.alternate,ir!==null&&(ir.childLanes|=er),Sr.tag===22&&(ze=Sr.stateNode,ze===null||ze._visibility&1||(mr=!0)),ze=Sr,Sr=Sr.return;return ze.tag===3?(Sr=ze.stateNode,mr&&Ge!==null&&(mr=31-Si(er),ze=Sr.hiddenUpdates,ir=ze[mr],ir===null?ze[mr]=[Ge]:ir.push(Ge),Ge.lane=er|536870912),Sr):null}function xu(ze){if(50<Ln)throw Ln=0,ai=null,Error(Be(185));for(var Ge=ze.return;Ge!==null;)ze=Ge,Ge=ze.return;return ze.tag===3?ze.stateNode:null}var po={};function wl(ze,Ge,er,ir){this.tag=ze,this.key=er,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=Ge,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ir,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bo(ze,Ge,er,ir){return new wl(ze,Ge,er,ir)}function ed(ze){return ze=ze.prototype,!(!ze||!ze.isReactComponent)}function Uo(ze,Ge){var er=ze.alternate;return er===null?(er=Bo(ze.tag,Ge,ze.key,ze.mode),er.elementType=ze.elementType,er.type=ze.type,er.stateNode=ze.stateNode,er.alternate=ze,ze.alternate=er):(er.pendingProps=Ge,er.type=ze.type,er.flags=0,er.subtreeFlags=0,er.deletions=null),er.flags=ze.flags&65011712,er.childLanes=ze.childLanes,er.lanes=ze.lanes,er.child=ze.child,er.memoizedProps=ze.memoizedProps,er.memoizedState=ze.memoizedState,er.updateQueue=ze.updateQueue,Ge=ze.dependencies,er.dependencies=Ge===null?null:{lanes:Ge.lanes,firstContext:Ge.firstContext},er.sibling=ze.sibling,er.index=ze.index,er.ref=ze.ref,er.refCleanup=ze.refCleanup,er}function Sd(ze,Ge){ze.flags&=65011714;var er=ze.alternate;return er===null?(ze.childLanes=0,ze.lanes=Ge,ze.child=null,ze.subtreeFlags=0,ze.memoizedProps=null,ze.memoizedState=null,ze.updateQueue=null,ze.dependencies=null,ze.stateNode=null):(ze.childLanes=er.childLanes,ze.lanes=er.lanes,ze.child=er.child,ze.subtreeFlags=0,ze.deletions=null,ze.memoizedProps=er.memoizedProps,ze.memoizedState=er.memoizedState,ze.updateQueue=er.updateQueue,ze.type=er.type,Ge=er.dependencies,ze.dependencies=Ge===null?null:{lanes:Ge.lanes,firstContext:Ge.firstContext}),ze}function vu(ze,Ge,er,ir,mr,Sr){var Vr=0;if(ir=ze,typeof ze=="function")ed(ze)&&(Vr=1);else if(typeof ze=="string")Vr=Gm(ze,er,Tr.current)?26:ze==="html"||ze==="head"||ze==="body"?27:5;else e:switch(ze){case dr:return ze=Bo(31,er,Ge,mr),ze.elementType=dr,ze.lanes=Sr,ze;case qe:return Sl(er.children,mr,Sr,Ge);case Ke:Vr=8,mr|=24;break;case Xe:return ze=Bo(12,er,Ge,mr|2),ze.elementType=Xe,ze.lanes=Sr,ze;case rr:return ze=Bo(13,er,Ge,mr),ze.elementType=rr,ze.lanes=Sr,ze;case ar:return ze=Bo(19,er,Ge,mr),ze.elementType=ar,ze.lanes=Sr,ze;default:if(typeof ze=="object"&&ze!==null)switch(ze.$$typeof){case Ye:case Je:Vr=10;break e;case Ze:Vr=9;break e;case tr:Vr=11;break e;case nr:Vr=14;break e;case sr:Vr=16,ir=null;break e}Vr=29,er=Error(Be(130,ze===null?"null":typeof ze,"")),ir=null}return Ge=Bo(Vr,er,Ge,mr),Ge.elementType=ze,Ge.type=ir,Ge.lanes=Sr,Ge}function Sl(ze,Ge,er,ir){return ze=Bo(7,ze,ir,Ge),ze.lanes=er,ze}function qd(ze,Ge,er){return ze=Bo(6,ze,null,Ge),ze.lanes=er,ze}function Cd(ze,Ge,er){return Ge=Bo(4,ze.children!==null?ze.children:[],ze.key,Ge),Ge.lanes=er,Ge.stateNode={containerInfo:ze.containerInfo,pendingChildren:null,implementation:ze.implementation},Ge}var eu=[],Rc=0,Pc=null,Yd=0,Cl=[],ll=0,yu=null,Tl=1,Ic="";function bu(ze,Ge){eu[Rc++]=Yd,eu[Rc++]=Pc,Pc=ze,Yd=Ge}function nh(ze,Ge,er){Cl[ll++]=Tl,Cl[ll++]=Ic,Cl[ll++]=yu,yu=ze;var ir=Tl;ze=Ic;var mr=32-Si(ir)-1;ir&=~(1<<mr),er+=1;var Sr=32-Si(Ge)+mr;if(30<Sr){var Vr=mr-mr%5;Sr=(ir&(1<<Vr)-1).toString(32),ir>>=Vr,mr-=Vr,Tl=1<<32-Si(Ge)+mr|er<<mr|ir,Ic=Sr+ze}else Tl=1<<Sr|er<<mr|ir,Ic=ze}function Td(ze){ze.return!==null&&(bu(ze,1),nh(ze,1,0))}function tu(ze){for(;ze===Pc;)Pc=eu[--Rc],eu[Rc]=null,Yd=eu[--Rc],eu[Rc]=null;for(;ze===yu;)yu=Cl[--ll],Cl[ll]=null,Ic=Cl[--ll],Cl[ll]=null,Tl=Cl[--ll],Cl[ll]=null}var Ga=null,Ia=null,zs=!1,ru=null,oc=!1,Cf=Error(Be(519));function _u(ze){var Ge=Error(Be(418,""));throw rd(ws(Ge,ze)),Cf}function ih(ze){var Ge=ze.stateNode,er=ze.type,ir=ze.memoizedProps;switch(Ge[Qs]=ze,Ge[Fs]=ir,er){case"dialog":$s("cancel",Ge),$s("close",Ge);break;case"iframe":case"object":case"embed":$s("load",Ge);break;case"video":case"audio":for(er=0;er<lA.length;er++)$s(lA[er],Ge);break;case"source":$s("error",Ge);break;case"img":case"image":case"link":$s("error",Ge),$s("load",Ge);break;case"details":$s("toggle",Ge);break;case"input":$s("invalid",Ge),Xl(Ge,ir.value,ir.defaultValue,ir.checked,ir.defaultChecked,ir.type,ir.name,!0),sl(Ge);break;case"select":$s("invalid",Ge);break;case"textarea":$s("invalid",Ge),Zl(Ge,ir.value,ir.defaultValue,ir.children),sl(Ge)}er=ir.children,typeof er!="string"&&typeof er!="number"&&typeof er!="bigint"||Ge.textContent===""+er||ir.suppressHydrationWarning===!0||zp(Ge.textContent,er)?(ir.popover!=null&&($s("beforetoggle",Ge),$s("toggle",Ge)),ir.onScroll!=null&&$s("scroll",Ge),ir.onScrollEnd!=null&&$s("scrollend",Ge),ir.onClick!=null&&(Ge.onclick=$A),Ge=!0):Ge=!1,Ge||_u(ze)}function jc(ze){for(Ga=ze.return;Ga;)switch(Ga.tag){case 5:case 13:oc=!1;return;case 27:case 3:oc=!0;return;default:Ga=Ga.return}}function $o(ze){if(ze!==Ga)return!1;if(!zs)return jc(ze),zs=!0,!1;var Ge=ze.tag,er;if((er=Ge!==3&&Ge!==27)&&((er=Ge===5)&&(er=ze.type,er=!(er!=="form"&&er!=="button")||vp(ze.type,ze.memoizedProps)),er=!er),er&&Ia&&_u(ze),jc(ze),Ge===13){if(ze=ze.memoizedState,ze=ze!==null?ze.dehydrated:null,!ze)throw Error(Be(317));e:{for(ze=ze.nextSibling,Ge=0;ze;){if(ze.nodeType===8)if(er=ze.data,er==="/$"){if(Ge===0){Ia=Ku(ze.nextSibling);break e}Ge--}else er!=="$"&&er!=="$!"&&er!=="$?"||Ge++;ze=ze.nextSibling}Ia=null}}else Ge===27?(Ge=Ia,yf(ze.type)?(ze=Ep,Ep=null,Ia=ze):Ia=Ge):Ia=Ga?Ku(ze.stateNode.nextSibling):null;return!0}function No(){Ia=Ga=null,zs=!1}function sh(){var ze=ru;return ze!==null&&(jl===null?jl=ze:jl.push.apply(jl,ze),ru=null),ze}function rd(ze){ru===null?ru=[ze]:ru.push(ze)}var $l=Lr(null),mo=null,Bc=null;function cc(ze,Ge,er){vr($l,Ge._currentValue),Ge._currentValue=er}function cl(ze){ze._currentValue=$l.current,yr($l)}function Xd(ze,Ge,er){for(;ze!==null;){var ir=ze.alternate;if((ze.childLanes&Ge)!==Ge?(ze.childLanes|=Ge,ir!==null&&(ir.childLanes|=Ge)):ir!==null&&(ir.childLanes&Ge)!==Ge&&(ir.childLanes|=Ge),ze===er)break;ze=ze.return}}function Jd(ze,Ge,er,ir){var mr=ze.child;for(mr!==null&&(mr.return=ze);mr!==null;){var Sr=mr.dependencies;if(Sr!==null){var Vr=mr.child;Sr=Sr.firstContext;e:for(;Sr!==null;){var rn=Sr;Sr=mr;for(var yn=0;yn<Ge.length;yn++)if(rn.context===Ge[yn]){Sr.lanes|=er,rn=Sr.alternate,rn!==null&&(rn.lanes|=er),Xd(Sr.return,er,ze),ir||(Vr=null);break e}Sr=rn.next}}else if(mr.tag===18){if(Vr=mr.return,Vr===null)throw Error(Be(341));Vr.lanes|=er,Sr=Vr.alternate,Sr!==null&&(Sr.lanes|=er),Xd(Vr,er,ze),Vr=null}else Vr=mr.child;if(Vr!==null)Vr.return=mr;else for(Vr=mr;Vr!==null;){if(Vr===ze){Vr=null;break}if(mr=Vr.sibling,mr!==null){mr.return=Vr.return,Vr=mr;break}Vr=Vr.return}mr=Vr}}function nd(ze,Ge,er,ir){ze=null;for(var mr=Ge,Sr=!1;mr!==null;){if(!Sr){if((mr.flags&524288)!==0)Sr=!0;else if((mr.flags&262144)!==0)break}if(mr.tag===10){var Vr=mr.alternate;if(Vr===null)throw Error(Be(387));if(Vr=Vr.memoizedProps,Vr!==null){var rn=mr.type;da(mr.pendingProps.value,Vr.value)||(ze!==null?ze.push(rn):ze=[rn])}}else if(mr===Hr.current){if(Vr=mr.alternate,Vr===null)throw Error(Be(387));Vr.memoizedState.memoizedState!==mr.memoizedState.memoizedState&&(ze!==null?ze.push(AA):ze=[AA])}mr=mr.return}ze!==null&&Jd(Ge,ze,er,ir),Ge.flags|=262144}function Zd(ze){for(ze=ze.firstContext;ze!==null;){if(!da(ze.context._currentValue,ze.memoizedValue))return!0;ze=ze.next}return!1}function uc(ze){mo=ze,Bc=null,ze=ze.dependencies,ze!==null&&(ze.firstContext=null)}function qa(ze){return ef(mo,ze)}function Vl(ze,Ge){return mo===null&&uc(ze),ef(ze,Ge)}function ef(ze,Ge){var er=Ge._currentValue;if(Ge={context:Ge,memoizedValue:er,next:null},Bc===null){if(ze===null)throw Error(Be(308));Bc=Ge,ze.dependencies={lanes:0,firstContext:Ge},ze.flags|=524288}else Bc=Bc.next=Ge;return er}var Dh=typeof AbortController<"u"?AbortController:function(){var ze=[],Ge=this.signal={aborted:!1,addEventListener:function(er,ir){ze.push(ir)}};this.abort=function(){Ge.aborted=!0,ze.forEach(function(er){return er()})}},ah=Ce.unstable_scheduleCallback,Fh=Ce.unstable_NormalPriority,Ya={$$typeof:Je,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new Dh,data:new Map,refCount:0}}function Rd(ze){ze.refCount--,ze.refCount===0&&ah(Fh,function(){ze.controller.abort()})}var Pd=null,Rf=0,Eu=0,Nc=null;function Oh(ze,Ge){if(Pd===null){var er=Pd=[];Rf=0,Eu=up(),Nc={status:"pending",value:void 0,then:function(ir){er.push(ir)}}}return Rf++,Ge.then(Pf,Pf),Ge}function Pf(){if(--Rf===0&&Pd!==null){Nc!==null&&(Nc.status="fulfilled");var ze=Pd;Pd=null,Eu=0,Nc=null;for(var Ge=0;Ge<ze.length;Ge++)(0,ze[Ge])()}}function oh(ze,Ge){var er=[],ir={status:"pending",value:null,reason:null,then:function(mr){er.push(mr)}};return ze.then(function(){ir.status="fulfilled",ir.value=Ge;for(var mr=0;mr<er.length;mr++)(0,er[mr])(Ge)},function(mr){for(ir.status="rejected",ir.reason=mr,mr=0;mr<er.length;mr++)(0,er[mr])(void 0)}),ir}var lr=xr.S;xr.S=function(ze,Ge){typeof Ge=="object"&&Ge!==null&&typeof Ge.then=="function"&&Oh(ze,Ge),lr!==null&&lr(ze,Ge)};var gr=Lr(null);function Ir(){var ze=gr.current;return ze!==null?ze:ga.pooledCache}function Mr(ze,Ge){Ge===null?vr(gr,gr.current):vr(gr,Ge.pool)}function Qr(){var ze=Ir();return ze===null?null:{parent:Ya._currentValue,pool:ze}}var Gr=Error(Be(460)),Xr=Error(Be(474)),tn=Error(Be(542)),nn={then:function(){}};function dn(ze){return ze=ze.status,ze==="fulfilled"||ze==="rejected"}function wn(){}function Hn(ze,Ge,er){switch(er=ze[er],er===void 0?ze.push(Ge):er!==Ge&&(Ge.then(wn,wn),Ge=er),Ge.status){case"fulfilled":return Ge.value;case"rejected":throw ze=Ge.reason,ii(ze),ze;default:if(typeof Ge.status=="string")Ge.then(wn,wn);else{if(ze=ga,ze!==null&&100<ze.shellSuspendCounter)throw Error(Be(482));ze=Ge,ze.status="pending",ze.then(function(ir){if(Ge.status==="pending"){var mr=Ge;mr.status="fulfilled",mr.value=ir}},function(ir){if(Ge.status==="pending"){var mr=Ge;mr.status="rejected",mr.reason=ir}})}switch(Ge.status){case"fulfilled":return Ge.value;case"rejected":throw ze=Ge.reason,ii(ze),ze}throw $n=Ge,Gr}}var $n=null;function Fn(){if($n===null)throw Error(Be(459));var ze=$n;return $n=null,ze}function ii(ze){if(ze===Gr||ze===tn)throw Error(Be(483))}var Zn=!1;function Sn(ze){ze.updateQueue={baseState:ze.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function In(ze,Ge){ze=ze.updateQueue,Ge.updateQueue===ze&&(Ge.updateQueue={baseState:ze.baseState,firstBaseUpdate:ze.firstBaseUpdate,lastBaseUpdate:ze.lastBaseUpdate,shared:ze.shared,callbacks:null})}function li(ze){return{lane:ze,tag:0,payload:null,callback:null,next:null}}function Ai(ze,Ge,er){var ir=ze.updateQueue;if(ir===null)return null;if(ir=ir.shared,(aa&2)!==0){var mr=ir.pending;return mr===null?Ge.next=Ge:(Ge.next=mr.next,mr.next=Ge),ir.pending=Ge,Ge=xu(ze),wd(ze,null,er),Ge}return Zc(ze,ir,Ge,er),xu(ze)}function ui(ze,Ge,er){if(Ge=Ge.updateQueue,Ge!==null&&(Ge=Ge.shared,(er&4194048)!==0)){var ir=Ge.lanes;ir&=ze.pendingLanes,er|=ir,Ge.lanes=er,Ri(ze,er)}}function Ki(ze,Ge){var er=ze.updateQueue,ir=ze.alternate;if(ir!==null&&(ir=ir.updateQueue,er===ir)){var mr=null,Sr=null;if(er=er.firstBaseUpdate,er!==null){do{var Vr={lane:er.lane,tag:er.tag,payload:er.payload,callback:null,next:null};Sr===null?mr=Sr=Vr:Sr=Sr.next=Vr,er=er.next}while(er!==null);Sr===null?mr=Sr=Ge:Sr=Sr.next=Ge}else mr=Sr=Ge;er={baseState:ir.baseState,firstBaseUpdate:mr,lastBaseUpdate:Sr,shared:ir.shared,callbacks:ir.callbacks},ze.updateQueue=er;return}ze=er.lastBaseUpdate,ze===null?er.firstBaseUpdate=Ge:ze.next=Ge,er.lastBaseUpdate=Ge}var Ui=!1;function es(){if(Ui){var ze=Nc;if(ze!==null)throw ze}}function Vi(ze,Ge,er,ir){Ui=!1;var mr=ze.updateQueue;Zn=!1;var Sr=mr.firstBaseUpdate,Vr=mr.lastBaseUpdate,rn=mr.shared.pending;if(rn!==null){mr.shared.pending=null;var yn=rn,Gn=yn.next;yn.next=null,Vr===null?Sr=Gn:Vr.next=Gn,Vr=yn;var di=ze.alternate;di!==null&&(di=di.updateQueue,rn=di.lastBaseUpdate,rn!==Vr&&(rn===null?di.firstBaseUpdate=Gn:rn.next=Gn,di.lastBaseUpdate=yn))}if(Sr!==null){var vi=mr.baseState;Vr=0,di=Gn=yn=null,rn=Sr;do{var Yn=rn.lane&-536870913,Xn=Yn!==rn.lane;if(Xn?(Hs&Yn)===Yn:(ir&Yn)===Yn){Yn!==0&&Yn===Eu&&(Ui=!0),di!==null&&(di=di.next={lane:0,tag:rn.tag,payload:rn.payload,callback:null,next:null});e:{var ms=ze,us=rn;Yn=Ge;var va=er;switch(us.tag){case 1:if(ms=us.payload,typeof ms=="function"){vi=ms.call(va,vi,Yn);break e}vi=ms;break e;case 3:ms.flags=ms.flags&-65537|128;case 0:if(ms=us.payload,Yn=typeof ms=="function"?ms.call(va,vi,Yn):ms,Yn==null)break e;vi=$e({},vi,Yn);break e;case 2:Zn=!0}}Yn=rn.callback,Yn!==null&&(ze.flags|=64,Xn&&(ze.flags|=8192),Xn=mr.callbacks,Xn===null?mr.callbacks=[Yn]:Xn.push(Yn))}else Xn={lane:Yn,tag:rn.tag,payload:rn.payload,callback:rn.callback,next:null},di===null?(Gn=di=Xn,yn=vi):di=di.next=Xn,Vr|=Yn;if(rn=rn.next,rn===null){if(rn=mr.shared.pending,rn===null)break;Xn=rn,rn=Xn.next,Xn.next=null,mr.lastBaseUpdate=Xn,mr.shared.pending=null}}while(!0);di===null&&(yn=vi),mr.baseState=yn,mr.firstBaseUpdate=Gn,mr.lastBaseUpdate=di,Sr===null&&(mr.shared.lanes=0),xd|=Vr,ze.lanes=Vr,ze.memoizedState=vi}}function Vs(ze,Ge){if(typeof ze!="function")throw Error(Be(191,ze));ze.call(Ge)}function Ks(ze,Ge){var er=ze.callbacks;if(er!==null)for(ze.callbacks=null,ze=0;ze<er.length;ze++)Vs(er[ze],Ge)}var bs=Lr(null),yi=Lr(0);function Zs(ze,Ge){ze=Qu,vr(yi,ze),vr(bs,Ge),Qu=ze|Ge.baseLanes}function Gs(){vr(yi,Qu),vr(bs,bs.current)}function fs(){Qu=yi.current,yr(bs),yr(yi)}var Is=0,ns=null,ls=null,Rs=null,Ns=!1,go=!1,Xa=!1,Ma=0,ia=0,ja=null,Zo=0;function qs(){throw Error(Be(321))}function La(ze,Ge){if(Ge===null)return!1;for(var er=0;er<Ge.length&&er<ze.length;er++)if(!da(ze[er],Ge[er]))return!1;return!0}function Hl(ze,Ge,er,ir,mr,Sr){return Is=Sr,ns=Ge,Ge.memoizedState=null,Ge.updateQueue=null,Ge.lanes=0,xr.H=ze===null||ze.memoizedState===null?bA:_A,Xa=!1,Sr=er(ir,mr),Xa=!1,go&&(Sr=wu(Ge,er,ir,mr)),dc(ze),Sr}function dc(ze){xr.H=ph;var Ge=ls!==null&&ls.next!==null;if(Is=0,Rs=ls=ns=null,Ns=!1,ia=0,ja=null,Ge)throw Error(Be(300));ze===null||Do||(ze=ze.dependencies,ze!==null&&Zd(ze)&&(Do=!0))}function wu(ze,Ge,er,ir){ns=ze;var mr=0;do{if(go&&(ja=null),ia=0,go=!1,25<=mr)throw Error(Be(301));if(mr+=1,Rs=ls=null,ze.updateQueue!=null){var Sr=ze.updateQueue;Sr.lastEffect=null,Sr.events=null,Sr.stores=null,Sr.memoCache!=null&&(Sr.memoCache.index=0)}xr.H=mh,Sr=Ge(er,ir)}while(go);return Sr}function nu(){var ze=xr.H,Ge=ze.useState()[0];return Ge=typeof Ge.then=="function"?Dc(Ge):Ge,ze=ze.useState()[0],(ls!==null?ls.memoizedState:null)!==ze&&(ns.flags|=1024),Ge}function ma(){var ze=Ma!==0;return Ma=0,ze}function Id(ze,Ge,er){Ge.updateQueue=ze.updateQueue,Ge.flags&=-2053,ze.lanes&=~er}function tf(ze){if(Ns){for(ze=ze.memoizedState;ze!==null;){var Ge=ze.queue;Ge!==null&&(Ge.pending=null),ze=ze.next}Ns=!1}Is=0,Rs=ls=ns=null,go=!1,ia=Ma=0,ja=null}function Vo(){var ze={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rs===null?ns.memoizedState=Rs=ze:Rs=Rs.next=ze,Rs}function Sa(){if(ls===null){var ze=ns.alternate;ze=ze!==null?ze.memoizedState:null}else ze=ls.next;var Ge=Rs===null?ns.memoizedState:Rs.next;if(Ge!==null)Rs=Ge,ls=ze;else{if(ze===null)throw ns.alternate===null?Error(Be(467)):Error(Be(310));ls=ze,ze={memoizedState:ls.memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},Rs===null?ns.memoizedState=Rs=ze:Rs=Rs.next=ze}return Rs}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dc(ze){var Ge=ia;return ia+=1,ja===null&&(ja=[]),ze=Hn(ja,ze,Ge),Ge=ns,(Rs===null?Ge.memoizedState:Rs.next)===null&&(Ge=Ge.alternate,xr.H=Ge===null||Ge.memoizedState===null?bA:_A),ze}function el(ze){if(ze!==null&&typeof ze=="object"){if(typeof ze.then=="function")return Dc(ze);if(ze.$$typeof===Je)return qa(ze)}throw Error(Be(438,String(ze)))}function iu(ze){var Ge=null,er=ns.updateQueue;if(er!==null&&(Ge=er.memoCache),Ge==null){var ir=ns.alternate;ir!==null&&(ir=ir.updateQueue,ir!==null&&(ir=ir.memoCache,ir!=null&&(Ge={data:ir.data.map(function(mr){return mr.slice()}),index:0})))}if(Ge==null&&(Ge={data:[],index:0}),er===null&&(er=Su(),ns.updateQueue=er),er.memoCache=Ge,er=Ge.data[Ge.index],er===void 0)for(er=Ge.data[Ge.index]=Array(ze),ir=0;ir<ze;ir++)er[ir]=_r;return Ge.index++,er}function tl(ze,Ge){return typeof Ge=="function"?Ge(ze):Ge}function sd(ze){var Ge=Sa();return ad(Ge,ls,ze)}function ad(ze,Ge,er){var ir=ze.queue;if(ir===null)throw Error(Be(311));ir.lastRenderedReducer=er;var mr=ze.baseQueue,Sr=ir.pending;if(Sr!==null){if(mr!==null){var Vr=mr.next;mr.next=Sr.next,Sr.next=Vr}Ge.baseQueue=mr=Sr,ir.pending=null}if(Sr=ze.baseState,mr===null)ze.memoizedState=Sr;else{Ge=mr.next;var rn=Vr=null,yn=null,Gn=Ge,di=!1;do{var vi=Gn.lane&-536870913;if(vi!==Gn.lane?(Hs&vi)===vi:(Is&vi)===vi){var Yn=Gn.revertLane;if(Yn===0)yn!==null&&(yn=yn.next={lane:0,revertLane:0,action:Gn.action,hasEagerState:Gn.hasEagerState,eagerState:Gn.eagerState,next:null}),vi===Eu&&(di=!0);else if((Is&Yn)===Yn){Gn=Gn.next,Yn===Eu&&(di=!0);continue}else vi={lane:0,revertLane:Gn.revertLane,action:Gn.action,hasEagerState:Gn.hasEagerState,eagerState:Gn.eagerState,next:null},yn===null?(rn=yn=vi,Vr=Sr):yn=yn.next=vi,ns.lanes|=Yn,xd|=Yn;vi=Gn.action,Xa&&er(Sr,vi),Sr=Gn.hasEagerState?Gn.eagerState:er(Sr,vi)}else Yn={lane:vi,revertLane:Gn.revertLane,action:Gn.action,hasEagerState:Gn.hasEagerState,eagerState:Gn.eagerState,next:null},yn===null?(rn=yn=Yn,Vr=Sr):yn=yn.next=Yn,ns.lanes|=vi,xd|=vi;Gn=Gn.next}while(Gn!==null&&Gn!==Ge);if(yn===null?Vr=Sr:yn.next=rn,!da(Sr,ze.memoizedState)&&(Do=!0,di&&(er=Nc,er!==null)))throw er;ze.memoizedState=Sr,ze.baseState=Vr,ze.baseQueue=yn,ir.lastRenderedState=Sr}return mr===null&&(ir.lanes=0),[ze.memoizedState,ir.dispatch]}function Cu(ze){var Ge=Sa(),er=Ge.queue;if(er===null)throw Error(Be(311));er.lastRenderedReducer=ze;var ir=er.dispatch,mr=er.pending,Sr=Ge.memoizedState;if(mr!==null){er.pending=null;var Vr=mr=mr.next;do Sr=ze(Sr,Vr.action),Vr=Vr.next;while(Vr!==mr);da(Sr,Ge.memoizedState)||(Do=!0),Ge.memoizedState=Sr,Ge.baseQueue===null&&(Ge.baseState=Sr),er.lastRenderedState=Sr}return[Sr,ir]}function jd(ze,Ge,er){var ir=ns,mr=Sa(),Sr=zs;if(Sr){if(er===void 0)throw Error(Be(407));er=er()}else er=Ge();var Vr=!da((ls||mr).memoizedState,er);Vr&&(mr.memoizedState=er,Do=!0),mr=mr.queue;var rn=Ru.bind(null,ir,mr,ze);if(cd(2048,8,rn,[ze]),mr.getSnapshot!==Ge||Vr||Rs!==null&&Rs.memoizedState.tag&1){if(ir.flags|=2048,Fc(9,Dd(),Tu.bind(null,ir,mr,er,Ge),null),ga===null)throw Error(Be(349));Sr||(Is&124)!==0||od(ir,Ge,er)}return er}function od(ze,Ge,er){ze.flags|=16384,ze={getSnapshot:Ge,value:er},Ge=ns.updateQueue,Ge===null?(Ge=Su(),ns.updateQueue=Ge,Ge.stores=[ze]):(er=Ge.stores,er===null?Ge.stores=[ze]:er.push(ze))}function Tu(ze,Ge,er,ir){Ge.value=er,Ge.getSnapshot=ir,If(Ge)&&lh(ze)}function Ru(ze,Ge,er){return er(function(){If(Ge)&&lh(ze)})}function If(ze){var Ge=ze.getSnapshot;ze=ze.value;try{var er=Ge();return!da(ze,er)}catch{return!0}}function lh(ze){var Ge=Tc(ze,2);Ge!==null&&ki(Ge,ze,2)}function ld(ze){var Ge=Vo();if(typeof ze=="function"){var er=ze;if(ze=er(),Xa){Ii(!0);try{er()}finally{Ii(!1)}}}return Ge.memoizedState=Ge.baseState=ze,Ge.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:ze},Ge}function Ql(ze,Ge,er,ir){return ze.baseState=er,ad(ze,ls,typeof ir=="function"?ir:tl)}function jf(ze,Ge,er,ir,mr){if(Uf(ze))throw Error(Be(485));if(ze=Ge.action,ze!==null){var Sr={payload:mr,action:ze,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Vr){Sr.listeners.push(Vr)}};xr.T!==null?er(!0):Sr.isTransition=!1,ir(Sr),er=Ge.pending,er===null?(Sr.next=Ge.pending=Sr,Bf(Ge,Sr)):(Sr.next=er.next,Ge.pending=er.next=Sr)}}function Bf(ze,Ge){var er=Ge.action,ir=Ge.payload,mr=ze.state;if(Ge.isTransition){var Sr=xr.T,Vr={};xr.T=Vr;try{var rn=er(mr,ir),yn=xr.S;yn!==null&&yn(Vr,rn),Nf(ze,Ge,rn)}catch(Gn){Pu(ze,Ge,Gn)}finally{xr.T=Sr}}else try{Sr=er(mr,ir),Nf(ze,Ge,Sr)}catch(Gn){Pu(ze,Ge,Gn)}}function Nf(ze,Ge,er){er!==null&&typeof er=="object"&&typeof er.then=="function"?er.then(function(ir){rf(ze,Ge,ir)},function(ir){return Pu(ze,Ge,ir)}):rf(ze,Ge,er)}function rf(ze,Ge,er){Ge.status="fulfilled",Ge.value=er,Bd(Ge),ze.state=er,Ge=ze.pending,Ge!==null&&(er=Ge.next,er===Ge?ze.pending=null:(er=er.next,Ge.next=er,Bf(ze,er)))}function Pu(ze,Ge,er){var ir=ze.pending;if(ze.pending=null,ir!==null){ir=ir.next;do Ge.status="rejected",Ge.reason=er,Bd(Ge),Ge=Ge.next;while(Ge!==ir)}ze.action=null}function Bd(ze){ze=ze.listeners;for(var Ge=0;Ge<ze.length;Ge++)(0,ze[Ge])()}function Df(ze,Ge){return Ge}function Nd(ze,Ge){if(zs){var er=ga.formState;if(er!==null){e:{var ir=ns;if(zs){if(Ia){t:{for(var mr=Ia,Sr=oc;mr.nodeType!==8;){if(!Sr){mr=null;break t}if(mr=Ku(mr.nextSibling),mr===null){mr=null;break t}}Sr=mr.data,mr=Sr==="F!"||Sr==="F"?mr:null}if(mr){Ia=Ku(mr.nextSibling),ir=mr.data==="F!";break e}}_u(ir)}ir=!1}ir&&(Ge=er[0])}}return er=Vo(),er.memoizedState=er.baseState=Ge,ir={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:Ge},er.queue=ir,er=kh.bind(null,ns,ir),ir.dispatch=er,ir=ld(!1),Sr=hh.bind(null,ns,!1,ir.queue),ir=Vo(),mr={state:Ge,dispatch:null,action:ze,pending:null},ir.queue=mr,er=jf.bind(null,ns,mr,Sr,er),mr.dispatch=er,ir.memoizedState=ze,[Ge,er,!1]}function nf(ze){var Ge=Sa();return yo(Ge,ls,ze)}function yo(ze,Ge,er){if(Ge=ad(ze,Ge,Df)[0],ze=sd(tl)[0],typeof Ge=="object"&&Ge!==null&&typeof Ge.then=="function")try{var ir=Dc(Ge)}catch(Vr){throw Vr===Gr?tn:Vr}else ir=Ge;Ge=Sa();var mr=Ge.queue,Sr=mr.dispatch;return er!==Ge.memoizedState&&(ns.flags|=2048,Fc(9,Dd(),sf.bind(null,mr,er),null)),[ir,Sr,ze]}function sf(ze,Ge){ze.action=Ge}function ch(ze){var Ge=Sa(),er=ls;if(er!==null)return yo(Ge,er,ze);Sa(),Ge=Ge.memoizedState,er=Sa();var ir=er.queue.dispatch;return er.memoizedState=ze,[Ge,ir,!1]}function Fc(ze,Ge,er,ir){return ze={tag:ze,create:er,deps:ir,inst:Ge,next:null},Ge=ns.updateQueue,Ge===null&&(Ge=Su(),ns.updateQueue=Ge),er=Ge.lastEffect,er===null?Ge.lastEffect=ze.next=ze:(ir=er.next,er.next=ze,ze.next=ir,Ge.lastEffect=ze),ze}function Dd(){return{destroy:void 0,resource:void 0}}function af(){return Sa().memoizedState}function zl(ze,Ge,er,ir){var mr=Vo();ir=ir===void 0?null:ir,ns.flags|=ze,mr.memoizedState=Fc(1|Ge,Dd(),er,ir)}function cd(ze,Ge,er,ir){var mr=Sa();ir=ir===void 0?null:ir;var Sr=mr.memoizedState.inst;ls!==null&&ir!==null&&La(ir,ls.memoizedState.deps)?mr.memoizedState=Fc(Ge,Sr,er,ir):(ns.flags|=ze,mr.memoizedState=Fc(1|Ge,Sr,er,ir))}function Ff(ze,Ge){zl(8390656,8,ze,Ge)}function uh(ze,Ge){cd(2048,8,ze,Ge)}function Of(ze,Ge){return cd(4,2,ze,Ge)}function su(ze,Ge){return cd(4,4,ze,Ge)}function dh(ze,Ge){if(typeof Ge=="function"){ze=ze();var er=Ge(ze);return function(){typeof er=="function"?er():Ge(null)}}if(Ge!=null)return ze=ze(),Ge.current=ze,function(){Ge.current=null}}function Fd(ze,Ge,er){er=er!=null?er.concat([ze]):null,cd(4,4,dh.bind(null,Ge,ze),er)}function of(){}function Ja(ze,Ge){var er=Sa();Ge=Ge===void 0?null:Ge;var ir=er.memoizedState;return Ge!==null&&La(Ge,ir[1])?ir[0]:(er.memoizedState=[ze,Ge],ze)}function ud(ze,Ge){var er=Sa();Ge=Ge===void 0?null:Ge;var ir=er.memoizedState;if(Ge!==null&&La(Ge,ir[1]))return ir[0];if(ir=ze(),Xa){Ii(!0);try{ze()}finally{Ii(!1)}}return er.memoizedState=[ir,Ge],ir}function Iu(ze,Ge,er){return er===void 0||(Is&1073741824)!==0?ze.memoizedState=Ge:(ze.memoizedState=er,ze=Fi(),ns.lanes|=ze,xd|=ze,er)}function lf(ze,Ge,er,ir){return da(er,Ge)?er:bs.current!==null?(ze=Iu(ze,er,ir),da(ze,Ge)||(Do=!0),ze):(Is&42)===0?(Do=!0,ze.memoizedState=er):(ze=Fi(),ns.lanes|=ze,xd|=ze,Ge)}function dd(ze,Ge,er,ir,mr){var Sr=Pr.p;Pr.p=Sr!==0&&8>Sr?Sr:8;var Vr=xr.T,rn={};xr.T=rn,hh(ze,!1,Ge,er);try{var yn=mr(),Gn=xr.S;if(Gn!==null&&Gn(rn,yn),yn!==null&&typeof yn=="object"&&typeof yn.then=="function"){var di=oh(yn,ir);cf(ze,Ge,di,Hi(ze))}else cf(ze,Ge,ir,Hi(ze))}catch(vi){cf(ze,Ge,{then:function(){},status:"rejected",reason:vi},Hi())}finally{Pr.p=Sr,xr.T=Vr}}function Wl(){}function fc(ze,Ge,er,ir){if(ze.tag!==5)throw Error(Be(476));var mr=Oc(ze).queue;dd(ze,mr,Ge,br,er===null?Wl:function(){return Od(ze),er(ir)})}function Oc(ze){var Ge=ze.memoizedState;if(Ge!==null)return Ge;Ge={memoizedState:br,baseState:br,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:br},next:null};var er={};return Ge.next={memoizedState:er,baseState:er,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:er},next:null},ze.memoizedState=Ge,ze=ze.alternate,ze!==null&&(ze.memoizedState=Ge),Ge}function Od(ze){var Ge=Oc(ze).next.queue;cf(ze,Ge,{},Hi())}function kd(){return qa(AA)}function kf(){return Sa().memoizedState}function fh(){return Sa().memoizedState}function Mf(ze){for(var Ge=ze.return;Ge!==null;){switch(Ge.tag){case 24:case 3:var er=Hi();ze=li(er);var ir=Ai(Ge,ze,er);ir!==null&&(ki(ir,Ge,er),ui(ir,Ge,er)),Ge={cache:Tf()},ze.payload=Ge;return}Ge=Ge.return}}function Lf(ze,Ge,er){var ir=Hi();er={lane:ir,revertLane:0,action:er,hasEagerState:!1,eagerState:null,next:null},Uf(ze)?Ah(Ge,er):(er=ac(ze,Ge,er,ir),er!==null&&(ki(er,ze,ir),yA(er,Ge,ir)))}function kh(ze,Ge,er){var ir=Hi();cf(ze,Ge,er,ir)}function cf(ze,Ge,er,ir){var mr={lane:ir,revertLane:0,action:er,hasEagerState:!1,eagerState:null,next:null};if(Uf(ze))Ah(Ge,mr);else{var Sr=ze.alternate;if(ze.lanes===0&&(Sr===null||Sr.lanes===0)&&(Sr=Ge.lastRenderedReducer,Sr!==null))try{var Vr=Ge.lastRenderedState,rn=Sr(Vr,er);if(mr.hasEagerState=!0,mr.eagerState=rn,da(rn,Vr))return Zc(ze,Ge,mr,0),ga===null&&El(),!1}catch{}finally{}if(er=ac(ze,Ge,mr,ir),er!==null)return ki(er,ze,ir),yA(er,Ge,ir),!0}return!1}function hh(ze,Ge,er,ir){if(ir={lane:2,revertLane:up(),action:ir,hasEagerState:!1,eagerState:null,next:null},Uf(ze)){if(Ge)throw Error(Be(479))}else Ge=ac(ze,er,ir,2),Ge!==null&&ki(Ge,ze,2)}function Uf(ze){var Ge=ze.alternate;return ze===ns||Ge!==null&&Ge===ns}function Ah(ze,Ge){go=Ns=!0;var er=ze.pending;er===null?Ge.next=Ge:(Ge.next=er.next,er.next=Ge),ze.pending=Ge}function yA(ze,Ge,er){if((er&4194048)!==0){var ir=Ge.lanes;ir&=ze.pendingLanes,er|=ir,Ge.lanes=er,Ri(ze,er)}}var ph={readContext:qa,use:el,useCallback:qs,useContext:qs,useEffect:qs,useImperativeHandle:qs,useLayoutEffect:qs,useInsertionEffect:qs,useMemo:qs,useReducer:qs,useRef:qs,useState:qs,useDebugValue:qs,useDeferredValue:qs,useTransition:qs,useSyncExternalStore:qs,useId:qs,useHostTransitionStatus:qs,useFormState:qs,useActionState:qs,useOptimistic:qs,useMemoCache:qs,useCacheRefresh:qs},bA={readContext:qa,use:el,useCallback:function(ze,Ge){return Vo().memoizedState=[ze,Ge===void 0?null:Ge],ze},useContext:qa,useEffect:Ff,useImperativeHandle:function(ze,Ge,er){er=er!=null?er.concat([ze]):null,zl(4194308,4,dh.bind(null,Ge,ze),er)},useLayoutEffect:function(ze,Ge){return zl(4194308,4,ze,Ge)},useInsertionEffect:function(ze,Ge){zl(4,2,ze,Ge)},useMemo:function(ze,Ge){var er=Vo();Ge=Ge===void 0?null:Ge;var ir=ze();if(Xa){Ii(!0);try{ze()}finally{Ii(!1)}}return er.memoizedState=[ir,Ge],ir},useReducer:function(ze,Ge,er){var ir=Vo();if(er!==void 0){var mr=er(Ge);if(Xa){Ii(!0);try{er(Ge)}finally{Ii(!1)}}}else mr=Ge;return ir.memoizedState=ir.baseState=mr,ze={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ze,lastRenderedState:mr},ir.queue=ze,ze=ze.dispatch=Lf.bind(null,ns,ze),[ir.memoizedState,ze]},useRef:function(ze){var Ge=Vo();return ze={current:ze},Ge.memoizedState=ze},useState:function(ze){ze=ld(ze);var Ge=ze.queue,er=kh.bind(null,ns,Ge);return Ge.dispatch=er,[ze.memoizedState,er]},useDebugValue:of,useDeferredValue:function(ze,Ge){var er=Vo();return Iu(er,ze,Ge)},useTransition:function(){var ze=ld(!1);return ze=dd.bind(null,ns,ze.queue,!0,!1),Vo().memoizedState=ze,[!1,ze]},useSyncExternalStore:function(ze,Ge,er){var ir=ns,mr=Vo();if(zs){if(er===void 0)throw Error(Be(407));er=er()}else{if(er=Ge(),ga===null)throw Error(Be(349));(Hs&124)!==0||od(ir,Ge,er)}mr.memoizedState=er;var Sr={value:er,getSnapshot:Ge};return mr.queue=Sr,Ff(Ru.bind(null,ir,Sr,ze),[ze]),ir.flags|=2048,Fc(9,Dd(),Tu.bind(null,ir,Sr,er,Ge),null),er},useId:function(){var ze=Vo(),Ge=ga.identifierPrefix;if(zs){var er=Ic,ir=Tl;er=(ir&~(1<<32-Si(ir)-1)).toString(32)+er,Ge=""+Ge+"R"+er,er=Ma++,0<er&&(Ge+="H"+er.toString(32)),Ge+=""}else er=Zo++,Ge=""+Ge+"r"+er.toString(32)+"";return ze.memoizedState=Ge},useHostTransitionStatus:kd,useFormState:Nd,useActionState:Nd,useOptimistic:function(ze){var Ge=Vo();Ge.memoizedState=Ge.baseState=ze;var er={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return Ge.queue=er,Ge=hh.bind(null,ns,!0,er),er.dispatch=Ge,[ze,Ge]},useMemoCache:iu,useCacheRefresh:function(){return Vo().memoizedState=Mf.bind(null,ns)}},_A={readContext:qa,use:el,useCallback:Ja,useContext:qa,useEffect:uh,useImperativeHandle:Fd,useInsertionEffect:Of,useLayoutEffect:su,useMemo:ud,useReducer:sd,useRef:af,useState:function(){return sd(tl)},useDebugValue:of,useDeferredValue:function(ze,Ge){var er=Sa();return lf(er,ls.memoizedState,ze,Ge)},useTransition:function(){var ze=sd(tl)[0],Ge=Sa().memoizedState;return[typeof ze=="boolean"?ze:Dc(ze),Ge]},useSyncExternalStore:jd,useId:kf,useHostTransitionStatus:kd,useFormState:nf,useActionState:nf,useOptimistic:function(ze,Ge){var er=Sa();return Ql(er,ls,ze,Ge)},useMemoCache:iu,useCacheRefresh:fh},mh={readContext:qa,use:el,useCallback:Ja,useContext:qa,useEffect:uh,useImperativeHandle:Fd,useInsertionEffect:Of,useLayoutEffect:su,useMemo:ud,useReducer:Cu,useRef:af,useState:function(){return Cu(tl)},useDebugValue:of,useDeferredValue:function(ze,Ge){var er=Sa();return ls===null?Iu(er,ze,Ge):lf(er,ls.memoizedState,ze,Ge)},useTransition:function(){var ze=Cu(tl)[0],Ge=Sa().memoizedState;return[typeof ze=="boolean"?ze:Dc(ze),Ge]},useSyncExternalStore:jd,useId:kf,useHostTransitionStatus:kd,useFormState:ch,useActionState:ch,useOptimistic:function(ze,Ge){var er=Sa();return ls!==null?Ql(er,ls,ze,Ge):(er.baseState=ze,[ze,er.queue.dispatch])},useMemoCache:iu,useCacheRefresh:fh},ju=null,$f=0;function Vf(ze){var Ge=$f;return $f+=1,ju===null&&(ju=[]),Hn(ju,ze,Ge)}function Md(ze,Ge){Ge=Ge.props.ref,ze.ref=Ge!==void 0?Ge:null}function Hf(ze,Ge){throw Ge.$$typeof===He?Error(Be(525)):(ze=Object.prototype.toString.call(Ge),Error(Be(31,ze==="[object Object]"?"object with keys {"+Object.keys(Ge).join(", ")+"}":ze)))}function Mh(ze){var Ge=ze._init;return Ge(ze._payload)}function Lh(ze){function Ge(On,Rn){if(ze){var Qn=On.deletions;Qn===null?(On.deletions=[Rn],On.flags|=16):Qn.push(Rn)}}function er(On,Rn){if(!ze)return null;for(;Rn!==null;)Ge(On,Rn),Rn=Rn.sibling;return null}function ir(On){for(var Rn=new Map;On!==null;)On.key!==null?Rn.set(On.key,On):Rn.set(On.index,On),On=On.sibling;return Rn}function mr(On,Rn){return On=Uo(On,Rn),On.index=0,On.sibling=null,On}function Sr(On,Rn,Qn){return On.index=Qn,ze?(Qn=On.alternate,Qn!==null?(Qn=Qn.index,Qn<Rn?(On.flags|=67108866,Rn):Qn):(On.flags|=67108866,Rn)):(On.flags|=1048576,Rn)}function Vr(On){return ze&&On.alternate===null&&(On.flags|=67108866),On}function rn(On,Rn,Qn,mi){return Rn===null||Rn.tag!==6?(Rn=qd(Qn,On.mode,mi),Rn.return=On,Rn):(Rn=mr(Rn,Qn),Rn.return=On,Rn)}function yn(On,Rn,Qn,mi){var Ji=Qn.type;return Ji===qe?di(On,Rn,Qn.props.children,mi,Qn.key):Rn!==null&&(Rn.elementType===Ji||typeof Ji=="object"&&Ji!==null&&Ji.$$typeof===sr&&Mh(Ji)===Rn.type)?(Rn=mr(Rn,Qn.props),Md(Rn,Qn),Rn.return=On,Rn):(Rn=vu(Qn.type,Qn.key,Qn.props,null,On.mode,mi),Md(Rn,Qn),Rn.return=On,Rn)}function Gn(On,Rn,Qn,mi){return Rn===null||Rn.tag!==4||Rn.stateNode.containerInfo!==Qn.containerInfo||Rn.stateNode.implementation!==Qn.implementation?(Rn=Cd(Qn,On.mode,mi),Rn.return=On,Rn):(Rn=mr(Rn,Qn.children||[]),Rn.return=On,Rn)}function di(On,Rn,Qn,mi,Ji){return Rn===null||Rn.tag!==7?(Rn=Sl(Qn,On.mode,mi,Ji),Rn.return=On,Rn):(Rn=mr(Rn,Qn),Rn.return=On,Rn)}function vi(On,Rn,Qn){if(typeof Rn=="string"&&Rn!==""||typeof Rn=="number"||typeof Rn=="bigint")return Rn=qd(""+Rn,On.mode,Qn),Rn.return=On,Rn;if(typeof Rn=="object"&&Rn!==null){switch(Rn.$$typeof){case Qe:return Qn=vu(Rn.type,Rn.key,Rn.props,null,On.mode,Qn),Md(Qn,Rn),Qn.return=On,Qn;case We:return Rn=Cd(Rn,On.mode,Qn),Rn.return=On,Rn;case sr:var mi=Rn._init;return Rn=mi(Rn._payload),vi(On,Rn,Qn)}if(jr(Rn)||or(Rn))return Rn=Sl(Rn,On.mode,Qn,null),Rn.return=On,Rn;if(typeof Rn.then=="function")return vi(On,Vf(Rn),Qn);if(Rn.$$typeof===Je)return vi(On,Vl(On,Rn),Qn);Hf(On,Rn)}return null}function Yn(On,Rn,Qn,mi){var Ji=Rn!==null?Rn.key:null;if(typeof Qn=="string"&&Qn!==""||typeof Qn=="number"||typeof Qn=="bigint")return Ji!==null?null:rn(On,Rn,""+Qn,mi);if(typeof Qn=="object"&&Qn!==null){switch(Qn.$$typeof){case Qe:return Qn.key===Ji?yn(On,Rn,Qn,mi):null;case We:return Qn.key===Ji?Gn(On,Rn,Qn,mi):null;case sr:return Ji=Qn._init,Qn=Ji(Qn._payload),Yn(On,Rn,Qn,mi)}if(jr(Qn)||or(Qn))return Ji!==null?null:di(On,Rn,Qn,mi,null);if(typeof Qn.then=="function")return Yn(On,Rn,Vf(Qn),mi);if(Qn.$$typeof===Je)return Yn(On,Rn,Vl(On,Qn),mi);Hf(On,Qn)}return null}function Xn(On,Rn,Qn,mi,Ji){if(typeof mi=="string"&&mi!==""||typeof mi=="number"||typeof mi=="bigint")return On=On.get(Qn)||null,rn(Rn,On,""+mi,Ji);if(typeof mi=="object"&&mi!==null){switch(mi.$$typeof){case Qe:return On=On.get(mi.key===null?Qn:mi.key)||null,yn(Rn,On,mi,Ji);case We:return On=On.get(mi.key===null?Qn:mi.key)||null,Gn(Rn,On,mi,Ji);case sr:var Ds=mi._init;return mi=Ds(mi._payload),Xn(On,Rn,Qn,mi,Ji)}if(jr(mi)||or(mi))return On=On.get(Qn)||null,di(Rn,On,mi,Ji,null);if(typeof mi.then=="function")return Xn(On,Rn,Qn,Vf(mi),Ji);if(mi.$$typeof===Je)return Xn(On,Rn,Qn,Vl(Rn,mi),Ji);Hf(Rn,mi)}return null}function ms(On,Rn,Qn,mi){for(var Ji=null,Ds=null,rs=Rn,hs=Rn=0,il=null;rs!==null&&hs<Qn.length;hs++){rs.index>hs?(il=rs,rs=null):il=rs.sibling;var ta=Yn(On,rs,Qn[hs],mi);if(ta===null){rs===null&&(rs=il);break}ze&&rs&&ta.alternate===null&&Ge(On,rs),Rn=Sr(ta,Rn,hs),Ds===null?Ji=ta:Ds.sibling=ta,Ds=ta,rs=il}if(hs===Qn.length)return er(On,rs),zs&&bu(On,hs),Ji;if(rs===null){for(;hs<Qn.length;hs++)rs=vi(On,Qn[hs],mi),rs!==null&&(Rn=Sr(rs,Rn,hs),Ds===null?Ji=rs:Ds.sibling=rs,Ds=rs);return zs&&bu(On,hs),Ji}for(rs=ir(rs);hs<Qn.length;hs++)il=Xn(rs,On,hs,Qn[hs],mi),il!==null&&(ze&&il.alternate!==null&&rs.delete(il.key===null?hs:il.key),Rn=Sr(il,Rn,hs),Ds===null?Ji=il:Ds.sibling=il,Ds=il);return ze&&rs.forEach(function(Sf){return Ge(On,Sf)}),zs&&bu(On,hs),Ji}function us(On,Rn,Qn,mi){if(Qn==null)throw Error(Be(151));for(var Ji=null,Ds=null,rs=Rn,hs=Rn=0,il=null,ta=Qn.next();rs!==null&&!ta.done;hs++,ta=Qn.next()){rs.index>hs?(il=rs,rs=null):il=rs.sibling;var Sf=Yn(On,rs,ta.value,mi);if(Sf===null){rs===null&&(rs=il);break}ze&&rs&&Sf.alternate===null&&Ge(On,rs),Rn=Sr(Sf,Rn,hs),Ds===null?Ji=Sf:Ds.sibling=Sf,Ds=Sf,rs=il}if(ta.done)return er(On,rs),zs&&bu(On,hs),Ji;if(rs===null){for(;!ta.done;hs++,ta=Qn.next())ta=vi(On,ta.value,mi),ta!==null&&(Rn=Sr(ta,Rn,hs),Ds===null?Ji=ta:Ds.sibling=ta,Ds=ta);return zs&&bu(On,hs),Ji}for(rs=ir(rs);!ta.done;hs++,ta=Qn.next())ta=Xn(rs,On,hs,ta.value,mi),ta!==null&&(ze&&ta.alternate!==null&&rs.delete(ta.key===null?hs:ta.key),Rn=Sr(ta,Rn,hs),Ds===null?Ji=ta:Ds.sibling=ta,Ds=ta);return ze&&rs.forEach(function(ag){return Ge(On,ag)}),zs&&bu(On,hs),Ji}function va(On,Rn,Qn,mi){if(typeof Qn=="object"&&Qn!==null&&Qn.type===qe&&Qn.key===null&&(Qn=Qn.props.children),typeof Qn=="object"&&Qn!==null){switch(Qn.$$typeof){case Qe:e:{for(var Ji=Qn.key;Rn!==null;){if(Rn.key===Ji){if(Ji=Qn.type,Ji===qe){if(Rn.tag===7){er(On,Rn.sibling),mi=mr(Rn,Qn.props.children),mi.return=On,On=mi;break e}}else if(Rn.elementType===Ji||typeof Ji=="object"&&Ji!==null&&Ji.$$typeof===sr&&Mh(Ji)===Rn.type){er(On,Rn.sibling),mi=mr(Rn,Qn.props),Md(mi,Qn),mi.return=On,On=mi;break e}er(On,Rn);break}else Ge(On,Rn);Rn=Rn.sibling}Qn.type===qe?(mi=Sl(Qn.props.children,On.mode,mi,Qn.key),mi.return=On,On=mi):(mi=vu(Qn.type,Qn.key,Qn.props,null,On.mode,mi),Md(mi,Qn),mi.return=On,On=mi)}return Vr(On);case We:e:{for(Ji=Qn.key;Rn!==null;){if(Rn.key===Ji)if(Rn.tag===4&&Rn.stateNode.containerInfo===Qn.containerInfo&&Rn.stateNode.implementation===Qn.implementation){er(On,Rn.sibling),mi=mr(Rn,Qn.children||[]),mi.return=On,On=mi;break e}else{er(On,Rn);break}else Ge(On,Rn);Rn=Rn.sibling}mi=Cd(Qn,On.mode,mi),mi.return=On,On=mi}return Vr(On);case sr:return Ji=Qn._init,Qn=Ji(Qn._payload),va(On,Rn,Qn,mi)}if(jr(Qn))return ms(On,Rn,Qn,mi);if(or(Qn)){if(Ji=or(Qn),typeof Ji!="function")throw Error(Be(150));return Qn=Ji.call(Qn),us(On,Rn,Qn,mi)}if(typeof Qn.then=="function")return va(On,Rn,Vf(Qn),mi);if(Qn.$$typeof===Je)return va(On,Rn,Vl(On,Qn),mi);Hf(On,Qn)}return typeof Qn=="string"&&Qn!==""||typeof Qn=="number"||typeof Qn=="bigint"?(Qn=""+Qn,Rn!==null&&Rn.tag===6?(er(On,Rn.sibling),mi=mr(Rn,Qn),mi.return=On,On=mi):(er(On,Rn),mi=qd(Qn,On.mode,mi),mi.return=On,On=mi),Vr(On)):er(On,Rn)}return function(On,Rn,Qn,mi){try{$f=0;var Ji=va(On,Rn,Qn,mi);return ju=null,Ji}catch(rs){if(rs===Gr||rs===tn)throw rs;var Ds=Bo(29,rs,null,On.mode);return Ds.lanes=mi,Ds.return=On,Ds}finally{}}}var uf=Lh(!0),Qf=Lh(!1),Kl=Lr(null),kc=null;function hd(ze){var Ge=ze.alternate;vr(Za,Za.current&1),vr(Kl,ze),kc===null&&(Ge===null||bs.current!==null||Ge.memoizedState!==null)&&(kc=ze)}function EA(ze){if(ze.tag===22){if(vr(Za,Za.current),vr(Kl,ze),kc===null){var Ge=ze.alternate;Ge!==null&&Ge.memoizedState!==null&&(kc=ze)}}else Bu()}function Bu(){vr(Za,Za.current),vr(Kl,Kl.current)}function Rl(ze){yr(Kl),kc===ze&&(kc=null),yr(Za)}var Za=Lr(0);function Ld(ze){for(var Ge=ze;Ge!==null;){if(Ge.tag===13){var er=Ge.memoizedState;if(er!==null&&(er=er.dehydrated,er===null||er.data==="$?"||_p(er)))return Ge}else if(Ge.tag===19&&Ge.memoizedProps.revealOrder!==void 0){if((Ge.flags&128)!==0)return Ge}else if(Ge.child!==null){Ge.child.return=Ge,Ge=Ge.child;continue}if(Ge===ze)break;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===ze)return null;Ge=Ge.return}Ge.sibling.return=Ge.return,Ge=Ge.sibling}return null}function Uh(ze,Ge,er,ir){Ge=ze.memoizedState,er=er(ir,Ge),er=er==null?Ge:$e({},Ge,er),ze.memoizedState=er,ze.lanes===0&&(ze.updateQueue.baseState=er)}var $h={enqueueSetState:function(ze,Ge,er){ze=ze._reactInternals;var ir=Hi(),mr=li(ir);mr.payload=Ge,er!=null&&(mr.callback=er),Ge=Ai(ze,mr,ir),Ge!==null&&(ki(Ge,ze,ir),ui(Ge,ze,ir))},enqueueReplaceState:function(ze,Ge,er){ze=ze._reactInternals;var ir=Hi(),mr=li(ir);mr.tag=1,mr.payload=Ge,er!=null&&(mr.callback=er),Ge=Ai(ze,mr,ir),Ge!==null&&(ki(Ge,ze,ir),ui(Ge,ze,ir))},enqueueForceUpdate:function(ze,Ge){ze=ze._reactInternals;var er=Hi(),ir=li(er);ir.tag=2,Ge!=null&&(ir.callback=Ge),Ge=Ai(ze,ir,er),Ge!==null&&(ki(Ge,ze,er),ui(Ge,ze,er))}};function wA(ze,Ge,er,ir,mr,Sr,Vr){return ze=ze.stateNode,typeof ze.shouldComponentUpdate=="function"?ze.shouldComponentUpdate(ir,Sr,Vr):Ge.prototype&&Ge.prototype.isPureReactComponent?!Mo(er,ir)||!Mo(mr,Sr):!0}function SA(ze,Ge,er,ir){ze=Ge.state,typeof Ge.componentWillReceiveProps=="function"&&Ge.componentWillReceiveProps(er,ir),typeof Ge.UNSAFE_componentWillReceiveProps=="function"&&Ge.UNSAFE_componentWillReceiveProps(er,ir),Ge.state!==ze&&$h.enqueueReplaceState(Ge,Ge.state,null)}function Ad(ze,Ge){var er=Ge;if("ref"in Ge){er={};for(var ir in Ge)ir!=="ref"&&(er[ir]=Ge[ir])}if(ze=ze.defaultProps){er===Ge&&(er=$e({},er));for(var mr in ze)er[mr]===void 0&&(er[mr]=ze[mr])}return er}var df=typeof reportError=="function"?reportError:function(ze){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ze=="object"&&ze!==null&&typeof ze.message=="string"?String(ze.message):String(ze),error:ze});if(!window.dispatchEvent(Ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ze);return}console.error(ze)};function Vh(ze){df(ze)}function Hh(ze){console.error(ze)}function gh(ze){df(ze)}function zf(ze,Ge){try{var er=ze.onUncaughtError;er(Ge.value,{componentStack:Ge.stack})}catch(ir){setTimeout(function(){throw ir})}}function Qh(ze,Ge,er){try{var ir=ze.onCaughtError;ir(er.value,{componentStack:er.stack,errorBoundary:Ge.tag===1?Ge.stateNode:null})}catch(mr){setTimeout(function(){throw mr})}}function zh(ze,Ge,er){return er=li(er),er.tag=3,er.payload={element:null},er.callback=function(){zf(ze,Ge)},er}function Wf(ze){return ze=li(ze),ze.tag=3,ze}function Kf(ze,Ge,er,ir){var mr=er.type.getDerivedStateFromError;if(typeof mr=="function"){var Sr=ir.value;ze.payload=function(){return mr(Sr)},ze.callback=function(){Qh(Ge,er,ir)}}var Vr=er.stateNode;Vr!==null&&typeof Vr.componentDidCatch=="function"&&(ze.callback=function(){Qh(Ge,er,ir),typeof mr!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var rn=ir.stack;this.componentDidCatch(ir.value,{componentStack:rn!==null?rn:""})})}function CA(ze,Ge,er,ir,mr){if(er.flags|=32768,ir!==null&&typeof ir=="object"&&typeof ir.then=="function"){if(Ge=er.alternate,Ge!==null&&nd(Ge,er,mr,!0),er=Kl.current,er!==null){switch(er.tag){case 13:return kc===null?za():er.alternate===null&&Qa===0&&(Qa=3),er.flags&=-257,er.flags|=65536,er.lanes=mr,ir===nn?er.flags|=16384:(Ge=er.updateQueue,Ge===null?er.updateQueue=new Set([ir]):Ge.add(ir),op(ze,ir,mr)),!1;case 22:return er.flags|=65536,ir===nn?er.flags|=16384:(Ge=er.updateQueue,Ge===null?(Ge={transitions:null,markerInstances:null,retryQueue:new Set([ir])},er.updateQueue=Ge):(er=Ge.retryQueue,er===null?Ge.retryQueue=new Set([ir]):er.add(ir)),op(ze,ir,mr)),!1}throw Error(Be(435,er.tag))}return op(ze,ir,mr),za(),!1}if(zs)return Ge=Kl.current,Ge!==null?((Ge.flags&65536)===0&&(Ge.flags|=256),Ge.flags|=65536,Ge.lanes=mr,ir!==Cf&&(ze=Error(Be(422),{cause:ir}),rd(ws(ze,er)))):(ir!==Cf&&(Ge=Error(Be(423),{cause:ir}),rd(ws(Ge,er))),ze=ze.current.alternate,ze.flags|=65536,mr&=-mr,ze.lanes|=mr,ir=ws(ir,er),mr=zh(ze.stateNode,ir,mr),Ki(ze,mr),Qa!==4&&(Qa=2)),!1;var Sr=Error(Be(520),{cause:ir});if(Sr=ws(Sr,er),th===null?th=[Sr]:th.push(Sr),Qa!==4&&(Qa=2),Ge===null)return!0;ir=ws(ir,er),er=Ge;do{switch(er.tag){case 3:return er.flags|=65536,ze=mr&-mr,er.lanes|=ze,ze=zh(er.stateNode,ir,ze),Ki(er,ze),!1;case 1:if(Ge=er.type,Sr=er.stateNode,(er.flags&128)===0&&(typeof Ge.getDerivedStateFromError=="function"||Sr!==null&&typeof Sr.componentDidCatch=="function"&&(Ar===null||!Ar.has(Sr))))return er.flags|=65536,mr&=-mr,er.lanes|=mr,mr=Wf(mr),Kf(mr,ze,er,ir),Ki(er,mr),!1}er=er.return}while(er!==null);return!1}var Wh=Error(Be(461)),Do=!1;function Fo(ze,Ge,er,ir){Ge.child=ze===null?Qf(Ge,null,er,ir):uf(Ge,ze.child,er,ir)}function Kh(ze,Ge,er,ir,mr){er=er.render;var Sr=Ge.ref;if("ref"in ir){var Vr={};for(var rn in ir)rn!=="ref"&&(Vr[rn]=ir[rn])}else Vr=ir;return uc(Ge),ir=Hl(ze,Ge,er,Vr,Sr,mr),rn=ma(),ze!==null&&!Do?(Id(ze,Ge,mr),Ou(ze,Ge,mr)):(zs&&rn&&Td(Ge),Ge.flags|=1,Fo(ze,Ge,ir,mr),Ge.child)}function TA(ze,Ge,er,ir,mr){if(ze===null){var Sr=er.type;return typeof Sr=="function"&&!ed(Sr)&&Sr.defaultProps===void 0&&er.compare===null?(Ge.tag=15,Ge.type=Sr,RA(ze,Ge,Sr,ir,mr)):(ze=vu(er.type,null,ir,Ge,Ge.mode,mr),ze.ref=Ge.ref,ze.return=Ge,Ge.child=ze)}if(Sr=ze.child,!Xh(ze,mr)){var Vr=Sr.memoizedProps;if(er=er.compare,er=er!==null?er:Mo,er(Vr,ir)&&ze.ref===Ge.ref)return Ou(ze,Ge,mr)}return Ge.flags|=1,ze=Uo(Sr,ir),ze.ref=Ge.ref,ze.return=Ge,Ge.child=ze}function RA(ze,Ge,er,ir,mr){if(ze!==null){var Sr=ze.memoizedProps;if(Mo(Sr,ir)&&ze.ref===Ge.ref)if(Do=!1,Ge.pendingProps=ir=Sr,Xh(ze,mr))(ze.flags&131072)!==0&&(Do=!0);else return Ge.lanes=ze.lanes,Ou(ze,Ge,mr)}return Nu(ze,Ge,er,ir,mr)}function Ud(ze,Ge,er){var ir=Ge.pendingProps,mr=ir.children,Sr=ze!==null?ze.memoizedState:null;if(ir.mode==="hidden"){if((Ge.flags&128)!==0){if(ir=Sr!==null?Sr.baseLanes|er:er,ze!==null){for(mr=Ge.child=ze.child,Sr=0;mr!==null;)Sr=Sr|mr.lanes|mr.childLanes,mr=mr.sibling;Ge.childLanes=Sr&~ir}else Ge.childLanes=0,Ge.child=null;return Gh(ze,Ge,ir,er)}if((er&536870912)!==0)Ge.memoizedState={baseLanes:0,cachePool:null},ze!==null&&Mr(Ge,Sr!==null?Sr.cachePool:null),Sr!==null?Zs(Ge,Sr):Gs(),EA(Ge);else return Ge.lanes=Ge.childLanes=536870912,Gh(ze,Ge,Sr!==null?Sr.baseLanes|er:er,er)}else Sr!==null?(Mr(Ge,Sr.cachePool),Zs(Ge,Sr),Bu(),Ge.memoizedState=null):(ze!==null&&Mr(Ge,null),Gs(),Bu());return Fo(ze,Ge,mr,er),Ge.child}function Gh(ze,Ge,er,ir){var mr=Ir();return mr=mr===null?null:{parent:Ya._currentValue,pool:mr},Ge.memoizedState={baseLanes:er,cachePool:mr},ze!==null&&Mr(Ge,null),Gs(),EA(Ge),ze!==null&&nd(ze,Ge,ir,!0),null}function Ba(ze,Ge){var er=Ge.ref;if(er===null)ze!==null&&ze.ref!==null&&(Ge.flags|=4194816);else{if(typeof er!="function"&&typeof er!="object")throw Error(Be(284));(ze===null||ze.ref!==er)&&(Ge.flags|=4194816)}}function Nu(ze,Ge,er,ir,mr){return uc(Ge),er=Hl(ze,Ge,er,ir,void 0,mr),ir=ma(),ze!==null&&!Do?(Id(ze,Ge,mr),Ou(ze,Ge,mr)):(zs&&ir&&Td(Ge),Ge.flags|=1,Fo(ze,Ge,er,mr),Ge.child)}function $d(ze,Ge,er,ir,mr,Sr){return uc(Ge),Ge.updateQueue=null,er=wu(Ge,ir,er,mr),dc(ze),ir=ma(),ze!==null&&!Do?(Id(ze,Ge,Sr),Ou(ze,Ge,Sr)):(zs&&ir&&Td(Ge),Ge.flags|=1,Fo(ze,Ge,er,Sr),Ge.child)}function Du(ze,Ge,er,ir,mr){if(uc(Ge),Ge.stateNode===null){var Sr=po,Vr=er.contextType;typeof Vr=="object"&&Vr!==null&&(Sr=qa(Vr)),Sr=new er(ir,Sr),Ge.memoizedState=Sr.state!==null&&Sr.state!==void 0?Sr.state:null,Sr.updater=$h,Ge.stateNode=Sr,Sr._reactInternals=Ge,Sr=Ge.stateNode,Sr.props=ir,Sr.state=Ge.memoizedState,Sr.refs={},Sn(Ge),Vr=er.contextType,Sr.context=typeof Vr=="object"&&Vr!==null?qa(Vr):po,Sr.state=Ge.memoizedState,Vr=er.getDerivedStateFromProps,typeof Vr=="function"&&(Uh(Ge,er,Vr,ir),Sr.state=Ge.memoizedState),typeof er.getDerivedStateFromProps=="function"||typeof Sr.getSnapshotBeforeUpdate=="function"||typeof Sr.UNSAFE_componentWillMount!="function"&&typeof Sr.componentWillMount!="function"||(Vr=Sr.state,typeof Sr.componentWillMount=="function"&&Sr.componentWillMount(),typeof Sr.UNSAFE_componentWillMount=="function"&&Sr.UNSAFE_componentWillMount(),Vr!==Sr.state&&$h.enqueueReplaceState(Sr,Sr.state,null),Vi(Ge,ir,Sr,mr),es(),Sr.state=Ge.memoizedState),typeof Sr.componentDidMount=="function"&&(Ge.flags|=4194308),ir=!0}else if(ze===null){Sr=Ge.stateNode;var rn=Ge.memoizedProps,yn=Ad(er,rn);Sr.props=yn;var Gn=Sr.context,di=er.contextType;Vr=po,typeof di=="object"&&di!==null&&(Vr=qa(di));var vi=er.getDerivedStateFromProps;di=typeof vi=="function"||typeof Sr.getSnapshotBeforeUpdate=="function",rn=Ge.pendingProps!==rn,di||typeof Sr.UNSAFE_componentWillReceiveProps!="function"&&typeof Sr.componentWillReceiveProps!="function"||(rn||Gn!==Vr)&&SA(Ge,Sr,ir,Vr),Zn=!1;var Yn=Ge.memoizedState;Sr.state=Yn,Vi(Ge,ir,Sr,mr),es(),Gn=Ge.memoizedState,rn||Yn!==Gn||Zn?(typeof vi=="function"&&(Uh(Ge,er,vi,ir),Gn=Ge.memoizedState),(yn=Zn||wA(Ge,er,yn,ir,Yn,Gn,Vr))?(di||typeof Sr.UNSAFE_componentWillMount!="function"&&typeof Sr.componentWillMount!="function"||(typeof Sr.componentWillMount=="function"&&Sr.componentWillMount(),typeof Sr.UNSAFE_componentWillMount=="function"&&Sr.UNSAFE_componentWillMount()),typeof Sr.componentDidMount=="function"&&(Ge.flags|=4194308)):(typeof Sr.componentDidMount=="function"&&(Ge.flags|=4194308),Ge.memoizedProps=ir,Ge.memoizedState=Gn),Sr.props=ir,Sr.state=Gn,Sr.context=Vr,ir=yn):(typeof Sr.componentDidMount=="function"&&(Ge.flags|=4194308),ir=!1)}else{Sr=Ge.stateNode,In(ze,Ge),Vr=Ge.memoizedProps,di=Ad(er,Vr),Sr.props=di,vi=Ge.pendingProps,Yn=Sr.context,Gn=er.contextType,yn=po,typeof Gn=="object"&&Gn!==null&&(yn=qa(Gn)),rn=er.getDerivedStateFromProps,(Gn=typeof rn=="function"||typeof Sr.getSnapshotBeforeUpdate=="function")||typeof Sr.UNSAFE_componentWillReceiveProps!="function"&&typeof Sr.componentWillReceiveProps!="function"||(Vr!==vi||Yn!==yn)&&SA(Ge,Sr,ir,yn),Zn=!1,Yn=Ge.memoizedState,Sr.state=Yn,Vi(Ge,ir,Sr,mr),es();var Xn=Ge.memoizedState;Vr!==vi||Yn!==Xn||Zn||ze!==null&&ze.dependencies!==null&&Zd(ze.dependencies)?(typeof rn=="function"&&(Uh(Ge,er,rn,ir),Xn=Ge.memoizedState),(di=Zn||wA(Ge,er,di,ir,Yn,Xn,yn)||ze!==null&&ze.dependencies!==null&&Zd(ze.dependencies))?(Gn||typeof Sr.UNSAFE_componentWillUpdate!="function"&&typeof Sr.componentWillUpdate!="function"||(typeof Sr.componentWillUpdate=="function"&&Sr.componentWillUpdate(ir,Xn,yn),typeof Sr.UNSAFE_componentWillUpdate=="function"&&Sr.UNSAFE_componentWillUpdate(ir,Xn,yn)),typeof Sr.componentDidUpdate=="function"&&(Ge.flags|=4),typeof Sr.getSnapshotBeforeUpdate=="function"&&(Ge.flags|=1024)):(typeof Sr.componentDidUpdate!="function"||Vr===ze.memoizedProps&&Yn===ze.memoizedState||(Ge.flags|=4),typeof Sr.getSnapshotBeforeUpdate!="function"||Vr===ze.memoizedProps&&Yn===ze.memoizedState||(Ge.flags|=1024),Ge.memoizedProps=ir,Ge.memoizedState=Xn),Sr.props=ir,Sr.state=Xn,Sr.context=yn,ir=di):(typeof Sr.componentDidUpdate!="function"||Vr===ze.memoizedProps&&Yn===ze.memoizedState||(Ge.flags|=4),typeof Sr.getSnapshotBeforeUpdate!="function"||Vr===ze.memoizedProps&&Yn===ze.memoizedState||(Ge.flags|=1024),ir=!1)}return Sr=ir,Ba(ze,Ge),ir=(Ge.flags&128)!==0,Sr||ir?(Sr=Ge.stateNode,er=ir&&typeof er.getDerivedStateFromError!="function"?null:Sr.render(),Ge.flags|=1,ze!==null&&ir?(Ge.child=uf(Ge,ze.child,null,mr),Ge.child=uf(Ge,null,er,mr)):Fo(ze,Ge,er,mr),Ge.memoizedState=Sr.state,ze=Ge.child):ze=Ou(ze,Ge,mr),ze}function Fu(ze,Ge,er,ir){return No(),Ge.flags|=256,Fo(ze,Ge,er,ir),Ge.child}var Vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mc(ze){return{baseLanes:ze,cachePool:Qr()}}function xh(ze,Ge,er){return ze=ze!==null?ze.childLanes&~er:0,Ge&&(ze|=Ac),ze}function qh(ze,Ge,er){var ir=Ge.pendingProps,mr=!1,Sr=(Ge.flags&128)!==0,Vr;if((Vr=Sr)||(Vr=ze!==null&&ze.memoizedState===null?!1:(Za.current&2)!==0),Vr&&(mr=!0,Ge.flags&=-129),Vr=(Ge.flags&32)!==0,Ge.flags&=-33,ze===null){if(zs){if(mr?hd(Ge):Bu(),zs){var rn=Ia,yn;if(yn=rn){e:{for(yn=rn,rn=oc;yn.nodeType!==8;){if(!rn){rn=null;break e}if(yn=Ku(yn.nextSibling),yn===null){rn=null;break e}}rn=yn}rn!==null?(Ge.memoizedState={dehydrated:rn,treeContext:yu!==null?{id:Tl,overflow:Ic}:null,retryLane:536870912,hydrationErrors:null},yn=Bo(18,null,null,0),yn.stateNode=rn,yn.return=Ge,Ge.child=yn,Ga=Ge,Ia=null,yn=!0):yn=!1}yn||_u(Ge)}if(rn=Ge.memoizedState,rn!==null&&(rn=rn.dehydrated,rn!==null))return _p(rn)?Ge.lanes=32:Ge.lanes=536870912,null;Rl(Ge)}return rn=ir.children,ir=ir.fallback,mr?(Bu(),mr=Ge.mode,rn=ff({mode:"hidden",children:rn},mr),ir=Sl(ir,mr,er,null),rn.return=Ge,ir.return=Ge,rn.sibling=ir,Ge.child=rn,mr=Ge.child,mr.memoizedState=Mc(er),mr.childLanes=xh(ze,Vr,er),Ge.memoizedState=Vd,ir):(hd(Ge),yh(Ge,rn))}if(yn=ze.memoizedState,yn!==null&&(rn=yn.dehydrated,rn!==null)){if(Sr)Ge.flags&256?(hd(Ge),Ge.flags&=-257,Ge=Hd(ze,Ge,er)):Ge.memoizedState!==null?(Bu(),Ge.child=ze.child,Ge.flags|=128,Ge=null):(Bu(),mr=ir.fallback,rn=Ge.mode,ir=ff({mode:"visible",children:ir.children},rn),mr=Sl(mr,rn,er,null),mr.flags|=2,ir.return=Ge,mr.return=Ge,ir.sibling=mr,Ge.child=ir,uf(Ge,ze.child,null,er),ir=Ge.child,ir.memoizedState=Mc(er),ir.childLanes=xh(ze,Vr,er),Ge.memoizedState=Vd,Ge=mr);else if(hd(Ge),_p(rn)){if(Vr=rn.nextSibling&&rn.nextSibling.dataset,Vr)var Gn=Vr.dgst;Vr=Gn,ir=Error(Be(419)),ir.stack="",ir.digest=Vr,rd({value:ir,source:null,stack:null}),Ge=Hd(ze,Ge,er)}else if(Do||nd(ze,Ge,er,!1),Vr=(er&ze.childLanes)!==0,Do||Vr){if(Vr=ga,Vr!==null&&(ir=er&-er,ir=(ir&42)!==0?1:Zi(ir),ir=(ir&(Vr.suspendedLanes|er))!==0?0:ir,ir!==0&&ir!==yn.retryLane))throw yn.retryLane=ir,Tc(ze,ir),ki(Vr,ze,ir),Wh;rn.data==="$?"||za(),Ge=Hd(ze,Ge,er)}else rn.data==="$?"?(Ge.flags|=192,Ge.child=ze.child,Ge=null):(ze=yn.treeContext,Ia=Ku(rn.nextSibling),Ga=Ge,zs=!0,ru=null,oc=!1,ze!==null&&(Cl[ll++]=Tl,Cl[ll++]=Ic,Cl[ll++]=yu,Tl=ze.id,Ic=ze.overflow,yu=Ge),Ge=yh(Ge,ir.children),Ge.flags|=4096);return Ge}return mr?(Bu(),mr=ir.fallback,rn=Ge.mode,yn=ze.child,Gn=yn.sibling,ir=Uo(yn,{mode:"hidden",children:ir.children}),ir.subtreeFlags=yn.subtreeFlags&65011712,Gn!==null?mr=Uo(Gn,mr):(mr=Sl(mr,rn,er,null),mr.flags|=2),mr.return=Ge,ir.return=Ge,ir.sibling=mr,Ge.child=ir,ir=mr,mr=Ge.child,rn=ze.child.memoizedState,rn===null?rn=Mc(er):(yn=rn.cachePool,yn!==null?(Gn=Ya._currentValue,yn=yn.parent!==Gn?{parent:Gn,pool:Gn}:yn):yn=Qr(),rn={baseLanes:rn.baseLanes|er,cachePool:yn}),mr.memoizedState=rn,mr.childLanes=xh(ze,Vr,er),Ge.memoizedState=Vd,ir):(hd(Ge),er=ze.child,ze=er.sibling,er=Uo(er,{mode:"visible",children:ir.children}),er.return=Ge,er.sibling=null,ze!==null&&(Vr=Ge.deletions,Vr===null?(Ge.deletions=[ze],Ge.flags|=16):Vr.push(ze)),Ge.child=er,Ge.memoizedState=null,er)}function yh(ze,Ge){return Ge=ff({mode:"visible",children:Ge},ze.mode),Ge.return=ze,ze.child=Ge}function ff(ze,Ge){return ze=Bo(22,ze,null,Ge),ze.lanes=0,ze.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},ze}function Hd(ze,Ge,er){return uf(Ge,ze.child,null,er),ze=yh(Ge,Ge.pendingProps.children),ze.flags|=2,Ge.memoizedState=null,ze}function Yh(ze,Ge,er){ze.lanes|=Ge;var ir=ze.alternate;ir!==null&&(ir.lanes|=Ge),Xd(ze.return,Ge,er)}function bh(ze,Ge,er,ir,mr){var Sr=ze.memoizedState;Sr===null?ze.memoizedState={isBackwards:Ge,rendering:null,renderingStartTime:0,last:ir,tail:er,tailMode:mr}:(Sr.isBackwards=Ge,Sr.rendering=null,Sr.renderingStartTime=0,Sr.last=ir,Sr.tail=er,Sr.tailMode=mr)}function hf(ze,Ge,er){var ir=Ge.pendingProps,mr=ir.revealOrder,Sr=ir.tail;if(Fo(ze,Ge,ir.children,er),ir=Za.current,(ir&2)!==0)ir=ir&1|2,Ge.flags|=128;else{if(ze!==null&&(ze.flags&128)!==0)e:for(ze=Ge.child;ze!==null;){if(ze.tag===13)ze.memoizedState!==null&&Yh(ze,er,Ge);else if(ze.tag===19)Yh(ze,er,Ge);else if(ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===Ge)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===Ge)break e;ze=ze.return}ze.sibling.return=ze.return,ze=ze.sibling}ir&=1}switch(vr(Za,ir),mr){case"forwards":for(er=Ge.child,mr=null;er!==null;)ze=er.alternate,ze!==null&&Ld(ze)===null&&(mr=er),er=er.sibling;er=mr,er===null?(mr=Ge.child,Ge.child=null):(mr=er.sibling,er.sibling=null),bh(Ge,!1,mr,er,Sr);break;case"backwards":for(er=null,mr=Ge.child,Ge.child=null;mr!==null;){if(ze=mr.alternate,ze!==null&&Ld(ze)===null){Ge.child=mr;break}ze=mr.sibling,mr.sibling=er,er=mr,mr=ze}bh(Ge,!0,er,null,Sr);break;case"together":bh(Ge,!1,null,null,void 0);break;default:Ge.memoizedState=null}return Ge.child}function Ou(ze,Ge,er){if(ze!==null&&(Ge.dependencies=ze.dependencies),xd|=Ge.lanes,(er&Ge.childLanes)===0)if(ze!==null){if(nd(ze,Ge,er,!1),(er&Ge.childLanes)===0)return null}else return null;if(ze!==null&&Ge.child!==ze.child)throw Error(Be(153));if(Ge.child!==null){for(ze=Ge.child,er=Uo(ze,ze.pendingProps),Ge.child=er,er.return=Ge;ze.sibling!==null;)ze=ze.sibling,er=er.sibling=Uo(ze,ze.pendingProps),er.return=Ge;er.sibling=null}return Ge.child}function Xh(ze,Ge){return(ze.lanes&Ge)!==0?!0:(ze=ze.dependencies,!!(ze!==null&&Zd(ze)))}function tp(ze,Ge,er){switch(Ge.tag){case 3:Wr(Ge,Ge.stateNode.containerInfo),cc(Ge,Ya,ze.memoizedState.cache),No();break;case 27:case 5:Jr(Ge);break;case 4:Wr(Ge,Ge.stateNode.containerInfo);break;case 10:cc(Ge,Ge.type,Ge.memoizedProps.value);break;case 13:var ir=Ge.memoizedState;if(ir!==null)return ir.dehydrated!==null?(hd(Ge),Ge.flags|=128,null):(er&Ge.child.childLanes)!==0?qh(ze,Ge,er):(hd(Ge),ze=Ou(ze,Ge,er),ze!==null?ze.sibling:null);hd(Ge);break;case 19:var mr=(ze.flags&128)!==0;if(ir=(er&Ge.childLanes)!==0,ir||(nd(ze,Ge,er,!1),ir=(er&Ge.childLanes)!==0),mr){if(ir)return hf(ze,Ge,er);Ge.flags|=128}if(mr=Ge.memoizedState,mr!==null&&(mr.rendering=null,mr.tail=null,mr.lastEffect=null),vr(Za,Za.current),ir)break;return null;case 22:case 23:return Ge.lanes=0,Ud(ze,Ge,er);case 24:cc(Ge,Ya,ze.memoizedState.cache)}return Ou(ze,Ge,er)}function PA(ze,Ge,er){if(ze!==null)if(ze.memoizedProps!==Ge.pendingProps)Do=!0;else{if(!Xh(ze,er)&&(Ge.flags&128)===0)return Do=!1,tp(ze,Ge,er);Do=(ze.flags&131072)!==0}else Do=!1,zs&&(Ge.flags&1048576)!==0&&nh(Ge,Yd,Ge.index);switch(Ge.lanes=0,Ge.tag){case 16:e:{ze=Ge.pendingProps;var ir=Ge.elementType,mr=ir._init;if(ir=mr(ir._payload),Ge.type=ir,typeof ir=="function")ed(ir)?(ze=Ad(ir,ze),Ge.tag=1,Ge=Du(null,Ge,ir,ze,er)):(Ge.tag=0,Ge=Nu(null,Ge,ir,ze,er));else{if(ir!=null){if(mr=ir.$$typeof,mr===tr){Ge.tag=11,Ge=Kh(null,Ge,ir,ze,er);break e}else if(mr===nr){Ge.tag=14,Ge=TA(null,Ge,ir,ze,er);break e}}throw Ge=Rr(ir)||ir,Error(Be(306,Ge,""))}}return Ge;case 0:return Nu(ze,Ge,Ge.type,Ge.pendingProps,er);case 1:return ir=Ge.type,mr=Ad(ir,Ge.pendingProps),Du(ze,Ge,ir,mr,er);case 3:e:{if(Wr(Ge,Ge.stateNode.containerInfo),ze===null)throw Error(Be(387));ir=Ge.pendingProps;var Sr=Ge.memoizedState;mr=Sr.element,In(ze,Ge),Vi(Ge,ir,null,er);var Vr=Ge.memoizedState;if(ir=Vr.cache,cc(Ge,Ya,ir),ir!==Sr.cache&&Jd(Ge,[Ya],er,!0),es(),ir=Vr.element,Sr.isDehydrated)if(Sr={element:ir,isDehydrated:!1,cache:Vr.cache},Ge.updateQueue.baseState=Sr,Ge.memoizedState=Sr,Ge.flags&256){Ge=Fu(ze,Ge,ir,er);break e}else if(ir!==mr){mr=ws(Error(Be(424)),Ge),rd(mr),Ge=Fu(ze,Ge,ir,er);break e}else{switch(ze=Ge.stateNode.containerInfo,ze.nodeType){case 9:ze=ze.body;break;default:ze=ze.nodeName==="HTML"?ze.ownerDocument.body:ze}for(Ia=Ku(ze.firstChild),Ga=Ge,zs=!0,ru=null,oc=!0,er=Qf(Ge,null,ir,er),Ge.child=er;er;)er.flags=er.flags&-3|4096,er=er.sibling}else{if(No(),ir===mr){Ge=Ou(ze,Ge,er);break e}Fo(ze,Ge,ir,er)}Ge=Ge.child}return Ge;case 26:return Ba(ze,Ge),ze===null?(er=tm(Ge.type,null,Ge.pendingProps,null))?Ge.memoizedState=er:zs||(er=Ge.type,ze=Ge.pendingProps,ir=VA(Nr.current).createElement(er),ir[Qs]=Ge,ir[Fs]=ze,dl(ir,er,ze),Nn(ir),Ge.stateNode=ir):Ge.memoizedState=tm(Ge.type,ze.memoizedProps,Ge.pendingProps,ze.memoizedState),null;case 27:return Jr(Ge),ze===null&&zs&&(ir=Ge.stateNode=Jp(Ge.type,Ge.pendingProps,Nr.current),Ga=Ge,oc=!0,mr=Ia,yf(Ge.type)?(Ep=mr,Ia=Ku(ir.firstChild)):Ia=mr),Fo(ze,Ge,Ge.pendingProps.children,er),Ba(ze,Ge),ze===null&&(Ge.flags|=4194304),Ge.child;case 5:return ze===null&&zs&&((mr=ir=Ia)&&(ir=Fm(ir,Ge.type,Ge.pendingProps,oc),ir!==null?(Ge.stateNode=ir,Ga=Ge,Ia=Ku(ir.firstChild),oc=!1,mr=!0):mr=!1),mr||_u(Ge)),Jr(Ge),mr=Ge.type,Sr=Ge.pendingProps,Vr=ze!==null?ze.memoizedProps:null,ir=Sr.children,vp(mr,Sr)?ir=null:Vr!==null&&vp(mr,Vr)&&(Ge.flags|=32),Ge.memoizedState!==null&&(mr=Hl(ze,Ge,nu,null,null,er),AA._currentValue=mr),Ba(ze,Ge),Fo(ze,Ge,ir,er),Ge.child;case 6:return ze===null&&zs&&((ze=er=Ia)&&(er=Om(er,Ge.pendingProps,oc),er!==null?(Ge.stateNode=er,Ga=Ge,Ia=null,ze=!0):ze=!1),ze||_u(Ge)),null;case 13:return qh(ze,Ge,er);case 4:return Wr(Ge,Ge.stateNode.containerInfo),ir=Ge.pendingProps,ze===null?Ge.child=uf(Ge,null,ir,er):Fo(ze,Ge,ir,er),Ge.child;case 11:return Kh(ze,Ge,Ge.type,Ge.pendingProps,er);case 7:return Fo(ze,Ge,Ge.pendingProps,er),Ge.child;case 8:return Fo(ze,Ge,Ge.pendingProps.children,er),Ge.child;case 12:return Fo(ze,Ge,Ge.pendingProps.children,er),Ge.child;case 10:return ir=Ge.pendingProps,cc(Ge,Ge.type,ir.value),Fo(ze,Ge,ir.children,er),Ge.child;case 9:return mr=Ge.type._context,ir=Ge.pendingProps.children,uc(Ge),mr=qa(mr),ir=ir(mr),Ge.flags|=1,Fo(ze,Ge,ir,er),Ge.child;case 14:return TA(ze,Ge,Ge.type,Ge.pendingProps,er);case 15:return RA(ze,Ge,Ge.type,Ge.pendingProps,er);case 19:return hf(ze,Ge,er);case 31:return ir=Ge.pendingProps,er=Ge.mode,ir={mode:ir.mode,children:ir.children},ze===null?(er=ff(ir,er),er.ref=Ge.ref,Ge.child=er,er.return=Ge,Ge=er):(er=Uo(ze.child,ir),er.ref=Ge.ref,Ge.child=er,er.return=Ge,Ge=er),Ge;case 22:return Ud(ze,Ge,er);case 24:return uc(Ge),ir=qa(Ya),ze===null?(mr=Ir(),mr===null&&(mr=ga,Sr=Tf(),mr.pooledCache=Sr,Sr.refCount++,Sr!==null&&(mr.pooledCacheLanes|=er),mr=Sr),Ge.memoizedState={parent:ir,cache:mr},Sn(Ge),cc(Ge,Ya,mr)):((ze.lanes&er)!==0&&(In(ze,Ge),Vi(Ge,null,null,er),es()),mr=ze.memoizedState,Sr=Ge.memoizedState,mr.parent!==ir?(mr={parent:ir,cache:ir},Ge.memoizedState=mr,Ge.lanes===0&&(Ge.memoizedState=Ge.updateQueue.baseState=mr),cc(Ge,Ya,ir)):(ir=Sr.cache,cc(Ge,Ya,ir),ir!==mr.cache&&Jd(Ge,[Ya],er,!0))),Fo(ze,Ge,Ge.pendingProps.children,er),Ge.child;case 29:throw Ge.pendingProps}throw Error(Be(156,Ge.tag))}function ku(ze){ze.flags|=4}function _h(ze,Ge){if(Ge.type!=="stylesheet"||(Ge.state.loading&4)!==0)ze.flags&=-16777217;else if(ze.flags|=16777216,!am(Ge)){if(Ge=Kl.current,Ge!==null&&((Hs&4194048)===Hs?kc!==null:(Hs&62914560)!==Hs&&(Hs&536870912)===0||Ge!==kc))throw $n=nn,Xr;ze.flags|=8192}}function Eh(ze,Ge){Ge!==null&&(ze.flags|=4),ze.flags&16384&&(Ge=ze.tag!==22?bi():536870912,ze.lanes|=Ge,xf|=Ge)}function Gf(ze,Ge){if(!zs)switch(ze.tailMode){case"hidden":Ge=ze.tail;for(var er=null;Ge!==null;)Ge.alternate!==null&&(er=Ge),Ge=Ge.sibling;er===null?ze.tail=null:er.sibling=null;break;case"collapsed":er=ze.tail;for(var ir=null;er!==null;)er.alternate!==null&&(ir=er),er=er.sibling;ir===null?Ge||ze.tail===null?ze.tail=null:ze.tail.sibling=null:ir.sibling=null}}function Ua(ze){var Ge=ze.alternate!==null&&ze.alternate.child===ze.child,er=0,ir=0;if(Ge)for(var mr=ze.child;mr!==null;)er|=mr.lanes|mr.childLanes,ir|=mr.subtreeFlags&65011712,ir|=mr.flags&65011712,mr.return=ze,mr=mr.sibling;else for(mr=ze.child;mr!==null;)er|=mr.lanes|mr.childLanes,ir|=mr.subtreeFlags,ir|=mr.flags,mr.return=ze,mr=mr.sibling;return ze.subtreeFlags|=ir,ze.childLanes=er,Ge}function rp(ze,Ge,er){var ir=Ge.pendingProps;switch(tu(Ge),Ge.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ua(Ge),null;case 1:return Ua(Ge),null;case 3:return er=Ge.stateNode,ir=null,ze!==null&&(ir=ze.memoizedState.cache),Ge.memoizedState.cache!==ir&&(Ge.flags|=2048),cl(Ya),qr(),er.pendingContext&&(er.context=er.pendingContext,er.pendingContext=null),(ze===null||ze.child===null)&&($o(Ge)?ku(Ge):ze===null||ze.memoizedState.isDehydrated&&(Ge.flags&256)===0||(Ge.flags|=1024,sh())),Ua(Ge),null;case 26:return er=Ge.memoizedState,ze===null?(ku(Ge),er!==null?(Ua(Ge),_h(Ge,er)):(Ua(Ge),Ge.flags&=-16777217)):er?er!==ze.memoizedState?(ku(Ge),Ua(Ge),_h(Ge,er)):(Ua(Ge),Ge.flags&=-16777217):(ze.memoizedProps!==ir&&ku(Ge),Ua(Ge),Ge.flags&=-16777217),null;case 27:An(Ge),er=Nr.current;var mr=Ge.type;if(ze!==null&&Ge.stateNode!=null)ze.memoizedProps!==ir&&ku(Ge);else{if(!ir){if(Ge.stateNode===null)throw Error(Be(166));return Ua(Ge),null}ze=Tr.current,$o(Ge)?ih(Ge):(ze=Jp(mr,ir,er),Ge.stateNode=ze,ku(Ge))}return Ua(Ge),null;case 5:if(An(Ge),er=Ge.type,ze!==null&&Ge.stateNode!=null)ze.memoizedProps!==ir&&ku(Ge);else{if(!ir){if(Ge.stateNode===null)throw Error(Be(166));return Ua(Ge),null}if(ze=Tr.current,$o(Ge))ih(Ge);else{switch(mr=VA(Nr.current),ze){case 1:ze=mr.createElementNS("http://www.w3.org/2000/svg",er);break;case 2:ze=mr.createElementNS("http://www.w3.org/1998/Math/MathML",er);break;default:switch(er){case"svg":ze=mr.createElementNS("http://www.w3.org/2000/svg",er);break;case"math":ze=mr.createElementNS("http://www.w3.org/1998/Math/MathML",er);break;case"script":ze=mr.createElement("div"),ze.innerHTML="<script><\/script>",ze=ze.removeChild(ze.firstChild);break;case"select":ze=typeof ir.is=="string"?mr.createElement("select",{is:ir.is}):mr.createElement("select"),ir.multiple?ze.multiple=!0:ir.size&&(ze.size=ir.size);break;default:ze=typeof ir.is=="string"?mr.createElement(er,{is:ir.is}):mr.createElement(er)}}ze[Qs]=Ge,ze[Fs]=ir;e:for(mr=Ge.child;mr!==null;){if(mr.tag===5||mr.tag===6)ze.appendChild(mr.stateNode);else if(mr.tag!==4&&mr.tag!==27&&mr.child!==null){mr.child.return=mr,mr=mr.child;continue}if(mr===Ge)break e;for(;mr.sibling===null;){if(mr.return===null||mr.return===Ge)break e;mr=mr.return}mr.sibling.return=mr.return,mr=mr.sibling}Ge.stateNode=ze;e:switch(dl(ze,er,ir),er){case"button":case"input":case"select":case"textarea":ze=!!ir.autoFocus;break e;case"img":ze=!0;break e;default:ze=!1}ze&&ku(Ge)}}return Ua(Ge),Ge.flags&=-16777217,null;case 6:if(ze&&Ge.stateNode!=null)ze.memoizedProps!==ir&&ku(Ge);else{if(typeof ir!="string"&&Ge.stateNode===null)throw Error(Be(166));if(ze=Nr.current,$o(Ge)){if(ze=Ge.stateNode,er=Ge.memoizedProps,ir=null,mr=Ga,mr!==null)switch(mr.tag){case 27:case 5:ir=mr.memoizedProps}ze[Qs]=Ge,ze=!!(ze.nodeValue===er||ir!==null&&ir.suppressHydrationWarning===!0||zp(ze.nodeValue,er)),ze||_u(Ge)}else ze=VA(ze).createTextNode(ir),ze[Qs]=Ge,Ge.stateNode=ze}return Ua(Ge),null;case 13:if(ir=Ge.memoizedState,ze===null||ze.memoizedState!==null&&ze.memoizedState.dehydrated!==null){if(mr=$o(Ge),ir!==null&&ir.dehydrated!==null){if(ze===null){if(!mr)throw Error(Be(318));if(mr=Ge.memoizedState,mr=mr!==null?mr.dehydrated:null,!mr)throw Error(Be(317));mr[Qs]=Ge}else No(),(Ge.flags&128)===0&&(Ge.memoizedState=null),Ge.flags|=4;Ua(Ge),mr=!1}else mr=sh(),ze!==null&&ze.memoizedState!==null&&(ze.memoizedState.hydrationErrors=mr),mr=!0;if(!mr)return Ge.flags&256?(Rl(Ge),Ge):(Rl(Ge),null)}if(Rl(Ge),(Ge.flags&128)!==0)return Ge.lanes=er,Ge;if(er=ir!==null,ze=ze!==null&&ze.memoizedState!==null,er){ir=Ge.child,mr=null,ir.alternate!==null&&ir.alternate.memoizedState!==null&&ir.alternate.memoizedState.cachePool!==null&&(mr=ir.alternate.memoizedState.cachePool.pool);var Sr=null;ir.memoizedState!==null&&ir.memoizedState.cachePool!==null&&(Sr=ir.memoizedState.cachePool.pool),Sr!==mr&&(ir.flags|=2048)}return er!==ze&&er&&(Ge.child.flags|=8192),Eh(Ge,Ge.updateQueue),Ua(Ge),null;case 4:return qr(),ze===null&&Ap(Ge.stateNode.containerInfo),Ua(Ge),null;case 10:return cl(Ge.type),Ua(Ge),null;case 19:if(yr(Za),mr=Ge.memoizedState,mr===null)return Ua(Ge),null;if(ir=(Ge.flags&128)!==0,Sr=mr.rendering,Sr===null)if(ir)Gf(mr,!1);else{if(Qa!==0||ze!==null&&(ze.flags&128)!==0)for(ze=Ge.child;ze!==null;){if(Sr=Ld(ze),Sr!==null){for(Ge.flags|=128,Gf(mr,!1),ze=Sr.updateQueue,Ge.updateQueue=ze,Eh(Ge,ze),Ge.subtreeFlags=0,ze=er,er=Ge.child;er!==null;)Sd(er,ze),er=er.sibling;return vr(Za,Za.current&1|2),Ge.child}ze=ze.sibling}mr.tail!==null&&kn()>cr&&(Ge.flags|=128,ir=!0,Gf(mr,!1),Ge.lanes=4194304)}else{if(!ir)if(ze=Ld(Sr),ze!==null){if(Ge.flags|=128,ir=!0,ze=ze.updateQueue,Ge.updateQueue=ze,Eh(Ge,ze),Gf(mr,!0),mr.tail===null&&mr.tailMode==="hidden"&&!Sr.alternate&&!zs)return Ua(Ge),null}else 2*kn()-mr.renderingStartTime>cr&&er!==536870912&&(Ge.flags|=128,ir=!0,Gf(mr,!1),Ge.lanes=4194304);mr.isBackwards?(Sr.sibling=Ge.child,Ge.child=Sr):(ze=mr.last,ze!==null?ze.sibling=Sr:Ge.child=Sr,mr.last=Sr)}return mr.tail!==null?(Ge=mr.tail,mr.rendering=Ge,mr.tail=Ge.sibling,mr.renderingStartTime=kn(),Ge.sibling=null,ze=Za.current,vr(Za,ir?ze&1|2:ze&1),Ge):(Ua(Ge),null);case 22:case 23:return Rl(Ge),fs(),ir=Ge.memoizedState!==null,ze!==null?ze.memoizedState!==null!==ir&&(Ge.flags|=8192):ir&&(Ge.flags|=8192),ir?(er&536870912)!==0&&(Ge.flags&128)===0&&(Ua(Ge),Ge.subtreeFlags&6&&(Ge.flags|=8192)):Ua(Ge),er=Ge.updateQueue,er!==null&&Eh(Ge,er.retryQueue),er=null,ze!==null&&ze.memoizedState!==null&&ze.memoizedState.cachePool!==null&&(er=ze.memoizedState.cachePool.pool),ir=null,Ge.memoizedState!==null&&Ge.memoizedState.cachePool!==null&&(ir=Ge.memoizedState.cachePool.pool),ir!==er&&(Ge.flags|=2048),ze!==null&&yr(gr),null;case 24:return er=null,ze!==null&&(er=ze.memoizedState.cache),Ge.memoizedState.cache!==er&&(Ge.flags|=2048),cl(Ya),Ua(Ge),null;case 25:return null;case 30:return null}throw Error(Be(156,Ge.tag))}function np(ze,Ge){switch(tu(Ge),Ge.tag){case 1:return ze=Ge.flags,ze&65536?(Ge.flags=ze&-65537|128,Ge):null;case 3:return cl(Ya),qr(),ze=Ge.flags,(ze&65536)!==0&&(ze&128)===0?(Ge.flags=ze&-65537|128,Ge):null;case 26:case 27:case 5:return An(Ge),null;case 13:if(Rl(Ge),ze=Ge.memoizedState,ze!==null&&ze.dehydrated!==null){if(Ge.alternate===null)throw Error(Be(340));No()}return ze=Ge.flags,ze&65536?(Ge.flags=ze&-65537|128,Ge):null;case 19:return yr(Za),null;case 4:return qr(),null;case 10:return cl(Ge.type),null;case 22:case 23:return Rl(Ge),fs(),ze!==null&&yr(gr),ze=Ge.flags,ze&65536?(Ge.flags=ze&-65537|128,Ge):null;case 24:return cl(Ya),null;case 25:return null;default:return null}}function wh(ze,Ge){switch(tu(Ge),Ge.tag){case 3:cl(Ya),qr();break;case 26:case 27:case 5:An(Ge);break;case 4:qr();break;case 13:Rl(Ge);break;case 19:yr(Za);break;case 10:cl(Ge.type);break;case 22:case 23:Rl(Ge),fs(),ze!==null&&yr(gr);break;case 24:cl(Ya)}}function Qd(ze,Ge){try{var er=Ge.updateQueue,ir=er!==null?er.lastEffect:null;if(ir!==null){var mr=ir.next;er=mr;do{if((er.tag&ze)===ze){ir=void 0;var Sr=er.create,Vr=er.inst;ir=Sr(),Vr.destroy=ir}er=er.next}while(er!==mr)}}catch(rn){Ta(Ge,Ge.return,rn)}}function Mu(ze,Ge,er){try{var ir=Ge.updateQueue,mr=ir!==null?ir.lastEffect:null;if(mr!==null){var Sr=mr.next;ir=Sr;do{if((ir.tag&ze)===ze){var Vr=ir.inst,rn=Vr.destroy;if(rn!==void 0){Vr.destroy=void 0,mr=Ge;var yn=er,Gn=rn;try{Gn()}catch(di){Ta(mr,yn,di)}}}ir=ir.next}while(ir!==Sr)}}catch(di){Ta(Ge,Ge.return,di)}}function IA(ze){var Ge=ze.updateQueue;if(Ge!==null){var er=ze.stateNode;try{Ks(Ge,er)}catch(ir){Ta(ze,ze.return,ir)}}}function jA(ze,Ge,er){er.props=Ad(ze.type,ze.memoizedProps),er.state=ze.memoizedState;try{er.componentWillUnmount()}catch(ir){Ta(ze,Ge,ir)}}function Af(ze,Ge){try{var er=ze.ref;if(er!==null){switch(ze.tag){case 26:case 27:case 5:var ir=ze.stateNode;break;case 30:ir=ze.stateNode;break;default:ir=ze.stateNode}typeof er=="function"?ze.refCleanup=er(ir):er.current=ir}}catch(mr){Ta(ze,Ge,mr)}}function au(ze,Ge){var er=ze.ref,ir=ze.refCleanup;if(er!==null)if(typeof ir=="function")try{ir()}catch(mr){Ta(ze,Ge,mr)}finally{ze.refCleanup=null,ze=ze.alternate,ze!=null&&(ze.refCleanup=null)}else if(typeof er=="function")try{er(null)}catch(mr){Ta(ze,Ge,mr)}else er.current=null}function BA(ze){var Ge=ze.type,er=ze.memoizedProps,ir=ze.stateNode;try{e:switch(Ge){case"button":case"input":case"select":case"textarea":er.autoFocus&&ir.focus();break e;case"img":er.src?ir.src=er.src:er.srcSet&&(ir.srcset=er.srcSet)}}catch(mr){Ta(ze,ze.return,mr)}}function Jh(ze,Ge,er){try{var ir=ze.stateNode;Im(ir,ze.type,er,Ge),ir[Fs]=Ge}catch(mr){Ta(ze,ze.return,mr)}}function NA(ze){return ze.tag===5||ze.tag===3||ze.tag===26||ze.tag===27&&yf(ze.type)||ze.tag===4}function Zh(ze){e:for(;;){for(;ze.sibling===null;){if(ze.return===null||NA(ze.return))return null;ze=ze.return}for(ze.sibling.return=ze.return,ze=ze.sibling;ze.tag!==5&&ze.tag!==6&&ze.tag!==18;){if(ze.tag===27&&yf(ze.type)||ze.flags&2||ze.child===null||ze.tag===4)continue e;ze.child.return=ze,ze=ze.child}if(!(ze.flags&2))return ze.stateNode}}function qf(ze,Ge,er){var ir=ze.tag;if(ir===5||ir===6)ze=ze.stateNode,Ge?(er.nodeType===9?er.body:er.nodeName==="HTML"?er.ownerDocument.body:er).insertBefore(ze,Ge):(Ge=er.nodeType===9?er.body:er.nodeName==="HTML"?er.ownerDocument.body:er,Ge.appendChild(ze),er=er._reactRootContainer,er!=null||Ge.onclick!==null||(Ge.onclick=$A));else if(ir!==4&&(ir===27&&yf(ze.type)&&(er=ze.stateNode,Ge=null),ze=ze.child,ze!==null))for(qf(ze,Ge,er),ze=ze.sibling;ze!==null;)qf(ze,Ge,er),ze=ze.sibling}function Sh(ze,Ge,er){var ir=ze.tag;if(ir===5||ir===6)ze=ze.stateNode,Ge?er.insertBefore(ze,Ge):er.appendChild(ze);else if(ir!==4&&(ir===27&&yf(ze.type)&&(er=ze.stateNode),ze=ze.child,ze!==null))for(Sh(ze,Ge,er),ze=ze.sibling;ze!==null;)Sh(ze,Ge,er),ze=ze.sibling}function Ch(ze){var Ge=ze.stateNode,er=ze.memoizedProps;try{for(var ir=ze.type,mr=Ge.attributes;mr.length;)Ge.removeAttributeNode(mr[0]);dl(Ge,ir,er),Ge[Qs]=ze,Ge[Fs]=er}catch(Sr){Ta(ze,ze.return,Sr)}}var Lu=!1,ji=!1,pd=!1,Yf=typeof WeakSet=="function"?WeakSet:Set,sa=null;function ip(ze,Ge){if(ze=ze.containerInfo,gp=GA,ze=jo(ze),Ka(ze)){if("selectionStart"in ze)var er={start:ze.selectionStart,end:ze.selectionEnd};else e:{er=(er=ze.ownerDocument)&&er.defaultView||window;var ir=er.getSelection&&er.getSelection();if(ir&&ir.rangeCount!==0){er=ir.anchorNode;var mr=ir.anchorOffset,Sr=ir.focusNode;ir=ir.focusOffset;try{er.nodeType,Sr.nodeType}catch{er=null;break e}var Vr=0,rn=-1,yn=-1,Gn=0,di=0,vi=ze,Yn=null;t:for(;;){for(var Xn;vi!==er||mr!==0&&vi.nodeType!==3||(rn=Vr+mr),vi!==Sr||ir!==0&&vi.nodeType!==3||(yn=Vr+ir),vi.nodeType===3&&(Vr+=vi.nodeValue.length),(Xn=vi.firstChild)!==null;)Yn=vi,vi=Xn;for(;;){if(vi===ze)break t;if(Yn===er&&++Gn===mr&&(rn=Vr),Yn===Sr&&++di===ir&&(yn=Vr),(Xn=vi.nextSibling)!==null)break;vi=Yn,Yn=vi.parentNode}vi=Xn}er=rn===-1||yn===-1?null:{start:rn,end:yn}}else er=null}er=er||{start:0,end:0}}else er=null;for(xp={focusedElem:ze,selectionRange:er},GA=!1,sa=Ge;sa!==null;)if(Ge=sa,ze=Ge.child,(Ge.subtreeFlags&1024)!==0&&ze!==null)ze.return=Ge,sa=ze;else for(;sa!==null;){switch(Ge=sa,Sr=Ge.alternate,ze=Ge.flags,Ge.tag){case 0:break;case 11:case 15:break;case 1:if((ze&1024)!==0&&Sr!==null){ze=void 0,er=Ge,mr=Sr.memoizedProps,Sr=Sr.memoizedState,ir=er.stateNode;try{var ms=Ad(er.type,mr,er.elementType===er.type);ze=ir.getSnapshotBeforeUpdate(ms,Sr),ir.__reactInternalSnapshotBeforeUpdate=ze}catch(us){Ta(er,er.return,us)}}break;case 3:if((ze&1024)!==0){if(ze=Ge.stateNode.containerInfo,er=ze.nodeType,er===9)bp(ze);else if(er===1)switch(ze.nodeName){case"HEAD":case"HTML":case"BODY":bp(ze);break;default:ze.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((ze&1024)!==0)throw Error(Be(163))}if(ze=Ge.sibling,ze!==null){ze.return=Ge.return,sa=ze;break}sa=Ge.return}}function Ys(ze,Ge,er){var ir=er.flags;switch(er.tag){case 0:case 11:case 15:Uu(ze,er),ir&4&&Qd(5,er);break;case 1:if(Uu(ze,er),ir&4)if(ze=er.stateNode,Ge===null)try{ze.componentDidMount()}catch(Vr){Ta(er,er.return,Vr)}else{var mr=Ad(er.type,Ge.memoizedProps);Ge=Ge.memoizedState;try{ze.componentDidUpdate(mr,Ge,ze.__reactInternalSnapshotBeforeUpdate)}catch(Vr){Ta(er,er.return,Vr)}}ir&64&&IA(er),ir&512&&Af(er,er.return);break;case 3:if(Uu(ze,er),ir&64&&(ze=er.updateQueue,ze!==null)){if(Ge=null,er.child!==null)switch(er.child.tag){case 27:case 5:Ge=er.child.stateNode;break;case 1:Ge=er.child.stateNode}try{Ks(ze,Ge)}catch(Vr){Ta(er,er.return,Vr)}}break;case 27:Ge===null&&ir&4&&Ch(er);case 26:case 5:Uu(ze,er),Ge===null&&ir&4&&BA(er),ir&512&&Af(er,er.return);break;case 12:Uu(ze,er);break;case 13:Uu(ze,er),ir&4&&Xf(ze,er),ir&64&&(ze=er.memoizedState,ze!==null&&(ze=ze.dehydrated,ze!==null&&(er=vm.bind(null,er),km(ze,er))));break;case 22:if(ir=er.memoizedState!==null||Lu,!ir){Ge=Ge!==null&&Ge.memoizedState!==null||ji,mr=Lu;var Sr=ji;Lu=ir,(ji=Ge)&&!Sr?Vu(ze,er,(er.subtreeFlags&8772)!==0):Uu(ze,er),Lu=mr,ji=Sr}break;case 30:break;default:Uu(ze,er)}}function Ca(ze){var Ge=ze.alternate;Ge!==null&&(ze.alternate=null,Ca(Ge)),ze.child=null,ze.deletions=null,ze.sibling=null,ze.tag===5&&(Ge=ze.stateNode,Ge!==null&&on(Ge)),ze.stateNode=null,ze.return=null,ze.dependencies=null,ze.memoizedProps=null,ze.memoizedState=null,ze.pendingProps=null,ze.stateNode=null,ze.updateQueue=null}var fa=null,Pl=!1;function hc(ze,Ge,er){for(er=er.child;er!==null;)DA(ze,Ge,er),er=er.sibling}function DA(ze,Ge,er){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(xi,er)}catch{}switch(er.tag){case 26:ji||au(er,Ge),hc(ze,Ge,er),er.memoizedState?er.memoizedState.count--:er.stateNode&&(er=er.stateNode,er.parentNode.removeChild(er));break;case 27:ji||au(er,Ge);var ir=fa,mr=Pl;yf(er.type)&&(fa=er.stateNode,Pl=!1),hc(ze,Ge,er),uA(er.stateNode),fa=ir,Pl=mr;break;case 5:ji||au(er,Ge);case 6:if(ir=fa,mr=Pl,fa=null,hc(ze,Ge,er),fa=ir,Pl=mr,fa!==null)if(Pl)try{(fa.nodeType===9?fa.body:fa.nodeName==="HTML"?fa.ownerDocument.body:fa).removeChild(er.stateNode)}catch(Sr){Ta(er,Ge,Sr)}else try{fa.removeChild(er.stateNode)}catch(Sr){Ta(er,Ge,Sr)}break;case 18:fa!==null&&(Pl?(ze=fa,Yp(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze,er.stateNode),xA(ze)):Yp(fa,er.stateNode));break;case 4:ir=fa,mr=Pl,fa=er.stateNode.containerInfo,Pl=!0,hc(ze,Ge,er),fa=ir,Pl=mr;break;case 0:case 11:case 14:case 15:ji||Mu(2,er,Ge),ji||Mu(4,er,Ge),hc(ze,Ge,er);break;case 1:ji||(au(er,Ge),ir=er.stateNode,typeof ir.componentWillUnmount=="function"&&jA(er,Ge,ir)),hc(ze,Ge,er);break;case 21:hc(ze,Ge,er);break;case 22:ji=(ir=ji)||er.memoizedState!==null,hc(ze,Ge,er),ji=ir;break;default:hc(ze,Ge,er)}}function Xf(ze,Ge){if(Ge.memoizedState===null&&(ze=Ge.alternate,ze!==null&&(ze=ze.memoizedState,ze!==null&&(ze=ze.dehydrated,ze!==null))))try{xA(ze)}catch(er){Ta(Ge,Ge.return,er)}}function sp(ze){switch(ze.tag){case 13:case 19:var Ge=ze.stateNode;return Ge===null&&(Ge=ze.stateNode=new Yf),Ge;case 22:return ze=ze.stateNode,Ge=ze._retryCache,Ge===null&&(Ge=ze._retryCache=new Yf),Ge;default:throw Error(Be(435,ze.tag))}}function eA(ze,Ge){var er=sp(ze);Ge.forEach(function(ir){var mr=ym.bind(null,ze,ir);er.has(ir)||(er.add(ir),ir.then(mr,mr))})}function Il(ze,Ge){var er=Ge.deletions;if(er!==null)for(var ir=0;ir<er.length;ir++){var mr=er[ir],Sr=ze,Vr=Ge,rn=Vr;e:for(;rn!==null;){switch(rn.tag){case 27:if(yf(rn.type)){fa=rn.stateNode,Pl=!1;break e}break;case 5:fa=rn.stateNode,Pl=!1;break e;case 3:case 4:fa=rn.stateNode.containerInfo,Pl=!0;break e}rn=rn.return}if(fa===null)throw Error(Be(160));DA(Sr,Vr,mr),fa=null,Pl=!1,Sr=mr.alternate,Sr!==null&&(Sr.return=null),mr.return=null}if(Ge.subtreeFlags&13878)for(Ge=Ge.child;Ge!==null;)tA(Ge,ze),Ge=Ge.sibling}var Lc=null;function tA(ze,Ge){var er=ze.alternate,ir=ze.flags;switch(ze.tag){case 0:case 11:case 14:case 15:Il(Ge,ze),Gl(ze),ir&4&&(Mu(3,ze,ze.return),Qd(3,ze),Mu(5,ze,ze.return));break;case 1:Il(Ge,ze),Gl(ze),ir&512&&(ji||er===null||au(er,er.return)),ir&64&&Lu&&(ze=ze.updateQueue,ze!==null&&(ir=ze.callbacks,ir!==null&&(er=ze.shared.hiddenCallbacks,ze.shared.hiddenCallbacks=er===null?ir:er.concat(ir))));break;case 26:var mr=Lc;if(Il(Ge,ze),Gl(ze),ir&512&&(ji||er===null||au(er,er.return)),ir&4){var Sr=er!==null?er.memoizedState:null;if(ir=ze.memoizedState,er===null)if(ir===null)if(ze.stateNode===null){e:{ir=ze.type,er=ze.memoizedProps,mr=mr.ownerDocument||mr;t:switch(ir){case"title":Sr=mr.getElementsByTagName("title")[0],(!Sr||Sr[sn]||Sr[Qs]||Sr.namespaceURI==="http://www.w3.org/2000/svg"||Sr.hasAttribute("itemprop"))&&(Sr=mr.createElement(ir),mr.head.insertBefore(Sr,mr.querySelector("head > title"))),dl(Sr,ir,er),Sr[Qs]=ze,Nn(Sr),ir=Sr;break e;case"link":var Vr=im("link","href",mr).get(ir+(er.href||""));if(Vr){for(var rn=0;rn<Vr.length;rn++)if(Sr=Vr[rn],Sr.getAttribute("href")===(er.href==null||er.href===""?null:er.href)&&Sr.getAttribute("rel")===(er.rel==null?null:er.rel)&&Sr.getAttribute("title")===(er.title==null?null:er.title)&&Sr.getAttribute("crossorigin")===(er.crossOrigin==null?null:er.crossOrigin)){Vr.splice(rn,1);break t}}Sr=mr.createElement(ir),dl(Sr,ir,er),mr.head.appendChild(Sr);break;case"meta":if(Vr=im("meta","content",mr).get(ir+(er.content||""))){for(rn=0;rn<Vr.length;rn++)if(Sr=Vr[rn],Sr.getAttribute("content")===(er.content==null?null:""+er.content)&&Sr.getAttribute("name")===(er.name==null?null:er.name)&&Sr.getAttribute("property")===(er.property==null?null:er.property)&&Sr.getAttribute("http-equiv")===(er.httpEquiv==null?null:er.httpEquiv)&&Sr.getAttribute("charset")===(er.charSet==null?null:er.charSet)){Vr.splice(rn,1);break t}}Sr=mr.createElement(ir),dl(Sr,ir,er),mr.head.appendChild(Sr);break;default:throw Error(Be(468,ir))}Sr[Qs]=ze,Nn(Sr),ir=Sr}ze.stateNode=ir}else sm(mr,ze.type,ze.stateNode);else ze.stateNode=nm(mr,ir,ze.memoizedProps);else Sr!==ir?(Sr===null?er.stateNode!==null&&(er=er.stateNode,er.parentNode.removeChild(er)):Sr.count--,ir===null?sm(mr,ze.type,ze.stateNode):nm(mr,ir,ze.memoizedProps)):ir===null&&ze.stateNode!==null&&Jh(ze,ze.memoizedProps,er.memoizedProps)}break;case 27:Il(Ge,ze),Gl(ze),ir&512&&(ji||er===null||au(er,er.return)),er!==null&&ir&4&&Jh(ze,ze.memoizedProps,er.memoizedProps);break;case 5:if(Il(Ge,ze),Gl(ze),ir&512&&(ji||er===null||au(er,er.return)),ze.flags&32){mr=ze.stateNode;try{Qo(mr,"")}catch(Xn){Ta(ze,ze.return,Xn)}}ir&4&&ze.stateNode!=null&&(mr=ze.memoizedProps,Jh(ze,mr,er!==null?er.memoizedProps:mr)),ir&1024&&(pd=!0);break;case 6:if(Il(Ge,ze),Gl(ze),ir&4){if(ze.stateNode===null)throw Error(Be(162));ir=ze.memoizedProps,er=ze.stateNode;try{er.nodeValue=ir}catch(Xn){Ta(ze,ze.return,Xn)}}break;case 3:if(zA=null,mr=Lc,Lc=HA(Ge.containerInfo),Il(Ge,ze),Lc=mr,Gl(ze),ir&4&&er!==null&&er.memoizedState.isDehydrated)try{xA(Ge.containerInfo)}catch(Xn){Ta(ze,ze.return,Xn)}pd&&(pd=!1,rA(ze));break;case 4:ir=Lc,Lc=HA(ze.stateNode.containerInfo),Il(Ge,ze),Gl(ze),Lc=ir;break;case 12:Il(Ge,ze),Gl(ze);break;case 13:Il(Ge,ze),Gl(ze),ze.child.flags&8192&&ze.memoizedState!==null!=(er!==null&&er.memoizedState!==null)&&(hr=kn()),ir&4&&(ir=ze.updateQueue,ir!==null&&(ze.updateQueue=null,eA(ze,ir)));break;case 22:mr=ze.memoizedState!==null;var yn=er!==null&&er.memoizedState!==null,Gn=Lu,di=ji;if(Lu=Gn||mr,ji=di||yn,Il(Ge,ze),ji=di,Lu=Gn,Gl(ze),ir&8192)e:for(Ge=ze.stateNode,Ge._visibility=mr?Ge._visibility&-2:Ge._visibility|1,mr&&(er===null||yn||Lu||ji||$u(ze)),er=null,Ge=ze;;){if(Ge.tag===5||Ge.tag===26){if(er===null){yn=er=Ge;try{if(Sr=yn.stateNode,mr)Vr=Sr.style,typeof Vr.setProperty=="function"?Vr.setProperty("display","none","important"):Vr.display="none";else{rn=yn.stateNode;var vi=yn.memoizedProps.style,Yn=vi!=null&&vi.hasOwnProperty("display")?vi.display:null;rn.style.display=Yn==null||typeof Yn=="boolean"?"":(""+Yn).trim()}}catch(Xn){Ta(yn,yn.return,Xn)}}}else if(Ge.tag===6){if(er===null){yn=Ge;try{yn.stateNode.nodeValue=mr?"":yn.memoizedProps}catch(Xn){Ta(yn,yn.return,Xn)}}}else if((Ge.tag!==22&&Ge.tag!==23||Ge.memoizedState===null||Ge===ze)&&Ge.child!==null){Ge.child.return=Ge,Ge=Ge.child;continue}if(Ge===ze)break e;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===ze)break e;er===Ge&&(er=null),Ge=Ge.return}er===Ge&&(er=null),Ge.sibling.return=Ge.return,Ge=Ge.sibling}ir&4&&(ir=ze.updateQueue,ir!==null&&(er=ir.retryQueue,er!==null&&(ir.retryQueue=null,eA(ze,er))));break;case 19:Il(Ge,ze),Gl(ze),ir&4&&(ir=ze.updateQueue,ir!==null&&(ze.updateQueue=null,eA(ze,ir)));break;case 30:break;case 21:break;default:Il(Ge,ze),Gl(ze)}}function Gl(ze){var Ge=ze.flags;if(Ge&2){try{for(var er,ir=ze.return;ir!==null;){if(NA(ir)){er=ir;break}ir=ir.return}if(er==null)throw Error(Be(160));switch(er.tag){case 27:var mr=er.stateNode,Sr=Zh(ze);Sh(ze,Sr,mr);break;case 5:var Vr=er.stateNode;er.flags&32&&(Qo(Vr,""),er.flags&=-33);var rn=Zh(ze);Sh(ze,rn,Vr);break;case 3:case 4:var yn=er.stateNode.containerInfo,Gn=Zh(ze);qf(ze,Gn,yn);break;default:throw Error(Be(161))}}catch(di){Ta(ze,ze.return,di)}ze.flags&=-3}Ge&4096&&(ze.flags&=-4097)}function rA(ze){if(ze.subtreeFlags&1024)for(ze=ze.child;ze!==null;){var Ge=ze;rA(Ge),Ge.tag===5&&Ge.flags&1024&&Ge.stateNode.reset(),ze=ze.sibling}}function Uu(ze,Ge){if(Ge.subtreeFlags&8772)for(Ge=Ge.child;Ge!==null;)Ys(ze,Ge.alternate,Ge),Ge=Ge.sibling}function $u(ze){for(ze=ze.child;ze!==null;){var Ge=ze;switch(Ge.tag){case 0:case 11:case 14:case 15:Mu(4,Ge,Ge.return),$u(Ge);break;case 1:au(Ge,Ge.return);var er=Ge.stateNode;typeof er.componentWillUnmount=="function"&&jA(Ge,Ge.return,er),$u(Ge);break;case 27:uA(Ge.stateNode);case 26:case 5:au(Ge,Ge.return),$u(Ge);break;case 22:Ge.memoizedState===null&&$u(Ge);break;case 30:$u(Ge);break;default:$u(Ge)}ze=ze.sibling}}function Vu(ze,Ge,er){for(er=er&&(Ge.subtreeFlags&8772)!==0,Ge=Ge.child;Ge!==null;){var ir=Ge.alternate,mr=ze,Sr=Ge,Vr=Sr.flags;switch(Sr.tag){case 0:case 11:case 15:Vu(mr,Sr,er),Qd(4,Sr);break;case 1:if(Vu(mr,Sr,er),ir=Sr,mr=ir.stateNode,typeof mr.componentDidMount=="function")try{mr.componentDidMount()}catch(Gn){Ta(ir,ir.return,Gn)}if(ir=Sr,mr=ir.updateQueue,mr!==null){var rn=ir.stateNode;try{var yn=mr.shared.hiddenCallbacks;if(yn!==null)for(mr.shared.hiddenCallbacks=null,mr=0;mr<yn.length;mr++)Vs(yn[mr],rn)}catch(Gn){Ta(ir,ir.return,Gn)}}er&&Vr&64&&IA(Sr),Af(Sr,Sr.return);break;case 27:Ch(Sr);case 26:case 5:Vu(mr,Sr,er),er&&ir===null&&Vr&4&&BA(Sr),Af(Sr,Sr.return);break;case 12:Vu(mr,Sr,er);break;case 13:Vu(mr,Sr,er),er&&Vr&4&&Xf(mr,Sr);break;case 22:Sr.memoizedState===null&&Vu(mr,Sr,er),Af(Sr,Sr.return);break;case 30:break;default:Vu(mr,Sr,er)}Ge=Ge.sibling}}function nA(ze,Ge){var er=null;ze!==null&&ze.memoizedState!==null&&ze.memoizedState.cachePool!==null&&(er=ze.memoizedState.cachePool.pool),ze=null,Ge.memoizedState!==null&&Ge.memoizedState.cachePool!==null&&(ze=Ge.memoizedState.cachePool.pool),ze!==er&&(ze!=null&&ze.refCount++,er!=null&&Rd(er))}function Th(ze,Ge){ze=null,Ge.alternate!==null&&(ze=Ge.alternate.memoizedState.cache),Ge=Ge.memoizedState.cache,Ge!==ze&&(Ge.refCount++,ze!=null&&Rd(ze))}function ou(ze,Ge,er,ir){if(Ge.subtreeFlags&10256)for(Ge=Ge.child;Ge!==null;)FA(ze,Ge,er,ir),Ge=Ge.sibling}function FA(ze,Ge,er,ir){var mr=Ge.flags;switch(Ge.tag){case 0:case 11:case 15:ou(ze,Ge,er,ir),mr&2048&&Qd(9,Ge);break;case 1:ou(ze,Ge,er,ir);break;case 3:ou(ze,Ge,er,ir),mr&2048&&(ze=null,Ge.alternate!==null&&(ze=Ge.alternate.memoizedState.cache),Ge=Ge.memoizedState.cache,Ge!==ze&&(Ge.refCount++,ze!=null&&Rd(ze)));break;case 12:if(mr&2048){ou(ze,Ge,er,ir),ze=Ge.stateNode;try{var Sr=Ge.memoizedProps,Vr=Sr.id,rn=Sr.onPostCommit;typeof rn=="function"&&rn(Vr,Ge.alternate===null?"mount":"update",ze.passiveEffectDuration,-0)}catch(yn){Ta(Ge,Ge.return,yn)}}else ou(ze,Ge,er,ir);break;case 13:ou(ze,Ge,er,ir);break;case 23:break;case 22:Sr=Ge.stateNode,Vr=Ge.alternate,Ge.memoizedState!==null?Sr._visibility&2?ou(ze,Ge,er,ir):md(ze,Ge):Sr._visibility&2?ou(ze,Ge,er,ir):(Sr._visibility|=2,pf(ze,Ge,er,ir,(Ge.subtreeFlags&10256)!==0)),mr&2048&&nA(Vr,Ge);break;case 24:ou(ze,Ge,er,ir),mr&2048&&Th(Ge.alternate,Ge);break;default:ou(ze,Ge,er,ir)}}function pf(ze,Ge,er,ir,mr){for(mr=mr&&(Ge.subtreeFlags&10256)!==0,Ge=Ge.child;Ge!==null;){var Sr=ze,Vr=Ge,rn=er,yn=ir,Gn=Vr.flags;switch(Vr.tag){case 0:case 11:case 15:pf(Sr,Vr,rn,yn,mr),Qd(8,Vr);break;case 23:break;case 22:var di=Vr.stateNode;Vr.memoizedState!==null?di._visibility&2?pf(Sr,Vr,rn,yn,mr):md(Sr,Vr):(di._visibility|=2,pf(Sr,Vr,rn,yn,mr)),mr&&Gn&2048&&nA(Vr.alternate,Vr);break;case 24:pf(Sr,Vr,rn,yn,mr),mr&&Gn&2048&&Th(Vr.alternate,Vr);break;default:pf(Sr,Vr,rn,yn,mr)}Ge=Ge.sibling}}function md(ze,Ge){if(Ge.subtreeFlags&10256)for(Ge=Ge.child;Ge!==null;){var er=ze,ir=Ge,mr=ir.flags;switch(ir.tag){case 22:md(er,ir),mr&2048&&nA(ir.alternate,ir);break;case 24:md(er,ir),mr&2048&&Th(ir.alternate,ir);break;default:md(er,ir)}Ge=Ge.sibling}}var rl=8192;function zd(ze){if(ze.subtreeFlags&rl)for(ze=ze.child;ze!==null;)Jf(ze),ze=ze.sibling}function Jf(ze){switch(ze.tag){case 26:zd(ze),ze.flags&rl&&ze.memoizedState!==null&&Ym(Lc,ze.memoizedState,ze.memoizedProps);break;case 5:zd(ze);break;case 3:case 4:var Ge=Lc;Lc=HA(ze.stateNode.containerInfo),zd(ze),Lc=Ge;break;case 22:ze.memoizedState===null&&(Ge=ze.alternate,Ge!==null&&Ge.memoizedState!==null?(Ge=rl,rl=16777216,zd(ze),rl=Ge):zd(ze));break;default:zd(ze)}}function OA(ze){var Ge=ze.alternate;if(Ge!==null&&(ze=Ge.child,ze!==null)){Ge.child=null;do Ge=ze.sibling,ze.sibling=null,ze=Ge;while(ze!==null)}}function Zf(ze){var Ge=ze.deletions;if((ze.flags&16)!==0){if(Ge!==null)for(var er=0;er<Ge.length;er++){var ir=Ge[er];sa=ir,eh(ir,ze)}OA(ze)}if(ze.subtreeFlags&10256)for(ze=ze.child;ze!==null;)Rh(ze),ze=ze.sibling}function Rh(ze){switch(ze.tag){case 0:case 11:case 15:Zf(ze),ze.flags&2048&&Mu(9,ze,ze.return);break;case 3:Zf(ze);break;case 12:Zf(ze);break;case 22:var Ge=ze.stateNode;ze.memoizedState!==null&&Ge._visibility&2&&(ze.return===null||ze.return.tag!==13)?(Ge._visibility&=-3,Hu(ze)):Zf(ze);break;default:Zf(ze)}}function Hu(ze){var Ge=ze.deletions;if((ze.flags&16)!==0){if(Ge!==null)for(var er=0;er<Ge.length;er++){var ir=Ge[er];sa=ir,eh(ir,ze)}OA(ze)}for(ze=ze.child;ze!==null;){switch(Ge=ze,Ge.tag){case 0:case 11:case 15:Mu(8,Ge,Ge.return),Hu(Ge);break;case 22:er=Ge.stateNode,er._visibility&2&&(er._visibility&=-3,Hu(Ge));break;default:Hu(Ge)}ze=ze.sibling}}function eh(ze,Ge){for(;sa!==null;){var er=sa;switch(er.tag){case 0:case 11:case 15:Mu(8,er,Ge);break;case 23:case 22:if(er.memoizedState!==null&&er.memoizedState.cachePool!==null){var ir=er.memoizedState.cachePool.pool;ir!=null&&ir.refCount++}break;case 24:Rd(er.memoizedState.cache)}if(ir=er.child,ir!==null)ir.return=er,sa=ir;else e:for(er=ze;sa!==null;){ir=sa;var mr=ir.sibling,Sr=ir.return;if(Ca(ir),ir===er){sa=null;break e}if(mr!==null){mr.return=Sr,sa=mr;break e}sa=Sr}}}var ap={getCacheForType:function(ze){var Ge=qa(Ya),er=Ge.data.get(ze);return er===void 0&&(er=ze(),Ge.data.set(ze,er)),er}},mf=typeof WeakMap=="function"?WeakMap:Map,aa=0,ga=null,js=null,Hs=0,ea=0,ql=null,gd=!1,gf=!1,iA=!1,Qu=0,Qa=0,xd=0,Wd=0,sA=0,Ac=0,xf=0,th=null,jl=null,aA=!1,hr=0,cr=1/0,pr=null,Ar=null,Dr=0,$r=null,Yr=null,cn=0,un=0,Tn=null,Bn=null,Ln=0,ai=null;function Hi(){if((aa&2)!==0&&Hs!==0)return Hs&-Hs;if(xr.T!==null){var ze=Eu;return ze!==0?ze:up()}return oa()}function Fi(){Ac===0&&(Ac=(Hs&536870912)===0||zs?Ni():536870912);var ze=Kl.current;return ze!==null&&(ze.flags|=32),Ac}function ki(ze,Ge,er){(ze===ga&&(ea===2||ea===9)||ze.cancelPendingCommit!==null)&&(Wi(ze,0),Ps(ze,Hs,Ac,!1)),Di(ze,er),((aa&2)===0||ze!==ga)&&(ze===ga&&((aa&2)===0&&(Wd|=er),Qa===4&&Ps(ze,Hs,Ac,!1)),_d(ze))}function vs(ze,Ge,er){if((aa&6)!==0)throw Error(Be(327));var ir=!er&&(Ge&124)===0&&(Ge&ze.expiredLanes)===0||jn(ze,Ge),mr=ir?ua(ze,Ge):nl(ze,Ge,!0),Sr=ir;do{if(mr===0){gf&&!ir&&Ps(ze,Ge,0,!1);break}else{if(er=ze.current.alternate,Sr&&!qi(er)){mr=nl(ze,Ge,!1),Sr=!1;continue}if(mr===2){if(Sr=Ge,ze.errorRecoveryDisabledLanes&Sr)var Vr=0;else Vr=ze.pendingLanes&-536870913,Vr=Vr!==0?Vr:Vr&536870912?536870912:0;if(Vr!==0){Ge=Vr;e:{var rn=ze;mr=th;var yn=rn.current.memoizedState.isDehydrated;if(yn&&(Wi(rn,Vr).flags|=256),Vr=nl(rn,Vr,!1),Vr!==2){if(iA&&!yn){rn.errorRecoveryDisabledLanes|=Sr,Wd|=Sr,mr=4;break e}Sr=jl,jl=mr,Sr!==null&&(jl===null?jl=Sr:jl.push.apply(jl,Sr))}mr=Vr}if(Sr=!1,mr!==2)continue}}if(mr===1){Wi(ze,0),Ps(ze,Ge,0,!0);break}e:{switch(ir=ze,Sr=mr,Sr){case 0:case 1:throw Error(Be(345));case 4:if((Ge&4194048)!==Ge)break;case 6:Ps(ir,Ge,Ac,!gd);break e;case 2:jl=null;break;case 3:case 5:break;default:throw Error(Be(329))}if((Ge&62914560)===Ge&&(mr=hr+300-kn(),10<mr)){if(Ps(ir,Ge,Ac,!gd),Bi(ir,0,!0)!==0)break e;ir.timeoutHandle=Gp(Xi.bind(null,ir,er,jl,pr,aA,Ge,Ac,Wd,xf,gd,Sr,2,-0,0),mr);break e}Xi(ir,er,jl,pr,aA,Ge,Ac,Wd,xf,gd,Sr,0,-0,0)}}break}while(!0);_d(ze)}function Xi(ze,Ge,er,ir,mr,Sr,Vr,rn,yn,Gn,di,vi,Yn,Xn){if(ze.timeoutHandle=-1,vi=Ge.subtreeFlags,(vi&8192||(vi&16785408)===16785408)&&(hA={stylesheets:null,count:0,unsuspend:qm},Jf(Ge),vi=Xm(),vi!==null)){ze.cancelPendingCommit=vi(Wu.bind(null,ze,Ge,Sr,er,ir,mr,Vr,rn,yn,di,1,Yn,Xn)),Ps(ze,Sr,Vr,!Gn);return}Wu(ze,Ge,Sr,er,ir,mr,Vr,rn,yn)}function qi(ze){for(var Ge=ze;;){var er=Ge.tag;if((er===0||er===11||er===15)&&Ge.flags&16384&&(er=Ge.updateQueue,er!==null&&(er=er.stores,er!==null)))for(var ir=0;ir<er.length;ir++){var mr=er[ir],Sr=mr.getSnapshot;mr=mr.value;try{if(!da(Sr(),mr))return!1}catch{return!1}}if(er=Ge.child,Ge.subtreeFlags&16384&&er!==null)er.return=Ge,Ge=er;else{if(Ge===ze)break;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===ze)return!0;Ge=Ge.return}Ge.sibling.return=Ge.return,Ge=Ge.sibling}}return!0}function Ps(ze,Ge,er,ir){Ge&=~sA,Ge&=~Wd,ze.suspendedLanes|=Ge,ze.pingedLanes&=~Ge,ir&&(ze.warmLanes|=Ge),ir=ze.expirationTimes;for(var mr=Ge;0<mr;){var Sr=31-Si(mr),Vr=1<<Sr;ir[Sr]=-1,mr&=~Vr}er!==0&&fi(ze,er,Ge)}function xs(){return(aa&6)===0?(oA(0),!1):!0}function cs(){if(js!==null){if(ea===0)var ze=js.return;else ze=js,Bc=mo=null,tf(ze),ju=null,$f=0,ze=js;for(;ze!==null;)wh(ze.alternate,ze),ze=ze.return;js=null}}function Wi(ze,Ge){var er=ze.timeoutHandle;er!==-1&&(ze.timeoutHandle=-1,Bm(er)),er=ze.cancelPendingCommit,er!==null&&(ze.cancelPendingCommit=null,er()),cs(),ga=ze,js=er=Uo(ze.current,null),Hs=Ge,ea=0,ql=null,gd=!1,gf=jn(ze,Ge),iA=!1,xf=Ac=sA=Wd=xd=Qa=0,jl=th=null,aA=!1,(Ge&8)!==0&&(Ge|=Ge&32);var ir=ze.entangledLanes;if(ir!==0)for(ze=ze.entanglements,ir&=Ge;0<ir;){var mr=31-Si(ir),Sr=1<<mr;Ge|=ze[mr],ir&=~Sr}return Qu=Ge,El(),er}function Ls(ze,Ge){ns=null,xr.H=ph,Ge===Gr||Ge===tn?(Ge=Fn(),ea=3):Ge===Xr?(Ge=Fn(),ea=4):ea=Ge===Wh?8:Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"?6:1,ql=Ge,js===null&&(Qa=1,zf(ze,ws(Ge,ze.current)))}function Us(){var ze=xr.H;return xr.H=ph,ze===null?ph:ze}function ps(){var ze=xr.A;return xr.A=ap,ze}function za(){Qa=4,gd||(Hs&4194048)!==Hs&&Kl.current!==null||(gf=!0),(xd&134217727)===0&&(Wd&134217727)===0||ga===null||Ps(ga,Hs,Ac,!1)}function nl(ze,Ge,er){var ir=aa;aa|=2;var mr=Us(),Sr=ps();(ga!==ze||Hs!==Ge)&&(pr=null,Wi(ze,Ge)),Ge=!1;var Vr=Qa;e:do try{if(ea!==0&&js!==null){var rn=js,yn=ql;switch(ea){case 8:cs(),Vr=6;break e;case 3:case 2:case 9:case 6:Kl.current===null&&(Ge=!0);var Gn=ea;if(ea=0,ql=null,bo(ze,rn,yn,Gn),er&&gf){Vr=0;break e}break;default:Gn=ea,ea=0,ql=null,bo(ze,rn,yn,Gn)}}Yl(),Vr=Qa;break}catch(di){Ls(ze,di)}while(!0);return Ge&&ze.shellSuspendCounter++,Bc=mo=null,aa=ir,xr.H=mr,xr.A=Sr,js===null&&(ga=null,Hs=0,El()),Vr}function Yl(){for(;js!==null;)zu(js)}function ua(ze,Ge){var er=aa;aa|=2;var ir=Us(),mr=ps();ga!==ze||Hs!==Ge?(pr=null,cr=kn()+500,Wi(ze,Ge)):gf=jn(ze,Ge);e:do try{if(ea!==0&&js!==null){Ge=js;var Sr=ql;t:switch(ea){case 1:ea=0,ql=null,bo(ze,Ge,Sr,1);break;case 2:case 9:if(dn(Sr)){ea=0,ql=null,ul(Ge);break}Ge=function(){ea!==2&&ea!==9||ga!==ze||(ea=7),_d(ze)},Sr.then(Ge,Ge);break e;case 3:ea=7;break e;case 4:ea=5;break e;case 7:dn(Sr)?(ea=0,ql=null,ul(Ge)):(ea=0,ql=null,bo(ze,Ge,Sr,7));break;case 5:var Vr=null;switch(js.tag){case 26:Vr=js.memoizedState;case 5:case 27:var rn=js;if(!Vr||am(Vr)){ea=0,ql=null;var yn=rn.sibling;if(yn!==null)js=yn;else{var Gn=rn.return;Gn!==null?(js=Gn,lu(Gn)):js=null}break t}}ea=0,ql=null,bo(ze,Ge,Sr,5);break;case 6:ea=0,ql=null,bo(ze,Ge,Sr,6);break;case 8:cs(),Qa=6;break e;default:throw Error(Be(462))}}Ho();break}catch(di){Ls(ze,di)}while(!0);return Bc=mo=null,xr.H=ir,xr.A=mr,aa=er,js!==null?0:(ga=null,Hs=0,El(),Qa)}function Ho(){for(;js!==null&&!mn();)zu(js)}function zu(ze){var Ge=PA(ze.alternate,ze,Qu);ze.memoizedProps=ze.pendingProps,Ge===null?lu(ze):js=Ge}function ul(ze){var Ge=ze,er=Ge.alternate;switch(Ge.tag){case 15:case 0:Ge=$d(er,Ge,Ge.pendingProps,Ge.type,void 0,Hs);break;case 11:Ge=$d(er,Ge,Ge.pendingProps,Ge.type.render,Ge.ref,Hs);break;case 5:tf(Ge);default:wh(er,Ge),Ge=js=Sd(Ge,Qu),Ge=PA(er,Ge,Qu)}ze.memoizedProps=ze.pendingProps,Ge===null?lu(ze):js=Ge}function bo(ze,Ge,er,ir){Bc=mo=null,tf(Ge),ju=null,$f=0;var mr=Ge.return;try{if(CA(ze,mr,Ge,er,Hs)){Qa=1,zf(ze,ws(er,ze.current)),js=null;return}}catch(Sr){if(mr!==null)throw js=mr,Sr;Qa=1,zf(ze,ws(er,ze.current)),js=null;return}Ge.flags&32768?(zs||ir===1?ze=!0:gf||(Hs&536870912)!==0?ze=!1:(gd=ze=!0,(ir===2||ir===9||ir===3||ir===6)&&(ir=Kl.current,ir!==null&&ir.tag===13&&(ir.flags|=16384))),Uc(Ge,ze)):lu(Ge)}function lu(ze){var Ge=ze;do{if((Ge.flags&32768)!==0){Uc(Ge,gd);return}ze=Ge.return;var er=rp(Ge.alternate,Ge,Qu);if(er!==null){js=er;return}if(Ge=Ge.sibling,Ge!==null){js=Ge;return}js=Ge=ze}while(Ge!==null);Qa===0&&(Qa=5)}function Uc(ze,Ge){do{var er=np(ze.alternate,ze);if(er!==null){er.flags&=32767,js=er;return}if(er=ze.return,er!==null&&(er.flags|=32768,er.subtreeFlags=0,er.deletions=null),!Ge&&(ze=ze.sibling,ze!==null)){js=ze;return}js=ze=er}while(ze!==null);Qa=6,js=null}function Wu(ze,Ge,er,ir,mr,Sr,Vr,rn,yn){ze.cancelPendingCommit=null;do pc();while(Dr!==0);if((aa&6)!==0)throw Error(Be(327));if(Ge!==null){if(Ge===ze.current)throw Error(Be(177));if(Sr=Ge.lanes|Ge.childLanes,Sr|=pa,hi(ze,er,Sr,Vr,rn,yn),ze===ga&&(js=ga=null,Hs=0),Yr=Ge,$r=ze,cn=er,un=Sr,Tn=mr,Bn=ir,(Ge.subtreeFlags&10256)!==0||(Ge.flags&10256)!==0?(ze.callbackNode=null,ze.callbackPriority=0,bm(Jn,function(){return Kd(),null})):(ze.callbackNode=null,ze.callbackPriority=0),ir=(Ge.flags&13878)!==0,(Ge.subtreeFlags&13878)!==0||ir){ir=xr.T,xr.T=null,mr=Pr.p,Pr.p=2,Vr=aa,aa|=4;try{ip(ze,Ge,er)}finally{aa=Vr,Pr.p=mr,xr.T=ir}}Dr=1,vd(),yd(),cu()}}function vd(){if(Dr===1){Dr=0;var ze=$r,Ge=Yr,er=(Ge.flags&13878)!==0;if((Ge.subtreeFlags&13878)!==0||er){er=xr.T,xr.T=null;var ir=Pr.p;Pr.p=2;var mr=aa;aa|=4;try{tA(Ge,ze);var Sr=xp,Vr=jo(ze.containerInfo),rn=Sr.focusedElem,yn=Sr.selectionRange;if(Vr!==rn&&rn&&rn.ownerDocument&&wc(rn.ownerDocument.documentElement,rn)){if(yn!==null&&Ka(rn)){var Gn=yn.start,di=yn.end;if(di===void 0&&(di=Gn),"selectionStart"in rn)rn.selectionStart=Gn,rn.selectionEnd=Math.min(di,rn.value.length);else{var vi=rn.ownerDocument||document,Yn=vi&&vi.defaultView||window;if(Yn.getSelection){var Xn=Yn.getSelection(),ms=rn.textContent.length,us=Math.min(yn.start,ms),va=yn.end===void 0?us:Math.min(yn.end,ms);!Xn.extend&&us>va&&(Vr=va,va=us,us=Vr);var On=Io(rn,us),Rn=Io(rn,va);if(On&&Rn&&(Xn.rangeCount!==1||Xn.anchorNode!==On.node||Xn.anchorOffset!==On.offset||Xn.focusNode!==Rn.node||Xn.focusOffset!==Rn.offset)){var Qn=vi.createRange();Qn.setStart(On.node,On.offset),Xn.removeAllRanges(),us>va?(Xn.addRange(Qn),Xn.extend(Rn.node,Rn.offset)):(Qn.setEnd(Rn.node,Rn.offset),Xn.addRange(Qn))}}}}for(vi=[],Xn=rn;Xn=Xn.parentNode;)Xn.nodeType===1&&vi.push({element:Xn,left:Xn.scrollLeft,top:Xn.scrollTop});for(typeof rn.focus=="function"&&rn.focus(),rn=0;rn<vi.length;rn++){var mi=vi[rn];mi.element.scrollLeft=mi.left,mi.element.scrollTop=mi.top}}GA=!!gp,xp=gp=null}finally{aa=mr,Pr.p=ir,xr.T=er}}ze.current=Ge,Dr=2}}function yd(){if(Dr===2){Dr=0;var ze=$r,Ge=Yr,er=(Ge.flags&8772)!==0;if((Ge.subtreeFlags&8772)!==0||er){er=xr.T,xr.T=null;var ir=Pr.p;Pr.p=2;var mr=aa;aa|=4;try{Ys(ze,Ge.alternate,Ge)}finally{aa=mr,Pr.p=ir,xr.T=er}}Dr=3}}function cu(){if(Dr===4||Dr===3){Dr=0,Zr();var ze=$r,Ge=Yr,er=cn,ir=Bn;(Ge.subtreeFlags&10256)!==0||(Ge.flags&10256)!==0?Dr=5:(Dr=0,Yr=$r=null,bd(ze,ze.pendingLanes));var mr=ze.pendingLanes;if(mr===0&&(Ar=null),ds(er),Ge=Ge.stateNode,Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(xi,Ge,void 0,(Ge.current.flags&128)===128)}catch{}if(ir!==null){Ge=xr.T,mr=Pr.p,Pr.p=2,xr.T=null;try{for(var Sr=ze.onRecoverableError,Vr=0;Vr<ir.length;Vr++){var rn=ir[Vr];Sr(rn.value,{componentStack:rn.stack})}}finally{xr.T=Ge,Pr.p=mr}}(cn&3)!==0&&pc(),_d(ze),mr=ze.pendingLanes,(er&4194090)!==0&&(mr&42)!==0?ze===ai?Ln++:(Ln=0,ai=ze):Ln=0,oA(0)}}function bd(ze,Ge){(ze.pooledCacheLanes&=Ge)===0&&(Ge=ze.pooledCache,Ge!=null&&(ze.pooledCache=null,Rd(Ge)))}function pc(ze){return vd(),yd(),cu(),Kd()}function Kd(){if(Dr!==5)return!1;var ze=$r,Ge=un;un=0;var er=ds(cn),ir=xr.T,mr=Pr.p;try{Pr.p=32>er?32:er,xr.T=null,er=Tn,Tn=null;var Sr=$r,Vr=cn;if(Dr=0,Yr=$r=null,cn=0,(aa&6)!==0)throw Error(Be(331));var rn=aa;if(aa|=4,Rh(Sr.current),FA(Sr,Sr.current,Vr,er),aa=rn,oA(0,!1),Pi&&typeof Pi.onPostCommitFiberRoot=="function")try{Pi.onPostCommitFiberRoot(xi,Sr)}catch{}return!0}finally{Pr.p=mr,xr.T=ir,bd(ze,Ge)}}function vf(ze,Ge,er){Ge=ws(er,Ge),Ge=zh(ze.stateNode,Ge,2),ze=Ai(ze,Ge,2),ze!==null&&(Di(ze,2),_d(ze))}function Ta(ze,Ge,er){if(ze.tag===3)vf(ze,ze,er);else for(;Ge!==null;){if(Ge.tag===3){vf(Ge,ze,er);break}else if(Ge.tag===1){var ir=Ge.stateNode;if(typeof Ge.type.getDerivedStateFromError=="function"||typeof ir.componentDidCatch=="function"&&(Ar===null||!Ar.has(ir))){ze=ws(er,ze),er=Wf(2),ir=Ai(Ge,er,2),ir!==null&&(Kf(er,ir,Ge,ze),Di(ir,2),_d(ir));break}}Ge=Ge.return}}function op(ze,Ge,er){var ir=ze.pingCache;if(ir===null){ir=ze.pingCache=new mf;var mr=new Set;ir.set(Ge,mr)}else mr=ir.get(Ge),mr===void 0&&(mr=new Set,ir.set(Ge,mr));mr.has(er)||(iA=!0,mr.add(er),ze=xm.bind(null,ze,Ge,er),Ge.then(ze,ze))}function xm(ze,Ge,er){var ir=ze.pingCache;ir!==null&&ir.delete(Ge),ze.pingedLanes|=ze.suspendedLanes&er,ze.warmLanes&=~er,ga===ze&&(Hs&er)===er&&(Qa===4||Qa===3&&(Hs&62914560)===Hs&&300>kn()-hr?(aa&2)===0&&Wi(ze,0):sA|=er,xf===Hs&&(xf=0)),_d(ze)}function Dp(ze,Ge){Ge===0&&(Ge=bi()),ze=Tc(ze,Ge),ze!==null&&(Di(ze,Ge),_d(ze))}function vm(ze){var Ge=ze.memoizedState,er=0;Ge!==null&&(er=Ge.retryLane),Dp(ze,er)}function ym(ze,Ge){var er=0;switch(ze.tag){case 13:var ir=ze.stateNode,mr=ze.memoizedState;mr!==null&&(er=mr.retryLane);break;case 19:ir=ze.stateNode;break;case 22:ir=ze.stateNode._retryCache;break;default:throw Error(Be(314))}ir!==null&&ir.delete(Ge),Dp(ze,er)}function bm(ze,Ge){return bn(ze,Ge)}var kA=null,Ph=null,lp=!1,MA=!1,cp=!1,rh=0;function _d(ze){ze!==Ph&&ze.next===null&&(Ph===null?kA=Ph=ze:Ph=Ph.next=ze),MA=!0,lp||(lp=!0,Em())}function oA(ze,Ge){if(!cp&&MA){cp=!0;do for(var er=!1,ir=kA;ir!==null;){if(ze!==0){var mr=ir.pendingLanes;if(mr===0)var Sr=0;else{var Vr=ir.suspendedLanes,rn=ir.pingedLanes;Sr=(1<<31-Si(42|ze)+1)-1,Sr&=mr&~(Vr&~rn),Sr=Sr&201326741?Sr&201326741|1:Sr?Sr|2:0}Sr!==0&&(er=!0,Mp(ir,Sr))}else Sr=Hs,Sr=Bi(ir,ir===ga?Sr:0,ir.cancelPendingCommit!==null||ir.timeoutHandle!==-1),(Sr&3)===0||jn(ir,Sr)||(er=!0,Mp(ir,Sr));ir=ir.next}while(er);cp=!1}}function _m(){Fp()}function Fp(){MA=lp=!1;var ze=0;rh!==0&&(jm()&&(ze=rh),rh=0);for(var Ge=kn(),er=null,ir=kA;ir!==null;){var mr=ir.next,Sr=Op(ir,Ge);Sr===0?(ir.next=null,er===null?kA=mr:er.next=mr,mr===null&&(Ph=er)):(er=ir,(ze!==0||(Sr&3)!==0)&&(MA=!0)),ir=mr}oA(ze)}function Op(ze,Ge){for(var er=ze.suspendedLanes,ir=ze.pingedLanes,mr=ze.expirationTimes,Sr=ze.pendingLanes&-62914561;0<Sr;){var Vr=31-Si(Sr),rn=1<<Vr,yn=mr[Vr];yn===-1?((rn&er)===0||(rn&ir)!==0)&&(mr[Vr]=vn(rn,Ge)):yn<=Ge&&(ze.expiredLanes|=rn),Sr&=~rn}if(Ge=ga,er=Hs,er=Bi(ze,ze===Ge?er:0,ze.cancelPendingCommit!==null||ze.timeoutHandle!==-1),ir=ze.callbackNode,er===0||ze===Ge&&(ea===2||ea===9)||ze.cancelPendingCommit!==null)return ir!==null&&ir!==null&&gn(ir),ze.callbackNode=null,ze.callbackPriority=0;if((er&3)===0||jn(ze,er)){if(Ge=er&-er,Ge===ze.callbackPriority)return Ge;switch(ir!==null&&gn(ir),ds(er)){case 2:case 8:er=ei;break;case 32:er=Jn;break;case 268435456:er=_i;break;default:er=Jn}return ir=kp.bind(null,ze),er=bn(er,ir),ze.callbackPriority=Ge,ze.callbackNode=er,Ge}return ir!==null&&ir!==null&&gn(ir),ze.callbackPriority=2,ze.callbackNode=null,2}function kp(ze,Ge){if(Dr!==0&&Dr!==5)return ze.callbackNode=null,ze.callbackPriority=0,null;var er=ze.callbackNode;if(pc()&&ze.callbackNode!==er)return null;var ir=Hs;return ir=Bi(ze,ze===ga?ir:0,ze.cancelPendingCommit!==null||ze.timeoutHandle!==-1),ir===0?null:(vs(ze,ir,Ge),Op(ze,kn()),ze.callbackNode!=null&&ze.callbackNode===er?kp.bind(null,ze):null)}function Mp(ze,Ge){if(pc())return null;vs(ze,Ge,!0)}function Em(){Nm(function(){(aa&6)!==0?bn(zn,_m):Fp()})}function up(){return rh===0&&(rh=Ni()),rh}function Lp(ze){return ze==null||typeof ze=="symbol"||typeof ze=="boolean"?null:typeof ze=="function"?ze:al(""+ze)}function Up(ze,Ge){var er=Ge.ownerDocument.createElement("input");return er.name=Ge.name,er.value=Ge.value,ze.id&&er.setAttribute("form",ze.id),Ge.parentNode.insertBefore(er,Ge),ze=new FormData(ze),er.parentNode.removeChild(er),ze}function wm(ze,Ge,er,ir,mr){if(Ge==="submit"&&er&&er.stateNode===mr){var Sr=Lp((mr[Fs]||null).action),Vr=ir.submitter;Vr&&(Ge=(Ge=Vr[Fs]||null)?Lp(Ge.formAction):Vr.getAttribute("formAction"),Ge!==null&&(Sr=Ge,Vr=null));var rn=new Fl("action","action",null,ir,mr);ze.push({event:rn,listeners:[{instance:null,listener:function(){if(ir.defaultPrevented){if(rh!==0){var yn=Vr?Up(mr,Vr):new FormData(mr);fc(er,{pending:!0,data:yn,method:mr.method,action:Sr},null,yn)}}else typeof Sr=="function"&&(rn.preventDefault(),yn=Vr?Up(mr,Vr):new FormData(mr),fc(er,{pending:!0,data:yn,method:mr.method,action:Sr},Sr,yn))},currentTarget:mr}]})}}for(var dp=0;dp<Jc.length;dp++){var fp=Jc[dp],Sm=fp.toLowerCase(),Cm=fp[0].toUpperCase()+fp.slice(1);wa(Sm,"on"+Cm)}wa(pu,"onAnimationEnd"),wa(Yc,"onAnimationIteration"),wa(Xc,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(Ul,"onTransitionRun"),wa(mu,"onTransitionStart"),wa(gu,"onTransitionCancel"),wa(Cc,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lA));function $p(ze,Ge){Ge=(Ge&4)!==0;for(var er=0;er<ze.length;er++){var ir=ze[er],mr=ir.event;ir=ir.listeners;e:{var Sr=void 0;if(Ge)for(var Vr=ir.length-1;0<=Vr;Vr--){var rn=ir[Vr],yn=rn.instance,Gn=rn.currentTarget;if(rn=rn.listener,yn!==Sr&&mr.isPropagationStopped())break e;Sr=rn,mr.currentTarget=Gn;try{Sr(mr)}catch(di){df(di)}mr.currentTarget=null,Sr=yn}else for(Vr=0;Vr<ir.length;Vr++){if(rn=ir[Vr],yn=rn.instance,Gn=rn.currentTarget,rn=rn.listener,yn!==Sr&&mr.isPropagationStopped())break e;Sr=rn,mr.currentTarget=Gn;try{Sr(mr)}catch(di){df(di)}mr.currentTarget=null,Sr=yn}}}}function $s(ze,Ge){var er=Ge[Yi];er===void 0&&(er=Ge[Yi]=new Set);var ir=ze+"__bubble";er.has(ir)||(Vp(Ge,ze,2,!1),er.add(ir))}function hp(ze,Ge,er){var ir=0;Ge&&(ir|=4),Vp(er,ze,ir,Ge)}var LA="_reactListening"+Math.random().toString(36).slice(2);function Ap(ze){if(!ze[LA]){ze[LA]=!0,Vn.forEach(function(er){er!=="selectionchange"&&(Tm.has(er)||hp(er,!1,ze),hp(er,!0,ze))});var Ge=ze.nodeType===9?ze:ze.ownerDocument;Ge===null||Ge[LA]||(Ge[LA]=!0,hp("selectionchange",!1,Ge))}}function Vp(ze,Ge,er,ir){switch(fm(Ge)){case 2:var mr=eg;break;case 8:mr=tg;break;default:mr=Rp}er=mr.bind(null,Ge,er,ze),mr=void 0,!Oo||Ge!=="touchstart"&&Ge!=="touchmove"&&Ge!=="wheel"||(mr=!0),ir?mr!==void 0?ze.addEventListener(Ge,er,{capture:!0,passive:mr}):ze.addEventListener(Ge,er,!0):mr!==void 0?ze.addEventListener(Ge,er,{passive:mr}):ze.addEventListener(Ge,er,!1)}function pp(ze,Ge,er,ir,mr){var Sr=ir;if((Ge&1)===0&&(Ge&2)===0&&ir!==null)e:for(;;){if(ir===null)return;var Vr=ir.tag;if(Vr===3||Vr===4){var rn=ir.stateNode.containerInfo;if(rn===mr)break;if(Vr===4)for(Vr=ir.return;Vr!==null;){var yn=Vr.tag;if((yn===3||yn===4)&&Vr.stateNode.containerInfo===mr)return;Vr=Vr.return}for(;rn!==null;){if(Vr=hn(rn),Vr===null)return;if(yn=Vr.tag,yn===5||yn===6||yn===26||yn===27){ir=Sr=Vr;continue e}rn=rn.parentNode}}ir=ir.return}qu(function(){var Gn=Sr,di=na(er),vi=[];e:{var Yn=sc.get(ze);if(Yn!==void 0){var Xn=Fl,ms=ze;switch(ze){case"keypress":if(Ko(er)===0)break e;case"keydown":case"keyup":Xn=kl;break;case"focusin":ms="focus",Xn=ol;break;case"focusout":ms="blur",Xn=ol;break;case"beforeblur":case"afterblur":Xn=ol;break;case"click":if(er.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xn=$a;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xn=tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xn=Wc;break;case pu:case Yc:case Xc:Xn=Qc;break;case Cc:Xn=zr;break;case"scroll":case"scrollend":Xn=fu;break;case"wheel":Xn=_n;break;case"copy":case"cut":case"paste":Xn=Ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xn=Ec;break;case"toggle":case"beforetoggle":Xn=ni}var us=(Ge&4)!==0,va=!us&&(ze==="scroll"||ze==="scrollend"),On=us?Yn!==null?Yn+"Capture":null:Yn;us=[];for(var Rn=Gn,Qn;Rn!==null;){var mi=Rn;if(Qn=mi.stateNode,mi=mi.tag,mi!==5&&mi!==26&&mi!==27||Qn===null||On===null||(mi=So(Rn,On),mi!=null&&us.push(cA(Rn,mi,Qn))),va)break;Rn=Rn.return}0<us.length&&(Yn=new Xn(Yn,ms,null,er,di),vi.push({event:Yn,listeners:us}))}}if((Ge&7)===0){e:{if(Yn=ze==="mouseover"||ze==="pointerover",Xn=ze==="mouseout"||ze==="pointerout",Yn&&er!==fo&&(ms=er.relatedTarget||er.fromElement)&&(hn(ms)||ms[Xs]))break e;if((Xn||Yn)&&(Yn=di.window===di?di:(Yn=di.ownerDocument)?Yn.defaultView||Yn.parentWindow:window,Xn?(ms=er.relatedTarget||er.toElement,Xn=Gn,ms=ms?hn(ms):null,ms!==null&&(va=Fe(ms),us=ms.tag,ms!==va||us!==5&&us!==27&&us!==6)&&(ms=null)):(Xn=null,ms=Gn),Xn!==ms)){if(us=$a,mi="onMouseLeave",On="onMouseEnter",Rn="mouse",(ze==="pointerout"||ze==="pointerover")&&(us=Ec,mi="onPointerLeave",On="onPointerEnter",Rn="pointer"),va=Xn==null?Yn:Mn(Xn),Qn=ms==null?Yn:Mn(ms),Yn=new us(mi,Rn+"leave",Xn,er,di),Yn.target=va,Yn.relatedTarget=Qn,mi=null,hn(di)===Gn&&(us=new us(On,Rn+"enter",ms,er,di),us.target=Qn,us.relatedTarget=va,mi=us),va=mi,Xn&&ms)t:{for(us=Xn,On=ms,Rn=0,Qn=us;Qn;Qn=Ih(Qn))Rn++;for(Qn=0,mi=On;mi;mi=Ih(mi))Qn++;for(;0<Rn-Qn;)us=Ih(us),Rn--;for(;0<Qn-Rn;)On=Ih(On),Qn--;for(;Rn--;){if(us===On||On!==null&&us===On.alternate)break t;us=Ih(us),On=Ih(On)}us=null}else us=null;Xn!==null&&Hp(vi,Yn,Xn,us,!1),ms!==null&&va!==null&&Hp(vi,va,ms,us,!0)}}e:{if(Yn=Gn?Mn(Gn):window,Xn=Yn.nodeName&&Yn.nodeName.toLowerCase(),Xn==="select"||Xn==="input"&&Yn.type==="file")var Ji=Kc;else if(Ts(Yn))if(Go)Ji=Ed;else{Ji=Ju;var Ds=ko}else Xn=Yn.nodeName,!Xn||Xn.toLowerCase()!=="input"||Yn.type!=="checkbox"&&Yn.type!=="radio"?Gn&&du(Gn.elementType)&&(Ji=Kc):Ji=Zu;if(Ji&&(Ji=Ji(ze,Gn))){_l(vi,Ji,er,di);break e}Ds&&Ds(ze,Yn,Gn),ze==="focusout"&&Gn&&Yn.type==="number"&&Gn.memoizedProps.value!=null&&Jl(Yn,"number",Yn.value)}switch(Ds=Gn?Mn(Gn):window,ze){case"focusin":(Ts(Ds)||Ds.contentEditable==="true")&&(qo=Ds,Lo=Gn,Ao=null);break;case"focusout":Ao=Lo=qo=null;break;case"mousedown":Ll=!0;break;case"contextmenu":case"mouseup":case"dragend":Ll=!1,Pa(vi,er,di);break;case"selectionchange":if(Sc)break;case"keydown":case"keyup":Pa(vi,er,di)}var rs;if($i)e:{switch(ze){case"compositionstart":var hs="onCompositionStart";break e;case"compositionend":hs="onCompositionEnd";break e;case"compositionupdate":hs="onCompositionUpdate";break e}hs=void 0}else os?Un(ze,er)&&(hs="onCompositionEnd"):ze==="keydown"&&er.keyCode===229&&(hs="onCompositionStart");hs&&(Ur&&er.locale!=="ko"&&(os||hs!=="onCompositionStart"?hs==="onCompositionEnd"&&os&&(rs=Hc()):(ya=di,gl="value"in ya?ya.value:ya.textContent,os=!0)),Ds=UA(Gn,hs),0<Ds.length&&(hs=new yc(hs,ze,null,er,di),vi.push({event:hs,listeners:Ds}),rs?hs.data=rs:(rs=si(er),rs!==null&&(hs.data=rs)))),(rs=Fr?Es(ze,er):As(ze,er))&&(hs=UA(Gn,"onBeforeInput"),0<hs.length&&(Ds=new yc("onBeforeInput","beforeinput",null,er,di),vi.push({event:Ds,listeners:hs}),Ds.data=rs)),wm(vi,ze,Gn,er,di)}$p(vi,Ge)})}function cA(ze,Ge,er){return{instance:ze,listener:Ge,currentTarget:er}}function UA(ze,Ge){for(var er=Ge+"Capture",ir=[];ze!==null;){var mr=ze,Sr=mr.stateNode;if(mr=mr.tag,mr!==5&&mr!==26&&mr!==27||Sr===null||(mr=So(ze,er),mr!=null&&ir.unshift(cA(ze,mr,Sr)),mr=So(ze,Ge),mr!=null&&ir.push(cA(ze,mr,Sr))),ze.tag===3)return ir;ze=ze.return}return[]}function Ih(ze){if(ze===null)return null;do ze=ze.return;while(ze&&ze.tag!==5&&ze.tag!==27);return ze||null}function Hp(ze,Ge,er,ir,mr){for(var Sr=Ge._reactName,Vr=[];er!==null&&er!==ir;){var rn=er,yn=rn.alternate,Gn=rn.stateNode;if(rn=rn.tag,yn!==null&&yn===ir)break;rn!==5&&rn!==26&&rn!==27||Gn===null||(yn=Gn,mr?(Gn=So(er,Sr),Gn!=null&&Vr.unshift(cA(er,Gn,yn))):mr||(Gn=So(er,Sr),Gn!=null&&Vr.push(cA(er,Gn,yn)))),er=er.return}Vr.length!==0&&ze.push({event:Ge,listeners:Vr})}var Rm=/\r\n?/g,Pm=/\u0000|\uFFFD/g;function Qp(ze){return(typeof ze=="string"?ze:""+ze).replace(Rm,`
`).replace(Pm,"")}function zp(ze,Ge){return Ge=Qp(Ge),Qp(ze)===Ge}function $A(){}function xa(ze,Ge,er,ir,mr,Sr){switch(er){case"children":typeof ir=="string"?Ge==="body"||Ge==="textarea"&&ir===""||Qo(ze,ir):(typeof ir=="number"||typeof ir=="bigint")&&Ge!=="body"&&Qo(ze,""+ir);break;case"className":_s(ze,"class",ir);break;case"tabIndex":_s(ze,"tabindex",ir);break;case"dir":case"role":case"viewBox":case"width":case"height":_s(ze,er,ir);break;case"style":Vc(ze,ir,Sr);break;case"data":if(Ge!=="object"){_s(ze,"data",ir);break}case"src":case"href":if(ir===""&&(Ge!=="a"||er!=="href")){ze.removeAttribute(er);break}if(ir==null||typeof ir=="function"||typeof ir=="symbol"||typeof ir=="boolean"){ze.removeAttribute(er);break}ir=al(""+ir),ze.setAttribute(er,ir);break;case"action":case"formAction":if(typeof ir=="function"){ze.setAttribute(er,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Sr=="function"&&(er==="formAction"?(Ge!=="input"&&xa(ze,Ge,"name",mr.name,mr,null),xa(ze,Ge,"formEncType",mr.formEncType,mr,null),xa(ze,Ge,"formMethod",mr.formMethod,mr,null),xa(ze,Ge,"formTarget",mr.formTarget,mr,null)):(xa(ze,Ge,"encType",mr.encType,mr,null),xa(ze,Ge,"method",mr.method,mr,null),xa(ze,Ge,"target",mr.target,mr,null)));if(ir==null||typeof ir=="symbol"||typeof ir=="boolean"){ze.removeAttribute(er);break}ir=al(""+ir),ze.setAttribute(er,ir);break;case"onClick":ir!=null&&(ze.onclick=$A);break;case"onScroll":ir!=null&&$s("scroll",ze);break;case"onScrollEnd":ir!=null&&$s("scrollend",ze);break;case"dangerouslySetInnerHTML":if(ir!=null){if(typeof ir!="object"||!("__html"in ir))throw Error(Be(61));if(er=ir.__html,er!=null){if(mr.children!=null)throw Error(Be(60));ze.innerHTML=er}}break;case"multiple":ze.multiple=ir&&typeof ir!="function"&&typeof ir!="symbol";break;case"muted":ze.muted=ir&&typeof ir!="function"&&typeof ir!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(ir==null||typeof ir=="function"||typeof ir=="boolean"||typeof ir=="symbol"){ze.removeAttribute("xlink:href");break}er=al(""+ir),ze.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",er);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":ir!=null&&typeof ir!="function"&&typeof ir!="symbol"?ze.setAttribute(er,""+ir):ze.removeAttribute(er);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":ir&&typeof ir!="function"&&typeof ir!="symbol"?ze.setAttribute(er,""):ze.removeAttribute(er);break;case"capture":case"download":ir===!0?ze.setAttribute(er,""):ir!==!1&&ir!=null&&typeof ir!="function"&&typeof ir!="symbol"?ze.setAttribute(er,ir):ze.removeAttribute(er);break;case"cols":case"rows":case"size":case"span":ir!=null&&typeof ir!="function"&&typeof ir!="symbol"&&!isNaN(ir)&&1<=ir?ze.setAttribute(er,ir):ze.removeAttribute(er);break;case"rowSpan":case"start":ir==null||typeof ir=="function"||typeof ir=="symbol"||isNaN(ir)?ze.removeAttribute(er):ze.setAttribute(er,ir);break;case"popover":$s("beforetoggle",ze),$s("toggle",ze),gs(ze,"popover",ir);break;case"xlinkActuate":ys(ze,"http://www.w3.org/1999/xlink","xlink:actuate",ir);break;case"xlinkArcrole":ys(ze,"http://www.w3.org/1999/xlink","xlink:arcrole",ir);break;case"xlinkRole":ys(ze,"http://www.w3.org/1999/xlink","xlink:role",ir);break;case"xlinkShow":ys(ze,"http://www.w3.org/1999/xlink","xlink:show",ir);break;case"xlinkTitle":ys(ze,"http://www.w3.org/1999/xlink","xlink:title",ir);break;case"xlinkType":ys(ze,"http://www.w3.org/1999/xlink","xlink:type",ir);break;case"xmlBase":ys(ze,"http://www.w3.org/XML/1998/namespace","xml:base",ir);break;case"xmlLang":ys(ze,"http://www.w3.org/XML/1998/namespace","xml:lang",ir);break;case"xmlSpace":ys(ze,"http://www.w3.org/XML/1998/namespace","xml:space",ir);break;case"is":gs(ze,"is",ir);break;case"innerText":case"textContent":break;default:(!(2<er.length)||er[0]!=="o"&&er[0]!=="O"||er[1]!=="n"&&er[1]!=="N")&&(er=Nl.get(er)||er,gs(ze,er,ir))}}function mp(ze,Ge,er,ir,mr,Sr){switch(er){case"style":Vc(ze,ir,Sr);break;case"dangerouslySetInnerHTML":if(ir!=null){if(typeof ir!="object"||!("__html"in ir))throw Error(Be(61));if(er=ir.__html,er!=null){if(mr.children!=null)throw Error(Be(60));ze.innerHTML=er}}break;case"children":typeof ir=="string"?Qo(ze,ir):(typeof ir=="number"||typeof ir=="bigint")&&Qo(ze,""+ir);break;case"onScroll":ir!=null&&$s("scroll",ze);break;case"onScrollEnd":ir!=null&&$s("scrollend",ze);break;case"onClick":ir!=null&&(ze.onclick=$A);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kn.hasOwnProperty(er))e:{if(er[0]==="o"&&er[1]==="n"&&(mr=er.endsWith("Capture"),Ge=er.slice(2,mr?er.length-7:void 0),Sr=ze[Fs]||null,Sr=Sr!=null?Sr[er]:null,typeof Sr=="function"&&ze.removeEventListener(Ge,Sr,mr),typeof ir=="function")){typeof Sr!="function"&&Sr!==null&&(er in ze?ze[er]=null:ze.hasAttribute(er)&&ze.removeAttribute(er)),ze.addEventListener(Ge,ir,mr);break e}er in ze?ze[er]=ir:ir===!0?ze.setAttribute(er,""):gs(ze,er,ir)}}}function dl(ze,Ge,er){switch(Ge){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$s("error",ze),$s("load",ze);var ir=!1,mr=!1,Sr;for(Sr in er)if(er.hasOwnProperty(Sr)){var Vr=er[Sr];if(Vr!=null)switch(Sr){case"src":ir=!0;break;case"srcSet":mr=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Be(137,Ge));default:xa(ze,Ge,Sr,Vr,er,null)}}mr&&xa(ze,Ge,"srcSet",er.srcSet,er,null),ir&&xa(ze,Ge,"src",er.src,er,null);return;case"input":$s("invalid",ze);var rn=Sr=Vr=mr=null,yn=null,Gn=null;for(ir in er)if(er.hasOwnProperty(ir)){var di=er[ir];if(di!=null)switch(ir){case"name":mr=di;break;case"type":Vr=di;break;case"checked":yn=di;break;case"defaultChecked":Gn=di;break;case"value":Sr=di;break;case"defaultValue":rn=di;break;case"children":case"dangerouslySetInnerHTML":if(di!=null)throw Error(Be(137,Ge));break;default:xa(ze,Ge,ir,di,er,null)}}Xl(ze,Sr,rn,yn,Gn,Vr,mr,!1),sl(ze);return;case"select":$s("invalid",ze),ir=Vr=Sr=null;for(mr in er)if(er.hasOwnProperty(mr)&&(rn=er[mr],rn!=null))switch(mr){case"value":Sr=rn;break;case"defaultValue":Vr=rn;break;case"multiple":ir=rn;default:xa(ze,Ge,mr,rn,er,null)}Ge=Sr,er=Vr,ze.multiple=!!ir,Ge!=null?hl(ze,!!ir,Ge,!1):er!=null&&hl(ze,!!ir,er,!0);return;case"textarea":$s("invalid",ze),Sr=mr=ir=null;for(Vr in er)if(er.hasOwnProperty(Vr)&&(rn=er[Vr],rn!=null))switch(Vr){case"value":ir=rn;break;case"defaultValue":mr=rn;break;case"children":Sr=rn;break;case"dangerouslySetInnerHTML":if(rn!=null)throw Error(Be(91));break;default:xa(ze,Ge,Vr,rn,er,null)}Zl(ze,ir,mr,Sr),sl(ze);return;case"option":for(yn in er)if(er.hasOwnProperty(yn)&&(ir=er[yn],ir!=null))switch(yn){case"selected":ze.selected=ir&&typeof ir!="function"&&typeof ir!="symbol";break;default:xa(ze,Ge,yn,ir,er,null)}return;case"dialog":$s("beforetoggle",ze),$s("toggle",ze),$s("cancel",ze),$s("close",ze);break;case"iframe":case"object":$s("load",ze);break;case"video":case"audio":for(ir=0;ir<lA.length;ir++)$s(lA[ir],ze);break;case"image":$s("error",ze),$s("load",ze);break;case"details":$s("toggle",ze);break;case"embed":case"source":case"link":$s("error",ze),$s("load",ze);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Gn in er)if(er.hasOwnProperty(Gn)&&(ir=er[Gn],ir!=null))switch(Gn){case"children":case"dangerouslySetInnerHTML":throw Error(Be(137,Ge));default:xa(ze,Ge,Gn,ir,er,null)}return;default:if(du(Ge)){for(di in er)er.hasOwnProperty(di)&&(ir=er[di],ir!==void 0&&mp(ze,Ge,di,ir,er,void 0));return}}for(rn in er)er.hasOwnProperty(rn)&&(ir=er[rn],ir!=null&&xa(ze,Ge,rn,ir,er,null))}function Im(ze,Ge,er,ir){switch(Ge){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var mr=null,Sr=null,Vr=null,rn=null,yn=null,Gn=null,di=null;for(Xn in er){var vi=er[Xn];if(er.hasOwnProperty(Xn)&&vi!=null)switch(Xn){case"checked":break;case"value":break;case"defaultValue":yn=vi;default:ir.hasOwnProperty(Xn)||xa(ze,Ge,Xn,null,ir,vi)}}for(var Yn in ir){var Xn=ir[Yn];if(vi=er[Yn],ir.hasOwnProperty(Yn)&&(Xn!=null||vi!=null))switch(Yn){case"type":Sr=Xn;break;case"name":mr=Xn;break;case"checked":Gn=Xn;break;case"defaultChecked":di=Xn;break;case"value":Vr=Xn;break;case"defaultValue":rn=Xn;break;case"children":case"dangerouslySetInnerHTML":if(Xn!=null)throw Error(Be(137,Ge));break;default:Xn!==vi&&xa(ze,Ge,Yn,Xn,ir,vi)}}vo(ze,Vr,rn,yn,Gn,di,Sr,mr);return;case"select":Xn=Vr=rn=Yn=null;for(Sr in er)if(yn=er[Sr],er.hasOwnProperty(Sr)&&yn!=null)switch(Sr){case"value":break;case"multiple":Xn=yn;default:ir.hasOwnProperty(Sr)||xa(ze,Ge,Sr,null,ir,yn)}for(mr in ir)if(Sr=ir[mr],yn=er[mr],ir.hasOwnProperty(mr)&&(Sr!=null||yn!=null))switch(mr){case"value":Yn=Sr;break;case"defaultValue":rn=Sr;break;case"multiple":Vr=Sr;default:Sr!==yn&&xa(ze,Ge,mr,Sr,ir,yn)}Ge=rn,er=Vr,ir=Xn,Yn!=null?hl(ze,!!er,Yn,!1):!!ir!=!!er&&(Ge!=null?hl(ze,!!er,Ge,!0):hl(ze,!!er,er?[]:"",!1));return;case"textarea":Xn=Yn=null;for(rn in er)if(mr=er[rn],er.hasOwnProperty(rn)&&mr!=null&&!ir.hasOwnProperty(rn))switch(rn){case"value":break;case"children":break;default:xa(ze,Ge,rn,null,ir,mr)}for(Vr in ir)if(mr=ir[Vr],Sr=er[Vr],ir.hasOwnProperty(Vr)&&(mr!=null||Sr!=null))switch(Vr){case"value":Yn=mr;break;case"defaultValue":Xn=mr;break;case"children":break;case"dangerouslySetInnerHTML":if(mr!=null)throw Error(Be(91));break;default:mr!==Sr&&xa(ze,Ge,Vr,mr,ir,Sr)}Ws(ze,Yn,Xn);return;case"option":for(var ms in er)if(Yn=er[ms],er.hasOwnProperty(ms)&&Yn!=null&&!ir.hasOwnProperty(ms))switch(ms){case"selected":ze.selected=!1;break;default:xa(ze,Ge,ms,null,ir,Yn)}for(yn in ir)if(Yn=ir[yn],Xn=er[yn],ir.hasOwnProperty(yn)&&Yn!==Xn&&(Yn!=null||Xn!=null))switch(yn){case"selected":ze.selected=Yn&&typeof Yn!="function"&&typeof Yn!="symbol";break;default:xa(ze,Ge,yn,Yn,ir,Xn)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var us in er)Yn=er[us],er.hasOwnProperty(us)&&Yn!=null&&!ir.hasOwnProperty(us)&&xa(ze,Ge,us,null,ir,Yn);for(Gn in ir)if(Yn=ir[Gn],Xn=er[Gn],ir.hasOwnProperty(Gn)&&Yn!==Xn&&(Yn!=null||Xn!=null))switch(Gn){case"children":case"dangerouslySetInnerHTML":if(Yn!=null)throw Error(Be(137,Ge));break;default:xa(ze,Ge,Gn,Yn,ir,Xn)}return;default:if(du(Ge)){for(var va in er)Yn=er[va],er.hasOwnProperty(va)&&Yn!==void 0&&!ir.hasOwnProperty(va)&&mp(ze,Ge,va,void 0,ir,Yn);for(di in ir)Yn=ir[di],Xn=er[di],!ir.hasOwnProperty(di)||Yn===Xn||Yn===void 0&&Xn===void 0||mp(ze,Ge,di,Yn,ir,Xn);return}}for(var On in er)Yn=er[On],er.hasOwnProperty(On)&&Yn!=null&&!ir.hasOwnProperty(On)&&xa(ze,Ge,On,null,ir,Yn);for(vi in ir)Yn=ir[vi],Xn=er[vi],!ir.hasOwnProperty(vi)||Yn===Xn||Yn==null&&Xn==null||xa(ze,Ge,vi,Yn,ir,Xn)}var gp=null,xp=null;function VA(ze){return ze.nodeType===9?ze:ze.ownerDocument}function Wp(ze){switch(ze){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kp(ze,Ge){if(ze===0)switch(Ge){case"svg":return 1;case"math":return 2;default:return 0}return ze===1&&Ge==="foreignObject"?0:ze}function vp(ze,Ge){return ze==="textarea"||ze==="noscript"||typeof Ge.children=="string"||typeof Ge.children=="number"||typeof Ge.children=="bigint"||typeof Ge.dangerouslySetInnerHTML=="object"&&Ge.dangerouslySetInnerHTML!==null&&Ge.dangerouslySetInnerHTML.__html!=null}var yp=null;function jm(){var ze=window.event;return ze&&ze.type==="popstate"?ze===yp?!1:(yp=ze,!0):(yp=null,!1)}var Gp=typeof setTimeout=="function"?setTimeout:void 0,Bm=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,Nm=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(ze){return qp.resolve(null).then(ze).catch(Dm)}:Gp;function Dm(ze){setTimeout(function(){throw ze})}function yf(ze){return ze==="head"}function Yp(ze,Ge){var er=Ge,ir=0,mr=0;do{var Sr=er.nextSibling;if(ze.removeChild(er),Sr&&Sr.nodeType===8)if(er=Sr.data,er==="/$"){if(0<ir&&8>ir){er=ir;var Vr=ze.ownerDocument;if(er&1&&uA(Vr.documentElement),er&2&&uA(Vr.body),er&4)for(er=Vr.head,uA(er),Vr=er.firstChild;Vr;){var rn=Vr.nextSibling,yn=Vr.nodeName;Vr[sn]||yn==="SCRIPT"||yn==="STYLE"||yn==="LINK"&&Vr.rel.toLowerCase()==="stylesheet"||er.removeChild(Vr),Vr=rn}}if(mr===0){ze.removeChild(Sr),xA(Ge);return}mr--}else er==="$"||er==="$?"||er==="$!"?mr++:ir=er.charCodeAt(0)-48;else ir=0;er=Sr}while(er);xA(Ge)}function bp(ze){var Ge=ze.firstChild;for(Ge&&Ge.nodeType===10&&(Ge=Ge.nextSibling);Ge;){var er=Ge;switch(Ge=Ge.nextSibling,er.nodeName){case"HTML":case"HEAD":case"BODY":bp(er),on(er);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(er.rel.toLowerCase()==="stylesheet")continue}ze.removeChild(er)}}function Fm(ze,Ge,er,ir){for(;ze.nodeType===1;){var mr=er;if(ze.nodeName.toLowerCase()!==Ge.toLowerCase()){if(!ir&&(ze.nodeName!=="INPUT"||ze.type!=="hidden"))break}else if(ir){if(!ze[sn])switch(Ge){case"meta":if(!ze.hasAttribute("itemprop"))break;return ze;case"link":if(Sr=ze.getAttribute("rel"),Sr==="stylesheet"&&ze.hasAttribute("data-precedence"))break;if(Sr!==mr.rel||ze.getAttribute("href")!==(mr.href==null||mr.href===""?null:mr.href)||ze.getAttribute("crossorigin")!==(mr.crossOrigin==null?null:mr.crossOrigin)||ze.getAttribute("title")!==(mr.title==null?null:mr.title))break;return ze;case"style":if(ze.hasAttribute("data-precedence"))break;return ze;case"script":if(Sr=ze.getAttribute("src"),(Sr!==(mr.src==null?null:mr.src)||ze.getAttribute("type")!==(mr.type==null?null:mr.type)||ze.getAttribute("crossorigin")!==(mr.crossOrigin==null?null:mr.crossOrigin))&&Sr&&ze.hasAttribute("async")&&!ze.hasAttribute("itemprop"))break;return ze;default:return ze}}else if(Ge==="input"&&ze.type==="hidden"){var Sr=mr.name==null?null:""+mr.name;if(mr.type==="hidden"&&ze.getAttribute("name")===Sr)return ze}else return ze;if(ze=Ku(ze.nextSibling),ze===null)break}return null}function Om(ze,Ge,er){if(Ge==="")return null;for(;ze.nodeType!==3;)if((ze.nodeType!==1||ze.nodeName!=="INPUT"||ze.type!=="hidden")&&!er||(ze=Ku(ze.nextSibling),ze===null))return null;return ze}function _p(ze){return ze.data==="$!"||ze.data==="$?"&&ze.ownerDocument.readyState==="complete"}function km(ze,Ge){var er=ze.ownerDocument;if(ze.data!=="$?"||er.readyState==="complete")Ge();else{var ir=function(){Ge(),er.removeEventListener("DOMContentLoaded",ir)};er.addEventListener("DOMContentLoaded",ir),ze._reactRetry=ir}}function Ku(ze){for(;ze!=null;ze=ze.nextSibling){var Ge=ze.nodeType;if(Ge===1||Ge===3)break;if(Ge===8){if(Ge=ze.data,Ge==="$"||Ge==="$!"||Ge==="$?"||Ge==="F!"||Ge==="F")break;if(Ge==="/$")return null}}return ze}var Ep=null;function Xp(ze){ze=ze.previousSibling;for(var Ge=0;ze;){if(ze.nodeType===8){var er=ze.data;if(er==="$"||er==="$!"||er==="$?"){if(Ge===0)return ze;Ge--}else er==="/$"&&Ge++}ze=ze.previousSibling}return null}function Jp(ze,Ge,er){switch(Ge=VA(er),ze){case"html":if(ze=Ge.documentElement,!ze)throw Error(Be(452));return ze;case"head":if(ze=Ge.head,!ze)throw Error(Be(453));return ze;case"body":if(ze=Ge.body,!ze)throw Error(Be(454));return ze;default:throw Error(Be(451))}}function uA(ze){for(var Ge=ze.attributes;Ge.length;)ze.removeAttributeNode(Ge[0]);on(ze)}var uu=new Map,Zp=new Set;function HA(ze){return typeof ze.getRootNode=="function"?ze.getRootNode():ze.nodeType===9?ze:ze.ownerDocument}var Gd=Pr.d;Pr.d={f:Mm,r:Lm,D:Um,C:$m,L:Vm,m:Hm,X:zm,S:Qm,M:Wm};function Mm(){var ze=Gd.f(),Ge=xs();return ze||Ge}function Lm(ze){var Ge=pn(ze);Ge!==null&&Ge.tag===5&&Ge.type==="form"?Od(Ge):Gd.r(ze)}var jh=typeof document>"u"?null:document;function em(ze,Ge,er){var ir=jh;if(ir&&typeof Ge=="string"&&Ge){var mr=Os(Ge);mr='link[rel="'+ze+'"][href="'+mr+'"]',typeof er=="string"&&(mr+='[crossorigin="'+er+'"]'),Zp.has(mr)||(Zp.add(mr),ze={rel:ze,crossOrigin:er,href:Ge},ir.querySelector(mr)===null&&(Ge=ir.createElement("link"),dl(Ge,"link",ze),Nn(Ge),ir.head.appendChild(Ge)))}}function Um(ze){Gd.D(ze),em("dns-prefetch",ze,null)}function $m(ze,Ge){Gd.C(ze,Ge),em("preconnect",ze,Ge)}function Vm(ze,Ge,er){Gd.L(ze,Ge,er);var ir=jh;if(ir&&ze&&Ge){var mr='link[rel="preload"][as="'+Os(Ge)+'"]';Ge==="image"&&er&&er.imageSrcSet?(mr+='[imagesrcset="'+Os(er.imageSrcSet)+'"]',typeof er.imageSizes=="string"&&(mr+='[imagesizes="'+Os(er.imageSizes)+'"]')):mr+='[href="'+Os(ze)+'"]';var Sr=mr;switch(Ge){case"style":Sr=Bh(ze);break;case"script":Sr=Nh(ze)}uu.has(Sr)||(ze=$e({rel:"preload",href:Ge==="image"&&er&&er.imageSrcSet?void 0:ze,as:Ge},er),uu.set(Sr,ze),ir.querySelector(mr)!==null||Ge==="style"&&ir.querySelector(dA(Sr))||Ge==="script"&&ir.querySelector(fA(Sr))||(Ge=ir.createElement("link"),dl(Ge,"link",ze),Nn(Ge),ir.head.appendChild(Ge)))}}function Hm(ze,Ge){Gd.m(ze,Ge);var er=jh;if(er&&ze){var ir=Ge&&typeof Ge.as=="string"?Ge.as:"script",mr='link[rel="modulepreload"][as="'+Os(ir)+'"][href="'+Os(ze)+'"]',Sr=mr;switch(ir){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Sr=Nh(ze)}if(!uu.has(Sr)&&(ze=$e({rel:"modulepreload",href:ze},Ge),uu.set(Sr,ze),er.querySelector(mr)===null)){switch(ir){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(er.querySelector(fA(Sr)))return}ir=er.createElement("link"),dl(ir,"link",ze),Nn(ir),er.head.appendChild(ir)}}}function Qm(ze,Ge,er){Gd.S(ze,Ge,er);var ir=jh;if(ir&&ze){var mr=qn(ir).hoistableStyles,Sr=Bh(ze);Ge=Ge||"default";var Vr=mr.get(Sr);if(!Vr){var rn={loading:0,preload:null};if(Vr=ir.querySelector(dA(Sr)))rn.loading=5;else{ze=$e({rel:"stylesheet",href:ze,"data-precedence":Ge},er),(er=uu.get(Sr))&&wp(ze,er);var yn=Vr=ir.createElement("link");Nn(yn),dl(yn,"link",ze),yn._p=new Promise(function(Gn,di){yn.onload=Gn,yn.onerror=di}),yn.addEventListener("load",function(){rn.loading|=1}),yn.addEventListener("error",function(){rn.loading|=2}),rn.loading|=4,QA(Vr,Ge,ir)}Vr={type:"stylesheet",instance:Vr,count:1,state:rn},mr.set(Sr,Vr)}}}function zm(ze,Ge){Gd.X(ze,Ge);var er=jh;if(er&&ze){var ir=qn(er).hoistableScripts,mr=Nh(ze),Sr=ir.get(mr);Sr||(Sr=er.querySelector(fA(mr)),Sr||(ze=$e({src:ze,async:!0},Ge),(Ge=uu.get(mr))&&Sp(ze,Ge),Sr=er.createElement("script"),Nn(Sr),dl(Sr,"link",ze),er.head.appendChild(Sr)),Sr={type:"script",instance:Sr,count:1,state:null},ir.set(mr,Sr))}}function Wm(ze,Ge){Gd.M(ze,Ge);var er=jh;if(er&&ze){var ir=qn(er).hoistableScripts,mr=Nh(ze),Sr=ir.get(mr);Sr||(Sr=er.querySelector(fA(mr)),Sr||(ze=$e({src:ze,async:!0,type:"module"},Ge),(Ge=uu.get(mr))&&Sp(ze,Ge),Sr=er.createElement("script"),Nn(Sr),dl(Sr,"link",ze),er.head.appendChild(Sr)),Sr={type:"script",instance:Sr,count:1,state:null},ir.set(mr,Sr))}}function tm(ze,Ge,er,ir){var mr=(mr=Nr.current)?HA(mr):null;if(!mr)throw Error(Be(446));switch(ze){case"meta":case"title":return null;case"style":return typeof er.precedence=="string"&&typeof er.href=="string"?(Ge=Bh(er.href),er=qn(mr).hoistableStyles,ir=er.get(Ge),ir||(ir={type:"style",instance:null,count:0,state:null},er.set(Ge,ir)),ir):{type:"void",instance:null,count:0,state:null};case"link":if(er.rel==="stylesheet"&&typeof er.href=="string"&&typeof er.precedence=="string"){ze=Bh(er.href);var Sr=qn(mr).hoistableStyles,Vr=Sr.get(ze);if(Vr||(mr=mr.ownerDocument||mr,Vr={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Sr.set(ze,Vr),(Sr=mr.querySelector(dA(ze)))&&!Sr._p&&(Vr.instance=Sr,Vr.state.loading=5),uu.has(ze)||(er={rel:"preload",as:"style",href:er.href,crossOrigin:er.crossOrigin,integrity:er.integrity,media:er.media,hrefLang:er.hrefLang,referrerPolicy:er.referrerPolicy},uu.set(ze,er),Sr||Km(mr,ze,er,Vr.state))),Ge&&ir===null)throw Error(Be(528,""));return Vr}if(Ge&&ir!==null)throw Error(Be(529,""));return null;case"script":return Ge=er.async,er=er.src,typeof er=="string"&&Ge&&typeof Ge!="function"&&typeof Ge!="symbol"?(Ge=Nh(er),er=qn(mr).hoistableScripts,ir=er.get(Ge),ir||(ir={type:"script",instance:null,count:0,state:null},er.set(Ge,ir)),ir):{type:"void",instance:null,count:0,state:null};default:throw Error(Be(444,ze))}}function Bh(ze){return'href="'+Os(ze)+'"'}function dA(ze){return'link[rel="stylesheet"]['+ze+"]"}function rm(ze){return $e({},ze,{"data-precedence":ze.precedence,precedence:null})}function Km(ze,Ge,er,ir){ze.querySelector('link[rel="preload"][as="style"]['+Ge+"]")?ir.loading=1:(Ge=ze.createElement("link"),ir.preload=Ge,Ge.addEventListener("load",function(){return ir.loading|=1}),Ge.addEventListener("error",function(){return ir.loading|=2}),dl(Ge,"link",er),Nn(Ge),ze.head.appendChild(Ge))}function Nh(ze){return'[src="'+Os(ze)+'"]'}function fA(ze){return"script[async]"+ze}function nm(ze,Ge,er){if(Ge.count++,Ge.instance===null)switch(Ge.type){case"style":var ir=ze.querySelector('style[data-href~="'+Os(er.href)+'"]');if(ir)return Ge.instance=ir,Nn(ir),ir;var mr=$e({},er,{"data-href":er.href,"data-precedence":er.precedence,href:null,precedence:null});return ir=(ze.ownerDocument||ze).createElement("style"),Nn(ir),dl(ir,"style",mr),QA(ir,er.precedence,ze),Ge.instance=ir;case"stylesheet":mr=Bh(er.href);var Sr=ze.querySelector(dA(mr));if(Sr)return Ge.state.loading|=4,Ge.instance=Sr,Nn(Sr),Sr;ir=rm(er),(mr=uu.get(mr))&&wp(ir,mr),Sr=(ze.ownerDocument||ze).createElement("link"),Nn(Sr);var Vr=Sr;return Vr._p=new Promise(function(rn,yn){Vr.onload=rn,Vr.onerror=yn}),dl(Sr,"link",ir),Ge.state.loading|=4,QA(Sr,er.precedence,ze),Ge.instance=Sr;case"script":return Sr=Nh(er.src),(mr=ze.querySelector(fA(Sr)))?(Ge.instance=mr,Nn(mr),mr):(ir=er,(mr=uu.get(Sr))&&(ir=$e({},er),Sp(ir,mr)),ze=ze.ownerDocument||ze,mr=ze.createElement("script"),Nn(mr),dl(mr,"link",ir),ze.head.appendChild(mr),Ge.instance=mr);case"void":return null;default:throw Error(Be(443,Ge.type))}else Ge.type==="stylesheet"&&(Ge.state.loading&4)===0&&(ir=Ge.instance,Ge.state.loading|=4,QA(ir,er.precedence,ze));return Ge.instance}function QA(ze,Ge,er){for(var ir=er.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),mr=ir.length?ir[ir.length-1]:null,Sr=mr,Vr=0;Vr<ir.length;Vr++){var rn=ir[Vr];if(rn.dataset.precedence===Ge)Sr=rn;else if(Sr!==mr)break}Sr?Sr.parentNode.insertBefore(ze,Sr.nextSibling):(Ge=er.nodeType===9?er.head:er,Ge.insertBefore(ze,Ge.firstChild))}function wp(ze,Ge){ze.crossOrigin==null&&(ze.crossOrigin=Ge.crossOrigin),ze.referrerPolicy==null&&(ze.referrerPolicy=Ge.referrerPolicy),ze.title==null&&(ze.title=Ge.title)}function Sp(ze,Ge){ze.crossOrigin==null&&(ze.crossOrigin=Ge.crossOrigin),ze.referrerPolicy==null&&(ze.referrerPolicy=Ge.referrerPolicy),ze.integrity==null&&(ze.integrity=Ge.integrity)}var zA=null;function im(ze,Ge,er){if(zA===null){var ir=new Map,mr=zA=new Map;mr.set(er,ir)}else mr=zA,ir=mr.get(er),ir||(ir=new Map,mr.set(er,ir));if(ir.has(ze))return ir;for(ir.set(ze,null),er=er.getElementsByTagName(ze),mr=0;mr<er.length;mr++){var Sr=er[mr];if(!(Sr[sn]||Sr[Qs]||ze==="link"&&Sr.getAttribute("rel")==="stylesheet")&&Sr.namespaceURI!=="http://www.w3.org/2000/svg"){var Vr=Sr.getAttribute(Ge)||"";Vr=ze+Vr;var rn=ir.get(Vr);rn?rn.push(Sr):ir.set(Vr,[Sr])}}return ir}function sm(ze,Ge,er){ze=ze.ownerDocument||ze,ze.head.insertBefore(er,Ge==="title"?ze.querySelector("head > title"):null)}function Gm(ze,Ge,er){if(er===1||Ge.itemProp!=null)return!1;switch(ze){case"meta":case"title":return!0;case"style":if(typeof Ge.precedence!="string"||typeof Ge.href!="string"||Ge.href==="")break;return!0;case"link":if(typeof Ge.rel!="string"||typeof Ge.href!="string"||Ge.href===""||Ge.onLoad||Ge.onError)break;switch(Ge.rel){case"stylesheet":return ze=Ge.disabled,typeof Ge.precedence=="string"&&ze==null;default:return!0}case"script":if(Ge.async&&typeof Ge.async!="function"&&typeof Ge.async!="symbol"&&!Ge.onLoad&&!Ge.onError&&Ge.src&&typeof Ge.src=="string")return!0}return!1}function am(ze){return!(ze.type==="stylesheet"&&(ze.state.loading&3)===0)}var hA=null;function qm(){}function Ym(ze,Ge,er){if(hA===null)throw Error(Be(475));var ir=hA;if(Ge.type==="stylesheet"&&(typeof er.media!="string"||matchMedia(er.media).matches!==!1)&&(Ge.state.loading&4)===0){if(Ge.instance===null){var mr=Bh(er.href),Sr=ze.querySelector(dA(mr));if(Sr){ze=Sr._p,ze!==null&&typeof ze=="object"&&typeof ze.then=="function"&&(ir.count++,ir=WA.bind(ir),ze.then(ir,ir)),Ge.state.loading|=4,Ge.instance=Sr,Nn(Sr);return}Sr=ze.ownerDocument||ze,er=rm(er),(mr=uu.get(mr))&&wp(er,mr),Sr=Sr.createElement("link"),Nn(Sr);var Vr=Sr;Vr._p=new Promise(function(rn,yn){Vr.onload=rn,Vr.onerror=yn}),dl(Sr,"link",er),Ge.instance=Sr}ir.stylesheets===null&&(ir.stylesheets=new Map),ir.stylesheets.set(Ge,ze),(ze=Ge.state.preload)&&(Ge.state.loading&3)===0&&(ir.count++,Ge=WA.bind(ir),ze.addEventListener("load",Ge),ze.addEventListener("error",Ge))}}function Xm(){if(hA===null)throw Error(Be(475));var ze=hA;return ze.stylesheets&&ze.count===0&&Cp(ze,ze.stylesheets),0<ze.count?function(Ge){var er=setTimeout(function(){if(ze.stylesheets&&Cp(ze,ze.stylesheets),ze.unsuspend){var ir=ze.unsuspend;ze.unsuspend=null,ir()}},6e4);return ze.unsuspend=Ge,function(){ze.unsuspend=null,clearTimeout(er)}}:null}function WA(){if(this.count--,this.count===0){if(this.stylesheets)Cp(this,this.stylesheets);else if(this.unsuspend){var ze=this.unsuspend;this.unsuspend=null,ze()}}}var KA=null;function Cp(ze,Ge){ze.stylesheets=null,ze.unsuspend!==null&&(ze.count++,KA=new Map,Ge.forEach(Jm,ze),KA=null,WA.call(ze))}function Jm(ze,Ge){if(!(Ge.state.loading&4)){var er=KA.get(ze);if(er)var ir=er.get(null);else{er=new Map,KA.set(ze,er);for(var mr=ze.querySelectorAll("link[data-precedence],style[data-precedence]"),Sr=0;Sr<mr.length;Sr++){var Vr=mr[Sr];(Vr.nodeName==="LINK"||Vr.getAttribute("media")!=="not all")&&(er.set(Vr.dataset.precedence,Vr),ir=Vr)}ir&&er.set(null,ir)}mr=Ge.instance,Vr=mr.getAttribute("data-precedence"),Sr=er.get(Vr)||ir,Sr===ir&&er.set(null,mr),er.set(Vr,mr),this.count++,ir=WA.bind(this),mr.addEventListener("load",ir),mr.addEventListener("error",ir),Sr?Sr.parentNode.insertBefore(mr,Sr.nextSibling):(ze=ze.nodeType===9?ze.head:ze,ze.insertBefore(mr,ze.firstChild)),Ge.state.loading|=4}}var AA={$$typeof:Je,Provider:null,Consumer:null,_currentValue:br,_currentValue2:br,_threadCount:0};function Zm(ze,Ge,er,ir,mr,Sr,Vr,rn){this.tag=1,this.containerInfo=ze,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=ir,this.onUncaughtError=mr,this.onCaughtError=Sr,this.onRecoverableError=Vr,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=rn,this.incompleteTransitions=new Map}function om(ze,Ge,er,ir,mr,Sr,Vr,rn,yn,Gn,di,vi){return ze=new Zm(ze,Ge,er,Vr,rn,yn,Gn,vi),Ge=1,Sr===!0&&(Ge|=24),Sr=Bo(3,null,null,Ge),ze.current=Sr,Sr.stateNode=ze,Ge=Tf(),Ge.refCount++,ze.pooledCache=Ge,Ge.refCount++,Sr.memoizedState={element:ir,isDehydrated:er,cache:Ge},Sn(Sr),ze}function lm(ze){return ze?(ze=po,ze):po}function cm(ze,Ge,er,ir,mr,Sr){mr=lm(mr),ir.context===null?ir.context=mr:ir.pendingContext=mr,ir=li(Ge),ir.payload={element:er},Sr=Sr===void 0?null:Sr,Sr!==null&&(ir.callback=Sr),er=Ai(ze,ir,Ge),er!==null&&(ki(er,ze,Ge),ui(er,ze,Ge))}function um(ze,Ge){if(ze=ze.memoizedState,ze!==null&&ze.dehydrated!==null){var er=ze.retryLane;ze.retryLane=er!==0&&er<Ge?er:Ge}}function Tp(ze,Ge){um(ze,Ge),(ze=ze.alternate)&&um(ze,Ge)}function dm(ze){if(ze.tag===13){var Ge=Tc(ze,67108864);Ge!==null&&ki(Ge,ze,67108864),Tp(ze,67108864)}}var GA=!0;function eg(ze,Ge,er,ir){var mr=xr.T;xr.T=null;var Sr=Pr.p;try{Pr.p=2,Rp(ze,Ge,er,ir)}finally{Pr.p=Sr,xr.T=mr}}function tg(ze,Ge,er,ir){var mr=xr.T;xr.T=null;var Sr=Pr.p;try{Pr.p=8,Rp(ze,Ge,er,ir)}finally{Pr.p=Sr,xr.T=mr}}function Rp(ze,Ge,er,ir){if(GA){var mr=Pp(ir);if(mr===null)pp(ze,Ge,ir,qA,er),hm(ze,ir);else if(ng(mr,ze,Ge,er,ir))ir.stopPropagation();else if(hm(ze,ir),Ge&4&&-1<rg.indexOf(ze)){for(;mr!==null;){var Sr=pn(mr);if(Sr!==null)switch(Sr.tag){case 3:if(Sr=Sr.stateNode,Sr.current.memoizedState.isDehydrated){var Vr=ti(Sr.pendingLanes);if(Vr!==0){var rn=Sr;for(rn.pendingLanes|=2,rn.entangledLanes|=2;Vr;){var yn=1<<31-Si(Vr);rn.entanglements[1]|=yn,Vr&=~yn}_d(Sr),(aa&6)===0&&(cr=kn()+500,oA(0))}}break;case 13:rn=Tc(Sr,2),rn!==null&&ki(rn,Sr,2),xs(),Tp(Sr,2)}if(Sr=Pp(ir),Sr===null&&pp(ze,Ge,ir,qA,er),Sr===mr)break;mr=Sr}mr!==null&&ir.stopPropagation()}else pp(ze,Ge,ir,null,er)}}function Pp(ze){return ze=na(ze),Ip(ze)}var qA=null;function Ip(ze){if(qA=null,ze=hn(ze),ze!==null){var Ge=Fe(ze);if(Ge===null)ze=null;else{var er=Ge.tag;if(er===13){if(ze=Oe(Ge),ze!==null)return ze;ze=null}else if(er===3){if(Ge.stateNode.current.memoizedState.isDehydrated)return Ge.tag===3?Ge.stateNode.containerInfo:null;ze=null}else Ge!==ze&&(ze=null)}}return qA=ze,null}function fm(ze){switch(ze){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ri()){case zn:return 2;case ei:return 8;case Jn:case Wn:return 32;case _i:return 268435456;default:return 32}default:return 32}}var jp=!1,bf=null,_f=null,Ef=null,pA=new Map,mA=new Map,wf=[],rg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hm(ze,Ge){switch(ze){case"focusin":case"focusout":bf=null;break;case"dragenter":case"dragleave":_f=null;break;case"mouseover":case"mouseout":Ef=null;break;case"pointerover":case"pointerout":pA.delete(Ge.pointerId);break;case"gotpointercapture":case"lostpointercapture":mA.delete(Ge.pointerId)}}function gA(ze,Ge,er,ir,mr,Sr){return ze===null||ze.nativeEvent!==Sr?(ze={blockedOn:Ge,domEventName:er,eventSystemFlags:ir,nativeEvent:Sr,targetContainers:[mr]},Ge!==null&&(Ge=pn(Ge),Ge!==null&&dm(Ge)),ze):(ze.eventSystemFlags|=ir,Ge=ze.targetContainers,mr!==null&&Ge.indexOf(mr)===-1&&Ge.push(mr),ze)}function ng(ze,Ge,er,ir,mr){switch(Ge){case"focusin":return bf=gA(bf,ze,Ge,er,ir,mr),!0;case"dragenter":return _f=gA(_f,ze,Ge,er,ir,mr),!0;case"mouseover":return Ef=gA(Ef,ze,Ge,er,ir,mr),!0;case"pointerover":var Sr=mr.pointerId;return pA.set(Sr,gA(pA.get(Sr)||null,ze,Ge,er,ir,mr)),!0;case"gotpointercapture":return Sr=mr.pointerId,mA.set(Sr,gA(mA.get(Sr)||null,ze,Ge,er,ir,mr)),!0}return!1}function Am(ze){var Ge=hn(ze.target);if(Ge!==null){var er=Fe(Ge);if(er!==null){if(Ge=er.tag,Ge===13){if(Ge=Oe(er),Ge!==null){ze.blockedOn=Ge,Wa(ze.priority,function(){if(er.tag===13){var ir=Hi();ir=Zi(ir);var mr=Tc(er,ir);mr!==null&&ki(mr,er,ir),Tp(er,ir)}});return}}else if(Ge===3&&er.stateNode.current.memoizedState.isDehydrated){ze.blockedOn=er.tag===3?er.stateNode.containerInfo:null;return}}}ze.blockedOn=null}function YA(ze){if(ze.blockedOn!==null)return!1;for(var Ge=ze.targetContainers;0<Ge.length;){var er=Pp(ze.nativeEvent);if(er===null){er=ze.nativeEvent;var ir=new er.constructor(er.type,er);fo=ir,er.target.dispatchEvent(ir),fo=null}else return Ge=pn(er),Ge!==null&&dm(Ge),ze.blockedOn=er,!1;Ge.shift()}return!0}function pm(ze,Ge,er){YA(ze)&&er.delete(Ge)}function ig(){jp=!1,bf!==null&&YA(bf)&&(bf=null),_f!==null&&YA(_f)&&(_f=null),Ef!==null&&YA(Ef)&&(Ef=null),pA.forEach(pm),mA.forEach(pm)}function XA(ze,Ge){ze.blockedOn===Ge&&(ze.blockedOn=null,jp||(jp=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,ig)))}var JA=null;function mm(ze){JA!==ze&&(JA=ze,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,function(){JA===ze&&(JA=null);for(var Ge=0;Ge<ze.length;Ge+=3){var er=ze[Ge],ir=ze[Ge+1],mr=ze[Ge+2];if(typeof ir!="function"){if(Ip(ir||er)===null)continue;break}var Sr=pn(er);Sr!==null&&(ze.splice(Ge,3),Ge-=3,fc(Sr,{pending:!0,data:mr,method:er.method,action:ir},ir,mr))}}))}function xA(ze){function Ge(yn){return XA(yn,ze)}bf!==null&&XA(bf,ze),_f!==null&&XA(_f,ze),Ef!==null&&XA(Ef,ze),pA.forEach(Ge),mA.forEach(Ge);for(var er=0;er<wf.length;er++){var ir=wf[er];ir.blockedOn===ze&&(ir.blockedOn=null)}for(;0<wf.length&&(er=wf[0],er.blockedOn===null);)Am(er),er.blockedOn===null&&wf.shift();if(er=(ze.ownerDocument||ze).$$reactFormReplay,er!=null)for(ir=0;ir<er.length;ir+=3){var mr=er[ir],Sr=er[ir+1],Vr=mr[Fs]||null;if(typeof Sr=="function")Vr||mm(er);else if(Vr){var rn=null;if(Sr&&Sr.hasAttribute("formAction")){if(mr=Sr,Vr=Sr[Fs]||null)rn=Vr.formAction;else if(Ip(mr)!==null)continue}else rn=Vr.action;typeof rn=="function"?er[ir+1]=rn:(er.splice(ir,3),ir-=3),mm(er)}}}function Bp(ze){this._internalRoot=ze}ZA.prototype.render=Bp.prototype.render=function(ze){var Ge=this._internalRoot;if(Ge===null)throw Error(Be(409));var er=Ge.current,ir=Hi();cm(er,ir,ze,Ge,null,null)},ZA.prototype.unmount=Bp.prototype.unmount=function(){var ze=this._internalRoot;if(ze!==null){this._internalRoot=null;var Ge=ze.containerInfo;cm(ze.current,2,null,ze,null,null),xs(),Ge[Xs]=null}};function ZA(ze){this._internalRoot=ze}ZA.prototype.unstable_scheduleHydration=function(ze){if(ze){var Ge=oa();ze={blockedOn:null,target:ze,priority:Ge};for(var er=0;er<wf.length&&Ge!==0&&Ge<wf[er].priority;er++);wf.splice(er,0,ze),er===0&&Am(ze)}};var gm=Re.version;if(gm!=="19.1.1")throw Error(Be(527,gm,"19.1.1"));Pr.findDOMNode=function(ze){var Ge=ze._reactInternals;if(Ge===void 0)throw typeof ze.render=="function"?Error(Be(188)):(ze=Object.keys(ze).join(","),Error(Be(268,ze)));return ze=Me(Ge),ze=ze!==null?Ue(ze):null,ze=ze===null?null:ze.stateNode,ze};var sg={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:xr,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ep.isDisabled&&ep.supportsFiber)try{xi=ep.inject(sg),Pi=ep}catch{}}return reactDomClient_production.createRoot=function(ze,Ge){if(!De(ze))throw Error(Be(299));var er=!1,ir="",mr=Vh,Sr=Hh,Vr=gh,rn=null;return Ge!=null&&(Ge.unstable_strictMode===!0&&(er=!0),Ge.identifierPrefix!==void 0&&(ir=Ge.identifierPrefix),Ge.onUncaughtError!==void 0&&(mr=Ge.onUncaughtError),Ge.onCaughtError!==void 0&&(Sr=Ge.onCaughtError),Ge.onRecoverableError!==void 0&&(Vr=Ge.onRecoverableError),Ge.unstable_transitionCallbacks!==void 0&&(rn=Ge.unstable_transitionCallbacks)),Ge=om(ze,1,!1,null,null,er,ir,mr,Sr,Vr,rn,null),ze[Xs]=Ge.current,Ap(ze),new Bp(Ge)},reactDomClient_production.hydrateRoot=function(ze,Ge,er){if(!De(ze))throw Error(Be(299));var ir=!1,mr="",Sr=Vh,Vr=Hh,rn=gh,yn=null,Gn=null;return er!=null&&(er.unstable_strictMode===!0&&(ir=!0),er.identifierPrefix!==void 0&&(mr=er.identifierPrefix),er.onUncaughtError!==void 0&&(Sr=er.onUncaughtError),er.onCaughtError!==void 0&&(Vr=er.onCaughtError),er.onRecoverableError!==void 0&&(rn=er.onRecoverableError),er.unstable_transitionCallbacks!==void 0&&(yn=er.unstable_transitionCallbacks),er.formState!==void 0&&(Gn=er.formState)),Ge=om(ze,1,!0,Ge,er??null,ir,mr,Sr,Vr,rn,yn,Gn),Ge.context=lm(null),er=Ge.current,ir=Hi(),ir=Zi(ir),mr=li(ir),mr.callback=null,Ai(er,mr,ir),er=ir,Ge.current.lanes=er,Di(Ge,er),_d(Ge),ze[Xs]=Ge.current,Ap(ze),new ZA(Ge)},reactDomClient_production.version="19.1.1",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function Ce(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ce)}catch(Re){console.error(Re)}}return Ce(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM$1=getDefaultExportFromCjs(clientExports);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(Ce={}){function Re(Be,De){let{pathname:Fe,search:Oe,hash:ke}=Be.location;return createLocation("",{pathname:Fe,search:Oe,hash:ke},De.state&&De.state.usr||null,De.state&&De.state.key||"default")}function je(Be,De){return typeof De=="string"?De:createPath(De)}return getUrlBasedHistory(Re,je,null,Ce)}function invariant$2(Ce,Re){if(Ce===!1||Ce===null||typeof Ce>"u")throw new Error(Re)}function warning(Ce,Re){if(!Ce){typeof console<"u"&&console.warn(Re);try{throw new Error(Re)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(Ce,Re){return{usr:Ce.state,key:Ce.key,idx:Re}}function createLocation(Ce,Re,je=null,Be){return{pathname:typeof Ce=="string"?Ce:Ce.pathname,search:"",hash:"",...typeof Re=="string"?parsePath(Re):Re,state:je,key:Re&&Re.key||Be||createKey()}}function createPath({pathname:Ce="/",search:Re="",hash:je=""}){return Re&&Re!=="?"&&(Ce+=Re.charAt(0)==="?"?Re:"?"+Re),je&&je!=="#"&&(Ce+=je.charAt(0)==="#"?je:"#"+je),Ce}function parsePath(Ce){let Re={};if(Ce){let je=Ce.indexOf("#");je>=0&&(Re.hash=Ce.substring(je),Ce=Ce.substring(0,je));let Be=Ce.indexOf("?");Be>=0&&(Re.search=Ce.substring(Be),Ce=Ce.substring(0,Be)),Ce&&(Re.pathname=Ce)}return Re}function getUrlBasedHistory(Ce,Re,je,Be={}){let{window:De=document.defaultView,v5Compat:Fe=!1}=Be,Oe=De.history,ke="POP",Me=null,Ue=$e();Ue==null&&(Ue=0,Oe.replaceState({...Oe.state,idx:Ue},""));function $e(){return(Oe.state||{idx:null}).idx}function He(){ke="POP";let Xe=$e(),Ye=Xe==null?null:Xe-Ue;Ue=Xe,Me&&Me({action:ke,location:Ke.location,delta:Ye})}function Qe(Xe,Ye){ke="PUSH";let Ze=createLocation(Ke.location,Xe,Ye);Ue=$e()+1;let Je=getHistoryState(Ze,Ue),tr=Ke.createHref(Ze);try{Oe.pushState(Je,"",tr)}catch(rr){if(rr instanceof DOMException&&rr.name==="DataCloneError")throw rr;De.location.assign(tr)}Fe&&Me&&Me({action:ke,location:Ke.location,delta:1})}function We(Xe,Ye){ke="REPLACE";let Ze=createLocation(Ke.location,Xe,Ye);Ue=$e();let Je=getHistoryState(Ze,Ue),tr=Ke.createHref(Ze);Oe.replaceState(Je,"",tr),Fe&&Me&&Me({action:ke,location:Ke.location,delta:0})}function qe(Xe){return createBrowserURLImpl(Xe)}let Ke={get action(){return ke},get location(){return Ce(De,Oe)},listen(Xe){if(Me)throw new Error("A history only accepts one active listener");return De.addEventListener(PopStateEventType,He),Me=Xe,()=>{De.removeEventListener(PopStateEventType,He),Me=null}},createHref(Xe){return Re(De,Xe)},createURL:qe,encodeLocation(Xe){let Ye=qe(Xe);return{pathname:Ye.pathname,search:Ye.search,hash:Ye.hash}},push:Qe,replace:We,go(Xe){return Oe.go(Xe)}};return Ke}function createBrowserURLImpl(Ce,Re=!1){let je="http://localhost";typeof window<"u"&&(je=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$2(je,"No window.location.(origin|href) available to create URL");let Be=typeof Ce=="string"?Ce:createPath(Ce);return Be=Be.replace(/ $/,"%20"),!Re&&Be.startsWith("//")&&(Be=je+Be),new URL(Be,je)}function matchRoutes(Ce,Re,je="/"){return matchRoutesImpl(Ce,Re,je,!1)}function matchRoutesImpl(Ce,Re,je,Be){let De=typeof Re=="string"?parsePath(Re):Re,Fe=stripBasename(De.pathname||"/",je);if(Fe==null)return null;let Oe=flattenRoutes(Ce);rankRouteBranches(Oe);let ke=null;for(let Me=0;ke==null&&Me<Oe.length;++Me){let Ue=decodePath(Fe);ke=matchRouteBranch(Oe[Me],Ue,Be)}return ke}function flattenRoutes(Ce,Re=[],je=[],Be=""){let De=(Fe,Oe,ke)=>{let Me={relativePath:ke===void 0?Fe.path||"":ke,caseSensitive:Fe.caseSensitive===!0,childrenIndex:Oe,route:Fe};Me.relativePath.startsWith("/")&&(invariant$2(Me.relativePath.startsWith(Be),`Absolute route path "${Me.relativePath}" nested under path "${Be}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Me.relativePath=Me.relativePath.slice(Be.length));let Ue=joinPaths([Be,Me.relativePath]),$e=je.concat(Me);Fe.children&&Fe.children.length>0&&(invariant$2(Fe.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${Ue}".`),flattenRoutes(Fe.children,Re,$e,Ue)),!(Fe.path==null&&!Fe.index)&&Re.push({path:Ue,score:computeScore(Ue,Fe.index),routesMeta:$e})};return Ce.forEach((Fe,Oe)=>{if(Fe.path===""||!Fe.path?.includes("?"))De(Fe,Oe);else for(let ke of explodeOptionalSegments(Fe.path))De(Fe,Oe,ke)}),Re}function explodeOptionalSegments(Ce){let Re=Ce.split("/");if(Re.length===0)return[];let[je,...Be]=Re,De=je.endsWith("?"),Fe=je.replace(/\?$/,"");if(Be.length===0)return De?[Fe,""]:[Fe];let Oe=explodeOptionalSegments(Be.join("/")),ke=[];return ke.push(...Oe.map(Me=>Me===""?Fe:[Fe,Me].join("/"))),De&&ke.push(...Oe),ke.map(Me=>Ce.startsWith("/")&&Me===""?"/":Me)}function rankRouteBranches(Ce){Ce.sort((Re,je)=>Re.score!==je.score?je.score-Re.score:compareIndexes(Re.routesMeta.map(Be=>Be.childrenIndex),je.routesMeta.map(Be=>Be.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=Ce=>Ce==="*";function computeScore(Ce,Re){let je=Ce.split("/"),Be=je.length;return je.some(isSplat)&&(Be+=splatPenalty),Re&&(Be+=indexRouteValue),je.filter(De=>!isSplat(De)).reduce((De,Fe)=>De+(paramRe.test(Fe)?dynamicSegmentValue:Fe===""?emptySegmentValue:staticSegmentValue),Be)}function compareIndexes(Ce,Re){return Ce.length===Re.length&&Ce.slice(0,-1).every((Be,De)=>Be===Re[De])?Ce[Ce.length-1]-Re[Re.length-1]:0}function matchRouteBranch(Ce,Re,je=!1){let{routesMeta:Be}=Ce,De={},Fe="/",Oe=[];for(let ke=0;ke<Be.length;++ke){let Me=Be[ke],Ue=ke===Be.length-1,$e=Fe==="/"?Re:Re.slice(Fe.length)||"/",He=matchPath({path:Me.relativePath,caseSensitive:Me.caseSensitive,end:Ue},$e),Qe=Me.route;if(!He&&Ue&&je&&!Be[Be.length-1].route.index&&(He=matchPath({path:Me.relativePath,caseSensitive:Me.caseSensitive,end:!1},$e)),!He)return null;Object.assign(De,He.params),Oe.push({params:De,pathname:joinPaths([Fe,He.pathname]),pathnameBase:normalizePathname(joinPaths([Fe,He.pathnameBase])),route:Qe}),He.pathnameBase!=="/"&&(Fe=joinPaths([Fe,He.pathnameBase]))}return Oe}function matchPath(Ce,Re){typeof Ce=="string"&&(Ce={path:Ce,caseSensitive:!1,end:!0});let[je,Be]=compilePath(Ce.path,Ce.caseSensitive,Ce.end),De=Re.match(je);if(!De)return null;let Fe=De[0],Oe=Fe.replace(/(.)\/+$/,"$1"),ke=De.slice(1);return{params:Be.reduce((Ue,{paramName:$e,isOptional:He},Qe)=>{if($e==="*"){let qe=ke[Qe]||"";Oe=Fe.slice(0,Fe.length-qe.length).replace(/(.)\/+$/,"$1")}const We=ke[Qe];return He&&!We?Ue[$e]=void 0:Ue[$e]=(We||"").replace(/%2F/g,"/"),Ue},{}),pathname:Fe,pathnameBase:Oe,pattern:Ce}}function compilePath(Ce,Re=!1,je=!0){warning(Ce==="*"||!Ce.endsWith("*")||Ce.endsWith("/*"),`Route path "${Ce}" will be treated as if it were "${Ce.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${Ce.replace(/\*$/,"/*")}".`);let Be=[],De="^"+Ce.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Oe,ke,Me)=>(Be.push({paramName:ke,isOptional:Me!=null}),Me?"/?([^\\/]+)?":"/([^\\/]+)"));return Ce.endsWith("*")?(Be.push({paramName:"*"}),De+=Ce==="*"||Ce==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):je?De+="\\/*$":Ce!==""&&Ce!=="/"&&(De+="(?:(?=\\/|$))"),[new RegExp(De,Re?void 0:"i"),Be]}function decodePath(Ce){try{return Ce.split("/").map(Re=>decodeURIComponent(Re).replace(/\//g,"%2F")).join("/")}catch(Re){return warning(!1,`The URL path "${Ce}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${Re}).`),Ce}}function stripBasename(Ce,Re){if(Re==="/")return Ce;if(!Ce.toLowerCase().startsWith(Re.toLowerCase()))return null;let je=Re.endsWith("/")?Re.length-1:Re.length,Be=Ce.charAt(je);return Be&&Be!=="/"?null:Ce.slice(je)||"/"}function resolvePath(Ce,Re="/"){let{pathname:je,search:Be="",hash:De=""}=typeof Ce=="string"?parsePath(Ce):Ce;return{pathname:je?je.startsWith("/")?je:resolvePathname(je,Re):Re,search:normalizeSearch(Be),hash:normalizeHash(De)}}function resolvePathname(Ce,Re){let je=Re.replace(/\/+$/,"").split("/");return Ce.split("/").forEach(De=>{De===".."?je.length>1&&je.pop():De!=="."&&je.push(De)}),je.length>1?je.join("/"):"/"}function getInvalidPathError(Ce,Re,je,Be){return`Cannot include a '${Ce}' character in a manually specified \`to.${Re}\` field [${JSON.stringify(Be)}].  Please separate it out to the \`to.${je}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(Ce){return Ce.filter((Re,je)=>je===0||Re.route.path&&Re.route.path.length>0)}function getResolveToMatches(Ce){let Re=getPathContributingMatches(Ce);return Re.map((je,Be)=>Be===Re.length-1?je.pathname:je.pathnameBase)}function resolveTo(Ce,Re,je,Be=!1){let De;typeof Ce=="string"?De=parsePath(Ce):(De={...Ce},invariant$2(!De.pathname||!De.pathname.includes("?"),getInvalidPathError("?","pathname","search",De)),invariant$2(!De.pathname||!De.pathname.includes("#"),getInvalidPathError("#","pathname","hash",De)),invariant$2(!De.search||!De.search.includes("#"),getInvalidPathError("#","search","hash",De)));let Fe=Ce===""||De.pathname==="",Oe=Fe?"/":De.pathname,ke;if(Oe==null)ke=je;else{let He=Re.length-1;if(!Be&&Oe.startsWith("..")){let Qe=Oe.split("/");for(;Qe[0]==="..";)Qe.shift(),He-=1;De.pathname=Qe.join("/")}ke=He>=0?Re[He]:"/"}let Me=resolvePath(De,ke),Ue=Oe&&Oe!=="/"&&Oe.endsWith("/"),$e=(Fe||Oe===".")&&je.endsWith("/");return!Me.pathname.endsWith("/")&&(Ue||$e)&&(Me.pathname+="/"),Me}var joinPaths=Ce=>Ce.join("/").replace(/\/\/+/g,"/"),normalizePathname=Ce=>Ce.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=Ce=>!Ce||Ce==="?"?"":Ce.startsWith("?")?Ce:"?"+Ce,normalizeHash=Ce=>!Ce||Ce==="#"?"":Ce.startsWith("#")?Ce:"#"+Ce;function isRouteErrorResponse(Ce){return Ce!=null&&typeof Ce.status=="number"&&typeof Ce.statusText=="string"&&typeof Ce.internal=="boolean"&&"data"in Ce}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(Ce,{relative:Re}={}){invariant$2(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:je,navigator:Be}=reactExports.useContext(NavigationContext),{hash:De,pathname:Fe,search:Oe}=useResolvedPath(Ce,{relative:Re}),ke=Fe;return je!=="/"&&(ke=Fe==="/"?je:joinPaths([je,Fe])),Be.createHref({pathname:ke,search:Oe,hash:De})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$2(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(Ce){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(Ce)}function useNavigate(){let{isDataRoute:Ce}=reactExports.useContext(RouteContext);return Ce?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$2(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let Ce=reactExports.useContext(DataRouterContext),{basename:Re,navigator:je}=reactExports.useContext(NavigationContext),{matches:Be}=reactExports.useContext(RouteContext),{pathname:De}=useLocation(),Fe=JSON.stringify(getResolveToMatches(Be)),Oe=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{Oe.current=!0}),reactExports.useCallback((Me,Ue={})=>{if(warning(Oe.current,navigateEffectWarning),!Oe.current)return;if(typeof Me=="number"){je.go(Me);return}let $e=resolveTo(Me,JSON.parse(Fe),De,Ue.relative==="path");Ce==null&&Re!=="/"&&($e.pathname=$e.pathname==="/"?Re:joinPaths([Re,$e.pathname])),(Ue.replace?je.replace:je.push)($e,Ue.state,Ue)},[Re,je,Fe,De,Ce])}reactExports.createContext(null);function useResolvedPath(Ce,{relative:Re}={}){let{matches:je}=reactExports.useContext(RouteContext),{pathname:Be}=useLocation(),De=JSON.stringify(getResolveToMatches(je));return reactExports.useMemo(()=>resolveTo(Ce,JSON.parse(De),Be,Re==="path"),[Ce,De,Be,Re])}function useRoutes(Ce,Re){return useRoutesImpl(Ce,Re)}function useRoutesImpl(Ce,Re,je,Be){invariant$2(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:De}=reactExports.useContext(NavigationContext),{matches:Fe}=reactExports.useContext(RouteContext),Oe=Fe[Fe.length-1],ke=Oe?Oe.params:{},Me=Oe?Oe.pathname:"/",Ue=Oe?Oe.pathnameBase:"/",$e=Oe&&Oe.route;{let Ye=$e&&$e.path||"";warningOnce(Me,!$e||Ye.endsWith("*")||Ye.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${Me}" (under <Route path="${Ye}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Ye}"> to <Route path="${Ye==="/"?"*":`${Ye}/*`}">.`)}let He=useLocation(),Qe;if(Re){let Ye=typeof Re=="string"?parsePath(Re):Re;invariant$2(Ue==="/"||Ye.pathname?.startsWith(Ue),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${Ue}" but pathname "${Ye.pathname}" was given in the \`location\` prop.`),Qe=Ye}else Qe=He;let We=Qe.pathname||"/",qe=We;if(Ue!=="/"){let Ye=Ue.replace(/^\//,"").split("/");qe="/"+We.replace(/^\//,"").split("/").slice(Ye.length).join("/")}let Ke=matchRoutes(Ce,{pathname:qe});warning($e||Ke!=null,`No routes matched location "${Qe.pathname}${Qe.search}${Qe.hash}" `),warning(Ke==null||Ke[Ke.length-1].route.element!==void 0||Ke[Ke.length-1].route.Component!==void 0||Ke[Ke.length-1].route.lazy!==void 0,`Matched leaf route at location "${Qe.pathname}${Qe.search}${Qe.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Xe=_renderMatches(Ke&&Ke.map(Ye=>Object.assign({},Ye,{params:Object.assign({},ke,Ye.params),pathname:joinPaths([Ue,De.encodeLocation?De.encodeLocation(Ye.pathname).pathname:Ye.pathname]),pathnameBase:Ye.pathnameBase==="/"?Ue:joinPaths([Ue,De.encodeLocation?De.encodeLocation(Ye.pathnameBase).pathname:Ye.pathnameBase])})),Fe,je,Be);return Re&&Xe?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Qe},navigationType:"POP"}},Xe):Xe}function DefaultErrorComponent(){let Ce=useRouteError(),Re=isRouteErrorResponse(Ce)?`${Ce.status} ${Ce.statusText}`:Ce instanceof Error?Ce.message:JSON.stringify(Ce),je=Ce instanceof Error?Ce.stack:null,Be="rgba(200,200,200, 0.5)",De={padding:"0.5rem",backgroundColor:Be},Fe={padding:"2px 4px",backgroundColor:Be},Oe=null;return console.error("Error handled by React Router default ErrorBoundary:",Ce),Oe=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:Fe},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:Fe},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},Re),je?reactExports.createElement("pre",{style:De},je):null,Oe)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(Ce){super(Ce),this.state={location:Ce.location,revalidation:Ce.revalidation,error:Ce.error}}static getDerivedStateFromError(Ce){return{error:Ce}}static getDerivedStateFromProps(Ce,Re){return Re.location!==Ce.location||Re.revalidation!=="idle"&&Ce.revalidation==="idle"?{error:Ce.error,location:Ce.location,revalidation:Ce.revalidation}:{error:Ce.error!==void 0?Ce.error:Re.error,location:Re.location,revalidation:Ce.revalidation||Re.revalidation}}componentDidCatch(Ce,Re){console.error("React Router caught the following error during render",Ce,Re)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:Ce,match:Re,children:je}){let Be=reactExports.useContext(DataRouterContext);return Be&&Be.static&&Be.staticContext&&(Re.route.errorElement||Re.route.ErrorBoundary)&&(Be.staticContext._deepestRenderedBoundaryId=Re.route.id),reactExports.createElement(RouteContext.Provider,{value:Ce},je)}function _renderMatches(Ce,Re=[],je=null,Be=null){if(Ce==null){if(!je)return null;if(je.errors)Ce=je.matches;else if(Re.length===0&&!je.initialized&&je.matches.length>0)Ce=je.matches;else return null}let De=Ce,Fe=je?.errors;if(Fe!=null){let Me=De.findIndex(Ue=>Ue.route.id&&Fe?.[Ue.route.id]!==void 0);invariant$2(Me>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(Fe).join(",")}`),De=De.slice(0,Math.min(De.length,Me+1))}let Oe=!1,ke=-1;if(je)for(let Me=0;Me<De.length;Me++){let Ue=De[Me];if((Ue.route.HydrateFallback||Ue.route.hydrateFallbackElement)&&(ke=Me),Ue.route.id){let{loaderData:$e,errors:He}=je,Qe=Ue.route.loader&&!$e.hasOwnProperty(Ue.route.id)&&(!He||He[Ue.route.id]===void 0);if(Ue.route.lazy||Qe){Oe=!0,ke>=0?De=De.slice(0,ke+1):De=[De[0]];break}}}return De.reduceRight((Me,Ue,$e)=>{let He,Qe=!1,We=null,qe=null;je&&(He=Fe&&Ue.route.id?Fe[Ue.route.id]:void 0,We=Ue.route.errorElement||defaultErrorElement,Oe&&(ke<0&&$e===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Qe=!0,qe=null):ke===$e&&(Qe=!0,qe=Ue.route.hydrateFallbackElement||null)));let Ke=Re.concat(De.slice(0,$e+1)),Xe=()=>{let Ye;return He?Ye=We:Qe?Ye=qe:Ue.route.Component?Ye=reactExports.createElement(Ue.route.Component,null):Ue.route.element?Ye=Ue.route.element:Ye=Me,reactExports.createElement(RenderedRoute,{match:Ue,routeContext:{outlet:Me,matches:Ke,isDataRoute:je!=null},children:Ye})};return je&&(Ue.route.ErrorBoundary||Ue.route.errorElement||$e===0)?reactExports.createElement(RenderErrorBoundary,{location:je.location,revalidation:je.revalidation,component:We,error:He,children:Xe(),routeContext:{outlet:null,matches:Ke,isDataRoute:!0}}):Xe()},null)}function getDataRouterConsoleError(Ce){return`${Ce} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(Ce){let Re=reactExports.useContext(DataRouterContext);return invariant$2(Re,getDataRouterConsoleError(Ce)),Re}function useDataRouterState(Ce){let Re=reactExports.useContext(DataRouterStateContext);return invariant$2(Re,getDataRouterConsoleError(Ce)),Re}function useRouteContext(Ce){let Re=reactExports.useContext(RouteContext);return invariant$2(Re,getDataRouterConsoleError(Ce)),Re}function useCurrentRouteId(Ce){let Re=useRouteContext(Ce),je=Re.matches[Re.matches.length-1];return invariant$2(je.route.id,`${Ce} can only be used on routes that contain a unique "id"`),je.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let Ce=reactExports.useContext(RouteErrorContext),Re=useDataRouterState("useRouteError"),je=useCurrentRouteId("useRouteError");return Ce!==void 0?Ce:Re.errors?.[je]}function useNavigateStable(){let{router:Ce}=useDataRouterContext("useNavigate"),Re=useCurrentRouteId("useNavigate"),je=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{je.current=!0}),reactExports.useCallback(async(De,Fe={})=>{warning(je.current,navigateEffectWarning),je.current&&(typeof De=="number"?Ce.navigate(De):await Ce.navigate(De,{fromRouteId:Re,...Fe}))},[Ce,Re])}var alreadyWarned={};function warningOnce(Ce,Re,je){!Re&&!alreadyWarned[Ce]&&(alreadyWarned[Ce]=!0,warning(!1,je))}reactExports.memo(DataRoutes);function DataRoutes({routes:Ce,future:Re,state:je}){return useRoutesImpl(Ce,void 0,je,Re)}function Navigate({to:Ce,replace:Re,state:je,relative:Be}){invariant$2(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:De}=reactExports.useContext(NavigationContext);warning(!De,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:Fe}=reactExports.useContext(RouteContext),{pathname:Oe}=useLocation(),ke=useNavigate(),Me=resolveTo(Ce,getResolveToMatches(Fe),Oe,Be==="path"),Ue=JSON.stringify(Me);return reactExports.useEffect(()=>{ke(JSON.parse(Ue),{replace:Re,state:je,relative:Be})},[ke,Ue,Be,Re,je]),null}function Route(Ce){invariant$2(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:Ce="/",children:Re=null,location:je,navigationType:Be="POP",navigator:De,static:Fe=!1}){invariant$2(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let Oe=Ce.replace(/^\/*/,"/"),ke=reactExports.useMemo(()=>({basename:Oe,navigator:De,static:Fe,future:{}}),[Oe,De,Fe]);typeof je=="string"&&(je=parsePath(je));let{pathname:Me="/",search:Ue="",hash:$e="",state:He=null,key:Qe="default"}=je,We=reactExports.useMemo(()=>{let qe=stripBasename(Me,Oe);return qe==null?null:{location:{pathname:qe,search:Ue,hash:$e,state:He,key:Qe},navigationType:Be}},[Oe,Me,Ue,$e,He,Qe,Be]);return warning(We!=null,`<Router basename="${Oe}"> is not able to match the URL "${Me}${Ue}${$e}" because it does not start with the basename, so the <Router> won't render anything.`),We==null?null:reactExports.createElement(NavigationContext.Provider,{value:ke},reactExports.createElement(LocationContext.Provider,{children:Re,value:We}))}function Routes({children:Ce,location:Re}){return useRoutes(createRoutesFromChildren(Ce),Re)}function createRoutesFromChildren(Ce,Re=[]){let je=[];return reactExports.Children.forEach(Ce,(Be,De)=>{if(!reactExports.isValidElement(Be))return;let Fe=[...Re,De];if(Be.type===reactExports.Fragment){je.push.apply(je,createRoutesFromChildren(Be.props.children,Fe));return}invariant$2(Be.type===Route,`[${typeof Be.type=="string"?Be.type:Be.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$2(!Be.props.index||!Be.props.children,"An index route cannot have child routes.");let Oe={id:Be.props.id||Fe.join("-"),caseSensitive:Be.props.caseSensitive,element:Be.props.element,Component:Be.props.Component,index:Be.props.index,path:Be.props.path,loader:Be.props.loader,action:Be.props.action,hydrateFallbackElement:Be.props.hydrateFallbackElement,HydrateFallback:Be.props.HydrateFallback,errorElement:Be.props.errorElement,ErrorBoundary:Be.props.ErrorBoundary,hasErrorBoundary:Be.props.hasErrorBoundary===!0||Be.props.ErrorBoundary!=null||Be.props.errorElement!=null,shouldRevalidate:Be.props.shouldRevalidate,handle:Be.props.handle,lazy:Be.props.lazy};Be.props.children&&(Oe.children=createRoutesFromChildren(Be.props.children,Fe)),je.push(Oe)}),je}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(Ce){return Ce!=null&&typeof Ce.tagName=="string"}function isButtonElement(Ce){return isHtmlElement(Ce)&&Ce.tagName.toLowerCase()==="button"}function isFormElement(Ce){return isHtmlElement(Ce)&&Ce.tagName.toLowerCase()==="form"}function isInputElement(Ce){return isHtmlElement(Ce)&&Ce.tagName.toLowerCase()==="input"}function isModifiedEvent(Ce){return!!(Ce.metaKey||Ce.altKey||Ce.ctrlKey||Ce.shiftKey)}function shouldProcessLinkClick(Ce,Re){return Ce.button===0&&(!Re||Re==="_self")&&!isModifiedEvent(Ce)}function createSearchParams(Ce=""){return new URLSearchParams(typeof Ce=="string"||Array.isArray(Ce)||Ce instanceof URLSearchParams?Ce:Object.keys(Ce).reduce((Re,je)=>{let Be=Ce[je];return Re.concat(Array.isArray(Be)?Be.map(De=>[je,De]):[[je,Be]])},[]))}function getSearchParamsForLocation(Ce,Re){let je=createSearchParams(Ce);return Re&&Re.forEach((Be,De)=>{je.has(De)||Re.getAll(De).forEach(Fe=>{je.append(De,Fe)})}),je}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(Ce){return Ce!=null&&!supportedFormEncTypes.has(Ce)?(warning(!1,`"${Ce}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):Ce}function getFormSubmissionInfo(Ce,Re){let je,Be,De,Fe,Oe;if(isFormElement(Ce)){let ke=Ce.getAttribute("action");Be=ke?stripBasename(ke,Re):null,je=Ce.getAttribute("method")||defaultMethod,De=getFormEncType(Ce.getAttribute("enctype"))||defaultEncType,Fe=new FormData(Ce)}else if(isButtonElement(Ce)||isInputElement(Ce)&&(Ce.type==="submit"||Ce.type==="image")){let ke=Ce.form;if(ke==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let Me=Ce.getAttribute("formaction")||ke.getAttribute("action");if(Be=Me?stripBasename(Me,Re):null,je=Ce.getAttribute("formmethod")||ke.getAttribute("method")||defaultMethod,De=getFormEncType(Ce.getAttribute("formenctype"))||getFormEncType(ke.getAttribute("enctype"))||defaultEncType,Fe=new FormData(ke,Ce),!isFormDataSubmitterSupported()){let{name:Ue,type:$e,value:He}=Ce;if($e==="image"){let Qe=Ue?`${Ue}.`:"";Fe.append(`${Qe}x`,"0"),Fe.append(`${Qe}y`,"0")}else Ue&&Fe.append(Ue,He)}}else{if(isHtmlElement(Ce))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');je=defaultMethod,Be=null,De=defaultEncType,Oe=Ce}return Fe&&De==="text/plain"&&(Oe=Fe,Fe=void 0),{action:Be,method:je.toLowerCase(),encType:De,formData:Fe,body:Oe}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(Ce,Re){if(Ce===!1||Ce===null||typeof Ce>"u")throw new Error(Re)}function singleFetchUrl(Ce,Re,je){let Be=typeof Ce=="string"?new URL(Ce,typeof window>"u"?"server://singlefetch/":window.location.origin):Ce;return Be.pathname==="/"?Be.pathname=`_root.${je}`:Re&&stripBasename(Be.pathname,Re)==="/"?Be.pathname=`${Re.replace(/\/$/,"")}/_root.${je}`:Be.pathname=`${Be.pathname.replace(/\/$/,"")}.${je}`,Be}async function loadRouteModule(Ce,Re){if(Ce.id in Re)return Re[Ce.id];try{let je=await import(Ce.module);return Re[Ce.id]=je,je}catch(je){return console.error(`Error loading route module \`${Ce.module}\`, reloading page...`),console.error(je),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(Ce){return Ce==null?!1:Ce.href==null?Ce.rel==="preload"&&typeof Ce.imageSrcSet=="string"&&typeof Ce.imageSizes=="string":typeof Ce.rel=="string"&&typeof Ce.href=="string"}async function getKeyedPrefetchLinks(Ce,Re,je){let Be=await Promise.all(Ce.map(async De=>{let Fe=Re.routes[De.route.id];if(Fe){let Oe=await loadRouteModule(Fe,je);return Oe.links?Oe.links():[]}return[]}));return dedupeLinkDescriptors(Be.flat(1).filter(isHtmlLinkDescriptor).filter(De=>De.rel==="stylesheet"||De.rel==="preload").map(De=>De.rel==="stylesheet"?{...De,rel:"prefetch",as:"style"}:{...De,rel:"prefetch"}))}function getNewMatchesForLinks(Ce,Re,je,Be,De,Fe){let Oe=(Me,Ue)=>je[Ue]?Me.route.id!==je[Ue].route.id:!0,ke=(Me,Ue)=>je[Ue].pathname!==Me.pathname||je[Ue].route.path?.endsWith("*")&&je[Ue].params["*"]!==Me.params["*"];return Fe==="assets"?Re.filter((Me,Ue)=>Oe(Me,Ue)||ke(Me,Ue)):Fe==="data"?Re.filter((Me,Ue)=>{let $e=Be.routes[Me.route.id];if(!$e||!$e.hasLoader)return!1;if(Oe(Me,Ue)||ke(Me,Ue))return!0;if(Me.route.shouldRevalidate){let He=Me.route.shouldRevalidate({currentUrl:new URL(De.pathname+De.search+De.hash,window.origin),currentParams:je[0]?.params||{},nextUrl:new URL(Ce,window.origin),nextParams:Me.params,defaultShouldRevalidate:!0});if(typeof He=="boolean")return He}return!0}):[]}function getModuleLinkHrefs(Ce,Re,{includeHydrateFallback:je}={}){return dedupeHrefs(Ce.map(Be=>{let De=Re.routes[Be.route.id];if(!De)return[];let Fe=[De.module];return De.clientActionModule&&(Fe=Fe.concat(De.clientActionModule)),De.clientLoaderModule&&(Fe=Fe.concat(De.clientLoaderModule)),je&&De.hydrateFallbackModule&&(Fe=Fe.concat(De.hydrateFallbackModule)),De.imports&&(Fe=Fe.concat(De.imports)),Fe}).flat(1))}function dedupeHrefs(Ce){return[...new Set(Ce)]}function sortKeys(Ce){let Re={},je=Object.keys(Ce).sort();for(let Be of je)Re[Be]=Ce[Be];return Re}function dedupeLinkDescriptors(Ce,Re){let je=new Set;return new Set(Re),Ce.reduce((Be,De)=>{let Fe=JSON.stringify(sortKeys(De));return je.has(Fe)||(je.add(Fe),Be.push({key:Fe,link:De})),Be},[])}function useDataRouterContext2(){let Ce=reactExports.useContext(DataRouterContext);return invariant2(Ce,"You must render this element inside a <DataRouterContext.Provider> element"),Ce}function useDataRouterStateContext(){let Ce=reactExports.useContext(DataRouterStateContext);return invariant2(Ce,"You must render this element inside a <DataRouterStateContext.Provider> element"),Ce}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let Ce=reactExports.useContext(FrameworkContext);return invariant2(Ce,"You must render this element inside a <HydratedRouter> element"),Ce}function usePrefetchBehavior(Ce,Re){let je=reactExports.useContext(FrameworkContext),[Be,De]=reactExports.useState(!1),[Fe,Oe]=reactExports.useState(!1),{onFocus:ke,onBlur:Me,onMouseEnter:Ue,onMouseLeave:$e,onTouchStart:He}=Re,Qe=reactExports.useRef(null);reactExports.useEffect(()=>{if(Ce==="render"&&Oe(!0),Ce==="viewport"){let Ke=Ye=>{Ye.forEach(Ze=>{Oe(Ze.isIntersecting)})},Xe=new IntersectionObserver(Ke,{threshold:.5});return Qe.current&&Xe.observe(Qe.current),()=>{Xe.disconnect()}}},[Ce]),reactExports.useEffect(()=>{if(Be){let Ke=setTimeout(()=>{Oe(!0)},100);return()=>{clearTimeout(Ke)}}},[Be]);let We=()=>{De(!0)},qe=()=>{De(!1),Oe(!1)};return je?Ce!=="intent"?[Fe,Qe,{}]:[Fe,Qe,{onFocus:composeEventHandlers(ke,We),onBlur:composeEventHandlers(Me,qe),onMouseEnter:composeEventHandlers(Ue,We),onMouseLeave:composeEventHandlers($e,qe),onTouchStart:composeEventHandlers(He,We)}]:[!1,Qe,{}]}function composeEventHandlers(Ce,Re){return je=>{Ce&&Ce(je),je.defaultPrevented||Re(je)}}function PrefetchPageLinks({page:Ce,...Re}){let{router:je}=useDataRouterContext2(),Be=reactExports.useMemo(()=>matchRoutes(je.routes,Ce,je.basename),[je.routes,Ce,je.basename]);return Be?reactExports.createElement(PrefetchPageLinksImpl,{page:Ce,matches:Be,...Re}):null}function useKeyedPrefetchLinks(Ce){let{manifest:Re,routeModules:je}=useFrameworkContext(),[Be,De]=reactExports.useState([]);return reactExports.useEffect(()=>{let Fe=!1;return getKeyedPrefetchLinks(Ce,Re,je).then(Oe=>{Fe||De(Oe)}),()=>{Fe=!0}},[Ce,Re,je]),Be}function PrefetchPageLinksImpl({page:Ce,matches:Re,...je}){let Be=useLocation(),{manifest:De,routeModules:Fe}=useFrameworkContext(),{basename:Oe}=useDataRouterContext2(),{loaderData:ke,matches:Me}=useDataRouterStateContext(),Ue=reactExports.useMemo(()=>getNewMatchesForLinks(Ce,Re,Me,De,Be,"data"),[Ce,Re,Me,De,Be]),$e=reactExports.useMemo(()=>getNewMatchesForLinks(Ce,Re,Me,De,Be,"assets"),[Ce,Re,Me,De,Be]),He=reactExports.useMemo(()=>{if(Ce===Be.pathname+Be.search+Be.hash)return[];let qe=new Set,Ke=!1;if(Re.forEach(Ye=>{let Ze=De.routes[Ye.route.id];!Ze||!Ze.hasLoader||(!Ue.some(Je=>Je.route.id===Ye.route.id)&&Ye.route.id in ke&&Fe[Ye.route.id]?.shouldRevalidate||Ze.hasClientLoader?Ke=!0:qe.add(Ye.route.id))}),qe.size===0)return[];let Xe=singleFetchUrl(Ce,Oe,"data");return Ke&&qe.size>0&&Xe.searchParams.set("_routes",Re.filter(Ye=>qe.has(Ye.route.id)).map(Ye=>Ye.route.id).join(",")),[Xe.pathname+Xe.search]},[Oe,ke,Be,De,Ue,Re,Ce,Fe]),Qe=reactExports.useMemo(()=>getModuleLinkHrefs($e,De),[$e,De]),We=useKeyedPrefetchLinks($e);return reactExports.createElement(reactExports.Fragment,null,He.map(qe=>reactExports.createElement("link",{key:qe,rel:"prefetch",as:"fetch",href:qe,...je})),Qe.map(qe=>reactExports.createElement("link",{key:qe,rel:"modulepreload",href:qe,...je})),We.map(({key:qe,link:Ke})=>reactExports.createElement("link",{key:qe,nonce:je.nonce,...Ke})))}function mergeRefs(...Ce){return Re=>{Ce.forEach(je=>{typeof je=="function"?je(Re):je!=null&&(je.current=Re)})}}var isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$2&&(window.__reactRouterVersion="7.8.0")}catch{}function BrowserRouter({basename:Ce,children:Re,window:je}){let Be=reactExports.useRef();Be.current==null&&(Be.current=createBrowserHistory({window:je,v5Compat:!0}));let De=Be.current,[Fe,Oe]=reactExports.useState({action:De.action,location:De.location}),ke=reactExports.useCallback(Me=>{reactExports.startTransition(()=>Oe(Me))},[Oe]);return reactExports.useLayoutEffect(()=>De.listen(ke),[De,ke]),reactExports.createElement(Router,{basename:Ce,children:Re,location:Fe.location,navigationType:Fe.action,navigator:De})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:Re,discover:je="render",prefetch:Be="none",relative:De,reloadDocument:Fe,replace:Oe,state:ke,target:Me,to:Ue,preventScrollReset:$e,viewTransition:He,...Qe},We){let{basename:qe}=reactExports.useContext(NavigationContext),Ke=typeof Ue=="string"&&ABSOLUTE_URL_REGEX2.test(Ue),Xe,Ye=!1;if(typeof Ue=="string"&&Ke&&(Xe=Ue,isBrowser$2))try{let dr=new URL(window.location.href),_r=Ue.startsWith("//")?new URL(dr.protocol+Ue):new URL(Ue),fr=stripBasename(_r.pathname,qe);_r.origin===dr.origin&&fr!=null?Ue=fr+_r.search+_r.hash:Ye=!0}catch{warning(!1,`<Link to="${Ue}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Ze=useHref(Ue,{relative:De}),[Je,tr,rr]=usePrefetchBehavior(Be,Qe),ar=useLinkClickHandler(Ue,{replace:Oe,state:ke,target:Me,preventScrollReset:$e,relative:De,viewTransition:He});function nr(dr){Re&&Re(dr),dr.defaultPrevented||ar(dr)}let sr=reactExports.createElement("a",{...Qe,...rr,href:Xe||Ze,onClick:Ye||Fe?Re:nr,ref:mergeRefs(We,tr),target:Me,"data-discover":!Ke&&je==="render"?"true":void 0});return Je&&!Ke?reactExports.createElement(reactExports.Fragment,null,sr,reactExports.createElement(PrefetchPageLinks,{page:Ze})):sr});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":Re="page",caseSensitive:je=!1,className:Be="",end:De=!1,style:Fe,to:Oe,viewTransition:ke,children:Me,...Ue},$e){let He=useResolvedPath(Oe,{relative:Ue.relative}),Qe=useLocation(),We=reactExports.useContext(DataRouterStateContext),{navigator:qe,basename:Ke}=reactExports.useContext(NavigationContext),Xe=We!=null&&useViewTransitionState(He)&&ke===!0,Ye=qe.encodeLocation?qe.encodeLocation(He).pathname:He.pathname,Ze=Qe.pathname,Je=We&&We.navigation&&We.navigation.location?We.navigation.location.pathname:null;je||(Ze=Ze.toLowerCase(),Je=Je?Je.toLowerCase():null,Ye=Ye.toLowerCase()),Je&&Ke&&(Je=stripBasename(Je,Ke)||Je);const tr=Ye!=="/"&&Ye.endsWith("/")?Ye.length-1:Ye.length;let rr=Ze===Ye||!De&&Ze.startsWith(Ye)&&Ze.charAt(tr)==="/",ar=Je!=null&&(Je===Ye||!De&&Je.startsWith(Ye)&&Je.charAt(Ye.length)==="/"),nr={isActive:rr,isPending:ar,isTransitioning:Xe},sr=rr?Re:void 0,dr;typeof Be=="function"?dr=Be(nr):dr=[Be,rr?"active":null,ar?"pending":null,Xe?"transitioning":null].filter(Boolean).join(" ");let _r=typeof Fe=="function"?Fe(nr):Fe;return reactExports.createElement(Link,{...Ue,"aria-current":sr,className:dr,ref:$e,style:_r,to:Oe,viewTransition:ke},typeof Me=="function"?Me(nr):Me)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:Ce="render",fetcherKey:Re,navigate:je,reloadDocument:Be,replace:De,state:Fe,method:Oe=defaultMethod,action:ke,onSubmit:Me,relative:Ue,preventScrollReset:$e,viewTransition:He,...Qe},We)=>{let qe=useSubmit(),Ke=useFormAction(ke,{relative:Ue}),Xe=Oe.toLowerCase()==="get"?"get":"post",Ye=typeof ke=="string"&&ABSOLUTE_URL_REGEX2.test(ke),Ze=Je=>{if(Me&&Me(Je),Je.defaultPrevented)return;Je.preventDefault();let tr=Je.nativeEvent.submitter,rr=tr?.getAttribute("formmethod")||Oe;qe(tr||Je.currentTarget,{fetcherKey:Re,method:rr,navigate:je,replace:De,state:Fe,relative:Ue,preventScrollReset:$e,viewTransition:He})};return reactExports.createElement("form",{ref:We,method:Xe,action:Ke,onSubmit:Be?Me:Ze,...Qe,"data-discover":!Ye&&Ce==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(Ce){return`${Ce} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(Ce){let Re=reactExports.useContext(DataRouterContext);return invariant$2(Re,getDataRouterConsoleError2(Ce)),Re}function useLinkClickHandler(Ce,{target:Re,replace:je,state:Be,preventScrollReset:De,relative:Fe,viewTransition:Oe}={}){let ke=useNavigate(),Me=useLocation(),Ue=useResolvedPath(Ce,{relative:Fe});return reactExports.useCallback($e=>{if(shouldProcessLinkClick($e,Re)){$e.preventDefault();let He=je!==void 0?je:createPath(Me)===createPath(Ue);ke(Ce,{replace:He,state:Be,preventScrollReset:De,relative:Fe,viewTransition:Oe})}},[Me,ke,Ue,je,Be,Re,Ce,De,Fe,Oe])}function useSearchParams(Ce){warning(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let Re=reactExports.useRef(createSearchParams(Ce)),je=reactExports.useRef(!1),Be=useLocation(),De=reactExports.useMemo(()=>getSearchParamsForLocation(Be.search,je.current?null:Re.current),[Be.search]),Fe=useNavigate(),Oe=reactExports.useCallback((ke,Me)=>{const Ue=createSearchParams(typeof ke=="function"?ke(new URLSearchParams(De)):ke);je.current=!0,Fe("?"+Ue,Me)},[Fe,De]);return[De,Oe]}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:Ce}=useDataRouterContext3("useSubmit"),{basename:Re}=reactExports.useContext(NavigationContext),je=useRouteId();return reactExports.useCallback(async(Be,De={})=>{let{action:Fe,method:Oe,encType:ke,formData:Me,body:Ue}=getFormSubmissionInfo(Be,Re);if(De.navigate===!1){let $e=De.fetcherKey||getUniqueFetcherId();await Ce.fetch($e,je,De.action||Fe,{preventScrollReset:De.preventScrollReset,formData:Me,body:Ue,formMethod:De.method||Oe,formEncType:De.encType||ke,flushSync:De.flushSync})}else await Ce.navigate(De.action||Fe,{preventScrollReset:De.preventScrollReset,formData:Me,body:Ue,formMethod:De.method||Oe,formEncType:De.encType||ke,replace:De.replace,state:De.state,fromRouteId:je,flushSync:De.flushSync,viewTransition:De.viewTransition})},[Ce,Re,je])}function useFormAction(Ce,{relative:Re}={}){let{basename:je}=reactExports.useContext(NavigationContext),Be=reactExports.useContext(RouteContext);invariant$2(Be,"useFormAction must be used inside a RouteContext");let[De]=Be.matches.slice(-1),Fe={...useResolvedPath(Ce||".",{relative:Re})},Oe=useLocation();if(Ce==null){Fe.search=Oe.search;let ke=new URLSearchParams(Fe.search),Me=ke.getAll("index");if(Me.some($e=>$e==="")){ke.delete("index"),Me.filter(He=>He).forEach(He=>ke.append("index",He));let $e=ke.toString();Fe.search=$e?`?${$e}`:""}}return(!Ce||Ce===".")&&De.route.index&&(Fe.search=Fe.search?Fe.search.replace(/^\?/,"?index&"):"?index"),je!=="/"&&(Fe.pathname=Fe.pathname==="/"?je:joinPaths([je,Fe.pathname])),createPath(Fe)}function useViewTransitionState(Ce,{relative:Re}={}){let je=reactExports.useContext(ViewTransitionContext);invariant$2(je!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:Be}=useDataRouterContext3("useViewTransitionState"),De=useResolvedPath(Ce,{relative:Re});if(!je.isTransitioning)return!1;let Fe=stripBasename(je.currentLocation.pathname,Be)||je.currentLocation.pathname,Oe=stripBasename(je.nextLocation.pathname,Be)||je.nextLocation.pathname;return matchPath(De.pathname,Oe)!=null||matchPath(De.pathname,Fe)!=null}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);var aos$1={exports:{}},aos=aos$1.exports,hasRequiredAos;function requireAos(){return hasRequiredAos||(hasRequiredAos=1,(function(Ce,Re){(function(je,Be){Ce.exports=Be()})(aos,function(){return(function(je){function Be(Fe){if(De[Fe])return De[Fe].exports;var Oe=De[Fe]={exports:{},id:Fe,loaded:!1};return je[Fe].call(Oe.exports,Oe,Oe.exports,Be),Oe.loaded=!0,Oe.exports}var De={};return Be.m=je,Be.c=De,Be.p="dist/",Be(0)})([function(je,Be,De){function Fe(Rr){return Rr&&Rr.__esModule?Rr:{default:Rr}}var Oe=Object.assign||function(Rr){for(var jr=1;jr<arguments.length;jr++){var xr=arguments[jr];for(var Pr in xr)Object.prototype.hasOwnProperty.call(xr,Pr)&&(Rr[Pr]=xr[Pr])}return Rr},ke=De(1),Me=(Fe(ke),De(6)),Ue=Fe(Me),$e=De(7),He=Fe($e),Qe=De(8),We=Fe(Qe),qe=De(9),Ke=Fe(qe),Xe=De(10),Ye=Fe(Xe),Ze=De(11),Je=Fe(Ze),tr=De(14),rr=Fe(tr),ar=[],nr=!1,sr={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},dr=function(){var Rr=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(Rr&&(nr=!0),nr)return ar=(0,Je.default)(ar,sr),(0,Ye.default)(ar,sr.once),ar},_r=function(){ar=(0,rr.default)(),dr()},fr=function(){ar.forEach(function(Rr,jr){Rr.node.removeAttribute("data-aos"),Rr.node.removeAttribute("data-aos-easing"),Rr.node.removeAttribute("data-aos-duration"),Rr.node.removeAttribute("data-aos-delay")})},or=function(Rr){return Rr===!0||Rr==="mobile"&&Ke.default.mobile()||Rr==="phone"&&Ke.default.phone()||Rr==="tablet"&&Ke.default.tablet()||typeof Rr=="function"&&Rr()===!0},Er=function(Rr){sr=Oe(sr,Rr),ar=(0,rr.default)();var jr=document.all&&!window.atob;return or(sr.disable)||jr?fr():(sr.disableMutationObserver||We.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),sr.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",sr.easing),document.querySelector("body").setAttribute("data-aos-duration",sr.duration),document.querySelector("body").setAttribute("data-aos-delay",sr.delay),sr.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?dr(!0):sr.startEvent==="load"?window.addEventListener(sr.startEvent,function(){dr(!0)}):document.addEventListener(sr.startEvent,function(){dr(!0)}),window.addEventListener("resize",(0,He.default)(dr,sr.debounceDelay,!0)),window.addEventListener("orientationchange",(0,He.default)(dr,sr.debounceDelay,!0)),window.addEventListener("scroll",(0,Ue.default)(function(){(0,Ye.default)(ar,sr.once)},sr.throttleDelay)),sr.disableMutationObserver||We.default.ready("[data-aos]",_r),ar)};je.exports={init:Er,refresh:dr,refreshHard:_r}},function(je,Be){},,,,,function(je,Be){(function(De){function Fe(or,Er,Rr){function jr(gn){var mn=Tr,Zr=Or;return Tr=Or=void 0,Jr=gn,Hr=or.apply(Zr,mn)}function xr(gn){return Jr=gn,Wr=setTimeout(wr,Er),An?jr(gn):Hr}function Pr(gn){var mn=gn-qr,Zr=gn-Jr,kn=Er-mn;return an?_r(kn,Nr-Zr):kn}function br(gn){var mn=gn-qr,Zr=gn-Jr;return qr===void 0||mn>=Er||mn<0||an&&Zr>=Nr}function wr(){var gn=fr();return br(gn)?Br(gn):void(Wr=setTimeout(wr,Pr(gn)))}function Br(gn){return Wr=void 0,bn&&Tr?jr(gn):(Tr=Or=void 0,Hr)}function Lr(){Wr!==void 0&&clearTimeout(Wr),Jr=0,Tr=qr=Or=Wr=void 0}function yr(){return Wr===void 0?Hr:Br(fr())}function vr(){var gn=fr(),mn=br(gn);if(Tr=arguments,Or=this,qr=gn,mn){if(Wr===void 0)return xr(qr);if(an)return Wr=setTimeout(wr,Er),jr(qr)}return Wr===void 0&&(Wr=setTimeout(wr,Er)),Hr}var Tr,Or,Nr,Hr,Wr,qr,Jr=0,An=!1,an=!1,bn=!0;if(typeof or!="function")throw new TypeError(Qe);return Er=$e(Er)||0,ke(Rr)&&(An=!!Rr.leading,an="maxWait"in Rr,Nr=an?dr($e(Rr.maxWait)||0,Er):Nr,bn="trailing"in Rr?!!Rr.trailing:bn),vr.cancel=Lr,vr.flush=yr,vr}function Oe(or,Er,Rr){var jr=!0,xr=!0;if(typeof or!="function")throw new TypeError(Qe);return ke(Rr)&&(jr="leading"in Rr?!!Rr.leading:jr,xr="trailing"in Rr?!!Rr.trailing:xr),Fe(or,Er,{leading:jr,maxWait:Er,trailing:xr})}function ke(or){var Er=typeof or>"u"?"undefined":He(or);return!!or&&(Er=="object"||Er=="function")}function Me(or){return!!or&&(typeof or>"u"?"undefined":He(or))=="object"}function Ue(or){return(typeof or>"u"?"undefined":He(or))=="symbol"||Me(or)&&sr.call(or)==qe}function $e(or){if(typeof or=="number")return or;if(Ue(or))return We;if(ke(or)){var Er=typeof or.valueOf=="function"?or.valueOf():or;or=ke(Er)?Er+"":Er}if(typeof or!="string")return or===0?or:+or;or=or.replace(Ke,"");var Rr=Ye.test(or);return Rr||Ze.test(or)?Je(or.slice(2),Rr?2:8):Xe.test(or)?We:+or}var He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(or){return typeof or}:function(or){return or&&typeof Symbol=="function"&&or.constructor===Symbol&&or!==Symbol.prototype?"symbol":typeof or},Qe="Expected a function",We=NaN,qe="[object Symbol]",Ke=/^\s+|\s+$/g,Xe=/^[-+]0x[0-9a-f]+$/i,Ye=/^0b[01]+$/i,Ze=/^0o[0-7]+$/i,Je=parseInt,tr=(typeof De>"u"?"undefined":He(De))=="object"&&De&&De.Object===Object&&De,rr=(typeof self>"u"?"undefined":He(self))=="object"&&self&&self.Object===Object&&self,ar=tr||rr||Function("return this")(),nr=Object.prototype,sr=nr.toString,dr=Math.max,_r=Math.min,fr=function(){return ar.Date.now()};je.exports=Oe}).call(Be,(function(){return this})())},function(je,Be){(function(De){function Fe(fr,or,Er){function Rr(bn){var gn=vr,mn=Tr;return vr=Tr=void 0,qr=bn,Nr=fr.apply(mn,gn)}function jr(bn){return qr=bn,Hr=setTimeout(br,or),Jr?Rr(bn):Nr}function xr(bn){var gn=bn-Wr,mn=bn-qr,Zr=or-gn;return An?dr(Zr,Or-mn):Zr}function Pr(bn){var gn=bn-Wr,mn=bn-qr;return Wr===void 0||gn>=or||gn<0||An&&mn>=Or}function br(){var bn=_r();return Pr(bn)?wr(bn):void(Hr=setTimeout(br,xr(bn)))}function wr(bn){return Hr=void 0,an&&vr?Rr(bn):(vr=Tr=void 0,Nr)}function Br(){Hr!==void 0&&clearTimeout(Hr),qr=0,vr=Wr=Tr=Hr=void 0}function Lr(){return Hr===void 0?Nr:wr(_r())}function yr(){var bn=_r(),gn=Pr(bn);if(vr=arguments,Tr=this,Wr=bn,gn){if(Hr===void 0)return jr(Wr);if(An)return Hr=setTimeout(br,or),Rr(Wr)}return Hr===void 0&&(Hr=setTimeout(br,or)),Nr}var vr,Tr,Or,Nr,Hr,Wr,qr=0,Jr=!1,An=!1,an=!0;if(typeof fr!="function")throw new TypeError(He);return or=Ue(or)||0,Oe(Er)&&(Jr=!!Er.leading,An="maxWait"in Er,Or=An?sr(Ue(Er.maxWait)||0,or):Or,an="trailing"in Er?!!Er.trailing:an),yr.cancel=Br,yr.flush=Lr,yr}function Oe(fr){var or=typeof fr>"u"?"undefined":$e(fr);return!!fr&&(or=="object"||or=="function")}function ke(fr){return!!fr&&(typeof fr>"u"?"undefined":$e(fr))=="object"}function Me(fr){return(typeof fr>"u"?"undefined":$e(fr))=="symbol"||ke(fr)&&nr.call(fr)==We}function Ue(fr){if(typeof fr=="number")return fr;if(Me(fr))return Qe;if(Oe(fr)){var or=typeof fr.valueOf=="function"?fr.valueOf():fr;fr=Oe(or)?or+"":or}if(typeof fr!="string")return fr===0?fr:+fr;fr=fr.replace(qe,"");var Er=Xe.test(fr);return Er||Ye.test(fr)?Ze(fr.slice(2),Er?2:8):Ke.test(fr)?Qe:+fr}var $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fr){return typeof fr}:function(fr){return fr&&typeof Symbol=="function"&&fr.constructor===Symbol&&fr!==Symbol.prototype?"symbol":typeof fr},He="Expected a function",Qe=NaN,We="[object Symbol]",qe=/^\s+|\s+$/g,Ke=/^[-+]0x[0-9a-f]+$/i,Xe=/^0b[01]+$/i,Ye=/^0o[0-7]+$/i,Ze=parseInt,Je=(typeof De>"u"?"undefined":$e(De))=="object"&&De&&De.Object===Object&&De,tr=(typeof self>"u"?"undefined":$e(self))=="object"&&self&&self.Object===Object&&self,rr=Je||tr||Function("return this")(),ar=Object.prototype,nr=ar.toString,sr=Math.max,dr=Math.min,_r=function(){return rr.Date.now()};je.exports=Fe}).call(Be,(function(){return this})())},function(je,Be){function De($e){var He=void 0,Qe=void 0;for(He=0;He<$e.length;He+=1)if(Qe=$e[He],Qe.dataset&&Qe.dataset.aos||Qe.children&&De(Qe.children))return!0;return!1}function Fe(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function Oe(){return!!Fe()}function ke($e,He){var Qe=window.document,We=Fe(),qe=new We(Me);Ue=He,qe.observe(Qe.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function Me($e){$e&&$e.forEach(function(He){var Qe=Array.prototype.slice.call(He.addedNodes),We=Array.prototype.slice.call(He.removedNodes),qe=Qe.concat(We);if(De(qe))return Ue()})}Object.defineProperty(Be,"__esModule",{value:!0});var Ue=function(){};Be.default={isSupported:Oe,ready:ke}},function(je,Be){function De(Qe,We){if(!(Qe instanceof We))throw new TypeError("Cannot call a class as a function")}function Fe(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(Be,"__esModule",{value:!0});var Oe=(function(){function Qe(We,qe){for(var Ke=0;Ke<qe.length;Ke++){var Xe=qe[Ke];Xe.enumerable=Xe.enumerable||!1,Xe.configurable=!0,"value"in Xe&&(Xe.writable=!0),Object.defineProperty(We,Xe.key,Xe)}}return function(We,qe,Ke){return qe&&Qe(We.prototype,qe),Ke&&Qe(We,Ke),We}})(),ke=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,Me=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,Ue=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,$e=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,He=(function(){function Qe(){De(this,Qe)}return Oe(Qe,[{key:"phone",value:function(){var We=Fe();return!(!ke.test(We)&&!Me.test(We.substr(0,4)))}},{key:"mobile",value:function(){var We=Fe();return!(!Ue.test(We)&&!$e.test(We.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),Qe})();Be.default=new He},function(je,Be){Object.defineProperty(Be,"__esModule",{value:!0});var De=function(Oe,ke,Me){var Ue=Oe.node.getAttribute("data-aos-once");ke>Oe.position?Oe.node.classList.add("aos-animate"):typeof Ue<"u"&&(Ue==="false"||!Me&&Ue!=="true")&&Oe.node.classList.remove("aos-animate")},Fe=function(Oe,ke){var Me=window.pageYOffset,Ue=window.innerHeight;Oe.forEach(function($e,He){De($e,Ue+Me,ke)})};Be.default=Fe},function(je,Be,De){function Fe(Ue){return Ue&&Ue.__esModule?Ue:{default:Ue}}Object.defineProperty(Be,"__esModule",{value:!0});var Oe=De(12),ke=Fe(Oe),Me=function(Ue,$e){return Ue.forEach(function(He,Qe){He.node.classList.add("aos-init"),He.position=(0,ke.default)(He.node,$e.offset)}),Ue};Be.default=Me},function(je,Be,De){function Fe(Ue){return Ue&&Ue.__esModule?Ue:{default:Ue}}Object.defineProperty(Be,"__esModule",{value:!0});var Oe=De(13),ke=Fe(Oe),Me=function(Ue,$e){var He=0,Qe=0,We=window.innerHeight,qe={offset:Ue.getAttribute("data-aos-offset"),anchor:Ue.getAttribute("data-aos-anchor"),anchorPlacement:Ue.getAttribute("data-aos-anchor-placement")};switch(qe.offset&&!isNaN(qe.offset)&&(Qe=parseInt(qe.offset)),qe.anchor&&document.querySelectorAll(qe.anchor)&&(Ue=document.querySelectorAll(qe.anchor)[0]),He=(0,ke.default)(Ue).top,qe.anchorPlacement){case"top-bottom":break;case"center-bottom":He+=Ue.offsetHeight/2;break;case"bottom-bottom":He+=Ue.offsetHeight;break;case"top-center":He+=We/2;break;case"bottom-center":He+=We/2+Ue.offsetHeight;break;case"center-center":He+=We/2+Ue.offsetHeight/2;break;case"top-top":He+=We;break;case"bottom-top":He+=Ue.offsetHeight+We;break;case"center-top":He+=Ue.offsetHeight/2+We}return qe.anchorPlacement||qe.offset||isNaN($e)||(Qe=$e),He+Qe};Be.default=Me},function(je,Be){Object.defineProperty(Be,"__esModule",{value:!0});var De=function(Fe){for(var Oe=0,ke=0;Fe&&!isNaN(Fe.offsetLeft)&&!isNaN(Fe.offsetTop);)Oe+=Fe.offsetLeft-(Fe.tagName!="BODY"?Fe.scrollLeft:0),ke+=Fe.offsetTop-(Fe.tagName!="BODY"?Fe.scrollTop:0),Fe=Fe.offsetParent;return{top:ke,left:Oe}};Be.default=De},function(je,Be){Object.defineProperty(Be,"__esModule",{value:!0});var De=function(Fe){return Fe=Fe||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(Fe,function(Oe){return{node:Oe}})};Be.default=De}])})})(aos$1)),aos$1.exports}var aosExports=requireAos();const AOS=getDefaultExportFromCjs(aosExports);var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&(function(Ce,Re){module.exports=Re()})(lottie$1,(function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(Re){_useWebWorker=!!Re},getWebWorker=function(){return _useWebWorker},setLocationHref=function(Re){locationHref=Re},getLocationHref=function(){return locationHref};function createTag(Ce){return document.createElement(Ce)}function extendPrototype(Ce,Re){var je,Be=Ce.length,De;for(je=0;je<Be;je+=1){De=Ce[je].prototype;for(var Fe in De)Object.prototype.hasOwnProperty.call(De,Fe)&&(Re.prototype[Fe]=De[Fe])}}function getDescriptor(Ce,Re){return Object.getOwnPropertyDescriptor(Ce,Re)}function createProxyFunction(Ce){function Re(){}return Re.prototype=Ce,Re}var audioControllerFactory=(function(){function Ce(Re){this.audios=[],this.audioFactory=Re,this._volume=1,this._isMuted=!1}return Ce.prototype={addAudio:function(je){this.audios.push(je)},pause:function(){var je,Be=this.audios.length;for(je=0;je<Be;je+=1)this.audios[je].pause()},resume:function(){var je,Be=this.audios.length;for(je=0;je<Be;je+=1)this.audios[je].resume()},setRate:function(je){var Be,De=this.audios.length;for(Be=0;Be<De;Be+=1)this.audios[Be].setRate(je)},createAudio:function(je){return this.audioFactory?this.audioFactory(je):window.Howl?new window.Howl({src:[je]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(je){this.audioFactory=je},setVolume:function(je){this._volume=je,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var je,Be=this.audios.length;for(je=0;je<Be;je+=1)this.audios[je].volume(this._volume*(this._isMuted?0:1))}},function(){return new Ce}})(),createTypedArray=(function(){function Ce(je,Be){var De=0,Fe=[],Oe;switch(je){case"int16":case"uint8c":Oe=1;break;default:Oe=1.1;break}for(De=0;De<Be;De+=1)Fe.push(Oe);return Fe}function Re(je,Be){return je==="float32"?new Float32Array(Be):je==="int16"?new Int16Array(Be):je==="uint8c"?new Uint8ClampedArray(Be):Ce(je,Be)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?Re:Ce})();function createSizedArray(Ce){return Array.apply(null,{length:Ce})}function _typeof$6(Ce){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},_typeof$6(Ce)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var Ce=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],Re,je=Ce.length;for(Re=0;Re<je;Re+=1)BMMath[Ce[Re]]=Math[Ce[Re]]})(),BMMath.random=Math.random,BMMath.abs=function(Ce){var Re=_typeof$6(Ce);if(Re==="object"&&Ce.length){var je=createSizedArray(Ce.length),Be,De=Ce.length;for(Be=0;Be<De;Be+=1)je[Be]=Math.abs(Ce[Be]);return je}return Math.abs(Ce)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(Ce){Ce.style.position="absolute",Ce.style.top=0,Ce.style.left=0,Ce.style.display="block",Ce.style.transformOrigin="0 0",Ce.style.webkitTransformOrigin="0 0",Ce.style.backfaceVisibility="visible",Ce.style.webkitBackfaceVisibility="visible",Ce.style.transformStyle="preserve-3d",Ce.style.webkitTransformStyle="preserve-3d",Ce.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(Ce,Re,je,Be){this.type=Ce,this.currentTime=Re,this.totalTime=je,this.direction=Be<0?-1:1}function BMCompleteEvent(Ce,Re){this.type=Ce,this.direction=Re<0?-1:1}function BMCompleteLoopEvent(Ce,Re,je,Be){this.type=Ce,this.currentLoop=je,this.totalLoops=Re,this.direction=Be<0?-1:1}function BMSegmentStartEvent(Ce,Re,je){this.type=Ce,this.firstFrame=Re,this.totalFrames=je}function BMDestroyEvent(Ce,Re){this.type=Ce,this.target=Re}function BMRenderFrameErrorEvent(Ce,Re){this.type="renderFrameError",this.nativeError=Ce,this.currentTime=Re}function BMConfigErrorEvent(Ce){this.type="configError",this.nativeError=Ce}var createElementID=(function(){var Ce=0;return function(){return Ce+=1,idPrefix$1+"__lottie_element_"+Ce}})();function HSVtoRGB(Ce,Re,je){var Be,De,Fe,Oe,ke,Me,Ue,$e;switch(Oe=Math.floor(Ce*6),ke=Ce*6-Oe,Me=je*(1-Re),Ue=je*(1-ke*Re),$e=je*(1-(1-ke)*Re),Oe%6){case 0:Be=je,De=$e,Fe=Me;break;case 1:Be=Ue,De=je,Fe=Me;break;case 2:Be=Me,De=je,Fe=$e;break;case 3:Be=Me,De=Ue,Fe=je;break;case 4:Be=$e,De=Me,Fe=je;break;case 5:Be=je,De=Me,Fe=Ue;break}return[Be,De,Fe]}function RGBtoHSV(Ce,Re,je){var Be=Math.max(Ce,Re,je),De=Math.min(Ce,Re,je),Fe=Be-De,Oe,ke=Be===0?0:Fe/Be,Me=Be/255;switch(Be){case De:Oe=0;break;case Ce:Oe=Re-je+Fe*(Re<je?6:0),Oe/=6*Fe;break;case Re:Oe=je-Ce+Fe*2,Oe/=6*Fe;break;case je:Oe=Ce-Re+Fe*4,Oe/=6*Fe;break}return[Oe,ke,Me]}function addSaturationToRGB(Ce,Re){var je=RGBtoHSV(Ce[0]*255,Ce[1]*255,Ce[2]*255);return je[1]+=Re,je[1]>1?je[1]=1:je[1]<=0&&(je[1]=0),HSVtoRGB(je[0],je[1],je[2])}function addBrightnessToRGB(Ce,Re){var je=RGBtoHSV(Ce[0]*255,Ce[1]*255,Ce[2]*255);return je[2]+=Re,je[2]>1?je[2]=1:je[2]<0&&(je[2]=0),HSVtoRGB(je[0],je[1],je[2])}function addHueToRGB(Ce,Re){var je=RGBtoHSV(Ce[0]*255,Ce[1]*255,Ce[2]*255);return je[0]+=Re/360,je[0]>1?je[0]-=1:je[0]<0&&(je[0]+=1),HSVtoRGB(je[0],je[1],je[2])}var rgbToHex=(function(){var Ce=[],Re,je;for(Re=0;Re<256;Re+=1)je=Re.toString(16),Ce[Re]=je.length===1?"0"+je:je;return function(Be,De,Fe){return Be<0&&(Be=0),De<0&&(De=0),Fe<0&&(Fe=0),"#"+Ce[Be]+Ce[De]+Ce[Fe]}})(),setSubframeEnabled=function(Re){subframeEnabled=!!Re},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(Re){expressionsPlugin=Re},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(Re){expressionsInterfaces=Re},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(Re){defaultCurveSegments=Re},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(Re){idPrefix$1=Re};function createNS(Ce){return document.createElementNS(svgNS,Ce)}function _typeof$5(Ce){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},_typeof$5(Ce)}var dataManager=(function(){var Ce=1,Re=[],je,Be,De={onmessage:function(){},postMessage:function(We){je({data:We})}},Fe={postMessage:function(We){De.onmessage({data:We})}};function Oe(Qe){if(window.Worker&&window.Blob&&getWebWorker()){var We=new Blob(["var _workerSelf = self; self.onmessage = ",Qe.toString()],{type:"text/javascript"}),qe=URL.createObjectURL(We);return new Worker(qe)}return je=Qe,De}function ke(){Be||(Be=Oe(function(We){function qe(){function Xe(jr,xr){var Pr,br,wr=jr.length,Br,Lr,yr,vr;for(br=0;br<wr;br+=1)if(Pr=jr[br],"ks"in Pr&&!Pr.completed){if(Pr.completed=!0,Pr.hasMask){var Tr=Pr.masksProperties;for(Lr=Tr.length,Br=0;Br<Lr;Br+=1)if(Tr[Br].pt.k.i)rr(Tr[Br].pt.k);else for(vr=Tr[Br].pt.k.length,yr=0;yr<vr;yr+=1)Tr[Br].pt.k[yr].s&&rr(Tr[Br].pt.k[yr].s[0]),Tr[Br].pt.k[yr].e&&rr(Tr[Br].pt.k[yr].e[0])}Pr.ty===0?(Pr.layers=Je(Pr.refId,xr),Xe(Pr.layers,xr)):Pr.ty===4?tr(Pr.shapes):Pr.ty===5&&Er(Pr)}}function Ye(jr,xr){if(jr){var Pr=0,br=jr.length;for(Pr=0;Pr<br;Pr+=1)jr[Pr].t===1&&(jr[Pr].data.layers=Je(jr[Pr].data.refId,xr),Xe(jr[Pr].data.layers,xr))}}function Ze(jr,xr){for(var Pr=0,br=xr.length;Pr<br;){if(xr[Pr].id===jr)return xr[Pr];Pr+=1}return null}function Je(jr,xr){var Pr=Ze(jr,xr);return Pr?Pr.layers.__used?JSON.parse(JSON.stringify(Pr.layers)):(Pr.layers.__used=!0,Pr.layers):null}function tr(jr){var xr,Pr=jr.length,br,wr;for(xr=Pr-1;xr>=0;xr-=1)if(jr[xr].ty==="sh")if(jr[xr].ks.k.i)rr(jr[xr].ks.k);else for(wr=jr[xr].ks.k.length,br=0;br<wr;br+=1)jr[xr].ks.k[br].s&&rr(jr[xr].ks.k[br].s[0]),jr[xr].ks.k[br].e&&rr(jr[xr].ks.k[br].e[0]);else jr[xr].ty==="gr"&&tr(jr[xr].it)}function rr(jr){var xr,Pr=jr.i.length;for(xr=0;xr<Pr;xr+=1)jr.i[xr][0]+=jr.v[xr][0],jr.i[xr][1]+=jr.v[xr][1],jr.o[xr][0]+=jr.v[xr][0],jr.o[xr][1]+=jr.v[xr][1]}function ar(jr,xr){var Pr=xr?xr.split("."):[100,100,100];return jr[0]>Pr[0]?!0:Pr[0]>jr[0]?!1:jr[1]>Pr[1]?!0:Pr[1]>jr[1]?!1:jr[2]>Pr[2]?!0:Pr[2]>jr[2]?!1:null}var nr=(function(){var jr=[4,4,14];function xr(br){var wr=br.t.d;br.t.d={k:[{s:wr,t:0}]}}function Pr(br){var wr,Br=br.length;for(wr=0;wr<Br;wr+=1)br[wr].ty===5&&xr(br[wr])}return function(br){if(ar(jr,br.v)&&(Pr(br.layers),br.assets)){var wr,Br=br.assets.length;for(wr=0;wr<Br;wr+=1)br.assets[wr].layers&&Pr(br.assets[wr].layers)}}})(),sr=(function(){var jr=[4,7,99];return function(xr){if(xr.chars&&!ar(jr,xr.v)){var Pr,br=xr.chars.length;for(Pr=0;Pr<br;Pr+=1){var wr=xr.chars[Pr];wr.data&&wr.data.shapes&&(tr(wr.data.shapes),wr.data.ip=0,wr.data.op=99999,wr.data.st=0,wr.data.sr=1,wr.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},xr.chars[Pr].t||(wr.data.shapes.push({ty:"no"}),wr.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}})(),dr=(function(){var jr=[5,7,15];function xr(br){var wr=br.t.p;typeof wr.a=="number"&&(wr.a={a:0,k:wr.a}),typeof wr.p=="number"&&(wr.p={a:0,k:wr.p}),typeof wr.r=="number"&&(wr.r={a:0,k:wr.r})}function Pr(br){var wr,Br=br.length;for(wr=0;wr<Br;wr+=1)br[wr].ty===5&&xr(br[wr])}return function(br){if(ar(jr,br.v)&&(Pr(br.layers),br.assets)){var wr,Br=br.assets.length;for(wr=0;wr<Br;wr+=1)br.assets[wr].layers&&Pr(br.assets[wr].layers)}}})(),_r=(function(){var jr=[4,1,9];function xr(br){var wr,Br=br.length,Lr,yr;for(wr=0;wr<Br;wr+=1)if(br[wr].ty==="gr")xr(br[wr].it);else if(br[wr].ty==="fl"||br[wr].ty==="st")if(br[wr].c.k&&br[wr].c.k[0].i)for(yr=br[wr].c.k.length,Lr=0;Lr<yr;Lr+=1)br[wr].c.k[Lr].s&&(br[wr].c.k[Lr].s[0]/=255,br[wr].c.k[Lr].s[1]/=255,br[wr].c.k[Lr].s[2]/=255,br[wr].c.k[Lr].s[3]/=255),br[wr].c.k[Lr].e&&(br[wr].c.k[Lr].e[0]/=255,br[wr].c.k[Lr].e[1]/=255,br[wr].c.k[Lr].e[2]/=255,br[wr].c.k[Lr].e[3]/=255);else br[wr].c.k[0]/=255,br[wr].c.k[1]/=255,br[wr].c.k[2]/=255,br[wr].c.k[3]/=255}function Pr(br){var wr,Br=br.length;for(wr=0;wr<Br;wr+=1)br[wr].ty===4&&xr(br[wr].shapes)}return function(br){if(ar(jr,br.v)&&(Pr(br.layers),br.assets)){var wr,Br=br.assets.length;for(wr=0;wr<Br;wr+=1)br.assets[wr].layers&&Pr(br.assets[wr].layers)}}})(),fr=(function(){var jr=[4,4,18];function xr(br){var wr,Br=br.length,Lr,yr;for(wr=Br-1;wr>=0;wr-=1)if(br[wr].ty==="sh")if(br[wr].ks.k.i)br[wr].ks.k.c=br[wr].closed;else for(yr=br[wr].ks.k.length,Lr=0;Lr<yr;Lr+=1)br[wr].ks.k[Lr].s&&(br[wr].ks.k[Lr].s[0].c=br[wr].closed),br[wr].ks.k[Lr].e&&(br[wr].ks.k[Lr].e[0].c=br[wr].closed);else br[wr].ty==="gr"&&xr(br[wr].it)}function Pr(br){var wr,Br,Lr=br.length,yr,vr,Tr,Or;for(Br=0;Br<Lr;Br+=1){if(wr=br[Br],wr.hasMask){var Nr=wr.masksProperties;for(vr=Nr.length,yr=0;yr<vr;yr+=1)if(Nr[yr].pt.k.i)Nr[yr].pt.k.c=Nr[yr].cl;else for(Or=Nr[yr].pt.k.length,Tr=0;Tr<Or;Tr+=1)Nr[yr].pt.k[Tr].s&&(Nr[yr].pt.k[Tr].s[0].c=Nr[yr].cl),Nr[yr].pt.k[Tr].e&&(Nr[yr].pt.k[Tr].e[0].c=Nr[yr].cl)}wr.ty===4&&xr(wr.shapes)}}return function(br){if(ar(jr,br.v)&&(Pr(br.layers),br.assets)){var wr,Br=br.assets.length;for(wr=0;wr<Br;wr+=1)br.assets[wr].layers&&Pr(br.assets[wr].layers)}}})();function or(jr){jr.__complete||(_r(jr),nr(jr),sr(jr),dr(jr),fr(jr),Xe(jr.layers,jr.assets),Ye(jr.chars,jr.assets),jr.__complete=!0)}function Er(jr){jr.t.a.length===0&&"m"in jr.t.p}var Rr={};return Rr.completeData=or,Rr.checkColors=_r,Rr.checkChars=sr,Rr.checkPathProperties=dr,Rr.checkShapes=fr,Rr.completeLayers=Xe,Rr}if(Fe.dataManager||(Fe.dataManager=qe()),Fe.assetLoader||(Fe.assetLoader=(function(){function Xe(Ze){var Je=Ze.getResponseHeader("content-type");return Je&&Ze.responseType==="json"&&Je.indexOf("json")!==-1||Ze.response&&_typeof$5(Ze.response)==="object"?Ze.response:Ze.response&&typeof Ze.response=="string"?JSON.parse(Ze.response):Ze.responseText?JSON.parse(Ze.responseText):null}function Ye(Ze,Je,tr,rr){var ar,nr=new XMLHttpRequest;try{nr.responseType="json"}catch{}nr.onreadystatechange=function(){if(nr.readyState===4)if(nr.status===200)ar=Xe(nr),tr(ar);else try{ar=Xe(nr),tr(ar)}catch(sr){rr&&rr(sr)}};try{nr.open(["G","E","T"].join(""),Ze,!0)}catch{nr.open(["G","E","T"].join(""),Je+"/"+Ze,!0)}nr.send()}return{load:Ye}})()),We.data.type==="loadAnimation")Fe.assetLoader.load(We.data.path,We.data.fullPath,function(Xe){Fe.dataManager.completeData(Xe),Fe.postMessage({id:We.data.id,payload:Xe,status:"success"})},function(){Fe.postMessage({id:We.data.id,status:"error"})});else if(We.data.type==="complete"){var Ke=We.data.animation;Fe.dataManager.completeData(Ke),Fe.postMessage({id:We.data.id,payload:Ke,status:"success"})}else We.data.type==="loadData"&&Fe.assetLoader.load(We.data.path,We.data.fullPath,function(Xe){Fe.postMessage({id:We.data.id,payload:Xe,status:"success"})},function(){Fe.postMessage({id:We.data.id,status:"error"})})}),Be.onmessage=function(Qe){var We=Qe.data,qe=We.id,Ke=Re[qe];Re[qe]=null,We.status==="success"?Ke.onComplete(We.payload):Ke.onError&&Ke.onError()})}function Me(Qe,We){Ce+=1;var qe="processId_"+Ce;return Re[qe]={onComplete:Qe,onError:We},qe}function Ue(Qe,We,qe){ke();var Ke=Me(We,qe);Be.postMessage({type:"loadAnimation",path:Qe,fullPath:window.location.origin+window.location.pathname,id:Ke})}function $e(Qe,We,qe){ke();var Ke=Me(We,qe);Be.postMessage({type:"loadData",path:Qe,fullPath:window.location.origin+window.location.pathname,id:Ke})}function He(Qe,We,qe){ke();var Ke=Me(We,qe);Be.postMessage({type:"complete",animation:Qe,id:Ke})}return{loadAnimation:Ue,loadData:$e,completeAnimation:He}})(),ImagePreloader=(function(){var Ce=(function(){var Ye=createTag("canvas");Ye.width=1,Ye.height=1;var Ze=Ye.getContext("2d");return Ze.fillStyle="rgba(0,0,0,0)",Ze.fillRect(0,0,1,1),Ye})();function Re(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function je(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Be(Ye,Ze,Je){var tr="";if(Ye.e)tr=Ye.p;else if(Ze){var rr=Ye.p;rr.indexOf("images/")!==-1&&(rr=rr.split("/")[1]),tr=Ze+rr}else tr=Je,tr+=Ye.u?Ye.u:"",tr+=Ye.p;return tr}function De(Ye){var Ze=0,Je=setInterval((function(){var tr=Ye.getBBox();(tr.width||Ze>500)&&(this._imageLoaded(),clearInterval(Je)),Ze+=1}).bind(this),50)}function Fe(Ye){var Ze=Be(Ye,this.assetsPath,this.path),Je=createNS("image");isSafari?this.testImageLoaded(Je):Je.addEventListener("load",this._imageLoaded,!1),Je.addEventListener("error",(function(){tr.img=Ce,this._imageLoaded()}).bind(this),!1),Je.setAttributeNS("http://www.w3.org/1999/xlink","href",Ze),this._elementHelper.append?this._elementHelper.append(Je):this._elementHelper.appendChild(Je);var tr={img:Je,assetData:Ye};return tr}function Oe(Ye){var Ze=Be(Ye,this.assetsPath,this.path),Je=createTag("img");Je.crossOrigin="anonymous",Je.addEventListener("load",this._imageLoaded,!1),Je.addEventListener("error",(function(){tr.img=Ce,this._imageLoaded()}).bind(this),!1),Je.src=Ze;var tr={img:Je,assetData:Ye};return tr}function ke(Ye){var Ze={assetData:Ye},Je=Be(Ye,this.assetsPath,this.path);return dataManager.loadData(Je,(function(tr){Ze.img=tr,this._footageLoaded()}).bind(this),(function(){Ze.img={},this._footageLoaded()}).bind(this)),Ze}function Me(Ye,Ze){this.imagesLoadedCb=Ze;var Je,tr=Ye.length;for(Je=0;Je<tr;Je+=1)Ye[Je].layers||(!Ye[Je].t||Ye[Je].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Ye[Je]))):Ye[Je].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Ye[Je]))))}function Ue(Ye){this.path=Ye||""}function $e(Ye){this.assetsPath=Ye||""}function He(Ye){for(var Ze=0,Je=this.images.length;Ze<Je;){if(this.images[Ze].assetData===Ye)return this.images[Ze].img;Ze+=1}return null}function Qe(){this.imagesLoadedCb=null,this.images.length=0}function We(){return this.totalImages===this.loadedAssets}function qe(){return this.totalFootages===this.loadedFootagesCount}function Ke(Ye,Ze){Ye==="svg"?(this._elementHelper=Ze,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Xe(){this._imageLoaded=Re.bind(this),this._footageLoaded=je.bind(this),this.testImageLoaded=De.bind(this),this.createFootageData=ke.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Xe.prototype={loadAssets:Me,setAssetsPath:$e,setPath:Ue,loadedImages:We,loadedFootages:qe,destroy:Qe,getAsset:He,createImgData:Oe,createImageData:Fe,imageLoaded:Re,footageLoaded:je,setCacheType:Ke},Xe})();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(Re,je){if(this._cbs[Re])for(var Be=this._cbs[Re],De=0;De<Be.length;De+=1)Be[De](je)},addEventListener:function(Re,je){return this._cbs[Re]||(this._cbs[Re]=[]),this._cbs[Re].push(je),(function(){this.removeEventListener(Re,je)}).bind(this)},removeEventListener:function(Re,je){if(!je)this._cbs[Re]=null;else if(this._cbs[Re]){for(var Be=0,De=this._cbs[Re].length;Be<De;)this._cbs[Re][Be]===je&&(this._cbs[Re].splice(Be,1),Be-=1,De-=1),Be+=1;this._cbs[Re].length||(this._cbs[Re]=null)}}};var markerParser=(function(){function Ce(Re){for(var je=Re.split(`\r
`),Be={},De,Fe=0,Oe=0;Oe<je.length;Oe+=1)De=je[Oe].split(":"),De.length===2&&(Be[De[0]]=De[1].trim(),Fe+=1);if(Fe===0)throw new Error;return Be}return function(Re){for(var je=[],Be=0;Be<Re.length;Be+=1){var De=Re[Be],Fe={time:De.tm,duration:De.dr};try{Fe.payload=JSON.parse(Re[Be].cm)}catch{try{Fe.payload=Ce(Re[Be].cm)}catch{Fe.payload={name:Re[Be].cm}}}je.push(Fe)}return je}})(),ProjectInterface=(function(){function Ce(Re){this.compositions.push(Re)}return function(){function Re(je){for(var Be=0,De=this.compositions.length;Be<De;){if(this.compositions[Be].data&&this.compositions[Be].data.nm===je)return this.compositions[Be].prepareFrame&&this.compositions[Be].data.xt&&this.compositions[Be].prepareFrame(this.currentFrame),this.compositions[Be].compInterface;Be+=1}return null}return Re.compositions=[],Re.currentFrame=0,Re.registerComposition=Ce,Re}})(),renderers={},registerRenderer=function(Re,je){renderers[Re]=je};function getRenderer(Ce){return renderers[Ce]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var Ce in renderers)if(renderers[Ce])return Ce;return""}function _typeof$4(Ce){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},_typeof$4(Ce)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(Ce){(Ce.wrapper||Ce.container)&&(this.wrapper=Ce.wrapper||Ce.container);var Re="svg";Ce.animType?Re=Ce.animType:Ce.renderer&&(Re=Ce.renderer);var je=getRenderer(Re);this.renderer=new je(this,Ce.rendererSettings),this.imagePreloader.setCacheType(Re,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=Re,Ce.loop===""||Ce.loop===null||Ce.loop===void 0||Ce.loop===!0?this.loop=!0:Ce.loop===!1?this.loop=!1:this.loop=parseInt(Ce.loop,10),this.autoplay="autoplay"in Ce?Ce.autoplay:!0,this.name=Ce.name?Ce.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(Ce,"autoloadSegments")?Ce.autoloadSegments:!0,this.assetsPath=Ce.assetsPath,this.initialSegment=Ce.initialSegment,Ce.audioFactory&&this.audioController.setAudioFactory(Ce.audioFactory),Ce.animationData?this.setupAnimation(Ce.animationData):Ce.path&&(Ce.path.lastIndexOf("\\")!==-1?this.path=Ce.path.substr(0,Ce.path.lastIndexOf("\\")+1):this.path=Ce.path.substr(0,Ce.path.lastIndexOf("/")+1),this.fileName=Ce.path.substr(Ce.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(Ce.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(Ce){dataManager.completeAnimation(Ce,this.configAnimation)},AnimationItem.prototype.setData=function(Ce,Re){Re&&_typeof$4(Re)!=="object"&&(Re=JSON.parse(Re));var je={wrapper:Ce,animationData:Re},Be=Ce.attributes;je.path=Be.getNamedItem("data-animation-path")?Be.getNamedItem("data-animation-path").value:Be.getNamedItem("data-bm-path")?Be.getNamedItem("data-bm-path").value:Be.getNamedItem("bm-path")?Be.getNamedItem("bm-path").value:"",je.animType=Be.getNamedItem("data-anim-type")?Be.getNamedItem("data-anim-type").value:Be.getNamedItem("data-bm-type")?Be.getNamedItem("data-bm-type").value:Be.getNamedItem("bm-type")?Be.getNamedItem("bm-type").value:Be.getNamedItem("data-bm-renderer")?Be.getNamedItem("data-bm-renderer").value:Be.getNamedItem("bm-renderer")?Be.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var De=Be.getNamedItem("data-anim-loop")?Be.getNamedItem("data-anim-loop").value:Be.getNamedItem("data-bm-loop")?Be.getNamedItem("data-bm-loop").value:Be.getNamedItem("bm-loop")?Be.getNamedItem("bm-loop").value:"";De==="false"?je.loop=!1:De==="true"?je.loop=!0:De!==""&&(je.loop=parseInt(De,10));var Fe=Be.getNamedItem("data-anim-autoplay")?Be.getNamedItem("data-anim-autoplay").value:Be.getNamedItem("data-bm-autoplay")?Be.getNamedItem("data-bm-autoplay").value:Be.getNamedItem("bm-autoplay")?Be.getNamedItem("bm-autoplay").value:!0;je.autoplay=Fe!=="false",je.name=Be.getNamedItem("data-name")?Be.getNamedItem("data-name").value:Be.getNamedItem("data-bm-name")?Be.getNamedItem("data-bm-name").value:Be.getNamedItem("bm-name")?Be.getNamedItem("bm-name").value:"";var Oe=Be.getNamedItem("data-anim-prerender")?Be.getNamedItem("data-anim-prerender").value:Be.getNamedItem("data-bm-prerender")?Be.getNamedItem("data-bm-prerender").value:Be.getNamedItem("bm-prerender")?Be.getNamedItem("bm-prerender").value:"";Oe==="false"&&(je.prerender=!1),je.path?this.setParams(je):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(Ce){Ce.op>this.animationData.op&&(this.animationData.op=Ce.op,this.totalFrames=Math.floor(Ce.op-this.animationData.ip));var Re=this.animationData.layers,je,Be=Re.length,De=Ce.layers,Fe,Oe=De.length;for(Fe=0;Fe<Oe;Fe+=1)for(je=0;je<Be;){if(Re[je].id===De[Fe].id){Re[je]=De[Fe];break}je+=1}if((Ce.chars||Ce.fonts)&&(this.renderer.globalData.fontManager.addChars(Ce.chars),this.renderer.globalData.fontManager.addFonts(Ce.fonts,this.renderer.globalData.defs)),Ce.assets)for(Be=Ce.assets.length,je=0;je<Be;je+=1)this.animationData.assets.push(Ce.assets[je]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(Ce){this.animationData=Ce;var Re=getExpressionsPlugin();Re&&Re.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var Ce=this.animationData.segments;if(!Ce||Ce.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var Re=Ce.shift();this.timeCompleted=Re.time*this.frameRate;var je=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(je,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var Ce=this.animationData.segments;Ce||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(Ce){if(this.renderer)try{this.animationData=Ce,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(Ce),Ce.assets||(Ce.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(Ce.assets),this.markers=markerParser(Ce.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(Re){this.triggerConfigError(Re)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var Ce=getExpressionsPlugin();Ce&&Ce.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(Ce,Re){var je=typeof Ce=="number"?Ce:void 0,Be=typeof Re=="number"?Re:void 0;this.renderer.updateContainerSize(je,Be)},AnimationItem.prototype.setSubframe=function(Ce){this.isSubframeEnabled=!!Ce},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(Ce){this.triggerRenderFrameError(Ce)}},AnimationItem.prototype.play=function(Ce){Ce&&this.name!==Ce||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(Ce){Ce&&this.name!==Ce||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(Ce){Ce&&this.name!==Ce||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(Ce){Ce&&this.name!==Ce||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(Ce){for(var Re,je=0;je<this.markers.length;je+=1)if(Re=this.markers[je],Re.payload&&Re.payload.name===Ce)return Re;return null},AnimationItem.prototype.goToAndStop=function(Ce,Re,je){if(!(je&&this.name!==je)){var Be=Number(Ce);if(isNaN(Be)){var De=this.getMarkerData(Ce);De&&this.goToAndStop(De.time,!0)}else Re?this.setCurrentRawFrameValue(Ce):this.setCurrentRawFrameValue(Ce*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(Ce,Re,je){if(!(je&&this.name!==je)){var Be=Number(Ce);if(isNaN(Be)){var De=this.getMarkerData(Ce);De&&(De.duration?this.playSegments([De.time,De.time+De.duration],!0):this.goToAndStop(De.time,!0))}else this.goToAndStop(Be,Re,je);this.play()}},AnimationItem.prototype.advanceTime=function(Ce){if(!(this.isPaused===!0||this.isLoaded===!1)){var Re=this.currentRawFrame+Ce*this.frameModifier,je=!1;Re>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(Re>this.totalFrames?Re%this.totalFrames:0)||(je=!0,Re=this.totalFrames-1):Re>=this.totalFrames?(this.playCount+=1,this.checkSegments(Re%this.totalFrames)||(this.setCurrentRawFrameValue(Re%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(Re):Re<0?this.checkSegments(Re%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+Re%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(je=!0,Re=0)):this.setCurrentRawFrameValue(Re),je&&(this.setCurrentRawFrameValue(Re),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(Ce,Re){this.playCount=0,Ce[1]<Ce[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=Ce[0]-Ce[1],this.timeCompleted=this.totalFrames,this.firstFrame=Ce[1],this.setCurrentRawFrameValue(this.totalFrames-.001-Re)):Ce[1]>Ce[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=Ce[1]-Ce[0],this.timeCompleted=this.totalFrames,this.firstFrame=Ce[0],this.setCurrentRawFrameValue(.001+Re)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(Ce,Re){var je=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<Ce?je=Ce:this.currentRawFrame+this.firstFrame>Re&&(je=Re-Ce)),this.firstFrame=Ce,this.totalFrames=Re-Ce,this.timeCompleted=this.totalFrames,je!==-1&&this.goToAndStop(je,!0)},AnimationItem.prototype.playSegments=function(Ce,Re){if(Re&&(this.segments.length=0),_typeof$4(Ce[0])==="object"){var je,Be=Ce.length;for(je=0;je<Be;je+=1)this.segments.push(Ce[je])}else this.segments.push(Ce);this.segments.length&&Re&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(Ce){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),Ce&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(Ce){return this.segments.length?(this.adjustSegment(this.segments.shift(),Ce),!0):!1},AnimationItem.prototype.destroy=function(Ce){Ce&&this.name!==Ce||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(Ce){this.currentRawFrame=Ce,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(Ce){this.playSpeed=Ce,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(Ce){this.playDirection=Ce<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(Ce){this.loop=Ce},AnimationItem.prototype.setVolume=function(Ce,Re){Re&&this.name!==Re||this.audioController.setVolume(Ce)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(Ce){Ce&&this.name!==Ce||this.audioController.mute()},AnimationItem.prototype.unmute=function(Ce){Ce&&this.name!==Ce||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(Ce){var Re="";if(Ce.e)Re=Ce.p;else if(this.assetsPath){var je=Ce.p;je.indexOf("images/")!==-1&&(je=je.split("/")[1]),Re=this.assetsPath+je}else Re=this.path,Re+=Ce.u?Ce.u:"",Re+=Ce.p;return Re},AnimationItem.prototype.getAssetData=function(Ce){for(var Re=0,je=this.assets.length;Re<je;){if(Ce===this.assets[Re].id)return this.assets[Re];Re+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(Ce){return Ce?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(Ce,Re,je){try{var Be=this.renderer.getElementByPath(Ce);Be.updateDocumentData(Re,je)}catch{}},AnimationItem.prototype.trigger=function(Ce){if(this._cbs&&this._cbs[Ce])switch(Ce){case"enterFrame":this.triggerEvent(Ce,new BMEnterFrameEvent(Ce,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(Ce,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(Ce,new BMCompleteLoopEvent(Ce,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(Ce,new BMCompleteEvent(Ce,this.frameMult));break;case"segmentStart":this.triggerEvent(Ce,new BMSegmentStartEvent(Ce,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(Ce,new BMDestroyEvent(Ce,this));break;default:this.triggerEvent(Ce)}Ce==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(Ce,this.currentFrame,this.totalFrames,this.frameMult)),Ce==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(Ce,this.loop,this.playCount,this.frameMult)),Ce==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(Ce,this.frameMult)),Ce==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(Ce,this.firstFrame,this.totalFrames)),Ce==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(Ce,this))},AnimationItem.prototype.triggerRenderFrameError=function(Ce){var Re=new BMRenderFrameErrorEvent(Ce,this.currentFrame);this.triggerEvent("error",Re),this.onError&&this.onError.call(this,Re)},AnimationItem.prototype.triggerConfigError=function(Ce){var Re=new BMConfigErrorEvent(Ce,this.currentFrame);this.triggerEvent("error",Re),this.onError&&this.onError.call(this,Re)};var animationManager=(function(){var Ce={},Re=[],je=0,Be=0,De=0,Fe=!0,Oe=!1;function ke(xr){for(var Pr=0,br=xr.target;Pr<Be;)Re[Pr].animation===br&&(Re.splice(Pr,1),Pr-=1,Be-=1,br.isPaused||He()),Pr+=1}function Me(xr,Pr){if(!xr)return null;for(var br=0;br<Be;){if(Re[br].elem===xr&&Re[br].elem!==null)return Re[br].animation;br+=1}var wr=new AnimationItem;return Qe(wr,xr),wr.setData(xr,Pr),wr}function Ue(){var xr,Pr=Re.length,br=[];for(xr=0;xr<Pr;xr+=1)br.push(Re[xr].animation);return br}function $e(){De+=1,_r()}function He(){De-=1}function Qe(xr,Pr){xr.addEventListener("destroy",ke),xr.addEventListener("_active",$e),xr.addEventListener("_idle",He),Re.push({elem:Pr,animation:xr}),Be+=1}function We(xr){var Pr=new AnimationItem;return Qe(Pr,null),Pr.setParams(xr),Pr}function qe(xr,Pr){var br;for(br=0;br<Be;br+=1)Re[br].animation.setSpeed(xr,Pr)}function Ke(xr,Pr){var br;for(br=0;br<Be;br+=1)Re[br].animation.setDirection(xr,Pr)}function Xe(xr){var Pr;for(Pr=0;Pr<Be;Pr+=1)Re[Pr].animation.play(xr)}function Ye(xr){var Pr=xr-je,br;for(br=0;br<Be;br+=1)Re[br].animation.advanceTime(Pr);je=xr,De&&!Oe?window.requestAnimationFrame(Ye):Fe=!0}function Ze(xr){je=xr,window.requestAnimationFrame(Ye)}function Je(xr){var Pr;for(Pr=0;Pr<Be;Pr+=1)Re[Pr].animation.pause(xr)}function tr(xr,Pr,br){var wr;for(wr=0;wr<Be;wr+=1)Re[wr].animation.goToAndStop(xr,Pr,br)}function rr(xr){var Pr;for(Pr=0;Pr<Be;Pr+=1)Re[Pr].animation.stop(xr)}function ar(xr){var Pr;for(Pr=0;Pr<Be;Pr+=1)Re[Pr].animation.togglePause(xr)}function nr(xr){var Pr;for(Pr=Be-1;Pr>=0;Pr-=1)Re[Pr].animation.destroy(xr)}function sr(xr,Pr,br){var wr=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Br,Lr=wr.length;for(Br=0;Br<Lr;Br+=1)br&&wr[Br].setAttribute("data-bm-type",br),Me(wr[Br],xr);if(Pr&&Lr===0){br||(br="svg");var yr=document.getElementsByTagName("body")[0];yr.innerText="";var vr=createTag("div");vr.style.width="100%",vr.style.height="100%",vr.setAttribute("data-bm-type",br),yr.appendChild(vr),Me(vr,xr)}}function dr(){var xr;for(xr=0;xr<Be;xr+=1)Re[xr].animation.resize()}function _r(){!Oe&&De&&Fe&&(window.requestAnimationFrame(Ze),Fe=!1)}function fr(){Oe=!0}function or(){Oe=!1,_r()}function Er(xr,Pr){var br;for(br=0;br<Be;br+=1)Re[br].animation.setVolume(xr,Pr)}function Rr(xr){var Pr;for(Pr=0;Pr<Be;Pr+=1)Re[Pr].animation.mute(xr)}function jr(xr){var Pr;for(Pr=0;Pr<Be;Pr+=1)Re[Pr].animation.unmute(xr)}return Ce.registerAnimation=Me,Ce.loadAnimation=We,Ce.setSpeed=qe,Ce.setDirection=Ke,Ce.play=Xe,Ce.pause=Je,Ce.stop=rr,Ce.togglePause=ar,Ce.searchAnimations=sr,Ce.resize=dr,Ce.goToAndStop=tr,Ce.destroy=nr,Ce.freeze=fr,Ce.unfreeze=or,Ce.setVolume=Er,Ce.mute=Rr,Ce.unmute=jr,Ce.getRegisteredAnimations=Ue,Ce})(),BezierFactory=(function(){var Ce={};Ce.getBezierEasing=je;var Re={};function je(Ze,Je,tr,rr,ar){var nr=ar||("bez_"+Ze+"_"+Je+"_"+tr+"_"+rr).replace(/\./g,"p");if(Re[nr])return Re[nr];var sr=new Ye([Ze,Je,tr,rr]);return Re[nr]=sr,sr}var Be=4,De=.001,Fe=1e-7,Oe=10,ke=11,Me=1/(ke-1),Ue=typeof Float32Array=="function";function $e(Ze,Je){return 1-3*Je+3*Ze}function He(Ze,Je){return 3*Je-6*Ze}function Qe(Ze){return 3*Ze}function We(Ze,Je,tr){return(($e(Je,tr)*Ze+He(Je,tr))*Ze+Qe(Je))*Ze}function qe(Ze,Je,tr){return 3*$e(Je,tr)*Ze*Ze+2*He(Je,tr)*Ze+Qe(Je)}function Ke(Ze,Je,tr,rr,ar){var nr,sr,dr=0;do sr=Je+(tr-Je)/2,nr=We(sr,rr,ar)-Ze,nr>0?tr=sr:Je=sr;while(Math.abs(nr)>Fe&&++dr<Oe);return sr}function Xe(Ze,Je,tr,rr){for(var ar=0;ar<Be;++ar){var nr=qe(Je,tr,rr);if(nr===0)return Je;var sr=We(Je,tr,rr)-Ze;Je-=sr/nr}return Je}function Ye(Ze){this._p=Ze,this._mSampleValues=Ue?new Float32Array(ke):new Array(ke),this._precomputed=!1,this.get=this.get.bind(this)}return Ye.prototype={get:function(Je){var tr=this._p[0],rr=this._p[1],ar=this._p[2],nr=this._p[3];return this._precomputed||this._precompute(),tr===rr&&ar===nr?Je:Je===0?0:Je===1?1:We(this._getTForX(Je),rr,nr)},_precompute:function(){var Je=this._p[0],tr=this._p[1],rr=this._p[2],ar=this._p[3];this._precomputed=!0,(Je!==tr||rr!==ar)&&this._calcSampleValues()},_calcSampleValues:function(){for(var Je=this._p[0],tr=this._p[2],rr=0;rr<ke;++rr)this._mSampleValues[rr]=We(rr*Me,Je,tr)},_getTForX:function(Je){for(var tr=this._p[0],rr=this._p[2],ar=this._mSampleValues,nr=0,sr=1,dr=ke-1;sr!==dr&&ar[sr]<=Je;++sr)nr+=Me;--sr;var _r=(Je-ar[sr])/(ar[sr+1]-ar[sr]),fr=nr+_r*Me,or=qe(fr,tr,rr);return or>=De?Xe(Je,fr,tr,rr):or===0?fr:Ke(Je,nr,nr+Me,tr,rr)}},Ce})(),pooling=(function(){function Ce(Re){return Re.concat(createSizedArray(Re.length))}return{double:Ce}})(),poolFactory=(function(){return function(Ce,Re,je){var Be=0,De=Ce,Fe=createSizedArray(De),Oe={newElement:ke,release:Me};function ke(){var Ue;return Be?(Be-=1,Ue=Fe[Be]):Ue=Re(),Ue}function Me(Ue){Be===De&&(Fe=pooling.double(Fe),De*=2),je&&je(Ue),Fe[Be]=Ue,Be+=1}return Oe}})(),bezierLengthPool=(function(){function Ce(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,Ce)})(),segmentsLengthPool=(function(){function Ce(){return{lengths:[],totalLength:0}}function Re(je){var Be,De=je.lengths.length;for(Be=0;Be<De;Be+=1)bezierLengthPool.release(je.lengths[Be]);je.lengths.length=0}return poolFactory(8,Ce,Re)})();function bezFunction(){var Ce=Math;function Re(Qe,We,qe,Ke,Xe,Ye){var Ze=Qe*Ke+We*Xe+qe*Ye-Xe*Ke-Ye*Qe-qe*We;return Ze>-.001&&Ze<.001}function je(Qe,We,qe,Ke,Xe,Ye,Ze,Je,tr){if(qe===0&&Ye===0&&tr===0)return Re(Qe,We,Ke,Xe,Ze,Je);var rr=Ce.sqrt(Ce.pow(Ke-Qe,2)+Ce.pow(Xe-We,2)+Ce.pow(Ye-qe,2)),ar=Ce.sqrt(Ce.pow(Ze-Qe,2)+Ce.pow(Je-We,2)+Ce.pow(tr-qe,2)),nr=Ce.sqrt(Ce.pow(Ze-Ke,2)+Ce.pow(Je-Xe,2)+Ce.pow(tr-Ye,2)),sr;return rr>ar?rr>nr?sr=rr-ar-nr:sr=nr-ar-rr:nr>ar?sr=nr-ar-rr:sr=ar-rr-nr,sr>-1e-4&&sr<1e-4}var Be=(function(){return function(Qe,We,qe,Ke){var Xe=getDefaultCurveSegments(),Ye,Ze,Je,tr,rr,ar=0,nr,sr=[],dr=[],_r=bezierLengthPool.newElement();for(Je=qe.length,Ye=0;Ye<Xe;Ye+=1){for(rr=Ye/(Xe-1),nr=0,Ze=0;Ze<Je;Ze+=1)tr=bmPow(1-rr,3)*Qe[Ze]+3*bmPow(1-rr,2)*rr*qe[Ze]+3*(1-rr)*bmPow(rr,2)*Ke[Ze]+bmPow(rr,3)*We[Ze],sr[Ze]=tr,dr[Ze]!==null&&(nr+=bmPow(sr[Ze]-dr[Ze],2)),dr[Ze]=sr[Ze];nr&&(nr=bmSqrt(nr),ar+=nr),_r.percents[Ye]=rr,_r.lengths[Ye]=ar}return _r.addedLength=ar,_r}})();function De(Qe){var We=segmentsLengthPool.newElement(),qe=Qe.c,Ke=Qe.v,Xe=Qe.o,Ye=Qe.i,Ze,Je=Qe._length,tr=We.lengths,rr=0;for(Ze=0;Ze<Je-1;Ze+=1)tr[Ze]=Be(Ke[Ze],Ke[Ze+1],Xe[Ze],Ye[Ze+1]),rr+=tr[Ze].addedLength;return qe&&Je&&(tr[Ze]=Be(Ke[Ze],Ke[0],Xe[Ze],Ye[0]),rr+=tr[Ze].addedLength),We.totalLength=rr,We}function Fe(Qe){this.segmentLength=0,this.points=new Array(Qe)}function Oe(Qe,We){this.partialLength=Qe,this.point=We}var ke=(function(){var Qe={};return function(We,qe,Ke,Xe){var Ye=(We[0]+"_"+We[1]+"_"+qe[0]+"_"+qe[1]+"_"+Ke[0]+"_"+Ke[1]+"_"+Xe[0]+"_"+Xe[1]).replace(/\./g,"p");if(!Qe[Ye]){var Ze=getDefaultCurveSegments(),Je,tr,rr,ar,nr,sr=0,dr,_r,fr=null;We.length===2&&(We[0]!==qe[0]||We[1]!==qe[1])&&Re(We[0],We[1],qe[0],qe[1],We[0]+Ke[0],We[1]+Ke[1])&&Re(We[0],We[1],qe[0],qe[1],qe[0]+Xe[0],qe[1]+Xe[1])&&(Ze=2);var or=new Fe(Ze);for(rr=Ke.length,Je=0;Je<Ze;Je+=1){for(_r=createSizedArray(rr),nr=Je/(Ze-1),dr=0,tr=0;tr<rr;tr+=1)ar=bmPow(1-nr,3)*We[tr]+3*bmPow(1-nr,2)*nr*(We[tr]+Ke[tr])+3*(1-nr)*bmPow(nr,2)*(qe[tr]+Xe[tr])+bmPow(nr,3)*qe[tr],_r[tr]=ar,fr!==null&&(dr+=bmPow(_r[tr]-fr[tr],2));dr=bmSqrt(dr),sr+=dr,or.points[Je]=new Oe(dr,_r),fr=_r}or.segmentLength=sr,Qe[Ye]=or}return Qe[Ye]}})();function Me(Qe,We){var qe=We.percents,Ke=We.lengths,Xe=qe.length,Ye=bmFloor((Xe-1)*Qe),Ze=Qe*We.addedLength,Je=0;if(Ye===Xe-1||Ye===0||Ze===Ke[Ye])return qe[Ye];for(var tr=Ke[Ye]>Ze?-1:1,rr=!0;rr;)if(Ke[Ye]<=Ze&&Ke[Ye+1]>Ze?(Je=(Ze-Ke[Ye])/(Ke[Ye+1]-Ke[Ye]),rr=!1):Ye+=tr,Ye<0||Ye>=Xe-1){if(Ye===Xe-1)return qe[Ye];rr=!1}return qe[Ye]+(qe[Ye+1]-qe[Ye])*Je}function Ue(Qe,We,qe,Ke,Xe,Ye){var Ze=Me(Xe,Ye),Je=1-Ze,tr=Ce.round((Je*Je*Je*Qe[0]+(Ze*Je*Je+Je*Ze*Je+Je*Je*Ze)*qe[0]+(Ze*Ze*Je+Je*Ze*Ze+Ze*Je*Ze)*Ke[0]+Ze*Ze*Ze*We[0])*1e3)/1e3,rr=Ce.round((Je*Je*Je*Qe[1]+(Ze*Je*Je+Je*Ze*Je+Je*Je*Ze)*qe[1]+(Ze*Ze*Je+Je*Ze*Ze+Ze*Je*Ze)*Ke[1]+Ze*Ze*Ze*We[1])*1e3)/1e3;return[tr,rr]}var $e=createTypedArray("float32",8);function He(Qe,We,qe,Ke,Xe,Ye,Ze){Xe<0?Xe=0:Xe>1&&(Xe=1);var Je=Me(Xe,Ze);Ye=Ye>1?1:Ye;var tr=Me(Ye,Ze),rr,ar=Qe.length,nr=1-Je,sr=1-tr,dr=nr*nr*nr,_r=Je*nr*nr*3,fr=Je*Je*nr*3,or=Je*Je*Je,Er=nr*nr*sr,Rr=Je*nr*sr+nr*Je*sr+nr*nr*tr,jr=Je*Je*sr+nr*Je*tr+Je*nr*tr,xr=Je*Je*tr,Pr=nr*sr*sr,br=Je*sr*sr+nr*tr*sr+nr*sr*tr,wr=Je*tr*sr+nr*tr*tr+Je*sr*tr,Br=Je*tr*tr,Lr=sr*sr*sr,yr=tr*sr*sr+sr*tr*sr+sr*sr*tr,vr=tr*tr*sr+sr*tr*tr+tr*sr*tr,Tr=tr*tr*tr;for(rr=0;rr<ar;rr+=1)$e[rr*4]=Ce.round((dr*Qe[rr]+_r*qe[rr]+fr*Ke[rr]+or*We[rr])*1e3)/1e3,$e[rr*4+1]=Ce.round((Er*Qe[rr]+Rr*qe[rr]+jr*Ke[rr]+xr*We[rr])*1e3)/1e3,$e[rr*4+2]=Ce.round((Pr*Qe[rr]+br*qe[rr]+wr*Ke[rr]+Br*We[rr])*1e3)/1e3,$e[rr*4+3]=Ce.round((Lr*Qe[rr]+yr*qe[rr]+vr*Ke[rr]+Tr*We[rr])*1e3)/1e3;return $e}return{getSegmentsLength:De,getNewSegment:He,getPointInSegment:Ue,buildBezierData:ke,pointOnLine2D:Re,pointOnLine3D:je}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(Ce,Re){var je=this.offsetTime,Be;this.propType==="multidimensional"&&(Be=createTypedArray("float32",this.pv.length));for(var De=Re.lastIndex,Fe=De,Oe=this.keyframes.length-1,ke=!0,Me,Ue,$e;ke;){if(Me=this.keyframes[Fe],Ue=this.keyframes[Fe+1],Fe===Oe-1&&Ce>=Ue.t-je){Me.h&&(Me=Ue),De=0;break}if(Ue.t-je>Ce){De=Fe;break}Fe<Oe-1?Fe+=1:(De=0,ke=!1)}$e=this.keyframesMetadata[Fe]||{};var He,Qe,We,qe,Ke,Xe,Ye=Ue.t-je,Ze=Me.t-je,Je;if(Me.to){$e.bezierData||($e.bezierData=bez.buildBezierData(Me.s,Ue.s||Me.e,Me.to,Me.ti));var tr=$e.bezierData;if(Ce>=Ye||Ce<Ze){var rr=Ce>=Ye?tr.points.length-1:0;for(Qe=tr.points[rr].point.length,He=0;He<Qe;He+=1)Be[He]=tr.points[rr].point[He]}else{$e.__fnct?Xe=$e.__fnct:(Xe=BezierFactory.getBezierEasing(Me.o.x,Me.o.y,Me.i.x,Me.i.y,Me.n).get,$e.__fnct=Xe),We=Xe((Ce-Ze)/(Ye-Ze));var ar=tr.segmentLength*We,nr,sr=Re.lastFrame<Ce&&Re._lastKeyframeIndex===Fe?Re._lastAddedLength:0;for(Ke=Re.lastFrame<Ce&&Re._lastKeyframeIndex===Fe?Re._lastPoint:0,ke=!0,qe=tr.points.length;ke;){if(sr+=tr.points[Ke].partialLength,ar===0||We===0||Ke===tr.points.length-1){for(Qe=tr.points[Ke].point.length,He=0;He<Qe;He+=1)Be[He]=tr.points[Ke].point[He];break}else if(ar>=sr&&ar<sr+tr.points[Ke+1].partialLength){for(nr=(ar-sr)/tr.points[Ke+1].partialLength,Qe=tr.points[Ke].point.length,He=0;He<Qe;He+=1)Be[He]=tr.points[Ke].point[He]+(tr.points[Ke+1].point[He]-tr.points[Ke].point[He])*nr;break}Ke<qe-1?Ke+=1:ke=!1}Re._lastPoint=Ke,Re._lastAddedLength=sr-tr.points[Ke].partialLength,Re._lastKeyframeIndex=Fe}}else{var dr,_r,fr,or,Er;if(Oe=Me.s.length,Je=Ue.s||Me.e,this.sh&&Me.h!==1)if(Ce>=Ye)Be[0]=Je[0],Be[1]=Je[1],Be[2]=Je[2];else if(Ce<=Ze)Be[0]=Me.s[0],Be[1]=Me.s[1],Be[2]=Me.s[2];else{var Rr=createQuaternion(Me.s),jr=createQuaternion(Je),xr=(Ce-Ze)/(Ye-Ze);quaternionToEuler(Be,slerp(Rr,jr,xr))}else for(Fe=0;Fe<Oe;Fe+=1)Me.h!==1&&(Ce>=Ye?We=1:Ce<Ze?We=0:(Me.o.x.constructor===Array?($e.__fnct||($e.__fnct=[]),$e.__fnct[Fe]?Xe=$e.__fnct[Fe]:(dr=Me.o.x[Fe]===void 0?Me.o.x[0]:Me.o.x[Fe],_r=Me.o.y[Fe]===void 0?Me.o.y[0]:Me.o.y[Fe],fr=Me.i.x[Fe]===void 0?Me.i.x[0]:Me.i.x[Fe],or=Me.i.y[Fe]===void 0?Me.i.y[0]:Me.i.y[Fe],Xe=BezierFactory.getBezierEasing(dr,_r,fr,or).get,$e.__fnct[Fe]=Xe)):$e.__fnct?Xe=$e.__fnct:(dr=Me.o.x,_r=Me.o.y,fr=Me.i.x,or=Me.i.y,Xe=BezierFactory.getBezierEasing(dr,_r,fr,or).get,Me.keyframeMetadata=Xe),We=Xe((Ce-Ze)/(Ye-Ze)))),Je=Ue.s||Me.e,Er=Me.h===1?Me.s[Fe]:Me.s[Fe]+(Je[Fe]-Me.s[Fe])*We,this.propType==="multidimensional"?Be[Fe]=Er:Be=Er}return Re.lastIndex=De,Be}function slerp(Ce,Re,je){var Be=[],De=Ce[0],Fe=Ce[1],Oe=Ce[2],ke=Ce[3],Me=Re[0],Ue=Re[1],$e=Re[2],He=Re[3],Qe,We,qe,Ke,Xe;return We=De*Me+Fe*Ue+Oe*$e+ke*He,We<0&&(We=-We,Me=-Me,Ue=-Ue,$e=-$e,He=-He),1-We>1e-6?(Qe=Math.acos(We),qe=Math.sin(Qe),Ke=Math.sin((1-je)*Qe)/qe,Xe=Math.sin(je*Qe)/qe):(Ke=1-je,Xe=je),Be[0]=Ke*De+Xe*Me,Be[1]=Ke*Fe+Xe*Ue,Be[2]=Ke*Oe+Xe*$e,Be[3]=Ke*ke+Xe*He,Be}function quaternionToEuler(Ce,Re){var je=Re[0],Be=Re[1],De=Re[2],Fe=Re[3],Oe=Math.atan2(2*Be*Fe-2*je*De,1-2*Be*Be-2*De*De),ke=Math.asin(2*je*Be+2*De*Fe),Me=Math.atan2(2*je*Fe-2*Be*De,1-2*je*je-2*De*De);Ce[0]=Oe/degToRads,Ce[1]=ke/degToRads,Ce[2]=Me/degToRads}function createQuaternion(Ce){var Re=Ce[0]*degToRads,je=Ce[1]*degToRads,Be=Ce[2]*degToRads,De=Math.cos(Re/2),Fe=Math.cos(je/2),Oe=Math.cos(Be/2),ke=Math.sin(Re/2),Me=Math.sin(je/2),Ue=Math.sin(Be/2),$e=De*Fe*Oe-ke*Me*Ue,He=ke*Me*Oe+De*Fe*Ue,Qe=ke*Fe*Oe+De*Me*Ue,We=De*Me*Oe-ke*Fe*Ue;return[He,Qe,We,$e]}function getValueAtCurrentTime(){var Ce=this.comp.renderedFrame-this.offsetTime,Re=this.keyframes[0].t-this.offsetTime,je=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(Ce===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=je&&Ce>=je||this._caching.lastFrame<Re&&Ce<Re))){this._caching.lastFrame>=Ce&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var Be=this.interpolateValue(Ce,this._caching);this.pv=Be}return this._caching.lastFrame=Ce,this.pv}function setVValue(Ce){var Re;if(this.propType==="unidimensional")Re=Ce*this.mult,mathAbs(this.v-Re)>1e-5&&(this.v=Re,this._mdf=!0);else for(var je=0,Be=this.v.length;je<Be;)Re=Ce[je]*this.mult,mathAbs(this.v[je]-Re)>1e-5&&(this.v[je]=Re,this._mdf=!0),je+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var Ce,Re=this.effectsSequence.length,je=this.kf?this.pv:this.data.k;for(Ce=0;Ce<Re;Ce+=1)je=this.effectsSequence[Ce](je);this.setVValue(je),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(Ce){this.effectsSequence.push(Ce),this.container.addDynamicProperty(this)}function ValueProperty(Ce,Re,je,Be){this.propType="unidimensional",this.mult=je||1,this.data=Re,this.v=je?Re.k*je:Re.k,this.pv=Re.k,this._mdf=!1,this.elem=Ce,this.container=Be,this.comp=Ce.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(Ce,Re,je,Be){this.propType="multidimensional",this.mult=je||1,this.data=Re,this._mdf=!1,this.elem=Ce,this.container=Be,this.comp=Ce.comp,this.k=!1,this.kf=!1,this.frameId=-1;var De,Fe=Re.k.length;for(this.v=createTypedArray("float32",Fe),this.pv=createTypedArray("float32",Fe),this.vel=createTypedArray("float32",Fe),De=0;De<Fe;De+=1)this.v[De]=Re.k[De]*this.mult,this.pv[De]=Re.k[De];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(Ce,Re,je,Be){this.propType="unidimensional",this.keyframes=Re.k,this.keyframesMetadata=[],this.offsetTime=Ce.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=Re,this.mult=je||1,this.elem=Ce,this.container=Be,this.comp=Ce.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(Ce,Re,je,Be){this.propType="multidimensional";var De,Fe=Re.k.length,Oe,ke,Me,Ue;for(De=0;De<Fe-1;De+=1)Re.k[De].to&&Re.k[De].s&&Re.k[De+1]&&Re.k[De+1].s&&(Oe=Re.k[De].s,ke=Re.k[De+1].s,Me=Re.k[De].to,Ue=Re.k[De].ti,(Oe.length===2&&!(Oe[0]===ke[0]&&Oe[1]===ke[1])&&bez.pointOnLine2D(Oe[0],Oe[1],ke[0],ke[1],Oe[0]+Me[0],Oe[1]+Me[1])&&bez.pointOnLine2D(Oe[0],Oe[1],ke[0],ke[1],ke[0]+Ue[0],ke[1]+Ue[1])||Oe.length===3&&!(Oe[0]===ke[0]&&Oe[1]===ke[1]&&Oe[2]===ke[2])&&bez.pointOnLine3D(Oe[0],Oe[1],Oe[2],ke[0],ke[1],ke[2],Oe[0]+Me[0],Oe[1]+Me[1],Oe[2]+Me[2])&&bez.pointOnLine3D(Oe[0],Oe[1],Oe[2],ke[0],ke[1],ke[2],ke[0]+Ue[0],ke[1]+Ue[1],ke[2]+Ue[2]))&&(Re.k[De].to=null,Re.k[De].ti=null),Oe[0]===ke[0]&&Oe[1]===ke[1]&&Me[0]===0&&Me[1]===0&&Ue[0]===0&&Ue[1]===0&&(Oe.length===2||Oe[2]===ke[2]&&Me[2]===0&&Ue[2]===0)&&(Re.k[De].to=null,Re.k[De].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=Re,this.keyframes=Re.k,this.keyframesMetadata=[],this.offsetTime=Ce.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=je||1,this.elem=Ce,this.container=Be,this.comp=Ce.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var $e=Re.k[0].s.length;for(this.v=createTypedArray("float32",$e),this.pv=createTypedArray("float32",$e),De=0;De<$e;De+=1)this.v[De]=initFrame,this.pv[De]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",$e)},this.addEffect=addEffect}var PropertyFactory=(function(){function Ce(je,Be,De,Fe,Oe){Be.sid&&(Be=je.globalData.slotManager.getProp(Be));var ke;if(!Be.k.length)ke=new ValueProperty(je,Be,Fe,Oe);else if(typeof Be.k[0]=="number")ke=new MultiDimensionalProperty(je,Be,Fe,Oe);else switch(De){case 0:ke=new KeyframedValueProperty(je,Be,Fe,Oe);break;case 1:ke=new KeyframedMultidimensionalProperty(je,Be,Fe,Oe);break}return ke.effectsSequence.length&&Oe.addDynamicProperty(ke),ke}var Re={getProp:Ce};return Re})();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(Re){this.dynamicProperties.indexOf(Re)===-1&&(this.dynamicProperties.push(Re),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var Re,je=this.dynamicProperties.length;for(Re=0;Re<je;Re+=1)this.dynamicProperties[Re].getValue(),this.dynamicProperties[Re]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(Re){this.container=Re,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=(function(){function Ce(){return createTypedArray("float32",2)}return poolFactory(8,Ce)})();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(Ce,Re){this.c=Ce,this.setLength(Re);for(var je=0;je<Re;)this.v[je]=pointPool.newElement(),this.o[je]=pointPool.newElement(),this.i[je]=pointPool.newElement(),je+=1},ShapePath.prototype.setLength=function(Ce){for(;this._maxLength<Ce;)this.doubleArrayLength();this._length=Ce},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(Ce,Re,je,Be,De){var Fe;switch(this._length=Math.max(this._length,Be+1),this._length>=this._maxLength&&this.doubleArrayLength(),je){case"v":Fe=this.v;break;case"i":Fe=this.i;break;case"o":Fe=this.o;break;default:Fe=[];break}(!Fe[Be]||Fe[Be]&&!De)&&(Fe[Be]=pointPool.newElement()),Fe[Be][0]=Ce,Fe[Be][1]=Re},ShapePath.prototype.setTripleAt=function(Ce,Re,je,Be,De,Fe,Oe,ke){this.setXYAt(Ce,Re,"v",Oe,ke),this.setXYAt(je,Be,"o",Oe,ke),this.setXYAt(De,Fe,"i",Oe,ke)},ShapePath.prototype.reverse=function(){var Ce=new ShapePath;Ce.setPathData(this.c,this._length);var Re=this.v,je=this.o,Be=this.i,De=0;this.c&&(Ce.setTripleAt(Re[0][0],Re[0][1],Be[0][0],Be[0][1],je[0][0],je[0][1],0,!1),De=1);var Fe=this._length-1,Oe=this._length,ke;for(ke=De;ke<Oe;ke+=1)Ce.setTripleAt(Re[Fe][0],Re[Fe][1],Be[Fe][0],Be[Fe][1],je[Fe][0],je[Fe][1],ke,!1),Fe-=1;return Ce},ShapePath.prototype.length=function(){return this._length};var shapePool=(function(){function Ce(){return new ShapePath}function Re(De){var Fe=De._length,Oe;for(Oe=0;Oe<Fe;Oe+=1)pointPool.release(De.v[Oe]),pointPool.release(De.i[Oe]),pointPool.release(De.o[Oe]),De.v[Oe]=null,De.i[Oe]=null,De.o[Oe]=null;De._length=0,De.c=!1}function je(De){var Fe=Be.newElement(),Oe,ke=De._length===void 0?De.v.length:De._length;for(Fe.setLength(ke),Fe.c=De.c,Oe=0;Oe<ke;Oe+=1)Fe.setTripleAt(De.v[Oe][0],De.v[Oe][1],De.o[Oe][0],De.o[Oe][1],De.i[Oe][0],De.i[Oe][1],Oe);return Fe}var Be=poolFactory(4,Ce,Re);return Be.clone=je,Be})();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(Ce){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=Ce,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var Ce;for(Ce=0;Ce<this._length;Ce+=1)shapePool.release(this.shapes[Ce]);this._length=0};var shapeCollectionPool=(function(){var Ce={newShapeCollection:De,release:Fe},Re=0,je=4,Be=createSizedArray(je);function De(){var Oe;return Re?(Re-=1,Oe=Be[Re]):Oe=new ShapeCollection,Oe}function Fe(Oe){var ke,Me=Oe._length;for(ke=0;ke<Me;ke+=1)shapePool.release(Oe.shapes[ke]);Oe._length=0,Re===je&&(Be=pooling.double(Be),je*=2),Be[Re]=Oe,Re+=1}return Ce})(),ShapePropertyFactory=(function(){var Ce=-999999;function Re(Ye,Ze,Je){var tr=Je.lastIndex,rr,ar,nr,sr,dr,_r,fr,or,Er,Rr=this.keyframes;if(Ye<Rr[0].t-this.offsetTime)rr=Rr[0].s[0],nr=!0,tr=0;else if(Ye>=Rr[Rr.length-1].t-this.offsetTime)rr=Rr[Rr.length-1].s?Rr[Rr.length-1].s[0]:Rr[Rr.length-2].e[0],nr=!0;else{for(var jr=tr,xr=Rr.length-1,Pr=!0,br,wr,Br;Pr&&(br=Rr[jr],wr=Rr[jr+1],!(wr.t-this.offsetTime>Ye));)jr<xr-1?jr+=1:Pr=!1;if(Br=this.keyframesMetadata[jr]||{},nr=br.h===1,tr=jr,!nr){if(Ye>=wr.t-this.offsetTime)or=1;else if(Ye<br.t-this.offsetTime)or=0;else{var Lr;Br.__fnct?Lr=Br.__fnct:(Lr=BezierFactory.getBezierEasing(br.o.x,br.o.y,br.i.x,br.i.y).get,Br.__fnct=Lr),or=Lr((Ye-(br.t-this.offsetTime))/(wr.t-this.offsetTime-(br.t-this.offsetTime)))}ar=wr.s?wr.s[0]:br.e[0]}rr=br.s[0]}for(_r=Ze._length,fr=rr.i[0].length,Je.lastIndex=tr,sr=0;sr<_r;sr+=1)for(dr=0;dr<fr;dr+=1)Er=nr?rr.i[sr][dr]:rr.i[sr][dr]+(ar.i[sr][dr]-rr.i[sr][dr])*or,Ze.i[sr][dr]=Er,Er=nr?rr.o[sr][dr]:rr.o[sr][dr]+(ar.o[sr][dr]-rr.o[sr][dr])*or,Ze.o[sr][dr]=Er,Er=nr?rr.v[sr][dr]:rr.v[sr][dr]+(ar.v[sr][dr]-rr.v[sr][dr])*or,Ze.v[sr][dr]=Er}function je(){var Ye=this.comp.renderedFrame-this.offsetTime,Ze=this.keyframes[0].t-this.offsetTime,Je=this.keyframes[this.keyframes.length-1].t-this.offsetTime,tr=this._caching.lastFrame;return tr!==Ce&&(tr<Ze&&Ye<Ze||tr>Je&&Ye>Je)||(this._caching.lastIndex=tr<Ye?this._caching.lastIndex:0,this.interpolateShape(Ye,this.pv,this._caching)),this._caching.lastFrame=Ye,this.pv}function Be(){this.paths=this.localShapeCollection}function De(Ye,Ze){if(Ye._length!==Ze._length||Ye.c!==Ze.c)return!1;var Je,tr=Ye._length;for(Je=0;Je<tr;Je+=1)if(Ye.v[Je][0]!==Ze.v[Je][0]||Ye.v[Je][1]!==Ze.v[Je][1]||Ye.o[Je][0]!==Ze.o[Je][0]||Ye.o[Je][1]!==Ze.o[Je][1]||Ye.i[Je][0]!==Ze.i[Je][0]||Ye.i[Je][1]!==Ze.i[Je][1])return!1;return!0}function Fe(Ye){De(this.v,Ye)||(this.v=shapePool.clone(Ye),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function Oe(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Ye;this.kf?Ye=this.pv:this.data.ks?Ye=this.data.ks.k:Ye=this.data.pt.k;var Ze,Je=this.effectsSequence.length;for(Ze=0;Ze<Je;Ze+=1)Ye=this.effectsSequence[Ze](Ye);this.setVValue(Ye),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ke(Ye,Ze,Je){this.propType="shape",this.comp=Ye.comp,this.container=Ye,this.elem=Ye,this.data=Ze,this.k=!1,this.kf=!1,this._mdf=!1;var tr=Je===3?Ze.pt.k:Ze.ks.k;this.v=shapePool.clone(tr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=Be,this.effectsSequence=[]}function Me(Ye){this.effectsSequence.push(Ye),this.container.addDynamicProperty(this)}ke.prototype.interpolateShape=Re,ke.prototype.getValue=Oe,ke.prototype.setVValue=Fe,ke.prototype.addEffect=Me;function Ue(Ye,Ze,Je){this.propType="shape",this.comp=Ye.comp,this.elem=Ye,this.container=Ye,this.offsetTime=Ye.data.st,this.keyframes=Je===3?Ze.pt.k:Ze.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var tr=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,tr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=Ce,this.reset=Be,this._caching={lastFrame:Ce,lastIndex:0},this.effectsSequence=[je.bind(this)]}Ue.prototype.getValue=Oe,Ue.prototype.interpolateShape=Re,Ue.prototype.setVValue=Fe,Ue.prototype.addEffect=Me;var $e=(function(){var Ye=roundCorner;function Ze(Je,tr){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=tr.d,this.elem=Je,this.comp=Je.comp,this.frameId=-1,this.initDynamicPropertyContainer(Je),this.p=PropertyFactory.getProp(Je,tr.p,1,0,this),this.s=PropertyFactory.getProp(Je,tr.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Ze.prototype={reset:Be,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var tr=this.p.v[0],rr=this.p.v[1],ar=this.s.v[0]/2,nr=this.s.v[1]/2,sr=this.d!==3,dr=this.v;dr.v[0][0]=tr,dr.v[0][1]=rr-nr,dr.v[1][0]=sr?tr+ar:tr-ar,dr.v[1][1]=rr,dr.v[2][0]=tr,dr.v[2][1]=rr+nr,dr.v[3][0]=sr?tr-ar:tr+ar,dr.v[3][1]=rr,dr.i[0][0]=sr?tr-ar*Ye:tr+ar*Ye,dr.i[0][1]=rr-nr,dr.i[1][0]=sr?tr+ar:tr-ar,dr.i[1][1]=rr-nr*Ye,dr.i[2][0]=sr?tr+ar*Ye:tr-ar*Ye,dr.i[2][1]=rr+nr,dr.i[3][0]=sr?tr-ar:tr+ar,dr.i[3][1]=rr+nr*Ye,dr.o[0][0]=sr?tr+ar*Ye:tr-ar*Ye,dr.o[0][1]=rr-nr,dr.o[1][0]=sr?tr+ar:tr-ar,dr.o[1][1]=rr+nr*Ye,dr.o[2][0]=sr?tr-ar*Ye:tr+ar*Ye,dr.o[2][1]=rr+nr,dr.o[3][0]=sr?tr-ar:tr+ar,dr.o[3][1]=rr-nr*Ye}},extendPrototype([DynamicPropertyContainer],Ze),Ze})(),He=(function(){function Ye(Ze,Je){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Ze,this.comp=Ze.comp,this.data=Je,this.frameId=-1,this.d=Je.d,this.initDynamicPropertyContainer(Ze),Je.sy===1?(this.ir=PropertyFactory.getProp(Ze,Je.ir,0,0,this),this.is=PropertyFactory.getProp(Ze,Je.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Ze,Je.pt,0,0,this),this.p=PropertyFactory.getProp(Ze,Je.p,1,0,this),this.r=PropertyFactory.getProp(Ze,Je.r,0,degToRads,this),this.or=PropertyFactory.getProp(Ze,Je.or,0,0,this),this.os=PropertyFactory.getProp(Ze,Je.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Ye.prototype={reset:Be,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Je=Math.floor(this.pt.v)*2,tr=Math.PI*2/Je,rr=!0,ar=this.or.v,nr=this.ir.v,sr=this.os.v,dr=this.is.v,_r=2*Math.PI*ar/(Je*2),fr=2*Math.PI*nr/(Je*2),or,Er,Rr,jr,xr=-Math.PI/2;xr+=this.r.v;var Pr=this.data.d===3?-1:1;for(this.v._length=0,or=0;or<Je;or+=1){Er=rr?ar:nr,Rr=rr?sr:dr,jr=rr?_r:fr;var br=Er*Math.cos(xr),wr=Er*Math.sin(xr),Br=br===0&&wr===0?0:wr/Math.sqrt(br*br+wr*wr),Lr=br===0&&wr===0?0:-br/Math.sqrt(br*br+wr*wr);br+=+this.p.v[0],wr+=+this.p.v[1],this.v.setTripleAt(br,wr,br-Br*jr*Rr*Pr,wr-Lr*jr*Rr*Pr,br+Br*jr*Rr*Pr,wr+Lr*jr*Rr*Pr,or,!0),rr=!rr,xr+=tr*Pr}},convertPolygonToPath:function(){var Je=Math.floor(this.pt.v),tr=Math.PI*2/Je,rr=this.or.v,ar=this.os.v,nr=2*Math.PI*rr/(Je*4),sr,dr=-Math.PI*.5,_r=this.data.d===3?-1:1;for(dr+=this.r.v,this.v._length=0,sr=0;sr<Je;sr+=1){var fr=rr*Math.cos(dr),or=rr*Math.sin(dr),Er=fr===0&&or===0?0:or/Math.sqrt(fr*fr+or*or),Rr=fr===0&&or===0?0:-fr/Math.sqrt(fr*fr+or*or);fr+=+this.p.v[0],or+=+this.p.v[1],this.v.setTripleAt(fr,or,fr-Er*nr*ar*_r,or-Rr*nr*ar*_r,fr+Er*nr*ar*_r,or+Rr*nr*ar*_r,sr,!0),dr+=tr*_r}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Ye),Ye})(),Qe=(function(){function Ye(Ze,Je){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Ze,this.comp=Ze.comp,this.frameId=-1,this.d=Je.d,this.initDynamicPropertyContainer(Ze),this.p=PropertyFactory.getProp(Ze,Je.p,1,0,this),this.s=PropertyFactory.getProp(Ze,Je.s,1,0,this),this.r=PropertyFactory.getProp(Ze,Je.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Ye.prototype={convertRectToPath:function(){var Je=this.p.v[0],tr=this.p.v[1],rr=this.s.v[0]/2,ar=this.s.v[1]/2,nr=bmMin(rr,ar,this.r.v),sr=nr*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(Je+rr,tr-ar+nr,Je+rr,tr-ar+nr,Je+rr,tr-ar+sr,0,!0),this.v.setTripleAt(Je+rr,tr+ar-nr,Je+rr,tr+ar-sr,Je+rr,tr+ar-nr,1,!0),nr!==0?(this.v.setTripleAt(Je+rr-nr,tr+ar,Je+rr-nr,tr+ar,Je+rr-sr,tr+ar,2,!0),this.v.setTripleAt(Je-rr+nr,tr+ar,Je-rr+sr,tr+ar,Je-rr+nr,tr+ar,3,!0),this.v.setTripleAt(Je-rr,tr+ar-nr,Je-rr,tr+ar-nr,Je-rr,tr+ar-sr,4,!0),this.v.setTripleAt(Je-rr,tr-ar+nr,Je-rr,tr-ar+sr,Je-rr,tr-ar+nr,5,!0),this.v.setTripleAt(Je-rr+nr,tr-ar,Je-rr+nr,tr-ar,Je-rr+sr,tr-ar,6,!0),this.v.setTripleAt(Je+rr-nr,tr-ar,Je+rr-sr,tr-ar,Je+rr-nr,tr-ar,7,!0)):(this.v.setTripleAt(Je-rr,tr+ar,Je-rr+sr,tr+ar,Je-rr,tr+ar,2),this.v.setTripleAt(Je-rr,tr-ar,Je-rr,tr-ar+sr,Je-rr,tr-ar,3))):(this.v.setTripleAt(Je+rr,tr-ar+nr,Je+rr,tr-ar+sr,Je+rr,tr-ar+nr,0,!0),nr!==0?(this.v.setTripleAt(Je+rr-nr,tr-ar,Je+rr-nr,tr-ar,Je+rr-sr,tr-ar,1,!0),this.v.setTripleAt(Je-rr+nr,tr-ar,Je-rr+sr,tr-ar,Je-rr+nr,tr-ar,2,!0),this.v.setTripleAt(Je-rr,tr-ar+nr,Je-rr,tr-ar+nr,Je-rr,tr-ar+sr,3,!0),this.v.setTripleAt(Je-rr,tr+ar-nr,Je-rr,tr+ar-sr,Je-rr,tr+ar-nr,4,!0),this.v.setTripleAt(Je-rr+nr,tr+ar,Je-rr+nr,tr+ar,Je-rr+sr,tr+ar,5,!0),this.v.setTripleAt(Je+rr-nr,tr+ar,Je+rr-sr,tr+ar,Je+rr-nr,tr+ar,6,!0),this.v.setTripleAt(Je+rr,tr+ar-nr,Je+rr,tr+ar-nr,Je+rr,tr+ar-sr,7,!0)):(this.v.setTripleAt(Je-rr,tr-ar,Je-rr+sr,tr-ar,Je-rr,tr-ar,1,!0),this.v.setTripleAt(Je-rr,tr+ar,Je-rr,tr+ar-sr,Je-rr,tr+ar,2,!0),this.v.setTripleAt(Je+rr,tr+ar,Je+rr-sr,tr+ar,Je+rr,tr+ar,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:Be},extendPrototype([DynamicPropertyContainer],Ye),Ye})();function We(Ye,Ze,Je){var tr;if(Je===3||Je===4){var rr=Je===3?Ze.pt:Ze.ks,ar=rr.k;ar.length?tr=new Ue(Ye,Ze,Je):tr=new ke(Ye,Ze,Je)}else Je===5?tr=new Qe(Ye,Ze):Je===6?tr=new $e(Ye,Ze):Je===7&&(tr=new He(Ye,Ze));return tr.k&&Ye.addDynamicProperty(tr),tr}function qe(){return ke}function Ke(){return Ue}var Xe={};return Xe.getShapeProp=We,Xe.getConstructorFunction=qe,Xe.getKeyframedConstructorFunction=Ke,Xe})();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=(function(){var Ce=Math.cos,Re=Math.sin,je=Math.tan,Be=Math.round;function De(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function Fe(br){if(br===0)return this;var wr=Ce(br),Br=Re(br);return this._t(wr,-Br,0,0,Br,wr,0,0,0,0,1,0,0,0,0,1)}function Oe(br){if(br===0)return this;var wr=Ce(br),Br=Re(br);return this._t(1,0,0,0,0,wr,-Br,0,0,Br,wr,0,0,0,0,1)}function ke(br){if(br===0)return this;var wr=Ce(br),Br=Re(br);return this._t(wr,0,Br,0,0,1,0,0,-Br,0,wr,0,0,0,0,1)}function Me(br){if(br===0)return this;var wr=Ce(br),Br=Re(br);return this._t(wr,-Br,0,0,Br,wr,0,0,0,0,1,0,0,0,0,1)}function Ue(br,wr){return this._t(1,wr,br,1,0,0)}function $e(br,wr){return this.shear(je(br),je(wr))}function He(br,wr){var Br=Ce(wr),Lr=Re(wr);return this._t(Br,Lr,0,0,-Lr,Br,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,je(br),1,0,0,0,0,1,0,0,0,0,1)._t(Br,-Lr,0,0,Lr,Br,0,0,0,0,1,0,0,0,0,1)}function Qe(br,wr,Br){return!Br&&Br!==0&&(Br=1),br===1&&wr===1&&Br===1?this:this._t(br,0,0,0,0,wr,0,0,0,0,Br,0,0,0,0,1)}function We(br,wr,Br,Lr,yr,vr,Tr,Or,Nr,Hr,Wr,qr,Jr,An,an,bn){return this.props[0]=br,this.props[1]=wr,this.props[2]=Br,this.props[3]=Lr,this.props[4]=yr,this.props[5]=vr,this.props[6]=Tr,this.props[7]=Or,this.props[8]=Nr,this.props[9]=Hr,this.props[10]=Wr,this.props[11]=qr,this.props[12]=Jr,this.props[13]=An,this.props[14]=an,this.props[15]=bn,this}function qe(br,wr,Br){return Br=Br||0,br!==0||wr!==0||Br!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,br,wr,Br,1):this}function Ke(br,wr,Br,Lr,yr,vr,Tr,Or,Nr,Hr,Wr,qr,Jr,An,an,bn){var gn=this.props;if(br===1&&wr===0&&Br===0&&Lr===0&&yr===0&&vr===1&&Tr===0&&Or===0&&Nr===0&&Hr===0&&Wr===1&&qr===0)return gn[12]=gn[12]*br+gn[15]*Jr,gn[13]=gn[13]*vr+gn[15]*An,gn[14]=gn[14]*Wr+gn[15]*an,gn[15]*=bn,this._identityCalculated=!1,this;var mn=gn[0],Zr=gn[1],kn=gn[2],ri=gn[3],zn=gn[4],ei=gn[5],Jn=gn[6],Wn=gn[7],_i=gn[8],wi=gn[9],Oi=gn[10],xi=gn[11],Pi=gn[12],Ii=gn[13],Si=gn[14],En=gn[15];return gn[0]=mn*br+Zr*yr+kn*Nr+ri*Jr,gn[1]=mn*wr+Zr*vr+kn*Hr+ri*An,gn[2]=mn*Br+Zr*Tr+kn*Wr+ri*an,gn[3]=mn*Lr+Zr*Or+kn*qr+ri*bn,gn[4]=zn*br+ei*yr+Jn*Nr+Wn*Jr,gn[5]=zn*wr+ei*vr+Jn*Hr+Wn*An,gn[6]=zn*Br+ei*Tr+Jn*Wr+Wn*an,gn[7]=zn*Lr+ei*Or+Jn*qr+Wn*bn,gn[8]=_i*br+wi*yr+Oi*Nr+xi*Jr,gn[9]=_i*wr+wi*vr+Oi*Hr+xi*An,gn[10]=_i*Br+wi*Tr+Oi*Wr+xi*an,gn[11]=_i*Lr+wi*Or+Oi*qr+xi*bn,gn[12]=Pi*br+Ii*yr+Si*Nr+En*Jr,gn[13]=Pi*wr+Ii*vr+Si*Hr+En*An,gn[14]=Pi*Br+Ii*Tr+Si*Wr+En*an,gn[15]=Pi*Lr+Ii*Or+Si*qr+En*bn,this._identityCalculated=!1,this}function Xe(br){var wr=br.props;return this.transform(wr[0],wr[1],wr[2],wr[3],wr[4],wr[5],wr[6],wr[7],wr[8],wr[9],wr[10],wr[11],wr[12],wr[13],wr[14],wr[15])}function Ye(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Ze(br){for(var wr=0;wr<16;){if(br.props[wr]!==this.props[wr])return!1;wr+=1}return!0}function Je(br){var wr;for(wr=0;wr<16;wr+=1)br.props[wr]=this.props[wr];return br}function tr(br){var wr;for(wr=0;wr<16;wr+=1)this.props[wr]=br[wr]}function rr(br,wr,Br){return{x:br*this.props[0]+wr*this.props[4]+Br*this.props[8]+this.props[12],y:br*this.props[1]+wr*this.props[5]+Br*this.props[9]+this.props[13],z:br*this.props[2]+wr*this.props[6]+Br*this.props[10]+this.props[14]}}function ar(br,wr,Br){return br*this.props[0]+wr*this.props[4]+Br*this.props[8]+this.props[12]}function nr(br,wr,Br){return br*this.props[1]+wr*this.props[5]+Br*this.props[9]+this.props[13]}function sr(br,wr,Br){return br*this.props[2]+wr*this.props[6]+Br*this.props[10]+this.props[14]}function dr(){var br=this.props[0]*this.props[5]-this.props[1]*this.props[4],wr=this.props[5]/br,Br=-this.props[1]/br,Lr=-this.props[4]/br,yr=this.props[0]/br,vr=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/br,Tr=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/br,Or=new Matrix;return Or.props[0]=wr,Or.props[1]=Br,Or.props[4]=Lr,Or.props[5]=yr,Or.props[12]=vr,Or.props[13]=Tr,Or}function _r(br){var wr=this.getInverseMatrix();return wr.applyToPointArray(br[0],br[1],br[2]||0)}function fr(br){var wr,Br=br.length,Lr=[];for(wr=0;wr<Br;wr+=1)Lr[wr]=_r(br[wr]);return Lr}function or(br,wr,Br){var Lr=createTypedArray("float32",6);if(this.isIdentity())Lr[0]=br[0],Lr[1]=br[1],Lr[2]=wr[0],Lr[3]=wr[1],Lr[4]=Br[0],Lr[5]=Br[1];else{var yr=this.props[0],vr=this.props[1],Tr=this.props[4],Or=this.props[5],Nr=this.props[12],Hr=this.props[13];Lr[0]=br[0]*yr+br[1]*Tr+Nr,Lr[1]=br[0]*vr+br[1]*Or+Hr,Lr[2]=wr[0]*yr+wr[1]*Tr+Nr,Lr[3]=wr[0]*vr+wr[1]*Or+Hr,Lr[4]=Br[0]*yr+Br[1]*Tr+Nr,Lr[5]=Br[0]*vr+Br[1]*Or+Hr}return Lr}function Er(br,wr,Br){var Lr;return this.isIdentity()?Lr=[br,wr,Br]:Lr=[br*this.props[0]+wr*this.props[4]+Br*this.props[8]+this.props[12],br*this.props[1]+wr*this.props[5]+Br*this.props[9]+this.props[13],br*this.props[2]+wr*this.props[6]+Br*this.props[10]+this.props[14]],Lr}function Rr(br,wr){if(this.isIdentity())return br+","+wr;var Br=this.props;return Math.round((br*Br[0]+wr*Br[4]+Br[12])*100)/100+","+Math.round((br*Br[1]+wr*Br[5]+Br[13])*100)/100}function jr(){for(var br=0,wr=this.props,Br="matrix3d(",Lr=1e4;br<16;)Br+=Be(wr[br]*Lr)/Lr,Br+=br===15?")":",",br+=1;return Br}function xr(br){var wr=1e4;return br<1e-6&&br>0||br>-1e-6&&br<0?Be(br*wr)/wr:br}function Pr(){var br=this.props,wr=xr(br[0]),Br=xr(br[1]),Lr=xr(br[4]),yr=xr(br[5]),vr=xr(br[12]),Tr=xr(br[13]);return"matrix("+wr+","+Br+","+Lr+","+yr+","+vr+","+Tr+")"}return function(){this.reset=De,this.rotate=Fe,this.rotateX=Oe,this.rotateY=ke,this.rotateZ=Me,this.skew=$e,this.skewFromAxis=He,this.shear=Ue,this.scale=Qe,this.setTransform=We,this.translate=qe,this.transform=Ke,this.multiply=Xe,this.applyToPoint=rr,this.applyToX=ar,this.applyToY=nr,this.applyToZ=sr,this.applyToPointArray=Er,this.applyToTriplePoints=or,this.applyToPointStringified=Rr,this.toCSS=jr,this.to2dCSS=Pr,this.clone=Je,this.cloneFromProps=tr,this.equals=Ze,this.inversePoints=fr,this.inversePoint=_r,this.getInverseMatrix=dr,this._t=this.transform,this.isIdentity=Ye,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}})();function _typeof$3(Ce){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},_typeof$3(Ce)}var lottie={};function setLocation(Ce){setLocationHref(Ce)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(Ce){setSubframeEnabled(Ce)}function setPrefix(Ce){setIdPrefix(Ce)}function loadAnimation(Ce){return animationManager.loadAnimation(Ce)}function setQuality(Ce){if(typeof Ce=="string")switch(Ce){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(Ce)&&Ce>1&&setDefaultCurveSegments(Ce)}function inBrowser(){return typeof navigator<"u"}function installPlugin(Ce,Re){Ce==="expressions"&&setExpressionsPlugin(Re)}function getFactory(Ce){switch(Ce){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(Ce){for(var Re=queryString.split("&"),je=0;je<Re.length;je+=1){var Be=Re[je].split("=");if(decodeURIComponent(Be[0])==Ce)return decodeURIComponent(Be[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(Ce){}var ShapeModifiers=(function(){var Ce={},Re={};Ce.registerModifier=je,Ce.getModifier=Be;function je(De,Fe){Re[De]||(Re[De]=Fe)}function Be(De,Fe,Oe){return new Re[De](Fe,Oe)}return Ce})();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(Ce){if(!this.closed){Ce.sh.container.addDynamicProperty(Ce.sh);var Re={shape:Ce.sh,data:Ce,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(Re),this.addShapeToModifier(Re),this._isAnimated&&Ce.setAsAnimated()}},ShapeModifier.prototype.init=function(Ce,Re){this.shapes=[],this.elem=Ce,this.initDynamicPropertyContainer(Ce),this.initModifierProperties(Ce,Re),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(Ce,Re){this.s=PropertyFactory.getProp(Ce,Re.s,0,.01,this),this.e=PropertyFactory.getProp(Ce,Re.e,0,.01,this),this.o=PropertyFactory.getProp(Ce,Re.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=Re.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(Ce){Ce.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(Ce,Re,je,Be,De){var Fe=[];Re<=1?Fe.push({s:Ce,e:Re}):Ce>=1?Fe.push({s:Ce-1,e:Re-1}):(Fe.push({s:Ce,e:1}),Fe.push({s:0,e:Re-1}));var Oe=[],ke,Me=Fe.length,Ue;for(ke=0;ke<Me;ke+=1)if(Ue=Fe[ke],!(Ue.e*De<Be||Ue.s*De>Be+je)){var $e,He;Ue.s*De<=Be?$e=0:$e=(Ue.s*De-Be)/je,Ue.e*De>=Be+je?He=1:He=(Ue.e*De-Be)/je,Oe.push([$e,He])}return Oe.length||Oe.push([0,0]),Oe},TrimModifier.prototype.releasePathsData=function(Ce){var Re,je=Ce.length;for(Re=0;Re<je;Re+=1)segmentsLengthPool.release(Ce[Re]);return Ce.length=0,Ce},TrimModifier.prototype.processShapes=function(Ce){var Re,je;if(this._mdf||Ce){var Be=this.o.v%360/360;if(Be<0&&(Be+=1),this.s.v>1?Re=1+Be:this.s.v<0?Re=0+Be:Re=this.s.v+Be,this.e.v>1?je=1+Be:this.e.v<0?je=0+Be:je=this.e.v+Be,Re>je){var De=Re;Re=je,je=De}Re=Math.round(Re*1e4)*1e-4,je=Math.round(je*1e4)*1e-4,this.sValue=Re,this.eValue=je}else Re=this.sValue,je=this.eValue;var Fe,Oe,ke=this.shapes.length,Me,Ue,$e,He,Qe,We=0;if(je===Re)for(Oe=0;Oe<ke;Oe+=1)this.shapes[Oe].localShapeCollection.releaseShapes(),this.shapes[Oe].shape._mdf=!0,this.shapes[Oe].shape.paths=this.shapes[Oe].localShapeCollection,this._mdf&&(this.shapes[Oe].pathsData.length=0);else if(je===1&&Re===0||je===0&&Re===1){if(this._mdf)for(Oe=0;Oe<ke;Oe+=1)this.shapes[Oe].pathsData.length=0,this.shapes[Oe].shape._mdf=!0}else{var qe=[],Ke,Xe;for(Oe=0;Oe<ke;Oe+=1)if(Ke=this.shapes[Oe],!Ke.shape._mdf&&!this._mdf&&!Ce&&this.m!==2)Ke.shape.paths=Ke.localShapeCollection;else{if(Fe=Ke.shape.paths,Ue=Fe._length,Qe=0,!Ke.shape._mdf&&Ke.pathsData.length)Qe=Ke.totalShapeLength;else{for($e=this.releasePathsData(Ke.pathsData),Me=0;Me<Ue;Me+=1)He=bez.getSegmentsLength(Fe.shapes[Me]),$e.push(He),Qe+=He.totalLength;Ke.totalShapeLength=Qe,Ke.pathsData=$e}We+=Qe,Ke.shape._mdf=!0}var Ye=Re,Ze=je,Je=0,tr;for(Oe=ke-1;Oe>=0;Oe-=1)if(Ke=this.shapes[Oe],Ke.shape._mdf){for(Xe=Ke.localShapeCollection,Xe.releaseShapes(),this.m===2&&ke>1?(tr=this.calculateShapeEdges(Re,je,Ke.totalShapeLength,Je,We),Je+=Ke.totalShapeLength):tr=[[Ye,Ze]],Ue=tr.length,Me=0;Me<Ue;Me+=1){Ye=tr[Me][0],Ze=tr[Me][1],qe.length=0,Ze<=1?qe.push({s:Ke.totalShapeLength*Ye,e:Ke.totalShapeLength*Ze}):Ye>=1?qe.push({s:Ke.totalShapeLength*(Ye-1),e:Ke.totalShapeLength*(Ze-1)}):(qe.push({s:Ke.totalShapeLength*Ye,e:Ke.totalShapeLength}),qe.push({s:0,e:Ke.totalShapeLength*(Ze-1)}));var rr=this.addShapes(Ke,qe[0]);if(qe[0].s!==qe[0].e){if(qe.length>1){var ar=Ke.shape.paths.shapes[Ke.shape.paths._length-1];if(ar.c){var nr=rr.pop();this.addPaths(rr,Xe),rr=this.addShapes(Ke,qe[1],nr)}else this.addPaths(rr,Xe),rr=this.addShapes(Ke,qe[1])}this.addPaths(rr,Xe)}}Ke.shape.paths=Xe}}},TrimModifier.prototype.addPaths=function(Ce,Re){var je,Be=Ce.length;for(je=0;je<Be;je+=1)Re.addShape(Ce[je])},TrimModifier.prototype.addSegment=function(Ce,Re,je,Be,De,Fe,Oe){De.setXYAt(Re[0],Re[1],"o",Fe),De.setXYAt(je[0],je[1],"i",Fe+1),Oe&&De.setXYAt(Ce[0],Ce[1],"v",Fe),De.setXYAt(Be[0],Be[1],"v",Fe+1)},TrimModifier.prototype.addSegmentFromArray=function(Ce,Re,je,Be){Re.setXYAt(Ce[1],Ce[5],"o",je),Re.setXYAt(Ce[2],Ce[6],"i",je+1),Be&&Re.setXYAt(Ce[0],Ce[4],"v",je),Re.setXYAt(Ce[3],Ce[7],"v",je+1)},TrimModifier.prototype.addShapes=function(Ce,Re,je){var Be=Ce.pathsData,De=Ce.shape.paths.shapes,Fe,Oe=Ce.shape.paths._length,ke,Me,Ue=0,$e,He,Qe,We,qe=[],Ke,Xe=!0;for(je?(He=je._length,Ke=je._length):(je=shapePool.newElement(),He=0,Ke=0),qe.push(je),Fe=0;Fe<Oe;Fe+=1){for(Qe=Be[Fe].lengths,je.c=De[Fe].c,Me=De[Fe].c?Qe.length:Qe.length+1,ke=1;ke<Me;ke+=1)if($e=Qe[ke-1],Ue+$e.addedLength<Re.s)Ue+=$e.addedLength,je.c=!1;else if(Ue>Re.e){je.c=!1;break}else Re.s<=Ue&&Re.e>=Ue+$e.addedLength?(this.addSegment(De[Fe].v[ke-1],De[Fe].o[ke-1],De[Fe].i[ke],De[Fe].v[ke],je,He,Xe),Xe=!1):(We=bez.getNewSegment(De[Fe].v[ke-1],De[Fe].v[ke],De[Fe].o[ke-1],De[Fe].i[ke],(Re.s-Ue)/$e.addedLength,(Re.e-Ue)/$e.addedLength,Qe[ke-1]),this.addSegmentFromArray(We,je,He,Xe),Xe=!1,je.c=!1),Ue+=$e.addedLength,He+=1;if(De[Fe].c&&Qe.length){if($e=Qe[ke-1],Ue<=Re.e){var Ye=Qe[ke-1].addedLength;Re.s<=Ue&&Re.e>=Ue+Ye?(this.addSegment(De[Fe].v[ke-1],De[Fe].o[ke-1],De[Fe].i[0],De[Fe].v[0],je,He,Xe),Xe=!1):(We=bez.getNewSegment(De[Fe].v[ke-1],De[Fe].v[0],De[Fe].o[ke-1],De[Fe].i[0],(Re.s-Ue)/Ye,(Re.e-Ue)/Ye,Qe[ke-1]),this.addSegmentFromArray(We,je,He,Xe),Xe=!1,je.c=!1)}else je.c=!1;Ue+=$e.addedLength,He+=1}if(je._length&&(je.setXYAt(je.v[Ke][0],je.v[Ke][1],"i",Ke),je.setXYAt(je.v[je._length-1][0],je.v[je._length-1][1],"o",je._length-1)),Ue>Re.e)break;Fe<Oe-1&&(je=shapePool.newElement(),Xe=!0,qe.push(je),He=0)}return qe};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(Ce,Re){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(Ce,Re.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(Ce,Re){var je=Re/100,Be=[0,0],De=Ce._length,Fe=0;for(Fe=0;Fe<De;Fe+=1)Be[0]+=Ce.v[Fe][0],Be[1]+=Ce.v[Fe][1];Be[0]/=De,Be[1]/=De;var Oe=shapePool.newElement();Oe.c=Ce.c;var ke,Me,Ue,$e,He,Qe;for(Fe=0;Fe<De;Fe+=1)ke=Ce.v[Fe][0]+(Be[0]-Ce.v[Fe][0])*je,Me=Ce.v[Fe][1]+(Be[1]-Ce.v[Fe][1])*je,Ue=Ce.o[Fe][0]+(Be[0]-Ce.o[Fe][0])*-je,$e=Ce.o[Fe][1]+(Be[1]-Ce.o[Fe][1])*-je,He=Ce.i[Fe][0]+(Be[0]-Ce.i[Fe][0])*-je,Qe=Ce.i[Fe][1]+(Be[1]-Ce.i[Fe][1])*-je,Oe.setTripleAt(ke,Me,Ue,$e,He,Qe,Fe);return Oe},PuckerAndBloatModifier.prototype.processShapes=function(Ce){var Re,je,Be=this.shapes.length,De,Fe,Oe=this.amount.v;if(Oe!==0){var ke,Me;for(je=0;je<Be;je+=1){if(ke=this.shapes[je],Me=ke.localShapeCollection,!(!ke.shape._mdf&&!this._mdf&&!Ce))for(Me.releaseShapes(),ke.shape._mdf=!0,Re=ke.shape.paths.shapes,Fe=ke.shape.paths._length,De=0;De<Fe;De+=1)Me.addShape(this.processPath(Re[De],Oe));ke.shape.paths=ke.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=(function(){var Ce=[0,0];function Re(Me){var Ue=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||Ue,this.a&&Me.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&Me.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&Me.skewFromAxis(-this.sk.v,this.sa.v),this.r?Me.rotate(-this.r.v):Me.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?Me.translate(this.px.v,this.py.v,-this.pz.v):Me.translate(this.px.v,this.py.v,0):Me.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function je(Me){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||Me){var Ue;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var $e,He;if(Ue=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?($e=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/Ue,0),He=this.p.getValueAtTime(this.p.keyframes[0].t/Ue,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?($e=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Ue,0),He=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/Ue,0)):($e=this.p.pv,He=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/Ue,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){$e=[],He=[];var Qe=this.px,We=this.py;Qe._caching.lastFrame+Qe.offsetTime<=Qe.keyframes[0].t?($e[0]=Qe.getValueAtTime((Qe.keyframes[0].t+.01)/Ue,0),$e[1]=We.getValueAtTime((We.keyframes[0].t+.01)/Ue,0),He[0]=Qe.getValueAtTime(Qe.keyframes[0].t/Ue,0),He[1]=We.getValueAtTime(We.keyframes[0].t/Ue,0)):Qe._caching.lastFrame+Qe.offsetTime>=Qe.keyframes[Qe.keyframes.length-1].t?($e[0]=Qe.getValueAtTime(Qe.keyframes[Qe.keyframes.length-1].t/Ue,0),$e[1]=We.getValueAtTime(We.keyframes[We.keyframes.length-1].t/Ue,0),He[0]=Qe.getValueAtTime((Qe.keyframes[Qe.keyframes.length-1].t-.01)/Ue,0),He[1]=We.getValueAtTime((We.keyframes[We.keyframes.length-1].t-.01)/Ue,0)):($e=[Qe.pv,We.pv],He[0]=Qe.getValueAtTime((Qe._caching.lastFrame+Qe.offsetTime-.01)/Ue,Qe.offsetTime),He[1]=We.getValueAtTime((We._caching.lastFrame+We.offsetTime-.01)/Ue,We.offsetTime))}else He=Ce,$e=He;this.v.rotate(-Math.atan2($e[1]-He[1],$e[0]-He[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function Be(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function De(){}function Fe(Me){this._addDynamicProperty(Me),this.elem.addDynamicProperty(Me),this._isDirty=!0}function Oe(Me,Ue,$e){if(this.elem=Me,this.frameId=-1,this.propType="transform",this.data=Ue,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer($e||Me),Ue.p&&Ue.p.s?(this.px=PropertyFactory.getProp(Me,Ue.p.x,0,0,this),this.py=PropertyFactory.getProp(Me,Ue.p.y,0,0,this),Ue.p.z&&(this.pz=PropertyFactory.getProp(Me,Ue.p.z,0,0,this))):this.p=PropertyFactory.getProp(Me,Ue.p||{k:[0,0,0]},1,0,this),Ue.rx){if(this.rx=PropertyFactory.getProp(Me,Ue.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(Me,Ue.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(Me,Ue.rz,0,degToRads,this),Ue.or.k[0].ti){var He,Qe=Ue.or.k.length;for(He=0;He<Qe;He+=1)Ue.or.k[He].to=null,Ue.or.k[He].ti=null}this.or=PropertyFactory.getProp(Me,Ue.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(Me,Ue.r||{k:0},0,degToRads,this);Ue.sk&&(this.sk=PropertyFactory.getProp(Me,Ue.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(Me,Ue.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(Me,Ue.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(Me,Ue.s||{k:[100,100,100]},1,.01,this),Ue.o?this.o=PropertyFactory.getProp(Me,Ue.o,0,.01,Me):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}Oe.prototype={applyToMatrix:Re,getValue:je,precalculateMatrix:Be,autoOrient:De},extendPrototype([DynamicPropertyContainer],Oe),Oe.prototype.addDynamicProperty=Fe,Oe.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ke(Me,Ue,$e){return new Oe(Me,Ue,$e)}return{getTransformProperty:ke}})();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(Ce,Re){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(Ce,Re.c,0,null,this),this.o=PropertyFactory.getProp(Ce,Re.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(Ce,Re.tr,this),this.so=PropertyFactory.getProp(Ce,Re.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(Ce,Re.tr.eo,0,.01,this),this.data=Re,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(Ce,Re,je,Be,De,Fe){var Oe=Fe?-1:1,ke=Be.s.v[0]+(1-Be.s.v[0])*(1-De),Me=Be.s.v[1]+(1-Be.s.v[1])*(1-De);Ce.translate(Be.p.v[0]*Oe*De,Be.p.v[1]*Oe*De,Be.p.v[2]),Re.translate(-Be.a.v[0],-Be.a.v[1],Be.a.v[2]),Re.rotate(-Be.r.v*Oe*De),Re.translate(Be.a.v[0],Be.a.v[1],Be.a.v[2]),je.translate(-Be.a.v[0],-Be.a.v[1],Be.a.v[2]),je.scale(Fe?1/ke:ke,Fe?1/Me:Me),je.translate(Be.a.v[0],Be.a.v[1],Be.a.v[2])},RepeaterModifier.prototype.init=function(Ce,Re,je,Be){for(this.elem=Ce,this.arr=Re,this.pos=je,this.elemsData=Be,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(Ce),this.initModifierProperties(Ce,Re[je]);je>0;)je-=1,this._elements.unshift(Re[je]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(Ce){var Re,je=Ce.length;for(Re=0;Re<je;Re+=1)Ce[Re]._processed=!1,Ce[Re].ty==="gr"&&this.resetElements(Ce[Re].it)},RepeaterModifier.prototype.cloneElements=function(Ce){var Re=JSON.parse(JSON.stringify(Ce));return this.resetElements(Re),Re},RepeaterModifier.prototype.changeGroupRender=function(Ce,Re){var je,Be=Ce.length;for(je=0;je<Be;je+=1)Ce[je]._render=Re,Ce[je].ty==="gr"&&this.changeGroupRender(Ce[je].it,Re)},RepeaterModifier.prototype.processShapes=function(Ce){var Re,je,Be,De,Fe,Oe=!1;if(this._mdf||Ce){var ke=Math.ceil(this.c.v);if(this._groups.length<ke){for(;this._groups.length<ke;){var Me={it:this.cloneElements(this._elements),ty:"gr"};Me.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,Me),this._groups.splice(0,0,Me),this._currentCopies+=1}this.elem.reloadShapes(),Oe=!0}Fe=0;var Ue;for(Be=0;Be<=this._groups.length-1;Be+=1){if(Ue=Fe<ke,this._groups[Be]._render=Ue,this.changeGroupRender(this._groups[Be].it,Ue),!Ue){var $e=this.elemsData[Be].it,He=$e[$e.length-1];He.transform.op.v!==0?(He.transform.op._mdf=!0,He.transform.op.v=0):He.transform.op._mdf=!1}Fe+=1}this._currentCopies=ke;var Qe=this.o.v,We=Qe%1,qe=Qe>0?Math.floor(Qe):Math.ceil(Qe),Ke=this.pMatrix.props,Xe=this.rMatrix.props,Ye=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Ze=0;if(Qe>0){for(;Ze<qe;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Ze+=1;We&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,We,!1),Ze+=We)}else if(Qe<0){for(;Ze>qe;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Ze-=1;We&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-We,!0),Ze-=We)}Be=this.data.m===1?0:this._currentCopies-1,De=this.data.m===1?1:-1,Fe=this._currentCopies;for(var Je,tr;Fe;){if(Re=this.elemsData[Be].it,je=Re[Re.length-1].transform.mProps.v.props,tr=je.length,Re[Re.length-1].transform.mProps._mdf=!0,Re[Re.length-1].transform.op._mdf=!0,Re[Re.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(Be/(this._currentCopies-1)),Ze!==0){for((Be!==0&&De===1||Be!==this._currentCopies-1&&De===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Xe[0],Xe[1],Xe[2],Xe[3],Xe[4],Xe[5],Xe[6],Xe[7],Xe[8],Xe[9],Xe[10],Xe[11],Xe[12],Xe[13],Xe[14],Xe[15]),this.matrix.transform(Ye[0],Ye[1],Ye[2],Ye[3],Ye[4],Ye[5],Ye[6],Ye[7],Ye[8],Ye[9],Ye[10],Ye[11],Ye[12],Ye[13],Ye[14],Ye[15]),this.matrix.transform(Ke[0],Ke[1],Ke[2],Ke[3],Ke[4],Ke[5],Ke[6],Ke[7],Ke[8],Ke[9],Ke[10],Ke[11],Ke[12],Ke[13],Ke[14],Ke[15]),Je=0;Je<tr;Je+=1)je[Je]=this.matrix.props[Je];this.matrix.reset()}else for(this.matrix.reset(),Je=0;Je<tr;Je+=1)je[Je]=this.matrix.props[Je];Ze+=1,Fe-=1,Be+=De}}else for(Fe=this._currentCopies,Be=0,De=1;Fe;)Re=this.elemsData[Be].it,je=Re[Re.length-1].transform.mProps.v.props,Re[Re.length-1].transform.mProps._mdf=!1,Re[Re.length-1].transform.op._mdf=!1,Fe-=1,Be+=De;return Oe},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(Ce,Re){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(Ce,Re.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(Ce,Re){var je=shapePool.newElement();je.c=Ce.c;var Be,De=Ce._length,Fe,Oe,ke,Me,Ue,$e,He=0,Qe,We,qe,Ke,Xe,Ye;for(Be=0;Be<De;Be+=1)Fe=Ce.v[Be],ke=Ce.o[Be],Oe=Ce.i[Be],Fe[0]===ke[0]&&Fe[1]===ke[1]&&Fe[0]===Oe[0]&&Fe[1]===Oe[1]?(Be===0||Be===De-1)&&!Ce.c?(je.setTripleAt(Fe[0],Fe[1],ke[0],ke[1],Oe[0],Oe[1],He),He+=1):(Be===0?Me=Ce.v[De-1]:Me=Ce.v[Be-1],Ue=Math.sqrt(Math.pow(Fe[0]-Me[0],2)+Math.pow(Fe[1]-Me[1],2)),$e=Ue?Math.min(Ue/2,Re)/Ue:0,Xe=Fe[0]+(Me[0]-Fe[0])*$e,Qe=Xe,Ye=Fe[1]-(Fe[1]-Me[1])*$e,We=Ye,qe=Qe-(Qe-Fe[0])*roundCorner,Ke=We-(We-Fe[1])*roundCorner,je.setTripleAt(Qe,We,qe,Ke,Xe,Ye,He),He+=1,Be===De-1?Me=Ce.v[0]:Me=Ce.v[Be+1],Ue=Math.sqrt(Math.pow(Fe[0]-Me[0],2)+Math.pow(Fe[1]-Me[1],2)),$e=Ue?Math.min(Ue/2,Re)/Ue:0,qe=Fe[0]+(Me[0]-Fe[0])*$e,Qe=qe,Ke=Fe[1]+(Me[1]-Fe[1])*$e,We=Ke,Xe=Qe-(Qe-Fe[0])*roundCorner,Ye=We-(We-Fe[1])*roundCorner,je.setTripleAt(Qe,We,qe,Ke,Xe,Ye,He),He+=1):(je.setTripleAt(Ce.v[Be][0],Ce.v[Be][1],Ce.o[Be][0],Ce.o[Be][1],Ce.i[Be][0],Ce.i[Be][1],He),He+=1);return je},RoundCornersModifier.prototype.processShapes=function(Ce){var Re,je,Be=this.shapes.length,De,Fe,Oe=this.rd.v;if(Oe!==0){var ke,Me;for(je=0;je<Be;je+=1){if(ke=this.shapes[je],Me=ke.localShapeCollection,!(!ke.shape._mdf&&!this._mdf&&!Ce))for(Me.releaseShapes(),ke.shape._mdf=!0,Re=ke.shape.paths.shapes,Fe=ke.shape.paths._length,De=0;De<Fe;De+=1)Me.addShape(this.processPath(Re[De],Oe));ke.shape.paths=ke.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(Ce,Re){return Math.abs(Ce-Re)*1e5<=Math.min(Math.abs(Ce),Math.abs(Re))}function floatZero(Ce){return Math.abs(Ce)<=1e-5}function lerp(Ce,Re,je){return Ce*(1-je)+Re*je}function lerpPoint(Ce,Re,je){return[lerp(Ce[0],Re[0],je),lerp(Ce[1],Re[1],je)]}function quadRoots(Ce,Re,je){if(Ce===0)return[];var Be=Re*Re-4*Ce*je;if(Be<0)return[];var De=-Re/(2*Ce);if(Be===0)return[De];var Fe=Math.sqrt(Be)/(2*Ce);return[De-Fe,De+Fe]}function polynomialCoefficients(Ce,Re,je,Be){return[-Ce+3*Re-3*je+Be,3*Ce-6*Re+3*je,-3*Ce+3*Re,Ce]}function singlePoint(Ce){return new PolynomialBezier(Ce,Ce,Ce,Ce,!1)}function PolynomialBezier(Ce,Re,je,Be,De){De&&pointEqual(Ce,Re)&&(Re=lerpPoint(Ce,Be,1/3)),De&&pointEqual(je,Be)&&(je=lerpPoint(Ce,Be,2/3));var Fe=polynomialCoefficients(Ce[0],Re[0],je[0],Be[0]),Oe=polynomialCoefficients(Ce[1],Re[1],je[1],Be[1]);this.a=[Fe[0],Oe[0]],this.b=[Fe[1],Oe[1]],this.c=[Fe[2],Oe[2]],this.d=[Fe[3],Oe[3]],this.points=[Ce,Re,je,Be]}PolynomialBezier.prototype.point=function(Ce){return[((this.a[0]*Ce+this.b[0])*Ce+this.c[0])*Ce+this.d[0],((this.a[1]*Ce+this.b[1])*Ce+this.c[1])*Ce+this.d[1]]},PolynomialBezier.prototype.derivative=function(Ce){return[(3*Ce*this.a[0]+2*this.b[0])*Ce+this.c[0],(3*Ce*this.a[1]+2*this.b[1])*Ce+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(Ce){var Re=this.derivative(Ce);return Math.atan2(Re[1],Re[0])},PolynomialBezier.prototype.normalAngle=function(Ce){var Re=this.derivative(Ce);return Math.atan2(Re[0],Re[1])},PolynomialBezier.prototype.inflectionPoints=function(){var Ce=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(Ce))return[];var Re=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/Ce,je=Re*Re-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/Ce;if(je<0)return[];var Be=Math.sqrt(je);return floatZero(Be)?Be>0&&Be<1?[Re]:[]:[Re-Be,Re+Be].filter(function(De){return De>0&&De<1})},PolynomialBezier.prototype.split=function(Ce){if(Ce<=0)return[singlePoint(this.points[0]),this];if(Ce>=1)return[this,singlePoint(this.points[this.points.length-1])];var Re=lerpPoint(this.points[0],this.points[1],Ce),je=lerpPoint(this.points[1],this.points[2],Ce),Be=lerpPoint(this.points[2],this.points[3],Ce),De=lerpPoint(Re,je,Ce),Fe=lerpPoint(je,Be,Ce),Oe=lerpPoint(De,Fe,Ce);return[new PolynomialBezier(this.points[0],Re,De,Oe,!0),new PolynomialBezier(Oe,Fe,Be,this.points[3],!0)]};function extrema(Ce,Re){var je=Ce.points[0][Re],Be=Ce.points[Ce.points.length-1][Re];if(je>Be){var De=Be;Be=je,je=De}for(var Fe=quadRoots(3*Ce.a[Re],2*Ce.b[Re],Ce.c[Re]),Oe=0;Oe<Fe.length;Oe+=1)if(Fe[Oe]>0&&Fe[Oe]<1){var ke=Ce.point(Fe[Oe])[Re];ke<je?je=ke:ke>Be&&(Be=ke)}return{min:je,max:Be}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var Ce=this.bounds();return{left:Ce.x.min,right:Ce.x.max,top:Ce.y.min,bottom:Ce.y.max,width:Ce.x.max-Ce.x.min,height:Ce.y.max-Ce.y.min,cx:(Ce.x.max+Ce.x.min)/2,cy:(Ce.y.max+Ce.y.min)/2}};function intersectData(Ce,Re,je){var Be=Ce.boundingBox();return{cx:Be.cx,cy:Be.cy,width:Be.width,height:Be.height,bez:Ce,t:(Re+je)/2,t1:Re,t2:je}}function splitData(Ce){var Re=Ce.bez.split(.5);return[intersectData(Re[0],Ce.t1,Ce.t),intersectData(Re[1],Ce.t,Ce.t2)]}function boxIntersect(Ce,Re){return Math.abs(Ce.cx-Re.cx)*2<Ce.width+Re.width&&Math.abs(Ce.cy-Re.cy)*2<Ce.height+Re.height}function intersectsImpl(Ce,Re,je,Be,De,Fe){if(boxIntersect(Ce,Re)){if(je>=Fe||Ce.width<=Be&&Ce.height<=Be&&Re.width<=Be&&Re.height<=Be){De.push([Ce.t,Re.t]);return}var Oe=splitData(Ce),ke=splitData(Re);intersectsImpl(Oe[0],ke[0],je+1,Be,De,Fe),intersectsImpl(Oe[0],ke[1],je+1,Be,De,Fe),intersectsImpl(Oe[1],ke[0],je+1,Be,De,Fe),intersectsImpl(Oe[1],ke[1],je+1,Be,De,Fe)}}PolynomialBezier.prototype.intersections=function(Ce,Re,je){Re===void 0&&(Re=2),je===void 0&&(je=7);var Be=[];return intersectsImpl(intersectData(this,0,1),intersectData(Ce,0,1),0,Re,Be,je),Be},PolynomialBezier.shapeSegment=function(Ce,Re){var je=(Re+1)%Ce.length();return new PolynomialBezier(Ce.v[Re],Ce.o[Re],Ce.i[je],Ce.v[je],!0)},PolynomialBezier.shapeSegmentInverted=function(Ce,Re){var je=(Re+1)%Ce.length();return new PolynomialBezier(Ce.v[je],Ce.i[je],Ce.o[Re],Ce.v[Re],!0)};function crossProduct(Ce,Re){return[Ce[1]*Re[2]-Ce[2]*Re[1],Ce[2]*Re[0]-Ce[0]*Re[2],Ce[0]*Re[1]-Ce[1]*Re[0]]}function lineIntersection(Ce,Re,je,Be){var De=[Ce[0],Ce[1],1],Fe=[Re[0],Re[1],1],Oe=[je[0],je[1],1],ke=[Be[0],Be[1],1],Me=crossProduct(crossProduct(De,Fe),crossProduct(Oe,ke));return floatZero(Me[2])?null:[Me[0]/Me[2],Me[1]/Me[2]]}function polarOffset(Ce,Re,je){return[Ce[0]+Math.cos(Re)*je,Ce[1]-Math.sin(Re)*je]}function pointDistance(Ce,Re){return Math.hypot(Ce[0]-Re[0],Ce[1]-Re[1])}function pointEqual(Ce,Re){return floatEqual(Ce[0],Re[0])&&floatEqual(Ce[1],Re[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(Ce,Re){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(Ce,Re.s,0,null,this),this.frequency=PropertyFactory.getProp(Ce,Re.r,0,null,this),this.pointsType=PropertyFactory.getProp(Ce,Re.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(Ce,Re,je,Be,De,Fe,Oe){var ke=je-Math.PI/2,Me=je+Math.PI/2,Ue=Re[0]+Math.cos(je)*Be*De,$e=Re[1]-Math.sin(je)*Be*De;Ce.setTripleAt(Ue,$e,Ue+Math.cos(ke)*Fe,$e-Math.sin(ke)*Fe,Ue+Math.cos(Me)*Oe,$e-Math.sin(Me)*Oe,Ce.length())}function getPerpendicularVector(Ce,Re){var je=[Re[0]-Ce[0],Re[1]-Ce[1]],Be=-Math.PI*.5,De=[Math.cos(Be)*je[0]-Math.sin(Be)*je[1],Math.sin(Be)*je[0]+Math.cos(Be)*je[1]];return De}function getProjectingAngle(Ce,Re){var je=Re===0?Ce.length()-1:Re-1,Be=(Re+1)%Ce.length(),De=Ce.v[je],Fe=Ce.v[Be],Oe=getPerpendicularVector(De,Fe);return Math.atan2(0,1)-Math.atan2(Oe[1],Oe[0])}function zigZagCorner(Ce,Re,je,Be,De,Fe,Oe){var ke=getProjectingAngle(Re,je),Me=Re.v[je%Re._length],Ue=Re.v[je===0?Re._length-1:je-1],$e=Re.v[(je+1)%Re._length],He=Fe===2?Math.sqrt(Math.pow(Me[0]-Ue[0],2)+Math.pow(Me[1]-Ue[1],2)):0,Qe=Fe===2?Math.sqrt(Math.pow(Me[0]-$e[0],2)+Math.pow(Me[1]-$e[1],2)):0;setPoint(Ce,Re.v[je%Re._length],ke,Oe,Be,Qe/((De+1)*2),He/((De+1)*2))}function zigZagSegment(Ce,Re,je,Be,De,Fe){for(var Oe=0;Oe<Be;Oe+=1){var ke=(Oe+1)/(Be+1),Me=De===2?Math.sqrt(Math.pow(Re.points[3][0]-Re.points[0][0],2)+Math.pow(Re.points[3][1]-Re.points[0][1],2)):0,Ue=Re.normalAngle(ke),$e=Re.point(ke);setPoint(Ce,$e,Ue,Fe,je,Me/((Be+1)*2),Me/((Be+1)*2)),Fe=-Fe}return Fe}ZigZagModifier.prototype.processPath=function(Ce,Re,je,Be){var De=Ce._length,Fe=shapePool.newElement();if(Fe.c=Ce.c,Ce.c||(De-=1),De===0)return Fe;var Oe=-1,ke=PolynomialBezier.shapeSegment(Ce,0);zigZagCorner(Fe,Ce,0,Re,je,Be,Oe);for(var Me=0;Me<De;Me+=1)Oe=zigZagSegment(Fe,ke,Re,je,Be,-Oe),Me===De-1&&!Ce.c?ke=null:ke=PolynomialBezier.shapeSegment(Ce,(Me+1)%De),zigZagCorner(Fe,Ce,Me+1,Re,je,Be,Oe);return Fe},ZigZagModifier.prototype.processShapes=function(Ce){var Re,je,Be=this.shapes.length,De,Fe,Oe=this.amplitude.v,ke=Math.max(0,Math.round(this.frequency.v)),Me=this.pointsType.v;if(Oe!==0){var Ue,$e;for(je=0;je<Be;je+=1){if(Ue=this.shapes[je],$e=Ue.localShapeCollection,!(!Ue.shape._mdf&&!this._mdf&&!Ce))for($e.releaseShapes(),Ue.shape._mdf=!0,Re=Ue.shape.paths.shapes,Fe=Ue.shape.paths._length,De=0;De<Fe;De+=1)$e.addShape(this.processPath(Re[De],Oe,ke,Me));Ue.shape.paths=Ue.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(Ce,Re,je){var Be=Math.atan2(Re[0]-Ce[0],Re[1]-Ce[1]);return[polarOffset(Ce,Be,je),polarOffset(Re,Be,je)]}function offsetSegment(Ce,Re){var je,Be,De,Fe,Oe,ke,Me;Me=linearOffset(Ce.points[0],Ce.points[1],Re),je=Me[0],Be=Me[1],Me=linearOffset(Ce.points[1],Ce.points[2],Re),De=Me[0],Fe=Me[1],Me=linearOffset(Ce.points[2],Ce.points[3],Re),Oe=Me[0],ke=Me[1];var Ue=lineIntersection(je,Be,De,Fe);Ue===null&&(Ue=Be);var $e=lineIntersection(Oe,ke,De,Fe);return $e===null&&($e=Oe),new PolynomialBezier(je,Ue,$e,ke)}function joinLines(Ce,Re,je,Be,De){var Fe=Re.points[3],Oe=je.points[0];if(Be===3||pointEqual(Fe,Oe))return Fe;if(Be===2){var ke=-Re.tangentAngle(1),Me=-je.tangentAngle(0)+Math.PI,Ue=lineIntersection(Fe,polarOffset(Fe,ke+Math.PI/2,100),Oe,polarOffset(Oe,ke+Math.PI/2,100)),$e=Ue?pointDistance(Ue,Fe):pointDistance(Fe,Oe)/2,He=polarOffset(Fe,ke,2*$e*roundCorner);return Ce.setXYAt(He[0],He[1],"o",Ce.length()-1),He=polarOffset(Oe,Me,2*$e*roundCorner),Ce.setTripleAt(Oe[0],Oe[1],Oe[0],Oe[1],He[0],He[1],Ce.length()),Oe}var Qe=pointEqual(Fe,Re.points[2])?Re.points[0]:Re.points[2],We=pointEqual(Oe,je.points[1])?je.points[3]:je.points[1],qe=lineIntersection(Qe,Fe,Oe,We);return qe&&pointDistance(qe,Fe)<De?(Ce.setTripleAt(qe[0],qe[1],qe[0],qe[1],qe[0],qe[1],Ce.length()),qe):Fe}function getIntersection(Ce,Re){var je=Ce.intersections(Re);return je.length&&floatEqual(je[0][0],1)&&je.shift(),je.length?je[0]:null}function pruneSegmentIntersection(Ce,Re){var je=Ce.slice(),Be=Re.slice(),De=getIntersection(Ce[Ce.length-1],Re[0]);return De&&(je[Ce.length-1]=Ce[Ce.length-1].split(De[0])[0],Be[0]=Re[0].split(De[1])[1]),Ce.length>1&&Re.length>1&&(De=getIntersection(Ce[0],Re[Re.length-1]),De)?[[Ce[0].split(De[0])[0]],[Re[Re.length-1].split(De[1])[1]]]:[je,Be]}function pruneIntersections(Ce){for(var Re,je=1;je<Ce.length;je+=1)Re=pruneSegmentIntersection(Ce[je-1],Ce[je]),Ce[je-1]=Re[0],Ce[je]=Re[1];return Ce.length>1&&(Re=pruneSegmentIntersection(Ce[Ce.length-1],Ce[0]),Ce[Ce.length-1]=Re[0],Ce[0]=Re[1]),Ce}function offsetSegmentSplit(Ce,Re){var je=Ce.inflectionPoints(),Be,De,Fe,Oe;if(je.length===0)return[offsetSegment(Ce,Re)];if(je.length===1||floatEqual(je[1],1))return Fe=Ce.split(je[0]),Be=Fe[0],De=Fe[1],[offsetSegment(Be,Re),offsetSegment(De,Re)];Fe=Ce.split(je[0]),Be=Fe[0];var ke=(je[1]-je[0])/(1-je[0]);return Fe=Fe[1].split(ke),Oe=Fe[0],De=Fe[1],[offsetSegment(Be,Re),offsetSegment(Oe,Re),offsetSegment(De,Re)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(Ce,Re){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(Ce,Re.a,0,null,this),this.miterLimit=PropertyFactory.getProp(Ce,Re.ml,0,null,this),this.lineJoin=Re.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(Ce,Re,je,Be){var De=shapePool.newElement();De.c=Ce.c;var Fe=Ce.length();Ce.c||(Fe-=1);var Oe,ke,Me,Ue=[];for(Oe=0;Oe<Fe;Oe+=1)Me=PolynomialBezier.shapeSegment(Ce,Oe),Ue.push(offsetSegmentSplit(Me,Re));if(!Ce.c)for(Oe=Fe-1;Oe>=0;Oe-=1)Me=PolynomialBezier.shapeSegmentInverted(Ce,Oe),Ue.push(offsetSegmentSplit(Me,Re));Ue=pruneIntersections(Ue);var $e=null,He=null;for(Oe=0;Oe<Ue.length;Oe+=1){var Qe=Ue[Oe];for(He&&($e=joinLines(De,He,Qe[0],je,Be)),He=Qe[Qe.length-1],ke=0;ke<Qe.length;ke+=1)Me=Qe[ke],$e&&pointEqual(Me.points[0],$e)?De.setXYAt(Me.points[1][0],Me.points[1][1],"o",De.length()-1):De.setTripleAt(Me.points[0][0],Me.points[0][1],Me.points[1][0],Me.points[1][1],Me.points[0][0],Me.points[0][1],De.length()),De.setTripleAt(Me.points[3][0],Me.points[3][1],Me.points[3][0],Me.points[3][1],Me.points[2][0],Me.points[2][1],De.length()),$e=Me.points[3]}return Ue.length&&joinLines(De,He,Ue[0][0],je,Be),De},OffsetPathModifier.prototype.processShapes=function(Ce){var Re,je,Be=this.shapes.length,De,Fe,Oe=this.amount.v,ke=this.miterLimit.v,Me=this.lineJoin;if(Oe!==0){var Ue,$e;for(je=0;je<Be;je+=1){if(Ue=this.shapes[je],$e=Ue.localShapeCollection,!(!Ue.shape._mdf&&!this._mdf&&!Ce))for($e.releaseShapes(),Ue.shape._mdf=!0,Re=Ue.shape.paths.shapes,Fe=Ue.shape.paths._length,De=0;De<Fe;De+=1)$e.addShape(this.processPath(Re[De],Oe,Me,ke));Ue.shape.paths=Ue.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(Ce){for(var Re=Ce.fStyle?Ce.fStyle.split(" "):[],je="normal",Be="normal",De=Re.length,Fe,Oe=0;Oe<De;Oe+=1)switch(Fe=Re[Oe].toLowerCase(),Fe){case"italic":Be="italic";break;case"bold":je="700";break;case"black":je="900";break;case"medium":je="500";break;case"regular":case"normal":je="400";break;case"light":case"thin":je="200";break}return{style:Be,weight:Ce.fWeight||je}}var FontManager=(function(){var Ce=5e3,Re={w:0,size:0,shapes:[],data:{shapes:[]}},je=[];je=je.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var Be=127988,De=917631,Fe=917601,Oe=917626,ke=65039,Me=8205,Ue=127462,$e=127487,He=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function Qe(xr){var Pr=xr.split(","),br,wr=Pr.length,Br=[];for(br=0;br<wr;br+=1)Pr[br]!=="sans-serif"&&Pr[br]!=="monospace"&&Br.push(Pr[br]);return Br.join(",")}function We(xr,Pr){var br=createTag("span");br.setAttribute("aria-hidden",!0),br.style.fontFamily=Pr;var wr=createTag("span");wr.innerText="giItT1WQy@!-/#",br.style.position="absolute",br.style.left="-10000px",br.style.top="-10000px",br.style.fontSize="300px",br.style.fontVariant="normal",br.style.fontStyle="normal",br.style.fontWeight="normal",br.style.letterSpacing="0",br.appendChild(wr),document.body.appendChild(br);var Br=wr.offsetWidth;return wr.style.fontFamily=Qe(xr)+", "+Pr,{node:wr,w:Br,parent:br}}function qe(){var xr,Pr=this.fonts.length,br,wr,Br=Pr;for(xr=0;xr<Pr;xr+=1)this.fonts[xr].loaded?Br-=1:this.fonts[xr].fOrigin==="n"||this.fonts[xr].origin===0?this.fonts[xr].loaded=!0:(br=this.fonts[xr].monoCase.node,wr=this.fonts[xr].monoCase.w,br.offsetWidth!==wr?(Br-=1,this.fonts[xr].loaded=!0):(br=this.fonts[xr].sansCase.node,wr=this.fonts[xr].sansCase.w,br.offsetWidth!==wr&&(Br-=1,this.fonts[xr].loaded=!0)),this.fonts[xr].loaded&&(this.fonts[xr].sansCase.parent.parentNode.removeChild(this.fonts[xr].sansCase.parent),this.fonts[xr].monoCase.parent.parentNode.removeChild(this.fonts[xr].monoCase.parent)));Br!==0&&Date.now()-this.initTime<Ce?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function Ke(xr,Pr){var br=document.body&&Pr?"svg":"canvas",wr,Br=getFontProperties(xr);if(br==="svg"){var Lr=createNS("text");Lr.style.fontSize="100px",Lr.setAttribute("font-family",xr.fFamily),Lr.setAttribute("font-style",Br.style),Lr.setAttribute("font-weight",Br.weight),Lr.textContent="1",xr.fClass?(Lr.style.fontFamily="inherit",Lr.setAttribute("class",xr.fClass)):Lr.style.fontFamily=xr.fFamily,Pr.appendChild(Lr),wr=Lr}else{var yr=new OffscreenCanvas(500,500).getContext("2d");yr.font=Br.style+" "+Br.weight+" 100px "+xr.fFamily,wr=yr}function vr(Tr){return br==="svg"?(wr.textContent=Tr,wr.getComputedTextLength()):wr.measureText(Tr).width}return{measureText:vr}}function Xe(xr,Pr){if(!xr){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=xr.list;return}if(!document.body){this.isLoaded=!0,xr.list.forEach(function(Wr){Wr.helper=Ke(Wr),Wr.cache={}}),this.fonts=xr.list;return}var br=xr.list,wr,Br=br.length,Lr=Br;for(wr=0;wr<Br;wr+=1){var yr=!0,vr,Tr;if(br[wr].loaded=!1,br[wr].monoCase=We(br[wr].fFamily,"monospace"),br[wr].sansCase=We(br[wr].fFamily,"sans-serif"),!br[wr].fPath)br[wr].loaded=!0,Lr-=1;else if(br[wr].fOrigin==="p"||br[wr].origin===3){if(vr=document.querySelectorAll('style[f-forigin="p"][f-family="'+br[wr].fFamily+'"], style[f-origin="3"][f-family="'+br[wr].fFamily+'"]'),vr.length>0&&(yr=!1),yr){var Or=createTag("style");Or.setAttribute("f-forigin",br[wr].fOrigin),Or.setAttribute("f-origin",br[wr].origin),Or.setAttribute("f-family",br[wr].fFamily),Or.type="text/css",Or.innerText="@font-face {font-family: "+br[wr].fFamily+"; font-style: normal; src: url('"+br[wr].fPath+"');}",Pr.appendChild(Or)}}else if(br[wr].fOrigin==="g"||br[wr].origin===1){for(vr=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Tr=0;Tr<vr.length;Tr+=1)vr[Tr].href.indexOf(br[wr].fPath)!==-1&&(yr=!1);if(yr){var Nr=createTag("link");Nr.setAttribute("f-forigin",br[wr].fOrigin),Nr.setAttribute("f-origin",br[wr].origin),Nr.type="text/css",Nr.rel="stylesheet",Nr.href=br[wr].fPath,document.body.appendChild(Nr)}}else if(br[wr].fOrigin==="t"||br[wr].origin===2){for(vr=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Tr=0;Tr<vr.length;Tr+=1)br[wr].fPath===vr[Tr].src&&(yr=!1);if(yr){var Hr=createTag("link");Hr.setAttribute("f-forigin",br[wr].fOrigin),Hr.setAttribute("f-origin",br[wr].origin),Hr.setAttribute("rel","stylesheet"),Hr.setAttribute("href",br[wr].fPath),Pr.appendChild(Hr)}}br[wr].helper=Ke(br[wr],Pr),br[wr].cache={},this.fonts.push(br[wr])}Lr===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Ye(xr){if(xr){this.chars||(this.chars=[]);var Pr,br=xr.length,wr,Br=this.chars.length,Lr;for(Pr=0;Pr<br;Pr+=1){for(wr=0,Lr=!1;wr<Br;)this.chars[wr].style===xr[Pr].style&&this.chars[wr].fFamily===xr[Pr].fFamily&&this.chars[wr].ch===xr[Pr].ch&&(Lr=!0),wr+=1;Lr||(this.chars.push(xr[Pr]),Br+=1)}}}function Ze(xr,Pr,br){for(var wr=0,Br=this.chars.length;wr<Br;){if(this.chars[wr].ch===xr&&this.chars[wr].style===Pr&&this.chars[wr].fFamily===br)return this.chars[wr];wr+=1}return(typeof xr=="string"&&xr.charCodeAt(0)!==13||!xr)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",xr,Pr,br)),Re}function Je(xr,Pr,br){var wr=this.getFontByName(Pr),Br=xr;if(!wr.cache[Br]){var Lr=wr.helper;if(xr===" "){var yr=Lr.measureText("|"+xr+"|"),vr=Lr.measureText("||");wr.cache[Br]=(yr-vr)/100}else wr.cache[Br]=Lr.measureText(xr)/100}return wr.cache[Br]*br}function tr(xr){for(var Pr=0,br=this.fonts.length;Pr<br;){if(this.fonts[Pr].fName===xr)return this.fonts[Pr];Pr+=1}return this.fonts[0]}function rr(xr){var Pr=0,br=xr.charCodeAt(0);if(br>=55296&&br<=56319){var wr=xr.charCodeAt(1);wr>=56320&&wr<=57343&&(Pr=(br-55296)*1024+wr-56320+65536)}return Pr}function ar(xr,Pr){var br=xr.toString(16)+Pr.toString(16);return He.indexOf(br)!==-1}function nr(xr){return xr===Me}function sr(xr){return xr===ke}function dr(xr){var Pr=rr(xr);return Pr>=Ue&&Pr<=$e}function _r(xr){return dr(xr.substr(0,2))&&dr(xr.substr(2,2))}function fr(xr){return je.indexOf(xr)!==-1}function or(xr,Pr){var br=rr(xr.substr(Pr,2));if(br!==Be)return!1;var wr=0;for(Pr+=2;wr<5;){if(br=rr(xr.substr(Pr,2)),br<Fe||br>Oe)return!1;wr+=1,Pr+=2}return rr(xr.substr(Pr,2))===De}function Er(){this.isLoaded=!0}var Rr=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Rr.isModifier=ar,Rr.isZeroWidthJoiner=nr,Rr.isFlagEmoji=_r,Rr.isRegionalCode=dr,Rr.isCombinedCharacter=fr,Rr.isRegionalFlag=or,Rr.isVariationSelector=sr,Rr.BLACK_FLAG_CODE_POINT=Be;var jr={addChars:Ye,addFonts:Xe,getCharData:Ze,getFontByName:tr,measureText:Je,checkLoadedFonts:qe,setIsLoaded:Er};return Rr.prototype=jr,Rr})();function SlotManager(Ce){this.animationData=Ce}SlotManager.prototype.getProp=function(Ce){return this.animationData.slots&&this.animationData.slots[Ce.sid]?Object.assign(Ce,this.animationData.slots[Ce.sid].p):Ce};function slotFactory(Ce){return new SlotManager(Ce)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(Re){this.renderableComponents.indexOf(Re)===-1&&this.renderableComponents.push(Re)},removeRenderableComponent:function(Re){this.renderableComponents.indexOf(Re)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(Re),1)},prepareRenderableFrame:function(Re){this.checkLayerLimits(Re)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(Re){this.data.ip-this.data.st<=Re&&this.data.op-this.data.st>Re?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var Re,je=this.renderableComponents.length;for(Re=0;Re<je;Re+=1)this.renderableComponents[Re].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(function(){var Ce={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(Re){return Ce[Re]||""}})();function SliderEffect(Ce,Re,je){this.p=PropertyFactory.getProp(Re,Ce.v,0,0,je)}function AngleEffect(Ce,Re,je){this.p=PropertyFactory.getProp(Re,Ce.v,0,0,je)}function ColorEffect(Ce,Re,je){this.p=PropertyFactory.getProp(Re,Ce.v,1,0,je)}function PointEffect(Ce,Re,je){this.p=PropertyFactory.getProp(Re,Ce.v,1,0,je)}function LayerIndexEffect(Ce,Re,je){this.p=PropertyFactory.getProp(Re,Ce.v,0,0,je)}function MaskIndexEffect(Ce,Re,je){this.p=PropertyFactory.getProp(Re,Ce.v,0,0,je)}function CheckboxEffect(Ce,Re,je){this.p=PropertyFactory.getProp(Re,Ce.v,0,0,je)}function NoValueEffect(){this.p={}}function EffectsManager(Ce,Re){var je=Ce.ef||[];this.effectElements=[];var Be,De=je.length,Fe;for(Be=0;Be<De;Be+=1)Fe=new GroupEffect(je[Be],Re),this.effectElements.push(Fe)}function GroupEffect(Ce,Re){this.init(Ce,Re)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(Ce,Re){this.data=Ce,this.effectElements=[],this.initDynamicPropertyContainer(Re);var je,Be=this.data.ef.length,De,Fe=this.data.ef;for(je=0;je<Be;je+=1){switch(De=null,Fe[je].ty){case 0:De=new SliderEffect(Fe[je],Re,this);break;case 1:De=new AngleEffect(Fe[je],Re,this);break;case 2:De=new ColorEffect(Fe[je],Re,this);break;case 3:De=new PointEffect(Fe[je],Re,this);break;case 4:case 7:De=new CheckboxEffect(Fe[je],Re,this);break;case 10:De=new LayerIndexEffect(Fe[je],Re,this);break;case 11:De=new MaskIndexEffect(Fe[je],Re,this);break;case 5:De=new EffectsManager(Fe[je],Re);break;default:De=new NoValueEffect(Fe[je]);break}De&&this.effectElements.push(De)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var Re=0,je=this.data.masksProperties.length;Re<je;){if(this.data.masksProperties[Re].mode!=="n"&&this.data.masksProperties[Re].cl!==!1)return!0;Re+=1}return!1},initExpressions:function(){var Re=getExpressionInterfaces();if(Re){var je=Re("layer"),Be=Re("effects"),De=Re("shape"),Fe=Re("text"),Oe=Re("comp");this.layerInterface=je(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ke=Be.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ke),this.data.ty===0||this.data.xt?this.compInterface=Oe(this):this.data.ty===4?(this.layerInterface.shapeInterface=De(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=Fe(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var Re=getBlendMode(this.data.bm),je=this.baseElement||this.layerElement;je.style["mix-blend-mode"]=Re},initBaseData:function(Re,je,Be){this.globalData=je,this.comp=Be,this.data=Re,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(Re,je){var Be,De=this.dynamicProperties.length;for(Be=0;Be<De;Be+=1)(je||this._isParent&&this.dynamicProperties[Be].propType==="transform")&&(this.dynamicProperties[Be].getValue(),this.dynamicProperties[Be]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(Re){this.dynamicProperties.indexOf(Re)===-1&&this.dynamicProperties.push(Re)}};function FootageElement(Ce,Re,je){this.initFrame(),this.initRenderable(),this.assetData=Re.getAssetData(Ce.refId),this.footageData=Re.imageLoader.getAsset(this.assetData),this.initBaseData(Ce,Re,je)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var Ce=getExpressionInterfaces();if(Ce){var Re=Ce("footage");this.layerInterface=Re(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(Ce,Re,je){this.initFrame(),this.initRenderable(),this.assetData=Re.getAssetData(Ce.refId),this.initBaseData(Ce,Re,je),this._isPlaying=!1,this._canPlay=!1;var Be=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(Be),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=Ce.tm?PropertyFactory.getProp(this,Ce.tm,0,Re.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,Ce.au&&Ce.au.lv?Ce.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(Ce){if(this.prepareRenderableFrame(Ce,!0),this.prepareProperties(Ce,!0),this.tm._placeholder)this._currentTime=Ce/this.data.sr;else{var Re=this.tm.v;this._currentTime=Re}this._volume=this.lv.v[0];var je=this._volume*this._volumeMultiplier;this._previousVolume!==je&&(this._previousVolume=je,this.audio.volume(je))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(Ce){this.audio.rate(Ce)},AudioElement.prototype.volume=function(Ce){this._volumeMultiplier=Ce,this._previousVolume=Ce*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(Ce){var Re,je=this.layers.length,Be;for(this.completeLayers=!0,Re=je-1;Re>=0;Re-=1)this.elements[Re]||(Be=this.layers[Re],Be.ip-Be.st<=Ce-this.layers[Re].st&&Be.op-Be.st>Ce-this.layers[Re].st&&this.buildItem(Re)),this.completeLayers=this.elements[Re]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(Ce){switch(Ce.ty){case 2:return this.createImage(Ce);case 0:return this.createComp(Ce);case 1:return this.createSolid(Ce);case 3:return this.createNull(Ce);case 4:return this.createShape(Ce);case 5:return this.createText(Ce);case 6:return this.createAudio(Ce);case 13:return this.createCamera(Ce);case 15:return this.createFootage(Ce);default:return this.createNull(Ce)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(Ce){return new AudioElement(Ce,this.globalData,this)},BaseRenderer.prototype.createFootage=function(Ce){return new FootageElement(Ce,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var Ce,Re=this.layers.length;for(Ce=0;Ce<Re;Ce+=1)this.buildItem(Ce);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(Ce){this.completeLayers=!1;var Re,je=Ce.length,Be,De=this.layers.length;for(Re=0;Re<je;Re+=1)for(Be=0;Be<De;){if(this.layers[Be].id===Ce[Re].id){this.layers[Be]=Ce[Re];break}Be+=1}},BaseRenderer.prototype.setProjectInterface=function(Ce){this.globalData.projectInterface=Ce},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(Ce,Re,je){for(var Be=this.elements,De=this.layers,Fe=0,Oe=De.length;Fe<Oe;)De[Fe].ind==Re&&(!Be[Fe]||Be[Fe]===!0?(this.buildItem(Fe),this.addPendingElement(Ce)):(je.push(Be[Fe]),Be[Fe].setAsParent(),De[Fe].parent!==void 0?this.buildElementParenting(Ce,De[Fe].parent,je):Ce.setHierarchy(je))),Fe+=1},BaseRenderer.prototype.addPendingElement=function(Ce){this.pendingElements.push(Ce)},BaseRenderer.prototype.searchExtraCompositions=function(Ce){var Re,je=Ce.length;for(Re=0;Re<je;Re+=1)if(Ce[Re].xt){var Be=this.createComp(Ce[Re]);Be.initExpressions(),this.globalData.projectInterface.registerComposition(Be)}},BaseRenderer.prototype.getElementById=function(Ce){var Re,je=this.elements.length;for(Re=0;Re<je;Re+=1)if(this.elements[Re].data.ind===Ce)return this.elements[Re];return null},BaseRenderer.prototype.getElementByPath=function(Ce){var Re=Ce.shift(),je;if(typeof Re=="number")je=this.elements[Re];else{var Be,De=this.elements.length;for(Be=0;Be<De;Be+=1)if(this.elements[Be].data.nm===Re){je=this.elements[Be];break}}return Ce.length===0?je:je.getElementByPath(Ce)},BaseRenderer.prototype.setupGlobalData=function(Ce,Re){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(Ce),this.globalData.fontManager.addChars(Ce.chars),this.globalData.fontManager.addFonts(Ce.fonts,Re),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=Ce.fr,this.globalData.nm=Ce.nm,this.globalData.compSize={w:Ce.w,h:Ce.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var Re=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:Re,localMat:Re,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var Re,je=this.finalTransform.mat,Be=0,De=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;Be<De;){if(this.hierarchy[Be].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}Be+=1}if(this.finalTransform._matMdf)for(Re=this.finalTransform.mProp.v.props,je.cloneFromProps(Re),Be=0;Be<De;Be+=1)je.multiply(this.hierarchy[Be].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var Re=0,je=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;Re<je;)this.localTransforms[Re]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[Re]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),Re+=1;if(this.finalTransform._localMatMdf){var Be=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(Be),Re=1;Re<je;Re+=1){var De=this.localTransforms[Re].matrix;Be.multiply(De)}Be.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var Fe=this.finalTransform.localOpacity;for(Re=0;Re<je;Re+=1)Fe*=this.localTransforms[Re].opacity*.01;this.finalTransform.localOpacity=Fe}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var Re=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(Re.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var je=0,Be=Re.length;for(je=0;je<Be;je+=1)this.localTransforms.push(Re[je])}}},globalToLocal:function(Re){var je=[];je.push(this.finalTransform);for(var Be=!0,De=this.comp;Be;)De.finalTransform?(De.data.hasMask&&je.splice(0,0,De.finalTransform),De=De.comp):Be=!1;var Fe,Oe=je.length,ke;for(Fe=0;Fe<Oe;Fe+=1)ke=je[Fe].mat.applyToPointArray(0,0,0),Re=[Re[0]-ke[0],Re[1]-ke[1],0];return Re},mHelper:new Matrix};function MaskElement(Ce,Re,je){this.data=Ce,this.element=Re,this.globalData=je,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var Be=this.globalData.defs,De,Fe=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(Fe),this.solidPath="";var Oe,ke=this.masksProperties,Me=0,Ue=[],$e,He,Qe=createElementID(),We,qe,Ke,Xe,Ye="clipPath",Ze="clip-path";for(De=0;De<Fe;De+=1)if((ke[De].mode!=="a"&&ke[De].mode!=="n"||ke[De].inv||ke[De].o.k!==100||ke[De].o.x)&&(Ye="mask",Ze="mask"),(ke[De].mode==="s"||ke[De].mode==="i")&&Me===0?(We=createNS("rect"),We.setAttribute("fill","#ffffff"),We.setAttribute("width",this.element.comp.data.w||0),We.setAttribute("height",this.element.comp.data.h||0),Ue.push(We)):We=null,Oe=createNS("path"),ke[De].mode==="n")this.viewData[De]={op:PropertyFactory.getProp(this.element,ke[De].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ke[De],3),elem:Oe,lastPath:""},Be.appendChild(Oe);else{Me+=1,Oe.setAttribute("fill",ke[De].mode==="s"?"#000000":"#ffffff"),Oe.setAttribute("clip-rule","nonzero");var Je;if(ke[De].x.k!==0?(Ye="mask",Ze="mask",Xe=PropertyFactory.getProp(this.element,ke[De].x,0,null,this.element),Je=createElementID(),qe=createNS("filter"),qe.setAttribute("id",Je),Ke=createNS("feMorphology"),Ke.setAttribute("operator","erode"),Ke.setAttribute("in","SourceGraphic"),Ke.setAttribute("radius","0"),qe.appendChild(Ke),Be.appendChild(qe),Oe.setAttribute("stroke",ke[De].mode==="s"?"#000000":"#ffffff")):(Ke=null,Xe=null),this.storedData[De]={elem:Oe,x:Xe,expan:Ke,lastPath:"",lastOperator:"",filterId:Je,lastRadius:0},ke[De].mode==="i"){He=Ue.length;var tr=createNS("g");for($e=0;$e<He;$e+=1)tr.appendChild(Ue[$e]);var rr=createNS("mask");rr.setAttribute("mask-type","alpha"),rr.setAttribute("id",Qe+"_"+Me),rr.appendChild(Oe),Be.appendChild(rr),tr.setAttribute("mask","url("+getLocationHref()+"#"+Qe+"_"+Me+")"),Ue.length=0,Ue.push(tr)}else Ue.push(Oe);ke[De].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[De]={elem:Oe,lastPath:"",op:PropertyFactory.getProp(this.element,ke[De].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ke[De],3),invRect:We},this.viewData[De].prop.k||this.drawPath(ke[De],this.viewData[De].prop.v,this.viewData[De])}for(this.maskElement=createNS(Ye),Fe=Ue.length,De=0;De<Fe;De+=1)this.maskElement.appendChild(Ue[De]);Me>0&&(this.maskElement.setAttribute("id",Qe),this.element.maskedElement.setAttribute(Ze,"url("+getLocationHref()+"#"+Qe+")"),Be.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(Ce){return this.viewData[Ce].prop},MaskElement.prototype.renderFrame=function(Ce){var Re=this.element.finalTransform.mat,je,Be=this.masksProperties.length;for(je=0;je<Be;je+=1)if((this.viewData[je].prop._mdf||Ce)&&this.drawPath(this.masksProperties[je],this.viewData[je].prop.v,this.viewData[je]),(this.viewData[je].op._mdf||Ce)&&this.viewData[je].elem.setAttribute("fill-opacity",this.viewData[je].op.v),this.masksProperties[je].mode!=="n"&&(this.viewData[je].invRect&&(this.element.finalTransform.mProp._mdf||Ce)&&this.viewData[je].invRect.setAttribute("transform",Re.getInverseMatrix().to2dCSS()),this.storedData[je].x&&(this.storedData[je].x._mdf||Ce))){var De=this.storedData[je].expan;this.storedData[je].x.v<0?(this.storedData[je].lastOperator!=="erode"&&(this.storedData[je].lastOperator="erode",this.storedData[je].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[je].filterId+")")),De.setAttribute("radius",-this.storedData[je].x.v)):(this.storedData[je].lastOperator!=="dilate"&&(this.storedData[je].lastOperator="dilate",this.storedData[je].elem.setAttribute("filter",null)),this.storedData[je].elem.setAttribute("stroke-width",this.storedData[je].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var Ce="M0,0 ";return Ce+=" h"+this.globalData.compSize.w,Ce+=" v"+this.globalData.compSize.h,Ce+=" h-"+this.globalData.compSize.w,Ce+=" v-"+this.globalData.compSize.h+" ",Ce},MaskElement.prototype.drawPath=function(Ce,Re,je){var Be=" M"+Re.v[0][0]+","+Re.v[0][1],De,Fe;for(Fe=Re._length,De=1;De<Fe;De+=1)Be+=" C"+Re.o[De-1][0]+","+Re.o[De-1][1]+" "+Re.i[De][0]+","+Re.i[De][1]+" "+Re.v[De][0]+","+Re.v[De][1];if(Re.c&&Fe>1&&(Be+=" C"+Re.o[De-1][0]+","+Re.o[De-1][1]+" "+Re.i[0][0]+","+Re.i[0][1]+" "+Re.v[0][0]+","+Re.v[0][1]),je.lastPath!==Be){var Oe="";je.elem&&(Re.c&&(Oe=Ce.inv?this.solidPath+Be:Be),je.elem.setAttribute("d",Oe)),je.lastPath=Be}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=(function(){var Ce={};Ce.createFilter=Re,Ce.createAlphaToLuminanceFilter=je;function Re(Be,De){var Fe=createNS("filter");return Fe.setAttribute("id",Be),De!==!0&&(Fe.setAttribute("filterUnits","objectBoundingBox"),Fe.setAttribute("x","0%"),Fe.setAttribute("y","0%"),Fe.setAttribute("width","100%"),Fe.setAttribute("height","100%")),Fe}function je(){var Be=createNS("feColorMatrix");return Be.setAttribute("type","matrix"),Be.setAttribute("color-interpolation-filters","sRGB"),Be.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),Be}return Ce})(),featureSupport=(function(){var Ce={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(Ce.maskType=!1),/firefox/i.test(navigator.userAgent)&&(Ce.svgLumaHidden=!1),Ce})(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(Ce){var Re,je="SourceGraphic",Be=Ce.data.ef?Ce.data.ef.length:0,De=createElementID(),Fe=filtersFactory.createFilter(De,!0),Oe=0;this.filters=[];var ke;for(Re=0;Re<Be;Re+=1){ke=null;var Me=Ce.data.ef[Re].ty;if(registeredEffects$1[Me]){var Ue=registeredEffects$1[Me].effect;ke=new Ue(Fe,Ce.effectsManager.effectElements[Re],Ce,idPrefix+Oe,je),je=idPrefix+Oe,registeredEffects$1[Me].countsAsEffect&&(Oe+=1)}ke&&this.filters.push(ke)}Oe&&(Ce.globalData.defs.appendChild(Fe),Ce.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+De+")")),this.filters.length&&Ce.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(Ce){var Re,je=this.filters.length;for(Re=0;Re<je;Re+=1)this.filters[Re].renderFrame(Ce)},SVGEffects.prototype.getEffects=function(Ce){var Re,je=this.filters.length,Be=[];for(Re=0;Re<je;Re+=1)this.filters[Re].type===Ce&&Be.push(this.filters[Re]);return Be};function registerEffect$1(Ce,Re,je){registeredEffects$1[Ce]={effect:Re,countsAsEffect:je}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var Re=null;if(this.data.td){this.matteMasks={};var je=createNS("g");je.setAttribute("id",this.layerId),je.appendChild(this.layerElement),Re=je,this.globalData.defs.appendChild(je)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),Re=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var Be=createNS("clipPath"),De=createNS("path");De.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var Fe=createElementID();if(Be.setAttribute("id",Fe),Be.appendChild(De),this.globalData.defs.appendChild(Be),this.checkMasks()){var Oe=createNS("g");Oe.setAttribute("clip-path","url("+getLocationHref()+"#"+Fe+")"),Oe.appendChild(this.layerElement),this.transformedElement=Oe,Re?Re.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Fe+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(Re){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[Re]){var je=this.layerId+"_"+Re,Be,De,Fe,Oe;if(Re===1||Re===3){var ke=createNS("mask");ke.setAttribute("id",je),ke.setAttribute("mask-type",Re===3?"luminance":"alpha"),Fe=createNS("use"),Fe.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ke.appendChild(Fe),this.globalData.defs.appendChild(ke),!featureSupport.maskType&&Re===1&&(ke.setAttribute("mask-type","luminance"),Be=createElementID(),De=filtersFactory.createFilter(Be),this.globalData.defs.appendChild(De),De.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Oe=createNS("g"),Oe.appendChild(Fe),ke.appendChild(Oe),Oe.setAttribute("filter","url("+getLocationHref()+"#"+Be+")"))}else if(Re===2){var Me=createNS("mask");Me.setAttribute("id",je),Me.setAttribute("mask-type","alpha");var Ue=createNS("g");Me.appendChild(Ue),Be=createElementID(),De=filtersFactory.createFilter(Be);var $e=createNS("feComponentTransfer");$e.setAttribute("in","SourceGraphic"),De.appendChild($e);var He=createNS("feFuncA");He.setAttribute("type","table"),He.setAttribute("tableValues","1.0 0.0"),$e.appendChild(He),this.globalData.defs.appendChild(De);var Qe=createNS("rect");Qe.setAttribute("width",this.comp.data.w),Qe.setAttribute("height",this.comp.data.h),Qe.setAttribute("x","0"),Qe.setAttribute("y","0"),Qe.setAttribute("fill","#ffffff"),Qe.setAttribute("opacity","0"),Ue.setAttribute("filter","url("+getLocationHref()+"#"+Be+")"),Ue.appendChild(Qe),Fe=createNS("use"),Fe.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Ue.appendChild(Fe),featureSupport.maskType||(Me.setAttribute("mask-type","luminance"),De.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Oe=createNS("g"),Ue.appendChild(Qe),Oe.appendChild(this.layerElement),Ue.appendChild(Oe)),this.globalData.defs.appendChild(Me)}this.matteMasks[Re]=je}return this.matteMasks[Re]},setMatte:function(Re){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+Re+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(Re){this.hierarchy=Re},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var Ce={initElement:function(je,Be,De){this.initFrame(),this.initBaseData(je,Be,De),this.initTransform(je,Be,De),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var je=this.baseElement||this.layerElement;je.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var je=this.baseElement||this.layerElement;je.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(je){this._mdf=!1,this.prepareRenderableFrame(je),this.prepareProperties(je,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(Ce)],RenderableDOMElement)})();function IImageElement(Ce,Re,je){this.assetData=Re.getAssetData(Ce.refId),this.assetData&&this.assetData.sid&&(this.assetData=Re.slotManager.getProp(this.assetData)),this.initElement(Ce,Re,je),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var Ce=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Ce),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(Ce,Re){this.elem=Ce,this.pos=Re}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(Re){var je,Be=this.shapeModifiers.length;for(je=0;je<Be;je+=1)this.shapeModifiers[je].addShape(Re)},isShapeInAnimatedModifiers:function(Re){for(var je=0,Be=this.shapeModifiers.length;je<Be;)if(this.shapeModifiers[je].isAnimatedWithShape(Re))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var Re,je=this.shapes.length;for(Re=0;Re<je;Re+=1)this.shapes[Re].sh.reset();je=this.shapeModifiers.length;var Be;for(Re=je-1;Re>=0&&(Be=this.shapeModifiers[Re].processShapes(this._isFirstFrame),!Be);Re-=1);}},searchProcessedElement:function(Re){for(var je=this.processedElements,Be=0,De=je.length;Be<De;){if(je[Be].elem===Re)return je[Be].pos;Be+=1}return 0},addProcessedElement:function(Re,je){for(var Be=this.processedElements,De=Be.length;De;)if(De-=1,Be[De].elem===Re){Be[De].pos=je;return}Be.push(new ProcessedElement(Re,je))},prepareFrame:function(Re){this.prepareRenderableFrame(Re),this.prepareProperties(Re,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(Ce,Re,je){this.caches=[],this.styles=[],this.transformers=Ce,this.lStr="",this.sh=je,this.lvl=Re,this._isAnimated=!!je.k;for(var Be=0,De=Ce.length;Be<De;){if(Ce[Be].mProps.dynamicProperties.length){this._isAnimated=!0;break}Be+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(Ce,Re){this.data=Ce,this.type=Ce.ty,this.d="",this.lvl=Re,this._mdf=!1,this.closed=Ce.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(Ce,Re,je,Be){this.elem=Ce,this.frameId=-1,this.dataProps=createSizedArray(Re.length),this.renderer=je,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",Re.length?Re.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(Be);var De,Fe=Re.length||0,Oe;for(De=0;De<Fe;De+=1)Oe=PropertyFactory.getProp(Ce,Re[De].v,0,0,this),this.k=Oe.k||this.k,this.dataProps[De]={n:Re[De].n,p:Oe};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(Ce){if(!(this.elem.globalData.frameId===this.frameId&&!Ce)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||Ce,this._mdf)){var Re=0,je=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),Re=0;Re<je;Re+=1)this.dataProps[Re].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[Re].p.v:this.dashArray[Re]=this.dataProps[Re].p.v:this.dashoffset[0]=this.dataProps[Re].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(Ce,Re,je){this.initDynamicPropertyContainer(Ce),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(Ce,Re.o,0,.01,this),this.w=PropertyFactory.getProp(Ce,Re.w,0,null,this),this.d=new DashProperty(Ce,Re.d||{},"svg",this),this.c=PropertyFactory.getProp(Ce,Re.c,1,255,this),this.style=je,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(Ce,Re,je){this.initDynamicPropertyContainer(Ce),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(Ce,Re.o,0,.01,this),this.c=PropertyFactory.getProp(Ce,Re.c,1,255,this),this.style=je}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(Ce,Re,je){this.initDynamicPropertyContainer(Ce),this.getValue=this.iterateDynamicProperties,this.style=je}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(Ce,Re,je){this.data=Re,this.c=createTypedArray("uint8c",Re.p*4);var Be=Re.k.k[0].s?Re.k.k[0].s.length-Re.p*4:Re.k.k.length-Re.p*4;this.o=createTypedArray("float32",Be),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=Be,this.initDynamicPropertyContainer(je),this.prop=PropertyFactory.getProp(Ce,Re.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(Ce,Re){for(var je=0,Be=this.o.length/2,De;je<Be;){if(De=Math.abs(Ce[je*4]-Ce[Re*4+je*2]),De>.01)return!1;je+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var Ce=0,Re=this.data.k.k.length;Ce<Re;){if(!this.comparePoints(this.data.k.k[Ce].s,this.data.p))return!1;Ce+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(Ce){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||Ce){var Re,je=this.data.p*4,Be,De;for(Re=0;Re<je;Re+=1)Be=Re%4===0?100:255,De=Math.round(this.prop.v[Re]*Be),this.c[Re]!==De&&(this.c[Re]=De,this._cmdf=!Ce);if(this.o.length)for(je=this.prop.v.length,Re=this.data.p*4;Re<je;Re+=1)Be=Re%2===0?100:1,De=Re%2===0?Math.round(this.prop.v[Re]*100):this.prop.v[Re],this.o[Re-this.data.p*4]!==De&&(this.o[Re-this.data.p*4]=De,this._omdf=!Ce);this._mdf=!Ce}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(Ce,Re,je){this.initDynamicPropertyContainer(Ce),this.getValue=this.iterateDynamicProperties,this.initGradientData(Ce,Re,je)}SVGGradientFillStyleData.prototype.initGradientData=function(Ce,Re,je){this.o=PropertyFactory.getProp(Ce,Re.o,0,.01,this),this.s=PropertyFactory.getProp(Ce,Re.s,1,null,this),this.e=PropertyFactory.getProp(Ce,Re.e,1,null,this),this.h=PropertyFactory.getProp(Ce,Re.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(Ce,Re.a||{k:0},0,degToRads,this),this.g=new GradientProperty(Ce,Re.g,this),this.style=je,this.stops=[],this.setGradientData(je.pElem,Re),this.setGradientOpacity(Re,je),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(Ce,Re){var je=createElementID(),Be=createNS(Re.t===1?"linearGradient":"radialGradient");Be.setAttribute("id",je),Be.setAttribute("spreadMethod","pad"),Be.setAttribute("gradientUnits","userSpaceOnUse");var De=[],Fe,Oe,ke;for(ke=Re.g.p*4,Oe=0;Oe<ke;Oe+=4)Fe=createNS("stop"),Be.appendChild(Fe),De.push(Fe);Ce.setAttribute(Re.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+je+")"),this.gf=Be,this.cst=De},SVGGradientFillStyleData.prototype.setGradientOpacity=function(Ce,Re){if(this.g._hasOpacity&&!this.g._collapsable){var je,Be,De,Fe=createNS("mask"),Oe=createNS("path");Fe.appendChild(Oe);var ke=createElementID(),Me=createElementID();Fe.setAttribute("id",Me);var Ue=createNS(Ce.t===1?"linearGradient":"radialGradient");Ue.setAttribute("id",ke),Ue.setAttribute("spreadMethod","pad"),Ue.setAttribute("gradientUnits","userSpaceOnUse"),De=Ce.g.k.k[0].s?Ce.g.k.k[0].s.length:Ce.g.k.k.length;var $e=this.stops;for(Be=Ce.g.p*4;Be<De;Be+=2)je=createNS("stop"),je.setAttribute("stop-color","rgb(255,255,255)"),Ue.appendChild(je),$e.push(je);Oe.setAttribute(Ce.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ke+")"),Ce.ty==="gs"&&(Oe.setAttribute("stroke-linecap",lineCapEnum[Ce.lc||2]),Oe.setAttribute("stroke-linejoin",lineJoinEnum[Ce.lj||2]),Ce.lj===1&&Oe.setAttribute("stroke-miterlimit",Ce.ml)),this.of=Ue,this.ms=Fe,this.ost=$e,this.maskId=Me,Re.msElem=Oe}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(Ce,Re,je){this.initDynamicPropertyContainer(Ce),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(Ce,Re.w,0,null,this),this.d=new DashProperty(Ce,Re.d||{},"svg",this),this.initGradientData(Ce,Re,je),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(Ce,Re,je){this.transform={mProps:Ce,op:Re,container:je},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(Re,je,Be,De){if(je===0)return"";var Fe=Re.o,Oe=Re.i,ke=Re.v,Me,Ue=" M"+De.applyToPointStringified(ke[0][0],ke[0][1]);for(Me=1;Me<je;Me+=1)Ue+=" C"+De.applyToPointStringified(Fe[Me-1][0],Fe[Me-1][1])+" "+De.applyToPointStringified(Oe[Me][0],Oe[Me][1])+" "+De.applyToPointStringified(ke[Me][0],ke[Me][1]);return Be&&je&&(Ue+=" C"+De.applyToPointStringified(Fe[Me-1][0],Fe[Me-1][1])+" "+De.applyToPointStringified(Oe[0][0],Oe[0][1])+" "+De.applyToPointStringified(ke[0][0],ke[0][1]),Ue+="z"),Ue},SVGElementsRenderer=(function(){var Ce=new Matrix,Re=new Matrix,je={createRenderFunction:Be};function Be(He){switch(He.ty){case"fl":return ke;case"gf":return Ue;case"gs":return Me;case"st":return $e;case"sh":case"el":case"rc":case"sr":return Oe;case"tr":return De;case"no":return Fe;default:return null}}function De(He,Qe,We){(We||Qe.transform.op._mdf)&&Qe.transform.container.setAttribute("opacity",Qe.transform.op.v),(We||Qe.transform.mProps._mdf)&&Qe.transform.container.setAttribute("transform",Qe.transform.mProps.v.to2dCSS())}function Fe(){}function Oe(He,Qe,We){var qe,Ke,Xe,Ye,Ze,Je,tr=Qe.styles.length,rr=Qe.lvl,ar,nr,sr,dr;for(Je=0;Je<tr;Je+=1){if(Ye=Qe.sh._mdf||We,Qe.styles[Je].lvl<rr){for(nr=Re.reset(),sr=rr-Qe.styles[Je].lvl,dr=Qe.transformers.length-1;!Ye&&sr>0;)Ye=Qe.transformers[dr].mProps._mdf||Ye,sr-=1,dr-=1;if(Ye)for(sr=rr-Qe.styles[Je].lvl,dr=Qe.transformers.length-1;sr>0;)nr.multiply(Qe.transformers[dr].mProps.v),sr-=1,dr-=1}else nr=Ce;if(ar=Qe.sh.paths,Ke=ar._length,Ye){for(Xe="",qe=0;qe<Ke;qe+=1)Ze=ar.shapes[qe],Ze&&Ze._length&&(Xe+=buildShapeString(Ze,Ze._length,Ze.c,nr));Qe.caches[Je]=Xe}else Xe=Qe.caches[Je];Qe.styles[Je].d+=He.hd===!0?"":Xe,Qe.styles[Je]._mdf=Ye||Qe.styles[Je]._mdf}}function ke(He,Qe,We){var qe=Qe.style;(Qe.c._mdf||We)&&qe.pElem.setAttribute("fill","rgb("+bmFloor(Qe.c.v[0])+","+bmFloor(Qe.c.v[1])+","+bmFloor(Qe.c.v[2])+")"),(Qe.o._mdf||We)&&qe.pElem.setAttribute("fill-opacity",Qe.o.v)}function Me(He,Qe,We){Ue(He,Qe,We),$e(He,Qe,We)}function Ue(He,Qe,We){var qe=Qe.gf,Ke=Qe.g._hasOpacity,Xe=Qe.s.v,Ye=Qe.e.v;if(Qe.o._mdf||We){var Ze=He.ty==="gf"?"fill-opacity":"stroke-opacity";Qe.style.pElem.setAttribute(Ze,Qe.o.v)}if(Qe.s._mdf||We){var Je=He.t===1?"x1":"cx",tr=Je==="x1"?"y1":"cy";qe.setAttribute(Je,Xe[0]),qe.setAttribute(tr,Xe[1]),Ke&&!Qe.g._collapsable&&(Qe.of.setAttribute(Je,Xe[0]),Qe.of.setAttribute(tr,Xe[1]))}var rr,ar,nr,sr;if(Qe.g._cmdf||We){rr=Qe.cst;var dr=Qe.g.c;for(nr=rr.length,ar=0;ar<nr;ar+=1)sr=rr[ar],sr.setAttribute("offset",dr[ar*4]+"%"),sr.setAttribute("stop-color","rgb("+dr[ar*4+1]+","+dr[ar*4+2]+","+dr[ar*4+3]+")")}if(Ke&&(Qe.g._omdf||We)){var _r=Qe.g.o;for(Qe.g._collapsable?rr=Qe.cst:rr=Qe.ost,nr=rr.length,ar=0;ar<nr;ar+=1)sr=rr[ar],Qe.g._collapsable||sr.setAttribute("offset",_r[ar*2]+"%"),sr.setAttribute("stop-opacity",_r[ar*2+1])}if(He.t===1)(Qe.e._mdf||We)&&(qe.setAttribute("x2",Ye[0]),qe.setAttribute("y2",Ye[1]),Ke&&!Qe.g._collapsable&&(Qe.of.setAttribute("x2",Ye[0]),Qe.of.setAttribute("y2",Ye[1])));else{var fr;if((Qe.s._mdf||Qe.e._mdf||We)&&(fr=Math.sqrt(Math.pow(Xe[0]-Ye[0],2)+Math.pow(Xe[1]-Ye[1],2)),qe.setAttribute("r",fr),Ke&&!Qe.g._collapsable&&Qe.of.setAttribute("r",fr)),Qe.s._mdf||Qe.e._mdf||Qe.h._mdf||Qe.a._mdf||We){fr||(fr=Math.sqrt(Math.pow(Xe[0]-Ye[0],2)+Math.pow(Xe[1]-Ye[1],2)));var or=Math.atan2(Ye[1]-Xe[1],Ye[0]-Xe[0]),Er=Qe.h.v;Er>=1?Er=.99:Er<=-1&&(Er=-.99);var Rr=fr*Er,jr=Math.cos(or+Qe.a.v)*Rr+Xe[0],xr=Math.sin(or+Qe.a.v)*Rr+Xe[1];qe.setAttribute("fx",jr),qe.setAttribute("fy",xr),Ke&&!Qe.g._collapsable&&(Qe.of.setAttribute("fx",jr),Qe.of.setAttribute("fy",xr))}}}function $e(He,Qe,We){var qe=Qe.style,Ke=Qe.d;Ke&&(Ke._mdf||We)&&Ke.dashStr&&(qe.pElem.setAttribute("stroke-dasharray",Ke.dashStr),qe.pElem.setAttribute("stroke-dashoffset",Ke.dashoffset[0])),Qe.c&&(Qe.c._mdf||We)&&qe.pElem.setAttribute("stroke","rgb("+bmFloor(Qe.c.v[0])+","+bmFloor(Qe.c.v[1])+","+bmFloor(Qe.c.v[2])+")"),(Qe.o._mdf||We)&&qe.pElem.setAttribute("stroke-opacity",Qe.o.v),(Qe.w._mdf||We)&&(qe.pElem.setAttribute("stroke-width",Qe.w.v),qe.msElem&&qe.msElem.setAttribute("stroke-width",Qe.w.v))}return je})();function SVGShapeElement(Ce,Re,je){this.shapes=[],this.shapesData=Ce.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(Ce,Re,je),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var Ce,Re=this.shapes.length,je,Be,De=this.stylesList.length,Fe,Oe=[],ke=!1;for(Be=0;Be<De;Be+=1){for(Fe=this.stylesList[Be],ke=!1,Oe.length=0,Ce=0;Ce<Re;Ce+=1)je=this.shapes[Ce],je.styles.indexOf(Fe)!==-1&&(Oe.push(je),ke=je._isAnimated||ke);Oe.length>1&&ke&&this.setShapesAsAnimated(Oe)}},SVGShapeElement.prototype.setShapesAsAnimated=function(Ce){var Re,je=Ce.length;for(Re=0;Re<je;Re+=1)Ce[Re].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(Ce,Re){var je,Be=new SVGStyleData(Ce,Re),De=Be.pElem;if(Ce.ty==="st")je=new SVGStrokeStyleData(this,Ce,Be);else if(Ce.ty==="fl")je=new SVGFillStyleData(this,Ce,Be);else if(Ce.ty==="gf"||Ce.ty==="gs"){var Fe=Ce.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;je=new Fe(this,Ce,Be),this.globalData.defs.appendChild(je.gf),je.maskId&&(this.globalData.defs.appendChild(je.ms),this.globalData.defs.appendChild(je.of),De.setAttribute("mask","url("+getLocationHref()+"#"+je.maskId+")"))}else Ce.ty==="no"&&(je=new SVGNoStyleData(this,Ce,Be));return(Ce.ty==="st"||Ce.ty==="gs")&&(De.setAttribute("stroke-linecap",lineCapEnum[Ce.lc||2]),De.setAttribute("stroke-linejoin",lineJoinEnum[Ce.lj||2]),De.setAttribute("fill-opacity","0"),Ce.lj===1&&De.setAttribute("stroke-miterlimit",Ce.ml)),Ce.r===2&&De.setAttribute("fill-rule","evenodd"),Ce.ln&&De.setAttribute("id",Ce.ln),Ce.cl&&De.setAttribute("class",Ce.cl),Ce.bm&&(De.style["mix-blend-mode"]=getBlendMode(Ce.bm)),this.stylesList.push(Be),this.addToAnimatedContents(Ce,je),je},SVGShapeElement.prototype.createGroupElement=function(Ce){var Re=new ShapeGroupData;return Ce.ln&&Re.gr.setAttribute("id",Ce.ln),Ce.cl&&Re.gr.setAttribute("class",Ce.cl),Ce.bm&&(Re.gr.style["mix-blend-mode"]=getBlendMode(Ce.bm)),Re},SVGShapeElement.prototype.createTransformElement=function(Ce,Re){var je=TransformPropertyFactory.getTransformProperty(this,Ce,this),Be=new SVGTransformData(je,je.o,Re);return this.addToAnimatedContents(Ce,Be),Be},SVGShapeElement.prototype.createShapeElement=function(Ce,Re,je){var Be=4;Ce.ty==="rc"?Be=5:Ce.ty==="el"?Be=6:Ce.ty==="sr"&&(Be=7);var De=ShapePropertyFactory.getShapeProp(this,Ce,Be,this),Fe=new SVGShapeData(Re,je,De);return this.shapes.push(Fe),this.addShapeToModifiers(Fe),this.addToAnimatedContents(Ce,Fe),Fe},SVGShapeElement.prototype.addToAnimatedContents=function(Ce,Re){for(var je=0,Be=this.animatedContents.length;je<Be;){if(this.animatedContents[je].element===Re)return;je+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(Ce),element:Re,data:Ce})},SVGShapeElement.prototype.setElementStyles=function(Ce){var Re=Ce.styles,je,Be=this.stylesList.length;for(je=0;je<Be;je+=1)Re.indexOf(this.stylesList[je])===-1&&!this.stylesList[je].closed&&Re.push(this.stylesList[je])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Ce,Re=this.itemsData.length;for(Ce=0;Ce<Re;Ce+=1)this.prevViewData[Ce]=this.itemsData[Ce];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),Re=this.dynamicProperties.length,Ce=0;Ce<Re;Ce+=1)this.dynamicProperties[Ce].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(Ce,Re,je,Be,De,Fe,Oe){var ke=[].concat(Fe),Me,Ue=Ce.length-1,$e,He,Qe=[],We=[],qe,Ke,Xe;for(Me=Ue;Me>=0;Me-=1){if(Xe=this.searchProcessedElement(Ce[Me]),Xe?Re[Me]=je[Xe-1]:Ce[Me]._render=Oe,Ce[Me].ty==="fl"||Ce[Me].ty==="st"||Ce[Me].ty==="gf"||Ce[Me].ty==="gs"||Ce[Me].ty==="no")Xe?Re[Me].style.closed=Ce[Me].hd:Re[Me]=this.createStyleElement(Ce[Me],De),Ce[Me]._render&&Re[Me].style.pElem.parentNode!==Be&&Be.appendChild(Re[Me].style.pElem),Qe.push(Re[Me].style);else if(Ce[Me].ty==="gr"){if(!Xe)Re[Me]=this.createGroupElement(Ce[Me]);else for(He=Re[Me].it.length,$e=0;$e<He;$e+=1)Re[Me].prevViewData[$e]=Re[Me].it[$e];this.searchShapes(Ce[Me].it,Re[Me].it,Re[Me].prevViewData,Re[Me].gr,De+1,ke,Oe),Ce[Me]._render&&Re[Me].gr.parentNode!==Be&&Be.appendChild(Re[Me].gr)}else Ce[Me].ty==="tr"?(Xe||(Re[Me]=this.createTransformElement(Ce[Me],Be)),qe=Re[Me].transform,ke.push(qe)):Ce[Me].ty==="sh"||Ce[Me].ty==="rc"||Ce[Me].ty==="el"||Ce[Me].ty==="sr"?(Xe||(Re[Me]=this.createShapeElement(Ce[Me],ke,De)),this.setElementStyles(Re[Me])):Ce[Me].ty==="tm"||Ce[Me].ty==="rd"||Ce[Me].ty==="ms"||Ce[Me].ty==="pb"||Ce[Me].ty==="zz"||Ce[Me].ty==="op"?(Xe?(Ke=Re[Me],Ke.closed=!1):(Ke=ShapeModifiers.getModifier(Ce[Me].ty),Ke.init(this,Ce[Me]),Re[Me]=Ke,this.shapeModifiers.push(Ke)),We.push(Ke)):Ce[Me].ty==="rp"&&(Xe?(Ke=Re[Me],Ke.closed=!0):(Ke=ShapeModifiers.getModifier(Ce[Me].ty),Re[Me]=Ke,Ke.init(this,Ce,Me,Re),this.shapeModifiers.push(Ke),Oe=!1),We.push(Ke));this.addProcessedElement(Ce[Me],Me+1)}for(Ue=Qe.length,Me=0;Me<Ue;Me+=1)Qe[Me].closed=!0;for(Ue=We.length,Me=0;Me<Ue;Me+=1)We[Me].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var Ce,Re=this.stylesList.length;for(Ce=0;Ce<Re;Ce+=1)this.stylesList[Ce].reset();for(this.renderShape(),Ce=0;Ce<Re;Ce+=1)(this.stylesList[Ce]._mdf||this._isFirstFrame)&&(this.stylesList[Ce].msElem&&(this.stylesList[Ce].msElem.setAttribute("d",this.stylesList[Ce].d),this.stylesList[Ce].d="M0 0"+this.stylesList[Ce].d),this.stylesList[Ce].pElem.setAttribute("d",this.stylesList[Ce].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var Ce,Re=this.animatedContents.length,je;for(Ce=0;Ce<Re;Ce+=1)je=this.animatedContents[Ce],(this._isFirstFrame||je.element._isAnimated)&&je.data!==!0&&je.fn(je.data,je.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(Ce,Re,je,Be,De,Fe){this.o=Ce,this.sw=Re,this.sc=je,this.fc=Be,this.m=De,this.p=Fe,this._mdf={o:!0,sw:!!Re,sc:!!je,fc:!!Be,m:!0,p:!0}}LetterProps.prototype.update=function(Ce,Re,je,Be,De,Fe){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var Oe=!1;return this.o!==Ce&&(this.o=Ce,this._mdf.o=!0,Oe=!0),this.sw!==Re&&(this.sw=Re,this._mdf.sw=!0,Oe=!0),this.sc!==je&&(this.sc=je,this._mdf.sc=!0,Oe=!0),this.fc!==Be&&(this.fc=Be,this._mdf.fc=!0,Oe=!0),this.m!==De&&(this.m=De,this._mdf.m=!0,Oe=!0),Fe.length&&(this.p[0]!==Fe[0]||this.p[1]!==Fe[1]||this.p[4]!==Fe[4]||this.p[5]!==Fe[5]||this.p[12]!==Fe[12]||this.p[13]!==Fe[13])&&(this.p=Fe,this._mdf.p=!0,Oe=!0),Oe};function TextProperty(Ce,Re){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,Re.d&&Re.d.sid&&(Re.d=Ce.globalData.slotManager.getProp(Re.d)),this.data=Re,this.elem=Ce,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(Ce,Re){for(var je in Re)Object.prototype.hasOwnProperty.call(Re,je)&&(Ce[je]=Re[je]);return Ce},TextProperty.prototype.setCurrentData=function(Ce){Ce.__complete||this.completeTextData(Ce),this.currentData=Ce,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(Ce){this.effectsSequence.push(Ce),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(Ce){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!Ce)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var Re=this.currentData,je=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var Be,De=this.effectsSequence.length,Fe=Ce||this.data.d.k[this.keysIndex].s;for(Be=0;Be<De;Be+=1)je!==this.keysIndex?Fe=this.effectsSequence[Be](Fe,Fe.t):Fe=this.effectsSequence[Be](this.currentData,Fe.t);Re!==Fe&&this.setCurrentData(Fe),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var Ce=this.data.d.k,Re=this.elem.comp.renderedFrame,je=0,Be=Ce.length;je<=Be-1&&!(je===Be-1||Ce[je+1].t>Re);)je+=1;return this.keysIndex!==je&&(this.keysIndex=je),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(Ce){for(var Re=[],je=0,Be=Ce.length,De,Fe,Oe=!1,ke=!1,Me="";je<Be;)Oe=ke,ke=!1,De=Ce.charCodeAt(je),Me=Ce.charAt(je),FontManager.isCombinedCharacter(De)?Oe=!0:De>=55296&&De<=56319?FontManager.isRegionalFlag(Ce,je)?Me=Ce.substr(je,14):(Fe=Ce.charCodeAt(je+1),Fe>=56320&&Fe<=57343&&(FontManager.isModifier(De,Fe)?(Me=Ce.substr(je,2),Oe=!0):FontManager.isFlagEmoji(Ce.substr(je,4))?Me=Ce.substr(je,4):Me=Ce.substr(je,2))):De>56319?(Fe=Ce.charCodeAt(je+1),FontManager.isVariationSelector(De)&&(Oe=!0)):FontManager.isZeroWidthJoiner(De)&&(Oe=!0,ke=!0),Oe?(Re[Re.length-1]+=Me,Oe=!1):Re.push(Me),je+=Me.length;return Re},TextProperty.prototype.completeTextData=function(Ce){Ce.__complete=!0;var Re=this.elem.globalData.fontManager,je=this.data,Be=[],De,Fe,Oe,ke=0,Me,Ue=je.m.g,$e=0,He=0,Qe=0,We=[],qe=0,Ke=0,Xe,Ye,Ze=Re.getFontByName(Ce.f),Je,tr=0,rr=getFontProperties(Ze);Ce.fWeight=rr.weight,Ce.fStyle=rr.style,Ce.finalSize=Ce.s,Ce.finalText=this.buildFinalText(Ce.t),Fe=Ce.finalText.length,Ce.finalLineHeight=Ce.lh;var ar=Ce.tr/1e3*Ce.finalSize,nr;if(Ce.sz)for(var sr=!0,dr=Ce.sz[0],_r=Ce.sz[1],fr,or;sr;){or=this.buildFinalText(Ce.t),fr=0,qe=0,Fe=or.length,ar=Ce.tr/1e3*Ce.finalSize;var Er=-1;for(De=0;De<Fe;De+=1)nr=or[De].charCodeAt(0),Oe=!1,or[De]===" "?Er=De:(nr===13||nr===3)&&(qe=0,Oe=!0,fr+=Ce.finalLineHeight||Ce.finalSize*1.2),Re.chars?(Je=Re.getCharData(or[De],Ze.fStyle,Ze.fFamily),tr=Oe?0:Je.w*Ce.finalSize/100):tr=Re.measureText(or[De],Ce.f,Ce.finalSize),qe+tr>dr&&or[De]!==" "?(Er===-1?Fe+=1:De=Er,fr+=Ce.finalLineHeight||Ce.finalSize*1.2,or.splice(De,Er===De?1:0,"\r"),Er=-1,qe=0):(qe+=tr,qe+=ar);fr+=Ze.ascent*Ce.finalSize/100,this.canResize&&Ce.finalSize>this.minimumFontSize&&_r<fr?(Ce.finalSize-=1,Ce.finalLineHeight=Ce.finalSize*Ce.lh/Ce.s):(Ce.finalText=or,Fe=Ce.finalText.length,sr=!1)}qe=-ar,tr=0;var Rr=0,jr;for(De=0;De<Fe;De+=1)if(Oe=!1,jr=Ce.finalText[De],nr=jr.charCodeAt(0),nr===13||nr===3?(Rr=0,We.push(qe),Ke=qe>Ke?qe:Ke,qe=-2*ar,Me="",Oe=!0,Qe+=1):Me=jr,Re.chars?(Je=Re.getCharData(jr,Ze.fStyle,Re.getFontByName(Ce.f).fFamily),tr=Oe?0:Je.w*Ce.finalSize/100):tr=Re.measureText(Me,Ce.f,Ce.finalSize),jr===" "?Rr+=tr+ar:(qe+=tr+ar+Rr,Rr=0),Be.push({l:tr,an:tr,add:$e,n:Oe,anIndexes:[],val:Me,line:Qe,animatorJustifyOffset:0}),Ue==2){if($e+=tr,Me===""||Me===" "||De===Fe-1){for((Me===""||Me===" ")&&($e-=tr);He<=De;)Be[He].an=$e,Be[He].ind=ke,Be[He].extra=tr,He+=1;ke+=1,$e=0}}else if(Ue==3){if($e+=tr,Me===""||De===Fe-1){for(Me===""&&($e-=tr);He<=De;)Be[He].an=$e,Be[He].ind=ke,Be[He].extra=tr,He+=1;$e=0,ke+=1}}else Be[ke].ind=ke,Be[ke].extra=0,ke+=1;if(Ce.l=Be,Ke=qe>Ke?qe:Ke,We.push(qe),Ce.sz)Ce.boxWidth=Ce.sz[0],Ce.justifyOffset=0;else switch(Ce.boxWidth=Ke,Ce.j){case 1:Ce.justifyOffset=-Ce.boxWidth;break;case 2:Ce.justifyOffset=-Ce.boxWidth/2;break;default:Ce.justifyOffset=0}Ce.lineWidths=We;var xr=je.a,Pr,br;Ye=xr.length;var wr,Br,Lr=[];for(Xe=0;Xe<Ye;Xe+=1){for(Pr=xr[Xe],Pr.a.sc&&(Ce.strokeColorAnim=!0),Pr.a.sw&&(Ce.strokeWidthAnim=!0),(Pr.a.fc||Pr.a.fh||Pr.a.fs||Pr.a.fb)&&(Ce.fillColorAnim=!0),Br=0,wr=Pr.s.b,De=0;De<Fe;De+=1)br=Be[De],br.anIndexes[Xe]=Br,(wr==1&&br.val!==""||wr==2&&br.val!==""&&br.val!==" "||wr==3&&(br.n||br.val==" "||De==Fe-1)||wr==4&&(br.n||De==Fe-1))&&(Pr.s.rn===1&&Lr.push(Br),Br+=1);je.a[Xe].s.totalChars=Br;var yr=-1,vr;if(Pr.s.rn===1)for(De=0;De<Fe;De+=1)br=Be[De],yr!=br.anIndexes[Xe]&&(yr=br.anIndexes[Xe],vr=Lr.splice(Math.floor(Math.random()*Lr.length),1)[0]),br.anIndexes[Xe]=vr}Ce.yOffset=Ce.finalLineHeight||Ce.finalSize*1.2,Ce.ls=Ce.ls||0,Ce.ascent=Ze.ascent*Ce.finalSize/100},TextProperty.prototype.updateDocumentData=function(Ce,Re){Re=Re===void 0?this.keysIndex:Re;var je=this.copyData({},this.data.d.k[Re].s);je=this.copyData(je,Ce),this.data.d.k[Re].s=je,this.recalculate(Re),this.setCurrentData(je),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(Ce){var Re=this.data.d.k[Ce].s;Re.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(Re)},TextProperty.prototype.canResizeFont=function(Ce){this.canResize=Ce,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(Ce){this.minimumFontSize=Math.floor(Ce)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(function(){var Ce=Math.max,Re=Math.min,je=Math.floor;function Be(Fe,Oe){this._currentTextLength=-1,this.k=!1,this.data=Oe,this.elem=Fe,this.comp=Fe.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(Fe),this.s=PropertyFactory.getProp(Fe,Oe.s||{k:0},0,0,this),"e"in Oe?this.e=PropertyFactory.getProp(Fe,Oe.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(Fe,Oe.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(Fe,Oe.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(Fe,Oe.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(Fe,Oe.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(Fe,Oe.a,0,.01,this),this.dynamicProperties.length||this.getValue()}Be.prototype={getMult:function(Oe){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ke=0,Me=0,Ue=1,$e=1;this.ne.v>0?ke=this.ne.v/100:Me=-this.ne.v/100,this.xe.v>0?Ue=1-this.xe.v/100:$e=1+this.xe.v/100;var He=BezierFactory.getBezierEasing(ke,Me,Ue,$e).get,Qe=0,We=this.finalS,qe=this.finalE,Ke=this.data.sh;if(Ke===2)qe===We?Qe=Oe>=qe?1:0:Qe=Ce(0,Re(.5/(qe-We)+(Oe-We)/(qe-We),1)),Qe=He(Qe);else if(Ke===3)qe===We?Qe=Oe>=qe?0:1:Qe=1-Ce(0,Re(.5/(qe-We)+(Oe-We)/(qe-We),1)),Qe=He(Qe);else if(Ke===4)qe===We?Qe=0:(Qe=Ce(0,Re(.5/(qe-We)+(Oe-We)/(qe-We),1)),Qe<.5?Qe*=2:Qe=1-2*(Qe-.5)),Qe=He(Qe);else if(Ke===5){if(qe===We)Qe=0;else{var Xe=qe-We;Oe=Re(Ce(0,Oe+.5-We),qe-We);var Ye=-Xe/2+Oe,Ze=Xe/2;Qe=Math.sqrt(1-Ye*Ye/(Ze*Ze))}Qe=He(Qe)}else Ke===6?(qe===We?Qe=0:(Oe=Re(Ce(0,Oe+.5-We),qe-We),Qe=(1+Math.cos(Math.PI+Math.PI*2*Oe/(qe-We)))/2),Qe=He(Qe)):(Oe>=je(We)&&(Oe-We<0?Qe=Ce(0,Re(Re(qe,1)-(We-Oe),1)):Qe=Ce(0,Re(qe-Oe,1))),Qe=He(Qe));if(this.sm.v!==100){var Je=this.sm.v*.01;Je===0&&(Je=1e-8);var tr=.5-Je*.5;Qe<tr?Qe=0:(Qe=(Qe-tr)/Je,Qe>1&&(Qe=1))}return Qe*this.a.v},getValue:function(Oe){this.iterateDynamicProperties(),this._mdf=Oe||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,Oe&&this.data.r===2&&(this.e.v=this._currentTextLength);var ke=this.data.r===2?1:100/this.data.totalChars,Me=this.o.v/ke,Ue=this.s.v/ke+Me,$e=this.e.v/ke+Me;if(Ue>$e){var He=Ue;Ue=$e,$e=He}this.finalS=Ue,this.finalE=$e}},extendPrototype([DynamicPropertyContainer],Be);function De(Fe,Oe,ke){return new Be(Fe,Oe)}return{getTextSelectorProp:De}})();function TextAnimatorDataProperty(Ce,Re,je){var Be={propType:!1},De=PropertyFactory.getProp,Fe=Re.a;this.a={r:Fe.r?De(Ce,Fe.r,0,degToRads,je):Be,rx:Fe.rx?De(Ce,Fe.rx,0,degToRads,je):Be,ry:Fe.ry?De(Ce,Fe.ry,0,degToRads,je):Be,sk:Fe.sk?De(Ce,Fe.sk,0,degToRads,je):Be,sa:Fe.sa?De(Ce,Fe.sa,0,degToRads,je):Be,s:Fe.s?De(Ce,Fe.s,1,.01,je):Be,a:Fe.a?De(Ce,Fe.a,1,0,je):Be,o:Fe.o?De(Ce,Fe.o,0,.01,je):Be,p:Fe.p?De(Ce,Fe.p,1,0,je):Be,sw:Fe.sw?De(Ce,Fe.sw,0,0,je):Be,sc:Fe.sc?De(Ce,Fe.sc,1,0,je):Be,fc:Fe.fc?De(Ce,Fe.fc,1,0,je):Be,fh:Fe.fh?De(Ce,Fe.fh,0,0,je):Be,fs:Fe.fs?De(Ce,Fe.fs,0,.01,je):Be,fb:Fe.fb?De(Ce,Fe.fb,0,.01,je):Be,t:Fe.t?De(Ce,Fe.t,0,0,je):Be},this.s=TextSelectorProp.getTextSelectorProp(Ce,Re.s,je),this.s.t=Re.s.t}function TextAnimatorProperty(Ce,Re,je){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=Ce,this._renderType=Re,this._elem=je,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(je)}TextAnimatorProperty.prototype.searchProperties=function(){var Ce,Re=this._textData.a.length,je,Be=PropertyFactory.getProp;for(Ce=0;Ce<Re;Ce+=1)je=this._textData.a[Ce],this._animatorsData[Ce]=new TextAnimatorDataProperty(this._elem,je,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:Be(this._elem,this._textData.p.a,0,0,this),f:Be(this._elem,this._textData.p.f,0,0,this),l:Be(this._elem,this._textData.p.l,0,0,this),r:Be(this._elem,this._textData.p.r,0,0,this),p:Be(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=Be(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(Ce,Re){if(this.lettersChangedFlag=Re,!(!this._mdf&&!this._isFirstFrame&&!Re&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var je=this._moreOptions.alignment.v,Be=this._animatorsData,De=this._textData,Fe=this.mHelper,Oe=this._renderType,ke=this.renderedLetters.length,Me,Ue,$e,He,Qe=Ce.l,We,qe,Ke,Xe,Ye,Ze,Je,tr,rr,ar,nr,sr,dr,_r,fr;if(this._hasMaskedPath){if(fr=this._pathData.m,!this._pathData.n||this._pathData._mdf){var or=fr.v;this._pathData.r.v&&(or=or.reverse()),We={tLength:0,segments:[]},He=or._length-1;var Er;for(sr=0,$e=0;$e<He;$e+=1)Er=bez.buildBezierData(or.v[$e],or.v[$e+1],[or.o[$e][0]-or.v[$e][0],or.o[$e][1]-or.v[$e][1]],[or.i[$e+1][0]-or.v[$e+1][0],or.i[$e+1][1]-or.v[$e+1][1]]),We.tLength+=Er.segmentLength,We.segments.push(Er),sr+=Er.segmentLength;$e=He,fr.v.c&&(Er=bez.buildBezierData(or.v[$e],or.v[0],[or.o[$e][0]-or.v[$e][0],or.o[$e][1]-or.v[$e][1]],[or.i[0][0]-or.v[0][0],or.i[0][1]-or.v[0][1]]),We.tLength+=Er.segmentLength,We.segments.push(Er),sr+=Er.segmentLength),this._pathData.pi=We}if(We=this._pathData.pi,qe=this._pathData.f.v,Je=0,Ze=1,Xe=0,Ye=!0,ar=We.segments,qe<0&&fr.v.c)for(We.tLength<Math.abs(qe)&&(qe=-Math.abs(qe)%We.tLength),Je=ar.length-1,rr=ar[Je].points,Ze=rr.length-1;qe<0;)qe+=rr[Ze].partialLength,Ze-=1,Ze<0&&(Je-=1,rr=ar[Je].points,Ze=rr.length-1);rr=ar[Je].points,tr=rr[Ze-1],Ke=rr[Ze],nr=Ke.partialLength}He=Qe.length,Me=0,Ue=0;var Rr=Ce.finalSize*1.2*.714,jr=!0,xr,Pr,br,wr,Br;wr=Be.length;var Lr,yr=-1,vr,Tr,Or,Nr=qe,Hr=Je,Wr=Ze,qr=-1,Jr,An,an,bn,gn,mn,Zr,kn,ri="",zn=this.defaultPropsArray,ei;if(Ce.j===2||Ce.j===1){var Jn=0,Wn=0,_i=Ce.j===2?-.5:-1,wi=0,Oi=!0;for($e=0;$e<He;$e+=1)if(Qe[$e].n){for(Jn&&(Jn+=Wn);wi<$e;)Qe[wi].animatorJustifyOffset=Jn,wi+=1;Jn=0,Oi=!0}else{for(br=0;br<wr;br+=1)xr=Be[br].a,xr.t.propType&&(Oi&&Ce.j===2&&(Wn+=xr.t.v*_i),Pr=Be[br].s,Lr=Pr.getMult(Qe[$e].anIndexes[br],De.a[br].s.totalChars),Lr.length?Jn+=xr.t.v*Lr[0]*_i:Jn+=xr.t.v*Lr*_i);Oi=!1}for(Jn&&(Jn+=Wn);wi<$e;)Qe[wi].animatorJustifyOffset=Jn,wi+=1}for($e=0;$e<He;$e+=1){if(Fe.reset(),Jr=1,Qe[$e].n)Me=0,Ue+=Ce.yOffset,Ue+=jr?1:0,qe=Nr,jr=!1,this._hasMaskedPath&&(Je=Hr,Ze=Wr,rr=ar[Je].points,tr=rr[Ze-1],Ke=rr[Ze],nr=Ke.partialLength,Xe=0),ri="",kn="",mn="",ei="",zn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(qr!==Qe[$e].line){switch(Ce.j){case 1:qe+=sr-Ce.lineWidths[Qe[$e].line];break;case 2:qe+=(sr-Ce.lineWidths[Qe[$e].line])/2;break}qr=Qe[$e].line}yr!==Qe[$e].ind&&(Qe[yr]&&(qe+=Qe[yr].extra),qe+=Qe[$e].an/2,yr=Qe[$e].ind),qe+=je[0]*Qe[$e].an*.005;var xi=0;for(br=0;br<wr;br+=1)xr=Be[br].a,xr.p.propType&&(Pr=Be[br].s,Lr=Pr.getMult(Qe[$e].anIndexes[br],De.a[br].s.totalChars),Lr.length?xi+=xr.p.v[0]*Lr[0]:xi+=xr.p.v[0]*Lr),xr.a.propType&&(Pr=Be[br].s,Lr=Pr.getMult(Qe[$e].anIndexes[br],De.a[br].s.totalChars),Lr.length?xi+=xr.a.v[0]*Lr[0]:xi+=xr.a.v[0]*Lr);for(Ye=!0,this._pathData.a.v&&(qe=Qe[0].an*.5+(sr-this._pathData.f.v-Qe[0].an*.5-Qe[Qe.length-1].an*.5)*yr/(He-1),qe+=this._pathData.f.v);Ye;)Xe+nr>=qe+xi||!rr?(dr=(qe+xi-Xe)/Ke.partialLength,Tr=tr.point[0]+(Ke.point[0]-tr.point[0])*dr,Or=tr.point[1]+(Ke.point[1]-tr.point[1])*dr,Fe.translate(-je[0]*Qe[$e].an*.005,-(je[1]*Rr)*.01),Ye=!1):rr&&(Xe+=Ke.partialLength,Ze+=1,Ze>=rr.length&&(Ze=0,Je+=1,ar[Je]?rr=ar[Je].points:fr.v.c?(Ze=0,Je=0,rr=ar[Je].points):(Xe-=Ke.partialLength,rr=null)),rr&&(tr=Ke,Ke=rr[Ze],nr=Ke.partialLength));vr=Qe[$e].an/2-Qe[$e].add,Fe.translate(-vr,0,0)}else vr=Qe[$e].an/2-Qe[$e].add,Fe.translate(-vr,0,0),Fe.translate(-je[0]*Qe[$e].an*.005,-je[1]*Rr*.01,0);for(br=0;br<wr;br+=1)xr=Be[br].a,xr.t.propType&&(Pr=Be[br].s,Lr=Pr.getMult(Qe[$e].anIndexes[br],De.a[br].s.totalChars),(Me!==0||Ce.j!==0)&&(this._hasMaskedPath?Lr.length?qe+=xr.t.v*Lr[0]:qe+=xr.t.v*Lr:Lr.length?Me+=xr.t.v*Lr[0]:Me+=xr.t.v*Lr));for(Ce.strokeWidthAnim&&(an=Ce.sw||0),Ce.strokeColorAnim&&(Ce.sc?An=[Ce.sc[0],Ce.sc[1],Ce.sc[2]]:An=[0,0,0]),Ce.fillColorAnim&&Ce.fc&&(bn=[Ce.fc[0],Ce.fc[1],Ce.fc[2]]),br=0;br<wr;br+=1)xr=Be[br].a,xr.a.propType&&(Pr=Be[br].s,Lr=Pr.getMult(Qe[$e].anIndexes[br],De.a[br].s.totalChars),Lr.length?Fe.translate(-xr.a.v[0]*Lr[0],-xr.a.v[1]*Lr[1],xr.a.v[2]*Lr[2]):Fe.translate(-xr.a.v[0]*Lr,-xr.a.v[1]*Lr,xr.a.v[2]*Lr));for(br=0;br<wr;br+=1)xr=Be[br].a,xr.s.propType&&(Pr=Be[br].s,Lr=Pr.getMult(Qe[$e].anIndexes[br],De.a[br].s.totalChars),Lr.length?Fe.scale(1+(xr.s.v[0]-1)*Lr[0],1+(xr.s.v[1]-1)*Lr[1],1):Fe.scale(1+(xr.s.v[0]-1)*Lr,1+(xr.s.v[1]-1)*Lr,1));for(br=0;br<wr;br+=1){if(xr=Be[br].a,Pr=Be[br].s,Lr=Pr.getMult(Qe[$e].anIndexes[br],De.a[br].s.totalChars),xr.sk.propType&&(Lr.length?Fe.skewFromAxis(-xr.sk.v*Lr[0],xr.sa.v*Lr[1]):Fe.skewFromAxis(-xr.sk.v*Lr,xr.sa.v*Lr)),xr.r.propType&&(Lr.length?Fe.rotateZ(-xr.r.v*Lr[2]):Fe.rotateZ(-xr.r.v*Lr)),xr.ry.propType&&(Lr.length?Fe.rotateY(xr.ry.v*Lr[1]):Fe.rotateY(xr.ry.v*Lr)),xr.rx.propType&&(Lr.length?Fe.rotateX(xr.rx.v*Lr[0]):Fe.rotateX(xr.rx.v*Lr)),xr.o.propType&&(Lr.length?Jr+=(xr.o.v*Lr[0]-Jr)*Lr[0]:Jr+=(xr.o.v*Lr-Jr)*Lr),Ce.strokeWidthAnim&&xr.sw.propType&&(Lr.length?an+=xr.sw.v*Lr[0]:an+=xr.sw.v*Lr),Ce.strokeColorAnim&&xr.sc.propType)for(gn=0;gn<3;gn+=1)Lr.length?An[gn]+=(xr.sc.v[gn]-An[gn])*Lr[0]:An[gn]+=(xr.sc.v[gn]-An[gn])*Lr;if(Ce.fillColorAnim&&Ce.fc){if(xr.fc.propType)for(gn=0;gn<3;gn+=1)Lr.length?bn[gn]+=(xr.fc.v[gn]-bn[gn])*Lr[0]:bn[gn]+=(xr.fc.v[gn]-bn[gn])*Lr;xr.fh.propType&&(Lr.length?bn=addHueToRGB(bn,xr.fh.v*Lr[0]):bn=addHueToRGB(bn,xr.fh.v*Lr)),xr.fs.propType&&(Lr.length?bn=addSaturationToRGB(bn,xr.fs.v*Lr[0]):bn=addSaturationToRGB(bn,xr.fs.v*Lr)),xr.fb.propType&&(Lr.length?bn=addBrightnessToRGB(bn,xr.fb.v*Lr[0]):bn=addBrightnessToRGB(bn,xr.fb.v*Lr))}}for(br=0;br<wr;br+=1)xr=Be[br].a,xr.p.propType&&(Pr=Be[br].s,Lr=Pr.getMult(Qe[$e].anIndexes[br],De.a[br].s.totalChars),this._hasMaskedPath?Lr.length?Fe.translate(0,xr.p.v[1]*Lr[0],-xr.p.v[2]*Lr[1]):Fe.translate(0,xr.p.v[1]*Lr,-xr.p.v[2]*Lr):Lr.length?Fe.translate(xr.p.v[0]*Lr[0],xr.p.v[1]*Lr[1],-xr.p.v[2]*Lr[2]):Fe.translate(xr.p.v[0]*Lr,xr.p.v[1]*Lr,-xr.p.v[2]*Lr));if(Ce.strokeWidthAnim&&(mn=an<0?0:an),Ce.strokeColorAnim&&(Zr="rgb("+Math.round(An[0]*255)+","+Math.round(An[1]*255)+","+Math.round(An[2]*255)+")"),Ce.fillColorAnim&&Ce.fc&&(kn="rgb("+Math.round(bn[0]*255)+","+Math.round(bn[1]*255)+","+Math.round(bn[2]*255)+")"),this._hasMaskedPath){if(Fe.translate(0,-Ce.ls),Fe.translate(0,je[1]*Rr*.01+Ue,0),this._pathData.p.v){_r=(Ke.point[1]-tr.point[1])/(Ke.point[0]-tr.point[0]);var Pi=Math.atan(_r)*180/Math.PI;Ke.point[0]<tr.point[0]&&(Pi+=180),Fe.rotate(-Pi*Math.PI/180)}Fe.translate(Tr,Or,0),qe-=je[0]*Qe[$e].an*.005,Qe[$e+1]&&yr!==Qe[$e+1].ind&&(qe+=Qe[$e].an/2,qe+=Ce.tr*.001*Ce.finalSize)}else{switch(Fe.translate(Me,Ue,0),Ce.ps&&Fe.translate(Ce.ps[0],Ce.ps[1]+Ce.ascent,0),Ce.j){case 1:Fe.translate(Qe[$e].animatorJustifyOffset+Ce.justifyOffset+(Ce.boxWidth-Ce.lineWidths[Qe[$e].line]),0,0);break;case 2:Fe.translate(Qe[$e].animatorJustifyOffset+Ce.justifyOffset+(Ce.boxWidth-Ce.lineWidths[Qe[$e].line])/2,0,0);break}Fe.translate(0,-Ce.ls),Fe.translate(vr,0,0),Fe.translate(je[0]*Qe[$e].an*.005,je[1]*Rr*.01,0),Me+=Qe[$e].l+Ce.tr*.001*Ce.finalSize}Oe==="html"?ri=Fe.toCSS():Oe==="svg"?ri=Fe.to2dCSS():zn=[Fe.props[0],Fe.props[1],Fe.props[2],Fe.props[3],Fe.props[4],Fe.props[5],Fe.props[6],Fe.props[7],Fe.props[8],Fe.props[9],Fe.props[10],Fe.props[11],Fe.props[12],Fe.props[13],Fe.props[14],Fe.props[15]],ei=Jr}ke<=$e?(Br=new LetterProps(ei,mn,Zr,kn,ri,zn),this.renderedLetters.push(Br),ke+=1,this.lettersChangedFlag=!0):(Br=this.renderedLetters[$e],this.lettersChangedFlag=Br.update(ei,mn,Zr,kn,ri,zn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(Ce,Re,je){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(Ce,Re,je),this.textProperty=new TextProperty(this,Ce.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(Ce.t,this.renderType,this),this.initTransform(Ce,Re,je),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(Ce){this._mdf=!1,this.prepareRenderableFrame(Ce),this.prepareProperties(Ce,this.isInRange)},ITextElement.prototype.createPathShape=function(Ce,Re){var je,Be=Re.length,De,Fe="";for(je=0;je<Be;je+=1)Re[je].ty==="sh"&&(De=Re[je].ks.k,Fe+=buildShapeString(De,De.i.length,!0,Ce));return Fe},ITextElement.prototype.updateDocumentData=function(Ce,Re){this.textProperty.updateDocumentData(Ce,Re)},ITextElement.prototype.canResizeFont=function(Ce){this.textProperty.canResizeFont(Ce)},ITextElement.prototype.setMinimumFontSize=function(Ce){this.textProperty.setMinimumFontSize(Ce)},ITextElement.prototype.applyTextPropertiesToMatrix=function(Ce,Re,je,Be,De){switch(Ce.ps&&Re.translate(Ce.ps[0],Ce.ps[1]+Ce.ascent,0),Re.translate(0,-Ce.ls,0),Ce.j){case 1:Re.translate(Ce.justifyOffset+(Ce.boxWidth-Ce.lineWidths[je]),0,0);break;case 2:Re.translate(Ce.justifyOffset+(Ce.boxWidth-Ce.lineWidths[je])/2,0,0);break}Re.translate(Be,De,0)},ITextElement.prototype.buildColor=function(Ce){return"rgb("+Math.round(Ce[0]*255)+","+Math.round(Ce[1]*255)+","+Math.round(Ce[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(Ce,Re,je){this.textSpans=[],this.renderType="svg",this.initElement(Ce,Re,je)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(Ce){for(var Re=0,je=Ce.length,Be=[],De="";Re<je;)Ce[Re]==="\r"||Ce[Re]===""?(Be.push(De),De=""):De+=Ce[Re],Re+=1;return Be.push(De),Be},SVGTextLottieElement.prototype.buildShapeData=function(Ce,Re){if(Ce.shapes&&Ce.shapes.length){var je=Ce.shapes[0];if(je.it){var Be=je.it[je.it.length-1];Be.s&&(Be.s.k[0]=Re,Be.s.k[1]=Re)}}return Ce},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var Ce,Re,je=this.textProperty.currentData;this.renderedLetters=createSizedArray(je?je.l.length:0),je.fc?this.layerElement.setAttribute("fill",this.buildColor(je.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),je.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(je.sc)),this.layerElement.setAttribute("stroke-width",je.sw)),this.layerElement.setAttribute("font-size",je.finalSize);var Be=this.globalData.fontManager.getFontByName(je.f);if(Be.fClass)this.layerElement.setAttribute("class",Be.fClass);else{this.layerElement.setAttribute("font-family",Be.fFamily);var De=je.fWeight,Fe=je.fStyle;this.layerElement.setAttribute("font-style",Fe),this.layerElement.setAttribute("font-weight",De)}this.layerElement.setAttribute("aria-label",je.t);var Oe=je.l||[],ke=!!this.globalData.fontManager.chars;Re=Oe.length;var Me,Ue=this.mHelper,$e="",He=this.data.singleShape,Qe=0,We=0,qe=!0,Ke=je.tr*.001*je.finalSize;if(He&&!ke&&!je.sz){var Xe=this.textContainer,Ye="start";switch(je.j){case 1:Ye="end";break;case 2:Ye="middle";break;default:Ye="start";break}Xe.setAttribute("text-anchor",Ye),Xe.setAttribute("letter-spacing",Ke);var Ze=this.buildTextContents(je.finalText);for(Re=Ze.length,We=je.ps?je.ps[1]+je.ascent:0,Ce=0;Ce<Re;Ce+=1)Me=this.textSpans[Ce].span||createNS("tspan"),Me.textContent=Ze[Ce],Me.setAttribute("x",0),Me.setAttribute("y",We),Me.style.display="inherit",Xe.appendChild(Me),this.textSpans[Ce]||(this.textSpans[Ce]={span:null,glyph:null}),this.textSpans[Ce].span=Me,We+=je.finalLineHeight;this.layerElement.appendChild(Xe)}else{var Je=this.textSpans.length,tr;for(Ce=0;Ce<Re;Ce+=1){if(this.textSpans[Ce]||(this.textSpans[Ce]={span:null,childSpan:null,glyph:null}),!ke||!He||Ce===0){if(Me=Je>Ce?this.textSpans[Ce].span:createNS(ke?"g":"text"),Je<=Ce){if(Me.setAttribute("stroke-linecap","butt"),Me.setAttribute("stroke-linejoin","round"),Me.setAttribute("stroke-miterlimit","4"),this.textSpans[Ce].span=Me,ke){var rr=createNS("g");Me.appendChild(rr),this.textSpans[Ce].childSpan=rr}this.textSpans[Ce].span=Me,this.layerElement.appendChild(Me)}Me.style.display="inherit"}if(Ue.reset(),He&&(Oe[Ce].n&&(Qe=-Ke,We+=je.yOffset,We+=qe?1:0,qe=!1),this.applyTextPropertiesToMatrix(je,Ue,Oe[Ce].line,Qe,We),Qe+=Oe[Ce].l||0,Qe+=Ke),ke){tr=this.globalData.fontManager.getCharData(je.finalText[Ce],Be.fStyle,this.globalData.fontManager.getFontByName(je.f).fFamily);var ar;if(tr.t===1)ar=new SVGCompElement(tr.data,this.globalData,this);else{var nr=emptyShapeData;tr.data&&tr.data.shapes&&(nr=this.buildShapeData(tr.data,je.finalSize)),ar=new SVGShapeElement(nr,this.globalData,this)}if(this.textSpans[Ce].glyph){var sr=this.textSpans[Ce].glyph;this.textSpans[Ce].childSpan.removeChild(sr.layerElement),sr.destroy()}this.textSpans[Ce].glyph=ar,ar._debug=!0,ar.prepareFrame(0),ar.renderFrame(),this.textSpans[Ce].childSpan.appendChild(ar.layerElement),tr.t===1&&this.textSpans[Ce].childSpan.setAttribute("transform","scale("+je.finalSize/100+","+je.finalSize/100+")")}else He&&Me.setAttribute("transform","translate("+Ue.props[12]+","+Ue.props[13]+")"),Me.textContent=Oe[Ce].val,Me.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}He&&Me&&Me.setAttribute("d",$e)}for(;Ce<this.textSpans.length;)this.textSpans[Ce].span.style.display="none",Ce+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var Ce=this.layerElement.getBBox();this.bbox={top:Ce.y,left:Ce.x,width:Ce.width,height:Ce.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var Ce,Re=this.textSpans.length,je;for(this.renderedFrame=this.comp.renderedFrame,Ce=0;Ce<Re;Ce+=1)je=this.textSpans[Ce].glyph,je&&(je.prepareFrame(this.comp.renderedFrame-this.data.st),je._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var Ce,Re,je=this.textAnimator.renderedLetters,Be=this.textProperty.currentData.l;Re=Be.length;var De,Fe,Oe;for(Ce=0;Ce<Re;Ce+=1)Be[Ce].n||(De=je[Ce],Fe=this.textSpans[Ce].span,Oe=this.textSpans[Ce].glyph,Oe&&Oe.renderFrame(),De._mdf.m&&Fe.setAttribute("transform",De.m),De._mdf.o&&Fe.setAttribute("opacity",De.o),De._mdf.sw&&Fe.setAttribute("stroke-width",De.sw),De._mdf.sc&&Fe.setAttribute("stroke",De.sc),De._mdf.fc&&Fe.setAttribute("fill",De.fc))}};function ISolidElement(Ce,Re,je){this.initElement(Ce,Re,je)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var Ce=createNS("rect");Ce.setAttribute("width",this.data.sw),Ce.setAttribute("height",this.data.sh),Ce.setAttribute("fill",this.data.sc),this.layerElement.appendChild(Ce)};function NullElement(Ce,Re,je){this.initFrame(),this.initBaseData(Ce,Re,je),this.initFrame(),this.initTransform(Ce,Re,je),this.initHierarchy()}NullElement.prototype.prepareFrame=function(Ce){this.prepareProperties(Ce,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(Ce){return new NullElement(Ce,this.globalData,this)},SVGRendererBase.prototype.createShape=function(Ce){return new SVGShapeElement(Ce,this.globalData,this)},SVGRendererBase.prototype.createText=function(Ce){return new SVGTextLottieElement(Ce,this.globalData,this)},SVGRendererBase.prototype.createImage=function(Ce){return new IImageElement(Ce,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(Ce){return new ISolidElement(Ce,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(Ce){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+Ce.w+" "+Ce.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",Ce.w),this.svgElement.setAttribute("height",Ce.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var Re=this.globalData.defs;this.setupGlobalData(Ce,Re),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=Ce;var je=createNS("clipPath"),Be=createNS("rect");Be.setAttribute("width",Ce.w),Be.setAttribute("height",Ce.h),Be.setAttribute("x",0),Be.setAttribute("y",0);var De=createElementID();je.setAttribute("id",De),je.appendChild(Be),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+De+")"),Re.appendChild(je),this.layers=Ce.layers,this.elements=createSizedArray(Ce.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var Ce,Re=this.layers?this.layers.length:0;for(Ce=0;Ce<Re;Ce+=1)this.elements[Ce]&&this.elements[Ce].destroy&&this.elements[Ce].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(Ce){var Re=0,je=this.layers.length;for(Re=0;Re<je;Re+=1)if(this.layers[Re].ind===Ce)return Re;return-1},SVGRendererBase.prototype.buildItem=function(Ce){var Re=this.elements;if(!(Re[Ce]||this.layers[Ce].ty===99)){Re[Ce]=!0;var je=this.createItem(this.layers[Ce]);if(Re[Ce]=je,getExpressionsPlugin()&&(this.layers[Ce].ty===0&&this.globalData.projectInterface.registerComposition(je),je.initExpressions()),this.appendElementInPos(je,Ce),this.layers[Ce].tt){var Be="tp"in this.layers[Ce]?this.findIndexByInd(this.layers[Ce].tp):Ce-1;if(Be===-1)return;if(!this.elements[Be]||this.elements[Be]===!0)this.buildItem(Be),this.addPendingElement(je);else{var De=Re[Be],Fe=De.getMatte(this.layers[Ce].tt);je.setMatte(Fe)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Ce=this.pendingElements.pop();if(Ce.checkParenting(),Ce.data.tt)for(var Re=0,je=this.elements.length;Re<je;){if(this.elements[Re]===Ce){var Be="tp"in Ce.data?this.findIndexByInd(Ce.data.tp):Re-1,De=this.elements[Be],Fe=De.getMatte(this.layers[Re].tt);Ce.setMatte(Fe);break}Re+=1}}},SVGRendererBase.prototype.renderFrame=function(Ce){if(!(this.renderedFrame===Ce||this.destroyed)){Ce===null?Ce=this.renderedFrame:this.renderedFrame=Ce,this.globalData.frameNum=Ce,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=Ce,this.globalData._mdf=!1;var Re,je=this.layers.length;for(this.completeLayers||this.checkLayers(Ce),Re=je-1;Re>=0;Re-=1)(this.completeLayers||this.elements[Re])&&this.elements[Re].prepareFrame(Ce-this.layers[Re].st);if(this.globalData._mdf)for(Re=0;Re<je;Re+=1)(this.completeLayers||this.elements[Re])&&this.elements[Re].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(Ce,Re){var je=Ce.getBaseElement();if(je){for(var Be=0,De;Be<Re;)this.elements[Be]&&this.elements[Be]!==!0&&this.elements[Be].getBaseElement()&&(De=this.elements[Be].getBaseElement()),Be+=1;De?this.layerElement.insertBefore(je,De):this.layerElement.appendChild(je)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(Ce,Re,je){this.initFrame(),this.initBaseData(Ce,Re,je),this.initTransform(Ce,Re,je),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!Re.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(Ce){if(this._mdf=!1,this.prepareRenderableFrame(Ce),this.prepareProperties(Ce,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=Ce/this.data.sr;else{var Re=this.tm.v;Re===this.data.op&&(Re=this.data.op-1),this.renderedFrame=Re}var je,Be=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),je=Be-1;je>=0;je-=1)(this.completeLayers||this.elements[je])&&(this.elements[je].prepareFrame(this.renderedFrame-this.layers[je].st),this.elements[je]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var Ce,Re=this.layers.length;for(Ce=0;Ce<Re;Ce+=1)(this.completeLayers||this.elements[Ce])&&this.elements[Ce].renderFrame()},ICompElement.prototype.setElements=function(Ce){this.elements=Ce},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var Ce,Re=this.layers.length;for(Ce=0;Ce<Re;Ce+=1)this.elements[Ce]&&this.elements[Ce].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(Ce,Re,je){this.layers=Ce.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(Ce,Re,je),this.tm=Ce.tm?PropertyFactory.getProp(this,Ce.tm,0,Re.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(Ce){return new SVGCompElement(Ce,this.globalData,this)};function SVGRenderer(Ce,Re){this.animationItem=Ce,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var je="";if(Re&&Re.title){var Be=createNS("title"),De=createElementID();Be.setAttribute("id",De),Be.textContent=Re.title,this.svgElement.appendChild(Be),je+=De}if(Re&&Re.description){var Fe=createNS("desc"),Oe=createElementID();Fe.setAttribute("id",Oe),Fe.textContent=Re.description,this.svgElement.appendChild(Fe),je+=" "+Oe}je&&this.svgElement.setAttribute("aria-labelledby",je);var ke=createNS("defs");this.svgElement.appendChild(ke);var Me=createNS("g");this.svgElement.appendChild(Me),this.layerElement=Me,this.renderConfig={preserveAspectRatio:Re&&Re.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:Re&&Re.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:Re&&Re.contentVisibility||"visible",progressiveLoad:Re&&Re.progressiveLoad||!1,hideOnTransparent:!(Re&&Re.hideOnTransparent===!1),viewBoxOnly:Re&&Re.viewBoxOnly||!1,viewBoxSize:Re&&Re.viewBoxSize||!1,className:Re&&Re.className||"",id:Re&&Re.id||"",focusable:Re&&Re.focusable,filterSize:{width:Re&&Re.filterSize&&Re.filterSize.width||"100%",height:Re&&Re.filterSize&&Re.filterSize.height||"100%",x:Re&&Re.filterSize&&Re.filterSize.x||"0%",y:Re&&Re.filterSize&&Re.filterSize.y||"0%"},width:Re&&Re.width,height:Re&&Re.height,runExpressions:!Re||Re.runExpressions===void 0||Re.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ke,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(Ce){return new SVGCompElement(Ce,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(Re){var je,Be=Re.length,De="_";for(je=0;je<Be;je+=1)De+=Re[je].transform.key+"_";var Fe=this.sequences[De];return Fe||(Fe={transforms:[].concat(Re),finalTransform:new Matrix,_mdf:!1},this.sequences[De]=Fe,this.sequenceList.push(Fe)),Fe},processSequence:function(Re,je){for(var Be=0,De=Re.transforms.length,Fe=je;Be<De&&!je;){if(Re.transforms[Be].transform.mProps._mdf){Fe=!0;break}Be+=1}if(Fe)for(Re.finalTransform.reset(),Be=De-1;Be>=0;Be-=1)Re.finalTransform.multiply(Re.transforms[Be].transform.mProps.v);Re._mdf=Fe},processSequences:function(Re){var je,Be=this.sequenceList.length;for(je=0;je<Be;je+=1)this.processSequence(this.sequenceList[je],Re)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var Re="__lottie_element_luma_buffer",je=null,Be=null,De=null;function Fe(){var Me=createNS("svg"),Ue=createNS("filter"),$e=createNS("feColorMatrix");return Ue.setAttribute("id",Re),$e.setAttribute("type","matrix"),$e.setAttribute("color-interpolation-filters","sRGB"),$e.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),Ue.appendChild($e),Me.appendChild(Ue),Me.setAttribute("id",Re+"_svg"),featureSupport.svgLumaHidden&&(Me.style.display="none"),Me}function Oe(){je||(De=Fe(),document.body.appendChild(De),je=createTag("canvas"),Be=je.getContext("2d"),Be.filter="url(#"+Re+")",Be.fillStyle="rgba(0,0,0,0)",Be.fillRect(0,0,1,1))}function ke(Me){return je||Oe(),je.width=Me.width,je.height=Me.height,Be.filter="url(#"+Re+")",je}return{load:Oe,get:ke}};function createCanvas(Ce,Re){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(Ce,Re);var je=createTag("canvas");return je.width=Ce,je.height=Re,je}var assetLoader=(function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}})(),registeredEffects={};function CVEffects(Ce){var Re,je=Ce.data.ef?Ce.data.ef.length:0;this.filters=[];var Be;for(Re=0;Re<je;Re+=1){Be=null;var De=Ce.data.ef[Re].ty;if(registeredEffects[De]){var Fe=registeredEffects[De].effect;Be=new Fe(Ce.effectsManager.effectElements[Re],Ce)}Be&&this.filters.push(Be)}this.filters.length&&Ce.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(Ce){var Re,je=this.filters.length;for(Re=0;Re<je;Re+=1)this.filters[Re].renderFrame(Ce)},CVEffects.prototype.getEffects=function(Ce){var Re,je=this.filters.length,Be=[];for(Re=0;Re<je;Re+=1)this.filters[Re].type===Ce&&Be.push(this.filters[Re]);return Be};function registerEffect(Ce,Re){registeredEffects[Ce]={effect:Re}}function CVMaskElement(Ce,Re){this.data=Ce,this.element=Re,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var je,Be=this.masksProperties.length,De=!1;for(je=0;je<Be;je+=1)this.masksProperties[je].mode!=="n"&&(De=!0),this.viewData[je]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[je],3);this.hasMasks=De,De&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var Ce=this.element.finalTransform.mat,Re=this.element.canvasContext,je,Be=this.masksProperties.length,De,Fe,Oe;for(Re.beginPath(),je=0;je<Be;je+=1)if(this.masksProperties[je].mode!=="n"){this.masksProperties[je].inv&&(Re.moveTo(0,0),Re.lineTo(this.element.globalData.compSize.w,0),Re.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),Re.lineTo(0,this.element.globalData.compSize.h),Re.lineTo(0,0)),Oe=this.viewData[je].v,De=Ce.applyToPointArray(Oe.v[0][0],Oe.v[0][1],0),Re.moveTo(De[0],De[1]);var ke,Me=Oe._length;for(ke=1;ke<Me;ke+=1)Fe=Ce.applyToTriplePoints(Oe.o[ke-1],Oe.i[ke],Oe.v[ke]),Re.bezierCurveTo(Fe[0],Fe[1],Fe[2],Fe[3],Fe[4],Fe[5]);Fe=Ce.applyToTriplePoints(Oe.o[ke-1],Oe.i[0],Oe.v[0]),Re.bezierCurveTo(Fe[0],Fe[1],Fe[2],Fe[3],Fe[4],Fe[5])}this.element.globalData.renderer.save(!0),Re.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var Re=this.globalData.canvasContext,je=assetLoader.createCanvas(Re.canvas.width,Re.canvas.height);this.buffers.push(je);var Be=assetLoader.createCanvas(Re.canvas.width,Re.canvas.height);this.buffers.push(Be),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var Re=this.globalData;if(Re.blendMode!==this.data.bm){Re.blendMode=this.data.bm;var je=getBlendMode(this.data.bm);Re.canvasContext.globalCompositeOperation=je}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(Re){Re.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var Re=this.buffers[0],je=Re.getContext("2d");this.clearCanvas(je),je.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var Re=this.buffers[1],je=Re.getContext("2d");this.clearCanvas(je),je.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var Be=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(Be.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var De=assetLoader.getLumaCanvas(this.canvasContext.canvas),Fe=De.getContext("2d");Fe.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(De,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(Re,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(Re){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!Re)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var je=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(je),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(je),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(Ce,Re,je,Be){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var De=4;Re.ty==="rc"?De=5:Re.ty==="el"?De=6:Re.ty==="sr"&&(De=7),this.sh=ShapePropertyFactory.getShapeProp(Ce,Re,De,Ce);var Fe,Oe=je.length,ke;for(Fe=0;Fe<Oe;Fe+=1)je[Fe].closed||(ke={transforms:Be.addTransformSequence(je[Fe].transforms),trNodes:[]},this.styledShapes.push(ke),je[Fe].elements.push(ke))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(Ce,Re,je){this.shapes=[],this.shapesData=Ce.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(Ce,Re,je)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(Ce,Re){var je={data:Ce,type:Ce.ty,preTransforms:this.transformsManager.addTransformSequence(Re),transforms:[],elements:[],closed:Ce.hd===!0},Be={};if(Ce.ty==="fl"||Ce.ty==="st"?(Be.c=PropertyFactory.getProp(this,Ce.c,1,255,this),Be.c.k||(je.co="rgb("+bmFloor(Be.c.v[0])+","+bmFloor(Be.c.v[1])+","+bmFloor(Be.c.v[2])+")")):(Ce.ty==="gf"||Ce.ty==="gs")&&(Be.s=PropertyFactory.getProp(this,Ce.s,1,null,this),Be.e=PropertyFactory.getProp(this,Ce.e,1,null,this),Be.h=PropertyFactory.getProp(this,Ce.h||{k:0},0,.01,this),Be.a=PropertyFactory.getProp(this,Ce.a||{k:0},0,degToRads,this),Be.g=new GradientProperty(this,Ce.g,this)),Be.o=PropertyFactory.getProp(this,Ce.o,0,.01,this),Ce.ty==="st"||Ce.ty==="gs"){if(je.lc=lineCapEnum[Ce.lc||2],je.lj=lineJoinEnum[Ce.lj||2],Ce.lj==1&&(je.ml=Ce.ml),Be.w=PropertyFactory.getProp(this,Ce.w,0,null,this),Be.w.k||(je.wi=Be.w.v),Ce.d){var De=new DashProperty(this,Ce.d,"canvas",this);Be.d=De,Be.d.k||(je.da=Be.d.dashArray,je.do=Be.d.dashoffset[0])}}else je.r=Ce.r===2?"evenodd":"nonzero";return this.stylesList.push(je),Be.style=je,Be},CVShapeElement.prototype.createGroupElement=function(){var Ce={it:[],prevViewData:[]};return Ce},CVShapeElement.prototype.createTransformElement=function(Ce){var Re={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,Ce.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,Ce,this)}};return Re},CVShapeElement.prototype.createShapeElement=function(Ce){var Re=new CVShapeData(this,Ce,this.stylesList,this.transformsManager);return this.shapes.push(Re),this.addShapeToModifiers(Re),Re},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Ce,Re=this.itemsData.length;for(Ce=0;Ce<Re;Ce+=1)this.prevViewData[Ce]=this.itemsData[Ce];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),Re=this.dynamicProperties.length,Ce=0;Ce<Re;Ce+=1)this.dynamicProperties[Ce].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(Ce){var Re,je=this.stylesList.length;for(Re=0;Re<je;Re+=1)this.stylesList[Re].closed||this.stylesList[Re].transforms.push(Ce)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var Ce,Re=this.stylesList.length;for(Ce=0;Ce<Re;Ce+=1)this.stylesList[Ce].closed||this.stylesList[Ce].transforms.pop()},CVShapeElement.prototype.closeStyles=function(Ce){var Re,je=Ce.length;for(Re=0;Re<je;Re+=1)Ce[Re].closed=!0},CVShapeElement.prototype.searchShapes=function(Ce,Re,je,Be,De){var Fe,Oe=Ce.length-1,ke,Me,Ue=[],$e=[],He,Qe,We,qe=[].concat(De);for(Fe=Oe;Fe>=0;Fe-=1){if(He=this.searchProcessedElement(Ce[Fe]),He?Re[Fe]=je[He-1]:Ce[Fe]._shouldRender=Be,Ce[Fe].ty==="fl"||Ce[Fe].ty==="st"||Ce[Fe].ty==="gf"||Ce[Fe].ty==="gs")He?Re[Fe].style.closed=!1:Re[Fe]=this.createStyleElement(Ce[Fe],qe),Ue.push(Re[Fe].style);else if(Ce[Fe].ty==="gr"){if(!He)Re[Fe]=this.createGroupElement(Ce[Fe]);else for(Me=Re[Fe].it.length,ke=0;ke<Me;ke+=1)Re[Fe].prevViewData[ke]=Re[Fe].it[ke];this.searchShapes(Ce[Fe].it,Re[Fe].it,Re[Fe].prevViewData,Be,qe)}else Ce[Fe].ty==="tr"?(He||(We=this.createTransformElement(Ce[Fe]),Re[Fe]=We),qe.push(Re[Fe]),this.addTransformToStyleList(Re[Fe])):Ce[Fe].ty==="sh"||Ce[Fe].ty==="rc"||Ce[Fe].ty==="el"||Ce[Fe].ty==="sr"?He||(Re[Fe]=this.createShapeElement(Ce[Fe])):Ce[Fe].ty==="tm"||Ce[Fe].ty==="rd"||Ce[Fe].ty==="pb"||Ce[Fe].ty==="zz"||Ce[Fe].ty==="op"?(He?(Qe=Re[Fe],Qe.closed=!1):(Qe=ShapeModifiers.getModifier(Ce[Fe].ty),Qe.init(this,Ce[Fe]),Re[Fe]=Qe,this.shapeModifiers.push(Qe)),$e.push(Qe)):Ce[Fe].ty==="rp"&&(He?(Qe=Re[Fe],Qe.closed=!0):(Qe=ShapeModifiers.getModifier(Ce[Fe].ty),Re[Fe]=Qe,Qe.init(this,Ce,Fe,Re),this.shapeModifiers.push(Qe),Be=!1),$e.push(Qe));this.addProcessedElement(Ce[Fe],Fe+1)}for(this.removeTransformFromStyleList(),this.closeStyles(Ue),Oe=$e.length,Fe=0;Fe<Oe;Fe+=1)$e[Fe].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(Ce,Re){(Ce._opMdf||Re.op._mdf||this._isFirstFrame)&&(Re.opacity=Ce.opacity,Re.opacity*=Re.op.v,Re._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var Ce,Re=this.stylesList.length,je,Be,De,Fe,Oe,ke,Me=this.globalData.renderer,Ue=this.globalData.canvasContext,$e,He;for(Ce=0;Ce<Re;Ce+=1)if(He=this.stylesList[Ce],$e=He.type,!(($e==="st"||$e==="gs")&&He.wi===0||!He.data._shouldRender||He.coOp===0||this.globalData.currentGlobalAlpha===0)){for(Me.save(),Oe=He.elements,$e==="st"||$e==="gs"?(Me.ctxStrokeStyle($e==="st"?He.co:He.grd),Me.ctxLineWidth(He.wi),Me.ctxLineCap(He.lc),Me.ctxLineJoin(He.lj),Me.ctxMiterLimit(He.ml||0)):Me.ctxFillStyle($e==="fl"?He.co:He.grd),Me.ctxOpacity(He.coOp),$e!=="st"&&$e!=="gs"&&Ue.beginPath(),Me.ctxTransform(He.preTransforms.finalTransform.props),Be=Oe.length,je=0;je<Be;je+=1){for(($e==="st"||$e==="gs")&&(Ue.beginPath(),He.da&&(Ue.setLineDash(He.da),Ue.lineDashOffset=He.do)),ke=Oe[je].trNodes,Fe=ke.length,De=0;De<Fe;De+=1)ke[De].t==="m"?Ue.moveTo(ke[De].p[0],ke[De].p[1]):ke[De].t==="c"?Ue.bezierCurveTo(ke[De].pts[0],ke[De].pts[1],ke[De].pts[2],ke[De].pts[3],ke[De].pts[4],ke[De].pts[5]):Ue.closePath();($e==="st"||$e==="gs")&&(Me.ctxStroke(),He.da&&Ue.setLineDash(this.dashResetter))}$e!=="st"&&$e!=="gs"&&this.globalData.renderer.ctxFill(He.r),Me.restore()}},CVShapeElement.prototype.renderShape=function(Ce,Re,je,Be){var De,Fe=Re.length-1,Oe;for(Oe=Ce,De=Fe;De>=0;De-=1)Re[De].ty==="tr"?(Oe=je[De].transform,this.renderShapeTransform(Ce,Oe)):Re[De].ty==="sh"||Re[De].ty==="el"||Re[De].ty==="rc"||Re[De].ty==="sr"?this.renderPath(Re[De],je[De]):Re[De].ty==="fl"?this.renderFill(Re[De],je[De],Oe):Re[De].ty==="st"?this.renderStroke(Re[De],je[De],Oe):Re[De].ty==="gf"||Re[De].ty==="gs"?this.renderGradientFill(Re[De],je[De],Oe):Re[De].ty==="gr"?this.renderShape(Oe,Re[De].it,je[De].it):Re[De].ty;Be&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(Ce,Re){if(this._isFirstFrame||Re._mdf||Ce.transforms._mdf){var je=Ce.trNodes,Be=Re.paths,De,Fe,Oe,ke=Be._length;je.length=0;var Me=Ce.transforms.finalTransform;for(Oe=0;Oe<ke;Oe+=1){var Ue=Be.shapes[Oe];if(Ue&&Ue.v){for(Fe=Ue._length,De=1;De<Fe;De+=1)De===1&&je.push({t:"m",p:Me.applyToPointArray(Ue.v[0][0],Ue.v[0][1],0)}),je.push({t:"c",pts:Me.applyToTriplePoints(Ue.o[De-1],Ue.i[De],Ue.v[De])});Fe===1&&je.push({t:"m",p:Me.applyToPointArray(Ue.v[0][0],Ue.v[0][1],0)}),Ue.c&&Fe&&(je.push({t:"c",pts:Me.applyToTriplePoints(Ue.o[De-1],Ue.i[0],Ue.v[0])}),je.push({t:"z"}))}}Ce.trNodes=je}},CVShapeElement.prototype.renderPath=function(Ce,Re){if(Ce.hd!==!0&&Ce._shouldRender){var je,Be=Re.styledShapes.length;for(je=0;je<Be;je+=1)this.renderStyledShape(Re.styledShapes[je],Re.sh)}},CVShapeElement.prototype.renderFill=function(Ce,Re,je){var Be=Re.style;(Re.c._mdf||this._isFirstFrame)&&(Be.co="rgb("+bmFloor(Re.c.v[0])+","+bmFloor(Re.c.v[1])+","+bmFloor(Re.c.v[2])+")"),(Re.o._mdf||je._opMdf||this._isFirstFrame)&&(Be.coOp=Re.o.v*je.opacity)},CVShapeElement.prototype.renderGradientFill=function(Ce,Re,je){var Be=Re.style,De;if(!Be.grd||Re.g._mdf||Re.s._mdf||Re.e._mdf||Ce.t!==1&&(Re.h._mdf||Re.a._mdf)){var Fe=this.globalData.canvasContext,Oe=Re.s.v,ke=Re.e.v;if(Ce.t===1)De=Fe.createLinearGradient(Oe[0],Oe[1],ke[0],ke[1]);else{var Me=Math.sqrt(Math.pow(Oe[0]-ke[0],2)+Math.pow(Oe[1]-ke[1],2)),Ue=Math.atan2(ke[1]-Oe[1],ke[0]-Oe[0]),$e=Re.h.v;$e>=1?$e=.99:$e<=-1&&($e=-.99);var He=Me*$e,Qe=Math.cos(Ue+Re.a.v)*He+Oe[0],We=Math.sin(Ue+Re.a.v)*He+Oe[1];De=Fe.createRadialGradient(Qe,We,0,Oe[0],Oe[1],Me)}var qe,Ke=Ce.g.p,Xe=Re.g.c,Ye=1;for(qe=0;qe<Ke;qe+=1)Re.g._hasOpacity&&Re.g._collapsable&&(Ye=Re.g.o[qe*2+1]),De.addColorStop(Xe[qe*4]/100,"rgba("+Xe[qe*4+1]+","+Xe[qe*4+2]+","+Xe[qe*4+3]+","+Ye+")");Be.grd=De}Be.coOp=Re.o.v*je.opacity},CVShapeElement.prototype.renderStroke=function(Ce,Re,je){var Be=Re.style,De=Re.d;De&&(De._mdf||this._isFirstFrame)&&(Be.da=De.dashArray,Be.do=De.dashoffset[0]),(Re.c._mdf||this._isFirstFrame)&&(Be.co="rgb("+bmFloor(Re.c.v[0])+","+bmFloor(Re.c.v[1])+","+bmFloor(Re.c.v[2])+")"),(Re.o._mdf||je._opMdf||this._isFirstFrame)&&(Be.coOp=Re.o.v*je.opacity),(Re.w._mdf||this._isFirstFrame)&&(Be.wi=Re.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(Ce,Re,je){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(Ce,Re,je)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var Ce=this.textProperty.currentData;this.renderedLetters=createSizedArray(Ce.l?Ce.l.length:0);var Re=!1;Ce.fc?(Re=!0,this.values.fill=this.buildColor(Ce.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=Re;var je=!1;Ce.sc&&(je=!0,this.values.stroke=this.buildColor(Ce.sc),this.values.sWidth=Ce.sw);var Be=this.globalData.fontManager.getFontByName(Ce.f),De,Fe,Oe=Ce.l,ke=this.mHelper;this.stroke=je,this.values.fValue=Ce.finalSize+"px "+this.globalData.fontManager.getFontByName(Ce.f).fFamily,Fe=Ce.finalText.length;var Me,Ue,$e,He,Qe,We,qe,Ke,Xe,Ye,Ze=this.data.singleShape,Je=Ce.tr*.001*Ce.finalSize,tr=0,rr=0,ar=!0,nr=0;for(De=0;De<Fe;De+=1){Me=this.globalData.fontManager.getCharData(Ce.finalText[De],Be.fStyle,this.globalData.fontManager.getFontByName(Ce.f).fFamily),Ue=Me&&Me.data||{},ke.reset(),Ze&&Oe[De].n&&(tr=-Je,rr+=Ce.yOffset,rr+=ar?1:0,ar=!1),Qe=Ue.shapes?Ue.shapes[0].it:[],qe=Qe.length,ke.scale(Ce.finalSize/100,Ce.finalSize/100),Ze&&this.applyTextPropertiesToMatrix(Ce,ke,Oe[De].line,tr,rr),Xe=createSizedArray(qe-1);var sr=0;for(We=0;We<qe;We+=1)if(Qe[We].ty==="sh"){for(He=Qe[We].ks.k.i.length,Ke=Qe[We].ks.k,Ye=[],$e=1;$e<He;$e+=1)$e===1&&Ye.push(ke.applyToX(Ke.v[0][0],Ke.v[0][1],0),ke.applyToY(Ke.v[0][0],Ke.v[0][1],0)),Ye.push(ke.applyToX(Ke.o[$e-1][0],Ke.o[$e-1][1],0),ke.applyToY(Ke.o[$e-1][0],Ke.o[$e-1][1],0),ke.applyToX(Ke.i[$e][0],Ke.i[$e][1],0),ke.applyToY(Ke.i[$e][0],Ke.i[$e][1],0),ke.applyToX(Ke.v[$e][0],Ke.v[$e][1],0),ke.applyToY(Ke.v[$e][0],Ke.v[$e][1],0));Ye.push(ke.applyToX(Ke.o[$e-1][0],Ke.o[$e-1][1],0),ke.applyToY(Ke.o[$e-1][0],Ke.o[$e-1][1],0),ke.applyToX(Ke.i[0][0],Ke.i[0][1],0),ke.applyToY(Ke.i[0][0],Ke.i[0][1],0),ke.applyToX(Ke.v[0][0],Ke.v[0][1],0),ke.applyToY(Ke.v[0][0],Ke.v[0][1],0)),Xe[sr]=Ye,sr+=1}Ze&&(tr+=Oe[De].l,tr+=Je),this.textSpans[nr]?this.textSpans[nr].elem=Xe:this.textSpans[nr]={elem:Xe},nr+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var Ce=this.canvasContext;Ce.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var Re,je,Be,De,Fe,Oe,ke=this.textAnimator.renderedLetters,Me=this.textProperty.currentData.l;je=Me.length;var Ue,$e=null,He=null,Qe=null,We,qe,Ke=this.globalData.renderer;for(Re=0;Re<je;Re+=1)if(!Me[Re].n){if(Ue=ke[Re],Ue&&(Ke.save(),Ke.ctxTransform(Ue.p),Ke.ctxOpacity(Ue.o)),this.fill){for(Ue&&Ue.fc?$e!==Ue.fc&&(Ke.ctxFillStyle(Ue.fc),$e=Ue.fc):$e!==this.values.fill&&($e=this.values.fill,Ke.ctxFillStyle(this.values.fill)),We=this.textSpans[Re].elem,De=We.length,this.globalData.canvasContext.beginPath(),Be=0;Be<De;Be+=1)for(qe=We[Be],Oe=qe.length,this.globalData.canvasContext.moveTo(qe[0],qe[1]),Fe=2;Fe<Oe;Fe+=6)this.globalData.canvasContext.bezierCurveTo(qe[Fe],qe[Fe+1],qe[Fe+2],qe[Fe+3],qe[Fe+4],qe[Fe+5]);this.globalData.canvasContext.closePath(),Ke.ctxFill()}if(this.stroke){for(Ue&&Ue.sw?Qe!==Ue.sw&&(Qe=Ue.sw,Ke.ctxLineWidth(Ue.sw)):Qe!==this.values.sWidth&&(Qe=this.values.sWidth,Ke.ctxLineWidth(this.values.sWidth)),Ue&&Ue.sc?He!==Ue.sc&&(He=Ue.sc,Ke.ctxStrokeStyle(Ue.sc)):He!==this.values.stroke&&(He=this.values.stroke,Ke.ctxStrokeStyle(this.values.stroke)),We=this.textSpans[Re].elem,De=We.length,this.globalData.canvasContext.beginPath(),Be=0;Be<De;Be+=1)for(qe=We[Be],Oe=qe.length,this.globalData.canvasContext.moveTo(qe[0],qe[1]),Fe=2;Fe<Oe;Fe+=6)this.globalData.canvasContext.bezierCurveTo(qe[Fe],qe[Fe+1],qe[Fe+2],qe[Fe+3],qe[Fe+4],qe[Fe+5]);this.globalData.canvasContext.closePath(),Ke.ctxStroke()}Ue&&this.globalData.renderer.restore()}};function CVImageElement(Ce,Re,je){this.assetData=Re.getAssetData(Ce.refId),this.img=Re.imageLoader.getAsset(this.assetData),this.initElement(Ce,Re,je)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var Ce=createTag("canvas");Ce.width=this.assetData.w,Ce.height=this.assetData.h;var Re=Ce.getContext("2d"),je=this.img.width,Be=this.img.height,De=je/Be,Fe=this.assetData.w/this.assetData.h,Oe,ke,Me=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;De>Fe&&Me==="xMidYMid slice"||De<Fe&&Me!=="xMidYMid slice"?(ke=Be,Oe=ke*Fe):(Oe=je,ke=Oe/Fe),Re.drawImage(this.img,(je-Oe)/2,(Be-ke)/2,Oe,ke,0,0,this.assetData.w,this.assetData.h),this.img=Ce}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(Ce,Re,je){this.initElement(Ce,Re,je)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(Ce){return new CVShapeElement(Ce,this.globalData,this)},CanvasRendererBase.prototype.createText=function(Ce){return new CVTextElement(Ce,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(Ce){return new CVImageElement(Ce,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(Ce){return new CVSolidElement(Ce,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(Ce){Ce[0]===1&&Ce[1]===0&&Ce[4]===0&&Ce[5]===1&&Ce[12]===0&&Ce[13]===0||this.canvasContext.transform(Ce[0],Ce[1],Ce[4],Ce[5],Ce[12],Ce[13])},CanvasRendererBase.prototype.ctxOpacity=function(Ce){this.canvasContext.globalAlpha*=Ce<0?0:Ce},CanvasRendererBase.prototype.ctxFillStyle=function(Ce){this.canvasContext.fillStyle=Ce},CanvasRendererBase.prototype.ctxStrokeStyle=function(Ce){this.canvasContext.strokeStyle=Ce},CanvasRendererBase.prototype.ctxLineWidth=function(Ce){this.canvasContext.lineWidth=Ce},CanvasRendererBase.prototype.ctxLineCap=function(Ce){this.canvasContext.lineCap=Ce},CanvasRendererBase.prototype.ctxLineJoin=function(Ce){this.canvasContext.lineJoin=Ce},CanvasRendererBase.prototype.ctxMiterLimit=function(Ce){this.canvasContext.miterLimit=Ce},CanvasRendererBase.prototype.ctxFill=function(Ce){this.canvasContext.fill(Ce)},CanvasRendererBase.prototype.ctxFillRect=function(Ce,Re,je,Be){this.canvasContext.fillRect(Ce,Re,je,Be)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(Ce){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}Ce&&(this.globalData.blendMode="source-over"),this.contextData.restore(Ce)},CanvasRendererBase.prototype.configAnimation=function(Ce){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var Re=this.animationItem.container.style;Re.width="100%",Re.height="100%";var je="0px 0px 0px";Re.transformOrigin=je,Re.mozTransformOrigin=je,Re.webkitTransformOrigin=je,Re["-webkit-transform"]=je,Re.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=Ce,this.layers=Ce.layers,this.transformCanvas={w:Ce.w,h:Ce.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(Ce,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(Ce.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(Ce,Re){this.reset();var je,Be;Ce?(je=Ce,Be=Re,this.canvasContext.canvas.width=je,this.canvasContext.canvas.height=Be):(this.animationItem.wrapper&&this.animationItem.container?(je=this.animationItem.wrapper.offsetWidth,Be=this.animationItem.wrapper.offsetHeight):(je=this.canvasContext.canvas.width,Be=this.canvasContext.canvas.height),this.canvasContext.canvas.width=je*this.renderConfig.dpr,this.canvasContext.canvas.height=Be*this.renderConfig.dpr);var De,Fe;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var Oe=this.renderConfig.preserveAspectRatio.split(" "),ke=Oe[1]||"meet",Me=Oe[0]||"xMidYMid",Ue=Me.substr(0,4),$e=Me.substr(4);De=je/Be,Fe=this.transformCanvas.w/this.transformCanvas.h,Fe>De&&ke==="meet"||Fe<De&&ke==="slice"?(this.transformCanvas.sx=je/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=je/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=Be/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=Be/(this.transformCanvas.h/this.renderConfig.dpr)),Ue==="xMid"&&(Fe<De&&ke==="meet"||Fe>De&&ke==="slice")?this.transformCanvas.tx=(je-this.transformCanvas.w*(Be/this.transformCanvas.h))/2*this.renderConfig.dpr:Ue==="xMax"&&(Fe<De&&ke==="meet"||Fe>De&&ke==="slice")?this.transformCanvas.tx=(je-this.transformCanvas.w*(Be/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,$e==="YMid"&&(Fe>De&&ke==="meet"||Fe<De&&ke==="slice")?this.transformCanvas.ty=(Be-this.transformCanvas.h*(je/this.transformCanvas.w))/2*this.renderConfig.dpr:$e==="YMax"&&(Fe>De&&ke==="meet"||Fe<De&&ke==="slice")?this.transformCanvas.ty=(Be-this.transformCanvas.h*(je/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=je/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Be/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var Ce,Re=this.layers?this.layers.length:0;for(Ce=Re-1;Ce>=0;Ce-=1)this.elements[Ce]&&this.elements[Ce].destroy&&this.elements[Ce].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(Ce,Re){if(!(this.renderedFrame===Ce&&this.renderConfig.clearCanvas===!0&&!Re||this.destroyed||Ce===-1)){this.renderedFrame=Ce,this.globalData.frameNum=Ce-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||Re,this.globalData.projectInterface.currentFrame=Ce;var je,Be=this.layers.length;for(this.completeLayers||this.checkLayers(Ce),je=Be-1;je>=0;je-=1)(this.completeLayers||this.elements[je])&&this.elements[je].prepareFrame(Ce-this.layers[je].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),je=Be-1;je>=0;je-=1)(this.completeLayers||this.elements[je])&&this.elements[je].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(Ce){var Re=this.elements;if(!(Re[Ce]||this.layers[Ce].ty===99)){var je=this.createItem(this.layers[Ce],this,this.globalData);Re[Ce]=je,je.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Ce=this.pendingElements.pop();Ce.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var Ce,Re=15;for(Ce=0;Ce<Re;Ce+=1){var je=new CanvasContext;this.stack[Ce]=je}this._length=Re,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var Ce=this._length*2,Re=0;for(Re=this._length;Re<Ce;Re+=1)this.stack[Re]=new CanvasContext;this._length=Ce},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(Ce){this.cArrPos-=1;var Re=this.stack[this.cArrPos],je=Re.transform,Be,De=this.cTr.props;for(Be=0;Be<16;Be+=1)De[Be]=je[Be];if(Ce){this.nativeContext.restore();var Fe=this.stack[this.cArrPos+1];this.appliedFillStyle=Fe.fillStyle,this.appliedStrokeStyle=Fe.strokeStyle,this.appliedLineWidth=Fe.lineWidth,this.appliedLineCap=Fe.lineCap,this.appliedLineJoin=Fe.lineJoin,this.appliedMiterLimit=Fe.miterLimit}this.nativeContext.setTransform(je[0],je[1],je[4],je[5],je[12],je[13]),(Ce||Re.opacity!==-1&&this.currentOpacity!==Re.opacity)&&(this.nativeContext.globalAlpha=Re.opacity,this.currentOpacity=Re.opacity),this.currentFillStyle=Re.fillStyle,this.currentStrokeStyle=Re.strokeStyle,this.currentLineWidth=Re.lineWidth,this.currentLineCap=Re.lineCap,this.currentLineJoin=Re.lineJoin,this.currentMiterLimit=Re.miterLimit},CVContextData.prototype.save=function(Ce){Ce&&this.nativeContext.save();var Re=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var je=this.stack[this.cArrPos],Be;for(Be=0;Be<16;Be+=1)je.transform[Be]=Re[Be];this.cArrPos+=1;var De=this.stack[this.cArrPos];De.opacity=je.opacity,De.fillStyle=je.fillStyle,De.strokeStyle=je.strokeStyle,De.lineWidth=je.lineWidth,De.lineCap=je.lineCap,De.lineJoin=je.lineJoin,De.miterLimit=je.miterLimit},CVContextData.prototype.setOpacity=function(Ce){this.stack[this.cArrPos].opacity=Ce},CVContextData.prototype.setContext=function(Ce){this.nativeContext=Ce},CVContextData.prototype.fillStyle=function(Ce){this.stack[this.cArrPos].fillStyle!==Ce&&(this.currentFillStyle=Ce,this.stack[this.cArrPos].fillStyle=Ce)},CVContextData.prototype.strokeStyle=function(Ce){this.stack[this.cArrPos].strokeStyle!==Ce&&(this.currentStrokeStyle=Ce,this.stack[this.cArrPos].strokeStyle=Ce)},CVContextData.prototype.lineWidth=function(Ce){this.stack[this.cArrPos].lineWidth!==Ce&&(this.currentLineWidth=Ce,this.stack[this.cArrPos].lineWidth=Ce)},CVContextData.prototype.lineCap=function(Ce){this.stack[this.cArrPos].lineCap!==Ce&&(this.currentLineCap=Ce,this.stack[this.cArrPos].lineCap=Ce)},CVContextData.prototype.lineJoin=function(Ce){this.stack[this.cArrPos].lineJoin!==Ce&&(this.currentLineJoin=Ce,this.stack[this.cArrPos].lineJoin=Ce)},CVContextData.prototype.miterLimit=function(Ce){this.stack[this.cArrPos].miterLimit!==Ce&&(this.currentMiterLimit=Ce,this.stack[this.cArrPos].miterLimit=Ce)},CVContextData.prototype.transform=function(Ce){this.transformMat.cloneFromProps(Ce);var Re=this.cTr;this.transformMat.multiply(Re),Re.cloneFromProps(this.transformMat.props);var je=Re.props;this.nativeContext.setTransform(je[0],je[1],je[4],je[5],je[12],je[13])},CVContextData.prototype.opacity=function(Ce){var Re=this.stack[this.cArrPos].opacity;Re*=Ce<0?0:Ce,this.stack[this.cArrPos].opacity!==Re&&(this.currentOpacity!==Ce&&(this.nativeContext.globalAlpha=Ce,this.currentOpacity=Ce),this.stack[this.cArrPos].opacity=Re)},CVContextData.prototype.fill=function(Ce){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(Ce)},CVContextData.prototype.fillRect=function(Ce,Re,je,Be){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(Ce,Re,je,Be)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(Ce,Re,je){this.completeLayers=!1,this.layers=Ce.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(Ce,Re,je),this.tm=Ce.tm?PropertyFactory.getProp(this,Ce.tm,0,Re.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var Ce=this.canvasContext;Ce.beginPath(),Ce.moveTo(0,0),Ce.lineTo(this.data.w,0),Ce.lineTo(this.data.w,this.data.h),Ce.lineTo(0,this.data.h),Ce.lineTo(0,0),Ce.clip();var Re,je=this.layers.length;for(Re=je-1;Re>=0;Re-=1)(this.completeLayers||this.elements[Re])&&this.elements[Re].renderFrame()},CVCompElement.prototype.destroy=function(){var Ce,Re=this.layers.length;for(Ce=Re-1;Ce>=0;Ce-=1)this.elements[Ce]&&this.elements[Ce].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(Ce){return new CVCompElement(Ce,this.globalData,this)};function CanvasRenderer(Ce,Re){this.animationItem=Ce,this.renderConfig={clearCanvas:Re&&Re.clearCanvas!==void 0?Re.clearCanvas:!0,context:Re&&Re.context||null,progressiveLoad:Re&&Re.progressiveLoad||!1,preserveAspectRatio:Re&&Re.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:Re&&Re.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:Re&&Re.contentVisibility||"visible",className:Re&&Re.className||"",id:Re&&Re.id||"",runExpressions:!Re||Re.runExpressions===void 0||Re.runExpressions},this.renderConfig.dpr=Re&&Re.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=Re&&Re.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(Ce){return new CVCompElement(Ce,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var Re=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var je=this.finalTransform.mat.toCSS();Re.transform=je,Re.webkitTransform=je}this.finalTransform._opMdf&&(Re.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(Ce,Re,je){this.initElement(Ce,Re,je)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var Ce;this.data.hasMask?(Ce=createNS("rect"),Ce.setAttribute("width",this.data.sw),Ce.setAttribute("height",this.data.sh),Ce.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(Ce=createTag("div"),Ce.style.width=this.data.sw+"px",Ce.style.height=this.data.sh+"px",Ce.style.backgroundColor=this.data.sc),this.layerElement.appendChild(Ce)};function HShapeElement(Ce,Re,je){this.shapes=[],this.shapesData=Ce.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(Ce,Re,je),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var Ce;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),Ce=this.svgElement;else{Ce=createNS("svg");var Re=this.comp.data?this.comp.data:this.globalData.compSize;Ce.setAttribute("width",Re.w),Ce.setAttribute("height",Re.h),Ce.appendChild(this.shapesContainer),this.layerElement.appendChild(Ce)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=Ce},HShapeElement.prototype.getTransformedPoint=function(Ce,Re){var je,Be=Ce.length;for(je=0;je<Be;je+=1)Re=Ce[je].mProps.v.applyToPointArray(Re[0],Re[1],0);return Re},HShapeElement.prototype.calculateShapeBoundingBox=function(Ce,Re){var je=Ce.sh.v,Be=Ce.transformers,De,Fe=je._length,Oe,ke,Me,Ue;if(!(Fe<=1)){for(De=0;De<Fe-1;De+=1)Oe=this.getTransformedPoint(Be,je.v[De]),ke=this.getTransformedPoint(Be,je.o[De]),Me=this.getTransformedPoint(Be,je.i[De+1]),Ue=this.getTransformedPoint(Be,je.v[De+1]),this.checkBounds(Oe,ke,Me,Ue,Re);je.c&&(Oe=this.getTransformedPoint(Be,je.v[De]),ke=this.getTransformedPoint(Be,je.o[De]),Me=this.getTransformedPoint(Be,je.i[0]),Ue=this.getTransformedPoint(Be,je.v[0]),this.checkBounds(Oe,ke,Me,Ue,Re))}},HShapeElement.prototype.checkBounds=function(Ce,Re,je,Be,De){this.getBoundsOfCurve(Ce,Re,je,Be);var Fe=this.shapeBoundingBox;De.x=bmMin(Fe.left,De.x),De.xMax=bmMax(Fe.right,De.xMax),De.y=bmMin(Fe.top,De.y),De.yMax=bmMax(Fe.bottom,De.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(Ce,Re,je,Be){for(var De=[[Ce[0],Be[0]],[Ce[1],Be[1]]],Fe,Oe,ke,Me,Ue,$e,He,Qe=0;Qe<2;++Qe)Oe=6*Ce[Qe]-12*Re[Qe]+6*je[Qe],Fe=-3*Ce[Qe]+9*Re[Qe]-9*je[Qe]+3*Be[Qe],ke=3*Re[Qe]-3*Ce[Qe],Oe|=0,Fe|=0,ke|=0,Fe===0&&Oe===0||(Fe===0?(Me=-ke/Oe,Me>0&&Me<1&&De[Qe].push(this.calculateF(Me,Ce,Re,je,Be,Qe))):(Ue=Oe*Oe-4*ke*Fe,Ue>=0&&($e=(-Oe+bmSqrt(Ue))/(2*Fe),$e>0&&$e<1&&De[Qe].push(this.calculateF($e,Ce,Re,je,Be,Qe)),He=(-Oe-bmSqrt(Ue))/(2*Fe),He>0&&He<1&&De[Qe].push(this.calculateF(He,Ce,Re,je,Be,Qe)))));this.shapeBoundingBox.left=bmMin.apply(null,De[0]),this.shapeBoundingBox.top=bmMin.apply(null,De[1]),this.shapeBoundingBox.right=bmMax.apply(null,De[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,De[1])},HShapeElement.prototype.calculateF=function(Ce,Re,je,Be,De,Fe){return bmPow(1-Ce,3)*Re[Fe]+3*bmPow(1-Ce,2)*Ce*je[Fe]+3*(1-Ce)*bmPow(Ce,2)*Be[Fe]+bmPow(Ce,3)*De[Fe]},HShapeElement.prototype.calculateBoundingBox=function(Ce,Re){var je,Be=Ce.length;for(je=0;je<Be;je+=1)Ce[je]&&Ce[je].sh?this.calculateShapeBoundingBox(Ce[je],Re):Ce[je]&&Ce[je].it?this.calculateBoundingBox(Ce[je].it,Re):Ce[je]&&Ce[je].style&&Ce[je].w&&this.expandStrokeBoundingBox(Ce[je].w,Re)},HShapeElement.prototype.expandStrokeBoundingBox=function(Ce,Re){var je=0;if(Ce.keyframes){for(var Be=0;Be<Ce.keyframes.length;Be+=1){var De=Ce.keyframes[Be].s;De>je&&(je=De)}je*=Ce.mult}else je=Ce.v*Ce.mult;Re.x-=je,Re.xMax+=je,Re.y-=je,Re.yMax+=je},HShapeElement.prototype.currentBoxContains=function(Ce){return this.currentBBox.x<=Ce.x&&this.currentBBox.y<=Ce.y&&this.currentBBox.width+this.currentBBox.x>=Ce.x+Ce.width&&this.currentBBox.height+this.currentBBox.y>=Ce.y+Ce.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var Ce=this.tempBoundingBox,Re=999999;if(Ce.x=Re,Ce.xMax=-Re,Ce.y=Re,Ce.yMax=-Re,this.calculateBoundingBox(this.itemsData,Ce),Ce.width=Ce.xMax<Ce.x?0:Ce.xMax-Ce.x,Ce.height=Ce.yMax<Ce.y?0:Ce.yMax-Ce.y,this.currentBoxContains(Ce))return;var je=!1;if(this.currentBBox.w!==Ce.width&&(this.currentBBox.w=Ce.width,this.shapeCont.setAttribute("width",Ce.width),je=!0),this.currentBBox.h!==Ce.height&&(this.currentBBox.h=Ce.height,this.shapeCont.setAttribute("height",Ce.height),je=!0),je||this.currentBBox.x!==Ce.x||this.currentBBox.y!==Ce.y){this.currentBBox.w=Ce.width,this.currentBBox.h=Ce.height,this.currentBBox.x=Ce.x,this.currentBBox.y=Ce.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var Be=this.shapeCont.style,De="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Be.transform=De,Be.webkitTransform=De}}};function HTextElement(Ce,Re,je){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(Ce,Re,je)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var Ce=createNS("g");this.maskedElement.appendChild(Ce),this.innerElem=Ce}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var Ce=this.textProperty.currentData;this.renderedLetters=createSizedArray(Ce.l?Ce.l.length:0);var Re=this.innerElem.style,je=Ce.fc?this.buildColor(Ce.fc):"rgba(0,0,0,0)";Re.fill=je,Re.color=je,Ce.sc&&(Re.stroke=this.buildColor(Ce.sc),Re.strokeWidth=Ce.sw+"px");var Be=this.globalData.fontManager.getFontByName(Ce.f);if(!this.globalData.fontManager.chars)if(Re.fontSize=Ce.finalSize+"px",Re.lineHeight=Ce.finalSize+"px",Be.fClass)this.innerElem.className=Be.fClass;else{Re.fontFamily=Be.fFamily;var De=Ce.fWeight,Fe=Ce.fStyle;Re.fontStyle=Fe,Re.fontWeight=De}var Oe,ke,Me=Ce.l;ke=Me.length;var Ue,$e,He,Qe=this.mHelper,We,qe="",Ke=0;for(Oe=0;Oe<ke;Oe+=1){if(this.globalData.fontManager.chars?(this.textPaths[Ke]?Ue=this.textPaths[Ke]:(Ue=createNS("path"),Ue.setAttribute("stroke-linecap",lineCapEnum[1]),Ue.setAttribute("stroke-linejoin",lineJoinEnum[2]),Ue.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Ke]?($e=this.textSpans[Ke],He=$e.children[0]):($e=createTag("div"),$e.style.lineHeight=0,He=createNS("svg"),He.appendChild(Ue),styleDiv($e)))):this.isMasked?Ue=this.textPaths[Ke]?this.textPaths[Ke]:createNS("text"):this.textSpans[Ke]?($e=this.textSpans[Ke],Ue=this.textPaths[Ke]):($e=createTag("span"),styleDiv($e),Ue=createTag("span"),styleDiv(Ue),$e.appendChild(Ue)),this.globalData.fontManager.chars){var Xe=this.globalData.fontManager.getCharData(Ce.finalText[Oe],Be.fStyle,this.globalData.fontManager.getFontByName(Ce.f).fFamily),Ye;if(Xe?Ye=Xe.data:Ye=null,Qe.reset(),Ye&&Ye.shapes&&Ye.shapes.length&&(We=Ye.shapes[0].it,Qe.scale(Ce.finalSize/100,Ce.finalSize/100),qe=this.createPathShape(Qe,We),Ue.setAttribute("d",qe)),this.isMasked)this.innerElem.appendChild(Ue);else{if(this.innerElem.appendChild($e),Ye&&Ye.shapes){document.body.appendChild(He);var Ze=He.getBBox();He.setAttribute("width",Ze.width+2),He.setAttribute("height",Ze.height+2),He.setAttribute("viewBox",Ze.x-1+" "+(Ze.y-1)+" "+(Ze.width+2)+" "+(Ze.height+2));var Je=He.style,tr="translate("+(Ze.x-1)+"px,"+(Ze.y-1)+"px)";Je.transform=tr,Je.webkitTransform=tr,Me[Oe].yOffset=Ze.y-1}else He.setAttribute("width",1),He.setAttribute("height",1);$e.appendChild(He)}}else if(Ue.textContent=Me[Oe].val,Ue.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Ue);else{this.innerElem.appendChild($e);var rr=Ue.style,ar="translate3d(0,"+-Ce.finalSize/1.2+"px,0)";rr.transform=ar,rr.webkitTransform=ar}this.isMasked?this.textSpans[Ke]=Ue:this.textSpans[Ke]=$e,this.textSpans[Ke].style.display="block",this.textPaths[Ke]=Ue,Ke+=1}for(;Ke<this.textSpans.length;)this.textSpans[Ke].style.display="none",Ke+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var Ce;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),Ce=this.svgElement.style;var Re="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";Ce.transform=Re,Ce.webkitTransform=Re}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var je,Be,De=0,Fe=this.textAnimator.renderedLetters,Oe=this.textProperty.currentData.l;Be=Oe.length;var ke,Me,Ue;for(je=0;je<Be;je+=1)Oe[je].n?De+=1:(Me=this.textSpans[je],Ue=this.textPaths[je],ke=Fe[De],De+=1,ke._mdf.m&&(this.isMasked?Me.setAttribute("transform",ke.m):(Me.style.webkitTransform=ke.m,Me.style.transform=ke.m)),Me.style.opacity=ke.o,ke.sw&&ke._mdf.sw&&Ue.setAttribute("stroke-width",ke.sw),ke.sc&&ke._mdf.sc&&Ue.setAttribute("stroke",ke.sc),ke.fc&&ke._mdf.fc&&(Ue.setAttribute("fill",ke.fc),Ue.style.color=ke.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var $e=this.innerElem.getBBox();this.currentBBox.w!==$e.width&&(this.currentBBox.w=$e.width,this.svgElement.setAttribute("width",$e.width)),this.currentBBox.h!==$e.height&&(this.currentBBox.h=$e.height,this.svgElement.setAttribute("height",$e.height));var He=1;if(this.currentBBox.w!==$e.width+He*2||this.currentBBox.h!==$e.height+He*2||this.currentBBox.x!==$e.x-He||this.currentBBox.y!==$e.y-He){this.currentBBox.w=$e.width+He*2,this.currentBBox.h=$e.height+He*2,this.currentBBox.x=$e.x-He,this.currentBBox.y=$e.y-He,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),Ce=this.svgElement.style;var Qe="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Ce.transform=Qe,Ce.webkitTransform=Qe}}}};function HCameraElement(Ce,Re,je){this.initFrame(),this.initBaseData(Ce,Re,je),this.initHierarchy();var Be=PropertyFactory.getProp;if(this.pe=Be(this,Ce.pe,0,0,this),Ce.ks.p.s?(this.px=Be(this,Ce.ks.p.x,1,0,this),this.py=Be(this,Ce.ks.p.y,1,0,this),this.pz=Be(this,Ce.ks.p.z,1,0,this)):this.p=Be(this,Ce.ks.p,1,0,this),Ce.ks.a&&(this.a=Be(this,Ce.ks.a,1,0,this)),Ce.ks.or.k.length&&Ce.ks.or.k[0].to){var De,Fe=Ce.ks.or.k.length;for(De=0;De<Fe;De+=1)Ce.ks.or.k[De].to=null,Ce.ks.or.k[De].ti=null}this.or=Be(this,Ce.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=Be(this,Ce.ks.rx,0,degToRads,this),this.ry=Be(this,Ce.ks.ry,0,degToRads,this),this.rz=Be(this,Ce.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var Ce,Re=this.comp.threeDElements.length,je,Be,De;for(Ce=0;Ce<Re;Ce+=1)if(je=this.comp.threeDElements[Ce],je.type==="3d"){Be=je.perspectiveElem.style,De=je.container.style;var Fe=this.pe.v+"px",Oe="0px 0px 0px",ke="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Be.perspective=Fe,Be.webkitPerspective=Fe,De.transformOrigin=Oe,De.mozTransformOrigin=Oe,De.webkitTransformOrigin=Oe,Be.transform=ke,Be.webkitTransform=ke}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var Ce=this._isFirstFrame,Re,je;if(this.hierarchy)for(je=this.hierarchy.length,Re=0;Re<je;Re+=1)Ce=this.hierarchy[Re].finalTransform.mProp._mdf||Ce;if(Ce||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(je=this.hierarchy.length-1,Re=je;Re>=0;Re-=1){var Be=this.hierarchy[Re].finalTransform.mProp;this.mat.translate(-Be.p.v[0],-Be.p.v[1],Be.p.v[2]),this.mat.rotateX(-Be.or.v[0]).rotateY(-Be.or.v[1]).rotateZ(Be.or.v[2]),this.mat.rotateX(-Be.rx.v).rotateY(-Be.ry.v).rotateZ(Be.rz.v),this.mat.scale(1/Be.s.v[0],1/Be.s.v[1],1/Be.s.v[2]),this.mat.translate(Be.a.v[0],Be.a.v[1],Be.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var De;this.p?De=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:De=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var Fe=Math.sqrt(Math.pow(De[0],2)+Math.pow(De[1],2)+Math.pow(De[2],2)),Oe=[De[0]/Fe,De[1]/Fe,De[2]/Fe],ke=Math.sqrt(Oe[2]*Oe[2]+Oe[0]*Oe[0]),Me=Math.atan2(Oe[1],ke),Ue=Math.atan2(Oe[0],-Oe[2]);this.mat.rotateY(Ue).rotateX(-Me)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var $e=!this._prevMat.equals(this.mat);if(($e||this.pe._mdf)&&this.comp.threeDElements){je=this.comp.threeDElements.length;var He,Qe,We;for(Re=0;Re<je;Re+=1)if(He=this.comp.threeDElements[Re],He.type==="3d"){if($e){var qe=this.mat.toCSS();We=He.container.style,We.transform=qe,We.webkitTransform=qe}this.pe._mdf&&(Qe=He.perspectiveElem.style,Qe.perspective=this.pe.v+"px",Qe.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(Ce){this.prepareProperties(Ce,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(Ce,Re,je){this.assetData=Re.getAssetData(Ce.refId),this.initElement(Ce,Re,je)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var Ce=this.globalData.getAssetsPath(this.assetData),Re=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Ce),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(Re),Re.crossOrigin="anonymous",Re.src=Ce,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(Ce,Re){this.animationItem=Ce,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:Re&&Re.className||"",imagePreserveAspectRatio:Re&&Re.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(Re&&Re.hideOnTransparent===!1),filterSize:{width:Re&&Re.filterSize&&Re.filterSize.width||"400%",height:Re&&Re.filterSize&&Re.filterSize.height||"400%",x:Re&&Re.filterSize&&Re.filterSize.x||"-100%",y:Re&&Re.filterSize&&Re.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Ce=this.pendingElements.pop();Ce.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(Ce,Re){var je=Ce.getBaseElement();if(je){var Be=this.layers[Re];if(!Be.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(je,Re);else{for(var De=0,Fe,Oe,ke;De<Re;)this.elements[De]&&this.elements[De]!==!0&&this.elements[De].getBaseElement&&(Oe=this.elements[De],ke=this.layers[De].ddd?this.getThreeDContainerByPos(De):Oe.getBaseElement(),Fe=ke||Fe),De+=1;Fe?(!Be.ddd||!this.supports3d)&&this.layerElement.insertBefore(je,Fe):(!Be.ddd||!this.supports3d)&&this.layerElement.appendChild(je)}else this.addTo3dContainer(je,Re)}},HybridRendererBase.prototype.createShape=function(Ce){return this.supports3d?new HShapeElement(Ce,this.globalData,this):new SVGShapeElement(Ce,this.globalData,this)},HybridRendererBase.prototype.createText=function(Ce){return this.supports3d?new HTextElement(Ce,this.globalData,this):new SVGTextLottieElement(Ce,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(Ce){return this.camera=new HCameraElement(Ce,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(Ce){return this.supports3d?new HImageElement(Ce,this.globalData,this):new IImageElement(Ce,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(Ce){return this.supports3d?new HSolidElement(Ce,this.globalData,this):new ISolidElement(Ce,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(Ce){for(var Re=0,je=this.threeDElements.length;Re<je;){if(this.threeDElements[Re].startPos<=Ce&&this.threeDElements[Re].endPos>=Ce)return this.threeDElements[Re].perspectiveElem;Re+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(Ce,Re){var je=createTag("div"),Be,De;styleDiv(je);var Fe=createTag("div");if(styleDiv(Fe),Re==="3d"){Be=je.style,Be.width=this.globalData.compSize.w+"px",Be.height=this.globalData.compSize.h+"px";var Oe="50% 50%";Be.webkitTransformOrigin=Oe,Be.mozTransformOrigin=Oe,Be.transformOrigin=Oe,De=Fe.style;var ke="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";De.transform=ke,De.webkitTransform=ke}je.appendChild(Fe);var Me={container:Fe,perspectiveElem:je,startPos:Ce,endPos:Ce,type:Re};return this.threeDElements.push(Me),Me},HybridRendererBase.prototype.build3dContainers=function(){var Ce,Re=this.layers.length,je,Be="";for(Ce=0;Ce<Re;Ce+=1)this.layers[Ce].ddd&&this.layers[Ce].ty!==3?(Be!=="3d"&&(Be="3d",je=this.createThreeDContainer(Ce,"3d")),je.endPos=Math.max(je.endPos,Ce)):(Be!=="2d"&&(Be="2d",je=this.createThreeDContainer(Ce,"2d")),je.endPos=Math.max(je.endPos,Ce));for(Re=this.threeDElements.length,Ce=Re-1;Ce>=0;Ce-=1)this.resizerElem.appendChild(this.threeDElements[Ce].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(Ce,Re){for(var je=0,Be=this.threeDElements.length;je<Be;){if(Re<=this.threeDElements[je].endPos){for(var De=this.threeDElements[je].startPos,Fe;De<Re;)this.elements[De]&&this.elements[De].getBaseElement&&(Fe=this.elements[De].getBaseElement()),De+=1;Fe?this.threeDElements[je].container.insertBefore(Ce,Fe):this.threeDElements[je].container.appendChild(Ce);break}je+=1}},HybridRendererBase.prototype.configAnimation=function(Ce){var Re=createTag("div"),je=this.animationItem.wrapper,Be=Re.style;Be.width=Ce.w+"px",Be.height=Ce.h+"px",this.resizerElem=Re,styleDiv(Re),Be.transformStyle="flat",Be.mozTransformStyle="flat",Be.webkitTransformStyle="flat",this.renderConfig.className&&Re.setAttribute("class",this.renderConfig.className),je.appendChild(Re),Be.overflow="hidden";var De=createNS("svg");De.setAttribute("width","1"),De.setAttribute("height","1"),styleDiv(De),this.resizerElem.appendChild(De);var Fe=createNS("defs");De.appendChild(Fe),this.data=Ce,this.setupGlobalData(Ce,De),this.globalData.defs=Fe,this.layers=Ce.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var Ce,Re=this.layers?this.layers.length:0;for(Ce=0;Ce<Re;Ce+=1)this.elements[Ce]&&this.elements[Ce].destroy&&this.elements[Ce].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var Ce=this.animationItem.wrapper.offsetWidth,Re=this.animationItem.wrapper.offsetHeight,je=Ce/Re,Be=this.globalData.compSize.w/this.globalData.compSize.h,De,Fe,Oe,ke;Be>je?(De=Ce/this.globalData.compSize.w,Fe=Ce/this.globalData.compSize.w,Oe=0,ke=(Re-this.globalData.compSize.h*(Ce/this.globalData.compSize.w))/2):(De=Re/this.globalData.compSize.h,Fe=Re/this.globalData.compSize.h,Oe=(Ce-this.globalData.compSize.w*(Re/this.globalData.compSize.h))/2,ke=0);var Me=this.resizerElem.style;Me.webkitTransform="matrix3d("+De+",0,0,0,0,"+Fe+",0,0,0,0,1,0,"+Oe+","+ke+",0,1)",Me.transform=Me.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var Ce=this.globalData.compSize.w,Re=this.globalData.compSize.h,je,Be=this.threeDElements.length;for(je=0;je<Be;je+=1){var De=this.threeDElements[je].perspectiveElem.style;De.webkitPerspective=Math.sqrt(Math.pow(Ce,2)+Math.pow(Re,2))+"px",De.perspective=De.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(Ce){var Re,je=Ce.length,Be=createTag("div");for(Re=0;Re<je;Re+=1)if(Ce[Re].xt){var De=this.createComp(Ce[Re],Be,this.globalData.comp,null);De.initExpressions(),this.globalData.projectInterface.registerComposition(De)}};function HCompElement(Ce,Re,je){this.layers=Ce.layers,this.supports3d=!Ce.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(Ce,Re,je),this.tm=Ce.tm?PropertyFactory.getProp(this,Ce.tm,0,Re.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(Ce,Re){for(var je=0,Be;je<Re;)this.elements[je]&&this.elements[je].getBaseElement&&(Be=this.elements[je].getBaseElement()),je+=1;Be?this.layerElement.insertBefore(Ce,Be):this.layerElement.appendChild(Ce)},HCompElement.prototype.createComp=function(Ce){return this.supports3d?new HCompElement(Ce,this.globalData,this):new SVGCompElement(Ce,this.globalData,this)};function HybridRenderer(Ce,Re){this.animationItem=Ce,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:Re&&Re.className||"",imagePreserveAspectRatio:Re&&Re.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(Re&&Re.hideOnTransparent===!1),filterSize:{width:Re&&Re.filterSize&&Re.filterSize.width||"400%",height:Re&&Re.filterSize&&Re.filterSize.height||"400%",x:Re&&Re.filterSize&&Re.filterSize.x||"-100%",y:Re&&Re.filterSize&&Re.filterSize.y||"-100%"},runExpressions:!Re||Re.runExpressions===void 0||Re.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(Ce){return this.supports3d?new HCompElement(Ce,this.globalData,this):new SVGCompElement(Ce,this.globalData,this)};var CompExpressionInterface=(function(){return function(Ce){function Re(je){for(var Be=0,De=Ce.layers.length;Be<De;){if(Ce.layers[Be].nm===je||Ce.layers[Be].ind===je)return Ce.elements[Be].layerInterface;Be+=1}return null}return Object.defineProperty(Re,"_name",{value:Ce.data.nm}),Re.layer=Re,Re.pixelAspect=1,Re.height=Ce.data.h||Ce.globalData.compSize.h,Re.width=Ce.data.w||Ce.globalData.compSize.w,Re.pixelAspect=1,Re.frameDuration=1/Ce.globalData.frameRate,Re.displayStartTime=0,Re.numLayers=Ce.layers.length,Re}})();function _typeof$2(Ce){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},_typeof$2(Ce)}function seedRandom(Ce,Re){var je=this,Be=256,De=6,Fe=52,Oe="random",ke=Re.pow(Be,De),Me=Re.pow(2,Fe),Ue=Me*2,$e=Be-1,He;function Qe(Je,tr,rr){var ar=[];tr=tr===!0?{entropy:!0}:tr||{};var nr=Xe(Ke(tr.entropy?[Je,Ze(Ce)]:Je===null?Ye():Je,3),ar),sr=new We(ar),dr=function(){for(var fr=sr.g(De),or=ke,Er=0;fr<Me;)fr=(fr+Er)*Be,or*=Be,Er=sr.g(1);for(;fr>=Ue;)fr/=2,or/=2,Er>>>=1;return(fr+Er)/or};return dr.int32=function(){return sr.g(4)|0},dr.quick=function(){return sr.g(4)/4294967296},dr.double=dr,Xe(Ze(sr.S),Ce),(tr.pass||rr||function(_r,fr,or,Er){return Er&&(Er.S&&qe(Er,sr),_r.state=function(){return qe(sr,{})}),or?(Re[Oe]=_r,fr):_r})(dr,nr,"global"in tr?tr.global:this==Re,tr.state)}Re["seed"+Oe]=Qe;function We(Je){var tr,rr=Je.length,ar=this,nr=0,sr=ar.i=ar.j=0,dr=ar.S=[];for(rr||(Je=[rr++]);nr<Be;)dr[nr]=nr++;for(nr=0;nr<Be;nr++)dr[nr]=dr[sr=$e&sr+Je[nr%rr]+(tr=dr[nr])],dr[sr]=tr;ar.g=function(_r){for(var fr,or=0,Er=ar.i,Rr=ar.j,jr=ar.S;_r--;)fr=jr[Er=$e&Er+1],or=or*Be+jr[$e&(jr[Er]=jr[Rr=$e&Rr+fr])+(jr[Rr]=fr)];return ar.i=Er,ar.j=Rr,or}}function qe(Je,tr){return tr.i=Je.i,tr.j=Je.j,tr.S=Je.S.slice(),tr}function Ke(Je,tr){var rr=[],ar=_typeof$2(Je),nr;if(tr&&ar=="object")for(nr in Je)try{rr.push(Ke(Je[nr],tr-1))}catch{}return rr.length?rr:ar=="string"?Je:Je+"\0"}function Xe(Je,tr){for(var rr=Je+"",ar,nr=0;nr<rr.length;)tr[$e&nr]=$e&(ar^=tr[$e&nr]*19)+rr.charCodeAt(nr++);return Ze(tr)}function Ye(){try{var Je=new Uint8Array(Be);return(je.crypto||je.msCrypto).getRandomValues(Je),Ze(Je)}catch{var tr=je.navigator,rr=tr&&tr.plugins;return[+new Date,je,rr,je.screen,Ze(Ce)]}}function Ze(Je){return String.fromCharCode.apply(0,Je)}Xe(Re.random(),Ce)}function initialize$2(Ce){seedRandom([],Ce)}var propTypes={SHAPE:"shape"};function _typeof$1(Ce){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},_typeof$1(Ce)}var ExpressionManager=(function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(Ce){return Ce.constructor===Array||Ce.constructor===Float32Array}function isNumerable(Ce,Re){return Ce==="number"||Re instanceof Number||Ce==="boolean"||Ce==="string"}function $bm_neg(Ce){var Re=_typeof$1(Ce);if(Re==="number"||Ce instanceof Number||Re==="boolean")return-Ce;if($bm_isInstanceOfArray(Ce)){var je,Be=Ce.length,De=[];for(je=0;je<Be;je+=1)De[je]=-Ce[je];return De}return Ce.propType?Ce.v:-Ce}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(Ce,Re){var je=_typeof$1(Ce),Be=_typeof$1(Re);if(isNumerable(je,Ce)&&isNumerable(Be,Re)||je==="string"||Be==="string")return Ce+Re;if($bm_isInstanceOfArray(Ce)&&isNumerable(Be,Re))return Ce=Ce.slice(0),Ce[0]+=Re,Ce;if(isNumerable(je,Ce)&&$bm_isInstanceOfArray(Re))return Re=Re.slice(0),Re[0]=Ce+Re[0],Re;if($bm_isInstanceOfArray(Ce)&&$bm_isInstanceOfArray(Re)){for(var De=0,Fe=Ce.length,Oe=Re.length,ke=[];De<Fe||De<Oe;)(typeof Ce[De]=="number"||Ce[De]instanceof Number)&&(typeof Re[De]=="number"||Re[De]instanceof Number)?ke[De]=Ce[De]+Re[De]:ke[De]=Re[De]===void 0?Ce[De]:Ce[De]||Re[De],De+=1;return ke}return 0}var add=sum;function sub(Ce,Re){var je=_typeof$1(Ce),Be=_typeof$1(Re);if(isNumerable(je,Ce)&&isNumerable(Be,Re))return je==="string"&&(Ce=parseInt(Ce,10)),Be==="string"&&(Re=parseInt(Re,10)),Ce-Re;if($bm_isInstanceOfArray(Ce)&&isNumerable(Be,Re))return Ce=Ce.slice(0),Ce[0]-=Re,Ce;if(isNumerable(je,Ce)&&$bm_isInstanceOfArray(Re))return Re=Re.slice(0),Re[0]=Ce-Re[0],Re;if($bm_isInstanceOfArray(Ce)&&$bm_isInstanceOfArray(Re)){for(var De=0,Fe=Ce.length,Oe=Re.length,ke=[];De<Fe||De<Oe;)(typeof Ce[De]=="number"||Ce[De]instanceof Number)&&(typeof Re[De]=="number"||Re[De]instanceof Number)?ke[De]=Ce[De]-Re[De]:ke[De]=Re[De]===void 0?Ce[De]:Ce[De]||Re[De],De+=1;return ke}return 0}function mul(Ce,Re){var je=_typeof$1(Ce),Be=_typeof$1(Re),De;if(isNumerable(je,Ce)&&isNumerable(Be,Re))return Ce*Re;var Fe,Oe;if($bm_isInstanceOfArray(Ce)&&isNumerable(Be,Re)){for(Oe=Ce.length,De=createTypedArray("float32",Oe),Fe=0;Fe<Oe;Fe+=1)De[Fe]=Ce[Fe]*Re;return De}if(isNumerable(je,Ce)&&$bm_isInstanceOfArray(Re)){for(Oe=Re.length,De=createTypedArray("float32",Oe),Fe=0;Fe<Oe;Fe+=1)De[Fe]=Ce*Re[Fe];return De}return 0}function div(Ce,Re){var je=_typeof$1(Ce),Be=_typeof$1(Re),De;if(isNumerable(je,Ce)&&isNumerable(Be,Re))return Ce/Re;var Fe,Oe;if($bm_isInstanceOfArray(Ce)&&isNumerable(Be,Re)){for(Oe=Ce.length,De=createTypedArray("float32",Oe),Fe=0;Fe<Oe;Fe+=1)De[Fe]=Ce[Fe]/Re;return De}if(isNumerable(je,Ce)&&$bm_isInstanceOfArray(Re)){for(Oe=Re.length,De=createTypedArray("float32",Oe),Fe=0;Fe<Oe;Fe+=1)De[Fe]=Ce/Re[Fe];return De}return 0}function mod(Ce,Re){return typeof Ce=="string"&&(Ce=parseInt(Ce,10)),typeof Re=="string"&&(Re=parseInt(Re,10)),Ce%Re}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(Ce,Re,je){if(Re>je){var Be=je;je=Re,Re=Be}return Math.min(Math.max(Ce,Re),je)}function radiansToDegrees(Ce){return Ce/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(Ce){return Ce*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(Ce,Re){if(typeof Ce=="number"||Ce instanceof Number)return Re=Re||0,Math.abs(Ce-Re);Re||(Re=helperLengthArray);var je,Be=Math.min(Ce.length,Re.length),De=0;for(je=0;je<Be;je+=1)De+=Math.pow(Re[je]-Ce[je],2);return Math.sqrt(De)}function normalize(Ce){return div(Ce,length(Ce))}function rgbToHsl(Ce){var Re=Ce[0],je=Ce[1],Be=Ce[2],De=Math.max(Re,je,Be),Fe=Math.min(Re,je,Be),Oe,ke,Me=(De+Fe)/2;if(De===Fe)Oe=0,ke=0;else{var Ue=De-Fe;switch(ke=Me>.5?Ue/(2-De-Fe):Ue/(De+Fe),De){case Re:Oe=(je-Be)/Ue+(je<Be?6:0);break;case je:Oe=(Be-Re)/Ue+2;break;case Be:Oe=(Re-je)/Ue+4;break}Oe/=6}return[Oe,ke,Me,Ce[3]]}function hue2rgb(Ce,Re,je){return je<0&&(je+=1),je>1&&(je-=1),je<1/6?Ce+(Re-Ce)*6*je:je<1/2?Re:je<2/3?Ce+(Re-Ce)*(2/3-je)*6:Ce}function hslToRgb(Ce){var Re=Ce[0],je=Ce[1],Be=Ce[2],De,Fe,Oe;if(je===0)De=Be,Oe=Be,Fe=Be;else{var ke=Be<.5?Be*(1+je):Be+je-Be*je,Me=2*Be-ke;De=hue2rgb(Me,ke,Re+1/3),Fe=hue2rgb(Me,ke,Re),Oe=hue2rgb(Me,ke,Re-1/3)}return[De,Fe,Oe,Ce[3]]}function linear(Ce,Re,je,Be,De){if((Be===void 0||De===void 0)&&(Be=Re,De=je,Re=0,je=1),je<Re){var Fe=je;je=Re,Re=Fe}if(Ce<=Re)return Be;if(Ce>=je)return De;var Oe=je===Re?0:(Ce-Re)/(je-Re);if(!Be.length)return Be+(De-Be)*Oe;var ke,Me=Be.length,Ue=createTypedArray("float32",Me);for(ke=0;ke<Me;ke+=1)Ue[ke]=Be[ke]+(De[ke]-Be[ke])*Oe;return Ue}function random(Ce,Re){if(Re===void 0&&(Ce===void 0?(Ce=0,Re=1):(Re=Ce,Ce=void 0)),Re.length){var je,Be=Re.length;Ce||(Ce=createTypedArray("float32",Be));var De=createTypedArray("float32",Be),Fe=BMMath.random();for(je=0;je<Be;je+=1)De[je]=Ce[je]+Fe*(Re[je]-Ce[je]);return De}Ce===void 0&&(Ce=0);var Oe=BMMath.random();return Ce+Oe*(Re-Ce)}function createPath(Ce,Re,je,Be){var De,Fe=Ce.length,Oe=shapePool.newElement();Oe.setPathData(!!Be,Fe);var ke=[0,0],Me,Ue;for(De=0;De<Fe;De+=1)Me=Re&&Re[De]?Re[De]:ke,Ue=je&&je[De]?je[De]:ke,Oe.setTripleAt(Ce[De][0],Ce[De][1],Ue[0]+Ce[De][0],Ue[1]+Ce[De][1],Me[0]+Ce[De][0],Me[1]+Ce[De][1],De,!0);return Oe}function initiateExpression(elem,data,property){function noOp(Ce){return Ce}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function Ce(Re,je){var Be,De,Fe=this.pv.length?this.pv.length:1,Oe=createTypedArray("float32",Fe);Re=5;var ke=Math.floor(time*Re);for(Be=0,De=0;Be<ke;){for(De=0;De<Fe;De+=1)Oe[De]+=-je+je*2*BMMath.random();Be+=1}var Me=time*Re,Ue=Me-Math.floor(Me),$e=createTypedArray("float32",Fe);if(Fe>1){for(De=0;De<Fe;De+=1)$e[De]=this.pv[De]+Oe[De]+(-je+je*2*BMMath.random())*Ue;return $e}return this.pv+Oe[0]+(-je+je*2*BMMath.random())*Ue}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(Ce,Re){return loopIn(Ce,Re,!0)}function loopOutDuration(Ce,Re){return loopOut(Ce,Re,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(Ce,Re){var je=[Re[0]-Ce[0],Re[1]-Ce[1],Re[2]-Ce[2]],Be=Math.atan2(je[0],Math.sqrt(je[1]*je[1]+je[2]*je[2]))/degToRads,De=-Math.atan2(je[1],je[2])/degToRads;return[De,Be,0]}function easeOut(Ce,Re,je,Be,De){return applyEase(easeOutBez,Ce,Re,je,Be,De)}function easeIn(Ce,Re,je,Be,De){return applyEase(easeInBez,Ce,Re,je,Be,De)}function ease(Ce,Re,je,Be,De){return applyEase(easeInOutBez,Ce,Re,je,Be,De)}function applyEase(Ce,Re,je,Be,De,Fe){De===void 0?(De=je,Fe=Be):Re=(Re-je)/(Be-je),Re>1?Re=1:Re<0&&(Re=0);var Oe=Ce(Re);if($bm_isInstanceOfArray(De)){var ke,Me=De.length,Ue=createTypedArray("float32",Me);for(ke=0;ke<Me;ke+=1)Ue[ke]=(Fe[ke]-De[ke])*Oe+De[ke];return Ue}return(Fe-De)*Oe+De}function nearestKey(Ce){var Re,je=data.k.length,Be,De;if(!data.k.length||typeof data.k[0]=="number")Be=0,De=0;else if(Be=-1,Ce*=elem.comp.globalData.frameRate,Ce<data.k[0].t)Be=1,De=data.k[0].t;else{for(Re=0;Re<je-1;Re+=1)if(Ce===data.k[Re].t){Be=Re+1,De=data.k[Re].t;break}else if(Ce>data.k[Re].t&&Ce<data.k[Re+1].t){Ce-data.k[Re].t>data.k[Re+1].t-Ce?(Be=Re+2,De=data.k[Re+1].t):(Be=Re+1,De=data.k[Re].t);break}Be===-1&&(Be=Re+1,De=data.k[Re].t)}var Fe={};return Fe.index=Be,Fe.time=De/elem.comp.globalData.frameRate,Fe}function key(Ce){var Re,je,Be;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+Ce);Ce-=1,Re={time:data.k[Ce].t/elem.comp.globalData.frameRate,value:[]};var De=Object.prototype.hasOwnProperty.call(data.k[Ce],"s")?data.k[Ce].s:data.k[Ce-1].e;for(Be=De.length,je=0;je<Be;je+=1)Re[je]=De[je],Re.value[je]=De[je];return Re}function framesToTime(Ce,Re){return Re||(Re=elem.comp.globalData.frameRate),Ce/Re}function timeToFrames(Ce,Re){return!Ce&&Ce!==0&&(Ce=time),Re||(Re=elem.comp.globalData.frameRate),Ce*Re}function seedRandom(Ce){BMMath.seedrandom(randSeed+Ce)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(Ce,Re){return typeof value=="string"?Re===void 0?value.substring(Ce):value.substring(Ce,Re):""}function substr(Ce,Re){return typeof value=="string"?Re===void 0?value.substr(Ce):value.substr(Ce,Re):""}function posterizeTime(Ce){time=Ce===0?0:Math.floor(time*Ce)/Ce,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(Ce){return value=Ce,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob})(),Expressions=(function(){var Ce={};Ce.initExpressions=Re,Ce.resetFrame=ExpressionManager.resetFrame;function Re(je){var Be=0,De=[];function Fe(){Be+=1}function Oe(){Be-=1,Be===0&&Me()}function ke(Ue){De.indexOf(Ue)===-1&&De.push(Ue)}function Me(){var Ue,$e=De.length;for(Ue=0;Ue<$e;Ue+=1)De[Ue].release();De.length=0}je.renderer.compInterface=CompExpressionInterface(je.renderer),je.renderer.globalData.projectInterface.registerComposition(je.renderer),je.renderer.globalData.pushExpression=Fe,je.renderer.globalData.popExpression=Oe,je.renderer.globalData.registerExpressionProperty=ke}return Ce})(),MaskManagerInterface=(function(){function Ce(je,Be){this._mask=je,this._data=Be}Object.defineProperty(Ce.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(Ce.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var Re=function(Be){var De=createSizedArray(Be.viewData.length),Fe,Oe=Be.viewData.length;for(Fe=0;Fe<Oe;Fe+=1)De[Fe]=new Ce(Be.viewData[Fe],Be.masksProperties[Fe]);var ke=function(Ue){for(Fe=0;Fe<Oe;){if(Be.masksProperties[Fe].nm===Ue)return De[Fe];Fe+=1}return null};return ke};return Re})(),ExpressionPropertyInterface=(function(){var Ce={pv:0,v:0,mult:1},Re={pv:[0,0,0],v:[0,0,0],mult:1};function je(Oe,ke,Me){Object.defineProperty(Oe,"velocity",{get:function(){return ke.getVelocityAtTime(ke.comp.currentFrame)}}),Oe.numKeys=ke.keyframes?ke.keyframes.length:0,Oe.key=function(Ue){if(!Oe.numKeys)return 0;var $e="";"s"in ke.keyframes[Ue-1]?$e=ke.keyframes[Ue-1].s:"e"in ke.keyframes[Ue-2]?$e=ke.keyframes[Ue-2].e:$e=ke.keyframes[Ue-2].s;var He=Me==="unidimensional"?new Number($e):Object.assign({},$e);return He.time=ke.keyframes[Ue-1].t/ke.elem.comp.globalData.frameRate,He.value=Me==="unidimensional"?$e[0]:$e,He},Oe.valueAtTime=ke.getValueAtTime,Oe.speedAtTime=ke.getSpeedAtTime,Oe.velocityAtTime=ke.getVelocityAtTime,Oe.propertyGroup=ke.propertyGroup}function Be(Oe){(!Oe||!("pv"in Oe))&&(Oe=Ce);var ke=1/Oe.mult,Me=Oe.pv*ke,Ue=new Number(Me);return Ue.value=Me,je(Ue,Oe,"unidimensional"),function(){return Oe.k&&Oe.getValue(),Me=Oe.v*ke,Ue.value!==Me&&(Ue=new Number(Me),Ue.value=Me,Ue[0]=Me,je(Ue,Oe,"unidimensional")),Ue}}function De(Oe){(!Oe||!("pv"in Oe))&&(Oe=Re);var ke=1/Oe.mult,Me=Oe.data&&Oe.data.l||Oe.pv.length,Ue=createTypedArray("float32",Me),$e=createTypedArray("float32",Me);return Ue.value=$e,je(Ue,Oe,"multidimensional"),function(){Oe.k&&Oe.getValue();for(var He=0;He<Me;He+=1)$e[He]=Oe.v[He]*ke,Ue[He]=$e[He];return Ue}}function Fe(){return Ce}return function(Oe){return Oe?Oe.propType==="unidimensional"?Be(Oe):De(Oe):Fe}})(),TransformExpressionInterface=(function(){return function(Ce){function Re(Oe){switch(Oe){case"scale":case"Scale":case"ADBE Scale":case 6:return Re.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return Re.rotation;case"ADBE Rotate X":return Re.xRotation;case"ADBE Rotate Y":return Re.yRotation;case"position":case"Position":case"ADBE Position":case 2:return Re.position;case"ADBE Position_0":return Re.xPosition;case"ADBE Position_1":return Re.yPosition;case"ADBE Position_2":return Re.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return Re.anchorPoint;case"opacity":case"Opacity":case 11:return Re.opacity;default:return null}}Object.defineProperty(Re,"rotation",{get:ExpressionPropertyInterface(Ce.r||Ce.rz)}),Object.defineProperty(Re,"zRotation",{get:ExpressionPropertyInterface(Ce.rz||Ce.r)}),Object.defineProperty(Re,"xRotation",{get:ExpressionPropertyInterface(Ce.rx)}),Object.defineProperty(Re,"yRotation",{get:ExpressionPropertyInterface(Ce.ry)}),Object.defineProperty(Re,"scale",{get:ExpressionPropertyInterface(Ce.s)});var je,Be,De,Fe;return Ce.p?Fe=ExpressionPropertyInterface(Ce.p):(je=ExpressionPropertyInterface(Ce.px),Be=ExpressionPropertyInterface(Ce.py),Ce.pz&&(De=ExpressionPropertyInterface(Ce.pz))),Object.defineProperty(Re,"position",{get:function(){return Ce.p?Fe():[je(),Be(),De?De():0]}}),Object.defineProperty(Re,"xPosition",{get:ExpressionPropertyInterface(Ce.px)}),Object.defineProperty(Re,"yPosition",{get:ExpressionPropertyInterface(Ce.py)}),Object.defineProperty(Re,"zPosition",{get:ExpressionPropertyInterface(Ce.pz)}),Object.defineProperty(Re,"anchorPoint",{get:ExpressionPropertyInterface(Ce.a)}),Object.defineProperty(Re,"opacity",{get:ExpressionPropertyInterface(Ce.o)}),Object.defineProperty(Re,"skew",{get:ExpressionPropertyInterface(Ce.sk)}),Object.defineProperty(Re,"skewAxis",{get:ExpressionPropertyInterface(Ce.sa)}),Object.defineProperty(Re,"orientation",{get:ExpressionPropertyInterface(Ce.or)}),Re}})(),LayerExpressionInterface=(function(){function Ce(Ue){var $e=new Matrix;if(Ue!==void 0){var He=this._elem.finalTransform.mProp.getValueAtTime(Ue);He.clone($e)}else{var Qe=this._elem.finalTransform.mProp;Qe.applyToMatrix($e)}return $e}function Re(Ue,$e){var He=this.getMatrix($e);return He.props[12]=0,He.props[13]=0,He.props[14]=0,this.applyPoint(He,Ue)}function je(Ue,$e){var He=this.getMatrix($e);return this.applyPoint(He,Ue)}function Be(Ue,$e){var He=this.getMatrix($e);return He.props[12]=0,He.props[13]=0,He.props[14]=0,this.invertPoint(He,Ue)}function De(Ue,$e){var He=this.getMatrix($e);return this.invertPoint(He,Ue)}function Fe(Ue,$e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var He,Qe=this._elem.hierarchy.length;for(He=0;He<Qe;He+=1)this._elem.hierarchy[He].finalTransform.mProp.applyToMatrix(Ue)}return Ue.applyToPointArray($e[0],$e[1],$e[2]||0)}function Oe(Ue,$e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var He,Qe=this._elem.hierarchy.length;for(He=0;He<Qe;He+=1)this._elem.hierarchy[He].finalTransform.mProp.applyToMatrix(Ue)}return Ue.inversePoint($e)}function ke(Ue){var $e=new Matrix;if($e.reset(),this._elem.finalTransform.mProp.applyToMatrix($e),this._elem.hierarchy&&this._elem.hierarchy.length){var He,Qe=this._elem.hierarchy.length;for(He=0;He<Qe;He+=1)this._elem.hierarchy[He].finalTransform.mProp.applyToMatrix($e);return $e.inversePoint(Ue)}return $e.inversePoint(Ue)}function Me(){return[1,1,1,1]}return function(Ue){var $e;function He(Ke){We.mask=new MaskManagerInterface(Ke,Ue)}function Qe(Ke){We.effect=Ke}function We(Ke){switch(Ke){case"ADBE Root Vectors Group":case"Contents":case 2:return We.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return $e;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return We.effect;case"ADBE Text Properties":return We.textInterface;default:return null}}We.getMatrix=Ce,We.invertPoint=Oe,We.applyPoint=Fe,We.toWorld=je,We.toWorldVec=Re,We.fromWorld=De,We.fromWorldVec=Be,We.toComp=je,We.fromComp=ke,We.sampleImage=Me,We.sourceRectAtTime=Ue.sourceRectAtTime.bind(Ue),We._elem=Ue,$e=TransformExpressionInterface(Ue.finalTransform.mProp);var qe=getDescriptor($e,"anchorPoint");return Object.defineProperties(We,{hasParent:{get:function(){return Ue.hierarchy.length}},parent:{get:function(){return Ue.hierarchy[0].layerInterface}},rotation:getDescriptor($e,"rotation"),scale:getDescriptor($e,"scale"),position:getDescriptor($e,"position"),opacity:getDescriptor($e,"opacity"),anchorPoint:qe,anchor_point:qe,transform:{get:function(){return $e}},active:{get:function(){return Ue.isInRange}}}),We.startTime=Ue.data.st,We.index=Ue.data.ind,We.source=Ue.data.refId,We.height=Ue.data.ty===0?Ue.data.h:100,We.width=Ue.data.ty===0?Ue.data.w:100,We.inPoint=Ue.data.ip/Ue.comp.globalData.frameRate,We.outPoint=Ue.data.op/Ue.comp.globalData.frameRate,We._name=Ue.data.nm,We.registerMaskInterface=He,We.registerEffectsInterface=Qe,We}})(),propertyGroupFactory=(function(){return function(Ce,Re){return function(je){return je=je===void 0?1:je,je<=0?Ce:Re(je-1)}}})(),PropertyInterface=(function(){return function(Ce,Re){var je={_name:Ce};function Be(De){return De=De===void 0?1:De,De<=0?je:Re(De-1)}return Be}})(),EffectsExpressionInterface=(function(){var Ce={createEffectsInterface:Re};function Re(De,Fe){if(De.effectsManager){var Oe=[],ke=De.data.ef,Me,Ue=De.effectsManager.effectElements.length;for(Me=0;Me<Ue;Me+=1)Oe.push(je(ke[Me],De.effectsManager.effectElements[Me],Fe,De));var $e=De.data.ef||[],He=function(We){for(Me=0,Ue=$e.length;Me<Ue;){if(We===$e[Me].nm||We===$e[Me].mn||We===$e[Me].ix)return Oe[Me];Me+=1}return null};return Object.defineProperty(He,"numProperties",{get:function(){return $e.length}}),He}return null}function je(De,Fe,Oe,ke){function Me(We){for(var qe=De.ef,Ke=0,Xe=qe.length;Ke<Xe;){if(We===qe[Ke].nm||We===qe[Ke].mn||We===qe[Ke].ix)return qe[Ke].ty===5?$e[Ke]:$e[Ke]();Ke+=1}throw new Error}var Ue=propertyGroupFactory(Me,Oe),$e=[],He,Qe=De.ef.length;for(He=0;He<Qe;He+=1)De.ef[He].ty===5?$e.push(je(De.ef[He],Fe.effectElements[He],Fe.effectElements[He].propertyGroup,ke)):$e.push(Be(Fe.effectElements[He],De.ef[He].ty,ke,Ue));return De.mn==="ADBE Color Control"&&Object.defineProperty(Me,"color",{get:function(){return $e[0]()}}),Object.defineProperties(Me,{numProperties:{get:function(){return De.np}},_name:{value:De.nm},propertyGroup:{value:Ue}}),Me.enabled=De.en!==0,Me.active=Me.enabled,Me}function Be(De,Fe,Oe,ke){var Me=ExpressionPropertyInterface(De.p);function Ue(){return Fe===10?Oe.comp.compInterface(De.p.v):Me()}return De.p.setGroupProperty&&De.p.setGroupProperty(PropertyInterface("",ke)),Ue}return Ce})(),ShapePathInterface=(function(){return function(Re,je,Be){var De=je.sh;function Fe(ke){return ke==="Shape"||ke==="shape"||ke==="Path"||ke==="path"||ke==="ADBE Vector Shape"||ke===2?Fe.path:null}var Oe=propertyGroupFactory(Fe,Be);return De.setGroupProperty(PropertyInterface("Path",Oe)),Object.defineProperties(Fe,{path:{get:function(){return De.k&&De.getValue(),De}},shape:{get:function(){return De.k&&De.getValue(),De}},_name:{value:Re.nm},ix:{value:Re.ix},propertyIndex:{value:Re.ix},mn:{value:Re.mn},propertyGroup:{value:Be}}),Fe}})(),ShapeExpressionInterface=(function(){function Ce(qe,Ke,Xe){var Ye=[],Ze,Je=qe?qe.length:0;for(Ze=0;Ze<Je;Ze+=1)qe[Ze].ty==="gr"?Ye.push(je(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="fl"?Ye.push(Be(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="st"?Ye.push(Oe(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="tm"?Ye.push(ke(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="tr"||(qe[Ze].ty==="el"?Ye.push(Ue(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="sr"?Ye.push($e(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="sh"?Ye.push(ShapePathInterface(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="rc"?Ye.push(He(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="rd"?Ye.push(Qe(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="rp"?Ye.push(We(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="gf"?Ye.push(De(qe[Ze],Ke[Ze],Xe)):Ye.push(Fe(qe[Ze],Ke[Ze])));return Ye}function Re(qe,Ke,Xe){var Ye,Ze=function(rr){for(var ar=0,nr=Ye.length;ar<nr;){if(Ye[ar]._name===rr||Ye[ar].mn===rr||Ye[ar].propertyIndex===rr||Ye[ar].ix===rr||Ye[ar].ind===rr)return Ye[ar];ar+=1}return typeof rr=="number"?Ye[rr-1]:null};Ze.propertyGroup=propertyGroupFactory(Ze,Xe),Ye=Ce(qe.it,Ke.it,Ze.propertyGroup),Ze.numProperties=Ye.length;var Je=Me(qe.it[qe.it.length-1],Ke.it[Ke.it.length-1],Ze.propertyGroup);return Ze.transform=Je,Ze.propertyIndex=qe.cix,Ze._name=qe.nm,Ze}function je(qe,Ke,Xe){var Ye=function(rr){switch(rr){case"ADBE Vectors Group":case"Contents":case 2:return Ye.content;default:return Ye.transform}};Ye.propertyGroup=propertyGroupFactory(Ye,Xe);var Ze=Re(qe,Ke,Ye.propertyGroup),Je=Me(qe.it[qe.it.length-1],Ke.it[Ke.it.length-1],Ye.propertyGroup);return Ye.content=Ze,Ye.transform=Je,Object.defineProperty(Ye,"_name",{get:function(){return qe.nm}}),Ye.numProperties=qe.np,Ye.propertyIndex=qe.ix,Ye.nm=qe.nm,Ye.mn=qe.mn,Ye}function Be(qe,Ke,Xe){function Ye(Ze){return Ze==="Color"||Ze==="color"?Ye.color:Ze==="Opacity"||Ze==="opacity"?Ye.opacity:null}return Object.defineProperties(Ye,{color:{get:ExpressionPropertyInterface(Ke.c)},opacity:{get:ExpressionPropertyInterface(Ke.o)},_name:{value:qe.nm},mn:{value:qe.mn}}),Ke.c.setGroupProperty(PropertyInterface("Color",Xe)),Ke.o.setGroupProperty(PropertyInterface("Opacity",Xe)),Ye}function De(qe,Ke,Xe){function Ye(Ze){return Ze==="Start Point"||Ze==="start point"?Ye.startPoint:Ze==="End Point"||Ze==="end point"?Ye.endPoint:Ze==="Opacity"||Ze==="opacity"?Ye.opacity:null}return Object.defineProperties(Ye,{startPoint:{get:ExpressionPropertyInterface(Ke.s)},endPoint:{get:ExpressionPropertyInterface(Ke.e)},opacity:{get:ExpressionPropertyInterface(Ke.o)},type:{get:function(){return"a"}},_name:{value:qe.nm},mn:{value:qe.mn}}),Ke.s.setGroupProperty(PropertyInterface("Start Point",Xe)),Ke.e.setGroupProperty(PropertyInterface("End Point",Xe)),Ke.o.setGroupProperty(PropertyInterface("Opacity",Xe)),Ye}function Fe(){function qe(){return null}return qe}function Oe(qe,Ke,Xe){var Ye=propertyGroupFactory(nr,Xe),Ze=propertyGroupFactory(ar,Ye);function Je(sr){Object.defineProperty(ar,qe.d[sr].nm,{get:ExpressionPropertyInterface(Ke.d.dataProps[sr].p)})}var tr,rr=qe.d?qe.d.length:0,ar={};for(tr=0;tr<rr;tr+=1)Je(tr),Ke.d.dataProps[tr].p.setGroupProperty(Ze);function nr(sr){return sr==="Color"||sr==="color"?nr.color:sr==="Opacity"||sr==="opacity"?nr.opacity:sr==="Stroke Width"||sr==="stroke width"?nr.strokeWidth:null}return Object.defineProperties(nr,{color:{get:ExpressionPropertyInterface(Ke.c)},opacity:{get:ExpressionPropertyInterface(Ke.o)},strokeWidth:{get:ExpressionPropertyInterface(Ke.w)},dash:{get:function(){return ar}},_name:{value:qe.nm},mn:{value:qe.mn}}),Ke.c.setGroupProperty(PropertyInterface("Color",Ye)),Ke.o.setGroupProperty(PropertyInterface("Opacity",Ye)),Ke.w.setGroupProperty(PropertyInterface("Stroke Width",Ye)),nr}function ke(qe,Ke,Xe){function Ye(Je){return Je===qe.e.ix||Je==="End"||Je==="end"?Ye.end:Je===qe.s.ix?Ye.start:Je===qe.o.ix?Ye.offset:null}var Ze=propertyGroupFactory(Ye,Xe);return Ye.propertyIndex=qe.ix,Ke.s.setGroupProperty(PropertyInterface("Start",Ze)),Ke.e.setGroupProperty(PropertyInterface("End",Ze)),Ke.o.setGroupProperty(PropertyInterface("Offset",Ze)),Ye.propertyIndex=qe.ix,Ye.propertyGroup=Xe,Object.defineProperties(Ye,{start:{get:ExpressionPropertyInterface(Ke.s)},end:{get:ExpressionPropertyInterface(Ke.e)},offset:{get:ExpressionPropertyInterface(Ke.o)},_name:{value:qe.nm}}),Ye.mn=qe.mn,Ye}function Me(qe,Ke,Xe){function Ye(Je){return qe.a.ix===Je||Je==="Anchor Point"?Ye.anchorPoint:qe.o.ix===Je||Je==="Opacity"?Ye.opacity:qe.p.ix===Je||Je==="Position"?Ye.position:qe.r.ix===Je||Je==="Rotation"||Je==="ADBE Vector Rotation"?Ye.rotation:qe.s.ix===Je||Je==="Scale"?Ye.scale:qe.sk&&qe.sk.ix===Je||Je==="Skew"?Ye.skew:qe.sa&&qe.sa.ix===Je||Je==="Skew Axis"?Ye.skewAxis:null}var Ze=propertyGroupFactory(Ye,Xe);return Ke.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Ze)),Ke.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Ze)),Ke.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Ze)),Ke.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Ze)),Ke.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Ze)),Ke.transform.mProps.sk&&(Ke.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Ze)),Ke.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Ze))),Ke.transform.op.setGroupProperty(PropertyInterface("Opacity",Ze)),Object.defineProperties(Ye,{opacity:{get:ExpressionPropertyInterface(Ke.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Ke.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Ke.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Ke.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Ke.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Ke.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Ke.transform.mProps.sa)},_name:{value:qe.nm}}),Ye.ty="tr",Ye.mn=qe.mn,Ye.propertyGroup=Xe,Ye}function Ue(qe,Ke,Xe){function Ye(tr){return qe.p.ix===tr?Ye.position:qe.s.ix===tr?Ye.size:null}var Ze=propertyGroupFactory(Ye,Xe);Ye.propertyIndex=qe.ix;var Je=Ke.sh.ty==="tm"?Ke.sh.prop:Ke.sh;return Je.s.setGroupProperty(PropertyInterface("Size",Ze)),Je.p.setGroupProperty(PropertyInterface("Position",Ze)),Object.defineProperties(Ye,{size:{get:ExpressionPropertyInterface(Je.s)},position:{get:ExpressionPropertyInterface(Je.p)},_name:{value:qe.nm}}),Ye.mn=qe.mn,Ye}function $e(qe,Ke,Xe){function Ye(tr){return qe.p.ix===tr?Ye.position:qe.r.ix===tr?Ye.rotation:qe.pt.ix===tr?Ye.points:qe.or.ix===tr||tr==="ADBE Vector Star Outer Radius"?Ye.outerRadius:qe.os.ix===tr?Ye.outerRoundness:qe.ir&&(qe.ir.ix===tr||tr==="ADBE Vector Star Inner Radius")?Ye.innerRadius:qe.is&&qe.is.ix===tr?Ye.innerRoundness:null}var Ze=propertyGroupFactory(Ye,Xe),Je=Ke.sh.ty==="tm"?Ke.sh.prop:Ke.sh;return Ye.propertyIndex=qe.ix,Je.or.setGroupProperty(PropertyInterface("Outer Radius",Ze)),Je.os.setGroupProperty(PropertyInterface("Outer Roundness",Ze)),Je.pt.setGroupProperty(PropertyInterface("Points",Ze)),Je.p.setGroupProperty(PropertyInterface("Position",Ze)),Je.r.setGroupProperty(PropertyInterface("Rotation",Ze)),qe.ir&&(Je.ir.setGroupProperty(PropertyInterface("Inner Radius",Ze)),Je.is.setGroupProperty(PropertyInterface("Inner Roundness",Ze))),Object.defineProperties(Ye,{position:{get:ExpressionPropertyInterface(Je.p)},rotation:{get:ExpressionPropertyInterface(Je.r)},points:{get:ExpressionPropertyInterface(Je.pt)},outerRadius:{get:ExpressionPropertyInterface(Je.or)},outerRoundness:{get:ExpressionPropertyInterface(Je.os)},innerRadius:{get:ExpressionPropertyInterface(Je.ir)},innerRoundness:{get:ExpressionPropertyInterface(Je.is)},_name:{value:qe.nm}}),Ye.mn=qe.mn,Ye}function He(qe,Ke,Xe){function Ye(tr){return qe.p.ix===tr?Ye.position:qe.r.ix===tr?Ye.roundness:qe.s.ix===tr||tr==="Size"||tr==="ADBE Vector Rect Size"?Ye.size:null}var Ze=propertyGroupFactory(Ye,Xe),Je=Ke.sh.ty==="tm"?Ke.sh.prop:Ke.sh;return Ye.propertyIndex=qe.ix,Je.p.setGroupProperty(PropertyInterface("Position",Ze)),Je.s.setGroupProperty(PropertyInterface("Size",Ze)),Je.r.setGroupProperty(PropertyInterface("Rotation",Ze)),Object.defineProperties(Ye,{position:{get:ExpressionPropertyInterface(Je.p)},roundness:{get:ExpressionPropertyInterface(Je.r)},size:{get:ExpressionPropertyInterface(Je.s)},_name:{value:qe.nm}}),Ye.mn=qe.mn,Ye}function Qe(qe,Ke,Xe){function Ye(tr){return qe.r.ix===tr||tr==="Round Corners 1"?Ye.radius:null}var Ze=propertyGroupFactory(Ye,Xe),Je=Ke;return Ye.propertyIndex=qe.ix,Je.rd.setGroupProperty(PropertyInterface("Radius",Ze)),Object.defineProperties(Ye,{radius:{get:ExpressionPropertyInterface(Je.rd)},_name:{value:qe.nm}}),Ye.mn=qe.mn,Ye}function We(qe,Ke,Xe){function Ye(tr){return qe.c.ix===tr||tr==="Copies"?Ye.copies:qe.o.ix===tr||tr==="Offset"?Ye.offset:null}var Ze=propertyGroupFactory(Ye,Xe),Je=Ke;return Ye.propertyIndex=qe.ix,Je.c.setGroupProperty(PropertyInterface("Copies",Ze)),Je.o.setGroupProperty(PropertyInterface("Offset",Ze)),Object.defineProperties(Ye,{copies:{get:ExpressionPropertyInterface(Je.c)},offset:{get:ExpressionPropertyInterface(Je.o)},_name:{value:qe.nm}}),Ye.mn=qe.mn,Ye}return function(qe,Ke,Xe){var Ye;function Ze(tr){if(typeof tr=="number")return tr=tr===void 0?1:tr,tr===0?Xe:Ye[tr-1];for(var rr=0,ar=Ye.length;rr<ar;){if(Ye[rr]._name===tr)return Ye[rr];rr+=1}return null}function Je(){return Xe}return Ze.propertyGroup=propertyGroupFactory(Ze,Je),Ye=Ce(qe,Ke,Ze.propertyGroup),Ze.numProperties=Ye.length,Ze._name="Contents",Ze}})(),TextExpressionInterface=(function(){return function(Ce){var Re;function je(Be){switch(Be){case"ADBE Text Document":return je.sourceText;default:return null}}return Object.defineProperty(je,"sourceText",{get:function(){Ce.textProperty.getValue();var De=Ce.textProperty.currentData.t;return(!Re||De!==Re.value)&&(Re=new String(De),Re.value=De||new String(De),Object.defineProperty(Re,"style",{get:function(){return{fillColor:Ce.textProperty.currentData.fc}}})),Re}}),je}})();function _typeof(Ce){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},_typeof(Ce)}var FootageInterface=(function(){var Ce=function(Be){var De="",Fe=Be.getFootageData();function Oe(){return De="",Fe=Be.getFootageData(),ke}function ke(Me){if(Fe[Me])return De=Me,Fe=Fe[Me],_typeof(Fe)==="object"?ke:Fe;var Ue=Me.indexOf(De);if(Ue!==-1){var $e=parseInt(Me.substr(Ue+De.length),10);return Fe=Fe[$e],_typeof(Fe)==="object"?ke:Fe}return""}return Oe},Re=function(Be){function De(Fe){return Fe==="Outline"?De.outlineInterface():null}return De._name="Outline",De.outlineInterface=Ce(Be),De};return function(je){function Be(De){return De==="Data"?Be.dataInterface:null}return Be._name="Data",Be.dataInterface=Re(je),Be}})(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(Ce){return interfaces[Ce]||null}var expressionHelpers=(function(){function Ce(Oe,ke,Me){ke.x&&(Me.k=!0,Me.x=!0,Me.initiateExpression=ExpressionManager.initiateExpression,Me.effectsSequence.push(Me.initiateExpression(Oe,ke,Me).bind(Me)))}function Re(Oe){return Oe*=this.elem.globalData.frameRate,Oe-=this.offsetTime,Oe!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<Oe?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(Oe,this._cachingAtTime),this._cachingAtTime.lastFrame=Oe),this._cachingAtTime.value}function je(Oe){var ke=-.01,Me=this.getValueAtTime(Oe),Ue=this.getValueAtTime(Oe+ke),$e=0;if(Me.length){var He;for(He=0;He<Me.length;He+=1)$e+=Math.pow(Ue[He]-Me[He],2);$e=Math.sqrt($e)*100}else $e=0;return $e}function Be(Oe){if(this.vel!==void 0)return this.vel;var ke=-.001,Me=this.getValueAtTime(Oe),Ue=this.getValueAtTime(Oe+ke),$e;if(Me.length){$e=createTypedArray("float32",Me.length);var He;for(He=0;He<Me.length;He+=1)$e[He]=(Ue[He]-Me[He])/ke}else $e=(Ue-Me)/ke;return $e}function De(){return this.pv}function Fe(Oe){this.propertyGroup=Oe}return{searchExpressions:Ce,getSpeedAtTime:je,getVelocityAtTime:Be,getValueAtTime:Re,getStaticValueAtTime:De,setGroupProperty:Fe}})();function addPropertyDecorator(){function Ce(Qe,We,qe){if(!this.k||!this.keyframes)return this.pv;Qe=Qe?Qe.toLowerCase():"";var Ke=this.comp.renderedFrame,Xe=this.keyframes,Ye=Xe[Xe.length-1].t;if(Ke<=Ye)return this.pv;var Ze,Je;qe?(We?Ze=Math.abs(Ye-this.elem.comp.globalData.frameRate*We):Ze=Math.max(0,Ye-this.elem.data.ip),Je=Ye-Ze):((!We||We>Xe.length-1)&&(We=Xe.length-1),Je=Xe[Xe.length-1-We].t,Ze=Ye-Je);var tr,rr,ar;if(Qe==="pingpong"){var nr=Math.floor((Ke-Je)/Ze);if(nr%2!==0)return this.getValueAtTime((Ze-(Ke-Je)%Ze+Je)/this.comp.globalData.frameRate,0)}else if(Qe==="offset"){var sr=this.getValueAtTime(Je/this.comp.globalData.frameRate,0),dr=this.getValueAtTime(Ye/this.comp.globalData.frameRate,0),_r=this.getValueAtTime(((Ke-Je)%Ze+Je)/this.comp.globalData.frameRate,0),fr=Math.floor((Ke-Je)/Ze);if(this.pv.length){for(ar=new Array(sr.length),rr=ar.length,tr=0;tr<rr;tr+=1)ar[tr]=(dr[tr]-sr[tr])*fr+_r[tr];return ar}return(dr-sr)*fr+_r}else if(Qe==="continue"){var or=this.getValueAtTime(Ye/this.comp.globalData.frameRate,0),Er=this.getValueAtTime((Ye-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ar=new Array(or.length),rr=ar.length,tr=0;tr<rr;tr+=1)ar[tr]=or[tr]+(or[tr]-Er[tr])*((Ke-Ye)/this.comp.globalData.frameRate)/5e-4;return ar}return or+(or-Er)*((Ke-Ye)/.001)}return this.getValueAtTime(((Ke-Je)%Ze+Je)/this.comp.globalData.frameRate,0)}function Re(Qe,We,qe){if(!this.k)return this.pv;Qe=Qe?Qe.toLowerCase():"";var Ke=this.comp.renderedFrame,Xe=this.keyframes,Ye=Xe[0].t;if(Ke>=Ye)return this.pv;var Ze,Je;qe?(We?Ze=Math.abs(this.elem.comp.globalData.frameRate*We):Ze=Math.max(0,this.elem.data.op-Ye),Je=Ye+Ze):((!We||We>Xe.length-1)&&(We=Xe.length-1),Je=Xe[We].t,Ze=Je-Ye);var tr,rr,ar;if(Qe==="pingpong"){var nr=Math.floor((Ye-Ke)/Ze);if(nr%2===0)return this.getValueAtTime(((Ye-Ke)%Ze+Ye)/this.comp.globalData.frameRate,0)}else if(Qe==="offset"){var sr=this.getValueAtTime(Ye/this.comp.globalData.frameRate,0),dr=this.getValueAtTime(Je/this.comp.globalData.frameRate,0),_r=this.getValueAtTime((Ze-(Ye-Ke)%Ze+Ye)/this.comp.globalData.frameRate,0),fr=Math.floor((Ye-Ke)/Ze)+1;if(this.pv.length){for(ar=new Array(sr.length),rr=ar.length,tr=0;tr<rr;tr+=1)ar[tr]=_r[tr]-(dr[tr]-sr[tr])*fr;return ar}return _r-(dr-sr)*fr}else if(Qe==="continue"){var or=this.getValueAtTime(Ye/this.comp.globalData.frameRate,0),Er=this.getValueAtTime((Ye+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ar=new Array(or.length),rr=ar.length,tr=0;tr<rr;tr+=1)ar[tr]=or[tr]+(or[tr]-Er[tr])*(Ye-Ke)/.001;return ar}return or+(or-Er)*(Ye-Ke)/.001}return this.getValueAtTime((Ze-((Ye-Ke)%Ze+Ye))/this.comp.globalData.frameRate,0)}function je(Qe,We){if(!this.k)return this.pv;if(Qe=(Qe||.4)*.5,We=Math.floor(We||5),We<=1)return this.pv;var qe=this.comp.renderedFrame/this.comp.globalData.frameRate,Ke=qe-Qe,Xe=qe+Qe,Ye=We>1?(Xe-Ke)/(We-1):1,Ze=0,Je=0,tr;this.pv.length?tr=createTypedArray("float32",this.pv.length):tr=0;for(var rr;Ze<We;){if(rr=this.getValueAtTime(Ke+Ze*Ye),this.pv.length)for(Je=0;Je<this.pv.length;Je+=1)tr[Je]+=rr[Je];else tr+=rr;Ze+=1}if(this.pv.length)for(Je=0;Je<this.pv.length;Je+=1)tr[Je]/=We;else tr/=We;return tr}function Be(Qe){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var We=this._transformCachingAtTime.v;if(We.cloneFromProps(this.pre.props),this.appliedTransformations<1){var qe=this.a.getValueAtTime(Qe);We.translate(-qe[0]*this.a.mult,-qe[1]*this.a.mult,qe[2]*this.a.mult)}if(this.appliedTransformations<2){var Ke=this.s.getValueAtTime(Qe);We.scale(Ke[0]*this.s.mult,Ke[1]*this.s.mult,Ke[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Xe=this.sk.getValueAtTime(Qe),Ye=this.sa.getValueAtTime(Qe);We.skewFromAxis(-Xe*this.sk.mult,Ye*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Ze=this.r.getValueAtTime(Qe);We.rotate(-Ze*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var Je=this.rz.getValueAtTime(Qe),tr=this.ry.getValueAtTime(Qe),rr=this.rx.getValueAtTime(Qe),ar=this.or.getValueAtTime(Qe);We.rotateZ(-Je*this.rz.mult).rotateY(tr*this.ry.mult).rotateX(rr*this.rx.mult).rotateZ(-ar[2]*this.or.mult).rotateY(ar[1]*this.or.mult).rotateX(ar[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var nr=this.px.getValueAtTime(Qe),sr=this.py.getValueAtTime(Qe);if(this.data.p.z){var dr=this.pz.getValueAtTime(Qe);We.translate(nr*this.px.mult,sr*this.py.mult,-dr*this.pz.mult)}else We.translate(nr*this.px.mult,sr*this.py.mult,0)}else{var _r=this.p.getValueAtTime(Qe);We.translate(_r[0]*this.p.mult,_r[1]*this.p.mult,-_r[2]*this.p.mult)}return We}function De(){return this.v.clone(new Matrix)}var Fe=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Qe,We,qe){var Ke=Fe(Qe,We,qe);return Ke.dynamicProperties.length?Ke.getValueAtTime=Be.bind(Ke):Ke.getValueAtTime=De.bind(Ke),Ke.setGroupProperty=expressionHelpers.setGroupProperty,Ke};var Oe=PropertyFactory.getProp;PropertyFactory.getProp=function(Qe,We,qe,Ke,Xe){var Ye=Oe(Qe,We,qe,Ke,Xe);Ye.kf?Ye.getValueAtTime=expressionHelpers.getValueAtTime.bind(Ye):Ye.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Ye),Ye.setGroupProperty=expressionHelpers.setGroupProperty,Ye.loopOut=Ce,Ye.loopIn=Re,Ye.smooth=je,Ye.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Ye),Ye.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Ye),Ye.numKeys=We.a===1?We.k.length:0,Ye.propertyIndex=We.ix;var Ze=0;return qe!==0&&(Ze=createTypedArray("float32",We.a===1?We.k[0].s.length:We.k.length)),Ye._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Ze},expressionHelpers.searchExpressions(Qe,We,Ye),Ye.k&&Xe.addDynamicProperty(Ye),Ye};function ke(Qe){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Qe*=this.elem.globalData.frameRate,Qe-=this.offsetTime,Qe!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Qe?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Qe,this.interpolateShape(Qe,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var Me=ShapePropertyFactory.getConstructorFunction(),Ue=ShapePropertyFactory.getKeyframedConstructorFunction();function $e(){}$e.prototype={vertices:function(We,qe){this.k&&this.getValue();var Ke=this.v;qe!==void 0&&(Ke=this.getValueAtTime(qe,0));var Xe,Ye=Ke._length,Ze=Ke[We],Je=Ke.v,tr=createSizedArray(Ye);for(Xe=0;Xe<Ye;Xe+=1)We==="i"||We==="o"?tr[Xe]=[Ze[Xe][0]-Je[Xe][0],Ze[Xe][1]-Je[Xe][1]]:tr[Xe]=[Ze[Xe][0],Ze[Xe][1]];return tr},points:function(We){return this.vertices("v",We)},inTangents:function(We){return this.vertices("i",We)},outTangents:function(We){return this.vertices("o",We)},isClosed:function(){return this.v.c},pointOnPath:function(We,qe){var Ke=this.v;qe!==void 0&&(Ke=this.getValueAtTime(qe,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Ke));for(var Xe=this._segmentsLength,Ye=Xe.lengths,Ze=Xe.totalLength*We,Je=0,tr=Ye.length,rr=0,ar;Je<tr;){if(rr+Ye[Je].addedLength>Ze){var nr=Je,sr=Ke.c&&Je===tr-1?0:Je+1,dr=(Ze-rr)/Ye[Je].addedLength;ar=bez.getPointInSegment(Ke.v[nr],Ke.v[sr],Ke.o[nr],Ke.i[sr],dr,Ye[Je]);break}else rr+=Ye[Je].addedLength;Je+=1}return ar||(ar=Ke.c?[Ke.v[0][0],Ke.v[0][1]]:[Ke.v[Ke._length-1][0],Ke.v[Ke._length-1][1]]),ar},vectorOnPath:function(We,qe,Ke){We==1?We=this.v.c:We==0&&(We=.999);var Xe=this.pointOnPath(We,qe),Ye=this.pointOnPath(We+.001,qe),Ze=Ye[0]-Xe[0],Je=Ye[1]-Xe[1],tr=Math.sqrt(Math.pow(Ze,2)+Math.pow(Je,2));if(tr===0)return[0,0];var rr=Ke==="tangent"?[Ze/tr,Je/tr]:[-Je/tr,Ze/tr];return rr},tangentOnPath:function(We,qe){return this.vectorOnPath(We,qe,"tangent")},normalOnPath:function(We,qe){return this.vectorOnPath(We,qe,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([$e],Me),extendPrototype([$e],Ue),Ue.prototype.getValueAtTime=ke,Ue.prototype.initiateExpression=ExpressionManager.initiateExpression;var He=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Qe,We,qe,Ke,Xe){var Ye=He(Qe,We,qe,Ke,Xe);return Ye.propertyIndex=We.ix,Ye.lock=!1,qe===3?expressionHelpers.searchExpressions(Qe,We.pt,Ye):qe===4&&expressionHelpers.searchExpressions(Qe,We.ks,Ye),Ye.k&&Qe.addDynamicProperty(Ye),Ye}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function Ce(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(Re,je){var Be=this.calculateExpression(je);if(Re.t!==Be){var De={};return this.copyData(De,Re),De.t=Be.toString(),De.__complete=!1,De}return Re},TextProperty.prototype.searchProperty=function(){var Re=this.searchKeyframes(),je=this.searchExpressions();return this.kf=Re||je,this.kf},TextProperty.prototype.searchExpressions=Ce}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function Ce(Re,je){var Be=createNS("feMerge");Be.setAttribute("result",Re);var De,Fe;for(Fe=0;Fe<je.length;Fe+=1)De=createNS("feMergeNode"),De.setAttribute("in",je[Fe]),Be.appendChild(De),Be.appendChild(De);return Be}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(Ce,Re,je,Be,De){this.filterManager=Re;var Fe=createNS("feColorMatrix");Fe.setAttribute("type","matrix"),Fe.setAttribute("color-interpolation-filters","linearRGB"),Fe.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=Fe,Fe.setAttribute("result",Be+"_tint_1"),Ce.appendChild(Fe),Fe=createNS("feColorMatrix"),Fe.setAttribute("type","matrix"),Fe.setAttribute("color-interpolation-filters","sRGB"),Fe.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Fe.setAttribute("result",Be+"_tint_2"),Ce.appendChild(Fe),this.matrixFilter=Fe;var Oe=this.createMergeNode(Be,[De,Be+"_tint_1",Be+"_tint_2"]);Ce.appendChild(Oe)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(Ce){if(Ce||this.filterManager._mdf){var Re=this.filterManager.effectElements[0].p.v,je=this.filterManager.effectElements[1].p.v,Be=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+Be+" 0"),this.matrixFilter.setAttribute("values",je[0]-Re[0]+" 0 0 0 "+Re[0]+" "+(je[1]-Re[1])+" 0 0 0 "+Re[1]+" "+(je[2]-Re[2])+" 0 0 0 "+Re[2]+" 0 0 0 1 0")}};function SVGFillFilter(Ce,Re,je,Be){this.filterManager=Re;var De=createNS("feColorMatrix");De.setAttribute("type","matrix"),De.setAttribute("color-interpolation-filters","sRGB"),De.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),De.setAttribute("result",Be),Ce.appendChild(De),this.matrixFilter=De}SVGFillFilter.prototype.renderFrame=function(Ce){if(Ce||this.filterManager._mdf){var Re=this.filterManager.effectElements[2].p.v,je=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+Re[0]+" 0 0 0 0 "+Re[1]+" 0 0 0 0 "+Re[2]+" 0 0 0 "+je+" 0")}};function SVGStrokeEffect(Ce,Re,je){this.initialized=!1,this.filterManager=Re,this.elem=je,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var Ce=this.elem.layerElement.children||this.elem.layerElement.childNodes,Re,je,Be,De;for(this.filterManager.effectElements[1].p.v===1?(De=this.elem.maskManager.masksProperties.length,Be=0):(Be=this.filterManager.effectElements[0].p.v-1,De=Be+1),je=createNS("g"),je.setAttribute("fill","none"),je.setAttribute("stroke-linecap","round"),je.setAttribute("stroke-dashoffset",1),Be;Be<De;Be+=1)Re=createNS("path"),je.appendChild(Re),this.paths.push({p:Re,m:Be});if(this.filterManager.effectElements[10].p.v===3){var Fe=createNS("mask"),Oe=createElementID();Fe.setAttribute("id",Oe),Fe.setAttribute("mask-type","alpha"),Fe.appendChild(je),this.elem.globalData.defs.appendChild(Fe);var ke=createNS("g");for(ke.setAttribute("mask","url("+getLocationHref()+"#"+Oe+")");Ce[0];)ke.appendChild(Ce[0]);this.elem.layerElement.appendChild(ke),this.masker=Fe,je.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(Ce=this.elem.layerElement.children||this.elem.layerElement.childNodes;Ce.length;)this.elem.layerElement.removeChild(Ce[0]);this.elem.layerElement.appendChild(je),this.elem.layerElement.removeAttribute("mask"),je.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=je},SVGStrokeEffect.prototype.renderFrame=function(Ce){this.initialized||this.initialize();var Re,je=this.paths.length,Be,De;for(Re=0;Re<je;Re+=1)if(this.paths[Re].m!==-1&&(Be=this.elem.maskManager.viewData[this.paths[Re].m],De=this.paths[Re].p,(Ce||this.filterManager._mdf||Be.prop._mdf)&&De.setAttribute("d",Be.lastPath),Ce||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||Be.prop._mdf)){var Fe;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var Oe=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ke=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Me=De.getTotalLength();Fe="0 0 0 "+Me*Oe+" ";var Ue=Me*(ke-Oe),$e=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,He=Math.floor(Ue/$e),Qe;for(Qe=0;Qe<He;Qe+=1)Fe+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";Fe+="0 "+Me*10+" 0 0"}else Fe="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;De.setAttribute("stroke-dasharray",Fe)}if((Ce||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(Ce||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(Ce||this.filterManager.effectElements[3].p._mdf)){var We=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(We[0]*255)+","+bmFloor(We[1]*255)+","+bmFloor(We[2]*255)+")")}};function SVGTritoneFilter(Ce,Re,je,Be){this.filterManager=Re;var De=createNS("feColorMatrix");De.setAttribute("type","matrix"),De.setAttribute("color-interpolation-filters","linearRGB"),De.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),Ce.appendChild(De);var Fe=createNS("feComponentTransfer");Fe.setAttribute("color-interpolation-filters","sRGB"),Fe.setAttribute("result",Be),this.matrixFilter=Fe;var Oe=createNS("feFuncR");Oe.setAttribute("type","table"),Fe.appendChild(Oe),this.feFuncR=Oe;var ke=createNS("feFuncG");ke.setAttribute("type","table"),Fe.appendChild(ke),this.feFuncG=ke;var Me=createNS("feFuncB");Me.setAttribute("type","table"),Fe.appendChild(Me),this.feFuncB=Me,Ce.appendChild(Fe)}SVGTritoneFilter.prototype.renderFrame=function(Ce){if(Ce||this.filterManager._mdf){var Re=this.filterManager.effectElements[0].p.v,je=this.filterManager.effectElements[1].p.v,Be=this.filterManager.effectElements[2].p.v,De=Be[0]+" "+je[0]+" "+Re[0],Fe=Be[1]+" "+je[1]+" "+Re[1],Oe=Be[2]+" "+je[2]+" "+Re[2];this.feFuncR.setAttribute("tableValues",De),this.feFuncG.setAttribute("tableValues",Fe),this.feFuncB.setAttribute("tableValues",Oe)}};function SVGProLevelsFilter(Ce,Re,je,Be){this.filterManager=Re;var De=this.filterManager.effectElements,Fe=createNS("feComponentTransfer");(De[10].p.k||De[10].p.v!==0||De[11].p.k||De[11].p.v!==1||De[12].p.k||De[12].p.v!==1||De[13].p.k||De[13].p.v!==0||De[14].p.k||De[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",Fe)),(De[17].p.k||De[17].p.v!==0||De[18].p.k||De[18].p.v!==1||De[19].p.k||De[19].p.v!==1||De[20].p.k||De[20].p.v!==0||De[21].p.k||De[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",Fe)),(De[24].p.k||De[24].p.v!==0||De[25].p.k||De[25].p.v!==1||De[26].p.k||De[26].p.v!==1||De[27].p.k||De[27].p.v!==0||De[28].p.k||De[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",Fe)),(De[31].p.k||De[31].p.v!==0||De[32].p.k||De[32].p.v!==1||De[33].p.k||De[33].p.v!==1||De[34].p.k||De[34].p.v!==0||De[35].p.k||De[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",Fe)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(Fe.setAttribute("color-interpolation-filters","sRGB"),Ce.appendChild(Fe)),(De[3].p.k||De[3].p.v!==0||De[4].p.k||De[4].p.v!==1||De[5].p.k||De[5].p.v!==1||De[6].p.k||De[6].p.v!==0||De[7].p.k||De[7].p.v!==1)&&(Fe=createNS("feComponentTransfer"),Fe.setAttribute("color-interpolation-filters","sRGB"),Fe.setAttribute("result",Be),Ce.appendChild(Fe),this.feFuncRComposed=this.createFeFunc("feFuncR",Fe),this.feFuncGComposed=this.createFeFunc("feFuncG",Fe),this.feFuncBComposed=this.createFeFunc("feFuncB",Fe))}SVGProLevelsFilter.prototype.createFeFunc=function(Ce,Re){var je=createNS(Ce);return je.setAttribute("type","table"),Re.appendChild(je),je},SVGProLevelsFilter.prototype.getTableValue=function(Ce,Re,je,Be,De){for(var Fe=0,Oe=256,ke,Me=Math.min(Ce,Re),Ue=Math.max(Ce,Re),$e=Array.call(null,{length:Oe}),He,Qe=0,We=De-Be,qe=Re-Ce;Fe<=256;)ke=Fe/256,ke<=Me?He=qe<0?De:Be:ke>=Ue?He=qe<0?Be:De:He=Be+We*Math.pow((ke-Ce)/qe,1/je),$e[Qe]=He,Qe+=1,Fe+=256/(Oe-1);return $e.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(Ce){if(Ce||this.filterManager._mdf){var Re,je=this.filterManager.effectElements;this.feFuncRComposed&&(Ce||je[3].p._mdf||je[4].p._mdf||je[5].p._mdf||je[6].p._mdf||je[7].p._mdf)&&(Re=this.getTableValue(je[3].p.v,je[4].p.v,je[5].p.v,je[6].p.v,je[7].p.v),this.feFuncRComposed.setAttribute("tableValues",Re),this.feFuncGComposed.setAttribute("tableValues",Re),this.feFuncBComposed.setAttribute("tableValues",Re)),this.feFuncR&&(Ce||je[10].p._mdf||je[11].p._mdf||je[12].p._mdf||je[13].p._mdf||je[14].p._mdf)&&(Re=this.getTableValue(je[10].p.v,je[11].p.v,je[12].p.v,je[13].p.v,je[14].p.v),this.feFuncR.setAttribute("tableValues",Re)),this.feFuncG&&(Ce||je[17].p._mdf||je[18].p._mdf||je[19].p._mdf||je[20].p._mdf||je[21].p._mdf)&&(Re=this.getTableValue(je[17].p.v,je[18].p.v,je[19].p.v,je[20].p.v,je[21].p.v),this.feFuncG.setAttribute("tableValues",Re)),this.feFuncB&&(Ce||je[24].p._mdf||je[25].p._mdf||je[26].p._mdf||je[27].p._mdf||je[28].p._mdf)&&(Re=this.getTableValue(je[24].p.v,je[25].p.v,je[26].p.v,je[27].p.v,je[28].p.v),this.feFuncB.setAttribute("tableValues",Re)),this.feFuncA&&(Ce||je[31].p._mdf||je[32].p._mdf||je[33].p._mdf||je[34].p._mdf||je[35].p._mdf)&&(Re=this.getTableValue(je[31].p.v,je[32].p.v,je[33].p.v,je[34].p.v,je[35].p.v),this.feFuncA.setAttribute("tableValues",Re))}};function SVGDropShadowEffect(Ce,Re,je,Be,De){var Fe=Re.container.globalData.renderConfig.filterSize,Oe=Re.data.fs||Fe;Ce.setAttribute("x",Oe.x||Fe.x),Ce.setAttribute("y",Oe.y||Fe.y),Ce.setAttribute("width",Oe.width||Fe.width),Ce.setAttribute("height",Oe.height||Fe.height),this.filterManager=Re;var ke=createNS("feGaussianBlur");ke.setAttribute("in","SourceAlpha"),ke.setAttribute("result",Be+"_drop_shadow_1"),ke.setAttribute("stdDeviation","0"),this.feGaussianBlur=ke,Ce.appendChild(ke);var Me=createNS("feOffset");Me.setAttribute("dx","25"),Me.setAttribute("dy","0"),Me.setAttribute("in",Be+"_drop_shadow_1"),Me.setAttribute("result",Be+"_drop_shadow_2"),this.feOffset=Me,Ce.appendChild(Me);var Ue=createNS("feFlood");Ue.setAttribute("flood-color","#00ff00"),Ue.setAttribute("flood-opacity","1"),Ue.setAttribute("result",Be+"_drop_shadow_3"),this.feFlood=Ue,Ce.appendChild(Ue);var $e=createNS("feComposite");$e.setAttribute("in",Be+"_drop_shadow_3"),$e.setAttribute("in2",Be+"_drop_shadow_2"),$e.setAttribute("operator","in"),$e.setAttribute("result",Be+"_drop_shadow_4"),Ce.appendChild($e);var He=this.createMergeNode(Be,[Be+"_drop_shadow_4",De]);Ce.appendChild(He)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(Ce){if(Ce||this.filterManager._mdf){if((Ce||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),Ce||this.filterManager.effectElements[0].p._mdf){var Re=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(Re[0]*255),Math.round(Re[1]*255),Math.round(Re[2]*255)))}if((Ce||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),Ce||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var je=this.filterManager.effectElements[3].p.v,Be=(this.filterManager.effectElements[2].p.v-90)*degToRads,De=je*Math.cos(Be),Fe=je*Math.sin(Be);this.feOffset.setAttribute("dx",De),this.feOffset.setAttribute("dy",Fe)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(Ce,Re,je){this.initialized=!1,this.filterManager=Re,this.filterElem=Ce,this.elem=je,je.matteElement=createNS("g"),je.matteElement.appendChild(je.layerElement),je.matteElement.appendChild(je.transformedElement),je.baseElement=je.matteElement}SVGMatte3Effect.prototype.findSymbol=function(Ce){for(var Re=0,je=_svgMatteSymbols.length;Re<je;){if(_svgMatteSymbols[Re]===Ce)return _svgMatteSymbols[Re];Re+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(Ce,Re){var je=Ce.layerElement.parentNode;if(je){for(var Be=je.children,De=0,Fe=Be.length;De<Fe&&Be[De]!==Ce.layerElement;)De+=1;var Oe;De<=Fe-2&&(Oe=Be[De+1]);var ke=createNS("use");ke.setAttribute("href","#"+Re),Oe?je.insertBefore(ke,Oe):je.appendChild(ke)}},SVGMatte3Effect.prototype.setElementAsMask=function(Ce,Re){if(!this.findSymbol(Re)){var je=createElementID(),Be=createNS("mask");Be.setAttribute("id",Re.layerId),Be.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(Re);var De=Ce.globalData.defs;De.appendChild(Be);var Fe=createNS("symbol");Fe.setAttribute("id",je),this.replaceInParent(Re,je),Fe.appendChild(Re.layerElement),De.appendChild(Fe);var Oe=createNS("use");Oe.setAttribute("href","#"+je),Be.appendChild(Oe),Re.data.hd=!1,Re.show()}Ce.setMatte(Re.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var Ce=this.filterManager.effectElements[0].p.v,Re=this.elem.comp.elements,je=0,Be=Re.length;je<Be;)Re[je]&&Re[je].data.ind===Ce&&this.setElementAsMask(this.elem,Re[je]),je+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(Ce,Re,je,Be){Ce.setAttribute("x","-100%"),Ce.setAttribute("y","-100%"),Ce.setAttribute("width","300%"),Ce.setAttribute("height","300%"),this.filterManager=Re;var De=createNS("feGaussianBlur");De.setAttribute("result",Be),Ce.appendChild(De),this.feGaussianBlur=De}SVGGaussianBlurEffect.prototype.renderFrame=function(Ce){if(Ce||this.filterManager._mdf){var Re=.3,je=this.filterManager.effectElements[0].p.v*Re,Be=this.filterManager.effectElements[1].p.v,De=Be==3?0:je,Fe=Be==2?0:je;this.feGaussianBlur.setAttribute("stdDeviation",De+" "+Fe);var Oe=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",Oe)}};function TransformEffect(){}TransformEffect.prototype.init=function(Ce){this.effectsManager=Ce,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(Ce){if(this._opMdf=!1,this._mdf=!1,Ce||this.effectsManager._mdf){var Re=this.effectsManager.effectElements,je=Re[0].p.v,Be=Re[1].p.v,De=Re[2].p.v===1,Fe=Re[3].p.v,Oe=De?Fe:Re[4].p.v,ke=Re[5].p.v,Me=Re[6].p.v,Ue=Re[7].p.v;this.matrix.reset(),this.matrix.translate(-je[0],-je[1],je[2]),this.matrix.scale(Oe*.01,Fe*.01,1),this.matrix.rotate(-Ue*degToRads),this.matrix.skewFromAxis(-ke*degToRads,(Me+90)*degToRads),this.matrix.translate(Be[0],Be[1],0),this._mdf=!0,this.opacity!==Re[8].p.v&&(this.opacity=Re[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(Ce,Re){this.init(Re)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(Ce){this.init(Ce)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))})(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray$1(Ce,Re){(Re==null||Re>Ce.length)&&(Re=Ce.length);for(var je=0,Be=Array(Re);je<Re;je++)Be[je]=Ce[je];return Be}function _arrayWithHoles$1(Ce){if(Array.isArray(Ce))return Ce}function _defineProperty$F(Ce,Re,je){return(Re=_toPropertyKey$E(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _iterableToArrayLimit$1(Ce,Re){var je=Ce==null?null:typeof Symbol<"u"&&Ce[Symbol.iterator]||Ce["@@iterator"];if(je!=null){var Be,De,Fe,Oe,ke=[],Me=!0,Ue=!1;try{if(Fe=(je=je.call(Ce)).next,Re!==0)for(;!(Me=(Be=Fe.call(je)).done)&&(ke.push(Be.value),ke.length!==Re);Me=!0);}catch($e){Ue=!0,De=$e}finally{try{if(!Me&&je.return!=null&&(Oe=je.return(),Object(Oe)!==Oe))return}finally{if(Ue)throw De}}return ke}}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys$B(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread2$1(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$B(Object(je),!0).forEach(function(Be){_defineProperty$F(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$B(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _objectWithoutProperties$n(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$n(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.includes(je)||{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$n(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.includes(Be))continue;je[Be]=Ce[Be]}return je}function _slicedToArray$1(Ce,Re){return _arrayWithHoles$1(Ce)||_iterableToArrayLimit$1(Ce,Re)||_unsupportedIterableToArray$1(Ce,Re)||_nonIterableRest$1()}function _toPrimitive$E(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function _toPropertyKey$E(Ce){var Re=_toPrimitive$E(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _unsupportedIterableToArray$1(Ce,Re){if(Ce){if(typeof Ce=="string")return _arrayLikeToArray$1(Ce,Re);var je={}.toString.call(Ce).slice(8,-1);return je==="Object"&&Ce.constructor&&(je=Ce.constructor.name),je==="Map"||je==="Set"?Array.from(Ce):je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(je)?_arrayLikeToArray$1(Ce,Re):void 0}}var _excluded$1$2=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function Ce(Re,je){var Be=Re.animationData,De=Re.loop,Fe=Re.autoplay,Oe=Re.initialSegment,ke=Re.onComplete,Me=Re.onLoopComplete,Ue=Re.onEnterFrame,$e=Re.onSegmentStart,He=Re.onConfigReady,Qe=Re.onDataReady,We=Re.onDataFailed,qe=Re.onLoadedImages,Ke=Re.onDOMLoaded,Xe=Re.onDestroy;Re.lottieRef,Re.renderer,Re.name,Re.assetsPath,Re.rendererSettings;var Ye=_objectWithoutProperties$n(Re,_excluded$1$2),Ze=reactExports.useState(!1),Je=_slicedToArray$1(Ze,2),tr=Je[0],rr=Je[1],ar=reactExports.useRef(),nr=reactExports.useRef(null),sr=function(){var yr;(yr=ar.current)===null||yr===void 0||yr.play()},dr=function(){var yr;(yr=ar.current)===null||yr===void 0||yr.stop()},_r=function(){var yr;(yr=ar.current)===null||yr===void 0||yr.pause()},fr=function(yr){var vr;(vr=ar.current)===null||vr===void 0||vr.setSpeed(yr)},or=function(yr,vr){var Tr;(Tr=ar.current)===null||Tr===void 0||Tr.goToAndPlay(yr,vr)},Er=function(yr,vr){var Tr;(Tr=ar.current)===null||Tr===void 0||Tr.goToAndStop(yr,vr)},Rr=function(yr){var vr;(vr=ar.current)===null||vr===void 0||vr.setDirection(yr)},jr=function(yr,vr){var Tr;(Tr=ar.current)===null||Tr===void 0||Tr.playSegments(yr,vr)},xr=function(yr){var vr;(vr=ar.current)===null||vr===void 0||vr.setSubframe(yr)},Pr=function(yr){var vr;return(vr=ar.current)===null||vr===void 0?void 0:vr.getDuration(yr)},br=function(){var yr;(yr=ar.current)===null||yr===void 0||yr.destroy(),ar.current=void 0},wr=function(){var yr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},vr;if(nr.current){(vr=ar.current)===null||vr===void 0||vr.destroy();var Tr=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},Re),yr),{},{container:nr.current});return ar.current=lottie.loadAnimation(Tr),rr(!!ar.current),function(){var Or;(Or=ar.current)===null||Or===void 0||Or.destroy(),ar.current=void 0}}};reactExports.useEffect(function(){var Lr=wr();return function(){return Lr?.()}},[Be,De]),reactExports.useEffect(function(){ar.current&&(ar.current.autoplay=!!Fe)},[Fe]),reactExports.useEffect(function(){if(ar.current){if(!Oe){ar.current.resetSegments(!0);return}!Array.isArray(Oe)||!Oe.length||((ar.current.currentRawFrame<Oe[0]||ar.current.currentRawFrame>Oe[1])&&(ar.current.currentRawFrame=Oe[0]),ar.current.setSegment(Oe[0],Oe[1]))}},[Oe]),reactExports.useEffect(function(){var Lr=[{name:"complete",handler:ke},{name:"loopComplete",handler:Me},{name:"enterFrame",handler:Ue},{name:"segmentStart",handler:$e},{name:"config_ready",handler:He},{name:"data_ready",handler:Qe},{name:"data_failed",handler:We},{name:"loaded_images",handler:qe},{name:"DOMLoaded",handler:Ke},{name:"destroy",handler:Xe}],yr=Lr.filter(function(Tr){return Tr.handler!=null});if(yr.length){var vr=yr.map(function(Tr){var Or;return(Or=ar.current)===null||Or===void 0||Or.addEventListener(Tr.name,Tr.handler),function(){var Nr;(Nr=ar.current)===null||Nr===void 0||Nr.removeEventListener(Tr.name,Tr.handler)}});return function(){vr.forEach(function(Tr){return Tr()})}}},[ke,Me,Ue,$e,He,Qe,We,qe,Ke,Xe]);var Br=React.createElement("div",_objectSpread2$1({style:je,ref:nr},Ye));return{View:Br,play:sr,stop:dr,pause:_r,setSpeed:fr,goToAndStop:Er,goToAndPlay:or,setDirection:Rr,playSegments:jr,setSubframe:xr,getDuration:Pr,destroy:br,animationContainerRef:nr,animationLoaded:tr,animationItem:ar.current}};function getContainerVisibility(Ce){var Re=Ce.getBoundingClientRect(),je=Re.top,Be=Re.height,De=window.innerHeight-je,Fe=window.innerHeight+Be;return De/Fe}function getContainerCursorPosition(Ce,Re,je){var Be=Ce.getBoundingClientRect(),De=Be.top,Fe=Be.left,Oe=Be.width,ke=Be.height,Me=(Re-Fe)/Oe,Ue=(je-De)/ke;return{x:Me,y:Ue}}var useInitInteractivity=function Ce(Re){var je=Re.wrapperRef,Be=Re.animationItem,De=Re.mode,Fe=Re.actions;reactExports.useEffect(function(){var Oe=je.current;if(!(!Oe||!Be||!Fe.length)){Be.stop();var ke=function(){var $e=null,He=function(){var We=getContainerVisibility(Oe),qe=Fe.find(function(Xe){var Ye=Xe.visibility;return Ye&&We>=Ye[0]&&We<=Ye[1]});if(qe){if(qe.type==="seek"&&qe.visibility&&qe.frames.length===2){var Ke=qe.frames[0]+Math.ceil((We-qe.visibility[0])/(qe.visibility[1]-qe.visibility[0])*qe.frames[1]);//! goToAndStop must be relative to the start of the current segment
Be.goToAndStop(Ke-Be.firstFrame-1,!0)}qe.type==="loop"&&($e===null||$e!==qe.frames||Be.isPaused)&&(Be.playSegments(qe.frames,!0),$e=qe.frames),qe.type==="play"&&Be.isPaused&&(Be.resetSegments(!0),Be.play()),qe.type==="stop"&&Be.goToAndStop(qe.frames[0]-Be.firstFrame-1,!0)}};return document.addEventListener("scroll",He),function(){document.removeEventListener("scroll",He)}},Me=function(){var $e=function(qe,Ke){var Xe=qe,Ye=Ke;if(Xe!==-1&&Ye!==-1){var Ze=getContainerCursorPosition(Oe,Xe,Ye);Xe=Ze.x,Ye=Ze.y}var Je=Fe.find(function(ar){var nr=ar.position;return nr&&Array.isArray(nr.x)&&Array.isArray(nr.y)?Xe>=nr.x[0]&&Xe<=nr.x[1]&&Ye>=nr.y[0]&&Ye<=nr.y[1]:nr&&!Number.isNaN(nr.x)&&!Number.isNaN(nr.y)?Xe===nr.x&&Ye===nr.y:!1});if(Je){if(Je.type==="seek"&&Je.position&&Array.isArray(Je.position.x)&&Array.isArray(Je.position.y)&&Je.frames.length===2){var tr=(Xe-Je.position.x[0])/(Je.position.x[1]-Je.position.x[0]),rr=(Ye-Je.position.y[0])/(Je.position.y[1]-Je.position.y[0]);Be.playSegments(Je.frames,!0),Be.goToAndStop(Math.ceil((tr+rr)/2*(Je.frames[1]-Je.frames[0])),!0)}Je.type==="loop"&&Be.playSegments(Je.frames,!0),Je.type==="play"&&(Be.isPaused&&Be.resetSegments(!1),Be.playSegments(Je.frames)),Je.type==="stop"&&Be.goToAndStop(Je.frames[0],!0)}},He=function(qe){$e(qe.clientX,qe.clientY)},Qe=function(){$e(-1,-1)};return Oe.addEventListener("mousemove",He),Oe.addEventListener("mouseout",Qe),function(){Oe.removeEventListener("mousemove",He),Oe.removeEventListener("mouseout",Qe)}};switch(De){case"scroll":return ke();case"cursor":return Me()}}},[De,Be])},useLottieInteractivity=function Ce(Re){var je=Re.actions,Be=Re.mode,De=Re.lottieObj,Fe=De.animationItem,Oe=De.View,ke=De.animationContainerRef;return useInitInteractivity({actions:je,animationItem:Fe,mode:Be,wrapperRef:ke}),Oe},_excluded$s=["style","interactivity"],Lottie=function Ce(Re){var je,Be,De,Fe=Re.style,Oe=Re.interactivity,ke=_objectWithoutProperties$n(Re,_excluded$s),Me=useLottie(ke,Fe),Ue=Me.View,$e=Me.play,He=Me.stop,Qe=Me.pause,We=Me.setSpeed,qe=Me.goToAndStop,Ke=Me.goToAndPlay,Xe=Me.setDirection,Ye=Me.playSegments,Ze=Me.setSubframe,Je=Me.getDuration,tr=Me.destroy,rr=Me.animationContainerRef,ar=Me.animationLoaded,nr=Me.animationItem;return reactExports.useEffect(function(){Re.lottieRef&&(Re.lottieRef.current={play:$e,stop:He,pause:Qe,setSpeed:We,goToAndPlay:Ke,goToAndStop:qe,setDirection:Xe,playSegments:Ye,setSubframe:Ze,getDuration:Je,destroy:tr,animationContainerRef:rr,animationLoaded:ar,animationItem:nr})},[(je=Re.lottieRef)===null||je===void 0?void 0:je.current]),useLottieInteractivity({lottieObj:{View:Ue,play:$e,stop:He,pause:Qe,setSpeed:We,goToAndStop:qe,goToAndPlay:Ke,setDirection:Xe,playSegments:Ye,setSubframe:Ze,getDuration:Je,destroy:tr,animationContainerRef:rr,animationLoaded:ar,animationItem:nr},actions:(Be=Oe?.actions)!==null&&Be!==void 0?Be:[],mode:(De=Oe?.mode)!==null&&De!==void 0?De:"scroll"})};const LandingPage=()=>{const Ce=useNavigate(),[Re,je]=reactExports.useState(null);return reactExports.useEffect(()=>{AOS.init({duration:1e3}),fetch("/assets/supplyFlow.json").then(Be=>Be.json()).then(je).catch(console.error)},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white text-gray-900",children:[jsxRuntimeExports.jsxs("header",{className:"flex justify-between items-center p-6 shadow-md",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("img",{src:"/assets/flyp-logo.png",alt:"FLYP Logo",className:"h-28 w-auto drop-shadow-md"})}),jsxRuntimeExports.jsxs("nav",{className:"hidden md:flex gap-6",children:[jsxRuntimeExports.jsx(Link,{to:"#features",className:"hover:text-green-600",children:"Features"}),jsxRuntimeExports.jsx(Link,{to:"#pricing",className:"hover:text-green-600",children:"Pricing"}),jsxRuntimeExports.jsx(Link,{to:"#contact",className:"hover:text-green-600",children:"Contact"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white py-1 px-4 rounded",onClick:()=>Ce("/auth?type=login"),children:"Sign In"}),jsxRuntimeExports.jsx("button",{className:"bg-yellow-500 hover:bg-yellow-600 text-white py-1 px-4 rounded",onClick:()=>Ce("/auth?type=register"),children:"Register"})]})]}),jsxRuntimeExports.jsxs("section",{className:"relative flex flex-col-reverse md:flex-row items-center px-10 py-20 bg-gradient-to-r from-green-50 via-yellow-50 to-white overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/2 text-center md:text-left z-10 space-y-6",children:[jsxRuntimeExports.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold text-gray-900 leading-tight",children:["Stop running your business. ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-green-700",children:"Start flying it."})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-gray-800 max-w-xl",children:[jsxRuntimeExports.jsx("strong",{children:"Onboard your business in under 30 minutes."}),jsxRuntimeExports.jsx("br",{}),"Built for real people. No manuals. No training. Just results.",jsxRuntimeExports.jsx("br",{}),"Automate inventory, billing, and order flows  effortlessly."]}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(Link,{to:"/auth?type=register",children:jsxRuntimeExports.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-6 rounded shadow-lg",children:"Get Started Free"})})})]}),jsxRuntimeExports.jsx("div",{className:"w-full md:w-1/2 flex justify-center z-10",children:Re&&jsxRuntimeExports.jsx(Lottie,{animationData:Re,loop:!0,className:"w-96 h-96"})})]}),jsxRuntimeExports.jsxs("section",{id:"features",className:"py-16 px-10 bg-white text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold mb-12",children:"Core Features"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-4 gap-10",children:[jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/ai_inventory.png",alt:"AI Inventory Generator",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"AI Inventory Generator"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Automatically generate and optimize your inventory with AI-driven insights."})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/ocr_billing.png",alt:"OCR Billing Import",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"OCR Billing Import"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Scan and import paper invoices instantly with smart OCR technology."})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/smart_cart.png",alt:"Smart Cart",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"Smart Cart"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Create and manage orders quickly with intelligent cart suggestions."})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/customer_analytics.png",alt:"Customer Analytics",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"Customer Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Gain insights into customer behavior and sales trends."})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/distributor_connect.png",alt:"Distributor Connect",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"Distributor Connect"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Seamlessly collaborate and sync inventory with your distributors."})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/dashboards_kpis.png",alt:"Dashboards & KPIs",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"Dashboards & KPIs"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Track key performance indicators with customizable dashboards."})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/realtime_inventory.png",alt:"Realtime Inventory Sync",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"Realtime Inventory Sync"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Keep your stock levels updated across all platforms instantly."})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",children:[jsxRuntimeExports.jsx("img",{src:"/assets/gemini_ai.png",alt:"Gemini AI Assistant",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:"Gemini AI Assistant"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Your AI assistant for smarter decision-making and automation."})]})]})]}),jsxRuntimeExports.jsxs("section",{id:"whyflyp",className:"py-20 px-10 bg-green-50 text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold mb-10",children:"Why FLYP?"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 max-w-4xl mx-auto mb-6",children:"FLYP is the only platform connecting Retailers, Distributors, and Product Owners with AI-powered inventory management, automated billing, performance analytics, and real-time collaboration."}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Whether youre tracking SKUs, scanning paper invoices, generating smart bills, or managing your full supply chain  FLYP adapts to your workflow and unlocks scale."})]}),jsxRuntimeExports.jsxs("section",{id:"pricing",className:"py-20 px-10 bg-gray-100 text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold mb-12",children:"Pricing Plans"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsxs("div",{"data-aos":"flip-left",className:"bg-white shadow-lg p-6 rounded border-l-4 border-green-600",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold mb-4",children:"Check-In"}),jsxRuntimeExports.jsx("p",{className:"text-green-600 font-semibold text-2xl mb-6",children:"Free"}),jsxRuntimeExports.jsxs("div",{className:"text-left text-sm text-gray-700 space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer:"})," Basic inventory tracking & billing."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor:"})," Limited product sync."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Product Owner:"})," Basic analytics dashboard."]})]}),jsxRuntimeExports.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full",children:"Choose Plan"})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"flip-left",className:"bg-white shadow-lg p-6 rounded border-l-4 border-yellow-400",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold mb-4",children:"Onboard"}),jsxRuntimeExports.jsx("p",{className:"text-yellow-600 font-semibold text-2xl mb-6",children:"299/mo"}),jsxRuntimeExports.jsxs("div",{className:"text-left text-sm text-gray-700 space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer:"})," Smart cart & OCR billing import."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor:"})," Inventory sync & order management."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Product Owner:"})," Advanced analytics & AI inventory generator."]})]}),jsxRuntimeExports.jsx("button",{className:"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 w-full",children:"Choose Plan"})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"flip-left",className:"bg-white shadow-lg p-6 rounded border-l-4 border-blue-500",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold mb-4",children:"Takeoff"}),jsxRuntimeExports.jsx("p",{className:"text-blue-600 font-semibold text-2xl mb-6",children:"499/mo"}),jsxRuntimeExports.jsxs("div",{className:"text-left text-sm text-gray-700 space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer:"})," Customer analytics & realtime inventory sync."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor:"})," Distributor connect & automated billing."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Product Owner:"})," Dashboards & KPIs with Gemini AI assistant."]})]}),jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full",children:"Choose Plan"})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"flip-left",className:"bg-white shadow-lg p-6 rounded border-l-4 border-gray-800",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold mb-4",children:"Fly"}),jsxRuntimeExports.jsx("p",{className:"text-gray-800 font-semibold text-2xl mb-6",children:"Custom"}),jsxRuntimeExports.jsxs("div",{className:"text-left text-sm text-gray-700 space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer:"})," Full feature access & priority support."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor:"})," Custom integrations & multi-branch management."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Product Owner:"})," Dedicated AI support & enterprise analytics."]})]}),jsxRuntimeExports.jsx("button",{className:"bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-900 w-full",children:"Contact Us"})]})]})]}),jsxRuntimeExports.jsxs("footer",{id:"contact",className:"bg-gray-900 text-white p-6 mt-10 text-center text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[" ",new Date().getFullYear()," FLYP  All Rights Reserved."]}),jsxRuntimeExports.jsx("p",{className:"mt-1",children:"Contact: support@flypnow.com"})]})]})};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(Ce){hookCallback=Ce}function isArray$3(Ce){return Ce instanceof Array||Object.prototype.toString.call(Ce)==="[object Array]"}function isObject$4(Ce){return Ce!=null&&Object.prototype.toString.call(Ce)==="[object Object]"}function hasOwnProp(Ce,Re){return Object.prototype.hasOwnProperty.call(Ce,Re)}function isObjectEmpty$3(Ce){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(Ce).length===0;var Re;for(Re in Ce)if(hasOwnProp(Ce,Re))return!1;return!0}function isUndefined(Ce){return Ce===void 0}function isNumber$2(Ce){return typeof Ce=="number"||Object.prototype.toString.call(Ce)==="[object Number]"}function isDate$1(Ce){return Ce instanceof Date||Object.prototype.toString.call(Ce)==="[object Date]"}function map$3(Ce,Re){var je=[],Be,De=Ce.length;for(Be=0;Be<De;++Be)je.push(Re(Ce[Be],Be));return je}function extend$1(Ce,Re){for(var je in Re)hasOwnProp(Re,je)&&(Ce[je]=Re[je]);return hasOwnProp(Re,"toString")&&(Ce.toString=Re.toString),hasOwnProp(Re,"valueOf")&&(Ce.valueOf=Re.valueOf),Ce}function createUTC(Ce,Re,je,Be){return createLocalOrUTC(Ce,Re,je,Be,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(Ce){return Ce._pf==null&&(Ce._pf=defaultParsingFlags()),Ce._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(Ce){var Re=Object(this),je=Re.length>>>0,Be;for(Be=0;Be<je;Be++)if(Be in Re&&Ce.call(this,Re[Be],Be,Re))return!0;return!1};function isValid$1(Ce){var Re=null,je=!1,Be=Ce._d&&!isNaN(Ce._d.getTime());if(Be&&(Re=getParsingFlags(Ce),je=some.call(Re.parsedDateParts,function(De){return De!=null}),Be=Re.overflow<0&&!Re.empty&&!Re.invalidEra&&!Re.invalidMonth&&!Re.invalidWeekday&&!Re.weekdayMismatch&&!Re.nullInput&&!Re.invalidFormat&&!Re.userInvalidated&&(!Re.meridiem||Re.meridiem&&je),Ce._strict&&(Be=Be&&Re.charsLeftOver===0&&Re.unusedTokens.length===0&&Re.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(Ce))Ce._isValid=Be;else return Be;return Ce._isValid}function createInvalid(Ce){var Re=createUTC(NaN);return Ce!=null?extend$1(getParsingFlags(Re),Ce):getParsingFlags(Re).userInvalidated=!0,Re}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(Ce,Re){var je,Be,De,Fe=momentProperties.length;if(isUndefined(Re._isAMomentObject)||(Ce._isAMomentObject=Re._isAMomentObject),isUndefined(Re._i)||(Ce._i=Re._i),isUndefined(Re._f)||(Ce._f=Re._f),isUndefined(Re._l)||(Ce._l=Re._l),isUndefined(Re._strict)||(Ce._strict=Re._strict),isUndefined(Re._tzm)||(Ce._tzm=Re._tzm),isUndefined(Re._isUTC)||(Ce._isUTC=Re._isUTC),isUndefined(Re._offset)||(Ce._offset=Re._offset),isUndefined(Re._pf)||(Ce._pf=getParsingFlags(Re)),isUndefined(Re._locale)||(Ce._locale=Re._locale),Fe>0)for(je=0;je<Fe;je++)Be=momentProperties[je],De=Re[Be],isUndefined(De)||(Ce[Be]=De);return Ce}function Moment(Ce){copyConfig(this,Ce),this._d=new Date(Ce._d!=null?Ce._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(Ce){return Ce instanceof Moment||Ce!=null&&Ce._isAMomentObject!=null}function warn$1(Ce){hooks.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+Ce)}function deprecate(Ce,Re){var je=!0;return extend$1(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,Ce),je){var Be=[],De,Fe,Oe,ke=arguments.length;for(Fe=0;Fe<ke;Fe++){if(De="",typeof arguments[Fe]=="object"){De+=`
[`+Fe+"] ";for(Oe in arguments[0])hasOwnProp(arguments[0],Oe)&&(De+=Oe+": "+arguments[0][Oe]+", ");De=De.slice(0,-2)}else De=arguments[Fe];Be.push(De)}warn$1(Ce+`
Arguments: `+Array.prototype.slice.call(Be).join("")+`
`+new Error().stack),je=!1}return Re.apply(this,arguments)},Re)}var deprecations={};function deprecateSimple(Ce,Re){hooks.deprecationHandler!=null&&hooks.deprecationHandler(Ce,Re),deprecations[Ce]||(warn$1(Re),deprecations[Ce]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction$1(Ce){return typeof Function<"u"&&Ce instanceof Function||Object.prototype.toString.call(Ce)==="[object Function]"}function set$2(Ce){var Re,je;for(je in Ce)hasOwnProp(Ce,je)&&(Re=Ce[je],isFunction$1(Re)?this[je]=Re:this["_"+je]=Re);this._config=Ce,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(Ce,Re){var je=extend$1({},Ce),Be;for(Be in Re)hasOwnProp(Re,Be)&&(isObject$4(Ce[Be])&&isObject$4(Re[Be])?(je[Be]={},extend$1(je[Be],Ce[Be]),extend$1(je[Be],Re[Be])):Re[Be]!=null?je[Be]=Re[Be]:delete je[Be]);for(Be in Ce)hasOwnProp(Ce,Be)&&!hasOwnProp(Re,Be)&&isObject$4(Ce[Be])&&(je[Be]=extend$1({},je[Be]));return je}function Locale(Ce){Ce!=null&&this.set(Ce)}var keys$1;Object.keys?keys$1=Object.keys:keys$1=function(Ce){var Re,je=[];for(Re in Ce)hasOwnProp(Ce,Re)&&je.push(Re);return je};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar$1(Ce,Re,je){var Be=this._calendar[Ce]||this._calendar.sameElse;return isFunction$1(Be)?Be.call(Re,je):Be}function zeroFill(Ce,Re,je){var Be=""+Math.abs(Ce),De=Re-Be.length,Fe=Ce>=0;return(Fe?je?"+":"":"-")+Math.pow(10,Math.max(0,De)).toString().substr(1)+Be}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(Ce,Re,je,Be){var De=Be;typeof Be=="string"&&(De=function(){return this[Be]()}),Ce&&(formatTokenFunctions[Ce]=De),Re&&(formatTokenFunctions[Re[0]]=function(){return zeroFill(De.apply(this,arguments),Re[1],Re[2])}),je&&(formatTokenFunctions[je]=function(){return this.localeData().ordinal(De.apply(this,arguments),Ce)})}function removeFormattingTokens(Ce){return Ce.match(/\[[\s\S]/)?Ce.replace(/^\[|\]$/g,""):Ce.replace(/\\/g,"")}function makeFormatFunction(Ce){var Re=Ce.match(formattingTokens),je,Be;for(je=0,Be=Re.length;je<Be;je++)formatTokenFunctions[Re[je]]?Re[je]=formatTokenFunctions[Re[je]]:Re[je]=removeFormattingTokens(Re[je]);return function(De){var Fe="",Oe;for(Oe=0;Oe<Be;Oe++)Fe+=isFunction$1(Re[Oe])?Re[Oe].call(De,Ce):Re[Oe];return Fe}}function formatMoment(Ce,Re){return Ce.isValid()?(Re=expandFormat(Re,Ce.localeData()),formatFunctions[Re]=formatFunctions[Re]||makeFormatFunction(Re),formatFunctions[Re](Ce)):Ce.localeData().invalidDate()}function expandFormat(Ce,Re){var je=5;function Be(De){return Re.longDateFormat(De)||De}for(localFormattingTokens.lastIndex=0;je>=0&&localFormattingTokens.test(Ce);)Ce=Ce.replace(localFormattingTokens,Be),localFormattingTokens.lastIndex=0,je-=1;return Ce}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(Ce){var Re=this._longDateFormat[Ce],je=this._longDateFormat[Ce.toUpperCase()];return Re||!je?Re:(this._longDateFormat[Ce]=je.match(formattingTokens).map(function(Be){return Be==="MMMM"||Be==="MM"||Be==="DD"||Be==="dddd"?Be.slice(1):Be}).join(""),this._longDateFormat[Ce])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal$1(Ce){return this._ordinal.replace("%d",Ce)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(Ce,Re,je,Be){var De=this._relativeTime[je];return isFunction$1(De)?De(Ce,Re,je,Be):De.replace(/%d/i,Ce)}function pastFuture(Ce,Re){var je=this._relativeTime[Ce>0?"future":"past"];return isFunction$1(je)?je(Re):je.replace(/%s/i,Re)}var aliases$1={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function normalizeUnits(Ce){return typeof Ce=="string"?aliases$1[Ce]||aliases$1[Ce.toLowerCase()]:void 0}function normalizeObjectUnits(Ce){var Re={},je,Be;for(Be in Ce)hasOwnProp(Ce,Be)&&(je=normalizeUnits(Be),je&&(Re[je]=Ce[Be]));return Re}var priorities={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function getPrioritizedUnits(Ce){var Re=[],je;for(je in Ce)hasOwnProp(Ce,je)&&Re.push({unit:je,priority:priorities[je]});return Re.sort(function(Be,De){return Be.priority-De.priority}),Re}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,match1to2NoLeadingZero=/^[1-9]\d?/,match1to2HasZero=/^([1-9]\d|\d)/,regexes;regexes={};function addRegexToken(Ce,Re,je){regexes[Ce]=isFunction$1(Re)?Re:function(Be,De){return Be&&je?je:Re}}function getParseRegexForToken(Ce,Re){return hasOwnProp(regexes,Ce)?regexes[Ce](Re._strict,Re._locale):new RegExp(unescapeFormat(Ce))}function unescapeFormat(Ce){return regexEscape(Ce.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(Re,je,Be,De,Fe){return je||Be||De||Fe}))}function regexEscape(Ce){return Ce.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function absFloor(Ce){return Ce<0?Math.ceil(Ce)||0:Math.floor(Ce)}function toInt(Ce){var Re=+Ce,je=0;return Re!==0&&isFinite(Re)&&(je=absFloor(Re)),je}var tokens={};function addParseToken(Ce,Re){var je,Be=Re,De;for(typeof Ce=="string"&&(Ce=[Ce]),isNumber$2(Re)&&(Be=function(Fe,Oe){Oe[Re]=toInt(Fe)}),De=Ce.length,je=0;je<De;je++)tokens[Ce[je]]=Be}function addWeekParseToken(Ce,Re){addParseToken(Ce,function(je,Be,De,Fe){De._w=De._w||{},Re(je,De._w,De,Fe)})}function addTimeToArrayFromToken(Ce,Re,je){Re!=null&&hasOwnProp(tokens,Ce)&&tokens[Ce](Re,je._a,je,Ce)}function isLeapYear(Ce){return Ce%4===0&&Ce%100!==0||Ce%400===0}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;addFormatToken("Y",0,0,function(){var Ce=this.year();return Ce<=9999?zeroFill(Ce,4):"+"+Ce});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(Ce,Re){Re[YEAR]=Ce.length===2?hooks.parseTwoDigitYear(Ce):toInt(Ce)});addParseToken("YY",function(Ce,Re){Re[YEAR]=hooks.parseTwoDigitYear(Ce)});addParseToken("Y",function(Ce,Re){Re[YEAR]=parseInt(Ce,10)});function daysInYear(Ce){return isLeapYear(Ce)?366:365}hooks.parseTwoDigitYear=function(Ce){return toInt(Ce)+(toInt(Ce)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function makeGetSet(Ce,Re){return function(je){return je!=null?(set$1$1(this,Ce,je),hooks.updateOffset(this,Re),this):get$3(this,Ce)}}function get$3(Ce,Re){if(!Ce.isValid())return NaN;var je=Ce._d,Be=Ce._isUTC;switch(Re){case"Milliseconds":return Be?je.getUTCMilliseconds():je.getMilliseconds();case"Seconds":return Be?je.getUTCSeconds():je.getSeconds();case"Minutes":return Be?je.getUTCMinutes():je.getMinutes();case"Hours":return Be?je.getUTCHours():je.getHours();case"Date":return Be?je.getUTCDate():je.getDate();case"Day":return Be?je.getUTCDay():je.getDay();case"Month":return Be?je.getUTCMonth():je.getMonth();case"FullYear":return Be?je.getUTCFullYear():je.getFullYear();default:return NaN}}function set$1$1(Ce,Re,je){var Be,De,Fe,Oe,ke;if(!(!Ce.isValid()||isNaN(je))){switch(Be=Ce._d,De=Ce._isUTC,Re){case"Milliseconds":return void(De?Be.setUTCMilliseconds(je):Be.setMilliseconds(je));case"Seconds":return void(De?Be.setUTCSeconds(je):Be.setSeconds(je));case"Minutes":return void(De?Be.setUTCMinutes(je):Be.setMinutes(je));case"Hours":return void(De?Be.setUTCHours(je):Be.setHours(je));case"Date":return void(De?Be.setUTCDate(je):Be.setDate(je));case"FullYear":break;default:return}Fe=je,Oe=Ce.month(),ke=Ce.date(),ke=ke===29&&Oe===1&&!isLeapYear(Fe)?28:ke,De?Be.setUTCFullYear(Fe,Oe,ke):Be.setFullYear(Fe,Oe,ke)}}function stringGet(Ce){return Ce=normalizeUnits(Ce),isFunction$1(this[Ce])?this[Ce]():this}function stringSet(Ce,Re){if(typeof Ce=="object"){Ce=normalizeObjectUnits(Ce);var je=getPrioritizedUnits(Ce),Be,De=je.length;for(Be=0;Be<De;Be++)this[je[Be].unit](Ce[je[Be].unit])}else if(Ce=normalizeUnits(Ce),isFunction$1(this[Ce]))return this[Ce](Re);return this}function mod(Ce,Re){return(Ce%Re+Re)%Re}var indexOf;Array.prototype.indexOf?indexOf=Array.prototype.indexOf:indexOf=function(Ce){var Re;for(Re=0;Re<this.length;++Re)if(this[Re]===Ce)return Re;return-1};function daysInMonth(Ce,Re){if(isNaN(Ce)||isNaN(Re))return NaN;var je=mod(Re,12);return Ce+=(Re-je)/12,je===1?isLeapYear(Ce)?29:28:31-je%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(Ce){return this.localeData().monthsShort(this,Ce)});addFormatToken("MMMM",0,0,function(Ce){return this.localeData().months(this,Ce)});addRegexToken("M",match1to2,match1to2NoLeadingZero);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(Ce,Re){return Re.monthsShortRegex(Ce)});addRegexToken("MMMM",function(Ce,Re){return Re.monthsRegex(Ce)});addParseToken(["M","MM"],function(Ce,Re){Re[MONTH]=toInt(Ce)-1});addParseToken(["MMM","MMMM"],function(Ce,Re,je,Be){var De=je._locale.monthsParse(Ce,Be,je._strict);De!=null?Re[MONTH]=De:getParsingFlags(je).invalidMonth=Ce});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(Ce,Re){return Ce?isArray$3(this._months)?this._months[Ce.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(Re)?"format":"standalone"][Ce.month()]:isArray$3(this._months)?this._months:this._months.standalone}function localeMonthsShort(Ce,Re){return Ce?isArray$3(this._monthsShort)?this._monthsShort[Ce.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(Re)?"format":"standalone"][Ce.month()]:isArray$3(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(Ce,Re,je){var Be,De,Fe,Oe=Ce.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Be=0;Be<12;++Be)Fe=createUTC([2e3,Be]),this._shortMonthsParse[Be]=this.monthsShort(Fe,"").toLocaleLowerCase(),this._longMonthsParse[Be]=this.months(Fe,"").toLocaleLowerCase();return je?Re==="MMM"?(De=indexOf.call(this._shortMonthsParse,Oe),De!==-1?De:null):(De=indexOf.call(this._longMonthsParse,Oe),De!==-1?De:null):Re==="MMM"?(De=indexOf.call(this._shortMonthsParse,Oe),De!==-1?De:(De=indexOf.call(this._longMonthsParse,Oe),De!==-1?De:null)):(De=indexOf.call(this._longMonthsParse,Oe),De!==-1?De:(De=indexOf.call(this._shortMonthsParse,Oe),De!==-1?De:null))}function localeMonthsParse(Ce,Re,je){var Be,De,Fe;if(this._monthsParseExact)return handleStrictParse.call(this,Ce,Re,je);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Be=0;Be<12;Be++){if(De=createUTC([2e3,Be]),je&&!this._longMonthsParse[Be]&&(this._longMonthsParse[Be]=new RegExp("^"+this.months(De,"").replace(".","")+"$","i"),this._shortMonthsParse[Be]=new RegExp("^"+this.monthsShort(De,"").replace(".","")+"$","i")),!je&&!this._monthsParse[Be]&&(Fe="^"+this.months(De,"")+"|^"+this.monthsShort(De,""),this._monthsParse[Be]=new RegExp(Fe.replace(".",""),"i")),je&&Re==="MMMM"&&this._longMonthsParse[Be].test(Ce))return Be;if(je&&Re==="MMM"&&this._shortMonthsParse[Be].test(Ce))return Be;if(!je&&this._monthsParse[Be].test(Ce))return Be}}function setMonth(Ce,Re){if(!Ce.isValid())return Ce;if(typeof Re=="string"){if(/^\d+$/.test(Re))Re=toInt(Re);else if(Re=Ce.localeData().monthsParse(Re),!isNumber$2(Re))return Ce}var je=Re,Be=Ce.date();return Be=Be<29?Be:Math.min(Be,daysInMonth(Ce.year(),je)),Ce._isUTC?Ce._d.setUTCMonth(je,Be):Ce._d.setMonth(je,Be),Ce}function getSetMonth(Ce){return Ce!=null?(setMonth(this,Ce),hooks.updateOffset(this,!0),this):get$3(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(Ce){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),Ce?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&Ce?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(Ce){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),Ce?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&Ce?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function Ce(Me,Ue){return Ue.length-Me.length}var Re=[],je=[],Be=[],De,Fe,Oe,ke;for(De=0;De<12;De++)Fe=createUTC([2e3,De]),Oe=regexEscape(this.monthsShort(Fe,"")),ke=regexEscape(this.months(Fe,"")),Re.push(Oe),je.push(ke),Be.push(ke),Be.push(Oe);Re.sort(Ce),je.sort(Ce),Be.sort(Ce),this._monthsRegex=new RegExp("^("+Be.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+je.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+Re.join("|")+")","i")}function createDate(Ce,Re,je,Be,De,Fe,Oe){var ke;return Ce<100&&Ce>=0?(ke=new Date(Ce+400,Re,je,Be,De,Fe,Oe),isFinite(ke.getFullYear())&&ke.setFullYear(Ce)):ke=new Date(Ce,Re,je,Be,De,Fe,Oe),ke}function createUTCDate(Ce){var Re,je;return Ce<100&&Ce>=0?(je=Array.prototype.slice.call(arguments),je[0]=Ce+400,Re=new Date(Date.UTC.apply(null,je)),isFinite(Re.getUTCFullYear())&&Re.setUTCFullYear(Ce)):Re=new Date(Date.UTC.apply(null,arguments)),Re}function firstWeekOffset(Ce,Re,je){var Be=7+Re-je,De=(7+createUTCDate(Ce,0,Be).getUTCDay()-Re)%7;return-De+Be-1}function dayOfYearFromWeeks(Ce,Re,je,Be,De){var Fe=(7+je-Be)%7,Oe=firstWeekOffset(Ce,Be,De),ke=1+7*(Re-1)+Fe+Oe,Me,Ue;return ke<=0?(Me=Ce-1,Ue=daysInYear(Me)+ke):ke>daysInYear(Ce)?(Me=Ce+1,Ue=ke-daysInYear(Ce)):(Me=Ce,Ue=ke),{year:Me,dayOfYear:Ue}}function weekOfYear(Ce,Re,je){var Be=firstWeekOffset(Ce.year(),Re,je),De=Math.floor((Ce.dayOfYear()-Be-1)/7)+1,Fe,Oe;return De<1?(Oe=Ce.year()-1,Fe=De+weeksInYear(Oe,Re,je)):De>weeksInYear(Ce.year(),Re,je)?(Fe=De-weeksInYear(Ce.year(),Re,je),Oe=Ce.year()+1):(Oe=Ce.year(),Fe=De),{week:Fe,year:Oe}}function weeksInYear(Ce,Re,je){var Be=firstWeekOffset(Ce,Re,je),De=firstWeekOffset(Ce+1,Re,je);return(daysInYear(Ce)-Be+De)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addRegexToken("w",match1to2,match1to2NoLeadingZero);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2,match1to2NoLeadingZero);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(Ce,Re,je,Be){Re[Be.substr(0,1)]=toInt(Ce)});function localeWeek(Ce){return weekOfYear(Ce,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(Ce){var Re=this.localeData().week(this);return Ce==null?Re:this.add((Ce-Re)*7,"d")}function getSetISOWeek(Ce){var Re=weekOfYear(this,1,4).week;return Ce==null?Re:this.add((Ce-Re)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(Ce){return this.localeData().weekdaysMin(this,Ce)});addFormatToken("ddd",0,0,function(Ce){return this.localeData().weekdaysShort(this,Ce)});addFormatToken("dddd",0,0,function(Ce){return this.localeData().weekdays(this,Ce)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(Ce,Re){return Re.weekdaysMinRegex(Ce)});addRegexToken("ddd",function(Ce,Re){return Re.weekdaysShortRegex(Ce)});addRegexToken("dddd",function(Ce,Re){return Re.weekdaysRegex(Ce)});addWeekParseToken(["dd","ddd","dddd"],function(Ce,Re,je,Be){var De=je._locale.weekdaysParse(Ce,Be,je._strict);De!=null?Re.d=De:getParsingFlags(je).invalidWeekday=Ce});addWeekParseToken(["d","e","E"],function(Ce,Re,je,Be){Re[Be]=toInt(Ce)});function parseWeekday(Ce,Re){return typeof Ce!="string"?Ce:isNaN(Ce)?(Ce=Re.weekdaysParse(Ce),typeof Ce=="number"?Ce:null):parseInt(Ce,10)}function parseIsoWeekday(Ce,Re){return typeof Ce=="string"?Re.weekdaysParse(Ce)%7||7:isNaN(Ce)?null:Ce}function shiftWeekdays(Ce,Re){return Ce.slice(Re,7).concat(Ce.slice(0,Re))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(Ce,Re){var je=isArray$3(this._weekdays)?this._weekdays:this._weekdays[Ce&&Ce!==!0&&this._weekdays.isFormat.test(Re)?"format":"standalone"];return Ce===!0?shiftWeekdays(je,this._week.dow):Ce?je[Ce.day()]:je}function localeWeekdaysShort(Ce){return Ce===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):Ce?this._weekdaysShort[Ce.day()]:this._weekdaysShort}function localeWeekdaysMin(Ce){return Ce===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):Ce?this._weekdaysMin[Ce.day()]:this._weekdaysMin}function handleStrictParse$1(Ce,Re,je){var Be,De,Fe,Oe=Ce.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Be=0;Be<7;++Be)Fe=createUTC([2e3,1]).day(Be),this._minWeekdaysParse[Be]=this.weekdaysMin(Fe,"").toLocaleLowerCase(),this._shortWeekdaysParse[Be]=this.weekdaysShort(Fe,"").toLocaleLowerCase(),this._weekdaysParse[Be]=this.weekdays(Fe,"").toLocaleLowerCase();return je?Re==="dddd"?(De=indexOf.call(this._weekdaysParse,Oe),De!==-1?De:null):Re==="ddd"?(De=indexOf.call(this._shortWeekdaysParse,Oe),De!==-1?De:null):(De=indexOf.call(this._minWeekdaysParse,Oe),De!==-1?De:null):Re==="dddd"?(De=indexOf.call(this._weekdaysParse,Oe),De!==-1||(De=indexOf.call(this._shortWeekdaysParse,Oe),De!==-1)?De:(De=indexOf.call(this._minWeekdaysParse,Oe),De!==-1?De:null)):Re==="ddd"?(De=indexOf.call(this._shortWeekdaysParse,Oe),De!==-1||(De=indexOf.call(this._weekdaysParse,Oe),De!==-1)?De:(De=indexOf.call(this._minWeekdaysParse,Oe),De!==-1?De:null)):(De=indexOf.call(this._minWeekdaysParse,Oe),De!==-1||(De=indexOf.call(this._weekdaysParse,Oe),De!==-1)?De:(De=indexOf.call(this._shortWeekdaysParse,Oe),De!==-1?De:null))}function localeWeekdaysParse(Ce,Re,je){var Be,De,Fe;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,Ce,Re,je);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Be=0;Be<7;Be++){if(De=createUTC([2e3,1]).day(Be),je&&!this._fullWeekdaysParse[Be]&&(this._fullWeekdaysParse[Be]=new RegExp("^"+this.weekdays(De,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Be]=new RegExp("^"+this.weekdaysShort(De,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Be]=new RegExp("^"+this.weekdaysMin(De,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Be]||(Fe="^"+this.weekdays(De,"")+"|^"+this.weekdaysShort(De,"")+"|^"+this.weekdaysMin(De,""),this._weekdaysParse[Be]=new RegExp(Fe.replace(".",""),"i")),je&&Re==="dddd"&&this._fullWeekdaysParse[Be].test(Ce))return Be;if(je&&Re==="ddd"&&this._shortWeekdaysParse[Be].test(Ce))return Be;if(je&&Re==="dd"&&this._minWeekdaysParse[Be].test(Ce))return Be;if(!je&&this._weekdaysParse[Be].test(Ce))return Be}}function getSetDayOfWeek(Ce){if(!this.isValid())return Ce!=null?this:NaN;var Re=get$3(this,"Day");return Ce!=null?(Ce=parseWeekday(Ce,this.localeData()),this.add(Ce-Re,"d")):Re}function getSetLocaleDayOfWeek(Ce){if(!this.isValid())return Ce!=null?this:NaN;var Re=(this.day()+7-this.localeData()._week.dow)%7;return Ce==null?Re:this.add(Ce-Re,"d")}function getSetISODayOfWeek(Ce){if(!this.isValid())return Ce!=null?this:NaN;if(Ce!=null){var Re=parseIsoWeekday(Ce,this.localeData());return this.day(this.day()%7?Re:Re-7)}else return this.day()||7}function weekdaysRegex(Ce){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Ce?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&Ce?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(Ce){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Ce?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&Ce?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(Ce){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Ce?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&Ce?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function Ce($e,He){return He.length-$e.length}var Re=[],je=[],Be=[],De=[],Fe,Oe,ke,Me,Ue;for(Fe=0;Fe<7;Fe++)Oe=createUTC([2e3,1]).day(Fe),ke=regexEscape(this.weekdaysMin(Oe,"")),Me=regexEscape(this.weekdaysShort(Oe,"")),Ue=regexEscape(this.weekdays(Oe,"")),Re.push(ke),je.push(Me),Be.push(Ue),De.push(ke),De.push(Me),De.push(Ue);Re.sort(Ce),je.sort(Ce),Be.sort(Ce),De.sort(Ce),this._weekdaysRegex=new RegExp("^("+De.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Be.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+je.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Re.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(Ce,Re){addFormatToken(Ce,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),Re)})}meridiem("a",!0);meridiem("A",!1);function matchMeridiem(Ce,Re){return Re._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2,match1to2HasZero);addRegexToken("h",match1to2,match1to2NoLeadingZero);addRegexToken("k",match1to2,match1to2NoLeadingZero);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(Ce,Re,je){var Be=toInt(Ce);Re[HOUR]=Be===24?0:Be});addParseToken(["a","A"],function(Ce,Re,je){je._isPm=je._locale.isPM(Ce),je._meridiem=Ce});addParseToken(["h","hh"],function(Ce,Re,je){Re[HOUR]=toInt(Ce),getParsingFlags(je).bigHour=!0});addParseToken("hmm",function(Ce,Re,je){var Be=Ce.length-2;Re[HOUR]=toInt(Ce.substr(0,Be)),Re[MINUTE]=toInt(Ce.substr(Be)),getParsingFlags(je).bigHour=!0});addParseToken("hmmss",function(Ce,Re,je){var Be=Ce.length-4,De=Ce.length-2;Re[HOUR]=toInt(Ce.substr(0,Be)),Re[MINUTE]=toInt(Ce.substr(Be,2)),Re[SECOND]=toInt(Ce.substr(De)),getParsingFlags(je).bigHour=!0});addParseToken("Hmm",function(Ce,Re,je){var Be=Ce.length-2;Re[HOUR]=toInt(Ce.substr(0,Be)),Re[MINUTE]=toInt(Ce.substr(Be))});addParseToken("Hmmss",function(Ce,Re,je){var Be=Ce.length-4,De=Ce.length-2;Re[HOUR]=toInt(Ce.substr(0,Be)),Re[MINUTE]=toInt(Ce.substr(Be,2)),Re[SECOND]=toInt(Ce.substr(De))});function localeIsPM(Ce){return(Ce+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(Ce,Re,je){return Ce>11?je?"pm":"PM":je?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(Ce,Re){var je,Be=Math.min(Ce.length,Re.length);for(je=0;je<Be;je+=1)if(Ce[je]!==Re[je])return je;return Be}function normalizeLocale(Ce){return Ce&&Ce.toLowerCase().replace("_","-")}function chooseLocale(Ce){for(var Re=0,je,Be,De,Fe;Re<Ce.length;){for(Fe=normalizeLocale(Ce[Re]).split("-"),je=Fe.length,Be=normalizeLocale(Ce[Re+1]),Be=Be?Be.split("-"):null;je>0;){if(De=loadLocale(Fe.slice(0,je).join("-")),De)return De;if(Be&&Be.length>=je&&commonPrefix(Fe,Be)>=je-1)break;je--}Re++}return globalLocale}function isLocaleNameSane(Ce){return!!(Ce&&Ce.match("^[^/\\\\]*$"))}function loadLocale(Ce){var Re=null,je;if(locales[Ce]===void 0&&typeof module<"u"&&module&&module.exports&&isLocaleNameSane(Ce))try{Re=globalLocale._abbr,je=require,je("./locale/"+Ce),getSetGlobalLocale(Re)}catch{locales[Ce]=null}return locales[Ce]}function getSetGlobalLocale(Ce,Re){var je;return Ce&&(isUndefined(Re)?je=getLocale(Ce):je=defineLocale(Ce,Re),je?globalLocale=je:typeof console<"u"&&console.warn&&console.warn("Locale "+Ce+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(Ce,Re){if(Re!==null){var je,Be=baseConfig;if(Re.abbr=Ce,locales[Ce]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Be=locales[Ce]._config;else if(Re.parentLocale!=null)if(locales[Re.parentLocale]!=null)Be=locales[Re.parentLocale]._config;else if(je=loadLocale(Re.parentLocale),je!=null)Be=je._config;else return localeFamilies[Re.parentLocale]||(localeFamilies[Re.parentLocale]=[]),localeFamilies[Re.parentLocale].push({name:Ce,config:Re}),null;return locales[Ce]=new Locale(mergeConfigs(Be,Re)),localeFamilies[Ce]&&localeFamilies[Ce].forEach(function(De){defineLocale(De.name,De.config)}),getSetGlobalLocale(Ce),locales[Ce]}else return delete locales[Ce],null}function updateLocale(Ce,Re){if(Re!=null){var je,Be,De=baseConfig;locales[Ce]!=null&&locales[Ce].parentLocale!=null?locales[Ce].set(mergeConfigs(locales[Ce]._config,Re)):(Be=loadLocale(Ce),Be!=null&&(De=Be._config),Re=mergeConfigs(De,Re),Be==null&&(Re.abbr=Ce),je=new Locale(Re),je.parentLocale=locales[Ce],locales[Ce]=je),getSetGlobalLocale(Ce)}else locales[Ce]!=null&&(locales[Ce].parentLocale!=null?(locales[Ce]=locales[Ce].parentLocale,Ce===getSetGlobalLocale()&&getSetGlobalLocale(Ce)):locales[Ce]!=null&&delete locales[Ce]);return locales[Ce]}function getLocale(Ce){var Re;if(Ce&&Ce._locale&&Ce._locale._abbr&&(Ce=Ce._locale._abbr),!Ce)return globalLocale;if(!isArray$3(Ce)){if(Re=loadLocale(Ce),Re)return Re;Ce=[Ce]}return chooseLocale(Ce)}function listLocales(){return keys$1(locales)}function checkOverflow(Ce){var Re,je=Ce._a;return je&&getParsingFlags(Ce).overflow===-2&&(Re=je[MONTH]<0||je[MONTH]>11?MONTH:je[DATE]<1||je[DATE]>daysInMonth(je[YEAR],je[MONTH])?DATE:je[HOUR]<0||je[HOUR]>24||je[HOUR]===24&&(je[MINUTE]!==0||je[SECOND]!==0||je[MILLISECOND]!==0)?HOUR:je[MINUTE]<0||je[MINUTE]>59?MINUTE:je[SECOND]<0||je[SECOND]>59?SECOND:je[MILLISECOND]<0||je[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(Ce)._overflowDayOfYear&&(Re<YEAR||Re>DATE)&&(Re=DATE),getParsingFlags(Ce)._overflowWeeks&&Re===-1&&(Re=WEEK),getParsingFlags(Ce)._overflowWeekday&&Re===-1&&(Re=WEEKDAY),getParsingFlags(Ce).overflow=Re),Ce}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function configFromISO(Ce){var Re,je,Be=Ce._i,De=extendedIsoRegex.exec(Be)||basicIsoRegex.exec(Be),Fe,Oe,ke,Me,Ue=isoDates.length,$e=isoTimes.length;if(De){for(getParsingFlags(Ce).iso=!0,Re=0,je=Ue;Re<je;Re++)if(isoDates[Re][1].exec(De[1])){Oe=isoDates[Re][0],Fe=isoDates[Re][2]!==!1;break}if(Oe==null){Ce._isValid=!1;return}if(De[3]){for(Re=0,je=$e;Re<je;Re++)if(isoTimes[Re][1].exec(De[3])){ke=(De[2]||" ")+isoTimes[Re][0];break}if(ke==null){Ce._isValid=!1;return}}if(!Fe&&ke!=null){Ce._isValid=!1;return}if(De[4])if(tzRegex.exec(De[4]))Me="Z";else{Ce._isValid=!1;return}Ce._f=Oe+(ke||"")+(Me||""),configFromStringAndFormat(Ce)}else Ce._isValid=!1}function extractFromRFC2822Strings(Ce,Re,je,Be,De,Fe){var Oe=[untruncateYear(Ce),defaultLocaleMonthsShort.indexOf(Re),parseInt(je,10),parseInt(Be,10),parseInt(De,10)];return Fe&&Oe.push(parseInt(Fe,10)),Oe}function untruncateYear(Ce){var Re=parseInt(Ce,10);return Re<=49?2e3+Re:Re<=999?1900+Re:Re}function preprocessRFC2822(Ce){return Ce.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(Ce,Re,je){if(Ce){var Be=defaultLocaleWeekdaysShort.indexOf(Ce),De=new Date(Re[0],Re[1],Re[2]).getDay();if(Be!==De)return getParsingFlags(je).weekdayMismatch=!0,je._isValid=!1,!1}return!0}function calculateOffset(Ce,Re,je){if(Ce)return obsOffsets[Ce];if(Re)return 0;var Be=parseInt(je,10),De=Be%100,Fe=(Be-De)/100;return Fe*60+De}function configFromRFC2822(Ce){var Re=rfc2822.exec(preprocessRFC2822(Ce._i)),je;if(Re){if(je=extractFromRFC2822Strings(Re[4],Re[3],Re[2],Re[5],Re[6],Re[7]),!checkWeekday(Re[1],je,Ce))return;Ce._a=je,Ce._tzm=calculateOffset(Re[8],Re[9],Re[10]),Ce._d=createUTCDate.apply(null,Ce._a),Ce._d.setUTCMinutes(Ce._d.getUTCMinutes()-Ce._tzm),getParsingFlags(Ce).rfc2822=!0}else Ce._isValid=!1}function configFromString(Ce){var Re=aspNetJsonRegex.exec(Ce._i);if(Re!==null){Ce._d=new Date(+Re[1]);return}if(configFromISO(Ce),Ce._isValid===!1)delete Ce._isValid;else return;if(configFromRFC2822(Ce),Ce._isValid===!1)delete Ce._isValid;else return;Ce._strict?Ce._isValid=!1:hooks.createFromInputFallback(Ce)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(Ce){Ce._d=new Date(Ce._i+(Ce._useUTC?" UTC":""))});function defaults$2(Ce,Re,je){return Ce??Re??je}function currentDateArray(Ce){var Re=new Date(hooks.now());return Ce._useUTC?[Re.getUTCFullYear(),Re.getUTCMonth(),Re.getUTCDate()]:[Re.getFullYear(),Re.getMonth(),Re.getDate()]}function configFromArray(Ce){var Re,je,Be=[],De,Fe,Oe;if(!Ce._d){for(De=currentDateArray(Ce),Ce._w&&Ce._a[DATE]==null&&Ce._a[MONTH]==null&&dayOfYearFromWeekInfo(Ce),Ce._dayOfYear!=null&&(Oe=defaults$2(Ce._a[YEAR],De[YEAR]),(Ce._dayOfYear>daysInYear(Oe)||Ce._dayOfYear===0)&&(getParsingFlags(Ce)._overflowDayOfYear=!0),je=createUTCDate(Oe,0,Ce._dayOfYear),Ce._a[MONTH]=je.getUTCMonth(),Ce._a[DATE]=je.getUTCDate()),Re=0;Re<3&&Ce._a[Re]==null;++Re)Ce._a[Re]=Be[Re]=De[Re];for(;Re<7;Re++)Ce._a[Re]=Be[Re]=Ce._a[Re]==null?Re===2?1:0:Ce._a[Re];Ce._a[HOUR]===24&&Ce._a[MINUTE]===0&&Ce._a[SECOND]===0&&Ce._a[MILLISECOND]===0&&(Ce._nextDay=!0,Ce._a[HOUR]=0),Ce._d=(Ce._useUTC?createUTCDate:createDate).apply(null,Be),Fe=Ce._useUTC?Ce._d.getUTCDay():Ce._d.getDay(),Ce._tzm!=null&&Ce._d.setUTCMinutes(Ce._d.getUTCMinutes()-Ce._tzm),Ce._nextDay&&(Ce._a[HOUR]=24),Ce._w&&typeof Ce._w.d<"u"&&Ce._w.d!==Fe&&(getParsingFlags(Ce).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(Ce){var Re,je,Be,De,Fe,Oe,ke,Me,Ue;Re=Ce._w,Re.GG!=null||Re.W!=null||Re.E!=null?(Fe=1,Oe=4,je=defaults$2(Re.GG,Ce._a[YEAR],weekOfYear(createLocal(),1,4).year),Be=defaults$2(Re.W,1),De=defaults$2(Re.E,1),(De<1||De>7)&&(Me=!0)):(Fe=Ce._locale._week.dow,Oe=Ce._locale._week.doy,Ue=weekOfYear(createLocal(),Fe,Oe),je=defaults$2(Re.gg,Ce._a[YEAR],Ue.year),Be=defaults$2(Re.w,Ue.week),Re.d!=null?(De=Re.d,(De<0||De>6)&&(Me=!0)):Re.e!=null?(De=Re.e+Fe,(Re.e<0||Re.e>6)&&(Me=!0)):De=Fe),Be<1||Be>weeksInYear(je,Fe,Oe)?getParsingFlags(Ce)._overflowWeeks=!0:Me!=null?getParsingFlags(Ce)._overflowWeekday=!0:(ke=dayOfYearFromWeeks(je,Be,De,Fe,Oe),Ce._a[YEAR]=ke.year,Ce._dayOfYear=ke.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(Ce){if(Ce._f===hooks.ISO_8601){configFromISO(Ce);return}if(Ce._f===hooks.RFC_2822){configFromRFC2822(Ce);return}Ce._a=[],getParsingFlags(Ce).empty=!0;var Re=""+Ce._i,je,Be,De,Fe,Oe,ke=Re.length,Me=0,Ue,$e;for(De=expandFormat(Ce._f,Ce._locale).match(formattingTokens)||[],$e=De.length,je=0;je<$e;je++)Fe=De[je],Be=(Re.match(getParseRegexForToken(Fe,Ce))||[])[0],Be&&(Oe=Re.substr(0,Re.indexOf(Be)),Oe.length>0&&getParsingFlags(Ce).unusedInput.push(Oe),Re=Re.slice(Re.indexOf(Be)+Be.length),Me+=Be.length),formatTokenFunctions[Fe]?(Be?getParsingFlags(Ce).empty=!1:getParsingFlags(Ce).unusedTokens.push(Fe),addTimeToArrayFromToken(Fe,Be,Ce)):Ce._strict&&!Be&&getParsingFlags(Ce).unusedTokens.push(Fe);getParsingFlags(Ce).charsLeftOver=ke-Me,Re.length>0&&getParsingFlags(Ce).unusedInput.push(Re),Ce._a[HOUR]<=12&&getParsingFlags(Ce).bigHour===!0&&Ce._a[HOUR]>0&&(getParsingFlags(Ce).bigHour=void 0),getParsingFlags(Ce).parsedDateParts=Ce._a.slice(0),getParsingFlags(Ce).meridiem=Ce._meridiem,Ce._a[HOUR]=meridiemFixWrap(Ce._locale,Ce._a[HOUR],Ce._meridiem),Ue=getParsingFlags(Ce).era,Ue!==null&&(Ce._a[YEAR]=Ce._locale.erasConvertYear(Ue,Ce._a[YEAR])),configFromArray(Ce),checkOverflow(Ce)}function meridiemFixWrap(Ce,Re,je){var Be;return je==null?Re:Ce.meridiemHour!=null?Ce.meridiemHour(Re,je):(Ce.isPM!=null&&(Be=Ce.isPM(je),Be&&Re<12&&(Re+=12),!Be&&Re===12&&(Re=0)),Re)}function configFromStringAndArray(Ce){var Re,je,Be,De,Fe,Oe,ke=!1,Me=Ce._f.length;if(Me===0){getParsingFlags(Ce).invalidFormat=!0,Ce._d=new Date(NaN);return}for(De=0;De<Me;De++)Fe=0,Oe=!1,Re=copyConfig({},Ce),Ce._useUTC!=null&&(Re._useUTC=Ce._useUTC),Re._f=Ce._f[De],configFromStringAndFormat(Re),isValid$1(Re)&&(Oe=!0),Fe+=getParsingFlags(Re).charsLeftOver,Fe+=getParsingFlags(Re).unusedTokens.length*10,getParsingFlags(Re).score=Fe,ke?Fe<Be&&(Be=Fe,je=Re):(Be==null||Fe<Be||Oe)&&(Be=Fe,je=Re,Oe&&(ke=!0));extend$1(Ce,je||Re)}function configFromObject(Ce){if(!Ce._d){var Re=normalizeObjectUnits(Ce._i),je=Re.day===void 0?Re.date:Re.day;Ce._a=map$3([Re.year,Re.month,je,Re.hour,Re.minute,Re.second,Re.millisecond],function(Be){return Be&&parseInt(Be,10)}),configFromArray(Ce)}}function createFromConfig(Ce){var Re=new Moment(checkOverflow(prepareConfig(Ce)));return Re._nextDay&&(Re.add(1,"d"),Re._nextDay=void 0),Re}function prepareConfig(Ce){var Re=Ce._i,je=Ce._f;return Ce._locale=Ce._locale||getLocale(Ce._l),Re===null||je===void 0&&Re===""?createInvalid({nullInput:!0}):(typeof Re=="string"&&(Ce._i=Re=Ce._locale.preparse(Re)),isMoment(Re)?new Moment(checkOverflow(Re)):(isDate$1(Re)?Ce._d=Re:isArray$3(je)?configFromStringAndArray(Ce):je?configFromStringAndFormat(Ce):configFromInput(Ce),isValid$1(Ce)||(Ce._d=null),Ce))}function configFromInput(Ce){var Re=Ce._i;isUndefined(Re)?Ce._d=new Date(hooks.now()):isDate$1(Re)?Ce._d=new Date(Re.valueOf()):typeof Re=="string"?configFromString(Ce):isArray$3(Re)?(Ce._a=map$3(Re.slice(0),function(je){return parseInt(je,10)}),configFromArray(Ce)):isObject$4(Re)?configFromObject(Ce):isNumber$2(Re)?Ce._d=new Date(Re):hooks.createFromInputFallback(Ce)}function createLocalOrUTC(Ce,Re,je,Be,De){var Fe={};return(Re===!0||Re===!1)&&(Be=Re,Re=void 0),(je===!0||je===!1)&&(Be=je,je=void 0),(isObject$4(Ce)&&isObjectEmpty$3(Ce)||isArray$3(Ce)&&Ce.length===0)&&(Ce=void 0),Fe._isAMomentObject=!0,Fe._useUTC=Fe._isUTC=De,Fe._l=je,Fe._i=Ce,Fe._f=Re,Fe._strict=Be,createFromConfig(Fe)}function createLocal(Ce,Re,je,Be){return createLocalOrUTC(Ce,Re,je,Be,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Ce=createLocal.apply(null,arguments);return this.isValid()&&Ce.isValid()?Ce<this?this:Ce:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Ce=createLocal.apply(null,arguments);return this.isValid()&&Ce.isValid()?Ce>this?this:Ce:createInvalid()});function pickBy(Ce,Re){var je,Be;if(Re.length===1&&isArray$3(Re[0])&&(Re=Re[0]),!Re.length)return createLocal();for(je=Re[0],Be=1;Be<Re.length;++Be)(!Re[Be].isValid()||Re[Be][Ce](je))&&(je=Re[Be]);return je}function min$2(){var Ce=[].slice.call(arguments,0);return pickBy("isBefore",Ce)}function max$3(){var Ce=[].slice.call(arguments,0);return pickBy("isAfter",Ce)}var now$1=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(Ce){var Re,je=!1,Be,De=ordering.length;for(Re in Ce)if(hasOwnProp(Ce,Re)&&!(indexOf.call(ordering,Re)!==-1&&(Ce[Re]==null||!isNaN(Ce[Re]))))return!1;for(Be=0;Be<De;++Be)if(Ce[ordering[Be]]){if(je)return!1;parseFloat(Ce[ordering[Be]])!==toInt(Ce[ordering[Be]])&&(je=!0)}return!0}function isValid$1$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(Ce){var Re=normalizeObjectUnits(Ce),je=Re.year||0,Be=Re.quarter||0,De=Re.month||0,Fe=Re.week||Re.isoWeek||0,Oe=Re.day||0,ke=Re.hour||0,Me=Re.minute||0,Ue=Re.second||0,$e=Re.millisecond||0;this._isValid=isDurationValid(Re),this._milliseconds=+$e+Ue*1e3+Me*6e4+ke*1e3*60*60,this._days=+Oe+Fe*7,this._months=+De+Be*3+je*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(Ce){return Ce instanceof Duration}function absRound(Ce){return Ce<0?Math.round(-1*Ce)*-1:Math.round(Ce)}function compareArrays(Ce,Re,je){var Be=Math.min(Ce.length,Re.length),De=Math.abs(Ce.length-Re.length),Fe=0,Oe;for(Oe=0;Oe<Be;Oe++)toInt(Ce[Oe])!==toInt(Re[Oe])&&Fe++;return Fe+De}function offset(Ce,Re){addFormatToken(Ce,0,0,function(){var je=this.utcOffset(),Be="+";return je<0&&(je=-je,Be="-"),Be+zeroFill(~~(je/60),2)+Re+zeroFill(~~je%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(Ce,Re,je){je._useUTC=!0,je._tzm=offsetFromString(matchShortOffset,Ce)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(Ce,Re){var je=(Re||"").match(Ce),Be,De,Fe;return je===null?null:(Be=je[je.length-1]||[],De=(Be+"").match(chunkOffset)||["-",0,0],Fe=+(De[1]*60)+toInt(De[2]),Fe===0?0:De[0]==="+"?Fe:-Fe)}function cloneWithOffset(Ce,Re){var je,Be;return Re._isUTC?(je=Re.clone(),Be=(isMoment(Ce)||isDate$1(Ce)?Ce.valueOf():createLocal(Ce).valueOf())-je.valueOf(),je._d.setTime(je._d.valueOf()+Be),hooks.updateOffset(je,!1),je):createLocal(Ce).local()}function getDateOffset(Ce){return-Math.round(Ce._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(Ce,Re,je){var Be=this._offset||0,De;if(!this.isValid())return Ce!=null?this:NaN;if(Ce!=null){if(typeof Ce=="string"){if(Ce=offsetFromString(matchShortOffset,Ce),Ce===null)return this}else Math.abs(Ce)<16&&!je&&(Ce=Ce*60);return!this._isUTC&&Re&&(De=getDateOffset(this)),this._offset=Ce,this._isUTC=!0,De!=null&&this.add(De,"m"),Be!==Ce&&(!Re||this._changeInProgress?addSubtract(this,createDuration(Ce-Be,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?Be:getDateOffset(this)}function getSetZone(Ce,Re){return Ce!=null?(typeof Ce!="string"&&(Ce=-Ce),this.utcOffset(Ce,Re),this):-this.utcOffset()}function setOffsetToUTC(Ce){return this.utcOffset(0,Ce)}function setOffsetToLocal(Ce){return this._isUTC&&(this.utcOffset(0,Ce),this._isUTC=!1,Ce&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var Ce=offsetFromString(matchOffset,this._i);Ce!=null?this.utcOffset(Ce):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(Ce){return this.isValid()?(Ce=Ce?createLocal(Ce).utcOffset():0,(this.utcOffset()-Ce)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var Ce={},Re;return copyConfig(Ce,this),Ce=prepareConfig(Ce),Ce._a?(Re=Ce._isUTC?createUTC(Ce._a):createLocal(Ce._a),this._isDSTShifted=this.isValid()&&compareArrays(Ce._a,Re.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(Ce,Re){var je=Ce,Be=null,De,Fe,Oe;return isDuration(Ce)?je={ms:Ce._milliseconds,d:Ce._days,M:Ce._months}:isNumber$2(Ce)||!isNaN(+Ce)?(je={},Re?je[Re]=+Ce:je.milliseconds=+Ce):(Be=aspNetRegex.exec(Ce))?(De=Be[1]==="-"?-1:1,je={y:0,d:toInt(Be[DATE])*De,h:toInt(Be[HOUR])*De,m:toInt(Be[MINUTE])*De,s:toInt(Be[SECOND])*De,ms:toInt(absRound(Be[MILLISECOND]*1e3))*De}):(Be=isoRegex.exec(Ce))?(De=Be[1]==="-"?-1:1,je={y:parseIso(Be[2],De),M:parseIso(Be[3],De),w:parseIso(Be[4],De),d:parseIso(Be[5],De),h:parseIso(Be[6],De),m:parseIso(Be[7],De),s:parseIso(Be[8],De)}):je==null?je={}:typeof je=="object"&&("from"in je||"to"in je)&&(Oe=momentsDifference(createLocal(je.from),createLocal(je.to)),je={},je.ms=Oe.milliseconds,je.M=Oe.months),Fe=new Duration(je),isDuration(Ce)&&hasOwnProp(Ce,"_locale")&&(Fe._locale=Ce._locale),isDuration(Ce)&&hasOwnProp(Ce,"_isValid")&&(Fe._isValid=Ce._isValid),Fe}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(Ce,Re){var je=Ce&&parseFloat(Ce.replace(",","."));return(isNaN(je)?0:je)*Re}function positiveMomentsDifference(Ce,Re){var je={};return je.months=Re.month()-Ce.month()+(Re.year()-Ce.year())*12,Ce.clone().add(je.months,"M").isAfter(Re)&&--je.months,je.milliseconds=+Re-+Ce.clone().add(je.months,"M"),je}function momentsDifference(Ce,Re){var je;return Ce.isValid()&&Re.isValid()?(Re=cloneWithOffset(Re,Ce),Ce.isBefore(Re)?je=positiveMomentsDifference(Ce,Re):(je=positiveMomentsDifference(Re,Ce),je.milliseconds=-je.milliseconds,je.months=-je.months),je):{milliseconds:0,months:0}}function createAdder(Ce,Re){return function(je,Be){var De,Fe;return Be!==null&&!isNaN(+Be)&&(deprecateSimple(Re,"moment()."+Re+"(period, number) is deprecated. Please use moment()."+Re+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Fe=je,je=Be,Be=Fe),De=createDuration(je,Be),addSubtract(this,De,Ce),this}}function addSubtract(Ce,Re,je,Be){var De=Re._milliseconds,Fe=absRound(Re._days),Oe=absRound(Re._months);Ce.isValid()&&(Be=Be??!0,Oe&&setMonth(Ce,get$3(Ce,"Month")+Oe*je),Fe&&set$1$1(Ce,"Date",get$3(Ce,"Date")+Fe*je),De&&Ce._d.setTime(Ce._d.valueOf()+De*je),Be&&hooks.updateOffset(Ce,Fe||Oe))}var add$1=createAdder(1,"add"),subtract$1=createAdder(-1,"subtract");function isString$1(Ce){return typeof Ce=="string"||Ce instanceof String}function isMomentInput(Ce){return isMoment(Ce)||isDate$1(Ce)||isString$1(Ce)||isNumber$2(Ce)||isNumberOrStringArray(Ce)||isMomentInputObject(Ce)||Ce===null||Ce===void 0}function isMomentInputObject(Ce){var Re=isObject$4(Ce)&&!isObjectEmpty$3(Ce),je=!1,Be=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],De,Fe,Oe=Be.length;for(De=0;De<Oe;De+=1)Fe=Be[De],je=je||hasOwnProp(Ce,Fe);return Re&&je}function isNumberOrStringArray(Ce){var Re=isArray$3(Ce),je=!1;return Re&&(je=Ce.filter(function(Be){return!isNumber$2(Be)&&isString$1(Ce)}).length===0),Re&&je}function isCalendarSpec(Ce){var Re=isObject$4(Ce)&&!isObjectEmpty$3(Ce),je=!1,Be=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],De,Fe;for(De=0;De<Be.length;De+=1)Fe=Be[De],je=je||hasOwnProp(Ce,Fe);return Re&&je}function getCalendarFormat(Ce,Re){var je=Ce.diff(Re,"days",!0);return je<-6?"sameElse":je<-1?"lastWeek":je<0?"lastDay":je<1?"sameDay":je<2?"nextDay":je<7?"nextWeek":"sameElse"}function calendar$1$1(Ce,Re){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(Ce=arguments[0],Re=void 0):isCalendarSpec(arguments[0])&&(Re=arguments[0],Ce=void 0):(Ce=void 0,Re=void 0));var je=Ce||createLocal(),Be=cloneWithOffset(je,this).startOf("day"),De=hooks.calendarFormat(this,Be)||"sameElse",Fe=Re&&(isFunction$1(Re[De])?Re[De].call(this,je):Re[De]);return this.format(Fe||this.localeData().calendar(De,this,createLocal(je)))}function clone$3(){return new Moment(this)}function isAfter(Ce,Re){var je=isMoment(Ce)?Ce:createLocal(Ce);return this.isValid()&&je.isValid()?(Re=normalizeUnits(Re)||"millisecond",Re==="millisecond"?this.valueOf()>je.valueOf():je.valueOf()<this.clone().startOf(Re).valueOf()):!1}function isBefore(Ce,Re){var je=isMoment(Ce)?Ce:createLocal(Ce);return this.isValid()&&je.isValid()?(Re=normalizeUnits(Re)||"millisecond",Re==="millisecond"?this.valueOf()<je.valueOf():this.clone().endOf(Re).valueOf()<je.valueOf()):!1}function isBetween(Ce,Re,je,Be){var De=isMoment(Ce)?Ce:createLocal(Ce),Fe=isMoment(Re)?Re:createLocal(Re);return this.isValid()&&De.isValid()&&Fe.isValid()?(Be=Be||"()",(Be[0]==="("?this.isAfter(De,je):!this.isBefore(De,je))&&(Be[1]===")"?this.isBefore(Fe,je):!this.isAfter(Fe,je))):!1}function isSame(Ce,Re){var je=isMoment(Ce)?Ce:createLocal(Ce),Be;return this.isValid()&&je.isValid()?(Re=normalizeUnits(Re)||"millisecond",Re==="millisecond"?this.valueOf()===je.valueOf():(Be=je.valueOf(),this.clone().startOf(Re).valueOf()<=Be&&Be<=this.clone().endOf(Re).valueOf())):!1}function isSameOrAfter(Ce,Re){return this.isSame(Ce,Re)||this.isAfter(Ce,Re)}function isSameOrBefore(Ce,Re){return this.isSame(Ce,Re)||this.isBefore(Ce,Re)}function diff(Ce,Re,je){var Be,De,Fe;if(!this.isValid())return NaN;if(Be=cloneWithOffset(Ce,this),!Be.isValid())return NaN;switch(De=(Be.utcOffset()-this.utcOffset())*6e4,Re=normalizeUnits(Re),Re){case"year":Fe=monthDiff(this,Be)/12;break;case"month":Fe=monthDiff(this,Be);break;case"quarter":Fe=monthDiff(this,Be)/3;break;case"second":Fe=(this-Be)/1e3;break;case"minute":Fe=(this-Be)/6e4;break;case"hour":Fe=(this-Be)/36e5;break;case"day":Fe=(this-Be-De)/864e5;break;case"week":Fe=(this-Be-De)/6048e5;break;default:Fe=this-Be}return je?Fe:absFloor(Fe)}function monthDiff(Ce,Re){if(Ce.date()<Re.date())return-monthDiff(Re,Ce);var je=(Re.year()-Ce.year())*12+(Re.month()-Ce.month()),Be=Ce.clone().add(je,"months"),De,Fe;return Re-Be<0?(De=Ce.clone().add(je-1,"months"),Fe=(Re-Be)/(Be-De)):(De=Ce.clone().add(je+1,"months"),Fe=(Re-Be)/(De-Be)),-(je+Fe)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString$1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(Ce){if(!this.isValid())return null;var Re=Ce!==!0,je=Re?this.clone().utc():this;return je.year()<0||je.year()>9999?formatMoment(je,Re?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction$1(Date.prototype.toISOString)?Re?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(je,"Z")):formatMoment(je,Re?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var Ce="moment",Re="",je,Be,De,Fe;return this.isLocal()||(Ce=this.utcOffset()===0?"moment.utc":"moment.parseZone",Re="Z"),je="["+Ce+'("]',Be=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",De="-MM-DD[T]HH:mm:ss.SSS",Fe=Re+'[")]',this.format(je+Be+De+Fe)}function format$2(Ce){Ce||(Ce=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var Re=formatMoment(this,Ce);return this.localeData().postformat(Re)}function from$3(Ce,Re){return this.isValid()&&(isMoment(Ce)&&Ce.isValid()||createLocal(Ce).isValid())?createDuration({to:this,from:Ce}).locale(this.locale()).humanize(!Re):this.localeData().invalidDate()}function fromNow(Ce){return this.from(createLocal(),Ce)}function to$2(Ce,Re){return this.isValid()&&(isMoment(Ce)&&Ce.isValid()||createLocal(Ce).isValid())?createDuration({from:this,to:Ce}).locale(this.locale()).humanize(!Re):this.localeData().invalidDate()}function toNow(Ce){return this.to(createLocal(),Ce)}function locale$2(Ce){var Re;return Ce===void 0?this._locale._abbr:(Re=getLocale(Ce),Re!=null&&(this._locale=Re),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(Ce){return Ce===void 0?this.localeData():this.locale(Ce)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(Ce,Re){return(Ce%Re+Re)%Re}function localStartOfDate(Ce,Re,je){return Ce<100&&Ce>=0?new Date(Ce+400,Re,je)-MS_PER_400_YEARS:new Date(Ce,Re,je).valueOf()}function utcStartOfDate(Ce,Re,je){return Ce<100&&Ce>=0?Date.UTC(Ce+400,Re,je)-MS_PER_400_YEARS:Date.UTC(Ce,Re,je)}function startOf(Ce){var Re,je;if(Ce=normalizeUnits(Ce),Ce===void 0||Ce==="millisecond"||!this.isValid())return this;switch(je=this._isUTC?utcStartOfDate:localStartOfDate,Ce){case"year":Re=je(this.year(),0,1);break;case"quarter":Re=je(this.year(),this.month()-this.month()%3,1);break;case"month":Re=je(this.year(),this.month(),1);break;case"week":Re=je(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":Re=je(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":Re=je(this.year(),this.month(),this.date());break;case"hour":Re=this._d.valueOf(),Re-=mod$1(Re+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":Re=this._d.valueOf(),Re-=mod$1(Re,MS_PER_MINUTE);break;case"second":Re=this._d.valueOf(),Re-=mod$1(Re,MS_PER_SECOND);break}return this._d.setTime(Re),hooks.updateOffset(this,!0),this}function endOf(Ce){var Re,je;if(Ce=normalizeUnits(Ce),Ce===void 0||Ce==="millisecond"||!this.isValid())return this;switch(je=this._isUTC?utcStartOfDate:localStartOfDate,Ce){case"year":Re=je(this.year()+1,0,1)-1;break;case"quarter":Re=je(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":Re=je(this.year(),this.month()+1,1)-1;break;case"week":Re=je(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":Re=je(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":Re=je(this.year(),this.month(),this.date()+1)-1;break;case"hour":Re=this._d.valueOf(),Re+=MS_PER_HOUR-mod$1(Re+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":Re=this._d.valueOf(),Re+=MS_PER_MINUTE-mod$1(Re,MS_PER_MINUTE)-1;break;case"second":Re=this._d.valueOf(),Re+=MS_PER_SECOND-mod$1(Re,MS_PER_SECOND)-1;break}return this._d.setTime(Re),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate$1(){return new Date(this.valueOf())}function toArray$2(){var Ce=this;return[Ce.year(),Ce.month(),Ce.date(),Ce.hour(),Ce.minute(),Ce.second(),Ce.millisecond()]}function toObject(){var Ce=this;return{years:Ce.year(),months:Ce.month(),date:Ce.date(),hours:Ce.hours(),minutes:Ce.minutes(),seconds:Ce.seconds(),milliseconds:Ce.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid$1(this)}function parsingFlags(){return extend$1({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(Ce,Re,je,Be){var De=je._locale.erasParse(Ce,Be,je._strict);De?getParsingFlags(je).era=De:getParsingFlags(je).invalidEra=Ce});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(Ce,Re,je,Be){var De;je._locale._eraYearOrdinalRegex&&(De=Ce.match(je._locale._eraYearOrdinalRegex)),je._locale.eraYearOrdinalParse?Re[YEAR]=je._locale.eraYearOrdinalParse(Ce,De):Re[YEAR]=parseInt(Ce,10)});function localeEras(Ce,Re){var je,Be,De,Fe=this._eras||getLocale("en")._eras;for(je=0,Be=Fe.length;je<Be;++je){switch(typeof Fe[je].since){case"string":De=hooks(Fe[je].since).startOf("day"),Fe[je].since=De.valueOf();break}switch(typeof Fe[je].until){case"undefined":Fe[je].until=1/0;break;case"string":De=hooks(Fe[je].until).startOf("day").valueOf(),Fe[je].until=De.valueOf();break}}return Fe}function localeErasParse(Ce,Re,je){var Be,De,Fe=this.eras(),Oe,ke,Me;for(Ce=Ce.toUpperCase(),Be=0,De=Fe.length;Be<De;++Be)if(Oe=Fe[Be].name.toUpperCase(),ke=Fe[Be].abbr.toUpperCase(),Me=Fe[Be].narrow.toUpperCase(),je)switch(Re){case"N":case"NN":case"NNN":if(ke===Ce)return Fe[Be];break;case"NNNN":if(Oe===Ce)return Fe[Be];break;case"NNNNN":if(Me===Ce)return Fe[Be];break}else if([Oe,ke,Me].indexOf(Ce)>=0)return Fe[Be]}function localeErasConvertYear(Ce,Re){var je=Ce.since<=Ce.until?1:-1;return Re===void 0?hooks(Ce.since).year():hooks(Ce.since).year()+(Re-Ce.offset)*je}function getEraName(){var Ce,Re,je,Be=this.localeData().eras();for(Ce=0,Re=Be.length;Ce<Re;++Ce)if(je=this.clone().startOf("day").valueOf(),Be[Ce].since<=je&&je<=Be[Ce].until||Be[Ce].until<=je&&je<=Be[Ce].since)return Be[Ce].name;return""}function getEraNarrow(){var Ce,Re,je,Be=this.localeData().eras();for(Ce=0,Re=Be.length;Ce<Re;++Ce)if(je=this.clone().startOf("day").valueOf(),Be[Ce].since<=je&&je<=Be[Ce].until||Be[Ce].until<=je&&je<=Be[Ce].since)return Be[Ce].narrow;return""}function getEraAbbr(){var Ce,Re,je,Be=this.localeData().eras();for(Ce=0,Re=Be.length;Ce<Re;++Ce)if(je=this.clone().startOf("day").valueOf(),Be[Ce].since<=je&&je<=Be[Ce].until||Be[Ce].until<=je&&je<=Be[Ce].since)return Be[Ce].abbr;return""}function getEraYear(){var Ce,Re,je,Be,De=this.localeData().eras();for(Ce=0,Re=De.length;Ce<Re;++Ce)if(je=De[Ce].since<=De[Ce].until?1:-1,Be=this.clone().startOf("day").valueOf(),De[Ce].since<=Be&&Be<=De[Ce].until||De[Ce].until<=Be&&Be<=De[Ce].since)return(this.year()-hooks(De[Ce].since).year())*je+De[Ce].offset;return this.year()}function erasNameRegex(Ce){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),Ce?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(Ce){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),Ce?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(Ce){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),Ce?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(Ce,Re){return Re.erasAbbrRegex(Ce)}function matchEraName(Ce,Re){return Re.erasNameRegex(Ce)}function matchEraNarrow(Ce,Re){return Re.erasNarrowRegex(Ce)}function matchEraYearOrdinal(Ce,Re){return Re._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var Ce=[],Re=[],je=[],Be=[],De,Fe,Oe,ke,Me,Ue=this.eras();for(De=0,Fe=Ue.length;De<Fe;++De)Oe=regexEscape(Ue[De].name),ke=regexEscape(Ue[De].abbr),Me=regexEscape(Ue[De].narrow),Re.push(Oe),Ce.push(ke),je.push(Me),Be.push(Oe),Be.push(ke),Be.push(Me);this._erasRegex=new RegExp("^("+Be.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+Re.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+Ce.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+je.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(Ce,Re){addFormatToken(0,[Ce,Ce.length],0,Re)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(Ce,Re,je,Be){Re[Be.substr(0,2)]=toInt(Ce)});addWeekParseToken(["gg","GG"],function(Ce,Re,je,Be){Re[Be]=hooks.parseTwoDigitYear(Ce)});function getSetWeekYear(Ce){return getSetWeekYearHelper.call(this,Ce,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(Ce){return getSetWeekYearHelper.call(this,Ce,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var Ce=this.localeData()._week;return weeksInYear(this.year(),Ce.dow,Ce.doy)}function getWeeksInWeekYear(){var Ce=this.localeData()._week;return weeksInYear(this.weekYear(),Ce.dow,Ce.doy)}function getSetWeekYearHelper(Ce,Re,je,Be,De){var Fe;return Ce==null?weekOfYear(this,Be,De).year:(Fe=weeksInYear(Ce,Be,De),Re>Fe&&(Re=Fe),setWeekAll.call(this,Ce,Re,je,Be,De))}function setWeekAll(Ce,Re,je,Be,De){var Fe=dayOfYearFromWeeks(Ce,Re,je,Be,De),Oe=createUTCDate(Fe.year,0,Fe.dayOfYear);return this.year(Oe.getUTCFullYear()),this.month(Oe.getUTCMonth()),this.date(Oe.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addRegexToken("Q",match1);addParseToken("Q",function(Ce,Re){Re[MONTH]=(toInt(Ce)-1)*3});function getSetQuarter(Ce){return Ce==null?Math.ceil((this.month()+1)/3):this.month((Ce-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addRegexToken("D",match1to2,match1to2NoLeadingZero);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(Ce,Re){return Ce?Re._dayOfMonthOrdinalParse||Re._ordinalParse:Re._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(Ce,Re){Re[DATE]=toInt(Ce.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(Ce,Re,je){je._dayOfYear=toInt(Ce)});function getSetDayOfYear(Ce){var Re=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return Ce==null?Re:this.add(Ce-Re,"d")}addFormatToken("m",["mm",2],0,"minute");addRegexToken("m",match1to2,match1to2HasZero);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addRegexToken("s",match1to2,match1to2HasZero);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token$1,getSetMillisecond;for(token$1="SSSS";token$1.length<=9;token$1+="S")addRegexToken(token$1,matchUnsigned);function parseMs(Ce,Re){Re[MILLISECOND]=toInt(("0."+Ce)*1e3)}for(token$1="S";token$1.length<=9;token$1+="S")addParseToken(token$1,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto=Moment.prototype;proto.add=add$1;proto.calendar=calendar$1$1;proto.clone=clone$3;proto.diff=diff;proto.endOf=endOf;proto.format=format$2;proto.from=from$3;proto.fromNow=fromNow;proto.to=to$2;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale$2;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract$1;proto.toArray=toArray$2;proto.toObject=toObject;proto.toDate=toDate$1;proto.toISOString=toISOString;proto.inspect=inspect;typeof Symbol<"u"&&Symbol.for!=null&&(proto[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto.toJSON=toJSON;proto.toString=toString$1;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.eraName=getEraName;proto.eraNarrow=getEraNarrow;proto.eraAbbr=getEraAbbr;proto.eraYear=getEraYear;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.weeksInWeekYear=getWeeksInWeekYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(Ce){return createLocal(Ce*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(Ce){return Ce}var proto$1=Locale.prototype;proto$1.calendar=calendar$1;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal$1;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set$2;proto$1.eras=localeEras;proto$1.erasParse=localeErasParse;proto$1.erasConvertYear=localeErasConvertYear;proto$1.erasAbbrRegex=erasAbbrRegex;proto$1.erasNameRegex=erasNameRegex;proto$1.erasNarrowRegex=erasNarrowRegex;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1$1(Ce,Re,je,Be){var De=getLocale(),Fe=createUTC().set(Be,Re);return De[je](Fe,Ce)}function listMonthsImpl(Ce,Re,je){if(isNumber$2(Ce)&&(Re=Ce,Ce=void 0),Ce=Ce||"",Re!=null)return get$1$1(Ce,Re,je,"month");var Be,De=[];for(Be=0;Be<12;Be++)De[Be]=get$1$1(Ce,Be,je,"month");return De}function listWeekdaysImpl(Ce,Re,je,Be){typeof Ce=="boolean"?(isNumber$2(Re)&&(je=Re,Re=void 0),Re=Re||""):(Re=Ce,je=Re,Ce=!1,isNumber$2(Re)&&(je=Re,Re=void 0),Re=Re||"");var De=getLocale(),Fe=Ce?De._week.dow:0,Oe,ke=[];if(je!=null)return get$1$1(Re,(je+Fe)%7,Be,"day");for(Oe=0;Oe<7;Oe++)ke[Oe]=get$1$1(Re,(Oe+Fe)%7,Be,"day");return ke}function listMonths(Ce,Re){return listMonthsImpl(Ce,Re,"months")}function listMonthsShort(Ce,Re){return listMonthsImpl(Ce,Re,"monthsShort")}function listWeekdays(Ce,Re,je){return listWeekdaysImpl(Ce,Re,je,"weekdays")}function listWeekdaysShort(Ce,Re,je){return listWeekdaysImpl(Ce,Re,je,"weekdaysShort")}function listWeekdaysMin(Ce,Re,je){return listWeekdaysImpl(Ce,Re,je,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(Ce){var Re=Ce%10,je=toInt(Ce%100/10)===1?"th":Re===1?"st":Re===2?"nd":Re===3?"rd":"th";return Ce+je}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs$1(){var Ce=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),Ce.milliseconds=mathAbs(Ce.milliseconds),Ce.seconds=mathAbs(Ce.seconds),Ce.minutes=mathAbs(Ce.minutes),Ce.hours=mathAbs(Ce.hours),Ce.months=mathAbs(Ce.months),Ce.years=mathAbs(Ce.years),this}function addSubtract$1(Ce,Re,je,Be){var De=createDuration(Re,je);return Ce._milliseconds+=Be*De._milliseconds,Ce._days+=Be*De._days,Ce._months+=Be*De._months,Ce._bubble()}function add$1$1(Ce,Re){return addSubtract$1(this,Ce,Re,1)}function subtract$1$1(Ce,Re){return addSubtract$1(this,Ce,Re,-1)}function absCeil(Ce){return Ce<0?Math.floor(Ce):Math.ceil(Ce)}function bubble(){var Ce=this._milliseconds,Re=this._days,je=this._months,Be=this._data,De,Fe,Oe,ke,Me;return Ce>=0&&Re>=0&&je>=0||Ce<=0&&Re<=0&&je<=0||(Ce+=absCeil(monthsToDays(je)+Re)*864e5,Re=0,je=0),Be.milliseconds=Ce%1e3,De=absFloor(Ce/1e3),Be.seconds=De%60,Fe=absFloor(De/60),Be.minutes=Fe%60,Oe=absFloor(Fe/60),Be.hours=Oe%24,Re+=absFloor(Oe/24),Me=absFloor(daysToMonths(Re)),je+=Me,Re-=absCeil(monthsToDays(Me)),ke=absFloor(je/12),je%=12,Be.days=Re,Be.months=je,Be.years=ke,this}function daysToMonths(Ce){return Ce*4800/146097}function monthsToDays(Ce){return Ce*146097/4800}function as(Ce){if(!this.isValid())return NaN;var Re,je,Be=this._milliseconds;if(Ce=normalizeUnits(Ce),Ce==="month"||Ce==="quarter"||Ce==="year")switch(Re=this._days+Be/864e5,je=this._months+daysToMonths(Re),Ce){case"month":return je;case"quarter":return je/3;case"year":return je/12}else switch(Re=this._days+Math.round(monthsToDays(this._months)),Ce){case"week":return Re/7+Be/6048e5;case"day":return Re+Be/864e5;case"hour":return Re*24+Be/36e5;case"minute":return Re*1440+Be/6e4;case"second":return Re*86400+Be/1e3;case"millisecond":return Math.floor(Re*864e5)+Be;default:throw new Error("Unknown unit "+Ce)}}function makeAs(Ce){return function(){return this.as(Ce)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y"),valueOf$1=asMilliseconds;function clone$1$1(){return createDuration(this)}function get$2$1(Ce){return Ce=normalizeUnits(Ce),this.isValid()?this[Ce+"s"]():NaN}function makeGetter(Ce){return function(){return this.isValid()?this._data[Ce]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days$1=makeGetter("days"),months$1=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round$4=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(Ce,Re,je,Be,De){return De.relativeTime(Re||1,!!je,Ce,Be)}function relativeTime$1(Ce,Re,je,Be){var De=createDuration(Ce).abs(),Fe=round$4(De.as("s")),Oe=round$4(De.as("m")),ke=round$4(De.as("h")),Me=round$4(De.as("d")),Ue=round$4(De.as("M")),$e=round$4(De.as("w")),He=round$4(De.as("y")),Qe=Fe<=je.ss&&["s",Fe]||Fe<je.s&&["ss",Fe]||Oe<=1&&["m"]||Oe<je.m&&["mm",Oe]||ke<=1&&["h"]||ke<je.h&&["hh",ke]||Me<=1&&["d"]||Me<je.d&&["dd",Me];return je.w!=null&&(Qe=Qe||$e<=1&&["w"]||$e<je.w&&["ww",$e]),Qe=Qe||Ue<=1&&["M"]||Ue<je.M&&["MM",Ue]||He<=1&&["y"]||["yy",He],Qe[2]=Re,Qe[3]=+Ce>0,Qe[4]=Be,substituteTimeAgo.apply(null,Qe)}function getSetRelativeTimeRounding(Ce){return Ce===void 0?round$4:typeof Ce=="function"?(round$4=Ce,!0):!1}function getSetRelativeTimeThreshold(Ce,Re){return thresholds[Ce]===void 0?!1:Re===void 0?thresholds[Ce]:(thresholds[Ce]=Re,Ce==="s"&&(thresholds.ss=Re-1),!0)}function humanize(Ce,Re){if(!this.isValid())return this.localeData().invalidDate();var je=!1,Be=thresholds,De,Fe;return typeof Ce=="object"&&(Re=Ce,Ce=!1),typeof Ce=="boolean"&&(je=Ce),typeof Re=="object"&&(Be=Object.assign({},thresholds,Re),Re.s!=null&&Re.ss==null&&(Be.ss=Re.s-1)),De=this.localeData(),Fe=relativeTime$1(this,!je,Be,De),je&&(Fe=De.pastFuture(+this,Fe)),De.postformat(Fe)}var abs$1$1=Math.abs;function sign$2(Ce){return(Ce>0)-(Ce<0)||+Ce}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var Ce=abs$1$1(this._milliseconds)/1e3,Re=abs$1$1(this._days),je=abs$1$1(this._months),Be,De,Fe,Oe,ke=this.asSeconds(),Me,Ue,$e,He;return ke?(Be=absFloor(Ce/60),De=absFloor(Be/60),Ce%=60,Be%=60,Fe=absFloor(je/12),je%=12,Oe=Ce?Ce.toFixed(3).replace(/\.?0+$/,""):"",Me=ke<0?"-":"",Ue=sign$2(this._months)!==sign$2(ke)?"-":"",$e=sign$2(this._days)!==sign$2(ke)?"-":"",He=sign$2(this._milliseconds)!==sign$2(ke)?"-":"",Me+"P"+(Fe?Ue+Fe+"Y":"")+(je?Ue+je+"M":"")+(Re?$e+Re+"D":"")+(De||Be||Ce?"T":"")+(De?He+De+"H":"")+(Be?He+Be+"M":"")+(Ce?He+Oe+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1$1;proto$2.abs=abs$1;proto$2.add=add$1$1;proto$2.subtract=subtract$1$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1$1;proto$2.get=get$2$1;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days$1;proto$2.weeks=weeks;proto$2.months=months$1;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale$2;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(Ce,Re,je){je._d=new Date(parseFloat(Ce)*1e3)});addParseToken("x",function(Ce,Re,je){je._d=new Date(toInt(Ce))});//! moment.js
hooks.version="2.30.1";setHookCallback(createLocal);hooks.fn=proto;hooks.min=min$2;hooks.max=max$3;hooks.now=now$1;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate$1;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(Ce){const Re=[];let je=0;for(let Be=0;Be<Ce.length;Be++){let De=Ce.charCodeAt(Be);De<128?Re[je++]=De:De<2048?(Re[je++]=De>>6|192,Re[je++]=De&63|128):(De&64512)===55296&&Be+1<Ce.length&&(Ce.charCodeAt(Be+1)&64512)===56320?(De=65536+((De&1023)<<10)+(Ce.charCodeAt(++Be)&1023),Re[je++]=De>>18|240,Re[je++]=De>>12&63|128,Re[je++]=De>>6&63|128,Re[je++]=De&63|128):(Re[je++]=De>>12|224,Re[je++]=De>>6&63|128,Re[je++]=De&63|128)}return Re},byteArrayToString=function(Ce){const Re=[];let je=0,Be=0;for(;je<Ce.length;){const De=Ce[je++];if(De<128)Re[Be++]=String.fromCharCode(De);else if(De>191&&De<224){const Fe=Ce[je++];Re[Be++]=String.fromCharCode((De&31)<<6|Fe&63)}else if(De>239&&De<365){const Fe=Ce[je++],Oe=Ce[je++],ke=Ce[je++],Me=((De&7)<<18|(Fe&63)<<12|(Oe&63)<<6|ke&63)-65536;Re[Be++]=String.fromCharCode(55296+(Me>>10)),Re[Be++]=String.fromCharCode(56320+(Me&1023))}else{const Fe=Ce[je++],Oe=Ce[je++];Re[Be++]=String.fromCharCode((De&15)<<12|(Fe&63)<<6|Oe&63)}}return Re.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(Ce,Re){if(!Array.isArray(Ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const je=Re?this.byteToCharMapWebSafe_:this.byteToCharMap_,Be=[];for(let De=0;De<Ce.length;De+=3){const Fe=Ce[De],Oe=De+1<Ce.length,ke=Oe?Ce[De+1]:0,Me=De+2<Ce.length,Ue=Me?Ce[De+2]:0,$e=Fe>>2,He=(Fe&3)<<4|ke>>4;let Qe=(ke&15)<<2|Ue>>6,We=Ue&63;Me||(We=64,Oe||(Qe=64)),Be.push(je[$e],je[He],je[Qe],je[We])}return Be.join("")},encodeString(Ce,Re){return this.HAS_NATIVE_SUPPORT&&!Re?btoa(Ce):this.encodeByteArray(stringToByteArray$1(Ce),Re)},decodeString(Ce,Re){return this.HAS_NATIVE_SUPPORT&&!Re?atob(Ce):byteArrayToString(this.decodeStringToByteArray(Ce,Re))},decodeStringToByteArray(Ce,Re){this.init_();const je=Re?this.charToByteMapWebSafe_:this.charToByteMap_,Be=[];for(let De=0;De<Ce.length;){const Fe=je[Ce.charAt(De++)],ke=De<Ce.length?je[Ce.charAt(De)]:0;++De;const Ue=De<Ce.length?je[Ce.charAt(De)]:64;++De;const He=De<Ce.length?je[Ce.charAt(De)]:64;if(++De,Fe==null||ke==null||Ue==null||He==null)throw new DecodeBase64StringError;const Qe=Fe<<2|ke>>4;if(Be.push(Qe),Ue!==64){const We=ke<<4&240|Ue>>2;if(Be.push(We),He!==64){const qe=Ue<<6&192|He;Be.push(qe)}}}return Be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ce=0;Ce<this.ENCODED_VALS.length;Ce++)this.byteToCharMap_[Ce]=this.ENCODED_VALS.charAt(Ce),this.charToByteMap_[this.byteToCharMap_[Ce]]=Ce,this.byteToCharMapWebSafe_[Ce]=this.ENCODED_VALS_WEBSAFE.charAt(Ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ce]]=Ce,Ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ce)]=Ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ce)]=Ce)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(Ce){const Re=stringToByteArray$1(Ce);return base64.encodeByteArray(Re,!0)},base64urlEncodeWithoutPadding=function(Ce){return base64Encode(Ce).replace(/\./g,"")},base64Decode=function(Ce){try{return base64.decodeString(Ce,!0)}catch(Re){console.error("base64Decode failed: ",Re)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const Ce=define_process_env_default.__FIREBASE_DEFAULTS__;if(Ce)return JSON.parse(Ce)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let Ce;try{Ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Re=Ce&&base64Decode(Ce[1]);return Re&&JSON.parse(Re)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(Ce){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ce}`);return}},getDefaultEmulatorHost=Ce=>{var Re,je;return(je=(Re=getDefaults())===null||Re===void 0?void 0:Re.emulatorHosts)===null||je===void 0?void 0:je[Ce]},getDefaultEmulatorHostnameAndPort=Ce=>{const Re=getDefaultEmulatorHost(Ce);if(!Re)return;const je=Re.lastIndexOf(":");if(je<=0||je+1===Re.length)throw new Error(`Invalid host ${Re} with no separate hostname and port!`);const Be=parseInt(Re.substring(je+1),10);return Re[0]==="["?[Re.substring(1,je-1),Be]:[Re.substring(0,je),Be]},getDefaultAppConfig=()=>{var Ce;return(Ce=getDefaults())===null||Ce===void 0?void 0:Ce.config},getExperimentalSetting=Ce=>{var Re;return(Re=getDefaults())===null||Re===void 0?void 0:Re[`_${Ce}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Re,je)=>{this.resolve=Re,this.reject=je})}wrapCallback(Re){return(je,Be)=>{je?this.reject(je):this.resolve(Be),typeof Re=="function"&&(this.promise.catch(()=>{}),Re.length===1?Re(je):Re(je,Be))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(Ce,Re){if(Ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const je={alg:"none",type:"JWT"},Be=Re||"demo-project",De=Ce.iat||0,Fe=Ce.sub||Ce.user_id;if(!Fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Oe=Object.assign({iss:`https://securetoken.google.com/${Be}`,aud:Be,iat:De,exp:De+3600,auth_time:De,sub:Fe,user_id:Fe,firebase:{sign_in_provider:"custom",identities:{}}},Ce);return[base64urlEncodeWithoutPadding(JSON.stringify(je)),base64urlEncodeWithoutPadding(JSON.stringify(Oe)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode$1(){var Ce;const Re=(Ce=getDefaults())===null||Ce===void 0?void 0:Ce.forceEnvironment;if(Re==="node")return!0;if(Re==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isBrowserExtension(){const Ce=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof Ce=="object"&&Ce.id!==void 0}function isReactNative$1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const Ce=getUA();return Ce.indexOf("MSIE ")>=0||Ce.indexOf("Trident/")>=0}function isSafari(){return!isNode$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((Ce,Re)=>{try{let je=!0;const Be="validate-browser-context-for-indexeddb-analytics-module",De=self.indexedDB.open(Be);De.onsuccess=()=>{De.result.close(),je||self.indexedDB.deleteDatabase(Be),Ce(!0)},De.onupgradeneeded=()=>{je=!1},De.onerror=()=>{var Fe;Re(((Fe=De.error)===null||Fe===void 0?void 0:Fe.message)||"")}}catch(je){Re(je)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(Re,je,Be){super(je),this.code=Re,this.customData=Be,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(Re,je,Be){this.service=Re,this.serviceName=je,this.errors=Be}create(Re,...je){const Be=je[0]||{},De=`${this.service}/${Re}`,Fe=this.errors[Re],Oe=Fe?replaceTemplate(Fe,Be):"Error",ke=`${this.serviceName}: ${Oe} (${De}).`;return new FirebaseError(De,ke,Be)}}function replaceTemplate(Ce,Re){return Ce.replace(PATTERN,(je,Be)=>{const De=Re[Be];return De!=null?String(De):`<${Be}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$4(Ce){for(const Re in Ce)if(Object.prototype.hasOwnProperty.call(Ce,Re))return!1;return!0}function deepEqual(Ce,Re){if(Ce===Re)return!0;const je=Object.keys(Ce),Be=Object.keys(Re);for(const De of je){if(!Be.includes(De))return!1;const Fe=Ce[De],Oe=Re[De];if(isObject$3(Fe)&&isObject$3(Oe)){if(!deepEqual(Fe,Oe))return!1}else if(Fe!==Oe)return!1}for(const De of Be)if(!je.includes(De))return!1;return!0}function isObject$3(Ce){return Ce!==null&&typeof Ce=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(Ce){const Re=[];for(const[je,Be]of Object.entries(Ce))Array.isArray(Be)?Be.forEach(De=>{Re.push(encodeURIComponent(je)+"="+encodeURIComponent(De))}):Re.push(encodeURIComponent(je)+"="+encodeURIComponent(Be));return Re.length?"&"+Re.join("&"):""}function querystringDecode(Ce){const Re={};return Ce.replace(/^\?/,"").split("&").forEach(Be=>{if(Be){const[De,Fe]=Be.split("=");Re[decodeURIComponent(De)]=decodeURIComponent(Fe)}}),Re}function extractQuerystring(Ce){const Re=Ce.indexOf("?");if(!Re)return"";const je=Ce.indexOf("#",Re);return Ce.substring(Re,je>0?je:void 0)}function createSubscribe(Ce,Re){const je=new ObserverProxy(Ce,Re);return je.subscribe.bind(je)}class ObserverProxy{constructor(Re,je){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=je,this.task.then(()=>{Re(this)}).catch(Be=>{this.error(Be)})}next(Re){this.forEachObserver(je=>{je.next(Re)})}error(Re){this.forEachObserver(je=>{je.error(Re)}),this.close(Re)}complete(){this.forEachObserver(Re=>{Re.complete()}),this.close()}subscribe(Re,je,Be){let De;if(Re===void 0&&je===void 0&&Be===void 0)throw new Error("Missing Observer.");implementsAnyMethods(Re,["next","error","complete"])?De=Re:De={next:Re,error:je,complete:Be},De.next===void 0&&(De.next=noop$c),De.error===void 0&&(De.error=noop$c),De.complete===void 0&&(De.complete=noop$c);const Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?De.error(this.finalError):De.complete()}catch{}}),this.observers.push(De),Fe}unsubscribeOne(Re){this.observers===void 0||this.observers[Re]===void 0||(delete this.observers[Re],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(Re){if(!this.finalized)for(let je=0;je<this.observers.length;je++)this.sendOne(je,Re)}sendOne(Re,je){this.task.then(()=>{if(this.observers!==void 0&&this.observers[Re]!==void 0)try{je(this.observers[Re])}catch(Be){typeof console<"u"&&console.error&&console.error(Be)}})}close(Re){this.finalized||(this.finalized=!0,Re!==void 0&&(this.finalError=Re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(Ce,Re){if(typeof Ce!="object"||Ce===null)return!1;for(const je of Re)if(je in Ce&&typeof Ce[je]=="function")return!0;return!1}function noop$c(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,Ce=>{const Re=Math.random()*16|0;return(Ce==="x"?Re:Re&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=14400*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis(Ce,Re=DEFAULT_INTERVAL_MILLIS,je=DEFAULT_BACKOFF_FACTOR){const Be=Re*Math.pow(je,Ce),De=Math.round(RANDOM_FACTOR*Be*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,Be+De)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(Ce){return Ce&&Ce._delegate?Ce._delegate:Ce}class Component{constructor(Re,je,Be){this.name=Re,this.instanceFactory=je,this.type=Be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Re){return this.instantiationMode=Re,this}setMultipleInstances(Re){return this.multipleInstances=Re,this}setServiceProps(Re){return this.serviceProps=Re,this}setInstanceCreatedCallback(Re){return this.onInstanceCreated=Re,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Provider$1=class{constructor(Re,je){this.name=Re,this.container=je,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Re){const je=this.normalizeInstanceIdentifier(Re);if(!this.instancesDeferred.has(je)){const Be=new Deferred;if(this.instancesDeferred.set(je,Be),this.isInitialized(je)||this.shouldAutoInitialize())try{const De=this.getOrInitializeService({instanceIdentifier:je});De&&Be.resolve(De)}catch{}}return this.instancesDeferred.get(je).promise}getImmediate(Re){var je;const Be=this.normalizeInstanceIdentifier(Re?.identifier),De=(je=Re?.optional)!==null&&je!==void 0?je:!1;if(this.isInitialized(Be)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:Be})}catch(Fe){if(De)return null;throw Fe}else{if(De)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(Re){if(Re.name!==this.name)throw Error(`Mismatching Component ${Re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Re,!!this.shouldAutoInitialize()){if(isComponentEager(Re))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[je,Be]of this.instancesDeferred.entries()){const De=this.normalizeInstanceIdentifier(je);try{const Fe=this.getOrInitializeService({instanceIdentifier:De});Be.resolve(Fe)}catch{}}}}clearInstance(Re=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(Re),this.instancesOptions.delete(Re),this.instances.delete(Re)}async delete(){const Re=Array.from(this.instances.values());await Promise.all([...Re.filter(je=>"INTERNAL"in je).map(je=>je.INTERNAL.delete()),...Re.filter(je=>"_delete"in je).map(je=>je._delete())])}isComponentSet(){return this.component!=null}isInitialized(Re=DEFAULT_ENTRY_NAME$1){return this.instances.has(Re)}getOptions(Re=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(Re)||{}}initialize(Re={}){const{options:je={}}=Re,Be=this.normalizeInstanceIdentifier(Re.instanceIdentifier);if(this.isInitialized(Be))throw Error(`${this.name}(${Be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const De=this.getOrInitializeService({instanceIdentifier:Be,options:je});for(const[Fe,Oe]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(Fe);Be===ke&&Oe.resolve(De)}return De}onInit(Re,je){var Be;const De=this.normalizeInstanceIdentifier(je),Fe=(Be=this.onInitCallbacks.get(De))!==null&&Be!==void 0?Be:new Set;Fe.add(Re),this.onInitCallbacks.set(De,Fe);const Oe=this.instances.get(De);return Oe&&Re(Oe,De),()=>{Fe.delete(Re)}}invokeOnInitCallbacks(Re,je){const Be=this.onInitCallbacks.get(je);if(Be)for(const De of Be)try{De(Re,je)}catch{}}getOrInitializeService({instanceIdentifier:Re,options:je={}}){let Be=this.instances.get(Re);if(!Be&&this.component&&(Be=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(Re),options:je}),this.instances.set(Re,Be),this.instancesOptions.set(Re,je),this.invokeOnInitCallbacks(Be,Re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Re,Be)}catch{}return Be||null}normalizeInstanceIdentifier(Re=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?Re:DEFAULT_ENTRY_NAME$1:Re}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function normalizeIdentifierForFactory(Ce){return Ce===DEFAULT_ENTRY_NAME$1?void 0:Ce}function isComponentEager(Ce){return Ce.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(Re){this.name=Re,this.providers=new Map}addComponent(Re){const je=this.getProvider(Re.name);if(je.isComponentSet())throw new Error(`Component ${Re.name} has already been registered with ${this.name}`);je.setComponent(Re)}addOrOverwriteComponent(Re){this.getProvider(Re.name).isComponentSet()&&this.providers.delete(Re.name),this.addComponent(Re)}getProvider(Re){if(this.providers.has(Re))return this.providers.get(Re);const je=new Provider$1(Re,this);return this.providers.set(Re,je),je}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(Ce){Ce[Ce.DEBUG=0]="DEBUG",Ce[Ce.VERBOSE=1]="VERBOSE",Ce[Ce.INFO=2]="INFO",Ce[Ce.WARN=3]="WARN",Ce[Ce.ERROR=4]="ERROR",Ce[Ce.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(Ce,Re,...je)=>{if(Re<Ce.logLevel)return;const Be=new Date().toISOString(),De=ConsoleMethod[Re];if(De)console[De](`[${Be}]  ${Ce.name}:`,...je);else throw new Error(`Attempted to log a message with an invalid logType (value: ${Re})`)};class Logger{constructor(Re){this.name=Re,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(Re){if(!(Re in LogLevel))throw new TypeError(`Invalid value "${Re}" assigned to \`logLevel\``);this._logLevel=Re}setLogLevel(Re){this._logLevel=typeof Re=="string"?levelStringToEnum[Re]:Re}get logHandler(){return this._logHandler}set logHandler(Re){if(typeof Re!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Re}get userLogHandler(){return this._userLogHandler}set userLogHandler(Re){this._userLogHandler=Re}debug(...Re){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...Re),this._logHandler(this,LogLevel.DEBUG,...Re)}log(...Re){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...Re),this._logHandler(this,LogLevel.VERBOSE,...Re)}info(...Re){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...Re),this._logHandler(this,LogLevel.INFO,...Re)}warn(...Re){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...Re),this._logHandler(this,LogLevel.WARN,...Re)}error(...Re){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...Re),this._logHandler(this,LogLevel.ERROR,...Re)}}const instanceOfAny=(Ce,Re)=>Re.some(je=>Ce instanceof je);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(Ce){const Re=new Promise((je,Be)=>{const De=()=>{Ce.removeEventListener("success",Fe),Ce.removeEventListener("error",Oe)},Fe=()=>{je(wrap(Ce.result)),De()},Oe=()=>{Be(Ce.error),De()};Ce.addEventListener("success",Fe),Ce.addEventListener("error",Oe)});return Re.then(je=>{je instanceof IDBCursor&&cursorRequestMap.set(je,Ce)}).catch(()=>{}),reverseTransformCache.set(Re,Ce),Re}function cacheDonePromiseForTransaction(Ce){if(transactionDoneMap.has(Ce))return;const Re=new Promise((je,Be)=>{const De=()=>{Ce.removeEventListener("complete",Fe),Ce.removeEventListener("error",Oe),Ce.removeEventListener("abort",Oe)},Fe=()=>{je(),De()},Oe=()=>{Be(Ce.error||new DOMException("AbortError","AbortError")),De()};Ce.addEventListener("complete",Fe),Ce.addEventListener("error",Oe),Ce.addEventListener("abort",Oe)});transactionDoneMap.set(Ce,Re)}let idbProxyTraps={get(Ce,Re,je){if(Ce instanceof IDBTransaction){if(Re==="done")return transactionDoneMap.get(Ce);if(Re==="objectStoreNames")return Ce.objectStoreNames||transactionStoreNamesMap.get(Ce);if(Re==="store")return je.objectStoreNames[1]?void 0:je.objectStore(je.objectStoreNames[0])}return wrap(Ce[Re])},set(Ce,Re,je){return Ce[Re]=je,!0},has(Ce,Re){return Ce instanceof IDBTransaction&&(Re==="done"||Re==="store")?!0:Re in Ce}};function replaceTraps(Ce){idbProxyTraps=Ce(idbProxyTraps)}function wrapFunction(Ce){return Ce===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(Re,...je){const Be=Ce.call(unwrap(this),Re,...je);return transactionStoreNamesMap.set(Be,Re.sort?Re.sort():[Re]),wrap(Be)}:getCursorAdvanceMethods().includes(Ce)?function(...Re){return Ce.apply(unwrap(this),Re),wrap(cursorRequestMap.get(this))}:function(...Re){return wrap(Ce.apply(unwrap(this),Re))}}function transformCachableValue(Ce){return typeof Ce=="function"?wrapFunction(Ce):(Ce instanceof IDBTransaction&&cacheDonePromiseForTransaction(Ce),instanceOfAny(Ce,getIdbProxyableTypes())?new Proxy(Ce,idbProxyTraps):Ce)}function wrap(Ce){if(Ce instanceof IDBRequest)return promisifyRequest(Ce);if(transformCache.has(Ce))return transformCache.get(Ce);const Re=transformCachableValue(Ce);return Re!==Ce&&(transformCache.set(Ce,Re),reverseTransformCache.set(Re,Ce)),Re}const unwrap=Ce=>reverseTransformCache.get(Ce);function openDB(Ce,Re,{blocked:je,upgrade:Be,blocking:De,terminated:Fe}={}){const Oe=indexedDB.open(Ce,Re),ke=wrap(Oe);return Be&&Oe.addEventListener("upgradeneeded",Me=>{Be(wrap(Oe.result),Me.oldVersion,Me.newVersion,wrap(Oe.transaction),Me)}),je&&Oe.addEventListener("blocked",Me=>je(Me.oldVersion,Me.newVersion,Me)),ke.then(Me=>{Fe&&Me.addEventListener("close",()=>Fe()),De&&Me.addEventListener("versionchange",Ue=>De(Ue.oldVersion,Ue.newVersion,Ue))}).catch(()=>{}),ke}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(Ce,Re){if(!(Ce instanceof IDBDatabase&&!(Re in Ce)&&typeof Re=="string"))return;if(cachedMethods.get(Re))return cachedMethods.get(Re);const je=Re.replace(/FromIndex$/,""),Be=Re!==je,De=writeMethods.includes(je);if(!(je in(Be?IDBIndex:IDBObjectStore).prototype)||!(De||readMethods.includes(je)))return;const Fe=async function(Oe,...ke){const Me=this.transaction(Oe,De?"readwrite":"readonly");let Ue=Me.store;return Be&&(Ue=Ue.index(ke.shift())),(await Promise.all([Ue[je](...ke),De&&Me.done]))[0]};return cachedMethods.set(Re,Fe),Fe}replaceTraps(Ce=>({...Ce,get:(Re,je,Be)=>getMethod(Re,je)||Ce.get(Re,je,Be),has:(Re,je)=>!!getMethod(Re,je)||Ce.has(Re,je)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(je=>{if(isVersionServiceProvider(je)){const Be=je.getImmediate();return`${Be.library}/${Be.version}`}else return null}).filter(je=>je).join(" ")}}function isVersionServiceProvider(Ce){const Re=Ce.getComponent();return Re?.type==="VERSION"}const name$p="@firebase/app",version$1$1="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$o="@firebase/app-compat",name$n="@firebase/analytics-compat",name$m="@firebase/analytics",name$l="@firebase/app-check-compat",name$k="@firebase/app-check",name$j="@firebase/auth",name$i="@firebase/auth-compat",name$h="@firebase/database",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$q="firebase",version$5="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$p]:"fire-core",[name$o]:"fire-core-compat",[name$m]:"fire-analytics",[name$n]:"fire-analytics-compat",[name$k]:"fire-app-check",[name$l]:"fire-app-check-compat",[name$j]:"fire-auth",[name$i]:"fire-auth-compat",[name$h]:"fire-rtdb",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$q]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(Ce,Re){try{Ce.container.addComponent(Re)}catch(je){logger.debug(`Component ${Re.name} failed to register with FirebaseApp ${Ce.name}`,je)}}function _registerComponent(Ce){const Re=Ce.name;if(_components.has(Re))return logger.debug(`There were multiple attempts to register component ${Re}.`),!1;_components.set(Re,Ce);for(const je of _apps.values())_addComponent(je,Ce);for(const je of _serverApps.values())_addComponent(je,Ce);return!0}function _getProvider(Ce,Re){const je=Ce.container.getProvider("heartbeat").getImmediate({optional:!0});return je&&je.triggerHeartbeat(),Ce.container.getProvider(Re)}function _isFirebaseServerApp(Ce){return Ce.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(Re,je,Be){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},je),this._name=je.name,this._automaticDataCollectionEnabled=je.automaticDataCollectionEnabled,this._container=Be,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$5;function initializeApp(Ce,Re={}){let je=Ce;typeof Re!="object"&&(Re={name:Re});const Be=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},Re),De=Be.name;if(typeof De!="string"||!De)throw ERROR_FACTORY.create("bad-app-name",{appName:String(De)});if(je||(je=getDefaultAppConfig()),!je)throw ERROR_FACTORY.create("no-options");const Fe=_apps.get(De);if(Fe){if(deepEqual(je,Fe.options)&&deepEqual(Be,Fe.config))return Fe;throw ERROR_FACTORY.create("duplicate-app",{appName:De})}const Oe=new ComponentContainer(De);for(const Me of _components.values())Oe.addComponent(Me);const ke=new FirebaseAppImpl(je,Be,Oe);return _apps.set(De,ke),ke}function getApp(Ce=DEFAULT_ENTRY_NAME){const Re=_apps.get(Ce);if(!Re&&Ce===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!Re)throw ERROR_FACTORY.create("no-app",{appName:Ce});return Re}function registerVersion(Ce,Re,je){var Be;let De=(Be=PLATFORM_LOG_STRING[Ce])!==null&&Be!==void 0?Be:Ce;je&&(De+=`-${je}`);const Fe=De.match(/\s|\//),Oe=Re.match(/\s|\//);if(Fe||Oe){const ke=[`Unable to register library "${De}" with version "${Re}":`];Fe&&ke.push(`library name "${De}" contains illegal characters (whitespace or "/")`),Fe&&Oe&&ke.push("and"),Oe&&ke.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),logger.warn(ke.join(" "));return}_registerComponent(new Component(`${De}-version`,()=>({library:De,version:Re}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(Ce,Re)=>{switch(Re){case 0:try{Ce.createObjectStore(STORE_NAME)}catch(je){console.warn(je)}}}}).catch(Ce=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:Ce.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(Ce){try{const je=(await getDbPromise()).transaction(STORE_NAME),Be=await je.objectStore(STORE_NAME).get(computeKey(Ce));return await je.done,Be}catch(Re){if(Re instanceof FirebaseError)logger.warn(Re.message);else{const je=ERROR_FACTORY.create("idb-get",{originalErrorMessage:Re?.message});logger.warn(je.message)}}}async function writeHeartbeatsToIndexedDB(Ce,Re){try{const Be=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await Be.objectStore(STORE_NAME).put(Re,computeKey(Ce)),await Be.done}catch(je){if(je instanceof FirebaseError)logger.warn(je.message);else{const Be=ERROR_FACTORY.create("idb-set",{originalErrorMessage:je?.message});logger.warn(Be.message)}}}function computeKey(Ce){return`${Ce.name}!${Ce.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=720*60*60*1e3;class HeartbeatServiceImpl{constructor(Re){this.container=Re,this._heartbeatsCache=null;const je=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(je),this._heartbeatsCachePromise=this._storage.read().then(Be=>(this._heartbeatsCache=Be,Be))}async triggerHeartbeat(){var Re,je;const De=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Fe=getUTCDateString();if(!(((Re=this._heartbeatsCache)===null||Re===void 0?void 0:Re.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((je=this._heartbeatsCache)===null||je===void 0?void 0:je.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===Fe||this._heartbeatsCache.heartbeats.some(Oe=>Oe.date===Fe)))return this._heartbeatsCache.heartbeats.push({date:Fe,agent:De}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(Oe=>{const ke=new Date(Oe.date).valueOf();return Date.now()-ke<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var Re;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((Re=this._heartbeatsCache)===null||Re===void 0?void 0:Re.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const je=getUTCDateString(),{heartbeatsToSend:Be,unsentEntries:De}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),Fe=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:Be}));return this._heartbeatsCache.lastSentHeartbeatDate=je,De.length>0?(this._heartbeatsCache.heartbeats=De,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),Fe}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(Ce,Re=MAX_HEADER_BYTES){const je=[];let Be=Ce.slice();for(const De of Ce){const Fe=je.find(Oe=>Oe.agent===De.agent);if(Fe){if(Fe.dates.push(De.date),countBytes(je)>Re){Fe.dates.pop();break}}else if(je.push({agent:De.agent,dates:[De.date]}),countBytes(je)>Re){je.pop();break}Be=Be.slice(1)}return{heartbeatsToSend:je,unsentEntries:Be}}class HeartbeatStorageImpl{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const je=await readHeartbeatsFromIndexedDB(this.app);return je?.heartbeats?je:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(Re){var je;if(await this._canUseIndexedDBPromise){const De=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(je=Re.lastSentHeartbeatDate)!==null&&je!==void 0?je:De.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}else return}async add(Re){var je;if(await this._canUseIndexedDBPromise){const De=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(je=Re.lastSentHeartbeatDate)!==null&&je!==void 0?je:De.lastSentHeartbeatDate,heartbeats:[...De.heartbeats,...Re.heartbeats]})}else return}}function countBytes(Ce){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:Ce})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(Ce){_registerComponent(new Component("platform-logger",Re=>new PlatformLoggerServiceImpl(Re),"PRIVATE")),_registerComponent(new Component("heartbeat",Re=>new HeartbeatServiceImpl(Re),"PRIVATE")),registerVersion(name$p,version$1$1,Ce),registerVersion(name$p,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var Ce;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function Re(nr,sr){function dr(){}dr.prototype=sr.prototype,nr.D=sr.prototype,nr.prototype=new dr,nr.prototype.constructor=nr,nr.C=function(_r,fr,or){for(var Er=Array(arguments.length-2),Rr=2;Rr<arguments.length;Rr++)Er[Rr-2]=arguments[Rr];return sr.prototype[fr].apply(_r,Er)}}function je(){this.blockSize=-1}function Be(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}Re(Be,je),Be.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function De(nr,sr,dr){dr||(dr=0);var _r=Array(16);if(typeof sr=="string")for(var fr=0;16>fr;++fr)_r[fr]=sr.charCodeAt(dr++)|sr.charCodeAt(dr++)<<8|sr.charCodeAt(dr++)<<16|sr.charCodeAt(dr++)<<24;else for(fr=0;16>fr;++fr)_r[fr]=sr[dr++]|sr[dr++]<<8|sr[dr++]<<16|sr[dr++]<<24;sr=nr.g[0],dr=nr.g[1],fr=nr.g[2];var or=nr.g[3],Er=sr+(or^dr&(fr^or))+_r[0]+3614090360&4294967295;sr=dr+(Er<<7&4294967295|Er>>>25),Er=or+(fr^sr&(dr^fr))+_r[1]+3905402710&4294967295,or=sr+(Er<<12&4294967295|Er>>>20),Er=fr+(dr^or&(sr^dr))+_r[2]+606105819&4294967295,fr=or+(Er<<17&4294967295|Er>>>15),Er=dr+(sr^fr&(or^sr))+_r[3]+3250441966&4294967295,dr=fr+(Er<<22&4294967295|Er>>>10),Er=sr+(or^dr&(fr^or))+_r[4]+4118548399&4294967295,sr=dr+(Er<<7&4294967295|Er>>>25),Er=or+(fr^sr&(dr^fr))+_r[5]+1200080426&4294967295,or=sr+(Er<<12&4294967295|Er>>>20),Er=fr+(dr^or&(sr^dr))+_r[6]+2821735955&4294967295,fr=or+(Er<<17&4294967295|Er>>>15),Er=dr+(sr^fr&(or^sr))+_r[7]+4249261313&4294967295,dr=fr+(Er<<22&4294967295|Er>>>10),Er=sr+(or^dr&(fr^or))+_r[8]+1770035416&4294967295,sr=dr+(Er<<7&4294967295|Er>>>25),Er=or+(fr^sr&(dr^fr))+_r[9]+2336552879&4294967295,or=sr+(Er<<12&4294967295|Er>>>20),Er=fr+(dr^or&(sr^dr))+_r[10]+4294925233&4294967295,fr=or+(Er<<17&4294967295|Er>>>15),Er=dr+(sr^fr&(or^sr))+_r[11]+2304563134&4294967295,dr=fr+(Er<<22&4294967295|Er>>>10),Er=sr+(or^dr&(fr^or))+_r[12]+1804603682&4294967295,sr=dr+(Er<<7&4294967295|Er>>>25),Er=or+(fr^sr&(dr^fr))+_r[13]+4254626195&4294967295,or=sr+(Er<<12&4294967295|Er>>>20),Er=fr+(dr^or&(sr^dr))+_r[14]+2792965006&4294967295,fr=or+(Er<<17&4294967295|Er>>>15),Er=dr+(sr^fr&(or^sr))+_r[15]+1236535329&4294967295,dr=fr+(Er<<22&4294967295|Er>>>10),Er=sr+(fr^or&(dr^fr))+_r[1]+4129170786&4294967295,sr=dr+(Er<<5&4294967295|Er>>>27),Er=or+(dr^fr&(sr^dr))+_r[6]+3225465664&4294967295,or=sr+(Er<<9&4294967295|Er>>>23),Er=fr+(sr^dr&(or^sr))+_r[11]+643717713&4294967295,fr=or+(Er<<14&4294967295|Er>>>18),Er=dr+(or^sr&(fr^or))+_r[0]+3921069994&4294967295,dr=fr+(Er<<20&4294967295|Er>>>12),Er=sr+(fr^or&(dr^fr))+_r[5]+3593408605&4294967295,sr=dr+(Er<<5&4294967295|Er>>>27),Er=or+(dr^fr&(sr^dr))+_r[10]+38016083&4294967295,or=sr+(Er<<9&4294967295|Er>>>23),Er=fr+(sr^dr&(or^sr))+_r[15]+3634488961&4294967295,fr=or+(Er<<14&4294967295|Er>>>18),Er=dr+(or^sr&(fr^or))+_r[4]+3889429448&4294967295,dr=fr+(Er<<20&4294967295|Er>>>12),Er=sr+(fr^or&(dr^fr))+_r[9]+568446438&4294967295,sr=dr+(Er<<5&4294967295|Er>>>27),Er=or+(dr^fr&(sr^dr))+_r[14]+3275163606&4294967295,or=sr+(Er<<9&4294967295|Er>>>23),Er=fr+(sr^dr&(or^sr))+_r[3]+4107603335&4294967295,fr=or+(Er<<14&4294967295|Er>>>18),Er=dr+(or^sr&(fr^or))+_r[8]+1163531501&4294967295,dr=fr+(Er<<20&4294967295|Er>>>12),Er=sr+(fr^or&(dr^fr))+_r[13]+2850285829&4294967295,sr=dr+(Er<<5&4294967295|Er>>>27),Er=or+(dr^fr&(sr^dr))+_r[2]+4243563512&4294967295,or=sr+(Er<<9&4294967295|Er>>>23),Er=fr+(sr^dr&(or^sr))+_r[7]+1735328473&4294967295,fr=or+(Er<<14&4294967295|Er>>>18),Er=dr+(or^sr&(fr^or))+_r[12]+2368359562&4294967295,dr=fr+(Er<<20&4294967295|Er>>>12),Er=sr+(dr^fr^or)+_r[5]+4294588738&4294967295,sr=dr+(Er<<4&4294967295|Er>>>28),Er=or+(sr^dr^fr)+_r[8]+2272392833&4294967295,or=sr+(Er<<11&4294967295|Er>>>21),Er=fr+(or^sr^dr)+_r[11]+1839030562&4294967295,fr=or+(Er<<16&4294967295|Er>>>16),Er=dr+(fr^or^sr)+_r[14]+4259657740&4294967295,dr=fr+(Er<<23&4294967295|Er>>>9),Er=sr+(dr^fr^or)+_r[1]+2763975236&4294967295,sr=dr+(Er<<4&4294967295|Er>>>28),Er=or+(sr^dr^fr)+_r[4]+1272893353&4294967295,or=sr+(Er<<11&4294967295|Er>>>21),Er=fr+(or^sr^dr)+_r[7]+4139469664&4294967295,fr=or+(Er<<16&4294967295|Er>>>16),Er=dr+(fr^or^sr)+_r[10]+3200236656&4294967295,dr=fr+(Er<<23&4294967295|Er>>>9),Er=sr+(dr^fr^or)+_r[13]+681279174&4294967295,sr=dr+(Er<<4&4294967295|Er>>>28),Er=or+(sr^dr^fr)+_r[0]+3936430074&4294967295,or=sr+(Er<<11&4294967295|Er>>>21),Er=fr+(or^sr^dr)+_r[3]+3572445317&4294967295,fr=or+(Er<<16&4294967295|Er>>>16),Er=dr+(fr^or^sr)+_r[6]+76029189&4294967295,dr=fr+(Er<<23&4294967295|Er>>>9),Er=sr+(dr^fr^or)+_r[9]+3654602809&4294967295,sr=dr+(Er<<4&4294967295|Er>>>28),Er=or+(sr^dr^fr)+_r[12]+3873151461&4294967295,or=sr+(Er<<11&4294967295|Er>>>21),Er=fr+(or^sr^dr)+_r[15]+530742520&4294967295,fr=or+(Er<<16&4294967295|Er>>>16),Er=dr+(fr^or^sr)+_r[2]+3299628645&4294967295,dr=fr+(Er<<23&4294967295|Er>>>9),Er=sr+(fr^(dr|~or))+_r[0]+4096336452&4294967295,sr=dr+(Er<<6&4294967295|Er>>>26),Er=or+(dr^(sr|~fr))+_r[7]+1126891415&4294967295,or=sr+(Er<<10&4294967295|Er>>>22),Er=fr+(sr^(or|~dr))+_r[14]+2878612391&4294967295,fr=or+(Er<<15&4294967295|Er>>>17),Er=dr+(or^(fr|~sr))+_r[5]+4237533241&4294967295,dr=fr+(Er<<21&4294967295|Er>>>11),Er=sr+(fr^(dr|~or))+_r[12]+1700485571&4294967295,sr=dr+(Er<<6&4294967295|Er>>>26),Er=or+(dr^(sr|~fr))+_r[3]+2399980690&4294967295,or=sr+(Er<<10&4294967295|Er>>>22),Er=fr+(sr^(or|~dr))+_r[10]+4293915773&4294967295,fr=or+(Er<<15&4294967295|Er>>>17),Er=dr+(or^(fr|~sr))+_r[1]+2240044497&4294967295,dr=fr+(Er<<21&4294967295|Er>>>11),Er=sr+(fr^(dr|~or))+_r[8]+1873313359&4294967295,sr=dr+(Er<<6&4294967295|Er>>>26),Er=or+(dr^(sr|~fr))+_r[15]+4264355552&4294967295,or=sr+(Er<<10&4294967295|Er>>>22),Er=fr+(sr^(or|~dr))+_r[6]+2734768916&4294967295,fr=or+(Er<<15&4294967295|Er>>>17),Er=dr+(or^(fr|~sr))+_r[13]+1309151649&4294967295,dr=fr+(Er<<21&4294967295|Er>>>11),Er=sr+(fr^(dr|~or))+_r[4]+4149444226&4294967295,sr=dr+(Er<<6&4294967295|Er>>>26),Er=or+(dr^(sr|~fr))+_r[11]+3174756917&4294967295,or=sr+(Er<<10&4294967295|Er>>>22),Er=fr+(sr^(or|~dr))+_r[2]+718787259&4294967295,fr=or+(Er<<15&4294967295|Er>>>17),Er=dr+(or^(fr|~sr))+_r[9]+3951481745&4294967295,nr.g[0]=nr.g[0]+sr&4294967295,nr.g[1]=nr.g[1]+(fr+(Er<<21&4294967295|Er>>>11))&4294967295,nr.g[2]=nr.g[2]+fr&4294967295,nr.g[3]=nr.g[3]+or&4294967295}Be.prototype.u=function(nr,sr){sr===void 0&&(sr=nr.length);for(var dr=sr-this.blockSize,_r=this.B,fr=this.h,or=0;or<sr;){if(fr==0)for(;or<=dr;)De(this,nr,or),or+=this.blockSize;if(typeof nr=="string"){for(;or<sr;)if(_r[fr++]=nr.charCodeAt(or++),fr==this.blockSize){De(this,_r),fr=0;break}}else for(;or<sr;)if(_r[fr++]=nr[or++],fr==this.blockSize){De(this,_r),fr=0;break}}this.h=fr,this.o+=sr},Be.prototype.v=function(){var nr=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);nr[0]=128;for(var sr=1;sr<nr.length-8;++sr)nr[sr]=0;var dr=8*this.o;for(sr=nr.length-8;sr<nr.length;++sr)nr[sr]=dr&255,dr/=256;for(this.u(nr),nr=Array(16),sr=dr=0;4>sr;++sr)for(var _r=0;32>_r;_r+=8)nr[dr++]=this.g[sr]>>>_r&255;return nr};function Fe(nr,sr){var dr=ke;return Object.prototype.hasOwnProperty.call(dr,nr)?dr[nr]:dr[nr]=sr(nr)}function Oe(nr,sr){this.h=sr;for(var dr=[],_r=!0,fr=nr.length-1;0<=fr;fr--){var or=nr[fr]|0;_r&&or==sr||(dr[fr]=or,_r=!1)}this.g=dr}var ke={};function Me(nr){return-128<=nr&&128>nr?Fe(nr,function(sr){return new Oe([sr|0],0>sr?-1:0)}):new Oe([nr|0],0>nr?-1:0)}function Ue(nr){if(isNaN(nr)||!isFinite(nr))return He;if(0>nr)return Xe(Ue(-nr));for(var sr=[],dr=1,_r=0;nr>=dr;_r++)sr[_r]=nr/dr|0,dr*=4294967296;return new Oe(sr,0)}function $e(nr,sr){if(nr.length==0)throw Error("number format error: empty string");if(sr=sr||10,2>sr||36<sr)throw Error("radix out of range: "+sr);if(nr.charAt(0)=="-")return Xe($e(nr.substring(1),sr));if(0<=nr.indexOf("-"))throw Error('number format error: interior "-" character');for(var dr=Ue(Math.pow(sr,8)),_r=He,fr=0;fr<nr.length;fr+=8){var or=Math.min(8,nr.length-fr),Er=parseInt(nr.substring(fr,fr+or),sr);8>or?(or=Ue(Math.pow(sr,or)),_r=_r.j(or).add(Ue(Er))):(_r=_r.j(dr),_r=_r.add(Ue(Er)))}return _r}var He=Me(0),Qe=Me(1),We=Me(16777216);Ce=Oe.prototype,Ce.m=function(){if(Ke(this))return-Xe(this).m();for(var nr=0,sr=1,dr=0;dr<this.g.length;dr++){var _r=this.i(dr);nr+=(0<=_r?_r:4294967296+_r)*sr,sr*=4294967296}return nr},Ce.toString=function(nr){if(nr=nr||10,2>nr||36<nr)throw Error("radix out of range: "+nr);if(qe(this))return"0";if(Ke(this))return"-"+Xe(this).toString(nr);for(var sr=Ue(Math.pow(nr,6)),dr=this,_r="";;){var fr=tr(dr,sr).g;dr=Ye(dr,fr.j(sr));var or=((0<dr.g.length?dr.g[0]:dr.h)>>>0).toString(nr);if(dr=fr,qe(dr))return or+_r;for(;6>or.length;)or="0"+or;_r=or+_r}},Ce.i=function(nr){return 0>nr?0:nr<this.g.length?this.g[nr]:this.h};function qe(nr){if(nr.h!=0)return!1;for(var sr=0;sr<nr.g.length;sr++)if(nr.g[sr]!=0)return!1;return!0}function Ke(nr){return nr.h==-1}Ce.l=function(nr){return nr=Ye(this,nr),Ke(nr)?-1:qe(nr)?0:1};function Xe(nr){for(var sr=nr.g.length,dr=[],_r=0;_r<sr;_r++)dr[_r]=~nr.g[_r];return new Oe(dr,~nr.h).add(Qe)}Ce.abs=function(){return Ke(this)?Xe(this):this},Ce.add=function(nr){for(var sr=Math.max(this.g.length,nr.g.length),dr=[],_r=0,fr=0;fr<=sr;fr++){var or=_r+(this.i(fr)&65535)+(nr.i(fr)&65535),Er=(or>>>16)+(this.i(fr)>>>16)+(nr.i(fr)>>>16);_r=Er>>>16,or&=65535,Er&=65535,dr[fr]=Er<<16|or}return new Oe(dr,dr[dr.length-1]&-2147483648?-1:0)};function Ye(nr,sr){return nr.add(Xe(sr))}Ce.j=function(nr){if(qe(this)||qe(nr))return He;if(Ke(this))return Ke(nr)?Xe(this).j(Xe(nr)):Xe(Xe(this).j(nr));if(Ke(nr))return Xe(this.j(Xe(nr)));if(0>this.l(We)&&0>nr.l(We))return Ue(this.m()*nr.m());for(var sr=this.g.length+nr.g.length,dr=[],_r=0;_r<2*sr;_r++)dr[_r]=0;for(_r=0;_r<this.g.length;_r++)for(var fr=0;fr<nr.g.length;fr++){var or=this.i(_r)>>>16,Er=this.i(_r)&65535,Rr=nr.i(fr)>>>16,jr=nr.i(fr)&65535;dr[2*_r+2*fr]+=Er*jr,Ze(dr,2*_r+2*fr),dr[2*_r+2*fr+1]+=or*jr,Ze(dr,2*_r+2*fr+1),dr[2*_r+2*fr+1]+=Er*Rr,Ze(dr,2*_r+2*fr+1),dr[2*_r+2*fr+2]+=or*Rr,Ze(dr,2*_r+2*fr+2)}for(_r=0;_r<sr;_r++)dr[_r]=dr[2*_r+1]<<16|dr[2*_r];for(_r=sr;_r<2*sr;_r++)dr[_r]=0;return new Oe(dr,0)};function Ze(nr,sr){for(;(nr[sr]&65535)!=nr[sr];)nr[sr+1]+=nr[sr]>>>16,nr[sr]&=65535,sr++}function Je(nr,sr){this.g=nr,this.h=sr}function tr(nr,sr){if(qe(sr))throw Error("division by zero");if(qe(nr))return new Je(He,He);if(Ke(nr))return sr=tr(Xe(nr),sr),new Je(Xe(sr.g),Xe(sr.h));if(Ke(sr))return sr=tr(nr,Xe(sr)),new Je(Xe(sr.g),sr.h);if(30<nr.g.length){if(Ke(nr)||Ke(sr))throw Error("slowDivide_ only works with positive integers.");for(var dr=Qe,_r=sr;0>=_r.l(nr);)dr=rr(dr),_r=rr(_r);var fr=ar(dr,1),or=ar(_r,1);for(_r=ar(_r,2),dr=ar(dr,2);!qe(_r);){var Er=or.add(_r);0>=Er.l(nr)&&(fr=fr.add(dr),or=Er),_r=ar(_r,1),dr=ar(dr,1)}return sr=Ye(nr,fr.j(sr)),new Je(fr,sr)}for(fr=He;0<=nr.l(sr);){for(dr=Math.max(1,Math.floor(nr.m()/sr.m())),_r=Math.ceil(Math.log(dr)/Math.LN2),_r=48>=_r?1:Math.pow(2,_r-48),or=Ue(dr),Er=or.j(sr);Ke(Er)||0<Er.l(nr);)dr-=_r,or=Ue(dr),Er=or.j(sr);qe(or)&&(or=Qe),fr=fr.add(or),nr=Ye(nr,Er)}return new Je(fr,nr)}Ce.A=function(nr){return tr(this,nr).h},Ce.and=function(nr){for(var sr=Math.max(this.g.length,nr.g.length),dr=[],_r=0;_r<sr;_r++)dr[_r]=this.i(_r)&nr.i(_r);return new Oe(dr,this.h&nr.h)},Ce.or=function(nr){for(var sr=Math.max(this.g.length,nr.g.length),dr=[],_r=0;_r<sr;_r++)dr[_r]=this.i(_r)|nr.i(_r);return new Oe(dr,this.h|nr.h)},Ce.xor=function(nr){for(var sr=Math.max(this.g.length,nr.g.length),dr=[],_r=0;_r<sr;_r++)dr[_r]=this.i(_r)^nr.i(_r);return new Oe(dr,this.h^nr.h)};function rr(nr){for(var sr=nr.g.length+1,dr=[],_r=0;_r<sr;_r++)dr[_r]=nr.i(_r)<<1|nr.i(_r-1)>>>31;return new Oe(dr,nr.h)}function ar(nr,sr){var dr=sr>>5;sr%=32;for(var _r=nr.g.length-dr,fr=[],or=0;or<_r;or++)fr[or]=0<sr?nr.i(or+dr)>>>sr|nr.i(or+dr+1)<<32-sr:nr.i(or+dr);return new Oe(fr,nr.h)}Be.prototype.digest=Be.prototype.v,Be.prototype.reset=Be.prototype.s,Be.prototype.update=Be.prototype.u,Md5=Be,Oe.prototype.add=Oe.prototype.add,Oe.prototype.multiply=Oe.prototype.j,Oe.prototype.modulo=Oe.prototype.A,Oe.prototype.compare=Oe.prototype.l,Oe.prototype.toNumber=Oe.prototype.m,Oe.prototype.toString=Oe.prototype.toString,Oe.prototype.getBits=Oe.prototype.i,Oe.fromNumber=Ue,Oe.fromString=$e,Integer=Oe}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,FetchXmlHttpFactory,WebChannel,EventType,ErrorCode$1,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var Ce,Re=typeof Object.defineProperties=="function"?Object.defineProperty:function(ur,Fr,Ur){return ur==Array.prototype||ur==Object.prototype||(ur[Fr]=Ur.value),ur};function je(ur){ur=[typeof globalThis=="object"&&globalThis,ur,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var Fr=0;Fr<ur.length;++Fr){var Ur=ur[Fr];if(Ur&&Ur.Math==Math)return Ur}throw Error("Cannot find global object")}var Be=je(this);function De(ur,Fr){if(Fr)e:{var Ur=Be;ur=ur.split(".");for(var en=0;en<ur.length-1;en++){var Pn=ur[en];if(!(Pn in Ur))break e;Ur=Ur[Pn]}ur=ur[ur.length-1],en=Ur[ur],Fr=Fr(en),Fr!=en&&Fr!=null&&Re(Ur,ur,{configurable:!0,writable:!0,value:Fr})}}function Fe(ur,Fr){ur instanceof String&&(ur+="");var Ur=0,en=!1,Pn={next:function(){if(!en&&Ur<ur.length){var Un=Ur++;return{value:Fr(Un,ur[Un]),done:!1}}return en=!0,{done:!0,value:void 0}}};return Pn[Symbol.iterator]=function(){return Pn},Pn}De("Array.prototype.values",function(ur){return ur||function(){return Fe(this,function(Fr,Ur){return Ur})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var Oe=Oe||{},ke=this||self;function Me(ur){var Fr=typeof ur;return Fr=Fr!="object"?Fr:ur?Array.isArray(ur)?"array":Fr:"null",Fr=="array"||Fr=="object"&&typeof ur.length=="number"}function Ue(ur){var Fr=typeof ur;return Fr=="object"&&ur!=null||Fr=="function"}function $e(ur,Fr,Ur){return ur.call.apply(ur.bind,arguments)}function He(ur,Fr,Ur){if(!ur)throw Error();if(2<arguments.length){var en=Array.prototype.slice.call(arguments,2);return function(){var Pn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Pn,en),ur.apply(Fr,Pn)}}return function(){return ur.apply(Fr,arguments)}}function Qe(ur,Fr,Ur){return Qe=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$e:He,Qe.apply(null,arguments)}function We(ur,Fr){var Ur=Array.prototype.slice.call(arguments,1);return function(){var en=Ur.slice();return en.push.apply(en,arguments),ur.apply(this,en)}}function qe(ur,Fr){function Ur(){}Ur.prototype=Fr.prototype,ur.aa=Fr.prototype,ur.prototype=new Ur,ur.prototype.constructor=ur,ur.Qb=function(en,Pn,Un){for(var si=Array(arguments.length-2),os=2;os<arguments.length;os++)si[os-2]=arguments[os];return Fr.prototype[Pn].apply(en,si)}}function Ke(ur){const Fr=ur.length;if(0<Fr){const Ur=Array(Fr);for(let en=0;en<Fr;en++)Ur[en]=ur[en];return Ur}return[]}function Xe(ur,Fr){for(let Ur=1;Ur<arguments.length;Ur++){const en=arguments[Ur];if(Me(en)){const Pn=ur.length||0,Un=en.length||0;ur.length=Pn+Un;for(let si=0;si<Un;si++)ur[Pn+si]=en[si]}else ur.push(en)}}class Ye{constructor(Fr,Ur){this.i=Fr,this.j=Ur,this.h=0,this.g=null}get(){let Fr;return 0<this.h?(this.h--,Fr=this.g,this.g=Fr.next,Fr.next=null):Fr=this.i(),Fr}}function Ze(ur){return/^[\s\xa0]*$/.test(ur)}function Je(){var ur=ke.navigator;return ur&&(ur=ur.userAgent)?ur:""}function tr(ur){return tr[" "](ur),ur}tr[" "]=function(){};var rr=Je().indexOf("Gecko")!=-1&&!(Je().toLowerCase().indexOf("webkit")!=-1&&Je().indexOf("Edge")==-1)&&!(Je().indexOf("Trident")!=-1||Je().indexOf("MSIE")!=-1)&&Je().indexOf("Edge")==-1;function ar(ur,Fr,Ur){for(const en in ur)Fr.call(Ur,ur[en],en,ur)}function nr(ur,Fr){for(const Ur in ur)Fr.call(void 0,ur[Ur],Ur,ur)}function sr(ur){const Fr={};for(const Ur in ur)Fr[Ur]=ur[Ur];return Fr}const dr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _r(ur,Fr){let Ur,en;for(let Pn=1;Pn<arguments.length;Pn++){en=arguments[Pn];for(Ur in en)ur[Ur]=en[Ur];for(let Un=0;Un<dr.length;Un++)Ur=dr[Un],Object.prototype.hasOwnProperty.call(en,Ur)&&(ur[Ur]=en[Ur])}}function fr(ur){var Fr=1;ur=ur.split(":");const Ur=[];for(;0<Fr&&ur.length;)Ur.push(ur.shift()),Fr--;return ur.length&&Ur.push(ur.join(":")),Ur}function or(ur){ke.setTimeout(()=>{throw ur},0)}function Er(){var ur=wr;let Fr=null;return ur.g&&(Fr=ur.g,ur.g=ur.g.next,ur.g||(ur.h=null),Fr.next=null),Fr}class Rr{constructor(){this.h=this.g=null}add(Fr,Ur){const en=jr.get();en.set(Fr,Ur),this.h?this.h.next=en:this.g=en,this.h=en}}var jr=new Ye(()=>new xr,ur=>ur.reset());class xr{constructor(){this.next=this.g=this.h=null}set(Fr,Ur){this.h=Fr,this.g=Ur,this.next=null}reset(){this.next=this.g=this.h=null}}let Pr,br=!1,wr=new Rr,Br=()=>{const ur=ke.Promise.resolve(void 0);Pr=()=>{ur.then(Lr)}};var Lr=()=>{for(var ur;ur=Er();){try{ur.h.call(ur.g)}catch(Ur){or(Ur)}var Fr=jr;Fr.j(ur),100>Fr.h&&(Fr.h++,ur.next=Fr.g,Fr.g=ur)}br=!1};function yr(){this.s=this.s,this.C=this.C}yr.prototype.s=!1,yr.prototype.ma=function(){this.s||(this.s=!0,this.N())},yr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vr(ur,Fr){this.type=ur,this.g=this.target=Fr,this.defaultPrevented=!1}vr.prototype.h=function(){this.defaultPrevented=!0};var Tr=(function(){if(!ke.addEventListener||!Object.defineProperty)return!1;var ur=!1,Fr=Object.defineProperty({},"passive",{get:function(){ur=!0}});try{const Ur=()=>{};ke.addEventListener("test",Ur,Fr),ke.removeEventListener("test",Ur,Fr)}catch{}return ur})();function Or(ur,Fr){if(vr.call(this,ur?ur.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,ur){var Ur=this.type=ur.type,en=ur.changedTouches&&ur.changedTouches.length?ur.changedTouches[0]:null;if(this.target=ur.target||ur.srcElement,this.g=Fr,Fr=ur.relatedTarget){if(rr){e:{try{tr(Fr.nodeName);var Pn=!0;break e}catch{}Pn=!1}Pn||(Fr=null)}}else Ur=="mouseover"?Fr=ur.fromElement:Ur=="mouseout"&&(Fr=ur.toElement);this.relatedTarget=Fr,en?(this.clientX=en.clientX!==void 0?en.clientX:en.pageX,this.clientY=en.clientY!==void 0?en.clientY:en.pageY,this.screenX=en.screenX||0,this.screenY=en.screenY||0):(this.clientX=ur.clientX!==void 0?ur.clientX:ur.pageX,this.clientY=ur.clientY!==void 0?ur.clientY:ur.pageY,this.screenX=ur.screenX||0,this.screenY=ur.screenY||0),this.button=ur.button,this.key=ur.key||"",this.ctrlKey=ur.ctrlKey,this.altKey=ur.altKey,this.shiftKey=ur.shiftKey,this.metaKey=ur.metaKey,this.pointerId=ur.pointerId||0,this.pointerType=typeof ur.pointerType=="string"?ur.pointerType:Nr[ur.pointerType]||"",this.state=ur.state,this.i=ur,ur.defaultPrevented&&Or.aa.h.call(this)}}qe(Or,vr);var Nr={2:"touch",3:"pen",4:"mouse"};Or.prototype.h=function(){Or.aa.h.call(this);var ur=this.i;ur.preventDefault?ur.preventDefault():ur.returnValue=!1};var Hr="closure_listenable_"+(1e6*Math.random()|0),Wr=0;function qr(ur,Fr,Ur,en,Pn){this.listener=ur,this.proxy=null,this.src=Fr,this.type=Ur,this.capture=!!en,this.ha=Pn,this.key=++Wr,this.da=this.fa=!1}function Jr(ur){ur.da=!0,ur.listener=null,ur.proxy=null,ur.src=null,ur.ha=null}function An(ur){this.src=ur,this.g={},this.h=0}An.prototype.add=function(ur,Fr,Ur,en,Pn){var Un=ur.toString();ur=this.g[Un],ur||(ur=this.g[Un]=[],this.h++);var si=bn(ur,Fr,en,Pn);return-1<si?(Fr=ur[si],Ur||(Fr.fa=!1)):(Fr=new qr(Fr,this.src,Un,!!en,Pn),Fr.fa=Ur,ur.push(Fr)),Fr};function an(ur,Fr){var Ur=Fr.type;if(Ur in ur.g){var en=ur.g[Ur],Pn=Array.prototype.indexOf.call(en,Fr,void 0),Un;(Un=0<=Pn)&&Array.prototype.splice.call(en,Pn,1),Un&&(Jr(Fr),ur.g[Ur].length==0&&(delete ur.g[Ur],ur.h--))}}function bn(ur,Fr,Ur,en){for(var Pn=0;Pn<ur.length;++Pn){var Un=ur[Pn];if(!Un.da&&Un.listener==Fr&&Un.capture==!!Ur&&Un.ha==en)return Pn}return-1}var gn="closure_lm_"+(1e6*Math.random()|0),mn={};function Zr(ur,Fr,Ur,en,Pn){if(Array.isArray(Fr)){for(var Un=0;Un<Fr.length;Un++)Zr(ur,Fr[Un],Ur,en,Pn);return null}return Ur=Oi(Ur),ur&&ur[Hr]?ur.K(Fr,Ur,Ue(en)?!!en.capture:!1,Pn):kn(ur,Fr,Ur,!1,en,Pn)}function kn(ur,Fr,Ur,en,Pn,Un){if(!Fr)throw Error("Invalid event type");var si=Ue(Pn)?!!Pn.capture:!!Pn,os=_i(ur);if(os||(ur[gn]=os=new An(ur)),Ur=os.add(Fr,Ur,en,si,Un),Ur.proxy)return Ur;if(en=ri(),Ur.proxy=en,en.src=ur,en.listener=Ur,ur.addEventListener)Tr||(Pn=si),Pn===void 0&&(Pn=!1),ur.addEventListener(Fr.toString(),en,Pn);else if(ur.attachEvent)ur.attachEvent(Jn(Fr.toString()),en);else if(ur.addListener&&ur.removeListener)ur.addListener(en);else throw Error("addEventListener and attachEvent are unavailable.");return Ur}function ri(){function ur(Ur){return Fr.call(ur.src,ur.listener,Ur)}const Fr=Wn;return ur}function zn(ur,Fr,Ur,en,Pn){if(Array.isArray(Fr))for(var Un=0;Un<Fr.length;Un++)zn(ur,Fr[Un],Ur,en,Pn);else en=Ue(en)?!!en.capture:!!en,Ur=Oi(Ur),ur&&ur[Hr]?(ur=ur.i,Fr=String(Fr).toString(),Fr in ur.g&&(Un=ur.g[Fr],Ur=bn(Un,Ur,en,Pn),-1<Ur&&(Jr(Un[Ur]),Array.prototype.splice.call(Un,Ur,1),Un.length==0&&(delete ur.g[Fr],ur.h--)))):ur&&(ur=_i(ur))&&(Fr=ur.g[Fr.toString()],ur=-1,Fr&&(ur=bn(Fr,Ur,en,Pn)),(Ur=-1<ur?Fr[ur]:null)&&ei(Ur))}function ei(ur){if(typeof ur!="number"&&ur&&!ur.da){var Fr=ur.src;if(Fr&&Fr[Hr])an(Fr.i,ur);else{var Ur=ur.type,en=ur.proxy;Fr.removeEventListener?Fr.removeEventListener(Ur,en,ur.capture):Fr.detachEvent?Fr.detachEvent(Jn(Ur),en):Fr.addListener&&Fr.removeListener&&Fr.removeListener(en),(Ur=_i(Fr))?(an(Ur,ur),Ur.h==0&&(Ur.src=null,Fr[gn]=null)):Jr(ur)}}}function Jn(ur){return ur in mn?mn[ur]:mn[ur]="on"+ur}function Wn(ur,Fr){if(ur.da)ur=!0;else{Fr=new Or(Fr,this);var Ur=ur.listener,en=ur.ha||ur.src;ur.fa&&ei(ur),ur=Ur.call(en,Fr)}return ur}function _i(ur){return ur=ur[gn],ur instanceof An?ur:null}var wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oi(ur){return typeof ur=="function"?ur:(ur[wi]||(ur[wi]=function(Fr){return ur.handleEvent(Fr)}),ur[wi])}function xi(){yr.call(this),this.i=new An(this),this.M=this,this.F=null}qe(xi,yr),xi.prototype[Hr]=!0,xi.prototype.removeEventListener=function(ur,Fr,Ur,en){zn(this,ur,Fr,Ur,en)};function Pi(ur,Fr){var Ur,en=ur.F;if(en)for(Ur=[];en;en=en.F)Ur.push(en);if(ur=ur.M,en=Fr.type||Fr,typeof Fr=="string")Fr=new vr(Fr,ur);else if(Fr instanceof vr)Fr.target=Fr.target||ur;else{var Pn=Fr;Fr=new vr(en,ur),_r(Fr,Pn)}if(Pn=!0,Ur)for(var Un=Ur.length-1;0<=Un;Un--){var si=Fr.g=Ur[Un];Pn=Ii(si,en,!0,Fr)&&Pn}if(si=Fr.g=ur,Pn=Ii(si,en,!0,Fr)&&Pn,Pn=Ii(si,en,!1,Fr)&&Pn,Ur)for(Un=0;Un<Ur.length;Un++)si=Fr.g=Ur[Un],Pn=Ii(si,en,!1,Fr)&&Pn}xi.prototype.N=function(){if(xi.aa.N.call(this),this.i){var ur=this.i,Fr;for(Fr in ur.g){for(var Ur=ur.g[Fr],en=0;en<Ur.length;en++)Jr(Ur[en]);delete ur.g[Fr],ur.h--}}this.F=null},xi.prototype.K=function(ur,Fr,Ur,en){return this.i.add(String(ur),Fr,!1,Ur,en)},xi.prototype.L=function(ur,Fr,Ur,en){return this.i.add(String(ur),Fr,!0,Ur,en)};function Ii(ur,Fr,Ur,en){if(Fr=ur.i.g[String(Fr)],!Fr)return!0;Fr=Fr.concat();for(var Pn=!0,Un=0;Un<Fr.length;++Un){var si=Fr[Un];if(si&&!si.da&&si.capture==Ur){var os=si.listener,Es=si.ha||si.src;si.fa&&an(ur.i,si),Pn=os.call(Es,en)!==!1&&Pn}}return Pn&&!en.defaultPrevented}function Si(ur,Fr,Ur){if(typeof ur=="function")Ur&&(ur=Qe(ur,Ur));else if(ur&&typeof ur.handleEvent=="function")ur=Qe(ur.handleEvent,ur);else throw Error("Invalid listener argument");return 2147483647<Number(Fr)?-1:ke.setTimeout(ur,Fr||0)}function En(ur){ur.g=Si(()=>{ur.g=null,ur.i&&(ur.i=!1,En(ur))},ur.l);const Fr=ur.h;ur.h=null,ur.m.apply(null,Fr)}class Cn extends yr{constructor(Fr,Ur){super(),this.m=Fr,this.l=Ur,this.h=null,this.i=!1,this.g=null}j(Fr){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(ur){yr.call(this),this.h=ur,this.g={}}qe(oi,yr);var ci=[];function Qi(ur){ar(ur.g,function(Fr,Ur){this.g.hasOwnProperty(Ur)&&ei(Fr)},ur),ur.g={}}oi.prototype.N=function(){oi.aa.N.call(this),Qi(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ti=ke.JSON.stringify,Bi=ke.JSON.parse,jn=class{stringify(ur){return ke.JSON.stringify(ur,void 0)}parse(ur){return ke.JSON.parse(ur,void 0)}};function vn(){}vn.prototype.h=null;function Ni(ur){return ur.h||(ur.h=ur.i())}function bi(){}var Gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){vr.call(this,"d")}qe(Di,vr);function hi(){vr.call(this,"c")}qe(hi,vr);var fi={},Ri=null;function Zi(){return Ri=Ri||new xi}fi.La="serverreachability";function ds(ur){vr.call(this,fi.La,ur)}qe(ds,vr);function oa(ur){const Fr=Zi();Pi(Fr,new ds(Fr))}fi.STAT_EVENT="statevent";function Wa(ur,Fr){vr.call(this,fi.STAT_EVENT,ur),this.stat=Fr}qe(Wa,vr);function Mi(ur){const Fr=Zi();Pi(Fr,new Wa(Fr,ur))}fi.Ma="timingevent";function Qs(ur,Fr){vr.call(this,fi.Ma,ur),this.size=Fr}qe(Qs,vr);function Fs(ur,Fr){if(typeof ur!="function")throw Error("Fn must not be null and must be a function");return ke.setTimeout(function(){ur()},Fr)}function Xs(){this.g=!0}Xs.prototype.xa=function(){this.g=!1};function Yi(ur,Fr,Ur,en,Pn,Un){ur.info(function(){if(ur.g)if(Un)for(var si="",os=Un.split("&"),Es=0;Es<os.length;Es++){var As=os[Es].split("=");if(1<As.length){var Bs=As[0];As=As[1];var Ts=Bs.split("_");si=2<=Ts.length&&Ts[1]=="type"?si+(Bs+"="+As+"&"):si+(Bs+"=redacted&")}}else si=null;else si=Un;return"XMLHTTP REQ ("+en+") [attempt "+Pn+"]: "+Fr+`
`+Ur+`
`+si})}function ra(ur,Fr,Ur,en,Pn,Un,si){ur.info(function(){return"XMLHTTP RESP ("+en+") [ attempt "+Pn+"]: "+Fr+`
`+Ur+`
`+Un+" "+si})}function Kr(ur,Fr,Ur,en){ur.info(function(){return"XMLHTTP TEXT ("+Fr+"): "+sn(ur,Ur)+(en?" "+en:"")})}function fn(ur,Fr){ur.info(function(){return"TIMEOUT: "+Fr})}Xs.prototype.info=function(){};function sn(ur,Fr){if(!ur.g)return Fr;if(!Fr)return null;try{var Ur=JSON.parse(Fr);if(Ur){for(ur=0;ur<Ur.length;ur++)if(Array.isArray(Ur[ur])){var en=Ur[ur];if(!(2>en.length)){var Pn=en[1];if(Array.isArray(Pn)&&!(1>Pn.length)){var Un=Pn[0];if(Un!="noop"&&Un!="stop"&&Un!="close")for(var si=1;si<Pn.length;si++)Pn[si]=""}}}}return ti(Ur)}catch{return Fr}}var on={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pn;function Mn(){}qe(Mn,vn),Mn.prototype.g=function(){return new XMLHttpRequest},Mn.prototype.i=function(){return{}},pn=new Mn;function qn(ur,Fr,Ur,en){this.j=ur,this.i=Fr,this.l=Ur,this.R=en||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nn}function Nn(){this.i=null,this.g="",this.h=!1}var Vn={},Kn={};function gi(ur,Fr,Ur){ur.L=1,ur.v=Zl(vo(Fr)),ur.m=Ur,ur.P=!0,Ti(ur,null)}function Ti(ur,Fr){ur.F=Date.now(),Li(ur),ur.A=vo(ur.v);var Ur=ur.A,en=ur.R;Array.isArray(en)||(en=[String(en)]),ts(Ur.i,"t",en),ur.C=0,Ur=ur.j.J,ur.h=new Nn,ur.g=zr(ur.j,Ur?Fr:null,!ur.m),0<ur.O&&(ur.M=new Cn(Qe(ur.Y,ur,ur.g),ur.O)),Fr=ur.U,Ur=ur.g,en=ur.ca;var Pn="readystatechange";Array.isArray(Pn)||(Pn&&(ci[0]=Pn.toString()),Pn=ci);for(var Un=0;Un<Pn.length;Un++){var si=Zr(Ur,Pn[Un],en||Fr.handleEvent,!1,Fr.h||Fr);if(!si)break;Fr.g[si.key]=si}Fr=ur.H?sr(ur.H):{},ur.m?(ur.u||(ur.u="POST"),Fr["Content-Type"]="application/x-www-form-urlencoded",ur.g.ea(ur.A,ur.u,ur.m,Fr)):(ur.u="GET",ur.g.ea(ur.A,ur.u,null,Fr)),oa(),Yi(ur.i,ur.u,ur.A,ur.l,ur.R,ur.m)}qn.prototype.ca=function(ur){ur=ur.target;const Fr=this.M;Fr&&$a(ur)==3?Fr.j():this.Y(ur)},qn.prototype.Y=function(ur){try{if(ur==this.g)e:{const Ts=$a(this.g);var Fr=this.g.Ba();const _l=this.g.Z();if(!(3>Ts)&&(Ts!=3||this.g&&(this.h.h||this.g.oa()||Yu(this.g)))){this.J||Ts!=4||Fr==7||(Fr==8||0>=_l?oa(3):oa(2)),gs(this);var Ur=this.g.Z();this.X=Ur;t:if(zi(this)){var en=Yu(this.g);ur="";var Pn=en.length,Un=$a(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ys(this),_s(this);var si="";break t}this.h.i=new ke.TextDecoder}for(Fr=0;Fr<Pn;Fr++)this.h.h=!0,ur+=this.h.i.decode(en[Fr],{stream:!(Un&&Fr==Pn-1)});en.length=0,this.h.g+=ur,this.C=0,si=this.h.g}else si=this.g.oa();if(this.o=Ur==200,ra(this.i,this.u,this.A,this.l,this.R,Ts,Ur),this.o){if(this.T&&!this.K){t:{if(this.g){var os,Es=this.g;if((os=Es.g?Es.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ze(os)){var As=os;break t}}As=null}if(Ur=As)Kr(this.i,this.l,Ur,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eo(this,Ur);else{this.o=!1,this.s=3,Mi(12),ys(this),_s(this);break e}}if(this.P){Ur=!0;let Js;for(;!this.J&&this.C<si.length;)if(Js=Ci(this,si),Js==Kn){Ts==4&&(this.s=4,Mi(14),Ur=!1),Kr(this.i,this.l,null,"[Incomplete Response]");break}else if(Js==Vn){this.s=4,Mi(15),Kr(this.i,this.l,si,"[Invalid Chunk]"),Ur=!1;break}else Kr(this.i,this.l,Js,null),eo(this,Js);if(zi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ts!=4||si.length!=0||this.h.h||(this.s=1,Mi(16),Ur=!1),this.o=this.o&&Ur,!Ur)Kr(this.i,this.l,si,"[Invalid Chunked Response]"),ys(this),_s(this);else if(0<si.length&&!this.W){this.W=!0;var Bs=this.j;Bs.g==this&&Bs.ba&&!Bs.M&&(Bs.j.info("Great, no buffering proxy detected. Bytes received: "+si.length),nc(Bs),Bs.M=!0,Mi(11))}}else Kr(this.i,this.l,si,null),eo(this,si);Ts==4&&ys(this),this.o&&!this.J&&(Ts==4?ic(this.j,this):(this.o=!1,Li(this)))}else tc(this.g),Ur==400&&0<si.indexOf("Unknown SID")?(this.s=3,Mi(12)):(this.s=0,Mi(13)),ys(this),_s(this)}}}catch{}finally{}};function zi(ur){return ur.g?ur.u=="GET"&&ur.L!=2&&ur.j.Ca:!1}function Ci(ur,Fr){var Ur=ur.C,en=Fr.indexOf(`
`,Ur);return en==-1?Kn:(Ur=Number(Fr.substring(Ur,en)),isNaN(Ur)?Vn:(en+=1,en+Ur>Fr.length?Kn:(Fr=Fr.slice(en,en+Ur),ur.C=en+Ur,Fr)))}qn.prototype.cancel=function(){this.J=!0,ys(this)};function Li(ur){ur.S=Date.now()+ur.I,ss(ur,ur.I)}function ss(ur,Fr){if(ur.B!=null)throw Error("WatchDog timer not null");ur.B=Fs(Qe(ur.ba,ur),Fr)}function gs(ur){ur.B&&(ke.clearTimeout(ur.B),ur.B=null)}qn.prototype.ba=function(){this.B=null;const ur=Date.now();0<=ur-this.S?(fn(this.i,this.A),this.L!=2&&(oa(),Mi(17)),ys(this),this.s=2,_s(this)):ss(this,this.S-ur)};function _s(ur){ur.j.G==0||ur.J||ic(ur.j,ur)}function ys(ur){gs(ur);var Fr=ur.M;Fr&&typeof Fr.ma=="function"&&Fr.ma(),ur.M=null,Qi(ur.U),ur.g&&(Fr=ur.g,ur.g=null,Fr.abort(),Fr.ma())}function eo(ur,Fr){try{var Ur=ur.j;if(Ur.G!=0&&(Ur.g==ur||Na(Ur.h,ur))){if(!ur.K&&Na(Ur.h,ur)&&Ur.G==3){try{var en=Ur.Da.g.parse(Fr)}catch{en=null}if(Array.isArray(en)&&en.length==3){var Pn=en;if(Pn[0]==0){e:if(!Ur.u){if(Ur.g)if(Ur.g.F+3e3<ur.F)kl(Ur),Qc(Ur);else break e;_c(Ur),Mi(18)}}else Ur.za=Pn[1],0<Ur.za-Ur.T&&37500>Pn[2]&&Ur.F&&Ur.v==0&&!Ur.C&&(Ur.C=Fs(Qe(Ur.Za,Ur),6e3));if(1>=co(Ur.h)&&Ur.ca){try{Ur.ca()}catch{}Ur.ca=void 0}}else Po(Ur,11)}else if((ur.K||Ur.g==ur)&&kl(Ur),!Ze(Fr))for(Pn=Ur.Da.g.parse(Fr),Fr=0;Fr<Pn.length;Fr++){let As=Pn[Fr];if(Ur.T=As[0],As=As[1],Ur.G==2)if(As[0]=="c"){Ur.K=As[1],Ur.ia=As[2];const Bs=As[3];Bs!=null&&(Ur.la=Bs,Ur.j.info("VER="+Ur.la));const Ts=As[4];Ts!=null&&(Ur.Aa=Ts,Ur.j.info("SVER="+Ur.Aa));const _l=As[5];_l!=null&&typeof _l=="number"&&0<_l&&(en=1.5*_l,Ur.L=en,Ur.j.info("backChannelRequestTimeoutMs_="+en)),en=Ur;const Js=ur.g;if(Js){const ks=Js.g?Js.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var Un=en.h;Un.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(Un.j=Un.l,Un.g=new Set,Un.h&&(la(Un,Un.h),Un.h=null))}if(en.D){const Ml=Js.g?Js.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(en.ya=Ml,Ws(en.I,en.D,Ml))}}Ur.G=3,Ur.l&&Ur.l.ua(),Ur.ba&&(Ur.R=Date.now()-ur.F,Ur.j.info("Handshake RTT: "+Ur.R+"ms")),en=Ur;var si=ur;if(en.qa=Cr(en,en.J?en.ia:null,en.W),si.K){uo(en.h,si);var os=si,Es=en.L;Es&&(os.I=Es),os.B&&(gs(os),Li(os)),en.g=si}else zc(en);0<Ur.i.length&&Ol(Ur)}else As[0]!="stop"&&As[0]!="close"||Po(Ur,7);else Ur.G==3&&(As[0]=="stop"||As[0]=="close"?As[0]=="stop"?Po(Ur,7):bl(Ur):As[0]!="noop"&&Ur.l&&Ur.l.ta(As),Ur.v=0)}}oa(4)}catch{}}var Eo=class{constructor(ur,Fr){this.g=ur,this.map=Fr}};function oo(ur){this.l=ur||10,ke.PerformanceNavigationTiming?(ur=ke.performance.getEntriesByType("navigation"),ur=0<ur.length&&(ur[0].nextHopProtocol=="hq"||ur[0].nextHopProtocol=="h2")):ur=!!(ke.chrome&&ke.chrome.loadTimes&&ke.chrome.loadTimes()&&ke.chrome.loadTimes().wasFetchedViaSpdy),this.j=ur?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wo(ur){return ur.h?!0:ur.g?ur.g.size>=ur.j:!1}function co(ur){return ur.h?1:ur.g?ur.g.size:0}function Na(ur,Fr){return ur.h?ur.h==Fr:ur.g?ur.g.has(Fr):!1}function la(ur,Fr){ur.g?ur.g.add(Fr):ur.h=Fr}function uo(ur,Fr){ur.h&&ur.h==Fr?ur.h=null:ur.g&&ur.g.has(Fr)&&ur.g.delete(Fr)}oo.prototype.cancel=function(){if(this.i=$c(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const ur of this.g.values())ur.cancel();this.g.clear()}};function $c(ur){if(ur.h!=null)return ur.i.concat(ur.h.D);if(ur.g!=null&&ur.g.size!==0){let Fr=ur.i;for(const Ur of ur.g.values())Fr=Fr.concat(Ur.D);return Fr}return Ke(ur.i)}function mc(ur){if(ur.V&&typeof ur.V=="function")return ur.V();if(typeof Map<"u"&&ur instanceof Map||typeof Set<"u"&&ur instanceof Set)return Array.from(ur.values());if(typeof ur=="string")return ur.split("");if(Me(ur)){for(var Fr=[],Ur=ur.length,en=0;en<Ur;en++)Fr.push(ur[en]);return Fr}Fr=[],Ur=0;for(en in ur)Fr[Ur++]=ur[en];return Fr}function sl(ur){if(ur.na&&typeof ur.na=="function")return ur.na();if(!ur.V||typeof ur.V!="function"){if(typeof Map<"u"&&ur instanceof Map)return Array.from(ur.keys());if(!(typeof Set<"u"&&ur instanceof Set)){if(Me(ur)||typeof ur=="string"){var Fr=[];ur=ur.length;for(var Ur=0;Ur<ur;Ur++)Fr.push(Ur);return Fr}Fr=[],Ur=0;for(const en in ur)Fr[Ur++]=en;return Fr}}}function Bl(ur,Fr){if(ur.forEach&&typeof ur.forEach=="function")ur.forEach(Fr,void 0);else if(Me(ur)||typeof ur=="string")Array.prototype.forEach.call(ur,Fr,void 0);else for(var Ur=sl(ur),en=mc(ur),Pn=en.length,Un=0;Un<Pn;Un++)Fr.call(void 0,en[Un],Ur&&Ur[Un],ur)}var xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(ur,Fr){if(ur){ur=ur.split("&");for(var Ur=0;Ur<ur.length;Ur++){var en=ur[Ur].indexOf("="),Pn=null;if(0<=en){var Un=ur[Ur].substring(0,en);Pn=ur[Ur].substring(en+1)}else Un=ur[Ur];Fr(Un,Pn?decodeURIComponent(Pn.replace(/\+/g," ")):"")}}}function Os(ur){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,ur instanceof Os){this.h=ur.h,Xl(this,ur.j),this.o=ur.o,this.g=ur.g,Jl(this,ur.s),this.l=ur.l;var Fr=ur.i,Ur=new fo;Ur.i=Fr.i,Fr.g&&(Ur.g=new Map(Fr.g),Ur.h=Fr.h),hl(this,Ur),this.m=ur.m}else ur&&(Fr=String(ur).match(xo))?(this.h=!1,Xl(this,Fr[1]||"",!0),this.o=Qo(Fr[2]||""),this.g=Qo(Fr[3]||"",!0),Jl(this,Fr[4]),this.l=Qo(Fr[5]||"",!0),hl(this,Fr[6]||"",!0),this.m=Qo(Fr[7]||"")):(this.h=!1,this.i=new fo(null,this.h))}Os.prototype.toString=function(){var ur=[],Fr=this.j;Fr&&ur.push(zo(Fr,Vc,!0),":");var Ur=this.g;return(Ur||Fr=="file")&&(ur.push("//"),(Fr=this.o)&&ur.push(zo(Fr,Vc,!0),"@"),ur.push(encodeURIComponent(String(Ur)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Ur=this.s,Ur!=null&&ur.push(":",String(Ur))),(Ur=this.l)&&(this.g&&Ur.charAt(0)!="/"&&ur.push("/"),ur.push(zo(Ur,Ur.charAt(0)=="/"?Nl:du,!0))),(Ur=this.i.toString())&&ur.push("?",Ur),(Ur=this.m)&&ur.push("#",zo(Ur,al)),ur.join("")};function vo(ur){return new Os(ur)}function Xl(ur,Fr,Ur){ur.j=Ur?Qo(Fr,!0):Fr,ur.j&&(ur.j=ur.j.replace(/:$/,""))}function Jl(ur,Fr){if(Fr){if(Fr=Number(Fr),isNaN(Fr)||0>Fr)throw Error("Bad port number "+Fr);ur.s=Fr}else ur.s=null}function hl(ur,Fr,Ur){Fr instanceof fo?(ur.i=Fr,qu(ur.i,ur.h)):(Ur||(Fr=zo(Fr,gc)),ur.i=new fo(Fr,ur.h))}function Ws(ur,Fr,Ur){ur.i.set(Fr,Ur)}function Zl(ur){return Ws(ur,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),ur}function Qo(ur,Fr){return ur?Fr?decodeURI(ur.replace(/%25/g,"%2525")):decodeURIComponent(ur):""}function zo(ur,Fr,Ur){return typeof ur=="string"?(ur=encodeURI(ur).replace(Fr,Gu),Ur&&(ur=ur.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ur):null}function Gu(ur){return ur=ur.charCodeAt(0),"%"+(ur>>4&15).toString(16)+(ur&15).toString(16)}var Vc=/[#\/\?@]/g,du=/[#\?:]/g,Nl=/[#\?]/g,gc=/[#\?@]/g,al=/#/g;function fo(ur,Fr){this.h=this.g=null,this.i=ur||null,this.j=!!Fr}function na(ur){ur.g||(ur.g=new Map,ur.h=0,ur.i&&Da(ur.i,function(Fr,Ur){ur.add(decodeURIComponent(Fr.replace(/\+/g," ")),Ur)}))}Ce=fo.prototype,Ce.add=function(ur,Fr){na(this),this.i=null,ur=pl(this,ur);var Ur=this.g.get(ur);return Ur||this.g.set(ur,Ur=[]),Ur.push(Fr),this.h+=1,this};function Dl(ur,Fr){na(ur),Fr=pl(ur,Fr),ur.g.has(Fr)&&(ur.i=null,ur.h-=ur.g.get(Fr).length,ur.g.delete(Fr))}function Al(ur,Fr){return na(ur),Fr=pl(ur,Fr),ur.g.has(Fr)}Ce.forEach=function(ur,Fr){na(this),this.g.forEach(function(Ur,en){Ur.forEach(function(Pn){ur.call(Fr,Pn,en,this)},this)},this)},Ce.na=function(){na(this);const ur=Array.from(this.g.values()),Fr=Array.from(this.g.keys()),Ur=[];for(let en=0;en<Fr.length;en++){const Pn=ur[en];for(let Un=0;Un<Pn.length;Un++)Ur.push(Fr[en])}return Ur},Ce.V=function(ur){na(this);let Fr=[];if(typeof ur=="string")Al(this,ur)&&(Fr=Fr.concat(this.g.get(pl(this,ur))));else{ur=Array.from(this.g.values());for(let Ur=0;Ur<ur.length;Ur++)Fr=Fr.concat(ur[Ur])}return Fr},Ce.set=function(ur,Fr){return na(this),this.i=null,ur=pl(this,ur),Al(this,ur)&&(this.h-=this.g.get(ur).length),this.g.set(ur,[Fr]),this.h+=1,this},Ce.get=function(ur,Fr){return ur?(ur=this.V(ur),0<ur.length?String(ur[0]):Fr):Fr};function ts(ur,Fr,Ur){Dl(ur,Fr),0<Ur.length&&(ur.i=null,ur.g.set(pl(ur,Fr),Ke(Ur)),ur.h+=Ur.length)}Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const ur=[],Fr=Array.from(this.g.keys());for(var Ur=0;Ur<Fr.length;Ur++){var en=Fr[Ur];const Un=encodeURIComponent(String(en)),si=this.V(en);for(en=0;en<si.length;en++){var Pn=Un;si[en]!==""&&(Pn+="="+encodeURIComponent(String(si[en]))),ur.push(Pn)}}return this.i=ur.join("&")};function pl(ur,Fr){return Fr=String(Fr),ur.j&&(Fr=Fr.toLowerCase()),Fr}function qu(ur,Fr){Fr&&!ur.j&&(na(ur),ur.i=null,ur.g.forEach(function(Ur,en){var Pn=en.toLowerCase();en!=Pn&&(Dl(this,en),ts(this,Pn,Ur))},ur)),ur.j=Fr}function So(ur,Fr){const Ur=new Xs;if(ke.Image){const en=new Image;en.onload=We(Oo,Ur,"TestLoadImage: loaded",!0,Fr,en),en.onerror=We(Oo,Ur,"TestLoadImage: error",!1,Fr,en),en.onabort=We(Oo,Ur,"TestLoadImage: abort",!1,Fr,en),en.ontimeout=We(Oo,Ur,"TestLoadImage: timeout",!1,Fr,en),ke.setTimeout(function(){en.ontimeout&&en.ontimeout()},1e4),en.src=ur}else Fr(!1)}function Wo(ur,Fr){const Ur=new Xs,en=new AbortController,Pn=setTimeout(()=>{en.abort(),Oo(Ur,"TestPingServer: timeout",!1,Fr)},1e4);fetch(ur,{signal:en.signal}).then(Un=>{clearTimeout(Pn),Un.ok?Oo(Ur,"TestPingServer: ok",!0,Fr):Oo(Ur,"TestPingServer: server error",!1,Fr)}).catch(()=>{clearTimeout(Pn),Oo(Ur,"TestPingServer: error",!1,Fr)})}function Oo(ur,Fr,Ur,en,Pn){try{Pn&&(Pn.onload=null,Pn.onerror=null,Pn.onabort=null,Pn.ontimeout=null),en(Ur)}catch{}}function ml(){this.g=new jn}function ya(ur,Fr,Ur){const en=Ur||"";try{Bl(ur,function(Pn,Un){let si=Pn;Ue(Pn)&&(si=ti(Pn)),Fr.push(en+Un+"="+encodeURIComponent(si))})}catch(Pn){throw Fr.push(en+"type="+encodeURIComponent("_badmap")),Pn}}function gl(ur){this.l=ur.Ub||null,this.j=ur.eb||!1}qe(gl,vn),gl.prototype.g=function(){return new xl(this.l,this.j)},gl.prototype.i=(function(ur){return function(){return ur}})({});function xl(ur,Fr){xi.call(this),this.D=ur,this.o=Fr,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}qe(xl,xi),Ce=xl.prototype,Ce.open=function(ur,Fr){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=ur,this.A=Fr,this.readyState=1,Co(this)},Ce.send=function(ur){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Fr={headers:this.u,method:this.B,credentials:this.m,cache:void 0};ur&&(Fr.body=ur),(this.D||ke).fetch(new Request(this.A,Fr)).then(this.Sa.bind(this),this.ga.bind(this))},Ce.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},Ce.Sa=function(ur){if(this.g&&(this.l=ur,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=ur.headers,this.readyState=2,Co(this)),this.g&&(this.readyState=3,Co(this),this.g)))if(this.responseType==="arraybuffer")ur.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof ke.ReadableStream<"u"&&"body"in ur){if(this.j=ur.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hc(this)}else ur.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hc(ur){ur.j.read().then(ur.Pa.bind(ur)).catch(ur.ga.bind(ur))}Ce.Pa=function(ur){if(this.g){if(this.o&&ur.value)this.response.push(ur.value);else if(!this.o){var Fr=ur.value?ur.value:new Uint8Array(0);(Fr=this.v.decode(Fr,{stream:!ur.done}))&&(this.response=this.responseText+=Fr)}ur.done?Ko(this):Co(this),this.readyState==3&&Hc(this)}},Ce.Ra=function(ur){this.g&&(this.response=this.responseText=ur,Ko(this))},Ce.Qa=function(ur){this.g&&(this.response=ur,Ko(this))},Ce.ga=function(){this.g&&Ko(this)};function Ko(ur){ur.readyState=4,ur.l=null,ur.j=null,ur.v=null,Co(ur)}Ce.setRequestHeader=function(ur,Fr){this.u.append(ur,Fr)},Ce.getResponseHeader=function(ur){return this.h&&this.h.get(ur.toLowerCase())||""},Ce.getAllResponseHeaders=function(){if(!this.h)return"";const ur=[],Fr=this.h.entries();for(var Ur=Fr.next();!Ur.done;)Ur=Ur.value,ur.push(Ur[0]+": "+Ur[1]),Ur=Fr.next();return ur.join(`\r
`)};function Co(ur){ur.onreadystatechange&&ur.onreadystatechange.call(ur)}Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(ur){this.m=ur?"include":"same-origin"}});function vl(ur){let Fr="";return ar(ur,function(Ur,en){Fr+=en,Fr+=":",Fr+=Ur,Fr+=`\r
`}),Fr}function Fa(ur,Fr,Ur){e:{for(en in Ur){var en=!1;break e}en=!0}en||(Ur=vl(Ur),typeof ur=="string"?Ur!=null&&encodeURIComponent(String(Ur)):Ws(ur,Fr,Ur))}function Cs(ur){xi.call(this),this.headers=new Map,this.o=ur||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}qe(Cs,xi);var Fl=/^https?$/i,yl=["POST","PUT"];Ce=Cs.prototype,Ce.Ha=function(ur){this.J=ur},Ce.ea=function(ur,Fr,Ur,en){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+ur);Fr=Fr?Fr.toUpperCase():"GET",this.D=ur,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pn.g(),this.v=this.o?Ni(this.o):Ni(pn),this.g.onreadystatechange=Qe(this.Ea,this);try{this.B=!0,this.g.open(Fr,String(ur),!0),this.B=!1}catch(Un){fu(this,Un);return}if(ur=Ur||"",Ur=new Map(this.headers),en)if(Object.getPrototypeOf(en)===Object.prototype)for(var Pn in en)Ur.set(Pn,en[Pn]);else if(typeof en.keys=="function"&&typeof en.get=="function")for(const Un of en.keys())Ur.set(Un,en.get(Un));else throw Error("Unknown input type for opt_headers: "+String(en));en=Array.from(Ur.keys()).find(Un=>Un.toLowerCase()=="content-type"),Pn=ke.FormData&&ur instanceof ke.FormData,!(0<=Array.prototype.indexOf.call(yl,Fr,void 0))||en||Pn||Ur.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Un,si]of Ur)this.g.setRequestHeader(Un,si);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{To(this),this.u=!0,this.g.send(ur),this.u=!1}catch(Un){fu(this,Un)}};function fu(ur,Fr){ur.h=!1,ur.g&&(ur.j=!0,ur.g.abort(),ur.j=!1),ur.l=Fr,ur.m=5,ha(ur),ho(ur)}function ha(ur){ur.A||(ur.A=!0,Pi(ur,"complete"),Pi(ur,"error"))}Ce.abort=function(ur){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=ur||7,Pi(this,"complete"),Pi(this,"abort"),ho(this))},Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ho(this,!0)),Cs.aa.N.call(this)},Ce.Ea=function(){this.s||(this.B||this.u||this.j?xc(this):this.bb())},Ce.bb=function(){xc(this)};function xc(ur){if(ur.h&&typeof Oe<"u"&&(!ur.v[1]||$a(ur)!=4||ur.Z()!=2)){if(ur.u&&$a(ur)==4)Si(ur.Ea,0,ur);else if(Pi(ur,"readystatechange"),$a(ur)==4){ur.h=!1;try{const si=ur.Z();e:switch(si){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Fr=!0;break e;default:Fr=!1}var Ur;if(!(Ur=Fr)){var en;if(en=si===0){var Pn=String(ur.D).match(xo)[1]||null;!Pn&&ke.self&&ke.self.location&&(Pn=ke.self.location.protocol.slice(0,-1)),en=!Fl.test(Pn?Pn.toLowerCase():"")}Ur=en}if(Ur)Pi(ur,"complete"),Pi(ur,"success");else{ur.m=6;try{var Un=2<$a(ur)?ur.g.statusText:""}catch{Un=""}ur.l=Un+" ["+ur.Z()+"]",ha(ur)}}finally{ho(ur)}}}}function ho(ur,Fr){if(ur.g){To(ur);const Ur=ur.g,en=ur.v[0]?()=>{}:null;ur.g=null,ur.v=null,Fr||Pi(ur,"ready");try{Ur.onreadystatechange=en}catch{}}}function To(ur){ur.I&&(ke.clearTimeout(ur.I),ur.I=null)}Ce.isActive=function(){return!!this.g};function $a(ur){return ur.g?ur.g.readyState:0}Ce.Z=function(){try{return 2<$a(this)?this.g.status:-1}catch{return-1}},Ce.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ce.Oa=function(ur){if(this.g){var Fr=this.g.responseText;return ur&&Fr.indexOf(ur)==0&&(Fr=Fr.substring(ur.length)),Bi(Fr)}};function Yu(ur){try{if(!ur.g)return null;if("response"in ur.g)return ur.g.response;switch(ur.H){case"":case"text":return ur.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in ur.g)return ur.g.mozResponseArrayBuffer}return null}catch{return null}}function tc(ur){const Fr={};ur=(ur.g&&2<=$a(ur)&&ur.g.getAllResponseHeaders()||"").split(`\r
`);for(let en=0;en<ur.length;en++){if(Ze(ur[en]))continue;var Ur=fr(ur[en]);const Pn=Ur[0];if(Ur=Ur[1],typeof Ur!="string")continue;Ur=Ur.trim();const Un=Fr[Pn]||[];Fr[Pn]=Un,Un.push(Ur)}nr(Fr,function(en){return en.join(", ")})}Ce.Ba=function(){return this.m},Ce.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(ur,Fr,Ur){return Ur&&Ur.internalChannelParams&&Ur.internalChannelParams[ur]||Fr}function ol(ur){this.Aa=0,this.i=[],this.j=new Xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,ur),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,ur),this.cb=Va("retryDelaySeedMs",1e4,ur),this.Wa=Va("forwardChannelMaxRetries",2,ur),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,ur),this.pa=ur&&ur.xmlHttpFactory||void 0,this.Xa=ur&&ur.Tb||void 0,this.Ca=ur&&ur.useFetchStreams||!1,this.L=void 0,this.J=ur&&ur.supportsCrossDomainXhr||!1,this.K="",this.h=new oo(ur&&ur.concurrentRequestLimit),this.Da=new ml,this.P=ur&&ur.fastHandshake||!1,this.O=ur&&ur.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=ur&&ur.Rb||!1,ur&&ur.xa&&this.j.xa(),ur&&ur.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&ur&&ur.detectBufferingProxy||!1,this.ja=void 0,ur&&ur.longPollingTimeout&&0<ur.longPollingTimeout&&(this.ja=ur.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}Ce=ol.prototype,Ce.la=8,Ce.G=1,Ce.connect=function(ur,Fr,Ur,en){Mi(0),this.W=ur,this.H=Fr||{},Ur&&en!==void 0&&(this.H.OSID=Ur,this.H.OAID=en),this.F=this.X,this.I=Cr(this,null,this.W),Ol(this)};function bl(ur){if(Ro(ur),ur.G==3){var Fr=ur.U++,Ur=vo(ur.I);if(Ws(Ur,"SID",ur.K),Ws(Ur,"RID",Fr),Ws(Ur,"TYPE","terminate"),rc(ur,Ur),Fr=new qn(ur,ur.j,Fr),Fr.L=2,Fr.v=Zl(vo(Ur)),Ur=!1,ke.navigator&&ke.navigator.sendBeacon)try{Ur=ke.navigator.sendBeacon(Fr.v.toString(),"")}catch{}!Ur&&ke.Image&&(new Image().src=Fr.v,Ur=!0),Ur||(Fr.g=zr(Fr.j,null),Fr.g.ea(Fr.v)),Fr.F=Date.now(),Li(Fr)}Wc(ur)}function Qc(ur){ur.g&&(nc(ur),ur.g.cancel(),ur.g=null)}function Ro(ur){Qc(ur),ur.u&&(ke.clearTimeout(ur.u),ur.u=null),kl(ur),ur.h.cancel(),ur.s&&(typeof ur.s=="number"&&ke.clearTimeout(ur.s),ur.s=null)}function Ol(ur){if(!wo(ur.h)&&!ur.s){ur.s=!0;var Fr=ur.Ga;Pr||Br(),br||(Pr(),br=!0),wr.add(Fr,ur),ur.B=0}}function vc(ur,Fr){return co(ur.h)>=ur.h.j-(ur.s?1:0)?!1:ur.s?(ur.i=Fr.D.concat(ur.i),!0):ur.G==1||ur.G==2||ur.B>=(ur.Va?0:ur.Wa)?!1:(ur.s=Fs(Qe(ur.Ga,ur,Fr),Ec(ur,ur.B)),ur.B++,!0)}Ce.Ga=function(ur){if(this.s)if(this.s=null,this.G==1){if(!ur){this.U=Math.floor(1e5*Math.random()),ur=this.U++;const Pn=new qn(this,this.j,ur);let Un=this.o;if(this.S&&(Un?(Un=sr(Un),_r(Un,this.S)):Un=this.S),this.m!==null||this.O||(Pn.H=Un,Un=null),this.P)e:{for(var Fr=0,Ur=0;Ur<this.i.length;Ur++){t:{var en=this.i[Ur];if("__data__"in en.map&&(en=en.map.__data__,typeof en=="string")){en=en.length;break t}en=void 0}if(en===void 0)break;if(Fr+=en,4096<Fr){Fr=Ur;break e}if(Fr===4096||Ur===this.i.length-1){Fr=Ur+1;break e}}Fr=1e3}else Fr=1e3;Fr=bc(this,Pn,Fr),Ur=vo(this.I),Ws(Ur,"RID",ur),Ws(Ur,"CVER",22),this.D&&Ws(Ur,"X-HTTP-Session-Id",this.D),rc(this,Ur),Un&&(this.O?Fr="headers="+encodeURIComponent(String(vl(Un)))+"&"+Fr:this.m&&Fa(Ur,this.m,Un)),la(this.h,Pn),this.Ua&&Ws(Ur,"TYPE","init"),this.P?(Ws(Ur,"$req",Fr),Ws(Ur,"SID","null"),Pn.T=!0,gi(Pn,Ur,null)):gi(Pn,Ur,Fr),this.G=2}}else this.G==3&&(ur?yc(this,ur):this.i.length==0||wo(this.h)||yc(this))};function yc(ur,Fr){var Ur;Fr?Ur=Fr.l:Ur=ur.U++;const en=vo(ur.I);Ws(en,"SID",ur.K),Ws(en,"RID",Ur),Ws(en,"AID",ur.T),rc(ur,en),ur.m&&ur.o&&Fa(en,ur.m,ur.o),Ur=new qn(ur,ur.j,Ur,ur.B+1),ur.m===null&&(Ur.H=ur.o),Fr&&(ur.i=Fr.D.concat(ur.i)),Fr=bc(ur,Ur,1e3),Ur.I=Math.round(.5*ur.wa)+Math.round(.5*ur.wa*Math.random()),la(ur.h,Ur),gi(Ur,en,Fr)}function rc(ur,Fr){ur.H&&ar(ur.H,function(Ur,en){Ws(Fr,en,Ur)}),ur.l&&Bl({},function(Ur,en){Ws(Fr,en,Ur)})}function bc(ur,Fr,Ur){Ur=Math.min(ur.i.length,Ur);var en=ur.l?Qe(ur.l.Na,ur.l,ur):null;e:{var Pn=ur.i;let Un=-1;for(;;){const si=["count="+Ur];Un==-1?0<Ur?(Un=Pn[0].g,si.push("ofs="+Un)):Un=0:si.push("ofs="+Un);let os=!0;for(let Es=0;Es<Ur;Es++){let As=Pn[Es].g;const Bs=Pn[Es].map;if(As-=Un,0>As)Un=Math.max(0,Pn[Es].g-100),os=!1;else try{ya(Bs,si,"req"+As+"_")}catch{en&&en(Bs)}}if(os){en=si.join("&");break e}}}return ur=ur.i.splice(0,Ur),Fr.D=ur,en}function zc(ur){if(!ur.g&&!ur.u){ur.Y=1;var Fr=ur.Fa;Pr||Br(),br||(Pr(),br=!0),wr.add(Fr,ur),ur.v=0}}function _c(ur){return ur.g||ur.u||3<=ur.v?!1:(ur.Y++,ur.u=Fs(Qe(ur.Fa,ur),Ec(ur,ur.v)),ur.v++,!0)}Ce.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var ur=2*this.R;this.j.info("BP detection timer enabled: "+ur),this.A=Fs(Qe(this.ab,this),ur)}},Ce.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mi(10),Qc(this),Xu(this))};function nc(ur){ur.A!=null&&(ke.clearTimeout(ur.A),ur.A=null)}function Xu(ur){ur.g=new qn(ur,ur.j,"rpc",ur.Y),ur.m===null&&(ur.g.H=ur.o),ur.g.O=0;var Fr=vo(ur.qa);Ws(Fr,"RID","rpc"),Ws(Fr,"SID",ur.K),Ws(Fr,"AID",ur.T),Ws(Fr,"CI",ur.F?"0":"1"),!ur.F&&ur.ja&&Ws(Fr,"TO",ur.ja),Ws(Fr,"TYPE","xmlhttp"),rc(ur,Fr),ur.m&&ur.o&&Fa(Fr,ur.m,ur.o),ur.L&&(ur.g.I=ur.L);var Ur=ur.g;ur=ur.ia,Ur.L=1,Ur.v=Zl(vo(Fr)),Ur.m=null,Ur.P=!0,Ti(Ur,ur)}Ce.Za=function(){this.C!=null&&(this.C=null,Qc(this),_c(this),Mi(19))};function kl(ur){ur.C!=null&&(ke.clearTimeout(ur.C),ur.C=null)}function ic(ur,Fr){var Ur=null;if(ur.g==Fr){kl(ur),nc(ur),ur.g=null;var en=2}else if(Na(ur.h,Fr))Ur=Fr.D,uo(ur.h,Fr),en=1;else return;if(ur.G!=0){if(Fr.o)if(en==1){Ur=Fr.m?Fr.m.length:0,Fr=Date.now()-Fr.F;var Pn=ur.B;en=Zi(),Pi(en,new Qs(en,Ur)),Ol(ur)}else zc(ur);else if(Pn=Fr.s,Pn==3||Pn==0&&0<Fr.X||!(en==1&&vc(ur,Fr)||en==2&&_c(ur)))switch(Ur&&0<Ur.length&&(Fr=ur.h,Fr.i=Fr.i.concat(Ur)),Pn){case 1:Po(ur,5);break;case 4:Po(ur,10);break;case 3:Po(ur,6);break;default:Po(ur,2)}}}function Ec(ur,Fr){let Ur=ur.Ta+Math.floor(Math.random()*ur.cb);return ur.isActive()||(Ur*=2),Ur*Fr}function Po(ur,Fr){if(ur.j.info("Error code "+Fr),Fr==2){var Ur=Qe(ur.fb,ur),en=ur.Xa;const Pn=!en;en=new Os(en||"//www.google.com/images/cleardot.gif"),ke.location&&ke.location.protocol=="http"||Xl(en,"https"),Zl(en),Pn?So(en.toString(),Ur):Wo(en.toString(),Ur)}else Mi(2);ur.G=0,ur.l&&ur.l.sa(Fr),Wc(ur),Ro(ur)}Ce.fb=function(ur){ur?(this.j.info("Successfully pinged google.com"),Mi(2)):(this.j.info("Failed to ping google.com"),Mi(1))};function Wc(ur){if(ur.G=0,ur.ka=[],ur.l){const Fr=$c(ur.h);(Fr.length!=0||ur.i.length!=0)&&(Xe(ur.ka,Fr),Xe(ur.ka,ur.i),ur.h.i.length=0,Ke(ur.i),ur.i.length=0),ur.l.ra()}}function Cr(ur,Fr,Ur){var en=Ur instanceof Os?vo(Ur):new Os(Ur);if(en.g!="")Fr&&(en.g=Fr+"."+en.g),Jl(en,en.s);else{var Pn=ke.location;en=Pn.protocol,Fr=Fr?Fr+"."+Pn.hostname:Pn.hostname,Pn=+Pn.port;var Un=new Os(null);en&&Xl(Un,en),Fr&&(Un.g=Fr),Pn&&Jl(Un,Pn),Ur&&(Un.l=Ur),en=Un}return Ur=ur.D,Fr=ur.ya,Ur&&Fr&&Ws(en,Ur,Fr),Ws(en,"VER",ur.la),rc(ur,en),en}function zr(ur,Fr,Ur){if(Fr&&!ur.J)throw Error("Can't create secondary domain capable XhrIo object.");return Fr=ur.Ca&&!ur.pa?new Cs(new gl({eb:Ur})):new Cs(ur.pa),Fr.Ha(ur.J),Fr}Ce.isActive=function(){return!!this.l&&this.l.isActive(this)};function xn(){}Ce=xn.prototype,Ce.ua=function(){},Ce.ta=function(){},Ce.sa=function(){},Ce.ra=function(){},Ce.isActive=function(){return!0},Ce.Na=function(){};function _n(){}_n.prototype.g=function(ur,Fr){return new Dn(ur,Fr)};function Dn(ur,Fr){xi.call(this),this.g=new ol(Fr),this.l=ur,this.h=Fr&&Fr.messageUrlParams||null,ur=Fr&&Fr.messageHeaders||null,Fr&&Fr.clientProtocolHeaderRequired&&(ur?ur["X-Client-Protocol"]="webchannel":ur={"X-Client-Protocol":"webchannel"}),this.g.o=ur,ur=Fr&&Fr.initMessageHeaders||null,Fr&&Fr.messageContentType&&(ur?ur["X-WebChannel-Content-Type"]=Fr.messageContentType:ur={"X-WebChannel-Content-Type":Fr.messageContentType}),Fr&&Fr.va&&(ur?ur["X-WebChannel-Client-Profile"]=Fr.va:ur={"X-WebChannel-Client-Profile":Fr.va}),this.g.S=ur,(ur=Fr&&Fr.Sb)&&!Ze(ur)&&(this.g.m=ur),this.v=Fr&&Fr.supportsCrossDomainXhr||!1,this.u=Fr&&Fr.sendRawJson||!1,(Fr=Fr&&Fr.httpSessionIdParam)&&!Ze(Fr)&&(this.g.D=Fr,ur=this.h,ur!==null&&Fr in ur&&(ur=this.h,Fr in ur&&delete ur[Fr])),this.j=new $i(this)}qe(Dn,xi),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){bl(this.g)},Dn.prototype.o=function(ur){var Fr=this.g;if(typeof ur=="string"){var Ur={};Ur.__data__=ur,ur=Ur}else this.u&&(Ur={},Ur.__data__=ti(ur),ur=Ur);Fr.i.push(new Eo(Fr.Ya++,ur)),Fr.G==3&&Ol(Fr)},Dn.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,Dn.aa.N.call(this)};function ni(ur){Di.call(this),ur.__headers__&&(this.headers=ur.__headers__,this.statusCode=ur.__status__,delete ur.__headers__,delete ur.__status__);var Fr=ur.__sm__;if(Fr){e:{for(const Ur in Fr){ur=Ur;break e}ur=void 0}(this.i=ur)&&(ur=this.i,Fr=Fr!==null&&ur in Fr?Fr[ur]:void 0),this.data=Fr}else this.data=ur}qe(ni,Di);function Ei(){hi.call(this),this.status=1}qe(Ei,hi);function $i(ur){this.g=ur}qe($i,xn),$i.prototype.ua=function(){Pi(this.g,"a")},$i.prototype.ta=function(ur){Pi(this.g,new ni(ur))},$i.prototype.sa=function(ur){Pi(this.g,new Ei)},$i.prototype.ra=function(){Pi(this.g,"b")},_n.prototype.createWebChannel=_n.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,createWebChannelTransport=function(){return new _n},getStatEventTarget=function(){return Zi()},Event$1=fi,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},on.NO_ERROR=0,on.TIMEOUT=8,on.HTTP_ERROR=6,ErrorCode$1=on,hn.COMPLETE="complete",EventType=hn,bi.EventType=Gi,Gi.OPEN="a",Gi.CLOSE="b",Gi.ERROR="c",Gi.MESSAGE="d",xi.prototype.listen=xi.prototype.K,WebChannel=bi,FetchXmlHttpFactory=gl,Cs.prototype.listenOnce=Cs.prototype.L,Cs.prototype.getLastError=Cs.prototype.Ka,Cs.prototype.getLastErrorCode=Cs.prototype.Ba,Cs.prototype.getStatus=Cs.prototype.Z,Cs.prototype.getResponseJson=Cs.prototype.Oa,Cs.prototype.getResponseText=Cs.prototype.oa,Cs.prototype.send=Cs.prototype.ea,Cs.prototype.setWithCredentials=Cs.prototype.Ha,XhrIo=Cs}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const S$1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(Re){this.uid=Re}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(Re){return Re.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b$1="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$1=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return D$1.logLevel}function __PRIVATE_logDebug(Ce,...Re){if(D$1.logLevel<=LogLevel.DEBUG){const je=Re.map(__PRIVATE_argToString);D$1.debug(`Firestore (${b$1}): ${Ce}`,...je)}}function __PRIVATE_logError(Ce,...Re){if(D$1.logLevel<=LogLevel.ERROR){const je=Re.map(__PRIVATE_argToString);D$1.error(`Firestore (${b$1}): ${Ce}`,...je)}}function __PRIVATE_logWarn(Ce,...Re){if(D$1.logLevel<=LogLevel.WARN){const je=Re.map(__PRIVATE_argToString);D$1.warn(`Firestore (${b$1}): ${Ce}`,...je)}}function __PRIVATE_argToString(Ce){if(typeof Ce=="string")return Ce;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(je){return JSON.stringify(je)})(Ce)}catch{return Ce}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(Ce="Unexpected state"){const Re=`FIRESTORE (${b$1}) INTERNAL ASSERTION FAILED: `+Ce;throw __PRIVATE_logError(Re),new Error(Re)}function __PRIVATE_hardAssert(Ce,Re){Ce||fail()}function __PRIVATE_debugCast(Ce,Re){return Ce}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(Re,je){super(Re,je),this.code=Re,this.message=je,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise(((Re,je)=>{this.resolve=Re,this.reject=je}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(Re,je){this.user=je,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${Re}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(Re,je){Re.enqueueRetryable((()=>je(User.UNAUTHENTICATED)))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(Re){this.token=Re,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(Re,je){this.changeListener=je,Re.enqueueRetryable((()=>je(this.token.user)))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(Re){this.t=Re,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(Re,je){let Be=this.i;const De=Me=>this.i!==Be?(Be=this.i,je(Me)):Promise.resolve();let Fe=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),Fe.resolve(),Fe=new __PRIVATE_Deferred,Re.enqueueRetryable((()=>De(this.currentUser)))};const Oe=()=>{const Me=Fe;Re.enqueueRetryable((async()=>{await Me.promise,await De(this.currentUser)}))},ke=Me=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Me,this.auth.addAuthTokenListener(this.o),Oe()};this.t.onInit((Me=>ke(Me))),setTimeout((()=>{if(!this.auth){const Me=this.t.getImmediate({optional:!0});Me?ke(Me):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),Fe.resolve(),Fe=new __PRIVATE_Deferred)}}),0),Oe()}getToken(){const Re=this.i,je=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(je).then((Be=>this.i!==Re?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):Be?(__PRIVATE_hardAssert(typeof Be.accessToken=="string"),new __PRIVATE_OAuthToken(Be.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const Re=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(Re===null||typeof Re=="string"),new User(Re)}}class __PRIVATE_FirstPartyToken{constructor(Re,je,Be){this.l=Re,this.h=je,this.P=Be,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const Re=this.T();return Re&&this.I.set("Authorization",Re),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(Re,je,Be){this.l=Re,this.h=je,this.P=Be}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(Re,je){Re.enqueueRetryable((()=>je(User.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(Re){this.value=Re,this.type="AppCheck",this.headers=new Map,Re&&Re.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(Re){this.A=Re,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(Re,je){const Be=Fe=>{Fe.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${Fe.error.message}`);const Oe=Fe.token!==this.R;return this.R=Fe.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${Oe?"new":"existing"} token.`),Oe?je(Fe.token):Promise.resolve()};this.o=Fe=>{Re.enqueueRetryable((()=>Be(Fe)))};const De=Fe=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=Fe,this.appCheck.addTokenListener(this.o)};this.A.onInit((Fe=>De(Fe))),setTimeout((()=>{if(!this.appCheck){const Fe=this.A.getImmediate({optional:!0});Fe?De(Fe):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const Re=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(Re).then((je=>je?(__PRIVATE_hardAssert(typeof je.token=="string"),this.R=je.token,new AppCheckToken(je.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(Ce){const Re=typeof self<"u"&&(self.crypto||self.msCrypto),je=new Uint8Array(Ce);if(Re&&typeof Re.getRandomValues=="function")Re.getRandomValues(je);else for(let Be=0;Be<Ce;Be++)je[Be]=Math.floor(256*Math.random());return je}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const Re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",je=Math.floor(256/Re.length)*Re.length;let Be="";for(;Be.length<20;){const De=__PRIVATE_randomBytes(40);for(let Fe=0;Fe<De.length;++Fe)Be.length<20&&De[Fe]<je&&(Be+=Re.charAt(De[Fe]%Re.length))}return Be}}function __PRIVATE_primitiveComparator(Ce,Re){return Ce<Re?-1:Ce>Re?1:0}function __PRIVATE_arrayEquals(Ce,Re,je){return Ce.length===Re.length&&Ce.every(((Be,De)=>je(Be,Re[De])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(Re,je){if(this.seconds=Re,this.nanoseconds=je,je<0)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+je);if(je>=1e9)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+je);if(Re<-62135596800)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Re);if(Re>=253402300800)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Re)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(Re){return Timestamp.fromMillis(Re.getTime())}static fromMillis(Re){const je=Math.floor(Re/1e3),Be=Math.floor(1e6*(Re-1e3*je));return new Timestamp(je,Be)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(Re){return this.seconds===Re.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,Re.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,Re.seconds)}isEqual(Re){return Re.seconds===this.seconds&&Re.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const Re=this.seconds- -62135596800;return String(Re).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(Re){this.timestamp=Re}static fromTimestamp(Re){return new SnapshotVersion(Re)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(Re){return this.timestamp._compareTo(Re.timestamp)}isEqual(Re){return this.timestamp.isEqual(Re.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(Re,je,Be){je===void 0?je=0:je>Re.length&&fail(),Be===void 0?Be=Re.length-je:Be>Re.length-je&&fail(),this.segments=Re,this.offset=je,this.len=Be}get length(){return this.len}isEqual(Re){return BasePath.comparator(this,Re)===0}child(Re){const je=this.segments.slice(this.offset,this.limit());return Re instanceof BasePath?Re.forEach((Be=>{je.push(Be)})):je.push(Re),this.construct(je)}limit(){return this.offset+this.length}popFirst(Re){return Re=Re===void 0?1:Re,this.construct(this.segments,this.offset+Re,this.length-Re)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(Re){return this.segments[this.offset+Re]}isEmpty(){return this.length===0}isPrefixOf(Re){if(Re.length<this.length)return!1;for(let je=0;je<this.length;je++)if(this.get(je)!==Re.get(je))return!1;return!0}isImmediateParentOf(Re){if(this.length+1!==Re.length)return!1;for(let je=0;je<this.length;je++)if(this.get(je)!==Re.get(je))return!1;return!0}forEach(Re){for(let je=this.offset,Be=this.limit();je<Be;je++)Re(this.segments[je])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(Re,je){const Be=Math.min(Re.length,je.length);for(let De=0;De<Be;De++){const Fe=Re.get(De),Oe=je.get(De);if(Fe<Oe)return-1;if(Fe>Oe)return 1}return Re.length<je.length?-1:Re.length>je.length?1:0}}class ResourcePath extends BasePath{construct(Re,je,Be){return new ResourcePath(Re,je,Be)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...Re){const je=[];for(const Be of Re){if(Be.indexOf("//")>=0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid segment (${Be}). Paths must not contain // in them.`);je.push(...Be.split("/").filter((De=>De.length>0)))}return new ResourcePath(je)}static emptyPath(){return new ResourcePath([])}}const v$1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(Re,je,Be){return new FieldPath$1(Re,je,Be)}static isValidIdentifier(Re){return v$1.test(Re)}canonicalString(){return this.toArray().map((Re=>(Re=Re.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(Re)||(Re="`"+Re+"`"),Re))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(Re){const je=[];let Be="",De=0;const Fe=()=>{if(Be.length===0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid field path (${Re}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);je.push(Be),Be=""};let Oe=!1;for(;De<Re.length;){const ke=Re[De];if(ke==="\\"){if(De+1===Re.length)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Path has trailing escape character: "+Re);const Me=Re[De+1];if(Me!=="\\"&&Me!=="."&&Me!=="`")throw new FirestoreError(C$1.INVALID_ARGUMENT,"Path has invalid escape sequence: "+Re);Be+=Me,De+=2}else ke==="`"?(Oe=!Oe,De++):ke!=="."||Oe?(Be+=ke,De++):(Fe(),De++)}if(Fe(),Oe)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Unterminated ` in path: "+Re);return new FieldPath$1(je)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(Re){this.path=Re}static fromPath(Re){return new DocumentKey(ResourcePath.fromString(Re))}static fromName(Re){return new DocumentKey(ResourcePath.fromString(Re).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(Re){return this.path.length>=2&&this.path.get(this.path.length-2)===Re}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(Re){return Re!==null&&ResourcePath.comparator(this.path,Re.path)===0}toString(){return this.path.toString()}static comparator(Re,je){return ResourcePath.comparator(Re.path,je.path)}static isDocumentKey(Re){return Re.length%2==0}static fromSegments(Re){return new DocumentKey(new ResourcePath(Re.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(Ce,Re){const je=Ce.toTimestamp().seconds,Be=Ce.toTimestamp().nanoseconds+1,De=SnapshotVersion.fromTimestamp(Be===1e9?new Timestamp(je+1,0):new Timestamp(je,Be));return new IndexOffset(De,DocumentKey.empty(),Re)}function __PRIVATE_newIndexOffsetFromDocument(Ce){return new IndexOffset(Ce.readTime,Ce.key,-1)}class IndexOffset{constructor(Re,je,Be){this.readTime=Re,this.documentKey=je,this.largestBatchId=Be}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(Ce,Re){let je=Ce.readTime.compareTo(Re.readTime);return je!==0?je:(je=DocumentKey.comparator(Ce.documentKey,Re.documentKey),je!==0?je:__PRIVATE_primitiveComparator(Ce.largestBatchId,Re.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(Re){this.onCommittedListeners.push(Re)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((Re=>Re()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(Ce){if(Ce.code!==C$1.FAILED_PRECONDITION||Ce.message!==F$3)throw Ce;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(Re){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,Re((je=>{this.isDone=!0,this.result=je,this.nextCallback&&this.nextCallback(je)}),(je=>{this.isDone=!0,this.error=je,this.catchCallback&&this.catchCallback(je)}))}catch(Re){return this.next(void 0,Re)}next(Re,je){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(je,this.error):this.wrapSuccess(Re,this.result):new PersistencePromise(((Be,De)=>{this.nextCallback=Fe=>{this.wrapSuccess(Re,Fe).next(Be,De)},this.catchCallback=Fe=>{this.wrapFailure(je,Fe).next(Be,De)}}))}toPromise(){return new Promise(((Re,je)=>{this.next(Re,je)}))}wrapUserFunction(Re){try{const je=Re();return je instanceof PersistencePromise?je:PersistencePromise.resolve(je)}catch(je){return PersistencePromise.reject(je)}}wrapSuccess(Re,je){return Re?this.wrapUserFunction((()=>Re(je))):PersistencePromise.resolve(je)}wrapFailure(Re,je){return Re?this.wrapUserFunction((()=>Re(je))):PersistencePromise.reject(je)}static resolve(Re){return new PersistencePromise(((je,Be)=>{je(Re)}))}static reject(Re){return new PersistencePromise(((je,Be)=>{Be(Re)}))}static waitFor(Re){return new PersistencePromise(((je,Be)=>{let De=0,Fe=0,Oe=!1;Re.forEach((ke=>{++De,ke.next((()=>{++Fe,Oe&&Fe===De&&je()}),(Me=>Be(Me)))})),Oe=!0,Fe===De&&je()}))}static or(Re){let je=PersistencePromise.resolve(!1);for(const Be of Re)je=je.next((De=>De?PersistencePromise.resolve(De):Be()));return je}static forEach(Re,je){const Be=[];return Re.forEach(((De,Fe)=>{Be.push(je.call(this,De,Fe))})),this.waitFor(Be)}static mapArray(Re,je){return new PersistencePromise(((Be,De)=>{const Fe=Re.length,Oe=new Array(Fe);let ke=0;for(let Me=0;Me<Fe;Me++){const Ue=Me;je(Re[Ue]).next(($e=>{Oe[Ue]=$e,++ke,ke===Fe&&Be(Oe)}),($e=>De($e)))}}))}static doWhile(Re,je){return new PersistencePromise(((Be,De)=>{const Fe=()=>{Re()===!0?je().next((()=>{Fe()}),De):Be()};Fe()}))}}function __PRIVATE_getAndroidVersion(Ce){const Re=Ce.match(/Android ([\d.]+)/i),je=Re?Re[1].split(".").slice(0,2).join("."):"-1";return Number(je)}function __PRIVATE_isIndexedDbTransactionError(Ce){return Ce.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(Re,je){this.previousValue=Re,je&&(je.sequenceNumberHandler=Be=>this.ie(Be),this.se=Be=>je.writeSequenceNumber(Be))}ie(Re){return this.previousValue=Math.max(Re,this.previousValue),this.previousValue}next(){const Re=++this.previousValue;return this.se&&this.se(Re),Re}}__PRIVATE_ListenSequence.oe=-1;function __PRIVATE_isNullOrUndefined(Ce){return Ce==null}function __PRIVATE_isNegativeZero(Ce){return Ce===0&&1/Ce==-1/0}function isSafeInteger(Ce){return typeof Ce=="number"&&Number.isInteger(Ce)&&!__PRIVATE_isNegativeZero(Ce)&&Ce<=Number.MAX_SAFE_INTEGER&&Ce>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(Ce){let Re=0;for(const je in Ce)Object.prototype.hasOwnProperty.call(Ce,je)&&Re++;return Re}function forEach(Ce,Re){for(const je in Ce)Object.prototype.hasOwnProperty.call(Ce,je)&&Re(je,Ce[je])}function isEmpty$3(Ce){for(const Re in Ce)if(Object.prototype.hasOwnProperty.call(Ce,Re))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(Re,je){this.comparator=Re,this.root=je||LLRBNode.EMPTY}insert(Re,je){return new SortedMap(this.comparator,this.root.insert(Re,je,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(Re){return new SortedMap(this.comparator,this.root.remove(Re,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(Re){let je=this.root;for(;!je.isEmpty();){const Be=this.comparator(Re,je.key);if(Be===0)return je.value;Be<0?je=je.left:Be>0&&(je=je.right)}return null}indexOf(Re){let je=0,Be=this.root;for(;!Be.isEmpty();){const De=this.comparator(Re,Be.key);if(De===0)return je+Be.left.size;De<0?Be=Be.left:(je+=Be.left.size+1,Be=Be.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(Re){return this.root.inorderTraversal(Re)}forEach(Re){this.inorderTraversal(((je,Be)=>(Re(je,Be),!1)))}toString(){const Re=[];return this.inorderTraversal(((je,Be)=>(Re.push(`${je}:${Be}`),!1))),`{${Re.join(", ")}}`}reverseTraversal(Re){return this.root.reverseTraversal(Re)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(Re){return new SortedMapIterator(this.root,Re,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(Re){return new SortedMapIterator(this.root,Re,this.comparator,!0)}}class SortedMapIterator{constructor(Re,je,Be,De){this.isReverse=De,this.nodeStack=[];let Fe=1;for(;!Re.isEmpty();)if(Fe=je?Be(Re.key,je):1,je&&De&&(Fe*=-1),Fe<0)Re=this.isReverse?Re.left:Re.right;else{if(Fe===0){this.nodeStack.push(Re);break}this.nodeStack.push(Re),Re=this.isReverse?Re.right:Re.left}}getNext(){let Re=this.nodeStack.pop();const je={key:Re.key,value:Re.value};if(this.isReverse)for(Re=Re.left;!Re.isEmpty();)this.nodeStack.push(Re),Re=Re.right;else for(Re=Re.right;!Re.isEmpty();)this.nodeStack.push(Re),Re=Re.left;return je}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const Re=this.nodeStack[this.nodeStack.length-1];return{key:Re.key,value:Re.value}}}class LLRBNode{constructor(Re,je,Be,De,Fe){this.key=Re,this.value=je,this.color=Be??LLRBNode.RED,this.left=De??LLRBNode.EMPTY,this.right=Fe??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(Re,je,Be,De,Fe){return new LLRBNode(Re??this.key,je??this.value,Be??this.color,De??this.left,Fe??this.right)}isEmpty(){return!1}inorderTraversal(Re){return this.left.inorderTraversal(Re)||Re(this.key,this.value)||this.right.inorderTraversal(Re)}reverseTraversal(Re){return this.right.reverseTraversal(Re)||Re(this.key,this.value)||this.left.reverseTraversal(Re)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(Re,je,Be){let De=this;const Fe=Be(Re,De.key);return De=Fe<0?De.copy(null,null,null,De.left.insert(Re,je,Be),null):Fe===0?De.copy(null,je,null,null,null):De.copy(null,null,null,null,De.right.insert(Re,je,Be)),De.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let Re=this;return Re.left.isRed()||Re.left.left.isRed()||(Re=Re.moveRedLeft()),Re=Re.copy(null,null,null,Re.left.removeMin(),null),Re.fixUp()}remove(Re,je){let Be,De=this;if(je(Re,De.key)<0)De.left.isEmpty()||De.left.isRed()||De.left.left.isRed()||(De=De.moveRedLeft()),De=De.copy(null,null,null,De.left.remove(Re,je),null);else{if(De.left.isRed()&&(De=De.rotateRight()),De.right.isEmpty()||De.right.isRed()||De.right.left.isRed()||(De=De.moveRedRight()),je(Re,De.key)===0){if(De.right.isEmpty())return LLRBNode.EMPTY;Be=De.right.min(),De=De.copy(Be.key,Be.value,null,null,De.right.removeMin())}De=De.copy(null,null,null,null,De.right.remove(Re,je))}return De.fixUp()}isRed(){return this.color}fixUp(){let Re=this;return Re.right.isRed()&&!Re.left.isRed()&&(Re=Re.rotateLeft()),Re.left.isRed()&&Re.left.left.isRed()&&(Re=Re.rotateRight()),Re.left.isRed()&&Re.right.isRed()&&(Re=Re.colorFlip()),Re}moveRedLeft(){let Re=this.colorFlip();return Re.right.left.isRed()&&(Re=Re.copy(null,null,null,null,Re.right.rotateRight()),Re=Re.rotateLeft(),Re=Re.colorFlip()),Re}moveRedRight(){let Re=this.colorFlip();return Re.left.left.isRed()&&(Re=Re.rotateRight(),Re=Re.colorFlip()),Re}rotateLeft(){const Re=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,Re,null)}rotateRight(){const Re=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,Re)}colorFlip(){const Re=this.left.copy(null,null,!this.left.color,null,null),je=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,Re,je)}checkMaxDepth(){const Re=this.check();return Math.pow(2,Re)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const Re=this.left.check();if(Re!==this.right.check())throw fail();return Re+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(Re,je,Be,De,Fe){return this}insert(Re,je,Be){return new LLRBNode(Re,je)}remove(Re,je){return this}isEmpty(){return!0}inorderTraversal(Re){return!1}reverseTraversal(Re){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(Re){this.comparator=Re,this.data=new SortedMap(this.comparator)}has(Re){return this.data.get(Re)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(Re){return this.data.indexOf(Re)}forEach(Re){this.data.inorderTraversal(((je,Be)=>(Re(je),!1)))}forEachInRange(Re,je){const Be=this.data.getIteratorFrom(Re[0]);for(;Be.hasNext();){const De=Be.getNext();if(this.comparator(De.key,Re[1])>=0)return;je(De.key)}}forEachWhile(Re,je){let Be;for(Be=je!==void 0?this.data.getIteratorFrom(je):this.data.getIterator();Be.hasNext();)if(!Re(Be.getNext().key))return}firstAfterOrEqual(Re){const je=this.data.getIteratorFrom(Re);return je.hasNext()?je.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(Re){return new SortedSetIterator(this.data.getIteratorFrom(Re))}add(Re){return this.copy(this.data.remove(Re).insert(Re,!0))}delete(Re){return this.has(Re)?this.copy(this.data.remove(Re)):this}isEmpty(){return this.data.isEmpty()}unionWith(Re){let je=this;return je.size<Re.size&&(je=Re,Re=this),Re.forEach((Be=>{je=je.add(Be)})),je}isEqual(Re){if(!(Re instanceof SortedSet)||this.size!==Re.size)return!1;const je=this.data.getIterator(),Be=Re.data.getIterator();for(;je.hasNext();){const De=je.getNext().key,Fe=Be.getNext().key;if(this.comparator(De,Fe)!==0)return!1}return!0}toArray(){const Re=[];return this.forEach((je=>{Re.push(je)})),Re}toString(){const Re=[];return this.forEach((je=>Re.push(je))),"SortedSet("+Re.toString()+")"}copy(Re){const je=new SortedSet(this.comparator);return je.data=Re,je}}class SortedSetIterator{constructor(Re){this.iter=Re}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(Re){this.fields=Re,Re.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(Re){let je=new SortedSet(FieldPath$1.comparator);for(const Be of this.fields)je=je.add(Be);for(const Be of Re)je=je.add(Be);return new FieldMask(je.toArray())}covers(Re){for(const je of this.fields)if(je.isPrefixOf(Re))return!0;return!1}isEqual(Re){return __PRIVATE_arrayEquals(this.fields,Re.fields,((je,Be)=>je.isEqual(Be)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(Re){this.binaryString=Re}static fromBase64String(Re){const je=(function(De){try{return atob(De)}catch(Fe){throw typeof DOMException<"u"&&Fe instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+Fe):Fe}})(Re);return new ByteString(je)}static fromUint8Array(Re){const je=(function(De){let Fe="";for(let Oe=0;Oe<De.length;++Oe)Fe+=String.fromCharCode(De[Oe]);return Fe})(Re);return new ByteString(je)}[Symbol.iterator](){let Re=0;return{next:()=>Re<this.binaryString.length?{value:this.binaryString.charCodeAt(Re++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(je){return btoa(je)})(this.binaryString)}toUint8Array(){return(function(je){const Be=new Uint8Array(je.length);for(let De=0;De<je.length;De++)Be[De]=je.charCodeAt(De);return Be})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(Re){return __PRIVATE_primitiveComparator(this.binaryString,Re.binaryString)}isEqual(Re){return this.binaryString===Re.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ne$2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(Ce){if(__PRIVATE_hardAssert(!!Ce),typeof Ce=="string"){let Re=0;const je=ne$2.exec(Ce);if(__PRIVATE_hardAssert(!!je),je[1]){let De=je[1];De=(De+"000000000").substr(0,9),Re=Number(De)}const Be=new Date(Ce);return{seconds:Math.floor(Be.getTime()/1e3),nanos:Re}}return{seconds:__PRIVATE_normalizeNumber(Ce.seconds),nanos:__PRIVATE_normalizeNumber(Ce.nanos)}}function __PRIVATE_normalizeNumber(Ce){return typeof Ce=="number"?Ce:typeof Ce=="string"?Number(Ce):0}function __PRIVATE_normalizeByteString(Ce){return typeof Ce=="string"?ByteString.fromBase64String(Ce):ByteString.fromUint8Array(Ce)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(Ce){var Re,je;return((je=(((Re=Ce?.mapValue)===null||Re===void 0?void 0:Re.fields)||{}).__type__)===null||je===void 0?void 0:je.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(Ce){const Re=Ce.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(Re)?__PRIVATE_getPreviousValue(Re):Re}function __PRIVATE_getLocalWriteTime(Ce){const Re=__PRIVATE_normalizeTimestamp(Ce.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(Re.seconds,Re.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(Re,je,Be,De,Fe,Oe,ke,Me,Ue){this.databaseId=Re,this.appId=je,this.persistenceKey=Be,this.host=De,this.ssl=Fe,this.forceLongPolling=Oe,this.autoDetectLongPolling=ke,this.longPollingOptions=Me,this.useFetchStreams=Ue}}class DatabaseId{constructor(Re,je){this.projectId=Re,this.database=je||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(Re){return Re instanceof DatabaseId&&Re.projectId===this.projectId&&Re.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re$3={mapValue:{}};function __PRIVATE_typeOrder(Ce){return"nullValue"in Ce?0:"booleanValue"in Ce?1:"integerValue"in Ce||"doubleValue"in Ce?2:"timestampValue"in Ce?3:"stringValue"in Ce?5:"bytesValue"in Ce?6:"referenceValue"in Ce?7:"geoPointValue"in Ce?8:"arrayValue"in Ce?9:"mapValue"in Ce?__PRIVATE_isServerTimestamp(Ce)?4:__PRIVATE_isMaxValue(Ce)?9007199254740991:10:fail()}function __PRIVATE_valueEquals(Ce,Re){if(Ce===Re)return!0;const je=__PRIVATE_typeOrder(Ce);if(je!==__PRIVATE_typeOrder(Re))return!1;switch(je){case 0:case 9007199254740991:return!0;case 1:return Ce.booleanValue===Re.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(Ce).isEqual(__PRIVATE_getLocalWriteTime(Re));case 3:return(function(De,Fe){if(typeof De.timestampValue=="string"&&typeof Fe.timestampValue=="string"&&De.timestampValue.length===Fe.timestampValue.length)return De.timestampValue===Fe.timestampValue;const Oe=__PRIVATE_normalizeTimestamp(De.timestampValue),ke=__PRIVATE_normalizeTimestamp(Fe.timestampValue);return Oe.seconds===ke.seconds&&Oe.nanos===ke.nanos})(Ce,Re);case 5:return Ce.stringValue===Re.stringValue;case 6:return(function(De,Fe){return __PRIVATE_normalizeByteString(De.bytesValue).isEqual(__PRIVATE_normalizeByteString(Fe.bytesValue))})(Ce,Re);case 7:return Ce.referenceValue===Re.referenceValue;case 8:return(function(De,Fe){return __PRIVATE_normalizeNumber(De.geoPointValue.latitude)===__PRIVATE_normalizeNumber(Fe.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(De.geoPointValue.longitude)===__PRIVATE_normalizeNumber(Fe.geoPointValue.longitude)})(Ce,Re);case 2:return(function(De,Fe){if("integerValue"in De&&"integerValue"in Fe)return __PRIVATE_normalizeNumber(De.integerValue)===__PRIVATE_normalizeNumber(Fe.integerValue);if("doubleValue"in De&&"doubleValue"in Fe){const Oe=__PRIVATE_normalizeNumber(De.doubleValue),ke=__PRIVATE_normalizeNumber(Fe.doubleValue);return Oe===ke?__PRIVATE_isNegativeZero(Oe)===__PRIVATE_isNegativeZero(ke):isNaN(Oe)&&isNaN(ke)}return!1})(Ce,Re);case 9:return __PRIVATE_arrayEquals(Ce.arrayValue.values||[],Re.arrayValue.values||[],__PRIVATE_valueEquals);case 10:return(function(De,Fe){const Oe=De.mapValue.fields||{},ke=Fe.mapValue.fields||{};if(__PRIVATE_objectSize(Oe)!==__PRIVATE_objectSize(ke))return!1;for(const Me in Oe)if(Oe.hasOwnProperty(Me)&&(ke[Me]===void 0||!__PRIVATE_valueEquals(Oe[Me],ke[Me])))return!1;return!0})(Ce,Re);default:return fail()}}function __PRIVATE_arrayValueContains(Ce,Re){return(Ce.values||[]).find((je=>__PRIVATE_valueEquals(je,Re)))!==void 0}function __PRIVATE_valueCompare(Ce,Re){if(Ce===Re)return 0;const je=__PRIVATE_typeOrder(Ce),Be=__PRIVATE_typeOrder(Re);if(je!==Be)return __PRIVATE_primitiveComparator(je,Be);switch(je){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(Ce.booleanValue,Re.booleanValue);case 2:return(function(Fe,Oe){const ke=__PRIVATE_normalizeNumber(Fe.integerValue||Fe.doubleValue),Me=__PRIVATE_normalizeNumber(Oe.integerValue||Oe.doubleValue);return ke<Me?-1:ke>Me?1:ke===Me?0:isNaN(ke)?isNaN(Me)?0:-1:1})(Ce,Re);case 3:return __PRIVATE_compareTimestamps(Ce.timestampValue,Re.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(Ce),__PRIVATE_getLocalWriteTime(Re));case 5:return __PRIVATE_primitiveComparator(Ce.stringValue,Re.stringValue);case 6:return(function(Fe,Oe){const ke=__PRIVATE_normalizeByteString(Fe),Me=__PRIVATE_normalizeByteString(Oe);return ke.compareTo(Me)})(Ce.bytesValue,Re.bytesValue);case 7:return(function(Fe,Oe){const ke=Fe.split("/"),Me=Oe.split("/");for(let Ue=0;Ue<ke.length&&Ue<Me.length;Ue++){const $e=__PRIVATE_primitiveComparator(ke[Ue],Me[Ue]);if($e!==0)return $e}return __PRIVATE_primitiveComparator(ke.length,Me.length)})(Ce.referenceValue,Re.referenceValue);case 8:return(function(Fe,Oe){const ke=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(Fe.latitude),__PRIVATE_normalizeNumber(Oe.latitude));return ke!==0?ke:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(Fe.longitude),__PRIVATE_normalizeNumber(Oe.longitude))})(Ce.geoPointValue,Re.geoPointValue);case 9:return(function(Fe,Oe){const ke=Fe.values||[],Me=Oe.values||[];for(let Ue=0;Ue<ke.length&&Ue<Me.length;++Ue){const $e=__PRIVATE_valueCompare(ke[Ue],Me[Ue]);if($e)return $e}return __PRIVATE_primitiveComparator(ke.length,Me.length)})(Ce.arrayValue,Re.arrayValue);case 10:return(function(Fe,Oe){if(Fe===re$3.mapValue&&Oe===re$3.mapValue)return 0;if(Fe===re$3.mapValue)return 1;if(Oe===re$3.mapValue)return-1;const ke=Fe.fields||{},Me=Object.keys(ke),Ue=Oe.fields||{},$e=Object.keys(Ue);Me.sort(),$e.sort();for(let He=0;He<Me.length&&He<$e.length;++He){const Qe=__PRIVATE_primitiveComparator(Me[He],$e[He]);if(Qe!==0)return Qe;const We=__PRIVATE_valueCompare(ke[Me[He]],Ue[$e[He]]);if(We!==0)return We}return __PRIVATE_primitiveComparator(Me.length,$e.length)})(Ce.mapValue,Re.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(Ce,Re){if(typeof Ce=="string"&&typeof Re=="string"&&Ce.length===Re.length)return __PRIVATE_primitiveComparator(Ce,Re);const je=__PRIVATE_normalizeTimestamp(Ce),Be=__PRIVATE_normalizeTimestamp(Re),De=__PRIVATE_primitiveComparator(je.seconds,Be.seconds);return De!==0?De:__PRIVATE_primitiveComparator(je.nanos,Be.nanos)}function canonicalId(Ce){return __PRIVATE_canonifyValue(Ce)}function __PRIVATE_canonifyValue(Ce){return"nullValue"in Ce?"null":"booleanValue"in Ce?""+Ce.booleanValue:"integerValue"in Ce?""+Ce.integerValue:"doubleValue"in Ce?""+Ce.doubleValue:"timestampValue"in Ce?(function(je){const Be=__PRIVATE_normalizeTimestamp(je);return`time(${Be.seconds},${Be.nanos})`})(Ce.timestampValue):"stringValue"in Ce?Ce.stringValue:"bytesValue"in Ce?(function(je){return __PRIVATE_normalizeByteString(je).toBase64()})(Ce.bytesValue):"referenceValue"in Ce?(function(je){return DocumentKey.fromName(je).toString()})(Ce.referenceValue):"geoPointValue"in Ce?(function(je){return`geo(${je.latitude},${je.longitude})`})(Ce.geoPointValue):"arrayValue"in Ce?(function(je){let Be="[",De=!0;for(const Fe of je.values||[])De?De=!1:Be+=",",Be+=__PRIVATE_canonifyValue(Fe);return Be+"]"})(Ce.arrayValue):"mapValue"in Ce?(function(je){const Be=Object.keys(je.fields||{}).sort();let De="{",Fe=!0;for(const Oe of Be)Fe?Fe=!1:De+=",",De+=`${Oe}:${__PRIVATE_canonifyValue(je.fields[Oe])}`;return De+"}"})(Ce.mapValue):fail()}function __PRIVATE_refValue(Ce,Re){return{referenceValue:`projects/${Ce.projectId}/databases/${Ce.database}/documents/${Re.path.canonicalString()}`}}function isInteger(Ce){return!!Ce&&"integerValue"in Ce}function isArray$2(Ce){return!!Ce&&"arrayValue"in Ce}function __PRIVATE_isNullValue(Ce){return!!Ce&&"nullValue"in Ce}function __PRIVATE_isNanValue(Ce){return!!Ce&&"doubleValue"in Ce&&isNaN(Number(Ce.doubleValue))}function __PRIVATE_isMapValue(Ce){return!!Ce&&"mapValue"in Ce}function __PRIVATE_deepClone(Ce){if(Ce.geoPointValue)return{geoPointValue:Object.assign({},Ce.geoPointValue)};if(Ce.timestampValue&&typeof Ce.timestampValue=="object")return{timestampValue:Object.assign({},Ce.timestampValue)};if(Ce.mapValue){const Re={mapValue:{fields:{}}};return forEach(Ce.mapValue.fields,((je,Be)=>Re.mapValue.fields[je]=__PRIVATE_deepClone(Be))),Re}if(Ce.arrayValue){const Re={arrayValue:{values:[]}};for(let je=0;je<(Ce.arrayValue.values||[]).length;++je)Re.arrayValue.values[je]=__PRIVATE_deepClone(Ce.arrayValue.values[je]);return Re}return Object.assign({},Ce)}function __PRIVATE_isMaxValue(Ce){return(((Ce.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(Re){this.value=Re}static empty(){return new ObjectValue({mapValue:{}})}field(Re){if(Re.isEmpty())return this.value;{let je=this.value;for(let Be=0;Be<Re.length-1;++Be)if(je=(je.mapValue.fields||{})[Re.get(Be)],!__PRIVATE_isMapValue(je))return null;return je=(je.mapValue.fields||{})[Re.lastSegment()],je||null}}set(Re,je){this.getFieldsMap(Re.popLast())[Re.lastSegment()]=__PRIVATE_deepClone(je)}setAll(Re){let je=FieldPath$1.emptyPath(),Be={},De=[];Re.forEach(((Oe,ke)=>{if(!je.isImmediateParentOf(ke)){const Me=this.getFieldsMap(je);this.applyChanges(Me,Be,De),Be={},De=[],je=ke.popLast()}Oe?Be[ke.lastSegment()]=__PRIVATE_deepClone(Oe):De.push(ke.lastSegment())}));const Fe=this.getFieldsMap(je);this.applyChanges(Fe,Be,De)}delete(Re){const je=this.field(Re.popLast());__PRIVATE_isMapValue(je)&&je.mapValue.fields&&delete je.mapValue.fields[Re.lastSegment()]}isEqual(Re){return __PRIVATE_valueEquals(this.value,Re.value)}getFieldsMap(Re){let je=this.value;je.mapValue.fields||(je.mapValue={fields:{}});for(let Be=0;Be<Re.length;++Be){let De=je.mapValue.fields[Re.get(Be)];__PRIVATE_isMapValue(De)&&De.mapValue.fields||(De={mapValue:{fields:{}}},je.mapValue.fields[Re.get(Be)]=De),je=De}return je.mapValue.fields}applyChanges(Re,je,Be){forEach(je,((De,Fe)=>Re[De]=Fe));for(const De of Be)delete Re[De]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(Ce){const Re=[];return forEach(Ce.fields,((je,Be)=>{const De=new FieldPath$1([je]);if(__PRIVATE_isMapValue(Be)){const Fe=__PRIVATE_extractFieldMask(Be.mapValue).fields;if(Fe.length===0)Re.push(De);else for(const Oe of Fe)Re.push(De.child(Oe))}else Re.push(De)})),new FieldMask(Re)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(Re,je,Be,De,Fe,Oe,ke){this.key=Re,this.documentType=je,this.version=Be,this.readTime=De,this.createTime=Fe,this.data=Oe,this.documentState=ke}static newInvalidDocument(Re){return new MutableDocument(Re,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(Re,je,Be,De){return new MutableDocument(Re,1,je,SnapshotVersion.min(),Be,De,0)}static newNoDocument(Re,je){return new MutableDocument(Re,2,je,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(Re,je){return new MutableDocument(Re,3,je,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(Re,je){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=Re),this.version=Re,this.documentType=1,this.data=je,this.documentState=0,this}convertToNoDocument(Re){return this.version=Re,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(Re){return this.version=Re,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(Re){return this.readTime=Re,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(Re){return Re instanceof MutableDocument&&this.key.isEqual(Re.key)&&this.version.isEqual(Re.version)&&this.documentType===Re.documentType&&this.documentState===Re.documentState&&this.data.isEqual(Re.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(Re,je){this.position=Re,this.inclusive=je}}function __PRIVATE_boundCompareToDocument(Ce,Re,je){let Be=0;for(let De=0;De<Ce.position.length;De++){const Fe=Re[De],Oe=Ce.position[De];if(Fe.field.isKeyField()?Be=DocumentKey.comparator(DocumentKey.fromName(Oe.referenceValue),je.key):Be=__PRIVATE_valueCompare(Oe,je.data.field(Fe.field)),Fe.dir==="desc"&&(Be*=-1),Be!==0)break}return Be}function __PRIVATE_boundEquals(Ce,Re){if(Ce===null)return Re===null;if(Re===null||Ce.inclusive!==Re.inclusive||Ce.position.length!==Re.position.length)return!1;for(let je=0;je<Ce.position.length;je++)if(!__PRIVATE_valueEquals(Ce.position[je],Re.position[je]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(Re,je="asc"){this.field=Re,this.dir=je}}function __PRIVATE_orderByEquals(Ce,Re){return Ce.dir===Re.dir&&Ce.field.isEqual(Re.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(Re,je,Be){super(),this.field=Re,this.op=je,this.value=Be}static create(Re,je,Be){return Re.isKeyField()?je==="in"||je==="not-in"?this.createKeyFieldInFilter(Re,je,Be):new __PRIVATE_KeyFieldFilter(Re,je,Be):je==="array-contains"?new __PRIVATE_ArrayContainsFilter(Re,Be):je==="in"?new __PRIVATE_InFilter(Re,Be):je==="not-in"?new __PRIVATE_NotInFilter(Re,Be):je==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(Re,Be):new FieldFilter(Re,je,Be)}static createKeyFieldInFilter(Re,je,Be){return je==="in"?new __PRIVATE_KeyFieldInFilter(Re,Be):new __PRIVATE_KeyFieldNotInFilter(Re,Be)}matches(Re){const je=Re.data.field(this.field);return this.op==="!="?je!==null&&this.matchesComparison(__PRIVATE_valueCompare(je,this.value)):je!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(je)&&this.matchesComparison(__PRIVATE_valueCompare(je,this.value))}matchesComparison(Re){switch(this.op){case"<":return Re<0;case"<=":return Re<=0;case"==":return Re===0;case"!=":return Re!==0;case">":return Re>0;case">=":return Re>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(Re,je){super(),this.filters=Re,this.op=je,this.ae=null}static create(Re,je){return new CompositeFilter(Re,je)}matches(Re){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find((je=>!je.matches(Re)))===void 0:this.filters.find((je=>je.matches(Re)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((Re,je)=>Re.concat(je.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(Ce){return Ce.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(Ce){return __PRIVATE_compositeFilterIsFlat(Ce)&&__PRIVATE_compositeFilterIsConjunction(Ce)}function __PRIVATE_compositeFilterIsFlat(Ce){for(const Re of Ce.filters)if(Re instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(Ce){if(Ce instanceof FieldFilter)return Ce.field.canonicalString()+Ce.op.toString()+canonicalId(Ce.value);if(__PRIVATE_compositeFilterIsFlatConjunction(Ce))return Ce.filters.map((Re=>__PRIVATE_canonifyFilter(Re))).join(",");{const Re=Ce.filters.map((je=>__PRIVATE_canonifyFilter(je))).join(",");return`${Ce.op}(${Re})`}}function __PRIVATE_filterEquals(Ce,Re){return Ce instanceof FieldFilter?(function(Be,De){return De instanceof FieldFilter&&Be.op===De.op&&Be.field.isEqual(De.field)&&__PRIVATE_valueEquals(Be.value,De.value)})(Ce,Re):Ce instanceof CompositeFilter?(function(Be,De){return De instanceof CompositeFilter&&Be.op===De.op&&Be.filters.length===De.filters.length?Be.filters.reduce(((Fe,Oe,ke)=>Fe&&__PRIVATE_filterEquals(Oe,De.filters[ke])),!0):!1})(Ce,Re):void fail()}function __PRIVATE_stringifyFilter(Ce){return Ce instanceof FieldFilter?(function(je){return`${je.field.canonicalString()} ${je.op} ${canonicalId(je.value)}`})(Ce):Ce instanceof CompositeFilter?(function(je){return je.op.toString()+" {"+je.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"})(Ce):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(Re,je,Be){super(Re,je,Be),this.key=DocumentKey.fromName(Be.referenceValue)}matches(Re){const je=DocumentKey.comparator(Re.key,this.key);return this.matchesComparison(je)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(Re,je){super(Re,"in",je),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",je)}matches(Re){return this.keys.some((je=>je.isEqual(Re.key)))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(Re,je){super(Re,"not-in",je),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",je)}matches(Re){return!this.keys.some((je=>je.isEqual(Re.key)))}}function __PRIVATE_extractDocumentKeysFromArrayValue(Ce,Re){var je;return(((je=Re.arrayValue)===null||je===void 0?void 0:je.values)||[]).map((Be=>DocumentKey.fromName(Be.referenceValue)))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(Re,je){super(Re,"array-contains",je)}matches(Re){const je=Re.data.field(this.field);return isArray$2(je)&&__PRIVATE_arrayValueContains(je.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(Re,je){super(Re,"in",je)}matches(Re){const je=Re.data.field(this.field);return je!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,je)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(Re,je){super(Re,"not-in",je)}matches(Re){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const je=Re.data.field(this.field);return je!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,je)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(Re,je){super(Re,"array-contains-any",je)}matches(Re){const je=Re.data.field(this.field);return!(!isArray$2(je)||!je.arrayValue.values)&&je.arrayValue.values.some((Be=>__PRIVATE_arrayValueContains(this.value.arrayValue,Be)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(Re,je=null,Be=[],De=[],Fe=null,Oe=null,ke=null){this.path=Re,this.collectionGroup=je,this.orderBy=Be,this.filters=De,this.limit=Fe,this.startAt=Oe,this.endAt=ke,this.ue=null}}function __PRIVATE_newTarget(Ce,Re=null,je=[],Be=[],De=null,Fe=null,Oe=null){return new __PRIVATE_TargetImpl(Ce,Re,je,Be,De,Fe,Oe)}function __PRIVATE_canonifyTarget(Ce){const Re=__PRIVATE_debugCast(Ce);if(Re.ue===null){let je=Re.path.canonicalString();Re.collectionGroup!==null&&(je+="|cg:"+Re.collectionGroup),je+="|f:",je+=Re.filters.map((Be=>__PRIVATE_canonifyFilter(Be))).join(","),je+="|ob:",je+=Re.orderBy.map((Be=>(function(Fe){return Fe.field.canonicalString()+Fe.dir})(Be))).join(","),__PRIVATE_isNullOrUndefined(Re.limit)||(je+="|l:",je+=Re.limit),Re.startAt&&(je+="|lb:",je+=Re.startAt.inclusive?"b:":"a:",je+=Re.startAt.position.map((Be=>canonicalId(Be))).join(",")),Re.endAt&&(je+="|ub:",je+=Re.endAt.inclusive?"a:":"b:",je+=Re.endAt.position.map((Be=>canonicalId(Be))).join(",")),Re.ue=je}return Re.ue}function __PRIVATE_targetEquals(Ce,Re){if(Ce.limit!==Re.limit||Ce.orderBy.length!==Re.orderBy.length)return!1;for(let je=0;je<Ce.orderBy.length;je++)if(!__PRIVATE_orderByEquals(Ce.orderBy[je],Re.orderBy[je]))return!1;if(Ce.filters.length!==Re.filters.length)return!1;for(let je=0;je<Ce.filters.length;je++)if(!__PRIVATE_filterEquals(Ce.filters[je],Re.filters[je]))return!1;return Ce.collectionGroup===Re.collectionGroup&&!!Ce.path.isEqual(Re.path)&&!!__PRIVATE_boundEquals(Ce.startAt,Re.startAt)&&__PRIVATE_boundEquals(Ce.endAt,Re.endAt)}function __PRIVATE_targetIsDocumentTarget(Ce){return DocumentKey.isDocumentKey(Ce.path)&&Ce.collectionGroup===null&&Ce.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(Re,je=null,Be=[],De=[],Fe=null,Oe="F",ke=null,Me=null){this.path=Re,this.collectionGroup=je,this.explicitOrderBy=Be,this.filters=De,this.limit=Fe,this.limitType=Oe,this.startAt=ke,this.endAt=Me,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(Ce,Re,je,Be,De,Fe,Oe,ke){return new __PRIVATE_QueryImpl(Ce,Re,je,Be,De,Fe,Oe,ke)}function __PRIVATE_newQueryForPath(Ce){return new __PRIVATE_QueryImpl(Ce)}function __PRIVATE_queryMatchesAllDocuments(Ce){return Ce.filters.length===0&&Ce.limit===null&&Ce.startAt==null&&Ce.endAt==null&&(Ce.explicitOrderBy.length===0||Ce.explicitOrderBy.length===1&&Ce.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(Ce){return Ce.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(Ce){const Re=__PRIVATE_debugCast(Ce);if(Re.ce===null){Re.ce=[];const je=new Set;for(const Fe of Re.explicitOrderBy)Re.ce.push(Fe),je.add(Fe.field.canonicalString());const Be=Re.explicitOrderBy.length>0?Re.explicitOrderBy[Re.explicitOrderBy.length-1].dir:"asc";(function(Oe){let ke=new SortedSet(FieldPath$1.comparator);return Oe.filters.forEach((Me=>{Me.getFlattenedFilters().forEach((Ue=>{Ue.isInequality()&&(ke=ke.add(Ue.field))}))})),ke})(Re).forEach((Fe=>{je.has(Fe.canonicalString())||Fe.isKeyField()||Re.ce.push(new OrderBy(Fe,Be))})),je.has(FieldPath$1.keyField().canonicalString())||Re.ce.push(new OrderBy(FieldPath$1.keyField(),Be))}return Re.ce}function __PRIVATE_queryToTarget(Ce){const Re=__PRIVATE_debugCast(Ce);return Re.le||(Re.le=__PRIVATE__queryToTarget(Re,__PRIVATE_queryNormalizedOrderBy(Ce))),Re.le}function __PRIVATE__queryToTarget(Ce,Re){if(Ce.limitType==="F")return __PRIVATE_newTarget(Ce.path,Ce.collectionGroup,Re,Ce.filters,Ce.limit,Ce.startAt,Ce.endAt);{Re=Re.map((De=>{const Fe=De.dir==="desc"?"asc":"desc";return new OrderBy(De.field,Fe)}));const je=Ce.endAt?new Bound(Ce.endAt.position,Ce.endAt.inclusive):null,Be=Ce.startAt?new Bound(Ce.startAt.position,Ce.startAt.inclusive):null;return __PRIVATE_newTarget(Ce.path,Ce.collectionGroup,Re,Ce.filters,Ce.limit,je,Be)}}function __PRIVATE_queryWithAddedFilter(Ce,Re){const je=Ce.filters.concat([Re]);return new __PRIVATE_QueryImpl(Ce.path,Ce.collectionGroup,Ce.explicitOrderBy.slice(),je,Ce.limit,Ce.limitType,Ce.startAt,Ce.endAt)}function __PRIVATE_queryWithLimit(Ce,Re,je){return new __PRIVATE_QueryImpl(Ce.path,Ce.collectionGroup,Ce.explicitOrderBy.slice(),Ce.filters.slice(),Re,je,Ce.startAt,Ce.endAt)}function __PRIVATE_queryEquals(Ce,Re){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(Ce),__PRIVATE_queryToTarget(Re))&&Ce.limitType===Re.limitType}function __PRIVATE_canonifyQuery(Ce){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(Ce))}|lt:${Ce.limitType}`}function __PRIVATE_stringifyQuery(Ce){return`Query(target=${(function(je){let Be=je.path.canonicalString();return je.collectionGroup!==null&&(Be+=" collectionGroup="+je.collectionGroup),je.filters.length>0&&(Be+=`, filters: [${je.filters.map((De=>__PRIVATE_stringifyFilter(De))).join(", ")}]`),__PRIVATE_isNullOrUndefined(je.limit)||(Be+=", limit: "+je.limit),je.orderBy.length>0&&(Be+=`, orderBy: [${je.orderBy.map((De=>(function(Oe){return`${Oe.field.canonicalString()} (${Oe.dir})`})(De))).join(", ")}]`),je.startAt&&(Be+=", startAt: ",Be+=je.startAt.inclusive?"b:":"a:",Be+=je.startAt.position.map((De=>canonicalId(De))).join(",")),je.endAt&&(Be+=", endAt: ",Be+=je.endAt.inclusive?"a:":"b:",Be+=je.endAt.position.map((De=>canonicalId(De))).join(",")),`Target(${Be})`})(__PRIVATE_queryToTarget(Ce))}; limitType=${Ce.limitType})`}function __PRIVATE_queryMatches(Ce,Re){return Re.isFoundDocument()&&(function(Be,De){const Fe=De.key.path;return Be.collectionGroup!==null?De.key.hasCollectionId(Be.collectionGroup)&&Be.path.isPrefixOf(Fe):DocumentKey.isDocumentKey(Be.path)?Be.path.isEqual(Fe):Be.path.isImmediateParentOf(Fe)})(Ce,Re)&&(function(Be,De){for(const Fe of __PRIVATE_queryNormalizedOrderBy(Be))if(!Fe.field.isKeyField()&&De.data.field(Fe.field)===null)return!1;return!0})(Ce,Re)&&(function(Be,De){for(const Fe of Be.filters)if(!Fe.matches(De))return!1;return!0})(Ce,Re)&&(function(Be,De){return!(Be.startAt&&!(function(Oe,ke,Me){const Ue=__PRIVATE_boundCompareToDocument(Oe,ke,Me);return Oe.inclusive?Ue<=0:Ue<0})(Be.startAt,__PRIVATE_queryNormalizedOrderBy(Be),De)||Be.endAt&&!(function(Oe,ke,Me){const Ue=__PRIVATE_boundCompareToDocument(Oe,ke,Me);return Oe.inclusive?Ue>=0:Ue>0})(Be.endAt,__PRIVATE_queryNormalizedOrderBy(Be),De))})(Ce,Re)}function __PRIVATE_queryCollectionGroup(Ce){return Ce.collectionGroup||(Ce.path.length%2==1?Ce.path.lastSegment():Ce.path.get(Ce.path.length-2))}function __PRIVATE_newQueryComparator(Ce){return(Re,je)=>{let Be=!1;for(const De of __PRIVATE_queryNormalizedOrderBy(Ce)){const Fe=__PRIVATE_compareDocs(De,Re,je);if(Fe!==0)return Fe;Be=Be||De.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(Ce,Re,je){const Be=Ce.field.isKeyField()?DocumentKey.comparator(Re.key,je.key):(function(Fe,Oe,ke){const Me=Oe.data.field(Fe),Ue=ke.data.field(Fe);return Me!==null&&Ue!==null?__PRIVATE_valueCompare(Me,Ue):fail()})(Ce.field,Re,je);switch(Ce.dir){case"asc":return Be;case"desc":return-1*Be;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(Re,je){this.mapKeyFn=Re,this.equalsFn=je,this.inner={},this.innerSize=0}get(Re){const je=this.mapKeyFn(Re),Be=this.inner[je];if(Be!==void 0){for(const[De,Fe]of Be)if(this.equalsFn(De,Re))return Fe}}has(Re){return this.get(Re)!==void 0}set(Re,je){const Be=this.mapKeyFn(Re),De=this.inner[Be];if(De===void 0)return this.inner[Be]=[[Re,je]],void this.innerSize++;for(let Fe=0;Fe<De.length;Fe++)if(this.equalsFn(De[Fe][0],Re))return void(De[Fe]=[Re,je]);De.push([Re,je]),this.innerSize++}delete(Re){const je=this.mapKeyFn(Re),Be=this.inner[je];if(Be===void 0)return!1;for(let De=0;De<Be.length;De++)if(this.equalsFn(Be[De][0],Re))return Be.length===1?delete this.inner[je]:Be.splice(De,1),this.innerSize--,!0;return!1}forEach(Re){forEach(this.inner,((je,Be)=>{for(const[De,Fe]of Be)Re(De,Fe)}))}isEmpty(){return isEmpty$3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se$2=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return se$2}const oe$2=new SortedMap(DocumentKey.comparator);function documentMap(...Ce){let Re=oe$2;for(const je of Ce)Re=Re.insert(je.key,je);return Re}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(Ce){let Re=oe$2;return Ce.forEach(((je,Be)=>Re=Re.insert(je,Be.overlayedDocument))),Re}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap((Ce=>Ce.toString()),((Ce,Re)=>Ce.isEqual(Re)))}const _e=new SortedMap(DocumentKey.comparator),ae$1=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...Ce){let Re=ae$1;for(const je of Ce)Re=Re.add(je);return Re}const ue$2=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ue$2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(Ce,Re){if(Ce.useProto3Json){if(isNaN(Re))return{doubleValue:"NaN"};if(Re===1/0)return{doubleValue:"Infinity"};if(Re===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(Re)?"-0":Re}}function __PRIVATE_toInteger(Ce){return{integerValue:""+Ce}}function toNumber$1(Ce,Re){return isSafeInteger(Re)?__PRIVATE_toInteger(Re):__PRIVATE_toDouble(Ce,Re)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(Ce,Re,je){return Ce instanceof __PRIVATE_ServerTimestampTransform?(function(De,Fe){const Oe={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:De.seconds,nanos:De.nanoseconds}}}};return Fe&&__PRIVATE_isServerTimestamp(Fe)&&(Fe=__PRIVATE_getPreviousValue(Fe)),Fe&&(Oe.fields.__previous_value__=Fe),{mapValue:Oe}})(je,Re):Ce instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(Ce,Re):Ce instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(Ce,Re):(function(De,Fe){const Oe=__PRIVATE_computeTransformOperationBaseValue(De,Fe),ke=asNumber$1(Oe)+asNumber$1(De.Pe);return isInteger(Oe)&&isInteger(De.Pe)?__PRIVATE_toInteger(ke):__PRIVATE_toDouble(De.serializer,ke)})(Ce,Re)}function __PRIVATE_applyTransformOperationToRemoteDocument(Ce,Re,je){return Ce instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(Ce,Re):Ce instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(Ce,Re):je}function __PRIVATE_computeTransformOperationBaseValue(Ce,Re){return Ce instanceof __PRIVATE_NumericIncrementTransformOperation?(function(Be){return isInteger(Be)||(function(Fe){return!!Fe&&"doubleValue"in Fe})(Be)})(Re)?Re:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(Re){super(),this.elements=Re}}function __PRIVATE_applyArrayUnionTransformOperation(Ce,Re){const je=__PRIVATE_coercedFieldValuesArray(Re);for(const Be of Ce.elements)je.some((De=>__PRIVATE_valueEquals(De,Be)))||je.push(Be);return{arrayValue:{values:je}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(Re){super(),this.elements=Re}}function __PRIVATE_applyArrayRemoveTransformOperation(Ce,Re){let je=__PRIVATE_coercedFieldValuesArray(Re);for(const Be of Ce.elements)je=je.filter((De=>!__PRIVATE_valueEquals(De,Be)));return{arrayValue:{values:je}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(Re,je){super(),this.serializer=Re,this.Pe=je}}function asNumber$1(Ce){return __PRIVATE_normalizeNumber(Ce.integerValue||Ce.doubleValue)}function __PRIVATE_coercedFieldValuesArray(Ce){return isArray$2(Ce)&&Ce.arrayValue.values?Ce.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldTransform{constructor(Re,je){this.field=Re,this.transform=je}}function __PRIVATE_fieldTransformEquals(Ce,Re){return Ce.field.isEqual(Re.field)&&(function(Be,De){return Be instanceof __PRIVATE_ArrayUnionTransformOperation&&De instanceof __PRIVATE_ArrayUnionTransformOperation||Be instanceof __PRIVATE_ArrayRemoveTransformOperation&&De instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(Be.elements,De.elements,__PRIVATE_valueEquals):Be instanceof __PRIVATE_NumericIncrementTransformOperation&&De instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(Be.Pe,De.Pe):Be instanceof __PRIVATE_ServerTimestampTransform&&De instanceof __PRIVATE_ServerTimestampTransform})(Ce.transform,Re.transform)}class MutationResult{constructor(Re,je){this.version=Re,this.transformResults=je}}class Precondition{constructor(Re,je){this.updateTime=Re,this.exists=je}static none(){return new Precondition}static exists(Re){return new Precondition(void 0,Re)}static updateTime(Re){return new Precondition(Re)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(Re){return this.exists===Re.exists&&(this.updateTime?!!Re.updateTime&&this.updateTime.isEqual(Re.updateTime):!Re.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(Ce,Re){return Ce.updateTime!==void 0?Re.isFoundDocument()&&Re.version.isEqual(Ce.updateTime):Ce.exists===void 0||Ce.exists===Re.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(Ce,Re){if(!Ce.hasLocalMutations||Re&&Re.fields.length===0)return null;if(Re===null)return Ce.isNoDocument()?new __PRIVATE_DeleteMutation(Ce.key,Precondition.none()):new __PRIVATE_SetMutation(Ce.key,Ce.data,Precondition.none());{const je=Ce.data,Be=ObjectValue.empty();let De=new SortedSet(FieldPath$1.comparator);for(let Fe of Re.fields)if(!De.has(Fe)){let Oe=je.field(Fe);Oe===null&&Fe.length>1&&(Fe=Fe.popLast(),Oe=je.field(Fe)),Oe===null?Be.delete(Fe):Be.set(Fe,Oe),De=De.add(Fe)}return new __PRIVATE_PatchMutation(Ce.key,Be,new FieldMask(De.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(Ce,Re,je){Ce instanceof __PRIVATE_SetMutation?(function(De,Fe,Oe){const ke=De.value.clone(),Me=__PRIVATE_serverTransformResults(De.fieldTransforms,Fe,Oe.transformResults);ke.setAll(Me),Fe.convertToFoundDocument(Oe.version,ke).setHasCommittedMutations()})(Ce,Re,je):Ce instanceof __PRIVATE_PatchMutation?(function(De,Fe,Oe){if(!__PRIVATE_preconditionIsValidForDocument(De.precondition,Fe))return void Fe.convertToUnknownDocument(Oe.version);const ke=__PRIVATE_serverTransformResults(De.fieldTransforms,Fe,Oe.transformResults),Me=Fe.data;Me.setAll(__PRIVATE_getPatch(De)),Me.setAll(ke),Fe.convertToFoundDocument(Oe.version,Me).setHasCommittedMutations()})(Ce,Re,je):(function(De,Fe,Oe){Fe.convertToNoDocument(Oe.version).setHasCommittedMutations()})(0,Re,je)}function __PRIVATE_mutationApplyToLocalView(Ce,Re,je,Be){return Ce instanceof __PRIVATE_SetMutation?(function(Fe,Oe,ke,Me){if(!__PRIVATE_preconditionIsValidForDocument(Fe.precondition,Oe))return ke;const Ue=Fe.value.clone(),$e=__PRIVATE_localTransformResults(Fe.fieldTransforms,Me,Oe);return Ue.setAll($e),Oe.convertToFoundDocument(Oe.version,Ue).setHasLocalMutations(),null})(Ce,Re,je,Be):Ce instanceof __PRIVATE_PatchMutation?(function(Fe,Oe,ke,Me){if(!__PRIVATE_preconditionIsValidForDocument(Fe.precondition,Oe))return ke;const Ue=__PRIVATE_localTransformResults(Fe.fieldTransforms,Me,Oe),$e=Oe.data;return $e.setAll(__PRIVATE_getPatch(Fe)),$e.setAll(Ue),Oe.convertToFoundDocument(Oe.version,$e).setHasLocalMutations(),ke===null?null:ke.unionWith(Fe.fieldMask.fields).unionWith(Fe.fieldTransforms.map((He=>He.field)))})(Ce,Re,je,Be):(function(Fe,Oe,ke){return __PRIVATE_preconditionIsValidForDocument(Fe.precondition,Oe)?(Oe.convertToNoDocument(Oe.version).setHasLocalMutations(),null):ke})(Ce,Re,je)}function __PRIVATE_mutationExtractBaseValue(Ce,Re){let je=null;for(const Be of Ce.fieldTransforms){const De=Re.data.field(Be.field),Fe=__PRIVATE_computeTransformOperationBaseValue(Be.transform,De||null);Fe!=null&&(je===null&&(je=ObjectValue.empty()),je.set(Be.field,Fe))}return je||null}function __PRIVATE_mutationEquals(Ce,Re){return Ce.type===Re.type&&!!Ce.key.isEqual(Re.key)&&!!Ce.precondition.isEqual(Re.precondition)&&!!(function(Be,De){return Be===void 0&&De===void 0||!(!Be||!De)&&__PRIVATE_arrayEquals(Be,De,((Fe,Oe)=>__PRIVATE_fieldTransformEquals(Fe,Oe)))})(Ce.fieldTransforms,Re.fieldTransforms)&&(Ce.type===0?Ce.value.isEqual(Re.value):Ce.type!==1||Ce.data.isEqual(Re.data)&&Ce.fieldMask.isEqual(Re.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(Re,je,Be,De=[]){super(),this.key=Re,this.value=je,this.precondition=Be,this.fieldTransforms=De,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(Re,je,Be,De,Fe=[]){super(),this.key=Re,this.data=je,this.fieldMask=Be,this.precondition=De,this.fieldTransforms=Fe,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(Ce){const Re=new Map;return Ce.fieldMask.fields.forEach((je=>{if(!je.isEmpty()){const Be=Ce.data.field(je);Re.set(je,Be)}})),Re}function __PRIVATE_serverTransformResults(Ce,Re,je){const Be=new Map;__PRIVATE_hardAssert(Ce.length===je.length);for(let De=0;De<je.length;De++){const Fe=Ce[De],Oe=Fe.transform,ke=Re.data.field(Fe.field);Be.set(Fe.field,__PRIVATE_applyTransformOperationToRemoteDocument(Oe,ke,je[De]))}return Be}function __PRIVATE_localTransformResults(Ce,Re,je){const Be=new Map;for(const De of Ce){const Fe=De.transform,Oe=je.data.field(De.field);Be.set(De.field,__PRIVATE_applyTransformOperationToLocalView(Fe,Oe,Re))}return Be}class __PRIVATE_DeleteMutation extends Mutation{constructor(Re,je){super(),this.key=Re,this.precondition=je,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(Re,je){super(),this.key=Re,this.precondition=je,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(Re,je,Be,De){this.batchId=Re,this.localWriteTime=je,this.baseMutations=Be,this.mutations=De}applyToRemoteDocument(Re,je){const Be=je.mutationResults;for(let De=0;De<this.mutations.length;De++){const Fe=this.mutations[De];Fe.key.isEqual(Re.key)&&__PRIVATE_mutationApplyToRemoteDocument(Fe,Re,Be[De])}}applyToLocalView(Re,je){for(const Be of this.baseMutations)Be.key.isEqual(Re.key)&&(je=__PRIVATE_mutationApplyToLocalView(Be,Re,je,this.localWriteTime));for(const Be of this.mutations)Be.key.isEqual(Re.key)&&(je=__PRIVATE_mutationApplyToLocalView(Be,Re,je,this.localWriteTime));return je}applyToLocalDocumentSet(Re,je){const Be=__PRIVATE_newMutationMap();return this.mutations.forEach((De=>{const Fe=Re.get(De.key),Oe=Fe.overlayedDocument;let ke=this.applyToLocalView(Oe,Fe.mutatedFields);ke=je.has(De.key)?null:ke;const Me=__PRIVATE_calculateOverlayMutation(Oe,ke);Me!==null&&Be.set(De.key,Me),Oe.isValidDocument()||Oe.convertToNoDocument(SnapshotVersion.min())})),Be}keys(){return this.mutations.reduce(((Re,je)=>Re.add(je.key)),__PRIVATE_documentKeySet())}isEqual(Re){return this.batchId===Re.batchId&&__PRIVATE_arrayEquals(this.mutations,Re.mutations,((je,Be)=>__PRIVATE_mutationEquals(je,Be)))&&__PRIVATE_arrayEquals(this.baseMutations,Re.baseMutations,((je,Be)=>__PRIVATE_mutationEquals(je,Be)))}}class MutationBatchResult{constructor(Re,je,Be,De){this.batch=Re,this.commitVersion=je,this.mutationResults=Be,this.docVersions=De}static from(Re,je,Be){__PRIVATE_hardAssert(Re.mutations.length===Be.length);let De=(function(){return _e})();const Fe=Re.mutations;for(let Oe=0;Oe<Fe.length;Oe++)De=De.insert(Fe[Oe].key,Be[Oe].version);return new MutationBatchResult(Re,je,Be,De)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(Re,je){this.largestBatchId=Re,this.mutation=je}getKey(){return this.mutation.key}isEqual(Re){return Re!==null&&this.mutation===Re.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(Re,je){this.count=Re,this.unchangedNames=je}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce$1,le$2;function __PRIVATE_isPermanentError(Ce){switch(Ce){default:return fail();case C$1.CANCELLED:case C$1.UNKNOWN:case C$1.DEADLINE_EXCEEDED:case C$1.RESOURCE_EXHAUSTED:case C$1.INTERNAL:case C$1.UNAVAILABLE:case C$1.UNAUTHENTICATED:return!1;case C$1.INVALID_ARGUMENT:case C$1.NOT_FOUND:case C$1.ALREADY_EXISTS:case C$1.PERMISSION_DENIED:case C$1.FAILED_PRECONDITION:case C$1.ABORTED:case C$1.OUT_OF_RANGE:case C$1.UNIMPLEMENTED:case C$1.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode(Ce){if(Ce===void 0)return __PRIVATE_logError("GRPC error has no .code"),C$1.UNKNOWN;switch(Ce){case ce$1.OK:return C$1.OK;case ce$1.CANCELLED:return C$1.CANCELLED;case ce$1.UNKNOWN:return C$1.UNKNOWN;case ce$1.DEADLINE_EXCEEDED:return C$1.DEADLINE_EXCEEDED;case ce$1.RESOURCE_EXHAUSTED:return C$1.RESOURCE_EXHAUSTED;case ce$1.INTERNAL:return C$1.INTERNAL;case ce$1.UNAVAILABLE:return C$1.UNAVAILABLE;case ce$1.UNAUTHENTICATED:return C$1.UNAUTHENTICATED;case ce$1.INVALID_ARGUMENT:return C$1.INVALID_ARGUMENT;case ce$1.NOT_FOUND:return C$1.NOT_FOUND;case ce$1.ALREADY_EXISTS:return C$1.ALREADY_EXISTS;case ce$1.PERMISSION_DENIED:return C$1.PERMISSION_DENIED;case ce$1.FAILED_PRECONDITION:return C$1.FAILED_PRECONDITION;case ce$1.ABORTED:return C$1.ABORTED;case ce$1.OUT_OF_RANGE:return C$1.OUT_OF_RANGE;case ce$1.UNIMPLEMENTED:return C$1.UNIMPLEMENTED;case ce$1.DATA_LOSS:return C$1.DATA_LOSS;default:return fail()}}(le$2=ce$1||(ce$1={}))[le$2.OK=0]="OK",le$2[le$2.CANCELLED=1]="CANCELLED",le$2[le$2.UNKNOWN=2]="UNKNOWN",le$2[le$2.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le$2[le$2.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le$2[le$2.NOT_FOUND=5]="NOT_FOUND",le$2[le$2.ALREADY_EXISTS=6]="ALREADY_EXISTS",le$2[le$2.PERMISSION_DENIED=7]="PERMISSION_DENIED",le$2[le$2.UNAUTHENTICATED=16]="UNAUTHENTICATED",le$2[le$2.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le$2[le$2.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le$2[le$2.ABORTED=10]="ABORTED",le$2[le$2.OUT_OF_RANGE=11]="OUT_OF_RANGE",le$2[le$2.UNIMPLEMENTED=12]="UNIMPLEMENTED",le$2[le$2.INTERNAL=13]="INTERNAL",le$2[le$2.UNAVAILABLE=14]="UNAVAILABLE",le$2[le$2.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(Ce){const Re=__PRIVATE_newTextEncoder().encode(Ce),je=new Md5;return je.update(Re),new Uint8Array(je.digest())}function __PRIVATE_get64BitUints(Ce){const Re=new DataView(Ce.buffer),je=Re.getUint32(0,!0),Be=Re.getUint32(4,!0),De=Re.getUint32(8,!0),Fe=Re.getUint32(12,!0);return[new Integer([je,Be],0),new Integer([De,Fe],0)]}class BloomFilter{constructor(Re,je,Be){if(this.bitmap=Re,this.padding=je,this.hashCount=Be,je<0||je>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${je}`);if(Be<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${Be}`);if(Re.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${Be}`);if(Re.length===0&&je!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${je}`);this.Ie=8*Re.length-je,this.Te=Integer.fromNumber(this.Ie)}Ee(Re,je,Be){let De=Re.add(je.multiply(Integer.fromNumber(Be)));return De.compare(Pe)===1&&(De=new Integer([De.getBits(0),De.getBits(1)],0)),De.modulo(this.Te).toNumber()}de(Re){return(this.bitmap[Math.floor(Re/8)]&1<<Re%8)!=0}mightContain(Re){if(this.Ie===0)return!1;const je=__PRIVATE_getMd5HashValue(Re),[Be,De]=__PRIVATE_get64BitUints(je);for(let Fe=0;Fe<this.hashCount;Fe++){const Oe=this.Ee(Be,De,Fe);if(!this.de(Oe))return!1}return!0}static create(Re,je,Be){const De=Re%8==0?0:8-Re%8,Fe=new Uint8Array(Math.ceil(Re/8)),Oe=new BloomFilter(Fe,De,je);return Be.forEach((ke=>Oe.insert(ke))),Oe}insert(Re){if(this.Ie===0)return;const je=__PRIVATE_getMd5HashValue(Re),[Be,De]=__PRIVATE_get64BitUints(je);for(let Fe=0;Fe<this.hashCount;Fe++){const Oe=this.Ee(Be,De,Fe);this.Ae(Oe)}}Ae(Re){const je=Math.floor(Re/8),Be=Re%8;this.bitmap[je]|=1<<Be}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(Re,je,Be,De,Fe){this.snapshotVersion=Re,this.targetChanges=je,this.targetMismatches=Be,this.documentUpdates=De,this.resolvedLimboDocuments=Fe}static createSynthesizedRemoteEventForCurrentChange(Re,je,Be){const De=new Map;return De.set(Re,TargetChange.createSynthesizedTargetChangeForCurrentChange(Re,je,Be)),new RemoteEvent(SnapshotVersion.min(),De,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(Re,je,Be,De,Fe){this.resumeToken=Re,this.current=je,this.addedDocuments=Be,this.modifiedDocuments=De,this.removedDocuments=Fe}static createSynthesizedTargetChangeForCurrentChange(Re,je,Be){return new TargetChange(Be,je,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(Re,je,Be,De){this.Re=Re,this.removedTargetIds=je,this.key=Be,this.Ve=De}}class __PRIVATE_ExistenceFilterChange{constructor(Re,je){this.targetId=Re,this.me=je}}class __PRIVATE_WatchTargetChange{constructor(Re,je,Be=ByteString.EMPTY_BYTE_STRING,De=null){this.state=Re,this.targetIds=je,this.resumeToken=Be,this.cause=De}}class __PRIVATE_TargetState{constructor(){this.fe=0,this.ge=__PRIVATE_snapshotChangesMap(),this.pe=ByteString.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(Re){Re.approximateByteSize()>0&&(this.we=!0,this.pe=Re)}Ce(){let Re=__PRIVATE_documentKeySet(),je=__PRIVATE_documentKeySet(),Be=__PRIVATE_documentKeySet();return this.ge.forEach(((De,Fe)=>{switch(Fe){case 0:Re=Re.add(De);break;case 2:je=je.add(De);break;case 1:Be=Be.add(De);break;default:fail()}})),new TargetChange(this.pe,this.ye,Re,je,Be)}ve(){this.we=!1,this.ge=__PRIVATE_snapshotChangesMap()}Fe(Re,je){this.we=!0,this.ge=this.ge.insert(Re,je)}Me(Re){this.we=!0,this.ge=this.ge.remove(Re)}xe(){this.fe+=1}Oe(){this.fe-=1,__PRIVATE_hardAssert(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class __PRIVATE_WatchChangeAggregator{constructor(Re){this.Le=Re,this.Be=new Map,this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator)}Ke(Re){for(const je of Re.Re)Re.Ve&&Re.Ve.isFoundDocument()?this.$e(je,Re.Ve):this.Ue(je,Re.key,Re.Ve);for(const je of Re.removedTargetIds)this.Ue(je,Re.key,Re.Ve)}We(Re){this.forEachTarget(Re,(je=>{const Be=this.Ge(je);switch(Re.state){case 0:this.ze(je)&&Be.De(Re.resumeToken);break;case 1:Be.Oe(),Be.Se||Be.ve(),Be.De(Re.resumeToken);break;case 2:Be.Oe(),Be.Se||this.removeTarget(je);break;case 3:this.ze(je)&&(Be.Ne(),Be.De(Re.resumeToken));break;case 4:this.ze(je)&&(this.je(je),Be.De(Re.resumeToken));break;default:fail()}}))}forEachTarget(Re,je){Re.targetIds.length>0?Re.targetIds.forEach(je):this.Be.forEach(((Be,De)=>{this.ze(De)&&je(De)}))}He(Re){const je=Re.targetId,Be=Re.me.count,De=this.Je(je);if(De){const Fe=De.target;if(__PRIVATE_targetIsDocumentTarget(Fe))if(Be===0){const Oe=new DocumentKey(Fe.path);this.Ue(je,Oe,MutableDocument.newNoDocument(Oe,SnapshotVersion.min()))}else __PRIVATE_hardAssert(Be===1);else{const Oe=this.Ye(je);if(Oe!==Be){const ke=this.Ze(Re),Me=ke?this.Xe(ke,Re,Oe):1;if(Me!==0){this.je(je);const Ue=Me===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(je,Ue)}}}}}Ze(Re){const je=Re.me.unchangedNames;if(!je||!je.bits)return null;const{bits:{bitmap:Be="",padding:De=0},hashCount:Fe=0}=je;let Oe,ke;try{Oe=__PRIVATE_normalizeByteString(Be).toUint8Array()}catch(Me){if(Me instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+Me.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw Me}try{ke=new BloomFilter(Oe,De,Fe)}catch(Me){return __PRIVATE_logWarn(Me instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",Me),null}return ke.Ie===0?null:ke}Xe(Re,je,Be){return je.me.count===Be-this.nt(Re,je.targetId)?0:2}nt(Re,je){const Be=this.Le.getRemoteKeysForTarget(je);let De=0;return Be.forEach((Fe=>{const Oe=this.Le.tt(),ke=`projects/${Oe.projectId}/databases/${Oe.database}/documents/${Fe.path.canonicalString()}`;Re.mightContain(ke)||(this.Ue(je,Fe,null),De++)})),De}rt(Re){const je=new Map;this.Be.forEach(((Fe,Oe)=>{const ke=this.Je(Oe);if(ke){if(Fe.current&&__PRIVATE_targetIsDocumentTarget(ke.target)){const Me=new DocumentKey(ke.target.path);this.ke.get(Me)!==null||this.it(Oe,Me)||this.Ue(Oe,Me,MutableDocument.newNoDocument(Me,Re))}Fe.be&&(je.set(Oe,Fe.Ce()),Fe.ve())}}));let Be=__PRIVATE_documentKeySet();this.qe.forEach(((Fe,Oe)=>{let ke=!0;Oe.forEachWhile((Me=>{const Ue=this.Je(Me);return!Ue||Ue.purpose==="TargetPurposeLimboResolution"||(ke=!1,!1)})),ke&&(Be=Be.add(Fe))})),this.ke.forEach(((Fe,Oe)=>Oe.setReadTime(Re)));const De=new RemoteEvent(Re,je,this.Qe,this.ke,Be);return this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator),De}$e(Re,je){if(!this.ze(Re))return;const Be=this.it(Re,je.key)?2:0;this.Ge(Re).Fe(je.key,Be),this.ke=this.ke.insert(je.key,je),this.qe=this.qe.insert(je.key,this.st(je.key).add(Re))}Ue(Re,je,Be){if(!this.ze(Re))return;const De=this.Ge(Re);this.it(Re,je)?De.Fe(je,1):De.Me(je),this.qe=this.qe.insert(je,this.st(je).delete(Re)),Be&&(this.ke=this.ke.insert(je,Be))}removeTarget(Re){this.Be.delete(Re)}Ye(Re){const je=this.Ge(Re).Ce();return this.Le.getRemoteKeysForTarget(Re).size+je.addedDocuments.size-je.removedDocuments.size}xe(Re){this.Ge(Re).xe()}Ge(Re){let je=this.Be.get(Re);return je||(je=new __PRIVATE_TargetState,this.Be.set(Re,je)),je}st(Re){let je=this.qe.get(Re);return je||(je=new SortedSet(__PRIVATE_primitiveComparator),this.qe=this.qe.insert(Re,je)),je}ze(Re){const je=this.Je(Re)!==null;return je||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",Re),je}Je(Re){const je=this.Be.get(Re);return je&&je.Se?null:this.Le.ot(Re)}je(Re){this.Be.set(Re,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(Re).forEach((je=>{this.Ue(Re,je,null)}))}it(Re,je){return this.Le.getRemoteKeysForTarget(Re).has(je)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Ie={asc:"ASCENDING",desc:"DESCENDING"},Te$1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ee={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(Re,je){this.databaseId=Re,this.useProto3Json=je}}function __PRIVATE_toInt32Proto(Ce,Re){return Ce.useProto3Json||__PRIVATE_isNullOrUndefined(Re)?Re:{value:Re}}function toTimestamp(Ce,Re){return Ce.useProto3Json?`${new Date(1e3*Re.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+Re.nanoseconds).slice(-9)}Z`:{seconds:""+Re.seconds,nanos:Re.nanoseconds}}function __PRIVATE_toBytes(Ce,Re){return Ce.useProto3Json?Re.toBase64():Re.toUint8Array()}function __PRIVATE_toVersion(Ce,Re){return toTimestamp(Ce,Re.toTimestamp())}function __PRIVATE_fromVersion(Ce){return __PRIVATE_hardAssert(!!Ce),SnapshotVersion.fromTimestamp((function(je){const Be=__PRIVATE_normalizeTimestamp(je);return new Timestamp(Be.seconds,Be.nanos)})(Ce))}function __PRIVATE_toResourceName(Ce,Re){return __PRIVATE_toResourcePath(Ce,Re).canonicalString()}function __PRIVATE_toResourcePath(Ce,Re){const je=(function(De){return new ResourcePath(["projects",De.projectId,"databases",De.database])})(Ce).child("documents");return Re===void 0?je:je.child(Re)}function __PRIVATE_fromResourceName(Ce){const Re=ResourcePath.fromString(Ce);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(Re)),Re}function __PRIVATE_toName(Ce,Re){return __PRIVATE_toResourceName(Ce.databaseId,Re.path)}function fromName(Ce,Re){const je=__PRIVATE_fromResourceName(Re);if(je.get(1)!==Ce.databaseId.projectId)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+je.get(1)+" vs "+Ce.databaseId.projectId);if(je.get(3)!==Ce.databaseId.database)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+je.get(3)+" vs "+Ce.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(je))}function __PRIVATE_toQueryPath(Ce,Re){return __PRIVATE_toResourceName(Ce.databaseId,Re)}function __PRIVATE_fromQueryPath(Ce){const Re=__PRIVATE_fromResourceName(Ce);return Re.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(Re)}function __PRIVATE_getEncodedDatabaseId(Ce){return new ResourcePath(["projects",Ce.databaseId.projectId,"databases",Ce.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(Ce){return __PRIVATE_hardAssert(Ce.length>4&&Ce.get(4)==="documents"),Ce.popFirst(5)}function __PRIVATE_toMutationDocument(Ce,Re,je){return{name:__PRIVATE_toName(Ce,Re),fields:je.value.mapValue.fields}}function __PRIVATE_fromWatchChange(Ce,Re){let je;if("targetChange"in Re){Re.targetChange;const Be=(function(Ue){return Ue==="NO_CHANGE"?0:Ue==="ADD"?1:Ue==="REMOVE"?2:Ue==="CURRENT"?3:Ue==="RESET"?4:fail()})(Re.targetChange.targetChangeType||"NO_CHANGE"),De=Re.targetChange.targetIds||[],Fe=(function(Ue,$e){return Ue.useProto3Json?(__PRIVATE_hardAssert($e===void 0||typeof $e=="string"),ByteString.fromBase64String($e||"")):(__PRIVATE_hardAssert($e===void 0||$e instanceof Buffer||$e instanceof Uint8Array),ByteString.fromUint8Array($e||new Uint8Array))})(Ce,Re.targetChange.resumeToken),Oe=Re.targetChange.cause,ke=Oe&&(function(Ue){const $e=Ue.code===void 0?C$1.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(Ue.code);return new FirestoreError($e,Ue.message||"")})(Oe);je=new __PRIVATE_WatchTargetChange(Be,De,Fe,ke||null)}else if("documentChange"in Re){Re.documentChange;const Be=Re.documentChange;Be.document,Be.document.name,Be.document.updateTime;const De=fromName(Ce,Be.document.name),Fe=__PRIVATE_fromVersion(Be.document.updateTime),Oe=Be.document.createTime?__PRIVATE_fromVersion(Be.document.createTime):SnapshotVersion.min(),ke=new ObjectValue({mapValue:{fields:Be.document.fields}}),Me=MutableDocument.newFoundDocument(De,Fe,Oe,ke),Ue=Be.targetIds||[],$e=Be.removedTargetIds||[];je=new __PRIVATE_DocumentWatchChange(Ue,$e,Me.key,Me)}else if("documentDelete"in Re){Re.documentDelete;const Be=Re.documentDelete;Be.document;const De=fromName(Ce,Be.document),Fe=Be.readTime?__PRIVATE_fromVersion(Be.readTime):SnapshotVersion.min(),Oe=MutableDocument.newNoDocument(De,Fe),ke=Be.removedTargetIds||[];je=new __PRIVATE_DocumentWatchChange([],ke,Oe.key,Oe)}else if("documentRemove"in Re){Re.documentRemove;const Be=Re.documentRemove;Be.document;const De=fromName(Ce,Be.document),Fe=Be.removedTargetIds||[];je=new __PRIVATE_DocumentWatchChange([],Fe,De,null)}else{if(!("filter"in Re))return fail();{Re.filter;const Be=Re.filter;Be.targetId;const{count:De=0,unchangedNames:Fe}=Be,Oe=new ExistenceFilter(De,Fe),ke=Be.targetId;je=new __PRIVATE_ExistenceFilterChange(ke,Oe)}}return je}function toMutation(Ce,Re){let je;if(Re instanceof __PRIVATE_SetMutation)je={update:__PRIVATE_toMutationDocument(Ce,Re.key,Re.value)};else if(Re instanceof __PRIVATE_DeleteMutation)je={delete:__PRIVATE_toName(Ce,Re.key)};else if(Re instanceof __PRIVATE_PatchMutation)je={update:__PRIVATE_toMutationDocument(Ce,Re.key,Re.data),updateMask:__PRIVATE_toDocumentMask(Re.fieldMask)};else{if(!(Re instanceof __PRIVATE_VerifyMutation))return fail();je={verify:__PRIVATE_toName(Ce,Re.key)}}return Re.fieldTransforms.length>0&&(je.updateTransforms=Re.fieldTransforms.map((Be=>(function(Fe,Oe){const ke=Oe.transform;if(ke instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:Oe.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(ke instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:Oe.field.canonicalString(),appendMissingElements:{values:ke.elements}};if(ke instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:Oe.field.canonicalString(),removeAllFromArray:{values:ke.elements}};if(ke instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:Oe.field.canonicalString(),increment:ke.Pe};throw fail()})(0,Be)))),Re.precondition.isNone||(je.currentDocument=(function(De,Fe){return Fe.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(De,Fe.updateTime)}:Fe.exists!==void 0?{exists:Fe.exists}:fail()})(Ce,Re.precondition)),je}function __PRIVATE_fromWriteResults(Ce,Re){return Ce&&Ce.length>0?(__PRIVATE_hardAssert(Re!==void 0),Ce.map((je=>(function(De,Fe){let Oe=De.updateTime?__PRIVATE_fromVersion(De.updateTime):__PRIVATE_fromVersion(Fe);return Oe.isEqual(SnapshotVersion.min())&&(Oe=__PRIVATE_fromVersion(Fe)),new MutationResult(Oe,De.transformResults||[])})(je,Re)))):[]}function __PRIVATE_toDocumentsTarget(Ce,Re){return{documents:[__PRIVATE_toQueryPath(Ce,Re.path)]}}function __PRIVATE_toQueryTarget(Ce,Re){const je={structuredQuery:{}},Be=Re.path;let De;Re.collectionGroup!==null?(De=Be,je.structuredQuery.from=[{collectionId:Re.collectionGroup,allDescendants:!0}]):(De=Be.popLast(),je.structuredQuery.from=[{collectionId:Be.lastSegment()}]),je.parent=__PRIVATE_toQueryPath(Ce,De);const Fe=(function(Ue){if(Ue.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(Ue,"and"))})(Re.filters);Fe&&(je.structuredQuery.where=Fe);const Oe=(function(Ue){if(Ue.length!==0)return Ue.map(($e=>(function(Qe){return{field:__PRIVATE_toFieldPathReference(Qe.field),direction:__PRIVATE_toDirection(Qe.dir)}})($e)))})(Re.orderBy);Oe&&(je.structuredQuery.orderBy=Oe);const ke=__PRIVATE_toInt32Proto(Ce,Re.limit);return ke!==null&&(je.structuredQuery.limit=ke),Re.startAt&&(je.structuredQuery.startAt=(function(Ue){return{before:Ue.inclusive,values:Ue.position}})(Re.startAt)),Re.endAt&&(je.structuredQuery.endAt=(function(Ue){return{before:!Ue.inclusive,values:Ue.position}})(Re.endAt)),{_t:je,parent:De}}function __PRIVATE_convertQueryTargetToQuery(Ce){let Re=__PRIVATE_fromQueryPath(Ce.parent);const je=Ce.structuredQuery,Be=je.from?je.from.length:0;let De=null;if(Be>0){__PRIVATE_hardAssert(Be===1);const $e=je.from[0];$e.allDescendants?De=$e.collectionId:Re=Re.child($e.collectionId)}let Fe=[];je.where&&(Fe=(function(He){const Qe=__PRIVATE_fromFilter(He);return Qe instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(Qe)?Qe.getFilters():[Qe]})(je.where));let Oe=[];je.orderBy&&(Oe=(function(He){return He.map((Qe=>(function(qe){return new OrderBy(__PRIVATE_fromFieldPathReference(qe.field),(function(Xe){switch(Xe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(qe.direction))})(Qe)))})(je.orderBy));let ke=null;je.limit&&(ke=(function(He){let Qe;return Qe=typeof He=="object"?He.value:He,__PRIVATE_isNullOrUndefined(Qe)?null:Qe})(je.limit));let Me=null;je.startAt&&(Me=(function(He){const Qe=!!He.before,We=He.values||[];return new Bound(We,Qe)})(je.startAt));let Ue=null;return je.endAt&&(Ue=(function(He){const Qe=!He.before,We=He.values||[];return new Bound(We,Qe)})(je.endAt)),__PRIVATE_newQuery(Re,De,Oe,Fe,ke,"F",Me,Ue)}function __PRIVATE_toListenRequestLabels(Ce,Re){const je=(function(De){switch(De){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}})(Re.purpose);return je==null?null:{"goog-listen-tags":je}}function __PRIVATE_fromFilter(Ce){return Ce.unaryFilter!==void 0?(function(je){switch(je.unaryFilter.op){case"IS_NAN":const Be=__PRIVATE_fromFieldPathReference(je.unaryFilter.field);return FieldFilter.create(Be,"==",{doubleValue:NaN});case"IS_NULL":const De=__PRIVATE_fromFieldPathReference(je.unaryFilter.field);return FieldFilter.create(De,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const Fe=__PRIVATE_fromFieldPathReference(je.unaryFilter.field);return FieldFilter.create(Fe,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const Oe=__PRIVATE_fromFieldPathReference(je.unaryFilter.field);return FieldFilter.create(Oe,"!=",{nullValue:"NULL_VALUE"});default:return fail()}})(Ce):Ce.fieldFilter!==void 0?(function(je){return FieldFilter.create(__PRIVATE_fromFieldPathReference(je.fieldFilter.field),(function(De){switch(De){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}})(je.fieldFilter.op),je.fieldFilter.value)})(Ce):Ce.compositeFilter!==void 0?(function(je){return CompositeFilter.create(je.compositeFilter.filters.map((Be=>__PRIVATE_fromFilter(Be))),(function(De){switch(De){case"AND":return"and";case"OR":return"or";default:return fail()}})(je.compositeFilter.op))})(Ce):fail()}function __PRIVATE_toDirection(Ce){return Ie[Ce]}function __PRIVATE_toOperatorName(Ce){return Te$1[Ce]}function __PRIVATE_toCompositeOperatorName(Ce){return Ee[Ce]}function __PRIVATE_toFieldPathReference(Ce){return{fieldPath:Ce.canonicalString()}}function __PRIVATE_fromFieldPathReference(Ce){return FieldPath$1.fromServerFormat(Ce.fieldPath)}function __PRIVATE_toFilter(Ce){return Ce instanceof FieldFilter?(function(je){if(je.op==="=="){if(__PRIVATE_isNanValue(je.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(je.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(je.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(je.field),op:"IS_NULL"}}}else if(je.op==="!="){if(__PRIVATE_isNanValue(je.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(je.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(je.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(je.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(je.field),op:__PRIVATE_toOperatorName(je.op),value:je.value}}})(Ce):Ce instanceof CompositeFilter?(function(je){const Be=je.getFilters().map((De=>__PRIVATE_toFilter(De)));return Be.length===1?Be[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(je.op),filters:Be}}})(Ce):fail()}function __PRIVATE_toDocumentMask(Ce){const Re=[];return Ce.fields.forEach((je=>Re.push(je.canonicalString()))),{fieldPaths:Re}}function __PRIVATE_isValidResourceName(Ce){return Ce.length>=4&&Ce.get(0)==="projects"&&Ce.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(Re,je,Be,De,Fe=SnapshotVersion.min(),Oe=SnapshotVersion.min(),ke=ByteString.EMPTY_BYTE_STRING,Me=null){this.target=Re,this.targetId=je,this.purpose=Be,this.sequenceNumber=De,this.snapshotVersion=Fe,this.lastLimboFreeSnapshotVersion=Oe,this.resumeToken=ke,this.expectedCount=Me}withSequenceNumber(Re){return new TargetData(this.target,this.targetId,this.purpose,Re,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(Re,je){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,je,this.lastLimboFreeSnapshotVersion,Re,null)}withExpectedCount(Re){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,Re)}withLastLimboFreeSnapshotVersion(Re){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,Re,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(Re){this.ct=Re}}function __PRIVATE_fromBundledQuery(Ce){const Re=__PRIVATE_convertQueryTargetToQuery({parent:Ce.parent,structuredQuery:Ce.structuredQuery});return Ce.limitType==="LAST"?__PRIVATE_queryWithLimit(Re,Re.limit,"L"):Re}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this._n=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(Re,je){return this._n.add(je),PersistencePromise.resolve()}getCollectionParents(Re,je){return PersistencePromise.resolve(this._n.getEntries(je))}addFieldIndex(Re,je){return PersistencePromise.resolve()}deleteFieldIndex(Re,je){return PersistencePromise.resolve()}deleteAllFieldIndexes(Re){return PersistencePromise.resolve()}createTargetIndexes(Re,je){return PersistencePromise.resolve()}getDocumentsMatchingTarget(Re,je){return PersistencePromise.resolve(null)}getIndexType(Re,je){return PersistencePromise.resolve(0)}getFieldIndexes(Re,je){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(Re){return PersistencePromise.resolve(null)}getMinOffset(Re,je){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(Re,je){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(Re,je,Be){return PersistencePromise.resolve()}updateIndexEntries(Re,je){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(Re){const je=Re.lastSegment(),Be=Re.popLast(),De=this.index[je]||new SortedSet(ResourcePath.comparator),Fe=!De.has(Be);return this.index[je]=De.add(Be),Fe}has(Re){const je=Re.lastSegment(),Be=Re.popLast(),De=this.index[je];return De&&De.has(Be)}getEntries(Re){return(this.index[Re]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(Re){this.On=Re}next(){return this.On+=2,this.On}static Nn(){return new __PRIVATE_TargetIdGenerator(0)}static Ln(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap((Re=>Re.toString()),((Re,je)=>Re.isEqual(je))),this.changesApplied=!1}addEntry(Re){this.assertNotApplied(),this.changes.set(Re.key,Re)}removeEntry(Re,je){this.assertNotApplied(),this.changes.set(Re,MutableDocument.newInvalidDocument(Re).setReadTime(je))}getEntry(Re,je){this.assertNotApplied();const Be=this.changes.get(je);return Be!==void 0?PersistencePromise.resolve(Be):this.getFromCache(Re,je)}getEntries(Re,je){return this.getAllFromCache(Re,je)}apply(Re){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(Re)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(Re,je){this.overlayedDocument=Re,this.mutatedFields=je}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(Re,je,Be,De){this.remoteDocumentCache=Re,this.mutationQueue=je,this.documentOverlayCache=Be,this.indexManager=De}getDocument(Re,je){let Be=null;return this.documentOverlayCache.getOverlay(Re,je).next((De=>(Be=De,this.remoteDocumentCache.getEntry(Re,je)))).next((De=>(Be!==null&&__PRIVATE_mutationApplyToLocalView(Be.mutation,De,FieldMask.empty(),Timestamp.now()),De)))}getDocuments(Re,je){return this.remoteDocumentCache.getEntries(Re,je).next((Be=>this.getLocalViewOfDocuments(Re,Be,__PRIVATE_documentKeySet()).next((()=>Be))))}getLocalViewOfDocuments(Re,je,Be=__PRIVATE_documentKeySet()){const De=__PRIVATE_newOverlayMap();return this.populateOverlays(Re,De,je).next((()=>this.computeViews(Re,je,De,Be).next((Fe=>{let Oe=documentMap();return Fe.forEach(((ke,Me)=>{Oe=Oe.insert(ke,Me.overlayedDocument)})),Oe}))))}getOverlayedDocuments(Re,je){const Be=__PRIVATE_newOverlayMap();return this.populateOverlays(Re,Be,je).next((()=>this.computeViews(Re,je,Be,__PRIVATE_documentKeySet())))}populateOverlays(Re,je,Be){const De=[];return Be.forEach((Fe=>{je.has(Fe)||De.push(Fe)})),this.documentOverlayCache.getOverlays(Re,De).next((Fe=>{Fe.forEach(((Oe,ke)=>{je.set(Oe,ke)}))}))}computeViews(Re,je,Be,De){let Fe=__PRIVATE_mutableDocumentMap();const Oe=__PRIVATE_newDocumentKeyMap(),ke=(function(){return __PRIVATE_newDocumentKeyMap()})();return je.forEach(((Me,Ue)=>{const $e=Be.get(Ue.key);De.has(Ue.key)&&($e===void 0||$e.mutation instanceof __PRIVATE_PatchMutation)?Fe=Fe.insert(Ue.key,Ue):$e!==void 0?(Oe.set(Ue.key,$e.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView($e.mutation,Ue,$e.mutation.getFieldMask(),Timestamp.now())):Oe.set(Ue.key,FieldMask.empty())})),this.recalculateAndSaveOverlays(Re,Fe).next((Me=>(Me.forEach(((Ue,$e)=>Oe.set(Ue,$e))),je.forEach(((Ue,$e)=>{var He;return ke.set(Ue,new OverlayedDocument($e,(He=Oe.get(Ue))!==null&&He!==void 0?He:null))})),ke)))}recalculateAndSaveOverlays(Re,je){const Be=__PRIVATE_newDocumentKeyMap();let De=new SortedMap(((Oe,ke)=>Oe-ke)),Fe=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(Re,je).next((Oe=>{for(const ke of Oe)ke.keys().forEach((Me=>{const Ue=je.get(Me);if(Ue===null)return;let $e=Be.get(Me)||FieldMask.empty();$e=ke.applyToLocalView(Ue,$e),Be.set(Me,$e);const He=(De.get(ke.batchId)||__PRIVATE_documentKeySet()).add(Me);De=De.insert(ke.batchId,He)}))})).next((()=>{const Oe=[],ke=De.getReverseIterator();for(;ke.hasNext();){const Me=ke.getNext(),Ue=Me.key,$e=Me.value,He=__PRIVATE_newMutationMap();$e.forEach((Qe=>{if(!Fe.has(Qe)){const We=__PRIVATE_calculateOverlayMutation(je.get(Qe),Be.get(Qe));We!==null&&He.set(Qe,We),Fe=Fe.add(Qe)}})),Oe.push(this.documentOverlayCache.saveOverlays(Re,Ue,He))}return PersistencePromise.waitFor(Oe)})).next((()=>Be))}recalculateAndSaveOverlaysForDocumentKeys(Re,je){return this.remoteDocumentCache.getEntries(Re,je).next((Be=>this.recalculateAndSaveOverlays(Re,Be)))}getDocumentsMatchingQuery(Re,je,Be,De){return(function(Oe){return DocumentKey.isDocumentKey(Oe.path)&&Oe.collectionGroup===null&&Oe.filters.length===0})(je)?this.getDocumentsMatchingDocumentQuery(Re,je.path):__PRIVATE_isCollectionGroupQuery(je)?this.getDocumentsMatchingCollectionGroupQuery(Re,je,Be,De):this.getDocumentsMatchingCollectionQuery(Re,je,Be,De)}getNextDocuments(Re,je,Be,De){return this.remoteDocumentCache.getAllFromCollectionGroup(Re,je,Be,De).next((Fe=>{const Oe=De-Fe.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(Re,je,Be.largestBatchId,De-Fe.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let ke=-1,Me=Fe;return Oe.next((Ue=>PersistencePromise.forEach(Ue,(($e,He)=>(ke<He.largestBatchId&&(ke=He.largestBatchId),Fe.get($e)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(Re,$e).next((Qe=>{Me=Me.insert($e,Qe)}))))).next((()=>this.populateOverlays(Re,Ue,Fe))).next((()=>this.computeViews(Re,Me,Ue,__PRIVATE_documentKeySet()))).next(($e=>({batchId:ke,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap($e)})))))}))}getDocumentsMatchingDocumentQuery(Re,je){return this.getDocument(Re,new DocumentKey(je)).next((Be=>{let De=documentMap();return Be.isFoundDocument()&&(De=De.insert(Be.key,Be)),De}))}getDocumentsMatchingCollectionGroupQuery(Re,je,Be,De){const Fe=je.collectionGroup;let Oe=documentMap();return this.indexManager.getCollectionParents(Re,Fe).next((ke=>PersistencePromise.forEach(ke,(Me=>{const Ue=(function(He,Qe){return new __PRIVATE_QueryImpl(Qe,null,He.explicitOrderBy.slice(),He.filters.slice(),He.limit,He.limitType,He.startAt,He.endAt)})(je,Me.child(Fe));return this.getDocumentsMatchingCollectionQuery(Re,Ue,Be,De).next(($e=>{$e.forEach(((He,Qe)=>{Oe=Oe.insert(He,Qe)}))}))})).next((()=>Oe))))}getDocumentsMatchingCollectionQuery(Re,je,Be,De){let Fe;return this.documentOverlayCache.getOverlaysForCollection(Re,je.path,Be.largestBatchId).next((Oe=>(Fe=Oe,this.remoteDocumentCache.getDocumentsMatchingQuery(Re,je,Be,Fe,De)))).next((Oe=>{Fe.forEach(((Me,Ue)=>{const $e=Ue.getKey();Oe.get($e)===null&&(Oe=Oe.insert($e,MutableDocument.newInvalidDocument($e)))}));let ke=documentMap();return Oe.forEach(((Me,Ue)=>{const $e=Fe.get(Me);$e!==void 0&&__PRIVATE_mutationApplyToLocalView($e.mutation,Ue,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(je,Ue)&&(ke=ke.insert(Me,Ue))})),ke}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(Re){this.serializer=Re,this.cr=new Map,this.lr=new Map}getBundleMetadata(Re,je){return PersistencePromise.resolve(this.cr.get(je))}saveBundleMetadata(Re,je){return this.cr.set(je.id,(function(De){return{id:De.id,version:De.version,createTime:__PRIVATE_fromVersion(De.createTime)}})(je)),PersistencePromise.resolve()}getNamedQuery(Re,je){return PersistencePromise.resolve(this.lr.get(je))}saveNamedQuery(Re,je){return this.lr.set(je.name,(function(De){return{name:De.name,query:__PRIVATE_fromBundledQuery(De.bundledQuery),readTime:__PRIVATE_fromVersion(De.readTime)}})(je)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.hr=new Map}getOverlay(Re,je){return PersistencePromise.resolve(this.overlays.get(je))}getOverlays(Re,je){const Be=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(je,(De=>this.getOverlay(Re,De).next((Fe=>{Fe!==null&&Be.set(De,Fe)})))).next((()=>Be))}saveOverlays(Re,je,Be){return Be.forEach(((De,Fe)=>{this.ht(Re,je,Fe)})),PersistencePromise.resolve()}removeOverlaysForBatchId(Re,je,Be){const De=this.hr.get(Be);return De!==void 0&&(De.forEach((Fe=>this.overlays=this.overlays.remove(Fe))),this.hr.delete(Be)),PersistencePromise.resolve()}getOverlaysForCollection(Re,je,Be){const De=__PRIVATE_newOverlayMap(),Fe=je.length+1,Oe=new DocumentKey(je.child("")),ke=this.overlays.getIteratorFrom(Oe);for(;ke.hasNext();){const Me=ke.getNext().value,Ue=Me.getKey();if(!je.isPrefixOf(Ue.path))break;Ue.path.length===Fe&&Me.largestBatchId>Be&&De.set(Me.getKey(),Me)}return PersistencePromise.resolve(De)}getOverlaysForCollectionGroup(Re,je,Be,De){let Fe=new SortedMap(((Ue,$e)=>Ue-$e));const Oe=this.overlays.getIterator();for(;Oe.hasNext();){const Ue=Oe.getNext().value;if(Ue.getKey().getCollectionGroup()===je&&Ue.largestBatchId>Be){let $e=Fe.get(Ue.largestBatchId);$e===null&&($e=__PRIVATE_newOverlayMap(),Fe=Fe.insert(Ue.largestBatchId,$e)),$e.set(Ue.getKey(),Ue)}}const ke=__PRIVATE_newOverlayMap(),Me=Fe.getIterator();for(;Me.hasNext()&&(Me.getNext().value.forEach(((Ue,$e)=>ke.set(Ue,$e))),!(ke.size()>=De)););return PersistencePromise.resolve(ke)}ht(Re,je,Be){const De=this.overlays.get(Be.key);if(De!==null){const Oe=this.hr.get(De.largestBatchId).delete(Be.key);this.hr.set(De.largestBatchId,Oe)}this.overlays=this.overlays.insert(Be.key,new Overlay(je,Be));let Fe=this.hr.get(je);Fe===void 0&&(Fe=__PRIVATE_documentKeySet(),this.hr.set(je,Fe)),this.hr.set(je,Fe.add(Be.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Pr=new SortedSet(__PRIVATE_DocReference.Ir),this.Tr=new SortedSet(__PRIVATE_DocReference.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(Re,je){const Be=new __PRIVATE_DocReference(Re,je);this.Pr=this.Pr.add(Be),this.Tr=this.Tr.add(Be)}dr(Re,je){Re.forEach((Be=>this.addReference(Be,je)))}removeReference(Re,je){this.Ar(new __PRIVATE_DocReference(Re,je))}Rr(Re,je){Re.forEach((Be=>this.removeReference(Be,je)))}Vr(Re){const je=new DocumentKey(new ResourcePath([])),Be=new __PRIVATE_DocReference(je,Re),De=new __PRIVATE_DocReference(je,Re+1),Fe=[];return this.Tr.forEachInRange([Be,De],(Oe=>{this.Ar(Oe),Fe.push(Oe.key)})),Fe}mr(){this.Pr.forEach((Re=>this.Ar(Re)))}Ar(Re){this.Pr=this.Pr.delete(Re),this.Tr=this.Tr.delete(Re)}gr(Re){const je=new DocumentKey(new ResourcePath([])),Be=new __PRIVATE_DocReference(je,Re),De=new __PRIVATE_DocReference(je,Re+1);let Fe=__PRIVATE_documentKeySet();return this.Tr.forEachInRange([Be,De],(Oe=>{Fe=Fe.add(Oe.key)})),Fe}containsKey(Re){const je=new __PRIVATE_DocReference(Re,0),Be=this.Pr.firstAfterOrEqual(je);return Be!==null&&Re.isEqual(Be.key)}}class __PRIVATE_DocReference{constructor(Re,je){this.key=Re,this.pr=je}static Ir(Re,je){return DocumentKey.comparator(Re.key,je.key)||__PRIVATE_primitiveComparator(Re.pr,je.pr)}static Er(Re,je){return __PRIVATE_primitiveComparator(Re.pr,je.pr)||DocumentKey.comparator(Re.key,je.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(Re,je){this.indexManager=Re,this.referenceDelegate=je,this.mutationQueue=[],this.yr=1,this.wr=new SortedSet(__PRIVATE_DocReference.Ir)}checkEmpty(Re){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(Re,je,Be,De){const Fe=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const Oe=new MutationBatch(Fe,je,Be,De);this.mutationQueue.push(Oe);for(const ke of De)this.wr=this.wr.add(new __PRIVATE_DocReference(ke.key,Fe)),this.indexManager.addToCollectionParentIndex(Re,ke.key.path.popLast());return PersistencePromise.resolve(Oe)}lookupMutationBatch(Re,je){return PersistencePromise.resolve(this.Sr(je))}getNextMutationBatchAfterBatchId(Re,je){const Be=je+1,De=this.br(Be),Fe=De<0?0:De;return PersistencePromise.resolve(this.mutationQueue.length>Fe?this.mutationQueue[Fe]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(Re){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(Re,je){const Be=new __PRIVATE_DocReference(je,0),De=new __PRIVATE_DocReference(je,Number.POSITIVE_INFINITY),Fe=[];return this.wr.forEachInRange([Be,De],(Oe=>{const ke=this.Sr(Oe.pr);Fe.push(ke)})),PersistencePromise.resolve(Fe)}getAllMutationBatchesAffectingDocumentKeys(Re,je){let Be=new SortedSet(__PRIVATE_primitiveComparator);return je.forEach((De=>{const Fe=new __PRIVATE_DocReference(De,0),Oe=new __PRIVATE_DocReference(De,Number.POSITIVE_INFINITY);this.wr.forEachInRange([Fe,Oe],(ke=>{Be=Be.add(ke.pr)}))})),PersistencePromise.resolve(this.Dr(Be))}getAllMutationBatchesAffectingQuery(Re,je){const Be=je.path,De=Be.length+1;let Fe=Be;DocumentKey.isDocumentKey(Fe)||(Fe=Fe.child(""));const Oe=new __PRIVATE_DocReference(new DocumentKey(Fe),0);let ke=new SortedSet(__PRIVATE_primitiveComparator);return this.wr.forEachWhile((Me=>{const Ue=Me.key.path;return!!Be.isPrefixOf(Ue)&&(Ue.length===De&&(ke=ke.add(Me.pr)),!0)}),Oe),PersistencePromise.resolve(this.Dr(ke))}Dr(Re){const je=[];return Re.forEach((Be=>{const De=this.Sr(Be);De!==null&&je.push(De)})),je}removeMutationBatch(Re,je){__PRIVATE_hardAssert(this.Cr(je.batchId,"removed")===0),this.mutationQueue.shift();let Be=this.wr;return PersistencePromise.forEach(je.mutations,(De=>{const Fe=new __PRIVATE_DocReference(De.key,je.batchId);return Be=Be.delete(Fe),this.referenceDelegate.markPotentiallyOrphaned(Re,De.key)})).next((()=>{this.wr=Be}))}Mn(Re){}containsKey(Re,je){const Be=new __PRIVATE_DocReference(je,0),De=this.wr.firstAfterOrEqual(Be);return PersistencePromise.resolve(je.isEqual(De&&De.key))}performConsistencyCheck(Re){return this.mutationQueue.length,PersistencePromise.resolve()}Cr(Re,je){return this.br(Re)}br(Re){return this.mutationQueue.length===0?0:Re-this.mutationQueue[0].batchId}Sr(Re){const je=this.br(Re);return je<0||je>=this.mutationQueue.length?null:this.mutationQueue[je]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(Re){this.vr=Re,this.docs=(function(){return new SortedMap(DocumentKey.comparator)})(),this.size=0}setIndexManager(Re){this.indexManager=Re}addEntry(Re,je){const Be=je.key,De=this.docs.get(Be),Fe=De?De.size:0,Oe=this.vr(je);return this.docs=this.docs.insert(Be,{document:je.mutableCopy(),size:Oe}),this.size+=Oe-Fe,this.indexManager.addToCollectionParentIndex(Re,Be.path.popLast())}removeEntry(Re){const je=this.docs.get(Re);je&&(this.docs=this.docs.remove(Re),this.size-=je.size)}getEntry(Re,je){const Be=this.docs.get(je);return PersistencePromise.resolve(Be?Be.document.mutableCopy():MutableDocument.newInvalidDocument(je))}getEntries(Re,je){let Be=__PRIVATE_mutableDocumentMap();return je.forEach((De=>{const Fe=this.docs.get(De);Be=Be.insert(De,Fe?Fe.document.mutableCopy():MutableDocument.newInvalidDocument(De))})),PersistencePromise.resolve(Be)}getDocumentsMatchingQuery(Re,je,Be,De){let Fe=__PRIVATE_mutableDocumentMap();const Oe=je.path,ke=new DocumentKey(Oe.child("")),Me=this.docs.getIteratorFrom(ke);for(;Me.hasNext();){const{key:Ue,value:{document:$e}}=Me.getNext();if(!Oe.isPrefixOf(Ue.path))break;Ue.path.length>Oe.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument($e),Be)<=0||(De.has($e.key)||__PRIVATE_queryMatches(je,$e))&&(Fe=Fe.insert($e.key,$e.mutableCopy()))}return PersistencePromise.resolve(Fe)}getAllFromCollectionGroup(Re,je,Be,De){fail()}Fr(Re,je){return PersistencePromise.forEach(this.docs,(Be=>je(Be)))}newChangeBuffer(Re){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(Re){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(Re){super(),this.ar=Re}applyChanges(Re){const je=[];return this.changes.forEach(((Be,De)=>{De.isValidDocument()?je.push(this.ar.addEntry(Re,De)):this.ar.removeEntry(Be)})),PersistencePromise.waitFor(je)}getFromCache(Re,je){return this.ar.getEntry(Re,je)}getAllFromCache(Re,je){return this.ar.getEntries(Re,je)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(Re){this.persistence=Re,this.Mr=new ObjectMap((je=>__PRIVATE_canonifyTarget(je)),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Or=0,this.Nr=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Lr=__PRIVATE_TargetIdGenerator.Nn()}forEachTarget(Re,je){return this.Mr.forEach(((Be,De)=>je(De))),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(Re){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(Re){return PersistencePromise.resolve(this.Or)}allocateTargetId(Re){return this.highestTargetId=this.Lr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(Re,je,Be){return Be&&(this.lastRemoteSnapshotVersion=Be),je>this.Or&&(this.Or=je),PersistencePromise.resolve()}qn(Re){this.Mr.set(Re.target,Re);const je=Re.targetId;je>this.highestTargetId&&(this.Lr=new __PRIVATE_TargetIdGenerator(je),this.highestTargetId=je),Re.sequenceNumber>this.Or&&(this.Or=Re.sequenceNumber)}addTargetData(Re,je){return this.qn(je),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(Re,je){return this.qn(je),PersistencePromise.resolve()}removeTargetData(Re,je){return this.Mr.delete(je.target),this.Nr.Vr(je.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(Re,je,Be){let De=0;const Fe=[];return this.Mr.forEach(((Oe,ke)=>{ke.sequenceNumber<=je&&Be.get(ke.targetId)===null&&(this.Mr.delete(Oe),Fe.push(this.removeMatchingKeysForTargetId(Re,ke.targetId)),De++)})),PersistencePromise.waitFor(Fe).next((()=>De))}getTargetCount(Re){return PersistencePromise.resolve(this.targetCount)}getTargetData(Re,je){const Be=this.Mr.get(je)||null;return PersistencePromise.resolve(Be)}addMatchingKeys(Re,je,Be){return this.Nr.dr(je,Be),PersistencePromise.resolve()}removeMatchingKeys(Re,je,Be){this.Nr.Rr(je,Be);const De=this.persistence.referenceDelegate,Fe=[];return De&&je.forEach((Oe=>{Fe.push(De.markPotentiallyOrphaned(Re,Oe))})),PersistencePromise.waitFor(Fe)}removeMatchingKeysForTargetId(Re,je){return this.Nr.Vr(je),PersistencePromise.resolve()}getMatchingKeysForTargetId(Re,je){const Be=this.Nr.gr(je);return PersistencePromise.resolve(Be)}containsKey(Re,je){return PersistencePromise.resolve(this.Nr.containsKey(je))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(Re,je){this.Br={},this.overlays={},this.kr=new __PRIVATE_ListenSequence(0),this.qr=!1,this.qr=!0,this.referenceDelegate=Re(this),this.Qr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=(function(De){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(De)})((Be=>this.referenceDelegate.Kr(Be))),this.serializer=new __PRIVATE_LocalSerializer(je),this.$r=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(Re){return this.indexManager}getDocumentOverlayCache(Re){let je=this.overlays[Re.toKey()];return je||(je=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[Re.toKey()]=je),je}getMutationQueue(Re,je){let Be=this.Br[Re.toKey()];return Be||(Be=new __PRIVATE_MemoryMutationQueue(je,this.referenceDelegate),this.Br[Re.toKey()]=Be),Be}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(Re,je,Be){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",Re);const De=new __PRIVATE_MemoryTransaction(this.kr.next());return this.referenceDelegate.Ur(),Be(De).next((Fe=>this.referenceDelegate.Wr(De).next((()=>Fe)))).toPromise().then((Fe=>(De.raiseOnCommittedEvent(),Fe)))}Gr(Re,je){return PersistencePromise.or(Object.values(this.Br).map((Be=>()=>Be.containsKey(Re,je))))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(Re){super(),this.currentSequenceNumber=Re}}class __PRIVATE_MemoryEagerDelegate{constructor(Re){this.persistence=Re,this.zr=new __PRIVATE_ReferenceSet,this.jr=null}static Hr(Re){return new __PRIVATE_MemoryEagerDelegate(Re)}get Jr(){if(this.jr)return this.jr;throw fail()}addReference(Re,je,Be){return this.zr.addReference(Be,je),this.Jr.delete(Be.toString()),PersistencePromise.resolve()}removeReference(Re,je,Be){return this.zr.removeReference(Be,je),this.Jr.add(Be.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(Re,je){return this.Jr.add(je.toString()),PersistencePromise.resolve()}removeTarget(Re,je){this.zr.Vr(je.targetId).forEach((De=>this.Jr.add(De.toString())));const Be=this.persistence.getTargetCache();return Be.getMatchingKeysForTargetId(Re,je.targetId).next((De=>{De.forEach((Fe=>this.Jr.add(Fe.toString())))})).next((()=>Be.removeTargetData(Re,je)))}Ur(){this.jr=new Set}Wr(Re){const je=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Jr,(Be=>{const De=DocumentKey.fromPath(Be);return this.Yr(Re,De).next((Fe=>{Fe||je.removeEntry(De,SnapshotVersion.min())}))})).next((()=>(this.jr=null,je.apply(Re))))}updateLimboDocument(Re,je){return this.Yr(Re,je).next((Be=>{Be?this.Jr.delete(je.toString()):this.Jr.add(je.toString())}))}Kr(Re){return 0}Yr(Re,je){return PersistencePromise.or([()=>PersistencePromise.resolve(this.zr.containsKey(je)),()=>this.persistence.getTargetCache().containsKey(Re,je),()=>this.persistence.Gr(Re,je)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(Re,je,Be,De){this.targetId=Re,this.fromCache=je,this.qi=Be,this.Qi=De}static Ki(Re,je){let Be=__PRIVATE_documentKeySet(),De=__PRIVATE_documentKeySet();for(const Fe of je.docChanges)switch(Fe.type){case 0:Be=Be.add(Fe.doc.key);break;case 1:De=De.add(Fe.doc.key)}return new __PRIVATE_LocalViewChanges(Re,je.fromCache,Be,De)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(Re){this._documentReadCount+=Re}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4})()}initialize(Re,je){this.zi=Re,this.indexManager=je,this.$i=!0}getDocumentsMatchingQuery(Re,je,Be,De){const Fe={result:null};return this.ji(Re,je).next((Oe=>{Fe.result=Oe})).next((()=>{if(!Fe.result)return this.Hi(Re,je,De,Be).next((Oe=>{Fe.result=Oe}))})).next((()=>{if(Fe.result)return;const Oe=new QueryContext;return this.Ji(Re,je,Oe).next((ke=>{if(Fe.result=ke,this.Ui)return this.Yi(Re,je,Oe,ke.size)}))})).next((()=>Fe.result))}Yi(Re,je,Be,De){return Be.documentReadCount<this.Wi?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(je),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(je),"scans",Be.documentReadCount,"local documents and returns",De,"documents as results."),Be.documentReadCount>this.Gi*De?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(je),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(Re,__PRIVATE_queryToTarget(je))):PersistencePromise.resolve())}ji(Re,je){if(__PRIVATE_queryMatchesAllDocuments(je))return PersistencePromise.resolve(null);let Be=__PRIVATE_queryToTarget(je);return this.indexManager.getIndexType(Re,Be).next((De=>De===0?null:(je.limit!==null&&De===1&&(je=__PRIVATE_queryWithLimit(je,null,"F"),Be=__PRIVATE_queryToTarget(je)),this.indexManager.getDocumentsMatchingTarget(Re,Be).next((Fe=>{const Oe=__PRIVATE_documentKeySet(...Fe);return this.zi.getDocuments(Re,Oe).next((ke=>this.indexManager.getMinOffset(Re,Be).next((Me=>{const Ue=this.Zi(je,ke);return this.Xi(je,Ue,Oe,Me.readTime)?this.ji(Re,__PRIVATE_queryWithLimit(je,null,"F")):this.es(Re,Ue,je,Me)}))))})))))}Hi(Re,je,Be,De){return __PRIVATE_queryMatchesAllDocuments(je)||De.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.zi.getDocuments(Re,Be).next((Fe=>{const Oe=this.Zi(je,Fe);return this.Xi(je,Oe,Be,De)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",De.toString(),__PRIVATE_stringifyQuery(je)),this.es(Re,Oe,je,__PRIVATE_newIndexOffsetSuccessorFromReadTime(De,-1)).next((ke=>ke)))}))}Zi(Re,je){let Be=new SortedSet(__PRIVATE_newQueryComparator(Re));return je.forEach(((De,Fe)=>{__PRIVATE_queryMatches(Re,Fe)&&(Be=Be.add(Fe))})),Be}Xi(Re,je,Be,De){if(Re.limit===null)return!1;if(Be.size!==je.size)return!0;const Fe=Re.limitType==="F"?je.last():je.first();return!!Fe&&(Fe.hasPendingWrites||Fe.version.compareTo(De)>0)}Ji(Re,je,Be){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(je)),this.zi.getDocumentsMatchingQuery(Re,je,IndexOffset.min(),Be)}es(Re,je,Be,De){return this.zi.getDocumentsMatchingQuery(Re,Be,De).next((Fe=>(je.forEach((Oe=>{Fe=Fe.insert(Oe.key,Oe)})),Fe)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(Re,je,Be,De){this.persistence=Re,this.ts=je,this.serializer=De,this.ns=new SortedMap(__PRIVATE_primitiveComparator),this.rs=new ObjectMap((Fe=>__PRIVATE_canonifyTarget(Fe)),__PRIVATE_targetEquals),this.ss=new Map,this.os=Re.getRemoteDocumentCache(),this.Qr=Re.getTargetCache(),this.$r=Re.getBundleCache(),this._s(Be)}_s(Re){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(Re),this.indexManager=this.persistence.getIndexManager(Re),this.mutationQueue=this.persistence.getMutationQueue(Re,this.indexManager),this.localDocuments=new LocalDocumentsView(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(Re){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(je=>Re.collect(je,this.ns)))}}function __PRIVATE_newLocalStore(Ce,Re,je,Be){return new __PRIVATE_LocalStoreImpl(Ce,Re,je,Be)}async function __PRIVATE_localStoreHandleUserChange(Ce,Re){const je=__PRIVATE_debugCast(Ce);return await je.persistence.runTransaction("Handle user change","readonly",(Be=>{let De;return je.mutationQueue.getAllMutationBatches(Be).next((Fe=>(De=Fe,je._s(Re),je.mutationQueue.getAllMutationBatches(Be)))).next((Fe=>{const Oe=[],ke=[];let Me=__PRIVATE_documentKeySet();for(const Ue of De){Oe.push(Ue.batchId);for(const $e of Ue.mutations)Me=Me.add($e.key)}for(const Ue of Fe){ke.push(Ue.batchId);for(const $e of Ue.mutations)Me=Me.add($e.key)}return je.localDocuments.getDocuments(Be,Me).next((Ue=>({us:Ue,removedBatchIds:Oe,addedBatchIds:ke})))}))}))}function __PRIVATE_localStoreAcknowledgeBatch(Ce,Re){const je=__PRIVATE_debugCast(Ce);return je.persistence.runTransaction("Acknowledge batch","readwrite-primary",(Be=>{const De=Re.batch.keys(),Fe=je.os.newChangeBuffer({trackRemovals:!0});return(function(ke,Me,Ue,$e){const He=Ue.batch,Qe=He.keys();let We=PersistencePromise.resolve();return Qe.forEach((qe=>{We=We.next((()=>$e.getEntry(Me,qe))).next((Ke=>{const Xe=Ue.docVersions.get(qe);__PRIVATE_hardAssert(Xe!==null),Ke.version.compareTo(Xe)<0&&(He.applyToRemoteDocument(Ke,Ue),Ke.isValidDocument()&&(Ke.setReadTime(Ue.commitVersion),$e.addEntry(Ke)))}))})),We.next((()=>ke.mutationQueue.removeMutationBatch(Me,He)))})(je,Be,Re,Fe).next((()=>Fe.apply(Be))).next((()=>je.mutationQueue.performConsistencyCheck(Be))).next((()=>je.documentOverlayCache.removeOverlaysForBatchId(Be,De,Re.batch.batchId))).next((()=>je.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Be,(function(ke){let Me=__PRIVATE_documentKeySet();for(let Ue=0;Ue<ke.mutationResults.length;++Ue)ke.mutationResults[Ue].transformResults.length>0&&(Me=Me.add(ke.batch.mutations[Ue].key));return Me})(Re)))).next((()=>je.localDocuments.getDocuments(Be,De)))}))}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ce){const Re=__PRIVATE_debugCast(Ce);return Re.persistence.runTransaction("Get last remote snapshot version","readonly",(je=>Re.Qr.getLastRemoteSnapshotVersion(je)))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(Ce,Re){const je=__PRIVATE_debugCast(Ce),Be=Re.snapshotVersion;let De=je.ns;return je.persistence.runTransaction("Apply remote event","readwrite-primary",(Fe=>{const Oe=je.os.newChangeBuffer({trackRemovals:!0});De=je.ns;const ke=[];Re.targetChanges.forEach((($e,He)=>{const Qe=De.get(He);if(!Qe)return;ke.push(je.Qr.removeMatchingKeys(Fe,$e.removedDocuments,He).next((()=>je.Qr.addMatchingKeys(Fe,$e.addedDocuments,He))));let We=Qe.withSequenceNumber(Fe.currentSequenceNumber);Re.targetMismatches.get(He)!==null?We=We.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):$e.resumeToken.approximateByteSize()>0&&(We=We.withResumeToken($e.resumeToken,Be)),De=De.insert(He,We),(function(Ke,Xe,Ye){return Ke.resumeToken.approximateByteSize()===0||Xe.snapshotVersion.toMicroseconds()-Ke.snapshotVersion.toMicroseconds()>=3e8?!0:Ye.addedDocuments.size+Ye.modifiedDocuments.size+Ye.removedDocuments.size>0})(Qe,We,$e)&&ke.push(je.Qr.updateTargetData(Fe,We))}));let Me=__PRIVATE_mutableDocumentMap(),Ue=__PRIVATE_documentKeySet();if(Re.documentUpdates.forEach(($e=>{Re.resolvedLimboDocuments.has($e)&&ke.push(je.persistence.referenceDelegate.updateLimboDocument(Fe,$e))})),ke.push(__PRIVATE_populateDocumentChangeBuffer(Fe,Oe,Re.documentUpdates).next(($e=>{Me=$e.cs,Ue=$e.ls}))),!Be.isEqual(SnapshotVersion.min())){const $e=je.Qr.getLastRemoteSnapshotVersion(Fe).next((He=>je.Qr.setTargetsMetadata(Fe,Fe.currentSequenceNumber,Be)));ke.push($e)}return PersistencePromise.waitFor(ke).next((()=>Oe.apply(Fe))).next((()=>je.localDocuments.getLocalViewOfDocuments(Fe,Me,Ue))).next((()=>Me))})).then((Fe=>(je.ns=De,Fe)))}function __PRIVATE_populateDocumentChangeBuffer(Ce,Re,je){let Be=__PRIVATE_documentKeySet(),De=__PRIVATE_documentKeySet();return je.forEach((Fe=>Be=Be.add(Fe))),Re.getEntries(Ce,Be).next((Fe=>{let Oe=__PRIVATE_mutableDocumentMap();return je.forEach(((ke,Me)=>{const Ue=Fe.get(ke);Me.isFoundDocument()!==Ue.isFoundDocument()&&(De=De.add(ke)),Me.isNoDocument()&&Me.version.isEqual(SnapshotVersion.min())?(Re.removeEntry(ke,Me.readTime),Oe=Oe.insert(ke,Me)):!Ue.isValidDocument()||Me.version.compareTo(Ue.version)>0||Me.version.compareTo(Ue.version)===0&&Ue.hasPendingWrites?(Re.addEntry(Me),Oe=Oe.insert(ke,Me)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",ke,". Current version:",Ue.version," Watch version:",Me.version)})),{cs:Oe,ls:De}}))}function __PRIVATE_localStoreGetNextMutationBatch(Ce,Re){const je=__PRIVATE_debugCast(Ce);return je.persistence.runTransaction("Get next mutation batch","readonly",(Be=>(Re===void 0&&(Re=-1),je.mutationQueue.getNextMutationBatchAfterBatchId(Be,Re))))}function __PRIVATE_localStoreAllocateTarget(Ce,Re){const je=__PRIVATE_debugCast(Ce);return je.persistence.runTransaction("Allocate target","readwrite",(Be=>{let De;return je.Qr.getTargetData(Be,Re).next((Fe=>Fe?(De=Fe,PersistencePromise.resolve(De)):je.Qr.allocateTargetId(Be).next((Oe=>(De=new TargetData(Re,Oe,"TargetPurposeListen",Be.currentSequenceNumber),je.Qr.addTargetData(Be,De).next((()=>De)))))))})).then((Be=>{const De=je.ns.get(Be.targetId);return(De===null||Be.snapshotVersion.compareTo(De.snapshotVersion)>0)&&(je.ns=je.ns.insert(Be.targetId,Be),je.rs.set(Re,Be.targetId)),Be}))}async function __PRIVATE_localStoreReleaseTarget(Ce,Re,je){const Be=__PRIVATE_debugCast(Ce),De=Be.ns.get(Re),Fe=je?"readwrite":"readwrite-primary";try{je||await Be.persistence.runTransaction("Release target",Fe,(Oe=>Be.persistence.referenceDelegate.removeTarget(Oe,De)))}catch(Oe){if(!__PRIVATE_isIndexedDbTransactionError(Oe))throw Oe;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${Re}: ${Oe}`)}Be.ns=Be.ns.remove(Re),Be.rs.delete(De.target)}function __PRIVATE_localStoreExecuteQuery(Ce,Re,je){const Be=__PRIVATE_debugCast(Ce);let De=SnapshotVersion.min(),Fe=__PRIVATE_documentKeySet();return Be.persistence.runTransaction("Execute query","readwrite",(Oe=>(function(Me,Ue,$e){const He=__PRIVATE_debugCast(Me),Qe=He.rs.get($e);return Qe!==void 0?PersistencePromise.resolve(He.ns.get(Qe)):He.Qr.getTargetData(Ue,$e)})(Be,Oe,__PRIVATE_queryToTarget(Re)).next((ke=>{if(ke)return De=ke.lastLimboFreeSnapshotVersion,Be.Qr.getMatchingKeysForTargetId(Oe,ke.targetId).next((Me=>{Fe=Me}))})).next((()=>Be.ts.getDocumentsMatchingQuery(Oe,Re,je?De:SnapshotVersion.min(),je?Fe:__PRIVATE_documentKeySet()))).next((ke=>(__PRIVATE_setMaxReadTime(Be,__PRIVATE_queryCollectionGroup(Re),ke),{documents:ke,hs:Fe})))))}function __PRIVATE_setMaxReadTime(Ce,Re,je){let Be=Ce.ss.get(Re)||SnapshotVersion.min();je.forEach(((De,Fe)=>{Fe.readTime.compareTo(Be)>0&&(Be=Fe.readTime)})),Ce.ss.set(Re,Be)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}As(Re){this.activeTargetIds=this.activeTargetIds.add(Re)}Rs(Re){this.activeTargetIds=this.activeTargetIds.delete(Re)}ds(){const Re={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(Re)}}class __PRIVATE_MemorySharedClientState{constructor(){this.no=new __PRIVATE_LocalClientState,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(Re){}updateMutationState(Re,je,Be){}addLocalQueryTarget(Re){return this.no.As(Re),this.ro[Re]||"not-current"}updateQueryState(Re,je,Be){this.ro[Re]=je}removeLocalQueryTarget(Re){this.no.Rs(Re)}isLocalQueryTarget(Re){return this.no.activeTargetIds.has(Re)}clearQueryState(Re){delete this.ro[Re]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(Re){return this.no.activeTargetIds.has(Re)}start(){return this.no=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(Re,je,Be){}setOnlineState(Re){}shutdown(){}writeSequenceNumber(Re){}notifyBundleLoaded(Re){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{io(Re){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(Re){this.uo.push(Re)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const Re of this.uo)Re(0)}ao(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const Re of this.uo)Re(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ve=null;function __PRIVATE_generateUniqueDebugId(){return Ve===null?Ve=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ve++,"0x"+Ve.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me$1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(Re){this.lo=Re.lo,this.ho=Re.ho}Po(Re){this.Io=Re}To(Re){this.Eo=Re}Ao(Re){this.Ro=Re}onMessage(Re){this.Vo=Re}close(){this.ho()}send(Re){this.lo(Re)}mo(){this.Io()}fo(){this.Eo()}po(Re){this.Ro(Re)}yo(Re){this.Vo(Re)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe$2="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(je){this.databaseInfo=je,this.databaseId=je.databaseId;const Be=je.ssl?"https":"http",De=encodeURIComponent(this.databaseId.projectId),Fe=encodeURIComponent(this.databaseId.database);this.wo=Be+"://"+je.host,this.So=`projects/${De}/databases/${Fe}`,this.bo=this.databaseId.database==="(default)"?`project_id=${De}`:`project_id=${De}&database_id=${Fe}`}get Do(){return!1}Co(je,Be,De,Fe,Oe){const ke=__PRIVATE_generateUniqueDebugId(),Me=this.vo(je,Be.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${je}' ${ke}:`,Me,De);const Ue={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(Ue,Fe,Oe),this.Mo(je,Me,Ue,De).then(($e=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${je}' ${ke}: `,$e),$e)),($e=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${je}' ${ke} failed with error: `,$e,"url: ",Me,"request:",De),$e}))}xo(je,Be,De,Fe,Oe,ke){return this.Co(je,Be,De,Fe,Oe)}Fo(je,Be,De){je["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+b$1})(),je["Content-Type"]="text/plain",this.databaseInfo.appId&&(je["X-Firebase-GMPID"]=this.databaseInfo.appId),Be&&Be.headers.forEach(((Fe,Oe)=>je[Oe]=Fe)),De&&De.headers.forEach(((Fe,Oe)=>je[Oe]=Fe))}vo(je,Be){const De=me$1[je];return`${this.wo}/v1/${Be}:${De}`}terminate(){}}{constructor(Re){super(Re),this.forceLongPolling=Re.forceLongPolling,this.autoDetectLongPolling=Re.autoDetectLongPolling,this.useFetchStreams=Re.useFetchStreams,this.longPollingOptions=Re.longPollingOptions}Mo(Re,je,Be,De){const Fe=__PRIVATE_generateUniqueDebugId();return new Promise(((Oe,ke)=>{const Me=new XhrIo;Me.setWithCredentials(!0),Me.listenOnce(EventType.COMPLETE,(()=>{try{switch(Me.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const $e=Me.getResponseJson();__PRIVATE_logDebug(fe$2,`XHR for RPC '${Re}' ${Fe} received:`,JSON.stringify($e)),Oe($e);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(fe$2,`RPC '${Re}' ${Fe} timed out`),ke(new FirestoreError(C$1.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const He=Me.getStatus();if(__PRIVATE_logDebug(fe$2,`RPC '${Re}' ${Fe} failed with status:`,He,"response text:",Me.getResponseText()),He>0){let Qe=Me.getResponseJson();Array.isArray(Qe)&&(Qe=Qe[0]);const We=Qe?.error;if(We&&We.status&&We.message){const qe=(function(Xe){const Ye=Xe.toLowerCase().replace(/_/g,"-");return Object.values(C$1).indexOf(Ye)>=0?Ye:C$1.UNKNOWN})(We.status);ke(new FirestoreError(qe,We.message))}else ke(new FirestoreError(C$1.UNKNOWN,"Server responded with status "+Me.getStatus()))}else ke(new FirestoreError(C$1.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(fe$2,`RPC '${Re}' ${Fe} completed.`)}}));const Ue=JSON.stringify(De);__PRIVATE_logDebug(fe$2,`RPC '${Re}' ${Fe} sending request:`,De),Me.send(je,"POST",Ue,Be,15)}))}Oo(Re,je,Be){const De=__PRIVATE_generateUniqueDebugId(),Fe=[this.wo,"/","google.firestore.v1.Firestore","/",Re,"/channel"],Oe=createWebChannelTransport(),ke=getStatEventTarget(),Me={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Ue=this.longPollingOptions.timeoutSeconds;Ue!==void 0&&(Me.longPollingTimeout=Math.round(1e3*Ue)),this.useFetchStreams&&(Me.xmlHttpFactory=new FetchXmlHttpFactory({})),this.Fo(Me.initMessageHeaders,je,Be),Me.encodeInitMessageHeaders=!0;const $e=Fe.join("");__PRIVATE_logDebug(fe$2,`Creating RPC '${Re}' stream ${De}: ${$e}`,Me);const He=Oe.createWebChannel($e,Me);let Qe=!1,We=!1;const qe=new __PRIVATE_StreamBridge({lo:Xe=>{We?__PRIVATE_logDebug(fe$2,`Not sending because RPC '${Re}' stream ${De} is closed:`,Xe):(Qe||(__PRIVATE_logDebug(fe$2,`Opening RPC '${Re}' stream ${De} transport.`),He.open(),Qe=!0),__PRIVATE_logDebug(fe$2,`RPC '${Re}' stream ${De} sending:`,Xe),He.send(Xe))},ho:()=>He.close()}),Ke=(Xe,Ye,Ze)=>{Xe.listen(Ye,(Je=>{try{Ze(Je)}catch(tr){setTimeout((()=>{throw tr}),0)}}))};return Ke(He,WebChannel.EventType.OPEN,(()=>{We||(__PRIVATE_logDebug(fe$2,`RPC '${Re}' stream ${De} transport opened.`),qe.mo())})),Ke(He,WebChannel.EventType.CLOSE,(()=>{We||(We=!0,__PRIVATE_logDebug(fe$2,`RPC '${Re}' stream ${De} transport closed`),qe.po())})),Ke(He,WebChannel.EventType.ERROR,(Xe=>{We||(We=!0,__PRIVATE_logWarn(fe$2,`RPC '${Re}' stream ${De} transport errored:`,Xe),qe.po(new FirestoreError(C$1.UNAVAILABLE,"The operation could not be completed")))})),Ke(He,WebChannel.EventType.MESSAGE,(Xe=>{var Ye;if(!We){const Ze=Xe.data[0];__PRIVATE_hardAssert(!!Ze);const Je=Ze,tr=Je.error||((Ye=Je[0])===null||Ye===void 0?void 0:Ye.error);if(tr){__PRIVATE_logDebug(fe$2,`RPC '${Re}' stream ${De} received error:`,tr);const rr=tr.status;let ar=(function(dr){const _r=ce$1[dr];if(_r!==void 0)return __PRIVATE_mapCodeFromRpcCode(_r)})(rr),nr=tr.message;ar===void 0&&(ar=C$1.INTERNAL,nr="Unknown error status: "+rr+" with message "+tr.message),We=!0,qe.po(new FirestoreError(ar,nr)),He.close()}else __PRIVATE_logDebug(fe$2,`RPC '${Re}' stream ${De} received:`,Ze),qe.yo(Ze)}})),Ke(ke,Event$1.STAT_EVENT,(Xe=>{Xe.stat===Stat.PROXY?__PRIVATE_logDebug(fe$2,`RPC '${Re}' stream ${De} detected buffering proxy`):Xe.stat===Stat.NOPROXY&&__PRIVATE_logDebug(fe$2,`RPC '${Re}' stream ${De} detected no buffering proxy`)})),setTimeout((()=>{qe.fo()}),0),qe}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(Ce){return new JsonProtoSerializer(Ce,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(Re,je,Be=1e3,De=1.5,Fe=6e4){this.oi=Re,this.timerId=je,this.No=Be,this.Lo=De,this.Bo=Fe,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(Re){this.cancel();const je=Math.floor(this.ko+this.Uo()),Be=Math.max(0,Date.now()-this.Qo),De=Math.max(0,je-Be);De>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${De} ms (base delay: ${this.ko} ms, delay with jitter: ${je} ms, last attempt: ${Be} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,De,(()=>(this.Qo=Date.now(),Re()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(Re,je,Be,De,Fe,Oe,ke,Me){this.oi=Re,this.Go=Be,this.zo=De,this.connection=Fe,this.authCredentialsProvider=Oe,this.appCheckCredentialsProvider=ke,this.listener=Me,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new __PRIVATE_ExponentialBackoff(Re,je)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(Re){this.s_(),this.stream.send(Re)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(Re,je){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,Re!==4?this.Yo.reset():je&&je.code===C$1.RESOURCE_EXHAUSTED?(__PRIVATE_logError(je.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):je&&je.code===C$1.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=Re,await this.listener.Ao(je)}__(){}auth(){this.state=1;const Re=this.a_(this.jo),je=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([Be,De])=>{this.jo===je&&this.u_(Be,De)}),(Be=>{Re((()=>{const De=new FirestoreError(C$1.UNKNOWN,"Fetching auth token failed: "+Be.message);return this.c_(De)}))}))}u_(Re,je){const Be=this.a_(this.jo);this.stream=this.l_(Re,je),this.stream.Po((()=>{Be((()=>this.listener.Po()))})),this.stream.To((()=>{Be((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((De=>{Be((()=>this.c_(De)))})),this.stream.onMessage((De=>{Be((()=>this.onMessage(De)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(Re){return __PRIVATE_logDebug("PersistentStream",`close with error: ${Re}`),this.stream=null,this.close(4,Re)}a_(Re){return je=>{this.oi.enqueueAndForget((()=>this.jo===Re?je():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(Re,je,Be,De,Fe,Oe){super(Re,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",je,Be,De,Oe),this.serializer=Fe}l_(Re,je){return this.connection.Oo("Listen",Re,je)}onMessage(Re){this.Yo.reset();const je=__PRIVATE_fromWatchChange(this.serializer,Re),Be=(function(Fe){if(!("targetChange"in Fe))return SnapshotVersion.min();const Oe=Fe.targetChange;return Oe.targetIds&&Oe.targetIds.length?SnapshotVersion.min():Oe.readTime?__PRIVATE_fromVersion(Oe.readTime):SnapshotVersion.min()})(Re);return this.listener.h_(je,Be)}P_(Re){const je={};je.database=__PRIVATE_getEncodedDatabaseId(this.serializer),je.addTarget=(function(Fe,Oe){let ke;const Me=Oe.target;if(ke=__PRIVATE_targetIsDocumentTarget(Me)?{documents:__PRIVATE_toDocumentsTarget(Fe,Me)}:{query:__PRIVATE_toQueryTarget(Fe,Me)._t},ke.targetId=Oe.targetId,Oe.resumeToken.approximateByteSize()>0){ke.resumeToken=__PRIVATE_toBytes(Fe,Oe.resumeToken);const Ue=__PRIVATE_toInt32Proto(Fe,Oe.expectedCount);Ue!==null&&(ke.expectedCount=Ue)}else if(Oe.snapshotVersion.compareTo(SnapshotVersion.min())>0){ke.readTime=toTimestamp(Fe,Oe.snapshotVersion.toTimestamp());const Ue=__PRIVATE_toInt32Proto(Fe,Oe.expectedCount);Ue!==null&&(ke.expectedCount=Ue)}return ke})(this.serializer,Re);const Be=__PRIVATE_toListenRequestLabels(this.serializer,Re);Be&&(je.labels=Be),this.i_(je)}I_(Re){const je={};je.database=__PRIVATE_getEncodedDatabaseId(this.serializer),je.removeTarget=Re,this.i_(je)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(Re,je,Be,De,Fe,Oe){super(Re,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",je,Be,De,Oe),this.serializer=Fe,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(Re,je){return this.connection.Oo("Write",Re,je)}onMessage(Re){if(__PRIVATE_hardAssert(!!Re.streamToken),this.lastStreamToken=Re.streamToken,this.T_){this.Yo.reset();const je=__PRIVATE_fromWriteResults(Re.writeResults,Re.commitTime),Be=__PRIVATE_fromVersion(Re.commitTime);return this.listener.A_(Be,je)}return __PRIVATE_hardAssert(!Re.writeResults||Re.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const Re={};Re.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.i_(Re)}d_(Re){const je={streamToken:this.lastStreamToken,writes:Re.map((Be=>toMutation(this.serializer,Be)))};this.i_(je)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(Re,je,Be,De){super(),this.authCredentials=Re,this.appCheckCredentials=je,this.connection=Be,this.serializer=De,this.m_=!1}f_(){if(this.m_)throw new FirestoreError(C$1.FAILED_PRECONDITION,"The client has already been terminated.")}Co(Re,je,Be,De){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([Fe,Oe])=>this.connection.Co(Re,__PRIVATE_toResourcePath(je,Be),De,Fe,Oe))).catch((Fe=>{throw Fe.name==="FirebaseError"?(Fe.code===C$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),Fe):new FirestoreError(C$1.UNKNOWN,Fe.toString())}))}xo(Re,je,Be,De,Fe){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([Oe,ke])=>this.connection.xo(Re,__PRIVATE_toResourcePath(je,Be),De,Oe,ke,Fe))).catch((Oe=>{throw Oe.name==="FirebaseError"?(Oe.code===C$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),Oe):new FirestoreError(C$1.UNKNOWN,Oe.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(Re,je){this.asyncQueue=Re,this.onlineStateHandler=je,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(Re){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${Re.toString()}`),this.S_("Offline")))}set(Re){this.C_(),this.g_=0,Re==="Online"&&(this.y_=!1),this.S_(Re)}S_(Re){Re!==this.state&&(this.state=Re,this.onlineStateHandler(Re))}b_(Re){const je=`Could not reach Cloud Firestore backend. ${Re}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(__PRIVATE_logError(je),this.y_=!1):__PRIVATE_logDebug("OnlineStateTracker",je)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(Re,je,Be,De,Fe){this.localStore=Re,this.datastore=je,this.asyncQueue=Be,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=Fe,this.O_.io((Oe=>{Be.enqueueAndForget((async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await(async function(Me){const Ue=__PRIVATE_debugCast(Me);Ue.M_.add(4),await __PRIVATE_disableNetworkInternal(Ue),Ue.N_.set("Unknown"),Ue.M_.delete(4),await __PRIVATE_enableNetworkInternal(Ue)})(this))}))})),this.N_=new __PRIVATE_OnlineStateTracker(Be,De)}}async function __PRIVATE_enableNetworkInternal(Ce){if(__PRIVATE_canUseNetwork(Ce))for(const Re of Ce.x_)await Re(!0)}async function __PRIVATE_disableNetworkInternal(Ce){for(const Re of Ce.x_)await Re(!1)}function __PRIVATE_remoteStoreListen(Ce,Re){const je=__PRIVATE_debugCast(Ce);je.F_.has(Re.targetId)||(je.F_.set(Re.targetId,Re),__PRIVATE_shouldStartWatchStream(je)?__PRIVATE_startWatchStream(je):__PRIVATE_ensureWatchStream(je).Xo()&&__PRIVATE_sendWatchRequest(je,Re))}function __PRIVATE_remoteStoreUnlisten(Ce,Re){const je=__PRIVATE_debugCast(Ce),Be=__PRIVATE_ensureWatchStream(je);je.F_.delete(Re),Be.Xo()&&__PRIVATE_sendUnwatchRequest(je,Re),je.F_.size===0&&(Be.Xo()?Be.n_():__PRIVATE_canUseNetwork(je)&&je.N_.set("Unknown"))}function __PRIVATE_sendWatchRequest(Ce,Re){if(Ce.L_.xe(Re.targetId),Re.resumeToken.approximateByteSize()>0||Re.snapshotVersion.compareTo(SnapshotVersion.min())>0){const je=Ce.remoteSyncer.getRemoteKeysForTarget(Re.targetId).size;Re=Re.withExpectedCount(je)}__PRIVATE_ensureWatchStream(Ce).P_(Re)}function __PRIVATE_sendUnwatchRequest(Ce,Re){Ce.L_.xe(Re),__PRIVATE_ensureWatchStream(Ce).I_(Re)}function __PRIVATE_startWatchStream(Ce){Ce.L_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:Re=>Ce.remoteSyncer.getRemoteKeysForTarget(Re),ot:Re=>Ce.F_.get(Re)||null,tt:()=>Ce.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(Ce).start(),Ce.N_.w_()}function __PRIVATE_shouldStartWatchStream(Ce){return __PRIVATE_canUseNetwork(Ce)&&!__PRIVATE_ensureWatchStream(Ce).Zo()&&Ce.F_.size>0}function __PRIVATE_canUseNetwork(Ce){return __PRIVATE_debugCast(Ce).M_.size===0}function __PRIVATE_cleanUpWatchStreamState(Ce){Ce.L_=void 0}async function __PRIVATE_onWatchStreamConnected(Ce){Ce.N_.set("Online")}async function __PRIVATE_onWatchStreamOpen(Ce){Ce.F_.forEach(((Re,je)=>{__PRIVATE_sendWatchRequest(Ce,Re)}))}async function __PRIVATE_onWatchStreamClose(Ce,Re){__PRIVATE_cleanUpWatchStreamState(Ce),__PRIVATE_shouldStartWatchStream(Ce)?(Ce.N_.D_(Re),__PRIVATE_startWatchStream(Ce)):Ce.N_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(Ce,Re,je){if(Ce.N_.set("Online"),Re instanceof __PRIVATE_WatchTargetChange&&Re.state===2&&Re.cause)try{await(async function(De,Fe){const Oe=Fe.cause;for(const ke of Fe.targetIds)De.F_.has(ke)&&(await De.remoteSyncer.rejectListen(ke,Oe),De.F_.delete(ke),De.L_.removeTarget(ke))})(Ce,Re)}catch(Be){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",Re.targetIds.join(","),Be),await __PRIVATE_disableNetworkUntilRecovery(Ce,Be)}else if(Re instanceof __PRIVATE_DocumentWatchChange?Ce.L_.Ke(Re):Re instanceof __PRIVATE_ExistenceFilterChange?Ce.L_.He(Re):Ce.L_.We(Re),!je.isEqual(SnapshotVersion.min()))try{const Be=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ce.localStore);je.compareTo(Be)>=0&&await(function(Fe,Oe){const ke=Fe.L_.rt(Oe);return ke.targetChanges.forEach(((Me,Ue)=>{if(Me.resumeToken.approximateByteSize()>0){const $e=Fe.F_.get(Ue);$e&&Fe.F_.set(Ue,$e.withResumeToken(Me.resumeToken,Oe))}})),ke.targetMismatches.forEach(((Me,Ue)=>{const $e=Fe.F_.get(Me);if(!$e)return;Fe.F_.set(Me,$e.withResumeToken(ByteString.EMPTY_BYTE_STRING,$e.snapshotVersion)),__PRIVATE_sendUnwatchRequest(Fe,Me);const He=new TargetData($e.target,Me,Ue,$e.sequenceNumber);__PRIVATE_sendWatchRequest(Fe,He)})),Fe.remoteSyncer.applyRemoteEvent(ke)})(Ce,je)}catch(Be){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",Be),await __PRIVATE_disableNetworkUntilRecovery(Ce,Be)}}async function __PRIVATE_disableNetworkUntilRecovery(Ce,Re,je){if(!__PRIVATE_isIndexedDbTransactionError(Re))throw Re;Ce.M_.add(1),await __PRIVATE_disableNetworkInternal(Ce),Ce.N_.set("Offline"),je||(je=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ce.localStore)),Ce.asyncQueue.enqueueRetryable((async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await je(),Ce.M_.delete(1),await __PRIVATE_enableNetworkInternal(Ce)}))}function __PRIVATE_executeWithRecovery(Ce,Re){return Re().catch((je=>__PRIVATE_disableNetworkUntilRecovery(Ce,je,Re)))}async function __PRIVATE_fillWritePipeline(Ce){const Re=__PRIVATE_debugCast(Ce),je=__PRIVATE_ensureWriteStream(Re);let Be=Re.v_.length>0?Re.v_[Re.v_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(Re);)try{const De=await __PRIVATE_localStoreGetNextMutationBatch(Re.localStore,Be);if(De===null){Re.v_.length===0&&je.n_();break}Be=De.batchId,__PRIVATE_addToWritePipeline(Re,De)}catch(De){await __PRIVATE_disableNetworkUntilRecovery(Re,De)}__PRIVATE_shouldStartWriteStream(Re)&&__PRIVATE_startWriteStream(Re)}function __PRIVATE_canAddToWritePipeline(Ce){return __PRIVATE_canUseNetwork(Ce)&&Ce.v_.length<10}function __PRIVATE_addToWritePipeline(Ce,Re){Ce.v_.push(Re);const je=__PRIVATE_ensureWriteStream(Ce);je.Xo()&&je.E_&&je.d_(Re.mutations)}function __PRIVATE_shouldStartWriteStream(Ce){return __PRIVATE_canUseNetwork(Ce)&&!__PRIVATE_ensureWriteStream(Ce).Zo()&&Ce.v_.length>0}function __PRIVATE_startWriteStream(Ce){__PRIVATE_ensureWriteStream(Ce).start()}async function __PRIVATE_onWriteStreamOpen(Ce){__PRIVATE_ensureWriteStream(Ce).V_()}async function __PRIVATE_onWriteHandshakeComplete(Ce){const Re=__PRIVATE_ensureWriteStream(Ce);for(const je of Ce.v_)Re.d_(je.mutations)}async function __PRIVATE_onMutationResult(Ce,Re,je){const Be=Ce.v_.shift(),De=MutationBatchResult.from(Be,Re,je);await __PRIVATE_executeWithRecovery(Ce,(()=>Ce.remoteSyncer.applySuccessfulWrite(De))),await __PRIVATE_fillWritePipeline(Ce)}async function __PRIVATE_onWriteStreamClose(Ce,Re){Re&&__PRIVATE_ensureWriteStream(Ce).E_&&await(async function(Be,De){if((function(Oe){return __PRIVATE_isPermanentError(Oe)&&Oe!==C$1.ABORTED})(De.code)){const Fe=Be.v_.shift();__PRIVATE_ensureWriteStream(Be).t_(),await __PRIVATE_executeWithRecovery(Be,(()=>Be.remoteSyncer.rejectFailedWrite(Fe.batchId,De))),await __PRIVATE_fillWritePipeline(Be)}})(Ce,Re),__PRIVATE_shouldStartWriteStream(Ce)&&__PRIVATE_startWriteStream(Ce)}async function __PRIVATE_remoteStoreHandleCredentialChange(Ce,Re){const je=__PRIVATE_debugCast(Ce);je.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const Be=__PRIVATE_canUseNetwork(je);je.M_.add(3),await __PRIVATE_disableNetworkInternal(je),Be&&je.N_.set("Unknown"),await je.remoteSyncer.handleCredentialChange(Re),je.M_.delete(3),await __PRIVATE_enableNetworkInternal(je)}async function __PRIVATE_remoteStoreApplyPrimaryState(Ce,Re){const je=__PRIVATE_debugCast(Ce);Re?(je.M_.delete(2),await __PRIVATE_enableNetworkInternal(je)):Re||(je.M_.add(2),await __PRIVATE_disableNetworkInternal(je),je.N_.set("Unknown"))}function __PRIVATE_ensureWatchStream(Ce){return Ce.B_||(Ce.B_=(function(je,Be,De){const Fe=__PRIVATE_debugCast(je);return Fe.f_(),new __PRIVATE_PersistentListenStream(Be,Fe.connection,Fe.authCredentials,Fe.appCheckCredentials,Fe.serializer,De)})(Ce.datastore,Ce.asyncQueue,{Po:__PRIVATE_onWatchStreamConnected.bind(null,Ce),To:__PRIVATE_onWatchStreamOpen.bind(null,Ce),Ao:__PRIVATE_onWatchStreamClose.bind(null,Ce),h_:__PRIVATE_onWatchStreamChange.bind(null,Ce)}),Ce.x_.push((async Re=>{Re?(Ce.B_.t_(),__PRIVATE_shouldStartWatchStream(Ce)?__PRIVATE_startWatchStream(Ce):Ce.N_.set("Unknown")):(await Ce.B_.stop(),__PRIVATE_cleanUpWatchStreamState(Ce))}))),Ce.B_}function __PRIVATE_ensureWriteStream(Ce){return Ce.k_||(Ce.k_=(function(je,Be,De){const Fe=__PRIVATE_debugCast(je);return Fe.f_(),new __PRIVATE_PersistentWriteStream(Be,Fe.connection,Fe.authCredentials,Fe.appCheckCredentials,Fe.serializer,De)})(Ce.datastore,Ce.asyncQueue,{Po:()=>Promise.resolve(),To:__PRIVATE_onWriteStreamOpen.bind(null,Ce),Ao:__PRIVATE_onWriteStreamClose.bind(null,Ce),R_:__PRIVATE_onWriteHandshakeComplete.bind(null,Ce),A_:__PRIVATE_onMutationResult.bind(null,Ce)}),Ce.x_.push((async Re=>{Re?(Ce.k_.t_(),await __PRIVATE_fillWritePipeline(Ce)):(await Ce.k_.stop(),Ce.v_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${Ce.v_.length} pending writes`),Ce.v_=[]))}))),Ce.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(Re,je,Be,De,Fe){this.asyncQueue=Re,this.timerId=je,this.targetTimeMs=Be,this.op=De,this.removalCallback=Fe,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((Oe=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(Re,je,Be,De,Fe){const Oe=Date.now()+Be,ke=new DelayedOperation(Re,je,Oe,De,Fe);return ke.start(Be),ke}start(Re){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),Re)}skipDelay(){return this.handleDelayElapsed()}cancel(Re){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(C$1.CANCELLED,"Operation cancelled"+(Re?": "+Re:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((Re=>this.deferred.resolve(Re)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(Ce,Re){if(__PRIVATE_logError("AsyncQueue",`${Re}: ${Ce}`),__PRIVATE_isIndexedDbTransactionError(Ce))return new FirestoreError(C$1.UNAVAILABLE,`${Re}: ${Ce}`);throw Ce}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(Re){this.comparator=Re?(je,Be)=>Re(je,Be)||DocumentKey.comparator(je.key,Be.key):(je,Be)=>DocumentKey.comparator(je.key,Be.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(Re){return new DocumentSet(Re.comparator)}has(Re){return this.keyedMap.get(Re)!=null}get(Re){return this.keyedMap.get(Re)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(Re){const je=this.keyedMap.get(Re);return je?this.sortedSet.indexOf(je):-1}get size(){return this.sortedSet.size}forEach(Re){this.sortedSet.inorderTraversal(((je,Be)=>(Re(je),!1)))}add(Re){const je=this.delete(Re.key);return je.copy(je.keyedMap.insert(Re.key,Re),je.sortedSet.insert(Re,null))}delete(Re){const je=this.get(Re);return je?this.copy(this.keyedMap.remove(Re),this.sortedSet.remove(je)):this}isEqual(Re){if(!(Re instanceof DocumentSet)||this.size!==Re.size)return!1;const je=this.sortedSet.getIterator(),Be=Re.sortedSet.getIterator();for(;je.hasNext();){const De=je.getNext().key,Fe=Be.getNext().key;if(!De.isEqual(Fe))return!1}return!0}toString(){const Re=[];return this.forEach((je=>{Re.push(je.toString())})),Re.length===0?"DocumentSet ()":`DocumentSet (
  `+Re.join(`  
`)+`
)`}copy(Re,je){const Be=new DocumentSet;return Be.comparator=this.comparator,Be.keyedMap=Re,Be.sortedSet=je,Be}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.q_=new SortedMap(DocumentKey.comparator)}track(Re){const je=Re.doc.key,Be=this.q_.get(je);Be?Re.type!==0&&Be.type===3?this.q_=this.q_.insert(je,Re):Re.type===3&&Be.type!==1?this.q_=this.q_.insert(je,{type:Be.type,doc:Re.doc}):Re.type===2&&Be.type===2?this.q_=this.q_.insert(je,{type:2,doc:Re.doc}):Re.type===2&&Be.type===0?this.q_=this.q_.insert(je,{type:0,doc:Re.doc}):Re.type===1&&Be.type===0?this.q_=this.q_.remove(je):Re.type===1&&Be.type===2?this.q_=this.q_.insert(je,{type:1,doc:Be.doc}):Re.type===0&&Be.type===1?this.q_=this.q_.insert(je,{type:2,doc:Re.doc}):fail():this.q_=this.q_.insert(je,Re)}Q_(){const Re=[];return this.q_.inorderTraversal(((je,Be)=>{Re.push(Be)})),Re}}class ViewSnapshot{constructor(Re,je,Be,De,Fe,Oe,ke,Me,Ue){this.query=Re,this.docs=je,this.oldDocs=Be,this.docChanges=De,this.mutatedKeys=Fe,this.fromCache=Oe,this.syncStateChanged=ke,this.excludesMetadataChanges=Me,this.hasCachedResults=Ue}static fromInitialDocuments(Re,je,Be,De,Fe){const Oe=[];return je.forEach((ke=>{Oe.push({type:0,doc:ke})})),new ViewSnapshot(Re,je,DocumentSet.emptySet(je),Oe,Be,De,!0,!1,Fe)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(Re){if(!(this.fromCache===Re.fromCache&&this.hasCachedResults===Re.hasCachedResults&&this.syncStateChanged===Re.syncStateChanged&&this.mutatedKeys.isEqual(Re.mutatedKeys)&&__PRIVATE_queryEquals(this.query,Re.query)&&this.docs.isEqual(Re.docs)&&this.oldDocs.isEqual(Re.oldDocs)))return!1;const je=this.docChanges,Be=Re.docChanges;if(je.length!==Be.length)return!1;for(let De=0;De<je.length;De++)if(je[De].type!==Be[De].type||!je[De].doc.isEqual(Be[De].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((Re=>Re.G_()))}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=new ObjectMap((Re=>__PRIVATE_canonifyQuery(Re)),__PRIVATE_queryEquals),this.onlineState="Unknown",this.z_=new Set}}async function __PRIVATE_eventManagerListen(Ce,Re){const je=__PRIVATE_debugCast(Ce);let Be=3;const De=Re.query;let Fe=je.queries.get(De);Fe?!Fe.W_()&&Re.G_()&&(Be=2):(Fe=new __PRIVATE_QueryListenersInfo,Be=Re.G_()?0:1);try{switch(Be){case 0:Fe.K_=await je.onListen(De,!0);break;case 1:Fe.K_=await je.onListen(De,!1);break;case 2:await je.onFirstRemoteStoreListen(De)}}catch(Oe){const ke=__PRIVATE_wrapInUserErrorIfRecoverable(Oe,`Initialization of query '${__PRIVATE_stringifyQuery(Re.query)}' failed`);return void Re.onError(ke)}je.queries.set(De,Fe),Fe.U_.push(Re),Re.j_(je.onlineState),Fe.K_&&Re.H_(Fe.K_)&&__PRIVATE_raiseSnapshotsInSyncEvent(je)}async function __PRIVATE_eventManagerUnlisten(Ce,Re){const je=__PRIVATE_debugCast(Ce),Be=Re.query;let De=3;const Fe=je.queries.get(Be);if(Fe){const Oe=Fe.U_.indexOf(Re);Oe>=0&&(Fe.U_.splice(Oe,1),Fe.U_.length===0?De=Re.G_()?0:1:!Fe.W_()&&Re.G_()&&(De=2))}switch(De){case 0:return je.queries.delete(Be),je.onUnlisten(Be,!0);case 1:return je.queries.delete(Be),je.onUnlisten(Be,!1);case 2:return je.onLastRemoteStoreUnlisten(Be);default:return}}function __PRIVATE_eventManagerOnWatchChange(Ce,Re){const je=__PRIVATE_debugCast(Ce);let Be=!1;for(const De of Re){const Fe=De.query,Oe=je.queries.get(Fe);if(Oe){for(const ke of Oe.U_)ke.H_(De)&&(Be=!0);Oe.K_=De}}Be&&__PRIVATE_raiseSnapshotsInSyncEvent(je)}function __PRIVATE_eventManagerOnWatchError(Ce,Re,je){const Be=__PRIVATE_debugCast(Ce),De=Be.queries.get(Re);if(De)for(const Fe of De.U_)Fe.onError(je);Be.queries.delete(Re)}function __PRIVATE_raiseSnapshotsInSyncEvent(Ce){Ce.z_.forEach((Re=>{Re.next()}))}var ge$2,pe$2;(pe$2=ge$2||(ge$2={})).J_="default",pe$2.Cache="cache";class __PRIVATE_QueryListener{constructor(Re,je,Be){this.query=Re,this.Y_=je,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=Be||{}}H_(Re){if(!this.options.includeMetadataChanges){const Be=[];for(const De of Re.docChanges)De.type!==3&&Be.push(De);Re=new ViewSnapshot(Re.query,Re.docs,Re.oldDocs,Be,Re.mutatedKeys,Re.fromCache,Re.syncStateChanged,!0,Re.hasCachedResults)}let je=!1;return this.Z_?this.ea(Re)&&(this.Y_.next(Re),je=!0):this.ta(Re,this.onlineState)&&(this.na(Re),je=!0),this.X_=Re,je}onError(Re){this.Y_.error(Re)}j_(Re){this.onlineState=Re;let je=!1;return this.X_&&!this.Z_&&this.ta(this.X_,Re)&&(this.na(this.X_),je=!0),je}ta(Re,je){if(!Re.fromCache||!this.G_())return!0;const Be=je!=="Offline";return(!this.options.ra||!Be)&&(!Re.docs.isEmpty()||Re.hasCachedResults||je==="Offline")}ea(Re){if(Re.docChanges.length>0)return!0;const je=this.X_&&this.X_.hasPendingWrites!==Re.hasPendingWrites;return!(!Re.syncStateChanged&&!je)&&this.options.includeMetadataChanges===!0}na(Re){Re=ViewSnapshot.fromInitialDocuments(Re.query,Re.docs,Re.mutatedKeys,Re.fromCache,Re.hasCachedResults),this.Z_=!0,this.Y_.next(Re)}G_(){return this.options.source!==ge$2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(Re){this.key=Re}}class __PRIVATE_RemovedLimboDocument{constructor(Re){this.key=Re}}class __PRIVATE_View{constructor(Re,je){this.query=Re,this.la=je,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Ia=__PRIVATE_newQueryComparator(Re),this.Ta=new DocumentSet(this.Ia)}get Ea(){return this.la}da(Re,je){const Be=je?je.Aa:new __PRIVATE_DocumentChangeSet,De=je?je.Ta:this.Ta;let Fe=je?je.mutatedKeys:this.mutatedKeys,Oe=De,ke=!1;const Me=this.query.limitType==="F"&&De.size===this.query.limit?De.last():null,Ue=this.query.limitType==="L"&&De.size===this.query.limit?De.first():null;if(Re.inorderTraversal((($e,He)=>{const Qe=De.get($e),We=__PRIVATE_queryMatches(this.query,He)?He:null,qe=!!Qe&&this.mutatedKeys.has(Qe.key),Ke=!!We&&(We.hasLocalMutations||this.mutatedKeys.has(We.key)&&We.hasCommittedMutations);let Xe=!1;Qe&&We?Qe.data.isEqual(We.data)?qe!==Ke&&(Be.track({type:3,doc:We}),Xe=!0):this.Ra(Qe,We)||(Be.track({type:2,doc:We}),Xe=!0,(Me&&this.Ia(We,Me)>0||Ue&&this.Ia(We,Ue)<0)&&(ke=!0)):!Qe&&We?(Be.track({type:0,doc:We}),Xe=!0):Qe&&!We&&(Be.track({type:1,doc:Qe}),Xe=!0,(Me||Ue)&&(ke=!0)),Xe&&(We?(Oe=Oe.add(We),Fe=Ke?Fe.add($e):Fe.delete($e)):(Oe=Oe.delete($e),Fe=Fe.delete($e)))})),this.query.limit!==null)for(;Oe.size>this.query.limit;){const $e=this.query.limitType==="F"?Oe.last():Oe.first();Oe=Oe.delete($e.key),Fe=Fe.delete($e.key),Be.track({type:1,doc:$e})}return{Ta:Oe,Aa:Be,Xi:ke,mutatedKeys:Fe}}Ra(Re,je){return Re.hasLocalMutations&&je.hasCommittedMutations&&!je.hasLocalMutations}applyChanges(Re,je,Be,De){const Fe=this.Ta;this.Ta=Re.Ta,this.mutatedKeys=Re.mutatedKeys;const Oe=Re.Aa.Q_();Oe.sort((($e,He)=>(function(We,qe){const Ke=Xe=>{switch(Xe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return Ke(We)-Ke(qe)})($e.type,He.type)||this.Ia($e.doc,He.doc))),this.Va(Be),De=De!=null&&De;const ke=je&&!De?this.ma():[],Me=this.Pa.size===0&&this.current&&!De?1:0,Ue=Me!==this.ha;return this.ha=Me,Oe.length!==0||Ue?{snapshot:new ViewSnapshot(this.query,Re.Ta,Fe,Oe,Re.mutatedKeys,Me===0,Ue,!1,!!Be&&Be.resumeToken.approximateByteSize()>0),fa:ke}:{fa:ke}}j_(Re){return this.current&&Re==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(Re){return!this.la.has(Re)&&!!this.Ta.has(Re)&&!this.Ta.get(Re).hasLocalMutations}Va(Re){Re&&(Re.addedDocuments.forEach((je=>this.la=this.la.add(je))),Re.modifiedDocuments.forEach((je=>{})),Re.removedDocuments.forEach((je=>this.la=this.la.delete(je))),this.current=Re.current)}ma(){if(!this.current)return[];const Re=this.Pa;this.Pa=__PRIVATE_documentKeySet(),this.Ta.forEach((Be=>{this.ga(Be.key)&&(this.Pa=this.Pa.add(Be.key))}));const je=[];return Re.forEach((Be=>{this.Pa.has(Be)||je.push(new __PRIVATE_RemovedLimboDocument(Be))})),this.Pa.forEach((Be=>{Re.has(Be)||je.push(new __PRIVATE_AddedLimboDocument(Be))})),je}pa(Re){this.la=Re.hs,this.Pa=__PRIVATE_documentKeySet();const je=this.da(Re.documents);return this.applyChanges(je,!0)}ya(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(Re,je,Be){this.query=Re,this.targetId=je,this.view=Be}}class LimboResolution{constructor(Re){this.key=Re,this.wa=!1}}class __PRIVATE_SyncEngineImpl{constructor(Re,je,Be,De,Fe,Oe){this.localStore=Re,this.remoteStore=je,this.eventManager=Be,this.sharedClientState=De,this.currentUser=Fe,this.maxConcurrentLimboResolutions=Oe,this.Sa={},this.ba=new ObjectMap((ke=>__PRIVATE_canonifyQuery(ke)),__PRIVATE_queryEquals),this.Da=new Map,this.Ca=new Set,this.va=new SortedMap(DocumentKey.comparator),this.Fa=new Map,this.Ma=new __PRIVATE_ReferenceSet,this.xa={},this.Oa=new Map,this.Na=__PRIVATE_TargetIdGenerator.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function __PRIVATE_syncEngineListen(Ce,Re,je=!0){const Be=__PRIVATE_ensureWatchCallbacks(Ce);let De;const Fe=Be.ba.get(Re);return Fe?(Be.sharedClientState.addLocalQueryTarget(Fe.targetId),De=Fe.view.ya()):De=await __PRIVATE_allocateTargetAndMaybeListen(Be,Re,je,!0),De}async function __PRIVATE_triggerRemoteStoreListen(Ce,Re){const je=__PRIVATE_ensureWatchCallbacks(Ce);await __PRIVATE_allocateTargetAndMaybeListen(je,Re,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(Ce,Re,je,Be){const De=await __PRIVATE_localStoreAllocateTarget(Ce.localStore,__PRIVATE_queryToTarget(Re)),Fe=De.targetId,Oe=je?Ce.sharedClientState.addLocalQueryTarget(Fe):"not-current";let ke;return Be&&(ke=await __PRIVATE_initializeViewAndComputeSnapshot(Ce,Re,Fe,Oe==="current",De.resumeToken)),Ce.isPrimaryClient&&je&&__PRIVATE_remoteStoreListen(Ce.remoteStore,De),ke}async function __PRIVATE_initializeViewAndComputeSnapshot(Ce,Re,je,Be,De){Ce.Ba=(He,Qe,We)=>(async function(Ke,Xe,Ye,Ze){let Je=Xe.view.da(Ye);Je.Xi&&(Je=await __PRIVATE_localStoreExecuteQuery(Ke.localStore,Xe.query,!1).then((({documents:nr})=>Xe.view.da(nr,Je))));const tr=Ze&&Ze.targetChanges.get(Xe.targetId),rr=Ze&&Ze.targetMismatches.get(Xe.targetId)!=null,ar=Xe.view.applyChanges(Je,Ke.isPrimaryClient,tr,rr);return __PRIVATE_updateTrackedLimbos(Ke,Xe.targetId,ar.fa),ar.snapshot})(Ce,He,Qe,We);const Fe=await __PRIVATE_localStoreExecuteQuery(Ce.localStore,Re,!0),Oe=new __PRIVATE_View(Re,Fe.hs),ke=Oe.da(Fe.documents),Me=TargetChange.createSynthesizedTargetChangeForCurrentChange(je,Be&&Ce.onlineState!=="Offline",De),Ue=Oe.applyChanges(ke,Ce.isPrimaryClient,Me);__PRIVATE_updateTrackedLimbos(Ce,je,Ue.fa);const $e=new __PRIVATE_QueryView(Re,je,Oe);return Ce.ba.set(Re,$e),Ce.Da.has(je)?Ce.Da.get(je).push(Re):Ce.Da.set(je,[Re]),Ue.snapshot}async function __PRIVATE_syncEngineUnlisten(Ce,Re,je){const Be=__PRIVATE_debugCast(Ce),De=Be.ba.get(Re),Fe=Be.Da.get(De.targetId);if(Fe.length>1)return Be.Da.set(De.targetId,Fe.filter((Oe=>!__PRIVATE_queryEquals(Oe,Re)))),void Be.ba.delete(Re);Be.isPrimaryClient?(Be.sharedClientState.removeLocalQueryTarget(De.targetId),Be.sharedClientState.isActiveQueryTarget(De.targetId)||await __PRIVATE_localStoreReleaseTarget(Be.localStore,De.targetId,!1).then((()=>{Be.sharedClientState.clearQueryState(De.targetId),je&&__PRIVATE_remoteStoreUnlisten(Be.remoteStore,De.targetId),__PRIVATE_removeAndCleanupTarget(Be,De.targetId)})).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(Be,De.targetId),await __PRIVATE_localStoreReleaseTarget(Be.localStore,De.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(Ce,Re){const je=__PRIVATE_debugCast(Ce),Be=je.ba.get(Re),De=je.Da.get(Be.targetId);je.isPrimaryClient&&De.length===1&&(je.sharedClientState.removeLocalQueryTarget(Be.targetId),__PRIVATE_remoteStoreUnlisten(je.remoteStore,Be.targetId))}async function __PRIVATE_syncEngineWrite(Ce,Re,je){const Be=__PRIVATE_syncEngineEnsureWriteCallbacks(Ce);try{const De=await(function(Oe,ke){const Me=__PRIVATE_debugCast(Oe),Ue=Timestamp.now(),$e=ke.reduce(((We,qe)=>We.add(qe.key)),__PRIVATE_documentKeySet());let He,Qe;return Me.persistence.runTransaction("Locally write mutations","readwrite",(We=>{let qe=__PRIVATE_mutableDocumentMap(),Ke=__PRIVATE_documentKeySet();return Me.os.getEntries(We,$e).next((Xe=>{qe=Xe,qe.forEach(((Ye,Ze)=>{Ze.isValidDocument()||(Ke=Ke.add(Ye))}))})).next((()=>Me.localDocuments.getOverlayedDocuments(We,qe))).next((Xe=>{He=Xe;const Ye=[];for(const Ze of ke){const Je=__PRIVATE_mutationExtractBaseValue(Ze,He.get(Ze.key).overlayedDocument);Je!=null&&Ye.push(new __PRIVATE_PatchMutation(Ze.key,Je,__PRIVATE_extractFieldMask(Je.value.mapValue),Precondition.exists(!0)))}return Me.mutationQueue.addMutationBatch(We,Ue,Ye,ke)})).next((Xe=>{Qe=Xe;const Ye=Xe.applyToLocalDocumentSet(He,Ke);return Me.documentOverlayCache.saveOverlays(We,Xe.batchId,Ye)}))})).then((()=>({batchId:Qe.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(He)})))})(Be.localStore,Re);Be.sharedClientState.addPendingMutation(De.batchId),(function(Oe,ke,Me){let Ue=Oe.xa[Oe.currentUser.toKey()];Ue||(Ue=new SortedMap(__PRIVATE_primitiveComparator)),Ue=Ue.insert(ke,Me),Oe.xa[Oe.currentUser.toKey()]=Ue})(Be,De.batchId,je),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Be,De.changes),await __PRIVATE_fillWritePipeline(Be.remoteStore)}catch(De){const Fe=__PRIVATE_wrapInUserErrorIfRecoverable(De,"Failed to persist write");je.reject(Fe)}}async function __PRIVATE_syncEngineApplyRemoteEvent(Ce,Re){const je=__PRIVATE_debugCast(Ce);try{const Be=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(je.localStore,Re);Re.targetChanges.forEach(((De,Fe)=>{const Oe=je.Fa.get(Fe);Oe&&(__PRIVATE_hardAssert(De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size<=1),De.addedDocuments.size>0?Oe.wa=!0:De.modifiedDocuments.size>0?__PRIVATE_hardAssert(Oe.wa):De.removedDocuments.size>0&&(__PRIVATE_hardAssert(Oe.wa),Oe.wa=!1))})),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(je,Be,Re)}catch(Be){await __PRIVATE_ignoreIfPrimaryLeaseLoss(Be)}}function __PRIVATE_syncEngineApplyOnlineStateChange(Ce,Re,je){const Be=__PRIVATE_debugCast(Ce);if(Be.isPrimaryClient&&je===0||!Be.isPrimaryClient&&je===1){const De=[];Be.ba.forEach(((Fe,Oe)=>{const ke=Oe.view.j_(Re);ke.snapshot&&De.push(ke.snapshot)})),(function(Oe,ke){const Me=__PRIVATE_debugCast(Oe);Me.onlineState=ke;let Ue=!1;Me.queries.forEach((($e,He)=>{for(const Qe of He.U_)Qe.j_(ke)&&(Ue=!0)})),Ue&&__PRIVATE_raiseSnapshotsInSyncEvent(Me)})(Be.eventManager,Re),De.length&&Be.Sa.h_(De),Be.onlineState=Re,Be.isPrimaryClient&&Be.sharedClientState.setOnlineState(Re)}}async function __PRIVATE_syncEngineRejectListen(Ce,Re,je){const Be=__PRIVATE_debugCast(Ce);Be.sharedClientState.updateQueryState(Re,"rejected",je);const De=Be.Fa.get(Re),Fe=De&&De.key;if(Fe){let Oe=new SortedMap(DocumentKey.comparator);Oe=Oe.insert(Fe,MutableDocument.newNoDocument(Fe,SnapshotVersion.min()));const ke=__PRIVATE_documentKeySet().add(Fe),Me=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),Oe,ke);await __PRIVATE_syncEngineApplyRemoteEvent(Be,Me),Be.va=Be.va.remove(Fe),Be.Fa.delete(Re),__PRIVATE_pumpEnqueuedLimboResolutions(Be)}else await __PRIVATE_localStoreReleaseTarget(Be.localStore,Re,!1).then((()=>__PRIVATE_removeAndCleanupTarget(Be,Re,je))).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(Ce,Re){const je=__PRIVATE_debugCast(Ce),Be=Re.batch.batchId;try{const De=await __PRIVATE_localStoreAcknowledgeBatch(je.localStore,Re);__PRIVATE_processUserCallback(je,Be,null),__PRIVATE_triggerPendingWritesCallbacks(je,Be),je.sharedClientState.updateMutationState(Be,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(je,De)}catch(De){await __PRIVATE_ignoreIfPrimaryLeaseLoss(De)}}async function __PRIVATE_syncEngineRejectFailedWrite(Ce,Re,je){const Be=__PRIVATE_debugCast(Ce);try{const De=await(function(Oe,ke){const Me=__PRIVATE_debugCast(Oe);return Me.persistence.runTransaction("Reject batch","readwrite-primary",(Ue=>{let $e;return Me.mutationQueue.lookupMutationBatch(Ue,ke).next((He=>(__PRIVATE_hardAssert(He!==null),$e=He.keys(),Me.mutationQueue.removeMutationBatch(Ue,He)))).next((()=>Me.mutationQueue.performConsistencyCheck(Ue))).next((()=>Me.documentOverlayCache.removeOverlaysForBatchId(Ue,$e,ke))).next((()=>Me.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Ue,$e))).next((()=>Me.localDocuments.getDocuments(Ue,$e)))}))})(Be.localStore,Re);__PRIVATE_processUserCallback(Be,Re,je),__PRIVATE_triggerPendingWritesCallbacks(Be,Re),Be.sharedClientState.updateMutationState(Re,"rejected",je),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Be,De)}catch(De){await __PRIVATE_ignoreIfPrimaryLeaseLoss(De)}}function __PRIVATE_triggerPendingWritesCallbacks(Ce,Re){(Ce.Oa.get(Re)||[]).forEach((je=>{je.resolve()})),Ce.Oa.delete(Re)}function __PRIVATE_processUserCallback(Ce,Re,je){const Be=__PRIVATE_debugCast(Ce);let De=Be.xa[Be.currentUser.toKey()];if(De){const Fe=De.get(Re);Fe&&(je?Fe.reject(je):Fe.resolve(),De=De.remove(Re)),Be.xa[Be.currentUser.toKey()]=De}}function __PRIVATE_removeAndCleanupTarget(Ce,Re,je=null){Ce.sharedClientState.removeLocalQueryTarget(Re);for(const Be of Ce.Da.get(Re))Ce.ba.delete(Be),je&&Ce.Sa.ka(Be,je);Ce.Da.delete(Re),Ce.isPrimaryClient&&Ce.Ma.Vr(Re).forEach((Be=>{Ce.Ma.containsKey(Be)||__PRIVATE_removeLimboTarget(Ce,Be)}))}function __PRIVATE_removeLimboTarget(Ce,Re){Ce.Ca.delete(Re.path.canonicalString());const je=Ce.va.get(Re);je!==null&&(__PRIVATE_remoteStoreUnlisten(Ce.remoteStore,je),Ce.va=Ce.va.remove(Re),Ce.Fa.delete(je),__PRIVATE_pumpEnqueuedLimboResolutions(Ce))}function __PRIVATE_updateTrackedLimbos(Ce,Re,je){for(const Be of je)Be instanceof __PRIVATE_AddedLimboDocument?(Ce.Ma.addReference(Be.key,Re),__PRIVATE_trackLimboChange(Ce,Be)):Be instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+Be.key),Ce.Ma.removeReference(Be.key,Re),Ce.Ma.containsKey(Be.key)||__PRIVATE_removeLimboTarget(Ce,Be.key)):fail()}function __PRIVATE_trackLimboChange(Ce,Re){const je=Re.key,Be=je.path.canonicalString();Ce.va.get(je)||Ce.Ca.has(Be)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+je),Ce.Ca.add(Be),__PRIVATE_pumpEnqueuedLimboResolutions(Ce))}function __PRIVATE_pumpEnqueuedLimboResolutions(Ce){for(;Ce.Ca.size>0&&Ce.va.size<Ce.maxConcurrentLimboResolutions;){const Re=Ce.Ca.values().next().value;Ce.Ca.delete(Re);const je=new DocumentKey(ResourcePath.fromString(Re)),Be=Ce.Na.next();Ce.Fa.set(Be,new LimboResolution(je)),Ce.va=Ce.va.insert(je,Be),__PRIVATE_remoteStoreListen(Ce.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(je.path)),Be,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.oe))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ce,Re,je){const Be=__PRIVATE_debugCast(Ce),De=[],Fe=[],Oe=[];Be.ba.isEmpty()||(Be.ba.forEach(((ke,Me)=>{Oe.push(Be.Ba(Me,Re,je).then((Ue=>{var $e;if((Ue||je)&&Be.isPrimaryClient){const He=Ue?!Ue.fromCache:($e=je?.targetChanges.get(Me.targetId))===null||$e===void 0?void 0:$e.current;Be.sharedClientState.updateQueryState(Me.targetId,He?"current":"not-current")}if(Ue){De.push(Ue);const He=__PRIVATE_LocalViewChanges.Ki(Me.targetId,Ue);Fe.push(He)}})))})),await Promise.all(Oe),Be.Sa.h_(De),await(async function(Me,Ue){const $e=__PRIVATE_debugCast(Me);try{await $e.persistence.runTransaction("notifyLocalViewChanges","readwrite",(He=>PersistencePromise.forEach(Ue,(Qe=>PersistencePromise.forEach(Qe.qi,(We=>$e.persistence.referenceDelegate.addReference(He,Qe.targetId,We))).next((()=>PersistencePromise.forEach(Qe.Qi,(We=>$e.persistence.referenceDelegate.removeReference(He,Qe.targetId,We)))))))))}catch(He){if(!__PRIVATE_isIndexedDbTransactionError(He))throw He;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+He)}for(const He of Ue){const Qe=He.targetId;if(!He.fromCache){const We=$e.ns.get(Qe),qe=We.snapshotVersion,Ke=We.withLastLimboFreeSnapshotVersion(qe);$e.ns=$e.ns.insert(Qe,Ke)}}})(Be.localStore,Fe))}async function __PRIVATE_syncEngineHandleCredentialChange(Ce,Re){const je=__PRIVATE_debugCast(Ce);if(!je.currentUser.isEqual(Re)){__PRIVATE_logDebug("SyncEngine","User change. New user:",Re.toKey());const Be=await __PRIVATE_localStoreHandleUserChange(je.localStore,Re);je.currentUser=Re,(function(Fe,Oe){Fe.Oa.forEach((ke=>{ke.forEach((Me=>{Me.reject(new FirestoreError(C$1.CANCELLED,Oe))}))})),Fe.Oa.clear()})(je,"'waitForPendingWrites' promise is rejected due to a user change."),je.sharedClientState.handleUserChange(Re,Be.removedBatchIds,Be.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(je,Be.us)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(Ce,Re){const je=__PRIVATE_debugCast(Ce),Be=je.Fa.get(Re);if(Be&&Be.wa)return __PRIVATE_documentKeySet().add(Be.key);{let De=__PRIVATE_documentKeySet();const Fe=je.Da.get(Re);if(!Fe)return De;for(const Oe of Fe){const ke=je.ba.get(Oe);De=De.unionWith(ke.view.Ea)}return De}}function __PRIVATE_ensureWatchCallbacks(Ce){const Re=__PRIVATE_debugCast(Ce);return Re.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,Re),Re.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,Re),Re.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,Re),Re.Sa.h_=__PRIVATE_eventManagerOnWatchChange.bind(null,Re.eventManager),Re.Sa.ka=__PRIVATE_eventManagerOnWatchError.bind(null,Re.eventManager),Re}function __PRIVATE_syncEngineEnsureWriteCallbacks(Ce){const Re=__PRIVATE_debugCast(Ce);return Re.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,Re),Re.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,Re),Re}class MemoryOfflineComponentProvider{constructor(){this.synchronizeTabs=!1}async initialize(Re){this.serializer=__PRIVATE_newSerializer(Re.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(Re),this.persistence=this.createPersistence(Re),await this.persistence.start(),this.localStore=this.createLocalStore(Re),this.gcScheduler=this.createGarbageCollectionScheduler(Re,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(Re,this.localStore)}createGarbageCollectionScheduler(Re,je){return null}createIndexBackfillerScheduler(Re,je){return null}createLocalStore(Re){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,Re.initialUser,this.serializer)}createPersistence(Re){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Hr,this.serializer)}createSharedClientState(Re){return new __PRIVATE_MemorySharedClientState}async terminate(){var Re,je;(Re=this.gcScheduler)===null||Re===void 0||Re.stop(),(je=this.indexBackfillerScheduler)===null||je===void 0||je.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OnlineComponentProvider{async initialize(Re,je){this.localStore||(this.localStore=Re.localStore,this.sharedClientState=Re.sharedClientState,this.datastore=this.createDatastore(je),this.remoteStore=this.createRemoteStore(je),this.eventManager=this.createEventManager(je),this.syncEngine=this.createSyncEngine(je,!Re.synchronizeTabs),this.sharedClientState.onlineStateHandler=Be=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,Be,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(Re){return(function(){return new __PRIVATE_EventManagerImpl})()}createDatastore(Re){const je=__PRIVATE_newSerializer(Re.databaseInfo.databaseId),Be=(function(Fe){return new __PRIVATE_WebChannelConnection(Fe)})(Re.databaseInfo);return(function(Fe,Oe,ke,Me){return new __PRIVATE_DatastoreImpl(Fe,Oe,ke,Me)})(Re.authCredentials,Re.appCheckCredentials,Be,je)}createRemoteStore(Re){return(function(Be,De,Fe,Oe,ke){return new __PRIVATE_RemoteStoreImpl(Be,De,Fe,Oe,ke)})(this.localStore,this.datastore,Re.asyncQueue,(je=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,je,0)),(function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor})())}createSyncEngine(Re,je){return(function(De,Fe,Oe,ke,Me,Ue,$e){const He=new __PRIVATE_SyncEngineImpl(De,Fe,Oe,ke,Me,Ue);return $e&&(He.La=!0),He})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,Re.initialUser,Re.maxConcurrentLimboResolutions,je)}async terminate(){var Re;await(async function(Be){const De=__PRIVATE_debugCast(Be);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),De.M_.add(5),await __PRIVATE_disableNetworkInternal(De),De.O_.shutdown(),De.N_.set("Unknown")})(this.remoteStore),(Re=this.datastore)===null||Re===void 0||Re.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(Re){this.observer=Re,this.muted=!1}next(Re){this.observer.next&&this.Ka(this.observer.next,Re)}error(Re){this.observer.error?this.Ka(this.observer.error,Re):__PRIVATE_logError("Uncaught Error in snapshot listener:",Re.toString())}$a(){this.muted=!0}Ka(Re,je){this.muted||setTimeout((()=>{this.muted||Re(je)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(Re,je,Be,De){this.authCredentials=Re,this.appCheckCredentials=je,this.asyncQueue=Be,this.databaseInfo=De,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(Be,(async Fe=>{__PRIVATE_logDebug("FirestoreClient","Received user=",Fe.uid),await this.authCredentialListener(Fe),this.user=Fe})),this.appCheckCredentials.start(Be,(Fe=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",Fe),this.appCheckCredentialListener(Fe,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(Re){this.authCredentialListener=Re}setAppCheckTokenChangeListener(Re){this.appCheckCredentialListener=Re}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError(C$1.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const Re=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),Re.resolve()}catch(je){const Be=__PRIVATE_wrapInUserErrorIfRecoverable(je,"Failed to shutdown persistence");Re.reject(Be)}})),Re.promise}}async function __PRIVATE_setOfflineComponentProvider(Ce,Re){Ce.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const je=Ce.configuration;await Re.initialize(je);let Be=je.initialUser;Ce.setCredentialChangeListener((async De=>{Be.isEqual(De)||(await __PRIVATE_localStoreHandleUserChange(Re.localStore,De),Be=De)})),Re.persistence.setDatabaseDeletedListener((()=>Ce.terminate())),Ce._offlineComponents=Re}async function __PRIVATE_setOnlineComponentProvider(Ce,Re){Ce.asyncQueue.verifyOperationInProgress();const je=await __PRIVATE_ensureOfflineComponents(Ce);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await Re.initialize(je,Ce.configuration),Ce.setCredentialChangeListener((Be=>__PRIVATE_remoteStoreHandleCredentialChange(Re.remoteStore,Be))),Ce.setAppCheckTokenChangeListener(((Be,De)=>__PRIVATE_remoteStoreHandleCredentialChange(Re.remoteStore,De))),Ce._onlineComponents=Re}function __PRIVATE_canFallbackFromIndexedDbError(Ce){return Ce.name==="FirebaseError"?Ce.code===C$1.FAILED_PRECONDITION||Ce.code===C$1.UNIMPLEMENTED:!(typeof DOMException<"u"&&Ce instanceof DOMException)||Ce.code===22||Ce.code===20||Ce.code===11}async function __PRIVATE_ensureOfflineComponents(Ce){if(!Ce._offlineComponents)if(Ce._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(Ce,Ce._uninitializedComponentsProvider._offline)}catch(Re){const je=Re;if(!__PRIVATE_canFallbackFromIndexedDbError(je))throw je;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+je),await __PRIVATE_setOfflineComponentProvider(Ce,new MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(Ce,new MemoryOfflineComponentProvider);return Ce._offlineComponents}async function __PRIVATE_ensureOnlineComponents(Ce){return Ce._onlineComponents||(Ce._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(Ce,Ce._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(Ce,new OnlineComponentProvider))),Ce._onlineComponents}function __PRIVATE_getSyncEngine(Ce){return __PRIVATE_ensureOnlineComponents(Ce).then((Re=>Re.syncEngine))}async function __PRIVATE_getEventManager(Ce){const Re=await __PRIVATE_ensureOnlineComponents(Ce),je=Re.eventManager;return je.onListen=__PRIVATE_syncEngineListen.bind(null,Re.syncEngine),je.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,Re.syncEngine),je.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,Re.syncEngine),je.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,Re.syncEngine),je}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(Ce,Re,je={}){const Be=new __PRIVATE_Deferred;return Ce.asyncQueue.enqueueAndForget((async()=>(function(Fe,Oe,ke,Me,Ue){const $e=new __PRIVATE_AsyncObserver({next:Qe=>{Oe.enqueueAndForget((()=>__PRIVATE_eventManagerUnlisten(Fe,He)));const We=Qe.docs.has(ke);!We&&Qe.fromCache?Ue.reject(new FirestoreError(C$1.UNAVAILABLE,"Failed to get document because the client is offline.")):We&&Qe.fromCache&&Me&&Me.source==="server"?Ue.reject(new FirestoreError(C$1.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Ue.resolve(Qe)},error:Qe=>Ue.reject(Qe)}),He=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(ke.path),$e,{includeMetadataChanges:!0,ra:!0});return __PRIVATE_eventManagerListen(Fe,He)})(await __PRIVATE_getEventManager(Ce),Ce.asyncQueue,Re,je,Be))),Be.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(Ce,Re,je={}){const Be=new __PRIVATE_Deferred;return Ce.asyncQueue.enqueueAndForget((async()=>(function(Fe,Oe,ke,Me,Ue){const $e=new __PRIVATE_AsyncObserver({next:Qe=>{Oe.enqueueAndForget((()=>__PRIVATE_eventManagerUnlisten(Fe,He))),Qe.fromCache&&Me.source==="server"?Ue.reject(new FirestoreError(C$1.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Ue.resolve(Qe)},error:Qe=>Ue.reject(Qe)}),He=new __PRIVATE_QueryListener(ke,$e,{includeMetadataChanges:!0,ra:!0});return __PRIVATE_eventManagerListen(Fe,He)})(await __PRIVATE_getEventManager(Ce),Ce.asyncQueue,Re,je,Be))),Be.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(Ce){const Re={};return Ce.timeoutSeconds!==void 0&&(Re.timeoutSeconds=Ce.timeoutSeconds),Re}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye$2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(Ce,Re,je){if(!je)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Function ${Ce}() cannot be called with an empty ${Re}.`)}function __PRIVATE_validateIsNotUsedTogether(Ce,Re,je,Be){if(Re===!0&&Be===!0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`${Ce} and ${je} cannot be used together.`)}function __PRIVATE_validateDocumentPath(Ce){if(!DocumentKey.isDocumentKey(Ce))throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${Ce} has ${Ce.length}.`)}function __PRIVATE_validateCollectionPath(Ce){if(DocumentKey.isDocumentKey(Ce))throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${Ce} has ${Ce.length}.`)}function __PRIVATE_valueDescription(Ce){if(Ce===void 0)return"undefined";if(Ce===null)return"null";if(typeof Ce=="string")return Ce.length>20&&(Ce=`${Ce.substring(0,20)}...`),JSON.stringify(Ce);if(typeof Ce=="number"||typeof Ce=="boolean")return""+Ce;if(typeof Ce=="object"){if(Ce instanceof Array)return"an array";{const Re=(function(Be){return Be.constructor?Be.constructor.name:null})(Ce);return Re?`a custom ${Re} object`:"an object"}}return typeof Ce=="function"?"a function":fail()}function __PRIVATE_cast(Ce,Re){if("_delegate"in Ce&&(Ce=Ce._delegate),!(Ce instanceof Re)){if(Re.name===Ce.constructor.name)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const je=__PRIVATE_valueDescription(Ce);throw new FirestoreError(C$1.INVALID_ARGUMENT,`Expected type '${Re.name}', but it was: ${je}`)}}return Ce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(Re){var je,Be;if(Re.host===void 0){if(Re.ssl!==void 0)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=Re.host,this.ssl=(je=Re.ssl)===null||je===void 0||je;if(this.credentials=Re.credentials,this.ignoreUndefinedProperties=!!Re.ignoreUndefinedProperties,this.localCache=Re.localCache,Re.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(Re.cacheSizeBytes!==-1&&Re.cacheSizeBytes<1048576)throw new FirestoreError(C$1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=Re.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",Re.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",Re.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!Re.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:Re.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!Re.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((Be=Re.experimentalLongPollingOptions)!==null&&Be!==void 0?Be:{}),(function(Fe){if(Fe.timeoutSeconds!==void 0){if(isNaN(Fe.timeoutSeconds))throw new FirestoreError(C$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Fe.timeoutSeconds} (must not be NaN)`);if(Fe.timeoutSeconds<5)throw new FirestoreError(C$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Fe.timeoutSeconds} (minimum allowed value is 5)`);if(Fe.timeoutSeconds>30)throw new FirestoreError(C$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Fe.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!Re.useFetchStreams}isEqual(Re){return this.host===Re.host&&this.ssl===Re.ssl&&this.credentials===Re.credentials&&this.cacheSizeBytes===Re.cacheSizeBytes&&this.experimentalForceLongPolling===Re.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===Re.experimentalAutoDetectLongPolling&&(function(Be,De){return Be.timeoutSeconds===De.timeoutSeconds})(this.experimentalLongPollingOptions,Re.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===Re.ignoreUndefinedProperties&&this.useFetchStreams===Re.useFetchStreams}}class Firestore$1{constructor(Re,je,Be,De){this._authCredentials=Re,this._appCheckCredentials=je,this._databaseId=Be,this._app=De,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError(C$1.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(Re){if(this._settingsFrozen)throw new FirestoreError(C$1.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(Re),Re.credentials!==void 0&&(this._authCredentials=(function(Be){if(!Be)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(Be.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(Be.sessionIndex||"0",Be.iamToken||null,Be.authTokenFactory||null);case"provider":return Be.client;default:throw new FirestoreError(C$1.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(Re.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(je){const Be=ye$2.get(je);Be&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),ye$2.delete(je),Be.terminate())})(this),Promise.resolve()}}function connectFirestoreEmulator(Ce,Re,je,Be={}){var De;const Fe=(Ce=__PRIVATE_cast(Ce,Firestore$1))._getSettings(),Oe=`${Re}:${je}`;if(Fe.host!=="firestore.googleapis.com"&&Fe.host!==Oe&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),Ce._setSettings(Object.assign(Object.assign({},Fe),{host:Oe,ssl:!1})),Be.mockUserToken){let ke,Me;if(typeof Be.mockUserToken=="string")ke=Be.mockUserToken,Me=User.MOCK_USER;else{ke=createMockUserToken(Be.mockUserToken,(De=Ce._app)===null||De===void 0?void 0:De.options.projectId);const Ue=Be.mockUserToken.sub||Be.mockUserToken.user_id;if(!Ue)throw new FirestoreError(C$1.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Me=new User(Ue)}Ce._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(ke,Me))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(Re,je,Be){this.converter=je,this._query=Be,this.type="query",this.firestore=Re}withConverter(Re){return new Query(this.firestore,Re,this._query)}}class DocumentReference{constructor(Re,je,Be){this.converter=je,this._key=Be,this.type="document",this.firestore=Re}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(Re){return new DocumentReference(this.firestore,Re,this._key)}}class CollectionReference extends Query{constructor(Re,je,Be){super(Re,je,__PRIVATE_newQueryForPath(Be)),this._path=Be,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const Re=this._path.popLast();return Re.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(Re))}withConverter(Re){return new CollectionReference(this.firestore,Re,this._path)}}function collection(Ce,Re,...je){if(Ce=getModularInstance(Ce),__PRIVATE_validateNonEmptyArgument("collection","path",Re),Ce instanceof Firestore$1){const Be=ResourcePath.fromString(Re,...je);return __PRIVATE_validateCollectionPath(Be),new CollectionReference(Ce,null,Be)}{if(!(Ce instanceof DocumentReference||Ce instanceof CollectionReference))throw new FirestoreError(C$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const Be=Ce._path.child(ResourcePath.fromString(Re,...je));return __PRIVATE_validateCollectionPath(Be),new CollectionReference(Ce.firestore,null,Be)}}function doc(Ce,Re,...je){if(Ce=getModularInstance(Ce),arguments.length===1&&(Re=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",Re),Ce instanceof Firestore$1){const Be=ResourcePath.fromString(Re,...je);return __PRIVATE_validateDocumentPath(Be),new DocumentReference(Ce,null,new DocumentKey(Be))}{if(!(Ce instanceof DocumentReference||Ce instanceof CollectionReference))throw new FirestoreError(C$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const Be=Ce._path.child(ResourcePath.fromString(Re,...je));return __PRIVATE_validateDocumentPath(Be),new DocumentReference(Ce.firestore,Ce instanceof CollectionReference?Ce.converter:null,new DocumentKey(Be))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.hu=()=>{const je=getDocument();je&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+je.visibilityState),this.Yo.Wo()};const Re=getDocument();Re&&typeof Re.addEventListener=="function"&&Re.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(Re){this.enqueue(Re)}enqueueAndForgetEvenWhileRestricted(Re){this.Pu(),this.Iu(Re)}enterRestrictedMode(Re){if(!this.ou){this.ou=!0,this.cu=Re||!1;const je=getDocument();je&&typeof je.removeEventListener=="function"&&je.removeEventListener("visibilitychange",this.hu)}}enqueue(Re){if(this.Pu(),this.ou)return new Promise((()=>{}));const je=new __PRIVATE_Deferred;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(Re().then(je.resolve,je.reject),je.promise))).then((()=>je.promise))}enqueueRetryable(Re){this.enqueueAndForget((()=>(this.su.push(Re),this.Tu())))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(Re){if(!__PRIVATE_isIndexedDbTransactionError(Re))throw Re;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+Re)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(Re){const je=this.iu.then((()=>(this.uu=!0,Re().catch((Be=>{this.au=Be,this.uu=!1;const De=(function(Oe){let ke=Oe.message||"";return Oe.stack&&(ke=Oe.stack.includes(Oe.message)?Oe.stack:Oe.message+`
`+Oe.stack),ke})(Be);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",De),Be})).then((Be=>(this.uu=!1,Be))))));return this.iu=je,je}enqueueAfterDelay(Re,je,Be){this.Pu(),this.lu.indexOf(Re)>-1&&(je=0);const De=DelayedOperation.createAndSchedule(this,Re,je,Be,(Fe=>this.Eu(Fe)));return this._u.push(De),De}Pu(){this.au&&fail()}verifyOperationInProgress(){}async du(){let Re;do Re=this.iu,await Re;while(Re!==this.iu)}Au(Re){for(const je of this._u)if(je.timerId===Re)return!0;return!1}Ru(Re){return this.du().then((()=>{this._u.sort(((je,Be)=>je.targetTimeMs-Be.targetTimeMs));for(const je of this._u)if(je.skipDelay(),Re!=="all"&&je.timerId===Re)break;return this.du()}))}Vu(Re){this.lu.push(Re)}Eu(Re){const je=this._u.indexOf(Re);this._u.splice(je,1)}}function __PRIVATE_isPartialObserver(Ce){return(function(je,Be){if(typeof je!="object"||je===null)return!1;const De=je;for(const Fe of Be)if(Fe in De&&typeof De[Fe]=="function")return!0;return!1})(Ce,["next","error","complete"])}class Firestore extends Firestore$1{constructor(Re,je,Be,De){super(Re,je,Be,De),this.type="firestore",this._queue=(function(){return new __PRIVATE_AsyncQueueImpl})(),this._persistenceKey=De?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||__PRIVATE_configureFirestore(this),this._firestoreClient.terminate()}}function getFirestore(Ce,Re){const je=typeof Ce=="object"?Ce:getApp(),Be=typeof Ce=="string"?Ce:"(default)",De=_getProvider(je,"firestore").getImmediate({identifier:Be});if(!De._initialized){const Fe=getDefaultEmulatorHostnameAndPort("firestore");Fe&&connectFirestoreEmulator(De,...Fe)}return De}function ensureFirestoreConfigured(Ce){return Ce._firestoreClient||__PRIVATE_configureFirestore(Ce),Ce._firestoreClient.verifyNotTerminated(),Ce._firestoreClient}function __PRIVATE_configureFirestore(Ce){var Re,je,Be;const De=Ce._freezeSettings(),Fe=(function(ke,Me,Ue,$e){return new DatabaseInfo(ke,Me,Ue,$e.host,$e.ssl,$e.experimentalForceLongPolling,$e.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions($e.experimentalLongPollingOptions),$e.useFetchStreams)})(Ce._databaseId,((Re=Ce._app)===null||Re===void 0?void 0:Re.options.appId)||"",Ce._persistenceKey,De);Ce._firestoreClient=new FirestoreClient(Ce._authCredentials,Ce._appCheckCredentials,Ce._queue,Fe),!((je=De.localCache)===null||je===void 0)&&je._offlineComponentProvider&&(!((Be=De.localCache)===null||Be===void 0)&&Be._onlineComponentProvider)&&(Ce._firestoreClient._uninitializedComponentsProvider={_offlineKind:De.localCache.kind,_offline:De.localCache._offlineComponentProvider,_online:De.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(Re){this._byteString=Re}static fromBase64String(Re){try{return new Bytes(ByteString.fromBase64String(Re))}catch(je){throw new FirestoreError(C$1.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+je)}}static fromUint8Array(Re){return new Bytes(ByteString.fromUint8Array(Re))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(Re){return this._byteString.isEqual(Re._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...Re){for(let je=0;je<Re.length;++je)if(Re[je].length===0)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(Re)}isEqual(Re){return this._internalPath.isEqual(Re._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(Re){this._methodName=Re}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(Re,je){if(!isFinite(Re)||Re<-90||Re>90)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+Re);if(!isFinite(je)||je<-180||je>180)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+je);this._lat=Re,this._long=je}get latitude(){return this._lat}get longitude(){return this._long}isEqual(Re){return this._lat===Re._lat&&this._long===Re._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(Re){return __PRIVATE_primitiveComparator(this._lat,Re._lat)||__PRIVATE_primitiveComparator(this._long,Re._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se$1=/^__.*__$/;class ParsedSetData{constructor(Re,je,Be){this.data=Re,this.fieldMask=je,this.fieldTransforms=Be}toMutation(Re,je){return this.fieldMask!==null?new __PRIVATE_PatchMutation(Re,this.data,this.fieldMask,je,this.fieldTransforms):new __PRIVATE_SetMutation(Re,this.data,je,this.fieldTransforms)}}class ParsedUpdateData{constructor(Re,je,Be){this.data=Re,this.fieldMask=je,this.fieldTransforms=Be}toMutation(Re,je){return new __PRIVATE_PatchMutation(Re,this.data,this.fieldMask,je,this.fieldTransforms)}}function __PRIVATE_isWrite(Ce){switch(Ce){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(Re,je,Be,De,Fe,Oe){this.settings=Re,this.databaseId=je,this.serializer=Be,this.ignoreUndefinedProperties=De,Fe===void 0&&this.mu(),this.fieldTransforms=Fe||[],this.fieldMask=Oe||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(Re){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),Re),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(Re){var je;const Be=(je=this.path)===null||je===void 0?void 0:je.child(Re),De=this.gu({path:Be,yu:!1});return De.wu(Re),De}Su(Re){var je;const Be=(je=this.path)===null||je===void 0?void 0:je.child(Re),De=this.gu({path:Be,yu:!1});return De.mu(),De}bu(Re){return this.gu({path:void 0,yu:!0})}Du(Re){return __PRIVATE_createError(Re,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(Re){return this.fieldMask.find((je=>Re.isPrefixOf(je)))!==void 0||this.fieldTransforms.find((je=>Re.isPrefixOf(je.field)))!==void 0}mu(){if(this.path)for(let Re=0;Re<this.path.length;Re++)this.wu(this.path.get(Re))}wu(Re){if(Re.length===0)throw this.Du("Document fields must not be empty");if(__PRIVATE_isWrite(this.fu)&&Se$1.test(Re))throw this.Du('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(Re,je,Be){this.databaseId=Re,this.ignoreUndefinedProperties=je,this.serializer=Be||__PRIVATE_newSerializer(Re)}Fu(Re,je,Be,De=!1){return new __PRIVATE_ParseContextImpl({fu:Re,methodName:je,vu:Be,path:FieldPath$1.emptyPath(),yu:!1,Cu:De},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(Ce){const Re=Ce._freezeSettings(),je=__PRIVATE_newSerializer(Ce._databaseId);return new __PRIVATE_UserDataReader(Ce._databaseId,!!Re.ignoreUndefinedProperties,je)}function __PRIVATE_parseSetData(Ce,Re,je,Be,De,Fe={}){const Oe=Ce.Fu(Fe.merge||Fe.mergeFields?2:0,Re,je,De);__PRIVATE_validatePlainObject("Data must be an object, but it was:",Oe,Be);const ke=__PRIVATE_parseObject(Be,Oe);let Me,Ue;if(Fe.merge)Me=new FieldMask(Oe.fieldMask),Ue=Oe.fieldTransforms;else if(Fe.mergeFields){const $e=[];for(const He of Fe.mergeFields){const Qe=__PRIVATE_fieldPathFromArgument$1(Re,He,je);if(!Oe.contains(Qe))throw new FirestoreError(C$1.INVALID_ARGUMENT,`Field '${Qe}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains($e,Qe)||$e.push(Qe)}Me=new FieldMask($e),Ue=Oe.fieldTransforms.filter((He=>Me.covers(He.field)))}else Me=null,Ue=Oe.fieldTransforms;return new ParsedSetData(new ObjectValue(ke),Me,Ue)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(Re){if(Re.fu!==2)throw Re.fu===1?Re.Du(`${this._methodName}() can only appear at the top level of your update data`):Re.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return Re.fieldMask.push(Re.path),null}isEqual(Re){return Re instanceof __PRIVATE_DeleteFieldValueImpl}}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue{_toFieldTransform(Re){return new FieldTransform(Re.path,new __PRIVATE_ServerTimestampTransform)}isEqual(Re){return Re instanceof __PRIVATE_ServerTimestampFieldValueImpl}}function __PRIVATE_parseUpdateData(Ce,Re,je,Be){const De=Ce.Fu(1,Re,je);__PRIVATE_validatePlainObject("Data must be an object, but it was:",De,Be);const Fe=[],Oe=ObjectValue.empty();forEach(Be,((Me,Ue)=>{const $e=__PRIVATE_fieldPathFromDotSeparatedString(Re,Me,je);Ue=getModularInstance(Ue);const He=De.Su($e);if(Ue instanceof __PRIVATE_DeleteFieldValueImpl)Fe.push($e);else{const Qe=__PRIVATE_parseData(Ue,He);Qe!=null&&(Fe.push($e),Oe.set($e,Qe))}}));const ke=new FieldMask(Fe);return new ParsedUpdateData(Oe,ke,De.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(Ce,Re,je,Be,De,Fe){const Oe=Ce.Fu(1,Re,je),ke=[__PRIVATE_fieldPathFromArgument$1(Re,Be,je)],Me=[De];if(Fe.length%2!=0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Function ${Re}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Qe=0;Qe<Fe.length;Qe+=2)ke.push(__PRIVATE_fieldPathFromArgument$1(Re,Fe[Qe])),Me.push(Fe[Qe+1]);const Ue=[],$e=ObjectValue.empty();for(let Qe=ke.length-1;Qe>=0;--Qe)if(!__PRIVATE_fieldMaskContains(Ue,ke[Qe])){const We=ke[Qe];let qe=Me[Qe];qe=getModularInstance(qe);const Ke=Oe.Su(We);if(qe instanceof __PRIVATE_DeleteFieldValueImpl)Ue.push(We);else{const Xe=__PRIVATE_parseData(qe,Ke);Xe!=null&&(Ue.push(We),$e.set(We,Xe))}}const He=new FieldMask(Ue);return new ParsedUpdateData($e,He,Oe.fieldTransforms)}function __PRIVATE_parseQueryValue(Ce,Re,je,Be=!1){return __PRIVATE_parseData(je,Ce.Fu(Be?4:3,Re))}function __PRIVATE_parseData(Ce,Re){if(__PRIVATE_looksLikeJsonObject(Ce=getModularInstance(Ce)))return __PRIVATE_validatePlainObject("Unsupported field value:",Re,Ce),__PRIVATE_parseObject(Ce,Re);if(Ce instanceof FieldValue)return(function(Be,De){if(!__PRIVATE_isWrite(De.fu))throw De.Du(`${Be._methodName}() can only be used with update() and set()`);if(!De.path)throw De.Du(`${Be._methodName}() is not currently supported inside arrays`);const Fe=Be._toFieldTransform(De);Fe&&De.fieldTransforms.push(Fe)})(Ce,Re),null;if(Ce===void 0&&Re.ignoreUndefinedProperties)return null;if(Re.path&&Re.fieldMask.push(Re.path),Ce instanceof Array){if(Re.settings.yu&&Re.fu!==4)throw Re.Du("Nested arrays are not supported");return(function(Be,De){const Fe=[];let Oe=0;for(const ke of Be){let Me=__PRIVATE_parseData(ke,De.bu(Oe));Me==null&&(Me={nullValue:"NULL_VALUE"}),Fe.push(Me),Oe++}return{arrayValue:{values:Fe}}})(Ce,Re)}return(function(Be,De){if((Be=getModularInstance(Be))===null)return{nullValue:"NULL_VALUE"};if(typeof Be=="number")return toNumber$1(De.serializer,Be);if(typeof Be=="boolean")return{booleanValue:Be};if(typeof Be=="string")return{stringValue:Be};if(Be instanceof Date){const Fe=Timestamp.fromDate(Be);return{timestampValue:toTimestamp(De.serializer,Fe)}}if(Be instanceof Timestamp){const Fe=new Timestamp(Be.seconds,1e3*Math.floor(Be.nanoseconds/1e3));return{timestampValue:toTimestamp(De.serializer,Fe)}}if(Be instanceof GeoPoint)return{geoPointValue:{latitude:Be.latitude,longitude:Be.longitude}};if(Be instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(De.serializer,Be._byteString)};if(Be instanceof DocumentReference){const Fe=De.databaseId,Oe=Be.firestore._databaseId;if(!Oe.isEqual(Fe))throw De.Du(`Document reference is for database ${Oe.projectId}/${Oe.database} but should be for database ${Fe.projectId}/${Fe.database}`);return{referenceValue:__PRIVATE_toResourceName(Be.firestore._databaseId||De.databaseId,Be._key.path)}}throw De.Du(`Unsupported field value: ${__PRIVATE_valueDescription(Be)}`)})(Ce,Re)}function __PRIVATE_parseObject(Ce,Re){const je={};return isEmpty$3(Ce)?Re.path&&Re.path.length>0&&Re.fieldMask.push(Re.path):forEach(Ce,((Be,De)=>{const Fe=__PRIVATE_parseData(De,Re.pu(Be));Fe!=null&&(je[Be]=Fe)})),{mapValue:{fields:je}}}function __PRIVATE_looksLikeJsonObject(Ce){return!(typeof Ce!="object"||Ce===null||Ce instanceof Array||Ce instanceof Date||Ce instanceof Timestamp||Ce instanceof GeoPoint||Ce instanceof Bytes||Ce instanceof DocumentReference||Ce instanceof FieldValue)}function __PRIVATE_validatePlainObject(Ce,Re,je){if(!__PRIVATE_looksLikeJsonObject(je)||!(function(De){return typeof De=="object"&&De!==null&&(Object.getPrototypeOf(De)===Object.prototype||Object.getPrototypeOf(De)===null)})(je)){const Be=__PRIVATE_valueDescription(je);throw Be==="an object"?Re.Du(Ce+" a custom object"):Re.Du(Ce+" "+Be)}}function __PRIVATE_fieldPathFromArgument$1(Ce,Re,je){if((Re=getModularInstance(Re))instanceof FieldPath)return Re._internalPath;if(typeof Re=="string")return __PRIVATE_fieldPathFromDotSeparatedString(Ce,Re);throw __PRIVATE_createError("Field path arguments must be of type string or ",Ce,!1,void 0,je)}const be$2=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(Ce,Re,je){if(Re.search(be$2)>=0)throw __PRIVATE_createError(`Invalid field path (${Re}). Paths must not contain '~', '*', '/', '[', or ']'`,Ce,!1,void 0,je);try{return new FieldPath(...Re.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${Re}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,Ce,!1,void 0,je)}}function __PRIVATE_createError(Ce,Re,je,Be,De){const Fe=Be&&!Be.isEmpty(),Oe=De!==void 0;let ke=`Function ${Re}() called with invalid data`;je&&(ke+=" (via `toFirestore()`)"),ke+=". ";let Me="";return(Fe||Oe)&&(Me+=" (found",Fe&&(Me+=` in field ${Be}`),Oe&&(Me+=` in document ${De}`),Me+=")"),new FirestoreError(C$1.INVALID_ARGUMENT,ke+Ce+Me)}function __PRIVATE_fieldMaskContains(Ce,Re){return Ce.some((je=>je.isEqual(Re)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(Re,je,Be,De,Fe){this._firestore=Re,this._userDataWriter=je,this._key=Be,this._document=De,this._converter=Fe}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const Re=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(Re)}return this._userDataWriter.convertValue(this._document.data.value)}}get(Re){if(this._document){const je=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",Re));if(je!==null)return this._userDataWriter.convertValue(je)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(Ce,Re){return typeof Re=="string"?__PRIVATE_fieldPathFromDotSeparatedString(Ce,Re):Re instanceof FieldPath?Re._internalPath:Re._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(Ce){if(Ce.limitType==="L"&&Ce.explicitOrderBy.length===0)throw new FirestoreError(C$1.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(Ce,Re,...je){let Be=[];Re instanceof AppliableConstraint&&Be.push(Re),Be=Be.concat(je),(function(Fe){const Oe=Fe.filter((Me=>Me instanceof QueryCompositeFilterConstraint)).length,ke=Fe.filter((Me=>Me instanceof QueryFieldFilterConstraint)).length;if(Oe>1||Oe>0&&ke>0)throw new FirestoreError(C$1.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(Be);for(const De of Be)Ce=De._apply(Ce);return Ce}class QueryFieldFilterConstraint extends QueryConstraint{constructor(Re,je,Be){super(),this._field=Re,this._op=je,this._value=Be,this.type="where"}static _create(Re,je,Be){return new QueryFieldFilterConstraint(Re,je,Be)}_apply(Re){const je=this._parse(Re);return __PRIVATE_validateNewFieldFilter(Re._query,je),new Query(Re.firestore,Re.converter,__PRIVATE_queryWithAddedFilter(Re._query,je))}_parse(Re){const je=__PRIVATE_newUserDataReader(Re.firestore);return(function(Fe,Oe,ke,Me,Ue,$e,He){let Qe;if(Ue.isKeyField()){if($e==="array-contains"||$e==="array-contains-any")throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid Query. You can't perform '${$e}' queries on documentId().`);if($e==="in"||$e==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(He,$e);const We=[];for(const qe of He)We.push(__PRIVATE_parseDocumentIdValue(Me,Fe,qe));Qe={arrayValue:{values:We}}}else Qe=__PRIVATE_parseDocumentIdValue(Me,Fe,He)}else $e!=="in"&&$e!=="not-in"&&$e!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(He,$e),Qe=__PRIVATE_parseQueryValue(ke,Oe,He,$e==="in"||$e==="not-in");return FieldFilter.create(Ue,$e,Qe)})(Re._query,"where",je,Re.firestore._databaseId,this._field,this._op,this._value)}}function where(Ce,Re,je){const Be=Re,De=__PRIVATE_fieldPathFromArgument("where",Ce);return QueryFieldFilterConstraint._create(De,Be,je)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(Re,je){super(),this.type=Re,this._queryConstraints=je}static _create(Re,je){return new QueryCompositeFilterConstraint(Re,je)}_parse(Re){const je=this._queryConstraints.map((Be=>Be._parse(Re))).filter((Be=>Be.getFilters().length>0));return je.length===1?je[0]:CompositeFilter.create(je,this._getOperator())}_apply(Re){const je=this._parse(Re);return je.getFilters().length===0?Re:((function(De,Fe){let Oe=De;const ke=Fe.getFlattenedFilters();for(const Me of ke)__PRIVATE_validateNewFieldFilter(Oe,Me),Oe=__PRIVATE_queryWithAddedFilter(Oe,Me)})(Re._query,je),new Query(Re.firestore,Re.converter,__PRIVATE_queryWithAddedFilter(Re._query,je)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(Re,je){super(),this._field=Re,this._direction=je,this.type="orderBy"}static _create(Re,je){return new QueryOrderByConstraint(Re,je)}_apply(Re){const je=(function(De,Fe,Oe){if(De.startAt!==null)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(De.endAt!==null)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(Fe,Oe)})(Re._query,this._field,this._direction);return new Query(Re.firestore,Re.converter,(function(De,Fe){const Oe=De.explicitOrderBy.concat([Fe]);return new __PRIVATE_QueryImpl(De.path,De.collectionGroup,Oe,De.filters.slice(),De.limit,De.limitType,De.startAt,De.endAt)})(Re._query,je))}}function orderBy$1(Ce,Re="asc"){const je=Re,Be=__PRIVATE_fieldPathFromArgument("orderBy",Ce);return QueryOrderByConstraint._create(Be,je)}function __PRIVATE_parseDocumentIdValue(Ce,Re,je){if(typeof(je=getModularInstance(je))=="string"){if(je==="")throw new FirestoreError(C$1.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(Re)&&je.indexOf("/")!==-1)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${je}' contains a '/' character.`);const Be=Re.path.child(ResourcePath.fromString(je));if(!DocumentKey.isDocumentKey(Be))throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${Be}' is not because it has an odd number of segments (${Be.length}).`);return __PRIVATE_refValue(Ce,new DocumentKey(Be))}if(je instanceof DocumentReference)return __PRIVATE_refValue(Ce,je._key);throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(je)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(Ce,Re){if(!Array.isArray(Ce)||Ce.length===0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${Re.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(Ce,Re){const je=(function(De,Fe){for(const Oe of De)for(const ke of Oe.getFlattenedFilters())if(Fe.indexOf(ke.op)>=0)return ke.op;return null})(Ce.filters,(function(De){switch(De){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(Re.op));if(je!==null)throw je===Re.op?new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${Re.op.toString()}' filter.`):new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid query. You cannot use '${Re.op.toString()}' filters with '${je.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(Re,je="none"){switch(__PRIVATE_typeOrder(Re)){case 0:return null;case 1:return Re.booleanValue;case 2:return __PRIVATE_normalizeNumber(Re.integerValue||Re.doubleValue);case 3:return this.convertTimestamp(Re.timestampValue);case 4:return this.convertServerTimestamp(Re,je);case 5:return Re.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(Re.bytesValue));case 7:return this.convertReference(Re.referenceValue);case 8:return this.convertGeoPoint(Re.geoPointValue);case 9:return this.convertArray(Re.arrayValue,je);case 10:return this.convertObject(Re.mapValue,je);default:throw fail()}}convertObject(Re,je){return this.convertObjectMap(Re.fields,je)}convertObjectMap(Re,je="none"){const Be={};return forEach(Re,((De,Fe)=>{Be[De]=this.convertValue(Fe,je)})),Be}convertGeoPoint(Re){return new GeoPoint(__PRIVATE_normalizeNumber(Re.latitude),__PRIVATE_normalizeNumber(Re.longitude))}convertArray(Re,je){return(Re.values||[]).map((Be=>this.convertValue(Be,je)))}convertServerTimestamp(Re,je){switch(je){case"previous":const Be=__PRIVATE_getPreviousValue(Re);return Be==null?null:this.convertValue(Be,je);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(Re));default:return null}}convertTimestamp(Re){const je=__PRIVATE_normalizeTimestamp(Re);return new Timestamp(je.seconds,je.nanos)}convertDocumentKey(Re,je){const Be=ResourcePath.fromString(Re);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(Be));const De=new DatabaseId(Be.get(1),Be.get(3)),Fe=new DocumentKey(Be.popFirst(5));return De.isEqual(je)||__PRIVATE_logError(`Document ${Fe} contains a document reference within a different database (${De.projectId}/${De.database}) which is not supported. It will be treated as a reference in the current database (${je.projectId}/${je.database}) instead.`),Fe}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(Ce,Re,je){let Be;return Be=Ce?je&&(je.merge||je.mergeFields)?Ce.toFirestore(Re,je):Ce.toFirestore(Re):Re,Be}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(Re,je){this.hasPendingWrites=Re,this.fromCache=je}isEqual(Re){return this.hasPendingWrites===Re.hasPendingWrites&&this.fromCache===Re.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(Re,je,Be,De,Fe,Oe){super(Re,je,Be,De,Oe),this._firestore=Re,this._firestoreImpl=Re,this.metadata=Fe}exists(){return super.exists()}data(Re={}){if(this._document){if(this._converter){const je=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(je,Re)}return this._userDataWriter.convertValue(this._document.data.value,Re.serverTimestamps)}}get(Re,je={}){if(this._document){const Be=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",Re));if(Be!==null)return this._userDataWriter.convertValue(Be,je.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(Re={}){return super.data(Re)}}class QuerySnapshot{constructor(Re,je,Be,De){this._firestore=Re,this._userDataWriter=je,this._snapshot=De,this.metadata=new SnapshotMetadata(De.hasPendingWrites,De.fromCache),this.query=Be}get docs(){const Re=[];return this.forEach((je=>Re.push(je))),Re}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(Re,je){this._snapshot.docs.forEach((Be=>{Re.call(je,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,Be.key,Be,new SnapshotMetadata(this._snapshot.mutatedKeys.has(Be.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(Re={}){const je=!!Re.includeMetadataChanges;if(je&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(C$1.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===je||(this._cachedChanges=(function(De,Fe){if(De._snapshot.oldDocs.isEmpty()){let Oe=0;return De._snapshot.docChanges.map((ke=>{const Me=new QueryDocumentSnapshot(De._firestore,De._userDataWriter,ke.doc.key,ke.doc,new SnapshotMetadata(De._snapshot.mutatedKeys.has(ke.doc.key),De._snapshot.fromCache),De.query.converter);return ke.doc,{type:"added",doc:Me,oldIndex:-1,newIndex:Oe++}}))}{let Oe=De._snapshot.oldDocs;return De._snapshot.docChanges.filter((ke=>Fe||ke.type!==3)).map((ke=>{const Me=new QueryDocumentSnapshot(De._firestore,De._userDataWriter,ke.doc.key,ke.doc,new SnapshotMetadata(De._snapshot.mutatedKeys.has(ke.doc.key),De._snapshot.fromCache),De.query.converter);let Ue=-1,$e=-1;return ke.type!==0&&(Ue=Oe.indexOf(ke.doc.key),Oe=Oe.delete(ke.doc.key)),ke.type!==1&&(Oe=Oe.add(ke.doc),$e=Oe.indexOf(ke.doc.key)),{type:__PRIVATE_resultChangeType(ke.type),doc:Me,oldIndex:Ue,newIndex:$e}}))}})(this,je),this._cachedChangesIncludeMetadataChanges=je),this._cachedChanges}}function __PRIVATE_resultChangeType(Ce){switch(Ce){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(Ce){Ce=__PRIVATE_cast(Ce,DocumentReference);const Re=__PRIVATE_cast(Ce.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(Re),Ce._key).then((je=>__PRIVATE_convertToDocSnapshot(Re,Ce,je)))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(Re){super(),this.firestore=Re}convertBytes(Re){return new Bytes(Re)}convertReference(Re){const je=this.convertDocumentKey(Re,this.firestore._databaseId);return new DocumentReference(this.firestore,null,je)}}function getDocs(Ce){Ce=__PRIVATE_cast(Ce,Query);const Re=__PRIVATE_cast(Ce.firestore,Firestore),je=ensureFirestoreConfigured(Re),Be=new __PRIVATE_ExpUserDataWriter(Re);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(Ce._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(je,Ce._query).then((De=>new QuerySnapshot(Re,Be,Ce,De)))}function setDoc(Ce,Re,je){Ce=__PRIVATE_cast(Ce,DocumentReference);const Be=__PRIVATE_cast(Ce.firestore,Firestore),De=__PRIVATE_applyFirestoreDataConverter(Ce.converter,Re,je);return executeWrite(Be,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(Be),"setDoc",Ce._key,De,Ce.converter!==null,je).toMutation(Ce._key,Precondition.none())])}function updateDoc(Ce,Re,je,...Be){Ce=__PRIVATE_cast(Ce,DocumentReference);const De=__PRIVATE_cast(Ce.firestore,Firestore),Fe=__PRIVATE_newUserDataReader(De);let Oe;return Oe=typeof(Re=getModularInstance(Re))=="string"||Re instanceof FieldPath?__PRIVATE_parseUpdateVarargs(Fe,"updateDoc",Ce._key,Re,je,Be):__PRIVATE_parseUpdateData(Fe,"updateDoc",Ce._key,Re),executeWrite(De,[Oe.toMutation(Ce._key,Precondition.exists(!0))])}function deleteDoc(Ce){return executeWrite(__PRIVATE_cast(Ce.firestore,Firestore),[new __PRIVATE_DeleteMutation(Ce._key,Precondition.none())])}function addDoc(Ce,Re){const je=__PRIVATE_cast(Ce.firestore,Firestore),Be=doc(Ce),De=__PRIVATE_applyFirestoreDataConverter(Ce.converter,Re);return executeWrite(je,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(Ce.firestore),"addDoc",Be._key,De,Ce.converter!==null,{}).toMutation(Be._key,Precondition.exists(!1))]).then((()=>Be))}function onSnapshot(Ce,...Re){var je,Be,De;Ce=getModularInstance(Ce);let Fe={includeMetadataChanges:!1,source:"default"},Oe=0;typeof Re[Oe]!="object"||__PRIVATE_isPartialObserver(Re[Oe])||(Fe=Re[Oe],Oe++);const ke={includeMetadataChanges:Fe.includeMetadataChanges,source:Fe.source};if(__PRIVATE_isPartialObserver(Re[Oe])){const He=Re[Oe];Re[Oe]=(je=He.next)===null||je===void 0?void 0:je.bind(He),Re[Oe+1]=(Be=He.error)===null||Be===void 0?void 0:Be.bind(He),Re[Oe+2]=(De=He.complete)===null||De===void 0?void 0:De.bind(He)}let Me,Ue,$e;if(Ce instanceof DocumentReference)Ue=__PRIVATE_cast(Ce.firestore,Firestore),$e=__PRIVATE_newQueryForPath(Ce._key.path),Me={next:He=>{Re[Oe]&&Re[Oe](__PRIVATE_convertToDocSnapshot(Ue,Ce,He))},error:Re[Oe+1],complete:Re[Oe+2]};else{const He=__PRIVATE_cast(Ce,Query);Ue=__PRIVATE_cast(He.firestore,Firestore),$e=He._query;const Qe=new __PRIVATE_ExpUserDataWriter(Ue);Me={next:We=>{Re[Oe]&&Re[Oe](new QuerySnapshot(Ue,Qe,He,We))},error:Re[Oe+1],complete:Re[Oe+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast(Ce._query)}return(function(Qe,We,qe,Ke){const Xe=new __PRIVATE_AsyncObserver(Ke),Ye=new __PRIVATE_QueryListener(We,Xe,qe);return Qe.asyncQueue.enqueueAndForget((async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(Qe),Ye))),()=>{Xe.$a(),Qe.asyncQueue.enqueueAndForget((async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(Qe),Ye)))}})(ensureFirestoreConfigured(Ue),$e,ke,Me)}function executeWrite(Ce,Re){return(function(Be,De){const Fe=new __PRIVATE_Deferred;return Be.asyncQueue.enqueueAndForget((async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(Be),De,Fe))),Fe.promise})(ensureFirestoreConfigured(Ce),Re)}function __PRIVATE_convertToDocSnapshot(Ce,Re,je){const Be=je.docs.get(Re._key),De=new __PRIVATE_ExpUserDataWriter(Ce);return new DocumentSnapshot(Ce,De,Re._key,Be,new SnapshotMetadata(je.hasPendingWrites,je.fromCache),Re.converter)}function serverTimestamp(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}(function Ce(Re,je=!0){(function(De){b$1=De})(SDK_VERSION),_registerComponent(new Component("firestore",((Be,{instanceIdentifier:De,options:Fe})=>{const Oe=Be.getProvider("app").getImmediate(),ke=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(Be.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(Be.getProvider("app-check-internal")),(function(Ue,$e){if(!Object.prototype.hasOwnProperty.apply(Ue.options,["projectId"]))throw new FirestoreError(C$1.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(Ue.options.projectId,$e)})(Oe,De),Oe);return Fe=Object.assign({useFetchStreams:je},Fe),ke._setSettings(Fe),ke}),"PUBLIC").setMultipleInstances(!0)),registerVersion(S$1,"4.6.4",Re),registerVersion(S$1,"4.6.4","esm2017")})();const index_esm$1=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter,Bytes,CollectionReference,DocumentReference,DocumentSnapshot,FieldPath,FieldValue,Firestore,FirestoreError,GeoPoint,Query,QueryCompositeFilterConstraint,QueryConstraint,QueryDocumentSnapshot,QueryFieldFilterConstraint,QueryOrderByConstraint,QuerySnapshot,SnapshotMetadata,Timestamp,_AutoId:__PRIVATE_AutoId,_ByteString:ByteString,_DatabaseId:DatabaseId,_DocumentKey:DocumentKey,_EmptyAuthCredentialsProvider:__PRIVATE_EmptyAuthCredentialsProvider,_FieldPath:FieldPath$1,_cast:__PRIVATE_cast,_logWarn:__PRIVATE_logWarn,_validateIsNotUsedTogether:__PRIVATE_validateIsNotUsedTogether,addDoc,collection,connectFirestoreEmulator,deleteDoc,doc,ensureFirestoreConfigured,executeWrite,getDoc,getDocs,getFirestore,onSnapshot,orderBy:orderBy$1,query,serverTimestamp,setDoc,updateDoc,where},Symbol.toStringTag,{value:"Module"})),scriptRel="modulepreload",assetsURL=function(Ce,Re){return new URL(Ce,Re).href},seen={},__vitePreload=function Ce(Re,je,Be){let De=Promise.resolve();if(je&&je.length>0){let Ue=function($e){return Promise.all($e.map(He=>Promise.resolve(He).then(Qe=>({status:"fulfilled",value:Qe}),Qe=>({status:"rejected",reason:Qe}))))};const Oe=document.getElementsByTagName("link"),ke=document.querySelector("meta[property=csp-nonce]"),Me=ke?.nonce||ke?.getAttribute("nonce");De=Ue(je.map($e=>{if($e=assetsURL($e,Be),$e in seen)return;seen[$e]=!0;const He=$e.endsWith(".css"),Qe=He?'[rel="stylesheet"]':"";if(!!Be)for(let Ke=Oe.length-1;Ke>=0;Ke--){const Xe=Oe[Ke];if(Xe.href===$e&&(!He||Xe.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${$e}"]${Qe}`))return;const qe=document.createElement("link");if(qe.rel=He?"stylesheet":scriptRel,He||(qe.as="script"),qe.crossOrigin="",qe.href=$e,Me&&qe.setAttribute("nonce",Me),document.head.appendChild(qe),He)return new Promise((Ke,Xe)=>{qe.addEventListener("load",Ke),qe.addEventListener("error",()=>Xe(new Error(`Unable to preload CSS for ${$e}`)))})}))}function Fe(Oe){const ke=new Event("vite:preloadError",{cancelable:!0});if(ke.payload=Oe,window.dispatchEvent(ke),!ke.defaultPrevented)throw Oe}return De.then(Oe=>{for(const ke of Oe||[])ke.status==="rejected"&&Fe(ke.reason);return Re().catch(Fe)})};var name$3="firebase",version$4="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$3,version$4,"app");function __rest(Ce,Re){var je={};for(var Be in Ce)Object.prototype.hasOwnProperty.call(Ce,Be)&&Re.indexOf(Be)<0&&(je[Be]=Ce[Be]);if(Ce!=null&&typeof Object.getOwnPropertySymbols=="function")for(var De=0,Be=Object.getOwnPropertySymbols(Ce);De<Be.length;De++)Re.indexOf(Be[De])<0&&Object.prototype.propertyIsEnumerable.call(Ce,Be[De])&&(je[Be[De]]=Ce[Be[De]]);return je}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(Ce,...Re){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${Ce}`,...Re)}function _logError(Ce,...Re){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${Ce}`,...Re)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(Ce,...Re){throw createErrorInternal(Ce,...Re)}function _createError(Ce,...Re){return createErrorInternal(Ce,...Re)}function _errorWithCustomMessage(Ce,Re,je){const Be=Object.assign(Object.assign({},prodErrorMap()),{[Re]:je});return new ErrorFactory("auth","Firebase",Be).create(Re,{appName:Ce.name})}function _serverAppCurrentUserOperationNotSupportedError(Ce){return _errorWithCustomMessage(Ce,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _assertInstanceOf(Ce,Re,je){const Be=je;if(!(Re instanceof Be))throw Be.name!==Re.constructor.name&&_fail(Ce,"argument-error"),_errorWithCustomMessage(Ce,"argument-error",`Type of ${Re.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(Ce,...Re){if(typeof Ce!="string"){const je=Re[0],Be=[...Re.slice(1)];return Be[0]&&(Be[0].appName=Ce.name),Ce._errorFactory.create(je,...Be)}return _DEFAULT_AUTH_ERROR_FACTORY.create(Ce,...Re)}function _assert(Ce,Re,...je){if(!Ce)throw createErrorInternal(Re,...je)}function debugFail(Ce){const Re="INTERNAL ASSERTION FAILED: "+Ce;throw _logError(Re),new Error(Re)}function debugAssert(Ce,Re){Ce||debugFail(Re)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var Ce;return typeof self<"u"&&((Ce=self.location)===null||Ce===void 0?void 0:Ce.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var Ce;return typeof self<"u"&&((Ce=self.location)===null||Ce===void 0?void 0:Ce.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const Ce=navigator;return Ce.languages&&Ce.languages[0]||Ce.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(Re,je){this.shortDelay=Re,this.longDelay=je,debugAssert(je>Re,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative$1()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(Ce,Re){debugAssert(Ce.emulator,"Emulator should always be set here");const{url:je}=Ce.emulator;return Re?`${je}${Re.startsWith("/")?Re.slice(1):Re}`:je}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(Re,je,Be){this.fetchImpl=Re,je&&(this.headersImpl=je),Be&&(this.responseImpl=Be)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(Ce,Re){return Ce.tenantId&&!Re.tenantId?Object.assign(Object.assign({},Re),{tenantId:Ce.tenantId}):Re}async function _performApiRequest(Ce,Re,je,Be,De={}){return _performFetchWithErrorHandling(Ce,De,async()=>{let Fe={},Oe={};Be&&(Re==="GET"?Oe=Be:Fe={body:JSON.stringify(Be)});const ke=querystring(Object.assign({key:Ce.config.apiKey},Oe)).slice(1),Me=await Ce._getAdditionalHeaders();return Me["Content-Type"]="application/json",Ce.languageCode&&(Me["X-Firebase-Locale"]=Ce.languageCode),FetchProvider.fetch()(_getFinalTarget(Ce,Ce.config.apiHost,je,ke),Object.assign({method:Re,headers:Me,referrerPolicy:"no-referrer"},Fe))})}async function _performFetchWithErrorHandling(Ce,Re,je){Ce._canInitEmulator=!1;const Be=Object.assign(Object.assign({},SERVER_ERROR_MAP),Re);try{const De=new NetworkTimeout(Ce),Fe=await Promise.race([je(),De.promise]);De.clearNetworkTimeout();const Oe=await Fe.json();if("needConfirmation"in Oe)throw _makeTaggedError(Ce,"account-exists-with-different-credential",Oe);if(Fe.ok&&!("errorMessage"in Oe))return Oe;{const ke=Fe.ok?Oe.errorMessage:Oe.error.message,[Me,Ue]=ke.split(" : ");if(Me==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(Ce,"credential-already-in-use",Oe);if(Me==="EMAIL_EXISTS")throw _makeTaggedError(Ce,"email-already-in-use",Oe);if(Me==="USER_DISABLED")throw _makeTaggedError(Ce,"user-disabled",Oe);const $e=Be[Me]||Me.toLowerCase().replace(/[_\s]+/g,"-");if(Ue)throw _errorWithCustomMessage(Ce,$e,Ue);_fail(Ce,$e)}}catch(De){if(De instanceof FirebaseError)throw De;_fail(Ce,"network-request-failed",{message:String(De)})}}async function _performSignInRequest(Ce,Re,je,Be,De={}){const Fe=await _performApiRequest(Ce,Re,je,Be,De);return"mfaPendingCredential"in Fe&&_fail(Ce,"multi-factor-auth-required",{_serverResponse:Fe}),Fe}function _getFinalTarget(Ce,Re,je,Be){const De=`${Re}${je}?${Be}`;return Ce.config.emulator?_emulatorUrl(Ce.config,De):`${Ce.config.apiScheme}://${De}`}function _parseEnforcementState(Ce){switch(Ce){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{constructor(Re){this.auth=Re,this.timer=null,this.promise=new Promise((je,Be)=>{this.timer=setTimeout(()=>Be(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(Ce,Re,je){const Be={appName:Ce.name};je.email&&(Be.email=je.email),je.phoneNumber&&(Be.phoneNumber=je.phoneNumber);const De=_createError(Ce,Re,Be);return De.customData._tokenResponse=je,De}function isEnterprise(Ce){return Ce!==void 0&&Ce.enterprise!==void 0}class RecaptchaConfig{constructor(Re){if(this.siteKey="",this.recaptchaEnforcementState=[],Re.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=Re.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=Re.recaptchaEnforcementState}getProviderEnforcementState(Re){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const je of this.recaptchaEnforcementState)if(je.provider&&je.provider===Re)return _parseEnforcementState(je.enforcementState);return null}isProviderEnabled(Re){return this.getProviderEnforcementState(Re)==="ENFORCE"||this.getProviderEnforcementState(Re)==="AUDIT"}}async function getRecaptchaConfig(Ce,Re){return _performApiRequest(Ce,"GET","/v2/recaptchaConfig",_addTidIfNecessary(Ce,Re))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(Ce,Re){return _performApiRequest(Ce,"POST","/v1/accounts:delete",Re)}async function getAccountInfo(Ce,Re){return _performApiRequest(Ce,"POST","/v1/accounts:lookup",Re)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(Ce){if(Ce)try{const Re=new Date(Number(Ce));if(!isNaN(Re.getTime()))return Re.toUTCString()}catch{}}async function getIdTokenResult(Ce,Re=!1){const je=getModularInstance(Ce),Be=await je.getIdToken(Re),De=_parseToken(Be);_assert(De&&De.exp&&De.auth_time&&De.iat,je.auth,"internal-error");const Fe=typeof De.firebase=="object"?De.firebase:void 0,Oe=Fe?.sign_in_provider;return{claims:De,token:Be,authTime:utcTimestampToDateString(secondsStringToMilliseconds(De.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(De.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(De.exp)),signInProvider:Oe||null,signInSecondFactor:Fe?.sign_in_second_factor||null}}function secondsStringToMilliseconds(Ce){return Number(Ce)*1e3}function _parseToken(Ce){const[Re,je,Be]=Ce.split(".");if(Re===void 0||je===void 0||Be===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const De=base64Decode(je);return De?JSON.parse(De):(_logError("Failed to decode base64 JWT payload"),null)}catch(De){return _logError("Caught error parsing JWT payload as JSON",De?.toString()),null}}function _tokenExpiresIn(Ce){const Re=_parseToken(Ce);return _assert(Re,"internal-error"),_assert(typeof Re.exp<"u","internal-error"),_assert(typeof Re.iat<"u","internal-error"),Number(Re.exp)-Number(Re.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(Ce,Re,je=!1){if(je)return Re;try{return await Re}catch(Be){throw Be instanceof FirebaseError&&isUserInvalidated(Be)&&Ce.auth.currentUser===Ce&&await Ce.auth.signOut(),Be}}function isUserInvalidated({code:Ce}){return Ce==="auth/user-disabled"||Ce==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(Re){this.user=Re,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(Re){var je;if(Re){const Be=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),Be}else{this.errorBackoff=3e4;const De=((je=this.user.stsTokenManager.expirationTime)!==null&&je!==void 0?je:0)-Date.now()-3e5;return Math.max(0,De)}}schedule(Re=!1){if(!this.isRunning)return;const je=this.getInterval(Re);this.timerId=setTimeout(async()=>{await this.iteration()},je)}async iteration(){try{await this.user.getIdToken(!0)}catch(Re){Re?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(Re,je){this.createdAt=Re,this.lastLoginAt=je,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(Re){this.createdAt=Re.createdAt,this.lastLoginAt=Re.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(Ce){var Re;const je=Ce.auth,Be=await Ce.getIdToken(),De=await _logoutIfInvalidated(Ce,getAccountInfo(je,{idToken:Be}));_assert(De?.users.length,je,"internal-error");const Fe=De.users[0];Ce._notifyReloadListener(Fe);const Oe=!((Re=Fe.providerUserInfo)===null||Re===void 0)&&Re.length?extractProviderData(Fe.providerUserInfo):[],ke=mergeProviderData(Ce.providerData,Oe),Me=Ce.isAnonymous,Ue=!(Ce.email&&Fe.passwordHash)&&!ke?.length,$e=Me?Ue:!1,He={uid:Fe.localId,displayName:Fe.displayName||null,photoURL:Fe.photoUrl||null,email:Fe.email||null,emailVerified:Fe.emailVerified||!1,phoneNumber:Fe.phoneNumber||null,tenantId:Fe.tenantId||null,providerData:ke,metadata:new UserMetadata(Fe.createdAt,Fe.lastLoginAt),isAnonymous:$e};Object.assign(Ce,He)}async function reload(Ce){const Re=getModularInstance(Ce);await _reloadWithoutSaving(Re),await Re.auth._persistUserIfCurrent(Re),Re.auth._notifyListenersIfCurrent(Re)}function mergeProviderData(Ce,Re){return[...Ce.filter(Be=>!Re.some(De=>De.providerId===Be.providerId)),...Re]}function extractProviderData(Ce){return Ce.map(Re=>{var{providerId:je}=Re,Be=__rest(Re,["providerId"]);return{providerId:je,uid:Be.rawId||"",displayName:Be.displayName||null,email:Be.email||null,phoneNumber:Be.phoneNumber||null,photoURL:Be.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(Ce,Re){const je=await _performFetchWithErrorHandling(Ce,{},async()=>{const Be=querystring({grant_type:"refresh_token",refresh_token:Re}).slice(1),{tokenApiHost:De,apiKey:Fe}=Ce.config,Oe=_getFinalTarget(Ce,De,"/v1/token",`key=${Fe}`),ke=await Ce._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(Oe,{method:"POST",headers:ke,body:Be})});return{accessToken:je.access_token,expiresIn:je.expires_in,refreshToken:je.refresh_token}}async function revokeToken(Ce,Re){return _performApiRequest(Ce,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(Ce,Re))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(Re){_assert(Re.idToken,"internal-error"),_assert(typeof Re.idToken<"u","internal-error"),_assert(typeof Re.refreshToken<"u","internal-error");const je="expiresIn"in Re&&typeof Re.expiresIn<"u"?Number(Re.expiresIn):_tokenExpiresIn(Re.idToken);this.updateTokensAndExpiration(Re.idToken,Re.refreshToken,je)}updateFromIdToken(Re){_assert(Re.length!==0,"internal-error");const je=_tokenExpiresIn(Re);this.updateTokensAndExpiration(Re,null,je)}async getToken(Re,je=!1){return!je&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,Re,"user-token-expired"),this.refreshToken?(await this.refresh(Re,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(Re,je){const{accessToken:Be,refreshToken:De,expiresIn:Fe}=await requestStsToken(Re,je);this.updateTokensAndExpiration(Be,De,Number(Fe))}updateTokensAndExpiration(Re,je,Be){this.refreshToken=je||null,this.accessToken=Re||null,this.expirationTime=Date.now()+Be*1e3}static fromJSON(Re,je){const{refreshToken:Be,accessToken:De,expirationTime:Fe}=je,Oe=new StsTokenManager;return Be&&(_assert(typeof Be=="string","internal-error",{appName:Re}),Oe.refreshToken=Be),De&&(_assert(typeof De=="string","internal-error",{appName:Re}),Oe.accessToken=De),Fe&&(_assert(typeof Fe=="number","internal-error",{appName:Re}),Oe.expirationTime=Fe),Oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(Re){this.accessToken=Re.accessToken,this.refreshToken=Re.refreshToken,this.expirationTime=Re.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(Ce,Re){_assert(typeof Ce=="string"||typeof Ce>"u","internal-error",{appName:Re})}class UserImpl{constructor(Re){var{uid:je,auth:Be,stsTokenManager:De}=Re,Fe=__rest(Re,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=je,this.auth=Be,this.stsTokenManager=De,this.accessToken=De.accessToken,this.displayName=Fe.displayName||null,this.email=Fe.email||null,this.emailVerified=Fe.emailVerified||!1,this.phoneNumber=Fe.phoneNumber||null,this.photoURL=Fe.photoURL||null,this.isAnonymous=Fe.isAnonymous||!1,this.tenantId=Fe.tenantId||null,this.providerData=Fe.providerData?[...Fe.providerData]:[],this.metadata=new UserMetadata(Fe.createdAt||void 0,Fe.lastLoginAt||void 0)}async getIdToken(Re){const je=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,Re));return _assert(je,this.auth,"internal-error"),this.accessToken!==je&&(this.accessToken=je,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),je}getIdTokenResult(Re){return getIdTokenResult(this,Re)}reload(){return reload(this)}_assign(Re){this!==Re&&(_assert(this.uid===Re.uid,this.auth,"internal-error"),this.displayName=Re.displayName,this.photoURL=Re.photoURL,this.email=Re.email,this.emailVerified=Re.emailVerified,this.phoneNumber=Re.phoneNumber,this.isAnonymous=Re.isAnonymous,this.tenantId=Re.tenantId,this.providerData=Re.providerData.map(je=>Object.assign({},je)),this.metadata._copy(Re.metadata),this.stsTokenManager._assign(Re.stsTokenManager))}_clone(Re){const je=new UserImpl(Object.assign(Object.assign({},this),{auth:Re,stsTokenManager:this.stsTokenManager._clone()}));return je.metadata._copy(this.metadata),je}_onReload(Re){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=Re,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(Re){this.reloadListener?this.reloadListener(Re):this.reloadUserInfo=Re}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(Re,je=!1){let Be=!1;Re.idToken&&Re.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(Re),Be=!0),je&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),Be&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const Re=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:Re})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(Re=>Object.assign({},Re)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(Re,je){var Be,De,Fe,Oe,ke,Me,Ue,$e;const He=(Be=je.displayName)!==null&&Be!==void 0?Be:void 0,Qe=(De=je.email)!==null&&De!==void 0?De:void 0,We=(Fe=je.phoneNumber)!==null&&Fe!==void 0?Fe:void 0,qe=(Oe=je.photoURL)!==null&&Oe!==void 0?Oe:void 0,Ke=(ke=je.tenantId)!==null&&ke!==void 0?ke:void 0,Xe=(Me=je._redirectEventId)!==null&&Me!==void 0?Me:void 0,Ye=(Ue=je.createdAt)!==null&&Ue!==void 0?Ue:void 0,Ze=($e=je.lastLoginAt)!==null&&$e!==void 0?$e:void 0,{uid:Je,emailVerified:tr,isAnonymous:rr,providerData:ar,stsTokenManager:nr}=je;_assert(Je&&nr,Re,"internal-error");const sr=StsTokenManager.fromJSON(this.name,nr);_assert(typeof Je=="string",Re,"internal-error"),assertStringOrUndefined(He,Re.name),assertStringOrUndefined(Qe,Re.name),_assert(typeof tr=="boolean",Re,"internal-error"),_assert(typeof rr=="boolean",Re,"internal-error"),assertStringOrUndefined(We,Re.name),assertStringOrUndefined(qe,Re.name),assertStringOrUndefined(Ke,Re.name),assertStringOrUndefined(Xe,Re.name),assertStringOrUndefined(Ye,Re.name),assertStringOrUndefined(Ze,Re.name);const dr=new UserImpl({uid:Je,auth:Re,email:Qe,emailVerified:tr,displayName:He,isAnonymous:rr,photoURL:qe,phoneNumber:We,tenantId:Ke,stsTokenManager:sr,createdAt:Ye,lastLoginAt:Ze});return ar&&Array.isArray(ar)&&(dr.providerData=ar.map(_r=>Object.assign({},_r))),Xe&&(dr._redirectEventId=Xe),dr}static async _fromIdTokenResponse(Re,je,Be=!1){const De=new StsTokenManager;De.updateFromServerResponse(je);const Fe=new UserImpl({uid:je.localId,auth:Re,stsTokenManager:De,isAnonymous:Be});return await _reloadWithoutSaving(Fe),Fe}static async _fromGetAccountInfoResponse(Re,je,Be){const De=je.users[0];_assert(De.localId!==void 0,"internal-error");const Fe=De.providerUserInfo!==void 0?extractProviderData(De.providerUserInfo):[],Oe=!(De.email&&De.passwordHash)&&!Fe?.length,ke=new StsTokenManager;ke.updateFromIdToken(Be);const Me=new UserImpl({uid:De.localId,auth:Re,stsTokenManager:ke,isAnonymous:Oe}),Ue={uid:De.localId,displayName:De.displayName||null,photoURL:De.photoUrl||null,email:De.email||null,emailVerified:De.emailVerified||!1,phoneNumber:De.phoneNumber||null,tenantId:De.tenantId||null,providerData:Fe,metadata:new UserMetadata(De.createdAt,De.lastLoginAt),isAnonymous:!(De.email&&De.passwordHash)&&!Fe?.length};return Object.assign(Me,Ue),Me}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(Ce){debugAssert(Ce instanceof Function,"Expected a class definition");let Re=instanceCache.get(Ce);return Re?(debugAssert(Re instanceof Ce,"Instance stored in cache mismatched with class"),Re):(Re=new Ce,instanceCache.set(Ce,Re),Re)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(Re,je){this.storage[Re]=je}async _get(Re){const je=this.storage[Re];return je===void 0?null:je}async _remove(Re){delete this.storage[Re]}_addListener(Re,je){}_removeListener(Re,je){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(Ce,Re,je){return`firebase:${Ce}:${Re}:${je}`}class PersistenceUserManager{constructor(Re,je,Be){this.persistence=Re,this.auth=je,this.userKey=Be;const{config:De,name:Fe}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,De.apiKey,Fe),this.fullPersistenceKey=_persistenceKeyName("persistence",De.apiKey,Fe),this.boundEventHandler=je._onStorageEvent.bind(je),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(Re){return this.persistence._set(this.fullUserKey,Re.toJSON())}async getCurrentUser(){const Re=await this.persistence._get(this.fullUserKey);return Re?UserImpl._fromJSON(this.auth,Re):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(Re){if(this.persistence===Re)return;const je=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=Re,je)return this.setCurrentUser(je)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(Re,je,Be="authUser"){if(!je.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),Re,Be);const De=(await Promise.all(je.map(async Ue=>{if(await Ue._isAvailable())return Ue}))).filter(Ue=>Ue);let Fe=De[0]||_getInstance(inMemoryPersistence);const Oe=_persistenceKeyName(Be,Re.config.apiKey,Re.name);let ke=null;for(const Ue of je)try{const $e=await Ue._get(Oe);if($e){const He=UserImpl._fromJSON(Re,$e);Ue!==Fe&&(ke=He),Fe=Ue;break}}catch{}const Me=De.filter(Ue=>Ue._shouldAllowMigration);return!Fe._shouldAllowMigration||!Me.length?new PersistenceUserManager(Fe,Re,Be):(Fe=Me[0],ke&&await Fe._set(Oe,ke.toJSON()),await Promise.all(je.map(async Ue=>{if(Ue!==Fe)try{await Ue._remove(Oe)}catch{}})),new PersistenceUserManager(Fe,Re,Be))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(Ce){const Re=Ce.toLowerCase();if(Re.includes("opera/")||Re.includes("opr/")||Re.includes("opios/"))return"Opera";if(_isIEMobile(Re))return"IEMobile";if(Re.includes("msie")||Re.includes("trident/"))return"IE";if(Re.includes("edge/"))return"Edge";if(_isFirefox(Re))return"Firefox";if(Re.includes("silk/"))return"Silk";if(_isBlackBerry(Re))return"Blackberry";if(_isWebOS(Re))return"Webos";if(_isSafari(Re))return"Safari";if((Re.includes("chrome/")||_isChromeIOS(Re))&&!Re.includes("edge/"))return"Chrome";if(_isAndroid(Re))return"Android";{const je=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,Be=Ce.match(je);if(Be?.length===2)return Be[1]}return"Other"}function _isFirefox(Ce=getUA()){return/firefox\//i.test(Ce)}function _isSafari(Ce=getUA()){const Re=Ce.toLowerCase();return Re.includes("safari/")&&!Re.includes("chrome/")&&!Re.includes("crios/")&&!Re.includes("android")}function _isChromeIOS(Ce=getUA()){return/crios\//i.test(Ce)}function _isIEMobile(Ce=getUA()){return/iemobile/i.test(Ce)}function _isAndroid(Ce=getUA()){return/android/i.test(Ce)}function _isBlackBerry(Ce=getUA()){return/blackberry/i.test(Ce)}function _isWebOS(Ce=getUA()){return/webos/i.test(Ce)}function _isIOS(Ce=getUA()){return/iphone|ipad|ipod/i.test(Ce)||/macintosh/i.test(Ce)&&/mobile/i.test(Ce)}function _isIOSStandalone(Ce=getUA()){var Re;return _isIOS(Ce)&&!!(!((Re=window.navigator)===null||Re===void 0)&&Re.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(Ce=getUA()){return _isIOS(Ce)||_isAndroid(Ce)||_isWebOS(Ce)||_isBlackBerry(Ce)||/windows phone/i.test(Ce)||_isIEMobile(Ce)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(Ce,Re=[]){let je;switch(Ce){case"Browser":je=_getBrowserName(getUA());break;case"Worker":je=`${_getBrowserName(getUA())}-${Ce}`;break;default:je=Ce}const Be=Re.length?Re.join(","):"FirebaseCore-web";return`${je}/JsCore/${SDK_VERSION}/${Be}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(Re){this.auth=Re,this.queue=[]}pushCallback(Re,je){const Be=Fe=>new Promise((Oe,ke)=>{try{const Me=Re(Fe);Oe(Me)}catch(Me){ke(Me)}});Be.onAbort=je,this.queue.push(Be);const De=this.queue.length-1;return()=>{this.queue[De]=()=>Promise.resolve()}}async runMiddleware(Re){if(this.auth.currentUser===Re)return;const je=[];try{for(const Be of this.queue)await Be(Re),Be.onAbort&&je.push(Be.onAbort)}catch(Be){je.reverse();for(const De of je)try{De()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:Be?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(Ce,Re={}){return _performApiRequest(Ce,"GET","/v2/passwordPolicy",_addTidIfNecessary(Ce,Re))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(Re){var je,Be,De,Fe;const Oe=Re.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(je=Oe.minPasswordLength)!==null&&je!==void 0?je:MINIMUM_MIN_PASSWORD_LENGTH,Oe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Oe.maxPasswordLength),Oe.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=Oe.containsLowercaseCharacter),Oe.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=Oe.containsUppercaseCharacter),Oe.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=Oe.containsNumericCharacter),Oe.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Oe.containsNonAlphanumericCharacter),this.enforcementState=Re.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(De=(Be=Re.allowedNonAlphanumericCharacters)===null||Be===void 0?void 0:Be.join(""))!==null&&De!==void 0?De:"",this.forceUpgradeOnSignin=(Fe=Re.forceUpgradeOnSignin)!==null&&Fe!==void 0?Fe:!1,this.schemaVersion=Re.schemaVersion}validatePassword(Re){var je,Be,De,Fe,Oe,ke;const Me={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(Re,Me),this.validatePasswordCharacterOptions(Re,Me),Me.isValid&&(Me.isValid=(je=Me.meetsMinPasswordLength)!==null&&je!==void 0?je:!0),Me.isValid&&(Me.isValid=(Be=Me.meetsMaxPasswordLength)!==null&&Be!==void 0?Be:!0),Me.isValid&&(Me.isValid=(De=Me.containsLowercaseLetter)!==null&&De!==void 0?De:!0),Me.isValid&&(Me.isValid=(Fe=Me.containsUppercaseLetter)!==null&&Fe!==void 0?Fe:!0),Me.isValid&&(Me.isValid=(Oe=Me.containsNumericCharacter)!==null&&Oe!==void 0?Oe:!0),Me.isValid&&(Me.isValid=(ke=Me.containsNonAlphanumericCharacter)!==null&&ke!==void 0?ke:!0),Me}validatePasswordLengthOptions(Re,je){const Be=this.customStrengthOptions.minPasswordLength,De=this.customStrengthOptions.maxPasswordLength;Be&&(je.meetsMinPasswordLength=Re.length>=Be),De&&(je.meetsMaxPasswordLength=Re.length<=De)}validatePasswordCharacterOptions(Re,je){this.updatePasswordCharacterOptionsStatuses(je,!1,!1,!1,!1);let Be;for(let De=0;De<Re.length;De++)Be=Re.charAt(De),this.updatePasswordCharacterOptionsStatuses(je,Be>="a"&&Be<="z",Be>="A"&&Be<="Z",Be>="0"&&Be<="9",this.allowedNonAlphanumericCharacters.includes(Be))}updatePasswordCharacterOptionsStatuses(Re,je,Be,De,Fe){this.customStrengthOptions.containsLowercaseLetter&&(Re.containsLowercaseLetter||(Re.containsLowercaseLetter=je)),this.customStrengthOptions.containsUppercaseLetter&&(Re.containsUppercaseLetter||(Re.containsUppercaseLetter=Be)),this.customStrengthOptions.containsNumericCharacter&&(Re.containsNumericCharacter||(Re.containsNumericCharacter=De)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(Re.containsNonAlphanumericCharacter||(Re.containsNonAlphanumericCharacter=Fe))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(Re,je,Be,De){this.app=Re,this.heartbeatServiceProvider=je,this.appCheckServiceProvider=Be,this.config=De,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=Re.name,this.clientVersion=De.sdkClientVersion}_initializeWithPersistence(Re,je){return je&&(this._popupRedirectResolver=_getInstance(je)),this._initializationPromise=this.queue(async()=>{var Be,De;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,Re),!this._deleted)){if(!((Be=this._popupRedirectResolver)===null||Be===void 0)&&Be._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(je),this.lastNotifiedUid=((De=this.currentUser)===null||De===void 0?void 0:De.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const Re=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!Re)){if(this.currentUser&&Re&&this.currentUser.uid===Re.uid){this._currentUser._assign(Re),await this.currentUser.getIdToken();return}await this._updateCurrentUser(Re,!0)}}async initializeCurrentUserFromIdToken(Re){try{const je=await getAccountInfo(this,{idToken:Re}),Be=await UserImpl._fromGetAccountInfoResponse(this,je,Re);await this.directlySetCurrentUser(Be)}catch(je){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",je),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(Re){var je;if(_isFirebaseServerApp(this.app)){const Oe=this.app.settings.authIdToken;return Oe?new Promise(ke=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(Oe).then(ke,ke))}):this.directlySetCurrentUser(null)}const Be=await this.assertedPersistence.getCurrentUser();let De=Be,Fe=!1;if(Re&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const Oe=(je=this.redirectUser)===null||je===void 0?void 0:je._redirectEventId,ke=De?._redirectEventId,Me=await this.tryRedirectSignIn(Re);(!Oe||Oe===ke)&&Me?.user&&(De=Me.user,Fe=!0)}if(!De)return this.directlySetCurrentUser(null);if(!De._redirectEventId){if(Fe)try{await this.beforeStateQueue.runMiddleware(De)}catch(Oe){De=Be,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Oe))}return De?this.reloadAndSetCurrentUserOrClear(De):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===De._redirectEventId?this.directlySetCurrentUser(De):this.reloadAndSetCurrentUserOrClear(De)}async tryRedirectSignIn(Re){let je=null;try{je=await this._popupRedirectResolver._completeRedirectFn(this,Re,!0)}catch{await this._setRedirectUser(null)}return je}async reloadAndSetCurrentUserOrClear(Re){try{await _reloadWithoutSaving(Re)}catch(je){if(je?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(Re)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(Re){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const je=Re?getModularInstance(Re):null;return je&&_assert(je.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(je&&je._clone(this))}async _updateCurrentUser(Re,je=!1){if(!this._deleted)return Re&&_assert(this.tenantId===Re.tenantId,this,"tenant-id-mismatch"),je||await this.beforeStateQueue.runMiddleware(Re),this.queue(async()=>{await this.directlySetCurrentUser(Re),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(Re){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(Re))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(Re){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const je=this._getPasswordPolicyInternal();return je.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):je.validatePassword(Re)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const Re=await _getPasswordPolicy(this),je=new PasswordPolicyImpl(Re);this.tenantId===null?this._projectPasswordPolicy=je:this._tenantPasswordPolicies[this.tenantId]=je}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(Re){this._errorFactory=new ErrorFactory("auth","Firebase",Re())}onAuthStateChanged(Re,je,Be){return this.registerStateListener(this.authStateSubscription,Re,je,Be)}beforeAuthStateChanged(Re,je){return this.beforeStateQueue.pushCallback(Re,je)}onIdTokenChanged(Re,je,Be){return this.registerStateListener(this.idTokenSubscription,Re,je,Be)}authStateReady(){return new Promise((Re,je)=>{if(this.currentUser)Re();else{const Be=this.onAuthStateChanged(()=>{Be(),Re()},je)}})}async revokeAccessToken(Re){if(this.currentUser){const je=await this.currentUser.getIdToken(),Be={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:Re,idToken:je};this.tenantId!=null&&(Be.tenantId=this.tenantId),await revokeToken(this,Be)}}toJSON(){var Re;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(Re=this._currentUser)===null||Re===void 0?void 0:Re.toJSON()}}async _setRedirectUser(Re,je){const Be=await this.getOrInitRedirectPersistenceManager(je);return Re===null?Be.removeCurrentUser():Be.setCurrentUser(Re)}async getOrInitRedirectPersistenceManager(Re){if(!this.redirectPersistenceManager){const je=Re&&_getInstance(Re)||this._popupRedirectResolver;_assert(je,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(je._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(Re){var je,Be;return this._isInitialized&&await this.queue(async()=>{}),((je=this._currentUser)===null||je===void 0?void 0:je._redirectEventId)===Re?this._currentUser:((Be=this.redirectUser)===null||Be===void 0?void 0:Be._redirectEventId)===Re?this.redirectUser:null}async _persistUserIfCurrent(Re){if(Re===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(Re))}_notifyListenersIfCurrent(Re){Re===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var Re,je;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Be=(je=(Re=this.currentUser)===null||Re===void 0?void 0:Re.uid)!==null&&je!==void 0?je:null;this.lastNotifiedUid!==Be&&(this.lastNotifiedUid=Be,this.authStateSubscription.next(this.currentUser))}registerStateListener(Re,je,Be,De){if(this._deleted)return()=>{};const Fe=typeof je=="function"?je:je.next.bind(je);let Oe=!1;const ke=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(ke,this,"internal-error"),ke.then(()=>{Oe||Fe(this.currentUser)}),typeof je=="function"){const Me=Re.addObserver(je,Be,De);return()=>{Oe=!0,Me()}}else{const Me=Re.addObserver(je);return()=>{Oe=!0,Me()}}}async directlySetCurrentUser(Re){this.currentUser&&this.currentUser!==Re&&this._currentUser._stopProactiveRefresh(),Re&&this.isProactiveRefreshEnabled&&Re._startProactiveRefresh(),this.currentUser=Re,Re?await this.assertedPersistence.setCurrentUser(Re):await this.assertedPersistence.removeCurrentUser()}queue(Re){return this.operations=this.operations.then(Re,Re),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(Re){!Re||this.frameworks.includes(Re)||(this.frameworks.push(Re),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var Re;const je={"X-Client-Version":this.clientVersion};this.app.options.appId&&(je["X-Firebase-gmpid"]=this.app.options.appId);const Be=await((Re=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||Re===void 0?void 0:Re.getHeartbeatsHeader());Be&&(je["X-Firebase-Client"]=Be);const De=await this._getAppCheckToken();return De&&(je["X-Firebase-AppCheck"]=De),je}async _getAppCheckToken(){var Re;const je=await((Re=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||Re===void 0?void 0:Re.getToken());return je?.error&&_logWarn(`Error while retrieving App Check token: ${je.error}`),je?.token}}function _castAuth(Ce){return getModularInstance(Ce)}class Subscription{constructor(Re){this.auth=Re,this.observer=null,this.addObserver=createSubscribe(je=>this.observer=je)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(Ce){externalJSProvider=Ce}function _loadJS(Ce){return externalJSProvider.loadJS(Ce)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(Ce){return`__${Ce}${Math.floor(Math.random()*1e6)}`}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(Re){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(Re)}async verify(Re="verify",je=!1){async function Be(Fe){if(!je){if(Fe.tenantId==null&&Fe._agentRecaptchaConfig!=null)return Fe._agentRecaptchaConfig.siteKey;if(Fe.tenantId!=null&&Fe._tenantRecaptchaConfigs[Fe.tenantId]!==void 0)return Fe._tenantRecaptchaConfigs[Fe.tenantId].siteKey}return new Promise(async(Oe,ke)=>{getRecaptchaConfig(Fe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Me=>{if(Me.recaptchaKey===void 0)ke(new Error("recaptcha Enterprise site key undefined"));else{const Ue=new RecaptchaConfig(Me);return Fe.tenantId==null?Fe._agentRecaptchaConfig=Ue:Fe._tenantRecaptchaConfigs[Fe.tenantId]=Ue,Oe(Ue.siteKey)}}).catch(Me=>{ke(Me)})})}function De(Fe,Oe,ke){const Me=window.grecaptcha;isEnterprise(Me)?Me.enterprise.ready(()=>{Me.enterprise.execute(Fe,{action:Re}).then(Ue=>{Oe(Ue)}).catch(()=>{Oe(FAKE_TOKEN)})}):ke(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Fe,Oe)=>{Be(this.auth).then(ke=>{if(!je&&isEnterprise(window.grecaptcha))De(ke,Fe,Oe);else{if(typeof window>"u"){Oe(new Error("RecaptchaVerifier is only supported in browser"));return}let Me=_recaptchaEnterpriseScriptUrl();Me.length!==0&&(Me+=ke),_loadJS(Me).then(()=>{De(ke,Fe,Oe)}).catch(Ue=>{Oe(Ue)})}}).catch(ke=>{Oe(ke)})})}}async function injectRecaptchaFields(Ce,Re,je,Be=!1){const De=new RecaptchaEnterpriseVerifier(Ce);let Fe;try{Fe=await De.verify(je)}catch{Fe=await De.verify(je,!0)}const Oe=Object.assign({},Re);return Be?Object.assign(Oe,{captchaResp:Fe}):Object.assign(Oe,{captchaResponse:Fe}),Object.assign(Oe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Oe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Oe}async function handleRecaptchaFlow(Ce,Re,je,Be){var De;if(!((De=Ce._getRecaptchaConfig())===null||De===void 0)&&De.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Fe=await injectRecaptchaFields(Ce,Re,je,je==="getOobCode");return Be(Ce,Fe)}else return Be(Ce,Re).catch(async Fe=>{if(Fe.code==="auth/missing-recaptcha-token"){console.log(`${je} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Oe=await injectRecaptchaFields(Ce,Re,je,je==="getOobCode");return Be(Ce,Oe)}else return Promise.reject(Fe)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(Ce,Re){const je=_getProvider(Ce,"auth");if(je.isInitialized()){const De=je.getImmediate(),Fe=je.getOptions();if(deepEqual(Fe,Re??{}))return De;_fail(De,"already-initialized")}return je.initialize({options:Re})}function _initializeAuthInstance(Ce,Re){const je=Re?.persistence||[],Be=(Array.isArray(je)?je:[je]).map(_getInstance);Re?.errorMap&&Ce._updateErrorMap(Re.errorMap),Ce._initializeWithPersistence(Be,Re?.popupRedirectResolver)}function connectAuthEmulator(Ce,Re,je){const Be=_castAuth(Ce);_assert(Be._canInitEmulator,Be,"emulator-config-failed"),_assert(/^https?:\/\//.test(Re),Be,"invalid-emulator-scheme");const De=!1,Fe=extractProtocol(Re),{host:Oe,port:ke}=extractHostAndPort(Re),Me=ke===null?"":`:${ke}`;Be.config.emulator={url:`${Fe}//${Oe}${Me}/`},Be.settings.appVerificationDisabledForTesting=!0,Be.emulatorConfig=Object.freeze({host:Oe,port:ke,protocol:Fe.replace(":",""),options:Object.freeze({disableWarnings:De})}),emitEmulatorWarning()}function extractProtocol(Ce){const Re=Ce.indexOf(":");return Re<0?"":Ce.substr(0,Re+1)}function extractHostAndPort(Ce){const Re=extractProtocol(Ce),je=/(\/\/)?([^?#/]+)/.exec(Ce.substr(Re.length));if(!je)return{host:"",port:null};const Be=je[2].split("@").pop()||"",De=/^(\[[^\]]+\])(:|$)/.exec(Be);if(De){const Fe=De[1];return{host:Fe,port:parsePort(Be.substr(Fe.length+1))}}else{const[Fe,Oe]=Be.split(":");return{host:Fe,port:parsePort(Oe)}}}function parsePort(Ce){if(!Ce)return null;const Re=Number(Ce);return isNaN(Re)?null:Re}function emitEmulatorWarning(){function Ce(){const Re=document.createElement("p"),je=Re.style;Re.innerText="Running in emulator mode. Do not use with production credentials.",je.position="fixed",je.width="100%",je.backgroundColor="#ffffff",je.border=".1em solid #000000",je.color="#b50000",je.bottom="0px",je.left="0px",je.margin="0px",je.zIndex="10000",je.textAlign="center",Re.classList.add("firebase-emulator-warning"),document.body.appendChild(Re)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",Ce):Ce())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(Re,je){this.providerId=Re,this.signInMethod=je}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(Re){return debugFail("not implemented")}_linkToIdToken(Re,je){return debugFail("not implemented")}_getReauthenticationResolver(Re){return debugFail("not implemented")}}async function linkEmailPassword(Ce,Re){return _performApiRequest(Ce,"POST","/v1/accounts:signUp",Re)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(Ce,Re){return _performSignInRequest(Ce,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(Ce,Re))}async function sendOobCode(Ce,Re){return _performApiRequest(Ce,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(Ce,Re))}async function sendEmailVerification$1(Ce,Re){return sendOobCode(Ce,Re)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(Ce,Re){return _performSignInRequest(Ce,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(Ce,Re))}async function signInWithEmailLinkForLinking(Ce,Re){return _performSignInRequest(Ce,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(Ce,Re))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(Re,je,Be,De=null){super("password",Be),this._email=Re,this._password=je,this._tenantId=De}static _fromEmailAndPassword(Re,je){return new EmailAuthCredential(Re,je,"password")}static _fromEmailAndCode(Re,je,Be=null){return new EmailAuthCredential(Re,je,"emailLink",Be)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(Re){const je=typeof Re=="string"?JSON.parse(Re):Re;if(je?.email&&je?.password){if(je.signInMethod==="password")return this._fromEmailAndPassword(je.email,je.password);if(je.signInMethod==="emailLink")return this._fromEmailAndCode(je.email,je.password,je.tenantId)}return null}async _getIdTokenResponse(Re){switch(this.signInMethod){case"password":const je={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(Re,je,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(Re,{email:this._email,oobCode:this._password});default:_fail(Re,"internal-error")}}async _linkToIdToken(Re,je){switch(this.signInMethod){case"password":const Be={idToken:je,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(Re,Be,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(Re,{idToken:je,email:this._email,oobCode:this._password});default:_fail(Re,"internal-error")}}_getReauthenticationResolver(Re){return this._getIdTokenResponse(Re)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(Ce,Re){return _performSignInRequest(Ce,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(Ce,Re))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(Re){const je=new OAuthCredential(Re.providerId,Re.signInMethod);return Re.idToken||Re.accessToken?(Re.idToken&&(je.idToken=Re.idToken),Re.accessToken&&(je.accessToken=Re.accessToken),Re.nonce&&!Re.pendingToken&&(je.nonce=Re.nonce),Re.pendingToken&&(je.pendingToken=Re.pendingToken)):Re.oauthToken&&Re.oauthTokenSecret?(je.accessToken=Re.oauthToken,je.secret=Re.oauthTokenSecret):_fail("argument-error"),je}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(Re){const je=typeof Re=="string"?JSON.parse(Re):Re,{providerId:Be,signInMethod:De}=je,Fe=__rest(je,["providerId","signInMethod"]);if(!Be||!De)return null;const Oe=new OAuthCredential(Be,De);return Oe.idToken=Fe.idToken||void 0,Oe.accessToken=Fe.accessToken||void 0,Oe.secret=Fe.secret,Oe.nonce=Fe.nonce,Oe.pendingToken=Fe.pendingToken||null,Oe}_getIdTokenResponse(Re){const je=this.buildRequest();return signInWithIdp(Re,je)}_linkToIdToken(Re,je){const Be=this.buildRequest();return Be.idToken=je,signInWithIdp(Re,Be)}_getReauthenticationResolver(Re){const je=this.buildRequest();return je.autoCreate=!1,signInWithIdp(Re,je)}buildRequest(){const Re={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)Re.pendingToken=this.pendingToken;else{const je={};this.idToken&&(je.id_token=this.idToken),this.accessToken&&(je.access_token=this.accessToken),this.secret&&(je.oauth_token_secret=this.secret),je.providerId=this.providerId,this.nonce&&!this.pendingToken&&(je.nonce=this.nonce),Re.postBody=querystring(je)}return Re}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(Ce){switch(Ce){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(Ce){const Re=querystringDecode(extractQuerystring(Ce)).link,je=Re?querystringDecode(extractQuerystring(Re)).deep_link_id:null,Be=querystringDecode(extractQuerystring(Ce)).deep_link_id;return(Be?querystringDecode(extractQuerystring(Be)).link:null)||Be||je||Re||Ce}class ActionCodeURL{constructor(Re){var je,Be,De,Fe,Oe,ke;const Me=querystringDecode(extractQuerystring(Re)),Ue=(je=Me.apiKey)!==null&&je!==void 0?je:null,$e=(Be=Me.oobCode)!==null&&Be!==void 0?Be:null,He=parseMode((De=Me.mode)!==null&&De!==void 0?De:null);_assert(Ue&&$e&&He,"argument-error"),this.apiKey=Ue,this.operation=He,this.code=$e,this.continueUrl=(Fe=Me.continueUrl)!==null&&Fe!==void 0?Fe:null,this.languageCode=(Oe=Me.languageCode)!==null&&Oe!==void 0?Oe:null,this.tenantId=(ke=Me.tenantId)!==null&&ke!==void 0?ke:null}static parseLink(Re){const je=parseDeepLink(Re);try{return new ActionCodeURL(je)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(Re,je){return EmailAuthCredential._fromEmailAndPassword(Re,je)}static credentialWithLink(Re,je){const Be=ActionCodeURL.parseLink(je);return _assert(Be,"argument-error"),EmailAuthCredential._fromEmailAndCode(Re,Be.code,Be.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(Re){this.providerId=Re,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(Re){this.defaultLanguageCode=Re}setCustomParameters(Re){return this.customParameters=Re,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(Re){return this.scopes.includes(Re)||this.scopes.push(Re),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(Re){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:Re})}static credentialFromResult(Re){return FacebookAuthProvider.credentialFromTaggedObject(Re)}static credentialFromError(Re){return FacebookAuthProvider.credentialFromTaggedObject(Re.customData||{})}static credentialFromTaggedObject({_tokenResponse:Re}){if(!Re||!("oauthAccessToken"in Re)||!Re.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(Re.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(Re,je){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:Re,accessToken:je})}static credentialFromResult(Re){return GoogleAuthProvider.credentialFromTaggedObject(Re)}static credentialFromError(Re){return GoogleAuthProvider.credentialFromTaggedObject(Re.customData||{})}static credentialFromTaggedObject({_tokenResponse:Re}){if(!Re)return null;const{oauthIdToken:je,oauthAccessToken:Be}=Re;if(!je&&!Be)return null;try{return GoogleAuthProvider.credential(je,Be)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(Re){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:Re})}static credentialFromResult(Re){return GithubAuthProvider.credentialFromTaggedObject(Re)}static credentialFromError(Re){return GithubAuthProvider.credentialFromTaggedObject(Re.customData||{})}static credentialFromTaggedObject({_tokenResponse:Re}){if(!Re||!("oauthAccessToken"in Re)||!Re.oauthAccessToken)return null;try{return GithubAuthProvider.credential(Re.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(Re,je){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:Re,oauthTokenSecret:je})}static credentialFromResult(Re){return TwitterAuthProvider.credentialFromTaggedObject(Re)}static credentialFromError(Re){return TwitterAuthProvider.credentialFromTaggedObject(Re.customData||{})}static credentialFromTaggedObject({_tokenResponse:Re}){if(!Re)return null;const{oauthAccessToken:je,oauthTokenSecret:Be}=Re;if(!je||!Be)return null;try{return TwitterAuthProvider.credential(je,Be)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(Ce,Re){return _performSignInRequest(Ce,"POST","/v1/accounts:signUp",_addTidIfNecessary(Ce,Re))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(Re){this.user=Re.user,this.providerId=Re.providerId,this._tokenResponse=Re._tokenResponse,this.operationType=Re.operationType}static async _fromIdTokenResponse(Re,je,Be,De=!1){const Fe=await UserImpl._fromIdTokenResponse(Re,Be,De),Oe=providerIdForResponse(Be);return new UserCredentialImpl({user:Fe,providerId:Oe,_tokenResponse:Be,operationType:je})}static async _forOperation(Re,je,Be){await Re._updateTokensIfNecessary(Be,!0);const De=providerIdForResponse(Be);return new UserCredentialImpl({user:Re,providerId:De,_tokenResponse:Be,operationType:je})}}function providerIdForResponse(Ce){return Ce.providerId?Ce.providerId:"phoneNumber"in Ce?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(Re,je,Be,De){var Fe;super(je.code,je.message),this.operationType=Be,this.user=De,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:Re.name,tenantId:(Fe=Re.tenantId)!==null&&Fe!==void 0?Fe:void 0,_serverResponse:je.customData._serverResponse,operationType:Be}}static _fromErrorAndOperation(Re,je,Be,De){return new MultiFactorError(Re,je,Be,De)}}function _processCredentialSavingMfaContextIfNecessary(Ce,Re,je,Be){return(Re==="reauthenticate"?je._getReauthenticationResolver(Ce):je._getIdTokenResponse(Ce)).catch(Fe=>{throw Fe.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(Ce,Fe,Re,Be):Fe})}async function _link$1(Ce,Re,je=!1){const Be=await _logoutIfInvalidated(Ce,Re._linkToIdToken(Ce.auth,await Ce.getIdToken()),je);return UserCredentialImpl._forOperation(Ce,"link",Be)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(Ce,Re,je=!1){const{auth:Be}=Ce;if(_isFirebaseServerApp(Be.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Be));const De="reauthenticate";try{const Fe=await _logoutIfInvalidated(Ce,_processCredentialSavingMfaContextIfNecessary(Be,De,Re,Ce),je);_assert(Fe.idToken,Be,"internal-error");const Oe=_parseToken(Fe.idToken);_assert(Oe,Be,"internal-error");const{sub:ke}=Oe;return _assert(Ce.uid===ke,Be,"user-mismatch"),UserCredentialImpl._forOperation(Ce,De,Fe)}catch(Fe){throw Fe?.code==="auth/user-not-found"&&_fail(Be,"user-mismatch"),Fe}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(Ce,Re,je=!1){if(_isFirebaseServerApp(Ce.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ce));const Be="signIn",De=await _processCredentialSavingMfaContextIfNecessary(Ce,Be,Re),Fe=await UserCredentialImpl._fromIdTokenResponse(Ce,Be,De);return je||await Ce._updateCurrentUser(Fe.user),Fe}async function signInWithCredential(Ce,Re){return _signInWithCredential(_castAuth(Ce),Re)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(Ce){const Re=_castAuth(Ce);Re._getPasswordPolicyInternal()&&await Re._updatePasswordPolicy()}async function createUserWithEmailAndPassword(Ce,Re,je){if(_isFirebaseServerApp(Ce.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ce));const Be=_castAuth(Ce),Oe=await handleRecaptchaFlow(Be,{returnSecureToken:!0,email:Re,password:je,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(Me=>{throw Me.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(Ce),Me}),ke=await UserCredentialImpl._fromIdTokenResponse(Be,"signIn",Oe);return await Be._updateCurrentUser(ke.user),ke}function signInWithEmailAndPassword(Ce,Re,je){return _isFirebaseServerApp(Ce.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ce)):signInWithCredential(getModularInstance(Ce),EmailAuthProvider.credential(Re,je)).catch(async Be=>{throw Be.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(Ce),Be})}async function sendEmailVerification(Ce,Re){const je=getModularInstance(Ce),De={requestType:"VERIFY_EMAIL",idToken:await Ce.getIdToken()},{email:Fe}=await sendEmailVerification$1(je.auth,De);Fe!==Ce.email&&await Ce.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile$1(Ce,Re){return _performApiRequest(Ce,"POST","/v1/accounts:update",Re)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile(Ce,{displayName:Re,photoURL:je}){if(Re===void 0&&je===void 0)return;const Be=getModularInstance(Ce),Fe={idToken:await Be.getIdToken(),displayName:Re,photoUrl:je,returnSecureToken:!0},Oe=await _logoutIfInvalidated(Be,updateProfile$1(Be.auth,Fe));Be.displayName=Oe.displayName||null,Be.photoURL=Oe.photoUrl||null;const ke=Be.providerData.find(({providerId:Me})=>Me==="password");ke&&(ke.displayName=Be.displayName,ke.photoURL=Be.photoURL),await Be._updateTokensIfNecessary(Oe)}function onIdTokenChanged(Ce,Re,je,Be){return getModularInstance(Ce).onIdTokenChanged(Re,je,Be)}function beforeAuthStateChanged(Ce,Re,je){return getModularInstance(Ce).beforeAuthStateChanged(Re,je)}function onAuthStateChanged(Ce,Re,je,Be){return getModularInstance(Ce).onAuthStateChanged(Re,je,Be)}function signOut(Ce){return getModularInstance(Ce).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(Re,je){this.storageRetriever=Re,this.type=je}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(Re,je){return this.storage.setItem(Re,JSON.stringify(je)),Promise.resolve()}_get(Re){const je=this.storage.getItem(Re);return Promise.resolve(je?JSON.parse(je):null)}_remove(Re){return this.storage.removeItem(Re),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const Ce=getUA();return _isSafari(Ce)||_isIOS(Ce)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(Re,je)=>this.onStorageEvent(Re,je),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(Re){for(const je of Object.keys(this.listeners)){const Be=this.storage.getItem(je),De=this.localCache[je];Be!==De&&Re(je,De,Be)}}onStorageEvent(Re,je=!1){if(!Re.key){this.forAllChangedKeys((Oe,ke,Me)=>{this.notifyListeners(Oe,Me)});return}const Be=Re.key;if(je?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Oe=this.storage.getItem(Be);if(Re.newValue!==Oe)Re.newValue!==null?this.storage.setItem(Be,Re.newValue):this.storage.removeItem(Be);else if(this.localCache[Be]===Re.newValue&&!je)return}const De=()=>{const Oe=this.storage.getItem(Be);!je&&this.localCache[Be]===Oe||this.notifyListeners(Be,Oe)},Fe=this.storage.getItem(Be);_isIE10()&&Fe!==Re.newValue&&Re.newValue!==Re.oldValue?setTimeout(De,IE10_LOCAL_STORAGE_SYNC_DELAY):De()}notifyListeners(Re,je){this.localCache[Re]=je;const Be=this.listeners[Re];if(Be)for(const De of Array.from(Be))De(je&&JSON.parse(je))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((Re,je,Be)=>{this.onStorageEvent(new StorageEvent("storage",{key:Re,oldValue:je,newValue:Be}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(Re,je){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[Re]||(this.listeners[Re]=new Set,this.localCache[Re]=this.storage.getItem(Re)),this.listeners[Re].add(je)}_removeListener(Re,je){this.listeners[Re]&&(this.listeners[Re].delete(je),this.listeners[Re].size===0&&delete this.listeners[Re]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(Re,je){await super._set(Re,je),this.localCache[Re]=JSON.stringify(je)}async _get(Re){const je=await super._get(Re);return this.localCache[Re]=JSON.stringify(je),je}async _remove(Re){await super._remove(Re),delete this.localCache[Re]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(Re,je){}_removeListener(Re,je){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(Ce){return Promise.all(Ce.map(async Re=>{try{return{fulfilled:!0,value:await Re}}catch(je){return{fulfilled:!1,reason:je}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(Re){this.eventTarget=Re,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(Re){const je=this.receivers.find(De=>De.isListeningto(Re));if(je)return je;const Be=new Receiver(Re);return this.receivers.push(Be),Be}isListeningto(Re){return this.eventTarget===Re}async handleEvent(Re){const je=Re,{eventId:Be,eventType:De,data:Fe}=je.data,Oe=this.handlersMap[De];if(!Oe?.size)return;je.ports[0].postMessage({status:"ack",eventId:Be,eventType:De});const ke=Array.from(Oe).map(async Ue=>Ue(je.origin,Fe)),Me=await _allSettled(ke);je.ports[0].postMessage({status:"done",eventId:Be,eventType:De,response:Me})}_subscribe(Re,je){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[Re]||(this.handlersMap[Re]=new Set),this.handlersMap[Re].add(je)}_unsubscribe(Re,je){this.handlersMap[Re]&&je&&this.handlersMap[Re].delete(je),(!je||this.handlersMap[Re].size===0)&&delete this.handlersMap[Re],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(Ce="",Re=10){let je="";for(let Be=0;Be<Re;Be++)je+=Math.floor(Math.random()*10);return Ce+je}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(Re){this.target=Re,this.handlers=new Set}removeMessageHandler(Re){Re.messageChannel&&(Re.messageChannel.port1.removeEventListener("message",Re.onMessage),Re.messageChannel.port1.close()),this.handlers.delete(Re)}async _send(Re,je,Be=50){const De=typeof MessageChannel<"u"?new MessageChannel:null;if(!De)throw new Error("connection_unavailable");let Fe,Oe;return new Promise((ke,Me)=>{const Ue=_generateEventId("",20);De.port1.start();const $e=setTimeout(()=>{Me(new Error("unsupported_event"))},Be);Oe={messageChannel:De,onMessage(He){const Qe=He;if(Qe.data.eventId===Ue)switch(Qe.data.status){case"ack":clearTimeout($e),Fe=setTimeout(()=>{Me(new Error("timeout"))},3e3);break;case"done":clearTimeout(Fe),ke(Qe.data.response);break;default:clearTimeout($e),clearTimeout(Fe),Me(new Error("invalid_response"));break}}},this.handlers.add(Oe),De.port1.addEventListener("message",Oe.onMessage),this.target.postMessage({eventType:Re,eventId:Ue,data:je},[De.port2])}).finally(()=>{Oe&&this.removeMessageHandler(Oe)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(Ce){_window().location.href=Ce}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var Ce;return((Ce=navigator?.serviceWorker)===null||Ce===void 0?void 0:Ce.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(Re){this.request=Re}toPromise(){return new Promise((Re,je)=>{this.request.addEventListener("success",()=>{Re(this.request.result)}),this.request.addEventListener("error",()=>{je(this.request.error)})})}}function getObjectStore(Ce,Re){return Ce.transaction([DB_OBJECTSTORE_NAME],Re?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const Ce=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(Ce).toPromise()}function _openDatabase(){const Ce=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((Re,je)=>{Ce.addEventListener("error",()=>{je(Ce.error)}),Ce.addEventListener("upgradeneeded",()=>{const Be=Ce.result;try{Be.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(De){je(De)}}),Ce.addEventListener("success",async()=>{const Be=Ce.result;Be.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?Re(Be):(Be.close(),await _deleteDatabase(),Re(await _openDatabase()))})})}async function _putObject(Ce,Re,je){const Be=getObjectStore(Ce,!0).put({[DB_DATA_KEYPATH]:Re,value:je});return new DBPromise(Be).toPromise()}async function getObject(Ce,Re){const je=getObjectStore(Ce,!1).get(Re),Be=await new DBPromise(je).toPromise();return Be===void 0?null:Be.value}function _deleteObject(Ce,Re){const je=getObjectStore(Ce,!0).delete(Re);return new DBPromise(je).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(Re){let je=0;for(;;)try{const Be=await this._openDb();return await Re(Be)}catch(Be){if(je++>_TRANSACTION_RETRY_COUNT)throw Be;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(Re,je)=>({keyProcessed:(await this._poll()).includes(je.key)})),this.receiver._subscribe("ping",async(Re,je)=>["keyChanged"])}async initializeSender(){var Re,je;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const Be=await this.sender._send("ping",{},800);Be&&!((Re=Be[0])===null||Re===void 0)&&Re.fulfilled&&!((je=Be[0])===null||je===void 0)&&je.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(Re){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:Re},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const Re=await _openDatabase();return await _putObject(Re,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(Re,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(Re){this.pendingWrites++;try{await Re()}finally{this.pendingWrites--}}async _set(Re,je){return this._withPendingWrite(async()=>(await this._withRetries(Be=>_putObject(Be,Re,je)),this.localCache[Re]=je,this.notifyServiceWorker(Re)))}async _get(Re){const je=await this._withRetries(Be=>getObject(Be,Re));return this.localCache[Re]=je,je}async _remove(Re){return this._withPendingWrite(async()=>(await this._withRetries(je=>_deleteObject(je,Re)),delete this.localCache[Re],this.notifyServiceWorker(Re)))}async _poll(){const Re=await this._withRetries(De=>{const Fe=getObjectStore(De,!1).getAll();return new DBPromise(Fe).toPromise()});if(!Re)return[];if(this.pendingWrites!==0)return[];const je=[],Be=new Set;if(Re.length!==0)for(const{fbase_key:De,value:Fe}of Re)Be.add(De),JSON.stringify(this.localCache[De])!==JSON.stringify(Fe)&&(this.notifyListeners(De,Fe),je.push(De));for(const De of Object.keys(this.localCache))this.localCache[De]&&!Be.has(De)&&(this.notifyListeners(De,null),je.push(De));return je}notifyListeners(Re,je){this.localCache[Re]=je;const Be=this.listeners[Re];if(Be)for(const De of Array.from(Be))De(je)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(Re,je){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[Re]||(this.listeners[Re]=new Set,this._get(Re)),this.listeners[Re].add(je)}_removeListener(Re,je){this.listeners[Re]&&(this.listeners[Re].delete(je),this.listeners[Re].size===0&&delete this.listeners[Re]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(Ce,Re){return Re?_getInstance(Re):(_assert(Ce._popupRedirectResolver,Ce,"argument-error"),Ce._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(Re){super("custom","custom"),this.params=Re}_getIdTokenResponse(Re){return signInWithIdp(Re,this._buildIdpRequest())}_linkToIdToken(Re,je){return signInWithIdp(Re,this._buildIdpRequest(je))}_getReauthenticationResolver(Re){return signInWithIdp(Re,this._buildIdpRequest())}_buildIdpRequest(Re){const je={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return Re&&(je.idToken=Re),je}}function _signIn(Ce){return _signInWithCredential(Ce.auth,new IdpCredential(Ce),Ce.bypassAuthState)}function _reauth(Ce){const{auth:Re,user:je}=Ce;return _assert(je,Re,"internal-error"),_reauthenticate(je,new IdpCredential(Ce),Ce.bypassAuthState)}async function _link(Ce){const{auth:Re,user:je}=Ce;return _assert(je,Re,"internal-error"),_link$1(je,new IdpCredential(Ce),Ce.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(Re,je,Be,De,Fe=!1){this.auth=Re,this.resolver=Be,this.user=De,this.bypassAuthState=Fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(je)?je:[je]}execute(){return new Promise(async(Re,je)=>{this.pendingPromise={resolve:Re,reject:je};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Be){this.reject(Be)}})}async onAuthEvent(Re){const{urlResponse:je,sessionId:Be,postBody:De,tenantId:Fe,error:Oe,type:ke}=Re;if(Oe){this.reject(Oe);return}const Me={auth:this.auth,requestUri:je,sessionId:Be,tenantId:Fe||void 0,postBody:De||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(ke)(Me))}catch(Ue){this.reject(Ue)}}onError(Re){this.reject(Re)}getIdpTask(Re){switch(Re){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(Re){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(Re),this.unregisterAndCleanUp()}reject(Re){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(Re),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(Ce,Re,je){if(_isFirebaseServerApp(Ce.app))return Promise.reject(_createError(Ce,"operation-not-supported-in-this-environment"));const Be=_castAuth(Ce);_assertInstanceOf(Ce,Re,FederatedAuthProvider);const De=_withDefaultResolver(Be,je);return new PopupOperation(Be,"signInViaPopup",Re,De).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(Re,je,Be,De,Fe){super(Re,je,De,Fe),this.provider=Be,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const Re=await this.execute();return _assert(Re,this.auth,"internal-error"),Re}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const Re=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],Re),this.authWindow.associatedEvent=Re,this.resolver._originValidation(this.auth).catch(je=>{this.reject(je)}),this.resolver._isIframeWebStorageSupported(this.auth,je=>{je||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var Re;return((Re=this.authWindow)===null||Re===void 0?void 0:Re.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const Re=()=>{var je,Be;if(!((Be=(je=this.authWindow)===null||je===void 0?void 0:je.window)===null||Be===void 0)&&Be.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(Re,_POLL_WINDOW_CLOSE_TIMEOUT.get())};Re()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(Re,je,Be=!1){super(Re,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],je,void 0,Be),this.eventId=null}async execute(){let Re=redirectOutcomeMap.get(this.auth._key());if(!Re){try{const Be=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;Re=()=>Promise.resolve(Be)}catch(je){Re=()=>Promise.reject(je)}redirectOutcomeMap.set(this.auth._key(),Re)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),Re()}async onAuthEvent(Re){if(Re.type==="signInViaRedirect")return super.onAuthEvent(Re);if(Re.type==="unknown"){this.resolve(null);return}if(Re.eventId){const je=await this.auth._redirectUserForId(Re.eventId);if(je)return this.user=je,super.onAuthEvent(Re);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(Ce,Re){const je=pendingRedirectKey(Re),Be=resolverPersistence(Ce);if(!await Be._isAvailable())return!1;const De=await Be._get(je)==="true";return await Be._remove(je),De}function _overrideRedirectResult(Ce,Re){redirectOutcomeMap.set(Ce._key(),Re)}function resolverPersistence(Ce){return _getInstance(Ce._redirectPersistence)}function pendingRedirectKey(Ce){return _persistenceKeyName(PENDING_REDIRECT_KEY,Ce.config.apiKey,Ce.name)}async function _getRedirectResult(Ce,Re,je=!1){if(_isFirebaseServerApp(Ce.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ce));const Be=_castAuth(Ce),De=_withDefaultResolver(Be,Re),Oe=await new RedirectAction(Be,De,je).execute();return Oe&&!je&&(delete Oe.user._redirectEventId,await Be._persistUserIfCurrent(Oe.user),await Be._setRedirectUser(null,Re)),Oe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=600*1e3;class AuthEventManager{constructor(Re){this.auth=Re,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(Re){this.consumers.add(Re),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,Re)&&(this.sendToConsumer(this.queuedRedirectEvent,Re),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(Re){this.consumers.delete(Re)}onEvent(Re){if(this.hasEventBeenHandled(Re))return!1;let je=!1;return this.consumers.forEach(Be=>{this.isEventForConsumer(Re,Be)&&(je=!0,this.sendToConsumer(Re,Be),this.saveEventToCache(Re))}),this.hasHandledPotentialRedirect||!isRedirectEvent(Re)||(this.hasHandledPotentialRedirect=!0,je||(this.queuedRedirectEvent=Re,je=!0)),je}sendToConsumer(Re,je){var Be;if(Re.error&&!isNullRedirectEvent(Re)){const De=((Be=Re.error.code)===null||Be===void 0?void 0:Be.split("auth/")[1])||"internal-error";je.onError(_createError(this.auth,De))}else je.onAuthEvent(Re)}isEventForConsumer(Re,je){const Be=je.eventId===null||!!Re.eventId&&Re.eventId===je.eventId;return je.filter.includes(Re.type)&&Be}hasEventBeenHandled(Re){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(Re))}saveEventToCache(Re){this.cachedEventUids.add(eventUid(Re)),this.lastProcessedEventTime=Date.now()}}function eventUid(Ce){return[Ce.type,Ce.eventId,Ce.sessionId,Ce.tenantId].filter(Re=>Re).join("-")}function isNullRedirectEvent({type:Ce,error:Re}){return Ce==="unknown"&&Re?.code==="auth/no-auth-event"}function isRedirectEvent(Ce){switch(Ce.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(Ce);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(Ce,Re={}){return _performApiRequest(Ce,"GET","/v1/projects",Re)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(Ce){if(Ce.config.emulator)return;const{authorizedDomains:Re}=await _getProjectConfig(Ce);for(const je of Re)try{if(matchDomain(je))return}catch{}_fail(Ce,"unauthorized-domain")}function matchDomain(Ce){const Re=_getCurrentUrl(),{protocol:je,hostname:Be}=new URL(Re);if(Ce.startsWith("chrome-extension://")){const Oe=new URL(Ce);return Oe.hostname===""&&Be===""?je==="chrome-extension:"&&Ce.replace("chrome-extension://","")===Re.replace("chrome-extension://",""):je==="chrome-extension:"&&Oe.hostname===Be}if(!HTTP_REGEX.test(je))return!1;if(IP_ADDRESS_REGEX.test(Ce))return Be===Ce;const De=Ce.replace(/\./g,"\\.");return new RegExp("^(.+\\."+De+"|"+De+")$","i").test(Be)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const Ce=_window().___jsl;if(Ce?.H){for(const Re of Object.keys(Ce.H))if(Ce.H[Re].r=Ce.H[Re].r||[],Ce.H[Re].L=Ce.H[Re].L||[],Ce.H[Re].r=[...Ce.H[Re].L],Ce.CP)for(let je=0;je<Ce.CP.length;je++)Ce.CP[je]=null}}function loadGapi(Ce){return new Promise((Re,je)=>{var Be,De,Fe;function Oe(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{Re(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),je(_createError(Ce,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((De=(Be=_window().gapi)===null||Be===void 0?void 0:Be.iframes)===null||De===void 0)&&De.Iframe)Re(gapi.iframes.getContext());else if(!((Fe=_window().gapi)===null||Fe===void 0)&&Fe.load)Oe();else{const ke=_generateCallbackName("iframefcb");return _window()[ke]=()=>{gapi.load?Oe():je(_createError(Ce,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${ke}`).catch(Me=>je(Me))}}).catch(Re=>{throw cachedGApiLoader=null,Re})}let cachedGApiLoader=null;function _loadGapi(Ce){return cachedGApiLoader=cachedGApiLoader||loadGapi(Ce),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(Ce){const Re=Ce.config;_assert(Re.authDomain,Ce,"auth-domain-config-required");const je=Re.emulator?_emulatorUrl(Re,EMULATED_IFRAME_PATH):`https://${Ce.config.authDomain}/${IFRAME_PATH}`,Be={apiKey:Re.apiKey,appName:Ce.name,v:SDK_VERSION},De=EID_FROM_APIHOST.get(Ce.config.apiHost);De&&(Be.eid=De);const Fe=Ce._getFrameworks();return Fe.length&&(Be.fw=Fe.join(",")),`${je}?${querystring(Be).slice(1)}`}async function _openIframe(Ce){const Re=await _loadGapi(Ce),je=_window().gapi;return _assert(je,Ce,"internal-error"),Re.open({where:document.body,url:getIframeUrl(Ce),messageHandlersFilter:je.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},Be=>new Promise(async(De,Fe)=>{await Be.restyle({setHideOnLeave:!1});const Oe=_createError(Ce,"network-request-failed"),ke=_window().setTimeout(()=>{Fe(Oe)},PING_TIMEOUT.get());function Me(){_window().clearTimeout(ke),De(Be)}Be.ping(Me).then(Me,()=>{Fe(Oe)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(Re){this.window=Re,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(Ce,Re,je,Be=DEFAULT_WIDTH,De=DEFAULT_HEIGHT){const Fe=Math.max((window.screen.availHeight-De)/2,0).toString(),Oe=Math.max((window.screen.availWidth-Be)/2,0).toString();let ke="";const Me=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:Be.toString(),height:De.toString(),top:Fe,left:Oe}),Ue=getUA().toLowerCase();je&&(ke=_isChromeIOS(Ue)?TARGET_BLANK:je),_isFirefox(Ue)&&(Re=Re||FIREFOX_EMPTY_URL,Me.scrollbars="yes");const $e=Object.entries(Me).reduce((Qe,[We,qe])=>`${Qe}${We}=${qe},`,"");if(_isIOSStandalone(Ue)&&ke!=="_self")return openAsNewWindowIOS(Re||"",ke),new AuthPopup(null);const He=window.open(Re||"",ke,$e);_assert(He,Ce,"popup-blocked");try{He.focus()}catch{}return new AuthPopup(He)}function openAsNewWindowIOS(Ce,Re){const je=document.createElement("a");je.href=Ce,je.target=Re;const Be=document.createEvent("MouseEvent");Be.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),je.dispatchEvent(Be)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(Ce,Re,je,Be,De,Fe){_assert(Ce.config.authDomain,Ce,"auth-domain-config-required"),_assert(Ce.config.apiKey,Ce,"invalid-api-key");const Oe={apiKey:Ce.config.apiKey,appName:Ce.name,authType:je,redirectUrl:Be,v:SDK_VERSION,eventId:De};if(Re instanceof FederatedAuthProvider){Re.setDefaultLanguage(Ce.languageCode),Oe.providerId=Re.providerId||"",isEmpty$4(Re.getCustomParameters())||(Oe.customParameters=JSON.stringify(Re.getCustomParameters()));for(const[$e,He]of Object.entries({}))Oe[$e]=He}if(Re instanceof BaseOAuthProvider){const $e=Re.getScopes().filter(He=>He!=="");$e.length>0&&(Oe.scopes=$e.join(","))}Ce.tenantId&&(Oe.tid=Ce.tenantId);const ke=Oe;for(const $e of Object.keys(ke))ke[$e]===void 0&&delete ke[$e];const Me=await Ce._getAppCheckToken(),Ue=Me?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(Me)}`:"";return`${getHandlerBase(Ce)}?${querystring(ke).slice(1)}${Ue}`}function getHandlerBase({config:Ce}){return Ce.emulator?_emulatorUrl(Ce,EMULATOR_WIDGET_PATH):`https://${Ce.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(Re,je,Be,De){var Fe;debugAssert((Fe=this.eventManagers[Re._key()])===null||Fe===void 0?void 0:Fe.manager,"_initialize() not called before _openPopup()");const Oe=await _getRedirectUrl(Re,je,Be,_getCurrentUrl(),De);return _open(Re,Oe,_generateEventId())}async _openRedirect(Re,je,Be,De){await this._originValidation(Re);const Fe=await _getRedirectUrl(Re,je,Be,_getCurrentUrl(),De);return _setWindowLocation(Fe),new Promise(()=>{})}_initialize(Re){const je=Re._key();if(this.eventManagers[je]){const{manager:De,promise:Fe}=this.eventManagers[je];return De?Promise.resolve(De):(debugAssert(Fe,"If manager is not set, promise should be"),Fe)}const Be=this.initAndGetManager(Re);return this.eventManagers[je]={promise:Be},Be.catch(()=>{delete this.eventManagers[je]}),Be}async initAndGetManager(Re){const je=await _openIframe(Re),Be=new AuthEventManager(Re);return je.register("authEvent",De=>(_assert(De?.authEvent,Re,"invalid-auth-event"),{status:Be.onEvent(De.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[Re._key()]={manager:Be},this.iframes[Re._key()]=je,Be}_isIframeWebStorageSupported(Re,je){this.iframes[Re._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},De=>{var Fe;const Oe=(Fe=De?.[0])===null||Fe===void 0?void 0:Fe[WEB_STORAGE_SUPPORT_KEY];Oe!==void 0&&je(!!Oe),_fail(Re,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(Re){const je=Re._key();return this.originValidationPromises[je]||(this.originValidationPromises[je]=_validateOrigin(Re)),this.originValidationPromises[je]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$3="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(Re){this.auth=Re,this.internalListeners=new Map}getUid(){var Re;return this.assertAuthConfigured(),((Re=this.auth.currentUser)===null||Re===void 0?void 0:Re.uid)||null}async getToken(Re){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(Re)}:null}addAuthTokenListener(Re){if(this.assertAuthConfigured(),this.internalListeners.has(Re))return;const je=this.auth.onIdTokenChanged(Be=>{Re(Be?.stsTokenManager.accessToken||null)});this.internalListeners.set(Re,je),this.updateProactiveRefresh()}removeAuthTokenListener(Re){this.assertAuthConfigured();const je=this.internalListeners.get(Re);je&&(this.internalListeners.delete(Re),je(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(Ce){switch(Ce){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(Ce){_registerComponent(new Component("auth",(Re,{options:je})=>{const Be=Re.getProvider("app").getImmediate(),De=Re.getProvider("heartbeat"),Fe=Re.getProvider("app-check-internal"),{apiKey:Oe,authDomain:ke}=Be.options;_assert(Oe&&!Oe.includes(":"),"invalid-api-key",{appName:Be.name});const Me={apiKey:Oe,authDomain:ke,clientPlatform:Ce,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(Ce)},Ue=new AuthImpl(Be,De,Fe,Me);return _initializeAuthInstance(Ue,je),Ue},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Re,je,Be)=>{Re.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",Re=>{const je=_castAuth(Re.getProvider("auth").getImmediate());return(Be=>new AuthInterop(Be))(je)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$3,getVersionForPlatform(Ce)),registerVersion(name$2,version$3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=300,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=Ce=>async Re=>{const je=Re&&await Re.getIdTokenResult(),Be=je&&(new Date().getTime()-Date.parse(je.issuedAtTime))/1e3;if(Be&&Be>authIdTokenMaxAge)return;const De=je?.token;lastPostedIdToken!==De&&(lastPostedIdToken=De,await fetch(Ce,{method:De?"POST":"DELETE",headers:De?{Authorization:`Bearer ${De}`}:{}}))};function getAuth(Ce=getApp()){const Re=_getProvider(Ce,"auth");if(Re.isInitialized())return Re.getImmediate();const je=initializeAuth(Ce,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),Be=getExperimentalSetting("authTokenSyncURL");if(Be&&typeof isSecureContext=="boolean"&&isSecureContext){const Fe=new URL(Be,location.origin);if(location.origin===Fe.origin){const Oe=mintCookieFactory(Fe.toString());beforeAuthStateChanged(je,Oe,()=>Oe(je.currentUser)),onIdTokenChanged(je,ke=>Oe(ke))}}const De=getDefaultEmulatorHost("auth");return De&&connectAuthEmulator(je,`http://${De}`),je}function getScriptParentElement(){var Ce,Re;return(Re=(Ce=document.getElementsByTagName("head"))===null||Ce===void 0?void 0:Ce[0])!==null&&Re!==void 0?Re:document}_setExternalJSProvider({loadJS(Ce){return new Promise((Re,je)=>{const Be=document.createElement("script");Be.setAttribute("src",Ce),Be.onload=Re,Be.onerror=De=>{const Fe=_createError("internal-error");Fe.customData=De,je(Fe)},Be.type="text/javascript",Be.charset="UTF-8",getScriptParentElement().appendChild(Be)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");const index_esm=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL,AuthCredential,EmailAuthCredential,EmailAuthProvider,FacebookAuthProvider,GithubAuthProvider,GoogleAuthProvider,OAuthCredential,TwitterAuthProvider,beforeAuthStateChanged,browserLocalPersistence,browserPopupRedirectResolver,browserSessionPersistence,connectAuthEmulator,createUserWithEmailAndPassword,getAuth,getIdTokenResult,inMemoryPersistence,indexedDBLocalPersistence,initializeAuth,onAuthStateChanged,onIdTokenChanged,prodErrorMap,reload,sendEmailVerification,signInWithCredential,signInWithEmailAndPassword,signInWithPopup,signOut,updateProfile},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=120*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(Re,je,Be=0){super(prependCode(Re),`Firebase Storage: ${je} (${prependCode(Re)})`),this.status_=Be,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(Re){this.status_=Re}_codeEquals(Re){return prependCode(Re)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Re){this.customData.serverResponse=Re,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(Ce){Ce.UNKNOWN="unknown",Ce.OBJECT_NOT_FOUND="object-not-found",Ce.BUCKET_NOT_FOUND="bucket-not-found",Ce.PROJECT_NOT_FOUND="project-not-found",Ce.QUOTA_EXCEEDED="quota-exceeded",Ce.UNAUTHENTICATED="unauthenticated",Ce.UNAUTHORIZED="unauthorized",Ce.UNAUTHORIZED_APP="unauthorized-app",Ce.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ce.INVALID_CHECKSUM="invalid-checksum",Ce.CANCELED="canceled",Ce.INVALID_EVENT_NAME="invalid-event-name",Ce.INVALID_URL="invalid-url",Ce.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ce.NO_DEFAULT_BUCKET="no-default-bucket",Ce.CANNOT_SLICE_BLOB="cannot-slice-blob",Ce.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ce.NO_DOWNLOAD_URL="no-download-url",Ce.INVALID_ARGUMENT="invalid-argument",Ce.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ce.APP_DELETED="app-deleted",Ce.INVALID_ROOT_OPERATION="invalid-root-operation",Ce.INVALID_FORMAT="invalid-format",Ce.INTERNAL_ERROR="internal-error",Ce.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(Ce){return"storage/"+Ce}function unknown(){const Ce="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,Ce)}function objectNotFound(Ce){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+Ce+"' does not exist.")}function quotaExceeded(Ce){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+Ce+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const Ce="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,Ce)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(Ce){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+Ce+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(Ce){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+Ce+"'.")}function invalidDefaultBucket(Ce){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Ce+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(Ce){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${Ce} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument$1(Ce){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,Ce)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(Ce){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+Ce+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(Ce,Re){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+Ce+"': "+Re)}function internalError(Ce){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+Ce)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(Re,je){this.bucket=Re,this.path_=je}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const Re=encodeURIComponent;return"/b/"+Re(this.bucket)+"/o/"+Re(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Re,je){let Be;try{Be=Location.makeFromUrl(Re,je)}catch{return new Location(Re,"")}if(Be.path==="")return Be;throw invalidDefaultBucket(Re)}static makeFromUrl(Re,je){let Be=null;const De="([A-Za-z0-9.\\-_]+)";function Fe(tr){tr.path.charAt(tr.path.length-1)==="/"&&(tr.path_=tr.path_.slice(0,-1))}const Oe="(/(.*))?$",ke=new RegExp("^gs://"+De+Oe,"i"),Me={bucket:1,path:3};function Ue(tr){tr.path_=decodeURIComponent(tr.path)}const $e="v[A-Za-z0-9_]+",He=je.replace(/[.]/g,"\\."),Qe="(/([^?#]*).*)?$",We=new RegExp(`^https?://${He}/${$e}/b/${De}/o${Qe}`,"i"),qe={bucket:1,path:3},Ke=je===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":je,Xe="([^?#]*)",Ye=new RegExp(`^https?://${Ke}/${De}/${Xe}`,"i"),Je=[{regex:ke,indices:Me,postModify:Fe},{regex:We,indices:qe,postModify:Ue},{regex:Ye,indices:{bucket:1,path:2},postModify:Ue}];for(let tr=0;tr<Je.length;tr++){const rr=Je[tr],ar=rr.regex.exec(Re);if(ar){const nr=ar[rr.indices.bucket];let sr=ar[rr.indices.path];sr||(sr=""),Be=new Location(nr,sr),rr.postModify(Be);break}}if(Be==null)throw invalidUrl(Re);return Be}}class FailRequest{constructor(Re){this.promise_=Promise.reject(Re)}getPromise(){return this.promise_}cancel(Re=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(Ce,Re,je){let Be=1,De=null,Fe=null,Oe=!1,ke=0;function Me(){return ke===2}let Ue=!1;function $e(...Xe){Ue||(Ue=!0,Re.apply(null,Xe))}function He(Xe){De=setTimeout(()=>{De=null,Ce(We,Me())},Xe)}function Qe(){Fe&&clearTimeout(Fe)}function We(Xe,...Ye){if(Ue){Qe();return}if(Xe){Qe(),$e.call(null,Xe,...Ye);return}if(Me()||Oe){Qe(),$e.call(null,Xe,...Ye);return}Be<64&&(Be*=2);let Je;ke===1?(ke=2,Je=0):Je=(Be+Math.random())*1e3,He(Je)}let qe=!1;function Ke(Xe){qe||(qe=!0,Qe(),!Ue&&(De!==null?(Xe||(ke=2),clearTimeout(De),He(0)):Xe||(ke=1)))}return He(0),Fe=setTimeout(()=>{Oe=!0,Ke(!0)},je),Ke}function stop(Ce){Ce(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(Ce){return Ce!==void 0}function isNonArrayObject(Ce){return typeof Ce=="object"&&!Array.isArray(Ce)}function isString(Ce){return typeof Ce=="string"||Ce instanceof String}function isNativeBlob(Ce){return isNativeBlobDefined()&&Ce instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(Ce,Re,je,Be){if(Be<Re)throw invalidArgument$1(`Invalid value for '${Ce}'. Expected ${Re} or greater.`);if(Be>je)throw invalidArgument$1(`Invalid value for '${Ce}'. Expected ${je} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(Ce,Re,je){let Be=Re;return je==null&&(Be=`https://${Re}`),`${je}://${Be}/v0${Ce}`}function makeQueryString(Ce){const Re=encodeURIComponent;let je="?";for(const Be in Ce)if(Ce.hasOwnProperty(Be)){const De=Re(Be)+"="+Re(Ce[Be]);je=je+De+"&"}return je=je.slice(0,-1),je}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ErrorCode;(function(Ce){Ce[Ce.NO_ERROR=0]="NO_ERROR",Ce[Ce.NETWORK_ERROR=1]="NETWORK_ERROR",Ce[Ce.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(Ce,Re){const je=Ce>=500&&Ce<600,De=[408,429].indexOf(Ce)!==-1,Fe=Re.indexOf(Ce)!==-1;return je||De||Fe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(Re,je,Be,De,Fe,Oe,ke,Me,Ue,$e,He,Qe=!0){this.url_=Re,this.method_=je,this.headers_=Be,this.body_=De,this.successCodes_=Fe,this.additionalRetryCodes_=Oe,this.callback_=ke,this.errorCallback_=Me,this.timeout_=Ue,this.progressCallback_=$e,this.connectionFactory_=He,this.retry=Qe,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((We,qe)=>{this.resolve_=We,this.reject_=qe,this.start_()})}start_(){const Re=(Be,De)=>{if(De){Be(!1,new RequestEndStatus(!1,null,!0));return}const Fe=this.connectionFactory_();this.pendingConnection_=Fe;const Oe=ke=>{const Me=ke.loaded,Ue=ke.lengthComputable?ke.total:-1;this.progressCallback_!==null&&this.progressCallback_(Me,Ue)};this.progressCallback_!==null&&Fe.addUploadProgressListener(Oe),Fe.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&Fe.removeUploadProgressListener(Oe),this.pendingConnection_=null;const ke=Fe.getErrorCode()===ErrorCode.NO_ERROR,Me=Fe.getStatus();if(!ke||isRetryStatusCode(Me,this.additionalRetryCodes_)&&this.retry){const $e=Fe.getErrorCode()===ErrorCode.ABORT;Be(!1,new RequestEndStatus(!1,null,$e));return}const Ue=this.successCodes_.indexOf(Me)!==-1;Be(!0,new RequestEndStatus(Ue,Fe))})},je=(Be,De)=>{const Fe=this.resolve_,Oe=this.reject_,ke=De.connection;if(De.wasSuccessCode)try{const Me=this.callback_(ke,ke.getResponse());isJustDef(Me)?Fe(Me):Fe()}catch(Me){Oe(Me)}else if(ke!==null){const Me=unknown();Me.serverResponse=ke.getErrorText(),this.errorCallback_?Oe(this.errorCallback_(ke,Me)):Oe(Me)}else if(De.canceled){const Me=this.appDelete_?appDeleted():canceled();Oe(Me)}else{const Me=retryLimitExceeded();Oe(Me)}};this.canceled_?je(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(Re,je,this.timeout_)}getPromise(){return this.promise_}cancel(Re){this.canceled_=!0,this.appDelete_=Re||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(Re,je,Be){this.wasSuccessCode=Re,this.connection=je,this.canceled=!!Be}}function addAuthHeader_(Ce,Re){Re!==null&&Re.length>0&&(Ce.Authorization="Firebase "+Re)}function addVersionHeader_(Ce,Re){Ce["X-Firebase-Storage-Version"]="webjs/"+(Re??"AppManager")}function addGmpidHeader_(Ce,Re){Re&&(Ce["X-Firebase-GMPID"]=Re)}function addAppCheckHeader_(Ce,Re){Re!==null&&(Ce["X-Firebase-AppCheck"]=Re)}function makeRequest(Ce,Re,je,Be,De,Fe,Oe=!0){const ke=makeQueryString(Ce.urlParams),Me=Ce.url+ke,Ue=Object.assign({},Ce.headers);return addGmpidHeader_(Ue,Re),addAuthHeader_(Ue,je),addVersionHeader_(Ue,Fe),addAppCheckHeader_(Ue,Be),new NetworkRequest(Me,Ce.method,Ue,Ce.body,Ce.successCodes,Ce.additionalRetryCodes,Ce.handler,Ce.errorHandler,Ce.timeout,Ce.progressCallback,De,Oe)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...Ce){const Re=getBlobBuilder();if(Re!==void 0){const je=new Re;for(let Be=0;Be<Ce.length;Be++)je.append(Ce[Be]);return je.getBlob()}else{if(isNativeBlobDefined())return new Blob(Ce);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(Ce,Re,je){return Ce.webkitSlice?Ce.webkitSlice(Re,je):Ce.mozSlice?Ce.mozSlice(Re,je):Ce.slice?Ce.slice(Re,je):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(Ce){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(Ce)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(Re,je){this.data=Re,this.contentType=je||null}}function dataFromString(Ce,Re){switch(Ce){case StringFormat.RAW:return new StringData(utf8Bytes_(Re));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(Ce,Re));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(Re),dataURLContentType_(Re))}throw unknown()}function utf8Bytes_(Ce){const Re=[];for(let je=0;je<Ce.length;je++){let Be=Ce.charCodeAt(je);if(Be<=127)Re.push(Be);else if(Be<=2047)Re.push(192|Be>>6,128|Be&63);else if((Be&64512)===55296)if(!(je<Ce.length-1&&(Ce.charCodeAt(je+1)&64512)===56320))Re.push(239,191,189);else{const Fe=Be,Oe=Ce.charCodeAt(++je);Be=65536|(Fe&1023)<<10|Oe&1023,Re.push(240|Be>>18,128|Be>>12&63,128|Be>>6&63,128|Be&63)}else(Be&64512)===56320?Re.push(239,191,189):Re.push(224|Be>>12,128|Be>>6&63,128|Be&63)}return new Uint8Array(Re)}function percentEncodedBytes_(Ce){let Re;try{Re=decodeURIComponent(Ce)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(Re)}function base64Bytes_(Ce,Re){switch(Ce){case StringFormat.BASE64:{const De=Re.indexOf("-")!==-1,Fe=Re.indexOf("_")!==-1;if(De||Fe)throw invalidFormat(Ce,"Invalid character '"+(De?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const De=Re.indexOf("+")!==-1,Fe=Re.indexOf("/")!==-1;if(De||Fe)throw invalidFormat(Ce,"Invalid character '"+(De?"+":"/")+"' found: is it base64 encoded?");Re=Re.replace(/-/g,"+").replace(/_/g,"/");break}}let je;try{je=decodeBase64(Re)}catch(De){throw De.message.includes("polyfill")?De:invalidFormat(Ce,"Invalid character found")}const Be=new Uint8Array(je.length);for(let De=0;De<je.length;De++)Be[De]=je.charCodeAt(De);return Be}class DataURLParts{constructor(Re){this.base64=!1,this.contentType=null;const je=Re.match(/^data:([^,]+)?,/);if(je===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Be=je[1]||null;Be!=null&&(this.base64=endsWith(Be,";base64"),this.contentType=this.base64?Be.substring(0,Be.length-7):Be),this.rest=Re.substring(Re.indexOf(",")+1)}}function dataURLBytes_(Ce){const Re=new DataURLParts(Ce);return Re.base64?base64Bytes_(StringFormat.BASE64,Re.rest):percentEncodedBytes_(Re.rest)}function dataURLContentType_(Ce){return new DataURLParts(Ce).contentType}function endsWith(Ce,Re){return Ce.length>=Re.length?Ce.substring(Ce.length-Re.length)===Re:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(Re,je){let Be=0,De="";isNativeBlob(Re)?(this.data_=Re,Be=Re.size,De=Re.type):Re instanceof ArrayBuffer?(je?this.data_=new Uint8Array(Re):(this.data_=new Uint8Array(Re.byteLength),this.data_.set(new Uint8Array(Re))),Be=this.data_.length):Re instanceof Uint8Array&&(je?this.data_=Re:(this.data_=new Uint8Array(Re.length),this.data_.set(Re)),Be=Re.length),this.size_=Be,this.type_=De}size(){return this.size_}type(){return this.type_}slice(Re,je){if(isNativeBlob(this.data_)){const Be=this.data_,De=sliceBlob(Be,Re,je);return De===null?null:new FbsBlob(De)}else{const Be=new Uint8Array(this.data_.buffer,Re,je-Re);return new FbsBlob(Be,!0)}}static getBlob(...Re){if(isNativeBlobDefined()){const je=Re.map(Be=>Be instanceof FbsBlob?Be.data_:Be);return new FbsBlob(getBlob$1.apply(null,je))}else{const je=Re.map(Oe=>isString(Oe)?dataFromString(StringFormat.RAW,Oe).data:Oe.data_);let Be=0;je.forEach(Oe=>{Be+=Oe.byteLength});const De=new Uint8Array(Be);let Fe=0;return je.forEach(Oe=>{for(let ke=0;ke<Oe.length;ke++)De[Fe++]=Oe[ke]}),new FbsBlob(De,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(Ce){let Re;try{Re=JSON.parse(Ce)}catch{return null}return isNonArrayObject(Re)?Re:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(Ce){if(Ce.length===0)return null;const Re=Ce.lastIndexOf("/");return Re===-1?"":Ce.slice(0,Re)}function child(Ce,Re){const je=Re.split("/").filter(Be=>Be.length>0).join("/");return Ce.length===0?je:Ce+"/"+je}function lastComponent(Ce){const Re=Ce.lastIndexOf("/",Ce.length-2);return Re===-1?Ce:Ce.slice(Re+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(Ce,Re){return Re}class Mapping{constructor(Re,je,Be,De){this.server=Re,this.local=je||Re,this.writable=!!Be,this.xform=De||noXform_}}let mappings_=null;function xformPath(Ce){return!isString(Ce)||Ce.length<2?Ce:lastComponent(Ce)}function getMappings(){if(mappings_)return mappings_;const Ce=[];Ce.push(new Mapping("bucket")),Ce.push(new Mapping("generation")),Ce.push(new Mapping("metageneration")),Ce.push(new Mapping("name","fullPath",!0));function Re(Fe,Oe){return xformPath(Oe)}const je=new Mapping("name");je.xform=Re,Ce.push(je);function Be(Fe,Oe){return Oe!==void 0?Number(Oe):Oe}const De=new Mapping("size");return De.xform=Be,Ce.push(De),Ce.push(new Mapping("timeCreated")),Ce.push(new Mapping("updated")),Ce.push(new Mapping("md5Hash",null,!0)),Ce.push(new Mapping("cacheControl",null,!0)),Ce.push(new Mapping("contentDisposition",null,!0)),Ce.push(new Mapping("contentEncoding",null,!0)),Ce.push(new Mapping("contentLanguage",null,!0)),Ce.push(new Mapping("contentType",null,!0)),Ce.push(new Mapping("metadata","customMetadata",!0)),mappings_=Ce,mappings_}function addRef(Ce,Re){function je(){const Be=Ce.bucket,De=Ce.fullPath,Fe=new Location(Be,De);return Re._makeStorageReference(Fe)}Object.defineProperty(Ce,"ref",{get:je})}function fromResource(Ce,Re,je){const Be={};Be.type="file";const De=je.length;for(let Fe=0;Fe<De;Fe++){const Oe=je[Fe];Be[Oe.local]=Oe.xform(Be,Re[Oe.server])}return addRef(Be,Ce),Be}function fromResourceString(Ce,Re,je){const Be=jsonObjectOrNull(Re);return Be===null?null:fromResource(Ce,Be,je)}function downloadUrlFromResourceString(Ce,Re,je,Be){const De=jsonObjectOrNull(Re);if(De===null||!isString(De.downloadTokens))return null;const Fe=De.downloadTokens;if(Fe.length===0)return null;const Oe=encodeURIComponent;return Fe.split(",").map(Ue=>{const $e=Ce.bucket,He=Ce.fullPath,Qe="/b/"+Oe($e)+"/o/"+Oe(He),We=makeUrl(Qe,je,Be),qe=makeQueryString({alt:"media",token:Ue});return We+qe})[0]}function toResourceString(Ce,Re){const je={},Be=Re.length;for(let De=0;De<Be;De++){const Fe=Re[De];Fe.writable&&(je[Fe.server]=Ce[Fe.local])}return JSON.stringify(je)}class RequestInfo{constructor(Re,je,Be,De){this.url=Re,this.method=je,this.handler=Be,this.timeout=De,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(Ce){if(!Ce)throw unknown()}function metadataHandler(Ce,Re){function je(Be,De){const Fe=fromResourceString(Ce,De,Re);return handlerCheck(Fe!==null),Fe}return je}function downloadUrlHandler(Ce,Re){function je(Be,De){const Fe=fromResourceString(Ce,De,Re);return handlerCheck(Fe!==null),downloadUrlFromResourceString(Fe,De,Ce.host,Ce._protocol)}return je}function sharedErrorHandler(Ce){function Re(je,Be){let De;return je.getStatus()===401?je.getErrorText().includes("Firebase App Check token is invalid")?De=unauthorizedApp():De=unauthenticated():je.getStatus()===402?De=quotaExceeded(Ce.bucket):je.getStatus()===403?De=unauthorized(Ce.path):De=Be,De.status=je.getStatus(),De.serverResponse=Be.serverResponse,De}return Re}function objectErrorHandler(Ce){const Re=sharedErrorHandler(Ce);function je(Be,De){let Fe=Re(Be,De);return Be.getStatus()===404&&(Fe=objectNotFound(Ce.path)),Fe.serverResponse=De.serverResponse,Fe}return je}function getDownloadUrl(Ce,Re,je){const Be=Re.fullServerUrl(),De=makeUrl(Be,Ce.host,Ce._protocol),Fe="GET",Oe=Ce.maxOperationRetryTime,ke=new RequestInfo(De,Fe,downloadUrlHandler(Ce,je),Oe);return ke.errorHandler=objectErrorHandler(Re),ke}function determineContentType_(Ce,Re){return Ce&&Ce.contentType||Re&&Re.type()||"application/octet-stream"}function metadataForUpload_(Ce,Re,je){const Be=Object.assign({},je);return Be.fullPath=Ce.path,Be.size=Re.size(),Be.contentType||(Be.contentType=determineContentType_(null,Re)),Be}function multipartUpload(Ce,Re,je,Be,De){const Fe=Re.bucketOnlyServerUrl(),Oe={"X-Goog-Upload-Protocol":"multipart"};function ke(){let Je="";for(let tr=0;tr<2;tr++)Je=Je+Math.random().toString().slice(2);return Je}const Me=ke();Oe["Content-Type"]="multipart/related; boundary="+Me;const Ue=metadataForUpload_(Re,Be,De),$e=toResourceString(Ue,je),He="--"+Me+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+$e+`\r
--`+Me+`\r
Content-Type: `+Ue.contentType+`\r
\r
`,Qe=`\r
--`+Me+"--",We=FbsBlob.getBlob(He,Be,Qe);if(We===null)throw cannotSliceBlob();const qe={name:Ue.fullPath},Ke=makeUrl(Fe,Ce.host,Ce._protocol),Xe="POST",Ye=Ce.maxUploadRetryTime,Ze=new RequestInfo(Ke,Xe,metadataHandler(Ce,je),Ye);return Ze.urlParams=qe,Ze.headers=Oe,Ze.body=We.uploadData(),Ze.errorHandler=sharedErrorHandler(Re),Ze}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(Re=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,Re()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,Re()}),this.xhr_.addEventListener("load",()=>{Re()})})}send(Re,je,Be,De){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(je,Re,!0),De!==void 0)for(const Fe in De)De.hasOwnProperty(Fe)&&this.xhr_.setRequestHeader(Fe,De[Fe].toString());return Be!==void 0?this.xhr_.send(Be):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Re){return this.xhr_.getResponseHeader(Re)}addUploadProgressListener(Re){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",Re)}removeUploadProgressListener(Re){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",Re)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(Re,je){this._service=Re,je instanceof Location?this._location=je:this._location=Location.makeFromUrl(je,Re.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Re,je){return new Reference(Re,je)}get root(){const Re=new Location(this._location.bucket,"");return this._newRef(this._service,Re)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const Re=parent(this._location.path);if(Re===null)return null;const je=new Location(this._location.bucket,Re);return new Reference(this._service,je)}_throwIfRoot(Re){if(this._location.path==="")throw invalidRootOperation(Re)}}function uploadBytes$1(Ce,Re,je){Ce._throwIfRoot("uploadBytes");const Be=multipartUpload(Ce.storage,Ce._location,getMappings(),new FbsBlob(Re,!0),je);return Ce.storage.makeRequestWithTokens(Be,newTextConnection).then(De=>({metadata:De,ref:Ce}))}function getDownloadURL$1(Ce){Ce._throwIfRoot("getDownloadURL");const Re=getDownloadUrl(Ce.storage,Ce._location,getMappings());return Ce.storage.makeRequestWithTokens(Re,newTextConnection).then(je=>{if(je===null)throw noDownloadURL();return je})}function _getChild$1(Ce,Re){const je=child(Ce._location.path,Re),Be=new Location(Ce._location.bucket,je);return new Reference(Ce.storage,Be)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(Ce){return/^[A-Za-z]+:\/\//.test(Ce)}function refFromURL(Ce,Re){return new Reference(Ce,Re)}function refFromPath(Ce,Re){if(Ce instanceof FirebaseStorageImpl){const je=Ce;if(je._bucket==null)throw noDefaultBucket();const Be=new Reference(je,je._bucket);return Re!=null?refFromPath(Be,Re):Be}else return Re!==void 0?_getChild$1(Ce,Re):Ce}function ref$1(Ce,Re){if(Re&&isUrl(Re)){if(Ce instanceof FirebaseStorageImpl)return refFromURL(Ce,Re);throw invalidArgument$1("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(Ce,Re)}function extractBucket(Ce,Re){const je=Re?.[CONFIG_STORAGE_BUCKET_KEY];return je==null?null:Location.makeFromBucketSpec(je,Ce)}function connectStorageEmulator$1(Ce,Re,je,Be={}){Ce.host=`${Re}:${je}`,Ce._protocol="http";const{mockUserToken:De}=Be;De&&(Ce._overrideAuthToken=typeof De=="string"?De:createMockUserToken(De,Ce.app.options.projectId))}class FirebaseStorageImpl{constructor(Re,je,Be,De,Fe){this.app=Re,this._authProvider=je,this._appCheckProvider=Be,this._url=De,this._firebaseVersion=Fe,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,De!=null?this._bucket=Location.makeFromBucketSpec(De,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(Re){this._host=Re,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,Re):this._bucket=extractBucket(Re,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Re){validateNumber("time",0,Number.POSITIVE_INFINITY,Re),this._maxUploadRetryTime=Re}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Re){validateNumber("time",0,Number.POSITIVE_INFINITY,Re),this._maxOperationRetryTime=Re}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const Re=this._authProvider.getImmediate({optional:!0});if(Re){const je=await Re.getToken();if(je!==null)return je.accessToken}return null}async _getAppCheckToken(){const Re=this._appCheckProvider.getImmediate({optional:!0});return Re?(await Re.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Re=>Re.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Re){return new Reference(this,Re)}_makeRequest(Re,je,Be,De,Fe=!0){if(this._deleted)return new FailRequest(appDeleted());{const Oe=makeRequest(Re,this._appId,Be,De,je,this._firebaseVersion,Fe);return this._requests.add(Oe),Oe.getPromise().then(()=>this._requests.delete(Oe),()=>this._requests.delete(Oe)),Oe}}async makeRequestWithTokens(Re,je){const[Be,De]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(Re,je,Be,De).getPromise()}}const name$1="@firebase/storage",version$2="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(Ce,Re,je){return Ce=getModularInstance(Ce),uploadBytes$1(Ce,Re,je)}function getDownloadURL(Ce){return Ce=getModularInstance(Ce),getDownloadURL$1(Ce)}function ref(Ce,Re){return Ce=getModularInstance(Ce),ref$1(Ce,Re)}function getStorage(Ce=getApp(),Re){Ce=getModularInstance(Ce);const Be=_getProvider(Ce,STORAGE_TYPE).getImmediate({identifier:Re}),De=getDefaultEmulatorHostnameAndPort("storage");return De&&connectStorageEmulator(Be,...De),Be}function connectStorageEmulator(Ce,Re,je,Be={}){connectStorageEmulator$1(Ce,Re,je,Be)}function factory(Ce,{instanceIdentifier:Re}){const je=Ce.getProvider("app").getImmediate(),Be=Ce.getProvider("auth-internal"),De=Ce.getProvider("app-check-internal");return new FirebaseStorageImpl(je,Be,De,Re,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name$1,version$2,""),registerVersion(name$1,version$2,"esm2017")}registerStorage();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_TYPE="type.googleapis.com/google.protobuf.Int64Value",UNSIGNED_LONG_TYPE="type.googleapis.com/google.protobuf.UInt64Value";function mapValues(Ce,Re){const je={};for(const Be in Ce)Ce.hasOwnProperty(Be)&&(je[Be]=Re(Ce[Be]));return je}function encode(Ce){if(Ce==null)return null;if(Ce instanceof Number&&(Ce=Ce.valueOf()),typeof Ce=="number"&&isFinite(Ce)||Ce===!0||Ce===!1||Object.prototype.toString.call(Ce)==="[object String]")return Ce;if(Ce instanceof Date)return Ce.toISOString();if(Array.isArray(Ce))return Ce.map(Re=>encode(Re));if(typeof Ce=="function"||typeof Ce=="object")return mapValues(Ce,Re=>encode(Re));throw new Error("Data cannot be encoded in JSON: "+Ce)}function decode(Ce){if(Ce==null)return Ce;if(Ce["@type"])switch(Ce["@type"]){case LONG_TYPE:case UNSIGNED_LONG_TYPE:{const Re=Number(Ce.value);if(isNaN(Re))throw new Error("Data cannot be decoded from JSON: "+Ce);return Re}default:throw new Error("Data cannot be decoded from JSON: "+Ce)}return Array.isArray(Ce)?Ce.map(Re=>decode(Re)):typeof Ce=="function"||typeof Ce=="object"?mapValues(Ce,Re=>decode(Re)):Ce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FUNCTIONS_TYPE="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const errorCodeMap={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FunctionsError extends FirebaseError{constructor(Re,je,Be){super(`${FUNCTIONS_TYPE}/${Re}`,je||""),this.details=Be}}function codeForHTTPStatus(Ce){if(Ce>=200&&Ce<300)return"ok";switch(Ce){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function _errorForResponse(Ce,Re){let je=codeForHTTPStatus(Ce),Be=je,De;try{const Fe=Re&&Re.error;if(Fe){const Oe=Fe.status;if(typeof Oe=="string"){if(!errorCodeMap[Oe])return new FunctionsError("internal","internal");je=errorCodeMap[Oe],Be=Oe}const ke=Fe.message;typeof ke=="string"&&(Be=ke),De=Fe.details,De!==void 0&&(De=decode(De))}}catch{}return je==="ok"?null:new FunctionsError(je,Be,De)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ContextProvider{constructor(Re,je,Be){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=Re.getImmediate({optional:!0}),this.messaging=je.getImmediate({optional:!0}),this.auth||Re.get().then(De=>this.auth=De,()=>{}),this.messaging||je.get().then(De=>this.messaging=De,()=>{}),this.appCheck||Be.get().then(De=>this.appCheck=De,()=>{})}async getAuthToken(){if(this.auth)try{const Re=await this.auth.getToken();return Re?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(Re){if(this.appCheck){const je=Re?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return je.error?null:je.token}return null}async getContext(Re){const je=await this.getAuthToken(),Be=await this.getMessagingToken(),De=await this.getAppCheckToken(Re);return{authToken:je,messagingToken:Be,appCheckToken:De}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_REGION="us-central1";function failAfter(Ce){let Re=null;return{promise:new Promise((je,Be)=>{Re=setTimeout(()=>{Be(new FunctionsError("deadline-exceeded","deadline-exceeded"))},Ce)}),cancel:()=>{Re&&clearTimeout(Re)}}}class FunctionsService{constructor(Re,je,Be,De,Fe=DEFAULT_REGION,Oe){this.app=Re,this.fetchImpl=Oe,this.emulatorOrigin=null,this.contextProvider=new ContextProvider(je,Be,De),this.cancelAllRequests=new Promise(ke=>{this.deleteService=()=>Promise.resolve(ke())});try{const ke=new URL(Fe);this.customDomain=ke.origin,this.region=DEFAULT_REGION}catch{this.customDomain=null,this.region=Fe}}_delete(){return this.deleteService()}_url(Re){const je=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${je}/${this.region}/${Re}`:this.customDomain!==null?`${this.customDomain}/${Re}`:`https://${this.region}-${je}.cloudfunctions.net/${Re}`}}function connectFunctionsEmulator$1(Ce,Re,je){Ce.emulatorOrigin=`http://${Re}:${je}`}function httpsCallable$1(Ce,Re,je){return(Be=>call(Ce,Re,Be,{}))}async function postJSON(Ce,Re,je,Be){je["Content-Type"]="application/json";let De;try{De=await Be(Ce,{method:"POST",body:JSON.stringify(Re),headers:je})}catch{return{status:0,json:null}}let Fe=null;try{Fe=await De.json()}catch{}return{status:De.status,json:Fe}}function call(Ce,Re,je,Be){const De=Ce._url(Re);return callAtURL(Ce,De,je,Be)}async function callAtURL(Ce,Re,je,Be){je=encode(je);const De={data:je},Fe={},Oe=await Ce.contextProvider.getContext(Be.limitedUseAppCheckTokens);Oe.authToken&&(Fe.Authorization="Bearer "+Oe.authToken),Oe.messagingToken&&(Fe["Firebase-Instance-ID-Token"]=Oe.messagingToken),Oe.appCheckToken!==null&&(Fe["X-Firebase-AppCheck"]=Oe.appCheckToken);const ke=Be.timeout||7e4,Me=failAfter(ke),Ue=await Promise.race([postJSON(Re,De,Fe,Ce.fetchImpl),Me.promise,Ce.cancelAllRequests]);if(Me.cancel(),!Ue)throw new FunctionsError("cancelled","Firebase Functions instance was deleted.");const $e=_errorForResponse(Ue.status,Ue.json);if($e)throw $e;if(!Ue.json)throw new FunctionsError("internal","Response is not valid JSON object.");let He=Ue.json.data;if(typeof He>"u"&&(He=Ue.json.result),typeof He>"u")throw new FunctionsError("internal","Response is missing data field.");return{data:decode(He)}}const name="@firebase/functions",version$1="0.11.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AUTH_INTERNAL_NAME="auth-internal",APP_CHECK_INTERNAL_NAME="app-check-internal",MESSAGING_INTERNAL_NAME="messaging-internal";function registerFunctions(Ce,Re){const je=(Be,{instanceIdentifier:De})=>{const Fe=Be.getProvider("app").getImmediate(),Oe=Be.getProvider(AUTH_INTERNAL_NAME),ke=Be.getProvider(MESSAGING_INTERNAL_NAME),Me=Be.getProvider(APP_CHECK_INTERNAL_NAME);return new FunctionsService(Fe,Oe,ke,Me,De,Ce)};_registerComponent(new Component(FUNCTIONS_TYPE,je,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version$1,Re),registerVersion(name,version$1,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getFunctions(Ce=getApp(),Re=DEFAULT_REGION){const Be=_getProvider(getModularInstance(Ce),FUNCTIONS_TYPE).getImmediate({identifier:Re}),De=getDefaultEmulatorHostnameAndPort("functions");return De&&connectFunctionsEmulator(Be,...De),Be}function connectFunctionsEmulator(Ce,Re,je){connectFunctionsEmulator$1(getModularInstance(Ce),Re,je)}function httpsCallable(Ce,Re,je){return httpsCallable$1(getModularInstance(Ce),Re)}registerFunctions(fetch.bind(self));const __vite_import_meta_env__$1={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_REACT_APP_OCR_FUNCTION_URL:"https://ocrfromimage-rg2uh6cnqq-el.a.run.app"},firebaseConfig={apiKey:"AIzaSyBPkkXZWll0VifG5kb0DDSsoV5UB-n5pFE",authDomain:"stockpilotv1.firebaseapp.com",databaseURL:"https://stockpilotv1-default-rtdb.firebaseio.com",projectId:"stockpilotv1",storageBucket:"stockpilotv1.firebasestorage.app",messagingSenderId:"30934537475",appId:"1:30934537475:web:84a2f76609dbb1db290536",measurementId:"G-SENFJ2HSBW"},app=initializeApp(firebaseConfig);typeof window<"u"&&__vite_import_meta_env__$1?.VITE_ENABLE_APPCHECK==="true"&&(async()=>{try{const{initializeAppCheck:Ce,ReCaptchaV3Provider:Re}=await __vitePreload(async()=>{const{initializeAppCheck:Be,ReCaptchaV3Provider:De}=await import("./index.esm-BlQUtO-8.js");return{initializeAppCheck:Be,ReCaptchaV3Provider:De}},[],import.meta.url),je=__vite_import_meta_env__$1?.VITE_RECAPTCHA_V3_SITE_KEY;if(!je){console.warn("[AppCheck] VITE_RECAPTCHA_V3_SITE_KEY missing; skipping App Check init.");return}Ce(app,{provider:new Re(je),isTokenAutoRefreshEnabled:!0}),console.info("[AppCheck] Initialized with reCAPTCHA v3")}catch(Ce){console.warn("App Check init skipped:",Ce?.message||Ce)}})();const auth$2=getAuth(app),db$2=getFirestore(app),storage=getStorage(app),functions=getFunctions(app,"asia-south1"),debounce$4=(Ce,Re)=>{let je;return(...Be)=>{je&&clearTimeout(je),je=setTimeout(()=>Ce(...Be),Re)}},generateCustId=()=>`CUST-${Math.floor(1e3+Math.random()*9e3)}`,CustomerForm=({customer:Ce,onChange:Re,userId:je})=>{const[Be,De]=reactExports.useState([]),[Fe,Oe]=reactExports.useState(!1),ke=async He=>{if(!je||!He)return;const Qe=collection(db$2,"businesses",je,"customers"),We=await getDocs(Qe),qe=[],Ke=He.toLowerCase();We.forEach(Ye=>{const Ze=Ye.data();(Ze.name&&Ze.name.toLowerCase().includes(Ke)||Ze.phone&&Ze.phone.includes(He))&&qe.push({id:Ye.id,...Ze})}),De(qe),Oe(!0)},Me=reactExports.useCallback(debounce$4(He=>ke(He),300),[]),Ue=async He=>{const{name:Qe,value:We}=He.target;Qe==="name"&&(We.length>1?Me(We):(De([]),Oe(!1))),Re(qe=>({...qe,[Qe]:We,custId:qe?.custId||generateCustId()}))},$e=He=>{De([]),Oe(!1),Re({...He,custId:He?.custId||generateCustId()})};return jsxRuntimeExports.jsx("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-md mb-6 space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1 relative",htmlFor:"name",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Customer Name"}),jsxRuntimeExports.jsx("input",{id:"name",type:"text",name:"name",value:Ce?.name||"",onChange:Ue,placeholder:"Enter customer name",className:"border p-2 rounded",autoComplete:"off",onBlur:()=>setTimeout(()=>Oe(!1),150),onFocus:()=>{Be.length>0&&Oe(!0)}}),Fe&&Be.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-2 border p-2 bg-gray-50 rounded",children:[jsxRuntimeExports.jsx("div",{className:"font-medium mb-1",children:"Select Customer"}),jsxRuntimeExports.jsx("ul",{className:"border rounded bg-white shadow max-h-40 overflow-y-auto z-10 w-full",children:Be.map(He=>jsxRuntimeExports.jsxs("li",{onClick:()=>$e(He),className:"p-2 hover:bg-gray-100 cursor-pointer border-b flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold text-base",children:[" ",He.name," ",jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:[" ",He.custId]})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[" ",He.phone||"No Phone","   ",He.address||"No Address"]})]},He.custId||He.id))})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",htmlFor:"phone",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{id:"phone",type:"tel",name:"phone",value:Ce?.phone||"",onChange:Ue,placeholder:"Enter phone number",className:"border p-2 rounded"})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",htmlFor:"email",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Email Address"}),jsxRuntimeExports.jsx("input",{id:"email",type:"email",name:"email",value:Ce?.email||"",onChange:Ue,placeholder:"Enter email address",className:"border p-2 rounded"})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",htmlFor:"address",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Customer Address"}),jsxRuntimeExports.jsx("input",{id:"address",type:"text",name:"address",value:Ce?.address||"",onChange:Ue,placeholder:"Enter customer address",className:"border p-2 rounded"})]})]})})},BillingCart=({selectedProducts:Ce=[],onUpdateCart:Re,settings:je})=>{const[Be,De]=reactExports.useState([]),{includeGST:Fe,gstRate:Oe,enableCGST:ke,enableSGST:Me,enableIGST:Ue,includeCGST:$e,includeSGST:He,includeIGST:Qe,cgstRate:We,sgstRate:qe,igstRate:Ke}=je||{},Xe=()=>{De([...Be,{id:"manual",name:"",sku:"",brand:"",category:"",unit:"",quantity:1,price:0,discount:0}])},Ye=(nr,sr,dr)=>{const _r=[...Be];_r[nr][sr]=sr==="quantity"||sr==="price"||sr==="discount"?parseFloat(dr)||0:dr,De(_r)},Ze=nr=>{const sr=[...Be];sr.splice(nr,1),De(sr)},Je=nr=>((nr.price-nr.price*nr.discount/100)*nr.quantity).toFixed(2),tr=Be.reduce((nr,sr)=>nr+(sr.price-sr.price*sr.discount/100)*sr.quantity,0),rr=(Fe&&Oe?tr*Oe/100:0)+($e&&We?tr*We/100:0)+(He&&qe?tr*qe/100:0)+(Qe&&Ke?tr*Ke/100:0),ar=tr+rr;return reactExports.useEffect(()=>{const nr=Ce.filter(sr=>!Be.some(dr=>dr.sku===sr.sku)).map(sr=>({id:sr.id,name:sr.productName||"",sku:sr.sku||"",brand:sr.brand||"",category:sr.category||"",unit:sr.unit||"",quantity:1,price:sr.sellingPrice||0,discount:0}));nr.length>0&&De(sr=>[...sr,...nr])},[Ce]),reactExports.useEffect(()=>{if(console.log("Updated Cart Items:",Be),Re&&Be.length>0){const nr={gst:Fe&&Oe?tr*Oe/100:0,cgst:$e&&We?tr*We/100:0,sgst:He&&qe?tr*qe/100:0,igst:Qe&&Ke?tr*Ke/100:0};Re(Be,{subtotal:tr,taxBreakdown:nr,finalTotal:ar})}},[Be]),jsxRuntimeExports.jsxs("div",{className:"space-y-6 px-4 pt-4 md:px-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("button",{onClick:Xe,className:"bg-green-600 text-white px-4 py-2 rounded shadow",children:"+ Add Item"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border border-gray-300 text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100 text-left",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Discount (%)"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Subtotal"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:Be.map((nr,sr)=>jsxRuntimeExports.jsxs("tr",{className:"border-t",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:nr.name||"",onChange:dr=>Ye(sr,"name",dr.target.value),className:"w-full border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:nr.sku||"",onChange:dr=>Ye(sr,"sku",dr.target.value),className:"w-full border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:nr.brand||"",onChange:dr=>Ye(sr,"brand",dr.target.value),className:"w-full border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:nr.category||"",onChange:dr=>Ye(sr,"category",dr.target.value),className:"w-full border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:nr.unit||"",onChange:dr=>Ye(sr,"unit",dr.target.value),className:"w-full border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",value:nr.quantity||0,onChange:dr=>Ye(sr,"quantity",dr.target.value),className:"w-16 border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",value:nr.price||0,onChange:dr=>Ye(sr,"price",dr.target.value),className:"w-20 border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",value:nr.discount||0,onChange:dr=>Ye(sr,"discount",dr.target.value),className:"w-20 border px-2 py-1 rounded"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:Je(nr)}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>Ze(sr),className:"text-red-600 hover:underline",children:"Remove"})})]},sr))})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 text-right space-y-2 border-t pt-4 text-sm md:text-base",children:[jsxRuntimeExports.jsxs("p",{children:["Total Items: ",Be.length]}),jsxRuntimeExports.jsxs("p",{children:["Total Quantity: ",Be.reduce((nr,sr)=>nr+sr.quantity,0)]}),jsxRuntimeExports.jsxs("p",{children:["Total Before Discount: ",Be.reduce((nr,sr)=>nr+sr.price*sr.quantity,0).toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:["Total Discount: ",Be.reduce((nr,sr)=>nr+sr.price*sr.discount*sr.quantity/100,0).toFixed(2)]}),Fe&&Oe>0&&jsxRuntimeExports.jsxs("p",{children:["GST (",Oe,"%): ",(tr*Oe/100).toFixed(2)]}),$e&&We>0&&jsxRuntimeExports.jsxs("p",{children:["CGST (",We,"%): ",(tr*We/100).toFixed(2)]}),He&&qe>0&&jsxRuntimeExports.jsxs("p",{children:["SGST (",qe,"%): ",(tr*qe/100).toFixed(2)]}),Qe&&Ke>0&&jsxRuntimeExports.jsxs("p",{children:["IGST (",Ke,"%): ",(tr*Ke/100).toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"font-semibold text-lg",children:["Final Total: ",ar.toFixed(2)]})]})]})},InvoiceSettings=({settings:Ce,onChange:Re})=>{const je=Be=>{const{name:De,type:Fe,checked:Oe,value:ke}=Be.target;let Me=ke;Fe==="number"&&(Me=parseFloat(ke||0)),Re({...Ce,[De]:Fe==="checkbox"?Oe:Me})};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-md space-y-6 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Invoice Settings"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"includeGST",checked:Ce.includeGST,onChange:je}),"Include GST",Ce.includeGST&&jsxRuntimeExports.jsx("input",{type:"number",name:"gstRate",value:Ce.gstRate||"",onChange:je,className:"border px-2 py-1 rounded w-20",placeholder:"% GST"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"includeCGST",checked:Ce.includeCGST,onChange:je}),"Include CGST",Ce.includeCGST&&jsxRuntimeExports.jsx("input",{type:"number",name:"cgstRate",value:Ce.cgstRate||"",onChange:je,className:"border px-2 py-1 rounded w-20",placeholder:"% CGST"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"includeSGST",checked:Ce.includeSGST,onChange:je}),"Include SGST",Ce.includeSGST&&jsxRuntimeExports.jsx("input",{type:"number",name:"sgstRate",value:Ce.sgstRate||"",onChange:je,className:"border px-2 py-1 rounded w-20",placeholder:"% SGST"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"includeIGST",checked:Ce.includeIGST,onChange:je}),"Include IGST",Ce.includeIGST&&jsxRuntimeExports.jsx("input",{type:"number",name:"igstRate",value:Ce.igstRate||"",onChange:je,className:"border px-2 py-1 rounded w-20",placeholder:"% IGST"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Invoice Type"}),jsxRuntimeExports.jsxs("select",{name:"invoiceType",value:Ce.invoiceType,onChange:je,className:"border px-3 py-2 rounded",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Invoice Type"}),jsxRuntimeExports.jsx("option",{value:"retail",children:"Retail"}),jsxRuntimeExports.jsx("option",{value:"tax",children:"Tax"}),jsxRuntimeExports.jsx("option",{value:"quote",children:"Quote"}),jsxRuntimeExports.jsx("option",{value:"estimation",children:"Estimation"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Payment Mode"}),jsxRuntimeExports.jsxs("select",{name:"paymentMode",value:Ce.paymentMode,onChange:je,className:"border px-3 py-2 rounded",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Payment Mode"}),jsxRuntimeExports.jsx("option",{value:"cash",children:"Cash"}),jsxRuntimeExports.jsx("option",{value:"upi",children:"UPI"}),jsxRuntimeExports.jsx("option",{value:"card",children:"Card"}),jsxRuntimeExports.jsx("option",{value:"split",children:"Split"}),jsxRuntimeExports.jsx("option",{value:"credit",children:"Credit"}),jsxRuntimeExports.jsx("option",{value:"advance",children:"Advance"})]})]}),Ce.paymentMode==="split"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Cash Amount"}),jsxRuntimeExports.jsx("input",{type:"number",name:"splitCash",value:Ce.splitPayment?.cash||"",onChange:Be=>Re({...Ce,splitPayment:{...Ce.splitPayment,cash:parseFloat(Be.target.value||0)}}),className:"border px-3 py-2 rounded",placeholder:""})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"UPI Amount"}),jsxRuntimeExports.jsx("input",{type:"number",name:"splitUPI",value:Ce.splitPayment?.upi||"",onChange:Be=>Re({...Ce,splitPayment:{...Ce.splitPayment,upi:parseFloat(Be.target.value||0)}}),className:"border px-3 py-2 rounded",placeholder:""})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Card Amount"}),jsxRuntimeExports.jsx("input",{type:"number",name:"splitCard",value:Ce.splitPayment?.card||"",onChange:Be=>Re({...Ce,splitPayment:{...Ce.splitPayment,card:parseFloat(Be.target.value||0)}}),className:"border px-3 py-2 rounded",placeholder:""})]})]}),Ce.paymentMode==="credit"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Credit Due Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"creditDueDate",value:Ce.creditDueDate||"",onChange:je,className:"border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Credit Note"}),jsxRuntimeExports.jsx("input",{type:"text",name:"creditNote",value:Ce.creditNote||"",onChange:je,className:"border px-3 py-2 rounded",placeholder:"Optional note or reference"})]})]}),Ce.paymentMode==="advance"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Advance Paid"}),jsxRuntimeExports.jsx("input",{type:"number",name:"advancePaid",value:Ce.advancePaid||"",onChange:je,className:"border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium",children:"Expected Payment Completion Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"advanceDueDate",value:Ce.advanceDueDate||"",onChange:je,className:"border px-3 py-2 rounded"})]})]})]})]})},ProductSearch=({onSelect:Ce})=>{const[Re,je]=reactExports.useState(""),[Be,De]=reactExports.useState([]),[Fe,Oe]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{try{const Me=auth$2.currentUser?.uid;if(!Me)return;const $e=(await getDocs(collection(db$2,"businesses",Me,"products"))).docs.map(He=>({id:He.id,...He.data()}));Oe($e)}catch(Me){console.error("Failed to load inventory:",Me)}})()},[]),reactExports.useEffect(()=>{const ke=Re.toLowerCase(),Me=Fe.filter(Ue=>Ue.productName?.toLowerCase().includes(ke)||Ue.sku?.toLowerCase().includes(ke)||Ue.brand?.toLowerCase().includes(ke)||Ue.category?.toLowerCase().includes(ke));De(ke?Me:[])},[Re,Fe]),jsxRuntimeExports.jsxs("div",{className:"relative mb-6 px-4 md:px-0",children:[jsxRuntimeExports.jsx("input",{type:"text",value:Re,onChange:ke=>je(ke.target.value),placeholder:"Search product by name, SKU, brand, category...",className:"border w-full px-4 py-2 rounded-lg shadow-sm text-sm md:text-base"}),Be.length>0&&jsxRuntimeExports.jsx("ul",{className:"absolute bg-white border w-full mt-2 max-h-64 overflow-y-auto z-20 rounded-lg shadow-lg",children:Be.map(ke=>jsxRuntimeExports.jsxs("li",{onClick:()=>{Ce(ke),je(""),De([])},className:"p-3 hover:bg-blue-100 cursor-pointer flex items-center gap-4 border-b",children:[ke.imageUrl&&jsxRuntimeExports.jsx("img",{src:ke.imageUrl,alt:ke.productName,className:"w-10 h-10 object-cover rounded"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:ke.productName}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:["SKU: ",ke.sku||"N/A"," | Brand: ",ke.brand||"N/A"," | Category: ",ke.category||"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:["Selling Price: ",ke.sellingPrice||"0.00"]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:["Unit: ",ke.unit||"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-green-600",children:["In Stock: ",ke.quantity]})]})]},ke.id))})]})};var html2pdf$1={exports:{}};function _typeof(Ce){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},_typeof(Ce)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(Ce,Re){for(var je=new u16(31),Be=0;Be<31;++Be)je[Be]=Re+=1<<Ce[Be-1];for(var De=new i32(je[30]),Be=1;Be<30;++Be)for(var Fe=je[Be];Fe<je[Be+1];++Fe)De[Fe]=Fe-je[Be]<<5|Be;return{b:je,r:De}},_a$1=freb(fleb,2),fl=_a$1.b,revfl=_a$1.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i$3=0;i$3<32768;++i$3){var x$3=(i$3&43690)>>1|(i$3&21845)<<1;x$3=(x$3&52428)>>2|(x$3&13107)<<2,x$3=(x$3&61680)>>4|(x$3&3855)<<4,rev[i$3]=((x$3&65280)>>8|(x$3&255)<<8)>>1}var hMap=(function(Ce,Re,je){for(var Be=Ce.length,De=0,Fe=new u16(Re);De<Be;++De)Ce[De]&&++Fe[Ce[De]-1];var Oe=new u16(Re);for(De=1;De<Re;++De)Oe[De]=Oe[De-1]+Fe[De-1]<<1;var ke;if(je){ke=new u16(1<<Re);var Me=15-Re;for(De=0;De<Be;++De)if(Ce[De])for(var Ue=De<<4|Ce[De],$e=Re-Ce[De],He=Oe[Ce[De]-1]++<<$e,Qe=He|(1<<$e)-1;He<=Qe;++He)ke[rev[He]>>Me]=Ue}else for(ke=new u16(Be),De=0;De<Be;++De)Ce[De]&&(ke[De]=rev[Oe[Ce[De]-1]++]>>15-Ce[De]);return ke}),flt=new u8(288);for(var i$3=0;i$3<144;++i$3)flt[i$3]=8;for(var i$3=144;i$3<256;++i$3)flt[i$3]=9;for(var i$3=256;i$3<280;++i$3)flt[i$3]=7;for(var i$3=280;i$3<288;++i$3)flt[i$3]=8;var fdt=new u8(32);for(var i$3=0;i$3<32;++i$3)fdt[i$3]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max$2=function(Ce){for(var Re=Ce[0],je=1;je<Ce.length;++je)Ce[je]>Re&&(Re=Ce[je]);return Re},bits=function(Ce,Re,je){var Be=Re/8|0;return(Ce[Be]|Ce[Be+1]<<8)>>(Re&7)&je},bits16=function(Ce,Re){var je=Re/8|0;return(Ce[je]|Ce[je+1]<<8|Ce[je+2]<<16)>>(Re&7)},shft=function(Ce){return(Ce+7)/8|0},slc=function(Ce,Re,je){return(je==null||je>Ce.length)&&(je=Ce.length),new u8(Ce.subarray(Re,je))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(Ce,Re,je){var Be=new Error(Re||ec[Ce]);if(Be.code=Ce,Error.captureStackTrace&&Error.captureStackTrace(Be,err),!je)throw Be;return Be},inflt=function(Ce,Re,je,Be){var De=Ce.length,Fe=0;if(!De||Re.f&&!Re.l)return je||new u8(0);var Oe=!je,ke=Oe||Re.i!=2,Me=Re.i;Oe&&(je=new u8(De*3));var Ue=function(An){var an=je.length;if(An>an){var bn=new u8(Math.max(an*2,An));bn.set(je),je=bn}},$e=Re.f||0,He=Re.p||0,Qe=Re.b||0,We=Re.l,qe=Re.d,Ke=Re.m,Xe=Re.n,Ye=De*8;do{if(!We){$e=bits(Ce,He,1);var Ze=bits(Ce,He+1,3);if(He+=3,Ze)if(Ze==1)We=flrm,qe=fdrm,Ke=9,Xe=5;else if(Ze==2){var ar=bits(Ce,He,31)+257,nr=bits(Ce,He+10,15)+4,sr=ar+bits(Ce,He+5,31)+1;He+=14;for(var dr=new u8(sr),_r=new u8(19),fr=0;fr<nr;++fr)_r[clim[fr]]=bits(Ce,He+fr*3,7);He+=nr*3;for(var or=max$2(_r),Er=(1<<or)-1,Rr=hMap(_r,or,1),fr=0;fr<sr;){var jr=Rr[bits(Ce,He,Er)];He+=jr&15;var Je=jr>>4;if(Je<16)dr[fr++]=Je;else{var xr=0,Pr=0;for(Je==16?(Pr=3+bits(Ce,He,3),He+=2,xr=dr[fr-1]):Je==17?(Pr=3+bits(Ce,He,7),He+=3):Je==18&&(Pr=11+bits(Ce,He,127),He+=7);Pr--;)dr[fr++]=xr}}var br=dr.subarray(0,ar),wr=dr.subarray(ar);Ke=max$2(br),Xe=max$2(wr),We=hMap(br,Ke,1),qe=hMap(wr,Xe,1)}else err(1);else{var Je=shft(He)+4,tr=Ce[Je-4]|Ce[Je-3]<<8,rr=Je+tr;if(rr>De){Me&&err(0);break}ke&&Ue(Qe+tr),je.set(Ce.subarray(Je,rr),Qe),Re.b=Qe+=tr,Re.p=He=rr*8,Re.f=$e;continue}if(He>Ye){Me&&err(0);break}}ke&&Ue(Qe+131072);for(var Br=(1<<Ke)-1,Lr=(1<<Xe)-1,yr=He;;yr=He){var xr=We[bits16(Ce,He)&Br],vr=xr>>4;if(He+=xr&15,He>Ye){Me&&err(0);break}if(xr||err(2),vr<256)je[Qe++]=vr;else if(vr==256){yr=He,We=null;break}else{var Tr=vr-254;if(vr>264){var fr=vr-257,Or=fleb[fr];Tr=bits(Ce,He,(1<<Or)-1)+fl[fr],He+=Or}var Nr=qe[bits16(Ce,He)&Lr],Hr=Nr>>4;Nr||err(3),He+=Nr&15;var wr=fd[Hr];if(Hr>3){var Or=fdeb[Hr];wr+=bits16(Ce,He)&(1<<Or)-1,He+=Or}if(He>Ye){Me&&err(0);break}ke&&Ue(Qe+131072);var Wr=Qe+Tr;if(Qe<wr){var qr=Fe-wr,Jr=Math.min(wr,Wr);for(qr+Qe<0&&err(3);Qe<Jr;++Qe)je[Qe]=Be[qr+Qe]}for(;Qe<Wr;++Qe)je[Qe]=je[Qe-wr]}}Re.l=We,Re.p=yr,Re.b=Qe,Re.f=$e,We&&($e=1,Re.m=Ke,Re.d=qe,Re.n=Xe)}while(!$e);return Qe!=je.length&&Oe?slc(je,0,Qe):je.subarray(0,Qe)},wbits=function(Ce,Re,je){je<<=Re&7;var Be=Re/8|0;Ce[Be]|=je,Ce[Be+1]|=je>>8},wbits16=function(Ce,Re,je){je<<=Re&7;var Be=Re/8|0;Ce[Be]|=je,Ce[Be+1]|=je>>8,Ce[Be+2]|=je>>16},hTree=function(Ce,Re){for(var je=[],Be=0;Be<Ce.length;++Be)Ce[Be]&&je.push({s:Be,f:Ce[Be]});var De=je.length,Fe=je.slice();if(!De)return{t:et$1,l:0};if(De==1){var Oe=new u8(je[0].s+1);return Oe[je[0].s]=1,{t:Oe,l:1}}je.sort(function(rr,ar){return rr.f-ar.f}),je.push({s:-1,f:25001});var ke=je[0],Me=je[1],Ue=0,$e=1,He=2;for(je[0]={s:-1,f:ke.f+Me.f,l:ke,r:Me};$e!=De-1;)ke=je[je[Ue].f<je[He].f?Ue++:He++],Me=je[Ue!=$e&&je[Ue].f<je[He].f?Ue++:He++],je[$e++]={s:-1,f:ke.f+Me.f,l:ke,r:Me};for(var Qe=Fe[0].s,Be=1;Be<De;++Be)Fe[Be].s>Qe&&(Qe=Fe[Be].s);var We=new u16(Qe+1),qe=ln$1(je[$e-1],We,0);if(qe>Re){var Be=0,Ke=0,Xe=qe-Re,Ye=1<<Xe;for(Fe.sort(function(ar,nr){return We[nr.s]-We[ar.s]||ar.f-nr.f});Be<De;++Be){var Ze=Fe[Be].s;if(We[Ze]>Re)Ke+=Ye-(1<<qe-We[Ze]),We[Ze]=Re;else break}for(Ke>>=Xe;Ke>0;){var Je=Fe[Be].s;We[Je]<Re?Ke-=1<<Re-We[Je]++-1:++Be}for(;Be>=0&&Ke;--Be){var tr=Fe[Be].s;We[tr]==Re&&(--We[tr],++Ke)}qe=Re}return{t:new u8(We),l:qe}},ln$1=function(Ce,Re,je){return Ce.s==-1?Math.max(ln$1(Ce.l,Re,je+1),ln$1(Ce.r,Re,je+1)):Re[Ce.s]=je},lc=function(Ce){for(var Re=Ce.length;Re&&!Ce[--Re];);for(var je=new u16(++Re),Be=0,De=Ce[0],Fe=1,Oe=function(Me){je[Be++]=Me},ke=1;ke<=Re;++ke)if(Ce[ke]==De&&ke!=Re)++Fe;else{if(!De&&Fe>2){for(;Fe>138;Fe-=138)Oe(32754);Fe>2&&(Oe(Fe>10?Fe-11<<5|28690:Fe-3<<5|12305),Fe=0)}else if(Fe>3){for(Oe(De),--Fe;Fe>6;Fe-=6)Oe(8304);Fe>2&&(Oe(Fe-3<<5|8208),Fe=0)}for(;Fe--;)Oe(De);Fe=1,De=Ce[ke]}return{c:je.subarray(0,Be),n:Re}},clen=function(Ce,Re){for(var je=0,Be=0;Be<Re.length;++Be)je+=Ce[Be]*Re[Be];return je},wfblk=function(Ce,Re,je){var Be=je.length,De=shft(Re+2);Ce[De]=Be&255,Ce[De+1]=Be>>8,Ce[De+2]=Ce[De]^255,Ce[De+3]=Ce[De+1]^255;for(var Fe=0;Fe<Be;++Fe)Ce[De+Fe+4]=je[Fe];return(De+4+Be)*8},wblk=function(Ce,Re,je,Be,De,Fe,Oe,ke,Me,Ue,$e){wbits(Re,$e++,je),++De[256];for(var He=hTree(De,15),Qe=He.t,We=He.l,qe=hTree(Fe,15),Ke=qe.t,Xe=qe.l,Ye=lc(Qe),Ze=Ye.c,Je=Ye.n,tr=lc(Ke),rr=tr.c,ar=tr.n,nr=new u16(19),sr=0;sr<Ze.length;++sr)++nr[Ze[sr]&31];for(var sr=0;sr<rr.length;++sr)++nr[rr[sr]&31];for(var dr=hTree(nr,7),_r=dr.t,fr=dr.l,or=19;or>4&&!_r[clim[or-1]];--or);var Er=Ue+5<<3,Rr=clen(De,flt)+clen(Fe,fdt)+Oe,jr=clen(De,Qe)+clen(Fe,Ke)+Oe+14+3*or+clen(nr,_r)+2*nr[16]+3*nr[17]+7*nr[18];if(Me>=0&&Er<=Rr&&Er<=jr)return wfblk(Re,$e,Ce.subarray(Me,Me+Ue));var xr,Pr,br,wr;if(wbits(Re,$e,1+(jr<Rr)),$e+=2,jr<Rr){xr=hMap(Qe,We,0),Pr=Qe,br=hMap(Ke,Xe,0),wr=Ke;var Br=hMap(_r,fr,0);wbits(Re,$e,Je-257),wbits(Re,$e+5,ar-1),wbits(Re,$e+10,or-4),$e+=14;for(var sr=0;sr<or;++sr)wbits(Re,$e+3*sr,_r[clim[sr]]);$e+=3*or;for(var Lr=[Ze,rr],yr=0;yr<2;++yr)for(var vr=Lr[yr],sr=0;sr<vr.length;++sr){var Tr=vr[sr]&31;wbits(Re,$e,Br[Tr]),$e+=_r[Tr],Tr>15&&(wbits(Re,$e,vr[sr]>>5&127),$e+=vr[sr]>>12)}}else xr=flm,Pr=flt,br=fdm,wr=fdt;for(var sr=0;sr<ke;++sr){var Or=Be[sr];if(Or>255){var Tr=Or>>18&31;wbits16(Re,$e,xr[Tr+257]),$e+=Pr[Tr+257],Tr>7&&(wbits(Re,$e,Or>>23&31),$e+=fleb[Tr]);var Nr=Or&31;wbits16(Re,$e,br[Nr]),$e+=wr[Nr],Nr>3&&(wbits16(Re,$e,Or>>5&8191),$e+=fdeb[Nr])}else wbits16(Re,$e,xr[Or]),$e+=Pr[Or]}return wbits16(Re,$e,xr[256]),$e+Pr[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(Ce,Re,je,Be,De,Fe){var Oe=Fe.z||Ce.length,ke=new u8(Be+Oe+5*(1+Math.ceil(Oe/7e3))+De),Me=ke.subarray(Be,ke.length-De),Ue=Fe.l,$e=(Fe.r||0)&7;if(Re){$e&&(Me[0]=Fe.r>>3);for(var He=deo[Re-1],Qe=He>>13,We=He&8191,qe=(1<<je)-1,Ke=Fe.p||new u16(32768),Xe=Fe.h||new u16(qe+1),Ye=Math.ceil(je/3),Ze=2*Ye,Je=function(gn){return(Ce[gn]^Ce[gn+1]<<Ye^Ce[gn+2]<<Ze)&qe},tr=new i32(25e3),rr=new u16(288),ar=new u16(32),nr=0,sr=0,dr=Fe.i||0,_r=0,fr=Fe.w||0,or=0;dr+2<Oe;++dr){var Er=Je(dr),Rr=dr&32767,jr=Xe[Er];if(Ke[Rr]=jr,Xe[Er]=Rr,fr<=dr){var xr=Oe-dr;if((nr>7e3||_r>24576)&&(xr>423||!Ue)){$e=wblk(Ce,Me,0,tr,rr,ar,sr,_r,or,dr-or,$e),_r=nr=sr=0,or=dr;for(var Pr=0;Pr<286;++Pr)rr[Pr]=0;for(var Pr=0;Pr<30;++Pr)ar[Pr]=0}var br=2,wr=0,Br=We,Lr=Rr-jr&32767;if(xr>2&&Er==Je(dr-Lr))for(var yr=Math.min(Qe,xr)-1,vr=Math.min(32767,dr),Tr=Math.min(258,xr);Lr<=vr&&--Br&&Rr!=jr;){if(Ce[dr+br]==Ce[dr+br-Lr]){for(var Or=0;Or<Tr&&Ce[dr+Or]==Ce[dr+Or-Lr];++Or);if(Or>br){if(br=Or,wr=Lr,Or>yr)break;for(var Nr=Math.min(Lr,Or-2),Hr=0,Pr=0;Pr<Nr;++Pr){var Wr=dr-Lr+Pr&32767,qr=Ke[Wr],Jr=Wr-qr&32767;Jr>Hr&&(Hr=Jr,jr=Wr)}}}Rr=jr,jr=Ke[Rr],Lr+=Rr-jr&32767}if(wr){tr[_r++]=268435456|revfl[br]<<18|revfd[wr];var An=revfl[br]&31,an=revfd[wr]&31;sr+=fleb[An]+fdeb[an],++rr[257+An],++ar[an],fr=dr+br,++nr}else tr[_r++]=Ce[dr],++rr[Ce[dr]]}}for(dr=Math.max(dr,fr);dr<Oe;++dr)tr[_r++]=Ce[dr],++rr[Ce[dr]];$e=wblk(Ce,Me,Ue,tr,rr,ar,sr,_r,or,dr-or,$e),Ue||(Fe.r=$e&7|Me[$e/8|0]<<3,$e-=7,Fe.h=Xe,Fe.p=Ke,Fe.i=dr,Fe.w=fr)}else{for(var dr=Fe.w||0;dr<Oe+Ue;dr+=65535){var bn=dr+65535;bn>=Oe&&(Me[$e/8|0]=Ue,bn=Oe),$e=wfblk(Me,$e+1,Ce.subarray(dr,bn))}Fe.i=Oe}return slc(ke,0,Be+shft($e)+De)},adler=function(){var Ce=1,Re=0;return{p:function(je){for(var Be=Ce,De=Re,Fe=je.length|0,Oe=0;Oe!=Fe;){for(var ke=Math.min(Oe+2655,Fe);Oe<ke;++Oe)De+=Be+=je[Oe];Be=(Be&65535)+15*(Be>>16),De=(De&65535)+15*(De>>16)}Ce=Be,Re=De},d:function(){return Ce%=65521,Re%=65521,(Ce&255)<<24|(Ce&65280)<<8|(Re&255)<<8|Re>>8}}},dopt=function(Ce,Re,je,Be,De){if(!De&&(De={l:1},Re.dictionary)){var Fe=Re.dictionary.subarray(-32768),Oe=new u8(Fe.length+Ce.length);Oe.set(Fe),Oe.set(Ce,Fe.length),Ce=Oe,De.w=Fe.length}return dflt(Ce,Re.level==null?6:Re.level,Re.mem==null?De.l?Math.ceil(Math.max(8,Math.min(13,Math.log(Ce.length)))*1.5):20:12+Re.mem,je,Be,De)},wbytes=function(Ce,Re,je){for(;je;++Re)Ce[Re]=je,je>>>=8},zlh=function(Ce,Re){var je=Re.level,Be=je==0?0:je<6?1:je==9?3:2;if(Ce[0]=120,Ce[1]=Be<<6|(Re.dictionary&&32),Ce[1]|=31-(Ce[0]<<8|Ce[1])%31,Re.dictionary){var De=adler();De.p(Re.dictionary),wbytes(Ce,2,De.d())}},zls=function(Ce,Re){return((Ce[0]&15)!=8||Ce[0]>>4>7||(Ce[0]<<8|Ce[1])%31)&&err(6,"invalid zlib data"),(Ce[1]>>5&1)==1&&err(6,"invalid zlib data: "+(Ce[1]&32?"need":"unexpected")+" dictionary"),(Ce[1]>>3&4)+2};function zlibSync(Ce,Re){Re||(Re={});var je=adler();je.p(Ce);var Be=dopt(Ce,Re,Re.dictionary?6:2,4);return zlh(Be,Re),wbytes(Be,Be.length-4,je.d()),Be}function unzlibSync(Ce,Re){return inflt(Ce.subarray(zls(Ce),-4),{i:2},Re,Re)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch(Ce){}var n$1=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function i$2(){n$1.console&&typeof n$1.console.log=="function"&&n$1.console.log.apply(n$1.console,arguments)}var a$2={log:i$2,warn:function(Ce){n$1.console&&(typeof n$1.console.warn=="function"?n$1.console.warn.apply(n$1.console,arguments):i$2.call(null,arguments))},error:function(Ce){n$1.console&&(typeof n$1.console.error=="function"?n$1.console.error.apply(n$1.console,arguments):i$2(Ce))}};function o$1(Ce,Re,je){var Be=new XMLHttpRequest;Be.open("GET",Ce),Be.responseType="blob",Be.onload=function(){l$1(Be.response,Re,je)},Be.onerror=function(){a$2.error("could not download file")},Be.send()}function s$2(Ce){var Re=new XMLHttpRequest;Re.open("HEAD",Ce,!1);try{Re.send()}catch{}return Re.status>=200&&Re.status<=299}function c$3(Ce){try{Ce.dispatchEvent(new MouseEvent("click"))}catch{var Re=document.createEvent("MouseEvents");Re.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ce.dispatchEvent(Re)}}var u$2,h$1,l$1=n$1.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n$1?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(Ce,Re,je){var Be=n$1.URL||n$1.webkitURL,De=document.createElement("a");Re=Re||Ce.name||"download",De.download=Re,De.rel="noopener",typeof Ce=="string"?(De.href=Ce,De.origin!==location.origin?s$2(De.href)?o$1(Ce,Re,je):c$3(De,De.target="_blank"):c$3(De)):(De.href=Be.createObjectURL(Ce),setTimeout((function(){Be.revokeObjectURL(De.href)}),4e4),setTimeout((function(){c$3(De)}),0))}:"msSaveOrOpenBlob"in navigator?function(Ce,Re,je){if(Re=Re||Ce.name||"download",typeof Ce=="string")if(s$2(Ce))o$1(Ce,Re,je);else{var Be=document.createElement("a");Be.href=Ce,Be.target="_blank",setTimeout((function(){c$3(Be)}))}else navigator.msSaveOrOpenBlob((function(De,Fe){return Fe===void 0?Fe={autoBom:!1}:_typeof(Fe)!=="object"&&(a$2.warn("Deprecated: Expected third argument to be a object"),Fe={autoBom:!Fe}),Fe.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(De.type)?new Blob(["\uFEFF",De],{type:De.type}):De})(Ce,je),Re)}:function(Ce,Re,je,Be){if((Be=Be||open("","_blank"))&&(Be.document.title=Be.document.body.innerText="downloading..."),typeof Ce=="string")return o$1(Ce,Re,je);var De=Ce.type==="application/octet-stream",Fe=/constructor/i.test(n$1.HTMLElement)||n$1.safari,Oe=/CriOS\/[\d]+/.test(navigator.userAgent);if((Oe||De&&Fe)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var ke=new FileReader;ke.onloadend=function(){var $e=ke.result;$e=Oe?$e:$e.replace(/^data:[^;]*;/,"data:attachment/file;"),Be?Be.location.href=$e:location=$e,Be=null},ke.readAsDataURL(Ce)}else{var Me=n$1.URL||n$1.webkitURL,Ue=Me.createObjectURL(Ce);Be?Be.location=Ue:location.href=Ue,Be=null,setTimeout((function(){Me.revokeObjectURL(Ue)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f$2(Ce){var Re;Ce=Ce||"",this.ok=!1,Ce.charAt(0)=="#"&&(Ce=Ce.substr(1,6)),Ce={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[Ce=(Ce=Ce.replace(/ /g,"")).toLowerCase()]||Ce;for(var je=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(ke){return[parseInt(ke[1]),parseInt(ke[2]),parseInt(ke[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(ke){return[parseInt(ke[1],16),parseInt(ke[2],16),parseInt(ke[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(ke){return[parseInt(ke[1]+ke[1],16),parseInt(ke[2]+ke[2],16),parseInt(ke[3]+ke[3],16)]}}],Be=0;Be<je.length;Be++){var De=je[Be].re,Fe=je[Be].process,Oe=De.exec(Ce);Oe&&(Re=Fe(Oe),this.r=Re[0],this.g=Re[1],this.b=Re[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var ke=this.r.toString(16),Me=this.g.toString(16),Ue=this.b.toString(16);return ke.length==1&&(ke="0"+ke),Me.length==1&&(Me="0"+Me),Ue.length==1&&(Ue="0"+Ue),"#"+ke+Me+Ue}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d$1(Ce,Re){var je=Ce[0],Be=Ce[1],De=Ce[2],Fe=Ce[3];je=g$1(je,Be,De,Fe,Re[0],7,-680876936),Fe=g$1(Fe,je,Be,De,Re[1],12,-389564586),De=g$1(De,Fe,je,Be,Re[2],17,606105819),Be=g$1(Be,De,Fe,je,Re[3],22,-1044525330),je=g$1(je,Be,De,Fe,Re[4],7,-176418897),Fe=g$1(Fe,je,Be,De,Re[5],12,1200080426),De=g$1(De,Fe,je,Be,Re[6],17,-1473231341),Be=g$1(Be,De,Fe,je,Re[7],22,-45705983),je=g$1(je,Be,De,Fe,Re[8],7,1770035416),Fe=g$1(Fe,je,Be,De,Re[9],12,-1958414417),De=g$1(De,Fe,je,Be,Re[10],17,-42063),Be=g$1(Be,De,Fe,je,Re[11],22,-1990404162),je=g$1(je,Be,De,Fe,Re[12],7,1804603682),Fe=g$1(Fe,je,Be,De,Re[13],12,-40341101),De=g$1(De,Fe,je,Be,Re[14],17,-1502002290),je=m$1(je,Be=g$1(Be,De,Fe,je,Re[15],22,1236535329),De,Fe,Re[1],5,-165796510),Fe=m$1(Fe,je,Be,De,Re[6],9,-1069501632),De=m$1(De,Fe,je,Be,Re[11],14,643717713),Be=m$1(Be,De,Fe,je,Re[0],20,-373897302),je=m$1(je,Be,De,Fe,Re[5],5,-701558691),Fe=m$1(Fe,je,Be,De,Re[10],9,38016083),De=m$1(De,Fe,je,Be,Re[15],14,-660478335),Be=m$1(Be,De,Fe,je,Re[4],20,-405537848),je=m$1(je,Be,De,Fe,Re[9],5,568446438),Fe=m$1(Fe,je,Be,De,Re[14],9,-1019803690),De=m$1(De,Fe,je,Be,Re[3],14,-187363961),Be=m$1(Be,De,Fe,je,Re[8],20,1163531501),je=m$1(je,Be,De,Fe,Re[13],5,-1444681467),Fe=m$1(Fe,je,Be,De,Re[2],9,-51403784),De=m$1(De,Fe,je,Be,Re[7],14,1735328473),je=v(je,Be=m$1(Be,De,Fe,je,Re[12],20,-1926607734),De,Fe,Re[5],4,-378558),Fe=v(Fe,je,Be,De,Re[8],11,-2022574463),De=v(De,Fe,je,Be,Re[11],16,1839030562),Be=v(Be,De,Fe,je,Re[14],23,-35309556),je=v(je,Be,De,Fe,Re[1],4,-1530992060),Fe=v(Fe,je,Be,De,Re[4],11,1272893353),De=v(De,Fe,je,Be,Re[7],16,-155497632),Be=v(Be,De,Fe,je,Re[10],23,-1094730640),je=v(je,Be,De,Fe,Re[13],4,681279174),Fe=v(Fe,je,Be,De,Re[0],11,-358537222),De=v(De,Fe,je,Be,Re[3],16,-722521979),Be=v(Be,De,Fe,je,Re[6],23,76029189),je=v(je,Be,De,Fe,Re[9],4,-640364487),Fe=v(Fe,je,Be,De,Re[12],11,-421815835),De=v(De,Fe,je,Be,Re[15],16,530742520),je=b(je,Be=v(Be,De,Fe,je,Re[2],23,-995338651),De,Fe,Re[0],6,-198630844),Fe=b(Fe,je,Be,De,Re[7],10,1126891415),De=b(De,Fe,je,Be,Re[14],15,-1416354905),Be=b(Be,De,Fe,je,Re[5],21,-57434055),je=b(je,Be,De,Fe,Re[12],6,1700485571),Fe=b(Fe,je,Be,De,Re[3],10,-1894986606),De=b(De,Fe,je,Be,Re[10],15,-1051523),Be=b(Be,De,Fe,je,Re[1],21,-2054922799),je=b(je,Be,De,Fe,Re[8],6,1873313359),Fe=b(Fe,je,Be,De,Re[15],10,-30611744),De=b(De,Fe,je,Be,Re[6],15,-1560198380),Be=b(Be,De,Fe,je,Re[13],21,1309151649),je=b(je,Be,De,Fe,Re[4],6,-145523070),Fe=b(Fe,je,Be,De,Re[11],10,-1120210379),De=b(De,Fe,je,Be,Re[2],15,718787259),Be=b(Be,De,Fe,je,Re[9],21,-343485551),Ce[0]=_$1(je,Ce[0]),Ce[1]=_$1(Be,Ce[1]),Ce[2]=_$1(De,Ce[2]),Ce[3]=_$1(Fe,Ce[3])}function p$1(Ce,Re,je,Be,De,Fe){return Re=_$1(_$1(Re,Ce),_$1(Be,Fe)),_$1(Re<<De|Re>>>32-De,je)}function g$1(Ce,Re,je,Be,De,Fe,Oe){return p$1(Re&je|~Re&Be,Ce,Re,De,Fe,Oe)}function m$1(Ce,Re,je,Be,De,Fe,Oe){return p$1(Re&Be|je&~Be,Ce,Re,De,Fe,Oe)}function v(Ce,Re,je,Be,De,Fe,Oe){return p$1(Re^je^Be,Ce,Re,De,Fe,Oe)}function b(Ce,Re,je,Be,De,Fe,Oe){return p$1(je^(Re|~Be),Ce,Re,De,Fe,Oe)}function y$3(Ce){var Re,je=Ce.length,Be=[1732584193,-271733879,-1732584194,271733878];for(Re=64;Re<=Ce.length;Re+=64)d$1(Be,w$1(Ce.substring(Re-64,Re)));Ce=Ce.substring(Re-64);var De=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(Re=0;Re<Ce.length;Re++)De[Re>>2]|=Ce.charCodeAt(Re)<<(Re%4<<3);if(De[Re>>2]|=128<<(Re%4<<3),Re>55)for(d$1(Be,De),Re=0;Re<16;Re++)De[Re]=0;return De[14]=8*je,d$1(Be,De),Be}function w$1(Ce){var Re,je=[];for(Re=0;Re<64;Re+=4)je[Re>>2]=Ce.charCodeAt(Re)+(Ce.charCodeAt(Re+1)<<8)+(Ce.charCodeAt(Re+2)<<16)+(Ce.charCodeAt(Re+3)<<24);return je}u$2=n$1.atob.bind(n$1),h$1=n$1.btoa.bind(n$1);var N$1="0123456789abcdef".split("");function L$1(Ce){for(var Re="",je=0;je<4;je++)Re+=N$1[Ce>>8*je+4&15]+N$1[Ce>>8*je&15];return Re}function A$1(Ce){return String.fromCharCode((255&Ce)>>0,(65280&Ce)>>8,(16711680&Ce)>>16,(4278190080&Ce)>>24)}function x$2(Ce){return y$3(Ce).map(A$1).join("")}var S=(function(Ce){for(var Re=0;Re<Ce.length;Re++)Ce[Re]=L$1(Ce[Re]);return Ce.join("")})(y$3("hello"))!="5d41402abc4b2a76b9719d911017c592";function _$1(Ce,Re){if(S){var je=(65535&Ce)+(65535&Re);return(Ce>>16)+(Re>>16)+(je>>16)<<16|65535&je}return Ce+Re&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P$3(Ce,Re){var je,Be,De,Fe;if(Ce!==je){for(var Oe=(De=Ce,Fe=1+(256/Ce.length>>0),new Array(Fe+1).join(De)),ke=[],Me=0;Me<256;Me++)ke[Me]=Me;var Ue=0;for(Me=0;Me<256;Me++){var $e=ke[Me];Ue=(Ue+$e+Oe.charCodeAt(Me))%256,ke[Me]=ke[Ue],ke[Ue]=$e}je=Ce,Be=ke}else ke=Be;var He=Re.length,Qe=0,We=0,qe="";for(Me=0;Me<He;Me++)We=(We+($e=ke[Qe=(Qe+1)%256]))%256,ke[Qe]=ke[We],ke[We]=$e,Oe=ke[(ke[Qe]+ke[We])%256],qe+=String.fromCharCode(Re.charCodeAt(Me)^Oe);return qe}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k$2={print:4,modify:8,copy:16,"annot-forms":32};function I$1(Ce,Re,je,Be){this.v=1,this.r=2;var De=192;Ce.forEach((function(ke){if(k$2.perm!==void 0)throw new Error("Invalid permission: "+ke);De+=k$2[ke]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var Fe=(Re+this.padding).substr(0,32),Oe=(je+this.padding).substr(0,32);this.O=this.processOwnerPassword(Fe,Oe),this.P=-(1+(255^De)),this.encryptionKey=x$2(Fe+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(Be)).substr(0,5),this.U=P$3(this.encryptionKey,this.padding)}function F$2(Ce){if(/[^\u0000-\u00ff]/.test(Ce))throw new Error("Invalid PDF Name Object: "+Ce+", Only accept ASCII characters.");for(var Re="",je=Ce.length,Be=0;Be<je;Be++){var De=Ce.charCodeAt(Be);De<33||De===35||De===37||De===40||De===41||De===47||De===60||De===62||De===91||De===93||De===123||De===125||De>126?Re+="#"+("0"+De.toString(16)).slice(-2):Re+=Ce[Be]}return Re}function C(Ce){if(_typeof(Ce)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var Re={};this.subscribe=function(je,Be,De){if(De=De||!1,typeof je!="string"||typeof Be!="function"||typeof De!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");Re.hasOwnProperty(je)||(Re[je]={});var Fe=Math.random().toString(35);return Re[je][Fe]=[Be,!!De],Fe},this.unsubscribe=function(je){for(var Be in Re)if(Re[Be][je])return delete Re[Be][je],Object.keys(Re[Be]).length===0&&delete Re[Be],!0;return!1},this.publish=function(je){if(Re.hasOwnProperty(je)){var Be=Array.prototype.slice.call(arguments,1),De=[];for(var Fe in Re[je]){var Oe=Re[je][Fe];try{Oe[0].apply(Ce,Be)}catch(ke){n$1.console&&a$2.error("jsPDF PubSub Error",ke.message,ke)}Oe[1]&&De.push(Fe)}De.length&&De.forEach(this.unsubscribe)}},this.getTopics=function(){return Re}}function j$2(Ce){if(!(this instanceof j$2))return new j$2(Ce);var Re="opacity,stroke-opacity".split(",");for(var je in Ce)Ce.hasOwnProperty(je)&&Re.indexOf(je)>=0&&(this[je]=Ce[je]);this.id="",this.objectNumber=-1}function O(Ce,Re){this.gState=Ce,this.matrix=Re,this.id="",this.objectNumber=-1}function B$1(Ce,Re,je,Be,De){if(!(this instanceof B$1))return new B$1(Ce,Re,je,Be,De);this.type=Ce==="axial"?2:3,this.coords=Re,this.colors=je,O.call(this,Be,De)}function M$1(Ce,Re,je,Be,De){if(!(this instanceof M$1))return new M$1(Ce,Re,je,Be,De);this.boundingBox=Ce,this.xStep=Re,this.yStep=je,this.stream="",this.cloneIndex=0,O.call(this,Be,De)}function E(Ce){var Re,je=typeof arguments[0]=="string"?arguments[0]:"p",Be=arguments[1],De=arguments[2],Fe=arguments[3],Oe=[],ke=1,Me=16,Ue="S",$e=null;_typeof(Ce=Ce||{})==="object"&&(je=Ce.orientation,Be=Ce.unit||Be,De=Ce.format||De,Fe=Ce.compress||Ce.compressPdf||Fe,($e=Ce.encryption||null)!==null&&($e.userPassword=$e.userPassword||"",$e.ownerPassword=$e.ownerPassword||"",$e.userPermissions=$e.userPermissions||[]),ke=typeof Ce.userUnit=="number"?Math.abs(Ce.userUnit):1,Ce.precision!==void 0&&(Re=Ce.precision),Ce.floatPrecision!==void 0&&(Me=Ce.floatPrecision),Ue=Ce.defaultPathOperation||"S"),Oe=Ce.filters||(Fe===!0?["FlateEncode"]:Oe),Be=Be||"mm",je=(""+(je||"P")).toLowerCase();var He=Ce.putOnlyUsedFonts||!1,Qe={},We={internal:{},__private__:{}};We.__private__.PubSub=C;var qe="1.3",Ke=We.__private__.getPdfVersion=function(){return qe};We.__private__.setPdfVersion=function(Cr){qe=Cr};var Xe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};We.__private__.getPageFormats=function(){return Xe};var Ye=We.__private__.getPageFormat=function(Cr){return Xe[Cr]};De=De||"a4";var Ze={COMPAT:"compat",ADVANCED:"advanced"},Je=Ze.COMPAT;function tr(){this.saveGraphicsState(),Zr(new Mi(Cn,0,0,-Cn,0,Po()*Cn).toString()+" cm"),this.setFontSize(this.getFontSize()/Cn),Ue="n",Je=Ze.ADVANCED}function rr(){this.restoreGraphicsState(),Ue="S",Je=Ze.COMPAT}var ar=We.__private__.combineFontStyleAndFontWeight=function(Cr,zr){if(Cr=="bold"&&zr=="normal"||Cr=="bold"&&zr==400||Cr=="normal"&&zr=="italic"||Cr=="bold"&&zr=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return zr&&(Cr=zr==400||zr==="normal"?Cr==="italic"?"italic":"normal":zr!=700&&zr!=="bold"||Cr!=="normal"?(zr==700?"bold":zr)+""+Cr:"bold"),Cr};We.advancedAPI=function(Cr){var zr=Je===Ze.COMPAT;return zr&&tr.call(this),typeof Cr!="function"||(Cr(this),zr&&rr.call(this)),this},We.compatAPI=function(Cr){var zr=Je===Ze.ADVANCED;return zr&&rr.call(this),typeof Cr!="function"||(Cr(this),zr&&tr.call(this)),this},We.isAdvancedAPI=function(){return Je===Ze.ADVANCED};var nr,sr=function(Cr){if(Je!==Ze.ADVANCED)throw new Error(Cr+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},dr=We.roundToPrecision=We.__private__.roundToPrecision=function(Cr,zr){var xn=Re||zr;if(isNaN(Cr)||isNaN(xn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Cr.toFixed(xn).replace(/0+$/,"")};nr=We.hpf=We.__private__.hpf=typeof Me=="number"?function(Cr){if(isNaN(Cr))throw new Error("Invalid argument passed to jsPDF.hpf");return dr(Cr,Me)}:Me==="smart"?function(Cr){if(isNaN(Cr))throw new Error("Invalid argument passed to jsPDF.hpf");return dr(Cr,Cr>-1&&Cr<1?16:5)}:function(Cr){if(isNaN(Cr))throw new Error("Invalid argument passed to jsPDF.hpf");return dr(Cr,16)};var _r=We.f2=We.__private__.f2=function(Cr){if(isNaN(Cr))throw new Error("Invalid argument passed to jsPDF.f2");return dr(Cr,2)},fr=We.__private__.f3=function(Cr){if(isNaN(Cr))throw new Error("Invalid argument passed to jsPDF.f3");return dr(Cr,3)},or=We.scale=We.__private__.scale=function(Cr){if(isNaN(Cr))throw new Error("Invalid argument passed to jsPDF.scale");return Je===Ze.COMPAT?Cr*Cn:Je===Ze.ADVANCED?Cr:void 0},Er=function(Cr){return Je===Ze.COMPAT?Po()-Cr:Je===Ze.ADVANCED?Cr:void 0},Rr=function(Cr){return or(Er(Cr))};We.__private__.setPrecision=We.setPrecision=function(Cr){typeof parseInt(Cr,10)=="number"&&(Re=parseInt(Cr,10))};var jr,xr="00000000000000000000000000000000",Pr=We.__private__.getFileId=function(){return xr},br=We.__private__.setFileId=function(Cr){return xr=Cr!==void 0&&/^[a-fA-F0-9]{32}$/.test(Cr)?Cr.toUpperCase():xr.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),$e!==null&&(na=new I$1($e.userPermissions,$e.userPassword,$e.ownerPassword,xr)),xr};We.setFileId=function(Cr){return br(Cr),this},We.getFileId=function(){return Pr()};var wr=We.__private__.convertDateToPDFDate=function(Cr){var zr=Cr.getTimezoneOffset(),xn=zr<0?"+":"-",_n=Math.floor(Math.abs(zr/60)),Dn=Math.abs(zr%60),ni=[xn,Tr(_n),"'",Tr(Dn),"'"].join("");return["D:",Cr.getFullYear(),Tr(Cr.getMonth()+1),Tr(Cr.getDate()),Tr(Cr.getHours()),Tr(Cr.getMinutes()),Tr(Cr.getSeconds()),ni].join("")},Br=We.__private__.convertPDFDateToDate=function(Cr){var zr=parseInt(Cr.substr(2,4),10),xn=parseInt(Cr.substr(6,2),10)-1,_n=parseInt(Cr.substr(8,2),10),Dn=parseInt(Cr.substr(10,2),10),ni=parseInt(Cr.substr(12,2),10),Ei=parseInt(Cr.substr(14,2),10);return new Date(zr,xn,_n,Dn,ni,Ei,0)},Lr=We.__private__.setCreationDate=function(Cr){var zr;if(Cr===void 0&&(Cr=new Date),Cr instanceof Date)zr=wr(Cr);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Cr))throw new Error("Invalid argument passed to jsPDF.setCreationDate");zr=Cr}return jr=zr},yr=We.__private__.getCreationDate=function(Cr){var zr=jr;return Cr==="jsDate"&&(zr=Br(jr)),zr};We.setCreationDate=function(Cr){return Lr(Cr),this},We.getCreationDate=function(Cr){return yr(Cr)};var vr,Tr=We.__private__.padd2=function(Cr){return("0"+parseInt(Cr)).slice(-2)},Or=We.__private__.padd2Hex=function(Cr){return("00"+(Cr=Cr.toString())).substr(Cr.length)},Nr=0,Hr=[],Wr=[],qr=0,Jr=[],An=[],an=!1,bn=Wr,gn=function(){Nr=0,qr=0,Wr=[],Hr=[],Jr=[],sn=ra(),on=ra()};We.__private__.setCustomOutputDestination=function(Cr){an=!0,bn=Cr};var mn=function(Cr){an||(bn=Cr)};We.__private__.resetCustomOutputDestination=function(){an=!1,bn=Wr};var Zr=We.__private__.out=function(Cr){return Cr=Cr.toString(),qr+=Cr.length+1,bn.push(Cr),bn},kn=We.__private__.write=function(Cr){return Zr(arguments.length===1?Cr.toString():Array.prototype.join.call(arguments," "))},ri=We.__private__.getArrayBuffer=function(Cr){for(var zr=Cr.length,xn=new ArrayBuffer(zr),_n=new Uint8Array(xn);zr--;)_n[zr]=Cr.charCodeAt(zr);return xn},zn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];We.__private__.getStandardFonts=function(){return zn};var ei=Ce.fontSize||16;We.__private__.setFontSize=We.setFontSize=function(Cr){return ei=Je===Ze.ADVANCED?Cr/Cn:Cr,this};var Jn,Wn=We.__private__.getFontSize=We.getFontSize=function(){return Je===Ze.COMPAT?ei:ei*Cn},_i=Ce.R2L||!1;We.__private__.setR2L=We.setR2L=function(Cr){return _i=Cr,this},We.__private__.getR2L=We.getR2L=function(){return _i};var wi,Oi=We.__private__.setZoomMode=function(Cr){var zr=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Cr))Jn=Cr;else if(isNaN(Cr)){if(zr.indexOf(Cr)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Cr+'" is not recognized.');Jn=Cr}else Jn=parseInt(Cr,10)};We.__private__.getZoomMode=function(){return Jn};var xi,Pi=We.__private__.setPageMode=function(Cr){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Cr)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Cr+'" is not recognized.');wi=Cr};We.__private__.getPageMode=function(){return wi};var Ii=We.__private__.setLayoutMode=function(Cr){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Cr)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Cr+'" is not recognized.');xi=Cr};We.__private__.getLayoutMode=function(){return xi},We.__private__.setDisplayMode=We.setDisplayMode=function(Cr,zr,xn){return Oi(Cr),Ii(zr),Pi(xn),this};var Si={title:"",subject:"",author:"",keywords:"",creator:""};We.__private__.getDocumentProperty=function(Cr){if(Object.keys(Si).indexOf(Cr)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Si[Cr]},We.__private__.getDocumentProperties=function(){return Si},We.__private__.setDocumentProperties=We.setProperties=We.setDocumentProperties=function(Cr){for(var zr in Si)Si.hasOwnProperty(zr)&&Cr[zr]&&(Si[zr]=Cr[zr]);return this},We.__private__.setDocumentProperty=function(Cr,zr){if(Object.keys(Si).indexOf(Cr)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Si[Cr]=zr};var En,Cn,oi,ci,Qi,ti={},Bi={},jn=[],vn={},Ni={},bi={},Gi={},Di=null,hi=0,fi=[],Ri=new C(We),Zi=Ce.hotfixes||[],ds={},oa={},Wa=[],Mi=function Cr(zr,xn,_n,Dn,ni,Ei){if(!(this instanceof Cr))return new Cr(zr,xn,_n,Dn,ni,Ei);isNaN(zr)&&(zr=1),isNaN(xn)&&(xn=0),isNaN(_n)&&(_n=0),isNaN(Dn)&&(Dn=1),isNaN(ni)&&(ni=0),isNaN(Ei)&&(Ei=0),this._matrix=[zr,xn,_n,Dn,ni,Ei]};Object.defineProperty(Mi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Cr){this._matrix[0]=Cr}}),Object.defineProperty(Mi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Cr){this._matrix[1]=Cr}}),Object.defineProperty(Mi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Cr){this._matrix[2]=Cr}}),Object.defineProperty(Mi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Cr){this._matrix[3]=Cr}}),Object.defineProperty(Mi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Cr){this._matrix[4]=Cr}}),Object.defineProperty(Mi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Cr){this._matrix[5]=Cr}}),Object.defineProperty(Mi.prototype,"a",{get:function(){return this._matrix[0]},set:function(Cr){this._matrix[0]=Cr}}),Object.defineProperty(Mi.prototype,"b",{get:function(){return this._matrix[1]},set:function(Cr){this._matrix[1]=Cr}}),Object.defineProperty(Mi.prototype,"c",{get:function(){return this._matrix[2]},set:function(Cr){this._matrix[2]=Cr}}),Object.defineProperty(Mi.prototype,"d",{get:function(){return this._matrix[3]},set:function(Cr){this._matrix[3]=Cr}}),Object.defineProperty(Mi.prototype,"e",{get:function(){return this._matrix[4]},set:function(Cr){this._matrix[4]=Cr}}),Object.defineProperty(Mi.prototype,"f",{get:function(){return this._matrix[5]},set:function(Cr){this._matrix[5]=Cr}}),Object.defineProperty(Mi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Mi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Mi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Mi.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Mi.prototype.join=function(Cr){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(nr).join(Cr)},Mi.prototype.multiply=function(Cr){var zr=Cr.sx*this.sx+Cr.shy*this.shx,xn=Cr.sx*this.shy+Cr.shy*this.sy,_n=Cr.shx*this.sx+Cr.sy*this.shx,Dn=Cr.shx*this.shy+Cr.sy*this.sy,ni=Cr.tx*this.sx+Cr.ty*this.shx+this.tx,Ei=Cr.tx*this.shy+Cr.ty*this.sy+this.ty;return new Mi(zr,xn,_n,Dn,ni,Ei)},Mi.prototype.decompose=function(){var Cr=this.sx,zr=this.shy,xn=this.shx,_n=this.sy,Dn=this.tx,ni=this.ty,Ei=Math.sqrt(Cr*Cr+zr*zr),$i=(Cr/=Ei)*xn+(zr/=Ei)*_n;xn-=Cr*$i,_n-=zr*$i;var ur=Math.sqrt(xn*xn+_n*_n);return $i/=ur,Cr*(_n/=ur)<zr*(xn/=ur)&&(Cr=-Cr,zr=-zr,$i=-$i,Ei=-Ei),{scale:new Mi(Ei,0,0,ur,0,0),translate:new Mi(1,0,0,1,Dn,ni),rotate:new Mi(Cr,zr,-zr,Cr,0,0),skew:new Mi(1,0,$i,1,0,0)}},Mi.prototype.toString=function(Cr){return this.join(" ")},Mi.prototype.inversed=function(){var Cr=this.sx,zr=this.shy,xn=this.shx,_n=this.sy,Dn=this.tx,ni=this.ty,Ei=1/(Cr*_n-zr*xn),$i=_n*Ei,ur=-zr*Ei,Fr=-xn*Ei,Ur=Cr*Ei;return new Mi($i,ur,Fr,Ur,-$i*Dn-Fr*ni,-ur*Dn-Ur*ni)},Mi.prototype.applyToPoint=function(Cr){var zr=Cr.x*this.sx+Cr.y*this.shx+this.tx,xn=Cr.x*this.shy+Cr.y*this.sy+this.ty;return new bc(zr,xn)},Mi.prototype.applyToRectangle=function(Cr){var zr=this.applyToPoint(Cr),xn=this.applyToPoint(new bc(Cr.x+Cr.w,Cr.y+Cr.h));return new zc(zr.x,zr.y,xn.x-zr.x,xn.y-zr.y)},Mi.prototype.clone=function(){var Cr=this.sx,zr=this.shy,xn=this.shx,_n=this.sy,Dn=this.tx,ni=this.ty;return new Mi(Cr,zr,xn,_n,Dn,ni)},We.Matrix=Mi;var Qs=We.matrixMult=function(Cr,zr){return zr.multiply(Cr)},Fs=new Mi(1,0,0,1,0,0);We.unitMatrix=We.identityMatrix=Fs;var Xs=function(Cr,zr){if(!Ni[Cr]){var xn=(zr instanceof B$1?"Sh":"P")+(Object.keys(vn).length+1).toString(10);zr.id=xn,Ni[Cr]=xn,vn[xn]=zr,Ri.publish("addPattern",zr)}};We.ShadingPattern=B$1,We.TilingPattern=M$1,We.addShadingPattern=function(Cr,zr){return sr("addShadingPattern()"),Xs(Cr,zr),this},We.beginTilingPattern=function(Cr){sr("beginTilingPattern()"),nc(Cr.boundingBox[0],Cr.boundingBox[1],Cr.boundingBox[2]-Cr.boundingBox[0],Cr.boundingBox[3]-Cr.boundingBox[1],Cr.matrix)},We.endTilingPattern=function(Cr,zr){sr("endTilingPattern()"),zr.stream=An[vr].join(`
`),Xs(Cr,zr),Ri.publish("endTilingPattern",zr),Wa.pop().restore()};var Yi=We.__private__.newObject=function(){var Cr=ra();return Kr(Cr,!0),Cr},ra=We.__private__.newObjectDeferred=function(){return Nr++,Hr[Nr]=function(){return qr},Nr},Kr=function(Cr,zr){return zr=typeof zr=="boolean"&&zr,Hr[Cr]=qr,zr&&Zr(Cr+" 0 obj"),Cr},fn=We.__private__.newAdditionalObject=function(){var Cr={objId:ra(),content:""};return Jr.push(Cr),Cr},sn=ra(),on=ra(),hn=We.__private__.decodeColorString=function(Cr){var zr=Cr.split(" ");if(zr.length!==2||zr[1]!=="g"&&zr[1]!=="G")zr.length===5&&(zr[4]==="k"||zr[4]==="K")&&(zr=[(1-zr[0])*(1-zr[3]),(1-zr[1])*(1-zr[3]),(1-zr[2])*(1-zr[3]),"r"]);else{var xn=parseFloat(zr[0]);zr=[xn,xn,xn,"r"]}for(var _n="#",Dn=0;Dn<3;Dn++)_n+=("0"+Math.floor(255*parseFloat(zr[Dn])).toString(16)).slice(-2);return _n},pn=We.__private__.encodeColorString=function(Cr){var zr;typeof Cr=="string"&&(Cr={ch1:Cr});var xn=Cr.ch1,_n=Cr.ch2,Dn=Cr.ch3,ni=Cr.ch4,Ei=Cr.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xn=="string"&&xn.charAt(0)!=="#"){var $i=new f$2(xn);if($i.ok)xn=$i.toHex();else if(!/^\d*\.?\d*$/.test(xn))throw new Error('Invalid color "'+xn+'" passed to jsPDF.encodeColorString.')}if(typeof xn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xn)&&(xn="#"+xn[1]+xn[1]+xn[2]+xn[2]+xn[3]+xn[3]),typeof xn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xn)){var ur=parseInt(xn.substr(1),16);xn=ur>>16&255,_n=ur>>8&255,Dn=255&ur}if(_n===void 0||ni===void 0&&xn===_n&&_n===Dn)if(typeof xn=="string")zr=xn+" "+Ei[0];else switch(Cr.precision){case 2:zr=_r(xn/255)+" "+Ei[0];break;case 3:default:zr=fr(xn/255)+" "+Ei[0]}else if(ni===void 0||_typeof(ni)==="object"){if(ni&&!isNaN(ni.a)&&ni.a===0)return zr=["1.","1.","1.",Ei[1]].join(" ");if(typeof xn=="string")zr=[xn,_n,Dn,Ei[1]].join(" ");else switch(Cr.precision){case 2:zr=[_r(xn/255),_r(_n/255),_r(Dn/255),Ei[1]].join(" ");break;default:case 3:zr=[fr(xn/255),fr(_n/255),fr(Dn/255),Ei[1]].join(" ")}}else if(typeof xn=="string")zr=[xn,_n,Dn,ni,Ei[2]].join(" ");else switch(Cr.precision){case 2:zr=[_r(xn),_r(_n),_r(Dn),_r(ni),Ei[2]].join(" ");break;case 3:default:zr=[fr(xn),fr(_n),fr(Dn),fr(ni),Ei[2]].join(" ")}return zr},Mn=We.__private__.getFilters=function(){return Oe},qn=We.__private__.putStream=function(Cr){var zr=(Cr=Cr||{}).data||"",xn=Cr.filters||Mn(),_n=Cr.alreadyAppliedFilters||[],Dn=Cr.addLength1||!1,ni=zr.length,Ei=Cr.objectId,$i=function(os){return os};if($e!==null&&Ei===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");$e!==null&&($i=na.encryptor(Ei,0));var ur={};xn===!0&&(xn=["FlateEncode"]);var Fr=Cr.additionalKeyValues||[],Ur=(ur=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(zr,xn):{data:zr,reverseChain:[]}).reverseChain+(Array.isArray(_n)?_n.join(" "):_n.toString());if(ur.data.length!==0&&(Fr.push({key:"Length",value:ur.data.length}),Dn===!0&&Fr.push({key:"Length1",value:ni})),Ur.length!=0)if(Ur.split("/").length-1==1)Fr.push({key:"Filter",value:Ur});else{Fr.push({key:"Filter",value:"["+Ur+"]"});for(var en=0;en<Fr.length;en+=1)if(Fr[en].key==="DecodeParms"){for(var Pn=[],Un=0;Un<ur.reverseChain.split("/").length-1;Un+=1)Pn.push("null");Pn.push(Fr[en].value),Fr[en].value="["+Pn.join(" ")+"]"}}Zr("<<");for(var si=0;si<Fr.length;si++)Zr("/"+Fr[si].key+" "+Fr[si].value);Zr(">>"),ur.data.length!==0&&(Zr("stream"),Zr($i(ur.data)),Zr("endstream"))},Nn=We.__private__.putPage=function(Cr){var zr=Cr.number,xn=Cr.data,_n=Cr.objId,Dn=Cr.contentsObjId;Kr(_n,!0),Zr("<</Type /Page"),Zr("/Parent "+Cr.rootDictionaryObjId+" 0 R"),Zr("/Resources "+Cr.resourceDictionaryObjId+" 0 R"),Zr("/MediaBox ["+parseFloat(nr(Cr.mediaBox.bottomLeftX))+" "+parseFloat(nr(Cr.mediaBox.bottomLeftY))+" "+nr(Cr.mediaBox.topRightX)+" "+nr(Cr.mediaBox.topRightY)+"]"),Cr.cropBox!==null&&Zr("/CropBox ["+nr(Cr.cropBox.bottomLeftX)+" "+nr(Cr.cropBox.bottomLeftY)+" "+nr(Cr.cropBox.topRightX)+" "+nr(Cr.cropBox.topRightY)+"]"),Cr.bleedBox!==null&&Zr("/BleedBox ["+nr(Cr.bleedBox.bottomLeftX)+" "+nr(Cr.bleedBox.bottomLeftY)+" "+nr(Cr.bleedBox.topRightX)+" "+nr(Cr.bleedBox.topRightY)+"]"),Cr.trimBox!==null&&Zr("/TrimBox ["+nr(Cr.trimBox.bottomLeftX)+" "+nr(Cr.trimBox.bottomLeftY)+" "+nr(Cr.trimBox.topRightX)+" "+nr(Cr.trimBox.topRightY)+"]"),Cr.artBox!==null&&Zr("/ArtBox ["+nr(Cr.artBox.bottomLeftX)+" "+nr(Cr.artBox.bottomLeftY)+" "+nr(Cr.artBox.topRightX)+" "+nr(Cr.artBox.topRightY)+"]"),typeof Cr.userUnit=="number"&&Cr.userUnit!==1&&Zr("/UserUnit "+Cr.userUnit),Ri.publish("putPage",{objId:_n,pageContext:fi[zr],pageNumber:zr,page:xn}),Zr("/Contents "+Dn+" 0 R"),Zr(">>"),Zr("endobj");var ni=xn.join(`
`);return Je===Ze.ADVANCED&&(ni+=`
Q`),Kr(Dn,!0),qn({data:ni,filters:Mn(),objectId:Dn}),Zr("endobj"),_n},Vn=We.__private__.putPages=function(){var Cr,zr,xn=[];for(Cr=1;Cr<=hi;Cr++)fi[Cr].objId=ra(),fi[Cr].contentsObjId=ra();for(Cr=1;Cr<=hi;Cr++)xn.push(Nn({number:Cr,data:An[Cr],objId:fi[Cr].objId,contentsObjId:fi[Cr].contentsObjId,mediaBox:fi[Cr].mediaBox,cropBox:fi[Cr].cropBox,bleedBox:fi[Cr].bleedBox,trimBox:fi[Cr].trimBox,artBox:fi[Cr].artBox,userUnit:fi[Cr].userUnit,rootDictionaryObjId:sn,resourceDictionaryObjId:on}));Kr(sn,!0),Zr("<</Type /Pages");var _n="/Kids [";for(zr=0;zr<hi;zr++)_n+=xn[zr]+" 0 R ";Zr(_n+"]"),Zr("/Count "+hi),Zr(">>"),Zr("endobj"),Ri.publish("postPutPages")},Kn=function(Cr){Ri.publish("putFont",{font:Cr,out:Zr,newObject:Yi,putStream:qn}),Cr.isAlreadyPutted!==!0&&(Cr.objectNumber=Yi(),Zr("<<"),Zr("/Type /Font"),Zr("/BaseFont /"+F$2(Cr.postScriptName)),Zr("/Subtype /Type1"),typeof Cr.encoding=="string"&&Zr("/Encoding /"+Cr.encoding),Zr("/FirstChar 32"),Zr("/LastChar 255"),Zr(">>"),Zr("endobj"))},gi=function(){for(var Cr in ti)ti.hasOwnProperty(Cr)&&(He===!1||He===!0&&Qe.hasOwnProperty(Cr))&&Kn(ti[Cr])},Ti=function(Cr){Cr.objectNumber=Yi();var zr=[];zr.push({key:"Type",value:"/XObject"}),zr.push({key:"Subtype",value:"/Form"}),zr.push({key:"BBox",value:"["+[nr(Cr.x),nr(Cr.y),nr(Cr.x+Cr.width),nr(Cr.y+Cr.height)].join(" ")+"]"}),zr.push({key:"Matrix",value:"["+Cr.matrix.toString()+"]"});var xn=Cr.pages[1].join(`
`);qn({data:xn,additionalKeyValues:zr,objectId:Cr.objectNumber}),Zr("endobj")},zi=function(){for(var Cr in ds)ds.hasOwnProperty(Cr)&&Ti(ds[Cr])},Ci=function(Cr,zr){var xn,_n=[],Dn=1/(zr-1);for(xn=0;xn<1;xn+=Dn)_n.push(xn);if(_n.push(1),Cr[0].offset!=0){var ni={offset:0,color:Cr[0].color};Cr.unshift(ni)}if(Cr[Cr.length-1].offset!=1){var Ei={offset:1,color:Cr[Cr.length-1].color};Cr.push(Ei)}for(var $i="",ur=0,Fr=0;Fr<_n.length;Fr++){for(xn=_n[Fr];xn>Cr[ur+1].offset;)ur++;var Ur=Cr[ur].offset,en=(xn-Ur)/(Cr[ur+1].offset-Ur),Pn=Cr[ur].color,Un=Cr[ur+1].color;$i+=Or(Math.round((1-en)*Pn[0]+en*Un[0]).toString(16))+Or(Math.round((1-en)*Pn[1]+en*Un[1]).toString(16))+Or(Math.round((1-en)*Pn[2]+en*Un[2]).toString(16))}return $i.trim()},Li=function(Cr,zr){zr||(zr=21);var xn=Yi(),_n=Ci(Cr.colors,zr),Dn=[];Dn.push({key:"FunctionType",value:"0"}),Dn.push({key:"Domain",value:"[0.0 1.0]"}),Dn.push({key:"Size",value:"["+zr+"]"}),Dn.push({key:"BitsPerSample",value:"8"}),Dn.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Dn.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qn({data:_n,additionalKeyValues:Dn,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:xn}),Zr("endobj"),Cr.objectNumber=Yi(),Zr("<< /ShadingType "+Cr.type),Zr("/ColorSpace /DeviceRGB");var ni="/Coords ["+nr(parseFloat(Cr.coords[0]))+" "+nr(parseFloat(Cr.coords[1]))+" ";Cr.type===2?ni+=nr(parseFloat(Cr.coords[2]))+" "+nr(parseFloat(Cr.coords[3])):ni+=nr(parseFloat(Cr.coords[2]))+" "+nr(parseFloat(Cr.coords[3]))+" "+nr(parseFloat(Cr.coords[4]))+" "+nr(parseFloat(Cr.coords[5])),Zr(ni+="]"),Cr.matrix&&Zr("/Matrix ["+Cr.matrix.toString()+"]"),Zr("/Function "+xn+" 0 R"),Zr("/Extend [true true]"),Zr(">>"),Zr("endobj")},ss=function(Cr,zr){var xn=ra(),_n=Yi();zr.push({resourcesOid:xn,objectOid:_n}),Cr.objectNumber=_n;var Dn=[];Dn.push({key:"Type",value:"/Pattern"}),Dn.push({key:"PatternType",value:"1"}),Dn.push({key:"PaintType",value:"1"}),Dn.push({key:"TilingType",value:"1"}),Dn.push({key:"BBox",value:"["+Cr.boundingBox.map(nr).join(" ")+"]"}),Dn.push({key:"XStep",value:nr(Cr.xStep)}),Dn.push({key:"YStep",value:nr(Cr.yStep)}),Dn.push({key:"Resources",value:xn+" 0 R"}),Cr.matrix&&Dn.push({key:"Matrix",value:"["+Cr.matrix.toString()+"]"}),qn({data:Cr.stream,additionalKeyValues:Dn,objectId:Cr.objectNumber}),Zr("endobj")},gs=function(Cr){var zr;for(zr in vn)vn.hasOwnProperty(zr)&&(vn[zr]instanceof B$1?Li(vn[zr]):vn[zr]instanceof M$1&&ss(vn[zr],Cr))},_s=function(Cr){for(var zr in Cr.objectNumber=Yi(),Zr("<<"),Cr)switch(zr){case"opacity":Zr("/ca "+_r(Cr[zr]));break;case"stroke-opacity":Zr("/CA "+_r(Cr[zr]))}Zr(">>"),Zr("endobj")},ys=function(){var Cr;for(Cr in bi)bi.hasOwnProperty(Cr)&&_s(bi[Cr])},eo=function(){for(var Cr in Zr("/XObject <<"),ds)ds.hasOwnProperty(Cr)&&ds[Cr].objectNumber>=0&&Zr("/"+Cr+" "+ds[Cr].objectNumber+" 0 R");Ri.publish("putXobjectDict"),Zr(">>")},Eo=function(){na.oid=Yi(),Zr("<<"),Zr("/Filter /Standard"),Zr("/V "+na.v),Zr("/R "+na.r),Zr("/U <"+na.toHexString(na.U)+">"),Zr("/O <"+na.toHexString(na.O)+">"),Zr("/P "+na.P),Zr(">>"),Zr("endobj")},oo=function(){for(var Cr in Zr("/Font <<"),ti)ti.hasOwnProperty(Cr)&&(He===!1||He===!0&&Qe.hasOwnProperty(Cr))&&Zr("/"+Cr+" "+ti[Cr].objectNumber+" 0 R");Zr(">>")},wo=function(){if(Object.keys(vn).length>0){for(var Cr in Zr("/Shading <<"),vn)vn.hasOwnProperty(Cr)&&vn[Cr]instanceof B$1&&vn[Cr].objectNumber>=0&&Zr("/"+Cr+" "+vn[Cr].objectNumber+" 0 R");Ri.publish("putShadingPatternDict"),Zr(">>")}},co=function(Cr){if(Object.keys(vn).length>0){for(var zr in Zr("/Pattern <<"),vn)vn.hasOwnProperty(zr)&&vn[zr]instanceof We.TilingPattern&&vn[zr].objectNumber>=0&&vn[zr].objectNumber<Cr&&Zr("/"+zr+" "+vn[zr].objectNumber+" 0 R");Ri.publish("putTilingPatternDict"),Zr(">>")}},Na=function(){if(Object.keys(bi).length>0){var Cr;for(Cr in Zr("/ExtGState <<"),bi)bi.hasOwnProperty(Cr)&&bi[Cr].objectNumber>=0&&Zr("/"+Cr+" "+bi[Cr].objectNumber+" 0 R");Ri.publish("putGStateDict"),Zr(">>")}},la=function(Cr){Kr(Cr.resourcesOid,!0),Zr("<<"),Zr("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),oo(),wo(),co(Cr.objectOid),Na(),eo(),Zr(">>"),Zr("endobj")},uo=function(){var Cr=[];gi(),ys(),zi(),gs(Cr),Ri.publish("putResources"),Cr.forEach(la),la({resourcesOid:on,objectOid:Number.MAX_SAFE_INTEGER}),Ri.publish("postPutResources")},$c=function(){Ri.publish("putAdditionalObjects");for(var Cr=0;Cr<Jr.length;Cr++){var zr=Jr[Cr];Kr(zr.objId,!0),Zr(zr.content),Zr("endobj")}Ri.publish("postPutAdditionalObjects")},mc=function(Cr){Bi[Cr.fontName]=Bi[Cr.fontName]||{},Bi[Cr.fontName][Cr.fontStyle]=Cr.id},sl=function(Cr,zr,xn,_n,Dn){var ni={id:"F"+(Object.keys(ti).length+1).toString(10),postScriptName:Cr,fontName:zr,fontStyle:xn,encoding:_n,isStandardFont:Dn||!1,metadata:{}};return Ri.publish("addFont",{font:ni,instance:this}),ti[ni.id]=ni,mc(ni),ni.id},Bl=function(Cr){for(var zr=0,xn=zn.length;zr<xn;zr++){var _n=sl.call(this,Cr[zr][0],Cr[zr][1],Cr[zr][2],zn[zr][3],!0);He===!1&&(Qe[_n]=!0);var Dn=Cr[zr][0].split("-");mc({id:_n,fontName:Dn[0],fontStyle:Dn[1]||""})}Ri.publish("addFonts",{fonts:ti,dictionary:Bi})},xo=function(Cr){return Cr.foo=function(){try{return Cr.apply(this,arguments)}catch(_n){var zr=_n.stack||"";~zr.indexOf(" at ")&&(zr=zr.split(" at ")[1]);var xn="Error in function "+zr.split(`
`)[0].split("<")[0]+": "+_n.message;if(!n$1.console)throw new Error(xn);n$1.console.error(xn,_n),n$1.alert&&alert(xn)}},Cr.foo.bar=Cr,Cr.foo},Da=function(Cr,zr){var xn,_n,Dn,ni,Ei,$i,ur,Fr,Ur;if(Dn=(zr=zr||{}).sourceEncoding||"Unicode",Ei=zr.outputEncoding,(zr.autoencode||Ei)&&ti[En].metadata&&ti[En].metadata[Dn]&&ti[En].metadata[Dn].encoding&&(ni=ti[En].metadata[Dn].encoding,!Ei&&ti[En].encoding&&(Ei=ti[En].encoding),!Ei&&ni.codePages&&(Ei=ni.codePages[0]),typeof Ei=="string"&&(Ei=ni[Ei]),Ei)){for(ur=!1,$i=[],xn=0,_n=Cr.length;xn<_n;xn++)(Fr=Ei[Cr.charCodeAt(xn)])?$i.push(String.fromCharCode(Fr)):$i.push(Cr[xn]),$i[xn].charCodeAt(0)>>8&&(ur=!0);Cr=$i.join("")}for(xn=Cr.length;ur===void 0&&xn!==0;)Cr.charCodeAt(xn-1)>>8&&(ur=!0),xn--;if(!ur)return Cr;for($i=zr.noBOM?[]:[254,255],xn=0,_n=Cr.length;xn<_n;xn++){if((Ur=(Fr=Cr.charCodeAt(xn))>>8)>>8)throw new Error("Character at position "+xn+" of string '"+Cr+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$i.push(Ur),$i.push(Fr-(Ur<<8))}return String.fromCharCode.apply(void 0,$i)},Os=We.__private__.pdfEscape=We.pdfEscape=function(Cr,zr){return Da(Cr,zr).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vo=We.__private__.beginPage=function(Cr){An[++hi]=[],fi[hi]={objId:0,contentsObjId:0,userUnit:Number(ke),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Cr[0]),topRightY:Number(Cr[1])}},hl(hi),mn(An[vr])},Xl=function(Cr,zr){var xn,_n,Dn;switch(je=zr||je,typeof Cr=="string"&&(xn=Ye(Cr.toLowerCase()),Array.isArray(xn)&&(_n=xn[0],Dn=xn[1])),Array.isArray(Cr)&&(_n=Cr[0]*Cn,Dn=Cr[1]*Cn),isNaN(_n)&&(_n=De[0],Dn=De[1]),(_n>14400||Dn>14400)&&(a$2.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_n=Math.min(14400,_n),Dn=Math.min(14400,Dn)),De=[_n,Dn],je.substr(0,1)){case"l":Dn>_n&&(De=[Dn,_n]);break;case"p":_n>Dn&&(De=[Dn,_n])}vo(De),fu(Fl),Zr(Va),vc!==0&&Zr(vc+" J"),yc!==0&&Zr(yc+" j"),Ri.publish("addPage",{pageNumber:hi})},Jl=function(Cr){Cr>0&&Cr<=hi&&(An.splice(Cr,1),fi.splice(Cr,1),hi--,vr>hi&&(vr=hi),this.setPage(vr))},hl=function(Cr){Cr>0&&Cr<=hi&&(vr=Cr)},Ws=We.__private__.getNumberOfPages=We.getNumberOfPages=function(){return An.length-1},Zl=function(Cr,zr,xn){var _n,Dn=void 0;return xn=xn||{},Cr=Cr!==void 0?Cr:ti[En].fontName,zr=zr!==void 0?zr:ti[En].fontStyle,_n=Cr.toLowerCase(),Bi[_n]!==void 0&&Bi[_n][zr]!==void 0?Dn=Bi[_n][zr]:Bi[Cr]!==void 0&&Bi[Cr][zr]!==void 0?Dn=Bi[Cr][zr]:xn.disableWarning===!1&&a$2.warn("Unable to look up font label for font '"+Cr+"', '"+zr+"'. Refer to getFontList() for available fonts."),Dn||xn.noFallback||(Dn=Bi.times[zr])==null&&(Dn=Bi.times.normal),Dn},Qo=We.__private__.putInfo=function(){var Cr=Yi(),zr=function(_n){return _n};for(var xn in $e!==null&&(zr=na.encryptor(Cr,0)),Zr("<<"),Zr("/Producer ("+Os(zr("jsPDF "+E.version))+")"),Si)Si.hasOwnProperty(xn)&&Si[xn]&&Zr("/"+xn.substr(0,1).toUpperCase()+xn.substr(1)+" ("+Os(zr(Si[xn]))+")");Zr("/CreationDate ("+Os(zr(jr))+")"),Zr(">>"),Zr("endobj")},zo=We.__private__.putCatalog=function(Cr){var zr=(Cr=Cr||{}).rootDictionaryObjId||sn;switch(Yi(),Zr("<<"),Zr("/Type /Catalog"),Zr("/Pages "+zr+" 0 R"),Jn||(Jn="fullwidth"),Jn){case"fullwidth":Zr("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Zr("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Zr("/OpenAction [3 0 R /Fit]");break;case"original":Zr("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xn=""+Jn;xn.substr(xn.length-1)==="%"&&(Jn=parseInt(Jn)/100),typeof Jn=="number"&&Zr("/OpenAction [3 0 R /XYZ null null "+_r(Jn)+"]")}switch(xi||(xi="continuous"),xi){case"continuous":Zr("/PageLayout /OneColumn");break;case"single":Zr("/PageLayout /SinglePage");break;case"two":case"twoleft":Zr("/PageLayout /TwoColumnLeft");break;case"tworight":Zr("/PageLayout /TwoColumnRight")}wi&&Zr("/PageMode /"+wi),Ri.publish("putCatalog"),Zr(">>"),Zr("endobj")},Gu=We.__private__.putTrailer=function(){Zr("trailer"),Zr("<<"),Zr("/Size "+(Nr+1)),Zr("/Root "+Nr+" 0 R"),Zr("/Info "+(Nr-1)+" 0 R"),$e!==null&&Zr("/Encrypt "+na.oid+" 0 R"),Zr("/ID [ <"+xr+"> <"+xr+"> ]"),Zr(">>")},Vc=We.__private__.putHeader=function(){Zr("%PDF-"+qe),Zr("%")},du=We.__private__.putXRef=function(){var Cr="0000000000";Zr("xref"),Zr("0 "+(Nr+1)),Zr("0000000000 65535 f ");for(var zr=1;zr<=Nr;zr++)typeof Hr[zr]=="function"?Zr((Cr+Hr[zr]()).slice(-10)+" 00000 n "):Hr[zr]!==void 0?Zr((Cr+Hr[zr]).slice(-10)+" 00000 n "):Zr("0000000000 00000 n ")},Nl=We.__private__.buildDocument=function(){gn(),mn(Wr),Ri.publish("buildDocument"),Vc(),Vn(),$c(),uo(),$e!==null&&Eo(),Qo(),zo();var Cr=qr;return du(),Gu(),Zr("startxref"),Zr(""+Cr),Zr("%%EOF"),mn(An[vr]),Wr.join(`
`)},gc=We.__private__.getBlob=function(Cr){return new Blob([ri(Cr)],{type:"application/pdf"})},al=We.output=We.__private__.output=xo((function(Cr,zr){switch(typeof(zr=zr||{})=="string"?zr={filename:zr}:zr.filename=zr.filename||"generated.pdf",Cr){case void 0:return Nl();case"save":We.save(zr.filename);break;case"arraybuffer":return ri(Nl());case"blob":return gc(Nl());case"bloburi":case"bloburl":if(n$1.URL!==void 0&&typeof n$1.URL.createObjectURL=="function")return n$1.URL&&n$1.URL.createObjectURL(gc(Nl()))||void 0;a$2.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xn="",_n=Nl();try{xn=h$1(_n)}catch{xn=h$1(unescape(encodeURIComponent(_n)))}return"data:application/pdf;filename="+zr.filename+";base64,"+xn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n$1)==="[object Window]"){var Dn="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ni=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';zr.pdfObjectUrl&&(Dn=zr.pdfObjectUrl,ni="");var Ei='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Dn+'"'+ni+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(zr)+");<\/script></body></html>",$i=n$1.open();return $i!==null&&$i.document.write(Ei),$i}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n$1)==="[object Window]"){var ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(zr.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+zr.filename+'" width="500px" height="400px" /></body></html>',Fr=n$1.open();if(Fr!==null){Fr.document.write(ur);var Ur=this;Fr.document.documentElement.querySelector("#pdfViewer").onload=function(){Fr.document.title=zr.filename,Fr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ur.output("bloburl"))}}return Fr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n$1)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",zr)+'"></iframe></body></html>',Pn=n$1.open();if(Pn!==null&&(Pn.document.write(en),Pn.document.title=zr.filename),Pn||typeof safari>"u")return Pn;break;case"datauri":case"dataurl":return n$1.document.location.href=this.output("datauristring",zr);default:return null}})),fo=function(Cr){return Array.isArray(Zi)===!0&&Zi.indexOf(Cr)>-1};switch(Be){case"pt":Cn=1;break;case"mm":Cn=72/25.4;break;case"cm":Cn=72/2.54;break;case"in":Cn=72;break;case"px":Cn=fo("px_scaling")==1?.75:96/72;break;case"pc":case"em":Cn=12;break;case"ex":Cn=6;break;default:if(typeof Be!="number")throw new Error("Invalid unit: "+Be);Cn=Be}var na=null;Lr(),br();var Dl=function(Cr){return $e!==null?na.encryptor(Cr,0):function(zr){return zr}},Al=We.__private__.getPageInfo=We.getPageInfo=function(Cr){if(isNaN(Cr)||Cr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:fi[Cr].objId,pageNumber:Cr,pageContext:fi[Cr]}},ts=We.__private__.getPageInfoByObjId=function(Cr){if(isNaN(Cr)||Cr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var zr in fi)if(fi[zr].objId===Cr)break;return Al(zr)},pl=We.__private__.getCurrentPageInfo=We.getCurrentPageInfo=function(){return{objId:fi[vr].objId,pageNumber:vr,pageContext:fi[vr]}};We.addPage=function(){return Xl.apply(this,arguments),this},We.setPage=function(){return hl.apply(this,arguments),mn.call(this,An[vr]),this},We.insertPage=function(Cr){return this.addPage(),this.movePage(vr,Cr),this},We.movePage=function(Cr,zr){var xn,_n;if(Cr>zr){xn=An[Cr],_n=fi[Cr];for(var Dn=Cr;Dn>zr;Dn--)An[Dn]=An[Dn-1],fi[Dn]=fi[Dn-1];An[zr]=xn,fi[zr]=_n,this.setPage(zr)}else if(Cr<zr){xn=An[Cr],_n=fi[Cr];for(var ni=Cr;ni<zr;ni++)An[ni]=An[ni+1],fi[ni]=fi[ni+1];An[zr]=xn,fi[zr]=_n,this.setPage(zr)}return this},We.deletePage=function(){return Jl.apply(this,arguments),this},We.__private__.text=We.text=function(Cr,zr,xn,_n,Dn){var ni,Ei,$i,ur,Fr,Ur,en,Pn,Un,si=(_n=_n||{}).scope||this;if(typeof Cr=="number"&&typeof zr=="number"&&(typeof xn=="string"||Array.isArray(xn))){var os=xn;xn=zr,zr=Cr,Cr=os}if(arguments[3]instanceof Mi?(sr("The transform parameter of text() with a Matrix value"),Un=Dn):($i=arguments[4],ur=arguments[5],_typeof(en=arguments[3])==="object"&&en!==null||(typeof $i=="string"&&(ur=$i,$i=null),typeof en=="string"&&(ur=en,en=null),typeof en=="number"&&($i=en,en=null),_n={flags:en,angle:$i,align:ur})),isNaN(zr)||isNaN(xn)||Cr==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Cr.length===0)return si;var Es="",As=!1,Bs=typeof _n.lineHeightFactor=="number"?_n.lineHeightFactor:Cs,Ts=si.internal.scaleFactor;function _l(ws){return ws=ws.split("	").join(Array(_n.TabLen||9).join(" ")),Os(ws,en)}function Js(ws){for(var Ss,ca=ws.concat(),pa=[],El=ca.length;El--;)typeof(Ss=ca.shift())=="string"?pa.push(Ss):Array.isArray(ws)&&(Ss.length===1||Ss[1]===void 0&&Ss[2]===void 0)?pa.push(Ss[0]):pa.push([Ss[0],Ss[1],Ss[2]]);return pa}function ks(ws,Ss){var ca;if(typeof ws=="string")ca=Ss(ws)[0];else if(Array.isArray(ws)){for(var pa,El,Zc=ws.concat(),ac=[],Tc=Zc.length;Tc--;)typeof(pa=Zc.shift())=="string"?ac.push(Ss(pa)[0]):Array.isArray(pa)&&typeof pa[0]=="string"&&(El=Ss(pa[0],pa[1],pa[2]),ac.push([El[0],El[1],El[2]]));ca=ac}return ca}var Ml=!1,Aa=!0;if(typeof Cr=="string")Ml=!0;else if(Array.isArray(Cr)){var Kc=Cr.concat();Ei=[];for(var Go,ba=Kc.length;ba--;)(typeof(Go=Kc.shift())!="string"||Array.isArray(Go)&&typeof Go[0]!="string")&&(Aa=!1);Ml=Aa}if(Ml===!1)throw new Error('Type of text must be string or Array. "'+Cr+'" is not recognized.');typeof Cr=="string"&&(Cr=Cr.match(/[\r?\n]/)?Cr.split(/\r\n|\r|\n/g):[Cr]);var Ms=ei/si.internal.scaleFactor,Gc=Ms*(Bs-1);switch(_n.baseline){case"bottom":xn-=Gc;break;case"top":xn+=Ms-Gc;break;case"hanging":xn+=Ms-2*Gc;break;case"middle":xn+=Ms/2-Gc}if((Ur=_n.maxWidth||0)>0&&(typeof Cr=="string"?Cr=si.splitTextToSize(Cr,Ur):Object.prototype.toString.call(Cr)==="[object Array]"&&(Cr=Cr.reduce((function(ws,Ss){return ws.concat(si.splitTextToSize(Ss,Ur))}),[]))),ni={text:Cr,x:zr,y:xn,options:_n,mutex:{pdfEscape:Os,activeFontKey:En,fonts:ti,activeFontSize:ei}},Ri.publish("preProcessText",ni),Cr=ni.text,$i=(_n=ni.options).angle,!(Un instanceof Mi)&&$i&&typeof $i=="number"){$i*=Math.PI/180,_n.rotationDirection===0&&($i=-$i),Je===Ze.ADVANCED&&($i=-$i);var qc=Math.cos($i),hu=Math.sin($i);Un=new Mi(qc,hu,-hu,qc,0,0)}else $i&&$i instanceof Mi&&(Un=$i);Je!==Ze.ADVANCED||Un||(Un=Fs),(Fr=_n.charSpace||Ro)!==void 0&&(Es+=nr(or(Fr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pn=_n.horizontalScale)!==void 0&&(Es+=nr(100*Pn)+` Tz
`),_n.lang;var ko=-1,Ju=_n.renderingMode!==void 0?_n.renderingMode:_n.stroke,Zu=si.internal.getCurrentPageInfo().pageContext;switch(Ju){case 0:case!1:case"fill":ko=0;break;case 1:case!0:case"stroke":ko=1;break;case 2:case"fillThenStroke":ko=2;break;case 3:case"invisible":ko=3;break;case 4:case"fillAndAddForClipping":ko=4;break;case 5:case"strokeAndAddPathForClipping":ko=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ko=6;break;case 7:case"addToPathForClipping":ko=7}var Ed=Zu.usedRenderingMode!==void 0?Zu.usedRenderingMode:-1;ko!==-1?Es+=ko+` Tr
`:Ed!==-1&&(Es+=`0 Tr
`),ko!==-1&&(Zu.usedRenderingMode=ko),ur=_n.align||"left";var Ea,da=ei*Bs,Mo=si.internal.pageSize.getWidth(),Ra=ti[En];Fr=_n.charSpace||Ro,Ur=_n.maxWidth||0,en=Object.assign({autoencode:!0,noBOM:!0},_n.flags);var Io=[],wc=function(ws){return si.getStringUnitWidth(ws,{font:Ra,charSpace:Fr,fontSize:ei,doKerning:!1})*ei/Ts};if(Object.prototype.toString.call(Cr)==="[object Array]"){var jo;Ei=Js(Cr),ur!=="left"&&(Ea=Ei.map(wc));var Ka,Sc=0;if(ur==="right"){zr-=Ea[0],Cr=[],ba=Ei.length;for(var qo=0;qo<ba;qo++)qo===0?(Ka=To(zr),jo=$a(xn)):(Ka=or(Sc-Ea[qo]),jo=-da),Cr.push([Ei[qo],Ka,jo]),Sc=Ea[qo]}else if(ur==="center"){zr-=Ea[0]/2,Cr=[],ba=Ei.length;for(var Lo=0;Lo<ba;Lo++)Lo===0?(Ka=To(zr),jo=$a(xn)):(Ka=or((Sc-Ea[Lo])/2),jo=-da),Cr.push([Ei[Lo],Ka,jo]),Sc=Ea[Lo]}else if(ur==="left"){Cr=[],ba=Ei.length;for(var Ao=0;Ao<ba;Ao++)Cr.push(Ei[Ao])}else if(ur==="justify"&&Ra.encoding==="Identity-H"){Cr=[],ba=Ei.length,Ur=Ur!==0?Ur:Mo;for(var Ll=0,Pa=0;Pa<ba;Pa++)if(jo=Pa===0?$a(xn):-da,Ka=Pa===0?To(zr):Ll,Pa<ba-1){var Yo=or((Ur-Ea[Pa])/(Ei[Pa].split(" ").length-1)),Oa=Ei[Pa].split(" ");Cr.push([Oa[0]+" ",Ka,jo]),Ll=0;for(var Xo=1;Xo<Oa.length;Xo++){var Au=(wc(Oa[Xo-1]+" "+Oa[Xo])-wc(Oa[Xo]))*Ts+Yo;Xo==Oa.length-1?Cr.push([Oa[Xo],Au,0]):Cr.push([Oa[Xo]+" ",Au,0]),Ll-=Au}}else Cr.push([Ei[Pa],Ka,jo]);Cr.push(["",Ll,0])}else{if(ur!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Cr=[],ba=Ei.length,Ur=Ur!==0?Ur:Mo,Pa=0;Pa<ba;Pa++)jo=Pa===0?$a(xn):-da,Ka=Pa===0?To(zr):0,Pa<ba-1?Io.push(nr(or((Ur-Ea[Pa])/(Ei[Pa].split(" ").length-1)))):Io.push(0),Cr.push([Ei[Pa],Ka,jo])}}var Ha=typeof _n.R2L=="boolean"?_n.R2L:_i;Ha===!0&&(Cr=ks(Cr,(function(ws,Ss,ca){return[ws.split("").reverse().join(""),Ss,ca]}))),ni={text:Cr,x:zr,y:xn,options:_n,mutex:{pdfEscape:Os,activeFontKey:En,fonts:ti,activeFontSize:ei}},Ri.publish("postProcessText",ni),Cr=ni.text,As=ni.mutex.isHex||!1;var pu=ti[En].encoding;pu!=="WinAnsiEncoding"&&pu!=="StandardEncoding"||(Cr=ks(Cr,(function(ws,Ss,ca){return[_l(ws),Ss,ca]}))),Ei=Js(Cr),Cr=[];for(var Yc,Xc,Ul,mu=0,gu=1,Cc=Array.isArray(Ei[0])?gu:mu,sc="",Jc=function(ws,Ss,ca){var pa="";return ca instanceof Mi?(ca=typeof _n.angle=="number"?Qs(ca,new Mi(1,0,0,1,ws,Ss)):Qs(new Mi(1,0,0,1,ws,Ss),ca),Je===Ze.ADVANCED&&(ca=Qs(new Mi(1,0,0,-1,0,0),ca)),pa=ca.join(" ")+` Tm
`):pa=nr(ws)+" "+nr(Ss)+` Td
`,pa},wa=0;wa<Ei.length;wa++){switch(sc="",Cc){case gu:Ul=(As?"<":"(")+Ei[wa][0]+(As?">":")"),Yc=parseFloat(Ei[wa][1]),Xc=parseFloat(Ei[wa][2]);break;case mu:Ul=(As?"<":"(")+Ei[wa]+(As?">":")"),Yc=To(zr),Xc=$a(xn)}Io!==void 0&&Io[wa]!==void 0&&(sc=Io[wa]+` Tw
`),wa===0?Cr.push(sc+Jc(Yc,Xc,Un)+Ul):Cc===mu?Cr.push(sc+Ul):Cc===gu&&Cr.push(sc+Jc(Yc,Xc,Un)+Ul)}Cr=Cc===mu?Cr.join(` Tj
T* `):Cr.join(` Tj
`),Cr+=` Tj
`;var Jo=`BT
/`;return Jo+=En+" "+ei+` Tf
`,Jo+=nr(ei*Bs)+` TL
`,Jo+=bl+`
`,Jo+=Es,Jo+=Cr,Zr(Jo+="ET"),Qe[En]=!0,si};var qu=We.__private__.clip=We.clip=function(Cr){return Zr(Cr==="evenodd"?"W*":"W"),this};We.clipEvenOdd=function(){return qu("evenodd")},We.__private__.discardPath=We.discardPath=function(){return Zr("n"),this};var So=We.__private__.isValidStyle=function(Cr){var zr=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Cr)!==-1&&(zr=!0),zr};We.__private__.setDefaultPathOperation=We.setDefaultPathOperation=function(Cr){return So(Cr)&&(Ue=Cr),this};var Wo=We.__private__.getStyle=We.getStyle=function(Cr){var zr=Ue;switch(Cr){case"D":case"S":zr="S";break;case"F":zr="f";break;case"FD":case"DF":zr="B";break;case"f":case"f*":case"B":case"B*":zr=Cr}return zr},Oo=We.close=function(){return Zr("h"),this};We.stroke=function(){return Zr("S"),this},We.fill=function(Cr){return ml("f",Cr),this},We.fillEvenOdd=function(Cr){return ml("f*",Cr),this},We.fillStroke=function(Cr){return ml("B",Cr),this},We.fillStrokeEvenOdd=function(Cr){return ml("B*",Cr),this};var ml=function(Cr,zr){_typeof(zr)==="object"?xl(zr,Cr):Zr(Cr)},ya=function(Cr){Cr===null||Je===Ze.ADVANCED&&Cr===void 0||(Cr=Wo(Cr),Zr(Cr))};function gl(Cr,zr,xn,_n,Dn){var ni=new M$1(zr||this.boundingBox,xn||this.xStep,_n||this.yStep,this.gState,Dn||this.matrix);ni.stream=this.stream;var Ei=Cr+"$$"+this.cloneIndex+++"$$";return Xs(Ei,ni),ni}var xl=function(Cr,zr){var xn=Ni[Cr.key],_n=vn[xn];if(_n instanceof B$1)Zr("q"),Zr(Hc(zr)),_n.gState&&We.setGState(_n.gState),Zr(Cr.matrix.toString()+" cm"),Zr("/"+xn+" sh"),Zr("Q");else if(_n instanceof M$1){var Dn=new Mi(1,0,0,-1,0,Po());Cr.matrix&&(Dn=Dn.multiply(Cr.matrix||Fs),xn=gl.call(_n,Cr.key,Cr.boundingBox,Cr.xStep,Cr.yStep,Dn).id),Zr("q"),Zr("/Pattern cs"),Zr("/"+xn+" scn"),_n.gState&&We.setGState(_n.gState),Zr(zr),Zr("Q")}},Hc=function(Cr){switch(Cr){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ko=We.moveTo=function(Cr,zr){return Zr(nr(or(Cr))+" "+nr(Rr(zr))+" m"),this},Co=We.lineTo=function(Cr,zr){return Zr(nr(or(Cr))+" "+nr(Rr(zr))+" l"),this},vl=We.curveTo=function(Cr,zr,xn,_n,Dn,ni){return Zr([nr(or(Cr)),nr(Rr(zr)),nr(or(xn)),nr(Rr(_n)),nr(or(Dn)),nr(Rr(ni)),"c"].join(" ")),this};We.__private__.line=We.line=function(Cr,zr,xn,_n,Dn){if(isNaN(Cr)||isNaN(zr)||isNaN(xn)||isNaN(_n)||!So(Dn))throw new Error("Invalid arguments passed to jsPDF.line");return Je===Ze.COMPAT?this.lines([[xn-Cr,_n-zr]],Cr,zr,[1,1],Dn||"S"):this.lines([[xn-Cr,_n-zr]],Cr,zr,[1,1]).stroke()},We.__private__.lines=We.lines=function(Cr,zr,xn,_n,Dn,ni){var Ei,$i,ur,Fr,Ur,en,Pn,Un,si,os,Es,As;if(typeof Cr=="number"&&(As=xn,xn=zr,zr=Cr,Cr=As),_n=_n||[1,1],ni=ni||!1,isNaN(zr)||isNaN(xn)||!Array.isArray(Cr)||!Array.isArray(_n)||!So(Dn)||typeof ni!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ko(zr,xn),Ei=_n[0],$i=_n[1],Fr=Cr.length,os=zr,Es=xn,ur=0;ur<Fr;ur++)(Ur=Cr[ur]).length===2?(os=Ur[0]*Ei+os,Es=Ur[1]*$i+Es,Co(os,Es)):(en=Ur[0]*Ei+os,Pn=Ur[1]*$i+Es,Un=Ur[2]*Ei+os,si=Ur[3]*$i+Es,os=Ur[4]*Ei+os,Es=Ur[5]*$i+Es,vl(en,Pn,Un,si,os,Es));return ni&&Oo(),ya(Dn),this},We.path=function(Cr){for(var zr=0;zr<Cr.length;zr++){var xn=Cr[zr],_n=xn.c;switch(xn.op){case"m":Ko(_n[0],_n[1]);break;case"l":Co(_n[0],_n[1]);break;case"c":vl.apply(this,_n);break;case"h":Oo()}}return this},We.__private__.rect=We.rect=function(Cr,zr,xn,_n,Dn){if(isNaN(Cr)||isNaN(zr)||isNaN(xn)||isNaN(_n)||!So(Dn))throw new Error("Invalid arguments passed to jsPDF.rect");return Je===Ze.COMPAT&&(_n=-_n),Zr([nr(or(Cr)),nr(Rr(zr)),nr(or(xn)),nr(or(_n)),"re"].join(" ")),ya(Dn),this},We.__private__.triangle=We.triangle=function(Cr,zr,xn,_n,Dn,ni,Ei){if(isNaN(Cr)||isNaN(zr)||isNaN(xn)||isNaN(_n)||isNaN(Dn)||isNaN(ni)||!So(Ei))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xn-Cr,_n-zr],[Dn-xn,ni-_n],[Cr-Dn,zr-ni]],Cr,zr,[1,1],Ei,!0),this},We.__private__.roundedRect=We.roundedRect=function(Cr,zr,xn,_n,Dn,ni,Ei){if(isNaN(Cr)||isNaN(zr)||isNaN(xn)||isNaN(_n)||isNaN(Dn)||isNaN(ni)||!So(Ei))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $i=4/3*(Math.SQRT2-1);return Dn=Math.min(Dn,.5*xn),ni=Math.min(ni,.5*_n),this.lines([[xn-2*Dn,0],[Dn*$i,0,Dn,ni-ni*$i,Dn,ni],[0,_n-2*ni],[0,ni*$i,-Dn*$i,ni,-Dn,ni],[2*Dn-xn,0],[-Dn*$i,0,-Dn,-ni*$i,-Dn,-ni],[0,2*ni-_n],[0,-ni*$i,Dn*$i,-ni,Dn,-ni]],Cr+Dn,zr,[1,1],Ei,!0),this},We.__private__.ellipse=We.ellipse=function(Cr,zr,xn,_n,Dn){if(isNaN(Cr)||isNaN(zr)||isNaN(xn)||isNaN(_n)||!So(Dn))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ni=4/3*(Math.SQRT2-1)*xn,Ei=4/3*(Math.SQRT2-1)*_n;return Ko(Cr+xn,zr),vl(Cr+xn,zr-Ei,Cr+ni,zr-_n,Cr,zr-_n),vl(Cr-ni,zr-_n,Cr-xn,zr-Ei,Cr-xn,zr),vl(Cr-xn,zr+Ei,Cr-ni,zr+_n,Cr,zr+_n),vl(Cr+ni,zr+_n,Cr+xn,zr+Ei,Cr+xn,zr),ya(Dn),this},We.__private__.circle=We.circle=function(Cr,zr,xn,_n){if(isNaN(Cr)||isNaN(zr)||isNaN(xn)||!So(_n))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Cr,zr,xn,xn,_n)},We.setFont=function(Cr,zr,xn){return xn&&(zr=ar(zr,xn)),En=Zl(Cr,zr,{disableWarning:!1}),this};var Fa=We.__private__.getFont=We.getFont=function(){return ti[Zl.apply(We,arguments)]};We.__private__.getFontList=We.getFontList=function(){var Cr,zr,xn={};for(Cr in Bi)if(Bi.hasOwnProperty(Cr))for(zr in xn[Cr]=[],Bi[Cr])Bi[Cr].hasOwnProperty(zr)&&xn[Cr].push(zr);return xn},We.addFont=function(Cr,zr,xn,_n,Dn){var ni=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ni.indexOf(arguments[3])!==-1?Dn=arguments[3]:arguments[3]&&ni.indexOf(arguments[3])==-1&&(xn=ar(xn,_n)),Dn=Dn||"Identity-H",sl.call(this,Cr,zr,xn,Dn)};var Cs,Fl=Ce.lineWidth||.200025,yl=We.__private__.getLineWidth=We.getLineWidth=function(){return Fl},fu=We.__private__.setLineWidth=We.setLineWidth=function(Cr){return Fl=Cr,Zr(nr(or(Cr))+" w"),this};We.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Cr,zr){if(Cr=Cr||[],zr=zr||0,isNaN(zr)||!Array.isArray(Cr))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Cr=Cr.map((function(xn){return nr(or(xn))})).join(" "),zr=nr(or(zr)),Zr("["+Cr+"] "+zr+" d"),this};var ha=We.__private__.getLineHeight=We.getLineHeight=function(){return ei*Cs};We.__private__.getLineHeight=We.getLineHeight=function(){return ei*Cs};var xc=We.__private__.setLineHeightFactor=We.setLineHeightFactor=function(Cr){return typeof(Cr=Cr||1.15)=="number"&&(Cs=Cr),this},ho=We.__private__.getLineHeightFactor=We.getLineHeightFactor=function(){return Cs};xc(Ce.lineHeight);var To=We.__private__.getHorizontalCoordinate=function(Cr){return or(Cr)},$a=We.__private__.getVerticalCoordinate=function(Cr){return Je===Ze.ADVANCED?Cr:fi[vr].mediaBox.topRightY-fi[vr].mediaBox.bottomLeftY-or(Cr)},Yu=We.__private__.getHorizontalCoordinateString=We.getHorizontalCoordinateString=function(Cr){return nr(To(Cr))},tc=We.__private__.getVerticalCoordinateString=We.getVerticalCoordinateString=function(Cr){return nr($a(Cr))},Va=Ce.strokeColor||"0 G";We.__private__.getStrokeColor=We.getDrawColor=function(){return hn(Va)},We.__private__.setStrokeColor=We.setDrawColor=function(Cr,zr,xn,_n){return Va=pn({ch1:Cr,ch2:zr,ch3:xn,ch4:_n,pdfColorType:"draw",precision:2}),Zr(Va),this};var ol=Ce.fillColor||"0 g";We.__private__.getFillColor=We.getFillColor=function(){return hn(ol)},We.__private__.setFillColor=We.setFillColor=function(Cr,zr,xn,_n){return ol=pn({ch1:Cr,ch2:zr,ch3:xn,ch4:_n,pdfColorType:"fill",precision:2}),Zr(ol),this};var bl=Ce.textColor||"0 g",Qc=We.__private__.getTextColor=We.getTextColor=function(){return hn(bl)};We.__private__.setTextColor=We.setTextColor=function(Cr,zr,xn,_n){return bl=pn({ch1:Cr,ch2:zr,ch3:xn,ch4:_n,pdfColorType:"text",precision:3}),this};var Ro=Ce.charSpace,Ol=We.__private__.getCharSpace=We.getCharSpace=function(){return parseFloat(Ro||0)};We.__private__.setCharSpace=We.setCharSpace=function(Cr){if(isNaN(Cr))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ro=Cr,this};var vc=0;We.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},We.__private__.setLineCap=We.setLineCap=function(Cr){var zr=We.CapJoinStyles[Cr];if(zr===void 0)throw new Error("Line cap style of '"+Cr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vc=zr,Zr(zr+" J"),this};var yc=0;We.__private__.setLineJoin=We.setLineJoin=function(Cr){var zr=We.CapJoinStyles[Cr];if(zr===void 0)throw new Error("Line join style of '"+Cr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yc=zr,Zr(zr+" j"),this},We.__private__.setLineMiterLimit=We.__private__.setMiterLimit=We.setLineMiterLimit=We.setMiterLimit=function(Cr){if(Cr=Cr||0,isNaN(Cr))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Zr(nr(or(Cr))+" M"),this},We.GState=j$2,We.setGState=function(Cr){(Cr=typeof Cr=="string"?bi[Gi[Cr]]:rc(null,Cr)).equals(Di)||(Zr("/"+Cr.id+" gs"),Di=Cr)};var rc=function(Cr,zr){if(!Cr||!Gi[Cr]){var xn=!1;for(var _n in bi)if(bi.hasOwnProperty(_n)&&bi[_n].equals(zr)){xn=!0;break}if(xn)zr=bi[_n];else{var Dn="GS"+(Object.keys(bi).length+1).toString(10);bi[Dn]=zr,zr.id=Dn}return Cr&&(Gi[Cr]=zr.id),Ri.publish("addGState",zr),zr}};We.addGState=function(Cr,zr){return rc(Cr,zr),this},We.saveGraphicsState=function(){return Zr("q"),jn.push({key:En,size:ei,color:bl}),this},We.restoreGraphicsState=function(){Zr("Q");var Cr=jn.pop();return En=Cr.key,ei=Cr.size,bl=Cr.color,Di=null,this},We.setCurrentTransformationMatrix=function(Cr){return Zr(Cr.toString()+" cm"),this},We.comment=function(Cr){return Zr("#"+Cr),this};var bc=function(Cr,zr){var xn=Cr||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xn},set:function(ni){isNaN(ni)||(xn=parseFloat(ni))}});var _n=zr||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _n},set:function(ni){isNaN(ni)||(_n=parseFloat(ni))}});var Dn="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Dn},set:function(ni){Dn=ni.toString()}}),this},zc=function(Cr,zr,xn,_n){bc.call(this,Cr,zr),this.type="rect";var Dn=xn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Dn},set:function(Ei){isNaN(Ei)||(Dn=parseFloat(Ei))}});var ni=_n||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ni},set:function(Ei){isNaN(Ei)||(ni=parseFloat(Ei))}}),this},_c=function(){this.page=hi,this.currentPage=vr,this.pages=An.slice(0),this.pagesContext=fi.slice(0),this.x=oi,this.y=ci,this.matrix=Qi,this.width=ic(vr),this.height=Po(vr),this.outputDestination=bn,this.id="",this.objectNumber=-1};_c.prototype.restore=function(){hi=this.page,vr=this.currentPage,fi=this.pagesContext,An=this.pages,oi=this.x,ci=this.y,Qi=this.matrix,Ec(vr,this.width),Wc(vr,this.height),bn=this.outputDestination};var nc=function(Cr,zr,xn,_n,Dn){Wa.push(new _c),hi=vr=0,An=[],oi=Cr,ci=zr,Qi=Dn,vo([xn,_n])},Xu=function(Cr){if(oa[Cr])Wa.pop().restore();else{var zr=new _c,xn="Xo"+(Object.keys(ds).length+1).toString(10);zr.id=xn,oa[Cr]=xn,ds[xn]=zr,Ri.publish("addFormObject",zr),Wa.pop().restore()}};for(var kl in We.beginFormObject=function(Cr,zr,xn,_n,Dn){return nc(Cr,zr,xn,_n,Dn),this},We.endFormObject=function(Cr){return Xu(Cr),this},We.doFormObject=function(Cr,zr){var xn=ds[oa[Cr]];return Zr("q"),Zr(zr.toString()+" cm"),Zr("/"+xn.id+" Do"),Zr("Q"),this},We.getFormObject=function(Cr){var zr=ds[oa[Cr]];return{x:zr.x,y:zr.y,width:zr.width,height:zr.height,matrix:zr.matrix}},We.save=function(Cr,zr){return Cr=Cr||"generated.pdf",(zr=zr||{}).returnPromise=zr.returnPromise||!1,zr.returnPromise===!1?(l$1(gc(Nl()),Cr),typeof l$1.unload=="function"&&n$1.setTimeout&&setTimeout(l$1.unload,911),this):new Promise((function(xn,_n){try{var Dn=l$1(gc(Nl()),Cr);typeof l$1.unload=="function"&&n$1.setTimeout&&setTimeout(l$1.unload,911),xn(Dn)}catch(ni){_n(ni.message)}}))},E.API)E.API.hasOwnProperty(kl)&&(kl==="events"&&E.API.events.length?(function(Cr,zr){var xn,_n,Dn;for(Dn=zr.length-1;Dn!==-1;Dn--)xn=zr[Dn][0],_n=zr[Dn][1],Cr.subscribe.apply(Cr,[xn].concat(typeof _n=="function"?[_n]:_n))})(Ri,E.API.events):We[kl]=E.API[kl]);var ic=We.getPageWidth=function(Cr){return(fi[Cr=Cr||vr].mediaBox.topRightX-fi[Cr].mediaBox.bottomLeftX)/Cn},Ec=We.setPageWidth=function(Cr,zr){fi[Cr].mediaBox.topRightX=zr*Cn+fi[Cr].mediaBox.bottomLeftX},Po=We.getPageHeight=function(Cr){return(fi[Cr=Cr||vr].mediaBox.topRightY-fi[Cr].mediaBox.bottomLeftY)/Cn},Wc=We.setPageHeight=function(Cr,zr){fi[Cr].mediaBox.topRightY=zr*Cn+fi[Cr].mediaBox.bottomLeftY};return We.internal={pdfEscape:Os,getStyle:Wo,getFont:Fa,getFontSize:Wn,getCharSpace:Ol,getTextColor:Qc,getLineHeight:ha,getLineHeightFactor:ho,getLineWidth:yl,write:kn,getHorizontalCoordinate:To,getVerticalCoordinate:$a,getCoordinateString:Yu,getVerticalCoordinateString:tc,collections:{},newObject:Yi,newAdditionalObject:fn,newObjectDeferred:ra,newObjectDeferredBegin:Kr,getFilters:Mn,putStream:qn,events:Ri,scaleFactor:Cn,pageSize:{getWidth:function(){return ic(vr)},setWidth:function(Cr){Ec(vr,Cr)},getHeight:function(){return Po(vr)},setHeight:function(Cr){Wc(vr,Cr)}},encryptionOptions:$e,encryption:na,getEncryptor:Dl,output:al,getNumberOfPages:Ws,pages:An,out:Zr,f2:_r,f3:fr,getPageInfo:Al,getPageInfoByObjId:ts,getCurrentPageInfo:pl,getPDFVersion:Ke,Point:bc,Rectangle:zc,Matrix:Mi,hasHotfix:fo},Object.defineProperty(We.internal.pageSize,"width",{get:function(){return ic(vr)},set:function(Cr){Ec(vr,Cr)},enumerable:!0,configurable:!0}),Object.defineProperty(We.internal.pageSize,"height",{get:function(){return Po(vr)},set:function(Cr){Wc(vr,Cr)},enumerable:!0,configurable:!0}),Bl.call(We,zn),En="F1",Xl(De,je),Ri.publish("initialized"),We}I$1.prototype.lsbFirstWord=function(Ce){return String.fromCharCode(Ce>>0&255,Ce>>8&255,Ce>>16&255,Ce>>24&255)},I$1.prototype.toHexString=function(Ce){return Ce.split("").map((function(Re){return("0"+(255&Re.charCodeAt(0)).toString(16)).slice(-2)})).join("")},I$1.prototype.hexToBytes=function(Ce){for(var Re=[],je=0;je<Ce.length;je+=2)Re.push(String.fromCharCode(parseInt(Ce.substr(je,2),16)));return Re.join("")},I$1.prototype.processOwnerPassword=function(Ce,Re){return P$3(x$2(Re).substr(0,5),Ce)},I$1.prototype.encryptor=function(Ce,Re){var je=x$2(this.encryptionKey+String.fromCharCode(255&Ce,Ce>>8&255,Ce>>16&255,255&Re,Re>>8&255)).substr(0,10);return function(Be){return P$3(je,Be)}},j$2.prototype.equals=function(Ce){var Re,je="id,objectNumber,equals";if(!Ce||_typeof(Ce)!==_typeof(this))return!1;var Be=0;for(Re in this)if(!(je.indexOf(Re)>=0)){if(this.hasOwnProperty(Re)&&!Ce.hasOwnProperty(Re)||this[Re]!==Ce[Re])return!1;Be++}for(Re in Ce)Ce.hasOwnProperty(Re)&&je.indexOf(Re)<0&&Be--;return Be===0},E.API={events:[]},E.version="3.0.1";var q=E.API,D=1,R=function(Ce){return Ce.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(Ce){return Ce.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U$2=function(Ce){return Ce.toFixed(2)},z$1=function(Ce){return Ce.toFixed(5)};q.__acroform__={};var H=function(Ce,Re){Ce.prototype=Object.create(Re.prototype),Ce.prototype.constructor=Ce},W$2=function(Ce){return Ce*D},V$2=function(Ce){var Re=new ut,je=At$1.internal.getHeight(Ce)||0,Be=At$1.internal.getWidth(Ce)||0;return Re.BBox=[0,0,Number(U$2(Be)),Number(U$2(je))],Re},G$1=q.__acroform__.setBit=function(Ce,Re){if(Ce=Ce||0,Re=Re||0,isNaN(Ce)||isNaN(Re))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return Ce|=1<<Re},Y$1=q.__acroform__.clearBit=function(Ce,Re){if(Ce=Ce||0,Re=Re||0,isNaN(Ce)||isNaN(Re))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return Ce&=~(1<<Re)},J$2=q.__acroform__.getBit=function(Ce,Re){if(isNaN(Ce)||isNaN(Re))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(Ce&1<<Re)==0?0:1},X$1=q.__acroform__.getBitForPdf=function(Ce,Re){if(isNaN(Ce)||isNaN(Re))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J$2(Ce,Re-1)},K$1=q.__acroform__.setBitForPdf=function(Ce,Re){if(isNaN(Ce)||isNaN(Re))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G$1(Ce,Re-1)},Z$1=q.__acroform__.clearBitForPdf=function(Ce,Re){if(isNaN(Ce)||isNaN(Re))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y$1(Ce,Re-1)},$$2=q.__acroform__.calculateCoordinates=function(Ce,Re){var je=Re.internal.getHorizontalCoordinate,Be=Re.internal.getVerticalCoordinate,De=Ce[0],Fe=Ce[1],Oe=Ce[2],ke=Ce[3],Me={};return Me.lowerLeft_X=je(De)||0,Me.lowerLeft_Y=Be(Fe+ke)||0,Me.upperRight_X=je(De+Oe)||0,Me.upperRight_Y=Be(Fe)||0,[Number(U$2(Me.lowerLeft_X)),Number(U$2(Me.lowerLeft_Y)),Number(U$2(Me.upperRight_X)),Number(U$2(Me.upperRight_Y))]},Q$1=function(Ce){if(Ce.appearanceStreamContent)return Ce.appearanceStreamContent;if(Ce.V||Ce.DV){var Re=[],je=Ce._V||Ce.DV,Be=tt$1(Ce,je),De=Ce.scope.internal.getFont(Ce.fontName,Ce.fontStyle).id;Re.push("/Tx BMC"),Re.push("q"),Re.push("BT"),Re.push(Ce.scope.__private__.encodeColorString(Ce.color)),Re.push("/"+De+" "+U$2(Be.fontSize)+" Tf"),Re.push("1 0 0 1 0 0 Tm"),Re.push(Be.text),Re.push("ET"),Re.push("Q"),Re.push("EMC");var Fe=V$2(Ce);return Fe.scope=Ce.scope,Fe.stream=Re.join(`
`),Fe}},tt$1=function(Ce,Re){var je=Ce.fontSize===0?Ce.maxFontSize:Ce.fontSize,Be={text:"",fontSize:""},De=(Re=(Re=Re.substr(0,1)=="("?Re.substr(1):Re).substr(Re.length-1)==")"?Re.substr(0,Re.length-1):Re).split(" ");De=Ce.multiline?De.map((function(fr){return fr.split(`
`)})):De.map((function(fr){return[fr]}));var Fe=je,Oe=At$1.internal.getHeight(Ce)||0;Oe=Oe<0?-Oe:Oe;var ke=At$1.internal.getWidth(Ce)||0;ke=ke<0?-ke:ke;var Me=function(fr,or,Er){if(fr+1<De.length){var Rr=or+" "+De[fr+1][0];return et(Rr,Ce,Er).width<=ke-4}return!1};Fe++;e:for(;Fe>0;){Re="",Fe--;var Ue,$e,He=et("3",Ce,Fe).height,Qe=Ce.multiline?Oe-Fe:(Oe-He)/2,We=Qe+=2,qe=0,Ke=0,Xe=0;if(Fe<=0){Re=`(...) Tj
`,Re+="% Width of Text: "+et(Re,Ce,Fe=12).width+", FieldWidth:"+ke+`
`;break}for(var Ye="",Ze=0,Je=0;Je<De.length;Je++)if(De.hasOwnProperty(Je)){var tr=!1;if(De[Je].length!==1&&Xe!==De[Je].length-1){if((He+2)*(Ze+2)+2>Oe)continue e;Ye+=De[Je][Xe],tr=!0,Ke=Je,Je--}else{Ye=(Ye+=De[Je][Xe]+" ").substr(Ye.length-1)==" "?Ye.substr(0,Ye.length-1):Ye;var rr=parseInt(Je),ar=Me(rr,Ye,Fe),nr=Je>=De.length-1;if(ar&&!nr){Ye+=" ",Xe=0;continue}if(ar||nr){if(nr)Ke=rr;else if(Ce.multiline&&(He+2)*(Ze+2)+2>Oe)continue e}else{if(!Ce.multiline||(He+2)*(Ze+2)+2>Oe)continue e;Ke=rr}}for(var sr="",dr=qe;dr<=Ke;dr++){var _r=De[dr];if(Ce.multiline){if(dr===Ke){sr+=_r[Xe]+" ",Xe=(Xe+1)%_r.length;continue}if(dr===qe){sr+=_r[_r.length-1]+" ";continue}}sr+=_r[0]+" "}switch(sr=sr.substr(sr.length-1)==" "?sr.substr(0,sr.length-1):sr,$e=et(sr,Ce,Fe).width,Ce.textAlign){case"right":Ue=ke-$e-2;break;case"center":Ue=(ke-$e)/2;break;case"left":default:Ue=2}Re+=U$2(Ue)+" "+U$2(We)+` Td
`,Re+="("+R(sr)+`) Tj
`,Re+=-U$2(Ue)+` 0 Td
`,We=-(Fe+2),$e=0,qe=tr?Ke:Ke+1,Ze++,Ye=""}break}return Be.text=Re,Be.fontSize=Fe,Be},et=function(Ce,Re,je){var Be=Re.scope.internal.getFont(Re.fontName,Re.fontStyle),De=Re.scope.getStringUnitWidth(Ce,{font:Be,fontSize:parseFloat(je),charSpace:0})*parseFloat(je);return{height:Re.scope.getStringUnitWidth("3",{font:Be,fontSize:parseFloat(je),charSpace:0})*parseFloat(je)*1.5,width:De}},rt$1={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt$1=function(Ce,Re){var je={type:"reference",object:Ce};Re.internal.getPageInfo(Ce.page).pageContext.annotations.find((function(Be){return Be.type===je.type&&Be.object===je.object}))===void 0&&Re.internal.getPageInfo(Ce.page).pageContext.annotations.push(je)},it=function(Ce,Re){for(var je in Ce)if(Ce.hasOwnProperty(je)){var Be=je,De=Ce[je];Re.internal.newObjectDeferredBegin(De.objId,!0),_typeof(De)==="object"&&typeof De.putStream=="function"&&De.putStream(),delete Ce[Be]}},at$1=function(Ce,Re){if(Re.scope=Ce,Ce.internal!==void 0&&(Ce.internal.acroformPlugin===void 0||Ce.internal.acroformPlugin.isInitialized===!1)){if(lt$1.FieldNum=0,Ce.internal.acroformPlugin=JSON.parse(JSON.stringify(rt$1)),Ce.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=Ce.internal.scaleFactor,Ce.internal.acroformPlugin.acroFormDictionaryRoot=new ht$1,Ce.internal.acroformPlugin.acroFormDictionaryRoot.scope=Ce,Ce.internal.acroformPlugin.acroFormDictionaryRoot._eventID=Ce.internal.events.subscribe("postPutResources",(function(){(function(je){je.internal.events.unsubscribe(je.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete je.internal.acroformPlugin.acroFormDictionaryRoot._eventID,je.internal.acroformPlugin.printedOut=!0})(Ce)})),Ce.internal.events.subscribe("buildDocument",(function(){(function(je){je.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var Be=je.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var De in Be)if(Be.hasOwnProperty(De)){var Fe=Be[De];Fe.objId=void 0,Fe.hasAnnotation&&nt$1(Fe,je)}})(Ce)})),Ce.internal.events.subscribe("putCatalog",(function(){(function(je){if(je.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");je.internal.write("/AcroForm "+je.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(Ce)})),Ce.internal.events.subscribe("postPutPages",(function(je){(function(Be,De){var Fe=!Be;for(var Oe in Be||(De.internal.newObjectDeferredBegin(De.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),De.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),Be=Be||De.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(Be.hasOwnProperty(Oe)){var ke=Be[Oe],Me=[],Ue=ke.Rect;if(ke.Rect&&(ke.Rect=$$2(ke.Rect,De)),De.internal.newObjectDeferredBegin(ke.objId,!0),ke.DA=At$1.createDefaultAppearanceStream(ke),_typeof(ke)==="object"&&typeof ke.getKeyValueListForStream=="function"&&(Me=ke.getKeyValueListForStream()),ke.Rect=Ue,ke.hasAppearanceStream&&!ke.appearanceStreamContent){var $e=Q$1(ke);Me.push({key:"AP",value:"<</N "+$e+">>"}),De.internal.acroformPlugin.xForms.push($e)}if(ke.appearanceStreamContent){var He="";for(var Qe in ke.appearanceStreamContent)if(ke.appearanceStreamContent.hasOwnProperty(Qe)){var We=ke.appearanceStreamContent[Qe];if(He+="/"+Qe+" ",He+="<<",Object.keys(We).length>=1||Array.isArray(We)){for(var Oe in We)if(We.hasOwnProperty(Oe)){var qe=We[Oe];typeof qe=="function"&&(qe=qe.call(De,ke)),He+="/"+Oe+" "+qe+" ",De.internal.acroformPlugin.xForms.indexOf(qe)>=0||De.internal.acroformPlugin.xForms.push(qe)}}else typeof(qe=We)=="function"&&(qe=qe.call(De,ke)),He+="/"+Oe+" "+qe,De.internal.acroformPlugin.xForms.indexOf(qe)>=0||De.internal.acroformPlugin.xForms.push(qe);He+=">>"}Me.push({key:"AP",value:`<<
`+He+">>"})}De.internal.putStream({additionalKeyValues:Me,objectId:ke.objId}),De.internal.out("endobj")}Fe&&it(De.internal.acroformPlugin.xForms,De)})(je,Ce)})),Ce.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(Ce,Re,je){var Be=function(Oe){return Oe};if(Array.isArray(Ce)){for(var De="[",Fe=0;Fe<Ce.length;Fe++)switch(Fe!==0&&(De+=" "),_typeof(Ce[Fe])){case"boolean":case"number":case"object":De+=Ce[Fe].toString();break;case"string":Ce[Fe].substr(0,1)!=="/"?(Re!==void 0&&je&&(Be=je.internal.getEncryptor(Re)),De+="("+R(Be(Ce[Fe].toString()))+")"):De+=Ce[Fe].toString()}return De+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st$1=function(Ce,Re,je){var Be=function(De){return De};return Re!==void 0&&je&&(Be=je.internal.getEncryptor(Re)),(Ce=Ce||"").toString(),Ce="("+R(Be(Ce))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(Ce){this._objId=Ce}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var Ce=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:Ce,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var Ce=[],Re=Object.getOwnPropertyNames(this).filter((function(Fe){return Fe!="content"&&Fe!="appearanceStreamContent"&&Fe!="scope"&&Fe!="objId"&&Fe.substring(0,1)!="_"}));for(var je in Re)if(Object.getOwnPropertyDescriptor(this,Re[je]).configurable===!1){var Be=Re[je],De=this[Be];De&&(Array.isArray(De)?Ce.push({key:Be,value:ot(De,this.objId,this.scope)}):De instanceof ct?(De.scope=this.scope,Ce.push({key:Be,value:De.objId+" 0 R"})):typeof De!="function"&&Ce.push({key:Be,value:De}))}return Ce};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var Ce,Re=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return Re},set:function(je){Re=je}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(je){Ce=je.trim()},get:function(){return Ce||null}})};H(ut,ct);var ht$1=function(){ct.call(this);var Ce,Re=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return Re.length>0?Re:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return Re}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(Ce){var je=function(Be){return Be};return this.scope&&(je=this.scope.internal.getEncryptor(this.objId)),"("+R(je(Ce))+")"}},set:function(je){Ce=je}})};H(ht$1,ct);var lt$1=function Ce(){ct.call(this);var Re=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return Re},set:function(Ye){if(isNaN(Ye))throw new Error('Invalid value "'+Ye+'" for attribute F supplied.');Re=Ye}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X$1(Re,3)},set:function(Ye){Ye?this.F=K$1(Re,3):this.F=Z$1(Re,3)}});var je=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return je},set:function(Ye){if(isNaN(Ye))throw new Error('Invalid value "'+Ye+'" for attribute Ff supplied.');je=Ye}});var Be=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(Be.length!==0)return Be},set:function(Ye){Be=Ye!==void 0?Ye:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Be||isNaN(Be[0])?0:Be[0]},set:function(Ye){Be[0]=Ye}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Be||isNaN(Be[1])?0:Be[1]},set:function(Ye){Be[1]=Ye}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Be||isNaN(Be[2])?0:Be[2]},set:function(Ye){Be[2]=Ye}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Be||isNaN(Be[3])?0:Be[3]},set:function(Ye){Be[3]=Ye}});var De="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return De},set:function(Ye){switch(Ye){case"/Btn":case"/Tx":case"/Ch":case"/Sig":De=Ye;break;default:throw new Error('Invalid value "'+Ye+'" for attribute FT supplied.')}}});var Fe=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Fe||Fe.length<1){if(this instanceof yt$1)return;Fe="FieldObject"+Ce.FieldNum++}var Ye=function(Ze){return Ze};return this.scope&&(Ye=this.scope.internal.getEncryptor(this.objId)),"("+R(Ye(Fe))+")"},set:function(Ye){Fe=Ye.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Fe},set:function(Ye){Fe=Ye}});var Oe="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Oe},set:function(Ye){Oe=Ye}});var ke="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return ke},set:function(Ye){ke=Ye}});var Me=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Me},set:function(Ye){Me=Ye}});var Ue=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Ue===void 0?50/D:Ue},set:function(Ye){Ue=Ye}});var $e="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return $e},set:function(Ye){$e=Ye}});var He="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!He||this instanceof yt$1||this instanceof Nt$1))return st$1(He,this.objId,this.scope)},set:function(Ye){Ye=Ye.toString(),He=Ye}});var Qe=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Qe)return this instanceof mt$1?Qe:st$1(Qe,this.objId,this.scope)},set:function(Ye){Ye=Ye.toString(),Qe=this instanceof mt$1?Ye:Ye.substr(0,1)==="("?T(Ye.substr(1,Ye.length-2)):T(Ye)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt$1?T(Qe.substr(1,Qe.length-1)):Qe},set:function(Ye){Ye=Ye.toString(),Qe=this instanceof mt$1?"/"+Ye:Ye}});var We=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(We)return We},set:function(Ye){this.V=Ye}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(We)return this instanceof mt$1?We:st$1(We,this.objId,this.scope)},set:function(Ye){Ye=Ye.toString(),We=this instanceof mt$1?Ye:Ye.substr(0,1)==="("?T(Ye.substr(1,Ye.length-2)):T(Ye)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt$1?T(We.substr(1,We.length-1)):We},set:function(Ye){Ye=Ye.toString(),We=this instanceof mt$1?"/"+Ye:Ye}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var qe,Ke=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Ke},set:function(Ye){Ye=!!Ye,Ke=Ye}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(qe)return qe},set:function(Ye){qe=Ye}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,1)},set:function(Ye){Ye?this.Ff=K$1(this.Ff,1):this.Ff=Z$1(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,2)},set:function(Ye){Ye?this.Ff=K$1(this.Ff,2):this.Ff=Z$1(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,3)},set:function(Ye){Ye?this.Ff=K$1(this.Ff,3):this.Ff=Z$1(this.Ff,3)}});var Xe=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Xe!==null)return Xe},set:function(Ye){if([0,1,2].indexOf(Ye)===-1)throw new Error('Invalid value "'+Ye+'" for attribute Q supplied.');Xe=Ye}}),Object.defineProperty(this,"textAlign",{get:function(){var Ye;switch(Xe){case 0:default:Ye="left";break;case 1:Ye="center";break;case 2:Ye="right"}return Ye},configurable:!0,enumerable:!0,set:function(Ye){switch(Ye){case"right":case 2:Xe=2;break;case"center":case 1:Xe=1;break;case"left":case 0:default:Xe=0}}})};H(lt$1,ct);var ft=function(){lt$1.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var Ce=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return Ce},set:function(je){Ce=je}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return Ce},set:function(je){Ce=je}});var Re=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(Re,this.objId,this.scope)},set:function(je){var Be,De;De=[],typeof(Be=je)=="string"&&(De=(function(Fe,Oe,ke){ke||(ke=1);for(var Me,Ue=[];Me=Oe.exec(Fe);)Ue.push(Me[ke]);return Ue})(Be,/\((.*?)\)/g)),Re=De}}),this.getOptions=function(){return Re},this.setOptions=function(je){Re=je,this.sort&&Re.sort()},this.addOption=function(je){je=(je=je||"").toString(),Re.push(je),this.sort&&Re.sort()},this.removeOption=function(je,Be){for(Be=Be||!1,je=(je=je||"").toString();Re.indexOf(je)!==-1&&(Re.splice(Re.indexOf(je),1),Be!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,18)},set:function(je){je?this.Ff=K$1(this.Ff,18):this.Ff=Z$1(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,19)},set:function(je){this.combo===!0&&(je?this.Ff=K$1(this.Ff,19):this.Ff=Z$1(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,20)},set:function(je){je?(this.Ff=K$1(this.Ff,20),Re.sort()):this.Ff=Z$1(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,22)},set:function(je){je?this.Ff=K$1(this.Ff,22):this.Ff=Z$1(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,23)},set:function(je){je?this.Ff=K$1(this.Ff,23):this.Ff=Z$1(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,27)},set:function(je){je?this.Ff=K$1(this.Ff,27):this.Ff=Z$1(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt$1);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt$1=function(){dt.call(this),this.combo=!0};H(pt$1,dt);var gt$1=function(){pt$1.call(this),this.edit=!0};H(gt$1,pt$1);var mt$1=function(){lt$1.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,15)},set:function(je){je?this.Ff=K$1(this.Ff,15):this.Ff=Z$1(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,16)},set:function(je){je?this.Ff=K$1(this.Ff,16):this.Ff=Z$1(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,17)},set:function(je){je?this.Ff=K$1(this.Ff,17):this.Ff=Z$1(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,26)},set:function(je){je?this.Ff=K$1(this.Ff,26):this.Ff=Z$1(this.Ff,26)}});var Ce,Re={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var je=function(Fe){return Fe};if(this.scope&&(je=this.scope.internal.getEncryptor(this.objId)),Object.keys(Re).length!==0){var Be,De=[];for(Be in De.push("<<"),Re)De.push("/"+Be+" ("+R(je(Re[Be]))+")");return De.push(">>"),De.join(`
`)}},set:function(je){_typeof(je)==="object"&&(Re=je)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Re.CA||""},set:function(je){typeof je=="string"&&(Re.CA=je)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ce},set:function(je){Ce=je}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ce.substr(1,Ce.length-1)},set:function(je){Ce="/"+je}})};H(mt$1,lt$1);var vt$1=function(){mt$1.call(this),this.pushButton=!0};H(vt$1,mt$1);var bt$1=function(){mt$1.call(this),this.radio=!0,this.pushButton=!1;var Ce=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return Ce},set:function(Re){Ce=Re!==void 0?Re:[]}})};H(bt$1,mt$1);var yt$1=function(){var Ce,Re;lt$1.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return Ce},set:function(De){Ce=De}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return Re},set:function(De){Re=De}});var je,Be={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var De=function(ke){return ke};this.scope&&(De=this.scope.internal.getEncryptor(this.objId));var Fe,Oe=[];for(Fe in Oe.push("<<"),Be)Oe.push("/"+Fe+" ("+R(De(Be[Fe]))+")");return Oe.push(">>"),Oe.join(`
`)},set:function(De){_typeof(De)==="object"&&(Be=De)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Be.CA||""},set:function(De){typeof De=="string"&&(Be.CA=De)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return je},set:function(De){je=De}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return je.substr(1,je.length-1)},set:function(De){je="/"+De}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At$1.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt$1,lt$1),bt$1.prototype.setAppearance=function(Ce){if(!("createAppearanceStream"in Ce)||!("getCA"in Ce))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var Re in this.Kids)if(this.Kids.hasOwnProperty(Re)){var je=this.Kids[Re];je.appearanceStreamContent=Ce.createAppearanceStream(je.optionName),je.caption=Ce.getCA()}},bt$1.prototype.createOption=function(Ce){var Re=new yt$1;return Re.Parent=this,Re.optionName=Ce,this.Kids.push(Re),xt$1.call(this.scope,Re),Re};var wt$1=function(){mt$1.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At$1.CheckBox.createAppearanceStream()};H(wt$1,mt$1);var Nt$1=function(){lt$1.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,13)},set:function(Re){Re?this.Ff=K$1(this.Ff,13):this.Ff=Z$1(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,21)},set:function(Re){Re?this.Ff=K$1(this.Ff,21):this.Ff=Z$1(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,23)},set:function(Re){Re?this.Ff=K$1(this.Ff,23):this.Ff=Z$1(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,24)},set:function(Re){Re?this.Ff=K$1(this.Ff,24):this.Ff=Z$1(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,25)},set:function(Re){Re?this.Ff=K$1(this.Ff,25):this.Ff=Z$1(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,26)},set:function(Re){Re?this.Ff=K$1(this.Ff,26):this.Ff=Z$1(this.Ff,26)}});var Ce=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return Ce},set:function(Re){Ce=Re}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return Ce},set:function(Re){Number.isInteger(Re)&&(Ce=Re)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt$1,lt$1);var Lt$1=function(){Nt$1.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,14)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,14):this.Ff=Z$1(this.Ff,14)}}),this.password=!0};H(Lt$1,Nt$1);var At$1={CheckBox:{createAppearanceStream:function(){return{N:{On:At$1.CheckBox.YesNormal},D:{On:At$1.CheckBox.YesPushDown,Off:At$1.CheckBox.OffPushDown}}},YesPushDown:function(Ce){var Re=V$2(Ce);Re.scope=Ce.scope;var je=[],Be=Ce.scope.internal.getFont(Ce.fontName,Ce.fontStyle).id,De=Ce.scope.__private__.encodeColorString(Ce.color),Fe=tt$1(Ce,Ce.caption);return je.push("0.749023 g"),je.push("0 0 "+U$2(At$1.internal.getWidth(Ce))+" "+U$2(At$1.internal.getHeight(Ce))+" re"),je.push("f"),je.push("BMC"),je.push("q"),je.push("0 0 1 rg"),je.push("/"+Be+" "+U$2(Fe.fontSize)+" Tf "+De),je.push("BT"),je.push(Fe.text),je.push("ET"),je.push("Q"),je.push("EMC"),Re.stream=je.join(`
`),Re},YesNormal:function(Ce){var Re=V$2(Ce);Re.scope=Ce.scope;var je=Ce.scope.internal.getFont(Ce.fontName,Ce.fontStyle).id,Be=Ce.scope.__private__.encodeColorString(Ce.color),De=[],Fe=At$1.internal.getHeight(Ce),Oe=At$1.internal.getWidth(Ce),ke=tt$1(Ce,Ce.caption);return De.push("1 g"),De.push("0 0 "+U$2(Oe)+" "+U$2(Fe)+" re"),De.push("f"),De.push("q"),De.push("0 0 1 rg"),De.push("0 0 "+U$2(Oe-1)+" "+U$2(Fe-1)+" re"),De.push("W"),De.push("n"),De.push("0 g"),De.push("BT"),De.push("/"+je+" "+U$2(ke.fontSize)+" Tf "+Be),De.push(ke.text),De.push("ET"),De.push("Q"),Re.stream=De.join(`
`),Re},OffPushDown:function(Ce){var Re=V$2(Ce);Re.scope=Ce.scope;var je=[];return je.push("0.749023 g"),je.push("0 0 "+U$2(At$1.internal.getWidth(Ce))+" "+U$2(At$1.internal.getHeight(Ce))+" re"),je.push("f"),Re.stream=je.join(`
`),Re}},RadioButton:{Circle:{createAppearanceStream:function(Ce){var Re={D:{Off:At$1.RadioButton.Circle.OffPushDown},N:{}};return Re.N[Ce]=At$1.RadioButton.Circle.YesNormal,Re.D[Ce]=At$1.RadioButton.Circle.YesPushDown,Re},getCA:function(){return"l"},YesNormal:function(Ce){var Re=V$2(Ce);Re.scope=Ce.scope;var je=[],Be=At$1.internal.getWidth(Ce)<=At$1.internal.getHeight(Ce)?At$1.internal.getWidth(Ce)/4:At$1.internal.getHeight(Ce)/4;Be=Number((.9*Be).toFixed(5));var De=At$1.internal.Bezier_C,Fe=Number((Be*De).toFixed(5));return je.push("q"),je.push("1 0 0 1 "+z$1(At$1.internal.getWidth(Ce)/2)+" "+z$1(At$1.internal.getHeight(Ce)/2)+" cm"),je.push(Be+" 0 m"),je.push(Be+" "+Fe+" "+Fe+" "+Be+" 0 "+Be+" c"),je.push("-"+Fe+" "+Be+" -"+Be+" "+Fe+" -"+Be+" 0 c"),je.push("-"+Be+" -"+Fe+" -"+Fe+" -"+Be+" 0 -"+Be+" c"),je.push(Fe+" -"+Be+" "+Be+" -"+Fe+" "+Be+" 0 c"),je.push("f"),je.push("Q"),Re.stream=je.join(`
`),Re},YesPushDown:function(Ce){var Re=V$2(Ce);Re.scope=Ce.scope;var je=[],Be=At$1.internal.getWidth(Ce)<=At$1.internal.getHeight(Ce)?At$1.internal.getWidth(Ce)/4:At$1.internal.getHeight(Ce)/4;Be=Number((.9*Be).toFixed(5));var De=Number((2*Be).toFixed(5)),Fe=Number((De*At$1.internal.Bezier_C).toFixed(5)),Oe=Number((Be*At$1.internal.Bezier_C).toFixed(5));return je.push("0.749023 g"),je.push("q"),je.push("1 0 0 1 "+z$1(At$1.internal.getWidth(Ce)/2)+" "+z$1(At$1.internal.getHeight(Ce)/2)+" cm"),je.push(De+" 0 m"),je.push(De+" "+Fe+" "+Fe+" "+De+" 0 "+De+" c"),je.push("-"+Fe+" "+De+" -"+De+" "+Fe+" -"+De+" 0 c"),je.push("-"+De+" -"+Fe+" -"+Fe+" -"+De+" 0 -"+De+" c"),je.push(Fe+" -"+De+" "+De+" -"+Fe+" "+De+" 0 c"),je.push("f"),je.push("Q"),je.push("0 g"),je.push("q"),je.push("1 0 0 1 "+z$1(At$1.internal.getWidth(Ce)/2)+" "+z$1(At$1.internal.getHeight(Ce)/2)+" cm"),je.push(Be+" 0 m"),je.push(Be+" "+Oe+" "+Oe+" "+Be+" 0 "+Be+" c"),je.push("-"+Oe+" "+Be+" -"+Be+" "+Oe+" -"+Be+" 0 c"),je.push("-"+Be+" -"+Oe+" -"+Oe+" -"+Be+" 0 -"+Be+" c"),je.push(Oe+" -"+Be+" "+Be+" -"+Oe+" "+Be+" 0 c"),je.push("f"),je.push("Q"),Re.stream=je.join(`
`),Re},OffPushDown:function(Ce){var Re=V$2(Ce);Re.scope=Ce.scope;var je=[],Be=At$1.internal.getWidth(Ce)<=At$1.internal.getHeight(Ce)?At$1.internal.getWidth(Ce)/4:At$1.internal.getHeight(Ce)/4;Be=Number((.9*Be).toFixed(5));var De=Number((2*Be).toFixed(5)),Fe=Number((De*At$1.internal.Bezier_C).toFixed(5));return je.push("0.749023 g"),je.push("q"),je.push("1 0 0 1 "+z$1(At$1.internal.getWidth(Ce)/2)+" "+z$1(At$1.internal.getHeight(Ce)/2)+" cm"),je.push(De+" 0 m"),je.push(De+" "+Fe+" "+Fe+" "+De+" 0 "+De+" c"),je.push("-"+Fe+" "+De+" -"+De+" "+Fe+" -"+De+" 0 c"),je.push("-"+De+" -"+Fe+" -"+Fe+" -"+De+" 0 -"+De+" c"),je.push(Fe+" -"+De+" "+De+" -"+Fe+" "+De+" 0 c"),je.push("f"),je.push("Q"),Re.stream=je.join(`
`),Re}},Cross:{createAppearanceStream:function(Ce){var Re={D:{Off:At$1.RadioButton.Cross.OffPushDown},N:{}};return Re.N[Ce]=At$1.RadioButton.Cross.YesNormal,Re.D[Ce]=At$1.RadioButton.Cross.YesPushDown,Re},getCA:function(){return"8"},YesNormal:function(Ce){var Re=V$2(Ce);Re.scope=Ce.scope;var je=[],Be=At$1.internal.calculateCross(Ce);return je.push("q"),je.push("1 1 "+U$2(At$1.internal.getWidth(Ce)-2)+" "+U$2(At$1.internal.getHeight(Ce)-2)+" re"),je.push("W"),je.push("n"),je.push(U$2(Be.x1.x)+" "+U$2(Be.x1.y)+" m"),je.push(U$2(Be.x2.x)+" "+U$2(Be.x2.y)+" l"),je.push(U$2(Be.x4.x)+" "+U$2(Be.x4.y)+" m"),je.push(U$2(Be.x3.x)+" "+U$2(Be.x3.y)+" l"),je.push("s"),je.push("Q"),Re.stream=je.join(`
`),Re},YesPushDown:function(Ce){var Re=V$2(Ce);Re.scope=Ce.scope;var je=At$1.internal.calculateCross(Ce),Be=[];return Be.push("0.749023 g"),Be.push("0 0 "+U$2(At$1.internal.getWidth(Ce))+" "+U$2(At$1.internal.getHeight(Ce))+" re"),Be.push("f"),Be.push("q"),Be.push("1 1 "+U$2(At$1.internal.getWidth(Ce)-2)+" "+U$2(At$1.internal.getHeight(Ce)-2)+" re"),Be.push("W"),Be.push("n"),Be.push(U$2(je.x1.x)+" "+U$2(je.x1.y)+" m"),Be.push(U$2(je.x2.x)+" "+U$2(je.x2.y)+" l"),Be.push(U$2(je.x4.x)+" "+U$2(je.x4.y)+" m"),Be.push(U$2(je.x3.x)+" "+U$2(je.x3.y)+" l"),Be.push("s"),Be.push("Q"),Re.stream=Be.join(`
`),Re},OffPushDown:function(Ce){var Re=V$2(Ce);Re.scope=Ce.scope;var je=[];return je.push("0.749023 g"),je.push("0 0 "+U$2(At$1.internal.getWidth(Ce))+" "+U$2(At$1.internal.getHeight(Ce))+" re"),je.push("f"),Re.stream=je.join(`
`),Re}}},createDefaultAppearanceStream:function(Ce){var Re=Ce.scope.internal.getFont(Ce.fontName,Ce.fontStyle).id,je=Ce.scope.__private__.encodeColorString(Ce.color);return"/"+Re+" "+Ce.fontSize+" Tf "+je}};At$1.internal={Bezier_C:.551915024494,calculateCross:function(Ce){var Re=At$1.internal.getWidth(Ce),je=At$1.internal.getHeight(Ce),Be=Math.min(Re,je);return{x1:{x:(Re-Be)/2,y:(je-Be)/2+Be},x2:{x:(Re-Be)/2+Be,y:(je-Be)/2},x3:{x:(Re-Be)/2,y:(je-Be)/2},x4:{x:(Re-Be)/2+Be,y:(je-Be)/2+Be}}}},At$1.internal.getWidth=function(Ce){var Re=0;return _typeof(Ce)==="object"&&(Re=W$2(Ce.Rect[2])),Re},At$1.internal.getHeight=function(Ce){var Re=0;return _typeof(Ce)==="object"&&(Re=W$2(Ce.Rect[3])),Re};var xt$1=q.addField=function(Ce){if(at$1(this,Ce),!(Ce instanceof lt$1))throw new Error("Invalid argument passed to jsPDF.addField.");var Re;return(Re=Ce).scope.internal.acroformPlugin.printedOut&&(Re.scope.internal.acroformPlugin.printedOut=!1,Re.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),Re.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(Re),Ce.page=Ce.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt$1,q.AcroFormEditBox=gt$1,q.AcroFormButton=mt$1,q.AcroFormPushButton=vt$1,q.AcroFormRadioButton=bt$1,q.AcroFormCheckBox=wt$1,q.AcroFormTextField=Nt$1,q.AcroFormPasswordField=Lt$1,q.AcroFormAppearance=At$1,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt$1,EditBox:gt$1,Button:mt$1,PushButton:vt$1,RadioButton:bt$1,CheckBox:wt$1,TextField:Nt$1,PasswordField:Lt$1,Appearance:At$1},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt$1,EditBox:gt$1,Button:mt$1,PushButton:vt$1,RadioButton:bt$1,CheckBox:wt$1,TextField:Nt$1,PasswordField:Lt$1,Appearance:At$1};var St=E.AcroForm;function _t$1(Ce){return Ce.reduce((function(Re,je,Be){return Re[je]=Be,Re}),{})}(function(Ce){Ce.__addimage__={};var Re="UNKNOWN",je={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Be=Ce.__addimage__.getImageFileTypeByImageData=function(fr,or){var Er,Rr,jr,xr,Pr,br=Re;if((or=or||Re)==="RGBA"||fr.data!==void 0&&fr.data instanceof Uint8ClampedArray&&"height"in fr&&"width"in fr)return"RGBA";if(ar(fr))for(Pr in je)for(jr=je[Pr],Er=0;Er<jr.length;Er+=1){for(xr=!0,Rr=0;Rr<jr[Er].length;Rr+=1)if(jr[Er][Rr]!==void 0&&jr[Er][Rr]!==fr[Rr]){xr=!1;break}if(xr===!0){br=Pr;break}}else for(Pr in je)for(jr=je[Pr],Er=0;Er<jr.length;Er+=1){for(xr=!0,Rr=0;Rr<jr[Er].length;Rr+=1)if(jr[Er][Rr]!==void 0&&jr[Er][Rr]!==fr.charCodeAt(Rr)){xr=!1;break}if(xr===!0){br=Pr;break}}return br===Re&&or!==Re&&(br=or),br},De=function fr(or){for(var Er=this.internal.write,Rr=this.internal.putStream,jr=(0,this.internal.getFilters)();jr.indexOf("FlateEncode")!==-1;)jr.splice(jr.indexOf("FlateEncode"),1);or.objectId=this.internal.newObject();var xr=[];if(xr.push({key:"Type",value:"/XObject"}),xr.push({key:"Subtype",value:"/Image"}),xr.push({key:"Width",value:or.width}),xr.push({key:"Height",value:or.height}),or.colorSpace===Xe.INDEXED?xr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(or.palette.length/3-1)+" "+("sMask"in or&&or.sMask!==void 0?or.objectId+2:or.objectId+1)+" 0 R]"}):(xr.push({key:"ColorSpace",value:"/"+or.colorSpace}),or.colorSpace===Xe.DEVICE_CMYK&&xr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),xr.push({key:"BitsPerComponent",value:or.bitsPerComponent}),"decodeParameters"in or&&or.decodeParameters!==void 0&&xr.push({key:"DecodeParms",value:"<<"+or.decodeParameters+">>"}),"transparency"in or&&Array.isArray(or.transparency)){for(var Pr="",br=0,wr=or.transparency.length;br<wr;br++)Pr+=or.transparency[br]+" "+or.transparency[br]+" ";xr.push({key:"Mask",value:"["+Pr+"]"})}or.sMask!==void 0&&xr.push({key:"SMask",value:or.objectId+1+" 0 R"});var Br=or.filter!==void 0?["/"+or.filter]:void 0;if(Rr({data:or.data,additionalKeyValues:xr,alreadyAppliedFilters:Br,objectId:or.objectId}),Er("endobj"),"sMask"in or&&or.sMask!==void 0){var Lr="/Predictor "+or.predictor+" /Colors 1 /BitsPerComponent "+or.bitsPerComponent+" /Columns "+or.width,yr={width:or.width,height:or.height,colorSpace:"DeviceGray",bitsPerComponent:or.bitsPerComponent,decodeParameters:Lr,data:or.sMask};"filter"in or&&(yr.filter=or.filter),fr.call(this,yr)}if(or.colorSpace===Xe.INDEXED){var vr=this.internal.newObject();Rr({data:sr(new Uint8Array(or.palette)),objectId:vr}),Er("endobj")}},Fe=function(){var fr=this.internal.collections.addImage_images;for(var or in fr)De.call(this,fr[or])},Oe=function(){var fr,or=this.internal.collections.addImage_images,Er=this.internal.write;for(var Rr in or)Er("/I"+(fr=or[Rr]).index,fr.objectId,"0","R")},ke=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",Fe),this.internal.events.subscribe("putXobjectDict",Oe))},Me=function(){var fr=this.internal.collections.addImage_images;return ke.call(this),fr},Ue=function(){return Object.keys(this.internal.collections.addImage_images).length},$e=function(fr){return typeof Ce["process"+fr.toUpperCase()]=="function"},He=function(fr){return _typeof(fr)==="object"&&fr.nodeType===1},Qe=function(fr,or){if(fr.nodeName==="IMG"&&fr.hasAttribute("src")){var Er=""+fr.getAttribute("src");if(Er.indexOf("data:image/")===0)return u$2(unescape(Er).split("base64,").pop());var Rr=Ce.loadFile(Er,!0);if(Rr!==void 0)return Rr}if(fr.nodeName==="CANVAS"){if(fr.width===0||fr.height===0)throw new Error("Given canvas must have data. Canvas width: "+fr.width+", height: "+fr.height);var jr;switch(or){case"PNG":jr="image/png";break;case"WEBP":jr="image/webp";break;case"JPEG":case"JPG":default:jr="image/jpeg"}return u$2(fr.toDataURL(jr,1).split("base64,").pop())}},We=function(fr){var or=this.internal.collections.addImage_images;if(or){for(var Er in or)if(fr===or[Er].alias)return or[Er]}},qe=function(fr,or,Er){return fr||or||(fr=-96,or=-96),fr<0&&(fr=-1*Er.width*72/fr/this.internal.scaleFactor),or<0&&(or=-1*Er.height*72/or/this.internal.scaleFactor),fr===0&&(fr=or*Er.width/Er.height),or===0&&(or=fr*Er.height/Er.width),[fr,or]},Ke=function(fr,or,Er,Rr,jr,xr){var Pr=qe.call(this,Er,Rr,jr),br=this.internal.getCoordinateString,wr=this.internal.getVerticalCoordinateString,Br=Me.call(this);if(Er=Pr[0],Rr=Pr[1],Br[jr.index]=jr,xr){xr*=Math.PI/180;var Lr=Math.cos(xr),yr=Math.sin(xr),vr=function(Or){return Or.toFixed(4)},Tr=[vr(Lr),vr(yr),vr(-1*yr),vr(Lr),0,0,"cm"]}this.internal.write("q"),xr?(this.internal.write([1,"0","0",1,br(fr),wr(or+Rr),"cm"].join(" ")),this.internal.write(Tr.join(" ")),this.internal.write([br(Er),"0","0",br(Rr),"0","0","cm"].join(" "))):this.internal.write([br(Er),"0","0",br(Rr),br(fr),wr(or+Rr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+jr.index+" Do"),this.internal.write("Q")},Xe=Ce.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};Ce.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Ye=Ce.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Ze=Ce.__addimage__.sHashCode=function(fr){var or,Er,Rr=0;if(typeof fr=="string")for(Er=fr.length,or=0;or<Er;or++)Rr=(Rr<<5)-Rr+fr.charCodeAt(or),Rr|=0;else if(ar(fr))for(Er=fr.byteLength/2,or=0;or<Er;or++)Rr=(Rr<<5)-Rr+fr[or],Rr|=0;return Rr},Je=Ce.__addimage__.validateStringAsBase64=function(fr){(fr=fr||"").toString().trim();var or=!0;return fr.length===0&&(or=!1),fr.length%4!=0&&(or=!1),/^[A-Za-z0-9+/]+$/.test(fr.substr(0,fr.length-2))===!1&&(or=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(fr.substr(-2))===!1&&(or=!1),or},tr=Ce.__addimage__.extractImageFromDataUrl=function(fr){if(fr==null||!(fr=fr.trim()).startsWith("data:"))return null;var or=fr.indexOf(",");return or<0?null:fr.substring(0,or).trim().endsWith("base64")?fr.substring(or+1):null},rr=Ce.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};Ce.__addimage__.isArrayBuffer=function(fr){return rr()&&fr instanceof ArrayBuffer};var ar=Ce.__addimage__.isArrayBufferView=function(fr){return rr()&&typeof Uint32Array<"u"&&(fr instanceof Int8Array||fr instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&fr instanceof Uint8ClampedArray||fr instanceof Int16Array||fr instanceof Uint16Array||fr instanceof Int32Array||fr instanceof Uint32Array||fr instanceof Float32Array||fr instanceof Float64Array)},nr=Ce.__addimage__.binaryStringToUint8Array=function(fr){for(var or=fr.length,Er=new Uint8Array(or),Rr=0;Rr<or;Rr++)Er[Rr]=fr.charCodeAt(Rr);return Er},sr=Ce.__addimage__.arrayBufferToBinaryString=function(fr){for(var or="",Er=ar(fr)?fr:new Uint8Array(fr),Rr=0;Rr<Er.length;Rr+=8192)or+=String.fromCharCode.apply(null,Er.subarray(Rr,Rr+8192));return or};Ce.addImage=function(){var fr,or,Er,Rr,jr,xr,Pr,br,wr;if(typeof arguments[1]=="number"?(or=Re,Er=arguments[1],Rr=arguments[2],jr=arguments[3],xr=arguments[4],Pr=arguments[5],br=arguments[6],wr=arguments[7]):(or=arguments[1],Er=arguments[2],Rr=arguments[3],jr=arguments[4],xr=arguments[5],Pr=arguments[6],br=arguments[7],wr=arguments[8]),_typeof(fr=arguments[0])==="object"&&!He(fr)&&"imageData"in fr){var Br=fr;fr=Br.imageData,or=Br.format||or||Re,Er=Br.x||Er||0,Rr=Br.y||Rr||0,jr=Br.w||Br.width||jr,xr=Br.h||Br.height||xr,Pr=Br.alias||Pr,br=Br.compression||br,wr=Br.rotation||Br.angle||wr}var Lr=this.internal.getFilters();if(br===void 0&&Lr.indexOf("FlateEncode")!==-1&&(br="SLOW"),isNaN(Er)||isNaN(Rr))throw new Error("Invalid coordinates passed to jsPDF.addImage");ke.call(this);var yr=dr.call(this,fr,or,Pr,br);return Ke.call(this,Er,Rr,jr,xr,yr,wr),this};var dr=function(fr,or,Er,Rr){var jr,xr,Pr;if(typeof fr=="string"&&Be(fr)===Re){fr=unescape(fr);var br=_r(fr,!1);(br!==""||(br=Ce.loadFile(fr,!0))!==void 0)&&(fr=br)}if(He(fr)&&(fr=Qe(fr,or)),or=Be(fr,or),!$e(or))throw new Error("addImage does not support files of type '"+or+"', please ensure that a plugin for '"+or+"' support is added.");if(((Pr=Er)==null||Pr.length===0)&&(Er=(function(wr){return typeof wr=="string"||ar(wr)?Ze(wr):ar(wr.data)?Ze(wr.data):null})(fr)),(jr=We.call(this,Er))||(rr()&&(fr instanceof Uint8Array||or==="RGBA"||(xr=fr,fr=nr(fr))),jr=this["process"+or.toUpperCase()](fr,Ue.call(this),Er,(function(wr){return wr&&typeof wr=="string"&&(wr=wr.toUpperCase()),wr in Ce.image_compression?wr:Ye.NONE})(Rr),xr)),!jr)throw new Error("An unknown error occurred whilst processing the image.");return jr},_r=Ce.__addimage__.convertBase64ToBinaryString=function(fr,or){or=typeof or!="boolean"||or;var Er,Rr="";if(typeof fr=="string"){var jr;Er=(jr=tr(fr))!==null&&jr!==void 0?jr:fr;try{Rr=u$2(Er)}catch(xr){if(or)throw Je(Er)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+xr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Rr};Ce.getImageProperties=function(fr){var or,Er,Rr="";if(He(fr)&&(fr=Qe(fr)),typeof fr=="string"&&Be(fr)===Re&&((Rr=_r(fr,!1))===""&&(Rr=Ce.loadFile(fr)||""),fr=Rr),Er=Be(fr),!$e(Er))throw new Error("addImage does not support files of type '"+Er+"', please ensure that a plugin for '"+Er+"' support is added.");if(!rr()||fr instanceof Uint8Array||(fr=nr(fr)),!(or=this["process"+Er.toUpperCase()](fr)))throw new Error("An unknown error occurred whilst processing the image");return or.fileType=Er,or}})(E.API),(function(Ce){var Re=function(je){if(je!==void 0&&je!="")return!0};E.API.events.push(["addPage",function(je){this.internal.getPageInfo(je.pageNumber).pageContext.annotations=[]}]),Ce.events.push(["putPage",function(je){for(var Be,De,Fe,Oe=this.internal.getCoordinateString,ke=this.internal.getVerticalCoordinateString,Me=this.internal.getPageInfoByObjId(je.objId),Ue=je.pageContext.annotations,$e=!1,He=0;He<Ue.length&&!$e;He++)switch((Be=Ue[He]).type){case"link":(Re(Be.options.url)||Re(Be.options.pageNumber))&&($e=!0);break;case"reference":case"text":case"freetext":$e=!0}if($e!=0){this.internal.write("/Annots [");for(var Qe=0;Qe<Ue.length;Qe++){Be=Ue[Qe];var We=this.internal.pdfEscape,qe=this.internal.getEncryptor(je.objId);switch(Be.type){case"reference":this.internal.write(" "+Be.object.objId+" 0 R ");break;case"text":var Ke=this.internal.newAdditionalObject(),Xe=this.internal.newAdditionalObject(),Ye=this.internal.getEncryptor(Ke.objId),Ze=Be.title||"Note";Fe="<</Type /Annot /Subtype /Text "+(De="/Rect ["+Oe(Be.bounds.x)+" "+ke(Be.bounds.y+Be.bounds.h)+" "+Oe(Be.bounds.x+Be.bounds.w)+" "+ke(Be.bounds.y)+"] ")+"/Contents ("+We(Ye(Be.contents))+")",Fe+=" /Popup "+Xe.objId+" 0 R",Fe+=" /P "+Me.objId+" 0 R",Fe+=" /T ("+We(Ye(Ze))+") >>",Ke.content=Fe;var Je=Ke.objId+" 0 R";Fe="<</Type /Annot /Subtype /Popup "+(De="/Rect ["+Oe(Be.bounds.x+30)+" "+ke(Be.bounds.y+Be.bounds.h)+" "+Oe(Be.bounds.x+Be.bounds.w+30)+" "+ke(Be.bounds.y)+"] ")+" /Parent "+Je,Be.open&&(Fe+=" /Open true"),Fe+=" >>",Xe.content=Fe,this.internal.write(Ke.objId,"0 R",Xe.objId,"0 R");break;case"freetext":De="/Rect ["+Oe(Be.bounds.x)+" "+ke(Be.bounds.y)+" "+Oe(Be.bounds.x+Be.bounds.w)+" "+ke(Be.bounds.y+Be.bounds.h)+"] ";var tr=Be.color||"#000000";Fe="<</Type /Annot /Subtype /FreeText "+De+"/Contents ("+We(qe(Be.contents))+")",Fe+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+tr+")",Fe+=" /Border [0 0 0]",Fe+=" >>",this.internal.write(Fe);break;case"link":if(Be.options.name){var rr=this.annotations._nameMap[Be.options.name];Be.options.pageNumber=rr.page,Be.options.top=rr.y}else Be.options.top||(Be.options.top=0);if(De="/Rect ["+Be.finalBounds.x+" "+Be.finalBounds.y+" "+Be.finalBounds.w+" "+Be.finalBounds.h+"] ",Fe="",Be.options.url)Fe="<</Type /Annot /Subtype /Link "+De+"/Border [0 0 0] /A <</S /URI /URI ("+We(qe(Be.options.url))+") >>";else if(Be.options.pageNumber)switch(Fe="<</Type /Annot /Subtype /Link "+De+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(Be.options.pageNumber).objId+" 0 R",Be.options.magFactor=Be.options.magFactor||"XYZ",Be.options.magFactor){case"Fit":Fe+=" /Fit]";break;case"FitH":Fe+=" /FitH "+Be.options.top+"]";break;case"FitV":Be.options.left=Be.options.left||0,Fe+=" /FitV "+Be.options.left+"]";break;case"XYZ":default:var ar=ke(Be.options.top);Be.options.left=Be.options.left||0,Be.options.zoom===void 0&&(Be.options.zoom=0),Fe+=" /XYZ "+Be.options.left+" "+ar+" "+Be.options.zoom+"]"}Fe!=""&&(Fe+=" >>",this.internal.write(Fe))}}this.internal.write("]")}}]),Ce.createAnnotation=function(je){var Be=this.internal.getCurrentPageInfo();switch(je.type){case"link":this.link(je.bounds.x,je.bounds.y,je.bounds.w,je.bounds.h,je);break;case"text":case"freetext":Be.pageContext.annotations.push(je)}},Ce.link=function(je,Be,De,Fe,Oe){var ke=this.internal.getCurrentPageInfo(),Me=this.internal.getCoordinateString,Ue=this.internal.getVerticalCoordinateString;ke.pageContext.annotations.push({finalBounds:{x:Me(je),y:Ue(Be),w:Me(je+De),h:Ue(Be+Fe)},options:Oe,type:"link"})},Ce.textWithLink=function(je,Be,De,Fe){var Oe,ke,Me=this.getTextWidth(je),Ue=this.internal.getLineHeight()/this.internal.scaleFactor;if(Fe.maxWidth!==void 0){ke=Fe.maxWidth;var $e=this.splitTextToSize(je,ke).length;Oe=Math.ceil(Ue*$e)}else ke=Me,Oe=Ue;return this.text(je,Be,De,Fe),De+=.2*Ue,Fe.align==="center"&&(Be-=Me/2),Fe.align==="right"&&(Be-=Me),this.link(Be,De-Ue,ke,Oe,Fe),Me},Ce.getTextWidth=function(je){var Be=this.internal.getFontSize();return this.getStringUnitWidth(je)*Be/this.internal.scaleFactor}})(E.API),(function(Ce){var Re={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},je={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},Be={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},De=[1570,1571,1573,1575];Ce.__arabicParser__={};var Fe=Ce.__arabicParser__.isInArabicSubstitutionA=function(Ke){return Re[Ke.charCodeAt(0)]!==void 0},Oe=Ce.__arabicParser__.isArabicLetter=function(Ke){return typeof Ke=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Ke)},ke=Ce.__arabicParser__.isArabicEndLetter=function(Ke){return Oe(Ke)&&Fe(Ke)&&Re[Ke.charCodeAt(0)].length<=2},Me=Ce.__arabicParser__.isArabicAlfLetter=function(Ke){return Oe(Ke)&&De.indexOf(Ke.charCodeAt(0))>=0};Ce.__arabicParser__.arabicLetterHasIsolatedForm=function(Ke){return Oe(Ke)&&Fe(Ke)&&Re[Ke.charCodeAt(0)].length>=1};var Ue=Ce.__arabicParser__.arabicLetterHasFinalForm=function(Ke){return Oe(Ke)&&Fe(Ke)&&Re[Ke.charCodeAt(0)].length>=2};Ce.__arabicParser__.arabicLetterHasInitialForm=function(Ke){return Oe(Ke)&&Fe(Ke)&&Re[Ke.charCodeAt(0)].length>=3};var $e=Ce.__arabicParser__.arabicLetterHasMedialForm=function(Ke){return Oe(Ke)&&Fe(Ke)&&Re[Ke.charCodeAt(0)].length==4},He=Ce.__arabicParser__.resolveLigatures=function(Ke){var Xe=0,Ye=je,Ze="",Je=0;for(Xe=0;Xe<Ke.length;Xe+=1)Ye[Ke.charCodeAt(Xe)]!==void 0?(Je++,typeof(Ye=Ye[Ke.charCodeAt(Xe)])=="number"&&(Ze+=String.fromCharCode(Ye),Ye=je,Je=0),Xe===Ke.length-1&&(Ye=je,Ze+=Ke.charAt(Xe-(Je-1)),Xe-=Je-1,Je=0)):(Ye=je,Ze+=Ke.charAt(Xe-Je),Xe-=Je,Je=0);return Ze};Ce.__arabicParser__.isArabicDiacritic=function(Ke){return Ke!==void 0&&Be[Ke.charCodeAt(0)]!==void 0};var Qe=Ce.__arabicParser__.getCorrectForm=function(Ke,Xe,Ye){return Oe(Ke)?Fe(Ke)===!1?-1:!Ue(Ke)||!Oe(Xe)&&!Oe(Ye)||!Oe(Ye)&&ke(Xe)||ke(Ke)&&!Oe(Xe)||ke(Ke)&&Me(Xe)||ke(Ke)&&ke(Xe)?0:$e(Ke)&&Oe(Xe)&&!ke(Xe)&&Oe(Ye)&&Ue(Ye)?3:ke(Ke)||!Oe(Ye)?1:2:-1},We=function(Ke){var Xe=0,Ye=0,Ze=0,Je="",tr="",rr="",ar=(Ke=Ke||"").split("\\s+"),nr=[];for(Xe=0;Xe<ar.length;Xe+=1){for(nr.push(""),Ye=0;Ye<ar[Xe].length;Ye+=1)Je=ar[Xe][Ye],tr=ar[Xe][Ye-1],rr=ar[Xe][Ye+1],Oe(Je)?(Ze=Qe(Je,tr,rr),nr[Xe]+=Ze!==-1?String.fromCharCode(Re[Je.charCodeAt(0)][Ze]):Je):nr[Xe]+=Je;nr[Xe]=He(nr[Xe])}return nr.join(" ")},qe=Ce.__arabicParser__.processArabic=Ce.processArabic=function(){var Ke,Xe=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Ye=[];if(Array.isArray(Xe)){var Ze=0;for(Ye=[],Ze=0;Ze<Xe.length;Ze+=1)Array.isArray(Xe[Ze])?Ye.push([We(Xe[Ze][0]),Xe[Ze][1],Xe[Ze][2]]):Ye.push([We(Xe[Ze])]);Ke=Ye}else Ke=We(Xe);return typeof arguments[0]=="string"?Ke:(arguments[0].text=Ke,arguments[0])};Ce.events.push(["preProcessText",qe])})(E.API),E.API.autoPrint=function(Ce){var Re;switch((Ce=Ce||{}).variant=Ce.variant||"non-conform",Ce.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){Re=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+Re+" 0 R")}))}return this},(function(Ce){var Re=function(){var je=void 0;Object.defineProperty(this,"pdf",{get:function(){return je},set:function(ke){je=ke}});var Be=150;Object.defineProperty(this,"width",{get:function(){return Be},set:function(ke){Be=isNaN(ke)||Number.isInteger(ke)===!1||ke<0?150:ke,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=Be+1)}});var De=300;Object.defineProperty(this,"height",{get:function(){return De},set:function(ke){De=isNaN(ke)||Number.isInteger(ke)===!1||ke<0?300:ke,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=De+1)}});var Fe=[];Object.defineProperty(this,"childNodes",{get:function(){return Fe},set:function(ke){Fe=ke}});var Oe={};Object.defineProperty(this,"style",{get:function(){return Oe},set:function(ke){Oe=ke}}),Object.defineProperty(this,"parentNode",{})};Re.prototype.getContext=function(je,Be){var De;if((je=je||"2d")!=="2d")return null;for(De in Be)this.pdf.context2d.hasOwnProperty(De)&&(this.pdf.context2d[De]=Be[De]);return this.pdf.context2d._canvas=this,this.pdf.context2d},Re.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},Ce.events.push(["initialized",function(){this.canvas=new Re,this.canvas.pdf=this}])})(E.API),(function(Ce){var Re={left:0,top:0,bottom:0,right:0},je=!1,Be=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},Re),this.internal.__cell__.margins.width=this.getPageWidth(),De.call(this))},De=function(){this.internal.__cell__.lastCell=new Fe,this.internal.__cell__.pages=1},Fe=function(){var Me=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Me},set:function(Ke){Me=Ke}});var Ue=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ue},set:function(Ke){Ue=Ke}});var $e=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return $e},set:function(Ke){$e=Ke}});var He=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return He},set:function(Ke){He=Ke}});var Qe=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Qe},set:function(Ke){Qe=Ke}});var We=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return We},set:function(Ke){We=Ke}});var qe=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return qe},set:function(Ke){qe=Ke}}),this};Fe.prototype.clone=function(){return new Fe(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Fe.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},Ce.setHeaderFunction=function(Me){return Be.call(this),this.internal.__cell__.headerFunction=typeof Me=="function"?Me:void 0,this},Ce.getTextDimensions=function(Me,Ue){Be.call(this);var $e=(Ue=Ue||{}).fontSize||this.getFontSize(),He=Ue.font||this.getFont(),Qe=Ue.scaleFactor||this.internal.scaleFactor,We=0,qe=0,Ke=0,Xe=this;if(!Array.isArray(Me)&&typeof Me!="string"){if(typeof Me!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Me=String(Me)}var Ye=Ue.maxWidth;Ye>0?typeof Me=="string"?Me=this.splitTextToSize(Me,Ye):Object.prototype.toString.call(Me)==="[object Array]"&&(Me=Me.reduce((function(Je,tr){return Je.concat(Xe.splitTextToSize(tr,Ye))}),[])):Me=Array.isArray(Me)?Me:[Me];for(var Ze=0;Ze<Me.length;Ze++)We<(Ke=this.getStringUnitWidth(Me[Ze],{font:He})*$e)&&(We=Ke);return We!==0&&(qe=Me.length),{w:We/=Qe,h:Math.max((qe*$e*this.getLineHeightFactor()-$e*(this.getLineHeightFactor()-1))/Qe,0)}},Ce.cellAddPage=function(){Be.call(this),this.addPage();var Me=this.internal.__cell__.margins||Re;return this.internal.__cell__.lastCell=new Fe(Me.left,Me.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Oe=Ce.cell=function(){var Me;Me=arguments[0]instanceof Fe?arguments[0]:new Fe(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),Be.call(this);var Ue=this.internal.__cell__.lastCell,$e=this.internal.__cell__.padding,He=this.internal.__cell__.margins||Re,Qe=this.internal.__cell__.tableHeaderRow,We=this.internal.__cell__.printHeaders;return Ue.lineNumber!==void 0&&(Ue.lineNumber===Me.lineNumber?(Me.x=(Ue.x||0)+(Ue.width||0),Me.y=Ue.y||0):Ue.y+Ue.height+Me.height+He.bottom>this.getPageHeight()?(this.cellAddPage(),Me.y=He.top,We&&Qe&&(this.printHeaderRow(Me.lineNumber,!0),Me.y+=Qe[0].height)):Me.y=Ue.y+Ue.height||Me.y),Me.text[0]!==void 0&&(this.rect(Me.x,Me.y,Me.width,Me.height,je===!0?"FD":void 0),Me.align==="right"?this.text(Me.text,Me.x+Me.width-$e,Me.y+$e,{align:"right",baseline:"top"}):Me.align==="center"?this.text(Me.text,Me.x+Me.width/2,Me.y+$e,{align:"center",baseline:"top",maxWidth:Me.width-$e-$e}):this.text(Me.text,Me.x+$e,Me.y+$e,{align:"left",baseline:"top",maxWidth:Me.width-$e-$e})),this.internal.__cell__.lastCell=Me,this};Ce.table=function(Me,Ue,$e,He,Qe){if(Be.call(this),!$e)throw new Error("No data for PDF table.");var We,qe,Ke,Xe,Ye=[],Ze=[],Je=[],tr={},rr={},ar=[],nr=[],sr=(Qe=Qe||{}).autoSize||!1,dr=Qe.printHeaders!==!1,_r=Qe.css&&Qe.css["font-size"]!==void 0?16*Qe.css["font-size"]:Qe.fontSize||12,fr=Qe.margins||Object.assign({width:this.getPageWidth()},Re),or=typeof Qe.padding=="number"?Qe.padding:3,Er=Qe.headerBackgroundColor||"#c8c8c8",Rr=Qe.headerTextColor||"#000";if(De.call(this),this.internal.__cell__.printHeaders=dr,this.internal.__cell__.margins=fr,this.internal.__cell__.table_font_size=_r,this.internal.__cell__.padding=or,this.internal.__cell__.headerBackgroundColor=Er,this.internal.__cell__.headerTextColor=Rr,this.setFontSize(_r),He==null)Ze=Ye=Object.keys($e[0]),Je=Ye.map((function(){return"left"}));else if(Array.isArray(He)&&_typeof(He[0])==="object")for(Ye=He.map((function(Br){return Br.name})),Ze=He.map((function(Br){return Br.prompt||Br.name||""})),Je=He.map((function(Br){return Br.align||"left"})),We=0;We<He.length;We+=1)rr[He[We].name]=He[We].width*(19.049976/25.4);else Array.isArray(He)&&typeof He[0]=="string"&&(Ze=Ye=He,Je=Ye.map((function(){return"left"})));if(sr||Array.isArray(He)&&typeof He[0]=="string")for(We=0;We<Ye.length;We+=1){for(tr[Xe=Ye[We]]=$e.map((function(Br){return Br[Xe]})),this.setFont(void 0,"bold"),ar.push(this.getTextDimensions(Ze[We],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),qe=tr[Xe],this.setFont(void 0,"normal"),Ke=0;Ke<qe.length;Ke+=1)ar.push(this.getTextDimensions(qe[Ke],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);rr[Xe]=Math.max.apply(null,ar)+or+or,ar=[]}if(dr){var jr={};for(We=0;We<Ye.length;We+=1)jr[Ye[We]]={},jr[Ye[We]].text=Ze[We],jr[Ye[We]].align=Je[We];var xr=ke.call(this,jr,rr);nr=Ye.map((function(Br){return new Fe(Me,Ue,rr[Br],xr,jr[Br].text,void 0,jr[Br].align)})),this.setTableHeaderRow(nr),this.printHeaderRow(1,!1)}var Pr=He.reduce((function(Br,Lr){return Br[Lr.name]=Lr.align,Br}),{});for(We=0;We<$e.length;We+=1){"rowStart"in Qe&&Qe.rowStart instanceof Function&&Qe.rowStart({row:We,data:$e[We]},this);var br=ke.call(this,$e[We],rr);for(Ke=0;Ke<Ye.length;Ke+=1){var wr=$e[We][Ye[Ke]];"cellStart"in Qe&&Qe.cellStart instanceof Function&&Qe.cellStart({row:We,col:Ke,data:wr},this),Oe.call(this,new Fe(Me,Ue,rr[Ye[Ke]],br,wr,We+2,Pr[Ye[Ke]]))}}return this.internal.__cell__.table_x=Me,this.internal.__cell__.table_y=Ue,this};var ke=function(Me,Ue){var $e=this.internal.__cell__.padding,He=this.internal.__cell__.table_font_size,Qe=this.internal.scaleFactor;return Object.keys(Me).map((function(We){var qe=Me[We];return this.splitTextToSize(qe.hasOwnProperty("text")?qe.text:qe,Ue[We]-$e-$e)}),this).map((function(We){return this.getLineHeightFactor()*We.length*He/Qe+$e+$e}),this).reduce((function(We,qe){return Math.max(We,qe)}),0)};Ce.setTableHeaderRow=function(Me){Be.call(this),this.internal.__cell__.tableHeaderRow=Me},Ce.printHeaderRow=function(Me,Ue){if(Be.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var $e;if(je=!0,typeof this.internal.__cell__.headerFunction=="function"){var He=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Fe(He[0],He[1],He[2],He[3],void 0,-1)}this.setFont(void 0,"bold");for(var Qe=[],We=0;We<this.internal.__cell__.tableHeaderRow.length;We+=1){$e=this.internal.__cell__.tableHeaderRow[We].clone(),Ue&&($e.y=this.internal.__cell__.margins.top||0,Qe.push($e)),$e.lineNumber=Me;var qe=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Oe.call(this,$e),this.setTextColor(qe)}Qe.length>0&&this.setTableHeaderRow(Qe),this.setFont(void 0,"normal"),je=!1}})(E.API);var Pt$1={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It$1=_t$1(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct$1=_t$1(Ft);function jt(Ce){var Re=Ce.family.replace(/"|'/g,"").toLowerCase(),je=(function(Fe){return Pt$1[Fe=Fe||"normal"]?Fe:"normal"})(Ce.style),Be=(function(Fe){if(!Fe)return 400;if(typeof Fe=="number")return Fe>=100&&Fe<=900&&Fe%100==0?Fe:400;if(/^\d00$/.test(Fe))return parseInt(Fe);switch(Fe){case"bold":return 700;case"normal":default:return 400}})(Ce.weight),De=(function(Fe){return typeof It$1[Fe=Fe||"normal"]=="number"?Fe:"normal"})(Ce.stretch);return{family:Re,style:je,weight:Be,stretch:De,src:Ce.src||[],ref:Ce.ref||{name:Re,style:[De,je,Be].join(" ")}}}function Ot$1(Ce,Re,je,Be){var De;for(De=je;De>=0&&De<Re.length;De+=Be)if(Ce[Re[De]])return Ce[Re[De]];for(De=je;De>=0&&De<Re.length;De-=Be)if(Ce[Re[De]])return Ce[Re[De]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt$1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et$1(Ce){return[Ce.stretch,Ce.style,Ce.weight,Ce.family].join(" ")}function qt$1(Ce,Re,je){for(var Be=(je=je||{}).defaultFontFamily||"times",De=Object.assign({},Bt,je.genericFontFamilies||{}),Fe=null,Oe=null,ke=0;ke<Re.length;++ke)if(De[(Fe=jt(Re[ke])).family]&&(Fe.family=De[Fe.family]),Ce.hasOwnProperty(Fe.family)){Oe=Ce[Fe.family];break}if(!(Oe=Oe||Ce[Be]))throw new Error("Could not find a font-family for the rule '"+Et$1(Fe)+"' and default family '"+Be+"'.");if(Oe=(function(Me,Ue){if(Ue[Me])return Ue[Me];var $e=It$1[Me],He=$e<=It$1.normal?-1:1,Qe=Ot$1(Ue,kt,$e,He);if(!Qe)throw new Error("Could not find a matching font-stretch value for "+Me);return Qe})(Fe.stretch,Oe),Oe=(function(Me,Ue){if(Ue[Me])return Ue[Me];for(var $e=Pt$1[Me],He=0;He<$e.length;++He)if(Ue[$e[He]])return Ue[$e[He]];throw new Error("Could not find a matching font-style for "+Me)})(Fe.style,Oe),!(Oe=(function(Me,Ue){if(Ue[Me])return Ue[Me];if(Me===400&&Ue[500])return Ue[500];if(Me===500&&Ue[400])return Ue[400];var $e=Ct$1[Me],He=Ot$1(Ue,Ft,$e,Me<400?-1:1);if(!He)throw new Error("Could not find a matching font-weight for value "+Me);return He})(Fe.weight,Oe)))throw new Error("Failed to resolve a font for the rule '"+Et$1(Fe)+"'.");return Oe}function Dt(Ce){return Ce.trimLeft()}function Rt(Ce,Re){for(var je=0;je<Ce.length;){if(Ce.charAt(je)===Re)return[Ce.substring(0,je),Ce.substring(je+1)];je+=1}return null}function Tt(Ce){var Re=Ce.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return Re===null?null:[Re[0],Ce.substring(Re[0].length)]}var Ut,zt,Ht,Wt$1=["times"];(function(Ce){var Re,je,Be,De,Fe,Oe,ke,Me,Ue,$e=function(yr){return yr=yr||{},this.isStrokeTransparent=yr.isStrokeTransparent||!1,this.strokeOpacity=yr.strokeOpacity||1,this.strokeStyle=yr.strokeStyle||"#000000",this.fillStyle=yr.fillStyle||"#000000",this.isFillTransparent=yr.isFillTransparent||!1,this.fillOpacity=yr.fillOpacity||1,this.font=yr.font||"10px sans-serif",this.textBaseline=yr.textBaseline||"alphabetic",this.textAlign=yr.textAlign||"left",this.lineWidth=yr.lineWidth||1,this.lineJoin=yr.lineJoin||"miter",this.lineCap=yr.lineCap||"butt",this.path=yr.path||[],this.transform=yr.transform!==void 0?yr.transform.clone():new Me,this.globalCompositeOperation=yr.globalCompositeOperation||"normal",this.globalAlpha=yr.globalAlpha||1,this.clip_path=yr.clip_path||[],this.currentPoint=yr.currentPoint||new Oe,this.miterLimit=yr.miterLimit||10,this.lastPoint=yr.lastPoint||new Oe,this.lineDashOffset=yr.lineDashOffset||0,this.lineDash=yr.lineDash||[],this.margin=yr.margin||[0,0,0,0],this.prevPageLastElemOffset=yr.prevPageLastElemOffset||0,this.ignoreClearRect=typeof yr.ignoreClearRect!="boolean"||yr.ignoreClearRect,this};Ce.events.push(["initialized",function(){this.context2d=new He(this),Re=this.internal.f2,je=this.internal.getCoordinateString,Be=this.internal.getVerticalCoordinateString,De=this.internal.getHorizontalCoordinate,Fe=this.internal.getVerticalCoordinate,Oe=this.internal.Point,ke=this.internal.Rectangle,Me=this.internal.Matrix,Ue=new $e}]);var He=function(yr){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var vr=yr;Object.defineProperty(this,"pdf",{get:function(){return vr}});var Tr=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Tr},set:function(mn){Tr=!!mn}});var Or=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Or},set:function(mn){Or=!!mn}});var Nr=0;Object.defineProperty(this,"posX",{get:function(){return Nr},set:function(mn){isNaN(mn)||(Nr=mn)}});var Hr=0;Object.defineProperty(this,"posY",{get:function(){return Hr},set:function(mn){isNaN(mn)||(Hr=mn)}}),Object.defineProperty(this,"margin",{get:function(){return Ue.margin},set:function(mn){var Zr;typeof mn=="number"?Zr=[mn,mn,mn,mn]:((Zr=new Array(4))[0]=mn[0],Zr[1]=mn.length>=2?mn[1]:Zr[0],Zr[2]=mn.length>=3?mn[2]:Zr[0],Zr[3]=mn.length>=4?mn[3]:Zr[1]),Ue.margin=Zr}});var Wr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Wr},set:function(mn){Wr=mn}});var qr=0;Object.defineProperty(this,"lastBreak",{get:function(){return qr},set:function(mn){qr=mn}});var Jr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Jr},set:function(mn){Jr=mn}}),Object.defineProperty(this,"ctx",{get:function(){return Ue},set:function(mn){mn instanceof $e&&(Ue=mn)}}),Object.defineProperty(this,"path",{get:function(){return Ue.path},set:function(mn){Ue.path=mn}});var An=[];Object.defineProperty(this,"ctxStack",{get:function(){return An},set:function(mn){An=mn}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(mn){var Zr;Zr=Qe(mn),this.ctx.fillStyle=Zr.style,this.ctx.isFillTransparent=Zr.a===0,this.ctx.fillOpacity=Zr.a,this.pdf.setFillColor(Zr.r,Zr.g,Zr.b,{a:Zr.a}),this.pdf.setTextColor(Zr.r,Zr.g,Zr.b,{a:Zr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(mn){var Zr=Qe(mn);this.ctx.strokeStyle=Zr.style,this.ctx.isStrokeTransparent=Zr.a===0,this.ctx.strokeOpacity=Zr.a,Zr.a===0?this.pdf.setDrawColor(255,255,255):(Zr.a,this.pdf.setDrawColor(Zr.r,Zr.g,Zr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(mn){["butt","round","square"].indexOf(mn)!==-1&&(this.ctx.lineCap=mn,this.pdf.setLineCap(mn))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(mn){isNaN(mn)||(this.ctx.lineWidth=mn,this.pdf.setLineWidth(mn))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(mn){["bevel","round","miter"].indexOf(mn)!==-1&&(this.ctx.lineJoin=mn,this.pdf.setLineJoin(mn))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(mn){isNaN(mn)||(this.ctx.miterLimit=mn,this.pdf.setMiterLimit(mn))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(mn){this.ctx.textBaseline=mn}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(mn){["right","end","center","left","start"].indexOf(mn)!==-1&&(this.ctx.textAlign=mn)}});var an=null;function bn(mn,Zr){if(an===null){var kn=(function(ri){var zn=[];return Object.keys(ri).forEach((function(ei){ri[ei].forEach((function(Jn){var Wn=null;switch(Jn){case"bold":Wn={family:ei,weight:"bold"};break;case"italic":Wn={family:ei,style:"italic"};break;case"bolditalic":Wn={family:ei,weight:"bold",style:"italic"};break;case"":case"normal":Wn={family:ei}}Wn!==null&&(Wn.ref={name:ei,style:Jn},zn.push(Wn))}))})),zn})(mn.getFontList());an=(function(ri){for(var zn={},ei=0;ei<ri.length;++ei){var Jn=jt(ri[ei]),Wn=Jn.family,_i=Jn.stretch,wi=Jn.style,Oi=Jn.weight;zn[Wn]=zn[Wn]||{},zn[Wn][_i]=zn[Wn][_i]||{},zn[Wn][_i][wi]=zn[Wn][_i][wi]||{},zn[Wn][_i][wi][Oi]=Jn}return zn})(kn.concat(Zr))}return an}var gn=null;Object.defineProperty(this,"fontFaces",{get:function(){return gn},set:function(mn){an=null,gn=mn}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(mn){var Zr;if(this.ctx.font=mn,(Zr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(mn))!==null){var kn=Zr[1];Zr[2];var ri=Zr[3],zn=Zr[4];Zr[5];var ei=Zr[6],Jn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(zn)[2];zn=Math.floor(Jn==="px"?parseFloat(zn)*this.pdf.internal.scaleFactor:Jn==="em"?parseFloat(zn)*this.pdf.getFontSize():parseFloat(zn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(zn);var Wn=(function(Si){var En,Cn,oi=[],ci=Si.trim();if(ci==="")return Wt$1;if(ci in Mt$1)return[Mt$1[ci]];for(;ci!=="";){switch(Cn=null,En=(ci=Dt(ci)).charAt(0)){case'"':case"'":Cn=Rt(ci.substring(1),En);break;default:Cn=Tt(ci)}if(Cn===null||(oi.push(Cn[0]),(ci=Dt(Cn[1]))!==""&&ci.charAt(0)!==","))return Wt$1;ci=ci.replace(/^,/,"")}return oi})(ei);if(this.fontFaces){var _i=qt$1(bn(this.pdf,this.fontFaces),Wn.map((function(Si){return{family:Si,stretch:"normal",weight:ri,style:kn}})));this.pdf.setFont(_i.ref.name,_i.ref.style)}else{var wi="";(ri==="bold"||parseInt(ri,10)>=700||kn==="bold")&&(wi="bold"),kn==="italic"&&(wi+="italic"),wi.length===0&&(wi="normal");for(var Oi="",xi={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pi=0;Pi<Wn.length;Pi++){if(this.pdf.internal.getFont(Wn[Pi],wi,{noFallback:!0,disableWarning:!0})!==void 0){Oi=Wn[Pi];break}if(wi==="bolditalic"&&this.pdf.internal.getFont(Wn[Pi],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Oi=Wn[Pi],wi="bold";else if(this.pdf.internal.getFont(Wn[Pi],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Oi=Wn[Pi],wi="normal";break}}if(Oi===""){for(var Ii=0;Ii<Wn.length;Ii++)if(xi[Wn[Ii]]){Oi=xi[Wn[Ii]];break}}Oi=Oi===""?"Times":Oi,this.pdf.setFont(Oi,wi)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(mn){this.ctx.globalCompositeOperation=mn}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(mn){this.ctx.globalAlpha=mn}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(mn){this.ctx.lineDashOffset=mn,Lr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(mn){this.ctx.lineDash=mn,Lr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(mn){this.ctx.ignoreClearRect=!!mn}})};He.prototype.setLineDash=function(yr){this.lineDash=yr},He.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},He.prototype.fill=function(){tr.call(this,"fill",!1)},He.prototype.stroke=function(){tr.call(this,"stroke",!1)},He.prototype.beginPath=function(){this.path=[{type:"begin"}]},He.prototype.moveTo=function(yr,vr){if(isNaN(yr)||isNaN(vr))throw a$2.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Tr=this.ctx.transform.applyToPoint(new Oe(yr,vr));this.path.push({type:"mt",x:Tr.x,y:Tr.y}),this.ctx.lastPoint=new Oe(yr,vr)},He.prototype.closePath=function(){var yr=new Oe(0,0),vr=0;for(vr=this.path.length-1;vr!==-1;vr--)if(this.path[vr].type==="begin"&&_typeof(this.path[vr+1])==="object"&&typeof this.path[vr+1].x=="number"){yr=new Oe(this.path[vr+1].x,this.path[vr+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Oe(yr.x,yr.y)},He.prototype.lineTo=function(yr,vr){if(isNaN(yr)||isNaN(vr))throw a$2.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Tr=this.ctx.transform.applyToPoint(new Oe(yr,vr));this.path.push({type:"lt",x:Tr.x,y:Tr.y}),this.ctx.lastPoint=new Oe(Tr.x,Tr.y)},He.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),tr.call(this,null,!0)},He.prototype.quadraticCurveTo=function(yr,vr,Tr,Or){if(isNaN(Tr)||isNaN(Or)||isNaN(yr)||isNaN(vr))throw a$2.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Nr=this.ctx.transform.applyToPoint(new Oe(Tr,Or)),Hr=this.ctx.transform.applyToPoint(new Oe(yr,vr));this.path.push({type:"qct",x1:Hr.x,y1:Hr.y,x:Nr.x,y:Nr.y}),this.ctx.lastPoint=new Oe(Nr.x,Nr.y)},He.prototype.bezierCurveTo=function(yr,vr,Tr,Or,Nr,Hr){if(isNaN(Nr)||isNaN(Hr)||isNaN(yr)||isNaN(vr)||isNaN(Tr)||isNaN(Or))throw a$2.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Wr=this.ctx.transform.applyToPoint(new Oe(Nr,Hr)),qr=this.ctx.transform.applyToPoint(new Oe(yr,vr)),Jr=this.ctx.transform.applyToPoint(new Oe(Tr,Or));this.path.push({type:"bct",x1:qr.x,y1:qr.y,x2:Jr.x,y2:Jr.y,x:Wr.x,y:Wr.y}),this.ctx.lastPoint=new Oe(Wr.x,Wr.y)},He.prototype.arc=function(yr,vr,Tr,Or,Nr,Hr){if(isNaN(yr)||isNaN(vr)||isNaN(Tr)||isNaN(Or)||isNaN(Nr))throw a$2.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Hr=!!Hr,!this.ctx.transform.isIdentity){var Wr=this.ctx.transform.applyToPoint(new Oe(yr,vr));yr=Wr.x,vr=Wr.y;var qr=this.ctx.transform.applyToPoint(new Oe(0,Tr)),Jr=this.ctx.transform.applyToPoint(new Oe(0,0));Tr=Math.sqrt(Math.pow(qr.x-Jr.x,2)+Math.pow(qr.y-Jr.y,2))}Math.abs(Nr-Or)>=2*Math.PI&&(Or=0,Nr=2*Math.PI),this.path.push({type:"arc",x:yr,y:vr,radius:Tr,startAngle:Or,endAngle:Nr,counterclockwise:Hr})},He.prototype.arcTo=function(yr,vr,Tr,Or,Nr){throw new Error("arcTo not implemented.")},He.prototype.rect=function(yr,vr,Tr,Or){if(isNaN(yr)||isNaN(vr)||isNaN(Tr)||isNaN(Or))throw a$2.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(yr,vr),this.lineTo(yr+Tr,vr),this.lineTo(yr+Tr,vr+Or),this.lineTo(yr,vr+Or),this.lineTo(yr,vr),this.lineTo(yr+Tr,vr),this.lineTo(yr,vr)},He.prototype.fillRect=function(yr,vr,Tr,Or){if(isNaN(yr)||isNaN(vr)||isNaN(Tr)||isNaN(Or))throw a$2.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!We.call(this)){var Nr={};this.lineCap!=="butt"&&(Nr.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Nr.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(yr,vr,Tr,Or),this.fill(),Nr.hasOwnProperty("lineCap")&&(this.lineCap=Nr.lineCap),Nr.hasOwnProperty("lineJoin")&&(this.lineJoin=Nr.lineJoin)}},He.prototype.strokeRect=function(yr,vr,Tr,Or){if(isNaN(yr)||isNaN(vr)||isNaN(Tr)||isNaN(Or))throw a$2.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");qe.call(this)||(this.beginPath(),this.rect(yr,vr,Tr,Or),this.stroke())},He.prototype.clearRect=function(yr,vr,Tr,Or){if(isNaN(yr)||isNaN(vr)||isNaN(Tr)||isNaN(Or))throw a$2.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(yr,vr,Tr,Or))},He.prototype.save=function(yr){yr=typeof yr!="boolean"||yr;for(var vr=this.pdf.internal.getCurrentPageInfo().pageNumber,Tr=0;Tr<this.pdf.internal.getNumberOfPages();Tr++)this.pdf.setPage(Tr+1),this.pdf.internal.out("q");if(this.pdf.setPage(vr),yr){this.ctx.fontSize=this.pdf.internal.getFontSize();var Or=new $e(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Or}},He.prototype.restore=function(yr){yr=typeof yr!="boolean"||yr;for(var vr=this.pdf.internal.getCurrentPageInfo().pageNumber,Tr=0;Tr<this.pdf.internal.getNumberOfPages();Tr++)this.pdf.setPage(Tr+1),this.pdf.internal.out("Q");this.pdf.setPage(vr),yr&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},He.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Qe=function(yr){var vr,Tr,Or,Nr;if(yr.isCanvasGradient===!0&&(yr=yr.getColor()),!yr)return{r:0,g:0,b:0,a:0,style:yr};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(yr))vr=0,Tr=0,Or=0,Nr=0;else{var Hr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(yr);if(Hr!==null)vr=parseInt(Hr[1]),Tr=parseInt(Hr[2]),Or=parseInt(Hr[3]),Nr=1;else if((Hr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(yr))!==null)vr=parseInt(Hr[1]),Tr=parseInt(Hr[2]),Or=parseInt(Hr[3]),Nr=parseFloat(Hr[4]);else{if(Nr=1,typeof yr=="string"&&yr.charAt(0)!=="#"){var Wr=new f$2(yr);yr=Wr.ok?Wr.toHex():"#000000"}yr.length===4?(vr=yr.substring(1,2),vr+=vr,Tr=yr.substring(2,3),Tr+=Tr,Or=yr.substring(3,4),Or+=Or):(vr=yr.substring(1,3),Tr=yr.substring(3,5),Or=yr.substring(5,7)),vr=parseInt(vr,16),Tr=parseInt(Tr,16),Or=parseInt(Or,16)}}return{r:vr,g:Tr,b:Or,a:Nr,style:yr}},We=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},qe=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};He.prototype.fillText=function(yr,vr,Tr,Or){if(isNaN(vr)||isNaN(Tr)||typeof yr!="string")throw a$2.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Or=isNaN(Or)?void 0:Or,!We.call(this)){var Nr=br(this.ctx.transform.rotation),Hr=this.ctx.transform.scaleX;or.call(this,{text:yr,x:vr,y:Tr,scale:Hr,angle:Nr,align:this.textAlign,maxWidth:Or})}},He.prototype.strokeText=function(yr,vr,Tr,Or){if(isNaN(vr)||isNaN(Tr)||typeof yr!="string")throw a$2.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!qe.call(this)){Or=isNaN(Or)?void 0:Or;var Nr=br(this.ctx.transform.rotation),Hr=this.ctx.transform.scaleX;or.call(this,{text:yr,x:vr,y:Tr,scale:Hr,renderingMode:"stroke",angle:Nr,align:this.textAlign,maxWidth:Or})}},He.prototype.measureText=function(yr){if(typeof yr!="string")throw a$2.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var vr=this.pdf,Tr=this.pdf.internal.scaleFactor,Or=vr.internal.getFontSize(),Nr=vr.getStringUnitWidth(yr)*Or/vr.internal.scaleFactor,Hr=function(Wr){var qr=(Wr=Wr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return qr}}),this};return new Hr({width:Nr*=Math.round(96*Tr/72*1e4)/1e4})},He.prototype.scale=function(yr,vr){if(isNaN(yr)||isNaN(vr))throw a$2.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Tr=new Me(yr,0,0,vr,0,0);this.ctx.transform=this.ctx.transform.multiply(Tr)},He.prototype.rotate=function(yr){if(isNaN(yr))throw a$2.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var vr=new Me(Math.cos(yr),Math.sin(yr),-Math.sin(yr),Math.cos(yr),0,0);this.ctx.transform=this.ctx.transform.multiply(vr)},He.prototype.translate=function(yr,vr){if(isNaN(yr)||isNaN(vr))throw a$2.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Tr=new Me(1,0,0,1,yr,vr);this.ctx.transform=this.ctx.transform.multiply(Tr)},He.prototype.transform=function(yr,vr,Tr,Or,Nr,Hr){if(isNaN(yr)||isNaN(vr)||isNaN(Tr)||isNaN(Or)||isNaN(Nr)||isNaN(Hr))throw a$2.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Wr=new Me(yr,vr,Tr,Or,Nr,Hr);this.ctx.transform=this.ctx.transform.multiply(Wr)},He.prototype.setTransform=function(yr,vr,Tr,Or,Nr,Hr){yr=isNaN(yr)?1:yr,vr=isNaN(vr)?0:vr,Tr=isNaN(Tr)?0:Tr,Or=isNaN(Or)?1:Or,Nr=isNaN(Nr)?0:Nr,Hr=isNaN(Hr)?0:Hr,this.ctx.transform=new Me(yr,vr,Tr,Or,Nr,Hr)};var Ke=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};He.prototype.drawImage=function(yr,vr,Tr,Or,Nr,Hr,Wr,qr,Jr){var An=this.pdf.getImageProperties(yr),an=1,bn=1,gn=1,mn=1;Or!==void 0&&qr!==void 0&&(gn=qr/Or,mn=Jr/Nr,an=An.width/Or*qr/Or,bn=An.height/Nr*Jr/Nr),Hr===void 0&&(Hr=vr,Wr=Tr,vr=0,Tr=0),Or!==void 0&&qr===void 0&&(qr=Or,Jr=Nr),Or===void 0&&qr===void 0&&(qr=An.width,Jr=An.height);for(var Zr,kn=this.ctx.transform.decompose(),ri=br(kn.rotate.shx),zn=new Me,ei=(zn=(zn=(zn=zn.multiply(kn.translate)).multiply(kn.skew)).multiply(kn.scale)).applyToRectangle(new ke(Hr-vr*gn,Wr-Tr*mn,Or*an,Nr*bn)),Jn=Xe.call(this,ei),Wn=[],_i=0;_i<Jn.length;_i+=1)Wn.indexOf(Jn[_i])===-1&&Wn.push(Jn[_i]);if(Je(Wn),this.autoPaging)for(var wi=Wn[0],Oi=Wn[Wn.length-1],xi=wi;xi<Oi+1;xi++){this.pdf.setPage(xi);var Pi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ii=xi===1?this.posY+this.margin[0]:this.margin[0],Si=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],En=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Cn=xi===1?0:Si+(xi-2)*En;if(this.ctx.clip_path.length!==0){var oi=this.path;Zr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ze(Zr,this.posX+this.margin[3],-Cn+Ii+this.ctx.prevPageLastElemOffset),rr.call(this,"fill",!0),this.path=oi}var ci=JSON.parse(JSON.stringify(ei));ci=Ze([ci],this.posX+this.margin[3],-Cn+Ii+this.ctx.prevPageLastElemOffset)[0];var Qi=(xi>wi||xi<Oi)&&Ke.call(this);Qi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pi,En,null).clip().discardPath()),this.pdf.addImage(yr,"JPEG",ci.x,ci.y,ci.w,ci.h,null,null,ri),Qi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(yr,"JPEG",ei.x,ei.y,ei.w,ei.h,null,null,ri)};var Xe=function(yr,vr,Tr){var Or=[];vr=vr||this.pdf.internal.pageSize.width,Tr=Tr||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Nr=this.posY+this.ctx.prevPageLastElemOffset;switch(yr.type){default:case"mt":case"lt":Or.push(Math.floor((yr.y+Nr)/Tr)+1);break;case"arc":Or.push(Math.floor((yr.y+Nr-yr.radius)/Tr)+1),Or.push(Math.floor((yr.y+Nr+yr.radius)/Tr)+1);break;case"qct":var Hr=wr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,yr.x1,yr.y1,yr.x,yr.y);Or.push(Math.floor((Hr.y+Nr)/Tr)+1),Or.push(Math.floor((Hr.y+Hr.h+Nr)/Tr)+1);break;case"bct":var Wr=Br(this.ctx.lastPoint.x,this.ctx.lastPoint.y,yr.x1,yr.y1,yr.x2,yr.y2,yr.x,yr.y);Or.push(Math.floor((Wr.y+Nr)/Tr)+1),Or.push(Math.floor((Wr.y+Wr.h+Nr)/Tr)+1);break;case"rect":Or.push(Math.floor((yr.y+Nr)/Tr)+1),Or.push(Math.floor((yr.y+yr.h+Nr)/Tr)+1)}for(var qr=0;qr<Or.length;qr+=1)for(;this.pdf.internal.getNumberOfPages()<Or[qr];)Ye.call(this);return Or},Ye=function(){var yr=this.fillStyle,vr=this.strokeStyle,Tr=this.font,Or=this.lineCap,Nr=this.lineWidth,Hr=this.lineJoin;this.pdf.addPage(),this.fillStyle=yr,this.strokeStyle=vr,this.font=Tr,this.lineCap=Or,this.lineWidth=Nr,this.lineJoin=Hr},Ze=function(yr,vr,Tr){for(var Or=0;Or<yr.length;Or++)switch(yr[Or].type){case"bct":yr[Or].x2+=vr,yr[Or].y2+=Tr;case"qct":yr[Or].x1+=vr,yr[Or].y1+=Tr;case"mt":case"lt":case"arc":default:yr[Or].x+=vr,yr[Or].y+=Tr}return yr},Je=function(yr){return yr.sort((function(vr,Tr){return vr-Tr}))},tr=function(yr,vr){for(var Tr,Or,Nr=this.fillStyle,Hr=this.strokeStyle,Wr=this.lineCap,qr=this.lineWidth,Jr=Math.abs(qr*this.ctx.transform.scaleX),An=this.lineJoin,an=JSON.parse(JSON.stringify(this.path)),bn=JSON.parse(JSON.stringify(this.path)),gn=[],mn=0;mn<bn.length;mn++)if(bn[mn].x!==void 0)for(var Zr=Xe.call(this,bn[mn]),kn=0;kn<Zr.length;kn+=1)gn.indexOf(Zr[kn])===-1&&gn.push(Zr[kn]);for(var ri=0;ri<gn.length;ri++)for(;this.pdf.internal.getNumberOfPages()<gn[ri];)Ye.call(this);if(Je(gn),this.autoPaging)for(var zn=gn[0],ei=gn[gn.length-1],Jn=zn;Jn<ei+1;Jn++){this.pdf.setPage(Jn),this.fillStyle=Nr,this.strokeStyle=Hr,this.lineCap=Wr,this.lineWidth=Jr,this.lineJoin=An;var Wn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_i=Jn===1?this.posY+this.margin[0]:this.margin[0],wi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xi=Jn===1?0:wi+(Jn-2)*Oi;if(this.ctx.clip_path.length!==0){var Pi=this.path;Tr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ze(Tr,this.posX+this.margin[3],-xi+_i+this.ctx.prevPageLastElemOffset),rr.call(this,yr,!0),this.path=Pi}if(Or=JSON.parse(JSON.stringify(an)),this.path=Ze(Or,this.posX+this.margin[3],-xi+_i+this.ctx.prevPageLastElemOffset),vr===!1||Jn===0){var Ii=(Jn>zn||Jn<ei)&&Ke.call(this);Ii&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wn,Oi,null).clip().discardPath()),rr.call(this,yr,vr),Ii&&this.pdf.restoreGraphicsState()}this.lineWidth=qr}else this.lineWidth=Jr,rr.call(this,yr,vr),this.lineWidth=qr;this.path=an},rr=function(yr,vr){if((yr!=="stroke"||vr||!qe.call(this))&&(yr==="stroke"||vr||!We.call(this))){for(var Tr,Or,Nr=[],Hr=this.path,Wr=0;Wr<Hr.length;Wr++){var qr=Hr[Wr];switch(qr.type){case"begin":Nr.push({begin:!0});break;case"close":Nr.push({close:!0});break;case"mt":Nr.push({start:qr,deltas:[],abs:[]});break;case"lt":var Jr=Nr.length;if(Hr[Wr-1]&&!isNaN(Hr[Wr-1].x)&&(Tr=[qr.x-Hr[Wr-1].x,qr.y-Hr[Wr-1].y],Jr>0)){for(;Jr>=0;Jr--)if(Nr[Jr-1].close!==!0&&Nr[Jr-1].begin!==!0){Nr[Jr-1].deltas.push(Tr),Nr[Jr-1].abs.push(qr);break}}break;case"bct":Tr=[qr.x1-Hr[Wr-1].x,qr.y1-Hr[Wr-1].y,qr.x2-Hr[Wr-1].x,qr.y2-Hr[Wr-1].y,qr.x-Hr[Wr-1].x,qr.y-Hr[Wr-1].y],Nr[Nr.length-1].deltas.push(Tr);break;case"qct":var An=Hr[Wr-1].x+2/3*(qr.x1-Hr[Wr-1].x),an=Hr[Wr-1].y+2/3*(qr.y1-Hr[Wr-1].y),bn=qr.x+2/3*(qr.x1-qr.x),gn=qr.y+2/3*(qr.y1-qr.y),mn=qr.x,Zr=qr.y;Tr=[An-Hr[Wr-1].x,an-Hr[Wr-1].y,bn-Hr[Wr-1].x,gn-Hr[Wr-1].y,mn-Hr[Wr-1].x,Zr-Hr[Wr-1].y],Nr[Nr.length-1].deltas.push(Tr);break;case"arc":Nr.push({deltas:[],abs:[],arc:!0}),Array.isArray(Nr[Nr.length-1].abs)&&Nr[Nr.length-1].abs.push(qr)}}Or=vr?null:yr==="stroke"?"stroke":"fill";for(var kn=!1,ri=0;ri<Nr.length;ri++)if(Nr[ri].arc)for(var zn=Nr[ri].abs,ei=0;ei<zn.length;ei++){var Jn=zn[ei];Jn.type==="arc"?sr.call(this,Jn.x,Jn.y,Jn.radius,Jn.startAngle,Jn.endAngle,Jn.counterclockwise,void 0,vr,!kn):Er.call(this,Jn.x,Jn.y),kn=!0}else if(Nr[ri].close===!0)this.pdf.internal.out("h"),kn=!1;else if(Nr[ri].begin!==!0){var Wn=Nr[ri].start.x,_i=Nr[ri].start.y;Rr.call(this,Nr[ri].deltas,Wn,_i),kn=!0}Or&&dr.call(this,Or),vr&&_r.call(this)}},ar=function(yr){var vr=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Tr=vr*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return yr-Tr;case"top":return yr+vr-Tr;case"hanging":return yr+vr-2*Tr;case"middle":return yr+vr/2-Tr;case"ideographic":return yr;case"alphabetic":default:return yr}},nr=function(yr){return yr+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};He.prototype.createLinearGradient=function(){var yr=function(){};return yr.colorStops=[],yr.addColorStop=function(vr,Tr){this.colorStops.push([vr,Tr])},yr.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},yr.isCanvasGradient=!0,yr},He.prototype.createPattern=function(){return this.createLinearGradient()},He.prototype.createRadialGradient=function(){return this.createLinearGradient()};var sr=function(yr,vr,Tr,Or,Nr,Hr,Wr,qr,Jr){for(var An=xr.call(this,Tr,Or,Nr,Hr),an=0;an<An.length;an++){var bn=An[an];an===0&&(Jr?fr.call(this,bn.x1+yr,bn.y1+vr):Er.call(this,bn.x1+yr,bn.y1+vr)),jr.call(this,yr,vr,bn.x2,bn.y2,bn.x3,bn.y3,bn.x4,bn.y4)}qr?_r.call(this):dr.call(this,Wr)},dr=function(yr){switch(yr){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},_r=function(){this.pdf.clip(),this.pdf.discardPath()},fr=function(yr,vr){this.pdf.internal.out(je(yr)+" "+Be(vr)+" m")},or=function(yr){var vr;switch(yr.align){case"right":case"end":vr="right";break;case"center":vr="center";break;case"left":case"start":default:vr="left"}var Tr=this.pdf.getTextDimensions(yr.text),Or=ar.call(this,yr.y),Nr=nr.call(this,Or)-Tr.h,Hr=this.ctx.transform.applyToPoint(new Oe(yr.x,Or)),Wr=this.ctx.transform.decompose(),qr=new Me;qr=(qr=(qr=qr.multiply(Wr.translate)).multiply(Wr.skew)).multiply(Wr.scale);for(var Jr,An,an,bn=this.ctx.transform.applyToRectangle(new ke(yr.x,Or,Tr.w,Tr.h)),gn=qr.applyToRectangle(new ke(yr.x,Nr,Tr.w,Tr.h)),mn=Xe.call(this,gn),Zr=[],kn=0;kn<mn.length;kn+=1)Zr.indexOf(mn[kn])===-1&&Zr.push(mn[kn]);if(Je(Zr),this.autoPaging)for(var ri=Zr[0],zn=Zr[Zr.length-1],ei=ri;ei<zn+1;ei++){this.pdf.setPage(ei);var Jn=ei===1?this.posY+this.margin[0]:this.margin[0],Wn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_i=this.pdf.internal.pageSize.height-this.margin[2],wi=_i-this.margin[0],Oi=this.pdf.internal.pageSize.width-this.margin[1],xi=Oi-this.margin[3],Pi=ei===1?0:Wn+(ei-2)*wi;if(this.ctx.clip_path.length!==0){var Ii=this.path;Jr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ze(Jr,this.posX+this.margin[3],-1*Pi+Jn),rr.call(this,"fill",!0),this.path=Ii}var Si=Ze([JSON.parse(JSON.stringify(gn))],this.posX+this.margin[3],-Pi+Jn+this.ctx.prevPageLastElemOffset)[0];yr.scale>=.01&&(An=this.pdf.internal.getFontSize(),this.pdf.setFontSize(An*yr.scale),an=this.lineWidth,this.lineWidth=an*yr.scale);var En=this.autoPaging!=="text";if(En||Si.y+Si.h<=_i){if(En||Si.y>=Jn&&Si.x<=Oi){var Cn=En?yr.text:this.pdf.splitTextToSize(yr.text,yr.maxWidth||Oi-Si.x)[0],oi=Ze([JSON.parse(JSON.stringify(bn))],this.posX+this.margin[3],-Pi+Jn+this.ctx.prevPageLastElemOffset)[0],ci=En&&(ei>ri||ei<zn)&&Ke.call(this);ci&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xi,wi,null).clip().discardPath()),this.pdf.text(Cn,oi.x,oi.y,{angle:yr.angle,align:vr,renderingMode:yr.renderingMode}),ci&&this.pdf.restoreGraphicsState()}}else Si.y<_i&&(this.ctx.prevPageLastElemOffset+=_i-Si.y);yr.scale>=.01&&(this.pdf.setFontSize(An),this.lineWidth=an)}else yr.scale>=.01&&(An=this.pdf.internal.getFontSize(),this.pdf.setFontSize(An*yr.scale),an=this.lineWidth,this.lineWidth=an*yr.scale),this.pdf.text(yr.text,Hr.x+this.posX,Hr.y+this.posY,{angle:yr.angle,align:vr,renderingMode:yr.renderingMode,maxWidth:yr.maxWidth}),yr.scale>=.01&&(this.pdf.setFontSize(An),this.lineWidth=an)},Er=function(yr,vr,Tr,Or){Tr=Tr||0,Or=Or||0,this.pdf.internal.out(je(yr+Tr)+" "+Be(vr+Or)+" l")},Rr=function(yr,vr,Tr){return this.pdf.lines(yr,vr,Tr,null,null)},jr=function(yr,vr,Tr,Or,Nr,Hr,Wr,qr){this.pdf.internal.out([Re(De(Tr+yr)),Re(Fe(Or+vr)),Re(De(Nr+yr)),Re(Fe(Hr+vr)),Re(De(Wr+yr)),Re(Fe(qr+vr)),"c"].join(" "))},xr=function(yr,vr,Tr,Or){for(var Nr=2*Math.PI,Hr=Math.PI/2;vr>Tr;)vr-=Nr;var Wr=Math.abs(Tr-vr);Wr<Nr&&Or&&(Wr=Nr-Wr);for(var qr=[],Jr=Or?-1:1,An=vr;Wr>1e-5;){var an=An+Jr*Math.min(Wr,Hr);qr.push(Pr.call(this,yr,An,an)),Wr-=Math.abs(an-An),An=an}return qr},Pr=function(yr,vr,Tr){var Or=(Tr-vr)/2,Nr=yr*Math.cos(Or),Hr=yr*Math.sin(Or),Wr=Nr,qr=-Hr,Jr=Wr*Wr+qr*qr,An=Jr+Wr*Nr+qr*Hr,an=4/3*(Math.sqrt(2*Jr*An)-An)/(Wr*Hr-qr*Nr),bn=Wr-an*qr,gn=qr+an*Wr,mn=bn,Zr=-gn,kn=Or+vr,ri=Math.cos(kn),zn=Math.sin(kn);return{x1:yr*Math.cos(vr),y1:yr*Math.sin(vr),x2:bn*ri-gn*zn,y2:bn*zn+gn*ri,x3:mn*ri-Zr*zn,y3:mn*zn+Zr*ri,x4:yr*Math.cos(Tr),y4:yr*Math.sin(Tr)}},br=function(yr){return 180*yr/Math.PI},wr=function(yr,vr,Tr,Or,Nr,Hr){var Wr=yr+.5*(Tr-yr),qr=vr+.5*(Or-vr),Jr=Nr+.5*(Tr-Nr),An=Hr+.5*(Or-Hr),an=Math.min(yr,Nr,Wr,Jr),bn=Math.max(yr,Nr,Wr,Jr),gn=Math.min(vr,Hr,qr,An),mn=Math.max(vr,Hr,qr,An);return new ke(an,gn,bn-an,mn-gn)},Br=function(yr,vr,Tr,Or,Nr,Hr,Wr,qr){var Jr,An,an,bn,gn,mn,Zr,kn,ri,zn,ei,Jn,Wn,_i,wi=Tr-yr,Oi=Or-vr,xi=Nr-Tr,Pi=Hr-Or,Ii=Wr-Nr,Si=qr-Hr;for(An=0;An<41;An++)ri=(Zr=(an=yr+(Jr=An/40)*wi)+Jr*((gn=Tr+Jr*xi)-an))+Jr*(gn+Jr*(Nr+Jr*Ii-gn)-Zr),zn=(kn=(bn=vr+Jr*Oi)+Jr*((mn=Or+Jr*Pi)-bn))+Jr*(mn+Jr*(Hr+Jr*Si-mn)-kn),An==0?(ei=ri,Jn=zn,Wn=ri,_i=zn):(ei=Math.min(ei,ri),Jn=Math.min(Jn,zn),Wn=Math.max(Wn,ri),_i=Math.max(_i,zn));return new ke(Math.round(ei),Math.round(Jn),Math.round(Wn-ei),Math.round(_i-Jn))},Lr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var yr,vr,Tr=(yr=this.ctx.lineDash,vr=this.ctx.lineDashOffset,JSON.stringify({lineDash:yr,lineDashOffset:vr}));this.prevLineDash!==Tr&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Tr)}}})(E.API),(function(Ce){var Re=function(Fe){var Oe,ke,Me,Ue,$e,He,Qe,We,qe,Ke;for(ke=[],Me=0,Ue=(Fe+=Oe="\0\0\0\0".slice(Fe.length%4||4)).length;Ue>Me;Me+=4)($e=(Fe.charCodeAt(Me)<<24)+(Fe.charCodeAt(Me+1)<<16)+(Fe.charCodeAt(Me+2)<<8)+Fe.charCodeAt(Me+3))!==0?(He=($e=(($e=(($e=(($e=($e-(Ke=$e%85))/85)-(qe=$e%85))/85)-(We=$e%85))/85)-(Qe=$e%85))/85)%85,ke.push(He+33,Qe+33,We+33,qe+33,Ke+33)):ke.push(122);return(function(Xe,Ye){for(var Ze=Ye;Ze>0;Ze--)Xe.pop()})(ke,Oe.length),String.fromCharCode.apply(String,ke)+"~>"},je=function(Fe){var Oe,ke,Me,Ue,$e,He=String,Qe="length",We=255,qe="charCodeAt",Ke="slice",Xe="replace";for(Fe[Ke](-2),Fe=Fe[Ke](0,-2)[Xe](/\s/g,"")[Xe]("z","!!!!!"),Me=[],Ue=0,$e=(Fe+=Oe="uuuuu"[Ke](Fe[Qe]%5||5))[Qe];$e>Ue;Ue+=5)ke=52200625*(Fe[qe](Ue)-33)+614125*(Fe[qe](Ue+1)-33)+7225*(Fe[qe](Ue+2)-33)+85*(Fe[qe](Ue+3)-33)+(Fe[qe](Ue+4)-33),Me.push(We&ke>>24,We&ke>>16,We&ke>>8,We&ke);return(function(Ye,Ze){for(var Je=Ze;Je>0;Je--)Ye.pop()})(Me,Oe[Qe]),He.fromCharCode.apply(He,Me)},Be=function(Fe){var Oe=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Fe=Fe.replace(/\s/g,"")).indexOf(">")!==-1&&(Fe=Fe.substr(0,Fe.indexOf(">"))),Fe.length%2&&(Fe+="0"),Oe.test(Fe)===!1)return"";for(var ke="",Me=0;Me<Fe.length;Me+=2)ke+=String.fromCharCode("0x"+(Fe[Me]+Fe[Me+1]));return ke},De=function(Fe){for(var Oe=new Uint8Array(Fe.length),ke=Fe.length;ke--;)Oe[ke]=Fe.charCodeAt(ke);return Fe=(Oe=zlibSync(Oe)).reduce((function(Me,Ue){return Me+String.fromCharCode(Ue)}),"")};Ce.processDataByFilters=function(Fe,Oe){var ke=0,Me=Fe||"",Ue=[];for(typeof(Oe=Oe||[])=="string"&&(Oe=[Oe]),ke=0;ke<Oe.length;ke+=1)switch(Oe[ke]){case"ASCII85Decode":case"/ASCII85Decode":Me=je(Me),Ue.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Me=Re(Me),Ue.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Me=Be(Me),Ue.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Me=Me.split("").map((function($e){return("0"+$e.charCodeAt().toString(16)).slice(-2)})).join("")+">",Ue.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Me=De(Me),Ue.push("/FlateDecode");break;default:throw new Error('The filter: "'+Oe[ke]+'" is not implemented')}return{data:Me,reverseChain:Ue.reverse().join(" ")}}})(E.API),(function(Ce){Ce.loadFile=function(Re,je,Be){return(function(De,Fe,Oe){Fe=Fe!==!1,Oe=typeof Oe=="function"?Oe:function(){};var ke=void 0;try{ke=(function(Me,Ue,$e){var He=new XMLHttpRequest,Qe=0,We=function(qe){var Ke=qe.length,Xe=[],Ye=String.fromCharCode;for(Qe=0;Qe<Ke;Qe+=1)Xe.push(Ye(255&qe.charCodeAt(Qe)));return Xe.join("")};if(He.open("GET",Me,!Ue),He.overrideMimeType("text/plain; charset=x-user-defined"),Ue===!1&&(He.onload=function(){He.status===200?$e(We(this.responseText)):$e(void 0)}),He.send(null),Ue&&He.status===200)return We(He.responseText)})(De,Fe,Oe)}catch{}return ke})(Re,je,Be)},Ce.loadImageFile=Ce.loadFile})(E.API),(function(Ce){function Re(){return(n$1.html2canvas?Promise.resolve(n$1.html2canvas):__vitePreload(()=>import("./html2canvas.esm-B0tyYwQk.js"),[],import.meta.url)).catch((function(Oe){return Promise.reject(new Error("Could not load html2canvas: "+Oe))})).then((function(Oe){return Oe.default?Oe.default:Oe}))}function je(){return(n$1.DOMPurify?Promise.resolve(n$1.DOMPurify):__vitePreload(()=>import("./purify.es-CQJ0hv7W.js"),[],import.meta.url)).catch((function(Oe){return Promise.reject(new Error("Could not load dompurify: "+Oe))})).then((function(Oe){return Oe.default?Oe.default:Oe}))}var Be=function(Oe){var ke=_typeof(Oe);return ke==="undefined"?"undefined":ke==="string"||Oe instanceof String?"string":ke==="number"||Oe instanceof Number?"number":ke==="function"||Oe instanceof Function?"function":Oe&&Oe.constructor===Array?"array":Oe&&Oe.nodeType===1?"element":ke==="object"?"object":"unknown"},De=function(Oe,ke){var Me=document.createElement(Oe);for(var Ue in ke.className&&(Me.className=ke.className),ke.innerHTML&&ke.dompurify&&(Me.innerHTML=ke.dompurify.sanitize(ke.innerHTML)),ke.style)Me.style[Ue]=ke.style[Ue];return Me},Fe=function Oe(ke){var Me=Object.assign(Oe.convert(Promise.resolve()),JSON.parse(JSON.stringify(Oe.template))),Ue=Oe.convert(Promise.resolve(),Me);return Ue=(Ue=Ue.setProgress(1,Oe,1,[Oe])).set(ke)};(Fe.prototype=Object.create(Promise.prototype)).constructor=Fe,Fe.convert=function(Oe,ke){return Oe.__proto__=ke||Fe.prototype,Oe},Fe.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Fe.prototype.from=function(Oe,ke){return this.then((function(){switch(ke=ke||(function(Me){switch(Be(Me)){case"string":return"string";case"element":return Me.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(Oe)){case"string":return this.then(je).then((function(Me){return this.set({src:De("div",{innerHTML:Oe,dompurify:Me})})}));case"element":return this.set({src:Oe});case"canvas":return this.set({canvas:Oe});case"img":return this.set({img:Oe});default:return this.error("Unknown source type.")}}))},Fe.prototype.to=function(Oe){switch(Oe){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Fe.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var Oe={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},ke=(function Me(Ue,$e){for(var He=Ue.nodeType===3?document.createTextNode(Ue.nodeValue):Ue.cloneNode(!1),Qe=Ue.firstChild;Qe;Qe=Qe.nextSibling)$e!==!0&&Qe.nodeType===1&&Qe.nodeName==="SCRIPT"||He.appendChild(Me(Qe,$e));return Ue.nodeType===1&&(Ue.nodeName==="CANVAS"?(He.width=Ue.width,He.height=Ue.height,He.getContext("2d").drawImage(Ue,0,0)):Ue.nodeName!=="TEXTAREA"&&Ue.nodeName!=="SELECT"||(He.value=Ue.value),He.addEventListener("load",(function(){He.scrollTop=Ue.scrollTop,He.scrollLeft=Ue.scrollLeft}),!0)),He})(this.prop.src,this.opt.html2canvas.javascriptEnabled);ke.tagName==="BODY"&&(Oe.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=De("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=De("div",{className:"html2pdf__container",style:Oe}),this.prop.container.appendChild(ke),this.prop.container.firstChild.appendChild(De("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},Fe.prototype.toCanvas=function(){var Oe=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Oe).then(Re).then((function(ke){var Me=Object.assign({},this.opt.html2canvas);return delete Me.onrendered,ke(this.prop.container,Me)})).then((function(ke){(this.opt.html2canvas.onrendered||function(){})(ke),this.prop.canvas=ke,document.body.removeChild(this.prop.overlay)}))},Fe.prototype.toContext2d=function(){var Oe=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Oe).then(Re).then((function(ke){var Me=this.opt.jsPDF,Ue=this.opt.fontFaces,$e=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,He=Object.assign({async:!0,allowTaint:!0,scale:$e,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete He.onrendered,Me.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Me.context2d.posX=this.opt.x,Me.context2d.posY=this.opt.y,Me.context2d.margin=this.opt.margin,Me.context2d.fontFaces=Ue,Ue)for(var Qe=0;Qe<Ue.length;++Qe){var We=Ue[Qe],qe=We.src.find((function(Ke){return Ke.format==="truetype"}));qe&&Me.addFont(qe.url,We.ref.name,We.ref.style)}return He.windowHeight=He.windowHeight||0,He.windowHeight=He.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):He.windowHeight,Me.context2d.save(!0),ke(this.prop.container,He)})).then((function(ke){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(ke),this.prop.canvas=ke,document.body.removeChild(this.prop.overlay)}))},Fe.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var Oe=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Oe}))},Fe.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},Fe.prototype.output=function(Oe,ke,Me){return(Me=Me||"pdf").toLowerCase()==="img"||Me.toLowerCase()==="image"?this.outputImg(Oe,ke):this.outputPdf(Oe,ke)},Fe.prototype.outputPdf=function(Oe,ke){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(Oe,ke)}))},Fe.prototype.outputImg=function(Oe){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(Oe){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Oe+'" is not supported.'}}))},Fe.prototype.save=function(Oe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Oe?{filename:Oe}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},Fe.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},Fe.prototype.set=function(Oe){if(Be(Oe)!=="object")return this;var ke=Object.keys(Oe||{}).map((function(Me){if(Me in Fe.template.prop)return function(){this.prop[Me]=Oe[Me]};switch(Me){case"margin":return this.setMargin.bind(this,Oe.margin);case"jsPDF":return function(){return this.opt.jsPDF=Oe.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Oe.pageSize);default:return function(){this.opt[Me]=Oe[Me]}}}),this);return this.then((function(){return this.thenList(ke)}))},Fe.prototype.get=function(Oe,ke){return this.then((function(){var Me=Oe in Fe.template.prop?this.prop[Oe]:this.opt[Oe];return ke?ke(Me):Me}))},Fe.prototype.setMargin=function(Oe){return this.then((function(){switch(Be(Oe)){case"number":Oe=[Oe,Oe,Oe,Oe];case"array":if(Oe.length===2&&(Oe=[Oe[0],Oe[1],Oe[0],Oe[1]]),Oe.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Oe})).then(this.setPageSize)},Fe.prototype.setPageSize=function(Oe){function ke(Me,Ue){return Math.floor(Me*Ue/72*96)}return this.then((function(){(Oe=Oe||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Oe.inner={width:Oe.width-this.opt.margin[1]-this.opt.margin[3],height:Oe.height-this.opt.margin[0]-this.opt.margin[2]},Oe.inner.px={width:ke(Oe.inner.width,Oe.k),height:ke(Oe.inner.height,Oe.k)},Oe.inner.ratio=Oe.inner.height/Oe.inner.width),this.prop.pageSize=Oe}))},Fe.prototype.setProgress=function(Oe,ke,Me,Ue){return Oe!=null&&(this.progress.val=Oe),ke!=null&&(this.progress.state=ke),Me!=null&&(this.progress.n=Me),Ue!=null&&(this.progress.stack=Ue),this.progress.ratio=this.progress.val/this.progress.state,this},Fe.prototype.updateProgress=function(Oe,ke,Me,Ue){return this.setProgress(Oe?this.progress.val+Oe:null,ke||null,Me?this.progress.n+Me:null,Ue?this.progress.stack.concat(Ue):null)},Fe.prototype.then=function(Oe,ke){var Me=this;return this.thenCore(Oe,ke,(function(Ue,$e){return Me.updateProgress(null,null,1,[Ue]),Promise.prototype.then.call(this,(function(He){return Me.updateProgress(null,Ue),He})).then(Ue,$e).then((function(He){return Me.updateProgress(1),He}))}))},Fe.prototype.thenCore=function(Oe,ke,Me){Me=Me||Promise.prototype.then,Oe&&(Oe=Oe.bind(this)),ke&&(ke=ke.bind(this));var Ue=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:Fe.convert(Object.assign({},this),Promise.prototype),$e=Me.call(Ue,Oe,ke);return Fe.convert($e,this.__proto__)},Fe.prototype.thenExternal=function(Oe,ke){return Promise.prototype.then.call(this,Oe,ke)},Fe.prototype.thenList=function(Oe){var ke=this;return Oe.forEach((function(Me){ke=ke.thenCore(Me)})),ke},Fe.prototype.catch=function(Oe){Oe&&(Oe=Oe.bind(this));var ke=Promise.prototype.catch.call(this,Oe);return Fe.convert(ke,this)},Fe.prototype.catchExternal=function(Oe){return Promise.prototype.catch.call(this,Oe)},Fe.prototype.error=function(Oe){return this.then((function(){throw new Error(Oe)}))},Fe.prototype.using=Fe.prototype.set,Fe.prototype.saveAs=Fe.prototype.save,Fe.prototype.export=Fe.prototype.output,Fe.prototype.run=Fe.prototype.then,E.getPageSize=function(Oe,ke,Me){if(_typeof(Oe)==="object"){var Ue=Oe;Oe=Ue.orientation,ke=Ue.unit||ke,Me=Ue.format||Me}ke=ke||"mm",Me=Me||"a4",Oe=(""+(Oe||"P")).toLowerCase();var $e,He=(""+Me).toLowerCase(),Qe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(ke){case"pt":$e=1;break;case"mm":$e=72/25.4;break;case"cm":$e=72/2.54;break;case"in":$e=72;break;case"px":$e=.75;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:throw"Invalid unit: "+ke}var We,qe=0,Ke=0;if(Qe.hasOwnProperty(He))qe=Qe[He][1]/$e,Ke=Qe[He][0]/$e;else try{qe=Me[1],Ke=Me[0]}catch{throw new Error("Invalid format: "+Me)}if(Oe==="p"||Oe==="portrait")Oe="p",Ke>qe&&(We=Ke,Ke=qe,qe=We);else{if(Oe!=="l"&&Oe!=="landscape")throw"Invalid orientation: "+Oe;Oe="l",qe>Ke&&(We=Ke,Ke=qe,qe=We)}return{width:Ke,height:qe,unit:ke,k:$e,orientation:Oe}},Ce.html=function(Oe,ke){(ke=ke||{}).callback=ke.callback||function(){},ke.html2canvas=ke.html2canvas||{},ke.html2canvas.canvas=ke.html2canvas.canvas||this.canvas,ke.jsPDF=ke.jsPDF||this,ke.fontFaces=ke.fontFaces?ke.fontFaces.map(jt):null;var Me=new Fe(ke);return ke.worker?Me:Me.from(Oe).doCallback()}})(E.API),E.API.addJS=function(Ce){return Ht=Ce,this.internal.events.subscribe("postPutResources",(function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")})),this},(function(Ce){var Re;Ce.events.push(["postPutResources",function(){var je=this,Be=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var De=je.outline.render().split(/\r\n/),Fe=0;Fe<De.length;Fe++){var Oe=De[Fe],ke=Be.exec(Oe);if(ke!=null){var Me=ke[1];je.internal.newObjectDeferredBegin(Me,!1)}je.internal.write(Oe)}if(this.outline.createNamedDestinations){var Ue=this.internal.pages.length,$e=[];for(Fe=0;Fe<Ue;Fe++){var He=je.internal.newObject();$e.push(He);var Qe=je.internal.getPageInfo(Fe+1);je.internal.write("<< /D["+Qe.objId+" 0 R /XYZ null null null]>> endobj")}var We=je.internal.newObject();for(je.internal.write("<< /Names [ "),Fe=0;Fe<$e.length;Fe++)je.internal.write("(page_"+(Fe+1)+")"+$e[Fe]+" 0 R");je.internal.write(" ] >>","endobj"),Re=je.internal.newObject(),je.internal.write("<< /Dests "+We+" 0 R"),je.internal.write(">>","endobj")}}]),Ce.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+Re+" 0 R"))}]),Ce.events.push(["initialized",function(){var je=this;je.outline={createNamedDestinations:!1,root:{children:[]}},je.outline.add=function(Be,De,Fe){var Oe={title:De,options:Fe,children:[]};return Be==null&&(Be=this.root),Be.children.push(Oe),Oe},je.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=je,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},je.outline.genIds_r=function(Be){Be.id=je.internal.newObjectDeferred();for(var De=0;De<Be.children.length;De++)this.genIds_r(Be.children[De])},je.outline.renderRoot=function(Be){this.objStart(Be),this.line("/Type /Outlines"),Be.children.length>0&&(this.line("/First "+this.makeRef(Be.children[0])),this.line("/Last "+this.makeRef(Be.children[Be.children.length-1]))),this.line("/Count "+this.count_r({count:0},Be)),this.objEnd()},je.outline.renderItems=function(Be){for(var De=this.ctx.pdf.internal.getVerticalCoordinateString,Fe=0;Fe<Be.children.length;Fe++){var Oe=Be.children[Fe];this.objStart(Oe),this.line("/Title "+this.makeString(Oe.title)),this.line("/Parent "+this.makeRef(Be)),Fe>0&&this.line("/Prev "+this.makeRef(Be.children[Fe-1])),Fe<Be.children.length-1&&this.line("/Next "+this.makeRef(Be.children[Fe+1])),Oe.children.length>0&&(this.line("/First "+this.makeRef(Oe.children[0])),this.line("/Last "+this.makeRef(Oe.children[Oe.children.length-1])));var ke=this.count=this.count_r({count:0},Oe);if(ke>0&&this.line("/Count "+ke),Oe.options&&Oe.options.pageNumber){var Me=je.internal.getPageInfo(Oe.options.pageNumber);this.line("/Dest ["+Me.objId+" 0 R /XYZ 0 "+De(0)+" 0]")}this.objEnd()}for(var Ue=0;Ue<Be.children.length;Ue++)this.renderItems(Be.children[Ue])},je.outline.line=function(Be){this.ctx.val+=Be+`\r
`},je.outline.makeRef=function(Be){return Be.id+" 0 R"},je.outline.makeString=function(Be){return"("+je.internal.pdfEscape(Be)+")"},je.outline.objStart=function(Be){this.ctx.val+=`\r
`+Be.id+` 0 obj\r
<<\r
`},je.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},je.outline.count_r=function(Be,De){for(var Fe=0;Fe<De.children.length;Fe++)Be.count++,this.count_r(Be,De.children[Fe]);return Be.count}}])})(E.API),(function(Ce){var Re=[192,193,194,195,196,197,198,199];Ce.processJPEG=function(je,Be,De,Fe,Oe,ke){var Me,Ue=this.decode.DCT_DECODE,$e=null;if(typeof je=="string"||this.__addimage__.isArrayBuffer(je)||this.__addimage__.isArrayBufferView(je)){switch(je=Oe||je,je=this.__addimage__.isArrayBuffer(je)?new Uint8Array(je):je,(Me=(function(He){for(var Qe,We=256*He.charCodeAt(4)+He.charCodeAt(5),qe=He.length,Ke={width:0,height:0,numcomponents:1},Xe=4;Xe<qe;Xe+=2){if(Xe+=We,Re.indexOf(He.charCodeAt(Xe+1))!==-1){Qe=256*He.charCodeAt(Xe+5)+He.charCodeAt(Xe+6),Ke={width:256*He.charCodeAt(Xe+7)+He.charCodeAt(Xe+8),height:Qe,numcomponents:He.charCodeAt(Xe+9)};break}We=256*He.charCodeAt(Xe+2)+He.charCodeAt(Xe+3)}return Ke})(je=this.__addimage__.isArrayBufferView(je)?this.__addimage__.arrayBufferToBinaryString(je):je)).numcomponents){case 1:ke=this.color_spaces.DEVICE_GRAY;break;case 4:ke=this.color_spaces.DEVICE_CMYK;break;case 3:ke=this.color_spaces.DEVICE_RGB}$e={data:je,width:Me.width,height:Me.height,colorSpace:ke,bitsPerComponent:8,filter:Ue,index:Be,alias:De}}return $e}})(E.API);var Vt$1,Gt$1,Yt,Jt,Xt$1,Kt=(function(){var Ce,Re,je;function Be(Fe){var Oe,ke,Me,Ue,$e,He,Qe,We,qe,Ke,Xe,Ye,Ze,Je;for(this.data=Fe,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},He=null;;){switch(Oe=this.readUInt32(),qe=(function(){var tr,rr;for(rr=[],tr=0;tr<4;++tr)rr.push(String.fromCharCode(this.data[this.pos++]));return rr}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(Oe);break;case"fcTL":He&&this.animation.frames.push(He),this.pos+=4,He={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},$e=this.readUInt16(),Ue=this.readUInt16()||100,He.delay=1e3*$e/Ue,He.disposeOp=this.data[this.pos++],He.blendOp=this.data[this.pos++],He.data=[];break;case"IDAT":case"fdAT":for(qe==="fdAT"&&(this.pos+=4,Oe-=4),Fe=He?.data||this.imgData,Ye=0;0<=Oe?Ye<Oe:Ye>Oe;0<=Oe?++Ye:--Ye)Fe.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(Me=this.palette.length/3,this.transparency.indexed=this.read(Oe),this.transparency.indexed.length>Me)throw new Error("More transparent colors than palette size");if((Ke=Me-this.transparency.indexed.length)>0)for(Ze=0;0<=Ke?Ze<Ke:Ze>Ke;0<=Ke?++Ze:--Ze)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(Oe)[0];break;case 2:this.transparency.rgb=this.read(Oe)}break;case"tEXt":Qe=(Xe=this.read(Oe)).indexOf(0),We=String.fromCharCode.apply(String,Xe.slice(0,Qe)),this.text[We]=String.fromCharCode.apply(String,Xe.slice(Qe+1));break;case"IEND":return He&&this.animation.frames.push(He),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(Je=this.colorType)===4||Je===6,ke=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*ke,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=Oe}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}Be.prototype.read=function(Fe){var Oe,ke;for(ke=[],Oe=0;0<=Fe?Oe<Fe:Oe>Fe;0<=Fe?++Oe:--Oe)ke.push(this.data[this.pos++]);return ke},Be.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},Be.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},Be.prototype.decodePixels=function(Fe){var Oe=this.pixelBitlength/8,ke=new Uint8Array(this.width*this.height*Oe),Me=0,Ue=this;if(Fe==null&&(Fe=this.imgData),Fe.length===0)return new Uint8Array(0);function $e(He,Qe,We,qe){var Ke,Xe,Ye,Ze,Je,tr,rr,ar,nr,sr,dr,_r,fr,or,Er,Rr,jr,xr,Pr,br,wr,Br=Math.ceil((Ue.width-He)/We),Lr=Math.ceil((Ue.height-Qe)/qe),yr=Ue.width==Br&&Ue.height==Lr;for(or=Oe*Br,_r=yr?ke:new Uint8Array(or*Lr),tr=Fe.length,fr=0,Xe=0;fr<Lr&&Me<tr;){switch(Fe[Me++]){case 0:for(Ze=jr=0;jr<or;Ze=jr+=1)_r[Xe++]=Fe[Me++];break;case 1:for(Ze=xr=0;xr<or;Ze=xr+=1)Ke=Fe[Me++],Je=Ze<Oe?0:_r[Xe-Oe],_r[Xe++]=(Ke+Je)%256;break;case 2:for(Ze=Pr=0;Pr<or;Ze=Pr+=1)Ke=Fe[Me++],Ye=(Ze-Ze%Oe)/Oe,Er=fr&&_r[(fr-1)*or+Ye*Oe+Ze%Oe],_r[Xe++]=(Er+Ke)%256;break;case 3:for(Ze=br=0;br<or;Ze=br+=1)Ke=Fe[Me++],Ye=(Ze-Ze%Oe)/Oe,Je=Ze<Oe?0:_r[Xe-Oe],Er=fr&&_r[(fr-1)*or+Ye*Oe+Ze%Oe],_r[Xe++]=(Ke+Math.floor((Je+Er)/2))%256;break;case 4:for(Ze=wr=0;wr<or;Ze=wr+=1)Ke=Fe[Me++],Ye=(Ze-Ze%Oe)/Oe,Je=Ze<Oe?0:_r[Xe-Oe],fr===0?Er=Rr=0:(Er=_r[(fr-1)*or+Ye*Oe+Ze%Oe],Rr=Ye&&_r[(fr-1)*or+(Ye-1)*Oe+Ze%Oe]),rr=Je+Er-Rr,ar=Math.abs(rr-Je),sr=Math.abs(rr-Er),dr=Math.abs(rr-Rr),nr=ar<=sr&&ar<=dr?Je:sr<=dr?Er:Rr,_r[Xe++]=(Ke+nr)%256;break;default:throw new Error("Invalid filter algorithm: "+Fe[Me-1])}if(!yr){var vr=((Qe+fr*qe)*Ue.width+He)*Oe,Tr=fr*or;for(Ze=0;Ze<Br;Ze+=1){for(var Or=0;Or<Oe;Or+=1)ke[vr++]=_r[Tr++];vr+=(We-1)*Oe}}fr++}}return Fe=unzlibSync(Fe),Ue.interlaceMethod==1?($e(0,0,8,8),$e(4,0,8,8),$e(0,4,4,8),$e(2,0,4,4),$e(0,2,2,4),$e(1,0,2,2),$e(0,1,1,2)):$e(0,0,1,1),ke},Be.prototype.decodePalette=function(){var Fe,Oe,ke,Me,Ue,$e,He,Qe,We;for(ke=this.palette,$e=this.transparency.indexed||[],Ue=new Uint8Array(($e.length||0)+ke.length),Me=0,Fe=0,Oe=He=0,Qe=ke.length;He<Qe;Oe=He+=3)Ue[Me++]=ke[Oe],Ue[Me++]=ke[Oe+1],Ue[Me++]=ke[Oe+2],Ue[Me++]=(We=$e[Fe++])!=null?We:255;return Ue},Be.prototype.copyToImageData=function(Fe,Oe){var ke,Me,Ue,$e,He,Qe,We,qe,Ke,Xe,Ye;if(Me=this.colors,Ke=null,ke=this.hasAlphaChannel,this.palette.length&&(Ke=(Ye=this._decodedPalette)!=null?Ye:this._decodedPalette=this.decodePalette(),Me=4,ke=!0),qe=(Ue=Fe.data||Fe).length,He=Ke||Oe,$e=Qe=0,Me===1)for(;$e<qe;)We=Ke?4*Oe[$e/4]:Qe,Xe=He[We++],Ue[$e++]=Xe,Ue[$e++]=Xe,Ue[$e++]=Xe,Ue[$e++]=ke?He[We++]:255,Qe=We;else for(;$e<qe;)We=Ke?4*Oe[$e/4]:Qe,Ue[$e++]=He[We++],Ue[$e++]=He[We++],Ue[$e++]=He[We++],Ue[$e++]=ke?He[We++]:255,Qe=We},Be.prototype.decode=function(){var Fe;return Fe=new Uint8Array(this.width*this.height*4),this.copyToImageData(Fe,this.decodePixels()),Fe};var De=function(){if(Object.prototype.toString.call(n$1)==="[object Window]"){try{Re=n$1.document.createElement("canvas"),je=Re.getContext("2d")}catch{return!1}return!0}return!1};return De(),Ce=function(Fe){var Oe;if(De()===!0)return je.width=Fe.width,je.height=Fe.height,je.clearRect(0,0,Fe.width,Fe.height),je.putImageData(Fe,0,0),(Oe=new Image).src=Re.toDataURL(),Oe;throw new Error("This method requires a Browser with Canvas-capability.")},Be.prototype.decodeFrames=function(Fe){var Oe,ke,Me,Ue,$e,He,Qe,We;if(this.animation){for(We=[],ke=$e=0,He=(Qe=this.animation.frames).length;$e<He;ke=++$e)Oe=Qe[ke],Me=Fe.createImageData(Oe.width,Oe.height),Ue=this.decodePixels(new Uint8Array(Oe.data)),this.copyToImageData(Me,Ue),Oe.imageData=Me,We.push(Oe.image=Ce(Me));return We}},Be.prototype.renderFrame=function(Fe,Oe){var ke,Me,Ue;return ke=(Me=this.animation.frames)[Oe],Ue=Me[Oe-1],Oe===0&&Fe.clearRect(0,0,this.width,this.height),Ue?.disposeOp===1?Fe.clearRect(Ue.xOffset,Ue.yOffset,Ue.width,Ue.height):Ue?.disposeOp===2&&Fe.putImageData(Ue.imageData,Ue.xOffset,Ue.yOffset),ke.blendOp===0&&Fe.clearRect(ke.xOffset,ke.yOffset,ke.width,ke.height),Fe.drawImage(ke.image,ke.xOffset,ke.yOffset)},Be.prototype.animate=function(Fe){var Oe,ke,Me,Ue,$e,He,Qe=this;return ke=0,He=this.animation,Ue=He.numFrames,Me=He.frames,$e=He.numPlays,(Oe=function(){var We,qe;if(We=ke++%Ue,qe=Me[We],Qe.renderFrame(Fe,We),Ue>1&&ke/Ue<$e)return Qe.animation._timeout=setTimeout(Oe,qe.delay)})()},Be.prototype.stopAnimation=function(){var Fe;return clearTimeout((Fe=this.animation)!=null?Fe._timeout:void 0)},Be.prototype.render=function(Fe){var Oe,ke;return Fe._png&&Fe._png.stopAnimation(),Fe._png=this,Fe.width=this.width,Fe.height=this.height,Oe=Fe.getContext("2d"),this.animation?(this.decodeFrames(Oe),this.animate(Oe)):(ke=Oe.createImageData(this.width,this.height),this.copyToImageData(ke,this.decodePixels()),Oe.putImageData(ke,0,0))},Be})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(Ce){var Re=0;if(Ce[Re++]!==71||Ce[Re++]!==73||Ce[Re++]!==70||Ce[Re++]!==56||(Ce[Re++]+1&253)!=56||Ce[Re++]!==97)throw new Error("Invalid GIF 87a/89a header.");var je=Ce[Re++]|Ce[Re++]<<8,Be=Ce[Re++]|Ce[Re++]<<8,De=Ce[Re++],Fe=De>>7,Oe=1<<(7&De)+1;Ce[Re++],Ce[Re++];var ke=null,Me=null;Fe&&(ke=Re,Me=Oe,Re+=3*Oe);var Ue=!0,$e=[],He=0,Qe=null,We=0,qe=null;for(this.width=je,this.height=Be;Ue&&Re<Ce.length;)switch(Ce[Re++]){case 33:switch(Ce[Re++]){case 255:if(Ce[Re]!==11||Ce[Re+1]==78&&Ce[Re+2]==69&&Ce[Re+3]==84&&Ce[Re+4]==83&&Ce[Re+5]==67&&Ce[Re+6]==65&&Ce[Re+7]==80&&Ce[Re+8]==69&&Ce[Re+9]==50&&Ce[Re+10]==46&&Ce[Re+11]==48&&Ce[Re+12]==3&&Ce[Re+13]==1&&Ce[Re+16]==0)Re+=14,qe=Ce[Re++]|Ce[Re++]<<8,Re++;else for(Re+=12;;){if(!((fr=Ce[Re++])>=0))throw Error("Invalid block size");if(fr===0)break;Re+=fr}break;case 249:if(Ce[Re++]!==4||Ce[Re+4]!==0)throw new Error("Invalid graphics extension block.");var Ke=Ce[Re++];He=Ce[Re++]|Ce[Re++]<<8,Qe=Ce[Re++],(1&Ke)==0&&(Qe=null),We=Ke>>2&7,Re++;break;case 254:for(;;){if(!((fr=Ce[Re++])>=0))throw Error("Invalid block size");if(fr===0)break;Re+=fr}break;default:throw new Error("Unknown graphic control label: 0x"+Ce[Re-1].toString(16))}break;case 44:var Xe=Ce[Re++]|Ce[Re++]<<8,Ye=Ce[Re++]|Ce[Re++]<<8,Ze=Ce[Re++]|Ce[Re++]<<8,Je=Ce[Re++]|Ce[Re++]<<8,tr=Ce[Re++],rr=tr>>6&1,ar=1<<(7&tr)+1,nr=ke,sr=Me,dr=!1;tr>>7&&(dr=!0,nr=Re,sr=ar,Re+=3*ar);var _r=Re;for(Re++;;){var fr;if(!((fr=Ce[Re++])>=0))throw Error("Invalid block size");if(fr===0)break;Re+=fr}$e.push({x:Xe,y:Ye,width:Ze,height:Je,has_local_palette:dr,palette_offset:nr,palette_size:sr,data_offset:_r,data_length:Re-_r,transparent_index:Qe,interlaced:!!rr,delay:He,disposal:We});break;case 59:Ue=!1;break;default:throw new Error("Unknown gif block: 0x"+Ce[Re-1].toString(16))}this.numFrames=function(){return $e.length},this.loopCount=function(){return qe},this.frameInfo=function(or){if(or<0||or>=$e.length)throw new Error("Frame index out of range.");return $e[or]},this.decodeAndBlitFrameBGRA=function(or,Er){var Rr=this.frameInfo(or),jr=Rr.width*Rr.height,xr=new Uint8Array(jr);$t(Ce,Rr.data_offset,xr,jr);var Pr=Rr.palette_offset,br=Rr.transparent_index;br===null&&(br=256);var wr=Rr.width,Br=je-wr,Lr=wr,yr=4*(Rr.y*je+Rr.x),vr=4*((Rr.y+Rr.height)*je+Rr.x),Tr=yr,Or=4*Br;Rr.interlaced===!0&&(Or+=4*je*7);for(var Nr=8,Hr=0,Wr=xr.length;Hr<Wr;++Hr){var qr=xr[Hr];if(Lr===0&&(Lr=wr,(Tr+=Or)>=vr&&(Or=4*Br+4*je*(Nr-1),Tr=yr+(wr+Br)*(Nr<<1),Nr>>=1)),qr===br)Tr+=4;else{var Jr=Ce[Pr+3*qr],An=Ce[Pr+3*qr+1],an=Ce[Pr+3*qr+2];Er[Tr++]=an,Er[Tr++]=An,Er[Tr++]=Jr,Er[Tr++]=255}--Lr}},this.decodeAndBlitFrameRGBA=function(or,Er){var Rr=this.frameInfo(or),jr=Rr.width*Rr.height,xr=new Uint8Array(jr);$t(Ce,Rr.data_offset,xr,jr);var Pr=Rr.palette_offset,br=Rr.transparent_index;br===null&&(br=256);var wr=Rr.width,Br=je-wr,Lr=wr,yr=4*(Rr.y*je+Rr.x),vr=4*((Rr.y+Rr.height)*je+Rr.x),Tr=yr,Or=4*Br;Rr.interlaced===!0&&(Or+=4*je*7);for(var Nr=8,Hr=0,Wr=xr.length;Hr<Wr;++Hr){var qr=xr[Hr];if(Lr===0&&(Lr=wr,(Tr+=Or)>=vr&&(Or=4*Br+4*je*(Nr-1),Tr=yr+(wr+Br)*(Nr<<1),Nr>>=1)),qr===br)Tr+=4;else{var Jr=Ce[Pr+3*qr],An=Ce[Pr+3*qr+1],an=Ce[Pr+3*qr+2];Er[Tr++]=Jr,Er[Tr++]=An,Er[Tr++]=an,Er[Tr++]=255}--Lr}}}function $t(Ce,Re,je,Be){for(var De=Ce[Re++],Fe=1<<De,Oe=Fe+1,ke=Oe+1,Me=De+1,Ue=(1<<Me)-1,$e=0,He=0,Qe=0,We=Ce[Re++],qe=new Int32Array(4096),Ke=null;;){for(;$e<16&&We!==0;)He|=Ce[Re++]<<$e,$e+=8,We===1?We=Ce[Re++]:--We;if($e<Me)break;var Xe=He&Ue;if(He>>=Me,$e-=Me,Xe!==Fe){if(Xe===Oe)break;for(var Ye=Xe<ke?Xe:Ke,Ze=0,Je=Ye;Je>Fe;)Je=qe[Je]>>8,++Ze;var tr=Je;if(Qe+Ze+(Ye!==Xe?1:0)>Be)return void a$2.log("Warning, gif stream longer than expected.");je[Qe++]=tr;var rr=Qe+=Ze;for(Ye!==Xe&&(je[Qe++]=tr),Je=Ye;Ze--;)Je=qe[Je],je[--rr]=255&Je,Je>>=8;Ke!==null&&ke<4096&&(qe[ke++]=Ke<<8|tr,ke>=Ue+1&&Me<12&&(++Me,Ue=Ue<<1|1)),Ke=Xe}else ke=Oe+1,Ue=(1<<(Me=De+1))-1,Ke=null}return Qe!==Be&&a$2.log("Warning, gif stream shorter than expected."),je}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt$1(Ce){var Re,je,Be,De,Fe,Oe=Math.floor,ke=new Array(64),Me=new Array(64),Ue=new Array(64),$e=new Array(64),He=new Array(65535),Qe=new Array(65535),We=new Array(64),qe=new Array(64),Ke=[],Xe=0,Ye=7,Ze=new Array(64),Je=new Array(64),tr=new Array(64),rr=new Array(256),ar=new Array(2048),nr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],sr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],dr=[0,1,2,3,4,5,6,7,8,9,10,11],_r=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],fr=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],or=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Er=[0,1,2,3,4,5,6,7,8,9,10,11],Rr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],jr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function xr(yr,vr){for(var Tr=0,Or=0,Nr=new Array,Hr=1;Hr<=16;Hr++){for(var Wr=1;Wr<=yr[Hr];Wr++)Nr[vr[Or]]=[],Nr[vr[Or]][0]=Tr,Nr[vr[Or]][1]=Hr,Or++,Tr++;Tr*=2}return Nr}function Pr(yr){for(var vr=yr[0],Tr=yr[1]-1;Tr>=0;)vr&1<<Tr&&(Xe|=1<<Ye),Tr--,--Ye<0&&(Xe==255?(br(255),br(0)):br(Xe),Ye=7,Xe=0)}function br(yr){Ke.push(yr)}function wr(yr){br(yr>>8&255),br(255&yr)}function Br(yr,vr,Tr,Or,Nr){for(var Hr,Wr=Nr[0],qr=Nr[240],Jr=(function(zn,ei){var Jn,Wn,_i,wi,Oi,xi,Pi,Ii,Si,En,Cn=0;for(Si=0;Si<8;++Si){Jn=zn[Cn],Wn=zn[Cn+1],_i=zn[Cn+2],wi=zn[Cn+3],Oi=zn[Cn+4],xi=zn[Cn+5],Pi=zn[Cn+6];var oi=Jn+(Ii=zn[Cn+7]),ci=Jn-Ii,Qi=Wn+Pi,ti=Wn-Pi,Bi=_i+xi,jn=_i-xi,vn=wi+Oi,Ni=wi-Oi,bi=oi+vn,Gi=oi-vn,Di=Qi+Bi,hi=Qi-Bi;zn[Cn]=bi+Di,zn[Cn+4]=bi-Di;var fi=.707106781*(hi+Gi);zn[Cn+2]=Gi+fi,zn[Cn+6]=Gi-fi;var Ri=.382683433*((bi=Ni+jn)-(hi=ti+ci)),Zi=.5411961*bi+Ri,ds=1.306562965*hi+Ri,oa=.707106781*(Di=jn+ti),Wa=ci+oa,Mi=ci-oa;zn[Cn+5]=Mi+Zi,zn[Cn+3]=Mi-Zi,zn[Cn+1]=Wa+ds,zn[Cn+7]=Wa-ds,Cn+=8}for(Cn=0,Si=0;Si<8;++Si){Jn=zn[Cn],Wn=zn[Cn+8],_i=zn[Cn+16],wi=zn[Cn+24],Oi=zn[Cn+32],xi=zn[Cn+40],Pi=zn[Cn+48];var Qs=Jn+(Ii=zn[Cn+56]),Fs=Jn-Ii,Xs=Wn+Pi,Yi=Wn-Pi,ra=_i+xi,Kr=_i-xi,fn=wi+Oi,sn=wi-Oi,on=Qs+fn,hn=Qs-fn,pn=Xs+ra,Mn=Xs-ra;zn[Cn]=on+pn,zn[Cn+32]=on-pn;var qn=.707106781*(Mn+hn);zn[Cn+16]=hn+qn,zn[Cn+48]=hn-qn;var Nn=.382683433*((on=sn+Kr)-(Mn=Yi+Fs)),Vn=.5411961*on+Nn,Kn=1.306562965*Mn+Nn,gi=.707106781*(pn=Kr+Yi),Ti=Fs+gi,zi=Fs-gi;zn[Cn+40]=zi+Vn,zn[Cn+24]=zi-Vn,zn[Cn+8]=Ti+Kn,zn[Cn+56]=Ti-Kn,Cn++}for(Si=0;Si<64;++Si)En=zn[Si]*ei[Si],We[Si]=En>0?En+.5|0:En-.5|0;return We})(yr,vr),An=0;An<64;++An)qe[nr[An]]=Jr[An];var an=qe[0]-Tr;Tr=qe[0],an==0?Pr(Or[0]):(Pr(Or[Qe[Hr=32767+an]]),Pr(He[Hr]));for(var bn=63;bn>0&&qe[bn]==0;)bn--;if(bn==0)return Pr(Wr),Tr;for(var gn,mn=1;mn<=bn;){for(var Zr=mn;qe[mn]==0&&mn<=bn;)++mn;var kn=mn-Zr;if(kn>=16){gn=kn>>4;for(var ri=1;ri<=gn;++ri)Pr(qr);kn&=15}Hr=32767+qe[mn],Pr(Nr[(kn<<4)+Qe[Hr]]),Pr(He[Hr]),mn++}return bn!=63&&Pr(Wr),Tr}function Lr(yr){yr=Math.min(Math.max(yr,1),100),Fe!=yr&&((function(vr){for(var Tr=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Or=0;Or<64;Or++){var Nr=Oe((Tr[Or]*vr+50)/100);Nr=Math.min(Math.max(Nr,1),255),ke[nr[Or]]=Nr}for(var Hr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Wr=0;Wr<64;Wr++){var qr=Oe((Hr[Wr]*vr+50)/100);qr=Math.min(Math.max(qr,1),255),Me[nr[Wr]]=qr}for(var Jr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],An=0,an=0;an<8;an++)for(var bn=0;bn<8;bn++)Ue[An]=1/(ke[nr[An]]*Jr[an]*Jr[bn]*8),$e[An]=1/(Me[nr[An]]*Jr[an]*Jr[bn]*8),An++})(yr<50?Math.floor(5e3/yr):Math.floor(200-2*yr)),Fe=yr)}this.encode=function(yr,vr){vr&&Lr(vr),Ke=new Array,Xe=0,Ye=7,wr(65496),wr(65504),wr(16),br(74),br(70),br(73),br(70),br(0),br(1),br(1),br(0),wr(1),wr(1),br(0),br(0),(function(){wr(65499),wr(132),br(0);for(var Wn=0;Wn<64;Wn++)br(ke[Wn]);br(1);for(var _i=0;_i<64;_i++)br(Me[_i])})(),(function(Wn,_i){wr(65472),wr(17),br(8),wr(_i),wr(Wn),br(3),br(1),br(17),br(0),br(2),br(17),br(1),br(3),br(17),br(1)})(yr.width,yr.height),(function(){wr(65476),wr(418),br(0);for(var Wn=0;Wn<16;Wn++)br(sr[Wn+1]);for(var _i=0;_i<=11;_i++)br(dr[_i]);br(16);for(var wi=0;wi<16;wi++)br(_r[wi+1]);for(var Oi=0;Oi<=161;Oi++)br(fr[Oi]);br(1);for(var xi=0;xi<16;xi++)br(or[xi+1]);for(var Pi=0;Pi<=11;Pi++)br(Er[Pi]);br(17);for(var Ii=0;Ii<16;Ii++)br(Rr[Ii+1]);for(var Si=0;Si<=161;Si++)br(jr[Si])})(),wr(65498),wr(12),br(3),br(1),br(0),br(2),br(17),br(3),br(17),br(0),br(63),br(0);var Tr=0,Or=0,Nr=0;Xe=0,Ye=7,this.encode.displayName="_encode_";for(var Hr,Wr,qr,Jr,An,an,bn,gn,mn,Zr=yr.data,kn=yr.width,ri=yr.height,zn=4*kn,ei=0;ei<ri;){for(Hr=0;Hr<zn;){for(An=zn*ei+Hr,bn=-1,gn=0,mn=0;mn<64;mn++)an=An+(gn=mn>>3)*zn+(bn=4*(7&mn)),ei+gn>=ri&&(an-=zn*(ei+1+gn-ri)),Hr+bn>=zn&&(an-=Hr+bn-zn+4),Wr=Zr[an++],qr=Zr[an++],Jr=Zr[an++],Ze[mn]=(ar[Wr]+ar[qr+256>>0]+ar[Jr+512>>0]>>16)-128,Je[mn]=(ar[Wr+768>>0]+ar[qr+1024>>0]+ar[Jr+1280>>0]>>16)-128,tr[mn]=(ar[Wr+1280>>0]+ar[qr+1536>>0]+ar[Jr+1792>>0]>>16)-128;Tr=Br(Ze,Ue,Tr,Re,Be),Or=Br(Je,$e,Or,je,De),Nr=Br(tr,$e,Nr,je,De),Hr+=32}ei+=8}if(Ye>=0){var Jn=[];Jn[1]=Ye+1,Jn[0]=(1<<Ye+1)-1,Pr(Jn)}return wr(65497),new Uint8Array(Ke)},Ce=Ce||50,(function(){for(var yr=String.fromCharCode,vr=0;vr<256;vr++)rr[vr]=yr(vr)})(),Re=xr(sr,dr),je=xr(or,Er),Be=xr(_r,fr),De=xr(Rr,jr),(function(){for(var yr=1,vr=2,Tr=1;Tr<=15;Tr++){for(var Or=yr;Or<vr;Or++)Qe[32767+Or]=Tr,He[32767+Or]=[],He[32767+Or][1]=Tr,He[32767+Or][0]=Or;for(var Nr=-(vr-1);Nr<=-yr;Nr++)Qe[32767+Nr]=Tr,He[32767+Nr]=[],He[32767+Nr][1]=Tr,He[32767+Nr][0]=vr-1+Nr;yr<<=1,vr<<=1}})(),(function(){for(var yr=0;yr<256;yr++)ar[yr]=19595*yr,ar[yr+256>>0]=38470*yr,ar[yr+512>>0]=7471*yr+32768,ar[yr+768>>0]=-11059*yr,ar[yr+1024>>0]=-21709*yr,ar[yr+1280>>0]=32768*yr+8421375,ar[yr+1536>>0]=-27439*yr,ar[yr+1792>>0]=-5329*yr})(),Lr(Ce)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(Ce,Re){if(this.pos=0,this.buffer=Ce,this.datav=new DataView(Ce.buffer),this.is_with_alpha=!!Re,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(Ce){function Re(sr){if(!sr)throw Error("assert :P")}function je(sr,dr,_r){for(var fr=0;4>fr;fr++)if(sr[dr+fr]!=_r.charCodeAt(fr))return!0;return!1}function Be(sr,dr,_r,fr,or){for(var Er=0;Er<or;Er++)sr[dr+Er]=_r[fr+Er]}function De(sr,dr,_r,fr){for(var or=0;or<fr;or++)sr[dr+or]=_r}function Fe(sr){return new Int32Array(sr)}function Oe(sr,dr){for(var _r=[],fr=0;fr<sr;fr++)_r.push(new dr);return _r}function ke(sr,dr){var _r=[];return(function fr(or,Er,Rr){for(var jr=Rr[Er],xr=0;xr<jr&&(or.push(Rr.length>Er+1?[]:new dr),!(Rr.length<Er+1));xr++)fr(or[xr],Er+1,Rr)})(_r,0,sr),_r}var Me=function(){var sr=this;function dr(lr,gr){for(var Ir=1<<gr-1>>>0;lr&Ir;)Ir>>>=1;return Ir?(lr&Ir-1)+Ir:lr}function _r(lr,gr,Ir,Mr,Qr){Re(!(Mr%Ir));do lr[gr+(Mr-=Ir)]=Qr;while(0<Mr)}function fr(lr,gr,Ir,Mr,Qr){if(Re(2328>=Qr),512>=Qr)var Gr=Fe(512);else if((Gr=Fe(Qr))==null)return 0;return(function(Xr,tn,nn,dn,wn,Hn){var $n,Fn,ii=tn,Zn=1<<nn,Sn=Fe(16),In=Fe(16);for(Re(wn!=0),Re(dn!=null),Re(Xr!=null),Re(0<nn),Fn=0;Fn<wn;++Fn){if(15<dn[Fn])return 0;++Sn[dn[Fn]]}if(Sn[0]==wn)return 0;for(In[1]=0,$n=1;15>$n;++$n){if(Sn[$n]>1<<$n)return 0;In[$n+1]=In[$n]+Sn[$n]}for(Fn=0;Fn<wn;++Fn)$n=dn[Fn],0<dn[Fn]&&(Hn[In[$n]++]=Fn);if(In[15]==1)return(dn=new or).g=0,dn.value=Hn[0],_r(Xr,ii,1,Zn,dn),Zn;var li,Ai=-1,ui=Zn-1,Ki=0,Ui=1,es=1,Vi=1<<nn;for(Fn=0,$n=1,wn=2;$n<=nn;++$n,wn<<=1){if(Ui+=es<<=1,0>(es-=Sn[$n]))return 0;for(;0<Sn[$n];--Sn[$n])(dn=new or).g=$n,dn.value=Hn[Fn++],_r(Xr,ii+Ki,wn,Vi,dn),Ki=dr(Ki,$n)}for($n=nn+1,wn=2;15>=$n;++$n,wn<<=1){if(Ui+=es<<=1,0>(es-=Sn[$n]))return 0;for(;0<Sn[$n];--Sn[$n]){if(dn=new or,(Ki&ui)!=Ai){for(ii+=Vi,li=1<<(Ai=$n)-nn;15>Ai&&!(0>=(li-=Sn[Ai]));)++Ai,li<<=1;Zn+=Vi=1<<(li=Ai-nn),Xr[tn+(Ai=Ki&ui)].g=li+nn,Xr[tn+Ai].value=ii-tn-Ai}dn.g=$n-nn,dn.value=Hn[Fn++],_r(Xr,ii+(Ki>>nn),wn,Vi,dn),Ki=dr(Ki,$n)}}return Ui!=2*In[15]-1?0:Zn})(lr,gr,Ir,Mr,Qr,Gr)}function or(){this.value=this.g=0}function Er(){this.value=this.g=0}function Rr(){this.G=Oe(5,or),this.H=Fe(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Oe(ba,Er)}function jr(lr,gr,Ir,Mr){Re(lr!=null),Re(gr!=null),Re(2147483648>Mr),lr.Ca=254,lr.I=0,lr.b=-8,lr.Ka=0,lr.oa=gr,lr.pa=Ir,lr.Jd=gr,lr.Yc=Ir+Mr,lr.Zc=4<=Mr?Ir+Mr-4+1:Ir,Hr(lr)}function xr(lr,gr){for(var Ir=0;0<gr--;)Ir|=qr(lr,128)<<gr;return Ir}function Pr(lr,gr){var Ir=xr(lr,gr);return Wr(lr)?-Ir:Ir}function br(lr,gr,Ir,Mr){var Qr,Gr=0;for(Re(lr!=null),Re(gr!=null),Re(4294967288>Mr),lr.Sb=Mr,lr.Ra=0,lr.u=0,lr.h=0,4<Mr&&(Mr=4),Qr=0;Qr<Mr;++Qr)Gr+=gr[Ir+Qr]<<8*Qr;lr.Ra=Gr,lr.bb=Mr,lr.oa=gr,lr.pa=Ir}function wr(lr){for(;8<=lr.u&&lr.bb<lr.Sb;)lr.Ra>>>=8,lr.Ra+=lr.oa[lr.pa+lr.bb]<<qc-8>>>0,++lr.bb,lr.u-=8;Tr(lr)&&(lr.h=1,lr.u=0)}function Br(lr,gr){if(Re(0<=gr),!lr.h&&gr<=Gc){var Ir=vr(lr)&Ms[gr];return lr.u+=gr,wr(lr),Ir}return lr.h=1,lr.u=0}function Lr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function yr(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function vr(lr){return lr.Ra>>>(lr.u&qc-1)>>>0}function Tr(lr){return Re(lr.bb<=lr.Sb),lr.h||lr.bb==lr.Sb&&lr.u>qc}function Or(lr,gr){lr.u=gr,lr.h=Tr(lr)}function Nr(lr){lr.u>=hu&&(Re(lr.u>=hu),wr(lr))}function Hr(lr){Re(lr!=null&&lr.oa!=null),lr.pa<lr.Zc?(lr.I=(lr.oa[lr.pa++]|lr.I<<8)>>>0,lr.b+=8):(Re(lr!=null&&lr.oa!=null),lr.pa<lr.Yc?(lr.b+=8,lr.I=lr.oa[lr.pa++]|lr.I<<8):lr.Ka?lr.b=0:(lr.I<<=8,lr.b+=8,lr.Ka=1))}function Wr(lr){return xr(lr,1)}function qr(lr,gr){var Ir=lr.Ca;0>lr.b&&Hr(lr);var Mr=lr.b,Qr=Ir*gr>>>8,Gr=(lr.I>>>Mr>Qr)+0;for(Gr?(Ir-=Qr,lr.I-=Qr+1<<Mr>>>0):Ir=Qr+1,Mr=Ir,Qr=0;256<=Mr;)Qr+=8,Mr>>=8;return Mr=7^Qr+ko[Mr],lr.b-=Mr,lr.Ca=(Ir<<Mr)-1,Gr}function Jr(lr,gr,Ir){lr[gr+0]=Ir>>24&255,lr[gr+1]=Ir>>16&255,lr[gr+2]=Ir>>8&255,lr[gr+3]=Ir>>0&255}function An(lr,gr){return lr[gr+0]<<0|lr[gr+1]<<8}function an(lr,gr){return An(lr,gr)|lr[gr+2]<<16}function bn(lr,gr){return An(lr,gr)|An(lr,gr+2)<<16}function gn(lr,gr){var Ir=1<<gr;return Re(lr!=null),Re(0<gr),lr.X=Fe(Ir),lr.X==null?0:(lr.Mb=32-gr,lr.Xa=gr,1)}function mn(lr,gr){Re(lr!=null),Re(gr!=null),Re(lr.Xa==gr.Xa),Be(gr.X,0,lr.X,0,1<<gr.Xa)}function Zr(){this.X=[],this.Xa=this.Mb=0}function kn(lr,gr,Ir,Mr){Re(Ir!=null),Re(Mr!=null);var Qr=Ir[0],Gr=Mr[0];return Qr==0&&(Qr=(lr*Gr+gr/2)/gr),Gr==0&&(Gr=(gr*Qr+lr/2)/lr),0>=Qr||0>=Gr?0:(Ir[0]=Qr,Mr[0]=Gr,1)}function ri(lr,gr){return lr+(1<<gr)-1>>>gr}function zn(lr,gr){return((4278255360&lr)+(4278255360&gr)>>>0&4278255360)+((16711935&lr)+(16711935&gr)>>>0&16711935)>>>0}function ei(lr,gr){sr[gr]=function(Ir,Mr,Qr,Gr,Xr,tn,nn){var dn;for(dn=0;dn<Xr;++dn){var wn=sr[lr](tn[nn+dn-1],Qr,Gr+dn);tn[nn+dn]=zn(Ir[Mr+dn],wn)}}}function Jn(){this.ud=this.hd=this.jd=0}function Wn(lr,gr){return((4278124286&(lr^gr))>>>1)+(lr&gr)>>>0}function _i(lr){return 0<=lr&&256>lr?lr:0>lr?0:255<lr?255:void 0}function wi(lr,gr){return _i(lr+(lr-gr+.5>>1))}function Oi(lr,gr,Ir){return Math.abs(gr-Ir)-Math.abs(lr-Ir)}function xi(lr,gr,Ir,Mr,Qr,Gr,Xr){for(Mr=Gr[Xr-1],Ir=0;Ir<Qr;++Ir)Gr[Xr+Ir]=Mr=zn(lr[gr+Ir],Mr)}function Pi(lr,gr,Ir,Mr,Qr){var Gr;for(Gr=0;Gr<Ir;++Gr){var Xr=lr[gr+Gr],tn=Xr>>8&255,nn=16711935&(nn=(nn=16711935&Xr)+((tn<<16)+tn));Mr[Qr+Gr]=(4278255360&Xr)+nn>>>0}}function Ii(lr,gr){gr.jd=lr>>0&255,gr.hd=lr>>8&255,gr.ud=lr>>16&255}function Si(lr,gr,Ir,Mr,Qr,Gr){var Xr;for(Xr=0;Xr<Mr;++Xr){var tn=gr[Ir+Xr],nn=tn>>>8,dn=tn,wn=255&(wn=(wn=tn>>>16)+((lr.jd<<24>>24)*(nn<<24>>24)>>>5));dn=255&(dn=(dn=dn+((lr.hd<<24>>24)*(nn<<24>>24)>>>5))+((lr.ud<<24>>24)*(wn<<24>>24)>>>5)),Qr[Gr+Xr]=(4278255360&tn)+(wn<<16)+dn}}function En(lr,gr,Ir,Mr,Qr){sr[gr]=function(Gr,Xr,tn,nn,dn,wn,Hn,$n,Fn){for(nn=Hn;nn<$n;++nn)for(Hn=0;Hn<Fn;++Hn)dn[wn++]=Qr(tn[Mr(Gr[Xr++])])},sr[lr]=function(Gr,Xr,tn,nn,dn,wn,Hn){var $n=8>>Gr.b,Fn=Gr.Ea,ii=Gr.K[0],Zn=Gr.w;if(8>$n)for(Gr=(1<<Gr.b)-1,Zn=(1<<$n)-1;Xr<tn;++Xr){var Sn,In=0;for(Sn=0;Sn<Fn;++Sn)Sn&Gr||(In=Mr(nn[dn++])),wn[Hn++]=Qr(ii[In&Zn]),In>>=$n}else sr["VP8LMapColor"+Ir](nn,dn,ii,Zn,wn,Hn,Xr,tn,Fn)}}function Cn(lr,gr,Ir,Mr,Qr){for(Ir=gr+Ir;gr<Ir;){var Gr=lr[gr++];Mr[Qr++]=Gr>>16&255,Mr[Qr++]=Gr>>8&255,Mr[Qr++]=Gr>>0&255}}function oi(lr,gr,Ir,Mr,Qr){for(Ir=gr+Ir;gr<Ir;){var Gr=lr[gr++];Mr[Qr++]=Gr>>16&255,Mr[Qr++]=Gr>>8&255,Mr[Qr++]=Gr>>0&255,Mr[Qr++]=Gr>>24&255}}function ci(lr,gr,Ir,Mr,Qr){for(Ir=gr+Ir;gr<Ir;){var Gr=(Xr=lr[gr++])>>16&240|Xr>>12&15,Xr=Xr>>0&240|Xr>>28&15;Mr[Qr++]=Gr,Mr[Qr++]=Xr}}function Qi(lr,gr,Ir,Mr,Qr){for(Ir=gr+Ir;gr<Ir;){var Gr=(Xr=lr[gr++])>>16&248|Xr>>13&7,Xr=Xr>>5&224|Xr>>3&31;Mr[Qr++]=Gr,Mr[Qr++]=Xr}}function ti(lr,gr,Ir,Mr,Qr){for(Ir=gr+Ir;gr<Ir;){var Gr=lr[gr++];Mr[Qr++]=Gr>>0&255,Mr[Qr++]=Gr>>8&255,Mr[Qr++]=Gr>>16&255}}function Bi(lr,gr,Ir,Mr,Qr,Gr){if(Gr==0)for(Ir=gr+Ir;gr<Ir;)Jr(Mr,((Gr=lr[gr++])[0]>>24|Gr[1]>>8&65280|Gr[2]<<8&16711680|Gr[3]<<24)>>>0),Qr+=32;else Be(Mr,Qr,lr,gr,Ir)}function jn(lr,gr){sr[gr][0]=sr[lr+"0"],sr[gr][1]=sr[lr+"1"],sr[gr][2]=sr[lr+"2"],sr[gr][3]=sr[lr+"3"],sr[gr][4]=sr[lr+"4"],sr[gr][5]=sr[lr+"5"],sr[gr][6]=sr[lr+"6"],sr[gr][7]=sr[lr+"7"],sr[gr][8]=sr[lr+"8"],sr[gr][9]=sr[lr+"9"],sr[gr][10]=sr[lr+"10"],sr[gr][11]=sr[lr+"11"],sr[gr][12]=sr[lr+"12"],sr[gr][13]=sr[lr+"13"],sr[gr][14]=sr[lr+"0"],sr[gr][15]=sr[lr+"0"]}function vn(lr){return lr==Cd||lr==eu||lr==Rc||lr==Pc}function Ni(){this.eb=[],this.size=this.A=this.fb=0}function bi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ni,this.f.kb=new bi,this.sd=null}function Di(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function hi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fi(lr){return alert("todo:WebPSamplerProcessPlane"),lr.T}function Ri(lr,gr){var Ir=lr.T,Mr=gr.ba.f.RGBA,Qr=Mr.eb,Gr=Mr.fb+lr.ka*Mr.A,Xr=mo[gr.ba.S],tn=lr.y,nn=lr.O,dn=lr.f,wn=lr.N,Hn=lr.ea,$n=lr.W,Fn=gr.cc,ii=gr.dc,Zn=gr.Mc,Sn=gr.Nc,In=lr.ka,li=lr.ka+lr.T,Ai=lr.U,ui=Ai+1>>1;for(In==0?Xr(tn,nn,null,null,dn,wn,Hn,$n,dn,wn,Hn,$n,Qr,Gr,null,null,Ai):(Xr(gr.ec,gr.fc,tn,nn,Fn,ii,Zn,Sn,dn,wn,Hn,$n,Qr,Gr-Mr.A,Qr,Gr,Ai),++Ir);In+2<li;In+=2)Fn=dn,ii=wn,Zn=Hn,Sn=$n,wn+=lr.Rc,$n+=lr.Rc,Gr+=2*Mr.A,Xr(tn,(nn+=2*lr.fa)-lr.fa,tn,nn,Fn,ii,Zn,Sn,dn,wn,Hn,$n,Qr,Gr-Mr.A,Qr,Gr,Ai);return nn+=lr.fa,lr.j+li<lr.o?(Be(gr.ec,gr.fc,tn,nn,Ai),Be(gr.cc,gr.dc,dn,wn,ui),Be(gr.Mc,gr.Nc,Hn,$n,ui),Ir--):1&li||Xr(tn,nn,null,null,dn,wn,Hn,$n,dn,wn,Hn,$n,Qr,Gr+Mr.A,null,null,Ai),Ir}function Zi(lr,gr,Ir){var Mr=lr.F,Qr=[lr.J];if(Mr!=null){var Gr=lr.U,Xr=gr.ba.S,tn=Xr==vu||Xr==Rc;gr=gr.ba.f.RGBA;var nn=[0],dn=lr.ka;nn[0]=lr.T,lr.Kb&&(dn==0?--nn[0]:(--dn,Qr[0]-=lr.width),lr.j+lr.ka+lr.T==lr.o&&(nn[0]=lr.o-lr.j-dn));var wn=gr.eb;dn=gr.fb+dn*gr.A,lr=Ss(Mr,Qr[0],lr.width,Gr,nn,wn,dn+(tn?0:3),gr.A),Re(Ir==nn),lr&&vn(Xr)&&Jo(wn,dn,tn,Gr,nn,gr.A)}return 0}function ds(lr){var gr=lr.ma,Ir=gr.ba.S,Mr=11>Ir,Qr=Ir==ed||Ir==Sd||Ir==vu||Ir==Sl||Ir==12||vn(Ir);if(gr.memory=null,gr.Ib=null,gr.Jb=null,gr.Nd=null,!Aa(gr.Oa,lr,Qr?11:12))return 0;if(Qr&&vn(Ir)&&Ei(),lr.da)alert("todo:use_scaling");else{if(Mr){if(gr.Ib=fi,lr.Kb){if(Ir=lr.U+1>>1,gr.memory=Fe(lr.U+2*Ir),gr.memory==null)return 0;gr.ec=gr.memory,gr.fc=0,gr.cc=gr.ec,gr.dc=gr.fc+lr.U,gr.Mc=gr.cc,gr.Nc=gr.dc+Ir,gr.Ib=Ri,Ei()}}else alert("todo:EmitYUV");Qr&&(gr.Jb=Zi,Mr&&Dn())}if(Mr&&!ah){for(lr=0;256>lr;++lr)Fh[lr]=89858*(lr-128)+qa>>uc,Rd[lr]=-22014*(lr-128)+qa,Tf[lr]=-45773*(lr-128),Ya[lr]=113618*(lr-128)+qa>>uc;for(lr=Vl;lr<ef;++lr)gr=76283*(lr-16)+qa>>uc,Pd[lr-Vl]=Bs(gr,255),Rf[lr-Vl]=Bs(gr+8>>4,15);ah=1}return 1}function oa(lr){var gr=lr.ma,Ir=lr.U,Mr=lr.T;return Re(!(1&lr.ka)),0>=Ir||0>=Mr?0:(Ir=gr.Ib(lr,gr),gr.Jb!=null&&gr.Jb(lr,gr,Ir),gr.Dc+=Ir,1)}function Wa(lr){lr.ma.memory=null}function Mi(lr,gr,Ir,Mr){return Br(lr,8)!=47?0:(gr[0]=Br(lr,14)+1,Ir[0]=Br(lr,14)+1,Mr[0]=Br(lr,1),Br(lr,3)!=0?0:!lr.h)}function Qs(lr,gr){if(4>lr)return lr+1;var Ir=lr-2>>1;return(2+(1&lr)<<Ir)+Br(gr,Ir)+1}function Fs(lr,gr){return 120<gr?gr-120:1<=(Ir=((Ir=Ic[gr-1])>>4)*lr+(8-(15&Ir)))?Ir:1;var Ir}function Xs(lr,gr,Ir){var Mr=vr(Ir),Qr=lr[gr+=255&Mr].g-8;return 0<Qr&&(Or(Ir,Ir.u+8),Mr=vr(Ir),gr+=lr[gr].value,gr+=Mr&(1<<Qr)-1),Or(Ir,Ir.u+lr[gr].g),lr[gr].value}function Yi(lr,gr,Ir){return Ir.g+=lr.g,Ir.value+=lr.value<<gr>>>0,Re(8>=Ir.g),lr.g}function ra(lr,gr,Ir){var Mr=lr.xc;return Re((gr=Mr==0?0:lr.vc[lr.md*(Ir>>Mr)+(gr>>Mr)])<lr.Wb),lr.Ya[gr]}function Kr(lr,gr,Ir,Mr){var Qr=lr.ab,Gr=lr.c*gr,Xr=lr.C;gr=Xr+gr;var tn=Ir,nn=Mr;for(Mr=lr.Ta,Ir=lr.Ua;0<Qr--;){var dn=lr.gc[Qr],wn=Xr,Hn=gr,$n=tn,Fn=nn,ii=(nn=Mr,tn=Ir,dn.Ea);switch(Re(wn<Hn),Re(Hn<=dn.nc),dn.hc){case 2:Ed($n,Fn,(Hn-wn)*ii,nn,tn);break;case 0:var Zn=wn,Sn=Hn,In=nn,li=tn,Ai=(Vi=dn).Ea;Zn==0&&(Ju($n,Fn,null,null,1,In,li),xi($n,Fn+1,0,0,Ai-1,In,li+1),Fn+=Ai,li+=Ai,++Zn);for(var ui=1<<Vi.b,Ki=ui-1,Ui=ri(Ai,Vi.b),es=Vi.K,Vi=Vi.w+(Zn>>Vi.b)*Ui;Zn<Sn;){var Vs=es,Ks=Vi,bs=1;for(Zu($n,Fn,In,li-Ai,1,In,li);bs<Ai;){var yi=(bs&~Ki)+ui;yi>Ai&&(yi=Ai),(0,Io[Vs[Ks++]>>8&15])($n,Fn+ +bs,In,li+bs-Ai,yi-bs,In,li+bs),bs=yi}Fn+=Ai,li+=Ai,++Zn&Ki||(Vi+=Ui)}Hn!=dn.nc&&Be(nn,tn-ii,nn,tn+(Hn-wn-1)*ii,ii);break;case 1:for(ii=$n,Sn=Fn,Ai=($n=dn.Ea)-(li=$n&~(In=(Fn=1<<dn.b)-1)),Zn=ri($n,dn.b),ui=dn.K,dn=dn.w+(wn>>dn.b)*Zn;wn<Hn;){for(Ki=ui,Ui=dn,es=new Jn,Vi=Sn+li,Vs=Sn+$n;Sn<Vi;)Ii(Ki[Ui++],es),wc(es,ii,Sn,Fn,nn,tn),Sn+=Fn,tn+=Fn;Sn<Vs&&(Ii(Ki[Ui++],es),wc(es,ii,Sn,Ai,nn,tn),Sn+=Ai,tn+=Ai),++wn&In||(dn+=Zn)}break;case 3:if($n==nn&&Fn==tn&&0<dn.b){for(Sn=nn,$n=ii=tn+(Hn-wn)*ii-(li=(Hn-wn)*ri(dn.Ea,dn.b)),Fn=nn,In=tn,Zn=[],li=(Ai=li)-1;0<=li;--li)Zn[li]=Fn[In+li];for(li=Ai-1;0<=li;--li)Sn[$n+li]=Zn[li];Ea(dn,wn,Hn,nn,ii,nn,tn)}else Ea(dn,wn,Hn,$n,Fn,nn,tn)}tn=Mr,nn=Ir}nn!=Ir&&Be(Mr,Ir,tn,nn,Gr)}function fn(lr,gr){var Ir=lr.V,Mr=lr.Ba+lr.c*lr.C,Qr=gr-lr.C;if(Re(gr<=lr.l.o),Re(16>=Qr),0<Qr){var Gr=lr.l,Xr=lr.Ta,tn=lr.Ua,nn=Gr.width;if(Kr(lr,Qr,Ir,Mr),Qr=tn=[tn],Re((Ir=lr.C)<(Mr=gr)),Re(Gr.v<Gr.va),Mr>Gr.o&&(Mr=Gr.o),Ir<Gr.j){var dn=Gr.j-Ir;Ir=Gr.j,Qr[0]+=dn*nn}if(Ir>=Mr?Ir=0:(Qr[0]+=4*Gr.v,Gr.ka=Ir-Gr.j,Gr.U=Gr.va-Gr.v,Gr.T=Mr-Ir,Ir=1),Ir){if(tn=tn[0],11>(Ir=lr.ca).S){var wn=Ir.f.RGBA,Hn=(Mr=Ir.S,Qr=Gr.U,Gr=Gr.T,dn=wn.eb,wn.A),$n=Gr;for(wn=wn.fb+lr.Ma*wn.A;0<$n--;){var Fn=Xr,ii=tn,Zn=Qr,Sn=dn,In=wn;switch(Mr){case Bo:jo(Fn,ii,Zn,Sn,In);break;case ed:Ka(Fn,ii,Zn,Sn,In);break;case Cd:Ka(Fn,ii,Zn,Sn,In),Jo(Sn,In,0,Zn,1,0);break;case Uo:Lo(Fn,ii,Zn,Sn,In);break;case Sd:Bi(Fn,ii,Zn,Sn,In,1);break;case eu:Bi(Fn,ii,Zn,Sn,In,1),Jo(Sn,In,0,Zn,1,0);break;case vu:Bi(Fn,ii,Zn,Sn,In,0);break;case Rc:Bi(Fn,ii,Zn,Sn,In,0),Jo(Sn,In,1,Zn,1,0);break;case Sl:Sc(Fn,ii,Zn,Sn,In);break;case Pc:Sc(Fn,ii,Zn,Sn,In),ws(Sn,In,Zn,1,0);break;case qd:qo(Fn,ii,Zn,Sn,In);break;default:Re(0)}tn+=nn,wn+=Hn}lr.Ma+=Gr}else alert("todo:EmitRescaledRowsYUVA");Re(lr.Ma<=Ir.height)}}lr.C=gr,Re(lr.C<=lr.i)}function sn(lr){var gr;if(0<lr.ua)return 0;for(gr=0;gr<lr.Wb;++gr){var Ir=lr.Ya[gr].G,Mr=lr.Ya[gr].H;if(0<Ir[1][Mr[1]+0].g||0<Ir[2][Mr[2]+0].g||0<Ir[3][Mr[3]+0].g)return 0}return 1}function on(lr,gr,Ir,Mr,Qr,Gr){if(lr.Z!=0){var Xr=lr.qd,tn=lr.rd;for(Re($l[lr.Z]!=null);gr<Ir;++gr)$l[lr.Z](Xr,tn,Mr,Qr,Mr,Qr,Gr),Xr=Mr,tn=Qr,Qr+=Gr;lr.qd=Xr,lr.rd=tn}}function hn(lr,gr){var Ir=lr.l.ma,Mr=Ir.Z==0||Ir.Z==1?lr.l.j:lr.C;if(Mr=lr.C<Mr?Mr:lr.C,Re(gr<=lr.l.o),gr>Mr){var Qr=lr.l.width,Gr=Ir.ca,Xr=Ir.tb+Qr*Mr,tn=lr.V,nn=lr.Ba+lr.c*Mr,dn=lr.gc;Re(lr.ab==1),Re(dn[0].hc==3),Mo(dn[0],Mr,gr,tn,nn,Gr,Xr),on(Ir,Mr,gr,Gr,Xr,Qr)}lr.C=lr.Ma=gr}function pn(lr,gr,Ir,Mr,Qr,Gr,Xr){var tn=lr.$/Mr,nn=lr.$%Mr,dn=lr.m,wn=lr.s,Hn=Ir+lr.$,$n=Hn;Qr=Ir+Mr*Qr;var Fn=Ir+Mr*Gr,ii=280+wn.ua,Zn=lr.Pb?tn:16777216,Sn=0<wn.ua?wn.Wa:null,In=wn.wc,li=Hn<Fn?ra(wn,nn,tn):null;Re(lr.C<Gr),Re(Fn<=Qr);var Ai=!1;e:for(;;){for(;Ai||Hn<Fn;){var ui=0;if(tn>=Zn){var Ki=Hn-Ir;Re((Zn=lr).Pb),Zn.wd=Zn.m,Zn.xd=Ki,0<Zn.s.ua&&mn(Zn.s.Wa,Zn.s.vb),Zn=tn+nh}if(nn&In||(li=ra(wn,nn,tn)),Re(li!=null),li.Qb&&(gr[Hn]=li.qb,Ai=!0),!Ai)if(Nr(dn),li.jc){ui=dn,Ki=gr;var Ui=Hn,es=li.pd[vr(ui)&ba-1];Re(li.jc),256>es.g?(Or(ui,ui.u+es.g),Ki[Ui]=es.value,ui=0):(Or(ui,ui.u+es.g-256),Re(256<=es.value),ui=es.value),ui==0&&(Ai=!0)}else ui=Xs(li.G[0],li.H[0],dn);if(dn.h)break;if(Ai||256>ui){if(!Ai)if(li.nd)gr[Hn]=(li.qb|ui<<8)>>>0;else{if(Nr(dn),Ai=Xs(li.G[1],li.H[1],dn),Nr(dn),Ki=Xs(li.G[2],li.H[2],dn),Ui=Xs(li.G[3],li.H[3],dn),dn.h)break;gr[Hn]=(Ui<<24|Ai<<16|ui<<8|Ki)>>>0}if(Ai=!1,++Hn,++nn>=Mr&&(nn=0,++tn,Xr!=null&&tn<=Gr&&!(tn%16)&&Xr(lr,tn),Sn!=null))for(;$n<Hn;)ui=gr[$n++],Sn.X[(506832829*ui&4294967295)>>>Sn.Mb]=ui}else if(280>ui){if(ui=Qs(ui-256,dn),Ki=Xs(li.G[4],li.H[4],dn),Nr(dn),Ki=Fs(Mr,Ki=Qs(Ki,dn)),dn.h)break;if(Hn-Ir<Ki||Qr-Hn<ui)break e;for(Ui=0;Ui<ui;++Ui)gr[Hn+Ui]=gr[Hn+Ui-Ki];for(Hn+=ui,nn+=ui;nn>=Mr;)nn-=Mr,++tn,Xr!=null&&tn<=Gr&&!(tn%16)&&Xr(lr,tn);if(Re(Hn<=Qr),nn&In&&(li=ra(wn,nn,tn)),Sn!=null)for(;$n<Hn;)ui=gr[$n++],Sn.X[(506832829*ui&4294967295)>>>Sn.Mb]=ui}else{if(!(ui<ii))break e;for(Ai=ui-280,Re(Sn!=null);$n<Hn;)ui=gr[$n++],Sn.X[(506832829*ui&4294967295)>>>Sn.Mb]=ui;ui=Hn,Re(!(Ai>>>(Ki=Sn).Xa)),gr[ui]=Ki.X[Ai],Ai=!0}Ai||Re(dn.h==Tr(dn))}if(lr.Pb&&dn.h&&Hn<Qr)Re(lr.m.h),lr.a=5,lr.m=lr.wd,lr.$=lr.xd,0<lr.s.ua&&mn(lr.s.vb,lr.s.Wa);else{if(dn.h)break e;Xr?.(lr,tn>Gr?Gr:tn),lr.a=0,lr.$=Hn-Ir}return 1}return lr.a=3,0}function Mn(lr){Re(lr!=null),lr.vc=null,lr.yc=null,lr.Ya=null;var gr=lr.Wa;gr!=null&&(gr.X=null),lr.vb=null,Re(lr!=null)}function qn(){var lr=new Xu;return lr==null?null:(lr.a=0,lr.xb=rd,jn("Predictor","VP8LPredictors"),jn("Predictor","VP8LPredictors_C"),jn("PredictorAdd","VP8LPredictorsAdd"),jn("PredictorAdd","VP8LPredictorsAdd_C"),Ed=Pi,wc=Si,jo=Cn,Ka=oi,Sc=ci,qo=Qi,Lo=ti,sr.VP8LMapColor32b=da,sr.VP8LMapColor8b=Ra,lr)}function Nn(lr,gr,Ir,Mr,Qr){var Gr=1,Xr=[lr],tn=[gr],nn=Mr.m,dn=Mr.s,wn=null,Hn=0;e:for(;;){if(Ir)for(;Gr&&Br(nn,1);){var $n=Xr,Fn=tn,ii=Mr,Zn=1,Sn=ii.m,In=ii.gc[ii.ab],li=Br(Sn,2);if(ii.Oc&1<<li)Gr=0;else{switch(ii.Oc|=1<<li,In.hc=li,In.Ea=$n[0],In.nc=Fn[0],In.K=[null],++ii.ab,Re(4>=ii.ab),li){case 0:case 1:In.b=Br(Sn,3)+2,Zn=Nn(ri(In.Ea,In.b),ri(In.nc,In.b),0,ii,In.K),In.K=In.K[0];break;case 3:var Ai,ui=Br(Sn,8)+1,Ki=16<ui?0:4<ui?1:2<ui?2:3;if($n[0]=ri(In.Ea,Ki),In.b=Ki,Ai=Zn=Nn(ui,1,0,ii,In.K)){var Ui,es=ui,Vi=In,Vs=1<<(8>>Vi.b),Ks=Fe(Vs);if(Ks==null)Ai=0;else{var bs=Vi.K[0],yi=Vi.w;for(Ks[0]=Vi.K[0][0],Ui=1;Ui<1*es;++Ui)Ks[Ui]=zn(bs[yi+Ui],Ks[Ui-1]);for(;Ui<4*Vs;++Ui)Ks[Ui]=0;Vi.K[0]=null,Vi.K[0]=Ks,Ai=1}}Zn=Ai;break;case 2:break;default:Re(0)}Gr=Zn}}if(Xr=Xr[0],tn=tn[0],Gr&&Br(nn,1)&&!(Gr=1<=(Hn=Br(nn,4))&&11>=Hn)){Mr.a=3;break e}var Zs;if(Zs=Gr)t:{var Gs,fs,Is,ns=Mr,ls=Xr,Rs=tn,Ns=Hn,go=Ir,Xa=ns.m,Ma=ns.s,ia=[null],ja=1,Zo=0,qs=bu[Ns];r:for(;;){if(go&&Br(Xa,1)){var La=Br(Xa,3)+2,Hl=ri(ls,La),dc=ri(Rs,La),wu=Hl*dc;if(!Nn(Hl,dc,0,ns,ia))break r;for(ia=ia[0],Ma.xc=La,Gs=0;Gs<wu;++Gs){var nu=ia[Gs]>>8&65535;ia[Gs]=nu,nu>=ja&&(ja=nu+1)}}if(Xa.h)break r;for(fs=0;5>fs;++fs){var ma=ll[fs];!fs&&0<Ns&&(ma+=1<<Ns),Zo<ma&&(Zo=ma)}var Id=Oe(ja*qs,or),tf=ja,Vo=Oe(tf,Rr);if(Vo==null)var Sa=null;else Re(65536>=tf),Sa=Vo;var Su=Fe(Zo);if(Sa==null||Su==null||Id==null){ns.a=1;break r}var Dc=Id;for(Gs=Is=0;Gs<ja;++Gs){var el=Sa[Gs],iu=el.G,tl=el.H,sd=0,ad=1,Cu=0;for(fs=0;5>fs;++fs){ma=ll[fs],iu[fs]=Dc,tl[fs]=Is,!fs&&0<Ns&&(ma+=1<<Ns);i:{var jd,od=ma,Tu=ns,Ru=Su,If=Dc,lh=Is,ld=0,Ql=Tu.m,jf=Br(Ql,1);if(De(Ru,0,0,od),jf){var Bf=Br(Ql,1)+1,Nf=Br(Ql,1),rf=Br(Ql,Nf==0?1:8);Ru[rf]=1,Bf==2&&(Ru[rf=Br(Ql,8)]=1);var Pu=1}else{var Bd=Fe(19),Df=Br(Ql,4)+4;if(19<Df){Tu.a=3;var Nd=0;break i}for(jd=0;jd<Df;++jd)Bd[Tl[jd]]=Br(Ql,3);var nf=void 0,yo=void 0,sf=Tu,ch=Bd,Fc=od,Dd=Ru,af=0,zl=sf.m,cd=8,Ff=Oe(128,or);n:for(;fr(Ff,0,7,ch,19);){if(Br(zl,1)){var uh=2+2*Br(zl,3);if((nf=2+Br(zl,uh))>Fc)break n}else nf=Fc;for(yo=0;yo<Fc&&nf--;){Nr(zl);var Of=Ff[0+(127&vr(zl))];Or(zl,zl.u+Of.g);var su=Of.value;if(16>su)Dd[yo++]=su,su!=0&&(cd=su);else{var dh=su==16,Fd=su-16,of=Cl[Fd],Ja=Br(zl,Yd[Fd])+of;if(yo+Ja>Fc)break n;for(var ud=dh?cd:0;0<Ja--;)Dd[yo++]=ud}}af=1;break n}af||(sf.a=3),Pu=af}(Pu=Pu&&!Ql.h)&&(ld=fr(If,lh,8,Ru,od)),Pu&&ld!=0?Nd=ld:(Tu.a=3,Nd=0)}if(Nd==0)break r;if(ad&&yu[fs]==1&&(ad=Dc[Is].g==0),sd+=Dc[Is].g,Is+=Nd,3>=fs){var Iu,lf=Su[0];for(Iu=1;Iu<ma;++Iu)Su[Iu]>lf&&(lf=Su[Iu]);Cu+=lf}}if(el.nd=ad,el.Qb=0,ad&&(el.qb=(iu[3][tl[3]+0].value<<24|iu[1][tl[1]+0].value<<16|iu[2][tl[2]+0].value)>>>0,sd==0&&256>iu[0][tl[0]+0].value&&(el.Qb=1,el.qb+=iu[0][tl[0]+0].value<<8)),el.jc=!el.Qb&&6>Cu,el.jc){var dd,Wl=el;for(dd=0;dd<ba;++dd){var fc=dd,Oc=Wl.pd[fc],Od=Wl.G[0][Wl.H[0]+fc];256<=Od.value?(Oc.g=Od.g+256,Oc.value=Od.value):(Oc.g=0,Oc.value=0,fc>>=Yi(Od,8,Oc),fc>>=Yi(Wl.G[1][Wl.H[1]+fc],16,Oc),fc>>=Yi(Wl.G[2][Wl.H[2]+fc],0,Oc),Yi(Wl.G[3][Wl.H[3]+fc],24,Oc))}}}Ma.vc=ia,Ma.Wb=ja,Ma.Ya=Sa,Ma.yc=Id,Zs=1;break t}Zs=0}if(!(Gr=Zs)){Mr.a=3;break e}if(0<Hn){if(dn.ua=1<<Hn,!gn(dn.Wa,Hn)){Mr.a=1,Gr=0;break e}}else dn.ua=0;var kd=Mr,kf=Xr,fh=tn,Mf=kd.s,Lf=Mf.xc;if(kd.c=kf,kd.i=fh,Mf.md=ri(kf,Lf),Mf.wc=Lf==0?-1:(1<<Lf)-1,Ir){Mr.xb=sh;break e}if((wn=Fe(Xr*tn))==null){Mr.a=1,Gr=0;break e}Gr=(Gr=pn(Mr,wn,0,Xr,tn,tn,null))&&!nn.h;break e}return Gr?(Qr!=null?Qr[0]=wn:(Re(wn==null),Re(Ir)),Mr.$=0,Ir||Mn(dn)):Mn(dn),Gr}function Vn(lr,gr){var Ir=lr.c*lr.i,Mr=Ir+gr+16*gr;return Re(lr.c<=gr),lr.V=Fe(Mr),lr.V==null?(lr.Ta=null,lr.Ua=0,lr.a=1,0):(lr.Ta=lr.V,lr.Ua=lr.Ba+Ir+gr,1)}function Kn(lr,gr){var Ir=lr.C,Mr=gr-Ir,Qr=lr.V,Gr=lr.Ba+lr.c*Ir;for(Re(gr<=lr.l.o);0<Mr;){var Xr=16<Mr?16:Mr,tn=lr.l.ma,nn=lr.l.width,dn=nn*Xr,wn=tn.ca,Hn=tn.tb+nn*Ir,$n=lr.Ta,Fn=lr.Ua;Kr(lr,Xr,Qr,Gr),ca($n,Fn,wn,Hn,dn),on(tn,Ir,Ir+Xr,wn,Hn,nn),Mr-=Xr,Qr+=Xr*lr.c,Ir+=Xr}Re(Ir==gr),lr.C=lr.Ma=gr}function gi(){this.ub=this.yd=this.td=this.Rb=0}function Ti(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zi(){this.Fb=this.Bb=this.Cb=0,this.Zb=Fe(4),this.Lb=Fe(4)}function Ci(){this.Yb=(function(){var lr=[];return(function gr(Ir,Mr,Qr){for(var Gr=Qr[Mr],Xr=0;Xr<Gr&&(Ir.push(Qr.length>Mr+1?[]:0),!(Qr.length<Mr+1));Xr++)gr(Ir[Xr],Mr+1,Qr)})(lr,0,[3,11]),lr})()}function Li(){this.jb=Fe(3),this.Wc=ke([4,8],Ci),this.Xc=ke([4,17],Ci)}function ss(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Fe(4),this.od=new Fe(4)}function gs(){this.ld=this.La=this.dd=this.tc=0}function _s(){this.Na=this.la=0}function ys(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function eo(){this.ad=Fe(384),this.Za=0,this.Ob=Fe(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Eo(){this.uc=this.M=this.Nb=0,this.wa=Array(new gs),this.Y=0,this.ya=Array(new eo),this.aa=0,this.l=new co}function oo(){this.y=Fe(16),this.f=Fe(8),this.ea=Fe(8)}function wo(){this.cb=this.a=0,this.sc="",this.m=new Lr,this.Od=new gi,this.Kc=new Ti,this.ed=new ss,this.Qa=new zi,this.Ic=this.$c=this.Aa=0,this.D=new Eo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Oe(8,Lr),this.ia=0,this.pb=Oe(4,ys),this.Pa=new Li,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new oo),this.Hd=0,this.rb=Array(new _s),this.sb=0,this.wa=Array(new gs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new eo),this.L=this.aa=0,this.gd=ke([4,2],gs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function co(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Na(){var lr=new wo;return lr!=null&&(lr.a=0,lr.sc="OK",lr.cb=0,lr.Xb=0,Ga||(Ga=mc)),lr}function la(lr,gr,Ir){return lr.a==0&&(lr.a=gr,lr.sc=Ir,lr.cb=0),0}function uo(lr,gr,Ir){return 3<=Ir&&lr[gr+0]==157&&lr[gr+1]==1&&lr[gr+2]==42}function $c(lr,gr){if(lr==null)return 0;if(lr.a=0,lr.sc="OK",gr==null)return la(lr,2,"null VP8Io passed to VP8GetHeaders()");var Ir=gr.data,Mr=gr.w,Qr=gr.ha;if(4>Qr)return la(lr,7,"Truncated header.");var Gr=Ir[Mr+0]|Ir[Mr+1]<<8|Ir[Mr+2]<<16,Xr=lr.Od;if(Xr.Rb=!(1&Gr),Xr.td=Gr>>1&7,Xr.yd=Gr>>4&1,Xr.ub=Gr>>5,3<Xr.td)return la(lr,3,"Incorrect keyframe parameters.");if(!Xr.yd)return la(lr,4,"Frame not displayable.");Mr+=3,Qr-=3;var tn=lr.Kc;if(Xr.Rb){if(7>Qr)return la(lr,7,"cannot parse picture header");if(!uo(Ir,Mr,Qr))return la(lr,3,"Bad code word");tn.c=16383&(Ir[Mr+4]<<8|Ir[Mr+3]),tn.Td=Ir[Mr+4]>>6,tn.i=16383&(Ir[Mr+6]<<8|Ir[Mr+5]),tn.Ud=Ir[Mr+6]>>6,Mr+=7,Qr-=7,lr.za=tn.c+15>>4,lr.Ub=tn.i+15>>4,gr.width=tn.c,gr.height=tn.i,gr.Da=0,gr.j=0,gr.v=0,gr.va=gr.width,gr.o=gr.height,gr.da=0,gr.ib=gr.width,gr.hb=gr.height,gr.U=gr.width,gr.T=gr.height,De((Gr=lr.Pa).jb,0,255,Gr.jb.length),Re((Gr=lr.Qa)!=null),Gr.Cb=0,Gr.Bb=0,Gr.Fb=1,De(Gr.Zb,0,0,Gr.Zb.length),De(Gr.Lb,0,0,Gr.Lb)}if(Xr.ub>Qr)return la(lr,7,"bad partition length");jr(Gr=lr.m,Ir,Mr,Xr.ub),Mr+=Xr.ub,Qr-=Xr.ub,Xr.Rb&&(tn.Ld=Wr(Gr),tn.Kd=Wr(Gr)),tn=lr.Qa;var nn,dn=lr.Pa;if(Re(Gr!=null),Re(tn!=null),tn.Cb=Wr(Gr),tn.Cb){if(tn.Bb=Wr(Gr),Wr(Gr)){for(tn.Fb=Wr(Gr),nn=0;4>nn;++nn)tn.Zb[nn]=Wr(Gr)?Pr(Gr,7):0;for(nn=0;4>nn;++nn)tn.Lb[nn]=Wr(Gr)?Pr(Gr,6):0}if(tn.Bb)for(nn=0;3>nn;++nn)dn.jb[nn]=Wr(Gr)?xr(Gr,8):255}else tn.Bb=0;if(Gr.Ka)return la(lr,3,"cannot parse segment header");if((tn=lr.ed).zd=Wr(Gr),tn.Tb=xr(Gr,6),tn.wb=xr(Gr,3),tn.Pc=Wr(Gr),tn.Pc&&Wr(Gr)){for(dn=0;4>dn;++dn)Wr(Gr)&&(tn.vd[dn]=Pr(Gr,6));for(dn=0;4>dn;++dn)Wr(Gr)&&(tn.od[dn]=Pr(Gr,6))}if(lr.L=tn.Tb==0?0:tn.zd?1:2,Gr.Ka)return la(lr,3,"cannot parse filter header");var wn=Qr;if(Qr=nn=Mr,Mr=nn+wn,tn=wn,lr.Xb=(1<<xr(lr.m,2))-1,wn<3*(dn=lr.Xb))Ir=7;else{for(nn+=3*dn,tn-=3*dn,wn=0;wn<dn;++wn){var Hn=Ir[Qr+0]|Ir[Qr+1]<<8|Ir[Qr+2]<<16;Hn>tn&&(Hn=tn),jr(lr.Jc[+wn],Ir,nn,Hn),nn+=Hn,tn-=Hn,Qr+=3}jr(lr.Jc[+dn],Ir,nn,tn),Ir=nn<Mr?0:5}if(Ir!=0)return la(lr,Ir,"cannot parse partitions");for(Ir=xr(nn=lr.m,7),Qr=Wr(nn)?Pr(nn,4):0,Mr=Wr(nn)?Pr(nn,4):0,tn=Wr(nn)?Pr(nn,4):0,dn=Wr(nn)?Pr(nn,4):0,nn=Wr(nn)?Pr(nn,4):0,wn=lr.Qa,Hn=0;4>Hn;++Hn){if(wn.Cb){var $n=wn.Zb[Hn];wn.Fb||($n+=Ir)}else{if(0<Hn){lr.pb[Hn]=lr.pb[0];continue}$n=Ir}var Fn=lr.pb[Hn];Fn.Sc[0]=Td[Bs($n+Qr,127)],Fn.Sc[1]=tu[Bs($n+0,127)],Fn.Eb[0]=2*Td[Bs($n+Mr,127)],Fn.Eb[1]=101581*tu[Bs($n+tn,127)]>>16,8>Fn.Eb[1]&&(Fn.Eb[1]=8),Fn.Qc[0]=Td[Bs($n+dn,117)],Fn.Qc[1]=tu[Bs($n+nn,127)],Fn.lc=$n+nn}if(!Xr.Rb)return la(lr,4,"Not a key frame.");for(Wr(Gr),Xr=lr.Pa,Ir=0;4>Ir;++Ir){for(Qr=0;8>Qr;++Qr)for(Mr=0;3>Mr;++Mr)for(tn=0;11>tn;++tn)dn=qr(Gr,_u[Ir][Qr][Mr][tn])?xr(Gr,8):oc[Ir][Qr][Mr][tn],Xr.Wc[Ir][Qr].Yb[Mr][tn]=dn;for(Qr=0;17>Qr;++Qr)Xr.Xc[Ir][Qr]=Xr.Wc[Ir][ih[Qr]]}return lr.kc=Wr(Gr),lr.kc&&(lr.Bd=xr(Gr,8)),lr.cb=1}function mc(lr,gr,Ir,Mr,Qr,Gr,Xr){var tn=gr[Qr].Yb[Ir];for(Ir=0;16>Qr;++Qr){if(!qr(lr,tn[Ir+0]))return Qr;for(;!qr(lr,tn[Ir+1]);)if(tn=gr[++Qr].Yb[0],Ir=0,Qr==16)return 16;var nn=gr[Qr+1].Yb;if(qr(lr,tn[Ir+2])){var dn=lr,wn=0;if(qr(dn,($n=tn)[(Hn=Ir)+3]))if(qr(dn,$n[Hn+6])){for(tn=0,Hn=2*(wn=qr(dn,$n[Hn+8]))+($n=qr(dn,$n[Hn+9+wn])),wn=0,$n=Ia[Hn];$n[tn];++tn)wn+=wn+qr(dn,$n[tn]);wn+=3+(8<<Hn)}else qr(dn,$n[Hn+7])?(wn=7+2*qr(dn,165),wn+=qr(dn,145)):wn=5+qr(dn,159);else wn=qr(dn,$n[Hn+4])?3+qr(dn,$n[Hn+5]):2;tn=nn[2]}else wn=1,tn=nn[1];nn=Xr+zs[Qr],0>(dn=lr).b&&Hr(dn);var Hn,$n=dn.b,Fn=(Hn=dn.Ca>>1)-(dn.I>>$n)>>31;--dn.b,dn.Ca+=Fn,dn.Ca|=1,dn.I-=(Hn+1&Fn)<<$n,Gr[nn]=((wn^Fn)-Fn)*Mr[(0<Qr)+0]}return 16}function sl(lr){var gr=lr.rb[lr.sb-1];gr.la=0,gr.Na=0,De(lr.zc,0,0,lr.zc.length),lr.ja=0}function Bl(lr,gr){if(lr==null)return 0;if(gr==null)return la(lr,2,"NULL VP8Io parameter in VP8Decode().");if(!lr.cb&&!$c(lr,gr))return 0;if(Re(lr.cb),gr.ac==null||gr.ac(gr)){gr.ob&&(lr.L=0);var Ir=Nc[lr.L];if(lr.L==2?(lr.yb=0,lr.zb=0):(lr.yb=gr.v-Ir>>4,lr.zb=gr.j-Ir>>4,0>lr.yb&&(lr.yb=0),0>lr.zb&&(lr.zb=0)),lr.Va=gr.o+15+Ir>>4,lr.Hb=gr.va+15+Ir>>4,lr.Hb>lr.za&&(lr.Hb=lr.za),lr.Va>lr.Ub&&(lr.Va=lr.Ub),0<lr.L){var Mr=lr.ed;for(Ir=0;4>Ir;++Ir){var Qr;if(lr.Qa.Cb){var Gr=lr.Qa.Lb[Ir];lr.Qa.Fb||(Gr+=Mr.Tb)}else Gr=Mr.Tb;for(Qr=0;1>=Qr;++Qr){var Xr=lr.gd[Ir][Qr],tn=Gr;if(Mr.Pc&&(tn+=Mr.vd[0],Qr&&(tn+=Mr.od[0])),0<(tn=0>tn?0:63<tn?63:tn)){var nn=tn;0<Mr.wb&&(nn=4<Mr.wb?nn>>2:nn>>1)>9-Mr.wb&&(nn=9-Mr.wb),1>nn&&(nn=1),Xr.dd=nn,Xr.tc=2*tn+nn,Xr.ld=40<=tn?2:15<=tn?1:0}else Xr.tc=0;Xr.La=Qr}}}Ir=0}else la(lr,6,"Frame setup failed"),Ir=lr.a;if(Ir=Ir==0){if(Ir){lr.$c=0,0<lr.Aa||(lr.Ic=Pf);e:{Ir=lr.Ic,Mr=4*(nn=lr.za);var dn=32*nn,wn=nn+1,Hn=0<lr.L?nn*(0<lr.Aa?2:1):0,$n=(lr.Aa==2?2:1)*nn;if((Xr=Mr+832+(Qr=3*(16*Ir+Nc[lr.L])/2*dn)+(Gr=lr.Fa!=null&&0<lr.Fa.length?lr.Kc.c*lr.Kc.i:0))!=Xr)Ir=0;else{if(Xr>lr.Vb){if(lr.Vb=0,lr.Ec=Fe(Xr),lr.Fc=0,lr.Ec==null){Ir=la(lr,1,"no memory during frame initialization.");break e}lr.Vb=Xr}Xr=lr.Ec,tn=lr.Fc,lr.Ac=Xr,lr.Bc=tn,tn+=Mr,lr.Gd=Oe(dn,oo),lr.Hd=0,lr.rb=Oe(wn+1,_s),lr.sb=1,lr.wa=Hn?Oe(Hn,gs):null,lr.Y=0,lr.D.Nb=0,lr.D.wa=lr.wa,lr.D.Y=lr.Y,0<lr.Aa&&(lr.D.Y+=nn),Re(!0),lr.oc=Xr,lr.pc=tn,tn+=832,lr.ya=Oe($n,eo),lr.aa=0,lr.D.ya=lr.ya,lr.D.aa=lr.aa,lr.Aa==2&&(lr.D.aa+=nn),lr.R=16*nn,lr.B=8*nn,nn=(dn=Nc[lr.L])*lr.R,dn=dn/2*lr.B,lr.sa=Xr,lr.ta=tn+nn,lr.qa=lr.sa,lr.ra=lr.ta+16*Ir*lr.R+dn,lr.Ha=lr.qa,lr.Ia=lr.ra+8*Ir*lr.B+dn,lr.$c=0,tn+=Qr,lr.mb=Gr?Xr:null,lr.nb=Gr?tn:null,Re(tn+Gr<=lr.Fc+lr.Vb),sl(lr),De(lr.Ac,lr.Bc,0,Mr),Ir=1}}if(Ir){if(gr.ka=0,gr.y=lr.sa,gr.O=lr.ta,gr.f=lr.qa,gr.N=lr.ra,gr.ea=lr.Ha,gr.Vd=lr.Ia,gr.fa=lr.R,gr.Rc=lr.B,gr.F=null,gr.J=0,!Tc){for(Ir=-255;255>=Ir;++Ir)pa[255+Ir]=0>Ir?-Ir:Ir;for(Ir=-1020;1020>=Ir;++Ir)El[1020+Ir]=-128>Ir?-128:127<Ir?127:Ir;for(Ir=-112;112>=Ir;++Ir)Zc[112+Ir]=-16>Ir?-16:15<Ir?15:Ir;for(Ir=-255;510>=Ir;++Ir)ac[255+Ir]=0>Ir?0:255<Ir?255:Ir;Tc=1}Ao=Qo,Ll=Jl,Yo=hl,Oa=Ws,Xo=Zl,Pa=Xl,Au=ol,Ha=bl,pu=Ol,Yc=vc,Xc=Qc,Ul=Ro,mu=yc,gu=rc,Cc=ho,sc=To,Jc=$a,wa=Yu,$o[0]=So,$o[1]=Gu,$o[2]=pl,$o[3]=qu,$o[4]=Wo,$o[5]=ml,$o[6]=Oo,$o[7]=ya,$o[8]=xl,$o[9]=gl,jc[0]=fo,jc[1]=du,jc[2]=Nl,jc[3]=gc,jc[4]=na,jc[5]=Dl,jc[6]=Al,No[0]=vl,No[1]=Vc,No[2]=Hc,No[3]=Ko,No[4]=Cs,No[5]=Fa,No[6]=Fl,Ir=1}else Ir=0}Ir&&(Ir=(function(Fn,ii){for(Fn.M=0;Fn.M<Fn.Va;++Fn.M){var Zn,Sn=Fn.Jc[Fn.M&Fn.Xb],In=Fn.m,li=Fn;for(Zn=0;Zn<li.za;++Zn){var Ai=In,ui=li,Ki=ui.Ac,Ui=ui.Bc+4*Zn,es=ui.zc,Vi=ui.ya[ui.aa+Zn];if(ui.Qa.Bb?Vi.$b=qr(Ai,ui.Pa.jb[0])?2+qr(Ai,ui.Pa.jb[2]):qr(Ai,ui.Pa.jb[1]):Vi.$b=0,ui.kc&&(Vi.Ad=qr(Ai,ui.Bd)),Vi.Za=!qr(Ai,145)+0,Vi.Za){var Vs=Vi.Ob,Ks=0;for(ui=0;4>ui;++ui){var bs,yi=es[0+ui];for(bs=0;4>bs;++bs){yi=Cf[Ki[Ui+bs]][yi];for(var Zs=ru[qr(Ai,yi[0])];0<Zs;)Zs=ru[2*Zs+qr(Ai,yi[Zs])];yi=-Zs,Ki[Ui+bs]=yi}Be(Vs,Ks,Ki,Ui,4),Ks+=4,es[0+ui]=yi}}else yi=qr(Ai,156)?qr(Ai,128)?1:3:qr(Ai,163)?2:0,Vi.Ob[0]=yi,De(Ki,Ui,yi,4),De(es,0,yi,4);Vi.Dd=qr(Ai,142)?qr(Ai,114)?qr(Ai,183)?1:3:2:0}if(li.m.Ka)return la(Fn,7,"Premature end-of-partition0 encountered.");for(;Fn.ja<Fn.za;++Fn.ja){if(li=Sn,Ai=(In=Fn).rb[In.sb-1],Ki=In.rb[In.sb+In.ja],Zn=In.ya[In.aa+In.ja],Ui=In.kc?Zn.Ad:0)Ai.la=Ki.la=0,Zn.Za||(Ai.Na=Ki.Na=0),Zn.Hc=0,Zn.Gc=0,Zn.ia=0;else{var Gs,fs;if(Ai=Ki,Ki=li,Ui=In.Pa.Xc,es=In.ya[In.aa+In.ja],Vi=In.pb[es.$b],ui=es.ad,Vs=0,Ks=In.rb[In.sb-1],yi=bs=0,De(ui,Vs,0,384),es.Za)var Is=0,ns=Ui[3];else{Zs=Fe(16);var ls=Ai.Na+Ks.Na;if(ls=Ga(Ki,Ui[1],ls,Vi.Eb,0,Zs,0),Ai.Na=Ks.Na=(0<ls)+0,1<ls)Ao(Zs,0,ui,Vs);else{var Rs=Zs[0]+3>>3;for(Zs=0;256>Zs;Zs+=16)ui[Vs+Zs]=Rs}Is=1,ns=Ui[0]}var Ns=15&Ai.la,go=15&Ks.la;for(Zs=0;4>Zs;++Zs){var Xa=1&go;for(Rs=fs=0;4>Rs;++Rs)Ns=Ns>>1|(Xa=(ls=Ga(Ki,ns,ls=Xa+(1&Ns),Vi.Sc,Is,ui,Vs))>Is)<<7,fs=fs<<2|(3<ls?3:1<ls?2:ui[Vs+0]!=0),Vs+=16;Ns>>=4,go=go>>1|Xa<<7,bs=(bs<<8|fs)>>>0}for(ns=Ns,Is=go>>4,Gs=0;4>Gs;Gs+=2){for(fs=0,Ns=Ai.la>>4+Gs,go=Ks.la>>4+Gs,Zs=0;2>Zs;++Zs){for(Xa=1&go,Rs=0;2>Rs;++Rs)ls=Xa+(1&Ns),Ns=Ns>>1|(Xa=0<(ls=Ga(Ki,Ui[2],ls,Vi.Qc,0,ui,Vs)))<<3,fs=fs<<2|(3<ls?3:1<ls?2:ui[Vs+0]!=0),Vs+=16;Ns>>=2,go=go>>1|Xa<<5}yi|=fs<<4*Gs,ns|=Ns<<4<<Gs,Is|=(240&go)<<Gs}Ai.la=ns,Ks.la=Is,es.Hc=bs,es.Gc=yi,es.ia=43690&yi?0:Vi.ia,Ui=!(bs|yi)}if(0<In.L&&(In.wa[In.Y+In.ja]=In.gd[Zn.$b][Zn.Za],In.wa[In.Y+In.ja].La|=!Ui),li.Ka)return la(Fn,7,"Premature end-of-file encountered.")}if(sl(Fn),In=ii,li=1,Zn=(Sn=Fn).D,Ai=0<Sn.L&&Sn.M>=Sn.zb&&Sn.M<=Sn.Va,Sn.Aa==0)e:{if(Zn.M=Sn.M,Zn.uc=Ai,ks(Sn,Zn),li=1,Zn=(fs=Sn.D).Nb,Ai=(yi=Nc[Sn.L])*Sn.R,Ki=yi/2*Sn.B,Zs=16*Zn*Sn.R,Rs=8*Zn*Sn.B,Ui=Sn.sa,es=Sn.ta-Ai+Zs,Vi=Sn.qa,ui=Sn.ra-Ki+Rs,Vs=Sn.Ha,Ks=Sn.Ia-Ki+Rs,go=(Ns=fs.M)==0,bs=Ns>=Sn.Va-1,Sn.Aa==2&&ks(Sn,fs),fs.uc)for(Xa=(ls=Sn).D.M,Re(ls.D.uc),fs=ls.yb;fs<ls.Hb;++fs){Is=fs,ns=Xa;var Ma=(ia=(ma=ls).D).Nb;Gs=ma.R;var ia=ia.wa[ia.Y+Is],ja=ma.sa,Zo=ma.ta+16*Ma*Gs+16*Is,qs=ia.dd,La=ia.tc;if(La!=0)if(Re(3<=La),ma.L==1)0<Is&&sc(ja,Zo,Gs,La+4),ia.La&&wa(ja,Zo,Gs,La),0<ns&&Cc(ja,Zo,Gs,La+4),ia.La&&Jc(ja,Zo,Gs,La);else{var Hl=ma.B,dc=ma.qa,wu=ma.ra+8*Ma*Hl+8*Is,nu=ma.Ha,ma=ma.Ia+8*Ma*Hl+8*Is;Ma=ia.ld,0<Is&&(Ha(ja,Zo,Gs,La+4,qs,Ma),Yc(dc,wu,nu,ma,Hl,La+4,qs,Ma)),ia.La&&(Ul(ja,Zo,Gs,La,qs,Ma),gu(dc,wu,nu,ma,Hl,La,qs,Ma)),0<ns&&(Au(ja,Zo,Gs,La+4,qs,Ma),pu(dc,wu,nu,ma,Hl,La+4,qs,Ma)),ia.La&&(Xc(ja,Zo,Gs,La,qs,Ma),mu(dc,wu,nu,ma,Hl,La,qs,Ma))}}if(Sn.ia&&alert("todo:DitherRow"),In.put!=null){if(fs=16*Ns,Ns=16*(Ns+1),go?(In.y=Sn.sa,In.O=Sn.ta+Zs,In.f=Sn.qa,In.N=Sn.ra+Rs,In.ea=Sn.Ha,In.W=Sn.Ia+Rs):(fs-=yi,In.y=Ui,In.O=es,In.f=Vi,In.N=ui,In.ea=Vs,In.W=Ks),bs||(Ns-=yi),Ns>In.o&&(Ns=In.o),In.F=null,In.J=null,Sn.Fa!=null&&0<Sn.Fa.length&&fs<Ns&&(In.J=Wc(Sn,In,fs,Ns-fs),In.F=Sn.mb,In.F==null&&In.F.length==0)){li=la(Sn,3,"Could not decode alpha data.");break e}fs<In.j&&(yi=In.j-fs,fs=In.j,Re(!(1&yi)),In.O+=Sn.R*yi,In.N+=Sn.B*(yi>>1),In.W+=Sn.B*(yi>>1),In.F!=null&&(In.J+=In.width*yi)),fs<Ns&&(In.O+=In.v,In.N+=In.v>>1,In.W+=In.v>>1,In.F!=null&&(In.J+=In.v),In.ka=fs-In.j,In.U=In.va-In.v,In.T=Ns-fs,li=In.put(In))}Zn+1!=Sn.Ic||bs||(Be(Sn.sa,Sn.ta-Ai,Ui,es+16*Sn.R,Ai),Be(Sn.qa,Sn.ra-Ki,Vi,ui+8*Sn.B,Ki),Be(Sn.Ha,Sn.Ia-Ki,Vs,Ks+8*Sn.B,Ki))}if(!li)return la(Fn,6,"Output aborted.")}return 1})(lr,gr)),gr.bc!=null&&gr.bc(gr),Ir&=1}return Ir?(lr.cb=0,Ir):0}function xo(lr,gr,Ir,Mr,Qr){Qr=lr[gr+Ir+32*Mr]+(Qr>>3),lr[gr+Ir+32*Mr]=-256&Qr?0>Qr?0:255:Qr}function Da(lr,gr,Ir,Mr,Qr,Gr){xo(lr,gr,0,Ir,Mr+Qr),xo(lr,gr,1,Ir,Mr+Gr),xo(lr,gr,2,Ir,Mr-Gr),xo(lr,gr,3,Ir,Mr-Qr)}function Os(lr){return(20091*lr>>16)+lr}function vo(lr,gr,Ir,Mr){var Qr,Gr=0,Xr=Fe(16);for(Qr=0;4>Qr;++Qr){var tn=lr[gr+0]+lr[gr+8],nn=lr[gr+0]-lr[gr+8],dn=(35468*lr[gr+4]>>16)-Os(lr[gr+12]),wn=Os(lr[gr+4])+(35468*lr[gr+12]>>16);Xr[Gr+0]=tn+wn,Xr[Gr+1]=nn+dn,Xr[Gr+2]=nn-dn,Xr[Gr+3]=tn-wn,Gr+=4,gr++}for(Qr=Gr=0;4>Qr;++Qr)tn=(lr=Xr[Gr+0]+4)+Xr[Gr+8],nn=lr-Xr[Gr+8],dn=(35468*Xr[Gr+4]>>16)-Os(Xr[Gr+12]),xo(Ir,Mr,0,0,tn+(wn=Os(Xr[Gr+4])+(35468*Xr[Gr+12]>>16))),xo(Ir,Mr,1,0,nn+dn),xo(Ir,Mr,2,0,nn-dn),xo(Ir,Mr,3,0,tn-wn),Gr++,Mr+=32}function Xl(lr,gr,Ir,Mr){var Qr=lr[gr+0]+4,Gr=35468*lr[gr+4]>>16,Xr=Os(lr[gr+4]),tn=35468*lr[gr+1]>>16;Da(Ir,Mr,0,Qr+Xr,lr=Os(lr[gr+1]),tn),Da(Ir,Mr,1,Qr+Gr,lr,tn),Da(Ir,Mr,2,Qr-Gr,lr,tn),Da(Ir,Mr,3,Qr-Xr,lr,tn)}function Jl(lr,gr,Ir,Mr,Qr){vo(lr,gr,Ir,Mr),Qr&&vo(lr,gr+16,Ir,Mr+4)}function hl(lr,gr,Ir,Mr){Ll(lr,gr+0,Ir,Mr,1),Ll(lr,gr+32,Ir,Mr+128,1)}function Ws(lr,gr,Ir,Mr){var Qr;for(lr=lr[gr+0]+4,Qr=0;4>Qr;++Qr)for(gr=0;4>gr;++gr)xo(Ir,Mr,gr,Qr,lr)}function Zl(lr,gr,Ir,Mr){lr[gr+0]&&Oa(lr,gr+0,Ir,Mr),lr[gr+16]&&Oa(lr,gr+16,Ir,Mr+4),lr[gr+32]&&Oa(lr,gr+32,Ir,Mr+128),lr[gr+48]&&Oa(lr,gr+48,Ir,Mr+128+4)}function Qo(lr,gr,Ir,Mr){var Qr,Gr=Fe(16);for(Qr=0;4>Qr;++Qr){var Xr=lr[gr+0+Qr]+lr[gr+12+Qr],tn=lr[gr+4+Qr]+lr[gr+8+Qr],nn=lr[gr+4+Qr]-lr[gr+8+Qr],dn=lr[gr+0+Qr]-lr[gr+12+Qr];Gr[0+Qr]=Xr+tn,Gr[8+Qr]=Xr-tn,Gr[4+Qr]=dn+nn,Gr[12+Qr]=dn-nn}for(Qr=0;4>Qr;++Qr)Xr=(lr=Gr[0+4*Qr]+3)+Gr[3+4*Qr],tn=Gr[1+4*Qr]+Gr[2+4*Qr],nn=Gr[1+4*Qr]-Gr[2+4*Qr],dn=lr-Gr[3+4*Qr],Ir[Mr+0]=Xr+tn>>3,Ir[Mr+16]=dn+nn>>3,Ir[Mr+32]=Xr-tn>>3,Ir[Mr+48]=dn-nn>>3,Mr+=64}function zo(lr,gr,Ir){var Mr,Qr=gr-32,Gr=po,Xr=255-lr[Qr-1];for(Mr=0;Mr<Ir;++Mr){var tn,nn=Gr,dn=Xr+lr[gr-1];for(tn=0;tn<Ir;++tn)lr[gr+tn]=nn[dn+lr[Qr+tn]];gr+=32}}function Gu(lr,gr){zo(lr,gr,4)}function Vc(lr,gr){zo(lr,gr,8)}function du(lr,gr){zo(lr,gr,16)}function Nl(lr,gr){var Ir;for(Ir=0;16>Ir;++Ir)Be(lr,gr+32*Ir,lr,gr-32,16)}function gc(lr,gr){var Ir;for(Ir=16;0<Ir;--Ir)De(lr,gr,lr[gr-1],16),gr+=32}function al(lr,gr,Ir){var Mr;for(Mr=0;16>Mr;++Mr)De(gr,Ir+32*Mr,lr,16)}function fo(lr,gr){var Ir,Mr=16;for(Ir=0;16>Ir;++Ir)Mr+=lr[gr-1+32*Ir]+lr[gr+Ir-32];al(Mr>>5,lr,gr)}function na(lr,gr){var Ir,Mr=8;for(Ir=0;16>Ir;++Ir)Mr+=lr[gr-1+32*Ir];al(Mr>>4,lr,gr)}function Dl(lr,gr){var Ir,Mr=8;for(Ir=0;16>Ir;++Ir)Mr+=lr[gr+Ir-32];al(Mr>>4,lr,gr)}function Al(lr,gr){al(128,lr,gr)}function ts(lr,gr,Ir){return lr+2*gr+Ir+2>>2}function pl(lr,gr){var Ir,Mr=gr-32;for(Mr=new Uint8Array([ts(lr[Mr-1],lr[Mr+0],lr[Mr+1]),ts(lr[Mr+0],lr[Mr+1],lr[Mr+2]),ts(lr[Mr+1],lr[Mr+2],lr[Mr+3]),ts(lr[Mr+2],lr[Mr+3],lr[Mr+4])]),Ir=0;4>Ir;++Ir)Be(lr,gr+32*Ir,Mr,0,Mr.length)}function qu(lr,gr){var Ir=lr[gr-1],Mr=lr[gr-1+32],Qr=lr[gr-1+64],Gr=lr[gr-1+96];Jr(lr,gr+0,16843009*ts(lr[gr-1-32],Ir,Mr)),Jr(lr,gr+32,16843009*ts(Ir,Mr,Qr)),Jr(lr,gr+64,16843009*ts(Mr,Qr,Gr)),Jr(lr,gr+96,16843009*ts(Qr,Gr,Gr))}function So(lr,gr){var Ir,Mr=4;for(Ir=0;4>Ir;++Ir)Mr+=lr[gr+Ir-32]+lr[gr-1+32*Ir];for(Mr>>=3,Ir=0;4>Ir;++Ir)De(lr,gr+32*Ir,Mr,4)}function Wo(lr,gr){var Ir=lr[gr-1+0],Mr=lr[gr-1+32],Qr=lr[gr-1+64],Gr=lr[gr-1-32],Xr=lr[gr+0-32],tn=lr[gr+1-32],nn=lr[gr+2-32],dn=lr[gr+3-32];lr[gr+0+96]=ts(Mr,Qr,lr[gr-1+96]),lr[gr+1+96]=lr[gr+0+64]=ts(Ir,Mr,Qr),lr[gr+2+96]=lr[gr+1+64]=lr[gr+0+32]=ts(Gr,Ir,Mr),lr[gr+3+96]=lr[gr+2+64]=lr[gr+1+32]=lr[gr+0+0]=ts(Xr,Gr,Ir),lr[gr+3+64]=lr[gr+2+32]=lr[gr+1+0]=ts(tn,Xr,Gr),lr[gr+3+32]=lr[gr+2+0]=ts(nn,tn,Xr),lr[gr+3+0]=ts(dn,nn,tn)}function Oo(lr,gr){var Ir=lr[gr+1-32],Mr=lr[gr+2-32],Qr=lr[gr+3-32],Gr=lr[gr+4-32],Xr=lr[gr+5-32],tn=lr[gr+6-32],nn=lr[gr+7-32];lr[gr+0+0]=ts(lr[gr+0-32],Ir,Mr),lr[gr+1+0]=lr[gr+0+32]=ts(Ir,Mr,Qr),lr[gr+2+0]=lr[gr+1+32]=lr[gr+0+64]=ts(Mr,Qr,Gr),lr[gr+3+0]=lr[gr+2+32]=lr[gr+1+64]=lr[gr+0+96]=ts(Qr,Gr,Xr),lr[gr+3+32]=lr[gr+2+64]=lr[gr+1+96]=ts(Gr,Xr,tn),lr[gr+3+64]=lr[gr+2+96]=ts(Xr,tn,nn),lr[gr+3+96]=ts(tn,nn,nn)}function ml(lr,gr){var Ir=lr[gr-1+0],Mr=lr[gr-1+32],Qr=lr[gr-1+64],Gr=lr[gr-1-32],Xr=lr[gr+0-32],tn=lr[gr+1-32],nn=lr[gr+2-32],dn=lr[gr+3-32];lr[gr+0+0]=lr[gr+1+64]=Gr+Xr+1>>1,lr[gr+1+0]=lr[gr+2+64]=Xr+tn+1>>1,lr[gr+2+0]=lr[gr+3+64]=tn+nn+1>>1,lr[gr+3+0]=nn+dn+1>>1,lr[gr+0+96]=ts(Qr,Mr,Ir),lr[gr+0+64]=ts(Mr,Ir,Gr),lr[gr+0+32]=lr[gr+1+96]=ts(Ir,Gr,Xr),lr[gr+1+32]=lr[gr+2+96]=ts(Gr,Xr,tn),lr[gr+2+32]=lr[gr+3+96]=ts(Xr,tn,nn),lr[gr+3+32]=ts(tn,nn,dn)}function ya(lr,gr){var Ir=lr[gr+0-32],Mr=lr[gr+1-32],Qr=lr[gr+2-32],Gr=lr[gr+3-32],Xr=lr[gr+4-32],tn=lr[gr+5-32],nn=lr[gr+6-32],dn=lr[gr+7-32];lr[gr+0+0]=Ir+Mr+1>>1,lr[gr+1+0]=lr[gr+0+64]=Mr+Qr+1>>1,lr[gr+2+0]=lr[gr+1+64]=Qr+Gr+1>>1,lr[gr+3+0]=lr[gr+2+64]=Gr+Xr+1>>1,lr[gr+0+32]=ts(Ir,Mr,Qr),lr[gr+1+32]=lr[gr+0+96]=ts(Mr,Qr,Gr),lr[gr+2+32]=lr[gr+1+96]=ts(Qr,Gr,Xr),lr[gr+3+32]=lr[gr+2+96]=ts(Gr,Xr,tn),lr[gr+3+64]=ts(Xr,tn,nn),lr[gr+3+96]=ts(tn,nn,dn)}function gl(lr,gr){var Ir=lr[gr-1+0],Mr=lr[gr-1+32],Qr=lr[gr-1+64],Gr=lr[gr-1+96];lr[gr+0+0]=Ir+Mr+1>>1,lr[gr+2+0]=lr[gr+0+32]=Mr+Qr+1>>1,lr[gr+2+32]=lr[gr+0+64]=Qr+Gr+1>>1,lr[gr+1+0]=ts(Ir,Mr,Qr),lr[gr+3+0]=lr[gr+1+32]=ts(Mr,Qr,Gr),lr[gr+3+32]=lr[gr+1+64]=ts(Qr,Gr,Gr),lr[gr+3+64]=lr[gr+2+64]=lr[gr+0+96]=lr[gr+1+96]=lr[gr+2+96]=lr[gr+3+96]=Gr}function xl(lr,gr){var Ir=lr[gr-1+0],Mr=lr[gr-1+32],Qr=lr[gr-1+64],Gr=lr[gr-1+96],Xr=lr[gr-1-32],tn=lr[gr+0-32],nn=lr[gr+1-32],dn=lr[gr+2-32];lr[gr+0+0]=lr[gr+2+32]=Ir+Xr+1>>1,lr[gr+0+32]=lr[gr+2+64]=Mr+Ir+1>>1,lr[gr+0+64]=lr[gr+2+96]=Qr+Mr+1>>1,lr[gr+0+96]=Gr+Qr+1>>1,lr[gr+3+0]=ts(tn,nn,dn),lr[gr+2+0]=ts(Xr,tn,nn),lr[gr+1+0]=lr[gr+3+32]=ts(Ir,Xr,tn),lr[gr+1+32]=lr[gr+3+64]=ts(Mr,Ir,Xr),lr[gr+1+64]=lr[gr+3+96]=ts(Qr,Mr,Ir),lr[gr+1+96]=ts(Gr,Qr,Mr)}function Hc(lr,gr){var Ir;for(Ir=0;8>Ir;++Ir)Be(lr,gr+32*Ir,lr,gr-32,8)}function Ko(lr,gr){var Ir;for(Ir=0;8>Ir;++Ir)De(lr,gr,lr[gr-1],8),gr+=32}function Co(lr,gr,Ir){var Mr;for(Mr=0;8>Mr;++Mr)De(gr,Ir+32*Mr,lr,8)}function vl(lr,gr){var Ir,Mr=8;for(Ir=0;8>Ir;++Ir)Mr+=lr[gr+Ir-32]+lr[gr-1+32*Ir];Co(Mr>>4,lr,gr)}function Fa(lr,gr){var Ir,Mr=4;for(Ir=0;8>Ir;++Ir)Mr+=lr[gr+Ir-32];Co(Mr>>3,lr,gr)}function Cs(lr,gr){var Ir,Mr=4;for(Ir=0;8>Ir;++Ir)Mr+=lr[gr-1+32*Ir];Co(Mr>>3,lr,gr)}function Fl(lr,gr){Co(128,lr,gr)}function yl(lr,gr,Ir){var Mr=lr[gr-Ir],Qr=lr[gr+0],Gr=3*(Qr-Mr)+wd[1020+lr[gr-2*Ir]-lr[gr+Ir]],Xr=xu[112+(Gr+4>>3)];lr[gr-Ir]=po[255+Mr+xu[112+(Gr+3>>3)]],lr[gr+0]=po[255+Qr-Xr]}function fu(lr,gr,Ir,Mr){var Qr=lr[gr+0],Gr=lr[gr+Ir];return wl[255+lr[gr-2*Ir]-lr[gr-Ir]]>Mr||wl[255+Gr-Qr]>Mr}function ha(lr,gr,Ir,Mr){return 4*wl[255+lr[gr-Ir]-lr[gr+0]]+wl[255+lr[gr-2*Ir]-lr[gr+Ir]]<=Mr}function xc(lr,gr,Ir,Mr,Qr){var Gr=lr[gr-3*Ir],Xr=lr[gr-2*Ir],tn=lr[gr-Ir],nn=lr[gr+0],dn=lr[gr+Ir],wn=lr[gr+2*Ir],Hn=lr[gr+3*Ir];return 4*wl[255+tn-nn]+wl[255+Xr-dn]>Mr?0:wl[255+lr[gr-4*Ir]-Gr]<=Qr&&wl[255+Gr-Xr]<=Qr&&wl[255+Xr-tn]<=Qr&&wl[255+Hn-wn]<=Qr&&wl[255+wn-dn]<=Qr&&wl[255+dn-nn]<=Qr}function ho(lr,gr,Ir,Mr){var Qr=2*Mr+1;for(Mr=0;16>Mr;++Mr)ha(lr,gr+Mr,Ir,Qr)&&yl(lr,gr+Mr,Ir)}function To(lr,gr,Ir,Mr){var Qr=2*Mr+1;for(Mr=0;16>Mr;++Mr)ha(lr,gr+Mr*Ir,1,Qr)&&yl(lr,gr+Mr*Ir,1)}function $a(lr,gr,Ir,Mr){var Qr;for(Qr=3;0<Qr;--Qr)ho(lr,gr+=4*Ir,Ir,Mr)}function Yu(lr,gr,Ir,Mr){var Qr;for(Qr=3;0<Qr;--Qr)To(lr,gr+=4,Ir,Mr)}function tc(lr,gr,Ir,Mr,Qr,Gr,Xr,tn){for(Gr=2*Gr+1;0<Qr--;){if(xc(lr,gr,Ir,Gr,Xr))if(fu(lr,gr,Ir,tn))yl(lr,gr,Ir);else{var nn=lr,dn=gr,wn=Ir,Hn=nn[dn-2*wn],$n=nn[dn-wn],Fn=nn[dn+0],ii=nn[dn+wn],Zn=nn[dn+2*wn],Sn=27*(li=wd[1020+3*(Fn-$n)+wd[1020+Hn-ii]])+63>>7,In=18*li+63>>7,li=9*li+63>>7;nn[dn-3*wn]=po[255+nn[dn-3*wn]+li],nn[dn-2*wn]=po[255+Hn+In],nn[dn-wn]=po[255+$n+Sn],nn[dn+0]=po[255+Fn-Sn],nn[dn+wn]=po[255+ii-In],nn[dn+2*wn]=po[255+Zn-li]}gr+=Mr}}function Va(lr,gr,Ir,Mr,Qr,Gr,Xr,tn){for(Gr=2*Gr+1;0<Qr--;){if(xc(lr,gr,Ir,Gr,Xr))if(fu(lr,gr,Ir,tn))yl(lr,gr,Ir);else{var nn=lr,dn=gr,wn=Ir,Hn=nn[dn-wn],$n=nn[dn+0],Fn=nn[dn+wn],ii=xu[112+((Zn=3*($n-Hn))+4>>3)],Zn=xu[112+(Zn+3>>3)],Sn=ii+1>>1;nn[dn-2*wn]=po[255+nn[dn-2*wn]+Sn],nn[dn-wn]=po[255+Hn+Zn],nn[dn+0]=po[255+$n-ii],nn[dn+wn]=po[255+Fn-Sn]}gr+=Mr}}function ol(lr,gr,Ir,Mr,Qr,Gr){tc(lr,gr,Ir,1,16,Mr,Qr,Gr)}function bl(lr,gr,Ir,Mr,Qr,Gr){tc(lr,gr,1,Ir,16,Mr,Qr,Gr)}function Qc(lr,gr,Ir,Mr,Qr,Gr){var Xr;for(Xr=3;0<Xr;--Xr)Va(lr,gr+=4*Ir,Ir,1,16,Mr,Qr,Gr)}function Ro(lr,gr,Ir,Mr,Qr,Gr){var Xr;for(Xr=3;0<Xr;--Xr)Va(lr,gr+=4,1,Ir,16,Mr,Qr,Gr)}function Ol(lr,gr,Ir,Mr,Qr,Gr,Xr,tn){tc(lr,gr,Qr,1,8,Gr,Xr,tn),tc(Ir,Mr,Qr,1,8,Gr,Xr,tn)}function vc(lr,gr,Ir,Mr,Qr,Gr,Xr,tn){tc(lr,gr,1,Qr,8,Gr,Xr,tn),tc(Ir,Mr,1,Qr,8,Gr,Xr,tn)}function yc(lr,gr,Ir,Mr,Qr,Gr,Xr,tn){Va(lr,gr+4*Qr,Qr,1,8,Gr,Xr,tn),Va(Ir,Mr+4*Qr,Qr,1,8,Gr,Xr,tn)}function rc(lr,gr,Ir,Mr,Qr,Gr,Xr,tn){Va(lr,gr+4,1,Qr,8,Gr,Xr,tn),Va(Ir,Mr+4,1,Qr,8,Gr,Xr,tn)}function bc(){this.ba=new Gi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new hi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function zc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _c(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nc(){this.ua=0,this.Wa=new Zr,this.vb=new Zr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Rr,this.yc=new or}function Xu(){this.xb=this.a=0,this.l=new co,this.ca=new Gi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new yr,this.Pb=0,this.wd=new yr,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nc,this.ab=0,this.gc=Oe(4,_c),this.Oc=0}function kl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new co,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ic(lr,gr,Ir,Mr,Qr,Gr,Xr){for(lr=lr==null?0:lr[gr+0],gr=0;gr<Xr;++gr)Qr[Gr+gr]=lr+Ir[Mr+gr]&255,lr=Qr[Gr+gr]}function Ec(lr,gr,Ir,Mr,Qr,Gr,Xr){var tn;if(lr==null)ic(null,null,Ir,Mr,Qr,Gr,Xr);else for(tn=0;tn<Xr;++tn)Qr[Gr+tn]=lr[gr+tn]+Ir[Mr+tn]&255}function Po(lr,gr,Ir,Mr,Qr,Gr,Xr){if(lr==null)ic(null,null,Ir,Mr,Qr,Gr,Xr);else{var tn,nn=lr[gr+0],dn=nn,wn=nn;for(tn=0;tn<Xr;++tn)dn=wn+(nn=lr[gr+tn])-dn,wn=Ir[Mr+tn]+(-256&dn?0>dn?0:255:dn)&255,dn=nn,Qr[Gr+tn]=wn}}function Wc(lr,gr,Ir,Mr){var Qr=gr.width,Gr=gr.o;if(Re(lr!=null&&gr!=null),0>Ir||0>=Mr||Ir+Mr>Gr)return null;if(!lr.Cc){if(lr.ga==null){var Xr;if(lr.ga=new kl,(Xr=lr.ga==null)||(Xr=gr.width*gr.o,Re(lr.Gb.length==0),lr.Gb=Fe(Xr),lr.Uc=0,lr.Gb==null?Xr=0:(lr.mb=lr.Gb,lr.nb=lr.Uc,lr.rc=null,Xr=1),Xr=!Xr),!Xr){Xr=lr.ga;var tn=lr.Fa,nn=lr.P,dn=lr.qc,wn=lr.mb,Hn=lr.nb,$n=nn+1,Fn=dn-1,ii=Xr.l;if(Re(tn!=null&&wn!=null&&gr!=null),$l[0]=null,$l[1]=ic,$l[2]=Ec,$l[3]=Po,Xr.ca=wn,Xr.tb=Hn,Xr.c=gr.width,Xr.i=gr.height,Re(0<Xr.c&&0<Xr.i),1>=dn)gr=0;else if(Xr.$a=tn[nn+0]>>0&3,Xr.Z=tn[nn+0]>>2&3,Xr.Lc=tn[nn+0]>>4&3,nn=tn[nn+0]>>6&3,0>Xr.$a||1<Xr.$a||4<=Xr.Z||1<Xr.Lc||nn)gr=0;else if(ii.put=oa,ii.ac=ds,ii.bc=Wa,ii.ma=Xr,ii.width=gr.width,ii.height=gr.height,ii.Da=gr.Da,ii.v=gr.v,ii.va=gr.va,ii.j=gr.j,ii.o=gr.o,Xr.$a)e:{Re(Xr.$a==1),gr=qn();t:for(;;){if(gr==null){gr=0;break e}if(Re(Xr!=null),Xr.mc=gr,gr.c=Xr.c,gr.i=Xr.i,gr.l=Xr.l,gr.l.ma=Xr,gr.l.width=Xr.c,gr.l.height=Xr.i,gr.a=0,br(gr.m,tn,$n,Fn),!Nn(Xr.c,Xr.i,1,gr,null)||(gr.ab==1&&gr.gc[0].hc==3&&sn(gr.s)?(Xr.ic=1,tn=gr.c*gr.i,gr.Ta=null,gr.Ua=0,gr.V=Fe(tn),gr.Ba=0,gr.V==null?(gr.a=1,gr=0):gr=1):(Xr.ic=0,gr=Vn(gr,Xr.c)),!gr))break t;gr=1;break e}Xr.mc=null,gr=0}else gr=Fn>=Xr.c*Xr.i;Xr=!gr}if(Xr)return null;lr.ga.Lc!=1?lr.Ga=0:Mr=Gr-Ir}Re(lr.ga!=null),Re(Ir+Mr<=Gr);e:{if(gr=(tn=lr.ga).c,Gr=tn.l.o,tn.$a==0){if($n=lr.rc,Fn=lr.Vc,ii=lr.Fa,nn=lr.P+1+Ir*gr,dn=lr.mb,wn=lr.nb+Ir*gr,Re(nn<=lr.P+lr.qc),tn.Z!=0)for(Re($l[tn.Z]!=null),Xr=0;Xr<Mr;++Xr)$l[tn.Z]($n,Fn,ii,nn,dn,wn,gr),$n=dn,Fn=wn,wn+=gr,nn+=gr;else for(Xr=0;Xr<Mr;++Xr)Be(dn,wn,ii,nn,gr),$n=dn,Fn=wn,wn+=gr,nn+=gr;lr.rc=$n,lr.Vc=Fn}else{if(Re(tn.mc!=null),gr=Ir+Mr,Re((Xr=tn.mc)!=null),Re(gr<=Xr.i),Xr.C>=gr)gr=1;else if(tn.ic||Dn(),tn.ic){tn=Xr.V,$n=Xr.Ba,Fn=Xr.c;var Zn=Xr.i,Sn=(ii=1,nn=Xr.$/Fn,dn=Xr.$%Fn,wn=Xr.m,Hn=Xr.s,Xr.$),In=Fn*Zn,li=Fn*gr,Ai=Hn.wc,ui=Sn<li?ra(Hn,dn,nn):null;Re(Sn<=In),Re(gr<=Zn),Re(sn(Hn));t:for(;;){for(;!wn.h&&Sn<li;){if(dn&Ai||(ui=ra(Hn,dn,nn)),Re(ui!=null),Nr(wn),256>(Zn=Xs(ui.G[0],ui.H[0],wn)))tn[$n+Sn]=Zn,++Sn,++dn>=Fn&&(dn=0,++nn<=gr&&!(nn%16)&&hn(Xr,nn));else{if(!(280>Zn)){ii=0;break t}Zn=Qs(Zn-256,wn);var Ki,Ui=Xs(ui.G[4],ui.H[4],wn);if(Nr(wn),!(Sn>=(Ui=Fs(Fn,Ui=Qs(Ui,wn)))&&In-Sn>=Zn)){ii=0;break t}for(Ki=0;Ki<Zn;++Ki)tn[$n+Sn+Ki]=tn[$n+Sn+Ki-Ui];for(Sn+=Zn,dn+=Zn;dn>=Fn;)dn-=Fn,++nn<=gr&&!(nn%16)&&hn(Xr,nn);Sn<li&&dn&Ai&&(ui=ra(Hn,dn,nn))}Re(wn.h==Tr(wn))}hn(Xr,nn>gr?gr:nn);break t}!ii||wn.h&&Sn<In?(ii=0,Xr.a=wn.h?5:3):Xr.$=Sn,gr=ii}else gr=pn(Xr,Xr.V,Xr.Ba,Xr.c,Xr.i,gr,Kn);if(!gr){Mr=0;break e}}Ir+Mr>=Gr&&(lr.Cc=1),Mr=1}if(!Mr)return null;if(lr.Cc&&((Mr=lr.ga)!=null&&(Mr.mc=null),lr.ga=null,0<lr.Ga))return alert("todo:WebPDequantizeLevels"),null}return lr.nb+Ir*Qr}function Cr(lr,gr,Ir,Mr,Qr,Gr){for(;0<Qr--;){var Xr,tn=lr,nn=gr+(Ir?1:0),dn=lr,wn=gr+(Ir?0:3);for(Xr=0;Xr<Mr;++Xr){var Hn=dn[wn+4*Xr];Hn!=255&&(Hn*=32897,tn[nn+4*Xr+0]=tn[nn+4*Xr+0]*Hn>>23,tn[nn+4*Xr+1]=tn[nn+4*Xr+1]*Hn>>23,tn[nn+4*Xr+2]=tn[nn+4*Xr+2]*Hn>>23)}gr+=Gr}}function zr(lr,gr,Ir,Mr,Qr){for(;0<Mr--;){var Gr;for(Gr=0;Gr<Ir;++Gr){var Xr=lr[gr+2*Gr+0],tn=15&(dn=lr[gr+2*Gr+1]),nn=4369*tn,dn=(240&dn|dn>>4)*nn>>16;lr[gr+2*Gr+0]=(240&Xr|Xr>>4)*nn>>16&240|(15&Xr|Xr<<4)*nn>>16>>4&15,lr[gr+2*Gr+1]=240&dn|tn}gr+=Qr}}function xn(lr,gr,Ir,Mr,Qr,Gr,Xr,tn){var nn,dn,wn=255;for(dn=0;dn<Qr;++dn){for(nn=0;nn<Mr;++nn){var Hn=lr[gr+nn];Gr[Xr+4*nn]=Hn,wn&=Hn}gr+=Ir,Xr+=tn}return wn!=255}function _n(lr,gr,Ir,Mr,Qr){var Gr;for(Gr=0;Gr<Qr;++Gr)Ir[Mr+Gr]=lr[gr+Gr]>>8}function Dn(){Jo=Cr,ws=zr,Ss=xn,ca=_n}function ni(lr,gr,Ir){sr[lr]=function(Mr,Qr,Gr,Xr,tn,nn,dn,wn,Hn,$n,Fn,ii,Zn,Sn,In,li,Ai){var ui,Ki=Ai-1>>1,Ui=tn[nn+0]|dn[wn+0]<<16,es=Hn[$n+0]|Fn[ii+0]<<16;Re(Mr!=null);var Vi=3*Ui+es+131074>>2;for(gr(Mr[Qr+0],255&Vi,Vi>>16,Zn,Sn),Gr!=null&&(Vi=3*es+Ui+131074>>2,gr(Gr[Xr+0],255&Vi,Vi>>16,In,li)),ui=1;ui<=Ki;++ui){var Vs=tn[nn+ui]|dn[wn+ui]<<16,Ks=Hn[$n+ui]|Fn[ii+ui]<<16,bs=Ui+Vs+es+Ks+524296,yi=bs+2*(Vs+es)>>3;Vi=yi+Ui>>1,Ui=(bs=bs+2*(Ui+Ks)>>3)+Vs>>1,gr(Mr[Qr+2*ui-1],255&Vi,Vi>>16,Zn,Sn+(2*ui-1)*Ir),gr(Mr[Qr+2*ui-0],255&Ui,Ui>>16,Zn,Sn+(2*ui-0)*Ir),Gr!=null&&(Vi=bs+es>>1,Ui=yi+Ks>>1,gr(Gr[Xr+2*ui-1],255&Vi,Vi>>16,In,li+(2*ui-1)*Ir),gr(Gr[Xr+2*ui+0],255&Ui,Ui>>16,In,li+(2*ui+0)*Ir)),Ui=Vs,es=Ks}1&Ai||(Vi=3*Ui+es+131074>>2,gr(Mr[Qr+Ai-1],255&Vi,Vi>>16,Zn,Sn+(Ai-1)*Ir),Gr!=null&&(Vi=3*es+Ui+131074>>2,gr(Gr[Xr+Ai-1],255&Vi,Vi>>16,In,li+(Ai-1)*Ir)))}}function Ei(){mo[Bo]=Bc,mo[ed]=cl,mo[Uo]=cc,mo[Sd]=Xd,mo[vu]=Jd,mo[Sl]=nd,mo[qd]=Zd,mo[Cd]=cl,mo[eu]=Xd,mo[Rc]=Jd,mo[Pc]=nd}function $i(lr){return lr&-16384?0>lr?0:255:lr>>Dh}function ur(lr,gr){return $i((19077*lr>>8)+(26149*gr>>8)-14234)}function Fr(lr,gr,Ir){return $i((19077*lr>>8)-(6419*gr>>8)-(13320*Ir>>8)+8708)}function Ur(lr,gr){return $i((19077*lr>>8)+(33050*gr>>8)-17685)}function en(lr,gr,Ir,Mr,Qr){Mr[Qr+0]=ur(lr,Ir),Mr[Qr+1]=Fr(lr,gr,Ir),Mr[Qr+2]=Ur(lr,gr)}function Pn(lr,gr,Ir,Mr,Qr){Mr[Qr+0]=Ur(lr,gr),Mr[Qr+1]=Fr(lr,gr,Ir),Mr[Qr+2]=ur(lr,Ir)}function Un(lr,gr,Ir,Mr,Qr){var Gr=Fr(lr,gr,Ir);gr=Gr<<3&224|Ur(lr,gr)>>3,Mr[Qr+0]=248&ur(lr,Ir)|Gr>>5,Mr[Qr+1]=gr}function si(lr,gr,Ir,Mr,Qr){var Gr=240&Ur(lr,gr)|15;Mr[Qr+0]=240&ur(lr,Ir)|Fr(lr,gr,Ir)>>4,Mr[Qr+1]=Gr}function os(lr,gr,Ir,Mr,Qr){Mr[Qr+0]=255,en(lr,gr,Ir,Mr,Qr+1)}function Es(lr,gr,Ir,Mr,Qr){Pn(lr,gr,Ir,Mr,Qr),Mr[Qr+3]=255}function As(lr,gr,Ir,Mr,Qr){en(lr,gr,Ir,Mr,Qr),Mr[Qr+3]=255}function Bs(lr,gr){return 0>lr?0:lr>gr?gr:lr}function Ts(lr,gr,Ir){sr[lr]=function(Mr,Qr,Gr,Xr,tn,nn,dn,wn,Hn){for(var $n=wn+(-2&Hn)*Ir;wn!=$n;)gr(Mr[Qr+0],Gr[Xr+0],tn[nn+0],dn,wn),gr(Mr[Qr+1],Gr[Xr+0],tn[nn+0],dn,wn+Ir),Qr+=2,++Xr,++nn,wn+=2*Ir;1&Hn&&gr(Mr[Qr+0],Gr[Xr+0],tn[nn+0],dn,wn)}}function _l(lr,gr,Ir){return Ir==0?lr==0?gr==0?6:5:gr==0?4:0:Ir}function Js(lr,gr,Ir,Mr,Qr){switch(lr>>>30){case 3:Ll(gr,Ir,Mr,Qr,0);break;case 2:Pa(gr,Ir,Mr,Qr);break;case 1:Oa(gr,Ir,Mr,Qr)}}function ks(lr,gr){var Ir,Mr,Qr=gr.M,Gr=gr.Nb,Xr=lr.oc,tn=lr.pc+40,nn=lr.oc,dn=lr.pc+584,wn=lr.oc,Hn=lr.pc+600;for(Ir=0;16>Ir;++Ir)Xr[tn+32*Ir-1]=129;for(Ir=0;8>Ir;++Ir)nn[dn+32*Ir-1]=129,wn[Hn+32*Ir-1]=129;for(0<Qr?Xr[tn-1-32]=nn[dn-1-32]=wn[Hn-1-32]=129:(De(Xr,tn-32-1,127,21),De(nn,dn-32-1,127,9),De(wn,Hn-32-1,127,9)),Mr=0;Mr<lr.za;++Mr){var $n=gr.ya[gr.aa+Mr];if(0<Mr){for(Ir=-1;16>Ir;++Ir)Be(Xr,tn+32*Ir-4,Xr,tn+32*Ir+12,4);for(Ir=-1;8>Ir;++Ir)Be(nn,dn+32*Ir-4,nn,dn+32*Ir+4,4),Be(wn,Hn+32*Ir-4,wn,Hn+32*Ir+4,4)}var Fn=lr.Gd,ii=lr.Hd+Mr,Zn=$n.ad,Sn=$n.Hc;if(0<Qr&&(Be(Xr,tn-32,Fn[ii].y,0,16),Be(nn,dn-32,Fn[ii].f,0,8),Be(wn,Hn-32,Fn[ii].ea,0,8)),$n.Za){var In=Xr,li=tn-32+16;for(0<Qr&&(Mr>=lr.za-1?De(In,li,Fn[ii].y[15],4):Be(In,li,Fn[ii+1].y,0,4)),Ir=0;4>Ir;Ir++)In[li+128+Ir]=In[li+256+Ir]=In[li+384+Ir]=In[li+0+Ir];for(Ir=0;16>Ir;++Ir,Sn<<=2)In=Xr,li=tn+Eu[Ir],$o[$n.Ob[Ir]](In,li),Js(Sn,Zn,16*+Ir,In,li)}else if(In=_l(Mr,Qr,$n.Ob[0]),jc[In](Xr,tn),Sn!=0)for(Ir=0;16>Ir;++Ir,Sn<<=2)Js(Sn,Zn,16*+Ir,Xr,tn+Eu[Ir]);for(Ir=$n.Gc,In=_l(Mr,Qr,$n.Dd),No[In](nn,dn),No[In](wn,Hn),Sn=Zn,In=nn,li=dn,255&($n=Ir>>0)&&(170&$n?Yo(Sn,256,In,li):Xo(Sn,256,In,li)),$n=wn,Sn=Hn,255&(Ir>>=8)&&(170&Ir?Yo(Zn,320,$n,Sn):Xo(Zn,320,$n,Sn)),Qr<lr.Ub-1&&(Be(Fn[ii].y,0,Xr,tn+480,16),Be(Fn[ii].f,0,nn,dn+224,8),Be(Fn[ii].ea,0,wn,Hn+224,8)),Ir=8*Gr*lr.B,Fn=lr.sa,ii=lr.ta+16*Mr+16*Gr*lr.R,Zn=lr.qa,$n=lr.ra+8*Mr+Ir,Sn=lr.Ha,In=lr.Ia+8*Mr+Ir,Ir=0;16>Ir;++Ir)Be(Fn,ii+Ir*lr.R,Xr,tn+32*Ir,16);for(Ir=0;8>Ir;++Ir)Be(Zn,$n+Ir*lr.B,nn,dn+32*Ir,8),Be(Sn,In+Ir*lr.B,wn,Hn+32*Ir,8)}}function Ml(lr,gr,Ir,Mr,Qr,Gr,Xr,tn,nn){var dn=[0],wn=[0],Hn=0,$n=nn!=null?nn.kd:0,Fn=nn??new zc;if(lr==null||12>Ir)return 7;Fn.data=lr,Fn.w=gr,Fn.ha=Ir,gr=[gr],Ir=[Ir],Fn.gb=[Fn.gb];e:{var ii=gr,Zn=Ir,Sn=Fn.gb;if(Re(lr!=null),Re(Zn!=null),Re(Sn!=null),Sn[0]=0,12<=Zn[0]&&!je(lr,ii[0],"RIFF")){if(je(lr,ii[0]+8,"WEBP")){Sn=3;break e}var In=bn(lr,ii[0]+4);if(12>In||4294967286<In){Sn=3;break e}if($n&&In>Zn[0]-8){Sn=7;break e}Sn[0]=In,ii[0]+=12,Zn[0]-=12}Sn=0}if(Sn!=0)return Sn;for(In=0<Fn.gb[0],Ir=Ir[0];;){e:{var li=lr;Zn=gr,Sn=Ir;var Ai=dn,ui=wn,Ki=ii=[0];if((Vi=Hn=[Hn])[0]=0,8>Sn[0])Sn=7;else{if(!je(li,Zn[0],"VP8X")){if(bn(li,Zn[0]+4)!=10){Sn=3;break e}if(18>Sn[0]){Sn=7;break e}var Ui=bn(li,Zn[0]+8),es=1+an(li,Zn[0]+12);if(2147483648<=es*(li=1+an(li,Zn[0]+15))){Sn=3;break e}Ki!=null&&(Ki[0]=Ui),Ai!=null&&(Ai[0]=es),ui!=null&&(ui[0]=li),Zn[0]+=18,Sn[0]-=18,Vi[0]=1}Sn=0}}if(Hn=Hn[0],ii=ii[0],Sn!=0)return Sn;if(Zn=!!(2&ii),!In&&Hn)return 3;if(Gr!=null&&(Gr[0]=!!(16&ii)),Xr!=null&&(Xr[0]=Zn),tn!=null&&(tn[0]=0),Xr=dn[0],ii=wn[0],Hn&&Zn&&nn==null){Sn=0;break}if(4>Ir){Sn=7;break}if(In&&Hn||!In&&!Hn&&!je(lr,gr[0],"ALPH")){Ir=[Ir],Fn.na=[Fn.na],Fn.P=[Fn.P],Fn.Sa=[Fn.Sa];e:{Ui=lr,Sn=gr,In=Ir;var Vi=Fn.gb;Ai=Fn.na,ui=Fn.P,Ki=Fn.Sa,es=22,Re(Ui!=null),Re(In!=null),li=Sn[0];var Vs=In[0];for(Re(Ai!=null),Re(Ki!=null),Ai[0]=null,ui[0]=null,Ki[0]=0;;){if(Sn[0]=li,In[0]=Vs,8>Vs){Sn=7;break e}var Ks=bn(Ui,li+4);if(4294967286<Ks){Sn=3;break e}var bs=8+Ks+1&-2;if(es+=bs,0<Vi&&es>Vi){Sn=3;break e}if(!je(Ui,li,"VP8 ")||!je(Ui,li,"VP8L")){Sn=0;break e}if(Vs[0]<bs){Sn=7;break e}je(Ui,li,"ALPH")||(Ai[0]=Ui,ui[0]=li+8,Ki[0]=Ks),li+=bs,Vs-=bs}}if(Ir=Ir[0],Fn.na=Fn.na[0],Fn.P=Fn.P[0],Fn.Sa=Fn.Sa[0],Sn!=0)break}Ir=[Ir],Fn.Ja=[Fn.Ja],Fn.xa=[Fn.xa];e:if(Vi=lr,Sn=gr,In=Ir,Ai=Fn.gb[0],ui=Fn.Ja,Ki=Fn.xa,Ui=Sn[0],li=!je(Vi,Ui,"VP8 "),es=!je(Vi,Ui,"VP8L"),Re(Vi!=null),Re(In!=null),Re(ui!=null),Re(Ki!=null),8>In[0])Sn=7;else{if(li||es){if(Vi=bn(Vi,Ui+4),12<=Ai&&Vi>Ai-12){Sn=3;break e}if($n&&Vi>In[0]-8){Sn=7;break e}ui[0]=Vi,Sn[0]+=8,In[0]-=8,Ki[0]=es}else Ki[0]=5<=In[0]&&Vi[Ui+0]==47&&!(Vi[Ui+4]>>5),ui[0]=In[0];Sn=0}if(Ir=Ir[0],Fn.Ja=Fn.Ja[0],Fn.xa=Fn.xa[0],gr=gr[0],Sn!=0)break;if(4294967286<Fn.Ja)return 3;if(tn==null||Zn||(tn[0]=Fn.xa?2:1),Xr=[Xr],ii=[ii],Fn.xa){if(5>Ir){Sn=7;break}tn=Xr,$n=ii,Zn=Gr,lr==null||5>Ir?lr=0:5<=Ir&&lr[gr+0]==47&&!(lr[gr+4]>>5)?(In=[0],Vi=[0],Ai=[0],br(ui=new yr,lr,gr,Ir),Mi(ui,In,Vi,Ai)?(tn!=null&&(tn[0]=In[0]),$n!=null&&($n[0]=Vi[0]),Zn!=null&&(Zn[0]=Ai[0]),lr=1):lr=0):lr=0}else{if(10>Ir){Sn=7;break}tn=ii,lr==null||10>Ir||!uo(lr,gr+3,Ir-3)?lr=0:($n=lr[gr+0]|lr[gr+1]<<8|lr[gr+2]<<16,Zn=16383&(lr[gr+7]<<8|lr[gr+6]),lr=16383&(lr[gr+9]<<8|lr[gr+8]),1&$n||3<($n>>1&7)||!($n>>4&1)||$n>>5>=Fn.Ja||!Zn||!lr?lr=0:(Xr&&(Xr[0]=Zn),tn&&(tn[0]=lr),lr=1))}if(!lr||(Xr=Xr[0],ii=ii[0],Hn&&(dn[0]!=Xr||wn[0]!=ii)))return 3;nn!=null&&(nn[0]=Fn,nn.offset=gr-nn.w,Re(4294967286>gr-nn.w),Re(nn.offset==nn.ha-Ir));break}return Sn==0||Sn==7&&Hn&&nn==null?(Gr!=null&&(Gr[0]|=Fn.na!=null&&0<Fn.na.length),Mr!=null&&(Mr[0]=Xr),Qr!=null&&(Qr[0]=ii),0):Sn}function Aa(lr,gr,Ir){var Mr=gr.width,Qr=gr.height,Gr=0,Xr=0,tn=Mr,nn=Qr;if(gr.Da=lr!=null&&0<lr.Da,gr.Da&&(tn=lr.cd,nn=lr.bd,Gr=lr.v,Xr=lr.j,11>Ir||(Gr&=-2,Xr&=-2),0>Gr||0>Xr||0>=tn||0>=nn||Gr+tn>Mr||Xr+nn>Qr))return 0;if(gr.v=Gr,gr.j=Xr,gr.va=Gr+tn,gr.o=Xr+nn,gr.U=tn,gr.T=nn,gr.da=lr!=null&&0<lr.da,gr.da){if(!kn(tn,nn,Ir=[lr.ib],Gr=[lr.hb]))return 0;gr.ib=Ir[0],gr.hb=Gr[0]}return gr.ob=lr!=null&&lr.ob,gr.Kb=lr==null||!lr.Sd,gr.da&&(gr.ob=gr.ib<3*Mr/4&&gr.hb<3*Qr/4,gr.Kb=0),1}function Kc(lr){if(lr==null)return 2;if(11>lr.S){var gr=lr.f.RGBA;gr.fb+=(lr.height-1)*gr.A,gr.A=-gr.A}else gr=lr.f.kb,lr=lr.height,gr.O+=(lr-1)*gr.fa,gr.fa=-gr.fa,gr.N+=(lr-1>>1)*gr.Ab,gr.Ab=-gr.Ab,gr.W+=(lr-1>>1)*gr.Db,gr.Db=-gr.Db,gr.F!=null&&(gr.J+=(lr-1)*gr.lb,gr.lb=-gr.lb);return 0}function Go(lr,gr,Ir,Mr){if(Mr==null||0>=lr||0>=gr)return 2;if(Ir!=null){if(Ir.Da){var Qr=Ir.cd,Gr=Ir.bd,Xr=-2&Ir.v,tn=-2&Ir.j;if(0>Xr||0>tn||0>=Qr||0>=Gr||Xr+Qr>lr||tn+Gr>gr)return 2;lr=Qr,gr=Gr}if(Ir.da){if(!kn(lr,gr,Qr=[Ir.ib],Gr=[Ir.hb]))return 2;lr=Qr[0],gr=Gr[0]}}Mr.width=lr,Mr.height=gr;e:{var nn=Mr.width,dn=Mr.height;if(lr=Mr.S,0>=nn||0>=dn||!(lr>=Bo&&13>lr))lr=2;else{if(0>=Mr.Rd&&Mr.sd==null){Xr=Gr=Qr=gr=0;var wn=(tn=nn*oh[lr])*dn;if(11>lr||(Gr=(dn+1)/2*(gr=(nn+1)/2),lr==12&&(Xr=(Qr=nn)*dn)),(dn=Fe(wn+2*Gr+Xr))==null){lr=1;break e}Mr.sd=dn,11>lr?((nn=Mr.f.RGBA).eb=dn,nn.fb=0,nn.A=tn,nn.size=wn):((nn=Mr.f.kb).y=dn,nn.O=0,nn.fa=tn,nn.Fd=wn,nn.f=dn,nn.N=0+wn,nn.Ab=gr,nn.Cd=Gr,nn.ea=dn,nn.W=0+wn+Gr,nn.Db=gr,nn.Ed=Gr,lr==12&&(nn.F=dn,nn.J=0+wn+2*Gr),nn.Tc=Xr,nn.lb=Qr)}if(gr=1,Qr=Mr.S,Gr=Mr.width,Xr=Mr.height,Qr>=Bo&&13>Qr)if(11>Qr)lr=Mr.f.RGBA,gr&=(tn=Math.abs(lr.A))*(Xr-1)+Gr<=lr.size,gr&=tn>=Gr*oh[Qr],gr&=lr.eb!=null;else{lr=Mr.f.kb,tn=(Gr+1)/2,wn=(Xr+1)/2,nn=Math.abs(lr.fa),dn=Math.abs(lr.Ab);var Hn=Math.abs(lr.Db),$n=Math.abs(lr.lb),Fn=$n*(Xr-1)+Gr;gr&=nn*(Xr-1)+Gr<=lr.Fd,gr&=dn*(wn-1)+tn<=lr.Cd,gr=(gr&=Hn*(wn-1)+tn<=lr.Ed)&nn>=Gr&dn>=tn&Hn>=tn,gr&=lr.y!=null,gr&=lr.f!=null,gr&=lr.ea!=null,Qr==12&&(gr&=$n>=Gr,gr&=Fn<=lr.Tc,gr&=lr.F!=null)}else gr=0;lr=gr?0:2}}return lr!=0||Ir!=null&&Ir.fd&&(lr=Kc(Mr)),lr}var ba=64,Ms=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gc=24,qc=32,hu=8,ko=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ei("Predictor0","PredictorAdd0"),sr.Predictor0=function(){return 4278190080},sr.Predictor1=function(lr){return lr},sr.Predictor2=function(lr,gr,Ir){return gr[Ir+0]},sr.Predictor3=function(lr,gr,Ir){return gr[Ir+1]},sr.Predictor4=function(lr,gr,Ir){return gr[Ir-1]},sr.Predictor5=function(lr,gr,Ir){return Wn(Wn(lr,gr[Ir+1]),gr[Ir+0])},sr.Predictor6=function(lr,gr,Ir){return Wn(lr,gr[Ir-1])},sr.Predictor7=function(lr,gr,Ir){return Wn(lr,gr[Ir+0])},sr.Predictor8=function(lr,gr,Ir){return Wn(gr[Ir-1],gr[Ir+0])},sr.Predictor9=function(lr,gr,Ir){return Wn(gr[Ir+0],gr[Ir+1])},sr.Predictor10=function(lr,gr,Ir){return Wn(Wn(lr,gr[Ir-1]),Wn(gr[Ir+0],gr[Ir+1]))},sr.Predictor11=function(lr,gr,Ir){var Mr=gr[Ir+0];return 0>=Oi(Mr>>24&255,lr>>24&255,(gr=gr[Ir-1])>>24&255)+Oi(Mr>>16&255,lr>>16&255,gr>>16&255)+Oi(Mr>>8&255,lr>>8&255,gr>>8&255)+Oi(255&Mr,255&lr,255&gr)?Mr:lr},sr.Predictor12=function(lr,gr,Ir){var Mr=gr[Ir+0];return(_i((lr>>24&255)+(Mr>>24&255)-((gr=gr[Ir-1])>>24&255))<<24|_i((lr>>16&255)+(Mr>>16&255)-(gr>>16&255))<<16|_i((lr>>8&255)+(Mr>>8&255)-(gr>>8&255))<<8|_i((255&lr)+(255&Mr)-(255&gr)))>>>0},sr.Predictor13=function(lr,gr,Ir){var Mr=gr[Ir-1];return(wi((lr=Wn(lr,gr[Ir+0]))>>24&255,Mr>>24&255)<<24|wi(lr>>16&255,Mr>>16&255)<<16|wi(lr>>8&255,Mr>>8&255)<<8|wi(lr>>0&255,Mr>>0&255))>>>0};var Ju=sr.PredictorAdd0;sr.PredictorAdd1=xi,ei("Predictor2","PredictorAdd2"),ei("Predictor3","PredictorAdd3"),ei("Predictor4","PredictorAdd4"),ei("Predictor5","PredictorAdd5"),ei("Predictor6","PredictorAdd6"),ei("Predictor7","PredictorAdd7"),ei("Predictor8","PredictorAdd8"),ei("Predictor9","PredictorAdd9"),ei("Predictor10","PredictorAdd10"),ei("Predictor11","PredictorAdd11"),ei("Predictor12","PredictorAdd12"),ei("Predictor13","PredictorAdd13");var Zu=sr.PredictorAdd2;En("ColorIndexInverseTransform","MapARGB","32b",(function(lr){return lr>>8&255}),(function(lr){return lr})),En("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(lr){return lr}),(function(lr){return lr>>8&255}));var Ed,Ea=sr.ColorIndexInverseTransform,da=sr.MapARGB,Mo=sr.VP8LColorIndexInverseTransformAlpha,Ra=sr.MapAlpha,Io=sr.VP8LPredictorsAdd=[];Io.length=16,(sr.VP8LPredictors=[]).length=16,(sr.VP8LPredictorsAdd_C=[]).length=16,(sr.VP8LPredictors_C=[]).length=16;var wc,jo,Ka,Sc,qo,Lo,Ao,Ll,Pa,Yo,Oa,Xo,Au,Ha,pu,Yc,Xc,Ul,mu,gu,Cc,sc,Jc,wa,Jo,ws,Ss,ca,pa=Fe(511),El=Fe(2041),Zc=Fe(225),ac=Fe(767),Tc=0,wd=El,xu=Zc,po=ac,wl=pa,Bo=0,ed=1,Uo=2,Sd=3,vu=4,Sl=5,qd=6,Cd=7,eu=8,Rc=9,Pc=10,Yd=[2,3,7],Cl=[3,3,11],ll=[280,256,256,256,40],yu=[0,1,1,1,0],Tl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ic=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bu=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],nh=8,Td=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],tu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ga=null,Ia=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zs=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ru=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Cf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_u=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ih=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],jc=[],$o=[],No=[],sh=1,rd=2,$l=[],mo=[];ni("UpsampleRgbLinePair",en,3),ni("UpsampleBgrLinePair",Pn,3),ni("UpsampleRgbaLinePair",As,4),ni("UpsampleBgraLinePair",Es,4),ni("UpsampleArgbLinePair",os,4),ni("UpsampleRgba4444LinePair",si,2),ni("UpsampleRgb565LinePair",Un,2);var Bc=sr.UpsampleRgbLinePair,cc=sr.UpsampleBgrLinePair,cl=sr.UpsampleRgbaLinePair,Xd=sr.UpsampleBgraLinePair,Jd=sr.UpsampleArgbLinePair,nd=sr.UpsampleRgba4444LinePair,Zd=sr.UpsampleRgb565LinePair,uc=16,qa=1<<uc-1,Vl=-227,ef=482,Dh=6,ah=0,Fh=Fe(256),Ya=Fe(256),Tf=Fe(256),Rd=Fe(256),Pd=Fe(ef-Vl),Rf=Fe(ef-Vl);Ts("YuvToRgbRow",en,3),Ts("YuvToBgrRow",Pn,3),Ts("YuvToRgbaRow",As,4),Ts("YuvToBgraRow",Es,4),Ts("YuvToArgbRow",os,4),Ts("YuvToRgba4444Row",si,2),Ts("YuvToRgb565Row",Un,2);var Eu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Nc=[0,2,8],Oh=[8,7,6,4,4,2,2,2,1,1,1,1],Pf=1;this.WebPDecodeRGBA=function(lr,gr,Ir,Mr,Qr){var Gr=ed,Xr=new bc,tn=new Gi;Xr.ba=tn,tn.S=Gr,tn.width=[tn.width],tn.height=[tn.height];var nn=tn.width,dn=tn.height,wn=new Di;if(wn==null||lr==null)var Hn=2;else Re(wn!=null),Hn=Ml(lr,gr,Ir,wn.width,wn.height,wn.Pd,wn.Qd,wn.format,null);if(Hn!=0?nn=0:(nn!=null&&(nn[0]=wn.width[0]),dn!=null&&(dn[0]=wn.height[0]),nn=1),nn){tn.width=tn.width[0],tn.height=tn.height[0],Mr!=null&&(Mr[0]=tn.width),Qr!=null&&(Qr[0]=tn.height);e:{if(Mr=new co,(Qr=new zc).data=lr,Qr.w=gr,Qr.ha=Ir,Qr.kd=1,gr=[0],Re(Qr!=null),((lr=Ml(Qr.data,Qr.w,Qr.ha,null,null,null,gr,null,Qr))==0||lr==7)&&gr[0]&&(lr=4),(gr=lr)==0){if(Re(Xr!=null),Mr.data=Qr.data,Mr.w=Qr.w+Qr.offset,Mr.ha=Qr.ha-Qr.offset,Mr.put=oa,Mr.ac=ds,Mr.bc=Wa,Mr.ma=Xr,Qr.xa){if((lr=qn())==null){Xr=1;break e}if((function($n,Fn){var ii=[0],Zn=[0],Sn=[0];t:for(;;){if($n==null)return 0;if(Fn==null)return $n.a=2,0;if($n.l=Fn,$n.a=0,br($n.m,Fn.data,Fn.w,Fn.ha),!Mi($n.m,ii,Zn,Sn)){$n.a=3;break t}if($n.xb=rd,Fn.width=ii[0],Fn.height=Zn[0],!Nn(ii[0],Zn[0],1,$n,null))break t;return 1}return Re($n.a!=0),0})(lr,Mr)){if(Mr=(gr=Go(Mr.width,Mr.height,Xr.Oa,Xr.ba))==0){t:{Mr=lr;r:for(;;){if(Mr==null){Mr=0;break t}if(Re(Mr.s.yc!=null),Re(Mr.s.Ya!=null),Re(0<Mr.s.Wb),Re((Ir=Mr.l)!=null),Re((Qr=Ir.ma)!=null),Mr.xb!=0){if(Mr.ca=Qr.ba,Mr.tb=Qr.tb,Re(Mr.ca!=null),!Aa(Qr.Oa,Ir,Sd)){Mr.a=2;break r}if(!Vn(Mr,Ir.width)||Ir.da)break r;if((Ir.da||vn(Mr.ca.S))&&Dn(),11>Mr.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Mr.ca.f.kb.F!=null&&Dn()),Mr.Pb&&0<Mr.s.ua&&Mr.s.vb.X==null&&!gn(Mr.s.vb,Mr.s.Wa.Xa)){Mr.a=1;break r}Mr.xb=0}if(!pn(Mr,Mr.V,Mr.Ba,Mr.c,Mr.i,Ir.o,fn))break r;Qr.Dc=Mr.Ma,Mr=1;break t}Re(Mr.a!=0),Mr=0}Mr=!Mr}Mr&&(gr=lr.a)}else gr=lr.a}else{if((lr=new Na)==null){Xr=1;break e}if(lr.Fa=Qr.na,lr.P=Qr.P,lr.qc=Qr.Sa,$c(lr,Mr)){if((gr=Go(Mr.width,Mr.height,Xr.Oa,Xr.ba))==0){if(lr.Aa=0,Ir=Xr.Oa,Re((Qr=lr)!=null),Ir!=null){if(0<(nn=0>(nn=Ir.Md)?0:100<nn?255:255*nn/100)){for(dn=wn=0;4>dn;++dn)12>(Hn=Qr.pb[dn]).lc&&(Hn.ia=nn*Oh[0>Hn.lc?0:Hn.lc]>>3),wn|=Hn.ia;wn&&(alert("todo:VP8InitRandom"),Qr.ia=1)}Qr.Ga=Ir.Id,100<Qr.Ga?Qr.Ga=100:0>Qr.Ga&&(Qr.Ga=0)}Bl(lr,Mr)||(gr=lr.a)}}else gr=lr.a}gr==0&&Xr.Oa!=null&&Xr.Oa.fd&&(gr=Kc(Xr.ba))}Xr=gr}Gr=Xr!=0?null:11>Gr?tn.f.RGBA.eb:tn.f.kb.y}else Gr=null;return Gr};var oh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Ue(sr,dr){for(var _r="",fr=0;fr<4;fr++)_r+=String.fromCharCode(sr[dr++]);return _r}function $e(sr,dr){return(sr[dr+0]<<0|sr[dr+1]<<8|sr[dr+2]<<16)>>>0}function He(sr,dr){return(sr[dr+0]<<0|sr[dr+1]<<8|sr[dr+2]<<16|sr[dr+3]<<24)>>>0}new Me;var Qe=[0],We=[0],qe=[],Ke=new Me,Xe=Ce,Ye=(function(sr,dr){var _r={},fr=0,or=!1,Er=0,Rr=0;if(_r.frames=[],!(function(vr,Tr,Or,Nr){for(var Hr=0;Hr<Nr;Hr++)if(vr[Tr+Hr]!=Or.charCodeAt(Hr))return!0;return!1})(sr,dr,"RIFF",4)){for(He(sr,dr+=4),dr+=8;dr<sr.length;){var jr=Ue(sr,dr),xr=He(sr,dr+=4);dr+=4;var Pr=xr+(1&xr);switch(jr){case"VP8 ":case"VP8L":_r.frames[fr]===void 0&&(_r.frames[fr]={}),(Br=_r.frames[fr]).src_off=or?Rr:dr-8,Br.src_size=Er+xr+8,fr++,or&&(or=!1,Er=0,Rr=0);break;case"VP8X":(Br=_r.header={}).feature_flags=sr[dr];var br=dr+4;Br.canvas_width=1+$e(sr,br),br+=3,Br.canvas_height=1+$e(sr,br),br+=3;break;case"ALPH":or=!0,Er=Pr+8,Rr=dr-8;break;case"ANIM":(Br=_r.header).bgcolor=He(sr,dr),br=dr+4,Br.loop_count=(Lr=sr)[(yr=br)+0]<<0|Lr[yr+1]<<8,br+=2;break;case"ANMF":var wr,Br;(Br=_r.frames[fr]={}).offset_x=2*$e(sr,dr),dr+=3,Br.offset_y=2*$e(sr,dr),dr+=3,Br.width=1+$e(sr,dr),dr+=3,Br.height=1+$e(sr,dr),dr+=3,Br.duration=$e(sr,dr),dr+=3,wr=sr[dr++],Br.dispose=1&wr,Br.blend=wr>>1&1}jr!="ANMF"&&(dr+=Pr)}var Lr,yr;return _r}})(Xe,0);Ye.response=Xe,Ye.rgbaoutput=!0,Ye.dataurl=!1;var Ze=Ye.header?Ye.header:null,Je=Ye.frames?Ye.frames:null;if(Ze){Ze.loop_counter=Ze.loop_count,Qe=[Ze.canvas_height],We=[Ze.canvas_width];for(var tr=0;tr<Je.length&&Je[tr].blend!=0;tr++);}var rr=Je[0],ar=Ke.WebPDecodeRGBA(Xe,rr.src_off,rr.src_size,We,Qe);rr.rgba=ar,rr.imgwidth=We[0],rr.imgheight=Qe[0];for(var nr=0;nr<We[0]*Qe[0]*4;nr++)qe[nr]=ar[nr];return this.width=We,this.height=Qe,this.data=qe,this}(function(Ce){var Re=function(){return typeof zlibSync=="function"},je=function(Qe,We,qe,Ke){var Xe=4,Ye=Oe;switch(Ke){case Ce.image_compression.FAST:Xe=1,Ye=Fe;break;case Ce.image_compression.MEDIUM:Xe=6,Ye=ke;break;case Ce.image_compression.SLOW:Xe=9,Ye=Me}Qe=Be(Qe,We,qe,Ye);var Ze=zlibSync(Qe,{level:Xe});return Ce.__addimage__.arrayBufferToBinaryString(Ze)},Be=function(Qe,We,qe,Ke){for(var Xe,Ye,Ze,Je=Qe.length/We,tr=new Uint8Array(Qe.length+Je),rr=$e(),ar=0;ar<Je;ar+=1){if(Ze=ar*We,Xe=Qe.subarray(Ze,Ze+We),Ke)tr.set(Ke(Xe,qe,Ye),Ze+ar);else{for(var nr,sr=rr.length,dr=[];nr<sr;nr+=1)dr[nr]=rr[nr](Xe,qe,Ye);var _r=He(dr.concat());tr.set(dr[_r],Ze+ar)}Ye=Xe}return tr},De=function(Qe){var We=Array.apply([],Qe);return We.unshift(0),We},Fe=function(Qe,We){var qe,Ke=[],Xe=Qe.length;Ke[0]=1;for(var Ye=0;Ye<Xe;Ye+=1)qe=Qe[Ye-We]||0,Ke[Ye+1]=Qe[Ye]-qe+256&255;return Ke},Oe=function(Qe,We,qe){var Ke,Xe=[],Ye=Qe.length;Xe[0]=2;for(var Ze=0;Ze<Ye;Ze+=1)Ke=qe&&qe[Ze]||0,Xe[Ze+1]=Qe[Ze]-Ke+256&255;return Xe},ke=function(Qe,We,qe){var Ke,Xe,Ye=[],Ze=Qe.length;Ye[0]=3;for(var Je=0;Je<Ze;Je+=1)Ke=Qe[Je-We]||0,Xe=qe&&qe[Je]||0,Ye[Je+1]=Qe[Je]+256-(Ke+Xe>>>1)&255;return Ye},Me=function(Qe,We,qe){var Ke,Xe,Ye,Ze,Je=[],tr=Qe.length;Je[0]=4;for(var rr=0;rr<tr;rr+=1)Ke=Qe[rr-We]||0,Xe=qe&&qe[rr]||0,Ye=qe&&qe[rr-We]||0,Ze=Ue(Ke,Xe,Ye),Je[rr+1]=Qe[rr]-Ze+256&255;return Je},Ue=function(Qe,We,qe){if(Qe===We&&We===qe)return Qe;var Ke=Math.abs(We-qe),Xe=Math.abs(Qe-qe),Ye=Math.abs(Qe+We-qe-qe);return Ke<=Xe&&Ke<=Ye?Qe:Xe<=Ye?We:qe},$e=function(){return[De,Fe,Oe,ke,Me]},He=function(Qe){var We=Qe.map((function(qe){return qe.reduce((function(Ke,Xe){return Ke+Math.abs(Xe)}),0)}));return We.indexOf(Math.min.apply(null,We))};Ce.processPNG=function(Qe,We,qe,Ke){var Xe,Ye,Ze,Je,tr,rr,ar,nr,sr,dr,_r,fr,or,Er,Rr,jr=this.decode.FLATE_DECODE,xr="";if(this.__addimage__.isArrayBuffer(Qe)&&(Qe=new Uint8Array(Qe)),this.__addimage__.isArrayBufferView(Qe)){if(Qe=(Ze=new Kt(Qe)).imgData,Ye=Ze.bits,Xe=Ze.colorSpace,tr=Ze.colors,[4,6].indexOf(Ze.colorType)!==-1){if(Ze.bits===8){sr=(nr=Ze.pixelBitlength==32?new Uint32Array(Ze.decodePixels().buffer):Ze.pixelBitlength==16?new Uint16Array(Ze.decodePixels().buffer):new Uint8Array(Ze.decodePixels().buffer)).length,_r=new Uint8Array(sr*Ze.colors),dr=new Uint8Array(sr);var Pr,br=Ze.pixelBitlength-Ze.bits;for(Er=0,Rr=0;Er<sr;Er++){for(or=nr[Er],Pr=0;Pr<br;)_r[Rr++]=or>>>Pr&255,Pr+=Ze.bits;dr[Er]=or>>>Pr&255}}if(Ze.bits===16){sr=(nr=new Uint32Array(Ze.decodePixels().buffer)).length,_r=new Uint8Array(sr*(32/Ze.pixelBitlength)*Ze.colors),dr=new Uint8Array(sr*(32/Ze.pixelBitlength)),fr=Ze.colors>1,Er=0,Rr=0;for(var wr=0;Er<sr;)or=nr[Er++],_r[Rr++]=or>>>0&255,fr&&(_r[Rr++]=or>>>16&255,or=nr[Er++],_r[Rr++]=or>>>0&255),dr[wr++]=or>>>16&255;Ye=8}Ke!==Ce.image_compression.NONE&&Re()?(Qe=je(_r,Ze.width*Ze.colors,Ze.colors,Ke),ar=je(dr,Ze.width,1,Ke)):(Qe=_r,ar=dr,jr=void 0)}if(Ze.colorType===3&&(Xe=this.color_spaces.INDEXED,rr=Ze.palette,Ze.transparency.indexed)){var Br=Ze.transparency.indexed,Lr=0;for(Er=0,sr=Br.length;Er<sr;++Er)Lr+=Br[Er];if((Lr/=255)===sr-1&&Br.indexOf(0)!==-1)Je=[Br.indexOf(0)];else if(Lr!==sr){for(nr=Ze.decodePixels(),dr=new Uint8Array(nr.length),Er=0,sr=nr.length;Er<sr;Er++)dr[Er]=Br[nr[Er]];ar=je(dr,Ze.width,1)}}var yr=(function(vr){var Tr;switch(vr){case Ce.image_compression.FAST:Tr=11;break;case Ce.image_compression.MEDIUM:Tr=13;break;case Ce.image_compression.SLOW:Tr=14;break;default:Tr=12}return Tr})(Ke);return jr===this.decode.FLATE_DECODE&&(xr="/Predictor "+yr+" "),xr+="/Colors "+tr+" /BitsPerComponent "+Ye+" /Columns "+Ze.width,(this.__addimage__.isArrayBuffer(Qe)||this.__addimage__.isArrayBufferView(Qe))&&(Qe=this.__addimage__.arrayBufferToBinaryString(Qe)),(ar&&this.__addimage__.isArrayBuffer(ar)||this.__addimage__.isArrayBufferView(ar))&&(ar=this.__addimage__.arrayBufferToBinaryString(ar)),{alias:qe,data:Qe,index:We,filter:jr,decodeParameters:xr,transparency:Je,palette:rr,sMask:ar,predictor:yr,width:Ze.width,height:Ze.height,bitsPerComponent:Ye,colorSpace:Xe}}}})(E.API),(function(Ce){Ce.processGIF89A=function(Re,je,Be,De){var Fe=new Zt(Re),Oe=Fe.width,ke=Fe.height,Me=[];Fe.decodeAndBlitFrameRGBA(0,Me);var Ue={data:Me,width:Oe,height:ke},$e=new Qt$1(100).encode(Ue,100);return Ce.processJPEG.call(this,$e,je,Be,De)},Ce.processGIF87A=Ce.processGIF89A})(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var Ce=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(Ce);for(var Re=0;Re<Ce;Re++){var je=this.datav.getUint8(this.pos++,!0),Be=this.datav.getUint8(this.pos++,!0),De=this.datav.getUint8(this.pos++,!0),Fe=this.datav.getUint8(this.pos++,!0);this.palette[Re]={red:De,green:Be,blue:je,quad:Fe}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var Ce="bit"+this.bitPP,Re=this.width*this.height*4;this.data=new Uint8Array(Re),this[Ce]()}catch(je){a$2.log("bit decode error:"+je)}},te.prototype.bit1=function(){var Ce,Re=Math.ceil(this.width/8),je=Re%4;for(Ce=this.height-1;Ce>=0;Ce--){for(var Be=this.bottom_up?Ce:this.height-1-Ce,De=0;De<Re;De++)for(var Fe=this.datav.getUint8(this.pos++,!0),Oe=Be*this.width*4+8*De*4,ke=0;ke<8&&8*De+ke<this.width;ke++){var Me=this.palette[Fe>>7-ke&1];this.data[Oe+4*ke]=Me.blue,this.data[Oe+4*ke+1]=Me.green,this.data[Oe+4*ke+2]=Me.red,this.data[Oe+4*ke+3]=255}je!==0&&(this.pos+=4-je)}},te.prototype.bit4=function(){for(var Ce=Math.ceil(this.width/2),Re=Ce%4,je=this.height-1;je>=0;je--){for(var Be=this.bottom_up?je:this.height-1-je,De=0;De<Ce;De++){var Fe=this.datav.getUint8(this.pos++,!0),Oe=Be*this.width*4+2*De*4,ke=Fe>>4,Me=15&Fe,Ue=this.palette[ke];if(this.data[Oe]=Ue.blue,this.data[Oe+1]=Ue.green,this.data[Oe+2]=Ue.red,this.data[Oe+3]=255,2*De+1>=this.width)break;Ue=this.palette[Me],this.data[Oe+4]=Ue.blue,this.data[Oe+4+1]=Ue.green,this.data[Oe+4+2]=Ue.red,this.data[Oe+4+3]=255}Re!==0&&(this.pos+=4-Re)}},te.prototype.bit8=function(){for(var Ce=this.width%4,Re=this.height-1;Re>=0;Re--){for(var je=this.bottom_up?Re:this.height-1-Re,Be=0;Be<this.width;Be++){var De=this.datav.getUint8(this.pos++,!0),Fe=je*this.width*4+4*Be;if(De<this.palette.length){var Oe=this.palette[De];this.data[Fe]=Oe.red,this.data[Fe+1]=Oe.green,this.data[Fe+2]=Oe.blue,this.data[Fe+3]=255}else this.data[Fe]=255,this.data[Fe+1]=255,this.data[Fe+2]=255,this.data[Fe+3]=255}Ce!==0&&(this.pos+=4-Ce)}},te.prototype.bit15=function(){for(var Ce=this.width%3,Re=parseInt("11111",2),je=this.height-1;je>=0;je--){for(var Be=this.bottom_up?je:this.height-1-je,De=0;De<this.width;De++){var Fe=this.datav.getUint16(this.pos,!0);this.pos+=2;var Oe=(Fe&Re)/Re*255|0,ke=(Fe>>5&Re)/Re*255|0,Me=(Fe>>10&Re)/Re*255|0,Ue=Fe>>15?255:0,$e=Be*this.width*4+4*De;this.data[$e]=Me,this.data[$e+1]=ke,this.data[$e+2]=Oe,this.data[$e+3]=Ue}this.pos+=Ce}},te.prototype.bit16=function(){for(var Ce=this.width%3,Re=parseInt("11111",2),je=parseInt("111111",2),Be=this.height-1;Be>=0;Be--){for(var De=this.bottom_up?Be:this.height-1-Be,Fe=0;Fe<this.width;Fe++){var Oe=this.datav.getUint16(this.pos,!0);this.pos+=2;var ke=(Oe&Re)/Re*255|0,Me=(Oe>>5&je)/je*255|0,Ue=(Oe>>11)/Re*255|0,$e=De*this.width*4+4*Fe;this.data[$e]=Ue,this.data[$e+1]=Me,this.data[$e+2]=ke,this.data[$e+3]=255}this.pos+=Ce}},te.prototype.bit24=function(){for(var Ce=this.height-1;Ce>=0;Ce--){for(var Re=this.bottom_up?Ce:this.height-1-Ce,je=0;je<this.width;je++){var Be=this.datav.getUint8(this.pos++,!0),De=this.datav.getUint8(this.pos++,!0),Fe=this.datav.getUint8(this.pos++,!0),Oe=Re*this.width*4+4*je;this.data[Oe]=Fe,this.data[Oe+1]=De,this.data[Oe+2]=Be,this.data[Oe+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var Ce=this.height-1;Ce>=0;Ce--)for(var Re=this.bottom_up?Ce:this.height-1-Ce,je=0;je<this.width;je++){var Be=this.datav.getUint8(this.pos++,!0),De=this.datav.getUint8(this.pos++,!0),Fe=this.datav.getUint8(this.pos++,!0),Oe=this.datav.getUint8(this.pos++,!0),ke=Re*this.width*4+4*je;this.data[ke]=Fe,this.data[ke+1]=De,this.data[ke+2]=Be,this.data[ke+3]=Oe}},te.prototype.getData=function(){return this.data},(function(Ce){Ce.processBMP=function(Re,je,Be,De){var Fe=new te(Re,!1),Oe=Fe.width,ke=Fe.height,Me={data:Fe.getData(),width:Oe,height:ke},Ue=new Qt$1(100).encode(Me,100);return Ce.processJPEG.call(this,Ue,je,Be,De)}})(E.API),ee.prototype.getData=function(){return this.data},(function(Ce){Ce.processWEBP=function(Re,je,Be,De){var Fe=new ee(Re),Oe=Fe.width,ke=Fe.height,Me={data:Fe.getData(),width:Oe,height:ke},Ue=new Qt$1(100).encode(Me,100);return Ce.processJPEG.call(this,Ue,je,Be,De)}})(E.API),E.API.processRGBA=function(Ce,Re,je){for(var Be=Ce.data,De=Be.length,Fe=new Uint8Array(De/4*3),Oe=new Uint8Array(De/4),ke=0,Me=0,Ue=0;Ue<De;Ue+=4){var $e=Be[Ue],He=Be[Ue+1],Qe=Be[Ue+2],We=Be[Ue+3];Fe[ke++]=$e,Fe[ke++]=He,Fe[ke++]=Qe,Oe[Me++]=We}var qe=this.__addimage__.arrayBufferToBinaryString(Fe);return{alpha:this.__addimage__.arrayBufferToBinaryString(Oe),data:qe,index:Re,alias:je,colorSpace:"DeviceRGB",bitsPerComponent:8,width:Ce.width,height:Ce.height}},E.API.setLanguage=function(Ce){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[Ce]!==void 0&&(this.internal.languageSettings.languageCode=Ce,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Vt$1=E.API,Gt$1=Vt$1.getCharWidthsArray=function(Ce,Re){var je,Be,De=(Re=Re||{}).font||this.internal.getFont(),Fe=Re.fontSize||this.internal.getFontSize(),Oe=Re.charSpace||this.internal.getCharSpace(),ke=Re.widths?Re.widths:De.metadata.Unicode.widths,Me=ke.fof?ke.fof:1,Ue=Re.kerning?Re.kerning:De.metadata.Unicode.kerning,$e=Ue.fof?Ue.fof:1,He=Re.doKerning!==!1,Qe=0,We=Ce.length,qe=0,Ke=ke[0]||Me,Xe=[];for(je=0;je<We;je++)Be=Ce.charCodeAt(je),typeof De.metadata.widthOfString=="function"?Xe.push((De.metadata.widthOfGlyph(De.metadata.characterToGlyph(Be))+Oe*(1e3/Fe)||0)/1e3):(Qe=He&&_typeof(Ue[Be])==="object"&&!isNaN(parseInt(Ue[Be][qe],10))?Ue[Be][qe]/$e:0,Xe.push((ke[Be]||Ke)/Me+Qe)),qe=Be;return Xe},Yt=Vt$1.getStringUnitWidth=function(Ce,Re){var je=(Re=Re||{}).fontSize||this.internal.getFontSize(),Be=Re.font||this.internal.getFont(),De=Re.charSpace||this.internal.getCharSpace();return Vt$1.processArabic&&(Ce=Vt$1.processArabic(Ce)),typeof Be.metadata.widthOfString=="function"?Be.metadata.widthOfString(Ce,je,De)/je:Gt$1.apply(this,arguments).reduce((function(Fe,Oe){return Fe+Oe}),0)},Jt=function(Ce,Re,je,Be){for(var De=[],Fe=0,Oe=Ce.length,ke=0;Fe!==Oe&&ke+Re[Fe]<je;)ke+=Re[Fe],Fe++;De.push(Ce.slice(0,Fe));var Me=Fe;for(ke=0;Fe!==Oe;)ke+Re[Fe]>Be&&(De.push(Ce.slice(Me,Fe)),ke=0,Me=Fe),ke+=Re[Fe],Fe++;return Me!==Fe&&De.push(Ce.slice(Me,Fe)),De},Xt$1=function(Ce,Re,je){je||(je={});var Be,De,Fe,Oe,ke,Me,Ue,$e=[],He=[$e],Qe=je.textIndent||0,We=0,qe=0,Ke=Ce.split(" "),Xe=Gt$1.apply(this,[" ",je])[0];if(Me=je.lineIndent===-1?Ke[0].length+2:je.lineIndent||0){var Ye=Array(Me).join(" "),Ze=[];Ke.map((function(tr){(tr=tr.split(/\s*\n/)).length>1?Ze=Ze.concat(tr.map((function(rr,ar){return(ar&&rr.length?`
`:"")+rr}))):Ze.push(tr[0])})),Ke=Ze,Me=Yt.apply(this,[Ye,je])}for(Fe=0,Oe=Ke.length;Fe<Oe;Fe++){var Je=0;if(Be=Ke[Fe],Me&&Be[0]==`
`&&(Be=Be.substr(1),Je=1),Qe+We+(qe=(De=Gt$1.apply(this,[Be,je])).reduce((function(tr,rr){return tr+rr}),0))>Re||Je){if(qe>Re){for(ke=Jt.apply(this,[Be,De,Re-(Qe+We),Re]),$e.push(ke.shift()),$e=[ke.pop()];ke.length;)He.push([ke.shift()]);qe=De.slice(Be.length-($e[0]?$e[0].length:0)).reduce((function(tr,rr){return tr+rr}),0)}else $e=[Be];He.push($e),Qe=qe+Me,We=Xe}else $e.push(Be),Qe+=We+qe,We=Xe}return Ue=Me?function(tr,rr){return(rr?Ye:"")+tr.join(" ")}:function(tr){return tr.join(" ")},He.map(Ue)},Vt$1.splitTextToSize=function(Ce,Re,je){var Be,De=(je=je||{}).fontSize||this.internal.getFontSize(),Fe=(function($e){if($e.widths&&$e.kerning)return{widths:$e.widths,kerning:$e.kerning};var He=this.internal.getFont($e.fontName,$e.fontStyle);return He.metadata.Unicode?{widths:He.metadata.Unicode.widths||{0:1},kerning:He.metadata.Unicode.kerning||{}}:{font:He.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,je);Be=Array.isArray(Ce)?Ce:String(Ce).split(/\r?\n/);var Oe=1*this.internal.scaleFactor*Re/De;Fe.textIndent=je.textIndent?1*je.textIndent*this.internal.scaleFactor/De:0,Fe.lineIndent=je.lineIndent;var ke,Me,Ue=[];for(ke=0,Me=Be.length;ke<Me;ke++)Ue=Ue.concat(Xt$1.apply(this,[Be[ke],Oe,Fe]));return Ue},(function(Ce){Ce.__fontmetrics__=Ce.__fontmetrics__||{};for(var Re="klmnopqrstuvwxyz",je={},Be={},De=0;De<Re.length;De++)je[Re[De]]="0123456789abcdef"[De],Be["0123456789abcdef"[De]]=Re[De];var Fe=function(He){return"0x"+parseInt(He,10).toString(16)},Oe=Ce.__fontmetrics__.compress=function(He){var Qe,We,qe,Ke,Xe=["{"];for(var Ye in He){if(Qe=He[Ye],isNaN(parseInt(Ye,10))?We="'"+Ye+"'":(Ye=parseInt(Ye,10),We=(We=Fe(Ye).slice(2)).slice(0,-1)+Be[We.slice(-1)]),typeof Qe=="number")Qe<0?(qe=Fe(Qe).slice(3),Ke="-"):(qe=Fe(Qe).slice(2),Ke=""),qe=Ke+qe.slice(0,-1)+Be[qe.slice(-1)];else{if(_typeof(Qe)!=="object")throw new Error("Don't know what to do with value type "+_typeof(Qe)+".");qe=Oe(Qe)}Xe.push(We+qe)}return Xe.push("}"),Xe.join("")},ke=Ce.__fontmetrics__.uncompress=function(He){if(typeof He!="string")throw new Error("Invalid argument passed to uncompress.");for(var Qe,We,qe,Ke,Xe={},Ye=1,Ze=Xe,Je=[],tr="",rr="",ar=He.length-1,nr=1;nr<ar;nr+=1)(Ke=He[nr])=="'"?Qe?(qe=Qe.join(""),Qe=void 0):Qe=[]:Qe?Qe.push(Ke):Ke=="{"?(Je.push([Ze,qe]),Ze={},qe=void 0):Ke=="}"?((We=Je.pop())[0][We[1]]=Ze,qe=void 0,Ze=We[0]):Ke=="-"?Ye=-1:qe===void 0?je.hasOwnProperty(Ke)?(tr+=je[Ke],qe=parseInt(tr,16)*Ye,Ye=1,tr=""):tr+=Ke:je.hasOwnProperty(Ke)?(rr+=je[Ke],Ze[qe]=parseInt(rr,16)*Ye,Ye=1,qe=void 0,rr=""):rr+=Ke;return Xe},Me={codePages:["WinAnsiEncoding"],WinAnsiEncoding:ke("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Ue={Unicode:{Courier:Me,"Courier-Bold":Me,"Courier-BoldOblique":Me,"Courier-Oblique":Me,Helvetica:Me,"Helvetica-Bold":Me,"Helvetica-BoldOblique":Me,"Helvetica-Oblique":Me,"Times-Roman":Me,"Times-Bold":Me,"Times-BoldItalic":Me,"Times-Italic":Me}},$e={Unicode:{"Courier-Oblique":ke("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":ke("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":ke("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:ke("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":ke("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":ke("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:ke("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:ke("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":ke("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:ke("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":ke("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":ke("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":ke("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":ke("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};Ce.events.push(["addFont",function(He){var Qe=He.font,We=$e.Unicode[Qe.postScriptName];We&&(Qe.metadata.Unicode={},Qe.metadata.Unicode.widths=We.widths,Qe.metadata.Unicode.kerning=We.kerning);var qe=Ue.Unicode[Qe.postScriptName];qe&&(Qe.metadata.Unicode.encoding=qe,Qe.encoding=qe.codePages[0])}])})(E.API),(function(Ce){var Re=function(je){for(var Be=je.length,De=new Uint8Array(Be),Fe=0;Fe<Be;Fe++)De[Fe]=je.charCodeAt(Fe);return De};Ce.API.events.push(["addFont",function(je){var Be=void 0,De=je.font,Fe=je.instance;if(!De.isStandardFont){if(Fe===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+De.postScriptName+"').");if(typeof(Be=Fe.existsFileInVFS(De.postScriptName)===!1?Fe.loadFile(De.postScriptName):Fe.getFileFromVFS(De.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+De.postScriptName+"').");(function(Oe,ke){ke=/^\x00\x01\x00\x00/.test(ke)?Re(ke):Re(u$2(ke)),Oe.metadata=Ce.API.TTFFont.open(ke),Oe.metadata.Unicode=Oe.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Oe.metadata.glyIdsUsed=[0]})(De,Be)}}])})(E),(function(Ce){function Re(){return(n$1.canvg?Promise.resolve(n$1.canvg):__vitePreload(()=>import("./index.es-DgpZBt9z.js"),[],import.meta.url)).catch((function(je){return Promise.reject(new Error("Could not load canvg: "+je))})).then((function(je){return je.default?je.default:je}))}E.API.addSvgAsImage=function(je,Be,De,Fe,Oe,ke,Me,Ue){if(isNaN(Be)||isNaN(De))throw a$2.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Fe)||isNaN(Oe))throw a$2.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var $e=document.createElement("canvas");$e.width=Fe,$e.height=Oe;var He=$e.getContext("2d");He.fillStyle="#fff",He.fillRect(0,0,$e.width,$e.height);var Qe={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},We=this;return Re().then((function(qe){return qe.fromString(He,je,Qe)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(qe){return qe.render(Qe)})).then((function(){We.addImage($e.toDataURL("image/jpeg",1),Be,De,Fe,Oe,Me,Ue)}))}})(),E.API.putTotalPages=function(Ce){var Re,je=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(Re=new RegExp(Ce,"g"),je=this.internal.getNumberOfPages()):(Re=new RegExp(this.pdfEscape16(Ce,this.internal.getFont()),"g"),je=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var Be=1;Be<=this.internal.getNumberOfPages();Be++)for(var De=0;De<this.internal.pages[Be].length;De++)this.internal.pages[Be][De]=this.internal.pages[Be][De].replace(Re,je);return this},E.API.viewerPreferences=function(Ce,Re){var je;Ce=Ce||{},Re=Re||!1;var Be,De,Fe,Oe={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},ke=Object.keys(Oe),Me=[],Ue=0,$e=0,He=0;function Qe(qe,Ke){var Xe,Ye=!1;for(Xe=0;Xe<qe.length;Xe+=1)qe[Xe]===Ke&&(Ye=!0);return Ye}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Oe)),this.internal.viewerpreferences.isSubscribed=!1),je=this.internal.viewerpreferences.configuration,Ce==="reset"||Re===!0){var We=ke.length;for(He=0;He<We;He+=1)je[ke[He]].value=je[ke[He]].defaultValue,je[ke[He]].explicitSet=!1}if(_typeof(Ce)==="object"){for(De in Ce)if(Fe=Ce[De],Qe(ke,De)&&Fe!==void 0){if(je[De].type==="boolean"&&typeof Fe=="boolean")je[De].value=Fe;else if(je[De].type==="name"&&Qe(je[De].valueSet,Fe))je[De].value=Fe;else if(je[De].type==="integer"&&Number.isInteger(Fe))je[De].value=Fe;else if(je[De].type==="array"){for(Ue=0;Ue<Fe.length;Ue+=1)if(Be=!0,Fe[Ue].length===1&&typeof Fe[Ue][0]=="number")Me.push(String(Fe[Ue]-1));else if(Fe[Ue].length>1){for($e=0;$e<Fe[Ue].length;$e+=1)typeof Fe[Ue][$e]!="number"&&(Be=!1);Be===!0&&Me.push([Fe[Ue][0]-1,Fe[Ue][1]-1].join(" "))}je[De].value="["+Me.join(" ")+"]"}else je[De].value=je[De].defaultValue;je[De].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var qe,Ke=[];for(qe in je)je[qe].explicitSet===!0&&(je[qe].type==="name"?Ke.push("/"+qe+" /"+je[qe].value):Ke.push("/"+qe+" "+je[qe].value));Ke.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Ke.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=je,this},(function(Ce){var Re=function(){var Be='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',De=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Fe=unescape(encodeURIComponent(Be)),Oe=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),ke=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Me=unescape(encodeURIComponent("</x:xmpmeta>")),Ue=Fe.length+Oe.length+ke.length+De.length+Me.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Ue+" >>"),this.internal.write("stream"),this.internal.write(De+Fe+Oe+ke+Me),this.internal.write("endstream"),this.internal.write("endobj")},je=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};Ce.addMetadata=function(Be,De){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:Be,namespaceuri:De||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",je),this.internal.events.subscribe("postPutResources",Re)),this}})(E.API),(function(Ce){var Re=Ce.API,je=Re.pdfEscape16=function(Fe,Oe){for(var ke,Me=Oe.metadata.Unicode.widths,Ue=["","0","00","000","0000"],$e=[""],He=0,Qe=Fe.length;He<Qe;++He){if(ke=Oe.metadata.characterToGlyph(Fe.charCodeAt(He)),Oe.metadata.glyIdsUsed.push(ke),Oe.metadata.toUnicode[ke]=Fe.charCodeAt(He),Me.indexOf(ke)==-1&&(Me.push(ke),Me.push([parseInt(Oe.metadata.widthOfGlyph(ke),10)])),ke=="0")return $e.join("");ke=ke.toString(16),$e.push(Ue[4-ke.length],ke)}return $e.join("")},Be=function(Fe){var Oe,ke,Me,Ue,$e,He,Qe;for($e=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Me=[],He=0,Qe=(ke=Object.keys(Fe).sort((function(We,qe){return We-qe}))).length;He<Qe;He++)Oe=ke[He],Me.length>=100&&($e+=`
`+Me.length+` beginbfchar
`+Me.join(`
`)+`
endbfchar`,Me=[]),Fe[Oe]!==void 0&&Fe[Oe]!==null&&typeof Fe[Oe].toString=="function"&&(Ue=("0000"+Fe[Oe].toString(16)).slice(-4),Oe=("0000"+(+Oe).toString(16)).slice(-4),Me.push("<"+Oe+"><"+Ue+">"));return Me.length&&($e+=`
`+Me.length+` beginbfchar
`+Me.join(`
`)+`
endbfchar
`),$e+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};Re.events.push(["putFont",function(Fe){(function(Oe){var ke=Oe.font,Me=Oe.out,Ue=Oe.newObject,$e=Oe.putStream;if(ke.metadata instanceof Ce.API.TTFFont&&ke.encoding==="Identity-H"){for(var He=ke.metadata.Unicode.widths,Qe=ke.metadata.subset.encode(ke.metadata.glyIdsUsed,1),We="",qe=0;qe<Qe.length;qe++)We+=String.fromCharCode(Qe[qe]);var Ke=Ue();$e({data:We,addLength1:!0,objectId:Ke}),Me("endobj");var Xe=Ue();$e({data:Be(ke.metadata.toUnicode),addLength1:!0,objectId:Xe}),Me("endobj");var Ye=Ue();Me("<<"),Me("/Type /FontDescriptor"),Me("/FontName /"+F$2(ke.fontName)),Me("/FontFile2 "+Ke+" 0 R"),Me("/FontBBox "+Ce.API.PDFObject.convert(ke.metadata.bbox)),Me("/Flags "+ke.metadata.flags),Me("/StemV "+ke.metadata.stemV),Me("/ItalicAngle "+ke.metadata.italicAngle),Me("/Ascent "+ke.metadata.ascender),Me("/Descent "+ke.metadata.decender),Me("/CapHeight "+ke.metadata.capHeight),Me(">>"),Me("endobj");var Ze=Ue();Me("<<"),Me("/Type /Font"),Me("/BaseFont /"+F$2(ke.fontName)),Me("/FontDescriptor "+Ye+" 0 R"),Me("/W "+Ce.API.PDFObject.convert(He)),Me("/CIDToGIDMap /Identity"),Me("/DW 1000"),Me("/Subtype /CIDFontType2"),Me("/CIDSystemInfo"),Me("<<"),Me("/Supplement 0"),Me("/Registry (Adobe)"),Me("/Ordering ("+ke.encoding+")"),Me(">>"),Me(">>"),Me("endobj"),ke.objectNumber=Ue(),Me("<<"),Me("/Type /Font"),Me("/Subtype /Type0"),Me("/ToUnicode "+Xe+" 0 R"),Me("/BaseFont /"+F$2(ke.fontName)),Me("/Encoding /"+ke.encoding),Me("/DescendantFonts ["+Ze+" 0 R]"),Me(">>"),Me("endobj"),ke.isAlreadyPutted=!0}})(Fe)}]),Re.events.push(["putFont",function(Fe){(function(Oe){var ke=Oe.font,Me=Oe.out,Ue=Oe.newObject,$e=Oe.putStream;if(ke.metadata instanceof Ce.API.TTFFont&&ke.encoding==="WinAnsiEncoding"){for(var He=ke.metadata.rawData,Qe="",We=0;We<He.length;We++)Qe+=String.fromCharCode(He[We]);var qe=Ue();$e({data:Qe,addLength1:!0,objectId:qe}),Me("endobj");var Ke=Ue();$e({data:Be(ke.metadata.toUnicode),addLength1:!0,objectId:Ke}),Me("endobj");var Xe=Ue();Me("<<"),Me("/Descent "+ke.metadata.decender),Me("/CapHeight "+ke.metadata.capHeight),Me("/StemV "+ke.metadata.stemV),Me("/Type /FontDescriptor"),Me("/FontFile2 "+qe+" 0 R"),Me("/Flags 96"),Me("/FontBBox "+Ce.API.PDFObject.convert(ke.metadata.bbox)),Me("/FontName /"+F$2(ke.fontName)),Me("/ItalicAngle "+ke.metadata.italicAngle),Me("/Ascent "+ke.metadata.ascender),Me(">>"),Me("endobj"),ke.objectNumber=Ue();for(var Ye=0;Ye<ke.metadata.hmtx.widths.length;Ye++)ke.metadata.hmtx.widths[Ye]=parseInt(ke.metadata.hmtx.widths[Ye]*(1e3/ke.metadata.head.unitsPerEm));Me("<</Subtype/TrueType/Type/Font/ToUnicode "+Ke+" 0 R/BaseFont/"+F$2(ke.fontName)+"/FontDescriptor "+Xe+" 0 R/Encoding/"+ke.encoding+" /FirstChar 29 /LastChar 255 /Widths "+Ce.API.PDFObject.convert(ke.metadata.hmtx.widths)+">>"),Me("endobj"),ke.isAlreadyPutted=!0}})(Fe)}]);var De=function(Fe){var Oe,ke=Fe.text||"",Me=Fe.x,Ue=Fe.y,$e=Fe.options||{},He=Fe.mutex||{},Qe=He.pdfEscape,We=He.activeFontKey,qe=He.fonts,Ke=We,Xe="",Ye=0,Ze="",Je=qe[Ke].encoding;if(qe[Ke].encoding!=="Identity-H")return{text:ke,x:Me,y:Ue,options:$e,mutex:He};for(Ze=ke,Ke=We,Array.isArray(ke)&&(Ze=ke[0]),Ye=0;Ye<Ze.length;Ye+=1)qe[Ke].metadata.hasOwnProperty("cmap")&&(Oe=qe[Ke].metadata.cmap.unicode.codeMap[Ze[Ye].charCodeAt(0)]),Oe||Ze[Ye].charCodeAt(0)<256&&qe[Ke].metadata.hasOwnProperty("Unicode")?Xe+=Ze[Ye]:Xe+="";var tr="";return parseInt(Ke.slice(1))<14||Je==="WinAnsiEncoding"?tr=Qe(Xe,Ke).split("").map((function(rr){return rr.charCodeAt(0).toString(16)})).join(""):Je==="Identity-H"&&(tr=je(Xe,qe[Ke])),He.isHex=!0,{text:tr,x:Me,y:Ue,options:$e,mutex:He}};Re.events.push(["postProcessText",function(Fe){var Oe=Fe.text||"",ke=[],Me={text:Oe,x:Fe.x,y:Fe.y,options:Fe.options,mutex:Fe.mutex};if(Array.isArray(Oe)){var Ue=0;for(Ue=0;Ue<Oe.length;Ue+=1)Array.isArray(Oe[Ue])&&Oe[Ue].length===3?ke.push([De(Object.assign({},Me,{text:Oe[Ue][0]})).text,Oe[Ue][1],Oe[Ue][2]]):ke.push(De(Object.assign({},Me,{text:Oe[Ue]})).text);Fe.text=ke}else Fe.text=De(Object.assign({},Me,{text:Oe})).text}])})(E),(function(Ce){var Re=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};Ce.existsFileInVFS=function(je){return Re.call(this),this.internal.vFS[je]!==void 0},Ce.addFileToVFS=function(je,Be){return Re.call(this),this.internal.vFS[je]=Be,this},Ce.getFileFromVFS=function(je){return Re.call(this),this.internal.vFS[je]!==void 0?this.internal.vFS[je]:null}})(E.API),(function(Ce){Ce.__bidiEngine__=Ce.prototype.__bidiEngine__=function(Be){var De,Fe,Oe,ke,Me,Ue,$e,He=Re,Qe=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],We=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],qe={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Ke={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Xe=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ye=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Ze=!1,Je=0;this.__bidiEngine__={};var tr=function(fr){var or=fr.charCodeAt(),Er=or>>8,Rr=Ke[Er];return Rr!==void 0?He[256*Rr+(255&or)]:Er===252||Er===253?"AL":Ye.test(Er)?"L":Er===8?"R":"N"},rr=function(fr){for(var or,Er=0;Er<fr.length;Er++){if((or=tr(fr.charAt(Er)))==="L")return!1;if(or==="R")return!0}return!1},ar=function(fr,or,Er,Rr){var jr,xr,Pr,br,wr=or[Rr];switch(wr){case"L":case"R":Ze=!1;break;case"N":case"AN":break;case"EN":Ze&&(wr="AN");break;case"AL":Ze=!0,wr="R";break;case"WS":wr="N";break;case"CS":Rr<1||Rr+1>=or.length||(jr=Er[Rr-1])!=="EN"&&jr!=="AN"||(xr=or[Rr+1])!=="EN"&&xr!=="AN"?wr="N":Ze&&(xr="AN"),wr=xr===jr?xr:"N";break;case"ES":wr=(jr=Rr>0?Er[Rr-1]:"B")==="EN"&&Rr+1<or.length&&or[Rr+1]==="EN"?"EN":"N";break;case"ET":if(Rr>0&&Er[Rr-1]==="EN"){wr="EN";break}if(Ze){wr="N";break}for(Pr=Rr+1,br=or.length;Pr<br&&or[Pr]==="ET";)Pr++;wr=Pr<br&&or[Pr]==="EN"?"EN":"N";break;case"NSM":if(Oe&&!ke){for(br=or.length,Pr=Rr+1;Pr<br&&or[Pr]==="NSM";)Pr++;if(Pr<br){var Br=fr[Rr],Lr=Br>=1425&&Br<=2303||Br===64286;if(jr=or[Pr],Lr&&(jr==="R"||jr==="AL")){wr="R";break}}}wr=Rr<1||(jr=or[Rr-1])==="B"?"N":Er[Rr-1];break;case"B":Ze=!1,De=!0,wr=Je;break;case"S":Fe=!0,wr="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Ze=!1;break;case"BN":wr="N"}return wr},nr=function(fr,or,Er){var Rr=fr.split("");return Er&&sr(Rr,Er,{hiLevel:Je}),Rr.reverse(),or&&or.reverse(),Rr.join("")},sr=function(fr,or,Er){var Rr,jr,xr,Pr,br,wr=-1,Br=fr.length,Lr=0,yr=[],vr=Je?We:Qe,Tr=[];for(Ze=!1,De=!1,Fe=!1,jr=0;jr<Br;jr++)Tr[jr]=tr(fr[jr]);for(xr=0;xr<Br;xr++){if(br=Lr,yr[xr]=ar(fr,Tr,yr,xr),Rr=240&(Lr=vr[br][qe[yr[xr]]]),Lr&=15,or[xr]=Pr=vr[Lr][5],Rr>0)if(Rr===16){for(jr=wr;jr<xr;jr++)or[jr]=1;wr=-1}else wr=-1;if(vr[Lr][6])wr===-1&&(wr=xr);else if(wr>-1){for(jr=wr;jr<xr;jr++)or[jr]=Pr;wr=-1}Tr[xr]==="B"&&(or[xr]=0),Er.hiLevel|=Pr}Fe&&(function(Or,Nr,Hr){for(var Wr=0;Wr<Hr;Wr++)if(Or[Wr]==="S"){Nr[Wr]=Je;for(var qr=Wr-1;qr>=0&&Or[qr]==="WS";qr--)Nr[qr]=Je}})(Tr,or,Br)},dr=function(fr,or,Er,Rr,jr){if(!(jr.hiLevel<fr)){if(fr===1&&Je===1&&!De)return or.reverse(),void(Er&&Er.reverse());for(var xr,Pr,br,wr,Br=or.length,Lr=0;Lr<Br;){if(Rr[Lr]>=fr){for(br=Lr+1;br<Br&&Rr[br]>=fr;)br++;for(wr=Lr,Pr=br-1;wr<Pr;wr++,Pr--)xr=or[wr],or[wr]=or[Pr],or[Pr]=xr,Er&&(xr=Er[wr],Er[wr]=Er[Pr],Er[Pr]=xr);Lr=br}Lr++}}},_r=function(fr,or,Er){var Rr=fr.split(""),jr={hiLevel:Je};return Er||(Er=[]),sr(Rr,Er,jr),(function(xr,Pr,br){if(br.hiLevel!==0&&$e)for(var wr,Br=0;Br<xr.length;Br++)Pr[Br]===1&&(wr=Xe.indexOf(xr[Br]))>=0&&(xr[Br]=Xe[wr+1])})(Rr,Er,jr),dr(2,Rr,or,Er,jr),dr(1,Rr,or,Er,jr),Rr.join("")};return this.__bidiEngine__.doBidiReorder=function(fr,or,Er){if((function(jr,xr){if(xr)for(var Pr=0;Pr<jr.length;Pr++)xr[Pr]=Pr;ke===void 0&&(ke=rr(jr)),Ue===void 0&&(Ue=rr(jr))})(fr,or),Oe||!Me||Ue)if(Oe&&Me&&ke^Ue)Je=ke?1:0,fr=nr(fr,or,Er);else if(!Oe&&Me&&Ue)Je=ke?1:0,fr=_r(fr,or,Er),fr=nr(fr,or);else if(!Oe||ke||Me||Ue){if(Oe&&!Me&&ke^Ue)fr=nr(fr,or),ke?(Je=0,fr=_r(fr,or,Er)):(Je=1,fr=_r(fr,or,Er),fr=nr(fr,or));else if(Oe&&ke&&!Me&&Ue)Je=1,fr=_r(fr,or,Er),fr=nr(fr,or);else if(!Oe&&!Me&&ke^Ue){var Rr=$e;ke?(Je=1,fr=_r(fr,or,Er),Je=0,$e=!1,fr=_r(fr,or,Er),$e=Rr):(Je=0,fr=_r(fr,or,Er),fr=nr(fr,or),Je=1,$e=!1,fr=_r(fr,or,Er),$e=Rr,fr=nr(fr,or))}}else Je=0,fr=_r(fr,or,Er);else Je=ke?1:0,fr=_r(fr,or,Er);return fr},this.__bidiEngine__.setOptions=function(fr){fr&&(Oe=fr.isInputVisual,Me=fr.isOutputVisual,ke=fr.isInputRtl,Ue=fr.isOutputRtl,$e=fr.isSymmetricSwapping)},this.__bidiEngine__.setOptions(Be),this.__bidiEngine__};var Re=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],je=new Ce.__bidiEngine__({isInputVisual:!0});Ce.API.events.push(["postProcessText",function(Be){var De=Be.text;Be.x,Be.y;var Fe=Be.options||{};Be.mutex,Fe.lang;var Oe=[];if(Fe.isInputVisual=typeof Fe.isInputVisual!="boolean"||Fe.isInputVisual,je.setOptions(Fe),Object.prototype.toString.call(De)==="[object Array]"){var ke=0;for(Oe=[],ke=0;ke<De.length;ke+=1)Object.prototype.toString.call(De[ke])==="[object Array]"?Oe.push([je.doBidiReorder(De[ke][0]),De[ke][1],De[ke][2]]):Oe.push([je.doBidiReorder(De[ke])]);Be.text=Oe}else Be.text=je.doBidiReorder(De);je.setOptions({isInputVisual:!0})}])})(E),E.API.TTFFont=(function(){function Ce(Re){var je;if(this.rawData=Re,je=this.contents=new ne$1(Re),this.contents.pos=4,je.readString(4)==="ttcf")throw new Error("TTCF not supported.");je.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return Ce.open=function(Re){return new Ce(Re)},Ce.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se$1(this),this.name=new pe$1(this),this.cmap=new ue$1(this),this.toUnicode={},this.hhea=new he$1(this),this.maxp=new ge$1(this),this.hmtx=new me(this),this.post=new fe$1(this),this.os2=new le$1(this),this.loca=new Ne(this),this.glyf=new be$1(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},Ce.prototype.registerTTF=function(){var Re,je,Be,De,Fe;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Oe,ke,Me,Ue;for(Ue=[],Oe=0,ke=(Me=this.bbox).length;Oe<ke;Oe++)Re=Me[Oe],Ue.push(Math.round(Re*this.scaleFactor));return Ue}).call(this),this.stemV=0,this.post.exists?(Be=255&(De=this.post.italic_angle),(32768&(je=De>>16))!=0&&(je=-(1+(65535^je))),this.italicAngle=+(je+"."+Be)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Fe=this.familyClass)===1||Fe===2||Fe===3||Fe===4||Fe===5||Fe===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},Ce.prototype.characterToGlyph=function(Re){var je;return((je=this.cmap.unicode)!=null?je.codeMap[Re]:void 0)||0},Ce.prototype.widthOfGlyph=function(Re){var je;return je=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(Re).advance*je},Ce.prototype.widthOfString=function(Re,je,Be){var De,Fe,Oe,ke;for(Oe=0,Fe=0,ke=(Re=""+Re).length;0<=ke?Fe<ke:Fe>ke;Fe=0<=ke?++Fe:--Fe)De=Re.charCodeAt(Fe),Oe+=this.widthOfGlyph(this.characterToGlyph(De))+Be*(1e3/je)||0;return Oe*(je/1e3)},Ce.prototype.lineHeight=function(Re,je){var Be;return je==null&&(je=!1),Be=je?this.lineGap:0,(this.ascender+Be-this.decender)/1e3*Re},Ce})();var re$2,ne$1=(function(){function Ce(Re){this.data=Re??[],this.pos=0,this.length=this.data.length}return Ce.prototype.readByte=function(){return this.data[this.pos++]},Ce.prototype.writeByte=function(Re){return this.data[this.pos++]=Re},Ce.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},Ce.prototype.writeUInt32=function(Re){return this.writeByte(Re>>>24&255),this.writeByte(Re>>16&255),this.writeByte(Re>>8&255),this.writeByte(255&Re)},Ce.prototype.readInt32=function(){var Re;return(Re=this.readUInt32())>=2147483648?Re-4294967296:Re},Ce.prototype.writeInt32=function(Re){return Re<0&&(Re+=4294967296),this.writeUInt32(Re)},Ce.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},Ce.prototype.writeUInt16=function(Re){return this.writeByte(Re>>8&255),this.writeByte(255&Re)},Ce.prototype.readInt16=function(){var Re;return(Re=this.readUInt16())>=32768?Re-65536:Re},Ce.prototype.writeInt16=function(Re){return Re<0&&(Re+=65536),this.writeUInt16(Re)},Ce.prototype.readString=function(Re){var je,Be;for(Be=[],je=0;0<=Re?je<Re:je>Re;je=0<=Re?++je:--je)Be[je]=String.fromCharCode(this.readByte());return Be.join("")},Ce.prototype.writeString=function(Re){var je,Be,De;for(De=[],je=0,Be=Re.length;0<=Be?je<Be:je>Be;je=0<=Be?++je:--je)De.push(this.writeByte(Re.charCodeAt(je)));return De},Ce.prototype.readShort=function(){return this.readInt16()},Ce.prototype.writeShort=function(Re){return this.writeInt16(Re)},Ce.prototype.readLongLong=function(){var Re,je,Be,De,Fe,Oe,ke,Me;return Re=this.readByte(),je=this.readByte(),Be=this.readByte(),De=this.readByte(),Fe=this.readByte(),Oe=this.readByte(),ke=this.readByte(),Me=this.readByte(),128&Re?-1*(72057594037927940*(255^Re)+281474976710656*(255^je)+1099511627776*(255^Be)+4294967296*(255^De)+16777216*(255^Fe)+65536*(255^Oe)+256*(255^ke)+(255^Me)+1):72057594037927940*Re+281474976710656*je+1099511627776*Be+4294967296*De+16777216*Fe+65536*Oe+256*ke+Me},Ce.prototype.writeLongLong=function(Re){var je,Be;return je=Math.floor(Re/4294967296),Be=4294967295&Re,this.writeByte(je>>24&255),this.writeByte(je>>16&255),this.writeByte(je>>8&255),this.writeByte(255&je),this.writeByte(Be>>24&255),this.writeByte(Be>>16&255),this.writeByte(Be>>8&255),this.writeByte(255&Be)},Ce.prototype.readInt=function(){return this.readInt32()},Ce.prototype.writeInt=function(Re){return this.writeInt32(Re)},Ce.prototype.read=function(Re){var je,Be;for(je=[],Be=0;0<=Re?Be<Re:Be>Re;Be=0<=Re?++Be:--Be)je.push(this.readByte());return je},Ce.prototype.write=function(Re){var je,Be,De,Fe;for(Fe=[],Be=0,De=Re.length;Be<De;Be++)je=Re[Be],Fe.push(this.writeByte(je));return Fe},Ce})(),ie=(function(){var Ce;function Re(je){var Be,De,Fe;for(this.scalarType=je.readInt(),this.tableCount=je.readShort(),this.searchRange=je.readShort(),this.entrySelector=je.readShort(),this.rangeShift=je.readShort(),this.tables={},De=0,Fe=this.tableCount;0<=Fe?De<Fe:De>Fe;De=0<=Fe?++De:--De)Be={tag:je.readString(4),checksum:je.readInt(),offset:je.readInt(),length:je.readInt()},this.tables[Be.tag]=Be}return Re.prototype.encode=function(je){var Be,De,Fe,Oe,ke,Me,Ue,$e,He,Qe,We,qe,Ke;for(Ke in We=Object.keys(je).length,Me=Math.log(2),He=16*Math.floor(Math.log(We)/Me),Oe=Math.floor(He/Me),$e=16*We-He,(De=new ne$1).writeInt(this.scalarType),De.writeShort(We),De.writeShort(He),De.writeShort(Oe),De.writeShort($e),Fe=16*We,Ue=De.pos+Fe,ke=null,qe=[],je)for(Qe=je[Ke],De.writeString(Ke),De.writeInt(Ce(Qe)),De.writeInt(Ue),De.writeInt(Qe.length),qe=qe.concat(Qe),Ke==="head"&&(ke=Ue),Ue+=Qe.length;Ue%4;)qe.push(0),Ue++;return De.write(qe),Be=2981146554-Ce(De.data),De.pos=ke+8,De.writeUInt32(Be),De.data},Ce=function(je){var Be,De,Fe,Oe;for(je=ve.call(je);je.length%4;)je.push(0);for(Fe=new ne$1(je),De=0,Be=0,Oe=je.length;Be<Oe;Be=Be+=4)De+=Fe.readUInt32();return 4294967295&De},Re})(),ae={}.hasOwnProperty,oe$1=function(Ce,Re){for(var je in Re)ae.call(Re,je)&&(Ce[je]=Re[je]);function Be(){this.constructor=Ce}return Be.prototype=Re.prototype,Ce.prototype=new Be,Ce.__super__=Re.prototype,Ce};re$2=(function(){function Ce(Re){var je;this.file=Re,je=this.file.directory.tables[this.tag],this.exists=!!je,je&&(this.offset=je.offset,this.length=je.length,this.parse(this.file.contents))}return Ce.prototype.parse=function(){},Ce.prototype.encode=function(){},Ce.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},Ce})();var se$1=(function(Ce){function Re(){return Re.__super__.constructor.apply(this,arguments)}return oe$1(Re,re$2),Re.prototype.tag="head",Re.prototype.parse=function(je){return je.pos=this.offset,this.version=je.readInt(),this.revision=je.readInt(),this.checkSumAdjustment=je.readInt(),this.magicNumber=je.readInt(),this.flags=je.readShort(),this.unitsPerEm=je.readShort(),this.created=je.readLongLong(),this.modified=je.readLongLong(),this.xMin=je.readShort(),this.yMin=je.readShort(),this.xMax=je.readShort(),this.yMax=je.readShort(),this.macStyle=je.readShort(),this.lowestRecPPEM=je.readShort(),this.fontDirectionHint=je.readShort(),this.indexToLocFormat=je.readShort(),this.glyphDataFormat=je.readShort()},Re.prototype.encode=function(je){var Be;return(Be=new ne$1).writeInt(this.version),Be.writeInt(this.revision),Be.writeInt(this.checkSumAdjustment),Be.writeInt(this.magicNumber),Be.writeShort(this.flags),Be.writeShort(this.unitsPerEm),Be.writeLongLong(this.created),Be.writeLongLong(this.modified),Be.writeShort(this.xMin),Be.writeShort(this.yMin),Be.writeShort(this.xMax),Be.writeShort(this.yMax),Be.writeShort(this.macStyle),Be.writeShort(this.lowestRecPPEM),Be.writeShort(this.fontDirectionHint),Be.writeShort(je),Be.writeShort(this.glyphDataFormat),Be.data},Re})(),ce=(function(){function Ce(Re,je){var Be,De,Fe,Oe,ke,Me,Ue,$e,He,Qe,We,qe,Ke,Xe,Ye,Ze,Je;switch(this.platformID=Re.readUInt16(),this.encodingID=Re.readShort(),this.offset=je+Re.readInt(),He=Re.pos,Re.pos=this.offset,this.format=Re.readUInt16(),this.length=Re.readUInt16(),this.language=Re.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Me=0;Me<256;++Me)this.codeMap[Me]=Re.readByte();break;case 4:for(We=Re.readUInt16(),Qe=We/2,Re.pos+=6,Fe=(function(){var tr,rr;for(rr=[],Me=tr=0;0<=Qe?tr<Qe:tr>Qe;Me=0<=Qe?++tr:--tr)rr.push(Re.readUInt16());return rr})(),Re.pos+=2,Ke=(function(){var tr,rr;for(rr=[],Me=tr=0;0<=Qe?tr<Qe:tr>Qe;Me=0<=Qe?++tr:--tr)rr.push(Re.readUInt16());return rr})(),Ue=(function(){var tr,rr;for(rr=[],Me=tr=0;0<=Qe?tr<Qe:tr>Qe;Me=0<=Qe?++tr:--tr)rr.push(Re.readUInt16());return rr})(),$e=(function(){var tr,rr;for(rr=[],Me=tr=0;0<=Qe?tr<Qe:tr>Qe;Me=0<=Qe?++tr:--tr)rr.push(Re.readUInt16());return rr})(),De=(this.length-Re.pos+this.offset)/2,ke=(function(){var tr,rr;for(rr=[],Me=tr=0;0<=De?tr<De:tr>De;Me=0<=De?++tr:--tr)rr.push(Re.readUInt16());return rr})(),Me=Ye=0,Je=Fe.length;Ye<Je;Me=++Ye)for(Xe=Fe[Me],Be=Ze=qe=Ke[Me];qe<=Xe?Ze<=Xe:Ze>=Xe;Be=qe<=Xe?++Ze:--Ze)$e[Me]===0?Oe=Be+Ue[Me]:(Oe=ke[$e[Me]/2+(Be-qe)-(Qe-Me)]||0)!==0&&(Oe+=Ue[Me]),this.codeMap[Be]=65535&Oe}Re.pos=He}return Ce.encode=function(Re,je){var Be,De,Fe,Oe,ke,Me,Ue,$e,He,Qe,We,qe,Ke,Xe,Ye,Ze,Je,tr,rr,ar,nr,sr,dr,_r,fr,or,Er,Rr,jr,xr,Pr,br,wr,Br,Lr,yr,vr,Tr,Or,Nr,Hr,Wr,qr,Jr,An,an;switch(Rr=new ne$1,Oe=Object.keys(Re).sort((function(bn,gn){return bn-gn})),je){case"macroman":for(Ke=0,Xe=(function(){var bn=[];for(qe=0;qe<256;++qe)bn.push(0);return bn})(),Ze={0:0},Fe={},jr=0,wr=Oe.length;jr<wr;jr++)Ze[qr=Re[De=Oe[jr]]]==null&&(Ze[qr]=++Ke),Fe[De]={old:Re[De],new:Ze[Re[De]]},Xe[De]=Ze[Re[De]];return Rr.writeUInt16(1),Rr.writeUInt16(0),Rr.writeUInt32(12),Rr.writeUInt16(0),Rr.writeUInt16(262),Rr.writeUInt16(0),Rr.write(Xe),{charMap:Fe,subtable:Rr.data,maxGlyphID:Ke+1};case"unicode":for(or=[],He=[],Je=0,Ze={},Be={},Ye=Ue=null,xr=0,Br=Oe.length;xr<Br;xr++)Ze[rr=Re[De=Oe[xr]]]==null&&(Ze[rr]=++Je),Be[De]={old:rr,new:Ze[rr]},ke=Ze[rr]-De,Ye!=null&&ke===Ue||(Ye&&He.push(Ye),or.push(De),Ue=ke),Ye=De;for(Ye&&He.push(Ye),He.push(65535),or.push(65535),_r=2*(dr=or.length),sr=2*Math.pow(Math.log(dr)/Math.LN2,2),Qe=Math.log(sr/2)/Math.LN2,nr=2*dr-sr,Me=[],ar=[],We=[],qe=Pr=0,Lr=or.length;Pr<Lr;qe=++Pr){if(fr=or[qe],$e=He[qe],fr===65535){Me.push(0),ar.push(0);break}if(fr-(Er=Be[fr].new)>=32768)for(Me.push(0),ar.push(2*(We.length+dr-qe)),De=br=fr;fr<=$e?br<=$e:br>=$e;De=fr<=$e?++br:--br)We.push(Be[De].new);else Me.push(Er-fr),ar.push(0)}for(Rr.writeUInt16(3),Rr.writeUInt16(1),Rr.writeUInt32(12),Rr.writeUInt16(4),Rr.writeUInt16(16+8*dr+2*We.length),Rr.writeUInt16(0),Rr.writeUInt16(_r),Rr.writeUInt16(sr),Rr.writeUInt16(Qe),Rr.writeUInt16(nr),Hr=0,yr=He.length;Hr<yr;Hr++)De=He[Hr],Rr.writeUInt16(De);for(Rr.writeUInt16(0),Wr=0,vr=or.length;Wr<vr;Wr++)De=or[Wr],Rr.writeUInt16(De);for(Jr=0,Tr=Me.length;Jr<Tr;Jr++)ke=Me[Jr],Rr.writeUInt16(ke);for(An=0,Or=ar.length;An<Or;An++)tr=ar[An],Rr.writeUInt16(tr);for(an=0,Nr=We.length;an<Nr;an++)Ke=We[an],Rr.writeUInt16(Ke);return{charMap:Be,subtable:Rr.data,maxGlyphID:Je+1}}},Ce})(),ue$1=(function(Ce){function Re(){return Re.__super__.constructor.apply(this,arguments)}return oe$1(Re,re$2),Re.prototype.tag="cmap",Re.prototype.parse=function(je){var Be,De,Fe;for(je.pos=this.offset,this.version=je.readUInt16(),Fe=je.readUInt16(),this.tables=[],this.unicode=null,De=0;0<=Fe?De<Fe:De>Fe;De=0<=Fe?++De:--De)Be=new ce(je,this.offset),this.tables.push(Be),Be.isUnicode&&this.unicode==null&&(this.unicode=Be);return!0},Re.encode=function(je,Be){var De,Fe;return Be==null&&(Be="macroman"),De=ce.encode(je,Be),(Fe=new ne$1).writeUInt16(0),Fe.writeUInt16(1),De.table=Fe.data.concat(De.subtable),De},Re})(),he$1=(function(Ce){function Re(){return Re.__super__.constructor.apply(this,arguments)}return oe$1(Re,re$2),Re.prototype.tag="hhea",Re.prototype.parse=function(je){return je.pos=this.offset,this.version=je.readInt(),this.ascender=je.readShort(),this.decender=je.readShort(),this.lineGap=je.readShort(),this.advanceWidthMax=je.readShort(),this.minLeftSideBearing=je.readShort(),this.minRightSideBearing=je.readShort(),this.xMaxExtent=je.readShort(),this.caretSlopeRise=je.readShort(),this.caretSlopeRun=je.readShort(),this.caretOffset=je.readShort(),je.pos+=8,this.metricDataFormat=je.readShort(),this.numberOfMetrics=je.readUInt16()},Re})(),le$1=(function(Ce){function Re(){return Re.__super__.constructor.apply(this,arguments)}return oe$1(Re,re$2),Re.prototype.tag="OS/2",Re.prototype.parse=function(je){if(je.pos=this.offset,this.version=je.readUInt16(),this.averageCharWidth=je.readShort(),this.weightClass=je.readUInt16(),this.widthClass=je.readUInt16(),this.type=je.readShort(),this.ySubscriptXSize=je.readShort(),this.ySubscriptYSize=je.readShort(),this.ySubscriptXOffset=je.readShort(),this.ySubscriptYOffset=je.readShort(),this.ySuperscriptXSize=je.readShort(),this.ySuperscriptYSize=je.readShort(),this.ySuperscriptXOffset=je.readShort(),this.ySuperscriptYOffset=je.readShort(),this.yStrikeoutSize=je.readShort(),this.yStrikeoutPosition=je.readShort(),this.familyClass=je.readShort(),this.panose=(function(){var Be,De;for(De=[],Be=0;Be<10;++Be)De.push(je.readByte());return De})(),this.charRange=(function(){var Be,De;for(De=[],Be=0;Be<4;++Be)De.push(je.readInt());return De})(),this.vendorID=je.readString(4),this.selection=je.readShort(),this.firstCharIndex=je.readShort(),this.lastCharIndex=je.readShort(),this.version>0&&(this.ascent=je.readShort(),this.descent=je.readShort(),this.lineGap=je.readShort(),this.winAscent=je.readShort(),this.winDescent=je.readShort(),this.codePageRange=(function(){var Be,De;for(De=[],Be=0;Be<2;Be=++Be)De.push(je.readInt());return De})(),this.version>1))return this.xHeight=je.readShort(),this.capHeight=je.readShort(),this.defaultChar=je.readShort(),this.breakChar=je.readShort(),this.maxContext=je.readShort()},Re})(),fe$1=(function(Ce){function Re(){return Re.__super__.constructor.apply(this,arguments)}return oe$1(Re,re$2),Re.prototype.tag="post",Re.prototype.parse=function(je){var Be,De,Fe;switch(je.pos=this.offset,this.format=je.readInt(),this.italicAngle=je.readInt(),this.underlinePosition=je.readShort(),this.underlineThickness=je.readShort(),this.isFixedPitch=je.readInt(),this.minMemType42=je.readInt(),this.maxMemType42=je.readInt(),this.minMemType1=je.readInt(),this.maxMemType1=je.readInt(),this.format){case 65536:break;case 131072:var Oe;for(De=je.readUInt16(),this.glyphNameIndex=[],Oe=0;0<=De?Oe<De:Oe>De;Oe=0<=De?++Oe:--Oe)this.glyphNameIndex.push(je.readUInt16());for(this.names=[],Fe=[];je.pos<this.offset+this.length;)Be=je.readByte(),Fe.push(this.names.push(je.readString(Be)));return Fe;case 151552:return De=je.readUInt16(),this.offsets=je.read(De);case 196608:break;case 262144:return this.map=(function(){var ke,Me,Ue;for(Ue=[],Oe=ke=0,Me=this.file.maxp.numGlyphs;0<=Me?ke<Me:ke>Me;Oe=0<=Me?++ke:--ke)Ue.push(je.readUInt32());return Ue}).call(this)}},Re})(),de$1=function(Ce,Re){this.raw=Ce,this.length=Ce.length,this.platformID=Re.platformID,this.encodingID=Re.encodingID,this.languageID=Re.languageID},pe$1=(function(Ce){function Re(){return Re.__super__.constructor.apply(this,arguments)}return oe$1(Re,re$2),Re.prototype.tag="name",Re.prototype.parse=function(je){var Be,De,Fe,Oe,ke,Me,Ue,$e,He,Qe,We;for(je.pos=this.offset,je.readShort(),Be=je.readShort(),Me=je.readShort(),De=[],Oe=0;0<=Be?Oe<Be:Oe>Be;Oe=0<=Be?++Oe:--Oe)De.push({platformID:je.readShort(),encodingID:je.readShort(),languageID:je.readShort(),nameID:je.readShort(),length:je.readShort(),offset:this.offset+Me+je.readShort()});for(Ue={},Oe=He=0,Qe=De.length;He<Qe;Oe=++He)Fe=De[Oe],je.pos=Fe.offset,$e=je.readString(Fe.length),ke=new de$1($e,Fe),Ue[We=Fe.nameID]==null&&(Ue[We]=[]),Ue[Fe.nameID].push(ke);this.strings=Ue,this.copyright=Ue[0],this.fontFamily=Ue[1],this.fontSubfamily=Ue[2],this.uniqueSubfamily=Ue[3],this.fontName=Ue[4],this.version=Ue[5];try{this.postscriptName=Ue[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Ue[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Ue[7],this.manufacturer=Ue[8],this.designer=Ue[9],this.description=Ue[10],this.vendorUrl=Ue[11],this.designerUrl=Ue[12],this.license=Ue[13],this.licenseUrl=Ue[14],this.preferredFamily=Ue[15],this.preferredSubfamily=Ue[17],this.compatibleFull=Ue[18],this.sampleText=Ue[19]},Re})(),ge$1=(function(Ce){function Re(){return Re.__super__.constructor.apply(this,arguments)}return oe$1(Re,re$2),Re.prototype.tag="maxp",Re.prototype.parse=function(je){return je.pos=this.offset,this.version=je.readInt(),this.numGlyphs=je.readUInt16(),this.maxPoints=je.readUInt16(),this.maxContours=je.readUInt16(),this.maxCompositePoints=je.readUInt16(),this.maxComponentContours=je.readUInt16(),this.maxZones=je.readUInt16(),this.maxTwilightPoints=je.readUInt16(),this.maxStorage=je.readUInt16(),this.maxFunctionDefs=je.readUInt16(),this.maxInstructionDefs=je.readUInt16(),this.maxStackElements=je.readUInt16(),this.maxSizeOfInstructions=je.readUInt16(),this.maxComponentElements=je.readUInt16(),this.maxComponentDepth=je.readUInt16()},Re})(),me=(function(Ce){function Re(){return Re.__super__.constructor.apply(this,arguments)}return oe$1(Re,re$2),Re.prototype.tag="hmtx",Re.prototype.parse=function(je){var Be,De,Fe,Oe,ke,Me,Ue;for(je.pos=this.offset,this.metrics=[],Be=0,Me=this.file.hhea.numberOfMetrics;0<=Me?Be<Me:Be>Me;Be=0<=Me?++Be:--Be)this.metrics.push({advance:je.readUInt16(),lsb:je.readInt16()});for(Fe=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var $e,He;for(He=[],Be=$e=0;0<=Fe?$e<Fe:$e>Fe;Be=0<=Fe?++$e:--$e)He.push(je.readInt16());return He})(),this.widths=(function(){var $e,He,Qe,We;for(We=[],$e=0,He=(Qe=this.metrics).length;$e<He;$e++)Oe=Qe[$e],We.push(Oe.advance);return We}).call(this),De=this.widths[this.widths.length-1],Ue=[],Be=ke=0;0<=Fe?ke<Fe:ke>Fe;Be=0<=Fe?++ke:--ke)Ue.push(this.widths.push(De));return Ue},Re.prototype.forGlyph=function(je){return je in this.metrics?this.metrics[je]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[je-this.metrics.length]}},Re})(),ve=[].slice,be$1=(function(Ce){function Re(){return Re.__super__.constructor.apply(this,arguments)}return oe$1(Re,re$2),Re.prototype.tag="glyf",Re.prototype.parse=function(){return this.cache={}},Re.prototype.glyphFor=function(je){var Be,De,Fe,Oe,ke,Me,Ue,$e,He,Qe;return je in this.cache?this.cache[je]:(Oe=this.file.loca,Be=this.file.contents,De=Oe.indexOf(je),(Fe=Oe.lengthOf(je))===0?this.cache[je]=null:(Be.pos=this.offset+De,ke=(Me=new ne$1(Be.read(Fe))).readShort(),$e=Me.readShort(),Qe=Me.readShort(),Ue=Me.readShort(),He=Me.readShort(),this.cache[je]=ke===-1?new we(Me,$e,Qe,Ue,He):new ye$1(Me,ke,$e,Qe,Ue,He),this.cache[je]))},Re.prototype.encode=function(je,Be,De){var Fe,Oe,ke,Me,Ue;for(ke=[],Oe=[],Me=0,Ue=Be.length;Me<Ue;Me++)Fe=je[Be[Me]],Oe.push(ke.length),Fe&&(ke=ke.concat(Fe.encode(De)));return Oe.push(ke.length),{table:ke,offsets:Oe}},Re})(),ye$1=(function(){function Ce(Re,je,Be,De,Fe,Oe){this.raw=Re,this.numberOfContours=je,this.xMin=Be,this.yMin=De,this.xMax=Fe,this.yMax=Oe,this.compound=!1}return Ce.prototype.encode=function(){return this.raw.data},Ce})(),we=(function(){function Ce(Re,je,Be,De,Fe){var Oe,ke;for(this.raw=Re,this.xMin=je,this.yMin=Be,this.xMax=De,this.yMax=Fe,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Oe=this.raw;ke=Oe.readShort(),this.glyphOffsets.push(Oe.pos),this.glyphIDs.push(Oe.readUInt16()),32&ke;)Oe.pos+=1&ke?4:2,128&ke?Oe.pos+=8:64&ke?Oe.pos+=4:8&ke&&(Oe.pos+=2)}return Ce.prototype.encode=function(){var Re,je,Be;for(je=new ne$1(ve.call(this.raw.data)),Re=0,Be=this.glyphIDs.length;Re<Be;++Re)je.pos=this.glyphOffsets[Re];return je.data},Ce})(),Ne=(function(Ce){function Re(){return Re.__super__.constructor.apply(this,arguments)}return oe$1(Re,re$2),Re.prototype.tag="loca",Re.prototype.parse=function(je){var Be,De;return je.pos=this.offset,Be=this.file.head.indexToLocFormat,this.offsets=Be===0?(function(){var Fe,Oe;for(Oe=[],De=0,Fe=this.length;De<Fe;De+=2)Oe.push(2*je.readUInt16());return Oe}).call(this):(function(){var Fe,Oe;for(Oe=[],De=0,Fe=this.length;De<Fe;De+=4)Oe.push(je.readUInt32());return Oe}).call(this)},Re.prototype.indexOf=function(je){return this.offsets[je]},Re.prototype.lengthOf=function(je){return this.offsets[je+1]-this.offsets[je]},Re.prototype.encode=function(je,Be){for(var De=new Uint32Array(this.offsets.length),Fe=0,Oe=0,ke=0;ke<De.length;++ke)if(De[ke]=Fe,Oe<Be.length&&Be[Oe]==ke){++Oe,De[ke]=Fe;var Me=this.offsets[ke],Ue=this.offsets[ke+1]-Me;Ue>0&&(Fe+=Ue)}for(var $e=new Array(4*De.length),He=0;He<De.length;++He)$e[4*He+3]=255&De[He],$e[4*He+2]=(65280&De[He])>>8,$e[4*He+1]=(16711680&De[He])>>16,$e[4*He]=(4278190080&De[He])>>24;return $e},Re})(),Le=(function(){function Ce(Re){this.font=Re,this.subset={},this.unicodes={},this.next=33}return Ce.prototype.generateCmap=function(){var Re,je,Be,De,Fe;for(je in De=this.font.cmap.tables[0].codeMap,Re={},Fe=this.subset)Be=Fe[je],Re[je]=De[Be];return Re},Ce.prototype.glyphsFor=function(Re){var je,Be,De,Fe,Oe,ke,Me;for(De={},Oe=0,ke=Re.length;Oe<ke;Oe++)De[Fe=Re[Oe]]=this.font.glyf.glyphFor(Fe);for(Fe in je=[],De)(Be=De[Fe])!=null&&Be.compound&&je.push.apply(je,Be.glyphIDs);if(je.length>0)for(Fe in Me=this.glyphsFor(je))Be=Me[Fe],De[Fe]=Be;return De},Ce.prototype.encode=function(Re,je){var Be,De,Fe,Oe,ke,Me,Ue,$e,He,Qe,We,qe,Ke,Xe,Ye;for(De in Be=ue$1.encode(this.generateCmap(),"unicode"),Oe=this.glyphsFor(Re),We={0:0},Ye=Be.charMap)We[(Me=Ye[De]).old]=Me.new;for(qe in Qe=Be.maxGlyphID,Oe)qe in We||(We[qe]=Qe++);return $e=(function(Ze){var Je,tr;for(Je in tr={},Ze)tr[Ze[Je]]=Je;return tr})(We),He=Object.keys($e).sort((function(Ze,Je){return Ze-Je})),Ke=(function(){var Ze,Je,tr;for(tr=[],Ze=0,Je=He.length;Ze<Je;Ze++)ke=He[Ze],tr.push($e[ke]);return tr})(),Fe=this.font.glyf.encode(Oe,Ke,We),Ue=this.font.loca.encode(Fe.offsets,Ke),Xe={cmap:this.font.cmap.raw(),glyf:Fe.table,loca:Ue,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(je)},this.font.os2.exists&&(Xe["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Xe)},Ce})();E.API.PDFObject=(function(){var Ce;function Re(){}return Ce=function(je,Be){return(Array(Be+1).join("0")+je).slice(-Be)},Re.convert=function(je){var Be,De,Fe,Oe;if(Array.isArray(je))return"["+(function(){var ke,Me,Ue;for(Ue=[],ke=0,Me=je.length;ke<Me;ke++)Be=je[ke],Ue.push(Re.convert(Be));return Ue})().join(" ")+"]";if(typeof je=="string")return"/"+je;if(je?.isString)return"("+je+")";if(je instanceof Date)return"(D:"+Ce(je.getUTCFullYear(),4)+Ce(je.getUTCMonth(),2)+Ce(je.getUTCDate(),2)+Ce(je.getUTCHours(),2)+Ce(je.getUTCMinutes(),2)+Ce(je.getUTCSeconds(),2)+"Z)";if({}.toString.call(je)==="[object Object]"){for(De in Fe=["<<"],je)Oe=je[De],Fe.push("/"+De+" "+Re.convert(Oe));return Fe.push(">>"),Fe.join(`
`)}return""+je},Re})();const jspdf_es_min=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:St,AcroFormAppearance:At$1,AcroFormButton:mt$1,AcroFormCheckBox:wt$1,AcroFormChoiceField:ft,AcroFormComboBox:pt$1,AcroFormEditBox:gt$1,AcroFormListBox:dt,AcroFormPasswordField:Lt$1,AcroFormPushButton:vt$1,AcroFormRadioButton:bt$1,AcroFormTextField:Nt$1,GState:j$2,ShadingPattern:B$1,TilingPattern:M$1,default:E,jsPDF:E},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(jspdf_es_min);var html2canvas$1={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var html2canvas=html2canvas$1.exports,hasRequiredHtml2canvas;function requireHtml2canvas(){return hasRequiredHtml2canvas||(hasRequiredHtml2canvas=1,(function(Ce,Re){(function(je,Be){Ce.exports=Be()})(html2canvas,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var je=function(hr,cr){return je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pr,Ar){pr.__proto__=Ar}||function(pr,Ar){for(var Dr in Ar)Object.prototype.hasOwnProperty.call(Ar,Dr)&&(pr[Dr]=Ar[Dr])},je(hr,cr)};function Be(hr,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Class extends value "+String(cr)+" is not a constructor or null");je(hr,cr);function pr(){this.constructor=hr}hr.prototype=cr===null?Object.create(cr):(pr.prototype=cr.prototype,new pr)}var De=function(){return De=Object.assign||function(cr){for(var pr,Ar=1,Dr=arguments.length;Ar<Dr;Ar++){pr=arguments[Ar];for(var $r in pr)Object.prototype.hasOwnProperty.call(pr,$r)&&(cr[$r]=pr[$r])}return cr},De.apply(this,arguments)};function Fe(hr,cr,pr,Ar){function Dr($r){return $r instanceof pr?$r:new pr(function(Yr){Yr($r)})}return new(pr||(pr=Promise))(function($r,Yr){function cn(Bn){try{Tn(Ar.next(Bn))}catch(Ln){Yr(Ln)}}function un(Bn){try{Tn(Ar.throw(Bn))}catch(Ln){Yr(Ln)}}function Tn(Bn){Bn.done?$r(Bn.value):Dr(Bn.value).then(cn,un)}Tn((Ar=Ar.apply(hr,[])).next())})}function Oe(hr,cr){var pr={label:0,sent:function(){if($r[0]&1)throw $r[1];return $r[1]},trys:[],ops:[]},Ar,Dr,$r,Yr;return Yr={next:cn(0),throw:cn(1),return:cn(2)},typeof Symbol=="function"&&(Yr[Symbol.iterator]=function(){return this}),Yr;function cn(Tn){return function(Bn){return un([Tn,Bn])}}function un(Tn){if(Ar)throw new TypeError("Generator is already executing.");for(;pr;)try{if(Ar=1,Dr&&($r=Tn[0]&2?Dr.return:Tn[0]?Dr.throw||(($r=Dr.return)&&$r.call(Dr),0):Dr.next)&&!($r=$r.call(Dr,Tn[1])).done)return $r;switch(Dr=0,$r&&(Tn=[Tn[0]&2,$r.value]),Tn[0]){case 0:case 1:$r=Tn;break;case 4:return pr.label++,{value:Tn[1],done:!1};case 5:pr.label++,Dr=Tn[1],Tn=[0];continue;case 7:Tn=pr.ops.pop(),pr.trys.pop();continue;default:if($r=pr.trys,!($r=$r.length>0&&$r[$r.length-1])&&(Tn[0]===6||Tn[0]===2)){pr=0;continue}if(Tn[0]===3&&(!$r||Tn[1]>$r[0]&&Tn[1]<$r[3])){pr.label=Tn[1];break}if(Tn[0]===6&&pr.label<$r[1]){pr.label=$r[1],$r=Tn;break}if($r&&pr.label<$r[2]){pr.label=$r[2],pr.ops.push(Tn);break}$r[2]&&pr.ops.pop(),pr.trys.pop();continue}Tn=cr.call(hr,pr)}catch(Bn){Tn=[6,Bn],Dr=0}finally{Ar=$r=0}if(Tn[0]&5)throw Tn[1];return{value:Tn[0]?Tn[1]:void 0,done:!0}}}function ke(hr,cr,pr){if(arguments.length===2)for(var Ar=0,Dr=cr.length,$r;Ar<Dr;Ar++)($r||!(Ar in cr))&&($r||($r=Array.prototype.slice.call(cr,0,Ar)),$r[Ar]=cr[Ar]);return hr.concat($r||cr)}for(var Me=(function(){function hr(cr,pr,Ar,Dr){this.left=cr,this.top=pr,this.width=Ar,this.height=Dr}return hr.prototype.add=function(cr,pr,Ar,Dr){return new hr(this.left+cr,this.top+pr,this.width+Ar,this.height+Dr)},hr.fromClientRect=function(cr,pr){return new hr(pr.left+cr.windowBounds.left,pr.top+cr.windowBounds.top,pr.width,pr.height)},hr.fromDOMRectList=function(cr,pr){var Ar=Array.from(pr).find(function(Dr){return Dr.width!==0});return Ar?new hr(Ar.left+cr.windowBounds.left,Ar.top+cr.windowBounds.top,Ar.width,Ar.height):hr.EMPTY},hr.EMPTY=new hr(0,0,0,0),hr})(),Ue=function(hr,cr){return Me.fromClientRect(hr,cr.getBoundingClientRect())},$e=function(hr){var cr=hr.body,pr=hr.documentElement;if(!cr||!pr)throw new Error("Unable to get document size");var Ar=Math.max(Math.max(cr.scrollWidth,pr.scrollWidth),Math.max(cr.offsetWidth,pr.offsetWidth),Math.max(cr.clientWidth,pr.clientWidth)),Dr=Math.max(Math.max(cr.scrollHeight,pr.scrollHeight),Math.max(cr.offsetHeight,pr.offsetHeight),Math.max(cr.clientHeight,pr.clientHeight));return new Me(0,0,Ar,Dr)},He=function(hr){for(var cr=[],pr=0,Ar=hr.length;pr<Ar;){var Dr=hr.charCodeAt(pr++);if(Dr>=55296&&Dr<=56319&&pr<Ar){var $r=hr.charCodeAt(pr++);($r&64512)===56320?cr.push(((Dr&1023)<<10)+($r&1023)+65536):(cr.push(Dr),pr--)}else cr.push(Dr)}return cr},Qe=function(){for(var hr=[],cr=0;cr<arguments.length;cr++)hr[cr]=arguments[cr];if(String.fromCodePoint)return String.fromCodePoint.apply(String,hr);var pr=hr.length;if(!pr)return"";for(var Ar=[],Dr=-1,$r="";++Dr<pr;){var Yr=hr[Dr];Yr<=65535?Ar.push(Yr):(Yr-=65536,Ar.push((Yr>>10)+55296,Yr%1024+56320)),(Dr+1===pr||Ar.length>16384)&&($r+=String.fromCharCode.apply(String,Ar),Ar.length=0)}return $r},We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qe=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ke=0;Ke<We.length;Ke++)qe[We.charCodeAt(Ke)]=Ke;for(var Xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ye=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ze=0;Ze<Xe.length;Ze++)Ye[Xe.charCodeAt(Ze)]=Ze;for(var Je=function(hr){var cr=hr.length*.75,pr=hr.length,Ar,Dr=0,$r,Yr,cn,un;hr[hr.length-1]==="="&&(cr--,hr[hr.length-2]==="="&&cr--);var Tn=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(cr):new Array(cr),Bn=Array.isArray(Tn)?Tn:new Uint8Array(Tn);for(Ar=0;Ar<pr;Ar+=4)$r=Ye[hr.charCodeAt(Ar)],Yr=Ye[hr.charCodeAt(Ar+1)],cn=Ye[hr.charCodeAt(Ar+2)],un=Ye[hr.charCodeAt(Ar+3)],Bn[Dr++]=$r<<2|Yr>>4,Bn[Dr++]=(Yr&15)<<4|cn>>2,Bn[Dr++]=(cn&3)<<6|un&63;return Tn},tr=function(hr){for(var cr=hr.length,pr=[],Ar=0;Ar<cr;Ar+=2)pr.push(hr[Ar+1]<<8|hr[Ar]);return pr},rr=function(hr){for(var cr=hr.length,pr=[],Ar=0;Ar<cr;Ar+=4)pr.push(hr[Ar+3]<<24|hr[Ar+2]<<16|hr[Ar+1]<<8|hr[Ar]);return pr},ar=5,nr=11,sr=2,dr=nr-ar,_r=65536>>ar,fr=1<<ar,or=fr-1,Er=1024>>ar,Rr=_r+Er,jr=Rr,xr=32,Pr=jr+xr,br=65536>>nr,wr=1<<dr,Br=wr-1,Lr=function(hr,cr,pr){return hr.slice?hr.slice(cr,pr):new Uint16Array(Array.prototype.slice.call(hr,cr,pr))},yr=function(hr,cr,pr){return hr.slice?hr.slice(cr,pr):new Uint32Array(Array.prototype.slice.call(hr,cr,pr))},vr=function(hr,cr){var pr=Je(hr),Ar=Array.isArray(pr)?rr(pr):new Uint32Array(pr),Dr=Array.isArray(pr)?tr(pr):new Uint16Array(pr),$r=24,Yr=Lr(Dr,$r/2,Ar[4]/2),cn=Ar[5]===2?Lr(Dr,($r+Ar[4])/2):yr(Ar,Math.ceil(($r+Ar[4])/4));return new Tr(Ar[0],Ar[1],Ar[2],Ar[3],Yr,cn)},Tr=(function(){function hr(cr,pr,Ar,Dr,$r,Yr){this.initialValue=cr,this.errorValue=pr,this.highStart=Ar,this.highValueIndex=Dr,this.index=$r,this.data=Yr}return hr.prototype.get=function(cr){var pr;if(cr>=0){if(cr<55296||cr>56319&&cr<=65535)return pr=this.index[cr>>ar],pr=(pr<<sr)+(cr&or),this.data[pr];if(cr<=65535)return pr=this.index[_r+(cr-55296>>ar)],pr=(pr<<sr)+(cr&or),this.data[pr];if(cr<this.highStart)return pr=Pr-br+(cr>>nr),pr=this.index[pr],pr+=cr>>ar&Br,pr=this.index[pr],pr=(pr<<sr)+(cr&or),this.data[pr];if(cr<=1114111)return this.data[this.highValueIndex]}return this.errorValue},hr})(),Or="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nr=typeof Uint8Array>"u"?[]:new Uint8Array(256),Hr=0;Hr<Or.length;Hr++)Nr[Or.charCodeAt(Hr)]=Hr;var Wr="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",qr=50,Jr=1,An=2,an=3,bn=4,gn=5,mn=7,Zr=8,kn=9,ri=10,zn=11,ei=12,Jn=13,Wn=14,_i=15,wi=16,Oi=17,xi=18,Pi=19,Ii=20,Si=21,En=22,Cn=23,oi=24,ci=25,Qi=26,ti=27,Bi=28,jn=29,vn=30,Ni=31,bi=32,Gi=33,Di=34,hi=35,fi=36,Ri=37,Zi=38,ds=39,oa=40,Wa=41,Mi=42,Qs=43,Fs=[9001,65288],Xs="!",Yi="",ra="",Kr=vr(Wr),fn=[vn,fi],sn=[Jr,An,an,gn],on=[ri,Zr],hn=[ti,Qi],pn=sn.concat(on),Mn=[Zi,ds,oa,Di,hi],qn=[_i,Jn],Nn=function(hr,cr){cr===void 0&&(cr="strict");var pr=[],Ar=[],Dr=[];return hr.forEach(function($r,Yr){var cn=Kr.get($r);if(cn>qr?(Dr.push(!0),cn-=qr):Dr.push(!1),["normal","auto","loose"].indexOf(cr)!==-1&&[8208,8211,12316,12448].indexOf($r)!==-1)return Ar.push(Yr),pr.push(wi);if(cn===bn||cn===zn){if(Yr===0)return Ar.push(Yr),pr.push(vn);var un=pr[Yr-1];return pn.indexOf(un)===-1?(Ar.push(Ar[Yr-1]),pr.push(un)):(Ar.push(Yr),pr.push(vn))}if(Ar.push(Yr),cn===Ni)return pr.push(cr==="strict"?Si:Ri);if(cn===Mi||cn===jn)return pr.push(vn);if(cn===Qs)return $r>=131072&&$r<=196605||$r>=196608&&$r<=262141?pr.push(Ri):pr.push(vn);pr.push(cn)}),[Ar,pr,Dr]},Vn=function(hr,cr,pr,Ar){var Dr=Ar[pr];if(Array.isArray(hr)?hr.indexOf(Dr)!==-1:hr===Dr)for(var $r=pr;$r<=Ar.length;){$r++;var Yr=Ar[$r];if(Yr===cr)return!0;if(Yr!==ri)break}if(Dr===ri)for(var $r=pr;$r>0;){$r--;var cn=Ar[$r];if(Array.isArray(hr)?hr.indexOf(cn)!==-1:hr===cn)for(var un=pr;un<=Ar.length;){un++;var Yr=Ar[un];if(Yr===cr)return!0;if(Yr!==ri)break}if(cn!==ri)break}return!1},Kn=function(hr,cr){for(var pr=hr;pr>=0;){var Ar=cr[pr];if(Ar===ri)pr--;else return Ar}return 0},gi=function(hr,cr,pr,Ar,Dr){if(pr[Ar]===0)return Yi;var $r=Ar-1;if(Array.isArray(Dr)&&Dr[$r]===!0)return Yi;var Yr=$r-1,cn=$r+1,un=cr[$r],Tn=Yr>=0?cr[Yr]:0,Bn=cr[cn];if(un===An&&Bn===an)return Yi;if(sn.indexOf(un)!==-1)return Xs;if(sn.indexOf(Bn)!==-1||on.indexOf(Bn)!==-1)return Yi;if(Kn($r,cr)===Zr)return ra;if(Kr.get(hr[$r])===zn||(un===bi||un===Gi)&&Kr.get(hr[cn])===zn||un===mn||Bn===mn||un===kn||[ri,Jn,_i].indexOf(un)===-1&&Bn===kn||[Oi,xi,Pi,oi,Bi].indexOf(Bn)!==-1||Kn($r,cr)===En||Vn(Cn,En,$r,cr)||Vn([Oi,xi],Si,$r,cr)||Vn(ei,ei,$r,cr))return Yi;if(un===ri)return ra;if(un===Cn||Bn===Cn)return Yi;if(Bn===wi||un===wi)return ra;if([Jn,_i,Si].indexOf(Bn)!==-1||un===Wn||Tn===fi&&qn.indexOf(un)!==-1||un===Bi&&Bn===fi||Bn===Ii||fn.indexOf(Bn)!==-1&&un===ci||fn.indexOf(un)!==-1&&Bn===ci||un===ti&&[Ri,bi,Gi].indexOf(Bn)!==-1||[Ri,bi,Gi].indexOf(un)!==-1&&Bn===Qi||fn.indexOf(un)!==-1&&hn.indexOf(Bn)!==-1||hn.indexOf(un)!==-1&&fn.indexOf(Bn)!==-1||[ti,Qi].indexOf(un)!==-1&&(Bn===ci||[En,_i].indexOf(Bn)!==-1&&cr[cn+1]===ci)||[En,_i].indexOf(un)!==-1&&Bn===ci||un===ci&&[ci,Bi,oi].indexOf(Bn)!==-1)return Yi;if([ci,Bi,oi,Oi,xi].indexOf(Bn)!==-1)for(var Ln=$r;Ln>=0;){var ai=cr[Ln];if(ai===ci)return Yi;if([Bi,oi].indexOf(ai)!==-1)Ln--;else break}if([ti,Qi].indexOf(Bn)!==-1)for(var Ln=[Oi,xi].indexOf(un)!==-1?Yr:$r;Ln>=0;){var ai=cr[Ln];if(ai===ci)return Yi;if([Bi,oi].indexOf(ai)!==-1)Ln--;else break}if(Zi===un&&[Zi,ds,Di,hi].indexOf(Bn)!==-1||[ds,Di].indexOf(un)!==-1&&[ds,oa].indexOf(Bn)!==-1||[oa,hi].indexOf(un)!==-1&&Bn===oa||Mn.indexOf(un)!==-1&&[Ii,Qi].indexOf(Bn)!==-1||Mn.indexOf(Bn)!==-1&&un===ti||fn.indexOf(un)!==-1&&fn.indexOf(Bn)!==-1||un===oi&&fn.indexOf(Bn)!==-1||fn.concat(ci).indexOf(un)!==-1&&Bn===En&&Fs.indexOf(hr[cn])===-1||fn.concat(ci).indexOf(Bn)!==-1&&un===xi)return Yi;if(un===Wa&&Bn===Wa){for(var Hi=pr[$r],Fi=1;Hi>0&&(Hi--,cr[Hi]===Wa);)Fi++;if(Fi%2!==0)return Yi}return un===bi&&Bn===Gi?Yi:ra},Ti=function(hr,cr){cr||(cr={lineBreak:"normal",wordBreak:"normal"});var pr=Nn(hr,cr.lineBreak),Ar=pr[0],Dr=pr[1],$r=pr[2];(cr.wordBreak==="break-all"||cr.wordBreak==="break-word")&&(Dr=Dr.map(function(cn){return[ci,vn,Mi].indexOf(cn)!==-1?Ri:cn}));var Yr=cr.wordBreak==="keep-all"?$r.map(function(cn,un){return cn&&hr[un]>=19968&&hr[un]<=40959}):void 0;return[Ar,Dr,Yr]},zi=(function(){function hr(cr,pr,Ar,Dr){this.codePoints=cr,this.required=pr===Xs,this.start=Ar,this.end=Dr}return hr.prototype.slice=function(){return Qe.apply(void 0,this.codePoints.slice(this.start,this.end))},hr})(),Ci=function(hr,cr){var pr=He(hr),Ar=Ti(pr,cr),Dr=Ar[0],$r=Ar[1],Yr=Ar[2],cn=pr.length,un=0,Tn=0;return{next:function(){if(Tn>=cn)return{done:!0,value:null};for(var Bn=Yi;Tn<cn&&(Bn=gi(pr,$r,Dr,++Tn,Yr))===Yi;);if(Bn!==Yi||Tn===cn){var Ln=new zi(pr,Bn,un,Tn);return un=Tn,{value:Ln,done:!1}}return{done:!0,value:null}}}},Li=1,ss=2,gs=4,_s=8,ys=10,eo=47,Eo=92,oo=9,wo=32,co=34,Na=61,la=35,uo=36,$c=37,mc=39,sl=40,Bl=41,xo=95,Da=45,Os=33,vo=60,Xl=62,Jl=64,hl=91,Ws=93,Zl=61,Qo=123,zo=63,Gu=125,Vc=124,du=126,Nl=128,gc=65533,al=42,fo=43,na=44,Dl=58,Al=59,ts=46,pl=0,qu=8,So=11,Wo=14,Oo=31,ml=127,ya=-1,gl=48,xl=97,Hc=101,Ko=102,Co=117,vl=122,Fa=65,Cs=69,Fl=70,yl=85,fu=90,ha=function(hr){return hr>=gl&&hr<=57},xc=function(hr){return hr>=55296&&hr<=57343},ho=function(hr){return ha(hr)||hr>=Fa&&hr<=Fl||hr>=xl&&hr<=Ko},To=function(hr){return hr>=xl&&hr<=vl},$a=function(hr){return hr>=Fa&&hr<=fu},Yu=function(hr){return To(hr)||$a(hr)},tc=function(hr){return hr>=Nl},Va=function(hr){return hr===ys||hr===oo||hr===wo},ol=function(hr){return Yu(hr)||tc(hr)||hr===xo},bl=function(hr){return ol(hr)||ha(hr)||hr===Da},Qc=function(hr){return hr>=pl&&hr<=qu||hr===So||hr>=Wo&&hr<=Oo||hr===ml},Ro=function(hr,cr){return hr!==Eo?!1:cr!==ys},Ol=function(hr,cr,pr){return hr===Da?ol(cr)||Ro(cr,pr):ol(hr)?!0:!!(hr===Eo&&Ro(hr,cr))},vc=function(hr,cr,pr){return hr===fo||hr===Da?ha(cr)?!0:cr===ts&&ha(pr):ha(hr===ts?cr:hr)},yc=function(hr){var cr=0,pr=1;(hr[cr]===fo||hr[cr]===Da)&&(hr[cr]===Da&&(pr=-1),cr++);for(var Ar=[];ha(hr[cr]);)Ar.push(hr[cr++]);var Dr=Ar.length?parseInt(Qe.apply(void 0,Ar),10):0;hr[cr]===ts&&cr++;for(var $r=[];ha(hr[cr]);)$r.push(hr[cr++]);var Yr=$r.length,cn=Yr?parseInt(Qe.apply(void 0,$r),10):0;(hr[cr]===Cs||hr[cr]===Hc)&&cr++;var un=1;(hr[cr]===fo||hr[cr]===Da)&&(hr[cr]===Da&&(un=-1),cr++);for(var Tn=[];ha(hr[cr]);)Tn.push(hr[cr++]);var Bn=Tn.length?parseInt(Qe.apply(void 0,Tn),10):0;return pr*(Dr+cn*Math.pow(10,-Yr))*Math.pow(10,un*Bn)},rc={type:2},bc={type:3},zc={type:4},_c={type:13},nc={type:8},Xu={type:21},kl={type:9},ic={type:10},Ec={type:11},Po={type:12},Wc={type:14},Cr={type:23},zr={type:1},xn={type:25},_n={type:24},Dn={type:26},ni={type:27},Ei={type:28},$i={type:29},ur={type:31},Fr={type:32},Ur=(function(){function hr(){this._value=[]}return hr.prototype.write=function(cr){this._value=this._value.concat(He(cr))},hr.prototype.read=function(){for(var cr=[],pr=this.consumeToken();pr!==Fr;)cr.push(pr),pr=this.consumeToken();return cr},hr.prototype.consumeToken=function(){var cr=this.consumeCodePoint();switch(cr){case co:return this.consumeStringToken(co);case la:var pr=this.peekCodePoint(0),Ar=this.peekCodePoint(1),Dr=this.peekCodePoint(2);if(bl(pr)||Ro(Ar,Dr)){var $r=Ol(pr,Ar,Dr)?ss:Li,Yr=this.consumeName();return{type:5,value:Yr,flags:$r}}break;case uo:if(this.peekCodePoint(0)===Na)return this.consumeCodePoint(),_c;break;case mc:return this.consumeStringToken(mc);case sl:return rc;case Bl:return bc;case al:if(this.peekCodePoint(0)===Na)return this.consumeCodePoint(),Wc;break;case fo:if(vc(cr,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(cr),this.consumeNumericToken();break;case na:return zc;case Da:var cn=cr,un=this.peekCodePoint(0),Tn=this.peekCodePoint(1);if(vc(cn,un,Tn))return this.reconsumeCodePoint(cr),this.consumeNumericToken();if(Ol(cn,un,Tn))return this.reconsumeCodePoint(cr),this.consumeIdentLikeToken();if(un===Da&&Tn===Xl)return this.consumeCodePoint(),this.consumeCodePoint(),_n;break;case ts:if(vc(cr,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(cr),this.consumeNumericToken();break;case eo:if(this.peekCodePoint(0)===al)for(this.consumeCodePoint();;){var Bn=this.consumeCodePoint();if(Bn===al&&(Bn=this.consumeCodePoint(),Bn===eo))return this.consumeToken();if(Bn===ya)return this.consumeToken()}break;case Dl:return Dn;case Al:return ni;case vo:if(this.peekCodePoint(0)===Os&&this.peekCodePoint(1)===Da&&this.peekCodePoint(2)===Da)return this.consumeCodePoint(),this.consumeCodePoint(),xn;break;case Jl:var Ln=this.peekCodePoint(0),ai=this.peekCodePoint(1),Hi=this.peekCodePoint(2);if(Ol(Ln,ai,Hi)){var Yr=this.consumeName();return{type:7,value:Yr}}break;case hl:return Ei;case Eo:if(Ro(cr,this.peekCodePoint(0)))return this.reconsumeCodePoint(cr),this.consumeIdentLikeToken();break;case Ws:return $i;case Zl:if(this.peekCodePoint(0)===Na)return this.consumeCodePoint(),nc;break;case Qo:return Ec;case Gu:return Po;case Co:case yl:var Fi=this.peekCodePoint(0),ki=this.peekCodePoint(1);return Fi===fo&&(ho(ki)||ki===zo)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(cr),this.consumeIdentLikeToken();case Vc:if(this.peekCodePoint(0)===Na)return this.consumeCodePoint(),kl;if(this.peekCodePoint(0)===Vc)return this.consumeCodePoint(),Xu;break;case du:if(this.peekCodePoint(0)===Na)return this.consumeCodePoint(),ic;break;case ya:return Fr}return Va(cr)?(this.consumeWhiteSpace(),ur):ha(cr)?(this.reconsumeCodePoint(cr),this.consumeNumericToken()):ol(cr)?(this.reconsumeCodePoint(cr),this.consumeIdentLikeToken()):{type:6,value:Qe(cr)}},hr.prototype.consumeCodePoint=function(){var cr=this._value.shift();return typeof cr>"u"?-1:cr},hr.prototype.reconsumeCodePoint=function(cr){this._value.unshift(cr)},hr.prototype.peekCodePoint=function(cr){return cr>=this._value.length?-1:this._value[cr]},hr.prototype.consumeUnicodeRangeToken=function(){for(var cr=[],pr=this.consumeCodePoint();ho(pr)&&cr.length<6;)cr.push(pr),pr=this.consumeCodePoint();for(var Ar=!1;pr===zo&&cr.length<6;)cr.push(pr),pr=this.consumeCodePoint(),Ar=!0;if(Ar){var Dr=parseInt(Qe.apply(void 0,cr.map(function(un){return un===zo?gl:un})),16),$r=parseInt(Qe.apply(void 0,cr.map(function(un){return un===zo?Fl:un})),16);return{type:30,start:Dr,end:$r}}var Yr=parseInt(Qe.apply(void 0,cr),16);if(this.peekCodePoint(0)===Da&&ho(this.peekCodePoint(1))){this.consumeCodePoint(),pr=this.consumeCodePoint();for(var cn=[];ho(pr)&&cn.length<6;)cn.push(pr),pr=this.consumeCodePoint();var $r=parseInt(Qe.apply(void 0,cn),16);return{type:30,start:Yr,end:$r}}else return{type:30,start:Yr,end:Yr}},hr.prototype.consumeIdentLikeToken=function(){var cr=this.consumeName();return cr.toLowerCase()==="url"&&this.peekCodePoint(0)===sl?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===sl?(this.consumeCodePoint(),{type:19,value:cr}):{type:20,value:cr}},hr.prototype.consumeUrlToken=function(){var cr=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ya)return{type:22,value:""};var pr=this.peekCodePoint(0);if(pr===mc||pr===co){var Ar=this.consumeStringToken(this.consumeCodePoint());return Ar.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ya||this.peekCodePoint(0)===Bl)?(this.consumeCodePoint(),{type:22,value:Ar.value}):(this.consumeBadUrlRemnants(),Cr)}for(;;){var Dr=this.consumeCodePoint();if(Dr===ya||Dr===Bl)return{type:22,value:Qe.apply(void 0,cr)};if(Va(Dr))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ya||this.peekCodePoint(0)===Bl?(this.consumeCodePoint(),{type:22,value:Qe.apply(void 0,cr)}):(this.consumeBadUrlRemnants(),Cr);if(Dr===co||Dr===mc||Dr===sl||Qc(Dr))return this.consumeBadUrlRemnants(),Cr;if(Dr===Eo)if(Ro(Dr,this.peekCodePoint(0)))cr.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Cr;else cr.push(Dr)}},hr.prototype.consumeWhiteSpace=function(){for(;Va(this.peekCodePoint(0));)this.consumeCodePoint()},hr.prototype.consumeBadUrlRemnants=function(){for(;;){var cr=this.consumeCodePoint();if(cr===Bl||cr===ya)return;Ro(cr,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},hr.prototype.consumeStringSlice=function(cr){for(var pr=5e4,Ar="";cr>0;){var Dr=Math.min(pr,cr);Ar+=Qe.apply(void 0,this._value.splice(0,Dr)),cr-=Dr}return this._value.shift(),Ar},hr.prototype.consumeStringToken=function(cr){var pr="",Ar=0;do{var Dr=this._value[Ar];if(Dr===ya||Dr===void 0||Dr===cr)return pr+=this.consumeStringSlice(Ar),{type:0,value:pr};if(Dr===ys)return this._value.splice(0,Ar),zr;if(Dr===Eo){var $r=this._value[Ar+1];$r!==ya&&$r!==void 0&&($r===ys?(pr+=this.consumeStringSlice(Ar),Ar=-1,this._value.shift()):Ro(Dr,$r)&&(pr+=this.consumeStringSlice(Ar),pr+=Qe(this.consumeEscapedCodePoint()),Ar=-1))}Ar++}while(!0)},hr.prototype.consumeNumber=function(){var cr=[],pr=gs,Ar=this.peekCodePoint(0);for((Ar===fo||Ar===Da)&&cr.push(this.consumeCodePoint());ha(this.peekCodePoint(0));)cr.push(this.consumeCodePoint());Ar=this.peekCodePoint(0);var Dr=this.peekCodePoint(1);if(Ar===ts&&ha(Dr))for(cr.push(this.consumeCodePoint(),this.consumeCodePoint()),pr=_s;ha(this.peekCodePoint(0));)cr.push(this.consumeCodePoint());Ar=this.peekCodePoint(0),Dr=this.peekCodePoint(1);var $r=this.peekCodePoint(2);if((Ar===Cs||Ar===Hc)&&((Dr===fo||Dr===Da)&&ha($r)||ha(Dr)))for(cr.push(this.consumeCodePoint(),this.consumeCodePoint()),pr=_s;ha(this.peekCodePoint(0));)cr.push(this.consumeCodePoint());return[yc(cr),pr]},hr.prototype.consumeNumericToken=function(){var cr=this.consumeNumber(),pr=cr[0],Ar=cr[1],Dr=this.peekCodePoint(0),$r=this.peekCodePoint(1),Yr=this.peekCodePoint(2);if(Ol(Dr,$r,Yr)){var cn=this.consumeName();return{type:15,number:pr,flags:Ar,unit:cn}}return Dr===$c?(this.consumeCodePoint(),{type:16,number:pr,flags:Ar}):{type:17,number:pr,flags:Ar}},hr.prototype.consumeEscapedCodePoint=function(){var cr=this.consumeCodePoint();if(ho(cr)){for(var pr=Qe(cr);ho(this.peekCodePoint(0))&&pr.length<6;)pr+=Qe(this.consumeCodePoint());Va(this.peekCodePoint(0))&&this.consumeCodePoint();var Ar=parseInt(pr,16);return Ar===0||xc(Ar)||Ar>1114111?gc:Ar}return cr===ya?gc:cr},hr.prototype.consumeName=function(){for(var cr="";;){var pr=this.consumeCodePoint();if(bl(pr))cr+=Qe(pr);else if(Ro(pr,this.peekCodePoint(0)))cr+=Qe(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(pr),cr}},hr})(),en=(function(){function hr(cr){this._tokens=cr}return hr.create=function(cr){var pr=new Ur;return pr.write(cr),new hr(pr.read())},hr.parseValue=function(cr){return hr.create(cr).parseComponentValue()},hr.parseValues=function(cr){return hr.create(cr).parseComponentValues()},hr.prototype.parseComponentValue=function(){for(var cr=this.consumeToken();cr.type===31;)cr=this.consumeToken();if(cr.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(cr);var pr=this.consumeComponentValue();do cr=this.consumeToken();while(cr.type===31);if(cr.type===32)return pr;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},hr.prototype.parseComponentValues=function(){for(var cr=[];;){var pr=this.consumeComponentValue();if(pr.type===32)return cr;cr.push(pr),cr.push()}},hr.prototype.consumeComponentValue=function(){var cr=this.consumeToken();switch(cr.type){case 11:case 28:case 2:return this.consumeSimpleBlock(cr.type);case 19:return this.consumeFunction(cr)}return cr},hr.prototype.consumeSimpleBlock=function(cr){for(var pr={type:cr,values:[]},Ar=this.consumeToken();;){if(Ar.type===32||_l(Ar,cr))return pr;this.reconsumeToken(Ar),pr.values.push(this.consumeComponentValue()),Ar=this.consumeToken()}},hr.prototype.consumeFunction=function(cr){for(var pr={name:cr.value,values:[],type:18};;){var Ar=this.consumeToken();if(Ar.type===32||Ar.type===3)return pr;this.reconsumeToken(Ar),pr.values.push(this.consumeComponentValue())}},hr.prototype.consumeToken=function(){var cr=this._tokens.shift();return typeof cr>"u"?Fr:cr},hr.prototype.reconsumeToken=function(cr){this._tokens.unshift(cr)},hr})(),Pn=function(hr){return hr.type===15},Un=function(hr){return hr.type===17},si=function(hr){return hr.type===20},os=function(hr){return hr.type===0},Es=function(hr,cr){return si(hr)&&hr.value===cr},As=function(hr){return hr.type!==31},Bs=function(hr){return hr.type!==31&&hr.type!==4},Ts=function(hr){var cr=[],pr=[];return hr.forEach(function(Ar){if(Ar.type===4){if(pr.length===0)throw new Error("Error parsing function args, zero tokens for arg");cr.push(pr),pr=[];return}Ar.type!==31&&pr.push(Ar)}),pr.length&&cr.push(pr),cr},_l=function(hr,cr){return cr===11&&hr.type===12||cr===28&&hr.type===29?!0:cr===2&&hr.type===3},Js=function(hr){return hr.type===17||hr.type===15},ks=function(hr){return hr.type===16||Js(hr)},Ml=function(hr){return hr.length>1?[hr[0],hr[1]]:[hr[0]]},Aa={type:17,number:0,flags:gs},Kc={type:16,number:50,flags:gs},Go={type:16,number:100,flags:gs},ba=function(hr,cr,pr){var Ar=hr[0],Dr=hr[1];return[Ms(Ar,cr),Ms(typeof Dr<"u"?Dr:Ar,pr)]},Ms=function(hr,cr){if(hr.type===16)return hr.number/100*cr;if(Pn(hr))switch(hr.unit){case"rem":case"em":return 16*hr.number;case"px":default:return hr.number}return hr.number},Gc="deg",qc="grad",hu="rad",ko="turn",Ju={name:"angle",parse:function(hr,cr){if(cr.type===15)switch(cr.unit){case Gc:return Math.PI*cr.number/180;case qc:return Math.PI/200*cr.number;case hu:return cr.number;case ko:return Math.PI*2*cr.number}throw new Error("Unsupported angle type")}},Zu=function(hr){return hr.type===15&&(hr.unit===Gc||hr.unit===qc||hr.unit===hu||hr.unit===ko)},Ed=function(hr){var cr=hr.filter(si).map(function(pr){return pr.value}).join(" ");switch(cr){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Aa,Aa];case"to top":case"bottom":return Ea(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Aa,Go];case"to right":case"left":return Ea(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Go,Go];case"to bottom":case"top":return Ea(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Go,Aa];case"to left":case"right":return Ea(270)}return 0},Ea=function(hr){return Math.PI*hr/180},da={name:"color",parse:function(hr,cr){if(cr.type===18){var pr=qo[cr.name];if(typeof pr>"u")throw new Error('Attempting to parse an unsupported color function "'+cr.name+'"');return pr(hr,cr.values)}if(cr.type===5){if(cr.value.length===3){var Ar=cr.value.substring(0,1),Dr=cr.value.substring(1,2),$r=cr.value.substring(2,3);return Io(parseInt(Ar+Ar,16),parseInt(Dr+Dr,16),parseInt($r+$r,16),1)}if(cr.value.length===4){var Ar=cr.value.substring(0,1),Dr=cr.value.substring(1,2),$r=cr.value.substring(2,3),Yr=cr.value.substring(3,4);return Io(parseInt(Ar+Ar,16),parseInt(Dr+Dr,16),parseInt($r+$r,16),parseInt(Yr+Yr,16)/255)}if(cr.value.length===6){var Ar=cr.value.substring(0,2),Dr=cr.value.substring(2,4),$r=cr.value.substring(4,6);return Io(parseInt(Ar,16),parseInt(Dr,16),parseInt($r,16),1)}if(cr.value.length===8){var Ar=cr.value.substring(0,2),Dr=cr.value.substring(2,4),$r=cr.value.substring(4,6),Yr=cr.value.substring(6,8);return Io(parseInt(Ar,16),parseInt(Dr,16),parseInt($r,16),parseInt(Yr,16)/255)}}if(cr.type===20){var cn=Ao[cr.value.toUpperCase()];if(typeof cn<"u")return cn}return Ao.TRANSPARENT}},Mo=function(hr){return(255&hr)===0},Ra=function(hr){var cr=255&hr,pr=255&hr>>8,Ar=255&hr>>16,Dr=255&hr>>24;return cr<255?"rgba("+Dr+","+Ar+","+pr+","+cr/255+")":"rgb("+Dr+","+Ar+","+pr+")"},Io=function(hr,cr,pr,Ar){return(hr<<24|cr<<16|pr<<8|Math.round(Ar*255)<<0)>>>0},wc=function(hr,cr){if(hr.type===17)return hr.number;if(hr.type===16){var pr=cr===3?1:255;return cr===3?hr.number/100*pr:Math.round(hr.number/100*pr)}return 0},jo=function(hr,cr){var pr=cr.filter(Bs);if(pr.length===3){var Ar=pr.map(wc),Dr=Ar[0],$r=Ar[1],Yr=Ar[2];return Io(Dr,$r,Yr,1)}if(pr.length===4){var cn=pr.map(wc),Dr=cn[0],$r=cn[1],Yr=cn[2],un=cn[3];return Io(Dr,$r,Yr,un)}return 0};function Ka(hr,cr,pr){return pr<0&&(pr+=1),pr>=1&&(pr-=1),pr<1/6?(cr-hr)*pr*6+hr:pr<1/2?cr:pr<2/3?(cr-hr)*6*(2/3-pr)+hr:hr}var Sc=function(hr,cr){var pr=cr.filter(Bs),Ar=pr[0],Dr=pr[1],$r=pr[2],Yr=pr[3],cn=(Ar.type===17?Ea(Ar.number):Ju.parse(hr,Ar))/(Math.PI*2),un=ks(Dr)?Dr.number/100:0,Tn=ks($r)?$r.number/100:0,Bn=typeof Yr<"u"&&ks(Yr)?Ms(Yr,1):1;if(un===0)return Io(Tn*255,Tn*255,Tn*255,1);var Ln=Tn<=.5?Tn*(un+1):Tn+un-Tn*un,ai=Tn*2-Ln,Hi=Ka(ai,Ln,cn+1/3),Fi=Ka(ai,Ln,cn),ki=Ka(ai,Ln,cn-1/3);return Io(Hi*255,Fi*255,ki*255,Bn)},qo={hsl:Sc,hsla:Sc,rgb:jo,rgba:jo},Lo=function(hr,cr){return da.parse(hr,en.create(cr).parseComponentValue())},Ao={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ll={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(hr,cr){return cr.map(function(pr){if(si(pr))switch(pr.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Pa={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Yo=function(hr,cr){var pr=da.parse(hr,cr[0]),Ar=cr[1];return Ar&&ks(Ar)?{color:pr,stop:Ar}:{color:pr,stop:null}},Oa=function(hr,cr){var pr=hr[0],Ar=hr[hr.length-1];pr.stop===null&&(pr.stop=Aa),Ar.stop===null&&(Ar.stop=Go);for(var Dr=[],$r=0,Yr=0;Yr<hr.length;Yr++){var cn=hr[Yr].stop;if(cn!==null){var un=Ms(cn,cr);un>$r?Dr.push(un):Dr.push($r),$r=un}else Dr.push(null)}for(var Tn=null,Yr=0;Yr<Dr.length;Yr++){var Bn=Dr[Yr];if(Bn===null)Tn===null&&(Tn=Yr);else if(Tn!==null){for(var Ln=Yr-Tn,ai=Dr[Tn-1],Hi=(Bn-ai)/(Ln+1),Fi=1;Fi<=Ln;Fi++)Dr[Tn+Fi-1]=Hi*Fi;Tn=null}}return hr.map(function(ki,vs){var Xi=ki.color;return{color:Xi,stop:Math.max(Math.min(1,Dr[vs]/cr),0)}})},Xo=function(hr,cr,pr){var Ar=cr/2,Dr=pr/2,$r=Ms(hr[0],cr)-Ar,Yr=Dr-Ms(hr[1],pr);return(Math.atan2(Yr,$r)+Math.PI*2)%(Math.PI*2)},Au=function(hr,cr,pr){var Ar=typeof hr=="number"?hr:Xo(hr,cr,pr),Dr=Math.abs(cr*Math.sin(Ar))+Math.abs(pr*Math.cos(Ar)),$r=cr/2,Yr=pr/2,cn=Dr/2,un=Math.sin(Ar-Math.PI/2)*cn,Tn=Math.cos(Ar-Math.PI/2)*cn;return[Dr,$r-Tn,$r+Tn,Yr-un,Yr+un]},Ha=function(hr,cr){return Math.sqrt(hr*hr+cr*cr)},pu=function(hr,cr,pr,Ar,Dr){var $r=[[0,0],[0,cr],[hr,0],[hr,cr]];return $r.reduce(function(Yr,cn){var un=cn[0],Tn=cn[1],Bn=Ha(pr-un,Ar-Tn);return(Dr?Bn<Yr.optimumDistance:Bn>Yr.optimumDistance)?{optimumCorner:cn,optimumDistance:Bn}:Yr},{optimumDistance:Dr?1/0:-1/0,optimumCorner:null}).optimumCorner},Yc=function(hr,cr,pr,Ar,Dr){var $r=0,Yr=0;switch(hr.size){case 0:hr.shape===0?$r=Yr=Math.min(Math.abs(cr),Math.abs(cr-Ar),Math.abs(pr),Math.abs(pr-Dr)):hr.shape===1&&($r=Math.min(Math.abs(cr),Math.abs(cr-Ar)),Yr=Math.min(Math.abs(pr),Math.abs(pr-Dr)));break;case 2:if(hr.shape===0)$r=Yr=Math.min(Ha(cr,pr),Ha(cr,pr-Dr),Ha(cr-Ar,pr),Ha(cr-Ar,pr-Dr));else if(hr.shape===1){var cn=Math.min(Math.abs(pr),Math.abs(pr-Dr))/Math.min(Math.abs(cr),Math.abs(cr-Ar)),un=pu(Ar,Dr,cr,pr,!0),Tn=un[0],Bn=un[1];$r=Ha(Tn-cr,(Bn-pr)/cn),Yr=cn*$r}break;case 1:hr.shape===0?$r=Yr=Math.max(Math.abs(cr),Math.abs(cr-Ar),Math.abs(pr),Math.abs(pr-Dr)):hr.shape===1&&($r=Math.max(Math.abs(cr),Math.abs(cr-Ar)),Yr=Math.max(Math.abs(pr),Math.abs(pr-Dr)));break;case 3:if(hr.shape===0)$r=Yr=Math.max(Ha(cr,pr),Ha(cr,pr-Dr),Ha(cr-Ar,pr),Ha(cr-Ar,pr-Dr));else if(hr.shape===1){var cn=Math.max(Math.abs(pr),Math.abs(pr-Dr))/Math.max(Math.abs(cr),Math.abs(cr-Ar)),Ln=pu(Ar,Dr,cr,pr,!1),Tn=Ln[0],Bn=Ln[1];$r=Ha(Tn-cr,(Bn-pr)/cn),Yr=cn*$r}break}return Array.isArray(hr.size)&&($r=Ms(hr.size[0],Ar),Yr=hr.size.length===2?Ms(hr.size[1],Dr):$r),[$r,Yr]},Xc=function(hr,cr){var pr=Ea(180),Ar=[];return Ts(cr).forEach(function(Dr,$r){if($r===0){var Yr=Dr[0];if(Yr.type===20&&Yr.value==="to"){pr=Ed(Dr);return}else if(Zu(Yr)){pr=Ju.parse(hr,Yr);return}}var cn=Yo(hr,Dr);Ar.push(cn)}),{angle:pr,stops:Ar,type:1}},Ul=function(hr,cr){var pr=Ea(180),Ar=[];return Ts(cr).forEach(function(Dr,$r){if($r===0){var Yr=Dr[0];if(Yr.type===20&&["top","left","right","bottom"].indexOf(Yr.value)!==-1){pr=Ed(Dr);return}else if(Zu(Yr)){pr=(Ju.parse(hr,Yr)+Ea(270))%Ea(360);return}}var cn=Yo(hr,Dr);Ar.push(cn)}),{angle:pr,stops:Ar,type:1}},mu=function(hr,cr){var pr=Ea(180),Ar=[],Dr=1,$r=0,Yr=3,cn=[];return Ts(cr).forEach(function(un,Tn){var Bn=un[0];if(Tn===0){if(si(Bn)&&Bn.value==="linear"){Dr=1;return}else if(si(Bn)&&Bn.value==="radial"){Dr=2;return}}if(Bn.type===18){if(Bn.name==="from"){var Ln=da.parse(hr,Bn.values[0]);Ar.push({stop:Aa,color:Ln})}else if(Bn.name==="to"){var Ln=da.parse(hr,Bn.values[0]);Ar.push({stop:Go,color:Ln})}else if(Bn.name==="color-stop"){var ai=Bn.values.filter(Bs);if(ai.length===2){var Ln=da.parse(hr,ai[1]),Hi=ai[0];Un(Hi)&&Ar.push({stop:{type:16,number:Hi.number*100,flags:Hi.flags},color:Ln})}}}}),Dr===1?{angle:(pr+Ea(180))%Ea(360),stops:Ar,type:Dr}:{size:Yr,shape:$r,stops:Ar,position:cn,type:Dr}},gu="closest-side",Cc="farthest-side",sc="closest-corner",Jc="farthest-corner",wa="circle",Jo="ellipse",ws="cover",Ss="contain",ca=function(hr,cr){var pr=0,Ar=3,Dr=[],$r=[];return Ts(cr).forEach(function(Yr,cn){var un=!0;if(cn===0){var Tn=!1;un=Yr.reduce(function(Ln,ai){if(Tn)if(si(ai))switch(ai.value){case"center":return $r.push(Kc),Ln;case"top":case"left":return $r.push(Aa),Ln;case"right":case"bottom":return $r.push(Go),Ln}else(ks(ai)||Js(ai))&&$r.push(ai);else if(si(ai))switch(ai.value){case wa:return pr=0,!1;case Jo:return pr=1,!1;case"at":return Tn=!0,!1;case gu:return Ar=0,!1;case ws:case Cc:return Ar=1,!1;case Ss:case sc:return Ar=2,!1;case Jc:return Ar=3,!1}else if(Js(ai)||ks(ai))return Array.isArray(Ar)||(Ar=[]),Ar.push(ai),!1;return Ln},un)}if(un){var Bn=Yo(hr,Yr);Dr.push(Bn)}}),{size:Ar,shape:pr,stops:Dr,position:$r,type:2}},pa=function(hr,cr){var pr=0,Ar=3,Dr=[],$r=[];return Ts(cr).forEach(function(Yr,cn){var un=!0;if(cn===0?un=Yr.reduce(function(Bn,Ln){if(si(Ln))switch(Ln.value){case"center":return $r.push(Kc),!1;case"top":case"left":return $r.push(Aa),!1;case"right":case"bottom":return $r.push(Go),!1}else if(ks(Ln)||Js(Ln))return $r.push(Ln),!1;return Bn},un):cn===1&&(un=Yr.reduce(function(Bn,Ln){if(si(Ln))switch(Ln.value){case wa:return pr=0,!1;case Jo:return pr=1,!1;case Ss:case gu:return Ar=0,!1;case Cc:return Ar=1,!1;case sc:return Ar=2,!1;case ws:case Jc:return Ar=3,!1}else if(Js(Ln)||ks(Ln))return Array.isArray(Ar)||(Ar=[]),Ar.push(Ln),!1;return Bn},un)),un){var Tn=Yo(hr,Yr);Dr.push(Tn)}}),{size:Ar,shape:pr,stops:Dr,position:$r,type:2}},El=function(hr){return hr.type===1},Zc=function(hr){return hr.type===2},ac={name:"image",parse:function(hr,cr){if(cr.type===22){var pr={url:cr.value,type:0};return hr.cache.addImage(cr.value),pr}if(cr.type===18){var Ar=wd[cr.name];if(typeof Ar>"u")throw new Error('Attempting to parse an unsupported image function "'+cr.name+'"');return Ar(hr,cr.values)}throw new Error("Unsupported image type "+cr.type)}};function Tc(hr){return!(hr.type===20&&hr.value==="none")&&(hr.type!==18||!!wd[hr.name])}var wd={"linear-gradient":Xc,"-moz-linear-gradient":Ul,"-ms-linear-gradient":Ul,"-o-linear-gradient":Ul,"-webkit-linear-gradient":Ul,"radial-gradient":ca,"-moz-radial-gradient":pa,"-ms-radial-gradient":pa,"-o-radial-gradient":pa,"-webkit-radial-gradient":pa,"-webkit-gradient":mu},xu={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(hr,cr){if(cr.length===0)return[];var pr=cr[0];return pr.type===20&&pr.value==="none"?[]:cr.filter(function(Ar){return Bs(Ar)&&Tc(Ar)}).map(function(Ar){return ac.parse(hr,Ar)})}},po={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(hr,cr){return cr.map(function(pr){if(si(pr))switch(pr.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},wl={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(hr,cr){return Ts(cr).map(function(pr){return pr.filter(ks)}).map(Ml)}},Bo={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(hr,cr){return Ts(cr).map(function(pr){return pr.filter(si).map(function(Ar){return Ar.value}).join(" ")}).map(ed)}},ed=function(hr){switch(hr){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Uo;(function(hr){hr.AUTO="auto",hr.CONTAIN="contain",hr.COVER="cover"})(Uo||(Uo={}));var Sd={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(hr,cr){return Ts(cr).map(function(pr){return pr.filter(vu)})}},vu=function(hr){return si(hr)||ks(hr)},Sl=function(hr){return{name:"border-"+hr+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},qd=Sl("top"),Cd=Sl("right"),eu=Sl("bottom"),Rc=Sl("left"),Pc=function(hr){return{name:"border-radius-"+hr,initialValue:"0 0",prefix:!1,type:1,parse:function(cr,pr){return Ml(pr.filter(ks))}}},Yd=Pc("top-left"),Cl=Pc("top-right"),ll=Pc("bottom-right"),yu=Pc("bottom-left"),Tl=function(hr){return{name:"border-"+hr+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(cr,pr){switch(pr){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ic=Tl("top"),bu=Tl("right"),nh=Tl("bottom"),Td=Tl("left"),tu=function(hr){return{name:"border-"+hr+"-width",initialValue:"0",type:0,prefix:!1,parse:function(cr,pr){return Pn(pr)?pr.number:0}}},Ga=tu("top"),Ia=tu("right"),zs=tu("bottom"),ru=tu("left"),oc={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Cf={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(hr,cr){switch(cr){case"rtl":return 1;case"ltr":default:return 0}}},_u={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(hr,cr){return cr.filter(si).reduce(function(pr,Ar){return pr|ih(Ar.value)},0)}},ih=function(hr){switch(hr){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},jc={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(hr,cr){switch(cr){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},$o={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(hr,cr){return cr.type===20&&cr.value==="normal"?0:cr.type===17||cr.type===15?cr.number:0}},No;(function(hr){hr.NORMAL="normal",hr.STRICT="strict"})(No||(No={}));var sh={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(hr,cr){switch(cr){case"strict":return No.STRICT;case"normal":default:return No.NORMAL}}},rd={name:"line-height",initialValue:"normal",prefix:!1,type:4},$l=function(hr,cr){return si(hr)&&hr.value==="normal"?1.2*cr:hr.type===17?cr*hr.number:ks(hr)?Ms(hr,cr):cr},mo={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(hr,cr){return cr.type===20&&cr.value==="none"?null:ac.parse(hr,cr)}},Bc={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(hr,cr){switch(cr){case"inside":return 0;case"outside":default:return 1}}},cc={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(hr,cr){switch(cr){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},cl=function(hr){return{name:"margin-"+hr,initialValue:"0",prefix:!1,type:4}},Xd=cl("top"),Jd=cl("right"),nd=cl("bottom"),Zd=cl("left"),uc={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(hr,cr){return cr.filter(si).map(function(pr){switch(pr.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},qa={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(hr,cr){switch(cr){case"break-word":return"break-word";case"normal":default:return"normal"}}},Vl=function(hr){return{name:"padding-"+hr,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},ef=Vl("top"),Dh=Vl("right"),ah=Vl("bottom"),Fh=Vl("left"),Ya={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(hr,cr){switch(cr){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Tf={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(hr,cr){switch(cr){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Rd={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(hr,cr){return cr.length===1&&Es(cr[0],"none")?[]:Ts(cr).map(function(pr){for(var Ar={color:Ao.TRANSPARENT,offsetX:Aa,offsetY:Aa,blur:Aa},Dr=0,$r=0;$r<pr.length;$r++){var Yr=pr[$r];Js(Yr)?(Dr===0?Ar.offsetX=Yr:Dr===1?Ar.offsetY=Yr:Ar.blur=Yr,Dr++):Ar.color=da.parse(hr,Yr)}return Ar})}},Pd={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(hr,cr){switch(cr){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Rf={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(hr,cr){if(cr.type===20&&cr.value==="none")return null;if(cr.type===18){var pr=Oh[cr.name];if(typeof pr>"u")throw new Error('Attempting to parse an unsupported transform function "'+cr.name+'"');return pr(cr.values)}return null}},Eu=function(hr){var cr=hr.filter(function(pr){return pr.type===17}).map(function(pr){return pr.number});return cr.length===6?cr:null},Nc=function(hr){var cr=hr.filter(function(un){return un.type===17}).map(function(un){return un.number}),pr=cr[0],Ar=cr[1];cr[2],cr[3];var Dr=cr[4],$r=cr[5];cr[6],cr[7],cr[8],cr[9],cr[10],cr[11];var Yr=cr[12],cn=cr[13];return cr[14],cr[15],cr.length===16?[pr,Ar,Dr,$r,Yr,cn]:null},Oh={matrix:Eu,matrix3d:Nc},Pf={type:16,number:50,flags:gs},oh=[Pf,Pf],lr={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(hr,cr){var pr=cr.filter(ks);return pr.length!==2?oh:[pr[0],pr[1]]}},gr={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(hr,cr){switch(cr){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Ir;(function(hr){hr.NORMAL="normal",hr.BREAK_ALL="break-all",hr.KEEP_ALL="keep-all"})(Ir||(Ir={}));for(var Mr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(hr,cr){switch(cr){case"break-all":return Ir.BREAK_ALL;case"keep-all":return Ir.KEEP_ALL;case"normal":default:return Ir.NORMAL}}},Qr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(hr,cr){if(cr.type===20)return{auto:!0,order:0};if(Un(cr))return{auto:!1,order:cr.number};throw new Error("Invalid z-index number parsed")}},Gr={name:"time",parse:function(hr,cr){if(cr.type===15)switch(cr.unit.toLowerCase()){case"s":return 1e3*cr.number;case"ms":return cr.number}throw new Error("Unsupported time type")}},Xr={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(hr,cr){return Un(cr)?cr.number:1}},tn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(hr,cr){return cr.filter(si).map(function(pr){switch(pr.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(pr){return pr!==0})}},dn={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(hr,cr){var pr=[],Ar=[];return cr.forEach(function(Dr){switch(Dr.type){case 20:case 0:pr.push(Dr.value);break;case 17:pr.push(Dr.number.toString());break;case 4:Ar.push(pr.join(" ")),pr.length=0;break}}),pr.length&&Ar.push(pr.join(" ")),Ar.map(function(Dr){return Dr.indexOf(" ")===-1?Dr:"'"+Dr+"'"})}},wn={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Hn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(hr,cr){if(Un(cr))return cr.number;if(si(cr))switch(cr.value){case"bold":return 700;case"normal":default:return 400}return 400}},$n={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(hr,cr){return cr.filter(si).map(function(pr){return pr.value})}},Fn={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(hr,cr){switch(cr){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ii=function(hr,cr){return(hr&cr)!==0},Zn={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(hr,cr){if(cr.length===0)return[];var pr=cr[0];return pr.type===20&&pr.value==="none"?[]:cr}},Sn={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(hr,cr){if(cr.length===0)return null;var pr=cr[0];if(pr.type===20&&pr.value==="none")return null;for(var Ar=[],Dr=cr.filter(As),$r=0;$r<Dr.length;$r++){var Yr=Dr[$r],cn=Dr[$r+1];if(Yr.type===20){var un=cn&&Un(cn)?cn.number:1;Ar.push({counter:Yr.value,increment:un})}}return Ar}},In={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(hr,cr){if(cr.length===0)return[];for(var pr=[],Ar=cr.filter(As),Dr=0;Dr<Ar.length;Dr++){var $r=Ar[Dr],Yr=Ar[Dr+1];if(si($r)&&$r.value!=="none"){var cn=Yr&&Un(Yr)?Yr.number:0;pr.push({counter:$r.value,reset:cn})}}return pr}},li={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(hr,cr){return cr.filter(Pn).map(function(pr){return Gr.parse(hr,pr)})}},Ai={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(hr,cr){if(cr.length===0)return null;var pr=cr[0];if(pr.type===20&&pr.value==="none")return null;var Ar=[],Dr=cr.filter(os);if(Dr.length%2!==0)return null;for(var $r=0;$r<Dr.length;$r+=2){var Yr=Dr[$r].value,cn=Dr[$r+1].value;Ar.push({open:Yr,close:cn})}return Ar}},ui=function(hr,cr,pr){if(!hr)return"";var Ar=hr[Math.min(cr,hr.length-1)];return Ar?pr?Ar.open:Ar.close:""},Ki={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(hr,cr){return cr.length===1&&Es(cr[0],"none")?[]:Ts(cr).map(function(pr){for(var Ar={color:255,offsetX:Aa,offsetY:Aa,blur:Aa,spread:Aa,inset:!1},Dr=0,$r=0;$r<pr.length;$r++){var Yr=pr[$r];Es(Yr,"inset")?Ar.inset=!0:Js(Yr)?(Dr===0?Ar.offsetX=Yr:Dr===1?Ar.offsetY=Yr:Dr===2?Ar.blur=Yr:Ar.spread=Yr,Dr++):Ar.color=da.parse(hr,Yr)}return Ar})}},Ui={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(hr,cr){var pr=[0,1,2],Ar=[];return cr.filter(si).forEach(function(Dr){switch(Dr.value){case"stroke":Ar.push(1);break;case"fill":Ar.push(0);break;case"markers":Ar.push(2);break}}),pr.forEach(function(Dr){Ar.indexOf(Dr)===-1&&Ar.push(Dr)}),Ar}},es={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Vi={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(hr,cr){return Pn(cr)?cr.number:0}},Vs=(function(){function hr(cr,pr){var Ar,Dr;this.animationDuration=yi(cr,li,pr.animationDuration),this.backgroundClip=yi(cr,Ll,pr.backgroundClip),this.backgroundColor=yi(cr,Pa,pr.backgroundColor),this.backgroundImage=yi(cr,xu,pr.backgroundImage),this.backgroundOrigin=yi(cr,po,pr.backgroundOrigin),this.backgroundPosition=yi(cr,wl,pr.backgroundPosition),this.backgroundRepeat=yi(cr,Bo,pr.backgroundRepeat),this.backgroundSize=yi(cr,Sd,pr.backgroundSize),this.borderTopColor=yi(cr,qd,pr.borderTopColor),this.borderRightColor=yi(cr,Cd,pr.borderRightColor),this.borderBottomColor=yi(cr,eu,pr.borderBottomColor),this.borderLeftColor=yi(cr,Rc,pr.borderLeftColor),this.borderTopLeftRadius=yi(cr,Yd,pr.borderTopLeftRadius),this.borderTopRightRadius=yi(cr,Cl,pr.borderTopRightRadius),this.borderBottomRightRadius=yi(cr,ll,pr.borderBottomRightRadius),this.borderBottomLeftRadius=yi(cr,yu,pr.borderBottomLeftRadius),this.borderTopStyle=yi(cr,Ic,pr.borderTopStyle),this.borderRightStyle=yi(cr,bu,pr.borderRightStyle),this.borderBottomStyle=yi(cr,nh,pr.borderBottomStyle),this.borderLeftStyle=yi(cr,Td,pr.borderLeftStyle),this.borderTopWidth=yi(cr,Ga,pr.borderTopWidth),this.borderRightWidth=yi(cr,Ia,pr.borderRightWidth),this.borderBottomWidth=yi(cr,zs,pr.borderBottomWidth),this.borderLeftWidth=yi(cr,ru,pr.borderLeftWidth),this.boxShadow=yi(cr,Ki,pr.boxShadow),this.color=yi(cr,oc,pr.color),this.direction=yi(cr,Cf,pr.direction),this.display=yi(cr,_u,pr.display),this.float=yi(cr,jc,pr.cssFloat),this.fontFamily=yi(cr,dn,pr.fontFamily),this.fontSize=yi(cr,wn,pr.fontSize),this.fontStyle=yi(cr,Fn,pr.fontStyle),this.fontVariant=yi(cr,$n,pr.fontVariant),this.fontWeight=yi(cr,Hn,pr.fontWeight),this.letterSpacing=yi(cr,$o,pr.letterSpacing),this.lineBreak=yi(cr,sh,pr.lineBreak),this.lineHeight=yi(cr,rd,pr.lineHeight),this.listStyleImage=yi(cr,mo,pr.listStyleImage),this.listStylePosition=yi(cr,Bc,pr.listStylePosition),this.listStyleType=yi(cr,cc,pr.listStyleType),this.marginTop=yi(cr,Xd,pr.marginTop),this.marginRight=yi(cr,Jd,pr.marginRight),this.marginBottom=yi(cr,nd,pr.marginBottom),this.marginLeft=yi(cr,Zd,pr.marginLeft),this.opacity=yi(cr,Xr,pr.opacity);var $r=yi(cr,uc,pr.overflow);this.overflowX=$r[0],this.overflowY=$r[$r.length>1?1:0],this.overflowWrap=yi(cr,qa,pr.overflowWrap),this.paddingTop=yi(cr,ef,pr.paddingTop),this.paddingRight=yi(cr,Dh,pr.paddingRight),this.paddingBottom=yi(cr,ah,pr.paddingBottom),this.paddingLeft=yi(cr,Fh,pr.paddingLeft),this.paintOrder=yi(cr,Ui,pr.paintOrder),this.position=yi(cr,Tf,pr.position),this.textAlign=yi(cr,Ya,pr.textAlign),this.textDecorationColor=yi(cr,tn,(Ar=pr.textDecorationColor)!==null&&Ar!==void 0?Ar:pr.color),this.textDecorationLine=yi(cr,nn,(Dr=pr.textDecorationLine)!==null&&Dr!==void 0?Dr:pr.textDecoration),this.textShadow=yi(cr,Rd,pr.textShadow),this.textTransform=yi(cr,Pd,pr.textTransform),this.transform=yi(cr,Rf,pr.transform),this.transformOrigin=yi(cr,lr,pr.transformOrigin),this.visibility=yi(cr,gr,pr.visibility),this.webkitTextStrokeColor=yi(cr,es,pr.webkitTextStrokeColor),this.webkitTextStrokeWidth=yi(cr,Vi,pr.webkitTextStrokeWidth),this.wordBreak=yi(cr,Mr,pr.wordBreak),this.zIndex=yi(cr,Qr,pr.zIndex)}return hr.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},hr.prototype.isTransparent=function(){return Mo(this.backgroundColor)},hr.prototype.isTransformed=function(){return this.transform!==null},hr.prototype.isPositioned=function(){return this.position!==0},hr.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},hr.prototype.isFloating=function(){return this.float!==0},hr.prototype.isInlineLevel=function(){return ii(this.display,4)||ii(this.display,33554432)||ii(this.display,268435456)||ii(this.display,536870912)||ii(this.display,67108864)||ii(this.display,134217728)},hr})(),Ks=(function(){function hr(cr,pr){this.content=yi(cr,Zn,pr.content),this.quotes=yi(cr,Ai,pr.quotes)}return hr})(),bs=(function(){function hr(cr,pr){this.counterIncrement=yi(cr,Sn,pr.counterIncrement),this.counterReset=yi(cr,In,pr.counterReset)}return hr})(),yi=function(hr,cr,pr){var Ar=new Ur,Dr=pr!==null&&typeof pr<"u"?pr.toString():cr.initialValue;Ar.write(Dr);var $r=new en(Ar.read());switch(cr.type){case 2:var Yr=$r.parseComponentValue();return cr.parse(hr,si(Yr)?Yr.value:cr.initialValue);case 0:return cr.parse(hr,$r.parseComponentValue());case 1:return cr.parse(hr,$r.parseComponentValues());case 4:return $r.parseComponentValue();case 3:switch(cr.format){case"angle":return Ju.parse(hr,$r.parseComponentValue());case"color":return da.parse(hr,$r.parseComponentValue());case"image":return ac.parse(hr,$r.parseComponentValue());case"length":var cn=$r.parseComponentValue();return Js(cn)?cn:Aa;case"length-percentage":var un=$r.parseComponentValue();return ks(un)?un:Aa;case"time":return Gr.parse(hr,$r.parseComponentValue())}break}},Zs="data-html2canvas-debug",Gs=function(hr){var cr=hr.getAttribute(Zs);switch(cr){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},fs=function(hr,cr){var pr=Gs(hr);return pr===1||cr===pr},Is=(function(){function hr(cr,pr){if(this.context=cr,this.textNodes=[],this.elements=[],this.flags=0,fs(pr,3))debugger;this.styles=new Vs(cr,window.getComputedStyle(pr,null)),Za(pr)&&(this.styles.animationDuration.some(function(Ar){return Ar>0})&&(pr.style.animationDuration="0s"),this.styles.transform!==null&&(pr.style.transform="none")),this.bounds=Ue(this.context,pr),fs(pr,4)&&(this.flags|=16)}return hr})(),ns="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ls="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rs=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ns=0;Ns<ls.length;Ns++)Rs[ls.charCodeAt(Ns)]=Ns;for(var go=function(hr){var cr=hr.length*.75,pr=hr.length,Ar,Dr=0,$r,Yr,cn,un;hr[hr.length-1]==="="&&(cr--,hr[hr.length-2]==="="&&cr--);var Tn=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(cr):new Array(cr),Bn=Array.isArray(Tn)?Tn:new Uint8Array(Tn);for(Ar=0;Ar<pr;Ar+=4)$r=Rs[hr.charCodeAt(Ar)],Yr=Rs[hr.charCodeAt(Ar+1)],cn=Rs[hr.charCodeAt(Ar+2)],un=Rs[hr.charCodeAt(Ar+3)],Bn[Dr++]=$r<<2|Yr>>4,Bn[Dr++]=(Yr&15)<<4|cn>>2,Bn[Dr++]=(cn&3)<<6|un&63;return Tn},Xa=function(hr){for(var cr=hr.length,pr=[],Ar=0;Ar<cr;Ar+=2)pr.push(hr[Ar+1]<<8|hr[Ar]);return pr},Ma=function(hr){for(var cr=hr.length,pr=[],Ar=0;Ar<cr;Ar+=4)pr.push(hr[Ar+3]<<24|hr[Ar+2]<<16|hr[Ar+1]<<8|hr[Ar]);return pr},ia=5,ja=11,Zo=2,qs=ja-ia,La=65536>>ia,Hl=1<<ia,dc=Hl-1,wu=1024>>ia,nu=La+wu,ma=nu,Id=32,tf=ma+Id,Vo=65536>>ja,Sa=1<<qs,Su=Sa-1,Dc=function(hr,cr,pr){return hr.slice?hr.slice(cr,pr):new Uint16Array(Array.prototype.slice.call(hr,cr,pr))},el=function(hr,cr,pr){return hr.slice?hr.slice(cr,pr):new Uint32Array(Array.prototype.slice.call(hr,cr,pr))},iu=function(hr,cr){var pr=go(hr),Ar=Array.isArray(pr)?Ma(pr):new Uint32Array(pr),Dr=Array.isArray(pr)?Xa(pr):new Uint16Array(pr),$r=24,Yr=Dc(Dr,$r/2,Ar[4]/2),cn=Ar[5]===2?Dc(Dr,($r+Ar[4])/2):el(Ar,Math.ceil(($r+Ar[4])/4));return new tl(Ar[0],Ar[1],Ar[2],Ar[3],Yr,cn)},tl=(function(){function hr(cr,pr,Ar,Dr,$r,Yr){this.initialValue=cr,this.errorValue=pr,this.highStart=Ar,this.highValueIndex=Dr,this.index=$r,this.data=Yr}return hr.prototype.get=function(cr){var pr;if(cr>=0){if(cr<55296||cr>56319&&cr<=65535)return pr=this.index[cr>>ia],pr=(pr<<Zo)+(cr&dc),this.data[pr];if(cr<=65535)return pr=this.index[La+(cr-55296>>ia)],pr=(pr<<Zo)+(cr&dc),this.data[pr];if(cr<this.highStart)return pr=tf-Vo+(cr>>ja),pr=this.index[pr],pr+=cr>>ia&Su,pr=this.index[pr],pr=(pr<<Zo)+(cr&dc),this.data[pr];if(cr<=1114111)return this.data[this.highValueIndex]}return this.errorValue},hr})(),sd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ad=typeof Uint8Array>"u"?[]:new Uint8Array(256),Cu=0;Cu<sd.length;Cu++)ad[sd.charCodeAt(Cu)]=Cu;var jd=1,od=2,Tu=3,Ru=4,If=5,lh=7,ld=8,Ql=9,jf=10,Bf=11,Nf=12,rf=13,Pu=14,Bd=15,Df=function(hr){for(var cr=[],pr=0,Ar=hr.length;pr<Ar;){var Dr=hr.charCodeAt(pr++);if(Dr>=55296&&Dr<=56319&&pr<Ar){var $r=hr.charCodeAt(pr++);($r&64512)===56320?cr.push(((Dr&1023)<<10)+($r&1023)+65536):(cr.push(Dr),pr--)}else cr.push(Dr)}return cr},Nd=function(){for(var hr=[],cr=0;cr<arguments.length;cr++)hr[cr]=arguments[cr];if(String.fromCodePoint)return String.fromCodePoint.apply(String,hr);var pr=hr.length;if(!pr)return"";for(var Ar=[],Dr=-1,$r="";++Dr<pr;){var Yr=hr[Dr];Yr<=65535?Ar.push(Yr):(Yr-=65536,Ar.push((Yr>>10)+55296,Yr%1024+56320)),(Dr+1===pr||Ar.length>16384)&&($r+=String.fromCharCode.apply(String,Ar),Ar.length=0)}return $r},nf=iu(ns),yo="",sf="",ch=function(hr){return nf.get(hr)},Fc=function(hr,cr,pr){var Ar=pr-2,Dr=cr[Ar],$r=cr[pr-1],Yr=cr[pr];if($r===od&&Yr===Tu)return yo;if($r===od||$r===Tu||$r===Ru||Yr===od||Yr===Tu||Yr===Ru)return sf;if($r===ld&&[ld,Ql,Bf,Nf].indexOf(Yr)!==-1||($r===Bf||$r===Ql)&&(Yr===Ql||Yr===jf)||($r===Nf||$r===jf)&&Yr===jf||Yr===rf||Yr===If||Yr===lh||$r===jd)return yo;if($r===rf&&Yr===Pu){for(;Dr===If;)Dr=cr[--Ar];if(Dr===Pu)return yo}if($r===Bd&&Yr===Bd){for(var cn=0;Dr===Bd;)cn++,Dr=cr[--Ar];if(cn%2===0)return yo}return sf},Dd=function(hr){var cr=Df(hr),pr=cr.length,Ar=0,Dr=0,$r=cr.map(ch);return{next:function(){if(Ar>=pr)return{done:!0,value:null};for(var Yr=yo;Ar<pr&&(Yr=Fc(cr,$r,++Ar))===yo;);if(Yr!==yo||Ar===pr){var cn=Nd.apply(null,cr.slice(Dr,Ar));return Dr=Ar,{value:cn,done:!1}}return{done:!0,value:null}}}},af=function(hr){for(var cr=Dd(hr),pr=[],Ar;!(Ar=cr.next()).done;)Ar.value&&pr.push(Ar.value.slice());return pr},zl=function(hr){var cr=123;if(hr.createRange){var pr=hr.createRange();if(pr.getBoundingClientRect){var Ar=hr.createElement("boundtest");Ar.style.height=cr+"px",Ar.style.display="block",hr.body.appendChild(Ar),pr.selectNode(Ar);var Dr=pr.getBoundingClientRect(),$r=Math.round(Dr.height);if(hr.body.removeChild(Ar),$r===cr)return!0}}return!1},cd=function(hr){var cr=hr.createElement("boundtest");cr.style.width="50px",cr.style.display="block",cr.style.fontSize="12px",cr.style.letterSpacing="0px",cr.style.wordSpacing="0px",hr.body.appendChild(cr);var pr=hr.createRange();cr.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var Ar=cr.firstChild,Dr=He(Ar.data).map(function(un){return Qe(un)}),$r=0,Yr={},cn=Dr.every(function(un,Tn){pr.setStart(Ar,$r),pr.setEnd(Ar,$r+un.length);var Bn=pr.getBoundingClientRect();$r+=un.length;var Ln=Bn.x>Yr.x||Bn.y>Yr.y;return Yr=Bn,Tn===0?!0:Ln});return hr.body.removeChild(cr),cn},Ff=function(){return typeof new Image().crossOrigin<"u"},uh=function(){return typeof new XMLHttpRequest().responseType=="string"},Of=function(hr){var cr=new Image,pr=hr.createElement("canvas"),Ar=pr.getContext("2d");if(!Ar)return!1;cr.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{Ar.drawImage(cr,0,0),pr.toDataURL()}catch{return!1}return!0},su=function(hr){return hr[0]===0&&hr[1]===255&&hr[2]===0&&hr[3]===255},dh=function(hr){var cr=hr.createElement("canvas"),pr=100;cr.width=pr,cr.height=pr;var Ar=cr.getContext("2d");if(!Ar)return Promise.reject(!1);Ar.fillStyle="rgb(0, 255, 0)",Ar.fillRect(0,0,pr,pr);var Dr=new Image,$r=cr.toDataURL();Dr.src=$r;var Yr=Fd(pr,pr,0,0,Dr);return Ar.fillStyle="red",Ar.fillRect(0,0,pr,pr),of(Yr).then(function(cn){Ar.drawImage(cn,0,0);var un=Ar.getImageData(0,0,pr,pr).data;Ar.fillStyle="red",Ar.fillRect(0,0,pr,pr);var Tn=hr.createElement("div");return Tn.style.backgroundImage="url("+$r+")",Tn.style.height=pr+"px",su(un)?of(Fd(pr,pr,0,0,Tn)):Promise.reject(!1)}).then(function(cn){return Ar.drawImage(cn,0,0),su(Ar.getImageData(0,0,pr,pr).data)}).catch(function(){return!1})},Fd=function(hr,cr,pr,Ar,Dr){var $r="http://www.w3.org/2000/svg",Yr=document.createElementNS($r,"svg"),cn=document.createElementNS($r,"foreignObject");return Yr.setAttributeNS(null,"width",hr.toString()),Yr.setAttributeNS(null,"height",cr.toString()),cn.setAttributeNS(null,"width","100%"),cn.setAttributeNS(null,"height","100%"),cn.setAttributeNS(null,"x",pr.toString()),cn.setAttributeNS(null,"y",Ar.toString()),cn.setAttributeNS(null,"externalResourcesRequired","true"),Yr.appendChild(cn),cn.appendChild(Dr),Yr},of=function(hr){return new Promise(function(cr,pr){var Ar=new Image;Ar.onload=function(){return cr(Ar)},Ar.onerror=pr,Ar.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(hr))})},Ja={get SUPPORT_RANGE_BOUNDS(){var hr=zl(document);return Object.defineProperty(Ja,"SUPPORT_RANGE_BOUNDS",{value:hr}),hr},get SUPPORT_WORD_BREAKING(){var hr=Ja.SUPPORT_RANGE_BOUNDS&&cd(document);return Object.defineProperty(Ja,"SUPPORT_WORD_BREAKING",{value:hr}),hr},get SUPPORT_SVG_DRAWING(){var hr=Of(document);return Object.defineProperty(Ja,"SUPPORT_SVG_DRAWING",{value:hr}),hr},get SUPPORT_FOREIGNOBJECT_DRAWING(){var hr=typeof Array.from=="function"&&typeof window.fetch=="function"?dh(document):Promise.resolve(!1);return Object.defineProperty(Ja,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:hr}),hr},get SUPPORT_CORS_IMAGES(){var hr=Ff();return Object.defineProperty(Ja,"SUPPORT_CORS_IMAGES",{value:hr}),hr},get SUPPORT_RESPONSE_TYPE(){var hr=uh();return Object.defineProperty(Ja,"SUPPORT_RESPONSE_TYPE",{value:hr}),hr},get SUPPORT_CORS_XHR(){var hr="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ja,"SUPPORT_CORS_XHR",{value:hr}),hr},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var hr=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ja,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:hr}),hr}},ud=(function(){function hr(cr,pr){this.text=cr,this.bounds=pr}return hr})(),Iu=function(hr,cr,pr,Ar){var Dr=Oc(cr,pr),$r=[],Yr=0;return Dr.forEach(function(cn){if(pr.textDecorationLine.length||cn.trim().length>0)if(Ja.SUPPORT_RANGE_BOUNDS){var un=dd(Ar,Yr,cn.length).getClientRects();if(un.length>1){var Tn=Wl(cn),Bn=0;Tn.forEach(function(ai){$r.push(new ud(ai,Me.fromDOMRectList(hr,dd(Ar,Bn+Yr,ai.length).getClientRects()))),Bn+=ai.length})}else $r.push(new ud(cn,Me.fromDOMRectList(hr,un)))}else{var Ln=Ar.splitText(cn.length);$r.push(new ud(cn,lf(hr,Ar))),Ar=Ln}else Ja.SUPPORT_RANGE_BOUNDS||(Ar=Ar.splitText(cn.length));Yr+=cn.length}),$r},lf=function(hr,cr){var pr=cr.ownerDocument;if(pr){var Ar=pr.createElement("html2canvaswrapper");Ar.appendChild(cr.cloneNode(!0));var Dr=cr.parentNode;if(Dr){Dr.replaceChild(Ar,cr);var $r=Ue(hr,Ar);return Ar.firstChild&&Dr.replaceChild(Ar.firstChild,Ar),$r}}return Me.EMPTY},dd=function(hr,cr,pr){var Ar=hr.ownerDocument;if(!Ar)throw new Error("Node has no owner document");var Dr=Ar.createRange();return Dr.setStart(hr,cr),Dr.setEnd(hr,cr+pr),Dr},Wl=function(hr){if(Ja.SUPPORT_NATIVE_TEXT_SEGMENTATION){var cr=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(cr.segment(hr)).map(function(pr){return pr.segment})}return af(hr)},fc=function(hr,cr){if(Ja.SUPPORT_NATIVE_TEXT_SEGMENTATION){var pr=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(pr.segment(hr)).map(function(Ar){return Ar.segment})}return kd(hr,cr)},Oc=function(hr,cr){return cr.letterSpacing!==0?Wl(hr):fc(hr,cr)},Od=[32,160,4961,65792,65793,4153,4241],kd=function(hr,cr){for(var pr=Ci(hr,{lineBreak:cr.lineBreak,wordBreak:cr.overflowWrap==="break-word"?"break-word":cr.wordBreak}),Ar=[],Dr,$r=function(){if(Dr.value){var Yr=Dr.value.slice(),cn=He(Yr),un="";cn.forEach(function(Tn){Od.indexOf(Tn)===-1?un+=Qe(Tn):(un.length&&Ar.push(un),Ar.push(Qe(Tn)),un="")}),un.length&&Ar.push(un)}};!(Dr=pr.next()).done;)$r();return Ar},kf=(function(){function hr(cr,pr,Ar){this.text=fh(pr.data,Ar.textTransform),this.textBounds=Iu(cr,this.text,Ar,pr)}return hr})(),fh=function(hr,cr){switch(cr){case 1:return hr.toLowerCase();case 3:return hr.replace(Mf,Lf);case 2:return hr.toUpperCase();default:return hr}},Mf=/(^|\s|:|-|\(|\))([a-z])/g,Lf=function(hr,cr,pr){return hr.length>0?cr+pr.toUpperCase():hr},kh=(function(hr){Be(cr,hr);function cr(pr,Ar){var Dr=hr.call(this,pr,Ar)||this;return Dr.src=Ar.currentSrc||Ar.src,Dr.intrinsicWidth=Ar.naturalWidth,Dr.intrinsicHeight=Ar.naturalHeight,Dr.context.cache.addImage(Dr.src),Dr}return cr})(Is),cf=(function(hr){Be(cr,hr);function cr(pr,Ar){var Dr=hr.call(this,pr,Ar)||this;return Dr.canvas=Ar,Dr.intrinsicWidth=Ar.width,Dr.intrinsicHeight=Ar.height,Dr}return cr})(Is),hh=(function(hr){Be(cr,hr);function cr(pr,Ar){var Dr=hr.call(this,pr,Ar)||this,$r=new XMLSerializer,Yr=Ue(pr,Ar);return Ar.setAttribute("width",Yr.width+"px"),Ar.setAttribute("height",Yr.height+"px"),Dr.svg="data:image/svg+xml,"+encodeURIComponent($r.serializeToString(Ar)),Dr.intrinsicWidth=Ar.width.baseVal.value,Dr.intrinsicHeight=Ar.height.baseVal.value,Dr.context.cache.addImage(Dr.svg),Dr}return cr})(Is),Uf=(function(hr){Be(cr,hr);function cr(pr,Ar){var Dr=hr.call(this,pr,Ar)||this;return Dr.value=Ar.value,Dr}return cr})(Is),Ah=(function(hr){Be(cr,hr);function cr(pr,Ar){var Dr=hr.call(this,pr,Ar)||this;return Dr.start=Ar.start,Dr.reversed=typeof Ar.reversed=="boolean"&&Ar.reversed===!0,Dr}return cr})(Is),yA=[{type:15,flags:0,unit:"px",number:3}],ph=[{type:16,flags:0,number:50}],bA=function(hr){return hr.width>hr.height?new Me(hr.left+(hr.width-hr.height)/2,hr.top,hr.height,hr.height):hr.width<hr.height?new Me(hr.left,hr.top+(hr.height-hr.width)/2,hr.width,hr.width):hr},_A=function(hr){var cr=hr.type===$f?new Array(hr.value.length+1).join(""):hr.value;return cr.length===0?hr.placeholder||"":cr},mh="checkbox",ju="radio",$f="password",Vf=707406591,Md=(function(hr){Be(cr,hr);function cr(pr,Ar){var Dr=hr.call(this,pr,Ar)||this;switch(Dr.type=Ar.type.toLowerCase(),Dr.checked=Ar.checked,Dr.value=_A(Ar),(Dr.type===mh||Dr.type===ju)&&(Dr.styles.backgroundColor=3739148031,Dr.styles.borderTopColor=Dr.styles.borderRightColor=Dr.styles.borderBottomColor=Dr.styles.borderLeftColor=2779096575,Dr.styles.borderTopWidth=Dr.styles.borderRightWidth=Dr.styles.borderBottomWidth=Dr.styles.borderLeftWidth=1,Dr.styles.borderTopStyle=Dr.styles.borderRightStyle=Dr.styles.borderBottomStyle=Dr.styles.borderLeftStyle=1,Dr.styles.backgroundClip=[0],Dr.styles.backgroundOrigin=[0],Dr.bounds=bA(Dr.bounds)),Dr.type){case mh:Dr.styles.borderTopRightRadius=Dr.styles.borderTopLeftRadius=Dr.styles.borderBottomRightRadius=Dr.styles.borderBottomLeftRadius=yA;break;case ju:Dr.styles.borderTopRightRadius=Dr.styles.borderTopLeftRadius=Dr.styles.borderBottomRightRadius=Dr.styles.borderBottomLeftRadius=ph;break}return Dr}return cr})(Is),Hf=(function(hr){Be(cr,hr);function cr(pr,Ar){var Dr=hr.call(this,pr,Ar)||this,$r=Ar.options[Ar.selectedIndex||0];return Dr.value=$r&&$r.text||"",Dr}return cr})(Is),Mh=(function(hr){Be(cr,hr);function cr(pr,Ar){var Dr=hr.call(this,pr,Ar)||this;return Dr.value=Ar.value,Dr}return cr})(Is),Lh=(function(hr){Be(cr,hr);function cr(pr,Ar){var Dr=hr.call(this,pr,Ar)||this;Dr.src=Ar.src,Dr.width=parseInt(Ar.width,10)||0,Dr.height=parseInt(Ar.height,10)||0,Dr.backgroundColor=Dr.styles.backgroundColor;try{if(Ar.contentWindow&&Ar.contentWindow.document&&Ar.contentWindow.document.documentElement){Dr.tree=kc(pr,Ar.contentWindow.document.documentElement);var $r=Ar.contentWindow.document.documentElement?Lo(pr,getComputedStyle(Ar.contentWindow.document.documentElement).backgroundColor):Ao.TRANSPARENT,Yr=Ar.contentWindow.document.body?Lo(pr,getComputedStyle(Ar.contentWindow.document.body).backgroundColor):Ao.TRANSPARENT;Dr.backgroundColor=Mo($r)?Mo(Yr)?Dr.styles.backgroundColor:Yr:$r}}catch{}return Dr}return cr})(Is),uf=["OL","UL","MENU"],Qf=function(hr,cr,pr,Ar){for(var Dr=cr.firstChild,$r=void 0;Dr;Dr=$r)if($r=Dr.nextSibling,Bu(Dr)&&Dr.data.trim().length>0)pr.textNodes.push(new kf(hr,Dr,pr.styles));else if(Rl(Dr))if(CA(Dr)&&Dr.assignedNodes)Dr.assignedNodes().forEach(function(cn){return Qf(hr,cn,pr,Ar)});else{var Yr=Kl(hr,Dr);Yr.styles.isVisible()&&(hd(Dr,Yr,Ar)?Yr.flags|=4:EA(Yr.styles)&&(Yr.flags|=2),uf.indexOf(Dr.tagName)!==-1&&(Yr.flags|=8),pr.elements.push(Yr),Dr.slot,Dr.shadowRoot?Qf(hr,Dr.shadowRoot,Yr,Ar):!Wf(Dr)&&!Ad(Dr)&&!Kf(Dr)&&Qf(hr,Dr,Yr,Ar))}},Kl=function(hr,cr){return gh(cr)?new kh(hr,cr):Vh(cr)?new cf(hr,cr):Ad(cr)?new hh(hr,cr):Uh(cr)?new Uf(hr,cr):$h(cr)?new Ah(hr,cr):wA(cr)?new Md(hr,cr):Kf(cr)?new Hf(hr,cr):Wf(cr)?new Mh(hr,cr):zf(cr)?new Lh(hr,cr):new Is(hr,cr)},kc=function(hr,cr){var pr=Kl(hr,cr);return pr.flags|=4,Qf(hr,cr,pr,pr),pr},hd=function(hr,cr,pr){return cr.styles.isPositionedWithZIndex()||cr.styles.opacity<1||cr.styles.isTransformed()||df(hr)&&pr.styles.isTransparent()},EA=function(hr){return hr.isPositioned()||hr.isFloating()},Bu=function(hr){return hr.nodeType===Node.TEXT_NODE},Rl=function(hr){return hr.nodeType===Node.ELEMENT_NODE},Za=function(hr){return Rl(hr)&&typeof hr.style<"u"&&!Ld(hr)},Ld=function(hr){return typeof hr.className=="object"},Uh=function(hr){return hr.tagName==="LI"},$h=function(hr){return hr.tagName==="OL"},wA=function(hr){return hr.tagName==="INPUT"},SA=function(hr){return hr.tagName==="HTML"},Ad=function(hr){return hr.tagName==="svg"},df=function(hr){return hr.tagName==="BODY"},Vh=function(hr){return hr.tagName==="CANVAS"},Hh=function(hr){return hr.tagName==="VIDEO"},gh=function(hr){return hr.tagName==="IMG"},zf=function(hr){return hr.tagName==="IFRAME"},Qh=function(hr){return hr.tagName==="STYLE"},zh=function(hr){return hr.tagName==="SCRIPT"},Wf=function(hr){return hr.tagName==="TEXTAREA"},Kf=function(hr){return hr.tagName==="SELECT"},CA=function(hr){return hr.tagName==="SLOT"},Wh=function(hr){return hr.tagName.indexOf("-")>0},Do=(function(){function hr(){this.counters={}}return hr.prototype.getCounterValue=function(cr){var pr=this.counters[cr];return pr&&pr.length?pr[pr.length-1]:1},hr.prototype.getCounterValues=function(cr){var pr=this.counters[cr];return pr||[]},hr.prototype.pop=function(cr){var pr=this;cr.forEach(function(Ar){return pr.counters[Ar].pop()})},hr.prototype.parse=function(cr){var pr=this,Ar=cr.counterIncrement,Dr=cr.counterReset,$r=!0;Ar!==null&&Ar.forEach(function(cn){var un=pr.counters[cn.counter];un&&cn.increment!==0&&($r=!1,un.length||un.push(1),un[Math.max(0,un.length-1)]+=cn.increment)});var Yr=[];return $r&&Dr.forEach(function(cn){var un=pr.counters[cn.counter];Yr.push(cn.counter),un||(un=pr.counters[cn.counter]=[]),un.push(cn.reset)}),Yr},hr})(),Fo={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Kh={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},TA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},RA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ud=function(hr,cr,pr,Ar,Dr,$r){return hr<cr||hr>pr?Hd(hr,Dr,$r.length>0):Ar.integers.reduce(function(Yr,cn,un){for(;hr>=cn;)hr-=cn,Yr+=Ar.values[un];return Yr},"")+$r},Gh=function(hr,cr,pr,Ar){var Dr="";do pr||hr--,Dr=Ar(hr)+Dr,hr/=cr;while(hr*cr>=cr);return Dr},Ba=function(hr,cr,pr,Ar,Dr){var $r=pr-cr+1;return(hr<0?"-":"")+(Gh(Math.abs(hr),$r,Ar,function(Yr){return Qe(Math.floor(Yr%$r)+cr)})+Dr)},Nu=function(hr,cr,pr){pr===void 0&&(pr=". ");var Ar=cr.length;return Gh(Math.abs(hr),Ar,!1,function(Dr){return cr[Math.floor(Dr%Ar)]})+pr},$d=1,Du=2,Fu=4,Vd=8,Mc=function(hr,cr,pr,Ar,Dr,$r){if(hr<-9999||hr>9999)return Hd(hr,4,Dr.length>0);var Yr=Math.abs(hr),cn=Dr;if(Yr===0)return cr[0]+cn;for(var un=0;Yr>0&&un<=4;un++){var Tn=Yr%10;Tn===0&&ii($r,$d)&&cn!==""?cn=cr[Tn]+cn:Tn>1||Tn===1&&un===0||Tn===1&&un===1&&ii($r,Du)||Tn===1&&un===1&&ii($r,Fu)&&hr>100||Tn===1&&un>1&&ii($r,Vd)?cn=cr[Tn]+(un>0?pr[un-1]:"")+cn:Tn===1&&un>0&&(cn=pr[un-1]+cn),Yr=Math.floor(Yr/10)}return(hr<0?Ar:"")+cn},xh="",qh="",yh="",ff="",Hd=function(hr,cr,pr){var Ar=pr?". ":"",Dr=pr?"":"",$r=pr?", ":"",Yr=pr?" ":"";switch(cr){case 0:return""+Yr;case 1:return""+Yr;case 2:return""+Yr;case 5:var cn=Ba(hr,48,57,!0,Ar);return cn.length<4?"0"+cn:cn;case 4:return Nu(hr,"",Dr);case 6:return Ud(hr,1,3999,Fo,3,Ar).toLowerCase();case 7:return Ud(hr,1,3999,Fo,3,Ar);case 8:return Ba(hr,945,969,!1,Ar);case 9:return Ba(hr,97,122,!1,Ar);case 10:return Ba(hr,65,90,!1,Ar);case 11:return Ba(hr,1632,1641,!0,Ar);case 12:case 49:return Ud(hr,1,9999,Kh,3,Ar);case 35:return Ud(hr,1,9999,Kh,3,Ar).toLowerCase();case 13:return Ba(hr,2534,2543,!0,Ar);case 14:case 30:return Ba(hr,6112,6121,!0,Ar);case 15:return Nu(hr,"",Dr);case 16:return Nu(hr,"",Dr);case 17:case 48:return Mc(hr,"",xh,"",Dr,Du|Fu|Vd);case 47:return Mc(hr,"",qh,"",Dr,$d|Du|Fu|Vd);case 42:return Mc(hr,"",xh,"",Dr,Du|Fu|Vd);case 41:return Mc(hr,"",qh,"",Dr,$d|Du|Fu|Vd);case 26:return Mc(hr,"","",yh,Dr,0);case 25:return Mc(hr,"","",yh,Dr,$d|Du|Fu);case 31:return Mc(hr,"","",ff,$r,$d|Du|Fu);case 33:return Mc(hr,"","",ff,$r,0);case 32:return Mc(hr,"","",ff,$r,$d|Du|Fu);case 18:return Ba(hr,2406,2415,!0,Ar);case 20:return Ud(hr,1,19999,RA,3,Ar);case 21:return Ba(hr,2790,2799,!0,Ar);case 22:return Ba(hr,2662,2671,!0,Ar);case 22:return Ud(hr,1,10999,TA,3,Ar);case 23:return Nu(hr,"");case 24:return Nu(hr,"");case 27:return Ba(hr,3302,3311,!0,Ar);case 28:return Nu(hr,"",Dr);case 29:return Nu(hr,"",Dr);case 34:return Ba(hr,3792,3801,!0,Ar);case 37:return Ba(hr,6160,6169,!0,Ar);case 38:return Ba(hr,4160,4169,!0,Ar);case 39:return Ba(hr,2918,2927,!0,Ar);case 40:return Ba(hr,1776,1785,!0,Ar);case 43:return Ba(hr,3046,3055,!0,Ar);case 44:return Ba(hr,3174,3183,!0,Ar);case 45:return Ba(hr,3664,3673,!0,Ar);case 46:return Ba(hr,3872,3881,!0,Ar);case 3:default:return Ba(hr,48,57,!0,Ar)}},Yh="data-html2canvas-ignore",bh=(function(){function hr(cr,pr,Ar){if(this.context=cr,this.options=Ar,this.scrolledElements=[],this.referenceElement=pr,this.counters=new Do,this.quoteDepth=0,!pr.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(pr.ownerDocument.documentElement,!1)}return hr.prototype.toIFrame=function(cr,pr){var Ar=this,Dr=Ou(cr,pr);if(!Dr.contentWindow)return Promise.reject("Unable to find iframe window");var $r=cr.defaultView.pageXOffset,Yr=cr.defaultView.pageYOffset,cn=Dr.contentWindow,un=cn.document,Tn=PA(Dr).then(function(){return Fe(Ar,void 0,void 0,function(){var Bn,Ln;return Oe(this,function(ai){switch(ai.label){case 0:return this.scrolledElements.forEach(Ua),cn&&(cn.scrollTo(pr.left,pr.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(cn.scrollY!==pr.top||cn.scrollX!==pr.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(cn.scrollX-pr.left,cn.scrollY-pr.top,0,0))),Bn=this.options.onclone,Ln=this.clonedReferenceElement,typeof Ln>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:un.fonts&&un.fonts.ready?[4,un.fonts.ready]:[3,2];case 1:ai.sent(),ai.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,tp(un)]:[3,4];case 3:ai.sent(),ai.label=4;case 4:return typeof Bn=="function"?[2,Promise.resolve().then(function(){return Bn(un,Ln)}).then(function(){return Dr})]:[2,Dr]}})})});return un.open(),un.write(Eh(document.doctype)+"<html></html>"),Gf(this.referenceElement.ownerDocument,$r,Yr),un.replaceChild(un.adoptNode(this.documentElement),un.documentElement),un.close(),Tn},hr.prototype.createElementClone=function(cr){if(fs(cr,2))debugger;if(Vh(cr))return this.createCanvasClone(cr);if(Hh(cr))return this.createVideoClone(cr);if(Qh(cr))return this.createStyleClone(cr);var pr=cr.cloneNode(!1);return gh(pr)&&(gh(cr)&&cr.currentSrc&&cr.currentSrc!==cr.src&&(pr.src=cr.currentSrc,pr.srcset=""),pr.loading==="lazy"&&(pr.loading="eager")),Wh(pr)?this.createCustomElementClone(pr):pr},hr.prototype.createCustomElementClone=function(cr){var pr=document.createElement("html2canvascustomelement");return _h(cr.style,pr),pr},hr.prototype.createStyleClone=function(cr){try{var pr=cr.sheet;if(pr&&pr.cssRules){var Ar=[].slice.call(pr.cssRules,0).reduce(function($r,Yr){return Yr&&typeof Yr.cssText=="string"?$r+Yr.cssText:$r},""),Dr=cr.cloneNode(!1);return Dr.textContent=Ar,Dr}}catch($r){if(this.context.logger.error("Unable to access cssRules property",$r),$r.name!=="SecurityError")throw $r}return cr.cloneNode(!1)},hr.prototype.createCanvasClone=function(cr){var pr;if(this.options.inlineImages&&cr.ownerDocument){var Ar=cr.ownerDocument.createElement("img");try{return Ar.src=cr.toDataURL(),Ar}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",cr)}}var Dr=cr.cloneNode(!1);try{Dr.width=cr.width,Dr.height=cr.height;var $r=cr.getContext("2d"),Yr=Dr.getContext("2d");if(Yr)if(!this.options.allowTaint&&$r)Yr.putImageData($r.getImageData(0,0,cr.width,cr.height),0,0);else{var cn=(pr=cr.getContext("webgl2"))!==null&&pr!==void 0?pr:cr.getContext("webgl");if(cn){var un=cn.getContextAttributes();un?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",cr)}Yr.drawImage(cr,0,0)}return Dr}catch{this.context.logger.info("Unable to clone canvas as it is tainted",cr)}return Dr},hr.prototype.createVideoClone=function(cr){var pr=cr.ownerDocument.createElement("canvas");pr.width=cr.offsetWidth,pr.height=cr.offsetHeight;var Ar=pr.getContext("2d");try{return Ar&&(Ar.drawImage(cr,0,0,pr.width,pr.height),this.options.allowTaint||Ar.getImageData(0,0,pr.width,pr.height)),pr}catch{this.context.logger.info("Unable to clone video as it is tainted",cr)}var Dr=cr.ownerDocument.createElement("canvas");return Dr.width=cr.offsetWidth,Dr.height=cr.offsetHeight,Dr},hr.prototype.appendChildNode=function(cr,pr,Ar){(!Rl(pr)||!zh(pr)&&!pr.hasAttribute(Yh)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(pr)))&&(!this.options.copyStyles||!Rl(pr)||!Qh(pr))&&cr.appendChild(this.cloneNode(pr,Ar))},hr.prototype.cloneChildNodes=function(cr,pr,Ar){for(var Dr=this,$r=cr.shadowRoot?cr.shadowRoot.firstChild:cr.firstChild;$r;$r=$r.nextSibling)if(Rl($r)&&CA($r)&&typeof $r.assignedNodes=="function"){var Yr=$r.assignedNodes();Yr.length&&Yr.forEach(function(cn){return Dr.appendChildNode(pr,cn,Ar)})}else this.appendChildNode(pr,$r,Ar)},hr.prototype.cloneNode=function(cr,pr){if(Bu(cr))return document.createTextNode(cr.data);if(!cr.ownerDocument)return cr.cloneNode(!1);var Ar=cr.ownerDocument.defaultView;if(Ar&&Rl(cr)&&(Za(cr)||Ld(cr))){var Dr=this.createElementClone(cr);Dr.style.transitionProperty="none";var $r=Ar.getComputedStyle(cr),Yr=Ar.getComputedStyle(cr,":before"),cn=Ar.getComputedStyle(cr,":after");this.referenceElement===cr&&Za(Dr)&&(this.clonedReferenceElement=Dr),df(Dr)&&IA(Dr);var un=this.counters.parse(new bs(this.context,$r)),Tn=this.resolvePseudoContent(cr,Dr,Yr,hf.BEFORE);Wh(cr)&&(pr=!0),Hh(cr)||this.cloneChildNodes(cr,Dr,pr),Tn&&Dr.insertBefore(Tn,Dr.firstChild);var Bn=this.resolvePseudoContent(cr,Dr,cn,hf.AFTER);return Bn&&Dr.appendChild(Bn),this.counters.pop(un),($r&&(this.options.copyStyles||Ld(cr))&&!zf(cr)||pr)&&_h($r,Dr),(cr.scrollTop!==0||cr.scrollLeft!==0)&&this.scrolledElements.push([Dr,cr.scrollLeft,cr.scrollTop]),(Wf(cr)||Kf(cr))&&(Wf(Dr)||Kf(Dr))&&(Dr.value=cr.value),Dr}return cr.cloneNode(!1)},hr.prototype.resolvePseudoContent=function(cr,pr,Ar,Dr){var $r=this;if(Ar){var Yr=Ar.content,cn=pr.ownerDocument;if(!(!cn||!Yr||Yr==="none"||Yr==="-moz-alt-content"||Ar.display==="none")){this.counters.parse(new bs(this.context,Ar));var un=new Ks(this.context,Ar),Tn=cn.createElement("html2canvaspseudoelement");_h(Ar,Tn),un.content.forEach(function(Ln){if(Ln.type===0)Tn.appendChild(cn.createTextNode(Ln.value));else if(Ln.type===22){var ai=cn.createElement("img");ai.src=Ln.value,ai.style.opacity="1",Tn.appendChild(ai)}else if(Ln.type===18){if(Ln.name==="attr"){var Hi=Ln.values.filter(si);Hi.length&&Tn.appendChild(cn.createTextNode(cr.getAttribute(Hi[0].value)||""))}else if(Ln.name==="counter"){var Fi=Ln.values.filter(Bs),ki=Fi[0],vs=Fi[1];if(ki&&si(ki)){var Xi=$r.counters.getCounterValue(ki.value),qi=vs&&si(vs)?cc.parse($r.context,vs.value):3;Tn.appendChild(cn.createTextNode(Hd(Xi,qi,!1)))}}else if(Ln.name==="counters"){var Ps=Ln.values.filter(Bs),ki=Ps[0],xs=Ps[1],vs=Ps[2];if(ki&&si(ki)){var cs=$r.counters.getCounterValues(ki.value),Wi=vs&&si(vs)?cc.parse($r.context,vs.value):3,Ls=xs&&xs.type===0?xs.value:"",Us=cs.map(function(nl){return Hd(nl,Wi,!1)}).join(Ls);Tn.appendChild(cn.createTextNode(Us))}}}else if(Ln.type===20)switch(Ln.value){case"open-quote":Tn.appendChild(cn.createTextNode(ui(un.quotes,$r.quoteDepth++,!0)));break;case"close-quote":Tn.appendChild(cn.createTextNode(ui(un.quotes,--$r.quoteDepth,!1)));break;default:Tn.appendChild(cn.createTextNode(Ln.value))}}),Tn.className=wh+" "+Qd;var Bn=Dr===hf.BEFORE?" "+wh:" "+Qd;return Ld(pr)?pr.className.baseValue+=Bn:pr.className+=Bn,Tn}}},hr.destroy=function(cr){return cr.parentNode?(cr.parentNode.removeChild(cr),!0):!1},hr})(),hf;(function(hr){hr[hr.BEFORE=0]="BEFORE",hr[hr.AFTER=1]="AFTER"})(hf||(hf={}));var Ou=function(hr,cr){var pr=hr.createElement("iframe");return pr.className="html2canvas-container",pr.style.visibility="hidden",pr.style.position="fixed",pr.style.left="-10000px",pr.style.top="0px",pr.style.border="0",pr.width=cr.width.toString(),pr.height=cr.height.toString(),pr.scrolling="no",pr.setAttribute(Yh,"true"),hr.body.appendChild(pr),pr},Xh=function(hr){return new Promise(function(cr){if(hr.complete){cr();return}if(!hr.src){cr();return}hr.onload=cr,hr.onerror=cr})},tp=function(hr){return Promise.all([].slice.call(hr.images,0).map(Xh))},PA=function(hr){return new Promise(function(cr,pr){var Ar=hr.contentWindow;if(!Ar)return pr("No window assigned for iframe");var Dr=Ar.document;Ar.onload=hr.onload=function(){Ar.onload=hr.onload=null;var $r=setInterval(function(){Dr.body.childNodes.length>0&&Dr.readyState==="complete"&&(clearInterval($r),cr(hr))},50)}})},ku=["all","d","content"],_h=function(hr,cr){for(var pr=hr.length-1;pr>=0;pr--){var Ar=hr.item(pr);ku.indexOf(Ar)===-1&&cr.style.setProperty(Ar,hr.getPropertyValue(Ar))}return cr},Eh=function(hr){var cr="";return hr&&(cr+="<!DOCTYPE ",hr.name&&(cr+=hr.name),hr.internalSubset&&(cr+=hr.internalSubset),hr.publicId&&(cr+='"'+hr.publicId+'"'),hr.systemId&&(cr+='"'+hr.systemId+'"'),cr+=">"),cr},Gf=function(hr,cr,pr){hr&&hr.defaultView&&(cr!==hr.defaultView.pageXOffset||pr!==hr.defaultView.pageYOffset)&&hr.defaultView.scrollTo(cr,pr)},Ua=function(hr){var cr=hr[0],pr=hr[1],Ar=hr[2];cr.scrollLeft=pr,cr.scrollTop=Ar},rp=":before",np=":after",wh="___html2canvas___pseudoelement_before",Qd="___html2canvas___pseudoelement_after",Mu=`{
    content: "" !important;
    display: none !important;
}`,IA=function(hr){jA(hr,"."+wh+rp+Mu+`
         .`+Qd+np+Mu)},jA=function(hr,cr){var pr=hr.ownerDocument;if(pr){var Ar=pr.createElement("style");Ar.textContent=cr,hr.appendChild(Ar)}},Af=(function(){function hr(){}return hr.getOrigin=function(cr){var pr=hr._link;return pr?(pr.href=cr,pr.href=pr.href,pr.protocol+pr.hostname+pr.port):"about:blank"},hr.isSameOrigin=function(cr){return hr.getOrigin(cr)===hr._origin},hr.setContext=function(cr){hr._link=cr.document.createElement("a"),hr._origin=hr.getOrigin(cr.location.href)},hr._origin="about:blank",hr})(),au=(function(){function hr(cr,pr){this.context=cr,this._options=pr,this._cache={}}return hr.prototype.addImage=function(cr){var pr=Promise.resolve();return this.has(cr)||(Ch(cr)||Zh(cr))&&(this._cache[cr]=this.loadImage(cr)).catch(function(){}),pr},hr.prototype.match=function(cr){return this._cache[cr]},hr.prototype.loadImage=function(cr){return Fe(this,void 0,void 0,function(){var pr,Ar,Dr,$r,Yr=this;return Oe(this,function(cn){switch(cn.label){case 0:return pr=Af.isSameOrigin(cr),Ar=!qf(cr)&&this._options.useCORS===!0&&Ja.SUPPORT_CORS_IMAGES&&!pr,Dr=!qf(cr)&&!pr&&!Ch(cr)&&typeof this._options.proxy=="string"&&Ja.SUPPORT_CORS_XHR&&!Ar,!pr&&this._options.allowTaint===!1&&!qf(cr)&&!Ch(cr)&&!Dr&&!Ar?[2]:($r=cr,Dr?[4,this.proxy($r)]:[3,2]);case 1:$r=cn.sent(),cn.label=2;case 2:return this.context.logger.debug("Added image "+cr.substring(0,256)),[4,new Promise(function(un,Tn){var Bn=new Image;Bn.onload=function(){return un(Bn)},Bn.onerror=Tn,(Sh($r)||Ar)&&(Bn.crossOrigin="anonymous"),Bn.src=$r,Bn.complete===!0&&setTimeout(function(){return un(Bn)},500),Yr._options.imageTimeout>0&&setTimeout(function(){return Tn("Timed out ("+Yr._options.imageTimeout+"ms) loading image")},Yr._options.imageTimeout)})];case 3:return[2,cn.sent()]}})})},hr.prototype.has=function(cr){return typeof this._cache[cr]<"u"},hr.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},hr.prototype.proxy=function(cr){var pr=this,Ar=this._options.proxy;if(!Ar)throw new Error("No proxy defined");var Dr=cr.substring(0,256);return new Promise(function($r,Yr){var cn=Ja.SUPPORT_RESPONSE_TYPE?"blob":"text",un=new XMLHttpRequest;un.onload=function(){if(un.status===200)if(cn==="text")$r(un.response);else{var Ln=new FileReader;Ln.addEventListener("load",function(){return $r(Ln.result)},!1),Ln.addEventListener("error",function(ai){return Yr(ai)},!1),Ln.readAsDataURL(un.response)}else Yr("Failed to proxy resource "+Dr+" with status code "+un.status)},un.onerror=Yr;var Tn=Ar.indexOf("?")>-1?"&":"?";if(un.open("GET",""+Ar+Tn+"url="+encodeURIComponent(cr)+"&responseType="+cn),cn!=="text"&&un instanceof XMLHttpRequest&&(un.responseType=cn),pr._options.imageTimeout){var Bn=pr._options.imageTimeout;un.timeout=Bn,un.ontimeout=function(){return Yr("Timed out ("+Bn+"ms) proxying "+Dr)}}un.send()})},hr})(),BA=/^data:image\/svg\+xml/i,Jh=/^data:image\/.*;base64,/i,NA=/^data:image\/.*/i,Zh=function(hr){return Ja.SUPPORT_SVG_DRAWING||!Lu(hr)},qf=function(hr){return NA.test(hr)},Sh=function(hr){return Jh.test(hr)},Ch=function(hr){return hr.substr(0,4)==="blob"},Lu=function(hr){return hr.substr(-3).toLowerCase()==="svg"||BA.test(hr)},ji=(function(){function hr(cr,pr){this.type=0,this.x=cr,this.y=pr}return hr.prototype.add=function(cr,pr){return new hr(this.x+cr,this.y+pr)},hr})(),pd=function(hr,cr,pr){return new ji(hr.x+(cr.x-hr.x)*pr,hr.y+(cr.y-hr.y)*pr)},Yf=(function(){function hr(cr,pr,Ar,Dr){this.type=1,this.start=cr,this.startControl=pr,this.endControl=Ar,this.end=Dr}return hr.prototype.subdivide=function(cr,pr){var Ar=pd(this.start,this.startControl,cr),Dr=pd(this.startControl,this.endControl,cr),$r=pd(this.endControl,this.end,cr),Yr=pd(Ar,Dr,cr),cn=pd(Dr,$r,cr),un=pd(Yr,cn,cr);return pr?new hr(this.start,Ar,Yr,un):new hr(un,cn,$r,this.end)},hr.prototype.add=function(cr,pr){return new hr(this.start.add(cr,pr),this.startControl.add(cr,pr),this.endControl.add(cr,pr),this.end.add(cr,pr))},hr.prototype.reverse=function(){return new hr(this.end,this.endControl,this.startControl,this.start)},hr})(),sa=function(hr){return hr.type===1},ip=(function(){function hr(cr){var pr=cr.styles,Ar=cr.bounds,Dr=ba(pr.borderTopLeftRadius,Ar.width,Ar.height),$r=Dr[0],Yr=Dr[1],cn=ba(pr.borderTopRightRadius,Ar.width,Ar.height),un=cn[0],Tn=cn[1],Bn=ba(pr.borderBottomRightRadius,Ar.width,Ar.height),Ln=Bn[0],ai=Bn[1],Hi=ba(pr.borderBottomLeftRadius,Ar.width,Ar.height),Fi=Hi[0],ki=Hi[1],vs=[];vs.push(($r+un)/Ar.width),vs.push((Fi+Ln)/Ar.width),vs.push((Yr+ki)/Ar.height),vs.push((Tn+ai)/Ar.height);var Xi=Math.max.apply(Math,vs);Xi>1&&($r/=Xi,Yr/=Xi,un/=Xi,Tn/=Xi,Ln/=Xi,ai/=Xi,Fi/=Xi,ki/=Xi);var qi=Ar.width-un,Ps=Ar.height-ai,xs=Ar.width-Ln,cs=Ar.height-ki,Wi=pr.borderTopWidth,Ls=pr.borderRightWidth,Us=pr.borderBottomWidth,ps=pr.borderLeftWidth,za=Ms(pr.paddingTop,cr.bounds.width),nl=Ms(pr.paddingRight,cr.bounds.width),Yl=Ms(pr.paddingBottom,cr.bounds.width),ua=Ms(pr.paddingLeft,cr.bounds.width);this.topLeftBorderDoubleOuterBox=$r>0||Yr>0?Ca(Ar.left+ps/3,Ar.top+Wi/3,$r-ps/3,Yr-Wi/3,Ys.TOP_LEFT):new ji(Ar.left+ps/3,Ar.top+Wi/3),this.topRightBorderDoubleOuterBox=$r>0||Yr>0?Ca(Ar.left+qi,Ar.top+Wi/3,un-Ls/3,Tn-Wi/3,Ys.TOP_RIGHT):new ji(Ar.left+Ar.width-Ls/3,Ar.top+Wi/3),this.bottomRightBorderDoubleOuterBox=Ln>0||ai>0?Ca(Ar.left+xs,Ar.top+Ps,Ln-Ls/3,ai-Us/3,Ys.BOTTOM_RIGHT):new ji(Ar.left+Ar.width-Ls/3,Ar.top+Ar.height-Us/3),this.bottomLeftBorderDoubleOuterBox=Fi>0||ki>0?Ca(Ar.left+ps/3,Ar.top+cs,Fi-ps/3,ki-Us/3,Ys.BOTTOM_LEFT):new ji(Ar.left+ps/3,Ar.top+Ar.height-Us/3),this.topLeftBorderDoubleInnerBox=$r>0||Yr>0?Ca(Ar.left+ps*2/3,Ar.top+Wi*2/3,$r-ps*2/3,Yr-Wi*2/3,Ys.TOP_LEFT):new ji(Ar.left+ps*2/3,Ar.top+Wi*2/3),this.topRightBorderDoubleInnerBox=$r>0||Yr>0?Ca(Ar.left+qi,Ar.top+Wi*2/3,un-Ls*2/3,Tn-Wi*2/3,Ys.TOP_RIGHT):new ji(Ar.left+Ar.width-Ls*2/3,Ar.top+Wi*2/3),this.bottomRightBorderDoubleInnerBox=Ln>0||ai>0?Ca(Ar.left+xs,Ar.top+Ps,Ln-Ls*2/3,ai-Us*2/3,Ys.BOTTOM_RIGHT):new ji(Ar.left+Ar.width-Ls*2/3,Ar.top+Ar.height-Us*2/3),this.bottomLeftBorderDoubleInnerBox=Fi>0||ki>0?Ca(Ar.left+ps*2/3,Ar.top+cs,Fi-ps*2/3,ki-Us*2/3,Ys.BOTTOM_LEFT):new ji(Ar.left+ps*2/3,Ar.top+Ar.height-Us*2/3),this.topLeftBorderStroke=$r>0||Yr>0?Ca(Ar.left+ps/2,Ar.top+Wi/2,$r-ps/2,Yr-Wi/2,Ys.TOP_LEFT):new ji(Ar.left+ps/2,Ar.top+Wi/2),this.topRightBorderStroke=$r>0||Yr>0?Ca(Ar.left+qi,Ar.top+Wi/2,un-Ls/2,Tn-Wi/2,Ys.TOP_RIGHT):new ji(Ar.left+Ar.width-Ls/2,Ar.top+Wi/2),this.bottomRightBorderStroke=Ln>0||ai>0?Ca(Ar.left+xs,Ar.top+Ps,Ln-Ls/2,ai-Us/2,Ys.BOTTOM_RIGHT):new ji(Ar.left+Ar.width-Ls/2,Ar.top+Ar.height-Us/2),this.bottomLeftBorderStroke=Fi>0||ki>0?Ca(Ar.left+ps/2,Ar.top+cs,Fi-ps/2,ki-Us/2,Ys.BOTTOM_LEFT):new ji(Ar.left+ps/2,Ar.top+Ar.height-Us/2),this.topLeftBorderBox=$r>0||Yr>0?Ca(Ar.left,Ar.top,$r,Yr,Ys.TOP_LEFT):new ji(Ar.left,Ar.top),this.topRightBorderBox=un>0||Tn>0?Ca(Ar.left+qi,Ar.top,un,Tn,Ys.TOP_RIGHT):new ji(Ar.left+Ar.width,Ar.top),this.bottomRightBorderBox=Ln>0||ai>0?Ca(Ar.left+xs,Ar.top+Ps,Ln,ai,Ys.BOTTOM_RIGHT):new ji(Ar.left+Ar.width,Ar.top+Ar.height),this.bottomLeftBorderBox=Fi>0||ki>0?Ca(Ar.left,Ar.top+cs,Fi,ki,Ys.BOTTOM_LEFT):new ji(Ar.left,Ar.top+Ar.height),this.topLeftPaddingBox=$r>0||Yr>0?Ca(Ar.left+ps,Ar.top+Wi,Math.max(0,$r-ps),Math.max(0,Yr-Wi),Ys.TOP_LEFT):new ji(Ar.left+ps,Ar.top+Wi),this.topRightPaddingBox=un>0||Tn>0?Ca(Ar.left+Math.min(qi,Ar.width-Ls),Ar.top+Wi,qi>Ar.width+Ls?0:Math.max(0,un-Ls),Math.max(0,Tn-Wi),Ys.TOP_RIGHT):new ji(Ar.left+Ar.width-Ls,Ar.top+Wi),this.bottomRightPaddingBox=Ln>0||ai>0?Ca(Ar.left+Math.min(xs,Ar.width-ps),Ar.top+Math.min(Ps,Ar.height-Us),Math.max(0,Ln-Ls),Math.max(0,ai-Us),Ys.BOTTOM_RIGHT):new ji(Ar.left+Ar.width-Ls,Ar.top+Ar.height-Us),this.bottomLeftPaddingBox=Fi>0||ki>0?Ca(Ar.left+ps,Ar.top+Math.min(cs,Ar.height-Us),Math.max(0,Fi-ps),Math.max(0,ki-Us),Ys.BOTTOM_LEFT):new ji(Ar.left+ps,Ar.top+Ar.height-Us),this.topLeftContentBox=$r>0||Yr>0?Ca(Ar.left+ps+ua,Ar.top+Wi+za,Math.max(0,$r-(ps+ua)),Math.max(0,Yr-(Wi+za)),Ys.TOP_LEFT):new ji(Ar.left+ps+ua,Ar.top+Wi+za),this.topRightContentBox=un>0||Tn>0?Ca(Ar.left+Math.min(qi,Ar.width+ps+ua),Ar.top+Wi+za,qi>Ar.width+ps+ua?0:un-ps+ua,Tn-(Wi+za),Ys.TOP_RIGHT):new ji(Ar.left+Ar.width-(Ls+nl),Ar.top+Wi+za),this.bottomRightContentBox=Ln>0||ai>0?Ca(Ar.left+Math.min(xs,Ar.width-(ps+ua)),Ar.top+Math.min(Ps,Ar.height+Wi+za),Math.max(0,Ln-(Ls+nl)),ai-(Us+Yl),Ys.BOTTOM_RIGHT):new ji(Ar.left+Ar.width-(Ls+nl),Ar.top+Ar.height-(Us+Yl)),this.bottomLeftContentBox=Fi>0||ki>0?Ca(Ar.left+ps+ua,Ar.top+cs,Math.max(0,Fi-(ps+ua)),ki-(Us+Yl),Ys.BOTTOM_LEFT):new ji(Ar.left+ps+ua,Ar.top+Ar.height-(Us+Yl))}return hr})(),Ys;(function(hr){hr[hr.TOP_LEFT=0]="TOP_LEFT",hr[hr.TOP_RIGHT=1]="TOP_RIGHT",hr[hr.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",hr[hr.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ys||(Ys={}));var Ca=function(hr,cr,pr,Ar,Dr){var $r=4*((Math.sqrt(2)-1)/3),Yr=pr*$r,cn=Ar*$r,un=hr+pr,Tn=cr+Ar;switch(Dr){case Ys.TOP_LEFT:return new Yf(new ji(hr,Tn),new ji(hr,Tn-cn),new ji(un-Yr,cr),new ji(un,cr));case Ys.TOP_RIGHT:return new Yf(new ji(hr,cr),new ji(hr+Yr,cr),new ji(un,Tn-cn),new ji(un,Tn));case Ys.BOTTOM_RIGHT:return new Yf(new ji(un,cr),new ji(un,cr+cn),new ji(hr+Yr,Tn),new ji(hr,Tn));case Ys.BOTTOM_LEFT:default:return new Yf(new ji(un,Tn),new ji(un-Yr,Tn),new ji(hr,cr+cn),new ji(hr,cr))}},fa=function(hr){return[hr.topLeftBorderBox,hr.topRightBorderBox,hr.bottomRightBorderBox,hr.bottomLeftBorderBox]},Pl=function(hr){return[hr.topLeftContentBox,hr.topRightContentBox,hr.bottomRightContentBox,hr.bottomLeftContentBox]},hc=function(hr){return[hr.topLeftPaddingBox,hr.topRightPaddingBox,hr.bottomRightPaddingBox,hr.bottomLeftPaddingBox]},DA=(function(){function hr(cr,pr,Ar){this.offsetX=cr,this.offsetY=pr,this.matrix=Ar,this.type=0,this.target=6}return hr})(),Xf=(function(){function hr(cr,pr){this.path=cr,this.target=pr,this.type=1}return hr})(),sp=(function(){function hr(cr){this.opacity=cr,this.type=2,this.target=6}return hr})(),eA=function(hr){return hr.type===0},Il=function(hr){return hr.type===1},Lc=function(hr){return hr.type===2},tA=function(hr,cr){return hr.length===cr.length?hr.some(function(pr,Ar){return pr===cr[Ar]}):!1},Gl=function(hr,cr,pr,Ar,Dr){return hr.map(function($r,Yr){switch(Yr){case 0:return $r.add(cr,pr);case 1:return $r.add(cr+Ar,pr);case 2:return $r.add(cr+Ar,pr+Dr);case 3:return $r.add(cr,pr+Dr)}return $r})},rA=(function(){function hr(cr){this.element=cr,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return hr})(),Uu=(function(){function hr(cr,pr){if(this.container=cr,this.parent=pr,this.effects=[],this.curves=new ip(this.container),this.container.styles.opacity<1&&this.effects.push(new sp(this.container.styles.opacity)),this.container.styles.transform!==null){var Ar=this.container.bounds.left+this.container.styles.transformOrigin[0].number,Dr=this.container.bounds.top+this.container.styles.transformOrigin[1].number,$r=this.container.styles.transform;this.effects.push(new DA(Ar,Dr,$r))}if(this.container.styles.overflowX!==0){var Yr=fa(this.curves),cn=hc(this.curves);tA(Yr,cn)?this.effects.push(new Xf(Yr,6)):(this.effects.push(new Xf(Yr,2)),this.effects.push(new Xf(cn,4)))}}return hr.prototype.getEffects=function(cr){for(var pr=[2,3].indexOf(this.container.styles.position)===-1,Ar=this.parent,Dr=this.effects.slice(0);Ar;){var $r=Ar.effects.filter(function(un){return!Il(un)});if(pr||Ar.container.styles.position!==0||!Ar.parent){if(Dr.unshift.apply(Dr,$r),pr=[2,3].indexOf(Ar.container.styles.position)===-1,Ar.container.styles.overflowX!==0){var Yr=fa(Ar.curves),cn=hc(Ar.curves);tA(Yr,cn)||Dr.unshift(new Xf(cn,6))}}else Dr.unshift.apply(Dr,$r);Ar=Ar.parent}return Dr.filter(function(un){return ii(un.target,cr)})},hr})(),$u=function(hr,cr,pr,Ar){hr.container.elements.forEach(function(Dr){var $r=ii(Dr.flags,4),Yr=ii(Dr.flags,2),cn=new Uu(Dr,hr);ii(Dr.styles.display,2048)&&Ar.push(cn);var un=ii(Dr.flags,8)?[]:Ar;if($r||Yr){var Tn=$r||Dr.styles.isPositioned()?pr:cr,Bn=new rA(cn);if(Dr.styles.isPositioned()||Dr.styles.opacity<1||Dr.styles.isTransformed()){var Ln=Dr.styles.zIndex.order;if(Ln<0){var ai=0;Tn.negativeZIndex.some(function(Fi,ki){return Ln>Fi.element.container.styles.zIndex.order?(ai=ki,!1):ai>0}),Tn.negativeZIndex.splice(ai,0,Bn)}else if(Ln>0){var Hi=0;Tn.positiveZIndex.some(function(Fi,ki){return Ln>=Fi.element.container.styles.zIndex.order?(Hi=ki+1,!1):Hi>0}),Tn.positiveZIndex.splice(Hi,0,Bn)}else Tn.zeroOrAutoZIndexOrTransformedOrOpacity.push(Bn)}else Dr.styles.isFloating()?Tn.nonPositionedFloats.push(Bn):Tn.nonPositionedInlineLevel.push(Bn);$u(cn,Bn,$r?Bn:pr,un)}else Dr.styles.isInlineLevel()?cr.inlineLevel.push(cn):cr.nonInlineLevel.push(cn),$u(cn,cr,pr,un);ii(Dr.flags,8)&&Vu(Dr,un)})},Vu=function(hr,cr){for(var pr=hr instanceof Ah?hr.start:1,Ar=hr instanceof Ah?hr.reversed:!1,Dr=0;Dr<cr.length;Dr++){var $r=cr[Dr];$r.container instanceof Uf&&typeof $r.container.value=="number"&&$r.container.value!==0&&(pr=$r.container.value),$r.listValue=Hd(pr,$r.container.styles.listStyleType,!0),pr+=Ar?-1:1}},nA=function(hr){var cr=new Uu(hr,null),pr=new rA(cr),Ar=[];return $u(cr,pr,pr,Ar),Vu(cr.container,Ar),pr},Th=function(hr,cr){switch(cr){case 0:return rl(hr.topLeftBorderBox,hr.topLeftPaddingBox,hr.topRightBorderBox,hr.topRightPaddingBox);case 1:return rl(hr.topRightBorderBox,hr.topRightPaddingBox,hr.bottomRightBorderBox,hr.bottomRightPaddingBox);case 2:return rl(hr.bottomRightBorderBox,hr.bottomRightPaddingBox,hr.bottomLeftBorderBox,hr.bottomLeftPaddingBox);case 3:default:return rl(hr.bottomLeftBorderBox,hr.bottomLeftPaddingBox,hr.topLeftBorderBox,hr.topLeftPaddingBox)}},ou=function(hr,cr){switch(cr){case 0:return rl(hr.topLeftBorderBox,hr.topLeftBorderDoubleOuterBox,hr.topRightBorderBox,hr.topRightBorderDoubleOuterBox);case 1:return rl(hr.topRightBorderBox,hr.topRightBorderDoubleOuterBox,hr.bottomRightBorderBox,hr.bottomRightBorderDoubleOuterBox);case 2:return rl(hr.bottomRightBorderBox,hr.bottomRightBorderDoubleOuterBox,hr.bottomLeftBorderBox,hr.bottomLeftBorderDoubleOuterBox);case 3:default:return rl(hr.bottomLeftBorderBox,hr.bottomLeftBorderDoubleOuterBox,hr.topLeftBorderBox,hr.topLeftBorderDoubleOuterBox)}},FA=function(hr,cr){switch(cr){case 0:return rl(hr.topLeftBorderDoubleInnerBox,hr.topLeftPaddingBox,hr.topRightBorderDoubleInnerBox,hr.topRightPaddingBox);case 1:return rl(hr.topRightBorderDoubleInnerBox,hr.topRightPaddingBox,hr.bottomRightBorderDoubleInnerBox,hr.bottomRightPaddingBox);case 2:return rl(hr.bottomRightBorderDoubleInnerBox,hr.bottomRightPaddingBox,hr.bottomLeftBorderDoubleInnerBox,hr.bottomLeftPaddingBox);case 3:default:return rl(hr.bottomLeftBorderDoubleInnerBox,hr.bottomLeftPaddingBox,hr.topLeftBorderDoubleInnerBox,hr.topLeftPaddingBox)}},pf=function(hr,cr){switch(cr){case 0:return md(hr.topLeftBorderStroke,hr.topRightBorderStroke);case 1:return md(hr.topRightBorderStroke,hr.bottomRightBorderStroke);case 2:return md(hr.bottomRightBorderStroke,hr.bottomLeftBorderStroke);case 3:default:return md(hr.bottomLeftBorderStroke,hr.topLeftBorderStroke)}},md=function(hr,cr){var pr=[];return sa(hr)?pr.push(hr.subdivide(.5,!1)):pr.push(hr),sa(cr)?pr.push(cr.subdivide(.5,!0)):pr.push(cr),pr},rl=function(hr,cr,pr,Ar){var Dr=[];return sa(hr)?Dr.push(hr.subdivide(.5,!1)):Dr.push(hr),sa(pr)?Dr.push(pr.subdivide(.5,!0)):Dr.push(pr),sa(Ar)?Dr.push(Ar.subdivide(.5,!0).reverse()):Dr.push(Ar),sa(cr)?Dr.push(cr.subdivide(.5,!1).reverse()):Dr.push(cr),Dr},zd=function(hr){var cr=hr.bounds,pr=hr.styles;return cr.add(pr.borderLeftWidth,pr.borderTopWidth,-(pr.borderRightWidth+pr.borderLeftWidth),-(pr.borderTopWidth+pr.borderBottomWidth))},Jf=function(hr){var cr=hr.styles,pr=hr.bounds,Ar=Ms(cr.paddingLeft,pr.width),Dr=Ms(cr.paddingRight,pr.width),$r=Ms(cr.paddingTop,pr.width),Yr=Ms(cr.paddingBottom,pr.width);return pr.add(Ar+cr.borderLeftWidth,$r+cr.borderTopWidth,-(cr.borderRightWidth+cr.borderLeftWidth+Ar+Dr),-(cr.borderTopWidth+cr.borderBottomWidth+$r+Yr))},OA=function(hr,cr){return hr===0?cr.bounds:hr===2?Jf(cr):zd(cr)},Zf=function(hr,cr){return hr===0?cr.bounds:hr===2?Jf(cr):zd(cr)},Rh=function(hr,cr,pr){var Ar=OA(mf(hr.styles.backgroundOrigin,cr),hr),Dr=Zf(mf(hr.styles.backgroundClip,cr),hr),$r=ap(mf(hr.styles.backgroundSize,cr),pr,Ar),Yr=$r[0],cn=$r[1],un=ba(mf(hr.styles.backgroundPosition,cr),Ar.width-Yr,Ar.height-cn),Tn=aa(mf(hr.styles.backgroundRepeat,cr),un,$r,Ar,Dr),Bn=Math.round(Ar.left+un[0]),Ln=Math.round(Ar.top+un[1]);return[Tn,Bn,Ln,Yr,cn]},Hu=function(hr){return si(hr)&&hr.value===Uo.AUTO},eh=function(hr){return typeof hr=="number"},ap=function(hr,cr,pr){var Ar=cr[0],Dr=cr[1],$r=cr[2],Yr=hr[0],cn=hr[1];if(!Yr)return[0,0];if(ks(Yr)&&cn&&ks(cn))return[Ms(Yr,pr.width),Ms(cn,pr.height)];var un=eh($r);if(si(Yr)&&(Yr.value===Uo.CONTAIN||Yr.value===Uo.COVER)){if(eh($r)){var Tn=pr.width/pr.height;return Tn<$r!=(Yr.value===Uo.COVER)?[pr.width,pr.width/$r]:[pr.height*$r,pr.height]}return[pr.width,pr.height]}var Bn=eh(Ar),Ln=eh(Dr),ai=Bn||Ln;if(Hu(Yr)&&(!cn||Hu(cn))){if(Bn&&Ln)return[Ar,Dr];if(!un&&!ai)return[pr.width,pr.height];if(ai&&un){var Hi=Bn?Ar:Dr*$r,Fi=Ln?Dr:Ar/$r;return[Hi,Fi]}var ki=Bn?Ar:pr.width,vs=Ln?Dr:pr.height;return[ki,vs]}if(un){var Xi=0,qi=0;return ks(Yr)?Xi=Ms(Yr,pr.width):ks(cn)&&(qi=Ms(cn,pr.height)),Hu(Yr)?Xi=qi*$r:(!cn||Hu(cn))&&(qi=Xi/$r),[Xi,qi]}var Ps=null,xs=null;if(ks(Yr)?Ps=Ms(Yr,pr.width):cn&&ks(cn)&&(xs=Ms(cn,pr.height)),Ps!==null&&(!cn||Hu(cn))&&(xs=Bn&&Ln?Ps/Ar*Dr:pr.height),xs!==null&&Hu(Yr)&&(Ps=Bn&&Ln?xs/Dr*Ar:pr.width),Ps!==null&&xs!==null)return[Ps,xs];throw new Error("Unable to calculate background-size for element")},mf=function(hr,cr){var pr=hr[cr];return typeof pr>"u"?hr[0]:pr},aa=function(hr,cr,pr,Ar,Dr){var $r=cr[0],Yr=cr[1],cn=pr[0],un=pr[1];switch(hr){case 2:return[new ji(Math.round(Ar.left),Math.round(Ar.top+Yr)),new ji(Math.round(Ar.left+Ar.width),Math.round(Ar.top+Yr)),new ji(Math.round(Ar.left+Ar.width),Math.round(un+Ar.top+Yr)),new ji(Math.round(Ar.left),Math.round(un+Ar.top+Yr))];case 3:return[new ji(Math.round(Ar.left+$r),Math.round(Ar.top)),new ji(Math.round(Ar.left+$r+cn),Math.round(Ar.top)),new ji(Math.round(Ar.left+$r+cn),Math.round(Ar.height+Ar.top)),new ji(Math.round(Ar.left+$r),Math.round(Ar.height+Ar.top))];case 1:return[new ji(Math.round(Ar.left+$r),Math.round(Ar.top+Yr)),new ji(Math.round(Ar.left+$r+cn),Math.round(Ar.top+Yr)),new ji(Math.round(Ar.left+$r+cn),Math.round(Ar.top+Yr+un)),new ji(Math.round(Ar.left+$r),Math.round(Ar.top+Yr+un))];default:return[new ji(Math.round(Dr.left),Math.round(Dr.top)),new ji(Math.round(Dr.left+Dr.width),Math.round(Dr.top)),new ji(Math.round(Dr.left+Dr.width),Math.round(Dr.height+Dr.top)),new ji(Math.round(Dr.left),Math.round(Dr.height+Dr.top))]}},ga="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",js="Hidden Text",Hs=(function(){function hr(cr){this._data={},this._document=cr}return hr.prototype.parseMetrics=function(cr,pr){var Ar=this._document.createElement("div"),Dr=this._document.createElement("img"),$r=this._document.createElement("span"),Yr=this._document.body;Ar.style.visibility="hidden",Ar.style.fontFamily=cr,Ar.style.fontSize=pr,Ar.style.margin="0",Ar.style.padding="0",Ar.style.whiteSpace="nowrap",Yr.appendChild(Ar),Dr.src=ga,Dr.width=1,Dr.height=1,Dr.style.margin="0",Dr.style.padding="0",Dr.style.verticalAlign="baseline",$r.style.fontFamily=cr,$r.style.fontSize=pr,$r.style.margin="0",$r.style.padding="0",$r.appendChild(this._document.createTextNode(js)),Ar.appendChild($r),Ar.appendChild(Dr);var cn=Dr.offsetTop-$r.offsetTop+2;Ar.removeChild($r),Ar.appendChild(this._document.createTextNode(js)),Ar.style.lineHeight="normal",Dr.style.verticalAlign="super";var un=Dr.offsetTop-Ar.offsetTop+2;return Yr.removeChild(Ar),{baseline:cn,middle:un}},hr.prototype.getMetrics=function(cr,pr){var Ar=cr+" "+pr;return typeof this._data[Ar]>"u"&&(this._data[Ar]=this.parseMetrics(cr,pr)),this._data[Ar]},hr})(),ea=(function(){function hr(cr,pr){this.context=cr,this.options=pr}return hr})(),ql=1e4,gd=(function(hr){Be(cr,hr);function cr(pr,Ar){var Dr=hr.call(this,pr,Ar)||this;return Dr._activeEffects=[],Dr.canvas=Ar.canvas?Ar.canvas:document.createElement("canvas"),Dr.ctx=Dr.canvas.getContext("2d"),Ar.canvas||(Dr.canvas.width=Math.floor(Ar.width*Ar.scale),Dr.canvas.height=Math.floor(Ar.height*Ar.scale),Dr.canvas.style.width=Ar.width+"px",Dr.canvas.style.height=Ar.height+"px"),Dr.fontMetrics=new Hs(document),Dr.ctx.scale(Dr.options.scale,Dr.options.scale),Dr.ctx.translate(-Ar.x,-Ar.y),Dr.ctx.textBaseline="bottom",Dr._activeEffects=[],Dr.context.logger.debug("Canvas renderer initialized ("+Ar.width+"x"+Ar.height+") with scale "+Ar.scale),Dr}return cr.prototype.applyEffects=function(pr){for(var Ar=this;this._activeEffects.length;)this.popEffect();pr.forEach(function(Dr){return Ar.applyEffect(Dr)})},cr.prototype.applyEffect=function(pr){this.ctx.save(),Lc(pr)&&(this.ctx.globalAlpha=pr.opacity),eA(pr)&&(this.ctx.translate(pr.offsetX,pr.offsetY),this.ctx.transform(pr.matrix[0],pr.matrix[1],pr.matrix[2],pr.matrix[3],pr.matrix[4],pr.matrix[5]),this.ctx.translate(-pr.offsetX,-pr.offsetY)),Il(pr)&&(this.path(pr.path),this.ctx.clip()),this._activeEffects.push(pr)},cr.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},cr.prototype.renderStack=function(pr){return Fe(this,void 0,void 0,function(){var Ar;return Oe(this,function(Dr){switch(Dr.label){case 0:return Ar=pr.element.container.styles,Ar.isVisible()?[4,this.renderStackContent(pr)]:[3,2];case 1:Dr.sent(),Dr.label=2;case 2:return[2]}})})},cr.prototype.renderNode=function(pr){return Fe(this,void 0,void 0,function(){return Oe(this,function(Ar){switch(Ar.label){case 0:if(ii(pr.container.flags,16))debugger;return pr.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(pr)]:[3,3];case 1:return Ar.sent(),[4,this.renderNodeContent(pr)];case 2:Ar.sent(),Ar.label=3;case 3:return[2]}})})},cr.prototype.renderTextWithLetterSpacing=function(pr,Ar,Dr){var $r=this;if(Ar===0)this.ctx.fillText(pr.text,pr.bounds.left,pr.bounds.top+Dr);else{var Yr=Wl(pr.text);Yr.reduce(function(cn,un){return $r.ctx.fillText(un,cn,pr.bounds.top+Dr),cn+$r.ctx.measureText(un).width},pr.bounds.left)}},cr.prototype.createFontStyle=function(pr){var Ar=pr.fontVariant.filter(function(Yr){return Yr==="normal"||Yr==="small-caps"}).join(""),Dr=xd(pr.fontFamily).join(", "),$r=Pn(pr.fontSize)?""+pr.fontSize.number+pr.fontSize.unit:pr.fontSize.number+"px";return[[pr.fontStyle,Ar,pr.fontWeight,$r,Dr].join(" "),Dr,$r]},cr.prototype.renderTextNode=function(pr,Ar){return Fe(this,void 0,void 0,function(){var Dr,$r,Yr,cn,un,Tn,Bn,Ln,ai=this;return Oe(this,function(Hi){return Dr=this.createFontStyle(Ar),$r=Dr[0],Yr=Dr[1],cn=Dr[2],this.ctx.font=$r,this.ctx.direction=Ar.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",un=this.fontMetrics.getMetrics(Yr,cn),Tn=un.baseline,Bn=un.middle,Ln=Ar.paintOrder,pr.textBounds.forEach(function(Fi){Ln.forEach(function(ki){switch(ki){case 0:ai.ctx.fillStyle=Ra(Ar.color),ai.renderTextWithLetterSpacing(Fi,Ar.letterSpacing,Tn);var vs=Ar.textShadow;vs.length&&Fi.text.trim().length&&(vs.slice(0).reverse().forEach(function(Xi){ai.ctx.shadowColor=Ra(Xi.color),ai.ctx.shadowOffsetX=Xi.offsetX.number*ai.options.scale,ai.ctx.shadowOffsetY=Xi.offsetY.number*ai.options.scale,ai.ctx.shadowBlur=Xi.blur.number,ai.renderTextWithLetterSpacing(Fi,Ar.letterSpacing,Tn)}),ai.ctx.shadowColor="",ai.ctx.shadowOffsetX=0,ai.ctx.shadowOffsetY=0,ai.ctx.shadowBlur=0),Ar.textDecorationLine.length&&(ai.ctx.fillStyle=Ra(Ar.textDecorationColor||Ar.color),Ar.textDecorationLine.forEach(function(Xi){switch(Xi){case 1:ai.ctx.fillRect(Fi.bounds.left,Math.round(Fi.bounds.top+Tn),Fi.bounds.width,1);break;case 2:ai.ctx.fillRect(Fi.bounds.left,Math.round(Fi.bounds.top),Fi.bounds.width,1);break;case 3:ai.ctx.fillRect(Fi.bounds.left,Math.ceil(Fi.bounds.top+Bn),Fi.bounds.width,1);break}}));break;case 1:Ar.webkitTextStrokeWidth&&Fi.text.trim().length&&(ai.ctx.strokeStyle=Ra(Ar.webkitTextStrokeColor),ai.ctx.lineWidth=Ar.webkitTextStrokeWidth,ai.ctx.lineJoin=window.chrome?"miter":"round",ai.ctx.strokeText(Fi.text,Fi.bounds.left,Fi.bounds.top+Tn)),ai.ctx.strokeStyle="",ai.ctx.lineWidth=0,ai.ctx.lineJoin="miter";break}})}),[2]})})},cr.prototype.renderReplacedElement=function(pr,Ar,Dr){if(Dr&&pr.intrinsicWidth>0&&pr.intrinsicHeight>0){var $r=Jf(pr),Yr=hc(Ar);this.path(Yr),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(Dr,0,0,pr.intrinsicWidth,pr.intrinsicHeight,$r.left,$r.top,$r.width,$r.height),this.ctx.restore()}},cr.prototype.renderNodeContent=function(pr){return Fe(this,void 0,void 0,function(){var Ar,Dr,$r,Yr,cn,un,qi,qi,Tn,Bn,Ln,ai,xs,Hi,Fi,cs,ki,vs,Xi,qi,Ps,xs,cs;return Oe(this,function(Wi){switch(Wi.label){case 0:this.applyEffects(pr.getEffects(4)),Ar=pr.container,Dr=pr.curves,$r=Ar.styles,Yr=0,cn=Ar.textNodes,Wi.label=1;case 1:return Yr<cn.length?(un=cn[Yr],[4,this.renderTextNode(un,$r)]):[3,4];case 2:Wi.sent(),Wi.label=3;case 3:return Yr++,[3,1];case 4:if(!(Ar instanceof kh))return[3,8];Wi.label=5;case 5:return Wi.trys.push([5,7,,8]),[4,this.context.cache.match(Ar.src)];case 6:return qi=Wi.sent(),this.renderReplacedElement(Ar,Dr,qi),[3,8];case 7:return Wi.sent(),this.context.logger.error("Error loading image "+Ar.src),[3,8];case 8:if(Ar instanceof cf&&this.renderReplacedElement(Ar,Dr,Ar.canvas),!(Ar instanceof hh))return[3,12];Wi.label=9;case 9:return Wi.trys.push([9,11,,12]),[4,this.context.cache.match(Ar.svg)];case 10:return qi=Wi.sent(),this.renderReplacedElement(Ar,Dr,qi),[3,12];case 11:return Wi.sent(),this.context.logger.error("Error loading svg "+Ar.svg.substring(0,255)),[3,12];case 12:return Ar instanceof Lh&&Ar.tree?(Tn=new cr(this.context,{scale:this.options.scale,backgroundColor:Ar.backgroundColor,x:0,y:0,width:Ar.width,height:Ar.height}),[4,Tn.render(Ar.tree)]):[3,14];case 13:Bn=Wi.sent(),Ar.width&&Ar.height&&this.ctx.drawImage(Bn,0,0,Ar.width,Ar.height,Ar.bounds.left,Ar.bounds.top,Ar.bounds.width,Ar.bounds.height),Wi.label=14;case 14:if(Ar instanceof Md&&(Ln=Math.min(Ar.bounds.width,Ar.bounds.height),Ar.type===mh?Ar.checked&&(this.ctx.save(),this.path([new ji(Ar.bounds.left+Ln*.39363,Ar.bounds.top+Ln*.79),new ji(Ar.bounds.left+Ln*.16,Ar.bounds.top+Ln*.5549),new ji(Ar.bounds.left+Ln*.27347,Ar.bounds.top+Ln*.44071),new ji(Ar.bounds.left+Ln*.39694,Ar.bounds.top+Ln*.5649),new ji(Ar.bounds.left+Ln*.72983,Ar.bounds.top+Ln*.23),new ji(Ar.bounds.left+Ln*.84,Ar.bounds.top+Ln*.34085),new ji(Ar.bounds.left+Ln*.39363,Ar.bounds.top+Ln*.79)]),this.ctx.fillStyle=Ra(Vf),this.ctx.fill(),this.ctx.restore()):Ar.type===ju&&Ar.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(Ar.bounds.left+Ln/2,Ar.bounds.top+Ln/2,Ln/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ra(Vf),this.ctx.fill(),this.ctx.restore())),gf(Ar)&&Ar.value.length){switch(ai=this.createFontStyle($r),xs=ai[0],Hi=ai[1],Fi=this.fontMetrics.getMetrics(xs,Hi).baseline,this.ctx.font=xs,this.ctx.fillStyle=Ra($r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Qu(Ar.styles.textAlign),cs=Jf(Ar),ki=0,Ar.styles.textAlign){case 1:ki+=cs.width/2;break;case 2:ki+=cs.width;break}vs=cs.add(ki,0,0,-cs.height/2+1),this.ctx.save(),this.path([new ji(cs.left,cs.top),new ji(cs.left+cs.width,cs.top),new ji(cs.left+cs.width,cs.top+cs.height),new ji(cs.left,cs.top+cs.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ud(Ar.value,vs),$r.letterSpacing,Fi),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ii(Ar.styles.display,2048))return[3,20];if(Ar.styles.listStyleImage===null)return[3,19];if(Xi=Ar.styles.listStyleImage,Xi.type!==0)return[3,18];qi=void 0,Ps=Xi.url,Wi.label=15;case 15:return Wi.trys.push([15,17,,18]),[4,this.context.cache.match(Ps)];case 16:return qi=Wi.sent(),this.ctx.drawImage(qi,Ar.bounds.left-(qi.width+10),Ar.bounds.top),[3,18];case 17:return Wi.sent(),this.context.logger.error("Error loading list-style-image "+Ps),[3,18];case 18:return[3,20];case 19:pr.listValue&&Ar.styles.listStyleType!==-1&&(xs=this.createFontStyle($r)[0],this.ctx.font=xs,this.ctx.fillStyle=Ra($r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",cs=new Me(Ar.bounds.left,Ar.bounds.top+Ms(Ar.styles.paddingTop,Ar.bounds.width),Ar.bounds.width,$l($r.lineHeight,$r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ud(pr.listValue,cs),$r.letterSpacing,$l($r.lineHeight,$r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Wi.label=20;case 20:return[2]}})})},cr.prototype.renderStackContent=function(pr){return Fe(this,void 0,void 0,function(){var Ar,Dr,Xi,$r,Yr,Xi,cn,un,Xi,Tn,Bn,Xi,Ln,ai,Xi,Hi,Fi,Xi,ki,vs,Xi;return Oe(this,function(qi){switch(qi.label){case 0:if(ii(pr.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(pr.element)];case 1:qi.sent(),Ar=0,Dr=pr.negativeZIndex,qi.label=2;case 2:return Ar<Dr.length?(Xi=Dr[Ar],[4,this.renderStack(Xi)]):[3,5];case 3:qi.sent(),qi.label=4;case 4:return Ar++,[3,2];case 5:return[4,this.renderNodeContent(pr.element)];case 6:qi.sent(),$r=0,Yr=pr.nonInlineLevel,qi.label=7;case 7:return $r<Yr.length?(Xi=Yr[$r],[4,this.renderNode(Xi)]):[3,10];case 8:qi.sent(),qi.label=9;case 9:return $r++,[3,7];case 10:cn=0,un=pr.nonPositionedFloats,qi.label=11;case 11:return cn<un.length?(Xi=un[cn],[4,this.renderStack(Xi)]):[3,14];case 12:qi.sent(),qi.label=13;case 13:return cn++,[3,11];case 14:Tn=0,Bn=pr.nonPositionedInlineLevel,qi.label=15;case 15:return Tn<Bn.length?(Xi=Bn[Tn],[4,this.renderStack(Xi)]):[3,18];case 16:qi.sent(),qi.label=17;case 17:return Tn++,[3,15];case 18:Ln=0,ai=pr.inlineLevel,qi.label=19;case 19:return Ln<ai.length?(Xi=ai[Ln],[4,this.renderNode(Xi)]):[3,22];case 20:qi.sent(),qi.label=21;case 21:return Ln++,[3,19];case 22:Hi=0,Fi=pr.zeroOrAutoZIndexOrTransformedOrOpacity,qi.label=23;case 23:return Hi<Fi.length?(Xi=Fi[Hi],[4,this.renderStack(Xi)]):[3,26];case 24:qi.sent(),qi.label=25;case 25:return Hi++,[3,23];case 26:ki=0,vs=pr.positiveZIndex,qi.label=27;case 27:return ki<vs.length?(Xi=vs[ki],[4,this.renderStack(Xi)]):[3,30];case 28:qi.sent(),qi.label=29;case 29:return ki++,[3,27];case 30:return[2]}})})},cr.prototype.mask=function(pr){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(pr.slice(0).reverse()),this.ctx.closePath()},cr.prototype.path=function(pr){this.ctx.beginPath(),this.formatPath(pr),this.ctx.closePath()},cr.prototype.formatPath=function(pr){var Ar=this;pr.forEach(function(Dr,$r){var Yr=sa(Dr)?Dr.start:Dr;$r===0?Ar.ctx.moveTo(Yr.x,Yr.y):Ar.ctx.lineTo(Yr.x,Yr.y),sa(Dr)&&Ar.ctx.bezierCurveTo(Dr.startControl.x,Dr.startControl.y,Dr.endControl.x,Dr.endControl.y,Dr.end.x,Dr.end.y)})},cr.prototype.renderRepeat=function(pr,Ar,Dr,$r){this.path(pr),this.ctx.fillStyle=Ar,this.ctx.translate(Dr,$r),this.ctx.fill(),this.ctx.translate(-Dr,-$r)},cr.prototype.resizeImage=function(pr,Ar,Dr){var $r;if(pr.width===Ar&&pr.height===Dr)return pr;var Yr=($r=this.canvas.ownerDocument)!==null&&$r!==void 0?$r:document,cn=Yr.createElement("canvas");cn.width=Math.max(1,Ar),cn.height=Math.max(1,Dr);var un=cn.getContext("2d");return un.drawImage(pr,0,0,pr.width,pr.height,0,0,Ar,Dr),cn},cr.prototype.renderBackgroundImage=function(pr){return Fe(this,void 0,void 0,function(){var Ar,Dr,$r,Yr,cn,un;return Oe(this,function(Tn){switch(Tn.label){case 0:Ar=pr.styles.backgroundImage.length-1,Dr=function(Bn){var Ln,ai,Hi,za,ul,bo,ua,Ho,Us,Fi,za,ul,bo,ua,Ho,ki,vs,Xi,qi,Ps,xs,cs,Wi,Ls,Us,ps,za,nl,Yl,ua,Ho,zu,ul,bo,lu,Uc,Wu,vd,yd,cu,bd,pc;return Oe(this,function(Kd){switch(Kd.label){case 0:if(Bn.type!==0)return[3,5];Ln=void 0,ai=Bn.url,Kd.label=1;case 1:return Kd.trys.push([1,3,,4]),[4,$r.context.cache.match(ai)];case 2:return Ln=Kd.sent(),[3,4];case 3:return Kd.sent(),$r.context.logger.error("Error loading background-image "+ai),[3,4];case 4:return Ln&&(Hi=Rh(pr,Ar,[Ln.width,Ln.height,Ln.width/Ln.height]),za=Hi[0],ul=Hi[1],bo=Hi[2],ua=Hi[3],Ho=Hi[4],Us=$r.ctx.createPattern($r.resizeImage(Ln,ua,Ho),"repeat"),$r.renderRepeat(za,Us,ul,bo)),[3,6];case 5:El(Bn)?(Fi=Rh(pr,Ar,[null,null,null]),za=Fi[0],ul=Fi[1],bo=Fi[2],ua=Fi[3],Ho=Fi[4],ki=Au(Bn.angle,ua,Ho),vs=ki[0],Xi=ki[1],qi=ki[2],Ps=ki[3],xs=ki[4],cs=document.createElement("canvas"),cs.width=ua,cs.height=Ho,Wi=cs.getContext("2d"),Ls=Wi.createLinearGradient(Xi,Ps,qi,xs),Oa(Bn.stops,vs).forEach(function(vf){return Ls.addColorStop(vf.stop,Ra(vf.color))}),Wi.fillStyle=Ls,Wi.fillRect(0,0,ua,Ho),ua>0&&Ho>0&&(Us=$r.ctx.createPattern(cs,"repeat"),$r.renderRepeat(za,Us,ul,bo))):Zc(Bn)&&(ps=Rh(pr,Ar,[null,null,null]),za=ps[0],nl=ps[1],Yl=ps[2],ua=ps[3],Ho=ps[4],zu=Bn.position.length===0?[Kc]:Bn.position,ul=Ms(zu[0],ua),bo=Ms(zu[zu.length-1],Ho),lu=Yc(Bn,ul,bo,ua,Ho),Uc=lu[0],Wu=lu[1],Uc>0&&Wu>0&&(vd=$r.ctx.createRadialGradient(nl+ul,Yl+bo,0,nl+ul,Yl+bo,Uc),Oa(Bn.stops,Uc*2).forEach(function(vf){return vd.addColorStop(vf.stop,Ra(vf.color))}),$r.path(za),$r.ctx.fillStyle=vd,Uc!==Wu?(yd=pr.bounds.left+.5*pr.bounds.width,cu=pr.bounds.top+.5*pr.bounds.height,bd=Wu/Uc,pc=1/bd,$r.ctx.save(),$r.ctx.translate(yd,cu),$r.ctx.transform(1,0,0,bd,0,0),$r.ctx.translate(-yd,-cu),$r.ctx.fillRect(nl,pc*(Yl-cu)+cu,ua,Ho*pc),$r.ctx.restore()):$r.ctx.fill())),Kd.label=6;case 6:return Ar--,[2]}})},$r=this,Yr=0,cn=pr.styles.backgroundImage.slice(0).reverse(),Tn.label=1;case 1:return Yr<cn.length?(un=cn[Yr],[5,Dr(un)]):[3,4];case 2:Tn.sent(),Tn.label=3;case 3:return Yr++,[3,1];case 4:return[2]}})})},cr.prototype.renderSolidBorder=function(pr,Ar,Dr){return Fe(this,void 0,void 0,function(){return Oe(this,function($r){return this.path(Th(Dr,Ar)),this.ctx.fillStyle=Ra(pr),this.ctx.fill(),[2]})})},cr.prototype.renderDoubleBorder=function(pr,Ar,Dr,$r){return Fe(this,void 0,void 0,function(){var Yr,cn;return Oe(this,function(un){switch(un.label){case 0:return Ar<3?[4,this.renderSolidBorder(pr,Dr,$r)]:[3,2];case 1:return un.sent(),[2];case 2:return Yr=ou($r,Dr),this.path(Yr),this.ctx.fillStyle=Ra(pr),this.ctx.fill(),cn=FA($r,Dr),this.path(cn),this.ctx.fill(),[2]}})})},cr.prototype.renderNodeBackgroundAndBorders=function(pr){return Fe(this,void 0,void 0,function(){var Ar,Dr,$r,Yr,cn,un,Tn,Bn,Ln=this;return Oe(this,function(ai){switch(ai.label){case 0:return this.applyEffects(pr.getEffects(2)),Ar=pr.container.styles,Dr=!Mo(Ar.backgroundColor)||Ar.backgroundImage.length,$r=[{style:Ar.borderTopStyle,color:Ar.borderTopColor,width:Ar.borderTopWidth},{style:Ar.borderRightStyle,color:Ar.borderRightColor,width:Ar.borderRightWidth},{style:Ar.borderBottomStyle,color:Ar.borderBottomColor,width:Ar.borderBottomWidth},{style:Ar.borderLeftStyle,color:Ar.borderLeftColor,width:Ar.borderLeftWidth}],Yr=iA(mf(Ar.backgroundClip,0),pr.curves),Dr||Ar.boxShadow.length?(this.ctx.save(),this.path(Yr),this.ctx.clip(),Mo(Ar.backgroundColor)||(this.ctx.fillStyle=Ra(Ar.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(pr.container)]):[3,2];case 1:ai.sent(),this.ctx.restore(),Ar.boxShadow.slice(0).reverse().forEach(function(Hi){Ln.ctx.save();var Fi=fa(pr.curves),ki=Hi.inset?0:ql,vs=Gl(Fi,-ki+(Hi.inset?1:-1)*Hi.spread.number,(Hi.inset?1:-1)*Hi.spread.number,Hi.spread.number*(Hi.inset?-2:2),Hi.spread.number*(Hi.inset?-2:2));Hi.inset?(Ln.path(Fi),Ln.ctx.clip(),Ln.mask(vs)):(Ln.mask(Fi),Ln.ctx.clip(),Ln.path(vs)),Ln.ctx.shadowOffsetX=Hi.offsetX.number+ki,Ln.ctx.shadowOffsetY=Hi.offsetY.number,Ln.ctx.shadowColor=Ra(Hi.color),Ln.ctx.shadowBlur=Hi.blur.number,Ln.ctx.fillStyle=Hi.inset?Ra(Hi.color):"rgba(0,0,0,1)",Ln.ctx.fill(),Ln.ctx.restore()}),ai.label=2;case 2:cn=0,un=0,Tn=$r,ai.label=3;case 3:return un<Tn.length?(Bn=Tn[un],Bn.style!==0&&!Mo(Bn.color)&&Bn.width>0?Bn.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Bn.color,Bn.width,cn,pr.curves,2)]:[3,11]):[3,13];case 4:return ai.sent(),[3,11];case 5:return Bn.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Bn.color,Bn.width,cn,pr.curves,3)];case 6:return ai.sent(),[3,11];case 7:return Bn.style!==4?[3,9]:[4,this.renderDoubleBorder(Bn.color,Bn.width,cn,pr.curves)];case 8:return ai.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Bn.color,cn,pr.curves)];case 10:ai.sent(),ai.label=11;case 11:cn++,ai.label=12;case 12:return un++,[3,3];case 13:return[2]}})})},cr.prototype.renderDashedDottedBorder=function(pr,Ar,Dr,$r,Yr){return Fe(this,void 0,void 0,function(){var cn,un,Tn,Bn,Ln,ai,Hi,Fi,ki,vs,Xi,qi,Ps,xs,cs,Wi,cs,Wi;return Oe(this,function(Ls){return this.ctx.save(),cn=pf($r,Dr),un=Th($r,Dr),Yr===2&&(this.path(un),this.ctx.clip()),sa(un[0])?(Tn=un[0].start.x,Bn=un[0].start.y):(Tn=un[0].x,Bn=un[0].y),sa(un[1])?(Ln=un[1].end.x,ai=un[1].end.y):(Ln=un[1].x,ai=un[1].y),Dr===0||Dr===2?Hi=Math.abs(Tn-Ln):Hi=Math.abs(Bn-ai),this.ctx.beginPath(),Yr===3?this.formatPath(cn):this.formatPath(un.slice(0,2)),Fi=Ar<3?Ar*3:Ar*2,ki=Ar<3?Ar*2:Ar,Yr===3&&(Fi=Ar,ki=Ar),vs=!0,Hi<=Fi*2?vs=!1:Hi<=Fi*2+ki?(Xi=Hi/(2*Fi+ki),Fi*=Xi,ki*=Xi):(qi=Math.floor((Hi+ki)/(Fi+ki)),Ps=(Hi-qi*Fi)/(qi-1),xs=(Hi-(qi+1)*Fi)/qi,ki=xs<=0||Math.abs(ki-Ps)<Math.abs(ki-xs)?Ps:xs),vs&&(Yr===3?this.ctx.setLineDash([0,Fi+ki]):this.ctx.setLineDash([Fi,ki])),Yr===3?(this.ctx.lineCap="round",this.ctx.lineWidth=Ar):this.ctx.lineWidth=Ar*2+1.1,this.ctx.strokeStyle=Ra(pr),this.ctx.stroke(),this.ctx.setLineDash([]),Yr===2&&(sa(un[0])&&(cs=un[3],Wi=un[0],this.ctx.beginPath(),this.formatPath([new ji(cs.end.x,cs.end.y),new ji(Wi.start.x,Wi.start.y)]),this.ctx.stroke()),sa(un[1])&&(cs=un[1],Wi=un[2],this.ctx.beginPath(),this.formatPath([new ji(cs.end.x,cs.end.y),new ji(Wi.start.x,Wi.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},cr.prototype.render=function(pr){return Fe(this,void 0,void 0,function(){var Ar;return Oe(this,function(Dr){switch(Dr.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ra(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),Ar=nA(pr),[4,this.renderStack(Ar)];case 1:return Dr.sent(),this.applyEffects([]),[2,this.canvas]}})})},cr})(ea),gf=function(hr){return hr instanceof Mh||hr instanceof Hf?!0:hr instanceof Md&&hr.type!==ju&&hr.type!==mh},iA=function(hr,cr){switch(hr){case 0:return fa(cr);case 2:return Pl(cr);case 1:default:return hc(cr)}},Qu=function(hr){switch(hr){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Qa=["-apple-system","system-ui"],xd=function(hr){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?hr.filter(function(cr){return Qa.indexOf(cr)===-1}):hr},Wd=(function(hr){Be(cr,hr);function cr(pr,Ar){var Dr=hr.call(this,pr,Ar)||this;return Dr.canvas=Ar.canvas?Ar.canvas:document.createElement("canvas"),Dr.ctx=Dr.canvas.getContext("2d"),Dr.options=Ar,Dr.canvas.width=Math.floor(Ar.width*Ar.scale),Dr.canvas.height=Math.floor(Ar.height*Ar.scale),Dr.canvas.style.width=Ar.width+"px",Dr.canvas.style.height=Ar.height+"px",Dr.ctx.scale(Dr.options.scale,Dr.options.scale),Dr.ctx.translate(-Ar.x,-Ar.y),Dr.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+Ar.width+"x"+Ar.height+" at "+Ar.x+","+Ar.y+") with scale "+Ar.scale),Dr}return cr.prototype.render=function(pr){return Fe(this,void 0,void 0,function(){var Ar,Dr;return Oe(this,function($r){switch($r.label){case 0:return Ar=Fd(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,pr),[4,sA(Ar)];case 1:return Dr=$r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ra(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(Dr,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},cr})(ea),sA=function(hr){return new Promise(function(cr,pr){var Ar=new Image;Ar.onload=function(){cr(Ar)},Ar.onerror=pr,Ar.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(hr))})},Ac=(function(){function hr(cr){var pr=cr.id,Ar=cr.enabled;this.id=pr,this.enabled=Ar,this.start=Date.now()}return hr.prototype.debug=function(){for(var cr=[],pr=0;pr<arguments.length;pr++)cr[pr]=arguments[pr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ke([this.id,this.getTime()+"ms"],cr)):this.info.apply(this,cr))},hr.prototype.getTime=function(){return Date.now()-this.start},hr.prototype.info=function(){for(var cr=[],pr=0;pr<arguments.length;pr++)cr[pr]=arguments[pr];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ke([this.id,this.getTime()+"ms"],cr))},hr.prototype.warn=function(){for(var cr=[],pr=0;pr<arguments.length;pr++)cr[pr]=arguments[pr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ke([this.id,this.getTime()+"ms"],cr)):this.info.apply(this,cr))},hr.prototype.error=function(){for(var cr=[],pr=0;pr<arguments.length;pr++)cr[pr]=arguments[pr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ke([this.id,this.getTime()+"ms"],cr)):this.info.apply(this,cr))},hr.instances={},hr})(),xf=(function(){function hr(cr,pr){var Ar;this.windowBounds=pr,this.instanceName="#"+hr.instanceCount++,this.logger=new Ac({id:this.instanceName,enabled:cr.logging}),this.cache=(Ar=cr.cache)!==null&&Ar!==void 0?Ar:new au(this,cr)}return hr.instanceCount=1,hr})(),th=function(hr,cr){return cr===void 0&&(cr={}),jl(hr,cr)};typeof window<"u"&&Af.setContext(window);var jl=function(hr,cr){return Fe(void 0,void 0,void 0,function(){var pr,Ar,Dr,$r,Yr,cn,un,Tn,Bn,Ln,ai,Hi,Fi,ki,vs,Xi,qi,Ps,xs,cs,Ls,Wi,Ls,Us,ps,za,nl,Yl,ua,Ho,zu,ul,bo,lu,Uc,Wu,vd,yd,cu,bd;return Oe(this,function(pc){switch(pc.label){case 0:if(!hr||typeof hr!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(pr=hr.ownerDocument,!pr)throw new Error("Element is not attached to a Document");if(Ar=pr.defaultView,!Ar)throw new Error("Document is not attached to a Window");return Dr={allowTaint:(Us=cr.allowTaint)!==null&&Us!==void 0?Us:!1,imageTimeout:(ps=cr.imageTimeout)!==null&&ps!==void 0?ps:15e3,proxy:cr.proxy,useCORS:(za=cr.useCORS)!==null&&za!==void 0?za:!1},$r=De({logging:(nl=cr.logging)!==null&&nl!==void 0?nl:!0,cache:cr.cache},Dr),Yr={windowWidth:(Yl=cr.windowWidth)!==null&&Yl!==void 0?Yl:Ar.innerWidth,windowHeight:(ua=cr.windowHeight)!==null&&ua!==void 0?ua:Ar.innerHeight,scrollX:(Ho=cr.scrollX)!==null&&Ho!==void 0?Ho:Ar.pageXOffset,scrollY:(zu=cr.scrollY)!==null&&zu!==void 0?zu:Ar.pageYOffset},cn=new Me(Yr.scrollX,Yr.scrollY,Yr.windowWidth,Yr.windowHeight),un=new xf($r,cn),Tn=(ul=cr.foreignObjectRendering)!==null&&ul!==void 0?ul:!1,Bn={allowTaint:(bo=cr.allowTaint)!==null&&bo!==void 0?bo:!1,onclone:cr.onclone,ignoreElements:cr.ignoreElements,inlineImages:Tn,copyStyles:Tn},un.logger.debug("Starting document clone with size "+cn.width+"x"+cn.height+" scrolled to "+-cn.left+","+-cn.top),Ln=new bh(un,hr,Bn),ai=Ln.clonedReferenceElement,ai?[4,Ln.toIFrame(pr,cn)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Hi=pc.sent(),Fi=df(ai)||SA(ai)?$e(ai.ownerDocument):Ue(un,ai),ki=Fi.width,vs=Fi.height,Xi=Fi.left,qi=Fi.top,Ps=aA(un,ai,cr.backgroundColor),xs={canvas:cr.canvas,backgroundColor:Ps,scale:(Uc=(lu=cr.scale)!==null&&lu!==void 0?lu:Ar.devicePixelRatio)!==null&&Uc!==void 0?Uc:1,x:((Wu=cr.x)!==null&&Wu!==void 0?Wu:0)+Xi,y:((vd=cr.y)!==null&&vd!==void 0?vd:0)+qi,width:(yd=cr.width)!==null&&yd!==void 0?yd:Math.ceil(ki),height:(cu=cr.height)!==null&&cu!==void 0?cu:Math.ceil(vs)},Tn?(un.logger.debug("Document cloned, using foreign object rendering"),Ls=new Wd(un,xs),[4,Ls.render(ai)]):[3,3];case 2:return cs=pc.sent(),[3,5];case 3:return un.logger.debug("Document cloned, element located at "+Xi+","+qi+" with size "+ki+"x"+vs+" using computed rendering"),un.logger.debug("Starting DOM parsing"),Wi=kc(un,ai),Ps===Wi.styles.backgroundColor&&(Wi.styles.backgroundColor=Ao.TRANSPARENT),un.logger.debug("Starting renderer for element at "+xs.x+","+xs.y+" with size "+xs.width+"x"+xs.height),Ls=new gd(un,xs),[4,Ls.render(Wi)];case 4:cs=pc.sent(),pc.label=5;case 5:return(!((bd=cr.removeContainer)!==null&&bd!==void 0)||bd)&&(bh.destroy(Hi)||un.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),un.logger.debug("Finished rendering"),[2,cs]}})})},aA=function(hr,cr,pr){var Ar=cr.ownerDocument,Dr=Ar.documentElement?Lo(hr,getComputedStyle(Ar.documentElement).backgroundColor):Ao.TRANSPARENT,$r=Ar.body?Lo(hr,getComputedStyle(Ar.body).backgroundColor):Ao.TRANSPARENT,Yr=typeof pr=="string"?Lo(hr,pr):pr===null?Ao.TRANSPARENT:4294967295;return cr===Ar.documentElement?Mo(Dr)?Mo($r)?Yr:$r:Dr:Yr};return th}))})(html2canvas$1)),html2canvas$1.exports}/*!
 * html2pdf.js v0.10.3
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var hasRequiredHtml2pdf;function requireHtml2pdf(){return hasRequiredHtml2pdf||(hasRequiredHtml2pdf=1,(function(Ce,Re){(function(Be,De){Ce.exports=De(require$$0,requireHtml2canvas())})(self,function(je,Be){return(function(){var De={"./src/plugin/hyperlinks.js":(function(Me,Ue,$e){$e.r(Ue),$e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),$e("./node_modules/core-js/modules/es.string.link.js");var He=$e("./src/worker.js"),Qe=$e("./src/utils.js"),We=[],qe={toContainer:He.default.prototype.toContainer,toPdf:He.default.prototype.toPdf};He.default.prototype.toContainer=function(){return qe.toContainer.call(this).then(function(){if(this.opt.enableLinks){var Ye=this.prop.container,Ze=Ye.querySelectorAll("a"),Je=(0,Qe.unitConvert)(Ye.getBoundingClientRect(),this.prop.pageSize.k);We=[],Array.prototype.forEach.call(Ze,function(tr){for(var rr=tr.getClientRects(),ar=0;ar<rr.length;ar++){var nr=(0,Qe.unitConvert)(rr[ar],this.prop.pageSize.k);nr.left-=Je.left,nr.top-=Je.top;var sr=Math.floor(nr.top/this.prop.pageSize.inner.height)+1,dr=this.opt.margin[0]+nr.top%this.prop.pageSize.inner.height,_r=this.opt.margin[1]+nr.left;We.push({page:sr,top:dr,left:_r,clientRect:nr,link:tr})}},this)}})},He.default.prototype.toPdf=function(){return qe.toPdf.call(this).then(function(){if(this.opt.enableLinks){We.forEach(function(Ze){this.prop.pdf.setPage(Ze.page),this.prop.pdf.link(Ze.left,Ze.top,Ze.clientRect.width,Ze.clientRect.height,{url:Ze.link.href})},this);var Ye=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(Ye)}})}}),"./src/plugin/jspdf-plugin.js":(function(Me,Ue,$e){$e.r(Ue),$e("./node_modules/core-js/modules/es.symbol.js"),$e("./node_modules/core-js/modules/es.symbol.description.js"),$e("./node_modules/core-js/modules/es.object.to-string.js"),$e("./node_modules/core-js/modules/es.symbol.iterator.js"),$e("./node_modules/core-js/modules/es.array.iterator.js"),$e("./node_modules/core-js/modules/es.string.iterator.js"),$e("./node_modules/core-js/modules/web.dom-collections.iterator.js");var He=$e("jspdf");function Qe(We){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qe=function(Ke){return typeof Ke}:Qe=function(Ke){return Ke&&typeof Symbol=="function"&&Ke.constructor===Symbol&&Ke!==Symbol.prototype?"symbol":typeof Ke},Qe(We)}He.jsPDF.getPageSize=function(We,qe,Ke){if(Qe(We)==="object"){var Xe=We;We=Xe.orientation,qe=Xe.unit||qe,Ke=Xe.format||Ke}qe=qe||"mm",Ke=Ke||"a4",We=(""+(We||"P")).toLowerCase();var Ye=(""+Ke).toLowerCase(),Ze={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(qe){case"pt":var Je=1;break;case"mm":var Je=72/25.4;break;case"cm":var Je=72/2.54;break;case"in":var Je=72;break;case"px":var Je=72/96;break;case"pc":var Je=12;break;case"em":var Je=12;break;case"ex":var Je=6;break;default:throw"Invalid unit: "+qe}if(Ze.hasOwnProperty(Ye))var tr=Ze[Ye][1]/Je,rr=Ze[Ye][0]/Je;else try{var tr=Ke[1],rr=Ke[0]}catch{throw new Error("Invalid format: "+Ke)}if(We==="p"||We==="portrait"){if(We="p",rr>tr){var ar=rr;rr=tr,tr=ar}}else if(We==="l"||We==="landscape"){if(We="l",tr>rr){var ar=rr;rr=tr,tr=ar}}else throw"Invalid orientation: "+We;var nr={width:rr,height:tr,unit:qe,k:Je};return nr},Ue.default=He.jsPDF}),"./src/plugin/pagebreaks.js":(function(Me,Ue,$e){$e.r(Ue),$e("./node_modules/core-js/modules/es.array.concat.js"),$e("./node_modules/core-js/modules/es.array.slice.js"),$e("./node_modules/core-js/modules/es.array.join.js"),$e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),$e("./node_modules/core-js/modules/es.object.keys.js");var He=$e("./src/worker.js"),Qe=$e("./src/utils.js"),We={toContainer:He.default.prototype.toContainer};He.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},He.default.prototype.toContainer=function(){return We.toContainer.call(this).then(function(){var Xe=this.prop.container,Ye=this.prop.pageSize.inner.px.height,Ze=[].concat(this.opt.pagebreak.mode),Je={avoidAll:Ze.indexOf("avoid-all")!==-1,css:Ze.indexOf("css")!==-1,legacy:Ze.indexOf("legacy")!==-1},tr={},rr=this;["before","after","avoid"].forEach(function(sr){var dr=Je.avoidAll&&sr==="avoid";tr[sr]=dr?[]:[].concat(rr.opt.pagebreak[sr]||[]),tr[sr].length>0&&(tr[sr]=Array.prototype.slice.call(Xe.querySelectorAll(tr[sr].join(", "))))});var ar=Xe.querySelectorAll(".html2pdf__page-break");ar=Array.prototype.slice.call(ar);var nr=Xe.querySelectorAll("*");Array.prototype.forEach.call(nr,function(dr){var _r={before:!1,after:Je.legacy&&ar.indexOf(dr)!==-1,avoid:Je.avoidAll};if(Je.css){var fr=window.getComputedStyle(dr),or=["always","page","left","right"],Er=["avoid","avoid-page"];_r={before:_r.before||or.indexOf(fr.breakBefore||fr.pageBreakBefore)!==-1,after:_r.after||or.indexOf(fr.breakAfter||fr.pageBreakAfter)!==-1,avoid:_r.avoid||Er.indexOf(fr.breakInside||fr.pageBreakInside)!==-1}}Object.keys(_r).forEach(function(wr){_r[wr]=_r[wr]||tr[wr].indexOf(dr)!==-1});var Rr=dr.getBoundingClientRect();if(_r.avoid&&!_r.before){var jr=Math.floor(Rr.top/Ye),xr=Math.floor(Rr.bottom/Ye),Pr=Math.abs(Rr.bottom-Rr.top)/Ye;xr!==jr&&Pr<=1&&(_r.before=!0)}if(_r.before){var br=(0,Qe.createElement)("div",{style:{display:"block",height:Ye-Rr.top%Ye+"px"}});dr.parentNode.insertBefore(br,dr)}if(_r.after){var br=(0,Qe.createElement)("div",{style:{display:"block",height:Ye-Rr.bottom%Ye+"px"}});dr.parentNode.insertBefore(br,dr.nextSibling)}})})}}),"./src/utils.js":(function(Me,Ue,$e){$e.r(Ue),$e.d(Ue,{objType:function(){return Qe},createElement:function(){return We},cloneNode:function(){return qe},unitConvert:function(){return Ke},toPx:function(){return Xe}}),$e("./node_modules/core-js/modules/es.number.constructor.js"),$e("./node_modules/core-js/modules/es.symbol.js"),$e("./node_modules/core-js/modules/es.symbol.description.js"),$e("./node_modules/core-js/modules/es.object.to-string.js"),$e("./node_modules/core-js/modules/es.symbol.iterator.js"),$e("./node_modules/core-js/modules/es.array.iterator.js"),$e("./node_modules/core-js/modules/es.string.iterator.js"),$e("./node_modules/core-js/modules/web.dom-collections.iterator.js");function He(Ye){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?He=function(Je){return typeof Je}:He=function(Je){return Je&&typeof Symbol=="function"&&Je.constructor===Symbol&&Je!==Symbol.prototype?"symbol":typeof Je},He(Ye)}var Qe=function(Ze){var Je=He(Ze);return Je==="undefined"?"undefined":Je==="string"||Ze instanceof String?"string":Je==="number"||Ze instanceof Number?"number":Je==="function"||Ze instanceof Function?"function":Ze&&Ze.constructor===Array?"array":Ze&&Ze.nodeType===1?"element":Je==="object"?"object":"unknown"},We=function(Ze,Je){var tr=document.createElement(Ze);if(Je.className&&(tr.className=Je.className),Je.innerHTML){tr.innerHTML=Je.innerHTML;for(var rr=tr.getElementsByTagName("script"),ar=rr.length;ar-- >0;null)rr[ar].parentNode.removeChild(rr[ar])}for(var nr in Je.style)tr.style[nr]=Je.style[nr];return tr},qe=function Ye(Ze,Je){for(var tr=Ze.nodeType===3?document.createTextNode(Ze.nodeValue):Ze.cloneNode(!1),rr=Ze.firstChild;rr;rr=rr.nextSibling)(Je===!0||rr.nodeType!==1||rr.nodeName!=="SCRIPT")&&tr.appendChild(Ye(rr,Je));return Ze.nodeType===1&&(Ze.nodeName==="CANVAS"?(tr.width=Ze.width,tr.height=Ze.height,tr.getContext("2d").drawImage(Ze,0,0)):(Ze.nodeName==="TEXTAREA"||Ze.nodeName==="SELECT")&&(tr.value=Ze.value),tr.addEventListener("load",function(){tr.scrollTop=Ze.scrollTop,tr.scrollLeft=Ze.scrollLeft},!0)),tr},Ke=function(Ze,Je){if(Qe(Ze)==="number")return Ze*72/96/Je;var tr={};for(var rr in Ze)tr[rr]=Ze[rr]*72/96/Je;return tr},Xe=function(Ze,Je){return Math.floor(Ze*Je/72*96)}}),"./src/worker.js":(function(Me,Ue,$e){$e.r(Ue),$e("./node_modules/core-js/modules/es.object.assign.js"),$e("./node_modules/core-js/modules/es.array.map.js"),$e("./node_modules/core-js/modules/es.object.keys.js"),$e("./node_modules/core-js/modules/es.array.concat.js"),$e("./node_modules/core-js/modules/es.object.to-string.js"),$e("./node_modules/core-js/modules/es.regexp.to-string.js"),$e("./node_modules/core-js/modules/es.function.name.js"),$e("./node_modules/core-js/modules/web.dom-collections.for-each.js");var He=$e("jspdf"),Qe=$e("html2canvas"),We=$e("./src/utils.js"),qe=$e("./node_modules/es6-promise/dist/es6-promise.js"),Ke=$e.n(qe),Xe=Ke().Promise,Ye=function Ze(Je){var tr=Object.assign(Ze.convert(Xe.resolve()),JSON.parse(JSON.stringify(Ze.template))),rr=Ze.convert(Xe.resolve(),tr);return rr=rr.setProgress(1,Ze,1,[Ze]),rr=rr.set(Je),rr};Ye.prototype=Object.create(Xe.prototype),Ye.prototype.constructor=Ye,Ye.convert=function(Je,tr){return Je.__proto__=tr||Ye.prototype,Je},Ye.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},Ye.prototype.from=function(Je,tr){function rr(ar){switch((0,We.objType)(ar)){case"string":return"string";case"element":return ar.nodeName.toLowerCase&&ar.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(tr=tr||rr(Je),tr){case"string":return this.set({src:(0,We.createElement)("div",{innerHTML:Je})});case"element":return this.set({src:Je});case"canvas":return this.set({canvas:Je});case"img":return this.set({img:Je});default:return this.error("Unknown source type.")}})},Ye.prototype.to=function(Je){switch(Je){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Ye.prototype.toContainer=function(){var Je=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(Je).then(function(){var rr={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},ar={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};rr.opacity=0;var nr=(0,We.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,We.createElement)("div",{className:"html2pdf__overlay",style:rr}),this.prop.container=(0,We.createElement)("div",{className:"html2pdf__container",style:ar}),this.prop.container.appendChild(nr),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},Ye.prototype.toCanvas=function(){var Je=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Je).then(function(){var rr=Object.assign({},this.opt.html2canvas);return delete rr.onrendered,Qe(this.prop.container,rr)}).then(function(rr){var ar=this.opt.html2canvas.onrendered||function(){};ar(rr),this.prop.canvas=rr,document.body.removeChild(this.prop.overlay)})},Ye.prototype.toImg=function(){var Je=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(Je).then(function(){var rr=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=rr})},Ye.prototype.toPdf=function(){var Je=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(Je).then(function(){var rr=this.prop.canvas,ar=this.opt,nr=rr.height,sr=Math.floor(rr.width*this.prop.pageSize.inner.ratio),dr=Math.ceil(nr/sr),_r=this.prop.pageSize.inner.height,fr=document.createElement("canvas"),or=fr.getContext("2d");fr.width=rr.width,fr.height=sr,this.prop.pdf=this.prop.pdf||new He.jsPDF(ar.jsPDF);for(var Er=0;Er<dr;Er++){Er===dr-1&&nr%sr!==0&&(fr.height=nr%sr,_r=fr.height*this.prop.pageSize.inner.width/fr.width);var Rr=fr.width,jr=fr.height;or.fillStyle="white",or.fillRect(0,0,Rr,jr),or.drawImage(rr,0,Er*sr,Rr,jr,0,0,Rr,jr),Er&&this.prop.pdf.addPage();var xr=fr.toDataURL("image/"+ar.image.type,ar.image.quality);this.prop.pdf.addImage(xr,ar.image.type,ar.margin[1],ar.margin[0],this.prop.pageSize.inner.width,_r)}})},Ye.prototype.output=function(Je,tr,rr){return rr=rr||"pdf",rr.toLowerCase()==="img"||rr.toLowerCase()==="image"?this.outputImg(Je,tr):this.outputPdf(Je,tr)},Ye.prototype.outputPdf=function(Je,tr){var rr=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(rr).then(function(){return this.prop.pdf.output(Je,tr)})},Ye.prototype.outputImg=function(Je,tr){var rr=[function(){return this.prop.img||this.toImg()}];return this.thenList(rr).then(function(){switch(Je){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Je+'" is not supported.'}})},Ye.prototype.save=function(Je){var tr=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(tr).set(Je?{filename:Je}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Ye.prototype.set=function(Je){if((0,We.objType)(Je)!=="object")return this;var tr=Object.keys(Je||{}).map(function(rr){switch(rr){case"margin":return this.setMargin.bind(this,Je.margin);case"jsPDF":return function(){return this.opt.jsPDF=Je.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Je.pageSize);default:return rr in Ye.template.prop?function(){this.prop[rr]=Je[rr]}:function(){this.opt[rr]=Je[rr]}}},this);return this.then(function(){return this.thenList(tr)})},Ye.prototype.get=function(Je,tr){return this.then(function(){var ar=Je in Ye.template.prop?this.prop[Je]:this.opt[Je];return tr?tr(ar):ar})},Ye.prototype.setMargin=function(Je){return this.then(function(){switch((0,We.objType)(Je)){case"number":Je=[Je,Je,Je,Je];case"array":if(Je.length===2&&(Je=[Je[0],Je[1],Je[0],Je[1]]),Je.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Je}).then(this.setPageSize)},Ye.prototype.setPageSize=function(Je){return this.then(function(){Je=Je||He.jsPDF.getPageSize(this.opt.jsPDF),Je.hasOwnProperty("inner")||(Je.inner={width:Je.width-this.opt.margin[1]-this.opt.margin[3],height:Je.height-this.opt.margin[0]-this.opt.margin[2]},Je.inner.px={width:(0,We.toPx)(Je.inner.width,Je.k),height:(0,We.toPx)(Je.inner.height,Je.k)},Je.inner.ratio=Je.inner.height/Je.inner.width),this.prop.pageSize=Je})},Ye.prototype.setProgress=function(Je,tr,rr,ar){return Je!=null&&(this.progress.val=Je),tr!=null&&(this.progress.state=tr),rr!=null&&(this.progress.n=rr),ar!=null&&(this.progress.stack=ar),this.progress.ratio=this.progress.val/this.progress.state,this},Ye.prototype.updateProgress=function(Je,tr,rr,ar){return this.setProgress(Je?this.progress.val+Je:null,tr||null,rr?this.progress.n+rr:null,ar?this.progress.stack.concat(ar):null)},Ye.prototype.then=function(Je,tr){var rr=this;return this.thenCore(Je,tr,function(nr,sr){return rr.updateProgress(null,null,1,[nr]),Xe.prototype.then.call(this,function(_r){return rr.updateProgress(null,nr),_r}).then(nr,sr).then(function(_r){return rr.updateProgress(1),_r})})},Ye.prototype.thenCore=function(Je,tr,rr){rr=rr||Xe.prototype.then;var ar=this;Je&&(Je=Je.bind(ar)),tr&&(tr=tr.bind(ar));var nr=Xe.toString().indexOf("[native code]")!==-1&&Xe.name==="Promise",sr=nr?ar:Ye.convert(Object.assign({},ar),Xe.prototype),dr=rr.call(sr,Je,tr);return Ye.convert(dr,ar.__proto__)},Ye.prototype.thenExternal=function(Je,tr){return Xe.prototype.then.call(this,Je,tr)},Ye.prototype.thenList=function(Je){var tr=this;return Je.forEach(function(ar){tr=tr.thenCore(ar)}),tr},Ye.prototype.catch=function(Ze){Ze&&(Ze=Ze.bind(this));var Je=Xe.prototype.catch.call(this,Ze);return Ye.convert(Je,this)},Ye.prototype.catchExternal=function(Je){return Xe.prototype.catch.call(this,Je)},Ye.prototype.error=function(Je){return this.then(function(){throw new Error(Je)})},Ye.prototype.using=Ye.prototype.set,Ye.prototype.saveAs=Ye.prototype.save,Ye.prototype.export=Ye.prototype.output,Ye.prototype.run=Ye.prototype.then,Ue.default=Ye}),"./node_modules/core-js/internals/a-function.js":(function(Me){Me.exports=function(Ue){if(typeof Ue!="function")throw TypeError(String(Ue)+" is not a function");return Ue}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-object.js");Me.exports=function(Qe){if(!He(Qe)&&Qe!==null)throw TypeError("Can't set "+String(Qe)+" as a prototype");return Qe}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/well-known-symbol.js"),Qe=$e("./node_modules/core-js/internals/object-create.js"),We=$e("./node_modules/core-js/internals/object-define-property.js"),qe=He("unscopables"),Ke=Array.prototype;Ke[qe]==null&&We.f(Ke,qe,{configurable:!0,value:Qe(null)}),Me.exports=function(Xe){Ke[qe][Xe]=!0}}),"./node_modules/core-js/internals/an-object.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-object.js");Me.exports=function(Qe){if(!He(Qe))throw TypeError(String(Qe)+" is not an object");return Qe}}),"./node_modules/core-js/internals/array-for-each.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/array-iteration.js").forEach,Qe=$e("./node_modules/core-js/internals/array-method-is-strict.js"),We=Qe("forEach");Me.exports=We?[].forEach:function(Ke){return He(this,Ke,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-includes.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-indexed-object.js"),Qe=$e("./node_modules/core-js/internals/to-length.js"),We=$e("./node_modules/core-js/internals/to-absolute-index.js"),qe=function(Ke){return function(Xe,Ye,Ze){var Je=He(Xe),tr=Qe(Je.length),rr=We(Ze,tr),ar;if(Ke&&Ye!=Ye){for(;tr>rr;)if(ar=Je[rr++],ar!=ar)return!0}else for(;tr>rr;rr++)if((Ke||rr in Je)&&Je[rr]===Ye)return Ke||rr||0;return!Ke&&-1}};Me.exports={includes:qe(!0),indexOf:qe(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/function-bind-context.js"),Qe=$e("./node_modules/core-js/internals/indexed-object.js"),We=$e("./node_modules/core-js/internals/to-object.js"),qe=$e("./node_modules/core-js/internals/to-length.js"),Ke=$e("./node_modules/core-js/internals/array-species-create.js"),Xe=[].push,Ye=function(Ze){var Je=Ze==1,tr=Ze==2,rr=Ze==3,ar=Ze==4,nr=Ze==6,sr=Ze==7,dr=Ze==5||nr;return function(_r,fr,or,Er){for(var Rr=We(_r),jr=Qe(Rr),xr=He(fr,or,3),Pr=qe(jr.length),br=0,wr=Er||Ke,Br=Je?wr(_r,Pr):tr||sr?wr(_r,0):void 0,Lr,yr;Pr>br;br++)if((dr||br in jr)&&(Lr=jr[br],yr=xr(Lr,br,Rr),Ze))if(Je)Br[br]=yr;else if(yr)switch(Ze){case 3:return!0;case 5:return Lr;case 6:return br;case 2:Xe.call(Br,Lr)}else switch(Ze){case 4:return!1;case 7:Xe.call(Br,Lr)}return nr?-1:rr||ar?ar:Br}};Me.exports={forEach:Ye(0),map:Ye(1),filter:Ye(2),some:Ye(3),every:Ye(4),find:Ye(5),findIndex:Ye(6),filterReject:Ye(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js"),Qe=$e("./node_modules/core-js/internals/well-known-symbol.js"),We=$e("./node_modules/core-js/internals/engine-v8-version.js"),qe=Qe("species");Me.exports=function(Ke){return We>=51||!He(function(){var Xe=[],Ye=Xe.constructor={};return Ye[qe]=function(){return{foo:1}},Xe[Ke](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js");Me.exports=function(Qe,We){var qe=[][Qe];return!!qe&&He(function(){qe.call(null,We||function(){throw 1},1)})}}),"./node_modules/core-js/internals/array-species-constructor.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-object.js"),Qe=$e("./node_modules/core-js/internals/is-array.js"),We=$e("./node_modules/core-js/internals/well-known-symbol.js"),qe=We("species");Me.exports=function(Ke){var Xe;return Qe(Ke)&&(Xe=Ke.constructor,typeof Xe=="function"&&(Xe===Array||Qe(Xe.prototype))?Xe=void 0:He(Xe)&&(Xe=Xe[qe],Xe===null&&(Xe=void 0))),Xe===void 0?Array:Xe}}),"./node_modules/core-js/internals/array-species-create.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/array-species-constructor.js");Me.exports=function(Qe,We){return new(He(Qe))(We===0?0:We)}}),"./node_modules/core-js/internals/classof-raw.js":(function(Me){var Ue={}.toString;Me.exports=function($e){return Ue.call($e).slice(8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-string-tag-support.js"),Qe=$e("./node_modules/core-js/internals/classof-raw.js"),We=$e("./node_modules/core-js/internals/well-known-symbol.js"),qe=We("toStringTag"),Ke=Qe((function(){return arguments})())=="Arguments",Xe=function(Ye,Ze){try{return Ye[Ze]}catch{}};Me.exports=He?Qe:function(Ye){var Ze,Je,tr;return Ye===void 0?"Undefined":Ye===null?"Null":typeof(Je=Xe(Ze=Object(Ye),qe))=="string"?Je:Ke?Qe(Ze):(tr=Qe(Ze))=="Object"&&typeof Ze.callee=="function"?"Arguments":tr}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/has.js"),Qe=$e("./node_modules/core-js/internals/own-keys.js"),We=$e("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),qe=$e("./node_modules/core-js/internals/object-define-property.js");Me.exports=function(Ke,Xe){for(var Ye=Qe(Xe),Ze=qe.f,Je=We.f,tr=0;tr<Ye.length;tr++){var rr=Ye[tr];He(Ke,rr)||Ze(Ke,rr,Je(Xe,rr))}}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js");Me.exports=!He(function(){function Qe(){}return Qe.prototype.constructor=null,Object.getPrototypeOf(new Qe)!==Qe.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/require-object-coercible.js"),Qe=$e("./node_modules/core-js/internals/to-string.js"),We=/"/g;Me.exports=function(qe,Ke,Xe,Ye){var Ze=Qe(He(qe)),Je="<"+Ke;return Xe!==""&&(Je+=" "+Xe+'="'+Qe(Ye).replace(We,"&quot;")+'"'),Je+">"+Ze+"</"+Ke+">"}}),"./node_modules/core-js/internals/create-iterator-constructor.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,Qe=$e("./node_modules/core-js/internals/object-create.js"),We=$e("./node_modules/core-js/internals/create-property-descriptor.js"),qe=$e("./node_modules/core-js/internals/set-to-string-tag.js"),Ke=$e("./node_modules/core-js/internals/iterators.js"),Xe=function(){return this};Me.exports=function(Ye,Ze,Je){var tr=Ze+" Iterator";return Ye.prototype=Qe(He,{next:We(1,Je)}),qe(Ye,tr,!1,!0),Ke[tr]=Xe,Ye}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/object-define-property.js"),We=$e("./node_modules/core-js/internals/create-property-descriptor.js");Me.exports=He?function(qe,Ke,Xe){return Qe.f(qe,Ke,We(1,Xe))}:function(qe,Ke,Xe){return qe[Ke]=Xe,qe}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(Me){Me.exports=function(Ue,$e){return{enumerable:!(Ue&1),configurable:!(Ue&2),writable:!(Ue&4),value:$e}}}),"./node_modules/core-js/internals/create-property.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-property-key.js"),Qe=$e("./node_modules/core-js/internals/object-define-property.js"),We=$e("./node_modules/core-js/internals/create-property-descriptor.js");Me.exports=function(qe,Ke,Xe){var Ye=He(Ke);Ye in qe?Qe.f(qe,Ye,We(0,Xe)):qe[Ye]=Xe}}),"./node_modules/core-js/internals/define-iterator.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/create-iterator-constructor.js"),We=$e("./node_modules/core-js/internals/object-get-prototype-of.js"),qe=$e("./node_modules/core-js/internals/object-set-prototype-of.js"),Ke=$e("./node_modules/core-js/internals/set-to-string-tag.js"),Xe=$e("./node_modules/core-js/internals/create-non-enumerable-property.js"),Ye=$e("./node_modules/core-js/internals/redefine.js"),Ze=$e("./node_modules/core-js/internals/well-known-symbol.js"),Je=$e("./node_modules/core-js/internals/is-pure.js"),tr=$e("./node_modules/core-js/internals/iterators.js"),rr=$e("./node_modules/core-js/internals/iterators-core.js"),ar=rr.IteratorPrototype,nr=rr.BUGGY_SAFARI_ITERATORS,sr=Ze("iterator"),dr="keys",_r="values",fr="entries",or=function(){return this};Me.exports=function(Er,Rr,jr,xr,Pr,br,wr){Qe(jr,Rr,xr);var Br=function(Jr){if(Jr===Pr&&Or)return Or;if(!nr&&Jr in vr)return vr[Jr];switch(Jr){case dr:return function(){return new jr(this,Jr)};case _r:return function(){return new jr(this,Jr)};case fr:return function(){return new jr(this,Jr)}}return function(){return new jr(this)}},Lr=Rr+" Iterator",yr=!1,vr=Er.prototype,Tr=vr[sr]||vr["@@iterator"]||Pr&&vr[Pr],Or=!nr&&Tr||Br(Pr),Nr=Rr=="Array"&&vr.entries||Tr,Hr,Wr,qr;if(Nr&&(Hr=We(Nr.call(new Er)),ar!==Object.prototype&&Hr.next&&(!Je&&We(Hr)!==ar&&(qe?qe(Hr,ar):typeof Hr[sr]!="function"&&Xe(Hr,sr,or)),Ke(Hr,Lr,!0,!0),Je&&(tr[Lr]=or))),Pr==_r&&Tr&&Tr.name!==_r&&(yr=!0,Or=function(){return Tr.call(this)}),(!Je||wr)&&vr[sr]!==Or&&Xe(vr,sr,Or),tr[Rr]=Or,Pr)if(Wr={values:Br(_r),keys:br?Or:Br(dr),entries:Br(fr)},wr)for(qr in Wr)(nr||yr||!(qr in vr))&&Ye(vr,qr,Wr[qr]);else He({target:Rr,proto:!0,forced:nr||yr},Wr);return Wr}}),"./node_modules/core-js/internals/define-well-known-symbol.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/path.js"),Qe=$e("./node_modules/core-js/internals/has.js"),We=$e("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),qe=$e("./node_modules/core-js/internals/object-define-property.js").f;Me.exports=function(Ke){var Xe=He.Symbol||(He.Symbol={});Qe(Xe,Ke)||qe(Xe,Ke,{value:We.f(Ke)})}}),"./node_modules/core-js/internals/descriptors.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js");Me.exports=!He(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),"./node_modules/core-js/internals/document-create-element.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/is-object.js"),We=He.document,qe=Qe(We)&&Qe(We.createElement);Me.exports=function(Ke){return qe?We.createElement(Ke):{}}}),"./node_modules/core-js/internals/dom-iterables.js":(function(Me){Me.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/engine-user-agent.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/get-built-in.js");Me.exports=He("navigator","userAgent")||""}),"./node_modules/core-js/internals/engine-v8-version.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/engine-user-agent.js"),We=He.process,qe=He.Deno,Ke=We&&We.versions||qe&&qe.version,Xe=Ke&&Ke.v8,Ye,Ze;Xe?(Ye=Xe.split("."),Ze=Ye[0]<4?1:Ye[0]+Ye[1]):Qe&&(Ye=Qe.match(/Edge\/(\d+)/),(!Ye||Ye[1]>=74)&&(Ye=Qe.match(/Chrome\/(\d+)/),Ye&&(Ze=Ye[1]))),Me.exports=Ze&&+Ze}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(Me){Me.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/export.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,We=$e("./node_modules/core-js/internals/create-non-enumerable-property.js"),qe=$e("./node_modules/core-js/internals/redefine.js"),Ke=$e("./node_modules/core-js/internals/set-global.js"),Xe=$e("./node_modules/core-js/internals/copy-constructor-properties.js"),Ye=$e("./node_modules/core-js/internals/is-forced.js");Me.exports=function(Ze,Je){var tr=Ze.target,rr=Ze.global,ar=Ze.stat,nr,sr,dr,_r,fr,or;if(rr?sr=He:ar?sr=He[tr]||Ke(tr,{}):sr=(He[tr]||{}).prototype,sr)for(dr in Je){if(fr=Je[dr],Ze.noTargetGet?(or=Qe(sr,dr),_r=or&&or.value):_r=sr[dr],nr=Ye(rr?dr:tr+(ar?".":"#")+dr,Ze.forced),!nr&&_r!==void 0){if(typeof fr==typeof _r)continue;Xe(fr,_r)}(Ze.sham||_r&&_r.sham)&&We(fr,"sham",!0),qe(sr,dr,fr,Ze)}}}),"./node_modules/core-js/internals/fails.js":(function(Me){Me.exports=function(Ue){try{return!!Ue()}catch{return!0}}}),"./node_modules/core-js/internals/function-bind-context.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/a-function.js");Me.exports=function(Qe,We,qe){if(He(Qe),We===void 0)return Qe;switch(qe){case 0:return function(){return Qe.call(We)};case 1:return function(Ke){return Qe.call(We,Ke)};case 2:return function(Ke,Xe){return Qe.call(We,Ke,Xe)};case 3:return function(Ke,Xe,Ye){return Qe.call(We,Ke,Xe,Ye)}}return function(){return Qe.apply(We,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=function(We){return typeof We=="function"?We:void 0};Me.exports=function(We,qe){return arguments.length<2?Qe(He[We]):He[We]&&He[We][qe]}}),"./node_modules/core-js/internals/global.js":(function(Me){var Ue=function($e){return $e&&$e.Math==Math&&$e};Me.exports=Ue(typeof globalThis=="object"&&globalThis)||Ue(typeof window=="object"&&window)||Ue(typeof self=="object"&&self)||Ue(typeof commonjsGlobal$2=="object"&&commonjsGlobal$2)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-object.js"),Qe={}.hasOwnProperty;Me.exports=Object.hasOwn||function(qe,Ke){return Qe.call(He(qe),Ke)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(Me){Me.exports={}}),"./node_modules/core-js/internals/html.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/get-built-in.js");Me.exports=He("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/fails.js"),We=$e("./node_modules/core-js/internals/document-create-element.js");Me.exports=!He&&!Qe(function(){return Object.defineProperty(We("div"),"a",{get:function(){return 7}}).a!=7})}),"./node_modules/core-js/internals/indexed-object.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js"),Qe=$e("./node_modules/core-js/internals/classof-raw.js"),We="".split;Me.exports=He(function(){return!Object("z").propertyIsEnumerable(0)})?function(qe){return Qe(qe)=="String"?We.call(qe,""):Object(qe)}:Object}),"./node_modules/core-js/internals/inherit-if-required.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-object.js"),Qe=$e("./node_modules/core-js/internals/object-set-prototype-of.js");Me.exports=function(We,qe,Ke){var Xe,Ye;return Qe&&typeof(Xe=qe.constructor)=="function"&&Xe!==Ke&&He(Ye=Xe.prototype)&&Ye!==Ke.prototype&&Qe(We,Ye),We}}),"./node_modules/core-js/internals/inspect-source.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/shared-store.js"),Qe=Function.toString;typeof He.inspectSource!="function"&&(He.inspectSource=function(We){return Qe.call(We)}),Me.exports=He.inspectSource}),"./node_modules/core-js/internals/internal-state.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/native-weak-map.js"),Qe=$e("./node_modules/core-js/internals/global.js"),We=$e("./node_modules/core-js/internals/is-object.js"),qe=$e("./node_modules/core-js/internals/create-non-enumerable-property.js"),Ke=$e("./node_modules/core-js/internals/has.js"),Xe=$e("./node_modules/core-js/internals/shared-store.js"),Ye=$e("./node_modules/core-js/internals/shared-key.js"),Ze=$e("./node_modules/core-js/internals/hidden-keys.js"),Je="Object already initialized",tr=Qe.WeakMap,rr,ar,nr,sr=function(jr){return nr(jr)?ar(jr):rr(jr,{})},dr=function(jr){return function(xr){var Pr;if(!We(xr)||(Pr=ar(xr)).type!==jr)throw TypeError("Incompatible receiver, "+jr+" required");return Pr}};if(He||Xe.state){var _r=Xe.state||(Xe.state=new tr),fr=_r.get,or=_r.has,Er=_r.set;rr=function(jr,xr){if(or.call(_r,jr))throw new TypeError(Je);return xr.facade=jr,Er.call(_r,jr,xr),xr},ar=function(jr){return fr.call(_r,jr)||{}},nr=function(jr){return or.call(_r,jr)}}else{var Rr=Ye("state");Ze[Rr]=!0,rr=function(jr,xr){if(Ke(jr,Rr))throw new TypeError(Je);return xr.facade=jr,qe(jr,Rr,xr),xr},ar=function(jr){return Ke(jr,Rr)?jr[Rr]:{}},nr=function(jr){return Ke(jr,Rr)}}Me.exports={set:rr,get:ar,has:nr,enforce:sr,getterFor:dr}}),"./node_modules/core-js/internals/is-array.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/classof-raw.js");Me.exports=Array.isArray||function(We){return He(We)=="Array"}}),"./node_modules/core-js/internals/is-forced.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js"),Qe=/#|\.prototype\./,We=function(Ze,Je){var tr=Ke[qe(Ze)];return tr==Ye?!0:tr==Xe?!1:typeof Je=="function"?He(Je):!!Je},qe=We.normalize=function(Ze){return String(Ze).replace(Qe,".").toLowerCase()},Ke=We.data={},Xe=We.NATIVE="N",Ye=We.POLYFILL="P";Me.exports=We}),"./node_modules/core-js/internals/is-object.js":(function(Me){Me.exports=function(Ue){return typeof Ue=="object"?Ue!==null:typeof Ue=="function"}}),"./node_modules/core-js/internals/is-pure.js":(function(Me){Me.exports=!1}),"./node_modules/core-js/internals/is-symbol.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/get-built-in.js"),Qe=$e("./node_modules/core-js/internals/use-symbol-as-uid.js");Me.exports=Qe?function(We){return typeof We=="symbol"}:function(We){var qe=He("Symbol");return typeof qe=="function"&&Object(We)instanceof qe}}),"./node_modules/core-js/internals/iterators-core.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js"),Qe=$e("./node_modules/core-js/internals/object-get-prototype-of.js"),We=$e("./node_modules/core-js/internals/create-non-enumerable-property.js"),qe=$e("./node_modules/core-js/internals/has.js"),Ke=$e("./node_modules/core-js/internals/well-known-symbol.js"),Xe=$e("./node_modules/core-js/internals/is-pure.js"),Ye=Ke("iterator"),Ze=!1,Je=function(){return this},tr,rr,ar;[].keys&&(ar=[].keys(),"next"in ar?(rr=Qe(Qe(ar)),rr!==Object.prototype&&(tr=rr)):Ze=!0);var nr=tr==null||He(function(){var sr={};return tr[Ye].call(sr)!==sr});nr&&(tr={}),(!Xe||nr)&&!qe(tr,Ye)&&We(tr,Ye,Je),Me.exports={IteratorPrototype:tr,BUGGY_SAFARI_ITERATORS:Ze}}),"./node_modules/core-js/internals/iterators.js":(function(Me){Me.exports={}}),"./node_modules/core-js/internals/native-symbol.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/engine-v8-version.js"),Qe=$e("./node_modules/core-js/internals/fails.js");Me.exports=!!Object.getOwnPropertySymbols&&!Qe(function(){var We=Symbol();return!String(We)||!(Object(We)instanceof Symbol)||!Symbol.sham&&He&&He<41})}),"./node_modules/core-js/internals/native-weak-map.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/inspect-source.js"),We=He.WeakMap;Me.exports=typeof We=="function"&&/native code/.test(Qe(We))}),"./node_modules/core-js/internals/object-assign.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/fails.js"),We=$e("./node_modules/core-js/internals/object-keys.js"),qe=$e("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Ke=$e("./node_modules/core-js/internals/object-property-is-enumerable.js"),Xe=$e("./node_modules/core-js/internals/to-object.js"),Ye=$e("./node_modules/core-js/internals/indexed-object.js"),Ze=Object.assign,Je=Object.defineProperty;Me.exports=!Ze||Qe(function(){if(He&&Ze({b:1},Ze(Je({},"a",{enumerable:!0,get:function(){Je(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var tr={},rr={},ar=Symbol(),nr="abcdefghijklmnopqrst";return tr[ar]=7,nr.split("").forEach(function(sr){rr[sr]=sr}),Ze({},tr)[ar]!=7||We(Ze({},rr)).join("")!=nr})?function(rr,ar){for(var nr=Xe(rr),sr=arguments.length,dr=1,_r=qe.f,fr=Ke.f;sr>dr;)for(var or=Ye(arguments[dr++]),Er=_r?We(or).concat(_r(or)):We(or),Rr=Er.length,jr=0,xr;Rr>jr;)xr=Er[jr++],(!He||fr.call(or,xr))&&(nr[xr]=or[xr]);return nr}:Ze}),"./node_modules/core-js/internals/object-create.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/an-object.js"),Qe=$e("./node_modules/core-js/internals/object-define-properties.js"),We=$e("./node_modules/core-js/internals/enum-bug-keys.js"),qe=$e("./node_modules/core-js/internals/hidden-keys.js"),Ke=$e("./node_modules/core-js/internals/html.js"),Xe=$e("./node_modules/core-js/internals/document-create-element.js"),Ye=$e("./node_modules/core-js/internals/shared-key.js"),Ze=">",Je="<",tr="prototype",rr="script",ar=Ye("IE_PROTO"),nr=function(){},sr=function(Er){return Je+rr+Ze+Er+Je+"/"+rr+Ze},dr=function(Er){Er.write(sr("")),Er.close();var Rr=Er.parentWindow.Object;return Er=null,Rr},_r=function(){var Er=Xe("iframe"),Rr="java"+rr+":",jr;if(Er.style)return Er.style.display="none",Ke.appendChild(Er),Er.src=String(Rr),jr=Er.contentWindow.document,jr.open(),jr.write(sr("document.F=Object")),jr.close(),jr.F},fr,or=function(){try{fr=new ActiveXObject("htmlfile")}catch{}or=document.domain&&fr?dr(fr):_r()||dr(fr);for(var Er=We.length;Er--;)delete or[tr][We[Er]];return or()};qe[ar]=!0,Me.exports=Object.create||function(Rr,jr){var xr;return Rr!==null?(nr[tr]=He(Rr),xr=new nr,nr[tr]=null,xr[ar]=Rr):xr=or(),jr===void 0?xr:Qe(xr,jr)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/object-define-property.js"),We=$e("./node_modules/core-js/internals/an-object.js"),qe=$e("./node_modules/core-js/internals/object-keys.js");Me.exports=He?Object.defineProperties:function(Xe,Ye){We(Xe);for(var Ze=qe(Ye),Je=Ze.length,tr=0,rr;Je>tr;)Qe.f(Xe,rr=Ze[tr++],Ye[rr]);return Xe}}),"./node_modules/core-js/internals/object-define-property.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/ie8-dom-define.js"),We=$e("./node_modules/core-js/internals/an-object.js"),qe=$e("./node_modules/core-js/internals/to-property-key.js"),Ke=Object.defineProperty;Ue.f=He?Ke:function(Ye,Ze,Je){if(We(Ye),Ze=qe(Ze),We(Je),Qe)try{return Ke(Ye,Ze,Je)}catch{}if("get"in Je||"set"in Je)throw TypeError("Accessors not supported");return"value"in Je&&(Ye[Ze]=Je.value),Ye}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/object-property-is-enumerable.js"),We=$e("./node_modules/core-js/internals/create-property-descriptor.js"),qe=$e("./node_modules/core-js/internals/to-indexed-object.js"),Ke=$e("./node_modules/core-js/internals/to-property-key.js"),Xe=$e("./node_modules/core-js/internals/has.js"),Ye=$e("./node_modules/core-js/internals/ie8-dom-define.js"),Ze=Object.getOwnPropertyDescriptor;Ue.f=He?Ze:function(tr,rr){if(tr=qe(tr),rr=Ke(rr),Ye)try{return Ze(tr,rr)}catch{}if(Xe(tr,rr))return We(!Qe.f.call(tr,rr),tr[rr])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-indexed-object.js"),Qe=$e("./node_modules/core-js/internals/object-get-own-property-names.js").f,We={}.toString,qe=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ke=function(Xe){try{return Qe(Xe)}catch{return qe.slice()}};Me.exports.f=function(Ye){return qe&&We.call(Ye)=="[object Window]"?Ke(Ye):Qe(He(Ye))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/object-keys-internal.js"),Qe=$e("./node_modules/core-js/internals/enum-bug-keys.js"),We=Qe.concat("length","prototype");Ue.f=Object.getOwnPropertyNames||function(Ke){return He(Ke,We)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(Me,Ue){Ue.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/has.js"),Qe=$e("./node_modules/core-js/internals/to-object.js"),We=$e("./node_modules/core-js/internals/shared-key.js"),qe=$e("./node_modules/core-js/internals/correct-prototype-getter.js"),Ke=We("IE_PROTO"),Xe=Object.prototype;Me.exports=qe?Object.getPrototypeOf:function(Ye){return Ye=Qe(Ye),He(Ye,Ke)?Ye[Ke]:typeof Ye.constructor=="function"&&Ye instanceof Ye.constructor?Ye.constructor.prototype:Ye instanceof Object?Xe:null}}),"./node_modules/core-js/internals/object-keys-internal.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/has.js"),Qe=$e("./node_modules/core-js/internals/to-indexed-object.js"),We=$e("./node_modules/core-js/internals/array-includes.js").indexOf,qe=$e("./node_modules/core-js/internals/hidden-keys.js");Me.exports=function(Ke,Xe){var Ye=Qe(Ke),Ze=0,Je=[],tr;for(tr in Ye)!He(qe,tr)&&He(Ye,tr)&&Je.push(tr);for(;Xe.length>Ze;)He(Ye,tr=Xe[Ze++])&&(~We(Je,tr)||Je.push(tr));return Je}}),"./node_modules/core-js/internals/object-keys.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/object-keys-internal.js"),Qe=$e("./node_modules/core-js/internals/enum-bug-keys.js");Me.exports=Object.keys||function(qe){return He(qe,Qe)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(Me,Ue){var $e={}.propertyIsEnumerable,He=Object.getOwnPropertyDescriptor,Qe=He&&!$e.call({1:2},1);Ue.f=Qe?function(qe){var Ke=He(this,qe);return!!Ke&&Ke.enumerable}:$e}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/an-object.js"),Qe=$e("./node_modules/core-js/internals/a-possible-prototype.js");Me.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var We=!1,qe={},Ke;try{Ke=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,Ke.call(qe,[]),We=qe instanceof Array}catch{}return function(Ye,Ze){return He(Ye),Qe(Ze),We?Ke.call(Ye,Ze):Ye.__proto__=Ze,Ye}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-string-tag-support.js"),Qe=$e("./node_modules/core-js/internals/classof.js");Me.exports=He?{}.toString:function(){return"[object "+Qe(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-object.js");Me.exports=function(Qe,We){var qe,Ke;if(We==="string"&&typeof(qe=Qe.toString)=="function"&&!He(Ke=qe.call(Qe))||typeof(qe=Qe.valueOf)=="function"&&!He(Ke=qe.call(Qe))||We!=="string"&&typeof(qe=Qe.toString)=="function"&&!He(Ke=qe.call(Qe)))return Ke;throw TypeError("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/get-built-in.js"),Qe=$e("./node_modules/core-js/internals/object-get-own-property-names.js"),We=$e("./node_modules/core-js/internals/object-get-own-property-symbols.js"),qe=$e("./node_modules/core-js/internals/an-object.js");Me.exports=He("Reflect","ownKeys")||function(Xe){var Ye=Qe.f(qe(Xe)),Ze=We.f;return Ze?Ye.concat(Ze(Xe)):Ye}}),"./node_modules/core-js/internals/path.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js");Me.exports=He}),"./node_modules/core-js/internals/redefine.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/create-non-enumerable-property.js"),We=$e("./node_modules/core-js/internals/has.js"),qe=$e("./node_modules/core-js/internals/set-global.js"),Ke=$e("./node_modules/core-js/internals/inspect-source.js"),Xe=$e("./node_modules/core-js/internals/internal-state.js"),Ye=Xe.get,Ze=Xe.enforce,Je=String(String).split("String");(Me.exports=function(tr,rr,ar,nr){var sr=nr?!!nr.unsafe:!1,dr=nr?!!nr.enumerable:!1,_r=nr?!!nr.noTargetGet:!1,fr;if(typeof ar=="function"&&(typeof rr=="string"&&!We(ar,"name")&&Qe(ar,"name",rr),fr=Ze(ar),fr.source||(fr.source=Je.join(typeof rr=="string"?rr:""))),tr===He){dr?tr[rr]=ar:qe(rr,ar);return}else sr?!_r&&tr[rr]&&(dr=!0):delete tr[rr];dr?tr[rr]=ar:Qe(tr,rr,ar)})(Function.prototype,"toString",function(){return typeof this=="function"&&Ye(this).source||Ke(this)})}),"./node_modules/core-js/internals/regexp-flags.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/an-object.js");Me.exports=function(){var Qe=He(this),We="";return Qe.global&&(We+="g"),Qe.ignoreCase&&(We+="i"),Qe.multiline&&(We+="m"),Qe.dotAll&&(We+="s"),Qe.unicode&&(We+="u"),Qe.sticky&&(We+="y"),We}}),"./node_modules/core-js/internals/require-object-coercible.js":(function(Me){Me.exports=function(Ue){if(Ue==null)throw TypeError("Can't call method on "+Ue);return Ue}}),"./node_modules/core-js/internals/set-global.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js");Me.exports=function(Qe,We){try{Object.defineProperty(He,Qe,{value:We,configurable:!0,writable:!0})}catch{He[Qe]=We}return We}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/object-define-property.js").f,Qe=$e("./node_modules/core-js/internals/has.js"),We=$e("./node_modules/core-js/internals/well-known-symbol.js"),qe=We("toStringTag");Me.exports=function(Ke,Xe,Ye){Ke&&!Qe(Ke=Ye?Ke:Ke.prototype,qe)&&He(Ke,qe,{configurable:!0,value:Xe})}}),"./node_modules/core-js/internals/shared-key.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/shared.js"),Qe=$e("./node_modules/core-js/internals/uid.js"),We=He("keys");Me.exports=function(qe){return We[qe]||(We[qe]=Qe(qe))}}),"./node_modules/core-js/internals/shared-store.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/set-global.js"),We="__core-js_shared__",qe=He[We]||Qe(We,{});Me.exports=qe}),"./node_modules/core-js/internals/shared.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-pure.js"),Qe=$e("./node_modules/core-js/internals/shared-store.js");(Me.exports=function(We,qe){return Qe[We]||(Qe[We]=qe!==void 0?qe:{})})("versions",[]).push({version:"3.16.0",mode:He?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),"./node_modules/core-js/internals/string-html-forced.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js");Me.exports=function(Qe){return He(function(){var We=""[Qe]('"');return We!==We.toLowerCase()||We.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-integer.js"),Qe=$e("./node_modules/core-js/internals/to-string.js"),We=$e("./node_modules/core-js/internals/require-object-coercible.js"),qe=function(Ke){return function(Xe,Ye){var Ze=Qe(We(Xe)),Je=He(Ye),tr=Ze.length,rr,ar;return Je<0||Je>=tr?Ke?"":void 0:(rr=Ze.charCodeAt(Je),rr<55296||rr>56319||Je+1===tr||(ar=Ze.charCodeAt(Je+1))<56320||ar>57343?Ke?Ze.charAt(Je):rr:Ke?Ze.slice(Je,Je+2):(rr-55296<<10)+(ar-56320)+65536)}};Me.exports={codeAt:qe(!1),charAt:qe(!0)}}),"./node_modules/core-js/internals/string-trim.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/require-object-coercible.js"),Qe=$e("./node_modules/core-js/internals/to-string.js"),We=$e("./node_modules/core-js/internals/whitespaces.js"),qe="["+We+"]",Ke=RegExp("^"+qe+qe+"*"),Xe=RegExp(qe+qe+"*$"),Ye=function(Ze){return function(Je){var tr=Qe(He(Je));return Ze&1&&(tr=tr.replace(Ke,"")),Ze&2&&(tr=tr.replace(Xe,"")),tr}};Me.exports={start:Ye(1),end:Ye(2),trim:Ye(3)}}),"./node_modules/core-js/internals/to-absolute-index.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-integer.js"),Qe=Math.max,We=Math.min;Me.exports=function(qe,Ke){var Xe=He(qe);return Xe<0?Qe(Xe+Ke,0):We(Xe,Ke)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/indexed-object.js"),Qe=$e("./node_modules/core-js/internals/require-object-coercible.js");Me.exports=function(We){return He(Qe(We))}}),"./node_modules/core-js/internals/to-integer.js":(function(Me){var Ue=Math.ceil,$e=Math.floor;Me.exports=function(He){return isNaN(He=+He)?0:(He>0?$e:Ue)(He)}}),"./node_modules/core-js/internals/to-length.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-integer.js"),Qe=Math.min;Me.exports=function(We){return We>0?Qe(He(We),9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/require-object-coercible.js");Me.exports=function(Qe){return Object(He(Qe))}}),"./node_modules/core-js/internals/to-primitive.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-object.js"),Qe=$e("./node_modules/core-js/internals/is-symbol.js"),We=$e("./node_modules/core-js/internals/ordinary-to-primitive.js"),qe=$e("./node_modules/core-js/internals/well-known-symbol.js"),Ke=qe("toPrimitive");Me.exports=function(Xe,Ye){if(!He(Xe)||Qe(Xe))return Xe;var Ze=Xe[Ke],Je;if(Ze!==void 0){if(Ye===void 0&&(Ye="default"),Je=Ze.call(Xe,Ye),!He(Je)||Qe(Je))return Je;throw TypeError("Can't convert object to primitive value")}return Ye===void 0&&(Ye="number"),We(Xe,Ye)}}),"./node_modules/core-js/internals/to-property-key.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-primitive.js"),Qe=$e("./node_modules/core-js/internals/is-symbol.js");Me.exports=function(We){var qe=He(We,"string");return Qe(qe)?qe:String(qe)}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/well-known-symbol.js"),Qe=He("toStringTag"),We={};We[Qe]="z",Me.exports=String(We)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-symbol.js");Me.exports=function(Qe){if(He(Qe))throw TypeError("Cannot convert a Symbol value to a string");return String(Qe)}}),"./node_modules/core-js/internals/uid.js":(function(Me){var Ue=0,$e=Math.random();Me.exports=function(He){return"Symbol("+String(He===void 0?"":He)+")_"+(++Ue+$e).toString(36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/native-symbol.js");Me.exports=He&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/well-known-symbol.js");Ue.f=He}),"./node_modules/core-js/internals/well-known-symbol.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/shared.js"),We=$e("./node_modules/core-js/internals/has.js"),qe=$e("./node_modules/core-js/internals/uid.js"),Ke=$e("./node_modules/core-js/internals/native-symbol.js"),Xe=$e("./node_modules/core-js/internals/use-symbol-as-uid.js"),Ye=Qe("wks"),Ze=He.Symbol,Je=Xe?Ze:Ze&&Ze.withoutSetter||qe;Me.exports=function(tr){return(!We(Ye,tr)||!(Ke||typeof Ye[tr]=="string"))&&(Ke&&We(Ze,tr)?Ye[tr]=Ze[tr]:Ye[tr]=Je("Symbol."+tr)),Ye[tr]}}),"./node_modules/core-js/internals/whitespaces.js":(function(Me){Me.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/fails.js"),We=$e("./node_modules/core-js/internals/is-array.js"),qe=$e("./node_modules/core-js/internals/is-object.js"),Ke=$e("./node_modules/core-js/internals/to-object.js"),Xe=$e("./node_modules/core-js/internals/to-length.js"),Ye=$e("./node_modules/core-js/internals/create-property.js"),Ze=$e("./node_modules/core-js/internals/array-species-create.js"),Je=$e("./node_modules/core-js/internals/array-method-has-species-support.js"),tr=$e("./node_modules/core-js/internals/well-known-symbol.js"),rr=$e("./node_modules/core-js/internals/engine-v8-version.js"),ar=tr("isConcatSpreadable"),nr=9007199254740991,sr="Maximum allowed index exceeded",dr=rr>=51||!Qe(function(){var Er=[];return Er[ar]=!1,Er.concat()[0]!==Er}),_r=Je("concat"),fr=function(Er){if(!qe(Er))return!1;var Rr=Er[ar];return Rr!==void 0?!!Rr:We(Er)},or=!dr||!_r;He({target:"Array",proto:!0,forced:or},{concat:function(Rr){var jr=Ke(this),xr=Ze(jr,0),Pr=0,br,wr,Br,Lr,yr;for(br=-1,Br=arguments.length;br<Br;br++)if(yr=br===-1?jr:arguments[br],fr(yr)){if(Lr=Xe(yr.length),Pr+Lr>nr)throw TypeError(sr);for(wr=0;wr<Lr;wr++,Pr++)wr in yr&&Ye(xr,Pr,yr[wr])}else{if(Pr>=nr)throw TypeError(sr);Ye(xr,Pr++,yr)}return xr.length=Pr,xr}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-indexed-object.js"),Qe=$e("./node_modules/core-js/internals/add-to-unscopables.js"),We=$e("./node_modules/core-js/internals/iterators.js"),qe=$e("./node_modules/core-js/internals/internal-state.js"),Ke=$e("./node_modules/core-js/internals/define-iterator.js"),Xe="Array Iterator",Ye=qe.set,Ze=qe.getterFor(Xe);Me.exports=Ke(Array,"Array",function(Je,tr){Ye(this,{type:Xe,target:He(Je),index:0,kind:tr})},function(){var Je=Ze(this),tr=Je.target,rr=Je.kind,ar=Je.index++;return!tr||ar>=tr.length?(Je.target=void 0,{value:void 0,done:!0}):rr=="keys"?{value:ar,done:!1}:rr=="values"?{value:tr[ar],done:!1}:{value:[ar,tr[ar]],done:!1}},"values"),We.Arguments=We.Array,Qe("keys"),Qe("values"),Qe("entries")}),"./node_modules/core-js/modules/es.array.join.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/indexed-object.js"),We=$e("./node_modules/core-js/internals/to-indexed-object.js"),qe=$e("./node_modules/core-js/internals/array-method-is-strict.js"),Ke=[].join,Xe=Qe!=Object,Ye=qe("join",",");He({target:"Array",proto:!0,forced:Xe||!Ye},{join:function(Je){return Ke.call(We(this),Je===void 0?",":Je)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/array-iteration.js").map,We=$e("./node_modules/core-js/internals/array-method-has-species-support.js"),qe=We("map");He({target:"Array",proto:!0,forced:!qe},{map:function(Xe){return Qe(this,Xe,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/is-object.js"),We=$e("./node_modules/core-js/internals/is-array.js"),qe=$e("./node_modules/core-js/internals/to-absolute-index.js"),Ke=$e("./node_modules/core-js/internals/to-length.js"),Xe=$e("./node_modules/core-js/internals/to-indexed-object.js"),Ye=$e("./node_modules/core-js/internals/create-property.js"),Ze=$e("./node_modules/core-js/internals/well-known-symbol.js"),Je=$e("./node_modules/core-js/internals/array-method-has-species-support.js"),tr=Je("slice"),rr=Ze("species"),ar=[].slice,nr=Math.max;He({target:"Array",proto:!0,forced:!tr},{slice:function(dr,_r){var fr=Xe(this),or=Ke(fr.length),Er=qe(dr,or),Rr=qe(_r===void 0?or:_r,or),jr,xr,Pr;if(We(fr)&&(jr=fr.constructor,typeof jr=="function"&&(jr===Array||We(jr.prototype))?jr=void 0:Qe(jr)&&(jr=jr[rr],jr===null&&(jr=void 0)),jr===Array||jr===void 0))return ar.call(fr,Er,Rr);for(xr=new(jr===void 0?Array:jr)(nr(Rr-Er,0)),Pr=0;Er<Rr;Er++,Pr++)Er in fr&&Ye(xr,Pr,fr[Er]);return xr.length=Pr,xr}})}),"./node_modules/core-js/modules/es.function.name.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/object-define-property.js").f,We=Function.prototype,qe=We.toString,Ke=/^\s*function ([^ (]*)/,Xe="name";He&&!(Xe in We)&&Qe(We,Xe,{configurable:!0,get:function(){try{return qe.call(this).match(Ke)[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/global.js"),We=$e("./node_modules/core-js/internals/is-forced.js"),qe=$e("./node_modules/core-js/internals/redefine.js"),Ke=$e("./node_modules/core-js/internals/has.js"),Xe=$e("./node_modules/core-js/internals/classof-raw.js"),Ye=$e("./node_modules/core-js/internals/inherit-if-required.js"),Ze=$e("./node_modules/core-js/internals/is-symbol.js"),Je=$e("./node_modules/core-js/internals/to-primitive.js"),tr=$e("./node_modules/core-js/internals/fails.js"),rr=$e("./node_modules/core-js/internals/object-create.js"),ar=$e("./node_modules/core-js/internals/object-get-own-property-names.js").f,nr=$e("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,sr=$e("./node_modules/core-js/internals/object-define-property.js").f,dr=$e("./node_modules/core-js/internals/string-trim.js").trim,_r="Number",fr=Qe[_r],or=fr.prototype,Er=Xe(rr(or))==_r,Rr=function(wr){if(Ze(wr))throw TypeError("Cannot convert a Symbol value to a number");var Br=Je(wr,"number"),Lr,yr,vr,Tr,Or,Nr,Hr,Wr;if(typeof Br=="string"&&Br.length>2){if(Br=dr(Br),Lr=Br.charCodeAt(0),Lr===43||Lr===45){if(yr=Br.charCodeAt(2),yr===88||yr===120)return NaN}else if(Lr===48){switch(Br.charCodeAt(1)){case 66:case 98:vr=2,Tr=49;break;case 79:case 111:vr=8,Tr=55;break;default:return+Br}for(Or=Br.slice(2),Nr=Or.length,Hr=0;Hr<Nr;Hr++)if(Wr=Or.charCodeAt(Hr),Wr<48||Wr>Tr)return NaN;return parseInt(Or,vr)}}return+Br};if(We(_r,!fr(" 0o1")||!fr("0b1")||fr("+0x1"))){for(var jr=function(Br){var Lr=arguments.length<1?0:Br,yr=this;return yr instanceof jr&&(Er?tr(function(){or.valueOf.call(yr)}):Xe(yr)!=_r)?Ye(new fr(Rr(Lr)),yr,jr):Rr(Lr)},xr=He?ar(fr):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Pr=0,br;xr.length>Pr;Pr++)Ke(fr,br=xr[Pr])&&!Ke(jr,br)&&sr(jr,br,nr(fr,br));jr.prototype=or,or.constructor=jr,qe(Qe,_r,jr)}}),"./node_modules/core-js/modules/es.object.assign.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/object-assign.js");He({target:"Object",stat:!0,forced:Object.assign!==Qe},{assign:Qe})}),"./node_modules/core-js/modules/es.object.keys.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/to-object.js"),We=$e("./node_modules/core-js/internals/object-keys.js"),qe=$e("./node_modules/core-js/internals/fails.js"),Ke=qe(function(){We(1)});He({target:"Object",stat:!0,forced:Ke},{keys:function(Ye){return We(Qe(Ye))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-string-tag-support.js"),Qe=$e("./node_modules/core-js/internals/redefine.js"),We=$e("./node_modules/core-js/internals/object-to-string.js");He||Qe(Object.prototype,"toString",We,{unsafe:!0})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/redefine.js"),Qe=$e("./node_modules/core-js/internals/an-object.js"),We=$e("./node_modules/core-js/internals/to-string.js"),qe=$e("./node_modules/core-js/internals/fails.js"),Ke=$e("./node_modules/core-js/internals/regexp-flags.js"),Xe="toString",Ye=RegExp.prototype,Ze=Ye[Xe],Je=qe(function(){return Ze.call({source:"a",flags:"b"})!="/a/b"}),tr=Ze.name!=Xe;(Je||tr)&&He(RegExp.prototype,Xe,function(){var ar=Qe(this),nr=We(ar.source),sr=ar.flags,dr=We(sr===void 0&&ar instanceof RegExp&&!("flags"in Ye)?Ke.call(ar):sr);return"/"+nr+"/"+dr},{unsafe:!0})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/string-multibyte.js").charAt,Qe=$e("./node_modules/core-js/internals/to-string.js"),We=$e("./node_modules/core-js/internals/internal-state.js"),qe=$e("./node_modules/core-js/internals/define-iterator.js"),Ke="String Iterator",Xe=We.set,Ye=We.getterFor(Ke);qe(String,"String",function(Ze){Xe(this,{type:Ke,string:Qe(Ze),index:0})},function(){var Je=Ye(this),tr=Je.string,rr=Je.index,ar;return rr>=tr.length?{value:void 0,done:!0}:(ar=He(tr,rr),Je.index+=ar.length,{value:ar,done:!1})})}),"./node_modules/core-js/modules/es.string.link.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/create-html.js"),We=$e("./node_modules/core-js/internals/string-html-forced.js");He({target:"String",proto:!0,forced:We("link")},{link:function(Ke){return Qe(this,"a","href",Ke)}})}),"./node_modules/core-js/modules/es.symbol.description.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/descriptors.js"),We=$e("./node_modules/core-js/internals/global.js"),qe=$e("./node_modules/core-js/internals/has.js"),Ke=$e("./node_modules/core-js/internals/is-object.js"),Xe=$e("./node_modules/core-js/internals/object-define-property.js").f,Ye=$e("./node_modules/core-js/internals/copy-constructor-properties.js"),Ze=We.Symbol;if(Qe&&typeof Ze=="function"&&(!("description"in Ze.prototype)||Ze().description!==void 0)){var Je={},tr=function(){var _r=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),fr=this instanceof tr?new Ze(_r):_r===void 0?Ze():Ze(_r);return _r===""&&(Je[fr]=!0),fr};Ye(tr,Ze);var rr=tr.prototype=Ze.prototype;rr.constructor=tr;var ar=rr.toString,nr=String(Ze("test"))=="Symbol(test)",sr=/^Symbol\((.*)\)[^)]+$/;Xe(rr,"description",{configurable:!0,get:function(){var _r=Ke(this)?this.valueOf():this,fr=ar.call(_r);if(qe(Je,_r))return"";var or=nr?fr.slice(7,-1):fr.replace(sr,"$1");return or===""?void 0:or}}),He({global:!0,forced:!0},{Symbol:tr})}}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/define-well-known-symbol.js");He("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/global.js"),We=$e("./node_modules/core-js/internals/get-built-in.js"),qe=$e("./node_modules/core-js/internals/is-pure.js"),Ke=$e("./node_modules/core-js/internals/descriptors.js"),Xe=$e("./node_modules/core-js/internals/native-symbol.js"),Ye=$e("./node_modules/core-js/internals/fails.js"),Ze=$e("./node_modules/core-js/internals/has.js"),Je=$e("./node_modules/core-js/internals/is-array.js"),tr=$e("./node_modules/core-js/internals/is-object.js"),rr=$e("./node_modules/core-js/internals/is-symbol.js"),ar=$e("./node_modules/core-js/internals/an-object.js"),nr=$e("./node_modules/core-js/internals/to-object.js"),sr=$e("./node_modules/core-js/internals/to-indexed-object.js"),dr=$e("./node_modules/core-js/internals/to-property-key.js"),_r=$e("./node_modules/core-js/internals/to-string.js"),fr=$e("./node_modules/core-js/internals/create-property-descriptor.js"),or=$e("./node_modules/core-js/internals/object-create.js"),Er=$e("./node_modules/core-js/internals/object-keys.js"),Rr=$e("./node_modules/core-js/internals/object-get-own-property-names.js"),jr=$e("./node_modules/core-js/internals/object-get-own-property-names-external.js"),xr=$e("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Pr=$e("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),br=$e("./node_modules/core-js/internals/object-define-property.js"),wr=$e("./node_modules/core-js/internals/object-property-is-enumerable.js"),Br=$e("./node_modules/core-js/internals/create-non-enumerable-property.js"),Lr=$e("./node_modules/core-js/internals/redefine.js"),yr=$e("./node_modules/core-js/internals/shared.js"),vr=$e("./node_modules/core-js/internals/shared-key.js"),Tr=$e("./node_modules/core-js/internals/hidden-keys.js"),Or=$e("./node_modules/core-js/internals/uid.js"),Nr=$e("./node_modules/core-js/internals/well-known-symbol.js"),Hr=$e("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),Wr=$e("./node_modules/core-js/internals/define-well-known-symbol.js"),qr=$e("./node_modules/core-js/internals/set-to-string-tag.js"),Jr=$e("./node_modules/core-js/internals/internal-state.js"),An=$e("./node_modules/core-js/internals/array-iteration.js").forEach,an=vr("hidden"),bn="Symbol",gn="prototype",mn=Nr("toPrimitive"),Zr=Jr.set,kn=Jr.getterFor(bn),ri=Object[gn],zn=Qe.Symbol,ei=We("JSON","stringify"),Jn=Pr.f,Wn=br.f,_i=jr.f,wi=wr.f,Oi=yr("symbols"),xi=yr("op-symbols"),Pi=yr("string-to-symbol-registry"),Ii=yr("symbol-to-string-registry"),Si=yr("wks"),En=Qe.QObject,Cn=!En||!En[gn]||!En[gn].findChild,oi=Ke&&Ye(function(){return or(Wn({},"a",{get:function(){return Wn(this,"a",{value:7}).a}})).a!=7})?function(Di,hi,fi){var Ri=Jn(ri,hi);Ri&&delete ri[hi],Wn(Di,hi,fi),Ri&&Di!==ri&&Wn(ri,hi,Ri)}:Wn,ci=function(Di,hi){var fi=Oi[Di]=or(zn[gn]);return Zr(fi,{type:bn,tag:Di,description:hi}),Ke||(fi.description=hi),fi},Qi=function(hi,fi,Ri){hi===ri&&Qi(xi,fi,Ri),ar(hi);var Zi=dr(fi);return ar(Ri),Ze(Oi,Zi)?(Ri.enumerable?(Ze(hi,an)&&hi[an][Zi]&&(hi[an][Zi]=!1),Ri=or(Ri,{enumerable:fr(0,!1)})):(Ze(hi,an)||Wn(hi,an,fr(1,{})),hi[an][Zi]=!0),oi(hi,Zi,Ri)):Wn(hi,Zi,Ri)},ti=function(hi,fi){ar(hi);var Ri=sr(fi),Zi=Er(Ri).concat(bi(Ri));return An(Zi,function(ds){(!Ke||jn.call(Ri,ds))&&Qi(hi,ds,Ri[ds])}),hi},Bi=function(hi,fi){return fi===void 0?or(hi):ti(or(hi),fi)},jn=function(hi){var fi=dr(hi),Ri=wi.call(this,fi);return this===ri&&Ze(Oi,fi)&&!Ze(xi,fi)?!1:Ri||!Ze(this,fi)||!Ze(Oi,fi)||Ze(this,an)&&this[an][fi]?Ri:!0},vn=function(hi,fi){var Ri=sr(hi),Zi=dr(fi);if(!(Ri===ri&&Ze(Oi,Zi)&&!Ze(xi,Zi))){var ds=Jn(Ri,Zi);return ds&&Ze(Oi,Zi)&&!(Ze(Ri,an)&&Ri[an][Zi])&&(ds.enumerable=!0),ds}},Ni=function(hi){var fi=_i(sr(hi)),Ri=[];return An(fi,function(Zi){!Ze(Oi,Zi)&&!Ze(Tr,Zi)&&Ri.push(Zi)}),Ri},bi=function(hi){var fi=hi===ri,Ri=_i(fi?xi:sr(hi)),Zi=[];return An(Ri,function(ds){Ze(Oi,ds)&&(!fi||Ze(ri,ds))&&Zi.push(Oi[ds])}),Zi};if(Xe||(zn=function(){if(this instanceof zn)throw TypeError("Symbol is not a constructor");var hi=!arguments.length||arguments[0]===void 0?void 0:_r(arguments[0]),fi=Or(hi),Ri=function(Zi){this===ri&&Ri.call(xi,Zi),Ze(this,an)&&Ze(this[an],fi)&&(this[an][fi]=!1),oi(this,fi,fr(1,Zi))};return Ke&&Cn&&oi(ri,fi,{configurable:!0,set:Ri}),ci(fi,hi)},Lr(zn[gn],"toString",function(){return kn(this).tag}),Lr(zn,"withoutSetter",function(Di){return ci(Or(Di),Di)}),wr.f=jn,br.f=Qi,Pr.f=vn,Rr.f=jr.f=Ni,xr.f=bi,Hr.f=function(Di){return ci(Nr(Di),Di)},Ke&&(Wn(zn[gn],"description",{configurable:!0,get:function(){return kn(this).description}}),qe||Lr(ri,"propertyIsEnumerable",jn,{unsafe:!0}))),He({global:!0,wrap:!0,forced:!Xe,sham:!Xe},{Symbol:zn}),An(Er(Si),function(Di){Wr(Di)}),He({target:bn,stat:!0,forced:!Xe},{for:function(Di){var hi=_r(Di);if(Ze(Pi,hi))return Pi[hi];var fi=zn(hi);return Pi[hi]=fi,Ii[fi]=hi,fi},keyFor:function(hi){if(!rr(hi))throw TypeError(hi+" is not a symbol");if(Ze(Ii,hi))return Ii[hi]},useSetter:function(){Cn=!0},useSimple:function(){Cn=!1}}),He({target:"Object",stat:!0,forced:!Xe,sham:!Ke},{create:Bi,defineProperty:Qi,defineProperties:ti,getOwnPropertyDescriptor:vn}),He({target:"Object",stat:!0,forced:!Xe},{getOwnPropertyNames:Ni,getOwnPropertySymbols:bi}),He({target:"Object",stat:!0,forced:Ye(function(){xr.f(1)})},{getOwnPropertySymbols:function(hi){return xr.f(nr(hi))}}),ei){var Gi=!Xe||Ye(function(){var Di=zn();return ei([Di])!="[null]"||ei({a:Di})!="{}"||ei(Object(Di))!="{}"});He({target:"JSON",stat:!0,forced:Gi},{stringify:function(hi,fi,Ri){for(var Zi=[hi],ds=1,oa;arguments.length>ds;)Zi.push(arguments[ds++]);if(oa=fi,!(!tr(fi)&&hi===void 0||rr(hi)))return Je(fi)||(fi=function(Wa,Mi){if(typeof oa=="function"&&(Mi=oa.call(this,Wa,Mi)),!rr(Mi))return Mi}),Zi[1]=fi,ei.apply(null,Zi)}})}zn[gn][mn]||Br(zn[gn],mn,zn[gn].valueOf),qr(zn,bn),Tr[an]=!0}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/dom-iterables.js"),We=$e("./node_modules/core-js/internals/array-for-each.js"),qe=$e("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var Ke in Qe){var Xe=He[Ke],Ye=Xe&&Xe.prototype;if(Ye&&Ye.forEach!==We)try{qe(Ye,"forEach",We)}catch{Ye.forEach=We}}}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/dom-iterables.js"),We=$e("./node_modules/core-js/modules/es.array.iterator.js"),qe=$e("./node_modules/core-js/internals/create-non-enumerable-property.js"),Ke=$e("./node_modules/core-js/internals/well-known-symbol.js"),Xe=Ke("iterator"),Ye=Ke("toStringTag"),Ze=We.values;for(var Je in Qe){var tr=He[Je],rr=tr&&tr.prototype;if(rr){if(rr[Xe]!==Ze)try{qe(rr,Xe,Ze)}catch{rr[Xe]=Ze}if(rr[Ye]||qe(rr,Ye,Je),Qe[Je]){for(var ar in We)if(rr[ar]!==We[ar])try{qe(rr,ar,We[ar])}catch{rr[ar]=We[ar]}}}}}),"./node_modules/es6-promise/dist/es6-promise.js":(function(Me){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(Ue,$e){Me.exports=$e()})(this,(function(){function Ue(En){var Cn=typeof En;return En!==null&&(Cn==="object"||Cn==="function")}function $e(En){return typeof En=="function"}var He=void 0;Array.isArray?He=Array.isArray:He=function(En){return Object.prototype.toString.call(En)==="[object Array]"};var Qe=He,We=0,qe=void 0,Ke=void 0,Xe=function(Cn,oi){Er[We]=Cn,Er[We+1]=oi,We+=2,We===2&&(Ke?Ke(Rr):xr())};function Ye(En){Ke=En}function Ze(En){Xe=En}var Je=typeof window<"u"?window:void 0,tr=Je||{},rr=tr.MutationObserver||tr.WebKitMutationObserver,ar=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",nr=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function sr(){return function(){return process.nextTick(Rr)}}function dr(){return typeof qe<"u"?function(){qe(Rr)}:or()}function _r(){var En=0,Cn=new rr(Rr),oi=document.createTextNode("");return Cn.observe(oi,{characterData:!0}),function(){oi.data=En=++En%2}}function fr(){var En=new MessageChannel;return En.port1.onmessage=Rr,function(){return En.port2.postMessage(0)}}function or(){var En=setTimeout;return function(){return En(Rr,1)}}var Er=new Array(1e3);function Rr(){for(var En=0;En<We;En+=2){var Cn=Er[En],oi=Er[En+1];Cn(oi),Er[En]=void 0,Er[En+1]=void 0}We=0}function jr(){try{var En=Function("return this")().require("vertx");return qe=En.runOnLoop||En.runOnContext,dr()}catch{return or()}}var xr=void 0;ar?xr=sr():rr?xr=_r():nr?xr=fr():Je===void 0?xr=jr():xr=or();function Pr(En,Cn){var oi=this,ci=new this.constructor(Br);ci[wr]===void 0&&ei(ci);var Qi=oi._state;if(Qi){var ti=arguments[Qi-1];Xe(function(){return Zr(Qi,ci,ti,oi._result)})}else gn(oi,ci,En,Cn);return ci}function br(En){var Cn=this;if(En&&typeof En=="object"&&En.constructor===Cn)return En;var oi=new Cn(Br);return Jr(oi,En),oi}var wr=Math.random().toString(36).substring(2);function Br(){}var Lr=void 0,yr=1,vr=2;function Tr(){return new TypeError("You cannot resolve a promise with itself")}function Or(){return new TypeError("A promises callback cannot return that same promise.")}function Nr(En,Cn,oi,ci){try{En.call(Cn,oi,ci)}catch(Qi){return Qi}}function Hr(En,Cn,oi){Xe(function(ci){var Qi=!1,ti=Nr(oi,Cn,function(Bi){Qi||(Qi=!0,Cn!==Bi?Jr(ci,Bi):an(ci,Bi))},function(Bi){Qi||(Qi=!0,bn(ci,Bi))},"Settle: "+(ci._label||" unknown promise"));!Qi&&ti&&(Qi=!0,bn(ci,ti))},En)}function Wr(En,Cn){Cn._state===yr?an(En,Cn._result):Cn._state===vr?bn(En,Cn._result):gn(Cn,void 0,function(oi){return Jr(En,oi)},function(oi){return bn(En,oi)})}function qr(En,Cn,oi){Cn.constructor===En.constructor&&oi===Pr&&Cn.constructor.resolve===br?Wr(En,Cn):oi===void 0?an(En,Cn):$e(oi)?Hr(En,Cn,oi):an(En,Cn)}function Jr(En,Cn){if(En===Cn)bn(En,Tr());else if(Ue(Cn)){var oi=void 0;try{oi=Cn.then}catch(ci){bn(En,ci);return}qr(En,Cn,oi)}else an(En,Cn)}function An(En){En._onerror&&En._onerror(En._result),mn(En)}function an(En,Cn){En._state===Lr&&(En._result=Cn,En._state=yr,En._subscribers.length!==0&&Xe(mn,En))}function bn(En,Cn){En._state===Lr&&(En._state=vr,En._result=Cn,Xe(An,En))}function gn(En,Cn,oi,ci){var Qi=En._subscribers,ti=Qi.length;En._onerror=null,Qi[ti]=Cn,Qi[ti+yr]=oi,Qi[ti+vr]=ci,ti===0&&En._state&&Xe(mn,En)}function mn(En){var Cn=En._subscribers,oi=En._state;if(Cn.length!==0){for(var ci=void 0,Qi=void 0,ti=En._result,Bi=0;Bi<Cn.length;Bi+=3)ci=Cn[Bi],Qi=Cn[Bi+oi],ci?Zr(oi,ci,Qi,ti):Qi(ti);En._subscribers.length=0}}function Zr(En,Cn,oi,ci){var Qi=$e(oi),ti=void 0,Bi=void 0,jn=!0;if(Qi){try{ti=oi(ci)}catch(vn){jn=!1,Bi=vn}if(Cn===ti){bn(Cn,Or());return}}else ti=ci;Cn._state!==Lr||(Qi&&jn?Jr(Cn,ti):jn===!1?bn(Cn,Bi):En===yr?an(Cn,ti):En===vr&&bn(Cn,ti))}function kn(En,Cn){try{Cn(function(ci){Jr(En,ci)},function(ci){bn(En,ci)})}catch(oi){bn(En,oi)}}var ri=0;function zn(){return ri++}function ei(En){En[wr]=ri++,En._state=void 0,En._result=void 0,En._subscribers=[]}function Jn(){return new Error("Array Methods must be provided an Array")}var Wn=(function(){function En(Cn,oi){this._instanceConstructor=Cn,this.promise=new Cn(Br),this.promise[wr]||ei(this.promise),Qe(oi)?(this.length=oi.length,this._remaining=oi.length,this._result=new Array(this.length),this.length===0?an(this.promise,this._result):(this.length=this.length||0,this._enumerate(oi),this._remaining===0&&an(this.promise,this._result))):bn(this.promise,Jn())}return En.prototype._enumerate=function(oi){for(var ci=0;this._state===Lr&&ci<oi.length;ci++)this._eachEntry(oi[ci],ci)},En.prototype._eachEntry=function(oi,ci){var Qi=this._instanceConstructor,ti=Qi.resolve;if(ti===br){var Bi=void 0,jn=void 0,vn=!1;try{Bi=oi.then}catch(bi){vn=!0,jn=bi}if(Bi===Pr&&oi._state!==Lr)this._settledAt(oi._state,ci,oi._result);else if(typeof Bi!="function")this._remaining--,this._result[ci]=oi;else if(Qi===Ii){var Ni=new Qi(Br);vn?bn(Ni,jn):qr(Ni,oi,Bi),this._willSettleAt(Ni,ci)}else this._willSettleAt(new Qi(function(bi){return bi(oi)}),ci)}else this._willSettleAt(ti(oi),ci)},En.prototype._settledAt=function(oi,ci,Qi){var ti=this.promise;ti._state===Lr&&(this._remaining--,oi===vr?bn(ti,Qi):this._result[ci]=Qi),this._remaining===0&&an(ti,this._result)},En.prototype._willSettleAt=function(oi,ci){var Qi=this;gn(oi,void 0,function(ti){return Qi._settledAt(yr,ci,ti)},function(ti){return Qi._settledAt(vr,ci,ti)})},En})();function _i(En){return new Wn(this,En).promise}function wi(En){var Cn=this;return Qe(En)?new Cn(function(oi,ci){for(var Qi=En.length,ti=0;ti<Qi;ti++)Cn.resolve(En[ti]).then(oi,ci)}):new Cn(function(oi,ci){return ci(new TypeError("You must pass an array to race."))})}function Oi(En){var Cn=this,oi=new Cn(Br);return bn(oi,En),oi}function xi(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Pi(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Ii=(function(){function En(Cn){this[wr]=zn(),this._result=this._state=void 0,this._subscribers=[],Br!==Cn&&(typeof Cn!="function"&&xi(),this instanceof En?kn(this,Cn):Pi())}return En.prototype.catch=function(oi){return this.then(null,oi)},En.prototype.finally=function(oi){var ci=this,Qi=ci.constructor;return $e(oi)?ci.then(function(ti){return Qi.resolve(oi()).then(function(){return ti})},function(ti){return Qi.resolve(oi()).then(function(){throw ti})}):ci.then(oi,oi)},En})();Ii.prototype.then=Pr,Ii.all=_i,Ii.race=wi,Ii.resolve=br,Ii.reject=Oi,Ii._setScheduler=Ye,Ii._setAsap=Ze,Ii._asap=Xe;function Si(){var En=void 0;if(typeof commonjsGlobal$2<"u")En=commonjsGlobal$2;else if(typeof self<"u")En=self;else try{En=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Cn=En.Promise;if(Cn){var oi=null;try{oi=Object.prototype.toString.call(Cn.resolve())}catch{}if(oi==="[object Promise]"&&!Cn.cast)return}En.Promise=Ii}return Ii.polyfill=Si,Ii.Promise=Ii,Ii}))}),html2canvas:(function(Me){Me.exports=Be}),jspdf:(function(Me){Me.exports=je})},Fe={};function Oe(Me){var Ue=Fe[Me];if(Ue!==void 0)return Ue.exports;var $e=Fe[Me]={exports:{}};return De[Me].call($e.exports,$e,$e.exports,Oe),$e.exports}(function(){Oe.n=function(Me){var Ue=Me&&Me.__esModule?function(){return Me.default}:function(){return Me};return Oe.d(Ue,{a:Ue}),Ue}})(),(function(){Oe.d=function(Me,Ue){for(var $e in Ue)Oe.o(Ue,$e)&&!Oe.o(Me,$e)&&Object.defineProperty(Me,$e,{enumerable:!0,get:Ue[$e]})}})(),(function(){Oe.o=function(Me,Ue){return Object.prototype.hasOwnProperty.call(Me,Ue)}})(),(function(){Oe.r=function(Me){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Me,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Me,"__esModule",{value:!0})}})();var ke={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/Oe.r(ke);var Me=Oe("./src/worker.js");Oe("./src/plugin/jspdf-plugin.js"),Oe("./src/plugin/pagebreaks.js"),Oe("./src/plugin/hyperlinks.js");var Ue=function $e(He,Qe){var We=new $e.Worker(Qe);return He?We.from(He).save():We};Ue.Worker=Me.default,ke.default=Ue})(),ke=ke.default,ke})()})})(html2pdf$1)),html2pdf$1.exports}var html2pdfExports=requireHtml2pdf();const html2pdf=getDefaultExportFromCjs(html2pdfExports),FLYPLogo="/assets/flyp-logo.png",InvoicePreview$1=({customer:Ce,cartItems:Re,settings:je,paymentMode:Be,invoiceType:De,issuedAt:Fe,userInfo:Oe,onCancel:ke,onConfirm:Me})=>{const[Ue,$e]=React.useState(null);React.useEffect(()=>{(async()=>{const tr=auth$2.currentUser;if(!tr)return;const rr=await getDoc(doc(db$2,"businesses",tr.uid));rr.exists()&&$e(rr.data())})()},[]);const He=Je=>Je.quantity*Je.price*(1-Je.discount/100),Qe=(Re||[]).reduce((Je,tr)=>Je+He(tr),0),We=je.includeGST?Qe*(je.gstRate||0)/100:0,qe=je.includeCGST?Qe*(je.cgstRate||0)/100:0,Ke=je.includeSGST?Qe*(je.sgstRate||0)/100:0,Xe=je.includeIGST?Qe*(je.igstRate||0)/100:0,Ye=Qe+We+qe+Ke+Xe,Ze=()=>{const Je=document.getElementById("invoice-content");html2pdf().from(Je).save(`Invoice-FLYP-${Fe?new Date(Fe).getTime():Date.now()}.pdf`)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"text-right mb-2 max-w-4xl mx-auto mt-4",children:jsxRuntimeExports.jsx("button",{onClick:Ze,className:"px-4 py-1 bg-gray-700 text-white rounded mr-2",children:"Download PDF"})}),jsxRuntimeExports.jsxs("div",{id:"invoice-content",className:"bg-white p-4 md:p-6 rounded-xl shadow-md max-w-4xl mx-auto mt-6 pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)] space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"Invoice Preview"}),jsxRuntimeExports.jsx("button",{className:"text-red-500 hover:underline",onClick:ke,children:"Cancel"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mb-6 border-b pb-4",children:[jsxRuntimeExports.jsxs("div",{className:"w-1/2 pr-6 border-r border-gray-300",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2 border-b pb-1",children:"Customer Information"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Name:"})," ",Ce.name]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Phone:"})," ",Ce.phone]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",Ce.email]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Address:"})," ",Ce.address]})]}),jsxRuntimeExports.jsxs("div",{className:"w-1/2 pl-6 text-right",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2 border-b pb-1",children:"Retailer Information"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Business Name:"})," ",Ue?.businessName||"Retailer"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Owner:"})," ",Ue?.ownerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Phone:"})," ",Ue?.phone]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",Ue?.email]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Address:"})," ",Ue?.address]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"GSTIN:"})," ",Ue?.gstNumber||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"PAN:"})," ",Ue?.pan||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Invoice ID:"})," FLYP-",Fe?new Date(Fe).getTime():Date.now()]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Invoice Issued On:"})," ",Fe?hooks(Fe).local().format("DD MMM YYYY, hh:mm A"):"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Current Issue Date & Time:"})," ",hooks().local().format("DD MMM YYYY, hh:mm A")]})]})]}),jsxRuntimeExports.jsx("h2",{className:"text-center font-extrabold text-2xl mb-6 uppercase tracking-widest font-bold",children:De==="retail"?"RETAIL INVOICE":De==="tax"?"TAX INVOICE":De==="quote"?"QUOTATION":De==="estimation"?"ESTIMATION":"TAX INVOICE"}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-center font-bold text-lg mt-6 uppercase",children:"Products"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Discount (%)"}),jsxRuntimeExports.jsx("th",{className:"border px-2 py-1",children:"Subtotal"})]})}),jsxRuntimeExports.jsx("tbody",{children:Re.map((Je,tr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:Je.name}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:Je.brand||"-"}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:Je.category||"-"}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:Je.unit||"-"}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:Je.quantity}),jsxRuntimeExports.jsxs("td",{className:"border px-2 py-1",children:["",Je.price]}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:Je.discount||0}),jsxRuntimeExports.jsxs("td",{className:"border px-2 py-1",children:["",He(Je).toFixed(2)]})]},tr))})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4 text-right",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Tax Summary"}),je.includeGST&&jsxRuntimeExports.jsxs("p",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"w-24 text-left",children:["GST (",je.gstRate||0,"%):"]})," ",We.toFixed(2)]}),je.includeCGST&&jsxRuntimeExports.jsxs("p",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"w-24 text-left",children:["CGST (",je.cgstRate||0,"%):"]})," ",qe.toFixed(2)]}),je.includeSGST&&jsxRuntimeExports.jsxs("p",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"w-24 text-left",children:["SGST (",je.sgstRate||0,"%):"]})," ",Ke.toFixed(2)]}),je.includeIGST&&jsxRuntimeExports.jsxs("p",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"w-24 text-left",children:["IGST (",je.igstRate||0,"%):"]})," ",Xe.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"mt-2 font-bold text-xl",children:["Total: ",Ye.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Payment Mode: ",Be||"N/A"," | Invoice Type: ",De&&De.length>0?De.charAt(0).toUpperCase()+De.slice(1):"N/A"]}),Be==="credit"&&(je.creditDueDate||je.dueDate)&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Due Date: ",hooks(je.creditDueDate||je.dueDate).format("DD MMM YYYY")]}),je.isPaid&&je.paidOn&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[" Paid on: ",hooks(je.paidOn.toDate?.()||je.paidOn).format("DD MMM YYYY")," via ",je.paidVia?.toUpperCase()]}),Be==="split"&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mt-1 space-y-1",children:[jsxRuntimeExports.jsx("p",{children:"Split Breakdown:"}),jsxRuntimeExports.jsxs("p",{children:["- ",je.splitCash??0," by Cash"]}),jsxRuntimeExports.jsxs("p",{children:["- ",je.splitUPI??0," by UPI"]}),jsxRuntimeExports.jsxs("p",{children:["- ",je.splitCard??0," by Card"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-8",children:[jsxRuntimeExports.jsx("div",{className:"text-left",children:jsxRuntimeExports.jsx("img",{src:FLYPLogo,alt:"FLYP Logo",className:"w-24 opacity-70"})}),jsxRuntimeExports.jsx("div",{className:"text-right text-sm text-gray-500 italic",children:"Thank you for your business!"})]}),jsxRuntimeExports.jsx("button",{className:"mt-6 px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700",onClick:Me,children:"Publish Invoice"})]})]})]})},updateInventoryStock=async(Ce,Re)=>{for(const je of Re)try{console.log("Updating stock for:",je.name,"ID:",je.id,"Qty:",je.quantity,"Brand:",je.brand,"Category:",je.category);const Be=doc(db$2,"businesses",Ce,"products",je.id),De=await getDoc(Be);if(De.exists()){const Oe=(parseFloat(De.data().quantity)||0)-je.quantity,ke=Oe<0?0:Oe;await updateDoc(Be,{quantity:ke}),console.log("Stock updated to:",ke)}else console.warn("Product not found for ID:",je.id)}catch(Be){console.error("Error updating stock for product ID:",je.id,Be.message)}},CreateInvoice=()=>{const[Ce,Re]=reactExports.useState({name:"",phone:"",email:"",address:""}),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState({includeGST:!1,includeCGST:!1,includeIGST:!1,gstRate:9,cgstRate:9,igstRate:18,invoiceType:"",paymentMode:""}),[Oe,ke]=reactExports.useState([]),[Me,Ue]=reactExports.useState({visible:!1,issuedAt:null}),[$e,He]=reactExports.useState(null),[Qe,We]=reactExports.useState(""),[qe,Ke]=reactExports.useState(null),[Xe,Ye]=reactExports.useState({cash:0,upi:0,card:0});reactExports.useEffect(()=>{(async()=>{const ar=auth$2.currentUser;if(ar){const nr=doc(db$2,"businesses",ar.uid),sr=await getDoc(nr);sr.exists()&&He({...sr.data(),uid:ar.uid})}})()},[]);const Ze=rr=>{Re(rr)},Je=async()=>{if(!$e){alert("User not authenticated or user info missing.");return}if(je.length===0){alert("Cart is empty. Please add products to generate invoice.");return}const rr=hooks().format("YYYY-MM-DDTHH:mm:ss.SSSZ"),ar="INV-"+Math.random().toString(36).substr(2,9).toUpperCase();We(ar);try{if(Ce&&Ce.custId){const wr=doc(db$2,"businesses",$e.uid,"customers",Ce.custId),Br=await getDoc(wr);if(Br.exists()){const yr={...Br.data(),...Ce,updatedAt:rr};await updateDoc(wr,yr)}else await setDoc(wr,{...Ce,createdAt:rr})}}catch(wr){console.error("Error saving/updating customer:",wr),alert("Failed to save customer info. Please try again.");return}const nr=je.reduce((wr,Br)=>{const Lr=Br.quantity*Br.price,yr=Br.discount||0;return wr+Lr-Lr*yr/100},0),sr=De.includeGST?nr*(De.gstRate/100):0,dr=De.includeCGST?nr*(De.cgstRate/100):0,_r=De.includeSGST?nr*(De.sgstRate/100):0,fr=De.includeIGST?nr*(De.igstRate/100):0,or=parseFloat((nr+sr+dr+_r+fr).toFixed(2));if(De.paymentMode==="Split"){const wr=Xe.cash+Xe.upi+Xe.card;if(wr!==or){alert(`Split payment does not match invoice total. Total: ${or}, Split: ${wr}`);return}}let Er=!1,Rr=null,jr=null;De.paymentMode?.toLowerCase()==="credit"?jr=De.creditDueDate||hooks().add(7,"days").format("YYYY-MM-DD"):(Er=!0,Rr=rr);const xr={...De};delete xr.splitCash,delete xr.splitUPI,delete xr.splitCard,delete xr.splitPayment;const Pr=De.splitPayment||Xe;console.log(" SplitPayment Before Save:",Pr);const br={customer:Ce,custId:Ce&&Ce.custId?Ce.custId:void 0,cartItems:je,settings:xr,paymentMode:De.paymentMode,invoiceType:De.invoiceType,issuedAt:rr,invoiceId:ar,totalAmount:or,splitPayment:Pr,creditDueDate:jr,isPaid:Er,paidOn:Rr};console.log(" Invoice Data to Save:",br),Ke(br),Ue({visible:!0,issuedAt:rr})},tr=()=>{Ue({visible:!1,issuedAt:null})};return Me.visible&&$e&&qe?jsxRuntimeExports.jsx(InvoicePreview$1,{customer:Ce,cartItems:je,settings:De,paymentMode:De.paymentMode,invoiceType:De.invoiceType,issuedAt:Me.issuedAt,invoiceId:Qe,onCancel:tr,onConfirm:async()=>{try{const rr=doc(db$2,"businesses",$e.uid,"finalizedInvoices",Qe);await setDoc(rr,{...qe,createdAt:qe.issuedAt,isPaid:qe.isPaid,paidOn:qe.paidOn,creditDueDate:qe.creditDueDate}),console.log("Invoice saved to Firestore:",Qe),await updateInventoryStock($e.uid,je)}catch(rr){console.error("Error saving invoice:",rr.message),alert("Failed to save invoice. Please try again.");return}Ue({visible:!1,issuedAt:null})},taxRates:{gst:De.gstRate,cgst:De.cgstRate,igst:De.igstRate},userInfo:{businessName:$e.businessName||"N/A",ownerName:$e.ownerName||"N/A",address:$e.address||"N/A",phone:$e.phone||"N/A",email:$e.email||"N/A",gstin:$e.gstin||"N/A",pan:$e.pan||"N/A"}}):jsxRuntimeExports.jsxs("div",{className:"space-y-6 px-4 md:px-6 pb-32 pt-[env(safe-area-inset-top)]",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Customer Information"}),$e&&jsxRuntimeExports.jsx(CustomerForm,{customer:Ce,onChange:Ze,userId:$e.uid})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Add Product"}),jsxRuntimeExports.jsx(ProductSearch,{onSelect:rr=>{if(!Oe.find(nr=>nr.id===rr.id)){const nr=[...Oe,rr];ke(nr),Be(sr=>[...sr,{id:rr.id,name:rr.name,sku:rr.sku||"",brand:rr.brand||"",category:rr.category||"",quantity:1,price:parseFloat(rr.sellingPrice||0),discount:0,unit:rr.unit||""}])}}})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[jsxRuntimeExports.jsx(InvoiceSettings,{settings:De,onChange:Fe}),De.paymentMode==="Split"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Amount"}),jsxRuntimeExports.jsx("input",{type:"number",value:Xe.cash,onChange:rr=>{const ar=parseFloat(rr.target.value)||0;console.log(" Cash Split Updated:",ar),Ye(nr=>({...nr,cash:ar}))},className:"w-full border rounded px-3 py-2"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"UPI Amount"}),jsxRuntimeExports.jsx("input",{type:"number",value:Xe.upi,onChange:rr=>{const ar=parseFloat(rr.target.value)||0;console.log(" UPI Split Updated:",ar),Ye(nr=>({...nr,upi:ar}))},className:"w-full border rounded px-3 py-2"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Amount"}),jsxRuntimeExports.jsx("input",{type:"number",value:Xe.card,onChange:rr=>{const ar=parseFloat(rr.target.value)||0;console.log(" Card Split Updated:",ar),Ye(nr=>({...nr,card:ar}))},className:"w-full border rounded px-3 py-2"})]})]}),De.paymentMode==="Credit"&&jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Credit Due Date (Default: 7 days from today)"}),jsxRuntimeExports.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2",value:De.creditDueDate||"",onChange:rr=>{Fe(ar=>({...ar,creditDueDate:rr.target.value}))}})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Product Cart"}),jsxRuntimeExports.jsx(BillingCart,{selectedProducts:Oe,cartItems:je,onUpdateCart:Be,settings:De})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:Je,className:"bg-blue-600 text-white px-6 py-2 rounded shadow",children:"Create Bill"})}),jsxRuntimeExports.jsx("div",{className:"fixed bottom-4 inset-x-4 z-50 md:hidden",children:jsxRuntimeExports.jsx("button",{onClick:Je,className:"w-full bg-blue-600 text-white py-3 rounded-xl shadow-lg text-lg font-semibold",children:"Create Bill"})})]})};function r(Ce){var Re,je,Be="";if(typeof Ce=="string"||typeof Ce=="number")Be+=Ce;else if(typeof Ce=="object")if(Array.isArray(Ce)){var De=Ce.length;for(Re=0;Re<De;Re++)Ce[Re]&&(je=r(Ce[Re]))&&(Be&&(Be+=" "),Be+=je)}else for(je in Ce)Ce[je]&&(Be&&(Be+=" "),Be+=je);return Be}function clsx(){for(var Ce,Re,je=0,Be="",De=arguments.length;je<De;je++)(Ce=arguments[je])&&(Re=r(Ce))&&(Be&&(Be+=" "),Be+=Re);return Be}function Mt(Ce){if(typeof document>"u")return;let Re=document.head||document.getElementsByTagName("head")[0],je=document.createElement("style");je.type="text/css",Re.firstChild?Re.insertBefore(je,Re.firstChild):Re.appendChild(je),je.styleSheet?je.styleSheet.cssText=Ce:je.appendChild(document.createTextNode(Ce))}Mt(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var L=Ce=>typeof Ce=="number"&&!isNaN(Ce),N=Ce=>typeof Ce=="string",P$2=Ce=>typeof Ce=="function",mt=Ce=>N(Ce)||L(Ce),B=Ce=>N(Ce)||P$2(Ce)?Ce:null,pt=(Ce,Re)=>Ce===!1||L(Ce)&&Ce>0?Ce:Re,z=Ce=>reactExports.isValidElement(Ce)||N(Ce)||P$2(Ce)||L(Ce);function Z(Ce,Re,je=300){let{scrollHeight:Be,style:De}=Ce;requestAnimationFrame(()=>{De.minHeight="initial",De.height=Be+"px",De.transition=`all ${je}ms`,requestAnimationFrame(()=>{De.height="0",De.padding="0",De.margin="0",setTimeout(Re,je)})})}function $$1({enter:Ce,exit:Re,appendPosition:je=!1,collapse:Be=!0,collapseDuration:De=300}){return function({children:Fe,position:Oe,preventExitTransition:ke,done:Me,nodeRef:Ue,isIn:$e,playToast:He}){let Qe=je?`${Ce}--${Oe}`:Ce,We=je?`${Re}--${Oe}`:Re,qe=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{let Ke=Ue.current,Xe=Qe.split(" "),Ye=Ze=>{Ze.target===Ue.current&&(He(),Ke.removeEventListener("animationend",Ye),Ke.removeEventListener("animationcancel",Ye),qe.current===0&&Ze.type!=="animationcancel"&&Ke.classList.remove(...Xe))};Ke.classList.add(...Xe),Ke.addEventListener("animationend",Ye),Ke.addEventListener("animationcancel",Ye)},[]),reactExports.useEffect(()=>{let Ke=Ue.current,Xe=()=>{Ke.removeEventListener("animationend",Xe),Be?Z(Ke,Me,De):Me()};$e||(ke?Xe():(qe.current=1,Ke.className+=` ${We}`,Ke.addEventListener("animationend",Xe)))},[$e]),React.createElement(React.Fragment,null,Fe)}}function J$1(Ce,Re){return{content:tt(Ce.content,Ce.props),containerId:Ce.props.containerId,id:Ce.props.toastId,theme:Ce.props.theme,type:Ce.props.type,data:Ce.props.data||{},isLoading:Ce.props.isLoading,icon:Ce.props.icon,reason:Ce.removalReason,status:Re}}function tt(Ce,Re,je=!1){return reactExports.isValidElement(Ce)&&!N(Ce.type)?reactExports.cloneElement(Ce,{closeToast:Re.closeToast,toastProps:Re,data:Re.data,isPaused:je}):P$2(Ce)?Ce({closeToast:Re.closeToast,toastProps:Re,data:Re.data,isPaused:je}):Ce}function yt({closeToast:Ce,theme:Re,ariaLabel:je="close"}){return React.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Re}`,type:"button",onClick:Be=>{Be.stopPropagation(),Ce(!0)},"aria-label":je},React.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},React.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gt({delay:Ce,isRunning:Re,closeToast:je,type:Be="default",hide:De,className:Fe,controlledProgress:Oe,progress:ke,rtl:Me,isIn:Ue,theme:$e}){let He=De||Oe&&ke===0,Qe={animationDuration:`${Ce}ms`,animationPlayState:Re?"running":"paused"};Oe&&(Qe.transform=`scaleX(${ke})`);let We=clsx("Toastify__progress-bar",Oe?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${$e}`,`Toastify__progress-bar--${Be}`,{"Toastify__progress-bar--rtl":Me}),qe=P$2(Fe)?Fe({rtl:Me,type:Be,defaultClassName:We}):clsx(We,Fe),Ke={[Oe&&ke>=1?"onTransitionEnd":"onAnimationEnd"]:Oe&&ke<1?null:()=>{Ue&&je()}};return React.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":He},React.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${$e} Toastify__progress-bar--${Be}`}),React.createElement("div",{role:"progressbar","aria-hidden":He?"true":"false","aria-label":"notification timer",className:qe,style:Qe,...Ke}))}var Xt=1,at=()=>`${Xt++}`;function _t(Ce,Re,je){let Be=1,De=0,Fe=[],Oe=[],ke=Re,Me=new Map,Ue=new Set,$e=Ze=>(Ue.add(Ze),()=>Ue.delete(Ze)),He=()=>{Oe=Array.from(Me.values()),Ue.forEach(Ze=>Ze())},Qe=({containerId:Ze,toastId:Je,updateId:tr})=>{let rr=Ze?Ze!==Ce:Ce!==1,ar=Me.has(Je)&&tr==null;return rr||ar},We=(Ze,Je)=>{Me.forEach(tr=>{var rr;(Je==null||Je===tr.props.toastId)&&((rr=tr.toggle)==null||rr.call(tr,Ze))})},qe=Ze=>{var Je,tr;(tr=(Je=Ze.props)==null?void 0:Je.onClose)==null||tr.call(Je,Ze.removalReason),Ze.isActive=!1},Ke=Ze=>{if(Ze==null)Me.forEach(qe);else{let Je=Me.get(Ze);Je&&qe(Je)}He()},Xe=()=>{De-=Fe.length,Fe=[]},Ye=Ze=>{var Je,tr;let{toastId:rr,updateId:ar}=Ze.props,nr=ar==null;Ze.staleId&&Me.delete(Ze.staleId),Ze.isActive=!0,Me.set(rr,Ze),He(),je(J$1(Ze,nr?"added":"updated")),nr&&((tr=(Je=Ze.props).onOpen)==null||tr.call(Je))};return{id:Ce,props:ke,observe:$e,toggle:We,removeToast:Ke,toasts:Me,clearQueue:Xe,buildToast:(Ze,Je)=>{if(Qe(Je))return;let{toastId:tr,updateId:rr,data:ar,staleId:nr,delay:sr}=Je,dr=rr==null;dr&&De++;let _r={...ke,style:ke.toastStyle,key:Be++,...Object.fromEntries(Object.entries(Je).filter(([or,Er])=>Er!=null)),toastId:tr,updateId:rr,data:ar,isIn:!1,className:B(Je.className||ke.toastClassName),progressClassName:B(Je.progressClassName||ke.progressClassName),autoClose:Je.isLoading?!1:pt(Je.autoClose,ke.autoClose),closeToast(or){Me.get(tr).removalReason=or,Ke(tr)},deleteToast(){let or=Me.get(tr);if(or!=null){if(je(J$1(or,"removed")),Me.delete(tr),De--,De<0&&(De=0),Fe.length>0){Ye(Fe.shift());return}He()}}};_r.closeButton=ke.closeButton,Je.closeButton===!1||z(Je.closeButton)?_r.closeButton=Je.closeButton:Je.closeButton===!0&&(_r.closeButton=z(ke.closeButton)?ke.closeButton:!0);let fr={content:Ze,props:_r,staleId:nr};ke.limit&&ke.limit>0&&De>ke.limit&&dr?Fe.push(fr):L(sr)?setTimeout(()=>{Ye(fr)},sr):Ye(fr)},setProps(Ze){ke=Ze},setToggle:(Ze,Je)=>{let tr=Me.get(Ze);tr&&(tr.toggle=Je)},isToastActive:Ze=>{var Je;return(Je=Me.get(Ze))==null?void 0:Je.isActive},getSnapshot:()=>Oe}}var I=new Map,F$1=[],st=new Set,Vt=Ce=>st.forEach(Re=>Re(Ce)),bt=()=>I.size>0;function Qt(){F$1.forEach(Ce=>nt(Ce.content,Ce.options)),F$1=[]}var vt=(Ce,{containerId:Re})=>{var je;return(je=I.get(Re||1))==null?void 0:je.toasts.get(Ce)};function X(Ce,Re){var je;if(Re)return!!((je=I.get(Re))!=null&&je.isToastActive(Ce));let Be=!1;return I.forEach(De=>{De.isToastActive(Ce)&&(Be=!0)}),Be}function ht(Ce){if(!bt()){F$1=F$1.filter(Re=>Ce!=null&&Re.options.toastId!==Ce);return}if(Ce==null||mt(Ce))I.forEach(Re=>{Re.removeToast(Ce)});else if(Ce&&("containerId"in Ce||"id"in Ce)){let Re=I.get(Ce.containerId);Re?Re.removeToast(Ce.id):I.forEach(je=>{je.removeToast(Ce.id)})}}var Ct=(Ce={})=>{I.forEach(Re=>{Re.props.limit&&(!Ce.containerId||Re.id===Ce.containerId)&&Re.clearQueue()})};function nt(Ce,Re){z(Ce)&&(bt()||F$1.push({content:Ce,options:Re}),I.forEach(je=>{je.buildToast(Ce,Re)}))}function xt(Ce){var Re;(Re=I.get(Ce.containerId||1))==null||Re.setToggle(Ce.id,Ce.fn)}function rt(Ce,Re){I.forEach(je=>{(Re==null||!(Re!=null&&Re.containerId)||Re?.containerId===je.id)&&je.toggle(Ce,Re?.id)})}function Et(Ce){let Re=Ce.containerId||1;return{subscribe(je){let Be=_t(Re,Ce,Vt);I.set(Re,Be);let De=Be.observe(je);return Qt(),()=>{De(),I.delete(Re)}},setProps(je){var Be;(Be=I.get(Re))==null||Be.setProps(je)},getSnapshot(){var je;return(je=I.get(Re))==null?void 0:je.getSnapshot()}}}function Pt(Ce){return st.add(Ce),()=>{st.delete(Ce)}}function Wt(Ce){return Ce&&(N(Ce.toastId)||L(Ce.toastId))?Ce.toastId:at()}function U$1(Ce,Re){return nt(Ce,Re),Re.toastId}function V$1(Ce,Re){return{...Re,type:Re&&Re.type||Ce,toastId:Wt(Re)}}function Q(Ce){return(Re,je)=>U$1(Re,V$1(Ce,je))}function y$2(Ce,Re){return U$1(Ce,V$1("default",Re))}y$2.loading=(Ce,Re)=>U$1(Ce,V$1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...Re}));function Gt(Ce,{pending:Re,error:je,success:Be},De){let Fe;Re&&(Fe=N(Re)?y$2.loading(Re,De):y$2.loading(Re.render,{...De,...Re}));let Oe={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},ke=(Ue,$e,He)=>{if($e==null){y$2.dismiss(Fe);return}let Qe={type:Ue,...Oe,...De,data:He},We=N($e)?{render:$e}:$e;return Fe?y$2.update(Fe,{...Qe,...We}):y$2(We.render,{...Qe,...We}),He},Me=P$2(Ce)?Ce():Ce;return Me.then(Ue=>ke("success",Be,Ue)).catch(Ue=>ke("error",je,Ue)),Me}y$2.promise=Gt;y$2.success=Q("success");y$2.info=Q("info");y$2.error=Q("error");y$2.warning=Q("warning");y$2.warn=y$2.warning;y$2.dark=(Ce,Re)=>U$1(Ce,V$1("default",{theme:"dark",...Re}));function qt(Ce){ht(Ce)}y$2.dismiss=qt;y$2.clearWaitingQueue=Ct;y$2.isActive=X;y$2.update=(Ce,Re={})=>{let je=vt(Ce,Re);if(je){let{props:Be,content:De}=je,Fe={delay:100,...Be,...Re,toastId:Re.toastId||Ce,updateId:at()};Fe.toastId!==Ce&&(Fe.staleId=Ce);let Oe=Fe.render||De;delete Fe.render,U$1(Oe,Fe)}};y$2.done=Ce=>{y$2.update(Ce,{progress:1})};y$2.onChange=Pt;y$2.play=Ce=>rt(!0,Ce);y$2.pause=Ce=>rt(!1,Ce);function It(Ce){var Re;let{subscribe:je,getSnapshot:Be,setProps:De}=reactExports.useRef(Et(Ce)).current;De(Ce);let Fe=(Re=reactExports.useSyncExternalStore(je,Be,Be))==null?void 0:Re.slice();function Oe(ke){if(!Fe)return[];let Me=new Map;return Ce.newestOnTop&&Fe.reverse(),Fe.forEach(Ue=>{let{position:$e}=Ue.props;Me.has($e)||Me.set($e,[]),Me.get($e).push(Ue)}),Array.from(Me,Ue=>ke(Ue[0],Ue[1]))}return{getToastToRender:Oe,isToastActive:X,count:Fe?.length}}function At(Ce){let[Re,je]=reactExports.useState(!1),[Be,De]=reactExports.useState(!1),Fe=reactExports.useRef(null),Oe=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:ke,pauseOnHover:Me,closeToast:Ue,onClick:$e,closeOnClick:He}=Ce;xt({id:Ce.toastId,containerId:Ce.containerId,fn:je}),reactExports.useEffect(()=>{if(Ce.pauseOnFocusLoss)return Qe(),()=>{We()}},[Ce.pauseOnFocusLoss]);function Qe(){document.hasFocus()||Ye(),window.addEventListener("focus",Xe),window.addEventListener("blur",Ye)}function We(){window.removeEventListener("focus",Xe),window.removeEventListener("blur",Ye)}function qe(nr){if(Ce.draggable===!0||Ce.draggable===nr.pointerType){Ze();let sr=Fe.current;Oe.canCloseOnClick=!0,Oe.canDrag=!0,sr.style.transition="none",Ce.draggableDirection==="x"?(Oe.start=nr.clientX,Oe.removalDistance=sr.offsetWidth*(Ce.draggablePercent/100)):(Oe.start=nr.clientY,Oe.removalDistance=sr.offsetHeight*(Ce.draggablePercent===80?Ce.draggablePercent*1.5:Ce.draggablePercent)/100)}}function Ke(nr){let{top:sr,bottom:dr,left:_r,right:fr}=Fe.current.getBoundingClientRect();nr.nativeEvent.type!=="touchend"&&Ce.pauseOnHover&&nr.clientX>=_r&&nr.clientX<=fr&&nr.clientY>=sr&&nr.clientY<=dr?Ye():Xe()}function Xe(){je(!0)}function Ye(){je(!1)}function Ze(){Oe.didMove=!1,document.addEventListener("pointermove",tr),document.addEventListener("pointerup",rr)}function Je(){document.removeEventListener("pointermove",tr),document.removeEventListener("pointerup",rr)}function tr(nr){let sr=Fe.current;if(Oe.canDrag&&sr){Oe.didMove=!0,Re&&Ye(),Ce.draggableDirection==="x"?Oe.delta=nr.clientX-Oe.start:Oe.delta=nr.clientY-Oe.start,Oe.start!==nr.clientX&&(Oe.canCloseOnClick=!1);let dr=Ce.draggableDirection==="x"?`${Oe.delta}px, var(--y)`:`0, calc(${Oe.delta}px + var(--y))`;sr.style.transform=`translate3d(${dr},0)`,sr.style.opacity=`${1-Math.abs(Oe.delta/Oe.removalDistance)}`}}function rr(){Je();let nr=Fe.current;if(Oe.canDrag&&Oe.didMove&&nr){if(Oe.canDrag=!1,Math.abs(Oe.delta)>Oe.removalDistance){De(!0),Ce.closeToast(!0),Ce.collapseAll();return}nr.style.transition="transform 0.2s, opacity 0.2s",nr.style.removeProperty("transform"),nr.style.removeProperty("opacity")}}let ar={onPointerDown:qe,onPointerUp:Ke};return ke&&Me&&(ar.onMouseEnter=Ye,Ce.stacked||(ar.onMouseLeave=Xe)),He&&(ar.onClick=nr=>{$e&&$e(nr),Oe.canCloseOnClick&&Ue(!0)}),{playToast:Xe,pauseToast:Ye,isRunning:Re,preventExitTransition:Be,toastRef:Fe,eventHandlers:ar}}var Ot=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,G=({theme:Ce,type:Re,isLoading:je,...Be})=>React.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:Ce==="colored"?"currentColor":`var(--toastify-icon-color-${Re})`,...Be});function ao(Ce){return React.createElement(G,{...Ce},React.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function so(Ce){return React.createElement(G,{...Ce},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function no(Ce){return React.createElement(G,{...Ce},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ro(Ce){return React.createElement(G,{...Ce},React.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function io(){return React.createElement("div",{className:"Toastify__spinner"})}var W$1={info:so,warning:ao,success:no,error:ro,spinner:io},lo=Ce=>Ce in W$1;function Nt({theme:Ce,type:Re,isLoading:je,icon:Be}){let De=null,Fe={theme:Ce,type:Re};return Be===!1||(P$2(Be)?De=Be({...Fe,isLoading:je}):reactExports.isValidElement(Be)?De=reactExports.cloneElement(Be,Fe):je?De=W$1.spinner():lo(Re)&&(De=W$1[Re](Fe))),De}var wt=Ce=>{let{isRunning:Re,preventExitTransition:je,toastRef:Be,eventHandlers:De,playToast:Fe}=At(Ce),{closeButton:Oe,children:ke,autoClose:Me,onClick:Ue,type:$e,hideProgressBar:He,closeToast:Qe,transition:We,position:qe,className:Ke,style:Xe,progressClassName:Ye,updateId:Ze,role:Je,progress:tr,rtl:rr,toastId:ar,deleteToast:nr,isIn:sr,isLoading:dr,closeOnClick:_r,theme:fr,ariaLabel:or}=Ce,Er=clsx("Toastify__toast",`Toastify__toast-theme--${fr}`,`Toastify__toast--${$e}`,{"Toastify__toast--rtl":rr},{"Toastify__toast--close-on-click":_r}),Rr=P$2(Ke)?Ke({rtl:rr,position:qe,type:$e,defaultClassName:Er}):clsx(Er,Ke),jr=Nt(Ce),xr=!!tr||!Me,Pr={closeToast:Qe,type:$e,theme:fr},br=null;return Oe===!1||(P$2(Oe)?br=Oe(Pr):reactExports.isValidElement(Oe)?br=reactExports.cloneElement(Oe,Pr):br=yt(Pr)),React.createElement(We,{isIn:sr,done:nr,position:qe,preventExitTransition:je,nodeRef:Be,playToast:Fe},React.createElement("div",{id:ar,tabIndex:0,onClick:Ue,"data-in":sr,className:Rr,...De,style:Xe,ref:Be,...sr&&{role:Je,"aria-label":or}},jr!=null&&React.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!dr})},jr),tt(ke,Ce,!Re),br,!Ce.customProgressBar&&React.createElement(gt,{...Ze&&!xr?{key:`p-${Ze}`}:{},rtl:rr,theme:fr,delay:Me,isRunning:Re,isIn:sr,closeToast:Qe,hide:He,type:$e,className:Ye,controlledProgress:xr,progress:tr||0})))},K=(Ce,Re=!1)=>({enter:`Toastify--animate Toastify__${Ce}-enter`,exit:`Toastify--animate Toastify__${Ce}-exit`,appendPosition:Re}),lt=$$1(K("bounce",!0)),_o={position:"top-right",transition:lt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:Ce=>Ce.altKey&&Ce.code==="KeyT"};function Lt(Ce){let Re={..._o,...Ce},je=Ce.stacked,[Be,De]=reactExports.useState(!0),Fe=reactExports.useRef(null),{getToastToRender:Oe,isToastActive:ke,count:Me}=It(Re),{className:Ue,style:$e,rtl:He,containerId:Qe,hotKeys:We}=Re;function qe(Xe){let Ye=clsx("Toastify__toast-container",`Toastify__toast-container--${Xe}`,{"Toastify__toast-container--rtl":He});return P$2(Ue)?Ue({position:Xe,rtl:He,defaultClassName:Ye}):clsx(Ye,B(Ue))}function Ke(){je&&(De(!0),y$2.play())}return Ot(()=>{var Xe;if(je){let Ye=Fe.current.querySelectorAll('[data-in="true"]'),Ze=12,Je=(Xe=Re.position)==null?void 0:Xe.includes("top"),tr=0,rr=0;Array.from(Ye).reverse().forEach((ar,nr)=>{let sr=ar;sr.classList.add("Toastify__toast--stacked"),nr>0&&(sr.dataset.collapsed=`${Be}`),sr.dataset.pos||(sr.dataset.pos=Je?"top":"bot");let dr=tr*(Be?.2:1)+(Be?0:Ze*nr);sr.style.setProperty("--y",`${Je?dr:dr*-1}px`),sr.style.setProperty("--g",`${Ze}`),sr.style.setProperty("--s",`${1-(Be?rr:0)}`),tr+=sr.offsetHeight,rr+=.025})}},[Be,Me,je]),reactExports.useEffect(()=>{function Xe(Ye){var Ze;let Je=Fe.current;We(Ye)&&((Ze=Je.querySelector('[tabIndex="0"]'))==null||Ze.focus(),De(!1),y$2.pause()),Ye.key==="Escape"&&(document.activeElement===Je||Je!=null&&Je.contains(document.activeElement))&&(De(!0),y$2.play())}return document.addEventListener("keydown",Xe),()=>{document.removeEventListener("keydown",Xe)}},[We]),React.createElement("section",{ref:Fe,className:"Toastify",id:Qe,onMouseEnter:()=>{je&&(De(!1),y$2.pause())},onMouseLeave:Ke,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":Re["aria-label"]},Oe((Xe,Ye)=>{let Ze=Ye.length?{...$e}:{...$e,pointerEvents:"none"};return React.createElement("div",{tabIndex:-1,className:qe(Xe),"data-stacked":je,style:Ze,key:`c-${Xe}`},Ye.map(({content:Je,props:tr})=>React.createElement(wt,{...tr,stacked:je,collapseAll:Ke,isIn:ke(tr.toastId,tr.containerId),key:`t-${tr.key}`},Je)))}))}const MarkPaidModal=({isOpen:Ce,onClose:Re,onConfirm:je,invoice:Be})=>{const[De,Fe]=reactExports.useState("cash"),Oe=()=>{je(De)};return Ce?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Mark Invoice as Paid"}),jsxRuntimeExports.jsxs("p",{className:"mb-2",children:["Invoice ID: ",jsxRuntimeExports.jsx("span",{className:"font-mono",children:Be?.invoiceId})]}),jsxRuntimeExports.jsx("label",{className:"block mt-4 font-medium",children:"Select Payment Mode:"}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 w-full mt-2 rounded",value:De,onChange:ke=>Fe(ke.target.value),children:[jsxRuntimeExports.jsx("option",{value:"cash",children:"Cash"}),jsxRuntimeExports.jsx("option",{value:"upi",children:"UPI"}),jsxRuntimeExports.jsx("option",{value:"card",children:"Card"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:Re,className:"px-4 py-2 rounded border border-gray-400 hover:bg-gray-100",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Oe,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Confirm Paid"})]})]})}):null},ViewInvoices=()=>{const[Ce,Re]=reactExports.useState([]),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(""),[Oe,ke]=reactExports.useState(null),[Me,Ue]=reactExports.useState(""),[$e,He]=reactExports.useState(""),[Qe,We]=reactExports.useState(!1);return reactExports.useEffect(()=>{(async()=>{const Ke=auth$2.currentUser?.uid;if(Ke)try{const Xe=collection(db$2,`businesses/${Ke}/finalizedInvoices`),Ye=await getDocs(Xe),Je=(await Promise.all(Ye.docs.map(async tr=>{const rr=tr.data();let ar=rr.customer||{};if(rr.custId)try{const nr=await getDoc(doc(db$2,"businesses",Ke,"customers",rr.custId));nr.exists()&&(ar={...ar,...nr.data()})}catch(nr){console.warn("Customer lookup failed:",nr)}return{id:tr.id,...rr,customer:ar,createdAt:rr.createdAt instanceof Date?rr.createdAt:rr.createdAt?.toDate?.()||(typeof rr.createdAt=="string"?new Date(rr.createdAt):null),total:rr.totalAmount??rr.total??0}}))).filter(tr=>tr.createdAt).sort((tr,rr)=>new Date(rr.createdAt)-new Date(tr.createdAt));Re(Je),Be(Je)}catch(Xe){console.error("Error loading invoices:",Xe)}})()},[]),reactExports.useEffect(()=>{const qe=De.toLowerCase(),Ke=Ce.filter(Xe=>{const Ye=Xe.customer?.name?.toLowerCase().includes(qe)||Xe.invoiceType?.toLowerCase().includes(qe),Ze=Xe.createdAt?new Date(Xe.createdAt):null,Je=Me?hooks(Ze).format("YYYY-MM-DD")===Me:!0;return Ye&&Je});Be(Ke)},[De,Ce,Me,$e]),jsxRuntimeExports.jsxs("div",{className:"px-4 py-6 md:px-6 pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)]",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Invoices"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-4 gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by customer or invoice type...",value:De,onChange:qe=>Fe(qe.target.value),className:"border px-4 py-2 w-full rounded"})}),jsxRuntimeExports.jsxs("div",{className:"w-64",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm mb-1",children:"Invoice Date"}),jsxRuntimeExports.jsx("input",{type:"date",value:Me,onChange:qe=>Ue(qe.target.value),className:"border px-3 py-2 rounded w-full"})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:je.map(qe=>jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"border bg-white shadow rounded-xl px-4 py-4 flex flex-col md:flex-row justify-between items-start md:items-center text-sm space-y-2 md:space-y-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 mb-2 md:mb-0",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:qe.customer?.name||"Unnamed"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:[qe.customer?.address||"No Address"," | ",qe.customer?.phone||"No Phone"]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-500",children:["Items: ",qe.cartItems?.length||0," | Date: ",qe.createdAt?hooks(qe.createdAt).local().format("DD MMM YYYY, hh:mm A"):"N/A"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end justify-center gap-2 relative min-h-[50px]",children:[qe.paymentMode==="credit"&&!qe.isPaid&&(()=>{const Ke=hooks(qe.creditDueDate||qe.settings?.creditDueDate),Xe=Ke.isBefore(hooks(),"day");return jsxRuntimeExports.jsxs("span",{className:`absolute top-1/2 right-[72px] transform -translate-y-1/2 text-white text-[10px] px-3 py-[2px] rounded-full shadow whitespace-nowrap ${Xe?"bg-orange-600":"bg-red-600"}`,children:[Xe?"Overdue: ":"Credit Due: ",Ke.format("DD MMM")]})})(),jsxRuntimeExports.jsxs("p",{className:"font-semibold text-lg",children:["",Number(qe.totalAmount||qe.total||0).toFixed(2)]}),jsxRuntimeExports.jsx("button",{className:"mt-1 px-3 py-1 bg-blue-600 text-white rounded text-xs",onClick:()=>ke(qe),children:"View"})]})]})},qe.id))}),Oe&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6 max-w-4xl w-full max-h-screen overflow-y-auto space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"invoice-preview-container",children:jsxRuntimeExports.jsx(InvoicePreview$1,{customer:Oe.customer,cartItems:(Oe.cartItems||[]).map(qe=>({...qe,unit:qe.unit||"-"})),settings:{...Oe.settings,creditDueDate:Oe.creditDueDate||Oe.settings?.creditDueDate||null,splitCash:Oe.settings?.splitCash??Oe.splitPayment?.cash??0,splitUPI:Oe.settings?.splitUPI??Oe.splitPayment?.upi??0,splitCard:Oe.settings?.splitCard??Oe.splitPayment?.card??0,isPaid:Oe.isPaid,paidOn:Oe.paidOn,paidVia:Oe.paidVia},invoiceType:Oe.invoiceType,paymentMode:Oe.paymentMode,issuedAt:Oe.createdAt,userInfo:{businessName:Oe.userInfo?.businessName,gstNumber:Oe.userInfo?.gstNumber||Oe.gstNumber||"N/A"},onCancel:()=>ke(null),viewOnly:!0})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 p-4 bg-white rounded shadow text-sm",children:[jsxRuntimeExports.jsxs("p",{className:"mb-2",children:["Here is your receipt from ",jsxRuntimeExports.jsx("strong",{children:Oe.userInfo?.businessName}),", located at"," ",jsxRuntimeExports.jsx("strong",{children:Oe.userInfo?.address||"N/A"}),".",jsxRuntimeExports.jsx("br",{}),"Total: ",jsxRuntimeExports.jsxs("strong",{children:["",Number(Oe.totalAmount||0).toFixed(2)]}),jsxRuntimeExports.jsx("br",{}),"Issued on:"," ",jsxRuntimeExports.jsx("strong",{children:Oe.createdAt?hooks(Oe.createdAt).format("DD MMM YYYY, hh:mm A"):"N/A"})]}),Oe.paymentMode==="credit"&&!Oe.isPaid&&jsxRuntimeExports.jsx("button",{className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded mb-4",onClick:()=>We(!0),children:"Mark as Paid"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("a",{href:`https://wa.me/91${Oe.customer?.phone}?text=Here%20is%20your%20invoice%20from%20${encodeURIComponent(Oe.userInfo?.businessName||"FLYP")}%20-%20Total%3A%20${Number(Oe.totalAmount||0).toFixed(2)}%20on%20${encodeURIComponent(hooks(Oe.createdAt).format("DD MMM YYYY, hh:mm A"))}`,target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded inline-block",children:"Send via WhatsApp"}),jsxRuntimeExports.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",onClick:()=>{const qe=document.querySelector(".invoice-preview-container");if(!qe)return alert("Invoice content not found.");const Ke={margin:.5,filename:`Invoice-${Oe.id}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};html2pdf().set(Ke).from(qe).save()},children:"Send via Email"})]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-xs text-gray-500 italic",children:"Powered by FLYP  smart business invoicing"})]})]})}),Qe&&jsxRuntimeExports.jsx(MarkPaidModal,{isOpen:!0,onClose:()=>We(!1),invoice:Oe,onConfirm:async qe=>{const Xe=`businesses/${auth$2.currentUser?.uid}/finalizedInvoices/${Oe.id}`,Ye=doc(db$2,Xe),Ze=new Date;await updateDoc(Ye,{isPaid:!0,paidOn:Ze,paidVia:qe});const Je=Ce.map(tr=>tr.id===Oe.id?{...tr,isPaid:!0,paidOn:Ze,paidVia:qe}:tr);Re(Je),Be(Je),y$2.success("Invoice marked as paid successfully!"),We(!1),ke(null)}})]})},Billing=()=>{const[Ce,Re]=reactExports.useState("create");return jsxRuntimeExports.jsxs("section",{className:"px-4 py-6 md:px-6 max-w-6xl mx-auto pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)]",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl md:text-2xl font-bold mb-4 text-center",children:"Billing Dashboard"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center mb-6 gap-2",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded-l ${Ce==="create"?"bg-blue-600 text-white":"bg-gray-200 text-gray-800"}`,onClick:()=>Re("create"),children:"Create Invoice"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-2 ${Ce==="view"?"bg-blue-600 text-white":"bg-gray-200 text-gray-800"}`,onClick:()=>Re("view"),children:"View Invoices"})]}),Ce==="create"&&jsxRuntimeExports.jsx("div",{className:"space-y-4 pb-28",children:jsxRuntimeExports.jsx(CreateInvoice,{})}),Ce==="view"&&jsxRuntimeExports.jsx(ViewInvoices,{}),Ce==="create"&&jsxRuntimeExports.jsx("div",{className:"fixed bottom-4 inset-x-4 z-50 md:hidden",children:jsxRuntimeExports.jsx("button",{onClick:()=>console.log("Create Bill tapped"),className:"w-full bg-blue-600 text-white py-3 rounded-xl shadow-lg text-lg font-semibold",children:"Create Bill"})})]})},LayoutGroupContext=reactExports.createContext({});function useConstant(Ce){const Re=reactExports.useRef(null);return Re.current===null&&(Re.current=Ce()),Re.current}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(Ce,Re){Ce.indexOf(Re)===-1&&Ce.push(Re)}function removeItem(Ce,Re){const je=Ce.indexOf(Re);je>-1&&Ce.splice(je,1)}const clamp$1=(Ce,Re,je)=>je>Re?Re:je<Ce?Ce:je;let invariant$1=()=>{};const MotionGlobalConfig={},isNumericalString=Ce=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(Ce);function isObject$2(Ce){return typeof Ce=="object"&&Ce!==null}const isZeroValueString=Ce=>/^0[^.\s]+$/u.test(Ce);function memo(Ce){let Re;return()=>(Re===void 0&&(Re=Ce()),Re)}const noop$b=Ce=>Ce,combineFunctions=(Ce,Re)=>je=>Re(Ce(je)),pipe=(...Ce)=>Ce.reduce(combineFunctions),progress=(Ce,Re,je)=>{const Be=Re-Ce;return Be===0?1:(je-Ce)/Be};class SubscriptionManager{constructor(){this.subscriptions=[]}add(Re){return addUniqueItem(this.subscriptions,Re),()=>removeItem(this.subscriptions,Re)}notify(Re,je,Be){const De=this.subscriptions.length;if(De)if(De===1)this.subscriptions[0](Re,je,Be);else for(let Fe=0;Fe<De;Fe++){const Oe=this.subscriptions[Fe];Oe&&Oe(Re,je,Be)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=Ce=>Ce*1e3,millisecondsToSeconds=Ce=>Ce/1e3;function velocityPerSecond(Ce,Re){return Re?Ce*(1e3/Re):0}const calcBezier=(Ce,Re,je)=>(((1-3*je+3*Re)*Ce+(3*je-6*Re))*Ce+3*Re)*Ce,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(Ce,Re,je,Be,De){let Fe,Oe,ke=0;do Oe=Re+(je-Re)/2,Fe=calcBezier(Oe,Be,De)-Ce,Fe>0?je=Oe:Re=Oe;while(Math.abs(Fe)>subdivisionPrecision&&++ke<subdivisionMaxIterations);return Oe}function cubicBezier$1(Ce,Re,je,Be){if(Ce===Re&&je===Be)return noop$b;const De=Fe=>binarySubdivide(Fe,0,1,Ce,je);return Fe=>Fe===0||Fe===1?Fe:calcBezier(De(Fe),Re,Be)}const mirrorEasing=Ce=>Re=>Re<=.5?Ce(2*Re)/2:(2-Ce(2*(1-Re)))/2,reverseEasing=Ce=>Re=>1-Ce(1-Re),backOut=cubicBezier$1(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=Ce=>(Ce*=2)<1?.5*backIn(Ce):.5*(2-Math.pow(2,-10*(Ce-1))),circIn=Ce=>1-Math.sin(Math.acos(Ce)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier$1(.42,0,1,1),easeOut=cubicBezier$1(0,0,.58,1),easeInOut=cubicBezier$1(.42,0,.58,1),isEasingArray=Ce=>Array.isArray(Ce)&&typeof Ce[0]!="number",isBezierDefinition=Ce=>Array.isArray(Ce)&&typeof Ce[0]=="number",easingLookup={linear:noop$b,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=Ce=>typeof Ce=="string",easingDefinitionToFunction=Ce=>{if(isBezierDefinition(Ce)){invariant$1(Ce.length===4);const[Re,je,Be,De]=Ce;return cubicBezier$1(Re,je,Be,De)}else if(isValidEasing(Ce))return easingLookup[Ce];return Ce},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(Ce,Re){let je=new Set,Be=new Set,De=!1,Fe=!1;const Oe=new WeakSet;let ke={delta:0,timestamp:0,isProcessing:!1};function Me($e){Oe.has($e)&&(Ue.schedule($e),Ce()),$e(ke)}const Ue={schedule:($e,He=!1,Qe=!1)=>{const qe=Qe&&De?je:Be;return He&&Oe.add($e),qe.has($e)||qe.add($e),$e},cancel:$e=>{Be.delete($e),Oe.delete($e)},process:$e=>{if(ke=$e,De){Fe=!0;return}De=!0,[je,Be]=[Be,je],je.forEach(Me),je.clear(),De=!1,Fe&&(Fe=!1,Ue.process($e))}};return Ue}const maxElapsed=40;function createRenderBatcher(Ce,Re){let je=!1,Be=!0;const De={delta:0,timestamp:0,isProcessing:!1},Fe=()=>je=!0,Oe=stepsOrder.reduce((Je,tr)=>(Je[tr]=createRenderStep(Fe),Je),{}),{setup:ke,read:Me,resolveKeyframes:Ue,preUpdate:$e,update:He,preRender:Qe,render:We,postRender:qe}=Oe,Ke=()=>{const Je=MotionGlobalConfig.useManualTiming?De.timestamp:performance.now();je=!1,MotionGlobalConfig.useManualTiming||(De.delta=Be?1e3/60:Math.max(Math.min(Je-De.timestamp,maxElapsed),1)),De.timestamp=Je,De.isProcessing=!0,ke.process(De),Me.process(De),Ue.process(De),$e.process(De),He.process(De),Qe.process(De),We.process(De),qe.process(De),De.isProcessing=!1,je&&Re&&(Be=!1,Ce(Ke))},Xe=()=>{je=!0,Be=!0,De.isProcessing||Ce(Ke)};return{schedule:stepsOrder.reduce((Je,tr)=>{const rr=Oe[tr];return Je[tr]=(ar,nr=!1,sr=!1)=>(je||Xe(),rr.schedule(ar,nr,sr)),Je},{}),cancel:Je=>{for(let tr=0;tr<stepsOrder.length;tr++)Oe[stepsOrder[tr]].cancel(Je)},state:De,steps:Oe}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$b,!0);let now;function clearTime(){now=void 0}const time$1={now:()=>(now===void 0&&time$1.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:Ce=>{now=Ce,queueMicrotask(clearTime)}},checkStringStartsWith=Ce=>Re=>typeof Re=="string"&&Re.startsWith(Ce),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=Ce=>startsAsVariableToken(Ce)?singleCssVariableRegex.test(Ce.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number$3={test:Ce=>typeof Ce=="number",parse:parseFloat,transform:Ce=>Ce},alpha$3={...number$3,transform:Ce=>clamp$1(0,1,Ce)},scale={...number$3,default:1},sanitize=Ce=>Math.round(Ce*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish$1(Ce){return Ce==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(Ce,Re)=>je=>!!(typeof je=="string"&&singleColorRegex.test(je)&&je.startsWith(Ce)||Re&&!isNullish$1(je)&&Object.prototype.hasOwnProperty.call(je,Re)),splitColor=(Ce,Re,je)=>Be=>{if(typeof Be!="string")return Be;const[De,Fe,Oe,ke]=Be.match(floatRegex);return{[Ce]:parseFloat(De),[Re]:parseFloat(Fe),[je]:parseFloat(Oe),alpha:ke!==void 0?parseFloat(ke):1}},clampRgbUnit=Ce=>clamp$1(0,255,Ce),rgbUnit={...number$3,transform:Ce=>Math.round(clampRgbUnit(Ce))},rgba$1={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:Ce,green:Re,blue:je,alpha:Be=1})=>"rgba("+rgbUnit.transform(Ce)+", "+rgbUnit.transform(Re)+", "+rgbUnit.transform(je)+", "+sanitize(alpha$3.transform(Be))+")"};function parseHex(Ce){let Re="",je="",Be="",De="";return Ce.length>5?(Re=Ce.substring(1,3),je=Ce.substring(3,5),Be=Ce.substring(5,7),De=Ce.substring(7,9)):(Re=Ce.substring(1,2),je=Ce.substring(2,3),Be=Ce.substring(3,4),De=Ce.substring(4,5),Re+=Re,je+=je,Be+=Be,De+=De),{red:parseInt(Re,16),green:parseInt(je,16),blue:parseInt(Be,16),alpha:De?parseInt(De,16)/255:1}}const hex$2={test:isColorString("#"),parse:parseHex,transform:rgba$1.transform},createUnitType=Ce=>({test:Re=>typeof Re=="string"&&Re.endsWith(Ce)&&Re.split(" ").length===1,parse:parseFloat,transform:Re=>`${Re}${Ce}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:Ce=>percent.parse(Ce)/100,transform:Ce=>percent.transform(Ce*100)},hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:Ce,saturation:Re,lightness:je,alpha:Be=1})=>"hsla("+Math.round(Ce)+", "+percent.transform(sanitize(Re))+", "+percent.transform(sanitize(je))+", "+sanitize(alpha$3.transform(Be))+")"},color$3={test:Ce=>rgba$1.test(Ce)||hex$2.test(Ce)||hsla$1.test(Ce),parse:Ce=>rgba$1.test(Ce)?rgba$1.parse(Ce):hsla$1.test(Ce)?hsla$1.parse(Ce):hex$2.parse(Ce),transform:Ce=>typeof Ce=="string"?Ce:Ce.hasOwnProperty("red")?rgba$1.transform(Ce):hsla$1.transform(Ce),getAnimatableNone:Ce=>{const Re=color$3.parse(Ce);return Re.alpha=0,color$3.transform(Re)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(Ce){return isNaN(Ce)&&typeof Ce=="string"&&(Ce.match(floatRegex)?.length||0)+(Ce.match(colorRegex)?.length||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(Ce){const Re=Ce.toString(),je=[],Be={color:[],number:[],var:[]},De=[];let Fe=0;const ke=Re.replace(complexRegex,Me=>(color$3.test(Me)?(Be.color.push(Fe),De.push(COLOR_TOKEN),je.push(color$3.parse(Me))):Me.startsWith(VAR_FUNCTION_TOKEN)?(Be.var.push(Fe),De.push(VAR_TOKEN),je.push(Me)):(Be.number.push(Fe),De.push(NUMBER_TOKEN),je.push(parseFloat(Me))),++Fe,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:je,split:ke,indexes:Be,types:De}}function parseComplexValue(Ce){return analyseComplexValue(Ce).values}function createTransformer(Ce){const{split:Re,types:je}=analyseComplexValue(Ce),Be=Re.length;return De=>{let Fe="";for(let Oe=0;Oe<Be;Oe++)if(Fe+=Re[Oe],De[Oe]!==void 0){const ke=je[Oe];ke===NUMBER_TOKEN?Fe+=sanitize(De[Oe]):ke===COLOR_TOKEN?Fe+=color$3.transform(De[Oe]):Fe+=De[Oe]}return Fe}}const convertNumbersToZero=Ce=>typeof Ce=="number"?0:color$3.test(Ce)?color$3.getAnimatableNone(Ce):Ce;function getAnimatableNone$1(Ce){const Re=parseComplexValue(Ce);return createTransformer(Ce)(Re.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(Ce,Re,je){return je<0&&(je+=1),je>1&&(je-=1),je<1/6?Ce+(Re-Ce)*6*je:je<1/2?Re:je<2/3?Ce+(Re-Ce)*(2/3-je)*6:Ce}function hslaToRgba({hue:Ce,saturation:Re,lightness:je,alpha:Be}){Ce/=360,Re/=100,je/=100;let De=0,Fe=0,Oe=0;if(!Re)De=Fe=Oe=je;else{const ke=je<.5?je*(1+Re):je+Re-je*Re,Me=2*je-ke;De=hueToRgb(Me,ke,Ce+1/3),Fe=hueToRgb(Me,ke,Ce),Oe=hueToRgb(Me,ke,Ce-1/3)}return{red:Math.round(De*255),green:Math.round(Fe*255),blue:Math.round(Oe*255),alpha:Be}}function mixImmediate(Ce,Re){return je=>je>0?Re:Ce}const mixNumber$1=(Ce,Re,je)=>Ce+(Re-Ce)*je,mixLinearColor=(Ce,Re,je)=>{const Be=Ce*Ce,De=je*(Re*Re-Be)+Be;return De<0?0:Math.sqrt(De)},colorTypes=[hex$2,rgba$1,hsla$1],getColorType=Ce=>colorTypes.find(Re=>Re.test(Ce));function asRGBA(Ce){const Re=getColorType(Ce);if(!Re)return!1;let je=Re.parse(Ce);return Re===hsla$1&&(je=hslaToRgba(je)),je}const mixColor=(Ce,Re)=>{const je=asRGBA(Ce),Be=asRGBA(Re);if(!je||!Be)return mixImmediate(Ce,Re);const De={...je};return Fe=>(De.red=mixLinearColor(je.red,Be.red,Fe),De.green=mixLinearColor(je.green,Be.green,Fe),De.blue=mixLinearColor(je.blue,Be.blue,Fe),De.alpha=mixNumber$1(je.alpha,Be.alpha,Fe),rgba$1.transform(De))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(Ce,Re){return invisibleValues.has(Ce)?je=>je<=0?Ce:Re:je=>je>=1?Re:Ce}function mixNumber(Ce,Re){return je=>mixNumber$1(Ce,Re,je)}function getMixer(Ce){return typeof Ce=="number"?mixNumber:typeof Ce=="string"?isCSSVariableToken(Ce)?mixImmediate:color$3.test(Ce)?mixColor:mixComplex:Array.isArray(Ce)?mixArray:typeof Ce=="object"?color$3.test(Ce)?mixColor:mixObject:mixImmediate}function mixArray(Ce,Re){const je=[...Ce],Be=je.length,De=Ce.map((Fe,Oe)=>getMixer(Fe)(Fe,Re[Oe]));return Fe=>{for(let Oe=0;Oe<Be;Oe++)je[Oe]=De[Oe](Fe);return je}}function mixObject(Ce,Re){const je={...Ce,...Re},Be={};for(const De in je)Ce[De]!==void 0&&Re[De]!==void 0&&(Be[De]=getMixer(Ce[De])(Ce[De],Re[De]));return De=>{for(const Fe in Be)je[Fe]=Be[Fe](De);return je}}function matchOrder(Ce,Re){const je=[],Be={color:0,var:0,number:0};for(let De=0;De<Re.values.length;De++){const Fe=Re.types[De],Oe=Ce.indexes[Fe][Be[Fe]],ke=Ce.values[Oe]??0;je[De]=ke,Be[Fe]++}return je}const mixComplex=(Ce,Re)=>{const je=complex.createTransformer(Re),Be=analyseComplexValue(Ce),De=analyseComplexValue(Re);return Be.indexes.var.length===De.indexes.var.length&&Be.indexes.color.length===De.indexes.color.length&&Be.indexes.number.length>=De.indexes.number.length?invisibleValues.has(Ce)&&!De.values.length||invisibleValues.has(Re)&&!Be.values.length?mixVisibility(Ce,Re):pipe(mixArray(matchOrder(Be,De),De.values),je):mixImmediate(Ce,Re)};function mix(Ce,Re,je){return typeof Ce=="number"&&typeof Re=="number"&&typeof je=="number"?mixNumber$1(Ce,Re,je):getMixer(Ce)(Ce,Re)}const frameloopDriver=Ce=>{const Re=({timestamp:je})=>Ce(je);return{start:(je=!0)=>frame.update(Re,je),stop:()=>cancelFrame(Re),now:()=>frameData.isProcessing?frameData.timestamp:time$1.now()}},generateLinearEasing=(Ce,Re,je=10)=>{let Be="";const De=Math.max(Math.round(Re/je),2);for(let Fe=0;Fe<De;Fe++)Be+=Math.round(Ce(Fe/(De-1))*1e4)/1e4+", ";return`linear(${Be.substring(0,Be.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(Ce){let Re=0;const je=50;let Be=Ce.next(Re);for(;!Be.done&&Re<maxGeneratorDuration;)Re+=je,Be=Ce.next(Re);return Re>=maxGeneratorDuration?1/0:Re}function createGeneratorEasing(Ce,Re=100,je){const Be=je({...Ce,keyframes:[0,Re]}),De=Math.min(calcGeneratorDuration(Be),maxGeneratorDuration);return{type:"keyframes",ease:Fe=>Be.next(De*Fe).value/Re,duration:millisecondsToSeconds(De)}}const velocitySampleDuration=5;function calcGeneratorVelocity(Ce,Re,je){const Be=Math.max(Re-velocitySampleDuration,0);return velocityPerSecond(je-Ce(Be),Re-Be)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:Ce=springDefaults.duration,bounce:Re=springDefaults.bounce,velocity:je=springDefaults.velocity,mass:Be=springDefaults.mass}){let De,Fe,Oe=1-Re;Oe=clamp$1(springDefaults.minDamping,springDefaults.maxDamping,Oe),Ce=clamp$1(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(Ce)),Oe<1?(De=Ue=>{const $e=Ue*Oe,He=$e*Ce,Qe=$e-je,We=calcAngularFreq(Ue,Oe),qe=Math.exp(-He);return safeMin-Qe/We*qe},Fe=Ue=>{const He=Ue*Oe*Ce,Qe=He*je+je,We=Math.pow(Oe,2)*Math.pow(Ue,2)*Ce,qe=Math.exp(-He),Ke=calcAngularFreq(Math.pow(Ue,2),Oe);return(-De(Ue)+safeMin>0?-1:1)*((Qe-We)*qe)/Ke}):(De=Ue=>{const $e=Math.exp(-Ue*Ce),He=(Ue-je)*Ce+1;return-safeMin+$e*He},Fe=Ue=>{const $e=Math.exp(-Ue*Ce),He=(je-Ue)*(Ce*Ce);return $e*He});const ke=5/Ce,Me=approximateRoot(De,Fe,ke);if(Ce=secondsToMilliseconds(Ce),isNaN(Me))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:Ce};{const Ue=Math.pow(Me,2)*Be;return{stiffness:Ue,damping:Oe*2*Math.sqrt(Be*Ue),duration:Ce}}}const rootIterations=12;function approximateRoot(Ce,Re,je){let Be=je;for(let De=1;De<rootIterations;De++)Be=Be-Ce(Be)/Re(Be);return Be}function calcAngularFreq(Ce,Re){return Ce*Math.sqrt(1-Re*Re)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(Ce,Re){return Re.some(je=>Ce[je]!==void 0)}function getSpringOptions(Ce){let Re={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...Ce};if(!isSpringType(Ce,physicsKeys)&&isSpringType(Ce,durationKeys))if(Ce.visualDuration){const je=Ce.visualDuration,Be=2*Math.PI/(je*1.2),De=Be*Be,Fe=2*clamp$1(.05,1,1-(Ce.bounce||0))*Math.sqrt(De);Re={...Re,mass:springDefaults.mass,stiffness:De,damping:Fe}}else{const je=findSpring(Ce);Re={...Re,...je,mass:springDefaults.mass},Re.isResolvedFromDuration=!0}return Re}function spring(Ce=springDefaults.visualDuration,Re=springDefaults.bounce){const je=typeof Ce!="object"?{visualDuration:Ce,keyframes:[0,1],bounce:Re}:Ce;let{restSpeed:Be,restDelta:De}=je;const Fe=je.keyframes[0],Oe=je.keyframes[je.keyframes.length-1],ke={done:!1,value:Fe},{stiffness:Me,damping:Ue,mass:$e,duration:He,velocity:Qe,isResolvedFromDuration:We}=getSpringOptions({...je,velocity:-millisecondsToSeconds(je.velocity||0)}),qe=Qe||0,Ke=Ue/(2*Math.sqrt(Me*$e)),Xe=Oe-Fe,Ye=millisecondsToSeconds(Math.sqrt(Me/$e)),Ze=Math.abs(Xe)<5;Be||(Be=Ze?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),De||(De=Ze?springDefaults.restDelta.granular:springDefaults.restDelta.default);let Je;if(Ke<1){const rr=calcAngularFreq(Ye,Ke);Je=ar=>{const nr=Math.exp(-Ke*Ye*ar);return Oe-nr*((qe+Ke*Ye*Xe)/rr*Math.sin(rr*ar)+Xe*Math.cos(rr*ar))}}else if(Ke===1)Je=rr=>Oe-Math.exp(-Ye*rr)*(Xe+(qe+Ye*Xe)*rr);else{const rr=Ye*Math.sqrt(Ke*Ke-1);Je=ar=>{const nr=Math.exp(-Ke*Ye*ar),sr=Math.min(rr*ar,300);return Oe-nr*((qe+Ke*Ye*Xe)*Math.sinh(sr)+rr*Xe*Math.cosh(sr))/rr}}const tr={calculatedDuration:We&&He||null,next:rr=>{const ar=Je(rr);if(We)ke.done=rr>=He;else{let nr=rr===0?qe:0;Ke<1&&(nr=rr===0?secondsToMilliseconds(qe):calcGeneratorVelocity(Je,rr,ar));const sr=Math.abs(nr)<=Be,dr=Math.abs(Oe-ar)<=De;ke.done=sr&&dr}return ke.value=ke.done?Oe:ar,ke},toString:()=>{const rr=Math.min(calcGeneratorDuration(tr),maxGeneratorDuration),ar=generateLinearEasing(nr=>tr.next(rr*nr).value,rr,30);return rr+"ms "+ar},toTransition:()=>{}};return tr}spring.applyToOptions=Ce=>{const Re=createGeneratorEasing(Ce,100,spring);return Ce.ease=Re.ease,Ce.duration=secondsToMilliseconds(Re.duration),Ce.type="keyframes",Ce};function inertia({keyframes:Ce,velocity:Re=0,power:je=.8,timeConstant:Be=325,bounceDamping:De=10,bounceStiffness:Fe=500,modifyTarget:Oe,min:ke,max:Me,restDelta:Ue=.5,restSpeed:$e}){const He=Ce[0],Qe={done:!1,value:He},We=sr=>ke!==void 0&&sr<ke||Me!==void 0&&sr>Me,qe=sr=>ke===void 0?Me:Me===void 0||Math.abs(ke-sr)<Math.abs(Me-sr)?ke:Me;let Ke=je*Re;const Xe=He+Ke,Ye=Oe===void 0?Xe:Oe(Xe);Ye!==Xe&&(Ke=Ye-He);const Ze=sr=>-Ke*Math.exp(-sr/Be),Je=sr=>Ye+Ze(sr),tr=sr=>{const dr=Ze(sr),_r=Je(sr);Qe.done=Math.abs(dr)<=Ue,Qe.value=Qe.done?Ye:_r};let rr,ar;const nr=sr=>{We(Qe.value)&&(rr=sr,ar=spring({keyframes:[Qe.value,qe(Qe.value)],velocity:calcGeneratorVelocity(Je,sr,Qe.value),damping:De,stiffness:Fe,restDelta:Ue,restSpeed:$e}))};return nr(0),{calculatedDuration:null,next:sr=>{let dr=!1;return!ar&&rr===void 0&&(dr=!0,tr(sr),nr(sr)),rr!==void 0&&sr>=rr?ar.next(sr-rr):(!dr&&tr(sr),Qe)}}}function createMixers(Ce,Re,je){const Be=[],De=je||MotionGlobalConfig.mix||mix,Fe=Ce.length-1;for(let Oe=0;Oe<Fe;Oe++){let ke=De(Ce[Oe],Ce[Oe+1]);if(Re){const Me=Array.isArray(Re)?Re[Oe]||noop$b:Re;ke=pipe(Me,ke)}Be.push(ke)}return Be}function interpolate$4(Ce,Re,{clamp:je=!0,ease:Be,mixer:De}={}){const Fe=Ce.length;if(invariant$1(Fe===Re.length),Fe===1)return()=>Re[0];if(Fe===2&&Re[0]===Re[1])return()=>Re[1];const Oe=Ce[0]===Ce[1];Ce[0]>Ce[Fe-1]&&(Ce=[...Ce].reverse(),Re=[...Re].reverse());const ke=createMixers(Re,Be,De),Me=ke.length,Ue=$e=>{if(Oe&&$e<Ce[0])return Re[0];let He=0;if(Me>1)for(;He<Ce.length-2&&!($e<Ce[He+1]);He++);const Qe=progress(Ce[He],Ce[He+1],$e);return ke[He](Qe)};return je?$e=>Ue(clamp$1(Ce[0],Ce[Fe-1],$e)):Ue}function fillOffset(Ce,Re){const je=Ce[Ce.length-1];for(let Be=1;Be<=Re;Be++){const De=progress(0,Re,Be);Ce.push(mixNumber$1(je,1,De))}}function defaultOffset(Ce){const Re=[0];return fillOffset(Re,Ce.length-1),Re}function convertOffsetToTimes(Ce,Re){return Ce.map(je=>je*Re)}function defaultEasing(Ce,Re){return Ce.map(()=>Re||easeInOut).splice(0,Ce.length-1)}function keyframes$1({duration:Ce=300,keyframes:Re,times:je,ease:Be="easeInOut"}){const De=isEasingArray(Be)?Be.map(easingDefinitionToFunction):easingDefinitionToFunction(Be),Fe={done:!1,value:Re[0]},Oe=convertOffsetToTimes(je&&je.length===Re.length?je:defaultOffset(Re),Ce),ke=interpolate$4(Oe,Re,{ease:Array.isArray(De)?De:defaultEasing(Re,De)});return{calculatedDuration:Ce,next:Me=>(Fe.value=ke(Me),Fe.done=Me>=Ce,Fe)}}const isNotNull$1=Ce=>Ce!==null;function getFinalKeyframe$1(Ce,{repeat:Re,repeatType:je="loop"},Be,De=1){const Fe=Ce.filter(isNotNull$1),ke=De<0||Re&&je!=="loop"&&Re%2===1?0:Fe.length-1;return!ke||Be===void 0?Fe[ke]:Be}const transitionTypeMap={decay:inertia,inertia,tween:keyframes$1,keyframes:keyframes$1,spring};function replaceTransitionType(Ce){typeof Ce.type=="string"&&(Ce.type=transitionTypeMap[Ce.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(Re=>{this.resolve=Re})}notifyFinished(){this.resolve()}then(Re,je){return this.finished.then(Re,je)}}const percentToProgress=Ce=>Ce/100;class JSAnimation extends WithPromise{constructor(Re){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:je}=this.options;je&&je.updatedAt!==time$1.now()&&this.tick(time$1.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=Re,this.initAnimation(),this.play(),Re.autoplay===!1&&this.pause()}initAnimation(){const{options:Re}=this;replaceTransitionType(Re);const{type:je=keyframes$1,repeat:Be=0,repeatDelay:De=0,repeatType:Fe,velocity:Oe=0}=Re;let{keyframes:ke}=Re;const Me=je||keyframes$1;Me!==keyframes$1&&typeof ke[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(ke[0],ke[1])),ke=[0,100]);const Ue=Me({...Re,keyframes:ke});Fe==="mirror"&&(this.mirroredGenerator=Me({...Re,keyframes:[...ke].reverse(),velocity:-Oe})),Ue.calculatedDuration===null&&(Ue.calculatedDuration=calcGeneratorDuration(Ue));const{calculatedDuration:$e}=Ue;this.calculatedDuration=$e,this.resolvedDuration=$e+De,this.totalDuration=this.resolvedDuration*(Be+1)-De,this.generator=Ue}updateTime(Re){const je=Math.round(Re-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=je}tick(Re,je=!1){const{generator:Be,totalDuration:De,mixKeyframes:Fe,mirroredGenerator:Oe,resolvedDuration:ke,calculatedDuration:Me}=this;if(this.startTime===null)return Be.next(0);const{delay:Ue=0,keyframes:$e,repeat:He,repeatType:Qe,repeatDelay:We,type:qe,onUpdate:Ke,finalKeyframe:Xe}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,Re):this.speed<0&&(this.startTime=Math.min(Re-De/this.speed,this.startTime)),je?this.currentTime=Re:this.updateTime(Re);const Ye=this.currentTime-Ue*(this.playbackSpeed>=0?1:-1),Ze=this.playbackSpeed>=0?Ye<0:Ye>De;this.currentTime=Math.max(Ye,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=De);let Je=this.currentTime,tr=Be;if(He){const sr=Math.min(this.currentTime,De)/ke;let dr=Math.floor(sr),_r=sr%1;!_r&&sr>=1&&(_r=1),_r===1&&dr--,dr=Math.min(dr,He+1),!!(dr%2)&&(Qe==="reverse"?(_r=1-_r,We&&(_r-=We/ke)):Qe==="mirror"&&(tr=Oe)),Je=clamp$1(0,1,_r)*ke}const rr=Ze?{done:!1,value:$e[0]}:tr.next(Je);Fe&&(rr.value=Fe(rr.value));let{done:ar}=rr;!Ze&&Me!==null&&(ar=this.playbackSpeed>=0?this.currentTime>=De:this.currentTime<=0);const nr=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ar);return nr&&qe!==inertia&&(rr.value=getFinalKeyframe$1($e,this.options,Xe,this.speed)),Ke&&Ke(rr.value),nr&&this.finish(),rr}then(Re,je){return this.finished.then(Re,je)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get time(){return millisecondsToSeconds(this.currentTime)}set time(Re){Re=secondsToMilliseconds(Re),this.currentTime=Re,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=Re:this.driver&&(this.startTime=this.driver.now()-Re/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(Re){this.updateTime(time$1.now());const je=this.playbackSpeed!==Re;this.playbackSpeed=Re,je&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:Re=frameloopDriver,startTime:je}=this.options;this.driver||(this.driver=Re(De=>this.tick(De))),this.options.onPlay?.();const Be=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=Be):this.holdTime!==null?this.startTime=Be-this.holdTime:this.startTime||(this.startTime=je??Be),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time$1.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(Re){return this.startTime=0,this.tick(Re,!0)}attachTimeline(Re){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),Re.observe(this)}}function fillWildcards(Ce){for(let Re=1;Re<Ce.length;Re++)Ce[Re]??(Ce[Re]=Ce[Re-1])}const radToDeg=Ce=>Ce*180/Math.PI,rotate$1=Ce=>{const Re=radToDeg(Math.atan2(Ce[1],Ce[0]));return rebaseAngle(Re)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:Ce=>(Math.abs(Ce[0])+Math.abs(Ce[3]))/2,rotate:rotate$1,rotateZ:rotate$1,skewX:Ce=>radToDeg(Math.atan(Ce[1])),skewY:Ce=>radToDeg(Math.atan(Ce[2])),skew:Ce=>(Math.abs(Ce[1])+Math.abs(Ce[2]))/2},rebaseAngle=Ce=>(Ce=Ce%360,Ce<0&&(Ce+=360),Ce),rotateZ=rotate$1,scaleX=Ce=>Math.sqrt(Ce[0]*Ce[0]+Ce[1]*Ce[1]),scaleY=Ce=>Math.sqrt(Ce[4]*Ce[4]+Ce[5]*Ce[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:Ce=>(scaleX(Ce)+scaleY(Ce))/2,rotateX:Ce=>rebaseAngle(radToDeg(Math.atan2(Ce[6],Ce[5]))),rotateY:Ce=>rebaseAngle(radToDeg(Math.atan2(-Ce[2],Ce[0]))),rotateZ,rotate:rotateZ,skewX:Ce=>radToDeg(Math.atan(Ce[4])),skewY:Ce=>radToDeg(Math.atan(Ce[1])),skew:Ce=>(Math.abs(Ce[1])+Math.abs(Ce[4]))/2};function defaultTransformValue(Ce){return Ce.includes("scale")?1:0}function parseValueFromTransform(Ce,Re){if(!Ce||Ce==="none")return defaultTransformValue(Re);const je=Ce.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let Be,De;if(je)Be=matrix3dParsers,De=je;else{const ke=Ce.match(/^matrix\(([-\d.e\s,]+)\)$/u);Be=matrix2dParsers,De=ke}if(!De)return defaultTransformValue(Re);const Fe=Be[Re],Oe=De[1].split(",").map(convertTransformToNumber);return typeof Fe=="function"?Fe(Oe):Oe[Fe]}const readTransformValue=(Ce,Re)=>{const{transform:je="none"}=getComputedStyle(Ce);return parseValueFromTransform(je,Re)};function convertTransformToNumber(Ce){return parseFloat(Ce.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=Ce=>Ce===number$3||Ce===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(Ce=>!transformKeys.has(Ce));function removeNonTranslationalTransform(Ce){const Re=[];return nonTranslationalTransformKeys.forEach(je=>{const Be=Ce.getValue(je);Be!==void 0&&(Re.push([je,Be.get()]),Be.set(je.startsWith("scale")?1:0))}),Re}const positionalValues={width:({x:Ce},{paddingLeft:Re="0",paddingRight:je="0"})=>Ce.max-Ce.min-parseFloat(Re)-parseFloat(je),height:({y:Ce},{paddingTop:Re="0",paddingBottom:je="0"})=>Ce.max-Ce.min-parseFloat(Re)-parseFloat(je),top:(Ce,{top:Re})=>parseFloat(Re),left:(Ce,{left:Re})=>parseFloat(Re),bottom:({y:Ce},{top:Re})=>parseFloat(Re)+(Ce.max-Ce.min),right:({x:Ce},{left:Re})=>parseFloat(Re)+(Ce.max-Ce.min),x:(Ce,{transform:Re})=>parseValueFromTransform(Re,"x"),y:(Ce,{transform:Re})=>parseValueFromTransform(Re,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const Ce=Array.from(toResolve).filter(Be=>Be.needsMeasurement),Re=new Set(Ce.map(Be=>Be.element)),je=new Map;Re.forEach(Be=>{const De=removeNonTranslationalTransform(Be);De.length&&(je.set(Be,De),Be.render())}),Ce.forEach(Be=>Be.measureInitialState()),Re.forEach(Be=>{Be.render();const De=je.get(Be);De&&De.forEach(([Fe,Oe])=>{Be.getValue(Fe)?.set(Oe)})}),Ce.forEach(Be=>Be.measureEndState()),Ce.forEach(Be=>{Be.suspendedScrollY!==void 0&&window.scrollTo(0,Be.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(Ce=>Ce.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(Ce=>{Ce.readKeyframes(),Ce.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(Re,je,Be,De,Fe,Oe=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...Re],this.onComplete=je,this.name=Be,this.motionValue=De,this.element=Fe,this.isAsync=Oe}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:Re,name:je,element:Be,motionValue:De}=this;if(Re[0]===null){const Fe=De?.get(),Oe=Re[Re.length-1];if(Fe!==void 0)Re[0]=Fe;else if(Be&&je){const ke=Be.readValue(je,Oe);ke!=null&&(Re[0]=ke)}Re[0]===void 0&&(Re[0]=Oe),De&&Fe===void 0&&De.set(Re[0])}fillWildcards(Re)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(Re=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,Re),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=Ce=>Ce.startsWith("--");function setStyle$1(Ce,Re,je){isCSSVar(Re)?Ce.style.setProperty(Re,je):Ce.style[Re]=je}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(Ce,Re){const je=memo(Ce);return()=>supportsFlags[Re]??je()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([Ce,Re,je,Be])=>`cubic-bezier(${Ce}, ${Re}, ${je}, ${Be})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(Ce,Re){if(Ce)return typeof Ce=="function"?supportsLinearEasing()?generateLinearEasing(Ce,Re):"ease-out":isBezierDefinition(Ce)?cubicBezierAsString(Ce):Array.isArray(Ce)?Ce.map(je=>mapEasingToNativeEasing(je,Re)||supportedWaapiEasing.easeOut):supportedWaapiEasing[Ce]}function startWaapiAnimation(Ce,Re,je,{delay:Be=0,duration:De=300,repeat:Fe=0,repeatType:Oe="loop",ease:ke="easeOut",times:Me}={},Ue=void 0){const $e={[Re]:je};Me&&($e.offset=Me);const He=mapEasingToNativeEasing(ke,De);Array.isArray(He)&&($e.easing=He);const Qe={delay:Be,duration:De,easing:Array.isArray(He)?"linear":He,fill:"both",iterations:Fe+1,direction:Oe==="reverse"?"alternate":"normal"};return Ue&&(Qe.pseudoElement=Ue),Ce.animate($e,Qe)}function isGenerator(Ce){return typeof Ce=="function"&&"applyToOptions"in Ce}function applyGeneratorOptions({type:Ce,...Re}){return isGenerator(Ce)&&supportsLinearEasing()?Ce.applyToOptions(Re):(Re.duration??(Re.duration=300),Re.ease??(Re.ease="easeOut"),Re)}class NativeAnimation extends WithPromise{constructor(Re){if(super(),this.finishedTime=null,this.isStopped=!1,!Re)return;const{element:je,name:Be,keyframes:De,pseudoElement:Fe,allowFlatten:Oe=!1,finalKeyframe:ke,onComplete:Me}=Re;this.isPseudoElement=!!Fe,this.allowFlatten=Oe,this.options=Re,invariant$1(typeof Re.type!="string");const Ue=applyGeneratorOptions(Re);this.animation=startWaapiAnimation(je,Be,De,Ue,Fe),Ue.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!Fe){const $e=getFinalKeyframe$1(De,this.options,ke,this.speed);this.updateMotionValue?this.updateMotionValue($e):setStyle$1(je,Be,$e),this.animation.cancel()}Me?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:Re}=this;Re==="idle"||Re==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const Re=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(Re))}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(Re){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(Re)}get speed(){return this.animation.playbackRate}set speed(Re){Re<0&&(this.finishedTime=null),this.animation.playbackRate=Re}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(Re){this.animation.startTime=Re}attachTimeline({timeline:Re,observe:je}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,Re&&supportsScrollTimeline()?(this.animation.timeline=Re,noop$b):je(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(Ce){return Ce in unsupportedEasingFunctions}function replaceStringEasing(Ce){typeof Ce.ease=="string"&&isUnsupportedEase(Ce.ease)&&(Ce.ease=unsupportedEasingFunctions[Ce.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(Re){replaceStringEasing(Re),replaceTransitionType(Re),super(Re),Re.startTime&&(this.startTime=Re.startTime),this.options=Re}updateMotionValue(Re){const{motionValue:je,onUpdate:Be,onComplete:De,element:Fe,...Oe}=this.options;if(!je)return;if(Re!==void 0){je.set(Re);return}const ke=new JSAnimation({...Oe,autoplay:!1}),Me=secondsToMilliseconds(this.finishedTime??this.time);je.setWithVelocity(ke.sample(Me-sampleDelta).value,ke.sample(Me).value,sampleDelta),ke.stop()}}const isAnimatable=(Ce,Re)=>Re==="zIndex"?!1:!!(typeof Ce=="number"||Array.isArray(Ce)||typeof Ce=="string"&&(complex.test(Ce)||Ce==="0")&&!Ce.startsWith("url("));function hasKeyframesChanged(Ce){const Re=Ce[0];if(Ce.length===1)return!0;for(let je=0;je<Ce.length;je++)if(Ce[je]!==Re)return!0}function canAnimate(Ce,Re,je,Be){const De=Ce[0];if(De===null)return!1;if(Re==="display"||Re==="visibility")return!0;const Fe=Ce[Ce.length-1],Oe=isAnimatable(De,Re),ke=isAnimatable(Fe,Re);return!Oe||!ke?!1:hasKeyframesChanged(Ce)||(je==="spring"||isGenerator(je))&&Be}function makeAnimationInstant(Ce){Ce.duration=0,Ce.type}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(Ce){const{motionValue:Re,name:je,repeatDelay:Be,repeatType:De,damping:Fe,type:Oe}=Ce;if(!(Re?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:Me,transformTemplate:Ue}=Re.owner.getProps();return supportsWaapi()&&je&&acceleratedValues.has(je)&&(je!=="transform"||!Ue)&&!Me&&!Be&&De!=="mirror"&&Fe!==0&&Oe!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:Re=!0,delay:je=0,type:Be="keyframes",repeat:De=0,repeatDelay:Fe=0,repeatType:Oe="loop",keyframes:ke,name:Me,motionValue:Ue,element:$e,...He}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=time$1.now();const Qe={autoplay:Re,delay:je,type:Be,repeat:De,repeatDelay:Fe,repeatType:Oe,name:Me,motionValue:Ue,element:$e,...He},We=$e?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new We(ke,(qe,Ke,Xe)=>this.onKeyframesResolved(qe,Ke,Qe,!Xe),Me,Ue,$e),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(Re,je,Be,De){this.keyframeResolver=void 0;const{name:Fe,type:Oe,velocity:ke,delay:Me,isHandoff:Ue,onUpdate:$e}=Be;this.resolvedAt=time$1.now(),canAnimate(Re,Fe,Oe,ke)||((MotionGlobalConfig.instantAnimations||!Me)&&$e?.(getFinalKeyframe$1(Re,Be,je)),Re[0]=Re[Re.length-1],makeAnimationInstant(Be),Be.repeat=0);const Qe={startTime:De?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:je,...Be,keyframes:Re},We=!Ue&&supportsBrowserAnimation(Qe)?new NativeAnimationExtended({...Qe,element:Qe.motionValue.owner.current}):new JSAnimation(Qe);We.finished.then(()=>this.notifyFinished()).catch(noop$b),this.pendingTimeline&&(this.stopTimeline=We.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=We}get finished(){return this._animation?this.animation.finished:this._finished}then(Re,je){return this.finished.finally(Re).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(Re){this.animation.time=Re}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(Re){this.animation.speed=Re}get startTime(){return this.animation.startTime}attachTimeline(Re){return this._animation?this.stopTimeline=this.animation.attachTimeline(Re):this.pendingTimeline=Re,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(Ce){const Re=splitCSSVariableRegex.exec(Ce);if(!Re)return[,];const[,je,Be,De]=Re;return[`--${je??Be}`,De]}function getVariableValue(Ce,Re,je=1){const[Be,De]=parseCSSVariable(Ce);if(!Be)return;const Fe=window.getComputedStyle(Re).getPropertyValue(Be);if(Fe){const Oe=Fe.trim();return isNumericalString(Oe)?parseFloat(Oe):Oe}return isCSSVariableToken(De)?getVariableValue(De,Re,je+1):De}function getValueTransition(Ce,Re){return Ce?.[Re]??Ce?.default??Ce}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:Ce=>Ce==="auto",parse:Ce=>Ce},testValueType=Ce=>Re=>Re.test(Ce),dimensionValueTypes=[number$3,px,percent,degrees,vw,vh,auto],findDimensionValueType=Ce=>dimensionValueTypes.find(testValueType(Ce));function isNone(Ce){return typeof Ce=="number"?Ce===0:Ce!==null?Ce==="none"||Ce==="0"||isZeroValueString(Ce):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(Ce){const[Re,je]=Ce.slice(0,-1).split("(");if(Re==="drop-shadow")return Ce;const[Be]=je.match(floatRegex)||[];if(!Be)return Ce;const De=je.replace(Be,"");let Fe=maxDefaults.has(Re)?1:0;return Be!==je&&(Fe*=100),Re+"("+Fe+De+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:Ce=>{const Re=Ce.match(functionRegex);return Re?Re.map(applyDefaultFilter).join(" "):Ce}},int={...number$3,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha$3,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha$3,strokeOpacity:alpha$3,numOctaves:int},defaultValueTypes={...numberValueTypes,color:color$3,backgroundColor:color$3,outlineColor:color$3,fill:color$3,stroke:color$3,borderColor:color$3,borderTopColor:color$3,borderRightColor:color$3,borderBottomColor:color$3,borderLeftColor:color$3,filter,WebkitFilter:filter},getDefaultValueType=Ce=>defaultValueTypes[Ce];function getAnimatableNone(Ce,Re){let je=getDefaultValueType(Ce);return je!==filter&&(je=complex),je.getAnimatableNone?je.getAnimatableNone(Re):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(Ce,Re,je){let Be=0,De;for(;Be<Ce.length&&!De;){const Fe=Ce[Be];typeof Fe=="string"&&!invalidTemplates.has(Fe)&&analyseComplexValue(Fe).values.length&&(De=Ce[Be]),Be++}if(De&&je)for(const Fe of Re)Ce[Fe]=getAnimatableNone(je,De)}class DOMKeyframesResolver extends KeyframeResolver{constructor(Re,je,Be,De,Fe){super(Re,je,Be,De,Fe,!0)}readKeyframes(){const{unresolvedKeyframes:Re,element:je,name:Be}=this;if(!je||!je.current)return;super.readKeyframes();for(let Me=0;Me<Re.length;Me++){let Ue=Re[Me];if(typeof Ue=="string"&&(Ue=Ue.trim(),isCSSVariableToken(Ue))){const $e=getVariableValue(Ue,je.current);$e!==void 0&&(Re[Me]=$e),Me===Re.length-1&&(this.finalKeyframe=Ue)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(Be)||Re.length!==2)return;const[De,Fe]=Re,Oe=findDimensionValueType(De),ke=findDimensionValueType(Fe);if(Oe!==ke)if(isNumOrPxType(Oe)&&isNumOrPxType(ke))for(let Me=0;Me<Re.length;Me++){const Ue=Re[Me];typeof Ue=="string"&&(Re[Me]=parseFloat(Ue))}else positionalValues[Be]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:Re,name:je}=this,Be=[];for(let De=0;De<Re.length;De++)(Re[De]===null||isNone(Re[De]))&&Be.push(De);Be.length&&makeNoneKeyframesAnimatable(Re,Be,je)}measureInitialState(){const{element:Re,unresolvedKeyframes:je,name:Be}=this;if(!Re||!Re.current)return;Be==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[Be](Re.measureViewportBox(),window.getComputedStyle(Re.current)),je[0]=this.measuredOrigin;const De=je[je.length-1];De!==void 0&&Re.getValue(Be,De).jump(De,!1)}measureEndState(){const{element:Re,name:je,unresolvedKeyframes:Be}=this;if(!Re||!Re.current)return;const De=Re.getValue(je);De&&De.jump(this.measuredOrigin,!1);const Fe=Be.length-1,Oe=Be[Fe];Be[Fe]=positionalValues[je](Re.measureViewportBox(),window.getComputedStyle(Re.current)),Oe!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=Oe),this.removedTransforms?.length&&this.removedTransforms.forEach(([ke,Me])=>{Re.getValue(ke).set(Me)}),this.resolveNoneKeyframes()}}function resolveElements(Ce,Re,je){if(Ce instanceof EventTarget)return[Ce];if(typeof Ce=="string"){let Be=document;const De=je?.[Ce]??Be.querySelectorAll(Ce);return De?Array.from(De):[]}return Array.from(Ce)}const getValueAsType=(Ce,Re)=>Re&&typeof Ce=="number"?Re.transform(Ce):Ce;function isHTMLElement$1(Ce){return isObject$2(Ce)&&"offsetHeight"in Ce}const MAX_VELOCITY_DELTA=30,isFloat=Ce=>!isNaN(parseFloat(Ce));class MotionValue{constructor(Re,je={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=Be=>{const De=time$1.now();if(this.updatedAt!==De&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(Be),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const Fe of this.dependents)Fe.dirty()},this.hasAnimated=!1,this.setCurrent(Re),this.owner=je.owner}setCurrent(Re){this.current=Re,this.updatedAt=time$1.now(),this.canTrackVelocity===null&&Re!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(Re=this.current){this.prevFrameValue=Re,this.prevUpdatedAt=this.updatedAt}onChange(Re){return this.on("change",Re)}on(Re,je){this.events[Re]||(this.events[Re]=new SubscriptionManager);const Be=this.events[Re].add(je);return Re==="change"?()=>{Be(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:Be}clearListeners(){for(const Re in this.events)this.events[Re].clear()}attach(Re,je){this.passiveEffect=Re,this.stopPassiveEffect=je}set(Re){this.passiveEffect?this.passiveEffect(Re,this.updateAndNotify):this.updateAndNotify(Re)}setWithVelocity(Re,je,Be){this.set(je),this.prev=void 0,this.prevFrameValue=Re,this.prevUpdatedAt=this.updatedAt-Be}jump(Re,je=!0){this.updateAndNotify(Re),this.prev=Re,this.prevUpdatedAt=this.prevFrameValue=void 0,je&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(Re){this.dependents||(this.dependents=new Set),this.dependents.add(Re)}removeDependent(Re){this.dependents&&this.dependents.delete(Re)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const Re=time$1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||Re-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const je=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),je)}start(Re){return this.stop(),new Promise(je=>{this.hasAnimated=!0,this.animation=Re(je),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(Ce,Re){return new MotionValue(Ce,Re)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(Ce){return Ce==="x"||Ce==="y"?isDragging[Ce]?null:(isDragging[Ce]=!0,()=>{isDragging[Ce]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(Ce,Re){const je=resolveElements(Ce),Be=new AbortController,De={passive:!0,...Re,signal:Be.signal};return[je,De,()=>Be.abort()]}function isValidHover(Ce){return!(Ce.pointerType==="touch"||isDragActive())}function hover(Ce,Re,je={}){const[Be,De,Fe]=setupGesture(Ce,je),Oe=ke=>{if(!isValidHover(ke))return;const{target:Me}=ke,Ue=Re(Me,ke);if(typeof Ue!="function"||!Me)return;const $e=He=>{isValidHover(He)&&(Ue(He),Me.removeEventListener("pointerleave",$e))};Me.addEventListener("pointerleave",$e,De)};return Be.forEach(ke=>{ke.addEventListener("pointerenter",Oe,De)}),Fe}const isNodeOrChild=(Ce,Re)=>Re?Ce===Re?!0:isNodeOrChild(Ce,Re.parentElement):!1,isPrimaryPointer=Ce=>Ce.pointerType==="mouse"?typeof Ce.button!="number"||Ce.button<=0:Ce.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(Ce){return focusableElements.has(Ce.tagName)||Ce.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(Ce){return Re=>{Re.key==="Enter"&&Ce(Re)}}function firePointerEvent(Ce,Re){Ce.dispatchEvent(new PointerEvent("pointer"+Re,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(Ce,Re)=>{const je=Ce.currentTarget;if(!je)return;const Be=filterEvents(()=>{if(isPressing.has(je))return;firePointerEvent(je,"down");const De=filterEvents(()=>{firePointerEvent(je,"up")}),Fe=()=>firePointerEvent(je,"cancel");je.addEventListener("keyup",De,Re),je.addEventListener("blur",Fe,Re)});je.addEventListener("keydown",Be,Re),je.addEventListener("blur",()=>je.removeEventListener("keydown",Be),Re)};function isValidPressEvent(Ce){return isPrimaryPointer(Ce)&&!isDragActive()}function press(Ce,Re,je={}){const[Be,De,Fe]=setupGesture(Ce,je),Oe=ke=>{const Me=ke.currentTarget;if(!isValidPressEvent(ke))return;isPressing.add(Me);const Ue=Re(Me,ke),$e=(We,qe)=>{window.removeEventListener("pointerup",He),window.removeEventListener("pointercancel",Qe),isPressing.has(Me)&&isPressing.delete(Me),isValidPressEvent(We)&&typeof Ue=="function"&&Ue(We,{success:qe})},He=We=>{$e(We,Me===window||Me===document||je.useGlobalTarget||isNodeOrChild(Me,We.target))},Qe=We=>{$e(We,!1)};window.addEventListener("pointerup",He,De),window.addEventListener("pointercancel",Qe,De)};return Be.forEach(ke=>{(je.useGlobalTarget?window:ke).addEventListener("pointerdown",Oe,De),isHTMLElement$1(ke)&&(ke.addEventListener("focus",Ue=>enableKeyboardPress(Ue,De)),!isElementKeyboardAccessible(ke)&&!ke.hasAttribute("tabindex")&&(ke.tabIndex=0))}),Fe}function isSVGElement(Ce){return isObject$2(Ce)&&"ownerSVGElement"in Ce}function isSVGSVGElement(Ce){return isSVGElement(Ce)&&Ce.tagName==="svg"}const isMotionValue=Ce=>!!(Ce&&Ce.getVelocity),valueTypes=[...dimensionValueTypes,color$3,complex],findValueType=Ce=>valueTypes.find(testValueType(Ce)),MotionConfigContext=reactExports.createContext({transformPagePoint:Ce=>Ce,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(Re){const je=this.props.childRef.current;if(je&&Re.isPresent&&!this.props.isPresent){const Be=je.offsetParent,De=isHTMLElement$1(Be)&&Be.offsetWidth||0,Fe=this.props.sizeRef.current;Fe.height=je.offsetHeight||0,Fe.width=je.offsetWidth||0,Fe.top=je.offsetTop,Fe.left=je.offsetLeft,Fe.right=De-Fe.width-Fe.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:Ce,isPresent:Re,anchorX:je,root:Be}){const De=reactExports.useId(),Fe=reactExports.useRef(null),Oe=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:ke}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:Me,height:Ue,top:$e,left:He,right:Qe}=Oe.current;if(Re||!Fe.current||!Me||!Ue)return;const We=je==="left"?`left: ${He}`:`right: ${Qe}`;Fe.current.dataset.motionPopId=De;const qe=document.createElement("style");ke&&(qe.nonce=ke);const Ke=Be??document.head;return Ke.appendChild(qe),qe.sheet&&qe.sheet.insertRule(`
          [data-motion-pop-id="${De}"] {
            position: absolute !important;
            width: ${Me}px !important;
            height: ${Ue}px !important;
            ${We}px !important;
            top: ${$e}px !important;
          }
        `),()=>{Ke.contains(qe)&&Ke.removeChild(qe)}},[Re]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:Re,childRef:Fe,sizeRef:Oe,children:reactExports.cloneElement(Ce,{ref:Fe})})}const PresenceChild=({children:Ce,initial:Re,isPresent:je,onExitComplete:Be,custom:De,presenceAffectsLayout:Fe,mode:Oe,anchorX:ke,root:Me})=>{const Ue=useConstant(newChildrenMap),$e=reactExports.useId();let He=!0,Qe=reactExports.useMemo(()=>(He=!1,{id:$e,initial:Re,isPresent:je,custom:De,onExitComplete:We=>{Ue.set(We,!0);for(const qe of Ue.values())if(!qe)return;Be&&Be()},register:We=>(Ue.set(We,!1),()=>Ue.delete(We))}),[je,Ue,Be]);return Fe&&He&&(Qe={...Qe}),reactExports.useMemo(()=>{Ue.forEach((We,qe)=>Ue.set(qe,!1))},[je]),reactExports.useEffect(()=>{!je&&!Ue.size&&Be&&Be()},[je]),Oe==="popLayout"&&(Ce=jsxRuntimeExports.jsx(PopChild,{isPresent:je,anchorX:ke,root:Me,children:Ce})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:Qe,children:Ce})};function newChildrenMap(){return new Map}function usePresence(Ce=!0){const Re=reactExports.useContext(PresenceContext);if(Re===null)return[!0,null];const{isPresent:je,onExitComplete:Be,register:De}=Re,Fe=reactExports.useId();reactExports.useEffect(()=>{if(Ce)return De(Fe)},[Ce]);const Oe=reactExports.useCallback(()=>Ce&&Be&&Be(Fe),[Fe,Be,Ce]);return!je&&Be?[!1,Oe]:[!0]}const getChildKey=Ce=>Ce.key||"";function onlyElements(Ce){const Re=[];return reactExports.Children.forEach(Ce,je=>{reactExports.isValidElement(je)&&Re.push(je)}),Re}const AnimatePresence=({children:Ce,custom:Re,initial:je=!0,onExitComplete:Be,presenceAffectsLayout:De=!0,mode:Fe="sync",propagate:Oe=!1,anchorX:ke="left",root:Me})=>{const[Ue,$e]=usePresence(Oe),He=reactExports.useMemo(()=>onlyElements(Ce),[Ce]),Qe=Oe&&!Ue?[]:He.map(getChildKey),We=reactExports.useRef(!0),qe=reactExports.useRef(He),Ke=useConstant(()=>new Map),[Xe,Ye]=reactExports.useState(He),[Ze,Je]=reactExports.useState(He);useIsomorphicLayoutEffect$1(()=>{We.current=!1,qe.current=He;for(let ar=0;ar<Ze.length;ar++){const nr=getChildKey(Ze[ar]);Qe.includes(nr)?Ke.delete(nr):Ke.get(nr)!==!0&&Ke.set(nr,!1)}},[Ze,Qe.length,Qe.join("-")]);const tr=[];if(He!==Xe){let ar=[...He];for(let nr=0;nr<Ze.length;nr++){const sr=Ze[nr],dr=getChildKey(sr);Qe.includes(dr)||(ar.splice(nr,0,sr),tr.push(sr))}return Fe==="wait"&&tr.length&&(ar=tr),Je(onlyElements(ar)),Ye(He),null}const{forceRender:rr}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ze.map(ar=>{const nr=getChildKey(ar),sr=Oe&&!Ue?!1:He===Ze||Qe.includes(nr),dr=()=>{if(Ke.has(nr))Ke.set(nr,!0);else return;let _r=!0;Ke.forEach(fr=>{fr||(_r=!1)}),_r&&(rr?.(),Je(qe.current),Oe&&$e?.(),Be&&Be())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:sr,initial:!We.current||je?void 0:!1,custom:Re,presenceAffectsLayout:De,mode:Fe,root:Me,onExitComplete:sr?void 0:dr,anchorX:ke,children:ar},nr)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const Ce in featureProps)featureDefinitions[Ce]={isEnabled:Re=>featureProps[Ce].some(je=>!!Re[je])};function loadFeatures(Ce){for(const Re in Ce)featureDefinitions[Re]={...featureDefinitions[Re],...Ce[Re]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(Ce){return Ce.startsWith("while")||Ce.startsWith("drag")&&Ce!=="draggable"||Ce.startsWith("layout")||Ce.startsWith("onTap")||Ce.startsWith("onPan")||Ce.startsWith("onLayout")||validMotionProps.has(Ce)}let shouldForward=Ce=>!isValidMotionProp(Ce);function loadExternalIsValidProp(Ce){typeof Ce=="function"&&(shouldForward=Re=>Re.startsWith("on")?!isValidMotionProp(Re):Ce(Re))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(Ce,Re,je){const Be={};for(const De in Ce)De==="values"&&typeof Ce.values=="object"||(shouldForward(De)||je===!0&&isValidMotionProp(De)||!Re&&!isValidMotionProp(De)||Ce.draggable&&De.startsWith("onDrag"))&&(Be[De]=Ce[De]);return Be}const MotionContext=reactExports.createContext({});function isAnimationControls(Ce){return Ce!==null&&typeof Ce=="object"&&typeof Ce.start=="function"}function isVariantLabel(Ce){return typeof Ce=="string"||Array.isArray(Ce)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(Ce){return isAnimationControls(Ce.animate)||variantProps.some(Re=>isVariantLabel(Ce[Re]))}function isVariantNode(Ce){return!!(isControllingVariants(Ce)||Ce.variants)}function getCurrentTreeVariants(Ce,Re){if(isControllingVariants(Ce)){const{initial:je,animate:Be}=Ce;return{initial:je===!1||isVariantLabel(je)?je:void 0,animate:isVariantLabel(Be)?Be:void 0}}return Ce.inherit!==!1?Re:{}}function useCreateMotionContext(Ce){const{initial:Re,animate:je}=getCurrentTreeVariants(Ce,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:Re,animate:je}),[variantLabelsAsDependency(Re),variantLabelsAsDependency(je)])}function variantLabelsAsDependency(Ce){return Array.isArray(Ce)?Ce.join(" "):Ce}const scaleCorrectors={};function addScaleCorrector(Ce){for(const Re in Ce)scaleCorrectors[Re]=Ce[Re],isCSSVariableName(Re)&&(scaleCorrectors[Re].isCSSVariable=!0)}function isForcedMotionValue(Ce,{layout:Re,layoutId:je}){return transformProps.has(Ce)||Ce.startsWith("origin")||(Re||je!==void 0)&&(!!scaleCorrectors[Ce]||Ce==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(Ce,Re,je){let Be="",De=!0;for(let Fe=0;Fe<numTransforms;Fe++){const Oe=transformPropOrder[Fe],ke=Ce[Oe];if(ke===void 0)continue;let Me=!0;if(typeof ke=="number"?Me=ke===(Oe.startsWith("scale")?1:0):Me=parseFloat(ke)===0,!Me||je){const Ue=getValueAsType(ke,numberValueTypes[Oe]);if(!Me){De=!1;const $e=translateAlias[Oe]||Oe;Be+=`${$e}(${Ue}) `}je&&(Re[Oe]=Ue)}}return Be=Be.trim(),je?Be=je(Re,De?"":Be):De&&(Be="none"),Be}function buildHTMLStyles(Ce,Re,je){const{style:Be,vars:De,transformOrigin:Fe}=Ce;let Oe=!1,ke=!1;for(const Me in Re){const Ue=Re[Me];if(transformProps.has(Me)){Oe=!0;continue}else if(isCSSVariableName(Me)){De[Me]=Ue;continue}else{const $e=getValueAsType(Ue,numberValueTypes[Me]);Me.startsWith("origin")?(ke=!0,Fe[Me]=$e):Be[Me]=$e}}if(Re.transform||(Oe||je?Be.transform=buildTransform(Re,Ce.transform,je):Be.transform&&(Be.transform="none")),ke){const{originX:Me="50%",originY:Ue="50%",originZ:$e=0}=Fe;Be.transformOrigin=`${Me} ${Ue} ${$e}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(Ce,Re,je){for(const Be in Re)!isMotionValue(Re[Be])&&!isForcedMotionValue(Be,je)&&(Ce[Be]=Re[Be])}function useInitialMotionValues({transformTemplate:Ce},Re){return reactExports.useMemo(()=>{const je=createHtmlRenderState();return buildHTMLStyles(je,Re,Ce),Object.assign({},je.vars,je.style)},[Re])}function useStyle(Ce,Re){const je=Ce.style||{},Be={};return copyRawValuesOnly(Be,je,Ce),Object.assign(Be,useInitialMotionValues(Ce,Re)),Be}function useHTMLProps(Ce,Re){const je={},Be=useStyle(Ce,Re);return Ce.drag&&Ce.dragListener!==!1&&(je.draggable=!1,Be.userSelect=Be.WebkitUserSelect=Be.WebkitTouchCallout="none",Be.touchAction=Ce.drag===!0?"none":`pan-${Ce.drag==="x"?"y":"x"}`),Ce.tabIndex===void 0&&(Ce.onTap||Ce.onTapStart||Ce.whileTap)&&(je.tabIndex=0),je.style=Be,je}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(Ce,Re,je=1,Be=0,De=!0){Ce.pathLength=1;const Fe=De?dashKeys:camelKeys;Ce[Fe.offset]=px.transform(-Be);const Oe=px.transform(Re),ke=px.transform(je);Ce[Fe.array]=`${Oe} ${ke}`}function buildSVGAttrs(Ce,{attrX:Re,attrY:je,attrScale:Be,pathLength:De,pathSpacing:Fe=1,pathOffset:Oe=0,...ke},Me,Ue,$e){if(buildHTMLStyles(Ce,ke,Ue),Me){Ce.style.viewBox&&(Ce.attrs.viewBox=Ce.style.viewBox);return}Ce.attrs=Ce.style,Ce.style={};const{attrs:He,style:Qe}=Ce;He.transform&&(Qe.transform=He.transform,delete He.transform),(Qe.transform||He.transformOrigin)&&(Qe.transformOrigin=He.transformOrigin??"50% 50%",delete He.transformOrigin),Qe.transform&&(Qe.transformBox=$e?.transformBox??"fill-box",delete He.transformBox),Re!==void 0&&(He.x=Re),je!==void 0&&(He.y=je),Be!==void 0&&(He.scale=Be),De!==void 0&&buildSVGPath(He,De,Fe,Oe,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=Ce=>typeof Ce=="string"&&Ce.toLowerCase()==="svg";function useSVGProps(Ce,Re,je,Be){const De=reactExports.useMemo(()=>{const Fe=createSvgRenderState();return buildSVGAttrs(Fe,Re,isSVGTag(Be),Ce.transformTemplate,Ce.style),{...Fe.attrs,style:{...Fe.style}}},[Re]);if(Ce.style){const Fe={};copyRawValuesOnly(Fe,Ce.style,Ce),De.style={...Fe,...De.style}}return De}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(Ce){return typeof Ce!="string"||Ce.includes("-")?!1:!!(lowercaseSVGElements.indexOf(Ce)>-1||/[A-Z]/u.test(Ce))}function useRender(Ce,Re,je,{latestValues:Be},De,Fe=!1){const ke=(isSVGComponent(Ce)?useSVGProps:useHTMLProps)(Re,Be,De,Ce),Me=filterProps$1(Re,typeof Ce=="string",Fe),Ue=Ce!==reactExports.Fragment?{...Me,...ke,ref:je}:{},{children:$e}=Re,He=reactExports.useMemo(()=>isMotionValue($e)?$e.get():$e,[$e]);return reactExports.createElement(Ce,{...Ue,children:He})}function getValueState(Ce){const Re=[{},{}];return Ce?.values.forEach((je,Be)=>{Re[0][Be]=je.get(),Re[1][Be]=je.getVelocity()}),Re}function resolveVariantFromProps(Ce,Re,je,Be){if(typeof Re=="function"){const[De,Fe]=getValueState(Be);Re=Re(je!==void 0?je:Ce.custom,De,Fe)}if(typeof Re=="string"&&(Re=Ce.variants&&Ce.variants[Re]),typeof Re=="function"){const[De,Fe]=getValueState(Be);Re=Re(je!==void 0?je:Ce.custom,De,Fe)}return Re}function resolveMotionValue(Ce){return isMotionValue(Ce)?Ce.get():Ce}function makeState({scrapeMotionValuesFromProps:Ce,createRenderState:Re},je,Be,De){return{latestValues:makeLatestValues(je,Be,De,Ce),renderState:Re()}}function makeLatestValues(Ce,Re,je,Be){const De={},Fe=Be(Ce,{});for(const Qe in Fe)De[Qe]=resolveMotionValue(Fe[Qe]);let{initial:Oe,animate:ke}=Ce;const Me=isControllingVariants(Ce),Ue=isVariantNode(Ce);Re&&Ue&&!Me&&Ce.inherit!==!1&&(Oe===void 0&&(Oe=Re.initial),ke===void 0&&(ke=Re.animate));let $e=je?je.initial===!1:!1;$e=$e||Oe===!1;const He=$e?ke:Oe;if(He&&typeof He!="boolean"&&!isAnimationControls(He)){const Qe=Array.isArray(He)?He:[He];for(let We=0;We<Qe.length;We++){const qe=resolveVariantFromProps(Ce,Qe[We]);if(qe){const{transitionEnd:Ke,transition:Xe,...Ye}=qe;for(const Ze in Ye){let Je=Ye[Ze];if(Array.isArray(Je)){const tr=$e?Je.length-1:0;Je=Je[tr]}Je!==null&&(De[Ze]=Je)}for(const Ze in Ke)De[Ze]=Ke[Ze]}}}return De}const makeUseVisualState=Ce=>(Re,je)=>{const Be=reactExports.useContext(MotionContext),De=reactExports.useContext(PresenceContext),Fe=()=>makeState(Ce,Re,Be,De);return je?Fe():useConstant(Fe)};function scrapeMotionValuesFromProps$1(Ce,Re,je){const{style:Be}=Ce,De={};for(const Fe in Be)(isMotionValue(Be[Fe])||Re.style&&isMotionValue(Re.style[Fe])||isForcedMotionValue(Fe,Ce)||je?.getValue(Fe)?.liveStyle!==void 0)&&(De[Fe]=Be[Fe]);return De}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(Ce,Re,je){const Be=scrapeMotionValuesFromProps$1(Ce,Re,je);for(const De in Ce)if(isMotionValue(Ce[De])||isMotionValue(Re[De])){const Fe=transformPropOrder.indexOf(De)!==-1?"attr"+De.charAt(0).toUpperCase()+De.substring(1):De;Be[Fe]=Ce[De]}return Be}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(Ce){return Ce&&typeof Ce=="object"&&Object.prototype.hasOwnProperty.call(Ce,"current")}function useMotionRef(Ce,Re,je){return reactExports.useCallback(Be=>{Be&&Ce.onMount&&Ce.onMount(Be),Re&&(Be?Re.mount(Be):Re.unmount()),je&&(typeof je=="function"?je(Be):isRefObject(je)&&(je.current=Be))},[Re])}const camelToDash=Ce=>Ce.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(Ce,Re,je,Be,De){const{visualElement:Fe}=reactExports.useContext(MotionContext),Oe=reactExports.useContext(LazyContext),ke=reactExports.useContext(PresenceContext),Me=reactExports.useContext(MotionConfigContext).reducedMotion,Ue=reactExports.useRef(null);Be=Be||Oe.renderer,!Ue.current&&Be&&(Ue.current=Be(Ce,{visualState:Re,parent:Fe,props:je,presenceContext:ke,blockInitialAnimation:ke?ke.initial===!1:!1,reducedMotionConfig:Me}));const $e=Ue.current,He=reactExports.useContext(SwitchLayoutGroupContext);$e&&!$e.projection&&De&&($e.type==="html"||$e.type==="svg")&&createProjectionNode$1(Ue.current,je,De,He);const Qe=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{$e&&Qe.current&&$e.update(je,ke)});const We=je[optimizedAppearDataAttribute],qe=reactExports.useRef(!!We&&!window.MotionHandoffIsComplete?.(We)&&window.MotionHasOptimisedAnimation?.(We));return useIsomorphicLayoutEffect$1(()=>{$e&&(Qe.current=!0,window.MotionIsMounted=!0,$e.updateFeatures(),$e.scheduleRenderMicrotask(),qe.current&&$e.animationState&&$e.animationState.animateChanges())}),reactExports.useEffect(()=>{$e&&(!qe.current&&$e.animationState&&$e.animationState.animateChanges(),qe.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(We)}),qe.current=!1),$e.enteringChildren=void 0)}),$e}function createProjectionNode$1(Ce,Re,je,Be){const{layoutId:De,layout:Fe,drag:Oe,dragConstraints:ke,layoutScroll:Me,layoutRoot:Ue,layoutCrossfade:$e}=Re;Ce.projection=new je(Ce.latestValues,Re["data-framer-portal-id"]?void 0:getClosestProjectingNode(Ce.parent)),Ce.projection.setOptions({layoutId:De,layout:Fe,alwaysMeasureLayout:!!Oe||ke&&isRefObject(ke),visualElement:Ce,animationType:typeof Fe=="string"?Fe:"both",initialPromotionConfig:Be,crossfade:$e,layoutScroll:Me,layoutRoot:Ue})}function getClosestProjectingNode(Ce){if(Ce)return Ce.options.allowProjection!==!1?Ce.projection:getClosestProjectingNode(Ce.parent)}function createMotionComponent(Ce,{forwardMotionProps:Re=!1}={},je,Be){je&&loadFeatures(je);const De=isSVGComponent(Ce)?useSVGVisualState:useHTMLVisualState;function Fe(ke,Me){let Ue;const $e={...reactExports.useContext(MotionConfigContext),...ke,layoutId:useLayoutId(ke)},{isStatic:He}=$e,Qe=useCreateMotionContext(ke),We=De(ke,He);if(!He&&isBrowser$1){useStrictMode();const qe=getProjectionFunctionality($e);Ue=qe.MeasureLayout,Qe.visualElement=useVisualElement(Ce,We,$e,Be,qe.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:Qe,children:[Ue&&Qe.visualElement?jsxRuntimeExports.jsx(Ue,{visualElement:Qe.visualElement,...$e}):null,useRender(Ce,ke,useMotionRef(We,Qe.visualElement,Me),We,He,Re)]})}Fe.displayName=`motion.${typeof Ce=="string"?Ce:`create(${Ce.displayName??Ce.name??""})`}`;const Oe=reactExports.forwardRef(Fe);return Oe[motionComponentSymbol]=Ce,Oe}function useLayoutId({layoutId:Ce}){const Re=reactExports.useContext(LayoutGroupContext).id;return Re&&Ce!==void 0?Re+"-"+Ce:Ce}function useStrictMode(Ce,Re){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(Ce){const{drag:Re,layout:je}=featureDefinitions;if(!Re&&!je)return{};const Be={...Re,...je};return{MeasureLayout:Re?.isEnabled(Ce)||je?.isEnabled(Ce)?Be.MeasureLayout:void 0,ProjectionNode:Be.ProjectionNode}}function createMotionProxy(Ce,Re){if(typeof Proxy>"u")return createMotionComponent;const je=new Map,Be=(Fe,Oe)=>createMotionComponent(Fe,Oe,Ce,Re),De=(Fe,Oe)=>Be(Fe,Oe);return new Proxy(De,{get:(Fe,Oe)=>Oe==="create"?Be:(je.has(Oe)||je.set(Oe,createMotionComponent(Oe,void 0,Ce,Re)),je.get(Oe))})}function convertBoundingBoxToBox({top:Ce,left:Re,right:je,bottom:Be}){return{x:{min:Re,max:je},y:{min:Ce,max:Be}}}function convertBoxToBoundingBox({x:Ce,y:Re}){return{top:Re.min,right:Ce.max,bottom:Re.max,left:Ce.min}}function transformBoxPoints(Ce,Re){if(!Re)return Ce;const je=Re({x:Ce.left,y:Ce.top}),Be=Re({x:Ce.right,y:Ce.bottom});return{top:je.y,left:je.x,bottom:Be.y,right:Be.x}}function isIdentityScale(Ce){return Ce===void 0||Ce===1}function hasScale({scale:Ce,scaleX:Re,scaleY:je}){return!isIdentityScale(Ce)||!isIdentityScale(Re)||!isIdentityScale(je)}function hasTransform(Ce){return hasScale(Ce)||has2DTranslate(Ce)||Ce.z||Ce.rotate||Ce.rotateX||Ce.rotateY||Ce.skewX||Ce.skewY}function has2DTranslate(Ce){return is2DTranslate(Ce.x)||is2DTranslate(Ce.y)}function is2DTranslate(Ce){return Ce&&Ce!=="0%"}function scalePoint(Ce,Re,je){const Be=Ce-je,De=Re*Be;return je+De}function applyPointDelta(Ce,Re,je,Be,De){return De!==void 0&&(Ce=scalePoint(Ce,De,Be)),scalePoint(Ce,je,Be)+Re}function applyAxisDelta(Ce,Re=0,je=1,Be,De){Ce.min=applyPointDelta(Ce.min,Re,je,Be,De),Ce.max=applyPointDelta(Ce.max,Re,je,Be,De)}function applyBoxDelta(Ce,{x:Re,y:je}){applyAxisDelta(Ce.x,Re.translate,Re.scale,Re.originPoint),applyAxisDelta(Ce.y,je.translate,je.scale,je.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(Ce,Re,je,Be=!1){const De=je.length;if(!De)return;Re.x=Re.y=1;let Fe,Oe;for(let ke=0;ke<De;ke++){Fe=je[ke],Oe=Fe.projectionDelta;const{visualElement:Me}=Fe.options;Me&&Me.props.style&&Me.props.style.display==="contents"||(Be&&Fe.options.layoutScroll&&Fe.scroll&&Fe!==Fe.root&&transformBox(Ce,{x:-Fe.scroll.offset.x,y:-Fe.scroll.offset.y}),Oe&&(Re.x*=Oe.x.scale,Re.y*=Oe.y.scale,applyBoxDelta(Ce,Oe)),Be&&hasTransform(Fe.latestValues)&&transformBox(Ce,Fe.latestValues))}Re.x<TREE_SCALE_SNAP_MAX&&Re.x>TREE_SCALE_SNAP_MIN&&(Re.x=1),Re.y<TREE_SCALE_SNAP_MAX&&Re.y>TREE_SCALE_SNAP_MIN&&(Re.y=1)}function translateAxis(Ce,Re){Ce.min=Ce.min+Re,Ce.max=Ce.max+Re}function transformAxis(Ce,Re,je,Be,De=.5){const Fe=mixNumber$1(Ce.min,Ce.max,De);applyAxisDelta(Ce,Re,je,Fe,Be)}function transformBox(Ce,Re){transformAxis(Ce.x,Re.x,Re.scaleX,Re.scale,Re.originX),transformAxis(Ce.y,Re.y,Re.scaleY,Re.scale,Re.originY)}function measureViewportBox(Ce,Re){return convertBoundingBoxToBox(transformBoxPoints(Ce.getBoundingClientRect(),Re))}function measurePageBox(Ce,Re,je){const Be=measureViewportBox(Ce,je),{scroll:De}=Re;return De&&(translateAxis(Be.x,De.offset.x),translateAxis(Be.y,De.offset.y)),Be}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const Ce=window.matchMedia("(prefers-reduced-motion)"),Re=()=>prefersReducedMotion.current=Ce.matches;Ce.addEventListener("change",Re),Re()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(Ce,Re,je){for(const Be in Re){const De=Re[Be],Fe=je[Be];if(isMotionValue(De))Ce.addValue(Be,De);else if(isMotionValue(Fe))Ce.addValue(Be,motionValue(De,{owner:Ce}));else if(Fe!==De)if(Ce.hasValue(Be)){const Oe=Ce.getValue(Be);Oe.liveStyle===!0?Oe.jump(De):Oe.hasAnimated||Oe.set(De)}else{const Oe=Ce.getStaticValue(Be);Ce.addValue(Be,motionValue(Oe!==void 0?Oe:De,{owner:Ce}))}}for(const Be in je)Re[Be]===void 0&&Ce.removeValue(Be);return Re}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(Re,je,Be){return{}}constructor({parent:Re,props:je,presenceContext:Be,reducedMotionConfig:De,blockInitialAnimation:Fe,visualState:Oe},ke={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const Qe=time$1.now();this.renderScheduledAt<Qe&&(this.renderScheduledAt=Qe,frame.render(this.render,!1,!0))};const{latestValues:Me,renderState:Ue}=Oe;this.latestValues=Me,this.baseTarget={...Me},this.initialValues=je.initial?{...Me}:{},this.renderState=Ue,this.parent=Re,this.props=je,this.presenceContext=Be,this.depth=Re?Re.depth+1:0,this.reducedMotionConfig=De,this.options=ke,this.blockInitialAnimation=!!Fe,this.isControllingVariants=isControllingVariants(je),this.isVariantNode=isVariantNode(je),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(Re&&Re.current);const{willChange:$e,...He}=this.scrapeMotionValuesFromProps(je,{},this);for(const Qe in He){const We=He[Qe];Me[Qe]!==void 0&&isMotionValue(We)&&We.set(Me[Qe])}}mount(Re){this.current=Re,visualElementStore.set(Re,this),this.projection&&!this.projection.instance&&this.projection.mount(Re),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((je,Be)=>this.bindToMotionValue(Be,je)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(Re=>Re()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const Re in this.events)this.events[Re].clear();for(const Re in this.features){const je=this.features[Re];je&&(je.unmount(),je.isMounted=!1)}this.current=null}addChild(Re){this.children.add(Re),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(Re)}removeChild(Re){this.children.delete(Re),this.enteringChildren&&this.enteringChildren.delete(Re)}bindToMotionValue(Re,je){this.valueSubscriptions.has(Re)&&this.valueSubscriptions.get(Re)();const Be=transformProps.has(Re);Be&&this.onBindTransform&&this.onBindTransform();const De=je.on("change",Oe=>{this.latestValues[Re]=Oe,this.props.onUpdate&&frame.preRender(this.notifyUpdate),Be&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let Fe;window.MotionCheckAppearSync&&(Fe=window.MotionCheckAppearSync(this,Re,je)),this.valueSubscriptions.set(Re,()=>{De(),Fe&&Fe(),je.owner&&je.stop()})}sortNodePosition(Re){return!this.current||!this.sortInstanceNodePosition||this.type!==Re.type?0:this.sortInstanceNodePosition(this.current,Re.current)}updateFeatures(){let Re="animation";for(Re in featureDefinitions){const je=featureDefinitions[Re];if(!je)continue;const{isEnabled:Be,Feature:De}=je;if(!this.features[Re]&&De&&Be(this.props)&&(this.features[Re]=new De(this)),this.features[Re]){const Fe=this.features[Re];Fe.isMounted?Fe.update():(Fe.mount(),Fe.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(Re){return this.latestValues[Re]}setStaticValue(Re,je){this.latestValues[Re]=je}update(Re,je){(Re.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=Re,this.prevPresenceContext=this.presenceContext,this.presenceContext=je;for(let Be=0;Be<propEventHandlers.length;Be++){const De=propEventHandlers[Be];this.propEventSubscriptions[De]&&(this.propEventSubscriptions[De](),delete this.propEventSubscriptions[De]);const Fe="on"+De,Oe=Re[Fe];Oe&&(this.propEventSubscriptions[De]=this.on(De,Oe))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(Re,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(Re){return this.props.variants?this.props.variants[Re]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(Re){const je=this.getClosestVariantNode();if(je)return je.variantChildren&&je.variantChildren.add(Re),()=>je.variantChildren.delete(Re)}addValue(Re,je){const Be=this.values.get(Re);je!==Be&&(Be&&this.removeValue(Re),this.bindToMotionValue(Re,je),this.values.set(Re,je),this.latestValues[Re]=je.get())}removeValue(Re){this.values.delete(Re);const je=this.valueSubscriptions.get(Re);je&&(je(),this.valueSubscriptions.delete(Re)),delete this.latestValues[Re],this.removeValueFromRenderState(Re,this.renderState)}hasValue(Re){return this.values.has(Re)}getValue(Re,je){if(this.props.values&&this.props.values[Re])return this.props.values[Re];let Be=this.values.get(Re);return Be===void 0&&je!==void 0&&(Be=motionValue(je===null?void 0:je,{owner:this}),this.addValue(Re,Be)),Be}readValue(Re,je){let Be=this.latestValues[Re]!==void 0||!this.current?this.latestValues[Re]:this.getBaseTargetFromProps(this.props,Re)??this.readValueFromInstance(this.current,Re,this.options);return Be!=null&&(typeof Be=="string"&&(isNumericalString(Be)||isZeroValueString(Be))?Be=parseFloat(Be):!findValueType(Be)&&complex.test(je)&&(Be=getAnimatableNone(Re,je)),this.setBaseTarget(Re,isMotionValue(Be)?Be.get():Be)),isMotionValue(Be)?Be.get():Be}setBaseTarget(Re,je){this.baseTarget[Re]=je}getBaseTarget(Re){const{initial:je}=this.props;let Be;if(typeof je=="string"||typeof je=="object"){const Fe=resolveVariantFromProps(this.props,je,this.presenceContext?.custom);Fe&&(Be=Fe[Re])}if(je&&Be!==void 0)return Be;const De=this.getBaseTargetFromProps(this.props,Re);return De!==void 0&&!isMotionValue(De)?De:this.initialValues[Re]!==void 0&&Be===void 0?void 0:this.baseTarget[Re]}on(Re,je){return this.events[Re]||(this.events[Re]=new SubscriptionManager),this.events[Re].add(je)}notify(Re,...je){this.events[Re]&&this.events[Re].notify(...je)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(Re,je){return Re.compareDocumentPosition(je)&2?1:-1}getBaseTargetFromProps(Re,je){return Re.style?Re.style[je]:void 0}removeValueFromRenderState(Re,{vars:je,style:Be}){delete je[Re],delete Be[Re]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:Re}=this.props;isMotionValue(Re)&&(this.childSubscription=Re.on("change",je=>{this.current&&(this.current.textContent=`${je}`)}))}}function renderHTML(Ce,{style:Re,vars:je},Be,De){const Fe=Ce.style;let Oe;for(Oe in Re)Fe[Oe]=Re[Oe];De?.applyProjectionStyles(Fe,Be);for(Oe in je)Fe.setProperty(Oe,je[Oe])}function getComputedStyle$3(Ce){return window.getComputedStyle(Ce)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(Re,je){if(transformProps.has(je))return this.projection?.isProjecting?defaultTransformValue(je):readTransformValue(Re,je);{const Be=getComputedStyle$3(Re),De=(isCSSVariableName(je)?Be.getPropertyValue(je):Be[je])||0;return typeof De=="string"?De.trim():De}}measureInstanceViewportBox(Re,{transformPagePoint:je}){return measureViewportBox(Re,je)}build(Re,je,Be){buildHTMLStyles(Re,je,Be.transformTemplate)}scrapeMotionValuesFromProps(Re,je,Be){return scrapeMotionValuesFromProps$1(Re,je,Be)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(Ce,Re,je,Be){renderHTML(Ce,Re,void 0,Be);for(const De in Re.attrs)Ce.setAttribute(camelCaseAttributes.has(De)?De:camelToDash(De),Re.attrs[De])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(Re,je){return Re[je]}readValueFromInstance(Re,je){if(transformProps.has(je)){const Be=getDefaultValueType(je);return Be&&Be.default||0}return je=camelCaseAttributes.has(je)?je:camelToDash(je),Re.getAttribute(je)}scrapeMotionValuesFromProps(Re,je,Be){return scrapeMotionValuesFromProps(Re,je,Be)}build(Re,je,Be){buildSVGAttrs(Re,je,this.isSVGTag,Be.transformTemplate,Be.style)}renderInstance(Re,je,Be,De){renderSVG(Re,je,Be,De)}mount(Re){this.isSVGTag=isSVGTag(Re.tagName),super.mount(Re)}}const createDomVisualElement=(Ce,Re)=>isSVGComponent(Ce)?new SVGVisualElement(Re):new HTMLVisualElement(Re,{allowProjection:Ce!==reactExports.Fragment});function resolveVariant(Ce,Re,je){const Be=Ce.getProps();return resolveVariantFromProps(Be,Re,je!==void 0?je:Be.custom,Ce)}const isKeyframesTarget=Ce=>Array.isArray(Ce);function setMotionValue(Ce,Re,je){Ce.hasValue(Re)?Ce.getValue(Re).set(je):Ce.addValue(Re,motionValue(je))}function resolveFinalValueInKeyframes(Ce){return isKeyframesTarget(Ce)?Ce[Ce.length-1]||0:Ce}function setTarget(Ce,Re){const je=resolveVariant(Ce,Re);let{transitionEnd:Be={},transition:De={},...Fe}=je||{};Fe={...Fe,...Be};for(const Oe in Fe){const ke=resolveFinalValueInKeyframes(Fe[Oe]);setMotionValue(Ce,Oe,ke)}}function isWillChangeMotionValue(Ce){return!!(isMotionValue(Ce)&&Ce.add)}function addValueToWillChange(Ce,Re){const je=Ce.getValue("willChange");if(isWillChangeMotionValue(je))return je.add(Re);if(!je&&MotionGlobalConfig.WillChange){const Be=new MotionGlobalConfig.WillChange("auto");Ce.addValue("willChange",Be),Be.add(Re)}}function getOptimisedAppearId(Ce){return Ce.props[optimizedAppearDataAttribute]}const isNotNull=Ce=>Ce!==null;function getFinalKeyframe(Ce,{repeat:Re,repeatType:je="loop"},Be){const De=Ce.filter(isNotNull),Fe=Re&&je!=="loop"&&Re%2===1?0:De.length-1;return De[Fe]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=Ce=>({type:"spring",stiffness:550,damping:Ce===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(Ce,{keyframes:Re})=>Re.length>2?keyframesTransition:transformProps.has(Ce)?Ce.startsWith("scale")?criticallyDampedSpring(Re[1]):underDampedSpring:ease;function isTransitionDefined({when:Ce,delay:Re,delayChildren:je,staggerChildren:Be,staggerDirection:De,repeat:Fe,repeatType:Oe,repeatDelay:ke,from:Me,elapsed:Ue,...$e}){return!!Object.keys($e).length}const animateMotionValue=(Ce,Re,je,Be={},De,Fe)=>Oe=>{const ke=getValueTransition(Be,Ce)||{},Me=ke.delay||Be.delay||0;let{elapsed:Ue=0}=Be;Ue=Ue-secondsToMilliseconds(Me);const $e={keyframes:Array.isArray(je)?je:[null,je],ease:"easeOut",velocity:Re.getVelocity(),...ke,delay:-Ue,onUpdate:Qe=>{Re.set(Qe),ke.onUpdate&&ke.onUpdate(Qe)},onComplete:()=>{Oe(),ke.onComplete&&ke.onComplete()},name:Ce,motionValue:Re,element:Fe?void 0:De};isTransitionDefined(ke)||Object.assign($e,getDefaultTransition(Ce,$e)),$e.duration&&($e.duration=secondsToMilliseconds($e.duration)),$e.repeatDelay&&($e.repeatDelay=secondsToMilliseconds($e.repeatDelay)),$e.from!==void 0&&($e.keyframes[0]=$e.from);let He=!1;if(($e.type===!1||$e.duration===0&&!$e.repeatDelay)&&(makeAnimationInstant($e),$e.delay===0&&(He=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(He=!0,makeAnimationInstant($e),$e.delay=0),$e.allowFlatten=!ke.type&&!ke.ease,He&&!Fe&&Re.get()!==void 0){const Qe=getFinalKeyframe($e.keyframes,ke);if(Qe!==void 0){frame.update(()=>{$e.onUpdate(Qe),$e.onComplete()});return}}return ke.isSync?new JSAnimation($e):new AsyncMotionValueAnimation($e)};function shouldBlockAnimation({protectedKeys:Ce,needsAnimating:Re},je){const Be=Ce.hasOwnProperty(je)&&Re[je]!==!0;return Re[je]=!1,Be}function animateTarget(Ce,Re,{delay:je=0,transitionOverride:Be,type:De}={}){let{transition:Fe=Ce.getDefaultTransition(),transitionEnd:Oe,...ke}=Re;Be&&(Fe=Be);const Me=[],Ue=De&&Ce.animationState&&Ce.animationState.getState()[De];for(const $e in ke){const He=Ce.getValue($e,Ce.latestValues[$e]??null),Qe=ke[$e];if(Qe===void 0||Ue&&shouldBlockAnimation(Ue,$e))continue;const We={delay:je,...getValueTransition(Fe||{},$e)},qe=He.get();if(qe!==void 0&&!He.isAnimating&&!Array.isArray(Qe)&&Qe===qe&&!We.velocity)continue;let Ke=!1;if(window.MotionHandoffAnimation){const Ye=getOptimisedAppearId(Ce);if(Ye){const Ze=window.MotionHandoffAnimation(Ye,$e,frame);Ze!==null&&(We.startTime=Ze,Ke=!0)}}addValueToWillChange(Ce,$e),He.start(animateMotionValue($e,He,Qe,Ce.shouldReduceMotion&&positionalKeys.has($e)?{type:!1}:We,Ce,Ke));const Xe=He.animation;Xe&&Me.push(Xe)}return Oe&&Promise.all(Me).then(()=>{frame.update(()=>{Oe&&setTarget(Ce,Oe)})}),Me}function calcChildStagger(Ce,Re,je,Be=0,De=1){const Fe=Array.from(Ce).sort((Ue,$e)=>Ue.sortNodePosition($e)).indexOf(Re),Oe=Ce.size,ke=(Oe-1)*Be;return typeof je=="function"?je(Fe,Oe):De===1?Fe*Be:ke-Fe*Be}function animateVariant(Ce,Re,je={}){const Be=resolveVariant(Ce,Re,je.type==="exit"?Ce.presenceContext?.custom:void 0);let{transition:De=Ce.getDefaultTransition()||{}}=Be||{};je.transitionOverride&&(De=je.transitionOverride);const Fe=Be?()=>Promise.all(animateTarget(Ce,Be,je)):()=>Promise.resolve(),Oe=Ce.variantChildren&&Ce.variantChildren.size?(Me=0)=>{const{delayChildren:Ue=0,staggerChildren:$e,staggerDirection:He}=De;return animateChildren(Ce,Re,Me,Ue,$e,He,je)}:()=>Promise.resolve(),{when:ke}=De;if(ke){const[Me,Ue]=ke==="beforeChildren"?[Fe,Oe]:[Oe,Fe];return Me().then(()=>Ue())}else return Promise.all([Fe(),Oe(je.delay)])}function animateChildren(Ce,Re,je=0,Be=0,De=0,Fe=1,Oe){const ke=[];for(const Me of Ce.variantChildren)Me.notify("AnimationStart",Re),ke.push(animateVariant(Me,Re,{...Oe,delay:je+(typeof Be=="function"?0:Be)+calcChildStagger(Ce.variantChildren,Me,Be,De,Fe)}).then(()=>Me.notify("AnimationComplete",Re)));return Promise.all(ke)}function animateVisualElement(Ce,Re,je={}){Ce.notify("AnimationStart",Re);let Be;if(Array.isArray(Re)){const De=Re.map(Fe=>animateVariant(Ce,Fe,je));Be=Promise.all(De)}else if(typeof Re=="string")Be=animateVariant(Ce,Re,je);else{const De=typeof Re=="function"?resolveVariant(Ce,Re,je.custom):Re;Be=Promise.all(animateTarget(Ce,De,je))}return Be.then(()=>{Ce.notify("AnimationComplete",Re)})}function shallowCompare(Ce,Re){if(!Array.isArray(Re))return!1;const je=Re.length;if(je!==Ce.length)return!1;for(let Be=0;Be<je;Be++)if(Re[Be]!==Ce[Be])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(Ce){if(!Ce)return;if(!Ce.isControllingVariants){const je=Ce.parent?getVariantContext(Ce.parent)||{}:{};return Ce.props.initial!==void 0&&(je.initial=Ce.props.initial),je}const Re={};for(let je=0;je<numVariantProps;je++){const Be=variantProps[je],De=Ce.props[Be];(isVariantLabel(De)||De===!1)&&(Re[Be]=De)}return Re}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(Ce){return Re=>Promise.all(Re.map(({animation:je,options:Be})=>animateVisualElement(Ce,je,Be)))}function createAnimationState(Ce){let Re=animateList(Ce),je=createState(),Be=!0;const De=Me=>(Ue,$e)=>{const He=resolveVariant(Ce,$e,Me==="exit"?Ce.presenceContext?.custom:void 0);if(He){const{transition:Qe,transitionEnd:We,...qe}=He;Ue={...Ue,...qe,...We}}return Ue};function Fe(Me){Re=Me(Ce)}function Oe(Me){const{props:Ue}=Ce,$e=getVariantContext(Ce.parent)||{},He=[],Qe=new Set;let We={},qe=1/0;for(let Xe=0;Xe<numAnimationTypes;Xe++){const Ye=reversePriorityOrder[Xe],Ze=je[Ye],Je=Ue[Ye]!==void 0?Ue[Ye]:$e[Ye],tr=isVariantLabel(Je),rr=Ye===Me?Ze.isActive:null;rr===!1&&(qe=Xe);let ar=Je===$e[Ye]&&Je!==Ue[Ye]&&tr;if(ar&&Be&&Ce.manuallyAnimateOnMount&&(ar=!1),Ze.protectedKeys={...We},!Ze.isActive&&rr===null||!Je&&!Ze.prevProp||isAnimationControls(Je)||typeof Je=="boolean")continue;const nr=checkVariantsDidChange(Ze.prevProp,Je);let sr=nr||Ye===Me&&Ze.isActive&&!ar&&tr||Xe>qe&&tr,dr=!1;const _r=Array.isArray(Je)?Je:[Je];let fr=_r.reduce(De(Ye),{});rr===!1&&(fr={});const{prevResolvedValues:or={}}=Ze,Er={...or,...fr},Rr=Pr=>{sr=!0,Qe.has(Pr)&&(dr=!0,Qe.delete(Pr)),Ze.needsAnimating[Pr]=!0;const br=Ce.getValue(Pr);br&&(br.liveStyle=!1)};for(const Pr in Er){const br=fr[Pr],wr=or[Pr];if(We.hasOwnProperty(Pr))continue;let Br=!1;isKeyframesTarget(br)&&isKeyframesTarget(wr)?Br=!shallowCompare(br,wr):Br=br!==wr,Br?br!=null?Rr(Pr):Qe.add(Pr):br!==void 0&&Qe.has(Pr)?Rr(Pr):Ze.protectedKeys[Pr]=!0}Ze.prevProp=Je,Ze.prevResolvedValues=fr,Ze.isActive&&(We={...We,...fr}),Be&&Ce.blockInitialAnimation&&(sr=!1);const jr=ar&&nr;sr&&(!jr||dr)&&He.push(..._r.map(Pr=>{const br={type:Ye};if(typeof Pr=="string"&&Be&&!jr&&Ce.manuallyAnimateOnMount&&Ce.parent){const{parent:wr}=Ce,Br=resolveVariant(wr,Pr);if(wr.enteringChildren&&Br){const{delayChildren:Lr}=Br.transition||{};br.delay=calcChildStagger(wr.enteringChildren,Ce,Lr)}}return{animation:Pr,options:br}}))}if(Qe.size){const Xe={};if(typeof Ue.initial!="boolean"){const Ye=resolveVariant(Ce,Array.isArray(Ue.initial)?Ue.initial[0]:Ue.initial);Ye&&Ye.transition&&(Xe.transition=Ye.transition)}Qe.forEach(Ye=>{const Ze=Ce.getBaseTarget(Ye),Je=Ce.getValue(Ye);Je&&(Je.liveStyle=!0),Xe[Ye]=Ze??null}),He.push({animation:Xe})}let Ke=!!He.length;return Be&&(Ue.initial===!1||Ue.initial===Ue.animate)&&!Ce.manuallyAnimateOnMount&&(Ke=!1),Be=!1,Ke?Re(He):Promise.resolve()}function ke(Me,Ue){if(je[Me].isActive===Ue)return Promise.resolve();Ce.variantChildren?.forEach(He=>He.animationState?.setActive(Me,Ue)),je[Me].isActive=Ue;const $e=Oe(Me);for(const He in je)je[He].protectedKeys={};return $e}return{animateChanges:Oe,setActive:ke,setAnimateFunction:Fe,getState:()=>je,reset:()=>{je=createState(),Be=!0}}}function checkVariantsDidChange(Ce,Re){return typeof Re=="string"?Re!==Ce:Array.isArray(Re)?!shallowCompare(Re,Ce):!1}function createTypeState(Ce=!1){return{isActive:Ce,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(Re){this.isMounted=!1,this.node=Re}update(){}}class AnimationFeature extends Feature{constructor(Re){super(Re),Re.animationState||(Re.animationState=createAnimationState(Re))}updateAnimationControlsSubscription(){const{animate:Re}=this.node.getProps();isAnimationControls(Re)&&(this.unmountControls=Re.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:Re}=this.node.getProps(),{animate:je}=this.node.prevProps||{};Re!==je&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:Re,onExitComplete:je}=this.node.presenceContext,{isPresent:Be}=this.node.prevPresenceContext||{};if(!this.node.animationState||Re===Be)return;const De=this.node.animationState.setActive("exit",!Re);je&&!Re&&De.then(()=>{je(this.id)})}mount(){const{register:Re,onExitComplete:je}=this.node.presenceContext||{};je&&je(this.id),Re&&(this.unmount=Re(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(Ce,Re,je,Be={passive:!0}){return Ce.addEventListener(Re,je,Be),()=>Ce.removeEventListener(Re,je)}function extractEventInfo(Ce){return{point:{x:Ce.pageX,y:Ce.pageY}}}const addPointerInfo=Ce=>Re=>isPrimaryPointer(Re)&&Ce(Re,extractEventInfo(Re));function addPointerEvent(Ce,Re,je,Be){return addDomEvent(Ce,Re,addPointerInfo(je),Be)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(Ce){return Ce.max-Ce.min}function isNear(Ce,Re,je){return Math.abs(Ce-Re)<=je}function calcAxisDelta(Ce,Re,je,Be=.5){Ce.origin=Be,Ce.originPoint=mixNumber$1(Re.min,Re.max,Ce.origin),Ce.scale=calcLength(je)/calcLength(Re),Ce.translate=mixNumber$1(je.min,je.max,Ce.origin)-Ce.originPoint,(Ce.scale>=SCALE_MIN&&Ce.scale<=SCALE_MAX||isNaN(Ce.scale))&&(Ce.scale=1),(Ce.translate>=TRANSLATE_MIN&&Ce.translate<=TRANSLATE_MAX||isNaN(Ce.translate))&&(Ce.translate=0)}function calcBoxDelta(Ce,Re,je,Be){calcAxisDelta(Ce.x,Re.x,je.x,Be?Be.originX:void 0),calcAxisDelta(Ce.y,Re.y,je.y,Be?Be.originY:void 0)}function calcRelativeAxis(Ce,Re,je){Ce.min=je.min+Re.min,Ce.max=Ce.min+calcLength(Re)}function calcRelativeBox(Ce,Re,je){calcRelativeAxis(Ce.x,Re.x,je.x),calcRelativeAxis(Ce.y,Re.y,je.y)}function calcRelativeAxisPosition(Ce,Re,je){Ce.min=Re.min-je.min,Ce.max=Ce.min+calcLength(Re)}function calcRelativePosition(Ce,Re,je){calcRelativeAxisPosition(Ce.x,Re.x,je.x),calcRelativeAxisPosition(Ce.y,Re.y,je.y)}function eachAxis(Ce){return[Ce("x"),Ce("y")]}const getContextWindow=({current:Ce})=>Ce?Ce.ownerDocument.defaultView:null,distance=(Ce,Re)=>Math.abs(Ce-Re);function distance2D(Ce,Re){const je=distance(Ce.x,Re.x),Be=distance(Ce.y,Re.y);return Math.sqrt(je**2+Be**2)}class PanSession{constructor(Re,je,{transformPagePoint:Be,contextWindow:De=window,dragSnapToOrigin:Fe=!1,distanceThreshold:Oe=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Qe=getPanInfo(this.lastMoveEventInfo,this.history),We=this.startEvent!==null,qe=distance2D(Qe.offset,{x:0,y:0})>=this.distanceThreshold;if(!We&&!qe)return;const{point:Ke}=Qe,{timestamp:Xe}=frameData;this.history.push({...Ke,timestamp:Xe});const{onStart:Ye,onMove:Ze}=this.handlers;We||(Ye&&Ye(this.lastMoveEvent,Qe),this.startEvent=this.lastMoveEvent),Ze&&Ze(this.lastMoveEvent,Qe)},this.handlePointerMove=(Qe,We)=>{this.lastMoveEvent=Qe,this.lastMoveEventInfo=transformPoint(We,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(Qe,We)=>{this.end();const{onEnd:qe,onSessionEnd:Ke,resumeAnimation:Xe}=this.handlers;if(this.dragSnapToOrigin&&Xe&&Xe(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Ye=getPanInfo(Qe.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(We,this.transformPagePoint),this.history);this.startEvent&&qe&&qe(Qe,Ye),Ke&&Ke(Qe,Ye)},!isPrimaryPointer(Re))return;this.dragSnapToOrigin=Fe,this.handlers=je,this.transformPagePoint=Be,this.distanceThreshold=Oe,this.contextWindow=De||window;const ke=extractEventInfo(Re),Me=transformPoint(ke,this.transformPagePoint),{point:Ue}=Me,{timestamp:$e}=frameData;this.history=[{...Ue,timestamp:$e}];const{onSessionStart:He}=je;He&&He(Re,getPanInfo(Me,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(Re){this.handlers=Re}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(Ce,Re){return Re?{point:Re(Ce.point)}:Ce}function subtractPoint(Ce,Re){return{x:Ce.x-Re.x,y:Ce.y-Re.y}}function getPanInfo({point:Ce},Re){return{point:Ce,delta:subtractPoint(Ce,lastDevicePoint(Re)),offset:subtractPoint(Ce,startDevicePoint(Re)),velocity:getVelocity(Re,.1)}}function startDevicePoint(Ce){return Ce[0]}function lastDevicePoint(Ce){return Ce[Ce.length-1]}function getVelocity(Ce,Re){if(Ce.length<2)return{x:0,y:0};let je=Ce.length-1,Be=null;const De=lastDevicePoint(Ce);for(;je>=0&&(Be=Ce[je],!(De.timestamp-Be.timestamp>secondsToMilliseconds(Re)));)je--;if(!Be)return{x:0,y:0};const Fe=millisecondsToSeconds(De.timestamp-Be.timestamp);if(Fe===0)return{x:0,y:0};const Oe={x:(De.x-Be.x)/Fe,y:(De.y-Be.y)/Fe};return Oe.x===1/0&&(Oe.x=0),Oe.y===1/0&&(Oe.y=0),Oe}function applyConstraints(Ce,{min:Re,max:je},Be){return Re!==void 0&&Ce<Re?Ce=Be?mixNumber$1(Re,Ce,Be.min):Math.max(Ce,Re):je!==void 0&&Ce>je&&(Ce=Be?mixNumber$1(je,Ce,Be.max):Math.min(Ce,je)),Ce}function calcRelativeAxisConstraints(Ce,Re,je){return{min:Re!==void 0?Ce.min+Re:void 0,max:je!==void 0?Ce.max+je-(Ce.max-Ce.min):void 0}}function calcRelativeConstraints(Ce,{top:Re,left:je,bottom:Be,right:De}){return{x:calcRelativeAxisConstraints(Ce.x,je,De),y:calcRelativeAxisConstraints(Ce.y,Re,Be)}}function calcViewportAxisConstraints(Ce,Re){let je=Re.min-Ce.min,Be=Re.max-Ce.max;return Re.max-Re.min<Ce.max-Ce.min&&([je,Be]=[Be,je]),{min:je,max:Be}}function calcViewportConstraints(Ce,Re){return{x:calcViewportAxisConstraints(Ce.x,Re.x),y:calcViewportAxisConstraints(Ce.y,Re.y)}}function calcOrigin(Ce,Re){let je=.5;const Be=calcLength(Ce),De=calcLength(Re);return De>Be?je=progress(Re.min,Re.max-Be,Ce.min):Be>De&&(je=progress(Ce.min,Ce.max-De,Re.min)),clamp$1(0,1,je)}function rebaseAxisConstraints(Ce,Re){const je={};return Re.min!==void 0&&(je.min=Re.min-Ce.min),Re.max!==void 0&&(je.max=Re.max-Ce.min),je}const defaultElastic=.35;function resolveDragElastic(Ce=defaultElastic){return Ce===!1?Ce=0:Ce===!0&&(Ce=defaultElastic),{x:resolveAxisElastic(Ce,"left","right"),y:resolveAxisElastic(Ce,"top","bottom")}}function resolveAxisElastic(Ce,Re,je){return{min:resolvePointElastic(Ce,Re),max:resolvePointElastic(Ce,je)}}function resolvePointElastic(Ce,Re){return typeof Ce=="number"?Ce:Ce[Re]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(Re){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=Re}start(Re,{snapToCursor:je=!1,distanceThreshold:Be}={}){const{presenceContext:De}=this.visualElement;if(De&&De.isPresent===!1)return;const Fe=He=>{const{dragSnapToOrigin:Qe}=this.getProps();Qe?this.pauseAnimation():this.stopAnimation(),je&&this.snapToCursor(extractEventInfo(He).point)},Oe=(He,Qe)=>{const{drag:We,dragPropagation:qe,onDragStart:Ke}=this.getProps();if(We&&!qe&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(We),!this.openDragLock))return;this.latestPointerEvent=He,this.latestPanInfo=Qe,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(Ye=>{let Ze=this.getAxisMotionValue(Ye).get()||0;if(percent.test(Ze)){const{projection:Je}=this.visualElement;if(Je&&Je.layout){const tr=Je.layout.layoutBox[Ye];tr&&(Ze=calcLength(tr)*(parseFloat(Ze)/100))}}this.originPoint[Ye]=Ze}),Ke&&frame.postRender(()=>Ke(He,Qe)),addValueToWillChange(this.visualElement,"transform");const{animationState:Xe}=this.visualElement;Xe&&Xe.setActive("whileDrag",!0)},ke=(He,Qe)=>{this.latestPointerEvent=He,this.latestPanInfo=Qe;const{dragPropagation:We,dragDirectionLock:qe,onDirectionLock:Ke,onDrag:Xe}=this.getProps();if(!We&&!this.openDragLock)return;const{offset:Ye}=Qe;if(qe&&this.currentDirection===null){this.currentDirection=getCurrentDirection(Ye),this.currentDirection!==null&&Ke&&Ke(this.currentDirection);return}this.updateAxis("x",Qe.point,Ye),this.updateAxis("y",Qe.point,Ye),this.visualElement.render(),Xe&&Xe(He,Qe)},Me=(He,Qe)=>{this.latestPointerEvent=He,this.latestPanInfo=Qe,this.stop(He,Qe),this.latestPointerEvent=null,this.latestPanInfo=null},Ue=()=>eachAxis(He=>this.getAnimationState(He)==="paused"&&this.getAxisMotionValue(He).animation?.play()),{dragSnapToOrigin:$e}=this.getProps();this.panSession=new PanSession(Re,{onSessionStart:Fe,onStart:Oe,onMove:ke,onSessionEnd:Me,resumeAnimation:Ue},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:$e,distanceThreshold:Be,contextWindow:getContextWindow(this.visualElement)})}stop(Re,je){const Be=Re||this.latestPointerEvent,De=je||this.latestPanInfo,Fe=this.isDragging;if(this.cancel(),!Fe||!De||!Be)return;const{velocity:Oe}=De;this.startAnimation(Oe);const{onDragEnd:ke}=this.getProps();ke&&frame.postRender(()=>ke(Be,De))}cancel(){this.isDragging=!1;const{projection:Re,animationState:je}=this.visualElement;Re&&(Re.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:Be}=this.getProps();!Be&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),je&&je.setActive("whileDrag",!1)}updateAxis(Re,je,Be){const{drag:De}=this.getProps();if(!Be||!shouldDrag(Re,De,this.currentDirection))return;const Fe=this.getAxisMotionValue(Re);let Oe=this.originPoint[Re]+Be[Re];this.constraints&&this.constraints[Re]&&(Oe=applyConstraints(Oe,this.constraints[Re],this.elastic[Re])),Fe.set(Oe)}resolveConstraints(){const{dragConstraints:Re,dragElastic:je}=this.getProps(),Be=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,De=this.constraints;Re&&isRefObject(Re)?this.constraints||(this.constraints=this.resolveRefConstraints()):Re&&Be?this.constraints=calcRelativeConstraints(Be.layoutBox,Re):this.constraints=!1,this.elastic=resolveDragElastic(je),De!==this.constraints&&Be&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(Fe=>{this.constraints!==!1&&this.getAxisMotionValue(Fe)&&(this.constraints[Fe]=rebaseAxisConstraints(Be.layoutBox[Fe],this.constraints[Fe]))})}resolveRefConstraints(){const{dragConstraints:Re,onMeasureDragConstraints:je}=this.getProps();if(!Re||!isRefObject(Re))return!1;const Be=Re.current,{projection:De}=this.visualElement;if(!De||!De.layout)return!1;const Fe=measurePageBox(Be,De.root,this.visualElement.getTransformPagePoint());let Oe=calcViewportConstraints(De.layout.layoutBox,Fe);if(je){const ke=je(convertBoxToBoundingBox(Oe));this.hasMutatedConstraints=!!ke,ke&&(Oe=convertBoundingBoxToBox(ke))}return Oe}startAnimation(Re){const{drag:je,dragMomentum:Be,dragElastic:De,dragTransition:Fe,dragSnapToOrigin:Oe,onDragTransitionEnd:ke}=this.getProps(),Me=this.constraints||{},Ue=eachAxis($e=>{if(!shouldDrag($e,je,this.currentDirection))return;let He=Me&&Me[$e]||{};Oe&&(He={min:0,max:0});const Qe=De?200:1e6,We=De?40:1e7,qe={type:"inertia",velocity:Be?Re[$e]:0,bounceStiffness:Qe,bounceDamping:We,timeConstant:750,restDelta:1,restSpeed:10,...Fe,...He};return this.startAxisValueAnimation($e,qe)});return Promise.all(Ue).then(ke)}startAxisValueAnimation(Re,je){const Be=this.getAxisMotionValue(Re);return addValueToWillChange(this.visualElement,Re),Be.start(animateMotionValue(Re,Be,0,je,this.visualElement,!1))}stopAnimation(){eachAxis(Re=>this.getAxisMotionValue(Re).stop())}pauseAnimation(){eachAxis(Re=>this.getAxisMotionValue(Re).animation?.pause())}getAnimationState(Re){return this.getAxisMotionValue(Re).animation?.state}getAxisMotionValue(Re){const je=`_drag${Re.toUpperCase()}`,Be=this.visualElement.getProps(),De=Be[je];return De||this.visualElement.getValue(Re,(Be.initial?Be.initial[Re]:void 0)||0)}snapToCursor(Re){eachAxis(je=>{const{drag:Be}=this.getProps();if(!shouldDrag(je,Be,this.currentDirection))return;const{projection:De}=this.visualElement,Fe=this.getAxisMotionValue(je);if(De&&De.layout){const{min:Oe,max:ke}=De.layout.layoutBox[je];Fe.set(Re[je]-mixNumber$1(Oe,ke,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:Re,dragConstraints:je}=this.getProps(),{projection:Be}=this.visualElement;if(!isRefObject(je)||!Be||!this.constraints)return;this.stopAnimation();const De={x:0,y:0};eachAxis(Oe=>{const ke=this.getAxisMotionValue(Oe);if(ke&&this.constraints!==!1){const Me=ke.get();De[Oe]=calcOrigin({min:Me,max:Me},this.constraints[Oe])}});const{transformTemplate:Fe}=this.visualElement.getProps();this.visualElement.current.style.transform=Fe?Fe({},""):"none",Be.root&&Be.root.updateScroll(),Be.updateLayout(),this.resolveConstraints(),eachAxis(Oe=>{if(!shouldDrag(Oe,Re,null))return;const ke=this.getAxisMotionValue(Oe),{min:Me,max:Ue}=this.constraints[Oe];ke.set(mixNumber$1(Me,Ue,De[Oe]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const Re=this.visualElement.current,je=addPointerEvent(Re,"pointerdown",Me=>{const{drag:Ue,dragListener:$e=!0}=this.getProps();Ue&&$e&&this.start(Me)}),Be=()=>{const{dragConstraints:Me}=this.getProps();isRefObject(Me)&&Me.current&&(this.constraints=this.resolveRefConstraints())},{projection:De}=this.visualElement,Fe=De.addEventListener("measure",Be);De&&!De.layout&&(De.root&&De.root.updateScroll(),De.updateLayout()),frame.read(Be);const Oe=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),ke=De.addEventListener("didUpdate",(({delta:Me,hasLayoutChanged:Ue})=>{this.isDragging&&Ue&&(eachAxis($e=>{const He=this.getAxisMotionValue($e);He&&(this.originPoint[$e]+=Me[$e].translate,He.set(He.get()+Me[$e].translate))}),this.visualElement.render())}));return()=>{Oe(),je(),Fe(),ke&&ke()}}getProps(){const Re=this.visualElement.getProps(),{drag:je=!1,dragDirectionLock:Be=!1,dragPropagation:De=!1,dragConstraints:Fe=!1,dragElastic:Oe=defaultElastic,dragMomentum:ke=!0}=Re;return{...Re,drag:je,dragDirectionLock:Be,dragPropagation:De,dragConstraints:Fe,dragElastic:Oe,dragMomentum:ke}}}function shouldDrag(Ce,Re,je){return(Re===!0||Re===Ce)&&(je===null||je===Ce)}function getCurrentDirection(Ce,Re=10){let je=null;return Math.abs(Ce.y)>Re?je="y":Math.abs(Ce.x)>Re&&(je="x"),je}class DragGesture extends Feature{constructor(Re){super(Re),this.removeGroupControls=noop$b,this.removeListeners=noop$b,this.controls=new VisualElementDragControls(Re)}mount(){const{dragControls:Re}=this.node.getProps();Re&&(this.removeGroupControls=Re.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$b}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=Ce=>(Re,je)=>{Ce&&frame.postRender(()=>Ce(Re,je))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$b}onPointerDown(Re){this.session=new PanSession(Re,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:Re,onPanStart:je,onPan:Be,onPanEnd:De}=this.node.getProps();return{onSessionStart:asyncHandler(Re),onStart:asyncHandler(je),onMove:Be,onEnd:(Fe,Oe)=>{delete this.session,De&&frame.postRender(()=>De(Fe,Oe))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",Re=>this.onPointerDown(Re))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(Ce,Re){return Re.max===Re.min?0:Ce/(Re.max-Re.min)*100}const correctBorderRadius={correct:(Ce,Re)=>{if(!Re.target)return Ce;if(typeof Ce=="string")if(px.test(Ce))Ce=parseFloat(Ce);else return Ce;const je=pixelsToPercent(Ce,Re.target.x),Be=pixelsToPercent(Ce,Re.target.y);return`${je}% ${Be}%`}},correctBoxShadow={correct:(Ce,{treeScale:Re,projectionDelta:je})=>{const Be=Ce,De=complex.parse(Ce);if(De.length>5)return Be;const Fe=complex.createTransformer(Ce),Oe=typeof De[0]!="number"?1:0,ke=je.x.scale*Re.x,Me=je.y.scale*Re.y;De[0+Oe]/=ke,De[1+Oe]/=Me;const Ue=mixNumber$1(ke,Me,.5);return typeof De[2+Oe]=="number"&&(De[2+Oe]/=Ue),typeof De[3+Oe]=="number"&&(De[3+Oe]/=Ue),Fe(De)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:Re,layoutGroup:je,switchLayoutGroup:Be,layoutId:De}=this.props,{projection:Fe}=Re;addScaleCorrector(defaultScaleCorrectors),Fe&&(je.group&&je.group.add(Fe),Be&&Be.register&&De&&Be.register(Fe),hasTakenAnySnapshot&&Fe.root.didUpdate(),Fe.addEventListener("animationComplete",()=>{this.safeToRemove()}),Fe.setOptions({...Fe.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(Re){const{layoutDependency:je,visualElement:Be,drag:De,isPresent:Fe}=this.props,{projection:Oe}=Be;return Oe&&(Oe.isPresent=Fe,hasTakenAnySnapshot=!0,De||Re.layoutDependency!==je||je===void 0||Re.isPresent!==Fe?Oe.willUpdate():this.safeToRemove(),Re.isPresent!==Fe&&(Fe?Oe.promote():Oe.relegate()||frame.postRender(()=>{const ke=Oe.getStack();(!ke||!ke.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:Re}=this.props.visualElement;Re&&(Re.root.didUpdate(),microtask.postRender(()=>{!Re.currentAnimation&&Re.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:Re,layoutGroup:je,switchLayoutGroup:Be}=this.props,{projection:De}=Re;hasTakenAnySnapshot=!0,De&&(De.scheduleCheckAfterUnmount(),je&&je.group&&je.group.remove(De),Be&&Be.deregister&&Be.deregister(De))}safeToRemove(){const{safeToRemove:Re}=this.props;Re&&Re()}render(){return null}}function MeasureLayout(Ce){const[Re,je]=usePresence(),Be=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...Ce,layoutGroup:Be,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:Re,safeToRemove:je})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(Ce,Re,je){const Be=isMotionValue(Ce)?Ce:motionValue(Ce);return Be.start(animateMotionValue("",Be,Re,je)),Be.animation}const compareByDepth=(Ce,Re)=>Ce.depth-Re.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(Re){addUniqueItem(this.children,Re),this.isDirty=!0}remove(Re){removeItem(this.children,Re),this.isDirty=!0}forEach(Re){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(Re)}}function delay(Ce,Re){const je=time$1.now(),Be=({timestamp:De})=>{const Fe=De-je;Fe>=Re&&(cancelFrame(Be),Ce(Fe-Re))};return frame.setup(Be,!0),()=>cancelFrame(Be)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=Ce=>typeof Ce=="string"?parseFloat(Ce):Ce,isPx=Ce=>typeof Ce=="number"||px.test(Ce);function mixValues(Ce,Re,je,Be,De,Fe){De?(Ce.opacity=mixNumber$1(0,je.opacity??1,easeCrossfadeIn(Be)),Ce.opacityExit=mixNumber$1(Re.opacity??1,0,easeCrossfadeOut(Be))):Fe&&(Ce.opacity=mixNumber$1(Re.opacity??1,je.opacity??1,Be));for(let Oe=0;Oe<numBorders;Oe++){const ke=`border${borders[Oe]}Radius`;let Me=getRadius(Re,ke),Ue=getRadius(je,ke);if(Me===void 0&&Ue===void 0)continue;Me||(Me=0),Ue||(Ue=0),Me===0||Ue===0||isPx(Me)===isPx(Ue)?(Ce[ke]=Math.max(mixNumber$1(asNumber(Me),asNumber(Ue),Be),0),(percent.test(Ue)||percent.test(Me))&&(Ce[ke]+="%")):Ce[ke]=Ue}(Re.rotate||je.rotate)&&(Ce.rotate=mixNumber$1(Re.rotate||0,je.rotate||0,Be))}function getRadius(Ce,Re){return Ce[Re]!==void 0?Ce[Re]:Ce.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$b);function compress(Ce,Re,je){return Be=>Be<Ce?0:Be>Re?1:je(progress(Ce,Re,Be))}function copyAxisInto(Ce,Re){Ce.min=Re.min,Ce.max=Re.max}function copyBoxInto(Ce,Re){copyAxisInto(Ce.x,Re.x),copyAxisInto(Ce.y,Re.y)}function copyAxisDeltaInto(Ce,Re){Ce.translate=Re.translate,Ce.scale=Re.scale,Ce.originPoint=Re.originPoint,Ce.origin=Re.origin}function removePointDelta(Ce,Re,je,Be,De){return Ce-=Re,Ce=scalePoint(Ce,1/je,Be),De!==void 0&&(Ce=scalePoint(Ce,1/De,Be)),Ce}function removeAxisDelta(Ce,Re=0,je=1,Be=.5,De,Fe=Ce,Oe=Ce){if(percent.test(Re)&&(Re=parseFloat(Re),Re=mixNumber$1(Oe.min,Oe.max,Re/100)-Oe.min),typeof Re!="number")return;let ke=mixNumber$1(Fe.min,Fe.max,Be);Ce===Fe&&(ke-=Re),Ce.min=removePointDelta(Ce.min,Re,je,ke,De),Ce.max=removePointDelta(Ce.max,Re,je,ke,De)}function removeAxisTransforms(Ce,Re,[je,Be,De],Fe,Oe){removeAxisDelta(Ce,Re[je],Re[Be],Re[De],Re.scale,Fe,Oe)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(Ce,Re,je,Be){removeAxisTransforms(Ce.x,Re,xKeys,je?je.x:void 0,Be?Be.x:void 0),removeAxisTransforms(Ce.y,Re,yKeys,je?je.y:void 0,Be?Be.y:void 0)}function isAxisDeltaZero(Ce){return Ce.translate===0&&Ce.scale===1}function isDeltaZero(Ce){return isAxisDeltaZero(Ce.x)&&isAxisDeltaZero(Ce.y)}function axisEquals(Ce,Re){return Ce.min===Re.min&&Ce.max===Re.max}function boxEquals(Ce,Re){return axisEquals(Ce.x,Re.x)&&axisEquals(Ce.y,Re.y)}function axisEqualsRounded(Ce,Re){return Math.round(Ce.min)===Math.round(Re.min)&&Math.round(Ce.max)===Math.round(Re.max)}function boxEqualsRounded(Ce,Re){return axisEqualsRounded(Ce.x,Re.x)&&axisEqualsRounded(Ce.y,Re.y)}function aspectRatio(Ce){return calcLength(Ce.x)/calcLength(Ce.y)}function axisDeltaEquals(Ce,Re){return Ce.translate===Re.translate&&Ce.scale===Re.scale&&Ce.originPoint===Re.originPoint}class NodeStack{constructor(){this.members=[]}add(Re){addUniqueItem(this.members,Re),Re.scheduleRender()}remove(Re){if(removeItem(this.members,Re),Re===this.prevLead&&(this.prevLead=void 0),Re===this.lead){const je=this.members[this.members.length-1];je&&this.promote(je)}}relegate(Re){const je=this.members.findIndex(De=>Re===De);if(je===0)return!1;let Be;for(let De=je;De>=0;De--){const Fe=this.members[De];if(Fe.isPresent!==!1){Be=Fe;break}}return Be?(this.promote(Be),!0):!1}promote(Re,je){const Be=this.lead;if(Re!==Be&&(this.prevLead=Be,this.lead=Re,Re.show(),Be)){Be.instance&&Be.scheduleRender(),Re.scheduleRender(),Re.resumeFrom=Be,je&&(Re.resumeFrom.preserveOpacity=!0),Be.snapshot&&(Re.snapshot=Be.snapshot,Re.snapshot.latestValues=Be.animationValues||Be.latestValues),Re.root&&Re.root.isUpdating&&(Re.isLayoutDirty=!0);const{crossfade:De}=Re.options;De===!1&&Be.hide()}}exitAnimationComplete(){this.members.forEach(Re=>{const{options:je,resumingFrom:Be}=Re;je.onExitComplete&&je.onExitComplete(),Be&&Be.options.onExitComplete&&Be.options.onExitComplete()})}scheduleRender(){this.members.forEach(Re=>{Re.instance&&Re.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(Ce,Re,je){let Be="";const De=Ce.x.translate/Re.x,Fe=Ce.y.translate/Re.y,Oe=je?.z||0;if((De||Fe||Oe)&&(Be=`translate3d(${De}px, ${Fe}px, ${Oe}px) `),(Re.x!==1||Re.y!==1)&&(Be+=`scale(${1/Re.x}, ${1/Re.y}) `),je){const{transformPerspective:Ue,rotate:$e,rotateX:He,rotateY:Qe,skewX:We,skewY:qe}=je;Ue&&(Be=`perspective(${Ue}px) ${Be}`),$e&&(Be+=`rotate(${$e}deg) `),He&&(Be+=`rotateX(${He}deg) `),Qe&&(Be+=`rotateY(${Qe}deg) `),We&&(Be+=`skewX(${We}deg) `),qe&&(Be+=`skewY(${qe}deg) `)}const ke=Ce.x.scale*Re.x,Me=Ce.y.scale*Re.y;return(ke!==1||Me!==1)&&(Be+=`scale(${ke}, ${Me})`),Be||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(Ce,Re,je,Be){const{latestValues:De}=Re;De[Ce]&&(je[Ce]=De[Ce],Re.setStaticValue(Ce,0),Be&&(Be[Ce]=0))}function cancelTreeOptimisedTransformAnimations(Ce){if(Ce.hasCheckedOptimisedAppear=!0,Ce.root===Ce)return;const{visualElement:Re}=Ce.options;if(!Re)return;const je=getOptimisedAppearId(Re);if(window.MotionHasOptimisedAnimation(je,"transform")){const{layout:De,layoutId:Fe}=Ce.options;window.MotionCancelOptimisedAnimation(je,"transform",frame,!(De||Fe))}const{parent:Be}=Ce;Be&&!Be.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(Be)}function createProjectionNode({attachResizeListener:Ce,defaultParent:Re,measureScroll:je,checkIsScrollRoot:Be,resetTransform:De}){return class{constructor(Oe={},ke=Re?.()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=Oe,this.root=ke?ke.root||ke:this,this.path=ke?[...ke.path,ke]:[],this.parent=ke,this.depth=ke?ke.depth+1:0;for(let Me=0;Me<this.path.length;Me++)this.path[Me].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(Oe,ke){return this.eventHandlers.has(Oe)||this.eventHandlers.set(Oe,new SubscriptionManager),this.eventHandlers.get(Oe).add(ke)}notifyListeners(Oe,...ke){const Me=this.eventHandlers.get(Oe);Me&&Me.notify(...ke)}hasListeners(Oe){return this.eventHandlers.has(Oe)}mount(Oe){if(this.instance)return;this.isSVG=isSVGElement(Oe)&&!isSVGSVGElement(Oe),this.instance=Oe;const{layoutId:ke,layout:Me,visualElement:Ue}=this.options;if(Ue&&!Ue.current&&Ue.mount(Oe),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(Me||ke)&&(this.isLayoutDirty=!0),Ce){let $e,He=0;const Qe=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{He=window.innerWidth}),Ce(Oe,()=>{const We=window.innerWidth;We!==He&&(He=We,this.root.updateBlockedByResize=!0,$e&&$e(),$e=delay(Qe,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}ke&&this.root.registerSharedNode(ke,this),this.options.animate!==!1&&Ue&&(ke||Me)&&this.addEventListener("didUpdate",({delta:$e,hasLayoutChanged:He,hasRelativeLayoutChanged:Qe,layout:We})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const qe=this.options.transition||Ue.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Ke,onLayoutAnimationComplete:Xe}=Ue.getProps(),Ye=!this.targetLayout||!boxEqualsRounded(this.targetLayout,We),Ze=!He&&Qe;if(this.options.layoutRoot||this.resumeFrom||Ze||He&&(Ye||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Je={...getValueTransition(qe,"layout"),onPlay:Ke,onComplete:Xe};(Ue.shouldReduceMotion||this.options.layoutRoot)&&(Je.delay=0,Je.type=!1),this.startAnimation(Je),this.setAnimationOrigin($e,Ze)}else He||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=We})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const Oe=this.getStack();Oe&&Oe.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:Oe}=this.options;return Oe&&Oe.getProps().transformTemplate}willUpdate(Oe=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let $e=0;$e<this.path.length;$e++){const He=this.path[$e];He.shouldResetTransform=!0,He.updateScroll("snapshot"),He.options.layoutRoot&&He.willUpdate(!1)}const{layoutId:ke,layout:Me}=this.options;if(ke===void 0&&!Me)return;const Ue=this.getTransformTemplate();this.prevTransformTemplateValue=Ue?Ue(this.latestValues,""):void 0,this.updateSnapshot(),Oe&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const ke=time$1.now();frameData.delta=clamp$1(0,1e3/60,ke-frameData.timestamp),frameData.timestamp=ke,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let Me=0;Me<this.path.length;Me++)this.path[Me].updateScroll();const Oe=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:ke}=this.options;ke&&ke.notify("LayoutMeasure",this.layout.layoutBox,Oe?Oe.layoutBox:void 0)}updateScroll(Oe="measure"){let ke=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===Oe&&(ke=!1),ke&&this.instance){const Me=Be(this.instance);this.scroll={animationId:this.root.animationId,phase:Oe,isRoot:Me,offset:je(this.instance),wasRoot:this.scroll?this.scroll.isRoot:Me}}}resetTransform(){if(!De)return;const Oe=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,ke=this.projectionDelta&&!isDeltaZero(this.projectionDelta),Me=this.getTransformTemplate(),Ue=Me?Me(this.latestValues,""):void 0,$e=Ue!==this.prevTransformTemplateValue;Oe&&this.instance&&(ke||hasTransform(this.latestValues)||$e)&&(De(this.instance,Ue),this.shouldResetTransform=!1,this.scheduleRender())}measure(Oe=!0){const ke=this.measurePageBox();let Me=this.removeElementScroll(ke);return Oe&&(Me=this.removeTransform(Me)),roundBox(Me),{animationId:this.root.animationId,measuredBox:ke,layoutBox:Me,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:Oe}=this.options;if(!Oe)return createBox();const ke=Oe.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:Ue}=this.root;Ue&&(translateAxis(ke.x,Ue.offset.x),translateAxis(ke.y,Ue.offset.y))}return ke}removeElementScroll(Oe){const ke=createBox();if(copyBoxInto(ke,Oe),this.scroll?.wasRoot)return ke;for(let Me=0;Me<this.path.length;Me++){const Ue=this.path[Me],{scroll:$e,options:He}=Ue;Ue!==this.root&&$e&&He.layoutScroll&&($e.wasRoot&&copyBoxInto(ke,Oe),translateAxis(ke.x,$e.offset.x),translateAxis(ke.y,$e.offset.y))}return ke}applyTransform(Oe,ke=!1){const Me=createBox();copyBoxInto(Me,Oe);for(let Ue=0;Ue<this.path.length;Ue++){const $e=this.path[Ue];!ke&&$e.options.layoutScroll&&$e.scroll&&$e!==$e.root&&transformBox(Me,{x:-$e.scroll.offset.x,y:-$e.scroll.offset.y}),hasTransform($e.latestValues)&&transformBox(Me,$e.latestValues)}return hasTransform(this.latestValues)&&transformBox(Me,this.latestValues),Me}removeTransform(Oe){const ke=createBox();copyBoxInto(ke,Oe);for(let Me=0;Me<this.path.length;Me++){const Ue=this.path[Me];if(!Ue.instance||!hasTransform(Ue.latestValues))continue;hasScale(Ue.latestValues)&&Ue.updateSnapshot();const $e=createBox(),He=Ue.measurePageBox();copyBoxInto($e,He),removeBoxTransforms(ke,Ue.latestValues,Ue.snapshot?Ue.snapshot.layoutBox:void 0,$e)}return hasTransform(this.latestValues)&&removeBoxTransforms(ke,this.latestValues),ke}setTargetDelta(Oe){this.targetDelta=Oe,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(Oe){this.options={...this.options,...Oe,crossfade:Oe.crossfade!==void 0?Oe.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(Oe=!1){const ke=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=ke.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=ke.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=ke.isSharedProjectionDirty);const Me=!!this.resumingFrom||this!==ke;if(!(Oe||Me&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:$e,layoutId:He}=this.options;if(!(!this.layout||!($e||He))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const Qe=this.getClosestProjectingParent();Qe&&Qe.layout&&this.animationProgress!==1?(this.relativeParent=Qe,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,Qe.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const Qe=this.getClosestProjectingParent();Qe&&!!Qe.resumingFrom==!!this.resumingFrom&&!Qe.options.layoutScroll&&Qe.target&&this.animationProgress!==1?(this.relativeParent=Qe,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,Qe.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const Oe=this.getLead(),ke=!!this.resumingFrom||this!==Oe;let Me=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(Me=!1),ke&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(Me=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(Me=!1),Me)return;const{layout:Ue,layoutId:$e}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Ue||$e))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const He=this.treeScale.x,Qe=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,ke),Oe.layout&&!Oe.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(Oe.target=Oe.layout.layoutBox,Oe.targetWithTransforms=createBox());const{target:We}=Oe;if(!We){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,We,this.latestValues),(this.treeScale.x!==He||this.treeScale.y!==Qe||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",We))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(Oe=!0){if(this.options.visualElement?.scheduleRender(),Oe){const ke=this.getStack();ke&&ke.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(Oe,ke=!1){const Me=this.snapshot,Ue=Me?Me.latestValues:{},$e={...this.latestValues},He=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!ke;const Qe=createBox(),We=Me?Me.source:void 0,qe=this.layout?this.layout.source:void 0,Ke=We!==qe,Xe=this.getStack(),Ye=!Xe||Xe.members.length<=1,Ze=!!(Ke&&!Ye&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let Je;this.mixTargetDelta=tr=>{const rr=tr/1e3;mixAxisDelta(He.x,Oe.x,rr),mixAxisDelta(He.y,Oe.y,rr),this.setTargetDelta(He),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(Qe,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,Qe,rr),Je&&boxEquals(this.relativeTarget,Je)&&(this.isProjectionDirty=!1),Je||(Je=createBox()),copyBoxInto(Je,this.relativeTarget)),Ke&&(this.animationValues=$e,mixValues($e,Ue,this.latestValues,rr,Ze,Ye)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rr},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(Oe){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...Oe,velocity:0,isSync:!0,onUpdate:ke=>{this.mixTargetDelta(ke),Oe.onUpdate&&Oe.onUpdate(ke)},onStop:()=>{},onComplete:()=>{Oe.onComplete&&Oe.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const Oe=this.getStack();Oe&&Oe.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const Oe=this.getLead();let{targetWithTransforms:ke,target:Me,layout:Ue,latestValues:$e}=Oe;if(!(!ke||!Me||!Ue)){if(this!==Oe&&this.layout&&Ue&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,Ue.layoutBox)){Me=this.target||createBox();const He=calcLength(this.layout.layoutBox.x);Me.x.min=Oe.target.x.min,Me.x.max=Me.x.min+He;const Qe=calcLength(this.layout.layoutBox.y);Me.y.min=Oe.target.y.min,Me.y.max=Me.y.min+Qe}copyBoxInto(ke,Me),transformBox(ke,$e),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,ke,$e)}}registerSharedNode(Oe,ke){this.sharedNodes.has(Oe)||this.sharedNodes.set(Oe,new NodeStack),this.sharedNodes.get(Oe).add(ke);const Ue=ke.options.initialPromotionConfig;ke.promote({transition:Ue?Ue.transition:void 0,preserveFollowOpacity:Ue&&Ue.shouldPreserveFollowOpacity?Ue.shouldPreserveFollowOpacity(ke):void 0})}isLead(){const Oe=this.getStack();return Oe?Oe.lead===this:!0}getLead(){const{layoutId:Oe}=this.options;return Oe?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:Oe}=this.options;return Oe?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:Oe}=this.options;if(Oe)return this.root.sharedNodes.get(Oe)}promote({needsReset:Oe,transition:ke,preserveFollowOpacity:Me}={}){const Ue=this.getStack();Ue&&Ue.promote(this,Me),Oe&&(this.projectionDelta=void 0,this.needsReset=!0),ke&&this.setOptions({transition:ke})}relegate(){const Oe=this.getStack();return Oe?Oe.relegate(this):!1}resetSkewAndRotation(){const{visualElement:Oe}=this.options;if(!Oe)return;let ke=!1;const{latestValues:Me}=Oe;if((Me.z||Me.rotate||Me.rotateX||Me.rotateY||Me.rotateZ||Me.skewX||Me.skewY)&&(ke=!0),!ke)return;const Ue={};Me.z&&resetDistortingTransform("z",Oe,Ue,this.animationValues);for(let $e=0;$e<transformAxes.length;$e++)resetDistortingTransform(`rotate${transformAxes[$e]}`,Oe,Ue,this.animationValues),resetDistortingTransform(`skew${transformAxes[$e]}`,Oe,Ue,this.animationValues);Oe.render();for(const $e in Ue)Oe.setStaticValue($e,Ue[$e]),this.animationValues&&(this.animationValues[$e]=Ue[$e]);Oe.scheduleRender()}applyProjectionStyles(Oe,ke){if(!this.instance||this.isSVG)return;if(!this.isVisible){Oe.visibility="hidden";return}const Me=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,Oe.visibility="",Oe.opacity="",Oe.pointerEvents=resolveMotionValue(ke?.pointerEvents)||"",Oe.transform=Me?Me(this.latestValues,""):"none";return}const Ue=this.getLead();if(!this.projectionDelta||!this.layout||!Ue.target){this.options.layoutId&&(Oe.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Oe.pointerEvents=resolveMotionValue(ke?.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Oe.transform=Me?Me({},""):"none",this.hasProjected=!1);return}Oe.visibility="";const $e=Ue.animationValues||Ue.latestValues;this.applyTransformsToTarget();let He=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,$e);Me&&(He=Me($e,He)),Oe.transform=He;const{x:Qe,y:We}=this.projectionDelta;Oe.transformOrigin=`${Qe.origin*100}% ${We.origin*100}% 0`,Ue.animationValues?Oe.opacity=Ue===this?$e.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:$e.opacityExit:Oe.opacity=Ue===this?$e.opacity!==void 0?$e.opacity:"":$e.opacityExit!==void 0?$e.opacityExit:0;for(const qe in scaleCorrectors){if($e[qe]===void 0)continue;const{correct:Ke,applyTo:Xe,isCSSVariable:Ye}=scaleCorrectors[qe],Ze=He==="none"?$e[qe]:Ke($e[qe],Ue);if(Xe){const Je=Xe.length;for(let tr=0;tr<Je;tr++)Oe[Xe[tr]]=Ze}else Ye?this.options.visualElement.renderState.vars[qe]=Ze:Oe[qe]=Ze}this.options.layoutId&&(Oe.pointerEvents=Ue===this?resolveMotionValue(ke?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(Oe=>Oe.currentAnimation?.stop()),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(Ce){Ce.updateLayout()}function notifyLayoutUpdate(Ce){const Re=Ce.resumeFrom?.snapshot||Ce.snapshot;if(Ce.isLead()&&Ce.layout&&Re&&Ce.hasListeners("didUpdate")){const{layoutBox:je,measuredBox:Be}=Ce.layout,{animationType:De}=Ce.options,Fe=Re.source!==Ce.layout.source;De==="size"?eachAxis($e=>{const He=Fe?Re.measuredBox[$e]:Re.layoutBox[$e],Qe=calcLength(He);He.min=je[$e].min,He.max=He.min+Qe}):shouldAnimatePositionOnly(De,Re.layoutBox,je)&&eachAxis($e=>{const He=Fe?Re.measuredBox[$e]:Re.layoutBox[$e],Qe=calcLength(je[$e]);He.max=He.min+Qe,Ce.relativeTarget&&!Ce.currentAnimation&&(Ce.isProjectionDirty=!0,Ce.relativeTarget[$e].max=Ce.relativeTarget[$e].min+Qe)});const Oe=createDelta();calcBoxDelta(Oe,je,Re.layoutBox);const ke=createDelta();Fe?calcBoxDelta(ke,Ce.applyTransform(Be,!0),Re.measuredBox):calcBoxDelta(ke,je,Re.layoutBox);const Me=!isDeltaZero(Oe);let Ue=!1;if(!Ce.resumeFrom){const $e=Ce.getClosestProjectingParent();if($e&&!$e.resumeFrom){const{snapshot:He,layout:Qe}=$e;if(He&&Qe){const We=createBox();calcRelativePosition(We,Re.layoutBox,He.layoutBox);const qe=createBox();calcRelativePosition(qe,je,Qe.layoutBox),boxEqualsRounded(We,qe)||(Ue=!0),$e.options.layoutRoot&&(Ce.relativeTarget=qe,Ce.relativeTargetOrigin=We,Ce.relativeParent=$e)}}}Ce.notifyListeners("didUpdate",{layout:je,snapshot:Re,delta:ke,layoutDelta:Oe,hasLayoutChanged:Me,hasRelativeLayoutChanged:Ue})}else if(Ce.isLead()){const{onExitComplete:je}=Ce.options;je&&je()}Ce.options.transition=void 0}function propagateDirtyNodes(Ce){Ce.parent&&(Ce.isProjecting()||(Ce.isProjectionDirty=Ce.parent.isProjectionDirty),Ce.isSharedProjectionDirty||(Ce.isSharedProjectionDirty=!!(Ce.isProjectionDirty||Ce.parent.isProjectionDirty||Ce.parent.isSharedProjectionDirty)),Ce.isTransformDirty||(Ce.isTransformDirty=Ce.parent.isTransformDirty))}function cleanDirtyNodes(Ce){Ce.isProjectionDirty=Ce.isSharedProjectionDirty=Ce.isTransformDirty=!1}function clearSnapshot(Ce){Ce.clearSnapshot()}function clearMeasurements(Ce){Ce.clearMeasurements()}function clearIsLayoutDirty(Ce){Ce.isLayoutDirty=!1}function resetTransformStyle(Ce){const{visualElement:Re}=Ce.options;Re&&Re.getProps().onBeforeLayoutMeasure&&Re.notify("BeforeLayoutMeasure"),Ce.resetTransform()}function finishAnimation(Ce){Ce.finishAnimation(),Ce.targetDelta=Ce.relativeTarget=Ce.target=void 0,Ce.isProjectionDirty=!0}function resolveTargetDelta(Ce){Ce.resolveTargetDelta()}function calcProjection(Ce){Ce.calcProjection()}function resetSkewAndRotation(Ce){Ce.resetSkewAndRotation()}function removeLeadSnapshots(Ce){Ce.removeLeadSnapshot()}function mixAxisDelta(Ce,Re,je){Ce.translate=mixNumber$1(Re.translate,0,je),Ce.scale=mixNumber$1(Re.scale,1,je),Ce.origin=Re.origin,Ce.originPoint=Re.originPoint}function mixAxis(Ce,Re,je,Be){Ce.min=mixNumber$1(Re.min,je.min,Be),Ce.max=mixNumber$1(Re.max,je.max,Be)}function mixBox(Ce,Re,je,Be){mixAxis(Ce.x,Re.x,je.x,Be),mixAxis(Ce.y,Re.y,je.y,Be)}function hasOpacityCrossfade(Ce){return Ce.animationValues&&Ce.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=Ce=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(Ce),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$b;function roundAxis(Ce){Ce.min=roundPoint(Ce.min),Ce.max=roundPoint(Ce.max)}function roundBox(Ce){roundAxis(Ce.x),roundAxis(Ce.y)}function shouldAnimatePositionOnly(Ce,Re,je){return Ce==="position"||Ce==="preserve-aspect"&&!isNear(aspectRatio(Re),aspectRatio(je),.2)}function checkNodeWasScrollRoot(Ce){return Ce!==Ce.root&&Ce.scroll?.wasRoot}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(Ce,Re)=>addDomEvent(Ce,"resize",Re),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:Ce=>({x:Ce.scrollLeft,y:Ce.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const Ce=new DocumentProjectionNode({});Ce.mount(window),Ce.setOptions({layoutScroll:!0}),rootProjectionNode.current=Ce}return rootProjectionNode.current},resetTransform:(Ce,Re)=>{Ce.style.transform=Re!==void 0?Re:"none"},checkIsScrollRoot:Ce=>window.getComputedStyle(Ce).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(Ce,Re,je){const{props:Be}=Ce;Ce.animationState&&Be.whileHover&&Ce.animationState.setActive("whileHover",je==="Start");const De="onHover"+je,Fe=Be[De];Fe&&frame.postRender(()=>Fe(Re,extractEventInfo(Re)))}class HoverGesture extends Feature{mount(){const{current:Re}=this.node;Re&&(this.unmount=hover(Re,(je,Be)=>(handleHoverEvent(this.node,Be,"Start"),De=>handleHoverEvent(this.node,De,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let Re=!1;try{Re=this.node.current.matches(":focus-visible")}catch{Re=!0}!Re||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(Ce,Re,je){const{props:Be}=Ce;if(Ce.current instanceof HTMLButtonElement&&Ce.current.disabled)return;Ce.animationState&&Be.whileTap&&Ce.animationState.setActive("whileTap",je==="Start");const De="onTap"+(je==="End"?"":je),Fe=Be[De];Fe&&frame.postRender(()=>Fe(Re,extractEventInfo(Re)))}class PressGesture extends Feature{mount(){const{current:Re}=this.node;Re&&(this.unmount=press(Re,(je,Be)=>(handlePressEvent(this.node,Be,"Start"),(De,{success:Fe})=>handlePressEvent(this.node,De,Fe?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=Ce=>{const Re=observerCallbacks.get(Ce.target);Re&&Re(Ce)},fireAllObserverCallbacks=Ce=>{Ce.forEach(fireObserverCallback)};function initIntersectionObserver({root:Ce,...Re}){const je=Ce||document;observers.has(je)||observers.set(je,{});const Be=observers.get(je),De=JSON.stringify(Re);return Be[De]||(Be[De]=new IntersectionObserver(fireAllObserverCallbacks,{root:Ce,...Re})),Be[De]}function observeIntersection(Ce,Re,je){const Be=initIntersectionObserver(Re);return observerCallbacks.set(Ce,je),Be.observe(Ce),()=>{observerCallbacks.delete(Ce),Be.unobserve(Ce)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:Re={}}=this.node.getProps(),{root:je,margin:Be,amount:De="some",once:Fe}=Re,Oe={root:je?je.current:void 0,rootMargin:Be,threshold:typeof De=="number"?De:thresholdNames[De]},ke=Me=>{const{isIntersecting:Ue}=Me;if(this.isInView===Ue||(this.isInView=Ue,Fe&&!Ue&&this.hasEnteredView))return;Ue&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",Ue);const{onViewportEnter:$e,onViewportLeave:He}=this.node.getProps(),Qe=Ue?$e:He;Qe&&Qe(Me)};return observeIntersection(this.node.current,Oe,ke)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:Re,prevProps:je}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(Re,je))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:Ce={}},{viewport:Re={}}={}){return je=>Ce[je]!==Re[je]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement),ProfileSettings=()=>{const Ce={Retailer:" Retailer",Distributor:" Distributor","Product Owner":" Product Owner"},[Re,je]=reactExports.useState({ownerName:"",email:"",phone:"",businessName:"",address:"",logoUrl:"",gstNumber:"",businessType:"Retailer",invoicePreference:"Minimal",whatsappAlerts:!1,profileVersion:0,lastUpdated:"",businessMode:"Online",flypId:""}),[Be,De]=reactExports.useState("owner"),Fe=async()=>{if(!Ke||!window.confirm("Are you sure you want to generate your unique FLYP ID? This cannot be changed later."))return;const tr="FLYP-"+Math.random().toString(36).substring(2,8).toUpperCase(),rr=collection(db$2,"businesses");if(!(await getDocs(query(rr,where("flypId","==",tr)))).empty){y$2.error("Try again. FLYP ID already exists.");return}const nr=doc(db$2,"businesses",Ke.uid);await updateDoc(nr,{flypId:tr}),je(sr=>({...sr,flypId:tr})),y$2.success(" Your FLYP ID has been created!")},[Oe,ke]=reactExports.useState(null),[Me,Ue]=reactExports.useState(null),[$e,He]=reactExports.useState(!0),[Qe,We]=reactExports.useState(!1),Ke=getAuth().currentUser;reactExports.useEffect(()=>{(async()=>{if(!Ke)return;const tr=doc(db$2,"businesses",Ke.uid),rr=await getDoc(tr);rr.exists()&&(je(ar=>({...ar,...rr.data(),ownerName:rr.data().ownerName||""})),rr.data().logoUrl&&Ue(rr.data().logoUrl)),He(!1)})()},[Ke]);const Xe=Je=>{const{name:tr,value:rr}=Je.target;je(ar=>({...ar,[tr]:rr}))},Ye=Je=>{const tr=Je.target.files[0];tr&&(ke(tr),Ue(URL.createObjectURL(tr)))},Ze=async()=>{if(!(!Ke||Qe)){We(!0);try{let Je={...Re,name:Re.ownerName};if(Oe){const rr=ref(storage,`logos/${Ke.uid}`);await uploadBytes(rr,Oe);const ar=await getDownloadURL(rr);Je.logoUrl=ar}Je.profileVersion=(Re.profileVersion||0)+1,Je.lastUpdated=new Date().toISOString();const tr=doc(db$2,"businesses",Ke.uid);await updateDoc(tr,Je),y$2.success("Profile updated successfully!");try{const rr=getFunctions(void 0,"asia-south1");httpsCallable(rr,"resyncRetailerProfile")().catch(nr=>console.warn("[ProfileSync] background resync failed:",nr))}catch(rr){console.warn("[ProfileSync] init failed:",rr)}}catch(Je){console.error("Update failed",Je),y$2.error("Failed to update profile.")}finally{We(!1)}}};return $e?jsxRuntimeExports.jsx("div",{children:"Loading profile..."}):jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto p-8",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 flex items-center gap-2",children:["Profile Settings",jsxRuntimeExports.jsx("span",{title:"Your business role in the system",className:"ml-1 px-2 py-1 rounded-full bg-indigo-100 text-indigo-700 text-xs font-medium",children:Ce[Re.businessType]||" User"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsx("div",{className:"w-1/4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>De("owner"),className:`w-full py-2 px-4 rounded-lg shadow ${Be==="owner"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Owner Info"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>De("business"),className:`w-full py-2 px-4 rounded-lg shadow ${Be==="business"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Business Details"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>De("branding"),className:`w-full py-2 px-4 rounded-lg shadow ${Be==="branding"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Branding"})]})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},className:"w-3/4",children:[Be==="owner"&&jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl border hover:shadow-md transition bg-gray-50 space-y-6",children:[jsxRuntimeExports.jsx("h3",{"data-section":"owner",className:"text-lg font-semibold mb-4",children:"Owner Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Owner Name"}),jsxRuntimeExports.jsx("input",{name:"ownerName",value:Re.ownerName,onChange:Xe,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Email Address"}),jsxRuntimeExports.jsx("input",{name:"email",value:Re.email,onChange:Xe,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{name:"phone",value:Re.phone,onChange:Xe,className:"w-full border px-3 py-2 rounded"})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-indigo-300 bg-indigo-50 p-4",children:[jsxRuntimeExports.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:["FLYP ID",Re.flypId&&jsxRuntimeExports.jsx("span",{className:"text-xs text-indigo-600 font-semibold bg-indigo-100 px-2 py-1 rounded-full",children:" Info"})]}),Re.flypId?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{disabled:!0,value:Re.flypId,className:"w-full border px-3 py-2 rounded bg-gray-100"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-green-600 text-xs font-semibold",children:" FLYP ID Linked"})]}):jsxRuntimeExports.jsx("button",{onClick:Fe,className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-all animate-pulse",children:" Generate My FLYP ID"})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-right",children:jsxRuntimeExports.jsx("button",{onClick:Ze,disabled:Qe,className:`bg-indigo-600 text-white px-5 py-2 rounded transition ${Qe?"opacity-60 cursor-not-allowed":"hover:bg-indigo-700"}`,children:Qe?"Saving":" Save Changes"})})]}),Be==="business"&&jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl border hover:shadow-md transition bg-gray-50 space-y-6",children:[jsxRuntimeExports.jsx("h3",{"data-section":"business",className:"text-lg font-semibold mb-4",children:"Business Details"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Business Name"}),jsxRuntimeExports.jsx("input",{name:"businessName",value:Re.businessName,onChange:Xe,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Address"}),jsxRuntimeExports.jsx("input",{name:"address",value:Re.address,onChange:Xe,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"GST Number"}),jsxRuntimeExports.jsx("input",{name:"gstNumber",value:Re.gstNumber,onChange:Xe,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Business Type"}),jsxRuntimeExports.jsx("input",{name:"businessType",value:Re.businessType,disabled:!0,className:"w-full border px-3 py-2 rounded bg-gray-100 cursor-not-allowed"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Invoice Preference"}),jsxRuntimeExports.jsxs("select",{name:"invoicePreference",value:Re.invoicePreference,onChange:Xe,className:"w-full border px-3 py-2 rounded",children:[jsxRuntimeExports.jsx("option",{children:"Minimal"}),jsxRuntimeExports.jsx("option",{children:"Detailed"}),jsxRuntimeExports.jsx("option",{children:"Modern"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Business Mode"}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:Re.businessMode==="Online",onChange:Je=>je(tr=>({...tr,businessMode:Je.target.checked?"Online":"Offline"}))}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:bg-green-500 transition-all"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm text-gray-700",children:Re.businessMode})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Enable WhatsApp Notifications"}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:Re.whatsappAlerts,onChange:Je=>je(tr=>({...tr,whatsappAlerts:Je.target.checked}))}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:bg-blue-500 transition-all"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm text-gray-700",children:Re.whatsappAlerts?"Enabled":"Disabled"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-right",children:jsxRuntimeExports.jsx("button",{onClick:Ze,disabled:Qe,className:`bg-indigo-600 text-white px-5 py-2 rounded transition ${Qe?"opacity-60 cursor-not-allowed":"hover:bg-indigo-700"}`,children:Qe?"Saving":" Save Changes"})})]}),Be==="branding"&&jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl border hover:shadow-md transition bg-gray-50 space-y-6",children:[jsxRuntimeExports.jsxs("h3",{"data-section":"branding",className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[" Branding & Metadata",jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"(Customize your brand identity)"})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 font-medium",children:"Business Logo"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Ye,className:"w-full border border-gray-300 rounded-md px-4 py-2 text-sm"}),Me&&jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("img",{src:Me,alt:"Logo Preview",className:"w-24 h-24 rounded-full ring-2 ring-indigo-500 shadow-md"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Preview of your logo"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[Re.lastUpdated&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[jsxRuntimeExports.jsx("strong",{children:" Last Updated:"})," ",new Date(Re.lastUpdated).toLocaleString()]}),Re.profileVersion>0&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[jsxRuntimeExports.jsx("strong",{children:" Profile Version:"})," ",Re.profileVersion]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-right",children:jsxRuntimeExports.jsx("button",{onClick:Ze,disabled:Qe,className:`bg-indigo-600 text-white px-5 py-2 rounded transition ${Qe?"opacity-60 cursor-not-allowed":"hover:bg-indigo-700"}`,children:Qe?"Saving":" Save Changes"})})]})]})]})]},Be)})]})]})};function autoTableText(Ce,Re,je,Be,De){Be=Be||{};var Fe=1.15,Oe=De.internal.scaleFactor,ke=De.internal.getFontSize()/Oe,Me=De.getLineHeightFactor?De.getLineHeightFactor():Fe,Ue=ke*Me,$e=/\r\n|\r|\n/g,He="",Qe=1;if((Be.valign==="middle"||Be.valign==="bottom"||Be.halign==="center"||Be.halign==="right")&&(He=typeof Ce=="string"?Ce.split($e):Ce,Qe=He.length||1),je+=ke*(2-Fe),Be.valign==="middle"?je-=Qe/2*Ue:Be.valign==="bottom"&&(je-=Qe*Ue),Be.halign==="center"||Be.halign==="right"){var We=ke;if(Be.halign==="center"&&(We*=.5),He&&Qe>=1){for(var qe=0;qe<He.length;qe++)De.text(He[qe],Re-De.getStringUnitWidth(He[qe])*We,je),je+=Ue;return De}Re-=De.getStringUnitWidth(Ce)*We}return Be.halign==="justify"?De.text(Ce,Re,je,{maxWidth:Be.maxWidth||100,align:"justify"}):De.text(Ce,Re,je),De}var globalDefaults={},DocHandler=(function(){function Ce(Re){this.jsPDFDocument=Re,this.userStyles={textColor:Re.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:Re.internal.getFontSize(),fontStyle:Re.internal.getFont().fontStyle,font:Re.internal.getFont().fontName,lineWidth:Re.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:Re.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return Ce.setDefaults=function(Re,je){je===void 0&&(je=null),je?je.__autoTableDocumentDefaults=Re:globalDefaults=Re},Ce.unifyColor=function(Re){return Array.isArray(Re)?Re:typeof Re=="number"?[Re,Re,Re]:typeof Re=="string"?[Re]:null},Ce.prototype.applyStyles=function(Re,je){var Be,De,Fe;je===void 0&&(je=!1),Re.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(Re.fontStyle);var Oe=this.jsPDFDocument.internal.getFont(),ke=Oe.fontStyle,Me=Oe.fontName;if(Re.font&&(Me=Re.font),Re.fontStyle){ke=Re.fontStyle;var Ue=this.getFontList()[Me];Ue&&Ue.indexOf(ke)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(Ue[0]),ke=Ue[0])}if(this.jsPDFDocument.setFont(Me,ke),Re.fontSize&&this.jsPDFDocument.setFontSize(Re.fontSize),!je){var $e=Ce.unifyColor(Re.fillColor);$e&&(Be=this.jsPDFDocument).setFillColor.apply(Be,$e),$e=Ce.unifyColor(Re.textColor),$e&&(De=this.jsPDFDocument).setTextColor.apply(De,$e),$e=Ce.unifyColor(Re.lineColor),$e&&(Fe=this.jsPDFDocument).setDrawColor.apply(Fe,$e),typeof Re.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(Re.lineWidth)}},Ce.prototype.splitTextToSize=function(Re,je,Be){return this.jsPDFDocument.splitTextToSize(Re,je,Be)},Ce.prototype.rect=function(Re,je,Be,De,Fe){return this.jsPDFDocument.rect(Re,je,Be,De,Fe)},Ce.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},Ce.prototype.getTextWidth=function(Re){return this.jsPDFDocument.getTextWidth(Re)},Ce.prototype.getDocument=function(){return this.jsPDFDocument},Ce.prototype.setPage=function(Re){this.jsPDFDocument.setPage(Re)},Ce.prototype.addPage=function(){return this.jsPDFDocument.addPage()},Ce.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},Ce.prototype.getGlobalOptions=function(){return globalDefaults||{}},Ce.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},Ce.prototype.pageSize=function(){var Re=this.jsPDFDocument.internal.pageSize;return Re.width==null&&(Re={width:Re.getWidth(),height:Re.getHeight()}),Re},Ce.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},Ce.prototype.getLineHeightFactor=function(){var Re=this.jsPDFDocument;return Re.getLineHeightFactor?Re.getLineHeightFactor():1.15},Ce.prototype.getLineHeight=function(Re){return Re/this.scaleFactor()*this.getLineHeightFactor()},Ce.prototype.pageNumber=function(){var Re=this.jsPDFDocument.internal.getCurrentPageInfo();return Re?Re.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},Ce})(),extendStatics=function(Ce,Re){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(je,Be){je.__proto__=Be}||function(je,Be){for(var De in Be)Object.prototype.hasOwnProperty.call(Be,De)&&(je[De]=Be[De])},extendStatics(Ce,Re)};function __extends(Ce,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Class extends value "+String(Re)+" is not a constructor or null");extendStatics(Ce,Re);function je(){this.constructor=Ce}Ce.prototype=Re===null?Object.create(Re):(je.prototype=Re.prototype,new je)}typeof SuppressedError=="function"&&SuppressedError;var HtmlRowInput=(function(Ce){__extends(Re,Ce);function Re(je){var Be=Ce.call(this)||this;return Be._element=je,Be}return Re})(Array);function defaultStyles$1(Ce){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/Ce,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function getTheme(Ce){var Re={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return Re[Ce]}function getStringWidth(Ce,Re,je){je.applyStyles(Re,!0);var Be=Array.isArray(Ce)?Ce:[Ce],De=Be.map(function(Fe){return je.getTextWidth(Fe)}).reduce(function(Fe,Oe){return Math.max(Fe,Oe)},0);return De}function addTableBorder(Ce,Re,je,Be){var De=Re.settings.tableLineWidth,Fe=Re.settings.tableLineColor;Ce.applyStyles({lineWidth:De,lineColor:Fe});var Oe=getFillStyle(De,!1);Oe&&Ce.rect(je.x,je.y,Re.getWidth(Ce.pageSize().width),Be.y-je.y,Oe)}function getFillStyle(Ce,Re){var je=Ce>0,Be=Re||Re===0;return je&&Be?"DF":je?"S":Be?"F":null}function parseSpacing(Ce,Re){var je,Be,De,Fe;if(Ce=Ce||Re,Array.isArray(Ce)){if(Ce.length>=4)return{top:Ce[0],right:Ce[1],bottom:Ce[2],left:Ce[3]};if(Ce.length===3)return{top:Ce[0],right:Ce[1],bottom:Ce[2],left:Ce[1]};if(Ce.length===2)return{top:Ce[0],right:Ce[1],bottom:Ce[0],left:Ce[1]};Ce.length===1?Ce=Ce[0]:Ce=Re}return typeof Ce=="object"?(typeof Ce.vertical=="number"&&(Ce.top=Ce.vertical,Ce.bottom=Ce.vertical),typeof Ce.horizontal=="number"&&(Ce.right=Ce.horizontal,Ce.left=Ce.horizontal),{left:(je=Ce.left)!==null&&je!==void 0?je:Re,top:(Be=Ce.top)!==null&&Be!==void 0?Be:Re,right:(De=Ce.right)!==null&&De!==void 0?De:Re,bottom:(Fe=Ce.bottom)!==null&&Fe!==void 0?Fe:Re}):(typeof Ce!="number"&&(Ce=Re),{top:Ce,right:Ce,bottom:Ce,left:Ce})}function getPageAvailableWidth(Ce,Re){var je=parseSpacing(Re.settings.margin,0);return Ce.pageSize().width-(je.left+je.right)}function parseCss(Ce,Re,je,Be,De){var Fe={},Oe=1.3333333333333333,ke=parseColor(Re,function(Je){return De.getComputedStyle(Je).backgroundColor});ke!=null&&(Fe.fillColor=ke);var Me=parseColor(Re,function(Je){return De.getComputedStyle(Je).color});Me!=null&&(Fe.textColor=Me);var Ue=parsePadding(Be,je);Ue&&(Fe.cellPadding=Ue);var $e="borderTopColor",He=Oe*je,Qe=Be.borderTopWidth;if(Be.borderBottomWidth===Qe&&Be.borderRightWidth===Qe&&Be.borderLeftWidth===Qe){var We=(parseFloat(Qe)||0)/He;We&&(Fe.lineWidth=We)}else Fe.lineWidth={top:(parseFloat(Be.borderTopWidth)||0)/He,right:(parseFloat(Be.borderRightWidth)||0)/He,bottom:(parseFloat(Be.borderBottomWidth)||0)/He,left:(parseFloat(Be.borderLeftWidth)||0)/He},Fe.lineWidth.top||(Fe.lineWidth.right?$e="borderRightColor":Fe.lineWidth.bottom?$e="borderBottomColor":Fe.lineWidth.left&&($e="borderLeftColor"));var qe=parseColor(Re,function(Je){return De.getComputedStyle(Je)[$e]});qe!=null&&(Fe.lineColor=qe);var Ke=["left","right","center","justify"];Ke.indexOf(Be.textAlign)!==-1&&(Fe.halign=Be.textAlign),Ke=["middle","bottom","top"],Ke.indexOf(Be.verticalAlign)!==-1&&(Fe.valign=Be.verticalAlign);var Xe=parseInt(Be.fontSize||"");isNaN(Xe)||(Fe.fontSize=Xe/Oe);var Ye=parseFontStyle(Be);Ye&&(Fe.fontStyle=Ye);var Ze=(Be.fontFamily||"").toLowerCase();return Ce.indexOf(Ze)!==-1&&(Fe.font=Ze),Fe}function parseFontStyle(Ce){var Re="";return(Ce.fontWeight==="bold"||Ce.fontWeight==="bolder"||parseInt(Ce.fontWeight)>=700)&&(Re="bold"),(Ce.fontStyle==="italic"||Ce.fontStyle==="oblique")&&(Re+="italic"),Re}function parseColor(Ce,Re){var je=realColor(Ce,Re);if(!je)return null;var Be=je.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!Be||!Array.isArray(Be))return null;var De=[parseInt(Be[1]),parseInt(Be[2]),parseInt(Be[3])],Fe=parseInt(Be[4]);return Fe===0||isNaN(De[0])||isNaN(De[1])||isNaN(De[2])?null:De}function realColor(Ce,Re){var je=Re(Ce);return je==="rgba(0, 0, 0, 0)"||je==="transparent"||je==="initial"||je==="inherit"?Ce.parentElement==null?null:realColor(Ce.parentElement,Re):je}function parsePadding(Ce,Re){var je=[Ce.paddingTop,Ce.paddingRight,Ce.paddingBottom,Ce.paddingLeft],Be=96/(72/Re),De=(parseInt(Ce.lineHeight)-parseInt(Ce.fontSize))/Re/2,Fe=je.map(function(ke){return parseInt(ke||"0")/Be}),Oe=parseSpacing(Fe,0);return De>Oe.top&&(Oe.top=De),De>Oe.bottom&&(Oe.bottom=De),Oe}function parseHtml(Ce,Re,je,Be,De){var Fe,Oe;Be===void 0&&(Be=!1),De===void 0&&(De=!1);var ke;typeof Re=="string"?ke=je.document.querySelector(Re):ke=Re;var Me=Object.keys(Ce.getFontList()),Ue=Ce.scaleFactor(),$e=[],He=[],Qe=[];if(!ke)return console.error("Html table could not be found with input: ",Re),{head:$e,body:He,foot:Qe};for(var We=0;We<ke.rows.length;We++){var qe=ke.rows[We],Ke=(Oe=(Fe=qe?.parentElement)===null||Fe===void 0?void 0:Fe.tagName)===null||Oe===void 0?void 0:Oe.toLowerCase(),Xe=parseRowContent(Me,Ue,je,qe,Be,De);Xe&&(Ke==="thead"?$e.push(Xe):Ke==="tfoot"?Qe.push(Xe):He.push(Xe))}return{head:$e,body:He,foot:Qe}}function parseRowContent(Ce,Re,je,Be,De,Fe){for(var Oe=new HtmlRowInput(Be),ke=0;ke<Be.cells.length;ke++){var Me=Be.cells[ke],Ue=je.getComputedStyle(Me);if(De||Ue.display!=="none"){var $e=void 0;Fe&&($e=parseCss(Ce,Me,Re,Ue,je)),Oe.push({rowSpan:Me.rowSpan,colSpan:Me.colSpan,styles:$e,_element:Me,content:parseCellContent(Me)})}}var He=je.getComputedStyle(Be);if(Oe.length>0&&(De||He.display!=="none"))return Oe}function parseCellContent(Ce){var Re=Ce.cloneNode(!0);return Re.innerHTML=Re.innerHTML.replace(/\n/g,"").replace(/ +/g," "),Re.innerHTML=Re.innerHTML.split(/<br.*?>/).map(function(je){return je.trim()}).join(`
`),Re.innerText||Re.textContent||""}function validateInput(Ce,Re,je){for(var Be=0,De=[Ce,Re,je];Be<De.length;Be++){var Fe=De[Be];Fe&&typeof Fe!="object"&&console.error("The options parameter should be of type object, is: "+typeof Fe),Fe.startY&&typeof Fe.startY!="number"&&(console.error("Invalid value for startY option",Fe.startY),delete Fe.startY)}}function assign$2(Ce,Re,je,Be,De){if(Ce==null)throw new TypeError("Cannot convert undefined or null to object");for(var Fe=Object(Ce),Oe=1;Oe<arguments.length;Oe++){var ke=arguments[Oe];if(ke!=null)for(var Me in ke)Object.prototype.hasOwnProperty.call(ke,Me)&&(Fe[Me]=ke[Me])}return Fe}function parseInput(Ce,Re){var je=new DocHandler(Ce),Be=je.getDocumentOptions(),De=je.getGlobalOptions();validateInput(De,Be,Re);var Fe=assign$2({},De,Be,Re),Oe;typeof window<"u"&&(Oe=window);var ke=parseStyles(De,Be,Re),Me=parseHooks(De,Be,Re),Ue=parseSettings(je,Fe),$e=parseContent$1(je,Fe,Oe);return{id:Re.tableId,content:$e,hooks:Me,styles:ke,settings:Ue}}function parseStyles(Ce,Re,je){for(var Be={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},De=function(Me){if(Me==="columnStyles"){var Ue=Ce[Me],$e=Re[Me],He=je[Me];Be.columnStyles=assign$2({},Ue,$e,He)}else{var Qe=[Ce,Re,je],We=Qe.map(function(qe){return qe[Me]||{}});Be[Me]=assign$2({},We[0],We[1],We[2])}},Fe=0,Oe=Object.keys(Be);Fe<Oe.length;Fe++){var ke=Oe[Fe];De(ke)}return Be}function parseHooks(Ce,Re,je){for(var Be=[Ce,Re,je],De={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},Fe=0,Oe=Be;Fe<Oe.length;Fe++){var ke=Oe[Fe];ke.didParseCell&&De.didParseCell.push(ke.didParseCell),ke.willDrawCell&&De.willDrawCell.push(ke.willDrawCell),ke.didDrawCell&&De.didDrawCell.push(ke.didDrawCell),ke.willDrawPage&&De.willDrawPage.push(ke.willDrawPage),ke.didDrawPage&&De.didDrawPage.push(ke.didDrawPage)}return De}function parseSettings(Ce,Re){var je,Be,De,Fe,Oe,ke,Me,Ue,$e,He,Qe,We,qe=parseSpacing(Re.margin,40/Ce.scaleFactor()),Ke=(je=getStartY(Ce,Re.startY))!==null&&je!==void 0?je:qe.top,Xe;Re.showFoot===!0?Xe="everyPage":Re.showFoot===!1?Xe="never":Xe=(Be=Re.showFoot)!==null&&Be!==void 0?Be:"everyPage";var Ye;Re.showHead===!0?Ye="everyPage":Re.showHead===!1?Ye="never":Ye=(De=Re.showHead)!==null&&De!==void 0?De:"everyPage";var Ze=(Fe=Re.useCss)!==null&&Fe!==void 0?Fe:!1,Je=Re.theme||(Ze?"plain":"striped"),tr=!!Re.horizontalPageBreak,rr=(Oe=Re.horizontalPageBreakRepeat)!==null&&Oe!==void 0?Oe:null;return{includeHiddenHtml:(ke=Re.includeHiddenHtml)!==null&&ke!==void 0?ke:!1,useCss:Ze,theme:Je,startY:Ke,margin:qe,pageBreak:(Me=Re.pageBreak)!==null&&Me!==void 0?Me:"auto",rowPageBreak:(Ue=Re.rowPageBreak)!==null&&Ue!==void 0?Ue:"auto",tableWidth:($e=Re.tableWidth)!==null&&$e!==void 0?$e:"auto",showHead:Ye,showFoot:Xe,tableLineWidth:(He=Re.tableLineWidth)!==null&&He!==void 0?He:0,tableLineColor:(Qe=Re.tableLineColor)!==null&&Qe!==void 0?Qe:200,horizontalPageBreak:tr,horizontalPageBreakRepeat:rr,horizontalPageBreakBehaviour:(We=Re.horizontalPageBreakBehaviour)!==null&&We!==void 0?We:"afterAllRows"}}function getStartY(Ce,Re){var je=Ce.getLastAutoTable(),Be=Ce.scaleFactor(),De=Ce.pageNumber(),Fe=!1;if(je&&je.startPageNumber){var Oe=je.startPageNumber+je.pageNumber-1;Fe=Oe===De}return typeof Re=="number"?Re:(Re==null||Re===!1)&&Fe&&je?.finalY!=null?je.finalY+20/Be:null}function parseContent$1(Ce,Re,je){var Be=Re.head||[],De=Re.body||[],Fe=Re.foot||[];if(Re.html){var Oe=Re.includeHiddenHtml;if(je){var ke=parseHtml(Ce,Re.html,je,Oe,Re.useCss)||{};Be=ke.head||Be,De=ke.body||Be,Fe=ke.foot||Be}else console.error("Cannot parse html in non browser environment")}var Me=Re.columns||parseColumns(Be,De,Fe);return{columns:Me,head:Be,body:De,foot:Fe}}function parseColumns(Ce,Re,je){var Be=Ce[0]||Re[0]||je[0]||[],De=[];return Object.keys(Be).filter(function(Fe){return Fe!=="_element"}).forEach(function(Fe){var Oe=1,ke;Array.isArray(Be)?ke=Be[parseInt(Fe)]:ke=Be[Fe],typeof ke=="object"&&!Array.isArray(ke)&&(Oe=ke?.colSpan||1);for(var Me=0;Me<Oe;Me++){var Ue=void 0;Array.isArray(Be)?Ue=De.length:Ue=Fe+(Me>0?"_".concat(Me):"");var $e={dataKey:Ue};De.push($e)}}),De}var HookData=(function(){function Ce(Re,je,Be){this.table=je,this.pageNumber=je.pageNumber,this.settings=je.settings,this.cursor=Be,this.doc=Re.getDocument()}return Ce})(),CellHookData=(function(Ce){__extends(Re,Ce);function Re(je,Be,De,Fe,Oe,ke){var Me=Ce.call(this,je,Be,ke)||this;return Me.cell=De,Me.row=Fe,Me.column=Oe,Me.section=Fe.section,Me}return Re})(HookData),Table=(function(){function Ce(Re,je){this.pageNumber=1,this.id=Re.id,this.settings=Re.settings,this.styles=Re.styles,this.hooks=Re.hooks,this.columns=je.columns,this.head=je.head,this.body=je.body,this.foot=je.foot}return Ce.prototype.getHeadHeight=function(Re){return this.head.reduce(function(je,Be){return je+Be.getMaxCellHeight(Re)},0)},Ce.prototype.getFootHeight=function(Re){return this.foot.reduce(function(je,Be){return je+Be.getMaxCellHeight(Re)},0)},Ce.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},Ce.prototype.callCellHooks=function(Re,je,Be,De,Fe,Oe){for(var ke=0,Me=je;ke<Me.length;ke++){var Ue=Me[ke],$e=new CellHookData(Re,this,Be,De,Fe,Oe),He=Ue($e)===!1;if(Be.text=Array.isArray(Be.text)?Be.text:[Be.text],He)return!1}return!0},Ce.prototype.callEndPageHooks=function(Re,je){Re.applyStyles(Re.userStyles);for(var Be=0,De=this.hooks.didDrawPage;Be<De.length;Be++){var Fe=De[Be];Fe(new HookData(Re,this,je))}},Ce.prototype.callWillDrawPageHooks=function(Re,je){for(var Be=0,De=this.hooks.willDrawPage;Be<De.length;Be++){var Fe=De[Be];Fe(new HookData(Re,this,je))}},Ce.prototype.getWidth=function(Re){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var je=this.columns.reduce(function(De,Fe){return De+Fe.wrappedWidth},0);return je}else{var Be=this.settings.margin;return Re-Be.left-Be.right}},Ce})(),Row=(function(){function Ce(Re,je,Be,De,Fe){Fe===void 0&&(Fe=!1),this.height=0,this.raw=Re,Re instanceof HtmlRowInput&&(this.raw=Re._element,this.element=Re._element),this.index=je,this.section=Be,this.cells=De,this.spansMultiplePages=Fe}return Ce.prototype.getMaxCellHeight=function(Re){var je=this;return Re.reduce(function(Be,De){var Fe;return Math.max(Be,((Fe=je.cells[De.index])===null||Fe===void 0?void 0:Fe.height)||0)},0)},Ce.prototype.hasRowSpan=function(Re){var je=this;return Re.filter(function(Be){var De=je.cells[Be.index];return De?De.rowSpan>1:!1}).length>0},Ce.prototype.canEntireRowFit=function(Re,je){return this.getMaxCellHeight(je)<=Re},Ce.prototype.getMinimumRowHeight=function(Re,je){var Be=this;return Re.reduce(function(De,Fe){var Oe=Be.cells[Fe.index];if(!Oe)return 0;var ke=je.getLineHeight(Oe.styles.fontSize),Me=Oe.padding("vertical"),Ue=Me+ke;return Ue>De?Ue:De},0)},Ce})(),Cell$1=(function(){function Ce(Re,je,Be){var De;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=je,this.section=Be,this.raw=Re;var Fe=Re;Re!=null&&typeof Re=="object"&&!Array.isArray(Re)?(this.rowSpan=Re.rowSpan||1,this.colSpan=Re.colSpan||1,Fe=(De=Re.content)!==null&&De!==void 0?De:Re,Re._element&&(this.raw=Re._element)):(this.rowSpan=1,this.colSpan=1);var Oe=Fe!=null?""+Fe:"",ke=/\r\n|\r|\n/g;this.text=Oe.split(ke)}return Ce.prototype.getTextPos=function(){var Re;if(this.styles.valign==="top")Re=this.y+this.padding("top");else if(this.styles.valign==="bottom")Re=this.y+this.height-this.padding("bottom");else{var je=this.height-this.padding("vertical");Re=this.y+je/2+this.padding("top")}var Be;if(this.styles.halign==="right")Be=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var De=this.width-this.padding("horizontal");Be=this.x+De/2+this.padding("left")}else Be=this.x+this.padding("left");return{x:Be,y:Re}},Ce.prototype.getContentHeight=function(Re,je){je===void 0&&(je=1.15);var Be=Array.isArray(this.text)?this.text.length:1,De=this.styles.fontSize/Re*je,Fe=Be*De+this.padding("vertical");return Math.max(Fe,this.styles.minCellHeight)},Ce.prototype.padding=function(Re){var je=parseSpacing(this.styles.cellPadding,0);return Re==="vertical"?je.top+je.bottom:Re==="horizontal"?je.left+je.right:je[Re]},Ce})(),Column=(function(){function Ce(Re,je,Be){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=Re,this.raw=je,this.index=Be}return Ce.prototype.getMaxCustomCellWidth=function(Re){for(var je=0,Be=0,De=Re.allRows();Be<De.length;Be++){var Fe=De[Be],Oe=Fe.cells[this.index];Oe&&typeof Oe.styles.cellWidth=="number"&&(je=Math.max(je,Oe.styles.cellWidth))}return je},Ce})();function calculateWidths(Ce,Re){calculate(Ce,Re);var je=[],Be=0;Re.columns.forEach(function(Fe){var Oe=Fe.getMaxCustomCellWidth(Re);Oe?Fe.width=Oe:(Fe.width=Fe.wrappedWidth,je.push(Fe)),Be+=Fe.width});var De=Re.getWidth(Ce.pageSize().width)-Be;De&&(De=resizeColumns(je,De,function(Fe){return Math.max(Fe.minReadableWidth,Fe.minWidth)})),De&&(De=resizeColumns(je,De,function(Fe){return Fe.minWidth})),De=Math.abs(De),!Re.settings.horizontalPageBreak&&De>.1/Ce.scaleFactor()&&(De=De<1?De:Math.round(De),console.warn("Of the table content, ".concat(De," units width could not fit page"))),applyColSpans(Re),fitContent(Re,Ce),applyRowSpans(Re)}function calculate(Ce,Re){var je=Ce.scaleFactor(),Be=Re.settings.horizontalPageBreak,De=getPageAvailableWidth(Ce,Re);Re.allRows().forEach(function(Fe){for(var Oe=0,ke=Re.columns;Oe<ke.length;Oe++){var Me=ke[Oe],Ue=Fe.cells[Me.index];if(Ue){var $e=Re.hooks.didParseCell;Re.callCellHooks(Ce,$e,Ue,Fe,Me,null);var He=Ue.padding("horizontal");Ue.contentWidth=getStringWidth(Ue.text,Ue.styles,Ce)+He;var Qe=getStringWidth(Ue.text.join(" ").split(/[^\S\u00A0]+/),Ue.styles,Ce);if(Ue.minReadableWidth=Qe+Ue.padding("horizontal"),typeof Ue.styles.cellWidth=="number")Ue.minWidth=Ue.styles.cellWidth,Ue.wrappedWidth=Ue.styles.cellWidth;else if(Ue.styles.cellWidth==="wrap"||Be===!0)Ue.contentWidth>De?(Ue.minWidth=De,Ue.wrappedWidth=De):(Ue.minWidth=Ue.contentWidth,Ue.wrappedWidth=Ue.contentWidth);else{var We=10/je;Ue.minWidth=Ue.styles.minCellWidth||We,Ue.wrappedWidth=Ue.contentWidth,Ue.minWidth>Ue.wrappedWidth&&(Ue.wrappedWidth=Ue.minWidth)}}}}),Re.allRows().forEach(function(Fe){for(var Oe=0,ke=Re.columns;Oe<ke.length;Oe++){var Me=ke[Oe],Ue=Fe.cells[Me.index];if(Ue&&Ue.colSpan===1)Me.wrappedWidth=Math.max(Me.wrappedWidth,Ue.wrappedWidth),Me.minWidth=Math.max(Me.minWidth,Ue.minWidth),Me.minReadableWidth=Math.max(Me.minReadableWidth,Ue.minReadableWidth);else{var $e=Re.styles.columnStyles[Me.dataKey]||Re.styles.columnStyles[Me.index]||{},He=$e.cellWidth||$e.minCellWidth;He&&typeof He=="number"&&(Me.minWidth=He,Me.wrappedWidth=He)}Ue&&(Ue.colSpan>1&&!Me.minWidth&&(Me.minWidth=Ue.minWidth),Ue.colSpan>1&&!Me.wrappedWidth&&(Me.wrappedWidth=Ue.minWidth))}})}function resizeColumns(Ce,Re,je){for(var Be=Re,De=Ce.reduce(function(We,qe){return We+qe.wrappedWidth},0),Fe=0;Fe<Ce.length;Fe++){var Oe=Ce[Fe],ke=Oe.wrappedWidth/De,Me=Be*ke,Ue=Oe.width+Me,$e=je(Oe),He=Ue<$e?$e:Ue;Re-=He-Oe.width,Oe.width=He}if(Re=Math.round(Re*1e10)/1e10,Re){var Qe=Ce.filter(function(We){return Re<0?We.width>je(We):!0});Qe.length&&(Re=resizeColumns(Qe,Re,je))}return Re}function applyRowSpans(Ce){for(var Re={},je=1,Be=Ce.allRows(),De=0;De<Be.length;De++)for(var Fe=Be[De],Oe=0,ke=Ce.columns;Oe<ke.length;Oe++){var Me=ke[Oe],Ue=Re[Me.index];if(je>1)je--,delete Fe.cells[Me.index];else if(Ue)Ue.cell.height+=Fe.height,je=Ue.cell.colSpan,delete Fe.cells[Me.index],Ue.left--,Ue.left<=1&&delete Re[Me.index];else{var $e=Fe.cells[Me.index];if(!$e)continue;if($e.height=Fe.height,$e.rowSpan>1){var He=Be.length-De,Qe=$e.rowSpan>He?He:$e.rowSpan;Re[Me.index]={cell:$e,left:Qe,row:Fe}}}}}function applyColSpans(Ce){for(var Re=Ce.allRows(),je=0;je<Re.length;je++)for(var Be=Re[je],De=null,Fe=0,Oe=0,ke=0;ke<Ce.columns.length;ke++){var Me=Ce.columns[ke];if(Oe-=1,Oe>1&&Ce.columns[ke+1])Fe+=Me.width,delete Be.cells[Me.index];else if(De){var Ue=De;delete Be.cells[Me.index],De=null,Ue.width=Me.width+Fe}else{var Ue=Be.cells[Me.index];if(!Ue)continue;if(Oe=Ue.colSpan,Fe=0,Ue.colSpan>1){De=Ue,Fe+=Me.width;continue}Ue.width=Me.width+Fe}}}function fitContent(Ce,Re){for(var je={count:0,height:0},Be=0,De=Ce.allRows();Be<De.length;Be++){for(var Fe=De[Be],Oe=0,ke=Ce.columns;Oe<ke.length;Oe++){var Me=ke[Oe],Ue=Fe.cells[Me.index];if(Ue){Re.applyStyles(Ue.styles,!0);var $e=Ue.width-Ue.padding("horizontal");if(Ue.styles.overflow==="linebreak")Ue.text=Re.splitTextToSize(Ue.text,$e+1/Re.scaleFactor(),{fontSize:Ue.styles.fontSize});else if(Ue.styles.overflow==="ellipsize")Ue.text=ellipsize(Ue.text,$e,Ue.styles,Re,"...");else if(Ue.styles.overflow==="hidden")Ue.text=ellipsize(Ue.text,$e,Ue.styles,Re,"");else if(typeof Ue.styles.overflow=="function"){var He=Ue.styles.overflow(Ue.text,$e);typeof He=="string"?Ue.text=[He]:Ue.text=He}Ue.contentHeight=Ue.getContentHeight(Re.scaleFactor(),Re.getLineHeightFactor());var Qe=Ue.contentHeight/Ue.rowSpan;Ue.rowSpan>1&&je.count*je.height<Qe*Ue.rowSpan?je={height:Qe,count:Ue.rowSpan}:je&&je.count>0&&je.height>Qe&&(Qe=je.height),Qe>Fe.height&&(Fe.height=Qe)}}je.count--}}function ellipsize(Ce,Re,je,Be,De){return Ce.map(function(Fe){return ellipsizeStr(Fe,Re,je,Be,De)})}function ellipsizeStr(Ce,Re,je,Be,De){var Fe=1e4*Be.scaleFactor();if(Re=Math.ceil(Re*Fe)/Fe,Re>=getStringWidth(Ce,je,Be))return Ce;for(;Re<getStringWidth(Ce+De,je,Be)&&!(Ce.length<=1);)Ce=Ce.substring(0,Ce.length-1);return Ce.trim()+De}function createTable(Ce,Re){var je=new DocHandler(Ce),Be=parseContent(Re,je.scaleFactor()),De=new Table(Re,Be);return calculateWidths(je,De),je.applyStyles(je.userStyles),De}function parseContent(Ce,Re){var je=Ce.content,Be=createColumns(je.columns);if(je.head.length===0){var De=generateSectionRow(Be,"head");De&&je.head.push(De)}if(je.foot.length===0){var De=generateSectionRow(Be,"foot");De&&je.foot.push(De)}var Fe=Ce.settings.theme,Oe=Ce.styles;return{columns:Be,head:parseSection("head",je.head,Be,Oe,Fe,Re),body:parseSection("body",je.body,Be,Oe,Fe,Re),foot:parseSection("foot",je.foot,Be,Oe,Fe,Re)}}function parseSection(Ce,Re,je,Be,De,Fe){var Oe={},ke=Re.map(function(Me,Ue){for(var $e=0,He={},Qe=0,We=0,qe=0,Ke=je;qe<Ke.length;qe++){var Xe=Ke[qe];if(Oe[Xe.index]==null||Oe[Xe.index].left===0)if(We===0){var Ye=void 0;Array.isArray(Me)?Ye=Me[Xe.index-Qe-$e]:Ye=Me[Xe.dataKey];var Ze={};typeof Ye=="object"&&!Array.isArray(Ye)&&(Ze=Ye?.styles||{});var Je=cellStyles(Ce,Xe,Ue,De,Be,Fe,Ze),tr=new Cell$1(Ye,Je,Ce);He[Xe.dataKey]=tr,He[Xe.index]=tr,We=tr.colSpan-1,Oe[Xe.index]={left:tr.rowSpan-1,times:We}}else We--,Qe++;else Oe[Xe.index].left--,We=Oe[Xe.index].times,$e++}return new Row(Me,Ue,Ce,He)});return ke}function generateSectionRow(Ce,Re){var je={};return Ce.forEach(function(Be){if(Be.raw!=null){var De=getSectionTitle(Re,Be.raw);De!=null&&(je[Be.dataKey]=De)}}),Object.keys(je).length>0?je:null}function getSectionTitle(Ce,Re){if(Ce==="head"){if(typeof Re=="object")return Re.header||null;if(typeof Re=="string"||typeof Re=="number")return Re}else if(Ce==="foot"&&typeof Re=="object")return Re.footer;return null}function createColumns(Ce){return Ce.map(function(Re,je){var Be,De;return typeof Re=="object"?De=(Be=Re.dataKey)!==null&&Be!==void 0?Be:je:De=je,new Column(De,Re,je)})}function cellStyles(Ce,Re,je,Be,De,Fe,Oe){var ke=getTheme(Be),Me;Ce==="head"?Me=De.headStyles:Ce==="body"?Me=De.bodyStyles:Ce==="foot"&&(Me=De.footStyles);var Ue=assign$2({},ke.table,ke[Ce],De.styles,Me),$e=De.columnStyles[Re.dataKey]||De.columnStyles[Re.index]||{},He=Ce==="body"?$e:{},Qe=Ce==="body"&&je%2===0?assign$2({},ke.alternateRow,De.alternateRowStyles):{},We=defaultStyles$1(Fe),qe=assign$2({},We,Ue,Qe,He);return assign$2(qe,Oe)}function getColumnsCanFitInPage(Ce,Re,je){var Be;je===void 0&&(je={});var De=getPageAvailableWidth(Ce,Re),Fe=new Map,Oe=[],ke=[],Me=[];Array.isArray(Re.settings.horizontalPageBreakRepeat)?Me=Re.settings.horizontalPageBreakRepeat:(typeof Re.settings.horizontalPageBreakRepeat=="string"||typeof Re.settings.horizontalPageBreakRepeat=="number")&&(Me=[Re.settings.horizontalPageBreakRepeat]),Me.forEach(function(Qe){var We=Re.columns.find(function(qe){return qe.dataKey===Qe||qe.index===Qe});We&&!Fe.has(We.index)&&(Fe.set(We.index,!0),Oe.push(We.index),ke.push(Re.columns[We.index]),De-=We.wrappedWidth)});for(var Ue=!0,$e=(Be=je?.start)!==null&&Be!==void 0?Be:0;$e<Re.columns.length;){if(Fe.has($e)){$e++;continue}var He=Re.columns[$e].wrappedWidth;if(Ue||De>=He)Ue=!1,Oe.push($e),ke.push(Re.columns[$e]),De-=He;else break;$e++}return{colIndexes:Oe,columns:ke,lastIndex:$e-1}}function calculateAllColumnsCanFitInPage(Ce,Re){for(var je=[],Be=0;Be<Re.columns.length;Be++){var De=getColumnsCanFitInPage(Ce,Re,{start:Be});De.columns.length&&(je.push(De),Be=De.lastIndex)}return je}function drawTable(Ce,Re){var je=Re.settings,Be=je.startY,De=je.margin,Fe={x:De.left,y:Be},Oe=Re.getHeadHeight(Re.columns)+Re.getFootHeight(Re.columns),ke=Be+De.bottom+Oe;if(je.pageBreak==="avoid"){var Me=Re.body,Ue=Me.reduce(function(Qe,We){return Qe+We.height},0);ke+=Ue}var $e=new DocHandler(Ce);(je.pageBreak==="always"||je.startY!=null&&ke>$e.pageSize().height)&&(nextPage($e),Fe.y=De.top),Re.callWillDrawPageHooks($e,Fe);var He=assign$2({},Fe);Re.startPageNumber=$e.pageNumber(),je.horizontalPageBreak?printTableWithHorizontalPageBreak($e,Re,He,Fe):($e.applyStyles($e.userStyles),(je.showHead==="firstPage"||je.showHead==="everyPage")&&Re.head.forEach(function(Qe){return printRow($e,Re,Qe,Fe,Re.columns)}),$e.applyStyles($e.userStyles),Re.body.forEach(function(Qe,We){var qe=We===Re.body.length-1;printFullRow($e,Re,Qe,qe,He,Fe,Re.columns)}),$e.applyStyles($e.userStyles),(je.showFoot==="lastPage"||je.showFoot==="everyPage")&&Re.foot.forEach(function(Qe){return printRow($e,Re,Qe,Fe,Re.columns)})),addTableBorder($e,Re,He,Fe),Re.callEndPageHooks($e,Fe),Re.finalY=Fe.y,Ce.lastAutoTable=Re,$e.applyStyles($e.userStyles)}function printTableWithHorizontalPageBreak(Ce,Re,je,Be){var De=calculateAllColumnsCanFitInPage(Ce,Re),Fe=Re.settings;if(Fe.horizontalPageBreakBehaviour==="afterAllRows")De.forEach(function(Ue,$e){Ce.applyStyles(Ce.userStyles),$e>0?addPage(Ce,Re,je,Be,Ue.columns,!0):printHead(Ce,Re,Be,Ue.columns),printBody(Ce,Re,je,Be,Ue.columns),printFoot(Ce,Re,Be,Ue.columns)});else for(var Oe=-1,ke=De[0],Me=function(){var Ue=Oe;if(ke){Ce.applyStyles(Ce.userStyles);var $e=ke.columns;Oe>=0?addPage(Ce,Re,je,Be,$e,!0):printHead(Ce,Re,Be,$e),Ue=printBodyWithoutPageBreaks(Ce,Re,Oe+1,Be,$e),printFoot(Ce,Re,Be,$e)}var He=Ue-Oe;De.slice(1).forEach(function(Qe){Ce.applyStyles(Ce.userStyles),addPage(Ce,Re,je,Be,Qe.columns,!0),printBodyWithoutPageBreaks(Ce,Re,Oe+1,Be,Qe.columns,He),printFoot(Ce,Re,Be,Qe.columns)}),Oe=Ue};Oe<Re.body.length-1;)Me()}function printHead(Ce,Re,je,Be){var De=Re.settings;Ce.applyStyles(Ce.userStyles),(De.showHead==="firstPage"||De.showHead==="everyPage")&&Re.head.forEach(function(Fe){return printRow(Ce,Re,Fe,je,Be)})}function printBody(Ce,Re,je,Be,De){Ce.applyStyles(Ce.userStyles),Re.body.forEach(function(Fe,Oe){var ke=Oe===Re.body.length-1;printFullRow(Ce,Re,Fe,ke,je,Be,De)})}function printBodyWithoutPageBreaks(Ce,Re,je,Be,De,Fe){Ce.applyStyles(Ce.userStyles),Fe=Fe??Re.body.length;var Oe=Math.min(je+Fe,Re.body.length),ke=-1;return Re.body.slice(je,Oe).forEach(function(Me,Ue){var $e=je+Ue===Re.body.length-1,He=getRemainingPageSpace(Ce,Re,$e,Be);Me.canEntireRowFit(He,De)&&(printRow(Ce,Re,Me,Be,De),ke=je+Ue)}),ke}function printFoot(Ce,Re,je,Be){var De=Re.settings;Ce.applyStyles(Ce.userStyles),(De.showFoot==="lastPage"||De.showFoot==="everyPage")&&Re.foot.forEach(function(Fe){return printRow(Ce,Re,Fe,je,Be)})}function getRemainingLineCount(Ce,Re,je){var Be=je.getLineHeight(Ce.styles.fontSize),De=Ce.padding("vertical"),Fe=Math.floor((Re-De)/Be);return Math.max(0,Fe)}function modifyRowToFit(Ce,Re,je,Be){var De={};Ce.spansMultiplePages=!0,Ce.height=0;for(var Fe=0,Oe=0,ke=je.columns;Oe<ke.length;Oe++){var Me=ke[Oe],Ue=Ce.cells[Me.index];if(Ue){Array.isArray(Ue.text)||(Ue.text=[Ue.text]);var $e=new Cell$1(Ue.raw,Ue.styles,Ue.section);$e=assign$2($e,Ue),$e.text=[];var He=getRemainingLineCount(Ue,Re,Be);Ue.text.length>He&&($e.text=Ue.text.splice(He,Ue.text.length));var Qe=Be.scaleFactor(),We=Be.getLineHeightFactor();Ue.contentHeight=Ue.getContentHeight(Qe,We),Ue.contentHeight>=Re&&(Ue.contentHeight=Re,$e.styles.minCellHeight-=Re),Ue.contentHeight>Ce.height&&(Ce.height=Ue.contentHeight),$e.contentHeight=$e.getContentHeight(Qe,We),$e.contentHeight>Fe&&(Fe=$e.contentHeight),De[Me.index]=$e}}var qe=new Row(Ce.raw,-1,Ce.section,De,!0);qe.height=Fe;for(var Ke=0,Xe=je.columns;Ke<Xe.length;Ke++){var Me=Xe[Ke],$e=qe.cells[Me.index];$e&&($e.height=qe.height);var Ue=Ce.cells[Me.index];Ue&&(Ue.height=Ce.height)}return qe}function shouldPrintOnCurrentPage(Ce,Re,je,Be){var De=Ce.pageSize().height,Fe=Be.settings.margin,Oe=Fe.top+Fe.bottom,ke=De-Oe;Re.section==="body"&&(ke-=Be.getHeadHeight(Be.columns)+Be.getFootHeight(Be.columns));var Me=Re.getMinimumRowHeight(Be.columns,Ce),Ue=Me<je;if(Me>ke)return console.error("Will not be able to print row ".concat(Re.index," correctly since it's minimum height is larger than page height")),!0;if(!Ue)return!1;var $e=Re.hasRowSpan(Be.columns),He=Re.getMaxCellHeight(Be.columns)>ke;return He?($e&&console.error("The content of row ".concat(Re.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!($e||Be.settings.rowPageBreak==="avoid")}function printFullRow(Ce,Re,je,Be,De,Fe,Oe){var ke=getRemainingPageSpace(Ce,Re,Be,Fe);if(je.canEntireRowFit(ke,Oe))printRow(Ce,Re,je,Fe,Oe);else if(shouldPrintOnCurrentPage(Ce,je,ke,Re)){var Me=modifyRowToFit(je,ke,Re,Ce);printRow(Ce,Re,je,Fe,Oe),addPage(Ce,Re,De,Fe,Oe),printFullRow(Ce,Re,Me,Be,De,Fe,Oe)}else addPage(Ce,Re,De,Fe,Oe),printFullRow(Ce,Re,je,Be,De,Fe,Oe)}function printRow(Ce,Re,je,Be,De){Be.x=Re.settings.margin.left;for(var Fe=0,Oe=De;Fe<Oe.length;Fe++){var ke=Oe[Fe],Me=je.cells[ke.index];if(!Me){Be.x+=ke.width;continue}Ce.applyStyles(Me.styles),Me.x=Be.x,Me.y=Be.y;var Ue=Re.callCellHooks(Ce,Re.hooks.willDrawCell,Me,je,ke,Be);if(Ue===!1){Be.x+=ke.width;continue}drawCellRect(Ce,Me,Be);var $e=Me.getTextPos();autoTableText(Me.text,$e.x,$e.y,{halign:Me.styles.halign,valign:Me.styles.valign,maxWidth:Math.ceil(Me.width-Me.padding("left")-Me.padding("right"))},Ce.getDocument()),Re.callCellHooks(Ce,Re.hooks.didDrawCell,Me,je,ke,Be),Be.x+=ke.width}Be.y+=je.height}function drawCellRect(Ce,Re,je){var Be=Re.styles;if(Ce.getDocument().setFillColor(Ce.getDocument().getFillColor()),typeof Be.lineWidth=="number"){var De=getFillStyle(Be.lineWidth,Be.fillColor);De&&Ce.rect(Re.x,je.y,Re.width,Re.height,De)}else typeof Be.lineWidth=="object"&&(Be.fillColor&&Ce.rect(Re.x,je.y,Re.width,Re.height,"F"),drawCellBorders(Ce,Re,je,Be.lineWidth))}function drawCellBorders(Ce,Re,je,Be){var De,Fe,Oe,ke;Be.top&&(De=je.x,Fe=je.y,Oe=je.x+Re.width,ke=je.y,Be.right&&(Oe+=.5*Be.right),Be.left&&(De-=.5*Be.left),Me(Be.top,De,Fe,Oe,ke)),Be.bottom&&(De=je.x,Fe=je.y+Re.height,Oe=je.x+Re.width,ke=je.y+Re.height,Be.right&&(Oe+=.5*Be.right),Be.left&&(De-=.5*Be.left),Me(Be.bottom,De,Fe,Oe,ke)),Be.left&&(De=je.x,Fe=je.y,Oe=je.x,ke=je.y+Re.height,Be.top&&(Fe-=.5*Be.top),Be.bottom&&(ke+=.5*Be.bottom),Me(Be.left,De,Fe,Oe,ke)),Be.right&&(De=je.x+Re.width,Fe=je.y,Oe=je.x+Re.width,ke=je.y+Re.height,Be.top&&(Fe-=.5*Be.top),Be.bottom&&(ke+=.5*Be.bottom),Me(Be.right,De,Fe,Oe,ke));function Me(Ue,$e,He,Qe,We){Ce.getDocument().setLineWidth(Ue),Ce.getDocument().line($e,He,Qe,We,"S")}}function getRemainingPageSpace(Ce,Re,je,Be){var De=Re.settings.margin.bottom,Fe=Re.settings.showFoot;return(Fe==="everyPage"||Fe==="lastPage"&&je)&&(De+=Re.getFootHeight(Re.columns)),Ce.pageSize().height-Be.y-De}function addPage(Ce,Re,je,Be,De,Fe){De===void 0&&(De=[]),Fe===void 0&&(Fe=!1),Ce.applyStyles(Ce.userStyles),Re.settings.showFoot==="everyPage"&&!Fe&&Re.foot.forEach(function(ke){return printRow(Ce,Re,ke,Be,De)}),Re.callEndPageHooks(Ce,Be);var Oe=Re.settings.margin;addTableBorder(Ce,Re,je,Be),nextPage(Ce),Re.pageNumber++,Be.x=Oe.left,Be.y=Oe.top,je.y=Oe.top,Re.callWillDrawPageHooks(Ce,Be),Re.settings.showHead==="everyPage"&&(Re.head.forEach(function(ke){return printRow(Ce,Re,ke,Be,De)}),Ce.applyStyles(Ce.userStyles))}function nextPage(Ce){var Re=Ce.pageNumber();Ce.setPage(Re+1);var je=Ce.pageNumber();return je===Re?(Ce.addPage(),!0):!1}function applyPlugin(Ce){Ce.API.autoTable=function(){for(var Re=[],je=0;je<arguments.length;je++)Re[je]=arguments[je];var Be=Re[0],De=parseInput(this,Be),Fe=createTable(this,De);return drawTable(this,Fe),this},Ce.API.lastAutoTable=!1,Ce.API.autoTableText=function(Re,je,Be,De){autoTableText(Re,je,Be,De,this)},Ce.API.autoTableSetDefaults=function(Re){return DocHandler.setDefaults(Re,this),this},Ce.autoTableSetDefaults=function(Re,je){DocHandler.setDefaults(Re,je)},Ce.API.autoTableHtmlToJson=function(Re,je){var Be;if(je===void 0&&(je=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var De=new DocHandler(this),Fe=parseHtml(De,Re,window,je,!1),Oe=Fe.head,ke=Fe.body,Me=((Be=Oe[0])===null||Be===void 0?void 0:Be.map(function(Ue){return Ue.content}))||[];return{columns:Me,rows:ke,data:ke}}}var _a;function autoTable(Ce,Re){var je=parseInput(Ce,Re),Be=createTable(Ce,je);drawTable(Ce,Be)}try{if(typeof window<"u"&&window){var anyWindow=window,jsPDF=anyWindow.jsPDF||((_a=anyWindow.jspdf)===null||_a===void 0?void 0:_a.jsPDF);jsPDF&&applyPlugin(jsPDF)}}catch(Ce){console.error("Could not apply autoTable plugin",Ce)}const OrderStatusTab=()=>{const[Ce,Re]=reactExports.useState([]),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(""),[Oe,ke]=reactExports.useState("All"),[Me,Ue]=reactExports.useState("All Time"),[$e,He]=reactExports.useState(null),[Qe,We]=reactExports.useState(null),[qe,Ke]=reactExports.useState(""),[Xe,Ye]=reactExports.useState("");reactExports.useEffect(()=>{const nr=onAuthStateChanged(auth$2,sr=>{sr&&(He(sr),Ze(sr.uid))});return()=>nr()},[]);const Ze=async nr=>{const sr=collection(db$2,`businesses/${nr}/sentOrders`),_r=(await getDocs(sr)).docs.map(fr=>({id:fr.id,...fr.data()}));Re(_r),Be(_r)};reactExports.useEffect(()=>{let nr=Ce;if(Oe!=="All"&&(nr=nr.filter(sr=>sr.status===Oe)),De.trim()){const sr=De.toLowerCase();nr=nr.filter(dr=>(dr.distributorId?.toLowerCase()||"").includes(sr)||(dr.id?.toLowerCase()||"").includes(sr)||(dr.distributorName?.toLowerCase()||"").includes(sr)||(dr.distributorCity?.toLowerCase()||"").includes(sr)||(dr.distributorState?.toLowerCase()||"").includes(sr)||(dr.distributorEmail?.toLowerCase()||"").includes(sr))}if(Me==="Today"){const sr=new Date;nr=nr.filter(dr=>{const _r=dr.timestamp?.toDate?.();return _r&&_r.getDate()===sr.getDate()&&_r.getMonth()===sr.getMonth()&&_r.getFullYear()===sr.getFullYear()})}else if(Me==="This Week"){const sr=new Date,dr=new Date(sr);dr.setDate(sr.getDate()-sr.getDay()),nr=nr.filter(_r=>{const fr=_r.timestamp?.toDate?.();return fr&&fr>=dr&&fr<=sr})}else if(Me==="Custom Range"&&qe&&Xe){const sr=new Date(qe),dr=new Date(Xe);nr=nr.filter(_r=>{const fr=_r.timestamp?.toDate?.();return fr&&fr>=sr&&fr<=dr})}nr=nr.sort((sr,dr)=>{const _r=sr.timestamp?.toDate?.();return dr.timestamp?.toDate?.()-_r}),Be(nr)},[Oe,De,Ce,Me,qe,Xe]);const Je=nr=>{We(Qe===nr?null:nr)},tr=()=>{const nr=["Order ID","Distributor","Status","Amount","Date"],sr=je.map(Er=>[Er.id,Er.distributorName,Er.status,Er.totalAmount,Er.timestamp?.toDate?.().toLocaleString()||"-"]),dr=[nr,...sr].map(Er=>Er.join(",")).join(`
`),_r=new Blob([dr],{type:"text/csv"}),fr=URL.createObjectURL(_r),or=document.createElement("a");or.href=fr,or.download="order-history.csv",or.click()},rr=()=>{const nr=new E,sr=[["Order ID","Distributor","Status","Amount","Date"]],dr=je.map(_r=>[_r.id,_r.distributorName,_r.status,`${_r.totalAmount}`,_r.timestamp?.toDate?.().toLocaleString()||"-"]);nr.text("Order History",14,16),autoTable(nr,{startY:20,head:sr,body:dr,styles:{fontSize:8}}),nr.save("order-history.pdf")},ar=(nr,sr)=>{const dr=["Product","Brand","SKU","Qty","Unit","Price"],_r=(nr.items||[]).map(fr=>[fr.productName||fr.name||"",fr.brand||"",fr.sku,fr.quantity,fr.unit,`${fr.price!==void 0&&fr.price!==null?fr.price:fr.unitPrice||0}`]);if(sr==="pdf"){const fr=new E,or=(Rr,jr)=>`${Rr}: ${jr||""}`,Er=nr.timestamp?.toDate?.().toLocaleString()||"-";fr.setFontSize(12),fr.text(`Order ID: ${nr.id}`,14,14),fr.text(or("Date",Er),14,22),fr.text(or("Status",nr.status),14,30),fr.text(or("Payment Mode",nr.paymentMode),14,38),fr.text(or("Order Note",nr.note),14,46),fr.text(or("Distributor",nr.distributorName),14,58),fr.text(or("Distributor Location",`${nr.distributorCity||""}, ${nr.distributorState||""}`),14,66),fr.text(or("Distributor Phone",nr.distributorPhone),14,74),fr.text(or("Distributor Email",nr.distributorEmail),14,82),fr.text(or("Retailer ID",$e?.uid),14,94),autoTable(fr,{startY:102,head:[["Product","Brand","SKU","Qty","Unit","Price"]],body:(nr.items||[]).map(Rr=>[Rr.productName||Rr.name||"",Rr.brand||"",Rr.sku,Rr.quantity,Rr.unit,`${Rr.price!==void 0&&Rr.price!==null?Rr.price:Rr.unitPrice||0}`]),styles:{fontSize:8}}),fr.save(`order-${nr.id}.pdf`)}else if(sr==="csv"||sr==="excel"){const fr=[dr,..._r].map(jr=>jr.join(",")).join(`
`),or=new Blob([fr],{type:"text/csv"}),Er=URL.createObjectURL(or),Rr=document.createElement("a");Rr.href=Er,Rr.download=`order-${nr.id}.${sr==="excel"?"xls":"csv"}`,Rr.click()}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-4 justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by distributor or order ID",className:"border px-3 py-2 rounded w-1/3",value:De,onChange:nr=>Fe(nr.target.value)}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",value:Oe,onChange:nr=>ke(nr.target.value),children:[jsxRuntimeExports.jsx("option",{children:"All"}),jsxRuntimeExports.jsx("option",{children:"Requested"}),jsxRuntimeExports.jsx("option",{children:"Accepted"}),jsxRuntimeExports.jsx("option",{children:"Rejected"}),jsxRuntimeExports.jsx("option",{children:"Modified"})]}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",value:Me,onChange:nr=>Ue(nr.target.value),children:[jsxRuntimeExports.jsx("option",{children:"All Time"}),jsxRuntimeExports.jsx("option",{children:"Today"}),jsxRuntimeExports.jsx("option",{children:"This Week"}),jsxRuntimeExports.jsx("option",{children:"Custom Range"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:tr,className:"border bg-blue-50 hover:bg-blue-100 text-blue-600 px-3 py-2 rounded text-sm",children:"Export CSV"}),jsxRuntimeExports.jsx("button",{onClick:rr,className:"border bg-green-50 hover:bg-green-100 text-green-600 px-3 py-2 rounded text-sm",children:"Export PDF"})]})]}),Me==="Custom Range"&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[jsxRuntimeExports.jsx("label",{children:"From:"}),jsxRuntimeExports.jsx("input",{type:"date",value:qe,onChange:nr=>Ke(nr.target.value),className:"border px-2 py-1 rounded"}),jsxRuntimeExports.jsx("label",{children:"To:"}),jsxRuntimeExports.jsx("input",{type:"date",value:Xe,onChange:nr=>Ye(nr.target.value),className:"border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100 text-left",children:[jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Order ID"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Distributor (Name)"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Date"})]})}),jsxRuntimeExports.jsx("tbody",{children:je.map(nr=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{onClick:()=>Je(nr.id),className:"cursor-pointer hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"p-2 border",children:nr.id}),jsxRuntimeExports.jsxs("td",{className:"p-2 border",children:[jsxRuntimeExports.jsx("div",{children:nr.distributorName||""}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:[nr.distributorCity||"",", ",nr.distributorState||""]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400",children:nr.distributorId})]}),jsxRuntimeExports.jsxs("td",{className:"p-2 border",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${nr.status==="Accepted"?"bg-green-100 text-green-700":nr.status==="Rejected"?"bg-red-100 text-red-700":nr.status==="Modified"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`,children:nr.status}),nr.status==="Rejected"&&nr.rejectionNote&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-red-500 mt-1",children:["Reason: ",nr.rejectionNote]})]}),jsxRuntimeExports.jsxs("td",{className:"p-2 border",children:["",nr.totalAmount||0]}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:nr.timestamp?.toDate?.().toLocaleString()||"-"})]}),Qe===nr.id&&jsxRuntimeExports.jsx("tr",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("td",{colSpan:"5",className:"p-4 border",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm mb-2 text-gray-700",children:[jsxRuntimeExports.jsx("strong",{children:"Order Note:"})," ",nr.note||"",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Payment Mode:"})," ",nr.paymentMode||"",jsxRuntimeExports.jsx("br",{}),nr.status==="Rejected"&&nr.rejectionNote&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("strong",{children:"Rejection Reason:"})," ",nr.rejectionNote,jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("strong",{children:"Items:"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Distributor Info:"})," ",nr.distributorCity||"N/A",", ",nr.distributorState||"N/A",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Phone:"})," ",nr.distributorPhone||"",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",nr.distributorEmail||"",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ar(nr,"pdf"),className:"border bg-green-50 hover:bg-green-100 text-green-600 px-3 py-1 rounded text-sm",children:"PDF"}),jsxRuntimeExports.jsx("button",{onClick:()=>ar(nr,"csv"),className:"border bg-blue-50 hover:bg-blue-100 text-blue-600 px-3 py-1 rounded text-sm",children:"CSV"}),jsxRuntimeExports.jsx("button",{onClick:()=>ar(nr,"excel"),className:"border bg-yellow-50 hover:bg-yellow-100 text-yellow-600 px-3 py-1 rounded text-sm",children:"Excel"})]}),jsxRuntimeExports.jsxs("table",{className:"w-full text-sm border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Price"})]})}),jsxRuntimeExports.jsx("tbody",{children:(nr.items||[]).map((sr,dr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"p-1 border",children:sr.productName||sr.name||""}),jsxRuntimeExports.jsx("td",{className:"p-1 border",children:sr.brand||""}),jsxRuntimeExports.jsx("td",{className:"p-1 border",children:sr.sku}),jsxRuntimeExports.jsx("td",{className:"p-1 border",children:sr.quantity}),jsxRuntimeExports.jsx("td",{className:"p-1 border",children:sr.unit}),jsxRuntimeExports.jsxs("td",{className:"p-1 border",children:["",sr.price!==void 0&&sr.price!==null?sr.price:sr.unitPrice||0]})]},dr))})]})]})})]},nr.id))})]})]})},byteToHex=[];for(let Ce=0;Ce<256;++Ce)byteToHex.push((Ce+256).toString(16).slice(1));function unsafeStringify(Ce,Re=0){return(byteToHex[Ce[Re+0]]+byteToHex[Ce[Re+1]]+byteToHex[Ce[Re+2]]+byteToHex[Ce[Re+3]]+"-"+byteToHex[Ce[Re+4]]+byteToHex[Ce[Re+5]]+"-"+byteToHex[Ce[Re+6]]+byteToHex[Ce[Re+7]]+"-"+byteToHex[Ce[Re+8]]+byteToHex[Ce[Re+9]]+"-"+byteToHex[Ce[Re+10]]+byteToHex[Ce[Re+11]]+byteToHex[Ce[Re+12]]+byteToHex[Ce[Re+13]]+byteToHex[Ce[Re+14]]+byteToHex[Ce[Re+15]]).toLowerCase()}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(Ce,Re,je){if(native.randomUUID&&!Ce)return native.randomUUID();Ce=Ce||{};const Be=Ce.random??Ce.rng?.()??rng();if(Be.length<16)throw new Error("Random bytes length must be >= 16");return Be[6]=Be[6]&15|64,Be[8]=Be[8]&63|128,unsafeStringify(Be)}const AddDeliveredItemsToInventory=({order:Ce,onClose:Re})=>{const je=getAuth(),[Be,De]=reactExports.useState((Ce.items||[]).map($e=>({...$e,sellingPrice:"",category:$e.category||"",brand:$e.brand||"",imageFile:null,imageUrl:"",sku:$e.sku||"",unit:$e.unit||""}))),[Fe,Oe]=reactExports.useState(!1),ke=($e,He,Qe)=>{const We=[...Be];We[$e][He]=Qe,De(We)},Me=($e,He)=>{const Qe=[...Be];Qe[$e].imageFile=He,De(Qe)},Ue=async()=>{Oe(!0);try{const $e=Be.map(async(Qe,We)=>{let qe="";if(Qe.imageFile){const tr=ref(storage,`products/${v4()}`);await uploadBytes(tr,Qe.imageFile),qe=await getDownloadURL(tr)}const Ke=v4(),Xe={name:Qe.productName||Qe.name||`Product ${We+1}`,sku:Qe.sku||`SKU-${v4().slice(0,6)}`,quantity:Number(Qe.quantity||0),unit:Qe.unit||"unit",costPrice:Number(Qe.price||0),sellingPrice:Number(Qe.sellingPrice||0),brand:Qe.brand||"",category:Qe.category||"",imageUrl:qe,distributorPrice:Number(Qe.price||0),sourceOrderId:Ce.id,createdAt:serverTimestamp()};console.log("Saving product to inventory:",Xe);const Ye=collection(db$2,"businesses",je.currentUser.uid,"products"),Ze=query(Ye,where("name","==",Xe.name),where("brand","==",Xe.brand)),Je=await getDocs(Ze);if(Je.empty)await setDoc(doc(Ye,Ke),Xe),console.log("Created new product:",Ke);else{const tr=Je.docs[0],rr=tr.data(),ar=Number(rr.quantity||0)+Number(Xe.quantity);await updateDoc(tr.ref,{quantity:ar,costPrice:Xe.costPrice,sellingPrice:Xe.sellingPrice,lastUpdatedFromOrder:Ce.id}),console.log("Updated existing product:",tr.id)}});await Promise.all($e),console.log("All products saved successfully.");const He=doc(db$2,"businesses",je.currentUser.uid,"sentOrders",Ce.id);await updateDoc(He,{inventorySynced:!0,"statusTimestamps.inventorySyncedAt":serverTimestamp()}),alert("Items added to inventory!"),Re()}catch($e){console.error("Inventory addition failed:",$e),alert("Failed to add items.")}finally{Oe(!1)}};return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add Delivered Items to Inventory"}),Be.map(($e,He)=>jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3 rounded-md",children:[jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx("strong",{children:$e.productName||$e.name})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Quantity"}),jsxRuntimeExports.jsx("input",{value:$e.quantity,disabled:!0,className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Distributor Price"}),jsxRuntimeExports.jsx("input",{value:$e.price,disabled:!0,className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Selling Price"}),jsxRuntimeExports.jsx("input",{type:"number",value:$e.sellingPrice,onChange:Qe=>ke(He,"sellingPrice",Qe.target.value),className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Brand"}),jsxRuntimeExports.jsx("input",{value:$e.brand,onChange:Qe=>ke(He,"brand",Qe.target.value),className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Category"}),jsxRuntimeExports.jsx("input",{value:$e.category,onChange:Qe=>ke(He,"category",Qe.target.value),className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Upload Image"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Qe=>Me(He,Qe.target.files[0])})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Unit"}),jsxRuntimeExports.jsx("input",{value:$e.unit,onChange:Qe=>ke(He,"unit",Qe.target.value),className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"SKU"}),jsxRuntimeExports.jsx("input",{value:$e.sku,onChange:Qe=>ke(He,"sku",Qe.target.value),className:"w-full border px-2 py-1 rounded"})]})]})]},He)),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-4",children:[jsxRuntimeExports.jsx("button",{onClick:Re,className:"bg-gray-400 text-white px-4 py-2 rounded",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Ue,disabled:Fe,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:Fe?"Adding...":"Add to Inventory"})]})]})},TrackOrderTab=()=>{const[Ce,Re]=reactExports.useState([]),[je,Be]=reactExports.useState(!0),[De,Fe]=reactExports.useState("All"),[Oe,ke]=reactExports.useState(null),[Me,Ue]=reactExports.useState(null),$e=getAuth(),He=getFirestore();reactExports.useEffect(()=>{(()=>{const Ke=$e.currentUser;if(!Ke)return;const Xe=query(collection(He,"businesses",Ke.uid,"sentOrders")),Ye=onSnapshot(Xe,Ze=>{const Je=Ze.docs.map(tr=>({id:tr.id,...tr.data()})).sort((tr,rr)=>rr.timestamp?.seconds-tr.timestamp?.seconds);Re(Je),Be(!1)});return()=>Ye()})()},[$e]);const Qe=De==="All"?Ce:Ce.filter(qe=>qe.status===De),We=["Requested","Accepted","Modified","Shipped","Delivered"];return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"mr-2 font-semibold",children:"Filter by Status:"}),jsxRuntimeExports.jsxs("select",{value:De,onChange:qe=>Fe(qe.target.value),className:"border px-2 py-1 rounded",children:[jsxRuntimeExports.jsx("option",{children:"All"}),jsxRuntimeExports.jsx("option",{children:"Accepted"}),jsxRuntimeExports.jsx("option",{children:"Rejected"}),jsxRuntimeExports.jsx("option",{children:"Pending"}),jsxRuntimeExports.jsx("option",{children:"Modified"}),jsxRuntimeExports.jsx("option",{children:"Delivered"})]})]}),je?jsxRuntimeExports.jsx("p",{children:"Loading orders..."}):Qe.length===0?jsxRuntimeExports.jsx("p",{children:"No orders found for this filter."}):jsxRuntimeExports.jsxs("table",{className:"w-full table-auto border-collapse border border-gray-300",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"border px-3 py-2",children:"Distributor"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2",children:"Order Date"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2",children:"Items"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2",children:"Delivery ETA"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2",children:"Progress"})]})}),jsxRuntimeExports.jsx("tbody",{children:Qe.map(qe=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{onClick:()=>ke(Ke=>Ke===qe.id?null:qe.id),className:"cursor-pointer hover:bg-gray-100",children:[jsxRuntimeExports.jsx("td",{className:"border px-3 py-2",children:qe.distributorName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2",children:qe.timestamp?.toDate().toLocaleString()||"N/A"}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2",children:qe.items?.length||0}),jsxRuntimeExports.jsxs("td",{className:"border px-3 py-2 font-medium",children:[qe.status,qe.status==="Rejected"&&qe.rejectionNote&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-red-500 mt-1",children:["Reason: ",qe.rejectionNote]})]}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2",children:qe.eta||"Not specified"}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2",children:qe.status==="Rejected"?jsxRuntimeExports.jsxs("div",{className:"flex gap-1 text-xs",children:[jsxRuntimeExports.jsx("span",{className:"text-green-600 font-semibold",children:"Requested"}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{className:"text-red-600 font-semibold",children:"Rejected"})]}):jsxRuntimeExports.jsx("div",{className:"flex gap-1 text-xs",children:We.map((Ke,Xe)=>{const Ye=We.indexOf(qe.status);return jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:Ye===Xe?"text-blue-600 font-semibold":Ye>Xe?"text-green-600 font-semibold":"text-gray-400",children:Ke}),Xe!==We.length-1&&jsxRuntimeExports.jsx("span",{children:""})]},Xe)})})})]}),Oe===qe.id&&jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"p-4 bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Order ID:"})," ",qe.id]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor Name:"})," ",qe.distributorName||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor Email:"})," ",qe.distributorEmail||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor Phone:"})," ",qe.distributorPhone||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor Address:"})," ",qe.distributorAddress||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Payment Mode:"})," ",qe.paymentMode||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," ",qe.note||""]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Status:"})," ",qe.status]}),qe.statusTimestamps&&jsxRuntimeExports.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-700",children:[qe.statusTimestamps.requestedAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Requested At:"})," ",new Date(qe.statusTimestamps.requestedAt.seconds*1e3).toLocaleString()]}),qe.statusTimestamps.acceptedAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Accepted At:"})," ",new Date(qe.statusTimestamps.acceptedAt.seconds*1e3).toLocaleString()]}),qe.statusTimestamps.modifiedAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Modified At:"})," ",new Date(qe.statusTimestamps.modifiedAt.seconds*1e3).toLocaleString()]}),qe.statusTimestamps.shippedAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Shipped At:"})," ",new Date(qe.statusTimestamps.shippedAt.seconds*1e3).toLocaleString()]}),qe.statusTimestamps.deliveredAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivered At:"})," ",new Date(qe.statusTimestamps.deliveredAt.seconds*1e3).toLocaleString()]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("strong",{children:"Products:"}),jsxRuntimeExports.jsxs("table",{className:"w-full mt-2 text-sm border border-gray-300",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border px-3 py-1 text-left",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-1 text-left",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-1 text-left",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-1 text-left",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-1 text-left",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-1 text-left",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-1 text-left",children:"Subtotal"})]})}),jsxRuntimeExports.jsx("tbody",{children:(qe.items||[]).map((Ke,Xe)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border px-3 py-1",children:Ke.name||Ke.productName||""}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-1",children:Ke.brand||""}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-1",children:Ke.category||""}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-1",children:Ke.quantity}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-1",children:Ke.unit}),jsxRuntimeExports.jsxs("td",{className:"border px-3 py-1",children:["",Ke.price!==void 0?parseFloat(Ke.price).toFixed(2):Ke.sellingPrice!==void 0?parseFloat(Ke.sellingPrice).toFixed(2):"0.00"]}),jsxRuntimeExports.jsxs("td",{className:"border px-3 py-1",children:["",((Ke.price!==void 0?parseFloat(Ke.price):Ke.sellingPrice!==void 0?parseFloat(Ke.sellingPrice):0)*(Ke.quantity||0)).toFixed(2)]})]},Xe))})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 font-semibold",children:["Total Price: ",(qe.items||[]).reduce((Ke,Xe)=>{const Ye=Xe.price!==void 0?parseFloat(Xe.price):Xe.sellingPrice!==void 0?parseFloat(Xe.sellingPrice):0,Ze=Xe.quantity||0;return Ke+Ye*Ze},0).toFixed(2)]}),qe.status==="Delivered"&&(qe.inventorySynced?jsxRuntimeExports.jsx("button",{className:"mt-3 px-4 py-2 bg-gray-400 text-white rounded",disabled:!0,children:" Added to Inventory"}):jsxRuntimeExports.jsx("button",{className:"mt-3 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",onClick:()=>Ue(qe),children:"Add Items to Inventory"}))]})})})]},qe.id))})]}),Me&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-md w-11/12 max-w-3xl p-4 overflow-y-auto max-h-[90vh]",children:jsxRuntimeExports.jsx(AddDeliveredItemsToInventory,{order:Me,onClose:()=>Ue(null),onSuccess:()=>{y$2.success("Items successfully added to inventory!"),Ue(null)}})})})]})},RetailerOrderHistory=()=>{const[Ce,Re]=reactExports.useState("status");return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Order History"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Re("status"),className:`px-4 py-2 rounded ${Ce==="status"?"bg-blue-600 text-white":"bg-gray-200"}`,children:" Order Status"}),jsxRuntimeExports.jsx("button",{onClick:()=>Re("track"),className:`px-4 py-2 rounded ${Ce==="track"?"bg-blue-600 text-white":"bg-gray-200"}`,children:" Track Orders"})]}),jsxRuntimeExports.jsx("div",{children:Ce==="status"?jsxRuntimeExports.jsx(OrderStatusTab,{}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(TrackOrderTab,{}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm mt-4 ml-1",children:"Track order status across: Requested  Accepted/Rejected/Modified  Shipped  Delivered"})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round$3(Ce){return Ce+.5|0}const lim=(Ce,Re,je)=>Math.max(Math.min(Ce,je),Re);function p2b(Ce){return lim(round$3(Ce*2.55),0,255)}function n2b(Ce){return lim(round$3(Ce*255),0,255)}function b2n(Ce){return lim(round$3(Ce/2.55)/100,0,1)}function n2p(Ce){return lim(round$3(Ce*100),0,100)}const map$1$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex$1=[..."0123456789ABCDEF"],h1=Ce=>hex$1[Ce&15],h2=Ce=>hex$1[(Ce&240)>>4]+hex$1[Ce&15],eq$1=Ce=>(Ce&240)>>4===(Ce&15),isShort=Ce=>eq$1(Ce.r)&&eq$1(Ce.g)&&eq$1(Ce.b)&&eq$1(Ce.a);function hexParse(Ce){var Re=Ce.length,je;return Ce[0]==="#"&&(Re===4||Re===5?je={r:255&map$1$1[Ce[1]]*17,g:255&map$1$1[Ce[2]]*17,b:255&map$1$1[Ce[3]]*17,a:Re===5?map$1$1[Ce[4]]*17:255}:(Re===7||Re===9)&&(je={r:map$1$1[Ce[1]]<<4|map$1$1[Ce[2]],g:map$1$1[Ce[3]]<<4|map$1$1[Ce[4]],b:map$1$1[Ce[5]]<<4|map$1$1[Ce[6]],a:Re===9?map$1$1[Ce[7]]<<4|map$1$1[Ce[8]]:255})),je}const alpha$2=(Ce,Re)=>Ce<255?Re(Ce):"";function hexString(Ce){var Re=isShort(Ce)?h1:h2;return Ce?"#"+Re(Ce.r)+Re(Ce.g)+Re(Ce.b)+alpha$2(Ce.a,Re):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(Ce,Re,je){const Be=Re*Math.min(je,1-je),De=(Fe,Oe=(Fe+Ce/30)%12)=>je-Be*Math.max(Math.min(Oe-3,9-Oe,1),-1);return[De(0),De(8),De(4)]}function hsv2rgbn(Ce,Re,je){const Be=(De,Fe=(De+Ce/60)%6)=>je-je*Re*Math.max(Math.min(Fe,4-Fe,1),0);return[Be(5),Be(3),Be(1)]}function hwb2rgbn(Ce,Re,je){const Be=hsl2rgbn(Ce,1,.5);let De;for(Re+je>1&&(De=1/(Re+je),Re*=De,je*=De),De=0;De<3;De++)Be[De]*=1-Re-je,Be[De]+=Re;return Be}function hueValue(Ce,Re,je,Be,De){return Ce===De?(Re-je)/Be+(Re<je?6:0):Re===De?(je-Ce)/Be+2:(Ce-Re)/Be+4}function rgb2hsl(Ce){const je=Ce.r/255,Be=Ce.g/255,De=Ce.b/255,Fe=Math.max(je,Be,De),Oe=Math.min(je,Be,De),ke=(Fe+Oe)/2;let Me,Ue,$e;return Fe!==Oe&&($e=Fe-Oe,Ue=ke>.5?$e/(2-Fe-Oe):$e/(Fe+Oe),Me=hueValue(je,Be,De,$e,Fe),Me=Me*60+.5),[Me|0,Ue||0,ke]}function calln(Ce,Re,je,Be){return(Array.isArray(Re)?Ce(Re[0],Re[1],Re[2]):Ce(Re,je,Be)).map(n2b)}function hsl2rgb$1(Ce,Re,je){return calln(hsl2rgbn,Ce,Re,je)}function hwb2rgb(Ce,Re,je){return calln(hwb2rgbn,Ce,Re,je)}function hsv2rgb(Ce,Re,je){return calln(hsv2rgbn,Ce,Re,je)}function hue(Ce){return(Ce%360+360)%360}function hueParse(Ce){const Re=HUE_RE.exec(Ce);let je=255,Be;if(!Re)return;Re[5]!==Be&&(je=Re[6]?p2b(+Re[5]):n2b(+Re[5]));const De=hue(+Re[2]),Fe=+Re[3]/100,Oe=+Re[4]/100;return Re[1]==="hwb"?Be=hwb2rgb(De,Fe,Oe):Re[1]==="hsv"?Be=hsv2rgb(De,Fe,Oe):Be=hsl2rgb$1(De,Fe,Oe),{r:Be[0],g:Be[1],b:Be[2],a:je}}function rotate(Ce,Re){var je=rgb2hsl(Ce);je[0]=hue(je[0]+Re),je=hsl2rgb$1(je),Ce.r=je[0],Ce.g=je[1],Ce.b=je[2]}function hslString(Ce){if(!Ce)return;const Re=rgb2hsl(Ce),je=Re[0],Be=n2p(Re[1]),De=n2p(Re[2]);return Ce.a<255?`hsla(${je}, ${Be}%, ${De}%, ${b2n(Ce.a)})`:`hsl(${je}, ${Be}%, ${De}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const Ce={},Re=Object.keys(names$1),je=Object.keys(map$2);let Be,De,Fe,Oe,ke;for(Be=0;Be<Re.length;Be++){for(Oe=ke=Re[Be],De=0;De<je.length;De++)Fe=je[De],ke=ke.replace(Fe,map$2[Fe]);Fe=parseInt(names$1[Oe],16),Ce[ke]=[Fe>>16&255,Fe>>8&255,Fe&255]}return Ce}let names;function nameParse(Ce){names||(names=unpack(),names.transparent=[0,0,0,0]);const Re=names[Ce.toLowerCase()];return Re&&{r:Re[0],g:Re[1],b:Re[2],a:Re.length===4?Re[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(Ce){const Re=RGB_RE.exec(Ce);let je=255,Be,De,Fe;if(Re){if(Re[7]!==Be){const Oe=+Re[7];je=Re[8]?p2b(Oe):lim(Oe*255,0,255)}return Be=+Re[1],De=+Re[3],Fe=+Re[5],Be=255&(Re[2]?p2b(Be):lim(Be,0,255)),De=255&(Re[4]?p2b(De):lim(De,0,255)),Fe=255&(Re[6]?p2b(Fe):lim(Fe,0,255)),{r:Be,g:De,b:Fe,a:je}}}function rgbString(Ce){return Ce&&(Ce.a<255?`rgba(${Ce.r}, ${Ce.g}, ${Ce.b}, ${b2n(Ce.a)})`:`rgb(${Ce.r}, ${Ce.g}, ${Ce.b})`)}const to$1=Ce=>Ce<=.0031308?Ce*12.92:Math.pow(Ce,1/2.4)*1.055-.055,from$2=Ce=>Ce<=.04045?Ce/12.92:Math.pow((Ce+.055)/1.055,2.4);function interpolate$3(Ce,Re,je){const Be=from$2(b2n(Ce.r)),De=from$2(b2n(Ce.g)),Fe=from$2(b2n(Ce.b));return{r:n2b(to$1(Be+je*(from$2(b2n(Re.r))-Be))),g:n2b(to$1(De+je*(from$2(b2n(Re.g))-De))),b:n2b(to$1(Fe+je*(from$2(b2n(Re.b))-Fe))),a:Ce.a+je*(Re.a-Ce.a)}}function modHSL(Ce,Re,je){if(Ce){let Be=rgb2hsl(Ce);Be[Re]=Math.max(0,Math.min(Be[Re]+Be[Re]*je,Re===0?360:1)),Be=hsl2rgb$1(Be),Ce.r=Be[0],Ce.g=Be[1],Ce.b=Be[2]}}function clone$2(Ce,Re){return Ce&&Object.assign(Re||{},Ce)}function fromObject(Ce){var Re={r:0,g:0,b:0,a:255};return Array.isArray(Ce)?Ce.length>=3&&(Re={r:Ce[0],g:Ce[1],b:Ce[2],a:255},Ce.length>3&&(Re.a=n2b(Ce[3]))):(Re=clone$2(Ce,{r:0,g:0,b:0,a:1}),Re.a=n2b(Re.a)),Re}function functionParse(Ce){return Ce.charAt(0)==="r"?rgbParse(Ce):hueParse(Ce)}let Color$1=class Np{constructor(Re){if(Re instanceof Np)return Re;const je=typeof Re;let Be;je==="object"?Be=fromObject(Re):je==="string"&&(Be=hexParse(Re)||nameParse(Re)||functionParse(Re)),this._rgb=Be,this._valid=!!Be}get valid(){return this._valid}get rgb(){var Re=clone$2(this._rgb);return Re&&(Re.a=b2n(Re.a)),Re}set rgb(Re){this._rgb=fromObject(Re)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(Re,je){if(Re){const Be=this.rgb,De=Re.rgb;let Fe;const Oe=je===Fe?.5:je,ke=2*Oe-1,Me=Be.a-De.a,Ue=((ke*Me===-1?ke:(ke+Me)/(1+ke*Me))+1)/2;Fe=1-Ue,Be.r=255&Ue*Be.r+Fe*De.r+.5,Be.g=255&Ue*Be.g+Fe*De.g+.5,Be.b=255&Ue*Be.b+Fe*De.b+.5,Be.a=Oe*Be.a+(1-Oe)*De.a,this.rgb=Be}return this}interpolate(Re,je){return Re&&(this._rgb=interpolate$3(this._rgb,Re._rgb,je)),this}clone(){return new Np(this.rgb)}alpha(Re){return this._rgb.a=n2b(Re),this}clearer(Re){const je=this._rgb;return je.a*=1-Re,this}greyscale(){const Re=this._rgb,je=round$3(Re.r*.3+Re.g*.59+Re.b*.11);return Re.r=Re.g=Re.b=je,this}opaquer(Re){const je=this._rgb;return je.a*=1+Re,this}negate(){const Re=this._rgb;return Re.r=255-Re.r,Re.g=255-Re.g,Re.b=255-Re.b,this}lighten(Re){return modHSL(this._rgb,2,Re),this}darken(Re){return modHSL(this._rgb,2,-Re),this}saturate(Re){return modHSL(this._rgb,1,Re),this}desaturate(Re){return modHSL(this._rgb,1,-Re),this}rotate(Re){return rotate(this._rgb,Re),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function noop$a(){}const uid=(()=>{let Ce=0;return()=>Ce++})();function isNullOrUndef(Ce){return Ce==null}function isArray$1(Ce){if(Array.isArray&&Array.isArray(Ce))return!0;const Re=Object.prototype.toString.call(Ce);return Re.slice(0,7)==="[object"&&Re.slice(-6)==="Array]"}function isObject$1(Ce){return Ce!==null&&Object.prototype.toString.call(Ce)==="[object Object]"}function isNumberFinite(Ce){return(typeof Ce=="number"||Ce instanceof Number)&&isFinite(+Ce)}function finiteOrDefault(Ce,Re){return isNumberFinite(Ce)?Ce:Re}function valueOrDefault(Ce,Re){return typeof Ce>"u"?Re:Ce}const toPercentage=(Ce,Re)=>typeof Ce=="string"&&Ce.endsWith("%")?parseFloat(Ce)/100:+Ce/Re,toDimension=(Ce,Re)=>typeof Ce=="string"&&Ce.endsWith("%")?parseFloat(Ce)/100*Re:+Ce;function callback(Ce,Re,je){if(Ce&&typeof Ce.call=="function")return Ce.apply(je,Re)}function each$1(Ce,Re,je,Be){let De,Fe,Oe;if(isArray$1(Ce))for(Fe=Ce.length,De=0;De<Fe;De++)Re.call(je,Ce[De],De);else if(isObject$1(Ce))for(Oe=Object.keys(Ce),Fe=Oe.length,De=0;De<Fe;De++)Re.call(je,Ce[Oe[De]],Oe[De])}function _elementsEqual(Ce,Re){let je,Be,De,Fe;if(!Ce||!Re||Ce.length!==Re.length)return!1;for(je=0,Be=Ce.length;je<Be;++je)if(De=Ce[je],Fe=Re[je],De.datasetIndex!==Fe.datasetIndex||De.index!==Fe.index)return!1;return!0}function clone$1(Ce){if(isArray$1(Ce))return Ce.map(clone$1);if(isObject$1(Ce)){const Re=Object.create(null),je=Object.keys(Ce),Be=je.length;let De=0;for(;De<Be;++De)Re[je[De]]=clone$1(Ce[je[De]]);return Re}return Ce}function isValidKey(Ce){return["__proto__","prototype","constructor"].indexOf(Ce)===-1}function _merger(Ce,Re,je,Be){if(!isValidKey(Ce))return;const De=Re[Ce],Fe=je[Ce];isObject$1(De)&&isObject$1(Fe)?merge$1(De,Fe,Be):Re[Ce]=clone$1(Fe)}function merge$1(Ce,Re,je){const Be=isArray$1(Re)?Re:[Re],De=Be.length;if(!isObject$1(Ce))return Ce;je=je||{};const Fe=je.merger||_merger;let Oe;for(let ke=0;ke<De;++ke){if(Oe=Be[ke],!isObject$1(Oe))continue;const Me=Object.keys(Oe);for(let Ue=0,$e=Me.length;Ue<$e;++Ue)Fe(Me[Ue],Ce,Oe,je)}return Ce}function mergeIf(Ce,Re){return merge$1(Ce,Re,{merger:_mergerIf})}function _mergerIf(Ce,Re,je){if(!isValidKey(Ce))return;const Be=Re[Ce],De=je[Ce];isObject$1(Be)&&isObject$1(De)?mergeIf(Be,De):Object.prototype.hasOwnProperty.call(Re,Ce)||(Re[Ce]=clone$1(De))}const keyResolvers={"":Ce=>Ce,x:Ce=>Ce.x,y:Ce=>Ce.y};function _splitKey(Ce){const Re=Ce.split("."),je=[];let Be="";for(const De of Re)Be+=De,Be.endsWith("\\")?Be=Be.slice(0,-1)+".":(je.push(Be),Be="");return je}function _getKeyResolver(Ce){const Re=_splitKey(Ce);return je=>{for(const Be of Re){if(Be==="")break;je=je&&je[Be]}return je}}function resolveObjectKey(Ce,Re){return(keyResolvers[Re]||(keyResolvers[Re]=_getKeyResolver(Re)))(Ce)}function _capitalize(Ce){return Ce.charAt(0).toUpperCase()+Ce.slice(1)}const defined$1=Ce=>typeof Ce<"u",isFunction=Ce=>typeof Ce=="function",setsEqual=(Ce,Re)=>{if(Ce.size!==Re.size)return!1;for(const je of Ce)if(!Re.has(je))return!1;return!0};function _isClickEvent(Ce){return Ce.type==="mouseup"||Ce.type==="click"||Ce.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign$1=Math.sign;function almostEquals(Ce,Re,je){return Math.abs(Ce-Re)<je}function niceNum(Ce){const Re=Math.round(Ce);Ce=almostEquals(Ce,Re,Ce/1e3)?Re:Ce;const je=Math.pow(10,Math.floor(log10(Ce))),Be=Ce/je;return(Be<=1?1:Be<=2?2:Be<=5?5:10)*je}function _factorize(Ce){const Re=[],je=Math.sqrt(Ce);let Be;for(Be=1;Be<je;Be++)Ce%Be===0&&(Re.push(Be),Re.push(Ce/Be));return je===(je|0)&&Re.push(je),Re.sort((De,Fe)=>De-Fe).pop(),Re}function isNonPrimitive(Ce){return typeof Ce=="symbol"||typeof Ce=="object"&&Ce!==null&&!(Symbol.toPrimitive in Ce||"toString"in Ce||"valueOf"in Ce)}function isNumber$1(Ce){return!isNonPrimitive(Ce)&&!isNaN(parseFloat(Ce))&&isFinite(Ce)}function almostWhole(Ce,Re){const je=Math.round(Ce);return je-Re<=Ce&&je+Re>=Ce}function _setMinAndMaxByKey(Ce,Re,je){let Be,De,Fe;for(Be=0,De=Ce.length;Be<De;Be++)Fe=Ce[Be][je],isNaN(Fe)||(Re.min=Math.min(Re.min,Fe),Re.max=Math.max(Re.max,Fe))}function toRadians(Ce){return Ce*(PI/180)}function toDegrees(Ce){return Ce*(180/PI)}function _decimalPlaces(Ce){if(!isNumberFinite(Ce))return;let Re=1,je=0;for(;Math.round(Ce*Re)/Re!==Ce;)Re*=10,je++;return je}function getAngleFromPoint(Ce,Re){const je=Re.x-Ce.x,Be=Re.y-Ce.y,De=Math.sqrt(je*je+Be*Be);let Fe=Math.atan2(Be,je);return Fe<-.5*PI&&(Fe+=TAU),{angle:Fe,distance:De}}function distanceBetweenPoints$1(Ce,Re){return Math.sqrt(Math.pow(Re.x-Ce.x,2)+Math.pow(Re.y-Ce.y,2))}function _angleDiff(Ce,Re){return(Ce-Re+PITAU)%TAU-PI}function _normalizeAngle(Ce){return(Ce%TAU+TAU)%TAU}function _angleBetween(Ce,Re,je,Be){const De=_normalizeAngle(Ce),Fe=_normalizeAngle(Re),Oe=_normalizeAngle(je),ke=_normalizeAngle(Fe-De),Me=_normalizeAngle(Oe-De),Ue=_normalizeAngle(De-Fe),$e=_normalizeAngle(De-Oe);return De===Fe||De===Oe||Be&&Fe===Oe||ke>Me&&Ue<$e}function _limitValue(Ce,Re,je){return Math.max(Re,Math.min(je,Ce))}function _int16Range(Ce){return _limitValue(Ce,-32768,32767)}function _isBetween(Ce,Re,je,Be=1e-6){return Ce>=Math.min(Re,je)-Be&&Ce<=Math.max(Re,je)+Be}function _lookup(Ce,Re,je){je=je||(Oe=>Ce[Oe]<Re);let Be=Ce.length-1,De=0,Fe;for(;Be-De>1;)Fe=De+Be>>1,je(Fe)?De=Fe:Be=Fe;return{lo:De,hi:Be}}const _lookupByKey=(Ce,Re,je,Be)=>_lookup(Ce,je,Be?De=>{const Fe=Ce[De][Re];return Fe<je||Fe===je&&Ce[De+1][Re]===je}:De=>Ce[De][Re]<je),_rlookupByKey=(Ce,Re,je)=>_lookup(Ce,je,Be=>Ce[Be][Re]>=je);function _filterBetween(Ce,Re,je){let Be=0,De=Ce.length;for(;Be<De&&Ce[Be]<Re;)Be++;for(;De>Be&&Ce[De-1]>je;)De--;return Be>0||De<Ce.length?Ce.slice(Be,De):Ce}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(Ce,Re){if(Ce._chartjs){Ce._chartjs.listeners.push(Re);return}Object.defineProperty(Ce,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[Re]}}),arrayEvents.forEach(je=>{const Be="_onData"+_capitalize(je),De=Ce[je];Object.defineProperty(Ce,je,{configurable:!0,enumerable:!1,value(...Fe){const Oe=De.apply(this,Fe);return Ce._chartjs.listeners.forEach(ke=>{typeof ke[Be]=="function"&&ke[Be](...Fe)}),Oe}})})}function unlistenArrayEvents(Ce,Re){const je=Ce._chartjs;if(!je)return;const Be=je.listeners,De=Be.indexOf(Re);De!==-1&&Be.splice(De,1),!(Be.length>0)&&(arrayEvents.forEach(Fe=>{delete Ce[Fe]}),delete Ce._chartjs)}function _arrayUnique(Ce){const Re=new Set(Ce);return Re.size===Ce.length?Ce:Array.from(Re)}const requestAnimFrame=(function(){return typeof window>"u"?function(Ce){return Ce()}:window.requestAnimationFrame})();function throttled(Ce,Re){let je=[],Be=!1;return function(...De){je=De,Be||(Be=!0,requestAnimFrame.call(window,()=>{Be=!1,Ce.apply(Re,je)}))}}function debounce$3(Ce,Re){let je;return function(...Be){return Re?(clearTimeout(je),je=setTimeout(Ce,Re,Be)):Ce.apply(this,Be),Re}}const _toLeftRightCenter=Ce=>Ce==="start"?"left":Ce==="end"?"right":"center",_alignStartEnd=(Ce,Re,je)=>Ce==="start"?Re:Ce==="end"?je:(Re+je)/2,_textX=(Ce,Re,je,Be)=>Ce===(Be?"left":"right")?je:Ce==="center"?(Re+je)/2:Re,atEdge=Ce=>Ce===0||Ce===1,elasticIn=(Ce,Re,je)=>-(Math.pow(2,10*(Ce-=1))*Math.sin((Ce-Re)*TAU/je)),elasticOut=(Ce,Re,je)=>Math.pow(2,-10*Ce)*Math.sin((Ce-Re)*TAU/je)+1,effects={linear:Ce=>Ce,easeInQuad:Ce=>Ce*Ce,easeOutQuad:Ce=>-Ce*(Ce-2),easeInOutQuad:Ce=>(Ce/=.5)<1?.5*Ce*Ce:-.5*(--Ce*(Ce-2)-1),easeInCubic:Ce=>Ce*Ce*Ce,easeOutCubic:Ce=>(Ce-=1)*Ce*Ce+1,easeInOutCubic:Ce=>(Ce/=.5)<1?.5*Ce*Ce*Ce:.5*((Ce-=2)*Ce*Ce+2),easeInQuart:Ce=>Ce*Ce*Ce*Ce,easeOutQuart:Ce=>-((Ce-=1)*Ce*Ce*Ce-1),easeInOutQuart:Ce=>(Ce/=.5)<1?.5*Ce*Ce*Ce*Ce:-.5*((Ce-=2)*Ce*Ce*Ce-2),easeInQuint:Ce=>Ce*Ce*Ce*Ce*Ce,easeOutQuint:Ce=>(Ce-=1)*Ce*Ce*Ce*Ce+1,easeInOutQuint:Ce=>(Ce/=.5)<1?.5*Ce*Ce*Ce*Ce*Ce:.5*((Ce-=2)*Ce*Ce*Ce*Ce+2),easeInSine:Ce=>-Math.cos(Ce*HALF_PI)+1,easeOutSine:Ce=>Math.sin(Ce*HALF_PI),easeInOutSine:Ce=>-.5*(Math.cos(PI*Ce)-1),easeInExpo:Ce=>Ce===0?0:Math.pow(2,10*(Ce-1)),easeOutExpo:Ce=>Ce===1?1:-Math.pow(2,-10*Ce)+1,easeInOutExpo:Ce=>atEdge(Ce)?Ce:Ce<.5?.5*Math.pow(2,10*(Ce*2-1)):.5*(-Math.pow(2,-10*(Ce*2-1))+2),easeInCirc:Ce=>Ce>=1?Ce:-(Math.sqrt(1-Ce*Ce)-1),easeOutCirc:Ce=>Math.sqrt(1-(Ce-=1)*Ce),easeInOutCirc:Ce=>(Ce/=.5)<1?-.5*(Math.sqrt(1-Ce*Ce)-1):.5*(Math.sqrt(1-(Ce-=2)*Ce)+1),easeInElastic:Ce=>atEdge(Ce)?Ce:elasticIn(Ce,.075,.3),easeOutElastic:Ce=>atEdge(Ce)?Ce:elasticOut(Ce,.075,.3),easeInOutElastic(Ce){return atEdge(Ce)?Ce:Ce<.5?.5*elasticIn(Ce*2,.1125,.45):.5+.5*elasticOut(Ce*2-1,.1125,.45)},easeInBack(Ce){return Ce*Ce*((1.70158+1)*Ce-1.70158)},easeOutBack(Ce){return(Ce-=1)*Ce*((1.70158+1)*Ce+1.70158)+1},easeInOutBack(Ce){let Re=1.70158;return(Ce/=.5)<1?.5*(Ce*Ce*(((Re*=1.525)+1)*Ce-Re)):.5*((Ce-=2)*Ce*(((Re*=1.525)+1)*Ce+Re)+2)},easeInBounce:Ce=>1-effects.easeOutBounce(1-Ce),easeOutBounce(Ce){return Ce<1/2.75?7.5625*Ce*Ce:Ce<2/2.75?7.5625*(Ce-=1.5/2.75)*Ce+.75:Ce<2.5/2.75?7.5625*(Ce-=2.25/2.75)*Ce+.9375:7.5625*(Ce-=2.625/2.75)*Ce+.984375},easeInOutBounce:Ce=>Ce<.5?effects.easeInBounce(Ce*2)*.5:effects.easeOutBounce(Ce*2-1)*.5+.5};function isPatternOrGradient(Ce){if(Ce&&typeof Ce=="object"){const Re=Ce.toString();return Re==="[object CanvasPattern]"||Re==="[object CanvasGradient]"}return!1}function color$2(Ce){return isPatternOrGradient(Ce)?Ce:new Color$1(Ce)}function getHoverColor(Ce){return isPatternOrGradient(Ce)?Ce:new Color$1(Ce).saturate(.5).darken(.1).hexString()}const numbers$1=["x","y","borderWidth","radius","tension"],colors$1=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(Ce){Ce.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),Ce.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:Re=>Re!=="onProgress"&&Re!=="onComplete"&&Re!=="fn"}),Ce.set("animations",{colors:{type:"color",properties:colors$1},numbers:{type:"number",properties:numbers$1}}),Ce.describe("animations",{_fallback:"animation"}),Ce.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:Re=>Re|0}}}})}function applyLayoutsDefaults(Ce){Ce.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(Ce,Re){Re=Re||{};const je=Ce+JSON.stringify(Re);let Be=intlCache.get(je);return Be||(Be=new Intl.NumberFormat(Ce,Re),intlCache.set(je,Be)),Be}function formatNumber(Ce,Re,je){return getNumberFormat(Re,je).format(Ce)}const formatters$1={values(Ce){return isArray$1(Ce)?Ce:""+Ce},numeric(Ce,Re,je){if(Ce===0)return"0";const Be=this.chart.options.locale;let De,Fe=Ce;if(je.length>1){const Ue=Math.max(Math.abs(je[0].value),Math.abs(je[je.length-1].value));(Ue<1e-4||Ue>1e15)&&(De="scientific"),Fe=calculateDelta(Ce,je)}const Oe=log10(Math.abs(Fe)),ke=isNaN(Oe)?1:Math.max(Math.min(-1*Math.floor(Oe),20),0),Me={notation:De,minimumFractionDigits:ke,maximumFractionDigits:ke};return Object.assign(Me,this.options.ticks.format),formatNumber(Ce,Be,Me)}};function calculateDelta(Ce,Re){let je=Re.length>3?Re[2].value-Re[1].value:Re[1].value-Re[0].value;return Math.abs(je)>=1&&Ce!==Math.floor(Ce)&&(je=Ce-Math.floor(Ce)),je}var Ticks={formatters:formatters$1};function applyScaleDefaults(Ce){Ce.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(Re,je)=>je.lineWidth,tickColor:(Re,je)=>je.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Ce.route("scale.ticks","color","","color"),Ce.route("scale.grid","color","","borderColor"),Ce.route("scale.border","color","","borderColor"),Ce.route("scale.title","color","","color"),Ce.describe("scale",{_fallback:!1,_scriptable:Re=>!Re.startsWith("before")&&!Re.startsWith("after")&&Re!=="callback"&&Re!=="parser",_indexable:Re=>Re!=="borderDash"&&Re!=="tickBorderDash"&&Re!=="dash"}),Ce.describe("scales",{_fallback:"scale"}),Ce.describe("scale.ticks",{_scriptable:Re=>Re!=="backdropPadding"&&Re!=="callback",_indexable:Re=>Re!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(Ce,Re){if(!Re)return Ce;const je=Re.split(".");for(let Be=0,De=je.length;Be<De;++Be){const Fe=je[Be];Ce=Ce[Fe]||(Ce[Fe]=Object.create(null))}return Ce}function set$1(Ce,Re,je){return typeof Re=="string"?merge$1(getScope$1(Ce,Re),je):merge$1(getScope$1(Ce,""),Re)}class Defaults{constructor(Re,je){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=Be=>Be.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(Be,De)=>getHoverColor(De.backgroundColor),this.hoverBorderColor=(Be,De)=>getHoverColor(De.borderColor),this.hoverColor=(Be,De)=>getHoverColor(De.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(Re),this.apply(je)}set(Re,je){return set$1(this,Re,je)}get(Re){return getScope$1(this,Re)}describe(Re,je){return set$1(descriptors,Re,je)}override(Re,je){return set$1(overrides,Re,je)}route(Re,je,Be,De){const Fe=getScope$1(this,Re),Oe=getScope$1(this,Be),ke="_"+je;Object.defineProperties(Fe,{[ke]:{value:Fe[je],writable:!0},[je]:{enumerable:!0,get(){const Me=this[ke],Ue=Oe[De];return isObject$1(Me)?Object.assign({},Ue,Me):valueOrDefault(Me,Ue)},set(Me){this[ke]=Me}}})}apply(Re){Re.forEach(je=>je(this))}}var defaults$1=new Defaults({_scriptable:Ce=>!Ce.startsWith("on"),_indexable:Ce=>Ce!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(Ce){return!Ce||isNullOrUndef(Ce.size)||isNullOrUndef(Ce.family)?null:(Ce.style?Ce.style+" ":"")+(Ce.weight?Ce.weight+" ":"")+Ce.size+"px "+Ce.family}function _measureText(Ce,Re,je,Be,De){let Fe=Re[De];return Fe||(Fe=Re[De]=Ce.measureText(De).width,je.push(De)),Fe>Be&&(Be=Fe),Be}function _alignPixel(Ce,Re,je){const Be=Ce.currentDevicePixelRatio,De=je!==0?Math.max(je/2,.5):0;return Math.round((Re-De)*Be)/Be+De}function clearCanvas(Ce,Re){!Re&&!Ce||(Re=Re||Ce.getContext("2d"),Re.save(),Re.resetTransform(),Re.clearRect(0,0,Ce.width,Ce.height),Re.restore())}function drawPoint(Ce,Re,je,Be){drawPointLegend(Ce,Re,je,Be,null)}function drawPointLegend(Ce,Re,je,Be,De){let Fe,Oe,ke,Me,Ue,$e,He,Qe;const We=Re.pointStyle,qe=Re.rotation,Ke=Re.radius;let Xe=(qe||0)*RAD_PER_DEG;if(We&&typeof We=="object"&&(Fe=We.toString(),Fe==="[object HTMLImageElement]"||Fe==="[object HTMLCanvasElement]")){Ce.save(),Ce.translate(je,Be),Ce.rotate(Xe),Ce.drawImage(We,-We.width/2,-We.height/2,We.width,We.height),Ce.restore();return}if(!(isNaN(Ke)||Ke<=0)){switch(Ce.beginPath(),We){default:De?Ce.ellipse(je,Be,De/2,Ke,0,0,TAU):Ce.arc(je,Be,Ke,0,TAU),Ce.closePath();break;case"triangle":$e=De?De/2:Ke,Ce.moveTo(je+Math.sin(Xe)*$e,Be-Math.cos(Xe)*Ke),Xe+=TWO_THIRDS_PI,Ce.lineTo(je+Math.sin(Xe)*$e,Be-Math.cos(Xe)*Ke),Xe+=TWO_THIRDS_PI,Ce.lineTo(je+Math.sin(Xe)*$e,Be-Math.cos(Xe)*Ke),Ce.closePath();break;case"rectRounded":Ue=Ke*.516,Me=Ke-Ue,Oe=Math.cos(Xe+QUARTER_PI)*Me,He=Math.cos(Xe+QUARTER_PI)*(De?De/2-Ue:Me),ke=Math.sin(Xe+QUARTER_PI)*Me,Qe=Math.sin(Xe+QUARTER_PI)*(De?De/2-Ue:Me),Ce.arc(je-He,Be-ke,Ue,Xe-PI,Xe-HALF_PI),Ce.arc(je+Qe,Be-Oe,Ue,Xe-HALF_PI,Xe),Ce.arc(je+He,Be+ke,Ue,Xe,Xe+HALF_PI),Ce.arc(je-Qe,Be+Oe,Ue,Xe+HALF_PI,Xe+PI),Ce.closePath();break;case"rect":if(!qe){Me=Math.SQRT1_2*Ke,$e=De?De/2:Me,Ce.rect(je-$e,Be-Me,2*$e,2*Me);break}Xe+=QUARTER_PI;case"rectRot":He=Math.cos(Xe)*(De?De/2:Ke),Oe=Math.cos(Xe)*Ke,ke=Math.sin(Xe)*Ke,Qe=Math.sin(Xe)*(De?De/2:Ke),Ce.moveTo(je-He,Be-ke),Ce.lineTo(je+Qe,Be-Oe),Ce.lineTo(je+He,Be+ke),Ce.lineTo(je-Qe,Be+Oe),Ce.closePath();break;case"crossRot":Xe+=QUARTER_PI;case"cross":He=Math.cos(Xe)*(De?De/2:Ke),Oe=Math.cos(Xe)*Ke,ke=Math.sin(Xe)*Ke,Qe=Math.sin(Xe)*(De?De/2:Ke),Ce.moveTo(je-He,Be-ke),Ce.lineTo(je+He,Be+ke),Ce.moveTo(je+Qe,Be-Oe),Ce.lineTo(je-Qe,Be+Oe);break;case"star":He=Math.cos(Xe)*(De?De/2:Ke),Oe=Math.cos(Xe)*Ke,ke=Math.sin(Xe)*Ke,Qe=Math.sin(Xe)*(De?De/2:Ke),Ce.moveTo(je-He,Be-ke),Ce.lineTo(je+He,Be+ke),Ce.moveTo(je+Qe,Be-Oe),Ce.lineTo(je-Qe,Be+Oe),Xe+=QUARTER_PI,He=Math.cos(Xe)*(De?De/2:Ke),Oe=Math.cos(Xe)*Ke,ke=Math.sin(Xe)*Ke,Qe=Math.sin(Xe)*(De?De/2:Ke),Ce.moveTo(je-He,Be-ke),Ce.lineTo(je+He,Be+ke),Ce.moveTo(je+Qe,Be-Oe),Ce.lineTo(je-Qe,Be+Oe);break;case"line":Oe=De?De/2:Math.cos(Xe)*Ke,ke=Math.sin(Xe)*Ke,Ce.moveTo(je-Oe,Be-ke),Ce.lineTo(je+Oe,Be+ke);break;case"dash":Ce.moveTo(je,Be),Ce.lineTo(je+Math.cos(Xe)*(De?De/2:Ke),Be+Math.sin(Xe)*Ke);break;case!1:Ce.closePath();break}Ce.fill(),Re.borderWidth>0&&Ce.stroke()}}function _isPointInArea(Ce,Re,je){return je=je||.5,!Re||Ce&&Ce.x>Re.left-je&&Ce.x<Re.right+je&&Ce.y>Re.top-je&&Ce.y<Re.bottom+je}function clipArea(Ce,Re){Ce.save(),Ce.beginPath(),Ce.rect(Re.left,Re.top,Re.right-Re.left,Re.bottom-Re.top),Ce.clip()}function unclipArea(Ce){Ce.restore()}function _steppedLineTo(Ce,Re,je,Be,De){if(!Re)return Ce.lineTo(je.x,je.y);if(De==="middle"){const Fe=(Re.x+je.x)/2;Ce.lineTo(Fe,Re.y),Ce.lineTo(Fe,je.y)}else De==="after"!=!!Be?Ce.lineTo(Re.x,je.y):Ce.lineTo(je.x,Re.y);Ce.lineTo(je.x,je.y)}function _bezierCurveTo(Ce,Re,je,Be){if(!Re)return Ce.lineTo(je.x,je.y);Ce.bezierCurveTo(Be?Re.cp1x:Re.cp2x,Be?Re.cp1y:Re.cp2y,Be?je.cp2x:je.cp1x,Be?je.cp2y:je.cp1y,je.x,je.y)}function setRenderOpts(Ce,Re){Re.translation&&Ce.translate(Re.translation[0],Re.translation[1]),isNullOrUndef(Re.rotation)||Ce.rotate(Re.rotation),Re.color&&(Ce.fillStyle=Re.color),Re.textAlign&&(Ce.textAlign=Re.textAlign),Re.textBaseline&&(Ce.textBaseline=Re.textBaseline)}function decorateText(Ce,Re,je,Be,De){if(De.strikethrough||De.underline){const Fe=Ce.measureText(Be),Oe=Re-Fe.actualBoundingBoxLeft,ke=Re+Fe.actualBoundingBoxRight,Me=je-Fe.actualBoundingBoxAscent,Ue=je+Fe.actualBoundingBoxDescent,$e=De.strikethrough?(Me+Ue)/2:Ue;Ce.strokeStyle=Ce.fillStyle,Ce.beginPath(),Ce.lineWidth=De.decorationWidth||2,Ce.moveTo(Oe,$e),Ce.lineTo(ke,$e),Ce.stroke()}}function drawBackdrop(Ce,Re){const je=Ce.fillStyle;Ce.fillStyle=Re.color,Ce.fillRect(Re.left,Re.top,Re.width,Re.height),Ce.fillStyle=je}function renderText(Ce,Re,je,Be,De,Fe={}){const Oe=isArray$1(Re)?Re:[Re],ke=Fe.strokeWidth>0&&Fe.strokeColor!=="";let Me,Ue;for(Ce.save(),Ce.font=De.string,setRenderOpts(Ce,Fe),Me=0;Me<Oe.length;++Me)Ue=Oe[Me],Fe.backdrop&&drawBackdrop(Ce,Fe.backdrop),ke&&(Fe.strokeColor&&(Ce.strokeStyle=Fe.strokeColor),isNullOrUndef(Fe.strokeWidth)||(Ce.lineWidth=Fe.strokeWidth),Ce.strokeText(Ue,je,Be,Fe.maxWidth)),Ce.fillText(Ue,je,Be,Fe.maxWidth),decorateText(Ce,je,Be,Ue,Fe),Be+=Number(De.lineHeight);Ce.restore()}function addRoundedRectPath(Ce,Re){const{x:je,y:Be,w:De,h:Fe,radius:Oe}=Re;Ce.arc(je+Oe.topLeft,Be+Oe.topLeft,Oe.topLeft,1.5*PI,PI,!0),Ce.lineTo(je,Be+Fe-Oe.bottomLeft),Ce.arc(je+Oe.bottomLeft,Be+Fe-Oe.bottomLeft,Oe.bottomLeft,PI,HALF_PI,!0),Ce.lineTo(je+De-Oe.bottomRight,Be+Fe),Ce.arc(je+De-Oe.bottomRight,Be+Fe-Oe.bottomRight,Oe.bottomRight,HALF_PI,0,!0),Ce.lineTo(je+De,Be+Oe.topRight),Ce.arc(je+De-Oe.topRight,Be+Oe.topRight,Oe.topRight,0,-HALF_PI,!0),Ce.lineTo(je+Oe.topLeft,Be)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(Ce,Re){const je=(""+Ce).match(LINE_HEIGHT);if(!je||je[1]==="normal")return Re*1.2;switch(Ce=+je[2],je[3]){case"px":return Ce;case"%":Ce/=100;break}return Re*Ce}const numberOrZero=Ce=>+Ce||0;function _readValueToProps(Ce,Re){const je={},Be=isObject$1(Re),De=Be?Object.keys(Re):Re,Fe=isObject$1(Ce)?Be?Oe=>valueOrDefault(Ce[Oe],Ce[Re[Oe]]):Oe=>Ce[Oe]:()=>Ce;for(const Oe of De)je[Oe]=numberOrZero(Fe(Oe));return je}function toTRBL(Ce){return _readValueToProps(Ce,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(Ce){return _readValueToProps(Ce,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(Ce){const Re=toTRBL(Ce);return Re.width=Re.left+Re.right,Re.height=Re.top+Re.bottom,Re}function toFont(Ce,Re){Ce=Ce||{},Re=Re||defaults$1.font;let je=valueOrDefault(Ce.size,Re.size);typeof je=="string"&&(je=parseInt(je,10));let Be=valueOrDefault(Ce.style,Re.style);Be&&!(""+Be).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+Be+'"'),Be=void 0);const De={family:valueOrDefault(Ce.family,Re.family),lineHeight:toLineHeight(valueOrDefault(Ce.lineHeight,Re.lineHeight),je),size:je,style:Be,weight:valueOrDefault(Ce.weight,Re.weight),string:""};return De.string=toFontString(De),De}function resolve(Ce,Re,je,Be){let De,Fe,Oe;for(De=0,Fe=Ce.length;De<Fe;++De)if(Oe=Ce[De],Oe!==void 0&&Oe!==void 0)return Oe}function _addGrace(Ce,Re,je){const{min:Be,max:De}=Ce,Fe=toDimension(Re,(De-Be)/2),Oe=(ke,Me)=>je&&ke===0?0:ke+Me;return{min:Oe(Be,-Math.abs(Fe)),max:Oe(De,Fe)}}function createContext(Ce,Re){return Object.assign(Object.create(Ce),Re)}function _createResolver(Ce,Re=[""],je,Be,De=()=>Ce[0]){const Fe=je||Ce;typeof Be>"u"&&(Be=_resolve("_fallback",Ce));const Oe={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:Ce,_rootScopes:Fe,_fallback:Be,_getTarget:De,override:ke=>_createResolver([ke,...Ce],Re,Fe,Be)};return new Proxy(Oe,{deleteProperty(ke,Me){return delete ke[Me],delete ke._keys,delete Ce[0][Me],!0},get(ke,Me){return _cached(ke,Me,()=>_resolveWithPrefixes(Me,Re,Ce,ke))},getOwnPropertyDescriptor(ke,Me){return Reflect.getOwnPropertyDescriptor(ke._scopes[0],Me)},getPrototypeOf(){return Reflect.getPrototypeOf(Ce[0])},has(ke,Me){return getKeysFromAllScopes(ke).includes(Me)},ownKeys(ke){return getKeysFromAllScopes(ke)},set(ke,Me,Ue){const $e=ke._storage||(ke._storage=De());return ke[Me]=$e[Me]=Ue,delete ke._keys,!0}})}function _attachContext(Ce,Re,je,Be){const De={_cacheable:!1,_proxy:Ce,_context:Re,_subProxy:je,_stack:new Set,_descriptors:_descriptors(Ce,Be),setContext:Fe=>_attachContext(Ce,Fe,je,Be),override:Fe=>_attachContext(Ce.override(Fe),Re,je,Be)};return new Proxy(De,{deleteProperty(Fe,Oe){return delete Fe[Oe],delete Ce[Oe],!0},get(Fe,Oe,ke){return _cached(Fe,Oe,()=>_resolveWithContext(Fe,Oe,ke))},getOwnPropertyDescriptor(Fe,Oe){return Fe._descriptors.allKeys?Reflect.has(Ce,Oe)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(Ce,Oe)},getPrototypeOf(){return Reflect.getPrototypeOf(Ce)},has(Fe,Oe){return Reflect.has(Ce,Oe)},ownKeys(){return Reflect.ownKeys(Ce)},set(Fe,Oe,ke){return Ce[Oe]=ke,delete Fe[Oe],!0}})}function _descriptors(Ce,Re={scriptable:!0,indexable:!0}){const{_scriptable:je=Re.scriptable,_indexable:Be=Re.indexable,_allKeys:De=Re.allKeys}=Ce;return{allKeys:De,scriptable:je,indexable:Be,isScriptable:isFunction(je)?je:()=>je,isIndexable:isFunction(Be)?Be:()=>Be}}const readKey=(Ce,Re)=>Ce?Ce+_capitalize(Re):Re,needsSubResolver=(Ce,Re)=>isObject$1(Re)&&Ce!=="adapters"&&(Object.getPrototypeOf(Re)===null||Re.constructor===Object);function _cached(Ce,Re,je){if(Object.prototype.hasOwnProperty.call(Ce,Re)||Re==="constructor")return Ce[Re];const Be=je();return Ce[Re]=Be,Be}function _resolveWithContext(Ce,Re,je){const{_proxy:Be,_context:De,_subProxy:Fe,_descriptors:Oe}=Ce;let ke=Be[Re];return isFunction(ke)&&Oe.isScriptable(Re)&&(ke=_resolveScriptable(Re,ke,Ce,je)),isArray$1(ke)&&ke.length&&(ke=_resolveArray(Re,ke,Ce,Oe.isIndexable)),needsSubResolver(Re,ke)&&(ke=_attachContext(ke,De,Fe&&Fe[Re],Oe)),ke}function _resolveScriptable(Ce,Re,je,Be){const{_proxy:De,_context:Fe,_subProxy:Oe,_stack:ke}=je;if(ke.has(Ce))throw new Error("Recursion detected: "+Array.from(ke).join("->")+"->"+Ce);ke.add(Ce);let Me=Re(Fe,Oe||Be);return ke.delete(Ce),needsSubResolver(Ce,Me)&&(Me=createSubResolver(De._scopes,De,Ce,Me)),Me}function _resolveArray(Ce,Re,je,Be){const{_proxy:De,_context:Fe,_subProxy:Oe,_descriptors:ke}=je;if(typeof Fe.index<"u"&&Be(Ce))return Re[Fe.index%Re.length];if(isObject$1(Re[0])){const Me=Re,Ue=De._scopes.filter($e=>$e!==Me);Re=[];for(const $e of Me){const He=createSubResolver(Ue,De,Ce,$e);Re.push(_attachContext(He,Fe,Oe&&Oe[Ce],ke))}}return Re}function resolveFallback(Ce,Re,je){return isFunction(Ce)?Ce(Re,je):Ce}const getScope=(Ce,Re)=>Ce===!0?Re:typeof Ce=="string"?resolveObjectKey(Re,Ce):void 0;function addScopes(Ce,Re,je,Be,De){for(const Fe of Re){const Oe=getScope(je,Fe);if(Oe){Ce.add(Oe);const ke=resolveFallback(Oe._fallback,je,De);if(typeof ke<"u"&&ke!==je&&ke!==Be)return ke}else if(Oe===!1&&typeof Be<"u"&&je!==Be)return null}return!1}function createSubResolver(Ce,Re,je,Be){const De=Re._rootScopes,Fe=resolveFallback(Re._fallback,je,Be),Oe=[...Ce,...De],ke=new Set;ke.add(Be);let Me=addScopesFromKey(ke,Oe,je,Fe||je,Be);return Me===null||typeof Fe<"u"&&Fe!==je&&(Me=addScopesFromKey(ke,Oe,Fe,Me,Be),Me===null)?!1:_createResolver(Array.from(ke),[""],De,Fe,()=>subGetTarget(Re,je,Be))}function addScopesFromKey(Ce,Re,je,Be,De){for(;je;)je=addScopes(Ce,Re,je,Be,De);return je}function subGetTarget(Ce,Re,je){const Be=Ce._getTarget();Re in Be||(Be[Re]={});const De=Be[Re];return isArray$1(De)&&isObject$1(je)?je:De||{}}function _resolveWithPrefixes(Ce,Re,je,Be){let De;for(const Fe of Re)if(De=_resolve(readKey(Fe,Ce),je),typeof De<"u")return needsSubResolver(Ce,De)?createSubResolver(je,Be,Ce,De):De}function _resolve(Ce,Re){for(const je of Re){if(!je)continue;const Be=je[Ce];if(typeof Be<"u")return Be}}function getKeysFromAllScopes(Ce){let Re=Ce._keys;return Re||(Re=Ce._keys=resolveKeysFromAllScopes(Ce._scopes)),Re}function resolveKeysFromAllScopes(Ce){const Re=new Set;for(const je of Ce)for(const Be of Object.keys(je).filter(De=>!De.startsWith("_")))Re.add(Be);return Array.from(Re)}const EPSILON=Number.EPSILON||1e-14,getPoint=(Ce,Re)=>Re<Ce.length&&!Ce[Re].skip&&Ce[Re],getValueAxis=Ce=>Ce==="x"?"y":"x";function splineCurve(Ce,Re,je,Be){const De=Ce.skip?Re:Ce,Fe=Re,Oe=je.skip?Re:je,ke=distanceBetweenPoints$1(Fe,De),Me=distanceBetweenPoints$1(Oe,Fe);let Ue=ke/(ke+Me),$e=Me/(ke+Me);Ue=isNaN(Ue)?0:Ue,$e=isNaN($e)?0:$e;const He=Be*Ue,Qe=Be*$e;return{previous:{x:Fe.x-He*(Oe.x-De.x),y:Fe.y-He*(Oe.y-De.y)},next:{x:Fe.x+Qe*(Oe.x-De.x),y:Fe.y+Qe*(Oe.y-De.y)}}}function monotoneAdjust(Ce,Re,je){const Be=Ce.length;let De,Fe,Oe,ke,Me,Ue=getPoint(Ce,0);for(let $e=0;$e<Be-1;++$e)if(Me=Ue,Ue=getPoint(Ce,$e+1),!(!Me||!Ue)){if(almostEquals(Re[$e],0,EPSILON)){je[$e]=je[$e+1]=0;continue}De=je[$e]/Re[$e],Fe=je[$e+1]/Re[$e],ke=Math.pow(De,2)+Math.pow(Fe,2),!(ke<=9)&&(Oe=3/Math.sqrt(ke),je[$e]=De*Oe*Re[$e],je[$e+1]=Fe*Oe*Re[$e])}}function monotoneCompute(Ce,Re,je="x"){const Be=getValueAxis(je),De=Ce.length;let Fe,Oe,ke,Me=getPoint(Ce,0);for(let Ue=0;Ue<De;++Ue){if(Oe=ke,ke=Me,Me=getPoint(Ce,Ue+1),!ke)continue;const $e=ke[je],He=ke[Be];Oe&&(Fe=($e-Oe[je])/3,ke[`cp1${je}`]=$e-Fe,ke[`cp1${Be}`]=He-Fe*Re[Ue]),Me&&(Fe=(Me[je]-$e)/3,ke[`cp2${je}`]=$e+Fe,ke[`cp2${Be}`]=He+Fe*Re[Ue])}}function splineCurveMonotone(Ce,Re="x"){const je=getValueAxis(Re),Be=Ce.length,De=Array(Be).fill(0),Fe=Array(Be);let Oe,ke,Me,Ue=getPoint(Ce,0);for(Oe=0;Oe<Be;++Oe)if(ke=Me,Me=Ue,Ue=getPoint(Ce,Oe+1),!!Me){if(Ue){const $e=Ue[Re]-Me[Re];De[Oe]=$e!==0?(Ue[je]-Me[je])/$e:0}Fe[Oe]=ke?Ue?sign$1(De[Oe-1])!==sign$1(De[Oe])?0:(De[Oe-1]+De[Oe])/2:De[Oe-1]:De[Oe]}monotoneAdjust(Ce,De,Fe),monotoneCompute(Ce,Fe,Re)}function capControlPoint(Ce,Re,je){return Math.max(Math.min(Ce,je),Re)}function capBezierPoints(Ce,Re){let je,Be,De,Fe,Oe,ke=_isPointInArea(Ce[0],Re);for(je=0,Be=Ce.length;je<Be;++je)Oe=Fe,Fe=ke,ke=je<Be-1&&_isPointInArea(Ce[je+1],Re),Fe&&(De=Ce[je],Oe&&(De.cp1x=capControlPoint(De.cp1x,Re.left,Re.right),De.cp1y=capControlPoint(De.cp1y,Re.top,Re.bottom)),ke&&(De.cp2x=capControlPoint(De.cp2x,Re.left,Re.right),De.cp2y=capControlPoint(De.cp2y,Re.top,Re.bottom)))}function _updateBezierControlPoints(Ce,Re,je,Be,De){let Fe,Oe,ke,Me;if(Re.spanGaps&&(Ce=Ce.filter(Ue=>!Ue.skip)),Re.cubicInterpolationMode==="monotone")splineCurveMonotone(Ce,De);else{let Ue=Be?Ce[Ce.length-1]:Ce[0];for(Fe=0,Oe=Ce.length;Fe<Oe;++Fe)ke=Ce[Fe],Me=splineCurve(Ue,ke,Ce[Math.min(Fe+1,Oe-(Be?0:1))%Oe],Re.tension),ke.cp1x=Me.previous.x,ke.cp1y=Me.previous.y,ke.cp2x=Me.next.x,ke.cp2y=Me.next.y,Ue=ke}Re.capBezierPoints&&capBezierPoints(Ce,je)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(Ce){let Re=Ce.parentNode;return Re&&Re.toString()==="[object ShadowRoot]"&&(Re=Re.host),Re}function parseMaxStyle(Ce,Re,je){let Be;return typeof Ce=="string"?(Be=parseInt(Ce,10),Ce.indexOf("%")!==-1&&(Be=Be/100*Re.parentNode[je])):Be=Ce,Be}const getComputedStyle$2=Ce=>Ce.ownerDocument.defaultView.getComputedStyle(Ce,null);function getStyle(Ce,Re){return getComputedStyle$2(Ce).getPropertyValue(Re)}const positions=["top","right","bottom","left"];function getPositionedStyle(Ce,Re,je){const Be={};je=je?"-"+je:"";for(let De=0;De<4;De++){const Fe=positions[De];Be[Fe]=parseFloat(Ce[Re+"-"+Fe+je])||0}return Be.width=Be.left+Be.right,Be.height=Be.top+Be.bottom,Be}const useOffsetPos=(Ce,Re,je)=>(Ce>0||Re>0)&&(!je||!je.shadowRoot);function getCanvasPosition(Ce,Re){const je=Ce.touches,Be=je&&je.length?je[0]:Ce,{offsetX:De,offsetY:Fe}=Be;let Oe=!1,ke,Me;if(useOffsetPos(De,Fe,Ce.target))ke=De,Me=Fe;else{const Ue=Re.getBoundingClientRect();ke=Be.clientX-Ue.left,Me=Be.clientY-Ue.top,Oe=!0}return{x:ke,y:Me,box:Oe}}function getRelativePosition(Ce,Re){if("native"in Ce)return Ce;const{canvas:je,currentDevicePixelRatio:Be}=Re,De=getComputedStyle$2(je),Fe=De.boxSizing==="border-box",Oe=getPositionedStyle(De,"padding"),ke=getPositionedStyle(De,"border","width"),{x:Me,y:Ue,box:$e}=getCanvasPosition(Ce,je),He=Oe.left+($e&&ke.left),Qe=Oe.top+($e&&ke.top);let{width:We,height:qe}=Re;return Fe&&(We-=Oe.width+ke.width,qe-=Oe.height+ke.height),{x:Math.round((Me-He)/We*je.width/Be),y:Math.round((Ue-Qe)/qe*je.height/Be)}}function getContainerSize(Ce,Re,je){let Be,De;if(Re===void 0||je===void 0){const Fe=Ce&&_getParentNode(Ce);if(!Fe)Re=Ce.clientWidth,je=Ce.clientHeight;else{const Oe=Fe.getBoundingClientRect(),ke=getComputedStyle$2(Fe),Me=getPositionedStyle(ke,"border","width"),Ue=getPositionedStyle(ke,"padding");Re=Oe.width-Ue.width-Me.width,je=Oe.height-Ue.height-Me.height,Be=parseMaxStyle(ke.maxWidth,Fe,"clientWidth"),De=parseMaxStyle(ke.maxHeight,Fe,"clientHeight")}}return{width:Re,height:je,maxWidth:Be||INFINITY,maxHeight:De||INFINITY}}const round1=Ce=>Math.round(Ce*10)/10;function getMaximumSize(Ce,Re,je,Be){const De=getComputedStyle$2(Ce),Fe=getPositionedStyle(De,"margin"),Oe=parseMaxStyle(De.maxWidth,Ce,"clientWidth")||INFINITY,ke=parseMaxStyle(De.maxHeight,Ce,"clientHeight")||INFINITY,Me=getContainerSize(Ce,Re,je);let{width:Ue,height:$e}=Me;if(De.boxSizing==="content-box"){const Qe=getPositionedStyle(De,"border","width"),We=getPositionedStyle(De,"padding");Ue-=We.width+Qe.width,$e-=We.height+Qe.height}return Ue=Math.max(0,Ue-Fe.width),$e=Math.max(0,Be?Ue/Be:$e-Fe.height),Ue=round1(Math.min(Ue,Oe,Me.maxWidth)),$e=round1(Math.min($e,ke,Me.maxHeight)),Ue&&!$e&&($e=round1(Ue/2)),(Re!==void 0||je!==void 0)&&Be&&Me.height&&$e>Me.height&&($e=Me.height,Ue=round1(Math.floor($e*Be))),{width:Ue,height:$e}}function retinaScale(Ce,Re,je){const Be=Re||1,De=Math.floor(Ce.height*Be),Fe=Math.floor(Ce.width*Be);Ce.height=Math.floor(Ce.height),Ce.width=Math.floor(Ce.width);const Oe=Ce.canvas;return Oe.style&&(je||!Oe.style.height&&!Oe.style.width)&&(Oe.style.height=`${Ce.height}px`,Oe.style.width=`${Ce.width}px`),Ce.currentDevicePixelRatio!==Be||Oe.height!==De||Oe.width!==Fe?(Ce.currentDevicePixelRatio=Be,Oe.height=De,Oe.width=Fe,Ce.ctx.setTransform(Be,0,0,Be,0,0),!0):!1}const supportsEventListenerOptions=(function(){let Ce=!1;try{const Re={get passive(){return Ce=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,Re),window.removeEventListener("test",null,Re))}catch{}return Ce})();function readUsedSize(Ce,Re){const je=getStyle(Ce,Re),Be=je&&je.match(/^(\d+)(\.\d+)?px$/);return Be?+Be[1]:void 0}function _pointInLine(Ce,Re,je,Be){return{x:Ce.x+je*(Re.x-Ce.x),y:Ce.y+je*(Re.y-Ce.y)}}function _steppedInterpolation(Ce,Re,je,Be){return{x:Ce.x+je*(Re.x-Ce.x),y:Be==="middle"?je<.5?Ce.y:Re.y:Be==="after"?je<1?Ce.y:Re.y:je>0?Re.y:Ce.y}}function _bezierInterpolation(Ce,Re,je,Be){const De={x:Ce.cp2x,y:Ce.cp2y},Fe={x:Re.cp1x,y:Re.cp1y},Oe=_pointInLine(Ce,De,je),ke=_pointInLine(De,Fe,je),Me=_pointInLine(Fe,Re,je),Ue=_pointInLine(Oe,ke,je),$e=_pointInLine(ke,Me,je);return _pointInLine(Ue,$e,je)}const getRightToLeftAdapter=function(Ce,Re){return{x(je){return Ce+Ce+Re-je},setWidth(je){Re=je},textAlign(je){return je==="center"?je:je==="right"?"left":"right"},xPlus(je,Be){return je-Be},leftForLtr(je,Be){return je-Be}}},getLeftToRightAdapter=function(){return{x(Ce){return Ce},setWidth(Ce){},textAlign(Ce){return Ce},xPlus(Ce,Re){return Ce+Re},leftForLtr(Ce,Re){return Ce}}};function getRtlAdapter(Ce,Re,je){return Ce?getRightToLeftAdapter(Re,je):getLeftToRightAdapter()}function overrideTextDirection(Ce,Re){let je,Be;(Re==="ltr"||Re==="rtl")&&(je=Ce.canvas.style,Be=[je.getPropertyValue("direction"),je.getPropertyPriority("direction")],je.setProperty("direction",Re,"important"),Ce.prevTextDirection=Be)}function restoreTextDirection(Ce,Re){Re!==void 0&&(delete Ce.prevTextDirection,Ce.canvas.style.setProperty("direction",Re[0],Re[1]))}function propertyFn(Ce){return Ce==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(Re,je)=>Re-je,normalize:Re=>Re}}function normalizeSegment({start:Ce,end:Re,count:je,loop:Be,style:De}){return{start:Ce%je,end:Re%je,loop:Be&&(Re-Ce+1)%je===0,style:De}}function getSegment(Ce,Re,je){const{property:Be,start:De,end:Fe}=je,{between:Oe,normalize:ke}=propertyFn(Be),Me=Re.length;let{start:Ue,end:$e,loop:He}=Ce,Qe,We;if(He){for(Ue+=Me,$e+=Me,Qe=0,We=Me;Qe<We&&Oe(ke(Re[Ue%Me][Be]),De,Fe);++Qe)Ue--,$e--;Ue%=Me,$e%=Me}return $e<Ue&&($e+=Me),{start:Ue,end:$e,loop:He,style:Ce.style}}function _boundSegment(Ce,Re,je){if(!je)return[Ce];const{property:Be,start:De,end:Fe}=je,Oe=Re.length,{compare:ke,between:Me,normalize:Ue}=propertyFn(Be),{start:$e,end:He,loop:Qe,style:We}=getSegment(Ce,Re,je),qe=[];let Ke=!1,Xe=null,Ye,Ze,Je;const tr=()=>Me(De,Je,Ye)&&ke(De,Je)!==0,rr=()=>ke(Fe,Ye)===0||Me(Fe,Je,Ye),ar=()=>Ke||tr(),nr=()=>!Ke||rr();for(let sr=$e,dr=$e;sr<=He;++sr)Ze=Re[sr%Oe],!Ze.skip&&(Ye=Ue(Ze[Be]),Ye!==Je&&(Ke=Me(Ye,De,Fe),Xe===null&&ar()&&(Xe=ke(Ye,De)===0?sr:dr),Xe!==null&&nr()&&(qe.push(normalizeSegment({start:Xe,end:sr,loop:Qe,count:Oe,style:We})),Xe=null),dr=sr,Je=Ye));return Xe!==null&&qe.push(normalizeSegment({start:Xe,end:He,loop:Qe,count:Oe,style:We})),qe}function _boundSegments(Ce,Re){const je=[],Be=Ce.segments;for(let De=0;De<Be.length;De++){const Fe=_boundSegment(Be[De],Ce.points,Re);Fe.length&&je.push(...Fe)}return je}function findStartAndEnd(Ce,Re,je,Be){let De=0,Fe=Re-1;if(je&&!Be)for(;De<Re&&!Ce[De].skip;)De++;for(;De<Re&&Ce[De].skip;)De++;for(De%=Re,je&&(Fe+=De);Fe>De&&Ce[Fe%Re].skip;)Fe--;return Fe%=Re,{start:De,end:Fe}}function solidSegments(Ce,Re,je,Be){const De=Ce.length,Fe=[];let Oe=Re,ke=Ce[Re],Me;for(Me=Re+1;Me<=je;++Me){const Ue=Ce[Me%De];Ue.skip||Ue.stop?ke.skip||(Be=!1,Fe.push({start:Re%De,end:(Me-1)%De,loop:Be}),Re=Oe=Ue.stop?Me:null):(Oe=Me,ke.skip&&(Re=Me)),ke=Ue}return Oe!==null&&Fe.push({start:Re%De,end:Oe%De,loop:Be}),Fe}function _computeSegments(Ce,Re){const je=Ce.points,Be=Ce.options.spanGaps,De=je.length;if(!De)return[];const Fe=!!Ce._loop,{start:Oe,end:ke}=findStartAndEnd(je,De,Fe,Be);if(Be===!0)return splitByStyles(Ce,[{start:Oe,end:ke,loop:Fe}],je,Re);const Me=ke<Oe?ke+De:ke,Ue=!!Ce._fullLoop&&Oe===0&&ke===De-1;return splitByStyles(Ce,solidSegments(je,Oe,Me,Ue),je,Re)}function splitByStyles(Ce,Re,je,Be){return!Be||!Be.setContext||!je?Re:doSplitByStyles(Ce,Re,je,Be)}function doSplitByStyles(Ce,Re,je,Be){const De=Ce._chart.getContext(),Fe=readStyle(Ce.options),{_datasetIndex:Oe,options:{spanGaps:ke}}=Ce,Me=je.length,Ue=[];let $e=Fe,He=Re[0].start,Qe=He;function We(qe,Ke,Xe,Ye){const Ze=ke?-1:1;if(qe!==Ke){for(qe+=Me;je[qe%Me].skip;)qe-=Ze;for(;je[Ke%Me].skip;)Ke+=Ze;qe%Me!==Ke%Me&&(Ue.push({start:qe%Me,end:Ke%Me,loop:Xe,style:Ye}),$e=Ye,He=Ke%Me)}}for(const qe of Re){He=ke?He:qe.start;let Ke=je[He%Me],Xe;for(Qe=He+1;Qe<=qe.end;Qe++){const Ye=je[Qe%Me];Xe=readStyle(Be.setContext(createContext(De,{type:"segment",p0:Ke,p1:Ye,p0DataIndex:(Qe-1)%Me,p1DataIndex:Qe%Me,datasetIndex:Oe}))),styleChanged(Xe,$e)&&We(He,Qe-1,qe.loop,$e),Ke=Ye,$e=Xe}He<Qe-1&&We(He,Qe-1,qe.loop,$e)}return Ue}function readStyle(Ce){return{backgroundColor:Ce.backgroundColor,borderCapStyle:Ce.borderCapStyle,borderDash:Ce.borderDash,borderDashOffset:Ce.borderDashOffset,borderJoinStyle:Ce.borderJoinStyle,borderWidth:Ce.borderWidth,borderColor:Ce.borderColor}}function styleChanged(Ce,Re){if(!Re)return!1;const je=[],Be=function(De,Fe){return isPatternOrGradient(Fe)?(je.includes(Fe)||je.push(Fe),je.indexOf(Fe)):Fe};return JSON.stringify(Ce,Be)!==JSON.stringify(Re,Be)}function getSizeForArea(Ce,Re,je){return Ce.options.clip?Ce[je]:Re[je]}function getDatasetArea(Ce,Re){const{xScale:je,yScale:Be}=Ce;return je&&Be?{left:getSizeForArea(je,Re,"left"),right:getSizeForArea(je,Re,"right"),top:getSizeForArea(Be,Re,"top"),bottom:getSizeForArea(Be,Re,"bottom")}:Re}function getDatasetClipArea(Ce,Re){const je=Re._clip;if(je.disabled)return!1;const Be=getDatasetArea(Re,Ce.chartArea);return{left:je.left===!1?0:Be.left-(je.left===!0?0:je.left),right:je.right===!1?Ce.width:Be.right+(je.right===!0?0:je.right),top:je.top===!1?0:Be.top-(je.top===!0?0:je.top),bottom:je.bottom===!1?Ce.height:Be.bottom+(je.bottom===!0?0:je.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(Re,je,Be,De){const Fe=je.listeners[De],Oe=je.duration;Fe.forEach(ke=>ke({chart:Re,initial:je.initial,numSteps:Oe,currentStep:Math.min(Be-je.start,Oe)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(Re=Date.now()){let je=0;this._charts.forEach((Be,De)=>{if(!Be.running||!Be.items.length)return;const Fe=Be.items;let Oe=Fe.length-1,ke=!1,Me;for(;Oe>=0;--Oe)Me=Fe[Oe],Me._active?(Me._total>Be.duration&&(Be.duration=Me._total),Me.tick(Re),ke=!0):(Fe[Oe]=Fe[Fe.length-1],Fe.pop());ke&&(De.draw(),this._notify(De,Be,Re,"progress")),Fe.length||(Be.running=!1,this._notify(De,Be,Re,"complete"),Be.initial=!1),je+=Fe.length}),this._lastDate=Re,je===0&&(this._running=!1)}_getAnims(Re){const je=this._charts;let Be=je.get(Re);return Be||(Be={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},je.set(Re,Be)),Be}listen(Re,je,Be){this._getAnims(Re).listeners[je].push(Be)}add(Re,je){!je||!je.length||this._getAnims(Re).items.push(...je)}has(Re){return this._getAnims(Re).items.length>0}start(Re){const je=this._charts.get(Re);je&&(je.running=!0,je.start=Date.now(),je.duration=je.items.reduce((Be,De)=>Math.max(Be,De._duration),0),this._refresh())}running(Re){if(!this._running)return!1;const je=this._charts.get(Re);return!(!je||!je.running||!je.items.length)}stop(Re){const je=this._charts.get(Re);if(!je||!je.items.length)return;const Be=je.items;let De=Be.length-1;for(;De>=0;--De)Be[De].cancel();je.items=[],this._notify(Re,je,Date.now(),"complete")}remove(Re){return this._charts.delete(Re)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(Ce,Re,je){return je>.5?Re:Ce},color(Ce,Re,je){const Be=color$2(Ce||transparent),De=Be.valid&&color$2(Re||transparent);return De&&De.valid?De.mix(Be,je).hexString():Re},number(Ce,Re,je){return Ce+(Re-Ce)*je}};class Animation{constructor(Re,je,Be,De){const Fe=je[Be];De=resolve([Re.to,De,Fe,Re.from]);const Oe=resolve([Re.from,Fe,De]);this._active=!0,this._fn=Re.fn||interpolators[Re.type||typeof Oe],this._easing=effects[Re.easing]||effects.linear,this._start=Math.floor(Date.now()+(Re.delay||0)),this._duration=this._total=Math.floor(Re.duration),this._loop=!!Re.loop,this._target=je,this._prop=Be,this._from=Oe,this._to=De,this._promises=void 0}active(){return this._active}update(Re,je,Be){if(this._active){this._notify(!1);const De=this._target[this._prop],Fe=Be-this._start,Oe=this._duration-Fe;this._start=Be,this._duration=Math.floor(Math.max(Oe,Re.duration)),this._total+=Fe,this._loop=!!Re.loop,this._to=resolve([Re.to,je,De,Re.from]),this._from=resolve([Re.from,De,je])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(Re){const je=Re-this._start,Be=this._duration,De=this._prop,Fe=this._from,Oe=this._loop,ke=this._to;let Me;if(this._active=Fe!==ke&&(Oe||je<Be),!this._active){this._target[De]=ke,this._notify(!0);return}if(je<0){this._target[De]=Fe;return}Me=je/Be%2,Me=Oe&&Me>1?2-Me:Me,Me=this._easing(Math.min(1,Math.max(0,Me))),this._target[De]=this._fn(Fe,ke,Me)}wait(){const Re=this._promises||(this._promises=[]);return new Promise((je,Be)=>{Re.push({res:je,rej:Be})})}_notify(Re){const je=Re?"res":"rej",Be=this._promises||[];for(let De=0;De<Be.length;De++)Be[De][je]()}}class Animations{constructor(Re,je){this._chart=Re,this._properties=new Map,this.configure(je)}configure(Re){if(!isObject$1(Re))return;const je=Object.keys(defaults$1.animation),Be=this._properties;Object.getOwnPropertyNames(Re).forEach(De=>{const Fe=Re[De];if(!isObject$1(Fe))return;const Oe={};for(const ke of je)Oe[ke]=Fe[ke];(isArray$1(Fe.properties)&&Fe.properties||[De]).forEach(ke=>{(ke===De||!Be.has(ke))&&Be.set(ke,Oe)})})}_animateOptions(Re,je){const Be=je.options,De=resolveTargetOptions(Re,Be);if(!De)return[];const Fe=this._createAnimations(De,Be);return Be.$shared&&awaitAll(Re.options.$animations,Be).then(()=>{Re.options=Be},()=>{}),Fe}_createAnimations(Re,je){const Be=this._properties,De=[],Fe=Re.$animations||(Re.$animations={}),Oe=Object.keys(je),ke=Date.now();let Me;for(Me=Oe.length-1;Me>=0;--Me){const Ue=Oe[Me];if(Ue.charAt(0)==="$")continue;if(Ue==="options"){De.push(...this._animateOptions(Re,je));continue}const $e=je[Ue];let He=Fe[Ue];const Qe=Be.get(Ue);if(He)if(Qe&&He.active()){He.update(Qe,$e,ke);continue}else He.cancel();if(!Qe||!Qe.duration){Re[Ue]=$e;continue}Fe[Ue]=He=new Animation(Qe,Re,Ue,$e),De.push(He)}return De}update(Re,je){if(this._properties.size===0){Object.assign(Re,je);return}const Be=this._createAnimations(Re,je);if(Be.length)return animator.add(this._chart,Be),!0}}function awaitAll(Ce,Re){const je=[],Be=Object.keys(Re);for(let De=0;De<Be.length;De++){const Fe=Ce[Be[De]];Fe&&Fe.active()&&je.push(Fe.wait())}return Promise.all(je)}function resolveTargetOptions(Ce,Re){if(!Re)return;let je=Ce.options;if(!je){Ce.options=Re;return}return je.$shared&&(Ce.options=je=Object.assign({},je,{$shared:!1,$animations:{}})),je}function scaleClip(Ce,Re){const je=Ce&&Ce.options||{},Be=je.reverse,De=je.min===void 0?Re:0,Fe=je.max===void 0?Re:0;return{start:Be?Fe:De,end:Be?De:Fe}}function defaultClip(Ce,Re,je){if(je===!1)return!1;const Be=scaleClip(Ce,je),De=scaleClip(Re,je);return{top:De.end,right:Be.end,bottom:De.start,left:Be.start}}function toClip(Ce){let Re,je,Be,De;return isObject$1(Ce)?(Re=Ce.top,je=Ce.right,Be=Ce.bottom,De=Ce.left):Re=je=Be=De=Ce,{top:Re,right:je,bottom:Be,left:De,disabled:Ce===!1}}function getSortedDatasetIndices(Ce,Re){const je=[],Be=Ce._getSortedDatasetMetas(Re);let De,Fe;for(De=0,Fe=Be.length;De<Fe;++De)je.push(Be[De].index);return je}function applyStack(Ce,Re,je,Be={}){const De=Ce.keys,Fe=Be.mode==="single";let Oe,ke,Me,Ue;if(Re===null)return;let $e=!1;for(Oe=0,ke=De.length;Oe<ke;++Oe){if(Me=+De[Oe],Me===je){if($e=!0,Be.all)continue;break}Ue=Ce.values[Me],isNumberFinite(Ue)&&(Fe||Re===0||sign$1(Re)===sign$1(Ue))&&(Re+=Ue)}return!$e&&!Be.all?0:Re}function convertObjectDataToArray(Ce,Re){const{iScale:je,vScale:Be}=Re,De=je.axis==="x"?"x":"y",Fe=Be.axis==="x"?"x":"y",Oe=Object.keys(Ce),ke=new Array(Oe.length);let Me,Ue,$e;for(Me=0,Ue=Oe.length;Me<Ue;++Me)$e=Oe[Me],ke[Me]={[De]:$e,[Fe]:Ce[$e]};return ke}function isStacked$1(Ce,Re){const je=Ce&&Ce.options.stacked;return je||je===void 0&&Re.stack!==void 0}function getStackKey(Ce,Re,je){return`${Ce.id}.${Re.id}.${je.stack||je.type}`}function getUserBounds(Ce){const{min:Re,max:je,minDefined:Be,maxDefined:De}=Ce.getUserBounds();return{min:Be?Re:Number.NEGATIVE_INFINITY,max:De?je:Number.POSITIVE_INFINITY}}function getOrCreateStack(Ce,Re,je){const Be=Ce[Re]||(Ce[Re]={});return Be[je]||(Be[je]={})}function getLastIndexInStack(Ce,Re,je,Be){for(const De of Re.getMatchingVisibleMetas(Be).reverse()){const Fe=Ce[De.index];if(je&&Fe>0||!je&&Fe<0)return De.index}return null}function updateStacks(Ce,Re){const{chart:je,_cachedMeta:Be}=Ce,De=je._stacks||(je._stacks={}),{iScale:Fe,vScale:Oe,index:ke}=Be,Me=Fe.axis,Ue=Oe.axis,$e=getStackKey(Fe,Oe,Be),He=Re.length;let Qe;for(let We=0;We<He;++We){const qe=Re[We],{[Me]:Ke,[Ue]:Xe}=qe,Ye=qe._stacks||(qe._stacks={});Qe=Ye[Ue]=getOrCreateStack(De,$e,Ke),Qe[ke]=Xe,Qe._top=getLastIndexInStack(Qe,Oe,!0,Be.type),Qe._bottom=getLastIndexInStack(Qe,Oe,!1,Be.type);const Ze=Qe._visualValues||(Qe._visualValues={});Ze[ke]=Xe}}function getFirstScaleId(Ce,Re){const je=Ce.scales;return Object.keys(je).filter(Be=>je[Be].axis===Re).shift()}function createDatasetContext(Ce,Re){return createContext(Ce,{active:!1,dataset:void 0,datasetIndex:Re,index:Re,mode:"default",type:"dataset"})}function createDataContext(Ce,Re,je){return createContext(Ce,{active:!1,dataIndex:Re,parsed:void 0,raw:void 0,element:je,index:Re,mode:"default",type:"data"})}function clearStacks(Ce,Re){const je=Ce.controller.index,Be=Ce.vScale&&Ce.vScale.axis;if(Be){Re=Re||Ce._parsed;for(const De of Re){const Fe=De._stacks;if(!Fe||Fe[Be]===void 0||Fe[Be][je]===void 0)return;delete Fe[Be][je],Fe[Be]._visualValues!==void 0&&Fe[Be]._visualValues[je]!==void 0&&delete Fe[Be]._visualValues[je]}}}const isDirectUpdateMode=Ce=>Ce==="reset"||Ce==="none",cloneIfNotShared=(Ce,Re)=>Re?Ce:Object.assign({},Ce),createStack=(Ce,Re,je)=>Ce&&!Re.hidden&&Re._stacked&&{keys:getSortedDatasetIndices(je,!0),values:null};class DatasetController{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(Re,je){this.chart=Re,this._ctx=Re.ctx,this.index=je,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const Re=this._cachedMeta;this.configure(),this.linkScales(),Re._stacked=isStacked$1(Re.vScale,Re),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(Re){this.index!==Re&&clearStacks(this._cachedMeta),this.index=Re}linkScales(){const Re=this.chart,je=this._cachedMeta,Be=this.getDataset(),De=(He,Qe,We,qe)=>He==="x"?Qe:He==="r"?qe:We,Fe=je.xAxisID=valueOrDefault(Be.xAxisID,getFirstScaleId(Re,"x")),Oe=je.yAxisID=valueOrDefault(Be.yAxisID,getFirstScaleId(Re,"y")),ke=je.rAxisID=valueOrDefault(Be.rAxisID,getFirstScaleId(Re,"r")),Me=je.indexAxis,Ue=je.iAxisID=De(Me,Fe,Oe,ke),$e=je.vAxisID=De(Me,Oe,Fe,ke);je.xScale=this.getScaleForId(Fe),je.yScale=this.getScaleForId(Oe),je.rScale=this.getScaleForId(ke),je.iScale=this.getScaleForId(Ue),je.vScale=this.getScaleForId($e)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(Re){return this.chart.scales[Re]}_getOtherScale(Re){const je=this._cachedMeta;return Re===je.iScale?je.vScale:je.iScale}reset(){this._update("reset")}_destroy(){const Re=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),Re._stacked&&clearStacks(Re)}_dataCheck(){const Re=this.getDataset(),je=Re.data||(Re.data=[]),Be=this._data;if(isObject$1(je)){const De=this._cachedMeta;this._data=convertObjectDataToArray(je,De)}else if(Be!==je){if(Be){unlistenArrayEvents(Be,this);const De=this._cachedMeta;clearStacks(De),De._parsed=[]}je&&Object.isExtensible(je)&&listenArrayEvents(je,this),this._syncList=[],this._data=je}}addElements(){const Re=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(Re.dataset=new this.datasetElementType)}buildOrUpdateElements(Re){const je=this._cachedMeta,Be=this.getDataset();let De=!1;this._dataCheck();const Fe=je._stacked;je._stacked=isStacked$1(je.vScale,je),je.stack!==Be.stack&&(De=!0,clearStacks(je),je.stack=Be.stack),this._resyncElements(Re),(De||Fe!==je._stacked)&&(updateStacks(this,je._parsed),je._stacked=isStacked$1(je.vScale,je))}configure(){const Re=this.chart.config,je=Re.datasetScopeKeys(this._type),Be=Re.getOptionScopes(this.getDataset(),je,!0);this.options=Re.createResolver(Be,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(Re,je){const{_cachedMeta:Be,_data:De}=this,{iScale:Fe,_stacked:Oe}=Be,ke=Fe.axis;let Me=Re===0&&je===De.length?!0:Be._sorted,Ue=Re>0&&Be._parsed[Re-1],$e,He,Qe;if(this._parsing===!1)Be._parsed=De,Be._sorted=!0,Qe=De;else{isArray$1(De[Re])?Qe=this.parseArrayData(Be,De,Re,je):isObject$1(De[Re])?Qe=this.parseObjectData(Be,De,Re,je):Qe=this.parsePrimitiveData(Be,De,Re,je);const We=()=>He[ke]===null||Ue&&He[ke]<Ue[ke];for($e=0;$e<je;++$e)Be._parsed[$e+Re]=He=Qe[$e],Me&&(We()&&(Me=!1),Ue=He);Be._sorted=Me}Oe&&updateStacks(this,Qe)}parsePrimitiveData(Re,je,Be,De){const{iScale:Fe,vScale:Oe}=Re,ke=Fe.axis,Me=Oe.axis,Ue=Fe.getLabels(),$e=Fe===Oe,He=new Array(De);let Qe,We,qe;for(Qe=0,We=De;Qe<We;++Qe)qe=Qe+Be,He[Qe]={[ke]:$e||Fe.parse(Ue[qe],qe),[Me]:Oe.parse(je[qe],qe)};return He}parseArrayData(Re,je,Be,De){const{xScale:Fe,yScale:Oe}=Re,ke=new Array(De);let Me,Ue,$e,He;for(Me=0,Ue=De;Me<Ue;++Me)$e=Me+Be,He=je[$e],ke[Me]={x:Fe.parse(He[0],$e),y:Oe.parse(He[1],$e)};return ke}parseObjectData(Re,je,Be,De){const{xScale:Fe,yScale:Oe}=Re,{xAxisKey:ke="x",yAxisKey:Me="y"}=this._parsing,Ue=new Array(De);let $e,He,Qe,We;for($e=0,He=De;$e<He;++$e)Qe=$e+Be,We=je[Qe],Ue[$e]={x:Fe.parse(resolveObjectKey(We,ke),Qe),y:Oe.parse(resolveObjectKey(We,Me),Qe)};return Ue}getParsed(Re){return this._cachedMeta._parsed[Re]}getDataElement(Re){return this._cachedMeta.data[Re]}applyStack(Re,je,Be){const De=this.chart,Fe=this._cachedMeta,Oe=je[Re.axis],ke={keys:getSortedDatasetIndices(De,!0),values:je._stacks[Re.axis]._visualValues};return applyStack(ke,Oe,Fe.index,{mode:Be})}updateRangeFromParsed(Re,je,Be,De){const Fe=Be[je.axis];let Oe=Fe===null?NaN:Fe;const ke=De&&Be._stacks[je.axis];De&&ke&&(De.values=ke,Oe=applyStack(De,Fe,this._cachedMeta.index)),Re.min=Math.min(Re.min,Oe),Re.max=Math.max(Re.max,Oe)}getMinMax(Re,je){const Be=this._cachedMeta,De=Be._parsed,Fe=Be._sorted&&Re===Be.iScale,Oe=De.length,ke=this._getOtherScale(Re),Me=createStack(je,Be,this.chart),Ue={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:$e,max:He}=getUserBounds(ke);let Qe,We;function qe(){We=De[Qe];const Ke=We[ke.axis];return!isNumberFinite(We[Re.axis])||$e>Ke||He<Ke}for(Qe=0;Qe<Oe&&!(!qe()&&(this.updateRangeFromParsed(Ue,Re,We,Me),Fe));++Qe);if(Fe){for(Qe=Oe-1;Qe>=0;--Qe)if(!qe()){this.updateRangeFromParsed(Ue,Re,We,Me);break}}return Ue}getAllParsedValues(Re){const je=this._cachedMeta._parsed,Be=[];let De,Fe,Oe;for(De=0,Fe=je.length;De<Fe;++De)Oe=je[De][Re.axis],isNumberFinite(Oe)&&Be.push(Oe);return Be}getMaxOverflow(){return!1}getLabelAndValue(Re){const je=this._cachedMeta,Be=je.iScale,De=je.vScale,Fe=this.getParsed(Re);return{label:Be?""+Be.getLabelForValue(Fe[Be.axis]):"",value:De?""+De.getLabelForValue(Fe[De.axis]):""}}_update(Re){const je=this._cachedMeta;this.update(Re||"default"),je._clip=toClip(valueOrDefault(this.options.clip,defaultClip(je.xScale,je.yScale,this.getMaxOverflow())))}update(Re){}draw(){const Re=this._ctx,je=this.chart,Be=this._cachedMeta,De=Be.data||[],Fe=je.chartArea,Oe=[],ke=this._drawStart||0,Me=this._drawCount||De.length-ke,Ue=this.options.drawActiveElementsOnTop;let $e;for(Be.dataset&&Be.dataset.draw(Re,Fe,ke,Me),$e=ke;$e<ke+Me;++$e){const He=De[$e];He.hidden||(He.active&&Ue?Oe.push(He):He.draw(Re,Fe))}for($e=0;$e<Oe.length;++$e)Oe[$e].draw(Re,Fe)}getStyle(Re,je){const Be=je?"active":"default";return Re===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(Be):this.resolveDataElementOptions(Re||0,Be)}getContext(Re,je,Be){const De=this.getDataset();let Fe;if(Re>=0&&Re<this._cachedMeta.data.length){const Oe=this._cachedMeta.data[Re];Fe=Oe.$context||(Oe.$context=createDataContext(this.getContext(),Re,Oe)),Fe.parsed=this.getParsed(Re),Fe.raw=De.data[Re],Fe.index=Fe.dataIndex=Re}else Fe=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),Fe.dataset=De,Fe.index=Fe.datasetIndex=this.index;return Fe.active=!!je,Fe.mode=Be,Fe}resolveDatasetElementOptions(Re){return this._resolveElementOptions(this.datasetElementType.id,Re)}resolveDataElementOptions(Re,je){return this._resolveElementOptions(this.dataElementType.id,je,Re)}_resolveElementOptions(Re,je="default",Be){const De=je==="active",Fe=this._cachedDataOpts,Oe=Re+"-"+je,ke=Fe[Oe],Me=this.enableOptionSharing&&defined$1(Be);if(ke)return cloneIfNotShared(ke,Me);const Ue=this.chart.config,$e=Ue.datasetElementScopeKeys(this._type,Re),He=De?[`${Re}Hover`,"hover",Re,""]:[Re,""],Qe=Ue.getOptionScopes(this.getDataset(),$e),We=Object.keys(defaults$1.elements[Re]),qe=()=>this.getContext(Be,De,je),Ke=Ue.resolveNamedOptions(Qe,We,qe,He);return Ke.$shared&&(Ke.$shared=Me,Fe[Oe]=Object.freeze(cloneIfNotShared(Ke,Me))),Ke}_resolveAnimations(Re,je,Be){const De=this.chart,Fe=this._cachedDataOpts,Oe=`animation-${je}`,ke=Fe[Oe];if(ke)return ke;let Me;if(De.options.animation!==!1){const $e=this.chart.config,He=$e.datasetAnimationScopeKeys(this._type,je),Qe=$e.getOptionScopes(this.getDataset(),He);Me=$e.createResolver(Qe,this.getContext(Re,Be,je))}const Ue=new Animations(De,Me&&Me.animations);return Me&&Me._cacheable&&(Fe[Oe]=Object.freeze(Ue)),Ue}getSharedOptions(Re){if(Re.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},Re))}includeOptions(Re,je){return!je||isDirectUpdateMode(Re)||this.chart._animationsDisabled}_getSharedOptions(Re,je){const Be=this.resolveDataElementOptions(Re,je),De=this._sharedOptions,Fe=this.getSharedOptions(Be),Oe=this.includeOptions(je,Fe)||Fe!==De;return this.updateSharedOptions(Fe,je,Be),{sharedOptions:Fe,includeOptions:Oe}}updateElement(Re,je,Be,De){isDirectUpdateMode(De)?Object.assign(Re,Be):this._resolveAnimations(je,De).update(Re,Be)}updateSharedOptions(Re,je,Be){Re&&!isDirectUpdateMode(je)&&this._resolveAnimations(void 0,je).update(Re,Be)}_setStyle(Re,je,Be,De){Re.active=De;const Fe=this.getStyle(je,De);this._resolveAnimations(je,Be,De).update(Re,{options:!De&&this.getSharedOptions(Fe)||Fe})}removeHoverStyle(Re,je,Be){this._setStyle(Re,Be,"active",!1)}setHoverStyle(Re,je,Be){this._setStyle(Re,Be,"active",!0)}_removeDatasetHoverStyle(){const Re=this._cachedMeta.dataset;Re&&this._setStyle(Re,void 0,"active",!1)}_setDatasetHoverStyle(){const Re=this._cachedMeta.dataset;Re&&this._setStyle(Re,void 0,"active",!0)}_resyncElements(Re){const je=this._data,Be=this._cachedMeta.data;for(const[ke,Me,Ue]of this._syncList)this[ke](Me,Ue);this._syncList=[];const De=Be.length,Fe=je.length,Oe=Math.min(Fe,De);Oe&&this.parse(0,Oe),Fe>De?this._insertElements(De,Fe-De,Re):Fe<De&&this._removeElements(Fe,De-Fe)}_insertElements(Re,je,Be=!0){const De=this._cachedMeta,Fe=De.data,Oe=Re+je;let ke;const Me=Ue=>{for(Ue.length+=je,ke=Ue.length-1;ke>=Oe;ke--)Ue[ke]=Ue[ke-je]};for(Me(Fe),ke=Re;ke<Oe;++ke)Fe[ke]=new this.dataElementType;this._parsing&&Me(De._parsed),this.parse(Re,je),Be&&this.updateElements(Fe,Re,je,"reset")}updateElements(Re,je,Be,De){}_removeElements(Re,je){const Be=this._cachedMeta;if(this._parsing){const De=Be._parsed.splice(Re,je);Be._stacked&&clearStacks(Be,De)}Be.data.splice(Re,je)}_sync(Re){if(this._parsing)this._syncList.push(Re);else{const[je,Be,De]=Re;this[je](Be,De)}this.chart._dataChanges.push([this.index,...Re])}_onDataPush(){const Re=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-Re,Re])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(Re,je){je&&this._sync(["_removeElements",Re,je]);const Be=arguments.length-2;Be&&this._sync(["_insertElements",Re,Be])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function getAllScaleValues(Ce,Re){if(!Ce._cache.$bar){const je=Ce.getMatchingVisibleMetas(Re);let Be=[];for(let De=0,Fe=je.length;De<Fe;De++)Be=Be.concat(je[De].controller.getAllParsedValues(Ce));Ce._cache.$bar=_arrayUnique(Be.sort((De,Fe)=>De-Fe))}return Ce._cache.$bar}function computeMinSampleSize(Ce){const Re=Ce.iScale,je=getAllScaleValues(Re,Ce.type);let Be=Re._length,De,Fe,Oe,ke;const Me=()=>{Oe===32767||Oe===-32768||(defined$1(ke)&&(Be=Math.min(Be,Math.abs(Oe-ke)||Be)),ke=Oe)};for(De=0,Fe=je.length;De<Fe;++De)Oe=Re.getPixelForValue(je[De]),Me();for(ke=void 0,De=0,Fe=Re.ticks.length;De<Fe;++De)Oe=Re.getPixelForTick(De),Me();return Be}function computeFitCategoryTraits(Ce,Re,je,Be){const De=je.barThickness;let Fe,Oe;return isNullOrUndef(De)?(Fe=Re.min*je.categoryPercentage,Oe=je.barPercentage):(Fe=De*Be,Oe=1),{chunk:Fe/Be,ratio:Oe,start:Re.pixels[Ce]-Fe/2}}function computeFlexCategoryTraits(Ce,Re,je,Be){const De=Re.pixels,Fe=De[Ce];let Oe=Ce>0?De[Ce-1]:null,ke=Ce<De.length-1?De[Ce+1]:null;const Me=je.categoryPercentage;Oe===null&&(Oe=Fe-(ke===null?Re.end-Re.start:ke-Fe)),ke===null&&(ke=Fe+Fe-Oe);const Ue=Fe-(Fe-Math.min(Oe,ke))/2*Me;return{chunk:Math.abs(ke-Oe)/2*Me/Be,ratio:je.barPercentage,start:Ue}}function parseFloatBar(Ce,Re,je,Be){const De=je.parse(Ce[0],Be),Fe=je.parse(Ce[1],Be),Oe=Math.min(De,Fe),ke=Math.max(De,Fe);let Me=Oe,Ue=ke;Math.abs(Oe)>Math.abs(ke)&&(Me=ke,Ue=Oe),Re[je.axis]=Ue,Re._custom={barStart:Me,barEnd:Ue,start:De,end:Fe,min:Oe,max:ke}}function parseValue(Ce,Re,je,Be){return isArray$1(Ce)?parseFloatBar(Ce,Re,je,Be):Re[je.axis]=je.parse(Ce,Be),Re}function parseArrayOrPrimitive(Ce,Re,je,Be){const De=Ce.iScale,Fe=Ce.vScale,Oe=De.getLabels(),ke=De===Fe,Me=[];let Ue,$e,He,Qe;for(Ue=je,$e=je+Be;Ue<$e;++Ue)Qe=Re[Ue],He={},He[De.axis]=ke||De.parse(Oe[Ue],Ue),Me.push(parseValue(Qe,He,Fe,Ue));return Me}function isFloatBar(Ce){return Ce&&Ce.barStart!==void 0&&Ce.barEnd!==void 0}function barSign(Ce,Re,je){return Ce!==0?sign$1(Ce):(Re.isHorizontal()?1:-1)*(Re.min>=je?1:-1)}function borderProps(Ce){let Re,je,Be,De,Fe;return Ce.horizontal?(Re=Ce.base>Ce.x,je="left",Be="right"):(Re=Ce.base<Ce.y,je="bottom",Be="top"),Re?(De="end",Fe="start"):(De="start",Fe="end"),{start:je,end:Be,reverse:Re,top:De,bottom:Fe}}function setBorderSkipped(Ce,Re,je,Be){let De=Re.borderSkipped;const Fe={};if(!De){Ce.borderSkipped=Fe;return}if(De===!0){Ce.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:Oe,end:ke,reverse:Me,top:Ue,bottom:$e}=borderProps(Ce);De==="middle"&&je&&(Ce.enableBorderRadius=!0,(je._top||0)===Be?De=Ue:(je._bottom||0)===Be?De=$e:(Fe[parseEdge($e,Oe,ke,Me)]=!0,De=Ue)),Fe[parseEdge(De,Oe,ke,Me)]=!0,Ce.borderSkipped=Fe}function parseEdge(Ce,Re,je,Be){return Be?(Ce=swap$1(Ce,Re,je),Ce=startEnd(Ce,je,Re)):Ce=startEnd(Ce,Re,je),Ce}function swap$1(Ce,Re,je){return Ce===Re?je:Ce===je?Re:Ce}function startEnd(Ce,Re,je){return Ce==="start"?Re:Ce==="end"?je:Ce}function setInflateAmount(Ce,{inflateAmount:Re},je){Ce.inflateAmount=Re==="auto"?je===1?.33:0:Re}class BarController extends DatasetController{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(Re,je,Be,De){return parseArrayOrPrimitive(Re,je,Be,De)}parseArrayData(Re,je,Be,De){return parseArrayOrPrimitive(Re,je,Be,De)}parseObjectData(Re,je,Be,De){const{iScale:Fe,vScale:Oe}=Re,{xAxisKey:ke="x",yAxisKey:Me="y"}=this._parsing,Ue=Fe.axis==="x"?ke:Me,$e=Oe.axis==="x"?ke:Me,He=[];let Qe,We,qe,Ke;for(Qe=Be,We=Be+De;Qe<We;++Qe)Ke=je[Qe],qe={},qe[Fe.axis]=Fe.parse(resolveObjectKey(Ke,Ue),Qe),He.push(parseValue(resolveObjectKey(Ke,$e),qe,Oe,Qe));return He}updateRangeFromParsed(Re,je,Be,De){super.updateRangeFromParsed(Re,je,Be,De);const Fe=Be._custom;Fe&&je===this._cachedMeta.vScale&&(Re.min=Math.min(Re.min,Fe.min),Re.max=Math.max(Re.max,Fe.max))}getMaxOverflow(){return 0}getLabelAndValue(Re){const je=this._cachedMeta,{iScale:Be,vScale:De}=je,Fe=this.getParsed(Re),Oe=Fe._custom,ke=isFloatBar(Oe)?"["+Oe.start+", "+Oe.end+"]":""+De.getLabelForValue(Fe[De.axis]);return{label:""+Be.getLabelForValue(Fe[Be.axis]),value:ke}}initialize(){this.enableOptionSharing=!0,super.initialize();const Re=this._cachedMeta;Re.stack=this.getDataset().stack}update(Re){const je=this._cachedMeta;this.updateElements(je.data,0,je.data.length,Re)}updateElements(Re,je,Be,De){const Fe=De==="reset",{index:Oe,_cachedMeta:{vScale:ke}}=this,Me=ke.getBasePixel(),Ue=ke.isHorizontal(),$e=this._getRuler(),{sharedOptions:He,includeOptions:Qe}=this._getSharedOptions(je,De);for(let We=je;We<je+Be;We++){const qe=this.getParsed(We),Ke=Fe||isNullOrUndef(qe[ke.axis])?{base:Me,head:Me}:this._calculateBarValuePixels(We),Xe=this._calculateBarIndexPixels(We,$e),Ye=(qe._stacks||{})[ke.axis],Ze={horizontal:Ue,base:Ke.base,enableBorderRadius:!Ye||isFloatBar(qe._custom)||Oe===Ye._top||Oe===Ye._bottom,x:Ue?Ke.head:Xe.center,y:Ue?Xe.center:Ke.head,height:Ue?Xe.size:Math.abs(Ke.size),width:Ue?Math.abs(Ke.size):Xe.size};Qe&&(Ze.options=He||this.resolveDataElementOptions(We,Re[We].active?"active":De));const Je=Ze.options||Re[We].options;setBorderSkipped(Ze,Je,Ye,Oe),setInflateAmount(Ze,Je,$e.ratio),this.updateElement(Re[We],We,Ze,De)}}_getStacks(Re,je){const{iScale:Be}=this._cachedMeta,De=Be.getMatchingVisibleMetas(this._type).filter($e=>$e.controller.options.grouped),Fe=Be.options.stacked,Oe=[],ke=this._cachedMeta.controller.getParsed(je),Me=ke&&ke[Be.axis],Ue=$e=>{const He=$e._parsed.find(We=>We[Be.axis]===Me),Qe=He&&He[$e.vScale.axis];if(isNullOrUndef(Qe)||isNaN(Qe))return!0};for(const $e of De)if(!(je!==void 0&&Ue($e))&&((Fe===!1||Oe.indexOf($e.stack)===-1||Fe===void 0&&$e.stack===void 0)&&Oe.push($e.stack),$e.index===Re))break;return Oe.length||Oe.push(void 0),Oe}_getStackCount(Re){return this._getStacks(void 0,Re).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const Re=this.chart.scales,je=this.chart.options.indexAxis;return Object.keys(Re).filter(Be=>Re[Be].axis===je).shift()}_getAxis(){const Re={},je=this.getFirstScaleIdForIndexAxis();for(const Be of this.chart.data.datasets)Re[valueOrDefault(this.chart.options.indexAxis==="x"?Be.xAxisID:Be.yAxisID,je)]=!0;return Object.keys(Re)}_getStackIndex(Re,je,Be){const De=this._getStacks(Re,Be),Fe=je!==void 0?De.indexOf(je):-1;return Fe===-1?De.length-1:Fe}_getRuler(){const Re=this.options,je=this._cachedMeta,Be=je.iScale,De=[];let Fe,Oe;for(Fe=0,Oe=je.data.length;Fe<Oe;++Fe)De.push(Be.getPixelForValue(this.getParsed(Fe)[Be.axis],Fe));const ke=Re.barThickness;return{min:ke||computeMinSampleSize(je),pixels:De,start:Be._startPixel,end:Be._endPixel,stackCount:this._getStackCount(),scale:Be,grouped:Re.grouped,ratio:ke?1:Re.categoryPercentage*Re.barPercentage}}_calculateBarValuePixels(Re){const{_cachedMeta:{vScale:je,_stacked:Be,index:De},options:{base:Fe,minBarLength:Oe}}=this,ke=Fe||0,Me=this.getParsed(Re),Ue=Me._custom,$e=isFloatBar(Ue);let He=Me[je.axis],Qe=0,We=Be?this.applyStack(je,Me,Be):He,qe,Ke;We!==He&&(Qe=We-He,We=He),$e&&(He=Ue.barStart,We=Ue.barEnd-Ue.barStart,He!==0&&sign$1(He)!==sign$1(Ue.barEnd)&&(Qe=0),Qe+=He);const Xe=!isNullOrUndef(Fe)&&!$e?Fe:Qe;let Ye=je.getPixelForValue(Xe);if(this.chart.getDataVisibility(Re)?qe=je.getPixelForValue(Qe+We):qe=Ye,Ke=qe-Ye,Math.abs(Ke)<Oe){Ke=barSign(Ke,je,ke)*Oe,He===ke&&(Ye-=Ke/2);const Ze=je.getPixelForDecimal(0),Je=je.getPixelForDecimal(1),tr=Math.min(Ze,Je),rr=Math.max(Ze,Je);Ye=Math.max(Math.min(Ye,rr),tr),qe=Ye+Ke,Be&&!$e&&(Me._stacks[je.axis]._visualValues[De]=je.getValueForPixel(qe)-je.getValueForPixel(Ye))}if(Ye===je.getPixelForValue(ke)){const Ze=sign$1(Ke)*je.getLineWidthForValue(ke)/2;Ye+=Ze,Ke-=Ze}return{size:Ke,base:Ye,head:qe,center:qe+Ke/2}}_calculateBarIndexPixels(Re,je){const Be=je.scale,De=this.options,Fe=De.skipNull,Oe=valueOrDefault(De.maxBarThickness,1/0);let ke,Me;const Ue=this._getAxisCount();if(je.grouped){const $e=Fe?this._getStackCount(Re):je.stackCount,He=De.barThickness==="flex"?computeFlexCategoryTraits(Re,je,De,$e*Ue):computeFitCategoryTraits(Re,je,De,$e*Ue),Qe=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,We=this._getAxis().indexOf(valueOrDefault(Qe,this.getFirstScaleIdForIndexAxis())),qe=this._getStackIndex(this.index,this._cachedMeta.stack,Fe?Re:void 0)+We;ke=He.start+He.chunk*qe+He.chunk/2,Me=Math.min(Oe,He.chunk*He.ratio)}else ke=Be.getPixelForValue(this.getParsed(Re)[Be.axis],Re),Me=Math.min(Oe,je.min*je.ratio);return{base:ke-Me/2,head:ke+Me/2,center:ke,size:Me}}draw(){const Re=this._cachedMeta,je=Re.vScale,Be=Re.data,De=Be.length;let Fe=0;for(;Fe<De;++Fe)this.getParsed(Fe)[je.axis]!==null&&!Be[Fe].hidden&&Be[Fe].draw(this._ctx)}}function getRatioAndOffset(Ce,Re,je){let Be=1,De=1,Fe=0,Oe=0;if(Re<TAU){const ke=Ce,Me=ke+Re,Ue=Math.cos(ke),$e=Math.sin(ke),He=Math.cos(Me),Qe=Math.sin(Me),We=(Je,tr,rr)=>_angleBetween(Je,ke,Me,!0)?1:Math.max(tr,tr*je,rr,rr*je),qe=(Je,tr,rr)=>_angleBetween(Je,ke,Me,!0)?-1:Math.min(tr,tr*je,rr,rr*je),Ke=We(0,Ue,He),Xe=We(HALF_PI,$e,Qe),Ye=qe(PI,Ue,He),Ze=qe(PI+HALF_PI,$e,Qe);Be=(Ke-Ye)/2,De=(Xe-Ze)/2,Fe=-(Ke+Ye)/2,Oe=-(Xe+Ze)/2}return{ratioX:Be,ratioY:De,offsetX:Fe,offsetY:Oe}}class DoughnutController extends DatasetController{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:Re=>Re!=="spacing",_indexable:Re=>Re!=="spacing"&&!Re.startsWith("borderDash")&&!Re.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(Re){const je=Re.data;if(je.labels.length&&je.datasets.length){const{labels:{pointStyle:Be,color:De}}=Re.legend.options;return je.labels.map((Fe,Oe)=>{const Me=Re.getDatasetMeta(0).controller.getStyle(Oe);return{text:Fe,fillStyle:Me.backgroundColor,strokeStyle:Me.borderColor,fontColor:De,lineWidth:Me.borderWidth,pointStyle:Be,hidden:!Re.getDataVisibility(Oe),index:Oe}})}return[]}},onClick(Re,je,Be){Be.chart.toggleDataVisibility(je.index),Be.chart.update()}}}};constructor(Re,je){super(Re,je),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(Re,je){const Be=this.getDataset().data,De=this._cachedMeta;if(this._parsing===!1)De._parsed=Be;else{let Fe=Me=>+Be[Me];if(isObject$1(Be[Re])){const{key:Me="value"}=this._parsing;Fe=Ue=>+resolveObjectKey(Be[Ue],Me)}let Oe,ke;for(Oe=Re,ke=Re+je;Oe<ke;++Oe)De._parsed[Oe]=Fe(Oe)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let Re=TAU,je=-TAU;for(let Be=0;Be<this.chart.data.datasets.length;++Be)if(this.chart.isDatasetVisible(Be)&&this.chart.getDatasetMeta(Be).type===this._type){const De=this.chart.getDatasetMeta(Be).controller,Fe=De._getRotation(),Oe=De._getCircumference();Re=Math.min(Re,Fe),je=Math.max(je,Fe+Oe)}return{rotation:Re,circumference:je-Re}}update(Re){const je=this.chart,{chartArea:Be}=je,De=this._cachedMeta,Fe=De.data,Oe=this.getMaxBorderWidth()+this.getMaxOffset(Fe)+this.options.spacing,ke=Math.max((Math.min(Be.width,Be.height)-Oe)/2,0),Me=Math.min(toPercentage(this.options.cutout,ke),1),Ue=this._getRingWeight(this.index),{circumference:$e,rotation:He}=this._getRotationExtents(),{ratioX:Qe,ratioY:We,offsetX:qe,offsetY:Ke}=getRatioAndOffset(He,$e,Me),Xe=(Be.width-Oe)/Qe,Ye=(Be.height-Oe)/We,Ze=Math.max(Math.min(Xe,Ye)/2,0),Je=toDimension(this.options.radius,Ze),tr=Math.max(Je*Me,0),rr=(Je-tr)/this._getVisibleDatasetWeightTotal();this.offsetX=qe*Je,this.offsetY=Ke*Je,De.total=this.calculateTotal(),this.outerRadius=Je-rr*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-rr*Ue,0),this.updateElements(Fe,0,Fe.length,Re)}_circumference(Re,je){const Be=this.options,De=this._cachedMeta,Fe=this._getCircumference();return je&&Be.animation.animateRotate||!this.chart.getDataVisibility(Re)||De._parsed[Re]===null||De.data[Re].hidden?0:this.calculateCircumference(De._parsed[Re]*Fe/TAU)}updateElements(Re,je,Be,De){const Fe=De==="reset",Oe=this.chart,ke=Oe.chartArea,Ue=Oe.options.animation,$e=(ke.left+ke.right)/2,He=(ke.top+ke.bottom)/2,Qe=Fe&&Ue.animateScale,We=Qe?0:this.innerRadius,qe=Qe?0:this.outerRadius,{sharedOptions:Ke,includeOptions:Xe}=this._getSharedOptions(je,De);let Ye=this._getRotation(),Ze;for(Ze=0;Ze<je;++Ze)Ye+=this._circumference(Ze,Fe);for(Ze=je;Ze<je+Be;++Ze){const Je=this._circumference(Ze,Fe),tr=Re[Ze],rr={x:$e+this.offsetX,y:He+this.offsetY,startAngle:Ye,endAngle:Ye+Je,circumference:Je,outerRadius:qe,innerRadius:We};Xe&&(rr.options=Ke||this.resolveDataElementOptions(Ze,tr.active?"active":De)),Ye+=Je,this.updateElement(tr,Ze,rr,De)}}calculateTotal(){const Re=this._cachedMeta,je=Re.data;let Be=0,De;for(De=0;De<je.length;De++){const Fe=Re._parsed[De];Fe!==null&&!isNaN(Fe)&&this.chart.getDataVisibility(De)&&!je[De].hidden&&(Be+=Math.abs(Fe))}return Be}calculateCircumference(Re){const je=this._cachedMeta.total;return je>0&&!isNaN(Re)?TAU*(Math.abs(Re)/je):0}getLabelAndValue(Re){const je=this._cachedMeta,Be=this.chart,De=Be.data.labels||[],Fe=formatNumber(je._parsed[Re],Be.options.locale);return{label:De[Re]||"",value:Fe}}getMaxBorderWidth(Re){let je=0;const Be=this.chart;let De,Fe,Oe,ke,Me;if(!Re){for(De=0,Fe=Be.data.datasets.length;De<Fe;++De)if(Be.isDatasetVisible(De)){Oe=Be.getDatasetMeta(De),Re=Oe.data,ke=Oe.controller;break}}if(!Re)return 0;for(De=0,Fe=Re.length;De<Fe;++De)Me=ke.resolveDataElementOptions(De),Me.borderAlign!=="inner"&&(je=Math.max(je,Me.borderWidth||0,Me.hoverBorderWidth||0));return je}getMaxOffset(Re){let je=0;for(let Be=0,De=Re.length;Be<De;++Be){const Fe=this.resolveDataElementOptions(Be);je=Math.max(je,Fe.offset||0,Fe.hoverOffset||0)}return je}_getRingWeightOffset(Re){let je=0;for(let Be=0;Be<Re;++Be)this.chart.isDatasetVisible(Be)&&(je+=this._getRingWeight(Be));return je}_getRingWeight(Re){return Math.max(valueOrDefault(this.chart.data.datasets[Re].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class PieController extends DoughnutController{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{static override(Re){Object.assign(DateAdapterBase.prototype,Re)}options;constructor(Re){this.options=Re||{}}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(Ce,Re,je,Be){const{controller:De,data:Fe,_sorted:Oe}=Ce,ke=De._cachedMeta.iScale,Me=Ce.dataset&&Ce.dataset.options?Ce.dataset.options.spanGaps:null;if(ke&&Re===ke.axis&&Re!=="r"&&Oe&&Fe.length){const Ue=ke._reversePixels?_rlookupByKey:_lookupByKey;if(Be){if(De._sharedOptions){const $e=Fe[0],He=typeof $e.getRange=="function"&&$e.getRange(Re);if(He){const Qe=Ue(Fe,Re,je-He),We=Ue(Fe,Re,je+He);return{lo:Qe.lo,hi:We.hi}}}}else{const $e=Ue(Fe,Re,je);if(Me){const{vScale:He}=De._cachedMeta,{_parsed:Qe}=Ce,We=Qe.slice(0,$e.lo+1).reverse().findIndex(Ke=>!isNullOrUndef(Ke[He.axis]));$e.lo-=Math.max(0,We);const qe=Qe.slice($e.hi).findIndex(Ke=>!isNullOrUndef(Ke[He.axis]));$e.hi+=Math.max(0,qe)}return $e}}return{lo:0,hi:Fe.length-1}}function evaluateInteractionItems(Ce,Re,je,Be,De){const Fe=Ce.getSortedVisibleDatasetMetas(),Oe=je[Re];for(let ke=0,Me=Fe.length;ke<Me;++ke){const{index:Ue,data:$e}=Fe[ke],{lo:He,hi:Qe}=binarySearch(Fe[ke],Re,Oe,De);for(let We=He;We<=Qe;++We){const qe=$e[We];qe.skip||Be(qe,Ue,We)}}}function getDistanceMetricForAxis(Ce){const Re=Ce.indexOf("x")!==-1,je=Ce.indexOf("y")!==-1;return function(Be,De){const Fe=Re?Math.abs(Be.x-De.x):0,Oe=je?Math.abs(Be.y-De.y):0;return Math.sqrt(Math.pow(Fe,2)+Math.pow(Oe,2))}}function getIntersectItems(Ce,Re,je,Be,De){const Fe=[];return!De&&!Ce.isPointInArea(Re)||evaluateInteractionItems(Ce,je,Re,function(ke,Me,Ue){!De&&!_isPointInArea(ke,Ce.chartArea,0)||ke.inRange(Re.x,Re.y,Be)&&Fe.push({element:ke,datasetIndex:Me,index:Ue})},!0),Fe}function getNearestRadialItems(Ce,Re,je,Be){let De=[];function Fe(Oe,ke,Me){const{startAngle:Ue,endAngle:$e}=Oe.getProps(["startAngle","endAngle"],Be),{angle:He}=getAngleFromPoint(Oe,{x:Re.x,y:Re.y});_angleBetween(He,Ue,$e)&&De.push({element:Oe,datasetIndex:ke,index:Me})}return evaluateInteractionItems(Ce,je,Re,Fe),De}function getNearestCartesianItems(Ce,Re,je,Be,De,Fe){let Oe=[];const ke=getDistanceMetricForAxis(je);let Me=Number.POSITIVE_INFINITY;function Ue($e,He,Qe){const We=$e.inRange(Re.x,Re.y,De);if(Be&&!We)return;const qe=$e.getCenterPoint(De);if(!(!!Fe||Ce.isPointInArea(qe))&&!We)return;const Xe=ke(Re,qe);Xe<Me?(Oe=[{element:$e,datasetIndex:He,index:Qe}],Me=Xe):Xe===Me&&Oe.push({element:$e,datasetIndex:He,index:Qe})}return evaluateInteractionItems(Ce,je,Re,Ue),Oe}function getNearestItems(Ce,Re,je,Be,De,Fe){return!Fe&&!Ce.isPointInArea(Re)?[]:je==="r"&&!Be?getNearestRadialItems(Ce,Re,je,De):getNearestCartesianItems(Ce,Re,je,Be,De,Fe)}function getAxisItems(Ce,Re,je,Be,De){const Fe=[],Oe=je==="x"?"inXRange":"inYRange";let ke=!1;return evaluateInteractionItems(Ce,je,Re,(Me,Ue,$e)=>{Me[Oe]&&Me[Oe](Re[je],De)&&(Fe.push({element:Me,datasetIndex:Ue,index:$e}),ke=ke||Me.inRange(Re.x,Re.y,De))}),Be&&!ke?[]:Fe}var Interaction={modes:{index(Ce,Re,je,Be){const De=getRelativePosition(Re,Ce),Fe=je.axis||"x",Oe=je.includeInvisible||!1,ke=je.intersect?getIntersectItems(Ce,De,Fe,Be,Oe):getNearestItems(Ce,De,Fe,!1,Be,Oe),Me=[];return ke.length?(Ce.getSortedVisibleDatasetMetas().forEach(Ue=>{const $e=ke[0].index,He=Ue.data[$e];He&&!He.skip&&Me.push({element:He,datasetIndex:Ue.index,index:$e})}),Me):[]},dataset(Ce,Re,je,Be){const De=getRelativePosition(Re,Ce),Fe=je.axis||"xy",Oe=je.includeInvisible||!1;let ke=je.intersect?getIntersectItems(Ce,De,Fe,Be,Oe):getNearestItems(Ce,De,Fe,!1,Be,Oe);if(ke.length>0){const Me=ke[0].datasetIndex,Ue=Ce.getDatasetMeta(Me).data;ke=[];for(let $e=0;$e<Ue.length;++$e)ke.push({element:Ue[$e],datasetIndex:Me,index:$e})}return ke},point(Ce,Re,je,Be){const De=getRelativePosition(Re,Ce),Fe=je.axis||"xy",Oe=je.includeInvisible||!1;return getIntersectItems(Ce,De,Fe,Be,Oe)},nearest(Ce,Re,je,Be){const De=getRelativePosition(Re,Ce),Fe=je.axis||"xy",Oe=je.includeInvisible||!1;return getNearestItems(Ce,De,Fe,je.intersect,Be,Oe)},x(Ce,Re,je,Be){const De=getRelativePosition(Re,Ce);return getAxisItems(Ce,De,"x",je.intersect,Be)},y(Ce,Re,je,Be){const De=getRelativePosition(Re,Ce);return getAxisItems(Ce,De,"y",je.intersect,Be)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(Ce,Re){return Ce.filter(je=>je.pos===Re)}function filterDynamicPositionByAxis(Ce,Re){return Ce.filter(je=>STATIC_POSITIONS.indexOf(je.pos)===-1&&je.box.axis===Re)}function sortByWeight(Ce,Re){return Ce.sort((je,Be)=>{const De=Re?Be:je,Fe=Re?je:Be;return De.weight===Fe.weight?De.index-Fe.index:De.weight-Fe.weight})}function wrapBoxes(Ce){const Re=[];let je,Be,De,Fe,Oe,ke;for(je=0,Be=(Ce||[]).length;je<Be;++je)De=Ce[je],{position:Fe,options:{stack:Oe,stackWeight:ke=1}}=De,Re.push({index:je,box:De,pos:Fe,horizontal:De.isHorizontal(),weight:De.weight,stack:Oe&&Fe+Oe,stackWeight:ke});return Re}function buildStacks(Ce){const Re={};for(const je of Ce){const{stack:Be,pos:De,stackWeight:Fe}=je;if(!Be||!STATIC_POSITIONS.includes(De))continue;const Oe=Re[Be]||(Re[Be]={count:0,placed:0,weight:0,size:0});Oe.count++,Oe.weight+=Fe}return Re}function setLayoutDims(Ce,Re){const je=buildStacks(Ce),{vBoxMaxWidth:Be,hBoxMaxHeight:De}=Re;let Fe,Oe,ke;for(Fe=0,Oe=Ce.length;Fe<Oe;++Fe){ke=Ce[Fe];const{fullSize:Me}=ke.box,Ue=je[ke.stack],$e=Ue&&ke.stackWeight/Ue.weight;ke.horizontal?(ke.width=$e?$e*Be:Me&&Re.availableWidth,ke.height=De):(ke.width=Be,ke.height=$e?$e*De:Me&&Re.availableHeight)}return je}function buildLayoutBoxes(Ce){const Re=wrapBoxes(Ce),je=sortByWeight(Re.filter(Ue=>Ue.box.fullSize),!0),Be=sortByWeight(filterByPosition(Re,"left"),!0),De=sortByWeight(filterByPosition(Re,"right")),Fe=sortByWeight(filterByPosition(Re,"top"),!0),Oe=sortByWeight(filterByPosition(Re,"bottom")),ke=filterDynamicPositionByAxis(Re,"x"),Me=filterDynamicPositionByAxis(Re,"y");return{fullSize:je,leftAndTop:Be.concat(Fe),rightAndBottom:De.concat(Me).concat(Oe).concat(ke),chartArea:filterByPosition(Re,"chartArea"),vertical:Be.concat(De).concat(Me),horizontal:Fe.concat(Oe).concat(ke)}}function getCombinedMax(Ce,Re,je,Be){return Math.max(Ce[je],Re[je])+Math.max(Ce[Be],Re[Be])}function updateMaxPadding(Ce,Re){Ce.top=Math.max(Ce.top,Re.top),Ce.left=Math.max(Ce.left,Re.left),Ce.bottom=Math.max(Ce.bottom,Re.bottom),Ce.right=Math.max(Ce.right,Re.right)}function updateDims(Ce,Re,je,Be){const{pos:De,box:Fe}=je,Oe=Ce.maxPadding;if(!isObject$1(De)){je.size&&(Ce[De]-=je.size);const He=Be[je.stack]||{size:0,count:1};He.size=Math.max(He.size,je.horizontal?Fe.height:Fe.width),je.size=He.size/He.count,Ce[De]+=je.size}Fe.getPadding&&updateMaxPadding(Oe,Fe.getPadding());const ke=Math.max(0,Re.outerWidth-getCombinedMax(Oe,Ce,"left","right")),Me=Math.max(0,Re.outerHeight-getCombinedMax(Oe,Ce,"top","bottom")),Ue=ke!==Ce.w,$e=Me!==Ce.h;return Ce.w=ke,Ce.h=Me,je.horizontal?{same:Ue,other:$e}:{same:$e,other:Ue}}function handleMaxPadding(Ce){const Re=Ce.maxPadding;function je(Be){const De=Math.max(Re[Be]-Ce[Be],0);return Ce[Be]+=De,De}Ce.y+=je("top"),Ce.x+=je("left"),je("right"),je("bottom")}function getMargins(Ce,Re){const je=Re.maxPadding;function Be(De){const Fe={left:0,top:0,right:0,bottom:0};return De.forEach(Oe=>{Fe[Oe]=Math.max(Re[Oe],je[Oe])}),Fe}return Be(Ce?["left","right"]:["top","bottom"])}function fitBoxes(Ce,Re,je,Be){const De=[];let Fe,Oe,ke,Me,Ue,$e;for(Fe=0,Oe=Ce.length,Ue=0;Fe<Oe;++Fe){ke=Ce[Fe],Me=ke.box,Me.update(ke.width||Re.w,ke.height||Re.h,getMargins(ke.horizontal,Re));const{same:He,other:Qe}=updateDims(Re,je,ke,Be);Ue|=He&&De.length,$e=$e||Qe,Me.fullSize||De.push(ke)}return Ue&&fitBoxes(De,Re,je,Be)||$e}function setBoxDims(Ce,Re,je,Be,De){Ce.top=je,Ce.left=Re,Ce.right=Re+Be,Ce.bottom=je+De,Ce.width=Be,Ce.height=De}function placeBoxes(Ce,Re,je,Be){const De=je.padding;let{x:Fe,y:Oe}=Re;for(const ke of Ce){const Me=ke.box,Ue=Be[ke.stack]||{placed:0,weight:1},$e=ke.stackWeight/Ue.weight||1;if(ke.horizontal){const He=Re.w*$e,Qe=Ue.size||Me.height;defined$1(Ue.start)&&(Oe=Ue.start),Me.fullSize?setBoxDims(Me,De.left,Oe,je.outerWidth-De.right-De.left,Qe):setBoxDims(Me,Re.left+Ue.placed,Oe,He,Qe),Ue.start=Oe,Ue.placed+=He,Oe=Me.bottom}else{const He=Re.h*$e,Qe=Ue.size||Me.width;defined$1(Ue.start)&&(Fe=Ue.start),Me.fullSize?setBoxDims(Me,Fe,De.top,Qe,je.outerHeight-De.bottom-De.top):setBoxDims(Me,Fe,Re.top+Ue.placed,Qe,He),Ue.start=Fe,Ue.placed+=He,Fe=Me.right}}Re.x=Fe,Re.y=Oe}var layouts={addBox(Ce,Re){Ce.boxes||(Ce.boxes=[]),Re.fullSize=Re.fullSize||!1,Re.position=Re.position||"top",Re.weight=Re.weight||0,Re._layers=Re._layers||function(){return[{z:0,draw(je){Re.draw(je)}}]},Ce.boxes.push(Re)},removeBox(Ce,Re){const je=Ce.boxes?Ce.boxes.indexOf(Re):-1;je!==-1&&Ce.boxes.splice(je,1)},configure(Ce,Re,je){Re.fullSize=je.fullSize,Re.position=je.position,Re.weight=je.weight},update(Ce,Re,je,Be){if(!Ce)return;const De=toPadding(Ce.options.layout.padding),Fe=Math.max(Re-De.width,0),Oe=Math.max(je-De.height,0),ke=buildLayoutBoxes(Ce.boxes),Me=ke.vertical,Ue=ke.horizontal;each$1(Ce.boxes,Ke=>{typeof Ke.beforeLayout=="function"&&Ke.beforeLayout()});const $e=Me.reduce((Ke,Xe)=>Xe.box.options&&Xe.box.options.display===!1?Ke:Ke+1,0)||1,He=Object.freeze({outerWidth:Re,outerHeight:je,padding:De,availableWidth:Fe,availableHeight:Oe,vBoxMaxWidth:Fe/2/$e,hBoxMaxHeight:Oe/2}),Qe=Object.assign({},De);updateMaxPadding(Qe,toPadding(Be));const We=Object.assign({maxPadding:Qe,w:Fe,h:Oe,x:De.left,y:De.top},De),qe=setLayoutDims(Me.concat(Ue),He);fitBoxes(ke.fullSize,We,He,qe),fitBoxes(Me,We,He,qe),fitBoxes(Ue,We,He,qe)&&fitBoxes(Me,We,He,qe),handleMaxPadding(We),placeBoxes(ke.leftAndTop,We,He,qe),We.x+=We.w,We.y+=We.h,placeBoxes(ke.rightAndBottom,We,He,qe),Ce.chartArea={left:We.left,top:We.top,right:We.left+We.w,bottom:We.top+We.h,height:We.h,width:We.w},each$1(ke.chartArea,Ke=>{const Xe=Ke.box;Object.assign(Xe,Ce.chartArea),Xe.update(We.w,We.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(Re,je){}releaseContext(Re){return!1}addEventListener(Re,je,Be){}removeEventListener(Re,je,Be){}getDevicePixelRatio(){return 1}getMaximumSize(Re,je,Be,De){return je=Math.max(0,je||Re.width),Be=Be||Re.height,{width:je,height:Math.max(0,De?Math.floor(je/De):Be)}}isAttached(Re){return!0}updateConfig(Re){}}class BasicPlatform extends BasePlatform{acquireContext(Re){return Re&&Re.getContext&&Re.getContext("2d")||null}updateConfig(Re){Re.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=Ce=>Ce===null||Ce==="";function initCanvas(Ce,Re){const je=Ce.style,Be=Ce.getAttribute("height"),De=Ce.getAttribute("width");if(Ce[EXPANDO_KEY]={initial:{height:Be,width:De,style:{display:je.display,height:je.height,width:je.width}}},je.display=je.display||"block",je.boxSizing=je.boxSizing||"border-box",isNullOrEmpty(De)){const Fe=readUsedSize(Ce,"width");Fe!==void 0&&(Ce.width=Fe)}if(isNullOrEmpty(Be))if(Ce.style.height==="")Ce.height=Ce.width/(Re||2);else{const Fe=readUsedSize(Ce,"height");Fe!==void 0&&(Ce.height=Fe)}return Ce}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener$1(Ce,Re,je){Ce&&Ce.addEventListener(Re,je,eventListenerOptions)}function removeListener$1(Ce,Re,je){Ce&&Ce.canvas&&Ce.canvas.removeEventListener(Re,je,eventListenerOptions)}function fromNativeEvent(Ce,Re){const je=EVENT_TYPES[Ce.type]||Ce.type,{x:Be,y:De}=getRelativePosition(Ce,Re);return{type:je,chart:Re,native:Ce,x:Be!==void 0?Be:null,y:De!==void 0?De:null}}function nodeListContains(Ce,Re){for(const je of Ce)if(je===Re||je.contains(Re))return!0}function createAttachObserver(Ce,Re,je){const Be=Ce.canvas,De=new MutationObserver(Fe=>{let Oe=!1;for(const ke of Fe)Oe=Oe||nodeListContains(ke.addedNodes,Be),Oe=Oe&&!nodeListContains(ke.removedNodes,Be);Oe&&je()});return De.observe(document,{childList:!0,subtree:!0}),De}function createDetachObserver(Ce,Re,je){const Be=Ce.canvas,De=new MutationObserver(Fe=>{let Oe=!1;for(const ke of Fe)Oe=Oe||nodeListContains(ke.removedNodes,Be),Oe=Oe&&!nodeListContains(ke.addedNodes,Be);Oe&&je()});return De.observe(document,{childList:!0,subtree:!0}),De}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const Ce=window.devicePixelRatio;Ce!==oldDevicePixelRatio&&(oldDevicePixelRatio=Ce,drpListeningCharts.forEach((Re,je)=>{je.currentDevicePixelRatio!==Ce&&Re()}))}function listenDevicePixelRatioChanges(Ce,Re){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(Ce,Re)}function unlistenDevicePixelRatioChanges(Ce){drpListeningCharts.delete(Ce),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(Ce,Re,je){const Be=Ce.canvas,De=Be&&_getParentNode(Be);if(!De)return;const Fe=throttled((ke,Me)=>{const Ue=De.clientWidth;je(ke,Me),Ue<De.clientWidth&&je()},window),Oe=new ResizeObserver(ke=>{const Me=ke[0],Ue=Me.contentRect.width,$e=Me.contentRect.height;Ue===0&&$e===0||Fe(Ue,$e)});return Oe.observe(De),listenDevicePixelRatioChanges(Ce,Fe),Oe}function releaseObserver(Ce,Re,je){je&&je.disconnect(),Re==="resize"&&unlistenDevicePixelRatioChanges(Ce)}function createProxyAndListen(Ce,Re,je){const Be=Ce.canvas,De=throttled(Fe=>{Ce.ctx!==null&&je(fromNativeEvent(Fe,Ce))},Ce);return addListener$1(Be,Re,De),De}class DomPlatform extends BasePlatform{acquireContext(Re,je){const Be=Re&&Re.getContext&&Re.getContext("2d");return Be&&Be.canvas===Re?(initCanvas(Re,je),Be):null}releaseContext(Re){const je=Re.canvas;if(!je[EXPANDO_KEY])return!1;const Be=je[EXPANDO_KEY].initial;["height","width"].forEach(Fe=>{const Oe=Be[Fe];isNullOrUndef(Oe)?je.removeAttribute(Fe):je.setAttribute(Fe,Oe)});const De=Be.style||{};return Object.keys(De).forEach(Fe=>{je.style[Fe]=De[Fe]}),je.width=je.width,delete je[EXPANDO_KEY],!0}addEventListener(Re,je,Be){this.removeEventListener(Re,je);const De=Re.$proxies||(Re.$proxies={}),Oe={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[je]||createProxyAndListen;De[je]=Oe(Re,je,Be)}removeEventListener(Re,je){const Be=Re.$proxies||(Re.$proxies={}),De=Be[je];if(!De)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[je]||removeListener$1)(Re,je,De),Be[je]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(Re,je,Be,De){return getMaximumSize(Re,je,Be,De)}isAttached(Re){const je=Re&&_getParentNode(Re);return!!(je&&je.isConnected)}}function _detectPlatform(Ce){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&Ce instanceof OffscreenCanvas?BasicPlatform:DomPlatform}let Element$1=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(Re){const{x:je,y:Be}=this.getProps(["x","y"],Re);return{x:je,y:Be}}hasValue(){return isNumber$1(this.x)&&isNumber$1(this.y)}getProps(Re,je){const Be=this.$animations;if(!je||!Be)return this;const De={};return Re.forEach(Fe=>{De[Fe]=Be[Fe]&&Be[Fe].active()?Be[Fe]._to:this[Fe]}),De}};function autoSkip(Ce,Re){const je=Ce.options.ticks,Be=determineMaxTicks(Ce),De=Math.min(je.maxTicksLimit||Be,Be),Fe=je.major.enabled?getMajorIndices(Re):[],Oe=Fe.length,ke=Fe[0],Me=Fe[Oe-1],Ue=[];if(Oe>De)return skipMajors(Re,Ue,Fe,Oe/De),Ue;const $e=calculateSpacing(Fe,Re,De);if(Oe>0){let He,Qe;const We=Oe>1?Math.round((Me-ke)/(Oe-1)):null;for(skip(Re,Ue,$e,isNullOrUndef(We)?0:ke-We,ke),He=0,Qe=Oe-1;He<Qe;He++)skip(Re,Ue,$e,Fe[He],Fe[He+1]);return skip(Re,Ue,$e,Me,isNullOrUndef(We)?Re.length:Me+We),Ue}return skip(Re,Ue,$e),Ue}function determineMaxTicks(Ce){const Re=Ce.options.offset,je=Ce._tickSize(),Be=Ce._length/je+(Re?0:1),De=Ce._maxLength/je;return Math.floor(Math.min(Be,De))}function calculateSpacing(Ce,Re,je){const Be=getEvenSpacing(Ce),De=Re.length/je;if(!Be)return Math.max(De,1);const Fe=_factorize(Be);for(let Oe=0,ke=Fe.length-1;Oe<ke;Oe++){const Me=Fe[Oe];if(Me>De)return Me}return Math.max(De,1)}function getMajorIndices(Ce){const Re=[];let je,Be;for(je=0,Be=Ce.length;je<Be;je++)Ce[je].major&&Re.push(je);return Re}function skipMajors(Ce,Re,je,Be){let De=0,Fe=je[0],Oe;for(Be=Math.ceil(Be),Oe=0;Oe<Ce.length;Oe++)Oe===Fe&&(Re.push(Ce[Oe]),De++,Fe=je[De*Be])}function skip(Ce,Re,je,Be,De){const Fe=valueOrDefault(Be,0),Oe=Math.min(valueOrDefault(De,Ce.length),Ce.length);let ke=0,Me,Ue,$e;for(je=Math.ceil(je),De&&(Me=De-Be,je=Me/Math.floor(Me/je)),$e=Fe;$e<0;)ke++,$e=Math.round(Fe+ke*je);for(Ue=Math.max(Fe,0);Ue<Oe;Ue++)Ue===$e&&(Re.push(Ce[Ue]),ke++,$e=Math.round(Fe+ke*je))}function getEvenSpacing(Ce){const Re=Ce.length;let je,Be;if(Re<2)return!1;for(Be=Ce[0],je=1;je<Re;++je)if(Ce[je]-Ce[je-1]!==Be)return!1;return Be}const reverseAlign=Ce=>Ce==="left"?"right":Ce==="right"?"left":Ce,offsetFromEdge=(Ce,Re,je)=>Re==="top"||Re==="left"?Ce[Re]+je:Ce[Re]-je,getTicksLimit=(Ce,Re)=>Math.min(Re||Ce,Ce);function sample(Ce,Re){const je=[],Be=Ce.length/Re,De=Ce.length;let Fe=0;for(;Fe<De;Fe+=Be)je.push(Ce[Math.floor(Fe)]);return je}function getPixelForGridLine(Ce,Re,je){const Be=Ce.ticks.length,De=Math.min(Re,Be-1),Fe=Ce._startPixel,Oe=Ce._endPixel,ke=1e-6;let Me=Ce.getPixelForTick(De),Ue;if(!(je&&(Be===1?Ue=Math.max(Me-Fe,Oe-Me):Re===0?Ue=(Ce.getPixelForTick(1)-Me)/2:Ue=(Me-Ce.getPixelForTick(De-1))/2,Me+=De<Re?Ue:-Ue,Me<Fe-ke||Me>Oe+ke)))return Me}function garbageCollect(Ce,Re){each$1(Ce,je=>{const Be=je.gc,De=Be.length/2;let Fe;if(De>Re){for(Fe=0;Fe<De;++Fe)delete je.data[Be[Fe]];Be.splice(0,De)}})}function getTickMarkLength(Ce){return Ce.drawTicks?Ce.tickLength:0}function getTitleHeight(Ce,Re){if(!Ce.display)return 0;const je=toFont(Ce.font,Re),Be=toPadding(Ce.padding);return(isArray$1(Ce.text)?Ce.text.length:1)*je.lineHeight+Be.height}function createScaleContext(Ce,Re){return createContext(Ce,{scale:Re,type:"scale"})}function createTickContext(Ce,Re,je){return createContext(Ce,{tick:je,index:Re,type:"tick"})}function titleAlign(Ce,Re,je){let Be=_toLeftRightCenter(Ce);return(je&&Re!=="right"||!je&&Re==="right")&&(Be=reverseAlign(Be)),Be}function titleArgs(Ce,Re,je,Be){const{top:De,left:Fe,bottom:Oe,right:ke,chart:Me}=Ce,{chartArea:Ue,scales:$e}=Me;let He=0,Qe,We,qe;const Ke=Oe-De,Xe=ke-Fe;if(Ce.isHorizontal()){if(We=_alignStartEnd(Be,Fe,ke),isObject$1(je)){const Ye=Object.keys(je)[0],Ze=je[Ye];qe=$e[Ye].getPixelForValue(Ze)+Ke-Re}else je==="center"?qe=(Ue.bottom+Ue.top)/2+Ke-Re:qe=offsetFromEdge(Ce,je,Re);Qe=ke-Fe}else{if(isObject$1(je)){const Ye=Object.keys(je)[0],Ze=je[Ye];We=$e[Ye].getPixelForValue(Ze)-Xe+Re}else je==="center"?We=(Ue.left+Ue.right)/2-Xe+Re:We=offsetFromEdge(Ce,je,Re);qe=_alignStartEnd(Be,Oe,De),He=je==="left"?-HALF_PI:HALF_PI}return{titleX:We,titleY:qe,maxWidth:Qe,rotation:He}}class Scale extends Element$1{constructor(Re){super(),this.id=Re.id,this.type=Re.type,this.options=void 0,this.ctx=Re.ctx,this.chart=Re.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(Re){this.options=Re.setContext(this.getContext()),this.axis=Re.axis,this._userMin=this.parse(Re.min),this._userMax=this.parse(Re.max),this._suggestedMin=this.parse(Re.suggestedMin),this._suggestedMax=this.parse(Re.suggestedMax)}parse(Re,je){return Re}getUserBounds(){let{_userMin:Re,_userMax:je,_suggestedMin:Be,_suggestedMax:De}=this;return Re=finiteOrDefault(Re,Number.POSITIVE_INFINITY),je=finiteOrDefault(je,Number.NEGATIVE_INFINITY),Be=finiteOrDefault(Be,Number.POSITIVE_INFINITY),De=finiteOrDefault(De,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(Re,Be),max:finiteOrDefault(je,De),minDefined:isNumberFinite(Re),maxDefined:isNumberFinite(je)}}getMinMax(Re){let{min:je,max:Be,minDefined:De,maxDefined:Fe}=this.getUserBounds(),Oe;if(De&&Fe)return{min:je,max:Be};const ke=this.getMatchingVisibleMetas();for(let Me=0,Ue=ke.length;Me<Ue;++Me)Oe=ke[Me].controller.getMinMax(this,Re),De||(je=Math.min(je,Oe.min)),Fe||(Be=Math.max(Be,Oe.max));return je=Fe&&je>Be?Be:je,Be=De&&je>Be?je:Be,{min:finiteOrDefault(je,finiteOrDefault(Be,je)),max:finiteOrDefault(Be,finiteOrDefault(je,Be))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const Re=this.chart.data;return this.options.labels||(this.isHorizontal()?Re.xLabels:Re.yLabels)||Re.labels||[]}getLabelItems(Re=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(Re))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(Re,je,Be){const{beginAtZero:De,grace:Fe,ticks:Oe}=this.options,ke=Oe.sampleSize;this.beforeUpdate(),this.maxWidth=Re,this.maxHeight=je,this._margins=Be=Object.assign({left:0,right:0,top:0,bottom:0},Be),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+Be.left+Be.right:this.height+Be.top+Be.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,Fe,De),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const Me=ke<this.ticks.length;this._convertTicksToLabels(Me?sample(this.ticks,ke):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),Oe.display&&(Oe.autoSkip||Oe.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),Me&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let Re=this.options.reverse,je,Be;this.isHorizontal()?(je=this.left,Be=this.right):(je=this.top,Be=this.bottom,Re=!Re),this._startPixel=je,this._endPixel=Be,this._reversePixels=Re,this._length=Be-je,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(Re){this.chart.notifyPlugins(Re,this.getContext()),callback(this.options[Re],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(Re){const je=this.options.ticks;let Be,De,Fe;for(Be=0,De=Re.length;Be<De;Be++)Fe=Re[Be],Fe.label=callback(je.callback,[Fe.value,Be,Re],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const Re=this.options,je=Re.ticks,Be=getTicksLimit(this.ticks.length,Re.ticks.maxTicksLimit),De=je.minRotation||0,Fe=je.maxRotation;let Oe=De,ke,Me,Ue;if(!this._isVisible()||!je.display||De>=Fe||Be<=1||!this.isHorizontal()){this.labelRotation=De;return}const $e=this._getLabelSizes(),He=$e.widest.width,Qe=$e.highest.height,We=_limitValue(this.chart.width-He,0,this.maxWidth);ke=Re.offset?this.maxWidth/Be:We/(Be-1),He+6>ke&&(ke=We/(Be-(Re.offset?.5:1)),Me=this.maxHeight-getTickMarkLength(Re.grid)-je.padding-getTitleHeight(Re.title,this.chart.options.font),Ue=Math.sqrt(He*He+Qe*Qe),Oe=toDegrees(Math.min(Math.asin(_limitValue(($e.highest.height+6)/ke,-1,1)),Math.asin(_limitValue(Me/Ue,-1,1))-Math.asin(_limitValue(Qe/Ue,-1,1)))),Oe=Math.max(De,Math.min(Fe,Oe))),this.labelRotation=Oe}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const Re={width:0,height:0},{chart:je,options:{ticks:Be,title:De,grid:Fe}}=this,Oe=this._isVisible(),ke=this.isHorizontal();if(Oe){const Me=getTitleHeight(De,je.options.font);if(ke?(Re.width=this.maxWidth,Re.height=getTickMarkLength(Fe)+Me):(Re.height=this.maxHeight,Re.width=getTickMarkLength(Fe)+Me),Be.display&&this.ticks.length){const{first:Ue,last:$e,widest:He,highest:Qe}=this._getLabelSizes(),We=Be.padding*2,qe=toRadians(this.labelRotation),Ke=Math.cos(qe),Xe=Math.sin(qe);if(ke){const Ye=Be.mirror?0:Xe*He.width+Ke*Qe.height;Re.height=Math.min(this.maxHeight,Re.height+Ye+We)}else{const Ye=Be.mirror?0:Ke*He.width+Xe*Qe.height;Re.width=Math.min(this.maxWidth,Re.width+Ye+We)}this._calculatePadding(Ue,$e,Xe,Ke)}}this._handleMargins(),ke?(this.width=this._length=je.width-this._margins.left-this._margins.right,this.height=Re.height):(this.width=Re.width,this.height=this._length=je.height-this._margins.top-this._margins.bottom)}_calculatePadding(Re,je,Be,De){const{ticks:{align:Fe,padding:Oe},position:ke}=this.options,Me=this.labelRotation!==0,Ue=ke!=="top"&&this.axis==="x";if(this.isHorizontal()){const $e=this.getPixelForTick(0)-this.left,He=this.right-this.getPixelForTick(this.ticks.length-1);let Qe=0,We=0;Me?Ue?(Qe=De*Re.width,We=Be*je.height):(Qe=Be*Re.height,We=De*je.width):Fe==="start"?We=je.width:Fe==="end"?Qe=Re.width:Fe!=="inner"&&(Qe=Re.width/2,We=je.width/2),this.paddingLeft=Math.max((Qe-$e+Oe)*this.width/(this.width-$e),0),this.paddingRight=Math.max((We-He+Oe)*this.width/(this.width-He),0)}else{let $e=je.height/2,He=Re.height/2;Fe==="start"?($e=0,He=Re.height):Fe==="end"&&($e=je.height,He=0),this.paddingTop=$e+Oe,this.paddingBottom=He+Oe}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:Re,position:je}=this.options;return je==="top"||je==="bottom"||Re==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(Re){this.beforeTickToLabelConversion(),this.generateTickLabels(Re);let je,Be;for(je=0,Be=Re.length;je<Be;je++)isNullOrUndef(Re[je].label)&&(Re.splice(je,1),Be--,je--);this.afterTickToLabelConversion()}_getLabelSizes(){let Re=this._labelSizes;if(!Re){const je=this.options.ticks.sampleSize;let Be=this.ticks;je<Be.length&&(Be=sample(Be,je)),this._labelSizes=Re=this._computeLabelSizes(Be,Be.length,this.options.ticks.maxTicksLimit)}return Re}_computeLabelSizes(Re,je,Be){const{ctx:De,_longestTextCache:Fe}=this,Oe=[],ke=[],Me=Math.floor(je/getTicksLimit(je,Be));let Ue=0,$e=0,He,Qe,We,qe,Ke,Xe,Ye,Ze,Je,tr,rr;for(He=0;He<je;He+=Me){if(qe=Re[He].label,Ke=this._resolveTickFontOptions(He),De.font=Xe=Ke.string,Ye=Fe[Xe]=Fe[Xe]||{data:{},gc:[]},Ze=Ke.lineHeight,Je=tr=0,!isNullOrUndef(qe)&&!isArray$1(qe))Je=_measureText(De,Ye.data,Ye.gc,Je,qe),tr=Ze;else if(isArray$1(qe))for(Qe=0,We=qe.length;Qe<We;++Qe)rr=qe[Qe],!isNullOrUndef(rr)&&!isArray$1(rr)&&(Je=_measureText(De,Ye.data,Ye.gc,Je,rr),tr+=Ze);Oe.push(Je),ke.push(tr),Ue=Math.max(Je,Ue),$e=Math.max(tr,$e)}garbageCollect(Fe,je);const ar=Oe.indexOf(Ue),nr=ke.indexOf($e),sr=dr=>({width:Oe[dr]||0,height:ke[dr]||0});return{first:sr(0),last:sr(je-1),widest:sr(ar),highest:sr(nr),widths:Oe,heights:ke}}getLabelForValue(Re){return Re}getPixelForValue(Re,je){return NaN}getValueForPixel(Re){}getPixelForTick(Re){const je=this.ticks;return Re<0||Re>je.length-1?null:this.getPixelForValue(je[Re].value)}getPixelForDecimal(Re){this._reversePixels&&(Re=1-Re);const je=this._startPixel+Re*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,je,0):je)}getDecimalForPixel(Re){const je=(Re-this._startPixel)/this._length;return this._reversePixels?1-je:je}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:Re,max:je}=this;return Re<0&&je<0?je:Re>0&&je>0?Re:0}getContext(Re){const je=this.ticks||[];if(Re>=0&&Re<je.length){const Be=je[Re];return Be.$context||(Be.$context=createTickContext(this.getContext(),Re,Be))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const Re=this.options.ticks,je=toRadians(this.labelRotation),Be=Math.abs(Math.cos(je)),De=Math.abs(Math.sin(je)),Fe=this._getLabelSizes(),Oe=Re.autoSkipPadding||0,ke=Fe?Fe.widest.width+Oe:0,Me=Fe?Fe.highest.height+Oe:0;return this.isHorizontal()?Me*Be>ke*De?ke/Be:Me/De:Me*De<ke*Be?Me/Be:ke/De}_isVisible(){const Re=this.options.display;return Re!=="auto"?!!Re:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(Re){const je=this.axis,Be=this.chart,De=this.options,{grid:Fe,position:Oe,border:ke}=De,Me=Fe.offset,Ue=this.isHorizontal(),He=this.ticks.length+(Me?1:0),Qe=getTickMarkLength(Fe),We=[],qe=ke.setContext(this.getContext()),Ke=qe.display?qe.width:0,Xe=Ke/2,Ye=function(xr){return _alignPixel(Be,xr,Ke)};let Ze,Je,tr,rr,ar,nr,sr,dr,_r,fr,or,Er;if(Oe==="top")Ze=Ye(this.bottom),nr=this.bottom-Qe,dr=Ze-Xe,fr=Ye(Re.top)+Xe,Er=Re.bottom;else if(Oe==="bottom")Ze=Ye(this.top),fr=Re.top,Er=Ye(Re.bottom)-Xe,nr=Ze+Xe,dr=this.top+Qe;else if(Oe==="left")Ze=Ye(this.right),ar=this.right-Qe,sr=Ze-Xe,_r=Ye(Re.left)+Xe,or=Re.right;else if(Oe==="right")Ze=Ye(this.left),_r=Re.left,or=Ye(Re.right)-Xe,ar=Ze+Xe,sr=this.left+Qe;else if(je==="x"){if(Oe==="center")Ze=Ye((Re.top+Re.bottom)/2+.5);else if(isObject$1(Oe)){const xr=Object.keys(Oe)[0],Pr=Oe[xr];Ze=Ye(this.chart.scales[xr].getPixelForValue(Pr))}fr=Re.top,Er=Re.bottom,nr=Ze+Xe,dr=nr+Qe}else if(je==="y"){if(Oe==="center")Ze=Ye((Re.left+Re.right)/2);else if(isObject$1(Oe)){const xr=Object.keys(Oe)[0],Pr=Oe[xr];Ze=Ye(this.chart.scales[xr].getPixelForValue(Pr))}ar=Ze-Xe,sr=ar-Qe,_r=Re.left,or=Re.right}const Rr=valueOrDefault(De.ticks.maxTicksLimit,He),jr=Math.max(1,Math.ceil(He/Rr));for(Je=0;Je<He;Je+=jr){const xr=this.getContext(Je),Pr=Fe.setContext(xr),br=ke.setContext(xr),wr=Pr.lineWidth,Br=Pr.color,Lr=br.dash||[],yr=br.dashOffset,vr=Pr.tickWidth,Tr=Pr.tickColor,Or=Pr.tickBorderDash||[],Nr=Pr.tickBorderDashOffset;tr=getPixelForGridLine(this,Je,Me),tr!==void 0&&(rr=_alignPixel(Be,tr,wr),Ue?ar=sr=_r=or=rr:nr=dr=fr=Er=rr,We.push({tx1:ar,ty1:nr,tx2:sr,ty2:dr,x1:_r,y1:fr,x2:or,y2:Er,width:wr,color:Br,borderDash:Lr,borderDashOffset:yr,tickWidth:vr,tickColor:Tr,tickBorderDash:Or,tickBorderDashOffset:Nr}))}return this._ticksLength=He,this._borderValue=Ze,We}_computeLabelItems(Re){const je=this.axis,Be=this.options,{position:De,ticks:Fe}=Be,Oe=this.isHorizontal(),ke=this.ticks,{align:Me,crossAlign:Ue,padding:$e,mirror:He}=Fe,Qe=getTickMarkLength(Be.grid),We=Qe+$e,qe=He?-$e:We,Ke=-toRadians(this.labelRotation),Xe=[];let Ye,Ze,Je,tr,rr,ar,nr,sr,dr,_r,fr,or,Er="middle";if(De==="top")ar=this.bottom-qe,nr=this._getXAxisLabelAlignment();else if(De==="bottom")ar=this.top+qe,nr=this._getXAxisLabelAlignment();else if(De==="left"){const jr=this._getYAxisLabelAlignment(Qe);nr=jr.textAlign,rr=jr.x}else if(De==="right"){const jr=this._getYAxisLabelAlignment(Qe);nr=jr.textAlign,rr=jr.x}else if(je==="x"){if(De==="center")ar=(Re.top+Re.bottom)/2+We;else if(isObject$1(De)){const jr=Object.keys(De)[0],xr=De[jr];ar=this.chart.scales[jr].getPixelForValue(xr)+We}nr=this._getXAxisLabelAlignment()}else if(je==="y"){if(De==="center")rr=(Re.left+Re.right)/2-We;else if(isObject$1(De)){const jr=Object.keys(De)[0],xr=De[jr];rr=this.chart.scales[jr].getPixelForValue(xr)}nr=this._getYAxisLabelAlignment(Qe).textAlign}je==="y"&&(Me==="start"?Er="top":Me==="end"&&(Er="bottom"));const Rr=this._getLabelSizes();for(Ye=0,Ze=ke.length;Ye<Ze;++Ye){Je=ke[Ye],tr=Je.label;const jr=Fe.setContext(this.getContext(Ye));sr=this.getPixelForTick(Ye)+Fe.labelOffset,dr=this._resolveTickFontOptions(Ye),_r=dr.lineHeight,fr=isArray$1(tr)?tr.length:1;const xr=fr/2,Pr=jr.color,br=jr.textStrokeColor,wr=jr.textStrokeWidth;let Br=nr;Oe?(rr=sr,nr==="inner"&&(Ye===Ze-1?Br=this.options.reverse?"left":"right":Ye===0?Br=this.options.reverse?"right":"left":Br="center"),De==="top"?Ue==="near"||Ke!==0?or=-fr*_r+_r/2:Ue==="center"?or=-Rr.highest.height/2-xr*_r+_r:or=-Rr.highest.height+_r/2:Ue==="near"||Ke!==0?or=_r/2:Ue==="center"?or=Rr.highest.height/2-xr*_r:or=Rr.highest.height-fr*_r,He&&(or*=-1),Ke!==0&&!jr.showLabelBackdrop&&(rr+=_r/2*Math.sin(Ke))):(ar=sr,or=(1-fr)*_r/2);let Lr;if(jr.showLabelBackdrop){const yr=toPadding(jr.backdropPadding),vr=Rr.heights[Ye],Tr=Rr.widths[Ye];let Or=or-yr.top,Nr=0-yr.left;switch(Er){case"middle":Or-=vr/2;break;case"bottom":Or-=vr;break}switch(nr){case"center":Nr-=Tr/2;break;case"right":Nr-=Tr;break;case"inner":Ye===Ze-1?Nr-=Tr:Ye>0&&(Nr-=Tr/2);break}Lr={left:Nr,top:Or,width:Tr+yr.width,height:vr+yr.height,color:jr.backdropColor}}Xe.push({label:tr,font:dr,textOffset:or,options:{rotation:Ke,color:Pr,strokeColor:br,strokeWidth:wr,textAlign:Br,textBaseline:Er,translation:[rr,ar],backdrop:Lr}})}return Xe}_getXAxisLabelAlignment(){const{position:Re,ticks:je}=this.options;if(-toRadians(this.labelRotation))return Re==="top"?"left":"right";let De="center";return je.align==="start"?De="left":je.align==="end"?De="right":je.align==="inner"&&(De="inner"),De}_getYAxisLabelAlignment(Re){const{position:je,ticks:{crossAlign:Be,mirror:De,padding:Fe}}=this.options,Oe=this._getLabelSizes(),ke=Re+Fe,Me=Oe.widest.width;let Ue,$e;return je==="left"?De?($e=this.right+Fe,Be==="near"?Ue="left":Be==="center"?(Ue="center",$e+=Me/2):(Ue="right",$e+=Me)):($e=this.right-ke,Be==="near"?Ue="right":Be==="center"?(Ue="center",$e-=Me/2):(Ue="left",$e=this.left)):je==="right"?De?($e=this.left+Fe,Be==="near"?Ue="right":Be==="center"?(Ue="center",$e-=Me/2):(Ue="left",$e-=Me)):($e=this.left+ke,Be==="near"?Ue="left":Be==="center"?(Ue="center",$e+=Me/2):(Ue="right",$e=this.right)):Ue="right",{textAlign:Ue,x:$e}}_computeLabelArea(){if(this.options.ticks.mirror)return;const Re=this.chart,je=this.options.position;if(je==="left"||je==="right")return{top:0,left:this.left,bottom:Re.height,right:this.right};if(je==="top"||je==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:Re.width}}drawBackground(){const{ctx:Re,options:{backgroundColor:je},left:Be,top:De,width:Fe,height:Oe}=this;je&&(Re.save(),Re.fillStyle=je,Re.fillRect(Be,De,Fe,Oe),Re.restore())}getLineWidthForValue(Re){const je=this.options.grid;if(!this._isVisible()||!je.display)return 0;const De=this.ticks.findIndex(Fe=>Fe.value===Re);return De>=0?je.setContext(this.getContext(De)).lineWidth:0}drawGrid(Re){const je=this.options.grid,Be=this.ctx,De=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(Re));let Fe,Oe;const ke=(Me,Ue,$e)=>{!$e.width||!$e.color||(Be.save(),Be.lineWidth=$e.width,Be.strokeStyle=$e.color,Be.setLineDash($e.borderDash||[]),Be.lineDashOffset=$e.borderDashOffset,Be.beginPath(),Be.moveTo(Me.x,Me.y),Be.lineTo(Ue.x,Ue.y),Be.stroke(),Be.restore())};if(je.display)for(Fe=0,Oe=De.length;Fe<Oe;++Fe){const Me=De[Fe];je.drawOnChartArea&&ke({x:Me.x1,y:Me.y1},{x:Me.x2,y:Me.y2},Me),je.drawTicks&&ke({x:Me.tx1,y:Me.ty1},{x:Me.tx2,y:Me.ty2},{color:Me.tickColor,width:Me.tickWidth,borderDash:Me.tickBorderDash,borderDashOffset:Me.tickBorderDashOffset})}}drawBorder(){const{chart:Re,ctx:je,options:{border:Be,grid:De}}=this,Fe=Be.setContext(this.getContext()),Oe=Be.display?Fe.width:0;if(!Oe)return;const ke=De.setContext(this.getContext(0)).lineWidth,Me=this._borderValue;let Ue,$e,He,Qe;this.isHorizontal()?(Ue=_alignPixel(Re,this.left,Oe)-Oe/2,$e=_alignPixel(Re,this.right,ke)+ke/2,He=Qe=Me):(He=_alignPixel(Re,this.top,Oe)-Oe/2,Qe=_alignPixel(Re,this.bottom,ke)+ke/2,Ue=$e=Me),je.save(),je.lineWidth=Fe.width,je.strokeStyle=Fe.color,je.beginPath(),je.moveTo(Ue,He),je.lineTo($e,Qe),je.stroke(),je.restore()}drawLabels(Re){if(!this.options.ticks.display)return;const Be=this.ctx,De=this._computeLabelArea();De&&clipArea(Be,De);const Fe=this.getLabelItems(Re);for(const Oe of Fe){const ke=Oe.options,Me=Oe.font,Ue=Oe.label,$e=Oe.textOffset;renderText(Be,Ue,0,$e,Me,ke)}De&&unclipArea(Be)}drawTitle(){const{ctx:Re,options:{position:je,title:Be,reverse:De}}=this;if(!Be.display)return;const Fe=toFont(Be.font),Oe=toPadding(Be.padding),ke=Be.align;let Me=Fe.lineHeight/2;je==="bottom"||je==="center"||isObject$1(je)?(Me+=Oe.bottom,isArray$1(Be.text)&&(Me+=Fe.lineHeight*(Be.text.length-1))):Me+=Oe.top;const{titleX:Ue,titleY:$e,maxWidth:He,rotation:Qe}=titleArgs(this,Me,je,ke);renderText(Re,Be.text,0,0,Fe,{color:Be.color,maxWidth:He,rotation:Qe,textAlign:titleAlign(ke,je,De),textBaseline:"middle",translation:[Ue,$e]})}draw(Re){this._isVisible()&&(this.drawBackground(),this.drawGrid(Re),this.drawBorder(),this.drawTitle(),this.drawLabels(Re))}_layers(){const Re=this.options,je=Re.ticks&&Re.ticks.z||0,Be=valueOrDefault(Re.grid&&Re.grid.z,-1),De=valueOrDefault(Re.border&&Re.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:je,draw:Fe=>{this.draw(Fe)}}]:[{z:Be,draw:Fe=>{this.drawBackground(),this.drawGrid(Fe),this.drawTitle()}},{z:De,draw:()=>{this.drawBorder()}},{z:je,draw:Fe=>{this.drawLabels(Fe)}}]}getMatchingVisibleMetas(Re){const je=this.chart.getSortedVisibleDatasetMetas(),Be=this.axis+"AxisID",De=[];let Fe,Oe;for(Fe=0,Oe=je.length;Fe<Oe;++Fe){const ke=je[Fe];ke[Be]===this.id&&(!Re||ke.type===Re)&&De.push(ke)}return De}_resolveTickFontOptions(Re){const je=this.options.ticks.setContext(this.getContext(Re));return toFont(je.font)}_maxDigits(){const Re=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/Re}}class TypedRegistry{constructor(Re,je,Be){this.type=Re,this.scope=je,this.override=Be,this.items=Object.create(null)}isForType(Re){return Object.prototype.isPrototypeOf.call(this.type.prototype,Re.prototype)}register(Re){const je=Object.getPrototypeOf(Re);let Be;isIChartComponent(je)&&(Be=this.register(je));const De=this.items,Fe=Re.id,Oe=this.scope+"."+Fe;if(!Fe)throw new Error("class does not have id: "+Re);return Fe in De||(De[Fe]=Re,registerDefaults(Re,Oe,Be),this.override&&defaults$1.override(Re.id,Re.overrides)),Oe}get(Re){return this.items[Re]}unregister(Re){const je=this.items,Be=Re.id,De=this.scope;Be in je&&delete je[Be],De&&Be in defaults$1[De]&&(delete defaults$1[De][Be],this.override&&delete overrides[Be])}}function registerDefaults(Ce,Re,je){const Be=merge$1(Object.create(null),[je?defaults$1.get(je):{},defaults$1.get(Re),Ce.defaults]);defaults$1.set(Re,Be),Ce.defaultRoutes&&routeDefaults(Re,Ce.defaultRoutes),Ce.descriptors&&defaults$1.describe(Re,Ce.descriptors)}function routeDefaults(Ce,Re){Object.keys(Re).forEach(je=>{const Be=je.split("."),De=Be.pop(),Fe=[Ce].concat(Be).join("."),Oe=Re[je].split("."),ke=Oe.pop(),Me=Oe.join(".");defaults$1.route(Fe,De,Me,ke)})}function isIChartComponent(Ce){return"id"in Ce&&"defaults"in Ce}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...Re){this._each("register",Re)}remove(...Re){this._each("unregister",Re)}addControllers(...Re){this._each("register",Re,this.controllers)}addElements(...Re){this._each("register",Re,this.elements)}addPlugins(...Re){this._each("register",Re,this.plugins)}addScales(...Re){this._each("register",Re,this.scales)}getController(Re){return this._get(Re,this.controllers,"controller")}getElement(Re){return this._get(Re,this.elements,"element")}getPlugin(Re){return this._get(Re,this.plugins,"plugin")}getScale(Re){return this._get(Re,this.scales,"scale")}removeControllers(...Re){this._each("unregister",Re,this.controllers)}removeElements(...Re){this._each("unregister",Re,this.elements)}removePlugins(...Re){this._each("unregister",Re,this.plugins)}removeScales(...Re){this._each("unregister",Re,this.scales)}_each(Re,je,Be){[...je].forEach(De=>{const Fe=Be||this._getRegistryForType(De);Be||Fe.isForType(De)||Fe===this.plugins&&De.id?this._exec(Re,Fe,De):each$1(De,Oe=>{const ke=Be||this._getRegistryForType(Oe);this._exec(Re,ke,Oe)})})}_exec(Re,je,Be){const De=_capitalize(Re);callback(Be["before"+De],[],Be),je[Re](Be),callback(Be["after"+De],[],Be)}_getRegistryForType(Re){for(let je=0;je<this._typedRegistries.length;je++){const Be=this._typedRegistries[je];if(Be.isForType(Re))return Be}return this.plugins}_get(Re,je,Be){const De=je.get(Re);if(De===void 0)throw new Error('"'+Re+'" is not a registered '+Be+".");return De}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(Re,je,Be,De){je==="beforeInit"&&(this._init=this._createDescriptors(Re,!0),this._notify(this._init,Re,"install"));const Fe=De?this._descriptors(Re).filter(De):this._descriptors(Re),Oe=this._notify(Fe,Re,je,Be);return je==="afterDestroy"&&(this._notify(Fe,Re,"stop"),this._notify(this._init,Re,"uninstall")),Oe}_notify(Re,je,Be,De){De=De||{};for(const Fe of Re){const Oe=Fe.plugin,ke=Oe[Be],Me=[je,De,Fe.options];if(callback(ke,Me,Oe)===!1&&De.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(Re){if(this._cache)return this._cache;const je=this._cache=this._createDescriptors(Re);return this._notifyStateChanges(Re),je}_createDescriptors(Re,je){const Be=Re&&Re.config,De=valueOrDefault(Be.options&&Be.options.plugins,{}),Fe=allPlugins(Be);return De===!1&&!je?[]:createDescriptors(Re,Fe,De,je)}_notifyStateChanges(Re){const je=this._oldCache||[],Be=this._cache,De=(Fe,Oe)=>Fe.filter(ke=>!Oe.some(Me=>ke.plugin.id===Me.plugin.id));this._notify(De(je,Be),Re,"stop"),this._notify(De(Be,je),Re,"start")}}function allPlugins(Ce){const Re={},je=[],Be=Object.keys(registry.plugins.items);for(let Fe=0;Fe<Be.length;Fe++)je.push(registry.getPlugin(Be[Fe]));const De=Ce.plugins||[];for(let Fe=0;Fe<De.length;Fe++){const Oe=De[Fe];je.indexOf(Oe)===-1&&(je.push(Oe),Re[Oe.id]=!0)}return{plugins:je,localIds:Re}}function getOpts(Ce,Re){return!Re&&Ce===!1?null:Ce===!0?{}:Ce}function createDescriptors(Ce,{plugins:Re,localIds:je},Be,De){const Fe=[],Oe=Ce.getContext();for(const ke of Re){const Me=ke.id,Ue=getOpts(Be[Me],De);Ue!==null&&Fe.push({plugin:ke,options:pluginOpts(Ce.config,{plugin:ke,local:je[Me]},Ue,Oe)})}return Fe}function pluginOpts(Ce,{plugin:Re,local:je},Be,De){const Fe=Ce.pluginScopeKeys(Re),Oe=Ce.getOptionScopes(Be,Fe);return je&&Re.defaults&&Oe.push(Re.defaults),Ce.createResolver(Oe,De,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(Ce,Re){const je=defaults$1.datasets[Ce]||{};return((Re.datasets||{})[Ce]||{}).indexAxis||Re.indexAxis||je.indexAxis||"x"}function getAxisFromDefaultScaleID(Ce,Re){let je=Ce;return Ce==="_index_"?je=Re:Ce==="_value_"&&(je=Re==="x"?"y":"x"),je}function getDefaultScaleIDFromAxis(Ce,Re){return Ce===Re?"_index_":"_value_"}function idMatchesAxis(Ce){if(Ce==="x"||Ce==="y"||Ce==="r")return Ce}function axisFromPosition(Ce){if(Ce==="top"||Ce==="bottom")return"x";if(Ce==="left"||Ce==="right")return"y"}function determineAxis(Ce,...Re){if(idMatchesAxis(Ce))return Ce;for(const je of Re){const Be=je.axis||axisFromPosition(je.position)||Ce.length>1&&idMatchesAxis(Ce[0].toLowerCase());if(Be)return Be}throw new Error(`Cannot determine type of '${Ce}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(Ce,Re,je){if(je[Re+"AxisID"]===Ce)return{axis:Re}}function retrieveAxisFromDatasets(Ce,Re){if(Re.data&&Re.data.datasets){const je=Re.data.datasets.filter(Be=>Be.xAxisID===Ce||Be.yAxisID===Ce);if(je.length)return getAxisFromDataset(Ce,"x",je[0])||getAxisFromDataset(Ce,"y",je[0])}return{}}function mergeScaleConfig(Ce,Re){const je=overrides[Ce.type]||{scales:{}},Be=Re.scales||{},De=getIndexAxis(Ce.type,Re),Fe=Object.create(null);return Object.keys(Be).forEach(Oe=>{const ke=Be[Oe];if(!isObject$1(ke))return console.error(`Invalid scale configuration for scale: ${Oe}`);if(ke._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${Oe}`);const Me=determineAxis(Oe,ke,retrieveAxisFromDatasets(Oe,Ce),defaults$1.scales[ke.type]),Ue=getDefaultScaleIDFromAxis(Me,De),$e=je.scales||{};Fe[Oe]=mergeIf(Object.create(null),[{axis:Me},ke,$e[Me],$e[Ue]])}),Ce.data.datasets.forEach(Oe=>{const ke=Oe.type||Ce.type,Me=Oe.indexAxis||getIndexAxis(ke,Re),$e=(overrides[ke]||{}).scales||{};Object.keys($e).forEach(He=>{const Qe=getAxisFromDefaultScaleID(He,Me),We=Oe[Qe+"AxisID"]||Qe;Fe[We]=Fe[We]||Object.create(null),mergeIf(Fe[We],[{axis:Qe},Be[We],$e[He]])})}),Object.keys(Fe).forEach(Oe=>{const ke=Fe[Oe];mergeIf(ke,[defaults$1.scales[ke.type],defaults$1.scale])}),Fe}function initOptions(Ce){const Re=Ce.options||(Ce.options={});Re.plugins=valueOrDefault(Re.plugins,{}),Re.scales=mergeScaleConfig(Ce,Re)}function initData(Ce){return Ce=Ce||{},Ce.datasets=Ce.datasets||[],Ce.labels=Ce.labels||[],Ce}function initConfig(Ce){return Ce=Ce||{},Ce.data=initData(Ce.data),initOptions(Ce),Ce}const keyCache=new Map,keysCached=new Set;function cachedKeys(Ce,Re){let je=keyCache.get(Ce);return je||(je=Re(),keyCache.set(Ce,je),keysCached.add(je)),je}const addIfFound=(Ce,Re,je)=>{const Be=resolveObjectKey(Re,je);Be!==void 0&&Ce.add(Be)};class Config{constructor(Re){this._config=initConfig(Re),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(Re){this._config.type=Re}get data(){return this._config.data}set data(Re){this._config.data=initData(Re)}get options(){return this._config.options}set options(Re){this._config.options=Re}get plugins(){return this._config.plugins}update(){const Re=this._config;this.clearCache(),initOptions(Re)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(Re){return cachedKeys(Re,()=>[[`datasets.${Re}`,""]])}datasetAnimationScopeKeys(Re,je){return cachedKeys(`${Re}.transition.${je}`,()=>[[`datasets.${Re}.transitions.${je}`,`transitions.${je}`],[`datasets.${Re}`,""]])}datasetElementScopeKeys(Re,je){return cachedKeys(`${Re}-${je}`,()=>[[`datasets.${Re}.elements.${je}`,`datasets.${Re}`,`elements.${je}`,""]])}pluginScopeKeys(Re){const je=Re.id,Be=this.type;return cachedKeys(`${Be}-plugin-${je}`,()=>[[`plugins.${je}`,...Re.additionalOptionScopes||[]]])}_cachedScopes(Re,je){const Be=this._scopeCache;let De=Be.get(Re);return(!De||je)&&(De=new Map,Be.set(Re,De)),De}getOptionScopes(Re,je,Be){const{options:De,type:Fe}=this,Oe=this._cachedScopes(Re,Be),ke=Oe.get(je);if(ke)return ke;const Me=new Set;je.forEach($e=>{Re&&(Me.add(Re),$e.forEach(He=>addIfFound(Me,Re,He))),$e.forEach(He=>addIfFound(Me,De,He)),$e.forEach(He=>addIfFound(Me,overrides[Fe]||{},He)),$e.forEach(He=>addIfFound(Me,defaults$1,He)),$e.forEach(He=>addIfFound(Me,descriptors,He))});const Ue=Array.from(Me);return Ue.length===0&&Ue.push(Object.create(null)),keysCached.has(je)&&Oe.set(je,Ue),Ue}chartOptionScopes(){const{options:Re,type:je}=this;return[Re,overrides[je]||{},defaults$1.datasets[je]||{},{type:je},defaults$1,descriptors]}resolveNamedOptions(Re,je,Be,De=[""]){const Fe={$shared:!0},{resolver:Oe,subPrefixes:ke}=getResolver(this._resolverCache,Re,De);let Me=Oe;if(needContext(Oe,je)){Fe.$shared=!1,Be=isFunction(Be)?Be():Be;const Ue=this.createResolver(Re,Be,ke);Me=_attachContext(Oe,Be,Ue)}for(const Ue of je)Fe[Ue]=Me[Ue];return Fe}createResolver(Re,je,Be=[""],De){const{resolver:Fe}=getResolver(this._resolverCache,Re,Be);return isObject$1(je)?_attachContext(Fe,je,void 0,De):Fe}}function getResolver(Ce,Re,je){let Be=Ce.get(Re);Be||(Be=new Map,Ce.set(Re,Be));const De=je.join();let Fe=Be.get(De);return Fe||(Fe={resolver:_createResolver(Re,je),subPrefixes:je.filter(ke=>!ke.toLowerCase().includes("hover"))},Be.set(De,Fe)),Fe}const hasFunction=Ce=>isObject$1(Ce)&&Object.getOwnPropertyNames(Ce).some(Re=>isFunction(Ce[Re]));function needContext(Ce,Re){const{isScriptable:je,isIndexable:Be}=_descriptors(Ce);for(const De of Re){const Fe=je(De),Oe=Be(De),ke=(Oe||Fe)&&Ce[De];if(Fe&&(isFunction(ke)||hasFunction(ke))||Oe&&isArray$1(ke))return!0}return!1}var version="4.5.0";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(Ce,Re){return Ce==="top"||Ce==="bottom"||KNOWN_POSITIONS.indexOf(Ce)===-1&&Re==="x"}function compare2Level(Ce,Re){return function(je,Be){return je[Ce]===Be[Ce]?je[Re]-Be[Re]:je[Ce]-Be[Ce]}}function onAnimationsComplete(Ce){const Re=Ce.chart,je=Re.options.animation;Re.notifyPlugins("afterRender"),callback(je&&je.onComplete,[Ce],Re)}function onAnimationProgress(Ce){const Re=Ce.chart,je=Re.options.animation;callback(je&&je.onProgress,[Ce],Re)}function getCanvas(Ce){return _isDomSupported()&&typeof Ce=="string"?Ce=document.getElementById(Ce):Ce&&Ce.length&&(Ce=Ce[0]),Ce&&Ce.canvas&&(Ce=Ce.canvas),Ce}const instances={},getChart=Ce=>{const Re=getCanvas(Ce);return Object.values(instances).filter(je=>je.canvas===Re).pop()};function moveNumericKeys(Ce,Re,je){const Be=Object.keys(Ce);for(const De of Be){const Fe=+De;if(Fe>=Re){const Oe=Ce[De];delete Ce[De],(je>0||Fe>Re)&&(Ce[Fe+je]=Oe)}}}function determineLastEvent(Ce,Re,je,Be){return!je||Ce.type==="mouseout"?null:Be?Re:Ce}let Chart$1=class{static defaults=defaults$1;static instances=instances;static overrides=overrides;static registry=registry;static version=version;static getChart=getChart;static register(...Re){registry.add(...Re),invalidatePlugins()}static unregister(...Re){registry.remove(...Re),invalidatePlugins()}constructor(Re,je){const Be=this.config=new Config(je),De=getCanvas(Re),Fe=getChart(De);if(Fe)throw new Error("Canvas is already in use. Chart with ID '"+Fe.id+"' must be destroyed before the canvas with ID '"+Fe.canvas.id+"' can be reused.");const Oe=Be.createResolver(Be.chartOptionScopes(),this.getContext());this.platform=new(Be.platform||_detectPlatform(De)),this.platform.updateConfig(Be);const ke=this.platform.acquireContext(De,Oe.aspectRatio),Me=ke&&ke.canvas,Ue=Me&&Me.height,$e=Me&&Me.width;if(this.id=uid(),this.ctx=ke,this.canvas=Me,this.width=$e,this.height=Ue,this._options=Oe,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce$3(He=>this.update(He),Oe.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!ke||!Me){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:Re,maintainAspectRatio:je},width:Be,height:De,_aspectRatio:Fe}=this;return isNullOrUndef(Re)?je&&Fe?Fe:De?Be/De:null:Re}get data(){return this.config.data}set data(Re){this.config.data=Re}get options(){return this._options}set options(Re){this.config.options=Re}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(Re,je){animator.running(this)?this._resizeBeforeDraw={width:Re,height:je}:this._resize(Re,je)}_resize(Re,je){const Be=this.options,De=this.canvas,Fe=Be.maintainAspectRatio&&this.aspectRatio,Oe=this.platform.getMaximumSize(De,Re,je,Fe),ke=Be.devicePixelRatio||this.platform.getDevicePixelRatio(),Me=this.width?"resize":"attach";this.width=Oe.width,this.height=Oe.height,this._aspectRatio=this.aspectRatio,retinaScale(this,ke,!0)&&(this.notifyPlugins("resize",{size:Oe}),callback(Be.onResize,[this,Oe],this),this.attached&&this._doResize(Me)&&this.render())}ensureScalesHaveIDs(){const je=this.options.scales||{};each$1(je,(Be,De)=>{Be.id=De})}buildOrUpdateScales(){const Re=this.options,je=Re.scales,Be=this.scales,De=Object.keys(Be).reduce((Oe,ke)=>(Oe[ke]=!1,Oe),{});let Fe=[];je&&(Fe=Fe.concat(Object.keys(je).map(Oe=>{const ke=je[Oe],Me=determineAxis(Oe,ke),Ue=Me==="r",$e=Me==="x";return{options:ke,dposition:Ue?"chartArea":$e?"bottom":"left",dtype:Ue?"radialLinear":$e?"category":"linear"}}))),each$1(Fe,Oe=>{const ke=Oe.options,Me=ke.id,Ue=determineAxis(Me,ke),$e=valueOrDefault(ke.type,Oe.dtype);(ke.position===void 0||positionIsHorizontal(ke.position,Ue)!==positionIsHorizontal(Oe.dposition))&&(ke.position=Oe.dposition),De[Me]=!0;let He=null;if(Me in Be&&Be[Me].type===$e)He=Be[Me];else{const Qe=registry.getScale($e);He=new Qe({id:Me,type:$e,ctx:this.ctx,chart:this}),Be[He.id]=He}He.init(ke,Re)}),each$1(De,(Oe,ke)=>{Oe||delete Be[ke]}),each$1(Be,Oe=>{layouts.configure(this,Oe,Oe.options),layouts.addBox(this,Oe)})}_updateMetasets(){const Re=this._metasets,je=this.data.datasets.length,Be=Re.length;if(Re.sort((De,Fe)=>De.index-Fe.index),Be>je){for(let De=je;De<Be;++De)this._destroyDatasetMeta(De);Re.splice(je,Be-je)}this._sortedMetasets=Re.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:Re,data:{datasets:je}}=this;Re.length>je.length&&delete this._stacks,Re.forEach((Be,De)=>{je.filter(Fe=>Fe===Be._dataset).length===0&&this._destroyDatasetMeta(De)})}buildOrUpdateControllers(){const Re=[],je=this.data.datasets;let Be,De;for(this._removeUnreferencedMetasets(),Be=0,De=je.length;Be<De;Be++){const Fe=je[Be];let Oe=this.getDatasetMeta(Be);const ke=Fe.type||this.config.type;if(Oe.type&&Oe.type!==ke&&(this._destroyDatasetMeta(Be),Oe=this.getDatasetMeta(Be)),Oe.type=ke,Oe.indexAxis=Fe.indexAxis||getIndexAxis(ke,this.options),Oe.order=Fe.order||0,Oe.index=Be,Oe.label=""+Fe.label,Oe.visible=this.isDatasetVisible(Be),Oe.controller)Oe.controller.updateIndex(Be),Oe.controller.linkScales();else{const Me=registry.getController(ke),{datasetElementType:Ue,dataElementType:$e}=defaults$1.datasets[ke];Object.assign(Me,{dataElementType:registry.getElement($e),datasetElementType:Ue&&registry.getElement(Ue)}),Oe.controller=new Me(this,Be),Re.push(Oe.controller)}}return this._updateMetasets(),Re}_resetElements(){each$1(this.data.datasets,(Re,je)=>{this.getDatasetMeta(je).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(Re){const je=this.config;je.update();const Be=this._options=je.createResolver(je.chartOptionScopes(),this.getContext()),De=this._animationsDisabled=!Be.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:Re,cancelable:!0})===!1)return;const Fe=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let Oe=0;for(let Ue=0,$e=this.data.datasets.length;Ue<$e;Ue++){const{controller:He}=this.getDatasetMeta(Ue),Qe=!De&&Fe.indexOf(He)===-1;He.buildOrUpdateElements(Qe),Oe=Math.max(+He.getMaxOverflow(),Oe)}Oe=this._minPadding=Be.layout.autoPadding?Oe:0,this._updateLayout(Oe),De||each$1(Fe,Ue=>{Ue.reset()}),this._updateDatasets(Re),this.notifyPlugins("afterUpdate",{mode:Re}),this._layers.sort(compare2Level("z","_idx"));const{_active:ke,_lastEvent:Me}=this;Me?this._eventHandler(Me,!0):ke.length&&this._updateHoverStyles(ke,ke,!0),this.render()}_updateScales(){each$1(this.scales,Re=>{layouts.removeBox(this,Re)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const Re=this.options,je=new Set(Object.keys(this._listeners)),Be=new Set(Re.events);(!setsEqual(je,Be)||!!this._responsiveListeners!==Re.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:Re}=this,je=this._getUniformDataChanges()||[];for(const{method:Be,start:De,count:Fe}of je){const Oe=Be==="_removeElements"?-Fe:Fe;moveNumericKeys(Re,De,Oe)}}_getUniformDataChanges(){const Re=this._dataChanges;if(!Re||!Re.length)return;this._dataChanges=[];const je=this.data.datasets.length,Be=Fe=>new Set(Re.filter(Oe=>Oe[0]===Fe).map((Oe,ke)=>ke+","+Oe.splice(1).join(","))),De=Be(0);for(let Fe=1;Fe<je;Fe++)if(!setsEqual(De,Be(Fe)))return;return Array.from(De).map(Fe=>Fe.split(",")).map(Fe=>({method:Fe[1],start:+Fe[2],count:+Fe[3]}))}_updateLayout(Re){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,Re);const je=this.chartArea,Be=je.width<=0||je.height<=0;this._layers=[],each$1(this.boxes,De=>{Be&&De.position==="chartArea"||(De.configure&&De.configure(),this._layers.push(...De._layers()))},this),this._layers.forEach((De,Fe)=>{De._idx=Fe}),this.notifyPlugins("afterLayout")}_updateDatasets(Re){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:Re,cancelable:!0})!==!1){for(let je=0,Be=this.data.datasets.length;je<Be;++je)this.getDatasetMeta(je).controller.configure();for(let je=0,Be=this.data.datasets.length;je<Be;++je)this._updateDataset(je,isFunction(Re)?Re({datasetIndex:je}):Re);this.notifyPlugins("afterDatasetsUpdate",{mode:Re})}}_updateDataset(Re,je){const Be=this.getDatasetMeta(Re),De={meta:Be,index:Re,mode:je,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",De)!==!1&&(Be.controller._update(je),De.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",De))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let Re;if(this._resizeBeforeDraw){const{width:Be,height:De}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(Be,De)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const je=this._layers;for(Re=0;Re<je.length&&je[Re].z<=0;++Re)je[Re].draw(this.chartArea);for(this._drawDatasets();Re<je.length;++Re)je[Re].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(Re){const je=this._sortedMetasets,Be=[];let De,Fe;for(De=0,Fe=je.length;De<Fe;++De){const Oe=je[De];(!Re||Oe.visible)&&Be.push(Oe)}return Be}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const Re=this.getSortedVisibleDatasetMetas();for(let je=Re.length-1;je>=0;--je)this._drawDataset(Re[je]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(Re){const je=this.ctx,Be={meta:Re,index:Re.index,cancelable:!0},De=getDatasetClipArea(this,Re);this.notifyPlugins("beforeDatasetDraw",Be)!==!1&&(De&&clipArea(je,De),Re.controller.draw(),De&&unclipArea(je),Be.cancelable=!1,this.notifyPlugins("afterDatasetDraw",Be))}isPointInArea(Re){return _isPointInArea(Re,this.chartArea,this._minPadding)}getElementsAtEventForMode(Re,je,Be,De){const Fe=Interaction.modes[je];return typeof Fe=="function"?Fe(this,Re,Be,De):[]}getDatasetMeta(Re){const je=this.data.datasets[Re],Be=this._metasets;let De=Be.filter(Fe=>Fe&&Fe._dataset===je).pop();return De||(De={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:je&&je.order||0,index:Re,_dataset:je,_parsed:[],_sorted:!1},Be.push(De)),De}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(Re){const je=this.data.datasets[Re];if(!je)return!1;const Be=this.getDatasetMeta(Re);return typeof Be.hidden=="boolean"?!Be.hidden:!je.hidden}setDatasetVisibility(Re,je){const Be=this.getDatasetMeta(Re);Be.hidden=!je}toggleDataVisibility(Re){this._hiddenIndices[Re]=!this._hiddenIndices[Re]}getDataVisibility(Re){return!this._hiddenIndices[Re]}_updateVisibility(Re,je,Be){const De=Be?"show":"hide",Fe=this.getDatasetMeta(Re),Oe=Fe.controller._resolveAnimations(void 0,De);defined$1(je)?(Fe.data[je].hidden=!Be,this.update()):(this.setDatasetVisibility(Re,Be),Oe.update(Fe,{visible:Be}),this.update(ke=>ke.datasetIndex===Re?De:void 0))}hide(Re,je){this._updateVisibility(Re,je,!1)}show(Re,je){this._updateVisibility(Re,je,!0)}_destroyDatasetMeta(Re){const je=this._metasets[Re];je&&je.controller&&je.controller._destroy(),delete this._metasets[Re]}_stop(){let Re,je;for(this.stop(),animator.remove(this),Re=0,je=this.data.datasets.length;Re<je;++Re)this._destroyDatasetMeta(Re)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:Re,ctx:je}=this;this._stop(),this.config.clearCache(),Re&&(this.unbindEvents(),clearCanvas(Re,je),this.platform.releaseContext(je),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...Re){return this.canvas.toDataURL(...Re)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const Re=this._listeners,je=this.platform,Be=(Fe,Oe)=>{je.addEventListener(this,Fe,Oe),Re[Fe]=Oe},De=(Fe,Oe,ke)=>{Fe.offsetX=Oe,Fe.offsetY=ke,this._eventHandler(Fe)};each$1(this.options.events,Fe=>Be(Fe,De))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const Re=this._responsiveListeners,je=this.platform,Be=(Me,Ue)=>{je.addEventListener(this,Me,Ue),Re[Me]=Ue},De=(Me,Ue)=>{Re[Me]&&(je.removeEventListener(this,Me,Ue),delete Re[Me])},Fe=(Me,Ue)=>{this.canvas&&this.resize(Me,Ue)};let Oe;const ke=()=>{De("attach",ke),this.attached=!0,this.resize(),Be("resize",Fe),Be("detach",Oe)};Oe=()=>{this.attached=!1,De("resize",Fe),this._stop(),this._resize(0,0),Be("attach",ke)},je.isAttached(this.canvas)?ke():Oe()}unbindEvents(){each$1(this._listeners,(Re,je)=>{this.platform.removeEventListener(this,je,Re)}),this._listeners={},each$1(this._responsiveListeners,(Re,je)=>{this.platform.removeEventListener(this,je,Re)}),this._responsiveListeners=void 0}updateHoverStyle(Re,je,Be){const De=Be?"set":"remove";let Fe,Oe,ke,Me;for(je==="dataset"&&(Fe=this.getDatasetMeta(Re[0].datasetIndex),Fe.controller["_"+De+"DatasetHoverStyle"]()),ke=0,Me=Re.length;ke<Me;++ke){Oe=Re[ke];const Ue=Oe&&this.getDatasetMeta(Oe.datasetIndex).controller;Ue&&Ue[De+"HoverStyle"](Oe.element,Oe.datasetIndex,Oe.index)}}getActiveElements(){return this._active||[]}setActiveElements(Re){const je=this._active||[],Be=Re.map(({datasetIndex:Fe,index:Oe})=>{const ke=this.getDatasetMeta(Fe);if(!ke)throw new Error("No dataset found at index "+Fe);return{datasetIndex:Fe,element:ke.data[Oe],index:Oe}});!_elementsEqual(Be,je)&&(this._active=Be,this._lastEvent=null,this._updateHoverStyles(Be,je))}notifyPlugins(Re,je,Be){return this._plugins.notify(this,Re,je,Be)}isPluginEnabled(Re){return this._plugins._cache.filter(je=>je.plugin.id===Re).length===1}_updateHoverStyles(Re,je,Be){const De=this.options.hover,Fe=(Me,Ue)=>Me.filter($e=>!Ue.some(He=>$e.datasetIndex===He.datasetIndex&&$e.index===He.index)),Oe=Fe(je,Re),ke=Be?Re:Fe(Re,je);Oe.length&&this.updateHoverStyle(Oe,De.mode,!1),ke.length&&De.mode&&this.updateHoverStyle(ke,De.mode,!0)}_eventHandler(Re,je){const Be={event:Re,replay:je,cancelable:!0,inChartArea:this.isPointInArea(Re)},De=Oe=>(Oe.options.events||this.options.events).includes(Re.native.type);if(this.notifyPlugins("beforeEvent",Be,De)===!1)return;const Fe=this._handleEvent(Re,je,Be.inChartArea);return Be.cancelable=!1,this.notifyPlugins("afterEvent",Be,De),(Fe||Be.changed)&&this.render(),this}_handleEvent(Re,je,Be){const{_active:De=[],options:Fe}=this,Oe=je,ke=this._getActiveElements(Re,De,Be,Oe),Me=_isClickEvent(Re),Ue=determineLastEvent(Re,this._lastEvent,Be,Me);Be&&(this._lastEvent=null,callback(Fe.onHover,[Re,ke,this],this),Me&&callback(Fe.onClick,[Re,ke,this],this));const $e=!_elementsEqual(ke,De);return($e||je)&&(this._active=ke,this._updateHoverStyles(ke,De,je)),this._lastEvent=Ue,$e}_getActiveElements(Re,je,Be,De){if(Re.type==="mouseout")return[];if(!Be)return je;const Fe=this.options.hover;return this.getElementsAtEventForMode(Re,Fe.mode,Fe,De)}};function invalidatePlugins(){return each$1(Chart$1.instances,Ce=>Ce._plugins.invalidate())}function clipSelf(Ce,Re,je){const{startAngle:Be,x:De,y:Fe,outerRadius:Oe,innerRadius:ke,options:Me}=Re,{borderWidth:Ue,borderJoinStyle:$e}=Me,He=Math.min(Ue/Oe,_normalizeAngle(Be-je));if(Ce.beginPath(),Ce.arc(De,Fe,Oe-Ue/2,Be+He/2,je-He/2),ke>0){const Qe=Math.min(Ue/ke,_normalizeAngle(Be-je));Ce.arc(De,Fe,ke+Ue/2,je-Qe/2,Be+Qe/2,!0)}else{const Qe=Math.min(Ue/2,Oe*_normalizeAngle(Be-je));if($e==="round")Ce.arc(De,Fe,Qe,je-PI/2,Be+PI/2,!0);else if($e==="bevel"){const We=2*Qe*Qe,qe=-We*Math.cos(je+PI/2)+De,Ke=-We*Math.sin(je+PI/2)+Fe,Xe=We*Math.cos(Be+PI/2)+De,Ye=We*Math.sin(Be+PI/2)+Fe;Ce.lineTo(qe,Ke),Ce.lineTo(Xe,Ye)}}Ce.closePath(),Ce.moveTo(0,0),Ce.rect(0,0,Ce.canvas.width,Ce.canvas.height),Ce.clip("evenodd")}function clipArc(Ce,Re,je){const{startAngle:Be,pixelMargin:De,x:Fe,y:Oe,outerRadius:ke,innerRadius:Me}=Re;let Ue=De/ke;Ce.beginPath(),Ce.arc(Fe,Oe,ke,Be-Ue,je+Ue),Me>De?(Ue=De/Me,Ce.arc(Fe,Oe,Me,je+Ue,Be-Ue,!0)):Ce.arc(Fe,Oe,De,je+HALF_PI,Be-HALF_PI),Ce.closePath(),Ce.clip()}function toRadiusCorners(Ce){return _readValueToProps(Ce,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(Ce,Re,je,Be){const De=toRadiusCorners(Ce.options.borderRadius),Fe=(je-Re)/2,Oe=Math.min(Fe,Be*Re/2),ke=Me=>{const Ue=(je-Math.min(Fe,Me))*Be/2;return _limitValue(Me,0,Math.min(Fe,Ue))};return{outerStart:ke(De.outerStart),outerEnd:ke(De.outerEnd),innerStart:_limitValue(De.innerStart,0,Oe),innerEnd:_limitValue(De.innerEnd,0,Oe)}}function rThetaToXY(Ce,Re,je,Be){return{x:je+Ce*Math.cos(Re),y:Be+Ce*Math.sin(Re)}}function pathArc(Ce,Re,je,Be,De,Fe){const{x:Oe,y:ke,startAngle:Me,pixelMargin:Ue,innerRadius:$e}=Re,He=Math.max(Re.outerRadius+Be+je-Ue,0),Qe=$e>0?$e+Be+je+Ue:0;let We=0;const qe=De-Me;if(Be){const jr=$e>0?$e-Be:0,xr=He>0?He-Be:0,Pr=(jr+xr)/2,br=Pr!==0?qe*Pr/(Pr+Be):qe;We=(qe-br)/2}const Ke=Math.max(.001,qe*He-je/PI)/He,Xe=(qe-Ke)/2,Ye=Me+Xe+We,Ze=De-Xe-We,{outerStart:Je,outerEnd:tr,innerStart:rr,innerEnd:ar}=parseBorderRadius$1(Re,Qe,He,Ze-Ye),nr=He-Je,sr=He-tr,dr=Ye+Je/nr,_r=Ze-tr/sr,fr=Qe+rr,or=Qe+ar,Er=Ye+rr/fr,Rr=Ze-ar/or;if(Ce.beginPath(),Fe){const jr=(dr+_r)/2;if(Ce.arc(Oe,ke,He,dr,jr),Ce.arc(Oe,ke,He,jr,_r),tr>0){const wr=rThetaToXY(sr,_r,Oe,ke);Ce.arc(wr.x,wr.y,tr,_r,Ze+HALF_PI)}const xr=rThetaToXY(or,Ze,Oe,ke);if(Ce.lineTo(xr.x,xr.y),ar>0){const wr=rThetaToXY(or,Rr,Oe,ke);Ce.arc(wr.x,wr.y,ar,Ze+HALF_PI,Rr+Math.PI)}const Pr=(Ze-ar/Qe+(Ye+rr/Qe))/2;if(Ce.arc(Oe,ke,Qe,Ze-ar/Qe,Pr,!0),Ce.arc(Oe,ke,Qe,Pr,Ye+rr/Qe,!0),rr>0){const wr=rThetaToXY(fr,Er,Oe,ke);Ce.arc(wr.x,wr.y,rr,Er+Math.PI,Ye-HALF_PI)}const br=rThetaToXY(nr,Ye,Oe,ke);if(Ce.lineTo(br.x,br.y),Je>0){const wr=rThetaToXY(nr,dr,Oe,ke);Ce.arc(wr.x,wr.y,Je,Ye-HALF_PI,dr)}}else{Ce.moveTo(Oe,ke);const jr=Math.cos(dr)*He+Oe,xr=Math.sin(dr)*He+ke;Ce.lineTo(jr,xr);const Pr=Math.cos(_r)*He+Oe,br=Math.sin(_r)*He+ke;Ce.lineTo(Pr,br)}Ce.closePath()}function drawArc(Ce,Re,je,Be,De){const{fullCircles:Fe,startAngle:Oe,circumference:ke}=Re;let Me=Re.endAngle;if(Fe){pathArc(Ce,Re,je,Be,Me,De);for(let Ue=0;Ue<Fe;++Ue)Ce.fill();isNaN(ke)||(Me=Oe+(ke%TAU||TAU))}return pathArc(Ce,Re,je,Be,Me,De),Ce.fill(),Me}function drawBorder(Ce,Re,je,Be,De){const{fullCircles:Fe,startAngle:Oe,circumference:ke,options:Me}=Re,{borderWidth:Ue,borderJoinStyle:$e,borderDash:He,borderDashOffset:Qe,borderRadius:We}=Me,qe=Me.borderAlign==="inner";if(!Ue)return;Ce.setLineDash(He||[]),Ce.lineDashOffset=Qe,qe?(Ce.lineWidth=Ue*2,Ce.lineJoin=$e||"round"):(Ce.lineWidth=Ue,Ce.lineJoin=$e||"bevel");let Ke=Re.endAngle;if(Fe){pathArc(Ce,Re,je,Be,Ke,De);for(let Xe=0;Xe<Fe;++Xe)Ce.stroke();isNaN(ke)||(Ke=Oe+(ke%TAU||TAU))}qe&&clipArc(Ce,Re,Ke),Me.selfJoin&&Ke-Oe>=PI&&We===0&&$e!=="miter"&&clipSelf(Ce,Re,Ke),Fe||(pathArc(Ce,Re,je,Be,Ke,De),Ce.stroke())}class ArcElement extends Element$1{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:Re=>Re!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(Re){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,Re&&Object.assign(this,Re)}inRange(Re,je,Be){const De=this.getProps(["x","y"],Be),{angle:Fe,distance:Oe}=getAngleFromPoint(De,{x:Re,y:je}),{startAngle:ke,endAngle:Me,innerRadius:Ue,outerRadius:$e,circumference:He}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],Be),Qe=(this.options.spacing+this.options.borderWidth)/2,We=valueOrDefault(He,Me-ke),qe=_angleBetween(Fe,ke,Me)&&ke!==Me,Ke=We>=TAU||qe,Xe=_isBetween(Oe,Ue+Qe,$e+Qe);return Ke&&Xe}getCenterPoint(Re){const{x:je,y:Be,startAngle:De,endAngle:Fe,innerRadius:Oe,outerRadius:ke}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],Re),{offset:Me,spacing:Ue}=this.options,$e=(De+Fe)/2,He=(Oe+ke+Ue+Me)/2;return{x:je+Math.cos($e)*He,y:Be+Math.sin($e)*He}}tooltipPosition(Re){return this.getCenterPoint(Re)}draw(Re){const{options:je,circumference:Be}=this,De=(je.offset||0)/4,Fe=(je.spacing||0)/2,Oe=je.circular;if(this.pixelMargin=je.borderAlign==="inner"?.33:0,this.fullCircles=Be>TAU?Math.floor(Be/TAU):0,Be===0||this.innerRadius<0||this.outerRadius<0)return;Re.save();const ke=(this.startAngle+this.endAngle)/2;Re.translate(Math.cos(ke)*De,Math.sin(ke)*De);const Me=1-Math.sin(Math.min(PI,Be||0)),Ue=De*Me;Re.fillStyle=je.backgroundColor,Re.strokeStyle=je.borderColor,drawArc(Re,this,Ue,Fe,Oe),drawBorder(Re,this,Ue,Fe,Oe),Re.restore()}}function setStyle(Ce,Re,je=Re){Ce.lineCap=valueOrDefault(je.borderCapStyle,Re.borderCapStyle),Ce.setLineDash(valueOrDefault(je.borderDash,Re.borderDash)),Ce.lineDashOffset=valueOrDefault(je.borderDashOffset,Re.borderDashOffset),Ce.lineJoin=valueOrDefault(je.borderJoinStyle,Re.borderJoinStyle),Ce.lineWidth=valueOrDefault(je.borderWidth,Re.borderWidth),Ce.strokeStyle=valueOrDefault(je.borderColor,Re.borderColor)}function lineTo(Ce,Re,je){Ce.lineTo(je.x,je.y)}function getLineMethod(Ce){return Ce.stepped?_steppedLineTo:Ce.tension||Ce.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(Ce,Re,je={}){const Be=Ce.length,{start:De=0,end:Fe=Be-1}=je,{start:Oe,end:ke}=Re,Me=Math.max(De,Oe),Ue=Math.min(Fe,ke),$e=De<Oe&&Fe<Oe||De>ke&&Fe>ke;return{count:Be,start:Me,loop:Re.loop,ilen:Ue<Me&&!$e?Be+Ue-Me:Ue-Me}}function pathSegment(Ce,Re,je,Be){const{points:De,options:Fe}=Re,{count:Oe,start:ke,loop:Me,ilen:Ue}=pathVars(De,je,Be),$e=getLineMethod(Fe);let{move:He=!0,reverse:Qe}=Be||{},We,qe,Ke;for(We=0;We<=Ue;++We)qe=De[(ke+(Qe?Ue-We:We))%Oe],!qe.skip&&(He?(Ce.moveTo(qe.x,qe.y),He=!1):$e(Ce,Ke,qe,Qe,Fe.stepped),Ke=qe);return Me&&(qe=De[(ke+(Qe?Ue:0))%Oe],$e(Ce,Ke,qe,Qe,Fe.stepped)),!!Me}function fastPathSegment(Ce,Re,je,Be){const De=Re.points,{count:Fe,start:Oe,ilen:ke}=pathVars(De,je,Be),{move:Me=!0,reverse:Ue}=Be||{};let $e=0,He=0,Qe,We,qe,Ke,Xe,Ye;const Ze=tr=>(Oe+(Ue?ke-tr:tr))%Fe,Je=()=>{Ke!==Xe&&(Ce.lineTo($e,Xe),Ce.lineTo($e,Ke),Ce.lineTo($e,Ye))};for(Me&&(We=De[Ze(0)],Ce.moveTo(We.x,We.y)),Qe=0;Qe<=ke;++Qe){if(We=De[Ze(Qe)],We.skip)continue;const tr=We.x,rr=We.y,ar=tr|0;ar===qe?(rr<Ke?Ke=rr:rr>Xe&&(Xe=rr),$e=(He*$e+tr)/++He):(Je(),Ce.lineTo(tr,rr),qe=ar,He=0,Ke=Xe=rr),Ye=rr}Je()}function _getSegmentMethod(Ce){const Re=Ce.options,je=Re.borderDash&&Re.borderDash.length;return!Ce._decimated&&!Ce._loop&&!Re.tension&&Re.cubicInterpolationMode!=="monotone"&&!Re.stepped&&!je?fastPathSegment:pathSegment}function _getInterpolationMethod(Ce){return Ce.stepped?_steppedInterpolation:Ce.tension||Ce.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(Ce,Re,je,Be){let De=Re._path;De||(De=Re._path=new Path2D,Re.path(De,je,Be)&&De.closePath()),setStyle(Ce,Re.options),Ce.stroke(De)}function strokePathDirect(Ce,Re,je,Be){const{segments:De,options:Fe}=Re,Oe=_getSegmentMethod(Re);for(const ke of De)setStyle(Ce,Fe,ke.style),Ce.beginPath(),Oe(Ce,Re,ke,{start:je,end:je+Be-1})&&Ce.closePath(),Ce.stroke()}const usePath2D=typeof Path2D=="function";function draw(Ce,Re,je,Be){usePath2D&&!Re.options.segment?strokePathWithCache(Ce,Re,je,Be):strokePathDirect(Ce,Re,je,Be)}class LineElement extends Element$1{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:Re=>Re!=="borderDash"&&Re!=="fill"};constructor(Re){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,Re&&Object.assign(this,Re)}updateControlPoints(Re,je){const Be=this.options;if((Be.tension||Be.cubicInterpolationMode==="monotone")&&!Be.stepped&&!this._pointsUpdated){const De=Be.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,Be,Re,De,je),this._pointsUpdated=!0}}set points(Re){this._points=Re,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const Re=this.segments,je=this.points;return Re.length&&je[Re[0].start]}last(){const Re=this.segments,je=this.points,Be=Re.length;return Be&&je[Re[Be-1].end]}interpolate(Re,je){const Be=this.options,De=Re[je],Fe=this.points,Oe=_boundSegments(this,{property:je,start:De,end:De});if(!Oe.length)return;const ke=[],Me=_getInterpolationMethod(Be);let Ue,$e;for(Ue=0,$e=Oe.length;Ue<$e;++Ue){const{start:He,end:Qe}=Oe[Ue],We=Fe[He],qe=Fe[Qe];if(We===qe){ke.push(We);continue}const Ke=Math.abs((De-We[je])/(qe[je]-We[je])),Xe=Me(We,qe,Ke,Be.stepped);Xe[je]=Re[je],ke.push(Xe)}return ke.length===1?ke[0]:ke}pathSegment(Re,je,Be){return _getSegmentMethod(this)(Re,this,je,Be)}path(Re,je,Be){const De=this.segments,Fe=_getSegmentMethod(this);let Oe=this._loop;je=je||0,Be=Be||this.points.length-je;for(const ke of De)Oe&=Fe(Re,this,ke,{start:je,end:je+Be-1});return!!Oe}draw(Re,je,Be,De){const Fe=this.options||{};(this.points||[]).length&&Fe.borderWidth&&(Re.save(),draw(Re,this,Be,De),Re.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function inRange$1(Ce,Re,je,Be){const De=Ce.options,{[je]:Fe}=Ce.getProps([je],Be);return Math.abs(Re-Fe)<De.radius+De.hitRadius}class PointElement extends Element$1{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(Re){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,Re&&Object.assign(this,Re)}inRange(Re,je,Be){const De=this.options,{x:Fe,y:Oe}=this.getProps(["x","y"],Be);return Math.pow(Re-Fe,2)+Math.pow(je-Oe,2)<Math.pow(De.hitRadius+De.radius,2)}inXRange(Re,je){return inRange$1(this,Re,"x",je)}inYRange(Re,je){return inRange$1(this,Re,"y",je)}getCenterPoint(Re){const{x:je,y:Be}=this.getProps(["x","y"],Re);return{x:je,y:Be}}size(Re){Re=Re||this.options||{};let je=Re.radius||0;je=Math.max(je,je&&Re.hoverRadius||0);const Be=je&&Re.borderWidth||0;return(je+Be)*2}draw(Re,je){const Be=this.options;this.skip||Be.radius<.1||!_isPointInArea(this,je,this.size(Be)/2)||(Re.strokeStyle=Be.borderColor,Re.lineWidth=Be.borderWidth,Re.fillStyle=Be.backgroundColor,drawPoint(Re,Be,this.x,this.y))}getRange(){const Re=this.options||{};return Re.radius+Re.hitRadius}}function getBarBounds(Ce,Re){const{x:je,y:Be,base:De,width:Fe,height:Oe}=Ce.getProps(["x","y","base","width","height"],Re);let ke,Me,Ue,$e,He;return Ce.horizontal?(He=Oe/2,ke=Math.min(je,De),Me=Math.max(je,De),Ue=Be-He,$e=Be+He):(He=Fe/2,ke=je-He,Me=je+He,Ue=Math.min(Be,De),$e=Math.max(Be,De)),{left:ke,top:Ue,right:Me,bottom:$e}}function skipOrLimit(Ce,Re,je,Be){return Ce?0:_limitValue(Re,je,Be)}function parseBorderWidth(Ce,Re,je){const Be=Ce.options.borderWidth,De=Ce.borderSkipped,Fe=toTRBL(Be);return{t:skipOrLimit(De.top,Fe.top,0,je),r:skipOrLimit(De.right,Fe.right,0,Re),b:skipOrLimit(De.bottom,Fe.bottom,0,je),l:skipOrLimit(De.left,Fe.left,0,Re)}}function parseBorderRadius(Ce,Re,je){const{enableBorderRadius:Be}=Ce.getProps(["enableBorderRadius"]),De=Ce.options.borderRadius,Fe=toTRBLCorners(De),Oe=Math.min(Re,je),ke=Ce.borderSkipped,Me=Be||isObject$1(De);return{topLeft:skipOrLimit(!Me||ke.top||ke.left,Fe.topLeft,0,Oe),topRight:skipOrLimit(!Me||ke.top||ke.right,Fe.topRight,0,Oe),bottomLeft:skipOrLimit(!Me||ke.bottom||ke.left,Fe.bottomLeft,0,Oe),bottomRight:skipOrLimit(!Me||ke.bottom||ke.right,Fe.bottomRight,0,Oe)}}function boundingRects(Ce){const Re=getBarBounds(Ce),je=Re.right-Re.left,Be=Re.bottom-Re.top,De=parseBorderWidth(Ce,je/2,Be/2),Fe=parseBorderRadius(Ce,je/2,Be/2);return{outer:{x:Re.left,y:Re.top,w:je,h:Be,radius:Fe},inner:{x:Re.left+De.l,y:Re.top+De.t,w:je-De.l-De.r,h:Be-De.t-De.b,radius:{topLeft:Math.max(0,Fe.topLeft-Math.max(De.t,De.l)),topRight:Math.max(0,Fe.topRight-Math.max(De.t,De.r)),bottomLeft:Math.max(0,Fe.bottomLeft-Math.max(De.b,De.l)),bottomRight:Math.max(0,Fe.bottomRight-Math.max(De.b,De.r))}}}}function inRange$2(Ce,Re,je,Be){const De=Re===null,Fe=je===null,ke=Ce&&!(De&&Fe)&&getBarBounds(Ce,Be);return ke&&(De||_isBetween(Re,ke.left,ke.right))&&(Fe||_isBetween(je,ke.top,ke.bottom))}function hasRadius(Ce){return Ce.topLeft||Ce.topRight||Ce.bottomLeft||Ce.bottomRight}function addNormalRectPath(Ce,Re){Ce.rect(Re.x,Re.y,Re.w,Re.h)}function inflateRect(Ce,Re,je={}){const Be=Ce.x!==je.x?-Re:0,De=Ce.y!==je.y?-Re:0,Fe=(Ce.x+Ce.w!==je.x+je.w?Re:0)-Be,Oe=(Ce.y+Ce.h!==je.y+je.h?Re:0)-De;return{x:Ce.x+Be,y:Ce.y+De,w:Ce.w+Fe,h:Ce.h+Oe,radius:Ce.radius}}class BarElement extends Element$1{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(Re){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,Re&&Object.assign(this,Re)}draw(Re){const{inflateAmount:je,options:{borderColor:Be,backgroundColor:De}}=this,{inner:Fe,outer:Oe}=boundingRects(this),ke=hasRadius(Oe.radius)?addRoundedRectPath:addNormalRectPath;Re.save(),(Oe.w!==Fe.w||Oe.h!==Fe.h)&&(Re.beginPath(),ke(Re,inflateRect(Oe,je,Fe)),Re.clip(),ke(Re,inflateRect(Fe,-je,Oe)),Re.fillStyle=Be,Re.fill("evenodd")),Re.beginPath(),ke(Re,inflateRect(Fe,je)),Re.fillStyle=De,Re.fill(),Re.restore()}inRange(Re,je,Be){return inRange$2(this,Re,je,Be)}inXRange(Re,je){return inRange$2(this,Re,null,je)}inYRange(Re,je){return inRange$2(this,null,Re,je)}getCenterPoint(Re){const{x:je,y:Be,base:De,horizontal:Fe}=this.getProps(["x","y","base","horizontal"],Re);return{x:Fe?(je+De)/2:je,y:Fe?Be:(Be+De)/2}}getRange(Re){return Re==="x"?this.width/2:this.height/2}}const getBoxSize=(Ce,Re)=>{let{boxHeight:je=Re,boxWidth:Be=Re}=Ce;return Ce.usePointStyle&&(je=Math.min(je,Re),Be=Ce.pointStyleWidth||Math.min(Be,Re)),{boxWidth:Be,boxHeight:je,itemHeight:Math.max(Re,je)}},itemsEqual=(Ce,Re)=>Ce!==null&&Re!==null&&Ce.datasetIndex===Re.datasetIndex&&Ce.index===Re.index;let Legend$1=class extends Element$1{constructor(Re){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=Re.chart,this.options=Re.options,this.ctx=Re.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(Re,je,Be){this.maxWidth=Re,this.maxHeight=je,this._margins=Be,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const Re=this.options.labels||{};let je=callback(Re.generateLabels,[this.chart],this)||[];Re.filter&&(je=je.filter(Be=>Re.filter(Be,this.chart.data))),Re.sort&&(je=je.sort((Be,De)=>Re.sort(Be,De,this.chart.data))),this.options.reverse&&je.reverse(),this.legendItems=je}fit(){const{options:Re,ctx:je}=this;if(!Re.display){this.width=this.height=0;return}const Be=Re.labels,De=toFont(Be.font),Fe=De.size,Oe=this._computeTitleHeight(),{boxWidth:ke,itemHeight:Me}=getBoxSize(Be,Fe);let Ue,$e;je.font=De.string,this.isHorizontal()?(Ue=this.maxWidth,$e=this._fitRows(Oe,Fe,ke,Me)+10):($e=this.maxHeight,Ue=this._fitCols(Oe,De,ke,Me)+10),this.width=Math.min(Ue,Re.maxWidth||this.maxWidth),this.height=Math.min($e,Re.maxHeight||this.maxHeight)}_fitRows(Re,je,Be,De){const{ctx:Fe,maxWidth:Oe,options:{labels:{padding:ke}}}=this,Me=this.legendHitBoxes=[],Ue=this.lineWidths=[0],$e=De+ke;let He=Re;Fe.textAlign="left",Fe.textBaseline="middle";let Qe=-1,We=-$e;return this.legendItems.forEach((qe,Ke)=>{const Xe=Be+je/2+Fe.measureText(qe.text).width;(Ke===0||Ue[Ue.length-1]+Xe+2*ke>Oe)&&(He+=$e,Ue[Ue.length-(Ke>0?0:1)]=0,We+=$e,Qe++),Me[Ke]={left:0,top:We,row:Qe,width:Xe,height:De},Ue[Ue.length-1]+=Xe+ke}),He}_fitCols(Re,je,Be,De){const{ctx:Fe,maxHeight:Oe,options:{labels:{padding:ke}}}=this,Me=this.legendHitBoxes=[],Ue=this.columnSizes=[],$e=Oe-Re;let He=ke,Qe=0,We=0,qe=0,Ke=0;return this.legendItems.forEach((Xe,Ye)=>{const{itemWidth:Ze,itemHeight:Je}=calculateItemSize(Be,je,Fe,Xe,De);Ye>0&&We+Je+2*ke>$e&&(He+=Qe+ke,Ue.push({width:Qe,height:We}),qe+=Qe+ke,Ke++,Qe=We=0),Me[Ye]={left:qe,top:We,col:Ke,width:Ze,height:Je},Qe=Math.max(Qe,Ze),We+=Je+ke}),He+=Qe,Ue.push({width:Qe,height:We}),He}adjustHitBoxes(){if(!this.options.display)return;const Re=this._computeTitleHeight(),{legendHitBoxes:je,options:{align:Be,labels:{padding:De},rtl:Fe}}=this,Oe=getRtlAdapter(Fe,this.left,this.width);if(this.isHorizontal()){let ke=0,Me=_alignStartEnd(Be,this.left+De,this.right-this.lineWidths[ke]);for(const Ue of je)ke!==Ue.row&&(ke=Ue.row,Me=_alignStartEnd(Be,this.left+De,this.right-this.lineWidths[ke])),Ue.top+=this.top+Re+De,Ue.left=Oe.leftForLtr(Oe.x(Me),Ue.width),Me+=Ue.width+De}else{let ke=0,Me=_alignStartEnd(Be,this.top+Re+De,this.bottom-this.columnSizes[ke].height);for(const Ue of je)Ue.col!==ke&&(ke=Ue.col,Me=_alignStartEnd(Be,this.top+Re+De,this.bottom-this.columnSizes[ke].height)),Ue.top=Me,Ue.left+=this.left+De,Ue.left=Oe.leftForLtr(Oe.x(Ue.left),Ue.width),Me+=Ue.height+De}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const Re=this.ctx;clipArea(Re,this),this._draw(),unclipArea(Re)}}_draw(){const{options:Re,columnSizes:je,lineWidths:Be,ctx:De}=this,{align:Fe,labels:Oe}=Re,ke=defaults$1.color,Me=getRtlAdapter(Re.rtl,this.left,this.width),Ue=toFont(Oe.font),{padding:$e}=Oe,He=Ue.size,Qe=He/2;let We;this.drawTitle(),De.textAlign=Me.textAlign("left"),De.textBaseline="middle",De.lineWidth=.5,De.font=Ue.string;const{boxWidth:qe,boxHeight:Ke,itemHeight:Xe}=getBoxSize(Oe,He),Ye=function(ar,nr,sr){if(isNaN(qe)||qe<=0||isNaN(Ke)||Ke<0)return;De.save();const dr=valueOrDefault(sr.lineWidth,1);if(De.fillStyle=valueOrDefault(sr.fillStyle,ke),De.lineCap=valueOrDefault(sr.lineCap,"butt"),De.lineDashOffset=valueOrDefault(sr.lineDashOffset,0),De.lineJoin=valueOrDefault(sr.lineJoin,"miter"),De.lineWidth=dr,De.strokeStyle=valueOrDefault(sr.strokeStyle,ke),De.setLineDash(valueOrDefault(sr.lineDash,[])),Oe.usePointStyle){const _r={radius:Ke*Math.SQRT2/2,pointStyle:sr.pointStyle,rotation:sr.rotation,borderWidth:dr},fr=Me.xPlus(ar,qe/2),or=nr+Qe;drawPointLegend(De,_r,fr,or,Oe.pointStyleWidth&&qe)}else{const _r=nr+Math.max((He-Ke)/2,0),fr=Me.leftForLtr(ar,qe),or=toTRBLCorners(sr.borderRadius);De.beginPath(),Object.values(or).some(Er=>Er!==0)?addRoundedRectPath(De,{x:fr,y:_r,w:qe,h:Ke,radius:or}):De.rect(fr,_r,qe,Ke),De.fill(),dr!==0&&De.stroke()}De.restore()},Ze=function(ar,nr,sr){renderText(De,sr.text,ar,nr+Xe/2,Ue,{strikethrough:sr.hidden,textAlign:Me.textAlign(sr.textAlign)})},Je=this.isHorizontal(),tr=this._computeTitleHeight();Je?We={x:_alignStartEnd(Fe,this.left+$e,this.right-Be[0]),y:this.top+$e+tr,line:0}:We={x:this.left+$e,y:_alignStartEnd(Fe,this.top+tr+$e,this.bottom-je[0].height),line:0},overrideTextDirection(this.ctx,Re.textDirection);const rr=Xe+$e;this.legendItems.forEach((ar,nr)=>{De.strokeStyle=ar.fontColor,De.fillStyle=ar.fontColor;const sr=De.measureText(ar.text).width,dr=Me.textAlign(ar.textAlign||(ar.textAlign=Oe.textAlign)),_r=qe+Qe+sr;let fr=We.x,or=We.y;Me.setWidth(this.width),Je?nr>0&&fr+_r+$e>this.right&&(or=We.y+=rr,We.line++,fr=We.x=_alignStartEnd(Fe,this.left+$e,this.right-Be[We.line])):nr>0&&or+rr>this.bottom&&(fr=We.x=fr+je[We.line].width+$e,We.line++,or=We.y=_alignStartEnd(Fe,this.top+tr+$e,this.bottom-je[We.line].height));const Er=Me.x(fr);if(Ye(Er,or,ar),fr=_textX(dr,fr+qe+Qe,Je?fr+_r:this.right,Re.rtl),Ze(Me.x(fr),or,ar),Je)We.x+=_r+$e;else if(typeof ar.text!="string"){const Rr=Ue.lineHeight;We.y+=calculateLegendItemHeight(ar,Rr)+$e}else We.y+=rr}),restoreTextDirection(this.ctx,Re.textDirection)}drawTitle(){const Re=this.options,je=Re.title,Be=toFont(je.font),De=toPadding(je.padding);if(!je.display)return;const Fe=getRtlAdapter(Re.rtl,this.left,this.width),Oe=this.ctx,ke=je.position,Me=Be.size/2,Ue=De.top+Me;let $e,He=this.left,Qe=this.width;if(this.isHorizontal())Qe=Math.max(...this.lineWidths),$e=this.top+Ue,He=_alignStartEnd(Re.align,He,this.right-Qe);else{const qe=this.columnSizes.reduce((Ke,Xe)=>Math.max(Ke,Xe.height),0);$e=Ue+_alignStartEnd(Re.align,this.top,this.bottom-qe-Re.labels.padding-this._computeTitleHeight())}const We=_alignStartEnd(ke,He,He+Qe);Oe.textAlign=Fe.textAlign(_toLeftRightCenter(ke)),Oe.textBaseline="middle",Oe.strokeStyle=je.color,Oe.fillStyle=je.color,Oe.font=Be.string,renderText(Oe,je.text,We,$e,Be)}_computeTitleHeight(){const Re=this.options.title,je=toFont(Re.font),Be=toPadding(Re.padding);return Re.display?je.lineHeight+Be.height:0}_getLegendItemAt(Re,je){let Be,De,Fe;if(_isBetween(Re,this.left,this.right)&&_isBetween(je,this.top,this.bottom)){for(Fe=this.legendHitBoxes,Be=0;Be<Fe.length;++Be)if(De=Fe[Be],_isBetween(Re,De.left,De.left+De.width)&&_isBetween(je,De.top,De.top+De.height))return this.legendItems[Be]}return null}handleEvent(Re){const je=this.options;if(!isListened(Re.type,je))return;const Be=this._getLegendItemAt(Re.x,Re.y);if(Re.type==="mousemove"||Re.type==="mouseout"){const De=this._hoveredItem,Fe=itemsEqual(De,Be);De&&!Fe&&callback(je.onLeave,[Re,De,this],this),this._hoveredItem=Be,Be&&!Fe&&callback(je.onHover,[Re,Be,this],this)}else Be&&callback(je.onClick,[Re,Be,this],this)}};function calculateItemSize(Ce,Re,je,Be,De){const Fe=calculateItemWidth(Be,Ce,Re,je),Oe=calculateItemHeight(De,Be,Re.lineHeight);return{itemWidth:Fe,itemHeight:Oe}}function calculateItemWidth(Ce,Re,je,Be){let De=Ce.text;return De&&typeof De!="string"&&(De=De.reduce((Fe,Oe)=>Fe.length>Oe.length?Fe:Oe)),Re+je.size/2+Be.measureText(De).width}function calculateItemHeight(Ce,Re,je){let Be=Ce;return typeof Re.text!="string"&&(Be=calculateLegendItemHeight(Re,je)),Be}function calculateLegendItemHeight(Ce,Re){const je=Ce.text?Ce.text.length:0;return Re*je}function isListened(Ce,Re){return!!((Ce==="mousemove"||Ce==="mouseout")&&(Re.onHover||Re.onLeave)||Re.onClick&&(Ce==="click"||Ce==="mouseup"))}var plugin_legend={id:"legend",_element:Legend$1,start(Ce,Re,je){const Be=Ce.legend=new Legend$1({ctx:Ce.ctx,options:je,chart:Ce});layouts.configure(Ce,Be,je),layouts.addBox(Ce,Be)},stop(Ce){layouts.removeBox(Ce,Ce.legend),delete Ce.legend},beforeUpdate(Ce,Re,je){const Be=Ce.legend;layouts.configure(Ce,Be,je),Be.options=je},afterUpdate(Ce){const Re=Ce.legend;Re.buildLabels(),Re.adjustHitBoxes()},afterEvent(Ce,Re){Re.replay||Ce.legend.handleEvent(Re.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(Ce,Re,je){const Be=Re.datasetIndex,De=je.chart;De.isDatasetVisible(Be)?(De.hide(Be),Re.hidden=!0):(De.show(Be),Re.hidden=!1)},onHover:null,onLeave:null,labels:{color:Ce=>Ce.chart.options.color,boxWidth:40,padding:10,generateLabels(Ce){const Re=Ce.data.datasets,{labels:{usePointStyle:je,pointStyle:Be,textAlign:De,color:Fe,useBorderRadius:Oe,borderRadius:ke}}=Ce.legend.options;return Ce._getSortedDatasetMetas().map(Me=>{const Ue=Me.controller.getStyle(je?0:void 0),$e=toPadding(Ue.borderWidth);return{text:Re[Me.index].label,fillStyle:Ue.backgroundColor,fontColor:Fe,hidden:!Me.visible,lineCap:Ue.borderCapStyle,lineDash:Ue.borderDash,lineDashOffset:Ue.borderDashOffset,lineJoin:Ue.borderJoinStyle,lineWidth:($e.width+$e.height)/4,strokeStyle:Ue.borderColor,pointStyle:Be||Ue.pointStyle,rotation:Ue.rotation,textAlign:De||Ue.textAlign,borderRadius:Oe&&(ke||Ue.borderRadius),datasetIndex:Me.index}},this)}},title:{color:Ce=>Ce.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:Ce=>!Ce.startsWith("on"),labels:{_scriptable:Ce=>!["generateLabels","filter","sort"].includes(Ce)}}};class Title extends Element$1{constructor(Re){super(),this.chart=Re.chart,this.options=Re.options,this.ctx=Re.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(Re,je){const Be=this.options;if(this.left=0,this.top=0,!Be.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=Re,this.height=this.bottom=je;const De=isArray$1(Be.text)?Be.text.length:1;this._padding=toPadding(Be.padding);const Fe=De*toFont(Be.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=Fe:this.width=Fe}isHorizontal(){const Re=this.options.position;return Re==="top"||Re==="bottom"}_drawArgs(Re){const{top:je,left:Be,bottom:De,right:Fe,options:Oe}=this,ke=Oe.align;let Me=0,Ue,$e,He;return this.isHorizontal()?($e=_alignStartEnd(ke,Be,Fe),He=je+Re,Ue=Fe-Be):(Oe.position==="left"?($e=Be+Re,He=_alignStartEnd(ke,De,je),Me=PI*-.5):($e=Fe-Re,He=_alignStartEnd(ke,je,De),Me=PI*.5),Ue=De-je),{titleX:$e,titleY:He,maxWidth:Ue,rotation:Me}}draw(){const Re=this.ctx,je=this.options;if(!je.display)return;const Be=toFont(je.font),Fe=Be.lineHeight/2+this._padding.top,{titleX:Oe,titleY:ke,maxWidth:Me,rotation:Ue}=this._drawArgs(Fe);renderText(Re,je.text,0,0,Be,{color:je.color,maxWidth:Me,rotation:Ue,textAlign:_toLeftRightCenter(je.align),textBaseline:"middle",translation:[Oe,ke]})}}function createTitle(Ce,Re){const je=new Title({ctx:Ce.ctx,options:Re,chart:Ce});layouts.configure(Ce,je,Re),layouts.addBox(Ce,je),Ce.titleBlock=je}var plugin_title={id:"title",_element:Title,start(Ce,Re,je){createTitle(Ce,je)},stop(Ce){const Re=Ce.titleBlock;layouts.removeBox(Ce,Re),delete Ce.titleBlock},beforeUpdate(Ce,Re,je){const Be=Ce.titleBlock;layouts.configure(Ce,Be,je),Be.options=je},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(Ce){if(!Ce.length)return!1;let Re,je,Be=new Set,De=0,Fe=0;for(Re=0,je=Ce.length;Re<je;++Re){const ke=Ce[Re].element;if(ke&&ke.hasValue()){const Me=ke.tooltipPosition();Be.add(Me.x),De+=Me.y,++Fe}}return Fe===0||Be.size===0?!1:{x:[...Be].reduce((ke,Me)=>ke+Me)/Be.size,y:De/Fe}},nearest(Ce,Re){if(!Ce.length)return!1;let je=Re.x,Be=Re.y,De=Number.POSITIVE_INFINITY,Fe,Oe,ke;for(Fe=0,Oe=Ce.length;Fe<Oe;++Fe){const Me=Ce[Fe].element;if(Me&&Me.hasValue()){const Ue=Me.getCenterPoint(),$e=distanceBetweenPoints$1(Re,Ue);$e<De&&(De=$e,ke=Me)}}if(ke){const Me=ke.tooltipPosition();je=Me.x,Be=Me.y}return{x:je,y:Be}}};function pushOrConcat(Ce,Re){return Re&&(isArray$1(Re)?Array.prototype.push.apply(Ce,Re):Ce.push(Re)),Ce}function splitNewlines(Ce){return(typeof Ce=="string"||Ce instanceof String)&&Ce.indexOf(`
`)>-1?Ce.split(`
`):Ce}function createTooltipItem(Ce,Re){const{element:je,datasetIndex:Be,index:De}=Re,Fe=Ce.getDatasetMeta(Be).controller,{label:Oe,value:ke}=Fe.getLabelAndValue(De);return{chart:Ce,label:Oe,parsed:Fe.getParsed(De),raw:Ce.data.datasets[Be].data[De],formattedValue:ke,dataset:Fe.getDataset(),dataIndex:De,datasetIndex:Be,element:je}}function getTooltipSize(Ce,Re){const je=Ce.chart.ctx,{body:Be,footer:De,title:Fe}=Ce,{boxWidth:Oe,boxHeight:ke}=Re,Me=toFont(Re.bodyFont),Ue=toFont(Re.titleFont),$e=toFont(Re.footerFont),He=Fe.length,Qe=De.length,We=Be.length,qe=toPadding(Re.padding);let Ke=qe.height,Xe=0,Ye=Be.reduce((tr,rr)=>tr+rr.before.length+rr.lines.length+rr.after.length,0);if(Ye+=Ce.beforeBody.length+Ce.afterBody.length,He&&(Ke+=He*Ue.lineHeight+(He-1)*Re.titleSpacing+Re.titleMarginBottom),Ye){const tr=Re.displayColors?Math.max(ke,Me.lineHeight):Me.lineHeight;Ke+=We*tr+(Ye-We)*Me.lineHeight+(Ye-1)*Re.bodySpacing}Qe&&(Ke+=Re.footerMarginTop+Qe*$e.lineHeight+(Qe-1)*Re.footerSpacing);let Ze=0;const Je=function(tr){Xe=Math.max(Xe,je.measureText(tr).width+Ze)};return je.save(),je.font=Ue.string,each$1(Ce.title,Je),je.font=Me.string,each$1(Ce.beforeBody.concat(Ce.afterBody),Je),Ze=Re.displayColors?Oe+2+Re.boxPadding:0,each$1(Be,tr=>{each$1(tr.before,Je),each$1(tr.lines,Je),each$1(tr.after,Je)}),Ze=0,je.font=$e.string,each$1(Ce.footer,Je),je.restore(),Xe+=qe.width,{width:Xe,height:Ke}}function determineYAlign(Ce,Re){const{y:je,height:Be}=Re;return je<Be/2?"top":je>Ce.height-Be/2?"bottom":"center"}function doesNotFitWithAlign(Ce,Re,je,Be){const{x:De,width:Fe}=Be,Oe=je.caretSize+je.caretPadding;if(Ce==="left"&&De+Fe+Oe>Re.width||Ce==="right"&&De-Fe-Oe<0)return!0}function determineXAlign(Ce,Re,je,Be){const{x:De,width:Fe}=je,{width:Oe,chartArea:{left:ke,right:Me}}=Ce;let Ue="center";return Be==="center"?Ue=De<=(ke+Me)/2?"left":"right":De<=Fe/2?Ue="left":De>=Oe-Fe/2&&(Ue="right"),doesNotFitWithAlign(Ue,Ce,Re,je)&&(Ue="center"),Ue}function determineAlignment(Ce,Re,je){const Be=je.yAlign||Re.yAlign||determineYAlign(Ce,je);return{xAlign:je.xAlign||Re.xAlign||determineXAlign(Ce,Re,je,Be),yAlign:Be}}function alignX(Ce,Re){let{x:je,width:Be}=Ce;return Re==="right"?je-=Be:Re==="center"&&(je-=Be/2),je}function alignY(Ce,Re,je){let{y:Be,height:De}=Ce;return Re==="top"?Be+=je:Re==="bottom"?Be-=De+je:Be-=De/2,Be}function getBackgroundPoint(Ce,Re,je,Be){const{caretSize:De,caretPadding:Fe,cornerRadius:Oe}=Ce,{xAlign:ke,yAlign:Me}=je,Ue=De+Fe,{topLeft:$e,topRight:He,bottomLeft:Qe,bottomRight:We}=toTRBLCorners(Oe);let qe=alignX(Re,ke);const Ke=alignY(Re,Me,Ue);return Me==="center"?ke==="left"?qe+=Ue:ke==="right"&&(qe-=Ue):ke==="left"?qe-=Math.max($e,Qe)+De:ke==="right"&&(qe+=Math.max(He,We)+De),{x:_limitValue(qe,0,Be.width-Re.width),y:_limitValue(Ke,0,Be.height-Re.height)}}function getAlignedX(Ce,Re,je){const Be=toPadding(je.padding);return Re==="center"?Ce.x+Ce.width/2:Re==="right"?Ce.x+Ce.width-Be.right:Ce.x+Be.left}function getBeforeAfterBodyLines(Ce){return pushOrConcat([],splitNewlines(Ce))}function createTooltipContext(Ce,Re,je){return createContext(Ce,{tooltip:Re,tooltipItems:je,type:"tooltip"})}function overrideCallbacks(Ce,Re){const je=Re&&Re.dataset&&Re.dataset.tooltip&&Re.dataset.tooltip.callbacks;return je?Ce.override(je):Ce}const defaultCallbacks={beforeTitle:noop$a,title(Ce){if(Ce.length>0){const Re=Ce[0],je=Re.chart.data.labels,Be=je?je.length:0;if(this&&this.options&&this.options.mode==="dataset")return Re.dataset.label||"";if(Re.label)return Re.label;if(Be>0&&Re.dataIndex<Be)return je[Re.dataIndex]}return""},afterTitle:noop$a,beforeBody:noop$a,beforeLabel:noop$a,label(Ce){if(this&&this.options&&this.options.mode==="dataset")return Ce.label+": "+Ce.formattedValue||Ce.formattedValue;let Re=Ce.dataset.label||"";Re&&(Re+=": ");const je=Ce.formattedValue;return isNullOrUndef(je)||(Re+=je),Re},labelColor(Ce){const je=Ce.chart.getDatasetMeta(Ce.datasetIndex).controller.getStyle(Ce.dataIndex);return{borderColor:je.borderColor,backgroundColor:je.backgroundColor,borderWidth:je.borderWidth,borderDash:je.borderDash,borderDashOffset:je.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(Ce){const je=Ce.chart.getDatasetMeta(Ce.datasetIndex).controller.getStyle(Ce.dataIndex);return{pointStyle:je.pointStyle,rotation:je.rotation}},afterLabel:noop$a,afterBody:noop$a,beforeFooter:noop$a,footer:noop$a,afterFooter:noop$a};function invokeCallbackWithFallback(Ce,Re,je,Be){const De=Ce[Re].call(je,Be);return typeof De>"u"?defaultCallbacks[Re].call(je,Be):De}let Tooltip$1=class extends Element$1{static positioners=positioners;constructor(Re){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=Re.chart,this.options=Re.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(Re){this.options=Re,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const Re=this._cachedAnimations;if(Re)return Re;const je=this.chart,Be=this.options.setContext(this.getContext()),De=Be.enabled&&je.options.animation&&Be.animations,Fe=new Animations(this.chart,De);return De._cacheable&&(this._cachedAnimations=Object.freeze(Fe)),Fe}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(Re,je){const{callbacks:Be}=je,De=invokeCallbackWithFallback(Be,"beforeTitle",this,Re),Fe=invokeCallbackWithFallback(Be,"title",this,Re),Oe=invokeCallbackWithFallback(Be,"afterTitle",this,Re);let ke=[];return ke=pushOrConcat(ke,splitNewlines(De)),ke=pushOrConcat(ke,splitNewlines(Fe)),ke=pushOrConcat(ke,splitNewlines(Oe)),ke}getBeforeBody(Re,je){return getBeforeAfterBodyLines(invokeCallbackWithFallback(je.callbacks,"beforeBody",this,Re))}getBody(Re,je){const{callbacks:Be}=je,De=[];return each$1(Re,Fe=>{const Oe={before:[],lines:[],after:[]},ke=overrideCallbacks(Be,Fe);pushOrConcat(Oe.before,splitNewlines(invokeCallbackWithFallback(ke,"beforeLabel",this,Fe))),pushOrConcat(Oe.lines,invokeCallbackWithFallback(ke,"label",this,Fe)),pushOrConcat(Oe.after,splitNewlines(invokeCallbackWithFallback(ke,"afterLabel",this,Fe))),De.push(Oe)}),De}getAfterBody(Re,je){return getBeforeAfterBodyLines(invokeCallbackWithFallback(je.callbacks,"afterBody",this,Re))}getFooter(Re,je){const{callbacks:Be}=je,De=invokeCallbackWithFallback(Be,"beforeFooter",this,Re),Fe=invokeCallbackWithFallback(Be,"footer",this,Re),Oe=invokeCallbackWithFallback(Be,"afterFooter",this,Re);let ke=[];return ke=pushOrConcat(ke,splitNewlines(De)),ke=pushOrConcat(ke,splitNewlines(Fe)),ke=pushOrConcat(ke,splitNewlines(Oe)),ke}_createItems(Re){const je=this._active,Be=this.chart.data,De=[],Fe=[],Oe=[];let ke=[],Me,Ue;for(Me=0,Ue=je.length;Me<Ue;++Me)ke.push(createTooltipItem(this.chart,je[Me]));return Re.filter&&(ke=ke.filter(($e,He,Qe)=>Re.filter($e,He,Qe,Be))),Re.itemSort&&(ke=ke.sort(($e,He)=>Re.itemSort($e,He,Be))),each$1(ke,$e=>{const He=overrideCallbacks(Re.callbacks,$e);De.push(invokeCallbackWithFallback(He,"labelColor",this,$e)),Fe.push(invokeCallbackWithFallback(He,"labelPointStyle",this,$e)),Oe.push(invokeCallbackWithFallback(He,"labelTextColor",this,$e))}),this.labelColors=De,this.labelPointStyles=Fe,this.labelTextColors=Oe,this.dataPoints=ke,ke}update(Re,je){const Be=this.options.setContext(this.getContext()),De=this._active;let Fe,Oe=[];if(!De.length)this.opacity!==0&&(Fe={opacity:0});else{const ke=positioners[Be.position].call(this,De,this._eventPosition);Oe=this._createItems(Be),this.title=this.getTitle(Oe,Be),this.beforeBody=this.getBeforeBody(Oe,Be),this.body=this.getBody(Oe,Be),this.afterBody=this.getAfterBody(Oe,Be),this.footer=this.getFooter(Oe,Be);const Me=this._size=getTooltipSize(this,Be),Ue=Object.assign({},ke,Me),$e=determineAlignment(this.chart,Be,Ue),He=getBackgroundPoint(Be,Ue,$e,this.chart);this.xAlign=$e.xAlign,this.yAlign=$e.yAlign,Fe={opacity:1,x:He.x,y:He.y,width:Me.width,height:Me.height,caretX:ke.x,caretY:ke.y}}this._tooltipItems=Oe,this.$context=void 0,Fe&&this._resolveAnimations().update(this,Fe),Re&&Be.external&&Be.external.call(this,{chart:this.chart,tooltip:this,replay:je})}drawCaret(Re,je,Be,De){const Fe=this.getCaretPosition(Re,Be,De);je.lineTo(Fe.x1,Fe.y1),je.lineTo(Fe.x2,Fe.y2),je.lineTo(Fe.x3,Fe.y3)}getCaretPosition(Re,je,Be){const{xAlign:De,yAlign:Fe}=this,{caretSize:Oe,cornerRadius:ke}=Be,{topLeft:Me,topRight:Ue,bottomLeft:$e,bottomRight:He}=toTRBLCorners(ke),{x:Qe,y:We}=Re,{width:qe,height:Ke}=je;let Xe,Ye,Ze,Je,tr,rr;return Fe==="center"?(tr=We+Ke/2,De==="left"?(Xe=Qe,Ye=Xe-Oe,Je=tr+Oe,rr=tr-Oe):(Xe=Qe+qe,Ye=Xe+Oe,Je=tr-Oe,rr=tr+Oe),Ze=Xe):(De==="left"?Ye=Qe+Math.max(Me,$e)+Oe:De==="right"?Ye=Qe+qe-Math.max(Ue,He)-Oe:Ye=this.caretX,Fe==="top"?(Je=We,tr=Je-Oe,Xe=Ye-Oe,Ze=Ye+Oe):(Je=We+Ke,tr=Je+Oe,Xe=Ye+Oe,Ze=Ye-Oe),rr=Je),{x1:Xe,x2:Ye,x3:Ze,y1:Je,y2:tr,y3:rr}}drawTitle(Re,je,Be){const De=this.title,Fe=De.length;let Oe,ke,Me;if(Fe){const Ue=getRtlAdapter(Be.rtl,this.x,this.width);for(Re.x=getAlignedX(this,Be.titleAlign,Be),je.textAlign=Ue.textAlign(Be.titleAlign),je.textBaseline="middle",Oe=toFont(Be.titleFont),ke=Be.titleSpacing,je.fillStyle=Be.titleColor,je.font=Oe.string,Me=0;Me<Fe;++Me)je.fillText(De[Me],Ue.x(Re.x),Re.y+Oe.lineHeight/2),Re.y+=Oe.lineHeight+ke,Me+1===Fe&&(Re.y+=Be.titleMarginBottom-ke)}}_drawColorBox(Re,je,Be,De,Fe){const Oe=this.labelColors[Be],ke=this.labelPointStyles[Be],{boxHeight:Me,boxWidth:Ue}=Fe,$e=toFont(Fe.bodyFont),He=getAlignedX(this,"left",Fe),Qe=De.x(He),We=Me<$e.lineHeight?($e.lineHeight-Me)/2:0,qe=je.y+We;if(Fe.usePointStyle){const Ke={radius:Math.min(Ue,Me)/2,pointStyle:ke.pointStyle,rotation:ke.rotation,borderWidth:1},Xe=De.leftForLtr(Qe,Ue)+Ue/2,Ye=qe+Me/2;Re.strokeStyle=Fe.multiKeyBackground,Re.fillStyle=Fe.multiKeyBackground,drawPoint(Re,Ke,Xe,Ye),Re.strokeStyle=Oe.borderColor,Re.fillStyle=Oe.backgroundColor,drawPoint(Re,Ke,Xe,Ye)}else{Re.lineWidth=isObject$1(Oe.borderWidth)?Math.max(...Object.values(Oe.borderWidth)):Oe.borderWidth||1,Re.strokeStyle=Oe.borderColor,Re.setLineDash(Oe.borderDash||[]),Re.lineDashOffset=Oe.borderDashOffset||0;const Ke=De.leftForLtr(Qe,Ue),Xe=De.leftForLtr(De.xPlus(Qe,1),Ue-2),Ye=toTRBLCorners(Oe.borderRadius);Object.values(Ye).some(Ze=>Ze!==0)?(Re.beginPath(),Re.fillStyle=Fe.multiKeyBackground,addRoundedRectPath(Re,{x:Ke,y:qe,w:Ue,h:Me,radius:Ye}),Re.fill(),Re.stroke(),Re.fillStyle=Oe.backgroundColor,Re.beginPath(),addRoundedRectPath(Re,{x:Xe,y:qe+1,w:Ue-2,h:Me-2,radius:Ye}),Re.fill()):(Re.fillStyle=Fe.multiKeyBackground,Re.fillRect(Ke,qe,Ue,Me),Re.strokeRect(Ke,qe,Ue,Me),Re.fillStyle=Oe.backgroundColor,Re.fillRect(Xe,qe+1,Ue-2,Me-2))}Re.fillStyle=this.labelTextColors[Be]}drawBody(Re,je,Be){const{body:De}=this,{bodySpacing:Fe,bodyAlign:Oe,displayColors:ke,boxHeight:Me,boxWidth:Ue,boxPadding:$e}=Be,He=toFont(Be.bodyFont);let Qe=He.lineHeight,We=0;const qe=getRtlAdapter(Be.rtl,this.x,this.width),Ke=function(sr){je.fillText(sr,qe.x(Re.x+We),Re.y+Qe/2),Re.y+=Qe+Fe},Xe=qe.textAlign(Oe);let Ye,Ze,Je,tr,rr,ar,nr;for(je.textAlign=Oe,je.textBaseline="middle",je.font=He.string,Re.x=getAlignedX(this,Xe,Be),je.fillStyle=Be.bodyColor,each$1(this.beforeBody,Ke),We=ke&&Xe!=="right"?Oe==="center"?Ue/2+$e:Ue+2+$e:0,tr=0,ar=De.length;tr<ar;++tr){for(Ye=De[tr],Ze=this.labelTextColors[tr],je.fillStyle=Ze,each$1(Ye.before,Ke),Je=Ye.lines,ke&&Je.length&&(this._drawColorBox(je,Re,tr,qe,Be),Qe=Math.max(He.lineHeight,Me)),rr=0,nr=Je.length;rr<nr;++rr)Ke(Je[rr]),Qe=He.lineHeight;each$1(Ye.after,Ke)}We=0,Qe=He.lineHeight,each$1(this.afterBody,Ke),Re.y-=Fe}drawFooter(Re,je,Be){const De=this.footer,Fe=De.length;let Oe,ke;if(Fe){const Me=getRtlAdapter(Be.rtl,this.x,this.width);for(Re.x=getAlignedX(this,Be.footerAlign,Be),Re.y+=Be.footerMarginTop,je.textAlign=Me.textAlign(Be.footerAlign),je.textBaseline="middle",Oe=toFont(Be.footerFont),je.fillStyle=Be.footerColor,je.font=Oe.string,ke=0;ke<Fe;++ke)je.fillText(De[ke],Me.x(Re.x),Re.y+Oe.lineHeight/2),Re.y+=Oe.lineHeight+Be.footerSpacing}}drawBackground(Re,je,Be,De){const{xAlign:Fe,yAlign:Oe}=this,{x:ke,y:Me}=Re,{width:Ue,height:$e}=Be,{topLeft:He,topRight:Qe,bottomLeft:We,bottomRight:qe}=toTRBLCorners(De.cornerRadius);je.fillStyle=De.backgroundColor,je.strokeStyle=De.borderColor,je.lineWidth=De.borderWidth,je.beginPath(),je.moveTo(ke+He,Me),Oe==="top"&&this.drawCaret(Re,je,Be,De),je.lineTo(ke+Ue-Qe,Me),je.quadraticCurveTo(ke+Ue,Me,ke+Ue,Me+Qe),Oe==="center"&&Fe==="right"&&this.drawCaret(Re,je,Be,De),je.lineTo(ke+Ue,Me+$e-qe),je.quadraticCurveTo(ke+Ue,Me+$e,ke+Ue-qe,Me+$e),Oe==="bottom"&&this.drawCaret(Re,je,Be,De),je.lineTo(ke+We,Me+$e),je.quadraticCurveTo(ke,Me+$e,ke,Me+$e-We),Oe==="center"&&Fe==="left"&&this.drawCaret(Re,je,Be,De),je.lineTo(ke,Me+He),je.quadraticCurveTo(ke,Me,ke+He,Me),je.closePath(),je.fill(),De.borderWidth>0&&je.stroke()}_updateAnimationTarget(Re){const je=this.chart,Be=this.$animations,De=Be&&Be.x,Fe=Be&&Be.y;if(De||Fe){const Oe=positioners[Re.position].call(this,this._active,this._eventPosition);if(!Oe)return;const ke=this._size=getTooltipSize(this,Re),Me=Object.assign({},Oe,this._size),Ue=determineAlignment(je,Re,Me),$e=getBackgroundPoint(Re,Me,Ue,je);(De._to!==$e.x||Fe._to!==$e.y)&&(this.xAlign=Ue.xAlign,this.yAlign=Ue.yAlign,this.width=ke.width,this.height=ke.height,this.caretX=Oe.x,this.caretY=Oe.y,this._resolveAnimations().update(this,$e))}}_willRender(){return!!this.opacity}draw(Re){const je=this.options.setContext(this.getContext());let Be=this.opacity;if(!Be)return;this._updateAnimationTarget(je);const De={width:this.width,height:this.height},Fe={x:this.x,y:this.y};Be=Math.abs(Be)<.001?0:Be;const Oe=toPadding(je.padding),ke=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;je.enabled&&ke&&(Re.save(),Re.globalAlpha=Be,this.drawBackground(Fe,Re,De,je),overrideTextDirection(Re,je.textDirection),Fe.y+=Oe.top,this.drawTitle(Fe,Re,je),this.drawBody(Fe,Re,je),this.drawFooter(Fe,Re,je),restoreTextDirection(Re,je.textDirection),Re.restore())}getActiveElements(){return this._active||[]}setActiveElements(Re,je){const Be=this._active,De=Re.map(({datasetIndex:ke,index:Me})=>{const Ue=this.chart.getDatasetMeta(ke);if(!Ue)throw new Error("Cannot find a dataset at index "+ke);return{datasetIndex:ke,element:Ue.data[Me],index:Me}}),Fe=!_elementsEqual(Be,De),Oe=this._positionChanged(De,je);(Fe||Oe)&&(this._active=De,this._eventPosition=je,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(Re,je,Be=!0){if(je&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const De=this.options,Fe=this._active||[],Oe=this._getActiveElements(Re,Fe,je,Be),ke=this._positionChanged(Oe,Re),Me=je||!_elementsEqual(Oe,Fe)||ke;return Me&&(this._active=Oe,(De.enabled||De.external)&&(this._eventPosition={x:Re.x,y:Re.y},this.update(!0,je))),Me}_getActiveElements(Re,je,Be,De){const Fe=this.options;if(Re.type==="mouseout")return[];if(!De)return je.filter(ke=>this.chart.data.datasets[ke.datasetIndex]&&this.chart.getDatasetMeta(ke.datasetIndex).controller.getParsed(ke.index)!==void 0);const Oe=this.chart.getElementsAtEventForMode(Re,Fe.mode,Fe,Be);return Fe.reverse&&Oe.reverse(),Oe}_positionChanged(Re,je){const{caretX:Be,caretY:De,options:Fe}=this,Oe=positioners[Fe.position].call(this,Re,je);return Oe!==!1&&(Be!==Oe.x||De!==Oe.y)}};var plugin_tooltip={id:"tooltip",_element:Tooltip$1,positioners,afterInit(Ce,Re,je){je&&(Ce.tooltip=new Tooltip$1({chart:Ce,options:je}))},beforeUpdate(Ce,Re,je){Ce.tooltip&&Ce.tooltip.initialize(je)},reset(Ce,Re,je){Ce.tooltip&&Ce.tooltip.initialize(je)},afterDraw(Ce){const Re=Ce.tooltip;if(Re&&Re._willRender()){const je={tooltip:Re};if(Ce.notifyPlugins("beforeTooltipDraw",{...je,cancelable:!0})===!1)return;Re.draw(Ce.ctx),Ce.notifyPlugins("afterTooltipDraw",je)}},afterEvent(Ce,Re){if(Ce.tooltip){const je=Re.replay;Ce.tooltip.handleEvent(Re.event,je,Re.inChartArea)&&(Re.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(Ce,Re)=>Re.bodyFont.size,boxWidth:(Ce,Re)=>Re.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:Ce=>Ce!=="filter"&&Ce!=="itemSort"&&Ce!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(Ce,Re,je,Be)=>(typeof Re=="string"?(je=Ce.push(Re)-1,Be.unshift({index:je,label:Re})):isNaN(Re)&&(je=null),je);function findOrAddLabel(Ce,Re,je,Be){const De=Ce.indexOf(Re);if(De===-1)return addIfString(Ce,Re,je,Be);const Fe=Ce.lastIndexOf(Re);return De!==Fe?je:De}const validIndex=(Ce,Re)=>Ce===null?null:_limitValue(Math.round(Ce),0,Re);function _getLabelForValue(Ce){const Re=this.getLabels();return Ce>=0&&Ce<Re.length?Re[Ce]:Ce}class CategoryScale extends Scale{static id="category";static defaults={ticks:{callback:_getLabelForValue}};constructor(Re){super(Re),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(Re){const je=this._addedLabels;if(je.length){const Be=this.getLabels();for(const{index:De,label:Fe}of je)Be[De]===Fe&&Be.splice(De,1);this._addedLabels=[]}super.init(Re)}parse(Re,je){if(isNullOrUndef(Re))return null;const Be=this.getLabels();return je=isFinite(je)&&Be[je]===Re?je:findOrAddLabel(Be,Re,valueOrDefault(je,Re),this._addedLabels),validIndex(je,Be.length-1)}determineDataLimits(){const{minDefined:Re,maxDefined:je}=this.getUserBounds();let{min:Be,max:De}=this.getMinMax(!0);this.options.bounds==="ticks"&&(Re||(Be=0),je||(De=this.getLabels().length-1)),this.min=Be,this.max=De}buildTicks(){const Re=this.min,je=this.max,Be=this.options.offset,De=[];let Fe=this.getLabels();Fe=Re===0&&je===Fe.length-1?Fe:Fe.slice(Re,je+1),this._valueRange=Math.max(Fe.length-(Be?0:1),1),this._startValue=this.min-(Be?.5:0);for(let Oe=Re;Oe<=je;Oe++)De.push({value:Oe});return De}getLabelForValue(Re){return _getLabelForValue.call(this,Re)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(Re){return typeof Re!="number"&&(Re=this.parse(Re)),Re===null?NaN:this.getPixelForDecimal((Re-this._startValue)/this._valueRange)}getPixelForTick(Re){const je=this.ticks;return Re<0||Re>je.length-1?null:this.getPixelForValue(je[Re].value)}getValueForPixel(Re){return Math.round(this._startValue+this.getDecimalForPixel(Re)*this._valueRange)}getBasePixel(){return this.bottom}}function generateTicks$1(Ce,Re){const je=[],{bounds:De,step:Fe,min:Oe,max:ke,precision:Me,count:Ue,maxTicks:$e,maxDigits:He,includeBounds:Qe}=Ce,We=Fe||1,qe=$e-1,{min:Ke,max:Xe}=Re,Ye=!isNullOrUndef(Oe),Ze=!isNullOrUndef(ke),Je=!isNullOrUndef(Ue),tr=(Xe-Ke)/(He+1);let rr=niceNum((Xe-Ke)/qe/We)*We,ar,nr,sr,dr;if(rr<1e-14&&!Ye&&!Ze)return[{value:Ke},{value:Xe}];dr=Math.ceil(Xe/rr)-Math.floor(Ke/rr),dr>qe&&(rr=niceNum(dr*rr/qe/We)*We),isNullOrUndef(Me)||(ar=Math.pow(10,Me),rr=Math.ceil(rr*ar)/ar),De==="ticks"?(nr=Math.floor(Ke/rr)*rr,sr=Math.ceil(Xe/rr)*rr):(nr=Ke,sr=Xe),Ye&&Ze&&Fe&&almostWhole((ke-Oe)/Fe,rr/1e3)?(dr=Math.round(Math.min((ke-Oe)/rr,$e)),rr=(ke-Oe)/dr,nr=Oe,sr=ke):Je?(nr=Ye?Oe:nr,sr=Ze?ke:sr,dr=Ue-1,rr=(sr-nr)/dr):(dr=(sr-nr)/rr,almostEquals(dr,Math.round(dr),rr/1e3)?dr=Math.round(dr):dr=Math.ceil(dr));const _r=Math.max(_decimalPlaces(rr),_decimalPlaces(nr));ar=Math.pow(10,isNullOrUndef(Me)?_r:Me),nr=Math.round(nr*ar)/ar,sr=Math.round(sr*ar)/ar;let fr=0;for(Ye&&(Qe&&nr!==Oe?(je.push({value:Oe}),nr<Oe&&fr++,almostEquals(Math.round((nr+fr*rr)*ar)/ar,Oe,relativeLabelSize(Oe,tr,Ce))&&fr++):nr<Oe&&fr++);fr<dr;++fr){const or=Math.round((nr+fr*rr)*ar)/ar;if(Ze&&or>ke)break;je.push({value:or})}return Ze&&Qe&&sr!==ke?je.length&&almostEquals(je[je.length-1].value,ke,relativeLabelSize(ke,tr,Ce))?je[je.length-1].value=ke:je.push({value:ke}):(!Ze||sr===ke)&&je.push({value:sr}),je}function relativeLabelSize(Ce,Re,{horizontal:je,minRotation:Be}){const De=toRadians(Be),Fe=(je?Math.sin(De):Math.cos(De))||.001,Oe=.75*Re*(""+Ce).length;return Math.min(Re/Fe,Oe)}class LinearScaleBase extends Scale{constructor(Re){super(Re),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(Re,je){return isNullOrUndef(Re)||(typeof Re=="number"||Re instanceof Number)&&!isFinite(+Re)?null:+Re}handleTickRangeOptions(){const{beginAtZero:Re}=this.options,{minDefined:je,maxDefined:Be}=this.getUserBounds();let{min:De,max:Fe}=this;const Oe=Me=>De=je?De:Me,ke=Me=>Fe=Be?Fe:Me;if(Re){const Me=sign$1(De),Ue=sign$1(Fe);Me<0&&Ue<0?ke(0):Me>0&&Ue>0&&Oe(0)}if(De===Fe){let Me=Fe===0?1:Math.abs(Fe*.05);ke(Fe+Me),Re||Oe(De-Me)}this.min=De,this.max=Fe}getTickLimit(){const Re=this.options.ticks;let{maxTicksLimit:je,stepSize:Be}=Re,De;return Be?(De=Math.ceil(this.max/Be)-Math.floor(this.min/Be)+1,De>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${Be} would result generating up to ${De} ticks. Limiting to 1000.`),De=1e3)):(De=this.computeTickLimit(),je=je||11),je&&(De=Math.min(je,De)),De}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const Re=this.options,je=Re.ticks;let Be=this.getTickLimit();Be=Math.max(2,Be);const De={maxTicks:Be,bounds:Re.bounds,min:Re.min,max:Re.max,precision:je.precision,step:je.stepSize,count:je.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:je.minRotation||0,includeBounds:je.includeBounds!==!1},Fe=this._range||this,Oe=generateTicks$1(De,Fe);return Re.bounds==="ticks"&&_setMinAndMaxByKey(Oe,this,"value"),Re.reverse?(Oe.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),Oe}configure(){const Re=this.ticks;let je=this.min,Be=this.max;if(super.configure(),this.options.offset&&Re.length){const De=(Be-je)/Math.max(Re.length-1,1)/2;je-=De,Be+=De}this._startValue=je,this._endValue=Be,this._valueRange=Be-je}getLabelForValue(Re){return formatNumber(Re,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{static id="linear";static defaults={ticks:{callback:Ticks.formatters.numeric}};determineDataLimits(){const{min:Re,max:je}=this.getMinMax(!0);this.min=isNumberFinite(Re)?Re:0,this.max=isNumberFinite(je)?je:1,this.handleTickRangeOptions()}computeTickLimit(){const Re=this.isHorizontal(),je=Re?this.width:this.height,Be=toRadians(this.options.ticks.minRotation),De=(Re?Math.sin(Be):Math.cos(Be))||.001,Fe=this._resolveTickFontOptions(0);return Math.ceil(je/Math.min(40,Fe.lineHeight/De))}getPixelForValue(Re){return Re===null?NaN:this.getPixelForDecimal((Re-this._startValue)/this._valueRange)}getValueForPixel(Re){return this._startValue+this.getDecimalForPixel(Re)*this._valueRange}}const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(Ce,Re){return Ce-Re}function parse$1(Ce,Re){if(isNullOrUndef(Re))return null;const je=Ce._adapter,{parser:Be,round:De,isoWeekday:Fe}=Ce._parseOpts;let Oe=Re;return typeof Be=="function"&&(Oe=Be(Oe)),isNumberFinite(Oe)||(Oe=typeof Be=="string"?je.parse(Oe,Be):je.parse(Oe)),Oe===null?null:(De&&(Oe=De==="week"&&(isNumber$1(Fe)||Fe===!0)?je.startOf(Oe,"isoWeek",Fe):je.startOf(Oe,De)),+Oe)}function determineUnitForAutoTicks(Ce,Re,je,Be){const De=UNITS.length;for(let Fe=UNITS.indexOf(Ce);Fe<De-1;++Fe){const Oe=INTERVALS[UNITS[Fe]],ke=Oe.steps?Oe.steps:Number.MAX_SAFE_INTEGER;if(Oe.common&&Math.ceil((je-Re)/(ke*Oe.size))<=Be)return UNITS[Fe]}return UNITS[De-1]}function determineUnitForFormatting(Ce,Re,je,Be,De){for(let Fe=UNITS.length-1;Fe>=UNITS.indexOf(je);Fe--){const Oe=UNITS[Fe];if(INTERVALS[Oe].common&&Ce._adapter.diff(De,Be,Oe)>=Re-1)return Oe}return UNITS[je?UNITS.indexOf(je):0]}function determineMajorUnit(Ce){for(let Re=UNITS.indexOf(Ce)+1,je=UNITS.length;Re<je;++Re)if(INTERVALS[UNITS[Re]].common)return UNITS[Re]}function addTick(Ce,Re,je){if(!je)Ce[Re]=!0;else if(je.length){const{lo:Be,hi:De}=_lookup(je,Re),Fe=je[Be]>=Re?je[Be]:je[De];Ce[Fe]=!0}}function setMajorTicks(Ce,Re,je,Be){const De=Ce._adapter,Fe=+De.startOf(Re[0].value,Be),Oe=Re[Re.length-1].value;let ke,Me;for(ke=Fe;ke<=Oe;ke=+De.add(ke,1,Be))Me=je[ke],Me>=0&&(Re[Me].major=!0);return Re}function ticksFromTimestamps(Ce,Re,je){const Be=[],De={},Fe=Re.length;let Oe,ke;for(Oe=0;Oe<Fe;++Oe)ke=Re[Oe],De[ke]=Oe,Be.push({value:ke,major:!1});return Fe===0||!je?Be:setMajorTicks(Ce,Be,De,je)}class TimeScale extends Scale{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(Re){super(Re),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(Re,je={}){const Be=Re.time||(Re.time={}),De=this._adapter=new adapters._date(Re.adapters.date);De.init(je),mergeIf(Be.displayFormats,De.formats()),this._parseOpts={parser:Be.parser,round:Be.round,isoWeekday:Be.isoWeekday},super.init(Re),this._normalized=je.normalized}parse(Re,je){return Re===void 0?null:parse$1(this,Re)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const Re=this.options,je=this._adapter,Be=Re.time.unit||"day";let{min:De,max:Fe,minDefined:Oe,maxDefined:ke}=this.getUserBounds();function Me(Ue){!Oe&&!isNaN(Ue.min)&&(De=Math.min(De,Ue.min)),!ke&&!isNaN(Ue.max)&&(Fe=Math.max(Fe,Ue.max))}(!Oe||!ke)&&(Me(this._getLabelBounds()),(Re.bounds!=="ticks"||Re.ticks.source!=="labels")&&Me(this.getMinMax(!1))),De=isNumberFinite(De)&&!isNaN(De)?De:+je.startOf(Date.now(),Be),Fe=isNumberFinite(Fe)&&!isNaN(Fe)?Fe:+je.endOf(Date.now(),Be)+1,this.min=Math.min(De,Fe-1),this.max=Math.max(De+1,Fe)}_getLabelBounds(){const Re=this.getLabelTimestamps();let je=Number.POSITIVE_INFINITY,Be=Number.NEGATIVE_INFINITY;return Re.length&&(je=Re[0],Be=Re[Re.length-1]),{min:je,max:Be}}buildTicks(){const Re=this.options,je=Re.time,Be=Re.ticks,De=Be.source==="labels"?this.getLabelTimestamps():this._generate();Re.bounds==="ticks"&&De.length&&(this.min=this._userMin||De[0],this.max=this._userMax||De[De.length-1]);const Fe=this.min,Oe=this.max,ke=_filterBetween(De,Fe,Oe);return this._unit=je.unit||(Be.autoSkip?determineUnitForAutoTicks(je.minUnit,this.min,this.max,this._getLabelCapacity(Fe)):determineUnitForFormatting(this,ke.length,je.minUnit,this.min,this.max)),this._majorUnit=!Be.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(De),Re.reverse&&ke.reverse(),ticksFromTimestamps(this,ke,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(Re=>+Re.value))}initOffsets(Re=[]){let je=0,Be=0,De,Fe;this.options.offset&&Re.length&&(De=this.getDecimalForValue(Re[0]),Re.length===1?je=1-De:je=(this.getDecimalForValue(Re[1])-De)/2,Fe=this.getDecimalForValue(Re[Re.length-1]),Re.length===1?Be=Fe:Be=(Fe-this.getDecimalForValue(Re[Re.length-2]))/2);const Oe=Re.length<3?.5:.25;je=_limitValue(je,0,Oe),Be=_limitValue(Be,0,Oe),this._offsets={start:je,end:Be,factor:1/(je+1+Be)}}_generate(){const Re=this._adapter,je=this.min,Be=this.max,De=this.options,Fe=De.time,Oe=Fe.unit||determineUnitForAutoTicks(Fe.minUnit,je,Be,this._getLabelCapacity(je)),ke=valueOrDefault(De.ticks.stepSize,1),Me=Oe==="week"?Fe.isoWeekday:!1,Ue=isNumber$1(Me)||Me===!0,$e={};let He=je,Qe,We;if(Ue&&(He=+Re.startOf(He,"isoWeek",Me)),He=+Re.startOf(He,Ue?"day":Oe),Re.diff(Be,je,Oe)>1e5*ke)throw new Error(je+" and "+Be+" are too far apart with stepSize of "+ke+" "+Oe);const qe=De.ticks.source==="data"&&this.getDataTimestamps();for(Qe=He,We=0;Qe<Be;Qe=+Re.add(Qe,ke,Oe),We++)addTick($e,Qe,qe);return(Qe===Be||De.bounds==="ticks"||We===1)&&addTick($e,Qe,qe),Object.keys($e).sort(sorter).map(Ke=>+Ke)}getLabelForValue(Re){const je=this._adapter,Be=this.options.time;return Be.tooltipFormat?je.format(Re,Be.tooltipFormat):je.format(Re,Be.displayFormats.datetime)}format(Re,je){const De=this.options.time.displayFormats,Fe=this._unit,Oe=je||De[Fe];return this._adapter.format(Re,Oe)}_tickFormatFunction(Re,je,Be,De){const Fe=this.options,Oe=Fe.ticks.callback;if(Oe)return callback(Oe,[Re,je,Be],this);const ke=Fe.time.displayFormats,Me=this._unit,Ue=this._majorUnit,$e=Me&&ke[Me],He=Ue&&ke[Ue],Qe=Be[je],We=Ue&&He&&Qe&&Qe.major;return this._adapter.format(Re,De||(We?He:$e))}generateTickLabels(Re){let je,Be,De;for(je=0,Be=Re.length;je<Be;++je)De=Re[je],De.label=this._tickFormatFunction(De.value,je,Re)}getDecimalForValue(Re){return Re===null?NaN:(Re-this.min)/(this.max-this.min)}getPixelForValue(Re){const je=this._offsets,Be=this.getDecimalForValue(Re);return this.getPixelForDecimal((je.start+Be)*je.factor)}getValueForPixel(Re){const je=this._offsets,Be=this.getDecimalForPixel(Re)/je.factor-je.end;return this.min+Be*(this.max-this.min)}_getLabelSize(Re){const je=this.options.ticks,Be=this.ctx.measureText(Re).width,De=toRadians(this.isHorizontal()?je.maxRotation:je.minRotation),Fe=Math.cos(De),Oe=Math.sin(De),ke=this._resolveTickFontOptions(0).size;return{w:Be*Fe+ke*Oe,h:Be*Oe+ke*Fe}}_getLabelCapacity(Re){const je=this.options.time,Be=je.displayFormats,De=Be[je.unit]||Be.millisecond,Fe=this._tickFormatFunction(Re,0,ticksFromTimestamps(this,[Re],this._majorUnit),De),Oe=this._getLabelSize(Fe),ke=Math.floor(this.isHorizontal()?this.width/Oe.w:this.height/Oe.h)-1;return ke>0?ke:1}getDataTimestamps(){let Re=this._cache.data||[],je,Be;if(Re.length)return Re;const De=this.getMatchingVisibleMetas();if(this._normalized&&De.length)return this._cache.data=De[0].controller.getAllParsedValues(this);for(je=0,Be=De.length;je<Be;++je)Re=Re.concat(De[je].controller.getAllParsedValues(this));return this._cache.data=this.normalize(Re)}getLabelTimestamps(){const Re=this._cache.labels||[];let je,Be;if(Re.length)return Re;const De=this.getLabels();for(je=0,Be=De.length;je<Be;++je)Re.push(parse$1(this,De[je]));return this._cache.labels=this._normalized?Re:this.normalize(Re)}normalize(Re){return _arrayUnique(Re.sort(sorter))}}function interpolate$2(Ce,Re,je){let Be=0,De=Ce.length-1,Fe,Oe,ke,Me;je?(Re>=Ce[Be].pos&&Re<=Ce[De].pos&&({lo:Be,hi:De}=_lookupByKey(Ce,"pos",Re)),{pos:Fe,time:ke}=Ce[Be],{pos:Oe,time:Me}=Ce[De]):(Re>=Ce[Be].time&&Re<=Ce[De].time&&({lo:Be,hi:De}=_lookupByKey(Ce,"time",Re)),{time:Fe,pos:ke}=Ce[Be],{time:Oe,pos:Me}=Ce[De]);const Ue=Oe-Fe;return Ue?ke+(Me-ke)*(Re-Fe)/Ue:ke}class TimeSeriesScale extends TimeScale{static id="timeseries";static defaults=TimeScale.defaults;constructor(Re){super(Re),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const Re=this._getTimestampsForTable(),je=this._table=this.buildLookupTable(Re);this._minPos=interpolate$2(je,this.min),this._tableRange=interpolate$2(je,this.max)-this._minPos,super.initOffsets(Re)}buildLookupTable(Re){const{min:je,max:Be}=this,De=[],Fe=[];let Oe,ke,Me,Ue,$e;for(Oe=0,ke=Re.length;Oe<ke;++Oe)Ue=Re[Oe],Ue>=je&&Ue<=Be&&De.push(Ue);if(De.length<2)return[{time:je,pos:0},{time:Be,pos:1}];for(Oe=0,ke=De.length;Oe<ke;++Oe)$e=De[Oe+1],Me=De[Oe-1],Ue=De[Oe],Math.round(($e+Me)/2)!==Ue&&Fe.push({time:Ue,pos:Oe/(ke-1)});return Fe}_generate(){const Re=this.min,je=this.max;let Be=super.getDataTimestamps();return(!Be.includes(Re)||!Be.length)&&Be.splice(0,0,Re),(!Be.includes(je)||Be.length===1)&&Be.push(je),Be.sort((De,Fe)=>De-Fe)}_getTimestampsForTable(){let Re=this._cache.all||[];if(Re.length)return Re;const je=this.getDataTimestamps(),Be=this.getLabelTimestamps();return je.length&&Be.length?Re=this.normalize(je.concat(Be)):Re=je.length?je:Be,Re=this._cache.all=Re,Re}getDecimalForValue(Re){return(interpolate$2(this._table,Re)-this._minPos)/this._tableRange}getValueForPixel(Re){const je=this._offsets,Be=this.getDecimalForPixel(Re)/je.factor-je.end;return interpolate$2(this._table,Be*this._tableRange+this._minPos,!0)}}const defaultDatasetIdKey="label";function reforwardRef(Ce,Re){typeof Ce=="function"?Ce(Re):Ce&&(Ce.current=Re)}function setOptions(Ce,Re){const je=Ce.options;je&&Re&&Object.assign(je,Re)}function setLabels(Ce,Re){Ce.labels=Re}function setDatasets(Ce,Re){let je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultDatasetIdKey;const Be=[];Ce.datasets=Re.map(De=>{const Fe=Ce.datasets.find(Oe=>Oe[je]===De[je]);return!Fe||!De.data||Be.includes(Fe)?{...De}:(Be.push(Fe),Object.assign(Fe,De),Fe)})}function cloneData(Ce){let Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultDatasetIdKey;const je={labels:[],datasets:[]};return setLabels(je,Ce.labels),setDatasets(je,Ce.datasets,Re),je}function ChartComponent(Ce,Re){const{height:je=150,width:Be=300,redraw:De=!1,datasetIdKey:Fe,type:Oe,data:ke,options:Me,plugins:Ue=[],fallbackContent:$e,updateMode:He,...Qe}=Ce,We=reactExports.useRef(null),qe=reactExports.useRef(null),Ke=()=>{We.current&&(qe.current=new Chart$1(We.current,{type:Oe,data:cloneData(ke,Fe),options:Me&&{...Me},plugins:Ue}),reforwardRef(Re,qe.current))},Xe=()=>{reforwardRef(Re,null),qe.current&&(qe.current.destroy(),qe.current=null)};return reactExports.useEffect(()=>{!De&&qe.current&&Me&&setOptions(qe.current,Me)},[De,Me]),reactExports.useEffect(()=>{!De&&qe.current&&setLabels(qe.current.config.data,ke.labels)},[De,ke.labels]),reactExports.useEffect(()=>{!De&&qe.current&&ke.datasets&&setDatasets(qe.current.config.data,ke.datasets,Fe)},[De,ke.datasets]),reactExports.useEffect(()=>{qe.current&&(De?(Xe(),setTimeout(Ke)):qe.current.update(He))},[De,Me,ke.labels,ke.datasets,He]),reactExports.useEffect(()=>{qe.current&&(Xe(),setTimeout(Ke))},[Oe]),reactExports.useEffect(()=>(Ke(),()=>Xe()),[]),React.createElement("canvas",{ref:We,role:"img",height:je,width:Be,...Qe},$e)}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(Ce,Re){return Chart$1.register(Re),reactExports.forwardRef((je,Be)=>React.createElement(Chart,{...je,ref:Be,type:Ce}))}const Bar$1=createTypedChart("bar",BarController),Pie=createTypedChart("pie",PieController);Chart$1.register(BarElement,CategoryScale,LinearScale,plugin_tooltip,plugin_legend);const CustomerRetentionCard=()=>{const[Ce,Re]=reactExports.useState({totalCustomers:0,returningCustomers:0,retentionRate:0,chartData:[]});reactExports.useEffect(()=>{(async()=>{const De=auth$2.currentUser?.uid;if(!De)return;const Fe=collection(db$2,`businesses/${De}/finalizedInvoices`),Oe=await getDocs(Fe),ke={};Oe.docs.forEach(Qe=>{const qe=Qe.data().customer||{},Ke=qe.custId||qe.phone||qe.email||qe.name;ke[Ke]||(ke[Ke]={custId:qe.custId,name:qe.name,visits:0}),ke[Ke].visits+=1});const Me=Object.keys(ke).length,Ue=Object.values(ke).filter(Qe=>Qe.visits>1).length,$e=Me>0?(Ue/Me*100).toFixed(1):0,He=Object.values(ke).sort((Qe,We)=>We.visits-Qe.visits).map(Qe=>({name:Qe.name||"Unknown",visits:Qe.visits}));Re({totalCustomers:Me,returningCustomers:Ue,retentionRate:$e,chartData:He})})()},[]);const je={labels:Ce.chartData.map(Be=>Be.name),datasets:[{label:"Visits",data:Ce.chartData.map(Be=>Be.visits),backgroundColor:"#3B82F6"}]};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-2",children:" Customer Retention"}),jsxRuntimeExports.jsxs("p",{children:["Total Customers: ",jsxRuntimeExports.jsx("strong",{children:Ce.totalCustomers})]}),jsxRuntimeExports.jsxs("p",{children:["Returning Customers: ",jsxRuntimeExports.jsx("strong",{children:Ce.returningCustomers})]}),jsxRuntimeExports.jsxs("p",{children:["Retention Rate: ",jsxRuntimeExports.jsxs("strong",{children:[Ce.retentionRate,"%"]})]}),Ce.chartData.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(Bar$1,{data:je,options:{responsive:!0,plugins:{legend:{display:!1}}}})})]})},TopLoyalCustomersTable=()=>{const[Ce,Re]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Be=auth$2.currentUser?.uid;if(!Be)return;const De=collection(db$2,`businesses/${Be}/finalizedInvoices`),Oe=(await getDocs(De)).docs.map(Ue=>Ue.data()),ke={};Oe.forEach(Ue=>{const $e=Ue.customer||{},He=$e.custId||$e.phone||$e.email||$e.name;ke[He]||(ke[He]={custId:$e.custId,name:$e.name,phone:$e.phone,totalSpend:0,orders:0}),ke[He].orders+=1,ke[He].totalSpend+=Ue.totalAmount||0});const Me=Object.values(ke).map(Ue=>({...Ue,avgOrderValue:Ue.orders>0?(Ue.totalSpend/Ue.orders).toFixed(2):"0.00"})).sort((Ue,$e)=>$e.totalSpend-Ue.totalSpend).slice(0,5);Re(Me)})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Top Loyal / High-Spend Customers"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2 text-left",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-left",children:"Phone"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-center",children:"Orders"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-right",children:"Total Spend"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-right",children:"Avg Order Value"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ce.map((je,Be)=>jsxRuntimeExports.jsxs("tr",{className:"border-t",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:je.name||"N/A"}),jsxRuntimeExports.jsx("td",{className:"p-2",children:je.phone||"N/A"}),jsxRuntimeExports.jsx("td",{className:"p-2 text-center",children:je.orders}),jsxRuntimeExports.jsxs("td",{className:"p-2 text-right",children:["",je.totalSpend.toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"p-2 text-right",children:["",je.avgOrderValue]})]},Be))})]})})]})},CustomerProductsTable=()=>{const[Ce,Re]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Be=auth$2.currentUser?.uid;if(!Be)return;const De=collection(db$2,`businesses/${Be}/finalizedInvoices`),Oe=(await getDocs(De)).docs.map(Ue=>Ue.data()),ke={};Oe.forEach(Ue=>{const $e=Ue.customer||{},He=$e.custId||$e.phone||$e.email||$e.name;ke[He]||(ke[He]={custId:$e.custId,name:$e.name,phone:$e.phone,visits:0,totalSpend:0,products:{}}),ke[He].visits+=1,ke[He].totalSpend+=Ue.totalAmount||0,(Ue.cartItems||[]).forEach(Qe=>{ke[He].products[Qe.name]||(ke[He].products[Qe.name]=0),ke[He].products[Qe.name]+=Qe.quantity})});const Me=Object.values(ke).map(Ue=>({...Ue,topProducts:Object.entries(Ue.products).sort(($e,He)=>He[1]-$e[1]).slice(0,3).map(([$e,He])=>`${$e} (${He})`).join(", ")})).sort((Ue,$e)=>$e.visits-Ue.visits);Re(Me)})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Products Bought by Each Customer"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2 text-left",children:"Customer Name"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-center",children:"Visits"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-left",children:"Top Products"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-right",children:"Total Spend"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ce.map((je,Be)=>jsxRuntimeExports.jsxs("tr",{className:"border-t",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:je.name||"N/A"}),jsxRuntimeExports.jsx("td",{className:"p-2 text-center",children:je.visits}),jsxRuntimeExports.jsx("td",{className:"p-2",children:je.topProducts}),jsxRuntimeExports.jsxs("td",{className:"p-2 text-right",children:["",je.totalSpend.toFixed(2)]})]},Be))})]})})]})};Chart$1.register(BarElement,CategoryScale,LinearScale,plugin_tooltip,plugin_legend);const HourlyVisitChart=()=>{const[Ce,Re]=reactExports.useState(new Array(24).fill(0));reactExports.useEffect(()=>{(async()=>{const Fe=auth$2.currentUser?.uid;if(!Fe)return;const Oe=collection(db$2,`businesses/${Fe}/finalizedInvoices`),ke=await getDocs(Oe),Me=new Array(24).fill(0),Ue=new Set;ke.docs.forEach($e=>{const He=$e.data(),Qe=He.issuedAt||He.createdAt;if(!Qe)return;const qe=new Date(Qe).getHours(),Ke=He.customer||{},Ye=`${Ke.custId||Ke.phone||Ke.email||Ke.name}-${qe}`;Ue.has(Ye)||(Ue.add(Ye),Me[qe]++)}),Re(Me)})()},[]);const je={labels:Array.from({length:24},(De,Fe)=>`${Fe}:00`),datasets:[{label:"Invoices",data:Ce,backgroundColor:"#10B981"}]},Be={responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,stepSize:1}}};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Hourly Customer Visit Trends"}),jsxRuntimeExports.jsx(Bar$1,{data:je,options:Be})]})},CustomerInsights=()=>{const[Ce,Re]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Be=auth$2.currentUser?.uid;if(!Be)return;const De=collection(db$2,`businesses/${Be}/finalizedInvoices`),Oe=(await getDocs(De)).docs.map(Me=>Me.data()),ke={};Oe.forEach(Me=>{const Ue=Me.customer||{},$e=Ue.custId||Ue.phone||Ue.email||Ue.name;ke[$e]||(ke[$e]={custId:Ue.custId,name:Ue.name,phone:Ue.phone,email:Ue.email,visits:0,totalSpend:0,products:{}}),ke[$e].visits+=1,ke[$e].totalSpend+=Me.totalAmount||0,(Me.cartItems||[]).forEach(He=>{ke[$e].products[He.name]||(ke[$e].products[He.name]=0),ke[$e].products[He.name]+=He.quantity})}),Re(Object.values(ke))})()},[]),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Insights"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Ce.map((je,Be)=>jsxRuntimeExports.jsxs("div",{className:"border p-4 rounded shadow bg-white",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold",children:[je.name," (",je.phone,")"]}),jsxRuntimeExports.jsxs("p",{children:["Total Visits: ",je.visits]}),jsxRuntimeExports.jsxs("p",{children:["Total Spend: ",je.totalSpend.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:["Top Products: ",Object.entries(je.products).map(([De,Fe])=>`${De} (${Fe})`).join(", ")]})]},Be))})]})},CustomerLoyaltyTags=()=>{const[Ce,Re]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Be=auth$2.currentUser?.uid;if(!Be)return;const De=collection(db$2,`businesses/${Be}/finalizedInvoices`),Fe=await getDocs(De),Oe={};Fe.docs.forEach(Me=>{const $e=Me.data().customer||{},He=$e.custId||$e.phone||$e.email||$e.name;Oe[He]||(Oe[He]={custId:$e.custId,name:$e.name,phone:$e.phone,visits:0}),Oe[He].visits+=1});const ke=Object.values(Oe).map(Me=>({...Me,tier:Me.visits>=10?" Platinum":Me.visits>=5?" Gold":Me.visits>=1?" Silver":"New"})).sort((Me,Ue)=>Ue.visits-Me.visits);Re(ke)})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Customer Loyalty Tiers"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ce.map((je,Be)=>jsxRuntimeExports.jsxs("div",{className:"border p-4 rounded shadow-sm",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold",children:[je.name," (",je.phone,")"]}),jsxRuntimeExports.jsxs("p",{children:["Visits: ",je.visits]}),jsxRuntimeExports.jsxs("p",{children:["Tier: ",jsxRuntimeExports.jsx("strong",{children:je.tier})]})]},Be))})]})};Chart$1.register(BarElement,CategoryScale,LinearScale,plugin_tooltip,plugin_legend);const TopProductsChart=()=>{const[Ce,Re]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{const Fe=auth$2.currentUser?.uid;if(!Fe)return;const Oe=collection(db$2,`businesses/${Fe}/finalizedInvoices`),ke=await getDocs(Oe),Me={},Ue={};ke.docs.forEach(He=>{const Qe=He.data(),We=Qe.customer||{},qe=We.custId||We.phone||We.email||We.name;(Qe.cartItems||[]).forEach(Ke=>{const Xe=Ke.name||"Unnamed",Ye=`${qe}-${Xe}`;Ue[Ye]||(Ue[Ye]=Ke.quantity,Me[Xe]=(Me[Xe]||0)+Ke.quantity)})});const $e=Object.entries(Me).sort((He,Qe)=>Qe[1]-He[1]).slice(0,5).map(([He,Qe])=>({name:He,qty:Qe}));Re($e)})()},[]);const je={labels:Ce.map(De=>De.name),datasets:[{label:"Quantity Sold",data:Ce.map(De=>De.qty),backgroundColor:"#6366F1"}]},Be={responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,stepSize:1}}};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Top 5 Most Frequently Bought Products"}),jsxRuntimeExports.jsx(Bar$1,{data:je,options:Be})]})},CustomerAnalysis=({custId:Ce})=>jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold mb-4",children:" Customer Analysis"}),jsxRuntimeExports.jsx(CustomerRetentionCard,{custId:Ce}),jsxRuntimeExports.jsx(TopLoyalCustomersTable,{custId:Ce}),jsxRuntimeExports.jsx(CustomerProductsTable,{custId:Ce}),jsxRuntimeExports.jsx(HourlyVisitChart,{custId:Ce}),jsxRuntimeExports.jsx(TopProductsChart,{custId:Ce}),jsxRuntimeExports.jsx(CustomerInsights,{custId:Ce}),jsxRuntimeExports.jsx(CustomerLoyaltyTags,{custId:Ce})]}),AuthContext=reactExports.createContext(),useAuth=()=>reactExports.useContext(AuthContext),getCurrentUserId=()=>auth$2.currentUser?.uid||null,AuthProvider=({children:Ce})=>{const[Re,je]=reactExports.useState(null),[Be,De]=reactExports.useState(null),[Fe,Oe]=reactExports.useState(!0);return reactExports.useEffect(()=>{const ke=onAuthStateChanged(auth$2,async Me=>{if(je(Me),Me){console.log("Authenticated user UID:",Me.uid);const Ue=doc(db$2,"businesses",Me.uid),$e=await getDoc(Ue);$e.exists()&&De($e.data().role)}else console.log("User signed out or no user authenticated."),De(null);Oe(!1)});return()=>ke()},[]),jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:Re,role:Be,loading:Fe,setUser:je,setRole:De,setLoading:Oe},children:Fe?null:Ce})},logInventoryChange=async({productId:Ce,sku:Re,productName:je,brand:Be,category:De,previousData:Fe={},updatedData:Oe={},action:ke="updated",source:Me="manual"})=>{const Ue=auth$2.currentUser?.uid;if(!Ue||!Ce)return;const $e={};for(const He in Oe)Fe[He]!==Oe[He]&&($e[He]={from:Fe[He]!==void 0?Fe[He]:null,to:Oe[He]!==void 0?Oe[He]:null});if(Object.keys($e).length!==0)try{const He=collection(db$2,`businesses/${Ue}/inventoryLogs`);await addDoc(He,{productId:Ce,sku:Re,productName:je||"N/A",brand:Be||"N/A",category:De||"N/A",changes:$e,action:ke,source:Me,modifiedAt:serverTimestamp(),modifiedAtISO:new Date().toISOString(),modifiedBy:auth$2.currentUser?.email||"unknown"})}catch(He){console.error("Failed to log inventory change:",He)}},ManualEntryForm$1=()=>{const{currentUser:Ce}=useAuth(),[Re,je]=reactExports.useState({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),[Be,De]=reactExports.useState(null),[Fe,Oe]=reactExports.useState(!1),ke=Ue=>{const{name:$e,value:He,files:Qe}=Ue.target;if($e==="image"){const We=Qe[0];je({...Re,image:We}),De(URL.createObjectURL(We))}else je({...Re,[$e]:He})},Me=async Ue=>{Ue.preventDefault();const $e=getCurrentUserId();if(!$e)return;Oe(!0);const{productName:He,sku:Qe,quantity:We,costPrice:qe,sellingPrice:Ke}=Re;if(!He||!Qe||!We||!qe||!Ke){y$2.error("Please fill all required fields"),Oe(!1);return}try{let Xe="";if(Re.image){const Ze=ref(storage,`inventory/${$e}/${Date.now()}_${Re.image.name}`);await uploadBytes(Ze,Re.image),Xe=await getDownloadURL(Ze)}const Ye=doc(collection(db$2,"businesses",$e,"products"));await setDoc(Ye,{productName:Re.productName,sku:Re.sku,brand:Re.brand,category:Re.category,quantity:Re.quantity,costPrice:Re.costPrice,sellingPrice:Re.sellingPrice,unit:Re.unit,description:Re.description,imageUrl:Xe,id:Ye.id,createdAt:serverTimestamp(),addedBy:$e}),await logInventoryChange({productId:Ye.id,sku:Re.sku,previousData:{},updatedData:{productName:Re.productName,sku:Re.sku,brand:Re.brand,category:Re.category,quantity:Re.quantity,costPrice:Re.costPrice,sellingPrice:Re.sellingPrice,unit:Re.unit,description:Re.description,imageUrl:Xe},action:"created",source:"manual"}),y$2.success(" Product added successfully!"),je({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),De(null)}catch(Xe){console.error("Error adding product:",Xe),y$2.error(" Failed to add product. Please try again.")}finally{Oe(!1)}};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded p-4 mt-4 shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Inventory Manually"}),jsxRuntimeExports.jsxs("form",{onSubmit:Me,className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"productName",placeholder:"Product Name",value:Re.productName,onChange:ke,required:!0,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"text",name:"sku",placeholder:"SKU",value:Re.sku,onChange:ke,required:!0,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"text",name:"brand",placeholder:"Brand",value:Re.brand,onChange:ke,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"text",name:"category",placeholder:"Category",value:Re.category,onChange:ke,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"number",name:"quantity",placeholder:"Quantity",value:Re.quantity,onChange:ke,required:!0,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"number",name:"costPrice",placeholder:"Cost Price",value:Re.costPrice,onChange:ke,required:!0,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"number",name:"sellingPrice",placeholder:"Selling Price",value:Re.sellingPrice,onChange:ke,required:!0,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"text",name:"unit",placeholder:"Unit (e.g., box, piece)",value:Re.unit,onChange:ke,className:"border p-2 rounded"}),jsxRuntimeExports.jsx("textarea",{name:"description",placeholder:"Description",value:Re.description,onChange:ke,className:"border p-2 rounded col-span-2"}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:ke,className:"mb-2"}),Be&&jsxRuntimeExports.jsx("img",{src:Be,alt:"Product preview",className:"h-24 w-24 object-cover rounded border"})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Fe,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 col-span-2",children:Fe?"Uploading...":"Add Product"})]})]})},OCRUploadForm$1=({userId:Ce})=>{const[Re,je]=reactExports.useState(null),[Be,De]=reactExports.useState(""),[Fe,Oe]=reactExports.useState(!1),[ke,Me]=reactExports.useState([]),Ue=qe=>{const Ke=qe.target.files[0];Ke&&Ke.size<=5*1024*1024&&(Ke.type.includes("image")||Ke.type==="application/pdf")?(je(Ke),De(URL.createObjectURL(Ke)),y$2.info(` ${Ke.name} selected. Ready to scan.`)):y$2.error("File must be under 5MB and in JPG/PNG/PDF format.")},$e=async()=>{if(!Re){y$2.error("No image selected.");return}if(!Ce){console.error("handleScan: Missing userId from props or AuthContext."),y$2.dismiss(),y$2.error("User not authenticated. Please log in again.");return}Oe(!0),y$2.loading(" Scanning Image with OCR...");try{const Ke=await(rr=>new Promise((ar,nr)=>{const sr=new FileReader;sr.readAsDataURL(rr),sr.onload=()=>ar(sr.result.split(",")[1]),sr.onerror=dr=>nr(dr)}))(Re),Ye=await fetch("https://asia-south1-stockpilotv1.cloudfunctions.net/ocrFromImage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:Ke})}),Ze=await Ye.json();if(!Ye.ok)throw new Error(Ze?.error||"Cloud Function OCR failed.");const Je=Ze?.products||[];if(!Array.isArray(Je)||Je.length===0)throw new Error("No recognizable products parsed.");const tr=Je.map(rr=>({productName:rr.name||"",brand:rr.brand||"",quantity:rr.quantity||"",unit:rr.unit||"",costPrice:rr.price||"",sellingPrice:"",description:"",imageURL:Be}));Me(tr),y$2.dismiss(),y$2.success(" Scan complete. Review and save.")}catch(qe){y$2.dismiss(),y$2.error(" OCR scan failed. Check console for details."),console.error("OCR Scan Error:",qe)}finally{Oe(!1)}},He=(qe,Ke,Xe)=>{const Ye=[...ke];Ye[qe][Ke]=Xe,Me(Ye)},Qe=async()=>{if(!ke.length||!Ce){y$2.error("No products to save or user not authenticated.");return}try{for(const qe of ke){const Ke=await addDoc(collection(db$2,"businesses",Ce,"products"),{...qe,createdAt:new Date});await logInventoryChange({productId:Ke.id,sku:qe.sku||"",previousData:{},updatedData:{productName:qe.productName,sku:qe.sku||"",brand:qe.brand,category:qe.category,quantity:qe.quantity,costPrice:qe.costPrice,sellingPrice:qe.sellingPrice,unit:qe.unit,description:qe.description,imageURL:qe.imageURL},action:"created",source:"ocr"})}y$2.success("Products saved to inventory."),Me([]),je(null),De("")}catch(qe){y$2.error("Failed to save products."),console.error(qe)}},We=qe=>{const Ke=ke.filter((Xe,Ye)=>Ye!==qe);Me(Ke)};return jsxRuntimeExports.jsxs("div",{className:"p-4 bg-white rounded shadow-md",children:[!1,jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"OCR Inventory Upload"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:Ue}),Be&&jsxRuntimeExports.jsx("img",{src:Be,alt:"Preview",className:"mt-2 w-40 h-40 object-cover border rounded"}),jsxRuntimeExports.jsx("button",{onClick:$e,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-50",disabled:Fe||!Re,children:Fe?"Scanning...":"Scan & Import"}),ke.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("table",{className:"mt-4 w-full border text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100",children:[jsxRuntimeExports.jsx("th",{children:"Product"}),jsxRuntimeExports.jsx("th",{children:"Brand"}),jsxRuntimeExports.jsx("th",{children:"Qty"}),jsxRuntimeExports.jsx("th",{children:"Unit"}),jsxRuntimeExports.jsx("th",{children:"Cost"}),jsxRuntimeExports.jsx("th",{children:"Sell"}),jsxRuntimeExports.jsx("th",{children:"Desc"}),jsxRuntimeExports.jsx("th",{children:""})]})}),jsxRuntimeExports.jsx("tbody",{children:ke.map((qe,Ke)=>jsxRuntimeExports.jsxs("tr",{children:[["productName","brand","quantity","unit","costPrice","sellingPrice","description"].map(Xe=>jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{type:"text",value:qe[Xe],onChange:Ye=>He(Ke,Xe,Ye.target.value),className:"border w-full px-1"})},Xe)),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("button",{onClick:()=>We(Ke),className:"text-red-600 hover:text-red-800",children:""})})]},Ke))})]}),jsxRuntimeExports.jsx("button",{onClick:Qe,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded",children:"Save Products"})]})]})},inputClass="mb-2 w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",AdvancedBrandInputForm=({onGenerate:Ce})=>{const[Re,je]=reactExports.useState(""),[Be,De]=reactExports.useState(""),[Fe,Oe]=reactExports.useState(""),[ke,Me]=reactExports.useState("20"),[Ue,$e]=reactExports.useState(""),[He,Qe]=reactExports.useState(""),[We,qe]=reactExports.useState(""),[Ke,Xe]=reactExports.useState(""),[Ye,Ze]=reactExports.useState(!1),Je=()=>`
You are an inventory assistant. Return ONLY a markdown table of ${ke} products.
Start the response with the following header row exactly:

| Product Name | Brand | Category | SKU | Price (INR) | Unit |

Each product must follow this format and ensure the **Unit** column includes both quantity and container type (e.g., "100ml Bottle", "250g Jar", "50ml Tube").
Do not include any text above or below the table.

Brand: ${Re}
Category: ${Be}
Known Types: ${Fe}
SKU Pattern: ${He}
Region Context: ${We}
Additional Notes: ${Ue}
`.trim(),tr=async()=>{const rr=Ke.trim()||Je();if(!Re||!Be){alert("Please enter Brand Name and Category");return}Ze(!0),await Ce(rr),Ze(!1)};return jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded bg-white shadow-md space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:" Advanced Inventory Generator"}),jsxRuntimeExports.jsxs("fieldset",{className:"border border-gray-300 rounded p-4",children:[jsxRuntimeExports.jsx("legend",{className:"text-md font-semibold px-2",children:"Brand Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Brand Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:Re,onChange:rr=>je(rr.target.value),className:inputClass})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Category"}),jsxRuntimeExports.jsx("input",{type:"text",value:Be,onChange:rr=>De(rr.target.value),className:inputClass})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Known Product Types"}),jsxRuntimeExports.jsx("input",{type:"text",value:Fe,onChange:rr=>Oe(rr.target.value),className:inputClass,placeholder:"e.g. Front Load, Cream Biscuit"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity of Products"}),jsxRuntimeExports.jsxs("select",{value:ke,onChange:rr=>Me(rr.target.value),className:inputClass,children:[jsxRuntimeExports.jsx("option",{value:"10",children:"10"}),jsxRuntimeExports.jsx("option",{value:"20",children:"20"}),jsxRuntimeExports.jsx("option",{value:"30",children:"30"}),jsxRuntimeExports.jsx("option",{value:"50",children:"50"})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Brand Description"}),jsxRuntimeExports.jsx("textarea",{value:Ue,onChange:rr=>$e(rr.target.value),className:inputClass,rows:2})]})]})]}),jsxRuntimeExports.jsxs("fieldset",{className:"border border-gray-300 rounded p-4",children:[jsxRuntimeExports.jsx("legend",{className:"text-md font-semibold px-2",children:"SKU Pattern"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Optional SKU Pattern"}),jsxRuntimeExports.jsx("input",{type:"text",value:He,onChange:rr=>Qe(rr.target.value),className:inputClass,placeholder:"e.g. RL-TEA-*, SMG-WM-*"})]})]}),jsxRuntimeExports.jsxs("fieldset",{className:"border border-gray-300 rounded p-4",children:[jsxRuntimeExports.jsx("legend",{className:"text-md font-semibold px-2",children:"Region Context"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Smart Region Note (optional)"}),jsxRuntimeExports.jsx("input",{type:"text",value:We,onChange:rr=>qe(rr.target.value),className:inputClass,placeholder:"e.g. Local brand sold only in Gujarat"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 mt-4",children:" Prompt Preview (Editable)"}),jsxRuntimeExports.jsx("textarea",{rows:6,value:Ke||Je(),onChange:rr=>Xe(rr.target.value),className:"w-full border border-gray-300 rounded p-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),jsxRuntimeExports.jsx("button",{onClick:tr,disabled:Ye,className:`mt-3 px-4 py-2 rounded text-white ${Ye?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:Ye?" Generating...":" Generate Inventory"})]})},AddInventoryAI=({userId:Ce})=>{const[Re,je]=reactExports.useState(""),[Be,De]=reactExports.useState([]),[Fe,Oe]=reactExports.useState([]),[ke,Me]=reactExports.useState(!1),Ue=getFirestore(app),$e=async We=>{if(!We||We.trim().length===0){y$2.error("Prompt is empty.");return}Me(!0);try{const Xe=(await(await fetch("https://us-central1-stockpilotv1.cloudfunctions.net/generateInventoryByBrand",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:We})})).json()).inventory,Ye=[];if(Array.isArray(Xe))for(const Ze of Xe)!Ze.productName||!Ze.sku||Ye.push({productName:Ze.productName||"",brand:Ze.brand||"",category:Ze.category||"Food",sku:Ze.sku||"",unit:Ze.unit||"",quantity:"",costPrice:"",sellingPrice:Ze.price||"",imageUrl:Ze.imageUrl||""});Oe(Ye),Ye.length===0&&y$2.info("No inventory returned. Try adjusting prompt.")}catch(qe){console.error("Prompt-based inventory error:",qe),y$2.error("Failed to fetch inventory.")}finally{Me(!1)}},He=async()=>{if(!Ce||Fe.length===0){y$2.error("No inventory to upload.");return}try{for(const We of Fe){const qe=await addDoc(collection(Ue,"businesses",Ce,"products"),{...We,source:"ai",createdAt:serverTimestamp()});await logInventoryChange({productId:qe.id,sku:We.sku,previousData:{},updatedData:We,action:"created",source:"ai"})}y$2.success("Inventory added successfully!"),Oe([])}catch(We){console.error("Upload Error:",We),y$2.error("Failed to add inventory.")}},Qe=(We,qe,Ke)=>{const Xe=[...Fe];Xe[We][qe]=Ke,Oe(Xe)};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-4",children:"AI-Based Inventory Generator"}),jsxRuntimeExports.jsx(AdvancedBrandInputForm,{onGenerate:$e}),Fe.length>0&&jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"min-w-full border mt-6 text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Cost"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:Fe.map((We,qe)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:jsxRuntimeExports.jsx("input",{value:We.productName??"(productName)",onChange:Ke=>Qe(qe,"productName",Ke.target.value),className:"w-full border rounded px-1 py-0.5"})}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:jsxRuntimeExports.jsx("input",{value:We.brand??"(brand)",onChange:Ke=>Qe(qe,"brand",Ke.target.value),className:"w-full border rounded px-1 py-0.5"})}),["category","sku","unit","quantity","costPrice","sellingPrice"].map(Ke=>jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:jsxRuntimeExports.jsx("input",{value:We[Ke]??`(${Ke})`,onChange:Xe=>Qe(qe,Ke,Xe.target.value),className:"w-full border rounded px-1 py-0.5"})},Ke)),jsxRuntimeExports.jsx("td",{className:"px-2 py-1 border text-center",children:jsxRuntimeExports.jsx("button",{className:"text-red-600 font-bold",onClick:()=>{const Ke=[...Fe];Ke.splice(qe,1),Oe(Ke)},children:""})})]},qe))})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:He,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:" Add to Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>Oe([]),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Clear All"})]})]})]})},fetchGoogleImages=async Ce=>{const Re="AIzaSyBPkkXZWll0VifG5kb0DDSsoV5UB-n5pFE",je="82ccaaa87aa2e40a6",De=(Fe=>{let Oe=[];if(typeof Fe=="object"&&Fe!==null){const{brand:ke="",name:Me="",unit:Ue=""}=Fe;Oe=[`${ke} ${Me} ${Ue} product packaging`,`${ke} ${Me} ${Ue}`,`${ke} ${Me}`,`${Me} ${Ue}`,`${ke} ${Ue}`,`${ke} product`,`${Me} product`,`${ke} ${Me} pack photo`]}else Oe=[`${Fe} product packaging`,`${Fe} product`,`${Fe} pack photo`,`${Fe} retail image`,`${Fe} ecommerce packaging`];return Oe.map(ke=>`${ke} product packaging image`)})(Ce);for(const Fe of De)try{const Oe=await fetch(`https://www.googleapis.com/customsearch/v1?q=${encodeURIComponent(Fe)}&searchType=image&key=${Re}&cx=${je}&num=6`);if(Oe.ok){const ke=await Oe.json();if(ke.items&&ke.items.length>0)return ke.items.filter(Me=>Me.link&&Me.link.startsWith("http")).map(Me=>Me.link)}}catch(Oe){console.error("Google Image Fetch Error:",Oe.message)}return console.warn(" No image results found for:",Ce),[]},fetchGoogleImages$1=Object.freeze(Object.defineProperty({__proto__:null,default:fetchGoogleImages},Symbol.toStringTag,{value:"Module"})),DeleteConfirmationModal$1=({product:Ce,confirmationText:Re,onChange:je,onCancel:Be,onConfirm:De})=>jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow-lg p-6 w-[90%] md:w-[400px]",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-red-600",children:"Delete Product?"}),jsxRuntimeExports.jsxs("p",{className:"mb-4",children:["Are you sure you want to delete ",jsxRuntimeExports.jsx("strong",{children:Ce?.productName||"this product"})," (SKU: ",jsxRuntimeExports.jsx("strong",{children:Ce?.sku||"N/A"}),")?"]}),jsxRuntimeExports.jsxs("p",{className:"mb-2 text-sm text-gray-600",children:["Type ",jsxRuntimeExports.jsx("code",{className:"bg-gray-100 px-1 rounded border",children:"delete"})," to confirm."]}),jsxRuntimeExports.jsx("input",{type:"text",className:"w-full border rounded px-3 py-1 mb-4",placeholder:'Type "delete" to confirm',value:Re,onChange:je}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:Be,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:De,disabled:Re.trim().toLowerCase()!=="delete",className:`px-4 py-2 rounded text-white ${Re.trim().toLowerCase()==="delete"?"bg-red-600 hover:bg-red-700":"bg-gray-400 cursor-not-allowed"}`,children:"Delete"})]})]})}),ViewInventory$1=({userId:Ce})=>{const[Re,je]=reactExports.useState(!1),[Be,De]=reactExports.useState(null),[Fe,Oe]=reactExports.useState([]),[ke,Me]=reactExports.useState([]),[Ue,$e]=reactExports.useState(""),[He,Qe]=reactExports.useState(""),[We,qe]=reactExports.useState("asc"),[Ke,Xe]=reactExports.useState({rowId:null,field:null}),[Ye,Ze]=reactExports.useState(""),[Je,tr]=reactExports.useState(""),[rr,ar]=reactExports.useState([]),[nr,sr]=reactExports.useState(!1),[dr,_r]=reactExports.useState([]),[fr,or]=reactExports.useState(!1),[Er,Rr]=reactExports.useState(null),[jr,xr]=reactExports.useState(""),[Pr,br]=reactExports.useState(!1),[wr,Br]=reactExports.useState(null),[Lr,yr]=reactExports.useState(null),[vr,Tr]=reactExports.useState(!1),[Or,Nr]=reactExports.useState(""),[Hr,Wr]=reactExports.useState(null),[qr,Jr]=reactExports.useState(""),[An,an]=reactExports.useState([]),[bn,gn]=reactExports.useState(!1),[mn,Zr]=reactExports.useState(""),[kn,ri]=reactExports.useState([]),[zn,ei]=reactExports.useState(!1),[Jn,Wn]=reactExports.useState([]),[_i,wi]=reactExports.useState("view"),Oi=async()=>{if(!mn)return;ei(!0);const jn=await fetchGoogleImages(mn);ri(jn||[]),ei(!1)},[xi,Pi]=reactExports.useState("list"),Ii=getFirestore();if(!Ce)return jsxRuntimeExports.jsx("div",{className:"text-center p-4",children:"Loading user data..."});reactExports.useEffect(()=>{if(!Ce)return;console.log("Current user UID:",Ce);const jn=collection(Ii,"businesses",Ce,"products"),vn=onSnapshot(jn,async Ni=>{const bi=getStorage(),Gi=await Promise.all(Ni.docs.map(async hi=>{const fi=hi.data();let Ri="";try{if(fi.imageUrl)Ri=fi.imageUrl;else if(fi.imagePath){const Zi=ref(bi,fi.imagePath);Ri=await getDownloadURL(Zi)}}catch(Zi){console.warn("Image fetch error for:",fi.imagePath||"unknown",Zi.message)}return{id:hi.id,...fi,imageUrl:Ri,imagePath:fi.imagePath||""}}));Oe(Gi),Me(Gi);const Di=[...new Set(Gi.map(hi=>hi.brand).filter(Boolean))];_r(Di)});return()=>vn()},[Ce]),reactExports.useEffect(()=>{if(!auth$2.currentUser?.uid)return;const jn=query(collection(Ii,`businesses/${auth$2.currentUser.uid}/inventoryLogs`),orderBy$1("modifiedAt","desc")),vn=onSnapshot(jn,Ni=>{Wn(Ni.docs.map(bi=>bi.data()))});return()=>vn()},[]),reactExports.useEffect(()=>{const jn=Ue.toLowerCase(),vn=Fe.filter(Ni=>{const bi=Ni.productName?.toLowerCase().includes(jn)||Ni.sku?.toLowerCase().includes(jn)||Ni.brand?.toLowerCase().includes(jn)||Ni.category?.toLowerCase().includes(jn),Gi=!Je||Cn(Ni.quantity)===Je,Di=rr.length===0||Ni.brand&&rr.includes(Ni.brand);return bi&&Gi&&Di});Me(vn)},[Ue,Fe,Je,rr]),reactExports.useEffect(()=>{if(!He){Me(jn=>[...jn]);return}Me(jn=>[...jn].sort((Ni,bi)=>{const Gi=parseFloat(Ni[He])||0,Di=parseFloat(bi[He])||0;return We==="asc"?Gi-Di:Di-Gi}))},[He,We]);const Si=(jn,vn,Ni)=>{Xe({rowId:jn,field:vn}),Ze(Ni)},En=async(jn,vn,Ni)=>{try{const bi=doc(Ii,"businesses",Ce,"products",jn),Gi=await getDoc(bi),Di=Gi.exists()?Gi.data():{};await updateDoc(bi,{[vn]:Ni}),await logInventoryChange({userId:Ce,productId:jn,sku:Di.sku||"N/A",productName:Di.productName||"N/A",brand:Di.brand||"N/A",category:Di.category||"N/A",previousData:Di,updatedData:{...Di,[vn]:Ni},action:"updated",source:"inline-edit"})}catch(bi){console.error("Error updating inventory field:",bi)}finally{Xe({rowId:null,field:null}),Ze("")}},Cn=jn=>{const vn=parseInt(jn);return isNaN(vn)?"Unknown":vn<=5?"Low":"In Stock"},oi=jn=>{Rr(jn),xr(""),or(!0)},ci=async()=>{if(Er&&jr.trim().toLowerCase()==="delete")try{const jn=doc(Ii,"businesses",Ce,"products",Er.id);await deleteDoc(jn)}catch(jn){console.error("Error deleting product:",jn)}finally{or(!1),Rr(null),xr("")}},Qi=jn=>{Br(jn),yr(null),Tr(!1),Nr(""),Wr(null),br(!0)},ti=jn=>{const vn=jn.target.files?.[0]||null;if(yr(vn),Nr(""),vn){const Ni=URL.createObjectURL(vn);Wr(Ni)}else Wr(null)},Bi=async()=>{if(!wr||!Lr&&!Hr){y$2.error("No image selected");return}Tr(!0),Nr("");try{let jn=null,vn=null;if(Lr){const bi=getStorage(),Gi=Lr.name.split(".").pop();vn=`product_images/${Ce}/${wr.id}.${Gi}`;const Di=ref(bi,vn);await uploadBytes(Di,Lr),jn=await getDownloadURL(Di)}else Hr&&(jn=Hr);const Ni=doc(getFirestore(),"businesses",Ce,"products",wr.id);await updateDoc(Ni,vn?{imageUrl:jn,imagePath:vn}:{imageUrl:jn}),y$2.success("Image uploaded successfully"),br(!1),Br(null),yr(null),Wr(null)}catch(jn){console.error("Error uploading image:",jn),Nr("Image upload failed: "+(jn?.message||"Unknown error")),y$2.error("Failed to upload image")}finally{Tr(!1)}};return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center w-full md:w-1/3",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, brand, SKU...",value:Ue,onChange:jn=>$e(jn.target.value),className:"border px-4 py-2 rounded w-full"}),jsxRuntimeExports.jsx("button",{onClick:()=>gn(!0),className:"ml-2 bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded",children:"Search with AI"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",onChange:jn=>Qe(jn.target.value),value:He,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Sort by"}),jsxRuntimeExports.jsx("option",{value:"quantity",children:"Quantity"}),jsxRuntimeExports.jsx("option",{value:"costPrice",children:"Cost Price"}),jsxRuntimeExports.jsx("option",{value:"sellingPrice",children:"Selling Price"})]}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",onChange:jn=>qe(jn.target.value),value:We,children:[jsxRuntimeExports.jsx("option",{value:"asc",children:"Asc"}),jsxRuntimeExports.jsx("option",{value:"desc",children:"Desc"})]}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",onChange:jn=>tr(jn.target.value),value:Je,children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Status"}),jsxRuntimeExports.jsx("option",{value:"In Stock",children:"In Stock"}),jsxRuntimeExports.jsx("option",{value:"Low",children:"Low"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{className:"border px-3 py-2 rounded min-w-[120px] text-left bg-white",type:"button",onClick:()=>sr(jn=>!jn),children:[rr.length===0?"All Brands":rr.length===1?rr[0]:rr.join(", "),jsxRuntimeExports.jsx("span",{className:"ml-1",children:""})]}),nr&&jsxRuntimeExports.jsxs("div",{className:"absolute left-0 mt-1 bg-white border rounded shadow z-20 p-2 min-w-[140px] max-h-56 overflow-y-auto",children:[dr.length===0&&jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 px-2 py-1",children:"No brands"}),dr.map((jn,vn)=>jsxRuntimeExports.jsxs("label",{className:"block px-2 py-1 cursor-pointer hover:bg-gray-100",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:rr.includes(jn),onChange:Ni=>{Ni.target.checked?ar([...rr,jn]):ar(rr.filter(bi=>bi!==jn))},className:"mr-2"}),jn]},vn)),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-2",children:[jsxRuntimeExports.jsx("button",{className:"text-xs text-blue-500 underline",type:"button",onClick:()=>ar([]),children:"Clear All"}),jsxRuntimeExports.jsx("button",{className:"text-xs text-gray-600 underline",type:"button",onClick:()=>sr(!1),children:"Close"})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex mb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>wi("view"),className:`px-4 py-2 rounded-t-md ${_i==="view"?"bg-white font-semibold":"bg-gray-200"}`,children:"Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>wi("recent"),className:`px-4 py-2 rounded-t-md ${_i==="recent"?"bg-white font-semibold":"bg-gray-200"}`,children:"Recently Modified"})]}),_i==="view"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-end mb-4",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-1 mr-2 rounded ${xi==="list"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Pi("list"),children:"List View"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-1 rounded ${xi==="grid"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Pi("grid"),children:"Grid View"})]}),xi==="list"?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm border rounded shadow-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100 text-left",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2",children:"Image"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Cost"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Sell"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Source"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Delete"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Edit"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[ke.map(jn=>jsxRuntimeExports.jsxs("tr",{className:"border-t",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("div",{className:"inline-block cursor-pointer",onClick:()=>Qi(jn),title:"Click to upload image",children:jsxRuntimeExports.jsx("img",{src:jn.imageUrl||"/placeholder.png",alt:"product",className:"h-10 w-10 rounded object-cover border border-gray-200"})})}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>Si(jn.id,"productName",jn.productName),children:Ke.rowId===jn.id&&Ke.field==="productName"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"productName",Ye),autoFocus:!0}):jn.productName}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>Si(jn.id,"sku",jn.sku),children:Ke.rowId===jn.id&&Ke.field==="sku"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"sku",Ye),autoFocus:!0}):jn.sku}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>Si(jn.id,"brand",jn.brand),children:Ke.rowId===jn.id&&Ke.field==="brand"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"brand",Ye),autoFocus:!0}):jn.brand}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>Si(jn.id,"category",jn.category),children:Ke.rowId===jn.id&&Ke.field==="category"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"category",Ye),autoFocus:!0}):jn.category}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>Si(jn.id,"quantity",jn.quantity),children:Ke.rowId===jn.id&&Ke.field==="quantity"?jsxRuntimeExports.jsx("input",{type:"number",className:"w-full border px-1",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"quantity",Number(Ye)),autoFocus:!0}):jn.quantity}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>Si(jn.id,"unit",jn.unit),children:Ke.rowId===jn.id&&Ke.field==="unit"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"unit",Ye),autoFocus:!0}):jn.unit}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>Si(jn.id,"costPrice",jn.costPrice),children:Ke.rowId===jn.id&&Ke.field==="costPrice"?jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",className:"w-full border px-1",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"costPrice",Number(Ye)),autoFocus:!0}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["",jn.costPrice]})}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>Si(jn.id,"sellingPrice",jn.sellingPrice),children:Ke.rowId===jn.id&&Ke.field==="sellingPrice"?jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",className:"w-full border px-1",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"sellingPrice",Number(Ye)),autoFocus:!0}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["",jn.sellingPrice]})}),jsxRuntimeExports.jsx("td",{className:"p-2 min-w-[80px] text-center",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded text-white text-xs ${Cn(jn.quantity)==="Low"?"bg-red-500":"bg-green-500"}`,children:Cn(jn.quantity)})}),jsxRuntimeExports.jsx("td",{className:"p-2 min-w-[100px] max-w-[120px] text-center",children:jn.sourceOrderId?jsxRuntimeExports.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs bg-blue-500 text-white break-words whitespace-normal leading-snug",children:"From Order"}):""}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>oi(jn),className:"text-red-600 hover:text-red-800",title:"Delete Item",children:""})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>{De(jn.id),je(!0)},className:"text-sm text-blue-600 underline",children:"Edit"})})]},jn.id)),ke.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"13",className:"text-center p-4 text-gray-500",children:Fe.length===0?"No products found.":"Loading inventory..."})}):null]})]})}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ke.map(jn=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-2",children:jsxRuntimeExports.jsx("button",{className:"focus:outline-none",style:{width:"100%"},onClick:()=>Qi(jn),title:"Click to upload image",children:jsxRuntimeExports.jsx("img",{src:jn.imageUrl||"/placeholder.png",alt:jn.productName,className:"w-full h-32 object-contain rounded border border-gray-200"})})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-1",children:jn.productName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[jn.brand," | ",jn.category]}),jsxRuntimeExports.jsxs("p",{className:"text-sm mb-1",children:["Qty: ",jn.quantity," | ",jn.sellingPrice]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:["SKU: ",jn.sku||"N/A"," | Unit: ",jn.unit||"N/A"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-auto",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs rounded font-semibold ${(jn.status||Cn(jn.quantity))==="In Stock"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:jn.status||Cn(jn.quantity)}),jsxRuntimeExports.jsx("button",{className:"ml-auto text-red-600 hover:text-red-800 px-2",title:"Delete Item",onClick:()=>oi(jn),children:""})]})]},jn.id))})]}),_i==="recent"&&jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Recent Inventory Modifications"}),Jn.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No recent modifications found."}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Jn.map((jn,vn)=>jsxRuntimeExports.jsxs("div",{className:"bg-white shadow rounded-md p-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold text-gray-700 mb-1",children:["SKU: ",jn.sku]}),jsxRuntimeExports.jsxs("div",{children:["Product: ",jn.productName||"N/A"]}),jsxRuntimeExports.jsxs("div",{children:["Brand: ",jn.brand||"N/A"]}),jsxRuntimeExports.jsxs("div",{children:["Category: ",jn.category||"N/A"]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 text-gray-600",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Action:"})," ",jn.action,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Source:"})," ",jn.source,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Modified By:"})," ",jn.modifiedBy||"Unknown",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Time:"})," ",jn.modifiedAt?.toDate?.().toLocaleString?.()||"N/A",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Changes:"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside",children:Object.entries(jn.changes||{}).map(([Ni,bi])=>jsxRuntimeExports.jsxs("li",{children:[Ni,": ",bi.from??"N/A","  ",bi.to??"N/A"]},Ni))})]})]},vn))})]}),fr&&jsxRuntimeExports.jsx(DeleteConfirmationModal$1,{product:Er,confirmationText:jr,onChange:jn=>xr(jn.target.value),onCancel:()=>{or(!1),Rr(null),xr("")},onConfirm:ci}),Pr&&jsxRuntimeExports.jsx(UploadProductImageModal$1,{imageTargetProduct:wr,setShowImageModal:br,setImageTargetProduct:Br,setImageUploadFile:yr,setImageUploadError:Nr,setImagePreviewUrl:Wr,imageUploadFile:Lr,imageUploadLoading:vr,imageUploadError:Or,imagePreviewUrl:Hr,handleImageFileChange:ti,handleImageUpload:Bi}),bn&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-11/12 max-w-2xl relative",children:[jsxRuntimeExports.jsx("button",{onClick:()=>gn(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-red-600",children:""}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Search Product Images"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter product description...",className:"flex-grow border border-gray-300 px-4 py-2 rounded",value:mn,onChange:jn=>Zr(jn.target.value)}),jsxRuntimeExports.jsx("button",{onClick:Oi,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:zn?"Searching...":"Search"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-h-80 overflow-y-auto",children:kn.map((jn,vn)=>jsxRuntimeExports.jsx("img",{src:jn,alt:"AI result",className:"w-full h-28 object-cover rounded cursor-pointer border hover:border-blue-500",onClick:()=>{navigator.clipboard.writeText(jn),alert("Image URL copied to clipboard!")}},vn))})]})})]})},UploadProductImageModal$1=({imageTargetProduct:Ce,setShowImageModal:Re,setImageTargetProduct:je,setImageUploadFile:Be,setImageUploadError:De,setImagePreviewUrl:Fe,imageUploadFile:Oe,imageUploadLoading:ke,imageUploadError:Me,imagePreviewUrl:Ue,handleImageFileChange:$e,handleImageUpload:He})=>{const[Qe,We]=reactExports.useState(""),[qe,Ke]=reactExports.useState([]),[Xe,Ye]=reactExports.useState(!1),[Ze,Je]=reactExports.useState("unsplash"),tr=async()=>{Ye(!0);try{let rr=[];if(Ze==="unsplash")rr=await fetchUnsplashImages(Qe);else{const ar=(await __vitePreload(async()=>{const{default:nr}=await Promise.resolve().then(()=>fetchGoogleImages$1);return{default:nr}},void 0,import.meta.url)).default;rr=await ar(Qe)}Ke(rr)}catch(rr){console.error("Image search error:",rr)}Ye(!1)};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow-lg p-6 w-[95%] max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Upload Product Image"}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-gray-700",children:Ce?.productName||"Product"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Je("unsplash"),className:`px-3 py-1 rounded ${Ze==="unsplash"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Unsplash"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je("google"),className:`px-3 py-1 rounded ${Ze==="google"?"bg-green-600 text-white":"bg-gray-200"}`,children:"Google"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:`Search image with ${Ze==="unsplash"?"Unsplash":"Google"}...`,value:Qe,onChange:rr=>We(rr.target.value),className:"border px-2 py-1 rounded w-full"}),jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-1 rounded",onClick:tr,type:"button",disabled:Xe,children:Xe?"Searching...":"Search"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:qe.map((rr,ar)=>jsxRuntimeExports.jsx("img",{src:rr,alt:"AI result",className:"w-24 h-24 object-cover border rounded cursor-pointer hover:scale-105 transition-all",onClick:()=>{Be(null),De(""),Fe(rr)},onError:nr=>nr.target.src="/placeholder.jpg"},ar))}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:$e,className:"mb-3",disabled:ke}),Ue&&jsxRuntimeExports.jsx("div",{className:"mb-3 flex justify-center",children:jsxRuntimeExports.jsx("img",{src:Ue,alt:"Preview",className:"max-h-40 max-w-full rounded border",style:{objectFit:"contain"}})}),Oe&&jsxRuntimeExports.jsx("div",{className:"mb-2",children:jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:Oe.name})}),Me&&jsxRuntimeExports.jsx("div",{className:"mb-2 text-red-600 text-sm",children:Me}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Re(!1),je(null),Be(null),De(""),Fe(null),We(""),Ke([])},className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",disabled:ke,children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:He,className:`px-4 py-2 rounded text-white ${(Oe||Ue)&&!ke?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,disabled:!(Oe||Ue)||ke,children:ke?"Uploading...":"Upload"})]})]})})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend);Chart$1.register(ArcElement,plugin_tooltip,plugin_legend);Chart$1.register(LineElement,CategoryScale,LinearScale,PointElement,plugin_tooltip,plugin_legend);const KpiCards=({invoiceData:Ce})=>{const Re=Ce.filter(Me=>Me.paymentMode?.toLowerCase()==="credit"?Me.isPaid===!0:!0),je=Re.reduce((Me,Ue)=>Me+(Ue.totalAmount||Ue.total||0),0),Be=Re.length,De=Be>0?(je/Be).toFixed(2):0,Fe=Ce.reduce((Me,Ue)=>{const $e=(Ue.paymentMode||"").toLowerCase(),He=Ue.totalAmount||Ue.total||0;if($e==="credit"&&Ue.isPaid!==!0)return Me;if($e==="split"){const Qe=Ue.splitPayment||{};Me.cash=(Me.cash||0)+(parseFloat(Qe.cash)||0),Me.card=(Me.card||0)+(parseFloat(Qe.card)||0),Me.upi=(Me.upi||0)+(parseFloat(Qe.upi)||0)}else if($e==="credit"){const Qe=(Ue.paidVia||"").toLowerCase();Me[Qe]=(Me[Qe]||0)+He}else["cash","card","upi"].includes($e)?Me[$e]=(Me[$e]||0)+He:Me.unknown=(Me.unknown||0)+He;return Me},{}),Oe=new Set(Re.map(Me=>Me.customer?.email||Me.customer?.name||"")).size,ke=[{label:"Total Revenue",value:`${je.toLocaleString()}`,icon:""},{label:"Total Invoices",value:Be,icon:""},{label:"Avg Order Value",value:`${De}`,icon:""},{label:"Total Customers",value:Oe,icon:""}];if(Fe){const Me={cash:"",upi:"",card:"",unknown:""},Ue={cash:"Cash",upi:"UPI",card:"Card",unknown:"Unknown"};Object.entries(Fe).forEach(([$e,He])=>{ke.push({label:`Revenue via ${Ue[$e]||$e}`,value:`${parseFloat(He).toLocaleString()}`,icon:Me[$e]||""})})}return jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:ke.map((Me,Ue)=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-4 flex items-center space-x-4 border border-transparent hover:shadow-lg transition-all duration-200",style:{borderImage:"linear-gradient(90deg, #06b6d4, #ec4899) 1",borderWidth:"1px",borderStyle:"solid"},children:[jsxRuntimeExports.jsx("div",{className:"text-3xl",title:Me.label,children:Me.icon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:Me.label}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold",children:Me.value})]})]},Ue))})},RecentInvoices=({invoiceData:Ce})=>{const Re=[...Ce].sort((je,Be)=>(Be.createdAt?.toDate?.()||new Date(Be.createdAt))-(je.createdAt?.toDate?.()||new Date(je.createdAt))).slice(0,5);return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow p-4 border",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-semibold mb-2",children:" Recent Invoices"}),jsxRuntimeExports.jsx("div",{className:"max-h-[300px] overflow-y-auto pr-1",children:jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:Re.map((je,Be)=>{const De=je.createdAt?.toDate?.()||new Date(je.createdAt),Fe=je.paymentMode?.toLowerCase?.();let Oe="Unknown";if(Fe==="cash")Oe=" Cash";else if(Fe==="card")Oe=" Card";else if(Fe==="upi")Oe=" UPI";else if(Fe==="split"){const ke=je.splitPayment||{},Me=ke.cash||0,Ue=ke.upi||0,$e=ke.card||0;Oe=` Split ( ${Me} /  ${Ue} /  ${$e})`}else if(Fe==="credit")if(je.isPaid){const ke=je.paidVia?.toLowerCase?.();ke==="cash"?Oe=" Paid via  Cash":ke==="upi"?Oe=" Paid via  UPI":ke==="card"?Oe=" Paid via  Card":Oe=" Paid"}else{const ke=je.settings?.creditDueDate||je.creditDueDate||null;Oe=` Credit  Due on ${ke?hooks(ke.toDate?.()||ke).local().format("DD MMM, YYYY"):"N/A"}`}return jsxRuntimeExports.jsxs("li",{className:"border-b pb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:je.customer?.name||"Unknown Customer"}),jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:hooks(De).local().format("DD MMM, hh:mm:ss A")})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-600",children:["",je.totalAmount??je.total??0,"  ",Oe]})]},Be)})})})]})},LowStockAlertWidget=({userId:Ce})=>{const[Re,je]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{try{if(!Ce)return;const De=collection(db$2,"businesses",Ce,"products"),Fe=await getDocs(De),Oe=[];Fe.forEach(ke=>{const Me=ke.data();parseInt(Me.quantity,10)<=5&&Oe.push({...Me,id:ke.id})}),je(Oe)}catch(De){console.error("Error fetching low stock items:",De)}})()},[Ce]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow p-4 border",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-semibold mb-2 text-red-600",children:" Low Stock Alerts"}),Re.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"All items are sufficiently stocked."}):jsxRuntimeExports.jsx("div",{className:"max-h-[300px] overflow-y-auto pr-1",children:jsxRuntimeExports.jsx("ul",{className:"space-y-2 text-sm",children:Re.map(Be=>jsxRuntimeExports.jsxs("li",{className:"flex justify-between border-b pb-1",children:[jsxRuntimeExports.jsx("span",{children:Be.productName}),jsxRuntimeExports.jsx("span",{className:"text-red-500 font-semibold",children:Be.quantity})]},Be.id))})})]})},parseDate$1=Ce=>{if(!Ce)return null;let Re=new Date(`${Ce}T00:00:00`);if(isNaN(Re.getTime())){const[je,Be,De]=Ce.split("-");je&&Be&&De&&(Re=new Date(`${De}-${Be}-${je}T00:00:00`))}return isNaN(Re.getTime())?null:Re},CreditDueList=({creditInvoices:Ce=[],dueToday:Re=[],dueTomorrow:je=[],totalDue:Be=0,businessName:De="Your Business",businessAddress:Fe="",layout:Oe="vertical"})=>{const ke=new Date;ke.setHours(0,0,0,0);const Me=new Date(ke);Me.setDate(Me.getDate()+1);const Ue=tr=>{const rr=tr.creditDueDate||tr.settings?.creditDueDate,ar=parseDate$1(rr);if(!ar)return"Invalid";ar.setHours(0,0,0,0);const nr=(ar-ke)/(1e3*60*60*24);return nr<0?"Overdue":nr===0?"Due Today":nr===1?"Due Tomorrow":"Upcoming"},$e={Overdue:[],"Due Today":[],"Due Tomorrow":[],Upcoming:[]};Ce.forEach(tr=>{if(tr.isPaid)return;const rr=tr.creditDueDate||tr.settings?.creditDueDate;if(!parseDate$1(rr))return;const nr=Ue(tr);$e[nr].push(tr)});const He=(tr,rr,ar="")=>rr.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-1",children:tr}),jsxRuntimeExports.jsx("table",{className:"min-w-full text-sm mb-2",children:jsxRuntimeExports.jsx("tbody",{children:rr.map((nr,sr)=>{const dr=nr.creditDueDate||nr.settings?.creditDueDate,_r=parseDate$1(dr),fr=parseFloat(nr.splitPayment?.totalAmount||nr.totalAmount||nr.settings?.totalAmount||0).toFixed(2);if(tr==="Upcoming")return jsxRuntimeExports.jsxs("tr",{className:`border-b hover:bg-gray-50 ${ar}`,children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:nr.name||nr.customer?.name||"N/A"}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-1",children:["",fr]}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:_r?_r.toLocaleDateString():"Invalid Date"})]},sr);const or=_r?Math.ceil((_r-ke)/(1e3*60*60*24)):null,Er=tr==="Overdue"?`Overdue by ${Math.abs(or)} days`:tr;return jsxRuntimeExports.jsxs("tr",{className:`border-b hover:bg-gray-50 ${ar}`,children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:nr.name||nr.customer?.name||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:nr.invoiceId||nr.id}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:_r?_r.toLocaleDateString():"Invalid Date"}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-1",children:["",fr]}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:nr.isPaid?`Paid via ${nr.paidVia||"N/A"} on ${new Date(nr.paidOn).toLocaleDateString()}`:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Er,or!==null&&or<=1&&jsxRuntimeExports.jsx("button",{onClick:()=>We(nr),className:"ml-2 bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700",children:"Send Reminder"})]})})]},sr)})})})]}),Qe=Object.values($e).some(tr=>tr.length>0),We=tr=>{const rr=tr.customer?.phone?.replace("+91","").trim();if(!rr)return alert("Phone number missing");const ar=tr.creditDueDate||tr.settings?.creditDueDate||"",nr=parseDate$1(ar),sr=nr?nr.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"N/A",dr=parseFloat(tr.splitPayment?.totalAmount||tr.totalAmount||tr.settings?.totalAmount||0).toFixed(2),_r=tr.customer?.name||tr.name||"Customer",fr=tr.invoiceId||tr.id||"N/A",or=tr.createdAt?.toDate?.()||new Date(tr.createdAt),Er=or?or.toLocaleDateString():"N/A",Rr=tr.items?.map(Pr=>{const br=Pr.quantity||1,wr=Pr.price||0;return` ${Pr.productName||Pr.name} (${br} x ${wr})`}).join(`
`)||"No items listed.",jr=`Hello *${_r}*, 

This is a kind reminder regarding your purchase from *${De}*.

 *Invoice ID:* ${fr}
 *Date of Purchase:* ${Er}
 *Items Purchased:*
${Rr}

 *Total Due:* ${dr}
 *Due Date:* ${sr}

 *How to Pay:*
- Visit our store & pay by Cash or Card
- UPI: upi_id@bank

Thank you for shopping with us!
We appreciate your timely payment. 

 ${De}
${Fe?Fe+`
`:""}_Powered by FLYP_`,xr=`https://wa.me/91${rr}?text=${encodeURIComponent(jr)}`;window.open(xr,"_blank")},qe=()=>{[...$e.Overdue,...$e["Due Today"],...$e["Due Tomorrow"]].forEach(rr=>We(rr))},Ke=$e.Overdue,Xe=$e["Due Today"],Ye=$e["Due Tomorrow"],Ze=$e.Upcoming,Je=(tr,rr)=>{const ar=tr.creditDueDate||tr.settings?.creditDueDate,nr=parseDate$1(ar),sr=parseFloat(tr.splitPayment?.totalAmount||tr.totalAmount||tr.settings?.totalAmount||0).toFixed(2);let dr="";return rr==="Overdue"?dr="bg-red-50":rr==="Due Today"?dr="bg-emerald-50":rr==="Due Tomorrow"?dr="bg-amber-50":dr="bg-gray-50",jsxRuntimeExports.jsxs("div",{className:`${dr} rounded p-2 flex flex-col gap-1`,children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-xs",children:tr.invoiceId||tr.id}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600",children:nr?nr.toLocaleDateString():"Invalid Date"}),jsxRuntimeExports.jsxs("div",{className:"text-xs font-semibold",children:["",sr]}),!tr.isPaid&&jsxRuntimeExports.jsx("button",{onClick:()=>We(tr),className:"bg-green-500 text-white text-xs px-2 py-1 rounded",children:"Send Reminder"})]},tr.invoiceId||tr.id)};return Oe==="horizontal"?jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:" Credit Dues"}),Qe&&jsxRuntimeExports.jsx("button",{onClick:qe,className:"inline-flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-fuchsia-500 text-white px-3 py-2 rounded-lg text-sm shadow hover:opacity-95 active:opacity-90",children:" Send All Reminders"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Overdue"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Ke.length>0?Ke.map(tr=>Je(tr,"Overdue")):jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"No items"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Due Today"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Xe.length>0?Xe.map(tr=>Je(tr,"Due Today")):jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"No items"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Due Tomorrow"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Ye.length>0?Ye.map(tr=>Je(tr,"Due Tomorrow")):jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"No items"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Upcoming"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Ze.length>0?Ze.map(tr=>Je(tr,"Upcoming")):jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"No items"})})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"relative rounded-2xl",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl p-[1px] bg-gradient-to-r from-cyan-500/20 to-fuchsia-500/20 pointer-events-none"}),jsxRuntimeExports.jsxs("div",{className:"relative rounded-[14px] bg-white p-4 md:p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:" Credit Dues"}),Qe&&jsxRuntimeExports.jsx("button",{onClick:qe,className:"inline-flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-fuchsia-500 text-white px-3 py-2 rounded-lg text-sm shadow hover:opacity-95 active:opacity-90",children:" Send All Reminders"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 text-sm mb-4",children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-500",children:"Total Due Pending"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-slate-900",children:["",Ce.reduce((tr,rr)=>tr+parseFloat(rr.splitPayment?.totalAmount||rr.totalAmount||rr.settings?.totalAmount||0),0).toFixed(2)]}),jsxRuntimeExports.jsxs("span",{className:"text-slate-500",children:["/",Ce.length," invoice(s)"]})]}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1",children:[jsxRuntimeExports.jsx("span",{className:"text-emerald-700",children:"Due Today"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-slate-900",children:["",Re.reduce((tr,rr)=>tr+parseFloat(rr.splitPayment?.totalAmount||rr.totalAmount||rr.settings?.totalAmount||0),0).toFixed(2)]}),jsxRuntimeExports.jsxs("span",{className:"text-slate-500",children:["/",Re.length]})]}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-3 py-1",children:[jsxRuntimeExports.jsx("span",{className:"text-amber-700",children:"Due Tomorrow"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-slate-900",children:["",je.reduce((tr,rr)=>tr+parseFloat(rr.splitPayment?.totalAmount||rr.totalAmount||rr.settings?.totalAmount||0),0).toFixed(2)]}),jsxRuntimeExports.jsxs("span",{className:"text-slate-500",children:["/",je.length]})]})]}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto max-h-[300px] overflow-y-auto pr-1",children:[He("Overdue",$e.Overdue,"bg-red-50"),He("Due Today",$e["Due Today"],"bg-emerald-50"),He("Due Tomorrow",$e["Due Tomorrow"],"bg-amber-50"),He("Upcoming",$e.Upcoming)]})]})]})},HomeSnapshot=({filterDates:Ce,filterType:Re})=>{const[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(null),[Oe,ke]=reactExports.useState(Re||"All"),[Me,Ue]=reactExports.useState([]),[$e,He]=reactExports.useState({name:"",address:""});reactExports.useEffect(()=>{const nr=onAuthStateChanged(auth$2,sr=>{if(sr){Fe(sr.uid),(async()=>{try{const or=doc(db$2,"businesses",sr.uid),Er=await getDoc(or);if(Er.exists()){const Rr=Er.data();He({name:Rr.businessName||"Your Business",address:Rr.businessAddress||""})}}catch(or){console.error("Error fetching business info:",or)}})();const _r=collection(db$2,"businesses",sr.uid,"finalizedInvoices"),fr=onSnapshot(_r,or=>{const Er=[];or.forEach(Rr=>{Er.push({...Rr.data(),id:Rr.id})}),Be(Er),Ue(Qe(Er,Re||"All",Ce))},or=>{console.error("Error in snapshot listener:",or)});return()=>fr()}});return()=>nr()},[]);const Qe=(nr,sr,dr={})=>{const _r=new Date,{start:fr,end:or}=dr;return nr.filter(Er=>{const Rr=Er.issuedAt?typeof Er.issuedAt.toDate=="function"?Er.issuedAt.toDate():new Date(Er.issuedAt):null;if(!Rr)return!1;if(fr&&or)return Rr>=fr&&Rr<=or;if(sr==="Today"){const jr=new Date;jr.setHours(0,0,0,0);const xr=new Date;return xr.setHours(23,59,59,999),Rr>=jr&&Rr<=xr}else if(sr==="ThisWeek"){const jr=new Date(_r),xr=jr.getDay(),Pr=xr===0?6:xr-1;jr.setDate(jr.getDate()-Pr),jr.setHours(0,0,0,0);const br=new Date(jr);return br.setDate(jr.getDate()+6),br.setHours(23,59,59,999),Rr>=jr&&Rr<=br}else if(sr==="ThisMonth"){const jr=new Date(_r.getFullYear(),_r.getMonth(),1),xr=new Date(_r.getFullYear(),_r.getMonth()+1,0);return xr.setHours(23,59,59,999),Rr>=jr&&Rr<=xr}else if(sr==="ThisYear"){const jr=new Date(_r.getFullYear(),0,1),xr=new Date(_r.getFullYear(),11,31,23,59,59,999);return Rr>=jr&&Rr<=xr}return!0})};reactExports.useEffect(()=>{Ue(Qe(je,Oe,Ce))},[Oe,Ce,je]),reactExports.useEffect(()=>{ke(Re||"All")},[Re]);const We=Me.reduce((nr,sr)=>{const dr=parseFloat(sr.totalAmount||sr.total||0);return sr.isPaid?nr+dr:nr},0),qe=Me.reduce((nr,sr)=>{if(!sr.isPaid)return nr;const dr=parseFloat(sr.totalAmount||sr.total||0),_r=(sr.paymentMode||"").toLowerCase();if(_r==="split"){const fr=sr.splitPayment||{},or=parseFloat(fr.cash||0),Er=parseFloat(fr.card||0),Rr=parseFloat(fr.upi||0);nr.Cash=(nr.Cash||0)+or,nr.Card=(nr.Card||0)+Er,nr.UPI=(nr.UPI||0)+Rr}else if(_r==="credit"){const fr=(sr.paidVia||"").toLowerCase();fr==="cash"?nr.Cash=(nr.Cash||0)+dr:fr==="card"?nr.Card=(nr.Card||0)+dr:fr==="upi"?nr.UPI=(nr.UPI||0)+dr:nr.Other=(nr.Other||0)+dr}else{const fr=_r==="cash"?"Cash":_r==="card"?"Card":_r==="upi"?"UPI":"Other";nr[fr]=(nr[fr]||0)+dr}return nr},{}),Ke=Me.filter(nr=>nr.paymentMode?.toLowerCase()==="credit"&&nr.isPaid===!1&&(nr.settings?.creditDueDate||nr.creditDueDate)),Xe=new Date;Xe.setHours(0,0,0,0);const Ye=new Date(Xe);Ye.setDate(Xe.getDate()+1);const Ze=Ke.filter(nr=>{const sr=nr.settings?.creditDueDate||nr.creditDueDate,dr=new Date(`${sr}T00:00:00`);return dr.setHours(0,0,0,0),dr.getTime()===Xe.getTime()}),Je=Ze.reduce((nr,sr)=>{const dr=parseFloat(sr.totalAmount||sr.settings?.totalAmount||0);return nr+dr},0),tr=Ke.filter(nr=>{const sr=nr.settings?.creditDueDate||nr.creditDueDate,dr=new Date(`${sr}T00:00:00`);return dr.setHours(0,0,0,0),dr.getTime()===Ye.getTime()}),rr=tr.reduce((nr,sr)=>{const dr=parseFloat(sr.totalAmount||sr.settings?.totalAmount||0);return nr+dr},0);console.log("Filtered invoices:",Me);const ar=Ke.reduce((nr,sr)=>{const dr=parseFloat(sr.totalAmount||sr.settings?.totalAmount||0);return nr+dr},0);return jsxRuntimeExports.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[Oe==="All"&&!Ce?.start?"Showing all time data":`Filtered by: ${Oe}`,Ce?.start&&Ce?.end&&jsxRuntimeExports.jsxs("span",{children:[" | Custom Range: ",Ce.start.toLocaleDateString()," - ",Ce.end.toLocaleDateString()]})]}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:" Home Snapshot: Todays KPIs"}),jsxRuntimeExports.jsxs("div",{className:"relative rounded-2xl",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl p-[1px] bg-gradient-to-r from-cyan-500/20 to-fuchsia-500/20 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"relative rounded-[14px] bg-white",children:jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-500",children:"Business"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold text-slate-900",children:$e.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-500",children:"Revenue"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-slate-900",children:["",Math.round(We).toLocaleString("en-IN")]})]}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-emerald-600",children:"Due Today"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-slate-900",children:["",Math.round(Je).toLocaleString("en-IN")]})]}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-amber-600",children:"Due Tomorrow"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-slate-900",children:["",Math.round(rr).toLocaleString("en-IN")]})]}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-rose-600",children:"Pending Credits"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-900",children:Ke?.filter(nr=>nr.isPaid===!1).length||0})]})]})]})})]}),jsxRuntimeExports.jsx(KpiCards,{invoiceData:Me,totalRevenue:We,paymentStats:qe,dueToday:Je,dueTomorrow:rr,totalDue:ar,totalDueCount:Ke?.filter(nr=>nr.isPaid===!1).length||0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative rounded-2xl h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl p-[1px] bg-gradient-to-r from-cyan-500/10 to-fuchsia-500/10 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"relative rounded-[14px] bg-white p-4 h-full",children:jsxRuntimeExports.jsx(LowStockAlertWidget,{userId:De})})]}),jsxRuntimeExports.jsxs("div",{className:"relative rounded-2xl h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl p-[1px] bg-gradient-to-r from-cyan-500/10 to-fuchsia-500/10 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"relative rounded-[14px] bg-white p-4 h-full",children:jsxRuntimeExports.jsx(RecentInvoices,{invoiceData:[...Me].sort((nr,sr)=>new Date(sr.createdAt)-new Date(nr.createdAt))})})]}),jsxRuntimeExports.jsxs("div",{className:"relative rounded-2xl h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl p-[1px] bg-gradient-to-r from-cyan-500/10 to-fuchsia-500/10 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"relative rounded-[14px] bg-white p-4 h-full",children:jsxRuntimeExports.jsx(CreditDueList,{creditInvoices:Ke,dueToday:Ze,dueTomorrow:tr,totalDue:ar,businessName:$e.name,businessAddress:$e.address})})]})]})]})},AnalyticsFilterContext=reactExports.createContext(),AnalyticsFilterProvider=({children:Ce})=>{const[Re,je]=reactExports.useState(null),[Be,De]=reactExports.useState(null);return jsxRuntimeExports.jsx(AnalyticsFilterContext.Provider,{value:{selectedProduct:Re,setSelectedProduct:je,selectedDate:Be,setSelectedDate:De},children:Ce})},useAnalyticsFilter=()=>reactExports.useContext(AnalyticsFilterContext);var get$2={},isUnsafeProperty={},hasRequiredIsUnsafeProperty;function requireIsUnsafeProperty(){return hasRequiredIsUnsafeProperty||(hasRequiredIsUnsafeProperty=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){return je==="__proto__"}Ce.isUnsafeProperty=Re})(isUnsafeProperty)),isUnsafeProperty}var isDeepKey={},hasRequiredIsDeepKey;function requireIsDeepKey(){return hasRequiredIsDeepKey||(hasRequiredIsDeepKey=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){switch(typeof je){case"number":case"symbol":return!1;case"string":return je.includes(".")||je.includes("[")||je.includes("]")}}Ce.isDeepKey=Re})(isDeepKey)),isDeepKey}var toKey={},hasRequiredToKey;function requireToKey(){return hasRequiredToKey||(hasRequiredToKey=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){return typeof je=="string"||typeof je=="symbol"?je:Object.is(je?.valueOf?.(),-0)?"-0":String(je)}Ce.toKey=Re})(toKey)),toKey}var toPath={},hasRequiredToPath;function requireToPath(){return hasRequiredToPath||(hasRequiredToPath=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){const Be=[],De=je.length;if(De===0)return Be;let Fe=0,Oe="",ke="",Me=!1;for(je.charCodeAt(0)===46&&(Be.push(""),Fe++);Fe<De;){const Ue=je[Fe];ke?Ue==="\\"&&Fe+1<De?(Fe++,Oe+=je[Fe]):Ue===ke?ke="":Oe+=Ue:Me?Ue==='"'||Ue==="'"?ke=Ue:Ue==="]"?(Me=!1,Be.push(Oe),Oe=""):Oe+=Ue:Ue==="["?(Me=!0,Oe&&(Be.push(Oe),Oe="")):Ue==="."?Oe&&(Be.push(Oe),Oe=""):Oe+=Ue,Fe++}return Oe&&Be.push(Oe),Be}Ce.toPath=Re})(toPath)),toPath}var hasRequiredGet$1;function requireGet$1(){return hasRequiredGet$1||(hasRequiredGet$1=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIsUnsafeProperty(),je=requireIsDeepKey(),Be=requireToKey(),De=requireToPath();function Fe(ke,Me,Ue){if(ke==null)return Ue;switch(typeof Me){case"string":{if(Re.isUnsafeProperty(Me))return Ue;const $e=ke[Me];return $e===void 0?je.isDeepKey(Me)?Fe(ke,De.toPath(Me),Ue):Ue:$e}case"number":case"symbol":{typeof Me=="number"&&(Me=Be.toKey(Me));const $e=ke[Me];return $e===void 0?Ue:$e}default:{if(Array.isArray(Me))return Oe(ke,Me,Ue);if(Object.is(Me?.valueOf(),-0)?Me="-0":Me=String(Me),Re.isUnsafeProperty(Me))return Ue;const $e=ke[Me];return $e===void 0?Ue:$e}}}function Oe(ke,Me,Ue){if(Me.length===0)return Ue;let $e=ke;for(let He=0;He<Me.length;He++){if($e==null||Re.isUnsafeProperty(Me[He]))return Ue;$e=$e[Me[He]]}return $e===void 0?Ue:$e}Ce.get=Fe})(get$2)),get$2}var get$1,hasRequiredGet;function requireGet(){return hasRequiredGet||(hasRequiredGet=1,get$1=requireGet$1().get),get$1}var getExports=requireGet();const get=getDefaultExportFromCjs(getExports);var reactIs$1={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production;function requireReactIs_production(){if(hasRequiredReactIs_production)return reactIs_production;hasRequiredReactIs_production=1;var Ce=Symbol.for("react.transitional.element"),Re=Symbol.for("react.portal"),je=Symbol.for("react.fragment"),Be=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),Fe=Symbol.for("react.consumer"),Oe=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Qe=Symbol.for("react.view_transition"),We=Symbol.for("react.client.reference");function qe(Ke){if(typeof Ke=="object"&&Ke!==null){var Xe=Ke.$$typeof;switch(Xe){case Ce:switch(Ke=Ke.type,Ke){case je:case De:case Be:case Me:case Ue:case Qe:return Ke;default:switch(Ke=Ke&&Ke.$$typeof,Ke){case Oe:case ke:case He:case $e:return Ke;case Fe:return Ke;default:return Xe}}case Re:return Xe}}}return reactIs_production.ContextConsumer=Fe,reactIs_production.ContextProvider=Oe,reactIs_production.Element=Ce,reactIs_production.ForwardRef=ke,reactIs_production.Fragment=je,reactIs_production.Lazy=He,reactIs_production.Memo=$e,reactIs_production.Portal=Re,reactIs_production.Profiler=De,reactIs_production.StrictMode=Be,reactIs_production.Suspense=Me,reactIs_production.SuspenseList=Ue,reactIs_production.isContextConsumer=function(Ke){return qe(Ke)===Fe},reactIs_production.isContextProvider=function(Ke){return qe(Ke)===Oe},reactIs_production.isElement=function(Ke){return typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===Ce},reactIs_production.isForwardRef=function(Ke){return qe(Ke)===ke},reactIs_production.isFragment=function(Ke){return qe(Ke)===je},reactIs_production.isLazy=function(Ke){return qe(Ke)===He},reactIs_production.isMemo=function(Ke){return qe(Ke)===$e},reactIs_production.isPortal=function(Ke){return qe(Ke)===Re},reactIs_production.isProfiler=function(Ke){return qe(Ke)===De},reactIs_production.isStrictMode=function(Ke){return qe(Ke)===Be},reactIs_production.isSuspense=function(Ke){return qe(Ke)===Me},reactIs_production.isSuspenseList=function(Ke){return qe(Ke)===Ue},reactIs_production.isValidElementType=function(Ke){return typeof Ke=="string"||typeof Ke=="function"||Ke===je||Ke===De||Ke===Be||Ke===Me||Ke===Ue||typeof Ke=="object"&&Ke!==null&&(Ke.$$typeof===He||Ke.$$typeof===$e||Ke.$$typeof===Oe||Ke.$$typeof===Fe||Ke.$$typeof===ke||Ke.$$typeof===We||Ke.getModuleId!==void 0)},reactIs_production.typeOf=qe,reactIs_production}var hasRequiredReactIs$1;function requireReactIs$1(){return hasRequiredReactIs$1||(hasRequiredReactIs$1=1,reactIs$1.exports=requireReactIs_production()),reactIs$1.exports}var reactIsExports=requireReactIs$1(),mathSign=Ce=>Ce===0?0:Ce>0?1:-1,isNan=Ce=>typeof Ce=="number"&&Ce!=+Ce,isPercent=Ce=>typeof Ce=="string"&&Ce.indexOf("%")===Ce.length-1,isNumber=Ce=>(typeof Ce=="number"||Ce instanceof Number)&&!isNan(Ce),isNumOrStr=Ce=>isNumber(Ce)||typeof Ce=="string",idCounter=0,uniqueId=Ce=>{var Re=++idCounter;return"".concat(Ce||"").concat(Re)},getPercentValue=function Ce(Re,je){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,De=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(Re)&&typeof Re!="string")return Be;var Fe;if(isPercent(Re)){if(je==null)return Be;var Oe=Re.indexOf("%");Fe=je*parseFloat(Re.slice(0,Oe))/100}else Fe=+Re;return isNan(Fe)&&(Fe=Be),De&&je!=null&&Fe>je&&(Fe=je),Fe},hasDuplicate=Ce=>{if(!Array.isArray(Ce))return!1;for(var Re=Ce.length,je={},Be=0;Be<Re;Be++)if(!je[Ce[Be]])je[Ce[Be]]=!0;else return!0;return!1};function interpolate$1(Ce,Re,je){return isNumber(Ce)&&isNumber(Re)?Ce+je*(Re-Ce):Re}function findEntryInArray(Ce,Re,je){if(!(!Ce||!Ce.length))return Ce.find(Be=>Be&&(typeof Re=="function"?Re(Be):get(Be,Re))===je)}var isNullish=Ce=>Ce===null||typeof Ce>"u",upperFirst=Ce=>isNullish(Ce)?Ce:"".concat(Ce.charAt(0).toUpperCase()).concat(Ce.slice(1)),EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function isEventKey(Ce){if(typeof Ce!="string")return!1;var Re=EventKeys;return Re.includes(Ce)}var SVGContainerPropKeys=["viewBox","children"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},adaptEventHandlers=(Ce,Re)=>{if(!Ce||typeof Ce=="function"||typeof Ce=="boolean")return null;var je=Ce;if(reactExports.isValidElement(Ce)&&(je=Ce.props),typeof je!="object"&&typeof je!="function")return null;var Be={};return Object.keys(je).forEach(De=>{isEventKey(De)&&(Be[De]=(Fe=>je[De](je,Fe)))}),Be},getEventHandlerOfChild=(Ce,Re,je)=>Be=>(Ce(Re,je,Be),null),adaptEventsOfChild=(Ce,Re,je)=>{if(Ce===null||typeof Ce!="object"&&typeof Ce!="function")return null;var Be=null;return Object.keys(Ce).forEach(De=>{var Fe=Ce[De];isEventKey(De)&&typeof Fe=="function"&&(Be||(Be={}),Be[De]=getEventHandlerOfChild(Fe,Re,je))}),Be},SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function isSvgElementPropKey(Ce){if(typeof Ce!="string")return!1;var Re=SVGElementPropKeys;return Re.includes(Ce)}function svgPropertiesNoEvents(Ce){var Re=Object.entries(Ce).filter(je=>{var[Be]=je;return isSvgElementPropKey(Be)});return Object.fromEntries(Re)}var getDisplayName=Ce=>typeof Ce=="string"?Ce:Ce?Ce.displayName||Ce.name||"Component":"",lastChildren=null,lastResult=null,toArray$1=Ce=>{if(Ce===lastChildren&&Array.isArray(lastResult))return lastResult;var Re=[];return reactExports.Children.forEach(Ce,je=>{isNullish(je)||(reactIsExports.isFragment(je)?Re=Re.concat(toArray$1(je.props.children)):Re.push(je))}),lastResult=Re,lastChildren=Ce,Re};function findAllByType(Ce,Re){var je=[],Be=[];return Array.isArray(Re)?Be=Re.map(De=>getDisplayName(De)):Be=[getDisplayName(Re)],toArray$1(Ce).forEach(De=>{var Fe=get(De,"type.displayName")||get(De,"type.name");Be.indexOf(Fe)!==-1&&je.push(De)}),je}var isClipDot=Ce=>Ce&&typeof Ce=="object"&&"clipDot"in Ce?!!Ce.clipDot:!0,isValidSpreadableProp=(Ce,Re,je,Be)=>{var De;if(typeof Re=="symbol"||typeof Re=="number")return!0;var Fe=(De=Be&&FilteredElementKeyMap?.[Be])!==null&&De!==void 0?De:[],Oe=Re.startsWith("data-"),ke=typeof Ce!="function"&&(!!Be&&Fe.includes(Re)||isSvgElementPropKey(Re)),Me=!!je&&isEventKey(Re);return Oe||ke||Me},filterProps=(Ce,Re,je)=>{if(!Ce||typeof Ce=="function"||typeof Ce=="boolean")return null;var Be=Ce;if(reactExports.isValidElement(Ce)&&(Be=Ce.props),typeof Be!="object"&&typeof Be!="function")return null;var De={};return Object.keys(Be).forEach(Fe=>{var Oe;isValidSpreadableProp((Oe=Be)===null||Oe===void 0?void 0:Oe[Fe],Fe,Re,je)&&(De[Fe]=Be[Fe])}),De},_excluded$r=["children","width","height","viewBox","className","style","title","desc"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$r.apply(null,arguments)}function _objectWithoutProperties$m(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$m(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$m(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}var Surface=reactExports.forwardRef((Ce,Re)=>{var{children:je,width:Be,height:De,viewBox:Fe,className:Oe,style:ke,title:Me,desc:Ue}=Ce,$e=_objectWithoutProperties$m(Ce,_excluded$r),He=Fe||{width:Be,height:De,x:0,y:0},Qe=clsx("recharts-surface",Oe);return reactExports.createElement("svg",_extends$r({},filterProps($e,!0,"svg"),{className:Qe,width:Be,height:De,style:ke,viewBox:"".concat(He.x," ").concat(He.y," ").concat(He.width," ").concat(He.height),ref:Re}),reactExports.createElement("title",null,Me),reactExports.createElement("desc",null,Ue),je)}),_excluded$q=["children","className"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$q.apply(null,arguments)}function _objectWithoutProperties$l(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$l(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$l(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}var Layer=reactExports.forwardRef((Ce,Re)=>{var{children:je,className:Be}=Ce,De=_objectWithoutProperties$l(Ce,_excluded$q),Fe=clsx("recharts-layer",Be);return reactExports.createElement("g",_extends$q({className:Fe},filterProps(De,!0),{ref:Re}),je)}),LegendPortalContext=reactExports.createContext(null),useLegendPortal=()=>reactExports.useContext(LegendPortalContext);function constant$1(Ce){return function(){return Ce}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append$1(Ce){this._+=Ce[0];for(let Re=1,je=Ce.length;Re<je;++Re)this._+=arguments[Re]+Ce[Re]}function appendRound(Ce){let Re=Math.floor(Ce);if(!(Re>=0))throw new Error(`invalid digits: ${Ce}`);if(Re>15)return append$1;const je=10**Re;return function(Be){this._+=Be[0];for(let De=1,Fe=Be.length;De<Fe;++De)this._+=Math.round(arguments[De]*je)/je+Be[De]}}class Path{constructor(Re){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=Re==null?append$1:appendRound(Re)}moveTo(Re,je){this._append`M${this._x0=this._x1=+Re},${this._y0=this._y1=+je}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(Re,je){this._append`L${this._x1=+Re},${this._y1=+je}`}quadraticCurveTo(Re,je,Be,De){this._append`Q${+Re},${+je},${this._x1=+Be},${this._y1=+De}`}bezierCurveTo(Re,je,Be,De,Fe,Oe){this._append`C${+Re},${+je},${+Be},${+De},${this._x1=+Fe},${this._y1=+Oe}`}arcTo(Re,je,Be,De,Fe){if(Re=+Re,je=+je,Be=+Be,De=+De,Fe=+Fe,Fe<0)throw new Error(`negative radius: ${Fe}`);let Oe=this._x1,ke=this._y1,Me=Be-Re,Ue=De-je,$e=Oe-Re,He=ke-je,Qe=$e*$e+He*He;if(this._x1===null)this._append`M${this._x1=Re},${this._y1=je}`;else if(Qe>epsilon)if(!(Math.abs(He*Me-Ue*$e)>epsilon)||!Fe)this._append`L${this._x1=Re},${this._y1=je}`;else{let We=Be-Oe,qe=De-ke,Ke=Me*Me+Ue*Ue,Xe=We*We+qe*qe,Ye=Math.sqrt(Ke),Ze=Math.sqrt(Qe),Je=Fe*Math.tan((pi-Math.acos((Ke+Qe-Xe)/(2*Ye*Ze)))/2),tr=Je/Ze,rr=Je/Ye;Math.abs(tr-1)>epsilon&&this._append`L${Re+tr*$e},${je+tr*He}`,this._append`A${Fe},${Fe},0,0,${+(He*We>$e*qe)},${this._x1=Re+rr*Me},${this._y1=je+rr*Ue}`}}arc(Re,je,Be,De,Fe,Oe){if(Re=+Re,je=+je,Be=+Be,Oe=!!Oe,Be<0)throw new Error(`negative radius: ${Be}`);let ke=Be*Math.cos(De),Me=Be*Math.sin(De),Ue=Re+ke,$e=je+Me,He=1^Oe,Qe=Oe?De-Fe:Fe-De;this._x1===null?this._append`M${Ue},${$e}`:(Math.abs(this._x1-Ue)>epsilon||Math.abs(this._y1-$e)>epsilon)&&this._append`L${Ue},${$e}`,Be&&(Qe<0&&(Qe=Qe%tau+tau),Qe>tauEpsilon?this._append`A${Be},${Be},0,1,${He},${Re-ke},${je-Me}A${Be},${Be},0,1,${He},${this._x1=Ue},${this._y1=$e}`:Qe>epsilon&&this._append`A${Be},${Be},0,${+(Qe>=pi)},${He},${this._x1=Re+Be*Math.cos(Fe)},${this._y1=je+Be*Math.sin(Fe)}`)}rect(Re,je,Be,De){this._append`M${this._x0=this._x1=+Re},${this._y0=this._y1=+je}h${Be=+Be}v${+De}h${-Be}Z`}toString(){return this._}}function withPath(Ce){let Re=3;return Ce.digits=function(je){if(!arguments.length)return Re;if(je==null)Re=null;else{const Be=Math.floor(je);if(!(Be>=0))throw new RangeError(`invalid digits: ${je}`);Re=Be}return Ce},()=>new Path(Re)}function array(Ce){return typeof Ce=="object"&&"length"in Ce?Ce:Array.from(Ce)}function Linear(Ce){this._context=Ce}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ce,Re){switch(Ce=+Ce,Re=+Re,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ce,Re):this._context.moveTo(Ce,Re);break;case 1:this._point=2;default:this._context.lineTo(Ce,Re);break}}};function curveLinear(Ce){return new Linear(Ce)}function x$1(Ce){return Ce[0]}function y$1(Ce){return Ce[1]}function shapeLine(Ce,Re){var je=constant$1(!0),Be=null,De=curveLinear,Fe=null,Oe=withPath(ke);Ce=typeof Ce=="function"?Ce:Ce===void 0?x$1:constant$1(Ce),Re=typeof Re=="function"?Re:Re===void 0?y$1:constant$1(Re);function ke(Me){var Ue,$e=(Me=array(Me)).length,He,Qe=!1,We;for(Be==null&&(Fe=De(We=Oe())),Ue=0;Ue<=$e;++Ue)!(Ue<$e&&je(He=Me[Ue],Ue,Me))===Qe&&((Qe=!Qe)?Fe.lineStart():Fe.lineEnd()),Qe&&Fe.point(+Ce(He,Ue,Me),+Re(He,Ue,Me));if(We)return Fe=null,We+""||null}return ke.x=function(Me){return arguments.length?(Ce=typeof Me=="function"?Me:constant$1(+Me),ke):Ce},ke.y=function(Me){return arguments.length?(Re=typeof Me=="function"?Me:constant$1(+Me),ke):Re},ke.defined=function(Me){return arguments.length?(je=typeof Me=="function"?Me:constant$1(!!Me),ke):je},ke.curve=function(Me){return arguments.length?(De=Me,Be!=null&&(Fe=De(Be)),ke):De},ke.context=function(Me){return arguments.length?(Me==null?Be=Fe=null:Fe=De(Be=Me),ke):Be},ke}function shapeArea(Ce,Re,je){var Be=null,De=constant$1(!0),Fe=null,Oe=curveLinear,ke=null,Me=withPath(Ue);Ce=typeof Ce=="function"?Ce:Ce===void 0?x$1:constant$1(+Ce),Re=typeof Re=="function"?Re:constant$1(Re===void 0?0:+Re),je=typeof je=="function"?je:je===void 0?y$1:constant$1(+je);function Ue(He){var Qe,We,qe,Ke=(He=array(He)).length,Xe,Ye=!1,Ze,Je=new Array(Ke),tr=new Array(Ke);for(Fe==null&&(ke=Oe(Ze=Me())),Qe=0;Qe<=Ke;++Qe){if(!(Qe<Ke&&De(Xe=He[Qe],Qe,He))===Ye)if(Ye=!Ye)We=Qe,ke.areaStart(),ke.lineStart();else{for(ke.lineEnd(),ke.lineStart(),qe=Qe-1;qe>=We;--qe)ke.point(Je[qe],tr[qe]);ke.lineEnd(),ke.areaEnd()}Ye&&(Je[Qe]=+Ce(Xe,Qe,He),tr[Qe]=+Re(Xe,Qe,He),ke.point(Be?+Be(Xe,Qe,He):Je[Qe],je?+je(Xe,Qe,He):tr[Qe]))}if(Ze)return ke=null,Ze+""||null}function $e(){return shapeLine().defined(De).curve(Oe).context(Fe)}return Ue.x=function(He){return arguments.length?(Ce=typeof He=="function"?He:constant$1(+He),Be=null,Ue):Ce},Ue.x0=function(He){return arguments.length?(Ce=typeof He=="function"?He:constant$1(+He),Ue):Ce},Ue.x1=function(He){return arguments.length?(Be=He==null?null:typeof He=="function"?He:constant$1(+He),Ue):Be},Ue.y=function(He){return arguments.length?(Re=typeof He=="function"?He:constant$1(+He),je=null,Ue):Re},Ue.y0=function(He){return arguments.length?(Re=typeof He=="function"?He:constant$1(+He),Ue):Re},Ue.y1=function(He){return arguments.length?(je=He==null?null:typeof He=="function"?He:constant$1(+He),Ue):je},Ue.lineX0=Ue.lineY0=function(){return $e().x(Ce).y(Re)},Ue.lineY1=function(){return $e().x(Ce).y(je)},Ue.lineX1=function(){return $e().x(Be).y(Re)},Ue.defined=function(He){return arguments.length?(De=typeof He=="function"?He:constant$1(!!He),Ue):De},Ue.curve=function(He){return arguments.length?(Oe=He,Fe!=null&&(ke=Oe(Fe)),Ue):Oe},Ue.context=function(He){return arguments.length?(He==null?Fe=ke=null:ke=Oe(Fe=He),Ue):Fe},Ue}class Bump{constructor(Re,je){this._context=Re,this._x=je}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(Re,je){switch(Re=+Re,je=+je,this._point){case 0:{this._point=1,this._line?this._context.lineTo(Re,je):this._context.moveTo(Re,je);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+Re)/2,this._y0,this._x0,je,Re,je):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+je)/2,Re,this._y0,Re,je);break}}this._x0=Re,this._y0=je}}function bumpX(Ce){return new Bump(Ce,!0)}function bumpY(Ce){return new Bump(Ce,!1)}const symbolCircle={draw(Ce,Re){const je=sqrt$1(Re/pi$1);Ce.moveTo(je,0),Ce.arc(0,0,je,0,tau$1)}},symbolCross={draw(Ce,Re){const je=sqrt$1(Re/5)/2;Ce.moveTo(-3*je,-je),Ce.lineTo(-je,-je),Ce.lineTo(-je,-3*je),Ce.lineTo(je,-3*je),Ce.lineTo(je,-je),Ce.lineTo(3*je,-je),Ce.lineTo(3*je,je),Ce.lineTo(je,je),Ce.lineTo(je,3*je),Ce.lineTo(-je,3*je),Ce.lineTo(-je,je),Ce.lineTo(-3*je,je),Ce.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(Ce,Re){const je=sqrt$1(Re/tan30_2),Be=je*tan30;Ce.moveTo(0,-je),Ce.lineTo(Be,0),Ce.lineTo(0,je),Ce.lineTo(-Be,0),Ce.closePath()}},symbolSquare={draw(Ce,Re){const je=sqrt$1(Re),Be=-je/2;Ce.rect(Be,Be,je,je)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(Ce,Re){const je=sqrt$1(Re*ka),Be=kx*je,De=ky*je;Ce.moveTo(0,-je),Ce.lineTo(Be,De);for(let Fe=1;Fe<5;++Fe){const Oe=tau$1*Fe/5,ke=cos(Oe),Me=sin(Oe);Ce.lineTo(Me*je,-ke*je),Ce.lineTo(ke*Be-Me*De,Me*Be+ke*De)}Ce.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(Ce,Re){const je=-sqrt$1(Re/(sqrt3*3));Ce.moveTo(0,je*2),Ce.lineTo(-sqrt3*je,-je),Ce.lineTo(sqrt3*je,-je),Ce.closePath()}},c$2=-.5,s$1=sqrt$1(3)/2,k$1=1/sqrt$1(12),a$1=(k$1/2+1)*3,symbolWye={draw(Ce,Re){const je=sqrt$1(Re/a$1),Be=je/2,De=je*k$1,Fe=Be,Oe=je*k$1+je,ke=-Fe,Me=Oe;Ce.moveTo(Be,De),Ce.lineTo(Fe,Oe),Ce.lineTo(ke,Me),Ce.lineTo(c$2*Be-s$1*De,s$1*Be+c$2*De),Ce.lineTo(c$2*Fe-s$1*Oe,s$1*Fe+c$2*Oe),Ce.lineTo(c$2*ke-s$1*Me,s$1*ke+c$2*Me),Ce.lineTo(c$2*Be+s$1*De,c$2*De-s$1*Be),Ce.lineTo(c$2*Fe+s$1*Oe,c$2*Oe-s$1*Fe),Ce.lineTo(c$2*ke+s$1*Me,c$2*Me-s$1*ke),Ce.closePath()}};function Symbol$1(Ce,Re){let je=null,Be=withPath(De);Ce=typeof Ce=="function"?Ce:constant$1(Ce||symbolCircle),Re=typeof Re=="function"?Re:constant$1(Re===void 0?64:+Re);function De(){let Fe;if(je||(je=Fe=Be()),Ce.apply(this,arguments).draw(je,+Re.apply(this,arguments)),Fe)return je=null,Fe+""||null}return De.type=function(Fe){return arguments.length?(Ce=typeof Fe=="function"?Fe:constant$1(Fe),De):Ce},De.size=function(Fe){return arguments.length?(Re=typeof Fe=="function"?Fe:constant$1(+Fe),De):Re},De.context=function(Fe){return arguments.length?(je=Fe??null,De):je},De}function noop$9(){}function point$2(Ce,Re,je){Ce._context.bezierCurveTo((2*Ce._x0+Ce._x1)/3,(2*Ce._y0+Ce._y1)/3,(Ce._x0+2*Ce._x1)/3,(Ce._y0+2*Ce._y1)/3,(Ce._x0+4*Ce._x1+Re)/6,(Ce._y0+4*Ce._y1+je)/6)}function Basis(Ce){this._context=Ce}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ce,Re){switch(Ce=+Ce,Re=+Re,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ce,Re):this._context.moveTo(Ce,Re);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,Ce,Re);break}this._x0=this._x1,this._x1=Ce,this._y0=this._y1,this._y1=Re}};function curveBasis(Ce){return new Basis(Ce)}function BasisClosed(Ce){this._context=Ce}BasisClosed.prototype={areaStart:noop$9,areaEnd:noop$9,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(Ce,Re){switch(Ce=+Ce,Re=+Re,this._point){case 0:this._point=1,this._x2=Ce,this._y2=Re;break;case 1:this._point=2,this._x3=Ce,this._y3=Re;break;case 2:this._point=3,this._x4=Ce,this._y4=Re,this._context.moveTo((this._x0+4*this._x1+Ce)/6,(this._y0+4*this._y1+Re)/6);break;default:point$2(this,Ce,Re);break}this._x0=this._x1,this._x1=Ce,this._y0=this._y1,this._y1=Re}};function curveBasisClosed(Ce){return new BasisClosed(Ce)}function BasisOpen(Ce){this._context=Ce}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Ce,Re){switch(Ce=+Ce,Re=+Re,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var je=(this._x0+4*this._x1+Ce)/6,Be=(this._y0+4*this._y1+Re)/6;this._line?this._context.lineTo(je,Be):this._context.moveTo(je,Be);break;case 3:this._point=4;default:point$2(this,Ce,Re);break}this._x0=this._x1,this._x1=Ce,this._y0=this._y1,this._y1=Re}};function curveBasisOpen(Ce){return new BasisOpen(Ce)}function LinearClosed(Ce){this._context=Ce}LinearClosed.prototype={areaStart:noop$9,areaEnd:noop$9,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Ce,Re){Ce=+Ce,Re=+Re,this._point?this._context.lineTo(Ce,Re):(this._point=1,this._context.moveTo(Ce,Re))}};function curveLinearClosed(Ce){return new LinearClosed(Ce)}function sign(Ce){return Ce<0?-1:1}function slope3(Ce,Re,je){var Be=Ce._x1-Ce._x0,De=Re-Ce._x1,Fe=(Ce._y1-Ce._y0)/(Be||De<0&&-0),Oe=(je-Ce._y1)/(De||Be<0&&-0),ke=(Fe*De+Oe*Be)/(Be+De);return(sign(Fe)+sign(Oe))*Math.min(Math.abs(Fe),Math.abs(Oe),.5*Math.abs(ke))||0}function slope2(Ce,Re){var je=Ce._x1-Ce._x0;return je?(3*(Ce._y1-Ce._y0)/je-Re)/2:Re}function point$1(Ce,Re,je){var Be=Ce._x0,De=Ce._y0,Fe=Ce._x1,Oe=Ce._y1,ke=(Fe-Be)/3;Ce._context.bezierCurveTo(Be+ke,De+ke*Re,Fe-ke,Oe-ke*je,Fe,Oe)}function MonotoneX(Ce){this._context=Ce}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ce,Re){var je=NaN;if(Ce=+Ce,Re=+Re,!(Ce===this._x1&&Re===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Ce,Re):this._context.moveTo(Ce,Re);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,je=slope3(this,Ce,Re)),je);break;default:point$1(this,this._t0,je=slope3(this,Ce,Re));break}this._x0=this._x1,this._x1=Ce,this._y0=this._y1,this._y1=Re,this._t0=je}}};function MonotoneY(Ce){this._context=new ReflectContext(Ce)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(Ce,Re){MonotoneX.prototype.point.call(this,Re,Ce)};function ReflectContext(Ce){this._context=Ce}ReflectContext.prototype={moveTo:function(Ce,Re){this._context.moveTo(Re,Ce)},closePath:function(){this._context.closePath()},lineTo:function(Ce,Re){this._context.lineTo(Re,Ce)},bezierCurveTo:function(Ce,Re,je,Be,De,Fe){this._context.bezierCurveTo(Re,Ce,Be,je,Fe,De)}};function monotoneX(Ce){return new MonotoneX(Ce)}function monotoneY(Ce){return new MonotoneY(Ce)}function Natural(Ce){this._context=Ce}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var Ce=this._x,Re=this._y,je=Ce.length;if(je)if(this._line?this._context.lineTo(Ce[0],Re[0]):this._context.moveTo(Ce[0],Re[0]),je===2)this._context.lineTo(Ce[1],Re[1]);else for(var Be=controlPoints(Ce),De=controlPoints(Re),Fe=0,Oe=1;Oe<je;++Fe,++Oe)this._context.bezierCurveTo(Be[0][Fe],De[0][Fe],Be[1][Fe],De[1][Fe],Ce[Oe],Re[Oe]);(this._line||this._line!==0&&je===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(Ce,Re){this._x.push(+Ce),this._y.push(+Re)}};function controlPoints(Ce){var Re,je=Ce.length-1,Be,De=new Array(je),Fe=new Array(je),Oe=new Array(je);for(De[0]=0,Fe[0]=2,Oe[0]=Ce[0]+2*Ce[1],Re=1;Re<je-1;++Re)De[Re]=1,Fe[Re]=4,Oe[Re]=4*Ce[Re]+2*Ce[Re+1];for(De[je-1]=2,Fe[je-1]=7,Oe[je-1]=8*Ce[je-1]+Ce[je],Re=1;Re<je;++Re)Be=De[Re]/Fe[Re-1],Fe[Re]-=Be,Oe[Re]-=Be*Oe[Re-1];for(De[je-1]=Oe[je-1]/Fe[je-1],Re=je-2;Re>=0;--Re)De[Re]=(Oe[Re]-De[Re+1])/Fe[Re];for(Fe[je-1]=(Ce[je]+De[je-1])/2,Re=0;Re<je-1;++Re)Fe[Re]=2*Ce[Re+1]-De[Re+1];return[De,Fe]}function curveNatural(Ce){return new Natural(Ce)}function Step(Ce,Re){this._context=Ce,this._t=Re}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(Ce,Re){switch(Ce=+Ce,Re=+Re,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ce,Re):this._context.moveTo(Ce,Re);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,Re),this._context.lineTo(Ce,Re);else{var je=this._x*(1-this._t)+Ce*this._t;this._context.lineTo(je,this._y),this._context.lineTo(je,Re)}break}}this._x=Ce,this._y=Re}};function curveStep(Ce){return new Step(Ce,.5)}function stepBefore(Ce){return new Step(Ce,0)}function stepAfter(Ce){return new Step(Ce,1)}function stackOffsetNone(Ce,Re){if((Oe=Ce.length)>1)for(var je=1,Be,De,Fe=Ce[Re[0]],Oe,ke=Fe.length;je<Oe;++je)for(De=Fe,Fe=Ce[Re[je]],Be=0;Be<ke;++Be)Fe[Be][1]+=Fe[Be][0]=isNaN(De[Be][1])?De[Be][0]:De[Be][1]}function stackOrderNone(Ce){for(var Re=Ce.length,je=new Array(Re);--Re>=0;)je[Re]=Re;return je}function stackValue(Ce,Re){return Ce[Re]}function stackSeries(Ce){const Re=[];return Re.key=Ce,Re}function shapeStack(){var Ce=constant$1([]),Re=stackOrderNone,je=stackOffsetNone,Be=stackValue;function De(Fe){var Oe=Array.from(Ce.apply(this,arguments),stackSeries),ke,Me=Oe.length,Ue=-1,$e;for(const He of Fe)for(ke=0,++Ue;ke<Me;++ke)(Oe[ke][Ue]=[0,+Be(He,Oe[ke].key,Ue,Fe)]).data=He;for(ke=0,$e=array(Re(Oe));ke<Me;++ke)Oe[$e[ke]].index=ke;return je(Oe,$e),Oe}return De.keys=function(Fe){return arguments.length?(Ce=typeof Fe=="function"?Fe:constant$1(Array.from(Fe)),De):Ce},De.value=function(Fe){return arguments.length?(Be=typeof Fe=="function"?Fe:constant$1(+Fe),De):Be},De.order=function(Fe){return arguments.length?(Re=Fe==null?stackOrderNone:typeof Fe=="function"?Fe:constant$1(Array.from(Fe)),De):Re},De.offset=function(Fe){return arguments.length?(je=Fe??stackOffsetNone,De):je},De}function stackOffsetExpand(Ce,Re){if((Be=Ce.length)>0){for(var je,Be,De=0,Fe=Ce[0].length,Oe;De<Fe;++De){for(Oe=je=0;je<Be;++je)Oe+=Ce[je][De][1]||0;if(Oe)for(je=0;je<Be;++je)Ce[je][De][1]/=Oe}stackOffsetNone(Ce,Re)}}function stackOffsetSilhouette(Ce,Re){if((De=Ce.length)>0){for(var je=0,Be=Ce[Re[0]],De,Fe=Be.length;je<Fe;++je){for(var Oe=0,ke=0;Oe<De;++Oe)ke+=Ce[Oe][je][1]||0;Be[je][1]+=Be[je][0]=-ke/2}stackOffsetNone(Ce,Re)}}function stackOffsetWiggle(Ce,Re){if(!(!((Oe=Ce.length)>0)||!((Fe=(De=Ce[Re[0]]).length)>0))){for(var je=0,Be=1,De,Fe,Oe;Be<Fe;++Be){for(var ke=0,Me=0,Ue=0;ke<Oe;++ke){for(var $e=Ce[Re[ke]],He=$e[Be][1]||0,Qe=$e[Be-1][1]||0,We=(He-Qe)/2,qe=0;qe<ke;++qe){var Ke=Ce[Re[qe]],Xe=Ke[Be][1]||0,Ye=Ke[Be-1][1]||0;We+=Xe-Ye}Me+=He,Ue+=We*He}De[Be-1][1]+=De[Be-1][0]=je,Me&&(je-=Ue/Me)}De[Be-1][1]+=De[Be-1][0]=je,stackOffsetNone(Ce,Re)}}var _excluded$p=["type","size","sizeType"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$p.apply(null,arguments)}function ownKeys$A(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$z(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$A(Object(je),!0).forEach(function(Be){_defineProperty$E(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$A(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$E(Ce,Re,je){return(Re=_toPropertyKey$D(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$D(Ce){var Re=_toPrimitive$D(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$D(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function _objectWithoutProperties$k(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$k(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$k(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=Ce=>{var Re="symbol".concat(upperFirst(Ce));return symbolFactories[Re]||symbolCircle},calculateAreaSize=(Ce,Re,je)=>{if(Re==="area")return Ce;switch(je){case"cross":return 5*Ce*Ce/9;case"diamond":return .5*Ce*Ce/Math.sqrt(3);case"square":return Ce*Ce;case"star":{var Be=18*RADIAN$1;return 1.25*Ce*Ce*(Math.tan(Be)-Math.tan(Be*2)*Math.tan(Be)**2)}case"triangle":return Math.sqrt(3)*Ce*Ce/4;case"wye":return(21-10*Math.sqrt(3))*Ce*Ce/8;default:return Math.PI*Ce*Ce/4}},registerSymbol=(Ce,Re)=>{symbolFactories["symbol".concat(upperFirst(Ce))]=Re},Symbols=Ce=>{var{type:Re="circle",size:je=64,sizeType:Be="area"}=Ce,De=_objectWithoutProperties$k(Ce,_excluded$p),Fe=_objectSpread$z(_objectSpread$z({},De),{},{type:Re,size:je,sizeType:Be}),Oe=()=>{var He=getSymbolFactory(Re),Qe=Symbol$1().type(He).size(calculateAreaSize(je,Be,Re));return Qe()},{className:ke,cx:Me,cy:Ue}=Fe,$e=filterProps(Fe,!0);return Me===+Me&&Ue===+Ue&&je===+je?reactExports.createElement("path",_extends$p({},$e,{className:clsx("recharts-symbols",ke),transform:"translate(".concat(Me,", ").concat(Ue,")"),d:Oe()})):null};Symbols.registerSymbol=registerSymbol;function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$o.apply(null,arguments)}function ownKeys$z(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$y(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$z(Object(je),!0).forEach(function(Be){_defineProperty$D(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$z(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$D(Ce,Re,je){return(Re=_toPropertyKey$C(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$C(Ce){var Re=_toPrimitive$C(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$C(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}var SIZE=32;class DefaultLegendContent extends reactExports.PureComponent{renderIcon(Re,je){var{inactiveColor:Be}=this.props,De=SIZE/2,Fe=SIZE/6,Oe=SIZE/3,ke=Re.inactive?Be:Re.color,Me=je??Re.type;if(Me==="none")return null;if(Me==="plainline")return reactExports.createElement("line",{strokeWidth:4,fill:"none",stroke:ke,strokeDasharray:Re.payload.strokeDasharray,x1:0,y1:De,x2:SIZE,y2:De,className:"recharts-legend-icon"});if(Me==="line")return reactExports.createElement("path",{strokeWidth:4,fill:"none",stroke:ke,d:"M0,".concat(De,"h").concat(Oe,`
            A`).concat(Fe,",").concat(Fe,",0,1,1,").concat(2*Oe,",").concat(De,`
            H`).concat(SIZE,"M").concat(2*Oe,",").concat(De,`
            A`).concat(Fe,",").concat(Fe,",0,1,1,").concat(Oe,",").concat(De),className:"recharts-legend-icon"});if(Me==="rect")return reactExports.createElement("path",{stroke:"none",fill:ke,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(reactExports.isValidElement(Re.legendIcon)){var Ue=_objectSpread$y({},Re);return delete Ue.legendIcon,reactExports.cloneElement(Re.legendIcon,Ue)}return reactExports.createElement(Symbols,{fill:ke,cx:De,cy:De,size:SIZE,sizeType:"diameter",type:Me})}renderItems(){var{payload:Re,iconSize:je,layout:Be,formatter:De,inactiveColor:Fe,iconType:Oe}=this.props,ke={x:0,y:0,width:SIZE,height:SIZE},Me={display:Be==="horizontal"?"inline-block":"block",marginRight:10},Ue={display:"inline-block",verticalAlign:"middle",marginRight:4};return Re.map(($e,He)=>{var Qe=$e.formatter||De,We=clsx({"recharts-legend-item":!0,["legend-item-".concat(He)]:!0,inactive:$e.inactive});if($e.type==="none")return null;var qe=$e.inactive?Fe:$e.color,Ke=Qe?Qe($e.value,$e,He):$e.value;return reactExports.createElement("li",_extends$o({className:We,style:Me,key:"legend-item-".concat(He)},adaptEventsOfChild(this.props,$e,He)),reactExports.createElement(Surface,{width:je,height:je,viewBox:ke,style:Ue,"aria-label":"".concat(Ke," legend icon")},this.renderIcon($e,Oe)),reactExports.createElement("span",{className:"recharts-legend-item-text",style:{color:qe}},Ke))})}render(){var{payload:Re,layout:je,align:Be}=this.props;if(!Re||!Re.length)return null;var De={padding:0,margin:0,textAlign:je==="horizontal"?Be:"left"};return reactExports.createElement("ul",{className:"recharts-default-legend",style:De},this.renderItems())}}_defineProperty$D(DefaultLegendContent,"displayName","Legend");_defineProperty$D(DefaultLegendContent,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var uniqBy$3={},uniqBy$2={},hasRequiredUniqBy$2;function requireUniqBy$2(){return hasRequiredUniqBy$2||(hasRequiredUniqBy$2=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je,Be){const De=new Map;for(let Fe=0;Fe<je.length;Fe++){const Oe=je[Fe],ke=Be(Oe);De.has(ke)||De.set(ke,Oe)}return Array.from(De.values())}Ce.uniqBy=Re})(uniqBy$2)),uniqBy$2}var identity$4={},hasRequiredIdentity;function requireIdentity(){return hasRequiredIdentity||(hasRequiredIdentity=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){return je}Ce.identity=Re})(identity$4)),identity$4}var isArrayLikeObject={},isArrayLike={},isLength={},hasRequiredIsLength;function requireIsLength(){return hasRequiredIsLength||(hasRequiredIsLength=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){return Number.isSafeInteger(je)&&je>=0}Ce.isLength=Re})(isLength)),isLength}var hasRequiredIsArrayLike;function requireIsArrayLike(){return hasRequiredIsArrayLike||(hasRequiredIsArrayLike=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIsLength();function je(Be){return Be!=null&&typeof Be!="function"&&Re.isLength(Be.length)}Ce.isArrayLike=je})(isArrayLike)),isArrayLike}var isObjectLike={},hasRequiredIsObjectLike;function requireIsObjectLike(){return hasRequiredIsObjectLike||(hasRequiredIsObjectLike=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){return typeof je=="object"&&je!==null}Ce.isObjectLike=Re})(isObjectLike)),isObjectLike}var hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){return hasRequiredIsArrayLikeObject||(hasRequiredIsArrayLikeObject=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIsArrayLike(),je=requireIsObjectLike();function Be(De){return je.isObjectLike(De)&&Re.isArrayLike(De)}Ce.isArrayLikeObject=Be})(isArrayLikeObject)),isArrayLikeObject}var iteratee={},property={},hasRequiredProperty;function requireProperty(){return hasRequiredProperty||(hasRequiredProperty=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireGet$1();function je(Be){return function(De){return Re.get(De,Be)}}Ce.property=je})(property)),property}var matches={},isMatch={},isMatchWith={},isObject={},hasRequiredIsObject;function requireIsObject(){return hasRequiredIsObject||(hasRequiredIsObject=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){return je!==null&&(typeof je=="object"||typeof je=="function")}Ce.isObject=Re})(isObject)),isObject}var isPrimitive={},hasRequiredIsPrimitive;function requireIsPrimitive(){return hasRequiredIsPrimitive||(hasRequiredIsPrimitive=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){return je==null||typeof je!="object"&&typeof je!="function"}Ce.isPrimitive=Re})(isPrimitive)),isPrimitive}var eq={},hasRequiredEq;function requireEq(){return hasRequiredEq||(hasRequiredEq=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je,Be){return je===Be||Number.isNaN(je)&&Number.isNaN(Be)}Ce.eq=Re})(eq)),eq}var hasRequiredIsMatchWith;function requireIsMatchWith(){return hasRequiredIsMatchWith||(hasRequiredIsMatchWith=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIsMatch(),je=requireIsObject(),Be=requireIsPrimitive(),De=requireEq();function Fe(He,Qe,We){return typeof We!="function"?Re.isMatch(He,Qe):Oe(He,Qe,function qe(Ke,Xe,Ye,Ze,Je,tr){const rr=We(Ke,Xe,Ye,Ze,Je,tr);return rr!==void 0?!!rr:Oe(Ke,Xe,qe,tr)},new Map)}function Oe(He,Qe,We,qe){if(Qe===He)return!0;switch(typeof Qe){case"object":return ke(He,Qe,We,qe);case"function":return Object.keys(Qe).length>0?Oe(He,{...Qe},We,qe):De.eq(He,Qe);default:return je.isObject(He)?typeof Qe=="string"?Qe==="":!0:De.eq(He,Qe)}}function ke(He,Qe,We,qe){if(Qe==null)return!0;if(Array.isArray(Qe))return Ue(He,Qe,We,qe);if(Qe instanceof Map)return Me(He,Qe,We,qe);if(Qe instanceof Set)return $e(He,Qe,We,qe);const Ke=Object.keys(Qe);if(He==null)return Ke.length===0;if(Ke.length===0)return!0;if(qe&&qe.has(Qe))return qe.get(Qe)===He;qe&&qe.set(Qe,He);try{for(let Xe=0;Xe<Ke.length;Xe++){const Ye=Ke[Xe];if(!Be.isPrimitive(He)&&!(Ye in He)||Qe[Ye]===void 0&&He[Ye]!==void 0||Qe[Ye]===null&&He[Ye]!==null||!We(He[Ye],Qe[Ye],Ye,He,Qe,qe))return!1}return!0}finally{qe&&qe.delete(Qe)}}function Me(He,Qe,We,qe){if(Qe.size===0)return!0;if(!(He instanceof Map))return!1;for(const[Ke,Xe]of Qe.entries()){const Ye=He.get(Ke);if(We(Ye,Xe,Ke,He,Qe,qe)===!1)return!1}return!0}function Ue(He,Qe,We,qe){if(Qe.length===0)return!0;if(!Array.isArray(He))return!1;const Ke=new Set;for(let Xe=0;Xe<Qe.length;Xe++){const Ye=Qe[Xe];let Ze=!1;for(let Je=0;Je<He.length;Je++){if(Ke.has(Je))continue;const tr=He[Je];let rr=!1;if(We(tr,Ye,Xe,He,Qe,qe)&&(rr=!0),rr){Ke.add(Je),Ze=!0;break}}if(!Ze)return!1}return!0}function $e(He,Qe,We,qe){return Qe.size===0?!0:He instanceof Set?Ue([...He],[...Qe],We,qe):!1}Ce.isMatchWith=Fe,Ce.isSetMatch=$e})(isMatchWith)),isMatchWith}var hasRequiredIsMatch;function requireIsMatch(){return hasRequiredIsMatch||(hasRequiredIsMatch=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIsMatchWith();function je(Be,De){return Re.isMatchWith(Be,De,()=>{})}Ce.isMatch=je})(isMatch)),isMatch}var cloneDeep$1={},cloneDeepWith$1={},getSymbols={},hasRequiredGetSymbols;function requireGetSymbols(){return hasRequiredGetSymbols||(hasRequiredGetSymbols=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){return Object.getOwnPropertySymbols(je).filter(Be=>Object.prototype.propertyIsEnumerable.call(je,Be))}Ce.getSymbols=Re})(getSymbols)),getSymbols}var getTag={},hasRequiredGetTag;function requireGetTag(){return hasRequiredGetTag||(hasRequiredGetTag=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){return je==null?je===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(je)}Ce.getTag=Re})(getTag)),getTag}var tags$1={},hasRequiredTags;function requireTags(){return hasRequiredTags||(hasRequiredTags=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re="[object RegExp]",je="[object String]",Be="[object Number]",De="[object Boolean]",Fe="[object Arguments]",Oe="[object Symbol]",ke="[object Date]",Me="[object Map]",Ue="[object Set]",$e="[object Array]",He="[object Function]",Qe="[object ArrayBuffer]",We="[object Object]",qe="[object Error]",Ke="[object DataView]",Xe="[object Uint8Array]",Ye="[object Uint8ClampedArray]",Ze="[object Uint16Array]",Je="[object Uint32Array]",tr="[object BigUint64Array]",rr="[object Int8Array]",ar="[object Int16Array]",nr="[object Int32Array]",sr="[object BigInt64Array]",dr="[object Float32Array]",_r="[object Float64Array]";Ce.argumentsTag=Fe,Ce.arrayBufferTag=Qe,Ce.arrayTag=$e,Ce.bigInt64ArrayTag=sr,Ce.bigUint64ArrayTag=tr,Ce.booleanTag=De,Ce.dataViewTag=Ke,Ce.dateTag=ke,Ce.errorTag=qe,Ce.float32ArrayTag=dr,Ce.float64ArrayTag=_r,Ce.functionTag=He,Ce.int16ArrayTag=ar,Ce.int32ArrayTag=nr,Ce.int8ArrayTag=rr,Ce.mapTag=Me,Ce.numberTag=Be,Ce.objectTag=We,Ce.regexpTag=Re,Ce.setTag=Ue,Ce.stringTag=je,Ce.symbolTag=Oe,Ce.uint16ArrayTag=Ze,Ce.uint32ArrayTag=Je,Ce.uint8ArrayTag=Xe,Ce.uint8ClampedArrayTag=Ye})(tags$1)),tags$1}var isTypedArray={},hasRequiredIsTypedArray;function requireIsTypedArray(){return hasRequiredIsTypedArray||(hasRequiredIsTypedArray=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){return ArrayBuffer.isView(je)&&!(je instanceof DataView)}Ce.isTypedArray=Re})(isTypedArray)),isTypedArray}var hasRequiredCloneDeepWith$1;function requireCloneDeepWith$1(){return hasRequiredCloneDeepWith$1||(hasRequiredCloneDeepWith$1=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireGetSymbols(),je=requireGetTag(),Be=requireTags(),De=requireIsPrimitive(),Fe=requireIsTypedArray();function Oe($e,He){return ke($e,void 0,$e,new Map,He)}function ke($e,He,Qe,We=new Map,qe=void 0){const Ke=qe?.($e,He,Qe,We);if(Ke!==void 0)return Ke;if(De.isPrimitive($e))return $e;if(We.has($e))return We.get($e);if(Array.isArray($e)){const Xe=new Array($e.length);We.set($e,Xe);for(let Ye=0;Ye<$e.length;Ye++)Xe[Ye]=ke($e[Ye],Ye,Qe,We,qe);return Object.hasOwn($e,"index")&&(Xe.index=$e.index),Object.hasOwn($e,"input")&&(Xe.input=$e.input),Xe}if($e instanceof Date)return new Date($e.getTime());if($e instanceof RegExp){const Xe=new RegExp($e.source,$e.flags);return Xe.lastIndex=$e.lastIndex,Xe}if($e instanceof Map){const Xe=new Map;We.set($e,Xe);for(const[Ye,Ze]of $e)Xe.set(Ye,ke(Ze,Ye,Qe,We,qe));return Xe}if($e instanceof Set){const Xe=new Set;We.set($e,Xe);for(const Ye of $e)Xe.add(ke(Ye,void 0,Qe,We,qe));return Xe}if(typeof Buffer<"u"&&Buffer.isBuffer($e))return $e.subarray();if(Fe.isTypedArray($e)){const Xe=new(Object.getPrototypeOf($e)).constructor($e.length);We.set($e,Xe);for(let Ye=0;Ye<$e.length;Ye++)Xe[Ye]=ke($e[Ye],Ye,Qe,We,qe);return Xe}if($e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&$e instanceof SharedArrayBuffer)return $e.slice(0);if($e instanceof DataView){const Xe=new DataView($e.buffer.slice(0),$e.byteOffset,$e.byteLength);return We.set($e,Xe),Me(Xe,$e,Qe,We,qe),Xe}if(typeof File<"u"&&$e instanceof File){const Xe=new File([$e],$e.name,{type:$e.type});return We.set($e,Xe),Me(Xe,$e,Qe,We,qe),Xe}if($e instanceof Blob){const Xe=new Blob([$e],{type:$e.type});return We.set($e,Xe),Me(Xe,$e,Qe,We,qe),Xe}if($e instanceof Error){const Xe=new $e.constructor;return We.set($e,Xe),Xe.message=$e.message,Xe.name=$e.name,Xe.stack=$e.stack,Xe.cause=$e.cause,Me(Xe,$e,Qe,We,qe),Xe}if(typeof $e=="object"&&Ue($e)){const Xe=Object.create(Object.getPrototypeOf($e));return We.set($e,Xe),Me(Xe,$e,Qe,We,qe),Xe}return $e}function Me($e,He,Qe=$e,We,qe){const Ke=[...Object.keys(He),...Re.getSymbols(He)];for(let Xe=0;Xe<Ke.length;Xe++){const Ye=Ke[Xe],Ze=Object.getOwnPropertyDescriptor($e,Ye);(Ze==null||Ze.writable)&&($e[Ye]=ke(He[Ye],Ye,Qe,We,qe))}}function Ue($e){switch(je.getTag($e)){case Be.argumentsTag:case Be.arrayTag:case Be.arrayBufferTag:case Be.dataViewTag:case Be.booleanTag:case Be.dateTag:case Be.float32ArrayTag:case Be.float64ArrayTag:case Be.int8ArrayTag:case Be.int16ArrayTag:case Be.int32ArrayTag:case Be.mapTag:case Be.numberTag:case Be.objectTag:case Be.regexpTag:case Be.setTag:case Be.stringTag:case Be.symbolTag:case Be.uint8ArrayTag:case Be.uint8ClampedArrayTag:case Be.uint16ArrayTag:case Be.uint32ArrayTag:return!0;default:return!1}}Ce.cloneDeepWith=Oe,Ce.cloneDeepWithImpl=ke,Ce.copyProperties=Me})(cloneDeepWith$1)),cloneDeepWith$1}var hasRequiredCloneDeep$1;function requireCloneDeep$1(){return hasRequiredCloneDeep$1||(hasRequiredCloneDeep$1=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireCloneDeepWith$1();function je(Be){return Re.cloneDeepWithImpl(Be,void 0,Be,new Map,void 0)}Ce.cloneDeep=je})(cloneDeep$1)),cloneDeep$1}var hasRequiredMatches;function requireMatches(){return hasRequiredMatches||(hasRequiredMatches=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIsMatch(),je=requireCloneDeep$1();function Be(De){return De=je.cloneDeep(De),Fe=>Re.isMatch(Fe,De)}Ce.matches=Be})(matches)),matches}var matchesProperty={},cloneDeep={},cloneDeepWith={},hasRequiredCloneDeepWith;function requireCloneDeepWith(){return hasRequiredCloneDeepWith||(hasRequiredCloneDeepWith=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireCloneDeepWith$1(),je=requireTags();function Be(De,Fe){return Re.cloneDeepWith(De,(Oe,ke,Me,Ue)=>{const $e=Fe?.(Oe,ke,Me,Ue);if($e!==void 0)return $e;if(typeof De=="object")switch(Object.prototype.toString.call(De)){case je.numberTag:case je.stringTag:case je.booleanTag:{const He=new De.constructor(De?.valueOf());return Re.copyProperties(He,De),He}case je.argumentsTag:{const He={};return Re.copyProperties(He,De),He.length=De.length,He[Symbol.iterator]=De[Symbol.iterator],He}default:return}})}Ce.cloneDeepWith=Be})(cloneDeepWith)),cloneDeepWith}var hasRequiredCloneDeep;function requireCloneDeep(){return hasRequiredCloneDeep||(hasRequiredCloneDeep=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireCloneDeepWith();function je(Be){return Re.cloneDeepWith(Be)}Ce.cloneDeep=je})(cloneDeep)),cloneDeep}var has$1={},isIndex={},hasRequiredIsIndex;function requireIsIndex(){return hasRequiredIsIndex||(hasRequiredIsIndex=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=/^(?:0|[1-9]\d*)$/;function je(Be,De=Number.MAX_SAFE_INTEGER){switch(typeof Be){case"number":return Number.isInteger(Be)&&Be>=0&&Be<De;case"symbol":return!1;case"string":return Re.test(Be)}}Ce.isIndex=je})(isIndex)),isIndex}var isArguments={},hasRequiredIsArguments;function requireIsArguments(){return hasRequiredIsArguments||(hasRequiredIsArguments=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireGetTag();function je(Be){return Be!==null&&typeof Be=="object"&&Re.getTag(Be)==="[object Arguments]"}Ce.isArguments=je})(isArguments)),isArguments}var hasRequiredHas;function requireHas(){return hasRequiredHas||(hasRequiredHas=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIsDeepKey(),je=requireIsIndex(),Be=requireIsArguments(),De=requireToPath();function Fe(Oe,ke){let Me;if(Array.isArray(ke)?Me=ke:typeof ke=="string"&&Re.isDeepKey(ke)&&Oe?.[ke]==null?Me=De.toPath(ke):Me=[ke],Me.length===0)return!1;let Ue=Oe;for(let $e=0;$e<Me.length;$e++){const He=Me[$e];if((Ue==null||!Object.hasOwn(Ue,He))&&!((Array.isArray(Ue)||Be.isArguments(Ue))&&je.isIndex(He)&&He<Ue.length))return!1;Ue=Ue[He]}return!0}Ce.has=Fe})(has$1)),has$1}var hasRequiredMatchesProperty;function requireMatchesProperty(){return hasRequiredMatchesProperty||(hasRequiredMatchesProperty=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIsMatch(),je=requireToKey(),Be=requireCloneDeep(),De=requireGet$1(),Fe=requireHas();function Oe(ke,Me){switch(typeof ke){case"object":{Object.is(ke?.valueOf(),-0)&&(ke="-0");break}case"number":{ke=je.toKey(ke);break}}return Me=Be.cloneDeep(Me),function(Ue){const $e=De.get(Ue,ke);return $e===void 0?Fe.has(Ue,ke):Me===void 0?$e===void 0:Re.isMatch($e,Me)}}Ce.matchesProperty=Oe})(matchesProperty)),matchesProperty}var hasRequiredIteratee;function requireIteratee(){return hasRequiredIteratee||(hasRequiredIteratee=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIdentity(),je=requireProperty(),Be=requireMatches(),De=requireMatchesProperty();function Fe(Oe){if(Oe==null)return Re.identity;switch(typeof Oe){case"function":return Oe;case"object":return Array.isArray(Oe)&&Oe.length===2?De.matchesProperty(Oe[0],Oe[1]):Be.matches(Oe);case"string":case"symbol":case"number":return je.property(Oe)}}Ce.iteratee=Fe})(iteratee)),iteratee}var hasRequiredUniqBy$1;function requireUniqBy$1(){return hasRequiredUniqBy$1||(hasRequiredUniqBy$1=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireUniqBy$2(),je=requireIdentity(),Be=requireIsArrayLikeObject(),De=requireIteratee();function Fe(Oe,ke=je.identity){return Be.isArrayLikeObject(Oe)?Re.uniqBy(Array.from(Oe),De.iteratee(ke)):[]}Ce.uniqBy=Fe})(uniqBy$3)),uniqBy$3}var uniqBy$1,hasRequiredUniqBy;function requireUniqBy(){return hasRequiredUniqBy||(hasRequiredUniqBy=1,uniqBy$1=requireUniqBy$1().uniqBy),uniqBy$1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(Ce,Re,je){return Re===!0?uniqBy(Ce,je):typeof Re=="function"?uniqBy(Ce,Re):Ce}var withSelector$1={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var Ce=requireReact();function Re(He,Qe){return He===Qe&&(He!==0||1/He===1/Qe)||He!==He&&Qe!==Qe}var je=typeof Object.is=="function"?Object.is:Re,Be=Ce.useState,De=Ce.useEffect,Fe=Ce.useLayoutEffect,Oe=Ce.useDebugValue;function ke(He,Qe){var We=Qe(),qe=Be({inst:{value:We,getSnapshot:Qe}}),Ke=qe[0].inst,Xe=qe[1];return Fe(function(){Ke.value=We,Ke.getSnapshot=Qe,Me(Ke)&&Xe({inst:Ke})},[He,We,Qe]),De(function(){return Me(Ke)&&Xe({inst:Ke}),He(function(){Me(Ke)&&Xe({inst:Ke})})},[He]),Oe(We),We}function Me(He){var Qe=He.getSnapshot;He=He.value;try{var We=Qe();return!je(He,We)}catch{return!0}}function Ue(He,Qe){return Qe()}var $e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ue:ke;return useSyncExternalStoreShim_production.useSyncExternalStore=Ce.useSyncExternalStore!==void 0?Ce.useSyncExternalStore:$e,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var Ce=requireReact(),Re=requireShim();function je(Ue,$e){return Ue===$e&&(Ue!==0||1/Ue===1/$e)||Ue!==Ue&&$e!==$e}var Be=typeof Object.is=="function"?Object.is:je,De=Re.useSyncExternalStore,Fe=Ce.useRef,Oe=Ce.useEffect,ke=Ce.useMemo,Me=Ce.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(Ue,$e,He,Qe,We){var qe=Fe(null);if(qe.current===null){var Ke={hasValue:!1,value:null};qe.current=Ke}else Ke=qe.current;qe=ke(function(){function Ye(ar){if(!Ze){if(Ze=!0,Je=ar,ar=Qe(ar),We!==void 0&&Ke.hasValue){var nr=Ke.value;if(We(nr,ar))return tr=nr}return tr=ar}if(nr=tr,Be(Je,ar))return nr;var sr=Qe(ar);return We!==void 0&&We(nr,sr)?(Je=ar,nr):(Je=ar,tr=sr)}var Ze=!1,Je,tr,rr=He===void 0?null:He;return[function(){return Ye($e())},rr===null?void 0:function(){return Ye(rr())}]},[$e,He,Qe,We]);var Xe=De(Ue,qe[0],qe[1]);return Oe(function(){Ke.hasValue=!0,Ke.value=Xe},[Xe]),Me(Xe),Xe},withSelector_production}var hasRequiredWithSelector$1;function requireWithSelector$1(){return hasRequiredWithSelector$1||(hasRequiredWithSelector$1=1,withSelector$1.exports=requireWithSelector_production()),withSelector$1.exports}var withSelectorExports=requireWithSelector$1(),RechartsReduxContext=reactExports.createContext(null),noopDispatch=Ce=>Ce,useAppDispatch=()=>{var Ce=reactExports.useContext(RechartsReduxContext);return Ce?Ce.store.dispatch:noopDispatch},noop$8=()=>{},addNestedSubNoop=()=>noop$8,refEquality=(Ce,Re)=>Ce===Re;function useAppSelector(Ce){var Re=reactExports.useContext(RechartsReduxContext);return withSelectorExports.useSyncExternalStoreWithSelector(Re?Re.subscription.addNestedSub:addNestedSubNoop,Re?Re.store.getState:noop$8,Re?Re.store.getState:noop$8,Re?Ce:noop$8,refEquality)}function assertIsFunction(Ce,Re=`expected a function, instead received ${typeof Ce}`){if(typeof Ce!="function")throw new TypeError(Re)}function assertIsObject(Ce,Re=`expected an object, instead received ${typeof Ce}`){if(typeof Ce!="object")throw new TypeError(Re)}function assertIsArrayOfFunctions(Ce,Re="expected all items to be functions, instead received the following types: "){if(!Ce.every(je=>typeof je=="function")){const je=Ce.map(Be=>typeof Be=="function"?`function ${Be.name||"unnamed"}()`:typeof Be).join(", ");throw new TypeError(`${Re}[${je}]`)}}var ensureIsArray=Ce=>Array.isArray(Ce)?Ce:[Ce];function getDependencies(Ce){const Re=Array.isArray(Ce[0])?Ce[0]:Ce;return assertIsArrayOfFunctions(Re,"createSelector expects all input-selectors to be functions, but received the following types: "),Re}function collectInputSelectorResults(Ce,Re){const je=[],{length:Be}=Ce;for(let De=0;De<Be;De++)je.push(Ce[De].apply(null,Re));return je}var StrongRef=class{constructor(Ce){this.value=Ce}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(Ce,Re={}){let je=createCacheNode();const{resultEqualityCheck:Be}=Re;let De,Fe=0;function Oe(){let ke=je;const{length:Me}=arguments;for(let He=0,Qe=Me;He<Qe;He++){const We=arguments[He];if(typeof We=="function"||typeof We=="object"&&We!==null){let qe=ke.o;qe===null&&(ke.o=qe=new WeakMap);const Ke=qe.get(We);Ke===void 0?(ke=createCacheNode(),qe.set(We,ke)):ke=Ke}else{let qe=ke.p;qe===null&&(ke.p=qe=new Map);const Ke=qe.get(We);Ke===void 0?(ke=createCacheNode(),qe.set(We,ke)):ke=Ke}}const Ue=ke;let $e;if(ke.s===TERMINATED)$e=ke.v;else if($e=Ce.apply(null,arguments),Fe++,Be){const He=De?.deref?.()??De;He!=null&&Be(He,$e)&&($e=He,Fe!==0&&Fe--),De=typeof $e=="object"&&$e!==null||typeof $e=="function"?new Ref($e):$e}return Ue.s=TERMINATED,Ue.v=$e,$e}return Oe.clearCache=()=>{je=createCacheNode(),Oe.resetResultsCount()},Oe.resultsCount=()=>Fe,Oe.resetResultsCount=()=>{Fe=0},Oe}function createSelectorCreator(Ce,...Re){const je=typeof Ce=="function"?{memoize:Ce,memoizeOptions:Re}:Ce,Be=(...De)=>{let Fe=0,Oe=0,ke,Me={},Ue=De.pop();typeof Ue=="object"&&(Me=Ue,Ue=De.pop()),assertIsFunction(Ue,`createSelector expects an output function after the inputs, but received: [${typeof Ue}]`);const $e={...je,...Me},{memoize:He,memoizeOptions:Qe=[],argsMemoize:We=weakMapMemoize,argsMemoizeOptions:qe=[]}=$e,Ke=ensureIsArray(Qe),Xe=ensureIsArray(qe),Ye=getDependencies(De),Ze=He(function(){return Fe++,Ue.apply(null,arguments)},...Ke),Je=We(function(){Oe++;const rr=collectInputSelectorResults(Ye,arguments);return ke=Ze.apply(null,rr),ke},...Xe);return Object.assign(Je,{resultFunc:Ue,memoizedResultFunc:Ze,dependencies:Ye,dependencyRecomputations:()=>Oe,resetDependencyRecomputations:()=>{Oe=0},lastResult:()=>ke,recomputations:()=>Fe,resetRecomputations:()=>{Fe=0},memoize:He,argsMemoize:We})};return Object.assign(Be,{withTypes:()=>Be}),Be}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((Ce,Re=createSelector)=>{assertIsObject(Ce,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof Ce}`);const je=Object.keys(Ce),Be=je.map(Fe=>Ce[Fe]);return Re(Be,(...Fe)=>Fe.reduce((Oe,ke,Me)=>(Oe[je[Me]]=ke,Oe),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={},hasRequiredCompareValues;function requireCompareValues(){return hasRequiredCompareValues||(hasRequiredCompareValues=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(Be){return typeof Be=="symbol"?1:Be===null?2:Be===void 0?3:Be!==Be?4:0}const je=(Be,De,Fe)=>{if(Be!==De){const Oe=Re(Be),ke=Re(De);if(Oe===ke&&Oe===0){if(Be<De)return Fe==="desc"?1:-1;if(Be>De)return Fe==="desc"?-1:1}return Fe==="desc"?ke-Oe:Oe-ke}return 0};Ce.compareValues=je})(compareValues)),compareValues}var isKey={},isSymbol={},hasRequiredIsSymbol;function requireIsSymbol(){return hasRequiredIsSymbol||(hasRequiredIsSymbol=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){return typeof je=="symbol"||je instanceof Symbol}Ce.isSymbol=Re})(isSymbol)),isSymbol}var hasRequiredIsKey;function requireIsKey(){return hasRequiredIsKey||(hasRequiredIsKey=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIsSymbol(),je=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Be=/^\w*$/;function De(Fe,Oe){return Array.isArray(Fe)?!1:typeof Fe=="number"||typeof Fe=="boolean"||Fe==null||Re.isSymbol(Fe)?!0:typeof Fe=="string"&&(Be.test(Fe)||!je.test(Fe))||Oe!=null&&Object.hasOwn(Oe,Fe)}Ce.isKey=De})(isKey)),isKey}var hasRequiredOrderBy;function requireOrderBy(){return hasRequiredOrderBy||(hasRequiredOrderBy=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireCompareValues(),je=requireIsKey(),Be=requireToPath();function De(Fe,Oe,ke,Me){if(Fe==null)return[];ke=Me?void 0:ke,Array.isArray(Fe)||(Fe=Object.values(Fe)),Array.isArray(Oe)||(Oe=Oe==null?[null]:[Oe]),Oe.length===0&&(Oe=[null]),Array.isArray(ke)||(ke=ke==null?[]:[ke]),ke=ke.map(We=>String(We));const Ue=(We,qe)=>{let Ke=We;for(let Xe=0;Xe<qe.length&&Ke!=null;++Xe)Ke=Ke[qe[Xe]];return Ke},$e=(We,qe)=>qe==null||We==null?qe:typeof We=="object"&&"key"in We?Object.hasOwn(qe,We.key)?qe[We.key]:Ue(qe,We.path):typeof We=="function"?We(qe):Array.isArray(We)?Ue(qe,We):typeof qe=="object"?qe[We]:qe,He=Oe.map(We=>(Array.isArray(We)&&We.length===1&&(We=We[0]),We==null||typeof We=="function"||Array.isArray(We)||je.isKey(We)?We:{key:We,path:Be.toPath(We)}));return Fe.map(We=>({original:We,criteria:He.map(qe=>$e(qe,We))})).slice().sort((We,qe)=>{for(let Ke=0;Ke<He.length;Ke++){const Xe=Re.compareValues(We.criteria[Ke],qe.criteria[Ke],ke[Ke]);if(Xe!==0)return Xe}return 0}).map(We=>We.original)}Ce.orderBy=De})(orderBy)),orderBy}var flatten={},hasRequiredFlatten;function requireFlatten(){return hasRequiredFlatten||(hasRequiredFlatten=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je,Be=1){const De=[],Fe=Math.floor(Be),Oe=(ke,Me)=>{for(let Ue=0;Ue<ke.length;Ue++){const $e=ke[Ue];Array.isArray($e)&&Me<Fe?Oe($e,Me+1):De.push($e)}};return Oe(je,0),De}Ce.flatten=Re})(flatten)),flatten}var isIterateeCall={},hasRequiredIsIterateeCall;function requireIsIterateeCall(){return hasRequiredIsIterateeCall||(hasRequiredIsIterateeCall=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIsIndex(),je=requireIsArrayLike(),Be=requireIsObject(),De=requireEq();function Fe(Oe,ke,Me){return Be.isObject(Me)&&(typeof ke=="number"&&je.isArrayLike(Me)&&Re.isIndex(ke)&&ke<Me.length||typeof ke=="string"&&ke in Me)?De.eq(Me[ke],Oe):!1}Ce.isIterateeCall=Fe})(isIterateeCall)),isIterateeCall}var hasRequiredSortBy$1;function requireSortBy$1(){return hasRequiredSortBy$1||(hasRequiredSortBy$1=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireOrderBy(),je=requireFlatten(),Be=requireIsIterateeCall();function De(Fe,...Oe){const ke=Oe.length;return ke>1&&Be.isIterateeCall(Fe,Oe[0],Oe[1])?Oe=[]:ke>2&&Be.isIterateeCall(Oe[0],Oe[1],Oe[2])&&(Oe=[Oe[0]]),Re.orderBy(Fe,je.flatten(Oe),["asc"])}Ce.sortBy=De})(sortBy$2)),sortBy$2}var sortBy$1,hasRequiredSortBy;function requireSortBy(){return hasRequiredSortBy||(hasRequiredSortBy=1,sortBy$1=requireSortBy$1().sortBy),sortBy$1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);var selectLegendSettings=Ce=>Ce.legend.settings,selectLegendSize=Ce=>Ce.legend.size,selectAllLegendPayload2DArray=Ce=>Ce.legend.payload,selectLegendPayload=createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(Ce,Re)=>{var{itemSorter:je}=Re,Be=Ce.flat(1);return je?sortBy(Be,je):Be});function useLegendPayload(){return useAppSelector(selectLegendPayload)}var EPS$1=1;function useElementOffset(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[Re,je]=reactExports.useState({height:0,left:0,top:0,width:0}),Be=reactExports.useCallback(De=>{if(De!=null){var Fe=De.getBoundingClientRect(),Oe={height:Fe.height,left:Fe.left,top:Fe.top,width:Fe.width};(Math.abs(Oe.height-Re.height)>EPS$1||Math.abs(Oe.left-Re.left)>EPS$1||Math.abs(Oe.top-Re.top)>EPS$1||Math.abs(Oe.width-Re.width)>EPS$1)&&je({height:Oe.height,left:Oe.left,top:Oe.top,width:Oe.width})}},[Re.width,Re.height,Re.top,Re.left,...Ce]);return[Re,Be]}function formatProdErrorMessage$1(Ce){return`Minified Redux error #${Ce}; visit https://redux.js.org/Errors?code=${Ce} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$6(Ce){if(typeof Ce!="object"||Ce===null)return!1;let Re=Ce;for(;Object.getPrototypeOf(Re)!==null;)Re=Object.getPrototypeOf(Re);return Object.getPrototypeOf(Ce)===Re||Object.getPrototypeOf(Ce)===null}function createStore(Ce,Re,je){if(typeof Ce!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof Re=="function"&&typeof je=="function"||typeof je=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof Re=="function"&&typeof je>"u"&&(je=Re,Re=void 0),typeof je<"u"){if(typeof je!="function")throw new Error(formatProdErrorMessage$1(1));return je(createStore)(Ce,Re)}let Be=Ce,De=Re,Fe=new Map,Oe=Fe,ke=0,Me=!1;function Ue(){Oe===Fe&&(Oe=new Map,Fe.forEach((Xe,Ye)=>{Oe.set(Ye,Xe)}))}function $e(){if(Me)throw new Error(formatProdErrorMessage$1(3));return De}function He(Xe){if(typeof Xe!="function")throw new Error(formatProdErrorMessage$1(4));if(Me)throw new Error(formatProdErrorMessage$1(5));let Ye=!0;Ue();const Ze=ke++;return Oe.set(Ze,Xe),function(){if(Ye){if(Me)throw new Error(formatProdErrorMessage$1(6));Ye=!1,Ue(),Oe.delete(Ze),Fe=null}}}function Qe(Xe){if(!isPlainObject$6(Xe))throw new Error(formatProdErrorMessage$1(7));if(typeof Xe.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof Xe.type!="string")throw new Error(formatProdErrorMessage$1(17));if(Me)throw new Error(formatProdErrorMessage$1(9));try{Me=!0,De=Be(De,Xe)}finally{Me=!1}return(Fe=Oe).forEach(Ze=>{Ze()}),Xe}function We(Xe){if(typeof Xe!="function")throw new Error(formatProdErrorMessage$1(10));Be=Xe,Qe({type:actionTypes_default.REPLACE})}function qe(){const Xe=He;return{subscribe(Ye){if(typeof Ye!="object"||Ye===null)throw new Error(formatProdErrorMessage$1(11));function Ze(){const tr=Ye;tr.next&&tr.next($e())}return Ze(),{unsubscribe:Xe(Ze)}},[symbol_observable_default](){return this}}}return Qe({type:actionTypes_default.INIT}),{dispatch:Qe,subscribe:He,getState:$e,replaceReducer:We,[symbol_observable_default]:qe}}function assertReducerShape(Ce){Object.keys(Ce).forEach(Re=>{const je=Ce[Re];if(typeof je(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof je(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(Ce){const Re=Object.keys(Ce),je={};for(let Fe=0;Fe<Re.length;Fe++){const Oe=Re[Fe];typeof Ce[Oe]=="function"&&(je[Oe]=Ce[Oe])}const Be=Object.keys(je);let De;try{assertReducerShape(je)}catch(Fe){De=Fe}return function(Oe={},ke){if(De)throw De;let Me=!1;const Ue={};for(let $e=0;$e<Be.length;$e++){const He=Be[$e],Qe=je[He],We=Oe[He],qe=Qe(We,ke);if(typeof qe>"u")throw ke&&ke.type,new Error(formatProdErrorMessage$1(14));Ue[He]=qe,Me=Me||qe!==We}return Me=Me||Be.length!==Object.keys(Oe).length,Me?Ue:Oe}}function compose$2(...Ce){return Ce.length===0?Re=>Re:Ce.length===1?Ce[0]:Ce.reduce((Re,je)=>(...Be)=>Re(je(...Be)))}function applyMiddleware(...Ce){return Re=>(je,Be)=>{const De=Re(je,Be);let Fe=()=>{throw new Error(formatProdErrorMessage$1(15))};const Oe={getState:De.getState,dispatch:(Me,...Ue)=>Fe(Me,...Ue)},ke=Ce.map(Me=>Me(Oe));return Fe=compose$2(...ke)(De.dispatch),{...De,dispatch:Fe}}}function isAction(Ce){return isPlainObject$6(Ce)&&"type"in Ce&&typeof Ce.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(Ce,...Re){throw new Error(`[Immer] minified error nr: ${Ce}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(Ce){return!!Ce&&!!Ce[DRAFT_STATE]}function isDraftable(Ce){return Ce?isPlainObject$5(Ce)||Array.isArray(Ce)||!!Ce[DRAFTABLE]||!!Ce.constructor?.[DRAFTABLE]||isMap(Ce)||isSet(Ce):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject$5(Ce){if(!Ce||typeof Ce!="object")return!1;const Re=getPrototypeOf(Ce);if(Re===null)return!0;const je=Object.hasOwnProperty.call(Re,"constructor")&&Re.constructor;return je===Object?!0:typeof je=="function"&&Function.toString.call(je)===objectCtorString}function each(Ce,Re){getArchtype(Ce)===0?Reflect.ownKeys(Ce).forEach(je=>{Re(je,Ce[je],Ce)}):Ce.forEach((je,Be)=>Re(Be,je,Ce))}function getArchtype(Ce){const Re=Ce[DRAFT_STATE];return Re?Re.type_:Array.isArray(Ce)?1:isMap(Ce)?2:isSet(Ce)?3:0}function has(Ce,Re){return getArchtype(Ce)===2?Ce.has(Re):Object.prototype.hasOwnProperty.call(Ce,Re)}function set(Ce,Re,je){const Be=getArchtype(Ce);Be===2?Ce.set(Re,je):Be===3?Ce.add(je):Ce[Re]=je}function is(Ce,Re){return Ce===Re?Ce!==0||1/Ce===1/Re:Ce!==Ce&&Re!==Re}function isMap(Ce){return Ce instanceof Map}function isSet(Ce){return Ce instanceof Set}function latest(Ce){return Ce.copy_||Ce.base_}function shallowCopy(Ce,Re){if(isMap(Ce))return new Map(Ce);if(isSet(Ce))return new Set(Ce);if(Array.isArray(Ce))return Array.prototype.slice.call(Ce);const je=isPlainObject$5(Ce);if(Re===!0||Re==="class_only"&&!je){const Be=Object.getOwnPropertyDescriptors(Ce);delete Be[DRAFT_STATE];let De=Reflect.ownKeys(Be);for(let Fe=0;Fe<De.length;Fe++){const Oe=De[Fe],ke=Be[Oe];ke.writable===!1&&(ke.writable=!0,ke.configurable=!0),(ke.get||ke.set)&&(Be[Oe]={configurable:!0,writable:!0,enumerable:ke.enumerable,value:Ce[Oe]})}return Object.create(getPrototypeOf(Ce),Be)}else{const Be=getPrototypeOf(Ce);if(Be!==null&&je)return{...Ce};const De=Object.create(Be);return Object.assign(De,Ce)}}function freeze(Ce,Re=!1){return isFrozen(Ce)||isDraft(Ce)||!isDraftable(Ce)||(getArchtype(Ce)>1&&(Ce.set=Ce.add=Ce.clear=Ce.delete=dontMutateFrozenCollections),Object.freeze(Ce),Re&&Object.entries(Ce).forEach(([je,Be])=>freeze(Be,!0))),Ce}function dontMutateFrozenCollections(){die(2)}function isFrozen(Ce){return Object.isFrozen(Ce)}var plugins={};function getPlugin(Ce){const Re=plugins[Ce];return Re||die(0,Ce),Re}var currentScope;function getCurrentScope(){return currentScope}function createScope(Ce,Re){return{drafts_:[],parent_:Ce,immer_:Re,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(Ce,Re){Re&&(getPlugin("Patches"),Ce.patches_=[],Ce.inversePatches_=[],Ce.patchListener_=Re)}function revokeScope(Ce){leaveScope(Ce),Ce.drafts_.forEach(revokeDraft),Ce.drafts_=null}function leaveScope(Ce){Ce===currentScope&&(currentScope=Ce.parent_)}function enterScope(Ce){return currentScope=createScope(currentScope,Ce)}function revokeDraft(Ce){const Re=Ce[DRAFT_STATE];Re.type_===0||Re.type_===1?Re.revoke_():Re.revoked_=!0}function processResult(Ce,Re){Re.unfinalizedDrafts_=Re.drafts_.length;const je=Re.drafts_[0];return Ce!==void 0&&Ce!==je?(je[DRAFT_STATE].modified_&&(revokeScope(Re),die(4)),isDraftable(Ce)&&(Ce=finalize(Re,Ce),Re.parent_||maybeFreeze(Re,Ce)),Re.patches_&&getPlugin("Patches").generateReplacementPatches_(je[DRAFT_STATE].base_,Ce,Re.patches_,Re.inversePatches_)):Ce=finalize(Re,je,[]),revokeScope(Re),Re.patches_&&Re.patchListener_(Re.patches_,Re.inversePatches_),Ce!==NOTHING?Ce:void 0}function finalize(Ce,Re,je){if(isFrozen(Re))return Re;const Be=Re[DRAFT_STATE];if(!Be)return each(Re,(De,Fe)=>finalizeProperty(Ce,Be,Re,De,Fe,je)),Re;if(Be.scope_!==Ce)return Re;if(!Be.modified_)return maybeFreeze(Ce,Be.base_,!0),Be.base_;if(!Be.finalized_){Be.finalized_=!0,Be.scope_.unfinalizedDrafts_--;const De=Be.copy_;let Fe=De,Oe=!1;Be.type_===3&&(Fe=new Set(De),De.clear(),Oe=!0),each(Fe,(ke,Me)=>finalizeProperty(Ce,Be,De,ke,Me,je,Oe)),maybeFreeze(Ce,De,!1),je&&Ce.patches_&&getPlugin("Patches").generatePatches_(Be,je,Ce.patches_,Ce.inversePatches_)}return Be.copy_}function finalizeProperty(Ce,Re,je,Be,De,Fe,Oe){if(isDraft(De)){const ke=Fe&&Re&&Re.type_!==3&&!has(Re.assigned_,Be)?Fe.concat(Be):void 0,Me=finalize(Ce,De,ke);if(set(je,Be,Me),isDraft(Me))Ce.canAutoFreeze_=!1;else return}else Oe&&je.add(De);if(isDraftable(De)&&!isFrozen(De)){if(!Ce.immer_.autoFreeze_&&Ce.unfinalizedDrafts_<1)return;finalize(Ce,De),(!Re||!Re.scope_.parent_)&&typeof Be!="symbol"&&Object.prototype.propertyIsEnumerable.call(je,Be)&&maybeFreeze(Ce,De)}}function maybeFreeze(Ce,Re,je=!1){!Ce.parent_&&Ce.immer_.autoFreeze_&&Ce.canAutoFreeze_&&freeze(Re,je)}function createProxyProxy(Ce,Re){const je=Array.isArray(Ce),Be={type_:je?1:0,scope_:Re?Re.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:Re,base_:Ce,draft_:null,copy_:null,revoke_:null,isManual_:!1};let De=Be,Fe=objectTraps;je&&(De=[Be],Fe=arrayTraps);const{revoke:Oe,proxy:ke}=Proxy.revocable(De,Fe);return Be.draft_=ke,Be.revoke_=Oe,ke}var objectTraps={get(Ce,Re){if(Re===DRAFT_STATE)return Ce;const je=latest(Ce);if(!has(je,Re))return readPropFromProto(Ce,je,Re);const Be=je[Re];return Ce.finalized_||!isDraftable(Be)?Be:Be===peek$1(Ce.base_,Re)?(prepareCopy(Ce),Ce.copy_[Re]=createProxy(Be,Ce)):Be},has(Ce,Re){return Re in latest(Ce)},ownKeys(Ce){return Reflect.ownKeys(latest(Ce))},set(Ce,Re,je){const Be=getDescriptorFromProto(latest(Ce),Re);if(Be?.set)return Be.set.call(Ce.draft_,je),!0;if(!Ce.modified_){const De=peek$1(latest(Ce),Re),Fe=De?.[DRAFT_STATE];if(Fe&&Fe.base_===je)return Ce.copy_[Re]=je,Ce.assigned_[Re]=!1,!0;if(is(je,De)&&(je!==void 0||has(Ce.base_,Re)))return!0;prepareCopy(Ce),markChanged(Ce)}return Ce.copy_[Re]===je&&(je!==void 0||Re in Ce.copy_)||Number.isNaN(je)&&Number.isNaN(Ce.copy_[Re])||(Ce.copy_[Re]=je,Ce.assigned_[Re]=!0),!0},deleteProperty(Ce,Re){return peek$1(Ce.base_,Re)!==void 0||Re in Ce.base_?(Ce.assigned_[Re]=!1,prepareCopy(Ce),markChanged(Ce)):delete Ce.assigned_[Re],Ce.copy_&&delete Ce.copy_[Re],!0},getOwnPropertyDescriptor(Ce,Re){const je=latest(Ce),Be=Reflect.getOwnPropertyDescriptor(je,Re);return Be&&{writable:!0,configurable:Ce.type_!==1||Re!=="length",enumerable:Be.enumerable,value:je[Re]}},defineProperty(){die(11)},getPrototypeOf(Ce){return getPrototypeOf(Ce.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(Ce,Re)=>{arrayTraps[Ce]=function(){return arguments[0]=arguments[0][0],Re.apply(this,arguments)}});arrayTraps.deleteProperty=function(Ce,Re){return arrayTraps.set.call(this,Ce,Re,void 0)};arrayTraps.set=function(Ce,Re,je){return objectTraps.set.call(this,Ce[0],Re,je,Ce[0])};function peek$1(Ce,Re){const je=Ce[DRAFT_STATE];return(je?latest(je):Ce)[Re]}function readPropFromProto(Ce,Re,je){const Be=getDescriptorFromProto(Re,je);return Be?"value"in Be?Be.value:Be.get?.call(Ce.draft_):void 0}function getDescriptorFromProto(Ce,Re){if(!(Re in Ce))return;let je=getPrototypeOf(Ce);for(;je;){const Be=Object.getOwnPropertyDescriptor(je,Re);if(Be)return Be;je=getPrototypeOf(je)}}function markChanged(Ce){Ce.modified_||(Ce.modified_=!0,Ce.parent_&&markChanged(Ce.parent_))}function prepareCopy(Ce){Ce.copy_||(Ce.copy_=shallowCopy(Ce.base_,Ce.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(Ce){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(Re,je,Be)=>{if(typeof Re=="function"&&typeof je!="function"){const Fe=je;je=Re;const Oe=this;return function(Me=Fe,...Ue){return Oe.produce(Me,$e=>je.call(this,$e,...Ue))}}typeof je!="function"&&die(6),Be!==void 0&&typeof Be!="function"&&die(7);let De;if(isDraftable(Re)){const Fe=enterScope(this),Oe=createProxy(Re,void 0);let ke=!0;try{De=je(Oe),ke=!1}finally{ke?revokeScope(Fe):leaveScope(Fe)}return usePatchesInScope(Fe,Be),processResult(De,Fe)}else if(!Re||typeof Re!="object"){if(De=je(Re),De===void 0&&(De=Re),De===NOTHING&&(De=void 0),this.autoFreeze_&&freeze(De,!0),Be){const Fe=[],Oe=[];getPlugin("Patches").generateReplacementPatches_(Re,De,Fe,Oe),Be(Fe,Oe)}return De}else die(1,Re)},this.produceWithPatches=(Re,je)=>{if(typeof Re=="function")return(Oe,...ke)=>this.produceWithPatches(Oe,Me=>Re(Me,...ke));let Be,De;return[this.produce(Re,je,(Oe,ke)=>{Be=Oe,De=ke}),Be,De]},typeof Ce?.autoFreeze=="boolean"&&this.setAutoFreeze(Ce.autoFreeze),typeof Ce?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(Ce.useStrictShallowCopy)}createDraft(Ce){isDraftable(Ce)||die(8),isDraft(Ce)&&(Ce=current(Ce));const Re=enterScope(this),je=createProxy(Ce,void 0);return je[DRAFT_STATE].isManual_=!0,leaveScope(Re),je}finishDraft(Ce,Re){const je=Ce&&Ce[DRAFT_STATE];(!je||!je.isManual_)&&die(9);const{scope_:Be}=je;return usePatchesInScope(Be,Re),processResult(void 0,Be)}setAutoFreeze(Ce){this.autoFreeze_=Ce}setUseStrictShallowCopy(Ce){this.useStrictShallowCopy_=Ce}applyPatches(Ce,Re){let je;for(je=Re.length-1;je>=0;je--){const De=Re[je];if(De.path.length===0&&De.op==="replace"){Ce=De.value;break}}je>-1&&(Re=Re.slice(je+1));const Be=getPlugin("Patches").applyPatches_;return isDraft(Ce)?Be(Ce,Re):this.produce(Ce,De=>Be(De,Re))}};function createProxy(Ce,Re){const je=isMap(Ce)?getPlugin("MapSet").proxyMap_(Ce,Re):isSet(Ce)?getPlugin("MapSet").proxySet_(Ce,Re):createProxyProxy(Ce,Re);return(Re?Re.scope_:getCurrentScope()).drafts_.push(je),je}function current(Ce){return isDraft(Ce)||die(10,Ce),currentImpl(Ce)}function currentImpl(Ce){if(!isDraftable(Ce)||isFrozen(Ce))return Ce;const Re=Ce[DRAFT_STATE];let je;if(Re){if(!Re.modified_)return Re.base_;Re.finalized_=!0,je=shallowCopy(Ce,Re.scope_.immer_.useStrictShallowCopy_)}else je=shallowCopy(Ce,!0);return each(je,(Be,De)=>{set(je,Be,currentImpl(De))}),Re&&(Re.finalized_=!1),je}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function castDraft(Ce){return Ce}function createThunkMiddleware(Ce){return({dispatch:je,getState:Be})=>De=>Fe=>typeof Fe=="function"?Fe(je,Be,Ce):De(Fe)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$2:compose$2.apply(null,arguments)};function createAction(Ce,Re){function je(...Be){if(Re){let De=Re(...Be);if(!De)throw new Error(formatProdErrorMessage(0));return{type:Ce,payload:De.payload,..."meta"in De&&{meta:De.meta},..."error"in De&&{error:De.error}}}return{type:Ce,payload:Be[0]}}return je.toString=()=>`${Ce}`,je.type=Ce,je.match=Be=>isAction(Be)&&Be.type===Ce,je}var Tuple=class vA extends Array{constructor(...Re){super(...Re),Object.setPrototypeOf(this,vA.prototype)}static get[Symbol.species](){return vA}concat(...Re){return super.concat.apply(this,Re)}prepend(...Re){return Re.length===1&&Array.isArray(Re[0])?new vA(...Re[0].concat(this)):new vA(...Re.concat(this))}};function freezeDraftable(Ce){return isDraftable(Ce)?produce(Ce,()=>{}):Ce}function getOrInsertComputed(Ce,Re,je){return Ce.has(Re)?Ce.get(Re):Ce.set(Re,je(Re)).get(Re)}function isBoolean(Ce){return typeof Ce=="boolean"}var buildGetDefaultMiddleware=()=>function(Re){const{thunk:je=!0,immutableCheck:Be=!0,serializableCheck:De=!0,actionCreatorCheck:Fe=!0}=Re??{};let Oe=new Tuple;return je&&(isBoolean(je)?Oe.push(thunk):Oe.push(withExtraArgument(je.extraArgument))),Oe},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=Ce=>Re=>{setTimeout(Re,Ce)},autoBatchEnhancer=(Ce={type:"raf"})=>Re=>(...je)=>{const Be=Re(...je);let De=!0,Fe=!1,Oe=!1;const ke=new Set,Me=Ce.type==="tick"?queueMicrotask:Ce.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):Ce.type==="callback"?Ce.queueNotification:createQueueWithTimer(Ce.timeout),Ue=()=>{Oe=!1,Fe&&(Fe=!1,ke.forEach($e=>$e()))};return Object.assign({},Be,{subscribe($e){const He=()=>De&&$e(),Qe=Be.subscribe(He);return ke.add($e),()=>{Qe(),ke.delete($e)}},dispatch($e){try{return De=!$e?.meta?.[SHOULD_AUTOBATCH],Fe=!De,Fe&&(Oe||(Oe=!0,Me(Ue))),Be.dispatch($e)}finally{De=!0}}})},buildGetDefaultEnhancers=Ce=>function(je){const{autoBatch:Be=!0}=je??{};let De=new Tuple(Ce);return Be&&De.push(autoBatchEnhancer(typeof Be=="object"?Be:void 0)),De};function configureStore(Ce){const Re=buildGetDefaultMiddleware(),{reducer:je=void 0,middleware:Be,devTools:De=!0,preloadedState:Fe=void 0,enhancers:Oe=void 0}=Ce||{};let ke;if(typeof je=="function")ke=je;else if(isPlainObject$6(je))ke=combineReducers(je);else throw new Error(formatProdErrorMessage(1));let Me;typeof Be=="function"?Me=Be(Re):Me=Re();let Ue=compose$2;De&&(Ue=composeWithDevTools({trace:!1,...typeof De=="object"&&De}));const $e=applyMiddleware(...Me),He=buildGetDefaultEnhancers($e);let Qe=typeof Oe=="function"?Oe(He):He();const We=Ue(...Qe);return createStore(ke,Fe,We)}function executeReducerBuilderCallback(Ce){const Re={},je=[];let Be;const De={addCase(Fe,Oe){const ke=typeof Fe=="string"?Fe:Fe.type;if(!ke)throw new Error(formatProdErrorMessage(28));if(ke in Re)throw new Error(formatProdErrorMessage(29));return Re[ke]=Oe,De},addMatcher(Fe,Oe){return je.push({matcher:Fe,reducer:Oe}),De},addDefaultCase(Fe){return Be=Fe,De}};return Ce(De),[Re,je,Be]}function isStateFunction(Ce){return typeof Ce=="function"}function createReducer(Ce,Re){let[je,Be,De]=executeReducerBuilderCallback(Re),Fe;if(isStateFunction(Ce))Fe=()=>freezeDraftable(Ce());else{const ke=freezeDraftable(Ce);Fe=()=>ke}function Oe(ke=Fe(),Me){let Ue=[je[Me.type],...Be.filter(({matcher:$e})=>$e(Me)).map(({reducer:$e})=>$e)];return Ue.filter($e=>!!$e).length===0&&(Ue=[De]),Ue.reduce(($e,He)=>{if(He)if(isDraft($e)){const We=He($e,Me);return We===void 0?$e:We}else{if(isDraftable($e))return produce($e,Qe=>He(Qe,Me));{const Qe=He($e,Me);if(Qe===void 0){if($e===null)return $e;throw Error("A case reducer on a non-draftable value must not return undefined")}return Qe}}return $e},ke)}return Oe.getInitialState=Fe,Oe}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(Ce=21)=>{let Re="",je=Ce;for(;je--;)Re+=urlAlphabet[Math.random()*64|0];return Re},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(Ce,Re){return`${Ce}/${Re}`}function buildCreateSlice({creators:Ce}={}){const Re=Ce?.asyncThunk?.[asyncThunkSymbol];return function(Be){const{name:De,reducerPath:Fe=De}=Be;if(!De)throw new Error(formatProdErrorMessage(11));const Oe=(typeof Be.reducers=="function"?Be.reducers(buildReducerCreators()):Be.reducers)||{},ke=Object.keys(Oe),Me={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},Ue={addCase(Je,tr){const rr=typeof Je=="string"?Je:Je.type;if(!rr)throw new Error(formatProdErrorMessage(12));if(rr in Me.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return Me.sliceCaseReducersByType[rr]=tr,Ue},addMatcher(Je,tr){return Me.sliceMatchers.push({matcher:Je,reducer:tr}),Ue},exposeAction(Je,tr){return Me.actionCreators[Je]=tr,Ue},exposeCaseReducer(Je,tr){return Me.sliceCaseReducersByName[Je]=tr,Ue}};ke.forEach(Je=>{const tr=Oe[Je],rr={reducerName:Je,type:getType(De,Je),createNotation:typeof Be.reducers=="function"};isAsyncThunkSliceReducerDefinition(tr)?handleThunkCaseReducerDefinition(rr,tr,Ue,Re):handleNormalReducerDefinition(rr,tr,Ue)});function $e(){const[Je={},tr=[],rr=void 0]=typeof Be.extraReducers=="function"?executeReducerBuilderCallback(Be.extraReducers):[Be.extraReducers],ar={...Je,...Me.sliceCaseReducersByType};return createReducer(Be.initialState,nr=>{for(let sr in ar)nr.addCase(sr,ar[sr]);for(let sr of Me.sliceMatchers)nr.addMatcher(sr.matcher,sr.reducer);for(let sr of tr)nr.addMatcher(sr.matcher,sr.reducer);rr&&nr.addDefaultCase(rr)})}const He=Je=>Je,Qe=new Map,We=new WeakMap;let qe;function Ke(Je,tr){return qe||(qe=$e()),qe(Je,tr)}function Xe(){return qe||(qe=$e()),qe.getInitialState()}function Ye(Je,tr=!1){function rr(nr){let sr=nr[Je];return typeof sr>"u"&&tr&&(sr=getOrInsertComputed(We,rr,Xe)),sr}function ar(nr=He){const sr=getOrInsertComputed(Qe,tr,()=>new WeakMap);return getOrInsertComputed(sr,nr,()=>{const dr={};for(const[_r,fr]of Object.entries(Be.selectors??{}))dr[_r]=wrapSelector(fr,nr,()=>getOrInsertComputed(We,nr,Xe),tr);return dr})}return{reducerPath:Je,getSelectors:ar,get selectors(){return ar(rr)},selectSlice:rr}}const Ze={name:De,reducer:Ke,actions:Me.actionCreators,caseReducers:Me.sliceCaseReducersByName,getInitialState:Xe,...Ye(Fe),injectInto(Je,{reducerPath:tr,...rr}={}){const ar=tr??Fe;return Je.inject({reducerPath:ar,reducer:Ke},rr),{...Ze,...Ye(ar,!0)}}};return Ze}}function wrapSelector(Ce,Re,je,Be){function De(Fe,...Oe){let ke=Re(Fe);return typeof ke>"u"&&Be&&(ke=je()),Ce(ke,...Oe)}return De.unwrapped=Ce,De}var createSlice=buildCreateSlice();function buildReducerCreators(){function Ce(Re,je){return{_reducerDefinitionType:"asyncThunk",payloadCreator:Re,...je}}return Ce.withTypes=()=>Ce,{reducer(Re){return Object.assign({[Re.name](...je){return Re(...je)}}[Re.name],{_reducerDefinitionType:"reducer"})},preparedReducer(Re,je){return{_reducerDefinitionType:"reducerWithPrepare",prepare:Re,reducer:je}},asyncThunk:Ce}}function handleNormalReducerDefinition({type:Ce,reducerName:Re,createNotation:je},Be,De){let Fe,Oe;if("reducer"in Be){if(je&&!isCaseReducerWithPrepareDefinition(Be))throw new Error(formatProdErrorMessage(17));Fe=Be.reducer,Oe=Be.prepare}else Fe=Be;De.addCase(Ce,Fe).exposeCaseReducer(Re,Fe).exposeAction(Re,Oe?createAction(Ce,Oe):createAction(Ce))}function isAsyncThunkSliceReducerDefinition(Ce){return Ce._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(Ce){return Ce._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:Ce,reducerName:Re},je,Be,De){if(!De)throw new Error(formatProdErrorMessage(18));const{payloadCreator:Fe,fulfilled:Oe,pending:ke,rejected:Me,settled:Ue,options:$e}=je,He=De(Ce,Fe,$e);Be.exposeAction(Re,He),Oe&&Be.addCase(He.fulfilled,Oe),ke&&Be.addCase(He.pending,ke),Me&&Be.addCase(He.rejected,Me),Ue&&Be.addMatcher(He.settled,Ue),Be.exposeCaseReducer(Re,{fulfilled:Oe||noop$7,pending:ke||noop$7,rejected:Me||noop$7,settled:Ue||noop$7})}function noop$7(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(Ce){this.code=Ce,this.message=`${task} ${cancelled} (reason: ${Ce})`}name="TaskAbortError";message},assertFunction=(Ce,Re)=>{if(typeof Ce!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(Ce,Re=noop2)=>(Ce.catch(Re),Ce),addAbortSignalListener=(Ce,Re)=>(Ce.addEventListener("abort",Re,{once:!0}),()=>Ce.removeEventListener("abort",Re)),abortControllerWithReason=(Ce,Re)=>{const je=Ce.signal;je.aborted||("reason"in je||Object.defineProperty(je,"reason",{enumerable:!0,value:Re,configurable:!0,writable:!0}),Ce.abort(Re))},validateActive=Ce=>{if(Ce.aborted){const{reason:Re}=Ce;throw new TaskAbortError(Re)}};function raceWithSignal(Ce,Re){let je=noop2;return new Promise((Be,De)=>{const Fe=()=>De(new TaskAbortError(Ce.reason));if(Ce.aborted){Fe();return}je=addAbortSignalListener(Ce,Fe),Re.finally(()=>je()).then(Be,De)}).finally(()=>{je=noop2})}var runTask=async(Ce,Re)=>{try{return await Promise.resolve(),{status:"ok",value:await Ce()}}catch(je){return{status:je instanceof TaskAbortError?"cancelled":"rejected",error:je}}finally{Re?.()}},createPause=Ce=>Re=>catchRejection(raceWithSignal(Ce,Re).then(je=>(validateActive(Ce),je))),createDelay=Ce=>{const Re=createPause(Ce);return je=>Re(new Promise(Be=>setTimeout(Be,je)))},{assign:assign$1}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(Ce,Re)=>{const je=Be=>addAbortSignalListener(Ce,()=>abortControllerWithReason(Be,Ce.reason));return(Be,De)=>{assertFunction(Be);const Fe=new AbortController;je(Fe);const Oe=runTask(async()=>{validateActive(Ce),validateActive(Fe.signal);const ke=await Be({pause:createPause(Fe.signal),delay:createDelay(Fe.signal),signal:Fe.signal});return validateActive(Fe.signal),ke},()=>abortControllerWithReason(Fe,taskCompleted));return De?.autoJoin&&Re.push(Oe.catch(noop2)),{result:createPause(Ce)(Oe),cancel(){abortControllerWithReason(Fe,taskCancelled)}}}},createTakePattern=(Ce,Re)=>{const je=async(Be,De)=>{validateActive(Re);let Fe=()=>{};const ke=[new Promise((Me,Ue)=>{let $e=Ce({predicate:Be,effect:(He,Qe)=>{Qe.unsubscribe(),Me([He,Qe.getState(),Qe.getOriginalState()])}});Fe=()=>{$e(),Ue()}})];De!=null&&ke.push(new Promise(Me=>setTimeout(Me,De,null)));try{const Me=await raceWithSignal(Re,Promise.race(ke));return validateActive(Re),Me}finally{Fe()}};return(Be,De)=>catchRejection(je(Be,De))},getListenerEntryPropsFrom=Ce=>{let{type:Re,actionCreator:je,matcher:Be,predicate:De,effect:Fe}=Ce;if(Re)De=createAction(Re).match;else if(je)Re=je.type,De=je.match;else if(Be)De=Be;else if(!De)throw new Error(formatProdErrorMessage(21));return assertFunction(Fe),{predicate:De,type:Re,effect:Fe}},createListenerEntry=assign$1(Ce=>{const{type:Re,predicate:je,effect:Be}=getListenerEntryPropsFrom(Ce);return{id:nanoid(),effect:Be,type:Re,predicate:je,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(Ce,Re)=>{const{type:je,effect:Be,predicate:De}=getListenerEntryPropsFrom(Re);return Array.from(Ce.values()).find(Fe=>(typeof je=="string"?Fe.type===je:Fe.predicate===De)&&Fe.effect===Be)},cancelActiveListeners=Ce=>{Ce.pending.forEach(Re=>{abortControllerWithReason(Re,listenerCancelled)})},createClearListenerMiddleware=Ce=>()=>{Ce.forEach(cancelActiveListeners),Ce.clear()},safelyNotifyError=(Ce,Re,je)=>{try{Ce(Re,je)}catch(Be){setTimeout(()=>{throw Be},0)}},addListener=assign$1(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign$1(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(...Ce)=>{console.error(`${alm}/error`,...Ce)},createListenerMiddleware=(Ce={})=>{const Re=new Map,{extra:je,onError:Be=defaultErrorHandler}=Ce;assertFunction(Be);const De=$e=>($e.unsubscribe=()=>Re.delete($e.id),Re.set($e.id,$e),He=>{$e.unsubscribe(),He?.cancelActive&&cancelActiveListeners($e)}),Fe=$e=>{const He=findListenerEntry(Re,$e)??createListenerEntry($e);return De(He)};assign$1(Fe,{withTypes:()=>Fe});const Oe=$e=>{const He=findListenerEntry(Re,$e);return He&&(He.unsubscribe(),$e.cancelActive&&cancelActiveListeners(He)),!!He};assign$1(Oe,{withTypes:()=>Oe});const ke=async($e,He,Qe,We)=>{const qe=new AbortController,Ke=createTakePattern(Fe,qe.signal),Xe=[];try{$e.pending.add(qe),await Promise.resolve($e.effect(He,assign$1({},Qe,{getOriginalState:We,condition:(Ye,Ze)=>Ke(Ye,Ze).then(Boolean),take:Ke,delay:createDelay(qe.signal),pause:createPause(qe.signal),extra:je,signal:qe.signal,fork:createFork(qe.signal,Xe),unsubscribe:$e.unsubscribe,subscribe:()=>{Re.set($e.id,$e)},cancelActiveListeners:()=>{$e.pending.forEach((Ye,Ze,Je)=>{Ye!==qe&&(abortControllerWithReason(Ye,listenerCancelled),Je.delete(Ye))})},cancel:()=>{abortControllerWithReason(qe,listenerCancelled),$e.pending.delete(qe)},throwIfCancelled:()=>{validateActive(qe.signal)}})))}catch(Ye){Ye instanceof TaskAbortError||safelyNotifyError(Be,Ye,{raisedBy:"effect"})}finally{await Promise.all(Xe),abortControllerWithReason(qe,listenerCompleted),$e.pending.delete(qe)}},Me=createClearListenerMiddleware(Re);return{middleware:$e=>He=>Qe=>{if(!isAction(Qe))return He(Qe);if(addListener.match(Qe))return Fe(Qe.payload);if(clearAllListeners.match(Qe)){Me();return}if(removeListener.match(Qe))return Oe(Qe.payload);let We=$e.getState();const qe=()=>{if(We===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return We};let Ke;try{if(Ke=He(Qe),Re.size>0){const Xe=$e.getState(),Ye=Array.from(Re.values());for(const Ze of Ye){let Je=!1;try{Je=Ze.predicate(Qe,Xe,We)}catch(tr){Je=!1,safelyNotifyError(Be,tr,{raisedBy:"predicate"})}Je&&ke(Ze,Qe,$e,qe)}}}finally{We=INTERNAL_NIL_TOKEN}return Ke},startListening:Fe,stopListening:Oe,clearListeners:Me}};function formatProdErrorMessage(Ce){return`Minified Redux Toolkit error #${Ce}; visit https://redux-toolkit.js.org/Errors?code=${Ce} for the full message or use the non-minified dev environment for full errors. `}var initialState$a={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$a,reducers:{setLayout(Ce,Re){Ce.layoutType=Re.payload},setChartSize(Ce,Re){Ce.width=Re.payload.width,Ce.height=Re.payload.height},setMargin(Ce,Re){Ce.margin.top=Re.payload.top,Ce.margin.right=Re.payload.right,Ce.margin.bottom=Re.payload.bottom,Ce.margin.left=Re.payload.left},setScale(Ce,Re){Ce.scale=Re.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function ownKeys$y(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$x(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$y(Object(je),!0).forEach(function(Be){_defineProperty$C(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$y(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$C(Ce,Re,je){return(Re=_toPropertyKey$B(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$B(Ce){var Re=_toPrimitive$B(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$B(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}var RADIAN=Math.PI/180,radianToDegree=Ce=>Ce*180/Math.PI,polarToCartesian=(Ce,Re,je,Be)=>({x:Ce+Math.cos(-RADIAN*Be)*je,y:Re+Math.sin(-RADIAN*Be)*je}),getMaxRadius=function Ce(Re,je){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(Re-(Be.left||0)-(Be.right||0)),Math.abs(je-(Be.top||0)-(Be.bottom||0)))/2},distanceBetweenPoints=(Ce,Re)=>{var{x:je,y:Be}=Ce,{x:De,y:Fe}=Re;return Math.sqrt((je-De)**2+(Be-Fe)**2)},getAngleOfPoint=(Ce,Re)=>{var{x:je,y:Be}=Ce,{cx:De,cy:Fe}=Re,Oe=distanceBetweenPoints({x:je,y:Be},{x:De,y:Fe});if(Oe<=0)return{radius:Oe,angle:0};var ke=(je-De)/Oe,Me=Math.acos(ke);return Be>Fe&&(Me=2*Math.PI-Me),{radius:Oe,angle:radianToDegree(Me),angleInRadian:Me}},formatAngleOfSector=Ce=>{var{startAngle:Re,endAngle:je}=Ce,Be=Math.floor(Re/360),De=Math.floor(je/360),Fe=Math.min(Be,De);return{startAngle:Re-Fe*360,endAngle:je-Fe*360}},reverseFormatAngleOfSector=(Ce,Re)=>{var{startAngle:je,endAngle:Be}=Re,De=Math.floor(je/360),Fe=Math.floor(Be/360),Oe=Math.min(De,Fe);return Ce+Oe*360},inRangeOfSector=(Ce,Re)=>{var{x:je,y:Be}=Ce,{radius:De,angle:Fe}=getAngleOfPoint({x:je,y:Be},Re),{innerRadius:Oe,outerRadius:ke}=Re;if(De<Oe||De>ke||De===0)return null;var{startAngle:Me,endAngle:Ue}=formatAngleOfSector(Re),$e=Fe,He;if(Me<=Ue){for(;$e>Ue;)$e-=360;for(;$e<Me;)$e+=360;He=$e>=Me&&$e<=Ue}else{for(;$e>Me;)$e-=360;for(;$e<Ue;)$e+=360;He=$e>=Ue&&$e<=Me}return He?_objectSpread$x(_objectSpread$x({},Re),{},{radius:De,angle:reverseFormatAngleOfSector($e,Re)}):null};function getSliced(Ce,Re,je){return Array.isArray(Ce)&&Ce&&Re+je!==0?Ce.slice(Re,je+1):Ce}function ownKeys$x(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$w(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$x(Object(je),!0).forEach(function(Be){_defineProperty$B(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$x(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$B(Ce,Re,je){return(Re=_toPropertyKey$A(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$A(Ce){var Re=_toPrimitive$A(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$A(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function getValueByDataKey(Ce,Re,je){return isNullish(Ce)||isNullish(Re)?je:isNumOrStr(Re)?get(Ce,Re,je):typeof Re=="function"?Re(Ce):je}var calculateActiveTickIndex=(Ce,Re,je,Be,De)=>{var Fe,Oe=-1,ke=(Fe=Re?.length)!==null&&Fe!==void 0?Fe:0;if(ke<=1||Ce==null)return 0;if(Be==="angleAxis"&&De!=null&&Math.abs(Math.abs(De[1]-De[0])-360)<=1e-6)for(var Me=0;Me<ke;Me++){var Ue=Me>0?je[Me-1].coordinate:je[ke-1].coordinate,$e=je[Me].coordinate,He=Me>=ke-1?je[0].coordinate:je[Me+1].coordinate,Qe=void 0;if(mathSign($e-Ue)!==mathSign(He-$e)){var We=[];if(mathSign(He-$e)===mathSign(De[1]-De[0])){Qe=He;var qe=$e+De[1]-De[0];We[0]=Math.min(qe,(qe+Ue)/2),We[1]=Math.max(qe,(qe+Ue)/2)}else{Qe=Ue;var Ke=He+De[1]-De[0];We[0]=Math.min($e,(Ke+$e)/2),We[1]=Math.max($e,(Ke+$e)/2)}var Xe=[Math.min($e,(Qe+$e)/2),Math.max($e,(Qe+$e)/2)];if(Ce>Xe[0]&&Ce<=Xe[1]||Ce>=We[0]&&Ce<=We[1]){({index:Oe}=je[Me]);break}}else{var Ye=Math.min(Ue,He),Ze=Math.max(Ue,He);if(Ce>(Ye+$e)/2&&Ce<=(Ze+$e)/2){({index:Oe}=je[Me]);break}}}else if(Re){for(var Je=0;Je<ke;Je++)if(Je===0&&Ce<=(Re[Je].coordinate+Re[Je+1].coordinate)/2||Je>0&&Je<ke-1&&Ce>(Re[Je].coordinate+Re[Je-1].coordinate)/2&&Ce<=(Re[Je].coordinate+Re[Je+1].coordinate)/2||Je===ke-1&&Ce>(Re[Je].coordinate+Re[Je-1].coordinate)/2){({index:Oe}=Re[Je]);break}}return Oe},appendOffsetOfLegend=(Ce,Re,je)=>{if(Re&&je){var{width:Be,height:De}=je,{align:Fe,verticalAlign:Oe,layout:ke}=Re;if((ke==="vertical"||ke==="horizontal"&&Oe==="middle")&&Fe!=="center"&&isNumber(Ce[Fe]))return _objectSpread$w(_objectSpread$w({},Ce),{},{[Fe]:Ce[Fe]+(Be||0)});if((ke==="horizontal"||ke==="vertical"&&Fe==="center")&&Oe!=="middle"&&isNumber(Ce[Oe]))return _objectSpread$w(_objectSpread$w({},Ce),{},{[Oe]:Ce[Oe]+(De||0)})}return Ce},isCategoricalAxis=(Ce,Re)=>Ce==="horizontal"&&Re==="xAxis"||Ce==="vertical"&&Re==="yAxis"||Ce==="centric"&&Re==="angleAxis"||Ce==="radial"&&Re==="radiusAxis",getCoordinatesOfGrid=(Ce,Re,je,Be)=>{if(Be)return Ce.map(ke=>ke.coordinate);var De,Fe,Oe=Ce.map(ke=>(ke.coordinate===Re&&(De=!0),ke.coordinate===je&&(Fe=!0),ke.coordinate));return De||Oe.push(Re),Fe||Oe.push(je),Oe},getTicksOfAxis=(Ce,Re,je)=>{if(!Ce)return null;var{duplicateDomain:Be,type:De,range:Fe,scale:Oe,realScaleType:ke,isCategorical:Me,categoricalDomain:Ue,tickCount:$e,ticks:He,niceTicks:Qe,axisType:We}=Ce;if(!Oe)return null;var qe=ke==="scaleBand"&&Oe.bandwidth?Oe.bandwidth()/2:2,Ke=De==="category"&&Oe.bandwidth?Oe.bandwidth()/qe:0;if(Ke=We==="angleAxis"&&Fe&&Fe.length>=2?mathSign(Fe[0]-Fe[1])*2*Ke:Ke,He||Qe){var Xe=(He||Qe||[]).map((Ye,Ze)=>{var Je=Be?Be.indexOf(Ye):Ye;return{coordinate:Oe(Je)+Ke,value:Ye,offset:Ke,index:Ze}});return Xe.filter(Ye=>!isNan(Ye.coordinate))}return Me&&Ue?Ue.map((Ye,Ze)=>({coordinate:Oe(Ye)+Ke,value:Ye,index:Ze,offset:Ke})):Oe.ticks&&$e!=null?Oe.ticks($e).map((Ye,Ze)=>({coordinate:Oe(Ye)+Ke,value:Ye,offset:Ke,index:Ze})):Oe.domain().map((Ye,Ze)=>({coordinate:Oe(Ye)+Ke,value:Be?Be[Ye]:Ye,index:Ze,offset:Ke}))},EPS=1e-4,checkDomainOfScale=Ce=>{var Re=Ce.domain();if(!(!Re||Re.length<=2)){var je=Re.length,Be=Ce.range(),De=Math.min(Be[0],Be[1])-EPS,Fe=Math.max(Be[0],Be[1])+EPS,Oe=Ce(Re[0]),ke=Ce(Re[je-1]);(Oe<De||Oe>Fe||ke<De||ke>Fe)&&Ce.domain([Re[0],Re[je-1]])}},truncateByDomain=(Ce,Re)=>{if(!Re||Re.length!==2||!isNumber(Re[0])||!isNumber(Re[1]))return Ce;var je=Math.min(Re[0],Re[1]),Be=Math.max(Re[0],Re[1]),De=[Ce[0],Ce[1]];return(!isNumber(Ce[0])||Ce[0]<je)&&(De[0]=je),(!isNumber(Ce[1])||Ce[1]>Be)&&(De[1]=Be),De[0]>Be&&(De[0]=Be),De[1]<je&&(De[1]=je),De},offsetSign=Ce=>{var Re=Ce.length;if(!(Re<=0))for(var je=0,Be=Ce[0].length;je<Be;++je)for(var De=0,Fe=0,Oe=0;Oe<Re;++Oe){var ke=isNan(Ce[Oe][je][1])?Ce[Oe][je][0]:Ce[Oe][je][1];ke>=0?(Ce[Oe][je][0]=De,Ce[Oe][je][1]=De+ke,De=Ce[Oe][je][1]):(Ce[Oe][je][0]=Fe,Ce[Oe][je][1]=Fe+ke,Fe=Ce[Oe][je][1])}},offsetPositive=Ce=>{var Re=Ce.length;if(!(Re<=0))for(var je=0,Be=Ce[0].length;je<Be;++je)for(var De=0,Fe=0;Fe<Re;++Fe){var Oe=isNan(Ce[Fe][je][1])?Ce[Fe][je][0]:Ce[Fe][je][1];Oe>=0?(Ce[Fe][je][0]=De,Ce[Fe][je][1]=De+Oe,De=Ce[Fe][je][1]):(Ce[Fe][je][0]=0,Ce[Fe][je][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(Ce,Re,je)=>{var Be=STACK_OFFSET_MAP[je],De=shapeStack().keys(Re).value((Fe,Oe)=>+getValueByDataKey(Fe,Oe,0)).order(stackOrderNone).offset(Be);return De(Ce)};function getNormalizedStackId(Ce){return Ce==null?void 0:String(Ce)}function getCateCoordinateOfLine(Ce){var{axis:Re,ticks:je,bandSize:Be,entry:De,index:Fe,dataKey:Oe}=Ce;if(Re.type==="category"){if(!Re.allowDuplicatedCategory&&Re.dataKey&&!isNullish(De[Re.dataKey])){var ke=findEntryInArray(je,"value",De[Re.dataKey]);if(ke)return ke.coordinate+Be/2}return je[Fe]?je[Fe].coordinate+Be/2:null}var Me=getValueByDataKey(De,isNullish(Oe)?Re.dataKey:Oe);return isNullish(Me)?null:Re.scale(Me)}var getCateCoordinateOfBar=Ce=>{var{axis:Re,ticks:je,offset:Be,bandSize:De,entry:Fe,index:Oe}=Ce;if(Re.type==="category")return je[Oe]?je[Oe].coordinate+Be:null;var ke=getValueByDataKey(Fe,Re.dataKey,Re.scale.domain()[Oe]);return isNullish(ke)?null:Re.scale(ke)-De/2+Be},getBaseValueOfBar=Ce=>{var{numericAxis:Re}=Ce,je=Re.scale.domain();if(Re.type==="number"){var Be=Math.min(je[0],je[1]),De=Math.max(je[0],je[1]);return Be<=0&&De>=0?0:De<0?De:Be}return je[0]},getDomainOfSingle=Ce=>{var Re=Ce.flat(2).filter(isNumber);return[Math.min(...Re),Math.max(...Re)]},makeDomainFinite=Ce=>[Ce[0]===1/0?0:Ce[0],Ce[1]===-1/0?0:Ce[1]],getDomainOfStackGroups=(Ce,Re,je)=>{if(Ce!=null)return makeDomainFinite(Object.keys(Ce).reduce((Be,De)=>{var Fe=Ce[De],{stackedData:Oe}=Fe,ke=Oe.reduce((Me,Ue)=>{var $e=getSliced(Ue,Re,je),He=getDomainOfSingle($e);return[Math.min(Me[0],He[0]),Math.max(Me[1],He[1])]},[1/0,-1/0]);return[Math.min(ke[0],Be[0]),Math.max(ke[1],Be[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(Ce,Re,je)=>{if(Ce&&Ce.scale&&Ce.scale.bandwidth){var Be=Ce.scale.bandwidth();if(!je||Be>0)return Be}if(Ce&&Re&&Re.length>=2){for(var De=sortBy(Re,$e=>$e.coordinate),Fe=1/0,Oe=1,ke=De.length;Oe<ke;Oe++){var Me=De[Oe],Ue=De[Oe-1];Fe=Math.min((Me.coordinate||0)-(Ue.coordinate||0),Fe)}return Fe===1/0?0:Fe}return je?void 0:0};function getTooltipEntry(Ce){var{tooltipEntrySettings:Re,dataKey:je,payload:Be,value:De,name:Fe}=Ce;return _objectSpread$w(_objectSpread$w({},Re),{},{dataKey:je,payload:Be,value:De,name:Fe})}function getTooltipNameProp(Ce,Re){if(Ce)return String(Ce);if(typeof Re=="string")return Re}function inRange(Ce,Re,je,Be,De){if(je==="horizontal"||je==="vertical"){var Fe=Ce>=De.left&&Ce<=De.left+De.width&&Re>=De.top&&Re<=De.top+De.height;return Fe?{x:Ce,y:Re}:null}return Be?inRangeOfSector({x:Ce,y:Re},Be):null}var getActiveCoordinate=(Ce,Re,je,Be)=>{var De=Re.find(Ue=>Ue&&Ue.index===je);if(De){if(Ce==="horizontal")return{x:De.coordinate,y:Be.y};if(Ce==="vertical")return{x:Be.x,y:De.coordinate};if(Ce==="centric"){var Fe=De.coordinate,{radius:Oe}=Be;return _objectSpread$w(_objectSpread$w(_objectSpread$w({},Be),polarToCartesian(Be.cx,Be.cy,Oe,Fe)),{},{angle:Fe,radius:Oe})}var ke=De.coordinate,{angle:Me}=Be;return _objectSpread$w(_objectSpread$w(_objectSpread$w({},Be),polarToCartesian(Be.cx,Be.cy,ke,Me)),{},{angle:Me,radius:ke})}return{x:0,y:0}},calculateTooltipPos=(Ce,Re)=>Re==="horizontal"?Ce.x:Re==="vertical"?Ce.y:Re==="centric"?Ce.angle:Ce.radius,selectChartWidth=Ce=>Ce.layout.width,selectChartHeight=Ce=>Ce.layout.height,selectContainerScale=Ce=>Ce.layout.scale,selectMargin=Ce=>Ce.layout.margin,selectAllXAxes=createSelector(Ce=>Ce.cartesianAxis.xAxis,Ce=>Object.values(Ce)),selectAllYAxes=createSelector(Ce=>Ce.cartesianAxis.yAxis,Ce=>Object.values(Ce)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_DATAKEY_ATTRIBUTE_NAME="data-recharts-item-data-key",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$w(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$v(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$w(Object(je),!0).forEach(function(Be){_defineProperty$A(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$w(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$A(Ce,Re,je){return(Re=_toPropertyKey$z(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$z(Ce){var Re=_toPrimitive$z(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$z(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}var selectBrushHeight=Ce=>Ce.brush.height,selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectAllXAxes,selectAllYAxes,selectLegendSettings,selectLegendSize],(Ce,Re,je,Be,De,Fe,Oe,ke)=>{var Me=Fe.reduce((qe,Ke)=>{var{orientation:Xe}=Ke;if(!Ke.mirror&&!Ke.hide){var Ye=typeof Ke.width=="number"?Ke.width:DEFAULT_Y_AXIS_WIDTH;return _objectSpread$v(_objectSpread$v({},qe),{},{[Xe]:qe[Xe]+Ye})}return qe},{left:je.left||0,right:je.right||0}),Ue=De.reduce((qe,Ke)=>{var{orientation:Xe}=Ke;return!Ke.mirror&&!Ke.hide?_objectSpread$v(_objectSpread$v({},qe),{},{[Xe]:get(qe,"".concat(Xe))+Ke.height}):qe},{top:je.top||0,bottom:je.bottom||0}),$e=_objectSpread$v(_objectSpread$v({},Ue),Me),He=$e.bottom;$e.bottom+=Be,$e=appendOffsetOfLegend($e,Oe,ke);var Qe=Ce-$e.left-$e.right,We=Re-$e.top-$e.bottom;return _objectSpread$v(_objectSpread$v({brushBottom:He},$e),{},{width:Math.max(Qe,0),height:Math.max(We,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,Ce=>({x:Ce.left,y:Ce.top,width:Ce.width,height:Ce.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(Ce,Re)=>({x:0,y:0,width:Ce,height:Re})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=Ce=>Ce.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(Ce,Re,je)=>({height:Ce.height,x:isNumber(Ce.x)?Ce.x:Re.left,y:isNumber(Ce.y)?Ce.y:Re.top+Re.height+Re.brushBottom-(je?.bottom||0),width:isNumber(Ce.width)?Ce.width:Re.width})),useViewBox=()=>{var Ce,Re=useIsPanorama(),je=useAppSelector(selectChartViewBox),Be=useAppSelector(selectBrushDimensions),De=(Ce=useAppSelector(selectBrushSettings))===null||Ce===void 0?void 0:Ce.padding;return!Re||!Be||!De?je:{width:Be.width-De.left-De.right,height:Be.height-De.top-De.bottom,x:De.left,y:De.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var Ce;return(Ce=useAppSelector(selectChartOffsetInternal))!==null&&Ce!==void 0?Ce:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),manyComponentsThrowErrorsIfMarginIsUndefined={top:0,right:0,bottom:0,left:0},useMargin=()=>{var Ce;return(Ce=useAppSelector(Re=>Re.layout.margin))!==null&&Ce!==void 0?Ce:manyComponentsThrowErrorsIfMarginIsUndefined},selectChartLayout=Ce=>Ce.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),initialState$9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$9,reducers:{setLegendSize(Ce,Re){Ce.size.width=Re.payload.width,Ce.size.height=Re.payload.height},setLegendSettings(Ce,Re){Ce.settings.align=Re.payload.align,Ce.settings.layout=Re.payload.layout,Ce.settings.verticalAlign=Re.payload.verticalAlign,Ce.settings.itemSorter=Re.payload.itemSorter},addLegendPayload(Ce,Re){Ce.payload.push(Re.payload)},removeLegendPayload(Ce,Re){var je=current(Ce).payload.indexOf(Re.payload);je>-1&&Ce.payload.splice(je,1)}}}),{setLegendSize,setLegendSettings,addLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer,_excluded$o=["contextPayload"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$n.apply(null,arguments)}function ownKeys$v(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$u(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$v(Object(je),!0).forEach(function(Be){_defineProperty$z(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$v(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$z(Ce,Re,je){return(Re=_toPropertyKey$y(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$y(Ce){var Re=_toPrimitive$y(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$y(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function _objectWithoutProperties$j(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$j(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$j(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}function defaultUniqBy$1(Ce){return Ce.value}function LegendContent(Ce){var{contextPayload:Re}=Ce,je=_objectWithoutProperties$j(Ce,_excluded$o),Be=getUniqPayload(Re,Ce.payloadUniqBy,defaultUniqBy$1),De=_objectSpread$u(_objectSpread$u({},je),{},{payload:Be});return reactExports.isValidElement(Ce.content)?reactExports.cloneElement(Ce.content,De):typeof Ce.content=="function"?reactExports.createElement(Ce.content,De):reactExports.createElement(DefaultLegendContent,De)}function getDefaultPosition(Ce,Re,je,Be,De,Fe){var{layout:Oe,align:ke,verticalAlign:Me}=Re,Ue,$e;return(!Ce||(Ce.left===void 0||Ce.left===null)&&(Ce.right===void 0||Ce.right===null))&&(ke==="center"&&Oe==="vertical"?Ue={left:((Be||0)-Fe.width)/2}:Ue=ke==="right"?{right:je&&je.right||0}:{left:je&&je.left||0}),(!Ce||(Ce.top===void 0||Ce.top===null)&&(Ce.bottom===void 0||Ce.bottom===null))&&(Me==="middle"?$e={top:((De||0)-Fe.height)/2}:$e=Me==="bottom"?{bottom:je&&je.bottom||0}:{top:je&&je.top||0}),_objectSpread$u(_objectSpread$u({},Ue),$e)}function LegendSettingsDispatcher(Ce){var Re=useAppDispatch();return reactExports.useEffect(()=>{Re(setLegendSettings(Ce))},[Re,Ce]),null}function LegendSizeDispatcher(Ce){var Re=useAppDispatch();return reactExports.useEffect(()=>(Re(setLegendSize(Ce)),()=>{Re(setLegendSize({width:0,height:0}))}),[Re,Ce]),null}function LegendWrapper(Ce){var Re=useLegendPayload(),je=useLegendPortal(),Be=useMargin(),{width:De,height:Fe,wrapperStyle:Oe,portal:ke}=Ce,[Me,Ue]=useElementOffset([Re]),$e=useChartWidth(),He=useChartHeight(),Qe=$e-(Be.left||0)-(Be.right||0),We=Legend.getWidthOrHeight(Ce.layout,Fe,De,Qe),qe=ke?Oe:_objectSpread$u(_objectSpread$u({position:"absolute",width:We?.width||De||"auto",height:We?.height||Fe||"auto"},getDefaultPosition(Oe,Ce,Be,$e,He,Me)),Oe),Ke=ke??je;if(Ke==null)return null;var Xe=reactExports.createElement("div",{className:"recharts-legend-wrapper",style:qe,ref:Ue},reactExports.createElement(LegendSettingsDispatcher,{layout:Ce.layout,align:Ce.align,verticalAlign:Ce.verticalAlign,itemSorter:Ce.itemSorter}),reactExports.createElement(LegendSizeDispatcher,{width:Me.width,height:Me.height}),reactExports.createElement(LegendContent,_extends$n({},Ce,We,{margin:Be,chartWidth:$e,chartHeight:He,contextPayload:Re})));return reactDomExports.createPortal(Xe,Ke)}class Legend extends reactExports.PureComponent{static getWidthOrHeight(Re,je,Be,De){return Re==="vertical"&&isNumber(je)?{height:je}:Re==="horizontal"?{width:Be||De}:null}render(){return reactExports.createElement(LegendWrapper,this.props)}}_defineProperty$z(Legend,"displayName","Legend");_defineProperty$z(Legend,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$m.apply(null,arguments)}function ownKeys$u(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$t(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$u(Object(je),!0).forEach(function(Be){_defineProperty$y(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$u(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$y(Ce,Re,je){return(Re=_toPropertyKey$x(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$x(Ce){var Re=_toPrimitive$x(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$x(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function defaultFormatter(Ce){return Array.isArray(Ce)&&isNumOrStr(Ce[0])&&isNumOrStr(Ce[1])?Ce.join(" ~ "):Ce}var DefaultTooltipContent=Ce=>{var{separator:Re=" : ",contentStyle:je={},itemStyle:Be={},labelStyle:De={},payload:Fe,formatter:Oe,itemSorter:ke,wrapperClassName:Me,labelClassName:Ue,label:$e,labelFormatter:He,accessibilityLayer:Qe=!1}=Ce,We=()=>{if(Fe&&Fe.length){var rr={padding:0,margin:0},ar=(ke?sortBy(Fe,ke):Fe).map((nr,sr)=>{if(nr.type==="none")return null;var dr=nr.formatter||Oe||defaultFormatter,{value:_r,name:fr}=nr,or=_r,Er=fr;if(dr){var Rr=dr(_r,fr,nr,sr,Fe);if(Array.isArray(Rr))[or,Er]=Rr;else if(Rr!=null)or=Rr;else return null}var jr=_objectSpread$t({display:"block",paddingTop:4,paddingBottom:4,color:nr.color||"#000"},Be);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(sr),style:jr},isNumOrStr(Er)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},Er):null,isNumOrStr(Er)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},Re):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},or),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},nr.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:rr},ar)}return null},qe=_objectSpread$t({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},je),Ke=_objectSpread$t({margin:0},De),Xe=!isNullish($e),Ye=Xe?$e:"",Ze=clsx("recharts-default-tooltip",Me),Je=clsx("recharts-tooltip-label",Ue);Xe&&He&&Fe!==void 0&&Fe!==null&&(Ye=He($e,Fe));var tr=Qe?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$m({className:Ze,style:qe},tr),reactExports.createElement("p",{className:Je,style:Ke},reactExports.isValidElement(Ye)?Ye:"".concat(Ye)),We())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(Ce){var{coordinate:Re,translateX:je,translateY:Be}=Ce;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(je)&&Re&&isNumber(Re.x)&&je>=Re.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(je)&&Re&&isNumber(Re.x)&&je<Re.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(Be)&&Re&&isNumber(Re.y)&&Be>=Re.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(Be)&&Re&&isNumber(Re.y)&&Be<Re.y})}function getTooltipTranslateXY(Ce){var{allowEscapeViewBox:Re,coordinate:je,key:Be,offsetTopLeft:De,position:Fe,reverseDirection:Oe,tooltipDimension:ke,viewBox:Me,viewBoxDimension:Ue}=Ce;if(Fe&&isNumber(Fe[Be]))return Fe[Be];var $e=je[Be]-ke-(De>0?De:0),He=je[Be]+De;if(Re[Be])return Oe[Be]?$e:He;var Qe=Me[Be];if(Qe==null)return 0;if(Oe[Be]){var We=$e,qe=Qe;return We<qe?Math.max(He,Qe):Math.max($e,Qe)}if(Ue==null)return 0;var Ke=He+ke,Xe=Qe+Ue;return Ke>Xe?Math.max($e,Qe):Math.max(He,Qe)}function getTransformStyle(Ce){var{translateX:Re,translateY:je,useTranslate3d:Be}=Ce;return{transform:Be?"translate3d(".concat(Re,"px, ").concat(je,"px, 0)"):"translate(".concat(Re,"px, ").concat(je,"px)")}}function getTooltipTranslate(Ce){var{allowEscapeViewBox:Re,coordinate:je,offsetTopLeft:Be,position:De,reverseDirection:Fe,tooltipBox:Oe,useTranslate3d:ke,viewBox:Me}=Ce,Ue,$e,He;return Oe.height>0&&Oe.width>0&&je?($e=getTooltipTranslateXY({allowEscapeViewBox:Re,coordinate:je,key:"x",offsetTopLeft:Be,position:De,reverseDirection:Fe,tooltipDimension:Oe.width,viewBox:Me,viewBoxDimension:Me.width}),He=getTooltipTranslateXY({allowEscapeViewBox:Re,coordinate:je,key:"y",offsetTopLeft:Be,position:De,reverseDirection:Fe,tooltipDimension:Oe.height,viewBox:Me,viewBoxDimension:Me.height}),Ue=getTransformStyle({translateX:$e,translateY:He,useTranslate3d:ke})):Ue=TOOLTIP_HIDDEN,{cssProperties:Ue,cssClasses:getTooltipCSSClassName({translateX:$e,translateY:He,coordinate:je})}}function ownKeys$t(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$s(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$t(Object(je),!0).forEach(function(Be){_defineProperty$x(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$t(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$x(Ce,Re,je){return(Re=_toPropertyKey$w(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$w(Ce){var Re=_toPrimitive$w(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$w(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$x(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$x(this,"handleKeyDown",Re=>{if(Re.key==="Escape"){var je,Be,De,Fe;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(je=(Be=this.props.coordinate)===null||Be===void 0?void 0:Be.x)!==null&&je!==void 0?je:0,y:(De=(Fe=this.props.coordinate)===null||Fe===void 0?void 0:Fe.y)!==null&&De!==void 0?De:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var Re,je;this.state.dismissed&&(((Re=this.props.coordinate)===null||Re===void 0?void 0:Re.x)!==this.state.dismissedAtCoordinate.x||((je=this.props.coordinate)===null||je===void 0?void 0:je.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:Re,allowEscapeViewBox:je,animationDuration:Be,animationEasing:De,children:Fe,coordinate:Oe,hasPayload:ke,isAnimationActive:Me,offset:Ue,position:$e,reverseDirection:He,useTranslate3d:Qe,viewBox:We,wrapperStyle:qe,lastBoundingBox:Ke,innerRef:Xe,hasPortalFromProps:Ye}=this.props,{cssClasses:Ze,cssProperties:Je}=getTooltipTranslate({allowEscapeViewBox:je,coordinate:Oe,offsetTopLeft:Ue,position:$e,reverseDirection:He,tooltipBox:{height:Ke.height,width:Ke.width},useTranslate3d:Qe,viewBox:We}),tr=Ye?{}:_objectSpread$s(_objectSpread$s({transition:Me&&Re?"transform ".concat(Be,"ms ").concat(De):void 0},Je),{},{pointerEvents:"none",visibility:!this.state.dismissed&&Re&&ke?"visible":"hidden",position:"absolute",top:0,left:0}),rr=_objectSpread$s(_objectSpread$s({},tr),{},{visibility:!this.state.dismissed&&Re&&ke?"visible":"hidden"},qe);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:Ze,style:rr,ref:Xe},Fe)}}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global$1={isSsr:parseIsSsrByDefault()},useAccessibilityLayer=()=>useAppSelector(Ce=>Ce.rootProps.accessibilityLayer);function isWellBehavedNumber(Ce){return Number.isFinite(Ce)}function isPositiveNumber(Ce){return typeof Ce=="number"&&Ce>0&&Number.isFinite(Ce)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$l.apply(null,arguments)}function ownKeys$s(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$r(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$s(Object(je),!0).forEach(function(Be){_defineProperty$w(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$s(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$w(Ce,Re,je){return(Re=_toPropertyKey$v(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$v(Ce){var Re=_toPrimitive$v(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$v(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=Ce=>isWellBehavedNumber(Ce.x)&&isWellBehavedNumber(Ce.y),getX=Ce=>Ce.x,getY=Ce=>Ce.y,getCurveFactory=(Ce,Re)=>{if(typeof Ce=="function")return Ce;var je="curve".concat(upperFirst(Ce));return(je==="curveMonotone"||je==="curveBump")&&Re?CURVE_FACTORIES["".concat(je).concat(Re==="vertical"?"Y":"X")]:CURVE_FACTORIES[je]||curveLinear},getPath$2=Ce=>{var{type:Re="linear",points:je=[],baseLine:Be,layout:De,connectNulls:Fe=!1}=Ce,Oe=getCurveFactory(Re,De),ke=Fe?je.filter(defined):je,Me;if(Array.isArray(Be)){var Ue=Fe?Be.filter(He=>defined(He)):Be,$e=ke.map((He,Qe)=>_objectSpread$r(_objectSpread$r({},He),{},{base:Ue[Qe]}));return De==="vertical"?Me=shapeArea().y(getY).x1(getX).x0(He=>He.base.x):Me=shapeArea().x(getX).y1(getY).y0(He=>He.base.y),Me.defined(defined).curve(Oe),Me($e)}return De==="vertical"&&isNumber(Be)?Me=shapeArea().y(getY).x1(getX).x0(Be):isNumber(Be)?Me=shapeArea().x(getX).y1(getY).y0(Be):Me=shapeLine().x(getX).y(getY),Me.defined(defined).curve(Oe),Me(ke)},Curve=Ce=>{var{className:Re,points:je,path:Be,pathRef:De}=Ce;if((!je||!je.length)&&!Be)return null;var Fe=je&&je.length?getPath$2(Ce):Be;return reactExports.createElement("path",_extends$l({},svgPropertiesNoEvents(Ce),adaptEventHandlers(Ce),{className:clsx("recharts-curve",Re),d:Fe===null?void 0:Fe,ref:De}))},_excluded$n=["x","y","top","left","width","height","className"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$k.apply(null,arguments)}function ownKeys$r(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$q(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$r(Object(je),!0).forEach(function(Be){_defineProperty$v(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$r(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$v(Ce,Re,je){return(Re=_toPropertyKey$u(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$u(Ce){var Re=_toPrimitive$u(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$u(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function _objectWithoutProperties$i(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$i(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$i(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}var getPath$1=(Ce,Re,je,Be,De,Fe)=>"M".concat(Ce,",").concat(De,"v").concat(Be,"M").concat(Fe,",").concat(Re,"h").concat(je),Cross=Ce=>{var{x:Re=0,y:je=0,top:Be=0,left:De=0,width:Fe=0,height:Oe=0,className:ke}=Ce,Me=_objectWithoutProperties$i(Ce,_excluded$n),Ue=_objectSpread$q({x:Re,y:je,top:Be,left:De,width:Fe,height:Oe},Me);return!isNumber(Re)||!isNumber(je)||!isNumber(Fe)||!isNumber(Oe)||!isNumber(Be)||!isNumber(De)?null:reactExports.createElement("path",_extends$k({},filterProps(Ue,!0),{className:clsx("recharts-cross",ke),d:getPath$1(Re,je,Fe,Oe,Be,De)}))};function getCursorRectangle(Ce,Re,je,Be){var De=Be/2;return{stroke:"none",fill:"#ccc",x:Ce==="horizontal"?Re.x-De:je.left+.5,y:Ce==="horizontal"?je.top+.5:Re.y-De,width:Ce==="horizontal"?Be:je.width-1,height:Ce==="horizontal"?je.height-1:Be}}function ownKeys$q(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$p(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$q(Object(je),!0).forEach(function(Be){_defineProperty$u(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$q(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$u(Ce,Re,je){return(Re=_toPropertyKey$t(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$t(Ce){var Re=_toPrimitive$t(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$t(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function resolveDefaultProps(Ce,Re){var je=_objectSpread$p({},Ce),Be=Re,De=Object.keys(Re),Fe=De.reduce((Oe,ke)=>(Oe[ke]===void 0&&Be[ke]!==void 0&&(Oe[ke]=Be[ke]),Oe),je);return Fe}var isEqual$3={},isEqualWith={},isPlainObject$4={},hasRequiredIsPlainObject$2;function requireIsPlainObject$2(){return hasRequiredIsPlainObject$2||(hasRequiredIsPlainObject$2=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){if(!je||typeof je!="object")return!1;const Be=Object.getPrototypeOf(je);return Be===null||Be===Object.prototype||Object.getPrototypeOf(Be)===null?Object.prototype.toString.call(je)==="[object Object]":!1}Ce.isPlainObject=Re})(isPlainObject$4)),isPlainObject$4}var hasRequiredIsEqualWith;function requireIsEqualWith(){return hasRequiredIsEqualWith||(hasRequiredIsEqualWith=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIsPlainObject$2(),je=requireGetSymbols(),Be=requireGetTag(),De=requireTags(),Fe=requireEq();function Oe(Ue,$e,He){return ke(Ue,$e,void 0,void 0,void 0,void 0,He)}function ke(Ue,$e,He,Qe,We,qe,Ke){const Xe=Ke(Ue,$e,He,Qe,We,qe);if(Xe!==void 0)return Xe;if(typeof Ue==typeof $e)switch(typeof Ue){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return Ue===$e;case"number":return Ue===$e||Object.is(Ue,$e);case"function":return Ue===$e;case"object":return Me(Ue,$e,qe,Ke)}return Me(Ue,$e,qe,Ke)}function Me(Ue,$e,He,Qe){if(Object.is(Ue,$e))return!0;let We=Be.getTag(Ue),qe=Be.getTag($e);if(We===De.argumentsTag&&(We=De.objectTag),qe===De.argumentsTag&&(qe=De.objectTag),We!==qe)return!1;switch(We){case De.stringTag:return Ue.toString()===$e.toString();case De.numberTag:{const Ye=Ue.valueOf(),Ze=$e.valueOf();return Fe.eq(Ye,Ze)}case De.booleanTag:case De.dateTag:case De.symbolTag:return Object.is(Ue.valueOf(),$e.valueOf());case De.regexpTag:return Ue.source===$e.source&&Ue.flags===$e.flags;case De.functionTag:return Ue===$e}He=He??new Map;const Ke=He.get(Ue),Xe=He.get($e);if(Ke!=null&&Xe!=null)return Ke===$e;He.set(Ue,$e),He.set($e,Ue);try{switch(We){case De.mapTag:{if(Ue.size!==$e.size)return!1;for(const[Ye,Ze]of Ue.entries())if(!$e.has(Ye)||!ke(Ze,$e.get(Ye),Ye,Ue,$e,He,Qe))return!1;return!0}case De.setTag:{if(Ue.size!==$e.size)return!1;const Ye=Array.from(Ue.values()),Ze=Array.from($e.values());for(let Je=0;Je<Ye.length;Je++){const tr=Ye[Je],rr=Ze.findIndex(ar=>ke(tr,ar,void 0,Ue,$e,He,Qe));if(rr===-1)return!1;Ze.splice(rr,1)}return!0}case De.arrayTag:case De.uint8ArrayTag:case De.uint8ClampedArrayTag:case De.uint16ArrayTag:case De.uint32ArrayTag:case De.bigUint64ArrayTag:case De.int8ArrayTag:case De.int16ArrayTag:case De.int32ArrayTag:case De.bigInt64ArrayTag:case De.float32ArrayTag:case De.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(Ue)!==Buffer.isBuffer($e)||Ue.length!==$e.length)return!1;for(let Ye=0;Ye<Ue.length;Ye++)if(!ke(Ue[Ye],$e[Ye],Ye,Ue,$e,He,Qe))return!1;return!0}case De.arrayBufferTag:return Ue.byteLength!==$e.byteLength?!1:Me(new Uint8Array(Ue),new Uint8Array($e),He,Qe);case De.dataViewTag:return Ue.byteLength!==$e.byteLength||Ue.byteOffset!==$e.byteOffset?!1:Me(new Uint8Array(Ue),new Uint8Array($e),He,Qe);case De.errorTag:return Ue.name===$e.name&&Ue.message===$e.message;case De.objectTag:{if(!(Me(Ue.constructor,$e.constructor,He,Qe)||Re.isPlainObject(Ue)&&Re.isPlainObject($e)))return!1;const Ze=[...Object.keys(Ue),...je.getSymbols(Ue)],Je=[...Object.keys($e),...je.getSymbols($e)];if(Ze.length!==Je.length)return!1;for(let tr=0;tr<Ze.length;tr++){const rr=Ze[tr],ar=Ue[rr];if(!Object.hasOwn($e,rr))return!1;const nr=$e[rr];if(!ke(ar,nr,rr,Ue,$e,He,Qe))return!1}return!0}default:return!1}}finally{He.delete(Ue),He.delete($e)}}Ce.isEqualWith=Oe})(isEqualWith)),isEqualWith}var noop$6={},hasRequiredNoop;function requireNoop(){return hasRequiredNoop||(hasRequiredNoop=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(){}Ce.noop=Re})(noop$6)),noop$6}var hasRequiredIsEqual$1;function requireIsEqual$1(){return hasRequiredIsEqual$1||(hasRequiredIsEqual$1=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIsEqualWith(),je=requireNoop();function Be(De,Fe){return Re.isEqualWith(De,Fe,je.noop)}Ce.isEqual=Be})(isEqual$3)),isEqual$3}var isEqual$2,hasRequiredIsEqual;function requireIsEqual(){return hasRequiredIsEqual||(hasRequiredIsEqual=1,isEqual$2=requireIsEqual$1().isEqual),isEqual$2}var isEqualExports=requireIsEqual();const isEqual$1=getDefaultExportFromCjs(isEqualExports);var ACCURACY=1e-4,cubicBezierFactor=(Ce,Re)=>[0,3*Ce,3*Re-6*Ce,3*Ce-3*Re+1],evaluatePolynomial=(Ce,Re)=>Ce.map((je,Be)=>je*Re**Be).reduce((je,Be)=>je+Be),cubicBezier=(Ce,Re)=>je=>{var Be=cubicBezierFactor(Ce,Re);return evaluatePolynomial(Be,je)},derivativeCubicBezier=(Ce,Re)=>je=>{var Be=cubicBezierFactor(Ce,Re),De=[...Be.map((Fe,Oe)=>Fe*Oe).slice(1),0];return evaluatePolynomial(De,je)},configBezier=function Ce(){for(var Re,je,Be,De,Fe=arguments.length,Oe=new Array(Fe),ke=0;ke<Fe;ke++)Oe[ke]=arguments[ke];if(Oe.length===1)switch(Oe[0]){case"linear":[Re,Be,je,De]=[0,0,1,1];break;case"ease":[Re,Be,je,De]=[.25,.1,.25,1];break;case"ease-in":[Re,Be,je,De]=[.42,0,1,1];break;case"ease-out":[Re,Be,je,De]=[.42,0,.58,1];break;case"ease-in-out":[Re,Be,je,De]=[0,0,.58,1];break;default:{var Me=Oe[0].split("(");Me[0]==="cubic-bezier"&&Me[1].split(")")[0].split(",").length===4&&([Re,Be,je,De]=Me[1].split(")")[0].split(",").map(qe=>parseFloat(qe)))}}else Oe.length===4&&([Re,Be,je,De]=Oe);var Ue=cubicBezier(Re,je),$e=cubicBezier(Be,De),He=derivativeCubicBezier(Re,je),Qe=qe=>qe>1?1:qe<0?0:qe,We=qe=>{for(var Ke=qe>1?1:qe,Xe=Ke,Ye=0;Ye<8;++Ye){var Ze=Ue(Xe)-Ke,Je=He(Xe);if(Math.abs(Ze-Ke)<ACCURACY||Je<ACCURACY)return $e(Xe);Xe=Qe(Xe-Ze/Je)}return $e(Xe)};return We.isStepper=!1,We},configSpring=function Ce(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:je=100,damping:Be=8,dt:De=17}=Re,Fe=(Oe,ke,Me)=>{var Ue=-(Oe-ke)*je,$e=Me*Be,He=Me+(Ue-$e)*De/1e3,Qe=Me*De/1e3+Oe;return Math.abs(Qe-ke)<ACCURACY&&Math.abs(He)<ACCURACY?[ke,0]:[Qe,He]};return Fe.isStepper=!0,Fe.dt=De,Fe},configEasing=Ce=>{if(typeof Ce=="string")switch(Ce){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(Ce);case"spring":return configSpring();default:if(Ce.split("(")[0]==="cubic-bezier")return configBezier(Ce)}return typeof Ce=="function"?Ce:null};function ownKeys$p(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$o(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$p(Object(je),!0).forEach(function(Be){_defineProperty$t(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$p(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$t(Ce,Re,je){return(Re=_toPropertyKey$s(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$s(Ce){var Re=_toPrimitive$s(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$s(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}var getDashCase=Ce=>Ce.replace(/([A-Z])/g,Re=>"-".concat(Re.toLowerCase())),getTransitionVal=(Ce,Re,je)=>Ce.map(Be=>"".concat(getDashCase(Be)," ").concat(Re,"ms ").concat(je)).join(","),getIntersectionKeys=(Ce,Re)=>[Object.keys(Ce),Object.keys(Re)].reduce((je,Be)=>je.filter(De=>Be.includes(De))),mapObject=(Ce,Re)=>Object.keys(Re).reduce((je,Be)=>_objectSpread$o(_objectSpread$o({},je),{},{[Be]:Ce(Be,Re[Be])}),{});function ownKeys$o(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$n(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$o(Object(je),!0).forEach(function(Be){_defineProperty$s(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$o(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$s(Ce,Re,je){return(Re=_toPropertyKey$r(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$r(Ce){var Re=_toPrimitive$r(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$r(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}var alpha$1=(Ce,Re,je)=>Ce+(Re-Ce)*je,needContinue=Ce=>{var{from:Re,to:je}=Ce;return Re!==je},calStepperVals=(Ce,Re,je)=>{var Be=mapObject((De,Fe)=>{if(needContinue(Fe)){var[Oe,ke]=Ce(Fe.from,Fe.to,Fe.velocity);return _objectSpread$n(_objectSpread$n({},Fe),{},{from:Oe,velocity:ke})}return Fe},Re);return je<1?mapObject((De,Fe)=>needContinue(Fe)?_objectSpread$n(_objectSpread$n({},Fe),{},{velocity:alpha$1(Fe.velocity,Be[De].velocity,je),from:alpha$1(Fe.from,Be[De].from,je)}):Fe,Re):calStepperVals(Ce,Be,je-1)};function createStepperUpdate(Ce,Re,je,Be,De,Fe){var Oe,ke=Be.reduce((Qe,We)=>_objectSpread$n(_objectSpread$n({},Qe),{},{[We]:{from:Ce[We],velocity:0,to:Re[We]}}),{}),Me=()=>mapObject((Qe,We)=>We.from,ke),Ue=()=>!Object.values(ke).filter(needContinue).length,$e=null,He=Qe=>{Oe||(Oe=Qe);var We=Qe-Oe,qe=We/je.dt;ke=calStepperVals(je,ke,qe),De(_objectSpread$n(_objectSpread$n(_objectSpread$n({},Ce),Re),Me())),Oe=Qe,Ue()||($e=Fe.setTimeout(He))};return()=>($e=Fe.setTimeout(He),()=>{$e()})}function createTimingUpdate(Ce,Re,je,Be,De,Fe,Oe){var ke=null,Me=De.reduce((He,Qe)=>_objectSpread$n(_objectSpread$n({},He),{},{[Qe]:[Ce[Qe],Re[Qe]]}),{}),Ue,$e=He=>{Ue||(Ue=He);var Qe=(He-Ue)/Be,We=mapObject((Ke,Xe)=>alpha$1(...Xe,je(Qe)),Me);if(Fe(_objectSpread$n(_objectSpread$n(_objectSpread$n({},Ce),Re),We)),Qe<1)ke=Oe.setTimeout($e);else{var qe=mapObject((Ke,Xe)=>alpha$1(...Xe,je(1)),Me);Fe(_objectSpread$n(_objectSpread$n(_objectSpread$n({},Ce),Re),qe))}};return()=>(ke=Oe.setTimeout($e),()=>{ke()})}const configUpdate=(Ce,Re,je,Be,De,Fe)=>{var Oe=getIntersectionKeys(Ce,Re);return je.isStepper===!0?createStepperUpdate(Ce,Re,je,Oe,De,Fe):createTimingUpdate(Ce,Re,je,Be,Oe,De,Fe)};function createAnimateManager(Ce){var Re,je=()=>null,Be=!1,De=null,Fe=Oe=>{if(!Be){if(Array.isArray(Oe)){if(!Oe.length)return;var ke=Oe,[Me,...Ue]=ke;if(typeof Me=="number"){De=Ce.setTimeout(Fe.bind(null,Ue),Me);return}Fe(Me),De=Ce.setTimeout(Fe.bind(null,Ue));return}typeof Oe=="string"&&(Re=Oe,je(Re)),typeof Oe=="object"&&(Re=Oe,je(Re)),typeof Oe=="function"&&Oe()}};return{stop:()=>{Be=!0},start:Oe=>{Be=!1,De&&(De(),De=null),Fe(Oe)},subscribe:Oe=>(je=Oe,()=>{je=()=>null}),getTimeoutController:()=>Ce}}class RequestAnimationFrameTimeoutController{setTimeout(Re){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Be=performance.now(),De=null,Fe=Oe=>{Oe-Be>=je?Re(Oe):typeof requestAnimationFrame=="function"&&(De=requestAnimationFrame(Fe))};return De=requestAnimationFrame(Fe),()=>{cancelAnimationFrame(De)}}}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}var AnimationManagerContext=reactExports.createContext(createDefaultAnimationManager);function useAnimationManager(Ce,Re){var je=reactExports.useContext(AnimationManagerContext);return reactExports.useMemo(()=>Re??je(Ce),[Ce,Re,je])}var _excluded$m=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$j.apply(null,arguments)}function _objectWithoutProperties$h(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$h(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$h(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}function ownKeys$n(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$m(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$n(Object(je),!0).forEach(function(Be){_defineProperty$r(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$n(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$r(Ce,Re,je){return(Re=_toPropertyKey$q(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$q(Ce){var Re=_toPrimitive$q(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$q(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}class AnimateImpl extends reactExports.PureComponent{constructor(Re,je){super(Re,je),_defineProperty$r(this,"mounted",!1),_defineProperty$r(this,"manager",void 0),_defineProperty$r(this,"stopJSAnimation",null),_defineProperty$r(this,"unSubscribe",null);var{isActive:Be,attributeName:De,from:Fe,to:Oe,children:ke,duration:Me,animationManager:Ue}=this.props;if(this.manager=Ue,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!Be||Me<=0){this.state={style:{}},typeof ke=="function"&&(this.state={style:Oe});return}if(Fe){if(typeof ke=="function"){this.state={style:Fe};return}this.state={style:De?{[De]:Fe}:Fe}}else this.state={style:{}}}componentDidMount(){var{isActive:Re,canBegin:je}=this.props;this.mounted=!0,!(!Re||!je)&&this.runAnimation(this.props)}componentDidUpdate(Re){var{isActive:je,canBegin:Be,attributeName:De,shouldReAnimate:Fe,to:Oe,from:ke}=this.props,{style:Me}=this.state;if(Be){if(!je){var Ue={style:De?{[De]:Oe}:Oe};this.state&&Me&&(De&&Me[De]!==Oe||!De&&Me!==Oe)&&this.setState(Ue);return}if(!(isEqual$1(Re.to,Oe)&&Re.canBegin&&Re.isActive)){var $e=!Re.canBegin||!Re.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var He=$e||Fe?ke:Re.to;if(this.state&&Me){var Qe={style:De?{[De]:He}:He};(De&&Me[De]!==He||!De&&Me!==He)&&this.setState(Qe)}this.runAnimation(_objectSpread$m(_objectSpread$m({},this.props),{},{from:He,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:Re}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),Re&&Re()}handleStyleChange(Re){this.changeStyle(Re)}changeStyle(Re){this.mounted&&this.setState({style:Re})}runJSAnimation(Re){var{from:je,to:Be,duration:De,easing:Fe,begin:Oe,onAnimationEnd:ke,onAnimationStart:Me}=Re,Ue=configUpdate(je,Be,configEasing(Fe),De,this.changeStyle,this.manager.getTimeoutController()),$e=()=>{this.stopJSAnimation=Ue()};this.manager.start([Me,Oe,$e,De,ke])}runAnimation(Re){var{begin:je,duration:Be,attributeName:De,to:Fe,easing:Oe,onAnimationStart:ke,onAnimationEnd:Me,children:Ue}=Re;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof Oe=="function"||typeof Ue=="function"||Oe==="spring"){this.runJSAnimation(Re);return}var $e=De?{[De]:Fe}:Fe,He=getTransitionVal(Object.keys($e),Be,Oe);this.manager.start([ke,je,_objectSpread$m(_objectSpread$m({},$e),{},{transition:He}),Be,Me])}render(){var Re=this.props,{children:je,begin:Be,duration:De,attributeName:Fe,easing:Oe,isActive:ke,from:Me,to:Ue,canBegin:$e,onAnimationEnd:He,shouldReAnimate:Qe,onAnimationReStart:We,animationManager:qe}=Re,Ke=_objectWithoutProperties$h(Re,_excluded$m),Xe=reactExports.Children.count(je),Ye=this.state.style;if(typeof je=="function")return je(Ye);if(!ke||Xe===0||De<=0)return je;var Ze=Je=>{var{style:tr={},className:rr}=Je.props,ar=reactExports.cloneElement(Je,_objectSpread$m(_objectSpread$m({},Ke),{},{style:_objectSpread$m(_objectSpread$m({},tr),Ye),className:rr}));return ar};return Xe===1?Ze(reactExports.Children.only(je)):reactExports.createElement("div",null,reactExports.Children.map(je,Je=>Ze(Je)))}}_defineProperty$r(AnimateImpl,"displayName","Animate");_defineProperty$r(AnimateImpl,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Animate(Ce){var Re,je=useAnimationManager((Re=Ce.attributeName)!==null&&Re!==void 0?Re:Object.keys(Ce.to).join(","),Ce.animationManager);return reactExports.createElement(AnimateImpl,_extends$j({},Ce,{animationManager:je}))}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$i.apply(null,arguments)}var getRectanglePath=(Ce,Re,je,Be,De)=>{var Fe=Math.min(Math.abs(je)/2,Math.abs(Be)/2),Oe=Be>=0?1:-1,ke=je>=0?1:-1,Me=Be>=0&&je>=0||Be<0&&je<0?1:0,Ue;if(Fe>0&&De instanceof Array){for(var $e=[0,0,0,0],He=0,Qe=4;He<Qe;He++)$e[He]=De[He]>Fe?Fe:De[He];Ue="M".concat(Ce,",").concat(Re+Oe*$e[0]),$e[0]>0&&(Ue+="A ".concat($e[0],",").concat($e[0],",0,0,").concat(Me,",").concat(Ce+ke*$e[0],",").concat(Re)),Ue+="L ".concat(Ce+je-ke*$e[1],",").concat(Re),$e[1]>0&&(Ue+="A ".concat($e[1],",").concat($e[1],",0,0,").concat(Me,`,
        `).concat(Ce+je,",").concat(Re+Oe*$e[1])),Ue+="L ".concat(Ce+je,",").concat(Re+Be-Oe*$e[2]),$e[2]>0&&(Ue+="A ".concat($e[2],",").concat($e[2],",0,0,").concat(Me,`,
        `).concat(Ce+je-ke*$e[2],",").concat(Re+Be)),Ue+="L ".concat(Ce+ke*$e[3],",").concat(Re+Be),$e[3]>0&&(Ue+="A ".concat($e[3],",").concat($e[3],",0,0,").concat(Me,`,
        `).concat(Ce,",").concat(Re+Be-Oe*$e[3])),Ue+="Z"}else if(Fe>0&&De===+De&&De>0){var We=Math.min(Fe,De);Ue="M ".concat(Ce,",").concat(Re+Oe*We,`
            A `).concat(We,",").concat(We,",0,0,").concat(Me,",").concat(Ce+ke*We,",").concat(Re,`
            L `).concat(Ce+je-ke*We,",").concat(Re,`
            A `).concat(We,",").concat(We,",0,0,").concat(Me,",").concat(Ce+je,",").concat(Re+Oe*We,`
            L `).concat(Ce+je,",").concat(Re+Be-Oe*We,`
            A `).concat(We,",").concat(We,",0,0,").concat(Me,",").concat(Ce+je-ke*We,",").concat(Re+Be,`
            L `).concat(Ce+ke*We,",").concat(Re+Be,`
            A `).concat(We,",").concat(We,",0,0,").concat(Me,",").concat(Ce,",").concat(Re+Be-Oe*We," Z")}else Ue="M ".concat(Ce,",").concat(Re," h ").concat(je," v ").concat(Be," h ").concat(-je," Z");return Ue},defaultProps$6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=Ce=>{var Re=resolveDefaultProps(Ce,defaultProps$6),je=reactExports.useRef(null),[Be,De]=reactExports.useState(-1);reactExports.useEffect(()=>{if(je.current&&je.current.getTotalLength)try{var Ye=je.current.getTotalLength();Ye&&De(Ye)}catch{}},[]);var{x:Fe,y:Oe,width:ke,height:Me,radius:Ue,className:$e}=Re,{animationEasing:He,animationDuration:Qe,animationBegin:We,isAnimationActive:qe,isUpdateAnimationActive:Ke}=Re;if(Fe!==+Fe||Oe!==+Oe||ke!==+ke||Me!==+Me||ke===0||Me===0)return null;var Xe=clsx("recharts-rectangle",$e);return Ke?reactExports.createElement(Animate,{canBegin:Be>0,from:{width:ke,height:Me,x:Fe,y:Oe},to:{width:ke,height:Me,x:Fe,y:Oe},duration:Qe,animationEasing:He,isActive:Ke},Ye=>{var{width:Ze,height:Je,x:tr,y:rr}=Ye;return reactExports.createElement(Animate,{canBegin:Be>0,from:"0px ".concat(Be===-1?1:Be,"px"),to:"".concat(Be,"px 0px"),attributeName:"strokeDasharray",begin:We,duration:Qe,isActive:qe,easing:He},reactExports.createElement("path",_extends$i({},filterProps(Re,!0),{className:Xe,d:getRectanglePath(tr,rr,Ze,Je,Ue),ref:je})))}):reactExports.createElement("path",_extends$i({},filterProps(Re,!0),{className:Xe,d:getRectanglePath(Fe,Oe,ke,Me,Ue)}))};function getRadialCursorPoints(Ce){var{cx:Re,cy:je,radius:Be,startAngle:De,endAngle:Fe}=Ce,Oe=polarToCartesian(Re,je,Be,De),ke=polarToCartesian(Re,je,Be,Fe);return{points:[Oe,ke],cx:Re,cy:je,radius:Be,startAngle:De,endAngle:Fe}}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$h.apply(null,arguments)}var getDeltaAngle$1=(Ce,Re)=>{var je=mathSign(Re-Ce),Be=Math.min(Math.abs(Re-Ce),359.999);return je*Be},getTangentCircle=Ce=>{var{cx:Re,cy:je,radius:Be,angle:De,sign:Fe,isExternal:Oe,cornerRadius:ke,cornerIsExternal:Me}=Ce,Ue=ke*(Oe?1:-1)+Be,$e=Math.asin(ke/Ue)/RADIAN,He=Me?De:De+Fe*$e,Qe=polarToCartesian(Re,je,Ue,He),We=polarToCartesian(Re,je,Be,He),qe=Me?De-Fe*$e:De,Ke=polarToCartesian(Re,je,Ue*Math.cos($e*RADIAN),qe);return{center:Qe,circleTangency:We,lineTangency:Ke,theta:$e}},getSectorPath=Ce=>{var{cx:Re,cy:je,innerRadius:Be,outerRadius:De,startAngle:Fe,endAngle:Oe}=Ce,ke=getDeltaAngle$1(Fe,Oe),Me=Fe+ke,Ue=polarToCartesian(Re,je,De,Fe),$e=polarToCartesian(Re,je,De,Me),He="M ".concat(Ue.x,",").concat(Ue.y,`
    A `).concat(De,",").concat(De,`,0,
    `).concat(+(Math.abs(ke)>180),",").concat(+(Fe>Me),`,
    `).concat($e.x,",").concat($e.y,`
  `);if(Be>0){var Qe=polarToCartesian(Re,je,Be,Fe),We=polarToCartesian(Re,je,Be,Me);He+="L ".concat(We.x,",").concat(We.y,`
            A `).concat(Be,",").concat(Be,`,0,
            `).concat(+(Math.abs(ke)>180),",").concat(+(Fe<=Me),`,
            `).concat(Qe.x,",").concat(Qe.y," Z")}else He+="L ".concat(Re,",").concat(je," Z");return He},getSectorWithCorner=Ce=>{var{cx:Re,cy:je,innerRadius:Be,outerRadius:De,cornerRadius:Fe,forceCornerRadius:Oe,cornerIsExternal:ke,startAngle:Me,endAngle:Ue}=Ce,$e=mathSign(Ue-Me),{circleTangency:He,lineTangency:Qe,theta:We}=getTangentCircle({cx:Re,cy:je,radius:De,angle:Me,sign:$e,cornerRadius:Fe,cornerIsExternal:ke}),{circleTangency:qe,lineTangency:Ke,theta:Xe}=getTangentCircle({cx:Re,cy:je,radius:De,angle:Ue,sign:-$e,cornerRadius:Fe,cornerIsExternal:ke}),Ye=ke?Math.abs(Me-Ue):Math.abs(Me-Ue)-We-Xe;if(Ye<0)return Oe?"M ".concat(Qe.x,",").concat(Qe.y,`
        a`).concat(Fe,",").concat(Fe,",0,0,1,").concat(Fe*2,`,0
        a`).concat(Fe,",").concat(Fe,",0,0,1,").concat(-Fe*2,`,0
      `):getSectorPath({cx:Re,cy:je,innerRadius:Be,outerRadius:De,startAngle:Me,endAngle:Ue});var Ze="M ".concat(Qe.x,",").concat(Qe.y,`
    A`).concat(Fe,",").concat(Fe,",0,0,").concat(+($e<0),",").concat(He.x,",").concat(He.y,`
    A`).concat(De,",").concat(De,",0,").concat(+(Ye>180),",").concat(+($e<0),",").concat(qe.x,",").concat(qe.y,`
    A`).concat(Fe,",").concat(Fe,",0,0,").concat(+($e<0),",").concat(Ke.x,",").concat(Ke.y,`
  `);if(Be>0){var{circleTangency:Je,lineTangency:tr,theta:rr}=getTangentCircle({cx:Re,cy:je,radius:Be,angle:Me,sign:$e,isExternal:!0,cornerRadius:Fe,cornerIsExternal:ke}),{circleTangency:ar,lineTangency:nr,theta:sr}=getTangentCircle({cx:Re,cy:je,radius:Be,angle:Ue,sign:-$e,isExternal:!0,cornerRadius:Fe,cornerIsExternal:ke}),dr=ke?Math.abs(Me-Ue):Math.abs(Me-Ue)-rr-sr;if(dr<0&&Fe===0)return"".concat(Ze,"L").concat(Re,",").concat(je,"Z");Ze+="L".concat(nr.x,",").concat(nr.y,`
      A`).concat(Fe,",").concat(Fe,",0,0,").concat(+($e<0),",").concat(ar.x,",").concat(ar.y,`
      A`).concat(Be,",").concat(Be,",0,").concat(+(dr>180),",").concat(+($e>0),",").concat(Je.x,",").concat(Je.y,`
      A`).concat(Fe,",").concat(Fe,",0,0,").concat(+($e<0),",").concat(tr.x,",").concat(tr.y,"Z")}else Ze+="L".concat(Re,",").concat(je,"Z");return Ze},defaultProps$5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=Ce=>{var Re=resolveDefaultProps(Ce,defaultProps$5),{cx:je,cy:Be,innerRadius:De,outerRadius:Fe,cornerRadius:Oe,forceCornerRadius:ke,cornerIsExternal:Me,startAngle:Ue,endAngle:$e,className:He}=Re;if(Fe<De||Ue===$e)return null;var Qe=clsx("recharts-sector",He),We=Fe-De,qe=getPercentValue(Oe,We,0,!0),Ke;return qe>0&&Math.abs(Ue-$e)<360?Ke=getSectorWithCorner({cx:je,cy:Be,innerRadius:De,outerRadius:Fe,cornerRadius:Math.min(qe,We/2),forceCornerRadius:ke,cornerIsExternal:Me,startAngle:Ue,endAngle:$e}):Ke=getSectorPath({cx:je,cy:Be,innerRadius:De,outerRadius:Fe,startAngle:Ue,endAngle:$e}),reactExports.createElement("path",_extends$h({},filterProps(Re,!0),{className:Qe,d:Ke}))};function getCursorPoints(Ce,Re,je){var Be,De,Fe,Oe;if(Ce==="horizontal")Be=Re.x,Fe=Be,De=je.top,Oe=je.top+je.height;else if(Ce==="vertical")De=Re.y,Oe=De,Be=je.left,Fe=je.left+je.width;else if(Re.cx!=null&&Re.cy!=null)if(Ce==="centric"){var{cx:ke,cy:Me,innerRadius:Ue,outerRadius:$e,angle:He}=Re,Qe=polarToCartesian(ke,Me,Ue,He),We=polarToCartesian(ke,Me,$e,He);Be=Qe.x,De=Qe.y,Fe=We.x,Oe=We.y}else return getRadialCursorPoints(Re);return[{x:Be,y:De},{x:Fe,y:Oe}]}var range$4={},toFinite={},toNumber={},hasRequiredToNumber;function requireToNumber(){return hasRequiredToNumber||(hasRequiredToNumber=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIsSymbol();function je(Be){return Re.isSymbol(Be)?NaN:Number(Be)}Ce.toNumber=je})(toNumber)),toNumber}var hasRequiredToFinite;function requireToFinite(){return hasRequiredToFinite||(hasRequiredToFinite=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireToNumber();function je(Be){return Be?(Be=Re.toNumber(Be),Be===1/0||Be===-1/0?(Be<0?-1:1)*Number.MAX_VALUE:Be===Be?Be:0):Be===0?Be:0}Ce.toFinite=je})(toFinite)),toFinite}var hasRequiredRange$1;function requireRange$1(){return hasRequiredRange$1||(hasRequiredRange$1=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireIsIterateeCall(),je=requireToFinite();function Be(De,Fe,Oe){Oe&&typeof Oe!="number"&&Re.isIterateeCall(De,Fe,Oe)&&(Fe=Oe=void 0),De=je.toFinite(De),Fe===void 0?(Fe=De,De=0):Fe=je.toFinite(Fe),Oe=Oe===void 0?De<Fe?1:-1:je.toFinite(Oe);const ke=Math.max(Math.ceil((Fe-De)/(Oe||1)),0),Me=new Array(ke);for(let Ue=0;Ue<ke;Ue++)Me[Ue]=De,De+=Oe;return Me}Ce.range=Be})(range$4)),range$4}var range$3,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range$3=requireRange$1().range),range$3}var rangeExports=requireRange();const range$2=getDefaultExportFromCjs(rangeExports);function ascending(Ce,Re){return Ce==null||Re==null?NaN:Ce<Re?-1:Ce>Re?1:Ce>=Re?0:NaN}function descending(Ce,Re){return Ce==null||Re==null?NaN:Re<Ce?-1:Re>Ce?1:Re>=Ce?0:NaN}function bisector(Ce){let Re,je,Be;Ce.length!==2?(Re=ascending,je=(ke,Me)=>ascending(Ce(ke),Me),Be=(ke,Me)=>Ce(ke)-Me):(Re=Ce===ascending||Ce===descending?Ce:zero$1,je=Ce,Be=Ce);function De(ke,Me,Ue=0,$e=ke.length){if(Ue<$e){if(Re(Me,Me)!==0)return $e;do{const He=Ue+$e>>>1;je(ke[He],Me)<0?Ue=He+1:$e=He}while(Ue<$e)}return Ue}function Fe(ke,Me,Ue=0,$e=ke.length){if(Ue<$e){if(Re(Me,Me)!==0)return $e;do{const He=Ue+$e>>>1;je(ke[He],Me)<=0?Ue=He+1:$e=He}while(Ue<$e)}return Ue}function Oe(ke,Me,Ue=0,$e=ke.length){const He=De(ke,Me,Ue,$e-1);return He>Ue&&Be(ke[He-1],Me)>-Be(ke[He],Me)?He-1:He}return{left:De,center:Oe,right:Fe}}function zero$1(){return 0}function number$2(Ce){return Ce===null?NaN:+Ce}function*numbers(Ce,Re){for(let je of Ce)je!=null&&(je=+je)>=je&&(yield je)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(Re,je=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:je}}),Re!=null)for(const[Be,De]of Re)this.set(Be,De)}get(Re){return super.get(intern_get(this,Re))}has(Re){return super.has(intern_get(this,Re))}set(Re,je){return super.set(intern_set(this,Re),je)}delete(Re){return super.delete(intern_delete(this,Re))}}function intern_get({_intern:Ce,_key:Re},je){const Be=Re(je);return Ce.has(Be)?Ce.get(Be):je}function intern_set({_intern:Ce,_key:Re},je){const Be=Re(je);return Ce.has(Be)?Ce.get(Be):(Ce.set(Be,je),je)}function intern_delete({_intern:Ce,_key:Re},je){const Be=Re(je);return Ce.has(Be)&&(je=Ce.get(Be),Ce.delete(Be)),je}function keyof(Ce){return Ce!==null&&typeof Ce=="object"?Ce.valueOf():Ce}function compareDefined(Ce=ascending){if(Ce===ascending)return ascendingDefined;if(typeof Ce!="function")throw new TypeError("compare is not a function");return(Re,je)=>{const Be=Ce(Re,je);return Be||Be===0?Be:(Ce(je,je)===0)-(Ce(Re,Re)===0)}}function ascendingDefined(Ce,Re){return(Ce==null||!(Ce>=Ce))-(Re==null||!(Re>=Re))||(Ce<Re?-1:Ce>Re?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(Ce,Re,je){const Be=(Re-Ce)/Math.max(0,je),De=Math.floor(Math.log10(Be)),Fe=Be/Math.pow(10,De),Oe=Fe>=e10?10:Fe>=e5?5:Fe>=e2?2:1;let ke,Me,Ue;return De<0?(Ue=Math.pow(10,-De)/Oe,ke=Math.round(Ce*Ue),Me=Math.round(Re*Ue),ke/Ue<Ce&&++ke,Me/Ue>Re&&--Me,Ue=-Ue):(Ue=Math.pow(10,De)*Oe,ke=Math.round(Ce/Ue),Me=Math.round(Re/Ue),ke*Ue<Ce&&++ke,Me*Ue>Re&&--Me),Me<ke&&.5<=je&&je<2?tickSpec(Ce,Re,je*2):[ke,Me,Ue]}function ticks(Ce,Re,je){if(Re=+Re,Ce=+Ce,je=+je,!(je>0))return[];if(Ce===Re)return[Ce];const Be=Re<Ce,[De,Fe,Oe]=Be?tickSpec(Re,Ce,je):tickSpec(Ce,Re,je);if(!(Fe>=De))return[];const ke=Fe-De+1,Me=new Array(ke);if(Be)if(Oe<0)for(let Ue=0;Ue<ke;++Ue)Me[Ue]=(Fe-Ue)/-Oe;else for(let Ue=0;Ue<ke;++Ue)Me[Ue]=(Fe-Ue)*Oe;else if(Oe<0)for(let Ue=0;Ue<ke;++Ue)Me[Ue]=(De+Ue)/-Oe;else for(let Ue=0;Ue<ke;++Ue)Me[Ue]=(De+Ue)*Oe;return Me}function tickIncrement(Ce,Re,je){return Re=+Re,Ce=+Ce,je=+je,tickSpec(Ce,Re,je)[2]}function tickStep(Ce,Re,je){Re=+Re,Ce=+Ce,je=+je;const Be=Re<Ce,De=Be?tickIncrement(Re,Ce,je):tickIncrement(Ce,Re,je);return(Be?-1:1)*(De<0?1/-De:De)}function max$1(Ce,Re){let je;for(const Be of Ce)Be!=null&&(je<Be||je===void 0&&Be>=Be)&&(je=Be);return je}function min$1(Ce,Re){let je;for(const Be of Ce)Be!=null&&(je>Be||je===void 0&&Be>=Be)&&(je=Be);return je}function quickselect(Ce,Re,je=0,Be=1/0,De){if(Re=Math.floor(Re),je=Math.floor(Math.max(0,je)),Be=Math.floor(Math.min(Ce.length-1,Be)),!(je<=Re&&Re<=Be))return Ce;for(De=De===void 0?ascendingDefined:compareDefined(De);Be>je;){if(Be-je>600){const Me=Be-je+1,Ue=Re-je+1,$e=Math.log(Me),He=.5*Math.exp(2*$e/3),Qe=.5*Math.sqrt($e*He*(Me-He)/Me)*(Ue-Me/2<0?-1:1),We=Math.max(je,Math.floor(Re-Ue*He/Me+Qe)),qe=Math.min(Be,Math.floor(Re+(Me-Ue)*He/Me+Qe));quickselect(Ce,Re,We,qe,De)}const Fe=Ce[Re];let Oe=je,ke=Be;for(swap(Ce,je,Re),De(Ce[Be],Fe)>0&&swap(Ce,je,Be);Oe<ke;){for(swap(Ce,Oe,ke),++Oe,--ke;De(Ce[Oe],Fe)<0;)++Oe;for(;De(Ce[ke],Fe)>0;)--ke}De(Ce[je],Fe)===0?swap(Ce,je,ke):(++ke,swap(Ce,ke,Be)),ke<=Re&&(je=ke+1),Re<=ke&&(Be=ke-1)}return Ce}function swap(Ce,Re,je){const Be=Ce[Re];Ce[Re]=Ce[je],Ce[je]=Be}function quantile$1(Ce,Re,je){if(Ce=Float64Array.from(numbers(Ce)),!(!(Be=Ce.length)||isNaN(Re=+Re))){if(Re<=0||Be<2)return min$1(Ce);if(Re>=1)return max$1(Ce);var Be,De=(Be-1)*Re,Fe=Math.floor(De),Oe=max$1(quickselect(Ce,Fe).subarray(0,Fe+1)),ke=min$1(Ce.subarray(Fe+1));return Oe+(ke-Oe)*(De-Fe)}}function quantileSorted(Ce,Re,je=number$2){if(!(!(Be=Ce.length)||isNaN(Re=+Re))){if(Re<=0||Be<2)return+je(Ce[0],0,Ce);if(Re>=1)return+je(Ce[Be-1],Be-1,Ce);var Be,De=(Be-1)*Re,Fe=Math.floor(De),Oe=+je(Ce[Fe],Fe,Ce),ke=+je(Ce[Fe+1],Fe+1,Ce);return Oe+(ke-Oe)*(De-Fe)}}function range$1(Ce,Re,je){Ce=+Ce,Re=+Re,je=(De=arguments.length)<2?(Re=Ce,Ce=0,1):De<3?1:+je;for(var Be=-1,De=Math.max(0,Math.ceil((Re-Ce)/je))|0,Fe=new Array(De);++Be<De;)Fe[Be]=Ce+Be*je;return Fe}function initRange(Ce,Re){switch(arguments.length){case 0:break;case 1:this.range(Ce);break;default:this.range(Re).domain(Ce);break}return this}function initInterpolator(Ce,Re){switch(arguments.length){case 0:break;case 1:{typeof Ce=="function"?this.interpolator(Ce):this.range(Ce);break}default:{this.domain(Ce),typeof Re=="function"?this.interpolator(Re):this.range(Re);break}}return this}const implicit=Symbol("implicit");function ordinal(){var Ce=new InternMap,Re=[],je=[],Be=implicit;function De(Fe){let Oe=Ce.get(Fe);if(Oe===void 0){if(Be!==implicit)return Be;Ce.set(Fe,Oe=Re.push(Fe)-1)}return je[Oe%je.length]}return De.domain=function(Fe){if(!arguments.length)return Re.slice();Re=[],Ce=new InternMap;for(const Oe of Fe)Ce.has(Oe)||Ce.set(Oe,Re.push(Oe)-1);return De},De.range=function(Fe){return arguments.length?(je=Array.from(Fe),De):je.slice()},De.unknown=function(Fe){return arguments.length?(Be=Fe,De):Be},De.copy=function(){return ordinal(Re,je).unknown(Be)},initRange.apply(De,arguments),De}function band(){var Ce=ordinal().unknown(void 0),Re=Ce.domain,je=Ce.range,Be=0,De=1,Fe,Oe,ke=!1,Me=0,Ue=0,$e=.5;delete Ce.unknown;function He(){var Qe=Re().length,We=De<Be,qe=We?De:Be,Ke=We?Be:De;Fe=(Ke-qe)/Math.max(1,Qe-Me+Ue*2),ke&&(Fe=Math.floor(Fe)),qe+=(Ke-qe-Fe*(Qe-Me))*$e,Oe=Fe*(1-Me),ke&&(qe=Math.round(qe),Oe=Math.round(Oe));var Xe=range$1(Qe).map(function(Ye){return qe+Fe*Ye});return je(We?Xe.reverse():Xe)}return Ce.domain=function(Qe){return arguments.length?(Re(Qe),He()):Re()},Ce.range=function(Qe){return arguments.length?([Be,De]=Qe,Be=+Be,De=+De,He()):[Be,De]},Ce.rangeRound=function(Qe){return[Be,De]=Qe,Be=+Be,De=+De,ke=!0,He()},Ce.bandwidth=function(){return Oe},Ce.step=function(){return Fe},Ce.round=function(Qe){return arguments.length?(ke=!!Qe,He()):ke},Ce.padding=function(Qe){return arguments.length?(Me=Math.min(1,Ue=+Qe),He()):Me},Ce.paddingInner=function(Qe){return arguments.length?(Me=Math.min(1,Qe),He()):Me},Ce.paddingOuter=function(Qe){return arguments.length?(Ue=+Qe,He()):Ue},Ce.align=function(Qe){return arguments.length?($e=Math.max(0,Math.min(1,Qe)),He()):$e},Ce.copy=function(){return band(Re(),[Be,De]).round(ke).paddingInner(Me).paddingOuter(Ue).align($e)},initRange.apply(He(),arguments)}function pointish(Ce){var Re=Ce.copy;return Ce.padding=Ce.paddingOuter,delete Ce.paddingInner,delete Ce.paddingOuter,Ce.copy=function(){return pointish(Re())},Ce}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(Ce,Re,je){Ce.prototype=Re.prototype=je,je.constructor=Ce}function extend(Ce,Re){var je=Object.create(Ce.prototype);for(var Be in Re)je[Be]=Re[Be];return je}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$1,{copy(Ce){return Object.assign(new this.constructor,this,Ce)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(Ce){var Re,je;return Ce=(Ce+"").trim().toLowerCase(),(Re=reHex.exec(Ce))?(je=Re[1].length,Re=parseInt(Re[1],16),je===6?rgbn(Re):je===3?new Rgb(Re>>8&15|Re>>4&240,Re>>4&15|Re&240,(Re&15)<<4|Re&15,1):je===8?rgba(Re>>24&255,Re>>16&255,Re>>8&255,(Re&255)/255):je===4?rgba(Re>>12&15|Re>>8&240,Re>>8&15|Re>>4&240,Re>>4&15|Re&240,((Re&15)<<4|Re&15)/255):null):(Re=reRgbInteger.exec(Ce))?new Rgb(Re[1],Re[2],Re[3],1):(Re=reRgbPercent.exec(Ce))?new Rgb(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,1):(Re=reRgbaInteger.exec(Ce))?rgba(Re[1],Re[2],Re[3],Re[4]):(Re=reRgbaPercent.exec(Ce))?rgba(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,Re[4]):(Re=reHslPercent.exec(Ce))?hsla(Re[1],Re[2]/100,Re[3]/100,1):(Re=reHslaPercent.exec(Ce))?hsla(Re[1],Re[2]/100,Re[3]/100,Re[4]):named.hasOwnProperty(Ce)?rgbn(named[Ce]):Ce==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(Ce){return new Rgb(Ce>>16&255,Ce>>8&255,Ce&255,1)}function rgba(Ce,Re,je,Be){return Be<=0&&(Ce=Re=je=NaN),new Rgb(Ce,Re,je,Be)}function rgbConvert(Ce){return Ce instanceof Color||(Ce=color$1(Ce)),Ce?(Ce=Ce.rgb(),new Rgb(Ce.r,Ce.g,Ce.b,Ce.opacity)):new Rgb}function rgb$1(Ce,Re,je,Be){return arguments.length===1?rgbConvert(Ce):new Rgb(Ce,Re,je,Be??1)}function Rgb(Ce,Re,je,Be){this.r=+Ce,this.g=+Re,this.b=+je,this.opacity=+Be}define(Rgb,rgb$1,extend(Color,{brighter(Ce){return Ce=Ce==null?brighter:Math.pow(brighter,Ce),new Rgb(this.r*Ce,this.g*Ce,this.b*Ce,this.opacity)},darker(Ce){return Ce=Ce==null?darker:Math.pow(darker,Ce),new Rgb(this.r*Ce,this.g*Ce,this.b*Ce,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const Ce=clampa(this.opacity);return`${Ce===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${Ce===1?")":`, ${Ce})`}`}function clampa(Ce){return isNaN(Ce)?1:Math.max(0,Math.min(1,Ce))}function clampi(Ce){return Math.max(0,Math.min(255,Math.round(Ce)||0))}function hex(Ce){return Ce=clampi(Ce),(Ce<16?"0":"")+Ce.toString(16)}function hsla(Ce,Re,je,Be){return Be<=0?Ce=Re=je=NaN:je<=0||je>=1?Ce=Re=NaN:Re<=0&&(Ce=NaN),new Hsl(Ce,Re,je,Be)}function hslConvert(Ce){if(Ce instanceof Hsl)return new Hsl(Ce.h,Ce.s,Ce.l,Ce.opacity);if(Ce instanceof Color||(Ce=color$1(Ce)),!Ce)return new Hsl;if(Ce instanceof Hsl)return Ce;Ce=Ce.rgb();var Re=Ce.r/255,je=Ce.g/255,Be=Ce.b/255,De=Math.min(Re,je,Be),Fe=Math.max(Re,je,Be),Oe=NaN,ke=Fe-De,Me=(Fe+De)/2;return ke?(Re===Fe?Oe=(je-Be)/ke+(je<Be)*6:je===Fe?Oe=(Be-Re)/ke+2:Oe=(Re-je)/ke+4,ke/=Me<.5?Fe+De:2-Fe-De,Oe*=60):ke=Me>0&&Me<1?0:Oe,new Hsl(Oe,ke,Me,Ce.opacity)}function hsl(Ce,Re,je,Be){return arguments.length===1?hslConvert(Ce):new Hsl(Ce,Re,je,Be??1)}function Hsl(Ce,Re,je,Be){this.h=+Ce,this.s=+Re,this.l=+je,this.opacity=+Be}define(Hsl,hsl,extend(Color,{brighter(Ce){return Ce=Ce==null?brighter:Math.pow(brighter,Ce),new Hsl(this.h,this.s,this.l*Ce,this.opacity)},darker(Ce){return Ce=Ce==null?darker:Math.pow(darker,Ce),new Hsl(this.h,this.s,this.l*Ce,this.opacity)},rgb(){var Ce=this.h%360+(this.h<0)*360,Re=isNaN(Ce)||isNaN(this.s)?0:this.s,je=this.l,Be=je+(je<.5?je:1-je)*Re,De=2*je-Be;return new Rgb(hsl2rgb(Ce>=240?Ce-240:Ce+120,De,Be),hsl2rgb(Ce,De,Be),hsl2rgb(Ce<120?Ce+240:Ce-120,De,Be),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const Ce=clampa(this.opacity);return`${Ce===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${Ce===1?")":`, ${Ce})`}`}}));function clamph(Ce){return Ce=(Ce||0)%360,Ce<0?Ce+360:Ce}function clampt(Ce){return Math.max(0,Math.min(1,Ce||0))}function hsl2rgb(Ce,Re,je){return(Ce<60?Re+(je-Re)*Ce/60:Ce<180?je:Ce<240?Re+(je-Re)*(240-Ce)/60:Re)*255}const constant=Ce=>()=>Ce;function linear$1(Ce,Re){return function(je){return Ce+je*Re}}function exponential(Ce,Re,je){return Ce=Math.pow(Ce,je),Re=Math.pow(Re,je)-Ce,je=1/je,function(Be){return Math.pow(Ce+Be*Re,je)}}function gamma(Ce){return(Ce=+Ce)==1?nogamma:function(Re,je){return je-Re?exponential(Re,je,Ce):constant(isNaN(Re)?je:Re)}}function nogamma(Ce,Re){var je=Re-Ce;return je?linear$1(Ce,je):constant(isNaN(Ce)?Re:Ce)}const rgb=(function Ce(Re){var je=gamma(Re);function Be(De,Fe){var Oe=je((De=rgb$1(De)).r,(Fe=rgb$1(Fe)).r),ke=je(De.g,Fe.g),Me=je(De.b,Fe.b),Ue=nogamma(De.opacity,Fe.opacity);return function($e){return De.r=Oe($e),De.g=ke($e),De.b=Me($e),De.opacity=Ue($e),De+""}}return Be.gamma=Ce,Be})(1);function numberArray(Ce,Re){Re||(Re=[]);var je=Ce?Math.min(Re.length,Ce.length):0,Be=Re.slice(),De;return function(Fe){for(De=0;De<je;++De)Be[De]=Ce[De]*(1-Fe)+Re[De]*Fe;return Be}}function isNumberArray(Ce){return ArrayBuffer.isView(Ce)&&!(Ce instanceof DataView)}function genericArray(Ce,Re){var je=Re?Re.length:0,Be=Ce?Math.min(je,Ce.length):0,De=new Array(Be),Fe=new Array(je),Oe;for(Oe=0;Oe<Be;++Oe)De[Oe]=interpolate(Ce[Oe],Re[Oe]);for(;Oe<je;++Oe)Fe[Oe]=Re[Oe];return function(ke){for(Oe=0;Oe<Be;++Oe)Fe[Oe]=De[Oe](ke);return Fe}}function date$1(Ce,Re){var je=new Date;return Ce=+Ce,Re=+Re,function(Be){return je.setTime(Ce*(1-Be)+Re*Be),je}}function interpolateNumber(Ce,Re){return Ce=+Ce,Re=+Re,function(je){return Ce*(1-je)+Re*je}}function object(Ce,Re){var je={},Be={},De;(Ce===null||typeof Ce!="object")&&(Ce={}),(Re===null||typeof Re!="object")&&(Re={});for(De in Re)De in Ce?je[De]=interpolate(Ce[De],Re[De]):Be[De]=Re[De];return function(Fe){for(De in je)Be[De]=je[De](Fe);return Be}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(Ce){return function(){return Ce}}function one(Ce){return function(Re){return Ce(Re)+""}}function string(Ce,Re){var je=reA.lastIndex=reB.lastIndex=0,Be,De,Fe,Oe=-1,ke=[],Me=[];for(Ce=Ce+"",Re=Re+"";(Be=reA.exec(Ce))&&(De=reB.exec(Re));)(Fe=De.index)>je&&(Fe=Re.slice(je,Fe),ke[Oe]?ke[Oe]+=Fe:ke[++Oe]=Fe),(Be=Be[0])===(De=De[0])?ke[Oe]?ke[Oe]+=De:ke[++Oe]=De:(ke[++Oe]=null,Me.push({i:Oe,x:interpolateNumber(Be,De)})),je=reB.lastIndex;return je<Re.length&&(Fe=Re.slice(je),ke[Oe]?ke[Oe]+=Fe:ke[++Oe]=Fe),ke.length<2?Me[0]?one(Me[0].x):zero(Re):(Re=Me.length,function(Ue){for(var $e=0,He;$e<Re;++$e)ke[(He=Me[$e]).i]=He.x(Ue);return ke.join("")})}function interpolate(Ce,Re){var je=typeof Re,Be;return Re==null||je==="boolean"?constant(Re):(je==="number"?interpolateNumber:je==="string"?(Be=color$1(Re))?(Re=Be,rgb):string:Re instanceof color$1?rgb:Re instanceof Date?date$1:isNumberArray(Re)?numberArray:Array.isArray(Re)?genericArray:typeof Re.valueOf!="function"&&typeof Re.toString!="function"||isNaN(Re)?object:interpolateNumber)(Ce,Re)}function interpolateRound(Ce,Re){return Ce=+Ce,Re=+Re,function(je){return Math.round(Ce*(1-je)+Re*je)}}function piecewise(Ce,Re){Re===void 0&&(Re=Ce,Ce=interpolate);for(var je=0,Be=Re.length-1,De=Re[0],Fe=new Array(Be<0?0:Be);je<Be;)Fe[je]=Ce(De,De=Re[++je]);return function(Oe){var ke=Math.max(0,Math.min(Be-1,Math.floor(Oe*=Be)));return Fe[ke](Oe-ke)}}function constants(Ce){return function(){return Ce}}function number$1(Ce){return+Ce}var unit=[0,1];function identity$3(Ce){return Ce}function normalize(Ce,Re){return(Re-=Ce=+Ce)?function(je){return(je-Ce)/Re}:constants(isNaN(Re)?NaN:.5)}function clamper(Ce,Re){var je;return Ce>Re&&(je=Ce,Ce=Re,Re=je),function(Be){return Math.max(Ce,Math.min(Re,Be))}}function bimap(Ce,Re,je){var Be=Ce[0],De=Ce[1],Fe=Re[0],Oe=Re[1];return De<Be?(Be=normalize(De,Be),Fe=je(Oe,Fe)):(Be=normalize(Be,De),Fe=je(Fe,Oe)),function(ke){return Fe(Be(ke))}}function polymap(Ce,Re,je){var Be=Math.min(Ce.length,Re.length)-1,De=new Array(Be),Fe=new Array(Be),Oe=-1;for(Ce[Be]<Ce[0]&&(Ce=Ce.slice().reverse(),Re=Re.slice().reverse());++Oe<Be;)De[Oe]=normalize(Ce[Oe],Ce[Oe+1]),Fe[Oe]=je(Re[Oe],Re[Oe+1]);return function(ke){var Me=bisectRight(Ce,ke,1,Be)-1;return Fe[Me](De[Me](ke))}}function copy$2(Ce,Re){return Re.domain(Ce.domain()).range(Ce.range()).interpolate(Ce.interpolate()).clamp(Ce.clamp()).unknown(Ce.unknown())}function transformer$2(){var Ce=unit,Re=unit,je=interpolate,Be,De,Fe,Oe=identity$3,ke,Me,Ue;function $e(){var Qe=Math.min(Ce.length,Re.length);return Oe!==identity$3&&(Oe=clamper(Ce[0],Ce[Qe-1])),ke=Qe>2?polymap:bimap,Me=Ue=null,He}function He(Qe){return Qe==null||isNaN(Qe=+Qe)?Fe:(Me||(Me=ke(Ce.map(Be),Re,je)))(Be(Oe(Qe)))}return He.invert=function(Qe){return Oe(De((Ue||(Ue=ke(Re,Ce.map(Be),interpolateNumber)))(Qe)))},He.domain=function(Qe){return arguments.length?(Ce=Array.from(Qe,number$1),$e()):Ce.slice()},He.range=function(Qe){return arguments.length?(Re=Array.from(Qe),$e()):Re.slice()},He.rangeRound=function(Qe){return Re=Array.from(Qe),je=interpolateRound,$e()},He.clamp=function(Qe){return arguments.length?(Oe=Qe?!0:identity$3,$e()):Oe!==identity$3},He.interpolate=function(Qe){return arguments.length?(je=Qe,$e()):je},He.unknown=function(Qe){return arguments.length?(Fe=Qe,He):Fe},function(Qe,We){return Be=Qe,De=We,$e()}}function continuous(){return transformer$2()(identity$3,identity$3)}function formatDecimal(Ce){return Math.abs(Ce=Math.round(Ce))>=1e21?Ce.toLocaleString("en").replace(/,/g,""):Ce.toString(10)}function formatDecimalParts(Ce,Re){if((je=(Ce=Re?Ce.toExponential(Re-1):Ce.toExponential()).indexOf("e"))<0)return null;var je,Be=Ce.slice(0,je);return[Be.length>1?Be[0]+Be.slice(2):Be,+Ce.slice(je+1)]}function exponent(Ce){return Ce=formatDecimalParts(Math.abs(Ce)),Ce?Ce[1]:NaN}function formatGroup(Ce,Re){return function(je,Be){for(var De=je.length,Fe=[],Oe=0,ke=Ce[0],Me=0;De>0&&ke>0&&(Me+ke+1>Be&&(ke=Math.max(1,Be-Me)),Fe.push(je.substring(De-=ke,De+ke)),!((Me+=ke+1)>Be));)ke=Ce[Oe=(Oe+1)%Ce.length];return Fe.reverse().join(Re)}}function formatNumerals(Ce){return function(Re){return Re.replace(/[0-9]/g,function(je){return Ce[+je]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(Ce){if(!(Re=re$1.exec(Ce)))throw new Error("invalid format: "+Ce);var Re;return new FormatSpecifier({fill:Re[1],align:Re[2],sign:Re[3],symbol:Re[4],zero:Re[5],width:Re[6],comma:Re[7],precision:Re[8]&&Re[8].slice(1),trim:Re[9],type:Re[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(Ce){this.fill=Ce.fill===void 0?" ":Ce.fill+"",this.align=Ce.align===void 0?">":Ce.align+"",this.sign=Ce.sign===void 0?"-":Ce.sign+"",this.symbol=Ce.symbol===void 0?"":Ce.symbol+"",this.zero=!!Ce.zero,this.width=Ce.width===void 0?void 0:+Ce.width,this.comma=!!Ce.comma,this.precision=Ce.precision===void 0?void 0:+Ce.precision,this.trim=!!Ce.trim,this.type=Ce.type===void 0?"":Ce.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(Ce){e:for(var Re=Ce.length,je=1,Be=-1,De;je<Re;++je)switch(Ce[je]){case".":Be=De=je;break;case"0":Be===0&&(Be=je),De=je;break;default:if(!+Ce[je])break e;Be>0&&(Be=0);break}return Be>0?Ce.slice(0,Be)+Ce.slice(De+1):Ce}var prefixExponent;function formatPrefixAuto(Ce,Re){var je=formatDecimalParts(Ce,Re);if(!je)return Ce+"";var Be=je[0],De=je[1],Fe=De-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(De/3)))*3)+1,Oe=Be.length;return Fe===Oe?Be:Fe>Oe?Be+new Array(Fe-Oe+1).join("0"):Fe>0?Be.slice(0,Fe)+"."+Be.slice(Fe):"0."+new Array(1-Fe).join("0")+formatDecimalParts(Ce,Math.max(0,Re+Fe-1))[0]}function formatRounded(Ce,Re){var je=formatDecimalParts(Ce,Re);if(!je)return Ce+"";var Be=je[0],De=je[1];return De<0?"0."+new Array(-De).join("0")+Be:Be.length>De+1?Be.slice(0,De+1)+"."+Be.slice(De+1):Be+new Array(De-Be.length+2).join("0")}const formatTypes={"%":(Ce,Re)=>(Ce*100).toFixed(Re),b:Ce=>Math.round(Ce).toString(2),c:Ce=>Ce+"",d:formatDecimal,e:(Ce,Re)=>Ce.toExponential(Re),f:(Ce,Re)=>Ce.toFixed(Re),g:(Ce,Re)=>Ce.toPrecision(Re),o:Ce=>Math.round(Ce).toString(8),p:(Ce,Re)=>formatRounded(Ce*100,Re),r:formatRounded,s:formatPrefixAuto,X:Ce=>Math.round(Ce).toString(16).toUpperCase(),x:Ce=>Math.round(Ce).toString(16)};function identity$2(Ce){return Ce}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(Ce){var Re=Ce.grouping===void 0||Ce.thousands===void 0?identity$2:formatGroup(map$1.call(Ce.grouping,Number),Ce.thousands+""),je=Ce.currency===void 0?"":Ce.currency[0]+"",Be=Ce.currency===void 0?"":Ce.currency[1]+"",De=Ce.decimal===void 0?".":Ce.decimal+"",Fe=Ce.numerals===void 0?identity$2:formatNumerals(map$1.call(Ce.numerals,String)),Oe=Ce.percent===void 0?"%":Ce.percent+"",ke=Ce.minus===void 0?"":Ce.minus+"",Me=Ce.nan===void 0?"NaN":Ce.nan+"";function Ue(He){He=formatSpecifier(He);var Qe=He.fill,We=He.align,qe=He.sign,Ke=He.symbol,Xe=He.zero,Ye=He.width,Ze=He.comma,Je=He.precision,tr=He.trim,rr=He.type;rr==="n"?(Ze=!0,rr="g"):formatTypes[rr]||(Je===void 0&&(Je=12),tr=!0,rr="g"),(Xe||Qe==="0"&&We==="=")&&(Xe=!0,Qe="0",We="=");var ar=Ke==="$"?je:Ke==="#"&&/[boxX]/.test(rr)?"0"+rr.toLowerCase():"",nr=Ke==="$"?Be:/[%p]/.test(rr)?Oe:"",sr=formatTypes[rr],dr=/[defgprs%]/.test(rr);Je=Je===void 0?6:/[gprs]/.test(rr)?Math.max(1,Math.min(21,Je)):Math.max(0,Math.min(20,Je));function _r(fr){var or=ar,Er=nr,Rr,jr,xr;if(rr==="c")Er=sr(fr)+Er,fr="";else{fr=+fr;var Pr=fr<0||1/fr<0;if(fr=isNaN(fr)?Me:sr(Math.abs(fr),Je),tr&&(fr=formatTrim(fr)),Pr&&+fr==0&&qe!=="+"&&(Pr=!1),or=(Pr?qe==="("?qe:ke:qe==="-"||qe==="("?"":qe)+or,Er=(rr==="s"?prefixes[8+prefixExponent/3]:"")+Er+(Pr&&qe==="("?")":""),dr){for(Rr=-1,jr=fr.length;++Rr<jr;)if(xr=fr.charCodeAt(Rr),48>xr||xr>57){Er=(xr===46?De+fr.slice(Rr+1):fr.slice(Rr))+Er,fr=fr.slice(0,Rr);break}}}Ze&&!Xe&&(fr=Re(fr,1/0));var br=or.length+fr.length+Er.length,wr=br<Ye?new Array(Ye-br+1).join(Qe):"";switch(Ze&&Xe&&(fr=Re(wr+fr,wr.length?Ye-Er.length:1/0),wr=""),We){case"<":fr=or+fr+Er+wr;break;case"=":fr=or+wr+fr+Er;break;case"^":fr=wr.slice(0,br=wr.length>>1)+or+fr+Er+wr.slice(br);break;default:fr=wr+or+fr+Er;break}return Fe(fr)}return _r.toString=function(){return He+""},_r}function $e(He,Qe){var We=Ue((He=formatSpecifier(He),He.type="f",He)),qe=Math.max(-8,Math.min(8,Math.floor(exponent(Qe)/3)))*3,Ke=Math.pow(10,-qe),Xe=prefixes[8+qe/3];return function(Ye){return We(Ke*Ye)+Xe}}return{format:Ue,formatPrefix:$e}}var locale$1,format$1,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(Ce){return locale$1=formatLocale$1(Ce),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(Ce){return Math.max(0,-exponent(Math.abs(Ce)))}function precisionPrefix(Ce,Re){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(Re)/3)))*3-exponent(Math.abs(Ce)))}function precisionRound(Ce,Re){return Ce=Math.abs(Ce),Re=Math.abs(Re)-Ce,Math.max(0,exponent(Re)-exponent(Ce))+1}function tickFormat(Ce,Re,je,Be){var De=tickStep(Ce,Re,je),Fe;switch(Be=formatSpecifier(Be??",f"),Be.type){case"s":{var Oe=Math.max(Math.abs(Ce),Math.abs(Re));return Be.precision==null&&!isNaN(Fe=precisionPrefix(De,Oe))&&(Be.precision=Fe),formatPrefix(Be,Oe)}case"":case"e":case"g":case"p":case"r":{Be.precision==null&&!isNaN(Fe=precisionRound(De,Math.max(Math.abs(Ce),Math.abs(Re))))&&(Be.precision=Fe-(Be.type==="e"));break}case"f":case"%":{Be.precision==null&&!isNaN(Fe=precisionFixed(De))&&(Be.precision=Fe-(Be.type==="%")*2);break}}return format$1(Be)}function linearish(Ce){var Re=Ce.domain;return Ce.ticks=function(je){var Be=Re();return ticks(Be[0],Be[Be.length-1],je??10)},Ce.tickFormat=function(je,Be){var De=Re();return tickFormat(De[0],De[De.length-1],je??10,Be)},Ce.nice=function(je){je==null&&(je=10);var Be=Re(),De=0,Fe=Be.length-1,Oe=Be[De],ke=Be[Fe],Me,Ue,$e=10;for(ke<Oe&&(Ue=Oe,Oe=ke,ke=Ue,Ue=De,De=Fe,Fe=Ue);$e-- >0;){if(Ue=tickIncrement(Oe,ke,je),Ue===Me)return Be[De]=Oe,Be[Fe]=ke,Re(Be);if(Ue>0)Oe=Math.floor(Oe/Ue)*Ue,ke=Math.ceil(ke/Ue)*Ue;else if(Ue<0)Oe=Math.ceil(Oe*Ue)/Ue,ke=Math.floor(ke*Ue)/Ue;else break;Me=Ue}return Ce},Ce}function linear(){var Ce=continuous();return Ce.copy=function(){return copy$2(Ce,linear())},initRange.apply(Ce,arguments),linearish(Ce)}function identity$1(Ce){var Re;function je(Be){return Be==null||isNaN(Be=+Be)?Re:Be}return je.invert=je,je.domain=je.range=function(Be){return arguments.length?(Ce=Array.from(Be,number$1),je):Ce.slice()},je.unknown=function(Be){return arguments.length?(Re=Be,je):Re},je.copy=function(){return identity$1(Ce).unknown(Re)},Ce=arguments.length?Array.from(Ce,number$1):[0,1],linearish(je)}function nice(Ce,Re){Ce=Ce.slice();var je=0,Be=Ce.length-1,De=Ce[je],Fe=Ce[Be],Oe;return Fe<De&&(Oe=je,je=Be,Be=Oe,Oe=De,De=Fe,Fe=Oe),Ce[je]=Re.floor(De),Ce[Be]=Re.ceil(Fe),Ce}function transformLog(Ce){return Math.log(Ce)}function transformExp(Ce){return Math.exp(Ce)}function transformLogn(Ce){return-Math.log(-Ce)}function transformExpn(Ce){return-Math.exp(-Ce)}function pow10(Ce){return isFinite(Ce)?+("1e"+Ce):Ce<0?0:Ce}function powp(Ce){return Ce===10?pow10:Ce===Math.E?Math.exp:Re=>Math.pow(Ce,Re)}function logp(Ce){return Ce===Math.E?Math.log:Ce===10&&Math.log10||Ce===2&&Math.log2||(Ce=Math.log(Ce),Re=>Math.log(Re)/Ce)}function reflect(Ce){return(Re,je)=>-Ce(-Re,je)}function loggish(Ce){const Re=Ce(transformLog,transformExp),je=Re.domain;let Be=10,De,Fe;function Oe(){return De=logp(Be),Fe=powp(Be),je()[0]<0?(De=reflect(De),Fe=reflect(Fe),Ce(transformLogn,transformExpn)):Ce(transformLog,transformExp),Re}return Re.base=function(ke){return arguments.length?(Be=+ke,Oe()):Be},Re.domain=function(ke){return arguments.length?(je(ke),Oe()):je()},Re.ticks=ke=>{const Me=je();let Ue=Me[0],$e=Me[Me.length-1];const He=$e<Ue;He&&([Ue,$e]=[$e,Ue]);let Qe=De(Ue),We=De($e),qe,Ke;const Xe=ke==null?10:+ke;let Ye=[];if(!(Be%1)&&We-Qe<Xe){if(Qe=Math.floor(Qe),We=Math.ceil(We),Ue>0){for(;Qe<=We;++Qe)for(qe=1;qe<Be;++qe)if(Ke=Qe<0?qe/Fe(-Qe):qe*Fe(Qe),!(Ke<Ue)){if(Ke>$e)break;Ye.push(Ke)}}else for(;Qe<=We;++Qe)for(qe=Be-1;qe>=1;--qe)if(Ke=Qe>0?qe/Fe(-Qe):qe*Fe(Qe),!(Ke<Ue)){if(Ke>$e)break;Ye.push(Ke)}Ye.length*2<Xe&&(Ye=ticks(Ue,$e,Xe))}else Ye=ticks(Qe,We,Math.min(We-Qe,Xe)).map(Fe);return He?Ye.reverse():Ye},Re.tickFormat=(ke,Me)=>{if(ke==null&&(ke=10),Me==null&&(Me=Be===10?"s":","),typeof Me!="function"&&(!(Be%1)&&(Me=formatSpecifier(Me)).precision==null&&(Me.trim=!0),Me=format$1(Me)),ke===1/0)return Me;const Ue=Math.max(1,Be*ke/Re.ticks().length);return $e=>{let He=$e/Fe(Math.round(De($e)));return He*Be<Be-.5&&(He*=Be),He<=Ue?Me($e):""}},Re.nice=()=>je(nice(je(),{floor:ke=>Fe(Math.floor(De(ke))),ceil:ke=>Fe(Math.ceil(De(ke)))})),Re}function log(){const Ce=loggish(transformer$2()).domain([1,10]);return Ce.copy=()=>copy$2(Ce,log()).base(Ce.base()),initRange.apply(Ce,arguments),Ce}function transformSymlog(Ce){return function(Re){return Math.sign(Re)*Math.log1p(Math.abs(Re/Ce))}}function transformSymexp(Ce){return function(Re){return Math.sign(Re)*Math.expm1(Math.abs(Re))*Ce}}function symlogish(Ce){var Re=1,je=Ce(transformSymlog(Re),transformSymexp(Re));return je.constant=function(Be){return arguments.length?Ce(transformSymlog(Re=+Be),transformSymexp(Re)):Re},linearish(je)}function symlog(){var Ce=symlogish(transformer$2());return Ce.copy=function(){return copy$2(Ce,symlog()).constant(Ce.constant())},initRange.apply(Ce,arguments)}function transformPow(Ce){return function(Re){return Re<0?-Math.pow(-Re,Ce):Math.pow(Re,Ce)}}function transformSqrt(Ce){return Ce<0?-Math.sqrt(-Ce):Math.sqrt(Ce)}function transformSquare(Ce){return Ce<0?-Ce*Ce:Ce*Ce}function powish(Ce){var Re=Ce(identity$3,identity$3),je=1;function Be(){return je===1?Ce(identity$3,identity$3):je===.5?Ce(transformSqrt,transformSquare):Ce(transformPow(je),transformPow(1/je))}return Re.exponent=function(De){return arguments.length?(je=+De,Be()):je},linearish(Re)}function pow(){var Ce=powish(transformer$2());return Ce.copy=function(){return copy$2(Ce,pow()).exponent(Ce.exponent())},initRange.apply(Ce,arguments),Ce}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(Ce){return Math.sign(Ce)*Ce*Ce}function unsquare(Ce){return Math.sign(Ce)*Math.sqrt(Math.abs(Ce))}function radial(){var Ce=continuous(),Re=[0,1],je=!1,Be;function De(Fe){var Oe=unsquare(Ce(Fe));return isNaN(Oe)?Be:je?Math.round(Oe):Oe}return De.invert=function(Fe){return Ce.invert(square(Fe))},De.domain=function(Fe){return arguments.length?(Ce.domain(Fe),De):Ce.domain()},De.range=function(Fe){return arguments.length?(Ce.range((Re=Array.from(Fe,number$1)).map(square)),De):Re.slice()},De.rangeRound=function(Fe){return De.range(Fe).round(!0)},De.round=function(Fe){return arguments.length?(je=!!Fe,De):je},De.clamp=function(Fe){return arguments.length?(Ce.clamp(Fe),De):Ce.clamp()},De.unknown=function(Fe){return arguments.length?(Be=Fe,De):Be},De.copy=function(){return radial(Ce.domain(),Re).round(je).clamp(Ce.clamp()).unknown(Be)},initRange.apply(De,arguments),linearish(De)}function quantile(){var Ce=[],Re=[],je=[],Be;function De(){var Oe=0,ke=Math.max(1,Re.length);for(je=new Array(ke-1);++Oe<ke;)je[Oe-1]=quantileSorted(Ce,Oe/ke);return Fe}function Fe(Oe){return Oe==null||isNaN(Oe=+Oe)?Be:Re[bisectRight(je,Oe)]}return Fe.invertExtent=function(Oe){var ke=Re.indexOf(Oe);return ke<0?[NaN,NaN]:[ke>0?je[ke-1]:Ce[0],ke<je.length?je[ke]:Ce[Ce.length-1]]},Fe.domain=function(Oe){if(!arguments.length)return Ce.slice();Ce=[];for(let ke of Oe)ke!=null&&!isNaN(ke=+ke)&&Ce.push(ke);return Ce.sort(ascending),De()},Fe.range=function(Oe){return arguments.length?(Re=Array.from(Oe),De()):Re.slice()},Fe.unknown=function(Oe){return arguments.length?(Be=Oe,Fe):Be},Fe.quantiles=function(){return je.slice()},Fe.copy=function(){return quantile().domain(Ce).range(Re).unknown(Be)},initRange.apply(Fe,arguments)}function quantize(){var Ce=0,Re=1,je=1,Be=[.5],De=[0,1],Fe;function Oe(Me){return Me!=null&&Me<=Me?De[bisectRight(Be,Me,0,je)]:Fe}function ke(){var Me=-1;for(Be=new Array(je);++Me<je;)Be[Me]=((Me+1)*Re-(Me-je)*Ce)/(je+1);return Oe}return Oe.domain=function(Me){return arguments.length?([Ce,Re]=Me,Ce=+Ce,Re=+Re,ke()):[Ce,Re]},Oe.range=function(Me){return arguments.length?(je=(De=Array.from(Me)).length-1,ke()):De.slice()},Oe.invertExtent=function(Me){var Ue=De.indexOf(Me);return Ue<0?[NaN,NaN]:Ue<1?[Ce,Be[0]]:Ue>=je?[Be[je-1],Re]:[Be[Ue-1],Be[Ue]]},Oe.unknown=function(Me){return arguments.length&&(Fe=Me),Oe},Oe.thresholds=function(){return Be.slice()},Oe.copy=function(){return quantize().domain([Ce,Re]).range(De).unknown(Fe)},initRange.apply(linearish(Oe),arguments)}function threshold(){var Ce=[.5],Re=[0,1],je,Be=1;function De(Fe){return Fe!=null&&Fe<=Fe?Re[bisectRight(Ce,Fe,0,Be)]:je}return De.domain=function(Fe){return arguments.length?(Ce=Array.from(Fe),Be=Math.min(Ce.length,Re.length-1),De):Ce.slice()},De.range=function(Fe){return arguments.length?(Re=Array.from(Fe),Be=Math.min(Ce.length,Re.length-1),De):Re.slice()},De.invertExtent=function(Fe){var Oe=Re.indexOf(Fe);return[Ce[Oe-1],Ce[Oe]]},De.unknown=function(Fe){return arguments.length?(je=Fe,De):je},De.copy=function(){return threshold().domain(Ce).range(Re).unknown(je)},initRange.apply(De,arguments)}const t0=new Date,t1=new Date;function timeInterval(Ce,Re,je,Be){function De(Fe){return Ce(Fe=arguments.length===0?new Date:new Date(+Fe)),Fe}return De.floor=Fe=>(Ce(Fe=new Date(+Fe)),Fe),De.ceil=Fe=>(Ce(Fe=new Date(Fe-1)),Re(Fe,1),Ce(Fe),Fe),De.round=Fe=>{const Oe=De(Fe),ke=De.ceil(Fe);return Fe-Oe<ke-Fe?Oe:ke},De.offset=(Fe,Oe)=>(Re(Fe=new Date(+Fe),Oe==null?1:Math.floor(Oe)),Fe),De.range=(Fe,Oe,ke)=>{const Me=[];if(Fe=De.ceil(Fe),ke=ke==null?1:Math.floor(ke),!(Fe<Oe)||!(ke>0))return Me;let Ue;do Me.push(Ue=new Date(+Fe)),Re(Fe,ke),Ce(Fe);while(Ue<Fe&&Fe<Oe);return Me},De.filter=Fe=>timeInterval(Oe=>{if(Oe>=Oe)for(;Ce(Oe),!Fe(Oe);)Oe.setTime(Oe-1)},(Oe,ke)=>{if(Oe>=Oe)if(ke<0)for(;++ke<=0;)for(;Re(Oe,-1),!Fe(Oe););else for(;--ke>=0;)for(;Re(Oe,1),!Fe(Oe););}),je&&(De.count=(Fe,Oe)=>(t0.setTime(+Fe),t1.setTime(+Oe),Ce(t0),Ce(t1),Math.floor(je(t0,t1))),De.every=Fe=>(Fe=Math.floor(Fe),!isFinite(Fe)||!(Fe>0)?null:Fe>1?De.filter(Be?Oe=>Be(Oe)%Fe===0:Oe=>De.count(0,Oe)%Fe===0):De)),De}const millisecond=timeInterval(()=>{},(Ce,Re)=>{Ce.setTime(+Ce+Re)},(Ce,Re)=>Re-Ce);millisecond.every=Ce=>(Ce=Math.floor(Ce),!isFinite(Ce)||!(Ce>0)?null:Ce>1?timeInterval(Re=>{Re.setTime(Math.floor(Re/Ce)*Ce)},(Re,je)=>{Re.setTime(+Re+je*Ce)},(Re,je)=>(je-Re)/Ce):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(Ce=>{Ce.setTime(Ce-Ce.getMilliseconds())},(Ce,Re)=>{Ce.setTime(+Ce+Re*durationSecond)},(Ce,Re)=>(Re-Ce)/durationSecond,Ce=>Ce.getUTCSeconds());second.range;const timeMinute=timeInterval(Ce=>{Ce.setTime(Ce-Ce.getMilliseconds()-Ce.getSeconds()*durationSecond)},(Ce,Re)=>{Ce.setTime(+Ce+Re*durationMinute)},(Ce,Re)=>(Re-Ce)/durationMinute,Ce=>Ce.getMinutes());timeMinute.range;const utcMinute=timeInterval(Ce=>{Ce.setUTCSeconds(0,0)},(Ce,Re)=>{Ce.setTime(+Ce+Re*durationMinute)},(Ce,Re)=>(Re-Ce)/durationMinute,Ce=>Ce.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(Ce=>{Ce.setTime(Ce-Ce.getMilliseconds()-Ce.getSeconds()*durationSecond-Ce.getMinutes()*durationMinute)},(Ce,Re)=>{Ce.setTime(+Ce+Re*durationHour)},(Ce,Re)=>(Re-Ce)/durationHour,Ce=>Ce.getHours());timeHour.range;const utcHour=timeInterval(Ce=>{Ce.setUTCMinutes(0,0,0)},(Ce,Re)=>{Ce.setTime(+Ce+Re*durationHour)},(Ce,Re)=>(Re-Ce)/durationHour,Ce=>Ce.getUTCHours());utcHour.range;const timeDay=timeInterval(Ce=>Ce.setHours(0,0,0,0),(Ce,Re)=>Ce.setDate(Ce.getDate()+Re),(Ce,Re)=>(Re-Ce-(Re.getTimezoneOffset()-Ce.getTimezoneOffset())*durationMinute)/durationDay,Ce=>Ce.getDate()-1);timeDay.range;const utcDay=timeInterval(Ce=>{Ce.setUTCHours(0,0,0,0)},(Ce,Re)=>{Ce.setUTCDate(Ce.getUTCDate()+Re)},(Ce,Re)=>(Re-Ce)/durationDay,Ce=>Ce.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(Ce=>{Ce.setUTCHours(0,0,0,0)},(Ce,Re)=>{Ce.setUTCDate(Ce.getUTCDate()+Re)},(Ce,Re)=>(Re-Ce)/durationDay,Ce=>Math.floor(Ce/durationDay));unixDay.range;function timeWeekday(Ce){return timeInterval(Re=>{Re.setDate(Re.getDate()-(Re.getDay()+7-Ce)%7),Re.setHours(0,0,0,0)},(Re,je)=>{Re.setDate(Re.getDate()+je*7)},(Re,je)=>(je-Re-(je.getTimezoneOffset()-Re.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(Ce){return timeInterval(Re=>{Re.setUTCDate(Re.getUTCDate()-(Re.getUTCDay()+7-Ce)%7),Re.setUTCHours(0,0,0,0)},(Re,je)=>{Re.setUTCDate(Re.getUTCDate()+je*7)},(Re,je)=>(je-Re)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(Ce=>{Ce.setDate(1),Ce.setHours(0,0,0,0)},(Ce,Re)=>{Ce.setMonth(Ce.getMonth()+Re)},(Ce,Re)=>Re.getMonth()-Ce.getMonth()+(Re.getFullYear()-Ce.getFullYear())*12,Ce=>Ce.getMonth());timeMonth.range;const utcMonth=timeInterval(Ce=>{Ce.setUTCDate(1),Ce.setUTCHours(0,0,0,0)},(Ce,Re)=>{Ce.setUTCMonth(Ce.getUTCMonth()+Re)},(Ce,Re)=>Re.getUTCMonth()-Ce.getUTCMonth()+(Re.getUTCFullYear()-Ce.getUTCFullYear())*12,Ce=>Ce.getUTCMonth());utcMonth.range;const timeYear=timeInterval(Ce=>{Ce.setMonth(0,1),Ce.setHours(0,0,0,0)},(Ce,Re)=>{Ce.setFullYear(Ce.getFullYear()+Re)},(Ce,Re)=>Re.getFullYear()-Ce.getFullYear(),Ce=>Ce.getFullYear());timeYear.every=Ce=>!isFinite(Ce=Math.floor(Ce))||!(Ce>0)?null:timeInterval(Re=>{Re.setFullYear(Math.floor(Re.getFullYear()/Ce)*Ce),Re.setMonth(0,1),Re.setHours(0,0,0,0)},(Re,je)=>{Re.setFullYear(Re.getFullYear()+je*Ce)});timeYear.range;const utcYear=timeInterval(Ce=>{Ce.setUTCMonth(0,1),Ce.setUTCHours(0,0,0,0)},(Ce,Re)=>{Ce.setUTCFullYear(Ce.getUTCFullYear()+Re)},(Ce,Re)=>Re.getUTCFullYear()-Ce.getUTCFullYear(),Ce=>Ce.getUTCFullYear());utcYear.every=Ce=>!isFinite(Ce=Math.floor(Ce))||!(Ce>0)?null:timeInterval(Re=>{Re.setUTCFullYear(Math.floor(Re.getUTCFullYear()/Ce)*Ce),Re.setUTCMonth(0,1),Re.setUTCHours(0,0,0,0)},(Re,je)=>{Re.setUTCFullYear(Re.getUTCFullYear()+je*Ce)});utcYear.range;function ticker(Ce,Re,je,Be,De,Fe){const Oe=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[Fe,1,durationMinute],[Fe,5,5*durationMinute],[Fe,15,15*durationMinute],[Fe,30,30*durationMinute],[De,1,durationHour],[De,3,3*durationHour],[De,6,6*durationHour],[De,12,12*durationHour],[Be,1,durationDay],[Be,2,2*durationDay],[je,1,durationWeek],[Re,1,durationMonth],[Re,3,3*durationMonth],[Ce,1,durationYear]];function ke(Ue,$e,He){const Qe=$e<Ue;Qe&&([Ue,$e]=[$e,Ue]);const We=He&&typeof He.range=="function"?He:Me(Ue,$e,He),qe=We?We.range(Ue,+$e+1):[];return Qe?qe.reverse():qe}function Me(Ue,$e,He){const Qe=Math.abs($e-Ue)/He,We=bisector(([,,Xe])=>Xe).right(Oe,Qe);if(We===Oe.length)return Ce.every(tickStep(Ue/durationYear,$e/durationYear,He));if(We===0)return millisecond.every(Math.max(tickStep(Ue,$e,He),1));const[qe,Ke]=Oe[Qe/Oe[We-1][2]<Oe[We][2]/Qe?We-1:We];return qe.every(Ke)}return[ke,Me]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(Ce){if(0<=Ce.y&&Ce.y<100){var Re=new Date(-1,Ce.m,Ce.d,Ce.H,Ce.M,Ce.S,Ce.L);return Re.setFullYear(Ce.y),Re}return new Date(Ce.y,Ce.m,Ce.d,Ce.H,Ce.M,Ce.S,Ce.L)}function utcDate(Ce){if(0<=Ce.y&&Ce.y<100){var Re=new Date(Date.UTC(-1,Ce.m,Ce.d,Ce.H,Ce.M,Ce.S,Ce.L));return Re.setUTCFullYear(Ce.y),Re}return new Date(Date.UTC(Ce.y,Ce.m,Ce.d,Ce.H,Ce.M,Ce.S,Ce.L))}function newDate(Ce,Re,je){return{y:Ce,m:Re,d:je,H:0,M:0,S:0,L:0}}function formatLocale(Ce){var Re=Ce.dateTime,je=Ce.date,Be=Ce.time,De=Ce.periods,Fe=Ce.days,Oe=Ce.shortDays,ke=Ce.months,Me=Ce.shortMonths,Ue=formatRe(De),$e=formatLookup(De),He=formatRe(Fe),Qe=formatLookup(Fe),We=formatRe(Oe),qe=formatLookup(Oe),Ke=formatRe(ke),Xe=formatLookup(ke),Ye=formatRe(Me),Ze=formatLookup(Me),Je={a:Pr,A:br,b:wr,B:Br,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Lr,q:yr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},tr={a:vr,A:Tr,b:Or,B:Nr,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Hr,q:Wr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},rr={a:_r,A:fr,b:or,B:Er,c:Rr,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:dr,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:jr,X:xr,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};Je.x=ar(je,Je),Je.X=ar(Be,Je),Je.c=ar(Re,Je),tr.x=ar(je,tr),tr.X=ar(Be,tr),tr.c=ar(Re,tr);function ar(qr,Jr){return function(An){var an=[],bn=-1,gn=0,mn=qr.length,Zr,kn,ri;for(An instanceof Date||(An=new Date(+An));++bn<mn;)qr.charCodeAt(bn)===37&&(an.push(qr.slice(gn,bn)),(kn=pads[Zr=qr.charAt(++bn)])!=null?Zr=qr.charAt(++bn):kn=Zr==="e"?" ":"0",(ri=Jr[Zr])&&(Zr=ri(An,kn)),an.push(Zr),gn=bn+1);return an.push(qr.slice(gn,bn)),an.join("")}}function nr(qr,Jr){return function(An){var an=newDate(1900,void 0,1),bn=sr(an,qr,An+="",0),gn,mn;if(bn!=An.length)return null;if("Q"in an)return new Date(an.Q);if("s"in an)return new Date(an.s*1e3+("L"in an?an.L:0));if(Jr&&!("Z"in an)&&(an.Z=0),"p"in an&&(an.H=an.H%12+an.p*12),an.m===void 0&&(an.m="q"in an?an.q:0),"V"in an){if(an.V<1||an.V>53)return null;"w"in an||(an.w=1),"Z"in an?(gn=utcDate(newDate(an.y,0,1)),mn=gn.getUTCDay(),gn=mn>4||mn===0?utcMonday.ceil(gn):utcMonday(gn),gn=utcDay.offset(gn,(an.V-1)*7),an.y=gn.getUTCFullYear(),an.m=gn.getUTCMonth(),an.d=gn.getUTCDate()+(an.w+6)%7):(gn=localDate(newDate(an.y,0,1)),mn=gn.getDay(),gn=mn>4||mn===0?timeMonday.ceil(gn):timeMonday(gn),gn=timeDay.offset(gn,(an.V-1)*7),an.y=gn.getFullYear(),an.m=gn.getMonth(),an.d=gn.getDate()+(an.w+6)%7)}else("W"in an||"U"in an)&&("w"in an||(an.w="u"in an?an.u%7:"W"in an?1:0),mn="Z"in an?utcDate(newDate(an.y,0,1)).getUTCDay():localDate(newDate(an.y,0,1)).getDay(),an.m=0,an.d="W"in an?(an.w+6)%7+an.W*7-(mn+5)%7:an.w+an.U*7-(mn+6)%7);return"Z"in an?(an.H+=an.Z/100|0,an.M+=an.Z%100,utcDate(an)):localDate(an)}}function sr(qr,Jr,An,an){for(var bn=0,gn=Jr.length,mn=An.length,Zr,kn;bn<gn;){if(an>=mn)return-1;if(Zr=Jr.charCodeAt(bn++),Zr===37){if(Zr=Jr.charAt(bn++),kn=rr[Zr in pads?Jr.charAt(bn++):Zr],!kn||(an=kn(qr,An,an))<0)return-1}else if(Zr!=An.charCodeAt(an++))return-1}return an}function dr(qr,Jr,An){var an=Ue.exec(Jr.slice(An));return an?(qr.p=$e.get(an[0].toLowerCase()),An+an[0].length):-1}function _r(qr,Jr,An){var an=We.exec(Jr.slice(An));return an?(qr.w=qe.get(an[0].toLowerCase()),An+an[0].length):-1}function fr(qr,Jr,An){var an=He.exec(Jr.slice(An));return an?(qr.w=Qe.get(an[0].toLowerCase()),An+an[0].length):-1}function or(qr,Jr,An){var an=Ye.exec(Jr.slice(An));return an?(qr.m=Ze.get(an[0].toLowerCase()),An+an[0].length):-1}function Er(qr,Jr,An){var an=Ke.exec(Jr.slice(An));return an?(qr.m=Xe.get(an[0].toLowerCase()),An+an[0].length):-1}function Rr(qr,Jr,An){return sr(qr,Re,Jr,An)}function jr(qr,Jr,An){return sr(qr,je,Jr,An)}function xr(qr,Jr,An){return sr(qr,Be,Jr,An)}function Pr(qr){return Oe[qr.getDay()]}function br(qr){return Fe[qr.getDay()]}function wr(qr){return Me[qr.getMonth()]}function Br(qr){return ke[qr.getMonth()]}function Lr(qr){return De[+(qr.getHours()>=12)]}function yr(qr){return 1+~~(qr.getMonth()/3)}function vr(qr){return Oe[qr.getUTCDay()]}function Tr(qr){return Fe[qr.getUTCDay()]}function Or(qr){return Me[qr.getUTCMonth()]}function Nr(qr){return ke[qr.getUTCMonth()]}function Hr(qr){return De[+(qr.getUTCHours()>=12)]}function Wr(qr){return 1+~~(qr.getUTCMonth()/3)}return{format:function(qr){var Jr=ar(qr+="",Je);return Jr.toString=function(){return qr},Jr},parse:function(qr){var Jr=nr(qr+="",!1);return Jr.toString=function(){return qr},Jr},utcFormat:function(qr){var Jr=ar(qr+="",tr);return Jr.toString=function(){return qr},Jr},utcParse:function(qr){var Jr=nr(qr+="",!0);return Jr.toString=function(){return qr},Jr}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(Ce,Re,je){var Be=Ce<0?"-":"",De=(Be?-Ce:Ce)+"",Fe=De.length;return Be+(Fe<je?new Array(je-Fe+1).join(Re)+De:De)}function requote(Ce){return Ce.replace(requoteRe,"\\$&")}function formatRe(Ce){return new RegExp("^(?:"+Ce.map(requote).join("|")+")","i")}function formatLookup(Ce){return new Map(Ce.map((Re,je)=>[Re.toLowerCase(),je]))}function parseWeekdayNumberSunday(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+1));return Be?(Ce.w=+Be[0],je+Be[0].length):-1}function parseWeekdayNumberMonday(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+1));return Be?(Ce.u=+Be[0],je+Be[0].length):-1}function parseWeekNumberSunday(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+2));return Be?(Ce.U=+Be[0],je+Be[0].length):-1}function parseWeekNumberISO(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+2));return Be?(Ce.V=+Be[0],je+Be[0].length):-1}function parseWeekNumberMonday(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+2));return Be?(Ce.W=+Be[0],je+Be[0].length):-1}function parseFullYear(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+4));return Be?(Ce.y=+Be[0],je+Be[0].length):-1}function parseYear(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+2));return Be?(Ce.y=+Be[0]+(+Be[0]>68?1900:2e3),je+Be[0].length):-1}function parseZone(Ce,Re,je){var Be=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Re.slice(je,je+6));return Be?(Ce.Z=Be[1]?0:-(Be[2]+(Be[3]||"00")),je+Be[0].length):-1}function parseQuarter(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+1));return Be?(Ce.q=Be[0]*3-3,je+Be[0].length):-1}function parseMonthNumber(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+2));return Be?(Ce.m=Be[0]-1,je+Be[0].length):-1}function parseDayOfMonth(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+2));return Be?(Ce.d=+Be[0],je+Be[0].length):-1}function parseDayOfYear(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+3));return Be?(Ce.m=0,Ce.d=+Be[0],je+Be[0].length):-1}function parseHour24(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+2));return Be?(Ce.H=+Be[0],je+Be[0].length):-1}function parseMinutes(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+2));return Be?(Ce.M=+Be[0],je+Be[0].length):-1}function parseSeconds(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+2));return Be?(Ce.S=+Be[0],je+Be[0].length):-1}function parseMilliseconds(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+3));return Be?(Ce.L=+Be[0],je+Be[0].length):-1}function parseMicroseconds(Ce,Re,je){var Be=numberRe.exec(Re.slice(je,je+6));return Be?(Ce.L=Math.floor(Be[0]/1e3),je+Be[0].length):-1}function parseLiteralPercent(Ce,Re,je){var Be=percentRe.exec(Re.slice(je,je+1));return Be?je+Be[0].length:-1}function parseUnixTimestamp(Ce,Re,je){var Be=numberRe.exec(Re.slice(je));return Be?(Ce.Q=+Be[0],je+Be[0].length):-1}function parseUnixTimestampSeconds(Ce,Re,je){var Be=numberRe.exec(Re.slice(je));return Be?(Ce.s=+Be[0],je+Be[0].length):-1}function formatDayOfMonth(Ce,Re){return pad(Ce.getDate(),Re,2)}function formatHour24(Ce,Re){return pad(Ce.getHours(),Re,2)}function formatHour12(Ce,Re){return pad(Ce.getHours()%12||12,Re,2)}function formatDayOfYear(Ce,Re){return pad(1+timeDay.count(timeYear(Ce),Ce),Re,3)}function formatMilliseconds(Ce,Re){return pad(Ce.getMilliseconds(),Re,3)}function formatMicroseconds(Ce,Re){return formatMilliseconds(Ce,Re)+"000"}function formatMonthNumber(Ce,Re){return pad(Ce.getMonth()+1,Re,2)}function formatMinutes(Ce,Re){return pad(Ce.getMinutes(),Re,2)}function formatSeconds(Ce,Re){return pad(Ce.getSeconds(),Re,2)}function formatWeekdayNumberMonday(Ce){var Re=Ce.getDay();return Re===0?7:Re}function formatWeekNumberSunday(Ce,Re){return pad(timeSunday.count(timeYear(Ce)-1,Ce),Re,2)}function dISO(Ce){var Re=Ce.getDay();return Re>=4||Re===0?timeThursday(Ce):timeThursday.ceil(Ce)}function formatWeekNumberISO(Ce,Re){return Ce=dISO(Ce),pad(timeThursday.count(timeYear(Ce),Ce)+(timeYear(Ce).getDay()===4),Re,2)}function formatWeekdayNumberSunday(Ce){return Ce.getDay()}function formatWeekNumberMonday(Ce,Re){return pad(timeMonday.count(timeYear(Ce)-1,Ce),Re,2)}function formatYear(Ce,Re){return pad(Ce.getFullYear()%100,Re,2)}function formatYearISO(Ce,Re){return Ce=dISO(Ce),pad(Ce.getFullYear()%100,Re,2)}function formatFullYear(Ce,Re){return pad(Ce.getFullYear()%1e4,Re,4)}function formatFullYearISO(Ce,Re){var je=Ce.getDay();return Ce=je>=4||je===0?timeThursday(Ce):timeThursday.ceil(Ce),pad(Ce.getFullYear()%1e4,Re,4)}function formatZone(Ce){var Re=Ce.getTimezoneOffset();return(Re>0?"-":(Re*=-1,"+"))+pad(Re/60|0,"0",2)+pad(Re%60,"0",2)}function formatUTCDayOfMonth(Ce,Re){return pad(Ce.getUTCDate(),Re,2)}function formatUTCHour24(Ce,Re){return pad(Ce.getUTCHours(),Re,2)}function formatUTCHour12(Ce,Re){return pad(Ce.getUTCHours()%12||12,Re,2)}function formatUTCDayOfYear(Ce,Re){return pad(1+utcDay.count(utcYear(Ce),Ce),Re,3)}function formatUTCMilliseconds(Ce,Re){return pad(Ce.getUTCMilliseconds(),Re,3)}function formatUTCMicroseconds(Ce,Re){return formatUTCMilliseconds(Ce,Re)+"000"}function formatUTCMonthNumber(Ce,Re){return pad(Ce.getUTCMonth()+1,Re,2)}function formatUTCMinutes(Ce,Re){return pad(Ce.getUTCMinutes(),Re,2)}function formatUTCSeconds(Ce,Re){return pad(Ce.getUTCSeconds(),Re,2)}function formatUTCWeekdayNumberMonday(Ce){var Re=Ce.getUTCDay();return Re===0?7:Re}function formatUTCWeekNumberSunday(Ce,Re){return pad(utcSunday.count(utcYear(Ce)-1,Ce),Re,2)}function UTCdISO(Ce){var Re=Ce.getUTCDay();return Re>=4||Re===0?utcThursday(Ce):utcThursday.ceil(Ce)}function formatUTCWeekNumberISO(Ce,Re){return Ce=UTCdISO(Ce),pad(utcThursday.count(utcYear(Ce),Ce)+(utcYear(Ce).getUTCDay()===4),Re,2)}function formatUTCWeekdayNumberSunday(Ce){return Ce.getUTCDay()}function formatUTCWeekNumberMonday(Ce,Re){return pad(utcMonday.count(utcYear(Ce)-1,Ce),Re,2)}function formatUTCYear(Ce,Re){return pad(Ce.getUTCFullYear()%100,Re,2)}function formatUTCYearISO(Ce,Re){return Ce=UTCdISO(Ce),pad(Ce.getUTCFullYear()%100,Re,2)}function formatUTCFullYear(Ce,Re){return pad(Ce.getUTCFullYear()%1e4,Re,4)}function formatUTCFullYearISO(Ce,Re){var je=Ce.getUTCDay();return Ce=je>=4||je===0?utcThursday(Ce):utcThursday.ceil(Ce),pad(Ce.getUTCFullYear()%1e4,Re,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(Ce){return+Ce}function formatUnixTimestampSeconds(Ce){return Math.floor(+Ce/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(Ce){return locale=formatLocale(Ce),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(Ce){return new Date(Ce)}function number(Ce){return Ce instanceof Date?+Ce:+new Date(+Ce)}function calendar(Ce,Re,je,Be,De,Fe,Oe,ke,Me,Ue){var $e=continuous(),He=$e.invert,Qe=$e.domain,We=Ue(".%L"),qe=Ue(":%S"),Ke=Ue("%I:%M"),Xe=Ue("%I %p"),Ye=Ue("%a %d"),Ze=Ue("%b %d"),Je=Ue("%B"),tr=Ue("%Y");function rr(ar){return(Me(ar)<ar?We:ke(ar)<ar?qe:Oe(ar)<ar?Ke:Fe(ar)<ar?Xe:Be(ar)<ar?De(ar)<ar?Ye:Ze:je(ar)<ar?Je:tr)(ar)}return $e.invert=function(ar){return new Date(He(ar))},$e.domain=function(ar){return arguments.length?Qe(Array.from(ar,number)):Qe().map(date)},$e.ticks=function(ar){var nr=Qe();return Ce(nr[0],nr[nr.length-1],ar??10)},$e.tickFormat=function(ar,nr){return nr==null?rr:Ue(nr)},$e.nice=function(ar){var nr=Qe();return(!ar||typeof ar.range!="function")&&(ar=Re(nr[0],nr[nr.length-1],ar??10)),ar?Qe(nice(nr,ar)):$e},$e.copy=function(){return copy$2($e,calendar(Ce,Re,je,Be,De,Fe,Oe,ke,Me,Ue))},$e}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var Ce=0,Re=1,je,Be,De,Fe,Oe=identity$3,ke=!1,Me;function Ue(He){return He==null||isNaN(He=+He)?Me:Oe(De===0?.5:(He=(Fe(He)-je)*De,ke?Math.max(0,Math.min(1,He)):He))}Ue.domain=function(He){return arguments.length?([Ce,Re]=He,je=Fe(Ce=+Ce),Be=Fe(Re=+Re),De=je===Be?0:1/(Be-je),Ue):[Ce,Re]},Ue.clamp=function(He){return arguments.length?(ke=!!He,Ue):ke},Ue.interpolator=function(He){return arguments.length?(Oe=He,Ue):Oe};function $e(He){return function(Qe){var We,qe;return arguments.length?([We,qe]=Qe,Oe=He(We,qe),Ue):[Oe(0),Oe(1)]}}return Ue.range=$e(interpolate),Ue.rangeRound=$e(interpolateRound),Ue.unknown=function(He){return arguments.length?(Me=He,Ue):Me},function(He){return Fe=He,je=He(Ce),Be=He(Re),De=je===Be?0:1/(Be-je),Ue}}function copy$1(Ce,Re){return Re.domain(Ce.domain()).interpolator(Ce.interpolator()).clamp(Ce.clamp()).unknown(Ce.unknown())}function sequential(){var Ce=linearish(transformer$1()(identity$3));return Ce.copy=function(){return copy$1(Ce,sequential())},initInterpolator.apply(Ce,arguments)}function sequentialLog(){var Ce=loggish(transformer$1()).domain([1,10]);return Ce.copy=function(){return copy$1(Ce,sequentialLog()).base(Ce.base())},initInterpolator.apply(Ce,arguments)}function sequentialSymlog(){var Ce=symlogish(transformer$1());return Ce.copy=function(){return copy$1(Ce,sequentialSymlog()).constant(Ce.constant())},initInterpolator.apply(Ce,arguments)}function sequentialPow(){var Ce=powish(transformer$1());return Ce.copy=function(){return copy$1(Ce,sequentialPow()).exponent(Ce.exponent())},initInterpolator.apply(Ce,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var Ce=[],Re=identity$3;function je(Be){if(Be!=null&&!isNaN(Be=+Be))return Re((bisectRight(Ce,Be,1)-1)/(Ce.length-1))}return je.domain=function(Be){if(!arguments.length)return Ce.slice();Ce=[];for(let De of Be)De!=null&&!isNaN(De=+De)&&Ce.push(De);return Ce.sort(ascending),je},je.interpolator=function(Be){return arguments.length?(Re=Be,je):Re},je.range=function(){return Ce.map((Be,De)=>Re(De/(Ce.length-1)))},je.quantiles=function(Be){return Array.from({length:Be+1},(De,Fe)=>quantile$1(Ce,Fe/Be))},je.copy=function(){return sequentialQuantile(Re).domain(Ce)},initInterpolator.apply(je,arguments)}function transformer(){var Ce=0,Re=.5,je=1,Be=1,De,Fe,Oe,ke,Me,Ue=identity$3,$e,He=!1,Qe;function We(Ke){return isNaN(Ke=+Ke)?Qe:(Ke=.5+((Ke=+$e(Ke))-Fe)*(Be*Ke<Be*Fe?ke:Me),Ue(He?Math.max(0,Math.min(1,Ke)):Ke))}We.domain=function(Ke){return arguments.length?([Ce,Re,je]=Ke,De=$e(Ce=+Ce),Fe=$e(Re=+Re),Oe=$e(je=+je),ke=De===Fe?0:.5/(Fe-De),Me=Fe===Oe?0:.5/(Oe-Fe),Be=Fe<De?-1:1,We):[Ce,Re,je]},We.clamp=function(Ke){return arguments.length?(He=!!Ke,We):He},We.interpolator=function(Ke){return arguments.length?(Ue=Ke,We):Ue};function qe(Ke){return function(Xe){var Ye,Ze,Je;return arguments.length?([Ye,Ze,Je]=Xe,Ue=piecewise(Ke,[Ye,Ze,Je]),We):[Ue(0),Ue(.5),Ue(1)]}}return We.range=qe(interpolate),We.rangeRound=qe(interpolateRound),We.unknown=function(Ke){return arguments.length?(Qe=Ke,We):Qe},function(Ke){return $e=Ke,De=Ke(Ce),Fe=Ke(Re),Oe=Ke(je),ke=De===Fe?0:.5/(Fe-De),Me=Fe===Oe?0:.5/(Oe-Fe),Be=Fe<De?-1:1,We}}function diverging(){var Ce=linearish(transformer()(identity$3));return Ce.copy=function(){return copy$1(Ce,diverging())},initInterpolator.apply(Ce,arguments)}function divergingLog(){var Ce=loggish(transformer()).domain([.1,1,10]);return Ce.copy=function(){return copy$1(Ce,divergingLog()).base(Ce.base())},initInterpolator.apply(Ce,arguments)}function divergingSymlog(){var Ce=symlogish(transformer());return Ce.copy=function(){return copy$1(Ce,divergingSymlog()).constant(Ce.constant())},initInterpolator.apply(Ce,arguments)}function divergingPow(){var Ce=powish(transformer());return Ce.copy=function(){return copy$1(Ce,divergingPow()).exponent(Ce.exponent())},initInterpolator.apply(Ce,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$1,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=Ce=>Ce.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],Ce=>{var Re=Ce.chartData!=null?Ce.chartData.length-1:0;return{chartData:Ce.chartData,computedData:Ce.computedData,dataEndIndex:Re,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanorama=(Ce,Re,je,Be)=>Be?selectChartDataAndAlwaysIgnoreIndexes(Ce):selectChartDataWithIndexes(Ce);function isWellFormedNumberDomain(Ce){if(Array.isArray(Ce)&&Ce.length===2){var[Re,je]=Ce;if(isWellBehavedNumber(Re)&&isWellBehavedNumber(je))return!0}return!1}function extendDomain(Ce,Re,je){return je?Ce:[Math.min(Ce[0],Re[0]),Math.max(Ce[1],Re[1])]}function numericalDomainSpecifiedWithoutRequiringData(Ce,Re){if(Re&&typeof Ce!="function"&&Array.isArray(Ce)&&Ce.length===2){var[je,Be]=Ce,De,Fe;if(isWellBehavedNumber(je))De=je;else if(typeof je=="function")return;if(isWellBehavedNumber(Be))Fe=Be;else if(typeof Be=="function")return;var Oe=[De,Fe];if(isWellFormedNumberDomain(Oe))return Oe}}function parseNumericalUserDomain(Ce,Re,je){if(!(!je&&Re==null)){if(typeof Ce=="function"&&Re!=null)try{var Be=Ce(Re,je);if(isWellFormedNumberDomain(Be))return extendDomain(Be,Re,je)}catch{}if(Array.isArray(Ce)&&Ce.length===2){var[De,Fe]=Ce,Oe,ke;if(De==="auto")Re!=null&&(Oe=Math.min(...Re));else if(isNumber(De))Oe=De;else if(typeof De=="function")try{Re!=null&&(Oe=De(Re?.[0]))}catch{}else if(typeof De=="string"&&MIN_VALUE_REG.test(De)){var Me=MIN_VALUE_REG.exec(De);if(Me==null||Re==null)Oe=void 0;else{var Ue=+Me[1];Oe=Re[0]-Ue}}else Oe=Re?.[0];if(Fe==="auto")Re!=null&&(ke=Math.max(...Re));else if(isNumber(Fe))ke=Fe;else if(typeof Fe=="function")try{Re!=null&&(ke=Fe(Re?.[1]))}catch{}else if(typeof Fe=="string"&&MAX_VALUE_REG.test(Fe)){var $e=MAX_VALUE_REG.exec(Fe);if($e==null||Re==null)ke=void 0;else{var He=+$e[1];ke=Re[1]+He}}else ke=Re?.[1];var Qe=[Oe,ke];if(isWellFormedNumberDomain(Qe))return Re==null?Qe:extendDomain(Qe,Re,je)}}}var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P$1={};P$1.absoluteValue=P$1.abs=function(){var Ce=new this.constructor(this);return Ce.s&&(Ce.s=1),Ce};P$1.comparedTo=P$1.cmp=function(Ce){var Re,je,Be,De,Fe=this;if(Ce=new Fe.constructor(Ce),Fe.s!==Ce.s)return Fe.s||-Ce.s;if(Fe.e!==Ce.e)return Fe.e>Ce.e^Fe.s<0?1:-1;for(Be=Fe.d.length,De=Ce.d.length,Re=0,je=Be<De?Be:De;Re<je;++Re)if(Fe.d[Re]!==Ce.d[Re])return Fe.d[Re]>Ce.d[Re]^Fe.s<0?1:-1;return Be===De?0:Be>De^Fe.s<0?1:-1};P$1.decimalPlaces=P$1.dp=function(){var Ce=this,Re=Ce.d.length-1,je=(Re-Ce.e)*LOG_BASE;if(Re=Ce.d[Re],Re)for(;Re%10==0;Re/=10)je--;return je<0?0:je};P$1.dividedBy=P$1.div=function(Ce){return divide(this,new this.constructor(Ce))};P$1.dividedToIntegerBy=P$1.idiv=function(Ce){var Re=this,je=Re.constructor;return round$2(divide(Re,new je(Ce),0,1),je.precision)};P$1.equals=P$1.eq=function(Ce){return!this.cmp(Ce)};P$1.exponent=function(){return getBase10Exponent(this)};P$1.greaterThan=P$1.gt=function(Ce){return this.cmp(Ce)>0};P$1.greaterThanOrEqualTo=P$1.gte=function(Ce){return this.cmp(Ce)>=0};P$1.isInteger=P$1.isint=function(){return this.e>this.d.length-2};P$1.isNegative=P$1.isneg=function(){return this.s<0};P$1.isPositive=P$1.ispos=function(){return this.s>0};P$1.isZero=function(){return this.s===0};P$1.lessThan=P$1.lt=function(Ce){return this.cmp(Ce)<0};P$1.lessThanOrEqualTo=P$1.lte=function(Ce){return this.cmp(Ce)<1};P$1.logarithm=P$1.log=function(Ce){var Re,je=this,Be=je.constructor,De=Be.precision,Fe=De+5;if(Ce===void 0)Ce=new Be(10);else if(Ce=new Be(Ce),Ce.s<1||Ce.eq(ONE))throw Error(decimalError+"NaN");if(je.s<1)throw Error(decimalError+(je.s?"NaN":"-Infinity"));return je.eq(ONE)?new Be(0):(external=!1,Re=divide(ln(je,Fe),ln(Ce,Fe),Fe),external=!0,round$2(Re,De))};P$1.minus=P$1.sub=function(Ce){var Re=this;return Ce=new Re.constructor(Ce),Re.s==Ce.s?subtract(Re,Ce):add(Re,(Ce.s=-Ce.s,Ce))};P$1.modulo=P$1.mod=function(Ce){var Re,je=this,Be=je.constructor,De=Be.precision;if(Ce=new Be(Ce),!Ce.s)throw Error(decimalError+"NaN");return je.s?(external=!1,Re=divide(je,Ce,0,1).times(Ce),external=!0,je.minus(Re)):round$2(new Be(je),De)};P$1.naturalExponential=P$1.exp=function(){return exp(this)};P$1.naturalLogarithm=P$1.ln=function(){return ln(this)};P$1.negated=P$1.neg=function(){var Ce=new this.constructor(this);return Ce.s=-Ce.s||0,Ce};P$1.plus=P$1.add=function(Ce){var Re=this;return Ce=new Re.constructor(Ce),Re.s==Ce.s?add(Re,Ce):subtract(Re,(Ce.s=-Ce.s,Ce))};P$1.precision=P$1.sd=function(Ce){var Re,je,Be,De=this;if(Ce!==void 0&&Ce!==!!Ce&&Ce!==1&&Ce!==0)throw Error(invalidArgument+Ce);if(Re=getBase10Exponent(De)+1,Be=De.d.length-1,je=Be*LOG_BASE+1,Be=De.d[Be],Be){for(;Be%10==0;Be/=10)je--;for(Be=De.d[0];Be>=10;Be/=10)je++}return Ce&&Re>je?Re:je};P$1.squareRoot=P$1.sqrt=function(){var Ce,Re,je,Be,De,Fe,Oe,ke=this,Me=ke.constructor;if(ke.s<1){if(!ke.s)return new Me(0);throw Error(decimalError+"NaN")}for(Ce=getBase10Exponent(ke),external=!1,De=Math.sqrt(+ke),De==0||De==1/0?(Re=digitsToString(ke.d),(Re.length+Ce)%2==0&&(Re+="0"),De=Math.sqrt(Re),Ce=mathfloor((Ce+1)/2)-(Ce<0||Ce%2),De==1/0?Re="5e"+Ce:(Re=De.toExponential(),Re=Re.slice(0,Re.indexOf("e")+1)+Ce),Be=new Me(Re)):Be=new Me(De.toString()),je=Me.precision,De=Oe=je+3;;)if(Fe=Be,Be=Fe.plus(divide(ke,Fe,Oe+2)).times(.5),digitsToString(Fe.d).slice(0,Oe)===(Re=digitsToString(Be.d)).slice(0,Oe)){if(Re=Re.slice(Oe-3,Oe+1),De==Oe&&Re=="4999"){if(round$2(Fe,je+1,0),Fe.times(Fe).eq(ke)){Be=Fe;break}}else if(Re!="9999")break;Oe+=4}return external=!0,round$2(Be,je)};P$1.times=P$1.mul=function(Ce){var Re,je,Be,De,Fe,Oe,ke,Me,Ue,$e=this,He=$e.constructor,Qe=$e.d,We=(Ce=new He(Ce)).d;if(!$e.s||!Ce.s)return new He(0);for(Ce.s*=$e.s,je=$e.e+Ce.e,Me=Qe.length,Ue=We.length,Me<Ue&&(Fe=Qe,Qe=We,We=Fe,Oe=Me,Me=Ue,Ue=Oe),Fe=[],Oe=Me+Ue,Be=Oe;Be--;)Fe.push(0);for(Be=Ue;--Be>=0;){for(Re=0,De=Me+Be;De>Be;)ke=Fe[De]+We[Be]*Qe[De-Be-1]+Re,Fe[De--]=ke%BASE|0,Re=ke/BASE|0;Fe[De]=(Fe[De]+Re)%BASE|0}for(;!Fe[--Oe];)Fe.pop();return Re?++je:Fe.shift(),Ce.d=Fe,Ce.e=je,external?round$2(Ce,He.precision):Ce};P$1.toDecimalPlaces=P$1.todp=function(Ce,Re){var je=this,Be=je.constructor;return je=new Be(je),Ce===void 0?je:(checkInt32(Ce,0,MAX_DIGITS),Re===void 0?Re=Be.rounding:checkInt32(Re,0,8),round$2(je,Ce+getBase10Exponent(je)+1,Re))};P$1.toExponential=function(Ce,Re){var je,Be=this,De=Be.constructor;return Ce===void 0?je=toString(Be,!0):(checkInt32(Ce,0,MAX_DIGITS),Re===void 0?Re=De.rounding:checkInt32(Re,0,8),Be=round$2(new De(Be),Ce+1,Re),je=toString(Be,!0,Ce+1)),je};P$1.toFixed=function(Ce,Re){var je,Be,De=this,Fe=De.constructor;return Ce===void 0?toString(De):(checkInt32(Ce,0,MAX_DIGITS),Re===void 0?Re=Fe.rounding:checkInt32(Re,0,8),Be=round$2(new Fe(De),Ce+getBase10Exponent(De)+1,Re),je=toString(Be.abs(),!1,Ce+getBase10Exponent(Be)+1),De.isneg()&&!De.isZero()?"-"+je:je)};P$1.toInteger=P$1.toint=function(){var Ce=this,Re=Ce.constructor;return round$2(new Re(Ce),getBase10Exponent(Ce)+1,Re.rounding)};P$1.toNumber=function(){return+this};P$1.toPower=P$1.pow=function(Ce){var Re,je,Be,De,Fe,Oe,ke=this,Me=ke.constructor,Ue=12,$e=+(Ce=new Me(Ce));if(!Ce.s)return new Me(ONE);if(ke=new Me(ke),!ke.s){if(Ce.s<1)throw Error(decimalError+"Infinity");return ke}if(ke.eq(ONE))return ke;if(Be=Me.precision,Ce.eq(ONE))return round$2(ke,Be);if(Re=Ce.e,je=Ce.d.length-1,Oe=Re>=je,Fe=ke.s,Oe){if((je=$e<0?-$e:$e)<=MAX_SAFE_INTEGER){for(De=new Me(ONE),Re=Math.ceil(Be/LOG_BASE+4),external=!1;je%2&&(De=De.times(ke),truncate(De.d,Re)),je=mathfloor(je/2),je!==0;)ke=ke.times(ke),truncate(ke.d,Re);return external=!0,Ce.s<0?new Me(ONE).div(De):round$2(De,Be)}}else if(Fe<0)throw Error(decimalError+"NaN");return Fe=Fe<0&&Ce.d[Math.max(Re,je)]&1?-1:1,ke.s=1,external=!1,De=Ce.times(ln(ke,Be+Ue)),external=!0,De=exp(De),De.s=Fe,De};P$1.toPrecision=function(Ce,Re){var je,Be,De=this,Fe=De.constructor;return Ce===void 0?(je=getBase10Exponent(De),Be=toString(De,je<=Fe.toExpNeg||je>=Fe.toExpPos)):(checkInt32(Ce,1,MAX_DIGITS),Re===void 0?Re=Fe.rounding:checkInt32(Re,0,8),De=round$2(new Fe(De),Ce,Re),je=getBase10Exponent(De),Be=toString(De,Ce<=je||je<=Fe.toExpNeg,Ce)),Be};P$1.toSignificantDigits=P$1.tosd=function(Ce,Re){var je=this,Be=je.constructor;return Ce===void 0?(Ce=Be.precision,Re=Be.rounding):(checkInt32(Ce,1,MAX_DIGITS),Re===void 0?Re=Be.rounding:checkInt32(Re,0,8)),round$2(new Be(je),Ce,Re)};P$1.toString=P$1.valueOf=P$1.val=P$1.toJSON=P$1[Symbol.for("nodejs.util.inspect.custom")]=function(){var Ce=this,Re=getBase10Exponent(Ce),je=Ce.constructor;return toString(Ce,Re<=je.toExpNeg||Re>=je.toExpPos)};function add(Ce,Re){var je,Be,De,Fe,Oe,ke,Me,Ue,$e=Ce.constructor,He=$e.precision;if(!Ce.s||!Re.s)return Re.s||(Re=new $e(Ce)),external?round$2(Re,He):Re;if(Me=Ce.d,Ue=Re.d,Oe=Ce.e,De=Re.e,Me=Me.slice(),Fe=Oe-De,Fe){for(Fe<0?(Be=Me,Fe=-Fe,ke=Ue.length):(Be=Ue,De=Oe,ke=Me.length),Oe=Math.ceil(He/LOG_BASE),ke=Oe>ke?Oe+1:ke+1,Fe>ke&&(Fe=ke,Be.length=1),Be.reverse();Fe--;)Be.push(0);Be.reverse()}for(ke=Me.length,Fe=Ue.length,ke-Fe<0&&(Fe=ke,Be=Ue,Ue=Me,Me=Be),je=0;Fe;)je=(Me[--Fe]=Me[Fe]+Ue[Fe]+je)/BASE|0,Me[Fe]%=BASE;for(je&&(Me.unshift(je),++De),ke=Me.length;Me[--ke]==0;)Me.pop();return Re.d=Me,Re.e=De,external?round$2(Re,He):Re}function checkInt32(Ce,Re,je){if(Ce!==~~Ce||Ce<Re||Ce>je)throw Error(invalidArgument+Ce)}function digitsToString(Ce){var Re,je,Be,De=Ce.length-1,Fe="",Oe=Ce[0];if(De>0){for(Fe+=Oe,Re=1;Re<De;Re++)Be=Ce[Re]+"",je=LOG_BASE-Be.length,je&&(Fe+=getZeroString(je)),Fe+=Be;Oe=Ce[Re],Be=Oe+"",je=LOG_BASE-Be.length,je&&(Fe+=getZeroString(je))}else if(Oe===0)return"0";for(;Oe%10===0;)Oe/=10;return Fe+Oe}var divide=(function(){function Ce(Be,De){var Fe,Oe=0,ke=Be.length;for(Be=Be.slice();ke--;)Fe=Be[ke]*De+Oe,Be[ke]=Fe%BASE|0,Oe=Fe/BASE|0;return Oe&&Be.unshift(Oe),Be}function Re(Be,De,Fe,Oe){var ke,Me;if(Fe!=Oe)Me=Fe>Oe?1:-1;else for(ke=Me=0;ke<Fe;ke++)if(Be[ke]!=De[ke]){Me=Be[ke]>De[ke]?1:-1;break}return Me}function je(Be,De,Fe){for(var Oe=0;Fe--;)Be[Fe]-=Oe,Oe=Be[Fe]<De[Fe]?1:0,Be[Fe]=Oe*BASE+Be[Fe]-De[Fe];for(;!Be[0]&&Be.length>1;)Be.shift()}return function(Be,De,Fe,Oe){var ke,Me,Ue,$e,He,Qe,We,qe,Ke,Xe,Ye,Ze,Je,tr,rr,ar,nr,sr,dr=Be.constructor,_r=Be.s==De.s?1:-1,fr=Be.d,or=De.d;if(!Be.s)return new dr(Be);if(!De.s)throw Error(decimalError+"Division by zero");for(Me=Be.e-De.e,nr=or.length,rr=fr.length,We=new dr(_r),qe=We.d=[],Ue=0;or[Ue]==(fr[Ue]||0);)++Ue;if(or[Ue]>(fr[Ue]||0)&&--Me,Fe==null?Ze=Fe=dr.precision:Oe?Ze=Fe+(getBase10Exponent(Be)-getBase10Exponent(De))+1:Ze=Fe,Ze<0)return new dr(0);if(Ze=Ze/LOG_BASE+2|0,Ue=0,nr==1)for($e=0,or=or[0],Ze++;(Ue<rr||$e)&&Ze--;Ue++)Je=$e*BASE+(fr[Ue]||0),qe[Ue]=Je/or|0,$e=Je%or|0;else{for($e=BASE/(or[0]+1)|0,$e>1&&(or=Ce(or,$e),fr=Ce(fr,$e),nr=or.length,rr=fr.length),tr=nr,Ke=fr.slice(0,nr),Xe=Ke.length;Xe<nr;)Ke[Xe++]=0;sr=or.slice(),sr.unshift(0),ar=or[0],or[1]>=BASE/2&&++ar;do $e=0,ke=Re(or,Ke,nr,Xe),ke<0?(Ye=Ke[0],nr!=Xe&&(Ye=Ye*BASE+(Ke[1]||0)),$e=Ye/ar|0,$e>1?($e>=BASE&&($e=BASE-1),He=Ce(or,$e),Qe=He.length,Xe=Ke.length,ke=Re(He,Ke,Qe,Xe),ke==1&&($e--,je(He,nr<Qe?sr:or,Qe))):($e==0&&(ke=$e=1),He=or.slice()),Qe=He.length,Qe<Xe&&He.unshift(0),je(Ke,He,Xe),ke==-1&&(Xe=Ke.length,ke=Re(or,Ke,nr,Xe),ke<1&&($e++,je(Ke,nr<Xe?sr:or,Xe))),Xe=Ke.length):ke===0&&($e++,Ke=[0]),qe[Ue++]=$e,ke&&Ke[0]?Ke[Xe++]=fr[tr]||0:(Ke=[fr[tr]],Xe=1);while((tr++<rr||Ke[0]!==void 0)&&Ze--)}return qe[0]||qe.shift(),We.e=Me,round$2(We,Oe?Fe+getBase10Exponent(We)+1:Fe)}})();function exp(Ce,Re){var je,Be,De,Fe,Oe,ke,Me=0,Ue=0,$e=Ce.constructor,He=$e.precision;if(getBase10Exponent(Ce)>16)throw Error(exponentOutOfRange+getBase10Exponent(Ce));if(!Ce.s)return new $e(ONE);for(external=!1,ke=He,Oe=new $e(.03125);Ce.abs().gte(.1);)Ce=Ce.times(Oe),Ue+=5;for(Be=Math.log(mathpow(2,Ue))/Math.LN10*2+5|0,ke+=Be,je=De=Fe=new $e(ONE),$e.precision=ke;;){if(De=round$2(De.times(Ce),ke),je=je.times(++Me),Oe=Fe.plus(divide(De,je,ke)),digitsToString(Oe.d).slice(0,ke)===digitsToString(Fe.d).slice(0,ke)){for(;Ue--;)Fe=round$2(Fe.times(Fe),ke);return $e.precision=He,Re==null?(external=!0,round$2(Fe,He)):Fe}Fe=Oe}}function getBase10Exponent(Ce){for(var Re=Ce.e*LOG_BASE,je=Ce.d[0];je>=10;je/=10)Re++;return Re}function getLn10(Ce,Re,je){if(Re>Ce.LN10.sd())throw external=!0,je&&(Ce.precision=je),Error(decimalError+"LN10 precision limit exceeded");return round$2(new Ce(Ce.LN10),Re)}function getZeroString(Ce){for(var Re="";Ce--;)Re+="0";return Re}function ln(Ce,Re){var je,Be,De,Fe,Oe,ke,Me,Ue,$e,He=1,Qe=10,We=Ce,qe=We.d,Ke=We.constructor,Xe=Ke.precision;if(We.s<1)throw Error(decimalError+(We.s?"NaN":"-Infinity"));if(We.eq(ONE))return new Ke(0);if(Re==null?(external=!1,Ue=Xe):Ue=Re,We.eq(10))return Re==null&&(external=!0),getLn10(Ke,Ue);if(Ue+=Qe,Ke.precision=Ue,je=digitsToString(qe),Be=je.charAt(0),Fe=getBase10Exponent(We),Math.abs(Fe)<15e14){for(;Be<7&&Be!=1||Be==1&&je.charAt(1)>3;)We=We.times(Ce),je=digitsToString(We.d),Be=je.charAt(0),He++;Fe=getBase10Exponent(We),Be>1?(We=new Ke("0."+je),Fe++):We=new Ke(Be+"."+je.slice(1))}else return Me=getLn10(Ke,Ue+2,Xe).times(Fe+""),We=ln(new Ke(Be+"."+je.slice(1)),Ue-Qe).plus(Me),Ke.precision=Xe,Re==null?(external=!0,round$2(We,Xe)):We;for(ke=Oe=We=divide(We.minus(ONE),We.plus(ONE),Ue),$e=round$2(We.times(We),Ue),De=3;;){if(Oe=round$2(Oe.times($e),Ue),Me=ke.plus(divide(Oe,new Ke(De),Ue)),digitsToString(Me.d).slice(0,Ue)===digitsToString(ke.d).slice(0,Ue))return ke=ke.times(2),Fe!==0&&(ke=ke.plus(getLn10(Ke,Ue+2,Xe).times(Fe+""))),ke=divide(ke,new Ke(He),Ue),Ke.precision=Xe,Re==null?(external=!0,round$2(ke,Xe)):ke;ke=Me,De+=2}}function parseDecimal(Ce,Re){var je,Be,De;for((je=Re.indexOf("."))>-1&&(Re=Re.replace(".","")),(Be=Re.search(/e/i))>0?(je<0&&(je=Be),je+=+Re.slice(Be+1),Re=Re.substring(0,Be)):je<0&&(je=Re.length),Be=0;Re.charCodeAt(Be)===48;)++Be;for(De=Re.length;Re.charCodeAt(De-1)===48;)--De;if(Re=Re.slice(Be,De),Re){if(De-=Be,je=je-Be-1,Ce.e=mathfloor(je/LOG_BASE),Ce.d=[],Be=(je+1)%LOG_BASE,je<0&&(Be+=LOG_BASE),Be<De){for(Be&&Ce.d.push(+Re.slice(0,Be)),De-=LOG_BASE;Be<De;)Ce.d.push(+Re.slice(Be,Be+=LOG_BASE));Re=Re.slice(Be),Be=LOG_BASE-Re.length}else Be-=De;for(;Be--;)Re+="0";if(Ce.d.push(+Re),external&&(Ce.e>MAX_E||Ce.e<-MAX_E))throw Error(exponentOutOfRange+je)}else Ce.s=0,Ce.e=0,Ce.d=[0];return Ce}function round$2(Ce,Re,je){var Be,De,Fe,Oe,ke,Me,Ue,$e,He=Ce.d;for(Oe=1,Fe=He[0];Fe>=10;Fe/=10)Oe++;if(Be=Re-Oe,Be<0)Be+=LOG_BASE,De=Re,Ue=He[$e=0];else{if($e=Math.ceil((Be+1)/LOG_BASE),Fe=He.length,$e>=Fe)return Ce;for(Ue=Fe=He[$e],Oe=1;Fe>=10;Fe/=10)Oe++;Be%=LOG_BASE,De=Be-LOG_BASE+Oe}if(je!==void 0&&(Fe=mathpow(10,Oe-De-1),ke=Ue/Fe%10|0,Me=Re<0||He[$e+1]!==void 0||Ue%Fe,Me=je<4?(ke||Me)&&(je==0||je==(Ce.s<0?3:2)):ke>5||ke==5&&(je==4||Me||je==6&&(Be>0?De>0?Ue/mathpow(10,Oe-De):0:He[$e-1])%10&1||je==(Ce.s<0?8:7))),Re<1||!He[0])return Me?(Fe=getBase10Exponent(Ce),He.length=1,Re=Re-Fe-1,He[0]=mathpow(10,(LOG_BASE-Re%LOG_BASE)%LOG_BASE),Ce.e=mathfloor(-Re/LOG_BASE)||0):(He.length=1,He[0]=Ce.e=Ce.s=0),Ce;if(Be==0?(He.length=$e,Fe=1,$e--):(He.length=$e+1,Fe=mathpow(10,LOG_BASE-Be),He[$e]=De>0?(Ue/mathpow(10,Oe-De)%mathpow(10,De)|0)*Fe:0),Me)for(;;)if($e==0){(He[0]+=Fe)==BASE&&(He[0]=1,++Ce.e);break}else{if(He[$e]+=Fe,He[$e]!=BASE)break;He[$e--]=0,Fe=1}for(Be=He.length;He[--Be]===0;)He.pop();if(external&&(Ce.e>MAX_E||Ce.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(Ce));return Ce}function subtract(Ce,Re){var je,Be,De,Fe,Oe,ke,Me,Ue,$e,He,Qe=Ce.constructor,We=Qe.precision;if(!Ce.s||!Re.s)return Re.s?Re.s=-Re.s:Re=new Qe(Ce),external?round$2(Re,We):Re;if(Me=Ce.d,He=Re.d,Be=Re.e,Ue=Ce.e,Me=Me.slice(),Oe=Ue-Be,Oe){for($e=Oe<0,$e?(je=Me,Oe=-Oe,ke=He.length):(je=He,Be=Ue,ke=Me.length),De=Math.max(Math.ceil(We/LOG_BASE),ke)+2,Oe>De&&(Oe=De,je.length=1),je.reverse(),De=Oe;De--;)je.push(0);je.reverse()}else{for(De=Me.length,ke=He.length,$e=De<ke,$e&&(ke=De),De=0;De<ke;De++)if(Me[De]!=He[De]){$e=Me[De]<He[De];break}Oe=0}for($e&&(je=Me,Me=He,He=je,Re.s=-Re.s),ke=Me.length,De=He.length-ke;De>0;--De)Me[ke++]=0;for(De=He.length;De>Oe;){if(Me[--De]<He[De]){for(Fe=De;Fe&&Me[--Fe]===0;)Me[Fe]=BASE-1;--Me[Fe],Me[De]+=BASE}Me[De]-=He[De]}for(;Me[--ke]===0;)Me.pop();for(;Me[0]===0;Me.shift())--Be;return Me[0]?(Re.d=Me,Re.e=Be,external?round$2(Re,We):Re):new Qe(0)}function toString(Ce,Re,je){var Be,De=getBase10Exponent(Ce),Fe=digitsToString(Ce.d),Oe=Fe.length;return Re?(je&&(Be=je-Oe)>0?Fe=Fe.charAt(0)+"."+Fe.slice(1)+getZeroString(Be):Oe>1&&(Fe=Fe.charAt(0)+"."+Fe.slice(1)),Fe=Fe+(De<0?"e":"e+")+De):De<0?(Fe="0."+getZeroString(-De-1)+Fe,je&&(Be=je-Oe)>0&&(Fe+=getZeroString(Be))):De>=Oe?(Fe+=getZeroString(De+1-Oe),je&&(Be=je-De-1)>0&&(Fe=Fe+"."+getZeroString(Be))):((Be=De+1)<Oe&&(Fe=Fe.slice(0,Be)+"."+Fe.slice(Be)),je&&(Be=je-Oe)>0&&(De+1===Oe&&(Fe+="."),Fe+=getZeroString(Be))),Ce.s<0?"-"+Fe:Fe}function truncate(Ce,Re){if(Ce.length>Re)return Ce.length=Re,!0}function clone(Ce){var Re,je,Be;function De(Fe){var Oe=this;if(!(Oe instanceof De))return new De(Fe);if(Oe.constructor=De,Fe instanceof De){Oe.s=Fe.s,Oe.e=Fe.e,Oe.d=(Fe=Fe.d)?Fe.slice():Fe;return}if(typeof Fe=="number"){if(Fe*0!==0)throw Error(invalidArgument+Fe);if(Fe>0)Oe.s=1;else if(Fe<0)Fe=-Fe,Oe.s=-1;else{Oe.s=0,Oe.e=0,Oe.d=[0];return}if(Fe===~~Fe&&Fe<1e7){Oe.e=0,Oe.d=[Fe];return}return parseDecimal(Oe,Fe.toString())}else if(typeof Fe!="string")throw Error(invalidArgument+Fe);if(Fe.charCodeAt(0)===45?(Fe=Fe.slice(1),Oe.s=-1):Oe.s=1,isDecimal.test(Fe))parseDecimal(Oe,Fe);else throw Error(invalidArgument+Fe)}if(De.prototype=P$1,De.ROUND_UP=0,De.ROUND_DOWN=1,De.ROUND_CEIL=2,De.ROUND_FLOOR=3,De.ROUND_HALF_UP=4,De.ROUND_HALF_DOWN=5,De.ROUND_HALF_EVEN=6,De.ROUND_HALF_CEIL=7,De.ROUND_HALF_FLOOR=8,De.clone=clone,De.config=De.set=config$1,Ce===void 0&&(Ce={}),Ce)for(Be=["precision","rounding","toExpNeg","toExpPos","LN10"],Re=0;Re<Be.length;)Ce.hasOwnProperty(je=Be[Re++])||(Ce[je]=this[je]);return De.config(Ce),De}function config$1(Ce){if(!Ce||typeof Ce!="object")throw Error(decimalError+"Object expected");var Re,je,Be,De=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(Re=0;Re<De.length;Re+=3)if((Be=Ce[je=De[Re]])!==void 0)if(mathfloor(Be)===Be&&Be>=De[Re+1]&&Be<=De[Re+2])this[je]=Be;else throw Error(invalidArgument+je+": "+Be);if((Be=Ce[je="LN10"])!==void 0)if(Be==Math.LN10)this[je]=new this(Be);else throw Error(invalidArgument+je+": "+Be);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;var identity=Ce=>Ce,PLACE_HOLDER={},isPlaceHolder=Ce=>Ce===PLACE_HOLDER,curry0=Ce=>function Re(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?Re:Ce(...arguments)},curryN=(Ce,Re)=>Ce===1?Re:curry0(function(){for(var je=arguments.length,Be=new Array(je),De=0;De<je;De++)Be[De]=arguments[De];var Fe=Be.filter(Oe=>Oe!==PLACE_HOLDER).length;return Fe>=Ce?Re(...Be):curryN(Ce-Fe,curry0(function(){for(var Oe=arguments.length,ke=new Array(Oe),Me=0;Me<Oe;Me++)ke[Me]=arguments[Me];var Ue=Be.map($e=>isPlaceHolder($e)?ke.shift():$e);return Re(...Ue,...ke)}))}),curry=Ce=>curryN(Ce.length,Ce),range=(Ce,Re)=>{for(var je=[],Be=Ce;Be<Re;++Be)je[Be-Ce]=Be;return je},map=curry((Ce,Re)=>Array.isArray(Re)?Re.map(Ce):Object.keys(Re).map(je=>Re[je]).map(Ce)),compose$1=function Ce(){for(var Re=arguments.length,je=new Array(Re),Be=0;Be<Re;Be++)je[Be]=arguments[Be];if(!je.length)return identity;var De=je.reverse(),Fe=De[0],Oe=De.slice(1);return function(){return Oe.reduce((ke,Me)=>Me(ke),Fe(...arguments))}},reverse=Ce=>Array.isArray(Ce)?Ce.reverse():Ce.split("").reverse().join(""),memoize$2=Ce=>{var Re=null,je=null;return function(){for(var Be=arguments.length,De=new Array(Be),Fe=0;Fe<Be;Fe++)De[Fe]=arguments[Fe];return Re&&De.every((Oe,ke)=>{var Me;return Oe===((Me=Re)===null||Me===void 0?void 0:Me[ke])})||(Re=De,je=Ce(...De)),je}};function getDigitCount(Ce){var Re;return Ce===0?Re=1:Re=Math.floor(new Decimal$1(Ce).abs().log(10).toNumber())+1,Re}function rangeStep(Ce,Re,je){for(var Be=new Decimal$1(Ce),De=0,Fe=[];Be.lt(Re)&&De<1e5;)Fe.push(Be.toNumber()),Be=Be.add(je),De++;return Fe}curry((Ce,Re,je)=>{var Be=+Ce,De=+Re;return Be+je*(De-Be)});curry((Ce,Re,je)=>{var Be=Re-+Ce;return Be=Be||1/0,(je-Ce)/Be});curry((Ce,Re,je)=>{var Be=Re-+Ce;return Be=Be||1/0,Math.max(0,Math.min(1,(je-Ce)/Be))});var getValidInterval=Ce=>{var[Re,je]=Ce,[Be,De]=[Re,je];return Re>je&&([Be,De]=[je,Re]),[Be,De]},getFormatStep=(Ce,Re,je)=>{if(Ce.lte(0))return new Decimal$1(0);var Be=getDigitCount(Ce.toNumber()),De=new Decimal$1(10).pow(Be),Fe=Ce.div(De),Oe=Be!==1?.05:.1,ke=new Decimal$1(Math.ceil(Fe.div(Oe).toNumber())).add(je).mul(Oe),Me=ke.mul(De);return Re?new Decimal$1(Me.toNumber()):new Decimal$1(Math.ceil(Me.toNumber()))},getTickOfSingleValue=(Ce,Re,je)=>{var Be=new Decimal$1(1),De=new Decimal$1(Ce);if(!De.isint()&&je){var Fe=Math.abs(Ce);Fe<1?(Be=new Decimal$1(10).pow(getDigitCount(Ce)-1),De=new Decimal$1(Math.floor(De.div(Be).toNumber())).mul(Be)):Fe>1&&(De=new Decimal$1(Math.floor(Ce)))}else Ce===0?De=new Decimal$1(Math.floor((Re-1)/2)):je||(De=new Decimal$1(Math.floor(Ce)));var Oe=Math.floor((Re-1)/2),ke=compose$1(map(Me=>De.add(new Decimal$1(Me-Oe).mul(Be)).toNumber()),range);return ke(0,Re)},_calculateStep=function Ce(Re,je,Be,De){var Fe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((je-Re)/(Be-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var Oe=getFormatStep(new Decimal$1(je).sub(Re).div(Be-1),De,Fe),ke;Re<=0&&je>=0?ke=new Decimal$1(0):(ke=new Decimal$1(Re).add(je).div(2),ke=ke.sub(new Decimal$1(ke).mod(Oe)));var Me=Math.ceil(ke.sub(Re).div(Oe).toNumber()),Ue=Math.ceil(new Decimal$1(je).sub(ke).div(Oe).toNumber()),$e=Me+Ue+1;return $e>Be?_calculateStep(Re,je,Be,De,Fe+1):($e<Be&&(Ue=je>0?Ue+(Be-$e):Ue,Me=je>0?Me:Me+(Be-$e)),{step:Oe,tickMin:ke.sub(new Decimal$1(Me).mul(Oe)),tickMax:ke.add(new Decimal$1(Ue).mul(Oe))})};function getNiceTickValuesFn(Ce){var[Re,je]=Ce,Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,Fe=Math.max(Be,2),[Oe,ke]=getValidInterval([Re,je]);if(Oe===-1/0||ke===1/0){var Me=ke===1/0?[Oe,...range(0,Be-1).map(()=>1/0)]:[...range(0,Be-1).map(()=>-1/0),ke];return Re>je?reverse(Me):Me}if(Oe===ke)return getTickOfSingleValue(Oe,Be,De);var{step:Ue,tickMin:$e,tickMax:He}=_calculateStep(Oe,ke,Fe,De,0),Qe=rangeStep($e,He.add(new Decimal$1(.1).mul(Ue)),Ue);return Re>je?reverse(Qe):Qe}function getTickValuesFixedDomainFn(Ce,Re){var[je,Be]=Ce,De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[Fe,Oe]=getValidInterval([je,Be]);if(Fe===-1/0||Oe===1/0)return[je,Be];if(Fe===Oe)return[Fe];var ke=Math.max(Re,2),Me=getFormatStep(new Decimal$1(Oe).sub(Fe).div(ke-1),De,0),Ue=[...rangeStep(new Decimal$1(Fe),new Decimal$1(Oe),Me),Oe];return De===!1&&(Ue=Ue.map($e=>Math.round($e))),je>Be?reverse(Ue):Ue}var getNiceTickValues=memoize$2(getNiceTickValuesFn),getTickValuesFixedDomain=memoize$2(getTickValuesFixedDomainFn),selectRootMaxBarSize=Ce=>Ce.rootProps.maxBarSize,selectBarGap=Ce=>Ce.rootProps.barGap,selectBarCategoryGap=Ce=>Ce.rootProps.barCategoryGap,selectRootBarSize=Ce=>Ce.rootProps.barSize,selectStackOffsetType=Ce=>Ce.rootProps.stackOffset,selectChartName=Ce=>Ce.options.chartName,selectSyncId=Ce=>Ce.rootProps.syncId,selectSyncMethod=Ce=>Ce.rootProps.syncMethod,selectEventEmitter=Ce=>Ce.options.eventEmitter,defaultPolarAngleAxisProps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},combineAxisRangeWithReverse=(Ce,Re)=>{if(!(!Ce||!Re))return Ce!=null&&Ce.reversed?[Re[1],Re[0]]:Re},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(Ce,Re)=>Ce.polarAxis.angleAxis[Re]!=null?Ce.polarAxis.angleAxis[Re]:Ce.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(Ce,Re)=>Ce.polarAxis.radiusAxis[Re]!=null?Ce.polarAxis.radiusAxis[Re]:Ce.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=Ce=>Ce.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(Ce,Re)=>{if(Ce!=null)return getPercentValue(Ce.innerRadius,Re,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(Ce,Re)=>{if(Ce!=null)return getPercentValue(Ce.outerRadius,Re,Re*.8)}),combineAngleAxisRange=Ce=>{if(Ce==null)return[0,0];var{startAngle:Re,endAngle:je}=Ce;return[Re,je]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(Ce,Re,je)=>{if(!(Ce==null||Re==null||je==null))return[Re,je]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(Ce,Re,je,Be,De,Fe)=>{if(!(Ce!=="centric"&&Ce!=="radial"||Re==null||je==null||Be==null)){var{cx:Oe,cy:ke,startAngle:Me,endAngle:Ue}=Re;return{cx:getPercentValue(Oe,De,De/2),cy:getPercentValue(ke,Fe,Fe/2),innerRadius:je,outerRadius:Be,startAngle:Me,endAngle:Ue,clockWise:!1}}}),pickAxisType=(Ce,Re)=>Re,pickAxisId=(Ce,Re,je)=>je;function getStackSeriesIdentifier(Ce){return Ce?.id}var selectTooltipAxisType=Ce=>{var Re=selectChartLayout(Ce);return Re==="horizontal"?"xAxis":Re==="vertical"?"yAxis":Re==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=Ce=>Ce.tooltip.settings.axisId,selectTooltipAxis=Ce=>{var Re=selectTooltipAxisType(Ce),je=selectTooltipAxisId(Ce);return selectAxisSettings(Ce,Re,je)};function combineDisplayedStackedData(Ce,Re,je){var{chartData:Be=[]}=Re,De=je?.dataKey,Fe=new Map;return Ce.forEach(Oe=>{var ke,Me=(ke=Oe.data)!==null&&ke!==void 0?ke:Be;if(!(Me==null||Me.length===0)){var Ue=getStackSeriesIdentifier(Oe);Me.forEach(($e,He)=>{var Qe=De==null?He:String(getValueByDataKey($e,De,null)),We=getValueByDataKey($e,Oe.dataKey,0),qe;Fe.has(Qe)?qe=Fe.get(Qe):qe={},Object.assign(qe,{[Ue]:We}),Fe.set(Qe,qe)})}}),Array.from(Fe.values())}function isStacked(Ce){return Ce.stackId!=null&&Ce.dataKey!=null}function ownKeys$m(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$l(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$m(Object(je),!0).forEach(function(Be){_defineProperty$q(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$m(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$q(Ce,Re,je){return(Re=_toPropertyKey$p(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$p(Ce){var Re=_toPrimitive$p(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$p(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettings=(Ce,Re)=>{var je=Ce.cartesianAxis.xAxis[Re];return je??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettings=(Ce,Re)=>{var je=Ce.cartesianAxis.yAxis[Re];return je??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(Ce,Re)=>{var je=Ce.cartesianAxis.zAxis[Re];return je??implicitZAxis},selectBaseAxis=(Ce,Re,je)=>{switch(Re){case"xAxis":return selectXAxisSettings(Ce,je);case"yAxis":return selectYAxisSettings(Ce,je);case"zAxis":return selectZAxisSettings(Ce,je);case"angleAxis":return selectAngleAxis(Ce,je);case"radiusAxis":return selectRadiusAxis(Ce,je);default:throw new Error("Unexpected axis type: ".concat(Re))}},selectCartesianAxisSettings=(Ce,Re,je)=>{switch(Re){case"xAxis":return selectXAxisSettings(Ce,je);case"yAxis":return selectYAxisSettings(Ce,je);default:throw new Error("Unexpected axis type: ".concat(Re))}},selectAxisSettings=(Ce,Re,je)=>{switch(Re){case"xAxis":return selectXAxisSettings(Ce,je);case"yAxis":return selectYAxisSettings(Ce,je);case"angleAxis":return selectAngleAxis(Ce,je);case"radiusAxis":return selectRadiusAxis(Ce,je);default:throw new Error("Unexpected axis type: ".concat(Re))}},selectHasBar=Ce=>Ce.graphicalItems.cartesianItems.some(Re=>Re.type==="bar")||Ce.graphicalItems.polarItems.some(Re=>Re.type==="radialBar");function itemAxisPredicate(Ce,Re){return je=>{switch(Ce){case"xAxis":return"xAxisId"in je&&je.xAxisId===Re;case"yAxis":return"yAxisId"in je&&je.yAxisId===Re;case"zAxis":return"zAxisId"in je&&je.zAxisId===Re;case"angleAxis":return"angleAxisId"in je&&je.angleAxisId===Re;case"radiusAxis":return"radiusAxisId"in je&&je.radiusAxisId===Re;default:return!1}}}var selectUnfilteredCartesianItems=Ce=>Ce.graphicalItems.cartesianItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(Ce,Re,je)=>Ce.filter(je).filter(Be=>Re?.includeHidden===!0?!0:!Be.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings),selectStackedCartesianItemsSettings=createSelector([selectCartesianItemsSettings],Ce=>Ce.filter(Re=>Re.type==="area"||Re.type==="bar").filter(isStacked)),filterGraphicalNotStackedItems=Ce=>Ce.filter(Re=>!("stackId"in Re)||Re.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=Ce=>Ce.map(Re=>Re.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData),combineDisplayedData=(Ce,Re)=>{var{chartData:je=[],dataStartIndex:Be,dataEndIndex:De}=Re;return Ce.length>0?Ce:je.slice(Be,De+1)},selectDisplayedData=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanorama],combineDisplayedData),combineAppliedValues=(Ce,Re,je)=>Re?.dataKey!=null?Ce.map(Be=>({value:getValueByDataKey(Be,Re.dataKey)})):je.length>0?je.map(Be=>Be.dataKey).flatMap(Be=>Ce.map(De=>({value:getValueByDataKey(De,Be)}))):Ce.map(Be=>({value:Be})),selectAllAppliedValues=createSelector([selectDisplayedData,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(Ce,Re){switch(Ce){case"xAxis":return Re.direction==="x";case"yAxis":return Re.direction==="y";default:return!1}}function onlyAllowNumbers(Ce){return Ce.filter(Re=>isNumOrStr(Re)||Re instanceof Date).map(Number).filter(Re=>isNan(Re)===!1)}function getErrorDomainByDataKey(Ce,Re,je){return!je||typeof Re!="number"||isNan(Re)?[]:je.length?onlyAllowNumbers(je.flatMap(Be=>{var De=getValueByDataKey(Ce,Be.dataKey),Fe,Oe;if(Array.isArray(De)?[Fe,Oe]=De:Fe=Oe=De,!(!isWellBehavedNumber(Fe)||!isWellBehavedNumber(Oe)))return[Re-Fe,Re+Oe]})):[]}var selectDisplayedStackedData=createSelector([selectStackedCartesianItemsSettings,selectChartDataWithIndexesIfNotInPanorama,selectTooltipAxis],combineDisplayedStackedData),combineStackGroups=(Ce,Re,je)=>{var Be={},De=Re.reduce((Fe,Oe)=>(Oe.stackId==null||(Fe[Oe.stackId]==null&&(Fe[Oe.stackId]=[]),Fe[Oe.stackId].push(Oe)),Fe),Be);return Object.fromEntries(Object.entries(De).map(Fe=>{var[Oe,ke]=Fe,Me=ke.map(getStackSeriesIdentifier);return[Oe,{stackedData:getStackedData(Ce,Me,je),graphicalItems:ke}]}))},selectStackGroups=createSelector([selectDisplayedStackedData,selectStackedCartesianItemsSettings,selectStackOffsetType],combineStackGroups),combineDomainOfStackGroups=(Ce,Re,je)=>{var{dataStartIndex:Be,dataEndIndex:De}=Re;if(je!=="zAxis"){var Fe=getDomainOfStackGroups(Ce,Be,De);if(!(Fe!=null&&Fe[0]===0&&Fe[1]===0))return Fe}},selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType],combineDomainOfStackGroups),combineAppliedNumericalValuesIncludingErrorValues=(Ce,Re,je,Be,De)=>je.length>0?Ce.flatMap(Fe=>je.flatMap(Oe=>{var ke,Me,Ue=(ke=Be[Oe.id])===null||ke===void 0?void 0:ke.filter(He=>isErrorBarRelevantForAxisType(De,He)),$e=getValueByDataKey(Fe,(Me=Re.dataKey)!==null&&Me!==void 0?Me:Oe.dataKey);return{value:$e,errorDomain:getErrorDomainByDataKey(Fe,$e,Ue)}})).filter(Boolean):Re?.dataKey!=null?Ce.map(Fe=>({value:getValueByDataKey(Fe,Re.dataKey),errorDomain:[]})):Ce.map(Fe=>({value:Fe,errorDomain:[]})),selectAllErrorBarSettings=Ce=>Ce.errorBars,combineRelevantErrorBarSettings=(Ce,Re,je)=>Ce.flatMap(Be=>Re[Be.id]).filter(Boolean).filter(Be=>isErrorBarRelevantForAxisType(je,Be));createSelector([selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);var selectAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectDisplayedData,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineAppliedNumericalValuesIncludingErrorValues);function onlyAllowNumbersAndStringsAndDates(Ce){var{value:Re}=Ce;if(isNumOrStr(Re)||Re instanceof Date)return Re}var computeNumericalDomain=Ce=>{var Re=Ce.flatMap(Be=>[Be.value,Be.errorDomain]).flat(1),je=onlyAllowNumbers(Re);if(je.length!==0)return[Math.min(...je),Math.max(...je)]},computeDomainOfTypeCategory=(Ce,Re,je)=>{var Be=Ce.map(onlyAllowNumbersAndStringsAndDates).filter(De=>De!=null);return je&&(Re.dataKey==null||Re.allowDuplicatedCategory&&hasDuplicate(Be))?range$2(0,Ce.length):Re.allowDuplicatedCategory?Be:Array.from(new Set(Be))},getDomainDefinition=Ce=>{var Re;if(Ce==null||!("domain"in Ce))return defaultNumericDomain;if(Ce.domain!=null)return Ce.domain;if(Ce.ticks!=null){if(Ce.type==="number"){var je=onlyAllowNumbers(Ce.ticks);return[Math.min(...je),Math.max(...je)]}if(Ce.type==="category")return Ce.ticks.map(String)}return(Re=Ce?.domain)!==null&&Re!==void 0?Re:defaultNumericDomain},mergeDomains=function Ce(){for(var Re=arguments.length,je=new Array(Re),Be=0;Be<Re;Be++)je[Be]=arguments[Be];var De=je.filter(Boolean);if(De.length!==0){var Fe=De.flat(),Oe=Math.min(...Fe),ke=Math.max(...Fe);return[Oe,ke]}},selectReferenceDots=Ce=>Ce.referenceElements.dots,filterReferenceElements=(Ce,Re,je)=>Ce.filter(Be=>Be.ifOverflow==="extendDomain").filter(Be=>Re==="xAxis"?Be.xAxisId===je:Be.yAxisId===je),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=Ce=>Ce.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=Ce=>Ce.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(Ce,Re)=>{var je=onlyAllowNumbers(Ce.map(Be=>Re==="xAxis"?Be.x:Be.y));if(je.length!==0)return[Math.min(...je),Math.max(...je)]},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(Ce,Re)=>{var je=onlyAllowNumbers(Ce.flatMap(Be=>[Re==="xAxis"?Be.x1:Be.y1,Re==="xAxis"?Be.x2:Be.y2]));if(je.length!==0)return[Math.min(...je),Math.max(...je)]},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain),combineLinesDomain=(Ce,Re)=>{var je=onlyAllowNumbers(Ce.map(Be=>Re==="xAxis"?Be.x:Be.y));if(je.length!==0)return[Math.min(...je),Math.max(...je)]},selectReferenceLinesDomain=createSelector(selectReferenceLinesByAxis,pickAxisType,combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(Ce,Re,je)=>mergeDomains(Ce,je,Re)),selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),combineNumericalDomain=(Ce,Re,je,Be,De,Fe,Oe)=>{var ke=numericalDomainSpecifiedWithoutRequiringData(Re,Ce.allowDataOverflow);if(ke!=null)return ke;var Me=Fe==="vertical"&&Oe==="xAxis"||Fe==="horizontal"&&Oe==="yAxis",Ue=Me?mergeDomains(je,De,computeNumericalDomain(Be)):mergeDomains(De,computeNumericalDomain(Be));return parseNumericalUserDomain(Re,Ue,Ce.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainOfStackGroups,selectAllAppliedNumericalValuesIncludingErrorValues,selectReferenceElementsDomain,selectChartLayout,pickAxisType],combineNumericalDomain),expandDomain=[0,1],combineAxisDomain=(Ce,Re,je,Be,De,Fe,Oe)=>{if(!((Ce==null||je==null||je.length===0)&&Oe===void 0)){var{dataKey:ke,type:Me}=Ce,Ue=isCategoricalAxis(Re,Fe);return Ue&&ke==null?range$2(0,je.length):Me==="category"?computeDomainOfTypeCategory(Be,Ce,Ue):De==="expand"?expandDomain:Oe}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(Ce,Re,je,Be,De)=>{if(Ce!=null){var{scale:Fe,type:Oe}=Ce;if(Fe==="auto")return Re==="radial"&&De==="radiusAxis"?"band":Re==="radial"&&De==="angleAxis"?"linear":Oe==="category"&&Be&&(Be.indexOf("LineChart")>=0||Be.indexOf("AreaChart")>=0||Be.indexOf("ComposedChart")>=0&&!je)?"point":Oe==="category"?"band":"linear";if(typeof Fe=="string"){var ke="scale".concat(upperFirst(Fe));return ke in d3Scales?ke:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(Ce){if(Ce!=null){if(Ce in d3Scales)return d3Scales[Ce]();var Re="scale".concat(upperFirst(Ce));if(Re in d3Scales)return d3Scales[Re]()}}function combineScaleFunction(Ce,Re,je,Be){if(!(je==null||Be==null)){if(typeof Ce.scale=="function")return Ce.scale.copy().domain(je).range(Be);var De=getD3ScaleFromType(Re);if(De!=null){var Fe=De.domain(je).range(Be);return checkDomainOfScale(Fe),Fe}}}var combineNiceTicks=(Ce,Re,je)=>{var Be=getDomainDefinition(Re);if(!(je!=="auto"&&je!=="linear")){if(Re!=null&&Re.tickCount&&Array.isArray(Be)&&(Be[0]==="auto"||Be[1]==="auto")&&isWellFormedNumberDomain(Ce))return getNiceTickValues(Ce,Re.tickCount,Re.allowDecimals);if(Re!=null&&Re.tickCount&&Re.type==="number"&&isWellFormedNumberDomain(Ce))return getTickValuesFixedDomain(Ce,Re.tickCount,Re.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(Ce,Re,je,Be)=>{if(Be!=="angleAxis"&&Ce?.type==="number"&&isWellFormedNumberDomain(Re)&&Array.isArray(je)&&je.length>0){var De=Re[0],Fe=je[0],Oe=Re[1],ke=je[je.length-1];return[Math.min(De,Fe),Math.max(Oe,ke)]}return Re},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(Ce,Re)=>{if(!(!Re||Re.type!=="number")){var je=1/0,Be=Array.from(onlyAllowNumbers(Ce.map(ke=>ke.value))).sort((ke,Me)=>ke-Me);if(Be.length<2)return 1/0;var De=Be[Be.length-1]-Be[0];if(De===0)return 1/0;for(var Fe=0;Fe<Be.length-1;Fe++){var Oe=Be[Fe+1]-Be[Fe];je=Math.min(je,Oe)}return je/De}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(Ce,Re,je,Be)=>Be,(Ce,Re,je,Be,De)=>{if(!isWellBehavedNumber(Ce))return 0;var Fe=Re==="vertical"?Be.height:Be.width;if(De==="gap")return Ce*Fe/2;if(De==="no-gap"){var Oe=getPercentValue(je,Ce*Fe),ke=Ce*Fe/2;return ke-Oe-(ke-Oe)/Fe*Oe}return 0}),selectCalculatedXAxisPadding=(Ce,Re)=>{var je=selectXAxisSettings(Ce,Re);return je==null||typeof je.padding!="string"?0:selectCalculatedPadding(Ce,"xAxis",Re,je.padding)},selectCalculatedYAxisPadding=(Ce,Re)=>{var je=selectYAxisSettings(Ce,Re);return je==null||typeof je.padding!="string"?0:selectCalculatedPadding(Ce,"yAxis",Re,je.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(Ce,Re)=>{var je,Be;if(Ce==null)return{left:0,right:0};var{padding:De}=Ce;return typeof De=="string"?{left:Re,right:Re}:{left:((je=De.left)!==null&&je!==void 0?je:0)+Re,right:((Be=De.right)!==null&&Be!==void 0?Be:0)+Re}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(Ce,Re)=>{var je,Be;if(Ce==null)return{top:0,bottom:0};var{padding:De}=Ce;return typeof De=="string"?{top:Re,bottom:Re}:{top:((je=De.top)!==null&&je!==void 0?je:0)+Re,bottom:((Be=De.bottom)!==null&&Be!==void 0?Be:0)+Re}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(Ce,Re,je)=>je],(Ce,Re,je,Be,De)=>{var{padding:Fe}=Be;return De?[Fe.left,je.width-Fe.right]:[Ce.left+Re.left,Ce.left+Ce.width-Re.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(Ce,Re,je)=>je],(Ce,Re,je,Be,De,Fe)=>{var{padding:Oe}=De;return Fe?[Be.height-Oe.bottom,Oe.top]:Re==="horizontal"?[Ce.top+Ce.height-je.bottom,Ce.top+je.top]:[Ce.top+je.top,Ce.top+Ce.height-je.bottom]}),selectAxisRange=(Ce,Re,je,Be)=>{var De;switch(Re){case"xAxis":return combineXAxisRange(Ce,je,Be);case"yAxis":return combineYAxisRange(Ce,je,Be);case"zAxis":return(De=selectZAxisSettings(Ce,je))===null||De===void 0?void 0:De.range;case"angleAxis":return selectAngleAxisRange(Ce);case"radiusAxis":return selectRadiusAxisRange(Ce,je);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector([selectCartesianItemsSettings,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);function compareIds(Ce,Re){return Ce.id<Re.id?-1:Ce.id>Re.id?1:0}var pickAxisOrientation=(Ce,Re)=>Re,pickMirror=(Ce,Re,je)=>je,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(Ce,Re,je)=>Ce.filter(Be=>Be.orientation===Re).filter(Be=>Be.mirror===je).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(Ce,Re,je)=>Ce.filter(Be=>Be.orientation===Re).filter(Be=>Be.mirror===je).sort(compareIds)),getXAxisSize=(Ce,Re)=>({width:Ce.width,height:Re.height}),getYAxisSize=(Ce,Re)=>{var je=typeof Re.width=="number"?Re.width:DEFAULT_Y_AXIS_WIDTH;return{width:je,height:Ce.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(Ce,Re,je)=>{switch(Re){case"top":return Ce.top;case"bottom":return je-Ce.bottom;default:return 0}},combineYAxisPositionStartingPoint=(Ce,Re,je)=>{switch(Re){case"left":return Ce.left;case"right":return je-Ce.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(Ce,Re,je,Be,De)=>{var Fe={},Oe;return je.forEach(ke=>{var Me=getXAxisSize(Re,ke);Oe==null&&(Oe=combineXAxisPositionStartingPoint(Re,Be,Ce));var Ue=Be==="top"&&!De||Be==="bottom"&&De;Fe[ke.id]=Oe-Number(Ue)*Me.height,Oe+=(Ue?-1:1)*Me.height}),Fe}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(Ce,Re,je,Be,De)=>{var Fe={},Oe;return je.forEach(ke=>{var Me=getYAxisSize(Re,ke);Oe==null&&(Oe=combineYAxisPositionStartingPoint(Re,Be,Ce));var Ue=Be==="left"&&!De||Be==="right"&&De;Fe[ke.id]=Oe-Number(Ue)*Me.width,Oe+=(Ue?-1:1)*Me.width}),Fe}),selectXAxisPosition=(Ce,Re)=>{var je=selectChartOffsetInternal(Ce),Be=selectXAxisSettings(Ce,Re);if(Be!=null){var De=selectAllXAxesOffsetSteps(Ce,Be.orientation,Be.mirror),Fe=De[Re];return Fe==null?{x:je.left,y:0}:{x:je.left,y:Fe}}},selectYAxisPosition=(Ce,Re)=>{var je=selectChartOffsetInternal(Ce),Be=selectYAxisSettings(Ce,Re);if(Be!=null){var De=selectAllYAxesOffsetSteps(Ce,Be.orientation,Be.mirror),Fe=De[Re];return Fe==null?{x:0,y:je.top}:{x:Fe,y:je.top}}},selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(Ce,Re)=>{var je=typeof Re.width=="number"?Re.width:DEFAULT_Y_AXIS_WIDTH;return{width:je,height:Ce.height}}),selectCartesianAxisSize=(Ce,Re,je)=>{switch(Re){case"xAxis":return selectXAxisSize(Ce,je).width;case"yAxis":return selectYAxisSize(Ce,je).height;default:return}},combineDuplicateDomain=(Ce,Re,je,Be)=>{if(je!=null){var{allowDuplicatedCategory:De,type:Fe,dataKey:Oe}=je,ke=isCategoricalAxis(Ce,Be),Me=Re.map(Ue=>Ue.value);if(Oe&&ke&&Fe==="category"&&De&&hasDuplicate(Me))return Me}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(Ce,Re,je,Be)=>{if(!(je==null||je.dataKey==null)){var{type:De,scale:Fe}=je,Oe=isCategoricalAxis(Ce,Be);if(Oe&&(De==="number"||Fe!=="auto"))return Re.map(ke=>ke.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(Ce,Re,je,Be,De,Fe,Oe,ke,Me)=>{if(Re==null)return null;var Ue=isCategoricalAxis(Ce,Me);return{angle:Re.angle,interval:Re.interval,minTickGap:Re.minTickGap,orientation:Re.orientation,tick:Re.tick,tickCount:Re.tickCount,tickFormatter:Re.tickFormatter,ticks:Re.ticks,type:Re.type,unit:Re.unit,axisType:Me,categoricalDomain:Fe,duplicateDomain:De,isCategorical:Ue,niceTicks:ke,range:Oe,realScaleType:je,scale:Be}}),combineAxisTicks=(Ce,Re,je,Be,De,Fe,Oe,ke,Me)=>{if(!(Re==null||Be==null)){var Ue=isCategoricalAxis(Ce,Me),{type:$e,ticks:He,tickCount:Qe}=Re,We=je==="scaleBand"&&typeof Be.bandwidth=="function"?Be.bandwidth()/2:2,qe=$e==="category"&&Be.bandwidth?Be.bandwidth()/We:0;qe=Me==="angleAxis"&&Fe!=null&&Fe.length>=2?mathSign(Fe[0]-Fe[1])*2*qe:qe;var Ke=He||De;if(Ke){var Xe=Ke.map((Ye,Ze)=>{var Je=Oe?Oe.indexOf(Ye):Ye;return{index:Ze,coordinate:Be(Je)+qe,value:Ye,offset:qe}});return Xe.filter(Ye=>!isNan(Ye.coordinate))}return Ue&&ke?ke.map((Ye,Ze)=>({coordinate:Be(Ye)+qe,value:Ye,index:Ze,offset:qe})):Be.ticks?Be.ticks(Qe).map(Ye=>({coordinate:Be(Ye)+qe,value:Ye,offset:qe})):Be.domain().map((Ye,Ze)=>({coordinate:Be(Ye)+qe,value:Oe?Oe[Ye]:Ye,index:Ze,offset:qe}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(Ce,Re,je,Be,De,Fe,Oe)=>{if(!(Re==null||je==null||Be==null||Be[0]===Be[1])){var ke=isCategoricalAxis(Ce,Oe),{tickCount:Me}=Re,Ue=0;return Ue=Oe==="angleAxis"&&Be?.length>=2?mathSign(Be[0]-Be[1])*2*Ue:Ue,ke&&Fe?Fe.map(($e,He)=>({coordinate:je($e)+Ue,value:$e,index:He,offset:Ue})):je.ticks?je.ticks(Me).map($e=>({coordinate:je($e)+Ue,value:$e,offset:Ue})):je.domain().map(($e,He)=>({coordinate:je($e)+Ue,value:De?De[$e]:$e,index:He,offset:Ue}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(Ce,Re)=>{if(!(Ce==null||Re==null))return _objectSpread$l(_objectSpread$l({},Ce),{},{scale:Re})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((Ce,Re,je)=>selectZAxisSettings(Ce,je),selectZAxisScale,(Ce,Re)=>{if(!(Ce==null||Re==null))return _objectSpread$l(_objectSpread$l({},Ce),{},{scale:Re})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(Ce,Re,je)=>{switch(Ce){case"horizontal":return Re.some(Be=>Be.reversed)?"right-to-left":"left-to-right";case"vertical":return je.some(Be=>Be.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=Ce=>Ce.options.defaultTooltipEventType,selectValidateTooltipEventTypes=Ce=>Ce.options.validateTooltipEventTypes;function combineTooltipEventType(Ce,Re,je){if(Ce==null)return Re;var Be=Ce?"axis":"item";return je==null?Re:je.includes(Be)?Be:Re}function selectTooltipEventType$1(Ce,Re){var je=selectDefaultTooltipEventType(Ce),Be=selectValidateTooltipEventTypes(Ce);return combineTooltipEventType(Re,je,Be)}function useTooltipEventType(Ce){return useAppSelector(Re=>selectTooltipEventType$1(Re,Ce))}var combineActiveLabel=(Ce,Re)=>{var je,Be=Number(Re);if(!(isNan(Be)||Re==null))return Be>=0?Ce==null||(je=Ce[Be])===null||je===void 0?void 0:je.value:void 0},selectTooltipSettings=Ce=>Ce.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,coordinate:void 0},initialState$8={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$8,reducers:{addTooltipEntrySettings(Ce,Re){Ce.tooltipItemPayloads.push(Re.payload)},removeTooltipEntrySettings(Ce,Re){var je=current(Ce).tooltipItemPayloads.indexOf(Re.payload);je>-1&&Ce.tooltipItemPayloads.splice(je,1)},setTooltipSettingsState(Ce,Re){Ce.settings=Re.payload},setActiveMouseOverItemIndex(Ce,Re){Ce.syncInteraction.active=!1,Ce.keyboardInteraction.active=!1,Ce.itemInteraction.hover.active=!0,Ce.itemInteraction.hover.index=Re.payload.activeIndex,Ce.itemInteraction.hover.dataKey=Re.payload.activeDataKey,Ce.itemInteraction.hover.coordinate=Re.payload.activeCoordinate},mouseLeaveChart(Ce){Ce.itemInteraction.hover.active=!1,Ce.axisInteraction.hover.active=!1},mouseLeaveItem(Ce){Ce.itemInteraction.hover.active=!1},setActiveClickItemIndex(Ce,Re){Ce.syncInteraction.active=!1,Ce.itemInteraction.click.active=!0,Ce.keyboardInteraction.active=!1,Ce.itemInteraction.click.index=Re.payload.activeIndex,Ce.itemInteraction.click.dataKey=Re.payload.activeDataKey,Ce.itemInteraction.click.coordinate=Re.payload.activeCoordinate},setMouseOverAxisIndex(Ce,Re){Ce.syncInteraction.active=!1,Ce.axisInteraction.hover.active=!0,Ce.keyboardInteraction.active=!1,Ce.axisInteraction.hover.index=Re.payload.activeIndex,Ce.axisInteraction.hover.dataKey=Re.payload.activeDataKey,Ce.axisInteraction.hover.coordinate=Re.payload.activeCoordinate},setMouseClickAxisIndex(Ce,Re){Ce.syncInteraction.active=!1,Ce.keyboardInteraction.active=!1,Ce.axisInteraction.click.active=!0,Ce.axisInteraction.click.index=Re.payload.activeIndex,Ce.axisInteraction.click.dataKey=Re.payload.activeDataKey,Ce.axisInteraction.click.coordinate=Re.payload.activeCoordinate},setSyncInteraction(Ce,Re){Ce.syncInteraction=Re.payload},setKeyboardInteraction(Ce,Re){Ce.keyboardInteraction.active=Re.payload.active,Ce.keyboardInteraction.index=Re.payload.activeIndex,Ce.keyboardInteraction.coordinate=Re.payload.activeCoordinate,Ce.keyboardInteraction.dataKey=Re.payload.activeDataKey}}}),{addTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$l(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$k(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$l(Object(je),!0).forEach(function(Be){_defineProperty$p(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$l(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$p(Ce,Re,je){return(Re=_toPropertyKey$o(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$o(Ce){var Re=_toPrimitive$o(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$o(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function chooseAppropriateMouseInteraction(Ce,Re,je){return Re==="axis"?je==="click"?Ce.axisInteraction.click:Ce.axisInteraction.hover:je==="click"?Ce.itemInteraction.click:Ce.itemInteraction.hover}function hasBeenActivePreviously(Ce){return Ce.index!=null}var combineTooltipInteractionState=(Ce,Re,je,Be)=>{if(Re==null)return noInteraction;var De=chooseAppropriateMouseInteraction(Ce,Re,je);if(De==null)return noInteraction;if(De.active)return De;if(Ce.keyboardInteraction.active)return Ce.keyboardInteraction;if(Ce.syncInteraction.active&&Ce.syncInteraction.index!=null)return Ce.syncInteraction;var Fe=Ce.settings.active===!0;if(hasBeenActivePreviously(De)){if(Fe)return _objectSpread$k(_objectSpread$k({},De),{},{active:!0})}else if(Be!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:Be};return _objectSpread$k(_objectSpread$k({},noInteraction),{},{coordinate:De.coordinate})},combineActiveTooltipIndex=(Ce,Re)=>{var je=Ce?.index;if(je==null)return null;var Be=Number(je);if(!isWellBehavedNumber(Be))return je;var De=0,Fe=1/0;return Re.length>0&&(Fe=Re.length-1),String(Math.max(De,Math.min(Be,Fe)))},combineCoordinateForDefaultIndex=(Ce,Re,je,Be,De,Fe,Oe,ke)=>{if(!(Fe==null||ke==null)){var Me=Oe[0],Ue=Me==null?void 0:ke(Me.positions,Fe);if(Ue!=null)return Ue;var $e=De?.[Number(Fe)];if($e)switch(je){case"horizontal":return{x:$e.coordinate,y:(Be.top+Re)/2};default:return{x:(Be.left+Ce)/2,y:$e.coordinate}}}},combineTooltipPayloadConfigurations=(Ce,Re,je,Be)=>{if(Re==="axis")return Ce.tooltipItemPayloads;if(Ce.tooltipItemPayloads.length===0)return[];var De;return je==="hover"?De=Ce.itemInteraction.hover.dataKey:De=Ce.itemInteraction.click.dataKey,De==null&&Be!=null?[Ce.tooltipItemPayloads[0]]:Ce.tooltipItemPayloads.filter(Fe=>{var Oe;return((Oe=Fe.settings)===null||Oe===void 0?void 0:Oe.dataKey)===De})},selectTooltipPayloadSearcher=Ce=>Ce.options.tooltipPayloadSearcher,selectTooltipState=Ce=>Ce.tooltip;function ownKeys$k(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$j(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$k(Object(je),!0).forEach(function(Be){_defineProperty$o(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$k(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$o(Ce,Re,je){return(Re=_toPropertyKey$n(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$n(Ce){var Re=_toPrimitive$n(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$n(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function selectFinalData(Ce,Re){return Ce??Re}var combineTooltipPayload=(Ce,Re,je,Be,De,Fe,Oe)=>{if(!(Re==null||Fe==null)){var{chartData:ke,computedData:Me,dataStartIndex:Ue,dataEndIndex:$e}=je,He=[];return Ce.reduce((Qe,We)=>{var qe,{dataDefinedOnItem:Ke,settings:Xe}=We,Ye=selectFinalData(Ke,ke),Ze=Array.isArray(Ye)?getSliced(Ye,Ue,$e):Ye,Je=(qe=Xe?.dataKey)!==null&&qe!==void 0?qe:Be?.dataKey,tr=Xe?.nameKey,rr;if(Be!=null&&Be.dataKey&&Array.isArray(Ze)&&!Array.isArray(Ze[0])&&Oe==="axis"?rr=findEntryInArray(Ze,Be.dataKey,De):rr=Fe(Ze,Re,Me,tr),Array.isArray(rr))rr.forEach(nr=>{var sr=_objectSpread$j(_objectSpread$j({},Xe),{},{name:nr.name,unit:nr.unit,color:void 0,fill:void 0});Qe.push(getTooltipEntry({tooltipEntrySettings:sr,dataKey:nr.dataKey,payload:nr.payload,value:getValueByDataKey(nr.payload,nr.dataKey),name:nr.name}))});else{var ar;Qe.push(getTooltipEntry({tooltipEntrySettings:Xe,dataKey:Je,payload:rr,value:getValueByDataKey(rr,Je),name:(ar=getValueByDataKey(rr,tr))!==null&&ar!==void 0?ar:Xe?.name}))}return Qe},He)}},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([Ce=>Ce.graphicalItems.cartesianItems,Ce=>Ce.graphicalItems.polarItems],(Ce,Re)=>[...Ce,...Re]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings),selectAllStackedGraphicalItemsSettings=createSelector([selectAllGraphicalItemsSettings],Ce=>Ce.filter(isStacked)),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectTooltipStackedData=createSelector([selectAllStackedGraphicalItemsSettings,selectChartDataWithIndexes,selectTooltipAxis],combineDisplayedStackedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectAllStackedGraphicalItems=createSelector([selectAllGraphicalItemsSettings],Ce=>Ce.filter(isStacked)),selectTooltipStackGroups=createSelector([selectTooltipStackedData,selectAllStackedGraphicalItems,selectStackOffsetType],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectTooltipAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectAllErrorBarSettings,selectTooltipAxisType],combineAppliedNumericalValuesIncludingErrorValues),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainOfStackGroups,selectTooltipAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain,selectChartLayout,selectTooltipAxisType],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=Ce=>{var Re=selectTooltipAxisType(Ce),je=selectTooltipAxisId(Ce),Be=!1;return selectAxisRange(Ce,Re,je,Be)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(Ce,Re,je,Be,De,Fe,Oe,ke)=>{if(Re){var{type:Me}=Re,Ue=isCategoricalAxis(Ce,ke);if(Be){var $e=je==="scaleBand"&&Be.bandwidth?Be.bandwidth()/2:2,He=Me==="category"&&Be.bandwidth?Be.bandwidth()/$e:0;return He=ke==="angleAxis"&&De!=null&&De?.length>=2?mathSign(De[0]-De[1])*2*He:He,Ue&&Oe?Oe.map((Qe,We)=>({coordinate:Be(Qe)+He,value:Qe,index:We,offset:He})):Be.domain().map((Qe,We)=>({coordinate:Be(Qe)+He,value:Fe?Fe[Qe]:Qe,index:We,offset:He}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(Ce,Re,je)=>combineTooltipEventType(je.shared,Ce,Re)),selectTooltipTrigger=Ce=>Ce.tooltip.settings.trigger,selectDefaultIndex=Ce=>Ce.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],Ce=>{if(Ce)return Ce.dataKey}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(Ce,Re)=>Ce!=null&&Ce.coordinate?Ce.coordinate:Re),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],Ce=>Ce.active),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxis,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload),selectActiveTooltipDataPoints=createSelector([selectActiveTooltipPayload],Ce=>{if(Ce!=null){var Re=Ce.map(je=>je.payload).filter(je=>je!=null);return Array.from(new Set(Re))}});function ownKeys$j(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$i(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$j(Object(je),!0).forEach(function(Be){_defineProperty$n(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$j(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$n(Ce,Re,je){return(Re=_toPropertyKey$m(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$m(Ce){var Re=_toPrimitive$m(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$m(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var Ce=useTooltipAxis(),Re=useAppSelector(selectTooltipAxisTicks),je=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(_objectSpread$i(_objectSpread$i({},Ce),{},{scale:je}),Re)},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(Ce,Re)=>Re,pickTrigger=(Ce,Re,je)=>je,pickDefaultIndex=(Ce,Re,je,Be)=>Be,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,Ce=>sortBy(Ce,Re=>Re.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData],combineActiveTooltipIndex),selectTooltipDataKey=(Ce,Re,je)=>{if(Re!=null){var Be=selectTooltipState(Ce);return Re==="axis"?je==="hover"?Be.axisInteraction.hover.dataKey:Be.axisInteraction.click.dataKey:je==="hover"?Be.itemInteraction.hover.dataKey:Be.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(Ce,Re)=>{var je;return(je=Ce.coordinate)!==null&&je!==void 0?je:Re}),selectActiveLabel=createSelector(selectTooltipAxisTicks,selectActiveIndex,combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxis,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState],Ce=>({isActive:Ce.active,activeIndex:Ce.index})),combineActiveProps=(Ce,Re,je,Be,De,Fe,Oe,ke)=>{if(!(!Ce||!Re||!Be||!De||!Fe)){var Me=inRange(Ce.chartX,Ce.chartY,Re,je,ke);if(Me){var Ue=calculateTooltipPos(Me,Re),$e=calculateActiveTickIndex(Ue,Oe,Fe,Be,De),He=getActiveCoordinate(Re,Fe,$e,Me);return{activeIndex:String($e),activeCoordinate:He}}}};function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$g.apply(null,arguments)}function ownKeys$i(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$h(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$i(Object(je),!0).forEach(function(Be){_defineProperty$m(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$i(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$m(Ce,Re,je){return(Re=_toPropertyKey$l(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$l(Ce){var Re=_toPrimitive$l(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$l(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function CursorInternal(Ce){var{coordinate:Re,payload:je,index:Be,offset:De,tooltipAxisBandSize:Fe,layout:Oe,cursor:ke,tooltipEventType:Me,chartName:Ue}=Ce,$e=Re,He=je,Qe=Be;if(!ke||!$e||Ue!=="ScatterChart"&&Me!=="axis")return null;var We,qe;if(Ue==="ScatterChart")We=$e,qe=Cross;else if(Ue==="BarChart")We=getCursorRectangle(Oe,$e,De,Fe),qe=Rectangle;else if(Oe==="radial"){var{cx:Ke,cy:Xe,radius:Ye,startAngle:Ze,endAngle:Je}=getRadialCursorPoints($e);We={cx:Ke,cy:Xe,startAngle:Ze,endAngle:Je,innerRadius:Ye,outerRadius:Ye},qe=Sector}else We={points:getCursorPoints(Oe,$e,De)},qe=Curve;var tr=typeof ke=="object"&&"className"in ke?ke.className:void 0,rr=_objectSpread$h(_objectSpread$h(_objectSpread$h(_objectSpread$h({stroke:"#ccc",pointerEvents:"none"},De),We),filterProps(ke,!1)),{},{payload:He,payloadIndex:Qe,className:clsx("recharts-tooltip-cursor",tr)});return reactExports.isValidElement(ke)?reactExports.cloneElement(ke,rr):reactExports.createElement(qe,rr)}function Cursor(Ce){var Re=useTooltipAxisBandSize(),je=useOffsetInternal(),Be=useChartLayout(),De=useChartName();return reactExports.createElement(CursorInternal,_extends$g({},Ce,{coordinate:Ce.coordinate,index:Ce.index,payload:Ce.payload,offset:je,layout:Be,tooltipAxisBandSize:Re,chartName:De}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(Ce){var Re=Object.prototype.hasOwnProperty,je="~";function Be(){}Object.create&&(Be.prototype=Object.create(null),new Be().__proto__||(je=!1));function De(Me,Ue,$e){this.fn=Me,this.context=Ue,this.once=$e||!1}function Fe(Me,Ue,$e,He,Qe){if(typeof $e!="function")throw new TypeError("The listener must be a function");var We=new De($e,He||Me,Qe),qe=je?je+Ue:Ue;return Me._events[qe]?Me._events[qe].fn?Me._events[qe]=[Me._events[qe],We]:Me._events[qe].push(We):(Me._events[qe]=We,Me._eventsCount++),Me}function Oe(Me,Ue){--Me._eventsCount===0?Me._events=new Be:delete Me._events[Ue]}function ke(){this._events=new Be,this._eventsCount=0}ke.prototype.eventNames=function(){var Ue=[],$e,He;if(this._eventsCount===0)return Ue;for(He in $e=this._events)Re.call($e,He)&&Ue.push(je?He.slice(1):He);return Object.getOwnPropertySymbols?Ue.concat(Object.getOwnPropertySymbols($e)):Ue},ke.prototype.listeners=function(Ue){var $e=je?je+Ue:Ue,He=this._events[$e];if(!He)return[];if(He.fn)return[He.fn];for(var Qe=0,We=He.length,qe=new Array(We);Qe<We;Qe++)qe[Qe]=He[Qe].fn;return qe},ke.prototype.listenerCount=function(Ue){var $e=je?je+Ue:Ue,He=this._events[$e];return He?He.fn?1:He.length:0},ke.prototype.emit=function(Ue,$e,He,Qe,We,qe){var Ke=je?je+Ue:Ue;if(!this._events[Ke])return!1;var Xe=this._events[Ke],Ye=arguments.length,Ze,Je;if(Xe.fn){switch(Xe.once&&this.removeListener(Ue,Xe.fn,void 0,!0),Ye){case 1:return Xe.fn.call(Xe.context),!0;case 2:return Xe.fn.call(Xe.context,$e),!0;case 3:return Xe.fn.call(Xe.context,$e,He),!0;case 4:return Xe.fn.call(Xe.context,$e,He,Qe),!0;case 5:return Xe.fn.call(Xe.context,$e,He,Qe,We),!0;case 6:return Xe.fn.call(Xe.context,$e,He,Qe,We,qe),!0}for(Je=1,Ze=new Array(Ye-1);Je<Ye;Je++)Ze[Je-1]=arguments[Je];Xe.fn.apply(Xe.context,Ze)}else{var tr=Xe.length,rr;for(Je=0;Je<tr;Je++)switch(Xe[Je].once&&this.removeListener(Ue,Xe[Je].fn,void 0,!0),Ye){case 1:Xe[Je].fn.call(Xe[Je].context);break;case 2:Xe[Je].fn.call(Xe[Je].context,$e);break;case 3:Xe[Je].fn.call(Xe[Je].context,$e,He);break;case 4:Xe[Je].fn.call(Xe[Je].context,$e,He,Qe);break;default:if(!Ze)for(rr=1,Ze=new Array(Ye-1);rr<Ye;rr++)Ze[rr-1]=arguments[rr];Xe[Je].fn.apply(Xe[Je].context,Ze)}}return!0},ke.prototype.on=function(Ue,$e,He){return Fe(this,Ue,$e,He,!1)},ke.prototype.once=function(Ue,$e,He){return Fe(this,Ue,$e,He,!0)},ke.prototype.removeListener=function(Ue,$e,He,Qe){var We=je?je+Ue:Ue;if(!this._events[We])return this;if(!$e)return Oe(this,We),this;var qe=this._events[We];if(qe.fn)qe.fn===$e&&(!Qe||qe.once)&&(!He||qe.context===He)&&Oe(this,We);else{for(var Ke=0,Xe=[],Ye=qe.length;Ke<Ye;Ke++)(qe[Ke].fn!==$e||Qe&&!qe[Ke].once||He&&qe[Ke].context!==He)&&Xe.push(qe[Ke]);Xe.length?this._events[We]=Xe.length===1?Xe[0]:Xe:Oe(this,We)}return this},ke.prototype.removeAllListeners=function(Ue){var $e;return Ue?($e=je?je+Ue:Ue,this._events[$e]&&Oe(this,$e)):(this._events=new Be,this._eventsCount=0),this},ke.prototype.off=ke.prototype.removeListener,ke.prototype.addListener=ke.prototype.on,ke.prefixed=je,ke.EventEmitter=ke,Ce.exports=ke})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(Ce,Re){if(Re){var je=Number.parseInt(Re,10);if(!isNan(je))return Ce?.[je]}}var initialState$7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$7,reducers:{createEventEmitter:Ce=>{Ce.eventEmitter==null&&(Ce.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(Ce){return Ce.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(Ce,Re){if(Ce.chartData=Re.payload,Re.payload==null){Ce.dataStartIndex=0,Ce.dataEndIndex=0;return}Re.payload.length>0&&Ce.dataEndIndex!==Re.payload.length-1&&(Ce.dataEndIndex=Re.payload.length-1)},setComputedData(Ce,Re){Ce.computedData=Re.payload},setDataStartEndIndexes(Ce,Re){var{startIndex:je,endIndex:Be}=Re.payload;je!=null&&(Ce.dataStartIndex=je),Be!=null&&(Ce.dataEndIndex=Be)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,noop$5=()=>{};function useTooltipSyncEventsListener(){var Ce=useAppSelector(selectSyncId),Re=useAppSelector(selectEventEmitter),je=useAppDispatch(),Be=useAppSelector(selectSyncMethod),De=useAppSelector(selectTooltipAxisTicks),Fe=useChartLayout(),Oe=useViewBox(),ke=useAppSelector(Me=>Me.rootProps.className);reactExports.useEffect(()=>{if(Ce==null)return noop$5;var Me=(Ue,$e,He)=>{if(Re!==He&&Ce===Ue){if(Be==="index"){je($e);return}if(De!=null){var Qe;if(typeof Be=="function"){var We={activeTooltipIndex:$e.payload.index==null?void 0:Number($e.payload.index),isTooltipActive:$e.payload.active,activeIndex:$e.payload.index==null?void 0:Number($e.payload.index),activeLabel:$e.payload.label,activeDataKey:$e.payload.dataKey,activeCoordinate:$e.payload.coordinate},qe=Be(De,We);Qe=De[qe]}else Be==="value"&&(Qe=De.find(ar=>String(ar.value)===$e.payload.label));var{coordinate:Ke}=$e.payload;if(Qe==null||$e.payload.active===!1||Ke==null||Oe==null){je(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:Xe,y:Ye}=Ke,Ze=Math.min(Xe,Oe.x+Oe.width),Je=Math.min(Ye,Oe.y+Oe.height),tr={x:Fe==="horizontal"?Qe.coordinate:Ze,y:Fe==="horizontal"?Je:Qe.coordinate},rr=setSyncInteraction({active:$e.payload.active,coordinate:tr,dataKey:$e.payload.dataKey,index:String(Qe.index),label:$e.payload.label});je(rr)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,Me),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,Me)}},[ke,je,Re,Ce,Be,De,Fe,Oe])}function useBrushSyncEventsListener(){var Ce=useAppSelector(selectSyncId),Re=useAppSelector(selectEventEmitter),je=useAppDispatch();reactExports.useEffect(()=>{if(Ce==null)return noop$5;var Be=(De,Fe,Oe)=>{Re!==Oe&&Ce===De&&je(setDataStartEndIndexes(Fe))};return eventCenter.on(BRUSH_SYNC_EVENT,Be),()=>{eventCenter.off(BRUSH_SYNC_EVENT,Be)}},[je,Re,Ce])}function useSynchronisedEventsFromOtherCharts(){var Ce=useAppDispatch();reactExports.useEffect(()=>{Ce(createEventEmitter())},[Ce]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(Ce,Re,je,Be,De,Fe){var Oe=useAppSelector(Qe=>selectTooltipDataKey(Qe,Ce,Re)),ke=useAppSelector(selectEventEmitter),Me=useAppSelector(selectSyncId),Ue=useAppSelector(selectSyncMethod),$e=useAppSelector(selectSynchronisedTooltipState),He=$e?.active;reactExports.useEffect(()=>{if(!He&&Me!=null&&ke!=null){var Qe=setSyncInteraction({active:Fe,coordinate:je,dataKey:Oe,index:De,label:typeof Be=="number"?String(Be):Be});eventCenter.emit(TOOLTIP_SYNC_EVENT,Me,Qe,ke)}},[He,je,Oe,De,Be,ke,Me,Ue,Fe])}function ownKeys$h(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$g(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$h(Object(je),!0).forEach(function(Be){_defineProperty$l(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$h(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$l(Ce,Re,je){return(Re=_toPropertyKey$k(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$k(Ce){var Re=_toPrimitive$k(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$k(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function defaultUniqBy(Ce){return Ce.dataKey}function renderContent(Ce,Re){return reactExports.isValidElement(Ce)?reactExports.cloneElement(Ce,Re):typeof Ce=="function"?reactExports.createElement(Ce,Re):reactExports.createElement(DefaultTooltipContent,Re)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Global$1.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(Ce){var Re=resolveDefaultProps(Ce,defaultTooltipProps),{active:je,allowEscapeViewBox:Be,animationDuration:De,animationEasing:Fe,content:Oe,filterNull:ke,isAnimationActive:Me,offset:Ue,payloadUniqBy:$e,position:He,reverseDirection:Qe,useTranslate3d:We,wrapperStyle:qe,cursor:Ke,shared:Xe,trigger:Ye,defaultIndex:Ze,portal:Je,axisId:tr}=Re,rr=useAppDispatch(),ar=typeof Ze=="number"?String(Ze):Ze;reactExports.useEffect(()=>{rr(setTooltipSettingsState({shared:Xe,trigger:Ye,axisId:tr,active:je,defaultIndex:ar}))},[rr,Xe,Ye,tr,je,ar]);var nr=useViewBox(),sr=useAccessibilityLayer(),dr=useTooltipEventType(Xe),{activeIndex:_r,isActive:fr}=useAppSelector(Or=>selectIsTooltipActive(Or,dr,Ye,ar)),or=useAppSelector(Or=>selectTooltipPayload(Or,dr,Ye,ar)),Er=useAppSelector(Or=>selectActiveLabel(Or,dr,Ye,ar)),Rr=useAppSelector(Or=>selectActiveCoordinate(Or,dr,Ye,ar)),jr=or,xr=useTooltipPortal(),Pr=je??fr,[br,wr]=useElementOffset([jr,Pr]),Br=dr==="axis"?Er:void 0;useTooltipChartSynchronisation(dr,Ye,Rr,Br,_r,Pr);var Lr=Je??xr;if(Lr==null)return null;var yr=jr??emptyPayload;Pr||(yr=emptyPayload),ke&&yr.length&&(yr=getUniqPayload(jr.filter(Or=>Or.value!=null&&(Or.hide!==!0||Re.includeHidden)),$e,defaultUniqBy));var vr=yr.length>0,Tr=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:Be,animationDuration:De,animationEasing:Fe,isAnimationActive:Me,active:Pr,coordinate:Rr,hasPayload:vr,offset:Ue,position:He,reverseDirection:Qe,useTranslate3d:We,viewBox:nr,wrapperStyle:qe,lastBoundingBox:br,innerRef:wr,hasPortalFromProps:!!Je},renderContent(Oe,_objectSpread$g(_objectSpread$g({},Re),{},{payload:yr,label:Br,active:Pr,coordinate:Rr,accessibilityLayer:sr})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(Tr,Lr),Pr&&reactExports.createElement(Cursor,{cursor:Ke,tooltipEventType:dr,coordinate:Rr,payload:jr,index:_r}))}var throttle$2={},debounce$2={},debounce$1={},hasRequiredDebounce$1;function requireDebounce$1(){return hasRequiredDebounce$1||(hasRequiredDebounce$1=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je,Be,{signal:De,edges:Fe}={}){let Oe,ke=null;const Me=Fe!=null&&Fe.includes("leading"),Ue=Fe==null||Fe.includes("trailing"),$e=()=>{ke!==null&&(je.apply(Oe,ke),Oe=void 0,ke=null)},He=()=>{Ue&&$e(),Ke()};let Qe=null;const We=()=>{Qe!=null&&clearTimeout(Qe),Qe=setTimeout(()=>{Qe=null,He()},Be)},qe=()=>{Qe!==null&&(clearTimeout(Qe),Qe=null)},Ke=()=>{qe(),Oe=void 0,ke=null},Xe=()=>{$e()},Ye=function(...Ze){if(De?.aborted)return;Oe=this,ke=Ze;const Je=Qe==null;We(),Me&&Je&&$e()};return Ye.schedule=We,Ye.cancel=Ke,Ye.flush=Xe,De?.addEventListener("abort",Ke,{once:!0}),Ye}Ce.debounce=Re})(debounce$1)),debounce$1}var hasRequiredDebounce;function requireDebounce(){return hasRequiredDebounce||(hasRequiredDebounce=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireDebounce$1();function je(Be,De=0,Fe={}){typeof Fe!="object"&&(Fe={});const{leading:Oe=!1,trailing:ke=!0,maxWait:Me}=Fe,Ue=Array(2);Oe&&(Ue[0]="leading"),ke&&(Ue[1]="trailing");let $e,He=null;const Qe=Re.debounce(function(...Ke){$e=Be.apply(this,Ke),He=null},De,{edges:Ue}),We=function(...Ke){return Me!=null&&(He===null&&(He=Date.now()),Date.now()-He>=Me)?($e=Be.apply(this,Ke),He=Date.now(),Qe.cancel(),Qe.schedule(),$e):(Qe.apply(this,Ke),$e)},qe=()=>(Qe.flush(),$e);return We.cancel=Qe.cancel,We.flush=qe,We}Ce.debounce=je})(debounce$2)),debounce$2}var hasRequiredThrottle$1;function requireThrottle$1(){return hasRequiredThrottle$1||(hasRequiredThrottle$1=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireDebounce();function je(Be,De=0,Fe={}){const{leading:Oe=!0,trailing:ke=!0}=Fe;return Re.debounce(Be,De,{leading:Oe,maxWait:De,trailing:ke})}Ce.throttle=je})(throttle$2)),throttle$2}var throttle$1,hasRequiredThrottle;function requireThrottle(){return hasRequiredThrottle||(hasRequiredThrottle=1,throttle$1=requireThrottle$1().throttle),throttle$1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);var warn=function Ce(Re,je){for(var Be=arguments.length,De=new Array(Be>2?Be-2:0),Fe=2;Fe<Be;Fe++)De[Fe-2]=arguments[Fe]};function ownKeys$g(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$f(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$g(Object(je),!0).forEach(function(Be){_defineProperty$k(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$g(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$k(Ce,Re,je){return(Re=_toPropertyKey$j(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$j(Ce){var Re=_toPrimitive$j(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$j(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}var ResponsiveContainer=reactExports.forwardRef((Ce,Re)=>{var{aspect:je,initialDimension:Be={width:-1,height:-1},width:De="100%",height:Fe="100%",minWidth:Oe=0,minHeight:ke,maxHeight:Me,children:Ue,debounce:$e=0,id:He,className:Qe,onResize:We,style:qe={}}=Ce,Ke=reactExports.useRef(null),Xe=reactExports.useRef();Xe.current=We,reactExports.useImperativeHandle(Re,()=>Ke.current);var[Ye,Ze]=reactExports.useState({containerWidth:Be.width,containerHeight:Be.height}),Je=reactExports.useCallback((rr,ar)=>{Ze(nr=>{var sr=Math.round(rr),dr=Math.round(ar);return nr.containerWidth===sr&&nr.containerHeight===dr?nr:{containerWidth:sr,containerHeight:dr}})},[]);reactExports.useEffect(()=>{var rr=dr=>{var _r,{width:fr,height:or}=dr[0].contentRect;Je(fr,or),(_r=Xe.current)===null||_r===void 0||_r.call(Xe,fr,or)};$e>0&&(rr=throttle(rr,$e,{trailing:!0,leading:!1}));var ar=new ResizeObserver(rr),{width:nr,height:sr}=Ke.current.getBoundingClientRect();return Je(nr,sr),ar.observe(Ke.current),()=>{ar.disconnect()}},[Je,$e]);var tr=reactExports.useMemo(()=>{var{containerWidth:rr,containerHeight:ar}=Ye;if(rr<0||ar<0)return null;warn(isPercent(De)||isPercent(Fe),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,De,Fe),warn(!je||je>0,"The aspect(%s) must be greater than zero.",je);var nr=isPercent(De)?rr:De,sr=isPercent(Fe)?ar:Fe;return je&&je>0&&(nr?sr=nr/je:sr&&(nr=sr*je),Me&&sr>Me&&(sr=Me)),warn(nr>0||sr>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,nr,sr,De,Fe,Oe,ke,je),reactExports.Children.map(Ue,dr=>reactExports.cloneElement(dr,{width:nr,height:sr,style:_objectSpread$f({width:nr,height:sr},dr.props.style)}))},[je,Ue,Fe,Me,ke,Oe,Ye,De]);return reactExports.createElement("div",{id:He?"".concat(He):void 0,className:clsx("recharts-responsive-container",Qe),style:_objectSpread$f(_objectSpread$f({},qe),{},{width:De,height:Fe,minWidth:Oe,minHeight:ke,maxHeight:Me}),ref:Ke},reactExports.createElement("div",{style:{width:0,height:0,overflow:"visible"}},tr))}),Cell=Ce=>null;Cell.displayName="Cell";function _defineProperty$j(Ce,Re,je){return(Re=_toPropertyKey$i(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$i(Ce){var Re=_toPrimitive$i(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$i(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}class LRUCache{constructor(Re){_defineProperty$j(this,"cache",new Map),this.maxSize=Re}get(Re){var je=this.cache.get(Re);return je!==void 0&&(this.cache.delete(Re),this.cache.set(Re,je)),je}set(Re,je){if(this.cache.has(Re))this.cache.delete(Re);else if(this.cache.size>=this.maxSize){var Be=this.cache.keys().next().value;this.cache.delete(Be)}this.cache.set(Re,je)}clear(){this.cache.clear()}size(){return this.cache.size}}function ownKeys$f(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$e(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$f(Object(je),!0).forEach(function(Be){_defineProperty$i(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$f(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$i(Ce,Re,je){return(Re=_toPropertyKey$h(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$h(Ce){var Re=_toPrimitive$h(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$h(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}var defaultConfig={cacheSize:2e3,enableCache:!0},currentConfig=_objectSpread$e({},defaultConfig),stringCache=new LRUCache(currentConfig.cacheSize),SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function createCacheKey(Ce,Re){var je=Re.fontSize||"",Be=Re.fontFamily||"",De=Re.fontWeight||"",Fe=Re.fontStyle||"",Oe=Re.letterSpacing||"",ke=Re.textTransform||"";return"".concat(Ce,"|").concat(je,"|").concat(Be,"|").concat(De,"|").concat(Fe,"|").concat(Oe,"|").concat(ke)}var measureTextWithDOM=(Ce,Re)=>{try{var je=document.getElementById(MEASUREMENT_SPAN_ID);je||(je=document.createElement("span"),je.setAttribute("id",MEASUREMENT_SPAN_ID),je.setAttribute("aria-hidden","true"),document.body.appendChild(je)),Object.assign(je.style,SPAN_STYLE,Re),je.textContent="".concat(Ce);var Be=je.getBoundingClientRect();return{width:Be.width,height:Be.height}}catch{return{width:0,height:0}}},getStringSize=function Ce(Re){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Re==null||Global$1.isSsr)return{width:0,height:0};if(!currentConfig.enableCache)return measureTextWithDOM(Re,je);var Be=createCacheKey(Re,je),De=stringCache.get(Be);if(De)return De;var Fe=measureTextWithDOM(Re,je);return stringCache.set(Be,Fe),Fe},MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(Ce,Re){return Ce*CONVERSION_RATES[Re]}class DecimalCSS{static parse(Re){var je,[,Be,De]=(je=NUM_SPLIT_REGEX.exec(Re))!==null&&je!==void 0?je:[];return new DecimalCSS(parseFloat(Be),De??"")}constructor(Re,je){this.num=Re,this.unit=je,this.num=Re,this.unit=je,isNan(Re)&&(this.unit=""),je!==""&&!CSS_LENGTH_UNIT_REGEX.test(je)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(je)&&(this.num=convertToPx(Re,je),this.unit="px")}add(Re){return this.unit!==Re.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+Re.num,this.unit)}subtract(Re){return this.unit!==Re.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-Re.num,this.unit)}multiply(Re){return this.unit!==""&&Re.unit!==""&&this.unit!==Re.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*Re.num,this.unit||Re.unit)}divide(Re){return this.unit!==""&&Re.unit!==""&&this.unit!==Re.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/Re.num,this.unit||Re.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}function calculateArithmetic(Ce){if(Ce.includes(STR_NAN))return STR_NAN;for(var Re=Ce;Re.includes("*")||Re.includes("/");){var je,[,Be,De,Fe]=(je=MULTIPLY_OR_DIVIDE_REGEX.exec(Re))!==null&&je!==void 0?je:[],Oe=DecimalCSS.parse(Be??""),ke=DecimalCSS.parse(Fe??""),Me=De==="*"?Oe.multiply(ke):Oe.divide(ke);if(Me.isNaN())return STR_NAN;Re=Re.replace(MULTIPLY_OR_DIVIDE_REGEX,Me.toString())}for(;Re.includes("+")||/.-\d+(?:\.\d+)?/.test(Re);){var Ue,[,$e,He,Qe]=(Ue=ADD_OR_SUBTRACT_REGEX.exec(Re))!==null&&Ue!==void 0?Ue:[],We=DecimalCSS.parse($e??""),qe=DecimalCSS.parse(Qe??""),Ke=He==="+"?We.add(qe):We.subtract(qe);if(Ke.isNaN())return STR_NAN;Re=Re.replace(ADD_OR_SUBTRACT_REGEX,Ke.toString())}return Re}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(Ce){for(var Re=Ce,je;(je=PARENTHESES_REGEX.exec(Re))!=null;){var[,Be]=je;Re=Re.replace(PARENTHESES_REGEX,calculateArithmetic(Be))}return Re}function evaluateExpression(Ce){var Re=Ce.replace(/\s+/g,"");return Re=calculateParentheses(Re),Re=calculateArithmetic(Re),Re}function safeEvaluateExpression(Ce){try{return evaluateExpression(Ce)}catch{return STR_NAN}}function reduceCSSCalc(Ce){var Re=safeEvaluateExpression(Ce.slice(5,-1));return Re===STR_NAN?"":Re}var _excluded$l=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$9=["dx","dy","angle","className","breakAll"];function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$f.apply(null,arguments)}function _objectWithoutProperties$g(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$g(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$g(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=Ce=>{var{children:Re,breakAll:je,style:Be}=Ce;try{var De=[];isNullish(Re)||(je?De=Re.toString().split(""):De=Re.toString().split(BREAKING_SPACES));var Fe=De.map(ke=>({word:ke,width:getStringSize(ke,Be).width})),Oe=je?0:getStringSize("",Be).width;return{wordsWithComputedWidth:Fe,spaceWidth:Oe}}catch{return null}},calculateWordsByLines=(Ce,Re,je,Be,De)=>{var{maxLines:Fe,children:Oe,style:ke,breakAll:Me}=Ce,Ue=isNumber(Fe),$e=Oe,He=function(){var fr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return fr.reduce((or,Er)=>{var{word:Rr,width:jr}=Er,xr=or[or.length-1];if(xr&&(Be==null||De||xr.width+jr+je<Number(Be)))xr.words.push(Rr),xr.width+=jr+je;else{var Pr={words:[Rr],width:jr};or.push(Pr)}return or},[])},Qe=He(Re),We=_r=>_r.reduce((fr,or)=>fr.width>or.width?fr:or);if(!Ue||De)return Qe;var qe=Qe.length>Fe||We(Qe).width>Number(Be);if(!qe)return Qe;for(var Ke="",Xe=_r=>{var fr=$e.slice(0,_r),or=calculateWordWidths({breakAll:Me,style:ke,children:fr+Ke}).wordsWithComputedWidth,Er=He(or),Rr=Er.length>Fe||We(Er).width>Number(Be);return[Rr,Er]},Ye=0,Ze=$e.length-1,Je=0,tr;Ye<=Ze&&Je<=$e.length-1;){var rr=Math.floor((Ye+Ze)/2),ar=rr-1,[nr,sr]=Xe(ar),[dr]=Xe(rr);if(!nr&&!dr&&(Ye=rr+1),nr&&dr&&(Ze=rr-1),!nr&&dr){tr=sr;break}Je++}return tr||Qe},getWordsWithoutCalculate=Ce=>{var Re=isNullish(Ce)?[]:Ce.toString().split(BREAKING_SPACES);return[{words:Re}]},getWordsByLines=Ce=>{var{width:Re,scaleToFit:je,children:Be,style:De,breakAll:Fe,maxLines:Oe}=Ce;if((Re||je)&&!Global$1.isSsr){var ke,Me,Ue=calculateWordWidths({breakAll:Fe,children:Be,style:De});if(Ue){var{wordsWithComputedWidth:$e,spaceWidth:He}=Ue;ke=$e,Me=He}else return getWordsWithoutCalculate(Be);return calculateWordsByLines({breakAll:Fe,children:Be,maxLines:Oe,style:De},ke,Me,Re,je)}return getWordsWithoutCalculate(Be)},DEFAULT_FILL="#808080",Text=reactExports.forwardRef((Ce,Re)=>{var{x:je=0,y:Be=0,lineHeight:De="1em",capHeight:Fe="0.71em",scaleToFit:Oe=!1,textAnchor:ke="start",verticalAnchor:Me="end",fill:Ue=DEFAULT_FILL}=Ce,$e=_objectWithoutProperties$g(Ce,_excluded$l),He=reactExports.useMemo(()=>getWordsByLines({breakAll:$e.breakAll,children:$e.children,maxLines:$e.maxLines,scaleToFit:Oe,style:$e.style,width:$e.width}),[$e.breakAll,$e.children,$e.maxLines,Oe,$e.style,$e.width]),{dx:Qe,dy:We,angle:qe,className:Ke,breakAll:Xe}=$e,Ye=_objectWithoutProperties$g($e,_excluded2$9);if(!isNumOrStr(je)||!isNumOrStr(Be))return null;var Ze=je+(isNumber(Qe)?Qe:0),Je=Be+(isNumber(We)?We:0),tr;switch(Me){case"start":tr=reduceCSSCalc("calc(".concat(Fe,")"));break;case"middle":tr=reduceCSSCalc("calc(".concat((He.length-1)/2," * -").concat(De," + (").concat(Fe," / 2))"));break;default:tr=reduceCSSCalc("calc(".concat(He.length-1," * -").concat(De,")"));break}var rr=[];if(Oe){var ar=He[0].width,{width:nr}=$e;rr.push("scale(".concat(isNumber(nr)?nr/ar:1,")"))}return qe&&rr.push("rotate(".concat(qe,", ").concat(Ze,", ").concat(Je,")")),rr.length&&(Ye.transform=rr.join(" ")),reactExports.createElement("text",_extends$f({},filterProps(Ye,!0),{ref:Re,x:Ze,y:Je,className:clsx("recharts-text",Ke),textAnchor:ke,fill:Ue.includes("url")?DEFAULT_FILL:Ue}),He.map((sr,dr)=>{var _r=sr.words.join(Xe?"":" ");return reactExports.createElement("tspan",{x:Ze,dy:dr===0?tr:De,key:"".concat(_r,"-").concat(dr)},_r)}))});Text.displayName="Text";var _excluded$k=["offset"],_excluded2$8=["labelRef"];function _objectWithoutProperties$f(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$f(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$f(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}function ownKeys$e(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$d(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$e(Object(je),!0).forEach(function(Be){_defineProperty$h(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$e(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$h(Ce,Re,je){return(Re=_toPropertyKey$g(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$g(Ce){var Re=_toPrimitive$g(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$g(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$e.apply(null,arguments)}var getLabel=Ce=>{var{value:Re,formatter:je}=Ce,Be=isNullish(Ce.children)?Re:Ce.children;return typeof je=="function"?je(Be):Be},isLabelContentAFunction=Ce=>Ce!=null&&typeof Ce=="function",getDeltaAngle=(Ce,Re)=>{var je=mathSign(Re-Ce),Be=Math.min(Math.abs(Re-Ce),360);return je*Be},renderRadialLabel=(Ce,Re,je,Be)=>{var{position:De,offset:Fe,className:Oe}=Ce,{cx:ke,cy:Me,innerRadius:Ue,outerRadius:$e,startAngle:He,endAngle:Qe,clockWise:We}=Be,qe=(Ue+$e)/2,Ke=getDeltaAngle(He,Qe),Xe=Ke>=0?1:-1,Ye,Ze;De==="insideStart"?(Ye=He+Xe*Fe,Ze=We):De==="insideEnd"?(Ye=Qe-Xe*Fe,Ze=!We):De==="end"&&(Ye=Qe+Xe*Fe,Ze=We),Ze=Ke<=0?Ze:!Ze;var Je=polarToCartesian(ke,Me,qe,Ye),tr=polarToCartesian(ke,Me,qe,Ye+(Ze?1:-1)*359),rr="M".concat(Je.x,",").concat(Je.y,`
    A`).concat(qe,",").concat(qe,",0,1,").concat(Ze?0:1,`,
    `).concat(tr.x,",").concat(tr.y),ar=isNullish(Ce.id)?uniqueId("recharts-radial-line-"):Ce.id;return reactExports.createElement("text",_extends$e({},je,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",Oe)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:ar,d:rr})),reactExports.createElement("textPath",{xlinkHref:"#".concat(ar)},Re))},getAttrsOfPolarLabel=(Ce,Re,je)=>{var{cx:Be,cy:De,innerRadius:Fe,outerRadius:Oe,startAngle:ke,endAngle:Me}=Ce,Ue=(ke+Me)/2;if(je==="outside"){var{x:$e,y:He}=polarToCartesian(Be,De,Oe+Re,Ue);return{x:$e,y:He,textAnchor:$e>=Be?"start":"end",verticalAnchor:"middle"}}if(je==="center")return{x:Be,y:De,textAnchor:"middle",verticalAnchor:"middle"};if(je==="centerTop")return{x:Be,y:De,textAnchor:"middle",verticalAnchor:"start"};if(je==="centerBottom")return{x:Be,y:De,textAnchor:"middle",verticalAnchor:"end"};var Qe=(Fe+Oe)/2,{x:We,y:qe}=polarToCartesian(Be,De,Qe,Ue);return{x:We,y:qe,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=(Ce,Re)=>{var{parentViewBox:je,offset:Be,position:De}=Ce,{x:Fe,y:Oe,width:ke,height:Me}=Re,Ue=Me>=0?1:-1,$e=Ue*Be,He=Ue>0?"end":"start",Qe=Ue>0?"start":"end",We=ke>=0?1:-1,qe=We*Be,Ke=We>0?"end":"start",Xe=We>0?"start":"end";if(De==="top"){var Ye={x:Fe+ke/2,y:Oe-Ue*Be,textAnchor:"middle",verticalAnchor:He};return _objectSpread$d(_objectSpread$d({},Ye),je?{height:Math.max(Oe-je.y,0),width:ke}:{})}if(De==="bottom"){var Ze={x:Fe+ke/2,y:Oe+Me+$e,textAnchor:"middle",verticalAnchor:Qe};return _objectSpread$d(_objectSpread$d({},Ze),je?{height:Math.max(je.y+je.height-(Oe+Me),0),width:ke}:{})}if(De==="left"){var Je={x:Fe-qe,y:Oe+Me/2,textAnchor:Ke,verticalAnchor:"middle"};return _objectSpread$d(_objectSpread$d({},Je),je?{width:Math.max(Je.x-je.x,0),height:Me}:{})}if(De==="right"){var tr={x:Fe+ke+qe,y:Oe+Me/2,textAnchor:Xe,verticalAnchor:"middle"};return _objectSpread$d(_objectSpread$d({},tr),je?{width:Math.max(je.x+je.width-tr.x,0),height:Me}:{})}var rr=je?{width:ke,height:Me}:{};return De==="insideLeft"?_objectSpread$d({x:Fe+qe,y:Oe+Me/2,textAnchor:Xe,verticalAnchor:"middle"},rr):De==="insideRight"?_objectSpread$d({x:Fe+ke-qe,y:Oe+Me/2,textAnchor:Ke,verticalAnchor:"middle"},rr):De==="insideTop"?_objectSpread$d({x:Fe+ke/2,y:Oe+$e,textAnchor:"middle",verticalAnchor:Qe},rr):De==="insideBottom"?_objectSpread$d({x:Fe+ke/2,y:Oe+Me-$e,textAnchor:"middle",verticalAnchor:He},rr):De==="insideTopLeft"?_objectSpread$d({x:Fe+qe,y:Oe+$e,textAnchor:Xe,verticalAnchor:Qe},rr):De==="insideTopRight"?_objectSpread$d({x:Fe+ke-qe,y:Oe+$e,textAnchor:Ke,verticalAnchor:Qe},rr):De==="insideBottomLeft"?_objectSpread$d({x:Fe+qe,y:Oe+Me-$e,textAnchor:Xe,verticalAnchor:He},rr):De==="insideBottomRight"?_objectSpread$d({x:Fe+ke-qe,y:Oe+Me-$e,textAnchor:Ke,verticalAnchor:He},rr):De&&typeof De=="object"&&(isNumber(De.x)||isPercent(De.x))&&(isNumber(De.y)||isPercent(De.y))?_objectSpread$d({x:Fe+getPercentValue(De.x,ke),y:Oe+getPercentValue(De.y,Me),textAnchor:"end",verticalAnchor:"end"},rr):_objectSpread$d({x:Fe+ke/2,y:Oe+Me/2,textAnchor:"middle",verticalAnchor:"middle"},rr)},isPolar=Ce=>"cx"in Ce&&isNumber(Ce.cx);function Label(Ce){var{offset:Re=5}=Ce,je=_objectWithoutProperties$f(Ce,_excluded$k),Be=_objectSpread$d({offset:Re},je),{viewBox:De,position:Fe,value:Oe,children:ke,content:Me,className:Ue="",textBreakAll:$e,labelRef:He}=Be,Qe=useAppSelector(selectPolarViewBox),We=useViewBox(),qe=Fe==="center"?We:Qe??We,Ke=De||qe;if(!Ke||isNullish(Oe)&&isNullish(ke)&&!reactExports.isValidElement(Me)&&typeof Me!="function")return null;var Xe=_objectSpread$d(_objectSpread$d({},Be),{},{viewBox:Ke});if(reactExports.isValidElement(Me)){var{labelRef:Ye}=Xe,Ze=_objectWithoutProperties$f(Xe,_excluded2$8);return reactExports.cloneElement(Me,Ze)}var Je;if(typeof Me=="function"){if(Je=reactExports.createElement(Me,Xe),reactExports.isValidElement(Je))return Je}else Je=getLabel(Be);var tr=isPolar(Ke),rr=filterProps(Be,!0);if(tr&&(Fe==="insideStart"||Fe==="insideEnd"||Fe==="end"))return renderRadialLabel(Be,Je,rr,Ke);var ar=tr?getAttrsOfPolarLabel(Ke,Be.offset,Be.position):getAttrsOfCartesianLabel(Be,Ke);return reactExports.createElement(Text,_extends$e({ref:He,className:clsx("recharts-label",Ue)},rr,ar,{breakAll:$e}),Je)}Label.displayName="Label";var parseViewBox=Ce=>{var{cx:Re,cy:je,angle:Be,startAngle:De,endAngle:Fe,r:Oe,radius:ke,innerRadius:Me,outerRadius:Ue,x:$e,y:He,top:Qe,left:We,width:qe,height:Ke,clockWise:Xe,labelViewBox:Ye}=Ce;if(Ye)return Ye;if(isNumber(qe)&&isNumber(Ke)){if(isNumber($e)&&isNumber(He))return{x:$e,y:He,width:qe,height:Ke};if(isNumber(Qe)&&isNumber(We))return{x:Qe,y:We,width:qe,height:Ke}}if(isNumber($e)&&isNumber(He))return{x:$e,y:He,width:0,height:0};if(isNumber(Re)&&isNumber(je))return{cx:Re,cy:je,startAngle:De||Be||0,endAngle:Fe||Be||0,innerRadius:Me||0,outerRadius:Ue||ke||Oe||0,clockWise:Xe};if(Ce.viewBox)return Ce.viewBox},parseLabel=(Ce,Re,je)=>{if(!Ce)return null;var Be={viewBox:Re,labelRef:je};return Ce===!0?reactExports.createElement(Label,_extends$e({key:"label-implicit"},Be)):isNumOrStr(Ce)?reactExports.createElement(Label,_extends$e({key:"label-implicit",value:Ce},Be)):reactExports.isValidElement(Ce)?Ce.type===Label?reactExports.cloneElement(Ce,_objectSpread$d({key:"label-implicit"},Be)):reactExports.createElement(Label,_extends$e({key:"label-implicit",content:Ce},Be)):isLabelContentAFunction(Ce)?reactExports.createElement(Label,_extends$e({key:"label-implicit",content:Ce},Be)):Ce&&typeof Ce=="object"?reactExports.createElement(Label,_extends$e({},Ce,{key:"label-implicit"},Be)):null},renderCallByParent$1=function Ce(Re,je){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!Re||!Re.children&&Be&&!Re.label)return null;var{children:De,labelRef:Fe}=Re,Oe=parseViewBox(Re),ke=findAllByType(De,Label).map((Ue,$e)=>reactExports.cloneElement(Ue,{viewBox:je||Oe,key:"label-".concat($e)}));if(!Be)return ke;var Me=parseLabel(Re.label,je||Oe,Fe);return[Me,...ke]};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;var last$3={},last$2={},hasRequiredLast$2;function requireLast$2(){return hasRequiredLast$2||(hasRequiredLast$2=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){return je[je.length-1]}Ce.last=Re})(last$2)),last$2}var toArray={},hasRequiredToArray;function requireToArray(){return hasRequiredToArray||(hasRequiredToArray=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){return Array.isArray(je)?je:Array.from(je)}Ce.toArray=Re})(toArray)),toArray}var hasRequiredLast$1;function requireLast$1(){return hasRequiredLast$1||(hasRequiredLast$1=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});const Re=requireLast$2(),je=requireToArray(),Be=requireIsArrayLike();function De(Fe){if(Be.isArrayLike(Fe))return Re.last(je.toArray(Fe))}Ce.last=De})(last$3)),last$3}var last$1,hasRequiredLast;function requireLast(){return hasRequiredLast||(hasRequiredLast=1,last$1=requireLast$1().last),last$1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);var _excluded$j=["valueAccessor"],_excluded2$7=["data","dataKey","clockWise","id","textBreakAll"];function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$d.apply(null,arguments)}function ownKeys$d(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$c(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$d(Object(je),!0).forEach(function(Be){_defineProperty$g(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$d(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$g(Ce,Re,je){return(Re=_toPropertyKey$f(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$f(Ce){var Re=_toPrimitive$f(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$f(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function _objectWithoutProperties$e(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$e(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$e(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}var defaultAccessor=Ce=>Array.isArray(Ce.value)?last(Ce.value):Ce.value;function LabelList(Ce){var{valueAccessor:Re=defaultAccessor}=Ce,je=_objectWithoutProperties$e(Ce,_excluded$j),{data:Be,dataKey:De,clockWise:Fe,id:Oe,textBreakAll:ke}=je,Me=_objectWithoutProperties$e(je,_excluded2$7);return!Be||!Be.length?null:reactExports.createElement(Layer,{className:"recharts-label-list"},Be.map((Ue,$e)=>{var He=isNullish(De)?Re(Ue,$e):getValueByDataKey(Ue&&Ue.payload,De),Qe=isNullish(Oe)?{}:{id:"".concat(Oe,"-").concat($e)};return reactExports.createElement(Label,_extends$d({},filterProps(Ue,!0),Me,Qe,{parentViewBox:Ue.parentViewBox,value:He,textBreakAll:ke,viewBox:Label.parseViewBox(isNullish(Fe)?Ue:_objectSpread$c(_objectSpread$c({},Ue),{},{clockWise:Fe})),key:"label-".concat($e),index:$e}))}))}LabelList.displayName="LabelList";function parseLabelList(Ce,Re){return Ce?Ce===!0?reactExports.createElement(LabelList,{key:"labelList-implicit",data:Re}):reactExports.isValidElement(Ce)||isLabelContentAFunction(Ce)?reactExports.createElement(LabelList,{key:"labelList-implicit",data:Re,content:Ce}):typeof Ce=="object"?reactExports.createElement(LabelList,_extends$d({data:Re},Ce,{key:"labelList-implicit"})):null:null}function renderCallByParent(Ce,Re){var je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!Ce||!Ce.children&&je&&!Ce.label)return null;var{children:Be}=Ce,De=findAllByType(Be,LabelList).map((Oe,ke)=>reactExports.cloneElement(Oe,{data:Re,key:"labelList-".concat(ke)}));if(!je)return De;var Fe=parseLabelList(Ce.label,Re);return[Fe,...De]}LabelList.renderCallByParent=renderCallByParent;function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$c.apply(null,arguments)}var Dot=Ce=>{var{cx:Re,cy:je,r:Be,className:De}=Ce,Fe=clsx("recharts-dot",De);return Re===+Re&&je===+je&&Be===+Be?reactExports.createElement("circle",_extends$c({},svgPropertiesNoEvents(Ce),adaptEventHandlers(Ce),{className:Fe,cx:Re,cy:je,r:Be})):null},initialState$6={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$6,reducers:{addRadiusAxis(Ce,Re){Ce.radiusAxis[Re.payload.id]=Re.payload},removeRadiusAxis(Ce,Re){delete Ce.radiusAxis[Re.payload.id]},addAngleAxis(Ce,Re){Ce.angleAxis[Re.payload.id]=Re.payload},removeAngleAxis(Ce,Re){delete Ce.angleAxis[Re.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer,isPlainObject$3={},hasRequiredIsPlainObject$1;function requireIsPlainObject$1(){return hasRequiredIsPlainObject$1||(hasRequiredIsPlainObject$1=1,(function(Ce){Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"});function Re(je){if(typeof je!="object"||je==null)return!1;if(Object.getPrototypeOf(je)===null)return!0;if(Object.prototype.toString.call(je)!=="[object Object]"){const De=je[Symbol.toStringTag];return De==null||!Object.getOwnPropertyDescriptor(je,Symbol.toStringTag)?.writable?!1:je.toString()===`[object ${De}]`}let Be=je;for(;Object.getPrototypeOf(Be)!==null;)Be=Object.getPrototypeOf(Be);return Object.getPrototypeOf(je)===Be}Ce.isPlainObject=Re})(isPlainObject$3)),isPlainObject$3}var isPlainObject$2,hasRequiredIsPlainObject;function requireIsPlainObject(){return hasRequiredIsPlainObject||(hasRequiredIsPlainObject=1,isPlainObject$2=requireIsPlainObject$1().isPlainObject),isPlainObject$2}var isPlainObjectExports=requireIsPlainObject();const isPlainObject$1=getDefaultExportFromCjs(isPlainObjectExports);function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$b.apply(null,arguments)}var getTrapezoidPath=(Ce,Re,je,Be,De)=>{var Fe=je-Be,Oe;return Oe="M ".concat(Ce,",").concat(Re),Oe+="L ".concat(Ce+je,",").concat(Re),Oe+="L ".concat(Ce+je-Fe/2,",").concat(Re+De),Oe+="L ".concat(Ce+je-Fe/2-Be,",").concat(Re+De),Oe+="L ".concat(Ce,",").concat(Re," Z"),Oe},defaultProps$4={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=Ce=>{var Re=resolveDefaultProps(Ce,defaultProps$4),je=reactExports.useRef(),[Be,De]=reactExports.useState(-1);reactExports.useEffect(()=>{if(je.current&&je.current.getTotalLength)try{var Xe=je.current.getTotalLength();Xe&&De(Xe)}catch{}},[]);var{x:Fe,y:Oe,upperWidth:ke,lowerWidth:Me,height:Ue,className:$e}=Re,{animationEasing:He,animationDuration:Qe,animationBegin:We,isUpdateAnimationActive:qe}=Re;if(Fe!==+Fe||Oe!==+Oe||ke!==+ke||Me!==+Me||Ue!==+Ue||ke===0&&Me===0||Ue===0)return null;var Ke=clsx("recharts-trapezoid",$e);return qe?reactExports.createElement(Animate,{canBegin:Be>0,from:{upperWidth:0,lowerWidth:0,height:Ue,x:Fe,y:Oe},to:{upperWidth:ke,lowerWidth:Me,height:Ue,x:Fe,y:Oe},duration:Qe,animationEasing:He,isActive:qe},Xe=>{var{upperWidth:Ye,lowerWidth:Ze,height:Je,x:tr,y:rr}=Xe;return reactExports.createElement(Animate,{canBegin:Be>0,from:"0px ".concat(Be===-1?1:Be,"px"),to:"".concat(Be,"px 0px"),attributeName:"strokeDasharray",begin:We,duration:Qe,easing:He},reactExports.createElement("path",_extends$b({},filterProps(Re,!0),{className:Ke,d:getTrapezoidPath(tr,rr,Ye,Ze,Je),ref:je})))}):reactExports.createElement("g",null,reactExports.createElement("path",_extends$b({},filterProps(Re,!0),{className:Ke,d:getTrapezoidPath(Fe,Oe,ke,Me,Ue)})))},_excluded$i=["option","shapeType","propTransformer","activeClassName","isActive"];function _objectWithoutProperties$d(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$d(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$d(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}function ownKeys$c(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$b(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$c(Object(je),!0).forEach(function(Be){_defineProperty$f(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$c(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$f(Ce,Re,je){return(Re=_toPropertyKey$e(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$e(Ce){var Re=_toPrimitive$e(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$e(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function defaultPropTransformer(Ce,Re){return _objectSpread$b(_objectSpread$b({},Re),Ce)}function isSymbolsProps(Ce,Re){return Ce==="symbols"}function ShapeSelector(Ce){var{shapeType:Re,elementProps:je}=Ce;switch(Re){case"rectangle":return reactExports.createElement(Rectangle,je);case"trapezoid":return reactExports.createElement(Trapezoid,je);case"sector":return reactExports.createElement(Sector,je);case"symbols":if(isSymbolsProps(Re))return reactExports.createElement(Symbols,je);break;default:return null}}function getPropsFromShapeOption(Ce){return reactExports.isValidElement(Ce)?Ce.props:Ce}function Shape(Ce){var{option:Re,shapeType:je,propTransformer:Be=defaultPropTransformer,activeClassName:De="recharts-active-shape",isActive:Fe}=Ce,Oe=_objectWithoutProperties$d(Ce,_excluded$i),ke;if(reactExports.isValidElement(Re))ke=reactExports.cloneElement(Re,_objectSpread$b(_objectSpread$b({},Oe),getPropsFromShapeOption(Re)));else if(typeof Re=="function")ke=Re(Oe);else if(isPlainObject$1(Re)&&typeof Re!="boolean"){var Me=Be(Re,Oe);ke=reactExports.createElement(ShapeSelector,{shapeType:je,elementProps:Me})}else{var Ue=Oe;ke=reactExports.createElement(ShapeSelector,{shapeType:je,elementProps:Ue})}return Fe?reactExports.createElement(Layer,{className:De},ke):ke}var useMouseEnterItemDispatch=(Ce,Re)=>{var je=useAppDispatch();return(Be,De)=>Fe=>{Ce?.(Be,De,Fe),je(setActiveMouseOverItemIndex({activeIndex:String(De),activeDataKey:Re,activeCoordinate:Be.tooltipPosition}))}},useMouseLeaveItemDispatch=Ce=>{var Re=useAppDispatch();return(je,Be)=>De=>{Ce?.(je,Be,De),Re(mouseLeaveItem())}},useMouseClickItemDispatch=(Ce,Re)=>{var je=useAppDispatch();return(Be,De)=>Fe=>{Ce?.(Be,De,Fe),je(setActiveClickItemIndex({activeIndex:String(De),activeDataKey:Re,activeCoordinate:Be.tooltipPosition}))}};function SetTooltipEntrySettings(Ce){var{fn:Re,args:je}=Ce,Be=useAppDispatch(),De=useIsPanorama();return reactExports.useEffect(()=>{if(!De){var Fe=Re(je);return Be(addTooltipEntrySettings(Fe)),()=>{Be(removeTooltipEntrySettings(Fe))}}},[Re,je,Be,De]),null}var noop$4=()=>{};function SetLegendPayload(Ce){var{legendPayload:Re}=Ce,je=useAppDispatch(),Be=useIsPanorama();return reactExports.useEffect(()=>Be?noop$4:(je(addLegendPayload(Re)),()=>{je(removeLegendPayload(Re))}),[je,Be,Re]),null}function useAnimationId(Ce){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",je=reactExports.useRef(uniqueId(Re)),Be=reactExports.useRef(Ce);return Be.current!==Ce&&(je.current=uniqueId(Re),Be.current=Ce),je.current}var _ref$1,useIdFallback=()=>{var[Ce]=reactExports.useState(()=>uniqueId("uid-"));return Ce},useId$1=(_ref$1=React$1.useId)!==null&&_ref$1!==void 0?_ref$1:useIdFallback;function useUniqueId(Ce,Re){var je=useId$1();return Re||(Ce?"".concat(Ce,"-").concat(je):je)}var GraphicalItemIdContext=reactExports.createContext(void 0),RegisterGraphicalItemId=Ce=>{var{id:Re,type:je,children:Be}=Ce,De=useUniqueId("recharts-".concat(je),Re);return reactExports.createElement(GraphicalItemIdContext.Provider,{value:De},Be(De))},initialState$5={cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$5,reducers:{addCartesianGraphicalItem(Ce,Re){Ce.cartesianItems.push(Re.payload)},replaceCartesianGraphicalItem(Ce,Re){var{prev:je,next:Be}=Re.payload,De=current(Ce).cartesianItems.indexOf(je);De>-1&&(Ce.cartesianItems[De]=Be)},removeCartesianGraphicalItem(Ce,Re){var je=current(Ce).cartesianItems.indexOf(Re.payload);je>-1&&Ce.cartesianItems.splice(je,1)},addPolarGraphicalItem(Ce,Re){Ce.polarItems.push(Re.payload)},removePolarGraphicalItem(Ce,Re){var je=current(Ce).polarItems.indexOf(Re.payload);je>-1&&Ce.polarItems.splice(je,1)}}}),{addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer;function SetCartesianGraphicalItem(Ce){var Re=useAppDispatch(),je=reactExports.useRef(null);return reactExports.useEffect(()=>{je.current===null?Re(addCartesianGraphicalItem(Ce)):je.current!==Ce&&Re(replaceCartesianGraphicalItem({prev:je.current,next:Ce})),je.current=Ce},[Re,Ce]),reactExports.useEffect(()=>()=>{je.current&&(Re(removeCartesianGraphicalItem(je.current)),je.current=null)},[Re]),null}function noop$3(){}var defaultJavascriptAnimateProps={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},from$1={t:0},to={t:1};function JavascriptAnimate(Ce){var Re=resolveDefaultProps(Ce,defaultJavascriptAnimateProps),{isActive:je,canBegin:Be,duration:De,easing:Fe,begin:Oe,onAnimationEnd:ke,onAnimationStart:Me,children:Ue}=Re,$e=useAnimationManager("JavascriptAnimate",Re.animationManager),[He,Qe]=reactExports.useState(je?from$1:to),We=reactExports.useRef(null);return reactExports.useEffect(()=>{je||Qe(to)},[je]),reactExports.useEffect(()=>{if(!je||!Be)return noop$3;var qe=configUpdate(from$1,to,configEasing(Fe),De,Qe,$e.getTimeoutController()),Ke=()=>{We.current=qe()};return $e.start([Me,Oe,Ke,De,ke]),()=>{$e.stop(),We.current&&We.current(),ke()}},[je,Be,De,Fe,Oe,Me,ke,$e]),Ue(He.t)}var selectChartOffset=createSelector([selectChartOffsetInternal],Ce=>{if(Ce)return{top:Ce.top,bottom:Ce.bottom,left:Ce.left,right:Ce.right}}),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(Ce,Re,je)=>{if(!(!Ce||Re==null||je==null))return{x:Ce.left,y:Ce.top,width:Math.max(0,Re-Ce.left-Ce.right),height:Math.max(0,je-Ce.top-Ce.bottom)}}),usePlotArea=()=>useAppSelector(selectPlotArea),useActiveTooltipDataPoints=()=>useAppSelector(selectActiveTooltipDataPoints);function ownKeys$b(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$a(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$b(Object(je),!0).forEach(function(Be){_defineProperty$e(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$b(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$e(Ce,Re,je){return(Re=_toPropertyKey$d(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$d(Ce){var Re=_toPrimitive$d(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$d(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}var renderActivePoint=Ce=>{var{point:Re,childIndex:je,mainColor:Be,activeDot:De,dataKey:Fe}=Ce;if(De===!1||Re.x==null||Re.y==null)return null;var Oe=_objectSpread$a(_objectSpread$a({index:je,dataKey:Fe,cx:Re.x,cy:Re.y,r:4,fill:Be??"none",strokeWidth:2,stroke:"#fff",payload:Re.payload,value:Re.value},filterProps(De,!1)),adaptEventHandlers(De)),ke;return reactExports.isValidElement(De)?ke=reactExports.cloneElement(De,Oe):typeof De=="function"?ke=De(Oe):ke=reactExports.createElement(Dot,Oe),reactExports.createElement(Layer,{className:"recharts-active-dot"},ke)};function ActivePoints(Ce){var{points:Re,mainColor:je,activeDot:Be,itemDataKey:De}=Ce,Fe=useAppSelector(selectActiveTooltipIndex),Oe=useActiveTooltipDataPoints();if(Re==null||Oe==null)return null;var ke=Re.find(Me=>Oe.includes(Me.payload));return isNullish(ke)?null:renderActivePoint({point:ke,childIndex:Number(Fe),mainColor:je,dataKey:De,activeDot:Be})}var prefix$1="Invariant failed";function invariant(Ce,Re){throw new Error(prefix$1)}var _excluded$h=["x","y"];function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$a.apply(null,arguments)}function ownKeys$a(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$9(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$a(Object(je),!0).forEach(function(Be){_defineProperty$d(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$a(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$d(Ce,Re,je){return(Re=_toPropertyKey$c(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$c(Ce){var Re=_toPrimitive$c(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$c(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function _objectWithoutProperties$c(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$c(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$c(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}function typeguardBarRectangleProps(Ce,Re){var{x:je,y:Be}=Ce,De=_objectWithoutProperties$c(Ce,_excluded$h),Fe="".concat(je),Oe=parseInt(Fe,10),ke="".concat(Be),Me=parseInt(ke,10),Ue="".concat(Re.height||De.height),$e=parseInt(Ue,10),He="".concat(Re.width||De.width),Qe=parseInt(He,10);return _objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},Re),De),Oe?{x:Oe}:{}),Me?{y:Me}:{}),{},{height:$e,width:Qe,name:Re.name,radius:Re.radius})}function BarRectangle(Ce){return reactExports.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},Ce))}var minPointSizeCallback=function Ce(Re){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(Be,De)=>{if(isNumber(Re))return Re;var Fe=isNumber(Be)||isNullish(Be);return Fe?Re(Be,De):(Fe||invariant(),je)}},initialState$4={},errorBarSlice=createSlice({name:"errorBars",initialState:initialState$4,reducers:{addErrorBar:(Ce,Re)=>{var{itemId:je,errorBar:Be}=Re.payload;Ce[je]||(Ce[je]=[]),Ce[je].push(Be)},removeErrorBar:(Ce,Re)=>{var{itemId:je,errorBar:Be}=Re.payload;Ce[je]&&(Ce[je]=Ce[je].filter(De=>De.dataKey!==Be.dataKey||De.direction!==Be.direction))}}}),{addErrorBar,removeErrorBar}=errorBarSlice.actions,errorBarReducer=errorBarSlice.reducer,_excluded$g=["children"];function _objectWithoutProperties$b(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$b(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$b(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}var initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(Ce){var{children:Re}=Ce,je=_objectWithoutProperties$b(Ce,_excluded$g);return reactExports.createElement(ErrorBarContext.Provider,{value:je},Re)}function useNeedsClip(Ce,Re){var je,Be,De=useAppSelector(Ue=>selectXAxisSettings(Ue,Ce)),Fe=useAppSelector(Ue=>selectYAxisSettings(Ue,Re)),Oe=(je=De?.allowDataOverflow)!==null&&je!==void 0?je:implicitXAxis.allowDataOverflow,ke=(Be=Fe?.allowDataOverflow)!==null&&Be!==void 0?Be:implicitYAxis.allowDataOverflow,Me=Oe||ke;return{needClip:Me,needClipX:Oe,needClipY:ke}}function GraphicalItemClipPath(Ce){var{xAxisId:Re,yAxisId:je,clipPathId:Be}=Ce,De=usePlotArea(),{needClipX:Fe,needClipY:Oe,needClip:ke}=useNeedsClip(Re,je);if(!ke)return null;var{x:Me,y:Ue,width:$e,height:He}=De;return reactExports.createElement("clipPath",{id:"clipPath-".concat(Be)},reactExports.createElement("rect",{x:Fe?Me:Me-$e/2,y:Oe?Ue:Ue-He/2,width:Fe?$e:$e*2,height:Oe?He:He*2}))}var _excluded$f=["onMouseEnter","onMouseLeave","onClick"],_excluded2$6=["value","background","tooltipPosition"],_excluded3$2=["id"],_excluded4$1=["onMouseEnter","onClick","onMouseLeave"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$9.apply(null,arguments)}function ownKeys$9(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$8(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$9(Object(je),!0).forEach(function(Be){_defineProperty$c(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$9(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$c(Ce,Re,je){return(Re=_toPropertyKey$b(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$b(Ce){var Re=_toPrimitive$b(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$b(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function _objectWithoutProperties$a(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$a(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$a(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}var computeLegendPayloadFromBarData=Ce=>{var{dataKey:Re,name:je,fill:Be,legendType:De,hide:Fe}=Ce;return[{inactive:Fe,dataKey:Re,type:De,color:Be,value:getTooltipNameProp(je,Re),payload:Ce}]};function getTooltipEntrySettings$1(Ce){var{dataKey:Re,stroke:je,strokeWidth:Be,fill:De,name:Fe,hide:Oe,unit:ke}=Ce;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:je,strokeWidth:Be,fill:De,dataKey:Re,nameKey:void 0,name:getTooltipNameProp(Fe,Re),hide:Oe,type:Ce.tooltipType,color:Ce.fill,unit:ke}}}function BarBackground(Ce){var Re=useAppSelector(selectActiveTooltipIndex),{data:je,dataKey:Be,background:De,allOtherBarProps:Fe}=Ce,{onMouseEnter:Oe,onMouseLeave:ke,onClick:Me}=Fe,Ue=_objectWithoutProperties$a(Fe,_excluded$f),$e=useMouseEnterItemDispatch(Oe,Be),He=useMouseLeaveItemDispatch(ke),Qe=useMouseClickItemDispatch(Me,Be);if(!De||je==null)return null;var We=filterProps(De,!1);return reactExports.createElement(reactExports.Fragment,null,je.map((qe,Ke)=>{var{value:Xe,background:Ye,tooltipPosition:Ze}=qe,Je=_objectWithoutProperties$a(qe,_excluded2$6);if(!Ye)return null;var tr=$e(qe,Ke),rr=He(qe,Ke),ar=Qe(qe,Ke),nr=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({option:De,isActive:String(Ke)===Re},Je),{},{fill:"#eee"},Ye),We),adaptEventsOfChild(Ue,qe,Ke)),{},{onMouseEnter:tr,onMouseLeave:rr,onClick:ar,dataKey:Be,index:Ke,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$9({key:"background-bar-".concat(Ke)},nr))}))}function BarRectangles(Ce){var{data:Re,props:je,showLabels:Be}=Ce,De=svgPropertiesNoEvents(je),{id:Fe}=De,Oe=_objectWithoutProperties$a(De,_excluded3$2),{shape:ke,dataKey:Me,activeBar:Ue}=je,$e=useAppSelector(selectActiveTooltipIndex),He=useAppSelector(selectActiveTooltipDataKey),{onMouseEnter:Qe,onClick:We,onMouseLeave:qe}=je,Ke=_objectWithoutProperties$a(je,_excluded4$1),Xe=useMouseEnterItemDispatch(Qe,Me),Ye=useMouseLeaveItemDispatch(qe),Ze=useMouseClickItemDispatch(We,Me);return Re?reactExports.createElement(reactExports.Fragment,null,Re.map((Je,tr)=>{var rr=Ue&&String(tr)===$e&&(He==null||Me===He),ar=rr?Ue:ke,nr=_objectSpread$8(_objectSpread$8(_objectSpread$8({},Oe),Je),{},{isActive:rr,option:ar,index:tr,dataKey:Me});return reactExports.createElement(Layer,_extends$9({className:"recharts-bar-rectangle"},adaptEventsOfChild(Ke,Je,tr),{onMouseEnter:Xe(Je,tr),onMouseLeave:Ye(Je,tr),onClick:Ze(Je,tr),key:"rectangle-".concat(Je?.x,"-").concat(Je?.y,"-").concat(Je?.value,"-").concat(tr)}),reactExports.createElement(BarRectangle,nr))}),Be&&LabelList.renderCallByParent(je,Re)):null}function RectanglesWithAnimation(Ce){var{props:Re,previousRectanglesRef:je}=Ce,{data:Be,layout:De,isAnimationActive:Fe,animationBegin:Oe,animationDuration:ke,animationEasing:Me,onAnimationEnd:Ue,onAnimationStart:$e}=Re,He=je.current,Qe=useAnimationId(Re,"recharts-bar-"),[We,qe]=reactExports.useState(!1),Ke=reactExports.useCallback(()=>{typeof Ue=="function"&&Ue(),qe(!1)},[Ue]),Xe=reactExports.useCallback(()=>{typeof $e=="function"&&$e(),qe(!0)},[$e]);return reactExports.createElement(JavascriptAnimate,{begin:Oe,duration:ke,isActive:Fe,easing:Me,onAnimationEnd:Ke,onAnimationStart:Xe,key:Qe},Ye=>{var Ze=Ye===1?Be:Be?.map((Je,tr)=>{var rr=He&&He[tr];if(rr)return _objectSpread$8(_objectSpread$8({},Je),{},{x:interpolate$1(rr.x,Je.x,Ye),y:interpolate$1(rr.y,Je.y,Ye),width:interpolate$1(rr.width,Je.width,Ye),height:interpolate$1(rr.height,Je.height,Ye)});if(De==="horizontal"){var ar=interpolate$1(0,Je.height,Ye);return _objectSpread$8(_objectSpread$8({},Je),{},{y:Je.y+Je.height-ar,height:ar})}var nr=interpolate$1(0,Je.width,Ye);return _objectSpread$8(_objectSpread$8({},Je),{},{width:nr})});return Ye>0&&(je.current=Ze??null),Ze==null?null:reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:Re,data:Ze,showLabels:!We}))})}function RenderRectangles(Ce){var{data:Re,isAnimationActive:je}=Ce,Be=reactExports.useRef(null);return je&&Re&&Re.length&&(Be.current==null||Be.current!==Re)?reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:Be,props:Ce}):reactExports.createElement(BarRectangles,{props:Ce,data:Re,showLabels:!0})}var defaultMinPointSize=0,errorBarDataPointFormatter$1=(Ce,Re)=>{var je=Array.isArray(Ce.value)?Ce.value[1]:Ce.value;return{x:Ce.x,y:Ce.y,value:je,errorVal:getValueByDataKey(Ce,Re)}};class BarWithState extends reactExports.PureComponent{render(){var{hide:Re,data:je,dataKey:Be,className:De,xAxisId:Fe,yAxisId:Oe,needClip:ke,background:Me,id:Ue}=this.props;if(Re)return null;var $e=clsx("recharts-bar",De),He=Ue;return reactExports.createElement(Layer,{className:$e,id:Ue},ke&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:He,xAxisId:Fe,yAxisId:Oe})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:ke?"url(#clipPath-".concat(He,")"):void 0},reactExports.createElement(BarBackground,{data:je,dataKey:Be,background:Me,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)),this.props.children)}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Global$1.isSsr,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0};function BarImpl(Ce){var{xAxisId:Re,yAxisId:je,hide:Be,legendType:De,minPointSize:Fe,activeBar:Oe,animationBegin:ke,animationDuration:Me,animationEasing:Ue,isAnimationActive:$e}=Ce,{needClip:He}=useNeedsClip(Re,je),Qe=useChartLayout(),We=useIsPanorama(),qe=findAllByType(Ce.children,Cell),Ke=useAppSelector(Ze=>selectBarRectangles(Ze,Re,je,We,Ce.id,qe));if(Qe!=="vertical"&&Qe!=="horizontal")return null;var Xe,Ye=Ke?.[0];return Ye==null||Ye.height==null||Ye.width==null?Xe=0:Xe=Qe==="vertical"?Ye.height/2:Ye.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:Re,yAxisId:je,data:Ke,dataPointFormatter:errorBarDataPointFormatter$1,errorBarOffset:Xe},reactExports.createElement(BarWithState,_extends$9({},Ce,{layout:Qe,needClip:He,data:Ke,xAxisId:Re,yAxisId:je,hide:Be,legendType:De,minPointSize:Fe,activeBar:Oe,animationBegin:ke,animationDuration:Me,animationEasing:Ue,isAnimationActive:$e})))}function computeBarRectangles(Ce){var{layout:Re,barSettings:{dataKey:je,minPointSize:Be},pos:De,bandSize:Fe,xAxis:Oe,yAxis:ke,xAxisTicks:Me,yAxisTicks:Ue,stackedData:$e,displayedData:He,offset:Qe,cells:We}=Ce,qe=Re==="horizontal"?ke:Oe,Ke=$e?qe.scale.domain():null,Xe=getBaseValueOfBar({numericAxis:qe});return He.map((Ye,Ze)=>{var Je,tr,rr,ar,nr,sr;$e?Je=truncateByDomain($e[Ze],Ke):(Je=getValueByDataKey(Ye,je),Array.isArray(Je)||(Je=[Xe,Je]));var dr=minPointSizeCallback(Be,defaultMinPointSize)(Je[1],Ze);if(Re==="horizontal"){var _r,[fr,or]=[ke.scale(Je[0]),ke.scale(Je[1])];tr=getCateCoordinateOfBar({axis:Oe,ticks:Me,bandSize:Fe,offset:De.offset,entry:Ye,index:Ze}),rr=(_r=or??fr)!==null&&_r!==void 0?_r:void 0,ar=De.size;var Er=fr-or;if(nr=isNan(Er)?0:Er,sr={x:tr,y:Qe.top,width:ar,height:Qe.height},Math.abs(dr)>0&&Math.abs(nr)<Math.abs(dr)){var Rr=mathSign(nr||dr)*(Math.abs(dr)-Math.abs(nr));rr-=Rr,nr+=Rr}}else{var[jr,xr]=[Oe.scale(Je[0]),Oe.scale(Je[1])];if(tr=jr,rr=getCateCoordinateOfBar({axis:ke,ticks:Ue,bandSize:Fe,offset:De.offset,entry:Ye,index:Ze}),ar=xr-jr,nr=De.size,sr={x:Qe.left,y:rr,width:Qe.width,height:nr},Math.abs(dr)>0&&Math.abs(ar)<Math.abs(dr)){var Pr=mathSign(ar||dr)*(Math.abs(dr)-Math.abs(ar));ar+=Pr}}if(tr==null||rr==null||ar==null||nr==null)return null;var br=_objectSpread$8(_objectSpread$8({},Ye),{},{x:tr,y:rr,width:ar,height:nr,value:$e?Je:Je[1],payload:Ye,background:sr,tooltipPosition:{x:tr+ar/2,y:rr+nr/2}},We&&We[Ze]&&We[Ze].props);return br}).filter(Boolean)}function Bar(Ce){var Re=resolveDefaultProps(Ce,defaultBarProps),je=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:Re.id,type:"bar"},Be=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(Re)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$1,args:Re}),reactExports.createElement(SetCartesianGraphicalItem,{type:"bar",id:Be,data:void 0,xAxisId:Re.xAxisId,yAxisId:Re.yAxisId,zAxisId:0,dataKey:Re.dataKey,stackId:getNormalizedStackId(Re.stackId),hide:Re.hide,barSize:Re.barSize,minPointSize:Re.minPointSize,maxBarSize:Re.maxBarSize,isPanorama:je}),reactExports.createElement(BarImpl,_extends$9({},Re,{id:Be}))))}Bar.displayName="Bar";function ownKeys$8(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$7(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$8(Object(je),!0).forEach(function(Be){_defineProperty$b(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$8(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$b(Ce,Re,je){return(Re=_toPropertyKey$a(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$a(Ce){var Re=_toPrimitive$a(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$a(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}var pickXAxisId=(Ce,Re)=>Re,pickYAxisId=(Ce,Re,je)=>je,pickIsPanorama=(Ce,Re,je,Be)=>Be,pickBarId=(Ce,Re,je,Be,De)=>De,selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarId],(Ce,Re)=>Ce.filter(je=>je.type==="bar").find(je=>je.id===Re)),selectMaxBarSize=createSelector([selectSynchronisedBarSettings],Ce=>Ce?.maxBarSize),pickCells=(Ce,Re,je,Be,De,Fe)=>Fe,getBarSize=(Ce,Re,je)=>{var Be=je??Ce;if(!isNullish(Be))return getPercentValue(Be,Re,0)},selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,pickXAxisId,pickYAxisId,pickIsPanorama],(Ce,Re,je,Be,De)=>Re.filter(Fe=>Ce==="horizontal"?Fe.xAxisId===je:Fe.yAxisId===Be).filter(Fe=>Fe.isPanorama===De).filter(Fe=>Fe.hide===!1).filter(Fe=>Fe.type==="bar")),selectBarStackGroups=(Ce,Re,je,Be)=>{var De=selectChartLayout(Ce);return De==="horizontal"?selectStackGroups(Ce,"yAxis",je,Be):selectStackGroups(Ce,"xAxis",Re,Be)},selectBarCartesianAxisSize=(Ce,Re,je)=>{var Be=selectChartLayout(Ce);return Be==="horizontal"?selectCartesianAxisSize(Ce,"xAxis",Re):selectCartesianAxisSize(Ce,"yAxis",je)},combineBarSizeList=(Ce,Re,je)=>{var Be={},De=Ce.filter(isStacked),Fe=Ce.filter(Ue=>Ue.stackId==null),Oe=De.reduce((Ue,$e)=>(Ue[$e.stackId]||(Ue[$e.stackId]=[]),Ue[$e.stackId].push($e),Ue),Be),ke=Object.entries(Oe).map(Ue=>{var[$e,He]=Ue,Qe=He.map(qe=>qe.dataKey),We=getBarSize(Re,je,He[0].barSize);return{stackId:$e,dataKeys:Qe,barSize:We}}),Me=Fe.map(Ue=>{var $e=[Ue.dataKey].filter(Qe=>Qe!=null),He=getBarSize(Re,je,Ue.barSize);return{stackId:void 0,dataKeys:$e,barSize:He}});return[...ke,...Me]},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(Ce,Re,je,Be,De)=>{var Fe,Oe,ke=selectSynchronisedBarSettings(Ce,Re,je,Be,De);if(ke!=null){var Me=selectChartLayout(Ce),Ue=selectRootMaxBarSize(Ce),{maxBarSize:$e}=ke,He=isNullish($e)?Ue:$e,Qe,We;return Me==="horizontal"?(Qe=selectAxisWithScale(Ce,"xAxis",Re,Be),We=selectTicksOfGraphicalItem(Ce,"xAxis",Re,Be)):(Qe=selectAxisWithScale(Ce,"yAxis",je,Be),We=selectTicksOfGraphicalItem(Ce,"yAxis",je,Be)),(Fe=(Oe=getBandSizeOfAxis(Qe,We,!0))!==null&&Oe!==void 0?Oe:He)!==null&&Fe!==void 0?Fe:0}},selectAxisBandSize=(Ce,Re,je,Be)=>{var De=selectChartLayout(Ce),Fe,Oe;return De==="horizontal"?(Fe=selectAxisWithScale(Ce,"xAxis",Re,Be),Oe=selectTicksOfGraphicalItem(Ce,"xAxis",Re,Be)):(Fe=selectAxisWithScale(Ce,"yAxis",je,Be),Oe=selectTicksOfGraphicalItem(Ce,"yAxis",je,Be)),getBandSizeOfAxis(Fe,Oe)};function getBarPositions(Ce,Re,je,Be,De){var Fe=Be.length;if(!(Fe<1)){var Oe=getPercentValue(Ce,je,0,!0),ke,Me=[];if(isWellBehavedNumber(Be[0].barSize)){var Ue=!1,$e=je/Fe,He=Be.reduce((Ye,Ze)=>Ye+(Ze.barSize||0),0);He+=(Fe-1)*Oe,He>=je&&(He-=(Fe-1)*Oe,Oe=0),He>=je&&$e>0&&(Ue=!0,$e*=.9,He=Fe*$e);var Qe=(je-He)/2>>0,We={offset:Qe-Oe,size:0};ke=Be.reduce((Ye,Ze)=>{var Je,tr={stackId:Ze.stackId,dataKeys:Ze.dataKeys,position:{offset:We.offset+We.size+Oe,size:Ue?$e:(Je=Ze.barSize)!==null&&Je!==void 0?Je:0}},rr=[...Ye,tr];return We=rr[rr.length-1].position,rr},Me)}else{var qe=getPercentValue(Re,je,0,!0);je-2*qe-(Fe-1)*Oe<=0&&(Oe=0);var Ke=(je-2*qe-(Fe-1)*Oe)/Fe;Ke>1&&(Ke>>=0);var Xe=isWellBehavedNumber(De)?Math.min(Ke,De):Ke;ke=Be.reduce((Ye,Ze,Je)=>[...Ye,{stackId:Ze.stackId,dataKeys:Ze.dataKeys,position:{offset:qe+(Ke+Oe)*Je+(Ke-Xe)/2,size:Xe}}],Me)}return ke}}var combineAllBarPositions=(Ce,Re,je,Be,De,Fe,Oe)=>{var ke=isNullish(Oe)?Re:Oe,Me=getBarPositions(je,Be,De!==Fe?De:Fe,Ce,ke);return De!==Fe&&Me!=null&&(Me=Me.map(Ue=>_objectSpread$7(_objectSpread$7({},Ue),{},{position:_objectSpread$7(_objectSpread$7({},Ue.position),{},{offset:Ue.position.offset-De/2})}))),Me},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,selectMaxBarSize],combineAllBarPositions),selectXAxisWithScale$1=(Ce,Re,je,Be)=>selectAxisWithScale(Ce,"xAxis",Re,Be),selectYAxisWithScale$1=(Ce,Re,je,Be)=>selectAxisWithScale(Ce,"yAxis",je,Be),selectXAxisTicks$1=(Ce,Re,je,Be)=>selectTicksOfGraphicalItem(Ce,"xAxis",Re,Be),selectYAxisTicks$1=(Ce,Re,je,Be)=>selectTicksOfGraphicalItem(Ce,"yAxis",je,Be),selectBarPosition=createSelector([selectAllBarPositions,selectSynchronisedBarSettings],(Ce,Re)=>{if(!(Ce==null||Re==null)){var je=Ce.find(Be=>Be.stackId===Re.stackId&&Re.dataKey!=null&&Be.dataKeys.includes(Re.dataKey));if(je!=null)return je.position}}),combineStackedData=(Ce,Re)=>{var je=getStackSeriesIdentifier(Re);if(!(!Ce||je==null||Re==null)){var{stackId:Be}=Re;if(Be!=null){var De=Ce[Be];if(De){var{stackedData:Fe}=De;if(Fe)return Fe.find(Oe=>Oe.key===je)}}}},selectStackedDataOfItem=createSelector([selectBarStackGroups,selectSynchronisedBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanorama,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells],(Ce,Re,je,Be,De,Fe,Oe,ke,Me,Ue,$e,He)=>{var{chartData:Qe,dataStartIndex:We,dataEndIndex:qe}=ke;if(!($e==null||Fe==null||Oe!=="horizontal"&&Oe!=="vertical"||Re==null||je==null||Be==null||De==null||Me==null)){var{data:Ke}=$e,Xe;if(Ke!=null&&Ke.length>0?Xe=Ke:Xe=Qe?.slice(We,qe+1),Xe!=null)return computeBarRectangles({layout:Oe,barSettings:$e,pos:Fe,bandSize:Me,xAxis:Re,yAxis:je,xAxisTicks:Be,yAxisTicks:De,stackedData:Ue,displayedData:Xe,offset:Ce,cells:He})}}),ChartDataContextProvider=Ce=>{var{chartData:Re}=Ce,je=useAppDispatch(),Be=useIsPanorama();return reactExports.useEffect(()=>Be?()=>{}:(je(setChartData(Re)),()=>{je(setChartData(void 0))}),[Re,je,Be]),null},initialState$3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$3,reducers:{setBrushSettings(Ce,Re){return Re.payload==null?initialState$3:Re.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function _defineProperty$a(Ce,Re,je){return(Re=_toPropertyKey$9(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$9(Ce){var Re=_toPrimitive$9(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$9(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}class ScaleHelper{static create(Re){return new ScaleHelper(Re)}constructor(Re){this.scale=Re}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(Re){var{bandAware:je,position:Be}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Re!==void 0){if(Be)switch(Be){case"start":return this.scale(Re);case"middle":{var De=this.bandwidth?this.bandwidth()/2:0;return this.scale(Re)+De}case"end":{var Fe=this.bandwidth?this.bandwidth():0;return this.scale(Re)+Fe}default:return this.scale(Re)}if(je){var Oe=this.bandwidth?this.bandwidth()/2:0;return this.scale(Re)+Oe}return this.scale(Re)}}isInRange(Re){var je=this.range(),Be=je[0],De=je[je.length-1];return Be<=De?Re>=Be&&Re<=De:Re>=De&&Re<=Be}}_defineProperty$a(ScaleHelper,"EPS",1e-4);function normalizeAngle(Ce){return(Ce%180+180)%180}var getAngledRectangleWidth=function Ce(Re){var{width:je,height:Be}=Re,De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Fe=normalizeAngle(De),Oe=Fe*Math.PI/180,ke=Math.atan(Be/je),Me=Oe>ke&&Oe<Math.PI-ke?Be/Math.sin(Oe):je/Math.cos(Oe);return Math.abs(Me)},initialState$2={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$2,reducers:{addDot:(Ce,Re)=>{Ce.dots.push(Re.payload)},removeDot:(Ce,Re)=>{var je=current(Ce).dots.findIndex(Be=>Be===Re.payload);je!==-1&&Ce.dots.splice(je,1)},addArea:(Ce,Re)=>{Ce.areas.push(Re.payload)},removeArea:(Ce,Re)=>{var je=current(Ce).areas.findIndex(Be=>Be===Re.payload);je!==-1&&Ce.areas.splice(je,1)},addLine:(Ce,Re)=>{Ce.lines.push(Re.payload)},removeLine:(Ce,Re)=>{var je=current(Ce).lines.findIndex(Be=>Be===Re.payload);je!==-1&&Ce.lines.splice(je,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=Ce=>{var{children:Re}=Ce,[je]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),Be=usePlotArea();if(Be==null)return null;var{x:De,y:Fe,width:Oe,height:ke}=Be;return reactExports.createElement(ClipPathIdContext.Provider,{value:je},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:je},reactExports.createElement("rect",{x:De,y:Fe,height:ke,width:Oe}))),Re)};function shallowEqual(Ce,Re){for(var je in Ce)if({}.hasOwnProperty.call(Ce,je)&&(!{}.hasOwnProperty.call(Re,je)||Ce[je]!==Re[je]))return!1;for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)&&!{}.hasOwnProperty.call(Ce,Be))return!1;return!0}function getEveryNthWithCondition(Ce,Re,je){if(Re<1)return[];if(Re===1&&je===void 0)return Ce;for(var Be=[],De=0;De<Ce.length;De+=Re)Be.push(Ce[De]);return Be}function getAngledTickWidth(Ce,Re,je){var Be={width:Ce.width+Re.width,height:Ce.height+Re.height};return getAngledRectangleWidth(Be,je)}function getTickBoundaries(Ce,Re,je){var Be=je==="width",{x:De,y:Fe,width:Oe,height:ke}=Ce;return Re===1?{start:Be?De:Fe,end:Be?De+Oe:Fe+ke}:{start:Be?De+Oe:Fe+ke,end:Be?De:Fe}}function isVisible(Ce,Re,je,Be,De){if(Ce*Re<Ce*Be||Ce*Re>Ce*De)return!1;var Fe=je();return Ce*(Re-Ce*Fe/2-Be)>=0&&Ce*(Re+Ce*Fe/2-De)<=0}function getNumberIntervalTicks(Ce,Re){return getEveryNthWithCondition(Ce,Re+1)}function getEquidistantTicks(Ce,Re,je,Be,De){for(var Fe=(Be||[]).slice(),{start:Oe,end:ke}=Re,Me=0,Ue=1,$e=Oe,He=function(){var qe=Be?.[Me];if(qe===void 0)return{v:getEveryNthWithCondition(Be,Ue)};var Ke=Me,Xe,Ye=()=>(Xe===void 0&&(Xe=je(qe,Ke)),Xe),Ze=qe.coordinate,Je=Me===0||isVisible(Ce,Ze,Ye,$e,ke);Je||(Me=0,$e=Oe,Ue+=1),Je&&($e=Ze+Ce*(Ye()/2+De),Me+=Ue)},Qe;Ue<=Fe.length;)if(Qe=He(),Qe)return Qe.v;return[]}function ownKeys$7(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$6(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$7(Object(je),!0).forEach(function(Be){_defineProperty$9(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$7(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$9(Ce,Re,je){return(Re=_toPropertyKey$8(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$8(Ce){var Re=_toPrimitive$8(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$8(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function getTicksEnd(Ce,Re,je,Be,De){for(var Fe=(Be||[]).slice(),Oe=Fe.length,{start:ke}=Re,{end:Me}=Re,Ue=function(Qe){var We=Fe[Qe],qe,Ke=()=>(qe===void 0&&(qe=je(We,Qe)),qe);if(Qe===Oe-1){var Xe=Ce*(We.coordinate+Ce*Ke()/2-Me);Fe[Qe]=We=_objectSpread$6(_objectSpread$6({},We),{},{tickCoord:Xe>0?We.coordinate-Xe*Ce:We.coordinate})}else Fe[Qe]=We=_objectSpread$6(_objectSpread$6({},We),{},{tickCoord:We.coordinate});var Ye=isVisible(Ce,We.tickCoord,Ke,ke,Me);Ye&&(Me=We.tickCoord-Ce*(Ke()/2+De),Fe[Qe]=_objectSpread$6(_objectSpread$6({},We),{},{isShow:!0}))},$e=Oe-1;$e>=0;$e--)Ue($e);return Fe}function getTicksStart(Ce,Re,je,Be,De,Fe){var Oe=(Be||[]).slice(),ke=Oe.length,{start:Me,end:Ue}=Re;if(Fe){var $e=Be[ke-1],He=je($e,ke-1),Qe=Ce*($e.coordinate+Ce*He/2-Ue);Oe[ke-1]=$e=_objectSpread$6(_objectSpread$6({},$e),{},{tickCoord:Qe>0?$e.coordinate-Qe*Ce:$e.coordinate});var We=isVisible(Ce,$e.tickCoord,()=>He,Me,Ue);We&&(Ue=$e.tickCoord-Ce*(He/2+De),Oe[ke-1]=_objectSpread$6(_objectSpread$6({},$e),{},{isShow:!0}))}for(var qe=Fe?ke-1:ke,Ke=function(Ze){var Je=Oe[Ze],tr,rr=()=>(tr===void 0&&(tr=je(Je,Ze)),tr);if(Ze===0){var ar=Ce*(Je.coordinate-Ce*rr()/2-Me);Oe[Ze]=Je=_objectSpread$6(_objectSpread$6({},Je),{},{tickCoord:ar<0?Je.coordinate-ar*Ce:Je.coordinate})}else Oe[Ze]=Je=_objectSpread$6(_objectSpread$6({},Je),{},{tickCoord:Je.coordinate});var nr=isVisible(Ce,Je.tickCoord,rr,Me,Ue);nr&&(Me=Je.tickCoord+Ce*(rr()/2+De),Oe[Ze]=_objectSpread$6(_objectSpread$6({},Je),{},{isShow:!0}))},Xe=0;Xe<qe;Xe++)Ke(Xe);return Oe}function getTicks(Ce,Re,je){var{tick:Be,ticks:De,viewBox:Fe,minTickGap:Oe,orientation:ke,interval:Me,tickFormatter:Ue,unit:$e,angle:He}=Ce;if(!De||!De.length||!Be)return[];if(isNumber(Me)||Global$1.isSsr){var Qe;return(Qe=getNumberIntervalTicks(De,isNumber(Me)?Me:0))!==null&&Qe!==void 0?Qe:[]}var We=[],qe=ke==="top"||ke==="bottom"?"width":"height",Ke=$e&&qe==="width"?getStringSize($e,{fontSize:Re,letterSpacing:je}):{width:0,height:0},Xe=(Je,tr)=>{var rr=typeof Ue=="function"?Ue(Je.value,tr):Je.value;return qe==="width"?getAngledTickWidth(getStringSize(rr,{fontSize:Re,letterSpacing:je}),Ke,He):getStringSize(rr,{fontSize:Re,letterSpacing:je})[qe]},Ye=De.length>=2?mathSign(De[1].coordinate-De[0].coordinate):1,Ze=getTickBoundaries(Fe,Ye,qe);return Me==="equidistantPreserveStart"?getEquidistantTicks(Ye,Ze,Xe,De,Oe):(Me==="preserveStart"||Me==="preserveStartEnd"?We=getTicksStart(Ye,Ze,Xe,De,Oe,Me==="preserveStartEnd"):We=getTicksEnd(Ye,Ze,Xe,De,Oe),We.filter(Je=>Je.isShow))}var _excluded$e=["viewBox"],_excluded2$5=["viewBox"];function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$8.apply(null,arguments)}function ownKeys$6(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$5(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$6(Object(je),!0).forEach(function(Be){_defineProperty$8(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$6(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _objectWithoutProperties$9(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$9(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$9(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}function _defineProperty$8(Ce,Re,je){return(Re=_toPropertyKey$7(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$7(Ce){var Re=_toPrimitive$7(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$7(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}class CartesianAxis extends reactExports.Component{constructor(Re){super(Re),this.tickRefs=reactExports.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(Re,je){var{viewBox:Be}=Re,De=_objectWithoutProperties$9(Re,_excluded$e),Fe=this.props,{viewBox:Oe}=Fe,ke=_objectWithoutProperties$9(Fe,_excluded2$5);return!shallowEqual(Be,Oe)||!shallowEqual(De,ke)||!shallowEqual(je,this.state)}getTickLineCoord(Re){var{x:je,y:Be,width:De,height:Fe,orientation:Oe,tickSize:ke,mirror:Me,tickMargin:Ue}=this.props,$e,He,Qe,We,qe,Ke,Xe=Me?-1:1,Ye=Re.tickSize||ke,Ze=isNumber(Re.tickCoord)?Re.tickCoord:Re.coordinate;switch(Oe){case"top":$e=He=Re.coordinate,We=Be+ +!Me*Fe,Qe=We-Xe*Ye,Ke=Qe-Xe*Ue,qe=Ze;break;case"left":Qe=We=Re.coordinate,He=je+ +!Me*De,$e=He-Xe*Ye,qe=$e-Xe*Ue,Ke=Ze;break;case"right":Qe=We=Re.coordinate,He=je+ +Me*De,$e=He+Xe*Ye,qe=$e+Xe*Ue,Ke=Ze;break;default:$e=He=Re.coordinate,We=Be+ +Me*Fe,Qe=We+Xe*Ye,Ke=Qe+Xe*Ue,qe=Ze;break}return{line:{x1:$e,y1:Qe,x2:He,y2:We},tick:{x:qe,y:Ke}}}getTickTextAnchor(){var{orientation:Re,mirror:je}=this.props,Be;switch(Re){case"left":Be=je?"start":"end";break;case"right":Be=je?"end":"start";break;default:Be="middle";break}return Be}getTickVerticalAnchor(){var{orientation:Re,mirror:je}=this.props;switch(Re){case"left":case"right":return"middle";case"top":return je?"start":"end";default:return je?"end":"start"}}renderAxisLine(){var{x:Re,y:je,width:Be,height:De,orientation:Fe,mirror:Oe,axisLine:ke}=this.props,Me=_objectSpread$5(_objectSpread$5(_objectSpread$5({},filterProps(this.props,!1)),filterProps(ke,!1)),{},{fill:"none"});if(Fe==="top"||Fe==="bottom"){var Ue=+(Fe==="top"&&!Oe||Fe==="bottom"&&Oe);Me=_objectSpread$5(_objectSpread$5({},Me),{},{x1:Re,y1:je+Ue*De,x2:Re+Be,y2:je+Ue*De})}else{var $e=+(Fe==="left"&&!Oe||Fe==="right"&&Oe);Me=_objectSpread$5(_objectSpread$5({},Me),{},{x1:Re+$e*Be,y1:je,x2:Re+$e*Be,y2:je+De})}return reactExports.createElement("line",_extends$8({},Me,{className:clsx("recharts-cartesian-axis-line",get(ke,"className"))}))}static renderTickItem(Re,je,Be){var De,Fe=clsx(je.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(Re))De=reactExports.cloneElement(Re,_objectSpread$5(_objectSpread$5({},je),{},{className:Fe}));else if(typeof Re=="function")De=Re(_objectSpread$5(_objectSpread$5({},je),{},{className:Fe}));else{var Oe="recharts-cartesian-axis-tick-value";typeof Re!="boolean"&&(Oe=clsx(Oe,Re.className)),De=reactExports.createElement(Text,_extends$8({},je,{className:Oe}),Be)}return De}renderTicks(Re,je){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:De,stroke:Fe,tick:Oe,tickFormatter:ke,unit:Me,padding:Ue}=this.props,$e=getTicks(_objectSpread$5(_objectSpread$5({},this.props),{},{ticks:Be}),Re,je),He=this.getTickTextAnchor(),Qe=this.getTickVerticalAnchor(),We=svgPropertiesNoEvents(this.props),qe=filterProps(Oe,!1),Ke=_objectSpread$5(_objectSpread$5({},We),{},{fill:"none"},filterProps(De,!1)),Xe=$e.map((Ye,Ze)=>{var{line:Je,tick:tr}=this.getTickLineCoord(Ye),rr=_objectSpread$5(_objectSpread$5(_objectSpread$5(_objectSpread$5({textAnchor:He,verticalAnchor:Qe},We),{},{stroke:"none",fill:Fe},qe),tr),{},{index:Ze,payload:Ye,visibleTicksCount:$e.length,tickFormatter:ke,padding:Ue});return reactExports.createElement(Layer,_extends$8({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Ye.value,"-").concat(Ye.coordinate,"-").concat(Ye.tickCoord)},adaptEventsOfChild(this.props,Ye,Ze)),De&&reactExports.createElement("line",_extends$8({},Ke,Je,{className:clsx("recharts-cartesian-axis-tick-line",get(De,"className"))})),Oe&&CartesianAxis.renderTickItem(Oe,rr,"".concat(typeof ke=="function"?ke(Ye.value,Ze):Ye.value).concat(Me||"")))});return Xe.length>0?reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks"},Xe):null}render(){var{axisLine:Re,width:je,height:Be,className:De,hide:Fe}=this.props;if(Fe)return null;var{ticks:Oe}=this.props;return je!=null&&je<=0||Be!=null&&Be<=0?null:reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",De),ref:ke=>{if(ke){var Me=ke.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(Me);var Ue=Me[0];if(Ue){var $e=window.getComputedStyle(Ue).fontSize,He=window.getComputedStyle(Ue).letterSpacing;($e!==this.state.fontSize||He!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(Ue).fontSize,letterSpacing:window.getComputedStyle(Ue).letterSpacing})}}}},Re&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,Oe),Label.renderCallByParent(this.props))}}_defineProperty$8(CartesianAxis,"displayName","CartesianAxis");_defineProperty$8(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$d=["x1","y1","x2","y2","key"],_excluded2$4=["offset"],_excluded3$1=["xAxisId","yAxisId"],_excluded4=["xAxisId","yAxisId"];function ownKeys$5(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$4(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$5(Object(je),!0).forEach(function(Be){_defineProperty$7(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$5(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$7(Ce,Re,je){return(Re=_toPropertyKey$6(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$6(Ce){var Re=_toPrimitive$6(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$6(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$7.apply(null,arguments)}function _objectWithoutProperties$8(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$8(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$8(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}var Background=Ce=>{var{fill:Re}=Ce;if(!Re||Re==="none")return null;var{fillOpacity:je,x:Be,y:De,width:Fe,height:Oe,ry:ke}=Ce;return reactExports.createElement("rect",{x:Be,y:De,ry:ke,width:Fe,height:Oe,stroke:"none",fill:Re,fillOpacity:je,className:"recharts-cartesian-grid-bg"})};function renderLineItem(Ce,Re){var je;if(reactExports.isValidElement(Ce))je=reactExports.cloneElement(Ce,Re);else if(typeof Ce=="function")je=Ce(Re);else{var{x1:Be,y1:De,x2:Fe,y2:Oe,key:ke}=Re,Me=_objectWithoutProperties$8(Re,_excluded$d),Ue=svgPropertiesNoEvents(Me),{offset:$e}=Ue,He=_objectWithoutProperties$8(Ue,_excluded2$4);je=reactExports.createElement("line",_extends$7({},He,{x1:Be,y1:De,x2:Fe,y2:Oe,fill:"none",key:ke}))}return je}function HorizontalGridLines(Ce){var{x:Re,width:je,horizontal:Be=!0,horizontalPoints:De}=Ce;if(!Be||!De||!De.length)return null;var{xAxisId:Fe,yAxisId:Oe}=Ce,ke=_objectWithoutProperties$8(Ce,_excluded3$1),Me=De.map((Ue,$e)=>{var He=_objectSpread$4(_objectSpread$4({},ke),{},{x1:Re,y1:Ue,x2:Re+je,y2:Ue,key:"line-".concat($e),index:$e});return renderLineItem(Be,He)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},Me)}function VerticalGridLines(Ce){var{y:Re,height:je,vertical:Be=!0,verticalPoints:De}=Ce;if(!Be||!De||!De.length)return null;var{xAxisId:Fe,yAxisId:Oe}=Ce,ke=_objectWithoutProperties$8(Ce,_excluded4),Me=De.map((Ue,$e)=>{var He=_objectSpread$4(_objectSpread$4({},ke),{},{x1:Ue,y1:Re,x2:Ue,y2:Re+je,key:"line-".concat($e),index:$e});return renderLineItem(Be,He)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},Me)}function HorizontalStripes(Ce){var{horizontalFill:Re,fillOpacity:je,x:Be,y:De,width:Fe,height:Oe,horizontalPoints:ke,horizontal:Me=!0}=Ce;if(!Me||!Re||!Re.length)return null;var Ue=ke.map(He=>Math.round(He+De-De)).sort((He,Qe)=>He-Qe);De!==Ue[0]&&Ue.unshift(0);var $e=Ue.map((He,Qe)=>{var We=!Ue[Qe+1],qe=We?De+Oe-He:Ue[Qe+1]-He;if(qe<=0)return null;var Ke=Qe%Re.length;return reactExports.createElement("rect",{key:"react-".concat(Qe),y:He,x:Be,height:qe,width:Fe,stroke:"none",fill:Re[Ke],fillOpacity:je,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},$e)}function VerticalStripes(Ce){var{vertical:Re=!0,verticalFill:je,fillOpacity:Be,x:De,y:Fe,width:Oe,height:ke,verticalPoints:Me}=Ce;if(!Re||!je||!je.length)return null;var Ue=Me.map(He=>Math.round(He+De-De)).sort((He,Qe)=>He-Qe);De!==Ue[0]&&Ue.unshift(0);var $e=Ue.map((He,Qe)=>{var We=!Ue[Qe+1],qe=We?De+Oe-He:Ue[Qe+1]-He;if(qe<=0)return null;var Ke=Qe%je.length;return reactExports.createElement("rect",{key:"react-".concat(Qe),x:He,y:Fe,width:qe,height:ke,stroke:"none",fill:je[Ke],fillOpacity:Be,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},$e)}var defaultVerticalCoordinatesGenerator=(Ce,Re)=>{var{xAxis:je,width:Be,height:De,offset:Fe}=Ce;return getCoordinatesOfGrid(getTicks(_objectSpread$4(_objectSpread$4(_objectSpread$4({},CartesianAxis.defaultProps),je),{},{ticks:getTicksOfAxis(je),viewBox:{x:0,y:0,width:Be,height:De}})),Fe.left,Fe.left+Fe.width,Re)},defaultHorizontalCoordinatesGenerator=(Ce,Re)=>{var{yAxis:je,width:Be,height:De,offset:Fe}=Ce;return getCoordinatesOfGrid(getTicks(_objectSpread$4(_objectSpread$4(_objectSpread$4({},CartesianAxis.defaultProps),je),{},{ticks:getTicksOfAxis(je),viewBox:{x:0,y:0,width:Be,height:De}})),Fe.top,Fe.top+Fe.height,Re)},defaultProps$3={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function CartesianGrid(Ce){var Re=useChartWidth(),je=useChartHeight(),Be=useOffsetInternal(),De=_objectSpread$4(_objectSpread$4({},resolveDefaultProps(Ce,defaultProps$3)),{},{x:isNumber(Ce.x)?Ce.x:Be.left,y:isNumber(Ce.y)?Ce.y:Be.top,width:isNumber(Ce.width)?Ce.width:Be.width,height:isNumber(Ce.height)?Ce.height:Be.height}),{xAxisId:Fe,yAxisId:Oe,x:ke,y:Me,width:Ue,height:$e,syncWithTicks:He,horizontalValues:Qe,verticalValues:We}=De,qe=useIsPanorama(),Ke=useAppSelector(dr=>selectAxisPropsNeededForCartesianGridTicksGenerator(dr,"xAxis",Fe,qe)),Xe=useAppSelector(dr=>selectAxisPropsNeededForCartesianGridTicksGenerator(dr,"yAxis",Oe,qe));if(!isNumber(Ue)||Ue<=0||!isNumber($e)||$e<=0||!isNumber(ke)||ke!==+ke||!isNumber(Me)||Me!==+Me)return null;var Ye=De.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,Ze=De.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:Je,verticalPoints:tr}=De;if((!Je||!Je.length)&&typeof Ze=="function"){var rr=Qe&&Qe.length,ar=Ze({yAxis:Xe?_objectSpread$4(_objectSpread$4({},Xe),{},{ticks:rr?Qe:Xe.ticks}):void 0,width:Re,height:je,offset:Be},rr?!0:He);warn(Array.isArray(ar),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof ar,"]")),Array.isArray(ar)&&(Je=ar)}if((!tr||!tr.length)&&typeof Ye=="function"){var nr=We&&We.length,sr=Ye({xAxis:Ke?_objectSpread$4(_objectSpread$4({},Ke),{},{ticks:nr?We:Ke.ticks}):void 0,width:Re,height:je,offset:Be},nr?!0:He);warn(Array.isArray(sr),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof sr,"]")),Array.isArray(sr)&&(tr=sr)}return reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:De.fill,fillOpacity:De.fillOpacity,x:De.x,y:De.y,width:De.width,height:De.height,ry:De.ry}),reactExports.createElement(HorizontalStripes,_extends$7({},De,{horizontalPoints:Je})),reactExports.createElement(VerticalStripes,_extends$7({},De,{verticalPoints:tr})),reactExports.createElement(HorizontalGridLines,_extends$7({},De,{offset:Be,horizontalPoints:Je,xAxis:Ke,yAxis:Xe})),reactExports.createElement(VerticalGridLines,_extends$7({},De,{offset:Be,verticalPoints:tr,xAxis:Ke,yAxis:Xe})))}CartesianGrid.displayName="CartesianGrid";var selectXAxisWithScale=(Ce,Re,je,Be)=>selectAxisWithScale(Ce,"xAxis",Re,Be),selectXAxisTicks=(Ce,Re,je,Be)=>selectTicksOfGraphicalItem(Ce,"xAxis",Re,Be),selectYAxisWithScale=(Ce,Re,je,Be)=>selectAxisWithScale(Ce,"yAxis",je,Be),selectYAxisTicks=(Ce,Re,je,Be)=>selectTicksOfGraphicalItem(Ce,"yAxis",je,Be),selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks],(Ce,Re,je,Be,De)=>isCategoricalAxis(Ce,"xAxis")?getBandSizeOfAxis(Re,Be,!1):getBandSizeOfAxis(je,De,!1)),pickLineId=(Ce,Re,je,Be,De)=>De;function isLineSettings(Ce){return Ce.type==="line"}var selectSynchronisedLineSettings=createSelector([selectUnfilteredCartesianItems,pickLineId],(Ce,Re)=>Ce.filter(isLineSettings).find(je=>je.id===Re)),selectLinePoints=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectSynchronisedLineSettings,selectBandSize,selectChartDataWithIndexesIfNotInPanorama],(Ce,Re,je,Be,De,Fe,Oe,ke)=>{var{chartData:Me,dataStartIndex:Ue,dataEndIndex:$e}=ke;if(!(Fe==null||Re==null||je==null||Be==null||De==null||Be.length===0||De.length===0||Oe==null)){var{dataKey:He,data:Qe}=Fe,We;if(Qe!=null&&Qe.length>0?We=Qe:We=Me?.slice(Ue,$e+1),We!=null)return computeLinePoints({layout:Ce,xAxis:Re,yAxis:je,xAxisTicks:Be,yAxisTicks:De,dataKey:He,bandSize:Oe,displayedData:We})}}),_excluded$c=["id"],_excluded2$3=["type","layout","connectNulls","needClip"],_excluded3=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ownKeys$4(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$3(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$4(Object(je),!0).forEach(function(Be){_defineProperty$6(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$4(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$6(Ce,Re,je){return(Re=_toPropertyKey$5(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$5(Ce){var Re=_toPrimitive$5(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$5(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function _objectWithoutProperties$7(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$7(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$7(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$6.apply(null,arguments)}var computeLegendPayloadFromAreaData=Ce=>{var{dataKey:Re,name:je,stroke:Be,legendType:De,hide:Fe}=Ce;return[{inactive:Fe,dataKey:Re,type:De,color:Be,value:getTooltipNameProp(je,Re),payload:Ce}]};function getTooltipEntrySettings(Ce){var{dataKey:Re,data:je,stroke:Be,strokeWidth:De,fill:Fe,name:Oe,hide:ke,unit:Me}=Ce;return{dataDefinedOnItem:je,positions:void 0,settings:{stroke:Be,strokeWidth:De,fill:Fe,dataKey:Re,nameKey:void 0,name:getTooltipNameProp(Oe,Re),hide:ke,type:Ce.tooltipType,color:Ce.stroke,unit:Me}}}var generateSimpleStrokeDasharray=(Ce,Re)=>"".concat(Re,"px ").concat(Ce-Re,"px");function repeat(Ce,Re){for(var je=Ce.length%2!==0?[...Ce,0]:Ce,Be=[],De=0;De<Re;++De)Be=[...Be,...je];return Be}var getStrokeDasharray=(Ce,Re,je)=>{var Be=je.reduce((He,Qe)=>He+Qe);if(!Be)return generateSimpleStrokeDasharray(Re,Ce);for(var De=Math.floor(Ce/Be),Fe=Ce%Be,Oe=Re-Ce,ke=[],Me=0,Ue=0;Me<je.length;Ue+=je[Me],++Me)if(Ue+je[Me]>Fe){ke=[...je.slice(0,Me),Fe-Ue];break}var $e=ke.length%2===0?[0,Oe]:[Oe];return[...repeat(je,De),...ke,...$e].map(He=>"".concat(He,"px")).join(", ")};function renderDotItem(Ce,Re){var je;if(reactExports.isValidElement(Ce))je=reactExports.cloneElement(Ce,Re);else if(typeof Ce=="function")je=Ce(Re);else{var Be=clsx("recharts-line-dot",typeof Ce!="boolean"?Ce.className:"");je=reactExports.createElement(Dot,_extends$6({},Re,{className:Be}))}return je}function shouldRenderDots(Ce,Re){return Ce==null?!1:Re?!0:Ce.length===1}function Dots(Ce){var{clipPathId:Re,points:je,props:Be}=Ce,{dot:De,dataKey:Fe,needClip:Oe}=Be;if(!shouldRenderDots(je,De))return null;var{id:ke}=Be,Me=_objectWithoutProperties$7(Be,_excluded$c),Ue=isClipDot(De),$e=svgPropertiesNoEvents(Me),He=filterProps(De,!0),Qe=je.map((qe,Ke)=>{var Xe=_objectSpread$3(_objectSpread$3(_objectSpread$3({key:"dot-".concat(Ke),r:3},$e),He),{},{index:Ke,cx:qe.x,cy:qe.y,dataKey:Fe,value:qe.value,payload:qe.payload,points:je});return renderDotItem(De,Xe)}),We={clipPath:Oe?"url(#clipPath-".concat(Ue?"":"dots-").concat(Re,")"):void 0};return reactExports.createElement(Layer,_extends$6({className:"recharts-line-dots",key:"dots"},We),Qe)}function StaticCurve(Ce){var{clipPathId:Re,pathRef:je,points:Be,strokeDasharray:De,props:Fe,showLabels:Oe}=Ce,{type:ke,layout:Me,connectNulls:Ue,needClip:$e}=Fe,He=_objectWithoutProperties$7(Fe,_excluded2$3),Qe=_objectSpread$3(_objectSpread$3({},filterProps(He,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:$e?"url(#clipPath-".concat(Re,")"):void 0,points:Be,type:ke,layout:Me,connectNulls:Ue,strokeDasharray:De??Fe.strokeDasharray});return reactExports.createElement(reactExports.Fragment,null,Be?.length>1&&reactExports.createElement(Curve,_extends$6({},Qe,{pathRef:je})),reactExports.createElement(Dots,{points:Be,clipPathId:Re,props:Fe}),Oe&&LabelList.renderCallByParent(Fe,Be))}function getTotalLength(Ce){try{return Ce&&Ce.getTotalLength&&Ce.getTotalLength()||0}catch{return 0}}function CurveWithAnimation(Ce){var{clipPathId:Re,props:je,pathRef:Be,previousPointsRef:De,longestAnimatedLengthRef:Fe}=Ce,{points:Oe,strokeDasharray:ke,isAnimationActive:Me,animationBegin:Ue,animationDuration:$e,animationEasing:He,animateNewValues:Qe,width:We,height:qe,onAnimationEnd:Ke,onAnimationStart:Xe}=je,Ye=De.current,Ze=useAnimationId(je,"recharts-line-"),[Je,tr]=reactExports.useState(!1),rr=reactExports.useCallback(()=>{typeof Ke=="function"&&Ke(),tr(!1)},[Ke]),ar=reactExports.useCallback(()=>{typeof Xe=="function"&&Xe(),tr(!0)},[Xe]),nr=getTotalLength(Be.current),sr=Fe.current;return reactExports.createElement(JavascriptAnimate,{begin:Ue,duration:$e,isActive:Me,easing:He,onAnimationEnd:rr,onAnimationStart:ar,key:Ze},dr=>{var _r=interpolate$1(sr,nr+sr,dr),fr=Math.min(_r,nr),or;if(ke){var Er="".concat(ke).split(/[,\s]+/gim).map(xr=>parseFloat(xr));or=getStrokeDasharray(fr,nr,Er)}else or=generateSimpleStrokeDasharray(nr,fr);if(Ye){var Rr=Ye.length/Oe.length,jr=dr===1?Oe:Oe.map((xr,Pr)=>{var br=Math.floor(Pr*Rr);if(Ye[br]){var wr=Ye[br];return _objectSpread$3(_objectSpread$3({},xr),{},{x:interpolate$1(wr.x,xr.x,dr),y:interpolate$1(wr.y,xr.y,dr)})}return Qe?_objectSpread$3(_objectSpread$3({},xr),{},{x:interpolate$1(We*2,xr.x,dr),y:interpolate$1(qe/2,xr.y,dr)}):_objectSpread$3(_objectSpread$3({},xr),{},{x:xr.x,y:xr.y})});return De.current=jr,reactExports.createElement(StaticCurve,{props:je,points:jr,clipPathId:Re,pathRef:Be,showLabels:!Je,strokeDasharray:or})}return dr>0&&nr>0&&(De.current=Oe,Fe.current=fr),reactExports.createElement(StaticCurve,{props:je,points:Oe,clipPathId:Re,pathRef:Be,showLabels:!Je,strokeDasharray:or})})}function RenderCurve(Ce){var{clipPathId:Re,props:je}=Ce,{points:Be,isAnimationActive:De}=je,Fe=reactExports.useRef(null),Oe=reactExports.useRef(0),ke=reactExports.useRef(null),Me=Fe.current;return De&&Be&&Be.length&&Me!==Be?reactExports.createElement(CurveWithAnimation,{props:je,clipPathId:Re,previousPointsRef:Fe,longestAnimatedLengthRef:Oe,pathRef:ke}):reactExports.createElement(StaticCurve,{props:je,points:Be,clipPathId:Re,pathRef:ke,showLabels:!0})}var errorBarDataPointFormatter=(Ce,Re)=>({x:Ce.x,y:Ce.y,value:Ce.value,errorVal:getValueByDataKey(Ce.payload,Re)});class LineWithState extends reactExports.Component{render(){var Re,{hide:je,dot:Be,points:De,className:Fe,xAxisId:Oe,yAxisId:ke,top:Me,left:Ue,width:$e,height:He,id:Qe,needClip:We}=this.props;if(je)return null;var qe=clsx("recharts-line",Fe),Ke=Qe,{r:Xe=3,strokeWidth:Ye=2}=(Re=filterProps(Be,!1))!==null&&Re!==void 0?Re:{r:3,strokeWidth:2},Ze=isClipDot(Be),Je=Xe*2+Ye;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Layer,{className:qe},We&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:Ke,xAxisId:Oe,yAxisId:ke}),!Ze&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(Ke)},reactExports.createElement("rect",{x:Ue-Je/2,y:Me-Je/2,width:$e+Je,height:He+Je}))),reactExports.createElement(RenderCurve,{props:this.props,clipPathId:Ke}),reactExports.createElement(SetErrorBarContext,{xAxisId:Oe,yAxisId:ke,data:De,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:0},this.props.children)),reactExports.createElement(ActivePoints,{activeDot:this.props.activeDot,points:De,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var defaultLineProps={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Global$1.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function LineImpl(Ce){var Re=resolveDefaultProps(Ce,defaultLineProps),{activeDot:je,animateNewValues:Be,animationBegin:De,animationDuration:Fe,animationEasing:Oe,connectNulls:ke,dot:Me,hide:Ue,isAnimationActive:$e,label:He,legendType:Qe,xAxisId:We,yAxisId:qe,id:Ke}=Re,Xe=_objectWithoutProperties$7(Re,_excluded3),{needClip:Ye}=useNeedsClip(We,qe),Ze=usePlotArea(),Je=useChartLayout(),tr=useIsPanorama(),rr=useAppSelector(_r=>selectLinePoints(_r,We,qe,tr,Ke));if(Je!=="horizontal"&&Je!=="vertical"||rr==null||Ze==null)return null;var{height:ar,width:nr,x:sr,y:dr}=Ze;return reactExports.createElement(LineWithState,_extends$6({},Xe,{id:Ke,connectNulls:ke,dot:Me,activeDot:je,animateNewValues:Be,animationBegin:De,animationDuration:Fe,animationEasing:Oe,isAnimationActive:$e,hide:Ue,label:He,legendType:Qe,xAxisId:We,yAxisId:qe,points:rr,layout:Je,height:ar,width:nr,left:sr,top:dr,needClip:Ye}))}function computeLinePoints(Ce){var{layout:Re,xAxis:je,yAxis:Be,xAxisTicks:De,yAxisTicks:Fe,dataKey:Oe,bandSize:ke,displayedData:Me}=Ce;return Me.map((Ue,$e)=>{var He=getValueByDataKey(Ue,Oe);if(Re==="horizontal"){var Qe=getCateCoordinateOfLine({axis:je,ticks:De,bandSize:ke,entry:Ue,index:$e}),We=isNullish(He)?null:Be.scale(He);return{x:Qe,y:We,value:He,payload:Ue}}var qe=isNullish(He)?null:je.scale(He),Ke=getCateCoordinateOfLine({axis:Be,ticks:Fe,bandSize:ke,entry:Ue,index:$e});return qe==null||Ke==null?null:{x:qe,y:Ke,value:He,payload:Ue}}).filter(Boolean)}function Line(Ce){var Re=resolveDefaultProps(Ce,defaultLineProps),je=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:Re.id,type:"line"},Be=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData(Re)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings,args:Re}),reactExports.createElement(SetCartesianGraphicalItem,{type:"line",id:Be,data:Re.data,xAxisId:Re.xAxisId,yAxisId:Re.yAxisId,zAxisId:0,dataKey:Re.dataKey,hide:Re.hide,isPanorama:je}),reactExports.createElement(LineImpl,_extends$6({},Re,{id:Be}))))}Line.displayName="Line";function ownKeys$3(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$2(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$3(Object(je),!0).forEach(function(Be){_defineProperty$5(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$3(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$5(Ce,Re,je){return(Re=_toPropertyKey$4(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$4(Ce){var Re=_toPrimitive$4(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$4(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}var initialState$1={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$1,reducers:{addXAxis(Ce,Re){Ce.xAxis[Re.payload.id]=Re.payload},removeXAxis(Ce,Re){delete Ce.xAxis[Re.payload.id]},addYAxis(Ce,Re){Ce.yAxis[Re.payload.id]=Re.payload},removeYAxis(Ce,Re){delete Ce.yAxis[Re.payload.id]},addZAxis(Ce,Re){Ce.zAxis[Re.payload.id]=Re.payload},removeZAxis(Ce,Re){delete Ce.zAxis[Re.payload.id]},updateYAxisWidth(Ce,Re){var{id:je,width:Be}=Re.payload;Ce.yAxis[je]&&(Ce.yAxis[je]=_objectSpread$2(_objectSpread$2({},Ce.yAxis[je]),{},{width:Be}))}}}),{addXAxis,removeXAxis,addYAxis,removeYAxis,addZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,_excluded$b=["children"],_excluded2$2=["dangerouslySetInnerHTML","ticks"];function _defineProperty$4(Ce,Re,je){return(Re=_toPropertyKey$3(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$3(Ce){var Re=_toPrimitive$3(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$3(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$5.apply(null,arguments)}function _objectWithoutProperties$6(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$6(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$6(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}function SetXAxisSettings(Ce){var Re=useAppDispatch(),je=reactExports.useMemo(()=>{var{children:Fe}=Ce,Oe=_objectWithoutProperties$6(Ce,_excluded$b);return Oe},[Ce]),Be=useAppSelector(Fe=>selectXAxisSettings(Fe,je.id)),De=je===Be;return reactExports.useEffect(()=>(Re(addXAxis(je)),()=>{Re(removeXAxis(je))}),[je,Re]),De?Ce.children:null}var XAxisImpl=Ce=>{var{xAxisId:Re,className:je}=Ce,Be=useAppSelector(selectAxisViewBox),De=useIsPanorama(),Fe="xAxis",Oe=useAppSelector(We=>selectAxisScale(We,Fe,Re,De)),ke=useAppSelector(We=>selectTicksOfAxis(We,Fe,Re,De)),Me=useAppSelector(We=>selectXAxisSize(We,Re)),Ue=useAppSelector(We=>selectXAxisPosition(We,Re));if(Me==null||Ue==null)return null;var{dangerouslySetInnerHTML:$e,ticks:He}=Ce,Qe=_objectWithoutProperties$6(Ce,_excluded2$2);return reactExports.createElement(CartesianAxis,_extends$5({},Qe,{scale:Oe,x:Ue.x,y:Ue.y,width:Me.width,height:Me.height,className:clsx("recharts-".concat(Fe," ").concat(Fe),je),viewBox:Be,ticks:ke}))},XAxisSettingsDispatcher=Ce=>{var Re,je,Be,De,Fe;return reactExports.createElement(SetXAxisSettings,{interval:(Re=Ce.interval)!==null&&Re!==void 0?Re:"preserveEnd",id:Ce.xAxisId,scale:Ce.scale,type:Ce.type,padding:Ce.padding,allowDataOverflow:Ce.allowDataOverflow,domain:Ce.domain,dataKey:Ce.dataKey,allowDuplicatedCategory:Ce.allowDuplicatedCategory,allowDecimals:Ce.allowDecimals,tickCount:Ce.tickCount,includeHidden:(je=Ce.includeHidden)!==null&&je!==void 0?je:!1,reversed:Ce.reversed,ticks:Ce.ticks,height:Ce.height,orientation:Ce.orientation,mirror:Ce.mirror,hide:Ce.hide,unit:Ce.unit,name:Ce.name,angle:(Be=Ce.angle)!==null&&Be!==void 0?Be:0,minTickGap:(De=Ce.minTickGap)!==null&&De!==void 0?De:5,tick:(Fe=Ce.tick)!==null&&Fe!==void 0?Fe:!0,tickFormatter:Ce.tickFormatter},reactExports.createElement(XAxisImpl,Ce))};class XAxis extends reactExports.Component{render(){return reactExports.createElement(XAxisSettingsDispatcher,this.props)}}_defineProperty$4(XAxis,"displayName","XAxis");_defineProperty$4(XAxis,"defaultProps",{allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,height:implicitXAxis.height,hide:!1,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tickCount:implicitXAxis.tickCount,type:implicitXAxis.type,xAxisId:0});var getCalculatedYAxisWidth=Ce=>{var{ticks:Re,label:je,labelGapWithTick:Be=5,tickSize:De=0,tickMargin:Fe=0}=Ce,Oe=0;if(Re){Re.forEach($e=>{if($e){var He=$e.getBoundingClientRect();He.width>Oe&&(Oe=He.width)}});var ke=je?je.getBoundingClientRect().width:0,Me=De+Fe,Ue=Oe+Me+ke+(je?Be:0);return Math.round(Ue)}return 0},_excluded$a=["dangerouslySetInnerHTML","ticks"];function _defineProperty$3(Ce,Re,je){return(Re=_toPropertyKey$2(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$2(Ce){var Re=_toPrimitive$2(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$2(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$4.apply(null,arguments)}function _objectWithoutProperties$5(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$5(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$5(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}function SetYAxisSettings(Ce){var Re=useAppDispatch();return reactExports.useEffect(()=>(Re(addYAxis(Ce)),()=>{Re(removeYAxis(Ce))}),[Ce,Re]),null}var YAxisImpl=Ce=>{var Re,{yAxisId:je,className:Be,width:De,label:Fe}=Ce,Oe=reactExports.useRef(null),ke=reactExports.useRef(null),Me=useAppSelector(selectAxisViewBox),Ue=useIsPanorama(),$e=useAppDispatch(),He="yAxis",Qe=useAppSelector(Je=>selectAxisScale(Je,He,je,Ue)),We=useAppSelector(Je=>selectYAxisSize(Je,je)),qe=useAppSelector(Je=>selectYAxisPosition(Je,je)),Ke=useAppSelector(Je=>selectTicksOfAxis(Je,He,je,Ue));if(reactExports.useLayoutEffect(()=>{var Je;if(!(De!=="auto"||!We||isLabelContentAFunction(Fe)||reactExports.isValidElement(Fe))){var tr=Oe.current,rr=tr==null||(Je=tr.tickRefs)===null||Je===void 0?void 0:Je.current,{tickSize:ar,tickMargin:nr}=tr.props,sr=getCalculatedYAxisWidth({ticks:rr,label:ke.current,labelGapWithTick:5,tickSize:ar,tickMargin:nr});Math.round(We.width)!==Math.round(sr)&&$e(updateYAxisWidth({id:je,width:sr}))}},[Oe,Oe==null||(Re=Oe.current)===null||Re===void 0||(Re=Re.tickRefs)===null||Re===void 0?void 0:Re.current,We?.width,We,$e,Fe,je,De]),We==null||qe==null)return null;var{dangerouslySetInnerHTML:Xe,ticks:Ye}=Ce,Ze=_objectWithoutProperties$5(Ce,_excluded$a);return reactExports.createElement(CartesianAxis,_extends$4({},Ze,{ref:Oe,labelRef:ke,scale:Qe,x:qe.x,y:qe.y,width:We.width,height:We.height,className:clsx("recharts-".concat(He," ").concat(He),Be),viewBox:Me,ticks:Ke}))},YAxisSettingsDispatcher=Ce=>{var Re,je,Be,De,Fe;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:(Re=Ce.interval)!==null&&Re!==void 0?Re:"preserveEnd",id:Ce.yAxisId,scale:Ce.scale,type:Ce.type,domain:Ce.domain,allowDataOverflow:Ce.allowDataOverflow,dataKey:Ce.dataKey,allowDuplicatedCategory:Ce.allowDuplicatedCategory,allowDecimals:Ce.allowDecimals,tickCount:Ce.tickCount,padding:Ce.padding,includeHidden:(je=Ce.includeHidden)!==null&&je!==void 0?je:!1,reversed:Ce.reversed,ticks:Ce.ticks,width:Ce.width,orientation:Ce.orientation,mirror:Ce.mirror,hide:Ce.hide,unit:Ce.unit,name:Ce.name,angle:(Be=Ce.angle)!==null&&Be!==void 0?Be:0,minTickGap:(De=Ce.minTickGap)!==null&&De!==void 0?De:5,tick:(Fe=Ce.tick)!==null&&Fe!==void 0?Fe:!0,tickFormatter:Ce.tickFormatter}),reactExports.createElement(YAxisImpl,Ce))},YAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,hide:!1,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tickCount:implicitYAxis.tickCount,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0};class YAxis extends reactExports.Component{render(){return reactExports.createElement(YAxisSettingsDispatcher,this.props)}}_defineProperty$3(YAxis,"displayName","YAxis");_defineProperty$3(YAxis,"defaultProps",YAxisDefaultProps);var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var Ce=requireReact();function Re(Me,Ue){return Me===Ue&&(Me!==0||1/Me===1/Ue)||Me!==Me&&Ue!==Ue}var je=typeof Object.is=="function"?Object.is:Re,Be=Ce.useSyncExternalStore,De=Ce.useRef,Fe=Ce.useEffect,Oe=Ce.useMemo,ke=Ce.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(Me,Ue,$e,He,Qe){var We=De(null);if(We.current===null){var qe={hasValue:!1,value:null};We.current=qe}else qe=We.current;We=Oe(function(){function Xe(rr){if(!Ye){if(Ye=!0,Ze=rr,rr=He(rr),Qe!==void 0&&qe.hasValue){var ar=qe.value;if(Qe(ar,rr))return Je=ar}return Je=rr}if(ar=Je,je(Ze,rr))return ar;var nr=He(rr);return Qe!==void 0&&Qe(ar,nr)?(Ze=rr,ar):(Ze=rr,Je=nr)}var Ye=!1,Ze,Je,tr=$e===void 0?null:$e;return[function(){return Xe(Ue())},tr===null?void 0:function(){return Xe(tr())}]},[Ue,$e,He,Qe]);var Ke=Be(Me,We[0],We[1]);return Fe(function(){qe.hasValue=!0,qe.value=Ke},[Ke]),ke(Ke),Ke},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}requireWithSelector();function defaultNoopBatch(Ce){Ce()}function createListenerCollection(){let Ce=null,Re=null;return{clear(){Ce=null,Re=null},notify(){defaultNoopBatch(()=>{let je=Ce;for(;je;)je.callback(),je=je.next})},get(){const je=[];let Be=Ce;for(;Be;)je.push(Be),Be=Be.next;return je},subscribe(je){let Be=!0;const De=Re={callback:je,next:null,prev:Re};return De.prev?De.prev.next=De:Ce=De,function(){!Be||Ce===null||(Be=!1,De.next?De.next.prev=De.prev:Re=De.prev,De.prev?De.prev.next=De.next:Ce=De.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(Ce,Re){let je,Be=nullListeners,De=0,Fe=!1;function Oe(Ke){$e();const Xe=Be.subscribe(Ke);let Ye=!1;return()=>{Ye||(Ye=!0,Xe(),He())}}function ke(){Be.notify()}function Me(){qe.onStateChange&&qe.onStateChange()}function Ue(){return Fe}function $e(){De++,je||(je=Ce.subscribe(Me),Be=createListenerCollection())}function He(){De--,je&&De===0&&(je(),je=void 0,Be.clear(),Be=nullListeners)}function Qe(){Fe||(Fe=!0,$e())}function We(){Fe&&(Fe=!1,He())}const qe={addNestedSub:Oe,notifyNestedSubs:ke,handleChangeWrapper:Me,isSubscribed:Ue,trySubscribe:Qe,tryUnsubscribe:We,getListeners:()=>Be};return qe}var canUseDOM$1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM$1(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const Ce=gT[ContextKey]??=new Map;let Re=Ce.get(reactExports.createContext);return Re||(Re=reactExports.createContext(null),Ce.set(reactExports.createContext,Re)),Re}var ReactReduxContext=getContext();function Provider(Ce){const{children:Re,context:je,serverState:Be,store:De}=Ce,Fe=reactExports.useMemo(()=>{const Me=createSubscription(De);return{store:De,subscription:Me,getServerState:Be?()=>Be:void 0}},[De,Be]),Oe=reactExports.useMemo(()=>De.getState(),[De]);useIsomorphicLayoutEffect(()=>{const{subscription:Me}=Fe;return Me.onStateChange=Me.notifyNestedSubs,Me.trySubscribe(),Oe!==De.getState()&&Me.notifyNestedSubs(),()=>{Me.tryUnsubscribe(),Me.onStateChange=void 0}},[Fe,Oe]);const ke=je||ReactReduxContext;return reactExports.createElement(ke.Provider,{value:Fe},Re)}var Provider_default=Provider,pickChartPointer=(Ce,Re)=>Re,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=Ce=>{var Re=Ce.currentTarget.getBoundingClientRect(),je=Re.width/Ce.currentTarget.offsetWidth,Be=Re.height/Ce.currentTarget.offsetHeight;return{chartX:Math.round((Ce.clientX-Re.left)/je),chartY:Math.round((Ce.clientY-Re.top)/Be)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(Ce,Re)=>{var je=Ce.payload,Be=selectActivePropsFromChartPointer(Re.getState(),getChartPointer(je));Be?.activeIndex!=null&&Re.dispatch(setMouseClickAxisIndex({activeIndex:Be.activeIndex,activeDataKey:void 0,activeCoordinate:Be.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware();mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(Ce,Re)=>{var je=Ce.payload,Be=Re.getState(),De=selectTooltipEventType$1(Be,Be.tooltip.settings.shared),Fe=selectActivePropsFromChartPointer(Be,getChartPointer(je));De==="axis"&&(Fe?.activeIndex!=null?Re.dispatch(setMouseOverAxisIndex({activeIndex:Fe.activeIndex,activeDataKey:void 0,activeCoordinate:Fe.activeCoordinate})):Re.dispatch(mouseLeaveChart()))}});function reduxDevtoolsJsonStringifyReplacer(Ce,Re){return Re instanceof HTMLElement?"HTMLElement <".concat(Re.tagName,' class="').concat(Re.className,'">'):Re===window?"global.window":Re}var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(Ce,Re)=>{var je;Ce.accessibilityLayer=Re.payload.accessibilityLayer,Ce.barCategoryGap=Re.payload.barCategoryGap,Ce.barGap=(je=Re.payload.barGap)!==null&&je!==void 0?je:initialState.barGap,Ce.barSize=Re.payload.barSize,Ce.maxBarSize=Re.payload.maxBarSize,Ce.stackOffset=Re.payload.stackOffset,Ce.syncId=Re.payload.syncId,Ce.syncMethod=Re.payload.syncMethod,Ce.className=Re.payload.className}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(Ce,Re)=>Re.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(Ce,Re)=>{var je=Re.getState(),Be=je.rootProps.accessibilityLayer!==!1;if(Be){var{keyboardInteraction:De}=je.tooltip,Fe=Ce.payload;if(!(Fe!=="ArrowRight"&&Fe!=="ArrowLeft"&&Fe!=="Enter")){var Oe=Number(combineActiveTooltipIndex(De,selectTooltipDisplayedData(je))),ke=selectTooltipAxisTicks(je);if(Fe==="Enter"){var Me=selectCoordinateForDefaultIndex(je,"axis","hover",String(De.index));Re.dispatch(setKeyboardInteraction({active:!De.active,activeIndex:De.index,activeDataKey:De.dataKey,activeCoordinate:Me}));return}var Ue=selectChartDirection(je),$e=Ue==="left-to-right"?1:-1,He=Fe==="ArrowRight"?1:-1,Qe=Oe+He*$e;if(!(ke==null||Qe>=ke.length||Qe<0)){var We=selectCoordinateForDefaultIndex(je,"axis","hover",String(Qe));Re.dispatch(setKeyboardInteraction({active:!0,activeIndex:Qe.toString(),activeDataKey:void 0,activeCoordinate:We}))}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(Ce,Re)=>{var je=Re.getState(),Be=je.rootProps.accessibilityLayer!==!1;if(Be){var{keyboardInteraction:De}=je.tooltip;if(!De.active&&De.index==null){var Fe="0",Oe=selectCoordinateForDefaultIndex(je,"axis","hover",String(Fe));Re.dispatch(setKeyboardInteraction({activeDataKey:void 0,active:!0,activeIndex:Fe,activeCoordinate:Oe}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware();externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(Ce,Re)=>{if(Ce.payload.handler!=null){var je=Re.getState(),Be={activeCoordinate:selectActiveTooltipCoordinate(je),activeDataKey:selectActiveTooltipDataKey(je),activeIndex:selectActiveTooltipIndex(je),activeLabel:selectActiveLabel$1(je),activeTooltipIndex:selectActiveTooltipIndex(je),isTooltipActive:selectIsTooltipActive$1(je)};Ce.payload.handler(Be,Ce.payload.reactEvent)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],Ce=>Ce.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(Ce,Re,je)=>Re,(Ce,Re,je)=>je],(Ce,Re,je,Be)=>{var De=Ce.find(ke=>ke.settings.dataKey===Be);if(De!=null){var{positions:Fe}=De;if(Fe!=null){var Oe=Re(Fe,je);return Oe}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(Ce,Re)=>{var je=Ce.payload,Be=Re.getState(),De=selectTooltipEventType$1(Be,Be.tooltip.settings.shared);if(De==="axis"){var Fe=selectActivePropsFromChartPointer(Be,getChartPointer({clientX:je.touches[0].clientX,clientY:je.touches[0].clientY,currentTarget:je.currentTarget}));Fe?.activeIndex!=null&&Re.dispatch(setMouseOverAxisIndex({activeIndex:Fe.activeIndex,activeDataKey:void 0,activeCoordinate:Fe.activeCoordinate}))}else if(De==="item"){var Oe,ke=je.touches[0],Me=document.elementFromPoint(ke.clientX,ke.clientY);if(!Me||!Me.getAttribute)return;var Ue=Me.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),$e=(Oe=Me.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME))!==null&&Oe!==void 0?Oe:void 0,He=selectTooltipCoordinate(Re.getState(),Ue,$e);Re.dispatch(setActiveMouseOverItemIndex({activeDataKey:$e,activeIndex:Ue,activeCoordinate:He}))}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,errorBars:errorBarReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer}),createRechartsStore=function Ce(Re){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return configureStore({reducer:rootReducer,preloadedState:Re,middleware:Be=>Be({serializableCheck:!1}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware]),devTools:{serialize:{replacer:reduxDevtoolsJsonStringifyReplacer},name:"recharts-".concat(je)}})};function RechartsStoreProvider(Ce){var{preloadedState:Re,children:je,reduxStoreName:Be}=Ce,De=useIsPanorama(),Fe=reactExports.useRef(null);if(De)return je;Fe.current==null&&(Fe.current=createRechartsStore(Re,Be));var Oe=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:Oe,store:Fe.current},je)}function ReportMainChartProps(Ce){var{layout:Re,width:je,height:Be,margin:De}=Ce,Fe=useAppDispatch(),Oe=useIsPanorama();return reactExports.useEffect(()=>{Oe||(Fe(setLayout(Re)),Fe(setChartSize({width:je,height:Be})),Fe(setMargin(De)))},[Fe,Oe,Re,je,Be,De]),null}function ReportChartProps(Ce){var Re=useAppDispatch();return reactExports.useEffect(()=>{Re(updateOptions(Ce))},[Re,Ce]),null}var _excluded$9=["children"];function _objectWithoutProperties$4(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$4(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$4(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$3.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},MainChartSurface=reactExports.forwardRef((Ce,Re)=>{var je=useChartWidth(),Be=useChartHeight(),De=useAccessibilityLayer();if(!isPositiveNumber(je)||!isPositiveNumber(Be))return null;var{children:Fe,otherAttributes:Oe,title:ke,desc:Me}=Ce,Ue,$e;return typeof Oe.tabIndex=="number"?Ue=Oe.tabIndex:Ue=De?0:void 0,typeof Oe.role=="string"?$e=Oe.role:$e=De?"application":void 0,reactExports.createElement(Surface,_extends$3({},Oe,{title:ke,desc:Me,role:$e,tabIndex:Ue,width:je,height:Be,style:FULL_WIDTH_AND_HEIGHT,ref:Re}),Fe)}),BrushPanoramaSurface=Ce=>{var{children:Re}=Ce,je=useAppSelector(selectBrushDimensions);if(!je)return null;var{width:Be,height:De,y:Fe,x:Oe}=je;return reactExports.createElement(Surface,{width:Be,height:De,x:Oe,y:Fe},Re)},RootSurface=reactExports.forwardRef((Ce,Re)=>{var{children:je}=Ce,Be=_objectWithoutProperties$4(Ce,_excluded$9),De=useIsPanorama();return De?reactExports.createElement(BrushPanoramaSurface,null,je):reactExports.createElement(MainChartSurface,_extends$3({ref:Re},Be),je)});function useReportScale(){var Ce=useAppDispatch(),[Re,je]=reactExports.useState(null),Be=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(Re!=null){var De=Re.getBoundingClientRect(),Fe=De.width/Re.offsetWidth;isWellBehavedNumber(Fe)&&Fe!==Be&&Ce(setScale(Fe))}},[Re,Ce,Be]),je}function ownKeys$2(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$1(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$2(Object(je),!0).forEach(function(Be){_defineProperty$2(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$2(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty$2(Ce,Re,je){return(Re=_toPropertyKey$1(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey$1(Ce){var Re=_toPrimitive$1(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive$1(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}var RechartsWrapper=reactExports.forwardRef((Ce,Re)=>{var{children:je,className:Be,height:De,onClick:Fe,onContextMenu:Oe,onDoubleClick:ke,onMouseDown:Me,onMouseEnter:Ue,onMouseLeave:$e,onMouseMove:He,onMouseUp:Qe,onTouchEnd:We,onTouchMove:qe,onTouchStart:Ke,style:Xe,width:Ye}=Ce,Ze=useAppDispatch(),[Je,tr]=reactExports.useState(null),[rr,ar]=reactExports.useState(null);useSynchronisedEventsFromOtherCharts();var nr=useReportScale(),sr=reactExports.useCallback(yr=>{nr(yr),typeof Re=="function"&&Re(yr),tr(yr),ar(yr)},[nr,Re,tr,ar]),dr=reactExports.useCallback(yr=>{Ze(mouseClickAction(yr)),Ze(externalEventAction({handler:Fe,reactEvent:yr}))},[Ze,Fe]),_r=reactExports.useCallback(yr=>{Ze(mouseMoveAction(yr)),Ze(externalEventAction({handler:Ue,reactEvent:yr}))},[Ze,Ue]),fr=reactExports.useCallback(yr=>{Ze(mouseLeaveChart()),Ze(externalEventAction({handler:$e,reactEvent:yr}))},[Ze,$e]),or=reactExports.useCallback(yr=>{Ze(mouseMoveAction(yr)),Ze(externalEventAction({handler:He,reactEvent:yr}))},[Ze,He]),Er=reactExports.useCallback(()=>{Ze(focusAction())},[Ze]),Rr=reactExports.useCallback(yr=>{Ze(keyDownAction(yr.key))},[Ze]),jr=reactExports.useCallback(yr=>{Ze(externalEventAction({handler:Oe,reactEvent:yr}))},[Ze,Oe]),xr=reactExports.useCallback(yr=>{Ze(externalEventAction({handler:ke,reactEvent:yr}))},[Ze,ke]),Pr=reactExports.useCallback(yr=>{Ze(externalEventAction({handler:Me,reactEvent:yr}))},[Ze,Me]),br=reactExports.useCallback(yr=>{Ze(externalEventAction({handler:Qe,reactEvent:yr}))},[Ze,Qe]),wr=reactExports.useCallback(yr=>{Ze(externalEventAction({handler:Ke,reactEvent:yr}))},[Ze,Ke]),Br=reactExports.useCallback(yr=>{Ze(touchEventAction(yr)),Ze(externalEventAction({handler:qe,reactEvent:yr}))},[Ze,qe]),Lr=reactExports.useCallback(yr=>{Ze(externalEventAction({handler:We,reactEvent:yr}))},[Ze,We]);return reactExports.createElement(TooltipPortalContext.Provider,{value:Je},reactExports.createElement(LegendPortalContext.Provider,{value:rr},reactExports.createElement("div",{className:clsx("recharts-wrapper",Be),style:_objectSpread$1({position:"relative",cursor:"default",width:Ye,height:De},Xe),onClick:dr,onContextMenu:jr,onDoubleClick:xr,onFocus:Er,onKeyDown:Rr,onMouseDown:Pr,onMouseEnter:_r,onMouseLeave:fr,onMouseMove:or,onMouseUp:br,onTouchEnd:Lr,onTouchMove:Br,onTouchStart:wr,ref:sr},je)))}),_excluded$8=["children","className","width","height","style","compact","title","desc"];function _objectWithoutProperties$3(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$3(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$3(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}var CategoricalChart=reactExports.forwardRef((Ce,Re)=>{var{children:je,className:Be,width:De,height:Fe,style:Oe,compact:ke,title:Me,desc:Ue}=Ce,$e=_objectWithoutProperties$3(Ce,_excluded$8),He=svgPropertiesNoEvents($e);return ke?reactExports.createElement(RootSurface,{otherAttributes:He,title:Me,desc:Ue},je):reactExports.createElement(RechartsWrapper,{className:Be,style:Oe,width:De,height:Fe,onClick:Ce.onClick,onMouseLeave:Ce.onMouseLeave,onMouseEnter:Ce.onMouseEnter,onMouseMove:Ce.onMouseMove,onMouseDown:Ce.onMouseDown,onMouseUp:Ce.onMouseUp,onContextMenu:Ce.onContextMenu,onDoubleClick:Ce.onDoubleClick,onTouchStart:Ce.onTouchStart,onTouchMove:Ce.onTouchMove,onTouchEnd:Ce.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:He,title:Me,desc:Ue,ref:Re},reactExports.createElement(ClipPathProvider,null,je)))}),_excluded$7=["width","height"];function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$2.apply(null,arguments)}function _objectWithoutProperties$2(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$2(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}function _objectWithoutPropertiesLoose$2(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultProps$2={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index"},CartesianChart=reactExports.forwardRef(function Ce(Re,je){var Be,De=resolveDefaultProps(Re.categoricalChartProps,defaultProps$2),{width:Fe,height:Oe}=De,ke=_objectWithoutProperties$2(De,_excluded$7);if(!isPositiveNumber(Fe)||!isPositiveNumber(Oe))return null;var{chartName:Me,defaultTooltipEventType:Ue,validateTooltipEventTypes:$e,tooltipPayloadSearcher:He,categoricalChartProps:Qe}=Re,We={chartName:Me,defaultTooltipEventType:Ue,validateTooltipEventTypes:$e,tooltipPayloadSearcher:He,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:We},reduxStoreName:(Be=Qe.id)!==null&&Be!==void 0?Be:Me},reactExports.createElement(ChartDataContextProvider,{chartData:Qe.data}),reactExports.createElement(ReportMainChartProps,{width:Fe,height:Oe,layout:De.layout,margin:De.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:De.accessibilityLayer,barCategoryGap:De.barCategoryGap,maxBarSize:De.maxBarSize,stackOffset:De.stackOffset,barGap:De.barGap,barSize:De.barSize,syncId:De.syncId,syncMethod:De.syncMethod,className:De.className}),reactExports.createElement(CategoricalChart,_extends$2({},ke,{width:Fe,height:Oe,ref:je})))}),allowedTooltipTypes=["axis","item"],BarChart=reactExports.forwardRef((Ce,Re)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:Ce,ref:Re}));const millisecondsInWeek=6048e5,millisecondsInDay=864e5,constructFromSymbol=Symbol.for("constructDateFrom");function constructFrom(Ce,Re){return typeof Ce=="function"?Ce(Re):Ce&&typeof Ce=="object"&&constructFromSymbol in Ce?Ce[constructFromSymbol](Re):Ce instanceof Date?new Ce.constructor(Re):new Date(Re)}function toDate(Ce,Re){return constructFrom(Re||Ce,Ce)}function addDays(Ce,Re,je){const Be=toDate(Ce,je?.in);return isNaN(Re)?constructFrom(Ce,NaN):(Re&&Be.setDate(Be.getDate()+Re),Be)}function addMonths(Ce,Re,je){const Be=toDate(Ce,je?.in);if(isNaN(Re))return constructFrom(Ce,NaN);const De=Be.getDate(),Fe=constructFrom(Ce,Be.getTime());Fe.setMonth(Be.getMonth()+Re+1,0);const Oe=Fe.getDate();return De>=Oe?Fe:(Be.setFullYear(Fe.getFullYear(),Fe.getMonth(),De),Be)}let defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(Ce,Re){const je=getDefaultOptions(),Be=Re?.weekStartsOn??Re?.locale?.options?.weekStartsOn??je.weekStartsOn??je.locale?.options?.weekStartsOn??0,De=toDate(Ce,Re?.in),Fe=De.getDay(),Oe=(Fe<Be?7:0)+Fe-Be;return De.setDate(De.getDate()-Oe),De.setHours(0,0,0,0),De}function startOfISOWeek(Ce,Re){return startOfWeek(Ce,{...Re,weekStartsOn:1})}function getISOWeekYear(Ce,Re){const je=toDate(Ce,Re?.in),Be=je.getFullYear(),De=constructFrom(je,0);De.setFullYear(Be+1,0,4),De.setHours(0,0,0,0);const Fe=startOfISOWeek(De),Oe=constructFrom(je,0);Oe.setFullYear(Be,0,4),Oe.setHours(0,0,0,0);const ke=startOfISOWeek(Oe);return je.getTime()>=Fe.getTime()?Be+1:je.getTime()>=ke.getTime()?Be:Be-1}function getTimezoneOffsetInMilliseconds(Ce){const Re=toDate(Ce),je=new Date(Date.UTC(Re.getFullYear(),Re.getMonth(),Re.getDate(),Re.getHours(),Re.getMinutes(),Re.getSeconds(),Re.getMilliseconds()));return je.setUTCFullYear(Re.getFullYear()),+Ce-+je}function normalizeDates(Ce,...Re){const je=constructFrom.bind(null,Ce||Re.find(Be=>typeof Be=="object"));return Re.map(je)}function startOfDay(Ce,Re){const je=toDate(Ce,Re?.in);return je.setHours(0,0,0,0),je}function differenceInCalendarDays(Ce,Re,je){const[Be,De]=normalizeDates(je?.in,Ce,Re),Fe=startOfDay(Be),Oe=startOfDay(De),ke=+Fe-getTimezoneOffsetInMilliseconds(Fe),Me=+Oe-getTimezoneOffsetInMilliseconds(Oe);return Math.round((ke-Me)/millisecondsInDay)}function startOfISOWeekYear(Ce,Re){const je=getISOWeekYear(Ce,Re),Be=constructFrom(Ce,0);return Be.setFullYear(je,0,4),Be.setHours(0,0,0,0),startOfISOWeek(Be)}function constructNow(Ce){return constructFrom(Ce,Date.now())}function isSameDay(Ce,Re,je){const[Be,De]=normalizeDates(je?.in,Ce,Re);return+startOfDay(Be)==+startOfDay(De)}function isDate(Ce){return Ce instanceof Date||typeof Ce=="object"&&Object.prototype.toString.call(Ce)==="[object Date]"}function isValid(Ce){return!(!isDate(Ce)&&typeof Ce!="number"||isNaN(+toDate(Ce)))}function endOfMonth(Ce,Re){const je=toDate(Ce,Re?.in),Be=je.getMonth();return je.setFullYear(je.getFullYear(),Be+1,0),je.setHours(23,59,59,999),je}function startOfMonth(Ce,Re){const je=toDate(Ce,Re?.in);return je.setDate(1),je.setHours(0,0,0,0),je}function startOfYear(Ce,Re){const je=toDate(Ce,Re?.in);return je.setFullYear(je.getFullYear(),0,1),je.setHours(0,0,0,0),je}function endOfWeek(Ce,Re){const je=Re?.weekStartsOn,Be=toDate(Ce,Re?.in),De=Be.getDay(),Fe=(De<je?-7:0)+6-(De-je);return Be.setDate(Be.getDate()+Fe),Be.setHours(23,59,59,999),Be}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=(Ce,Re,je)=>{let Be;const De=formatDistanceLocale[Ce];return typeof De=="string"?Be=De:Re===1?Be=De.one:Be=De.other.replace("{{count}}",Re.toString()),je?.addSuffix?je.comparison&&je.comparison>0?"in "+Be:Be+" ago":Be};function buildFormatLongFn(Ce){return(Re={})=>{const je=Re.width?String(Re.width):Ce.defaultWidth;return Ce.formats[je]||Ce.formats[Ce.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(Ce,Re,je,Be)=>formatRelativeLocale[Ce];function buildLocalizeFn(Ce){return(Re,je)=>{const Be=je?.context?String(je.context):"standalone";let De;if(Be==="formatting"&&Ce.formattingValues){const Oe=Ce.defaultFormattingWidth||Ce.defaultWidth,ke=je?.width?String(je.width):Oe;De=Ce.formattingValues[ke]||Ce.formattingValues[Oe]}else{const Oe=Ce.defaultWidth,ke=je?.width?String(je.width):Ce.defaultWidth;De=Ce.values[ke]||Ce.values[Oe]}const Fe=Ce.argumentCallback?Ce.argumentCallback(Re):Re;return De[Fe]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(Ce,Re)=>{const je=Number(Ce),Be=je%100;if(Be>20||Be<10)switch(Be%10){case 1:return je+"st";case 2:return je+"nd";case 3:return je+"rd"}return je+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:Ce=>Ce-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(Ce){return(Re,je={})=>{const Be=je.width,De=Be&&Ce.matchPatterns[Be]||Ce.matchPatterns[Ce.defaultMatchWidth],Fe=Re.match(De);if(!Fe)return null;const Oe=Fe[0],ke=Be&&Ce.parsePatterns[Be]||Ce.parsePatterns[Ce.defaultParseWidth],Me=Array.isArray(ke)?findIndex(ke,He=>He.test(Oe)):findKey(ke,He=>He.test(Oe));let Ue;Ue=Ce.valueCallback?Ce.valueCallback(Me):Me,Ue=je.valueCallback?je.valueCallback(Ue):Ue;const $e=Re.slice(Oe.length);return{value:Ue,rest:$e}}}function findKey(Ce,Re){for(const je in Ce)if(Object.prototype.hasOwnProperty.call(Ce,je)&&Re(Ce[je]))return je}function findIndex(Ce,Re){for(let je=0;je<Ce.length;je++)if(Re(Ce[je]))return je}function buildMatchPatternFn(Ce){return(Re,je={})=>{const Be=Re.match(Ce.matchPattern);if(!Be)return null;const De=Be[0],Fe=Re.match(Ce.parsePattern);if(!Fe)return null;let Oe=Ce.valueCallback?Ce.valueCallback(Fe[0]):Fe[0];Oe=je.valueCallback?je.valueCallback(Oe):Oe;const ke=Re.slice(De.length);return{value:Oe,rest:ke}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$1={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:Ce=>parseInt(Ce,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:Ce=>Ce+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance,formatLong,formatRelative,localize,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(Ce,Re){const je=toDate(Ce,Re?.in);return differenceInCalendarDays(je,startOfYear(je))+1}function getISOWeek(Ce,Re){const je=toDate(Ce,Re?.in),Be=+startOfISOWeek(je)-+startOfISOWeekYear(je);return Math.round(Be/millisecondsInWeek)+1}function getWeekYear(Ce,Re){const je=toDate(Ce,Re?.in),Be=je.getFullYear(),De=getDefaultOptions(),Fe=Re?.firstWeekContainsDate??Re?.locale?.options?.firstWeekContainsDate??De.firstWeekContainsDate??De.locale?.options?.firstWeekContainsDate??1,Oe=constructFrom(Re?.in||Ce,0);Oe.setFullYear(Be+1,0,Fe),Oe.setHours(0,0,0,0);const ke=startOfWeek(Oe,Re),Me=constructFrom(Re?.in||Ce,0);Me.setFullYear(Be,0,Fe),Me.setHours(0,0,0,0);const Ue=startOfWeek(Me,Re);return+je>=+ke?Be+1:+je>=+Ue?Be:Be-1}function startOfWeekYear(Ce,Re){const je=getDefaultOptions(),Be=Re?.firstWeekContainsDate??Re?.locale?.options?.firstWeekContainsDate??je.firstWeekContainsDate??je.locale?.options?.firstWeekContainsDate??1,De=getWeekYear(Ce,Re),Fe=constructFrom(Re?.in||Ce,0);return Fe.setFullYear(De,0,Be),Fe.setHours(0,0,0,0),startOfWeek(Fe,Re)}function getWeek(Ce,Re){const je=toDate(Ce,Re?.in),Be=+startOfWeek(je,Re)-+startOfWeekYear(je,Re);return Math.round(Be/millisecondsInWeek)+1}function addLeadingZeros(Ce,Re){const je=Ce<0?"-":"",Be=Math.abs(Ce).toString().padStart(Re,"0");return je+Be}const lightFormatters={y(Ce,Re){const je=Ce.getFullYear(),Be=je>0?je:1-je;return addLeadingZeros(Re==="yy"?Be%100:Be,Re.length)},M(Ce,Re){const je=Ce.getMonth();return Re==="M"?String(je+1):addLeadingZeros(je+1,2)},d(Ce,Re){return addLeadingZeros(Ce.getDate(),Re.length)},a(Ce,Re){const je=Ce.getHours()/12>=1?"pm":"am";switch(Re){case"a":case"aa":return je.toUpperCase();case"aaa":return je;case"aaaaa":return je[0];case"aaaa":default:return je==="am"?"a.m.":"p.m."}},h(Ce,Re){return addLeadingZeros(Ce.getHours()%12||12,Re.length)},H(Ce,Re){return addLeadingZeros(Ce.getHours(),Re.length)},m(Ce,Re){return addLeadingZeros(Ce.getMinutes(),Re.length)},s(Ce,Re){return addLeadingZeros(Ce.getSeconds(),Re.length)},S(Ce,Re){const je=Re.length,Be=Ce.getMilliseconds(),De=Math.trunc(Be*Math.pow(10,je-3));return addLeadingZeros(De,Re.length)}},dayPeriodEnum={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(Ce,Re,je){const Be=Ce.getFullYear()>0?1:0;switch(Re){case"G":case"GG":case"GGG":return je.era(Be,{width:"abbreviated"});case"GGGGG":return je.era(Be,{width:"narrow"});case"GGGG":default:return je.era(Be,{width:"wide"})}},y:function(Ce,Re,je){if(Re==="yo"){const Be=Ce.getFullYear(),De=Be>0?Be:1-Be;return je.ordinalNumber(De,{unit:"year"})}return lightFormatters.y(Ce,Re)},Y:function(Ce,Re,je,Be){const De=getWeekYear(Ce,Be),Fe=De>0?De:1-De;if(Re==="YY"){const Oe=Fe%100;return addLeadingZeros(Oe,2)}return Re==="Yo"?je.ordinalNumber(Fe,{unit:"year"}):addLeadingZeros(Fe,Re.length)},R:function(Ce,Re){const je=getISOWeekYear(Ce);return addLeadingZeros(je,Re.length)},u:function(Ce,Re){const je=Ce.getFullYear();return addLeadingZeros(je,Re.length)},Q:function(Ce,Re,je){const Be=Math.ceil((Ce.getMonth()+1)/3);switch(Re){case"Q":return String(Be);case"QQ":return addLeadingZeros(Be,2);case"Qo":return je.ordinalNumber(Be,{unit:"quarter"});case"QQQ":return je.quarter(Be,{width:"abbreviated",context:"formatting"});case"QQQQQ":return je.quarter(Be,{width:"narrow",context:"formatting"});case"QQQQ":default:return je.quarter(Be,{width:"wide",context:"formatting"})}},q:function(Ce,Re,je){const Be=Math.ceil((Ce.getMonth()+1)/3);switch(Re){case"q":return String(Be);case"qq":return addLeadingZeros(Be,2);case"qo":return je.ordinalNumber(Be,{unit:"quarter"});case"qqq":return je.quarter(Be,{width:"abbreviated",context:"standalone"});case"qqqqq":return je.quarter(Be,{width:"narrow",context:"standalone"});case"qqqq":default:return je.quarter(Be,{width:"wide",context:"standalone"})}},M:function(Ce,Re,je){const Be=Ce.getMonth();switch(Re){case"M":case"MM":return lightFormatters.M(Ce,Re);case"Mo":return je.ordinalNumber(Be+1,{unit:"month"});case"MMM":return je.month(Be,{width:"abbreviated",context:"formatting"});case"MMMMM":return je.month(Be,{width:"narrow",context:"formatting"});case"MMMM":default:return je.month(Be,{width:"wide",context:"formatting"})}},L:function(Ce,Re,je){const Be=Ce.getMonth();switch(Re){case"L":return String(Be+1);case"LL":return addLeadingZeros(Be+1,2);case"Lo":return je.ordinalNumber(Be+1,{unit:"month"});case"LLL":return je.month(Be,{width:"abbreviated",context:"standalone"});case"LLLLL":return je.month(Be,{width:"narrow",context:"standalone"});case"LLLL":default:return je.month(Be,{width:"wide",context:"standalone"})}},w:function(Ce,Re,je,Be){const De=getWeek(Ce,Be);return Re==="wo"?je.ordinalNumber(De,{unit:"week"}):addLeadingZeros(De,Re.length)},I:function(Ce,Re,je){const Be=getISOWeek(Ce);return Re==="Io"?je.ordinalNumber(Be,{unit:"week"}):addLeadingZeros(Be,Re.length)},d:function(Ce,Re,je){return Re==="do"?je.ordinalNumber(Ce.getDate(),{unit:"date"}):lightFormatters.d(Ce,Re)},D:function(Ce,Re,je){const Be=getDayOfYear(Ce);return Re==="Do"?je.ordinalNumber(Be,{unit:"dayOfYear"}):addLeadingZeros(Be,Re.length)},E:function(Ce,Re,je){const Be=Ce.getDay();switch(Re){case"E":case"EE":case"EEE":return je.day(Be,{width:"abbreviated",context:"formatting"});case"EEEEE":return je.day(Be,{width:"narrow",context:"formatting"});case"EEEEEE":return je.day(Be,{width:"short",context:"formatting"});case"EEEE":default:return je.day(Be,{width:"wide",context:"formatting"})}},e:function(Ce,Re,je,Be){const De=Ce.getDay(),Fe=(De-Be.weekStartsOn+8)%7||7;switch(Re){case"e":return String(Fe);case"ee":return addLeadingZeros(Fe,2);case"eo":return je.ordinalNumber(Fe,{unit:"day"});case"eee":return je.day(De,{width:"abbreviated",context:"formatting"});case"eeeee":return je.day(De,{width:"narrow",context:"formatting"});case"eeeeee":return je.day(De,{width:"short",context:"formatting"});case"eeee":default:return je.day(De,{width:"wide",context:"formatting"})}},c:function(Ce,Re,je,Be){const De=Ce.getDay(),Fe=(De-Be.weekStartsOn+8)%7||7;switch(Re){case"c":return String(Fe);case"cc":return addLeadingZeros(Fe,Re.length);case"co":return je.ordinalNumber(Fe,{unit:"day"});case"ccc":return je.day(De,{width:"abbreviated",context:"standalone"});case"ccccc":return je.day(De,{width:"narrow",context:"standalone"});case"cccccc":return je.day(De,{width:"short",context:"standalone"});case"cccc":default:return je.day(De,{width:"wide",context:"standalone"})}},i:function(Ce,Re,je){const Be=Ce.getDay(),De=Be===0?7:Be;switch(Re){case"i":return String(De);case"ii":return addLeadingZeros(De,Re.length);case"io":return je.ordinalNumber(De,{unit:"day"});case"iii":return je.day(Be,{width:"abbreviated",context:"formatting"});case"iiiii":return je.day(Be,{width:"narrow",context:"formatting"});case"iiiiii":return je.day(Be,{width:"short",context:"formatting"});case"iiii":default:return je.day(Be,{width:"wide",context:"formatting"})}},a:function(Ce,Re,je){const De=Ce.getHours()/12>=1?"pm":"am";switch(Re){case"a":case"aa":return je.dayPeriod(De,{width:"abbreviated",context:"formatting"});case"aaa":return je.dayPeriod(De,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return je.dayPeriod(De,{width:"narrow",context:"formatting"});case"aaaa":default:return je.dayPeriod(De,{width:"wide",context:"formatting"})}},b:function(Ce,Re,je){const Be=Ce.getHours();let De;switch(Be===12?De=dayPeriodEnum.noon:Be===0?De=dayPeriodEnum.midnight:De=Be/12>=1?"pm":"am",Re){case"b":case"bb":return je.dayPeriod(De,{width:"abbreviated",context:"formatting"});case"bbb":return je.dayPeriod(De,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return je.dayPeriod(De,{width:"narrow",context:"formatting"});case"bbbb":default:return je.dayPeriod(De,{width:"wide",context:"formatting"})}},B:function(Ce,Re,je){const Be=Ce.getHours();let De;switch(Be>=17?De=dayPeriodEnum.evening:Be>=12?De=dayPeriodEnum.afternoon:Be>=4?De=dayPeriodEnum.morning:De=dayPeriodEnum.night,Re){case"B":case"BB":case"BBB":return je.dayPeriod(De,{width:"abbreviated",context:"formatting"});case"BBBBB":return je.dayPeriod(De,{width:"narrow",context:"formatting"});case"BBBB":default:return je.dayPeriod(De,{width:"wide",context:"formatting"})}},h:function(Ce,Re,je){if(Re==="ho"){let Be=Ce.getHours()%12;return Be===0&&(Be=12),je.ordinalNumber(Be,{unit:"hour"})}return lightFormatters.h(Ce,Re)},H:function(Ce,Re,je){return Re==="Ho"?je.ordinalNumber(Ce.getHours(),{unit:"hour"}):lightFormatters.H(Ce,Re)},K:function(Ce,Re,je){const Be=Ce.getHours()%12;return Re==="Ko"?je.ordinalNumber(Be,{unit:"hour"}):addLeadingZeros(Be,Re.length)},k:function(Ce,Re,je){let Be=Ce.getHours();return Be===0&&(Be=24),Re==="ko"?je.ordinalNumber(Be,{unit:"hour"}):addLeadingZeros(Be,Re.length)},m:function(Ce,Re,je){return Re==="mo"?je.ordinalNumber(Ce.getMinutes(),{unit:"minute"}):lightFormatters.m(Ce,Re)},s:function(Ce,Re,je){return Re==="so"?je.ordinalNumber(Ce.getSeconds(),{unit:"second"}):lightFormatters.s(Ce,Re)},S:function(Ce,Re){return lightFormatters.S(Ce,Re)},X:function(Ce,Re,je){const Be=Ce.getTimezoneOffset();if(Be===0)return"Z";switch(Re){case"X":return formatTimezoneWithOptionalMinutes(Be);case"XXXX":case"XX":return formatTimezone(Be);case"XXXXX":case"XXX":default:return formatTimezone(Be,":")}},x:function(Ce,Re,je){const Be=Ce.getTimezoneOffset();switch(Re){case"x":return formatTimezoneWithOptionalMinutes(Be);case"xxxx":case"xx":return formatTimezone(Be);case"xxxxx":case"xxx":default:return formatTimezone(Be,":")}},O:function(Ce,Re,je){const Be=Ce.getTimezoneOffset();switch(Re){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(Be,":");case"OOOO":default:return"GMT"+formatTimezone(Be,":")}},z:function(Ce,Re,je){const Be=Ce.getTimezoneOffset();switch(Re){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(Be,":");case"zzzz":default:return"GMT"+formatTimezone(Be,":")}},t:function(Ce,Re,je){const Be=Math.trunc(+Ce/1e3);return addLeadingZeros(Be,Re.length)},T:function(Ce,Re,je){return addLeadingZeros(+Ce,Re.length)}};function formatTimezoneShort(Ce,Re=""){const je=Ce>0?"-":"+",Be=Math.abs(Ce),De=Math.trunc(Be/60),Fe=Be%60;return Fe===0?je+String(De):je+String(De)+Re+addLeadingZeros(Fe,2)}function formatTimezoneWithOptionalMinutes(Ce,Re){return Ce%60===0?(Ce>0?"-":"+")+addLeadingZeros(Math.abs(Ce)/60,2):formatTimezone(Ce,Re)}function formatTimezone(Ce,Re=""){const je=Ce>0?"-":"+",Be=Math.abs(Ce),De=addLeadingZeros(Math.trunc(Be/60),2),Fe=addLeadingZeros(Be%60,2);return je+De+Re+Fe}const dateLongFormatter=(Ce,Re)=>{switch(Ce){case"P":return Re.date({width:"short"});case"PP":return Re.date({width:"medium"});case"PPP":return Re.date({width:"long"});case"PPPP":default:return Re.date({width:"full"})}},timeLongFormatter=(Ce,Re)=>{switch(Ce){case"p":return Re.time({width:"short"});case"pp":return Re.time({width:"medium"});case"ppp":return Re.time({width:"long"});case"pppp":default:return Re.time({width:"full"})}},dateTimeLongFormatter=(Ce,Re)=>{const je=Ce.match(/(P+)(p+)?/)||[],Be=je[1],De=je[2];if(!De)return dateLongFormatter(Ce,Re);let Fe;switch(Be){case"P":Fe=Re.dateTime({width:"short"});break;case"PP":Fe=Re.dateTime({width:"medium"});break;case"PPP":Fe=Re.dateTime({width:"long"});break;case"PPPP":default:Fe=Re.dateTime({width:"full"});break}return Fe.replace("{{date}}",dateLongFormatter(Be,Re)).replace("{{time}}",timeLongFormatter(De,Re))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(Ce){return dayOfYearTokenRE.test(Ce)}function isProtectedWeekYearToken(Ce){return weekYearTokenRE.test(Ce)}function warnOrThrowProtectedError(Ce,Re,je){const Be=message(Ce,Re,je);if(console.warn(Be),throwTokens.includes(Ce))throw new RangeError(Be)}function message(Ce,Re,je){const Be=Ce[0]==="Y"?"years":"days of the month";return`Use \`${Ce.toLowerCase()}\` instead of \`${Ce}\` (in \`${Re}\`) for formatting ${Be} to the input \`${je}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(Ce,Re,je){const Be=getDefaultOptions(),De=Be.locale??enUS,Fe=Be.firstWeekContainsDate??Be.locale?.options?.firstWeekContainsDate??1,Oe=Be.weekStartsOn??Be.locale?.options?.weekStartsOn??0,ke=toDate(Ce,je?.in);if(!isValid(ke))throw new RangeError("Invalid time value");let Me=Re.match(longFormattingTokensRegExp).map($e=>{const He=$e[0];if(He==="p"||He==="P"){const Qe=longFormatters[He];return Qe($e,De.formatLong)}return $e}).join("").match(formattingTokensRegExp).map($e=>{if($e==="''")return{isToken:!1,value:"'"};const He=$e[0];if(He==="'")return{isToken:!1,value:cleanEscapedString($e)};if(formatters[He])return{isToken:!0,value:$e};if(He.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+He+"`");return{isToken:!1,value:$e}});De.localize.preprocessor&&(Me=De.localize.preprocessor(ke,Me));const Ue={firstWeekContainsDate:Fe,weekStartsOn:Oe,locale:De};return Me.map($e=>{if(!$e.isToken)return $e.value;const He=$e.value;(isProtectedWeekYearToken(He)||isProtectedDayOfYearToken(He))&&warnOrThrowProtectedError(He,Re,String(Ce));const Qe=formatters[He[0]];return Qe(ke,He,De.localize,Ue)}).join("")}function cleanEscapedString(Ce){const Re=Ce.match(escapedStringRegExp);return Re?Re[1].replace(doubleQuoteRegExp,"'"):Ce}function isSameWeek(Ce,Re,je){const[Be,De]=normalizeDates(je?.in,Ce,Re);return+startOfWeek(Be,je)==+startOfWeek(De,je)}function isSameMonth(Ce,Re,je){const[Be,De]=normalizeDates(je?.in,Ce,Re);return Be.getFullYear()===De.getFullYear()&&Be.getMonth()===De.getMonth()}function isSameYear(Ce,Re,je){const[Be,De]=normalizeDates(je?.in,Ce,Re);return Be.getFullYear()===De.getFullYear()}function isThisMonth(Ce,Re){return isSameMonth(constructFrom(Ce,Ce),constructNow(Ce))}function isThisWeek(Ce,Re){return isSameWeek(constructFrom(Re?.in||Ce,Ce),constructNow(Re?.in||Ce),Re)}function isThisYear(Ce,Re){return isSameYear(constructFrom(Ce,Ce),constructNow(Ce))}function isToday(Ce,Re){return isSameDay(constructFrom(Ce,Ce),constructNow(Ce))}function isWithinInterval(Ce,Re,je){const Be=+toDate(Ce,je?.in),[De,Fe]=[+toDate(Re.start,je?.in),+toDate(Re.end,je?.in)].sort((Oe,ke)=>Oe-ke);return Be>=De&&Be<=Fe}function subDays(Ce,Re,je){return addDays(Ce,-Re,je)}function subMonths(Ce,Re,je){return addMonths(Ce,-3,je)}const RevenueOverview=()=>{const[Ce,Re]=reactExports.useState([]),{selectedProduct:je,selectedDate:Be,setSelectedDate:De,setSelectedProduct:Fe}=useAnalyticsFilter(),[Oe,ke]=reactExports.useState(null),[Me,Ue]=reactExports.useState("all"),[$e,He]=reactExports.useState(null),[Qe,We]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{try{const ar=auth$2.currentUser;if(!ar)return;const nr=collection(db$2,"businesses",ar.uid,"finalizedInvoices"),sr=await getDocs(nr),dr=[];sr.forEach(_r=>{const fr=_r.data();fr.totalAmount&&dr.push(fr)}),Re(dr)}catch(ar){console.error("Error fetching revenue data:",ar)}})()},[]),reactExports.useEffect(()=>{He(null),We([])},[je,Be]);const qe=Ce.filter(rr=>{let ar;rr.issuedAt?.toDate?ar=rr.issuedAt.toDate():typeof rr.issuedAt=="string"&&(ar=new Date(rr.issuedAt));let nr=!0;if(Be&&(nr=ar&&!isNaN(ar)&&format(ar,"yyyy-MM-dd")===Be),Me==="today")nr=isToday(ar);else if(Me==="week")nr=isThisWeek(ar,{weekStartsOn:1});else if(Me==="month")nr=isThisMonth(ar);else if(Me==="quarter"){const dr=subMonths(new Date);nr=isWithinInterval(ar,{start:dr,end:new Date})}else Me==="year"&&(nr=isThisYear(ar));const sr=je?Array.isArray(rr.cartItems)&&rr.cartItems.some(dr=>dr.sku===je):!0;return nr&&sr}),Ke=qe.reduce((rr,ar)=>ar.paymentMode==="credit"&&!ar.isPaid?rr:rr+parseFloat(ar.totalAmount||0),0),Xe=qe.filter(rr=>rr.paymentMode!=="credit"||rr.paymentMode==="credit"&&rr.isPaid).length,Ye={cash:0,upi:0,card:0},Ze={};qe.forEach(rr=>{if(rr.paymentMode==="credit"&&!rr.isPaid)return;const ar=parseFloat(rr.totalAmount||0),nr=rr.paymentMode?.toLowerCase();if(nr==="split"){const _r=rr.splitPayment||{};Ye.cash+=parseFloat(_r.cash||0),Ye.upi+=parseFloat(_r.upi||0),Ye.card+=parseFloat(_r.card||0)}else if(nr==="credit"&&rr.isPaid){const _r=rr.paidVia?.toLowerCase();_r==="cash"?Ye.cash+=ar:_r==="upi"?Ye.upi+=ar:_r==="card"&&(Ye.card+=ar)}else["cash","upi","card"].includes(nr)&&(Ye[nr]+=ar);let sr;if(rr.issuedAt?.toDate?sr=rr.issuedAt.toDate():typeof rr.issuedAt=="string"&&(sr=new Date(rr.issuedAt)),!sr||isNaN(sr))return;const dr=format(sr,"yyyy-MM-dd");Ze[dr]||(Ze[dr]=0),Ze[dr]+=ar});const Je=Object.entries(Ze).map(([rr,ar])=>({date:rr,revenue:ar})).sort((rr,ar)=>new Date(rr.date)-new Date(ar.date));for(let rr=1;rr<Je.length;rr++){const ar=Je[rr-1].revenue,sr=Je[rr].revenue-ar,dr=ar===0?100:sr/ar*100;Je[rr].changeAmount=sr,Je[rr].changePercent=dr.toFixed(1),Je[rr].changeColor=sr>0?"#10b981":sr<0?"#ef4444":"#9ca3af"}Je.length===0&&Je.push({date:format(new Date,"yyyy-MM-dd"),revenue:0}),reactExports.useEffect(()=>{if($e!==null)if($e<Je.length){const rr=setTimeout(()=>{We(Je.slice(0,$e+1)),He(ar=>ar+1)},300);return()=>clearTimeout(rr)}else He(null)},[$e,Je]);const tr=({active:rr,payload:ar,label:nr})=>{if(rr&&ar&&ar.length){const sr=Je.find(_r=>_r.date===nr);if(!sr)return null;const dr=sr.changeAmount>=0?"+":"";return jsxRuntimeExports.jsxs("div",{className:"bg-white shadow rounded px-3 py-2 border text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:nr}),jsxRuntimeExports.jsxs("p",{children:["Revenue: ",sr.revenue.toFixed(2)]}),sr.changeAmount!==void 0&&jsxRuntimeExports.jsxs("p",{style:{color:sr.changeColor},children:["Growth: ",`${dr}${sr.changeAmount}`," (",`${dr}${sr.changePercent}%`,")"]})]})}return null};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Revenue Overview"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Total Revenue:"})," ",Ke.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Total Invoices:"})," ",Xe]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Today's Revenue:"})," ",Je[Je.length-1]?.revenue.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Yesterday's Revenue:"})," ",Je[Je.length-2]?.revenue.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Growth:"})," ",(()=>{const rr=Je[Je.length-1]?.revenue||0,ar=Je[Je.length-2]?.revenue||0,nr=rr-ar,sr=ar===0?100:nr/ar*100,dr=nr>=0?"+":"";return`${dr}${nr.toFixed(2)} (${dr}${sr.toFixed(1)}%)`})()]})]}),jsxRuntimeExports.jsxs("div",{className:"md:w-1/2",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:"Revenue by Payment Mode:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside",children:[jsxRuntimeExports.jsxs("li",{children:["Cash: ",Ye.cash.toFixed(2)," (",(Ye.cash/Ke*100).toFixed(1),"%)"]}),jsxRuntimeExports.jsxs("li",{children:["UPI: ",Ye.upi.toFixed(2)," (",(Ye.upi/Ke*100).toFixed(1),"%)"]}),jsxRuntimeExports.jsxs("li",{children:["Card: ",Ye.card.toFixed(2)," (",(Ye.card/Ke*100).toFixed(1),"%)"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4 gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{We([]),He(0)},className:"px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition",children:" Play Animation"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{className:"font-medium",children:"Sort by Time Period:"}),jsxRuntimeExports.jsxs("select",{className:"border px-2 py-1 rounded text-sm",value:Me,onChange:rr=>{Ue(rr.target.value),He(null),We([])},children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Time"}),jsxRuntimeExports.jsx("option",{value:"today",children:"Today"}),jsxRuntimeExports.jsx("option",{value:"week",children:"This Week"}),jsxRuntimeExports.jsx("option",{value:"month",children:"This Month"}),jsxRuntimeExports.jsx("option",{value:"quarter",children:"This Quarter"}),jsxRuntimeExports.jsx("option",{value:"year",children:"This Year"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx("div",{style:{width:"100%",height:300},children:jsxRuntimeExports.jsx(ResponsiveContainer,{children:jsxRuntimeExports.jsxs(BarChart,{data:Qe.length>0?Qe:Je,onClick:({activeLabel:rr})=>{rr&&(De(rr),ke(rr))},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"date",label:{value:"Date",position:"insideBottom",offset:-5}}),jsxRuntimeExports.jsx(YAxis,{label:{value:"Revenue",angle:-90,position:"insideLeft"}}),jsxRuntimeExports.jsx(Tooltip,{content:jsxRuntimeExports.jsx(tr,{})}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"revenue",fill:"#4f46e5",radius:[4,4,0,0]}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,dot:{r:4},label:({index:rr,x:ar,y:nr})=>{const sr=Je[rr];if(!sr||sr.date!==Oe)return null;const dr=sr.changeAmount>=0?"+":"";return jsxRuntimeExports.jsx("text",{x:ar,y:nr-10,fill:sr.changeColor,fontSize:12,textAnchor:"middle",children:`${dr}${sr.changeAmount} (${dr}${sr.changePercent}%)`})}})]})})})})]})};function toPrimitive(Ce,Re){if(_typeof(Ce)!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(_typeof(Be)!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function toPropertyKey(Ce){var Re=toPrimitive(Ce,"string");return _typeof(Re)=="symbol"?Re:Re+""}function _defineProperty$1(Ce,Re,je){return(Re=toPropertyKey(Re))in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function ownKeys$1(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread2(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys$1(Object(je),!0).forEach(function(Be){_defineProperty$1(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys$1(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _arrayWithHoles(Ce){if(Array.isArray(Ce))return Ce}function _iterableToArrayLimit(Ce,Re){var je=Ce==null?null:typeof Symbol<"u"&&Ce[Symbol.iterator]||Ce["@@iterator"];if(je!=null){var Be,De,Fe,Oe,ke=[],Me=!0,Ue=!1;try{if(Fe=(je=je.call(Ce)).next,Re===0){if(Object(je)!==je)return;Me=!1}else for(;!(Me=(Be=Fe.call(je)).done)&&(ke.push(Be.value),ke.length!==Re);Me=!0);}catch($e){Ue=!0,De=$e}finally{try{if(!Me&&je.return!=null&&(Oe=je.return(),Object(Oe)!==Oe))return}finally{if(Ue)throw De}}return ke}}function _arrayLikeToArray(Ce,Re){(Re==null||Re>Ce.length)&&(Re=Ce.length);for(var je=0,Be=Array(Re);je<Re;je++)Be[je]=Ce[je];return Be}function _unsupportedIterableToArray(Ce,Re){if(Ce){if(typeof Ce=="string")return _arrayLikeToArray(Ce,Re);var je={}.toString.call(Ce).slice(8,-1);return je==="Object"&&Ce.constructor&&(je=Ce.constructor.name),je==="Map"||je==="Set"?Array.from(Ce):je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(je)?_arrayLikeToArray(Ce,Re):void 0}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(Ce,Re){return _arrayWithHoles(Ce)||_iterableToArrayLimit(Ce,Re)||_unsupportedIterableToArray(Ce,Re)||_nonIterableRest()}function _objectWithoutPropertiesLoose$1(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)!==-1)continue;je[Be]=Ce[Be]}return je}function _objectWithoutProperties$1(Ce,Re){if(Ce==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$1(Ce,Re);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Re.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Ce,je)&&(De[je]=Ce[je])}return De}var _excluded$6=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function useStateManager(Ce){var Re=Ce.defaultInputValue,je=Re===void 0?"":Re,Be=Ce.defaultMenuIsOpen,De=Be===void 0?!1:Be,Fe=Ce.defaultValue,Oe=Fe===void 0?null:Fe,ke=Ce.inputValue,Me=Ce.menuIsOpen,Ue=Ce.onChange,$e=Ce.onInputChange,He=Ce.onMenuClose,Qe=Ce.onMenuOpen,We=Ce.value,qe=_objectWithoutProperties$1(Ce,_excluded$6),Ke=reactExports.useState(ke!==void 0?ke:je),Xe=_slicedToArray(Ke,2),Ye=Xe[0],Ze=Xe[1],Je=reactExports.useState(Me!==void 0?Me:De),tr=_slicedToArray(Je,2),rr=tr[0],ar=tr[1],nr=reactExports.useState(We!==void 0?We:Oe),sr=_slicedToArray(nr,2),dr=sr[0],_r=sr[1],fr=reactExports.useCallback(function(br,wr){typeof Ue=="function"&&Ue(br,wr),_r(br)},[Ue]),or=reactExports.useCallback(function(br,wr){var Br;typeof $e=="function"&&(Br=$e(br,wr)),Ze(Br!==void 0?Br:br)},[$e]),Er=reactExports.useCallback(function(){typeof Qe=="function"&&Qe(),ar(!0)},[Qe]),Rr=reactExports.useCallback(function(){typeof He=="function"&&He(),ar(!1)},[He]),jr=ke!==void 0?ke:Ye,xr=Me!==void 0?Me:rr,Pr=We!==void 0?We:dr;return _objectSpread2(_objectSpread2({},qe),{},{inputValue:jr,menuIsOpen:xr,onChange:fr,onInputChange:or,onMenuClose:Rr,onMenuOpen:Er,value:Pr})}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends$1.apply(null,arguments)}function _classCallCheck(Ce,Re){if(!(Ce instanceof Re))throw new TypeError("Cannot call a class as a function")}function _defineProperties(Ce,Re){for(var je=0;je<Re.length;je++){var Be=Re[je];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(Ce,toPropertyKey(Be.key),Be)}}function _createClass(Ce,Re,je){return Re&&_defineProperties(Ce.prototype,Re),je&&_defineProperties(Ce,je),Object.defineProperty(Ce,"prototype",{writable:!1}),Ce}function _setPrototypeOf(Ce,Re){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(je,Be){return je.__proto__=Be,je},_setPrototypeOf(Ce,Re)}function _inherits(Ce,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Super expression must either be null or a function");Ce.prototype=Object.create(Re&&Re.prototype,{constructor:{value:Ce,writable:!0,configurable:!0}}),Object.defineProperty(Ce,"prototype",{writable:!1}),Re&&_setPrototypeOf(Ce,Re)}function _getPrototypeOf(Ce){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Re){return Re.__proto__||Object.getPrototypeOf(Re)},_getPrototypeOf(Ce)}function _isNativeReflectConstruct(){try{var Ce=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!Ce})()}function _assertThisInitialized(Ce){if(Ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ce}function _possibleConstructorReturn(Ce,Re){if(Re&&(_typeof(Re)=="object"||typeof Re=="function"))return Re;if(Re!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(Ce)}function _createSuper(Ce){var Re=_isNativeReflectConstruct();return function(){var je,Be=_getPrototypeOf(Ce);if(Re){var De=_getPrototypeOf(this).constructor;je=Reflect.construct(Be,arguments,De)}else je=Be.apply(this,arguments);return _possibleConstructorReturn(this,je)}}function _arrayWithoutHoles(Ce){if(Array.isArray(Ce))return _arrayLikeToArray(Ce)}function _iterableToArray(Ce){if(typeof Symbol<"u"&&Ce[Symbol.iterator]!=null||Ce["@@iterator"]!=null)return Array.from(Ce)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(Ce){return _arrayWithoutHoles(Ce)||_iterableToArray(Ce)||_unsupportedIterableToArray(Ce)||_nonIterableSpread()}function sheetForTag(Ce){if(Ce.sheet)return Ce.sheet;for(var Re=0;Re<document.styleSheets.length;Re++)if(document.styleSheets[Re].ownerNode===Ce)return document.styleSheets[Re]}function createStyleElement(Ce){var Re=document.createElement("style");return Re.setAttribute("data-emotion",Ce.key),Ce.nonce!==void 0&&Re.setAttribute("nonce",Ce.nonce),Re.appendChild(document.createTextNode("")),Re.setAttribute("data-s",""),Re}var StyleSheet=(function(){function Ce(je){var Be=this;this._insertTag=function(De){var Fe;Be.tags.length===0?Be.insertionPoint?Fe=Be.insertionPoint.nextSibling:Be.prepend?Fe=Be.container.firstChild:Fe=Be.before:Fe=Be.tags[Be.tags.length-1].nextSibling,Be.container.insertBefore(De,Fe),Be.tags.push(De)},this.isSpeedy=je.speedy===void 0?!0:je.speedy,this.tags=[],this.ctr=0,this.nonce=je.nonce,this.key=je.key,this.container=je.container,this.prepend=je.prepend,this.insertionPoint=je.insertionPoint,this.before=null}var Re=Ce.prototype;return Re.hydrate=function(Be){Be.forEach(this._insertTag)},Re.insert=function(Be){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var De=this.tags[this.tags.length-1];if(this.isSpeedy){var Fe=sheetForTag(De);try{Fe.insertRule(Be,Fe.cssRules.length)}catch{}}else De.appendChild(document.createTextNode(Be));this.ctr++},Re.flush=function(){this.tags.forEach(function(Be){var De;return(De=Be.parentNode)==null?void 0:De.removeChild(Be)}),this.tags=[],this.ctr=0},Ce})(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(Ce,Re){return charat(Ce,0)^45?(((Re<<2^charat(Ce,0))<<2^charat(Ce,1))<<2^charat(Ce,2))<<2^charat(Ce,3):0}function trim(Ce){return Ce.trim()}function match(Ce,Re){return(Ce=Re.exec(Ce))?Ce[0]:Ce}function replace(Ce,Re,je){return Ce.replace(Re,je)}function indexof(Ce,Re){return Ce.indexOf(Re)}function charat(Ce,Re){return Ce.charCodeAt(Re)|0}function substr(Ce,Re,je){return Ce.slice(Re,je)}function strlen(Ce){return Ce.length}function sizeof(Ce){return Ce.length}function append(Ce,Re){return Re.push(Ce),Ce}function combine(Ce,Re){return Ce.map(Re).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(Ce,Re,je,Be,De,Fe,Oe){return{value:Ce,root:Re,parent:je,type:Be,props:De,children:Fe,line,column,length:Oe,return:""}}function copy(Ce,Re){return assign(node("",null,null,"",null,null,0),Ce,{length:-Ce.length},Re)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(Ce,Re){return substr(characters,Ce,Re)}function token(Ce){switch(Ce){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(Ce){return line=column=1,length=strlen(characters=Ce),position=0,[]}function dealloc(Ce){return characters="",Ce}function delimit(Ce){return trim(slice(position-1,delimiter(Ce===91?Ce+2:Ce===40?Ce+1:Ce)))}function whitespace(Ce){for(;(character=peek())&&character<33;)next();return token(Ce)>2||token(character)>3?"":" "}function escaping(Ce,Re){for(;--Re&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(Ce,caret()+(Re<6&&peek()==32&&next()==32))}function delimiter(Ce){for(;next();)switch(character){case Ce:return position;case 34:case 39:Ce!==34&&Ce!==39&&delimiter(character);break;case 40:Ce===41&&delimiter(Ce);break;case 92:next();break}return position}function commenter(Ce,Re){for(;next()&&Ce+character!==57;)if(Ce+character===84&&peek()===47)break;return"/*"+slice(Re,position-1)+"*"+from(Ce===47?Ce:next())}function identifier(Ce){for(;!token(peek());)next();return slice(Ce,position)}function compile(Ce){return dealloc(parse("",null,null,null,[""],Ce=alloc(Ce),0,[0],Ce))}function parse(Ce,Re,je,Be,De,Fe,Oe,ke,Me){for(var Ue=0,$e=0,He=Oe,Qe=0,We=0,qe=0,Ke=1,Xe=1,Ye=1,Ze=0,Je="",tr=De,rr=Fe,ar=Be,nr=Je;Xe;)switch(qe=Ze,Ze=next()){case 40:if(qe!=108&&charat(nr,He-1)==58){indexof(nr+=replace(delimit(Ze),"&","&\f"),"&\f")!=-1&&(Ye=-1);break}case 34:case 39:case 91:nr+=delimit(Ze);break;case 9:case 10:case 13:case 32:nr+=whitespace(qe);break;case 92:nr+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),Re,je),Me);break;default:nr+="/"}break;case 123*Ke:ke[Ue++]=strlen(nr)*Ye;case 125*Ke:case 59:case 0:switch(Ze){case 0:case 125:Xe=0;case 59+$e:Ye==-1&&(nr=replace(nr,/\f/g,"")),We>0&&strlen(nr)-He&&append(We>32?declaration(nr+";",Be,je,He-1):declaration(replace(nr," ","")+";",Be,je,He-2),Me);break;case 59:nr+=";";default:if(append(ar=ruleset(nr,Re,je,Ue,$e,De,ke,Je,tr=[],rr=[],He),Fe),Ze===123)if($e===0)parse(nr,Re,ar,ar,tr,Fe,He,ke,rr);else switch(Qe===99&&charat(nr,3)===110?100:Qe){case 100:case 108:case 109:case 115:parse(Ce,ar,ar,Be&&append(ruleset(Ce,ar,ar,0,0,De,ke,Je,De,tr=[],He),rr),De,rr,He,ke,Be?tr:rr);break;default:parse(nr,ar,ar,ar,[""],rr,0,ke,rr)}}Ue=$e=We=0,Ke=Ye=1,Je=nr="",He=Oe;break;case 58:He=1+strlen(nr),We=qe;default:if(Ke<1){if(Ze==123)--Ke;else if(Ze==125&&Ke++==0&&prev()==125)continue}switch(nr+=from(Ze),Ze*Ke){case 38:Ye=$e>0?1:(nr+="\f",-1);break;case 44:ke[Ue++]=(strlen(nr)-1)*Ye,Ye=1;break;case 64:peek()===45&&(nr+=delimit(next())),Qe=peek(),$e=He=strlen(Je=nr+=identifier(caret())),Ze++;break;case 45:qe===45&&strlen(nr)==2&&(Ke=0)}}return Fe}function ruleset(Ce,Re,je,Be,De,Fe,Oe,ke,Me,Ue,$e){for(var He=De-1,Qe=De===0?Fe:[""],We=sizeof(Qe),qe=0,Ke=0,Xe=0;qe<Be;++qe)for(var Ye=0,Ze=substr(Ce,He+1,He=abs(Ke=Oe[qe])),Je=Ce;Ye<We;++Ye)(Je=trim(Ke>0?Qe[Ye]+" "+Ze:replace(Ze,/&\f/g,Qe[Ye])))&&(Me[Xe++]=Je);return node(Ce,Re,je,De===0?RULESET:ke,Me,Ue,$e)}function comment(Ce,Re,je){return node(Ce,Re,je,COMMENT,from(char()),substr(Ce,2,-2),0)}function declaration(Ce,Re,je,Be){return node(Ce,Re,je,DECLARATION,substr(Ce,0,Be),substr(Ce,Be+1,-1),Be)}function serialize(Ce,Re){for(var je="",Be=sizeof(Ce),De=0;De<Be;De++)je+=Re(Ce[De],De,Ce,Re)||"";return je}function stringify(Ce,Re,je,Be){switch(Ce.type){case LAYER:if(Ce.children.length)break;case IMPORT:case DECLARATION:return Ce.return=Ce.return||Ce.value;case COMMENT:return"";case KEYFRAMES:return Ce.return=Ce.value+"{"+serialize(Ce.children,Be)+"}";case RULESET:Ce.value=Ce.props.join(",")}return strlen(je=serialize(Ce.children,Be))?Ce.return=Ce.value+"{"+je+"}":""}function middleware(Ce){var Re=sizeof(Ce);return function(je,Be,De,Fe){for(var Oe="",ke=0;ke<Re;ke++)Oe+=Ce[ke](je,Be,De,Fe)||"";return Oe}}function rulesheet(Ce){return function(Re){Re.root||(Re=Re.return)&&Ce(Re)}}function memoize$1(Ce){var Re=Object.create(null);return function(je){return Re[je]===void 0&&(Re[je]=Ce(je)),Re[je]}}var identifierWithPointTracking=function Ce(Re,je,Be){for(var De=0,Fe=0;De=Fe,Fe=peek(),De===38&&Fe===12&&(je[Be]=1),!token(Fe);)next();return slice(Re,position)},toRules=function Ce(Re,je){var Be=-1,De=44;do switch(token(De)){case 0:De===38&&peek()===12&&(je[Be]=1),Re[Be]+=identifierWithPointTracking(position-1,je,Be);break;case 2:Re[Be]+=delimit(De);break;case 4:if(De===44){Re[++Be]=peek()===58?"&\f":"",je[Be]=Re[Be].length;break}default:Re[Be]+=from(De)}while(De=next());return Re},getRules=function Ce(Re,je){return dealloc(toRules(alloc(Re),je))},fixedElements=new WeakMap,compat=function Ce(Re){if(!(Re.type!=="rule"||!Re.parent||Re.length<1)){for(var je=Re.value,Be=Re.parent,De=Re.column===Be.column&&Re.line===Be.line;Be.type!=="rule";)if(Be=Be.parent,!Be)return;if(!(Re.props.length===1&&je.charCodeAt(0)!==58&&!fixedElements.get(Be))&&!De){fixedElements.set(Re,!0);for(var Fe=[],Oe=getRules(je,Fe),ke=Be.props,Me=0,Ue=0;Me<Oe.length;Me++)for(var $e=0;$e<ke.length;$e++,Ue++)Re.props[Ue]=Fe[Me]?Oe[Me].replace(/&\f/g,ke[$e]):ke[$e]+" "+Oe[Me]}}},removeLabel=function Ce(Re){if(Re.type==="decl"){var je=Re.value;je.charCodeAt(0)===108&&je.charCodeAt(2)===98&&(Re.return="",Re.value="")}};function prefix(Ce,Re){switch(hash(Ce,Re)){case 5103:return WEBKIT+"print-"+Ce+Ce;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+Ce+Ce;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+Ce+MOZ+Ce+MS+Ce+Ce;case 6828:case 4268:return WEBKIT+Ce+MS+Ce+Ce;case 6165:return WEBKIT+Ce+MS+"flex-"+Ce+Ce;case 5187:return WEBKIT+Ce+replace(Ce,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+Ce;case 5443:return WEBKIT+Ce+MS+"flex-item-"+replace(Ce,/flex-|-self/,"")+Ce;case 4675:return WEBKIT+Ce+MS+"flex-line-pack"+replace(Ce,/align-content|flex-|-self/,"")+Ce;case 5548:return WEBKIT+Ce+MS+replace(Ce,"shrink","negative")+Ce;case 5292:return WEBKIT+Ce+MS+replace(Ce,"basis","preferred-size")+Ce;case 6060:return WEBKIT+"box-"+replace(Ce,"-grow","")+WEBKIT+Ce+MS+replace(Ce,"grow","positive")+Ce;case 4554:return WEBKIT+replace(Ce,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+Ce;case 6187:return replace(replace(replace(Ce,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),Ce,"")+Ce;case 5495:case 3959:return replace(Ce,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(Ce,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+Ce+Ce;case 4095:case 3583:case 4068:case 2532:return replace(Ce,/(.+)-inline(.+)/,WEBKIT+"$1$2")+Ce;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(Ce)-1-Re>6)switch(charat(Ce,Re+1)){case 109:if(charat(Ce,Re+4)!==45)break;case 102:return replace(Ce,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(Ce,Re+3)==108?"$3":"$2-$3"))+Ce;case 115:return~indexof(Ce,"stretch")?prefix(replace(Ce,"stretch","fill-available"),Re)+Ce:Ce}break;case 4949:if(charat(Ce,Re+1)!==115)break;case 6444:switch(charat(Ce,strlen(Ce)-3-(~indexof(Ce,"!important")&&10))){case 107:return replace(Ce,":",":"+WEBKIT)+Ce;case 101:return replace(Ce,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(Ce,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+Ce}break;case 5936:switch(charat(Ce,Re+11)){case 114:return WEBKIT+Ce+MS+replace(Ce,/[svh]\w+-[tblr]{2}/,"tb")+Ce;case 108:return WEBKIT+Ce+MS+replace(Ce,/[svh]\w+-[tblr]{2}/,"tb-rl")+Ce;case 45:return WEBKIT+Ce+MS+replace(Ce,/[svh]\w+-[tblr]{2}/,"lr")+Ce}return WEBKIT+Ce+MS+Ce+Ce}return Ce}var prefixer=function Ce(Re,je,Be,De){if(Re.length>-1&&!Re.return)switch(Re.type){case DECLARATION:Re.return=prefix(Re.value,Re.length);break;case KEYFRAMES:return serialize([copy(Re,{value:replace(Re.value,"@","@"+WEBKIT)})],De);case RULESET:if(Re.length)return combine(Re.props,function(Fe){switch(match(Fe,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(Re,{props:[replace(Fe,/:(read-\w+)/,":"+MOZ+"$1")]})],De);case"::placeholder":return serialize([copy(Re,{props:[replace(Fe,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(Re,{props:[replace(Fe,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(Re,{props:[replace(Fe,/:(plac\w+)/,MS+"input-$1")]})],De)}return""})}},defaultStylisPlugins=[prefixer],createCache=function Ce(Re){var je=Re.key;if(je==="css"){var Be=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(Be,function(Ke){var Xe=Ke.getAttribute("data-emotion");Xe.indexOf(" ")!==-1&&(document.head.appendChild(Ke),Ke.setAttribute("data-s",""))})}var De=Re.stylisPlugins||defaultStylisPlugins,Fe={},Oe,ke=[];Oe=Re.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+je+' "]'),function(Ke){for(var Xe=Ke.getAttribute("data-emotion").split(" "),Ye=1;Ye<Xe.length;Ye++)Fe[Xe[Ye]]=!0;ke.push(Ke)});var Me,Ue=[compat,removeLabel];{var $e,He=[stringify,rulesheet(function(Ke){$e.insert(Ke)})],Qe=middleware(Ue.concat(De,He)),We=function(Xe){return serialize(compile(Xe),Qe)};Me=function(Xe,Ye,Ze,Je){$e=Ze,We(Xe?Xe+"{"+Ye.styles+"}":Ye.styles),Je&&(qe.inserted[Ye.name]=!0)}}var qe={key:je,sheet:new StyleSheet({key:je,container:Oe,nonce:Re.nonce,speedy:Re.speedy,prepend:Re.prepend,insertionPoint:Re.insertionPoint}),nonce:Re.nonce,inserted:Fe,registered:{},insert:Me};return qe.sheet.hydrate(ke),qe},reactIs={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var Ce=typeof Symbol=="function"&&Symbol.for,Re=Ce?Symbol.for("react.element"):60103,je=Ce?Symbol.for("react.portal"):60106,Be=Ce?Symbol.for("react.fragment"):60107,De=Ce?Symbol.for("react.strict_mode"):60108,Fe=Ce?Symbol.for("react.profiler"):60114,Oe=Ce?Symbol.for("react.provider"):60109,ke=Ce?Symbol.for("react.context"):60110,Me=Ce?Symbol.for("react.async_mode"):60111,Ue=Ce?Symbol.for("react.concurrent_mode"):60111,$e=Ce?Symbol.for("react.forward_ref"):60112,He=Ce?Symbol.for("react.suspense"):60113,Qe=Ce?Symbol.for("react.suspense_list"):60120,We=Ce?Symbol.for("react.memo"):60115,qe=Ce?Symbol.for("react.lazy"):60116,Ke=Ce?Symbol.for("react.block"):60121,Xe=Ce?Symbol.for("react.fundamental"):60117,Ye=Ce?Symbol.for("react.responder"):60118,Ze=Ce?Symbol.for("react.scope"):60119;function Je(rr){if(typeof rr=="object"&&rr!==null){var ar=rr.$$typeof;switch(ar){case Re:switch(rr=rr.type,rr){case Me:case Ue:case Be:case Fe:case De:case He:return rr;default:switch(rr=rr&&rr.$$typeof,rr){case ke:case $e:case qe:case We:case Oe:return rr;default:return ar}}case je:return ar}}}function tr(rr){return Je(rr)===Ue}return reactIs_production_min.AsyncMode=Me,reactIs_production_min.ConcurrentMode=Ue,reactIs_production_min.ContextConsumer=ke,reactIs_production_min.ContextProvider=Oe,reactIs_production_min.Element=Re,reactIs_production_min.ForwardRef=$e,reactIs_production_min.Fragment=Be,reactIs_production_min.Lazy=qe,reactIs_production_min.Memo=We,reactIs_production_min.Portal=je,reactIs_production_min.Profiler=Fe,reactIs_production_min.StrictMode=De,reactIs_production_min.Suspense=He,reactIs_production_min.isAsyncMode=function(rr){return tr(rr)||Je(rr)===Me},reactIs_production_min.isConcurrentMode=tr,reactIs_production_min.isContextConsumer=function(rr){return Je(rr)===ke},reactIs_production_min.isContextProvider=function(rr){return Je(rr)===Oe},reactIs_production_min.isElement=function(rr){return typeof rr=="object"&&rr!==null&&rr.$$typeof===Re},reactIs_production_min.isForwardRef=function(rr){return Je(rr)===$e},reactIs_production_min.isFragment=function(rr){return Je(rr)===Be},reactIs_production_min.isLazy=function(rr){return Je(rr)===qe},reactIs_production_min.isMemo=function(rr){return Je(rr)===We},reactIs_production_min.isPortal=function(rr){return Je(rr)===je},reactIs_production_min.isProfiler=function(rr){return Je(rr)===Fe},reactIs_production_min.isStrictMode=function(rr){return Je(rr)===De},reactIs_production_min.isSuspense=function(rr){return Je(rr)===He},reactIs_production_min.isValidElementType=function(rr){return typeof rr=="string"||typeof rr=="function"||rr===Be||rr===Ue||rr===Fe||rr===De||rr===He||rr===Qe||typeof rr=="object"&&rr!==null&&(rr.$$typeof===qe||rr.$$typeof===We||rr.$$typeof===Oe||rr.$$typeof===ke||rr.$$typeof===$e||rr.$$typeof===Xe||rr.$$typeof===Ye||rr.$$typeof===Ze||rr.$$typeof===Ke)},reactIs_production_min.typeOf=Je,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var hoistNonReactStatics_cjs,hasRequiredHoistNonReactStatics_cjs;function requireHoistNonReactStatics_cjs(){if(hasRequiredHoistNonReactStatics_cjs)return hoistNonReactStatics_cjs;hasRequiredHoistNonReactStatics_cjs=1;var Ce=requireReactIs(),Re={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},je={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Be={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},De={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Fe={};Fe[Ce.ForwardRef]=Be,Fe[Ce.Memo]=De;function Oe(qe){return Ce.isMemo(qe)?De:Fe[qe.$$typeof]||Re}var ke=Object.defineProperty,Me=Object.getOwnPropertyNames,Ue=Object.getOwnPropertySymbols,$e=Object.getOwnPropertyDescriptor,He=Object.getPrototypeOf,Qe=Object.prototype;function We(qe,Ke,Xe){if(typeof Ke!="string"){if(Qe){var Ye=He(Ke);Ye&&Ye!==Qe&&We(qe,Ye,Xe)}var Ze=Me(Ke);Ue&&(Ze=Ze.concat(Ue(Ke)));for(var Je=Oe(qe),tr=Oe(Ke),rr=0;rr<Ze.length;++rr){var ar=Ze[rr];if(!je[ar]&&!(Xe&&Xe[ar])&&!(tr&&tr[ar])&&!(Je&&Je[ar])){var nr=$e(Ke,ar);try{ke(qe,ar,nr)}catch{}}}}return qe}return hoistNonReactStatics_cjs=We,hoistNonReactStatics_cjs}requireHoistNonReactStatics_cjs();var isBrowser=!0;function getRegisteredStyles(Ce,Re,je){var Be="";return je.split(" ").forEach(function(De){Ce[De]!==void 0?Re.push(Ce[De]+";"):De&&(Be+=De+" ")}),Be}var registerStyles=function Ce(Re,je,Be){var De=Re.key+"-"+je.name;(Be===!1||isBrowser===!1)&&Re.registered[De]===void 0&&(Re.registered[De]=je.styles)},insertStyles=function Ce(Re,je,Be){registerStyles(Re,je,Be);var De=Re.key+"-"+je.name;if(Re.inserted[je.name]===void 0){var Fe=je;do Re.insert(je===Fe?"."+De:"",Fe,Re.sheet,!0),Fe=Fe.next;while(Fe!==void 0)}};function murmur2(Ce){for(var Re=0,je,Be=0,De=Ce.length;De>=4;++Be,De-=4)je=Ce.charCodeAt(Be)&255|(Ce.charCodeAt(++Be)&255)<<8|(Ce.charCodeAt(++Be)&255)<<16|(Ce.charCodeAt(++Be)&255)<<24,je=(je&65535)*1540483477+((je>>>16)*59797<<16),je^=je>>>24,Re=(je&65535)*1540483477+((je>>>16)*59797<<16)^(Re&65535)*1540483477+((Re>>>16)*59797<<16);switch(De){case 3:Re^=(Ce.charCodeAt(Be+2)&255)<<16;case 2:Re^=(Ce.charCodeAt(Be+1)&255)<<8;case 1:Re^=Ce.charCodeAt(Be)&255,Re=(Re&65535)*1540483477+((Re>>>16)*59797<<16)}return Re^=Re>>>13,Re=(Re&65535)*1540483477+((Re>>>16)*59797<<16),((Re^Re>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function Ce(Re){return Re.charCodeAt(1)===45},isProcessableValue=function Ce(Re){return Re!=null&&typeof Re!="boolean"},processStyleName=memoize$1(function(Ce){return isCustomProperty(Ce)?Ce:Ce.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function Ce(Re,je){switch(Re){case"animation":case"animationName":if(typeof je=="string")return je.replace(animationRegex,function(Be,De,Fe){return cursor={name:De,styles:Fe,next:cursor},De})}return unitlessKeys[Re]!==1&&!isCustomProperty(Re)&&typeof je=="number"&&je!==0?je+"px":je};function handleInterpolation(Ce,Re,je){if(je==null)return"";var Be=je;if(Be.__emotion_styles!==void 0)return Be;switch(typeof je){case"boolean":return"";case"object":{var De=je;if(De.anim===1)return cursor={name:De.name,styles:De.styles,next:cursor},De.name;var Fe=je;if(Fe.styles!==void 0){var Oe=Fe.next;if(Oe!==void 0)for(;Oe!==void 0;)cursor={name:Oe.name,styles:Oe.styles,next:cursor},Oe=Oe.next;var ke=Fe.styles+";";return ke}return createStringFromObject(Ce,Re,je)}case"function":{if(Ce!==void 0){var Me=cursor,Ue=je(Ce);return cursor=Me,handleInterpolation(Ce,Re,Ue)}break}}var $e=je;if(Re==null)return $e;var He=Re[$e];return He!==void 0?He:$e}function createStringFromObject(Ce,Re,je){var Be="";if(Array.isArray(je))for(var De=0;De<je.length;De++)Be+=handleInterpolation(Ce,Re,je[De])+";";else for(var Fe in je){var Oe=je[Fe];if(typeof Oe!="object"){var ke=Oe;Re!=null&&Re[ke]!==void 0?Be+=Fe+"{"+Re[ke]+"}":isProcessableValue(ke)&&(Be+=processStyleName(Fe)+":"+processStyleValue(Fe,ke)+";")}else if(Array.isArray(Oe)&&typeof Oe[0]=="string"&&(Re==null||Re[Oe[0]]===void 0))for(var Me=0;Me<Oe.length;Me++)isProcessableValue(Oe[Me])&&(Be+=processStyleName(Fe)+":"+processStyleValue(Fe,Oe[Me])+";");else{var Ue=handleInterpolation(Ce,Re,Oe);switch(Fe){case"animation":case"animationName":{Be+=processStyleName(Fe)+":"+Ue+";";break}default:Be+=Fe+"{"+Ue+"}"}}}return Be}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(Ce,Re,je){if(Ce.length===1&&typeof Ce[0]=="object"&&Ce[0]!==null&&Ce[0].styles!==void 0)return Ce[0];var Be=!0,De="";cursor=void 0;var Fe=Ce[0];if(Fe==null||Fe.raw===void 0)Be=!1,De+=handleInterpolation(je,Re,Fe);else{var Oe=Fe;De+=Oe[0]}for(var ke=1;ke<Ce.length;ke++)if(De+=handleInterpolation(je,Re,Ce[ke]),Be){var Me=Fe;De+=Me[ke]}labelPattern.lastIndex=0;for(var Ue="",$e;($e=labelPattern.exec(De))!==null;)Ue+="-"+$e[1];var He=murmur2(De)+Ue;return{name:He,styles:De,next:cursor}}var syncFallback=function Ce(Re){return Re()},useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function Ce(Re){return reactExports.forwardRef(function(je,Be){var De=reactExports.useContext(EmotionCacheContext);return Re(je,De,Be)})},ThemeContext=reactExports.createContext({}),hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function Ce(Re,je){var Be={};for(var De in je)hasOwn.call(je,De)&&(Be[De]=je[De]);return Be[typePropName]=Re,Be},Insertion$1=function Ce(Re){var je=Re.cache,Be=Re.serialized,De=Re.isStringTag;return registerStyles(je,Be,De),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(je,Be,De)}),null},Emotion=withEmotionCache(function(Ce,Re,je){var Be=Ce.css;typeof Be=="string"&&Re.registered[Be]!==void 0&&(Be=Re.registered[Be]);var De=Ce[typePropName],Fe=[Be],Oe="";typeof Ce.className=="string"?Oe=getRegisteredStyles(Re.registered,Fe,Ce.className):Ce.className!=null&&(Oe=Ce.className+" ");var ke=serializeStyles(Fe,void 0,reactExports.useContext(ThemeContext));Oe+=Re.key+"-"+ke.name;var Me={};for(var Ue in Ce)hasOwn.call(Ce,Ue)&&Ue!=="css"&&Ue!==typePropName&&(Me[Ue]=Ce[Ue]);return Me.className=Oe,je&&(Me.ref=je),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:Re,serialized:ke,isStringTag:typeof De=="string"}),reactExports.createElement(De,Me))}),Emotion$1=Emotion,jsx=function Ce(Re,je){var Be=arguments;if(je==null||!hasOwn.call(je,"css"))return reactExports.createElement.apply(void 0,Be);var De=Be.length,Fe=new Array(De);Fe[0]=Emotion$1,Fe[1]=createEmotionProps(Re,je);for(var Oe=2;Oe<De;Oe++)Fe[Oe]=Be[Oe];return reactExports.createElement.apply(null,Fe)};(function(Ce){var Re;Re||(Re=Ce.JSX||(Ce.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(Ce,Re){var je=Ce.styles,Be=serializeStyles([je],void 0,reactExports.useContext(ThemeContext)),De=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var Fe=Re.key+"-global",Oe=new Re.sheet.constructor({key:Fe,nonce:Re.sheet.nonce,container:Re.sheet.container,speedy:Re.sheet.isSpeedy}),ke=!1,Me=document.querySelector('style[data-emotion="'+Fe+" "+Be.name+'"]');return Re.sheet.tags.length&&(Oe.before=Re.sheet.tags[0]),Me!==null&&(ke=!0,Me.setAttribute("data-emotion",Fe),Oe.hydrate([Me])),De.current=[Oe,ke],function(){Oe.flush()}},[Re]),useInsertionEffectWithLayoutFallback(function(){var Fe=De.current,Oe=Fe[0],ke=Fe[1];if(ke){Fe[1]=!1;return}if(Be.next!==void 0&&insertStyles(Re,Be.next,!0),Oe.tags.length){var Me=Oe.tags[Oe.tags.length-1].nextElementSibling;Oe.before=Me,Oe.flush()}Re.insert("",Be,Oe,!1)},[Re,Be.name]),null});function css(){for(var Ce=arguments.length,Re=new Array(Ce),je=0;je<Ce;je++)Re[je]=arguments[je];return serializeStyles(Re)}function keyframes(){var Ce=css.apply(void 0,arguments),Re="animation-"+Ce.name;return{name:Re,styles:"@keyframes "+Re+"{"+Ce.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function _taggedTemplateLiteral(Ce,Re){return Re||(Re=Ce.slice(0)),Object.freeze(Object.defineProperties(Ce,{raw:{value:Object.freeze(Re)}}))}const min=Math.min,max=Math.max,round$1=Math.round,floor=Math.floor,createCoords=Ce=>({x:Ce,y:Ce});function rectToClientRect(Ce){const{x:Re,y:je,width:Be,height:De}=Ce;return{width:Be,height:De,top:je,left:Re,right:Re+Be,bottom:je+De,x:Re,y:je}}function hasWindow(){return typeof window<"u"}function getNodeName(Ce){return isNode(Ce)?(Ce.nodeName||"").toLowerCase():"#document"}function getWindow(Ce){var Re;return(Ce==null||(Re=Ce.ownerDocument)==null?void 0:Re.defaultView)||window}function getDocumentElement(Ce){var Re;return(Re=(isNode(Ce)?Ce.ownerDocument:Ce.document)||window.document)==null?void 0:Re.documentElement}function isNode(Ce){return hasWindow()?Ce instanceof Node||Ce instanceof getWindow(Ce).Node:!1}function isElement(Ce){return hasWindow()?Ce instanceof Element||Ce instanceof getWindow(Ce).Element:!1}function isHTMLElement(Ce){return hasWindow()?Ce instanceof HTMLElement||Ce instanceof getWindow(Ce).HTMLElement:!1}function isShadowRoot(Ce){return!hasWindow()||typeof ShadowRoot>"u"?!1:Ce instanceof ShadowRoot||Ce instanceof getWindow(Ce).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(Ce){const{overflow:Re,overflowX:je,overflowY:Be,display:De}=getComputedStyle$1(Ce);return/auto|scroll|overlay|hidden|clip/.test(Re+Be+je)&&!invalidOverflowDisplayValues.has(De)}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(Ce){return lastTraversableNodeNames.has(getNodeName(Ce))}function getComputedStyle$1(Ce){return getWindow(Ce).getComputedStyle(Ce)}function getParentNode(Ce){if(getNodeName(Ce)==="html")return Ce;const Re=Ce.assignedSlot||Ce.parentNode||isShadowRoot(Ce)&&Ce.host||getDocumentElement(Ce);return isShadowRoot(Re)?Re.host:Re}function getNearestOverflowAncestor(Ce){const Re=getParentNode(Ce);return isLastTraversableNode(Re)?Ce.ownerDocument?Ce.ownerDocument.body:Ce.body:isHTMLElement(Re)&&isOverflowElement(Re)?Re:getNearestOverflowAncestor(Re)}function getOverflowAncestors(Ce,Re,je){var Be;Re===void 0&&(Re=[]),je===void 0&&(je=!0);const De=getNearestOverflowAncestor(Ce),Fe=De===((Be=Ce.ownerDocument)==null?void 0:Be.body),Oe=getWindow(De);if(Fe){const ke=getFrameElement(Oe);return Re.concat(Oe,Oe.visualViewport||[],isOverflowElement(De)?De:[],ke&&je?getOverflowAncestors(ke):[])}return Re.concat(De,getOverflowAncestors(De,[],je))}function getFrameElement(Ce){return Ce.parent&&Object.getPrototypeOf(Ce.parent)?Ce.frameElement:null}function getCssDimensions(Ce){const Re=getComputedStyle$1(Ce);let je=parseFloat(Re.width)||0,Be=parseFloat(Re.height)||0;const De=isHTMLElement(Ce),Fe=De?Ce.offsetWidth:je,Oe=De?Ce.offsetHeight:Be,ke=round$1(je)!==Fe||round$1(Be)!==Oe;return ke&&(je=Fe,Be=Oe),{width:je,height:Be,$:ke}}function unwrapElement(Ce){return isElement(Ce)?Ce:Ce.contextElement}function getScale$1(Ce){const Re=unwrapElement(Ce);if(!isHTMLElement(Re))return createCoords(1);const je=Re.getBoundingClientRect(),{width:Be,height:De,$:Fe}=getCssDimensions(Re);let Oe=(Fe?round$1(je.width):je.width)/Be,ke=(Fe?round$1(je.height):je.height)/De;return(!Oe||!Number.isFinite(Oe))&&(Oe=1),(!ke||!Number.isFinite(ke))&&(ke=1),{x:Oe,y:ke}}const noOffsets=createCoords(0);function getVisualOffsets(Ce){const Re=getWindow(Ce);return!isWebKit()||!Re.visualViewport?noOffsets:{x:Re.visualViewport.offsetLeft,y:Re.visualViewport.offsetTop}}function shouldAddVisualOffsets(Ce,Re,je){return!1}function getBoundingClientRect(Ce,Re,je,Be){Re===void 0&&(Re=!1);const De=Ce.getBoundingClientRect(),Fe=unwrapElement(Ce);let Oe=createCoords(1);Re&&(Oe=getScale$1(Ce));const ke=shouldAddVisualOffsets()?getVisualOffsets(Fe):createCoords(0);let Me=(De.left+ke.x)/Oe.x,Ue=(De.top+ke.y)/Oe.y,$e=De.width/Oe.x,He=De.height/Oe.y;if(Fe){const Qe=getWindow(Fe),We=Be;let qe=Qe,Ke=getFrameElement(qe);for(;Ke&&Be&&We!==qe;){const Xe=getScale$1(Ke),Ye=Ke.getBoundingClientRect(),Ze=getComputedStyle$1(Ke),Je=Ye.left+(Ke.clientLeft+parseFloat(Ze.paddingLeft))*Xe.x,tr=Ye.top+(Ke.clientTop+parseFloat(Ze.paddingTop))*Xe.y;Me*=Xe.x,Ue*=Xe.y,$e*=Xe.x,He*=Xe.y,Me+=Je,Ue+=tr,qe=getWindow(Ke),Ke=getFrameElement(qe)}}return rectToClientRect({width:$e,height:He,x:Me,y:Ue})}function rectsAreEqual(Ce,Re){return Ce.x===Re.x&&Ce.y===Re.y&&Ce.width===Re.width&&Ce.height===Re.height}function observeMove(Ce,Re){let je=null,Be;const De=getDocumentElement(Ce);function Fe(){var ke;clearTimeout(Be),(ke=je)==null||ke.disconnect(),je=null}function Oe(ke,Me){ke===void 0&&(ke=!1),Me===void 0&&(Me=1),Fe();const Ue=Ce.getBoundingClientRect(),{left:$e,top:He,width:Qe,height:We}=Ue;if(ke||Re(),!Qe||!We)return;const qe=floor(He),Ke=floor(De.clientWidth-($e+Qe)),Xe=floor(De.clientHeight-(He+We)),Ye=floor($e),Je={rootMargin:-qe+"px "+-Ke+"px "+-Xe+"px "+-Ye+"px",threshold:max(0,min(1,Me))||1};let tr=!0;function rr(ar){const nr=ar[0].intersectionRatio;if(nr!==Me){if(!tr)return Oe();nr?Oe(!1,nr):Be=setTimeout(()=>{Oe(!1,1e-7)},1e3)}nr===1&&!rectsAreEqual(Ue,Ce.getBoundingClientRect())&&Oe(),tr=!1}try{je=new IntersectionObserver(rr,{...Je,root:De.ownerDocument})}catch{je=new IntersectionObserver(rr,Je)}je.observe(Ce)}return Oe(!0),Fe}function autoUpdate(Ce,Re,je,Be){Be===void 0&&(Be={});const{ancestorScroll:De=!0,ancestorResize:Fe=!0,elementResize:Oe=typeof ResizeObserver=="function",layoutShift:ke=typeof IntersectionObserver=="function",animationFrame:Me=!1}=Be,Ue=unwrapElement(Ce),$e=De||Fe?[...Ue?getOverflowAncestors(Ue):[],...getOverflowAncestors(Re)]:[];$e.forEach(Ye=>{De&&Ye.addEventListener("scroll",je,{passive:!0}),Fe&&Ye.addEventListener("resize",je)});const He=Ue&&ke?observeMove(Ue,je):null;let Qe=-1,We=null;Oe&&(We=new ResizeObserver(Ye=>{let[Ze]=Ye;Ze&&Ze.target===Ue&&We&&(We.unobserve(Re),cancelAnimationFrame(Qe),Qe=requestAnimationFrame(()=>{var Je;(Je=We)==null||Je.observe(Re)})),je()}),Ue&&!Me&&We.observe(Ue),We.observe(Re));let qe,Ke=Me?getBoundingClientRect(Ce):null;Me&&Xe();function Xe(){const Ye=getBoundingClientRect(Ce);Ke&&!rectsAreEqual(Ke,Ye)&&je(),Ke=Ye,qe=requestAnimationFrame(Xe)}return je(),()=>{var Ye;$e.forEach(Ze=>{De&&Ze.removeEventListener("scroll",je),Fe&&Ze.removeEventListener("resize",je)}),He?.(),(Ye=We)==null||Ye.disconnect(),We=null,Me&&cancelAnimationFrame(qe)}}var index=reactExports.useLayoutEffect,_excluded$4=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],noop$2=function Ce(){};function applyPrefixToName(Ce,Re){return Re?Re[0]==="-"?Ce+Re:Ce+"__"+Re:Ce}function classNames(Ce,Re){for(var je=arguments.length,Be=new Array(je>2?je-2:0),De=2;De<je;De++)Be[De-2]=arguments[De];var Fe=[].concat(Be);if(Re&&Ce)for(var Oe in Re)Re.hasOwnProperty(Oe)&&Re[Oe]&&Fe.push("".concat(applyPrefixToName(Ce,Oe)));return Fe.filter(function(ke){return ke}).map(function(ke){return String(ke).trim()}).join(" ")}var cleanValue=function Ce(Re){return isArray(Re)?Re.filter(Boolean):_typeof(Re)==="object"&&Re!==null?[Re]:[]},cleanCommonProps=function Ce(Re){Re.className,Re.clearValue,Re.cx,Re.getStyles,Re.getClassNames,Re.getValue,Re.hasValue,Re.isMulti,Re.isRtl,Re.options,Re.selectOption,Re.selectProps,Re.setValue,Re.theme;var je=_objectWithoutProperties$1(Re,_excluded$4);return _objectSpread2({},je)},getStyleProps=function Ce(Re,je,Be){var De=Re.cx,Fe=Re.getStyles,Oe=Re.getClassNames,ke=Re.className;return{css:Fe(je,Re),className:De(Be??{},Oe(je,Re),ke)}};function isDocumentElement(Ce){return[document.documentElement,document.body,window].indexOf(Ce)>-1}function normalizedHeight(Ce){return isDocumentElement(Ce)?window.innerHeight:Ce.clientHeight}function getScrollTop(Ce){return isDocumentElement(Ce)?window.pageYOffset:Ce.scrollTop}function scrollTo(Ce,Re){if(isDocumentElement(Ce)){window.scrollTo(0,Re);return}Ce.scrollTop=Re}function getScrollParent(Ce){var Re=getComputedStyle(Ce),je=Re.position==="absolute",Be=/(auto|scroll)/;if(Re.position==="fixed")return document.documentElement;for(var De=Ce;De=De.parentElement;)if(Re=getComputedStyle(De),!(je&&Re.position==="static")&&Be.test(Re.overflow+Re.overflowY+Re.overflowX))return De;return document.documentElement}function easeOutCubic(Ce,Re,je,Be){return je*((Ce=Ce/Be-1)*Ce*Ce+1)+Re}function animatedScrollTo(Ce,Re){var je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,Be=arguments.length>3&&arguments[3]!==void 0?arguments[3]:noop$2,De=getScrollTop(Ce),Fe=Re-De,Oe=10,ke=0;function Me(){ke+=Oe;var Ue=easeOutCubic(ke,De,Fe,je);scrollTo(Ce,Ue),ke<je?window.requestAnimationFrame(Me):Be(Ce)}Me()}function scrollIntoView(Ce,Re){var je=Ce.getBoundingClientRect(),Be=Re.getBoundingClientRect(),De=Re.offsetHeight/3;Be.bottom+De>je.bottom?scrollTo(Ce,Math.min(Re.offsetTop+Re.clientHeight-Ce.offsetHeight+De,Ce.scrollHeight)):Be.top-De<je.top&&scrollTo(Ce,Math.max(Re.offsetTop-De,0))}function getBoundingClientObj(Ce){var Re=Ce.getBoundingClientRect();return{bottom:Re.bottom,height:Re.height,left:Re.left,right:Re.right,top:Re.top,width:Re.width}}function isTouchCapable(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function isMobileDevice(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var passiveOptionAccessed=!1,options={get passive(){return passiveOptionAccessed=!0}},w=typeof window<"u"?window:{};w.addEventListener&&w.removeEventListener&&(w.addEventListener("p",noop$2,options),w.removeEventListener("p",noop$2,!1));var supportsPassiveEvents=passiveOptionAccessed;function notNullish(Ce){return Ce!=null}function isArray(Ce){return Array.isArray(Ce)}function valueTernary(Ce,Re,je){return Ce?Re:je}function singleValueAsValue(Ce){return Ce}function multiValueAsValue(Ce){return Ce}var removeProps=function Ce(Re){for(var je=arguments.length,Be=new Array(je>1?je-1:0),De=1;De<je;De++)Be[De-1]=arguments[De];var Fe=Object.entries(Re).filter(function(Oe){var ke=_slicedToArray(Oe,1),Me=ke[0];return!Be.includes(Me)});return Fe.reduce(function(Oe,ke){var Me=_slicedToArray(ke,2),Ue=Me[0],$e=Me[1];return Oe[Ue]=$e,Oe},{})},_excluded$3=["children","innerProps"],_excluded2$1=["children","innerProps"];function getMenuPlacement(Ce){var Re=Ce.maxHeight,je=Ce.menuEl,Be=Ce.minHeight,De=Ce.placement,Fe=Ce.shouldScroll,Oe=Ce.isFixedPosition,ke=Ce.controlHeight,Me=getScrollParent(je),Ue={placement:"bottom",maxHeight:Re};if(!je||!je.offsetParent)return Ue;var $e=Me.getBoundingClientRect(),He=$e.height,Qe=je.getBoundingClientRect(),We=Qe.bottom,qe=Qe.height,Ke=Qe.top,Xe=je.offsetParent.getBoundingClientRect(),Ye=Xe.top,Ze=Oe?window.innerHeight:normalizedHeight(Me),Je=getScrollTop(Me),tr=parseInt(getComputedStyle(je).marginBottom,10),rr=parseInt(getComputedStyle(je).marginTop,10),ar=Ye-rr,nr=Ze-Ke,sr=ar+Je,dr=He-Je-Ke,_r=We-Ze+Je+tr,fr=Je+Ke-rr,or=160;switch(De){case"auto":case"bottom":if(nr>=qe)return{placement:"bottom",maxHeight:Re};if(dr>=qe&&!Oe)return Fe&&animatedScrollTo(Me,_r,or),{placement:"bottom",maxHeight:Re};if(!Oe&&dr>=Be||Oe&&nr>=Be){Fe&&animatedScrollTo(Me,_r,or);var Er=Oe?nr-tr:dr-tr;return{placement:"bottom",maxHeight:Er}}if(De==="auto"||Oe){var Rr=Re,jr=Oe?ar:sr;return jr>=Be&&(Rr=Math.min(jr-tr-ke,Re)),{placement:"top",maxHeight:Rr}}if(De==="bottom")return Fe&&scrollTo(Me,_r),{placement:"bottom",maxHeight:Re};break;case"top":if(ar>=qe)return{placement:"top",maxHeight:Re};if(sr>=qe&&!Oe)return Fe&&animatedScrollTo(Me,fr,or),{placement:"top",maxHeight:Re};if(!Oe&&sr>=Be||Oe&&ar>=Be){var xr=Re;return(!Oe&&sr>=Be||Oe&&ar>=Be)&&(xr=Oe?ar-rr:sr-rr),Fe&&animatedScrollTo(Me,fr,or),{placement:"top",maxHeight:xr}}return{placement:"bottom",maxHeight:Re};default:throw new Error('Invalid placement provided "'.concat(De,'".'))}return Ue}function alignToControl(Ce){var Re={bottom:"top",top:"bottom"};return Ce?Re[Ce]:"bottom"}var coercePlacement=function Ce(Re){return Re==="auto"?"bottom":Re},menuCSS=function Ce(Re,je){var Be,De=Re.placement,Fe=Re.theme,Oe=Fe.borderRadius,ke=Fe.spacing,Me=Fe.colors;return _objectSpread2((Be={label:"menu"},_defineProperty$1(Be,alignToControl(De),"100%"),_defineProperty$1(Be,"position","absolute"),_defineProperty$1(Be,"width","100%"),_defineProperty$1(Be,"zIndex",1),Be),je?{}:{backgroundColor:Me.neutral0,borderRadius:Oe,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:ke.menuGutter,marginTop:ke.menuGutter})},PortalPlacementContext=reactExports.createContext(null),MenuPlacer=function Ce(Re){var je=Re.children,Be=Re.minMenuHeight,De=Re.maxMenuHeight,Fe=Re.menuPlacement,Oe=Re.menuPosition,ke=Re.menuShouldScrollIntoView,Me=Re.theme,Ue=reactExports.useContext(PortalPlacementContext)||{},$e=Ue.setPortalPlacement,He=reactExports.useRef(null),Qe=reactExports.useState(De),We=_slicedToArray(Qe,2),qe=We[0],Ke=We[1],Xe=reactExports.useState(null),Ye=_slicedToArray(Xe,2),Ze=Ye[0],Je=Ye[1],tr=Me.spacing.controlHeight;return index(function(){var rr=He.current;if(rr){var ar=Oe==="fixed",nr=ke&&!ar,sr=getMenuPlacement({maxHeight:De,menuEl:rr,minHeight:Be,placement:Fe,shouldScroll:nr,isFixedPosition:ar,controlHeight:tr});Ke(sr.maxHeight),Je(sr.placement),$e?.(sr.placement)}},[De,Fe,Oe,ke,Be,$e,tr]),je({ref:He,placerProps:_objectSpread2(_objectSpread2({},Re),{},{placement:Ze||coercePlacement(Fe),maxHeight:qe})})},Menu$1=function Ce(Re){var je=Re.children,Be=Re.innerRef,De=Re.innerProps;return jsx("div",_extends$1({},getStyleProps(Re,"menu",{menu:!0}),{ref:Be},De),je)},Menu$1$1=Menu$1,menuListCSS=function Ce(Re,je){var Be=Re.maxHeight,De=Re.theme.spacing.baseUnit;return _objectSpread2({maxHeight:Be,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},je?{}:{paddingBottom:De,paddingTop:De})},MenuList$1=function Ce(Re){var je=Re.children,Be=Re.innerProps,De=Re.innerRef,Fe=Re.isMulti;return jsx("div",_extends$1({},getStyleProps(Re,"menuList",{"menu-list":!0,"menu-list--is-multi":Fe}),{ref:De},Be),je)},noticeCSS=function Ce(Re,je){var Be=Re.theme,De=Be.spacing.baseUnit,Fe=Be.colors;return _objectSpread2({textAlign:"center"},je?{}:{color:Fe.neutral40,padding:"".concat(De*2,"px ").concat(De*3,"px")})},noOptionsMessageCSS=noticeCSS,loadingMessageCSS=noticeCSS,NoOptionsMessage=function Ce(Re){var je=Re.children,Be=je===void 0?"No options":je,De=Re.innerProps,Fe=_objectWithoutProperties$1(Re,_excluded$3);return jsx("div",_extends$1({},getStyleProps(_objectSpread2(_objectSpread2({},Fe),{},{children:Be,innerProps:De}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),De),Be)},LoadingMessage=function Ce(Re){var je=Re.children,Be=je===void 0?"Loading...":je,De=Re.innerProps,Fe=_objectWithoutProperties$1(Re,_excluded2$1);return jsx("div",_extends$1({},getStyleProps(_objectSpread2(_objectSpread2({},Fe),{},{children:Be,innerProps:De}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),De),Be)},menuPortalCSS=function Ce(Re){var je=Re.rect,Be=Re.offset,De=Re.position;return{left:je.left,position:De,top:Be,width:je.width,zIndex:1}},MenuPortal=function Ce(Re){var je=Re.appendTo,Be=Re.children,De=Re.controlElement,Fe=Re.innerProps,Oe=Re.menuPlacement,ke=Re.menuPosition,Me=reactExports.useRef(null),Ue=reactExports.useRef(null),$e=reactExports.useState(coercePlacement(Oe)),He=_slicedToArray($e,2),Qe=He[0],We=He[1],qe=reactExports.useMemo(function(){return{setPortalPlacement:We}},[]),Ke=reactExports.useState(null),Xe=_slicedToArray(Ke,2),Ye=Xe[0],Ze=Xe[1],Je=reactExports.useCallback(function(){if(De){var nr=getBoundingClientObj(De),sr=ke==="fixed"?0:window.pageYOffset,dr=nr[Qe]+sr;(dr!==Ye?.offset||nr.left!==Ye?.rect.left||nr.width!==Ye?.rect.width)&&Ze({offset:dr,rect:nr})}},[De,ke,Qe,Ye?.offset,Ye?.rect.left,Ye?.rect.width]);index(function(){Je()},[Je]);var tr=reactExports.useCallback(function(){typeof Ue.current=="function"&&(Ue.current(),Ue.current=null),De&&Me.current&&(Ue.current=autoUpdate(De,Me.current,Je,{elementResize:"ResizeObserver"in window}))},[De,Je]);index(function(){tr()},[tr]);var rr=reactExports.useCallback(function(nr){Me.current=nr,tr()},[tr]);if(!je&&ke!=="fixed"||!Ye)return null;var ar=jsx("div",_extends$1({ref:rr},getStyleProps(_objectSpread2(_objectSpread2({},Re),{},{offset:Ye.offset,position:ke,rect:Ye.rect}),"menuPortal",{"menu-portal":!0}),Fe),Be);return jsx(PortalPlacementContext.Provider,{value:qe},je?reactDomExports.createPortal(ar,je):ar)},containerCSS=function Ce(Re){var je=Re.isDisabled,Be=Re.isRtl;return{label:"container",direction:Be?"rtl":void 0,pointerEvents:je?"none":void 0,position:"relative"}},SelectContainer=function Ce(Re){var je=Re.children,Be=Re.innerProps,De=Re.isDisabled,Fe=Re.isRtl;return jsx("div",_extends$1({},getStyleProps(Re,"container",{"--is-disabled":De,"--is-rtl":Fe}),Be),je)},valueContainerCSS=function Ce(Re,je){var Be=Re.theme.spacing,De=Re.isMulti,Fe=Re.hasValue,Oe=Re.selectProps.controlShouldRenderValue;return _objectSpread2({alignItems:"center",display:De&&Fe&&Oe?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},je?{}:{padding:"".concat(Be.baseUnit/2,"px ").concat(Be.baseUnit*2,"px")})},ValueContainer=function Ce(Re){var je=Re.children,Be=Re.innerProps,De=Re.isMulti,Fe=Re.hasValue;return jsx("div",_extends$1({},getStyleProps(Re,"valueContainer",{"value-container":!0,"value-container--is-multi":De,"value-container--has-value":Fe}),Be),je)},indicatorsContainerCSS=function Ce(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},IndicatorsContainer=function Ce(Re){var je=Re.children,Be=Re.innerProps;return jsx("div",_extends$1({},getStyleProps(Re,"indicatorsContainer",{indicators:!0}),Be),je)},_templateObject,_excluded$2=["size"],_excluded2=["innerProps","isRtl","size"],_ref2$2={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Svg=function Ce(Re){var je=Re.size,Be=_objectWithoutProperties$1(Re,_excluded$2);return jsx("svg",_extends$1({height:je,width:je,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:_ref2$2},Be))},CrossIcon=function Ce(Re){return jsx(Svg,_extends$1({size:20},Re),jsx("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},DownChevron=function Ce(Re){return jsx(Svg,_extends$1({size:20},Re),jsx("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},baseCSS=function Ce(Re,je){var Be=Re.isFocused,De=Re.theme,Fe=De.spacing.baseUnit,Oe=De.colors;return _objectSpread2({label:"indicatorContainer",display:"flex",transition:"color 150ms"},je?{}:{color:Be?Oe.neutral60:Oe.neutral20,padding:Fe*2,":hover":{color:Be?Oe.neutral80:Oe.neutral40}})},dropdownIndicatorCSS=baseCSS,DropdownIndicator=function Ce(Re){var je=Re.children,Be=Re.innerProps;return jsx("div",_extends$1({},getStyleProps(Re,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),Be),je||jsx(DownChevron,null))},clearIndicatorCSS=baseCSS,ClearIndicator=function Ce(Re){var je=Re.children,Be=Re.innerProps;return jsx("div",_extends$1({},getStyleProps(Re,"clearIndicator",{indicator:!0,"clear-indicator":!0}),Be),je||jsx(CrossIcon,null))},indicatorSeparatorCSS=function Ce(Re,je){var Be=Re.isDisabled,De=Re.theme,Fe=De.spacing.baseUnit,Oe=De.colors;return _objectSpread2({label:"indicatorSeparator",alignSelf:"stretch",width:1},je?{}:{backgroundColor:Be?Oe.neutral10:Oe.neutral20,marginBottom:Fe*2,marginTop:Fe*2})},IndicatorSeparator=function Ce(Re){var je=Re.innerProps;return jsx("span",_extends$1({},je,getStyleProps(Re,"indicatorSeparator",{"indicator-separator":!0})))},loadingDotAnimations=keyframes(_templateObject||(_templateObject=_taggedTemplateLiteral([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),loadingIndicatorCSS=function Ce(Re,je){var Be=Re.isFocused,De=Re.size,Fe=Re.theme,Oe=Fe.colors,ke=Fe.spacing.baseUnit;return _objectSpread2({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:De,lineHeight:1,marginRight:De,textAlign:"center",verticalAlign:"middle"},je?{}:{color:Be?Oe.neutral60:Oe.neutral20,padding:ke*2})},LoadingDot=function Ce(Re){var je=Re.delay,Be=Re.offset;return jsx("span",{css:css({animation:"".concat(loadingDotAnimations," 1s ease-in-out ").concat(je,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:Be?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},LoadingIndicator=function Ce(Re){var je=Re.innerProps,Be=Re.isRtl,De=Re.size,Fe=De===void 0?4:De,Oe=_objectWithoutProperties$1(Re,_excluded2);return jsx("div",_extends$1({},getStyleProps(_objectSpread2(_objectSpread2({},Oe),{},{innerProps:je,isRtl:Be,size:Fe}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),je),jsx(LoadingDot,{delay:0,offset:Be}),jsx(LoadingDot,{delay:160,offset:!0}),jsx(LoadingDot,{delay:320,offset:!Be}))},css$1=function Ce(Re,je){var Be=Re.isDisabled,De=Re.isFocused,Fe=Re.theme,Oe=Fe.colors,ke=Fe.borderRadius,Me=Fe.spacing;return _objectSpread2({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:Me.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},je?{}:{backgroundColor:Be?Oe.neutral5:Oe.neutral0,borderColor:Be?Oe.neutral10:De?Oe.primary:Oe.neutral20,borderRadius:ke,borderStyle:"solid",borderWidth:1,boxShadow:De?"0 0 0 1px ".concat(Oe.primary):void 0,"&:hover":{borderColor:De?Oe.primary:Oe.neutral30}})},Control=function Ce(Re){var je=Re.children,Be=Re.isDisabled,De=Re.isFocused,Fe=Re.innerRef,Oe=Re.innerProps,ke=Re.menuIsOpen;return jsx("div",_extends$1({ref:Fe},getStyleProps(Re,"control",{control:!0,"control--is-disabled":Be,"control--is-focused":De,"control--menu-is-open":ke}),Oe,{"aria-disabled":Be||void 0}),je)},Control$1=Control,_excluded$1$1=["data"],groupCSS=function Ce(Re,je){var Be=Re.theme.spacing;return je?{}:{paddingBottom:Be.baseUnit*2,paddingTop:Be.baseUnit*2}},Group=function Ce(Re){var je=Re.children,Be=Re.cx,De=Re.getStyles,Fe=Re.getClassNames,Oe=Re.Heading,ke=Re.headingProps,Me=Re.innerProps,Ue=Re.label,$e=Re.theme,He=Re.selectProps;return jsx("div",_extends$1({},getStyleProps(Re,"group",{group:!0}),Me),jsx(Oe,_extends$1({},ke,{selectProps:He,theme:$e,getStyles:De,getClassNames:Fe,cx:Be}),Ue),jsx("div",null,je))},groupHeadingCSS=function Ce(Re,je){var Be=Re.theme,De=Be.colors,Fe=Be.spacing;return _objectSpread2({label:"group",cursor:"default",display:"block"},je?{}:{color:De.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:Fe.baseUnit*3,paddingRight:Fe.baseUnit*3,textTransform:"uppercase"})},GroupHeading=function Ce(Re){var je=cleanCommonProps(Re);je.data;var Be=_objectWithoutProperties$1(je,_excluded$1$1);return jsx("div",_extends$1({},getStyleProps(Re,"groupHeading",{"group-heading":!0}),Be))},Group$1=Group,_excluded$5=["innerRef","isDisabled","isHidden","inputClassName"],inputCSS=function Ce(Re,je){var Be=Re.isDisabled,De=Re.value,Fe=Re.theme,Oe=Fe.spacing,ke=Fe.colors;return _objectSpread2(_objectSpread2({visibility:Be?"hidden":"visible",transform:De?"translateZ(0)":""},containerStyle),je?{}:{margin:Oe.baseUnit/2,paddingBottom:Oe.baseUnit/2,paddingTop:Oe.baseUnit/2,color:ke.neutral80})},spacingStyle={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},containerStyle={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":_objectSpread2({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},spacingStyle)},inputStyle=function Ce(Re){return _objectSpread2({label:"input",color:"inherit",background:0,opacity:Re?0:1,width:"100%"},spacingStyle)},Input$1=function Ce(Re){var je=Re.cx,Be=Re.value,De=cleanCommonProps(Re),Fe=De.innerRef,Oe=De.isDisabled,ke=De.isHidden,Me=De.inputClassName,Ue=_objectWithoutProperties$1(De,_excluded$5);return jsx("div",_extends$1({},getStyleProps(Re,"input",{"input-container":!0}),{"data-value":Be||""}),jsx("input",_extends$1({className:je({input:!0},Me),ref:Fe,style:inputStyle(ke),disabled:Oe},Ue)))},Input$1$1=Input$1,multiValueCSS=function Ce(Re,je){var Be=Re.theme,De=Be.spacing,Fe=Be.borderRadius,Oe=Be.colors;return _objectSpread2({label:"multiValue",display:"flex",minWidth:0},je?{}:{backgroundColor:Oe.neutral10,borderRadius:Fe/2,margin:De.baseUnit/2})},multiValueLabelCSS=function Ce(Re,je){var Be=Re.theme,De=Be.borderRadius,Fe=Be.colors,Oe=Re.cropWithEllipsis;return _objectSpread2({overflow:"hidden",textOverflow:Oe||Oe===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},je?{}:{borderRadius:De/2,color:Fe.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemoveCSS=function Ce(Re,je){var Be=Re.theme,De=Be.spacing,Fe=Be.borderRadius,Oe=Be.colors,ke=Re.isFocused;return _objectSpread2({alignItems:"center",display:"flex"},je?{}:{borderRadius:Fe/2,backgroundColor:ke?Oe.dangerLight:void 0,paddingLeft:De.baseUnit,paddingRight:De.baseUnit,":hover":{backgroundColor:Oe.dangerLight,color:Oe.danger}})},MultiValueGeneric=function Ce(Re){var je=Re.children,Be=Re.innerProps;return jsx("div",Be,je)},MultiValueContainer=MultiValueGeneric,MultiValueLabel=MultiValueGeneric;function MultiValueRemove(Ce){var Re=Ce.children,je=Ce.innerProps;return jsx("div",_extends$1({role:"button"},je),Re||jsx(CrossIcon,{size:14}))}var MultiValue=function Ce(Re){var je=Re.children,Be=Re.components,De=Re.data,Fe=Re.innerProps,Oe=Re.isDisabled,ke=Re.removeProps,Me=Re.selectProps,Ue=Be.Container,$e=Be.Label,He=Be.Remove;return jsx(Ue,{data:De,innerProps:_objectSpread2(_objectSpread2({},getStyleProps(Re,"multiValue",{"multi-value":!0,"multi-value--is-disabled":Oe})),Fe),selectProps:Me},jsx($e,{data:De,innerProps:_objectSpread2({},getStyleProps(Re,"multiValueLabel",{"multi-value__label":!0})),selectProps:Me},je),jsx(He,{data:De,innerProps:_objectSpread2(_objectSpread2({},getStyleProps(Re,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(je||"option")},ke),selectProps:Me}))},MultiValue$1=MultiValue,optionCSS=function Ce(Re,je){var Be=Re.isDisabled,De=Re.isFocused,Fe=Re.isSelected,Oe=Re.theme,ke=Oe.spacing,Me=Oe.colors;return _objectSpread2({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},je?{}:{backgroundColor:Fe?Me.primary:De?Me.primary25:"transparent",color:Be?Me.neutral20:Fe?Me.neutral0:"inherit",padding:"".concat(ke.baseUnit*2,"px ").concat(ke.baseUnit*3,"px"),":active":{backgroundColor:Be?void 0:Fe?Me.primary:Me.primary50}})},Option=function Ce(Re){var je=Re.children,Be=Re.isDisabled,De=Re.isFocused,Fe=Re.isSelected,Oe=Re.innerRef,ke=Re.innerProps;return jsx("div",_extends$1({},getStyleProps(Re,"option",{option:!0,"option--is-disabled":Be,"option--is-focused":De,"option--is-selected":Fe}),{ref:Oe,"aria-disabled":Be},ke),je)},Option$1=Option,placeholderCSS=function Ce(Re,je){var Be=Re.theme,De=Be.spacing,Fe=Be.colors;return _objectSpread2({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},je?{}:{color:Fe.neutral50,marginLeft:De.baseUnit/2,marginRight:De.baseUnit/2})},Placeholder=function Ce(Re){var je=Re.children,Be=Re.innerProps;return jsx("div",_extends$1({},getStyleProps(Re,"placeholder",{placeholder:!0}),Be),je)},Placeholder$1=Placeholder,css2=function Ce(Re,je){var Be=Re.isDisabled,De=Re.theme,Fe=De.spacing,Oe=De.colors;return _objectSpread2({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},je?{}:{color:Be?Oe.neutral40:Oe.neutral80,marginLeft:Fe.baseUnit/2,marginRight:Fe.baseUnit/2})},SingleValue=function Ce(Re){var je=Re.children,Be=Re.isDisabled,De=Re.innerProps;return jsx("div",_extends$1({},getStyleProps(Re,"singleValue",{"single-value":!0,"single-value--is-disabled":Be}),De),je)},SingleValue$1=SingleValue,components={ClearIndicator,Control:Control$1,DropdownIndicator,DownChevron,CrossIcon,Group:Group$1,GroupHeading,IndicatorsContainer,IndicatorSeparator,Input:Input$1$1,LoadingIndicator,Menu:Menu$1$1,MenuList:MenuList$1,MenuPortal,LoadingMessage,NoOptionsMessage,MultiValue:MultiValue$1,MultiValueContainer,MultiValueLabel,MultiValueRemove,Option:Option$1,Placeholder:Placeholder$1,SelectContainer,SingleValue:SingleValue$1,ValueContainer},defaultComponents=function Ce(Re){return _objectSpread2(_objectSpread2({},components),Re.components)},safeIsNaN=Number.isNaN||function Ce(Re){return typeof Re=="number"&&Re!==Re};function isEqual(Ce,Re){return!!(Ce===Re||safeIsNaN(Ce)&&safeIsNaN(Re))}function areInputsEqual(Ce,Re){if(Ce.length!==Re.length)return!1;for(var je=0;je<Ce.length;je++)if(!isEqual(Ce[je],Re[je]))return!1;return!0}function memoizeOne(Ce,Re){Re===void 0&&(Re=areInputsEqual);var je=null;function Be(){for(var De=[],Fe=0;Fe<arguments.length;Fe++)De[Fe]=arguments[Fe];if(je&&je.lastThis===this&&Re(De,je.lastArgs))return je.lastResult;var Oe=Ce.apply(this,De);return je={lastResult:Oe,lastArgs:De,lastThis:this},Oe}return Be.clear=function(){je=null},Be}var _ref={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},A11yText=function Ce(Re){return jsx("span",_extends$1({css:_ref},Re))},A11yText$1=A11yText,defaultAriaLiveMessages={guidance:function Ce(Re){var je=Re.isSearchable,Be=Re.isMulti,De=Re.tabSelectsValue,Fe=Re.context,Oe=Re.isInitialFocus;switch(Fe){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(De?", press Tab to select the option and exit the menu":"",".");case"input":return Oe?"".concat(Re["aria-label"]||"Select"," is focused ").concat(je?",type to refine list":"",", press Down to open the menu, ").concat(Be?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function Ce(Re){var je=Re.action,Be=Re.label,De=Be===void 0?"":Be,Fe=Re.labels,Oe=Re.isDisabled;switch(je){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(De,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(Fe.length>1?"s":""," ").concat(Fe.join(","),", selected.");case"select-option":return Oe?"option ".concat(De," is disabled. Select another option."):"option ".concat(De,", selected.");default:return""}},onFocus:function Ce(Re){var je=Re.context,Be=Re.focused,De=Re.options,Fe=Re.label,Oe=Fe===void 0?"":Fe,ke=Re.selectValue,Me=Re.isDisabled,Ue=Re.isSelected,$e=Re.isAppleDevice,He=function(Ke,Xe){return Ke&&Ke.length?"".concat(Ke.indexOf(Xe)+1," of ").concat(Ke.length):""};if(je==="value"&&ke)return"value ".concat(Oe," focused, ").concat(He(ke,Be),".");if(je==="menu"&&$e){var Qe=Me?" disabled":"",We="".concat(Ue?" selected":"").concat(Qe);return"".concat(Oe).concat(We,", ").concat(He(De,Be),".")}return""},onFilter:function Ce(Re){var je=Re.inputValue,Be=Re.resultsMessage;return"".concat(Be).concat(je?" for search term "+je:"",".")}},LiveRegion=function Ce(Re){var je=Re.ariaSelection,Be=Re.focusedOption,De=Re.focusedValue,Fe=Re.focusableOptions,Oe=Re.isFocused,ke=Re.selectValue,Me=Re.selectProps,Ue=Re.id,$e=Re.isAppleDevice,He=Me.ariaLiveMessages,Qe=Me.getOptionLabel,We=Me.inputValue,qe=Me.isMulti,Ke=Me.isOptionDisabled,Xe=Me.isSearchable,Ye=Me.menuIsOpen,Ze=Me.options,Je=Me.screenReaderStatus,tr=Me.tabSelectsValue,rr=Me.isLoading,ar=Me["aria-label"],nr=Me["aria-live"],sr=reactExports.useMemo(function(){return _objectSpread2(_objectSpread2({},defaultAriaLiveMessages),He||{})},[He]),dr=reactExports.useMemo(function(){var jr="";if(je&&sr.onChange){var xr=je.option,Pr=je.options,br=je.removedValue,wr=je.removedValues,Br=je.value,Lr=function(Wr){return Array.isArray(Wr)?null:Wr},yr=br||xr||Lr(Br),vr=yr?Qe(yr):"",Tr=Pr||wr||void 0,Or=Tr?Tr.map(Qe):[],Nr=_objectSpread2({isDisabled:yr&&Ke(yr,ke),label:vr,labels:Or},je);jr=sr.onChange(Nr)}return jr},[je,sr,Ke,ke,Qe]),_r=reactExports.useMemo(function(){var jr="",xr=Be||De,Pr=!!(Be&&ke&&ke.includes(Be));if(xr&&sr.onFocus){var br={focused:xr,label:Qe(xr),isDisabled:Ke(xr,ke),isSelected:Pr,options:Fe,context:xr===Be?"menu":"value",selectValue:ke,isAppleDevice:$e};jr=sr.onFocus(br)}return jr},[Be,De,Qe,Ke,sr,Fe,ke,$e]),fr=reactExports.useMemo(function(){var jr="";if(Ye&&Ze.length&&!rr&&sr.onFilter){var xr=Je({count:Fe.length});jr=sr.onFilter({inputValue:We,resultsMessage:xr})}return jr},[Fe,We,Ye,sr,Ze,Je,rr]),or=je?.action==="initial-input-focus",Er=reactExports.useMemo(function(){var jr="";if(sr.guidance){var xr=De?"value":Ye?"menu":"input";jr=sr.guidance({"aria-label":ar,context:xr,isDisabled:Be&&Ke(Be,ke),isMulti:qe,isSearchable:Xe,tabSelectsValue:tr,isInitialFocus:or})}return jr},[ar,Be,De,qe,Ke,Xe,Ye,sr,ke,tr,or]),Rr=jsx(reactExports.Fragment,null,jsx("span",{id:"aria-selection"},dr),jsx("span",{id:"aria-focused"},_r),jsx("span",{id:"aria-results"},fr),jsx("span",{id:"aria-guidance"},Er));return jsx(reactExports.Fragment,null,jsx(A11yText$1,{id:Ue},or&&Rr),jsx(A11yText$1,{"aria-live":nr,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},Oe&&!or&&Rr))},LiveRegion$1=LiveRegion,diacritics=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],anyDiacritic=new RegExp("["+diacritics.map(function(Ce){return Ce.letters}).join("")+"]","g"),diacriticToBase={};for(var i$1=0;i$1<diacritics.length;i$1++)for(var diacritic=diacritics[i$1],j$1=0;j$1<diacritic.letters.length;j$1++)diacriticToBase[diacritic.letters[j$1]]=diacritic.base;var stripDiacritics=function Ce(Re){return Re.replace(anyDiacritic,function(je){return diacriticToBase[je]})},memoizedStripDiacriticsForInput=memoizeOne(stripDiacritics),trimString=function Ce(Re){return Re.replace(/^\s+|\s+$/g,"")},defaultStringify=function Ce(Re){return"".concat(Re.label," ").concat(Re.value)},createFilter=function Ce(Re){return function(je,Be){if(je.data.__isNew__)return!0;var De=_objectSpread2({ignoreCase:!0,ignoreAccents:!0,stringify:defaultStringify,trim:!0,matchFrom:"any"},Re),Fe=De.ignoreCase,Oe=De.ignoreAccents,ke=De.stringify,Me=De.trim,Ue=De.matchFrom,$e=Me?trimString(Be):Be,He=Me?trimString(ke(je)):ke(je);return Fe&&($e=$e.toLowerCase(),He=He.toLowerCase()),Oe&&($e=memoizedStripDiacriticsForInput($e),He=stripDiacritics(He)),Ue==="start"?He.substr(0,$e.length)===$e:He.indexOf($e)>-1}},_excluded$1=["innerRef"];function DummyInput(Ce){var Re=Ce.innerRef,je=_objectWithoutProperties$1(Ce,_excluded$1),Be=removeProps(je,"onExited","in","enter","exit","appear");return jsx("input",_extends$1({ref:Re},Be,{css:css({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var cancelScroll=function Ce(Re){Re.cancelable&&Re.preventDefault(),Re.stopPropagation()};function useScrollCapture(Ce){var Re=Ce.isEnabled,je=Ce.onBottomArrive,Be=Ce.onBottomLeave,De=Ce.onTopArrive,Fe=Ce.onTopLeave,Oe=reactExports.useRef(!1),ke=reactExports.useRef(!1),Me=reactExports.useRef(0),Ue=reactExports.useRef(null),$e=reactExports.useCallback(function(Xe,Ye){if(Ue.current!==null){var Ze=Ue.current,Je=Ze.scrollTop,tr=Ze.scrollHeight,rr=Ze.clientHeight,ar=Ue.current,nr=Ye>0,sr=tr-rr-Je,dr=!1;sr>Ye&&Oe.current&&(Be&&Be(Xe),Oe.current=!1),nr&&ke.current&&(Fe&&Fe(Xe),ke.current=!1),nr&&Ye>sr?(je&&!Oe.current&&je(Xe),ar.scrollTop=tr,dr=!0,Oe.current=!0):!nr&&-Ye>Je&&(De&&!ke.current&&De(Xe),ar.scrollTop=0,dr=!0,ke.current=!0),dr&&cancelScroll(Xe)}},[je,Be,De,Fe]),He=reactExports.useCallback(function(Xe){$e(Xe,Xe.deltaY)},[$e]),Qe=reactExports.useCallback(function(Xe){Me.current=Xe.changedTouches[0].clientY},[]),We=reactExports.useCallback(function(Xe){var Ye=Me.current-Xe.changedTouches[0].clientY;$e(Xe,Ye)},[$e]),qe=reactExports.useCallback(function(Xe){if(Xe){var Ye=supportsPassiveEvents?{passive:!1}:!1;Xe.addEventListener("wheel",He,Ye),Xe.addEventListener("touchstart",Qe,Ye),Xe.addEventListener("touchmove",We,Ye)}},[We,Qe,He]),Ke=reactExports.useCallback(function(Xe){Xe&&(Xe.removeEventListener("wheel",He,!1),Xe.removeEventListener("touchstart",Qe,!1),Xe.removeEventListener("touchmove",We,!1))},[We,Qe,He]);return reactExports.useEffect(function(){if(Re){var Xe=Ue.current;return qe(Xe),function(){Ke(Xe)}}},[Re,qe,Ke]),function(Xe){Ue.current=Xe}}var STYLE_KEYS=["boxSizing","height","overflow","paddingRight","position"],LOCK_STYLES={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function preventTouchMove(Ce){Ce.cancelable&&Ce.preventDefault()}function allowTouchMove(Ce){Ce.stopPropagation()}function preventInertiaScroll(){var Ce=this.scrollTop,Re=this.scrollHeight,je=Ce+this.offsetHeight;Ce===0?this.scrollTop=1:je===Re&&(this.scrollTop=Ce-1)}function isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints}var canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),activeScrollLocks=0,listenerOptions={capture:!1,passive:!1};function useScrollLock(Ce){var Re=Ce.isEnabled,je=Ce.accountForScrollbars,Be=je===void 0?!0:je,De=reactExports.useRef({}),Fe=reactExports.useRef(null),Oe=reactExports.useCallback(function(Me){if(canUseDOM){var Ue=document.body,$e=Ue&&Ue.style;if(Be&&STYLE_KEYS.forEach(function(qe){var Ke=$e&&$e[qe];De.current[qe]=Ke}),Be&&activeScrollLocks<1){var He=parseInt(De.current.paddingRight,10)||0,Qe=document.body?document.body.clientWidth:0,We=window.innerWidth-Qe+He||0;Object.keys(LOCK_STYLES).forEach(function(qe){var Ke=LOCK_STYLES[qe];$e&&($e[qe]=Ke)}),$e&&($e.paddingRight="".concat(We,"px"))}Ue&&isTouchDevice()&&(Ue.addEventListener("touchmove",preventTouchMove,listenerOptions),Me&&(Me.addEventListener("touchstart",preventInertiaScroll,listenerOptions),Me.addEventListener("touchmove",allowTouchMove,listenerOptions))),activeScrollLocks+=1}},[Be]),ke=reactExports.useCallback(function(Me){if(canUseDOM){var Ue=document.body,$e=Ue&&Ue.style;activeScrollLocks=Math.max(activeScrollLocks-1,0),Be&&activeScrollLocks<1&&STYLE_KEYS.forEach(function(He){var Qe=De.current[He];$e&&($e[He]=Qe)}),Ue&&isTouchDevice()&&(Ue.removeEventListener("touchmove",preventTouchMove,listenerOptions),Me&&(Me.removeEventListener("touchstart",preventInertiaScroll,listenerOptions),Me.removeEventListener("touchmove",allowTouchMove,listenerOptions)))}},[Be]);return reactExports.useEffect(function(){if(Re){var Me=Fe.current;return Oe(Me),function(){ke(Me)}}},[Re,Oe,ke]),function(Me){Fe.current=Me}}var blurSelectInput=function Ce(Re){var je=Re.target;return je.ownerDocument.activeElement&&je.ownerDocument.activeElement.blur()},_ref2$1={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function ScrollManager(Ce){var Re=Ce.children,je=Ce.lockEnabled,Be=Ce.captureEnabled,De=Be===void 0?!0:Be,Fe=Ce.onBottomArrive,Oe=Ce.onBottomLeave,ke=Ce.onTopArrive,Me=Ce.onTopLeave,Ue=useScrollCapture({isEnabled:De,onBottomArrive:Fe,onBottomLeave:Oe,onTopArrive:ke,onTopLeave:Me}),$e=useScrollLock({isEnabled:je}),He=function(We){Ue(We),$e(We)};return jsx(reactExports.Fragment,null,je&&jsx("div",{onClick:blurSelectInput,css:_ref2$1}),Re(He))}var _ref2={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},RequiredInput=function Ce(Re){var je=Re.name,Be=Re.onFocus;return jsx("input",{required:!0,name:je,tabIndex:-1,"aria-hidden":"true",onFocus:Be,css:_ref2,value:"",onChange:function(){}})},RequiredInput$1=RequiredInput;function testPlatform(Ce){var Re;return typeof window<"u"&&window.navigator!=null?Ce.test(((Re=window.navigator.userAgentData)===null||Re===void 0?void 0:Re.platform)||window.navigator.platform):!1}function isIPhone(){return testPlatform(/^iPhone/i)}function isMac(){return testPlatform(/^Mac/i)}function isIPad(){return testPlatform(/^iPad/i)||isMac()&&navigator.maxTouchPoints>1}function isIOS(){return isIPhone()||isIPad()}function isAppleDevice(){return isMac()||isIOS()}var formatGroupLabel=function Ce(Re){return Re.label},getOptionLabel$1=function Ce(Re){return Re.label},getOptionValue$1=function Ce(Re){return Re.value},isOptionDisabled=function Ce(Re){return!!Re.isDisabled},defaultStyles={clearIndicator:clearIndicatorCSS,container:containerCSS,control:css$1,dropdownIndicator:dropdownIndicatorCSS,group:groupCSS,groupHeading:groupHeadingCSS,indicatorsContainer:indicatorsContainerCSS,indicatorSeparator:indicatorSeparatorCSS,input:inputCSS,loadingIndicator:loadingIndicatorCSS,loadingMessage:loadingMessageCSS,menu:menuCSS,menuList:menuListCSS,menuPortal:menuPortalCSS,multiValue:multiValueCSS,multiValueLabel:multiValueLabelCSS,multiValueRemove:multiValueRemoveCSS,noOptionsMessage:noOptionsMessageCSS,option:optionCSS,placeholder:placeholderCSS,singleValue:css2,valueContainer:valueContainerCSS},colors={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},borderRadius$1=4,baseUnit=4,controlHeight=38,menuGutter=baseUnit*2,spacing={baseUnit,controlHeight,menuGutter},defaultTheme$1={borderRadius:borderRadius$1,colors,spacing},defaultProps$1={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:isTouchCapable(),captureMenuScroll:!isTouchCapable(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:createFilter(),formatGroupLabel,getOptionLabel:getOptionLabel$1,getOptionValue:getOptionValue$1,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled,loadingMessage:function Ce(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!isMobileDevice(),noOptionsMessage:function Ce(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function Ce(Re){var je=Re.count;return"".concat(je," result").concat(je!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function toCategorizedOption(Ce,Re,je,Be){var De=_isOptionDisabled(Ce,Re,je),Fe=_isOptionSelected(Ce,Re,je),Oe=getOptionLabel2(Ce,Re),ke=getOptionValue2(Ce,Re);return{type:"option",data:Re,isDisabled:De,isSelected:Fe,label:Oe,value:ke,index:Be}}function buildCategorizedOptions(Ce,Re){return Ce.options.map(function(je,Be){if("options"in je){var De=je.options.map(function(Oe,ke){return toCategorizedOption(Ce,Oe,Re,ke)}).filter(function(Oe){return isFocusable(Ce,Oe)});return De.length>0?{type:"group",data:je,options:De,index:Be}:void 0}var Fe=toCategorizedOption(Ce,je,Re,Be);return isFocusable(Ce,Fe)?Fe:void 0}).filter(notNullish)}function buildFocusableOptionsFromCategorizedOptions(Ce){return Ce.reduce(function(Re,je){return je.type==="group"?Re.push.apply(Re,_toConsumableArray(je.options.map(function(Be){return Be.data}))):Re.push(je.data),Re},[])}function buildFocusableOptionsWithIds(Ce,Re){return Ce.reduce(function(je,Be){return Be.type==="group"?je.push.apply(je,_toConsumableArray(Be.options.map(function(De){return{data:De.data,id:"".concat(Re,"-").concat(Be.index,"-").concat(De.index)}}))):je.push({data:Be.data,id:"".concat(Re,"-").concat(Be.index)}),je},[])}function buildFocusableOptions(Ce,Re){return buildFocusableOptionsFromCategorizedOptions(buildCategorizedOptions(Ce,Re))}function isFocusable(Ce,Re){var je=Ce.inputValue,Be=je===void 0?"":je,De=Re.data,Fe=Re.isSelected,Oe=Re.label,ke=Re.value;return(!shouldHideSelectedOptions(Ce)||!Fe)&&_filterOption(Ce,{label:Oe,value:ke,data:De},Be)}function getNextFocusedValue(Ce,Re){var je=Ce.focusedValue,Be=Ce.selectValue,De=Be.indexOf(je);if(De>-1){var Fe=Re.indexOf(je);if(Fe>-1)return je;if(De<Re.length)return Re[De]}return null}function getNextFocusedOption(Ce,Re){var je=Ce.focusedOption;return je&&Re.indexOf(je)>-1?je:Re[0]}var getFocusedOptionId=function Ce(Re,je){var Be,De=(Be=Re.find(function(Fe){return Fe.data===je}))===null||Be===void 0?void 0:Be.id;return De||null},getOptionLabel2=function Ce(Re,je){return Re.getOptionLabel(je)},getOptionValue2=function Ce(Re,je){return Re.getOptionValue(je)};function _isOptionDisabled(Ce,Re,je){return typeof Ce.isOptionDisabled=="function"?Ce.isOptionDisabled(Re,je):!1}function _isOptionSelected(Ce,Re,je){if(je.indexOf(Re)>-1)return!0;if(typeof Ce.isOptionSelected=="function")return Ce.isOptionSelected(Re,je);var Be=getOptionValue2(Ce,Re);return je.some(function(De){return getOptionValue2(Ce,De)===Be})}function _filterOption(Ce,Re,je){return Ce.filterOption?Ce.filterOption(Re,je):!0}var shouldHideSelectedOptions=function Ce(Re){var je=Re.hideSelectedOptions,Be=Re.isMulti;return je===void 0?Be:je},instanceId=1,Select$1=(function(Ce){_inherits(je,Ce);var Re=_createSuper(je);function je(Be){var De;if(_classCallCheck(this,je),De=Re.call(this,Be),De.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},De.blockOptionHover=!1,De.isComposing=!1,De.commonProps=void 0,De.initialTouchX=0,De.initialTouchY=0,De.openAfterFocus=!1,De.scrollToFocusedOptionOnUpdate=!1,De.userIsDragging=void 0,De.controlRef=null,De.getControlRef=function(Me){De.controlRef=Me},De.focusedOptionRef=null,De.getFocusedOptionRef=function(Me){De.focusedOptionRef=Me},De.menuListRef=null,De.getMenuListRef=function(Me){De.menuListRef=Me},De.inputRef=null,De.getInputRef=function(Me){De.inputRef=Me},De.focus=De.focusInput,De.blur=De.blurInput,De.onChange=function(Me,Ue){var $e=De.props,He=$e.onChange,Qe=$e.name;Ue.name=Qe,De.ariaOnChange(Me,Ue),He(Me,Ue)},De.setValue=function(Me,Ue,$e){var He=De.props,Qe=He.closeMenuOnSelect,We=He.isMulti,qe=He.inputValue;De.onInputChange("",{action:"set-value",prevInputValue:qe}),Qe&&(De.setState({inputIsHiddenAfterUpdate:!We}),De.onMenuClose()),De.setState({clearFocusValueOnUpdate:!0}),De.onChange(Me,{action:Ue,option:$e})},De.selectOption=function(Me){var Ue=De.props,$e=Ue.blurInputOnSelect,He=Ue.isMulti,Qe=Ue.name,We=De.state.selectValue,qe=He&&De.isOptionSelected(Me,We),Ke=De.isOptionDisabled(Me,We);if(qe){var Xe=De.getOptionValue(Me);De.setValue(We.filter(function(Ye){return De.getOptionValue(Ye)!==Xe}),"deselect-option",Me)}else if(!Ke)He?De.setValue([].concat(_toConsumableArray(We),[Me]),"select-option",Me):De.setValue(Me,"select-option");else{De.ariaOnChange(Me,{action:"select-option",option:Me,name:Qe});return}$e&&De.blurInput()},De.removeValue=function(Me){var Ue=De.props.isMulti,$e=De.state.selectValue,He=De.getOptionValue(Me),Qe=$e.filter(function(qe){return De.getOptionValue(qe)!==He}),We=valueTernary(Ue,Qe,Qe[0]||null);De.onChange(We,{action:"remove-value",removedValue:Me}),De.focusInput()},De.clearValue=function(){var Me=De.state.selectValue;De.onChange(valueTernary(De.props.isMulti,[],null),{action:"clear",removedValues:Me})},De.popValue=function(){var Me=De.props.isMulti,Ue=De.state.selectValue,$e=Ue[Ue.length-1],He=Ue.slice(0,Ue.length-1),Qe=valueTernary(Me,He,He[0]||null);$e&&De.onChange(Qe,{action:"pop-value",removedValue:$e})},De.getFocusedOptionId=function(Me){return getFocusedOptionId(De.state.focusableOptionsWithIds,Me)},De.getFocusableOptionsWithIds=function(){return buildFocusableOptionsWithIds(buildCategorizedOptions(De.props,De.state.selectValue),De.getElementId("option"))},De.getValue=function(){return De.state.selectValue},De.cx=function(){for(var Me=arguments.length,Ue=new Array(Me),$e=0;$e<Me;$e++)Ue[$e]=arguments[$e];return classNames.apply(void 0,[De.props.classNamePrefix].concat(Ue))},De.getOptionLabel=function(Me){return getOptionLabel2(De.props,Me)},De.getOptionValue=function(Me){return getOptionValue2(De.props,Me)},De.getStyles=function(Me,Ue){var $e=De.props.unstyled,He=defaultStyles[Me](Ue,$e);He.boxSizing="border-box";var Qe=De.props.styles[Me];return Qe?Qe(He,Ue):He},De.getClassNames=function(Me,Ue){var $e,He;return($e=(He=De.props.classNames)[Me])===null||$e===void 0?void 0:$e.call(He,Ue)},De.getElementId=function(Me){return"".concat(De.state.instancePrefix,"-").concat(Me)},De.getComponents=function(){return defaultComponents(De.props)},De.buildCategorizedOptions=function(){return buildCategorizedOptions(De.props,De.state.selectValue)},De.getCategorizedOptions=function(){return De.props.menuIsOpen?De.buildCategorizedOptions():[]},De.buildFocusableOptions=function(){return buildFocusableOptionsFromCategorizedOptions(De.buildCategorizedOptions())},De.getFocusableOptions=function(){return De.props.menuIsOpen?De.buildFocusableOptions():[]},De.ariaOnChange=function(Me,Ue){De.setState({ariaSelection:_objectSpread2({value:Me},Ue)})},De.onMenuMouseDown=function(Me){Me.button===0&&(Me.stopPropagation(),Me.preventDefault(),De.focusInput())},De.onMenuMouseMove=function(Me){De.blockOptionHover=!1},De.onControlMouseDown=function(Me){if(!Me.defaultPrevented){var Ue=De.props.openMenuOnClick;De.state.isFocused?De.props.menuIsOpen?Me.target.tagName!=="INPUT"&&Me.target.tagName!=="TEXTAREA"&&De.onMenuClose():Ue&&De.openMenu("first"):(Ue&&(De.openAfterFocus=!0),De.focusInput()),Me.target.tagName!=="INPUT"&&Me.target.tagName!=="TEXTAREA"&&Me.preventDefault()}},De.onDropdownIndicatorMouseDown=function(Me){if(!(Me&&Me.type==="mousedown"&&Me.button!==0)&&!De.props.isDisabled){var Ue=De.props,$e=Ue.isMulti,He=Ue.menuIsOpen;De.focusInput(),He?(De.setState({inputIsHiddenAfterUpdate:!$e}),De.onMenuClose()):De.openMenu("first"),Me.preventDefault()}},De.onClearIndicatorMouseDown=function(Me){Me&&Me.type==="mousedown"&&Me.button!==0||(De.clearValue(),Me.preventDefault(),De.openAfterFocus=!1,Me.type==="touchend"?De.focusInput():setTimeout(function(){return De.focusInput()}))},De.onScroll=function(Me){typeof De.props.closeMenuOnScroll=="boolean"?Me.target instanceof HTMLElement&&isDocumentElement(Me.target)&&De.props.onMenuClose():typeof De.props.closeMenuOnScroll=="function"&&De.props.closeMenuOnScroll(Me)&&De.props.onMenuClose()},De.onCompositionStart=function(){De.isComposing=!0},De.onCompositionEnd=function(){De.isComposing=!1},De.onTouchStart=function(Me){var Ue=Me.touches,$e=Ue&&Ue.item(0);$e&&(De.initialTouchX=$e.clientX,De.initialTouchY=$e.clientY,De.userIsDragging=!1)},De.onTouchMove=function(Me){var Ue=Me.touches,$e=Ue&&Ue.item(0);if($e){var He=Math.abs($e.clientX-De.initialTouchX),Qe=Math.abs($e.clientY-De.initialTouchY),We=5;De.userIsDragging=He>We||Qe>We}},De.onTouchEnd=function(Me){De.userIsDragging||(De.controlRef&&!De.controlRef.contains(Me.target)&&De.menuListRef&&!De.menuListRef.contains(Me.target)&&De.blurInput(),De.initialTouchX=0,De.initialTouchY=0)},De.onControlTouchEnd=function(Me){De.userIsDragging||De.onControlMouseDown(Me)},De.onClearIndicatorTouchEnd=function(Me){De.userIsDragging||De.onClearIndicatorMouseDown(Me)},De.onDropdownIndicatorTouchEnd=function(Me){De.userIsDragging||De.onDropdownIndicatorMouseDown(Me)},De.handleInputChange=function(Me){var Ue=De.props.inputValue,$e=Me.currentTarget.value;De.setState({inputIsHiddenAfterUpdate:!1}),De.onInputChange($e,{action:"input-change",prevInputValue:Ue}),De.props.menuIsOpen||De.onMenuOpen()},De.onInputFocus=function(Me){De.props.onFocus&&De.props.onFocus(Me),De.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(De.openAfterFocus||De.props.openMenuOnFocus)&&De.openMenu("first"),De.openAfterFocus=!1},De.onInputBlur=function(Me){var Ue=De.props.inputValue;if(De.menuListRef&&De.menuListRef.contains(document.activeElement)){De.inputRef.focus();return}De.props.onBlur&&De.props.onBlur(Me),De.onInputChange("",{action:"input-blur",prevInputValue:Ue}),De.onMenuClose(),De.setState({focusedValue:null,isFocused:!1})},De.onOptionHover=function(Me){if(!(De.blockOptionHover||De.state.focusedOption===Me)){var Ue=De.getFocusableOptions(),$e=Ue.indexOf(Me);De.setState({focusedOption:Me,focusedOptionId:$e>-1?De.getFocusedOptionId(Me):null})}},De.shouldHideSelectedOptions=function(){return shouldHideSelectedOptions(De.props)},De.onValueInputFocus=function(Me){Me.preventDefault(),Me.stopPropagation(),De.focus()},De.onKeyDown=function(Me){var Ue=De.props,$e=Ue.isMulti,He=Ue.backspaceRemovesValue,Qe=Ue.escapeClearsValue,We=Ue.inputValue,qe=Ue.isClearable,Ke=Ue.isDisabled,Xe=Ue.menuIsOpen,Ye=Ue.onKeyDown,Ze=Ue.tabSelectsValue,Je=Ue.openMenuOnFocus,tr=De.state,rr=tr.focusedOption,ar=tr.focusedValue,nr=tr.selectValue;if(!Ke&&!(typeof Ye=="function"&&(Ye(Me),Me.defaultPrevented))){switch(De.blockOptionHover=!0,Me.key){case"ArrowLeft":if(!$e||We)return;De.focusValue("previous");break;case"ArrowRight":if(!$e||We)return;De.focusValue("next");break;case"Delete":case"Backspace":if(We)return;if(ar)De.removeValue(ar);else{if(!He)return;$e?De.popValue():qe&&De.clearValue()}break;case"Tab":if(De.isComposing||Me.shiftKey||!Xe||!Ze||!rr||Je&&De.isOptionSelected(rr,nr))return;De.selectOption(rr);break;case"Enter":if(Me.keyCode===229)break;if(Xe){if(!rr||De.isComposing)return;De.selectOption(rr);break}return;case"Escape":Xe?(De.setState({inputIsHiddenAfterUpdate:!1}),De.onInputChange("",{action:"menu-close",prevInputValue:We}),De.onMenuClose()):qe&&Qe&&De.clearValue();break;case" ":if(We)return;if(!Xe){De.openMenu("first");break}if(!rr)return;De.selectOption(rr);break;case"ArrowUp":Xe?De.focusOption("up"):De.openMenu("last");break;case"ArrowDown":Xe?De.focusOption("down"):De.openMenu("first");break;case"PageUp":if(!Xe)return;De.focusOption("pageup");break;case"PageDown":if(!Xe)return;De.focusOption("pagedown");break;case"Home":if(!Xe)return;De.focusOption("first");break;case"End":if(!Xe)return;De.focusOption("last");break;default:return}Me.preventDefault()}},De.state.instancePrefix="react-select-"+(De.props.instanceId||++instanceId),De.state.selectValue=cleanValue(Be.value),Be.menuIsOpen&&De.state.selectValue.length){var Fe=De.getFocusableOptionsWithIds(),Oe=De.buildFocusableOptions(),ke=Oe.indexOf(De.state.selectValue[0]);De.state.focusableOptionsWithIds=Fe,De.state.focusedOption=Oe[ke],De.state.focusedOptionId=getFocusedOptionId(Fe,Oe[ke])}return De}return _createClass(je,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&scrollIntoView(this.menuListRef,this.focusedOptionRef),isAppleDevice()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(De){var Fe=this.props,Oe=Fe.isDisabled,ke=Fe.menuIsOpen,Me=this.state.isFocused;(Me&&!Oe&&De.isDisabled||Me&&ke&&!De.menuIsOpen)&&this.focusInput(),Me&&Oe&&!De.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!Me&&!Oe&&De.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(scrollIntoView(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(De,Fe){this.props.onInputChange(De,Fe)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(De){var Fe=this,Oe=this.state,ke=Oe.selectValue,Me=Oe.isFocused,Ue=this.buildFocusableOptions(),$e=De==="first"?0:Ue.length-1;if(!this.props.isMulti){var He=Ue.indexOf(ke[0]);He>-1&&($e=He)}this.scrollToFocusedOptionOnUpdate=!(Me&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:Ue[$e],focusedOptionId:this.getFocusedOptionId(Ue[$e])},function(){return Fe.onMenuOpen()})}},{key:"focusValue",value:function(De){var Fe=this.state,Oe=Fe.selectValue,ke=Fe.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var Me=Oe.indexOf(ke);ke||(Me=-1);var Ue=Oe.length-1,$e=-1;if(Oe.length){switch(De){case"previous":Me===0?$e=0:Me===-1?$e=Ue:$e=Me-1;break;case"next":Me>-1&&Me<Ue&&($e=Me+1);break}this.setState({inputIsHidden:$e!==-1,focusedValue:Oe[$e]})}}}},{key:"focusOption",value:function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",Fe=this.props.pageSize,Oe=this.state.focusedOption,ke=this.getFocusableOptions();if(ke.length){var Me=0,Ue=ke.indexOf(Oe);Oe||(Ue=-1),De==="up"?Me=Ue>0?Ue-1:ke.length-1:De==="down"?Me=(Ue+1)%ke.length:De==="pageup"?(Me=Ue-Fe,Me<0&&(Me=0)):De==="pagedown"?(Me=Ue+Fe,Me>ke.length-1&&(Me=ke.length-1)):De==="last"&&(Me=ke.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:ke[Me],focusedValue:null,focusedOptionId:this.getFocusedOptionId(ke[Me])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(defaultTheme$1):_objectSpread2(_objectSpread2({},defaultTheme$1),this.props.theme):defaultTheme$1})},{key:"getCommonProps",value:function(){var De=this.clearValue,Fe=this.cx,Oe=this.getStyles,ke=this.getClassNames,Me=this.getValue,Ue=this.selectOption,$e=this.setValue,He=this.props,Qe=He.isMulti,We=He.isRtl,qe=He.options,Ke=this.hasValue();return{clearValue:De,cx:Fe,getStyles:Oe,getClassNames:ke,getValue:Me,hasValue:Ke,isMulti:Qe,isRtl:We,options:qe,selectOption:Ue,selectProps:He,setValue:$e,theme:this.getTheme()}}},{key:"hasValue",value:function(){var De=this.state.selectValue;return De.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var De=this.props,Fe=De.isClearable,Oe=De.isMulti;return Fe===void 0?Oe:Fe}},{key:"isOptionDisabled",value:function(De,Fe){return _isOptionDisabled(this.props,De,Fe)}},{key:"isOptionSelected",value:function(De,Fe){return _isOptionSelected(this.props,De,Fe)}},{key:"filterOption",value:function(De,Fe){return _filterOption(this.props,De,Fe)}},{key:"formatOptionLabel",value:function(De,Fe){if(typeof this.props.formatOptionLabel=="function"){var Oe=this.props.inputValue,ke=this.state.selectValue;return this.props.formatOptionLabel(De,{context:Fe,inputValue:Oe,selectValue:ke})}else return this.getOptionLabel(De)}},{key:"formatGroupLabel",value:function(De){return this.props.formatGroupLabel(De)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var De=this.props,Fe=De.isDisabled,Oe=De.isSearchable,ke=De.inputId,Me=De.inputValue,Ue=De.tabIndex,$e=De.form,He=De.menuIsOpen,Qe=De.required,We=this.getComponents(),qe=We.Input,Ke=this.state,Xe=Ke.inputIsHidden,Ye=Ke.ariaSelection,Ze=this.commonProps,Je=ke||this.getElementId("input"),tr=_objectSpread2(_objectSpread2(_objectSpread2({"aria-autocomplete":"list","aria-expanded":He,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":Qe,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},He&&{"aria-controls":this.getElementId("listbox")}),!Oe&&{"aria-readonly":!0}),this.hasValue()?Ye?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return Oe?reactExports.createElement(qe,_extends$1({},Ze,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:Je,innerRef:this.getInputRef,isDisabled:Fe,isHidden:Xe,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:Ue,form:$e,type:"text",value:Me},tr)):reactExports.createElement(DummyInput,_extends$1({id:Je,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:noop$2,onFocus:this.onInputFocus,disabled:Fe,tabIndex:Ue,inputMode:"none",form:$e,value:""},tr))})},{key:"renderPlaceholderOrValue",value:function(){var De=this,Fe=this.getComponents(),Oe=Fe.MultiValue,ke=Fe.MultiValueContainer,Me=Fe.MultiValueLabel,Ue=Fe.MultiValueRemove,$e=Fe.SingleValue,He=Fe.Placeholder,Qe=this.commonProps,We=this.props,qe=We.controlShouldRenderValue,Ke=We.isDisabled,Xe=We.isMulti,Ye=We.inputValue,Ze=We.placeholder,Je=this.state,tr=Je.selectValue,rr=Je.focusedValue,ar=Je.isFocused;if(!this.hasValue()||!qe)return Ye?null:reactExports.createElement(He,_extends$1({},Qe,{key:"placeholder",isDisabled:Ke,isFocused:ar,innerProps:{id:this.getElementId("placeholder")}}),Ze);if(Xe)return tr.map(function(sr,dr){var _r=sr===rr,fr="".concat(De.getOptionLabel(sr),"-").concat(De.getOptionValue(sr));return reactExports.createElement(Oe,_extends$1({},Qe,{components:{Container:ke,Label:Me,Remove:Ue},isFocused:_r,isDisabled:Ke,key:fr,index:dr,removeProps:{onClick:function(){return De.removeValue(sr)},onTouchEnd:function(){return De.removeValue(sr)},onMouseDown:function(Er){Er.preventDefault()}},data:sr}),De.formatOptionLabel(sr,"value"))});if(Ye)return null;var nr=tr[0];return reactExports.createElement($e,_extends$1({},Qe,{data:nr,isDisabled:Ke}),this.formatOptionLabel(nr,"value"))}},{key:"renderClearIndicator",value:function(){var De=this.getComponents(),Fe=De.ClearIndicator,Oe=this.commonProps,ke=this.props,Me=ke.isDisabled,Ue=ke.isLoading,$e=this.state.isFocused;if(!this.isClearable()||!Fe||Me||!this.hasValue()||Ue)return null;var He={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return reactExports.createElement(Fe,_extends$1({},Oe,{innerProps:He,isFocused:$e}))}},{key:"renderLoadingIndicator",value:function(){var De=this.getComponents(),Fe=De.LoadingIndicator,Oe=this.commonProps,ke=this.props,Me=ke.isDisabled,Ue=ke.isLoading,$e=this.state.isFocused;if(!Fe||!Ue)return null;var He={"aria-hidden":"true"};return reactExports.createElement(Fe,_extends$1({},Oe,{innerProps:He,isDisabled:Me,isFocused:$e}))}},{key:"renderIndicatorSeparator",value:function(){var De=this.getComponents(),Fe=De.DropdownIndicator,Oe=De.IndicatorSeparator;if(!Fe||!Oe)return null;var ke=this.commonProps,Me=this.props.isDisabled,Ue=this.state.isFocused;return reactExports.createElement(Oe,_extends$1({},ke,{isDisabled:Me,isFocused:Ue}))}},{key:"renderDropdownIndicator",value:function(){var De=this.getComponents(),Fe=De.DropdownIndicator;if(!Fe)return null;var Oe=this.commonProps,ke=this.props.isDisabled,Me=this.state.isFocused,Ue={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return reactExports.createElement(Fe,_extends$1({},Oe,{innerProps:Ue,isDisabled:ke,isFocused:Me}))}},{key:"renderMenu",value:function(){var De=this,Fe=this.getComponents(),Oe=Fe.Group,ke=Fe.GroupHeading,Me=Fe.Menu,Ue=Fe.MenuList,$e=Fe.MenuPortal,He=Fe.LoadingMessage,Qe=Fe.NoOptionsMessage,We=Fe.Option,qe=this.commonProps,Ke=this.state.focusedOption,Xe=this.props,Ye=Xe.captureMenuScroll,Ze=Xe.inputValue,Je=Xe.isLoading,tr=Xe.loadingMessage,rr=Xe.minMenuHeight,ar=Xe.maxMenuHeight,nr=Xe.menuIsOpen,sr=Xe.menuPlacement,dr=Xe.menuPosition,_r=Xe.menuPortalTarget,fr=Xe.menuShouldBlockScroll,or=Xe.menuShouldScrollIntoView,Er=Xe.noOptionsMessage,Rr=Xe.onMenuScrollToTop,jr=Xe.onMenuScrollToBottom;if(!nr)return null;var xr=function(vr,Tr){var Or=vr.type,Nr=vr.data,Hr=vr.isDisabled,Wr=vr.isSelected,qr=vr.label,Jr=vr.value,An=Ke===Nr,an=Hr?void 0:function(){return De.onOptionHover(Nr)},bn=Hr?void 0:function(){return De.selectOption(Nr)},gn="".concat(De.getElementId("option"),"-").concat(Tr),mn={id:gn,onClick:bn,onMouseMove:an,onMouseOver:an,tabIndex:-1,role:"option","aria-selected":De.state.isAppleDevice?void 0:Wr};return reactExports.createElement(We,_extends$1({},qe,{innerProps:mn,data:Nr,isDisabled:Hr,isSelected:Wr,key:gn,label:qr,type:Or,value:Jr,isFocused:An,innerRef:An?De.getFocusedOptionRef:void 0}),De.formatOptionLabel(vr.data,"menu"))},Pr;if(this.hasOptions())Pr=this.getCategorizedOptions().map(function(yr){if(yr.type==="group"){var vr=yr.data,Tr=yr.options,Or=yr.index,Nr="".concat(De.getElementId("group"),"-").concat(Or),Hr="".concat(Nr,"-heading");return reactExports.createElement(Oe,_extends$1({},qe,{key:Nr,data:vr,options:Tr,Heading:ke,headingProps:{id:Hr,data:yr.data},label:De.formatGroupLabel(yr.data)}),yr.options.map(function(Wr){return xr(Wr,"".concat(Or,"-").concat(Wr.index))}))}else if(yr.type==="option")return xr(yr,"".concat(yr.index))});else if(Je){var br=tr({inputValue:Ze});if(br===null)return null;Pr=reactExports.createElement(He,qe,br)}else{var wr=Er({inputValue:Ze});if(wr===null)return null;Pr=reactExports.createElement(Qe,qe,wr)}var Br={minMenuHeight:rr,maxMenuHeight:ar,menuPlacement:sr,menuPosition:dr,menuShouldScrollIntoView:or},Lr=reactExports.createElement(MenuPlacer,_extends$1({},qe,Br),function(yr){var vr=yr.ref,Tr=yr.placerProps,Or=Tr.placement,Nr=Tr.maxHeight;return reactExports.createElement(Me,_extends$1({},qe,Br,{innerRef:vr,innerProps:{onMouseDown:De.onMenuMouseDown,onMouseMove:De.onMenuMouseMove},isLoading:Je,placement:Or}),reactExports.createElement(ScrollManager,{captureEnabled:Ye,onTopArrive:Rr,onBottomArrive:jr,lockEnabled:fr},function(Hr){return reactExports.createElement(Ue,_extends$1({},qe,{innerRef:function(qr){De.getMenuListRef(qr),Hr(qr)},innerProps:{role:"listbox","aria-multiselectable":qe.isMulti,id:De.getElementId("listbox")},isLoading:Je,maxHeight:Nr,focusedOption:Ke}),Pr)}))});return _r||dr==="fixed"?reactExports.createElement($e,_extends$1({},qe,{appendTo:_r,controlElement:this.controlRef,menuPlacement:sr,menuPosition:dr}),Lr):Lr}},{key:"renderFormField",value:function(){var De=this,Fe=this.props,Oe=Fe.delimiter,ke=Fe.isDisabled,Me=Fe.isMulti,Ue=Fe.name,$e=Fe.required,He=this.state.selectValue;if($e&&!this.hasValue()&&!ke)return reactExports.createElement(RequiredInput$1,{name:Ue,onFocus:this.onValueInputFocus});if(!(!Ue||ke))if(Me)if(Oe){var Qe=He.map(function(Ke){return De.getOptionValue(Ke)}).join(Oe);return reactExports.createElement("input",{name:Ue,type:"hidden",value:Qe})}else{var We=He.length>0?He.map(function(Ke,Xe){return reactExports.createElement("input",{key:"i-".concat(Xe),name:Ue,type:"hidden",value:De.getOptionValue(Ke)})}):reactExports.createElement("input",{name:Ue,type:"hidden",value:""});return reactExports.createElement("div",null,We)}else{var qe=He[0]?this.getOptionValue(He[0]):"";return reactExports.createElement("input",{name:Ue,type:"hidden",value:qe})}}},{key:"renderLiveRegion",value:function(){var De=this.commonProps,Fe=this.state,Oe=Fe.ariaSelection,ke=Fe.focusedOption,Me=Fe.focusedValue,Ue=Fe.isFocused,$e=Fe.selectValue,He=this.getFocusableOptions();return reactExports.createElement(LiveRegion$1,_extends$1({},De,{id:this.getElementId("live-region"),ariaSelection:Oe,focusedOption:ke,focusedValue:Me,isFocused:Ue,selectValue:$e,focusableOptions:He,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var De=this.getComponents(),Fe=De.Control,Oe=De.IndicatorsContainer,ke=De.SelectContainer,Me=De.ValueContainer,Ue=this.props,$e=Ue.className,He=Ue.id,Qe=Ue.isDisabled,We=Ue.menuIsOpen,qe=this.state.isFocused,Ke=this.commonProps=this.getCommonProps();return reactExports.createElement(ke,_extends$1({},Ke,{className:$e,innerProps:{id:He,onKeyDown:this.onKeyDown},isDisabled:Qe,isFocused:qe}),this.renderLiveRegion(),reactExports.createElement(Fe,_extends$1({},Ke,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:Qe,isFocused:qe,menuIsOpen:We}),reactExports.createElement(Me,_extends$1({},Ke,{isDisabled:Qe}),this.renderPlaceholderOrValue(),this.renderInput()),reactExports.createElement(Oe,_extends$1({},Ke,{isDisabled:Qe}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(De,Fe){var Oe=Fe.prevProps,ke=Fe.clearFocusValueOnUpdate,Me=Fe.inputIsHiddenAfterUpdate,Ue=Fe.ariaSelection,$e=Fe.isFocused,He=Fe.prevWasFocused,Qe=Fe.instancePrefix,We=De.options,qe=De.value,Ke=De.menuIsOpen,Xe=De.inputValue,Ye=De.isMulti,Ze=cleanValue(qe),Je={};if(Oe&&(qe!==Oe.value||We!==Oe.options||Ke!==Oe.menuIsOpen||Xe!==Oe.inputValue)){var tr=Ke?buildFocusableOptions(De,Ze):[],rr=Ke?buildFocusableOptionsWithIds(buildCategorizedOptions(De,Ze),"".concat(Qe,"-option")):[],ar=ke?getNextFocusedValue(Fe,Ze):null,nr=getNextFocusedOption(Fe,tr),sr=getFocusedOptionId(rr,nr);Je={selectValue:Ze,focusedOption:nr,focusedOptionId:sr,focusableOptionsWithIds:rr,focusedValue:ar,clearFocusValueOnUpdate:!1}}var dr=Me!=null&&De!==Oe?{inputIsHidden:Me,inputIsHiddenAfterUpdate:void 0}:{},_r=Ue,fr=$e&&He;return $e&&!fr&&(_r={value:valueTernary(Ye,Ze,Ze[0]||null),options:Ze,action:"initial-input-focus"},fr=!He),Ue?.action==="initial-input-focus"&&(_r=null),_objectSpread2(_objectSpread2(_objectSpread2({},Je),dr),{},{prevProps:De,ariaSelection:_r,prevWasFocused:fr})}}]),je})(reactExports.Component);Select$1.defaultProps=defaultProps$1;var StateManagedSelect=reactExports.forwardRef(function(Ce,Re){var je=useStateManager(Ce);return reactExports.createElement(Select$1,_extends$1({ref:Re},je))}),StateManagedSelect$1=StateManagedSelect;const TopSellingProducts=()=>{const[Ce,Re]=reactExports.useState([]),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState([]),{selectedProduct:Oe,selectedDate:ke}=useAnalyticsFilter(),[Me,Ue]=reactExports.useState("chart"),[$e,He]=reactExports.useState(5),[Qe,We]=reactExports.useState(["All"]),[qe,Ke]=reactExports.useState("All"),[Xe,Ye]=reactExports.useState(0),[Ze,Je]=reactExports.useState(!1),[tr,rr]=reactExports.useState({label:"All Time",value:"all"});reactExports.useEffect(()=>{(async()=>{try{const _r=auth$2.currentUser;if(!_r)return;const fr=collection(db$2,"businesses",_r.uid,"finalizedInvoices"),or=await getDocs(fr);let Er=0;or.forEach(wr=>{const Br=wr.data();(Br.cartItems||Br.cart||[]).forEach(yr=>{const vr=Number(yr.quantity||0);isNaN(vr)||(Er+=vr)})}),Ye(Er);const Rr={},jr=new Date,xr=wr=>{if(!tr||tr.value==="all")return!0;const Br=new Date(wr.toDate?wr.toDate():wr),Lr=new Date(jr.getFullYear(),jr.getMonth(),jr.getDate());if(tr.value==="today")return Br.toDateString()===Lr.toDateString();if(tr.value==="last7"){const yr=new Date(Lr);return yr.setDate(yr.getDate()-6),Br>=yr&&Br<=Lr}return tr.value==="month"?Br.getMonth()===Lr.getMonth()&&Br.getFullYear()===Lr.getFullYear():!0};or.forEach(wr=>{const Br=wr.data(),Lr=Br.cartItems||Br.cart||[];xr(Br.timestamp||Br.issuedAt)&&Lr.forEach(yr=>{if(Oe&&yr.sku!==Oe)return;const vr=yr.sku||yr.name||yr.id;if(!vr)return;const Tr=Number(yr.quantity||0);if(Tr<=0)return;Rr[vr]||(Rr[vr]={name:yr.name||"Unnamed",sku:yr.sku||"-",brand:yr.brand||"",unit:yr.unit||"",category:yr.category||"",quantity:0}),Rr[vr].quantity+=Tr,Rr[vr].salesTrend||(Rr[vr].salesTrend=[]);let Or=Br.timestamp||Br.issuedAt,Nr;Or?.toDate?Nr=Or.toDate():(typeof Or=="string"||typeof Or=="number")&&(Nr=new Date(Or)),!(!Nr||isNaN(Nr))&&Rr[vr].salesTrend.push({x:Nr.toISOString(),y:Tr})})});let Pr=Object.values(Rr);Qe.includes("All")||Qe.length>0&&(Pr=Pr.filter(wr=>Qe.includes(wr.brand))),qe&&qe!=="All"&&(Pr=Pr.filter(wr=>wr.category===qe)),Be(Array.from(new Set(Pr.map(wr=>wr.brand))).filter(wr=>wr&&wr!=="")),Fe(Array.from(new Set(Pr.map(wr=>wr.category))).filter(wr=>wr&&wr!==""));const br=Pr.sort((wr,Br)=>Br.quantity-wr.quantity).slice(0,$e).map((wr,Br)=>({...wr,rank:Br+1}));Re(br)}catch(_r){console.error("Error fetching top-selling products:",_r)}})()},[Oe,ke,$e,Qe,qe,tr]);const ar=Ce.reduce((dr,_r)=>dr+_r.quantity,0),nr={};Ce.forEach(dr=>{nr[dr.brand]=(nr[dr.brand]||0)+dr.quantity});const sr=Object.entries(nr).sort((dr,_r)=>_r[1]-dr[1])[0]?.[0]||"N/A";return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Top Selling Products"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-3 flex-wrap",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Top N Products:"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",max:"50",value:$e||"",placeholder:"Enter number",onChange:dr=>{const _r=dr.target.value;if(_r==="")He("");else{const fr=Number(_r);isNaN(fr)||He(fr)}},className:"border rounded px-2 py-1 w-24 text-sm placeholder-gray-400"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Filter by Brand:"}),jsxRuntimeExports.jsx(StateManagedSelect$1,{isMulti:!0,options:[{label:"All Brands",value:"All"},...je.map(dr=>({label:dr,value:dr}))],value:Qe.includes("All")?[{label:"All Brands",value:"All"}]:Qe.map(dr=>({label:dr,value:dr})),onChange:dr=>{dr.some(_r=>_r.value==="All")?We(["All"]):We(dr.map(_r=>_r.value))},placeholder:"Select brands...",className:"min-w-[180px] text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Filter by Category:"}),jsxRuntimeExports.jsx(StateManagedSelect$1,{options:[{label:"All Categories",value:"All"},...De.map(dr=>({label:dr,value:dr}))],value:qe&&qe!=="All"?{label:qe,value:qe}:{label:"All Categories",value:"All"},onChange:dr=>Ke(dr?dr.value:"All"),placeholder:"Select category...",className:"min-w-[180px] text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Time Range:"}),jsxRuntimeExports.jsx(StateManagedSelect$1,{options:[{label:"Today",value:"today"},{label:"Last 7 Days",value:"last7"},{label:"This Month",value:"month"},{label:"All Time",value:"all"}],value:tr?{label:tr.label,value:tr.value}:null,onChange:dr=>rr(dr),placeholder:"Select time range...",className:"min-w-[160px] text-sm"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end mb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ue(Me==="chart"?"table":"chart"),className:"bg-indigo-600 hover:bg-indigo-700 text-white text-sm px-3 py-1 rounded",children:Me==="chart"?"Show as Table":"Show as Chart"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je(!Ze),className:"bg-green-600 hover:bg-green-700 text-white text-sm px-3 py-1 rounded ml-2",children:Ze?"Stop Animation":"Play Animation"})]}),Ce.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No data available"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Me==="chart"?jsxRuntimeExports.jsxs(ResponsiveContainer,{width:"100%",height:300,children:[jsxRuntimeExports.jsxs(BarChart,{data:Ce,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{content:({active:dr,payload:_r})=>{if(dr&&_r&&_r.length){const fr=_r[0].payload;return jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded px-3 py-2 border text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:fr.name}),jsxRuntimeExports.jsxs("p",{children:["Brand: ",fr.brand]}),jsxRuntimeExports.jsxs("p",{children:["SKU: ",fr.sku]}),jsxRuntimeExports.jsxs("p",{children:["Unit: ",fr.unit]}),jsxRuntimeExports.jsxs("p",{children:["Items Sold: ",fr.quantity]})]})}return null}}),jsxRuntimeExports.jsx(Bar,{dataKey:"quantity",fill:"#4f46e5",radius:[4,4,0,0],isAnimationActive:Ze,children:Ce.map(dr=>jsxRuntimeExports.jsx("text",{x:0,y:0,dy:-10,dx:-10,fill:"#4f46e5",fontWeight:"bold",fontSize:14,textAnchor:"middle",children:dr.rank},`rank-${dr.rank}`))})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-between mt-2 px-6",children:Ce.map(dr=>jsxRuntimeExports.jsxs("div",{className:"text-indigo-600 font-bold text-sm",style:{width:`${100/Ce.length}%`,textAlign:"center"},children:["#",dr.rank]},dr.rank))})]}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border border-gray-200",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"border px-3 py-2 text-left text-sm font-semibold",children:"Rank"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2 text-left text-sm font-semibold",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2 text-left text-sm font-semibold",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2 text-left text-sm font-semibold",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2 text-left text-sm font-semibold",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2 text-left text-sm font-semibold",children:"Items Sold"}),jsxRuntimeExports.jsx("th",{className:"border px-3 py-2 text-left text-sm font-semibold",children:"Sales Trend"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ce.map(dr=>jsxRuntimeExports.jsxs("tr",{className:"odd:bg-white even:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"border px-3 py-2 text-sm",children:dr.rank}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2 text-sm",children:dr.name}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2 text-sm",children:dr.sku}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2 text-sm",children:dr.brand}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2 text-sm",children:dr.unit}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2 text-sm",children:dr.quantity}),jsxRuntimeExports.jsx("td",{className:"border px-3 py-2 text-sm",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:80,height:30,children:jsxRuntimeExports.jsx(BarChart,{data:dr.salesTrend||[],children:jsxRuntimeExports.jsx(Bar,{dataKey:"y",fill:"#8884d8"})})})})]},dr.rank))})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 border-t pt-3 text-sm text-gray-700 flex justify-between flex-wrap gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Total Items Sold (Filtered):"})," ",ar]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Top Brand:"})," ",sr]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"All Time Items Sold:"})," ",Xe]})})]})]})]})},ProfitInsights=()=>{const[Ce,Re]=reactExports.useState(!0),[je,Be]=reactExports.useState(0),[De,Fe]=reactExports.useState(0),[Oe,ke]=reactExports.useState([]),[Me,Ue]=reactExports.useState([]),[$e,He]=reactExports.useState([]),[Qe,We]=reactExports.useState("All"),[qe,Ke]=reactExports.useState("All"),[Xe,Ye]=reactExports.useState(null),[Ze,Je]=reactExports.useState(null),[tr,rr]=reactExports.useState(null),[ar,nr]=reactExports.useState(0),[sr,dr]=reactExports.useState({margin:"list",revenue:"list",lowMargin:"list",profit:"list"}),[_r,fr]=reactExports.useState(5),[or,Er]=reactExports.useState(""),[Rr,jr]=reactExports.useState("");return reactExports.useEffect(()=>{(async()=>{Re(!0);const Pr=auth$2.currentUser;if(!Pr)return;const br=collection(db$2,"businesses",Pr.uid,"finalizedInvoices"),wr=collection(db$2,"businesses",Pr.uid,"products"),[Br,Lr]=await Promise.all([getDocs(br),getDocs(wr)]),yr={};Lr.forEach(mn=>{yr[mn.id]=mn.data()});const vr=[...new Set(Object.values(yr).map(mn=>mn.brand).filter(Boolean))],Tr=[...new Set(Object.values(yr).map(mn=>mn.category).filter(Boolean))];let Or=0,Nr=0;const Hr={};Br.forEach(mn=>{const Zr=mn.data();if(Zr.paymentMode==="credit"&&Zr.isPaid!==!0||or&&new Date(Zr.createdAt)<new Date(or)||Rr&&new Date(Zr.createdAt)>new Date(Rr))return;const kn=Number(Zr.totalAmount)||0;Or+=kn,(Array.isArray(Zr.cartItems)?Zr.cartItems:[]).forEach(zn=>{const ei=yr[zn.id];if(!ei)return;const Jn=Number(ei.costPrice||0),Wn=Number(zn.price||0),_i=Number(zn.quantity||0),wi=(Wn-Jn)*_i,Oi=Wn*_i;Nr+=wi;const xi=zn.sku||zn.name;Hr[xi]||(Hr[xi]={name:zn.name,sku:zn.sku,brand:ei.brand||"",unit:ei.unit||"",profit:0,revenue:0,margin:0,cost:0}),Hr[xi].profit+=wi,Hr[xi].revenue+=Oi,Hr[xi].cost=Hr[xi].revenue-Hr[xi].profit})});const Wr=Object.values(Hr).map(mn=>({...mn,margin:mn.revenue>0?mn.profit/mn.revenue*100:0})).sort((mn,Zr)=>Zr.profit-mn.profit),qr=Wr.reduce((mn,Zr)=>mn.margin>Zr.margin?mn:Zr),Jr=Wr.reduce((mn,Zr)=>mn.revenue>Zr.revenue?mn:Zr),An=Wr.filter(mn=>mn.margin>30).sort((mn,Zr)=>mn.revenue-Zr.revenue)[0],gn=Wr.slice(0,3).reduce((mn,Zr)=>mn+Zr.profit,0)/Nr*100;Be(Or),Fe(Nr),ke(Wr),Ye(qr),Je(Jr),rr(An),nr(gn),Ue(vr),He(Tr),Re(!1)})()},[or,Rr]),Ce?jsxRuntimeExports.jsx("div",{className:"p-5",children:"Loading Profit Insights..."}):jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:" Profit Insights"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Top N Products"}),jsxRuntimeExports.jsx("input",{type:"number",min:1,value:_r,onChange:xr=>fr(Number(xr.target.value)),className:"border rounded px-2 py-1 w-24"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Filter by Brand"}),jsxRuntimeExports.jsx(StateManagedSelect$1,{options:[{label:"All Brands",value:"All"},...Me.map(xr=>({label:xr,value:xr}))],value:{label:Qe,value:Qe},onChange:xr=>We(xr.value),className:"min-w-[180px]"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Filter by Category"}),jsxRuntimeExports.jsx(StateManagedSelect$1,{options:[{label:"All Categories",value:"All"},...$e.map(xr=>({label:xr,value:xr}))],value:{label:qe,value:qe},onChange:xr=>Ke(xr.value),className:"min-w-[180px]"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"From"}),jsxRuntimeExports.jsx("input",{type:"date",value:or,onChange:xr=>Er(xr.target.value),className:"border rounded px-2 py-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"To"}),jsxRuntimeExports.jsx("input",{type:"date",value:Rr,onChange:xr=>jr(xr.target.value),className:"border rounded px-2 py-1"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-6",children:[{key:"margin",title:" Highest Margin Products",data:[...Oe].sort((xr,Pr)=>Pr.margin-xr.margin)},{key:"revenue",title:" Most Revenue Products",data:[...Oe].sort((xr,Pr)=>Pr.revenue-xr.revenue)}].map(xr=>jsxRuntimeExports.jsxs("div",{className:"bg-white shadow rounded p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:xr.title}),jsxRuntimeExports.jsx("button",{className:"text-blue-500 text-sm",onClick:()=>dr(Pr=>({...Pr,[xr.key]:Pr[xr.key]==="list"?"chart":"list"})),children:sr[xr.key]==="list"?" Chart":" List"})]}),sr[xr.key]==="list"?jsxRuntimeExports.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-1",children:xr.data.slice(0,_r).map((Pr,br)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800",children:Pr.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:["Revenue: ",Pr.revenue?.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold text-green-600",children:["Profit: ",Pr.profit?.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-600",children:["Margin: ",Pr.margin?.toFixed(1),"%"]})]})]},br))}):jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:220,children:jsxRuntimeExports.jsxs(BarChart,{data:xr.data.slice(0,_r),children:[jsxRuntimeExports.jsx(XAxis,{dataKey:"name"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"profit",fill:"#22c55e",name:"Profit"})]})})]},xr.key))}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Total Revenue:"})," ",je.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Total Profit:"})," ",De.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Profit Margin:"})," ",(De/je*100).toFixed(1),"%"]})]})},InventoryForecast=()=>{const[Ce,Re]=reactExports.useState([]),[je,Be]=reactExports.useState(30);return reactExports.useEffect(()=>{(async()=>{try{const Fe=auth$2.currentUser;if(!Fe)return;const Oe=collection(db$2,"businesses",Fe.uid,"finalizedInvoices"),ke=await getDocs(Oe),Me=new Date,Ue=new Date;Ue.setDate(Me.getDate()-je);const $e={};ke.forEach(Qe=>{const We=Qe.data(),qe=We.createdAt?.toDate?.()??(typeof We.createdAt=="string"||typeof We.createdAt=="number"?new Date(We.createdAt):null);if(!qe||qe<Ue)return;(We.cart||We.cartItems||[]).forEach(Xe=>{const Ye=Xe.inventoryId||Xe.id;Ye&&($e[Ye]||($e[Ye]=0),$e[Ye]+=Number(Xe.quantity||0))})});const He=[];for(const Qe of Object.keys($e)){const We=doc(db$2,"businesses",Fe.uid,"products",Qe),qe=await getDoc(We);if(!qe.exists())continue;const Ke=qe.data(),Xe=Ke.quantity||0,Ye=$e[Qe],Ze=Ye/je,Je=Ze*je,tr=Math.max(0,Je-Xe);He.push({name:Ke.name,sku:Ke.sku,sold:Ye,avgDailySales:Math.round(Ze),currentStock:Xe,recommendedStock:Je,reorderQty:tr})}Re(He)}catch(Fe){console.error("Error forecasting inventory:",Fe)}})()},[je]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-5",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium mr-2",children:"Select Time Range:"}),jsxRuntimeExports.jsxs("select",{value:je,onChange:De=>Be(Number(De.target.value)),className:"border rounded px-2 py-1",children:[jsxRuntimeExports.jsx("option",{value:7,children:"Last 7 Days"}),jsxRuntimeExports.jsx("option",{value:15,children:"Last 15 Days"}),jsxRuntimeExports.jsx("option",{value:30,children:"Last 30 Days"}),jsxRuntimeExports.jsx("option",{value:90,children:"Last 3 Months"}),jsxRuntimeExports.jsx("option",{value:180,children:"Last 6 Months"}),jsxRuntimeExports.jsx("option",{value:365,children:"Last 1 Year"})]})]}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Inventory Forecast"}),Ce.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No sales data available for the selected period."}):jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm border-t",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b bg-gray-50 text-left",children:[jsxRuntimeExports.jsx("th",{className:"p-2",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Sold"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Daily Velocity"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Stock"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Recommended"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Reorder"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ce.map((De,Fe)=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsxs("td",{className:"p-2",children:[De.name," (",De.sku,")"]}),jsxRuntimeExports.jsx("td",{className:"p-2",children:De.sold}),jsxRuntimeExports.jsx("td",{className:"p-2",children:De.avgDailySales}),jsxRuntimeExports.jsx("td",{className:"p-2",children:De.currentStock}),jsxRuntimeExports.jsx("td",{className:"p-2",children:De.recommendedStock}),jsxRuntimeExports.jsx("td",{className:`p-2 ${De.reorderQty>0?"text-red-600 font-semibold":"text-gray-500"}`,children:De.reorderQty})]},Fe))})]})]})},InvoiceTypeBreakdown=()=>{const[Ce,Re]=reactExports.useState({});return reactExports.useEffect(()=>{(async()=>{try{const Be=auth$2.currentUser;if(!Be)return;const De=collection(db$2,"businesses",Be.uid,"finalizedInvoices"),Fe=await getDocs(De),Oe={};Fe.forEach(ke=>{const Ue=ke.data().invoiceType||"Unspecified";Oe[Ue]||(Oe[Ue]=0),Oe[Ue]+=1}),Re(Oe)}catch(Be){console.error("Error fetching invoice type breakdown:",Be)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Invoice Type Breakdown"}),Object.keys(Ce).length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No invoices found."}):jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-1",children:Object.entries(Ce).map(([je,Be],De)=>jsxRuntimeExports.jsxs("li",{children:[je,": ",Be," invoice",Be>1?"s":""]},De))})]})},SalesGrowthHeatmap=()=>{const[Ce,Re]=reactExports.useState({});return reactExports.useEffect(()=>{(async()=>{try{const Be=auth$2.currentUser;if(!Be)return;const De=collection(db$2,"businesses",Be.uid,"finalizedInvoices"),Fe=await getDocs(De),Oe={};for(let ke=0;ke<30;ke++){const Me=format(subDays(new Date,ke),"yyyy-MM-dd");Oe[Me]=0}Fe.forEach(ke=>{const Me=ke.data();if(!Me.createdAt||!Me.totalAmount)return;const Ue=Me.createdAt.toDate?Me.createdAt.toDate():new Date(Me.createdAt),$e=format(Ue,"yyyy-MM-dd");Oe[$e]!==void 0&&(Oe[$e]+=Me.totalAmount)}),Re(Oe)}catch(Be){console.error("Error fetching daily sales:",Be)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sales Growth (Last 30 Days)"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-5 gap-2 text-center text-sm",children:Object.entries(Ce).map(([je,Be],De)=>jsxRuntimeExports.jsxs("div",{className:"p-2 border rounded",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:format(new Date(je),"MMM d")}),jsxRuntimeExports.jsxs("div",{className:"text-green-700 font-semibold",children:["",Be.toFixed(0)]})]},De))})]})},SmartSuggestionsPanel=()=>{const[Ce,Re]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{try{const Be=auth$2.currentUser;if(!Be)return;const De=collection(db$2,"businesses",Be.uid,"finalizedInvoices"),Fe=collection(db$2,"businesses",Be.uid,"products"),Oe=await getDocs(De),ke=await getDocs(Fe);let Me=0;const Ue={},$e=[];Oe.forEach(qe=>{const Ke=qe.data();Me+=Ke.totalAmount||0,(Ke.cart||[]).forEach(Ye=>{const Ze=Ye.sku||Ye.name;Ze&&(Ue[Ze]||(Ue[Ze]=0),Ue[Ze]+=Ye.quantity||0)})}),ke.forEach(qe=>{const Ke=qe.data();(Ke.quantity||0)<10&&$e.push(Ke.name)});const He=Object.entries(Ue).sort((qe,Ke)=>Ke[1]-qe[1]).slice(0,2).map(([qe,Ke])=>`Consider bundling "${qe}" in offers. High sales volume.`),Qe=$e.map(qe=>`Restock soon: "${qe}" is running low.`),We=[` Total Revenue so far: ${Me.toFixed(0)}.`,...He,...Qe];Re(We)}catch(Be){console.error("Error generating smart suggestions:",Be)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Smart Suggestions"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[Ce.map((je,Be)=>jsxRuntimeExports.jsx("li",{className:"text-gray-700",children:je},Be)),Ce.length===0&&jsxRuntimeExports.jsx("li",{className:"text-gray-500",children:"Generating suggestions..."})]})]})},BusinessAnalytics=()=>jsxRuntimeExports.jsx(AnalyticsFilterProvider,{children:jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" Business Analytics Dashboard"}),jsxRuntimeExports.jsx(FilterControls,{}),jsxRuntimeExports.jsx(RevenueOverview,{}),jsxRuntimeExports.jsx(TopSellingProducts,{}),jsxRuntimeExports.jsx(ProfitInsights,{}),jsxRuntimeExports.jsx(InventoryForecast,{}),jsxRuntimeExports.jsx(InvoiceTypeBreakdown,{}),jsxRuntimeExports.jsx(SalesGrowthHeatmap,{}),jsxRuntimeExports.jsx(SmartSuggestionsPanel,{})]})}),FilterControls=()=>{const{selectedProduct:Ce,setSelectedProduct:Re,selectedDate:je,setSelectedDate:Be}=useAnalyticsFilter();return jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select Product:"}),jsxRuntimeExports.jsxs("select",{className:"mt-1 block w-60 rounded border-gray-300 shadow-sm",value:Ce||"",onChange:De=>Re(De.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Products"}),jsxRuntimeExports.jsx("option",{value:"SKU1",children:"SKU1"}),jsxRuntimeExports.jsx("option",{value:"SKU2",children:"SKU2"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select Date:"}),jsxRuntimeExports.jsx("input",{type:"date",className:"mt-1 block w-48 rounded border-gray-300 shadow-sm",value:je||"",onChange:De=>Be(De.target.value)})]})]})},SendRequestModal=({distributor:Ce,onClose:Re})=>{const[je,Be]=reactExports.useState(""),[De,Fe]=reactExports.useState(!1),Oe=auth$2.currentUser,ke=async()=>{if(!Oe||!Ce?.id){alert("Missing user or distributor info.");return}Fe(!0);const Me=Oe.uid,Ue=Ce.id,$e=await getDoc(doc(db$2,"businesses",Me)),He=$e.exists()?$e.data():{},Qe={retailerId:Me,retailerName:Oe.displayName||"Retailer",businessName:He.businessName||"",ownerName:He.ownerName||"",email:He.email||"",phone:He.phone||"",city:He.city||"",message:je||"",sentAt:serverTimestamp(),status:"pending"};console.log(" Sending request to distributor:",Ue),console.log(" Request payload:",Qe);try{await setDoc(doc(db$2,`businesses/${Ue}/connectionRequests/${Me}`),Qe,{merge:!0}),await setDoc(doc(db$2,`businesses/${Me}/sentRequests/${Ue}`),{distributorId:Ue,distributorName:Ce.businessName||Ce.displayName||"Distributor",retailerId:Me,message:je||"",sentAt:serverTimestamp(),status:"pending"},{merge:!0}),alert(" Connection request sent!"),Re()}catch(We){console.error(" Error sending request:",We),alert("Failed to send request. Check console for details.")}finally{Fe(!1)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-md",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Connect with ",Ce.businessName]}),jsxRuntimeExports.jsx("textarea",{className:"w-full border px-3 py-2 rounded mb-4",placeholder:"Optional message...",rows:3,value:je,onChange:Me=>Be(Me.target.value)}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:Re,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:ke,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:De,children:De?"Sending...":"Send Request"})]})]})})},checkIfRequestExists=async(Ce,Re)=>{const je=doc(db$2,"businesses",Ce,"sentRequests",Re),Be=doc(db$2,"businesses",Re,"connectionRequests",Ce),[De,Fe]=await Promise.all([getDoc(je),getDoc(Be)]);if(De.exists()&&Fe.exists()){const Oe=De.data().status,ke=Fe.data().status;return Oe==="accepted"&&ke==="accepted"?"connected":Oe||ke||null}else{if(De.exists())return De.data().status;if(Fe.exists())return Fe.data().status}return null},SearchDistributor=()=>{const[Ce,Re]=reactExports.useState(""),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(!1),[Oe,ke]=reactExports.useState(null),[Me,Ue]=reactExports.useState(!1),$e=async()=>{if(!Ce.trim())return;Fe(!0);const He=query(collection(db$2,"businesses"),where("role","==","Distributor"));let Qe=[];try{Qe=await getDocs(He)}catch(Ke){console.error(" Firestore search error:",Ke.message),alert("Permission error or network issue. Please check your Firebase rules or connection."),Fe(!1);return}const We=[],qe=auth$2.currentUser?.uid;for(const Ke of Qe.docs){const Xe=Ke.data(),Ye=Ke.id;if(Xe.businessName?.toLowerCase().includes(Ce.toLowerCase())||Xe.ownerName?.toLowerCase().includes(Ce.toLowerCase())||Xe.phone?.includes(Ce)||Xe.city?.toLowerCase().includes(Ce.toLowerCase())||Ye===Ce){const Ze=await checkIfRequestExists(qe,Ye);We.push({id:Ye,...Xe,requestStatus:Ze})}}Be(We),Fe(!1)};return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Search Distributors"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, phone, city or ID",value:Ce,onChange:He=>Re(He.target.value),className:"border px-3 py-2 rounded w-full"}),jsxRuntimeExports.jsx("button",{onClick:$e,className:"bg-blue-600 text-white px-4 py-2 rounded",children:De?"Searching...":"Search"})]}),jsxRuntimeExports.jsxs("div",{children:[je.length===0&&!De&&jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No distributors found."}),je.map(He=>jsxRuntimeExports.jsxs("div",{className:"border p-3 rounded mb-2 shadow-sm flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:He.businessName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Owner: ",He.ownerName]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["City: ",He.city]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Phone: ",He.phone]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",He.id]})]}),He.requestStatus==="connected"?jsxRuntimeExports.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded",children:"Connected"}):He.requestStatus==="accepted"?jsxRuntimeExports.jsx("span",{className:"bg-green-400 text-white px-3 py-1 rounded",children:"Accepted"}):He.requestStatus==="pending"?jsxRuntimeExports.jsx("span",{className:"bg-gray-400 text-white px-3 py-1 rounded",children:"Request Sent"}):jsxRuntimeExports.jsx("button",{onClick:()=>{ke(He),Ue(!0)},className:"bg-green-600 text-white px-3 py-1 rounded",children:"Send Request"})]},He.id))]}),Me&&Oe&&jsxRuntimeExports.jsx(SendRequestModal,{distributor:Oe,onClose:()=>{Ue(!1),ke(null)}})]})},ViewSentRequests=()=>{const[Ce,Re]=reactExports.useState([]),[je,Be]=reactExports.useState(!1),De=auth$2.currentUser;return reactExports.useEffect(()=>{if(!De)return;const Fe=collection(db$2,`businesses/${De.uid}/sentRequests`),Oe=onSnapshot(Fe,ke=>{const Me=ke.docs.map(Ue=>({id:Ue.id,...Ue.data()}));Re(Me)});return()=>Oe()},[De]),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Sent Distributor Requests"}),je?jsxRuntimeExports.jsx("p",{children:"Loading..."}):Ce.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"You havent sent any requests yet."}):jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:Ce.map(Fe=>jsxRuntimeExports.jsxs("li",{className:"border rounded p-4 flex justify-between items-center shadow-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:Fe.distributorName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Distributor ID: ",Fe.distributorId]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",Fe.status]})]}),Fe.status==="pending"&&jsxRuntimeExports.jsx("button",{disabled:!0,className:"bg-yellow-400 text-white px-3 py-1 rounded opacity-60 cursor-not-allowed",children:"Pending"}),Fe.status==="active"&&jsxRuntimeExports.jsx("span",{className:"bg-green-600 text-white px-3 py-1 rounded",children:"Connected"})]},Fe.id))})]})},RetailerOrderRequestForm=({distributorId:Ce})=>{const[Re,je]=reactExports.useState([]),[Be,De]=reactExports.useState(!1),[Fe,Oe]=reactExports.useState([]),[ke,Me]=reactExports.useState([]),[Ue,$e]=reactExports.useState("COD"),[He,Qe]=reactExports.useState(15),[We,qe]=reactExports.useState({advance:"",balance:""});reactExports.useEffect(()=>{if(!Ce)return;const Ze=query(collection(db$2,"businesses",Ce,"products")),Je=onSnapshot(Ze,tr=>{const rr=tr.docs.map(ar=>({id:ar.id,...ar.data()}));Oe(rr)});return()=>Je()},[Ce]);const Ke=(Ze,Je,tr)=>{const rr=[...Re];if(rr[Ze][Je]=tr,je(rr),Je==="productName"){const ar=tr.toLowerCase(),nr=Fe.filter(sr=>sr.productName?.toLowerCase().includes(ar)||sr.sku?.toLowerCase().includes(ar)||sr.brand?.toLowerCase().includes(ar)||sr.category?.toLowerCase().includes(ar)||sr.unit?.toLowerCase().includes(ar)||(sr.sellingPrice+"").includes(ar));Me(nr)}},Xe=()=>{je([...Re,{productName:"",sku:"",brand:"",category:"",quantity:"",unit:"",description:"",notes:"",unitPrice:""}])},Ye=async()=>{const Ze=auth$2.currentUser;if(!(!Ze||!Ce||Re.length===0))try{De(!0);const Je=Re.reduce((fr,or)=>{const Er=parseFloat(or.quantity)||0,Rr=parseFloat(or.unitPrice)||0;return fr+Er*Rr},0),tr=await getDoc(doc(db$2,"businesses",Ce)),rr=tr.exists()?tr.data():{},ar=rr.phone||"",nr=rr.email||"",sr=collection(db$2,`businesses/${Ce}/orderRequests`),dr=await addDoc(sr,{retailerId:Ze.uid,distributorId:Ce,items:Re,totalAmount:Je,paymentMode:Ue,creditDays:Ue==="Credit Cycle"?He:null,splitPayment:Ue==="Split Payment"?We:null,status:"Requested",timestamp:serverTimestamp(),distributorName:rr.businessName||rr.ownerName||"",distributorCity:rr.city||"",distributorState:rr.state||"",distributorPhone:ar,distributorEmail:nr}),_r=doc(db$2,`businesses/${Ze.uid}/sentOrders/${dr.id}`);await setDoc(_r,{retailerId:Ze.uid,distributorId:Ce,items:Re,totalAmount:Je,paymentMode:Ue,creditDays:Ue==="Credit Cycle"?He:null,splitPayment:Ue==="Split Payment"?We:null,status:"Requested",timestamp:serverTimestamp(),distributorName:rr.businessName||rr.ownerName||"",distributorCity:rr.city||"",distributorState:rr.state||"",distributorPhone:ar,distributorEmail:nr}),y$2.success("Order request sent successfully!"),je([{productName:"",sku:"",brand:"",category:"",quantity:"",unit:"",description:"",notes:"",unitPrice:""}])}catch(Je){console.error("Error sending order:",Je),alert("Failed to send order request.")}finally{De(!1)}};return jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded shadow-md bg-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Send Order Request"}),jsxRuntimeExports.jsxs("div",{className:"mb-4 relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:" Search product by name, SKU, brand, etc.",className:"w-full px-4 py-2 border rounded shadow-sm",onChange:Ze=>{const Je=Ze.target.value.toLowerCase();if(Je.trim()===""){Me([]);return}const tr=Fe.filter(rr=>rr.productName?.toLowerCase().includes(Je)||rr.sku?.toLowerCase().includes(Je)||rr.brand?.toLowerCase().includes(Je)||rr.category?.toLowerCase().includes(Je)||(rr.sellingPrice+"").includes(Je));Me(tr)}}),ke.length>0&&jsxRuntimeExports.jsx("ul",{className:"bg-white border rounded mt-1 max-h-40 overflow-y-auto text-sm absolute left-0 right-0 z-20",children:ke.map(Ze=>jsxRuntimeExports.jsxs("li",{className:"px-3 py-2 hover:bg-blue-100 cursor-pointer border-b",onClick:()=>{if(Re.some(tr=>tr.sku===Ze.sku)){y$2.warning("Item already added to cart.");return}je([...Re,{productName:Ze.productName,sku:Ze.sku,brand:Ze.brand,category:Ze.category,quantity:"",unit:Ze.unit||"",description:"",notes:"",unitPrice:Ze.sellingPrice||"",available:Ze.quantity,distributorProductId:Ze.id}]),Me([])},children:[jsxRuntimeExports.jsx("div",{className:"font-semibold",children:Ze.productName}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-600 flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs("span",{children:["Brand: ",Ze.brand||""]}),jsxRuntimeExports.jsxs("span",{children:["SKU: ",Ze.sku||""]}),jsxRuntimeExports.jsxs("span",{children:["Unit: ",Ze.unit||""]}),jsxRuntimeExports.jsxs("span",{children:["Price: ",Ze.sellingPrice||""]}),jsxRuntimeExports.jsxs("span",{className:`font-semibold ${Ze.quantity===0?"text-red-600":Ze.quantity<=10?"text-yellow-600":"text-green-600"}`,children:["In Stock: ",Ze.quantity]})]})]},Ze.id))})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"font-medium mr-2",children:"Payment Mode:"}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",value:Ue,onChange:Ze=>$e(Ze.target.value),children:[jsxRuntimeExports.jsx("option",{value:"COD",children:"Cash on Delivery"}),jsxRuntimeExports.jsx("option",{value:"Advance Payment",children:"Advance Payment"}),jsxRuntimeExports.jsx("option",{value:"Credit Cycle",children:"Credit Cycle"}),jsxRuntimeExports.jsx("option",{value:"Post-Sale Payment",children:"Post-Sale Payment"}),jsxRuntimeExports.jsx("option",{value:"Split Payment",children:"Split Payment"}),jsxRuntimeExports.jsx("option",{value:"Monthly Ledger",children:"Monthly Credit Statement"})]}),Ue==="Credit Cycle"&&jsxRuntimeExports.jsx("input",{type:"number",className:"ml-4 border px-3 py-2 rounded",placeholder:"Credit days",value:He,onChange:Ze=>Qe(Ze.target.value)}),Ue==="Split Payment"&&jsxRuntimeExports.jsxs("div",{className:"ml-4 flex gap-2 mt-2",children:[jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Advance %",className:"border px-3 py-2 rounded",value:We.advance,onChange:Ze=>qe({...We,advance:Ze.target.value})}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Balance %",className:"border px-3 py-2 rounded",value:We.balance,onChange:Ze=>qe({...We,balance:Ze.target.value})})]})]}),Re.map((Ze,Je)=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-9 gap-2 mb-2 items-center",children:[jsxRuntimeExports.jsx("div",{className:"relative flex-grow",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Product Name",className:"border px-3 py-2 rounded w-full bg-gray-100 cursor-not-allowed",value:Ze.productName,disabled:!0})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"SKU",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:Ze.sku,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Brand",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:Ze.brand,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Category",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:Ze.category,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Quantity",className:"border px-3 py-2 rounded",value:Ze.quantity,onChange:tr=>Ke(Je,"quantity",tr.target.value)}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Unit (e.g., kg)",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:Ze.unit,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Price ()",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:Ze.unitPrice,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Description",className:"border px-3 py-2 rounded",value:Ze.description,onChange:tr=>Ke(Je,"description",tr.target.value)}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Notes",className:"border px-3 py-2 rounded w-full",value:Ze.notes,onChange:tr=>Ke(Je,"notes",tr.target.value)}),jsxRuntimeExports.jsx("button",{onClick:()=>{const tr=Re.filter((rr,ar)=>ar!==Je);je(tr)},className:"text-red-500 hover:text-red-700 text-sm",title:"Remove Row",children:""})]})]},Je)),jsxRuntimeExports.jsx("button",{onClick:Xe,className:"mb-4 bg-gray-300 px-3 py-1 rounded text-sm hover:bg-gray-400",children:"+ Add Item"}),jsxRuntimeExports.jsxs("div",{className:"text-right font-semibold text-lg mb-3",children:["Total: ",Re.reduce((Ze,Je)=>Ze+parseFloat(Je.unitPrice||0)*parseFloat(Je.quantity||0),0).toFixed(2)]}),jsxRuntimeExports.jsx("button",{onClick:Ye,disabled:Be||!Ce,className:"block w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:Be?"Sending Order...":"Send Order"})]})},checkRetailerConnected=async(Ce,Re)=>{const je=doc(db$2,"businesses",Re,"connectedRetailers",Ce);return(await getDoc(je)).exists()},SmartAssistant=({distributor:Ce})=>{reactExports.useEffect(()=>{console.log(" SmartAssistant Debug:"),console.log("Retailer UID (auth):",auth$2.currentUser?.uid),console.log("Distributor ID (prop):",Ce?.id)},[Ce]);const[Re,je]=reactExports.useState([]),[Be,De]=reactExports.useState(""),[Fe,Oe]=reactExports.useState(""),[ke,Me]=reactExports.useState(!1),[Ue,$e]=reactExports.useState([]),[He,Qe]=reactExports.useState(""),We=reactExports.useRef(null),qe=auth$2.currentUser?.uid,Ke=Ce?.id;reactExports.useEffect(()=>{if(!qe||!Ke)return;const Ye=collection(db$2,"businesses",Ke,"connectedRetailers",qe,"assistantChats"),Ze=query(Ye,orderBy$1("timestamp")),Je=onSnapshot(Ze,tr=>{const rr=tr.docs.map(ar=>({id:ar.id,...ar.data()}));je(rr)});return()=>Je()},[qe,Ke]),reactExports.useEffect(()=>{if(!qe||!Ke)return;const Ye=query(collection(db$2,"assistantQueries"),orderBy$1("timestamp","desc")),Ze=onSnapshot(Ye,Je=>{const tr=Je.docs.find(rr=>rr.data().userId===qe&&rr.data().distributorId===Ke&&rr.data().source==="SmartAssistant"&&rr.data().reply);if(tr){const rr=tr.data().reply;if(!Re.some(nr=>nr.message===rr&&nr.sender==="assistant")){const nr={id:`reply-${tr.id}`,message:rr,sender:"assistant",timestamp:tr.data().timestamp};je(sr=>[...sr,nr]),Me(!1)}}});return()=>Ze()},[qe,Ke,Re]),reactExports.useEffect(()=>{const Ye=setTimeout(()=>{Qe(Be.trim())},300);return()=>clearTimeout(Ye)},[Be]),reactExports.useEffect(()=>{if(!He||!Ke){$e([]);return}(async()=>{if(!await checkRetailerConnected(qe,Ke)){$e([]);return}const Je=query(collection(db$2,"businesses",Ke,"products"));try{const rr=(await __vitePreload(async()=>{const{getDocs:ar}=await Promise.resolve().then(()=>index_esm$1);return{getDocs:ar}},void 0,import.meta.url).then(({getDocs:ar})=>ar(Je))).docs.map(ar=>ar.data().name).filter(ar=>ar?.toLowerCase().includes(He.toLowerCase()));$e(rr.slice(0,5))}catch(tr){console.error("Suggestion fetch error:",tr),$e([])}})()},[He,Ke]);const Xe=async()=>{if(!Be.trim())return;if(!qe||!Ke){console.error("Missing retailerId or distributorId");return}const Ye={message:Be.trim(),sender:"retailer",timestamp:serverTimestamp()};try{await addDoc(collection(db$2,"businesses",Ke,"connectedRetailers",qe,"assistantChats"),Ye),await addDoc(collection(db$2,"assistantQueries"),{prompt:Be.trim(),timestamp:serverTimestamp(),userId:qe,distributorId:Ke,role:"retailer",source:"SmartAssistant"}),De(""),Me(!0)}catch(Ze){console.error("Failed to send message:",Ze.message)}};return reactExports.useEffect(()=>{We.current?.scrollIntoView({behavior:"smooth"})},[Re]),jsxRuntimeExports.jsxs("div",{className:"h-[500px] flex flex-col border rounded shadow p-4 bg-white relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 mb-4",children:[Re.map(Ye=>jsxRuntimeExports.jsxs("div",{className:`p-2 max-w-xs rounded ${Ye.sender==="retailer"?"bg-blue-100 self-end text-right":"bg-gray-100 self-start text-left"}`,children:[jsxRuntimeExports.jsx("p",{className:"text-sm",children:Ye.message}),Ye.sender==="assistant"&&Ye.timestamp&&jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:" Delivered"})]},Ye.id)),ke&&jsxRuntimeExports.jsx("div",{className:"p-2 max-w-xs rounded bg-gray-100 self-start text-left animate-pulse",children:jsxRuntimeExports.jsx("p",{className:"text-sm italic text-gray-500",children:"Assistant is typing..."})}),jsxRuntimeExports.jsx("div",{ref:We})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 relative",children:[jsxRuntimeExports.jsx("input",{type:"text",className:"flex-1 border rounded px-3 py-2 text-sm",placeholder:"Ask something...",value:Be,onChange:Ye=>De(Ye.target.value),onKeyDown:Ye=>Ye.key==="Enter"&&Xe()}),jsxRuntimeExports.jsx("button",{onClick:Xe,className:"bg-blue-600 text-white px-4 py-2 rounded text-sm",children:"Send"}),Ue.length>0&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-14 left-0 right-0 bg-white border rounded shadow text-sm z-10",children:Ue.map((Ye,Ze)=>jsxRuntimeExports.jsx("div",{onClick:()=>{De(Ye),$e([])},className:"px-3 py-2 hover:bg-gray-100 cursor-pointer",children:Ye},Ze))})]})]})},ConnectedDistributorPanel=({distributor:Ce,onBack:Re})=>{if(!Ce)return console.warn(" No distributor passed to ConnectedDistributorPanel"),jsxRuntimeExports.jsx("div",{className:"p-4 text-red-600",children:"Error: No distributor selected."});const[je,Be]=reactExports.useState("overview"),De=()=>{switch(je){case"overview":return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Distributor Overview"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Name:"})," ",Ce?.businessName||Ce?.distributorName||Ce?.name||Ce?.ownerName||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"City:"})," ",Ce?.city||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Phone:"})," ",Ce?.phone||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",Ce?.email||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"ID:"})," ",Ce?.id||"N/A"]})]});case"enquiry":return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Send Enquiry"}),jsxRuntimeExports.jsx("textarea",{className:"w-full border p-2 rounded",rows:"4",placeholder:"Type your message about item, pricing or availability..."}),jsxRuntimeExports.jsx("button",{className:"mt-2 bg-blue-600 text-white px-4 py-2 rounded",children:"Send Enquiry"})]});case"order":return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Place Order"}),jsxRuntimeExports.jsx(RetailerOrderRequestForm,{distributorId:Ce?.id})]});case"chat":return jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsx(SmartAssistant,{distributor:Ce})});default:return null}};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow-md mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50 rounded-t",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Connected to ",Ce?.businessName||Ce?.distributorName||Ce?.name||Ce?.ownerName||"N/A"]}),Re&&jsxRuntimeExports.jsx("button",{onClick:Re,className:"text-sm text-blue-600 hover:underline","data-testid":"back-to-distributors",children:" Back"})]}),jsxRuntimeExports.jsx("div",{className:"flex border-b",children:[{key:"overview",label:"Distributor Overview"},{key:"enquiry",label:"Send Enquiry"},{key:"order",label:"Place Order"},{key:"chat",label:"Smart Assistant"}].map(({key:Fe,label:Oe})=>jsxRuntimeExports.jsx("button",{className:`px-4 py-2 text-sm capitalize font-medium ${je===Fe?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,onClick:()=>Be(Fe),children:Oe},Fe))}),jsxRuntimeExports.jsx("div",{children:De()})]})},RetailerConnectedDistributors=({onSelect:Ce})=>{const[Re,je]=reactExports.useState([]),[Be,De]=reactExports.useState(!1),Fe=auth$2.currentUser;reactExports.useEffect(()=>{Fe&&Oe()},[Fe]);const Oe=async()=>{De(!0);try{const $e=collection(db$2,`businesses/${Fe.uid}/connectedDistributors`),He=await getDocs($e);if(He.empty)console.warn(`[ConnectedDistributors]  No connectedDistributors found for user: ${Fe.uid}`),je([]);else{const We=He.docs.map(qe=>{const Ke=qe.data()||{};return{id:qe.id,distributorName:Ke.distributorName||"Unnamed Distributor",city:Ke.city||"Unknown City",email:Ke.distributorEmail||"Not Provided",phone:Ke.distributorPhone||"Not Provided",distributorOwner:Ke.distributorOwner||"",...Ke}}).sort((qe,Ke)=>{const Xe=qe.distributorName.toLowerCase(),Ye=Ke.distributorName.toLowerCase();return Xe.localeCompare(Ye)});console.log(`[ConnectedDistributors]  Found ${We.length} connected distributors`),je(We)}}catch($e){console.error("[ConnectedDistributors]  Error fetching connected distributors:",$e),je([])}De(!1)},[ke,Me]=reactExports.useState(null),Ue=async $e=>{try{const He=doc(db$2,"businesses",$e.id),Qe=await getDoc(He);if(Qe.exists()){const We=Qe.data();Me({...$e,...We})}else console.warn(`No profile found for distributor ID: ${$e.id}`),Me($e)}catch(He){console.error("Failed to fetch distributor profile:",He),Me($e)}};return jsxRuntimeExports.jsx("div",{children:Be?jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:"Loading connected distributors..."}):ke?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"mb-4 text-lg font-semibold",children:["Distributor: ",ke?.distributorName||ke?.id]}),jsxRuntimeExports.jsx(ConnectedDistributorPanel,{distributor:ke,onBack:()=>Me(null)})]}):Re.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"No connected distributors found."}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"View Connected Distributors"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Re.map($e=>jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:$e.distributorOwner||$e.distributorName||$e.id}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:$e.city||"City unknown"}),($e.phone||$e.email)&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[$e.phone&&jsxRuntimeExports.jsxs("span",{children:["Phone: ",$e.phone," "]}),$e.email&&jsxRuntimeExports.jsxs("span",{children:["Email: ",$e.email]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ue($e),className:"mt-2 text-sm bg-blue-600 text-white px-3 py-1 rounded",children:"View Details"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-green-600 font-semibold",children:"Connected"})]},$e.id))})]})})},AddEmployeeForm=()=>{const[Ce,Re]=reactExports.useState({name:"",email:"",password:"",role:"Staff",phone:""}),[je,Be]=reactExports.useState(!1),De=ke=>{Re({...Ce,[ke.target.name]:ke.target.value})},Fe=()=>"FLYP-"+Math.random().toString(36).substr(2,9).toUpperCase(),Oe=async ke=>{ke.preventDefault();const{name:Me,email:Ue,password:$e,role:He,phone:Qe}=Ce;if(!Me||!Ue||!$e||!Qe)return y$2.error("Please fill all fields");try{Be(!0);const We=auth$2.currentUser;if(!We){y$2.error("User not authenticated. Please log in again.");return}const qe=Fe(),Ke=httpsCallable(functions,"createEmployee");try{const Xe=await Ke({name:Me,email:Ue,password:$e,role:He,retailerId:We.uid,phone:Qe,flypId:qe});if(!Xe.data.success)throw new Error(Xe.data.message||"Failed to create employee");await setDoc(doc(db$2,"employeeIndex",qe),{uid:Xe.data.uid,retailerId:We.uid,email:Ue}),await setDoc(doc(db$2,`businesses/${We.uid}/employees/${Xe.data.uid}`),{name:Me,email:Ue,phone:Qe,role:He,createdAt:new Date,flypId:qe,uid:Xe.data.uid,status:"active"})}catch(Xe){console.error("Callable function error:",Xe),y$2.error(Xe.message||"Failed to create employee via function");return}y$2.success("Employee created successfully!"),Re({name:"",email:"",password:"",role:"Staff",phone:""})}catch(We){console.error(We),y$2.error(We.message||"Failed to create employee")}finally{Be(!1)}};return jsxRuntimeExports.jsxs("form",{onSubmit:Oe,className:"bg-white shadow p-6 rounded-lg w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add Employee"}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:Ce.name,onChange:De,className:"w-full border px-3 py-2 rounded",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:Ce.email,onChange:De,className:"w-full border px-3 py-2 rounded",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Password"}),jsxRuntimeExports.jsx("input",{type:"password",name:"password",value:Ce.password,onChange:De,className:"w-full border px-3 py-2 rounded",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phone",value:Ce.phone,onChange:De,className:"w-full border px-3 py-2 rounded",placeholder:"+91XXXXXXXXXX",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Role"}),jsxRuntimeExports.jsxs("select",{name:"role",value:Ce.role,onChange:De,className:"w-full border px-3 py-2 rounded",children:[jsxRuntimeExports.jsx("option",{value:"Staff",children:"Staff"}),jsxRuntimeExports.jsx("option",{value:"Manager",children:"Manager"})]})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:je,className:"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:je?"Creating...":"Create Employee"})]})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(Ce,Re){if(Ce==null)return{};var je=_objectWithoutPropertiesLoose(Ce,Re),Be,De;if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Ce);for(De=0;De<Fe.length;De++)Be=Fe[De],!(Re.indexOf(Be)>=0)&&Object.prototype.propertyIsEnumerable.call(Ce,Be)&&(je[Be]=Ce[Be])}return je}function _objectWithoutPropertiesLoose(Ce,Re){if(Ce==null)return{};var je={};for(var Be in Ce)if(Object.prototype.hasOwnProperty.call(Ce,Be)){if(Re.indexOf(Be)>=0)continue;je[Be]=Ce[Be]}return je}function _extends(){return _extends=Object.assign?Object.assign.bind():function(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Be in je)Object.prototype.hasOwnProperty.call(je,Be)&&(Ce[Be]=je[Be])}return Ce},_extends.apply(this,arguments)}function ownKeys(Ce,Re){var je=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ce);Re&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Ce,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread(Ce){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?ownKeys(Object(je),!0).forEach(function(Be){_defineProperty(Ce,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(je)):ownKeys(Object(je)).forEach(function(Be){Object.defineProperty(Ce,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Ce}function _defineProperty(Ce,Re,je){return Re=_toPropertyKey(Re),Re in Ce?Object.defineProperty(Ce,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):Ce[Re]=je,Ce}function _toPropertyKey(Ce){var Re=_toPrimitive(Ce,"string");return typeof Re=="symbol"?Re:Re+""}function _toPrimitive(Ce,Re){if(typeof Ce!="object"||!Ce)return Ce;var je=Ce[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Ce,Re);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(Ce)}function Tree2Element(Ce){return Ce&&Ce.map((Re,je)=>React.createElement(Re.tag,_objectSpread({key:je},Re.attr),Tree2Element(Re.child)))}function GenIcon(Ce){return Re=>React.createElement(IconBase,_extends({attr:_objectSpread({},Ce.attr)},Re),Tree2Element(Ce.child))}function IconBase(Ce){var Re=je=>{var{attr:Be,size:De,title:Fe}=Ce,Oe=_objectWithoutProperties(Ce,_excluded),ke=De||je.size||"1em",Me;return je.className&&(Me=je.className),Ce.className&&(Me=(Me?Me+" ":"")+Ce.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},je.attr,Be,Oe,{className:Me,style:_objectSpread(_objectSpread({color:Ce.color||je.color},je.style),Ce.style),height:ke,width:ke,xmlns:"http://www.w3.org/2000/svg"}),Fe&&React.createElement("title",null,Fe),Ce.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,je=>Re(je)):Re(DefaultContext)}function FiTrash2(Ce){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(Ce)}const ViewEmployees=()=>{const[Ce,Re]=reactExports.useState([]),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(""),[Oe,ke]=reactExports.useState(!0),Me=auth$2.currentUser;reactExports.useEffect(()=>{if(!Me)return;const Qe=query(collection(db$2,"businesses",Me.uid,"employees")),We=onSnapshot(Qe,qe=>{const Ke=qe.docs.map(Xe=>({id:Xe.id,...Xe.data()}));Re(Ke),Be(Ke),ke(!1)});return()=>We()},[Me]),reactExports.useEffect(()=>{const Qe=De.toLowerCase(),We=Ce.filter(qe=>qe.name?.toLowerCase().includes(Qe)||qe.email?.toLowerCase().includes(Qe)||qe.role?.toLowerCase().includes(Qe));Be(We)},[De,Ce]);const Ue=async Qe=>{window.confirm("Are you sure you want to delete this employee?")&&(await deleteDoc(doc(db$2,"businesses",Me.uid,"employees",Qe)),y$2.success("Employee deleted successfully"))},$e=async Qe=>{const We=Qe.status==="active"?"inactive":"active";await updateDoc(doc(db$2,"businesses",Me.uid,"employees",Qe.id),{status:We}),y$2.success(`Status changed to ${We}`)},He=Qe=>{if(!Qe?.toDate)return"-";const We=Qe.toDate(),Ke=Math.floor((new Date-We)/1e3);return Ke<60?"Just now":Ke<3600?`${Math.floor(Ke/60)} mins ago`:Ke<86400?We.toLocaleTimeString():We.toLocaleDateString()};return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"View Employees"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, email or role...",value:De,onChange:Qe=>Fe(Qe.target.value),className:"mb-4 w-full px-4 py-2 border border-gray-300 rounded shadow-sm"}),Oe?jsxRuntimeExports.jsx("p",{children:"Loading..."}):je.length===0?jsxRuntimeExports.jsx("p",{children:"No employees found."}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100 text-left text-sm font-semibold",children:[jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"FLYP ID"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Phone"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Role"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Presence"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Created At"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Login Link"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:je.map(Qe=>jsxRuntimeExports.jsxs("tr",{className:"text-sm hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Qe.flypId||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Qe.name||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Qe.email||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Qe.phone||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:jsxRuntimeExports.jsxs("select",{value:Qe.role||"",onChange:async We=>{const qe=We.target.value;await updateDoc(doc(db$2,"businesses",Me.uid,"employees",Qe.id),{role:qe}),y$2.success(`Role updated to ${qe}`)},className:"text-sm px-2 py-1 border border-gray-300 rounded",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select"}),jsxRuntimeExports.jsx("option",{value:"Manager",children:"Manager"}),jsxRuntimeExports.jsx("option",{value:"Sales",children:"Sales"}),jsxRuntimeExports.jsx("option",{value:"Inventory",children:"Inventory"}),jsxRuntimeExports.jsx("option",{value:"Admin",children:"Admin"})]})}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:jsxRuntimeExports.jsx("button",{onClick:()=>$e(Qe),className:`px-2 py-1 rounded text-xs ${Qe.status==="active"?"bg-green-200 text-green-800":"bg-gray-200 text-gray-700"}`,children:Qe.status==="active"?"Active":"Inactive"})}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Qe.online?jsxRuntimeExports.jsx("span",{className:"text-green-600 font-medium",children:"Online"}):jsxRuntimeExports.jsxs("span",{className:"text-gray-500 text-xs italic",children:["Last seen: ",He(Qe.lastSeen)]})}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Qe.createdAt?.toDate?.().toLocaleDateString()||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Qe.flypId?jsxRuntimeExports.jsx("button",{onClick:()=>{const We=`https://flypnow.com/employee-login?uid=${Qe.flypId}`;navigator.clipboard.writeText(We),y$2.success("Login link copied!")},className:"text-blue-600 hover:underline text-sm",children:"Copy Link"}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs italic",children:"No FLYP ID"})}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:jsxRuntimeExports.jsx("button",{onClick:()=>Ue(Qe.id),className:"text-red-600 hover:text-red-800",children:jsxRuntimeExports.jsx(FiTrash2,{})})})]},Qe.id))})]})})]})},ManageEmployee=()=>{const[Ce,Re]=reactExports.useState("add");return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-6",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded-md ${Ce==="add"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Re("add"),children:" Add Employee"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded-md ${Ce==="view"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Re("view"),children:" View Employees"})]}),Ce==="add"&&jsxRuntimeExports.jsx(AddEmployeeForm,{}),Ce==="view"&&jsxRuntimeExports.jsx(ViewEmployees,{})]})};function FaBoxes(Ce){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(Ce)}function FaBuilding(Ce){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(Ce)}function FaChartLine(Ce){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(Ce)}function FaFileInvoice(Ce){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(Ce)}function FaHome(Ce){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(Ce)}function FaSignOutAlt(Ce){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(Ce)}function FaUserPlus(Ce){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(Ce)}function FaUser(Ce){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(Ce)}function FaUsers(Ce){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(Ce)}const RetailerDashboard=()=>{const[Ce,Re]=reactExports.useState("home"),[je,Be]=reactExports.useState(null),[De,Fe]=reactExports.useState(null),[Oe,ke]=reactExports.useState("add"),[Me,Ue]=reactExports.useState("manual"),[$e,He]=reactExports.useState("all"),[Qe,We]=reactExports.useState({start:null,end:null}),[qe,Ke]=reactExports.useState("search"),[Xe,Ye]=reactExports.useState(!1);reactExports.useEffect(()=>{const rr=new Date;We($e==="month"?{start:startOfMonth(rr),end:endOfMonth(rr)}:$e==="week"?{start:startOfWeek(rr,{weekStartsOn:1}),end:endOfWeek(rr,{weekStartsOn:1})}:{start:null,end:null})},[$e]);const Ze=useNavigate();reactExports.useEffect(()=>{const rr=onAuthStateChanged(auth$2,async ar=>{try{if(ar){const nr=doc(db$2,"businesses",ar.uid),sr=await getDoc(nr);sr.exists()&&Fe({...sr.data(),userId:ar.uid,flypId:sr.data().flypId||ar.uid})}else console.warn("User not authenticated yet.")}catch(nr){console.error("Error fetching user profile:",nr)}});return()=>rr()},[]);const Je=()=>{signOut(auth$2).then(()=>{Ze("/auth?type=login")}).catch(rr=>{console.error("Sign out error:",rr)})},tr=[{id:"home",label:"Home",icon:jsxRuntimeExports.jsx(FaHome,{})},{id:"billing",label:"Billing",icon:jsxRuntimeExports.jsx(FaFileInvoice,{})},{id:"inventory",label:"Inventory",icon:jsxRuntimeExports.jsx(FaBoxes,{})},{id:"analytics",label:"Business Analytics",icon:jsxRuntimeExports.jsx(FaChartLine,{})},{id:"distributors",label:"Distributor Connection",icon:jsxRuntimeExports.jsx(FaBuilding,{})},{id:"orderHistory",label:"Order History",icon:jsxRuntimeExports.jsx(FaFileInvoice,{})},{id:"customers",label:"Customer Analysis",icon:jsxRuntimeExports.jsx(FaUsers,{})},{id:"employees",label:"Manage Employee",icon:jsxRuntimeExports.jsx(FaUserPlus,{})},{id:"profile",label:"Profile Settings",icon:jsxRuntimeExports.jsx(FaUser,{})}];return jsxRuntimeExports.jsxs("div",{className:"flex min-h-screen bg-gray-100 text-gray-800",children:[Xe&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-40 md:hidden",onClick:()=>Ye(!1),children:jsxRuntimeExports.jsxs("div",{className:"w-64 bg-white h-full shadow-lg p-4",onClick:rr=>rr.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold mb-4",children:"FLYP"}),tr.map(rr=>jsxRuntimeExports.jsxs("button",{onClick:()=>{Re(rr.id),Ye(!1)},className:`flex items-center gap-3 px-4 py-2 rounded-lg w-full text-left ${Ce===rr.id?"bg-blue-100 text-blue-600 font-semibold":"hover:bg-gray-100"}`,children:[rr.icon,rr.label]},rr.id))]})}),jsxRuntimeExports.jsxs("div",{className:"hidden md:block w-64 bg-white shadow-md border-r border-gray-200 fixed top-0 bottom-0 left-0 z-40",children:[jsxRuntimeExports.jsx("div",{className:"p-5 text-xl font-bold border-b border-gray-200",children:"FLYP"}),jsxRuntimeExports.jsx("nav",{className:"flex flex-col p-4 gap-2",children:tr.map(rr=>jsxRuntimeExports.jsxs("button",{onClick:()=>Re(rr.id),className:`flex items-center gap-3 px-4 py-2 rounded-lg text-left ${Ce===rr.id?"bg-blue-100 text-blue-600 font-semibold":"hover:bg-gray-100"}`,children:[rr.icon,rr.label]},rr.id))})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[jsxRuntimeExports.jsxs("div",{className:"sticky top-0 z-30 bg-white px-6 py-3 border-b border-gray-200 shadow-sm flex items-center justify-between",children:[jsxRuntimeExports.jsx("button",{className:"md:hidden text-2xl text-gray-600",onClick:()=>Ye(!0),children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:"Retailer Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Logged in as: Retailer"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:De?.businessName||"Business Name"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:[De?.ownerName||"Owner"," | ID: ",De?.flypId||De?.userId||"UserID"]})]}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full overflow-hidden",children:De?.logoUrl?jsxRuntimeExports.jsx("img",{src:De.logoUrl,alt:"Logo",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-gray-300"})}),jsxRuntimeExports.jsx("button",{onClick:Je,className:"text-red-500 hover:text-red-700 text-xl",title:"Sign Out",children:jsxRuntimeExports.jsx(FaSignOutAlt,{})})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{duration:.4},className:"flex-1 px-4 py-6 md:px-6 overflow-y-auto pt-4",children:[Ce==="home"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"filter",className:"font-medium",children:"Filter by:"}),jsxRuntimeExports.jsxs("select",{id:"filter",value:$e,onChange:rr=>He(rr.target.value),className:"border px-3 py-1 rounded",children:[jsxRuntimeExports.jsx("option",{value:"today",children:"Today"}),jsxRuntimeExports.jsx("option",{value:"all",children:"All Time"}),jsxRuntimeExports.jsx("option",{value:"month",children:"This Month"}),jsxRuntimeExports.jsx("option",{value:"week",children:"This Week"}),jsxRuntimeExports.jsx("option",{value:"custom",children:"Custom Range"})]}),$e==="custom"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{type:"date",onChange:rr=>We(ar=>({...ar,start:new Date(rr.target.value)})),className:"border px-2 py-1 rounded"}),jsxRuntimeExports.jsx("input",{type:"date",onChange:rr=>We(ar=>({...ar,end:new Date(rr.target.value)})),className:"border px-2 py-1 rounded"})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4 md:space-y-6",children:jsxRuntimeExports.jsx(HomeSnapshot,{filterDates:Qe})})]}),Ce==="billing"&&jsxRuntimeExports.jsx(Billing,{}),Ce==="orderHistory"&&jsxRuntimeExports.jsx(RetailerOrderHistory,{}),Ce==="inventory"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-6 border-b pb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ke("add"),className:`px-4 py-2 rounded ${Oe==="add"?"bg-blue-500 text-white":"bg-gray-200"}`,children:" Add Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>ke("view"),className:`px-4 py-2 rounded ${Oe==="view"?"bg-blue-500 text-white":"bg-gray-200"}`,children:" View Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>ke("group"),className:`px-4 py-2 rounded ${Oe==="group"?"bg-blue-500 text-white":"bg-gray-200"}`,children:" Group Items"}),jsxRuntimeExports.jsx("button",{onClick:()=>ke("lowstock"),className:`px-4 py-2 rounded ${Oe==="lowstock"?"bg-blue-500 text-white":"bg-gray-200"}`,children:" Low Stock Alerts"})]}),Oe==="add"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Inventory Input Method"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ue("manual"),className:`px-3 py-2 border rounded ${Me==="manual"?"bg-green-100 border-green-500":""}`,children:" Manual Entry"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ue("ocr"),className:`px-3 py-2 border rounded ${Me==="ocr"?"bg-green-100 border-green-500":""}`,children:" OCR Upload"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ue("ai"),className:`px-3 py-2 border rounded ${Me==="ai"?"bg-green-100 border-green-500":""}`,children:" AI-Based"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[Me==="manual"&&De?.userId&&jsxRuntimeExports.jsx(ManualEntryForm$1,{userId:De.userId}),Me==="ocr"&&De?.userId&&jsxRuntimeExports.jsx(OCRUploadForm$1,{userId:De.userId}),Me==="ai"&&De?.userId&&jsxRuntimeExports.jsx(AddInventoryAI,{userId:De.userId})]})]}),Oe==="view"&&De?.userId&&jsxRuntimeExports.jsx(ViewInventory$1,{userId:De.userId}),Oe==="group"&&jsxRuntimeExports.jsx("div",{children:" Group Items Component Placeholder"}),Oe==="lowstock"&&jsxRuntimeExports.jsx("div",{children:" Low Stock Alert Component Placeholder"})]}),Ce==="analytics"&&jsxRuntimeExports.jsx(BusinessAnalytics,{}),Ce==="distributors"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ke("search"),className:`px-4 py-2 rounded ${qe==="search"?"bg-blue-500 text-white":"bg-gray-200"}`,children:" Search Distributor"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ke("sent"),className:`px-4 py-2 rounded ${qe==="sent"?"bg-blue-500 text-white":"bg-gray-200"}`,children:" Sent Requests"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ke("connected"),className:`px-4 py-2 rounded ${qe==="connected"?"bg-blue-500 text-white":"bg-gray-200"}`,children:" View Distributors"})]}),qe==="search"&&jsxRuntimeExports.jsx(SearchDistributor,{}),qe==="sent"&&jsxRuntimeExports.jsx(ViewSentRequests,{}),qe==="connected"&&(je?jsxRuntimeExports.jsx(ConnectedDistributorPanel,{distributor:je,onBack:()=>Be(null)}):jsxRuntimeExports.jsx(RetailerConnectedDistributors,{onSelectDistributor:Be}))]}),Ce==="customers"&&jsxRuntimeExports.jsx(CustomerAnalysis,{}),Ce==="employees"&&jsxRuntimeExports.jsx(ManageEmployee,{}),Ce==="profile"&&jsxRuntimeExports.jsx(ProfileSettings,{})]},Ce)]})]})},RetailerRequests=({db:Ce,auth:Re})=>{const[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(!1),[Oe,ke]=reactExports.useState(null),[Me,Ue]=reactExports.useState(""),[$e,He]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{He(!0);const Xe=Re.currentUser;if(!Xe){He(!1);return}const Ye=collection(Ce,`businesses/${Xe.uid}/connectionRequests`),Ze=await getDocs(Ye),Je=await Promise.all(Ze.docs.map(async tr=>{const rr=tr.data(),ar=rr.retailerId;let nr={};try{const sr=doc(Ce,"businesses",ar),dr=await getDoc(sr);dr.exists()?nr=dr.data():console.warn("Retailer business doc not found for:",ar)}catch(sr){console.error(" Error fetching retailer info:",sr.message)}return{id:tr.id,retailerId:ar,status:rr.status,sentAt:rr.sentAt,message:rr.message||"",...nr}}));Be(Je),He(!1)})()},[]);const Qe=async(Ke,Xe)=>{const Ye=Re.currentUser;if(!Ye)return;const Ze=Ye.uid,Je=doc(Ce,"businesses",Ze),tr=await getDoc(Je),rr=tr.exists()?tr.data():{},ar=doc(Ce,`businesses/${Ze}/connectionRequests/${Ke}`);await updateDoc(ar,{status:Xe,acceptedAt:serverTimestamp()}),console.log(" Updated distributor's connectionRequests status to:",Xe);const nr=doc(Ce,`businesses/${Ke}/sentRequests/${Ze}`);try{await updateDoc(nr,{status:Xe,acceptedAt:serverTimestamp()}),console.log(" Updated retailer's sentRequests status to:",Xe)}catch(sr){console.error(" Failed to update retailer's sentRequest:",sr.message)}try{const sr=doc(Ce,"businesses",Ke),dr=await getDoc(sr),_r=dr.exists()?dr.data():{};console.log(" Saving distributor to retailer's connectedDistributors..."),await setDoc(doc(Ce,`businesses/${Ke}/connectedDistributors/${Ze}`),{distributorId:Ze,distributorName:rr.businessName||"Unnamed Distributor",distributorOwner:rr.ownerName||"Unknown Owner",distributorEmail:rr.email||"",distributorPhone:rr.phone||"",city:rr.city||"",connectedAt:serverTimestamp(),status:"accepted"},{merge:!0}),console.log(" Saved to retailer's connectedDistributors"),console.log(" Saving retailer to distributor's connectedRetailers..."),await setDoc(doc(Ce,`businesses/${Ze}/connectedRetailers/${Ke}`),{retailerId:Ke,retailerName:_r.businessName||"Unnamed Retailer",retailerEmail:_r.email||"",retailerPhone:_r.phone||"",city:_r.city||"",connectedAt:serverTimestamp(),status:"accepted"},{merge:!0}),console.log(" Saved to distributor's connectedRetailers"),y$2.success("Retailer request accepted successfully!")}catch(sr){console.error(" Failed to create connected entries:",sr.message)}Be(sr=>sr.map(dr=>dr.id===Ke?{...dr,status:Xe}:dr))},We=Ke=>{ke(Ke),Ue(""),Fe(!0)},qe=async()=>{if(!Oe)return;const Ke=Re.currentUser;if(!Ke)return;const Xe=Ke.uid,Ye=doc(Ce,`businesses/${Xe}/connectionRequests/${Oe}`),Ze=doc(Ce,`businesses/${Oe}/sentRequests/${Xe}`);await updateDoc(Ye,{status:"rejected",rejectionNote:Me,rejectedAt:serverTimestamp()}),await updateDoc(Ze,{status:"rejected",rejectionNote:Me,rejectedAt:serverTimestamp()}),Be(Je=>Je.map(tr=>tr.retailerId===Oe?{...tr,status:"rejected"}:tr)),Fe(!1),y$2.info("Retailer request rejected.")};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4 sticky top-0 bg-white z-10 py-2 shadow-sm animate-fade-in",children:"Incoming Retailer Requests"}),$e?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading requests..."}):je.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-center mt-8 italic",children:"You're all caught up! No new requests."}):jsxRuntimeExports.jsx("ul",{className:"space-y-4 animate-fade-in",children:je.map(Ke=>jsxRuntimeExports.jsx("li",{className:"bg-white shadow p-4 rounded transition-transform duration-200 hover:scale-[1.01] hover:shadow-md",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:Ke.businessName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[Ke.ownerName," (",Ke.email,")"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Status:"," ",jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded-full text-white text-xs ${Ke.status==="accepted"?"bg-green-500":Ke.status==="rejected"?"bg-red-500":"bg-yellow-500"}`,children:Ke.status})]}),Ke.sentAt?.seconds&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Sent at: ",new Date(Ke.sentAt.seconds*1e3).toLocaleString()]}),Ke.message&&jsxRuntimeExports.jsxs("p",{className:"text-sm italic text-gray-500 mt-1",children:['Message: "',Ke.message,'"']}),Ke.address&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:[" Address: ",Ke.address]}),Ke.city&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:[" City: ",Ke.city]}),Ke.phone&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:[" Phone: ",Ke.phone]})]}),jsxRuntimeExports.jsxs("div",{className:"space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Qe(Ke.retailerId,"accepted"),disabled:Ke.status==="accepted",className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded disabled:opacity-50 transition duration-200 transform hover:scale-105",children:"Accept"}),jsxRuntimeExports.jsx("button",{onClick:()=>We(Ke.retailerId),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded transition duration-200 transform hover:scale-105",children:"Reject"})]})]})},Ke.id))}),De&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:jsxRuntimeExports.jsxs("div",{className:"transition-all duration-300 ease-in-out transform scale-100 bg-white p-6 rounded-lg shadow-md w-96",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Reject Retailer"}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-sm text-gray-700",children:"Are you sure you want to reject this request?"}),jsxRuntimeExports.jsx("textarea",{className:"w-full border border-gray-300 rounded p-2 mb-4",placeholder:"Optional reason for rejection...",value:Me,onChange:Ke=>Ue(Ke.target.value)}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Fe(!1),className:"px-4 py-2 bg-gray-300 rounded",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:qe,className:"px-4 py-2 bg-red-500 text-white rounded",children:"Confirm Reject"})]})]})})]})},ManualEntryForm=()=>{const{user:Ce}=useAuth();if(!Ce)return console.warn("No current user found in context."),jsxRuntimeExports.jsx("div",{className:"p-4 text-red-500",children:"Loading user info..."});const[Re,je]=reactExports.useState({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),[Be,De]=reactExports.useState(""),[Fe,Oe]=reactExports.useState(!1),ke=Ue=>{const{name:$e,value:He,files:Qe}=Ue.target;if($e==="image"){const We=Qe?.[0];if(!We||!(We instanceof File)||!We.name){y$2.error("Invalid image file.");return}je(Ke=>({...Ke,image:We}));const qe=new FileReader;qe.onloadend=()=>De(qe.result),qe.readAsDataURL(We)}else je(We=>({...We,[$e]:He}))},Me=async Ue=>{if(Ue.preventDefault(),Oe(!0),console.log("Manual Entry - currentUser:",Ce),!Ce?.uid){y$2.error("User ID is missing in manual entry. Cannot save product."),Oe(!1);return}const $e=Ce.uid;try{let He="";if(Re.image&&Re.image instanceof File){let Qe=Re.image?.name;(!Qe||typeof Qe!="string"||Qe.trim()==="")&&(Qe=`product_${Date.now()}.jpg`);const We=ref(storage,`products/${$e}/${Qe}`);await uploadBytes(We,Re.image),He=await getDownloadURL(We)}await addDoc(collection(db$2,"businesses",$e,"products"),{productName:Re.productName||"",brand:Re.brand||"",category:Re.category||"",quantity:Re.quantity?Number(Re.quantity):0,unit:Re.unit||"",costPrice:Re.costPrice?Number(Re.costPrice):0,sellingPrice:Re.sellingPrice?Number(Re.sellingPrice):0,description:Re.description||"",sku:Re.sku||"",imageUrl:He,createdAt:serverTimestamp(),addedBy:$e}),y$2.success("Product added successfully!"),je({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),De("")}catch(He){console.error("Upload failed:",He),y$2.error("Failed to add product.")}Oe(!1)};return jsxRuntimeExports.jsxs("form",{onSubmit:Me,className:"space-y-4 p-4 bg-white rounded shadow",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"productName",placeholder:"Product Name",value:Re.productName,onChange:ke,className:"border p-2 rounded w-full",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"sku",placeholder:"SKU",value:Re.sku,onChange:ke,className:"border p-2 rounded w-full"}),jsxRuntimeExports.jsx("input",{type:"text",name:"brand",placeholder:"Brand",value:Re.brand,onChange:ke,className:"border p-2 rounded w-full"}),jsxRuntimeExports.jsx("input",{type:"text",name:"category",placeholder:"Category",value:Re.category,onChange:ke,className:"border p-2 rounded w-full"}),jsxRuntimeExports.jsx("input",{type:"number",name:"quantity",placeholder:"Quantity",value:Re.quantity,onChange:ke,className:"border p-2 rounded w-full",required:!0}),jsxRuntimeExports.jsx("input",{type:"number",name:"costPrice",placeholder:"Cost Price",value:Re.costPrice,onChange:ke,className:"border p-2 rounded w-full"}),jsxRuntimeExports.jsx("input",{type:"number",name:"sellingPrice",placeholder:"Selling Price",value:Re.sellingPrice,onChange:ke,className:"border p-2 rounded w-full",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"unit",placeholder:"Unit (e.g., kg, box)",value:Re.unit,onChange:ke,className:"border p-2 rounded w-full"})]}),jsxRuntimeExports.jsx("textarea",{name:"description",placeholder:"Description",value:Re.description,onChange:ke,className:"border p-2 rounded w-full"}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-4",children:jsxRuntimeExports.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:ke,className:"border p-2 rounded w-full"})}),Be&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsx("img",{src:Be,alt:"Preview",className:"h-32 w-32 object-cover border rounded"})}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",disabled:Fe,children:Fe?"Saving...":"Add Product"})})]})};let e={data:""},t=Ce=>typeof window=="object"?((Ce?Ce.querySelector("#_goober"):window._goober)||Object.assign((Ce||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:Ce||e,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n=/\n+/g,o=(Ce,Re)=>{let je="",Be="",De="";for(let Fe in Ce){let Oe=Ce[Fe];Fe[0]=="@"?Fe[1]=="i"?je=Fe+" "+Oe+";":Be+=Fe[1]=="f"?o(Oe,Fe):Fe+"{"+o(Oe,Fe[1]=="k"?"":Re)+"}":typeof Oe=="object"?Be+=o(Oe,Re?Re.replace(/([^,])+/g,ke=>Fe.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,Me=>/&/.test(Me)?Me.replace(/&/g,ke):ke?ke+" "+Me:Me)):Fe):Oe!=null&&(Fe=/^--/.test(Fe)?Fe:Fe.replace(/[A-Z]/g,"-$&").toLowerCase(),De+=o.p?o.p(Fe,Oe):Fe+":"+Oe+";")}return je+(Re&&De?Re+"{"+De+"}":De)+Be},c$1={},s=Ce=>{if(typeof Ce=="object"){let Re="";for(let je in Ce)Re+=je+s(Ce[je]);return Re}return Ce},i=(Ce,Re,je,Be,De)=>{let Fe=s(Ce),Oe=c$1[Fe]||(c$1[Fe]=(Me=>{let Ue=0,$e=11;for(;Ue<Me.length;)$e=101*$e+Me.charCodeAt(Ue++)>>>0;return"go"+$e})(Fe));if(!c$1[Oe]){let Me=Fe!==Ce?Ce:(Ue=>{let $e,He,Qe=[{}];for(;$e=l.exec(Ue.replace(a,""));)$e[4]?Qe.shift():$e[3]?(He=$e[3].replace(n," ").trim(),Qe.unshift(Qe[0][He]=Qe[0][He]||{})):Qe[0][$e[1]]=$e[2].replace(n," ").trim();return Qe[0]})(Ce);c$1[Oe]=o(De?{["@keyframes "+Oe]:Me}:Me,je?"":"."+Oe)}let ke=je&&c$1.g?c$1.g:null;return je&&(c$1.g=c$1[Oe]),((Me,Ue,$e,He)=>{He?Ue.data=Ue.data.replace(He,Me):Ue.data.indexOf(Me)===-1&&(Ue.data=$e?Me+Ue.data:Ue.data+Me)})(c$1[Oe],Re,Be,ke),Oe},p=(Ce,Re,je)=>Ce.reduce((Be,De,Fe)=>{let Oe=Re[Fe];if(Oe&&Oe.call){let ke=Oe(je),Me=ke&&ke.props&&ke.props.className||/^go/.test(ke)&&ke;Oe=Me?"."+Me:ke&&typeof ke=="object"?ke.props?"":o(ke,""):ke===!1?"":ke}return Be+De+(Oe??"")},"");function u$1(Ce){let Re=this||{},je=Ce.call?Ce(Re.p):Ce;return i(je.unshift?je.raw?p(je,[].slice.call(arguments,1),Re.p):je.reduce((Be,De)=>Object.assign(Be,De&&De.call?De(Re.p):De),{}):je,t(Re.target),Re.g,Re.o,Re.k)}let d,f$1,g;u$1.bind({g:1});let h=u$1.bind({k:1});function m(Ce,Re,je,Be){o.p=Re,d=Ce,f$1=je,g=Be}function j(Ce,Re){let je=this||{};return function(){let Be=arguments;function De(Fe,Oe){let ke=Object.assign({},Fe),Me=ke.className||De.className;je.p=Object.assign({theme:f$1&&f$1()},ke),je.o=/ *go\d+/.test(Me),ke.className=u$1.apply(je,Be)+(Me?" "+Me:"");let Ue=Ce;return Ce[0]&&(Ue=ke.as||Ce,delete ke.as),g&&Ue[0]&&g(ke),d(Ue,ke)}return De}}var W=Ce=>typeof Ce=="function",f=(Ce,Re)=>W(Ce)?Ce(Re):Ce,F=(()=>{let Ce=0;return()=>(++Ce).toString()})(),A=(()=>{let Ce;return()=>{if(Ce===void 0&&typeof window<"u"){let Re=matchMedia("(prefers-reduced-motion: reduce)");Ce=!Re||Re.matches}return Ce}})(),Y=20,U=(Ce,Re)=>{switch(Re.type){case 0:return{...Ce,toasts:[Re.toast,...Ce.toasts].slice(0,Y)};case 1:return{...Ce,toasts:Ce.toasts.map(Fe=>Fe.id===Re.toast.id?{...Fe,...Re.toast}:Fe)};case 2:let{toast:je}=Re;return U(Ce,{type:Ce.toasts.find(Fe=>Fe.id===je.id)?1:0,toast:je});case 3:let{toastId:Be}=Re;return{...Ce,toasts:Ce.toasts.map(Fe=>Fe.id===Be||Be===void 0?{...Fe,dismissed:!0,visible:!1}:Fe)};case 4:return Re.toastId===void 0?{...Ce,toasts:[]}:{...Ce,toasts:Ce.toasts.filter(Fe=>Fe.id!==Re.toastId)};case 5:return{...Ce,pausedAt:Re.time};case 6:let De=Re.time-(Ce.pausedAt||0);return{...Ce,pausedAt:void 0,toasts:Ce.toasts.map(Fe=>({...Fe,pauseDuration:Fe.pauseDuration+De}))}}},P=[],y={toasts:[],pausedAt:void 0},u=Ce=>{y=U(y,Ce),P.forEach(Re=>{Re(y)})},J=(Ce,Re="blank",je)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:Re,ariaProps:{role:"status","aria-live":"polite"},message:Ce,pauseDuration:0,...je,id:je?.id||F()}),x=Ce=>(Re,je)=>{let Be=J(Re,Ce,je);return u({type:2,toast:Be}),Be.id},c=(Ce,Re)=>x("blank")(Ce,Re);c.error=x("error");c.success=x("success");c.loading=x("loading");c.custom=x("custom");c.dismiss=Ce=>{u({type:3,toastId:Ce})};c.remove=Ce=>u({type:4,toastId:Ce});c.promise=(Ce,Re,je)=>{let Be=c.loading(Re.loading,{...je,...je?.loading});return typeof Ce=="function"&&(Ce=Ce()),Ce.then(De=>{let Fe=Re.success?f(Re.success,De):void 0;return Fe?c.success(Fe,{id:Be,...je,...je?.success}):c.dismiss(Be),De}).catch(De=>{let Fe=Re.error?f(Re.error,De):void 0;Fe?c.error(Fe,{id:Be,...je,...je?.error}):c.dismiss(Be)}),Ce};var oe=h`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,re=h`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,se=h`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,k=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${Ce=>Ce.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${re} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${Ce=>Ce.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${se} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ne=h`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V=j("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${Ce=>Ce.secondary||"#e0e0e0"};
  border-right-color: ${Ce=>Ce.primary||"#616161"};
  animation: ${ne} 1s linear infinite;
`,pe=h`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,de=h`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${Ce=>Ce.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${de} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${Ce=>Ce.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ue=j("div")`
  position: absolute;
`,le=j("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fe=h`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Te=j("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M=({toast:Ce})=>{let{icon:Re,type:je,iconTheme:Be}=Ce;return Re!==void 0?typeof Re=="string"?reactExports.createElement(Te,null,Re):Re:je==="blank"?null:reactExports.createElement(le,null,reactExports.createElement(V,{...Be}),je!=="loading"&&reactExports.createElement(ue,null,je==="error"?reactExports.createElement(k,{...Be}):reactExports.createElement(_,{...Be})))},ye=Ce=>`
0% {transform: translate3d(0,${Ce*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ge=Ce=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${Ce*-150}%,-1px) scale(.6); opacity:0;}
`,he="0%{opacity:0;} 100%{opacity:1;}",xe="0%{opacity:1;} 100%{opacity:0;}",be=j("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Se=j("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ae=(Ce,Re)=>{let je=Ce.includes("top")?1:-1,[Be,De]=A()?[he,xe]:[ye(je),ge(je)];return{animation:Re?`${h(Be)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h(De)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};reactExports.memo(({toast:Ce,position:Re,style:je,children:Be})=>{let De=Ce.height?Ae(Ce.position||Re||"top-center",Ce.visible):{opacity:0},Fe=reactExports.createElement(M,{toast:Ce}),Oe=reactExports.createElement(Se,{...Ce.ariaProps},f(Ce.message,Ce));return reactExports.createElement(be,{className:Ce.className,style:{...De,...je,...Ce.style}},typeof Be=="function"?Be({icon:Fe,message:Oe}):reactExports.createElement(reactExports.Fragment,null,Fe,Oe))});m(reactExports.createElement);u$1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const OCRUploadForm=({distributorId:Ce})=>{const[Re,je]=reactExports.useState(null),[Be,De]=reactExports.useState(null),[Fe,Oe]=reactExports.useState([]),[ke,Me]=reactExports.useState(!1),Ue=We=>We.split(`
`).filter(Ke=>typeof Ke=="string"&&Ke.trim()!=="").map(Ke=>{const Xe=Ke.split(",").map(Ye=>Ye.trim());if(Xe.length>=4)return{productName:Xe[0]||"",quantity:Xe[1]||"",unit:Xe[2]||"",cost:Xe[3]||"",brand:Xe[4]||"",category:Xe[5]||"",description:Xe[6]||"",sku:Xe[7]||"",imageUrl:Xe[8]||""};{const Ye=Ke.trim().split(" "),Ze=Ye.find(tr=>!isNaN(tr)),Je=Ye.find(tr=>["pcs","kg","ltr","box","unit"].some(rr=>tr.toLowerCase().includes(rr)));return{productName:Ke.replace(Ze,"").replace(Je,"").trim(),quantity:Ze||"1",unit:Je||"",cost:"",brand:"",category:"",description:"",sku:"",imageUrl:""}}}),$e=We=>{const qe=We.target.files[0];if(!qe)return;je(qe);const Ke=new FileReader;Ke.onloadend=()=>De(Ke.result),Ke.readAsDataURL(qe)},He=async()=>{if(!Re)return;Me(!0);const We=new FileReader;We.onloadend=async()=>{const qe=We.result.split(",")[1],Ke=Xe=>Xe.trim().split(`
`).map(Ye=>Ye.replace(/^\s*[\d\-.:]+\s*/,"").trim()).filter(Ye=>Ye);if(!qe){c.error("Failed to convert file."),Me(!1);return}try{const Ze=await(await fetch("https://asia-south1-stockpilotv1.cloudfunctions.net/ocrFromImage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:qe})})).json(),Je=Ze?.text?.[0]?.description||"";if(Je){const tr=Ke(Je).join(`
`);Ze.products=Ue(tr)}if(Array.isArray(Ze.products)){const tr=Ze.products.map(rr=>({productName:rr?.productName||rr?.name||"",quantity:rr?.quantity||"",unit:rr?.unit||"",costPrice:rr?.cost||rr?.costPrice||"",sellingPrice:"",brand:rr?.brand||"",category:rr?.category||"",description:rr?.description||"",sku:rr?.sku||"",imageUrl:rr?.imageUrl||""})).filter(rr=>rr.productName);Oe(tr),c.success("OCR scan completed!")}else c.error("No valid product data found.")}catch(Xe){console.error("OCR failed:",Xe),c.error("Failed to scan image.")}Me(!1)},Re.type==="application/pdf"||Re.type.startsWith("image/")?We.readAsDataURL(Re):(c.error("Unsupported file format. Please upload an image or PDF."),Me(!1))},Qe=async()=>{if(!Fe.length)return;if(!Ce){c.error("Distributor ID missing. Cannot save.");return}const We=Fe.filter(Ke=>Ke&&typeof Ke.productName=="string"&&Ke.productName.trim()!=="");if(console.log("Saving for distributorId:",Ce),console.log("Valid products to save:",We),!We.length){c.error("No valid products to save.");return}const qe=We.map(Ke=>addDoc(collection(db$2,"businesses",Ce,"products"),{productName:Ke.productName?.trim()||"",brand:Ke.brand?.trim()||"",category:Ke.category?.trim()||"",quantity:Number(Ke.quantity)||0,unit:Ke.unit?.trim()||"",costPrice:Number(Ke.costPrice)||0,sellingPrice:Number(Ke.sellingPrice)||0,description:Ke.description?.trim()||"",sku:Ke.sku?.trim()||"",imageUrl:Ke.imageUrl||"",createdAt:serverTimestamp()}).catch(Xe=>{console.error("Failed to add product:",Ke,Xe)}));try{await Promise.all(qe),console.log("Products saved successfully."),c.success("All products saved!"),Oe([])}catch(Ke){console.error("Saving failed:",Ke),c.error("Failed to save products.")}};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow-md",children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 font-medium",children:"Upload Inventory Image"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:$e,className:"block border border-gray-300 rounded p-2"}),Be&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx("img",{src:Be,alt:"Preview",className:"max-w-xs rounded shadow"})}),jsxRuntimeExports.jsx("button",{onClick:He,disabled:!Re||ke,className:`mt-4 px-4 py-2 rounded ${ke||!Re?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white transition duration-200`,children:ke?"Scanning...":"Scan & Import"}),Fe.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"border p-2 rounded mt-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Scanned Products"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto mt-4",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white border rounded shadow",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100 text-left text-sm",children:[jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"#"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Cost Price"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Selling Price"}),jsxRuntimeExports.jsx("th",{className:"p-2 border",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:Fe.map((We,qe)=>jsxRuntimeExports.jsxs("tr",{className:"text-sm",children:[jsxRuntimeExports.jsx("td",{className:"p-2 border",children:qe+1}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:jsxRuntimeExports.jsx("input",{type:"text",value:We.productName||"",onChange:Ke=>{const Xe=[...Fe];Xe[qe].productName=Ke.target.value,Oe(Xe)},className:"w-full border rounded p-1"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:jsxRuntimeExports.jsx("input",{type:"number",value:We.quantity||"",onChange:Ke=>{const Xe=[...Fe];Xe[qe].quantity=Ke.target.value,Oe(Xe)},className:"w-full border rounded p-1"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:jsxRuntimeExports.jsx("input",{type:"text",value:We.unit||"",onChange:Ke=>{const Xe=[...Fe];Xe[qe].unit=Ke.target.value,Oe(Xe)},className:"w-full border rounded p-1"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:jsxRuntimeExports.jsx("input",{type:"number",value:We.costPrice||"",onChange:Ke=>{const Xe=[...Fe];Xe[qe].costPrice=Ke.target.value,Oe(Xe)},className:"w-full border rounded p-1"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:jsxRuntimeExports.jsx("input",{type:"number",value:We.sellingPrice||"",onChange:Ke=>{const Xe=[...Fe];Xe[qe].sellingPrice=Ke.target.value,Oe(Xe)},className:"w-full border rounded p-1"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:jsxRuntimeExports.jsx("button",{onClick:()=>{const Ke=Fe.filter((Xe,Ye)=>Ye!==qe);Oe(Ke)},className:"text-red-600 hover:text-red-800",children:"Delete"})})]},qe))})]})})]}),jsxRuntimeExports.jsx("button",{onClick:Qe,className:"mt-4 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded transition duration-200",children:"Save All Products"})]})]})},AIAutogenForm=({userId:Ce})=>{const[Re,je]=reactExports.useState(""),[Be,De]=reactExports.useState([]),[Fe,Oe]=reactExports.useState([]),[ke,Me]=reactExports.useState(!1),Ue=getFirestore(app),$e=async We=>{if(!We||We.trim().length===0){y$2.error("Prompt is empty.");return}Me(!0);try{const Xe=(await(await fetch("https://us-central1-stockpilotv1.cloudfunctions.net/generateInventoryByBrand",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:We})})).json()).inventory,Ye=[];if(Array.isArray(Xe))for(const Ze of Xe)!Ze.productName||!Ze.sku||Ye.push({productName:Ze.productName||"",brand:Ze.brand||"",category:Ze.category||"Food",sku:Ze.sku||"",unit:Ze.unit||"",quantity:"",costPrice:"",sellingPrice:Ze.price||"",imageUrl:Ze.imageUrl||""});Oe(Ye),Ye.length===0&&y$2.info("No inventory returned. Try adjusting prompt.")}catch(qe){console.error("Prompt-based inventory error:",qe),y$2.error("Failed to fetch inventory.")}finally{Me(!1)}},He=async()=>{if(!Ce||Fe.length===0){y$2.error("No inventory to upload.");return}try{for(const We of Fe){const qe=await addDoc(collection(Ue,"businesses",Ce,"products"),{...We,source:"ai",createdAt:serverTimestamp()});await logInventoryChange({productId:qe.id,sku:We.sku,previousData:{},updatedData:We,action:"created",source:"ai"})}y$2.success("Inventory added successfully!"),Oe([])}catch(We){console.error("Upload Error:",We),y$2.error("Failed to add inventory.")}},Qe=(We,qe,Ke)=>{const Xe=[...Fe];Xe[We][qe]=Ke,Oe(Xe)};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-4",children:"AI-Based Inventory Generator"}),jsxRuntimeExports.jsx(AdvancedBrandInputForm,{onGenerate:$e}),Fe.length>0&&jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"min-w-full border mt-6 text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Cost"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:Fe.map((We,qe)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:jsxRuntimeExports.jsx("input",{value:We.productName??"(productName)",onChange:Ke=>Qe(qe,"productName",Ke.target.value),className:"w-full border rounded px-1 py-0.5"})}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:jsxRuntimeExports.jsx("input",{value:We.brand??"(brand)",onChange:Ke=>Qe(qe,"brand",Ke.target.value),className:"w-full border rounded px-1 py-0.5"})}),["category","sku","unit","quantity","costPrice","sellingPrice"].map(Ke=>jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:jsxRuntimeExports.jsx("input",{value:We[Ke]??`(${Ke})`,onChange:Xe=>Qe(qe,Ke,Xe.target.value),className:"w-full border rounded px-1 py-0.5"})},Ke)),jsxRuntimeExports.jsx("td",{className:"px-2 py-1 border text-center",children:jsxRuntimeExports.jsx("button",{className:"text-red-600 font-bold",onClick:()=>{const Ke=[...Fe];Ke.splice(qe,1),Oe(Ke)},children:""})})]},qe))})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:He,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:" Add to Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>Oe([]),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Clear All"})]})]})]})},AddInventoryOptions$1=({userId:Ce})=>{const[Re,je]=reactExports.useState("manual");return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Add Inventory"}),jsxRuntimeExports.jsxs("div",{className:"border border-gray-300 p-4 rounded-md shadow-sm bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-4 mb-4",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded ${Re==="manual"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>je("manual"),children:"Manual Entry"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded ${Re==="ocr"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>je("ocr"),children:"OCR Upload"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded ${Re==="ai"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>je("ai"),children:"AI Autogen"})]}),jsxRuntimeExports.jsxs("div",{children:[Re==="manual"&&jsxRuntimeExports.jsx(ManualEntryForm,{}),Re==="ocr"&&jsxRuntimeExports.jsx(OCRUploadForm,{distributorId:Ce}),Re==="ai"&&jsxRuntimeExports.jsx(AIAutogenForm,{userId:Ce})]})]})]})},DeleteConfirmationModal=({product:Ce,confirmationText:Re,onChange:je,onCancel:Be,onConfirm:De})=>jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow-lg p-6 w-[90%] md:w-[400px]",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-red-600",children:"Delete Product?"}),jsxRuntimeExports.jsxs("p",{className:"mb-4",children:["Are you sure you want to delete ",jsxRuntimeExports.jsx("strong",{children:Ce?.productName||"this product"})," (SKU: ",jsxRuntimeExports.jsx("strong",{children:Ce?.sku||"N/A"}),")?"]}),jsxRuntimeExports.jsxs("p",{className:"mb-2 text-sm text-gray-600",children:["Type ",jsxRuntimeExports.jsx("code",{className:"bg-gray-100 px-1 rounded border",children:"delete"})," to confirm."]}),jsxRuntimeExports.jsx("input",{type:"text",className:"w-full border rounded px-3 py-1 mb-4",placeholder:'Type "delete" to confirm',value:Re,onChange:je}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:Be,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:De,disabled:Re.trim().toLowerCase()!=="delete",className:`px-4 py-2 rounded text-white ${Re.trim().toLowerCase()==="delete"?"bg-red-600 hover:bg-red-700":"bg-gray-400 cursor-not-allowed"}`,children:"Delete"})]})]})}),ViewInventory=({userId:Ce})=>{const[Re,je]=reactExports.useState(!1),[Be,De]=reactExports.useState(null),[Fe,Oe]=reactExports.useState([]),[ke,Me]=reactExports.useState([]),[Ue,$e]=reactExports.useState(""),[He,Qe]=reactExports.useState(""),[We,qe]=reactExports.useState("asc"),[Ke,Xe]=reactExports.useState({rowId:null,field:null}),[Ye,Ze]=reactExports.useState(""),[Je,tr]=reactExports.useState(""),[rr,ar]=reactExports.useState([]),[nr,sr]=reactExports.useState(!1),[dr,_r]=reactExports.useState([]),[fr,or]=reactExports.useState(!1),[Er,Rr]=reactExports.useState(null),[jr,xr]=reactExports.useState(""),[Pr,br]=reactExports.useState(!1),[wr,Br]=reactExports.useState(null),[Lr,yr]=reactExports.useState(null),[vr,Tr]=reactExports.useState(!1),[Or,Nr]=reactExports.useState(""),[Hr,Wr]=reactExports.useState(null),[qr,Jr]=reactExports.useState(""),[An,an]=reactExports.useState([]),[bn,gn]=reactExports.useState(!1),[mn,Zr]=reactExports.useState(""),[kn,ri]=reactExports.useState([]),[zn,ei]=reactExports.useState(!1),[Jn,Wn]=reactExports.useState([]),[_i,wi]=reactExports.useState("view"),Oi=async()=>{if(!mn)return;ei(!0);const vn=await fetchGoogleImages(mn);ri(vn||[]),ei(!1)},[xi,Pi]=reactExports.useState("list"),Ii=getFirestore();if(!Ce)return jsxRuntimeExports.jsx("div",{className:"text-center p-4",children:"Loading user data..."});reactExports.useEffect(()=>{if(!Ce)return;console.log("Current user UID:",Ce);const vn=collection(Ii,"businesses",Ce,"products"),Ni=onSnapshot(vn,async bi=>{const Gi=getStorage(),Di=await Promise.all(bi.docs.map(async fi=>{const Ri=fi.data();let Zi="";try{if(Ri.imageUrl)Zi=Ri.imageUrl;else if(Ri.imagePath){const ds=ref(Gi,Ri.imagePath);Zi=await getDownloadURL(ds)}}catch(ds){console.warn("Image fetch error for:",Ri.imagePath||"unknown",ds.message)}return{id:fi.id,...Ri,imageUrl:Zi,imagePath:Ri.imagePath||""}}));Oe(Di),Me(Di);const hi=[...new Set(Di.map(fi=>fi.brand).filter(Boolean))];_r(hi)});return()=>Ni()},[Ce]),reactExports.useEffect(()=>{if(!auth$2.currentUser?.uid)return;const vn=query(collection(Ii,`businesses/${auth$2.currentUser.uid}/inventoryLogs`),orderBy$1("modifiedAt","desc")),Ni=onSnapshot(vn,bi=>{Wn(bi.docs.map(Gi=>Gi.data()))});return()=>Ni()},[]),reactExports.useEffect(()=>{const vn=Ue.toLowerCase(),Ni=Fe.filter(bi=>{const Gi=bi.productName?.toLowerCase().includes(vn)||bi.sku?.toLowerCase().includes(vn)||bi.brand?.toLowerCase().includes(vn)||bi.category?.toLowerCase().includes(vn),Di=!Je||Cn(bi.quantity)===Je,hi=rr.length===0||bi.brand&&rr.includes(bi.brand);return Gi&&Di&&hi});Me(Ni)},[Ue,Fe,Je,rr]),reactExports.useEffect(()=>{if(!He){Me(vn=>[...vn]);return}Me(vn=>[...vn].sort((bi,Gi)=>{const Di=parseFloat(bi[He])||0,hi=parseFloat(Gi[He])||0;return We==="asc"?Di-hi:hi-Di}))},[He,We]);const Si=(vn,Ni,bi)=>{Xe({rowId:vn,field:Ni}),Ze(bi)},En=async(vn,Ni,bi)=>{try{const Gi=doc(Ii,"businesses",Ce,"products",vn),Di=await getDoc(Gi),hi=Di.exists()?Di.data():{};await updateDoc(Gi,{[Ni]:bi}),await logInventoryChange({userId:Ce,productId:vn,sku:hi.sku||"N/A",productName:hi.productName||"N/A",brand:hi.brand||"N/A",category:hi.category||"N/A",previousData:hi,updatedData:{...hi,[Ni]:bi},action:"updated",source:"inline-edit"})}catch(Gi){console.error("Error updating inventory field:",Gi)}finally{Xe({rowId:null,field:null}),Ze("")}},Cn=vn=>{const Ni=parseInt(vn);return isNaN(Ni)?"Unknown":Ni<=5?"Low":"In Stock"},oi=vn=>{Rr(vn),xr(""),or(!0)},ci=async()=>{if(Er&&jr.trim().toLowerCase()==="delete")try{const vn=doc(Ii,"businesses",Ce,"products",Er.id);await deleteDoc(vn)}catch(vn){console.error("Error deleting product:",vn)}finally{or(!1),Rr(null),xr("")}},Qi=vn=>{Br(vn),yr(null),Tr(!1),Nr(""),Wr(null),br(!0)},ti=vn=>{const Ni=vn.target.files?.[0]||null;if(yr(Ni),Nr(""),Ni){const bi=URL.createObjectURL(Ni);Wr(bi)}else Wr(null)},Bi=async()=>{if(!wr||!Lr&&!Hr){y$2.error("No image selected");return}Tr(!0),Nr("");try{let vn=null,Ni=null;if(Lr){const Gi=getStorage(),Di=Lr.name.split(".").pop();Ni=`product_images/${Ce}/${wr.id}.${Di}`;const hi=ref(Gi,Ni);await uploadBytes(hi,Lr),vn=await getDownloadURL(hi)}else Hr&&(vn=Hr);const bi=doc(getFirestore(),"businesses",Ce,"products",wr.id);await updateDoc(bi,Ni?{imageUrl:vn,imagePath:Ni}:{imageUrl:vn}),y$2.success("Image uploaded successfully"),br(!1),Br(null),yr(null),Wr(null)}catch(vn){console.error("Error uploading image:",vn),Nr("Image upload failed: "+(vn?.message||"Unknown error")),y$2.error("Failed to upload image")}finally{Tr(!1)}},jn=async(vn,Ni)=>{const bi=`${vn.brand} ${vn.productName} ${vn.unit}`;try{const Gi=await fetchGoogleImages(bi);if(Gi&&Gi.length>0){const Di=doc(Ii,"businesses",Ce,"products",vn.id);await updateDoc(Di,{imageUrl:Gi[0]}),Oe(hi=>hi.map((Ri,Zi)=>Zi===Ni?{...Ri,imageUrl:Gi[0]}:Ri)),Me(hi=>hi.map((Ri,Zi)=>Zi===Ni?{...Ri,imageUrl:Gi[0]}:Ri)),y$2.success("Image fetched and applied!")}else y$2.info("No images found.")}catch(Gi){console.error("Image fetch error:",Gi),y$2.error("Failed to fetch image.")}};return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center w-full md:w-1/3",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, brand, SKU...",value:Ue,onChange:vn=>$e(vn.target.value),className:"border px-4 py-2 rounded w-full"}),jsxRuntimeExports.jsx("button",{onClick:()=>gn(!0),className:"ml-2 bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded",children:"Search with AI"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",onChange:vn=>Qe(vn.target.value),value:He,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Sort by"}),jsxRuntimeExports.jsx("option",{value:"quantity",children:"Quantity"}),jsxRuntimeExports.jsx("option",{value:"costPrice",children:"Cost Price"}),jsxRuntimeExports.jsx("option",{value:"sellingPrice",children:"Selling Price"})]}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",onChange:vn=>qe(vn.target.value),value:We,children:[jsxRuntimeExports.jsx("option",{value:"asc",children:"Asc"}),jsxRuntimeExports.jsx("option",{value:"desc",children:"Desc"})]}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 rounded",onChange:vn=>tr(vn.target.value),value:Je,children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Status"}),jsxRuntimeExports.jsx("option",{value:"In Stock",children:"In Stock"}),jsxRuntimeExports.jsx("option",{value:"Low",children:"Low"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{className:"border px-3 py-2 rounded min-w-[120px] text-left bg-white",type:"button",onClick:()=>sr(vn=>!vn),children:[rr.length===0?"All Brands":rr.length===1?rr[0]:rr.join(", "),jsxRuntimeExports.jsx("span",{className:"ml-1",children:""})]}),nr&&jsxRuntimeExports.jsxs("div",{className:"absolute left-0 mt-1 bg-white border rounded shadow z-20 p-2 min-w-[140px] max-h-56 overflow-y-auto",children:[dr.length===0&&jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 px-2 py-1",children:"No brands"}),dr.map((vn,Ni)=>jsxRuntimeExports.jsxs("label",{className:"block px-2 py-1 cursor-pointer hover:bg-gray-100",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:rr.includes(vn),onChange:bi=>{bi.target.checked?ar([...rr,vn]):ar(rr.filter(Gi=>Gi!==vn))},className:"mr-2"}),vn]},Ni)),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-2",children:[jsxRuntimeExports.jsx("button",{className:"text-xs text-blue-500 underline",type:"button",onClick:()=>ar([]),children:"Clear All"}),jsxRuntimeExports.jsx("button",{className:"text-xs text-gray-600 underline",type:"button",onClick:()=>sr(!1),children:"Close"})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex mb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>wi("view"),className:`px-4 py-2 rounded-t-md ${_i==="view"?"bg-white font-semibold":"bg-gray-200"}`,children:"Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>wi("recent"),className:`px-4 py-2 rounded-t-md ${_i==="recent"?"bg-white font-semibold":"bg-gray-200"}`,children:"Recently Modified"})]}),_i==="view"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-end mb-4",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-1 mr-2 rounded ${xi==="list"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Pi("list"),children:"List View"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-1 rounded ${xi==="grid"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Pi("grid"),children:"Grid View"})]}),xi==="list"?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm border rounded shadow-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100 text-left",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2",children:"Image"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Cost"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Sell"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Source"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Delete"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Edit"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[ke.map((vn,Ni)=>jsxRuntimeExports.jsxs("tr",{className:"border-t",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"inline-block cursor-pointer",onClick:()=>Qi(vn),title:"Click to upload image",children:jsxRuntimeExports.jsx("img",{src:vn.imageUrl||"/placeholder.png",alt:"product",className:"h-10 w-10 rounded object-cover border border-gray-200"})}),jsxRuntimeExports.jsx("button",{type:"button",title:"Search & set image from Google",className:"ml-1 text-lg px-1 py-0.5 rounded hover:bg-gray-200",onClick:()=>jn(vn,Ni),style:{lineHeight:"1"},children:""})]})}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>Si(vn.id,"productName",vn.productName),children:Ke.rowId===vn.id&&Ke.field==="productName"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:Ye,onChange:bi=>Ze(bi.target.value),onBlur:()=>En(vn.id,"productName",Ye),autoFocus:!0}):vn.productName}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>Si(vn.id,"sku",vn.sku),children:Ke.rowId===vn.id&&Ke.field==="sku"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:Ye,onChange:bi=>Ze(bi.target.value),onBlur:()=>En(vn.id,"sku",Ye),autoFocus:!0}):vn.sku}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>Si(vn.id,"brand",vn.brand),children:Ke.rowId===vn.id&&Ke.field==="brand"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:Ye,onChange:bi=>Ze(bi.target.value),onBlur:()=>En(vn.id,"brand",Ye),autoFocus:!0}):vn.brand}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>Si(vn.id,"category",vn.category),children:Ke.rowId===vn.id&&Ke.field==="category"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:Ye,onChange:bi=>Ze(bi.target.value),onBlur:()=>En(vn.id,"category",Ye),autoFocus:!0}):vn.category}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>Si(vn.id,"quantity",vn.quantity),children:Ke.rowId===vn.id&&Ke.field==="quantity"?jsxRuntimeExports.jsx("input",{type:"number",className:"w-full border px-1",value:Ye,onChange:bi=>Ze(bi.target.value),onBlur:()=>En(vn.id,"quantity",Number(Ye)),autoFocus:!0}):vn.quantity}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>Si(vn.id,"unit",vn.unit),children:Ke.rowId===vn.id&&Ke.field==="unit"?jsxRuntimeExports.jsx("input",{className:"w-full border px-1",value:Ye,onChange:bi=>Ze(bi.target.value),onBlur:()=>En(vn.id,"unit",Ye),autoFocus:!0}):vn.unit}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>Si(vn.id,"costPrice",vn.costPrice),children:Ke.rowId===vn.id&&Ke.field==="costPrice"?jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",className:"w-full border px-1",value:Ye,onChange:bi=>Ze(bi.target.value),onBlur:()=>En(vn.id,"costPrice",Number(Ye)),autoFocus:!0}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["",vn.costPrice]})}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>Si(vn.id,"sellingPrice",vn.sellingPrice),children:Ke.rowId===vn.id&&Ke.field==="sellingPrice"?jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",className:"w-full border px-1",value:Ye,onChange:bi=>Ze(bi.target.value),onBlur:()=>En(vn.id,"sellingPrice",Number(Ye)),autoFocus:!0}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["",vn.sellingPrice]})}),jsxRuntimeExports.jsx("td",{className:"p-2 min-w-[80px] text-center",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded text-white text-xs ${Cn(vn.quantity)==="Low"?"bg-red-500":"bg-green-500"}`,children:Cn(vn.quantity)})}),jsxRuntimeExports.jsx("td",{className:"p-2 min-w-[100px] max-w-[120px] text-center",children:vn.sourceOrderId?jsxRuntimeExports.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs bg-blue-500 text-white break-words whitespace-normal leading-snug",children:"From Order"}):""}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>oi(vn),className:"text-red-600 hover:text-red-800",title:"Delete Item",children:""})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>{De(vn.id),je(!0)},className:"text-sm text-blue-600 underline",children:"Edit"})})]},vn.id)),ke.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"13",className:"text-center p-4 text-gray-500",children:Fe.length===0?"No products found.":"Loading inventory..."})}):null]})]})}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ke.map(vn=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-2",children:jsxRuntimeExports.jsx("button",{className:"focus:outline-none",style:{width:"100%"},onClick:()=>Qi(vn),title:"Click to upload image",children:jsxRuntimeExports.jsx("img",{src:vn.imageUrl||"/placeholder.png",alt:vn.productName,className:"w-full h-32 object-contain rounded border border-gray-200"})})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-1",children:vn.productName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[vn.brand," | ",vn.category]}),jsxRuntimeExports.jsxs("p",{className:"text-sm mb-1",children:["Qty: ",vn.quantity," | ",vn.sellingPrice]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:["SKU: ",vn.sku||"N/A"," | Unit: ",vn.unit||"N/A"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-auto",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs rounded font-semibold ${(vn.status||Cn(vn.quantity))==="In Stock"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:vn.status||Cn(vn.quantity)}),jsxRuntimeExports.jsx("button",{className:"ml-auto text-red-600 hover:text-red-800 px-2",title:"Delete Item",onClick:()=>oi(vn),children:""})]})]},vn.id))})]}),_i==="recent"&&jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Recent Inventory Modifications"}),Jn.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No recent modifications found."}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Jn.map((vn,Ni)=>jsxRuntimeExports.jsxs("div",{className:"bg-white shadow rounded-md p-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold text-gray-700 mb-1",children:["SKU: ",vn.sku]}),jsxRuntimeExports.jsxs("div",{children:["Product: ",vn.productName||"N/A"]}),jsxRuntimeExports.jsxs("div",{children:["Brand: ",vn.brand||"N/A"]}),jsxRuntimeExports.jsxs("div",{children:["Category: ",vn.category||"N/A"]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 text-gray-600",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Action:"})," ",vn.action,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Source:"})," ",vn.source,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Modified By:"})," ",vn.modifiedBy||"Unknown",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Time:"})," ",vn.modifiedAt?.toDate?.().toLocaleString?.()||"N/A",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Changes:"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside",children:Object.entries(vn.changes||{}).map(([bi,Gi])=>jsxRuntimeExports.jsxs("li",{children:[bi,": ",Gi.from??"N/A","  ",Gi.to??"N/A"]},bi))})]})]},Ni))})]}),fr&&jsxRuntimeExports.jsx(DeleteConfirmationModal,{product:Er,confirmationText:jr,onChange:vn=>xr(vn.target.value),onCancel:()=>{or(!1),Rr(null),xr("")},onConfirm:ci}),Pr&&jsxRuntimeExports.jsx(UploadProductImageModal,{imageTargetProduct:wr,setShowImageModal:br,setImageTargetProduct:Br,setImageUploadFile:yr,setImageUploadError:Nr,setImagePreviewUrl:Wr,imageUploadFile:Lr,imageUploadLoading:vr,imageUploadError:Or,imagePreviewUrl:Hr,handleImageFileChange:ti,handleImageUpload:Bi}),bn&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-11/12 max-w-2xl relative",children:[jsxRuntimeExports.jsx("button",{onClick:()=>gn(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-red-600",children:""}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Search Product Images"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter product description...",className:"flex-grow border border-gray-300 px-4 py-2 rounded",value:mn,onChange:vn=>Zr(vn.target.value)}),jsxRuntimeExports.jsx("button",{onClick:Oi,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:zn?"Searching...":"Search"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-h-80 overflow-y-auto",children:kn.map((vn,Ni)=>jsxRuntimeExports.jsx("img",{src:vn,alt:"AI result",className:"w-full h-28 object-cover rounded cursor-pointer border hover:border-blue-500",onClick:()=>{navigator.clipboard.writeText(vn),alert("Image URL copied to clipboard!")}},Ni))})]})})]})},UploadProductImageModal=({imageTargetProduct:Ce,setShowImageModal:Re,setImageTargetProduct:je,setImageUploadFile:Be,setImageUploadError:De,setImagePreviewUrl:Fe,imageUploadFile:Oe,imageUploadLoading:ke,imageUploadError:Me,imagePreviewUrl:Ue,handleImageFileChange:$e,handleImageUpload:He})=>{const[Qe,We]=reactExports.useState(""),[qe,Ke]=reactExports.useState([]),[Xe,Ye]=reactExports.useState(!1),[Ze,Je]=reactExports.useState("unsplash"),tr=async()=>{Ye(!0);try{let rr=[];if(Ze==="unsplash")rr=await fetchUnsplashImages(Qe);else{const ar=(await __vitePreload(async()=>{const{default:nr}=await Promise.resolve().then(()=>fetchGoogleImages$1);return{default:nr}},void 0,import.meta.url)).default;rr=await ar(Qe)}Ke(rr)}catch(rr){console.error("Image search error:",rr)}Ye(!1)};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow-lg p-6 w-[95%] max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Upload Product Image"}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-gray-700",children:Ce?.productName||"Product"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Je("unsplash"),className:`px-3 py-1 rounded ${Ze==="unsplash"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Unsplash"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je("google"),className:`px-3 py-1 rounded ${Ze==="google"?"bg-green-600 text-white":"bg-gray-200"}`,children:"Google"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:`Search image with ${Ze==="unsplash"?"Unsplash":"Google"}...`,value:Qe,onChange:rr=>We(rr.target.value),className:"border px-2 py-1 rounded w-full"}),jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-1 rounded",onClick:tr,type:"button",disabled:Xe,children:Xe?"Searching...":"Search"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:qe.map((rr,ar)=>jsxRuntimeExports.jsx("img",{src:rr,alt:"AI result",className:"w-24 h-24 object-cover border rounded cursor-pointer hover:scale-105 transition-all",onClick:()=>{Be(null),De(""),Fe(rr)},onError:nr=>nr.target.src="/placeholder.jpg"},ar))}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:$e,className:"mb-3",disabled:ke}),Ue&&jsxRuntimeExports.jsx("div",{className:"mb-3 flex justify-center",children:jsxRuntimeExports.jsx("img",{src:Ue,alt:"Preview",className:"max-h-40 max-w-full rounded border",style:{objectFit:"contain"}})}),Oe&&jsxRuntimeExports.jsx("div",{className:"mb-2",children:jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:Oe.name})}),Me&&jsxRuntimeExports.jsx("div",{className:"mb-2 text-red-600 text-sm",children:Me}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Re(!1),je(null),Be(null),De(""),Fe(null),We(""),Ke([])},className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",disabled:ke,children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:He,className:`px-4 py-2 rounded text-white ${(Oe||Ue)&&!ke?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,disabled:!(Oe||Ue)||ke,children:ke?"Uploading...":"Upload"})]})]})})},DistributorInventory=()=>{const[Ce,Re]=reactExports.useState([]),[je,Be]=reactExports.useState("add"),De=auth$2.currentUser?.uid;return reactExports.useEffect(()=>{const Fe=auth$2.currentUser;if(!Fe)return;const Oe=collection(db$2,`businesses/${Fe.uid}/products`),ke=onSnapshot(Oe,Me=>{const Ue=Me.docs.map($e=>({id:$e.id,...$e.data()}));Re(Ue)});return()=>ke()},[]),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex space-x-4 mb-4",children:["add","view","group","lowstock"].map(Fe=>jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded shadow-sm transition duration-200 ease-in-out transform hover:scale-105 ${je===Fe?"bg-blue-600 text-white ring-2 ring-offset-2 ring-blue-400":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>Be(Fe),children:Fe==="add"?"Add Inventory":Fe==="view"?"View Inventory":Fe==="group"?"Item Groups":"Low Stock Alerts"},Fe))}),je==="add"&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(AddInventoryOptions$1,{userId:De,role:"distributor"})}),je==="view"&&jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx(ViewInventory,{userId:De,db:db$2,role:"distributor"})}),["group","lowstock"].includes(je)&&jsxRuntimeExports.jsx("div",{className:"text-gray-500 italic mt-4",children:"This tab is under construction."})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var XLSX={};XLSX.version="0.18.5";var current_ansi=1252,VALID_ANSI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],set_ansi=function(Ce){VALID_ANSI.indexOf(Ce)!=-1&&(current_ansi=Ce)};function reset_ansi(){set_ansi(1252)}var set_cp=function(Ce){set_ansi(Ce)};function reset_cp(){set_cp(1200),reset_ansi()}var _getchar=function Ce(Re){return String.fromCharCode(Re)},_getansi=function Ce(Re){return String.fromCharCode(Re)},$cptable,Base64_map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Base64_encode(Ce){for(var Re="",je=0,Be=0,De=0,Fe=0,Oe=0,ke=0,Me=0,Ue=0;Ue<Ce.length;)je=Ce.charCodeAt(Ue++),Fe=je>>2,Be=Ce.charCodeAt(Ue++),Oe=(je&3)<<4|Be>>4,De=Ce.charCodeAt(Ue++),ke=(Be&15)<<2|De>>6,Me=De&63,isNaN(Be)?ke=Me=64:isNaN(De)&&(Me=64),Re+=Base64_map.charAt(Fe)+Base64_map.charAt(Oe)+Base64_map.charAt(ke)+Base64_map.charAt(Me);return Re}function Base64_decode(Ce){var Re="",je=0,Be=0,De=0,Fe=0,Oe=0,ke=0,Me=0;Ce=Ce.replace(/[^\w\+\/\=]/g,"");for(var Ue=0;Ue<Ce.length;)Fe=Base64_map.indexOf(Ce.charAt(Ue++)),Oe=Base64_map.indexOf(Ce.charAt(Ue++)),je=Fe<<2|Oe>>4,Re+=String.fromCharCode(je),ke=Base64_map.indexOf(Ce.charAt(Ue++)),Be=(Oe&15)<<4|ke>>2,ke!==64&&(Re+=String.fromCharCode(Be)),Me=Base64_map.indexOf(Ce.charAt(Ue++)),De=(ke&3)<<6|Me,Me!==64&&(Re+=String.fromCharCode(De));return Re}var has_buf=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Buffer_from=(function(){if(typeof Buffer<"u"){var Ce=!Buffer.from;if(!Ce)try{Buffer.from("foo","utf8")}catch{Ce=!0}return Ce?function(Re,je){return je?new Buffer(Re,je):new Buffer(Re)}:Buffer.from.bind(Buffer)}return function(){}})();function new_raw_buf(Ce){return has_buf?Buffer.alloc?Buffer.alloc(Ce):new Buffer(Ce):typeof Uint8Array<"u"?new Uint8Array(Ce):new Array(Ce)}function new_unsafe_buf(Ce){return has_buf?Buffer.allocUnsafe?Buffer.allocUnsafe(Ce):new Buffer(Ce):typeof Uint8Array<"u"?new Uint8Array(Ce):new Array(Ce)}var s2a=function Ce(Re){return has_buf?Buffer_from(Re,"binary"):Re.split("").map(function(je){return je.charCodeAt(0)&255})};function s2ab(Ce){if(typeof ArrayBuffer>"u")return s2a(Ce);for(var Re=new ArrayBuffer(Ce.length),je=new Uint8Array(Re),Be=0;Be!=Ce.length;++Be)je[Be]=Ce.charCodeAt(Be)&255;return Re}function a2s(Ce){if(Array.isArray(Ce))return Ce.map(function(Be){return String.fromCharCode(Be)}).join("");for(var Re=[],je=0;je<Ce.length;++je)Re[je]=String.fromCharCode(Ce[je]);return Re.join("")}function a2u(Ce){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(Ce)}var bconcat=has_buf?function(Ce){return Buffer.concat(Ce.map(function(Re){return Buffer.isBuffer(Re)?Re:Buffer_from(Re)}))}:function(Ce){if(typeof Uint8Array<"u"){var Re=0,je=0;for(Re=0;Re<Ce.length;++Re)je+=Ce[Re].length;var Be=new Uint8Array(je),De=0;for(Re=0,je=0;Re<Ce.length;je+=De,++Re)if(De=Ce[Re].length,Ce[Re]instanceof Uint8Array)Be.set(Ce[Re],je);else{if(typeof Ce[Re]=="string")throw"wtf";Be.set(new Uint8Array(Ce[Re]),je)}return Be}return[].concat.apply([],Ce.map(function(Fe){return Array.isArray(Fe)?Fe:[].slice.call(Fe)}))};function utf8decode(Ce){for(var Re=[],je=0,Be=Ce.length+250,De=new_raw_buf(Ce.length+255),Fe=0;Fe<Ce.length;++Fe){var Oe=Ce.charCodeAt(Fe);if(Oe<128)De[je++]=Oe;else if(Oe<2048)De[je++]=192|Oe>>6&31,De[je++]=128|Oe&63;else if(Oe>=55296&&Oe<57344){Oe=(Oe&1023)+64;var ke=Ce.charCodeAt(++Fe)&1023;De[je++]=240|Oe>>8&7,De[je++]=128|Oe>>2&63,De[je++]=128|ke>>6&15|(Oe&3)<<4,De[je++]=128|ke&63}else De[je++]=224|Oe>>12&15,De[je++]=128|Oe>>6&63,De[je++]=128|Oe&63;je>Be&&(Re.push(De.slice(0,je)),je=0,De=new_raw_buf(65535),Be=65530)}return Re.push(De.slice(0,je)),bconcat(Re)}var chr0=/\u0000/g,chr1=/[\u0001-\u0006]/g;function _strrev(Ce){for(var Re="",je=Ce.length-1;je>=0;)Re+=Ce.charAt(je--);return Re}function pad0(Ce,Re){var je=""+Ce;return je.length>=Re?je:fill("0",Re-je.length)+je}function pad_(Ce,Re){var je=""+Ce;return je.length>=Re?je:fill(" ",Re-je.length)+je}function rpad_(Ce,Re){var je=""+Ce;return je.length>=Re?je:je+fill(" ",Re-je.length)}function pad0r1(Ce,Re){var je=""+Math.round(Ce);return je.length>=Re?je:fill("0",Re-je.length)+je}function pad0r2(Ce,Re){var je=""+Ce;return je.length>=Re?je:fill("0",Re-je.length)+je}var p2_32=Math.pow(2,32);function pad0r(Ce,Re){if(Ce>p2_32||Ce<-p2_32)return pad0r1(Ce,Re);var je=Math.round(Ce);return pad0r2(je,Re)}function SSF_isgeneral(Ce,Re){return Re=Re||0,Ce.length>=7+Re&&(Ce.charCodeAt(Re)|32)===103&&(Ce.charCodeAt(Re+1)|32)===101&&(Ce.charCodeAt(Re+2)|32)===110&&(Ce.charCodeAt(Re+3)|32)===101&&(Ce.charCodeAt(Re+4)|32)===114&&(Ce.charCodeAt(Re+5)|32)===97&&(Ce.charCodeAt(Re+6)|32)===108}var days=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],months=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function SSF_init_table(Ce){return Ce||(Ce={}),Ce[0]="General",Ce[1]="0",Ce[2]="0.00",Ce[3]="#,##0",Ce[4]="#,##0.00",Ce[9]="0%",Ce[10]="0.00%",Ce[11]="0.00E+00",Ce[12]="# ?/?",Ce[13]="# ??/??",Ce[14]="m/d/yy",Ce[15]="d-mmm-yy",Ce[16]="d-mmm",Ce[17]="mmm-yy",Ce[18]="h:mm AM/PM",Ce[19]="h:mm:ss AM/PM",Ce[20]="h:mm",Ce[21]="h:mm:ss",Ce[22]="m/d/yy h:mm",Ce[37]="#,##0 ;(#,##0)",Ce[38]="#,##0 ;[Red](#,##0)",Ce[39]="#,##0.00;(#,##0.00)",Ce[40]="#,##0.00;[Red](#,##0.00)",Ce[45]="mm:ss",Ce[46]="[h]:mm:ss",Ce[47]="mmss.0",Ce[48]="##0.0E+0",Ce[49]="@",Ce[56]='"/ "hh""mm""ss" "',Ce}var table_fmt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},SSF_default_map={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},SSF_default_str={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function SSF_frac(Ce,Re,je){for(var Be=Ce<0?-1:1,De=Ce*Be,Fe=0,Oe=1,ke=0,Me=1,Ue=0,$e=0,He=Math.floor(De);Ue<Re&&(He=Math.floor(De),ke=He*Oe+Fe,$e=He*Ue+Me,!(De-He<5e-8));)De=1/(De-He),Fe=Oe,Oe=ke,Me=Ue,Ue=$e;if($e>Re&&(Ue>Re?($e=Me,ke=Fe):($e=Ue,ke=Oe)),!je)return[0,Be*ke,$e];var Qe=Math.floor(Be*ke/$e);return[Qe,Be*ke-Qe*$e,$e]}function SSF_parse_date_code(Ce,Re,je){if(Ce>2958465||Ce<0)return null;var Be=Ce|0,De=Math.floor(86400*(Ce-Be)),Fe=0,Oe=[],ke={D:Be,T:De,u:86400*(Ce-Be)-De,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(ke.u)<1e-6&&(ke.u=0),Re&&Re.date1904&&(Be+=1462),ke.u>.9999&&(ke.u=0,++De==86400&&(ke.T=De=0,++Be,++ke.D)),Be===60)Oe=je?[1317,10,29]:[1900,2,29],Fe=3;else if(Be===0)Oe=je?[1317,8,29]:[1900,1,0],Fe=6;else{Be>60&&--Be;var Me=new Date(1900,0,1);Me.setDate(Me.getDate()+Be-1),Oe=[Me.getFullYear(),Me.getMonth()+1,Me.getDate()],Fe=Me.getDay(),Be<60&&(Fe=(Fe+6)%7),je&&(Fe=SSF_fix_hijri(Me,Oe))}return ke.y=Oe[0],ke.m=Oe[1],ke.d=Oe[2],ke.S=De%60,De=Math.floor(De/60),ke.M=De%60,De=Math.floor(De/60),ke.H=De,ke.q=Fe,ke}var SSFbasedate=new Date(1899,11,31,0,0,0),SSFdnthresh=SSFbasedate.getTime(),SSFbase1904=new Date(1900,2,1,0,0,0);function datenum_local(Ce,Re){var je=Ce.getTime();return Re?je-=1461*24*60*60*1e3:Ce>=SSFbase1904&&(je+=1440*60*1e3),(je-(SSFdnthresh+(Ce.getTimezoneOffset()-SSFbasedate.getTimezoneOffset())*6e4))/(1440*60*1e3)}function SSF_strip_decimal(Ce){return Ce.indexOf(".")==-1?Ce:Ce.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function SSF_normalize_exp(Ce){return Ce.indexOf("E")==-1?Ce:Ce.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SSF_small_exp(Ce){var Re=Ce<0?12:11,je=SSF_strip_decimal(Ce.toFixed(12));return je.length<=Re||(je=Ce.toPrecision(10),je.length<=Re)?je:Ce.toExponential(5)}function SSF_large_exp(Ce){var Re=SSF_strip_decimal(Ce.toFixed(11));return Re.length>(Ce<0?12:11)||Re==="0"||Re==="-0"?Ce.toPrecision(6):Re}function SSF_general_num(Ce){var Re=Math.floor(Math.log(Math.abs(Ce))*Math.LOG10E),je;return Re>=-4&&Re<=-1?je=Ce.toPrecision(10+Re):Math.abs(Re)<=9?je=SSF_small_exp(Ce):Re===10?je=Ce.toFixed(10).substr(0,12):je=SSF_large_exp(Ce),SSF_strip_decimal(SSF_normalize_exp(je.toUpperCase()))}function SSF_general(Ce,Re){switch(typeof Ce){case"string":return Ce;case"boolean":return Ce?"TRUE":"FALSE";case"number":return(Ce|0)===Ce?Ce.toString(10):SSF_general_num(Ce);case"undefined":return"";case"object":if(Ce==null)return"";if(Ce instanceof Date)return SSF_format(14,datenum_local(Ce,Re&&Re.date1904),Re)}throw new Error("unsupported value in General format: "+Ce)}function SSF_fix_hijri(Ce,Re){Re[0]-=581;var je=Ce.getDay();return Ce<60&&(je=(je+6)%7),je}function SSF_write_date(Ce,Re,je,Be){var De="",Fe=0,Oe=0,ke=je.y,Me,Ue=0;switch(Ce){case 98:ke=je.y+543;case 121:switch(Re.length){case 1:case 2:Me=ke%100,Ue=2;break;default:Me=ke%1e4,Ue=4;break}break;case 109:switch(Re.length){case 1:case 2:Me=je.m,Ue=Re.length;break;case 3:return months[je.m-1][1];case 5:return months[je.m-1][0];default:return months[je.m-1][2]}break;case 100:switch(Re.length){case 1:case 2:Me=je.d,Ue=Re.length;break;case 3:return days[je.q][0];default:return days[je.q][1]}break;case 104:switch(Re.length){case 1:case 2:Me=1+(je.H+11)%12,Ue=Re.length;break;default:throw"bad hour format: "+Re}break;case 72:switch(Re.length){case 1:case 2:Me=je.H,Ue=Re.length;break;default:throw"bad hour format: "+Re}break;case 77:switch(Re.length){case 1:case 2:Me=je.M,Ue=Re.length;break;default:throw"bad minute format: "+Re}break;case 115:if(Re!="s"&&Re!="ss"&&Re!=".0"&&Re!=".00"&&Re!=".000")throw"bad second format: "+Re;return je.u===0&&(Re=="s"||Re=="ss")?pad0(je.S,Re.length):(Be>=2?Oe=Be===3?1e3:100:Oe=Be===1?10:1,Fe=Math.round(Oe*(je.S+je.u)),Fe>=60*Oe&&(Fe=0),Re==="s"?Fe===0?"0":""+Fe/Oe:(De=pad0(Fe,2+Be),Re==="ss"?De.substr(0,2):"."+De.substr(2,Re.length-1)));case 90:switch(Re){case"[h]":case"[hh]":Me=je.D*24+je.H;break;case"[m]":case"[mm]":Me=(je.D*24+je.H)*60+je.M;break;case"[s]":case"[ss]":Me=((je.D*24+je.H)*60+je.M)*60+Math.round(je.S+je.u);break;default:throw"bad abstime format: "+Re}Ue=Re.length===3?1:2;break;case 101:Me=ke,Ue=1;break}var $e=Ue>0?pad0(Me,Ue):"";return $e}function commaify(Ce){var Re=3;if(Ce.length<=Re)return Ce;for(var je=Ce.length%Re,Be=Ce.substr(0,je);je!=Ce.length;je+=Re)Be+=(Be.length>0?",":"")+Ce.substr(je,Re);return Be}var pct1=/%/g;function write_num_pct(Ce,Re,je){var Be=Re.replace(pct1,""),De=Re.length-Be.length;return write_num(Ce,Be,je*Math.pow(10,2*De))+fill("%",De)}function write_num_cm(Ce,Re,je){for(var Be=Re.length-1;Re.charCodeAt(Be-1)===44;)--Be;return write_num(Ce,Re.substr(0,Be),je/Math.pow(10,3*(Re.length-Be)))}function write_num_exp(Ce,Re){var je,Be=Ce.indexOf("E")-Ce.indexOf(".")-1;if(Ce.match(/^#+0.0E\+0$/)){if(Re==0)return"0.0E+0";if(Re<0)return"-"+write_num_exp(Ce,-Re);var De=Ce.indexOf(".");De===-1&&(De=Ce.indexOf("E"));var Fe=Math.floor(Math.log(Re)*Math.LOG10E)%De;if(Fe<0&&(Fe+=De),je=(Re/Math.pow(10,Fe)).toPrecision(Be+1+(De+Fe)%De),je.indexOf("e")===-1){var Oe=Math.floor(Math.log(Re)*Math.LOG10E);for(je.indexOf(".")===-1?je=je.charAt(0)+"."+je.substr(1)+"E+"+(Oe-je.length+Fe):je+="E+"+(Oe-Fe);je.substr(0,2)==="0.";)je=je.charAt(0)+je.substr(2,De)+"."+je.substr(2+De),je=je.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");je=je.replace(/\+-/,"-")}je=je.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(ke,Me,Ue,$e){return Me+Ue+$e.substr(0,(De+Fe)%De)+"."+$e.substr(Fe)+"E"})}else je=Re.toExponential(Be);return Ce.match(/E\+00$/)&&je.match(/e[+-]\d$/)&&(je=je.substr(0,je.length-1)+"0"+je.charAt(je.length-1)),Ce.match(/E\-/)&&je.match(/e\+/)&&(je=je.replace(/e\+/,"e")),je.replace("e","E")}var frac1=/# (\?+)( ?)\/( ?)(\d+)/;function write_num_f1(Ce,Re,je){var Be=parseInt(Ce[4],10),De=Math.round(Re*Be),Fe=Math.floor(De/Be),Oe=De-Fe*Be,ke=Be;return je+(Fe===0?"":""+Fe)+" "+(Oe===0?fill(" ",Ce[1].length+1+Ce[4].length):pad_(Oe,Ce[1].length)+Ce[2]+"/"+Ce[3]+pad0(ke,Ce[4].length))}function write_num_f2(Ce,Re,je){return je+(Re===0?"":""+Re)+fill(" ",Ce[1].length+2+Ce[4].length)}var dec1=/^#*0*\.([0#]+)/,closeparen=/\).*[0#]/,phone=/\(###\) ###\\?-####/;function hashq(Ce){for(var Re="",je,Be=0;Be!=Ce.length;++Be)switch(je=Ce.charCodeAt(Be)){case 35:break;case 63:Re+=" ";break;case 48:Re+="0";break;default:Re+=String.fromCharCode(je)}return Re}function rnd(Ce,Re){var je=Math.pow(10,Re);return""+Math.round(Ce*je)/je}function dec(Ce,Re){var je=Ce-Math.floor(Ce),Be=Math.pow(10,Re);return Re<(""+Math.round(je*Be)).length?0:Math.round(je*Be)}function carry(Ce,Re){return Re<(""+Math.round((Ce-Math.floor(Ce))*Math.pow(10,Re))).length?1:0}function flr(Ce){return Ce<2147483647&&Ce>-2147483648?""+(Ce>=0?Ce|0:Ce-1|0):""+Math.floor(Ce)}function write_num_flt(Ce,Re,je){if(Ce.charCodeAt(0)===40&&!Re.match(closeparen)){var Be=Re.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return je>=0?write_num_flt("n",Be,je):"("+write_num_flt("n",Be,-je)+")"}if(Re.charCodeAt(Re.length-1)===44)return write_num_cm(Ce,Re,je);if(Re.indexOf("%")!==-1)return write_num_pct(Ce,Re,je);if(Re.indexOf("E")!==-1)return write_num_exp(Re,je);if(Re.charCodeAt(0)===36)return"$"+write_num_flt(Ce,Re.substr(Re.charAt(1)==" "?2:1),je);var De,Fe,Oe,ke,Me=Math.abs(je),Ue=je<0?"-":"";if(Re.match(/^00+$/))return Ue+pad0r(Me,Re.length);if(Re.match(/^[#?]+$/))return De=pad0r(je,0),De==="0"&&(De=""),De.length>Re.length?De:hashq(Re.substr(0,Re.length-De.length))+De;if(Fe=Re.match(frac1))return write_num_f1(Fe,Me,Ue);if(Re.match(/^#+0+$/))return Ue+pad0r(Me,Re.length-Re.indexOf("0"));if(Fe=Re.match(dec1))return De=rnd(je,Fe[1].length).replace(/^([^\.]+)$/,"$1."+hashq(Fe[1])).replace(/\.$/,"."+hashq(Fe[1])).replace(/\.(\d*)$/,function(qe,Ke){return"."+Ke+fill("0",hashq(Fe[1]).length-Ke.length)}),Re.indexOf("0.")!==-1?De:De.replace(/^0\./,".");if(Re=Re.replace(/^#+([0.])/,"$1"),Fe=Re.match(/^(0*)\.(#*)$/))return Ue+rnd(Me,Fe[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,Fe[1].length?"0.":".");if(Fe=Re.match(/^#{1,3},##0(\.?)$/))return Ue+commaify(pad0r(Me,0));if(Fe=Re.match(/^#,##0\.([#0]*0)$/))return je<0?"-"+write_num_flt(Ce,Re,-je):commaify(""+(Math.floor(je)+carry(je,Fe[1].length)))+"."+pad0(dec(je,Fe[1].length),Fe[1].length);if(Fe=Re.match(/^#,#*,#0/))return write_num_flt(Ce,Re.replace(/^#,#*,/,""),je);if(Fe=Re.match(/^([0#]+)(\\?-([0#]+))+$/))return De=_strrev(write_num_flt(Ce,Re.replace(/[\\-]/g,""),je)),Oe=0,_strrev(_strrev(Re.replace(/\\/g,"")).replace(/[0#]/g,function(qe){return Oe<De.length?De.charAt(Oe++):qe==="0"?"0":""}));if(Re.match(phone))return De=write_num_flt(Ce,"##########",je),"("+De.substr(0,3)+") "+De.substr(3,3)+"-"+De.substr(6);var $e="";if(Fe=Re.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return Oe=Math.min(Fe[4].length,7),ke=SSF_frac(Me,Math.pow(10,Oe)-1,!1),De=""+Ue,$e=write_num("n",Fe[1],ke[1]),$e.charAt($e.length-1)==" "&&($e=$e.substr(0,$e.length-1)+"0"),De+=$e+Fe[2]+"/"+Fe[3],$e=rpad_(ke[2],Oe),$e.length<Fe[4].length&&($e=hashq(Fe[4].substr(Fe[4].length-$e.length))+$e),De+=$e,De;if(Fe=Re.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return Oe=Math.min(Math.max(Fe[1].length,Fe[4].length),7),ke=SSF_frac(Me,Math.pow(10,Oe)-1,!0),Ue+(ke[0]||(ke[1]?"":"0"))+" "+(ke[1]?pad_(ke[1],Oe)+Fe[2]+"/"+Fe[3]+rpad_(ke[2],Oe):fill(" ",2*Oe+1+Fe[2].length+Fe[3].length));if(Fe=Re.match(/^[#0?]+$/))return De=pad0r(je,0),Re.length<=De.length?De:hashq(Re.substr(0,Re.length-De.length))+De;if(Fe=Re.match(/^([#0?]+)\.([#0]+)$/)){De=""+je.toFixed(Math.min(Fe[2].length,10)).replace(/([^0])0+$/,"$1"),Oe=De.indexOf(".");var He=Re.indexOf(".")-Oe,Qe=Re.length-De.length-He;return hashq(Re.substr(0,He)+De+Re.substr(Re.length-Qe))}if(Fe=Re.match(/^00,000\.([#0]*0)$/))return Oe=dec(je,Fe[1].length),je<0?"-"+write_num_flt(Ce,Re,-je):commaify(flr(je)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(qe){return"00,"+(qe.length<3?pad0(0,3-qe.length):"")+qe})+"."+pad0(Oe,Fe[1].length);switch(Re){case"###,##0.00":return write_num_flt(Ce,"#,##0.00",je);case"###,###":case"##,###":case"#,###":var We=commaify(pad0r(Me,0));return We!=="0"?Ue+We:"";case"###,###.00":return write_num_flt(Ce,"###,##0.00",je).replace(/^0\./,".");case"#,###.00":return write_num_flt(Ce,"#,##0.00",je).replace(/^0\./,".")}throw new Error("unsupported format |"+Re+"|")}function write_num_cm2(Ce,Re,je){for(var Be=Re.length-1;Re.charCodeAt(Be-1)===44;)--Be;return write_num(Ce,Re.substr(0,Be),je/Math.pow(10,3*(Re.length-Be)))}function write_num_pct2(Ce,Re,je){var Be=Re.replace(pct1,""),De=Re.length-Be.length;return write_num(Ce,Be,je*Math.pow(10,2*De))+fill("%",De)}function write_num_exp2(Ce,Re){var je,Be=Ce.indexOf("E")-Ce.indexOf(".")-1;if(Ce.match(/^#+0.0E\+0$/)){if(Re==0)return"0.0E+0";if(Re<0)return"-"+write_num_exp2(Ce,-Re);var De=Ce.indexOf(".");De===-1&&(De=Ce.indexOf("E"));var Fe=Math.floor(Math.log(Re)*Math.LOG10E)%De;if(Fe<0&&(Fe+=De),je=(Re/Math.pow(10,Fe)).toPrecision(Be+1+(De+Fe)%De),!je.match(/[Ee]/)){var Oe=Math.floor(Math.log(Re)*Math.LOG10E);je.indexOf(".")===-1?je=je.charAt(0)+"."+je.substr(1)+"E+"+(Oe-je.length+Fe):je+="E+"+(Oe-Fe),je=je.replace(/\+-/,"-")}je=je.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(ke,Me,Ue,$e){return Me+Ue+$e.substr(0,(De+Fe)%De)+"."+$e.substr(Fe)+"E"})}else je=Re.toExponential(Be);return Ce.match(/E\+00$/)&&je.match(/e[+-]\d$/)&&(je=je.substr(0,je.length-1)+"0"+je.charAt(je.length-1)),Ce.match(/E\-/)&&je.match(/e\+/)&&(je=je.replace(/e\+/,"e")),je.replace("e","E")}function write_num_int(Ce,Re,je){if(Ce.charCodeAt(0)===40&&!Re.match(closeparen)){var Be=Re.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return je>=0?write_num_int("n",Be,je):"("+write_num_int("n",Be,-je)+")"}if(Re.charCodeAt(Re.length-1)===44)return write_num_cm2(Ce,Re,je);if(Re.indexOf("%")!==-1)return write_num_pct2(Ce,Re,je);if(Re.indexOf("E")!==-1)return write_num_exp2(Re,je);if(Re.charCodeAt(0)===36)return"$"+write_num_int(Ce,Re.substr(Re.charAt(1)==" "?2:1),je);var De,Fe,Oe,ke,Me=Math.abs(je),Ue=je<0?"-":"";if(Re.match(/^00+$/))return Ue+pad0(Me,Re.length);if(Re.match(/^[#?]+$/))return De=""+je,je===0&&(De=""),De.length>Re.length?De:hashq(Re.substr(0,Re.length-De.length))+De;if(Fe=Re.match(frac1))return write_num_f2(Fe,Me,Ue);if(Re.match(/^#+0+$/))return Ue+pad0(Me,Re.length-Re.indexOf("0"));if(Fe=Re.match(dec1))return De=(""+je).replace(/^([^\.]+)$/,"$1."+hashq(Fe[1])).replace(/\.$/,"."+hashq(Fe[1])),De=De.replace(/\.(\d*)$/,function(qe,Ke){return"."+Ke+fill("0",hashq(Fe[1]).length-Ke.length)}),Re.indexOf("0.")!==-1?De:De.replace(/^0\./,".");if(Re=Re.replace(/^#+([0.])/,"$1"),Fe=Re.match(/^(0*)\.(#*)$/))return Ue+(""+Me).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,Fe[1].length?"0.":".");if(Fe=Re.match(/^#{1,3},##0(\.?)$/))return Ue+commaify(""+Me);if(Fe=Re.match(/^#,##0\.([#0]*0)$/))return je<0?"-"+write_num_int(Ce,Re,-je):commaify(""+je)+"."+fill("0",Fe[1].length);if(Fe=Re.match(/^#,#*,#0/))return write_num_int(Ce,Re.replace(/^#,#*,/,""),je);if(Fe=Re.match(/^([0#]+)(\\?-([0#]+))+$/))return De=_strrev(write_num_int(Ce,Re.replace(/[\\-]/g,""),je)),Oe=0,_strrev(_strrev(Re.replace(/\\/g,"")).replace(/[0#]/g,function(qe){return Oe<De.length?De.charAt(Oe++):qe==="0"?"0":""}));if(Re.match(phone))return De=write_num_int(Ce,"##########",je),"("+De.substr(0,3)+") "+De.substr(3,3)+"-"+De.substr(6);var $e="";if(Fe=Re.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return Oe=Math.min(Fe[4].length,7),ke=SSF_frac(Me,Math.pow(10,Oe)-1,!1),De=""+Ue,$e=write_num("n",Fe[1],ke[1]),$e.charAt($e.length-1)==" "&&($e=$e.substr(0,$e.length-1)+"0"),De+=$e+Fe[2]+"/"+Fe[3],$e=rpad_(ke[2],Oe),$e.length<Fe[4].length&&($e=hashq(Fe[4].substr(Fe[4].length-$e.length))+$e),De+=$e,De;if(Fe=Re.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return Oe=Math.min(Math.max(Fe[1].length,Fe[4].length),7),ke=SSF_frac(Me,Math.pow(10,Oe)-1,!0),Ue+(ke[0]||(ke[1]?"":"0"))+" "+(ke[1]?pad_(ke[1],Oe)+Fe[2]+"/"+Fe[3]+rpad_(ke[2],Oe):fill(" ",2*Oe+1+Fe[2].length+Fe[3].length));if(Fe=Re.match(/^[#0?]+$/))return De=""+je,Re.length<=De.length?De:hashq(Re.substr(0,Re.length-De.length))+De;if(Fe=Re.match(/^([#0]+)\.([#0]+)$/)){De=""+je.toFixed(Math.min(Fe[2].length,10)).replace(/([^0])0+$/,"$1"),Oe=De.indexOf(".");var He=Re.indexOf(".")-Oe,Qe=Re.length-De.length-He;return hashq(Re.substr(0,He)+De+Re.substr(Re.length-Qe))}if(Fe=Re.match(/^00,000\.([#0]*0)$/))return je<0?"-"+write_num_int(Ce,Re,-je):commaify(""+je).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(qe){return"00,"+(qe.length<3?pad0(0,3-qe.length):"")+qe})+"."+pad0(0,Fe[1].length);switch(Re){case"###,###":case"##,###":case"#,###":var We=commaify(""+Me);return We!=="0"?Ue+We:"";default:if(Re.match(/\.[0#?]*$/))return write_num_int(Ce,Re.slice(0,Re.lastIndexOf(".")),je)+hashq(Re.slice(Re.lastIndexOf(".")))}throw new Error("unsupported format |"+Re+"|")}function write_num(Ce,Re,je){return(je|0)===je?write_num_int(Ce,Re,je):write_num_flt(Ce,Re,je)}function SSF_split_fmt(Ce){for(var Re=[],je=!1,Be=0,De=0;Be<Ce.length;++Be)switch(Ce.charCodeAt(Be)){case 34:je=!je;break;case 95:case 42:case 92:++Be;break;case 59:Re[Re.length]=Ce.substr(De,Be-De),De=Be+1}if(Re[Re.length]=Ce.substr(De),je===!0)throw new Error("Format |"+Ce+"| unterminated string ");return Re}var SSF_abstime=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fmt_is_date(Ce){for(var Re=0,je="",Be="";Re<Ce.length;)switch(je=Ce.charAt(Re)){case"G":SSF_isgeneral(Ce,Re)&&(Re+=6),Re++;break;case'"':for(;Ce.charCodeAt(++Re)!==34&&Re<Ce.length;);++Re;break;case"\\":Re+=2;break;case"_":Re+=2;break;case"@":++Re;break;case"B":case"b":if(Ce.charAt(Re+1)==="1"||Ce.charAt(Re+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(Ce.substr(Re,3).toUpperCase()==="A/P"||Ce.substr(Re,5).toUpperCase()==="AM/PM"||Ce.substr(Re,5).toUpperCase()==="/")return!0;++Re;break;case"[":for(Be=je;Ce.charAt(Re++)!=="]"&&Re<Ce.length;)Be+=Ce.charAt(Re);if(Be.match(SSF_abstime))return!0;break;case".":case"0":case"#":for(;Re<Ce.length&&("0#?.,E+-%".indexOf(je=Ce.charAt(++Re))>-1||je=="\\"&&Ce.charAt(Re+1)=="-"&&"0#".indexOf(Ce.charAt(Re+2))>-1););break;case"?":for(;Ce.charAt(++Re)===je;);break;case"*":++Re,(Ce.charAt(Re)==" "||Ce.charAt(Re)=="*")&&++Re;break;case"(":case")":++Re;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;Re<Ce.length&&"0123456789".indexOf(Ce.charAt(++Re))>-1;);break;case" ":++Re;break;default:++Re;break}return!1}function eval_fmt(Ce,Re,je,Be){for(var De=[],Fe="",Oe=0,ke="",Me="t",Ue,$e,He,Qe="H";Oe<Ce.length;)switch(ke=Ce.charAt(Oe)){case"G":if(!SSF_isgeneral(Ce,Oe))throw new Error("unrecognized character "+ke+" in "+Ce);De[De.length]={t:"G",v:"General"},Oe+=7;break;case'"':for(Fe="";(He=Ce.charCodeAt(++Oe))!==34&&Oe<Ce.length;)Fe+=String.fromCharCode(He);De[De.length]={t:"t",v:Fe},++Oe;break;case"\\":var We=Ce.charAt(++Oe),qe=We==="("||We===")"?We:"t";De[De.length]={t:qe,v:We},++Oe;break;case"_":De[De.length]={t:"t",v:" "},Oe+=2;break;case"@":De[De.length]={t:"T",v:Re},++Oe;break;case"B":case"b":if(Ce.charAt(Oe+1)==="1"||Ce.charAt(Oe+1)==="2"){if(Ue==null&&(Ue=SSF_parse_date_code(Re,je,Ce.charAt(Oe+1)==="2"),Ue==null))return"";De[De.length]={t:"X",v:Ce.substr(Oe,2)},Me=ke,Oe+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":ke=ke.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(Re<0||Ue==null&&(Ue=SSF_parse_date_code(Re,je),Ue==null))return"";for(Fe=ke;++Oe<Ce.length&&Ce.charAt(Oe).toLowerCase()===ke;)Fe+=ke;ke==="m"&&Me.toLowerCase()==="h"&&(ke="M"),ke==="h"&&(ke=Qe),De[De.length]={t:ke,v:Fe},Me=ke;break;case"A":case"a":case"":var Ke={t:ke,v:ke};if(Ue==null&&(Ue=SSF_parse_date_code(Re,je)),Ce.substr(Oe,3).toUpperCase()==="A/P"?(Ue!=null&&(Ke.v=Ue.H>=12?"P":"A"),Ke.t="T",Qe="h",Oe+=3):Ce.substr(Oe,5).toUpperCase()==="AM/PM"?(Ue!=null&&(Ke.v=Ue.H>=12?"PM":"AM"),Ke.t="T",Oe+=5,Qe="h"):Ce.substr(Oe,5).toUpperCase()==="/"?(Ue!=null&&(Ke.v=Ue.H>=12?"":""),Ke.t="T",Oe+=5,Qe="h"):(Ke.t="t",++Oe),Ue==null&&Ke.t==="T")return"";De[De.length]=Ke,Me=ke;break;case"[":for(Fe=ke;Ce.charAt(Oe++)!=="]"&&Oe<Ce.length;)Fe+=Ce.charAt(Oe);if(Fe.slice(-1)!=="]")throw'unterminated "[" block: |'+Fe+"|";if(Fe.match(SSF_abstime)){if(Ue==null&&(Ue=SSF_parse_date_code(Re,je),Ue==null))return"";De[De.length]={t:"Z",v:Fe.toLowerCase()},Me=Fe.charAt(1)}else Fe.indexOf("$")>-1&&(Fe=(Fe.match(/\$([^-\[\]]*)/)||[])[1]||"$",fmt_is_date(Ce)||(De[De.length]={t:"t",v:Fe}));break;case".":if(Ue!=null){for(Fe=ke;++Oe<Ce.length&&(ke=Ce.charAt(Oe))==="0";)Fe+=ke;De[De.length]={t:"s",v:Fe};break}case"0":case"#":for(Fe=ke;++Oe<Ce.length&&"0#?.,E+-%".indexOf(ke=Ce.charAt(Oe))>-1;)Fe+=ke;De[De.length]={t:"n",v:Fe};break;case"?":for(Fe=ke;Ce.charAt(++Oe)===ke;)Fe+=ke;De[De.length]={t:ke,v:Fe},Me=ke;break;case"*":++Oe,(Ce.charAt(Oe)==" "||Ce.charAt(Oe)=="*")&&++Oe;break;case"(":case")":De[De.length]={t:Be===1?"t":ke,v:ke},++Oe;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(Fe=ke;Oe<Ce.length&&"0123456789".indexOf(Ce.charAt(++Oe))>-1;)Fe+=Ce.charAt(Oe);De[De.length]={t:"D",v:Fe};break;case" ":De[De.length]={t:ke,v:ke},++Oe;break;case"$":De[De.length]={t:"t",v:"$"},++Oe;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(ke)===-1)throw new Error("unrecognized character "+ke+" in "+Ce);De[De.length]={t:"t",v:ke},++Oe;break}var Xe=0,Ye=0,Ze;for(Oe=De.length-1,Me="t";Oe>=0;--Oe)switch(De[Oe].t){case"h":case"H":De[Oe].t=Qe,Me="h",Xe<1&&(Xe=1);break;case"s":(Ze=De[Oe].v.match(/\.0+$/))&&(Ye=Math.max(Ye,Ze[0].length-1)),Xe<3&&(Xe=3);case"d":case"y":case"M":case"e":Me=De[Oe].t;break;case"m":Me==="s"&&(De[Oe].t="M",Xe<2&&(Xe=2));break;case"X":break;case"Z":Xe<1&&De[Oe].v.match(/[Hh]/)&&(Xe=1),Xe<2&&De[Oe].v.match(/[Mm]/)&&(Xe=2),Xe<3&&De[Oe].v.match(/[Ss]/)&&(Xe=3)}switch(Xe){case 0:break;case 1:Ue.u>=.5&&(Ue.u=0,++Ue.S),Ue.S>=60&&(Ue.S=0,++Ue.M),Ue.M>=60&&(Ue.M=0,++Ue.H);break;case 2:Ue.u>=.5&&(Ue.u=0,++Ue.S),Ue.S>=60&&(Ue.S=0,++Ue.M);break}var Je="",tr;for(Oe=0;Oe<De.length;++Oe)switch(De[Oe].t){case"t":case"T":case" ":case"D":break;case"X":De[Oe].v="",De[Oe].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":De[Oe].v=SSF_write_date(De[Oe].t.charCodeAt(0),De[Oe].v,Ue,Ye),De[Oe].t="t";break;case"n":case"?":for(tr=Oe+1;De[tr]!=null&&((ke=De[tr].t)==="?"||ke==="D"||(ke===" "||ke==="t")&&De[tr+1]!=null&&(De[tr+1].t==="?"||De[tr+1].t==="t"&&De[tr+1].v==="/")||De[Oe].t==="("&&(ke===" "||ke==="n"||ke===")")||ke==="t"&&(De[tr].v==="/"||De[tr].v===" "&&De[tr+1]!=null&&De[tr+1].t=="?"));)De[Oe].v+=De[tr].v,De[tr]={v:"",t:";"},++tr;Je+=De[Oe].v,Oe=tr-1;break;case"G":De[Oe].t="t",De[Oe].v=SSF_general(Re,je);break}var rr="",ar,nr;if(Je.length>0){Je.charCodeAt(0)==40?(ar=Re<0&&Je.charCodeAt(0)===45?-Re:Re,nr=write_num("n",Je,ar)):(ar=Re<0&&Be>1?-Re:Re,nr=write_num("n",Je,ar),ar<0&&De[0]&&De[0].t=="t"&&(nr=nr.substr(1),De[0].v="-"+De[0].v)),tr=nr.length-1;var sr=De.length;for(Oe=0;Oe<De.length;++Oe)if(De[Oe]!=null&&De[Oe].t!="t"&&De[Oe].v.indexOf(".")>-1){sr=Oe;break}var dr=De.length;if(sr===De.length&&nr.indexOf("E")===-1){for(Oe=De.length-1;Oe>=0;--Oe)De[Oe]==null||"n?".indexOf(De[Oe].t)===-1||(tr>=De[Oe].v.length-1?(tr-=De[Oe].v.length,De[Oe].v=nr.substr(tr+1,De[Oe].v.length)):tr<0?De[Oe].v="":(De[Oe].v=nr.substr(0,tr+1),tr=-1),De[Oe].t="t",dr=Oe);tr>=0&&dr<De.length&&(De[dr].v=nr.substr(0,tr+1)+De[dr].v)}else if(sr!==De.length&&nr.indexOf("E")===-1){for(tr=nr.indexOf(".")-1,Oe=sr;Oe>=0;--Oe)if(!(De[Oe]==null||"n?".indexOf(De[Oe].t)===-1)){for($e=De[Oe].v.indexOf(".")>-1&&Oe===sr?De[Oe].v.indexOf(".")-1:De[Oe].v.length-1,rr=De[Oe].v.substr($e+1);$e>=0;--$e)tr>=0&&(De[Oe].v.charAt($e)==="0"||De[Oe].v.charAt($e)==="#")&&(rr=nr.charAt(tr--)+rr);De[Oe].v=rr,De[Oe].t="t",dr=Oe}for(tr>=0&&dr<De.length&&(De[dr].v=nr.substr(0,tr+1)+De[dr].v),tr=nr.indexOf(".")+1,Oe=sr;Oe<De.length;++Oe)if(!(De[Oe]==null||"n?(".indexOf(De[Oe].t)===-1&&Oe!==sr)){for($e=De[Oe].v.indexOf(".")>-1&&Oe===sr?De[Oe].v.indexOf(".")+1:0,rr=De[Oe].v.substr(0,$e);$e<De[Oe].v.length;++$e)tr<nr.length&&(rr+=nr.charAt(tr++));De[Oe].v=rr,De[Oe].t="t",dr=Oe}}}for(Oe=0;Oe<De.length;++Oe)De[Oe]!=null&&"n?".indexOf(De[Oe].t)>-1&&(ar=Be>1&&Re<0&&Oe>0&&De[Oe-1].v==="-"?-Re:Re,De[Oe].v=write_num(De[Oe].t,De[Oe].v,ar),De[Oe].t="t");var _r="";for(Oe=0;Oe!==De.length;++Oe)De[Oe]!=null&&(_r+=De[Oe].v);return _r}var cfregex2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function chkcond(Ce,Re){if(Re==null)return!1;var je=parseFloat(Re[2]);switch(Re[1]){case"=":if(Ce==je)return!0;break;case">":if(Ce>je)return!0;break;case"<":if(Ce<je)return!0;break;case"<>":if(Ce!=je)return!0;break;case">=":if(Ce>=je)return!0;break;case"<=":if(Ce<=je)return!0;break}return!1}function choose_fmt(Ce,Re){var je=SSF_split_fmt(Ce),Be=je.length,De=je[Be-1].indexOf("@");if(Be<4&&De>-1&&--Be,je.length>4)throw new Error("cannot find right format for |"+je.join("|")+"|");if(typeof Re!="number")return[4,je.length===4||De>-1?je[je.length-1]:"@"];switch(je.length){case 1:je=De>-1?["General","General","General",je[0]]:[je[0],je[0],je[0],"@"];break;case 2:je=De>-1?[je[0],je[0],je[0],je[1]]:[je[0],je[1],je[0],"@"];break;case 3:je=De>-1?[je[0],je[1],je[0],je[2]]:[je[0],je[1],je[2],"@"];break}var Fe=Re>0?je[0]:Re<0?je[1]:je[2];if(je[0].indexOf("[")===-1&&je[1].indexOf("[")===-1)return[Be,Fe];if(je[0].match(/\[[=<>]/)!=null||je[1].match(/\[[=<>]/)!=null){var Oe=je[0].match(cfregex2),ke=je[1].match(cfregex2);return chkcond(Re,Oe)?[Be,je[0]]:chkcond(Re,ke)?[Be,je[1]]:[Be,je[Oe!=null&&ke!=null?2:1]]}return[Be,Fe]}function SSF_format(Ce,Re,je){je==null&&(je={});var Be="";switch(typeof Ce){case"string":Ce=="m/d/yy"&&je.dateNF?Be=je.dateNF:Be=Ce;break;case"number":Ce==14&&je.dateNF?Be=je.dateNF:Be=(je.table!=null?je.table:table_fmt)[Ce],Be==null&&(Be=je.table&&je.table[SSF_default_map[Ce]]||table_fmt[SSF_default_map[Ce]]),Be==null&&(Be=SSF_default_str[Ce]||"General");break}if(SSF_isgeneral(Be,0))return SSF_general(Re,je);Re instanceof Date&&(Re=datenum_local(Re,je.date1904));var De=choose_fmt(Be,Re);if(SSF_isgeneral(De[1]))return SSF_general(Re,je);if(Re===!0)Re="TRUE";else if(Re===!1)Re="FALSE";else if(Re===""||Re==null)return"";return eval_fmt(De[1],Re,je,De[0])}function SSF_load(Ce,Re){if(typeof Re!="number"){Re=+Re||-1;for(var je=0;je<392;++je){if(table_fmt[je]==null){Re<0&&(Re=je);continue}if(table_fmt[je]==Ce){Re=je;break}}Re<0&&(Re=391)}return table_fmt[Re]=Ce,Re}function SSF_load_table(Ce){for(var Re=0;Re!=392;++Re)Ce[Re]!==void 0&&SSF_load(Ce[Re],Re)}function make_ssf(){table_fmt=SSF_init_table()}var dateNFregex=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function dateNF_regex(Ce){var Re=typeof Ce=="number"?table_fmt[Ce]:Ce;return Re=Re.replace(dateNFregex,"(\\d+)"),new RegExp("^"+Re+"$")}function dateNF_fix(Ce,Re,je){var Be=-1,De=-1,Fe=-1,Oe=-1,ke=-1,Me=-1;(Re.match(dateNFregex)||[]).forEach(function(He,Qe){var We=parseInt(je[Qe+1],10);switch(He.toLowerCase().charAt(0)){case"y":Be=We;break;case"d":Fe=We;break;case"h":Oe=We;break;case"s":Me=We;break;case"m":Oe>=0?ke=We:De=We;break}}),Me>=0&&ke==-1&&De>=0&&(ke=De,De=-1);var Ue=(""+(Be>=0?Be:new Date().getFullYear())).slice(-4)+"-"+("00"+(De>=1?De:1)).slice(-2)+"-"+("00"+(Fe>=1?Fe:1)).slice(-2);Ue.length==7&&(Ue="0"+Ue),Ue.length==8&&(Ue="20"+Ue);var $e=("00"+(Oe>=0?Oe:0)).slice(-2)+":"+("00"+(ke>=0?ke:0)).slice(-2)+":"+("00"+(Me>=0?Me:0)).slice(-2);return Oe==-1&&ke==-1&&Me==-1?Ue:Be==-1&&De==-1&&Fe==-1?$e:Ue+"T"+$e}var CRC32=(function(){var Ce={};Ce.version="1.2.0";function Re(){for(var nr=0,sr=new Array(256),dr=0;dr!=256;++dr)nr=dr,nr=nr&1?-306674912^nr>>>1:nr>>>1,nr=nr&1?-306674912^nr>>>1:nr>>>1,nr=nr&1?-306674912^nr>>>1:nr>>>1,nr=nr&1?-306674912^nr>>>1:nr>>>1,nr=nr&1?-306674912^nr>>>1:nr>>>1,nr=nr&1?-306674912^nr>>>1:nr>>>1,nr=nr&1?-306674912^nr>>>1:nr>>>1,nr=nr&1?-306674912^nr>>>1:nr>>>1,sr[dr]=nr;return typeof Int32Array<"u"?new Int32Array(sr):sr}var je=Re();function Be(nr){var sr=0,dr=0,_r=0,fr=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(_r=0;_r!=256;++_r)fr[_r]=nr[_r];for(_r=0;_r!=256;++_r)for(dr=nr[_r],sr=256+_r;sr<4096;sr+=256)dr=fr[sr]=dr>>>8^nr[dr&255];var or=[];for(_r=1;_r!=16;++_r)or[_r-1]=typeof Int32Array<"u"?fr.subarray(_r*256,_r*256+256):fr.slice(_r*256,_r*256+256);return or}var De=Be(je),Fe=De[0],Oe=De[1],ke=De[2],Me=De[3],Ue=De[4],$e=De[5],He=De[6],Qe=De[7],We=De[8],qe=De[9],Ke=De[10],Xe=De[11],Ye=De[12],Ze=De[13],Je=De[14];function tr(nr,sr){for(var dr=sr^-1,_r=0,fr=nr.length;_r<fr;)dr=dr>>>8^je[(dr^nr.charCodeAt(_r++))&255];return~dr}function rr(nr,sr){for(var dr=sr^-1,_r=nr.length-15,fr=0;fr<_r;)dr=Je[nr[fr++]^dr&255]^Ze[nr[fr++]^dr>>8&255]^Ye[nr[fr++]^dr>>16&255]^Xe[nr[fr++]^dr>>>24]^Ke[nr[fr++]]^qe[nr[fr++]]^We[nr[fr++]]^Qe[nr[fr++]]^He[nr[fr++]]^$e[nr[fr++]]^Ue[nr[fr++]]^Me[nr[fr++]]^ke[nr[fr++]]^Oe[nr[fr++]]^Fe[nr[fr++]]^je[nr[fr++]];for(_r+=15;fr<_r;)dr=dr>>>8^je[(dr^nr[fr++])&255];return~dr}function ar(nr,sr){for(var dr=sr^-1,_r=0,fr=nr.length,or=0,Er=0;_r<fr;)or=nr.charCodeAt(_r++),or<128?dr=dr>>>8^je[(dr^or)&255]:or<2048?(dr=dr>>>8^je[(dr^(192|or>>6&31))&255],dr=dr>>>8^je[(dr^(128|or&63))&255]):or>=55296&&or<57344?(or=(or&1023)+64,Er=nr.charCodeAt(_r++)&1023,dr=dr>>>8^je[(dr^(240|or>>8&7))&255],dr=dr>>>8^je[(dr^(128|or>>2&63))&255],dr=dr>>>8^je[(dr^(128|Er>>6&15|(or&3)<<4))&255],dr=dr>>>8^je[(dr^(128|Er&63))&255]):(dr=dr>>>8^je[(dr^(224|or>>12&15))&255],dr=dr>>>8^je[(dr^(128|or>>6&63))&255],dr=dr>>>8^je[(dr^(128|or&63))&255]);return~dr}return Ce.table=je,Ce.bstr=tr,Ce.buf=rr,Ce.str=ar,Ce})(),CFB=(function Ce(){var Re={};Re.version="1.2.1";function je(Kr,fn){for(var sn=Kr.split("/"),on=fn.split("/"),hn=0,pn=0,Mn=Math.min(sn.length,on.length);hn<Mn;++hn){if(pn=sn[hn].length-on[hn].length)return pn;if(sn[hn]!=on[hn])return sn[hn]<on[hn]?-1:1}return sn.length-on.length}function Be(Kr){if(Kr.charAt(Kr.length-1)=="/")return Kr.slice(0,-1).indexOf("/")===-1?Kr:Be(Kr.slice(0,-1));var fn=Kr.lastIndexOf("/");return fn===-1?Kr:Kr.slice(0,fn+1)}function De(Kr){if(Kr.charAt(Kr.length-1)=="/")return De(Kr.slice(0,-1));var fn=Kr.lastIndexOf("/");return fn===-1?Kr:Kr.slice(fn+1)}function Fe(Kr,fn){typeof fn=="string"&&(fn=new Date(fn));var sn=fn.getHours();sn=sn<<6|fn.getMinutes(),sn=sn<<5|fn.getSeconds()>>>1,Kr.write_shift(2,sn);var on=fn.getFullYear()-1980;on=on<<4|fn.getMonth()+1,on=on<<5|fn.getDate(),Kr.write_shift(2,on)}function Oe(Kr){var fn=Kr.read_shift(2)&65535,sn=Kr.read_shift(2)&65535,on=new Date,hn=sn&31;sn>>>=5;var pn=sn&15;sn>>>=4,on.setMilliseconds(0),on.setFullYear(sn+1980),on.setMonth(pn-1),on.setDate(hn);var Mn=fn&31;fn>>>=5;var qn=fn&63;return fn>>>=6,on.setHours(fn),on.setMinutes(qn),on.setSeconds(Mn<<1),on}function ke(Kr){prep_blob(Kr,0);for(var fn={},sn=0;Kr.l<=Kr.length-4;){var on=Kr.read_shift(2),hn=Kr.read_shift(2),pn=Kr.l+hn,Mn={};switch(on){case 21589:sn=Kr.read_shift(1),sn&1&&(Mn.mtime=Kr.read_shift(4)),hn>5&&(sn&2&&(Mn.atime=Kr.read_shift(4)),sn&4&&(Mn.ctime=Kr.read_shift(4))),Mn.mtime&&(Mn.mt=new Date(Mn.mtime*1e3));break}Kr.l=pn,fn[on]=Mn}return fn}var Me;function Ue(){return Me||(Me={})}function $e(Kr,fn){if(Kr[0]==80&&Kr[1]==75)return bi(Kr,fn);if((Kr[0]|32)==109&&(Kr[1]|32)==105)return Wa(Kr,fn);if(Kr.length<512)throw new Error("CFB file size "+Kr.length+" < 512");var sn=3,on=512,hn=0,pn=0,Mn=0,qn=0,Nn=0,Vn=[],Kn=Kr.slice(0,512);prep_blob(Kn,0);var gi=He(Kn);switch(sn=gi[0],sn){case 3:on=512;break;case 4:on=4096;break;case 0:if(gi[1]==0)return bi(Kr,fn);default:throw new Error("Major Version: Expected 3 or 4 saw "+sn)}on!==512&&(Kn=Kr.slice(0,on),prep_blob(Kn,28));var Ti=Kr.slice(0,on);Qe(Kn,sn);var zi=Kn.read_shift(4,"i");if(sn===3&&zi!==0)throw new Error("# Directory Sectors: Expected 0 saw "+zi);Kn.l+=4,Mn=Kn.read_shift(4,"i"),Kn.l+=4,Kn.chk("00100000","Mini Stream Cutoff Size: "),qn=Kn.read_shift(4,"i"),hn=Kn.read_shift(4,"i"),Nn=Kn.read_shift(4,"i"),pn=Kn.read_shift(4,"i");for(var Ci=-1,Li=0;Li<109&&(Ci=Kn.read_shift(4,"i"),!(Ci<0));++Li)Vn[Li]=Ci;var ss=We(Kr,on);Xe(Nn,pn,ss,on,Vn);var gs=Ze(ss,Mn,Vn,on);gs[Mn].name="!Directory",hn>0&&qn!==Er&&(gs[qn].name="!MiniFAT"),gs[Vn[0]].name="!FAT",gs.fat_addrs=Vn,gs.ssz=on;var _s={},ys=[],eo=[],Eo=[];Je(Mn,gs,ss,ys,hn,_s,eo,qn),qe(eo,Eo,ys),ys.shift();var oo={FileIndex:eo,FullPaths:Eo};return fn&&fn.raw&&(oo.raw={header:Ti,sectors:ss}),oo}function He(Kr){if(Kr[Kr.l]==80&&Kr[Kr.l+1]==75)return[0,0];Kr.chk(Rr,"Header Signature: "),Kr.l+=16;var fn=Kr.read_shift(2,"u");return[Kr.read_shift(2,"u"),fn]}function Qe(Kr,fn){var sn=9;switch(Kr.l+=2,sn=Kr.read_shift(2)){case 9:if(fn!=3)throw new Error("Sector Shift: Expected 9 saw "+sn);break;case 12:if(fn!=4)throw new Error("Sector Shift: Expected 12 saw "+sn);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+sn)}Kr.chk("0600","Mini Sector Shift: "),Kr.chk("000000000000","Reserved: ")}function We(Kr,fn){for(var sn=Math.ceil(Kr.length/fn)-1,on=[],hn=1;hn<sn;++hn)on[hn-1]=Kr.slice(hn*fn,(hn+1)*fn);return on[sn-1]=Kr.slice(sn*fn),on}function qe(Kr,fn,sn){for(var on=0,hn=0,pn=0,Mn=0,qn=0,Nn=sn.length,Vn=[],Kn=[];on<Nn;++on)Vn[on]=Kn[on]=on,fn[on]=sn[on];for(;qn<Kn.length;++qn)on=Kn[qn],hn=Kr[on].L,pn=Kr[on].R,Mn=Kr[on].C,Vn[on]===on&&(hn!==-1&&Vn[hn]!==hn&&(Vn[on]=Vn[hn]),pn!==-1&&Vn[pn]!==pn&&(Vn[on]=Vn[pn])),Mn!==-1&&(Vn[Mn]=on),hn!==-1&&on!=Vn[on]&&(Vn[hn]=Vn[on],Kn.lastIndexOf(hn)<qn&&Kn.push(hn)),pn!==-1&&on!=Vn[on]&&(Vn[pn]=Vn[on],Kn.lastIndexOf(pn)<qn&&Kn.push(pn));for(on=1;on<Nn;++on)Vn[on]===on&&(pn!==-1&&Vn[pn]!==pn?Vn[on]=Vn[pn]:hn!==-1&&Vn[hn]!==hn&&(Vn[on]=Vn[hn]));for(on=1;on<Nn;++on)if(Kr[on].type!==0){if(qn=on,qn!=Vn[qn])do qn=Vn[qn],fn[on]=fn[qn]+"/"+fn[on];while(qn!==0&&Vn[qn]!==-1&&qn!=Vn[qn]);Vn[on]=-1}for(fn[0]+="/",on=1;on<Nn;++on)Kr[on].type!==2&&(fn[on]+="/")}function Ke(Kr,fn,sn){for(var on=Kr.start,hn=Kr.size,pn=[],Mn=on;sn&&hn>0&&Mn>=0;)pn.push(fn.slice(Mn*or,Mn*or+or)),hn-=or,Mn=__readInt32LE(sn,Mn*4);return pn.length===0?new_buf(0):bconcat(pn).slice(0,Kr.size)}function Xe(Kr,fn,sn,on,hn){var pn=Er;if(Kr===Er){if(fn!==0)throw new Error("DIFAT chain shorter than expected")}else if(Kr!==-1){var Mn=sn[Kr],qn=(on>>>2)-1;if(!Mn)return;for(var Nn=0;Nn<qn&&(pn=__readInt32LE(Mn,Nn*4))!==Er;++Nn)hn.push(pn);Xe(__readInt32LE(Mn,on-4),fn-1,sn,on,hn)}}function Ye(Kr,fn,sn,on,hn){var pn=[],Mn=[];hn||(hn=[]);var qn=on-1,Nn=0,Vn=0;for(Nn=fn;Nn>=0;){hn[Nn]=!0,pn[pn.length]=Nn,Mn.push(Kr[Nn]);var Kn=sn[Math.floor(Nn*4/on)];if(Vn=Nn*4&qn,on<4+Vn)throw new Error("FAT boundary crossed: "+Nn+" 4 "+on);if(!Kr[Kn])break;Nn=__readInt32LE(Kr[Kn],Vn)}return{nodes:pn,data:__toBuffer([Mn])}}function Ze(Kr,fn,sn,on){var hn=Kr.length,pn=[],Mn=[],qn=[],Nn=[],Vn=on-1,Kn=0,gi=0,Ti=0,zi=0;for(Kn=0;Kn<hn;++Kn)if(qn=[],Ti=Kn+fn,Ti>=hn&&(Ti-=hn),!Mn[Ti]){Nn=[];var Ci=[];for(gi=Ti;gi>=0;){Ci[gi]=!0,Mn[gi]=!0,qn[qn.length]=gi,Nn.push(Kr[gi]);var Li=sn[Math.floor(gi*4/on)];if(zi=gi*4&Vn,on<4+zi)throw new Error("FAT boundary crossed: "+gi+" 4 "+on);if(!Kr[Li]||(gi=__readInt32LE(Kr[Li],zi),Ci[gi]))break}pn[Ti]={nodes:qn,data:__toBuffer([Nn])}}return pn}function Je(Kr,fn,sn,on,hn,pn,Mn,qn){for(var Nn=0,Vn=on.length?2:0,Kn=fn[Kr].data,gi=0,Ti=0,zi;gi<Kn.length;gi+=128){var Ci=Kn.slice(gi,gi+128);prep_blob(Ci,64),Ti=Ci.read_shift(2),zi=__utf16le(Ci,0,Ti-Vn),on.push(zi);var Li={name:zi,type:Ci.read_shift(1),color:Ci.read_shift(1),L:Ci.read_shift(4,"i"),R:Ci.read_shift(4,"i"),C:Ci.read_shift(4,"i"),clsid:Ci.read_shift(16),state:Ci.read_shift(4,"i"),start:0,size:0},ss=Ci.read_shift(2)+Ci.read_shift(2)+Ci.read_shift(2)+Ci.read_shift(2);ss!==0&&(Li.ct=tr(Ci,Ci.l-8));var gs=Ci.read_shift(2)+Ci.read_shift(2)+Ci.read_shift(2)+Ci.read_shift(2);gs!==0&&(Li.mt=tr(Ci,Ci.l-8)),Li.start=Ci.read_shift(4,"i"),Li.size=Ci.read_shift(4,"i"),Li.size<0&&Li.start<0&&(Li.size=Li.type=0,Li.start=Er,Li.name=""),Li.type===5?(Nn=Li.start,hn>0&&Nn!==Er&&(fn[Nn].name="!StreamData")):Li.size>=4096?(Li.storage="fat",fn[Li.start]===void 0&&(fn[Li.start]=Ye(sn,Li.start,fn.fat_addrs,fn.ssz)),fn[Li.start].name=Li.name,Li.content=fn[Li.start].data.slice(0,Li.size)):(Li.storage="minifat",Li.size<0?Li.size=0:Nn!==Er&&Li.start!==Er&&fn[Nn]&&(Li.content=Ke(Li,fn[Nn].data,(fn[qn]||{}).data))),Li.content&&prep_blob(Li.content,0),pn[zi]=Li,Mn.push(Li)}}function tr(Kr,fn){return new Date((__readUInt32LE(Kr,fn+4)/1e7*Math.pow(2,32)+__readUInt32LE(Kr,fn)/1e7-11644473600)*1e3)}function rr(Kr,fn){return Ue(),$e(Me.readFileSync(Kr),fn)}function ar(Kr,fn){var sn=fn&&fn.type;switch(sn||has_buf&&Buffer.isBuffer(Kr)&&(sn="buffer"),sn||"base64"){case"file":return rr(Kr,fn);case"base64":return $e(s2a(Base64_decode(Kr)),fn);case"binary":return $e(s2a(Kr),fn)}return $e(Kr,fn)}function nr(Kr,fn){var sn=fn||{},on=sn.root||"Root Entry";if(Kr.FullPaths||(Kr.FullPaths=[]),Kr.FileIndex||(Kr.FileIndex=[]),Kr.FullPaths.length!==Kr.FileIndex.length)throw new Error("inconsistent CFB structure");Kr.FullPaths.length===0&&(Kr.FullPaths[0]=on+"/",Kr.FileIndex[0]={name:on,type:5}),sn.CLSID&&(Kr.FileIndex[0].clsid=sn.CLSID),sr(Kr)}function sr(Kr){var fn="Sh33tJ5";if(!CFB.find(Kr,"/"+fn)){var sn=new_buf(4);sn[0]=55,sn[1]=sn[3]=50,sn[2]=54,Kr.FileIndex.push({name:fn,type:2,content:sn,size:4,L:69,R:69,C:69}),Kr.FullPaths.push(Kr.FullPaths[0]+fn),dr(Kr)}}function dr(Kr,fn){nr(Kr);for(var sn=!1,on=!1,hn=Kr.FullPaths.length-1;hn>=0;--hn){var pn=Kr.FileIndex[hn];switch(pn.type){case 0:on?sn=!0:(Kr.FileIndex.pop(),Kr.FullPaths.pop());break;case 1:case 2:case 5:on=!0,isNaN(pn.R*pn.L*pn.C)&&(sn=!0),pn.R>-1&&pn.L>-1&&pn.R==pn.L&&(sn=!0);break;default:sn=!0;break}}if(!(!sn&&!fn)){var Mn=new Date(1987,1,19),qn=0,Nn=Object.create?Object.create(null):{},Vn=[];for(hn=0;hn<Kr.FullPaths.length;++hn)Nn[Kr.FullPaths[hn]]=!0,Kr.FileIndex[hn].type!==0&&Vn.push([Kr.FullPaths[hn],Kr.FileIndex[hn]]);for(hn=0;hn<Vn.length;++hn){var Kn=Be(Vn[hn][0]);on=Nn[Kn],on||(Vn.push([Kn,{name:De(Kn).replace("/",""),type:1,clsid:xr,ct:Mn,mt:Mn,content:null}]),Nn[Kn]=!0)}for(Vn.sort(function(zi,Ci){return je(zi[0],Ci[0])}),Kr.FullPaths=[],Kr.FileIndex=[],hn=0;hn<Vn.length;++hn)Kr.FullPaths[hn]=Vn[hn][0],Kr.FileIndex[hn]=Vn[hn][1];for(hn=0;hn<Vn.length;++hn){var gi=Kr.FileIndex[hn],Ti=Kr.FullPaths[hn];if(gi.name=De(Ti).replace("/",""),gi.L=gi.R=gi.C=-(gi.color=1),gi.size=gi.content?gi.content.length:0,gi.start=0,gi.clsid=gi.clsid||xr,hn===0)gi.C=Vn.length>1?1:-1,gi.size=0,gi.type=5;else if(Ti.slice(-1)=="/"){for(qn=hn+1;qn<Vn.length&&Be(Kr.FullPaths[qn])!=Ti;++qn);for(gi.C=qn>=Vn.length?-1:qn,qn=hn+1;qn<Vn.length&&Be(Kr.FullPaths[qn])!=Be(Ti);++qn);gi.R=qn>=Vn.length?-1:qn,gi.type=1}else Be(Kr.FullPaths[hn+1]||"")==Be(Ti)&&(gi.R=hn+1),gi.type=2}}}function _r(Kr,fn){var sn=fn||{};if(sn.fileType=="mad")return Mi(Kr,sn);switch(dr(Kr),sn.fileType){case"zip":return Di(Kr,sn)}var on=(function(zi){for(var Ci=0,Li=0,ss=0;ss<zi.FileIndex.length;++ss){var gs=zi.FileIndex[ss];if(gs.content){var _s=gs.content.length;_s>0&&(_s<4096?Ci+=_s+63>>6:Li+=_s+511>>9)}}for(var ys=zi.FullPaths.length+3>>2,eo=Ci+7>>3,Eo=Ci+127>>7,oo=eo+Li+ys+Eo,wo=oo+127>>7,co=wo<=109?0:Math.ceil((wo-109)/127);oo+wo+co+127>>7>wo;)co=++wo<=109?0:Math.ceil((wo-109)/127);var Na=[1,co,wo,Eo,ys,Li,Ci,0];return zi.FileIndex[0].size=Ci<<6,Na[7]=(zi.FileIndex[0].start=Na[0]+Na[1]+Na[2]+Na[3]+Na[4]+Na[5])+(Na[6]+7>>3),Na})(Kr),hn=new_buf(on[7]<<9),pn=0,Mn=0;{for(pn=0;pn<8;++pn)hn.write_shift(1,jr[pn]);for(pn=0;pn<8;++pn)hn.write_shift(2,0);for(hn.write_shift(2,62),hn.write_shift(2,3),hn.write_shift(2,65534),hn.write_shift(2,9),hn.write_shift(2,6),pn=0;pn<3;++pn)hn.write_shift(2,0);for(hn.write_shift(4,0),hn.write_shift(4,on[2]),hn.write_shift(4,on[0]+on[1]+on[2]+on[3]-1),hn.write_shift(4,0),hn.write_shift(4,4096),hn.write_shift(4,on[3]?on[0]+on[1]+on[2]-1:Er),hn.write_shift(4,on[3]),hn.write_shift(-4,on[1]?on[0]-1:Er),hn.write_shift(4,on[1]),pn=0;pn<109;++pn)hn.write_shift(-4,pn<on[2]?on[1]+pn:-1)}if(on[1])for(Mn=0;Mn<on[1];++Mn){for(;pn<236+Mn*127;++pn)hn.write_shift(-4,pn<on[2]?on[1]+pn:-1);hn.write_shift(-4,Mn===on[1]-1?Er:Mn+1)}var qn=function(zi){for(Mn+=zi;pn<Mn-1;++pn)hn.write_shift(-4,pn+1);zi&&(++pn,hn.write_shift(-4,Er))};for(Mn=pn=0,Mn+=on[1];pn<Mn;++pn)hn.write_shift(-4,Pr.DIFSECT);for(Mn+=on[2];pn<Mn;++pn)hn.write_shift(-4,Pr.FATSECT);qn(on[3]),qn(on[4]);for(var Nn=0,Vn=0,Kn=Kr.FileIndex[0];Nn<Kr.FileIndex.length;++Nn)Kn=Kr.FileIndex[Nn],Kn.content&&(Vn=Kn.content.length,!(Vn<4096)&&(Kn.start=Mn,qn(Vn+511>>9)));for(qn(on[6]+7>>3);hn.l&511;)hn.write_shift(-4,Pr.ENDOFCHAIN);for(Mn=pn=0,Nn=0;Nn<Kr.FileIndex.length;++Nn)Kn=Kr.FileIndex[Nn],Kn.content&&(Vn=Kn.content.length,!(!Vn||Vn>=4096)&&(Kn.start=Mn,qn(Vn+63>>6)));for(;hn.l&511;)hn.write_shift(-4,Pr.ENDOFCHAIN);for(pn=0;pn<on[4]<<2;++pn){var gi=Kr.FullPaths[pn];if(!gi||gi.length===0){for(Nn=0;Nn<17;++Nn)hn.write_shift(4,0);for(Nn=0;Nn<3;++Nn)hn.write_shift(4,-1);for(Nn=0;Nn<12;++Nn)hn.write_shift(4,0);continue}Kn=Kr.FileIndex[pn],pn===0&&(Kn.start=Kn.size?Kn.start-1:Er);var Ti=pn===0&&sn.root||Kn.name;if(Vn=2*(Ti.length+1),hn.write_shift(64,Ti,"utf16le"),hn.write_shift(2,Vn),hn.write_shift(1,Kn.type),hn.write_shift(1,Kn.color),hn.write_shift(-4,Kn.L),hn.write_shift(-4,Kn.R),hn.write_shift(-4,Kn.C),Kn.clsid)hn.write_shift(16,Kn.clsid,"hex");else for(Nn=0;Nn<4;++Nn)hn.write_shift(4,0);hn.write_shift(4,Kn.state||0),hn.write_shift(4,0),hn.write_shift(4,0),hn.write_shift(4,0),hn.write_shift(4,0),hn.write_shift(4,Kn.start),hn.write_shift(4,Kn.size),hn.write_shift(4,0)}for(pn=1;pn<Kr.FileIndex.length;++pn)if(Kn=Kr.FileIndex[pn],Kn.size>=4096)if(hn.l=Kn.start+1<<9,has_buf&&Buffer.isBuffer(Kn.content))Kn.content.copy(hn,hn.l,0,Kn.size),hn.l+=Kn.size+511&-512;else{for(Nn=0;Nn<Kn.size;++Nn)hn.write_shift(1,Kn.content[Nn]);for(;Nn&511;++Nn)hn.write_shift(1,0)}for(pn=1;pn<Kr.FileIndex.length;++pn)if(Kn=Kr.FileIndex[pn],Kn.size>0&&Kn.size<4096)if(has_buf&&Buffer.isBuffer(Kn.content))Kn.content.copy(hn,hn.l,0,Kn.size),hn.l+=Kn.size+63&-64;else{for(Nn=0;Nn<Kn.size;++Nn)hn.write_shift(1,Kn.content[Nn]);for(;Nn&63;++Nn)hn.write_shift(1,0)}if(has_buf)hn.l=hn.length;else for(;hn.l<hn.length;)hn.write_shift(1,0);return hn}function fr(Kr,fn){var sn=Kr.FullPaths.map(function(Nn){return Nn.toUpperCase()}),on=sn.map(function(Nn){var Vn=Nn.split("/");return Vn[Vn.length-(Nn.slice(-1)=="/"?2:1)]}),hn=!1;fn.charCodeAt(0)===47?(hn=!0,fn=sn[0].slice(0,-1)+fn):hn=fn.indexOf("/")!==-1;var pn=fn.toUpperCase(),Mn=hn===!0?sn.indexOf(pn):on.indexOf(pn);if(Mn!==-1)return Kr.FileIndex[Mn];var qn=!pn.match(chr1);for(pn=pn.replace(chr0,""),qn&&(pn=pn.replace(chr1,"!")),Mn=0;Mn<sn.length;++Mn)if((qn?sn[Mn].replace(chr1,"!"):sn[Mn]).replace(chr0,"")==pn||(qn?on[Mn].replace(chr1,"!"):on[Mn]).replace(chr0,"")==pn)return Kr.FileIndex[Mn];return null}var or=64,Er=-2,Rr="d0cf11e0a1b11ae1",jr=[208,207,17,224,161,177,26,225],xr="00000000000000000000000000000000",Pr={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Er,FREESECT:-1,HEADER_SIGNATURE:Rr,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:xr,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function br(Kr,fn,sn){Ue();var on=_r(Kr,sn);Me.writeFileSync(fn,on)}function wr(Kr){for(var fn=new Array(Kr.length),sn=0;sn<Kr.length;++sn)fn[sn]=String.fromCharCode(Kr[sn]);return fn.join("")}function Br(Kr,fn){var sn=_r(Kr,fn);switch(fn&&fn.type||"buffer"){case"file":return Ue(),Me.writeFileSync(fn.filename,sn),sn;case"binary":return typeof sn=="string"?sn:wr(sn);case"base64":return Base64_encode(typeof sn=="string"?sn:wr(sn));case"buffer":if(has_buf)return Buffer.isBuffer(sn)?sn:Buffer_from(sn);case"array":return typeof sn=="string"?s2a(sn):sn}return sn}var Lr;function yr(Kr){try{var fn=Kr.InflateRaw,sn=new fn;if(sn._processChunk(new Uint8Array([3,0]),sn._finishFlushFlag),sn.bytesRead)Lr=Kr;else throw new Error("zlib does not expose bytesRead")}catch(on){console.error("cannot use native zlib: "+(on.message||on))}}function vr(Kr,fn){if(!Lr)return vn(Kr,fn);var sn=Lr.InflateRaw,on=new sn,hn=on._processChunk(Kr.slice(Kr.l),on._finishFlushFlag);return Kr.l+=on.bytesRead,hn}function Tr(Kr){return Lr?Lr.deflateRawSync(Kr):En(Kr)}var Or=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Nr=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Hr=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Wr(Kr){var fn=(Kr<<1|Kr<<11)&139536|(Kr<<5|Kr<<15)&558144;return(fn>>16|fn>>8|fn)&255}for(var qr=typeof Uint8Array<"u",Jr=qr?new Uint8Array(256):[],An=0;An<256;++An)Jr[An]=Wr(An);function an(Kr,fn){var sn=Jr[Kr&255];return fn<=8?sn>>>8-fn:(sn=sn<<8|Jr[Kr>>8&255],fn<=16?sn>>>16-fn:(sn=sn<<8|Jr[Kr>>16&255],sn>>>24-fn))}function bn(Kr,fn){var sn=fn&7,on=fn>>>3;return(Kr[on]|(sn<=6?0:Kr[on+1]<<8))>>>sn&3}function gn(Kr,fn){var sn=fn&7,on=fn>>>3;return(Kr[on]|(sn<=5?0:Kr[on+1]<<8))>>>sn&7}function mn(Kr,fn){var sn=fn&7,on=fn>>>3;return(Kr[on]|(sn<=4?0:Kr[on+1]<<8))>>>sn&15}function Zr(Kr,fn){var sn=fn&7,on=fn>>>3;return(Kr[on]|(sn<=3?0:Kr[on+1]<<8))>>>sn&31}function kn(Kr,fn){var sn=fn&7,on=fn>>>3;return(Kr[on]|(sn<=1?0:Kr[on+1]<<8))>>>sn&127}function ri(Kr,fn,sn){var on=fn&7,hn=fn>>>3,pn=(1<<sn)-1,Mn=Kr[hn]>>>on;return sn<8-on||(Mn|=Kr[hn+1]<<8-on,sn<16-on)||(Mn|=Kr[hn+2]<<16-on,sn<24-on)||(Mn|=Kr[hn+3]<<24-on),Mn&pn}function zn(Kr,fn,sn){var on=fn&7,hn=fn>>>3;return on<=5?Kr[hn]|=(sn&7)<<on:(Kr[hn]|=sn<<on&255,Kr[hn+1]=(sn&7)>>8-on),fn+3}function ei(Kr,fn,sn){var on=fn&7,hn=fn>>>3;return sn=(sn&1)<<on,Kr[hn]|=sn,fn+1}function Jn(Kr,fn,sn){var on=fn&7,hn=fn>>>3;return sn<<=on,Kr[hn]|=sn&255,sn>>>=8,Kr[hn+1]=sn,fn+8}function Wn(Kr,fn,sn){var on=fn&7,hn=fn>>>3;return sn<<=on,Kr[hn]|=sn&255,sn>>>=8,Kr[hn+1]=sn&255,Kr[hn+2]=sn>>>8,fn+16}function _i(Kr,fn){var sn=Kr.length,on=2*sn>fn?2*sn:fn+5,hn=0;if(sn>=fn)return Kr;if(has_buf){var pn=new_unsafe_buf(on);if(Kr.copy)Kr.copy(pn);else for(;hn<Kr.length;++hn)pn[hn]=Kr[hn];return pn}else if(qr){var Mn=new Uint8Array(on);if(Mn.set)Mn.set(Kr);else for(;hn<sn;++hn)Mn[hn]=Kr[hn];return Mn}return Kr.length=on,Kr}function wi(Kr){for(var fn=new Array(Kr),sn=0;sn<Kr;++sn)fn[sn]=0;return fn}function Oi(Kr,fn,sn){var on=1,hn=0,pn=0,Mn=0,qn=0,Nn=Kr.length,Vn=qr?new Uint16Array(32):wi(32);for(pn=0;pn<32;++pn)Vn[pn]=0;for(pn=Nn;pn<sn;++pn)Kr[pn]=0;Nn=Kr.length;var Kn=qr?new Uint16Array(Nn):wi(Nn);for(pn=0;pn<Nn;++pn)Vn[hn=Kr[pn]]++,on<hn&&(on=hn),Kn[pn]=0;for(Vn[0]=0,pn=1;pn<=on;++pn)Vn[pn+16]=qn=qn+Vn[pn-1]<<1;for(pn=0;pn<Nn;++pn)qn=Kr[pn],qn!=0&&(Kn[pn]=Vn[qn+16]++);var gi=0;for(pn=0;pn<Nn;++pn)if(gi=Kr[pn],gi!=0)for(qn=an(Kn[pn],on)>>on-gi,Mn=(1<<on+4-gi)-1;Mn>=0;--Mn)fn[qn|Mn<<gi]=gi&15|pn<<4;return on}var xi=qr?new Uint16Array(512):wi(512),Pi=qr?new Uint16Array(32):wi(32);if(!qr){for(var Ii=0;Ii<512;++Ii)xi[Ii]=0;for(Ii=0;Ii<32;++Ii)Pi[Ii]=0}(function(){for(var Kr=[],fn=0;fn<32;fn++)Kr.push(5);Oi(Kr,Pi,32);var sn=[];for(fn=0;fn<=143;fn++)sn.push(8);for(;fn<=255;fn++)sn.push(9);for(;fn<=279;fn++)sn.push(7);for(;fn<=287;fn++)sn.push(8);Oi(sn,xi,288)})();var Si=(function(){for(var fn=qr?new Uint8Array(32768):[],sn=0,on=0;sn<Hr.length-1;++sn)for(;on<Hr[sn+1];++on)fn[on]=sn;for(;on<32768;++on)fn[on]=29;var hn=qr?new Uint8Array(259):[];for(sn=0,on=0;sn<Nr.length-1;++sn)for(;on<Nr[sn+1];++on)hn[on]=sn;function pn(qn,Nn){for(var Vn=0;Vn<qn.length;){var Kn=Math.min(65535,qn.length-Vn),gi=Vn+Kn==qn.length;for(Nn.write_shift(1,+gi),Nn.write_shift(2,Kn),Nn.write_shift(2,~Kn&65535);Kn-- >0;)Nn[Nn.l++]=qn[Vn++]}return Nn.l}function Mn(qn,Nn){for(var Vn=0,Kn=0,gi=qr?new Uint16Array(32768):[];Kn<qn.length;){var Ti=Math.min(65535,qn.length-Kn);if(Ti<10){for(Vn=zn(Nn,Vn,+(Kn+Ti==qn.length)),Vn&7&&(Vn+=8-(Vn&7)),Nn.l=Vn/8|0,Nn.write_shift(2,Ti),Nn.write_shift(2,~Ti&65535);Ti-- >0;)Nn[Nn.l++]=qn[Kn++];Vn=Nn.l*8;continue}Vn=zn(Nn,Vn,+(Kn+Ti==qn.length)+2);for(var zi=0;Ti-- >0;){var Ci=qn[Kn];zi=(zi<<5^Ci)&32767;var Li=-1,ss=0;if((Li=gi[zi])&&(Li|=Kn&-32768,Li>Kn&&(Li-=32768),Li<Kn))for(;qn[Li+ss]==qn[Kn+ss]&&ss<250;)++ss;if(ss>2){Ci=hn[ss],Ci<=22?Vn=Jn(Nn,Vn,Jr[Ci+1]>>1)-1:(Jn(Nn,Vn,3),Vn+=5,Jn(Nn,Vn,Jr[Ci-23]>>5),Vn+=3);var gs=Ci<8?0:Ci-4>>2;gs>0&&(Wn(Nn,Vn,ss-Nr[Ci]),Vn+=gs),Ci=fn[Kn-Li],Vn=Jn(Nn,Vn,Jr[Ci]>>3),Vn-=3;var _s=Ci<4?0:Ci-2>>1;_s>0&&(Wn(Nn,Vn,Kn-Li-Hr[Ci]),Vn+=_s);for(var ys=0;ys<ss;++ys)gi[zi]=Kn&32767,zi=(zi<<5^qn[Kn])&32767,++Kn;Ti-=ss-1}else Ci<=143?Ci=Ci+48:Vn=ei(Nn,Vn,1),Vn=Jn(Nn,Vn,Jr[Ci]),gi[zi]=Kn&32767,++Kn}Vn=Jn(Nn,Vn,0)-1}return Nn.l=(Vn+7)/8|0,Nn.l}return function(Nn,Vn){return Nn.length<8?pn(Nn,Vn):Mn(Nn,Vn)}})();function En(Kr){var fn=new_buf(50+Math.floor(Kr.length*1.1)),sn=Si(Kr,fn);return fn.slice(0,sn)}var Cn=qr?new Uint16Array(32768):wi(32768),oi=qr?new Uint16Array(32768):wi(32768),ci=qr?new Uint16Array(128):wi(128),Qi=1,ti=1;function Bi(Kr,fn){var sn=Zr(Kr,fn)+257;fn+=5;var on=Zr(Kr,fn)+1;fn+=5;var hn=mn(Kr,fn)+4;fn+=4;for(var pn=0,Mn=qr?new Uint8Array(19):wi(19),qn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Nn=1,Vn=qr?new Uint8Array(8):wi(8),Kn=qr?new Uint8Array(8):wi(8),gi=Mn.length,Ti=0;Ti<hn;++Ti)Mn[Or[Ti]]=pn=gn(Kr,fn),Nn<pn&&(Nn=pn),Vn[pn]++,fn+=3;var zi=0;for(Vn[0]=0,Ti=1;Ti<=Nn;++Ti)Kn[Ti]=zi=zi+Vn[Ti-1]<<1;for(Ti=0;Ti<gi;++Ti)(zi=Mn[Ti])!=0&&(qn[Ti]=Kn[zi]++);var Ci=0;for(Ti=0;Ti<gi;++Ti)if(Ci=Mn[Ti],Ci!=0){zi=Jr[qn[Ti]]>>8-Ci;for(var Li=(1<<7-Ci)-1;Li>=0;--Li)ci[zi|Li<<Ci]=Ci&7|Ti<<3}var ss=[];for(Nn=1;ss.length<sn+on;)switch(zi=ci[kn(Kr,fn)],fn+=zi&7,zi>>>=3){case 16:for(pn=3+bn(Kr,fn),fn+=2,zi=ss[ss.length-1];pn-- >0;)ss.push(zi);break;case 17:for(pn=3+gn(Kr,fn),fn+=3;pn-- >0;)ss.push(0);break;case 18:for(pn=11+kn(Kr,fn),fn+=7;pn-- >0;)ss.push(0);break;default:ss.push(zi),Nn<zi&&(Nn=zi);break}var gs=ss.slice(0,sn),_s=ss.slice(sn);for(Ti=sn;Ti<286;++Ti)gs[Ti]=0;for(Ti=on;Ti<30;++Ti)_s[Ti]=0;return Qi=Oi(gs,Cn,286),ti=Oi(_s,oi,30),fn}function jn(Kr,fn){if(Kr[0]==3&&!(Kr[1]&3))return[new_raw_buf(fn),2];for(var sn=0,on=0,hn=new_unsafe_buf(fn||1<<18),pn=0,Mn=hn.length>>>0,qn=0,Nn=0;(on&1)==0;){if(on=gn(Kr,sn),sn+=3,on>>>1)on>>1==1?(qn=9,Nn=5):(sn=Bi(Kr,sn),qn=Qi,Nn=ti);else{sn&7&&(sn+=8-(sn&7));var Vn=Kr[sn>>>3]|Kr[(sn>>>3)+1]<<8;if(sn+=32,Vn>0)for(!fn&&Mn<pn+Vn&&(hn=_i(hn,pn+Vn),Mn=hn.length);Vn-- >0;)hn[pn++]=Kr[sn>>>3],sn+=8;continue}for(;;){!fn&&Mn<pn+32767&&(hn=_i(hn,pn+32767),Mn=hn.length);var Kn=ri(Kr,sn,qn),gi=on>>>1==1?xi[Kn]:Cn[Kn];if(sn+=gi&15,gi>>>=4,(gi>>>8&255)===0)hn[pn++]=gi;else{if(gi==256)break;gi-=257;var Ti=gi<8?0:gi-4>>2;Ti>5&&(Ti=0);var zi=pn+Nr[gi];Ti>0&&(zi+=ri(Kr,sn,Ti),sn+=Ti),Kn=ri(Kr,sn,Nn),gi=on>>>1==1?Pi[Kn]:oi[Kn],sn+=gi&15,gi>>>=4;var Ci=gi<4?0:gi-2>>1,Li=Hr[gi];for(Ci>0&&(Li+=ri(Kr,sn,Ci),sn+=Ci),!fn&&Mn<zi&&(hn=_i(hn,zi+100),Mn=hn.length);pn<zi;)hn[pn]=hn[pn-Li],++pn}}}return fn?[hn,sn+7>>>3]:[hn.slice(0,pn),sn+7>>>3]}function vn(Kr,fn){var sn=Kr.slice(Kr.l||0),on=jn(sn,fn);return Kr.l+=on[1],on[0]}function Ni(Kr,fn){if(Kr)typeof console<"u"&&console.error(fn);else throw new Error(fn)}function bi(Kr,fn){var sn=Kr;prep_blob(sn,0);var on=[],hn=[],pn={FileIndex:on,FullPaths:hn};nr(pn,{root:fn.root});for(var Mn=sn.length-4;(sn[Mn]!=80||sn[Mn+1]!=75||sn[Mn+2]!=5||sn[Mn+3]!=6)&&Mn>=0;)--Mn;sn.l=Mn+4,sn.l+=4;var qn=sn.read_shift(2);sn.l+=6;var Nn=sn.read_shift(4);for(sn.l=Nn,Mn=0;Mn<qn;++Mn){sn.l+=20;var Vn=sn.read_shift(4),Kn=sn.read_shift(4),gi=sn.read_shift(2),Ti=sn.read_shift(2),zi=sn.read_shift(2);sn.l+=8;var Ci=sn.read_shift(4),Li=ke(sn.slice(sn.l+gi,sn.l+gi+Ti));sn.l+=gi+Ti+zi;var ss=sn.l;sn.l=Ci+4,Gi(sn,Vn,Kn,pn,Li),sn.l=ss}return pn}function Gi(Kr,fn,sn,on,hn){Kr.l+=2;var pn=Kr.read_shift(2),Mn=Kr.read_shift(2),qn=Oe(Kr);if(pn&8257)throw new Error("Unsupported ZIP encryption");for(var Nn=Kr.read_shift(4),Vn=Kr.read_shift(4),Kn=Kr.read_shift(4),gi=Kr.read_shift(2),Ti=Kr.read_shift(2),zi="",Ci=0;Ci<gi;++Ci)zi+=String.fromCharCode(Kr[Kr.l++]);if(Ti){var Li=ke(Kr.slice(Kr.l,Kr.l+Ti));(Li[21589]||{}).mt&&(qn=Li[21589].mt),((hn||{})[21589]||{}).mt&&(qn=hn[21589].mt)}Kr.l+=Ti;var ss=Kr.slice(Kr.l,Kr.l+Vn);switch(Mn){case 8:ss=vr(Kr,Kn);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Mn)}var gs=!1;pn&8&&(Nn=Kr.read_shift(4),Nn==134695760&&(Nn=Kr.read_shift(4),gs=!0),Vn=Kr.read_shift(4),Kn=Kr.read_shift(4)),Vn!=fn&&Ni(gs,"Bad compressed size: "+fn+" != "+Vn),Kn!=sn&&Ni(gs,"Bad uncompressed size: "+sn+" != "+Kn),Fs(on,zi,ss,{unsafe:!0,mt:qn})}function Di(Kr,fn){var sn=fn||{},on=[],hn=[],pn=new_buf(1),Mn=sn.compression?8:0,qn=0,Nn=0,Vn=0,Kn=0,gi=0,Ti=Kr.FullPaths[0],zi=Ti,Ci=Kr.FileIndex[0],Li=[],ss=0;for(Nn=1;Nn<Kr.FullPaths.length;++Nn)if(zi=Kr.FullPaths[Nn].slice(Ti.length),Ci=Kr.FileIndex[Nn],!(!Ci.size||!Ci.content||zi=="Sh33tJ5")){var gs=Kn,_s=new_buf(zi.length);for(Vn=0;Vn<zi.length;++Vn)_s.write_shift(1,zi.charCodeAt(Vn)&127);_s=_s.slice(0,_s.l),Li[gi]=CRC32.buf(Ci.content,0);var ys=Ci.content;Mn==8&&(ys=Tr(ys)),pn=new_buf(30),pn.write_shift(4,67324752),pn.write_shift(2,20),pn.write_shift(2,qn),pn.write_shift(2,Mn),Ci.mt?Fe(pn,Ci.mt):pn.write_shift(4,0),pn.write_shift(-4,Li[gi]),pn.write_shift(4,ys.length),pn.write_shift(4,Ci.content.length),pn.write_shift(2,_s.length),pn.write_shift(2,0),Kn+=pn.length,on.push(pn),Kn+=_s.length,on.push(_s),Kn+=ys.length,on.push(ys),pn=new_buf(46),pn.write_shift(4,33639248),pn.write_shift(2,0),pn.write_shift(2,20),pn.write_shift(2,qn),pn.write_shift(2,Mn),pn.write_shift(4,0),pn.write_shift(-4,Li[gi]),pn.write_shift(4,ys.length),pn.write_shift(4,Ci.content.length),pn.write_shift(2,_s.length),pn.write_shift(2,0),pn.write_shift(2,0),pn.write_shift(2,0),pn.write_shift(2,0),pn.write_shift(4,0),pn.write_shift(4,gs),ss+=pn.l,hn.push(pn),ss+=_s.length,hn.push(_s),++gi}return pn=new_buf(22),pn.write_shift(4,101010256),pn.write_shift(2,0),pn.write_shift(2,0),pn.write_shift(2,gi),pn.write_shift(2,gi),pn.write_shift(4,ss),pn.write_shift(4,Kn),pn.write_shift(2,0),bconcat([bconcat(on),bconcat(hn),pn])}var hi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function fi(Kr,fn){if(Kr.ctype)return Kr.ctype;var sn=Kr.name||"",on=sn.match(/\.([^\.]+)$/);return on&&hi[on[1]]||fn&&(on=(sn=fn).match(/[\.\\]([^\.\\])+$/),on&&hi[on[1]])?hi[on[1]]:"application/octet-stream"}function Ri(Kr){for(var fn=Base64_encode(Kr),sn=[],on=0;on<fn.length;on+=76)sn.push(fn.slice(on,on+76));return sn.join(`\r
`)+`\r
`}function Zi(Kr){var fn=Kr.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Vn){var Kn=Vn.charCodeAt(0).toString(16).toUpperCase();return"="+(Kn.length==1?"0"+Kn:Kn)});fn=fn.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),fn.charAt(0)==`
`&&(fn="=0D"+fn.slice(1)),fn=fn.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var sn=[],on=fn.split(`\r
`),hn=0;hn<on.length;++hn){var pn=on[hn];if(pn.length==0){sn.push("");continue}for(var Mn=0;Mn<pn.length;){var qn=76,Nn=pn.slice(Mn,Mn+qn);Nn.charAt(qn-1)=="="?qn--:Nn.charAt(qn-2)=="="?qn-=2:Nn.charAt(qn-3)=="="&&(qn-=3),Nn=pn.slice(Mn,Mn+qn),Mn+=qn,Mn<pn.length&&(Nn+="="),sn.push(Nn)}}return sn.join(`\r
`)}function ds(Kr){for(var fn=[],sn=0;sn<Kr.length;++sn){for(var on=Kr[sn];sn<=Kr.length&&on.charAt(on.length-1)=="=";)on=on.slice(0,on.length-1)+Kr[++sn];fn.push(on)}for(var hn=0;hn<fn.length;++hn)fn[hn]=fn[hn].replace(/[=][0-9A-Fa-f]{2}/g,function(pn){return String.fromCharCode(parseInt(pn.slice(1),16))});return s2a(fn.join(`\r
`))}function oa(Kr,fn,sn){for(var on="",hn="",pn="",Mn,qn=0;qn<10;++qn){var Nn=fn[qn];if(!Nn||Nn.match(/^\s*$/))break;var Vn=Nn.match(/^(.*?):\s*([^\s].*)$/);if(Vn)switch(Vn[1].toLowerCase()){case"content-location":on=Vn[2].trim();break;case"content-type":pn=Vn[2].trim();break;case"content-transfer-encoding":hn=Vn[2].trim();break}}switch(++qn,hn.toLowerCase()){case"base64":Mn=s2a(Base64_decode(fn.slice(qn).join("")));break;case"quoted-printable":Mn=ds(fn.slice(qn));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+hn)}var Kn=Fs(Kr,on.slice(sn.length),Mn,{unsafe:!0});pn&&(Kn.ctype=pn)}function Wa(Kr,fn){if(wr(Kr.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var sn=fn&&fn.root||"",on=(has_buf&&Buffer.isBuffer(Kr)?Kr.toString("binary"):wr(Kr)).split(`\r
`),hn=0,pn="";for(hn=0;hn<on.length;++hn)if(pn=on[hn],!!/^Content-Location:/i.test(pn)&&(pn=pn.slice(pn.indexOf("file")),sn||(sn=pn.slice(0,pn.lastIndexOf("/")+1)),pn.slice(0,sn.length)!=sn))for(;sn.length>0&&(sn=sn.slice(0,sn.length-1),sn=sn.slice(0,sn.lastIndexOf("/")+1),pn.slice(0,sn.length)!=sn););var Mn=(on[1]||"").match(/boundary="(.*?)"/);if(!Mn)throw new Error("MAD cannot find boundary");var qn="--"+(Mn[1]||""),Nn=[],Vn=[],Kn={FileIndex:Nn,FullPaths:Vn};nr(Kn);var gi,Ti=0;for(hn=0;hn<on.length;++hn){var zi=on[hn];zi!==qn&&zi!==qn+"--"||(Ti++&&oa(Kn,on.slice(gi,hn),sn),gi=hn)}return Kn}function Mi(Kr,fn){var sn=fn||{},on=sn.boundary||"SheetJS";on="------="+on;for(var hn=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+on.slice(2)+'"',"","",""],pn=Kr.FullPaths[0],Mn=pn,qn=Kr.FileIndex[0],Nn=1;Nn<Kr.FullPaths.length;++Nn)if(Mn=Kr.FullPaths[Nn].slice(pn.length),qn=Kr.FileIndex[Nn],!(!qn.size||!qn.content||Mn=="Sh33tJ5")){Mn=Mn.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ss){return"_x"+ss.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ss){return"_u"+ss.charCodeAt(0).toString(16)+"_"});for(var Vn=qn.content,Kn=has_buf&&Buffer.isBuffer(Vn)?Vn.toString("binary"):wr(Vn),gi=0,Ti=Math.min(1024,Kn.length),zi=0,Ci=0;Ci<=Ti;++Ci)(zi=Kn.charCodeAt(Ci))>=32&&zi<128&&++gi;var Li=gi>=Ti*4/5;hn.push(on),hn.push("Content-Location: "+(sn.root||"file:///C:/SheetJS/")+Mn),hn.push("Content-Transfer-Encoding: "+(Li?"quoted-printable":"base64")),hn.push("Content-Type: "+fi(qn,Mn)),hn.push(""),hn.push(Li?Zi(Kn):Ri(Kn))}return hn.push(on+`--\r
`),hn.join(`\r
`)}function Qs(Kr){var fn={};return nr(fn,Kr),fn}function Fs(Kr,fn,sn,on){var hn=on&&on.unsafe;hn||nr(Kr);var pn=!hn&&CFB.find(Kr,fn);if(!pn){var Mn=Kr.FullPaths[0];fn.slice(0,Mn.length)==Mn?Mn=fn:(Mn.slice(-1)!="/"&&(Mn+="/"),Mn=(Mn+fn).replace("//","/")),pn={name:De(fn),type:2},Kr.FileIndex.push(pn),Kr.FullPaths.push(Mn),hn||CFB.utils.cfb_gc(Kr)}return pn.content=sn,pn.size=sn?sn.length:0,on&&(on.CLSID&&(pn.clsid=on.CLSID),on.mt&&(pn.mt=on.mt),on.ct&&(pn.ct=on.ct)),pn}function Xs(Kr,fn){nr(Kr);var sn=CFB.find(Kr,fn);if(sn){for(var on=0;on<Kr.FileIndex.length;++on)if(Kr.FileIndex[on]==sn)return Kr.FileIndex.splice(on,1),Kr.FullPaths.splice(on,1),!0}return!1}function Yi(Kr,fn,sn){nr(Kr);var on=CFB.find(Kr,fn);if(on){for(var hn=0;hn<Kr.FileIndex.length;++hn)if(Kr.FileIndex[hn]==on)return Kr.FileIndex[hn].name=De(sn),Kr.FullPaths[hn]=sn,!0}return!1}function ra(Kr){dr(Kr,!0)}return Re.find=fr,Re.read=ar,Re.parse=$e,Re.write=Br,Re.writeFile=br,Re.utils={cfb_new:Qs,cfb_add:Fs,cfb_del:Xs,cfb_mov:Yi,cfb_gc:ra,ReadShift,CheckField,prep_blob,bconcat,use_zlib:yr,_deflateRaw:En,_inflateRaw:vn,consts:Pr},Re})();function blobify(Ce){return typeof Ce=="string"?s2ab(Ce):Array.isArray(Ce)?a2u(Ce):Ce}function write_dl(Ce,Re,je){if(typeof Deno<"u"){if(je&&typeof Re=="string")switch(je){case"utf8":Re=new TextEncoder(je).encode(Re);break;case"binary":Re=s2ab(Re);break;default:throw new Error("Unsupported encoding "+je)}return Deno.writeFileSync(Ce,Re)}var Be=je=="utf8"?utf8write(Re):Re;if(typeof IE_SaveFile<"u")return IE_SaveFile(Be,Ce);if(typeof Blob<"u"){var De=new Blob([blobify(Be)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(De,Ce);if(typeof saveAs<"u")return saveAs(De,Ce);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var Fe=URL.createObjectURL(De);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(Fe)},6e4),chrome.downloads.download({url:Fe,filename:Ce,saveAs:!0});var Oe=document.createElement("a");if(Oe.download!=null)return Oe.download=Ce,Oe.href=Fe,document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(Fe)},6e4),Fe}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var ke=File(Ce);return ke.open("w"),ke.encoding="binary",Array.isArray(Re)&&(Re=a2s(Re)),ke.write(Re),ke.close(),Re}catch(Me){if(!Me.message||!Me.message.match(/onstruct/))throw Me}throw new Error("cannot save file "+Ce)}function keys(Ce){for(var Re=Object.keys(Ce),je=[],Be=0;Be<Re.length;++Be)Object.prototype.hasOwnProperty.call(Ce,Re[Be])&&je.push(Re[Be]);return je}function evert_key(Ce,Re){for(var je=[],Be=keys(Ce),De=0;De!==Be.length;++De)je[Ce[Be[De]][Re]]==null&&(je[Ce[Be[De]][Re]]=Be[De]);return je}function evert(Ce){for(var Re=[],je=keys(Ce),Be=0;Be!==je.length;++Be)Re[Ce[je[Be]]]=je[Be];return Re}function evert_num(Ce){for(var Re=[],je=keys(Ce),Be=0;Be!==je.length;++Be)Re[Ce[je[Be]]]=parseInt(je[Be],10);return Re}function evert_arr(Ce){for(var Re=[],je=keys(Ce),Be=0;Be!==je.length;++Be)Re[Ce[je[Be]]]==null&&(Re[Ce[je[Be]]]=[]),Re[Ce[je[Be]]].push(je[Be]);return Re}var basedate=new Date(1899,11,30,0,0,0);function datenum(Ce,Re){var je=Ce.getTime(),Be=basedate.getTime()+(Ce.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4;return(je-Be)/(1440*60*1e3)}var refdate=new Date,dnthresh=basedate.getTime()+(refdate.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4,refoffset=refdate.getTimezoneOffset();function numdate(Ce){var Re=new Date;return Re.setTime(Ce*24*60*60*1e3+dnthresh),Re.getTimezoneOffset()!==refoffset&&Re.setTime(Re.getTime()+(Re.getTimezoneOffset()-refoffset)*6e4),Re}var good_pd_date_1=new Date("2017-02-19T19:06:09.000Z"),good_pd_date=isNaN(good_pd_date_1.getFullYear())?new Date("2/19/17"):good_pd_date_1,good_pd=good_pd_date.getFullYear()==2017;function parseDate(Ce,Re){var je=new Date(Ce);if(good_pd)return Re>0?je.setTime(je.getTime()+je.getTimezoneOffset()*60*1e3):Re<0&&je.setTime(je.getTime()-je.getTimezoneOffset()*60*1e3),je;if(Ce instanceof Date)return Ce;if(good_pd_date.getFullYear()==1917&&!isNaN(je.getFullYear())){var Be=je.getFullYear();return Ce.indexOf(""+Be)>-1||je.setFullYear(je.getFullYear()+100),je}var De=Ce.match(/\d+/g)||["2017","2","19","0","0","0"],Fe=new Date(+De[0],+De[1]-1,+De[2],+De[3]||0,+De[4]||0,+De[5]||0);return Ce.indexOf("Z")>-1&&(Fe=new Date(Fe.getTime()-Fe.getTimezoneOffset()*60*1e3)),Fe}function cc2str(Ce,Re){if(has_buf&&Buffer.isBuffer(Ce))return Ce.toString("binary");if(typeof TextDecoder<"u")try{var je={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(Ce)&&(Ce=new Uint8Array(Ce)),new TextDecoder("latin1").decode(Ce).replace(/[]/g,function(Fe){return je[Fe]||Fe})}catch{}for(var Be=[],De=0;De!=Ce.length;++De)Be.push(String.fromCharCode(Ce[De]));return Be.join("")}function dup(Ce){if(typeof JSON<"u"&&!Array.isArray(Ce))return JSON.parse(JSON.stringify(Ce));if(typeof Ce!="object"||Ce==null)return Ce;if(Ce instanceof Date)return new Date(Ce.getTime());var Re={};for(var je in Ce)Object.prototype.hasOwnProperty.call(Ce,je)&&(Re[je]=dup(Ce[je]));return Re}function fill(Ce,Re){for(var je="";je.length<Re;)je+=Ce;return je}function fuzzynum(Ce){var Re=Number(Ce);if(!isNaN(Re))return isFinite(Re)?Re:NaN;if(!/\d/.test(Ce))return Re;var je=1,Be=Ce.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return je*=100,""});return!isNaN(Re=Number(Be))||(Be=Be.replace(/[(](.*)[)]/,function(De,Fe){return je=-je,Fe}),!isNaN(Re=Number(Be)))?Re/je:Re}var lower_months=["january","february","march","april","may","june","july","august","september","october","november","december"];function fuzzydate(Ce){var Re=new Date(Ce),je=new Date(NaN),Be=Re.getYear(),De=Re.getMonth(),Fe=Re.getDate();if(isNaN(Fe))return je;var Oe=Ce.toLowerCase();if(Oe.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(Oe=Oe.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),Oe.length>3&&lower_months.indexOf(Oe)==-1)return je}else if(Oe.match(/[a-z]/))return je;return Be<0||Be>8099?je:(De>0||Fe>1)&&Be!=101?Re:Ce.match(/[^-0-9:,\/\\]/)?je:Re}function zip_add_file(Ce,Re,je){if(Ce.FullPaths){if(typeof je=="string"){var Be;return has_buf?Be=Buffer_from(je):Be=utf8decode(je),CFB.utils.cfb_add(Ce,Re,Be)}CFB.utils.cfb_add(Ce,Re,je)}else Ce.file(Re,je)}function zip_new(){return CFB.utils.cfb_new()}var XML_HEADER=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,encodings={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rencoding=evert(encodings),decregex=/[&<>'"]/g,charegex=/[\u0000-\u0008\u000b-\u001f]/g;function escapexml(Ce){var Re=Ce+"";return Re.replace(decregex,function(je){return rencoding[je]}).replace(charegex,function(je){return"_x"+("000"+je.charCodeAt(0).toString(16)).slice(-4)+"_"})}function escapexmltag(Ce){return escapexml(Ce).replace(/ /g,"_x0020_")}var htmlcharegex=/[\u0000-\u001f]/g;function escapehtml(Ce){var Re=Ce+"";return Re.replace(decregex,function(je){return rencoding[je]}).replace(/\n/g,"<br/>").replace(htmlcharegex,function(je){return"&#x"+("000"+je.charCodeAt(0).toString(16)).slice(-4)+";"})}function escapexlml(Ce){var Re=Ce+"";return Re.replace(decregex,function(je){return rencoding[je]}).replace(htmlcharegex,function(je){return"&#x"+je.charCodeAt(0).toString(16).toUpperCase()+";"})}function xlml_unfixstr(Ce){return Ce.replace(/(\r\n|[\r\n])/g,"&#10;")}function parsexmlbool(Ce){switch(Ce){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function utf8reada(Ce){for(var Re="",je=0,Be=0,De=0,Fe=0,Oe=0,ke=0;je<Ce.length;){if(Be=Ce.charCodeAt(je++),Be<128){Re+=String.fromCharCode(Be);continue}if(De=Ce.charCodeAt(je++),Be>191&&Be<224){Oe=(Be&31)<<6,Oe|=De&63,Re+=String.fromCharCode(Oe);continue}if(Fe=Ce.charCodeAt(je++),Be<240){Re+=String.fromCharCode((Be&15)<<12|(De&63)<<6|Fe&63);continue}Oe=Ce.charCodeAt(je++),ke=((Be&7)<<18|(De&63)<<12|(Fe&63)<<6|Oe&63)-65536,Re+=String.fromCharCode(55296+(ke>>>10&1023)),Re+=String.fromCharCode(56320+(ke&1023))}return Re}function utf8readb(Ce){var Re=new_raw_buf(2*Ce.length),je,Be,De=1,Fe=0,Oe=0,ke;for(Be=0;Be<Ce.length;Be+=De)De=1,(ke=Ce.charCodeAt(Be))<128?je=ke:ke<224?(je=(ke&31)*64+(Ce.charCodeAt(Be+1)&63),De=2):ke<240?(je=(ke&15)*4096+(Ce.charCodeAt(Be+1)&63)*64+(Ce.charCodeAt(Be+2)&63),De=3):(De=4,je=(ke&7)*262144+(Ce.charCodeAt(Be+1)&63)*4096+(Ce.charCodeAt(Be+2)&63)*64+(Ce.charCodeAt(Be+3)&63),je-=65536,Oe=55296+(je>>>10&1023),je=56320+(je&1023)),Oe!==0&&(Re[Fe++]=Oe&255,Re[Fe++]=Oe>>>8,Oe=0),Re[Fe++]=je%256,Re[Fe++]=je>>>8;return Re.slice(0,Fe).toString("ucs2")}function utf8readc(Ce){return Buffer_from(Ce,"binary").toString("utf8")}var utf8corpus="foo bar baz",utf8read=has_buf&&(utf8readc(utf8corpus)==utf8reada(utf8corpus)&&utf8readc||utf8readb(utf8corpus)==utf8reada(utf8corpus)&&utf8readb)||utf8reada,utf8write=has_buf?function(Ce){return Buffer_from(Ce,"utf8").toString("binary")}:function(Ce){for(var Re=[],je=0,Be=0,De=0;je<Ce.length;)switch(Be=Ce.charCodeAt(je++),!0){case Be<128:Re.push(String.fromCharCode(Be));break;case Be<2048:Re.push(String.fromCharCode(192+(Be>>6))),Re.push(String.fromCharCode(128+(Be&63)));break;case(Be>=55296&&Be<57344):Be-=55296,De=Ce.charCodeAt(je++)-56320+(Be<<10),Re.push(String.fromCharCode(240+(De>>18&7))),Re.push(String.fromCharCode(144+(De>>12&63))),Re.push(String.fromCharCode(128+(De>>6&63))),Re.push(String.fromCharCode(128+(De&63)));break;default:Re.push(String.fromCharCode(224+(Be>>12))),Re.push(String.fromCharCode(128+(Be>>6&63))),Re.push(String.fromCharCode(128+(Be&63)))}return Re.join("")},htmldecode=(function(){var Ce=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(Re){return[new RegExp("&"+Re[0]+";","ig"),Re[1]]});return function(je){for(var Be=je.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),De=0;De<Ce.length;++De)Be=Be.replace(Ce[De][0],Ce[De][1]);return Be}})(),wtregex=/(^\s|\s$|\n)/;function writetag(Ce,Re){return"<"+Ce+(Re.match(wtregex)?' xml:space="preserve"':"")+">"+Re+"</"+Ce+">"}function wxt_helper(Ce){return keys(Ce).map(function(Re){return" "+Re+'="'+Ce[Re]+'"'}).join("")}function writextag(Ce,Re,je){return"<"+Ce+(je!=null?wxt_helper(je):"")+(Re!=null?(Re.match(wtregex)?' xml:space="preserve"':"")+">"+Re+"</"+Ce:"/")+">"}function write_w3cdtf(Ce,Re){try{return Ce.toISOString().replace(/\.\d*/,"")}catch(je){if(Re)throw je}return""}function write_vt(Ce,Re){switch(typeof Ce){case"string":var je=writextag("vt:lpwstr",escapexml(Ce));return je=je.replace(/&quot;/g,"_x0022_"),je;case"number":return writextag((Ce|0)==Ce?"vt:i4":"vt:r8",escapexml(String(Ce)));case"boolean":return writextag("vt:bool",Ce?"true":"false")}if(Ce instanceof Date)return writextag("vt:filetime",write_w3cdtf(Ce));throw new Error("Unable to serialize "+Ce)}var XMLNS={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},XMLNS_main=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],XLMLNS={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function read_double_le(Ce,Re){for(var je=1-2*(Ce[Re+7]>>>7),Be=((Ce[Re+7]&127)<<4)+(Ce[Re+6]>>>4&15),De=Ce[Re+6]&15,Fe=5;Fe>=0;--Fe)De=De*256+Ce[Re+Fe];return Be==2047?De==0?je*(1/0):NaN:(Be==0?Be=-1022:(Be-=1023,De+=Math.pow(2,52)),je*Math.pow(2,Be-52)*De)}function write_double_le(Ce,Re,je){var Be=(Re<0||1/Re==-1/0?1:0)<<7,De=0,Fe=0,Oe=Be?-Re:Re;isFinite(Oe)?Oe==0?De=Fe=0:(De=Math.floor(Math.log(Oe)/Math.LN2),Fe=Oe*Math.pow(2,52-De),De<=-1023&&(!isFinite(Fe)||Fe<Math.pow(2,52))?De=-1022:(Fe-=Math.pow(2,52),De+=1023)):(De=2047,Fe=isNaN(Re)?26985:0);for(var ke=0;ke<=5;++ke,Fe/=256)Ce[je+ke]=Fe&255;Ce[je+6]=(De&15)<<4|Fe&15,Ce[je+7]=De>>4|Be}var ___toBuffer=function(Ce){for(var Re=[],je=10240,Be=0;Be<Ce[0].length;++Be)if(Ce[0][Be])for(var De=0,Fe=Ce[0][Be].length;De<Fe;De+=je)Re.push.apply(Re,Ce[0][Be].slice(De,De+je));return Re},__toBuffer=has_buf?function(Ce){return Ce[0].length>0&&Buffer.isBuffer(Ce[0][0])?Buffer.concat(Ce[0].map(function(Re){return Buffer.isBuffer(Re)?Re:Buffer_from(Re)})):___toBuffer(Ce)}:___toBuffer,___utf16le=function(Ce,Re,je){for(var Be=[],De=Re;De<je;De+=2)Be.push(String.fromCharCode(__readUInt16LE(Ce,De)));return Be.join("").replace(chr0,"")},__utf16le=has_buf?function(Ce,Re,je){return Buffer.isBuffer(Ce)?Ce.toString("utf16le",Re,je).replace(chr0,""):___utf16le(Ce,Re,je)}:___utf16le,___hexlify=function(Ce,Re,je){for(var Be=[],De=Re;De<Re+je;++De)Be.push(("0"+Ce[De].toString(16)).slice(-2));return Be.join("")},__hexlify=has_buf?function(Ce,Re,je){return Buffer.isBuffer(Ce)?Ce.toString("hex",Re,Re+je):___hexlify(Ce,Re,je)}:___hexlify,___utf8=function(Ce,Re,je){for(var Be=[],De=Re;De<je;De++)Be.push(String.fromCharCode(__readUInt8(Ce,De)));return Be.join("")},__utf8=has_buf?function Ce(Re,je,Be){return Buffer.isBuffer(Re)?Re.toString("utf8",je,Be):___utf8(Re,je,Be)}:___utf8,___lpstr=function(Ce,Re){var je=__readUInt32LE(Ce,Re);return je>0?__utf8(Ce,Re+4,Re+4+je-1):""},__lpstr=___lpstr,___cpstr=function(Ce,Re){var je=__readUInt32LE(Ce,Re);return je>0?__utf8(Ce,Re+4,Re+4+je-1):""},__cpstr=___cpstr,___lpwstr=function(Ce,Re){var je=2*__readUInt32LE(Ce,Re);return je>0?__utf8(Ce,Re+4,Re+4+je-1):""},__lpwstr=___lpwstr,___lpp4=function Ce(Re,je){var Be=__readUInt32LE(Re,je);return Be>0?__utf16le(Re,je+4,je+4+Be):""},__lpp4=___lpp4,___8lpp4=function(Ce,Re){var je=__readUInt32LE(Ce,Re);return je>0?__utf8(Ce,Re+4,Re+4+je):""},__8lpp4=___8lpp4,___double=function(Ce,Re){return read_double_le(Ce,Re)},__double=___double,is_buf=function Ce(Re){return Array.isArray(Re)||typeof Uint8Array<"u"&&Re instanceof Uint8Array};has_buf&&(__lpstr=function(Re,je){if(!Buffer.isBuffer(Re))return ___lpstr(Re,je);var Be=Re.readUInt32LE(je);return Be>0?Re.toString("utf8",je+4,je+4+Be-1):""},__cpstr=function(Re,je){if(!Buffer.isBuffer(Re))return ___cpstr(Re,je);var Be=Re.readUInt32LE(je);return Be>0?Re.toString("utf8",je+4,je+4+Be-1):""},__lpwstr=function(Re,je){if(!Buffer.isBuffer(Re))return ___lpwstr(Re,je);var Be=2*Re.readUInt32LE(je);return Re.toString("utf16le",je+4,je+4+Be-1)},__lpp4=function(Re,je){if(!Buffer.isBuffer(Re))return ___lpp4(Re,je);var Be=Re.readUInt32LE(je);return Re.toString("utf16le",je+4,je+4+Be)},__8lpp4=function(Re,je){if(!Buffer.isBuffer(Re))return ___8lpp4(Re,je);var Be=Re.readUInt32LE(je);return Re.toString("utf8",je+4,je+4+Be)},__double=function(Re,je){return Buffer.isBuffer(Re)?Re.readDoubleLE(je):___double(Re,je)},is_buf=function(Re){return Buffer.isBuffer(Re)||Array.isArray(Re)||typeof Uint8Array<"u"&&Re instanceof Uint8Array});var __readUInt8=function(Ce,Re){return Ce[Re]},__readUInt16LE=function(Ce,Re){return Ce[Re+1]*256+Ce[Re]},__readInt16LE=function(Ce,Re){var je=Ce[Re+1]*256+Ce[Re];return je<32768?je:(65535-je+1)*-1},__readUInt32LE=function(Ce,Re){return Ce[Re+3]*(1<<24)+(Ce[Re+2]<<16)+(Ce[Re+1]<<8)+Ce[Re]},__readInt32LE=function(Ce,Re){return Ce[Re+3]<<24|Ce[Re+2]<<16|Ce[Re+1]<<8|Ce[Re]},__readInt32BE=function(Ce,Re){return Ce[Re]<<24|Ce[Re+1]<<16|Ce[Re+2]<<8|Ce[Re+3]};function ReadShift(Ce,Re){var je="",Be,De,Fe=[],Oe,ke,Me,Ue;switch(Re){case"dbcs":if(Ue=this.l,has_buf&&Buffer.isBuffer(this))je=this.slice(this.l,this.l+2*Ce).toString("utf16le");else for(Me=0;Me<Ce;++Me)je+=String.fromCharCode(__readUInt16LE(this,Ue)),Ue+=2;Ce*=2;break;case"utf8":je=__utf8(this,this.l,this.l+Ce);break;case"utf16le":Ce*=2,je=__utf16le(this,this.l,this.l+Ce);break;case"wstr":return ReadShift.call(this,Ce,"dbcs");case"lpstr-ansi":je=__lpstr(this,this.l),Ce=4+__readUInt32LE(this,this.l);break;case"lpstr-cp":je=__cpstr(this,this.l),Ce=4+__readUInt32LE(this,this.l);break;case"lpwstr":je=__lpwstr(this,this.l),Ce=4+2*__readUInt32LE(this,this.l);break;case"lpp4":Ce=4+__readUInt32LE(this,this.l),je=__lpp4(this,this.l),Ce&2&&(Ce+=2);break;case"8lpp4":Ce=4+__readUInt32LE(this,this.l),je=__8lpp4(this,this.l),Ce&3&&(Ce+=4-(Ce&3));break;case"cstr":for(Ce=0,je="";(Oe=__readUInt8(this,this.l+Ce++))!==0;)Fe.push(_getchar(Oe));je=Fe.join("");break;case"_wstr":for(Ce=0,je="";(Oe=__readUInt16LE(this,this.l+Ce))!==0;)Fe.push(_getchar(Oe)),Ce+=2;Ce+=2,je=Fe.join("");break;case"dbcs-cont":for(je="",Ue=this.l,Me=0;Me<Ce;++Me){if(this.lens&&this.lens.indexOf(Ue)!==-1)return Oe=__readUInt8(this,Ue),this.l=Ue+1,ke=ReadShift.call(this,Ce-Me,Oe?"dbcs-cont":"sbcs-cont"),Fe.join("")+ke;Fe.push(_getchar(__readUInt16LE(this,Ue))),Ue+=2}je=Fe.join(""),Ce*=2;break;case"cpstr":case"sbcs-cont":for(je="",Ue=this.l,Me=0;Me!=Ce;++Me){if(this.lens&&this.lens.indexOf(Ue)!==-1)return Oe=__readUInt8(this,Ue),this.l=Ue+1,ke=ReadShift.call(this,Ce-Me,Oe?"dbcs-cont":"sbcs-cont"),Fe.join("")+ke;Fe.push(_getchar(__readUInt8(this,Ue))),Ue+=1}je=Fe.join("");break;default:switch(Ce){case 1:return Be=__readUInt8(this,this.l),this.l++,Be;case 2:return Be=(Re==="i"?__readInt16LE:__readUInt16LE)(this,this.l),this.l+=2,Be;case 4:case-4:return Re==="i"||(this[this.l+3]&128)===0?(Be=(Ce>0?__readInt32LE:__readInt32BE)(this,this.l),this.l+=4,Be):(De=__readUInt32LE(this,this.l),this.l+=4,De);case 8:case-8:if(Re==="f")return Ce==8?De=__double(this,this.l):De=__double([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,De;Ce=8;case 16:je=__hexlify(this,this.l,Ce);break}}return this.l+=Ce,je}var __writeUInt32LE=function(Ce,Re,je){Ce[je]=Re&255,Ce[je+1]=Re>>>8&255,Ce[je+2]=Re>>>16&255,Ce[je+3]=Re>>>24&255},__writeInt32LE=function(Ce,Re,je){Ce[je]=Re&255,Ce[je+1]=Re>>8&255,Ce[je+2]=Re>>16&255,Ce[je+3]=Re>>24&255},__writeUInt16LE=function(Ce,Re,je){Ce[je]=Re&255,Ce[je+1]=Re>>>8&255};function WriteShift(Ce,Re,je){var Be=0,De=0;if(je==="dbcs"){for(De=0;De!=Re.length;++De)__writeUInt16LE(this,Re.charCodeAt(De),this.l+2*De);Be=2*Re.length}else if(je==="sbcs"){for(Re=Re.replace(/[^\x00-\x7F]/g,"_"),De=0;De!=Re.length;++De)this[this.l+De]=Re.charCodeAt(De)&255;Be=Re.length}else if(je==="hex"){for(;De<Ce;++De)this[this.l++]=parseInt(Re.slice(2*De,2*De+2),16)||0;return this}else if(je==="utf16le"){var Fe=Math.min(this.l+Ce,this.length);for(De=0;De<Math.min(Re.length,Ce);++De){var Oe=Re.charCodeAt(De);this[this.l++]=Oe&255,this[this.l++]=Oe>>8}for(;this.l<Fe;)this[this.l++]=0;return this}else switch(Ce){case 1:Be=1,this[this.l]=Re&255;break;case 2:Be=2,this[this.l]=Re&255,Re>>>=8,this[this.l+1]=Re&255;break;case 3:Be=3,this[this.l]=Re&255,Re>>>=8,this[this.l+1]=Re&255,Re>>>=8,this[this.l+2]=Re&255;break;case 4:Be=4,__writeUInt32LE(this,Re,this.l);break;case 8:if(Be=8,je==="f"){write_double_le(this,Re,this.l);break}case 16:break;case-4:Be=4,__writeInt32LE(this,Re,this.l);break}return this.l+=Be,this}function CheckField(Ce,Re){var je=__hexlify(this,this.l,Ce.length>>1);if(je!==Ce)throw new Error(Re+"Expected "+Ce+" saw "+je);this.l+=Ce.length>>1}function prep_blob(Ce,Re){Ce.l=Re,Ce.read_shift=ReadShift,Ce.chk=CheckField,Ce.write_shift=WriteShift}function parsenoop(Ce,Re){Ce.l+=Re}function new_buf(Ce){var Re=new_raw_buf(Ce);return prep_blob(Re,0),Re}function buf_array(){var Ce=[],Re=has_buf?256:2048,je=function(Ue){var $e=new_buf(Ue);return prep_blob($e,0),$e},Be=je(Re),De=function(){Be&&(Be.length>Be.l&&(Be=Be.slice(0,Be.l),Be.l=Be.length),Be.length>0&&Ce.push(Be),Be=null)},Fe=function(Ue){return Be&&Ue<Be.length-Be.l?Be:(De(),Be=je(Math.max(Ue+1,Re)))},Oe=function(){return De(),bconcat(Ce)},ke=function(Ue){De(),Be=Ue,Be.l==null&&(Be.l=Be.length),Fe(Re)};return{next:Fe,push:ke,end:Oe,_bufs:Ce}}function write_record(Ce,Re,je,Be){var De=+Re,Fe;if(!isNaN(De)){Be||(Be=XLSBRecordEnum[De].p||(je||[]).length||0),Fe=1+(De>=128?1:0)+1,Be>=128&&++Fe,Be>=16384&&++Fe,Be>=2097152&&++Fe;var Oe=Ce.next(Fe);De<=127?Oe.write_shift(1,De):(Oe.write_shift(1,(De&127)+128),Oe.write_shift(1,De>>7));for(var ke=0;ke!=4;++ke)if(Be>=128)Oe.write_shift(1,(Be&127)+128),Be>>=7;else{Oe.write_shift(1,Be);break}Be>0&&is_buf(je)&&Ce.push(je)}}function shift_cell_xls(Ce,Re,je){var Be=dup(Ce);if(Re.s?(Be.cRel&&(Be.c+=Re.s.c),Be.rRel&&(Be.r+=Re.s.r)):(Be.cRel&&(Be.c+=Re.c),Be.rRel&&(Be.r+=Re.r)),!je||je.biff<12){for(;Be.c>=256;)Be.c-=256;for(;Be.r>=65536;)Be.r-=65536}return Be}function shift_range_xls(Ce,Re,je){var Be=dup(Ce);return Be.s=shift_cell_xls(Be.s,Re.s,je),Be.e=shift_cell_xls(Be.e,Re.s,je),Be}function encode_cell_xls(Ce,Re){if(Ce.cRel&&Ce.c<0)for(Ce=dup(Ce);Ce.c<0;)Ce.c+=Re>8?16384:256;if(Ce.rRel&&Ce.r<0)for(Ce=dup(Ce);Ce.r<0;)Ce.r+=Re>8?1048576:Re>5?65536:16384;var je=encode_cell(Ce);return!Ce.cRel&&Ce.cRel!=null&&(je=fix_col(je)),!Ce.rRel&&Ce.rRel!=null&&(je=fix_row(je)),je}function encode_range_xls(Ce,Re){return Ce.s.r==0&&!Ce.s.rRel&&Ce.e.r==(Re.biff>=12?1048575:Re.biff>=8?65536:16384)&&!Ce.e.rRel?(Ce.s.cRel?"":"$")+encode_col(Ce.s.c)+":"+(Ce.e.cRel?"":"$")+encode_col(Ce.e.c):Ce.s.c==0&&!Ce.s.cRel&&Ce.e.c==(Re.biff>=12?16383:255)&&!Ce.e.cRel?(Ce.s.rRel?"":"$")+encode_row(Ce.s.r)+":"+(Ce.e.rRel?"":"$")+encode_row(Ce.e.r):encode_cell_xls(Ce.s,Re.biff)+":"+encode_cell_xls(Ce.e,Re.biff)}function decode_row(Ce){return parseInt(unfix_row(Ce),10)-1}function encode_row(Ce){return""+(Ce+1)}function fix_row(Ce){return Ce.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function unfix_row(Ce){return Ce.replace(/\$(\d+)$/,"$1")}function decode_col(Ce){for(var Re=unfix_col(Ce),je=0,Be=0;Be!==Re.length;++Be)je=26*je+Re.charCodeAt(Be)-64;return je-1}function encode_col(Ce){if(Ce<0)throw new Error("invalid column "+Ce);var Re="";for(++Ce;Ce;Ce=Math.floor((Ce-1)/26))Re=String.fromCharCode((Ce-1)%26+65)+Re;return Re}function fix_col(Ce){return Ce.replace(/^([A-Z])/,"$$$1")}function unfix_col(Ce){return Ce.replace(/^\$([A-Z])/,"$1")}function split_cell(Ce){return Ce.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function decode_cell(Ce){for(var Re=0,je=0,Be=0;Be<Ce.length;++Be){var De=Ce.charCodeAt(Be);De>=48&&De<=57?Re=10*Re+(De-48):De>=65&&De<=90&&(je=26*je+(De-64))}return{c:je-1,r:Re-1}}function encode_cell(Ce){for(var Re=Ce.c+1,je="";Re;Re=(Re-1)/26|0)je=String.fromCharCode((Re-1)%26+65)+je;return je+(Ce.r+1)}function decode_range(Ce){var Re=Ce.indexOf(":");return Re==-1?{s:decode_cell(Ce),e:decode_cell(Ce)}:{s:decode_cell(Ce.slice(0,Re)),e:decode_cell(Ce.slice(Re+1))}}function encode_range(Ce,Re){return typeof Re>"u"||typeof Re=="number"?encode_range(Ce.s,Ce.e):(typeof Ce!="string"&&(Ce=encode_cell(Ce)),typeof Re!="string"&&(Re=encode_cell(Re)),Ce==Re?Ce:Ce+":"+Re)}function safe_decode_range(Ce){var Re={s:{c:0,r:0},e:{c:0,r:0}},je=0,Be=0,De=0,Fe=Ce.length;for(je=0;Be<Fe&&!((De=Ce.charCodeAt(Be)-64)<1||De>26);++Be)je=26*je+De;for(Re.s.c=--je,je=0;Be<Fe&&!((De=Ce.charCodeAt(Be)-48)<0||De>9);++Be)je=10*je+De;if(Re.s.r=--je,Be===Fe||De!=10)return Re.e.c=Re.s.c,Re.e.r=Re.s.r,Re;for(++Be,je=0;Be!=Fe&&!((De=Ce.charCodeAt(Be)-64)<1||De>26);++Be)je=26*je+De;for(Re.e.c=--je,je=0;Be!=Fe&&!((De=Ce.charCodeAt(Be)-48)<0||De>9);++Be)je=10*je+De;return Re.e.r=--je,Re}function safe_format_cell(Ce,Re){var je=Ce.t=="d"&&Re instanceof Date;if(Ce.z!=null)try{return Ce.w=SSF_format(Ce.z,je?datenum(Re):Re)}catch{}try{return Ce.w=SSF_format((Ce.XF||{}).numFmtId||(je?14:0),je?datenum(Re):Re)}catch{return""+Re}}function format_cell(Ce,Re,je){return Ce==null||Ce.t==null||Ce.t=="z"?"":Ce.w!==void 0?Ce.w:(Ce.t=="d"&&!Ce.z&&je&&je.dateNF&&(Ce.z=je.dateNF),Ce.t=="e"?BErr[Ce.v]||Ce.v:Re==null?safe_format_cell(Ce,Ce.v):safe_format_cell(Ce,Re))}function sheet_to_workbook(Ce,Re){var je=Re&&Re.sheet?Re.sheet:"Sheet1",Be={};return Be[je]=Ce,{SheetNames:[je],Sheets:Be}}function sheet_add_aoa(Ce,Re,je){var Be=je||{},De=Ce?Array.isArray(Ce):Be.dense,Fe=Ce||(De?[]:{}),Oe=0,ke=0;if(Fe&&Be.origin!=null){if(typeof Be.origin=="number")Oe=Be.origin;else{var Me=typeof Be.origin=="string"?decode_cell(Be.origin):Be.origin;Oe=Me.r,ke=Me.c}Fe["!ref"]||(Fe["!ref"]="A1:A1")}var Ue={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(Fe["!ref"]){var $e=safe_decode_range(Fe["!ref"]);Ue.s.c=$e.s.c,Ue.s.r=$e.s.r,Ue.e.c=Math.max(Ue.e.c,$e.e.c),Ue.e.r=Math.max(Ue.e.r,$e.e.r),Oe==-1&&(Ue.e.r=Oe=$e.e.r+1)}for(var He=0;He!=Re.length;++He)if(Re[He]){if(!Array.isArray(Re[He]))throw new Error("aoa_to_sheet expects an array of arrays");for(var Qe=0;Qe!=Re[He].length;++Qe)if(!(typeof Re[He][Qe]>"u")){var We={v:Re[He][Qe]},qe=Oe+He,Ke=ke+Qe;if(Ue.s.r>qe&&(Ue.s.r=qe),Ue.s.c>Ke&&(Ue.s.c=Ke),Ue.e.r<qe&&(Ue.e.r=qe),Ue.e.c<Ke&&(Ue.e.c=Ke),Re[He][Qe]&&typeof Re[He][Qe]=="object"&&!Array.isArray(Re[He][Qe])&&!(Re[He][Qe]instanceof Date))We=Re[He][Qe];else if(Array.isArray(We.v)&&(We.f=Re[He][Qe][1],We.v=We.v[0]),We.v===null)if(We.f)We.t="n";else if(Be.nullError)We.t="e",We.v=0;else if(Be.sheetStubs)We.t="z";else continue;else typeof We.v=="number"?We.t="n":typeof We.v=="boolean"?We.t="b":We.v instanceof Date?(We.z=Be.dateNF||table_fmt[14],Be.cellDates?(We.t="d",We.w=SSF_format(We.z,datenum(We.v))):(We.t="n",We.v=datenum(We.v),We.w=SSF_format(We.z,We.v))):We.t="s";if(De)Fe[qe]||(Fe[qe]=[]),Fe[qe][Ke]&&Fe[qe][Ke].z&&(We.z=Fe[qe][Ke].z),Fe[qe][Ke]=We;else{var Xe=encode_cell({c:Ke,r:qe});Fe[Xe]&&Fe[Xe].z&&(We.z=Fe[Xe].z),Fe[Xe]=We}}}return Ue.s.c<1e7&&(Fe["!ref"]=encode_range(Ue)),Fe}function aoa_to_sheet(Ce,Re){return sheet_add_aoa(null,Ce,Re)}function parse_Int32LE(Ce){return Ce.read_shift(4,"i")}function write_UInt32LE(Ce,Re){return Re||(Re=new_buf(4)),Re.write_shift(4,Ce),Re}function parse_XLWideString(Ce){var Re=Ce.read_shift(4);return Re===0?"":Ce.read_shift(Re,"dbcs")}function write_XLWideString(Ce,Re){var je=!1;return Re==null&&(je=!0,Re=new_buf(4+2*Ce.length)),Re.write_shift(4,Ce.length),Ce.length>0&&Re.write_shift(0,Ce,"dbcs"),je?Re.slice(0,Re.l):Re}function parse_StrRun(Ce){return{ich:Ce.read_shift(2),ifnt:Ce.read_shift(2)}}function write_StrRun(Ce,Re){return Re||(Re=new_buf(4)),Re.write_shift(2,0),Re.write_shift(2,0),Re}function parse_RichStr(Ce,Re){var je=Ce.l,Be=Ce.read_shift(1),De=parse_XLWideString(Ce),Fe=[],Oe={t:De,h:De};if((Be&1)!==0){for(var ke=Ce.read_shift(4),Me=0;Me!=ke;++Me)Fe.push(parse_StrRun(Ce));Oe.r=Fe}else Oe.r=[{ich:0,ifnt:0}];return Ce.l=je+Re,Oe}function write_RichStr(Ce,Re){var je=!1;return Re==null&&(je=!0,Re=new_buf(15+4*Ce.t.length)),Re.write_shift(1,0),write_XLWideString(Ce.t,Re),je?Re.slice(0,Re.l):Re}var parse_BrtCommentText=parse_RichStr;function write_BrtCommentText(Ce,Re){var je=!1;return Re==null&&(je=!0,Re=new_buf(23+4*Ce.t.length)),Re.write_shift(1,1),write_XLWideString(Ce.t,Re),Re.write_shift(4,1),write_StrRun({},Re),je?Re.slice(0,Re.l):Re}function parse_XLSBCell(Ce){var Re=Ce.read_shift(4),je=Ce.read_shift(2);return je+=Ce.read_shift(1)<<16,Ce.l++,{c:Re,iStyleRef:je}}function write_XLSBCell(Ce,Re){return Re==null&&(Re=new_buf(8)),Re.write_shift(-4,Ce.c),Re.write_shift(3,Ce.iStyleRef||Ce.s),Re.write_shift(1,0),Re}function parse_XLSBShortCell(Ce){var Re=Ce.read_shift(2);return Re+=Ce.read_shift(1)<<16,Ce.l++,{c:-1,iStyleRef:Re}}function write_XLSBShortCell(Ce,Re){return Re==null&&(Re=new_buf(4)),Re.write_shift(3,Ce.iStyleRef||Ce.s),Re.write_shift(1,0),Re}var parse_XLSBCodeName=parse_XLWideString,write_XLSBCodeName=write_XLWideString;function parse_XLNullableWideString(Ce){var Re=Ce.read_shift(4);return Re===0||Re===4294967295?"":Ce.read_shift(Re,"dbcs")}function write_XLNullableWideString(Ce,Re){var je=!1;return Re==null&&(je=!0,Re=new_buf(127)),Re.write_shift(4,Ce.length>0?Ce.length:4294967295),Ce.length>0&&Re.write_shift(0,Ce,"dbcs"),je?Re.slice(0,Re.l):Re}var parse_XLNameWideString=parse_XLWideString,parse_RelID=parse_XLNullableWideString,write_RelID=write_XLNullableWideString;function parse_RkNumber(Ce){var Re=Ce.slice(Ce.l,Ce.l+4),je=Re[0]&1,Be=Re[0]&2;Ce.l+=4;var De=Be===0?__double([0,0,0,0,Re[0]&252,Re[1],Re[2],Re[3]],0):__readInt32LE(Re,0)>>2;return je?De/100:De}function write_RkNumber(Ce,Re){Re==null&&(Re=new_buf(4));var je=0,Be=0,De=Ce*100;if(Ce==(Ce|0)&&Ce>=-536870912&&Ce<1<<29?Be=1:De==(De|0)&&De>=-536870912&&De<1<<29&&(Be=1,je=1),Be)Re.write_shift(-4,((je?De:Ce)<<2)+(je+2));else throw new Error("unsupported RkNumber "+Ce)}function parse_RfX(Ce){var Re={s:{},e:{}};return Re.s.r=Ce.read_shift(4),Re.e.r=Ce.read_shift(4),Re.s.c=Ce.read_shift(4),Re.e.c=Ce.read_shift(4),Re}function write_RfX(Ce,Re){return Re||(Re=new_buf(16)),Re.write_shift(4,Ce.s.r),Re.write_shift(4,Ce.e.r),Re.write_shift(4,Ce.s.c),Re.write_shift(4,Ce.e.c),Re}var parse_UncheckedRfX=parse_RfX,write_UncheckedRfX=write_RfX;function parse_Xnum(Ce){if(Ce.length-Ce.l<8)throw"XLS Xnum Buffer underflow";return Ce.read_shift(8,"f")}function write_Xnum(Ce,Re){return(Re||new_buf(8)).write_shift(8,Ce,"f")}function parse_BrtColor(Ce){var Re={},je=Ce.read_shift(1),Be=je>>>1,De=Ce.read_shift(1),Fe=Ce.read_shift(2,"i"),Oe=Ce.read_shift(1),ke=Ce.read_shift(1),Me=Ce.read_shift(1);switch(Ce.l++,Be){case 0:Re.auto=1;break;case 1:Re.index=De;var Ue=XLSIcv[De];Ue&&(Re.rgb=rgb2Hex(Ue));break;case 2:Re.rgb=rgb2Hex([Oe,ke,Me]);break;case 3:Re.theme=De;break}return Fe!=0&&(Re.tint=Fe>0?Fe/32767:Fe/32768),Re}function write_BrtColor(Ce,Re){if(Re||(Re=new_buf(8)),!Ce||Ce.auto)return Re.write_shift(4,0),Re.write_shift(4,0),Re;Ce.index!=null?(Re.write_shift(1,2),Re.write_shift(1,Ce.index)):Ce.theme!=null?(Re.write_shift(1,6),Re.write_shift(1,Ce.theme)):(Re.write_shift(1,5),Re.write_shift(1,0));var je=Ce.tint||0;if(je>0?je*=32767:je<0&&(je*=32768),Re.write_shift(2,je),!Ce.rgb||Ce.theme!=null)Re.write_shift(2,0),Re.write_shift(1,0),Re.write_shift(1,0);else{var Be=Ce.rgb||"FFFFFF";typeof Be=="number"&&(Be=("000000"+Be.toString(16)).slice(-6)),Re.write_shift(1,parseInt(Be.slice(0,2),16)),Re.write_shift(1,parseInt(Be.slice(2,4),16)),Re.write_shift(1,parseInt(Be.slice(4,6),16)),Re.write_shift(1,255)}return Re}function parse_FontFlags(Ce){var Re=Ce.read_shift(1);Ce.l++;var je={fBold:Re&1,fItalic:Re&2,fUnderline:Re&4,fStrikeout:Re&8,fOutline:Re&16,fShadow:Re&32,fCondense:Re&64,fExtend:Re&128};return je}function write_FontFlags(Ce,Re){Re||(Re=new_buf(2));var je=(Ce.italic?2:0)|(Ce.strike?8:0)|(Ce.outline?16:0)|(Ce.shadow?32:0)|(Ce.condense?64:0)|(Ce.extend?128:0);return Re.write_shift(1,je),Re.write_shift(1,0),Re}var VT_I2=2,VT_I4=3,VT_BOOL=11,VT_UI4=19,VT_FILETIME=64,VT_BLOB=65,VT_CF=71,VT_VECTOR_VARIANT=4108,VT_VECTOR_LPSTR=4126,VT_STRING=80,DocSummaryPIDDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Category",t:VT_STRING},3:{n:"PresentationFormat",t:VT_STRING},4:{n:"ByteCount",t:VT_I4},5:{n:"LineCount",t:VT_I4},6:{n:"ParagraphCount",t:VT_I4},7:{n:"SlideCount",t:VT_I4},8:{n:"NoteCount",t:VT_I4},9:{n:"HiddenCount",t:VT_I4},10:{n:"MultimediaClipCount",t:VT_I4},11:{n:"ScaleCrop",t:VT_BOOL},12:{n:"HeadingPairs",t:VT_VECTOR_VARIANT},13:{n:"TitlesOfParts",t:VT_VECTOR_LPSTR},14:{n:"Manager",t:VT_STRING},15:{n:"Company",t:VT_STRING},16:{n:"LinksUpToDate",t:VT_BOOL},17:{n:"CharacterCount",t:VT_I4},19:{n:"SharedDoc",t:VT_BOOL},22:{n:"HyperlinksChanged",t:VT_BOOL},23:{n:"AppVersion",t:VT_I4,p:"version"},24:{n:"DigSig",t:VT_BLOB},26:{n:"ContentType",t:VT_STRING},27:{n:"ContentStatus",t:VT_STRING},28:{n:"Language",t:VT_STRING},29:{n:"Version",t:VT_STRING},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}},SummaryPIDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Title",t:VT_STRING},3:{n:"Subject",t:VT_STRING},4:{n:"Author",t:VT_STRING},5:{n:"Keywords",t:VT_STRING},6:{n:"Comments",t:VT_STRING},7:{n:"Template",t:VT_STRING},8:{n:"LastAuthor",t:VT_STRING},9:{n:"RevNumber",t:VT_STRING},10:{n:"EditTime",t:VT_FILETIME},11:{n:"LastPrinted",t:VT_FILETIME},12:{n:"CreatedDate",t:VT_FILETIME},13:{n:"ModifiedDate",t:VT_FILETIME},14:{n:"PageCount",t:VT_I4},15:{n:"WordCount",t:VT_I4},16:{n:"CharCount",t:VT_I4},17:{n:"Thumbnail",t:VT_CF},18:{n:"Application",t:VT_STRING},19:{n:"DocSecurity",t:VT_I4},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}};function rgbify(Ce){return Ce.map(function(Re){return[Re>>16&255,Re>>8&255,Re&255]})}var _XLSIcv=rgbify([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),XLSIcv=dup(_XLSIcv),BErr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ct2type={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},CT_LIST={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function new_ct(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function write_ct(Ce,Re){var je=evert_arr(ct2type),Be=[],De;Be[Be.length]=XML_HEADER,Be[Be.length]=writextag("Types",null,{xmlns:XMLNS.CT,"xmlns:xsd":XMLNS.xsd,"xmlns:xsi":XMLNS.xsi}),Be=Be.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(Me){return writextag("Default",null,{Extension:Me[0],ContentType:Me[1]})}));var Fe=function(Me){Ce[Me]&&Ce[Me].length>0&&(De=Ce[Me][0],Be[Be.length]=writextag("Override",null,{PartName:(De[0]=="/"?"":"/")+De,ContentType:CT_LIST[Me][Re.bookType]||CT_LIST[Me].xlsx}))},Oe=function(Me){(Ce[Me]||[]).forEach(function(Ue){Be[Be.length]=writextag("Override",null,{PartName:(Ue[0]=="/"?"":"/")+Ue,ContentType:CT_LIST[Me][Re.bookType]||CT_LIST[Me].xlsx})})},ke=function(Me){(Ce[Me]||[]).forEach(function(Ue){Be[Be.length]=writextag("Override",null,{PartName:(Ue[0]=="/"?"":"/")+Ue,ContentType:je[Me][0]})})};return Fe("workbooks"),Oe("sheets"),Oe("charts"),ke("themes"),["strs","styles"].forEach(Fe),["coreprops","extprops","custprops"].forEach(ke),ke("vba"),ke("comments"),ke("threadedcomments"),ke("drawings"),Oe("metadata"),ke("people"),Be.length>2&&(Be[Be.length]="</Types>",Be[1]=Be[1].replace("/>",">")),Be.join("")}var RELS={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function get_rels_path(Ce){var Re=Ce.lastIndexOf("/");return Ce.slice(0,Re+1)+"_rels/"+Ce.slice(Re+1)+".rels"}function write_rels(Ce){var Re=[XML_HEADER,writextag("Relationships",null,{xmlns:XMLNS.RELS})];return keys(Ce["!id"]).forEach(function(je){Re[Re.length]=writextag("Relationship",null,Ce["!id"][je])}),Re.length>2&&(Re[Re.length]="</Relationships>",Re[1]=Re[1].replace("/>",">")),Re.join("")}function add_rels(Ce,Re,je,Be,De,Fe){if(De||(De={}),Ce["!id"]||(Ce["!id"]={}),Ce["!idx"]||(Ce["!idx"]=1),Re<0)for(Re=Ce["!idx"];Ce["!id"]["rId"+Re];++Re);if(Ce["!idx"]=Re+1,De.Id="rId"+Re,De.Type=Be,De.Target=je,[RELS.HLINK,RELS.XPATH,RELS.XMISS].indexOf(De.Type)>-1&&(De.TargetMode="External"),Ce["!id"][De.Id])throw new Error("Cannot rewrite rId "+Re);return Ce["!id"][De.Id]=De,Ce[("/"+De.Target).replace("//","/")]=De,Re}function write_manifest(Ce){var Re=[XML_HEADER];Re.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),Re.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var je=0;je<Ce.length;++je)Re.push('  <manifest:file-entry manifest:full-path="'+Ce[je][0]+'" manifest:media-type="'+Ce[je][1]+`"/>
`);return Re.push("</manifest:manifest>"),Re.join("")}function write_rdf_type(Ce,Re,je){return['  <rdf:Description rdf:about="'+Ce+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(je||"odf")+"#"+Re+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf_has(Ce,Re){return['  <rdf:Description rdf:about="'+Ce+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+Re+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf(Ce){var Re=[XML_HEADER];Re.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var je=0;je!=Ce.length;++je)Re.push(write_rdf_type(Ce[je][0],Ce[je][1])),Re.push(write_rdf_has("",Ce[je][0]));return Re.push(write_rdf_type("","Document","pkg")),Re.push("</rdf:RDF>"),Re.join("")}function write_meta_ods(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+XLSX.version+"</meta:generator></office:meta></office:document-meta>"}var CORE_PROPS=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function cp_doit(Ce,Re,je,Be,De){De[Ce]!=null||Re==null||Re===""||(De[Ce]=Re,Re=escapexml(Re),Be[Be.length]=je?writextag(Ce,Re,je):writetag(Ce,Re))}function write_core_props(Ce,Re){var je=Re||{},Be=[XML_HEADER,writextag("cp:coreProperties",null,{"xmlns:cp":XMLNS.CORE_PROPS,"xmlns:dc":XMLNS.dc,"xmlns:dcterms":XMLNS.dcterms,"xmlns:dcmitype":XMLNS.dcmitype,"xmlns:xsi":XMLNS.xsi})],De={};if(!Ce&&!je.Props)return Be.join("");Ce&&(Ce.CreatedDate!=null&&cp_doit("dcterms:created",typeof Ce.CreatedDate=="string"?Ce.CreatedDate:write_w3cdtf(Ce.CreatedDate,je.WTF),{"xsi:type":"dcterms:W3CDTF"},Be,De),Ce.ModifiedDate!=null&&cp_doit("dcterms:modified",typeof Ce.ModifiedDate=="string"?Ce.ModifiedDate:write_w3cdtf(Ce.ModifiedDate,je.WTF),{"xsi:type":"dcterms:W3CDTF"},Be,De));for(var Fe=0;Fe!=CORE_PROPS.length;++Fe){var Oe=CORE_PROPS[Fe],ke=je.Props&&je.Props[Oe[1]]!=null?je.Props[Oe[1]]:Ce?Ce[Oe[1]]:null;ke===!0?ke="1":ke===!1?ke="0":typeof ke=="number"&&(ke=String(ke)),ke!=null&&cp_doit(Oe[0],ke,null,Be,De)}return Be.length>2&&(Be[Be.length]="</cp:coreProperties>",Be[1]=Be[1].replace("/>",">")),Be.join("")}var EXT_PROPS=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],PseudoPropsPairs=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function write_ext_props(Ce){var Re=[],je=writextag;return Ce||(Ce={}),Ce.Application="SheetJS",Re[Re.length]=XML_HEADER,Re[Re.length]=writextag("Properties",null,{xmlns:XMLNS.EXT_PROPS,"xmlns:vt":XMLNS.vt}),EXT_PROPS.forEach(function(Be){if(Ce[Be[1]]!==void 0){var De;switch(Be[2]){case"string":De=escapexml(String(Ce[Be[1]]));break;case"bool":De=Ce[Be[1]]?"true":"false";break}De!==void 0&&(Re[Re.length]=je(Be[0],De))}}),Re[Re.length]=je("HeadingPairs",je("vt:vector",je("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+je("vt:variant",je("vt:i4",String(Ce.Worksheets))),{size:2,baseType:"variant"})),Re[Re.length]=je("TitlesOfParts",je("vt:vector",Ce.SheetNames.map(function(Be){return"<vt:lpstr>"+escapexml(Be)+"</vt:lpstr>"}).join(""),{size:Ce.Worksheets,baseType:"lpstr"})),Re.length>2&&(Re[Re.length]="</Properties>",Re[1]=Re[1].replace("/>",">")),Re.join("")}function write_cust_props(Ce){var Re=[XML_HEADER,writextag("Properties",null,{xmlns:XMLNS.CUST_PROPS,"xmlns:vt":XMLNS.vt})];if(!Ce)return Re.join("");var je=1;return keys(Ce).forEach(function(De){++je,Re[Re.length]=writextag("property",write_vt(Ce[De]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:je,name:escapexml(De)})}),Re.length>2&&(Re[Re.length]="</Properties>",Re[1]=Re[1].replace("/>",">")),Re.join("")}var XLMLDocPropsMap={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function xlml_write_docprops(Ce,Re){var je=[];return keys(XLMLDocPropsMap).map(function(Be){for(var De=0;De<CORE_PROPS.length;++De)if(CORE_PROPS[De][1]==Be)return CORE_PROPS[De];for(De=0;De<EXT_PROPS.length;++De)if(EXT_PROPS[De][1]==Be)return EXT_PROPS[De];throw Be}).forEach(function(Be){if(Ce[Be[1]]!=null){var De=Re&&Re.Props&&Re.Props[Be[1]]!=null?Re.Props[Be[1]]:Ce[Be[1]];switch(Be[2]){case"date":De=new Date(De).toISOString().replace(/\.\d*Z/,"Z");break}typeof De=="number"?De=String(De):De===!0||De===!1?De=De?"1":"0":De instanceof Date&&(De=new Date(De).toISOString().replace(/\.\d*Z/,"")),je.push(writetag(XLMLDocPropsMap[Be[1]]||Be[1],De))}}),writextag("DocumentProperties",je.join(""),{xmlns:XLMLNS.o})}function xlml_write_custprops(Ce,Re){var je=["Worksheets","SheetNames"],Be="CustomDocumentProperties",De=[];return Ce&&keys(Ce).forEach(function(Fe){if(Object.prototype.hasOwnProperty.call(Ce,Fe)){for(var Oe=0;Oe<CORE_PROPS.length;++Oe)if(Fe==CORE_PROPS[Oe][1])return;for(Oe=0;Oe<EXT_PROPS.length;++Oe)if(Fe==EXT_PROPS[Oe][1])return;for(Oe=0;Oe<je.length;++Oe)if(Fe==je[Oe])return;var ke=Ce[Fe],Me="string";typeof ke=="number"?(Me="float",ke=String(ke)):ke===!0||ke===!1?(Me="boolean",ke=ke?"1":"0"):ke=String(ke),De.push(writextag(escapexmltag(Fe),ke,{"dt:dt":Me}))}}),Re&&keys(Re).forEach(function(Fe){if(Object.prototype.hasOwnProperty.call(Re,Fe)&&!(Ce&&Object.prototype.hasOwnProperty.call(Ce,Fe))){var Oe=Re[Fe],ke="string";typeof Oe=="number"?(ke="float",Oe=String(Oe)):Oe===!0||Oe===!1?(ke="boolean",Oe=Oe?"1":"0"):Oe instanceof Date?(ke="dateTime.tz",Oe=Oe.toISOString()):Oe=String(Oe),De.push(writextag(escapexmltag(Fe),Oe,{"dt:dt":ke}))}}),"<"+Be+' xmlns="'+XLMLNS.o+'">'+De.join("")+"</"+Be+">"}function write_FILETIME(Ce){var Re=typeof Ce=="string"?new Date(Date.parse(Ce)):Ce,je=Re.getTime()/1e3+11644473600,Be=je%Math.pow(2,32),De=(je-Be)/Math.pow(2,32);Be*=1e7,De*=1e7;var Fe=Be/Math.pow(2,32)|0;Fe>0&&(Be=Be%Math.pow(2,32),De+=Fe);var Oe=new_buf(8);return Oe.write_shift(4,Be),Oe.write_shift(4,De),Oe}function write_TypedPropertyValue(Ce,Re){var je=new_buf(4),Be=new_buf(4);switch(je.write_shift(4,Ce==80?31:Ce),Ce){case 3:Be.write_shift(-4,Re);break;case 5:Be=new_buf(8),Be.write_shift(8,Re,"f");break;case 11:Be.write_shift(4,Re?1:0);break;case 64:Be=write_FILETIME(Re);break;case 31:case 80:for(Be=new_buf(4+2*(Re.length+1)+(Re.length%2?0:2)),Be.write_shift(4,Re.length+1),Be.write_shift(0,Re,"dbcs");Be.l!=Be.length;)Be.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+Ce+" "+Re)}return bconcat([je,Be])}var XLSPSSkip=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function guess_property_type(Ce){switch(typeof Ce){case"boolean":return 11;case"number":return(Ce|0)==Ce?3:5;case"string":return 31;case"object":if(Ce instanceof Date)return 64;break}return-1}function write_PropertySet(Ce,Re,je){var Be=new_buf(8),De=[],Fe=[],Oe=8,ke=0,Me=new_buf(8),Ue=new_buf(8);if(Me.write_shift(4,2),Me.write_shift(4,1200),Ue.write_shift(4,1),Fe.push(Me),De.push(Ue),Oe+=8+Me.length,!Re){Ue=new_buf(8),Ue.write_shift(4,0),De.unshift(Ue);var $e=[new_buf(4)];for($e[0].write_shift(4,Ce.length),ke=0;ke<Ce.length;++ke){var He=Ce[ke][0];for(Me=new_buf(8+2*(He.length+1)+(He.length%2?0:2)),Me.write_shift(4,ke+2),Me.write_shift(4,He.length+1),Me.write_shift(0,He,"dbcs");Me.l!=Me.length;)Me.write_shift(1,0);$e.push(Me)}Me=bconcat($e),Fe.unshift(Me),Oe+=8+Me.length}for(ke=0;ke<Ce.length;++ke)if(!(Re&&!Re[Ce[ke][0]])&&!(XLSPSSkip.indexOf(Ce[ke][0])>-1||PseudoPropsPairs.indexOf(Ce[ke][0])>-1)&&Ce[ke][1]!=null){var Qe=Ce[ke][1],We=0;if(Re){We=+Re[Ce[ke][0]];var qe=je[We];if(qe.p=="version"&&typeof Qe=="string"){var Ke=Qe.split(".");Qe=(+Ke[0]<<16)+(+Ke[1]||0)}Me=write_TypedPropertyValue(qe.t,Qe)}else{var Xe=guess_property_type(Qe);Xe==-1&&(Xe=31,Qe=String(Qe)),Me=write_TypedPropertyValue(Xe,Qe)}Fe.push(Me),Ue=new_buf(8),Ue.write_shift(4,Re?We:2+ke),De.push(Ue),Oe+=8+Me.length}var Ye=8*(Fe.length+1);for(ke=0;ke<Fe.length;++ke)De[ke].write_shift(4,Ye),Ye+=Fe[ke].length;return Be.write_shift(4,Oe),Be.write_shift(4,Fe.length),bconcat([Be].concat(De).concat(Fe))}function write_PropertySetStream(Ce,Re,je,Be,De,Fe){var Oe=new_buf(De?68:48),ke=[Oe];Oe.write_shift(2,65534),Oe.write_shift(2,0),Oe.write_shift(4,842412599),Oe.write_shift(16,CFB.utils.consts.HEADER_CLSID,"hex"),Oe.write_shift(4,De?2:1),Oe.write_shift(16,Re,"hex"),Oe.write_shift(4,De?68:48);var Me=write_PropertySet(Ce,je,Be);if(ke.push(Me),De){var Ue=write_PropertySet(De,null,null);Oe.write_shift(16,Fe,"hex"),Oe.write_shift(4,68+Me.length),ke.push(Ue)}return bconcat(ke)}function writezeroes(Ce,Re){Re||(Re=new_buf(Ce));for(var je=0;je<Ce;++je)Re.write_shift(1,0);return Re}function parsebool(Ce,Re){return Ce.read_shift(Re)===1}function writebool(Ce,Re){return Re||(Re=new_buf(2)),Re.write_shift(2,+!!Ce),Re}function parseuint16(Ce){return Ce.read_shift(2,"u")}function writeuint16(Ce,Re){return Re||(Re=new_buf(2)),Re.write_shift(2,Ce),Re}function write_Bes(Ce,Re,je){return je||(je=new_buf(2)),je.write_shift(1,Re=="e"?+Ce:+!!Ce),je.write_shift(1,Re=="e"?1:0),je}function parse_ShortXLUnicodeString(Ce,Re,je){var Be=Ce.read_shift(je&&je.biff>=12?2:1),De="sbcs-cont";if(je&&je.biff>=8,!je||je.biff==8){var Fe=Ce.read_shift(1);Fe&&(De="dbcs-cont")}else je.biff==12&&(De="wstr");je.biff>=2&&je.biff<=5&&(De="cpstr");var Oe=Be?Ce.read_shift(Be,De):"";return Oe}function write_XLUnicodeRichExtendedString(Ce){var Re=Ce.t||"",je=new_buf(3);je.write_shift(2,Re.length),je.write_shift(1,1);var Be=new_buf(2*Re.length);Be.write_shift(2*Re.length,Re,"utf16le");var De=[je,Be];return bconcat(De)}function parse_XLUnicodeStringNoCch(Ce,Re,je){var Be;if(je){if(je.biff>=2&&je.biff<=5)return Ce.read_shift(Re,"cpstr");if(je.biff>=12)return Ce.read_shift(Re,"dbcs-cont")}var De=Ce.read_shift(1);return De===0?Be=Ce.read_shift(Re,"sbcs-cont"):Be=Ce.read_shift(Re,"dbcs-cont"),Be}function parse_XLUnicodeString(Ce,Re,je){var Be=Ce.read_shift(je&&je.biff==2?1:2);return Be===0?(Ce.l++,""):parse_XLUnicodeStringNoCch(Ce,Be,je)}function parse_XLUnicodeString2(Ce,Re,je){if(je.biff>5)return parse_XLUnicodeString(Ce,Re,je);var Be=Ce.read_shift(1);return Be===0?(Ce.l++,""):Ce.read_shift(Be,je.biff<=4||!Ce.lens?"cpstr":"sbcs-cont")}function write_XLUnicodeString(Ce,Re,je){return je||(je=new_buf(3+2*Ce.length)),je.write_shift(2,Ce.length),je.write_shift(1,1),je.write_shift(31,Ce,"utf16le"),je}function write_HyperlinkString(Ce,Re){Re||(Re=new_buf(6+Ce.length*2)),Re.write_shift(4,1+Ce.length);for(var je=0;je<Ce.length;++je)Re.write_shift(2,Ce.charCodeAt(je));return Re.write_shift(2,0),Re}function write_Hyperlink(Ce){var Re=new_buf(512),je=0,Be=Ce.Target;Be.slice(0,7)=="file://"&&(Be=Be.slice(7));var De=Be.indexOf("#"),Fe=De>-1?31:23;switch(Be.charAt(0)){case"#":Fe=28;break;case".":Fe&=-3;break}Re.write_shift(4,2),Re.write_shift(4,Fe);var Oe=[8,6815827,6619237,4849780,83];for(je=0;je<Oe.length;++je)Re.write_shift(4,Oe[je]);if(Fe==28)Be=Be.slice(1),write_HyperlinkString(Be,Re);else if(Fe&2){for(Oe="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),je=0;je<Oe.length;++je)Re.write_shift(1,parseInt(Oe[je],16));var ke=De>-1?Be.slice(0,De):Be;for(Re.write_shift(4,2*(ke.length+1)),je=0;je<ke.length;++je)Re.write_shift(2,ke.charCodeAt(je));Re.write_shift(2,0),Fe&8&&write_HyperlinkString(De>-1?Be.slice(De+1):"",Re)}else{for(Oe="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),je=0;je<Oe.length;++je)Re.write_shift(1,parseInt(Oe[je],16));for(var Me=0;Be.slice(Me*3,Me*3+3)=="../"||Be.slice(Me*3,Me*3+3)=="..\\";)++Me;for(Re.write_shift(2,Me),Re.write_shift(4,Be.length-3*Me+1),je=0;je<Be.length-3*Me;++je)Re.write_shift(1,Be.charCodeAt(je+3*Me)&255);for(Re.write_shift(1,0),Re.write_shift(2,65535),Re.write_shift(2,57005),je=0;je<6;++je)Re.write_shift(4,0)}return Re.slice(0,Re.l)}function write_XLSCell(Ce,Re,je,Be){return Be||(Be=new_buf(6)),Be.write_shift(2,Ce),Be.write_shift(2,Re),Be.write_shift(2,je||0),Be}function parse_XTI(Ce,Re,je){var Be=je.biff>8?4:2,De=Ce.read_shift(Be),Fe=Ce.read_shift(Be,"i"),Oe=Ce.read_shift(Be,"i");return[De,Fe,Oe]}function parse_Ref8U(Ce){var Re=Ce.read_shift(2),je=Ce.read_shift(2),Be=Ce.read_shift(2),De=Ce.read_shift(2);return{s:{c:Be,r:Re},e:{c:De,r:je}}}function write_Ref8U(Ce,Re){return Re||(Re=new_buf(8)),Re.write_shift(2,Ce.s.r),Re.write_shift(2,Ce.e.r),Re.write_shift(2,Ce.s.c),Re.write_shift(2,Ce.e.c),Re}function write_BOF(Ce,Re,je){var Be=1536,De=16;switch(je.bookType){case"biff8":break;case"biff5":Be=1280,De=8;break;case"biff4":Be=4,De=6;break;case"biff3":Be=3,De=6;break;case"biff2":Be=2,De=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var Fe=new_buf(De);return Fe.write_shift(2,Be),Fe.write_shift(2,Re),De>4&&Fe.write_shift(2,29282),De>6&&Fe.write_shift(2,1997),De>8&&(Fe.write_shift(2,49161),Fe.write_shift(2,1),Fe.write_shift(2,1798),Fe.write_shift(2,0)),Fe}function write_WriteAccess(Ce,Re){var je=!Re||Re.biff==8,Be=new_buf(je?112:54);for(Be.write_shift(Re.biff==8?2:1,7),je&&Be.write_shift(1,0),Be.write_shift(4,859007059),Be.write_shift(4,5458548|(je?0:536870912));Be.l<Be.length;)Be.write_shift(1,je?0:32);return Be}function write_BoundSheet8(Ce,Re){var je=!Re||Re.biff>=8?2:1,Be=new_buf(8+je*Ce.name.length);Be.write_shift(4,Ce.pos),Be.write_shift(1,Ce.hs||0),Be.write_shift(1,Ce.dt),Be.write_shift(1,Ce.name.length),Re.biff>=8&&Be.write_shift(1,1),Be.write_shift(je*Ce.name.length,Ce.name,Re.biff<8?"sbcs":"utf16le");var De=Be.slice(0,Be.l);return De.l=Be.l,De}function write_SST(Ce,Re){var je=new_buf(8);je.write_shift(4,Ce.Count),je.write_shift(4,Ce.Unique);for(var Be=[],De=0;De<Ce.length;++De)Be[De]=write_XLUnicodeRichExtendedString(Ce[De]);var Fe=bconcat([je].concat(Be));return Fe.parts=[je.length].concat(Be.map(function(Oe){return Oe.length})),Fe}function write_Window1(){var Ce=new_buf(18);return Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(2,29280),Ce.write_shift(2,17600),Ce.write_shift(2,56),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(2,1),Ce.write_shift(2,500),Ce}function write_Window2(Ce){var Re=new_buf(18),je=1718;return Ce&&Ce.RTL&&(je|=64),Re.write_shift(2,je),Re.write_shift(4,0),Re.write_shift(4,64),Re.write_shift(4,0),Re.write_shift(4,0),Re}function write_Font(Ce,Re){var je=Ce.name||"Arial",Be=Re&&Re.biff==5,De=Be?15+je.length:16+2*je.length,Fe=new_buf(De);return Fe.write_shift(2,Ce.sz*20),Fe.write_shift(4,0),Fe.write_shift(2,400),Fe.write_shift(4,0),Fe.write_shift(2,0),Fe.write_shift(1,je.length),Be||Fe.write_shift(1,1),Fe.write_shift((Be?1:2)*je.length,je,Be?"sbcs":"utf16le"),Fe}function write_LabelSst(Ce,Re,je,Be){var De=new_buf(10);return write_XLSCell(Ce,Re,Be,De),De.write_shift(4,je),De}function write_Label(Ce,Re,je,Be,De){var Fe=!De||De.biff==8,Oe=new_buf(8+ +Fe+(1+Fe)*je.length);return write_XLSCell(Ce,Re,Be,Oe),Oe.write_shift(2,je.length),Fe&&Oe.write_shift(1,1),Oe.write_shift((1+Fe)*je.length,je,Fe?"utf16le":"sbcs"),Oe}function write_Format(Ce,Re,je,Be){var De=je&&je.biff==5;Be||(Be=new_buf(De?3+Re.length:5+2*Re.length)),Be.write_shift(2,Ce),Be.write_shift(De?1:2,Re.length),De||Be.write_shift(1,1),Be.write_shift((De?1:2)*Re.length,Re,De?"sbcs":"utf16le");var Fe=Be.length>Be.l?Be.slice(0,Be.l):Be;return Fe.l==null&&(Fe.l=Fe.length),Fe}function write_Dimensions(Ce,Re){var je=Re.biff==8||!Re.biff?4:2,Be=new_buf(2*je+6);return Be.write_shift(je,Ce.s.r),Be.write_shift(je,Ce.e.r+1),Be.write_shift(2,Ce.s.c),Be.write_shift(2,Ce.e.c+1),Be.write_shift(2,0),Be}function write_XF(Ce,Re,je,Be){var De=je&&je.biff==5;Be||(Be=new_buf(De?16:20)),Be.write_shift(2,0),Ce.style?(Be.write_shift(2,Ce.numFmtId||0),Be.write_shift(2,65524)):(Be.write_shift(2,Ce.numFmtId||0),Be.write_shift(2,Re<<4));var Fe=0;return Ce.numFmtId>0&&De&&(Fe|=1024),Be.write_shift(4,Fe),Be.write_shift(4,0),De||Be.write_shift(4,0),Be.write_shift(2,0),Be}function write_Guts(Ce){var Re=new_buf(8);return Re.write_shift(4,0),Re.write_shift(2,0),Re.write_shift(2,0),Re}function write_BoolErr(Ce,Re,je,Be,De,Fe){var Oe=new_buf(8);return write_XLSCell(Ce,Re,Be,Oe),write_Bes(je,Fe,Oe),Oe}function write_Number(Ce,Re,je,Be){var De=new_buf(14);return write_XLSCell(Ce,Re,Be,De),write_Xnum(je,De),De}function parse_ExternSheet(Ce,Re,je){if(je.biff<8)return parse_BIFF5ExternSheet(Ce,Re,je);for(var Be=[],De=Ce.l+Re,Fe=Ce.read_shift(je.biff>8?4:2);Fe--!==0;)Be.push(parse_XTI(Ce,je.biff>8?12:6,je));if(Ce.l!=De)throw new Error("Bad ExternSheet: "+Ce.l+" != "+De);return Be}function parse_BIFF5ExternSheet(Ce,Re,je){Ce[Ce.l+1]==3&&Ce[Ce.l]++;var Be=parse_ShortXLUnicodeString(Ce,Re,je);return Be.charCodeAt(0)==3?Be.slice(1):Be}function write_MergeCells(Ce){var Re=new_buf(2+Ce.length*8);Re.write_shift(2,Ce.length);for(var je=0;je<Ce.length;++je)write_Ref8U(Ce[je],Re);return Re}function write_HLink(Ce){var Re=new_buf(24),je=decode_cell(Ce[0]);Re.write_shift(2,je.r),Re.write_shift(2,je.r),Re.write_shift(2,je.c),Re.write_shift(2,je.c);for(var Be="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),De=0;De<16;++De)Re.write_shift(1,parseInt(Be[De],16));return bconcat([Re,write_Hyperlink(Ce[1])])}function write_HLinkTooltip(Ce){var Re=Ce[1].Tooltip,je=new_buf(10+2*(Re.length+1));je.write_shift(2,2048);var Be=decode_cell(Ce[0]);je.write_shift(2,Be.r),je.write_shift(2,Be.r),je.write_shift(2,Be.c),je.write_shift(2,Be.c);for(var De=0;De<Re.length;++De)je.write_shift(2,Re.charCodeAt(De));return je.write_shift(2,0),je}function write_Country(Ce){return Ce||(Ce=new_buf(4)),Ce.write_shift(2,1),Ce.write_shift(2,1),Ce}function parse_ColInfo(Ce,Re,je){if(!je.cellStyles)return parsenoop(Ce,Re);var Be=je&&je.biff>=12?4:2,De=Ce.read_shift(Be),Fe=Ce.read_shift(Be),Oe=Ce.read_shift(Be),ke=Ce.read_shift(Be),Me=Ce.read_shift(2);Be==2&&(Ce.l+=2);var Ue={s:De,e:Fe,w:Oe,ixfe:ke,flags:Me};return(je.biff>=5||!je.biff)&&(Ue.level=Me>>8&7),Ue}function write_ColInfo(Ce,Re){var je=new_buf(12);je.write_shift(2,Re),je.write_shift(2,Re),je.write_shift(2,Ce.width*256),je.write_shift(2,0);var Be=0;return Ce.hidden&&(Be|=1),je.write_shift(1,Be),Be=Ce.level||0,je.write_shift(1,Be),je.write_shift(2,0),je}function write_RRTabId(Ce){for(var Re=new_buf(2*Ce),je=0;je<Ce;++je)Re.write_shift(2,je+1);return Re}function write_BIFF2NUM(Ce,Re,je){var Be=new_buf(15);return write_BIFF2Cell(Be,Ce,Re),Be.write_shift(8,je,"f"),Be}function write_BIFF2INT(Ce,Re,je){var Be=new_buf(9);return write_BIFF2Cell(Be,Ce,Re),Be.write_shift(2,je),Be}var DBF=(function(){var Ce={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},Re=evert({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function je(ke,Me){var Ue=[],$e=new_raw_buf(1);switch(Me.type){case"base64":$e=s2a(Base64_decode(ke));break;case"binary":$e=s2a(ke);break;case"buffer":case"array":$e=ke;break}prep_blob($e,0);var He=$e.read_shift(1),Qe=!!(He&136),We=!1,qe=!1;switch(He){case 2:break;case 3:break;case 48:We=!0,Qe=!0;break;case 49:We=!0,Qe=!0;break;case 131:break;case 139:break;case 140:qe=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+He.toString(16))}var Ke=0,Xe=521;He==2&&(Ke=$e.read_shift(2)),$e.l+=3,He!=2&&(Ke=$e.read_shift(4)),Ke>1048576&&(Ke=1e6),He!=2&&(Xe=$e.read_shift(2));var Ye=$e.read_shift(2),Ze=Me.codepage||1252;He!=2&&($e.l+=16,$e.read_shift(1),$e[$e.l]!==0&&(Ze=Ce[$e[$e.l]]),$e.l+=1,$e.l+=2),qe&&($e.l+=36);for(var Je=[],tr={},rr=Math.min($e.length,He==2?521:Xe-10-(We?264:0)),ar=qe?32:11;$e.l<rr&&$e[$e.l]!=13;)switch(tr={},tr.name=$cptable.utils.decode(Ze,$e.slice($e.l,$e.l+ar)).replace(/[\u0000\r\n].*$/g,""),$e.l+=ar,tr.type=String.fromCharCode($e.read_shift(1)),He!=2&&!qe&&(tr.offset=$e.read_shift(4)),tr.len=$e.read_shift(1),He==2&&(tr.offset=$e.read_shift(2)),tr.dec=$e.read_shift(1),tr.name.length&&Je.push(tr),He!=2&&($e.l+=qe?13:14),tr.type){case"B":(!We||tr.len!=8)&&Me.WTF&&console.log("Skipping "+tr.name+":"+tr.type);break;case"G":case"P":Me.WTF&&console.log("Skipping "+tr.name+":"+tr.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+tr.type)}if($e[$e.l]!==13&&($e.l=Xe-1),$e.read_shift(1)!==13)throw new Error("DBF Terminator not found "+$e.l+" "+$e[$e.l]);$e.l=Xe;var nr=0,sr=0;for(Ue[0]=[],sr=0;sr!=Je.length;++sr)Ue[0][sr]=Je[sr].name;for(;Ke-- >0;){if($e[$e.l]===42){$e.l+=Ye;continue}for(++$e.l,Ue[++nr]=[],sr=0,sr=0;sr!=Je.length;++sr){var dr=$e.slice($e.l,$e.l+Je[sr].len);$e.l+=Je[sr].len,prep_blob(dr,0);var _r=$cptable.utils.decode(Ze,dr);switch(Je[sr].type){case"C":_r.trim().length&&(Ue[nr][sr]=_r.replace(/\s+$/,""));break;case"D":_r.length===8?Ue[nr][sr]=new Date(+_r.slice(0,4),+_r.slice(4,6)-1,+_r.slice(6,8)):Ue[nr][sr]=_r;break;case"F":Ue[nr][sr]=parseFloat(_r.trim());break;case"+":case"I":Ue[nr][sr]=qe?dr.read_shift(-4,"i")^2147483648:dr.read_shift(4,"i");break;case"L":switch(_r.trim().toUpperCase()){case"Y":case"T":Ue[nr][sr]=!0;break;case"N":case"F":Ue[nr][sr]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+_r+"|")}break;case"M":if(!Qe)throw new Error("DBF Unexpected MEMO for type "+He.toString(16));Ue[nr][sr]="##MEMO##"+(qe?parseInt(_r.trim(),10):dr.read_shift(4));break;case"N":_r=_r.replace(/\u0000/g,"").trim(),_r&&_r!="."&&(Ue[nr][sr]=+_r||0);break;case"@":Ue[nr][sr]=new Date(dr.read_shift(-8,"f")-621356832e5);break;case"T":Ue[nr][sr]=new Date((dr.read_shift(4)-2440588)*864e5+dr.read_shift(4));break;case"Y":Ue[nr][sr]=dr.read_shift(4,"i")/1e4+dr.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":Ue[nr][sr]=-dr.read_shift(-8,"f");break;case"B":if(We&&Je[sr].len==8){Ue[nr][sr]=dr.read_shift(8,"f");break}case"G":case"P":dr.l+=Je[sr].len;break;case"0":if(Je[sr].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+Je[sr].type)}}}if(He!=2&&$e.l<$e.length&&$e[$e.l++]!=26)throw new Error("DBF EOF Marker missing "+($e.l-1)+" of "+$e.length+" "+$e[$e.l-1].toString(16));return Me&&Me.sheetRows&&(Ue=Ue.slice(0,Me.sheetRows)),Me.DBF=Je,Ue}function Be(ke,Me){var Ue=Me||{};Ue.dateNF||(Ue.dateNF="yyyymmdd");var $e=aoa_to_sheet(je(ke,Ue),Ue);return $e["!cols"]=Ue.DBF.map(function(He){return{wch:He.len,DBF:He}}),delete Ue.DBF,$e}function De(ke,Me){try{return sheet_to_workbook(Be(ke,Me),Me)}catch(Ue){if(Me&&Me.WTF)throw Ue}return{SheetNames:[],Sheets:{}}}var Fe={B:8,C:250,L:1,D:8,"?":0,"":0};function Oe(ke,Me){var Ue=Me||{};if(+Ue.codepage>=0&&set_cp(+Ue.codepage),Ue.type=="string")throw new Error("Cannot write DBF to JS string");var $e=buf_array(),He=sheet_to_json(ke,{header:1,raw:!0,cellDates:!0}),Qe=He[0],We=He.slice(1),qe=ke["!cols"]||[],Ke=0,Xe=0,Ye=0,Ze=1;for(Ke=0;Ke<Qe.length;++Ke){if(((qe[Ke]||{}).DBF||{}).name){Qe[Ke]=qe[Ke].DBF.name,++Ye;continue}if(Qe[Ke]!=null){if(++Ye,typeof Qe[Ke]=="number"&&(Qe[Ke]=Qe[Ke].toString(10)),typeof Qe[Ke]!="string")throw new Error("DBF Invalid column name "+Qe[Ke]+" |"+typeof Qe[Ke]+"|");if(Qe.indexOf(Qe[Ke])!==Ke){for(Xe=0;Xe<1024;++Xe)if(Qe.indexOf(Qe[Ke]+"_"+Xe)==-1){Qe[Ke]+="_"+Xe;break}}}}var Je=safe_decode_range(ke["!ref"]),tr=[],rr=[],ar=[];for(Ke=0;Ke<=Je.e.c-Je.s.c;++Ke){var nr="",sr="",dr=0,_r=[];for(Xe=0;Xe<We.length;++Xe)We[Xe][Ke]!=null&&_r.push(We[Xe][Ke]);if(_r.length==0||Qe[Ke]==null){tr[Ke]="?";continue}for(Xe=0;Xe<_r.length;++Xe){switch(typeof _r[Xe]){case"number":sr="B";break;case"string":sr="C";break;case"boolean":sr="L";break;case"object":sr=_r[Xe]instanceof Date?"D":"C";break;default:sr="C"}dr=Math.max(dr,String(_r[Xe]).length),nr=nr&&nr!=sr?"C":sr}dr>250&&(dr=250),sr=((qe[Ke]||{}).DBF||{}).type,sr=="C"&&qe[Ke].DBF.len>dr&&(dr=qe[Ke].DBF.len),nr=="B"&&sr=="N"&&(nr="N",ar[Ke]=qe[Ke].DBF.dec,dr=qe[Ke].DBF.len),rr[Ke]=nr=="C"||sr=="N"?dr:Fe[nr]||0,Ze+=rr[Ke],tr[Ke]=nr}var fr=$e.next(32);for(fr.write_shift(4,318902576),fr.write_shift(4,We.length),fr.write_shift(2,296+32*Ye),fr.write_shift(2,Ze),Ke=0;Ke<4;++Ke)fr.write_shift(4,0);for(fr.write_shift(4,0|(+Re[current_ansi]||3)<<8),Ke=0,Xe=0;Ke<Qe.length;++Ke)if(Qe[Ke]!=null){var or=$e.next(32),Er=(Qe[Ke].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);or.write_shift(1,Er,"sbcs"),or.write_shift(1,tr[Ke]=="?"?"C":tr[Ke],"sbcs"),or.write_shift(4,Xe),or.write_shift(1,rr[Ke]||Fe[tr[Ke]]||0),or.write_shift(1,ar[Ke]||0),or.write_shift(1,2),or.write_shift(4,0),or.write_shift(1,0),or.write_shift(4,0),or.write_shift(4,0),Xe+=rr[Ke]||Fe[tr[Ke]]||0}var Rr=$e.next(264);for(Rr.write_shift(4,13),Ke=0;Ke<65;++Ke)Rr.write_shift(4,0);for(Ke=0;Ke<We.length;++Ke){var jr=$e.next(Ze);for(jr.write_shift(1,0),Xe=0;Xe<Qe.length;++Xe)if(Qe[Xe]!=null)switch(tr[Xe]){case"L":jr.write_shift(1,We[Ke][Xe]==null?63:We[Ke][Xe]?84:70);break;case"B":jr.write_shift(8,We[Ke][Xe]||0,"f");break;case"N":var xr="0";for(typeof We[Ke][Xe]=="number"&&(xr=We[Ke][Xe].toFixed(ar[Xe]||0)),Ye=0;Ye<rr[Xe]-xr.length;++Ye)jr.write_shift(1,32);jr.write_shift(1,xr,"sbcs");break;case"D":We[Ke][Xe]?(jr.write_shift(4,("0000"+We[Ke][Xe].getFullYear()).slice(-4),"sbcs"),jr.write_shift(2,("00"+(We[Ke][Xe].getMonth()+1)).slice(-2),"sbcs"),jr.write_shift(2,("00"+We[Ke][Xe].getDate()).slice(-2),"sbcs")):jr.write_shift(8,"00000000","sbcs");break;case"C":var Pr=String(We[Ke][Xe]!=null?We[Ke][Xe]:"").slice(0,rr[Xe]);for(jr.write_shift(1,Pr,"sbcs"),Ye=0;Ye<rr[Xe]-Pr.length;++Ye)jr.write_shift(1,32);break}}return $e.next(1).write_shift(1,26),$e.end()}return{to_workbook:De,to_sheet:Be,from_sheet:Oe}})(),SYLK=(function(){var Ce={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},Re=new RegExp("\x1BN("+keys(Ce).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),je=function(Qe,We){var qe=Ce[We];return typeof qe=="number"?_getansi(qe):qe},Be=function(Qe,We,qe){var Ke=We.charCodeAt(0)-32<<4|qe.charCodeAt(0)-48;return Ke==59?Qe:_getansi(Ke)};Ce["|"]=254;function De(Qe,We){switch(We.type){case"base64":return Fe(Base64_decode(Qe),We);case"binary":return Fe(Qe,We);case"buffer":return Fe(has_buf&&Buffer.isBuffer(Qe)?Qe.toString("binary"):a2s(Qe),We);case"array":return Fe(cc2str(Qe),We)}throw new Error("Unrecognized type "+We.type)}function Fe(Qe,We){var qe=Qe.split(/[\n\r]+/),Ke=-1,Xe=-1,Ye=0,Ze=0,Je=[],tr=[],rr=null,ar={},nr=[],sr=[],dr=[],_r=0,fr;for(+We.codepage>=0&&set_cp(+We.codepage);Ye!==qe.length;++Ye){_r=0;var or=qe[Ye].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,Be).replace(Re,je),Er=or.replace(/;;/g,"\0").split(";").map(function(Or){return Or.replace(/\u0000/g,";")}),Rr=Er[0],jr;if(or.length>0)switch(Rr){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Er[1].charAt(0)=="P"&&tr.push(or.slice(3).replace(/;;/g,";"));break;case"C":var xr=!1,Pr=!1,br=!1,wr=!1,Br=-1,Lr=-1;for(Ze=1;Ze<Er.length;++Ze)switch(Er[Ze].charAt(0)){case"A":break;case"X":Xe=parseInt(Er[Ze].slice(1))-1,Pr=!0;break;case"Y":for(Ke=parseInt(Er[Ze].slice(1))-1,Pr||(Xe=0),fr=Je.length;fr<=Ke;++fr)Je[fr]=[];break;case"K":jr=Er[Ze].slice(1),jr.charAt(0)==='"'?jr=jr.slice(1,jr.length-1):jr==="TRUE"?jr=!0:jr==="FALSE"?jr=!1:isNaN(fuzzynum(jr))?isNaN(fuzzydate(jr).getDate())||(jr=parseDate(jr)):(jr=fuzzynum(jr),rr!==null&&fmt_is_date(rr)&&(jr=numdate(jr))),xr=!0;break;case"E":wr=!0;var yr=rc_to_a1(Er[Ze].slice(1),{r:Ke,c:Xe});Je[Ke][Xe]=[Je[Ke][Xe],yr];break;case"S":br=!0,Je[Ke][Xe]=[Je[Ke][Xe],"S5S"];break;case"G":break;case"R":Br=parseInt(Er[Ze].slice(1))-1;break;case"C":Lr=parseInt(Er[Ze].slice(1))-1;break;default:if(We&&We.WTF)throw new Error("SYLK bad record "+or)}if(xr&&(Je[Ke][Xe]&&Je[Ke][Xe].length==2?Je[Ke][Xe][0]=jr:Je[Ke][Xe]=jr,rr=null),br){if(wr)throw new Error("SYLK shared formula cannot have own formula");var vr=Br>-1&&Je[Br][Lr];if(!vr||!vr[1])throw new Error("SYLK shared formula cannot find base");Je[Ke][Xe][1]=shift_formula_str(vr[1],{r:Ke-Br,c:Xe-Lr})}break;case"F":var Tr=0;for(Ze=1;Ze<Er.length;++Ze)switch(Er[Ze].charAt(0)){case"X":Xe=parseInt(Er[Ze].slice(1))-1,++Tr;break;case"Y":for(Ke=parseInt(Er[Ze].slice(1))-1,fr=Je.length;fr<=Ke;++fr)Je[fr]=[];break;case"M":_r=parseInt(Er[Ze].slice(1))/20;break;case"F":break;case"G":break;case"P":rr=tr[parseInt(Er[Ze].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(dr=Er[Ze].slice(1).split(" "),fr=parseInt(dr[0],10);fr<=parseInt(dr[1],10);++fr)_r=parseInt(dr[2],10),sr[fr-1]=_r===0?{hidden:!0}:{wch:_r},process_col(sr[fr-1]);break;case"C":Xe=parseInt(Er[Ze].slice(1))-1,sr[Xe]||(sr[Xe]={});break;case"R":Ke=parseInt(Er[Ze].slice(1))-1,nr[Ke]||(nr[Ke]={}),_r>0?(nr[Ke].hpt=_r,nr[Ke].hpx=pt2px(_r)):_r===0&&(nr[Ke].hidden=!0);break;default:if(We&&We.WTF)throw new Error("SYLK bad record "+or)}Tr<1&&(rr=null);break;default:if(We&&We.WTF)throw new Error("SYLK bad record "+or)}}return nr.length>0&&(ar["!rows"]=nr),sr.length>0&&(ar["!cols"]=sr),We&&We.sheetRows&&(Je=Je.slice(0,We.sheetRows)),[Je,ar]}function Oe(Qe,We){var qe=De(Qe,We),Ke=qe[0],Xe=qe[1],Ye=aoa_to_sheet(Ke,We);return keys(Xe).forEach(function(Ze){Ye[Ze]=Xe[Ze]}),Ye}function ke(Qe,We){return sheet_to_workbook(Oe(Qe,We),We)}function Me(Qe,We,qe,Ke){var Xe="C;Y"+(qe+1)+";X"+(Ke+1)+";K";switch(Qe.t){case"n":Xe+=Qe.v||0,Qe.f&&!Qe.F&&(Xe+=";E"+a1_to_rc(Qe.f,{r:qe,c:Ke}));break;case"b":Xe+=Qe.v?"TRUE":"FALSE";break;case"e":Xe+=Qe.w||Qe.v;break;case"d":Xe+='"'+(Qe.w||Qe.v)+'"';break;case"s":Xe+='"'+Qe.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return Xe}function Ue(Qe,We){We.forEach(function(qe,Ke){var Xe="F;W"+(Ke+1)+" "+(Ke+1)+" ";qe.hidden?Xe+="0":(typeof qe.width=="number"&&!qe.wpx&&(qe.wpx=width2px(qe.width)),typeof qe.wpx=="number"&&!qe.wch&&(qe.wch=px2char(qe.wpx)),typeof qe.wch=="number"&&(Xe+=Math.round(qe.wch))),Xe.charAt(Xe.length-1)!=" "&&Qe.push(Xe)})}function $e(Qe,We){We.forEach(function(qe,Ke){var Xe="F;";qe.hidden?Xe+="M0;":qe.hpt?Xe+="M"+20*qe.hpt+";":qe.hpx&&(Xe+="M"+20*px2pt(qe.hpx)+";"),Xe.length>2&&Qe.push(Xe+"R"+(Ke+1))})}function He(Qe,We){var qe=["ID;PWXL;N;E"],Ke=[],Xe=safe_decode_range(Qe["!ref"]),Ye,Ze=Array.isArray(Qe),Je=`\r
`;qe.push("P;PGeneral"),qe.push("F;P0;DG0G8;M255"),Qe["!cols"]&&Ue(qe,Qe["!cols"]),Qe["!rows"]&&$e(qe,Qe["!rows"]),qe.push("B;Y"+(Xe.e.r-Xe.s.r+1)+";X"+(Xe.e.c-Xe.s.c+1)+";D"+[Xe.s.c,Xe.s.r,Xe.e.c,Xe.e.r].join(" "));for(var tr=Xe.s.r;tr<=Xe.e.r;++tr)for(var rr=Xe.s.c;rr<=Xe.e.c;++rr){var ar=encode_cell({r:tr,c:rr});Ye=Ze?(Qe[tr]||[])[rr]:Qe[ar],!(!Ye||Ye.v==null&&(!Ye.f||Ye.F))&&Ke.push(Me(Ye,Qe,tr,rr))}return qe.join(Je)+Je+Ke.join(Je)+Je+"E"+Je}return{to_workbook:ke,to_sheet:Oe,from_sheet:He}})(),DIF=(function(){function Ce(Fe,Oe){switch(Oe.type){case"base64":return Re(Base64_decode(Fe),Oe);case"binary":return Re(Fe,Oe);case"buffer":return Re(has_buf&&Buffer.isBuffer(Fe)?Fe.toString("binary"):a2s(Fe),Oe);case"array":return Re(cc2str(Fe),Oe)}throw new Error("Unrecognized type "+Oe.type)}function Re(Fe,Oe){for(var ke=Fe.split(`
`),Me=-1,Ue=-1,$e=0,He=[];$e!==ke.length;++$e){if(ke[$e].trim()==="BOT"){He[++Me]=[],Ue=0;continue}if(!(Me<0)){var Qe=ke[$e].trim().split(","),We=Qe[0],qe=Qe[1];++$e;for(var Ke=ke[$e]||"";(Ke.match(/["]/g)||[]).length&1&&$e<ke.length-1;)Ke+=`
`+ke[++$e];switch(Ke=Ke.trim(),+We){case-1:if(Ke==="BOT"){He[++Me]=[],Ue=0;continue}else if(Ke!=="EOD")throw new Error("Unrecognized DIF special command "+Ke);break;case 0:Ke==="TRUE"?He[Me][Ue]=!0:Ke==="FALSE"?He[Me][Ue]=!1:isNaN(fuzzynum(qe))?isNaN(fuzzydate(qe).getDate())?He[Me][Ue]=qe:He[Me][Ue]=parseDate(qe):He[Me][Ue]=fuzzynum(qe),++Ue;break;case 1:Ke=Ke.slice(1,Ke.length-1),Ke=Ke.replace(/""/g,'"'),Ke&&Ke.match(/^=".*"$/)&&(Ke=Ke.slice(2,-1)),He[Me][Ue++]=Ke!==""?Ke:null;break}if(Ke==="EOD")break}}return Oe&&Oe.sheetRows&&(He=He.slice(0,Oe.sheetRows)),He}function je(Fe,Oe){return aoa_to_sheet(Ce(Fe,Oe),Oe)}function Be(Fe,Oe){return sheet_to_workbook(je(Fe,Oe),Oe)}var De=(function(){var Fe=function(Me,Ue,$e,He,Qe){Me.push(Ue),Me.push($e+","+He),Me.push('"'+Qe.replace(/"/g,'""')+'"')},Oe=function(Me,Ue,$e,He){Me.push(Ue+","+$e),Me.push(Ue==1?'"'+He.replace(/"/g,'""')+'"':He)};return function(Me){var Ue=[],$e=safe_decode_range(Me["!ref"]),He,Qe=Array.isArray(Me);Fe(Ue,"TABLE",0,1,"sheetjs"),Fe(Ue,"VECTORS",0,$e.e.r-$e.s.r+1,""),Fe(Ue,"TUPLES",0,$e.e.c-$e.s.c+1,""),Fe(Ue,"DATA",0,0,"");for(var We=$e.s.r;We<=$e.e.r;++We){Oe(Ue,-1,0,"BOT");for(var qe=$e.s.c;qe<=$e.e.c;++qe){var Ke=encode_cell({r:We,c:qe});if(He=Qe?(Me[We]||[])[qe]:Me[Ke],!He){Oe(Ue,1,0,"");continue}switch(He.t){case"n":var Xe=He.w;!Xe&&He.v!=null&&(Xe=He.v),Xe==null?He.f&&!He.F?Oe(Ue,1,0,"="+He.f):Oe(Ue,1,0,""):Oe(Ue,0,Xe,"V");break;case"b":Oe(Ue,0,He.v?1:0,He.v?"TRUE":"FALSE");break;case"s":Oe(Ue,1,0,isNaN(He.v)?He.v:'="'+He.v+'"');break;case"d":He.w||(He.w=SSF_format(He.z||table_fmt[14],datenum(parseDate(He.v)))),Oe(Ue,0,He.w,"V");break;default:Oe(Ue,1,0,"")}}}Oe(Ue,-1,0,"EOD");var Ye=`\r
`,Ze=Ue.join(Ye);return Ze}})();return{to_workbook:Be,to_sheet:je,from_sheet:De}})(),ETH=(function(){function Ce(He){return He.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function Re(He){return He.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function je(He,Qe){for(var We=He.split(`
`),qe=-1,Ke=-1,Xe=0,Ye=[];Xe!==We.length;++Xe){var Ze=We[Xe].trim().split(":");if(Ze[0]==="cell"){var Je=decode_cell(Ze[1]);if(Ye.length<=Je.r)for(qe=Ye.length;qe<=Je.r;++qe)Ye[qe]||(Ye[qe]=[]);switch(qe=Je.r,Ke=Je.c,Ze[2]){case"t":Ye[qe][Ke]=Ce(Ze[3]);break;case"v":Ye[qe][Ke]=+Ze[3];break;case"vtf":var tr=Ze[Ze.length-1];case"vtc":switch(Ze[3]){case"nl":Ye[qe][Ke]=!!+Ze[4];break;default:Ye[qe][Ke]=+Ze[4];break}Ze[2]=="vtf"&&(Ye[qe][Ke]=[Ye[qe][Ke],tr])}}}return Qe&&Qe.sheetRows&&(Ye=Ye.slice(0,Qe.sheetRows)),Ye}function Be(He,Qe){return aoa_to_sheet(je(He,Qe),Qe)}function De(He,Qe){return sheet_to_workbook(Be(He,Qe),Qe)}var Fe=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),Oe=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,ke=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),Me="--SocialCalcSpreadsheetControlSave--";function Ue(He){if(!He||!He["!ref"])return"";for(var Qe=[],We=[],qe,Ke="",Xe=decode_range(He["!ref"]),Ye=Array.isArray(He),Ze=Xe.s.r;Ze<=Xe.e.r;++Ze)for(var Je=Xe.s.c;Je<=Xe.e.c;++Je)if(Ke=encode_cell({r:Ze,c:Je}),qe=Ye?(He[Ze]||[])[Je]:He[Ke],!(!qe||qe.v==null||qe.t==="z")){switch(We=["cell",Ke,"t"],qe.t){case"s":case"str":We.push(Re(qe.v));break;case"n":qe.f?(We[2]="vtf",We[3]="n",We[4]=qe.v,We[5]=Re(qe.f)):(We[2]="v",We[3]=qe.v);break;case"b":We[2]="vt"+(qe.f?"f":"c"),We[3]="nl",We[4]=qe.v?"1":"0",We[5]=Re(qe.f||(qe.v?"TRUE":"FALSE"));break;case"d":var tr=datenum(parseDate(qe.v));We[2]="vtc",We[3]="nd",We[4]=""+tr,We[5]=qe.w||SSF_format(qe.z||table_fmt[14],tr);break;case"e":continue}Qe.push(We.join(":"))}return Qe.push("sheet:c:"+(Xe.e.c-Xe.s.c+1)+":r:"+(Xe.e.r-Xe.s.r+1)+":tvf:1"),Qe.push("valueformat:1:text-wiki"),Qe.join(`
`)}function $e(He){return[Fe,Oe,ke,Oe,Ue(He),Me].join(`
`)}return{to_workbook:De,to_sheet:Be,from_sheet:$e}})(),PRN=(function(){function Ce($e,He,Qe,We,qe){qe.raw?He[Qe][We]=$e:$e===""||($e==="TRUE"?He[Qe][We]=!0:$e==="FALSE"?He[Qe][We]=!1:isNaN(fuzzynum($e))?isNaN(fuzzydate($e).getDate())?He[Qe][We]=$e:He[Qe][We]=parseDate($e):He[Qe][We]=fuzzynum($e))}function Re($e,He){var Qe=He||{},We=[];if(!$e||$e.length===0)return We;for(var qe=$e.split(/[\r\n]/),Ke=qe.length-1;Ke>=0&&qe[Ke].length===0;)--Ke;for(var Xe=10,Ye=0,Ze=0;Ze<=Ke;++Ze)Ye=qe[Ze].indexOf(" "),Ye==-1?Ye=qe[Ze].length:Ye++,Xe=Math.max(Xe,Ye);for(Ze=0;Ze<=Ke;++Ze){We[Ze]=[];var Je=0;for(Ce(qe[Ze].slice(0,Xe).trim(),We,Ze,Je,Qe),Je=1;Je<=(qe[Ze].length-Xe)/10+1;++Je)Ce(qe[Ze].slice(Xe+(Je-1)*10,Xe+Je*10).trim(),We,Ze,Je,Qe)}return Qe.sheetRows&&(We=We.slice(0,Qe.sheetRows)),We}var je={44:",",9:"	",59:";",124:"|"},Be={44:3,9:2,59:1,124:0};function De($e){for(var He={},Qe=!1,We=0,qe=0;We<$e.length;++We)(qe=$e.charCodeAt(We))==34?Qe=!Qe:!Qe&&qe in je&&(He[qe]=(He[qe]||0)+1);qe=[];for(We in He)Object.prototype.hasOwnProperty.call(He,We)&&qe.push([He[We],We]);if(!qe.length){He=Be;for(We in He)Object.prototype.hasOwnProperty.call(He,We)&&qe.push([He[We],We])}return qe.sort(function(Ke,Xe){return Ke[0]-Xe[0]||Be[Ke[1]]-Be[Xe[1]]}),je[qe.pop()[1]]||44}function Fe($e,He){var Qe=He||{},We="",qe=Qe.dense?[]:{},Ke={s:{c:0,r:0},e:{c:0,r:0}};$e.slice(0,4)=="sep="?$e.charCodeAt(5)==13&&$e.charCodeAt(6)==10?(We=$e.charAt(4),$e=$e.slice(7)):$e.charCodeAt(5)==13||$e.charCodeAt(5)==10?(We=$e.charAt(4),$e=$e.slice(6)):We=De($e.slice(0,1024)):Qe&&Qe.FS?We=Qe.FS:We=De($e.slice(0,1024));var Xe=0,Ye=0,Ze=0,Je=0,tr=0,rr=We.charCodeAt(0),ar=!1,nr=0,sr=$e.charCodeAt(0);$e=$e.replace(/\r\n/mg,`
`);var dr=Qe.dateNF!=null?dateNF_regex(Qe.dateNF):null;function _r(){var fr=$e.slice(Je,tr),or={};if(fr.charAt(0)=='"'&&fr.charAt(fr.length-1)=='"'&&(fr=fr.slice(1,-1).replace(/""/g,'"')),fr.length===0)or.t="z";else if(Qe.raw)or.t="s",or.v=fr;else if(fr.trim().length===0)or.t="s",or.v=fr;else if(fr.charCodeAt(0)==61)fr.charCodeAt(1)==34&&fr.charCodeAt(fr.length-1)==34?(or.t="s",or.v=fr.slice(2,-1).replace(/""/g,'"')):fuzzyfmla(fr)?(or.t="n",or.f=fr.slice(1)):(or.t="s",or.v=fr);else if(fr=="TRUE")or.t="b",or.v=!0;else if(fr=="FALSE")or.t="b",or.v=!1;else if(!isNaN(Ze=fuzzynum(fr)))or.t="n",Qe.cellText!==!1&&(or.w=fr),or.v=Ze;else if(!isNaN(fuzzydate(fr).getDate())||dr&&fr.match(dr)){or.z=Qe.dateNF||table_fmt[14];var Er=0;dr&&fr.match(dr)&&(fr=dateNF_fix(fr,Qe.dateNF,fr.match(dr)||[]),Er=1),Qe.cellDates?(or.t="d",or.v=parseDate(fr,Er)):(or.t="n",or.v=datenum(parseDate(fr,Er))),Qe.cellText!==!1&&(or.w=SSF_format(or.z,or.v instanceof Date?datenum(or.v):or.v)),Qe.cellNF||delete or.z}else or.t="s",or.v=fr;if(or.t=="z"||(Qe.dense?(qe[Xe]||(qe[Xe]=[]),qe[Xe][Ye]=or):qe[encode_cell({c:Ye,r:Xe})]=or),Je=tr+1,sr=$e.charCodeAt(Je),Ke.e.c<Ye&&(Ke.e.c=Ye),Ke.e.r<Xe&&(Ke.e.r=Xe),nr==rr)++Ye;else if(Ye=0,++Xe,Qe.sheetRows&&Qe.sheetRows<=Xe)return!0}e:for(;tr<$e.length;++tr)switch(nr=$e.charCodeAt(tr)){case 34:sr===34&&(ar=!ar);break;case rr:case 10:case 13:if(!ar&&_r())break e;break}return tr-Je>0&&_r(),qe["!ref"]=encode_range(Ke),qe}function Oe($e,He){return!(He&&He.PRN)||He.FS||$e.slice(0,4)=="sep="||$e.indexOf("	")>=0||$e.indexOf(",")>=0||$e.indexOf(";")>=0?Fe($e,He):aoa_to_sheet(Re($e,He),He)}function ke($e,He){var Qe="",We=He.type=="string"?[0,0,0,0]:firstbyte($e,He);switch(He.type){case"base64":Qe=Base64_decode($e);break;case"binary":Qe=$e;break;case"buffer":He.codepage==65001?Qe=$e.toString("utf8"):He.codepage&&typeof $cptable<"u"||(Qe=has_buf&&Buffer.isBuffer($e)?$e.toString("binary"):a2s($e));break;case"array":Qe=cc2str($e);break;case"string":Qe=$e;break;default:throw new Error("Unrecognized type "+He.type)}return We[0]==239&&We[1]==187&&We[2]==191?Qe=utf8read(Qe.slice(3)):He.type!="string"&&He.type!="buffer"&&He.codepage==65001?Qe=utf8read(Qe):He.type=="binary"&&typeof $cptable<"u",Qe.slice(0,19)=="socialcalc:version:"?ETH.to_sheet(He.type=="string"?Qe:utf8read(Qe),He):Oe(Qe,He)}function Me($e,He){return sheet_to_workbook(ke($e,He),He)}function Ue($e){for(var He=[],Qe=safe_decode_range($e["!ref"]),We,qe=Array.isArray($e),Ke=Qe.s.r;Ke<=Qe.e.r;++Ke){for(var Xe=[],Ye=Qe.s.c;Ye<=Qe.e.c;++Ye){var Ze=encode_cell({r:Ke,c:Ye});if(We=qe?($e[Ke]||[])[Ye]:$e[Ze],!We||We.v==null){Xe.push("          ");continue}for(var Je=(We.w||(format_cell(We),We.w)||"").slice(0,10);Je.length<10;)Je+=" ";Xe.push(Je+(Ye===0?" ":""))}He.push(Xe.join(""))}return He.join(`
`)}return{to_workbook:Me,to_sheet:ke,from_sheet:Ue}})(),WK_=(function(){function Ce(yr,vr,Tr){if(yr){prep_blob(yr,yr.l||0);for(var Or=Tr.Enum||Br;yr.l<yr.length;){var Nr=yr.read_shift(2),Hr=Or[Nr]||Or[65535],Wr=yr.read_shift(2),qr=yr.l+Wr,Jr=Hr.f&&Hr.f(yr,Wr,Tr);if(yr.l=qr,vr(Jr,Hr,Nr))return}}}function Re(yr,vr){switch(vr.type){case"base64":return je(s2a(Base64_decode(yr)),vr);case"binary":return je(s2a(yr),vr);case"buffer":case"array":return je(yr,vr)}throw"Unsupported type "+vr.type}function je(yr,vr){if(!yr)return yr;var Tr=vr||{},Or=Tr.dense?[]:{},Nr="Sheet1",Hr="",Wr=0,qr={},Jr=[],An=[],an={s:{r:0,c:0},e:{r:0,c:0}},bn=Tr.sheetRows||0;if(yr[2]==0&&(yr[3]==8||yr[3]==9)&&yr.length>=16&&yr[14]==5&&yr[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(yr[2]==2)Tr.Enum=Br,Ce(yr,function(kn,ri,zn){switch(zn){case 0:Tr.vers=kn,kn>=4096&&(Tr.qpro=!0);break;case 6:an=kn;break;case 204:kn&&(Hr=kn);break;case 222:Hr=kn;break;case 15:case 51:Tr.qpro||(kn[1].v=kn[1].v.slice(1));case 13:case 14:case 16:zn==14&&(kn[2]&112)==112&&(kn[2]&15)>1&&(kn[2]&15)<15&&(kn[1].z=Tr.dateNF||table_fmt[14],Tr.cellDates&&(kn[1].t="d",kn[1].v=numdate(kn[1].v))),Tr.qpro&&kn[3]>Wr&&(Or["!ref"]=encode_range(an),qr[Nr]=Or,Jr.push(Nr),Or=Tr.dense?[]:{},an={s:{r:0,c:0},e:{r:0,c:0}},Wr=kn[3],Nr=Hr||"Sheet"+(Wr+1),Hr="");var ei=Tr.dense?(Or[kn[0].r]||[])[kn[0].c]:Or[encode_cell(kn[0])];if(ei){ei.t=kn[1].t,ei.v=kn[1].v,kn[1].z!=null&&(ei.z=kn[1].z),kn[1].f!=null&&(ei.f=kn[1].f);break}Tr.dense?(Or[kn[0].r]||(Or[kn[0].r]=[]),Or[kn[0].r][kn[0].c]=kn[1]):Or[encode_cell(kn[0])]=kn[1];break}},Tr);else if(yr[2]==26||yr[2]==14)Tr.Enum=Lr,yr[2]==14&&(Tr.qpro=!0,yr.l=0),Ce(yr,function(kn,ri,zn){switch(zn){case 204:Nr=kn;break;case 22:kn[1].v=kn[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(kn[3]>Wr&&(Or["!ref"]=encode_range(an),qr[Nr]=Or,Jr.push(Nr),Or=Tr.dense?[]:{},an={s:{r:0,c:0},e:{r:0,c:0}},Wr=kn[3],Nr="Sheet"+(Wr+1)),bn>0&&kn[0].r>=bn)break;Tr.dense?(Or[kn[0].r]||(Or[kn[0].r]=[]),Or[kn[0].r][kn[0].c]=kn[1]):Or[encode_cell(kn[0])]=kn[1],an.e.c<kn[0].c&&(an.e.c=kn[0].c),an.e.r<kn[0].r&&(an.e.r=kn[0].r);break;case 27:kn[14e3]&&(An[kn[14e3][0]]=kn[14e3][1]);break;case 1537:An[kn[0]]=kn[1],kn[0]==Wr&&(Nr=kn[1]);break}},Tr);else throw new Error("Unrecognized LOTUS BOF "+yr[2]);if(Or["!ref"]=encode_range(an),qr[Hr||Nr]=Or,Jr.push(Hr||Nr),!An.length)return{SheetNames:Jr,Sheets:qr};for(var gn={},mn=[],Zr=0;Zr<An.length;++Zr)qr[Jr[Zr]]?(mn.push(An[Zr]||Jr[Zr]),gn[An[Zr]]=qr[An[Zr]]||qr[Jr[Zr]]):(mn.push(An[Zr]),gn[An[Zr]]={"!ref":"A1"});return{SheetNames:mn,Sheets:gn}}function Be(yr,vr){var Tr=vr||{};if(+Tr.codepage>=0&&set_cp(+Tr.codepage),Tr.type=="string")throw new Error("Cannot write WK1 to JS string");var Or=buf_array(),Nr=safe_decode_range(yr["!ref"]),Hr=Array.isArray(yr),Wr=[];write_biff_rec(Or,0,Fe(1030)),write_biff_rec(Or,6,Me(Nr));for(var qr=Math.min(Nr.e.r,8191),Jr=Nr.s.r;Jr<=qr;++Jr)for(var An=encode_row(Jr),an=Nr.s.c;an<=Nr.e.c;++an){Jr===Nr.s.r&&(Wr[an]=encode_col(an));var bn=Wr[an]+An,gn=Hr?(yr[Jr]||[])[an]:yr[bn];if(!(!gn||gn.t=="z"))if(gn.t=="n")(gn.v|0)==gn.v&&gn.v>=-32768&&gn.v<=32767?write_biff_rec(Or,13,We(Jr,an,gn.v)):write_biff_rec(Or,14,Ke(Jr,an,gn.v));else{var mn=format_cell(gn);write_biff_rec(Or,15,He(Jr,an,mn.slice(0,239)))}}return write_biff_rec(Or,1),Or.end()}function De(yr,vr){var Tr=vr||{};if(+Tr.codepage>=0&&set_cp(+Tr.codepage),Tr.type=="string")throw new Error("Cannot write WK3 to JS string");var Or=buf_array();write_biff_rec(Or,0,Oe(yr));for(var Nr=0,Hr=0;Nr<yr.SheetNames.length;++Nr)(yr.Sheets[yr.SheetNames[Nr]]||{})["!ref"]&&write_biff_rec(Or,27,wr(yr.SheetNames[Nr],Hr++));var Wr=0;for(Nr=0;Nr<yr.SheetNames.length;++Nr){var qr=yr.Sheets[yr.SheetNames[Nr]];if(!(!qr||!qr["!ref"])){for(var Jr=safe_decode_range(qr["!ref"]),An=Array.isArray(qr),an=[],bn=Math.min(Jr.e.r,8191),gn=Jr.s.r;gn<=bn;++gn)for(var mn=encode_row(gn),Zr=Jr.s.c;Zr<=Jr.e.c;++Zr){gn===Jr.s.r&&(an[Zr]=encode_col(Zr));var kn=an[Zr]+mn,ri=An?(qr[gn]||[])[Zr]:qr[kn];if(!(!ri||ri.t=="z"))if(ri.t=="n")write_biff_rec(Or,23,_r(gn,Zr,Wr,ri.v));else{var zn=format_cell(ri);write_biff_rec(Or,22,nr(gn,Zr,Wr,zn.slice(0,239)))}}++Wr}}return write_biff_rec(Or,1),Or.end()}function Fe(yr){var vr=new_buf(2);return vr.write_shift(2,yr),vr}function Oe(yr){var vr=new_buf(26);vr.write_shift(2,4096),vr.write_shift(2,4),vr.write_shift(4,0);for(var Tr=0,Or=0,Nr=0,Hr=0;Hr<yr.SheetNames.length;++Hr){var Wr=yr.SheetNames[Hr],qr=yr.Sheets[Wr];if(!(!qr||!qr["!ref"])){++Nr;var Jr=decode_range(qr["!ref"]);Tr<Jr.e.r&&(Tr=Jr.e.r),Or<Jr.e.c&&(Or=Jr.e.c)}}return Tr>8191&&(Tr=8191),vr.write_shift(2,Tr),vr.write_shift(1,Nr),vr.write_shift(1,Or),vr.write_shift(2,0),vr.write_shift(2,0),vr.write_shift(1,1),vr.write_shift(1,2),vr.write_shift(4,0),vr.write_shift(4,0),vr}function ke(yr,vr,Tr){var Or={s:{c:0,r:0},e:{c:0,r:0}};return vr==8&&Tr.qpro?(Or.s.c=yr.read_shift(1),yr.l++,Or.s.r=yr.read_shift(2),Or.e.c=yr.read_shift(1),yr.l++,Or.e.r=yr.read_shift(2),Or):(Or.s.c=yr.read_shift(2),Or.s.r=yr.read_shift(2),vr==12&&Tr.qpro&&(yr.l+=2),Or.e.c=yr.read_shift(2),Or.e.r=yr.read_shift(2),vr==12&&Tr.qpro&&(yr.l+=2),Or.s.c==65535&&(Or.s.c=Or.e.c=Or.s.r=Or.e.r=0),Or)}function Me(yr){var vr=new_buf(8);return vr.write_shift(2,yr.s.c),vr.write_shift(2,yr.s.r),vr.write_shift(2,yr.e.c),vr.write_shift(2,yr.e.r),vr}function Ue(yr,vr,Tr){var Or=[{c:0,r:0},{t:"n",v:0},0,0];return Tr.qpro&&Tr.vers!=20768?(Or[0].c=yr.read_shift(1),Or[3]=yr.read_shift(1),Or[0].r=yr.read_shift(2),yr.l+=2):(Or[2]=yr.read_shift(1),Or[0].c=yr.read_shift(2),Or[0].r=yr.read_shift(2)),Or}function $e(yr,vr,Tr){var Or=yr.l+vr,Nr=Ue(yr,vr,Tr);if(Nr[1].t="s",Tr.vers==20768){yr.l++;var Hr=yr.read_shift(1);return Nr[1].v=yr.read_shift(Hr,"utf8"),Nr}return Tr.qpro&&yr.l++,Nr[1].v=yr.read_shift(Or-yr.l,"cstr"),Nr}function He(yr,vr,Tr){var Or=new_buf(7+Tr.length);Or.write_shift(1,255),Or.write_shift(2,vr),Or.write_shift(2,yr),Or.write_shift(1,39);for(var Nr=0;Nr<Or.length;++Nr){var Hr=Tr.charCodeAt(Nr);Or.write_shift(1,Hr>=128?95:Hr)}return Or.write_shift(1,0),Or}function Qe(yr,vr,Tr){var Or=Ue(yr,vr,Tr);return Or[1].v=yr.read_shift(2,"i"),Or}function We(yr,vr,Tr){var Or=new_buf(7);return Or.write_shift(1,255),Or.write_shift(2,vr),Or.write_shift(2,yr),Or.write_shift(2,Tr,"i"),Or}function qe(yr,vr,Tr){var Or=Ue(yr,vr,Tr);return Or[1].v=yr.read_shift(8,"f"),Or}function Ke(yr,vr,Tr){var Or=new_buf(13);return Or.write_shift(1,255),Or.write_shift(2,vr),Or.write_shift(2,yr),Or.write_shift(8,Tr,"f"),Or}function Xe(yr,vr,Tr){var Or=yr.l+vr,Nr=Ue(yr,vr,Tr);if(Nr[1].v=yr.read_shift(8,"f"),Tr.qpro)yr.l=Or;else{var Hr=yr.read_shift(2);tr(yr.slice(yr.l,yr.l+Hr),Nr),yr.l+=Hr}return Nr}function Ye(yr,vr,Tr){var Or=vr&32768;return vr&=-32769,vr=(Or?yr:0)+(vr>=8192?vr-16384:vr),(Or?"":"$")+(Tr?encode_col(vr):encode_row(vr))}var Ze={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},Je=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function tr(yr,vr){prep_blob(yr,0);for(var Tr=[],Or=0,Nr="",Hr="",Wr="",qr="";yr.l<yr.length;){var Jr=yr[yr.l++];switch(Jr){case 0:Tr.push(yr.read_shift(8,"f"));break;case 1:Hr=Ye(vr[0].c,yr.read_shift(2),!0),Nr=Ye(vr[0].r,yr.read_shift(2),!1),Tr.push(Hr+Nr);break;case 2:{var An=Ye(vr[0].c,yr.read_shift(2),!0),an=Ye(vr[0].r,yr.read_shift(2),!1);Hr=Ye(vr[0].c,yr.read_shift(2),!0),Nr=Ye(vr[0].r,yr.read_shift(2),!1),Tr.push(An+an+":"+Hr+Nr)}break;case 3:if(yr.l<yr.length){console.error("WK1 premature formula end");return}break;case 4:Tr.push("("+Tr.pop()+")");break;case 5:Tr.push(yr.read_shift(2));break;case 6:{for(var bn="";Jr=yr[yr.l++];)bn+=String.fromCharCode(Jr);Tr.push('"'+bn.replace(/"/g,'""')+'"')}break;case 8:Tr.push("-"+Tr.pop());break;case 23:Tr.push("+"+Tr.pop());break;case 22:Tr.push("NOT("+Tr.pop()+")");break;case 20:case 21:qr=Tr.pop(),Wr=Tr.pop(),Tr.push(["AND","OR"][Jr-20]+"("+Wr+","+qr+")");break;default:if(Jr<32&&Je[Jr])qr=Tr.pop(),Wr=Tr.pop(),Tr.push(Wr+Je[Jr]+qr);else if(Ze[Jr]){if(Or=Ze[Jr][1],Or==69&&(Or=yr[yr.l++]),Or>Tr.length){console.error("WK1 bad formula parse 0x"+Jr.toString(16)+":|"+Tr.join("|")+"|");return}var gn=Tr.slice(-Or);Tr.length-=Or,Tr.push(Ze[Jr][0]+"("+gn.join(",")+")")}else return Jr<=7?console.error("WK1 invalid opcode "+Jr.toString(16)):Jr<=24?console.error("WK1 unsupported op "+Jr.toString(16)):Jr<=30?console.error("WK1 invalid opcode "+Jr.toString(16)):Jr<=115?console.error("WK1 unsupported function opcode "+Jr.toString(16)):console.error("WK1 unrecognized opcode "+Jr.toString(16))}}Tr.length==1?vr[1].f=""+Tr[0]:console.error("WK1 bad formula parse |"+Tr.join("|")+"|")}function rr(yr){var vr=[{c:0,r:0},{t:"n",v:0},0];return vr[0].r=yr.read_shift(2),vr[3]=yr[yr.l++],vr[0].c=yr[yr.l++],vr}function ar(yr,vr){var Tr=rr(yr);return Tr[1].t="s",Tr[1].v=yr.read_shift(vr-4,"cstr"),Tr}function nr(yr,vr,Tr,Or){var Nr=new_buf(6+Or.length);Nr.write_shift(2,yr),Nr.write_shift(1,Tr),Nr.write_shift(1,vr),Nr.write_shift(1,39);for(var Hr=0;Hr<Or.length;++Hr){var Wr=Or.charCodeAt(Hr);Nr.write_shift(1,Wr>=128?95:Wr)}return Nr.write_shift(1,0),Nr}function sr(yr,vr){var Tr=rr(yr);Tr[1].v=yr.read_shift(2);var Or=Tr[1].v>>1;if(Tr[1].v&1)switch(Or&7){case 0:Or=(Or>>3)*5e3;break;case 1:Or=(Or>>3)*500;break;case 2:Or=(Or>>3)/20;break;case 3:Or=(Or>>3)/200;break;case 4:Or=(Or>>3)/2e3;break;case 5:Or=(Or>>3)/2e4;break;case 6:Or=(Or>>3)/16;break;case 7:Or=(Or>>3)/64;break}return Tr[1].v=Or,Tr}function dr(yr,vr){var Tr=rr(yr),Or=yr.read_shift(4),Nr=yr.read_shift(4),Hr=yr.read_shift(2);if(Hr==65535)return Or===0&&Nr===3221225472?(Tr[1].t="e",Tr[1].v=15):Or===0&&Nr===3489660928?(Tr[1].t="e",Tr[1].v=42):Tr[1].v=0,Tr;var Wr=Hr&32768;return Hr=(Hr&32767)-16446,Tr[1].v=(1-Wr*2)*(Nr*Math.pow(2,Hr+32)+Or*Math.pow(2,Hr)),Tr}function _r(yr,vr,Tr,Or){var Nr=new_buf(14);if(Nr.write_shift(2,yr),Nr.write_shift(1,Tr),Nr.write_shift(1,vr),Or==0)return Nr.write_shift(4,0),Nr.write_shift(4,0),Nr.write_shift(2,65535),Nr;var Hr=0,Wr=0,qr=0,Jr=0;return Or<0&&(Hr=1,Or=-Or),Wr=Math.log2(Or)|0,Or/=Math.pow(2,Wr-31),Jr=Or>>>0,(Jr&2147483648)==0&&(Or/=2,++Wr,Jr=Or>>>0),Or-=Jr,Jr|=2147483648,Jr>>>=0,Or*=Math.pow(2,32),qr=Or>>>0,Nr.write_shift(4,qr),Nr.write_shift(4,Jr),Wr+=16383+(Hr?32768:0),Nr.write_shift(2,Wr),Nr}function fr(yr,vr){var Tr=dr(yr);return yr.l+=vr-14,Tr}function or(yr,vr){var Tr=rr(yr),Or=yr.read_shift(4);return Tr[1].v=Or>>6,Tr}function Er(yr,vr){var Tr=rr(yr),Or=yr.read_shift(8,"f");return Tr[1].v=Or,Tr}function Rr(yr,vr){var Tr=Er(yr);return yr.l+=vr-10,Tr}function jr(yr,vr){return yr[yr.l+vr-1]==0?yr.read_shift(vr,"cstr"):""}function xr(yr,vr){var Tr=yr[yr.l++];Tr>vr-1&&(Tr=vr-1);for(var Or="";Or.length<Tr;)Or+=String.fromCharCode(yr[yr.l++]);return Or}function Pr(yr,vr,Tr){if(!(!Tr.qpro||vr<21)){var Or=yr.read_shift(1);yr.l+=17,yr.l+=1,yr.l+=2;var Nr=yr.read_shift(vr-21,"cstr");return[Or,Nr]}}function br(yr,vr){for(var Tr={},Or=yr.l+vr;yr.l<Or;){var Nr=yr.read_shift(2);if(Nr==14e3){for(Tr[Nr]=[0,""],Tr[Nr][0]=yr.read_shift(2);yr[yr.l];)Tr[Nr][1]+=String.fromCharCode(yr[yr.l]),yr.l++;yr.l++}}return Tr}function wr(yr,vr){var Tr=new_buf(5+yr.length);Tr.write_shift(2,14e3),Tr.write_shift(2,vr);for(var Or=0;Or<yr.length;++Or){var Nr=yr.charCodeAt(Or);Tr[Tr.l++]=Nr>127?95:Nr}return Tr[Tr.l++]=0,Tr}var Br={0:{n:"BOF",f:parseuint16},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:ke},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:Qe},14:{n:"NUMBER",f:qe},15:{n:"LABEL",f:$e},16:{n:"FORMULA",f:Xe},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:$e},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:jr},222:{n:"SHEETNAMELP",f:xr},65535:{n:""}},Lr={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ar},23:{n:"NUMBER17",f:dr},24:{n:"NUMBER18",f:sr},25:{n:"FORMULA19",f:fr},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:br},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:or},38:{n:"??"},39:{n:"NUMBER27",f:Er},40:{n:"FORMULA28",f:Rr},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:jr},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Pr},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:Be,book_to_wk3:De,to_workbook:Re}})(),straywsregex=/^\s|\s$|[\t\n\r]/;function write_sst_xml(Ce,Re){if(!Re.bookSST)return"";var je=[XML_HEADER];je[je.length]=writextag("sst",null,{xmlns:XMLNS_main[0],count:Ce.Count,uniqueCount:Ce.Unique});for(var Be=0;Be!=Ce.length;++Be)if(Ce[Be]!=null){var De=Ce[Be],Fe="<si>";De.r?Fe+=De.r:(Fe+="<t",De.t||(De.t=""),De.t.match(straywsregex)&&(Fe+=' xml:space="preserve"'),Fe+=">"+escapexml(De.t)+"</t>"),Fe+="</si>",je[je.length]=Fe}return je.length>2&&(je[je.length]="</sst>",je[1]=je[1].replace("/>",">")),je.join("")}function parse_BrtBeginSst(Ce){return[Ce.read_shift(4),Ce.read_shift(4)]}function write_BrtBeginSst(Ce,Re){return Re||(Re=new_buf(8)),Re.write_shift(4,Ce.Count),Re.write_shift(4,Ce.Unique),Re}var write_BrtSSTItem=write_RichStr;function write_sst_bin(Ce){var Re=buf_array();write_record(Re,159,write_BrtBeginSst(Ce));for(var je=0;je<Ce.length;++je)write_record(Re,19,write_BrtSSTItem(Ce[je]));return write_record(Re,160),Re.end()}function _JS2ANSI(Ce){for(var Re=[],je=Ce.split(""),Be=0;Be<je.length;++Be)Re[Be]=je[Be].charCodeAt(0);return Re}function crypto_CreatePasswordVerifier_Method1(Ce){var Re=0,je,Be=_JS2ANSI(Ce),De=Be.length+1,Fe,Oe,ke,Me,Ue;for(je=new_raw_buf(De),je[0]=Be.length,Fe=1;Fe!=De;++Fe)je[Fe]=Be[Fe-1];for(Fe=De-1;Fe>=0;--Fe)Oe=je[Fe],ke=(Re&16384)===0?0:1,Me=Re<<1&32767,Ue=ke|Me,Re=Ue^Oe;return Re^52811}var RTF=(function(){function Ce(De,Fe){switch(Fe.type){case"base64":return Re(Base64_decode(De),Fe);case"binary":return Re(De,Fe);case"buffer":return Re(has_buf&&Buffer.isBuffer(De)?De.toString("binary"):a2s(De),Fe);case"array":return Re(cc2str(De),Fe)}throw new Error("Unrecognized type "+Fe.type)}function Re(De,Fe){var Oe=Fe||{},ke=Oe.dense?[]:{},Me=De.match(/\\trowd.*?\\row\b/g);if(!Me.length)throw new Error("RTF missing table");var Ue={s:{c:0,r:0},e:{c:0,r:Me.length-1}};return Me.forEach(function($e,He){Array.isArray(ke)&&(ke[He]=[]);for(var Qe=/\\\w+\b/g,We=0,qe,Ke=-1;qe=Qe.exec($e);){switch(qe[0]){case"\\cell":var Xe=$e.slice(We,Qe.lastIndex-qe[0].length);if(Xe[0]==" "&&(Xe=Xe.slice(1)),++Ke,Xe.length){var Ye={v:Xe,t:"s"};Array.isArray(ke)?ke[He][Ke]=Ye:ke[encode_cell({r:He,c:Ke})]=Ye}break}We=Qe.lastIndex}Ke>Ue.e.c&&(Ue.e.c=Ke)}),ke["!ref"]=encode_range(Ue),ke}function je(De,Fe){return sheet_to_workbook(Ce(De,Fe),Fe)}function Be(De){for(var Fe=["{\\rtf1\\ansi"],Oe=safe_decode_range(De["!ref"]),ke,Me=Array.isArray(De),Ue=Oe.s.r;Ue<=Oe.e.r;++Ue){Fe.push("\\trowd\\trautofit1");for(var $e=Oe.s.c;$e<=Oe.e.c;++$e)Fe.push("\\cellx"+($e+1));for(Fe.push("\\pard\\intbl"),$e=Oe.s.c;$e<=Oe.e.c;++$e){var He=encode_cell({r:Ue,c:$e});ke=Me?(De[Ue]||[])[$e]:De[He],!(!ke||ke.v==null&&(!ke.f||ke.F))&&(Fe.push(" "+(ke.w||(format_cell(ke),ke.w))),Fe.push("\\cell"))}Fe.push("\\pard\\intbl\\row")}return Fe.join("")+"}"}return{to_workbook:je,to_sheet:Ce,from_sheet:Be}})();function rgb2Hex(Ce){for(var Re=0,je=1;Re!=3;++Re)je=je*256+(Ce[Re]>255?255:Ce[Re]<0?0:Ce[Re]);return je.toString(16).toUpperCase().slice(1)}var DEF_MDW=6,MDW=DEF_MDW;function width2px(Ce){return Math.floor((Ce+Math.round(128/MDW)/256)*MDW)}function px2char(Ce){return Math.floor((Ce-5)/MDW*100+.5)/100}function char2width(Ce){return Math.round((Ce*MDW+5)/MDW*256)/256}function process_col(Ce){Ce.width?(Ce.wpx=width2px(Ce.width),Ce.wch=px2char(Ce.wpx),Ce.MDW=MDW):Ce.wpx?(Ce.wch=px2char(Ce.wpx),Ce.width=char2width(Ce.wch),Ce.MDW=MDW):typeof Ce.wch=="number"&&(Ce.width=char2width(Ce.wch),Ce.wpx=width2px(Ce.width),Ce.MDW=MDW),Ce.customWidth&&delete Ce.customWidth}var DEF_PPI=96,PPI=DEF_PPI;function px2pt(Ce){return Ce*96/PPI}function pt2px(Ce){return Ce*PPI/96}function write_numFmts(Ce){var Re=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(je){for(var Be=je[0];Be<=je[1];++Be)Ce[Be]!=null&&(Re[Re.length]=writextag("numFmt",null,{numFmtId:Be,formatCode:escapexml(Ce[Be])}))}),Re.length===1?"":(Re[Re.length]="</numFmts>",Re[0]=writextag("numFmts",null,{count:Re.length-2}).replace("/>",">"),Re.join(""))}function write_cellXfs(Ce){var Re=[];return Re[Re.length]=writextag("cellXfs",null),Ce.forEach(function(je){Re[Re.length]=writextag("xf",null,je)}),Re[Re.length]="</cellXfs>",Re.length===2?"":(Re[0]=writextag("cellXfs",null,{count:Re.length-2}).replace("/>",">"),Re.join(""))}function write_sty_xml(Ce,Re){var je=[XML_HEADER,writextag("styleSheet",null,{xmlns:XMLNS_main[0],"xmlns:vt":XMLNS.vt})],Be;return Ce.SSF&&(Be=write_numFmts(Ce.SSF))!=null&&(je[je.length]=Be),je[je.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',je[je.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',je[je.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',je[je.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(Be=write_cellXfs(Re.cellXfs))&&(je[je.length]=Be),je[je.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',je[je.length]='<dxfs count="0"/>',je[je.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',je.length>2&&(je[je.length]="</styleSheet>",je[1]=je[1].replace("/>",">")),je.join("")}function parse_BrtFmt(Ce,Re){var je=Ce.read_shift(2),Be=parse_XLWideString(Ce);return[je,Be]}function write_BrtFmt(Ce,Re,je){je||(je=new_buf(6+4*Re.length)),je.write_shift(2,Ce),write_XLWideString(Re,je);var Be=je.length>je.l?je.slice(0,je.l):je;return je.l==null&&(je.l=je.length),Be}function parse_BrtFont(Ce,Re,je){var Be={};Be.sz=Ce.read_shift(2)/20;var De=parse_FontFlags(Ce);De.fItalic&&(Be.italic=1),De.fCondense&&(Be.condense=1),De.fExtend&&(Be.extend=1),De.fShadow&&(Be.shadow=1),De.fOutline&&(Be.outline=1),De.fStrikeout&&(Be.strike=1);var Fe=Ce.read_shift(2);switch(Fe===700&&(Be.bold=1),Ce.read_shift(2)){case 1:Be.vertAlign="superscript";break;case 2:Be.vertAlign="subscript";break}var Oe=Ce.read_shift(1);Oe!=0&&(Be.underline=Oe);var ke=Ce.read_shift(1);ke>0&&(Be.family=ke);var Me=Ce.read_shift(1);switch(Me>0&&(Be.charset=Me),Ce.l++,Be.color=parse_BrtColor(Ce),Ce.read_shift(1)){case 1:Be.scheme="major";break;case 2:Be.scheme="minor";break}return Be.name=parse_XLWideString(Ce),Be}function write_BrtFont(Ce,Re){Re||(Re=new_buf(153)),Re.write_shift(2,Ce.sz*20),write_FontFlags(Ce,Re),Re.write_shift(2,Ce.bold?700:400);var je=0;Ce.vertAlign=="superscript"?je=1:Ce.vertAlign=="subscript"&&(je=2),Re.write_shift(2,je),Re.write_shift(1,Ce.underline||0),Re.write_shift(1,Ce.family||0),Re.write_shift(1,Ce.charset||0),Re.write_shift(1,0),write_BrtColor(Ce.color,Re);var Be=0;return Be=2,Re.write_shift(1,Be),write_XLWideString(Ce.name,Re),Re.length>Re.l?Re.slice(0,Re.l):Re}var XLSBFillPTNames=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rev_XLSBFillPTNames,parse_BrtFill=parsenoop;function write_BrtFill(Ce,Re){Re||(Re=new_buf(84)),rev_XLSBFillPTNames||(rev_XLSBFillPTNames=evert(XLSBFillPTNames));var je=rev_XLSBFillPTNames[Ce.patternType];je==null&&(je=40),Re.write_shift(4,je);var Be=0;if(je!=40)for(write_BrtColor({auto:1},Re),write_BrtColor({auto:1},Re);Be<12;++Be)Re.write_shift(4,0);else{for(;Be<4;++Be)Re.write_shift(4,0);for(;Be<12;++Be)Re.write_shift(4,0)}return Re.length>Re.l?Re.slice(0,Re.l):Re}function parse_BrtXF(Ce,Re){var je=Ce.l+Re,Be=Ce.read_shift(2),De=Ce.read_shift(2);return Ce.l=je,{ixfe:Be,numFmtId:De}}function write_BrtXF(Ce,Re,je){je||(je=new_buf(16)),je.write_shift(2,Re||0),je.write_shift(2,Ce.numFmtId||0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(1,0),je.write_shift(1,0);var Be=0;return je.write_shift(1,Be),je.write_shift(1,0),je.write_shift(1,0),je.write_shift(1,0),je}function write_Blxf(Ce,Re){return Re||(Re=new_buf(10)),Re.write_shift(1,0),Re.write_shift(1,0),Re.write_shift(4,0),Re.write_shift(4,0),Re}var parse_BrtBorder=parsenoop;function write_BrtBorder(Ce,Re){return Re||(Re=new_buf(51)),Re.write_shift(1,0),write_Blxf(null,Re),write_Blxf(null,Re),write_Blxf(null,Re),write_Blxf(null,Re),write_Blxf(null,Re),Re.length>Re.l?Re.slice(0,Re.l):Re}function write_BrtStyle(Ce,Re){return Re||(Re=new_buf(52)),Re.write_shift(4,Ce.xfId),Re.write_shift(2,1),Re.write_shift(1,0),Re.write_shift(1,0),write_XLNullableWideString(Ce.name||"",Re),Re.length>Re.l?Re.slice(0,Re.l):Re}function write_BrtBeginTableStyles(Ce,Re,je){var Be=new_buf(2052);return Be.write_shift(4,Ce),write_XLNullableWideString(Re,Be),write_XLNullableWideString(je,Be),Be.length>Be.l?Be.slice(0,Be.l):Be}function write_FMTS_bin(Ce,Re){if(Re){var je=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(Be){for(var De=Be[0];De<=Be[1];++De)Re[De]!=null&&++je}),je!=0&&(write_record(Ce,615,write_UInt32LE(je)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(Be){for(var De=Be[0];De<=Be[1];++De)Re[De]!=null&&write_record(Ce,44,write_BrtFmt(De,Re[De]))}),write_record(Ce,616))}}function write_FONTS_bin(Ce){var Re=1;write_record(Ce,611,write_UInt32LE(Re)),write_record(Ce,43,write_BrtFont({sz:12,color:{theme:1},name:"Calibri",family:2})),write_record(Ce,612)}function write_FILLS_bin(Ce){var Re=2;write_record(Ce,603,write_UInt32LE(Re)),write_record(Ce,45,write_BrtFill({patternType:"none"})),write_record(Ce,45,write_BrtFill({patternType:"gray125"})),write_record(Ce,604)}function write_BORDERS_bin(Ce){var Re=1;write_record(Ce,613,write_UInt32LE(Re)),write_record(Ce,46,write_BrtBorder()),write_record(Ce,614)}function write_CELLSTYLEXFS_bin(Ce){var Re=1;write_record(Ce,626,write_UInt32LE(Re)),write_record(Ce,47,write_BrtXF({numFmtId:0},65535)),write_record(Ce,627)}function write_CELLXFS_bin(Ce,Re){write_record(Ce,617,write_UInt32LE(Re.length)),Re.forEach(function(je){write_record(Ce,47,write_BrtXF(je,0))}),write_record(Ce,618)}function write_STYLES_bin(Ce){var Re=1;write_record(Ce,619,write_UInt32LE(Re)),write_record(Ce,48,write_BrtStyle({xfId:0,name:"Normal"})),write_record(Ce,620)}function write_DXFS_bin(Ce){var Re=0;write_record(Ce,505,write_UInt32LE(Re)),write_record(Ce,506)}function write_TABLESTYLES_bin(Ce){var Re=0;write_record(Ce,508,write_BrtBeginTableStyles(Re,"TableStyleMedium9","PivotStyleMedium4")),write_record(Ce,509)}function write_sty_bin(Ce,Re){var je=buf_array();return write_record(je,278),write_FMTS_bin(je,Ce.SSF),write_FONTS_bin(je),write_FILLS_bin(je),write_BORDERS_bin(je),write_CELLSTYLEXFS_bin(je),write_CELLXFS_bin(je,Re.cellXfs),write_STYLES_bin(je),write_DXFS_bin(je),write_TABLESTYLES_bin(je),write_record(je,279),je.end()}function write_theme(Ce,Re){if(Re&&Re.themeXLSX)return Re.themeXLSX;if(Ce&&typeof Ce.raw=="string")return Ce.raw;var je=[XML_HEADER];return je[je.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',je[je.length]="<a:themeElements>",je[je.length]='<a:clrScheme name="Office">',je[je.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',je[je.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',je[je.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',je[je.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',je[je.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',je[je.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',je[je.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',je[je.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',je[je.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',je[je.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',je[je.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',je[je.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',je[je.length]="</a:clrScheme>",je[je.length]='<a:fontScheme name="Office">',je[je.length]="<a:majorFont>",je[je.length]='<a:latin typeface="Cambria"/>',je[je.length]='<a:ea typeface=""/>',je[je.length]='<a:cs typeface=""/>',je[je.length]='<a:font script="Jpan" typeface=" "/>',je[je.length]='<a:font script="Hang" typeface=" "/>',je[je.length]='<a:font script="Hans" typeface=""/>',je[je.length]='<a:font script="Hant" typeface=""/>',je[je.length]='<a:font script="Arab" typeface="Times New Roman"/>',je[je.length]='<a:font script="Hebr" typeface="Times New Roman"/>',je[je.length]='<a:font script="Thai" typeface="Tahoma"/>',je[je.length]='<a:font script="Ethi" typeface="Nyala"/>',je[je.length]='<a:font script="Beng" typeface="Vrinda"/>',je[je.length]='<a:font script="Gujr" typeface="Shruti"/>',je[je.length]='<a:font script="Khmr" typeface="MoolBoran"/>',je[je.length]='<a:font script="Knda" typeface="Tunga"/>',je[je.length]='<a:font script="Guru" typeface="Raavi"/>',je[je.length]='<a:font script="Cans" typeface="Euphemia"/>',je[je.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',je[je.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',je[je.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',je[je.length]='<a:font script="Thaa" typeface="MV Boli"/>',je[je.length]='<a:font script="Deva" typeface="Mangal"/>',je[je.length]='<a:font script="Telu" typeface="Gautami"/>',je[je.length]='<a:font script="Taml" typeface="Latha"/>',je[je.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',je[je.length]='<a:font script="Orya" typeface="Kalinga"/>',je[je.length]='<a:font script="Mlym" typeface="Kartika"/>',je[je.length]='<a:font script="Laoo" typeface="DokChampa"/>',je[je.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',je[je.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',je[je.length]='<a:font script="Viet" typeface="Times New Roman"/>',je[je.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',je[je.length]='<a:font script="Geor" typeface="Sylfaen"/>',je[je.length]="</a:majorFont>",je[je.length]="<a:minorFont>",je[je.length]='<a:latin typeface="Calibri"/>',je[je.length]='<a:ea typeface=""/>',je[je.length]='<a:cs typeface=""/>',je[je.length]='<a:font script="Jpan" typeface=" "/>',je[je.length]='<a:font script="Hang" typeface=" "/>',je[je.length]='<a:font script="Hans" typeface=""/>',je[je.length]='<a:font script="Hant" typeface=""/>',je[je.length]='<a:font script="Arab" typeface="Arial"/>',je[je.length]='<a:font script="Hebr" typeface="Arial"/>',je[je.length]='<a:font script="Thai" typeface="Tahoma"/>',je[je.length]='<a:font script="Ethi" typeface="Nyala"/>',je[je.length]='<a:font script="Beng" typeface="Vrinda"/>',je[je.length]='<a:font script="Gujr" typeface="Shruti"/>',je[je.length]='<a:font script="Khmr" typeface="DaunPenh"/>',je[je.length]='<a:font script="Knda" typeface="Tunga"/>',je[je.length]='<a:font script="Guru" typeface="Raavi"/>',je[je.length]='<a:font script="Cans" typeface="Euphemia"/>',je[je.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',je[je.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',je[je.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',je[je.length]='<a:font script="Thaa" typeface="MV Boli"/>',je[je.length]='<a:font script="Deva" typeface="Mangal"/>',je[je.length]='<a:font script="Telu" typeface="Gautami"/>',je[je.length]='<a:font script="Taml" typeface="Latha"/>',je[je.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',je[je.length]='<a:font script="Orya" typeface="Kalinga"/>',je[je.length]='<a:font script="Mlym" typeface="Kartika"/>',je[je.length]='<a:font script="Laoo" typeface="DokChampa"/>',je[je.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',je[je.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',je[je.length]='<a:font script="Viet" typeface="Arial"/>',je[je.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',je[je.length]='<a:font script="Geor" typeface="Sylfaen"/>',je[je.length]="</a:minorFont>",je[je.length]="</a:fontScheme>",je[je.length]='<a:fmtScheme name="Office">',je[je.length]="<a:fillStyleLst>",je[je.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',je[je.length]='<a:gradFill rotWithShape="1">',je[je.length]="<a:gsLst>",je[je.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',je[je.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',je[je.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',je[je.length]="</a:gsLst>",je[je.length]='<a:lin ang="16200000" scaled="1"/>',je[je.length]="</a:gradFill>",je[je.length]='<a:gradFill rotWithShape="1">',je[je.length]="<a:gsLst>",je[je.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',je[je.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',je[je.length]="</a:gsLst>",je[je.length]='<a:lin ang="16200000" scaled="0"/>',je[je.length]="</a:gradFill>",je[je.length]="</a:fillStyleLst>",je[je.length]="<a:lnStyleLst>",je[je.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',je[je.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',je[je.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',je[je.length]="</a:lnStyleLst>",je[je.length]="<a:effectStyleLst>",je[je.length]="<a:effectStyle>",je[je.length]="<a:effectLst>",je[je.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',je[je.length]="</a:effectLst>",je[je.length]="</a:effectStyle>",je[je.length]="<a:effectStyle>",je[je.length]="<a:effectLst>",je[je.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',je[je.length]="</a:effectLst>",je[je.length]="</a:effectStyle>",je[je.length]="<a:effectStyle>",je[je.length]="<a:effectLst>",je[je.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',je[je.length]="</a:effectLst>",je[je.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',je[je.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',je[je.length]="</a:effectStyle>",je[je.length]="</a:effectStyleLst>",je[je.length]="<a:bgFillStyleLst>",je[je.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',je[je.length]='<a:gradFill rotWithShape="1">',je[je.length]="<a:gsLst>",je[je.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',je[je.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',je[je.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',je[je.length]="</a:gsLst>",je[je.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',je[je.length]="</a:gradFill>",je[je.length]='<a:gradFill rotWithShape="1">',je[je.length]="<a:gsLst>",je[je.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',je[je.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',je[je.length]="</a:gsLst>",je[je.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',je[je.length]="</a:gradFill>",je[je.length]="</a:bgFillStyleLst>",je[je.length]="</a:fmtScheme>",je[je.length]="</a:themeElements>",je[je.length]="<a:objectDefaults>",je[je.length]="<a:spDef>",je[je.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',je[je.length]="</a:spDef>",je[je.length]="<a:lnDef>",je[je.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',je[je.length]="</a:lnDef>",je[je.length]="</a:objectDefaults>",je[je.length]="<a:extraClrSchemeLst/>",je[je.length]="</a:theme>",je.join("")}function parse_BrtMdtinfo(Ce,Re){return{flags:Ce.read_shift(4),version:Ce.read_shift(4),name:parse_XLWideString(Ce)}}function write_BrtMdtinfo(Ce){var Re=new_buf(12+2*Ce.name.length);return Re.write_shift(4,Ce.flags),Re.write_shift(4,Ce.version),write_XLWideString(Ce.name,Re),Re.slice(0,Re.l)}function parse_BrtMdb(Ce){for(var Re=[],je=Ce.read_shift(4);je-- >0;)Re.push([Ce.read_shift(4),Ce.read_shift(4)]);return Re}function write_BrtMdb(Ce){var Re=new_buf(4+8*Ce.length);Re.write_shift(4,Ce.length);for(var je=0;je<Ce.length;++je)Re.write_shift(4,Ce[je][0]),Re.write_shift(4,Ce[je][1]);return Re}function write_BrtBeginEsfmd(Ce,Re){var je=new_buf(8+2*Re.length);return je.write_shift(4,Ce),write_XLWideString(Re,je),je.slice(0,je.l)}function parse_BrtBeginEsmdb(Ce){return Ce.l+=4,Ce.read_shift(4)!=0}function write_BrtBeginEsmdb(Ce,Re){var je=new_buf(8);return je.write_shift(4,Ce),je.write_shift(4,1),je}function write_xlmeta_bin(){var Ce=buf_array();return write_record(Ce,332),write_record(Ce,334,write_UInt32LE(1)),write_record(Ce,335,write_BrtMdtinfo({name:"XLDAPR",version:12e4,flags:3496657072})),write_record(Ce,336),write_record(Ce,339,write_BrtBeginEsfmd(1,"XLDAPR")),write_record(Ce,52),write_record(Ce,35,write_UInt32LE(514)),write_record(Ce,4096,write_UInt32LE(0)),write_record(Ce,4097,writeuint16(1)),write_record(Ce,36),write_record(Ce,53),write_record(Ce,340),write_record(Ce,337,write_BrtBeginEsmdb(1)),write_record(Ce,51,write_BrtMdb([[1,0]])),write_record(Ce,338),write_record(Ce,333),Ce.end()}function write_xlmeta_xml(){var Ce=[XML_HEADER];return Ce.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),Ce.join("")}function parse_BrtCalcChainItem$(Ce){var Re={};Re.i=Ce.read_shift(4);var je={};je.r=Ce.read_shift(4),je.c=Ce.read_shift(4),Re.r=encode_cell(je);var Be=Ce.read_shift(1);return Be&2&&(Re.l="1"),Be&8&&(Re.a="1"),Re}var _shapeid=1024;function write_comments_vml(Ce,Re){for(var je=[21600,21600],Be=["m0,0l0",je[1],je[0],je[1],je[0],"0xe"].join(","),De=[writextag("xml",null,{"xmlns:v":XLMLNS.v,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:mv":XLMLNS.mv}).replace(/\/>/,">"),writextag("o:shapelayout",writextag("o:idmap",null,{"v:ext":"edit",data:Ce}),{"v:ext":"edit"}),writextag("v:shapetype",[writextag("v:stroke",null,{joinstyle:"miter"}),writextag("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:je.join(","),path:Be})];_shapeid<Ce*1e3;)_shapeid+=1e3;return Re.forEach(function(Fe){var Oe=decode_cell(Fe[0]),ke={color2:"#BEFF82",type:"gradient"};ke.type=="gradient"&&(ke.angle="-180");var Me=ke.type=="gradient"?writextag("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,Ue=writextag("v:fill",Me,ke),$e={on:"t",obscured:"t"};++_shapeid,De=De.concat(["<v:shape"+wxt_helper({id:"_x0000_s"+_shapeid,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(Fe[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",Ue,writextag("v:shadow",null,$e),writextag("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",writetag("x:Anchor",[Oe.c+1,0,Oe.r+1,0,Oe.c+3,20,Oe.r+5,20].join(",")),writetag("x:AutoFill","False"),writetag("x:Row",String(Oe.r)),writetag("x:Column",String(Oe.c)),Fe[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),De.push("</xml>"),De.join("")}function write_comments_xml(Ce){var Re=[XML_HEADER,writextag("comments",null,{xmlns:XMLNS_main[0]})],je=[];return Re.push("<authors>"),Ce.forEach(function(Be){Be[1].forEach(function(De){var Fe=escapexml(De.a);je.indexOf(Fe)==-1&&(je.push(Fe),Re.push("<author>"+Fe+"</author>")),De.T&&De.ID&&je.indexOf("tc="+De.ID)==-1&&(je.push("tc="+De.ID),Re.push("<author>tc="+De.ID+"</author>"))})}),je.length==0&&(je.push("SheetJ5"),Re.push("<author>SheetJ5</author>")),Re.push("</authors>"),Re.push("<commentList>"),Ce.forEach(function(Be){var De=0,Fe=[];if(Be[1][0]&&Be[1][0].T&&Be[1][0].ID?De=je.indexOf("tc="+Be[1][0].ID):Be[1].forEach(function(Me){Me.a&&(De=je.indexOf(escapexml(Me.a))),Fe.push(Me.t||"")}),Re.push('<comment ref="'+Be[0]+'" authorId="'+De+'"><text>'),Fe.length<=1)Re.push(writetag("t",escapexml(Fe[0]||"")));else{for(var Oe=`Comment:
    `+Fe[0]+`
`,ke=1;ke<Fe.length;++ke)Oe+=`Reply:
    `+Fe[ke]+`
`;Re.push(writetag("t",escapexml(Oe)))}Re.push("</text></comment>")}),Re.push("</commentList>"),Re.length>2&&(Re[Re.length]="</comments>",Re[1]=Re[1].replace("/>",">")),Re.join("")}function write_tcmnt_xml(Ce,Re,je){var Be=[XML_HEADER,writextag("ThreadedComments",null,{xmlns:XMLNS.TCMNT}).replace(/[\/]>/,">")];return Ce.forEach(function(De){var Fe="";(De[1]||[]).forEach(function(Oe,ke){if(!Oe.T){delete Oe.ID;return}Oe.a&&Re.indexOf(Oe.a)==-1&&Re.push(Oe.a);var Me={ref:De[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+je.tcid++).slice(-12)+"}"};ke==0?Fe=Me.id:Me.parentId=Fe,Oe.ID=Me.id,Oe.a&&(Me.personId="{54EE7950-7262-4200-6969-"+("000000000000"+Re.indexOf(Oe.a)).slice(-12)+"}"),Be.push(writextag("threadedComment",writetag("text",Oe.t||""),Me))})}),Be.push("</ThreadedComments>"),Be.join("")}function write_people_xml(Ce){var Re=[XML_HEADER,writextag("personList",null,{xmlns:XMLNS.TCMNT,"xmlns:x":XMLNS_main[0]}).replace(/[\/]>/,">")];return Ce.forEach(function(je,Be){Re.push(writextag("person",null,{displayName:je,id:"{54EE7950-7262-4200-6969-"+("000000000000"+Be).slice(-12)+"}",userId:je,providerId:"None"}))}),Re.push("</personList>"),Re.join("")}function parse_BrtBeginComment(Ce){var Re={};Re.iauthor=Ce.read_shift(4);var je=parse_UncheckedRfX(Ce);return Re.rfx=je.s,Re.ref=encode_cell(je.s),Ce.l+=16,Re}function write_BrtBeginComment(Ce,Re){return Re==null&&(Re=new_buf(36)),Re.write_shift(4,Ce[1].iauthor),write_UncheckedRfX(Ce[0],Re),Re.write_shift(4,0),Re.write_shift(4,0),Re.write_shift(4,0),Re.write_shift(4,0),Re}var parse_BrtCommentAuthor=parse_XLWideString;function write_BrtCommentAuthor(Ce){return write_XLWideString(Ce.slice(0,54))}function write_comments_bin(Ce){var Re=buf_array(),je=[];return write_record(Re,628),write_record(Re,630),Ce.forEach(function(Be){Be[1].forEach(function(De){je.indexOf(De.a)>-1||(je.push(De.a.slice(0,54)),write_record(Re,632,write_BrtCommentAuthor(De.a)))})}),write_record(Re,631),write_record(Re,633),Ce.forEach(function(Be){Be[1].forEach(function(De){De.iauthor=je.indexOf(De.a);var Fe={s:decode_cell(Be[0]),e:decode_cell(Be[0])};write_record(Re,635,write_BrtBeginComment([Fe,De])),De.t&&De.t.length>0&&write_record(Re,637,write_BrtCommentText(De)),write_record(Re,636),delete De.iauthor})}),write_record(Re,634),write_record(Re,629),Re.end()}function fill_vba_xls(Ce,Re){Re.FullPaths.forEach(function(je,Be){if(Be!=0){var De=je.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");De.slice(-1)!=="/"&&CFB.utils.cfb_add(Ce,De,Re.FileIndex[Be].content)}})}var VBAFMTS=["xlsb","xlsm","xlam","biff8","xla"],rc_to_a1=(function(){var Ce=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,Re={r:0,c:0};function je(Be,De,Fe,Oe){var ke=!1,Me=!1;Fe.length==0?Me=!0:Fe.charAt(0)=="["&&(Me=!0,Fe=Fe.slice(1,-1)),Oe.length==0?ke=!0:Oe.charAt(0)=="["&&(ke=!0,Oe=Oe.slice(1,-1));var Ue=Fe.length>0?parseInt(Fe,10)|0:0,$e=Oe.length>0?parseInt(Oe,10)|0:0;return ke?$e+=Re.c:--$e,Me?Ue+=Re.r:--Ue,De+(ke?"":"$")+encode_col($e)+(Me?"":"$")+encode_row(Ue)}return function(De,Fe){return Re=Fe,De.replace(Ce,je)}})(),crefregex=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,a1_to_rc=(function(){return function(Re,je){return Re.replace(crefregex,function(Be,De,Fe,Oe,ke,Me){var Ue=decode_col(Oe)-(Fe?0:je.c),$e=decode_row(Me)-(ke?0:je.r),He=$e==0?"":ke?$e+1:"["+$e+"]",Qe=Ue==0?"":Fe?Ue+1:"["+Ue+"]";return De+"R"+He+"C"+Qe})}})();function shift_formula_str(Ce,Re){return Ce.replace(crefregex,function(je,Be,De,Fe,Oe,ke){return Be+(De=="$"?De+Fe:encode_col(decode_col(Fe)+Re.c))+(Oe=="$"?Oe+ke:encode_row(decode_row(ke)+Re.r))})}function fuzzyfmla(Ce){return Ce.length!=1}function parseread1(Ce){Ce.l+=1}function parse_ColRelU(Ce,Re){var je=Ce.read_shift(2);return[je&16383,je>>14&1,je>>15&1]}function parse_RgceArea(Ce,Re,je){var Be=2;if(je){if(je.biff>=2&&je.biff<=5)return parse_RgceArea_BIFF2(Ce);je.biff==12&&(Be=4)}var De=Ce.read_shift(Be),Fe=Ce.read_shift(Be),Oe=parse_ColRelU(Ce),ke=parse_ColRelU(Ce);return{s:{r:De,c:Oe[0],cRel:Oe[1],rRel:Oe[2]},e:{r:Fe,c:ke[0],cRel:ke[1],rRel:ke[2]}}}function parse_RgceArea_BIFF2(Ce){var Re=parse_ColRelU(Ce),je=parse_ColRelU(Ce),Be=Ce.read_shift(1),De=Ce.read_shift(1);return{s:{r:Re[0],c:Be,cRel:Re[1],rRel:Re[2]},e:{r:je[0],c:De,cRel:je[1],rRel:je[2]}}}function parse_RgceAreaRel(Ce,Re,je){if(je.biff<8)return parse_RgceArea_BIFF2(Ce);var Be=Ce.read_shift(je.biff==12?4:2),De=Ce.read_shift(je.biff==12?4:2),Fe=parse_ColRelU(Ce),Oe=parse_ColRelU(Ce);return{s:{r:Be,c:Fe[0],cRel:Fe[1],rRel:Fe[2]},e:{r:De,c:Oe[0],cRel:Oe[1],rRel:Oe[2]}}}function parse_RgceLoc(Ce,Re,je){if(je&&je.biff>=2&&je.biff<=5)return parse_RgceLoc_BIFF2(Ce);var Be=Ce.read_shift(je&&je.biff==12?4:2),De=parse_ColRelU(Ce);return{r:Be,c:De[0],cRel:De[1],rRel:De[2]}}function parse_RgceLoc_BIFF2(Ce){var Re=parse_ColRelU(Ce),je=Ce.read_shift(1);return{r:Re[0],c:je,cRel:Re[1],rRel:Re[2]}}function parse_RgceElfLoc(Ce){var Re=Ce.read_shift(2),je=Ce.read_shift(2);return{r:Re,c:je&255,fQuoted:!!(je&16384),cRel:je>>15,rRel:je>>15}}function parse_RgceLocRel(Ce,Re,je){var Be=je&&je.biff?je.biff:8;if(Be>=2&&Be<=5)return parse_RgceLocRel_BIFF2(Ce);var De=Ce.read_shift(Be>=12?4:2),Fe=Ce.read_shift(2),Oe=(Fe&16384)>>14,ke=(Fe&32768)>>15;if(Fe&=16383,ke==1)for(;De>524287;)De-=1048576;if(Oe==1)for(;Fe>8191;)Fe=Fe-16384;return{r:De,c:Fe,cRel:Oe,rRel:ke}}function parse_RgceLocRel_BIFF2(Ce){var Re=Ce.read_shift(2),je=Ce.read_shift(1),Be=(Re&32768)>>15,De=(Re&16384)>>14;return Re&=16383,Be==1&&Re>=8192&&(Re=Re-16384),De==1&&je>=128&&(je=je-256),{r:Re,c:je,cRel:De,rRel:Be}}function parse_PtgArea(Ce,Re,je){var Be=(Ce[Ce.l++]&96)>>5,De=parse_RgceArea(Ce,je.biff>=2&&je.biff<=5?6:8,je);return[Be,De]}function parse_PtgArea3d(Ce,Re,je){var Be=(Ce[Ce.l++]&96)>>5,De=Ce.read_shift(2,"i"),Fe=8;if(je)switch(je.biff){case 5:Ce.l+=12,Fe=6;break;case 12:Fe=12;break}var Oe=parse_RgceArea(Ce,Fe,je);return[Be,De,Oe]}function parse_PtgAreaErr(Ce,Re,je){var Be=(Ce[Ce.l++]&96)>>5;return Ce.l+=je&&je.biff>8?12:je.biff<8?6:8,[Be]}function parse_PtgAreaErr3d(Ce,Re,je){var Be=(Ce[Ce.l++]&96)>>5,De=Ce.read_shift(2),Fe=8;if(je)switch(je.biff){case 5:Ce.l+=12,Fe=6;break;case 12:Fe=12;break}return Ce.l+=Fe,[Be,De]}function parse_PtgAreaN(Ce,Re,je){var Be=(Ce[Ce.l++]&96)>>5,De=parse_RgceAreaRel(Ce,Re-1,je);return[Be,De]}function parse_PtgArray(Ce,Re,je){var Be=(Ce[Ce.l++]&96)>>5;return Ce.l+=je.biff==2?6:je.biff==12?14:7,[Be]}function parse_PtgAttrBaxcel(Ce){var Re=Ce[Ce.l+1]&1,je=1;return Ce.l+=4,[Re,je]}function parse_PtgAttrChoose(Ce,Re,je){Ce.l+=2;for(var Be=Ce.read_shift(je&&je.biff==2?1:2),De=[],Fe=0;Fe<=Be;++Fe)De.push(Ce.read_shift(je&&je.biff==2?1:2));return De}function parse_PtgAttrGoto(Ce,Re,je){var Be=Ce[Ce.l+1]&255?1:0;return Ce.l+=2,[Be,Ce.read_shift(je&&je.biff==2?1:2)]}function parse_PtgAttrIf(Ce,Re,je){var Be=Ce[Ce.l+1]&255?1:0;return Ce.l+=2,[Be,Ce.read_shift(je&&je.biff==2?1:2)]}function parse_PtgAttrIfError(Ce){var Re=Ce[Ce.l+1]&255?1:0;return Ce.l+=2,[Re,Ce.read_shift(2)]}function parse_PtgAttrSemi(Ce,Re,je){var Be=Ce[Ce.l+1]&255?1:0;return Ce.l+=je&&je.biff==2?3:4,[Be]}function parse_PtgAttrSpaceType(Ce){var Re=Ce.read_shift(1),je=Ce.read_shift(1);return[Re,je]}function parse_PtgAttrSpace(Ce){return Ce.read_shift(2),parse_PtgAttrSpaceType(Ce)}function parse_PtgAttrSpaceSemi(Ce){return Ce.read_shift(2),parse_PtgAttrSpaceType(Ce)}function parse_PtgRef(Ce,Re,je){var Be=(Ce[Ce.l]&96)>>5;Ce.l+=1;var De=parse_RgceLoc(Ce,0,je);return[Be,De]}function parse_PtgRefN(Ce,Re,je){var Be=(Ce[Ce.l]&96)>>5;Ce.l+=1;var De=parse_RgceLocRel(Ce,0,je);return[Be,De]}function parse_PtgRef3d(Ce,Re,je){var Be=(Ce[Ce.l]&96)>>5;Ce.l+=1;var De=Ce.read_shift(2);je&&je.biff==5&&(Ce.l+=12);var Fe=parse_RgceLoc(Ce,0,je);return[Be,De,Fe]}function parse_PtgFunc(Ce,Re,je){var Be=(Ce[Ce.l]&96)>>5;Ce.l+=1;var De=Ce.read_shift(je&&je.biff<=3?1:2);return[FtabArgc[De],Ftab[De],Be]}function parse_PtgFuncVar(Ce,Re,je){var Be=Ce[Ce.l++],De=Ce.read_shift(1),Fe=je&&je.biff<=3?[Be==88?-1:0,Ce.read_shift(1)]:parsetab(Ce);return[De,(Fe[0]===0?Ftab:Cetab)[Fe[1]]]}function parsetab(Ce){return[Ce[Ce.l+1]>>7,Ce.read_shift(2)&32767]}function parse_PtgAttrSum(Ce,Re,je){Ce.l+=je&&je.biff==2?3:4}function parse_PtgExp(Ce,Re,je){if(Ce.l++,je&&je.biff==12)return[Ce.read_shift(4,"i"),0];var Be=Ce.read_shift(2),De=Ce.read_shift(je&&je.biff==2?1:2);return[Be,De]}function parse_PtgErr(Ce){return Ce.l++,BErr[Ce.read_shift(1)]}function parse_PtgInt(Ce){return Ce.l++,Ce.read_shift(2)}function parse_PtgBool(Ce){return Ce.l++,Ce.read_shift(1)!==0}function parse_PtgNum(Ce){return Ce.l++,parse_Xnum(Ce)}function parse_PtgStr(Ce,Re,je){return Ce.l++,parse_ShortXLUnicodeString(Ce,Re-1,je)}function parse_SerAr(Ce,Re){var je=[Ce.read_shift(1)];if(Re==12)switch(je[0]){case 2:je[0]=4;break;case 4:je[0]=16;break;case 0:je[0]=1;break;case 1:je[0]=2;break}switch(je[0]){case 4:je[1]=parsebool(Ce,1)?"TRUE":"FALSE",Re!=12&&(Ce.l+=7);break;case 37:case 16:je[1]=BErr[Ce[Ce.l]],Ce.l+=Re==12?4:8;break;case 0:Ce.l+=8;break;case 1:je[1]=parse_Xnum(Ce);break;case 2:je[1]=parse_XLUnicodeString2(Ce,0,{biff:Re>0&&Re<8?2:Re});break;default:throw new Error("Bad SerAr: "+je[0])}return je}function parse_PtgExtraMem(Ce,Re,je){for(var Be=Ce.read_shift(je.biff==12?4:2),De=[],Fe=0;Fe!=Be;++Fe)De.push((je.biff==12?parse_UncheckedRfX:parse_Ref8U)(Ce));return De}function parse_PtgExtraArray(Ce,Re,je){var Be=0,De=0;je.biff==12?(Be=Ce.read_shift(4),De=Ce.read_shift(4)):(De=1+Ce.read_shift(1),Be=1+Ce.read_shift(2)),je.biff>=2&&je.biff<8&&(--Be,--De==0&&(De=256));for(var Fe=0,Oe=[];Fe!=Be&&(Oe[Fe]=[]);++Fe)for(var ke=0;ke!=De;++ke)Oe[Fe][ke]=parse_SerAr(Ce,je.biff);return Oe}function parse_PtgName(Ce,Re,je){var Be=Ce.read_shift(1)>>>5&3,De=!je||je.biff>=8?4:2,Fe=Ce.read_shift(De);switch(je.biff){case 2:Ce.l+=5;break;case 3:case 4:Ce.l+=8;break;case 5:Ce.l+=12;break}return[Be,0,Fe]}function parse_PtgNameX(Ce,Re,je){if(je.biff==5)return parse_PtgNameX_BIFF5(Ce);var Be=Ce.read_shift(1)>>>5&3,De=Ce.read_shift(2),Fe=Ce.read_shift(4);return[Be,De,Fe]}function parse_PtgNameX_BIFF5(Ce){var Re=Ce.read_shift(1)>>>5&3,je=Ce.read_shift(2,"i");Ce.l+=8;var Be=Ce.read_shift(2);return Ce.l+=12,[Re,je,Be]}function parse_PtgMemArea(Ce,Re,je){var Be=Ce.read_shift(1)>>>5&3;Ce.l+=je&&je.biff==2?3:4;var De=Ce.read_shift(je&&je.biff==2?1:2);return[Be,De]}function parse_PtgMemFunc(Ce,Re,je){var Be=Ce.read_shift(1)>>>5&3,De=Ce.read_shift(je&&je.biff==2?1:2);return[Be,De]}function parse_PtgRefErr(Ce,Re,je){var Be=Ce.read_shift(1)>>>5&3;return Ce.l+=4,je.biff<8&&Ce.l--,je.biff==12&&(Ce.l+=2),[Be]}function parse_PtgRefErr3d(Ce,Re,je){var Be=(Ce[Ce.l++]&96)>>5,De=Ce.read_shift(2),Fe=4;if(je)switch(je.biff){case 5:Fe=15;break;case 12:Fe=6;break}return Ce.l+=Fe,[Be,De]}var parse_PtgMemErr=parsenoop,parse_PtgMemNoMem=parsenoop,parse_PtgTbl=parsenoop;function parse_PtgElfLoc(Ce,Re,je){return Ce.l+=2,[parse_RgceElfLoc(Ce)]}function parse_PtgElfNoop(Ce){return Ce.l+=6,[]}var parse_PtgElfCol=parse_PtgElfLoc,parse_PtgElfColS=parse_PtgElfNoop,parse_PtgElfColSV=parse_PtgElfNoop,parse_PtgElfColV=parse_PtgElfLoc;function parse_PtgElfLel(Ce){return Ce.l+=2,[parseuint16(Ce),Ce.read_shift(2)&1]}var parse_PtgElfRadical=parse_PtgElfLoc,parse_PtgElfRadicalLel=parse_PtgElfLel,parse_PtgElfRadicalS=parse_PtgElfNoop,parse_PtgElfRw=parse_PtgElfLoc,parse_PtgElfRwV=parse_PtgElfLoc,PtgListRT=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function parse_PtgList(Ce){Ce.l+=2;var Re=Ce.read_shift(2),je=Ce.read_shift(2),Be=Ce.read_shift(4),De=Ce.read_shift(2),Fe=Ce.read_shift(2),Oe=PtgListRT[je>>2&31];return{ixti:Re,coltype:je&3,rt:Oe,idx:Be,c:De,C:Fe}}function parse_PtgSxName(Ce){return Ce.l+=2,[Ce.read_shift(4)]}function parse_PtgSheet(Ce,Re,je){return Ce.l+=5,Ce.l+=2,Ce.l+=je.biff==2?1:4,["PTGSHEET"]}function parse_PtgEndSheet(Ce,Re,je){return Ce.l+=je.biff==2?4:5,["PTGENDSHEET"]}function parse_PtgMemAreaN(Ce){var Re=Ce.read_shift(1)>>>5&3,je=Ce.read_shift(2);return[Re,je]}function parse_PtgMemNoMemN(Ce){var Re=Ce.read_shift(1)>>>5&3,je=Ce.read_shift(2);return[Re,je]}function parse_PtgAttrNoop(Ce){return Ce.l+=4,[0,0]}var PtgTypes={1:{n:"PtgExp",f:parse_PtgExp},2:{n:"PtgTbl",f:parse_PtgTbl},3:{n:"PtgAdd",f:parseread1},4:{n:"PtgSub",f:parseread1},5:{n:"PtgMul",f:parseread1},6:{n:"PtgDiv",f:parseread1},7:{n:"PtgPower",f:parseread1},8:{n:"PtgConcat",f:parseread1},9:{n:"PtgLt",f:parseread1},10:{n:"PtgLe",f:parseread1},11:{n:"PtgEq",f:parseread1},12:{n:"PtgGe",f:parseread1},13:{n:"PtgGt",f:parseread1},14:{n:"PtgNe",f:parseread1},15:{n:"PtgIsect",f:parseread1},16:{n:"PtgUnion",f:parseread1},17:{n:"PtgRange",f:parseread1},18:{n:"PtgUplus",f:parseread1},19:{n:"PtgUminus",f:parseread1},20:{n:"PtgPercent",f:parseread1},21:{n:"PtgParen",f:parseread1},22:{n:"PtgMissArg",f:parseread1},23:{n:"PtgStr",f:parse_PtgStr},26:{n:"PtgSheet",f:parse_PtgSheet},27:{n:"PtgEndSheet",f:parse_PtgEndSheet},28:{n:"PtgErr",f:parse_PtgErr},29:{n:"PtgBool",f:parse_PtgBool},30:{n:"PtgInt",f:parse_PtgInt},31:{n:"PtgNum",f:parse_PtgNum},32:{n:"PtgArray",f:parse_PtgArray},33:{n:"PtgFunc",f:parse_PtgFunc},34:{n:"PtgFuncVar",f:parse_PtgFuncVar},35:{n:"PtgName",f:parse_PtgName},36:{n:"PtgRef",f:parse_PtgRef},37:{n:"PtgArea",f:parse_PtgArea},38:{n:"PtgMemArea",f:parse_PtgMemArea},39:{n:"PtgMemErr",f:parse_PtgMemErr},40:{n:"PtgMemNoMem",f:parse_PtgMemNoMem},41:{n:"PtgMemFunc",f:parse_PtgMemFunc},42:{n:"PtgRefErr",f:parse_PtgRefErr},43:{n:"PtgAreaErr",f:parse_PtgAreaErr},44:{n:"PtgRefN",f:parse_PtgRefN},45:{n:"PtgAreaN",f:parse_PtgAreaN},46:{n:"PtgMemAreaN",f:parse_PtgMemAreaN},47:{n:"PtgMemNoMemN",f:parse_PtgMemNoMemN},57:{n:"PtgNameX",f:parse_PtgNameX},58:{n:"PtgRef3d",f:parse_PtgRef3d},59:{n:"PtgArea3d",f:parse_PtgArea3d},60:{n:"PtgRefErr3d",f:parse_PtgRefErr3d},61:{n:"PtgAreaErr3d",f:parse_PtgAreaErr3d},255:{}},PtgDupes={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ptg18={1:{n:"PtgElfLel",f:parse_PtgElfLel},2:{n:"PtgElfRw",f:parse_PtgElfRw},3:{n:"PtgElfCol",f:parse_PtgElfCol},6:{n:"PtgElfRwV",f:parse_PtgElfRwV},7:{n:"PtgElfColV",f:parse_PtgElfColV},10:{n:"PtgElfRadical",f:parse_PtgElfRadical},11:{n:"PtgElfRadicalS",f:parse_PtgElfRadicalS},13:{n:"PtgElfColS",f:parse_PtgElfColS},15:{n:"PtgElfColSV",f:parse_PtgElfColSV},16:{n:"PtgElfRadicalLel",f:parse_PtgElfRadicalLel},25:{n:"PtgList",f:parse_PtgList},29:{n:"PtgSxName",f:parse_PtgSxName},255:{}},Ptg19={0:{n:"PtgAttrNoop",f:parse_PtgAttrNoop},1:{n:"PtgAttrSemi",f:parse_PtgAttrSemi},2:{n:"PtgAttrIf",f:parse_PtgAttrIf},4:{n:"PtgAttrChoose",f:parse_PtgAttrChoose},8:{n:"PtgAttrGoto",f:parse_PtgAttrGoto},16:{n:"PtgAttrSum",f:parse_PtgAttrSum},32:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},33:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},64:{n:"PtgAttrSpace",f:parse_PtgAttrSpace},65:{n:"PtgAttrSpaceSemi",f:parse_PtgAttrSpaceSemi},128:{n:"PtgAttrIfError",f:parse_PtgAttrIfError},255:{}};function parse_RgbExtra(Ce,Re,je,Be){if(Be.biff<8)return parsenoop(Ce,Re);for(var De=Ce.l+Re,Fe=[],Oe=0;Oe!==je.length;++Oe)switch(je[Oe][0]){case"PtgArray":je[Oe][1]=parse_PtgExtraArray(Ce,0,Be),Fe.push(je[Oe][1]);break;case"PtgMemArea":je[Oe][2]=parse_PtgExtraMem(Ce,je[Oe][1],Be),Fe.push(je[Oe][2]);break;case"PtgExp":Be&&Be.biff==12&&(je[Oe][1][1]=Ce.read_shift(4),Fe.push(je[Oe][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+je[Oe][0]}return Re=De-Ce.l,Re!==0&&Fe.push(parsenoop(Ce,Re)),Fe}function parse_Rgce(Ce,Re,je){for(var Be=Ce.l+Re,De,Fe,Oe=[];Be!=Ce.l;)Re=Be-Ce.l,Fe=Ce[Ce.l],De=PtgTypes[Fe]||PtgTypes[PtgDupes[Fe]],(Fe===24||Fe===25)&&(De=(Fe===24?Ptg18:Ptg19)[Ce[Ce.l+1]]),!De||!De.f?parsenoop(Ce,Re):Oe.push([De.n,De.f(Ce,Re,je)]);return Oe}function stringify_array(Ce){for(var Re=[],je=0;je<Ce.length;++je){for(var Be=Ce[je],De=[],Fe=0;Fe<Be.length;++Fe){var Oe=Be[Fe];if(Oe)switch(Oe[0]){case 2:De.push('"'+Oe[1].replace(/"/g,'""')+'"');break;default:De.push(Oe[1])}else De.push("")}Re.push(De.join(","))}return Re.join(";")}var PtgBinOp={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function formula_quote_sheet_name(Ce,Re){if(!Ce&&!(Re&&Re.biff<=5&&Re.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(Ce)?"'"+Ce+"'":Ce}function get_ixti_raw(Ce,Re,je){if(!Ce)return"SH33TJSERR0";if(je.biff>8&&(!Ce.XTI||!Ce.XTI[Re]))return Ce.SheetNames[Re];if(!Ce.XTI)return"SH33TJSERR6";var Be=Ce.XTI[Re];if(je.biff<8)return Re>1e4&&(Re-=65536),Re<0&&(Re=-Re),Re==0?"":Ce.XTI[Re-1];if(!Be)return"SH33TJSERR1";var De="";if(je.biff>8)switch(Ce[Be[0]][0]){case 357:return De=Be[1]==-1?"#REF":Ce.SheetNames[Be[1]],Be[1]==Be[2]?De:De+":"+Ce.SheetNames[Be[2]];case 358:return je.SID!=null?Ce.SheetNames[je.SID]:"SH33TJSSAME"+Ce[Be[0]][0];case 355:default:return"SH33TJSSRC"+Ce[Be[0]][0]}switch(Ce[Be[0]][0][0]){case 1025:return De=Be[1]==-1?"#REF":Ce.SheetNames[Be[1]]||"SH33TJSERR3",Be[1]==Be[2]?De:De+":"+Ce.SheetNames[Be[2]];case 14849:return Ce[Be[0]].slice(1).map(function(Fe){return Fe.Name}).join(";;");default:return Ce[Be[0]][0][3]?(De=Be[1]==-1?"#REF":Ce[Be[0]][0][3][Be[1]]||"SH33TJSERR4",Be[1]==Be[2]?De:De+":"+Ce[Be[0]][0][3][Be[2]]):"SH33TJSERR2"}}function get_ixti(Ce,Re,je){var Be=get_ixti_raw(Ce,Re,je);return Be=="#REF"?Be:formula_quote_sheet_name(Be,je)}function stringify_formula(Ce,Re,je,Be,De){var Fe=De&&De.biff||8,Oe={s:{c:0,r:0}},ke=[],Me,Ue,$e,He=0,Qe=0,We,qe="";if(!Ce[0]||!Ce[0][0])return"";for(var Ke=-1,Xe="",Ye=0,Ze=Ce[0].length;Ye<Ze;++Ye){var Je=Ce[0][Ye];switch(Je[0]){case"PtgUminus":ke.push("-"+ke.pop());break;case"PtgUplus":ke.push("+"+ke.pop());break;case"PtgPercent":ke.push(ke.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(Me=ke.pop(),Ue=ke.pop(),Ke>=0){switch(Ce[0][Ke][1][0]){case 0:Xe=fill(" ",Ce[0][Ke][1][1]);break;case 1:Xe=fill("\r",Ce[0][Ke][1][1]);break;default:if(Xe="",De.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Ce[0][Ke][1][0])}Ue=Ue+Xe,Ke=-1}ke.push(Ue+PtgBinOp[Je[0]]+Me);break;case"PtgIsect":Me=ke.pop(),Ue=ke.pop(),ke.push(Ue+" "+Me);break;case"PtgUnion":Me=ke.pop(),Ue=ke.pop(),ke.push(Ue+","+Me);break;case"PtgRange":Me=ke.pop(),Ue=ke.pop(),ke.push(Ue+":"+Me);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":$e=shift_cell_xls(Je[1][1],Oe,De),ke.push(encode_cell_xls($e,Fe));break;case"PtgRefN":$e=je?shift_cell_xls(Je[1][1],je,De):Je[1][1],ke.push(encode_cell_xls($e,Fe));break;case"PtgRef3d":He=Je[1][1],$e=shift_cell_xls(Je[1][2],Oe,De),qe=get_ixti(Be,He,De),ke.push(qe+"!"+encode_cell_xls($e,Fe));break;case"PtgFunc":case"PtgFuncVar":var tr=Je[1][0],rr=Je[1][1];tr||(tr=0),tr&=127;var ar=tr==0?[]:ke.slice(-tr);ke.length-=tr,rr==="User"&&(rr=ar.shift()),ke.push(rr+"("+ar.join(",")+")");break;case"PtgBool":ke.push(Je[1]?"TRUE":"FALSE");break;case"PtgInt":ke.push(Je[1]);break;case"PtgNum":ke.push(String(Je[1]));break;case"PtgStr":ke.push('"'+Je[1].replace(/"/g,'""')+'"');break;case"PtgErr":ke.push(Je[1]);break;case"PtgAreaN":We=shift_range_xls(Je[1][1],je?{s:je}:Oe,De),ke.push(encode_range_xls(We,De));break;case"PtgArea":We=shift_range_xls(Je[1][1],Oe,De),ke.push(encode_range_xls(We,De));break;case"PtgArea3d":He=Je[1][1],We=Je[1][2],qe=get_ixti(Be,He,De),ke.push(qe+"!"+encode_range_xls(We,De));break;case"PtgAttrSum":ke.push("SUM("+ke.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":Qe=Je[1][2];var nr=(Be.names||[])[Qe-1]||(Be[0]||[])[Qe],sr=nr?nr.Name:"SH33TJSNAME"+String(Qe);sr&&sr.slice(0,6)=="_xlfn."&&!De.xlfn&&(sr=sr.slice(6)),ke.push(sr);break;case"PtgNameX":var dr=Je[1][1];Qe=Je[1][2];var _r;if(De.biff<=5)dr<0&&(dr=-dr),Be[dr]&&(_r=Be[dr][Qe]);else{var fr="";if(((Be[dr]||[])[0]||[])[0]==14849||(((Be[dr]||[])[0]||[])[0]==1025?Be[dr][Qe]&&Be[dr][Qe].itab>0&&(fr=Be.SheetNames[Be[dr][Qe].itab-1]+"!"):fr=Be.SheetNames[Qe-1]+"!"),Be[dr]&&Be[dr][Qe])fr+=Be[dr][Qe].Name;else if(Be[0]&&Be[0][Qe])fr+=Be[0][Qe].Name;else{var or=(get_ixti_raw(Be,dr,De)||"").split(";;");or[Qe-1]?fr=or[Qe-1]:fr+="SH33TJSERRX"}ke.push(fr);break}_r||(_r={Name:"SH33TJSERRY"}),ke.push(_r.Name);break;case"PtgParen":var Er="(",Rr=")";if(Ke>=0){switch(Xe="",Ce[0][Ke][1][0]){case 2:Er=fill(" ",Ce[0][Ke][1][1])+Er;break;case 3:Er=fill("\r",Ce[0][Ke][1][1])+Er;break;case 4:Rr=fill(" ",Ce[0][Ke][1][1])+Rr;break;case 5:Rr=fill("\r",Ce[0][Ke][1][1])+Rr;break;default:if(De.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Ce[0][Ke][1][0])}Ke=-1}ke.push(Er+ke.pop()+Rr);break;case"PtgRefErr":ke.push("#REF!");break;case"PtgRefErr3d":ke.push("#REF!");break;case"PtgExp":$e={c:Je[1][1],r:Je[1][0]};var jr={c:je.c,r:je.r};if(Be.sharedf[encode_cell($e)]){var xr=Be.sharedf[encode_cell($e)];ke.push(stringify_formula(xr,Oe,jr,Be,De))}else{var Pr=!1;for(Me=0;Me!=Be.arrayf.length;++Me)if(Ue=Be.arrayf[Me],!($e.c<Ue[0].s.c||$e.c>Ue[0].e.c)&&!($e.r<Ue[0].s.r||$e.r>Ue[0].e.r)){ke.push(stringify_formula(Ue[1],Oe,jr,Be,De)),Pr=!0;break}Pr||ke.push(Je[1])}break;case"PtgArray":ke.push("{"+stringify_array(Je[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":Ke=Ye;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":ke.push("");break;case"PtgAreaErr":ke.push("#REF!");break;case"PtgAreaErr3d":ke.push("#REF!");break;case"PtgList":ke.push("Table"+Je[1].idx+"[#"+Je[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(Je));default:throw new Error("Unrecognized Formula Token: "+String(Je))}var br=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(De.biff!=3&&Ke>=0&&br.indexOf(Ce[0][Ye][0])==-1){Je=Ce[0][Ke];var wr=!0;switch(Je[1][0]){case 4:wr=!1;case 0:Xe=fill(" ",Je[1][1]);break;case 5:wr=!1;case 1:Xe=fill("\r",Je[1][1]);break;default:if(Xe="",De.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Je[1][0])}ke.push((wr?Xe:"")+ke.pop()+(wr?"":Xe)),Ke=-1}}if(ke.length>1&&De.WTF)throw new Error("bad formula stack");return ke[0]}function write_FormulaValue(Ce){if(Ce==null){var Re=new_buf(8);return Re.write_shift(1,3),Re.write_shift(1,0),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,65535),Re}else if(typeof Ce=="number")return write_Xnum(Ce);return write_Xnum(0)}function write_Formula(Ce,Re,je,Be,De){var Fe=write_XLSCell(Re,je,De),Oe=write_FormulaValue(Ce.v),ke=new_buf(6),Me=33;ke.write_shift(2,Me),ke.write_shift(4,0);for(var Ue=new_buf(Ce.bf.length),$e=0;$e<Ce.bf.length;++$e)Ue[$e]=Ce.bf[$e];var He=bconcat([Fe,Oe,ke,Ue]);return He}function parse_XLSBParsedFormula(Ce,Re,je){var Be=Ce.read_shift(4),De=parse_Rgce(Ce,Be,je),Fe=Ce.read_shift(4),Oe=Fe>0?parse_RgbExtra(Ce,Fe,De,je):null;return[De,Oe]}var parse_XLSBArrayParsedFormula=parse_XLSBParsedFormula,parse_XLSBCellParsedFormula=parse_XLSBParsedFormula,parse_XLSBNameParsedFormula=parse_XLSBParsedFormula,parse_XLSBSharedParsedFormula=parse_XLSBParsedFormula,Cetab={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ftab={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FtabArgc={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function csf_to_ods_formula(Ce){var Re="of:="+Ce.replace(crefregex,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return Re.replace(/;/g,"|").replace(/,/g,";")}function csf_to_ods_3D(Ce){return Ce.replace(/\./,"!")}var browser_has_Map=typeof Map<"u";function get_sst_id(Ce,Re,je){var Be=0,De=Ce.length;if(je){if(browser_has_Map?je.has(Re):Object.prototype.hasOwnProperty.call(je,Re)){for(var Fe=browser_has_Map?je.get(Re):je[Re];Be<Fe.length;++Be)if(Ce[Fe[Be]].t===Re)return Ce.Count++,Fe[Be]}}else for(;Be<De;++Be)if(Ce[Be].t===Re)return Ce.Count++,Be;return Ce[De]={t:Re},Ce.Count++,Ce.Unique++,je&&(browser_has_Map?(je.has(Re)||je.set(Re,[]),je.get(Re).push(De)):(Object.prototype.hasOwnProperty.call(je,Re)||(je[Re]=[]),je[Re].push(De))),De}function col_obj_w(Ce,Re){var je={min:Ce+1,max:Ce+1},Be=-1;return Re.MDW&&(MDW=Re.MDW),Re.width!=null?je.customWidth=1:Re.wpx!=null?Be=px2char(Re.wpx):Re.wch!=null&&(Be=Re.wch),Be>-1?(je.width=char2width(Be),je.customWidth=1):Re.width!=null&&(je.width=Re.width),Re.hidden&&(je.hidden=!0),Re.level!=null&&(je.outlineLevel=je.level=Re.level),je}function default_margins(Ce,Re){if(Ce){var je=[.7,.7,.75,.75,.3,.3];Ce.left==null&&(Ce.left=je[0]),Ce.right==null&&(Ce.right=je[1]),Ce.top==null&&(Ce.top=je[2]),Ce.bottom==null&&(Ce.bottom=je[3]),Ce.header==null&&(Ce.header=je[4]),Ce.footer==null&&(Ce.footer=je[5])}}function get_cell_style(Ce,Re,je){var Be=je.revssf[Re.z!=null?Re.z:"General"],De=60,Fe=Ce.length;if(Be==null&&je.ssf){for(;De<392;++De)if(je.ssf[De]==null){SSF_load(Re.z,De),je.ssf[De]=Re.z,je.revssf[Re.z]=Be=De;break}}for(De=0;De!=Fe;++De)if(Ce[De].numFmtId===Be)return De;return Ce[Fe]={numFmtId:Be,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},Fe}function check_ws(Ce,Re,je){if(Ce&&Ce["!ref"]){var Be=safe_decode_range(Ce["!ref"]);if(Be.e.c<Be.s.c||Be.e.r<Be.s.r)throw new Error("Bad range ("+je+"): "+Ce["!ref"])}}function write_ws_xml_merges(Ce){if(Ce.length===0)return"";for(var Re='<mergeCells count="'+Ce.length+'">',je=0;je!=Ce.length;++je)Re+='<mergeCell ref="'+encode_range(Ce[je])+'"/>';return Re+"</mergeCells>"}function write_ws_xml_sheetpr(Ce,Re,je,Be,De){var Fe=!1,Oe={},ke=null;if(Be.bookType!=="xlsx"&&Re.vbaraw){var Me=Re.SheetNames[je];try{Re.Workbook&&(Me=Re.Workbook.Sheets[je].CodeName||Me)}catch{}Fe=!0,Oe.codeName=utf8write(escapexml(Me))}if(Ce&&Ce["!outline"]){var Ue={summaryBelow:1,summaryRight:1};Ce["!outline"].above&&(Ue.summaryBelow=0),Ce["!outline"].left&&(Ue.summaryRight=0),ke=(ke||"")+writextag("outlinePr",null,Ue)}!Fe&&!ke||(De[De.length]=writextag("sheetPr",ke,Oe))}var sheetprot_deffalse=["objects","scenarios","selectLockedCells","selectUnlockedCells"],sheetprot_deftrue=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function write_ws_xml_protection(Ce){var Re={sheet:1};return sheetprot_deffalse.forEach(function(je){Ce[je]!=null&&Ce[je]&&(Re[je]="1")}),sheetprot_deftrue.forEach(function(je){Ce[je]!=null&&!Ce[je]&&(Re[je]="0")}),Ce.password&&(Re.password=crypto_CreatePasswordVerifier_Method1(Ce.password).toString(16).toUpperCase()),writextag("sheetProtection",null,Re)}function write_ws_xml_margins(Ce){return default_margins(Ce),writextag("pageMargins",null,Ce)}function write_ws_xml_cols(Ce,Re){for(var je=["<cols>"],Be,De=0;De!=Re.length;++De)(Be=Re[De])&&(je[je.length]=writextag("col",null,col_obj_w(De,Be)));return je[je.length]="</cols>",je.join("")}function write_ws_xml_autofilter(Ce,Re,je,Be){var De=typeof Ce.ref=="string"?Ce.ref:encode_range(Ce.ref);je.Workbook||(je.Workbook={Sheets:[]}),je.Workbook.Names||(je.Workbook.Names=[]);var Fe=je.Workbook.Names,Oe=decode_range(De);Oe.s.r==Oe.e.r&&(Oe.e.r=decode_range(Re["!ref"]).e.r,De=encode_range(Oe));for(var ke=0;ke<Fe.length;++ke){var Me=Fe[ke];if(Me.Name=="_xlnm._FilterDatabase"&&Me.Sheet==Be){Me.Ref="'"+je.SheetNames[Be]+"'!"+De;break}}return ke==Fe.length&&Fe.push({Name:"_xlnm._FilterDatabase",Sheet:Be,Ref:"'"+je.SheetNames[Be]+"'!"+De}),writextag("autoFilter",null,{ref:De})}function write_ws_xml_sheetviews(Ce,Re,je,Be){var De={workbookViewId:"0"};return(((Be||{}).Workbook||{}).Views||[])[0]&&(De.rightToLeft=Be.Workbook.Views[0].RTL?"1":"0"),writextag("sheetViews",writextag("sheetView",null,De),{})}function write_ws_xml_cell(Ce,Re,je,Be){if(Ce.c&&je["!comments"].push([Re,Ce.c]),Ce.v===void 0&&typeof Ce.f!="string"||Ce.t==="z"&&!Ce.f)return"";var De="",Fe=Ce.t,Oe=Ce.v;if(Ce.t!=="z")switch(Ce.t){case"b":De=Ce.v?"1":"0";break;case"n":De=""+Ce.v;break;case"e":De=BErr[Ce.v];break;case"d":Be&&Be.cellDates?De=parseDate(Ce.v,-1).toISOString():(Ce=dup(Ce),Ce.t="n",De=""+(Ce.v=datenum(parseDate(Ce.v)))),typeof Ce.z>"u"&&(Ce.z=table_fmt[14]);break;default:De=Ce.v;break}var ke=writetag("v",escapexml(De)),Me={r:Re},Ue=get_cell_style(Be.cellXfs,Ce,Be);switch(Ue!==0&&(Me.s=Ue),Ce.t){case"n":break;case"d":Me.t="d";break;case"b":Me.t="b";break;case"e":Me.t="e";break;case"z":break;default:if(Ce.v==null){delete Ce.t;break}if(Ce.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(Be&&Be.bookSST){ke=writetag("v",""+get_sst_id(Be.Strings,Ce.v,Be.revStrings)),Me.t="s";break}Me.t="str";break}if(Ce.t!=Fe&&(Ce.t=Fe,Ce.v=Oe),typeof Ce.f=="string"&&Ce.f){var $e=Ce.F&&Ce.F.slice(0,Re.length)==Re?{t:"array",ref:Ce.F}:null;ke=writextag("f",escapexml(Ce.f),$e)+(Ce.v!=null?ke:"")}return Ce.l&&je["!links"].push([Re,Ce.l]),Ce.D&&(Me.cm=1),writextag("c",ke,Me)}function write_ws_xml_data(Ce,Re,je,Be){var De=[],Fe=[],Oe=safe_decode_range(Ce["!ref"]),ke="",Me,Ue="",$e=[],He=0,Qe=0,We=Ce["!rows"],qe=Array.isArray(Ce),Ke={r:Ue},Xe,Ye=-1;for(Qe=Oe.s.c;Qe<=Oe.e.c;++Qe)$e[Qe]=encode_col(Qe);for(He=Oe.s.r;He<=Oe.e.r;++He){for(Fe=[],Ue=encode_row(He),Qe=Oe.s.c;Qe<=Oe.e.c;++Qe){Me=$e[Qe]+Ue;var Ze=qe?(Ce[He]||[])[Qe]:Ce[Me];Ze!==void 0&&(ke=write_ws_xml_cell(Ze,Me,Ce,Re))!=null&&Fe.push(ke)}(Fe.length>0||We&&We[He])&&(Ke={r:Ue},We&&We[He]&&(Xe=We[He],Xe.hidden&&(Ke.hidden=1),Ye=-1,Xe.hpx?Ye=px2pt(Xe.hpx):Xe.hpt&&(Ye=Xe.hpt),Ye>-1&&(Ke.ht=Ye,Ke.customHeight=1),Xe.level&&(Ke.outlineLevel=Xe.level)),De[De.length]=writextag("row",Fe.join(""),Ke))}if(We)for(;He<We.length;++He)We&&We[He]&&(Ke={r:He+1},Xe=We[He],Xe.hidden&&(Ke.hidden=1),Ye=-1,Xe.hpx?Ye=px2pt(Xe.hpx):Xe.hpt&&(Ye=Xe.hpt),Ye>-1&&(Ke.ht=Ye,Ke.customHeight=1),Xe.level&&(Ke.outlineLevel=Xe.level),De[De.length]=writextag("row","",Ke));return De.join("")}function write_ws_xml(Ce,Re,je,Be){var De=[XML_HEADER,writextag("worksheet",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r})],Fe=je.SheetNames[Ce],Oe=0,ke="",Me=je.Sheets[Fe];Me==null&&(Me={});var Ue=Me["!ref"]||"A1",$e=safe_decode_range(Ue);if($e.e.c>16383||$e.e.r>1048575){if(Re.WTF)throw new Error("Range "+Ue+" exceeds format limit A1:XFD1048576");$e.e.c=Math.min($e.e.c,16383),$e.e.r=Math.min($e.e.c,1048575),Ue=encode_range($e)}Be||(Be={}),Me["!comments"]=[];var He=[];write_ws_xml_sheetpr(Me,je,Ce,Re,De),De[De.length]=writextag("dimension",null,{ref:Ue}),De[De.length]=write_ws_xml_sheetviews(Me,Re,Ce,je),Re.sheetFormat&&(De[De.length]=writextag("sheetFormatPr",null,{defaultRowHeight:Re.sheetFormat.defaultRowHeight||"16",baseColWidth:Re.sheetFormat.baseColWidth||"10",outlineLevelRow:Re.sheetFormat.outlineLevelRow||"7"})),Me["!cols"]!=null&&Me["!cols"].length>0&&(De[De.length]=write_ws_xml_cols(Me,Me["!cols"])),De[Oe=De.length]="<sheetData/>",Me["!links"]=[],Me["!ref"]!=null&&(ke=write_ws_xml_data(Me,Re),ke.length>0&&(De[De.length]=ke)),De.length>Oe+1&&(De[De.length]="</sheetData>",De[Oe]=De[Oe].replace("/>",">")),Me["!protect"]&&(De[De.length]=write_ws_xml_protection(Me["!protect"])),Me["!autofilter"]!=null&&(De[De.length]=write_ws_xml_autofilter(Me["!autofilter"],Me,je,Ce)),Me["!merges"]!=null&&Me["!merges"].length>0&&(De[De.length]=write_ws_xml_merges(Me["!merges"]));var Qe=-1,We,qe=-1;return Me["!links"].length>0&&(De[De.length]="<hyperlinks>",Me["!links"].forEach(function(Ke){Ke[1].Target&&(We={ref:Ke[0]},Ke[1].Target.charAt(0)!="#"&&(qe=add_rels(Be,-1,escapexml(Ke[1].Target).replace(/#.*$/,""),RELS.HLINK),We["r:id"]="rId"+qe),(Qe=Ke[1].Target.indexOf("#"))>-1&&(We.location=escapexml(Ke[1].Target.slice(Qe+1))),Ke[1].Tooltip&&(We.tooltip=escapexml(Ke[1].Tooltip)),De[De.length]=writextag("hyperlink",null,We))}),De[De.length]="</hyperlinks>"),delete Me["!links"],Me["!margins"]!=null&&(De[De.length]=write_ws_xml_margins(Me["!margins"])),(!Re||Re.ignoreEC||Re.ignoreEC==null)&&(De[De.length]=writetag("ignoredErrors",writextag("ignoredError",null,{numberStoredAsText:1,sqref:Ue}))),He.length>0&&(qe=add_rels(Be,-1,"../drawings/drawing"+(Ce+1)+".xml",RELS.DRAW),De[De.length]=writextag("drawing",null,{"r:id":"rId"+qe}),Me["!drawing"]=He),Me["!comments"].length>0&&(qe=add_rels(Be,-1,"../drawings/vmlDrawing"+(Ce+1)+".vml",RELS.VML),De[De.length]=writextag("legacyDrawing",null,{"r:id":"rId"+qe}),Me["!legacy"]=qe),De.length>1&&(De[De.length]="</worksheet>",De[1]=De[1].replace("/>",">")),De.join("")}function parse_BrtRowHdr(Ce,Re){var je={},Be=Ce.l+Re;je.r=Ce.read_shift(4),Ce.l+=4;var De=Ce.read_shift(2);Ce.l+=1;var Fe=Ce.read_shift(1);return Ce.l=Be,Fe&7&&(je.level=Fe&7),Fe&16&&(je.hidden=!0),Fe&32&&(je.hpt=De/20),je}function write_BrtRowHdr(Ce,Re,je){var Be=new_buf(145),De=(je["!rows"]||[])[Ce]||{};Be.write_shift(4,Ce),Be.write_shift(4,0);var Fe=320;De.hpx?Fe=px2pt(De.hpx)*20:De.hpt&&(Fe=De.hpt*20),Be.write_shift(2,Fe),Be.write_shift(1,0);var Oe=0;De.level&&(Oe|=De.level),De.hidden&&(Oe|=16),(De.hpx||De.hpt)&&(Oe|=32),Be.write_shift(1,Oe),Be.write_shift(1,0);var ke=0,Me=Be.l;Be.l+=4;for(var Ue={r:Ce,c:0},$e=0;$e<16;++$e)if(!(Re.s.c>$e+1<<10||Re.e.c<$e<<10)){for(var He=-1,Qe=-1,We=$e<<10;We<$e+1<<10;++We){Ue.c=We;var qe=Array.isArray(je)?(je[Ue.r]||[])[Ue.c]:je[encode_cell(Ue)];qe&&(He<0&&(He=We),Qe=We)}He<0||(++ke,Be.write_shift(4,He),Be.write_shift(4,Qe))}var Ke=Be.l;return Be.l=Me,Be.write_shift(4,ke),Be.l=Ke,Be.length>Be.l?Be.slice(0,Be.l):Be}function write_row_header(Ce,Re,je,Be){var De=write_BrtRowHdr(Be,je,Re);(De.length>17||(Re["!rows"]||[])[Be])&&write_record(Ce,0,De)}var parse_BrtWsDim=parse_UncheckedRfX,write_BrtWsDim=write_UncheckedRfX;function parse_BrtWsFmtInfo(){}function parse_BrtWsProp(Ce,Re){var je={},Be=Ce[Ce.l];return++Ce.l,je.above=!(Be&64),je.left=!(Be&128),Ce.l+=18,je.name=parse_XLSBCodeName(Ce),je}function write_BrtWsProp(Ce,Re,je){je==null&&(je=new_buf(84+4*Ce.length));var Be=192;Re&&(Re.above&&(Be&=-65),Re.left&&(Be&=-129)),je.write_shift(1,Be);for(var De=1;De<3;++De)je.write_shift(1,0);return write_BrtColor({auto:1},je),je.write_shift(-4,-1),je.write_shift(-4,-1),write_XLSBCodeName(Ce,je),je.slice(0,je.l)}function parse_BrtCellBlank(Ce){var Re=parse_XLSBCell(Ce);return[Re]}function write_BrtCellBlank(Ce,Re,je){return je==null&&(je=new_buf(8)),write_XLSBCell(Re,je)}function parse_BrtShortBlank(Ce){var Re=parse_XLSBShortCell(Ce);return[Re]}function write_BrtShortBlank(Ce,Re,je){return je==null&&(je=new_buf(4)),write_XLSBShortCell(Re,je)}function parse_BrtCellBool(Ce){var Re=parse_XLSBCell(Ce),je=Ce.read_shift(1);return[Re,je,"b"]}function write_BrtCellBool(Ce,Re,je){return je==null&&(je=new_buf(9)),write_XLSBCell(Re,je),je.write_shift(1,Ce.v?1:0),je}function parse_BrtShortBool(Ce){var Re=parse_XLSBShortCell(Ce),je=Ce.read_shift(1);return[Re,je,"b"]}function write_BrtShortBool(Ce,Re,je){return je==null&&(je=new_buf(5)),write_XLSBShortCell(Re,je),je.write_shift(1,Ce.v?1:0),je}function parse_BrtCellError(Ce){var Re=parse_XLSBCell(Ce),je=Ce.read_shift(1);return[Re,je,"e"]}function write_BrtCellError(Ce,Re,je){return je==null&&(je=new_buf(9)),write_XLSBCell(Re,je),je.write_shift(1,Ce.v),je}function parse_BrtShortError(Ce){var Re=parse_XLSBShortCell(Ce),je=Ce.read_shift(1);return[Re,je,"e"]}function write_BrtShortError(Ce,Re,je){return je==null&&(je=new_buf(8)),write_XLSBShortCell(Re,je),je.write_shift(1,Ce.v),je.write_shift(2,0),je.write_shift(1,0),je}function parse_BrtCellIsst(Ce){var Re=parse_XLSBCell(Ce),je=Ce.read_shift(4);return[Re,je,"s"]}function write_BrtCellIsst(Ce,Re,je){return je==null&&(je=new_buf(12)),write_XLSBCell(Re,je),je.write_shift(4,Re.v),je}function parse_BrtShortIsst(Ce){var Re=parse_XLSBShortCell(Ce),je=Ce.read_shift(4);return[Re,je,"s"]}function write_BrtShortIsst(Ce,Re,je){return je==null&&(je=new_buf(8)),write_XLSBShortCell(Re,je),je.write_shift(4,Re.v),je}function parse_BrtCellReal(Ce){var Re=parse_XLSBCell(Ce),je=parse_Xnum(Ce);return[Re,je,"n"]}function write_BrtCellReal(Ce,Re,je){return je==null&&(je=new_buf(16)),write_XLSBCell(Re,je),write_Xnum(Ce.v,je),je}function parse_BrtShortReal(Ce){var Re=parse_XLSBShortCell(Ce),je=parse_Xnum(Ce);return[Re,je,"n"]}function write_BrtShortReal(Ce,Re,je){return je==null&&(je=new_buf(12)),write_XLSBShortCell(Re,je),write_Xnum(Ce.v,je),je}function parse_BrtCellRk(Ce){var Re=parse_XLSBCell(Ce),je=parse_RkNumber(Ce);return[Re,je,"n"]}function write_BrtCellRk(Ce,Re,je){return je==null&&(je=new_buf(12)),write_XLSBCell(Re,je),write_RkNumber(Ce.v,je),je}function parse_BrtShortRk(Ce){var Re=parse_XLSBShortCell(Ce),je=parse_RkNumber(Ce);return[Re,je,"n"]}function write_BrtShortRk(Ce,Re,je){return je==null&&(je=new_buf(8)),write_XLSBShortCell(Re,je),write_RkNumber(Ce.v,je),je}function parse_BrtCellRString(Ce){var Re=parse_XLSBCell(Ce),je=parse_RichStr(Ce);return[Re,je,"is"]}function parse_BrtCellSt(Ce){var Re=parse_XLSBCell(Ce),je=parse_XLWideString(Ce);return[Re,je,"str"]}function write_BrtCellSt(Ce,Re,je){return je==null&&(je=new_buf(12+4*Ce.v.length)),write_XLSBCell(Re,je),write_XLWideString(Ce.v,je),je.length>je.l?je.slice(0,je.l):je}function parse_BrtShortSt(Ce){var Re=parse_XLSBShortCell(Ce),je=parse_XLWideString(Ce);return[Re,je,"str"]}function write_BrtShortSt(Ce,Re,je){return je==null&&(je=new_buf(8+4*Ce.v.length)),write_XLSBShortCell(Re,je),write_XLWideString(Ce.v,je),je.length>je.l?je.slice(0,je.l):je}function parse_BrtFmlaBool(Ce,Re,je){var Be=Ce.l+Re,De=parse_XLSBCell(Ce);De.r=je["!row"];var Fe=Ce.read_shift(1),Oe=[De,Fe,"b"];if(je.cellFormula){Ce.l+=2;var ke=parse_XLSBCellParsedFormula(Ce,Be-Ce.l,je);Oe[3]=stringify_formula(ke,null,De,je.supbooks,je)}else Ce.l=Be;return Oe}function parse_BrtFmlaError(Ce,Re,je){var Be=Ce.l+Re,De=parse_XLSBCell(Ce);De.r=je["!row"];var Fe=Ce.read_shift(1),Oe=[De,Fe,"e"];if(je.cellFormula){Ce.l+=2;var ke=parse_XLSBCellParsedFormula(Ce,Be-Ce.l,je);Oe[3]=stringify_formula(ke,null,De,je.supbooks,je)}else Ce.l=Be;return Oe}function parse_BrtFmlaNum(Ce,Re,je){var Be=Ce.l+Re,De=parse_XLSBCell(Ce);De.r=je["!row"];var Fe=parse_Xnum(Ce),Oe=[De,Fe,"n"];if(je.cellFormula){Ce.l+=2;var ke=parse_XLSBCellParsedFormula(Ce,Be-Ce.l,je);Oe[3]=stringify_formula(ke,null,De,je.supbooks,je)}else Ce.l=Be;return Oe}function parse_BrtFmlaString(Ce,Re,je){var Be=Ce.l+Re,De=parse_XLSBCell(Ce);De.r=je["!row"];var Fe=parse_XLWideString(Ce),Oe=[De,Fe,"str"];if(je.cellFormula){Ce.l+=2;var ke=parse_XLSBCellParsedFormula(Ce,Be-Ce.l,je);Oe[3]=stringify_formula(ke,null,De,je.supbooks,je)}else Ce.l=Be;return Oe}var parse_BrtMergeCell=parse_UncheckedRfX,write_BrtMergeCell=write_UncheckedRfX;function write_BrtBeginMergeCells(Ce,Re){return Re==null&&(Re=new_buf(4)),Re.write_shift(4,Ce),Re}function parse_BrtHLink(Ce,Re){var je=Ce.l+Re,Be=parse_UncheckedRfX(Ce),De=parse_XLNullableWideString(Ce),Fe=parse_XLWideString(Ce),Oe=parse_XLWideString(Ce),ke=parse_XLWideString(Ce);Ce.l=je;var Me={rfx:Be,relId:De,loc:Fe,display:ke};return Oe&&(Me.Tooltip=Oe),Me}function write_BrtHLink(Ce,Re){var je=new_buf(50+4*(Ce[1].Target.length+(Ce[1].Tooltip||"").length));write_UncheckedRfX({s:decode_cell(Ce[0]),e:decode_cell(Ce[0])},je),write_RelID("rId"+Re,je);var Be=Ce[1].Target.indexOf("#"),De=Be==-1?"":Ce[1].Target.slice(Be+1);return write_XLWideString(De||"",je),write_XLWideString(Ce[1].Tooltip||"",je),write_XLWideString("",je),je.slice(0,je.l)}function parse_BrtPane(){}function parse_BrtArrFmla(Ce,Re,je){var Be=Ce.l+Re,De=parse_RfX(Ce),Fe=Ce.read_shift(1),Oe=[De];if(Oe[2]=Fe,je.cellFormula){var ke=parse_XLSBArrayParsedFormula(Ce,Be-Ce.l,je);Oe[1]=ke}else Ce.l=Be;return Oe}function parse_BrtShrFmla(Ce,Re,je){var Be=Ce.l+Re,De=parse_UncheckedRfX(Ce),Fe=[De];if(je.cellFormula){var Oe=parse_XLSBSharedParsedFormula(Ce,Be-Ce.l,je);Fe[1]=Oe,Ce.l=Be}else Ce.l=Be;return Fe}function write_BrtColInfo(Ce,Re,je){je==null&&(je=new_buf(18));var Be=col_obj_w(Ce,Re);je.write_shift(-4,Ce),je.write_shift(-4,Ce),je.write_shift(4,(Be.width||10)*256),je.write_shift(4,0);var De=0;return Re.hidden&&(De|=1),typeof Be.width=="number"&&(De|=2),Re.level&&(De|=Re.level<<8),je.write_shift(2,De),je}var BrtMarginKeys=["left","right","top","bottom","header","footer"];function parse_BrtMargins(Ce){var Re={};return BrtMarginKeys.forEach(function(je){Re[je]=parse_Xnum(Ce)}),Re}function write_BrtMargins(Ce,Re){return Re==null&&(Re=new_buf(48)),default_margins(Ce),BrtMarginKeys.forEach(function(je){write_Xnum(Ce[je],Re)}),Re}function parse_BrtBeginWsView(Ce){var Re=Ce.read_shift(2);return Ce.l+=28,{RTL:Re&32}}function write_BrtBeginWsView(Ce,Re,je){je==null&&(je=new_buf(30));var Be=924;return(((Re||{}).Views||[])[0]||{}).RTL&&(Be|=32),je.write_shift(2,Be),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(1,0),je.write_shift(1,0),je.write_shift(2,0),je.write_shift(2,100),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(4,0),je}function write_BrtCellIgnoreEC(Ce){var Re=new_buf(24);return Re.write_shift(4,4),Re.write_shift(4,1),write_UncheckedRfX(Ce,Re),Re}function write_BrtSheetProtection(Ce,Re){return Re==null&&(Re=new_buf(66)),Re.write_shift(2,Ce.password?crypto_CreatePasswordVerifier_Method1(Ce.password):0),Re.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(je){je[1]?Re.write_shift(4,Ce[je[0]]!=null&&!Ce[je[0]]?1:0):Re.write_shift(4,Ce[je[0]]!=null&&Ce[je[0]]?0:1)}),Re}function parse_BrtDVal(){}function parse_BrtDVal14(){}function write_ws_bin_cell(Ce,Re,je,Be,De,Fe,Oe){if(Re.v===void 0)return!1;var ke="";switch(Re.t){case"b":ke=Re.v?"1":"0";break;case"d":Re=dup(Re),Re.z=Re.z||table_fmt[14],Re.v=datenum(parseDate(Re.v)),Re.t="n";break;case"n":case"e":ke=""+Re.v;break;default:ke=Re.v;break}var Me={r:je,c:Be};switch(Me.s=get_cell_style(De.cellXfs,Re,De),Re.l&&Fe["!links"].push([encode_cell(Me),Re.l]),Re.c&&Fe["!comments"].push([encode_cell(Me),Re.c]),Re.t){case"s":case"str":return De.bookSST?(ke=get_sst_id(De.Strings,Re.v,De.revStrings),Me.t="s",Me.v=ke,Oe?write_record(Ce,18,write_BrtShortIsst(Re,Me)):write_record(Ce,7,write_BrtCellIsst(Re,Me))):(Me.t="str",Oe?write_record(Ce,17,write_BrtShortSt(Re,Me)):write_record(Ce,6,write_BrtCellSt(Re,Me))),!0;case"n":return Re.v==(Re.v|0)&&Re.v>-1e3&&Re.v<1e3?Oe?write_record(Ce,13,write_BrtShortRk(Re,Me)):write_record(Ce,2,write_BrtCellRk(Re,Me)):Oe?write_record(Ce,16,write_BrtShortReal(Re,Me)):write_record(Ce,5,write_BrtCellReal(Re,Me)),!0;case"b":return Me.t="b",Oe?write_record(Ce,15,write_BrtShortBool(Re,Me)):write_record(Ce,4,write_BrtCellBool(Re,Me)),!0;case"e":return Me.t="e",Oe?write_record(Ce,14,write_BrtShortError(Re,Me)):write_record(Ce,3,write_BrtCellError(Re,Me)),!0}return Oe?write_record(Ce,12,write_BrtShortBlank(Re,Me)):write_record(Ce,1,write_BrtCellBlank(Re,Me)),!0}function write_CELLTABLE(Ce,Re,je,Be){var De=safe_decode_range(Re["!ref"]||"A1"),Fe,Oe="",ke=[];write_record(Ce,145);var Me=Array.isArray(Re),Ue=De.e.r;Re["!rows"]&&(Ue=Math.max(De.e.r,Re["!rows"].length-1));for(var $e=De.s.r;$e<=Ue;++$e){Oe=encode_row($e),write_row_header(Ce,Re,De,$e);var He=!1;if($e<=De.e.r)for(var Qe=De.s.c;Qe<=De.e.c;++Qe){$e===De.s.r&&(ke[Qe]=encode_col(Qe)),Fe=ke[Qe]+Oe;var We=Me?(Re[$e]||[])[Qe]:Re[Fe];if(!We){He=!1;continue}He=write_ws_bin_cell(Ce,We,$e,Qe,Be,Re,He)}}write_record(Ce,146)}function write_MERGECELLS(Ce,Re){!Re||!Re["!merges"]||(write_record(Ce,177,write_BrtBeginMergeCells(Re["!merges"].length)),Re["!merges"].forEach(function(je){write_record(Ce,176,write_BrtMergeCell(je))}),write_record(Ce,178))}function write_COLINFOS(Ce,Re){!Re||!Re["!cols"]||(write_record(Ce,390),Re["!cols"].forEach(function(je,Be){je&&write_record(Ce,60,write_BrtColInfo(Be,je))}),write_record(Ce,391))}function write_IGNOREECS(Ce,Re){!Re||!Re["!ref"]||(write_record(Ce,648),write_record(Ce,649,write_BrtCellIgnoreEC(safe_decode_range(Re["!ref"]))),write_record(Ce,650))}function write_HLINKS(Ce,Re,je){Re["!links"].forEach(function(Be){if(Be[1].Target){var De=add_rels(je,-1,Be[1].Target.replace(/#.*$/,""),RELS.HLINK);write_record(Ce,494,write_BrtHLink(Be,De))}}),delete Re["!links"]}function write_LEGACYDRAWING(Ce,Re,je,Be){if(Re["!comments"].length>0){var De=add_rels(Be,-1,"../drawings/vmlDrawing"+(je+1)+".vml",RELS.VML);write_record(Ce,551,write_RelID("rId"+De)),Re["!legacy"]=De}}function write_AUTOFILTER(Ce,Re,je,Be){if(Re["!autofilter"]){var De=Re["!autofilter"],Fe=typeof De.ref=="string"?De.ref:encode_range(De.ref);je.Workbook||(je.Workbook={Sheets:[]}),je.Workbook.Names||(je.Workbook.Names=[]);var Oe=je.Workbook.Names,ke=decode_range(Fe);ke.s.r==ke.e.r&&(ke.e.r=decode_range(Re["!ref"]).e.r,Fe=encode_range(ke));for(var Me=0;Me<Oe.length;++Me){var Ue=Oe[Me];if(Ue.Name=="_xlnm._FilterDatabase"&&Ue.Sheet==Be){Ue.Ref="'"+je.SheetNames[Be]+"'!"+Fe;break}}Me==Oe.length&&Oe.push({Name:"_xlnm._FilterDatabase",Sheet:Be,Ref:"'"+je.SheetNames[Be]+"'!"+Fe}),write_record(Ce,161,write_UncheckedRfX(safe_decode_range(Fe))),write_record(Ce,162)}}function write_WSVIEWS2(Ce,Re,je){write_record(Ce,133),write_record(Ce,137,write_BrtBeginWsView(Re,je)),write_record(Ce,138),write_record(Ce,134)}function write_SHEETPROTECT(Ce,Re){Re["!protect"]&&write_record(Ce,535,write_BrtSheetProtection(Re["!protect"]))}function write_ws_bin(Ce,Re,je,Be){var De=buf_array(),Fe=je.SheetNames[Ce],Oe=je.Sheets[Fe]||{},ke=Fe;try{je&&je.Workbook&&(ke=je.Workbook.Sheets[Ce].CodeName||ke)}catch{}var Me=safe_decode_range(Oe["!ref"]||"A1");if(Me.e.c>16383||Me.e.r>1048575){if(Re.WTF)throw new Error("Range "+(Oe["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");Me.e.c=Math.min(Me.e.c,16383),Me.e.r=Math.min(Me.e.c,1048575)}return Oe["!links"]=[],Oe["!comments"]=[],write_record(De,129),(je.vbaraw||Oe["!outline"])&&write_record(De,147,write_BrtWsProp(ke,Oe["!outline"])),write_record(De,148,write_BrtWsDim(Me)),write_WSVIEWS2(De,Oe,je.Workbook),write_COLINFOS(De,Oe),write_CELLTABLE(De,Oe,Ce,Re),write_SHEETPROTECT(De,Oe),write_AUTOFILTER(De,Oe,je,Ce),write_MERGECELLS(De,Oe),write_HLINKS(De,Oe,Be),Oe["!margins"]&&write_record(De,476,write_BrtMargins(Oe["!margins"])),(!Re||Re.ignoreEC||Re.ignoreEC==null)&&write_IGNOREECS(De,Oe),write_LEGACYDRAWING(De,Oe,Ce,Be),write_record(De,130),De.end()}function parse_BrtCsProp(Ce,Re){Ce.l+=10;var je=parse_XLWideString(Ce);return{name:je}}var WBPropsDef=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function safe1904(Ce){return!Ce.Workbook||!Ce.Workbook.WBProps?"false":parsexmlbool(Ce.Workbook.WBProps.date1904)?"true":"false"}var badchars="][*?/\\".split("");function check_ws_name(Ce,Re){if(Ce.length>31)throw new Error("Sheet names cannot exceed 31 chars");var je=!0;return badchars.forEach(function(Be){if(Ce.indexOf(Be)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),je}function check_wb_names(Ce,Re,je){Ce.forEach(function(Be,De){check_ws_name(Be);for(var Fe=0;Fe<De;++Fe)if(Be==Ce[Fe])throw new Error("Duplicate Sheet Name: "+Be);if(je){var Oe=Re&&Re[De]&&Re[De].CodeName||Be;if(Oe.charCodeAt(0)==95&&Oe.length>22)throw new Error("Bad Code Name: Worksheet"+Oe)}})}function check_wb(Ce){if(!Ce||!Ce.SheetNames||!Ce.Sheets)throw new Error("Invalid Workbook");if(!Ce.SheetNames.length)throw new Error("Workbook is empty");var Re=Ce.Workbook&&Ce.Workbook.Sheets||[];check_wb_names(Ce.SheetNames,Re,!!Ce.vbaraw);for(var je=0;je<Ce.SheetNames.length;++je)check_ws(Ce.Sheets[Ce.SheetNames[je]],Ce.SheetNames[je],je)}function write_wb_xml(Ce){var Re=[XML_HEADER];Re[Re.length]=writextag("workbook",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r});var je=Ce.Workbook&&(Ce.Workbook.Names||[]).length>0,Be={codeName:"ThisWorkbook"};Ce.Workbook&&Ce.Workbook.WBProps&&(WBPropsDef.forEach(function(ke){Ce.Workbook.WBProps[ke[0]]!=null&&Ce.Workbook.WBProps[ke[0]]!=ke[1]&&(Be[ke[0]]=Ce.Workbook.WBProps[ke[0]])}),Ce.Workbook.WBProps.CodeName&&(Be.codeName=Ce.Workbook.WBProps.CodeName,delete Be.CodeName)),Re[Re.length]=writextag("workbookPr",null,Be);var De=Ce.Workbook&&Ce.Workbook.Sheets||[],Fe=0;if(De&&De[0]&&De[0].Hidden){for(Re[Re.length]="<bookViews>",Fe=0;Fe!=Ce.SheetNames.length&&!(!De[Fe]||!De[Fe].Hidden);++Fe);Fe==Ce.SheetNames.length&&(Fe=0),Re[Re.length]='<workbookView firstSheet="'+Fe+'" activeTab="'+Fe+'"/>',Re[Re.length]="</bookViews>"}for(Re[Re.length]="<sheets>",Fe=0;Fe!=Ce.SheetNames.length;++Fe){var Oe={name:escapexml(Ce.SheetNames[Fe].slice(0,31))};if(Oe.sheetId=""+(Fe+1),Oe["r:id"]="rId"+(Fe+1),De[Fe])switch(De[Fe].Hidden){case 1:Oe.state="hidden";break;case 2:Oe.state="veryHidden";break}Re[Re.length]=writextag("sheet",null,Oe)}return Re[Re.length]="</sheets>",je&&(Re[Re.length]="<definedNames>",Ce.Workbook&&Ce.Workbook.Names&&Ce.Workbook.Names.forEach(function(ke){var Me={name:ke.Name};ke.Comment&&(Me.comment=ke.Comment),ke.Sheet!=null&&(Me.localSheetId=""+ke.Sheet),ke.Hidden&&(Me.hidden="1"),ke.Ref&&(Re[Re.length]=writextag("definedName",escapexml(ke.Ref),Me))}),Re[Re.length]="</definedNames>"),Re.length>2&&(Re[Re.length]="</workbook>",Re[1]=Re[1].replace("/>",">")),Re.join("")}function parse_BrtBundleSh(Ce,Re){var je={};return je.Hidden=Ce.read_shift(4),je.iTabID=Ce.read_shift(4),je.strRelID=parse_RelID(Ce),je.name=parse_XLWideString(Ce),je}function write_BrtBundleSh(Ce,Re){return Re||(Re=new_buf(127)),Re.write_shift(4,Ce.Hidden),Re.write_shift(4,Ce.iTabID),write_RelID(Ce.strRelID,Re),write_XLWideString(Ce.name.slice(0,31),Re),Re.length>Re.l?Re.slice(0,Re.l):Re}function parse_BrtWbProp(Ce,Re){var je={},Be=Ce.read_shift(4);je.defaultThemeVersion=Ce.read_shift(4);var De=Re>8?parse_XLWideString(Ce):"";return De.length>0&&(je.CodeName=De),je.autoCompressPictures=!!(Be&65536),je.backupFile=!!(Be&64),je.checkCompatibility=!!(Be&4096),je.date1904=!!(Be&1),je.filterPrivacy=!!(Be&8),je.hidePivotFieldList=!!(Be&1024),je.promptedSolutions=!!(Be&16),je.publishItems=!!(Be&2048),je.refreshAllConnections=!!(Be&262144),je.saveExternalLinkValues=!!(Be&128),je.showBorderUnselectedTables=!!(Be&4),je.showInkAnnotation=!!(Be&32),je.showObjects=["all","placeholders","none"][Be>>13&3],je.showPivotChartFilter=!!(Be&32768),je.updateLinks=["userSet","never","always"][Be>>8&3],je}function write_BrtWbProp(Ce,Re){Re||(Re=new_buf(72));var je=0;return Ce&&Ce.filterPrivacy&&(je|=8),Re.write_shift(4,je),Re.write_shift(4,0),write_XLSBCodeName(Ce&&Ce.CodeName||"ThisWorkbook",Re),Re.slice(0,Re.l)}function parse_BrtName(Ce,Re,je){var Be=Ce.l+Re;Ce.l+=4,Ce.l+=1;var De=Ce.read_shift(4),Fe=parse_XLNameWideString(Ce),Oe=parse_XLSBNameParsedFormula(Ce,0,je),ke=parse_XLNullableWideString(Ce);Ce.l=Be;var Me={Name:Fe,Ptg:Oe};return De<268435455&&(Me.Sheet=De),ke&&(Me.Comment=ke),Me}function write_BUNDLESHS(Ce,Re){write_record(Ce,143);for(var je=0;je!=Re.SheetNames.length;++je){var Be=Re.Workbook&&Re.Workbook.Sheets&&Re.Workbook.Sheets[je]&&Re.Workbook.Sheets[je].Hidden||0,De={Hidden:Be,iTabID:je+1,strRelID:"rId"+(je+1),name:Re.SheetNames[je]};write_record(Ce,156,write_BrtBundleSh(De))}write_record(Ce,144)}function write_BrtFileVersion(Ce,Re){Re||(Re=new_buf(127));for(var je=0;je!=4;++je)Re.write_shift(4,0);return write_XLWideString("SheetJS",Re),write_XLWideString(XLSX.version,Re),write_XLWideString(XLSX.version,Re),write_XLWideString("7262",Re),Re.length>Re.l?Re.slice(0,Re.l):Re}function write_BrtBookView(Ce,Re){Re||(Re=new_buf(29)),Re.write_shift(-4,0),Re.write_shift(-4,460),Re.write_shift(4,28800),Re.write_shift(4,17600),Re.write_shift(4,500),Re.write_shift(4,Ce),Re.write_shift(4,Ce);var je=120;return Re.write_shift(1,je),Re.length>Re.l?Re.slice(0,Re.l):Re}function write_BOOKVIEWS(Ce,Re){if(!(!Re.Workbook||!Re.Workbook.Sheets)){for(var je=Re.Workbook.Sheets,Be=0,De=-1,Fe=-1;Be<je.length;++Be)!je[Be]||!je[Be].Hidden&&De==-1?De=Be:je[Be].Hidden==1&&Fe==-1&&(Fe=Be);Fe>De||(write_record(Ce,135),write_record(Ce,158,write_BrtBookView(De)),write_record(Ce,136))}}function write_wb_bin(Ce,Re){var je=buf_array();return write_record(je,131),write_record(je,128,write_BrtFileVersion()),write_record(je,153,write_BrtWbProp(Ce.Workbook&&Ce.Workbook.WBProps||null)),write_BOOKVIEWS(je,Ce),write_BUNDLESHS(je,Ce),write_record(je,132),je.end()}function write_wb(Ce,Re,je){return(Re.slice(-4)===".bin"?write_wb_bin:write_wb_xml)(Ce)}function write_ws(Ce,Re,je,Be,De){return(Re.slice(-4)===".bin"?write_ws_bin:write_ws_xml)(Ce,je,Be,De)}function write_sty(Ce,Re,je){return(Re.slice(-4)===".bin"?write_sty_bin:write_sty_xml)(Ce,je)}function write_sst(Ce,Re,je){return(Re.slice(-4)===".bin"?write_sst_bin:write_sst_xml)(Ce,je)}function write_cmnt(Ce,Re,je){return(Re.slice(-4)===".bin"?write_comments_bin:write_comments_xml)(Ce)}function write_xlmeta(Ce){return(Ce.slice(-4)===".bin"?write_xlmeta_bin:write_xlmeta_xml)()}function write_props_xlml(Ce,Re){var je=[];return Ce.Props&&je.push(xlml_write_docprops(Ce.Props,Re)),Ce.Custprops&&je.push(xlml_write_custprops(Ce.Props,Ce.Custprops)),je.join("")}function write_wb_xlml(){return""}function write_sty_xlml(Ce,Re){var je=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return Re.cellXfs.forEach(function(Be,De){var Fe=[];Fe.push(writextag("NumberFormat",null,{"ss:Format":escapexml(table_fmt[Be.numFmtId])}));var Oe={"ss:ID":"s"+(21+De)};je.push(writextag("Style",Fe.join(""),Oe))}),writextag("Styles",je.join(""))}function write_name_xlml(Ce){return writextag("NamedRange",null,{"ss:Name":Ce.Name,"ss:RefersTo":"="+a1_to_rc(Ce.Ref,{r:0,c:0})})}function write_names_xlml(Ce){if(!((Ce||{}).Workbook||{}).Names)return"";for(var Re=Ce.Workbook.Names,je=[],Be=0;Be<Re.length;++Be){var De=Re[Be];De.Sheet==null&&(De.Name.match(/^_xlfn\./)||je.push(write_name_xlml(De)))}return writextag("Names",je.join(""))}function write_ws_xlml_names(Ce,Re,je,Be){if(!Ce||!((Be||{}).Workbook||{}).Names)return"";for(var De=Be.Workbook.Names,Fe=[],Oe=0;Oe<De.length;++Oe){var ke=De[Oe];ke.Sheet==je&&(ke.Name.match(/^_xlfn\./)||Fe.push(write_name_xlml(ke)))}return Fe.join("")}function write_ws_xlml_wsopts(Ce,Re,je,Be){if(!Ce)return"";var De=[];if(Ce["!margins"]&&(De.push("<PageSetup>"),Ce["!margins"].header&&De.push(writextag("Header",null,{"x:Margin":Ce["!margins"].header})),Ce["!margins"].footer&&De.push(writextag("Footer",null,{"x:Margin":Ce["!margins"].footer})),De.push(writextag("PageMargins",null,{"x:Bottom":Ce["!margins"].bottom||"0.75","x:Left":Ce["!margins"].left||"0.7","x:Right":Ce["!margins"].right||"0.7","x:Top":Ce["!margins"].top||"0.75"})),De.push("</PageSetup>")),Be&&Be.Workbook&&Be.Workbook.Sheets&&Be.Workbook.Sheets[je])if(Be.Workbook.Sheets[je].Hidden)De.push(writextag("Visible",Be.Workbook.Sheets[je].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var Fe=0;Fe<je&&!(Be.Workbook.Sheets[Fe]&&!Be.Workbook.Sheets[Fe].Hidden);++Fe);Fe==je&&De.push("<Selected/>")}return((((Be||{}).Workbook||{}).Views||[])[0]||{}).RTL&&De.push("<DisplayRightToLeft/>"),Ce["!protect"]&&(De.push(writetag("ProtectContents","True")),Ce["!protect"].objects&&De.push(writetag("ProtectObjects","True")),Ce["!protect"].scenarios&&De.push(writetag("ProtectScenarios","True")),Ce["!protect"].selectLockedCells!=null&&!Ce["!protect"].selectLockedCells?De.push(writetag("EnableSelection","NoSelection")):Ce["!protect"].selectUnlockedCells!=null&&!Ce["!protect"].selectUnlockedCells&&De.push(writetag("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(Oe){Ce["!protect"][Oe[0]]&&De.push("<"+Oe[1]+"/>")})),De.length==0?"":writextag("WorksheetOptions",De.join(""),{xmlns:XLMLNS.x})}function write_ws_xlml_comment(Ce){return Ce.map(function(Re){var je=xlml_unfixstr(Re.t||""),Be=writextag("ss:Data",je,{xmlns:"http://www.w3.org/TR/REC-html40"});return writextag("Comment",Be,{"ss:Author":Re.a})}).join("")}function write_ws_xlml_cell(Ce,Re,je,Be,De,Fe,Oe){if(!Ce||Ce.v==null&&Ce.f==null)return"";var ke={};if(Ce.f&&(ke["ss:Formula"]="="+escapexml(a1_to_rc(Ce.f,Oe))),Ce.F&&Ce.F.slice(0,Re.length)==Re){var Me=decode_cell(Ce.F.slice(Re.length+1));ke["ss:ArrayRange"]="RC:R"+(Me.r==Oe.r?"":"["+(Me.r-Oe.r)+"]")+"C"+(Me.c==Oe.c?"":"["+(Me.c-Oe.c)+"]")}if(Ce.l&&Ce.l.Target&&(ke["ss:HRef"]=escapexml(Ce.l.Target),Ce.l.Tooltip&&(ke["x:HRefScreenTip"]=escapexml(Ce.l.Tooltip))),je["!merges"])for(var Ue=je["!merges"],$e=0;$e!=Ue.length;++$e)Ue[$e].s.c!=Oe.c||Ue[$e].s.r!=Oe.r||(Ue[$e].e.c>Ue[$e].s.c&&(ke["ss:MergeAcross"]=Ue[$e].e.c-Ue[$e].s.c),Ue[$e].e.r>Ue[$e].s.r&&(ke["ss:MergeDown"]=Ue[$e].e.r-Ue[$e].s.r));var He="",Qe="";switch(Ce.t){case"z":if(!Be.sheetStubs)return"";break;case"n":He="Number",Qe=String(Ce.v);break;case"b":He="Boolean",Qe=Ce.v?"1":"0";break;case"e":He="Error",Qe=BErr[Ce.v];break;case"d":He="DateTime",Qe=new Date(Ce.v).toISOString(),Ce.z==null&&(Ce.z=Ce.z||table_fmt[14]);break;case"s":He="String",Qe=escapexlml(Ce.v||"");break}var We=get_cell_style(Be.cellXfs,Ce,Be);ke["ss:StyleID"]="s"+(21+We),ke["ss:Index"]=Oe.c+1;var qe=Ce.v!=null?Qe:"",Ke=Ce.t=="z"?"":'<Data ss:Type="'+He+'">'+qe+"</Data>";return(Ce.c||[]).length>0&&(Ke+=write_ws_xlml_comment(Ce.c)),writextag("Cell",Ke,ke)}function write_ws_xlml_row(Ce,Re){var je='<Row ss:Index="'+(Ce+1)+'"';return Re&&(Re.hpt&&!Re.hpx&&(Re.hpx=pt2px(Re.hpt)),Re.hpx&&(je+=' ss:AutoFitHeight="0" ss:Height="'+Re.hpx+'"'),Re.hidden&&(je+=' ss:Hidden="1"')),je+">"}function write_ws_xlml_table(Ce,Re,je,Be){if(!Ce["!ref"])return"";var De=safe_decode_range(Ce["!ref"]),Fe=Ce["!merges"]||[],Oe=0,ke=[];Ce["!cols"]&&Ce["!cols"].forEach(function(Xe,Ye){process_col(Xe);var Ze=!!Xe.width,Je=col_obj_w(Ye,Xe),tr={"ss:Index":Ye+1};Ze&&(tr["ss:Width"]=width2px(Je.width)),Xe.hidden&&(tr["ss:Hidden"]="1"),ke.push(writextag("Column",null,tr))});for(var Me=Array.isArray(Ce),Ue=De.s.r;Ue<=De.e.r;++Ue){for(var $e=[write_ws_xlml_row(Ue,(Ce["!rows"]||[])[Ue])],He=De.s.c;He<=De.e.c;++He){var Qe=!1;for(Oe=0;Oe!=Fe.length;++Oe)if(!(Fe[Oe].s.c>He)&&!(Fe[Oe].s.r>Ue)&&!(Fe[Oe].e.c<He)&&!(Fe[Oe].e.r<Ue)){(Fe[Oe].s.c!=He||Fe[Oe].s.r!=Ue)&&(Qe=!0);break}if(!Qe){var We={r:Ue,c:He},qe=encode_cell(We),Ke=Me?(Ce[Ue]||[])[He]:Ce[qe];$e.push(write_ws_xlml_cell(Ke,qe,Ce,Re,je,Be,We))}}$e.push("</Row>"),$e.length>2&&ke.push($e.join(""))}return ke.join("")}function write_ws_xlml(Ce,Re,je){var Be=[],De=je.SheetNames[Ce],Fe=je.Sheets[De],Oe=Fe?write_ws_xlml_names(Fe,Re,Ce,je):"";return Oe.length>0&&Be.push("<Names>"+Oe+"</Names>"),Oe=Fe?write_ws_xlml_table(Fe,Re,Ce,je):"",Oe.length>0&&Be.push("<Table>"+Oe+"</Table>"),Be.push(write_ws_xlml_wsopts(Fe,Re,Ce,je)),Be.join("")}function write_xlml(Ce,Re){Re||(Re={}),Ce.SSF||(Ce.SSF=dup(table_fmt)),Ce.SSF&&(make_ssf(),SSF_load_table(Ce.SSF),Re.revssf=evert_num(Ce.SSF),Re.revssf[Ce.SSF[65535]]=0,Re.ssf=Ce.SSF,Re.cellXfs=[],get_cell_style(Re.cellXfs,{},{revssf:{General:0}}));var je=[];je.push(write_props_xlml(Ce,Re)),je.push(write_wb_xlml()),je.push(""),je.push("");for(var Be=0;Be<Ce.SheetNames.length;++Be)je.push(writextag("Worksheet",write_ws_xlml(Be,Re,Ce),{"ss:Name":escapexml(Ce.SheetNames[Be])}));return je[2]=write_sty_xlml(Ce,Re),je[3]=write_names_xlml(Ce),XML_HEADER+writextag("Workbook",je.join(""),{xmlns:XLMLNS.ss,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:ss":XLMLNS.ss,"xmlns:dt":XLMLNS.dt,"xmlns:html":XLMLNS.html})}var PSCLSID={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function write_xls_props(Ce,Re){var je=[],Be=[],De=[],Fe=0,Oe,ke=evert_key(DocSummaryPIDDSI,"n"),Me=evert_key(SummaryPIDSI,"n");if(Ce.Props)for(Oe=keys(Ce.Props),Fe=0;Fe<Oe.length;++Fe)(Object.prototype.hasOwnProperty.call(ke,Oe[Fe])?je:Object.prototype.hasOwnProperty.call(Me,Oe[Fe])?Be:De).push([Oe[Fe],Ce.Props[Oe[Fe]]]);if(Ce.Custprops)for(Oe=keys(Ce.Custprops),Fe=0;Fe<Oe.length;++Fe)Object.prototype.hasOwnProperty.call(Ce.Props||{},Oe[Fe])||(Object.prototype.hasOwnProperty.call(ke,Oe[Fe])?je:Object.prototype.hasOwnProperty.call(Me,Oe[Fe])?Be:De).push([Oe[Fe],Ce.Custprops[Oe[Fe]]]);var Ue=[];for(Fe=0;Fe<De.length;++Fe)XLSPSSkip.indexOf(De[Fe][0])>-1||PseudoPropsPairs.indexOf(De[Fe][0])>-1||De[Fe][1]!=null&&Ue.push(De[Fe]);Be.length&&CFB.utils.cfb_add(Re,"/SummaryInformation",write_PropertySetStream(Be,PSCLSID.SI,Me,SummaryPIDSI)),(je.length||Ue.length)&&CFB.utils.cfb_add(Re,"/DocumentSummaryInformation",write_PropertySetStream(je,PSCLSID.DSI,ke,DocSummaryPIDDSI,Ue.length?Ue:null,PSCLSID.UDI))}function write_xlscfb(Ce,Re){var je=Re||{},Be=CFB.utils.cfb_new({root:"R"}),De="/Workbook";switch(je.bookType||"xls"){case"xls":je.bookType="biff8";case"xla":je.bookType||(je.bookType="xla");case"biff8":De="/Workbook",je.biff=8;break;case"biff5":De="/Book",je.biff=5;break;default:throw new Error("invalid type "+je.bookType+" for XLS CFB")}return CFB.utils.cfb_add(Be,De,write_biff_buf(Ce,je)),je.biff==8&&(Ce.Props||Ce.Custprops)&&write_xls_props(Ce,Be),je.biff==8&&Ce.vbaraw&&fill_vba_xls(Be,CFB.read(Ce.vbaraw,{type:typeof Ce.vbaraw=="string"?"binary":"buffer"})),Be}var XLSBRecordEnum={0:{f:parse_BrtRowHdr},1:{f:parse_BrtCellBlank},2:{f:parse_BrtCellRk},3:{f:parse_BrtCellError},4:{f:parse_BrtCellBool},5:{f:parse_BrtCellReal},6:{f:parse_BrtCellSt},7:{f:parse_BrtCellIsst},8:{f:parse_BrtFmlaString},9:{f:parse_BrtFmlaNum},10:{f:parse_BrtFmlaBool},11:{f:parse_BrtFmlaError},12:{f:parse_BrtShortBlank},13:{f:parse_BrtShortRk},14:{f:parse_BrtShortError},15:{f:parse_BrtShortBool},16:{f:parse_BrtShortReal},17:{f:parse_BrtShortSt},18:{f:parse_BrtShortIsst},19:{f:parse_RichStr},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:parse_BrtName},40:{},42:{},43:{f:parse_BrtFont},44:{f:parse_BrtFmt},45:{f:parse_BrtFill},46:{f:parse_BrtBorder},47:{f:parse_BrtXF},48:{},49:{f:parse_Int32LE},50:{},51:{f:parse_BrtMdb},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:parse_ColInfo},62:{f:parse_BrtCellRString},63:{f:parse_BrtCalcChainItem$},64:{f:parse_BrtDVal},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:parsenoop,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:parse_BrtBeginWsView},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:parse_BrtWsProp},148:{f:parse_BrtWsDim,p:16},151:{f:parse_BrtPane},152:{},153:{f:parse_BrtWbProp},154:{},155:{},156:{f:parse_BrtBundleSh},157:{},158:{},159:{T:1,f:parse_BrtBeginSst},160:{T:-1},161:{T:1,f:parse_UncheckedRfX},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:parse_BrtMergeCell},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:parse_BrtMdtinfo},336:{T:-1},337:{f:parse_BrtBeginEsmdb,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:parse_RelID},357:{},358:{},359:{},360:{T:1},361:{},362:{f:parse_ExternSheet},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:parse_BrtArrFmla},427:{f:parse_BrtShrFmla},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:parse_BrtMargins},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:parse_BrtWsFmtInfo},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:parse_BrtHLink},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:parse_RelID},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:parse_BrtCommentAuthor},633:{T:1},634:{T:-1},635:{T:1,f:parse_BrtBeginComment},636:{T:-1},637:{f:parse_BrtCommentText},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:parse_BrtCsProp},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:parse_BrtDVal14},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function write_biff_rec(Ce,Re,je,Be){var De=Re;if(!isNaN(De)){var Fe=Be||(je||[]).length||0,Oe=Ce.next(4);Oe.write_shift(2,De),Oe.write_shift(2,Fe),Fe>0&&is_buf(je)&&Ce.push(je)}}function write_biff_continue(Ce,Re,je,Be){var De=(je||[]).length||0;if(De<=8224)return write_biff_rec(Ce,Re,je,De);var Fe=Re;if(!isNaN(Fe)){for(var Oe=je.parts||[],ke=0,Me=0,Ue=0;Ue+(Oe[ke]||8224)<=8224;)Ue+=Oe[ke]||8224,ke++;var $e=Ce.next(4);for($e.write_shift(2,Fe),$e.write_shift(2,Ue),Ce.push(je.slice(Me,Me+Ue)),Me+=Ue;Me<De;){for($e=Ce.next(4),$e.write_shift(2,60),Ue=0;Ue+(Oe[ke]||8224)<=8224;)Ue+=Oe[ke]||8224,ke++;$e.write_shift(2,Ue),Ce.push(je.slice(Me,Me+Ue)),Me+=Ue}}}function write_BIFF2Cell(Ce,Re,je){return Ce||(Ce=new_buf(7)),Ce.write_shift(2,Re),Ce.write_shift(2,je),Ce.write_shift(2,0),Ce.write_shift(1,0),Ce}function write_BIFF2BERR(Ce,Re,je,Be){var De=new_buf(9);return write_BIFF2Cell(De,Ce,Re),write_Bes(je,Be||"b",De),De}function write_BIFF2LABEL(Ce,Re,je){var Be=new_buf(8+2*je.length);return write_BIFF2Cell(Be,Ce,Re),Be.write_shift(1,je.length),Be.write_shift(je.length,je,"sbcs"),Be.l<Be.length?Be.slice(0,Be.l):Be}function write_ws_biff2_cell(Ce,Re,je,Be){if(Re.v!=null)switch(Re.t){case"d":case"n":var De=Re.t=="d"?datenum(parseDate(Re.v)):Re.v;De==(De|0)&&De>=0&&De<65536?write_biff_rec(Ce,2,write_BIFF2INT(je,Be,De)):write_biff_rec(Ce,3,write_BIFF2NUM(je,Be,De));return;case"b":case"e":write_biff_rec(Ce,5,write_BIFF2BERR(je,Be,Re.v,Re.t));return;case"s":case"str":write_biff_rec(Ce,4,write_BIFF2LABEL(je,Be,(Re.v||"").slice(0,255)));return}write_biff_rec(Ce,1,write_BIFF2Cell(null,je,Be))}function write_ws_biff2(Ce,Re,je,Be){var De=Array.isArray(Re),Fe=safe_decode_range(Re["!ref"]||"A1"),Oe,ke="",Me=[];if(Fe.e.c>255||Fe.e.r>16383){if(Be.WTF)throw new Error("Range "+(Re["!ref"]||"A1")+" exceeds format limit A1:IV16384");Fe.e.c=Math.min(Fe.e.c,255),Fe.e.r=Math.min(Fe.e.c,16383),Oe=encode_range(Fe)}for(var Ue=Fe.s.r;Ue<=Fe.e.r;++Ue){ke=encode_row(Ue);for(var $e=Fe.s.c;$e<=Fe.e.c;++$e){Ue===Fe.s.r&&(Me[$e]=encode_col($e)),Oe=Me[$e]+ke;var He=De?(Re[Ue]||[])[$e]:Re[Oe];He&&write_ws_biff2_cell(Ce,He,Ue,$e)}}}function write_biff2_buf(Ce,Re){for(var je=Re||{},Be=buf_array(),De=0,Fe=0;Fe<Ce.SheetNames.length;++Fe)Ce.SheetNames[Fe]==je.sheet&&(De=Fe);if(De==0&&je.sheet&&Ce.SheetNames[0]!=je.sheet)throw new Error("Sheet not found: "+je.sheet);return write_biff_rec(Be,je.biff==4?1033:je.biff==3?521:9,write_BOF(Ce,16,je)),write_ws_biff2(Be,Ce.Sheets[Ce.SheetNames[De]],De,je),write_biff_rec(Be,10),Be.end()}function write_FONTS_biff8(Ce,Re,je){write_biff_rec(Ce,49,write_Font({sz:12,name:"Arial"},je))}function write_FMTS_biff8(Ce,Re,je){Re&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(Be){for(var De=Be[0];De<=Be[1];++De)Re[De]!=null&&write_biff_rec(Ce,1054,write_Format(De,Re[De],je))})}function write_FEAT(Ce,Re){var je=new_buf(19);je.write_shift(4,2151),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(2,3),je.write_shift(1,1),je.write_shift(4,0),write_biff_rec(Ce,2151,je),je=new_buf(39),je.write_shift(4,2152),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(2,3),je.write_shift(1,0),je.write_shift(4,0),je.write_shift(2,1),je.write_shift(4,4),je.write_shift(2,0),write_Ref8U(safe_decode_range(Re["!ref"]||"A1"),je),je.write_shift(4,4),write_biff_rec(Ce,2152,je)}function write_CELLXFS_biff8(Ce,Re){for(var je=0;je<16;++je)write_biff_rec(Ce,224,write_XF({numFmtId:0,style:!0},0,Re));Re.cellXfs.forEach(function(Be){write_biff_rec(Ce,224,write_XF(Be,0,Re))})}function write_ws_biff8_hlinks(Ce,Re){for(var je=0;je<Re["!links"].length;++je){var Be=Re["!links"][je];write_biff_rec(Ce,440,write_HLink(Be)),Be[1].Tooltip&&write_biff_rec(Ce,2048,write_HLinkTooltip(Be))}delete Re["!links"]}function write_ws_cols_biff8(Ce,Re){if(Re){var je=0;Re.forEach(function(Be,De){++je<=256&&Be&&write_biff_rec(Ce,125,write_ColInfo(col_obj_w(De,Be),De))})}}function write_ws_biff8_cell(Ce,Re,je,Be,De){var Fe=16+get_cell_style(De.cellXfs,Re,De);if(Re.v==null&&!Re.bf){write_biff_rec(Ce,513,write_XLSCell(je,Be,Fe));return}if(Re.bf)write_biff_rec(Ce,6,write_Formula(Re,je,Be,De,Fe));else switch(Re.t){case"d":case"n":var Oe=Re.t=="d"?datenum(parseDate(Re.v)):Re.v;write_biff_rec(Ce,515,write_Number(je,Be,Oe,Fe));break;case"b":case"e":write_biff_rec(Ce,517,write_BoolErr(je,Be,Re.v,Fe,De,Re.t));break;case"s":case"str":if(De.bookSST){var ke=get_sst_id(De.Strings,Re.v,De.revStrings);write_biff_rec(Ce,253,write_LabelSst(je,Be,ke,Fe))}else write_biff_rec(Ce,516,write_Label(je,Be,(Re.v||"").slice(0,255),Fe,De));break;default:write_biff_rec(Ce,513,write_XLSCell(je,Be,Fe))}}function write_ws_biff8(Ce,Re,je){var Be=buf_array(),De=je.SheetNames[Ce],Fe=je.Sheets[De]||{},Oe=(je||{}).Workbook||{},ke=(Oe.Sheets||[])[Ce]||{},Me=Array.isArray(Fe),Ue=Re.biff==8,$e,He="",Qe=[],We=safe_decode_range(Fe["!ref"]||"A1"),qe=Ue?65536:16384;if(We.e.c>255||We.e.r>=qe){if(Re.WTF)throw new Error("Range "+(Fe["!ref"]||"A1")+" exceeds format limit A1:IV16384");We.e.c=Math.min(We.e.c,255),We.e.r=Math.min(We.e.c,qe-1)}write_biff_rec(Be,2057,write_BOF(je,16,Re)),write_biff_rec(Be,13,writeuint16(1)),write_biff_rec(Be,12,writeuint16(100)),write_biff_rec(Be,15,writebool(!0)),write_biff_rec(Be,17,writebool(!1)),write_biff_rec(Be,16,write_Xnum(.001)),write_biff_rec(Be,95,writebool(!0)),write_biff_rec(Be,42,writebool(!1)),write_biff_rec(Be,43,writebool(!1)),write_biff_rec(Be,130,writeuint16(1)),write_biff_rec(Be,128,write_Guts()),write_biff_rec(Be,131,writebool(!1)),write_biff_rec(Be,132,writebool(!1)),Ue&&write_ws_cols_biff8(Be,Fe["!cols"]),write_biff_rec(Be,512,write_Dimensions(We,Re)),Ue&&(Fe["!links"]=[]);for(var Ke=We.s.r;Ke<=We.e.r;++Ke){He=encode_row(Ke);for(var Xe=We.s.c;Xe<=We.e.c;++Xe){Ke===We.s.r&&(Qe[Xe]=encode_col(Xe)),$e=Qe[Xe]+He;var Ye=Me?(Fe[Ke]||[])[Xe]:Fe[$e];Ye&&(write_ws_biff8_cell(Be,Ye,Ke,Xe,Re),Ue&&Ye.l&&Fe["!links"].push([$e,Ye.l]))}}var Ze=ke.CodeName||ke.name||De;return Ue&&write_biff_rec(Be,574,write_Window2((Oe.Views||[])[0])),Ue&&(Fe["!merges"]||[]).length&&write_biff_rec(Be,229,write_MergeCells(Fe["!merges"])),Ue&&write_ws_biff8_hlinks(Be,Fe),write_biff_rec(Be,442,write_XLUnicodeString(Ze)),Ue&&write_FEAT(Be,Fe),write_biff_rec(Be,10),Be.end()}function write_biff8_global(Ce,Re,je){var Be=buf_array(),De=(Ce||{}).Workbook||{},Fe=De.Sheets||[],Oe=De.WBProps||{},ke=je.biff==8,Me=je.biff==5;if(write_biff_rec(Be,2057,write_BOF(Ce,5,je)),je.bookType=="xla"&&write_biff_rec(Be,135),write_biff_rec(Be,225,ke?writeuint16(1200):null),write_biff_rec(Be,193,writezeroes(2)),Me&&write_biff_rec(Be,191),Me&&write_biff_rec(Be,192),write_biff_rec(Be,226),write_biff_rec(Be,92,write_WriteAccess("SheetJS",je)),write_biff_rec(Be,66,writeuint16(ke?1200:1252)),ke&&write_biff_rec(Be,353,writeuint16(0)),ke&&write_biff_rec(Be,448),write_biff_rec(Be,317,write_RRTabId(Ce.SheetNames.length)),ke&&Ce.vbaraw&&write_biff_rec(Be,211),ke&&Ce.vbaraw){var Ue=Oe.CodeName||"ThisWorkbook";write_biff_rec(Be,442,write_XLUnicodeString(Ue))}write_biff_rec(Be,156,writeuint16(17)),write_biff_rec(Be,25,writebool(!1)),write_biff_rec(Be,18,writebool(!1)),write_biff_rec(Be,19,writeuint16(0)),ke&&write_biff_rec(Be,431,writebool(!1)),ke&&write_biff_rec(Be,444,writeuint16(0)),write_biff_rec(Be,61,write_Window1()),write_biff_rec(Be,64,writebool(!1)),write_biff_rec(Be,141,writeuint16(0)),write_biff_rec(Be,34,writebool(safe1904(Ce)=="true")),write_biff_rec(Be,14,writebool(!0)),ke&&write_biff_rec(Be,439,writebool(!1)),write_biff_rec(Be,218,writeuint16(0)),write_FONTS_biff8(Be,Ce,je),write_FMTS_biff8(Be,Ce.SSF,je),write_CELLXFS_biff8(Be,je),ke&&write_biff_rec(Be,352,writebool(!1));var $e=Be.end(),He=buf_array();ke&&write_biff_rec(He,140,write_Country()),ke&&je.Strings&&write_biff_continue(He,252,write_SST(je.Strings)),write_biff_rec(He,10);var Qe=He.end(),We=buf_array(),qe=0,Ke=0;for(Ke=0;Ke<Ce.SheetNames.length;++Ke)qe+=(ke?12:11)+(ke?2:1)*Ce.SheetNames[Ke].length;var Xe=$e.length+qe+Qe.length;for(Ke=0;Ke<Ce.SheetNames.length;++Ke){var Ye=Fe[Ke]||{};write_biff_rec(We,133,write_BoundSheet8({pos:Xe,hs:Ye.Hidden||0,dt:0,name:Ce.SheetNames[Ke]},je)),Xe+=Re[Ke].length}var Ze=We.end();if(qe!=Ze.length)throw new Error("BS8 "+qe+" != "+Ze.length);var Je=[];return $e.length&&Je.push($e),Ze.length&&Je.push(Ze),Qe.length&&Je.push(Qe),bconcat(Je)}function write_biff8_buf(Ce,Re){var je=Re||{},Be=[];Ce&&!Ce.SSF&&(Ce.SSF=dup(table_fmt)),Ce&&Ce.SSF&&(make_ssf(),SSF_load_table(Ce.SSF),je.revssf=evert_num(Ce.SSF),je.revssf[Ce.SSF[65535]]=0,je.ssf=Ce.SSF),je.Strings=[],je.Strings.Count=0,je.Strings.Unique=0,fix_write_opts(je),je.cellXfs=[],get_cell_style(je.cellXfs,{},{revssf:{General:0}}),Ce.Props||(Ce.Props={});for(var De=0;De<Ce.SheetNames.length;++De)Be[Be.length]=write_ws_biff8(De,je,Ce);return Be.unshift(write_biff8_global(Ce,Be,je)),bconcat(Be)}function write_biff_buf(Ce,Re){for(var je=0;je<=Ce.SheetNames.length;++je){var Be=Ce.Sheets[Ce.SheetNames[je]];if(!(!Be||!Be["!ref"])){var De=decode_range(Be["!ref"]);De.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+Ce.SheetNames[je]+"' extends beyond column IV (255).  Data may be lost.")}}var Fe=Re||{};switch(Fe.biff||2){case 8:case 5:return write_biff8_buf(Ce,Re);case 4:case 3:case 2:return write_biff2_buf(Ce,Re)}throw new Error("invalid type "+Fe.bookType+" for BIFF")}function make_html_row(Ce,Re,je,Be){for(var De=Ce["!merges"]||[],Fe=[],Oe=Re.s.c;Oe<=Re.e.c;++Oe){for(var ke=0,Me=0,Ue=0;Ue<De.length;++Ue)if(!(De[Ue].s.r>je||De[Ue].s.c>Oe)&&!(De[Ue].e.r<je||De[Ue].e.c<Oe)){if(De[Ue].s.r<je||De[Ue].s.c<Oe){ke=-1;break}ke=De[Ue].e.r-De[Ue].s.r+1,Me=De[Ue].e.c-De[Ue].s.c+1;break}if(!(ke<0)){var $e=encode_cell({r:je,c:Oe}),He=Be.dense?(Ce[je]||[])[Oe]:Ce[$e],Qe=He&&He.v!=null&&(He.h||escapehtml(He.w||(format_cell(He),He.w)||""))||"",We={};ke>1&&(We.rowspan=ke),Me>1&&(We.colspan=Me),Be.editable?Qe='<span contenteditable="true">'+Qe+"</span>":He&&(We["data-t"]=He&&He.t||"z",He.v!=null&&(We["data-v"]=He.v),He.z!=null&&(We["data-z"]=He.z),He.l&&(He.l.Target||"#").charAt(0)!="#"&&(Qe='<a href="'+He.l.Target+'">'+Qe+"</a>")),We.id=(Be.id||"sjs")+"-"+$e,Fe.push(writextag("td",Qe,We))}}var qe="<tr>";return qe+Fe.join("")+"</tr>"}var HTML_BEGIN='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',HTML_END="</body></html>";function make_html_preamble(Ce,Re,je){var Be=[];return Be.join("")+"<table"+(je&&je.id?' id="'+je.id+'"':"")+">"}function sheet_to_html(Ce,Re){var je=Re||{},Be=je.header!=null?je.header:HTML_BEGIN,De=je.footer!=null?je.footer:HTML_END,Fe=[Be],Oe=decode_range(Ce["!ref"]);je.dense=Array.isArray(Ce),Fe.push(make_html_preamble(Ce,Oe,je));for(var ke=Oe.s.r;ke<=Oe.e.r;++ke)Fe.push(make_html_row(Ce,Oe,ke,je));return Fe.push("</table>"+De),Fe.join("")}function sheet_add_dom(Ce,Re,je){var Be=je||{},De=0,Fe=0;if(Be.origin!=null)if(typeof Be.origin=="number")De=Be.origin;else{var Oe=typeof Be.origin=="string"?decode_cell(Be.origin):Be.origin;De=Oe.r,Fe=Oe.c}var ke=Re.getElementsByTagName("tr"),Me=Math.min(Be.sheetRows||1e7,ke.length),Ue={s:{r:0,c:0},e:{r:De,c:Fe}};if(Ce["!ref"]){var $e=decode_range(Ce["!ref"]);Ue.s.r=Math.min(Ue.s.r,$e.s.r),Ue.s.c=Math.min(Ue.s.c,$e.s.c),Ue.e.r=Math.max(Ue.e.r,$e.e.r),Ue.e.c=Math.max(Ue.e.c,$e.e.c),De==-1&&(Ue.e.r=De=$e.e.r+1)}var He=[],Qe=0,We=Ce["!rows"]||(Ce["!rows"]=[]),qe=0,Ke=0,Xe=0,Ye=0,Ze=0,Je=0;for(Ce["!cols"]||(Ce["!cols"]=[]);qe<ke.length&&Ke<Me;++qe){var tr=ke[qe];if(is_dom_element_hidden(tr)){if(Be.display)continue;We[Ke]={hidden:!0}}var rr=tr.children;for(Xe=Ye=0;Xe<rr.length;++Xe){var ar=rr[Xe];if(!(Be.display&&is_dom_element_hidden(ar))){var nr=ar.hasAttribute("data-v")?ar.getAttribute("data-v"):ar.hasAttribute("v")?ar.getAttribute("v"):htmldecode(ar.innerHTML),sr=ar.getAttribute("data-z")||ar.getAttribute("z");for(Qe=0;Qe<He.length;++Qe){var dr=He[Qe];dr.s.c==Ye+Fe&&dr.s.r<Ke+De&&Ke+De<=dr.e.r&&(Ye=dr.e.c+1-Fe,Qe=-1)}Je=+ar.getAttribute("colspan")||1,((Ze=+ar.getAttribute("rowspan")||1)>1||Je>1)&&He.push({s:{r:Ke+De,c:Ye+Fe},e:{r:Ke+De+(Ze||1)-1,c:Ye+Fe+(Je||1)-1}});var _r={t:"s",v:nr},fr=ar.getAttribute("data-t")||ar.getAttribute("t")||"";nr!=null&&(nr.length==0?_r.t=fr||"z":Be.raw||nr.trim().length==0||fr=="s"||(nr==="TRUE"?_r={t:"b",v:!0}:nr==="FALSE"?_r={t:"b",v:!1}:isNaN(fuzzynum(nr))?isNaN(fuzzydate(nr).getDate())||(_r={t:"d",v:parseDate(nr)},Be.cellDates||(_r={t:"n",v:datenum(_r.v)}),_r.z=Be.dateNF||table_fmt[14]):_r={t:"n",v:fuzzynum(nr)})),_r.z===void 0&&sr!=null&&(_r.z=sr);var or="",Er=ar.getElementsByTagName("A");if(Er&&Er.length)for(var Rr=0;Rr<Er.length&&!(Er[Rr].hasAttribute("href")&&(or=Er[Rr].getAttribute("href"),or.charAt(0)!="#"));++Rr);or&&or.charAt(0)!="#"&&(_r.l={Target:or}),Be.dense?(Ce[Ke+De]||(Ce[Ke+De]=[]),Ce[Ke+De][Ye+Fe]=_r):Ce[encode_cell({c:Ye+Fe,r:Ke+De})]=_r,Ue.e.c<Ye+Fe&&(Ue.e.c=Ye+Fe),Ye+=Je}}++Ke}return He.length&&(Ce["!merges"]=(Ce["!merges"]||[]).concat(He)),Ue.e.r=Math.max(Ue.e.r,Ke-1+De),Ce["!ref"]=encode_range(Ue),Ke>=Me&&(Ce["!fullref"]=encode_range((Ue.e.r=ke.length-qe+Ke-1+De,Ue))),Ce}function parse_dom_table(Ce,Re){var je=Re||{},Be=je.dense?[]:{};return sheet_add_dom(Be,Ce,Re)}function table_to_book(Ce,Re){return sheet_to_workbook(parse_dom_table(Ce,Re),Re)}function is_dom_element_hidden(Ce){var Re="",je=get_get_computed_style_function(Ce);return je&&(Re=je(Ce).getPropertyValue("display")),Re||(Re=Ce.style&&Ce.style.display),Re==="none"}function get_get_computed_style_function(Ce){return Ce.ownerDocument.defaultView&&typeof Ce.ownerDocument.defaultView.getComputedStyle=="function"?Ce.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var write_styles_ods=(function(){var Ce=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),Re="<office:document-styles "+wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+Ce+"</office:document-styles>";return function(){return XML_HEADER+Re}})(),write_content_ods=(function(){var Ce=function(Fe){return escapexml(Fe).replace(/  +/g,function(Oe){return'<text:s text:c="'+Oe.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},Re=`          <table:table-cell />
`,je=`          <table:covered-table-cell/>
`,Be=function(Fe,Oe,ke){var Me=[];Me.push('      <table:table table:name="'+escapexml(Oe.SheetNames[ke])+`" table:style-name="ta1">
`);var Ue=0,$e=0,He=decode_range(Fe["!ref"]||"A1"),Qe=Fe["!merges"]||[],We=0,qe=Array.isArray(Fe);if(Fe["!cols"])for($e=0;$e<=He.e.c;++$e)Me.push("        <table:table-column"+(Fe["!cols"][$e]?' table:style-name="co'+Fe["!cols"][$e].ods+'"':"")+`></table:table-column>
`);var Ke="",Xe=Fe["!rows"]||[];for(Ue=0;Ue<He.s.r;++Ue)Ke=Xe[Ue]?' table:style-name="ro'+Xe[Ue].ods+'"':"",Me.push("        <table:table-row"+Ke+`></table:table-row>
`);for(;Ue<=He.e.r;++Ue){for(Ke=Xe[Ue]?' table:style-name="ro'+Xe[Ue].ods+'"':"",Me.push("        <table:table-row"+Ke+`>
`),$e=0;$e<He.s.c;++$e)Me.push(Re);for(;$e<=He.e.c;++$e){var Ye=!1,Ze={},Je="";for(We=0;We!=Qe.length;++We)if(!(Qe[We].s.c>$e)&&!(Qe[We].s.r>Ue)&&!(Qe[We].e.c<$e)&&!(Qe[We].e.r<Ue)){(Qe[We].s.c!=$e||Qe[We].s.r!=Ue)&&(Ye=!0),Ze["table:number-columns-spanned"]=Qe[We].e.c-Qe[We].s.c+1,Ze["table:number-rows-spanned"]=Qe[We].e.r-Qe[We].s.r+1;break}if(Ye){Me.push(je);continue}var tr=encode_cell({r:Ue,c:$e}),rr=qe?(Fe[Ue]||[])[$e]:Fe[tr];if(rr&&rr.f&&(Ze["table:formula"]=escapexml(csf_to_ods_formula(rr.f)),rr.F&&rr.F.slice(0,tr.length)==tr)){var ar=decode_range(rr.F);Ze["table:number-matrix-columns-spanned"]=ar.e.c-ar.s.c+1,Ze["table:number-matrix-rows-spanned"]=ar.e.r-ar.s.r+1}if(!rr){Me.push(Re);continue}switch(rr.t){case"b":Je=rr.v?"TRUE":"FALSE",Ze["office:value-type"]="boolean",Ze["office:boolean-value"]=rr.v?"true":"false";break;case"n":Je=rr.w||String(rr.v||0),Ze["office:value-type"]="float",Ze["office:value"]=rr.v||0;break;case"s":case"str":Je=rr.v==null?"":rr.v,Ze["office:value-type"]="string";break;case"d":Je=rr.w||parseDate(rr.v).toISOString(),Ze["office:value-type"]="date",Ze["office:date-value"]=parseDate(rr.v).toISOString(),Ze["table:style-name"]="ce1";break;default:Me.push(Re);continue}var nr=Ce(Je);if(rr.l&&rr.l.Target){var sr=rr.l.Target;sr=sr.charAt(0)=="#"?"#"+csf_to_ods_3D(sr.slice(1)):sr,sr.charAt(0)!="#"&&!sr.match(/^\w+:/)&&(sr="../"+sr),nr=writextag("text:a",nr,{"xlink:href":sr.replace(/&/g,"&amp;")})}Me.push("          "+writextag("table:table-cell",writextag("text:p",nr,{}),Ze)+`
`)}Me.push(`        </table:table-row>
`)}return Me.push(`      </table:table>
`),Me.join("")},De=function(Fe,Oe){Fe.push(` <office:automatic-styles>
`),Fe.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),Fe.push(`   <number:month number:style="long"/>
`),Fe.push(`   <number:text>/</number:text>
`),Fe.push(`   <number:day number:style="long"/>
`),Fe.push(`   <number:text>/</number:text>
`),Fe.push(`   <number:year/>
`),Fe.push(`  </number:date-style>
`);var ke=0;Oe.SheetNames.map(function(Ue){return Oe.Sheets[Ue]}).forEach(function(Ue){if(Ue&&Ue["!cols"]){for(var $e=0;$e<Ue["!cols"].length;++$e)if(Ue["!cols"][$e]){var He=Ue["!cols"][$e];if(He.width==null&&He.wpx==null&&He.wch==null)continue;process_col(He),He.ods=ke;var Qe=Ue["!cols"][$e].wpx+"px";Fe.push('  <style:style style:name="co'+ke+`" style:family="table-column">
`),Fe.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+Qe+`"/>
`),Fe.push(`  </style:style>
`),++ke}}});var Me=0;Oe.SheetNames.map(function(Ue){return Oe.Sheets[Ue]}).forEach(function(Ue){if(Ue&&Ue["!rows"]){for(var $e=0;$e<Ue["!rows"].length;++$e)if(Ue["!rows"][$e]){Ue["!rows"][$e].ods=Me;var He=Ue["!rows"][$e].hpx+"px";Fe.push('  <style:style style:name="ro'+Me+`" style:family="table-row">
`),Fe.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+He+`"/>
`),Fe.push(`  </style:style>
`),++Me}}}),Fe.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),Fe.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),Fe.push(`  </style:style>
`),Fe.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),Fe.push(` </office:automatic-styles>
`)};return function(Oe,ke){var Me=[XML_HEADER],Ue=wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),$e=wxt_helper({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});ke.bookType=="fods"?(Me.push("<office:document"+Ue+$e+`>
`),Me.push(write_meta_ods().replace(/office:document-meta/g,"office:meta"))):Me.push("<office:document-content"+Ue+`>
`),De(Me,Oe),Me.push(`  <office:body>
`),Me.push(`    <office:spreadsheet>
`);for(var He=0;He!=Oe.SheetNames.length;++He)Me.push(Be(Oe.Sheets[Oe.SheetNames[He]],Oe,He));return Me.push(`    </office:spreadsheet>
`),Me.push(`  </office:body>
`),ke.bookType=="fods"?Me.push("</office:document>"):Me.push("</office:document-content>"),Me.join("")}})();function write_ods(Ce,Re){if(Re.bookType=="fods")return write_content_ods(Ce,Re);var je=zip_new(),Be="",De=[],Fe=[];return Be="mimetype",zip_add_file(je,Be,"application/vnd.oasis.opendocument.spreadsheet"),Be="content.xml",zip_add_file(je,Be,write_content_ods(Ce,Re)),De.push([Be,"text/xml"]),Fe.push([Be,"ContentFile"]),Be="styles.xml",zip_add_file(je,Be,write_styles_ods(Ce,Re)),De.push([Be,"text/xml"]),Fe.push([Be,"StylesFile"]),Be="meta.xml",zip_add_file(je,Be,XML_HEADER+write_meta_ods()),De.push([Be,"text/xml"]),Fe.push([Be,"MetadataFile"]),Be="manifest.rdf",zip_add_file(je,Be,write_rdf(Fe)),De.push([Be,"application/rdf+xml"]),Be="META-INF/manifest.xml",zip_add_file(je,Be,write_manifest(De)),je}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function u8_to_dataview(Ce){return new DataView(Ce.buffer,Ce.byteOffset,Ce.byteLength)}function stru8(Ce){return typeof TextEncoder<"u"?new TextEncoder().encode(Ce):s2a(utf8write(Ce))}function u8contains(Ce,Re){e:for(var je=0;je<=Ce.length-Re.length;++je){for(var Be=0;Be<Re.length;++Be)if(Ce[je+Be]!=Re[Be])continue e;return!0}return!1}function u8concat(Ce){var Re=Ce.reduce(function(De,Fe){return De+Fe.length},0),je=new Uint8Array(Re),Be=0;return Ce.forEach(function(De){je.set(De,Be),Be+=De.length}),je}function writeDecimal128LE(Ce,Re,je){var Be=Math.floor(je==0?0:Math.LOG10E*Math.log(Math.abs(je)))+6176-20,De=je/Math.pow(10,Be-6176);Ce[Re+15]|=Be>>7,Ce[Re+14]|=(Be&127)<<1;for(var Fe=0;De>=1;++Fe,De/=256)Ce[Re+Fe]=De&255;Ce[Re+15]|=je>=0?0:128}function parse_varint49(Ce,Re){var je=Re?Re[0]:0,Be=Ce[je]&127;e:if(Ce[je++]>=128&&(Be|=(Ce[je]&127)<<7,Ce[je++]<128||(Be|=(Ce[je]&127)<<14,Ce[je++]<128)||(Be|=(Ce[je]&127)<<21,Ce[je++]<128)||(Be+=(Ce[je]&127)*Math.pow(2,28),++je,Ce[je++]<128)||(Be+=(Ce[je]&127)*Math.pow(2,35),++je,Ce[je++]<128)||(Be+=(Ce[je]&127)*Math.pow(2,42),++je,Ce[je++]<128)))break e;return Re&&(Re[0]=je),Be}function write_varint49(Ce){var Re=new Uint8Array(7);Re[0]=Ce&127;var je=1;e:if(Ce>127){if(Re[je-1]|=128,Re[je]=Ce>>7&127,++je,Ce<=16383||(Re[je-1]|=128,Re[je]=Ce>>14&127,++je,Ce<=2097151)||(Re[je-1]|=128,Re[je]=Ce>>21&127,++je,Ce<=268435455)||(Re[je-1]|=128,Re[je]=Ce/256>>>21&127,++je,Ce<=34359738367)||(Re[je-1]|=128,Re[je]=Ce/65536>>>21&127,++je,Ce<=4398046511103))break e;Re[je-1]|=128,Re[je]=Ce/16777216>>>21&127,++je}return Re.slice(0,je)}function varint_to_i32(Ce){var Re=0,je=Ce[Re]&127;e:if(Ce[Re++]>=128){if(je|=(Ce[Re]&127)<<7,Ce[Re++]<128||(je|=(Ce[Re]&127)<<14,Ce[Re++]<128)||(je|=(Ce[Re]&127)<<21,Ce[Re++]<128))break e;je|=(Ce[Re]&127)<<28}return je}function parse_shallow(Ce){for(var Re=[],je=[0];je[0]<Ce.length;){var Be=je[0],De=parse_varint49(Ce,je),Fe=De&7;De=Math.floor(De/8);var Oe=0,ke;if(De==0)break;switch(Fe){case 0:{for(var Me=je[0];Ce[je[0]++]>=128;);ke=Ce.slice(Me,je[0])}break;case 5:Oe=4,ke=Ce.slice(je[0],je[0]+Oe),je[0]+=Oe;break;case 1:Oe=8,ke=Ce.slice(je[0],je[0]+Oe),je[0]+=Oe;break;case 2:Oe=parse_varint49(Ce,je),ke=Ce.slice(je[0],je[0]+Oe),je[0]+=Oe;break;case 3:case 4:default:throw new Error("PB Type ".concat(Fe," for Field ").concat(De," at offset ").concat(Be))}var Ue={data:ke,type:Fe};Re[De]==null?Re[De]=[Ue]:Re[De].push(Ue)}return Re}function write_shallow(Ce){var Re=[];return Ce.forEach(function(je,Be){je.forEach(function(De){De.data&&(Re.push(write_varint49(Be*8+De.type)),De.type==2&&Re.push(write_varint49(De.data.length)),Re.push(De.data))})}),u8concat(Re)}function parse_iwa_file(Ce){for(var Re,je=[],Be=[0];Be[0]<Ce.length;){var De=parse_varint49(Ce,Be),Fe=parse_shallow(Ce.slice(Be[0],Be[0]+De));Be[0]+=De;var Oe={id:varint_to_i32(Fe[1][0].data),messages:[]};Fe[2].forEach(function(ke){var Me=parse_shallow(ke.data),Ue=varint_to_i32(Me[3][0].data);Oe.messages.push({meta:Me,data:Ce.slice(Be[0],Be[0]+Ue)}),Be[0]+=Ue}),(Re=Fe[3])!=null&&Re[0]&&(Oe.merge=varint_to_i32(Fe[3][0].data)>>>0>0),je.push(Oe)}return je}function write_iwa_file(Ce){var Re=[];return Ce.forEach(function(je){var Be=[];Be[1]=[{data:write_varint49(je.id),type:0}],Be[2]=[],je.merge!=null&&(Be[3]=[{data:write_varint49(+!!je.merge),type:0}]);var De=[];je.messages.forEach(function(Oe){De.push(Oe.data),Oe.meta[3]=[{type:0,data:write_varint49(Oe.data.length)}],Be[2].push({data:write_shallow(Oe.meta),type:2})});var Fe=write_shallow(Be);Re.push(write_varint49(Fe.length)),Re.push(Fe),De.forEach(function(Oe){return Re.push(Oe)})}),u8concat(Re)}function parse_snappy_chunk(Ce,Re){if(Ce!=0)throw new Error("Unexpected Snappy chunk type ".concat(Ce));for(var je=[0],Be=parse_varint49(Re,je),De=[];je[0]<Re.length;){var Fe=Re[je[0]]&3;if(Fe==0){var Oe=Re[je[0]++]>>2;if(Oe<60)++Oe;else{var ke=Oe-59;Oe=Re[je[0]],ke>1&&(Oe|=Re[je[0]+1]<<8),ke>2&&(Oe|=Re[je[0]+2]<<16),ke>3&&(Oe|=Re[je[0]+3]<<24),Oe>>>=0,Oe++,je[0]+=ke}De.push(Re.slice(je[0],je[0]+Oe)),je[0]+=Oe;continue}else{var Me=0,Ue=0;if(Fe==1?(Ue=(Re[je[0]]>>2&7)+4,Me=(Re[je[0]++]&224)<<3,Me|=Re[je[0]++]):(Ue=(Re[je[0]++]>>2)+1,Fe==2?(Me=Re[je[0]]|Re[je[0]+1]<<8,je[0]+=2):(Me=(Re[je[0]]|Re[je[0]+1]<<8|Re[je[0]+2]<<16|Re[je[0]+3]<<24)>>>0,je[0]+=4)),De=[u8concat(De)],Me==0)throw new Error("Invalid offset 0");if(Me>De[0].length)throw new Error("Invalid offset beyond length");if(Ue>=Me)for(De.push(De[0].slice(-Me)),Ue-=Me;Ue>=De[De.length-1].length;)De.push(De[De.length-1]),Ue-=De[De.length-1].length;De.push(De[0].slice(-Me,-Me+Ue))}}var $e=u8concat(De);if($e.length!=Be)throw new Error("Unexpected length: ".concat($e.length," != ").concat(Be));return $e}function decompress_iwa_file(Ce){for(var Re=[],je=0;je<Ce.length;){var Be=Ce[je++],De=Ce[je]|Ce[je+1]<<8|Ce[je+2]<<16;je+=3,Re.push(parse_snappy_chunk(Be,Ce.slice(je,je+De))),je+=De}if(je!==Ce.length)throw new Error("data is not a valid framed stream!");return u8concat(Re)}function compress_iwa_file(Ce){for(var Re=[],je=0;je<Ce.length;){var Be=Math.min(Ce.length-je,268435455),De=new Uint8Array(4);Re.push(De);var Fe=write_varint49(Be),Oe=Fe.length;Re.push(Fe),Be<=60?(Oe++,Re.push(new Uint8Array([Be-1<<2]))):Be<=256?(Oe+=2,Re.push(new Uint8Array([240,Be-1&255]))):Be<=65536?(Oe+=3,Re.push(new Uint8Array([244,Be-1&255,Be-1>>8&255]))):Be<=16777216?(Oe+=4,Re.push(new Uint8Array([248,Be-1&255,Be-1>>8&255,Be-1>>16&255]))):Be<=4294967296&&(Oe+=5,Re.push(new Uint8Array([252,Be-1&255,Be-1>>8&255,Be-1>>16&255,Be-1>>>24&255]))),Re.push(Ce.slice(je,je+Be)),Oe+=Be,De[0]=0,De[1]=Oe&255,De[2]=Oe>>8&255,De[3]=Oe>>16&255,je+=Be}return u8concat(Re)}function write_new_storage(Ce,Re){var je=new Uint8Array(32),Be=u8_to_dataview(je),De=12,Fe=0;switch(je[0]=5,Ce.t){case"n":je[1]=2,writeDecimal128LE(je,De,Ce.v),Fe|=1,De+=16;break;case"b":je[1]=6,Be.setFloat64(De,Ce.v?1:0,!0),Fe|=2,De+=8;break;case"s":if(Re.indexOf(Ce.v)==-1)throw new Error("Value ".concat(Ce.v," missing from SST!"));je[1]=3,Be.setUint32(De,Re.indexOf(Ce.v),!0),Fe|=8,De+=4;break;default:throw"unsupported cell type "+Ce.t}return Be.setUint32(8,Fe,!0),je.slice(0,De)}function write_old_storage(Ce,Re){var je=new Uint8Array(32),Be=u8_to_dataview(je),De=12,Fe=0;switch(je[0]=3,Ce.t){case"n":je[2]=2,Be.setFloat64(De,Ce.v,!0),Fe|=32,De+=8;break;case"b":je[2]=6,Be.setFloat64(De,Ce.v?1:0,!0),Fe|=32,De+=8;break;case"s":if(Re.indexOf(Ce.v)==-1)throw new Error("Value ".concat(Ce.v," missing from SST!"));je[2]=3,Be.setUint32(De,Re.indexOf(Ce.v),!0),Fe|=16,De+=4;break;default:throw"unsupported cell type "+Ce.t}return Be.setUint32(4,Fe,!0),je.slice(0,De)}function parse_TSP_Reference(Ce){var Re=parse_shallow(Ce);return parse_varint49(Re[1][0].data)}function write_tile_row(Ce,Re,je){var Be,De,Fe,Oe;if(!((Be=Ce[6])!=null&&Be[0])||!((De=Ce[7])!=null&&De[0]))throw"Mutation only works on post-BNC storages!";var ke=((Oe=(Fe=Ce[8])==null?void 0:Fe[0])==null?void 0:Oe.data)&&varint_to_i32(Ce[8][0].data)>0||!1;if(ke)throw"Math only works with normal offsets";for(var Me=0,Ue=u8_to_dataview(Ce[7][0].data),$e=0,He=[],Qe=u8_to_dataview(Ce[4][0].data),We=0,qe=[],Ke=0;Ke<Re.length;++Ke){if(Re[Ke]==null){Ue.setUint16(Ke*2,65535,!0),Qe.setUint16(Ke*2,65535);continue}Ue.setUint16(Ke*2,$e,!0),Qe.setUint16(Ke*2,We,!0);var Xe,Ye;switch(typeof Re[Ke]){case"string":Xe=write_new_storage({t:"s",v:Re[Ke]},je),Ye=write_old_storage({t:"s",v:Re[Ke]},je);break;case"number":Xe=write_new_storage({t:"n",v:Re[Ke]},je),Ye=write_old_storage({t:"n",v:Re[Ke]},je);break;case"boolean":Xe=write_new_storage({t:"b",v:Re[Ke]},je),Ye=write_old_storage({t:"b",v:Re[Ke]},je);break;default:throw new Error("Unsupported value "+Re[Ke])}He.push(Xe),$e+=Xe.length,qe.push(Ye),We+=Ye.length,++Me}for(Ce[2][0].data=write_varint49(Me);Ke<Ce[7][0].data.length/2;++Ke)Ue.setUint16(Ke*2,65535,!0),Qe.setUint16(Ke*2,65535,!0);return Ce[6][0].data=u8concat(He),Ce[3][0].data=u8concat(qe),Me}function write_numbers_iwa(Ce,Re){if(!Re||!Re.numbers)throw new Error("Must pass a `numbers` option -- check the README");var je=Ce.Sheets[Ce.SheetNames[0]];Ce.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var Be=decode_range(je["!ref"]);Be.s.r=Be.s.c=0;var De=!1;Be.e.c>9&&(De=!0,Be.e.c=9),Be.e.r>49&&(De=!0,Be.e.r=49),De&&console.error("The Numbers writer is currently limited to ".concat(encode_range(Be)));var Fe=sheet_to_json(je,{range:Be,header:1}),Oe=["~Sh33tJ5~"];Fe.forEach(function(vr){return vr.forEach(function(Tr){typeof Tr=="string"&&Oe.push(Tr)})});var ke={},Me=[],Ue=CFB.read(Re.numbers,{type:"base64"});Ue.FileIndex.map(function(vr,Tr){return[vr,Ue.FullPaths[Tr]]}).forEach(function(vr){var Tr=vr[0],Or=vr[1];if(Tr.type==2&&Tr.name.match(/\.iwa/)){var Nr=Tr.content,Hr=decompress_iwa_file(Nr),Wr=parse_iwa_file(Hr);Wr.forEach(function(qr){Me.push(qr.id),ke[qr.id]={deps:[],location:Or,type:varint_to_i32(qr.messages[0].meta[1][0].data)}})}}),Me.sort(function(vr,Tr){return vr-Tr});var $e=Me.filter(function(vr){return vr>1}).map(function(vr){return[vr,write_varint49(vr)]});Ue.FileIndex.map(function(vr,Tr){return[vr,Ue.FullPaths[Tr]]}).forEach(function(vr){var Tr=vr[0];if(vr[1],!!Tr.name.match(/\.iwa/)){var Or=parse_iwa_file(decompress_iwa_file(Tr.content));Or.forEach(function(Nr){Nr.messages.forEach(function(Hr){$e.forEach(function(Wr){Nr.messages.some(function(qr){return varint_to_i32(qr.meta[1][0].data)!=11006&&u8contains(qr.data,Wr[1])})&&ke[Wr[0]].deps.push(Nr.id)})})})}});for(var He=CFB.find(Ue,ke[1].location),Qe=parse_iwa_file(decompress_iwa_file(He.content)),We,qe=0;qe<Qe.length;++qe){var Ke=Qe[qe];Ke.id==1&&(We=Ke)}var Xe=parse_TSP_Reference(parse_shallow(We.messages[0].data)[1][0].data);for(He=CFB.find(Ue,ke[Xe].location),Qe=parse_iwa_file(decompress_iwa_file(He.content)),qe=0;qe<Qe.length;++qe)Ke=Qe[qe],Ke.id==Xe&&(We=Ke);for(Xe=parse_TSP_Reference(parse_shallow(We.messages[0].data)[2][0].data),He=CFB.find(Ue,ke[Xe].location),Qe=parse_iwa_file(decompress_iwa_file(He.content)),qe=0;qe<Qe.length;++qe)Ke=Qe[qe],Ke.id==Xe&&(We=Ke);for(Xe=parse_TSP_Reference(parse_shallow(We.messages[0].data)[2][0].data),He=CFB.find(Ue,ke[Xe].location),Qe=parse_iwa_file(decompress_iwa_file(He.content)),qe=0;qe<Qe.length;++qe)Ke=Qe[qe],Ke.id==Xe&&(We=Ke);var Ye=parse_shallow(We.messages[0].data);{Ye[6][0].data=write_varint49(Be.e.r+1),Ye[7][0].data=write_varint49(Be.e.c+1);var Ze=parse_TSP_Reference(Ye[46][0].data),Je=CFB.find(Ue,ke[Ze].location),tr=parse_iwa_file(decompress_iwa_file(Je.content));{for(var rr=0;rr<tr.length&&tr[rr].id!=Ze;++rr);if(tr[rr].id!=Ze)throw"Bad ColumnRowUIDMapArchive";var ar=parse_shallow(tr[rr].messages[0].data);ar[1]=[],ar[2]=[],ar[3]=[];for(var nr=0;nr<=Be.e.c;++nr){var sr=[];sr[1]=sr[2]=[{type:0,data:write_varint49(nr+420690)}],ar[1].push({type:2,data:write_shallow(sr)}),ar[2].push({type:0,data:write_varint49(nr)}),ar[3].push({type:0,data:write_varint49(nr)})}ar[4]=[],ar[5]=[],ar[6]=[];for(var dr=0;dr<=Be.e.r;++dr)sr=[],sr[1]=sr[2]=[{type:0,data:write_varint49(dr+726270)}],ar[4].push({type:2,data:write_shallow(sr)}),ar[5].push({type:0,data:write_varint49(dr)}),ar[6].push({type:0,data:write_varint49(dr)});tr[rr].messages[0].data=write_shallow(ar)}Je.content=compress_iwa_file(write_iwa_file(tr)),Je.size=Je.content.length,delete Ye[46];var _r=parse_shallow(Ye[4][0].data);{_r[7][0].data=write_varint49(Be.e.r+1);var fr=parse_shallow(_r[1][0].data),or=parse_TSP_Reference(fr[2][0].data);Je=CFB.find(Ue,ke[or].location),tr=parse_iwa_file(decompress_iwa_file(Je.content));{if(tr[0].id!=or)throw"Bad HeaderStorageBucket";var Er=parse_shallow(tr[0].messages[0].data);for(dr=0;dr<Fe.length;++dr){var Rr=parse_shallow(Er[2][0].data);Rr[1][0].data=write_varint49(dr),Rr[4][0].data=write_varint49(Fe[dr].length),Er[2][dr]={type:Er[2][0].type,data:write_shallow(Rr)}}tr[0].messages[0].data=write_shallow(Er)}Je.content=compress_iwa_file(write_iwa_file(tr)),Je.size=Je.content.length;var jr=parse_TSP_Reference(_r[2][0].data);Je=CFB.find(Ue,ke[jr].location),tr=parse_iwa_file(decompress_iwa_file(Je.content));{if(tr[0].id!=jr)throw"Bad HeaderStorageBucket";for(Er=parse_shallow(tr[0].messages[0].data),nr=0;nr<=Be.e.c;++nr)Rr=parse_shallow(Er[2][0].data),Rr[1][0].data=write_varint49(nr),Rr[4][0].data=write_varint49(Be.e.r+1),Er[2][nr]={type:Er[2][0].type,data:write_shallow(Rr)};tr[0].messages[0].data=write_shallow(Er)}Je.content=compress_iwa_file(write_iwa_file(tr)),Je.size=Je.content.length;var xr=parse_TSP_Reference(_r[4][0].data);(function(){for(var vr=CFB.find(Ue,ke[xr].location),Tr=parse_iwa_file(decompress_iwa_file(vr.content)),Or,Nr=0;Nr<Tr.length;++Nr){var Hr=Tr[Nr];Hr.id==xr&&(Or=Hr)}var Wr=parse_shallow(Or.messages[0].data);{Wr[3]=[];var qr=[];Oe.forEach(function(an,bn){qr[1]=[{type:0,data:write_varint49(bn)}],qr[2]=[{type:0,data:write_varint49(1)}],qr[3]=[{type:2,data:stru8(an)}],Wr[3].push({type:2,data:write_shallow(qr)})})}Or.messages[0].data=write_shallow(Wr);var Jr=write_iwa_file(Tr),An=compress_iwa_file(Jr);vr.content=An,vr.size=vr.content.length})();var Pr=parse_shallow(_r[3][0].data);{var br=Pr[1][0];delete Pr[2];var wr=parse_shallow(br.data);{var Br=parse_TSP_Reference(wr[2][0].data);(function(){for(var vr=CFB.find(Ue,ke[Br].location),Tr=parse_iwa_file(decompress_iwa_file(vr.content)),Or,Nr=0;Nr<Tr.length;++Nr){var Hr=Tr[Nr];Hr.id==Br&&(Or=Hr)}var Wr=parse_shallow(Or.messages[0].data);{delete Wr[6],delete Pr[7];var qr=new Uint8Array(Wr[5][0].data);Wr[5]=[];for(var Jr=0,An=0;An<=Be.e.r;++An){var an=parse_shallow(qr);Jr+=write_tile_row(an,Fe[An],Oe),an[1][0].data=write_varint49(An),Wr[5].push({data:write_shallow(an),type:2})}Wr[1]=[{type:0,data:write_varint49(Be.e.c+1)}],Wr[2]=[{type:0,data:write_varint49(Be.e.r+1)}],Wr[3]=[{type:0,data:write_varint49(Jr)}],Wr[4]=[{type:0,data:write_varint49(Be.e.r+1)}]}Or.messages[0].data=write_shallow(Wr);var bn=write_iwa_file(Tr),gn=compress_iwa_file(bn);vr.content=gn,vr.size=vr.content.length})()}br.data=write_shallow(wr)}_r[3][0].data=write_shallow(Pr)}Ye[4][0].data=write_shallow(_r)}We.messages[0].data=write_shallow(Ye);var Lr=write_iwa_file(Qe),yr=compress_iwa_file(Lr);return He.content=yr,He.size=He.content.length,Ue}function fix_opts_func(Ce){return function(je){for(var Be=0;Be!=Ce.length;++Be){var De=Ce[Be];je[De[0]]===void 0&&(je[De[0]]=De[1]),De[2]==="n"&&(je[De[0]]=Number(je[De[0]]))}}}function fix_write_opts(Ce){fix_opts_func([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(Ce)}function write_zip(Ce,Re){return Re.bookType=="ods"?write_ods(Ce,Re):Re.bookType=="numbers"?write_numbers_iwa(Ce,Re):Re.bookType=="xlsb"?write_zip_xlsxb(Ce,Re):write_zip_xlsx(Ce,Re)}function write_zip_xlsxb(Ce,Re){_shapeid=1024,Ce&&!Ce.SSF&&(Ce.SSF=dup(table_fmt)),Ce&&Ce.SSF&&(make_ssf(),SSF_load_table(Ce.SSF),Re.revssf=evert_num(Ce.SSF),Re.revssf[Ce.SSF[65535]]=0,Re.ssf=Ce.SSF),Re.rels={},Re.wbrels={},Re.Strings=[],Re.Strings.Count=0,Re.Strings.Unique=0,browser_has_Map?Re.revStrings=new Map:(Re.revStrings={},Re.revStrings.foo=[],delete Re.revStrings.foo);var je=Re.bookType=="xlsb"?"bin":"xml",Be=VBAFMTS.indexOf(Re.bookType)>-1,De=new_ct();fix_write_opts(Re=Re||{});var Fe=zip_new(),Oe="",ke=0;if(Re.cellXfs=[],get_cell_style(Re.cellXfs,{},{revssf:{General:0}}),Ce.Props||(Ce.Props={}),Oe="docProps/core.xml",zip_add_file(Fe,Oe,write_core_props(Ce.Props,Re)),De.coreprops.push(Oe),add_rels(Re.rels,2,Oe,RELS.CORE_PROPS),Oe="docProps/app.xml",!(Ce.Props&&Ce.Props.SheetNames))if(!Ce.Workbook||!Ce.Workbook.Sheets)Ce.Props.SheetNames=Ce.SheetNames;else{for(var Me=[],Ue=0;Ue<Ce.SheetNames.length;++Ue)(Ce.Workbook.Sheets[Ue]||{}).Hidden!=2&&Me.push(Ce.SheetNames[Ue]);Ce.Props.SheetNames=Me}for(Ce.Props.Worksheets=Ce.Props.SheetNames.length,zip_add_file(Fe,Oe,write_ext_props(Ce.Props)),De.extprops.push(Oe),add_rels(Re.rels,3,Oe,RELS.EXT_PROPS),Ce.Custprops!==Ce.Props&&keys(Ce.Custprops||{}).length>0&&(Oe="docProps/custom.xml",zip_add_file(Fe,Oe,write_cust_props(Ce.Custprops)),De.custprops.push(Oe),add_rels(Re.rels,4,Oe,RELS.CUST_PROPS)),ke=1;ke<=Ce.SheetNames.length;++ke){var $e={"!id":{}},He=Ce.Sheets[Ce.SheetNames[ke-1]],Qe=(He||{})["!type"]||"sheet";switch(Qe){case"chart":default:Oe="xl/worksheets/sheet"+ke+"."+je,zip_add_file(Fe,Oe,write_ws(ke-1,Oe,Re,Ce,$e)),De.sheets.push(Oe),add_rels(Re.wbrels,-1,"worksheets/sheet"+ke+"."+je,RELS.WS[0])}if(He){var We=He["!comments"],qe=!1,Ke="";We&&We.length>0&&(Ke="xl/comments"+ke+"."+je,zip_add_file(Fe,Ke,write_cmnt(We,Ke)),De.comments.push(Ke),add_rels($e,-1,"../comments"+ke+"."+je,RELS.CMNT),qe=!0),He["!legacy"]&&qe&&zip_add_file(Fe,"xl/drawings/vmlDrawing"+ke+".vml",write_comments_vml(ke,He["!comments"])),delete He["!comments"],delete He["!legacy"]}$e["!id"].rId1&&zip_add_file(Fe,get_rels_path(Oe),write_rels($e))}return Re.Strings!=null&&Re.Strings.length>0&&(Oe="xl/sharedStrings."+je,zip_add_file(Fe,Oe,write_sst(Re.Strings,Oe,Re)),De.strs.push(Oe),add_rels(Re.wbrels,-1,"sharedStrings."+je,RELS.SST)),Oe="xl/workbook."+je,zip_add_file(Fe,Oe,write_wb(Ce,Oe)),De.workbooks.push(Oe),add_rels(Re.rels,1,Oe,RELS.WB),Oe="xl/theme/theme1.xml",zip_add_file(Fe,Oe,write_theme(Ce.Themes,Re)),De.themes.push(Oe),add_rels(Re.wbrels,-1,"theme/theme1.xml",RELS.THEME),Oe="xl/styles."+je,zip_add_file(Fe,Oe,write_sty(Ce,Oe,Re)),De.styles.push(Oe),add_rels(Re.wbrels,-1,"styles."+je,RELS.STY),Ce.vbaraw&&Be&&(Oe="xl/vbaProject.bin",zip_add_file(Fe,Oe,Ce.vbaraw),De.vba.push(Oe),add_rels(Re.wbrels,-1,"vbaProject.bin",RELS.VBA)),Oe="xl/metadata."+je,zip_add_file(Fe,Oe,write_xlmeta(Oe)),De.metadata.push(Oe),add_rels(Re.wbrels,-1,"metadata."+je,RELS.XLMETA),zip_add_file(Fe,"[Content_Types].xml",write_ct(De,Re)),zip_add_file(Fe,"_rels/.rels",write_rels(Re.rels)),zip_add_file(Fe,"xl/_rels/workbook."+je+".rels",write_rels(Re.wbrels)),delete Re.revssf,delete Re.ssf,Fe}function write_zip_xlsx(Ce,Re){_shapeid=1024,Ce&&!Ce.SSF&&(Ce.SSF=dup(table_fmt)),Ce&&Ce.SSF&&(make_ssf(),SSF_load_table(Ce.SSF),Re.revssf=evert_num(Ce.SSF),Re.revssf[Ce.SSF[65535]]=0,Re.ssf=Ce.SSF),Re.rels={},Re.wbrels={},Re.Strings=[],Re.Strings.Count=0,Re.Strings.Unique=0,browser_has_Map?Re.revStrings=new Map:(Re.revStrings={},Re.revStrings.foo=[],delete Re.revStrings.foo);var je="xml",Be=VBAFMTS.indexOf(Re.bookType)>-1,De=new_ct();fix_write_opts(Re=Re||{});var Fe=zip_new(),Oe="",ke=0;if(Re.cellXfs=[],get_cell_style(Re.cellXfs,{},{revssf:{General:0}}),Ce.Props||(Ce.Props={}),Oe="docProps/core.xml",zip_add_file(Fe,Oe,write_core_props(Ce.Props,Re)),De.coreprops.push(Oe),add_rels(Re.rels,2,Oe,RELS.CORE_PROPS),Oe="docProps/app.xml",!(Ce.Props&&Ce.Props.SheetNames))if(!Ce.Workbook||!Ce.Workbook.Sheets)Ce.Props.SheetNames=Ce.SheetNames;else{for(var Me=[],Ue=0;Ue<Ce.SheetNames.length;++Ue)(Ce.Workbook.Sheets[Ue]||{}).Hidden!=2&&Me.push(Ce.SheetNames[Ue]);Ce.Props.SheetNames=Me}Ce.Props.Worksheets=Ce.Props.SheetNames.length,zip_add_file(Fe,Oe,write_ext_props(Ce.Props)),De.extprops.push(Oe),add_rels(Re.rels,3,Oe,RELS.EXT_PROPS),Ce.Custprops!==Ce.Props&&keys(Ce.Custprops||{}).length>0&&(Oe="docProps/custom.xml",zip_add_file(Fe,Oe,write_cust_props(Ce.Custprops)),De.custprops.push(Oe),add_rels(Re.rels,4,Oe,RELS.CUST_PROPS));var $e=["SheetJ5"];for(Re.tcid=0,ke=1;ke<=Ce.SheetNames.length;++ke){var He={"!id":{}},Qe=Ce.Sheets[Ce.SheetNames[ke-1]],We=(Qe||{})["!type"]||"sheet";switch(We){case"chart":default:Oe="xl/worksheets/sheet"+ke+"."+je,zip_add_file(Fe,Oe,write_ws_xml(ke-1,Re,Ce,He)),De.sheets.push(Oe),add_rels(Re.wbrels,-1,"worksheets/sheet"+ke+"."+je,RELS.WS[0])}if(Qe){var qe=Qe["!comments"],Ke=!1,Xe="";if(qe&&qe.length>0){var Ye=!1;qe.forEach(function(Ze){Ze[1].forEach(function(Je){Je.T==!0&&(Ye=!0)})}),Ye&&(Xe="xl/threadedComments/threadedComment"+ke+"."+je,zip_add_file(Fe,Xe,write_tcmnt_xml(qe,$e,Re)),De.threadedcomments.push(Xe),add_rels(He,-1,"../threadedComments/threadedComment"+ke+"."+je,RELS.TCMNT)),Xe="xl/comments"+ke+"."+je,zip_add_file(Fe,Xe,write_comments_xml(qe)),De.comments.push(Xe),add_rels(He,-1,"../comments"+ke+"."+je,RELS.CMNT),Ke=!0}Qe["!legacy"]&&Ke&&zip_add_file(Fe,"xl/drawings/vmlDrawing"+ke+".vml",write_comments_vml(ke,Qe["!comments"])),delete Qe["!comments"],delete Qe["!legacy"]}He["!id"].rId1&&zip_add_file(Fe,get_rels_path(Oe),write_rels(He))}return Re.Strings!=null&&Re.Strings.length>0&&(Oe="xl/sharedStrings."+je,zip_add_file(Fe,Oe,write_sst_xml(Re.Strings,Re)),De.strs.push(Oe),add_rels(Re.wbrels,-1,"sharedStrings."+je,RELS.SST)),Oe="xl/workbook."+je,zip_add_file(Fe,Oe,write_wb_xml(Ce)),De.workbooks.push(Oe),add_rels(Re.rels,1,Oe,RELS.WB),Oe="xl/theme/theme1.xml",zip_add_file(Fe,Oe,write_theme(Ce.Themes,Re)),De.themes.push(Oe),add_rels(Re.wbrels,-1,"theme/theme1.xml",RELS.THEME),Oe="xl/styles."+je,zip_add_file(Fe,Oe,write_sty_xml(Ce,Re)),De.styles.push(Oe),add_rels(Re.wbrels,-1,"styles."+je,RELS.STY),Ce.vbaraw&&Be&&(Oe="xl/vbaProject.bin",zip_add_file(Fe,Oe,Ce.vbaraw),De.vba.push(Oe),add_rels(Re.wbrels,-1,"vbaProject.bin",RELS.VBA)),Oe="xl/metadata."+je,zip_add_file(Fe,Oe,write_xlmeta_xml()),De.metadata.push(Oe),add_rels(Re.wbrels,-1,"metadata."+je,RELS.XLMETA),$e.length>1&&(Oe="xl/persons/person.xml",zip_add_file(Fe,Oe,write_people_xml($e)),De.people.push(Oe),add_rels(Re.wbrels,-1,"persons/person.xml",RELS.PEOPLE)),zip_add_file(Fe,"[Content_Types].xml",write_ct(De,Re)),zip_add_file(Fe,"_rels/.rels",write_rels(Re.rels)),zip_add_file(Fe,"xl/_rels/workbook."+je+".rels",write_rels(Re.wbrels)),delete Re.revssf,delete Re.ssf,Fe}function firstbyte(Ce,Re){var je="";switch((Re||{}).type||"base64"){case"buffer":return[Ce[0],Ce[1],Ce[2],Ce[3],Ce[4],Ce[5],Ce[6],Ce[7]];case"base64":je=Base64_decode(Ce.slice(0,12));break;case"binary":je=Ce;break;case"array":return[Ce[0],Ce[1],Ce[2],Ce[3],Ce[4],Ce[5],Ce[6],Ce[7]];default:throw new Error("Unrecognized type "+(Re&&Re.type||"undefined"))}return[je.charCodeAt(0),je.charCodeAt(1),je.charCodeAt(2),je.charCodeAt(3),je.charCodeAt(4),je.charCodeAt(5),je.charCodeAt(6),je.charCodeAt(7)]}function write_cfb_ctr(Ce,Re){switch(Re.type){case"base64":case"binary":break;case"buffer":case"array":Re.type="";break;case"file":return write_dl(Re.file,CFB.write(Ce,{type:has_buf?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+Re.bookType+"' files");default:throw new Error("Unrecognized type "+Re.type)}return CFB.write(Ce,Re)}function write_zip_type(Ce,Re){var je=dup(Re||{}),Be=write_zip(Ce,je);return write_zip_denouement(Be,je)}function write_zip_denouement(Ce,Re){var je={},Be=has_buf?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(Re.compression&&(je.compression="DEFLATE"),Re.password)je.type=Be;else switch(Re.type){case"base64":je.type="base64";break;case"binary":je.type="string";break;case"string":throw new Error("'string' output type invalid for '"+Re.bookType+"' files");case"buffer":case"file":je.type=Be;break;default:throw new Error("Unrecognized type "+Re.type)}var De=Ce.FullPaths?CFB.write(Ce,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[je.type]||je.type,compression:!!Re.compression}):Ce.generate(je);if(typeof Deno<"u"&&typeof De=="string"){if(Re.type=="binary"||Re.type=="base64")return De;De=new Uint8Array(s2ab(De))}return Re.password&&typeof encrypt_agile<"u"?write_cfb_ctr(encrypt_agile(De,Re.password),Re):Re.type==="file"?write_dl(Re.file,De):Re.type=="string"?utf8read(De):De}function write_cfb_type(Ce,Re){var je=Re||{},Be=write_xlscfb(Ce,je);return write_cfb_ctr(Be,je)}function write_string_type(Ce,Re,je){je||(je="");var Be=je+Ce;switch(Re.type){case"base64":return Base64_encode(utf8write(Be));case"binary":return utf8write(Be);case"string":return Ce;case"file":return write_dl(Re.file,Be,"utf8");case"buffer":return has_buf?Buffer_from(Be,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(Be):write_string_type(Be,{type:"binary"}).split("").map(function(De){return De.charCodeAt(0)})}throw new Error("Unrecognized type "+Re.type)}function write_stxt_type(Ce,Re){switch(Re.type){case"base64":return Base64_encode(Ce);case"binary":return Ce;case"string":return Ce;case"file":return write_dl(Re.file,Ce,"binary");case"buffer":return has_buf?Buffer_from(Ce,"binary"):Ce.split("").map(function(je){return je.charCodeAt(0)})}throw new Error("Unrecognized type "+Re.type)}function write_binary_type(Ce,Re){switch(Re.type){case"string":case"base64":case"binary":for(var je="",Be=0;Be<Ce.length;++Be)je+=String.fromCharCode(Ce[Be]);return Re.type=="base64"?Base64_encode(je):Re.type=="string"?utf8read(je):je;case"file":return write_dl(Re.file,Ce);case"buffer":return Ce;default:throw new Error("Unrecognized type "+Re.type)}}function writeSync(Ce,Re){reset_cp(),check_wb(Ce);var je=dup(Re||{});if(je.cellStyles&&(je.cellNF=!0,je.sheetStubs=!0),je.type=="array"){je.type="binary";var Be=writeSync(Ce,je);return je.type="array",s2ab(Be)}var De=0;if(je.sheet&&(typeof je.sheet=="number"?De=je.sheet:De=Ce.SheetNames.indexOf(je.sheet),!Ce.SheetNames[De]))throw new Error("Sheet not found: "+je.sheet+" : "+typeof je.sheet);switch(je.bookType||"xlsb"){case"xml":case"xlml":return write_string_type(write_xlml(Ce,je),je);case"slk":case"sylk":return write_string_type(SYLK.from_sheet(Ce.Sheets[Ce.SheetNames[De]],je),je);case"htm":case"html":return write_string_type(sheet_to_html(Ce.Sheets[Ce.SheetNames[De]],je),je);case"txt":return write_stxt_type(sheet_to_txt(Ce.Sheets[Ce.SheetNames[De]],je),je);case"csv":return write_string_type(sheet_to_csv(Ce.Sheets[Ce.SheetNames[De]],je),je,"\uFEFF");case"dif":return write_string_type(DIF.from_sheet(Ce.Sheets[Ce.SheetNames[De]],je),je);case"dbf":return write_binary_type(DBF.from_sheet(Ce.Sheets[Ce.SheetNames[De]],je),je);case"prn":return write_string_type(PRN.from_sheet(Ce.Sheets[Ce.SheetNames[De]],je),je);case"rtf":return write_string_type(RTF.from_sheet(Ce.Sheets[Ce.SheetNames[De]],je),je);case"eth":return write_string_type(ETH.from_sheet(Ce.Sheets[Ce.SheetNames[De]],je),je);case"fods":return write_string_type(write_ods(Ce,je),je);case"wk1":return write_binary_type(WK_.sheet_to_wk1(Ce.Sheets[Ce.SheetNames[De]],je),je);case"wk3":return write_binary_type(WK_.book_to_wk3(Ce,je),je);case"biff2":je.biff||(je.biff=2);case"biff3":je.biff||(je.biff=3);case"biff4":return je.biff||(je.biff=4),write_binary_type(write_biff_buf(Ce,je),je);case"biff5":je.biff||(je.biff=5);case"biff8":case"xla":case"xls":return je.biff||(je.biff=8),write_cfb_type(Ce,je);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return write_zip_type(Ce,je);default:throw new Error("Unrecognized bookType |"+je.bookType+"|")}}function resolve_book_type(Ce){if(!Ce.bookType){var Re={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},je=Ce.file.slice(Ce.file.lastIndexOf(".")).toLowerCase();je.match(/^\.[a-z]+$/)&&(Ce.bookType=je.slice(1)),Ce.bookType=Re[Ce.bookType]||Ce.bookType}}function writeFileSync(Ce,Re,je){var Be={};return Be.type="file",Be.file=Re,resolve_book_type(Be),writeSync(Ce,Be)}function make_json_row(Ce,Re,je,Be,De,Fe,Oe,ke){var Me=encode_row(je),Ue=ke.defval,$e=ke.raw||!Object.prototype.hasOwnProperty.call(ke,"raw"),He=!0,Qe=De===1?[]:{};if(De!==1)if(Object.defineProperty)try{Object.defineProperty(Qe,"__rowNum__",{value:je,enumerable:!1})}catch{Qe.__rowNum__=je}else Qe.__rowNum__=je;if(!Oe||Ce[je])for(var We=Re.s.c;We<=Re.e.c;++We){var qe=Oe?Ce[je][We]:Ce[Be[We]+Me];if(qe===void 0||qe.t===void 0){if(Ue===void 0)continue;Fe[We]!=null&&(Qe[Fe[We]]=Ue);continue}var Ke=qe.v;switch(qe.t){case"z":if(Ke==null)break;continue;case"e":Ke=Ke==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+qe.t)}if(Fe[We]!=null){if(Ke==null)if(qe.t=="e"&&Ke===null)Qe[Fe[We]]=null;else if(Ue!==void 0)Qe[Fe[We]]=Ue;else if($e&&Ke===null)Qe[Fe[We]]=null;else continue;else Qe[Fe[We]]=$e&&(qe.t!=="n"||qe.t==="n"&&ke.rawNumbers!==!1)?Ke:format_cell(qe,Ke,ke);Ke!=null&&(He=!1)}}return{row:Qe,isempty:He}}function sheet_to_json(Ce,Re){if(Ce==null||Ce["!ref"]==null)return[];var je={t:"n",v:0},Be=0,De=1,Fe=[],Oe=0,ke="",Me={s:{r:0,c:0},e:{r:0,c:0}},Ue=Re||{},$e=Ue.range!=null?Ue.range:Ce["!ref"];switch(Ue.header===1?Be=1:Ue.header==="A"?Be=2:Array.isArray(Ue.header)?Be=3:Ue.header==null&&(Be=0),typeof $e){case"string":Me=safe_decode_range($e);break;case"number":Me=safe_decode_range(Ce["!ref"]),Me.s.r=$e;break;default:Me=$e}Be>0&&(De=0);var He=encode_row(Me.s.r),Qe=[],We=[],qe=0,Ke=0,Xe=Array.isArray(Ce),Ye=Me.s.r,Ze=0,Je={};Xe&&!Ce[Ye]&&(Ce[Ye]=[]);var tr=Ue.skipHidden&&Ce["!cols"]||[],rr=Ue.skipHidden&&Ce["!rows"]||[];for(Ze=Me.s.c;Ze<=Me.e.c;++Ze)if(!(tr[Ze]||{}).hidden)switch(Qe[Ze]=encode_col(Ze),je=Xe?Ce[Ye][Ze]:Ce[Qe[Ze]+He],Be){case 1:Fe[Ze]=Ze-Me.s.c;break;case 2:Fe[Ze]=Qe[Ze];break;case 3:Fe[Ze]=Ue.header[Ze-Me.s.c];break;default:if(je==null&&(je={w:"__EMPTY",t:"s"}),ke=Oe=format_cell(je,null,Ue),Ke=Je[Oe]||0,!Ke)Je[Oe]=1;else{do ke=Oe+"_"+Ke++;while(Je[ke]);Je[Oe]=Ke,Je[ke]=1}Fe[Ze]=ke}for(Ye=Me.s.r+De;Ye<=Me.e.r;++Ye)if(!(rr[Ye]||{}).hidden){var ar=make_json_row(Ce,Me,Ye,Qe,Be,Fe,Xe,Ue);(ar.isempty===!1||(Be===1?Ue.blankrows!==!1:Ue.blankrows))&&(We[qe++]=ar.row)}return We.length=qe,We}var qreg=/"/g;function make_csv_row(Ce,Re,je,Be,De,Fe,Oe,ke){for(var Me=!0,Ue=[],$e="",He=encode_row(je),Qe=Re.s.c;Qe<=Re.e.c;++Qe)if(Be[Qe]){var We=ke.dense?(Ce[je]||[])[Qe]:Ce[Be[Qe]+He];if(We==null)$e="";else if(We.v!=null){Me=!1,$e=""+(ke.rawNumbers&&We.t=="n"?We.v:format_cell(We,null,ke));for(var qe=0,Ke=0;qe!==$e.length;++qe)if((Ke=$e.charCodeAt(qe))===De||Ke===Fe||Ke===34||ke.forceQuotes){$e='"'+$e.replace(qreg,'""')+'"';break}$e=="ID"&&($e='"ID"')}else We.f!=null&&!We.F?(Me=!1,$e="="+We.f,$e.indexOf(",")>=0&&($e='"'+$e.replace(qreg,'""')+'"')):$e="";Ue.push($e)}return ke.blankrows===!1&&Me?null:Ue.join(Oe)}function sheet_to_csv(Ce,Re){var je=[],Be=Re??{};if(Ce==null||Ce["!ref"]==null)return"";var De=safe_decode_range(Ce["!ref"]),Fe=Be.FS!==void 0?Be.FS:",",Oe=Fe.charCodeAt(0),ke=Be.RS!==void 0?Be.RS:`
`,Me=ke.charCodeAt(0),Ue=new RegExp((Fe=="|"?"\\|":Fe)+"+$"),$e="",He=[];Be.dense=Array.isArray(Ce);for(var Qe=Be.skipHidden&&Ce["!cols"]||[],We=Be.skipHidden&&Ce["!rows"]||[],qe=De.s.c;qe<=De.e.c;++qe)(Qe[qe]||{}).hidden||(He[qe]=encode_col(qe));for(var Ke=0,Xe=De.s.r;Xe<=De.e.r;++Xe)(We[Xe]||{}).hidden||($e=make_csv_row(Ce,De,Xe,He,Oe,Me,Fe,Be),$e!=null&&(Be.strip&&($e=$e.replace(Ue,"")),($e||Be.blankrows!==!1)&&je.push((Ke++?ke:"")+$e)));return delete Be.dense,je.join("")}function sheet_to_txt(Ce,Re){Re||(Re={}),Re.FS="	",Re.RS=`
`;var je=sheet_to_csv(Ce,Re);return je}function sheet_to_formulae(Ce){var Re="",je,Be="";if(Ce==null||Ce["!ref"]==null)return[];var De=safe_decode_range(Ce["!ref"]),Fe="",Oe=[],ke,Me=[],Ue=Array.isArray(Ce);for(ke=De.s.c;ke<=De.e.c;++ke)Oe[ke]=encode_col(ke);for(var $e=De.s.r;$e<=De.e.r;++$e)for(Fe=encode_row($e),ke=De.s.c;ke<=De.e.c;++ke)if(Re=Oe[ke]+Fe,je=Ue?(Ce[$e]||[])[ke]:Ce[Re],Be="",je!==void 0){if(je.F!=null){if(Re=je.F,!je.f)continue;Be=je.f,Re.indexOf(":")==-1&&(Re=Re+":"+Re)}if(je.f!=null)Be=je.f;else{if(je.t=="z")continue;if(je.t=="n"&&je.v!=null)Be=""+je.v;else if(je.t=="b")Be=je.v?"TRUE":"FALSE";else if(je.w!==void 0)Be="'"+je.w;else{if(je.v===void 0)continue;je.t=="s"?Be="'"+je.v:Be=""+je.v}}Me[Me.length]=Re+"="+Be}return Me}function sheet_add_json(Ce,Re,je){var Be=je||{},De=+!Be.skipHeader,Fe=Ce||{},Oe=0,ke=0;if(Fe&&Be.origin!=null)if(typeof Be.origin=="number")Oe=Be.origin;else{var Me=typeof Be.origin=="string"?decode_cell(Be.origin):Be.origin;Oe=Me.r,ke=Me.c}var Ue,$e={s:{c:0,r:0},e:{c:ke,r:Oe+Re.length-1+De}};if(Fe["!ref"]){var He=safe_decode_range(Fe["!ref"]);$e.e.c=Math.max($e.e.c,He.e.c),$e.e.r=Math.max($e.e.r,He.e.r),Oe==-1&&(Oe=He.e.r+1,$e.e.r=Oe+Re.length-1+De)}else Oe==-1&&(Oe=0,$e.e.r=Re.length-1+De);var Qe=Be.header||[],We=0;Re.forEach(function(Ke,Xe){keys(Ke).forEach(function(Ye){(We=Qe.indexOf(Ye))==-1&&(Qe[We=Qe.length]=Ye);var Ze=Ke[Ye],Je="z",tr="",rr=encode_cell({c:ke+We,r:Oe+Xe+De});Ue=ws_get_cell_stub(Fe,rr),Ze&&typeof Ze=="object"&&!(Ze instanceof Date)?Fe[rr]=Ze:(typeof Ze=="number"?Je="n":typeof Ze=="boolean"?Je="b":typeof Ze=="string"?Je="s":Ze instanceof Date?(Je="d",Be.cellDates||(Je="n",Ze=datenum(Ze)),tr=Be.dateNF||table_fmt[14]):Ze===null&&Be.nullError&&(Je="e",Ze=0),Ue?(Ue.t=Je,Ue.v=Ze,delete Ue.w,delete Ue.R,tr&&(Ue.z=tr)):Fe[rr]=Ue={t:Je,v:Ze},tr&&(Ue.z=tr))})}),$e.e.c=Math.max($e.e.c,ke+Qe.length-1);var qe=encode_row(Oe);if(De)for(We=0;We<Qe.length;++We)Fe[encode_col(We+ke)+qe]={t:"s",v:Qe[We]};return Fe["!ref"]=encode_range($e),Fe}function json_to_sheet(Ce,Re){return sheet_add_json(null,Ce,Re)}function ws_get_cell_stub(Ce,Re,je){if(typeof Re=="string"){if(Array.isArray(Ce)){var Be=decode_cell(Re);return Ce[Be.r]||(Ce[Be.r]=[]),Ce[Be.r][Be.c]||(Ce[Be.r][Be.c]={t:"z"})}return Ce[Re]||(Ce[Re]={t:"z"})}return typeof Re!="number"?ws_get_cell_stub(Ce,encode_cell(Re)):ws_get_cell_stub(Ce,encode_cell({r:Re,c:je||0}))}function wb_sheet_idx(Ce,Re){if(typeof Re=="number"){if(Re>=0&&Ce.SheetNames.length>Re)return Re;throw new Error("Cannot find sheet # "+Re)}else if(typeof Re=="string"){var je=Ce.SheetNames.indexOf(Re);if(je>-1)return je;throw new Error("Cannot find sheet name |"+Re+"|")}else throw new Error("Cannot find sheet |"+Re+"|")}function book_new(){return{SheetNames:[],Sheets:{}}}function book_append_sheet(Ce,Re,je,Be){var De=1;if(!je)for(;De<=65535&&Ce.SheetNames.indexOf(je="Sheet"+De)!=-1;++De,je=void 0);if(!je||Ce.SheetNames.length>=65535)throw new Error("Too many worksheets");if(Be&&Ce.SheetNames.indexOf(je)>=0){var Fe=je.match(/(^.*?)(\d+)$/);De=Fe&&+Fe[2]||0;var Oe=Fe&&Fe[1]||je;for(++De;De<=65535&&Ce.SheetNames.indexOf(je=Oe+De)!=-1;++De);}if(check_ws_name(je),Ce.SheetNames.indexOf(je)>=0)throw new Error("Worksheet with name |"+je+"| already exists!");return Ce.SheetNames.push(je),Ce.Sheets[je]=Re,je}function book_set_sheet_visibility(Ce,Re,je){Ce.Workbook||(Ce.Workbook={}),Ce.Workbook.Sheets||(Ce.Workbook.Sheets=[]);var Be=wb_sheet_idx(Ce,Re);switch(Ce.Workbook.Sheets[Be]||(Ce.Workbook.Sheets[Be]={}),je){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+je)}Ce.Workbook.Sheets[Be].Hidden=je}function cell_set_number_format(Ce,Re){return Ce.z=Re,Ce}function cell_set_hyperlink(Ce,Re,je){return Re?(Ce.l={Target:Re},je&&(Ce.l.Tooltip=je)):delete Ce.l,Ce}function cell_set_internal_link(Ce,Re,je){return cell_set_hyperlink(Ce,"#"+Re,je)}function cell_add_comment(Ce,Re,je){Ce.c||(Ce.c=[]),Ce.c.push({t:Re,a:je||"SheetJS"})}function sheet_set_array_formula(Ce,Re,je,Be){for(var De=typeof Re!="string"?Re:safe_decode_range(Re),Fe=typeof Re=="string"?Re:encode_range(Re),Oe=De.s.r;Oe<=De.e.r;++Oe)for(var ke=De.s.c;ke<=De.e.c;++ke){var Me=ws_get_cell_stub(Ce,Oe,ke);Me.t="n",Me.F=Fe,delete Me.v,Oe==De.s.r&&ke==De.s.c&&(Me.f=je,Be&&(Me.D=!0))}return Ce}var utils={encode_col,encode_row,encode_cell,encode_range,decode_col,decode_row,split_cell,decode_cell,decode_range,format_cell,sheet_add_aoa,sheet_add_json,sheet_add_dom,aoa_to_sheet,json_to_sheet,table_to_sheet:parse_dom_table,table_to_book,sheet_to_csv,sheet_to_txt,sheet_to_json,sheet_to_html,sheet_to_formulae,sheet_to_row_object_array:sheet_to_json,sheet_get_cell:ws_get_cell_stub,book_new,book_append_sheet,book_set_sheet_visibility,cell_set_number_format,cell_set_hyperlink,cell_set_internal_link,cell_add_comment,sheet_set_array_formula,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function composeClasses(Ce,Re,je=void 0){const Be={};for(const De in Ce){const Fe=Ce[De];let Oe="",ke=!0;for(let Me=0;Me<Fe.length;Me+=1){const Ue=Fe[Me];Ue&&(Oe+=(ke===!0?"":" ")+Re(Ue),ke=!1,je&&je[Ue]&&(Oe+=" "+je[Ue]))}Be[De]=Oe}return Be}function slotShouldForwardProp(Ce){return Ce!=="ownerState"&&Ce!=="theme"&&Ce!=="sx"&&Ce!=="as"}const rootShouldForwardProp=Ce=>slotShouldForwardProp(Ce)&&Ce!=="classes";function formatMuiErrorMessage(Ce,...Re){const je=new URL(`https://mui.com/production-error/?code=${Ce}`);return Re.forEach(Be=>je.searchParams.append("args[]",Be)),`Minified MUI error #${Ce}; visit ${je} for the full message.`}function capitalize(Ce){if(typeof Ce!="string")throw new Error(formatMuiErrorMessage(7));return Ce.charAt(0).toUpperCase()+Ce.slice(1)}function isPlainObject(Ce){if(typeof Ce!="object"||Ce===null)return!1;const Re=Object.getPrototypeOf(Ce);return(Re===null||Re===Object.prototype||Object.getPrototypeOf(Re)===null)&&!(Symbol.toStringTag in Ce)&&!(Symbol.iterator in Ce)}function deepClone(Ce){if(reactExports.isValidElement(Ce)||reactIsExports.isValidElementType(Ce)||!isPlainObject(Ce))return Ce;const Re={};return Object.keys(Ce).forEach(je=>{Re[je]=deepClone(Ce[je])}),Re}function deepmerge(Ce,Re,je={clone:!0}){const Be=je.clone?{...Ce}:Ce;return isPlainObject(Ce)&&isPlainObject(Re)&&Object.keys(Re).forEach(De=>{reactExports.isValidElement(Re[De])||reactIsExports.isValidElementType(Re[De])?Be[De]=Re[De]:isPlainObject(Re[De])&&Object.prototype.hasOwnProperty.call(Ce,De)&&isPlainObject(Ce[De])?Be[De]=deepmerge(Ce[De],Re[De],je):je.clone?Be[De]=isPlainObject(Re[De])?deepClone(Re[De]):Re[De]:Be[De]=Re[De]}),Be}function merge(Ce,Re){return Re?deepmerge(Ce,Re,{clone:!1}):Ce}function sortContainerQueries(Ce,Re){if(!Ce.containerQueries)return Re;const je=Object.keys(Re).filter(Be=>Be.startsWith("@container")).sort((Be,De)=>{const Fe=/min-width:\s*([0-9.]+)/;return+(Be.match(Fe)?.[1]||0)-+(De.match(Fe)?.[1]||0)});return je.length?je.reduce((Be,De)=>{const Fe=Re[De];return delete Be[De],Be[De]=Fe,Be},{...Re}):Re}function isCqShorthand(Ce,Re){return Re==="@"||Re.startsWith("@")&&(Ce.some(je=>Re.startsWith(`@${je}`))||!!Re.match(/^@\d/))}function getContainerQuery(Ce,Re){const je=Re.match(/^@([^/]+)?\/?(.+)?$/);if(!je)return null;const[,Be,De]=je,Fe=Number.isNaN(+Be)?Be||0:+Be;return Ce.containerQueries(De).up(Fe)}function cssContainerQueries(Ce){const Re=(Fe,Oe)=>Fe.replace("@media",Oe?`@container ${Oe}`:"@container");function je(Fe,Oe){Fe.up=(...ke)=>Re(Ce.breakpoints.up(...ke),Oe),Fe.down=(...ke)=>Re(Ce.breakpoints.down(...ke),Oe),Fe.between=(...ke)=>Re(Ce.breakpoints.between(...ke),Oe),Fe.only=(...ke)=>Re(Ce.breakpoints.only(...ke),Oe),Fe.not=(...ke)=>{const Me=Re(Ce.breakpoints.not(...ke),Oe);return Me.includes("not all and")?Me.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):Me}}const Be={},De=Fe=>(je(Be,Fe),Be);return je(De),{...Ce,containerQueries:De}}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:Ce=>`@media (min-width:${values$1[Ce]}px)`},defaultContainerQueries={containerQueries:Ce=>({up:Re=>{let je=typeof Re=="number"?Re:values$1[Re]||Re;return typeof je=="number"&&(je=`${je}px`),Ce?`@container ${Ce} (min-width:${je})`:`@container (min-width:${je})`}})};function handleBreakpoints(Ce,Re,je){const Be=Ce.theme||{};if(Array.isArray(Re)){const Fe=Be.breakpoints||defaultBreakpoints;return Re.reduce((Oe,ke,Me)=>(Oe[Fe.up(Fe.keys[Me])]=je(Re[Me]),Oe),{})}if(typeof Re=="object"){const Fe=Be.breakpoints||defaultBreakpoints;return Object.keys(Re).reduce((Oe,ke)=>{if(isCqShorthand(Fe.keys,ke)){const Me=getContainerQuery(Be.containerQueries?Be:defaultContainerQueries,ke);Me&&(Oe[Me]=je(Re[ke],ke))}else if(Object.keys(Fe.values||values$1).includes(ke)){const Me=Fe.up(ke);Oe[Me]=je(Re[ke],ke)}else{const Me=ke;Oe[Me]=Re[Me]}return Oe},{})}return je(Re)}function createEmptyBreakpointObject(Ce={}){return Ce.keys?.reduce((je,Be)=>{const De=Ce.up(Be);return je[De]={},je},{})||{}}function removeUnusedBreakpoints(Ce,Re){return Ce.reduce((je,Be)=>{const De=je[Be];return(!De||Object.keys(De).length===0)&&delete je[Be],je},Re)}function getPath(Ce,Re,je=!0){if(!Re||typeof Re!="string")return null;if(Ce&&Ce.vars&&je){const Be=`vars.${Re}`.split(".").reduce((De,Fe)=>De&&De[Fe]?De[Fe]:null,Ce);if(Be!=null)return Be}return Re.split(".").reduce((Be,De)=>Be&&Be[De]!=null?Be[De]:null,Ce)}function getStyleValue$1(Ce,Re,je,Be=je){let De;return typeof Ce=="function"?De=Ce(je):Array.isArray(Ce)?De=Ce[je]||Be:De=getPath(Ce,je)||Be,Re&&(De=Re(De,Be,Ce)),De}function style$1(Ce){const{prop:Re,cssProperty:je=Ce.prop,themeKey:Be,transform:De}=Ce,Fe=Oe=>{if(Oe[Re]==null)return null;const ke=Oe[Re],Me=Oe.theme,Ue=getPath(Me,Be)||{};return handleBreakpoints(Oe,ke,He=>{let Qe=getStyleValue$1(Ue,De,He);return He===Qe&&typeof He=="string"&&(Qe=getStyleValue$1(Ue,De,`${Re}${He==="default"?"":capitalize(He)}`,He)),je===!1?Qe:{[je]:Qe}})};return Fe.propTypes={},Fe.filterProps=[Re],Fe}function memoize(Ce){const Re={};return je=>(Re[je]===void 0&&(Re[je]=Ce(je)),Re[je])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(Ce=>{if(Ce.length>2)if(aliases[Ce])Ce=aliases[Ce];else return[Ce];const[Re,je]=Ce.split(""),Be=properties[Re],De=directions[je]||"";return Array.isArray(De)?De.map(Fe=>Be+Fe):[Be+De]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(Ce,Re,je,Be){const De=getPath(Ce,Re,!0)??je;return typeof De=="number"||typeof De=="string"?Fe=>typeof Fe=="string"?Fe:typeof De=="string"?De.startsWith("var(")&&Fe===0?0:De.startsWith("var(")&&Fe===1?De:`calc(${Fe} * ${De})`:De*Fe:Array.isArray(De)?Fe=>{if(typeof Fe=="string")return Fe;const Oe=Math.abs(Fe),ke=De[Oe];return Fe>=0?ke:typeof ke=="number"?-ke:typeof ke=="string"&&ke.startsWith("var(")?`calc(-1 * ${ke})`:`-${ke}`}:typeof De=="function"?De:()=>{}}function createUnarySpacing(Ce){return createUnaryUnit(Ce,"spacing",8)}function getValue(Ce,Re){return typeof Re=="string"||Re==null?Re:Ce(Re)}function getStyleFromPropValue(Ce,Re){return je=>Ce.reduce((Be,De)=>(Be[De]=getValue(Re,je),Be),{})}function resolveCssProperty(Ce,Re,je,Be){if(!Re.includes(je))return null;const De=getCssProperties(je),Fe=getStyleFromPropValue(De,Be),Oe=Ce[je];return handleBreakpoints(Ce,Oe,Fe)}function style(Ce,Re){const je=createUnarySpacing(Ce.theme);return Object.keys(Ce).map(Be=>resolveCssProperty(Ce,Re,Be,je)).reduce(merge,{})}function margin(Ce){return style(Ce,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(Ce){return style(Ce,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function compose(...Ce){const Re=Ce.reduce((Be,De)=>(De.filterProps.forEach(Fe=>{Be[Fe]=De}),Be),{}),je=Be=>Object.keys(Be).reduce((De,Fe)=>Re[Fe]?merge(De,Re[Fe](Be)):De,{});return je.propTypes={},je.filterProps=Ce.reduce((Be,De)=>Be.concat(De.filterProps),[]),je}function borderTransform(Ce){return typeof Ce!="number"?Ce:`${Ce}px solid`}function createBorderStyle(Ce,Re){return style$1({prop:Ce,themeKey:"borders",transform:Re})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=Ce=>{if(Ce.borderRadius!==void 0&&Ce.borderRadius!==null){const Re=createUnaryUnit(Ce.theme,"shape.borderRadius",4),je=Be=>({borderRadius:getValue(Re,Be)});return handleBreakpoints(Ce,Ce.borderRadius,je)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=Ce=>{if(Ce.gap!==void 0&&Ce.gap!==null){const Re=createUnaryUnit(Ce.theme,"spacing",8),je=Be=>({gap:getValue(Re,Be)});return handleBreakpoints(Ce,Ce.gap,je)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=Ce=>{if(Ce.columnGap!==void 0&&Ce.columnGap!==null){const Re=createUnaryUnit(Ce.theme,"spacing",8),je=Be=>({columnGap:getValue(Re,Be)});return handleBreakpoints(Ce,Ce.columnGap,je)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=Ce=>{if(Ce.rowGap!==void 0&&Ce.rowGap!==null){const Re=createUnaryUnit(Ce.theme,"spacing",8),je=Be=>({rowGap:getValue(Re,Be)});return handleBreakpoints(Ce,Ce.rowGap,je)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(Ce,Re){return Re==="grey"?Re:Ce}const color=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(Ce){return Ce<=1&&Ce!==0?`${Ce*100}%`:Ce}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=Ce=>{if(Ce.maxWidth!==void 0&&Ce.maxWidth!==null){const Re=je=>{const Be=Ce.theme?.breakpoints?.values?.[je]||values$1[je];return Be?Ce.theme?.breakpoints?.unit!=="px"?{maxWidth:`${Be}${Ce.theme.breakpoints.unit}`}:{maxWidth:Be}:{maxWidth:sizingTransform(je)}};return handleBreakpoints(Ce,Ce.maxWidth,Re)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:Ce=>({"@media print":{display:Ce}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function objectsHaveSameKeys(...Ce){const Re=Ce.reduce((Be,De)=>Be.concat(Object.keys(De)),[]),je=new Set(Re);return Ce.every(Be=>je.size===Object.keys(Be).length)}function callIfFn(Ce,Re){return typeof Ce=="function"?Ce(Re):Ce}function unstable_createStyleFunctionSx(){function Ce(je,Be,De,Fe){const Oe={[je]:Be,theme:De},ke=Fe[je];if(!ke)return{[je]:Be};const{cssProperty:Me=je,themeKey:Ue,transform:$e,style:He}=ke;if(Be==null)return null;if(Ue==="typography"&&Be==="inherit")return{[je]:Be};const Qe=getPath(De,Ue)||{};return He?He(Oe):handleBreakpoints(Oe,Be,qe=>{let Ke=getStyleValue$1(Qe,$e,qe);return qe===Ke&&typeof qe=="string"&&(Ke=getStyleValue$1(Qe,$e,`${je}${qe==="default"?"":capitalize(qe)}`,qe)),Me===!1?Ke:{[Me]:Ke}})}function Re(je){const{sx:Be,theme:De={},nested:Fe}=je||{};if(!Be)return null;const Oe=De.unstable_sxConfig??defaultSxConfig;function ke(Me){let Ue=Me;if(typeof Me=="function")Ue=Me(De);else if(typeof Me!="object")return Me;if(!Ue)return null;const $e=createEmptyBreakpointObject(De.breakpoints),He=Object.keys($e);let Qe=$e;return Object.keys(Ue).forEach(We=>{const qe=callIfFn(Ue[We],De);if(qe!=null)if(typeof qe=="object")if(Oe[We])Qe=merge(Qe,Ce(We,qe,De,Oe));else{const Ke=handleBreakpoints({theme:De},qe,Xe=>({[We]:Xe}));objectsHaveSameKeys(Ke,qe)?Qe[We]=Re({sx:qe,theme:De,nested:!0}):Qe=merge(Qe,Ke)}else Qe=merge(Qe,Ce(We,qe,De,Oe))}),!Fe&&De.modularCssLayers?{"@layer sx":sortContainerQueries(De,removeUnusedBreakpoints(He,Qe))}:sortContainerQueries(De,removeUnusedBreakpoints(He,Qe))}return Array.isArray(Be)?Be.map(ke):ke(Be)}return Re}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(Ce){return reactPropsRegex.test(Ce)||Ce.charCodeAt(0)===111&&Ce.charCodeAt(1)===110&&Ce.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function Ce(Re){return Re!=="theme"},getDefaultShouldForwardProp=function Ce(Re){return typeof Re=="string"&&Re.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function Ce(Re,je,Be){var De;if(je){var Fe=je.shouldForwardProp;De=Re.__emotion_forwardProp&&Fe?function(Oe){return Re.__emotion_forwardProp(Oe)&&Fe(Oe)}:Fe}return typeof De!="function"&&Be&&(De=Re.__emotion_forwardProp),De},Insertion=function Ce(Re){var je=Re.cache,Be=Re.serialized,De=Re.isStringTag;return registerStyles(je,Be,De),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(je,Be,De)}),null},createStyled$1=function Ce(Re,je){var Be=Re.__emotion_real===Re,De=Be&&Re.__emotion_base||Re,Fe,Oe;je!==void 0&&(Fe=je.label,Oe=je.target);var ke=composeShouldForwardProps(Re,je,Be),Me=ke||getDefaultShouldForwardProp(De),Ue=!Me("as");return function(){var $e=arguments,He=Be&&Re.__emotion_styles!==void 0?Re.__emotion_styles.slice(0):[];if(Fe!==void 0&&He.push("label:"+Fe+";"),$e[0]==null||$e[0].raw===void 0)He.push.apply(He,$e);else{var Qe=$e[0];He.push(Qe[0]);for(var We=$e.length,qe=1;qe<We;qe++)He.push($e[qe],Qe[qe])}var Ke=withEmotionCache(function(Xe,Ye,Ze){var Je=Ue&&Xe.as||De,tr="",rr=[],ar=Xe;if(Xe.theme==null){ar={};for(var nr in Xe)ar[nr]=Xe[nr];ar.theme=reactExports.useContext(ThemeContext)}typeof Xe.className=="string"?tr=getRegisteredStyles(Ye.registered,rr,Xe.className):Xe.className!=null&&(tr=Xe.className+" ");var sr=serializeStyles(He.concat(rr),Ye.registered,ar);tr+=Ye.key+"-"+sr.name,Oe!==void 0&&(tr+=" "+Oe);var dr=Ue&&ke===void 0?getDefaultShouldForwardProp(Je):Me,_r={};for(var fr in Xe)Ue&&fr==="as"||dr(fr)&&(_r[fr]=Xe[fr]);return _r.className=tr,Ze&&(_r.ref=Ze),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:Ye,serialized:sr,isStringTag:typeof Je=="string"}),reactExports.createElement(Je,_r))});return Ke.displayName=Fe!==void 0?Fe:"Styled("+(typeof De=="string"?De:De.displayName||De.name||"Component")+")",Ke.defaultProps=Re.defaultProps,Ke.__emotion_real=Ke,Ke.__emotion_base=De,Ke.__emotion_styles=He,Ke.__emotion_forwardProp=ke,Object.defineProperty(Ke,"toString",{value:function(){return"."+Oe}}),Ke.withComponent=function(Xe,Ye){var Ze=Ce(Xe,_extends$1({},je,Ye,{shouldForwardProp:composeShouldForwardProps(Ke,Ye,!0)}));return Ze.apply(void 0,He)},Ke}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],styled$2=createStyled$1.bind(null);tags.forEach(function(Ce){styled$2[Ce]=styled$2(Ce)});function isEmpty$2(Ce){return Ce==null||Object.keys(Ce).length===0}function GlobalStyles$2(Ce){const{styles:Re,defaultTheme:je={}}=Ce,Be=typeof Re=="function"?De=>Re(isEmpty$2(De)?je:De):Re;return jsxRuntimeExports.jsx(Global,{styles:Be})}function styled$1(Ce,Re){return styled$2(Ce,Re)}function internal_mutateStyles(Ce,Re){Array.isArray(Ce.__emotion_styles)&&(Ce.__emotion_styles=Re(Ce.__emotion_styles))}const wrapper=[];function internal_serializeStyles(Ce){return wrapper[0]=Ce,serializeStyles(wrapper)}const sortBreakpointsValues=Ce=>{const Re=Object.keys(Ce).map(je=>({key:je,val:Ce[je]}))||[];return Re.sort((je,Be)=>je.val-Be.val),Re.reduce((je,Be)=>({...je,[Be.key]:Be.val}),{})};function createBreakpoints(Ce){const{values:Re={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:je="px",step:Be=5,...De}=Ce,Fe=sortBreakpointsValues(Re),Oe=Object.keys(Fe);function ke(Qe){return`@media (min-width:${typeof Re[Qe]=="number"?Re[Qe]:Qe}${je})`}function Me(Qe){return`@media (max-width:${(typeof Re[Qe]=="number"?Re[Qe]:Qe)-Be/100}${je})`}function Ue(Qe,We){const qe=Oe.indexOf(We);return`@media (min-width:${typeof Re[Qe]=="number"?Re[Qe]:Qe}${je}) and (max-width:${(qe!==-1&&typeof Re[Oe[qe]]=="number"?Re[Oe[qe]]:We)-Be/100}${je})`}function $e(Qe){return Oe.indexOf(Qe)+1<Oe.length?Ue(Qe,Oe[Oe.indexOf(Qe)+1]):ke(Qe)}function He(Qe){const We=Oe.indexOf(Qe);return We===0?ke(Oe[1]):We===Oe.length-1?Me(Oe[We]):Ue(Qe,Oe[Oe.indexOf(Qe)+1]).replace("@media","@media not all and")}return{keys:Oe,values:Fe,up:ke,down:Me,between:Ue,only:$e,not:He,unit:je,...De}}const shape={borderRadius:4};function createSpacing(Ce=8,Re=createUnarySpacing({spacing:Ce})){if(Ce.mui)return Ce;const je=(...Be)=>(Be.length===0?[1]:Be).map(Fe=>{const Oe=Re(Fe);return typeof Oe=="number"?`${Oe}px`:Oe}).join(" ");return je.mui=!0,je}function applyStyles(Ce,Re){const je=this;if(je.vars){if(!je.colorSchemes?.[Ce]||typeof je.getColorSchemeSelector!="function")return{};let Be=je.getColorSchemeSelector(Ce);return Be==="&"?Re:((Be.includes("data-")||Be.includes("."))&&(Be=`*:where(${Be.replace(/\s*&$/,"")}) &`),{[Be]:Re})}return je.palette.mode===Ce?Re:{}}function createTheme$1(Ce={},...Re){const{breakpoints:je={},palette:Be={},spacing:De,shape:Fe={},...Oe}=Ce,ke=createBreakpoints(je),Me=createSpacing(De);let Ue=deepmerge({breakpoints:ke,direction:"ltr",components:{},palette:{mode:"light",...Be},spacing:Me,shape:{...shape,...Fe}},Oe);return Ue=cssContainerQueries(Ue),Ue.applyStyles=applyStyles,Ue=Re.reduce(($e,He)=>deepmerge($e,He),Ue),Ue.unstable_sxConfig={...defaultSxConfig,...Oe?.unstable_sxConfig},Ue.unstable_sx=function(He){return styleFunctionSx({sx:He,theme:this})},Ue}function isObjectEmpty$2(Ce){return Object.keys(Ce).length===0}function useTheme$2(Ce=null){const Re=reactExports.useContext(ThemeContext);return!Re||isObjectEmpty$2(Re)?Ce:Re}const systemDefaultTheme$1=createTheme$1();function useTheme$1(Ce=systemDefaultTheme$1){return useTheme$2(Ce)}function wrapGlobalLayer(Ce){const Re=internal_serializeStyles(Ce);return Ce!==Re&&Re.styles?(Re.styles.match(/^@layer\s+[^{]*$/)||(Re.styles=`@layer global{${Re.styles}}`),Re):Ce}function GlobalStyles$1({styles:Ce,themeId:Re,defaultTheme:je={}}){const Be=useTheme$1(je),De=Re&&Be[Re]||Be;let Fe=typeof Ce=="function"?Ce(De):Ce;return De.modularCssLayers&&(Array.isArray(Fe)?Fe=Fe.map(Oe=>wrapGlobalLayer(typeof Oe=="function"?Oe(De):Oe)):Fe=wrapGlobalLayer(Fe)),jsxRuntimeExports.jsx(GlobalStyles$2,{styles:Fe})}const defaultGenerator=Ce=>Ce,createClassNameGenerator=()=>{let Ce=defaultGenerator;return{configure(Re){Ce=Re},generate(Re){return Ce(Re)},reset(){Ce=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass(Ce,Re,je="Mui"){const Be=globalStateClasses[Re];return Be?`${je}-${Be}`:`${ClassNameGenerator.generate(Ce)}-${Re}`}function generateUtilityClasses(Ce,Re,je="Mui"){const Be={};return Re.forEach(De=>{Be[De]=generateUtilityClass(Ce,De,je)}),Be}function preprocessStyles(Ce){const{variants:Re,...je}=Ce,Be={variants:Re,style:internal_serializeStyles(je),isProcessed:!0};return Be.style===je||Re&&Re.forEach(De=>{typeof De.style!="function"&&(De.style=internal_serializeStyles(De.style))}),Be}const systemDefaultTheme=createTheme$1();function shouldForwardProp(Ce){return Ce!=="ownerState"&&Ce!=="theme"&&Ce!=="sx"&&Ce!=="as"}function shallowLayer(Ce,Re){return Re&&Ce&&typeof Ce=="object"&&Ce.styles&&!Ce.styles.startsWith("@layer")&&(Ce.styles=`@layer ${Re}{${String(Ce.styles)}}`),Ce}function defaultOverridesResolver(Ce){return Ce?(Re,je)=>je[Ce]:null}function attachTheme(Ce,Re,je){Ce.theme=isObjectEmpty$1(Ce.theme)?je:Ce.theme[Re]||Ce.theme}function processStyle(Ce,Re,je){const Be=typeof Re=="function"?Re(Ce):Re;if(Array.isArray(Be))return Be.flatMap(De=>processStyle(Ce,De,je));if(Array.isArray(Be?.variants)){let De;if(Be.isProcessed)De=je?shallowLayer(Be.style,je):Be.style;else{const{variants:Fe,...Oe}=Be;De=je?shallowLayer(internal_serializeStyles(Oe),je):Oe}return processStyleVariants(Ce,Be.variants,[De],je)}return Be?.isProcessed?je?shallowLayer(internal_serializeStyles(Be.style),je):Be.style:je?shallowLayer(internal_serializeStyles(Be),je):Be}function processStyleVariants(Ce,Re,je=[],Be=void 0){let De;e:for(let Fe=0;Fe<Re.length;Fe+=1){const Oe=Re[Fe];if(typeof Oe.props=="function"){if(De??={...Ce,...Ce.ownerState,ownerState:Ce.ownerState},!Oe.props(De))continue}else for(const ke in Oe.props)if(Ce[ke]!==Oe.props[ke]&&Ce.ownerState?.[ke]!==Oe.props[ke])continue e;typeof Oe.style=="function"?(De??={...Ce,...Ce.ownerState,ownerState:Ce.ownerState},je.push(Be?shallowLayer(internal_serializeStyles(Oe.style(De)),Be):Oe.style(De))):je.push(Be?shallowLayer(internal_serializeStyles(Oe.style),Be):Oe.style)}return je}function createStyled(Ce={}){const{themeId:Re,defaultTheme:je=systemDefaultTheme,rootShouldForwardProp:Be=shouldForwardProp,slotShouldForwardProp:De=shouldForwardProp}=Ce;function Fe(ke){attachTheme(ke,Re,je)}return(ke,Me={})=>{internal_mutateStyles(ke,ar=>ar.filter(nr=>nr!==styleFunctionSx));const{name:Ue,slot:$e,skipVariantsResolver:He,skipSx:Qe,overridesResolver:We=defaultOverridesResolver(lowercaseFirstLetter($e)),...qe}=Me,Ke=Ue&&Ue.startsWith("Mui")||$e?"components":"custom",Xe=He!==void 0?He:$e&&$e!=="Root"&&$e!=="root"||!1,Ye=Qe||!1;let Ze=shouldForwardProp;$e==="Root"||$e==="root"?Ze=Be:$e?Ze=De:isStringTag(ke)&&(Ze=void 0);const Je=styled$1(ke,{shouldForwardProp:Ze,label:generateStyledLabel(),...qe}),tr=ar=>{if(ar.__emotion_real===ar)return ar;if(typeof ar=="function")return function(sr){return processStyle(sr,ar,sr.theme.modularCssLayers?Ke:void 0)};if(isPlainObject(ar)){const nr=preprocessStyles(ar);return function(dr){return nr.variants?processStyle(dr,nr,dr.theme.modularCssLayers?Ke:void 0):dr.theme.modularCssLayers?shallowLayer(nr.style,Ke):nr.style}}return ar},rr=(...ar)=>{const nr=[],sr=ar.map(tr),dr=[];if(nr.push(Fe),Ue&&We&&dr.push(function(Er){const jr=Er.theme.components?.[Ue]?.styleOverrides;if(!jr)return null;const xr={};for(const Pr in jr)xr[Pr]=processStyle(Er,jr[Pr],Er.theme.modularCssLayers?"theme":void 0);return We(Er,xr)}),Ue&&!Xe&&dr.push(function(Er){const jr=Er.theme?.components?.[Ue]?.variants;return jr?processStyleVariants(Er,jr,[],Er.theme.modularCssLayers?"theme":void 0):null}),Ye||dr.push(styleFunctionSx),Array.isArray(sr[0])){const or=sr.shift(),Er=new Array(nr.length).fill(""),Rr=new Array(dr.length).fill("");let jr;jr=[...Er,...or,...Rr],jr.raw=[...Er,...or.raw,...Rr],nr.unshift(jr)}const _r=[...nr,...sr,...dr],fr=Je(..._r);return ke.muiName&&(fr.muiName=ke.muiName),fr};return Je.withConfig&&(rr.withConfig=Je.withConfig),rr}}function generateStyledLabel(Ce,Re){return void 0}function isObjectEmpty$1(Ce){for(const Re in Ce)return!1;return!0}function isStringTag(Ce){return typeof Ce=="string"&&Ce.charCodeAt(0)>96}function lowercaseFirstLetter(Ce){return Ce&&Ce.charAt(0).toLowerCase()+Ce.slice(1)}function resolveProps(Ce,Re,je=!1){const Be={...Re};for(const De in Ce)if(Object.prototype.hasOwnProperty.call(Ce,De)){const Fe=De;if(Fe==="components"||Fe==="slots")Be[Fe]={...Ce[Fe],...Be[Fe]};else if(Fe==="componentsProps"||Fe==="slotProps"){const Oe=Ce[Fe],ke=Re[Fe];if(!ke)Be[Fe]=Oe||{};else if(!Oe)Be[Fe]=ke;else{Be[Fe]={...ke};for(const Me in Oe)if(Object.prototype.hasOwnProperty.call(Oe,Me)){const Ue=Me;Be[Fe][Ue]=resolveProps(Oe[Ue],ke[Ue],je)}}}else Fe==="className"&&je&&Re.className?Be.className=clsx(Ce?.className,Re?.className):Fe==="style"&&je&&Re.style?Be.style={...Ce?.style,...Re?.style}:Be[Fe]===void 0&&(Be[Fe]=Ce[Fe])}return Be}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function clamp(Ce,Re=Number.MIN_SAFE_INTEGER,je=Number.MAX_SAFE_INTEGER){return Math.max(Re,Math.min(Ce,je))}function clampWrapper(Ce,Re=0,je=1){return clamp(Ce,Re,je)}function hexToRgb(Ce){Ce=Ce.slice(1);const Re=new RegExp(`.{1,${Ce.length>=6?2:1}}`,"g");let je=Ce.match(Re);return je&&je[0].length===1&&(je=je.map(Be=>Be+Be)),je?`rgb${je.length===4?"a":""}(${je.map((Be,De)=>De<3?parseInt(Be,16):Math.round(parseInt(Be,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(Ce){if(Ce.type)return Ce;if(Ce.charAt(0)==="#")return decomposeColor(hexToRgb(Ce));const Re=Ce.indexOf("("),je=Ce.substring(0,Re);if(!["rgb","rgba","hsl","hsla","color"].includes(je))throw new Error(formatMuiErrorMessage(9,Ce));let Be=Ce.substring(Re+1,Ce.length-1),De;if(je==="color"){if(Be=Be.split(" "),De=Be.shift(),Be.length===4&&Be[3].charAt(0)==="/"&&(Be[3]=Be[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(De))throw new Error(formatMuiErrorMessage(10,De))}else Be=Be.split(",");return Be=Be.map(Fe=>parseFloat(Fe)),{type:je,values:Be,colorSpace:De}}const colorChannel=Ce=>{const Re=decomposeColor(Ce);return Re.values.slice(0,3).map((je,Be)=>Re.type.includes("hsl")&&Be!==0?`${je}%`:je).join(" ")},private_safeColorChannel=(Ce,Re)=>{try{return colorChannel(Ce)}catch{return Ce}};function recomposeColor(Ce){const{type:Re,colorSpace:je}=Ce;let{values:Be}=Ce;return Re.includes("rgb")?Be=Be.map((De,Fe)=>Fe<3?parseInt(De,10):De):Re.includes("hsl")&&(Be[1]=`${Be[1]}%`,Be[2]=`${Be[2]}%`),Re.includes("color")?Be=`${je} ${Be.join(" ")}`:Be=`${Be.join(", ")}`,`${Re}(${Be})`}function hslToRgb(Ce){Ce=decomposeColor(Ce);const{values:Re}=Ce,je=Re[0],Be=Re[1]/100,De=Re[2]/100,Fe=Be*Math.min(De,1-De),Oe=(Ue,$e=(Ue+je/30)%12)=>De-Fe*Math.max(Math.min($e-3,9-$e,1),-1);let ke="rgb";const Me=[Math.round(Oe(0)*255),Math.round(Oe(8)*255),Math.round(Oe(4)*255)];return Ce.type==="hsla"&&(ke+="a",Me.push(Re[3])),recomposeColor({type:ke,values:Me})}function getLuminance(Ce){Ce=decomposeColor(Ce);let Re=Ce.type==="hsl"||Ce.type==="hsla"?decomposeColor(hslToRgb(Ce)).values:Ce.values;return Re=Re.map(je=>(Ce.type!=="color"&&(je/=255),je<=.03928?je/12.92:((je+.055)/1.055)**2.4)),Number((.2126*Re[0]+.7152*Re[1]+.0722*Re[2]).toFixed(3))}function getContrastRatio(Ce,Re){const je=getLuminance(Ce),Be=getLuminance(Re);return(Math.max(je,Be)+.05)/(Math.min(je,Be)+.05)}function alpha(Ce,Re){return Ce=decomposeColor(Ce),Re=clampWrapper(Re),(Ce.type==="rgb"||Ce.type==="hsl")&&(Ce.type+="a"),Ce.type==="color"?Ce.values[3]=`/${Re}`:Ce.values[3]=Re,recomposeColor(Ce)}function private_safeAlpha(Ce,Re,je){try{return alpha(Ce,Re)}catch{return Ce}}function darken(Ce,Re){if(Ce=decomposeColor(Ce),Re=clampWrapper(Re),Ce.type.includes("hsl"))Ce.values[2]*=1-Re;else if(Ce.type.includes("rgb")||Ce.type.includes("color"))for(let je=0;je<3;je+=1)Ce.values[je]*=1-Re;return recomposeColor(Ce)}function private_safeDarken(Ce,Re,je){try{return darken(Ce,Re)}catch{return Ce}}function lighten(Ce,Re){if(Ce=decomposeColor(Ce),Re=clampWrapper(Re),Ce.type.includes("hsl"))Ce.values[2]+=(100-Ce.values[2])*Re;else if(Ce.type.includes("rgb"))for(let je=0;je<3;je+=1)Ce.values[je]+=(255-Ce.values[je])*Re;else if(Ce.type.includes("color"))for(let je=0;je<3;je+=1)Ce.values[je]+=(1-Ce.values[je])*Re;return recomposeColor(Ce)}function private_safeLighten(Ce,Re,je){try{return lighten(Ce,Re)}catch{return Ce}}function emphasize(Ce,Re=.15){return getLuminance(Ce)>.5?darken(Ce,Re):lighten(Ce,Re)}function private_safeEmphasize(Ce,Re,je){try{return emphasize(Ce,Re)}catch{return Ce}}const RtlContext=reactExports.createContext(),useRtl=()=>reactExports.useContext(RtlContext)??!1,PropsContext=reactExports.createContext(void 0);function getThemeProps(Ce){const{theme:Re,name:je,props:Be}=Ce;if(!Re||!Re.components||!Re.components[je])return Be;const De=Re.components[je];return De.defaultProps?resolveProps(De.defaultProps,Be,Re.components.mergeClassNameAndStyle):!De.styleOverrides&&!De.variants?resolveProps(De,Be,Re.components.mergeClassNameAndStyle):Be}function useDefaultProps$1({props:Ce,name:Re}){const je=reactExports.useContext(PropsContext);return getThemeProps({props:Ce,name:Re,theme:{components:je}})}let globalId=0;function useGlobalId(Ce){const[Re,je]=reactExports.useState(Ce),Be=Re;return reactExports.useEffect(()=>{Re==null&&(globalId+=1,je(`mui-${globalId}`))},[Re]),Be}const safeReact={...React$1},maybeReactUseId=safeReact.useId;function useId(Ce){return maybeReactUseId!==void 0?maybeReactUseId():useGlobalId(Ce)}const arg={theme:void 0};function unstable_memoTheme(Ce){let Re,je;return function(De){let Fe=Re;return(Fe===void 0||De.theme!==je)&&(arg.theme=De.theme,Fe=preprocessStyles(Ce(arg)),Re=Fe,je=De.theme),Fe}}function createGetCssVar$1(Ce=""){function Re(...Be){if(!Be.length)return"";const De=Be[0];return typeof De=="string"&&!De.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${Ce?`${Ce}-`:""}${De}${Re(...Be.slice(1))})`:`, ${De}`}return(Be,...De)=>`var(--${Ce?`${Ce}-`:""}${Be}${Re(...De)})`}const assignNestedKeys=(Ce,Re,je,Be=[])=>{let De=Ce;Re.forEach((Fe,Oe)=>{Oe===Re.length-1?Array.isArray(De)?De[Number(Fe)]=je:De&&typeof De=="object"&&(De[Fe]=je):De&&typeof De=="object"&&(De[Fe]||(De[Fe]=Be.includes(Fe)?[]:{}),De=De[Fe])})},walkObjectDeep=(Ce,Re,je)=>{function Be(De,Fe=[],Oe=[]){Object.entries(De).forEach(([ke,Me])=>{(!je||je&&!je([...Fe,ke]))&&Me!=null&&(typeof Me=="object"&&Object.keys(Me).length>0?Be(Me,[...Fe,ke],Array.isArray(Me)?[...Oe,ke]:Oe):Re([...Fe,ke],Me,Oe))})}Be(Ce)},getCssValue=(Ce,Re)=>typeof Re=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(Be=>Ce.includes(Be))||Ce[Ce.length-1].toLowerCase().includes("opacity")?Re:`${Re}px`:Re;function cssVarsParser(Ce,Re){const{prefix:je,shouldSkipGeneratingVar:Be}=Re||{},De={},Fe={},Oe={};return walkObjectDeep(Ce,(ke,Me,Ue)=>{if((typeof Me=="string"||typeof Me=="number")&&(!Be||!Be(ke,Me))){const $e=`--${je?`${je}-`:""}${ke.join("-")}`,He=getCssValue(ke,Me);Object.assign(De,{[$e]:He}),assignNestedKeys(Fe,ke,`var(${$e})`,Ue),assignNestedKeys(Oe,ke,`var(${$e}, ${He})`,Ue)}},ke=>ke[0]==="vars"),{css:De,vars:Fe,varsWithDefaults:Oe}}function prepareCssVars(Ce,Re={}){const{getSelector:je=Ye,disableCssColorScheme:Be,colorSchemeSelector:De,enableContrastVars:Fe}=Re,{colorSchemes:Oe={},components:ke,defaultColorScheme:Me="light",...Ue}=Ce,{vars:$e,css:He,varsWithDefaults:Qe}=cssVarsParser(Ue,Re);let We=Qe;const qe={},{[Me]:Ke,...Xe}=Oe;if(Object.entries(Xe||{}).forEach(([tr,rr])=>{const{vars:ar,css:nr,varsWithDefaults:sr}=cssVarsParser(rr,Re);We=deepmerge(We,sr),qe[tr]={css:nr,vars:ar}}),Ke){const{css:tr,vars:rr,varsWithDefaults:ar}=cssVarsParser(Ke,Re);We=deepmerge(We,ar),qe[Me]={css:tr,vars:rr}}function Ye(tr,rr){let ar=De;if(De==="class"&&(ar=".%s"),De==="data"&&(ar="[data-%s]"),De?.startsWith("data-")&&!De.includes("%s")&&(ar=`[${De}="%s"]`),tr){if(ar==="media")return Ce.defaultColorScheme===tr?":root":{[`@media (prefers-color-scheme: ${Oe[tr]?.palette?.mode||tr})`]:{":root":rr}};if(ar)return Ce.defaultColorScheme===tr?`:root, ${ar.replace("%s",String(tr))}`:ar.replace("%s",String(tr))}return":root"}return{vars:We,generateThemeVars:()=>{let tr={...$e};return Object.entries(qe).forEach(([,{vars:rr}])=>{tr=deepmerge(tr,rr)}),tr},generateStyleSheets:()=>{const tr=[],rr=Ce.defaultColorScheme||"light";function ar(dr,_r){Object.keys(_r).length&&tr.push(typeof dr=="string"?{[dr]:{..._r}}:dr)}ar(je(void 0,{...He}),He);const{[rr]:nr,...sr}=qe;if(nr){const{css:dr}=nr,_r=Oe[rr]?.palette?.mode,fr=!Be&&_r?{colorScheme:_r,...dr}:{...dr};ar(je(rr,{...fr}),fr)}return Object.entries(sr).forEach(([dr,{css:_r}])=>{const fr=Oe[dr]?.palette?.mode,or=!Be&&fr?{colorScheme:fr,..._r}:{..._r};ar(je(dr,{...or}),or)}),Fe&&tr.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),tr}}}function createGetColorSchemeSelector(Ce){return function(je){return Ce==="media"?`@media (prefers-color-scheme: ${je})`:Ce?Ce.startsWith("data-")&&!Ce.includes("%s")?`[${Ce}="${je}"] &`:Ce==="class"?`.${je} &`:Ce==="data"?`[data-${je}] &`:`${Ce.replace("%s",je)} &`:"&"}}const common={black:"#000",white:"#fff"},grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},purple={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},red={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},orange={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},blue={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},lightBlue={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},green={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function getLight(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common.white,default:common.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const light=getLight();function getDark(){return{text:{primary:common.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const dark=getDark();function addLightOrDark(Ce,Re,je,Be){const De=Be.light||Be,Fe=Be.dark||Be*1.5;Ce[Re]||(Ce.hasOwnProperty(je)?Ce[Re]=Ce[je]:Re==="light"?Ce.light=lighten(Ce.main,De):Re==="dark"&&(Ce.dark=darken(Ce.main,Fe)))}function mixLightOrDark(Ce,Re,je,Be,De){const Fe=De.light||De,Oe=De.dark||De*1.5;Re[je]||(Re.hasOwnProperty(Be)?Re[je]=Re[Be]:je==="light"?Re.light=`color-mix(in ${Ce}, ${Re.main}, #fff ${(Fe*100).toFixed(0)}%)`:je==="dark"&&(Re.dark=`color-mix(in ${Ce}, ${Re.main}, #000 ${(Oe*100).toFixed(0)}%)`))}function getDefaultPrimary(Ce="light"){return Ce==="dark"?{main:blue[200],light:blue[50],dark:blue[400]}:{main:blue[700],light:blue[400],dark:blue[800]}}function getDefaultSecondary(Ce="light"){return Ce==="dark"?{main:purple[200],light:purple[50],dark:purple[400]}:{main:purple[500],light:purple[300],dark:purple[700]}}function getDefaultError(Ce="light"){return Ce==="dark"?{main:red[500],light:red[300],dark:red[700]}:{main:red[700],light:red[400],dark:red[800]}}function getDefaultInfo(Ce="light"){return Ce==="dark"?{main:lightBlue[400],light:lightBlue[300],dark:lightBlue[700]}:{main:lightBlue[700],light:lightBlue[500],dark:lightBlue[900]}}function getDefaultSuccess(Ce="light"){return Ce==="dark"?{main:green[400],light:green[300],dark:green[700]}:{main:green[800],light:green[500],dark:green[900]}}function getDefaultWarning(Ce="light"){return Ce==="dark"?{main:orange[400],light:orange[300],dark:orange[700]}:{main:"#ed6c02",light:orange[500],dark:orange[900]}}function contrastColor(Ce){return`oklch(from ${Ce} var(--__l) 0 h / var(--__a))`}function createPalette(Ce){const{mode:Re="light",contrastThreshold:je=3,tonalOffset:Be=.2,colorSpace:De,...Fe}=Ce,Oe=Ce.primary||getDefaultPrimary(Re),ke=Ce.secondary||getDefaultSecondary(Re),Me=Ce.error||getDefaultError(Re),Ue=Ce.info||getDefaultInfo(Re),$e=Ce.success||getDefaultSuccess(Re),He=Ce.warning||getDefaultWarning(Re);function Qe(Xe){return De?contrastColor(Xe):getContrastRatio(Xe,dark.text.primary)>=je?dark.text.primary:light.text.primary}const We=({color:Xe,name:Ye,mainShade:Ze=500,lightShade:Je=300,darkShade:tr=700})=>{if(Xe={...Xe},!Xe.main&&Xe[Ze]&&(Xe.main=Xe[Ze]),!Xe.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,Ye?` (${Ye})`:"",Ze));if(typeof Xe.main!="string")throw new Error(formatMuiErrorMessage(12,Ye?` (${Ye})`:"",JSON.stringify(Xe.main)));return De?(mixLightOrDark(De,Xe,"light",Je,Be),mixLightOrDark(De,Xe,"dark",tr,Be)):(addLightOrDark(Xe,"light",Je,Be),addLightOrDark(Xe,"dark",tr,Be)),Xe.contrastText||(Xe.contrastText=Qe(Xe.main)),Xe};let qe;return Re==="light"?qe=getLight():Re==="dark"&&(qe=getDark()),deepmerge({common:{...common},mode:Re,primary:We({color:Oe,name:"primary"}),secondary:We({color:ke,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:We({color:Me,name:"error"}),warning:We({color:He,name:"warning"}),info:We({color:Ue,name:"info"}),success:We({color:$e,name:"success"}),grey,contrastThreshold:je,getContrastText:Qe,augmentColor:We,tonalOffset:Be,...qe},Fe)}function prepareTypographyVars(Ce){const Re={};return Object.entries(Ce).forEach(Be=>{const[De,Fe]=Be;typeof Fe=="object"&&(Re[De]=`${Fe.fontStyle?`${Fe.fontStyle} `:""}${Fe.fontVariant?`${Fe.fontVariant} `:""}${Fe.fontWeight?`${Fe.fontWeight} `:""}${Fe.fontStretch?`${Fe.fontStretch} `:""}${Fe.fontSize||""}${Fe.lineHeight?`/${Fe.lineHeight} `:""}${Fe.fontFamily||""}`)}),Re}function createMixins(Ce,Re){return{toolbar:{minHeight:56,[Ce.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[Ce.up("sm")]:{minHeight:64}},...Re}}function round(Ce){return Math.round(Ce*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(Ce,Re){const{fontFamily:je=defaultFontFamily,fontSize:Be=14,fontWeightLight:De=300,fontWeightRegular:Fe=400,fontWeightMedium:Oe=500,fontWeightBold:ke=700,htmlFontSize:Me=16,allVariants:Ue,pxToRem:$e,...He}=typeof Re=="function"?Re(Ce):Re,Qe=Be/14,We=$e||(Xe=>`${Xe/Me*Qe}rem`),qe=(Xe,Ye,Ze,Je,tr)=>({fontFamily:je,fontWeight:Xe,fontSize:We(Ye),lineHeight:Ze,...je===defaultFontFamily?{letterSpacing:`${round(Je/Ye)}em`}:{},...tr,...Ue}),Ke={h1:qe(De,96,1.167,-1.5),h2:qe(De,60,1.2,-.5),h3:qe(Fe,48,1.167,0),h4:qe(Fe,34,1.235,.25),h5:qe(Fe,24,1.334,0),h6:qe(Oe,20,1.6,.15),subtitle1:qe(Fe,16,1.75,.15),subtitle2:qe(Oe,14,1.57,.1),body1:qe(Fe,16,1.5,.15),body2:qe(Fe,14,1.43,.15),button:qe(Oe,14,1.75,.4,caseAllCaps),caption:qe(Fe,12,1.66,.4),overline:qe(Fe,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge({htmlFontSize:Me,pxToRem:We,fontFamily:je,fontSize:Be,fontWeightLight:De,fontWeightRegular:Fe,fontWeightMedium:Oe,fontWeightBold:ke,...Ke},He,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...Ce){return[`${Ce[0]}px ${Ce[1]}px ${Ce[2]}px ${Ce[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${Ce[4]}px ${Ce[5]}px ${Ce[6]}px ${Ce[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${Ce[8]}px ${Ce[9]}px ${Ce[10]}px ${Ce[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(Ce){return`${Math.round(Ce)}ms`}function getAutoHeightDuration(Ce){if(!Ce)return 0;const Re=Ce/36;return Math.min(Math.round((4+15*Re**.25+Re/5)*10),3e3)}function createTransitions(Ce){const Re={...easing,...Ce.easing},je={...duration,...Ce.duration};return{getAutoHeightDuration,create:(De=["all"],Fe={})=>{const{duration:Oe=je.standard,easing:ke=Re.easeInOut,delay:Me=0,...Ue}=Fe;return(Array.isArray(De)?De:[De]).map($e=>`${$e} ${typeof Oe=="string"?Oe:formatMs(Oe)} ${ke} ${typeof Me=="string"?Me:formatMs(Me)}`).join(",")},...Ce,easing:Re,duration:je}}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function isSerializable(Ce){return isPlainObject(Ce)||typeof Ce>"u"||typeof Ce=="string"||typeof Ce=="boolean"||typeof Ce=="number"||Array.isArray(Ce)}function stringifyTheme(Ce={}){const Re={...Ce};function je(Be){const De=Object.entries(Be);for(let Fe=0;Fe<De.length;Fe++){const[Oe,ke]=De[Fe];!isSerializable(ke)||Oe.startsWith("unstable_")?delete Be[Oe]:isPlainObject(ke)&&(Be[Oe]={...ke},je(Be[Oe]))}}return je(Re),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(Re,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function coefficientToPercentage(Ce){return typeof Ce=="number"?`${(Ce*100).toFixed(0)}%`:`calc((${Ce}) * 100%)`}const parseAddition=Ce=>{if(!Number.isNaN(+Ce))return+Ce;const Re=Ce.match(/\d*\.?\d+/g);if(!Re)return 0;let je=0;for(let Be=0;Be<Re.length;Be+=1)je+=+Re[Be];return je};function attachColorManipulators(Ce){Object.assign(Ce,{alpha(Re,je){const Be=this||Ce;return Be.colorSpace?`oklch(from ${Re} l c h / ${typeof je=="string"?`calc(${je})`:je})`:Be.vars?`rgba(${Re.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof je=="string"?`calc(${je})`:je})`:alpha(Re,parseAddition(je))},lighten(Re,je){const Be=this||Ce;return Be.colorSpace?`color-mix(in ${Be.colorSpace}, ${Re}, #fff ${coefficientToPercentage(je)})`:lighten(Re,je)},darken(Re,je){const Be=this||Ce;return Be.colorSpace?`color-mix(in ${Be.colorSpace}, ${Re}, #000 ${coefficientToPercentage(je)})`:darken(Re,je)}})}function createThemeNoVars(Ce={},...Re){const{breakpoints:je,mixins:Be={},spacing:De,palette:Fe={},transitions:Oe={},typography:ke={},shape:Me,colorSpace:Ue,...$e}=Ce;if(Ce.vars&&Ce.generateThemeVars===void 0)throw new Error(formatMuiErrorMessage(20));const He=createPalette({...Fe,colorSpace:Ue}),Qe=createTheme$1(Ce);let We=deepmerge(Qe,{mixins:createMixins(Qe.breakpoints,Be),palette:He,shadows:shadows.slice(),typography:createTypography(He,ke),transitions:createTransitions(Oe),zIndex:{...zIndex}});return We=deepmerge(We,$e),We=Re.reduce((qe,Ke)=>deepmerge(qe,Ke),We),We.unstable_sxConfig={...defaultSxConfig,...$e?.unstable_sxConfig},We.unstable_sx=function(Ke){return styleFunctionSx({sx:Ke,theme:this})},We.toRuntimeSource=stringifyTheme,attachColorManipulators(We),We}function getOverlayAlpha(Ce){let Re;return Ce<1?Re=5.11916*Ce**2:Re=4.5*Math.log(Ce+1)+2,Math.round(Re*10)/1e3}const defaultDarkOverlays=[...Array(25)].map((Ce,Re)=>{if(Re===0)return"none";const je=getOverlayAlpha(Re);return`linear-gradient(rgba(255 255 255 / ${je}), rgba(255 255 255 / ${je}))`});function getOpacity(Ce){return{inputPlaceholder:Ce==="dark"?.5:.42,inputUnderline:Ce==="dark"?.7:.42,switchTrackDisabled:Ce==="dark"?.2:.12,switchTrack:Ce==="dark"?.3:.38}}function getOverlays(Ce){return Ce==="dark"?defaultDarkOverlays:[]}function createColorScheme(Ce){const{palette:Re={mode:"light"},opacity:je,overlays:Be,colorSpace:De,...Fe}=Ce,Oe=createPalette({...Re,colorSpace:De});return{palette:Oe,opacity:{...getOpacity(Oe.mode),...je},overlays:Be||getOverlays(Oe.mode),...Fe}}function shouldSkipGeneratingVar(Ce){return!!Ce[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!Ce[0].match(/sxConfig$/)||Ce[0]==="palette"&&!!Ce[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const excludeVariablesFromRoot=Ce=>[...[...Array(25)].map((Re,je)=>`--${Ce?`${Ce}-`:""}overlays-${je}`),`--${Ce?`${Ce}-`:""}palette-AppBar-darkBg`,`--${Ce?`${Ce}-`:""}palette-AppBar-darkColor`],defaultGetSelector=Ce=>(Re,je)=>{const Be=Ce.rootSelector||":root",De=Ce.colorSchemeSelector;let Fe=De;if(De==="class"&&(Fe=".%s"),De==="data"&&(Fe="[data-%s]"),De?.startsWith("data-")&&!De.includes("%s")&&(Fe=`[${De}="%s"]`),Ce.defaultColorScheme===Re){if(Re==="dark"){const Oe={};return excludeVariablesFromRoot(Ce.cssVarPrefix).forEach(ke=>{Oe[ke]=je[ke],delete je[ke]}),Fe==="media"?{[Be]:je,"@media (prefers-color-scheme: dark)":{[Be]:Oe}}:Fe?{[Fe.replace("%s",Re)]:Oe,[`${Be}, ${Fe.replace("%s",Re)}`]:je}:{[Be]:{...je,...Oe}}}if(Fe&&Fe!=="media")return`${Be}, ${Fe.replace("%s",String(Re))}`}else if(Re){if(Fe==="media")return{[`@media (prefers-color-scheme: ${String(Re)})`]:{[Be]:je}};if(Fe)return Fe.replace("%s",String(Re))}return Be};function assignNode(Ce,Re){Re.forEach(je=>{Ce[je]||(Ce[je]={})})}function setColor(Ce,Re,je){!Ce[Re]&&je&&(Ce[Re]=je)}function toRgb(Ce){return typeof Ce!="string"||!Ce.startsWith("hsl")?Ce:hslToRgb(Ce)}function setColorChannel(Ce,Re){`${Re}Channel`in Ce||(Ce[`${Re}Channel`]=private_safeColorChannel(toRgb(Ce[Re])))}function getSpacingVal(Ce){return typeof Ce=="number"?`${Ce}px`:typeof Ce=="string"||typeof Ce=="function"||Array.isArray(Ce)?Ce:"8px"}const silent=Ce=>{try{return Ce()}catch{}},createGetCssVar=(Ce="mui")=>createGetCssVar$1(Ce);function attachColorScheme$1(Ce,Re,je,Be,De){if(!je)return;je=je===!0?{}:je;const Fe=De==="dark"?"dark":"light";if(!Be){Re[De]=createColorScheme({...je,palette:{mode:Fe,...je?.palette},colorSpace:Ce});return}const{palette:Oe,...ke}=createThemeNoVars({...Be,palette:{mode:Fe,...je?.palette},colorSpace:Ce});return Re[De]={...je,palette:Oe,opacity:{...getOpacity(Fe),...je?.opacity},overlays:je?.overlays||getOverlays(Fe)},ke}function createThemeWithVars(Ce={},...Re){const{colorSchemes:je={light:!0},defaultColorScheme:Be,disableCssColorScheme:De=!1,cssVarPrefix:Fe="mui",nativeColor:Oe=!1,shouldSkipGeneratingVar:ke=shouldSkipGeneratingVar,colorSchemeSelector:Me=je.light&&je.dark?"media":void 0,rootSelector:Ue=":root",...$e}=Ce,He=Object.keys(je)[0],Qe=Be||(je.light&&He!=="light"?"light":He),We=createGetCssVar(Fe),{[Qe]:qe,light:Ke,dark:Xe,...Ye}=je,Ze={...Ye};let Je=qe;if((Qe==="dark"&&!("dark"in je)||Qe==="light"&&!("light"in je))&&(Je=!0),!Je)throw new Error(formatMuiErrorMessage(21,Qe));let tr;Oe&&(tr="oklch");const rr=attachColorScheme$1(tr,Ze,Je,$e,Qe);Ke&&!Ze.light&&attachColorScheme$1(tr,Ze,Ke,void 0,"light"),Xe&&!Ze.dark&&attachColorScheme$1(tr,Ze,Xe,void 0,"dark");let ar={defaultColorScheme:Qe,...rr,cssVarPrefix:Fe,colorSchemeSelector:Me,rootSelector:Ue,getCssVar:We,colorSchemes:Ze,font:{...prepareTypographyVars(rr.typography),...rr.font},spacing:getSpacingVal($e.spacing)};Object.keys(ar.colorSchemes).forEach(fr=>{const or=ar.colorSchemes[fr].palette,Er=jr=>{const xr=jr.split("-"),Pr=xr[1],br=xr[2];return We(jr,or[Pr][br])};or.mode==="light"&&(setColor(or.common,"background","#fff"),setColor(or.common,"onBackground","#000")),or.mode==="dark"&&(setColor(or.common,"background","#000"),setColor(or.common,"onBackground","#fff"));function Rr(jr,xr,Pr){if(tr){let br;return jr===private_safeAlpha&&(br=`transparent ${((1-Pr)*100).toFixed(0)}%`),jr===private_safeDarken&&(br=`#000 ${(Pr*100).toFixed(0)}%`),jr===private_safeLighten&&(br=`#fff ${(Pr*100).toFixed(0)}%`),`color-mix(in ${tr}, ${xr}, ${br})`}return jr(xr,Pr)}if(assignNode(or,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),or.mode==="light"){setColor(or.Alert,"errorColor",Rr(private_safeDarken,or.error.light,.6)),setColor(or.Alert,"infoColor",Rr(private_safeDarken,or.info.light,.6)),setColor(or.Alert,"successColor",Rr(private_safeDarken,or.success.light,.6)),setColor(or.Alert,"warningColor",Rr(private_safeDarken,or.warning.light,.6)),setColor(or.Alert,"errorFilledBg",Er("palette-error-main")),setColor(or.Alert,"infoFilledBg",Er("palette-info-main")),setColor(or.Alert,"successFilledBg",Er("palette-success-main")),setColor(or.Alert,"warningFilledBg",Er("palette-warning-main")),setColor(or.Alert,"errorFilledColor",silent(()=>or.getContrastText(or.error.main))),setColor(or.Alert,"infoFilledColor",silent(()=>or.getContrastText(or.info.main))),setColor(or.Alert,"successFilledColor",silent(()=>or.getContrastText(or.success.main))),setColor(or.Alert,"warningFilledColor",silent(()=>or.getContrastText(or.warning.main))),setColor(or.Alert,"errorStandardBg",Rr(private_safeLighten,or.error.light,.9)),setColor(or.Alert,"infoStandardBg",Rr(private_safeLighten,or.info.light,.9)),setColor(or.Alert,"successStandardBg",Rr(private_safeLighten,or.success.light,.9)),setColor(or.Alert,"warningStandardBg",Rr(private_safeLighten,or.warning.light,.9)),setColor(or.Alert,"errorIconColor",Er("palette-error-main")),setColor(or.Alert,"infoIconColor",Er("palette-info-main")),setColor(or.Alert,"successIconColor",Er("palette-success-main")),setColor(or.Alert,"warningIconColor",Er("palette-warning-main")),setColor(or.AppBar,"defaultBg",Er("palette-grey-100")),setColor(or.Avatar,"defaultBg",Er("palette-grey-400")),setColor(or.Button,"inheritContainedBg",Er("palette-grey-300")),setColor(or.Button,"inheritContainedHoverBg",Er("palette-grey-A100")),setColor(or.Chip,"defaultBorder",Er("palette-grey-400")),setColor(or.Chip,"defaultAvatarColor",Er("palette-grey-700")),setColor(or.Chip,"defaultIconColor",Er("palette-grey-700")),setColor(or.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),setColor(or.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),setColor(or.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),setColor(or.LinearProgress,"primaryBg",Rr(private_safeLighten,or.primary.main,.62)),setColor(or.LinearProgress,"secondaryBg",Rr(private_safeLighten,or.secondary.main,.62)),setColor(or.LinearProgress,"errorBg",Rr(private_safeLighten,or.error.main,.62)),setColor(or.LinearProgress,"infoBg",Rr(private_safeLighten,or.info.main,.62)),setColor(or.LinearProgress,"successBg",Rr(private_safeLighten,or.success.main,.62)),setColor(or.LinearProgress,"warningBg",Rr(private_safeLighten,or.warning.main,.62)),setColor(or.Skeleton,"bg",tr?Rr(private_safeAlpha,or.text.primary,.11):`rgba(${Er("palette-text-primaryChannel")} / 0.11)`),setColor(or.Slider,"primaryTrack",Rr(private_safeLighten,or.primary.main,.62)),setColor(or.Slider,"secondaryTrack",Rr(private_safeLighten,or.secondary.main,.62)),setColor(or.Slider,"errorTrack",Rr(private_safeLighten,or.error.main,.62)),setColor(or.Slider,"infoTrack",Rr(private_safeLighten,or.info.main,.62)),setColor(or.Slider,"successTrack",Rr(private_safeLighten,or.success.main,.62)),setColor(or.Slider,"warningTrack",Rr(private_safeLighten,or.warning.main,.62));const jr=tr?Rr(private_safeDarken,or.background.default,.6825):private_safeEmphasize(or.background.default,.8);setColor(or.SnackbarContent,"bg",jr),setColor(or.SnackbarContent,"color",silent(()=>tr?dark.text.primary:or.getContrastText(jr))),setColor(or.SpeedDialAction,"fabHoverBg",private_safeEmphasize(or.background.paper,.15)),setColor(or.StepConnector,"border",Er("palette-grey-400")),setColor(or.StepContent,"border",Er("palette-grey-400")),setColor(or.Switch,"defaultColor",Er("palette-common-white")),setColor(or.Switch,"defaultDisabledColor",Er("palette-grey-100")),setColor(or.Switch,"primaryDisabledColor",Rr(private_safeLighten,or.primary.main,.62)),setColor(or.Switch,"secondaryDisabledColor",Rr(private_safeLighten,or.secondary.main,.62)),setColor(or.Switch,"errorDisabledColor",Rr(private_safeLighten,or.error.main,.62)),setColor(or.Switch,"infoDisabledColor",Rr(private_safeLighten,or.info.main,.62)),setColor(or.Switch,"successDisabledColor",Rr(private_safeLighten,or.success.main,.62)),setColor(or.Switch,"warningDisabledColor",Rr(private_safeLighten,or.warning.main,.62)),setColor(or.TableCell,"border",Rr(private_safeLighten,Rr(private_safeAlpha,or.divider,1),.88)),setColor(or.Tooltip,"bg",Rr(private_safeAlpha,or.grey[700],.92))}if(or.mode==="dark"){setColor(or.Alert,"errorColor",Rr(private_safeLighten,or.error.light,.6)),setColor(or.Alert,"infoColor",Rr(private_safeLighten,or.info.light,.6)),setColor(or.Alert,"successColor",Rr(private_safeLighten,or.success.light,.6)),setColor(or.Alert,"warningColor",Rr(private_safeLighten,or.warning.light,.6)),setColor(or.Alert,"errorFilledBg",Er("palette-error-dark")),setColor(or.Alert,"infoFilledBg",Er("palette-info-dark")),setColor(or.Alert,"successFilledBg",Er("palette-success-dark")),setColor(or.Alert,"warningFilledBg",Er("palette-warning-dark")),setColor(or.Alert,"errorFilledColor",silent(()=>or.getContrastText(or.error.dark))),setColor(or.Alert,"infoFilledColor",silent(()=>or.getContrastText(or.info.dark))),setColor(or.Alert,"successFilledColor",silent(()=>or.getContrastText(or.success.dark))),setColor(or.Alert,"warningFilledColor",silent(()=>or.getContrastText(or.warning.dark))),setColor(or.Alert,"errorStandardBg",Rr(private_safeDarken,or.error.light,.9)),setColor(or.Alert,"infoStandardBg",Rr(private_safeDarken,or.info.light,.9)),setColor(or.Alert,"successStandardBg",Rr(private_safeDarken,or.success.light,.9)),setColor(or.Alert,"warningStandardBg",Rr(private_safeDarken,or.warning.light,.9)),setColor(or.Alert,"errorIconColor",Er("palette-error-main")),setColor(or.Alert,"infoIconColor",Er("palette-info-main")),setColor(or.Alert,"successIconColor",Er("palette-success-main")),setColor(or.Alert,"warningIconColor",Er("palette-warning-main")),setColor(or.AppBar,"defaultBg",Er("palette-grey-900")),setColor(or.AppBar,"darkBg",Er("palette-background-paper")),setColor(or.AppBar,"darkColor",Er("palette-text-primary")),setColor(or.Avatar,"defaultBg",Er("palette-grey-600")),setColor(or.Button,"inheritContainedBg",Er("palette-grey-800")),setColor(or.Button,"inheritContainedHoverBg",Er("palette-grey-700")),setColor(or.Chip,"defaultBorder",Er("palette-grey-700")),setColor(or.Chip,"defaultAvatarColor",Er("palette-grey-300")),setColor(or.Chip,"defaultIconColor",Er("palette-grey-300")),setColor(or.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),setColor(or.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),setColor(or.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),setColor(or.LinearProgress,"primaryBg",Rr(private_safeDarken,or.primary.main,.5)),setColor(or.LinearProgress,"secondaryBg",Rr(private_safeDarken,or.secondary.main,.5)),setColor(or.LinearProgress,"errorBg",Rr(private_safeDarken,or.error.main,.5)),setColor(or.LinearProgress,"infoBg",Rr(private_safeDarken,or.info.main,.5)),setColor(or.LinearProgress,"successBg",Rr(private_safeDarken,or.success.main,.5)),setColor(or.LinearProgress,"warningBg",Rr(private_safeDarken,or.warning.main,.5)),setColor(or.Skeleton,"bg",tr?Rr(private_safeAlpha,or.text.primary,.13):`rgba(${Er("palette-text-primaryChannel")} / 0.13)`),setColor(or.Slider,"primaryTrack",Rr(private_safeDarken,or.primary.main,.5)),setColor(or.Slider,"secondaryTrack",Rr(private_safeDarken,or.secondary.main,.5)),setColor(or.Slider,"errorTrack",Rr(private_safeDarken,or.error.main,.5)),setColor(or.Slider,"infoTrack",Rr(private_safeDarken,or.info.main,.5)),setColor(or.Slider,"successTrack",Rr(private_safeDarken,or.success.main,.5)),setColor(or.Slider,"warningTrack",Rr(private_safeDarken,or.warning.main,.5));const jr=tr?Rr(private_safeLighten,or.background.default,.985):private_safeEmphasize(or.background.default,.98);setColor(or.SnackbarContent,"bg",jr),setColor(or.SnackbarContent,"color",silent(()=>tr?light.text.primary:or.getContrastText(jr))),setColor(or.SpeedDialAction,"fabHoverBg",private_safeEmphasize(or.background.paper,.15)),setColor(or.StepConnector,"border",Er("palette-grey-600")),setColor(or.StepContent,"border",Er("palette-grey-600")),setColor(or.Switch,"defaultColor",Er("palette-grey-300")),setColor(or.Switch,"defaultDisabledColor",Er("palette-grey-600")),setColor(or.Switch,"primaryDisabledColor",Rr(private_safeDarken,or.primary.main,.55)),setColor(or.Switch,"secondaryDisabledColor",Rr(private_safeDarken,or.secondary.main,.55)),setColor(or.Switch,"errorDisabledColor",Rr(private_safeDarken,or.error.main,.55)),setColor(or.Switch,"infoDisabledColor",Rr(private_safeDarken,or.info.main,.55)),setColor(or.Switch,"successDisabledColor",Rr(private_safeDarken,or.success.main,.55)),setColor(or.Switch,"warningDisabledColor",Rr(private_safeDarken,or.warning.main,.55)),setColor(or.TableCell,"border",Rr(private_safeDarken,Rr(private_safeAlpha,or.divider,1),.68)),setColor(or.Tooltip,"bg",Rr(private_safeAlpha,or.grey[700],.92))}setColorChannel(or.background,"default"),setColorChannel(or.background,"paper"),setColorChannel(or.common,"background"),setColorChannel(or.common,"onBackground"),setColorChannel(or,"divider"),Object.keys(or).forEach(jr=>{const xr=or[jr];jr!=="tonalOffset"&&xr&&typeof xr=="object"&&(xr.main&&setColor(or[jr],"mainChannel",private_safeColorChannel(toRgb(xr.main))),xr.light&&setColor(or[jr],"lightChannel",private_safeColorChannel(toRgb(xr.light))),xr.dark&&setColor(or[jr],"darkChannel",private_safeColorChannel(toRgb(xr.dark))),xr.contrastText&&setColor(or[jr],"contrastTextChannel",private_safeColorChannel(toRgb(xr.contrastText))),jr==="text"&&(setColorChannel(or[jr],"primary"),setColorChannel(or[jr],"secondary")),jr==="action"&&(xr.active&&setColorChannel(or[jr],"active"),xr.selected&&setColorChannel(or[jr],"selected")))})}),ar=Re.reduce((fr,or)=>deepmerge(fr,or),ar);const nr={prefix:Fe,disableCssColorScheme:De,shouldSkipGeneratingVar:ke,getSelector:defaultGetSelector(ar),enableContrastVars:Oe},{vars:sr,generateThemeVars:dr,generateStyleSheets:_r}=prepareCssVars(ar,nr);return ar.vars=sr,Object.entries(ar.colorSchemes[ar.defaultColorScheme]).forEach(([fr,or])=>{ar[fr]=or}),ar.generateThemeVars=dr,ar.generateStyleSheets=_r,ar.generateSpacing=function(){return createSpacing($e.spacing,createUnarySpacing(this))},ar.getColorSchemeSelector=createGetColorSchemeSelector(Me),ar.spacing=ar.generateSpacing(),ar.shouldSkipGeneratingVar=ke,ar.unstable_sxConfig={...defaultSxConfig,...$e?.unstable_sxConfig},ar.unstable_sx=function(or){return styleFunctionSx({sx:or,theme:this})},ar.toRuntimeSource=stringifyTheme,ar}function attachColorScheme(Ce,Re,je){Ce.colorSchemes&&je&&(Ce.colorSchemes[Re]={...je!==!0&&je,palette:createPalette({...je===!0?{}:je.palette,mode:Re})})}function createTheme(Ce={},...Re){const{palette:je,cssVariables:Be=!1,colorSchemes:De=je?void 0:{light:!0},defaultColorScheme:Fe=je?.mode,...Oe}=Ce,ke=Fe||"light",Me=De?.[ke],Ue={...De,...je?{[ke]:{...typeof Me!="boolean"&&Me,palette:je}}:void 0};if(Be===!1){if(!("colorSchemes"in Ce))return createThemeNoVars(Ce,...Re);let $e=je;"palette"in Ce||Ue[ke]&&(Ue[ke]!==!0?$e=Ue[ke].palette:ke==="dark"&&($e={mode:"dark"}));const He=createThemeNoVars({...Ce,palette:$e},...Re);return He.defaultColorScheme=ke,He.colorSchemes=Ue,He.palette.mode==="light"&&(He.colorSchemes.light={...Ue.light!==!0&&Ue.light,palette:He.palette},attachColorScheme(He,"dark",Ue.dark)),He.palette.mode==="dark"&&(He.colorSchemes.dark={...Ue.dark!==!0&&Ue.dark,palette:He.palette},attachColorScheme(He,"light",Ue.light)),He}return!je&&!("light"in Ue)&&ke==="light"&&(Ue.light=!0),createThemeWithVars({...Oe,colorSchemes:Ue,defaultColorScheme:ke,...typeof Be!="boolean"&&Be},...Re)}const defaultTheme=createTheme(),THEME_ID="$$material";function useTheme(){const Ce=useTheme$1(defaultTheme);return Ce[THEME_ID]||Ce}function GlobalStyles(Ce){return jsxRuntimeExports.jsx(GlobalStyles$1,{...Ce,defaultTheme,themeId:THEME_ID})}const styled=createStyled({themeId:THEME_ID,defaultTheme,rootShouldForwardProp});function globalCss(Ce){return function(je){return jsxRuntimeExports.jsx(GlobalStyles,{styles:typeof Ce=="function"?Be=>Ce({theme:Be,...je}):Ce})}}const memoTheme=unstable_memoTheme;function useDefaultProps(Ce){return useDefaultProps$1(Ce)}const ListContext=reactExports.createContext({});function isFocusVisible(Ce){try{return Ce.matches(":focus-visible")}catch{}return!1}function useForkRef(...Ce){const Re=reactExports.useRef(void 0),je=reactExports.useCallback(Be=>{const De=Ce.map(Fe=>{if(Fe==null)return null;if(typeof Fe=="function"){const Oe=Fe,ke=Oe(Be);return typeof ke=="function"?ke:()=>{Oe(null)}}return Fe.current=Be,()=>{Fe.current=null}});return()=>{De.forEach(Fe=>Fe?.())}},Ce);return reactExports.useMemo(()=>Ce.every(Be=>Be==null)?null:Be=>{Re.current&&(Re.current(),Re.current=void 0),Be!=null&&(Re.current=je(Be))},Ce)}function useEventCallback(Ce){const Re=reactExports.useRef(Ce);return useEnhancedEffect(()=>{Re.current=Ce}),reactExports.useRef((...je)=>(0,Re.current)(...je)).current}const UNINITIALIZED={};function useLazyRef(Ce,Re){const je=reactExports.useRef(UNINITIALIZED);return je.current===UNINITIALIZED&&(je.current=Ce(Re)),je}class LazyRipple{static create(){return new LazyRipple}static use(){const Re=useLazyRef(LazyRipple.create).current,[je,Be]=reactExports.useState(!1);return Re.shouldMount=je,Re.setShouldMount=Be,reactExports.useEffect(Re.mountEffect,[je]),Re}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=createControlledPromise(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...Re){this.mount().then(()=>this.ref.current?.start(...Re))}stop(...Re){this.mount().then(()=>this.ref.current?.stop(...Re))}pulsate(...Re){this.mount().then(()=>this.ref.current?.pulsate(...Re))}}function useLazyRipple(){return LazyRipple.use()}function createControlledPromise(){let Ce,Re;const je=new Promise((Be,De)=>{Ce=Be,Re=De});return je.resolve=Ce,je.reject=Re,je}function _inheritsLoose(Ce,Re){Ce.prototype=Object.create(Re.prototype),Ce.prototype.constructor=Ce,_setPrototypeOf(Ce,Re)}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function Ce(Re){return Re.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=(function(Ce){_inheritsLoose(Re,Ce);function Re(Be,De){var Fe;Fe=Ce.call(this,Be,De)||this;var Oe=De,ke=Oe&&!Oe.isMounting?Be.enter:Be.appear,Me;return Fe.appearStatus=null,Be.in?ke?(Me=EXITED,Fe.appearStatus=ENTERING):Me=ENTERED:Be.unmountOnExit||Be.mountOnEnter?Me=UNMOUNTED:Me=EXITED,Fe.state={status:Me},Fe.nextCallback=null,Fe}Re.getDerivedStateFromProps=function(De,Fe){var Oe=De.in;return Oe&&Fe.status===UNMOUNTED?{status:EXITED}:null};var je=Re.prototype;return je.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},je.componentDidUpdate=function(De){var Fe=null;if(De!==this.props){var Oe=this.state.status;this.props.in?Oe!==ENTERING&&Oe!==ENTERED&&(Fe=ENTERING):(Oe===ENTERING||Oe===ENTERED)&&(Fe=EXITING)}this.updateStatus(!1,Fe)},je.componentWillUnmount=function(){this.cancelNextCallback()},je.getTimeouts=function(){var De=this.props.timeout,Fe,Oe,ke;return Fe=Oe=ke=De,De!=null&&typeof De!="number"&&(Fe=De.exit,Oe=De.enter,ke=De.appear!==void 0?De.appear:Oe),{exit:Fe,enter:Oe,appear:ke}},je.updateStatus=function(De,Fe){if(De===void 0&&(De=!1),Fe!==null)if(this.cancelNextCallback(),Fe===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var Oe=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);Oe&&forceReflow(Oe)}this.performEnter(De)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},je.performEnter=function(De){var Fe=this,Oe=this.props.enter,ke=this.context?this.context.isMounting:De,Me=this.props.nodeRef?[ke]:[ReactDOM.findDOMNode(this),ke],Ue=Me[0],$e=Me[1],He=this.getTimeouts(),Qe=ke?He.appear:He.enter;if(!De&&!Oe||config.disabled){this.safeSetState({status:ENTERED},function(){Fe.props.onEntered(Ue)});return}this.props.onEnter(Ue,$e),this.safeSetState({status:ENTERING},function(){Fe.props.onEntering(Ue,$e),Fe.onTransitionEnd(Qe,function(){Fe.safeSetState({status:ENTERED},function(){Fe.props.onEntered(Ue,$e)})})})},je.performExit=function(){var De=this,Fe=this.props.exit,Oe=this.getTimeouts(),ke=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!Fe||config.disabled){this.safeSetState({status:EXITED},function(){De.props.onExited(ke)});return}this.props.onExit(ke),this.safeSetState({status:EXITING},function(){De.props.onExiting(ke),De.onTransitionEnd(Oe.exit,function(){De.safeSetState({status:EXITED},function(){De.props.onExited(ke)})})})},je.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},je.safeSetState=function(De,Fe){Fe=this.setNextCallback(Fe),this.setState(De,Fe)},je.setNextCallback=function(De){var Fe=this,Oe=!0;return this.nextCallback=function(ke){Oe&&(Oe=!1,Fe.nextCallback=null,De(ke))},this.nextCallback.cancel=function(){Oe=!1},this.nextCallback},je.onTransitionEnd=function(De,Fe){this.setNextCallback(Fe);var Oe=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),ke=De==null&&!this.props.addEndListener;if(!Oe||ke){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var Me=this.props.nodeRef?[this.nextCallback]:[Oe,this.nextCallback],Ue=Me[0],$e=Me[1];this.props.addEndListener(Ue,$e)}De!=null&&setTimeout(this.nextCallback,De)},je.render=function(){var De=this.state.status;if(De===UNMOUNTED)return null;var Fe=this.props,Oe=Fe.children;Fe.in,Fe.mountOnEnter,Fe.unmountOnExit,Fe.appear,Fe.enter,Fe.exit,Fe.timeout,Fe.addEndListener,Fe.onEnter,Fe.onEntering,Fe.onEntered,Fe.onExit,Fe.onExiting,Fe.onExited,Fe.nodeRef;var ke=_objectWithoutPropertiesLoose$1(Fe,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof Oe=="function"?Oe(De,ke):React.cloneElement(React.Children.only(Oe),ke))},Re})(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$1(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$1,onEntering:noop$1,onEntered:noop$1,onExit:noop$1,onExiting:noop$1,onExited:noop$1};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;function getChildMapping(Ce,Re){var je=function(Fe){return Re&&reactExports.isValidElement(Fe)?Re(Fe):Fe},Be=Object.create(null);return Ce&&reactExports.Children.map(Ce,function(De){return De}).forEach(function(De){Be[De.key]=je(De)}),Be}function mergeChildMappings(Ce,Re){Ce=Ce||{},Re=Re||{};function je($e){return $e in Re?Re[$e]:Ce[$e]}var Be=Object.create(null),De=[];for(var Fe in Ce)Fe in Re?De.length&&(Be[Fe]=De,De=[]):De.push(Fe);var Oe,ke={};for(var Me in Re){if(Be[Me])for(Oe=0;Oe<Be[Me].length;Oe++){var Ue=Be[Me][Oe];ke[Be[Me][Oe]]=je(Ue)}ke[Me]=je(Me)}for(Oe=0;Oe<De.length;Oe++)ke[De[Oe]]=je(De[Oe]);return ke}function getProp(Ce,Re,je){return je[Re]!=null?je[Re]:Ce.props[Re]}function getInitialChildMapping(Ce,Re){return getChildMapping(Ce.children,function(je){return reactExports.cloneElement(je,{onExited:Re.bind(null,je),in:!0,appear:getProp(je,"appear",Ce),enter:getProp(je,"enter",Ce),exit:getProp(je,"exit",Ce)})})}function getNextChildMapping(Ce,Re,je){var Be=getChildMapping(Ce.children),De=mergeChildMappings(Re,Be);return Object.keys(De).forEach(function(Fe){var Oe=De[Fe];if(reactExports.isValidElement(Oe)){var ke=Fe in Re,Me=Fe in Be,Ue=Re[Fe],$e=reactExports.isValidElement(Ue)&&!Ue.props.in;Me&&(!ke||$e)?De[Fe]=reactExports.cloneElement(Oe,{onExited:je.bind(null,Oe),in:!0,exit:getProp(Oe,"exit",Ce),enter:getProp(Oe,"enter",Ce)}):!Me&&ke&&!$e?De[Fe]=reactExports.cloneElement(Oe,{in:!1}):Me&&ke&&reactExports.isValidElement(Ue)&&(De[Fe]=reactExports.cloneElement(Oe,{onExited:je.bind(null,Oe),in:Ue.props.in,exit:getProp(Oe,"exit",Ce),enter:getProp(Oe,"enter",Ce)}))}}),De}var values=Object.values||function(Ce){return Object.keys(Ce).map(function(Re){return Ce[Re]})},defaultProps={component:"div",childFactory:function Ce(Re){return Re}},TransitionGroup=(function(Ce){_inheritsLoose(Re,Ce);function Re(Be,De){var Fe;Fe=Ce.call(this,Be,De)||this;var Oe=Fe.handleExited.bind(_assertThisInitialized(Fe));return Fe.state={contextValue:{isMounting:!0},handleExited:Oe,firstRender:!0},Fe}var je=Re.prototype;return je.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},je.componentWillUnmount=function(){this.mounted=!1},Re.getDerivedStateFromProps=function(De,Fe){var Oe=Fe.children,ke=Fe.handleExited,Me=Fe.firstRender;return{children:Me?getInitialChildMapping(De,ke):getNextChildMapping(De,Oe,ke),firstRender:!1}},je.handleExited=function(De,Fe){var Oe=getChildMapping(this.props.children);De.key in Oe||(De.props.onExited&&De.props.onExited(Fe),this.mounted&&this.setState(function(ke){var Me=_extends$1({},ke.children);return delete Me[De.key],{children:Me}}))},je.render=function(){var De=this.props,Fe=De.component,Oe=De.childFactory,ke=_objectWithoutPropertiesLoose$1(De,["component","childFactory"]),Me=this.state.contextValue,Ue=values(this.state.children).map(Oe);return delete ke.appear,delete ke.enter,delete ke.exit,Fe===null?React.createElement(TransitionGroupContext.Provider,{value:Me},Ue):React.createElement(TransitionGroupContext.Provider,{value:Me},React.createElement(Fe,ke,Ue))},Re})(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const EMPTY=[];function useOnMount(Ce){reactExports.useEffect(Ce,EMPTY)}class Timeout{static create(){return new Timeout}currentId=null;start(Re,je){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,je()},Re)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function useTimeout(){const Ce=useLazyRef(Timeout.create).current;return useOnMount(Ce.disposeEffect),Ce}function Ripple(Ce){const{className:Re,classes:je,pulsate:Be=!1,rippleX:De,rippleY:Fe,rippleSize:Oe,in:ke,onExited:Me,timeout:Ue}=Ce,[$e,He]=reactExports.useState(!1),Qe=clsx(Re,je.ripple,je.rippleVisible,Be&&je.ripplePulsate),We={width:Oe,height:Oe,top:-(Oe/2)+Fe,left:-(Oe/2)+De},qe=clsx(je.child,$e&&je.childLeaving,Be&&je.childPulsate);return!ke&&!$e&&He(!0),reactExports.useEffect(()=>{if(!ke&&Me!=null){const Ke=setTimeout(Me,Ue);return()=>{clearTimeout(Ke)}}},[Me,ke,Ue]),jsxRuntimeExports.jsx("span",{className:Qe,style:We,children:jsxRuntimeExports.jsx("span",{className:qe})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,exitKeyframe=keyframes`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,pulsateKeyframe=keyframes`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,TouchRippleRoot=styled("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${touchRippleClasses.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${enterKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:Ce})=>Ce.transitions.easing.easeInOut};
  }

  &.${touchRippleClasses.ripplePulsate} {
    animation-duration: ${({theme:Ce})=>Ce.transitions.duration.shorter}ms;
  }

  & .${touchRippleClasses.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${touchRippleClasses.childLeaving} {
    opacity: 0;
    animation-name: ${exitKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:Ce})=>Ce.transitions.easing.easeInOut};
  }

  & .${touchRippleClasses.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${pulsateKeyframe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:Ce})=>Ce.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,TouchRipple=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({props:Re,name:"MuiTouchRipple"}),{center:De=!1,classes:Fe={},className:Oe,...ke}=Be,[Me,Ue]=reactExports.useState([]),$e=reactExports.useRef(0),He=reactExports.useRef(null);reactExports.useEffect(()=>{He.current&&(He.current(),He.current=null)},[Me]);const Qe=reactExports.useRef(!1),We=useTimeout(),qe=reactExports.useRef(null),Ke=reactExports.useRef(null),Xe=reactExports.useCallback(tr=>{const{pulsate:rr,rippleX:ar,rippleY:nr,rippleSize:sr,cb:dr}=tr;Ue(_r=>[..._r,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(Fe.ripple,touchRippleClasses.ripple),rippleVisible:clsx(Fe.rippleVisible,touchRippleClasses.rippleVisible),ripplePulsate:clsx(Fe.ripplePulsate,touchRippleClasses.ripplePulsate),child:clsx(Fe.child,touchRippleClasses.child),childLeaving:clsx(Fe.childLeaving,touchRippleClasses.childLeaving),childPulsate:clsx(Fe.childPulsate,touchRippleClasses.childPulsate)},timeout:DURATION,pulsate:rr,rippleX:ar,rippleY:nr,rippleSize:sr},$e.current)]),$e.current+=1,He.current=dr},[Fe]),Ye=reactExports.useCallback((tr={},rr={},ar=()=>{})=>{const{pulsate:nr=!1,center:sr=De||rr.pulsate,fakeElement:dr=!1}=rr;if(tr?.type==="mousedown"&&Qe.current){Qe.current=!1;return}tr?.type==="touchstart"&&(Qe.current=!0);const _r=dr?null:Ke.current,fr=_r?_r.getBoundingClientRect():{width:0,height:0,left:0,top:0};let or,Er,Rr;if(sr||tr===void 0||tr.clientX===0&&tr.clientY===0||!tr.clientX&&!tr.touches)or=Math.round(fr.width/2),Er=Math.round(fr.height/2);else{const{clientX:jr,clientY:xr}=tr.touches&&tr.touches.length>0?tr.touches[0]:tr;or=Math.round(jr-fr.left),Er=Math.round(xr-fr.top)}if(sr)Rr=Math.sqrt((2*fr.width**2+fr.height**2)/3),Rr%2===0&&(Rr+=1);else{const jr=Math.max(Math.abs((_r?_r.clientWidth:0)-or),or)*2+2,xr=Math.max(Math.abs((_r?_r.clientHeight:0)-Er),Er)*2+2;Rr=Math.sqrt(jr**2+xr**2)}tr?.touches?qe.current===null&&(qe.current=()=>{Xe({pulsate:nr,rippleX:or,rippleY:Er,rippleSize:Rr,cb:ar})},We.start(DELAY_RIPPLE,()=>{qe.current&&(qe.current(),qe.current=null)})):Xe({pulsate:nr,rippleX:or,rippleY:Er,rippleSize:Rr,cb:ar})},[De,Xe,We]),Ze=reactExports.useCallback(()=>{Ye({},{pulsate:!0})},[Ye]),Je=reactExports.useCallback((tr,rr)=>{if(We.clear(),tr?.type==="touchend"&&qe.current){qe.current(),qe.current=null,We.start(0,()=>{Je(tr,rr)});return}qe.current=null,Ue(ar=>ar.length>0?ar.slice(1):ar),He.current=rr},[We]);return reactExports.useImperativeHandle(je,()=>({pulsate:Ze,start:Ye,stop:Je}),[Ze,Ye,Je]),jsxRuntimeExports.jsx(TouchRippleRoot,{className:clsx(touchRippleClasses.root,Fe.root,Oe),ref:Ke,...ke,children:jsxRuntimeExports.jsx(TransitionGroup,{component:null,exit:!0,children:Me})})});function getButtonBaseUtilityClass(Ce){return generateUtilityClass("MuiButtonBase",Ce)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),useUtilityClasses$f=Ce=>{const{disabled:Re,focusVisible:je,focusVisibleClassName:Be,classes:De}=Ce,Oe=composeClasses({root:["root",Re&&"disabled",je&&"focusVisible"]},getButtonBaseUtilityClass,De);return je&&Be&&(Oe.root+=` ${Be}`),Oe},ButtonBaseRoot=styled("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({props:Re,name:"MuiButtonBase"}),{action:De,centerRipple:Fe=!1,children:Oe,className:ke,component:Me="button",disabled:Ue=!1,disableRipple:$e=!1,disableTouchRipple:He=!1,focusRipple:Qe=!1,focusVisibleClassName:We,LinkComponent:qe="a",onBlur:Ke,onClick:Xe,onContextMenu:Ye,onDragLeave:Ze,onFocus:Je,onFocusVisible:tr,onKeyDown:rr,onKeyUp:ar,onMouseDown:nr,onMouseLeave:sr,onMouseUp:dr,onTouchEnd:_r,onTouchMove:fr,onTouchStart:or,tabIndex:Er=0,TouchRippleProps:Rr,touchRippleRef:jr,type:xr,...Pr}=Be,br=reactExports.useRef(null),wr=useLazyRipple(),Br=useForkRef(wr.ref,jr),[Lr,yr]=reactExports.useState(!1);Ue&&Lr&&yr(!1),reactExports.useImperativeHandle(De,()=>({focusVisible:()=>{yr(!0),br.current.focus()}}),[]);const vr=wr.shouldMount&&!$e&&!Ue;reactExports.useEffect(()=>{Lr&&Qe&&!$e&&wr.pulsate()},[$e,Qe,Lr,wr]);const Tr=useRippleHandler(wr,"start",nr,He),Or=useRippleHandler(wr,"stop",Ye,He),Nr=useRippleHandler(wr,"stop",Ze,He),Hr=useRippleHandler(wr,"stop",dr,He),Wr=useRippleHandler(wr,"stop",Wn=>{Lr&&Wn.preventDefault(),sr&&sr(Wn)},He),qr=useRippleHandler(wr,"start",or,He),Jr=useRippleHandler(wr,"stop",_r,He),An=useRippleHandler(wr,"stop",fr,He),an=useRippleHandler(wr,"stop",Wn=>{isFocusVisible(Wn.target)||yr(!1),Ke&&Ke(Wn)},!1),bn=useEventCallback(Wn=>{br.current||(br.current=Wn.currentTarget),isFocusVisible(Wn.target)&&(yr(!0),tr&&tr(Wn)),Je&&Je(Wn)}),gn=()=>{const Wn=br.current;return Me&&Me!=="button"&&!(Wn.tagName==="A"&&Wn.href)},mn=useEventCallback(Wn=>{Qe&&!Wn.repeat&&Lr&&Wn.key===" "&&wr.stop(Wn,()=>{wr.start(Wn)}),Wn.target===Wn.currentTarget&&gn()&&Wn.key===" "&&Wn.preventDefault(),rr&&rr(Wn),Wn.target===Wn.currentTarget&&gn()&&Wn.key==="Enter"&&!Ue&&(Wn.preventDefault(),Xe&&Xe(Wn))}),Zr=useEventCallback(Wn=>{Qe&&Wn.key===" "&&Lr&&!Wn.defaultPrevented&&wr.stop(Wn,()=>{wr.pulsate(Wn)}),ar&&ar(Wn),Xe&&Wn.target===Wn.currentTarget&&gn()&&Wn.key===" "&&!Wn.defaultPrevented&&Xe(Wn)});let kn=Me;kn==="button"&&(Pr.href||Pr.to)&&(kn=qe);const ri={};kn==="button"?(ri.type=xr===void 0?"button":xr,ri.disabled=Ue):(!Pr.href&&!Pr.to&&(ri.role="button"),Ue&&(ri["aria-disabled"]=Ue));const zn=useForkRef(je,br),ei={...Be,centerRipple:Fe,component:Me,disabled:Ue,disableRipple:$e,disableTouchRipple:He,focusRipple:Qe,tabIndex:Er,focusVisible:Lr},Jn=useUtilityClasses$f(ei);return jsxRuntimeExports.jsxs(ButtonBaseRoot,{as:kn,className:clsx(Jn.root,ke),ownerState:ei,onBlur:an,onClick:Xe,onContextMenu:Or,onFocus:bn,onKeyDown:mn,onKeyUp:Zr,onMouseDown:Tr,onMouseLeave:Wr,onMouseUp:Hr,onDragLeave:Nr,onTouchEnd:Jr,onTouchMove:An,onTouchStart:qr,ref:zn,tabIndex:Ue?-1:Er,type:xr,...ri,...Pr,children:[Oe,vr?jsxRuntimeExports.jsx(TouchRipple,{ref:Br,center:Fe,...Rr}):null]})});function useRippleHandler(Ce,Re,je,Be=!1){return useEventCallback(De=>(je&&je(De),Be||Ce[Re](De),!0))}const dividerClasses=generateUtilityClasses("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),listItemIconClasses=generateUtilityClasses("MuiListItemIcon",["root","alignItemsFlexStart"]);function hasCorrectMainProperty(Ce){return typeof Ce.main=="string"}function checkSimplePaletteColorValues(Ce,Re=[]){if(!hasCorrectMainProperty(Ce))return!1;for(const je of Re)if(!Ce.hasOwnProperty(je)||typeof Ce[je]!="string")return!1;return!0}function createSimplePaletteValueFilter(Ce=[]){return([,Re])=>Re&&checkSimplePaletteColorValues(Re,Ce)}const listItemTextClasses=generateUtilityClasses("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function isHostComponent$1(Ce){return typeof Ce=="string"}function appendOwnerState(Ce,Re,je){return Ce===void 0||isHostComponent$1(Ce)?Re:{...Re,ownerState:{...Re.ownerState,...je}}}function resolveComponentProps(Ce,Re,je){return typeof Ce=="function"?Ce(Re,je):Ce}function extractEventHandlers(Ce,Re=[]){if(Ce===void 0)return{};const je={};return Object.keys(Ce).filter(Be=>Be.match(/^on[A-Z]/)&&typeof Ce[Be]=="function"&&!Re.includes(Be)).forEach(Be=>{je[Be]=Ce[Be]}),je}function omitEventHandlers(Ce){if(Ce===void 0)return{};const Re={};return Object.keys(Ce).filter(je=>!(je.match(/^on[A-Z]/)&&typeof Ce[je]=="function")).forEach(je=>{Re[je]=Ce[je]}),Re}function mergeSlotProps$1(Ce){const{getSlotProps:Re,additionalProps:je,externalSlotProps:Be,externalForwardedProps:De,className:Fe}=Ce;if(!Re){const We=clsx(je?.className,Fe,De?.className,Be?.className),qe={...je?.style,...De?.style,...Be?.style},Ke={...je,...De,...Be};return We.length>0&&(Ke.className=We),Object.keys(qe).length>0&&(Ke.style=qe),{props:Ke,internalRef:void 0}}const Oe=extractEventHandlers({...De,...Be}),ke=omitEventHandlers(Be),Me=omitEventHandlers(De),Ue=Re(Oe),$e=clsx(Ue?.className,je?.className,Fe,De?.className,Be?.className),He={...Ue?.style,...je?.style,...De?.style,...Be?.style},Qe={...Ue,...je,...Me,...ke};return $e.length>0&&(Qe.className=$e),Object.keys(He).length>0&&(Qe.style=He),{props:Qe,internalRef:Ue.ref}}function useSlot(Ce,Re){const{className:je,elementType:Be,ownerState:De,externalForwardedProps:Fe,internalForwardedProps:Oe,shouldForwardComponentProp:ke=!1,...Me}=Re,{component:Ue,slots:$e={[Ce]:void 0},slotProps:He={[Ce]:void 0},...Qe}=Fe,We=$e[Ce]||Be,qe=resolveComponentProps(He[Ce],De),{props:{component:Ke,...Xe},internalRef:Ye}=mergeSlotProps$1({className:je,...Me,externalForwardedProps:Ce==="root"?Qe:void 0,externalSlotProps:qe}),Ze=useForkRef(Ye,qe?.ref,Re.ref),Je=Ce==="root"?Ke||Ue:Ke,tr=appendOwnerState(We,{...Ce==="root"&&!Ue&&!$e[Ce]&&Oe,...Ce!=="root"&&!$e[Ce]&&Oe,...Xe,...Je&&!ke&&{as:Je},...Je&&ke&&{component:Je},ref:Ze},De);return[We,tr]}function getMenuItemUtilityClass(Ce){return generateUtilityClass("MuiMenuItem",Ce)}const menuItemClasses=generateUtilityClasses("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),overridesResolver=(Ce,Re)=>{const{ownerState:je}=Ce;return[Re.root,je.dense&&Re.dense,je.divider&&Re.divider,!je.disableGutters&&Re.gutters]},useUtilityClasses$e=Ce=>{const{disabled:Re,dense:je,divider:Be,disableGutters:De,selected:Fe,classes:Oe}=Ce,Me=composeClasses({root:["root",je&&"dense",Re&&"disabled",!De&&"gutters",Be&&"divider",Fe&&"selected"]},getMenuItemUtilityClass,Oe);return{...Oe,...Me}},MenuItemRoot=styled(ButtonBase,{shouldForwardProp:Ce=>rootShouldForwardProp(Ce)||Ce==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver})(memoTheme(({theme:Ce})=>({...Ce.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(Ce.vars||Ce).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${menuItemClasses.selected}`]:{backgroundColor:Ce.alpha((Ce.vars||Ce).palette.primary.main,(Ce.vars||Ce).palette.action.selectedOpacity),[`&.${menuItemClasses.focusVisible}`]:{backgroundColor:Ce.alpha((Ce.vars||Ce).palette.primary.main,`${(Ce.vars||Ce).palette.action.selectedOpacity} + ${(Ce.vars||Ce).palette.action.focusOpacity}`)}},[`&.${menuItemClasses.selected}:hover`]:{backgroundColor:Ce.alpha((Ce.vars||Ce).palette.primary.main,`${(Ce.vars||Ce).palette.action.selectedOpacity} + ${(Ce.vars||Ce).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:Ce.alpha((Ce.vars||Ce).palette.primary.main,(Ce.vars||Ce).palette.action.selectedOpacity)}},[`&.${menuItemClasses.focusVisible}`]:{backgroundColor:(Ce.vars||Ce).palette.action.focus},[`&.${menuItemClasses.disabled}`]:{opacity:(Ce.vars||Ce).palette.action.disabledOpacity},[`& + .${dividerClasses.root}`]:{marginTop:Ce.spacing(1),marginBottom:Ce.spacing(1)},[`& + .${dividerClasses.inset}`]:{marginLeft:52},[`& .${listItemTextClasses.root}`]:{marginTop:0,marginBottom:0},[`& .${listItemTextClasses.inset}`]:{paddingLeft:36},[`& .${listItemIconClasses.root}`]:{minWidth:36},variants:[{props:({ownerState:Re})=>!Re.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:Re})=>Re.divider,style:{borderBottom:`1px solid ${(Ce.vars||Ce).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:Re})=>!Re.dense,style:{[Ce.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:Re})=>Re.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...Ce.typography.body2,[`& .${listItemIconClasses.root} svg`]:{fontSize:"1.25rem"}}}]}))),MenuItem=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({props:Re,name:"MuiMenuItem"}),{autoFocus:De=!1,component:Fe="li",dense:Oe=!1,divider:ke=!1,disableGutters:Me=!1,focusVisibleClassName:Ue,role:$e="menuitem",tabIndex:He,className:Qe,...We}=Be,qe=reactExports.useContext(ListContext),Ke=reactExports.useMemo(()=>({dense:Oe||qe.dense||!1,disableGutters:Me}),[qe.dense,Oe,Me]),Xe=reactExports.useRef(null);useEnhancedEffect(()=>{De&&Xe.current&&Xe.current.focus()},[De]);const Ye={...Be,dense:Ke.dense,divider:ke,disableGutters:Me},Ze=useUtilityClasses$e(Be),Je=useForkRef(Xe,je);let tr;return Be.disabled||(tr=He!==void 0?He:-1),jsxRuntimeExports.jsx(ListContext.Provider,{value:Ke,children:jsxRuntimeExports.jsx(MenuItemRoot,{ref:Je,role:$e,tabIndex:tr,component:Fe,focusVisibleClassName:clsx(Ze.focusVisible,Ue),className:clsx(Ze.root,Qe),...We,ownerState:Ye,classes:Ze})})});function getReactElementRef(Ce){return parseInt(reactExports.version,10)>=19?Ce?.props?.ref||null:Ce?.ref||null}function ownerDocument(Ce){return Ce&&Ce.ownerDocument||document}function useSlotProps(Ce){const{elementType:Re,externalSlotProps:je,ownerState:Be,skipResolvingSlotProps:De=!1,...Fe}=Ce,Oe=De?{}:resolveComponentProps(je,Be),{props:ke,internalRef:Me}=mergeSlotProps$1({...Fe,externalSlotProps:Oe}),Ue=useForkRef(Me,Oe?.ref,Ce.additionalProps?.ref);return appendOwnerState(Re,{...ke,ref:Ue},Be)}function getListUtilityClass(Ce){return generateUtilityClass("MuiList",Ce)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const useUtilityClasses$d=Ce=>{const{classes:Re,disablePadding:je,dense:Be,subheader:De}=Ce;return composeClasses({root:["root",!je&&"padding",Be&&"dense",De&&"subheader"]},getListUtilityClass,Re)},ListRoot=styled("ul",{name:"MuiList",slot:"Root",overridesResolver:(Ce,Re)=>{const{ownerState:je}=Ce;return[Re.root,!je.disablePadding&&Re.padding,je.dense&&Re.dense,je.subheader&&Re.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:Ce})=>!Ce.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:Ce})=>Ce.subheader,style:{paddingTop:0}}]}),List=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({props:Re,name:"MuiList"}),{children:De,className:Fe,component:Oe="ul",dense:ke=!1,disablePadding:Me=!1,subheader:Ue,...$e}=Be,He=reactExports.useMemo(()=>({dense:ke}),[ke]),Qe={...Be,component:Oe,dense:ke,disablePadding:Me},We=useUtilityClasses$d(Qe);return jsxRuntimeExports.jsx(ListContext.Provider,{value:He,children:jsxRuntimeExports.jsxs(ListRoot,{as:Oe,className:clsx(We.root,Fe),ref:je,ownerState:Qe,...$e,children:[Ue,De]})})});function getScrollbarSize(Ce=window){const Re=Ce.document.documentElement.clientWidth;return Ce.innerWidth-Re}function createChainedFunction(...Ce){return Ce.reduce((Re,je)=>je==null?Re:function(...De){Re.apply(this,De),je.apply(this,De)},()=>{})}function getSvgIconUtilityClass(Ce){return generateUtilityClass("MuiSvgIcon",Ce)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const useUtilityClasses$c=Ce=>{const{color:Re,fontSize:je,classes:Be}=Ce,De={root:["root",Re!=="inherit"&&`color${capitalize(Re)}`,`fontSize${capitalize(je)}`]};return composeClasses(De,getSvgIconUtilityClass,Be)},SvgIconRoot=styled("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(Ce,Re)=>{const{ownerState:je}=Ce;return[Re.root,je.color!=="inherit"&&Re[`color${capitalize(je.color)}`],Re[`fontSize${capitalize(je.fontSize)}`]]}})(memoTheme(({theme:Ce})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:Ce.transitions?.create?.("fill",{duration:(Ce.vars??Ce).transitions?.duration?.shorter}),variants:[{props:Re=>!Re.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:Ce.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:Ce.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:Ce.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((Ce.vars??Ce).palette).filter(([,Re])=>Re&&Re.main).map(([Re])=>({props:{color:Re},style:{color:(Ce.vars??Ce).palette?.[Re]?.main}})),{props:{color:"action"},style:{color:(Ce.vars??Ce).palette?.action?.active}},{props:{color:"disabled"},style:{color:(Ce.vars??Ce).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),SvgIcon=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({props:Re,name:"MuiSvgIcon"}),{children:De,className:Fe,color:Oe="inherit",component:ke="svg",fontSize:Me="medium",htmlColor:Ue,inheritViewBox:$e=!1,titleAccess:He,viewBox:Qe="0 0 24 24",...We}=Be,qe=reactExports.isValidElement(De)&&De.type==="svg",Ke={...Be,color:Oe,component:ke,fontSize:Me,instanceFontSize:Re.fontSize,inheritViewBox:$e,viewBox:Qe,hasSvgAsChild:qe},Xe={};$e||(Xe.viewBox=Qe);const Ye=useUtilityClasses$c(Ke);return jsxRuntimeExports.jsxs(SvgIconRoot,{as:ke,className:clsx(Ye.root,Fe),focusable:"false",color:Ue,"aria-hidden":He?void 0:!0,role:He?"img":void 0,ref:je,...Xe,...We,...qe&&De.props,ownerState:Ke,children:[qe?De.props.children:De,He?jsxRuntimeExports.jsx("title",{children:He}):null]})});SvgIcon.muiName="SvgIcon";function createSvgIcon(Ce,Re){function je(Be,De){return jsxRuntimeExports.jsx(SvgIcon,{"data-testid":void 0,ref:De,...Be,children:Ce})}return je.muiName=SvgIcon.muiName,reactExports.memo(reactExports.forwardRef(je))}function debounce(Ce,Re=166){let je;function Be(...De){const Fe=()=>{Ce.apply(this,De)};clearTimeout(je),je=setTimeout(Fe,Re)}return Be.clear=()=>{clearTimeout(je)},Be}function ownerWindow(Ce){return ownerDocument(Ce).defaultView||window}function setRef(Ce,Re){typeof Ce=="function"?Ce(Re):Ce&&(Ce.current=Re)}function useControlled(Ce){const{controlled:Re,default:je,name:Be,state:De="value"}=Ce,{current:Fe}=reactExports.useRef(Re!==void 0),[Oe,ke]=reactExports.useState(je),Me=Fe?Re:Oe,Ue=reactExports.useCallback($e=>{Fe||ke($e)},[]);return[Me,Ue]}function isEventHandler(Ce,Re){const je=Ce.charCodeAt(2);return Ce[0]==="o"&&Ce[1]==="n"&&je>=65&&je<=90&&typeof Re=="function"}function mergeSlotProps(Ce,Re){if(!Ce)return Re;function je(Oe,ke){const Me={};return Object.keys(ke).forEach(Ue=>{isEventHandler(Ue,ke[Ue])&&typeof Oe[Ue]=="function"&&(Me[Ue]=(...$e)=>{Oe[Ue](...$e),ke[Ue](...$e)})}),Me}if(typeof Ce=="function"||typeof Re=="function")return Oe=>{const ke=typeof Re=="function"?Re(Oe):Re,Me=typeof Ce=="function"?Ce({...Oe,...ke}):Ce,Ue=clsx(Oe?.className,ke?.className,Me?.className),$e=je(Me,ke);return{...ke,...Me,...$e,...!!Ue&&{className:Ue},...ke?.style&&Me?.style&&{style:{...ke.style,...Me.style}},...ke?.sx&&Me?.sx&&{sx:[...Array.isArray(ke.sx)?ke.sx:[ke.sx],...Array.isArray(Me.sx)?Me.sx:[Me.sx]]}}};const Be=Re,De=je(Ce,Be),Fe=clsx(Be?.className,Ce?.className);return{...Re,...Ce,...De,...!!Fe&&{className:Fe},...Be?.style&&Ce?.style&&{style:{...Be.style,...Ce.style}},...Be?.sx&&Ce?.sx&&{sx:[...Array.isArray(Be.sx)?Be.sx:[Be.sx],...Array.isArray(Ce.sx)?Ce.sx:[Ce.sx]]}}}function nextItem(Ce,Re,je){return Ce===Re?Ce.firstChild:Re&&Re.nextElementSibling?Re.nextElementSibling:je?null:Ce.firstChild}function previousItem(Ce,Re,je){return Ce===Re?je?Ce.firstChild:Ce.lastChild:Re&&Re.previousElementSibling?Re.previousElementSibling:je?null:Ce.lastChild}function textCriteriaMatches(Ce,Re){if(Re===void 0)return!0;let je=Ce.innerText;return je===void 0&&(je=Ce.textContent),je=je.trim().toLowerCase(),je.length===0?!1:Re.repeating?je[0]===Re.keys[0]:je.startsWith(Re.keys.join(""))}function moveFocus(Ce,Re,je,Be,De,Fe){let Oe=!1,ke=De(Ce,Re,Re?je:!1);for(;ke;){if(ke===Ce.firstChild){if(Oe)return!1;Oe=!0}const Me=Be?!1:ke.disabled||ke.getAttribute("aria-disabled")==="true";if(!ke.hasAttribute("tabindex")||!textCriteriaMatches(ke,Fe)||Me)ke=De(Ce,ke,je);else return ke.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function Ce(Re,je){const{actions:Be,autoFocus:De=!1,autoFocusItem:Fe=!1,children:Oe,className:ke,disabledItemsFocusable:Me=!1,disableListWrap:Ue=!1,onKeyDown:$e,variant:He="selectedMenu",...Qe}=Re,We=reactExports.useRef(null),qe=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect(()=>{De&&We.current.focus()},[De]),reactExports.useImperativeHandle(Be,()=>({adjustStyleForScrollbar:(Je,{direction:tr})=>{const rr=!We.current.style.width;if(Je.clientHeight<We.current.clientHeight&&rr){const ar=`${getScrollbarSize(ownerWindow(Je))}px`;We.current.style[tr==="rtl"?"paddingLeft":"paddingRight"]=ar,We.current.style.width=`calc(100% + ${ar})`}return We.current}}),[]);const Ke=Je=>{const tr=We.current,rr=Je.key;if(Je.ctrlKey||Je.metaKey||Je.altKey){$e&&$e(Je);return}const nr=ownerDocument(tr).activeElement;if(rr==="ArrowDown")Je.preventDefault(),moveFocus(tr,nr,Ue,Me,nextItem);else if(rr==="ArrowUp")Je.preventDefault(),moveFocus(tr,nr,Ue,Me,previousItem);else if(rr==="Home")Je.preventDefault(),moveFocus(tr,null,Ue,Me,nextItem);else if(rr==="End")Je.preventDefault(),moveFocus(tr,null,Ue,Me,previousItem);else if(rr.length===1){const sr=qe.current,dr=rr.toLowerCase(),_r=performance.now();sr.keys.length>0&&(_r-sr.lastTime>500?(sr.keys=[],sr.repeating=!0,sr.previousKeyMatched=!0):sr.repeating&&dr!==sr.keys[0]&&(sr.repeating=!1)),sr.lastTime=_r,sr.keys.push(dr);const fr=nr&&!sr.repeating&&textCriteriaMatches(nr,sr);sr.previousKeyMatched&&(fr||moveFocus(tr,nr,!1,Me,nextItem,sr))?Je.preventDefault():sr.previousKeyMatched=!1}$e&&$e(Je)},Xe=useForkRef(We,je);let Ye=-1;reactExports.Children.forEach(Oe,(Je,tr)=>{if(!reactExports.isValidElement(Je)){Ye===tr&&(Ye+=1,Ye>=Oe.length&&(Ye=-1));return}Je.props.disabled||(He==="selectedMenu"&&Je.props.selected||Ye===-1)&&(Ye=tr),Ye===tr&&(Je.props.disabled||Je.props.muiSkipListHighlight||Je.type.muiSkipListHighlight)&&(Ye+=1,Ye>=Oe.length&&(Ye=-1))});const Ze=reactExports.Children.map(Oe,(Je,tr)=>{if(tr===Ye){const rr={};return Fe&&(rr.autoFocus=!0),Je.props.tabIndex===void 0&&He==="selectedMenu"&&(rr.tabIndex=0),reactExports.cloneElement(Je,rr)}return Je});return jsxRuntimeExports.jsx(List,{role:"menu",ref:Xe,className:ke,onKeyDown:Ke,tabIndex:De?0:-1,...Qe,children:Ze})});function isHostComponent(Ce){return typeof Ce=="string"}const reflow=Ce=>Ce.scrollTop;function getTransitionProps(Ce,Re){const{timeout:je,easing:Be,style:De={}}=Ce;return{duration:De.transitionDuration??(typeof je=="number"?je:je[Re.mode]||0),easing:De.transitionTimingFunction??(typeof Be=="object"?Be[Re.mode]:Be),delay:De.transitionDelay}}function getScale(Ce){return`scale(${Ce}, ${Ce**2})`}const styles$2={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function Ce(Re,je){const{addEndListener:Be,appear:De=!0,children:Fe,easing:Oe,in:ke,onEnter:Me,onEntered:Ue,onEntering:$e,onExit:He,onExited:Qe,onExiting:We,style:qe,timeout:Ke="auto",TransitionComponent:Xe=Transition,...Ye}=Re,Ze=useTimeout(),Je=reactExports.useRef(),tr=useTheme(),rr=reactExports.useRef(null),ar=useForkRef(rr,getReactElementRef(Fe),je),nr=jr=>xr=>{if(jr){const Pr=rr.current;xr===void 0?jr(Pr):jr(Pr,xr)}},sr=nr($e),dr=nr((jr,xr)=>{reflow(jr);const{duration:Pr,delay:br,easing:wr}=getTransitionProps({style:qe,timeout:Ke,easing:Oe},{mode:"enter"});let Br;Ke==="auto"?(Br=tr.transitions.getAutoHeightDuration(jr.clientHeight),Je.current=Br):Br=Pr,jr.style.transition=[tr.transitions.create("opacity",{duration:Br,delay:br}),tr.transitions.create("transform",{duration:isWebKit154?Br:Br*.666,delay:br,easing:wr})].join(","),Me&&Me(jr,xr)}),_r=nr(Ue),fr=nr(We),or=nr(jr=>{const{duration:xr,delay:Pr,easing:br}=getTransitionProps({style:qe,timeout:Ke,easing:Oe},{mode:"exit"});let wr;Ke==="auto"?(wr=tr.transitions.getAutoHeightDuration(jr.clientHeight),Je.current=wr):wr=xr,jr.style.transition=[tr.transitions.create("opacity",{duration:wr,delay:Pr}),tr.transitions.create("transform",{duration:isWebKit154?wr:wr*.666,delay:isWebKit154?Pr:Pr||wr*.333,easing:br})].join(","),jr.style.opacity=0,jr.style.transform=getScale(.75),He&&He(jr)}),Er=nr(Qe),Rr=jr=>{Ke==="auto"&&Ze.start(Je.current||0,jr),Be&&Be(rr.current,jr)};return jsxRuntimeExports.jsx(Xe,{appear:De,in:ke,nodeRef:rr,onEnter:dr,onEntered:_r,onEntering:sr,onExit:or,onExited:Er,onExiting:fr,addEndListener:Rr,timeout:Ke==="auto"?null:Ke,...Ye,children:(jr,{ownerState:xr,...Pr})=>reactExports.cloneElement(Fe,{style:{opacity:0,transform:getScale(.75),visibility:jr==="exited"&&!ke?"hidden":void 0,...styles$2[jr],...qe,...Fe.props.style},ref:ar,...Pr})})});Grow&&(Grow.muiSupportAuto=!0);function isOverflowing(Ce){const Re=ownerDocument(Ce);return Re.body===Ce?ownerWindow(Ce).innerWidth>Re.documentElement.clientWidth:Ce.scrollHeight>Ce.clientHeight}function ariaHidden(Ce,Re){Re?Ce.setAttribute("aria-hidden","true"):Ce.removeAttribute("aria-hidden")}function getPaddingRight(Ce){return parseInt(ownerWindow(Ce).getComputedStyle(Ce).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(Ce){const je=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(Ce.tagName),Be=Ce.tagName==="INPUT"&&Ce.getAttribute("type")==="hidden";return je||Be}function ariaHiddenSiblings(Ce,Re,je,Be,De){const Fe=[Re,je,...Be];[].forEach.call(Ce.children,Oe=>{const ke=!Fe.includes(Oe),Me=!isAriaHiddenForbiddenOnElement(Oe);ke&&Me&&ariaHidden(Oe,De)})}function findIndexOf(Ce,Re){let je=-1;return Ce.some((Be,De)=>Re(Be)?(je=De,!0):!1),je}function handleContainer(Ce,Re){const je=[],Be=Ce.container;if(!Re.disableScrollLock){if(isOverflowing(Be)){const Oe=getScrollbarSize(ownerWindow(Be));je.push({value:Be.style.paddingRight,property:"padding-right",el:Be}),Be.style.paddingRight=`${getPaddingRight(Be)+Oe}px`;const ke=ownerDocument(Be).querySelectorAll(".mui-fixed");[].forEach.call(ke,Me=>{je.push({value:Me.style.paddingRight,property:"padding-right",el:Me}),Me.style.paddingRight=`${getPaddingRight(Me)+Oe}px`})}let Fe;if(Be.parentNode instanceof DocumentFragment)Fe=ownerDocument(Be).body;else{const Oe=Be.parentElement,ke=ownerWindow(Be);Fe=Oe?.nodeName==="HTML"&&ke.getComputedStyle(Oe).overflowY==="scroll"?Oe:Be}je.push({value:Fe.style.overflow,property:"overflow",el:Fe},{value:Fe.style.overflowX,property:"overflow-x",el:Fe},{value:Fe.style.overflowY,property:"overflow-y",el:Fe}),Fe.style.overflow="hidden"}return()=>{je.forEach(({value:Fe,el:Oe,property:ke})=>{Fe?Oe.style.setProperty(ke,Fe):Oe.style.removeProperty(ke)})}}function getHiddenSiblings(Ce){const Re=[];return[].forEach.call(Ce.children,je=>{je.getAttribute("aria-hidden")==="true"&&Re.push(je)}),Re}class ModalManager{constructor(){this.modals=[],this.containers=[]}add(Re,je){let Be=this.modals.indexOf(Re);if(Be!==-1)return Be;Be=this.modals.length,this.modals.push(Re),Re.modalRef&&ariaHidden(Re.modalRef,!1);const De=getHiddenSiblings(je);ariaHiddenSiblings(je,Re.mount,Re.modalRef,De,!0);const Fe=findIndexOf(this.containers,Oe=>Oe.container===je);return Fe!==-1?(this.containers[Fe].modals.push(Re),Be):(this.containers.push({modals:[Re],container:je,restore:null,hiddenSiblings:De}),Be)}mount(Re,je){const Be=findIndexOf(this.containers,Fe=>Fe.modals.includes(Re)),De=this.containers[Be];De.restore||(De.restore=handleContainer(De,je))}remove(Re,je=!0){const Be=this.modals.indexOf(Re);if(Be===-1)return Be;const De=findIndexOf(this.containers,Oe=>Oe.modals.includes(Re)),Fe=this.containers[De];if(Fe.modals.splice(Fe.modals.indexOf(Re),1),this.modals.splice(Be,1),Fe.modals.length===0)Fe.restore&&Fe.restore(),Re.modalRef&&ariaHidden(Re.modalRef,je),ariaHiddenSiblings(Fe.container,Re.mount,Re.modalRef,Fe.hiddenSiblings,!1),this.containers.splice(De,1);else{const Oe=Fe.modals[Fe.modals.length-1];Oe.modalRef&&ariaHidden(Oe.modalRef,!1)}return Be}isTopModal(Re){return this.modals.length>0&&this.modals[this.modals.length-1]===Re}}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(Ce){const Re=parseInt(Ce.getAttribute("tabindex")||"",10);return Number.isNaN(Re)?Ce.contentEditable==="true"||(Ce.nodeName==="AUDIO"||Ce.nodeName==="VIDEO"||Ce.nodeName==="DETAILS")&&Ce.getAttribute("tabindex")===null?0:Ce.tabIndex:Re}function isNonTabbableRadio(Ce){if(Ce.tagName!=="INPUT"||Ce.type!=="radio"||!Ce.name)return!1;const Re=Be=>Ce.ownerDocument.querySelector(`input[type="radio"]${Be}`);let je=Re(`[name="${Ce.name}"]:checked`);return je||(je=Re(`[name="${Ce.name}"]`)),je!==Ce}function isNodeMatchingSelectorFocusable(Ce){return!(Ce.disabled||Ce.tagName==="INPUT"&&Ce.type==="hidden"||isNonTabbableRadio(Ce))}function defaultGetTabbable(Ce){const Re=[],je=[];return Array.from(Ce.querySelectorAll(candidatesSelector)).forEach((Be,De)=>{const Fe=getTabIndex(Be);Fe===-1||!isNodeMatchingSelectorFocusable(Be)||(Fe===0?Re.push(Be):je.push({documentOrder:De,tabIndex:Fe,node:Be}))}),je.sort((Be,De)=>Be.tabIndex===De.tabIndex?Be.documentOrder-De.documentOrder:Be.tabIndex-De.tabIndex).map(Be=>Be.node).concat(Re)}function defaultIsEnabled(){return!0}function FocusTrap(Ce){const{children:Re,disableAutoFocus:je=!1,disableEnforceFocus:Be=!1,disableRestoreFocus:De=!1,getTabbable:Fe=defaultGetTabbable,isEnabled:Oe=defaultIsEnabled,open:ke}=Ce,Me=reactExports.useRef(!1),Ue=reactExports.useRef(null),$e=reactExports.useRef(null),He=reactExports.useRef(null),Qe=reactExports.useRef(null),We=reactExports.useRef(!1),qe=reactExports.useRef(null),Ke=useForkRef(getReactElementRef(Re),qe),Xe=reactExports.useRef(null);reactExports.useEffect(()=>{!ke||!qe.current||(We.current=!je)},[je,ke]),reactExports.useEffect(()=>{if(!ke||!qe.current)return;const Je=ownerDocument(qe.current);return qe.current.contains(Je.activeElement)||(qe.current.hasAttribute("tabIndex")||qe.current.setAttribute("tabIndex","-1"),We.current&&qe.current.focus()),()=>{De||(He.current&&He.current.focus&&(Me.current=!0,He.current.focus()),He.current=null)}},[ke]),reactExports.useEffect(()=>{if(!ke||!qe.current)return;const Je=ownerDocument(qe.current),tr=nr=>{Xe.current=nr,!(Be||!Oe()||nr.key!=="Tab")&&Je.activeElement===qe.current&&nr.shiftKey&&(Me.current=!0,$e.current&&$e.current.focus())},rr=()=>{const nr=qe.current;if(nr===null)return;if(!Je.hasFocus()||!Oe()||Me.current){Me.current=!1;return}if(nr.contains(Je.activeElement)||Be&&Je.activeElement!==Ue.current&&Je.activeElement!==$e.current)return;if(Je.activeElement!==Qe.current)Qe.current=null;else if(Qe.current!==null)return;if(!We.current)return;let sr=[];if((Je.activeElement===Ue.current||Je.activeElement===$e.current)&&(sr=Fe(qe.current)),sr.length>0){const dr=!!(Xe.current?.shiftKey&&Xe.current?.key==="Tab"),_r=sr[0],fr=sr[sr.length-1];typeof _r!="string"&&typeof fr!="string"&&(dr?fr.focus():_r.focus())}else nr.focus()};Je.addEventListener("focusin",rr),Je.addEventListener("keydown",tr,!0);const ar=setInterval(()=>{Je.activeElement&&Je.activeElement.tagName==="BODY"&&rr()},50);return()=>{clearInterval(ar),Je.removeEventListener("focusin",rr),Je.removeEventListener("keydown",tr,!0)}},[je,Be,De,Oe,ke,Fe]);const Ye=Je=>{He.current===null&&(He.current=Je.relatedTarget),We.current=!0,Qe.current=Je.target;const tr=Re.props.onFocus;tr&&tr(Je)},Ze=Je=>{He.current===null&&(He.current=Je.relatedTarget),We.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:ke?0:-1,onFocus:Ze,ref:Ue,"data-testid":"sentinelStart"}),reactExports.cloneElement(Re,{ref:Ke,onFocus:Ye}),jsxRuntimeExports.jsx("div",{tabIndex:ke?0:-1,onFocus:Ze,ref:$e,"data-testid":"sentinelEnd"})]})}function getContainer$1(Ce){return typeof Ce=="function"?Ce():Ce}const Portal=reactExports.forwardRef(function Ce(Re,je){const{children:Be,container:De,disablePortal:Fe=!1}=Re,[Oe,ke]=reactExports.useState(null),Me=useForkRef(reactExports.isValidElement(Be)?getReactElementRef(Be):null,je);if(useEnhancedEffect(()=>{Fe||ke(getContainer$1(De)||document.body)},[De,Fe]),useEnhancedEffect(()=>{if(Oe&&!Fe)return setRef(je,Oe),()=>{setRef(je,null)}},[je,Oe,Fe]),Fe){if(reactExports.isValidElement(Be)){const Ue={ref:Me};return reactExports.cloneElement(Be,Ue)}return Be}return Oe&&reactDomExports.createPortal(Be,Oe)}),styles$1={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function Ce(Re,je){const Be=useTheme(),De={enter:Be.transitions.duration.enteringScreen,exit:Be.transitions.duration.leavingScreen},{addEndListener:Fe,appear:Oe=!0,children:ke,easing:Me,in:Ue,onEnter:$e,onEntered:He,onEntering:Qe,onExit:We,onExited:qe,onExiting:Ke,style:Xe,timeout:Ye=De,TransitionComponent:Ze=Transition,...Je}=Re,tr=reactExports.useRef(null),rr=useForkRef(tr,getReactElementRef(ke),je),ar=Rr=>jr=>{if(Rr){const xr=tr.current;jr===void 0?Rr(xr):Rr(xr,jr)}},nr=ar(Qe),sr=ar((Rr,jr)=>{reflow(Rr);const xr=getTransitionProps({style:Xe,timeout:Ye,easing:Me},{mode:"enter"});Rr.style.webkitTransition=Be.transitions.create("opacity",xr),Rr.style.transition=Be.transitions.create("opacity",xr),$e&&$e(Rr,jr)}),dr=ar(He),_r=ar(Ke),fr=ar(Rr=>{const jr=getTransitionProps({style:Xe,timeout:Ye,easing:Me},{mode:"exit"});Rr.style.webkitTransition=Be.transitions.create("opacity",jr),Rr.style.transition=Be.transitions.create("opacity",jr),We&&We(Rr)}),or=ar(qe),Er=Rr=>{Fe&&Fe(tr.current,Rr)};return jsxRuntimeExports.jsx(Ze,{appear:Oe,in:Ue,nodeRef:tr,onEnter:sr,onEntered:dr,onEntering:nr,onExit:fr,onExited:or,onExiting:_r,addEndListener:Er,timeout:Ye,...Je,children:(Rr,{ownerState:jr,...xr})=>reactExports.cloneElement(ke,{style:{opacity:0,visibility:Rr==="exited"&&!Ue?"hidden":void 0,...styles$1[Rr],...Xe,...ke.props.style},ref:rr,...xr})})});function getBackdropUtilityClass(Ce){return generateUtilityClass("MuiBackdrop",Ce)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const useUtilityClasses$b=Ce=>{const{classes:Re,invisible:je}=Ce;return composeClasses({root:["root",je&&"invisible"]},getBackdropUtilityClass,Re)},BackdropRoot=styled("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(Ce,Re)=>{const{ownerState:je}=Ce;return[Re.root,je.invisible&&Re.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Backdrop=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({props:Re,name:"MuiBackdrop"}),{children:De,className:Fe,component:Oe="div",invisible:ke=!1,open:Me,components:Ue={},componentsProps:$e={},slotProps:He={},slots:Qe={},TransitionComponent:We,transitionDuration:qe,...Ke}=Be,Xe={...Be,component:Oe,invisible:ke},Ye=useUtilityClasses$b(Xe),Ze={transition:We,root:Ue.Root,...Qe},Je={...$e,...He},tr={component:Oe,slots:Ze,slotProps:Je},[rr,ar]=useSlot("root",{elementType:BackdropRoot,externalForwardedProps:tr,className:clsx(Ye.root,Fe),ownerState:Xe}),[nr,sr]=useSlot("transition",{elementType:Fade,externalForwardedProps:tr,ownerState:Xe});return jsxRuntimeExports.jsx(nr,{in:Me,timeout:qe,...Ke,...sr,children:jsxRuntimeExports.jsx(rr,{"aria-hidden":!0,...ar,classes:Ye,ref:je,children:De})})});function getContainer(Ce){return typeof Ce=="function"?Ce():Ce}function getHasTransition(Ce){return Ce?Ce.props.hasOwnProperty("in"):!1}const noop=()=>{},manager=new ModalManager;function useModal(Ce){const{container:Re,disableEscapeKeyDown:je=!1,disableScrollLock:Be=!1,closeAfterTransition:De=!1,onTransitionEnter:Fe,onTransitionExited:Oe,children:ke,onClose:Me,open:Ue,rootRef:$e}=Ce,He=reactExports.useRef({}),Qe=reactExports.useRef(null),We=reactExports.useRef(null),qe=useForkRef(We,$e),[Ke,Xe]=reactExports.useState(!Ue),Ye=getHasTransition(ke);let Ze=!0;(Ce["aria-hidden"]==="false"||Ce["aria-hidden"]===!1)&&(Ze=!1);const Je=()=>ownerDocument(Qe.current),tr=()=>(He.current.modalRef=We.current,He.current.mount=Qe.current,He.current),rr=()=>{manager.mount(tr(),{disableScrollLock:Be}),We.current&&(We.current.scrollTop=0)},ar=useEventCallback(()=>{const jr=getContainer(Re)||Je().body;manager.add(tr(),jr),We.current&&rr()}),nr=()=>manager.isTopModal(tr()),sr=useEventCallback(jr=>{Qe.current=jr,jr&&(Ue&&nr()?rr():We.current&&ariaHidden(We.current,Ze))}),dr=reactExports.useCallback(()=>{manager.remove(tr(),Ze)},[Ze]);reactExports.useEffect(()=>()=>{dr()},[dr]),reactExports.useEffect(()=>{Ue?ar():(!Ye||!De)&&dr()},[Ue,dr,Ye,De,ar]);const _r=jr=>xr=>{jr.onKeyDown?.(xr),!(xr.key!=="Escape"||xr.which===229||!nr())&&(je||(xr.stopPropagation(),Me&&Me(xr,"escapeKeyDown")))},fr=jr=>xr=>{jr.onClick?.(xr),xr.target===xr.currentTarget&&Me&&Me(xr,"backdropClick")};return{getRootProps:(jr={})=>{const xr=extractEventHandlers(Ce);delete xr.onTransitionEnter,delete xr.onTransitionExited;const Pr={...xr,...jr};return{role:"presentation",...Pr,onKeyDown:_r(Pr),ref:qe}},getBackdropProps:(jr={})=>{const xr=jr;return{"aria-hidden":!0,...xr,onClick:fr(xr),open:Ue}},getTransitionProps:()=>{const jr=()=>{Xe(!1),Fe&&Fe()},xr=()=>{Xe(!0),Oe&&Oe(),De&&dr()};return{onEnter:createChainedFunction(jr,ke?.props.onEnter??noop),onExited:createChainedFunction(xr,ke?.props.onExited??noop)}},rootRef:qe,portalRef:sr,isTopModal:nr,exited:Ke,hasTransition:Ye}}function getModalUtilityClass(Ce){return generateUtilityClass("MuiModal",Ce)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const useUtilityClasses$a=Ce=>{const{open:Re,exited:je,classes:Be}=Ce;return composeClasses({root:["root",!Re&&je&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,Be)},ModalRoot=styled("div",{name:"MuiModal",slot:"Root",overridesResolver:(Ce,Re)=>{const{ownerState:je}=Ce;return[Re.root,!je.open&&je.exited&&Re.hidden]}})(memoTheme(({theme:Ce})=>({position:"fixed",zIndex:(Ce.vars||Ce).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:Re})=>!Re.open&&Re.exited,style:{visibility:"hidden"}}]}))),ModalBackdrop=styled(Backdrop,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Modal=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({name:"MuiModal",props:Re}),{BackdropComponent:De=ModalBackdrop,BackdropProps:Fe,classes:Oe,className:ke,closeAfterTransition:Me=!1,children:Ue,container:$e,component:He,components:Qe={},componentsProps:We={},disableAutoFocus:qe=!1,disableEnforceFocus:Ke=!1,disableEscapeKeyDown:Xe=!1,disablePortal:Ye=!1,disableRestoreFocus:Ze=!1,disableScrollLock:Je=!1,hideBackdrop:tr=!1,keepMounted:rr=!1,onClose:ar,onTransitionEnter:nr,onTransitionExited:sr,open:dr,slotProps:_r={},slots:fr={},theme:or,...Er}=Be,Rr={...Be,closeAfterTransition:Me,disableAutoFocus:qe,disableEnforceFocus:Ke,disableEscapeKeyDown:Xe,disablePortal:Ye,disableRestoreFocus:Ze,disableScrollLock:Je,hideBackdrop:tr,keepMounted:rr},{getRootProps:jr,getBackdropProps:xr,getTransitionProps:Pr,portalRef:br,isTopModal:wr,exited:Br,hasTransition:Lr}=useModal({...Rr,rootRef:je}),yr={...Rr,exited:Br},vr=useUtilityClasses$a(yr),Tr={};if(Ue.props.tabIndex===void 0&&(Tr.tabIndex="-1"),Lr){const{onEnter:Jr,onExited:An}=Pr();Tr.onEnter=Jr,Tr.onExited=An}const Or={slots:{root:Qe.Root,backdrop:Qe.Backdrop,...fr},slotProps:{...We,..._r}},[Nr,Hr]=useSlot("root",{ref:je,elementType:ModalRoot,externalForwardedProps:{...Or,...Er,component:He},getSlotProps:jr,ownerState:yr,className:clsx(ke,vr?.root,!yr.open&&yr.exited&&vr?.hidden)}),[Wr,qr]=useSlot("backdrop",{ref:Fe?.ref,elementType:De,externalForwardedProps:Or,shouldForwardComponentProp:!0,additionalProps:Fe,getSlotProps:Jr=>xr({...Jr,onClick:An=>{Jr?.onClick&&Jr.onClick(An)}}),className:clsx(Fe?.className,vr?.backdrop),ownerState:yr});return!rr&&!dr&&(!Lr||Br)?null:jsxRuntimeExports.jsx(Portal,{ref:br,container:$e,disablePortal:Ye,children:jsxRuntimeExports.jsxs(Nr,{...Hr,children:[!tr&&De?jsxRuntimeExports.jsx(Wr,{...qr}):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:Ke,disableAutoFocus:qe,disableRestoreFocus:Ze,isEnabled:wr,open:dr,children:reactExports.cloneElement(Ue,Tr)})]})})});function getPaperUtilityClass(Ce){return generateUtilityClass("MuiPaper",Ce)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const useUtilityClasses$9=Ce=>{const{square:Re,elevation:je,variant:Be,classes:De}=Ce,Fe={root:["root",Be,!Re&&"rounded",Be==="elevation"&&`elevation${je}`]};return composeClasses(Fe,getPaperUtilityClass,De)},PaperRoot=styled("div",{name:"MuiPaper",slot:"Root",overridesResolver:(Ce,Re)=>{const{ownerState:je}=Ce;return[Re.root,Re[je.variant],!je.square&&Re.rounded,je.variant==="elevation"&&Re[`elevation${je.elevation}`]]}})(memoTheme(({theme:Ce})=>({backgroundColor:(Ce.vars||Ce).palette.background.paper,color:(Ce.vars||Ce).palette.text.primary,transition:Ce.transitions.create("box-shadow"),variants:[{props:({ownerState:Re})=>!Re.square,style:{borderRadius:Ce.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(Ce.vars||Ce).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Paper=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({props:Re,name:"MuiPaper"}),De=useTheme(),{className:Fe,component:Oe="div",elevation:ke=1,square:Me=!1,variant:Ue="elevation",...$e}=Be,He={...Be,component:Oe,elevation:ke,square:Me,variant:Ue},Qe=useUtilityClasses$9(He);return jsxRuntimeExports.jsx(PaperRoot,{as:Oe,ownerState:He,className:clsx(Qe.root,Fe),ref:je,...$e,style:{...Ue==="elevation"&&{"--Paper-shadow":(De.vars||De).shadows[ke],...De.vars&&{"--Paper-overlay":De.vars.overlays?.[ke]},...!De.vars&&De.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${alpha("#fff",getOverlayAlpha(ke))}, ${alpha("#fff",getOverlayAlpha(ke))})`}},...$e.style}})});function getPopoverUtilityClass(Ce){return generateUtilityClass("MuiPopover",Ce)}generateUtilityClasses("MuiPopover",["root","paper"]);function getOffsetTop(Ce,Re){let je=0;return typeof Re=="number"?je=Re:Re==="center"?je=Ce.height/2:Re==="bottom"&&(je=Ce.height),je}function getOffsetLeft(Ce,Re){let je=0;return typeof Re=="number"?je=Re:Re==="center"?je=Ce.width/2:Re==="right"&&(je=Ce.width),je}function getTransformOriginValue(Ce){return[Ce.horizontal,Ce.vertical].map(Re=>typeof Re=="number"?`${Re}px`:Re).join(" ")}function resolveAnchorEl(Ce){return typeof Ce=="function"?Ce():Ce}const useUtilityClasses$8=Ce=>{const{classes:Re}=Ce;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,Re)},PopoverRoot=styled(Modal,{name:"MuiPopover",slot:"Root"})({}),PopoverPaper=styled(Paper,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({props:Re,name:"MuiPopover"}),{action:De,anchorEl:Fe,anchorOrigin:Oe={vertical:"top",horizontal:"left"},anchorPosition:ke,anchorReference:Me="anchorEl",children:Ue,className:$e,container:He,elevation:Qe=8,marginThreshold:We=16,open:qe,PaperProps:Ke={},slots:Xe={},slotProps:Ye={},transformOrigin:Ze={vertical:"top",horizontal:"left"},TransitionComponent:Je,transitionDuration:tr="auto",TransitionProps:rr={},disableScrollLock:ar=!1,...nr}=Be,sr=reactExports.useRef(),dr={...Be,anchorOrigin:Oe,anchorReference:Me,elevation:Qe,marginThreshold:We,transformOrigin:Ze,TransitionComponent:Je,transitionDuration:tr,TransitionProps:rr},_r=useUtilityClasses$8(dr),fr=reactExports.useCallback(()=>{if(Me==="anchorPosition")return ke;const Jr=resolveAnchorEl(Fe),an=(Jr&&Jr.nodeType===1?Jr:ownerDocument(sr.current).body).getBoundingClientRect();return{top:an.top+getOffsetTop(an,Oe.vertical),left:an.left+getOffsetLeft(an,Oe.horizontal)}},[Fe,Oe.horizontal,Oe.vertical,ke,Me]),or=reactExports.useCallback(Jr=>({vertical:getOffsetTop(Jr,Ze.vertical),horizontal:getOffsetLeft(Jr,Ze.horizontal)}),[Ze.horizontal,Ze.vertical]),Er=reactExports.useCallback(Jr=>{const An={width:Jr.offsetWidth,height:Jr.offsetHeight},an=or(An);if(Me==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(an)};const bn=fr();let gn=bn.top-an.vertical,mn=bn.left-an.horizontal;const Zr=gn+An.height,kn=mn+An.width,ri=ownerWindow(resolveAnchorEl(Fe)),zn=ri.innerHeight-We,ei=ri.innerWidth-We;if(We!==null&&gn<We){const Jn=gn-We;gn-=Jn,an.vertical+=Jn}else if(We!==null&&Zr>zn){const Jn=Zr-zn;gn-=Jn,an.vertical+=Jn}if(We!==null&&mn<We){const Jn=mn-We;mn-=Jn,an.horizontal+=Jn}else if(kn>ei){const Jn=kn-ei;mn-=Jn,an.horizontal+=Jn}return{top:`${Math.round(gn)}px`,left:`${Math.round(mn)}px`,transformOrigin:getTransformOriginValue(an)}},[Fe,Me,fr,or,We]),[Rr,jr]=reactExports.useState(qe),xr=reactExports.useCallback(()=>{const Jr=sr.current;if(!Jr)return;const An=Er(Jr);An.top!==null&&Jr.style.setProperty("top",An.top),An.left!==null&&(Jr.style.left=An.left),Jr.style.transformOrigin=An.transformOrigin,jr(!0)},[Er]);reactExports.useEffect(()=>(ar&&window.addEventListener("scroll",xr),()=>window.removeEventListener("scroll",xr)),[Fe,ar,xr]);const Pr=()=>{xr()},br=()=>{jr(!1)};reactExports.useEffect(()=>{qe&&xr()}),reactExports.useImperativeHandle(De,()=>qe?{updatePosition:()=>{xr()}}:null,[qe,xr]),reactExports.useEffect(()=>{if(!qe)return;const Jr=debounce(()=>{xr()}),An=ownerWindow(resolveAnchorEl(Fe));return An.addEventListener("resize",Jr),()=>{Jr.clear(),An.removeEventListener("resize",Jr)}},[Fe,qe,xr]);let wr=tr;const Br={slots:{transition:Je,...Xe},slotProps:{transition:rr,paper:Ke,...Ye}},[Lr,yr]=useSlot("transition",{elementType:Grow,externalForwardedProps:Br,ownerState:dr,getSlotProps:Jr=>({...Jr,onEntering:(An,an)=>{Jr.onEntering?.(An,an),Pr()},onExited:An=>{Jr.onExited?.(An),br()}}),additionalProps:{appear:!0,in:qe}});tr==="auto"&&!Lr.muiSupportAuto&&(wr=void 0);const vr=He||(Fe?ownerDocument(resolveAnchorEl(Fe)).body:void 0),[Tr,{slots:Or,slotProps:Nr,...Hr}]=useSlot("root",{ref:je,elementType:PopoverRoot,externalForwardedProps:{...Br,...nr},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:Xe.backdrop},slotProps:{backdrop:mergeSlotProps(typeof Ye.backdrop=="function"?Ye.backdrop(dr):Ye.backdrop,{invisible:!0})},container:vr,open:qe},ownerState:dr,className:clsx(_r.root,$e)}),[Wr,qr]=useSlot("paper",{ref:sr,className:_r.paper,elementType:PopoverPaper,externalForwardedProps:Br,shouldForwardComponentProp:!0,additionalProps:{elevation:Qe,style:Rr?void 0:{opacity:0}},ownerState:dr});return jsxRuntimeExports.jsx(Tr,{...Hr,...!isHostComponent(Tr)&&{slots:Or,slotProps:Nr,disableScrollLock:ar},children:jsxRuntimeExports.jsx(Lr,{...yr,timeout:wr,children:jsxRuntimeExports.jsx(Wr,{...qr,children:Ue})})})});function getMenuUtilityClass(Ce){return generateUtilityClass("MuiMenu",Ce)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$7=Ce=>{const{classes:Re}=Ce;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,Re)},MenuRoot=styled(Popover,{shouldForwardProp:Ce=>rootShouldForwardProp(Ce)||Ce==="classes",name:"MuiMenu",slot:"Root"})({}),MenuPaper=styled(PopoverPaper,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled(MenuList,{name:"MuiMenu",slot:"List"})({outline:0}),Menu=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({props:Re,name:"MuiMenu"}),{autoFocus:De=!0,children:Fe,className:Oe,disableAutoFocusItem:ke=!1,MenuListProps:Me={},onClose:Ue,open:$e,PaperProps:He={},PopoverClasses:Qe,transitionDuration:We="auto",TransitionProps:{onEntering:qe,...Ke}={},variant:Xe="selectedMenu",slots:Ye={},slotProps:Ze={},...Je}=Be,tr=useRtl(),rr={...Be,autoFocus:De,disableAutoFocusItem:ke,MenuListProps:Me,onEntering:qe,PaperProps:He,transitionDuration:We,TransitionProps:Ke,variant:Xe},ar=useUtilityClasses$7(rr),nr=De&&!ke&&$e,sr=reactExports.useRef(null),dr=(wr,Br)=>{sr.current&&sr.current.adjustStyleForScrollbar(wr,{direction:tr?"rtl":"ltr"}),qe&&qe(wr,Br)},_r=wr=>{wr.key==="Tab"&&(wr.preventDefault(),Ue&&Ue(wr,"tabKeyDown"))};let fr=-1;reactExports.Children.map(Fe,(wr,Br)=>{reactExports.isValidElement(wr)&&(wr.props.disabled||(Xe==="selectedMenu"&&wr.props.selected||fr===-1)&&(fr=Br))});const or={slots:Ye,slotProps:{list:Me,transition:Ke,paper:He,...Ze}},Er=useSlotProps({elementType:Ye.root,externalSlotProps:Ze.root,ownerState:rr,className:[ar.root,Oe]}),[Rr,jr]=useSlot("paper",{className:ar.paper,elementType:MenuPaper,externalForwardedProps:or,shouldForwardComponentProp:!0,ownerState:rr}),[xr,Pr]=useSlot("list",{className:clsx(ar.list,Me.className),elementType:MenuMenuList,shouldForwardComponentProp:!0,externalForwardedProps:or,getSlotProps:wr=>({...wr,onKeyDown:Br=>{_r(Br),wr.onKeyDown?.(Br)}}),ownerState:rr}),br=typeof or.slotProps.transition=="function"?or.slotProps.transition(rr):or.slotProps.transition;return jsxRuntimeExports.jsx(MenuRoot,{onClose:Ue,anchorOrigin:{vertical:"bottom",horizontal:tr?"right":"left"},transformOrigin:tr?RTL_ORIGIN:LTR_ORIGIN,slots:{root:Ye.root,paper:Rr,backdrop:Ye.backdrop,...Ye.transition&&{transition:Ye.transition}},slotProps:{root:Er,paper:jr,backdrop:typeof Ze.backdrop=="function"?Ze.backdrop(rr):Ze.backdrop,transition:{...br,onEntering:(...wr)=>{dr(...wr),br?.onEntering?.(...wr)}}},open:$e,ref:je,transitionDuration:We,ownerState:rr,...Je,classes:Qe,children:jsxRuntimeExports.jsx(xr,{actions:sr,autoFocus:De&&(fr===-1||ke),autoFocusItem:nr,variant:Xe,...Pr,children:Fe})})});function getNativeSelectUtilityClasses(Ce){return generateUtilityClass("MuiNativeSelect",Ce)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),useUtilityClasses$6=Ce=>{const{classes:Re,variant:je,disabled:Be,multiple:De,open:Fe,error:Oe}=Ce,ke={select:["select",je,Be&&"disabled",De&&"multiple",Oe&&"error"],icon:["icon",`icon${capitalize(je)}`,Fe&&"iconOpen",Be&&"disabled"]};return composeClasses(ke,getNativeSelectUtilityClasses,Re)},StyledSelectSelect=styled("select",{name:"MuiNativeSelect"})(({theme:Ce})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${nativeSelectClasses.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(Ce.vars||Ce).palette.background.paper},variants:[{props:({ownerState:Re})=>Re.variant!=="filled"&&Re.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(Ce.vars||Ce).shape.borderRadius,"&:focus":{borderRadius:(Ce.vars||Ce).shape.borderRadius},"&&&":{paddingRight:32}}}]})),NativeSelectSelect=styled(StyledSelectSelect,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp,overridesResolver:(Ce,Re)=>{const{ownerState:je}=Ce;return[Re.select,Re[je.variant],je.error&&Re.error,{[`&.${nativeSelectClasses.multiple}`]:Re.multiple}]}})({}),StyledSelectIcon=styled("svg",{name:"MuiNativeSelect"})(({theme:Ce})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(Ce.vars||Ce).palette.action.active,[`&.${nativeSelectClasses.disabled}`]:{color:(Ce.vars||Ce).palette.action.disabled},variants:[{props:({ownerState:Re})=>Re.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),NativeSelectIcon=styled(StyledSelectIcon,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(Ce,Re)=>{const{ownerState:je}=Ce;return[Re.icon,je.variant&&Re[`icon${capitalize(je.variant)}`],je.open&&Re.iconOpen]}})({}),NativeSelectInput=reactExports.forwardRef(function Ce(Re,je){const{className:Be,disabled:De,error:Fe,IconComponent:Oe,inputRef:ke,variant:Me="standard",...Ue}=Re,$e={...Re,disabled:De,variant:Me,error:Fe},He=useUtilityClasses$6($e);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(NativeSelectSelect,{ownerState:$e,className:clsx(He.select,Be),disabled:De,ref:ke||je,...Ue}),Re.multiple?null:jsxRuntimeExports.jsx(NativeSelectIcon,{as:Oe,ownerState:$e,className:He.icon})]})});function hasValue(Ce){return Ce!=null&&!(Array.isArray(Ce)&&Ce.length===0)}function isFilled(Ce,Re=!1){return Ce&&(hasValue(Ce.value)&&Ce.value!==""||Re&&hasValue(Ce.defaultValue)&&Ce.defaultValue!=="")}function getSelectUtilityClasses(Ce){return generateUtilityClass("MuiSelect",Ce)}const selectClasses=generateUtilityClasses("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var _span$1;const SelectSelect=styled(StyledSelectSelect,{name:"MuiSelect",slot:"Select",overridesResolver:(Ce,Re)=>{const{ownerState:je}=Ce;return[{[`&.${selectClasses.select}`]:Re.select},{[`&.${selectClasses.select}`]:Re[je.variant]},{[`&.${selectClasses.error}`]:Re.error},{[`&.${selectClasses.multiple}`]:Re.multiple}]}})({[`&.${selectClasses.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled(StyledSelectIcon,{name:"MuiSelect",slot:"Icon",overridesResolver:(Ce,Re)=>{const{ownerState:je}=Ce;return[Re.icon,je.variant&&Re[`icon${capitalize(je.variant)}`],je.open&&Re.iconOpen]}})({}),SelectNativeInput=styled("input",{shouldForwardProp:Ce=>slotShouldForwardProp(Ce)&&Ce!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(Ce,Re){return typeof Re=="object"&&Re!==null?Ce===Re:String(Ce)===String(Re)}function isEmpty$1(Ce){return Ce==null||typeof Ce=="string"&&!Ce.trim()}const useUtilityClasses$5=Ce=>{const{classes:Re,variant:je,disabled:Be,multiple:De,open:Fe,error:Oe}=Ce,ke={select:["select",je,Be&&"disabled",De&&"multiple",Oe&&"error"],icon:["icon",`icon${capitalize(je)}`,Fe&&"iconOpen",Be&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(ke,getSelectUtilityClasses,Re)},SelectInput=reactExports.forwardRef(function Ce(Re,je){const{"aria-describedby":Be,"aria-label":De,autoFocus:Fe,autoWidth:Oe,children:ke,className:Me,defaultOpen:Ue,defaultValue:$e,disabled:He,displayEmpty:Qe,error:We=!1,IconComponent:qe,inputRef:Ke,labelId:Xe,MenuProps:Ye={},multiple:Ze,name:Je,onBlur:tr,onChange:rr,onClose:ar,onFocus:nr,onOpen:sr,open:dr,readOnly:_r,renderValue:fr,required:or,SelectDisplayProps:Er={},tabIndex:Rr,type:jr,value:xr,variant:Pr="standard",...br}=Re,[wr,Br]=useControlled({controlled:xr,default:$e,name:"Select"}),[Lr,yr]=useControlled({controlled:dr,default:Ue,name:"Select"}),vr=reactExports.useRef(null),Tr=reactExports.useRef(null),[Or,Nr]=reactExports.useState(null),{current:Hr}=reactExports.useRef(dr!=null),[Wr,qr]=reactExports.useState(),Jr=useForkRef(je,Ke),An=reactExports.useCallback(ti=>{Tr.current=ti,ti&&Nr(ti)},[]),an=Or?.parentNode;reactExports.useImperativeHandle(Jr,()=>({focus:()=>{Tr.current.focus()},node:vr.current,value:wr}),[wr]),reactExports.useEffect(()=>{Ue&&Lr&&Or&&!Hr&&(qr(Oe?null:an.clientWidth),Tr.current.focus())},[Or,Oe]),reactExports.useEffect(()=>{Fe&&Tr.current.focus()},[Fe]),reactExports.useEffect(()=>{if(!Xe)return;const ti=ownerDocument(Tr.current).getElementById(Xe);if(ti){const Bi=()=>{getSelection().isCollapsed&&Tr.current.focus()};return ti.addEventListener("click",Bi),()=>{ti.removeEventListener("click",Bi)}}},[Xe]);const bn=(ti,Bi)=>{ti?sr&&sr(Bi):ar&&ar(Bi),Hr||(qr(Oe?null:an.clientWidth),yr(ti))},gn=ti=>{ti.button===0&&(ti.preventDefault(),Tr.current.focus(),bn(!0,ti))},mn=ti=>{bn(!1,ti)},Zr=reactExports.Children.toArray(ke),kn=ti=>{const Bi=Zr.find(jn=>jn.props.value===ti.target.value);Bi!==void 0&&(Br(Bi.props.value),rr&&rr(ti,Bi))},ri=ti=>Bi=>{let jn;if(Bi.currentTarget.hasAttribute("tabindex")){if(Ze){jn=Array.isArray(wr)?wr.slice():[];const vn=wr.indexOf(ti.props.value);vn===-1?jn.push(ti.props.value):jn.splice(vn,1)}else jn=ti.props.value;if(ti.props.onClick&&ti.props.onClick(Bi),wr!==jn&&(Br(jn),rr)){const vn=Bi.nativeEvent||Bi,Ni=new vn.constructor(vn.type,vn);Object.defineProperty(Ni,"target",{writable:!0,value:{value:jn,name:Je}}),rr(Ni,ti)}Ze||bn(!1,Bi)}},zn=ti=>{_r||[" ","ArrowUp","ArrowDown","Enter"].includes(ti.key)&&(ti.preventDefault(),bn(!0,ti))},ei=Or!==null&&Lr,Jn=ti=>{!ei&&tr&&(Object.defineProperty(ti,"target",{writable:!0,value:{value:wr,name:Je}}),tr(ti))};delete br["aria-invalid"];let Wn,_i;const wi=[];let Oi=!1;(isFilled({value:wr})||Qe)&&(fr?Wn=fr(wr):Oi=!0);const xi=Zr.map(ti=>{if(!reactExports.isValidElement(ti))return null;let Bi;if(Ze){if(!Array.isArray(wr))throw new Error(formatMuiErrorMessage(2));Bi=wr.some(jn=>areEqualValues(jn,ti.props.value)),Bi&&Oi&&wi.push(ti.props.children)}else Bi=areEqualValues(wr,ti.props.value),Bi&&Oi&&(_i=ti.props.children);return reactExports.cloneElement(ti,{"aria-selected":Bi?"true":"false",onClick:ri(ti),onKeyUp:jn=>{jn.key===" "&&jn.preventDefault(),ti.props.onKeyUp&&ti.props.onKeyUp(jn)},role:"option",selected:Bi,value:void 0,"data-value":ti.props.value})});Oi&&(Ze?wi.length===0?Wn=null:Wn=wi.reduce((ti,Bi,jn)=>(ti.push(Bi),jn<wi.length-1&&ti.push(", "),ti),[]):Wn=_i);let Pi=Wr;!Oe&&Hr&&Or&&(Pi=an.clientWidth);let Ii;typeof Rr<"u"?Ii=Rr:Ii=He?null:0;const Si=Er.id||(Je?`mui-component-select-${Je}`:void 0),En={...Re,variant:Pr,value:wr,open:ei,error:We},Cn=useUtilityClasses$5(En),oi={...Ye.PaperProps,...typeof Ye.slotProps?.paper=="function"?Ye.slotProps.paper(En):Ye.slotProps?.paper},ci={...Ye.MenuListProps,...typeof Ye.slotProps?.list=="function"?Ye.slotProps.list(En):Ye.slotProps?.list},Qi=useId();return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectSelect,{as:"div",ref:An,tabIndex:Ii,role:"combobox","aria-controls":ei?Qi:void 0,"aria-disabled":He?"true":void 0,"aria-expanded":ei?"true":"false","aria-haspopup":"listbox","aria-label":De,"aria-labelledby":[Xe,Si].filter(Boolean).join(" ")||void 0,"aria-describedby":Be,"aria-required":or?"true":void 0,"aria-invalid":We?"true":void 0,onKeyDown:zn,onMouseDown:He||_r?null:gn,onBlur:Jn,onFocus:nr,...Er,ownerState:En,className:clsx(Er.className,Cn.select,Me),id:Si,children:isEmpty$1(Wn)?_span$1||(_span$1=jsxRuntimeExports.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Wn}),jsxRuntimeExports.jsx(SelectNativeInput,{"aria-invalid":We,value:Array.isArray(wr)?wr.join(","):wr,name:Je,ref:vr,"aria-hidden":!0,onChange:kn,tabIndex:-1,disabled:He,className:Cn.nativeInput,autoFocus:Fe,required:or,...br,ownerState:En}),jsxRuntimeExports.jsx(SelectIcon,{as:qe,className:Cn.icon,ownerState:En}),jsxRuntimeExports.jsx(Menu,{id:`menu-${Je||""}`,anchorEl:an,open:ei,onClose:mn,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...Ye,slotProps:{...Ye.slotProps,list:{"aria-labelledby":Xe,role:"listbox","aria-multiselectable":Ze?"true":void 0,disableListWrap:!0,id:Qi,...ci},paper:{...oi,style:{minWidth:Pi,...oi!=null?oi.style:null}}},children:xi})]})});function formControlState({props:Ce,states:Re,muiFormControl:je}){return Re.reduce((Be,De)=>(Be[De]=Ce[De],je&&typeof Ce[De]>"u"&&(Be[De]=je[De]),Be),{})}const FormControlContext=reactExports.createContext(void 0);function useFormControl(){return reactExports.useContext(FormControlContext)}const ArrowDropDownIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z"}));function getStyleValue(Ce){return parseInt(Ce,10)||0}const styles={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isObjectEmpty(Ce){for(const Re in Ce)return!1;return!0}function isEmpty(Ce){return isObjectEmpty(Ce)||Ce.outerHeightStyle===0&&!Ce.overflowing}const TextareaAutosize=reactExports.forwardRef(function Ce(Re,je){const{onChange:Be,maxRows:De,minRows:Fe=1,style:Oe,value:ke,...Me}=Re,{current:Ue}=reactExports.useRef(ke!=null),$e=reactExports.useRef(null),He=useForkRef(je,$e),Qe=reactExports.useRef(null),We=reactExports.useRef(null),qe=reactExports.useCallback(()=>{const Je=$e.current,tr=We.current;if(!Je||!tr)return;const ar=ownerWindow(Je).getComputedStyle(Je);if(ar.width==="0px")return{outerHeightStyle:0,overflowing:!1};tr.style.width=ar.width,tr.value=Je.value||Re.placeholder||"x",tr.value.slice(-1)===`
`&&(tr.value+=" ");const nr=ar.boxSizing,sr=getStyleValue(ar.paddingBottom)+getStyleValue(ar.paddingTop),dr=getStyleValue(ar.borderBottomWidth)+getStyleValue(ar.borderTopWidth),_r=tr.scrollHeight;tr.value="x";const fr=tr.scrollHeight;let or=_r;Fe&&(or=Math.max(Number(Fe)*fr,or)),De&&(or=Math.min(Number(De)*fr,or)),or=Math.max(or,fr);const Er=or+(nr==="border-box"?sr+dr:0),Rr=Math.abs(or-_r)<=1;return{outerHeightStyle:Er,overflowing:Rr}},[De,Fe,Re.placeholder]),Ke=useEventCallback(()=>{const Je=$e.current,tr=qe();if(!Je||!tr||isEmpty(tr))return!1;const rr=tr.outerHeightStyle;return Qe.current!=null&&Qe.current!==rr}),Xe=reactExports.useCallback(()=>{const Je=$e.current,tr=qe();if(!Je||!tr||isEmpty(tr))return;const rr=tr.outerHeightStyle;Qe.current!==rr&&(Qe.current=rr,Je.style.height=`${rr}px`),Je.style.overflow=tr.overflowing?"hidden":""},[qe]),Ye=reactExports.useRef(-1);useEnhancedEffect(()=>{const Je=debounce(Xe),tr=$e?.current;if(!tr)return;const rr=ownerWindow(tr);rr.addEventListener("resize",Je);let ar;return typeof ResizeObserver<"u"&&(ar=new ResizeObserver(()=>{Ke()&&(ar.unobserve(tr),cancelAnimationFrame(Ye.current),Xe(),Ye.current=requestAnimationFrame(()=>{ar.observe(tr)}))}),ar.observe(tr)),()=>{Je.clear(),cancelAnimationFrame(Ye.current),rr.removeEventListener("resize",Je),ar&&ar.disconnect()}},[qe,Xe,Ke]),useEnhancedEffect(()=>{Xe()});const Ze=Je=>{Ue||Xe();const tr=Je.target,rr=tr.value.length,ar=tr.value.endsWith(`
`),nr=tr.selectionStart===rr;ar&&nr&&tr.setSelectionRange(rr,rr),Be&&Be(Je)};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",{value:ke,onChange:Ze,ref:He,rows:Fe,style:Oe,...Me}),jsxRuntimeExports.jsx("textarea",{"aria-hidden":!0,className:Re.className,readOnly:!0,ref:We,tabIndex:-1,style:{...styles.shadow,...Oe,paddingTop:0,paddingBottom:0}})]})});function getInputBaseUtilityClass(Ce){return generateUtilityClass("MuiInputBase",Ce)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var _InputGlobalStyles;const rootOverridesResolver=(Ce,Re)=>{const{ownerState:je}=Ce;return[Re.root,je.formControl&&Re.formControl,je.startAdornment&&Re.adornedStart,je.endAdornment&&Re.adornedEnd,je.error&&Re.error,je.size==="small"&&Re.sizeSmall,je.multiline&&Re.multiline,je.color&&Re[`color${capitalize(je.color)}`],je.fullWidth&&Re.fullWidth,je.hiddenLabel&&Re.hiddenLabel]},inputOverridesResolver=(Ce,Re)=>{const{ownerState:je}=Ce;return[Re.input,je.size==="small"&&Re.inputSizeSmall,je.multiline&&Re.inputMultiline,je.type==="search"&&Re.inputTypeSearch,je.startAdornment&&Re.inputAdornedStart,je.endAdornment&&Re.inputAdornedEnd,je.hiddenLabel&&Re.inputHiddenLabel]},useUtilityClasses$4=Ce=>{const{classes:Re,color:je,disabled:Be,error:De,endAdornment:Fe,focused:Oe,formControl:ke,fullWidth:Me,hiddenLabel:Ue,multiline:$e,readOnly:He,size:Qe,startAdornment:We,type:qe}=Ce,Ke={root:["root",`color${capitalize(je)}`,Be&&"disabled",De&&"error",Me&&"fullWidth",Oe&&"focused",ke&&"formControl",Qe&&Qe!=="medium"&&`size${capitalize(Qe)}`,$e&&"multiline",We&&"adornedStart",Fe&&"adornedEnd",Ue&&"hiddenLabel",He&&"readOnly"],input:["input",Be&&"disabled",qe==="search"&&"inputTypeSearch",$e&&"inputMultiline",Qe==="small"&&"inputSizeSmall",Ue&&"inputHiddenLabel",We&&"inputAdornedStart",Fe&&"inputAdornedEnd",He&&"readOnly"]};return composeClasses(Ke,getInputBaseUtilityClass,Re)},InputBaseRoot=styled("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(memoTheme(({theme:Ce})=>({...Ce.typography.body1,color:(Ce.vars||Ce).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses.disabled}`]:{color:(Ce.vars||Ce).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:Re})=>Re.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:Re,size:je})=>Re.multiline&&je==="small",style:{paddingTop:1}},{props:({ownerState:Re})=>Re.fullWidth,style:{width:"100%"}}]}))),InputBaseInput=styled("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:Ce})=>{const Re=Ce.palette.mode==="light",je={color:"currentColor",...Ce.vars?{opacity:Ce.vars.opacity.inputPlaceholder}:{opacity:Re?.42:.5},transition:Ce.transitions.create("opacity",{duration:Ce.transitions.duration.shorter})},Be={opacity:"0 !important"},De=Ce.vars?{opacity:Ce.vars.opacity.inputPlaceholder}:{opacity:Re?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":je,"&::-moz-placeholder":je,"&::-ms-input-placeholder":je,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses.formControl} &`]:{"&::-webkit-input-placeholder":Be,"&::-moz-placeholder":Be,"&::-ms-input-placeholder":Be,"&:focus::-webkit-input-placeholder":De,"&:focus::-moz-placeholder":De,"&:focus::-ms-input-placeholder":De},[`&.${inputBaseClasses.disabled}`]:{opacity:1,WebkitTextFillColor:(Ce.vars||Ce).palette.text.disabled},variants:[{props:({ownerState:Fe})=>!Fe.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:Fe})=>Fe.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),InputGlobalStyles=globalCss({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),InputBase=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({props:Re,name:"MuiInputBase"}),{"aria-describedby":De,autoComplete:Fe,autoFocus:Oe,className:ke,color:Me,components:Ue={},componentsProps:$e={},defaultValue:He,disabled:Qe,disableInjectingGlobalStyles:We,endAdornment:qe,error:Ke,fullWidth:Xe=!1,id:Ye,inputComponent:Ze="input",inputProps:Je={},inputRef:tr,margin:rr,maxRows:ar,minRows:nr,multiline:sr=!1,name:dr,onBlur:_r,onChange:fr,onClick:or,onFocus:Er,onKeyDown:Rr,onKeyUp:jr,placeholder:xr,readOnly:Pr,renderSuffix:br,rows:wr,size:Br,slotProps:Lr={},slots:yr={},startAdornment:vr,type:Tr="text",value:Or,...Nr}=Be,Hr=Je.value!=null?Je.value:Or,{current:Wr}=reactExports.useRef(Hr!=null),qr=reactExports.useRef(),Jr=reactExports.useCallback(Cn=>{},[]),An=useForkRef(qr,tr,Je.ref,Jr),[an,bn]=reactExports.useState(!1),gn=useFormControl(),mn=formControlState({props:Be,muiFormControl:gn,states:["color","disabled","error","hiddenLabel","size","required","filled"]});mn.focused=gn?gn.focused:an,reactExports.useEffect(()=>{!gn&&Qe&&an&&(bn(!1),_r&&_r())},[gn,Qe,an,_r]);const Zr=gn&&gn.onFilled,kn=gn&&gn.onEmpty,ri=reactExports.useCallback(Cn=>{isFilled(Cn)?Zr&&Zr():kn&&kn()},[Zr,kn]);useEnhancedEffect(()=>{Wr&&ri({value:Hr})},[Hr,ri,Wr]);const zn=Cn=>{Er&&Er(Cn),Je.onFocus&&Je.onFocus(Cn),gn&&gn.onFocus?gn.onFocus(Cn):bn(!0)},ei=Cn=>{_r&&_r(Cn),Je.onBlur&&Je.onBlur(Cn),gn&&gn.onBlur?gn.onBlur(Cn):bn(!1)},Jn=(Cn,...oi)=>{if(!Wr){const ci=Cn.target||qr.current;if(ci==null)throw new Error(formatMuiErrorMessage(1));ri({value:ci.value})}Je.onChange&&Je.onChange(Cn,...oi),fr&&fr(Cn,...oi)};reactExports.useEffect(()=>{ri(qr.current)},[]);const Wn=Cn=>{qr.current&&Cn.currentTarget===Cn.target&&qr.current.focus(),or&&or(Cn)};let _i=Ze,wi=Je;sr&&_i==="input"&&(wr?wi={type:void 0,minRows:wr,maxRows:wr,...wi}:wi={type:void 0,maxRows:ar,minRows:nr,...wi},_i=TextareaAutosize);const Oi=Cn=>{ri(Cn.animationName==="mui-auto-fill-cancel"?qr.current:{value:"x"})};reactExports.useEffect(()=>{gn&&gn.setAdornedStart(!!vr)},[gn,vr]);const xi={...Be,color:mn.color||"primary",disabled:mn.disabled,endAdornment:qe,error:mn.error,focused:mn.focused,formControl:gn,fullWidth:Xe,hiddenLabel:mn.hiddenLabel,multiline:sr,size:mn.size,startAdornment:vr,type:Tr},Pi=useUtilityClasses$4(xi),Ii=yr.root||Ue.Root||InputBaseRoot,Si=Lr.root||$e.root||{},En=yr.input||Ue.Input||InputBaseInput;return wi={...wi,...Lr.input??$e.input},jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[!We&&typeof InputGlobalStyles=="function"&&(_InputGlobalStyles||(_InputGlobalStyles=jsxRuntimeExports.jsx(InputGlobalStyles,{}))),jsxRuntimeExports.jsxs(Ii,{...Si,ref:je,onClick:Wn,...Nr,...!isHostComponent(Ii)&&{ownerState:{...xi,...Si.ownerState}},className:clsx(Pi.root,Si.className,ke,Pr&&"MuiInputBase-readOnly"),children:[vr,jsxRuntimeExports.jsx(FormControlContext.Provider,{value:null,children:jsxRuntimeExports.jsx(En,{"aria-invalid":mn.error,"aria-describedby":De,autoComplete:Fe,autoFocus:Oe,defaultValue:He,disabled:mn.disabled,id:Ye,onAnimationStart:Oi,name:dr,placeholder:xr,readOnly:Pr,required:mn.required,rows:wr,value:Hr,onKeyDown:Rr,onKeyUp:jr,type:Tr,...wi,...!isHostComponent(En)&&{as:_i,ownerState:{...xi,...wi.ownerState}},ref:An,className:clsx(Pi.input,wi.className,Pr&&"MuiInputBase-readOnly"),onBlur:ei,onChange:Jn,onFocus:zn})}),qe,br?br({...mn,startAdornment:vr}):null]})]})});function getInputUtilityClass(Ce){return generateUtilityClass("MuiInput",Ce)}const inputClasses={...inputBaseClasses,...generateUtilityClasses("MuiInput",["root","underline","input"])},useUtilityClasses$3=Ce=>{const{classes:Re,disableUnderline:je}=Ce,De=composeClasses({root:["root",!je&&"underline"],input:["input"]},getInputUtilityClass,Re);return{...Re,...De}},InputRoot=styled(InputBaseRoot,{shouldForwardProp:Ce=>rootShouldForwardProp(Ce)||Ce==="classes",name:"MuiInput",slot:"Root",overridesResolver:(Ce,Re)=>{const{ownerState:je}=Ce;return[...rootOverridesResolver(Ce,Re),!je.disableUnderline&&Re.underline]}})(memoTheme(({theme:Ce})=>{let je=Ce.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return Ce.vars&&(je=Ce.alpha(Ce.vars.palette.common.onBackground,Ce.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:Be})=>Be.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:Be})=>!Be.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:Ce.transitions.create("transform",{duration:Ce.transitions.duration.shorter,easing:Ce.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(Ce.vars||Ce).palette.error.main}},"&::before":{borderBottom:`1px solid ${je}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:Ce.transitions.create("border-bottom-color",{duration:Ce.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses.disabled}, .${inputClasses.error}):before`]:{borderBottom:`2px solid ${(Ce.vars||Ce).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${je}`}},[`&.${inputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(Ce.palette).filter(createSimplePaletteValueFilter()).map(([Be])=>({props:{color:Be,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(Ce.vars||Ce).palette[Be].main}`}}}))]}})),InputInput=styled(InputBaseInput,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({props:Re,name:"MuiInput"}),{disableUnderline:De=!1,components:Fe={},componentsProps:Oe,fullWidth:ke=!1,inputComponent:Me="input",multiline:Ue=!1,slotProps:$e,slots:He={},type:Qe="text",...We}=Be,qe=useUtilityClasses$3(Be),Xe={root:{ownerState:{disableUnderline:De}}},Ye=$e??Oe?deepmerge($e??Oe,Xe):Xe,Ze=He.root??Fe.Root??InputRoot,Je=He.input??Fe.Input??InputInput;return jsxRuntimeExports.jsx(InputBase,{slots:{root:Ze,input:Je},slotProps:Ye,fullWidth:ke,inputComponent:Me,multiline:Ue,ref:je,type:Qe,...We,classes:qe})});Input.muiName="Input";function getFilledInputUtilityClass(Ce){return generateUtilityClass("MuiFilledInput",Ce)}const filledInputClasses={...inputBaseClasses,...generateUtilityClasses("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},useUtilityClasses$2=Ce=>{const{classes:Re,disableUnderline:je,startAdornment:Be,endAdornment:De,size:Fe,hiddenLabel:Oe,multiline:ke}=Ce,Me={root:["root",!je&&"underline",Be&&"adornedStart",De&&"adornedEnd",Fe==="small"&&`size${capitalize(Fe)}`,Oe&&"hiddenLabel",ke&&"multiline"],input:["input"]},Ue=composeClasses(Me,getFilledInputUtilityClass,Re);return{...Re,...Ue}},FilledInputRoot=styled(InputBaseRoot,{shouldForwardProp:Ce=>rootShouldForwardProp(Ce)||Ce==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(Ce,Re)=>{const{ownerState:je}=Ce;return[...rootOverridesResolver(Ce,Re),!je.disableUnderline&&Re.underline]}})(memoTheme(({theme:Ce})=>{const Re=Ce.palette.mode==="light",je=Re?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",Be=Re?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",De=Re?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",Fe=Re?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:Ce.vars?Ce.vars.palette.FilledInput.bg:Be,borderTopLeftRadius:(Ce.vars||Ce).shape.borderRadius,borderTopRightRadius:(Ce.vars||Ce).shape.borderRadius,transition:Ce.transitions.create("background-color",{duration:Ce.transitions.duration.shorter,easing:Ce.transitions.easing.easeOut}),"&:hover":{backgroundColor:Ce.vars?Ce.vars.palette.FilledInput.hoverBg:De,"@media (hover: none)":{backgroundColor:Ce.vars?Ce.vars.palette.FilledInput.bg:Be}},[`&.${filledInputClasses.focused}`]:{backgroundColor:Ce.vars?Ce.vars.palette.FilledInput.bg:Be},[`&.${filledInputClasses.disabled}`]:{backgroundColor:Ce.vars?Ce.vars.palette.FilledInput.disabledBg:Fe},variants:[{props:({ownerState:Oe})=>!Oe.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:Ce.transitions.create("transform",{duration:Ce.transitions.duration.shorter,easing:Ce.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(Ce.vars||Ce).palette.error.main}},"&::before":{borderBottom:`1px solid ${Ce.vars?Ce.alpha(Ce.vars.palette.common.onBackground,Ce.vars.opacity.inputUnderline):je}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:Ce.transitions.create("border-bottom-color",{duration:Ce.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses.disabled}, .${filledInputClasses.error}):before`]:{borderBottom:`1px solid ${(Ce.vars||Ce).palette.text.primary}`},[`&.${filledInputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(Ce.palette).filter(createSimplePaletteValueFilter()).map(([Oe])=>({props:{disableUnderline:!1,color:Oe},style:{"&::after":{borderBottom:`2px solid ${(Ce.vars||Ce).palette[Oe]?.main}`}}})),{props:({ownerState:Oe})=>Oe.startAdornment,style:{paddingLeft:12}},{props:({ownerState:Oe})=>Oe.endAdornment,style:{paddingRight:12}},{props:({ownerState:Oe})=>Oe.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:Oe,size:ke})=>Oe.multiline&&ke==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:Oe})=>Oe.multiline&&Oe.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:Oe})=>Oe.multiline&&Oe.hiddenLabel&&Oe.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),FilledInputInput=styled(InputBaseInput,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:Ce})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!Ce.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:Ce.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:Ce.palette.mode==="light"?null:"#fff",caretColor:Ce.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...Ce.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[Ce.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:Re})=>Re.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:Re})=>Re.startAdornment,style:{paddingLeft:0}},{props:({ownerState:Re})=>Re.endAdornment,style:{paddingRight:0}},{props:({ownerState:Re})=>Re.hiddenLabel&&Re.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:Re})=>Re.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),FilledInput=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({props:Re,name:"MuiFilledInput"}),{disableUnderline:De=!1,components:Fe={},componentsProps:Oe,fullWidth:ke=!1,hiddenLabel:Me,inputComponent:Ue="input",multiline:$e=!1,slotProps:He,slots:Qe={},type:We="text",...qe}=Be,Ke={...Be,disableUnderline:De,fullWidth:ke,inputComponent:Ue,multiline:$e,type:We},Xe=useUtilityClasses$2(Be),Ye={root:{ownerState:Ke},input:{ownerState:Ke}},Ze=He??Oe?deepmerge(Ye,He??Oe):Ye,Je=Qe.root??Fe.Root??FilledInputRoot,tr=Qe.input??Fe.Input??FilledInputInput;return jsxRuntimeExports.jsx(InputBase,{slots:{root:Je,input:tr},slotProps:Ze,fullWidth:ke,inputComponent:Ue,multiline:$e,ref:je,type:We,...qe,classes:Xe})});FilledInput.muiName="Input";var _span;const NotchedOutlineRoot$1=styled("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:rootShouldForwardProp})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled("legend",{name:"MuiNotchedOutlined",shouldForwardProp:rootShouldForwardProp})(memoTheme(({theme:Ce})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:Re})=>!Re.withLabel,style:{padding:0,lineHeight:"11px",transition:Ce.transitions.create("width",{duration:150,easing:Ce.transitions.easing.easeOut})}},{props:({ownerState:Re})=>Re.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:Ce.transitions.create("max-width",{duration:50,easing:Ce.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:Re})=>Re.withLabel&&Re.notched,style:{maxWidth:"100%",transition:Ce.transitions.create("max-width",{duration:100,easing:Ce.transitions.easing.easeOut,delay:50})}}]})));function NotchedOutline(Ce){const{children:Re,classes:je,className:Be,label:De,notched:Fe,...Oe}=Ce,ke=De!=null&&De!=="",Me={...Ce,notched:Fe,withLabel:ke};return jsxRuntimeExports.jsx(NotchedOutlineRoot$1,{"aria-hidden":!0,className:Be,ownerState:Me,...Oe,children:jsxRuntimeExports.jsx(NotchedOutlineLegend,{ownerState:Me,children:ke?jsxRuntimeExports.jsx("span",{children:De}):_span||(_span=jsxRuntimeExports.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}function getOutlinedInputUtilityClass(Ce){return generateUtilityClass("MuiOutlinedInput",Ce)}const outlinedInputClasses={...inputBaseClasses,...generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"])},useUtilityClasses$1=Ce=>{const{classes:Re}=Ce,Be=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,Re);return{...Re,...Be}},OutlinedInputRoot=styled(InputBaseRoot,{shouldForwardProp:Ce=>rootShouldForwardProp(Ce)||Ce==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(memoTheme(({theme:Ce})=>{const Re=Ce.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(Ce.vars||Ce).shape.borderRadius,[`&:hover .${outlinedInputClasses.notchedOutline}`]:{borderColor:(Ce.vars||Ce).palette.text.primary},"@media (hover: none)":{[`&:hover .${outlinedInputClasses.notchedOutline}`]:{borderColor:Ce.vars?Ce.alpha(Ce.vars.palette.common.onBackground,.23):Re}},[`&.${outlinedInputClasses.focused} .${outlinedInputClasses.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(Ce.palette).filter(createSimplePaletteValueFilter()).map(([je])=>({props:{color:je},style:{[`&.${outlinedInputClasses.focused} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(Ce.vars||Ce).palette[je].main}}})),{props:{},style:{[`&.${outlinedInputClasses.error} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(Ce.vars||Ce).palette.error.main},[`&.${outlinedInputClasses.disabled} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(Ce.vars||Ce).palette.action.disabled}}},{props:({ownerState:je})=>je.startAdornment,style:{paddingLeft:14}},{props:({ownerState:je})=>je.endAdornment,style:{paddingRight:14}},{props:({ownerState:je})=>je.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:je,size:Be})=>je.multiline&&Be==="small",style:{padding:"8.5px 14px"}}]}})),NotchedOutlineRoot=styled(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(memoTheme(({theme:Ce})=>{const Re=Ce.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:Ce.vars?Ce.alpha(Ce.vars.palette.common.onBackground,.23):Re}})),OutlinedInputInput=styled(InputBaseInput,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:Ce})=>({padding:"16.5px 14px",...!Ce.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:Ce.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:Ce.palette.mode==="light"?null:"#fff",caretColor:Ce.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...Ce.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[Ce.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:Re})=>Re.multiline,style:{padding:0}},{props:({ownerState:Re})=>Re.startAdornment,style:{paddingLeft:0}},{props:({ownerState:Re})=>Re.endAdornment,style:{paddingRight:0}}]}))),OutlinedInput=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({props:Re,name:"MuiOutlinedInput"}),{components:De={},fullWidth:Fe=!1,inputComponent:Oe="input",label:ke,multiline:Me=!1,notched:Ue,slots:$e={},slotProps:He={},type:Qe="text",...We}=Be,qe=useUtilityClasses$1(Be),Ke=useFormControl(),Xe=formControlState({props:Be,muiFormControl:Ke,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),Ye={...Be,color:Xe.color||"primary",disabled:Xe.disabled,error:Xe.error,focused:Xe.focused,formControl:Ke,fullWidth:Fe,hiddenLabel:Xe.hiddenLabel,multiline:Me,size:Xe.size,type:Qe},Ze=$e.root??De.Root??OutlinedInputRoot,Je=$e.input??De.Input??OutlinedInputInput,[tr,rr]=useSlot("notchedOutline",{elementType:NotchedOutlineRoot,className:qe.notchedOutline,shouldForwardComponentProp:!0,ownerState:Ye,externalForwardedProps:{slots:$e,slotProps:He},additionalProps:{label:ke!=null&&ke!==""&&Xe.required?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[ke,"","*"]}):ke}});return jsxRuntimeExports.jsx(InputBase,{slots:{root:Ze,input:Je},slotProps:He,renderSuffix:ar=>jsxRuntimeExports.jsx(tr,{...rr,notched:typeof Ue<"u"?Ue:!!(ar.startAdornment||ar.filled||ar.focused)}),fullWidth:Fe,inputComponent:Oe,multiline:Me,ref:je,type:Qe,...We,classes:{...qe,notchedOutline:null}})});OutlinedInput.muiName="Input";const useUtilityClasses=Ce=>{const{classes:Re}=Ce,Be=composeClasses({root:["root"]},getSelectUtilityClasses,Re);return{...Re,...Be}},styledRootConfig={name:"MuiSelect",slot:"Root",shouldForwardProp:Ce=>rootShouldForwardProp(Ce)&&Ce!=="variant"},StyledInput=styled(Input,styledRootConfig)(""),StyledOutlinedInput=styled(OutlinedInput,styledRootConfig)(""),StyledFilledInput=styled(FilledInput,styledRootConfig)(""),Select=reactExports.forwardRef(function Ce(Re,je){const Be=useDefaultProps({name:"MuiSelect",props:Re}),{autoWidth:De=!1,children:Fe,classes:Oe={},className:ke,defaultOpen:Me=!1,displayEmpty:Ue=!1,IconComponent:$e=ArrowDropDownIcon,id:He,input:Qe,inputProps:We,label:qe,labelId:Ke,MenuProps:Xe,multiple:Ye=!1,native:Ze=!1,onClose:Je,onOpen:tr,open:rr,renderValue:ar,SelectDisplayProps:nr,variant:sr="outlined",...dr}=Be,_r=Ze?NativeSelectInput:SelectInput,fr=useFormControl(),or=formControlState({props:Be,muiFormControl:fr,states:["variant","error"]}),Er=or.variant||sr,Rr={...Be,variant:Er,classes:Oe},jr=useUtilityClasses(Rr),{root:xr,...Pr}=jr,br=Qe||{standard:jsxRuntimeExports.jsx(StyledInput,{ownerState:Rr}),outlined:jsxRuntimeExports.jsx(StyledOutlinedInput,{label:qe,ownerState:Rr}),filled:jsxRuntimeExports.jsx(StyledFilledInput,{ownerState:Rr})}[Er],wr=useForkRef(je,getReactElementRef(br));return jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(br,{inputComponent:_r,inputProps:{children:Fe,error:or.error,IconComponent:$e,variant:Er,type:void 0,multiple:Ye,...Ze?{id:He}:{autoWidth:De,defaultOpen:Me,displayEmpty:Ue,labelId:Ke,MenuProps:Xe,onClose:Je,onOpen:tr,open:rr,renderValue:ar,SelectDisplayProps:{id:He,...nr}},...We,classes:We?deepmerge(Pr,We.classes):Pr,...Qe?Qe.props.inputProps:{}},...(Ye&&Ze||Ue)&&Er==="outlined"?{notched:!0}:{},ref:wr,className:clsx(br.props.className,ke,jr.root),...!Qe&&{variant:Er},...dr})})});Select.muiName="Select";const OrderRequests=()=>{const[Ce,Re]=reactExports.useState([]),[je,Be]=reactExports.useState(!0),[De,Fe]=reactExports.useState("none"),[Oe,ke]=reactExports.useState([]),[Me,Ue]=reactExports.useState(""),[$e,He]=reactExports.useState("All"),[Qe,We]=reactExports.useState([]),[qe,Ke]=reactExports.useState("all"),[Xe,Ye]=reactExports.useState(!1),[Ze,Je]=reactExports.useState(""),[tr,rr]=reactExports.useState(null),ar=Nr=>{if(Nr==null)return 0;if(typeof Nr=="number")return isNaN(Nr)?0:Nr;if(typeof Nr=="string"){const Hr=Nr.replace(/[^\d.-]/g,""),Wr=Number(Hr);return isNaN(Wr)?0:Wr}return 0},nr=Nr=>ar(Nr.quantity??Nr.qty),sr=Nr=>ar(Nr.price??Nr.unitPrice??Nr.sellingPrice??Nr.rate??Nr.unit_price),dr=Nr=>nr(Nr)*sr(Nr),_r=(Nr=[])=>Nr.reduce((Hr,Wr)=>Hr+dr(Wr),0),fr=Nr=>{try{return new Date(Nr).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return"N/A"}},or=Nr=>{try{return new Date(Nr).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"N/A"}},Er=Nr=>{rr(Nr),Je(""),Ye(!0)},Rr=()=>{Ye(!1),Je(""),rr(null)},jr=async()=>{const Nr=Ze.trim();Nr&&(await yr(tr,"Rejected",Nr),Rr())},xr=Nr=>{ke(Hr=>Hr.includes(Nr)?Hr.filter(Wr=>Wr!==Nr):[...Hr,Nr])},Pr=()=>{const Nr=(Me||"").toLowerCase();return(Ce||[]).filter(Hr=>{const Wr=(Hr.id||"").toLowerCase().includes(Nr)||(Hr.retailerName||"").toLowerCase().includes(Nr)||(Hr.retailerEmail||"").toLowerCase().includes(Nr)||(Hr.retailerPhone||"").toLowerCase().includes(Nr)||(Hr.retailerCity||"").toLowerCase().includes(Nr)||(Hr.retailerAddress||"").toLowerCase().includes(Nr),qr=$e==="All"||Hr.status===$e,Jr=qe==="all"||Hr.retailerId===qe;return Wr&&qr&&Jr})},br=()=>{const Nr=Pr();if(!Nr.length){alert("No orders to export.");return}const Hr=[["Order ID","Retailer","Email","Phone","City","Status","Payment","Requested On","Total"]];Nr.forEach(An=>{Hr.push([An.id||"",An.retailerName||"N/A",An.retailerEmail||"N/A",An.retailerPhone||"N/A",An.retailerCity||"N/A",An.status||"N/A",An.paymentMode||"N/A",An.timestamp?.seconds?fr(An.timestamp.seconds*1e3):"",An.items?_r(An.items).toFixed(2):"0.00"])});const Wr=Hr.map(An=>An.map(an=>`"${String(an).replace(/"/g,'""')}"`).join(",")).join(`
`),qr=new Blob([Wr],{type:"text/csv"}),Jr=document.createElement("a");Jr.href=URL.createObjectURL(qr),Jr.download=`order_requests_${Date.now()}.csv`,Jr.click()},wr=()=>{const Nr=Pr();if(!Nr.length){alert("No orders to export.");return}const Hr=Nr.map(Jr=>({"Order ID":Jr.id||"",Retailer:Jr.retailerName||"N/A",Email:Jr.retailerEmail||"N/A",Phone:Jr.retailerPhone||"N/A",City:Jr.retailerCity||"N/A",Status:Jr.status||"N/A",Payment:Jr.paymentMode||"N/A","Requested On":Jr.timestamp?.seconds?fr(Jr.timestamp.seconds*1e3):"",Total:Jr.items?_r(Jr.items).toFixed(2):"0.00"})),Wr=utils.book_new(),qr=utils.json_to_sheet(Hr);utils.book_append_sheet(Wr,qr,"Orders"),writeFileSync(Wr,`order_requests_${Date.now()}.xlsx`)},Br=getFirestore(),Lr=getAuth();reactExports.useEffect(()=>{const Nr=Lr.currentUser;if(!Nr)return;const Hr=async An=>{const an=doc(Br,"businesses",An.retailerId);let bn={};try{const mn=await getDoc(an);if(mn.exists()){const Zr=mn.data();bn={retailerName:Zr.businessName||Zr.ownerName||"N/A",retailerEmail:Zr.email||"N/A",retailerPhone:Zr.phone||"N/A",retailerCity:Zr.city||"N/A",retailerState:Zr.state||"N/A",retailerAddress:Zr.address||"N/A"}}}catch(mn){console.warn("Retailer fetch failed:",mn)}const gn=await Promise.all((An.items||[]).map(async mn=>{if(!mn.distributorProductId)return{...mn};try{const Zr=await getDoc(doc(Br,"businesses",Lr.currentUser.uid,"products",mn.distributorProductId));if(Zr.exists()){const kn=Zr.data().quantity;return{...mn,availableStock:kn}}}catch(Zr){console.warn("Stock lookup failed:",Zr)}return{...mn}}));return{...An,...bn,items:gn}},Wr=collection(Br,"businesses",Nr.uid,"orderRequests"),qr=onSnapshot(Wr,An=>{const an=An.docs.map(bn=>Hr({id:bn.id,...bn.data()}));Promise.all(an).then(bn=>{bn.sort((gn,mn)=>mn.timestamp?.seconds-gn.timestamp?.seconds),Re(bn),Be(!1)})});return(async()=>{const an=(await getDocs(collection(Br,"businesses",Nr.uid,"connectedRetailers"))).docs.map(bn=>bn.data());We(an)})(),()=>{qr()}},[]),Qe.map(Nr=>({value:Nr.retailerId,label:`${Nr.retailerName||Nr.businessName||Nr.ownerName||"Unnamed"}  ${Nr.city||Nr.address?.city||""}  ${Nr.retailerEmail||Nr.email||"N/A"} (ID: ${(Nr.retailerId||"").substring(0,6)}...)`}));const yr=async(Nr,Hr,Wr)=>{try{const Jr=(await getDoc(doc(Br,"businesses",Lr.currentUser.uid,"orderRequests",Nr))).data(),An=doc(Br,"businesses",Jr.distributorId||Lr.currentUser.uid,"orderRequests",Nr),an=doc(Br,"businesses",Jr.retailerId,"sentOrders",Nr),bn=await getDoc(an);if(Hr==="Accepted"){const mn=[];for(let kn of Jr.items||[]){let ri={...kn};if(kn.distributorProductId){const zn=doc(Br,"businesses",Lr.currentUser.uid,"products",kn.distributorProductId),ei=await getDoc(zn);if(ei.exists()){const Jn=ei.data(),Wn=Jn.quantity||0,_i=Math.max(Wn-Number(kn.quantity||0),0);await updateDoc(zn,{quantity:_i}),ri={...ri,price:Jn.sellingPrice||Jn.price||0,subtotal:(Jn.sellingPrice||Jn.price||0)*Number(kn.quantity||0),sku:Jn.sku||"",category:Jn.category||"",brand:Jn.brand||""}}}mn.push(ri)}const Zr={status:Hr,items:mn,distributorId:Lr.currentUser.uid,retailerId:Jr.retailerId,timestamp:Jr.timestamp,notes:Jr.notes||"",paymentMode:Jr.paymentMode||"N/A",creditDays:Jr.creditDays||null,splitPayment:Jr.splitPayment||null};await updateDoc(An,{status:Hr,items:mn,statusTimestamps:{acceptedAt:serverTimestamp()}}),bn.exists()?await updateDoc(an,{...Zr,status:Hr,statusTimestamps:{acceptedAt:serverTimestamp()}}):await setDoc(an,{...Zr,statusTimestamps:{requestedAt:Jr.timestamp}});return}const gn={status:Hr,items:Jr.items,distributorId:Lr.currentUser.uid,retailerId:Jr.retailerId,timestamp:Jr.timestamp,notes:Jr.notes||"",paymentMode:Jr.paymentMode||"N/A",creditDays:Jr.creditDays||null,splitPayment:Jr.splitPayment||null};if(Hr==="Rejected"){const mn=(Wr||"").trim();if(!mn)return;await updateDoc(An,{status:Hr,rejectionNote:mn,statusTimestamps:{rejectedAt:serverTimestamp()}}),bn.exists()?await updateDoc(an,{status:Hr,rejectionNote:mn,statusTimestamps:{rejectedAt:serverTimestamp()}}):await setDoc(an,{...gn,rejectionNote:mn,statusTimestamps:{requestedAt:Jr.timestamp}});return}}catch(qr){console.error("Failed to update status:",qr)}},vr=Nr=>{const Hr=[["Retailer","Email","Date","Payment","Status"],[Nr.retailerName,Nr.retailerEmail,Nr.timestamp?.seconds?or(Nr.timestamp.seconds*1e3):"",Nr.paymentMode,Nr.status]].map(Jr=>Jr.join(",")).join(`
`),Wr=new Blob([Hr],{type:"text/csv"}),qr=document.createElement("a");qr.href=URL.createObjectURL(Wr),qr.download=`order_${Nr.id}.csv`,qr.click()},Tr=Nr=>{const Hr=utils.book_new(),Wr=utils.json_to_sheet([{Retailer:Nr.retailerName,Email:Nr.retailerEmail,Date:Nr.timestamp?.seconds?or(Nr.timestamp.seconds*1e3):"",Payment:Nr.paymentMode,Status:Nr.status}]);utils.book_append_sheet(Hr,Wr,"Order"),writeFileSync(Hr,`order_${Nr.id}.xlsx`)},Or=Nr=>{const Hr=document.getElementById(`order-card-${Nr.id}`);html2pdf().from(Hr).save(`order_${Nr.id}.pdf`)};return je?jsxRuntimeExports.jsx("div",{className:"p-4",children:"Loading order requests..."}):Ce.length===0?jsxRuntimeExports.jsx("div",{className:"p-4 text-gray-500",children:"No order requests yet."}):jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:br,className:"px-3 py-1 border border-gray-200 rounded-md text-sm bg-white hover:bg-gray-50 transition shadow-sm",children:"Export CSV (visible)"}),jsxRuntimeExports.jsx("button",{onClick:wr,className:"px-3 py-1 border border-gray-200 rounded-md text-sm bg-white hover:bg-gray-50 transition shadow-sm",children:"Export Excel (visible)"})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4 mb-4 flex flex-col md:flex-row md:items-center md:gap-4 gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by Order ID, Retailer Name, Email, Phone, City, or Address",value:Me,onChange:Nr=>Ue(Nr.target.value.toLowerCase()),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-200"})}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:["All","Requested","Accepted","Rejected"].map(Nr=>{let Wr=$e===Nr?`${Nr==="Requested"?"bg-blue-100 text-blue-700":Nr==="Accepted"?"bg-green-100 text-green-700":Nr==="Rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"} font-semibold shadow`:"bg-white text-gray-500 border hover:bg-gray-50";return jsxRuntimeExports.jsx("button",{type:"button",className:`px-4 py-1 rounded-full text-xs border border-gray-200 transition ${Wr}`,onClick:()=>He(Nr),children:Nr},Nr)})}),jsxRuntimeExports.jsx("div",{className:"min-w-[200px]",children:jsxRuntimeExports.jsxs(Select,{value:qe||"all",onChange:Nr=>Ke(Nr.target.value),displayEmpty:!0,size:"small",sx:{backgroundColor:"white",borderRadius:"0.375rem",fontSize:14,boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.03)",".MuiOutlinedInput-notchedOutline":{borderColor:"#d1d5db"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#2563eb"},minWidth:"180px",height:"36px"},inputProps:{className:"px-3 py-2 text-sm"},children:[jsxRuntimeExports.jsx(MenuItem,{value:"all",children:jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"All Retailers"})}),Qe.filter(Nr=>Nr.status==="accepted").map(Nr=>{const Hr=Nr.businessName||Nr.retailerName||Nr.ownerName||"N/A",Wr=Nr.ownerName||Nr.retailerName||"N/A",qr=Nr.address||"N/A",Jr=Nr.city||"N/A",An=Nr.state||"N/A";return jsxRuntimeExports.jsx(MenuItem,{value:Nr.retailerId,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-900",children:Hr}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:["Owner: ",Wr]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:[qr!=="N/A"?qr:"",qr!=="N/A"&&(Jr!=="N/A"||An!=="N/A")?", ":"",Jr!=="N/A"||An!=="N/A"?[Jr!=="N/A"?Jr:"",An!=="N/A"?An:""].filter(Boolean).join(", "):""]})]})},Nr.retailerId)})]})})]}),jsxRuntimeExports.jsx("div",{id:"order-requests-content",children:Pr().map((Nr,Hr)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:Hr*.03,duration:.28,type:"spring",damping:20},className:"bg-white shadow-md rounded-lg overflow-hidden mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-5 py-3 cursor-pointer select-none",onClick:()=>xr(Nr.id),children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-lg text-gray-900",children:Nr.retailerName||"N/A"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Nr.retailerCity||"N/A",Nr.retailerState?`, ${Nr.retailerState}`:"",Nr.retailerAddress?`  ${Nr.retailerAddress}`:""]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-1 text-xs text-gray-400",children:[jsxRuntimeExports.jsx("span",{children:Nr.timestamp?.seconds?`Requested on: ${fr(Nr.timestamp.seconds*1e3)}`:"Requested on: N/A"}),jsxRuntimeExports.jsxs("span",{children:["Items: ",Nr.items?.length||0]}),jsxRuntimeExports.jsxs("span",{children:["Total: ",jsxRuntimeExports.jsxs("span",{className:"font-semibold text-gray-600",children:["",_r(Nr.items).toFixed(2)]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end gap-2",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium
                  ${Nr.status==="Requested"?"bg-blue-100 text-blue-800":Nr.status==="Accepted"?"bg-green-100 text-green-800":Nr.status==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-700"}
                  `,children:Nr.status}),jsxRuntimeExports.jsx("button",{className:"text-xs text-blue-600 underline focus:outline-none",children:Oe.includes(Nr.id)?"Hide Details":"Show Details"})]})]}),Oe.includes(Nr.id)&&jsxRuntimeExports.jsxs("div",{id:`order-card-${Nr.id}`,className:"bg-gray-50 px-5 pb-5 pt-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"absolute top-0 right-0 text-sm font-bold",children:[Nr.status==="Accepted"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full font-bold",children:" Accepted"}),Nr.status==="Rejected"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full font-bold",children:" Rejected"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Order ID:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-900",children:Nr.id})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Retailer Email:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-900",children:Nr.retailerEmail||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Phone:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-900",children:Nr.retailerPhone||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Address:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-900",children:Nr.retailerAddress||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"City:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-900",children:Nr.retailerCity||"N/A"}),jsxRuntimeExports.jsx("span",{className:"ml-4 font-medium text-gray-700",children:"State:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-900",children:Nr.retailerState||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Requested On:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-900",children:Nr.timestamp?.seconds?fr(Nr.timestamp.seconds*1e3):"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Order Note:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-900",children:Nr.notes||""})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),jsxRuntimeExports.jsx("span",{className:`ml-2 px-2 py-1 rounded-full font-semibold text-xs
                        ${Nr.status==="Requested"?"bg-blue-100 text-blue-800":Nr.status==="Accepted"?"bg-green-100 text-green-800":Nr.status==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-700"}`,children:Nr.status})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Payment Mode:"}),Nr.paymentMode==="Credit Cycle"?jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-orange-100 text-orange-800 font-medium text-xs",children:"Credit Cycle"}):Nr.paymentMode==="Split Payment"?jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-purple-100 text-purple-800 font-medium text-xs",children:"Split Payment"}):jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-600 font-medium text-xs",children:Nr.paymentMode||"N/A"})]}),Nr.paymentMode==="Credit Cycle"&&Nr.timestamp?.seconds&&Nr.creditDays&&jsxRuntimeExports.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Due Date:"}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-orange-100 text-orange-800 font-medium text-xs",children:or(Nr.timestamp.seconds*1e3+Nr.creditDays*864e5)})]}),Nr.paymentMode==="Split Payment"&&Nr.splitPayment&&jsxRuntimeExports.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Split Payment:"}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-purple-100 text-purple-800 font-medium text-xs",children:["Advance ",Nr.splitPayment.advance,"% / Balance ",Nr.splitPayment.balance,"%"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-1",children:"Items:"}),jsxRuntimeExports.jsxs("div",{className:"mt-2 border border-gray-200 rounded-md overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-6 font-semibold bg-gray-100 border-b border-gray-200 px-3 py-2 text-xs",children:[jsxRuntimeExports.jsx("div",{children:"Name"}),jsxRuntimeExports.jsx("div",{children:"Brand"}),jsxRuntimeExports.jsx("div",{children:"Category"}),jsxRuntimeExports.jsx("div",{children:"Qty"}),jsxRuntimeExports.jsx("div",{children:"Unit"}),jsxRuntimeExports.jsx("div",{children:"Stock"})]}),Nr.items.map((Wr,qr)=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-6 border-t border-gray-100 px-3 py-2 text-sm hover:bg-gray-50 transition",children:[jsxRuntimeExports.jsx("div",{children:Wr.productName}),jsxRuntimeExports.jsx("div",{children:Wr.brand||""}),jsxRuntimeExports.jsx("div",{children:Wr.category||""}),jsxRuntimeExports.jsx("div",{children:Wr.quantity}),jsxRuntimeExports.jsx("div",{children:Wr.unit}),jsxRuntimeExports.jsx("div",{className:`font-medium ${Wr.availableStock===void 0?"text-gray-400":Wr.availableStock>=Wr.quantity?"text-green-600":Wr.availableStock>0?"text-yellow-500":"text-red-600"}`,children:Wr.availableStock===void 0?"N/A":Wr.availableStock>=Wr.quantity?`${Wr.availableStock} In Stock`:Wr.availableStock>0?`${Wr.availableStock} Low`:"Out of Stock"})]},qr))]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 flex justify-end",children:jsxRuntimeExports.jsxs("div",{className:"text-sm font-semibold",children:["Total: ",_r(Nr.items).toFixed(2)]})}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>vr(Nr),className:"px-3 py-1 border border-gray-200 text-xs rounded-md bg-white hover:bg-gray-100 transition",children:"CSV"}),jsxRuntimeExports.jsx("button",{onClick:()=>Tr(Nr),className:"px-3 py-1 border border-gray-200 text-xs rounded-md bg-white hover:bg-gray-100 transition",children:"Excel"}),jsxRuntimeExports.jsx("button",{onClick:()=>Or(Nr),className:"px-3 py-1 border border-gray-200 text-xs rounded-md bg-white hover:bg-gray-100 transition",children:"PDF"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-2",children:[jsxRuntimeExports.jsx("button",{disabled:Nr.status!=="Requested",onClick:()=>yr(Nr.id,"Accepted"),className:`rounded-full px-4 py-1 font-medium text-sm transition ${Nr.status!=="Requested"?"bg-green-200 text-white cursor-not-allowed":"bg-green-500 hover:bg-green-600 text-white shadow"}`,children:"Accept"}),jsxRuntimeExports.jsx("button",{disabled:Nr.status!=="Requested",onClick:()=>Er(Nr.id),className:`rounded-full px-4 py-1 font-medium text-sm transition ${Nr.status!=="Requested"?"bg-red-200 text-white cursor-not-allowed":"bg-red-500 hover:bg-red-600 text-white shadow"}`,children:"Reject"})]}),Nr.rejectionNote&&jsxRuntimeExports.jsxs("p",{className:"text-sm mt-2 text-red-600",children:[jsxRuntimeExports.jsx("strong",{children:"Reason:"})," ",Nr.rejectionNote]})]})]},Nr.id))}),Xe&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:Rr}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white w-full max-w-lg mx-4 rounded-lg shadow-xl border",children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Reject Order"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Please provide a reason for rejection. This will be visible to the retailer."})]}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-4",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 text-xs text-gray-600",children:"Quick reasons:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Out of stock","Incorrect pricing","Address mismatch","Credit overdue","Not serviceable","Duplicate request"].map(Nr=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Je(Nr),className:"px-2.5 py-1 rounded-full border text-xs hover:bg-gray-50",children:Nr},Nr))}),jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Reason"}),jsxRuntimeExports.jsx("textarea",{value:Ze,onChange:Nr=>Je(Nr.target.value),rows:4,className:"w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Write the rejection reason..."})]}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-3 border-t flex justify-end gap-2 bg-gray-50 rounded-b-lg",children:[jsxRuntimeExports.jsx("button",{onClick:Rr,className:"px-4 py-2 text-sm rounded border",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:jr,disabled:!Ze.trim(),className:`px-4 py-2 text-sm rounded text-white ${Ze.trim()?"bg-red-600 hover:bg-red-700":"bg-red-300 cursor-not-allowed"}`,children:"Confirm Reject"})]})]})]})]})},PendingOrders=()=>{const[Ce,Re]=reactExports.useState([]),je=getFirestore(),Be=getAuth(),De=async(Xe,Ye)=>{const Ze=Be.currentUser;if(!Ze)return;const Je=doc(je,"businesses",Ze.uid,"orderRequests",Xe);await updateDoc(Je,{expectedDeliveryDate:Ye})},Fe=async(Xe,Ye)=>{const Ze=Be.currentUser;if(!Ze)return;const Je=doc(je,"businesses",Ze.uid,"orderRequests",Xe);await updateDoc(Je,{deliveryMode:Ye})},Oe=async(Xe,Ye)=>{const Ze=Be.currentUser;if(!Ze)return;const Je=doc(je,"businesses",Ze.uid,"orderRequests",Xe);await updateDoc(Je,{paymentMode:Ye})},ke=async Xe=>{const Ye=Be.currentUser;if(!Ye)return;const Ze=Ce.find(nr=>nr.id===Xe);if(!Ze||(Re(nr=>nr.map(sr=>sr.id!==Xe?sr:{...sr,deliveryDateError:!sr.expectedDeliveryDate,deliveryModeError:!sr.deliveryMode})),!Ze.expectedDeliveryDate||!Ze.deliveryMode))return;const Je=doc(je,"businesses",Ye.uid,"orderRequests",Xe),tr=doc(je,"businesses",Ze.retailerId,"sentOrders",Xe),rr={status:"Shipped",retailerName:Ze.retailerName||Ze.retailer?.name||"N/A",retailerEmail:Ze.retailerEmail||Ze.retailer?.email||"N/A",retailerPhone:Ze.retailerPhone||Ze.retailer?.phone||"N/A",paymentMethod:Ze.paymentMode||"N/A",createdAt:Ze.timestamp?.seconds?new Date(Ze.timestamp.seconds*1e3).toISOString():new Date().toISOString(),expectedDeliveryDate:Ze.expectedDeliveryDate,deliveryMode:Ze.deliveryMode,statusTimestamps:{shippedAt:serverTimestamp()}};await updateDoc(Je,rr);const ar={status:"Shipped",expectedDeliveryDate:Ze.expectedDeliveryDate,deliveryMode:Ze.deliveryMode,shippedAt:new Date().toISOString(),statusTimestamps:{shippedAt:serverTimestamp()}};await updateDoc(tr,ar)},Me=(Xe,Ye,Ze,Je)=>{Re(tr=>tr.map(rr=>{if(rr.id!==Xe)return rr;const ar=[...rr.items];return ar[Ye]={...ar[Ye],[Ze]:Je},{...rr,items:ar}}))},Ue=(Xe,Ye)=>{Re(Ze=>Ze.map(Je=>{if(Je.id!==Xe)return Je;const tr=Je.items.filter((rr,ar)=>ar!==Ye);return{...Je,items:tr}}))},$e=async Xe=>{const Ye=Be.currentUser;if(!Ye)return;const Ze=Ce.find(tr=>tr.id===Xe),Je=doc(je,"businesses",Ye.uid,"orderRequests",Xe);await updateDoc(Je,{items:Ze.items,paymentMode:Ze.paymentMode,deliveryMode:Ze.deliveryMode||"",expectedDeliveryDate:Ze.expectedDeliveryDate||""})},He=Xe=>Xe.stockAvailable===void 0||Xe.stockAvailable===null?{isOverstock:!1,message:""}:Xe.quantity>Xe.stockAvailable?{isOverstock:!0,message:`Only ${Xe.stockAvailable} in stock`}:{isOverstock:!1,message:""};reactExports.useEffect(()=>{const Xe=Be.currentUser;if(!Xe)return;const Ye=collection(je,"businesses",Xe.uid,"orderRequests"),Ze=query(Ye,where("status","in",["Accepted","Modified"])),Je=onSnapshot(Ze,async tr=>{const rr=await Promise.all(tr.docs.map(async ar=>{const nr=ar.data(),sr=doc(je,"businesses",nr.retailerId),dr=await getDoc(sr),_r=dr.exists()?dr.data():{},fr=await Promise.all((nr.items||[]).map(async or=>{if(or.productId)try{const Er=doc(je,"products",or.productId),Rr=await getDoc(Er);if(Rr.exists()){const jr=Rr.data();return{...or,stockAvailable:jr.stockAvailable,price:jr.sellingPrice||0,sku:jr.sku||"",unit:jr.unit||""}}}catch{}return or}));return{id:ar.id,...nr,items:fr,retailerName:_r.businessName||_r.ownerName||"N/A",retailerEmail:_r.email||"N/A"}}));Re(rr)});return()=>Je()},[]);const[Qe,We]=reactExports.useState("All"),qe=Ce.filter(Xe=>Qe==="All"||Xe.status===Qe),Ke=Xe=>{try{return new Date(Xe).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return"N/A"}};return jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx("div",{className:"inline-flex rounded-lg shadow-sm border border-gray-200 overflow-hidden bg-white",children:["All","Accepted","Modified"].map(Xe=>jsxRuntimeExports.jsx("button",{type:"button",className:`px-5 py-2 font-medium transition-colors duration-150 focus:outline-none
                ${Qe===Xe?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-blue-50"}
                ${Xe!=="All"?"border-l border-gray-200":""}`,onClick:()=>We(Xe),children:Xe},Xe))})}),qe.map(Xe=>jsxRuntimeExports.jsxs("div",{className:"rounded-lg border bg-white shadow-sm hover:shadow-md transition p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-lg",children:["Retailer: ",Xe.retailerName]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Order ID: ",Xe.id]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold
                  ${Xe.status==="Accepted"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                `,children:Xe.status})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-gray-700",children:["Email: ",Xe.retailerEmail]}),Xe.status==="Modified"?jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Payment Mode:"}),jsxRuntimeExports.jsxs("select",{value:Xe.paymentMode||"",onChange:Ye=>Oe(Xe.id,Ye.target.value),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-200 transition",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select"}),jsxRuntimeExports.jsx("option",{value:"COD",children:"Cash on Delivery (COD)"}),jsxRuntimeExports.jsx("option",{value:"Split Payment",children:"Split Payment (50/50 or custom %)"}),jsxRuntimeExports.jsx("option",{value:"Advance Payment",children:"Advance Payment"}),jsxRuntimeExports.jsx("option",{value:"End of Month",children:"End of Month"}),jsxRuntimeExports.jsx("option",{value:"Credit Cycle",children:"Credit Cycle (15/30 days)"}),jsxRuntimeExports.jsx("option",{value:"UPI",children:"UPI"}),jsxRuntimeExports.jsx("option",{value:"Net Banking",children:"Net Banking"}),jsxRuntimeExports.jsx("option",{value:"Cheque",children:"Cheque"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]}):jsxRuntimeExports.jsxs("p",{className:"text-gray-700",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Payment Mode:"})," ",Xe.paymentMode||"N/A"]})]}),jsxRuntimeExports.jsxs("p",{className:"mt-1 text-gray-500 text-sm",children:["Requested On: ",Xe.timestamp?.seconds?Ke(Xe.timestamp.seconds*1e3):"N/A"]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 border border-gray-200 rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-8 font-semibold bg-gray-50 border-b border-gray-200 px-4 py-2 text-gray-700",children:[jsxRuntimeExports.jsx("div",{children:"Name"}),jsxRuntimeExports.jsx("div",{children:"Brand"}),jsxRuntimeExports.jsx("div",{children:"Category"}),jsxRuntimeExports.jsx("div",{children:"Qty"}),jsxRuntimeExports.jsx("div",{children:"Unit"}),jsxRuntimeExports.jsx("div",{children:"Actions"}),jsxRuntimeExports.jsx("div",{children:"Price"}),jsxRuntimeExports.jsx("div",{children:"Subtotal"})]}),Xe.items.map((Ye,Ze)=>{const{isOverstock:Je,message:tr}=He(Ye);return jsxRuntimeExports.jsx("div",{className:"grid grid-cols-8 border-t border-gray-100 px-4 py-2 text-sm items-center gap-2",children:Xe.status==="Modified"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{className:"border rounded px-2 py-1 focus:ring-2 focus:ring-blue-100 transition",type:"text",value:Ye.productName,onChange:rr=>Me(Xe.id,Ze,"productName",rr.target.value)}),jsxRuntimeExports.jsx("input",{className:"border rounded px-2 py-1 focus:ring-2 focus:ring-blue-100 transition",type:"text",value:Ye.brand||"",onChange:rr=>Me(Xe.id,Ze,"brand",rr.target.value)}),jsxRuntimeExports.jsx("input",{className:"border rounded px-2 py-1 focus:ring-2 focus:ring-blue-100 transition",type:"text",value:Ye.category||"",onChange:rr=>Me(Xe.id,Ze,"category",rr.target.value)}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("input",{className:`border rounded px-2 py-1 focus:ring-2 focus:ring-blue-100 transition ${Je?"border-red-500":""}`,type:"number",value:Ye.quantity,onChange:rr=>Me(Xe.id,Ze,"quantity",parseInt(rr.target.value))}),Je&&jsxRuntimeExports.jsx("span",{className:"text-xs text-red-600",children:tr})]}),jsxRuntimeExports.jsx("input",{className:"border rounded px-2 py-1 focus:ring-2 focus:ring-blue-100 transition",type:"text",value:Ye.unit||"",onChange:rr=>Me(Xe.id,Ze,"unit",rr.target.value)}),jsxRuntimeExports.jsx("button",{onClick:()=>Ue(Xe.id,Ze),className:"text-red-600 font-semibold px-2 py-1 rounded hover:bg-red-50 transition",title:"Delete Item",type:"button",children:"Delete"}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{children:Ye.productName}),jsxRuntimeExports.jsx("div",{children:Ye.brand||"N/A"}),jsxRuntimeExports.jsx("div",{children:Ye.category||"N/A"}),jsxRuntimeExports.jsxs("div",{children:[Ye.quantity,Ye.stockAvailable!==void 0&&Ye.quantity>Ye.stockAvailable&&jsxRuntimeExports.jsx("span",{className:"text-red-600 text-xs ml-1",children:"Out of Stock"})]}),jsxRuntimeExports.jsx("div",{children:Ye.unit||"N/A"}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{children:["",(Number(Ye.price)||0).toFixed(2)]}),jsxRuntimeExports.jsxs("div",{children:["",(Ye.quantity*Number(Ye.price)).toFixed(2)]})]})},Ze)})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex flex-col md:flex-row md:items-center md:gap-6 gap-3",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 font-medium text-gray-700",children:["Expected Delivery Date:",jsxRuntimeExports.jsx("input",{type:"date",value:Xe.expectedDeliveryDate||"",onChange:Ye=>{De(Xe.id,Ye.target.value),Re(Ze=>Ze.map(Je=>Je.id===Xe.id?{...Je,expectedDeliveryDate:Ye.target.value}:Je))},className:"border rounded-lg px-3 py-2 ml-1 focus:ring-2 focus:ring-blue-200 transition"})]}),Xe.deliveryDateError&&jsxRuntimeExports.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Please select a valid delivery date."}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 font-medium text-gray-700",children:["Delivery Mode:",jsxRuntimeExports.jsxs("select",{value:Xe.deliveryMode||"",onChange:Ye=>{Fe(Xe.id,Ye.target.value),Re(Ze=>Ze.map(Je=>Je.id===Xe.id?{...Je,deliveryMode:Ye.target.value}:Je))},className:"border rounded-lg px-3 py-2 ml-1 focus:ring-2 focus:ring-blue-200 transition",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select"}),jsxRuntimeExports.jsx("option",{value:"By Distributor",children:"By Distributor"}),jsxRuntimeExports.jsx("option",{value:"Shiprocket",children:"Shiprocket"}),jsxRuntimeExports.jsx("option",{value:"Delhivery",children:"Delhivery"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]}),Xe.deliveryModeError&&jsxRuntimeExports.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Please select a delivery mode."})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-3 flex-wrap",children:[Xe.status==="Modified"&&jsxRuntimeExports.jsx("button",{onClick:()=>$e(Xe.id),className:"px-4 py-2 rounded-lg font-medium bg-yellow-500 text-white hover:bg-yellow-600 transition",children:"Save Changes"}),jsxRuntimeExports.jsx("button",{onClick:()=>ke(Xe.id),className:"px-4 py-2 rounded-lg font-medium bg-blue-600 text-white hover:bg-blue-700 transition",children:"Mark as Shipped"})]})]},Xe.id))]})},TrackOrders=()=>{const[Ce,Re]=reactExports.useState([]),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(""),[Oe,ke]=reactExports.useState(""),[Me,Ue]=reactExports.useState("Out for Delivery");reactExports.useEffect(()=>{const vr=()=>{const Tr=window.location.hash||"",Or=Tr.indexOf("?");if(Or!==-1){const Hr=(new URLSearchParams(Tr.substring(Or+1)).get("sub")||"").toLowerCase();Hr==="payment-due"?Ue("Payment Due"):Hr==="out-for-delivery"?Ue("Out for Delivery"):(Hr==="paid"||Hr==="paid-orders")&&Ue("Paid Orders")}};return vr(),window.addEventListener("hashchange",vr),()=>window.removeEventListener("hashchange",vr)},[]);const $e=vr=>{Ue(vr);try{const Tr=window.location.hash||"#/distributor-dashboard",[Or,Nr=""]=Tr.split("?"),Hr=new URLSearchParams(Nr);Hr.set("tab","track-orders"),vr==="Payment Due"?Hr.set("sub","payment-due"):vr==="Out for Delivery"?Hr.set("sub","out-for-delivery"):vr==="Paid Orders"?Hr.set("sub","paid"):Hr.delete("sub");const Wr=`${Or}?${Hr.toString()}`;Wr!==Tr&&window.history.replaceState(null,"",Wr)}catch{}},He=getFirestore(),Qe=getAuth(),[We,qe]=reactExports.useState({}),[Ke,Xe]=reactExports.useState({}),[Ye,Ze]=reactExports.useState({}),Je=reactExports.useRef({}),tr=vr=>{Be(Tr=>Tr.includes(vr)?Tr.filter(Or=>Or!==vr):[...Tr,vr])},rr=vr=>{console.log("Exporting CSV:",vr)},ar=vr=>{console.log("Exporting Excel:",vr)},nr=vr=>{console.log("Exporting PDF:",vr)},sr=vr=>{const Tr=Ye[vr.id];return typeof Tr=="number"&&Tr>0?Tr:Number(vr.creditDays||15)},dr=vr=>{const Tr=new Date;return Tr.setDate(Tr.getDate()+Number(vr||0)),Tr};reactExports.useEffect(()=>{const vr=onAuthStateChanged(Qe,Tr=>{if(!Tr)return;const Or=query(collection(He,"businesses",Tr.uid,"orderRequests"),where("status","in",["Shipped","Out for Delivery","Delivered"])),Nr=onSnapshot(Or,Hr=>{const Wr=Hr.docs.map(qr=>({id:qr.id,...qr.data()})).sort((qr,Jr)=>{const An=qr.status==="Delivered",an=Jr.status==="Delivered";return An!==an?An?1:-1:new Date(Jr.createdAt||0).getTime()-new Date(qr.createdAt||0).getTime()});Re(Wr)});return()=>Nr()});return()=>vr()},[]),reactExports.useEffect(()=>{if(!Ce||Ce.length===0)return;Array.from(new Set(Ce.map(Tr=>Tr.retailerId).filter(Boolean))).forEach(Tr=>{if(Je.current[Tr])return;const Or=doc(He,"businesses",Tr),Nr=onSnapshot(Or,Hr=>{Hr.exists()&&qe(Wr=>({...Wr,[Tr]:Hr.data()}))});Je.current[Tr]=Nr})},[Ce]),reactExports.useEffect(()=>{const vr=onAuthStateChanged(Qe,Tr=>{if(!Tr)return;const Or=collection(He,"businesses",Tr.uid,"connectedRetailers"),Nr=onSnapshot(Or,Hr=>{const Wr={};Hr.forEach(qr=>{const Jr=qr.data();Jr?.retailerId&&(Wr[Jr.retailerId]=Jr)}),Xe(Wr)});return()=>Nr()});return()=>vr()},[]);const _r=async vr=>{const Tr=Qe.currentUser;if(!Tr)return;const Or=doc(He,"businesses",Tr.uid,"orderRequests",vr),Hr=(await getDoc(Or)).data();if(!Hr||!Hr.retailerId)return;const Wr=doc(He,"businesses",Hr.retailerId,"sentOrders",vr),qr=new Date;let Jr={status:"Delivered",deliveredAt:qr.toISOString(),"statusTimestamps.deliveredAt":serverTimestamp()};if(Hr.paymentMethod==="Credit Cycle"&&Hr.creditDays){const An=new Date(qr);An.setDate(An.getDate()+Number(Hr.creditDays)),Jr.creditDueDate=An.toISOString(),Jr.isPaid=!1}await updateDoc(Or,Jr),await updateDoc(Wr,Jr),y$2.success(" Order marked as Delivered!",{position:"top-right",autoClose:3e3,icon:""})},fr=async vr=>{const Tr=Qe.currentUser;if(!Tr)return;const Or=doc(He,"businesses",Tr.uid,"orderRequests",vr.id),Nr=doc(He,"businesses",vr.retailerId,"sentOrders",vr.id),Hr={isPaid:!0,paymentStatus:"Paid",paidAt:new Date().toISOString()};await updateDoc(Or,Hr),await updateDoc(Nr,Hr),y$2.success(" Payment received marked (COD)")},or=async vr=>{if(vr.paymentMethod==="COD"&&!vr.isPaid){y$2.info("For COD, please confirm 'Payment Received' first.");return}if(vr.paymentMethod==="Credit Cycle"){const Tr=Number(sr(vr));if(!Number.isFinite(Tr)||Tr<=0){y$2.error("Invalid credit days");return}const Or=Qe.currentUser;if(!Or)return;const Nr=doc(He,"businesses",Or.uid,"orderRequests",vr.id),Hr=doc(He,"businesses",vr.retailerId,"sentOrders",vr.id);await updateDoc(Nr,{creditDays:Tr}),await updateDoc(Hr,{creditDays:Tr})}await _r(vr.id)},Er=De.toLowerCase(),Rr=vr=>vr.id?.toLowerCase().includes(Er)||vr.retailerName?.toLowerCase().includes(Er)||vr.retailerEmail?.toLowerCase().includes(Er)||vr.retailerPhone?.toLowerCase().includes(Er)||vr.retailerAddress?.toLowerCase().includes(Er)||vr.city?.toLowerCase().includes(Er),jr=vr=>Oe?vr.expectedDeliveryDate?.slice(0,10)===Oe:!0,xr=vr=>{if(vr?.creditDueDate)return new Date(vr.creditDueDate);if(vr?.deliveredAt&&(vr?.creditDays||vr?.creditDays===0)){const Tr=new Date(vr.deliveredAt);return Tr.setDate(Tr.getDate()+Number(vr.creditDays||0)),Tr}return null},Pr=Ce.filter(vr=>(vr.status==="Shipped"||vr.status==="Out for Delivery")&&Rr(vr)&&jr(vr));let br=Ce.filter(vr=>vr.paymentMethod!=="Credit Cycle"||vr.isPaid===!0||vr.paymentStatus==="Paid"?!1:!!xr(vr)&&Rr(vr)&&jr(vr));br=br.map(vr=>({...vr,__dueDate:xr(vr)})).sort((vr,Tr)=>vr.__dueDate-Tr.__dueDate);let wr=Ce.filter(vr=>(vr.isPaid===!0||vr.paymentStatus==="Paid")&&Rr(vr)&&jr(vr));const Br=vr=>(vr.items||[]).reduce((Tr,Or)=>Tr+Number(Or.quantity||0)*Number(Or.price||0),0);br.reduce((vr,Tr)=>vr+Br(Tr),0),wr.reduce((vr,Tr)=>vr+Br(Tr),0);const Lr=vr=>{try{return new Date(vr).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return"N/A"}},yr=vr=>{try{return new Date(vr).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"N/A"}};return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx(Lt,{}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Track Orders"}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4 mb-4 flex flex-col md:flex-row md:items-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by order ID, retailer, phone, email, etc.",value:De,onChange:vr=>Fe(vr.target.value),className:"px-3 py-2 border rounded-lg w-full md:w-1/2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),jsxRuntimeExports.jsx("input",{type:"date",value:Oe,onChange:vr=>ke(vr.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),jsxRuntimeExports.jsxs("div",{className:"inline-flex rounded-md border border-gray-200 shadow-sm overflow-hidden mb-4 group",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>$e("Out for Delivery"),className:"px-4 py-2 font-medium text-sm focus:outline-none transition "+(Me==="Out for Delivery"?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"),children:["Out for Delivery (",Pr.length,")"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>$e("Payment Due"),className:"px-4 py-2 font-medium text-sm focus:outline-none transition border-l border-gray-200 "+(Me==="Payment Due"?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"),children:["Payment Due (",br.length,")"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>$e("Paid Orders"),className:"px-4 py-2 font-medium text-sm focus:outline-none transition border-l border-gray-200 "+(Me==="Paid Orders"?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"),children:["Paid Orders (",wr.length,")"]})]}),br.length===0&&wr.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500 mt-8 text-center",children:"No orders to track yet."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Me==="Out for Delivery"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-blue-700 mb-2",children:" Out for Delivery"}),Pr.length===0?jsxRuntimeExports.jsx("div",{className:"text-gray-500 mb-6",children:"No orders are currently out for delivery."}):Pr.map(vr=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-4 transition hover:shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-4 pt-4 pb-2",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-gray-900",children:vr.retailerBusinessName||vr.retailerName||vr.retailer?.name||"N/A"})}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:vr.status})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-6 items-center text-sm text-gray-500 px-4 pb-2",children:[jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Total:"})," ",Br(vr).toFixed(2)]}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-800 text-xs font-medium",children:["Payment: ",vr.paymentMethod||"N/A"]}),vr.paymentMethod==="Credit Cycle"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-600 font-medium",children:"Credit Days:"}),jsxRuntimeExports.jsx("input",{type:"number",min:1,max:180,className:"w-16 px-2 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:sr(vr),onChange:Tr=>{const Or=Number(Tr.target.value);Ze(Nr=>({...Nr,[vr.id]:Number.isFinite(Or)?Or:""}))}}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-yellow-100 text-yellow-800 text-[11px] font-medium",children:["Due if delivered today: ",yr(dr(sr(vr)))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-4 pb-2 flex flex-col md:flex-row gap-2",children:[vr.paymentMethod==="COD"&&!vr.isPaid&&jsxRuntimeExports.jsx("button",{onClick:()=>fr(vr),className:"rounded-lg px-4 py-2 font-medium bg-green-700 text-white hover:bg-green-800 transition",children:"Confirm Payment Received"}),jsxRuntimeExports.jsx("button",{onClick:()=>or(vr),className:`rounded-lg px-4 py-2 font-medium text-white transition ${vr.paymentMethod==="COD"&&!vr.isPaid?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,disabled:vr.paymentMethod==="COD"&&!vr.isPaid,children:"Mark Delivered"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end px-4 pb-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>tr(vr.id),className:"text-sm text-blue-600 hover:underline focus:outline-none",children:je.includes(vr.id)?"Hide Details":"Show Details"})}),je.includes(vr.id)&&jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"border rounded p-3 bg-gray-50",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 font-semibold mb-1",children:"At time of order"}),jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900",children:vr.retailerBusinessName||vr.retailerName||"N/A"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Owner: ",vr.ownerName||vr.retailerOwnerName||vr.retailerName||"N/A"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:(()=>{const Tr=[vr.retailerAddress,vr.city,vr.state].filter(Boolean).join(", "),Or=We[vr.retailerId]||{},Nr=[Or.address,Or.city,Or.state].filter(Boolean).join(", "),Hr=Ke[vr.retailerId]||{},Wr=[Hr.address,Hr.city,Hr.state].filter(Boolean).join(", ");return Tr||Nr||Wr||""})()})]}),jsxRuntimeExports.jsxs("div",{className:"border rounded p-3 bg-white",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 font-semibold mb-1",children:"Current profile"}),(()=>{const Tr=We[vr.retailerId]||{},Or=Tr.businessName||Tr.retailerName||Tr.ownerName||"",Nr=Tr.ownerName||"",Hr=[Tr.address,Tr.city,Tr.state].filter(Boolean).join(", ")||"";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900",children:Or}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Owner: ",Nr]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:Hr})]})})()]})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Order ID:"})," ",vr.id]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Email:"})," ",vr.retailerEmail||vr.retailer?.email||We[vr.retailerId]?.email||Ke[vr.retailerId]?.retailerEmail||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Phone:"})," ",vr.retailerPhone||vr.retailer?.phone||We[vr.retailerId]?.phone||Ke[vr.retailerId]?.retailerPhone||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Payment Method:"})," ",vr.paymentMethod||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivery Mode:"})," ",vr.deliveryMode||"N/A"]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 rounded-lg bg-white border p-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-2",children:"Items Ordered:"}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"min-w-full table-auto",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-gray-600",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-gray-600",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-gray-600",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-center text-xs font-semibold text-gray-600",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-gray-600",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-gray-600",children:"Subtotal"})]})}),jsxRuntimeExports.jsx("tbody",{children:(vr.items||[]).map((Tr,Or)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-blue-50 transition",children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Tr.productName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Tr.brand||""}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Tr.sku||""}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2 text-center",children:Tr.quantity}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-2 text-right",children:["",Number(Tr.price||0).toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-2 text-right",children:["",(Number(Tr.quantity||0)*Number(Tr.price||0)).toFixed(2)]})]},Or))})]}),jsxRuntimeExports.jsxs("div",{className:"text-right font-semibold mt-2",children:["Total: ",Br(vr).toFixed(2)]})]})]})]})]},vr.id))]}),Me==="Payment Due"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-yellow-700 mb-2",children:" Payment Due"}),br.length===0?jsxRuntimeExports.jsx("div",{className:"text-gray-500 mb-6",children:"No payment due orders."}):br.map(vr=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-4 transition hover:shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-4 pt-4 pb-2",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-gray-900",children:vr.retailerBusinessName||vr.retailerName||vr.retailer?.name||"N/A"})}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:vr.status})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-6 items-center text-sm text-gray-500 px-4 pb-2",children:[vr.deliveredAt&&jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Delivered:"})," ",yr(vr.deliveredAt)]}),(vr.creditDueDate||vr.__dueDate)&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-yellow-100 text-yellow-800 text-xs font-medium",children:["Credit Due Date: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:yr(vr.creditDueDate||vr.__dueDate)})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end px-4 pb-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>tr(vr.id),className:"text-sm text-blue-600 hover:underline focus:outline-none",children:je.includes(vr.id)?"Hide Details":"Show Details"})}),je.includes(vr.id)&&jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-3 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[vr.deliveredAt&&jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Delivered:"})," ",yr(vr.deliveredAt)]}),(vr.creditDueDate||vr.__dueDate)&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-yellow-100 text-yellow-800 text-xs font-medium",children:["Credit Due Date: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:yr(vr.creditDueDate||vr.__dueDate)})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"border rounded p-3 bg-gray-50",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 font-semibold mb-1",children:"At time of order"}),jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900",children:vr.retailerBusinessName||vr.retailerName||"N/A"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Owner: ",vr.ownerName||vr.retailerOwnerName||vr.retailerName||"N/A"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:(()=>{const Tr=[vr.retailerAddress,vr.city,vr.state].filter(Boolean).join(", "),Or=We[vr.retailerId]||{},Nr=[Or.address,Or.city,Or.state].filter(Boolean).join(", "),Hr=Ke[vr.retailerId]||{},Wr=[Hr.address,Hr.city,Hr.state].filter(Boolean).join(", ");return Tr||Nr||Wr||""})()})]}),jsxRuntimeExports.jsxs("div",{className:"border rounded p-3 bg-white",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 font-semibold mb-1",children:"Current profile"}),(()=>{const Tr=We[vr.retailerId]||{},Or=Tr.businessName||Tr.retailerName||Tr.ownerName||"",Nr=Tr.ownerName||"",Hr=[Tr.address,Tr.city,Tr.state].filter(Boolean).join(", ")||"";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900",children:Or}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Owner: ",Nr]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:Hr})]})})()]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Order ID:"})," ",vr.id]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Payment Method:"})," ",vr.paymentMethod||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Email:"})," ",vr.retailerEmail||vr.retailer?.email||We[vr.retailerId]?.email||Ke[vr.retailerId]?.retailerEmail||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Phone:"})," ",vr.retailerPhone||vr.retailer?.phone||We[vr.retailerId]?.phone||Ke[vr.retailerId]?.retailerPhone||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivery Mode:"})," ",vr.deliveryMode||"N/A"]}),vr.deliveredAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivered On:"})," ",Lr(vr.deliveredAt)]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 rounded-lg bg-white border p-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-2",children:"Items Ordered:"}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"min-w-full table-auto",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-gray-600",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-gray-600",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-gray-600",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-center text-xs font-semibold text-gray-600",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-gray-600",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-gray-600",children:"Subtotal"})]})}),jsxRuntimeExports.jsx("tbody",{children:(vr.items||[]).map((Tr,Or)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-blue-50 transition",children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Tr.productName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Tr.brand||""}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Tr.sku||""}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2 text-center",children:Tr.quantity}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-2 text-right",children:["",Number(Tr.price||0).toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-2 text-right",children:["",(Number(Tr.quantity||0)*Number(Tr.price||0)).toFixed(2)]})]},Or))})]}),jsxRuntimeExports.jsxs("div",{className:"text-right font-semibold mt-2",children:["Total: ",Br(vr).toFixed(2)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(vr.paymentMethod==="Credit Cycle"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-700"),children:["Payment: ",vr.paymentMethod||"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(vr.deliveryMode==="Self Pickup"?"bg-green-100 text-green-800":vr.deliveryMode==="Courier"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-700"),children:["Delivery: ",vr.deliveryMode||"N/A"]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 flex flex-col md:flex-row gap-2 items-center",children:jsxRuntimeExports.jsx("button",{onClick:async()=>{const Tr=Qe.currentUser;if(!Tr)return;const Or=doc(He,"businesses",Tr.uid,"orderRequests",vr.id),Nr=doc(He,"businesses",vr.retailerId,"sentOrders",vr.id),Hr={isPaid:!0,paymentStatus:"Paid",paidAt:new Date().toISOString()};await updateDoc(Or,Hr),await updateDoc(Nr,Hr),y$2.success(" Credit payment marked as received!")},className:"rounded-lg px-4 py-2 font-medium bg-green-700 text-white hover:bg-green-800 transition",children:"Mark Credit as Paid"})})]})]},vr.id))]}),Me==="Paid Orders"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-green-700 mb-2",children:" Paid Orders"}),wr.length===0?jsxRuntimeExports.jsx("div",{className:"text-gray-500 mb-6",children:"No paid orders."}):wr.map(vr=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-4 transition hover:shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-4 pt-4 pb-2",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-gray-900",children:vr.retailerBusinessName||vr.retailerName||vr.retailer?.name||"N/A"})}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(vr.status==="Delivered"?"bg-green-100 text-green-800":vr.status==="Shipped"?"bg-blue-100 text-blue-800":vr.status==="Accepted"?"bg-yellow-100 text-yellow-800":(vr.status==="Requested","bg-gray-100 text-gray-700")),children:vr.status})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-6 items-center text-sm text-gray-500 px-4 pb-2",children:[jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"City:"})," ",vr.city||Ke[vr.retailerId]?.city||We[vr.retailerId]?.city||""]}),vr.deliveredAt&&jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Delivered:"})," ",yr(vr.deliveredAt)]}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Total:"})," ","",Br(vr).toFixed(2)]})]}),jsxRuntimeExports.jsx("div",{className:"px-4 pb-2",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:(()=>{const Tr=["Requested","Accepted","Shipped","Delivered","Paid"];let Nr=["Requested","Accepted","Shipped","Delivered"].indexOf(vr.status);return(vr.isPaid||vr.paymentStatus==="Paid")&&(Nr=4),Tr.map((Hr,Wr)=>{const qr=Wr<Nr,Jr=Wr===Nr;return jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-1 ${Jr?"text-blue-600":qr?"text-green-600":"text-gray-400"}`,children:[jsxRuntimeExports.jsx("div",{className:`w-2 h-2 rounded-full ${Jr?"bg-blue-600":qr?"bg-green-600":"bg-gray-300"}`}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:Hr}),Wr!==4&&jsxRuntimeExports.jsx("div",{className:"w-6 h-px bg-gray-200"})]},Hr)})})()})}),jsxRuntimeExports.jsx("div",{className:"flex justify-end px-4 pb-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>tr(vr.id),className:"text-sm text-blue-600 hover:underline focus:outline-none",children:je.includes(vr.id)?"Hide Details":"Show Details"})}),je.includes(vr.id)&&jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"border rounded p-3 bg-gray-50",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 font-semibold mb-1",children:"At time of order"}),jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900",children:vr.retailerBusinessName||vr.retailerName||"N/A"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Owner: ",vr.ownerName||vr.retailerOwnerName||vr.retailerName||"N/A"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:(()=>{const Tr=[vr.retailerAddress,vr.city,vr.state].filter(Boolean).join(", "),Or=We[vr.retailerId]||{},Nr=[Or.address,Or.city,Or.state].filter(Boolean).join(", "),Hr=Ke[vr.retailerId]||{},Wr=[Hr.address,Hr.city,Hr.state].filter(Boolean).join(", ");return Tr||Nr||Wr||""})()})]}),jsxRuntimeExports.jsxs("div",{className:"border rounded p-3 bg-white",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 font-semibold mb-1",children:"Current profile"}),(()=>{const Tr=We[vr.retailerId]||{},Or=Tr.businessName||Tr.retailerName||Tr.ownerName||"",Nr=Tr.ownerName||"",Hr=[Tr.address,Tr.city,Tr.state].filter(Boolean).join(", ")||"";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900",children:Or}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Owner: ",Nr]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:Hr})]})})()]})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Order ID:"})," ",vr.id]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Email:"})," ",vr.retailerEmail||vr.retailer?.email||We[vr.retailerId]?.email||Ke[vr.retailerId]?.retailerEmail||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Phone:"})," ",vr.retailerPhone||vr.retailer?.phone||We[vr.retailerId]?.phone||Ke[vr.retailerId]?.retailerPhone||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Payment Method:"})," ",vr.paymentMethod||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivery Mode:"})," ",vr.deliveryMode||"N/A"]}),vr.deliveredAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivered On:"})," ",Lr(vr.deliveredAt)]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("button",{className:"rounded-lg px-4 py-2 font-medium bg-blue-600 text-white text-xs hover:bg-blue-700 transition",onClick:()=>rr(vr),children:"Export CSV"}),jsxRuntimeExports.jsx("button",{className:"rounded-lg px-4 py-2 font-medium bg-green-600 text-white text-xs hover:bg-green-700 transition",onClick:()=>ar(vr),children:"Export Excel"}),jsxRuntimeExports.jsx("button",{className:"rounded-lg px-4 py-2 font-medium bg-red-500 text-white text-xs hover:bg-red-600 transition",onClick:()=>nr(vr),children:"Export PDF"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 rounded-lg bg-white border p-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-2",children:"Items Ordered:"}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"min-w-full table-auto",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-gray-600",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-gray-600",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-gray-600",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-center text-xs font-semibold text-gray-600",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-gray-600",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-gray-600",children:"Subtotal"})]})}),jsxRuntimeExports.jsx("tbody",{children:(vr.items||[]).map((Tr,Or)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-blue-50 transition",children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Tr.productName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Tr.brand||""}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Tr.sku||""}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2 text-center",children:Tr.quantity}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-2 text-right",children:["",Number(Tr.price||0).toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-2 text-right",children:["",(Number(Tr.quantity||0)*Number(Tr.price||0)).toFixed(2)]})]},Or))})]}),jsxRuntimeExports.jsxs("div",{className:"text-right font-semibold mt-2",children:["Total: ",vr.items?.reduce((Tr,Or)=>Tr+Number(Or.quantity||0)*Number(Or.price||0),0).toFixed(2)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(vr.paymentMethod==="Credit Cycle"?"bg-yellow-100 text-yellow-800":vr.paymentMethod==="Online"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-700"),children:["Payment: ",vr.paymentMethod||"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(vr.deliveryMode==="Self Pickup"?"bg-green-100 text-green-800":vr.deliveryMode==="Courier"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-700"),children:["Delivery: ",vr.deliveryMode||"N/A"]})]})]})]},vr.id))]})]})]})},DispatchTracker=()=>{const[Ce,Re]=reactExports.useState("requests"),je={requests:"order-requests",pending:"pending-orders",completed:"track-orders"},Be={"order-requests":"requests","pending-orders":"pending","track-orders":"completed"};reactExports.useEffect(()=>{const Oe=()=>{const ke=window.location.hash||"",Me=ke.indexOf("?");if(Me===-1)return;const $e=(new URLSearchParams(ke.substring(Me+1)).get("tab")||"").toLowerCase();Be[$e]&&Re(Be[$e])};return Oe(),window.addEventListener("hashchange",Oe),()=>window.removeEventListener("hashchange",Oe)},[]);const De=Oe=>{Re(Oe);try{const ke=window.location.hash||"#/distributor-dashboard",[Me,Ue=""]=ke.split("?"),$e=new URLSearchParams(Ue),He=je[Oe]||"order-requests";$e.set("tab",He),He!=="track-orders"&&$e.delete("sub");const Qe=`${Me}?${$e.toString()}`;Qe!==ke&&window.history.replaceState(null,"",Qe)}catch{}},Fe=({id:Oe,active:ke,onClick:Me,children:Ue})=>jsxRuntimeExports.jsx("button",{onClick:()=>Me(Oe),className:`${ke?"bg-blue-600 text-white shadow":"bg-white text-gray-600 border hover:bg-gray-50"} px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 border`,"aria-selected":ke,role:"tab",children:Ue});return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Dispatch Tracker"}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs("div",{className:"inline-flex gap-2 p-1 bg-gray-50 rounded-lg border",children:[jsxRuntimeExports.jsx(Fe,{id:"requests",active:Ce==="requests",onClick:De,children:"Order Requests"}),jsxRuntimeExports.jsx(Fe,{id:"pending",active:Ce==="pending",onClick:De,children:"Pending Orders"}),jsxRuntimeExports.jsx(Fe,{id:"completed",active:Ce==="completed",onClick:De,children:"Track Orders"})]})}),jsxRuntimeExports.jsxs(AnimatePresence,{mode:"wait",children:[Ce==="requests"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:jsxRuntimeExports.jsx(OrderRequests,{})},"requests"),Ce==="pending"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:jsxRuntimeExports.jsx(PendingOrders,{})},"pending"),Ce==="completed"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:jsxRuntimeExports.jsx(TrackOrders,{})},"completed")]})]})};var dayjs_min$1={exports:{}},dayjs_min=dayjs_min$1.exports,hasRequiredDayjs_min;function requireDayjs_min(){return hasRequiredDayjs_min||(hasRequiredDayjs_min=1,(function(Ce,Re){(function(je,Be){Ce.exports=Be()})(dayjs_min,(function(){var je=1e3,Be=6e4,De=36e5,Fe="millisecond",Oe="second",ke="minute",Me="hour",Ue="day",$e="week",He="month",Qe="quarter",We="year",qe="date",Ke="Invalid Date",Xe=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Ye=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ze={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Rr){var jr=["th","st","nd","rd"],xr=Rr%100;return"["+Rr+(jr[(xr-20)%10]||jr[xr]||jr[0])+"]"}},Je=function(Rr,jr,xr){var Pr=String(Rr);return!Pr||Pr.length>=jr?Rr:""+Array(jr+1-Pr.length).join(xr)+Rr},tr={s:Je,z:function(Rr){var jr=-Rr.utcOffset(),xr=Math.abs(jr),Pr=Math.floor(xr/60),br=xr%60;return(jr<=0?"+":"-")+Je(Pr,2,"0")+":"+Je(br,2,"0")},m:function Rr(jr,xr){if(jr.date()<xr.date())return-Rr(xr,jr);var Pr=12*(xr.year()-jr.year())+(xr.month()-jr.month()),br=jr.clone().add(Pr,He),wr=xr-br<0,Br=jr.clone().add(Pr+(wr?-1:1),He);return+(-(Pr+(xr-br)/(wr?br-Br:Br-br))||0)},a:function(Rr){return Rr<0?Math.ceil(Rr)||0:Math.floor(Rr)},p:function(Rr){return{M:He,y:We,w:$e,d:Ue,D:qe,h:Me,m:ke,s:Oe,ms:Fe,Q:Qe}[Rr]||String(Rr||"").toLowerCase().replace(/s$/,"")},u:function(Rr){return Rr===void 0}},rr="en",ar={};ar[rr]=Ze;var nr="$isDayjsObject",sr=function(Rr){return Rr instanceof or||!(!Rr||!Rr[nr])},dr=function Rr(jr,xr,Pr){var br;if(!jr)return rr;if(typeof jr=="string"){var wr=jr.toLowerCase();ar[wr]&&(br=wr),xr&&(ar[wr]=xr,br=wr);var Br=jr.split("-");if(!br&&Br.length>1)return Rr(Br[0])}else{var Lr=jr.name;ar[Lr]=jr,br=Lr}return!Pr&&br&&(rr=br),br||!Pr&&rr},_r=function(Rr,jr){if(sr(Rr))return Rr.clone();var xr=typeof jr=="object"?jr:{};return xr.date=Rr,xr.args=arguments,new or(xr)},fr=tr;fr.l=dr,fr.i=sr,fr.w=function(Rr,jr){return _r(Rr,{locale:jr.$L,utc:jr.$u,x:jr.$x,$offset:jr.$offset})};var or=(function(){function Rr(xr){this.$L=dr(xr.locale,null,!0),this.parse(xr),this.$x=this.$x||xr.x||{},this[nr]=!0}var jr=Rr.prototype;return jr.parse=function(xr){this.$d=(function(Pr){var br=Pr.date,wr=Pr.utc;if(br===null)return new Date(NaN);if(fr.u(br))return new Date;if(br instanceof Date)return new Date(br);if(typeof br=="string"&&!/Z$/i.test(br)){var Br=br.match(Xe);if(Br){var Lr=Br[2]-1||0,yr=(Br[7]||"0").substring(0,3);return wr?new Date(Date.UTC(Br[1],Lr,Br[3]||1,Br[4]||0,Br[5]||0,Br[6]||0,yr)):new Date(Br[1],Lr,Br[3]||1,Br[4]||0,Br[5]||0,Br[6]||0,yr)}}return new Date(br)})(xr),this.init()},jr.init=function(){var xr=this.$d;this.$y=xr.getFullYear(),this.$M=xr.getMonth(),this.$D=xr.getDate(),this.$W=xr.getDay(),this.$H=xr.getHours(),this.$m=xr.getMinutes(),this.$s=xr.getSeconds(),this.$ms=xr.getMilliseconds()},jr.$utils=function(){return fr},jr.isValid=function(){return this.$d.toString()!==Ke},jr.isSame=function(xr,Pr){var br=_r(xr);return this.startOf(Pr)<=br&&br<=this.endOf(Pr)},jr.isAfter=function(xr,Pr){return _r(xr)<this.startOf(Pr)},jr.isBefore=function(xr,Pr){return this.endOf(Pr)<_r(xr)},jr.$g=function(xr,Pr,br){return fr.u(xr)?this[Pr]:this.set(br,xr)},jr.unix=function(){return Math.floor(this.valueOf()/1e3)},jr.valueOf=function(){return this.$d.getTime()},jr.startOf=function(xr,Pr){var br=this,wr=!!fr.u(Pr)||Pr,Br=fr.p(xr),Lr=function(qr,Jr){var An=fr.w(br.$u?Date.UTC(br.$y,Jr,qr):new Date(br.$y,Jr,qr),br);return wr?An:An.endOf(Ue)},yr=function(qr,Jr){return fr.w(br.toDate()[qr].apply(br.toDate("s"),(wr?[0,0,0,0]:[23,59,59,999]).slice(Jr)),br)},vr=this.$W,Tr=this.$M,Or=this.$D,Nr="set"+(this.$u?"UTC":"");switch(Br){case We:return wr?Lr(1,0):Lr(31,11);case He:return wr?Lr(1,Tr):Lr(0,Tr+1);case $e:var Hr=this.$locale().weekStart||0,Wr=(vr<Hr?vr+7:vr)-Hr;return Lr(wr?Or-Wr:Or+(6-Wr),Tr);case Ue:case qe:return yr(Nr+"Hours",0);case Me:return yr(Nr+"Minutes",1);case ke:return yr(Nr+"Seconds",2);case Oe:return yr(Nr+"Milliseconds",3);default:return this.clone()}},jr.endOf=function(xr){return this.startOf(xr,!1)},jr.$set=function(xr,Pr){var br,wr=fr.p(xr),Br="set"+(this.$u?"UTC":""),Lr=(br={},br[Ue]=Br+"Date",br[qe]=Br+"Date",br[He]=Br+"Month",br[We]=Br+"FullYear",br[Me]=Br+"Hours",br[ke]=Br+"Minutes",br[Oe]=Br+"Seconds",br[Fe]=Br+"Milliseconds",br)[wr],yr=wr===Ue?this.$D+(Pr-this.$W):Pr;if(wr===He||wr===We){var vr=this.clone().set(qe,1);vr.$d[Lr](yr),vr.init(),this.$d=vr.set(qe,Math.min(this.$D,vr.daysInMonth())).$d}else Lr&&this.$d[Lr](yr);return this.init(),this},jr.set=function(xr,Pr){return this.clone().$set(xr,Pr)},jr.get=function(xr){return this[fr.p(xr)]()},jr.add=function(xr,Pr){var br,wr=this;xr=Number(xr);var Br=fr.p(Pr),Lr=function(Tr){var Or=_r(wr);return fr.w(Or.date(Or.date()+Math.round(Tr*xr)),wr)};if(Br===He)return this.set(He,this.$M+xr);if(Br===We)return this.set(We,this.$y+xr);if(Br===Ue)return Lr(1);if(Br===$e)return Lr(7);var yr=(br={},br[ke]=Be,br[Me]=De,br[Oe]=je,br)[Br]||1,vr=this.$d.getTime()+xr*yr;return fr.w(vr,this)},jr.subtract=function(xr,Pr){return this.add(-1*xr,Pr)},jr.format=function(xr){var Pr=this,br=this.$locale();if(!this.isValid())return br.invalidDate||Ke;var wr=xr||"YYYY-MM-DDTHH:mm:ssZ",Br=fr.z(this),Lr=this.$H,yr=this.$m,vr=this.$M,Tr=br.weekdays,Or=br.months,Nr=br.meridiem,Hr=function(Jr,An,an,bn){return Jr&&(Jr[An]||Jr(Pr,wr))||an[An].slice(0,bn)},Wr=function(Jr){return fr.s(Lr%12||12,Jr,"0")},qr=Nr||function(Jr,An,an){var bn=Jr<12?"AM":"PM";return an?bn.toLowerCase():bn};return wr.replace(Ye,(function(Jr,An){return An||(function(an){switch(an){case"YY":return String(Pr.$y).slice(-2);case"YYYY":return fr.s(Pr.$y,4,"0");case"M":return vr+1;case"MM":return fr.s(vr+1,2,"0");case"MMM":return Hr(br.monthsShort,vr,Or,3);case"MMMM":return Hr(Or,vr);case"D":return Pr.$D;case"DD":return fr.s(Pr.$D,2,"0");case"d":return String(Pr.$W);case"dd":return Hr(br.weekdaysMin,Pr.$W,Tr,2);case"ddd":return Hr(br.weekdaysShort,Pr.$W,Tr,3);case"dddd":return Tr[Pr.$W];case"H":return String(Lr);case"HH":return fr.s(Lr,2,"0");case"h":return Wr(1);case"hh":return Wr(2);case"a":return qr(Lr,yr,!0);case"A":return qr(Lr,yr,!1);case"m":return String(yr);case"mm":return fr.s(yr,2,"0");case"s":return String(Pr.$s);case"ss":return fr.s(Pr.$s,2,"0");case"SSS":return fr.s(Pr.$ms,3,"0");case"Z":return Br}return null})(Jr)||Br.replace(":","")}))},jr.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},jr.diff=function(xr,Pr,br){var wr,Br=this,Lr=fr.p(Pr),yr=_r(xr),vr=(yr.utcOffset()-this.utcOffset())*Be,Tr=this-yr,Or=function(){return fr.m(Br,yr)};switch(Lr){case We:wr=Or()/12;break;case He:wr=Or();break;case Qe:wr=Or()/3;break;case $e:wr=(Tr-vr)/6048e5;break;case Ue:wr=(Tr-vr)/864e5;break;case Me:wr=Tr/De;break;case ke:wr=Tr/Be;break;case Oe:wr=Tr/je;break;default:wr=Tr}return br?wr:fr.a(wr)},jr.daysInMonth=function(){return this.endOf(He).$D},jr.$locale=function(){return ar[this.$L]},jr.locale=function(xr,Pr){if(!xr)return this.$L;var br=this.clone(),wr=dr(xr,Pr,!0);return wr&&(br.$L=wr),br},jr.clone=function(){return fr.w(this.$d,this)},jr.toDate=function(){return new Date(this.valueOf())},jr.toJSON=function(){return this.isValid()?this.toISOString():null},jr.toISOString=function(){return this.$d.toISOString()},jr.toString=function(){return this.$d.toUTCString()},Rr})(),Er=or.prototype;return _r.prototype=Er,[["$ms",Fe],["$s",Oe],["$m",ke],["$H",Me],["$W",Ue],["$M",He],["$y",We],["$D",qe]].forEach((function(Rr){Er[Rr[1]]=function(jr){return this.$g(jr,Rr[0],Rr[1])}})),_r.extend=function(Rr,jr){return Rr.$i||(Rr(jr,or,_r),Rr.$i=!0),_r},_r.locale=dr,_r.isDayjs=sr,_r.unix=function(Rr){return _r(1e3*Rr)},_r.en=ar[rr],_r.Ls=ar,_r.p={},_r}))})(dayjs_min$1)),dayjs_min$1.exports}var dayjs_minExports=requireDayjs_min();const dayjs=getDefaultExportFromCjs(dayjs_minExports),DispatchSpeedTracker=({distributorId:Ce})=>{const[Re,je]=reactExports.useState(null),[Be,De]=reactExports.useState(0);return reactExports.useEffect(()=>{Ce&&(async()=>{const Oe=collection(db$2,"businesses",Ce,"orderRequests"),ke=await getDocs(Oe);let Me=0,Ue=0;ke.forEach(He=>{const Qe=He.data(),We=Qe.orderAcceptedAt||Qe.createdAt,qe=Qe.orderShippedAt||Qe.deliveredAt;if(We&&qe){const Ke=dayjs(We),Ye=dayjs(qe).diff(Ke,"minute");!isNaN(Ye)&&Ye>=0&&(Me+=Ye,Ue+=1)}});const $e=Ue>0?(Me/Ue).toFixed(1):null;je($e),De(Ue)})()},[Ce]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Dispatch Speed Tracker"}),Re!==null?jsxRuntimeExports.jsxs("p",{children:["Average Dispatch Time: ",jsxRuntimeExports.jsxs("strong",{children:[Re," minutes"]})," across ",Be," orders"]}):jsxRuntimeExports.jsx("p",{children:"No dispatch data available."})]})},InventoryDrainForecast=({distributorId:Ce})=>{const[Re,je]=reactExports.useState([]);return reactExports.useEffect(()=>{Ce&&(async()=>{const De=collection(db$2,"businesses",Ce,"orderRequests"),Fe=await getDocs(De),Oe={},Me=dayjs().subtract(7,"day");Fe.forEach($e=>{const He=$e.data();dayjs(He.timestamp?.toDate?.()||He.timestamp).isAfter(Me)&&Array.isArray(He.items)&&He.items.forEach(We=>{const qe=We.distributorProductId,Ke=parseInt(We.quantity)||0;Oe[qe]||(Oe[qe]={name:We.productName,sold:0}),Oe[qe].sold+=Ke})});const Ue=[];for(const $e in Oe){const He=doc(db$2,"businesses",Ce,"products",$e),We=(await getDoc(He)).data();if(We){const qe=parseInt(We.quantity||0),Ke=Oe[$e].sold/7,Xe=Ke>0?Math.floor(qe/Ke):"";Ue.push({name:Oe[$e].name,currentStock:qe,avgDailySale:Ke.toFixed(1),daysLeft:Xe})}}je(Ue)})()},[Ce]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Inventory Drain Forecast"}),Re.length===0?jsxRuntimeExports.jsx("p",{children:"No data available for forecast."}):jsxRuntimeExports.jsxs("table",{className:"w-full text-sm mt-2",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left border-b",children:[jsxRuntimeExports.jsx("th",{className:"py-1",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Stock"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Avg Sold/Day"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Est. Days Left"})]})}),jsxRuntimeExports.jsx("tbody",{children:Re.map((Be,De)=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"py-1",children:Be.name}),jsxRuntimeExports.jsx("td",{className:"py-1",children:Be.currentStock}),jsxRuntimeExports.jsx("td",{className:"py-1",children:Be.avgDailySale}),jsxRuntimeExports.jsx("td",{className:"py-1",children:Be.daysLeft})]},De))})]})]})};Chart$1.register(ArcElement,plugin_tooltip,plugin_legend);const RetailerDependencyRisk=({distributorId:Ce})=>{const[Re,je]=reactExports.useState([]),[Be,De]=reactExports.useState(!1);reactExports.useEffect(()=>{Ce&&(async()=>{const ke=collection(db$2,"businesses",Ce,"orderRequests"),Me=await getDocs(ke),Ue={};let $e=0;Me.forEach(qe=>{const Xe=qe.data().retailerName||"Unknown";Ue[Xe]=(Ue[Xe]||0)+1,$e+=1});const He=Object.entries(Ue).sort((qe,Ke)=>Ke[1]-qe[1]).map(([qe,Ke])=>({name:qe,count:Ke})),We=He.slice(0,3).reduce((qe,Ke)=>qe+Ke.count,0)/$e*100;De(We>60),je(He)})()},[Ce]);const Fe={labels:Re.map(Oe=>Oe.name),datasets:[{data:Re.map(Oe=>Oe.count),backgroundColor:["#4CAF50","#FF9800","#2196F3","#F44336","#9C27B0","#3F51B5","#009688","#FF5722","#607D8B"]}]};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Retailer Dependency Risk"}),Re.length===0?jsxRuntimeExports.jsx("p",{children:"No data yet."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Pie,{data:Fe}),Be&&jsxRuntimeExports.jsx("p",{className:"mt-4 text-red-600 font-medium",children:" High dependency on a few retailers. Consider diversifying your reach."})]})]})},BrandPerformanceTracker=({distributorId:Ce})=>{const[Re,je]=reactExports.useState([]);return reactExports.useEffect(()=>{Ce&&(async()=>{const De=collection(db$2,"businesses",Ce,"orderRequests"),Fe=await getDocs(De),Oe={};Fe.forEach(Me=>{const Ue=Me.data();Ue.status==="Delivered"&&Array.isArray(Ue.items)&&Ue.items.forEach($e=>{const He=$e.brand||"Unknown",Qe=parseInt($e.quantity)||0,We=($e.unitPrice||0)*Qe,qe=($e.price||0)*Qe,Ke=We-qe;Oe[He]||(Oe[He]={quantity:0,revenue:0,profit:0}),Oe[He].quantity+=Qe,Oe[He].revenue+=We,Oe[He].profit+=Ke})});const ke=Object.entries(Oe).map(([Me,Ue])=>({brand:Me,...Ue}));ke.sort((Me,Ue)=>Ue.profit-Me.profit),je(ke)})()},[Ce]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Brand Performance Tracker"}),Re.length===0?jsxRuntimeExports.jsx("p",{children:"No brand data available."}):jsxRuntimeExports.jsxs("table",{className:"w-full text-sm mt-2",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left border-b",children:[jsxRuntimeExports.jsx("th",{className:"py-1",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Units Sold"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Revenue"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Profit"})]})}),jsxRuntimeExports.jsx("tbody",{children:Re.map((Be,De)=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"py-1",children:Be.brand}),jsxRuntimeExports.jsx("td",{className:"py-1",children:Be.quantity}),jsxRuntimeExports.jsxs("td",{className:"py-1",children:["",Be.revenue]}),jsxRuntimeExports.jsxs("td",{className:"py-1",children:["",Be.profit]})]},De))})]})]})},DailySmartSummary=({distributorId:Ce})=>{const[Re,je]=reactExports.useState({totalOrders:0,totalRevenue:0,totalProfit:0,avgProfitPercent:0});return reactExports.useEffect(()=>{Ce&&(async()=>{const De=dayjs().startOf("day").toDate(),Fe=dayjs().endOf("day").toDate(),Oe=collection(db$2,"businesses",Ce,"orderRequests"),ke=query(Oe,where("status","==","Delivered"),where("timestamp",">=",Timestamp.fromDate(De)),where("timestamp","<=",Timestamp.fromDate(Fe))),Me=await getDocs(ke);let Ue=0,$e=0,He=0;Me.forEach(We=>{const qe=We.data();Ue+=1,$e+=qe.totalAmount||0,Array.isArray(qe.items)&&qe.items.forEach(Ke=>{const Xe=(Ke.unitPrice||0)-(Ke.price||0);He+=Xe*(parseInt(Ke.quantity)||0)})});const Qe=$e>0?(He/$e*100).toFixed(2):0;je({totalOrders:Ue,totalRevenue:$e,totalProfit:He,avgProfitPercent:Qe})})()},[Ce]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Todays Smart Summary"}),jsxRuntimeExports.jsxs("p",{children:[" Orders Delivered: ",jsxRuntimeExports.jsx("strong",{children:Re.totalOrders})]}),jsxRuntimeExports.jsxs("p",{children:[" Revenue: ",jsxRuntimeExports.jsxs("strong",{children:["",Re.totalRevenue]})]}),jsxRuntimeExports.jsxs("p",{children:[" Profit: ",jsxRuntimeExports.jsxs("strong",{children:["",Re.totalProfit]})," (",Re.avgProfitPercent,"% avg profit)"]})]})},DistributorAnalytics=({distributorId:Ce})=>{console.log(" DistributorAnalytics loaded with distributorId:",Ce);const[Re,je]=reactExports.useState(0),[Be,De]=reactExports.useState(0),[Fe,Oe]=reactExports.useState([]),ke=getFirestore();return reactExports.useEffect(()=>{if(!Ce)return;(async()=>{try{const Ue=collection(ke,"businesses",Ce,"orderRequests"),$e=await getDocs(Ue);je($e.size)}catch(Ue){console.error("Failed to fetch analytics:",Ue)}})()},[Ce]),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Analytics"}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow rounded p-6 grid gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"Total Orders Fulfilled"}),jsxRuntimeExports.jsx("p",{className:"text-2xl",children:Re})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"Avg. Dispatch Time (mins)"}),jsxRuntimeExports.jsx("p",{className:"text-2xl",children:Be})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"Top Requested Products"}),Fe.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"No data yet."}):jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside",children:Fe.map((Me,Ue)=>jsxRuntimeExports.jsx("li",{children:Me.name},Ue))})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 grid gap-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:"Advanced Insights"}),jsxRuntimeExports.jsx(DispatchSpeedTracker,{distributorId:Ce}),jsxRuntimeExports.jsx(InventoryDrainForecast,{distributorId:Ce}),jsxRuntimeExports.jsx(RetailerDependencyRisk,{distributorId:Ce}),jsxRuntimeExports.jsx(BrandPerformanceTracker,{distributorId:Ce}),jsxRuntimeExports.jsx(DailySmartSummary,{distributorId:Ce})]})]})},ManageRetailers=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{children:"Manage Retailers"}),jsxRuntimeExports.jsx("p",{children:"This is the Manage Retailers placeholder component."})]}),DistributorHome=()=>{const[Ce,Re]=reactExports.useState({totalOrders:0,pendingOrders:0,completedOrders:0,totalRevenue:0,dueCreditTotal:0,inventoryCount:0,lowStockCount:0,yetToShip:0,outForDelivery:0}),[je,Be]=reactExports.useState({overdue:[],today:[],tomorrow:[],upcoming:[],totals:{overdue:0,today:0,tomorrow:0,upcoming:0,allDue:0}}),[De,Fe]=reactExports.useState({bucket:"ALL",sort:"dueDate",dir:"asc",query:""}),[Oe,ke]=reactExports.useState({}),Me=Ye=>ke(Ze=>({...Ze,[Ye]:!Ze[Ye]})),Ue=Ye=>{if(!Ye)return null;if(typeof Ye.toDate=="function")return Ye.toDate();if(Ye.seconds)return new Date(Ye.seconds*1e3);const Ze=new Date(Ye);return isNaN(Ze.getTime())?null:Ze},$e=Ye=>{const Ze=Ue(Ye.creditDueDate||Ye.dueDate);if(Ze)return Ze;const Je=Ue(Ye.deliveredAt),tr=Number(Ye.creditDays||0);if(!Je||!tr)return null;const rr=new Date(Je);return rr.setDate(rr.getDate()+tr),rr},He=Ye=>{if(!Ye)return null;const Ze=new Date;Ze.setHours(0,0,0,0);const Je=new Date(Ye);return Je.setHours(0,0,0,0),Math.round((Je.getTime()-Ze.getTime())/(1e3*60*60*24))};reactExports.useEffect(()=>{(async()=>{const Ze=auth$2.currentUser?.uid;if(Ze)try{const Je=await getDocs(collection(db$2,`businesses/${Ze}/orderRequests`));let tr=0,rr=0,ar=0,nr=0,sr=0,dr=0;const _r=[],fr=[],or=[],Er=[];Je.forEach(br=>{const wr=br.data();if(tr++,(wr.status==="Accepted"||wr.status==="Modified")&&sr++,(wr.status==="Shipped"||wr.status==="Out for Delivery")&&dr++,wr.status==="Delivered"){if(rr++,wr.isPaid===!0)ar+=Number(wr.totalAmount||0);else if(wr.isPaid===!1){const Br=Number(wr.totalAmount||0);nr+=Br;const Lr=$e(wr),yr=He(Lr),vr={id:br.id,retailerId:wr.retailerId,retailer:wr.retailerBusinessName||wr.retailerName||"N/A",amount:Br,dueDate:Lr,daysLeft:yr,deliveredAt:Ue(wr.deliveredAt),creditDays:Number(wr.creditDays||0),paymentMode:wr.paymentMode||wr.paymentMethod||"Credit Cycle"};yr===0?fr.push(vr):yr===1?or.push(vr):yr<0?_r.push(vr):Er.push(vr)}}});const Rr=await getDocs(collection(db$2,`businesses/${Ze}/products`));let jr=0,xr=0;Rr.forEach(br=>{const wr=br.data();jr++,wr.quantity<5&&xr++}),Re({totalOrders:tr,pendingOrders:sr+dr,completedOrders:rr,totalRevenue:ar,dueCreditTotal:nr,inventoryCount:jr,lowStockCount:xr,yetToShip:sr,outForDelivery:dr});const Pr=(br,wr)=>(br.dueDate?.getTime?.()||0)-(wr.dueDate?.getTime?.()||0);_r.sort(Pr),fr.sort(Pr),or.sort(Pr),Er.sort(Pr),Be({overdue:_r,today:fr,tomorrow:or,upcoming:Er,totals:{overdue:_r.reduce((br,wr)=>br+wr.amount,0),today:fr.reduce((br,wr)=>br+wr.amount,0),tomorrow:or.reduce((br,wr)=>br+wr.amount,0),upcoming:Er.reduce((br,wr)=>br+wr.amount,0),allDue:_r.concat(fr,or,Er).reduce((br,wr)=>br+wr.amount,0)}})}catch(Je){console.error("Error loading distributor stats:",Je)}})()},[]);const Qe=()=>{let Ye=[...je.overdue,...je.today,...je.tomorrow,...je.upcoming];De.bucket!=="ALL"&&(Ye={OVERDUE:je.overdue,TODAY:je.today,TOMORROW:je.tomorrow,UPCOMING:je.upcoming}[De.bucket]||Ye);const Ze=(De.query||"").toLowerCase();Ze&&(Ye=Ye.filter(tr=>(tr.retailer||"").toLowerCase().includes(Ze)||(tr.id||"").toLowerCase().includes(Ze)));const Je=De.dir==="desc"?-1:1;return Ye.sort((tr,rr)=>{if(De.sort==="amount")return(Number(tr.amount)-Number(rr.amount))*Je;if(De.sort==="retailer")return(tr.retailer||"").localeCompare(rr.retailer||"")*Je;const ar=tr.dueDate?new Date(tr.dueDate).getTime():0,nr=rr.dueDate?new Date(rr.dueDate).getTime():0;return(ar-nr)*Je}),Ye},We=Ye=>{Be(Ze=>{const Je=dr=>dr.filter(_r=>_r.id!==Ye),tr=Je(Ze.overdue),rr=Je(Ze.today),ar=Je(Ze.tomorrow),nr=Je(Ze.upcoming),sr=dr=>dr.reduce((_r,fr)=>_r+Number(fr.amount||0),0);return{overdue:tr,today:rr,tomorrow:ar,upcoming:nr,totals:{overdue:sr(tr),today:sr(rr),tomorrow:sr(ar),upcoming:sr(nr),allDue:sr(tr)+sr(rr)+sr(ar)+sr(nr)}}})},qe=async Ye=>{try{const Ze=auth$2.currentUser?.uid;if(!Ze)return;const Je=doc(db$2,`businesses/${Ze}/orderRequests/${Ye.id}`),tr=Ye.retailerId?doc(db$2,`businesses/${Ye.retailerId}/sentOrders/${Ye.id}`):null,rr={isPaid:!0,paymentStatus:"Paid",paidAt:new Date().toISOString()};await updateDoc(Je,rr),tr&&await updateDoc(tr,rr),We(Ye.id)}catch(Ze){console.error("Failed to mark paid:",Ze),alert("Failed to mark paid. Please try again.")}},Ke=async Ye=>{try{const Ze=Number(Ye.creditDays||15),Je=window.prompt("Set new total credit days for this order",String(Ze));if(Je===null)return;const tr=Number(Je);if(!Number.isFinite(tr)||tr<=0){alert("Invalid number of days");return}const rr=Ye.deliveredAt?new Date(Ye.deliveredAt):new Date,ar=new Date(rr);ar.setDate(ar.getDate()+tr);const nr=auth$2.currentUser?.uid;if(!nr)return;const sr=doc(db$2,`businesses/${nr}/orderRequests/${Ye.id}`),dr=Ye.retailerId?doc(db$2,`businesses/${Ye.retailerId}/sentOrders/${Ye.id}`):null,_r={creditDays:tr,creditDueDate:ar.toISOString()};await updateDoc(sr,_r),dr&&await updateDoc(dr,_r),Be(fr=>{const or=br=>br.map(wr=>wr.id===Ye.id?{...wr,creditDays:tr,dueDate:ar,daysLeft:He(ar)}:wr),Er=or(fr.overdue),Rr=or(fr.today),jr=or(fr.tomorrow),xr=or(fr.upcoming),Pr=br=>br.reduce((wr,Br)=>wr+Number(Br.amount||0),0);return{overdue:Er,today:Rr,tomorrow:jr,upcoming:xr,totals:{overdue:Pr(Er),today:Pr(Rr),tomorrow:Pr(jr),upcoming:Pr(xr),allDue:Pr(Er)+Pr(Rr)+Pr(jr)+Pr(xr)}}})}catch(Ze){console.error("Failed to extend credit:",Ze),alert("Failed to update credit days.")}},Xe=()=>{try{const Ze=window.location.hash||"#/distributor-dashboard",[Je]=Ze.split("?"),tr=new URLSearchParams;tr.set("tab","track-orders"),tr.set("sub","payment-due"),window.location.hash=`${Je}?${tr.toString()}`}catch{window.location.hash="#/distributor-dashboard?tab=track-orders&sub=payment-due"}};return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"p-6 space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold",children:" Distributor Business Snapshot"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Total Orders"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:Ce.totalOrders})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Pending Orders"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Ce.pendingOrders}),jsxRuntimeExports.jsxs("div",{className:"mt-2 text-xs text-gray-500 space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:" Yet to ship"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-700",children:Ce.yetToShip})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:" Out for delivery"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-700",children:Ce.outForDelivery})]})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Completed Orders"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-600",children:Ce.completedOrders})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Total Revenue (Paid)"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",Ce.totalRevenue.toFixed(2)]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.45},className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Due Credit Total"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",Ce.dueCreditTotal.toFixed(2)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-5 mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:" Credit Due Snapshot"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-red-100 text-red-700 font-semibold",children:["Overdue: ",je.totals.overdue.toLocaleString()]}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-orange-100 text-orange-700 font-semibold",children:["Today: ",je.totals.today.toLocaleString()]}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-100 text-amber-700 font-semibold",children:["Tomorrow: ",je.totals.tomorrow.toLocaleString()]}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-blue-100 text-blue-700 font-semibold",children:["Upcoming: ",je.totals.upcoming.toLocaleString()]}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-purple-100 text-purple-700 font-semibold",children:["Total: ",je.totals.allDue.toLocaleString()]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3 text-sm",children:[jsxRuntimeExports.jsxs("select",{className:"border rounded px-2 py-1",value:De.bucket,onChange:Ye=>Fe(Ze=>({...Ze,bucket:Ye.target.value})),"aria-label":"Filter bucket",children:[jsxRuntimeExports.jsx("option",{value:"ALL",children:"All"}),jsxRuntimeExports.jsx("option",{value:"OVERDUE",children:"Overdue"}),jsxRuntimeExports.jsx("option",{value:"TODAY",children:"Due Today"}),jsxRuntimeExports.jsx("option",{value:"TOMORROW",children:"Due Tomorrow"}),jsxRuntimeExports.jsx("option",{value:"UPCOMING",children:"Upcoming"})]}),jsxRuntimeExports.jsxs("select",{className:"border rounded px-2 py-1",value:De.sort,onChange:Ye=>Fe(Ze=>({...Ze,sort:Ye.target.value})),"aria-label":"Sort by",children:[jsxRuntimeExports.jsx("option",{value:"dueDate",children:"Sort: Due date"}),jsxRuntimeExports.jsx("option",{value:"amount",children:"Sort: Amount"}),jsxRuntimeExports.jsx("option",{value:"retailer",children:"Sort: Retailer"})]}),jsxRuntimeExports.jsxs("select",{className:"border rounded px-2 py-1",value:De.dir,onChange:Ye=>Fe(Ze=>({...Ze,dir:Ye.target.value})),"aria-label":"Sort direction",children:[jsxRuntimeExports.jsx("option",{value:"asc",children:"Asc"}),jsxRuntimeExports.jsx("option",{value:"desc",children:"Desc"})]}),jsxRuntimeExports.jsx("input",{type:"text",className:"border rounded px-2 py-1 flex-1 min-w-[160px]",placeholder:"Search retailer or order ID",value:De.query,onChange:Ye=>Fe(Ze=>({...Ze,query:Ye.target.value}))})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full table-auto",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-600",children:"Retailer"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-gray-600",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-600",children:"Due Date"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-600",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-gray-600",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:(()=>{const Ye=Qe().slice(0,12);return Ye.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:5,className:"px-3 py-6 text-center text-gray-500",children:"No credit dues found."})}):Ye.map(Ze=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("td",{className:"px-3 py-2 text-sm font-medium text-gray-800",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Me(Ze.id),className:"text-blue-600 hover:underline mr-2",children:Oe[Ze.id]?"Hide":"Show"}),Ze.retailer,jsxRuntimeExports.jsxs("div",{className:"text-[11px] text-gray-500",children:["#",Ze.id.slice(0,8)]})]}),jsxRuntimeExports.jsxs("td",{className:"px-3 py-2 text-sm text-right",children:["",Number(Ze.amount||0).toLocaleString()]}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-sm",children:Ze.dueDate?new Date(Ze.dueDate).toLocaleDateString("en-GB"):""}),jsxRuntimeExports.jsxs("td",{className:"px-3 py-2 text-sm",children:[Ze.daysLeft<0&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-red-100 text-red-700 text-xs font-semibold",children:[Math.abs(Ze.daysLeft)," day(s) overdue"]}),Ze.daysLeft===0&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-orange-100 text-orange-700 text-xs font-semibold",children:"Due today"}),Ze.daysLeft===1&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-amber-100 text-amber-700 text-xs font-semibold",children:"Due tomorrow"}),Ze.daysLeft>1&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-blue-100 text-blue-700 text-xs font-semibold",children:[Ze.daysLeft," days left"]})]}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-sm text-right",children:jsxRuntimeExports.jsxs("div",{className:"inline-flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>qe(Ze),className:"px-2 py-1 rounded bg-green-600 text-white text-xs hover:bg-green-700",children:"Mark Paid"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ke(Ze),className:"px-2 py-1 rounded bg-blue-600 text-white text-xs hover:bg-blue-700",children:"Extend"})]})})]}),Oe[Ze.id]&&jsxRuntimeExports.jsx("tr",{className:"border-t bg-gray-50",children:jsxRuntimeExports.jsx("td",{colSpan:5,className:"px-4 py-3 text-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-gray-600 text-xs",children:"Delivered"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:Ze.deliveredAt?new Date(Ze.deliveredAt).toLocaleDateString("en-GB"):""})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-gray-600 text-xs",children:"Credit Days"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:Ze.creditDays||""})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-gray-600 text-xs",children:"Payment Mode"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:Ze.paymentMode})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{onClick:Xe,className:"text-blue-600 hover:underline",children:"Open in Track Orders"})})]})})})]},Ze.id))})()})]})}),jsxRuntimeExports.jsx("div",{className:"mt-3 text-right text-sm",children:jsxRuntimeExports.jsx("button",{onClick:Xe,className:"text-blue-600 hover:underline",children:"Go to Track Orders  Payment Due"})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:" Order Trends"}),jsxRuntimeExports.jsx("div",{className:"h-40 bg-gray-100 rounded animate-pulse flex items-center justify-center text-gray-400",children:"Loading chart..."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:" Revenue Insights"}),jsxRuntimeExports.jsx("div",{className:"h-40 bg-gray-100 rounded animate-pulse flex items-center justify-center text-gray-400",children:"Loading chart..."})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4 mt-6 hover:shadow-lg transition duration-300",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:" Todays Collection Schedule"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Data will list retailers with dues today (future enhancement)"})]})]})},DistributorDashboard=()=>{const Ce=useNavigate(),[Re,je]=reactExports.useState(0),[Be,De]=reactExports.useState(0),[Fe,Oe]=reactExports.useState(0),[ke,Me]=reactExports.useState("dashboard"),Ue={dashboard:"dashboard",retailerRequests:"retailer-requests",inventory:"inventory",dispatch:"track-orders",analytics:"analytics",manageRetailers:"manage-retailers"},$e={dashboard:"dashboard","retailer-requests":"retailerRequests",inventory:"inventory","track-orders":"dispatch",analytics:"analytics","manage-retailers":"manageRetailers"};reactExports.useEffect(()=>{const Xe=()=>{const Ye=window.location.hash||"",Ze=Ye.indexOf("?");if(Ze===-1)return;const tr=(new URLSearchParams(Ye.substring(Ze+1)).get("tab")||"").toLowerCase();$e[tr]&&Me($e[tr])};return Xe(),window.addEventListener("hashchange",Xe),()=>window.removeEventListener("hashchange",Xe)},[]);const He=Xe=>{Me(Xe);try{const Ye=window.location.hash||"#/distributor-dashboard",[Ze,Je=""]=Ye.split("?"),tr=new URLSearchParams(Je),rr=Ue[Xe]||"dashboard";tr.set("tab",rr),rr!=="track-orders"&&tr.delete("sub");const ar=`${Ze}?${tr.toString()}`;ar!==Ye&&window.history.replaceState(null,"",ar)}catch{}},[Qe,We]=reactExports.useState(null),qe=getFirestore();reactExports.useEffect(()=>{(async()=>{const Ye=auth$2.currentUser;if(!Ye)return;const Ze=doc(qe,"businesses",Ye.uid),Je=await getDoc(Ze);Je.exists()&&We(Je.data());const tr=collection(qe,"businesses",Ye.uid,"retailerRequests"),rr=collection(qe,"businesses",Ye.uid,"products"),ar=collection(qe,"businesses",Ye.uid,"dispatches"),[nr,sr,dr]=await Promise.all([getDocs(tr),getDocs(rr),getDocs(ar)]);je(nr.size),De(sr.size),Oe(dr.size)})()},[]);const Ke=async()=>{await signOut(auth$2),Ce("/")};return jsxRuntimeExports.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-100 font-sans",children:[jsxRuntimeExports.jsxs("aside",{className:"w-64 bg-blue-900 text-white shadow-lg p-5 flex flex-col justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold tracking-wide text-white mb-6",children:"FLYP"}),jsxRuntimeExports.jsxs("nav",{className:"space-y-4 mt-20",children:[jsxRuntimeExports.jsx("button",{onClick:()=>He("dashboard"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${ke==="dashboard"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:" Dashboard"}),jsxRuntimeExports.jsx("button",{onClick:()=>He("retailerRequests"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${ke==="retailerRequests"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:" Retailer Requests"}),jsxRuntimeExports.jsx("button",{onClick:()=>He("inventory"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${ke==="inventory"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:" Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>He("dispatch"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${ke==="dispatch"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:" Dispatch Tracker"}),jsxRuntimeExports.jsx("button",{onClick:()=>He("analytics"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${ke==="analytics"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:" Analytics"}),jsxRuntimeExports.jsx("button",{onClick:()=>He("manageRetailers"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${ke==="manageRetailers"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:" Manage Retailers"})]})]}),jsxRuntimeExports.jsx("button",{onClick:Ke,className:"bg-red-600 hover:bg-red-700 py-2 rounded text-sm mt-6",children:"Sign Out"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto transition-all duration-300 ease-in-out flex flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"sticky top-0 z-10 bg-white px-6 py-3 shadow flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Distributor Dashboard"})}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-700",children:Qe?.businessName||"Distributor"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:auth$2.currentUser?.email}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",auth$2.currentUser?.uid]})]})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 relative",children:jsxRuntimeExports.jsxs(AnimatePresence,{mode:"wait",children:[ke==="dashboard"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:jsxRuntimeExports.jsx(DistributorHome,{})},"dashboard"),ke==="retailerRequests"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:jsxRuntimeExports.jsx(RetailerRequests,{db:qe,auth:auth$2})},"retailerRequests"),ke==="inventory"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:jsxRuntimeExports.jsx(DistributorInventory,{db:qe,auth:auth$2})},"inventory"),ke==="dispatch"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:jsxRuntimeExports.jsx(DispatchTracker,{db:qe,auth:auth$2})},"dispatch"),ke==="analytics"&&auth$2?.currentUser&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:jsxRuntimeExports.jsx(DistributorAnalytics,{distributorId:auth$2.currentUser.uid})},"analytics"),ke==="manageRetailers"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:jsxRuntimeExports.jsx(ManageRetailers,{db:qe,auth:auth$2})},"manageRetailers")]})})]})]})},ProductOwnerDashboard=()=>{const Ce=useNavigate(),Re=async()=>{try{await signOut(auth$2),Ce("/")}catch(je){console.error("Sign out error:",je)}};return jsxRuntimeExports.jsxs("div",{className:"flex h-screen",children:[jsxRuntimeExports.jsxs("div",{className:"w-64 bg-gray-900 text-white p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Product Owner"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-4",children:[jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Dashboard"}),jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Production"}),jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Inventory"}),jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Reports"}),jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Business Insights"})]}),jsxRuntimeExports.jsx("button",{onClick:Re,className:"mt-12 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded",children:"Sign Out"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 bg-gray-100 p-10 overflow-y-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-semibold mb-6",children:"Welcome Product Owner!"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Here's your central hub to manage production cycles, oversee inventory, and analyze supply performance."}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white shadow p-6 rounded",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"Active Products"}),jsxRuntimeExports.jsx("p",{className:"text-green-600 text-3xl mt-2",children:"145"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow p-6 rounded",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"Production Units"}),jsxRuntimeExports.jsx("p",{className:"text-blue-600 text-3xl mt-2",children:"32"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow p-6 rounded",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"Pending Shipments"}),jsxRuntimeExports.jsx("p",{className:"text-orange-600 text-3xl mt-2",children:"9"})]})]})]})]})},AddInventoryOptions=()=>{const[Ce,Re]=reactExports.useState(null),je=()=>Ce==="manual"?jsxRuntimeExports.jsxs("form",{className:"space-y-4 mt-6 bg-white p-6 rounded shadow",onSubmit:async Be=>{Be.preventDefault();const De=getAuth(),Fe=getFirestore(app),Oe=De.currentUser;if(!Oe){alert("User not authenticated");return}const ke=new FormData(Be.target),Me={productName:ke.get("productName"),sku:ke.get("sku"),brand:ke.get("brand"),category:ke.get("category"),quantity:parseInt(ke.get("quantity")),unit:ke.get("unit"),costPrice:parseFloat(ke.get("costPrice")),sellingPrice:parseFloat(ke.get("sellingPrice")),description:ke.get("description"),timestamp:serverTimestamp()};try{await addDoc(collection(Fe,"businesses",Oe.uid,"products"),Me),alert("Product added successfully!"),Be.target.reset(),Re(null)}catch(Ue){console.error("Error adding product:",Ue),alert("Failed to add product.")}},id:"add-product-form",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"productName",placeholder:"Product Name",className:"w-full border p-2 rounded",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"sku",placeholder:"SKU",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"text",name:"brand",placeholder:"Brand",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"text",name:"category",placeholder:"Category",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"number",name:"quantity",placeholder:"Quantity",className:"w-full border p-2 rounded",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"unit",placeholder:"Unit (e.g. pcs, box)",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"number",name:"costPrice",placeholder:"Cost Price",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"number",name:"sellingPrice",placeholder:"Selling Price",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsx("textarea",{name:"description",placeholder:"Description",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsx("input",{type:"file",name:"productImage",accept:"image/*",className:"w-full border p-2 rounded"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-4",children:[jsxRuntimeExports.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded",children:"Submit"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Re(null),className:"bg-red-500 text-white px-4 py-2 rounded",children:"Cancel"})]})]}):Ce==="ocr"?jsxRuntimeExports.jsx("div",{className:"mt-6 text-gray-500",children:"OCR form coming soon."}):Ce==="ai"?jsxRuntimeExports.jsx("div",{className:"mt-6 text-gray-500",children:"AI auto-generation coming soon."}):null;return jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Select Inventory Input Method"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Re("manual"),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Manual Entry"}),jsxRuntimeExports.jsx("button",{onClick:()=>Re("ocr"),className:"bg-yellow-600 text-white px-4 py-2 rounded",children:"OCR Upload"}),jsxRuntimeExports.jsx("button",{onClick:()=>Re("ai"),className:"bg-purple-600 text-white px-4 py-2 rounded",children:"AI Generate"})]}),je()]})},ItemGroups=()=>jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Item Groups"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"This section will allow users to group similar items together (like variants or combos)."}),jsxRuntimeExports.jsx("div",{className:"mt-6 border rounded p-4 bg-yellow-50 border-yellow-300",children:jsxRuntimeExports.jsx("p",{className:"text-yellow-800",children:" Feature coming soon: Add item groups by SKU, brand, or category."})})]}),LowStockAlerts=()=>{const[Ce,Re]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Be=getFirestore(app),Fe=getAuth(app).currentUser;if(Fe)try{const Oe=collection(Be,"businesses",Fe.uid,"products"),ke=query(Oe,where("quantity","<=",5)),Me=await getDocs(ke),Ue=[];Me.forEach($e=>{Ue.push({id:$e.id,...$e.data()})}),Re(Ue)}catch(Oe){console.error("Error fetching low stock items:",Oe)}})()},[]),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-4",children:"Low Stock Alerts"}),Ce.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:" All products are well-stocked!"}):jsxRuntimeExports.jsx("ul",{className:"divide-y divide-gray-200",children:Ce.map(je=>jsxRuntimeExports.jsxs("li",{className:"py-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-md font-medium text-gray-800",children:je.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",je.sku]})]}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold text-red-600",children:[je.quantity," left"]})]},je.id))})]})},Inventory=()=>{const[Ce,Re]=reactExports.useState("add"),je=()=>{try{switch(Ce){case"add":return jsxRuntimeExports.jsx(AddInventoryOptions,{});case"view":return jsxRuntimeExports.jsx(ViewInventory$1,{});case"groups":return jsxRuntimeExports.jsx(ItemGroups,{});case"alerts":return jsxRuntimeExports.jsx(LowStockAlerts,{});default:return jsxRuntimeExports.jsx("div",{className:"text-red-600",children:"Invalid tab selected"})}}catch(De){return jsxRuntimeExports.jsxs("div",{className:"text-red-600",children:["An error occurred while rendering the tab: ",De.message]})}},Be=De=>`px-4 py-2 rounded transition ${Ce===De?"bg-blue-600 text-white shadow":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`;return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-700 mb-4",children:"Inventory Management"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[jsxRuntimeExports.jsx("button",{className:Be("add"),onClick:()=>Re("add"),children:" Add Inventory"}),jsxRuntimeExports.jsx("button",{className:Be("view"),onClick:()=>Re("view"),children:" View Inventory"}),jsxRuntimeExports.jsx("button",{className:Be("groups"),onClick:()=>Re("groups"),children:" Item Groups"}),jsxRuntimeExports.jsx("button",{className:Be("alerts"),onClick:()=>Re("alerts"),children:" Low Stock Alerts"})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded shadow p-4 min-h-[200px]",children:je()})]})},InvoiceCard=({invoice:Ce})=>{const{customerInfo:Re,items:je,total:Be,subtotal:De,gst:Fe,createdAt:Oe,settings:ke}=Ce;return jsxRuntimeExports.jsx("div",{className:"w-full max-w-md mx-auto mb-4",children:jsxRuntimeExports.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 shadow-md bg-white hover:shadow-lg transition-all overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between items-center mb-2",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-base md:text-lg",children:[" ",ke?.invoiceType||"Invoice"]}),jsxRuntimeExports.jsx("span",{className:"text-xs md:text-sm text-gray-500",children:new Date(Oe).toLocaleDateString()})]}),jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-base md:text-sm",children:Re?.name}),jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:Re?.email}),jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:Re?.phone})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-2 text-xs md:text-sm",children:[je?.slice(0,3).map((Me,Ue)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between",children:[jsxRuntimeExports.jsxs("span",{children:[Me.name,"  ",Me.quantity]}),jsxRuntimeExports.jsxs("span",{children:["",Me.subtotal]})]},Ue)),je?.length>3&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:["+ ",je.length-3," more items"]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-2 mt-2 text-xs md:text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Subtotal"}),jsxRuntimeExports.jsxs("span",{children:["",De]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between",children:[jsxRuntimeExports.jsx("span",{children:"GST"}),jsxRuntimeExports.jsxs("span",{children:["",Fe]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between font-bold",children:[jsxRuntimeExports.jsx("span",{children:"Total"}),jsxRuntimeExports.jsxs("span",{children:["",Be]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 text-right",children:jsxRuntimeExports.jsx("button",{className:"text-blue-600 hover:underline text-xs md:text-sm",children:"View / Download"})})]})})},InvoicePreview=({invoice:Ce,onClose:Re})=>{if(!Ce)return null;const{customer:je,cartItems:Be,totalAmount:De,issuedAt:Fe,settings:Oe,paymentMode:ke}=Ce;return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-end",children:jsxRuntimeExports.jsxs("div",{className:"w-full sm:max-w-xl bg-white shadow-xl p-4 md:p-6 rounded-xl overflow-y-auto max-h-[90vh] space-y-4 pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)]",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:"Invoice Preview"}),jsxRuntimeExports.jsx("button",{onClick:Re,className:"text-red-500 font-bold text-lg",children:""})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Date: ",new Date(Fe).toLocaleString()]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Customer Info"}),jsxRuntimeExports.jsxs("p",{children:["Name: ",je?.name]}),jsxRuntimeExports.jsxs("p",{children:["Email: ",je?.email]}),jsxRuntimeExports.jsxs("p",{children:["Phone: ",je?.phone]}),jsxRuntimeExports.jsxs("p",{children:["Address: ",je?.address]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Items"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm border",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"text-left p-2 border",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"text-left p-2 border",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"text-left p-2 border",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"text-left p-2 border",children:"Total"})]})}),jsxRuntimeExports.jsx("tbody",{children:Be?.map((Me,Ue)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"p-2 border",children:Me.name}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:Me.quantity}),jsxRuntimeExports.jsxs("td",{className:"p-2 border",children:["",Me.price]}),jsxRuntimeExports.jsxs("td",{className:"p-2 border",children:["",(Me.quantity*Me.price*(1-(Me.discount||0)/100)).toFixed(2)]})]},Ue))})]})})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm border-t pt-4",children:[jsxRuntimeExports.jsxs("p",{className:"font-bold",children:["Total: ",De]}),jsxRuntimeExports.jsxs("p",{children:["Payment Mode: ",Oe?.paymentMode]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Download PDF"})})]})})},AllInvoices=()=>{const[Ce,Re]=reactExports.useState([]),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(null),[Oe,ke]=reactExports.useState(""),[Me,Ue]=reactExports.useState({from:"",to:""});reactExports.useEffect(()=>{(async()=>{const We=getAuth().currentUser;if(!We)return;const qe=collection(getFirestore(),`businesses/${We.uid}/finalizedInvoices`),Xe=(await getDocs(qe)).docs.map(Ye=>({id:Ye.id,...Ye.data()}));Re(Xe),Be(Xe)})()},[]),reactExports.useEffect(()=>{const Qe=Oe.toLowerCase(),We=Ce.filter(qe=>{const Ke=qe.customerInfo?.name?.toLowerCase().includes(Qe),Xe=qe.customerInfo?.email?.toLowerCase().includes(Qe),Ye=new Date(qe.createdAt),Ze=Me.from?new Date(Me.from):null,Je=Me.to?new Date(Me.to):null,tr=(!Ze||Ye>=Ze)&&(!Je||Ye<=Je);return(Ke||Xe)&&tr});Be(We)},[Oe,Me,Ce]);const $e=Qe=>Fe(Qe),He=()=>Fe(null);return jsxRuntimeExports.jsxs("div",{className:"px-4 py-6 md:px-6 pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)] space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg md:text-xl font-semibold mb-4",children:"All Invoices"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by customer name/email",value:Oe,onChange:Qe=>ke(Qe.target.value),className:"border border-gray-300 p-2 rounded w-full sm:max-w-xs text-sm"}),jsxRuntimeExports.jsx("input",{type:"date",value:Me.from,onChange:Qe=>Ue(We=>({...We,from:Qe.target.value})),className:"border border-gray-300 p-2 rounded w-full sm:max-w-xs text-sm"}),jsxRuntimeExports.jsx("input",{type:"date",value:Me.to,onChange:Qe=>Ue(We=>({...We,to:Qe.target.value})),className:"border border-gray-300 p-2 rounded w-full sm:max-w-xs text-sm"})]}),je.length===0?jsxRuntimeExports.jsx("p",{children:"No invoices found."}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:je.map(Qe=>jsxRuntimeExports.jsx(InvoiceCard,{invoice:Qe,onView:()=>$e(Qe)},Qe.id))}),De&&jsxRuntimeExports.jsx(InvoicePreview,{invoice:De,onClose:He})]})},__vite_import_meta_env__={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_REACT_APP_OCR_FUNCTION_URL:"https://ocrfromimage-rg2uh6cnqq-el.a.run.app"},auth$1=getAuth(app);try{typeof window<"u"&&["localhost","127.0.0.1"].includes(window.location.hostname)&&__vite_import_meta_env__?.VITE_BYPASS_PHONE_RECAPTCHA==="true"&&(auth$1.settings.appVerificationDisabledForTesting=!0,console.info("[Auth] appVerificationDisabledForTesting enabled on localhost via env flag"))}catch(Ce){}const db$1=getFirestore(app),genFlypId=()=>`FLYP-${Math.random().toString(36).slice(2,7).toUpperCase()}`;function validateGSTIN(Ce){if(!Ce)return{ok:!0,reason:""};const Re=Ce.toUpperCase().trim();return Re.length!==15?{ok:!1,reason:"GSTIN must be 15 characters"}:/^\d{2}[A-Z]{5}\d{4}[A-Z]{1}[A-Z0-9]{1}Z[A-Z0-9]{1}$/i.test(Re)?{ok:!0,reason:""}:{ok:!1,reason:"Format looks invalid"}}const ONLY_DIGITS=/[^0-9]/g;function sanitize10Digits(Ce=""){return(Ce||"").replace(ONLY_DIGITS,"").slice(0,10)}function toE164IN(Ce){return Ce?`+91${Ce}`:""}const Icon=({name:Ce,className:Re=""})=>{const je="h-5 w-5";return Ce==="user"?jsxRuntimeExports.jsxs("svg",{className:`${je} ${Re}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[jsxRuntimeExports.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"7",r:"4"})]}):Ce==="mail"?jsxRuntimeExports.jsxs("svg",{className:`${je} ${Re}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[jsxRuntimeExports.jsx("path",{d:"M4 4h16v16H4z",stroke:"currentColor",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M22 6l-10 7L2 6"})]}):Ce==="lock"?jsxRuntimeExports.jsxs("svg",{className:`${je} ${Re}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[jsxRuntimeExports.jsx("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),jsxRuntimeExports.jsx("path",{d:"M7 11V8a5 5 0 0 1 10 0v3"})]}):Ce==="gst"?jsxRuntimeExports.jsx("svg",{className:`${je} ${Re}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:jsxRuntimeExports.jsx("path",{d:"M4 7h16M4 12h16M4 17h10"})}):Ce==="spark"?jsxRuntimeExports.jsx("svg",{className:`${je} ${Re}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:jsxRuntimeExports.jsx("path",{d:"M12 2v5M12 17v5M2 12h5M17 12h5M5 5l3.5 3.5M15.5 15.5L19 19M5 19l3.5-3.5M15.5 8.5L19 5"})}):Ce==="google"?jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:`${Re}`,"aria-hidden":!0,children:[jsxRuntimeExports.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.156,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),jsxRuntimeExports.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,16.108,18.961,14,24,14c3.059,0,5.842,1.156,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),jsxRuntimeExports.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),jsxRuntimeExports.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.793,2.238-2.231,4.166-4.093,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C35.271,39.205,44,33.5,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}):Ce==="arrow-right"?jsxRuntimeExports.jsxs("svg",{className:`${Re}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[jsxRuntimeExports.jsx("path",{d:"M5 12h14"}),jsxRuntimeExports.jsx("path",{d:"M13 5l7 7-7 7"})]}):null},Register=({role:Ce="retailer"})=>{const[Re,je]=reactExports.useState({ownerName:"",email:"",password:"",confirmPassword:"",phone:"",gstin:"",agree:!1}),[Be,De]=reactExports.useState(!1),[Fe,Oe]=reactExports.useState({error:"",success:""}),ke=reactExports.useRef(null),Me=reactExports.useRef(null),Ue=useNavigate(),$e=rr=>{if(!ke.current)return;const ar=rr.currentTarget.getBoundingClientRect(),nr=(rr.clientX-ar.left)/ar.width*100,sr=(rr.clientY-ar.top)/ar.height*100;Me.current&&cancelAnimationFrame(Me.current),Me.current=requestAnimationFrame(()=>{ke.current.style.background=`radial-gradient(240px circle at ${nr}% ${sr}%, rgba(56,189,248,.20), transparent 60%)`})},He=reactExports.useRef(null),Qe=reactExports.useMemo(()=>validateGSTIN(Re.gstin),[Re.gstin]),We=rr=>je(ar=>{const{name:nr,type:sr,value:dr,checked:_r}=rr.target;let fr=sr==="checkbox"?_r:dr;return nr==="phone"&&(fr=sanitize10Digits(fr)),{...ar,[nr]:fr}}),qe=rr=>{const ar=new Date().toISOString(),nr=Ce.charAt(0).toUpperCase()+Ce.slice(1),sr=toE164IN(sanitize10Digits(Re.phone));return{ownerId:rr,name:(Re.ownerName||"").trim(),ownerName:(Re.ownerName||"").trim(),email:(Re.email||"").trim(),phone:sr,whatsappAlerts:!1,role:nr,businessType:nr,businessName:"",businessMode:"Online",invoicePreference:"Minimal",address:"",city:"",state:"",country:"India",zipcode:"",gstNumber:(Re.gstin||"").toUpperCase().trim(),logoUrl:"",flypId:genFlypId(),profileVersion:1,createdAt:ar,lastUpdated:ar}},Ke=async rr=>{const ar=qe(rr);await setDoc(doc(db$1,"businesses",rr),ar,{merge:!0})},Xe=async rr=>{rr.preventDefault(),Oe({error:"",success:""});const ar=toE164IN(sanitize10Digits(Re.phone));if(sanitize10Digits(Re.phone).length!==10)return Oe({error:"Please enter a valid 10-digit Indian mobile number.",success:""});if(!Re.agree)return Oe({error:"Please accept Terms & Privacy to continue.",success:""});if(!Qe.ok)return Oe({error:`GSTIN error: ${Qe.reason}`,success:""});if(Re.password!==Re.confirmPassword)return Oe({error:"Passwords do not match.",success:""});try{De(!0);const nr=query(collection(db$1,"businesses"),where("phone","==",ar));if(!(await getDocs(nr)).empty)return Oe({error:"Phone number already registered. Please sign in instead.",success:""});const dr=query(collection(db$1,"businesses"),where("email","==",Re.email.trim()));if(!(await getDocs(dr)).empty)return Oe({error:"Email already registered. Please sign in instead.",success:""});const or=(await __vitePreload(async()=>{const{createUserWithEmailAndPassword:Er}=await Promise.resolve().then(()=>index_esm);return{createUserWithEmailAndPassword:Er}},void 0,import.meta.url).then(({createUserWithEmailAndPassword:Er})=>Er(auth$1,Re.email.trim(),Re.password))).user;await updateProfile(or,{displayName:(Re.ownerName||"").trim()}),await Ke(or.uid),await sendEmailVerification(or),Oe({error:"",success:"Account created. Redirecting to dashboard"}),setTimeout(()=>Ue("/dashboard"),2e3)}catch(nr){if(console.error(nr),nr?.code==="auth/email-already-in-use")return Oe({error:"Email already registered. Please sign in.",success:""});Oe({error:nr?.message||"Signup failed",success:""})}finally{De(!1)}},Ye=async()=>{Oe({error:"",success:""});try{De(!0);const rr=new GoogleAuthProvider,nr=(await signInWithPopup(auth$1,rr)).user;(await getDocs(query(collection(db$1,"businesses"),where("email","==",nr.email)))).empty&&(await updateProfile(nr,{displayName:nr.displayName}),await Ke(nr.uid)),Oe({error:"",success:"Signed in with Google. Redirecting"}),setTimeout(()=>Ue("/dashboard"),1500)}catch(rr){console.error(rr),Oe({error:rr?.message||"Google sign-in failed",success:""})}finally{De(!1)}},Ze=Ce.charAt(0).toUpperCase()+Ce.slice(1),Je=Ze==="Retailer"?[{title:"Autobilling in seconds",text:"Scan, bill, and autodeduct stock  no spreadsheet drama."},{title:"Smart Inventory",text:"OCR + AI onboarding. Track lowstock. Forecast drain."},{title:"Connect to Distributors",text:"Send requests, compare, and track delivery to doorstep."}]:[{title:"Order Queue to Dispatch",text:"Accept, schedule, ship. Full traceability."},{title:"Inventory at a Glance",text:"Live stock, slow movers, brand performance."},{title:"Retailer Network",text:"Manage connections and automate reorders."}],tr=()=>{try{He.current?.scrollIntoView({behavior:"smooth",block:"center"})}catch{}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 -z-10",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[#0b1220]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 [background:radial-gradient(60%_50%_at_15%_10%,rgba(56,189,248,0.12),transparent_60%)]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 [background:radial-gradient(60%_50%_at_85%_90%,rgba(217,70,239,0.10),transparent_60%)]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,black_40%,transparent_100%)] bg-black/30 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-[0.05] bg-[url('data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%22160%22%20height=%22160%22%20viewBox=%220%200%20160%20160%22%3E%3Cfilter%20id=%22n%22%3E%3CfeTurbulence%20type=%22fractalNoise%22%20baseFrequency=%220.8%22%20numOctaves=%222%22/%3E%3C/filter%3E%3Crect%20width=%22160%22%20height=%22160%22%20filter=%22url(%23n)%22%20opacity=%220.6%22/%3E%3C/svg%3E')]"})]}),jsxRuntimeExports.jsxs("div",{className:"mx-auto max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-0 lg:gap-10 px-6 py-10 lg:py-20 relative",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:block",children:jsxRuntimeExports.jsxs("div",{className:"max-w-xl pr-4",children:[jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-2 px-2 py-0.5 rounded-md bg-white/5 text-[11px] tracking-widest uppercase text-cyan-200/90",children:[jsxRuntimeExports.jsx(Icon,{name:"spark"})," Why FLYP for ",Ze]}),jsxRuntimeExports.jsx("h2",{className:"mt-3 text-4xl font-extrabold tracking-tight text-white leading-tight",children:"Register in seconds. Operate without clutter."}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-slate-300/95 text-sm leading-relaxed",children:["The panel on the right is the ",jsxRuntimeExports.jsx("span",{className:"font-semibold text-white",children:"only registration form"}),". This left side is a quick overview to help you understand what you'll get after signup."]}),jsxRuntimeExports.jsx("div",{className:"mt-6 space-y-4",children:Je.map((rr,ar)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-gradient-to-r from-cyan-400 to-fuchsia-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-white",children:rr.title}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-300",children:rr.text})]})]},ar))}),jsxRuntimeExports.jsx("div",{className:"mt-8 h-px w-full bg-white/10"}),jsxRuntimeExports.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-xs text-slate-300",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-white",children:"Billing"}),jsxRuntimeExports.jsx("div",{children:"Autobilling, UPI/Cash/Card, credit cycles."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-white",children:"Inventory"}),jsxRuntimeExports.jsx("div",{children:"OCR/AI onboarding, lowstock alerts."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-white",children:"Connect"}),jsxRuntimeExports.jsx("div",{children:"Retailer  Distributor, dispatch tracking."})]})]}),jsxRuntimeExports.jsxs("button",{onClick:tr,className:"mt-8 inline-flex items-center gap-2 rounded-xl border border-cyan-400/30 bg-cyan-400/10 px-4 py-2 text-cyan-200 hover:text-white hover:bg-cyan-400/20 transition",children:["Go to registration",jsxRuntimeExports.jsx(Icon,{name:"arrow-right",className:"h-5 w-5"})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{onMouseMove:$e,className:"w-full max-w-md relative",children:[jsxRuntimeExports.jsx("div",{ref:ke,className:"pointer-events-none absolute -inset-16 rounded-[32px] blur-3xl opacity-40 transition-opacity"}),jsxRuntimeExports.jsx("div",{className:"absolute -inset-1 rounded-[22px] bg-gradient-to-r from-cyan-500/30 via-blue-500/30 to-fuchsia-500/30 blur-2xl"}),jsxRuntimeExports.jsxs("div",{className:"relative rounded-2xl border border-white/15 bg-white/10 backdrop-blur-xl shadow-[0_10px_40px_rgba(0,0,0,0.45)]",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-3 left-6 px-3 py-1 rounded-full text-[11px] font-semibold text-slate-900 bg-gradient-to-r from-emerald-300 to-cyan-300 shadow",children:"Start here"}),jsxRuntimeExports.jsxs("div",{className:"px-6 pt-6 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-cyan-200 to-white text-3xl font-extrabold tracking-tight",children:"Create your FLYP account"}),jsxRuntimeExports.jsx("p",{className:"text-slate-300 mt-1 text-sm",children:"30second signup. Finish the rest later in Profile Settings."})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 mt-5 flex items-center justify-between text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"text-slate-300",children:["Joining as ",jsxRuntimeExports.jsx("span",{className:"font-semibold text-white",children:Ze})]}),jsxRuntimeExports.jsxs("div",{className:"px-2 py-1 rounded-md bg-slate-900/40 border border-white/10 text-cyan-300 flex items-center gap-1",children:[jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[jsxRuntimeExports.jsx("path",{d:"M9 12l2 2 4-4"}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"9"})]}),jsxRuntimeExports.jsx("span",{children:"Protected by Firebase"})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 mt-4",children:[jsxRuntimeExports.jsxs("button",{onClick:Ye,disabled:Be,className:"w-full inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 bg-white text-slate-900 font-medium shadow hover:shadow-md transition active:scale-[0.99]",children:[jsxRuntimeExports.jsx(Icon,{name:"google",className:"h-5 w-5"}),"Continue with Google"]}),jsxRuntimeExports.jsxs("div",{className:"my-5 flex items-center gap-3 text-slate-400",children:[jsxRuntimeExports.jsx("div",{className:"h-px flex-1 bg-white/15"}),jsxRuntimeExports.jsx("span",{className:"text-[11px] uppercase tracking-widest",children:"or"}),jsxRuntimeExports.jsx("div",{className:"h-px flex-1 bg-white/15"})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Xe,className:"px-6 pb-6",children:[Fe.error&&jsxRuntimeExports.jsx("div",{className:"mb-3 text-red-300 text-sm",children:Fe.error}),Fe.success&&jsxRuntimeExports.jsx("div",{className:"mb-3 text-emerald-300 text-sm",children:Fe.success}),jsxRuntimeExports.jsxs("label",{className:"group relative block",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80",children:jsxRuntimeExports.jsx(Icon,{name:"user"})}),jsxRuntimeExports.jsx("input",{type:"text",name:"ownerName",placeholder:"Owner name",value:Re.ownerName,onChange:We,required:!0,className:"peer w-full pl-11 pr-3 py-3 rounded-xl bg-white/10 text-white border border-white/15 placeholder-white/60 outline-none focus:ring-2 focus:ring-cyan-400/80 focus:border-cyan-400/40 transition"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm mb-1 text-slate-200",children:"Phone"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center rounded-xl bg-white/10 text-white border border-white/15 focus-within:ring-2 focus-within:ring-cyan-400/80 focus-within:border-cyan-400/40",children:[jsxRuntimeExports.jsx("span",{className:"pl-3 pr-2 text-slate-300/90 select-none",children:"+91"}),jsxRuntimeExports.jsx("div",{className:"h-6 w-px bg-white/10"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phone",placeholder:"9876543210",value:Re.phone,onChange:We,required:!0,inputMode:"numeric",pattern:"[0-9]{10}",maxLength:10,autoComplete:"tel-national",className:"w-full bg-transparent px-3 py-3 outline-none placeholder-white/60","aria-label":"10-digit Indian mobile number"})]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Enter 10 digits. Country code is fixed to India (+91)."})]}),jsxRuntimeExports.jsxs("label",{className:"group relative block mt-3",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80",children:jsxRuntimeExports.jsx(Icon,{name:"mail"})}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",placeholder:"Email",value:Re.email,onChange:We,required:!0,className:"peer w-full pl-11 pr-3 py-3 rounded-xl bg-white/10 text-white border border-white/15 placeholder-white/60 outline-none focus:ring-2 focus:ring-cyan-400/80 focus:border-cyan-400/40 transition"})]}),jsxRuntimeExports.jsxs("label",{className:"group relative block mt-3",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80",children:jsxRuntimeExports.jsx(Icon,{name:"lock"})}),jsxRuntimeExports.jsx("input",{type:"password",name:"password",placeholder:"Password (min 6 chars)",value:Re.password,onChange:We,required:!0,minLength:6,className:"peer w-full pl-11 pr-3 py-3 rounded-xl bg-white/10 text-white border border-white/15 placeholder-white/60 outline-none focus:ring-2 focus:ring-cyan-400/80 focus:border-cyan-400/40 transition"})]}),jsxRuntimeExports.jsxs("label",{className:"group relative block mt-3",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80",children:jsxRuntimeExports.jsx(Icon,{name:"lock"})}),jsxRuntimeExports.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:Re.confirmPassword,onChange:We,required:!0,minLength:6,className:"peer w-full pl-11 pr-3 py-3 rounded-xl bg-white/10 text-white border border-white/15 placeholder-white/60 outline-none focus:ring-2 focus:ring-cyan-400/80 focus:border-cyan-400/40 transition"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"gstin",className:"text-slate-200 text-sm flex items-center gap-2",children:[jsxRuntimeExports.jsx(Icon,{name:"gst"})," GSTIN (optional)"]}),Re.gstin&&jsxRuntimeExports.jsx("span",{className:`text-xs ${Qe.ok?"text-emerald-300":"text-red-300"}`,children:Qe.ok?"Looks valid":Qe.reason})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80",children:jsxRuntimeExports.jsx(Icon,{name:"gst"})}),jsxRuntimeExports.jsx("input",{id:"gstin",type:"text",name:"gstin",placeholder:"E.g., 27ABCDE1234F1Z5",value:Re.gstin,onChange:We,className:"w-full pl-11 pr-3 py-3 rounded-xl bg-white/10 text-white border border-white/15 placeholder-white/60 outline-none focus:ring-2 focus:ring-cyan-400/80 focus:border-cyan-400/40 transition uppercase"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-slate-300 text-sm mt-4",children:[jsxRuntimeExports.jsx("input",{id:"agree",name:"agree",type:"checkbox",checked:Re.agree,onChange:We,className:"h-4 w-4 rounded border-white/20 bg-white/10"}),jsxRuntimeExports.jsxs("label",{className:"text-sm text-gray-300",children:["I agree to the"," ",jsxRuntimeExports.jsx("a",{href:"/terms.html",target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-300 hover:text-blue-400",children:"Terms"})," ","and"," ",jsxRuntimeExports.jsx("a",{href:"/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-300 hover:text-blue-400",children:"Privacy Policy"})]})]}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:Be||sanitize10Digits(Re.phone).length!==10,className:"mt-5 w-full relative overflow-hidden rounded-xl bg-gradient-to-r from-cyan-500 via-blue-500 to-fuchsia-500 py-3 font-semibold text-white shadow-lg transition [--shine:linear-gradient(120deg,transparent,rgba(255,255,255,.6),transparent)] hover:shadow-cyan-500/30 hover:-translate-y-0.5 transition-transform active:scale-[.99] disabled:opacity-60",children:[jsxRuntimeExports.jsx("span",{className:"relative z-10",children:Be?"Creating account":"Create account"}),jsxRuntimeExports.jsx("span",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity [background-image:var(--shine)] bg-[length:250%_100%] bg-[position:-100%_0] hover:animate-[shine_1.6s_ease-in-out_infinite]"})]}),jsxRuntimeExports.jsx("div",{className:"text-[11px] text-slate-400 mt-3",children:"Add business name, address, logo, and GST rates later in Profile Settings."})]})]})]})})]}),jsxRuntimeExports.jsx("style",{children:`
        @keyframes shine{to{background-position:200% 0}}
        @keyframes marquee{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
        .animate-marquee{display:inline-block;min-width:200%;animation:marquee 18s linear infinite}
      `})]})},auth=getAuth(app),db=getFirestore(app),Login=()=>{const Ce=useNavigate(),[Re,je]=reactExports.useState({email:"",password:""}),[Be,De]=reactExports.useState(""),Fe=ke=>{je(Me=>({...Me,[ke.target.name]:ke.target.value}))},Oe=async ke=>{ke.preventDefault(),De("");try{const Ue=(await signInWithEmailAndPassword(auth,Re.email,Re.password)).user,$e=await getDoc(doc(db,"businesses",Ue.uid));if(!$e.exists()){De(" User data not found in Firestore.");return}const Qe=$e.data().role;Ce(Qe==="retailer"?"/dashboard/inventory":Qe==="distributor"?"/dashboard/billing":"/dashboard/inventory")}catch(Me){De(Me.message)}};return jsxRuntimeExports.jsxs("div",{className:"p-8 bg-slate-900 text-white rounded-2xl shadow-xl w-full max-w-xl border border-slate-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Welcome Back"}),Be&&jsxRuntimeExports.jsx("div",{className:"text-red-400 mb-3 text-sm",children:Be}),jsxRuntimeExports.jsxs("form",{onSubmit:Oe,className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"email",name:"email",placeholder:"Email",value:Re.email,onChange:Fe,required:!0,className:"w-full px-4 py-2 rounded bg-slate-800 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),jsxRuntimeExports.jsx("input",{type:"password",name:"password",placeholder:"Password",value:Re.password,onChange:Fe,required:!0,className:"w-full px-4 py-2 rounded bg-slate-800 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 transition-all duration-300 text-white py-2 px-4 rounded-lg mt-2",children:"Sign In"})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-right",children:jsxRuntimeExports.jsx("button",{onClick:async()=>{await signOut(auth),Ce("/")},className:"text-sm text-red-400 hover:text-red-600 underline transition",children:"Sign Out"})})]})},AuthPage=()=>{const{user:Ce}=reactExports.useContext(AuthContext),Re=useNavigate();useLocation();const[je]=useSearchParams(),Be=je.get("type"),[De,Fe]=reactExports.useState(""),[Oe,ke]=reactExports.useState(!0);if(reactExports.useEffect(()=>{if(!Be){Re("/auth?type=login",{replace:!0});return}},[Be,Re]),reactExports.useEffect(()=>{Be==="login"?(async()=>{if(!Ce){ke(!1);return}try{const $e=doc(db$2,"businesses",Ce.uid),He=await getDoc($e);if(He.exists()){const We=He.data().role?.toLowerCase();Re(We==="retailer"?"/dashboard":We==="distributor"?"/distributor-dashboard":We==="productowner"||We==="product owner"?"/product-owner-dashboard":"/")}else console.warn("No user profile found in Firestore."),Re("/")}catch($e){console.error("Error fetching user role:",$e),Re("/")}finally{ke(!1)}})():ke(!1)},[Ce,Be]),Oe)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center",children:jsxRuntimeExports.jsx("p",{className:"text-white text-lg animate-pulse",children:"Loading..."})});const Me=Ue=>{Fe(Ue)};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center",children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Be==="register"&&!De&&jsxRuntimeExports.jsxs("div",{className:"relative w-full min-h-screen text-white",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 -z-10",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[#0b1220]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 [background:radial-gradient(60%_50%_at_15%_10%,rgba(56,189,248,0.12),transparent_60%)]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 [background:radial-gradient(60%_50%_at_85%_90%,rgba(217,70,239,0.10),transparent_60%)]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,black_40%,transparent_100%)] bg-black/30 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-[0.05] bg-[url('data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%22160%22%20height=%22160%22%20viewBox=%220%200%20160%20160%22%3E%3Cfilter%20id=%22n%22%3E%3CfeTurbulence%20type=%22fractalNoise%22%20baseFrequency=%220.8%22%20numOctaves=%222%22/%3E%3C/filter%3E%3Crect%20width=%22160%22%20height=%22160%22%20filter=%22url(%23n)%22%20opacity=%220.6%22/%3E%3C/svg%3E')]"})]}),jsxRuntimeExports.jsxs("div",{className:"mx-auto max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-0 lg:gap-10 px-6 py-16 lg:py-20 relative",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:block",children:jsxRuntimeExports.jsxs("div",{className:"max-w-xl pr-4",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center gap-2 px-2 py-0.5 rounded-md bg-white/5 text-[11px] tracking-widest uppercase text-cyan-200/90",children:"FLYP  Choose your role"}),jsxRuntimeExports.jsx("h2",{className:"mt-3 text-4xl font-extrabold tracking-tight text-white leading-tight",children:"Built for Retailers, Distributors, and Product Owners."}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-slate-300/95 text-sm leading-relaxed",children:"Pick the role that best describes your business. Youll get tailored dashboards, permissions, and workflows  no extra clutter."}),jsxRuntimeExports.jsxs("div",{className:"mt-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-gradient-to-r from-cyan-400 to-fuchsia-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-white",children:"Rolebased views"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-300",children:"We only show what matters to your job to keep things fast."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-gradient-to-r from-cyan-400 to-fuchsia-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-white",children:"Instant onboarding"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-300",children:"AI/OCR tooling to bring your catalog and billing live in minutes."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-gradient-to-r from-cyan-400 to-fuchsia-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-white",children:"Connected workflows"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-300",children:"Retailer  Distributor ordering, dispatch, and credit cycles."})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 h-px w-full bg-white/10"}),jsxRuntimeExports.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-xs text-slate-300",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-white",children:"Billing"}),jsxRuntimeExports.jsx("div",{children:"UPI/Cash/Card, credit cycles."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-white",children:"Inventory"}),jsxRuntimeExports.jsx("div",{children:"OCR & AI onboarding."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-white",children:"Dispatch"}),jsxRuntimeExports.jsx("div",{children:"Track requests to delivery."})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute -inset-1 rounded-2xl bg-gradient-to-r from-cyan-500/30 via-blue-500/30 to-fuchsia-500/30 blur-2xl"}),jsxRuntimeExports.jsxs("div",{className:"relative rounded-2xl border border-white/10 bg-white/10 backdrop-blur-xl p-8 shadow-2xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-2 text-center",children:"Select your role"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-300 text-center mb-6",children:"Well customize FLYP for your workflow."}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Me("Retailer"),"aria-label":"Select Retailer",className:"group w-full text-left rounded-xl border border-white/10 bg-white/5 p-5 transition-all hover:-translate-y-1 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-cyan-400/60",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-xl","aria-hidden":!0,children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-white font-semibold text-lg",children:"Retailer"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-300",children:"Sell to end customers with fast billing & inventory."})]})]})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Me("Distributor"),"aria-label":"Select Distributor",className:"group w-full text-left rounded-xl border border-white/10 bg-white/5 p-5 transition-all hover:-translate-y-1 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-cyan-400/60",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-xl","aria-hidden":!0,children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-white font-semibold text-lg",children:"Distributor"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-300",children:"Supply retailers, manage orders, dispatch & credit."})]})]})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Me("ProductOwner"),"aria-label":"Select Product Owner",className:"group w-full text-left rounded-xl border border-white/10 bg-white/5 p-5 transition-all hover:-translate-y-1 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-cyan-400/60",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-xl","aria-hidden":!0,children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-white font-semibold text-lg",children:"Product Owner"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-300",children:"Own the brand, track distributors & performance."})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-6",children:jsxRuntimeExports.jsx("button",{className:"text-sm text-slate-300 hover:text-white hover:bg-white/10 px-4 py-2 rounded transition-all",onClick:()=>Re("/"),children:"Cancel"})})]})]})})]})]}),Be==="register"&&De&&jsxRuntimeExports.jsx("div",{className:"animate-fadeInUp transition-all duration-500",children:jsxRuntimeExports.jsx(Register,{role:De})}),Be==="login"&&jsxRuntimeExports.jsx(Login,{})]})})},EmployeeLogin=()=>{const[Ce,Re]=reactExports.useState(""),[je,Be]=reactExports.useState(""),[De,Fe]=reactExports.useState(""),Oe=async()=>{const ke=Ce.trim().toUpperCase(),Me=je.trim(),Ue=De.trim();if(!ke||!Me||!Ue){y$2.error("Please fill in all fields");return}try{const $e=doc(db$2,"employeeIndex",ke),He=await getDoc($e);if(!He.exists()){y$2.error("Invalid FLYP ID");return}const Qe=He.data(),{uid:We,retailerId:qe,email:Ke}=Qe;console.log(" Resolved flypId:",ke),console.log(" Resolved UID from index:",We),console.log(" Retailer ID:",qe);const Ye=(await signInWithEmailAndPassword(auth$2,Ke,Ue)).user.uid;console.log(" Signed in Firebase UID:",Ye);const Ze=doc(db$2,"businesses",qe,"employees",Ye);console.log(" Fetching employee doc from path:",`businesses/${qe}/employees/${Ye}`);const Je=await getDoc(Ze);if(!Je.exists()){y$2.error("Employee not linked to this business");return}const tr=Je.data();if(tr.phone!==Me){y$2.error("Incorrect phone");return}localStorage.setItem("employeeRole",tr.role),localStorage.setItem("retailerId",qe),localStorage.setItem("employeeUID",Ye),await updateDoc(Ze,{online:!0,lastSeen:serverTimestamp()}),y$2.success(`Welcome ${tr.role}`),window.location.href="/employee-dashboard"}catch($e){console.error("Login error",$e.message),y$2.error("Login failed")}};return jsxRuntimeExports.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold mb-4",children:"Employee Login"}),jsxRuntimeExports.jsx("input",{className:"border p-2 w-full mb-2",placeholder:"FLYP ID",value:Ce,onChange:ke=>Re(ke.target.value)}),jsxRuntimeExports.jsx("input",{className:"border p-2 w-full mb-2",placeholder:"Phone Number",value:je,onChange:ke=>Be(ke.target.value)}),jsxRuntimeExports.jsx("input",{type:"password",className:"border p-2 w-full mb-2",placeholder:"Password",value:De,onChange:ke=>Fe(ke.target.value)}),jsxRuntimeExports.jsx("button",{onClick:Oe,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Login"})]})},PrivateRoute=({children:Ce})=>{const{user:Re,loading:je}=useAuth();return je?jsxRuntimeExports.jsx("div",{className:"text-center mt-20 text-gray-500",children:"Loading..."}):Re?Ce:jsxRuntimeExports.jsx(Navigate,{to:"/auth",replace:!0})},App=()=>jsxRuntimeExports.jsxs(AuthProvider,{children:[jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/auth/*",element:jsxRuntimeExports.jsx(AuthPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/employee-login",element:jsxRuntimeExports.jsx(EmployeeLogin,{})}),jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(RetailerDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/distributor-dashboard",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(DistributorDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/product-owner-dashboard",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(ProductOwnerDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/inventory",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Inventory,{})})}),jsxRuntimeExports.jsx(Route,{path:"/billing",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Billing,{})})}),jsxRuntimeExports.jsx(Route,{path:"/invoices",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(AllInvoices,{})})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/auth?type=login",replace:!0})})]}),jsxRuntimeExports.jsx(Lt,{position:"top-right",autoClose:3e3})]});ReactDOM$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(App,{})})})}));export{Component as C,Deferred as D,ErrorFactory as E,Logger as L,_getProvider as _,getModularInstance as a,getGlobal as b,calculateBackoffMillis as c,base64 as d,_registerComponent as e,commonjsGlobal$2 as f,getApp as g,getDefaultExportFromCjs as h,isIndexedDBAvailable as i,_defineProperty$1 as j,registerVersion as r,uuidv4 as u};
