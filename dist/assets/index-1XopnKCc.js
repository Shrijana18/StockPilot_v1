(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var Xce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xw={exports:{}},ug={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e4;function s7(){if(e4)return ug;e4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,r){var a=null;if(r!==void 0&&(a=""+r),s.key!==void 0&&(a=""+s.key),"key"in s){r={};for(var l in s)l!=="key"&&(r[l]=s[l])}else r=s;return s=r.ref,{$$typeof:t,type:i,key:a,ref:s!==void 0?s:null,props:r}}return ug.Fragment=e,ug.jsx=n,ug.jsxs=n,ug}var t4;function r7(){return t4||(t4=1,xw.exports=s7()),xw.exports}var v=r7(),_w={exports:{}},rn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n4;function a7(){if(n4)return rn;n4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(Z){return Z===null||typeof Z!="object"?null:(Z=p&&Z[p]||Z["@@iterator"],typeof Z=="function"?Z:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,A={};function T(Z,be,W){this.props=Z,this.context=be,this.refs=A,this.updater=W||y}T.prototype.isReactComponent={},T.prototype.setState=function(Z,be){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,be,"setState")},T.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function E(){}E.prototype=T.prototype;function k(Z,be,W){this.props=Z,this.context=be,this.refs=A,this.updater=W||y}var O=k.prototype=new E;O.constructor=k,x(O,T.prototype),O.isPureReactComponent=!0;var B=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function I(Z,be,W,X,re,ee){return W=ee.ref,{$$typeof:t,type:Z,key:be,ref:W!==void 0?W:null,props:ee}}function P(Z,be){return I(Z.type,be,void 0,void 0,void 0,Z.props)}function F(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function H(Z){var be={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(W){return be[W]})}var M=/\/+/g;function j(Z,be){return typeof Z=="object"&&Z!==null&&Z.key!=null?H(""+Z.key):be.toString(36)}function z(){}function te(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(z,z):(Z.status="pending",Z.then(function(be){Z.status==="pending"&&(Z.status="fulfilled",Z.value=be)},function(be){Z.status==="pending"&&(Z.status="rejected",Z.reason=be)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function pe(Z,be,W,X,re){var ee=typeof Z;(ee==="undefined"||ee==="boolean")&&(Z=null);var he=!1;if(Z===null)he=!0;else switch(ee){case"bigint":case"string":case"number":he=!0;break;case"object":switch(Z.$$typeof){case t:case e:he=!0;break;case f:return he=Z._init,pe(he(Z._payload),be,W,X,re)}}if(he)return re=re(Z),he=X===""?"."+j(Z,0):X,B(re)?(W="",he!=null&&(W=he.replace(M,"$&/")+"/"),pe(re,be,W,"",function(Ee){return Ee})):re!=null&&(F(re)&&(re=P(re,W+(re.key==null||Z&&Z.key===re.key?"":(""+re.key).replace(M,"$&/")+"/")+he)),be.push(re)),1;he=0;var we=X===""?".":X+":";if(B(Z))for(var ge=0;ge<Z.length;ge++)X=Z[ge],ee=we+j(X,ge),he+=pe(X,be,W,ee,re);else if(ge=g(Z),typeof ge=="function")for(Z=ge.call(Z),ge=0;!(X=Z.next()).done;)X=X.value,ee=we+j(X,ge++),he+=pe(X,be,W,ee,re);else if(ee==="object"){if(typeof Z.then=="function")return pe(te(Z),be,W,X,re);throw be=String(Z),Error("Objects are not valid as a React child (found: "+(be==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":be)+"). If you meant to render a collection of children, use an array instead.")}return he}function ae(Z,be,W){if(Z==null)return Z;var X=[],re=0;return pe(Z,X,"","",function(ee){return be.call(W,ee,re++)}),X}function ue(Z){if(Z._status===-1){var be=Z._result;be=be(),be.then(function(W){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=W)},function(W){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=W)}),Z._status===-1&&(Z._status=0,Z._result=be)}if(Z._status===1)return Z._result.default;throw Z._result}var ce=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var be=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(be))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)};function ye(){}return rn.Children={map:ae,forEach:function(Z,be,W){ae(Z,function(){be.apply(this,arguments)},W)},count:function(Z){var be=0;return ae(Z,function(){be++}),be},toArray:function(Z){return ae(Z,function(be){return be})||[]},only:function(Z){if(!F(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},rn.Component=T,rn.Fragment=n,rn.Profiler=s,rn.PureComponent=k,rn.StrictMode=i,rn.Suspense=u,rn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,rn.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return V.H.useMemoCache(Z)}},rn.cache=function(Z){return function(){return Z.apply(null,arguments)}},rn.cloneElement=function(Z,be,W){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var X=x({},Z.props),re=Z.key,ee=void 0;if(be!=null)for(he in be.ref!==void 0&&(ee=void 0),be.key!==void 0&&(re=""+be.key),be)!Y.call(be,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&be.ref===void 0||(X[he]=be[he]);var he=arguments.length-2;if(he===1)X.children=W;else if(1<he){for(var we=Array(he),ge=0;ge<he;ge++)we[ge]=arguments[ge+2];X.children=we}return I(Z.type,re,void 0,void 0,ee,X)},rn.createContext=function(Z){return Z={$$typeof:a,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:r,_context:Z},Z},rn.createElement=function(Z,be,W){var X,re={},ee=null;if(be!=null)for(X in be.key!==void 0&&(ee=""+be.key),be)Y.call(be,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(re[X]=be[X]);var he=arguments.length-2;if(he===1)re.children=W;else if(1<he){for(var we=Array(he),ge=0;ge<he;ge++)we[ge]=arguments[ge+2];re.children=we}if(Z&&Z.defaultProps)for(X in he=Z.defaultProps,he)re[X]===void 0&&(re[X]=he[X]);return I(Z,ee,void 0,void 0,null,re)},rn.createRef=function(){return{current:null}},rn.forwardRef=function(Z){return{$$typeof:l,render:Z}},rn.isValidElement=F,rn.lazy=function(Z){return{$$typeof:f,_payload:{_status:-1,_result:Z},_init:ue}},rn.memo=function(Z,be){return{$$typeof:h,type:Z,compare:be===void 0?null:be}},rn.startTransition=function(Z){var be=V.T,W={};V.T=W;try{var X=Z(),re=V.S;re!==null&&re(W,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(ye,ce)}catch(ee){ce(ee)}finally{V.T=be}},rn.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},rn.use=function(Z){return V.H.use(Z)},rn.useActionState=function(Z,be,W){return V.H.useActionState(Z,be,W)},rn.useCallback=function(Z,be){return V.H.useCallback(Z,be)},rn.useContext=function(Z){return V.H.useContext(Z)},rn.useDebugValue=function(){},rn.useDeferredValue=function(Z,be){return V.H.useDeferredValue(Z,be)},rn.useEffect=function(Z,be,W){var X=V.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(Z,be)},rn.useId=function(){return V.H.useId()},rn.useImperativeHandle=function(Z,be,W){return V.H.useImperativeHandle(Z,be,W)},rn.useInsertionEffect=function(Z,be){return V.H.useInsertionEffect(Z,be)},rn.useLayoutEffect=function(Z,be){return V.H.useLayoutEffect(Z,be)},rn.useMemo=function(Z,be){return V.H.useMemo(Z,be)},rn.useOptimistic=function(Z,be){return V.H.useOptimistic(Z,be)},rn.useReducer=function(Z,be,W){return V.H.useReducer(Z,be,W)},rn.useRef=function(Z){return V.H.useRef(Z)},rn.useState=function(Z){return V.H.useState(Z)},rn.useSyncExternalStore=function(Z,be,W){return V.H.useSyncExternalStore(Z,be,W)},rn.useTransition=function(){return V.H.useTransition()},rn.version="19.1.0",rn}var i4;function b5(){return i4||(i4=1,_w.exports=a7()),_w.exports}var C=b5();const An=v5(C);var Sw={exports:{}},cg={},Aw={exports:{}},Tw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s4;function o7(){return s4||(s4=1,function(t){function e(ae,ue){var ce=ae.length;ae.push(ue);e:for(;0<ce;){var ye=ce-1>>>1,Z=ae[ye];if(0<s(Z,ue))ae[ye]=ue,ae[ce]=Z,ce=ye;else break e}}function n(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var ue=ae[0],ce=ae.pop();if(ce!==ue){ae[0]=ce;e:for(var ye=0,Z=ae.length,be=Z>>>1;ye<be;){var W=2*(ye+1)-1,X=ae[W],re=W+1,ee=ae[re];if(0>s(X,ce))re<Z&&0>s(ee,X)?(ae[ye]=ee,ae[re]=ce,ye=re):(ae[ye]=X,ae[W]=ce,ye=W);else if(re<Z&&0>s(ee,ce))ae[ye]=ee,ae[re]=ce,ye=re;else break e}}return ue}function s(ae,ue){var ce=ae.sortIndex-ue.sortIndex;return ce!==0?ce:ae.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],f=1,p=null,g=3,y=!1,x=!1,A=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function B(ae){for(var ue=n(h);ue!==null;){if(ue.callback===null)i(h);else if(ue.startTime<=ae)i(h),ue.sortIndex=ue.expirationTime,e(u,ue);else break;ue=n(h)}}function V(ae){if(A=!1,B(ae),!x)if(n(u)!==null)x=!0,Y||(Y=!0,j());else{var ue=n(h);ue!==null&&pe(V,ue.startTime-ae)}}var Y=!1,I=-1,P=5,F=-1;function H(){return T?!0:!(t.unstable_now()-F<P)}function M(){if(T=!1,Y){var ae=t.unstable_now();F=ae;var ue=!0;try{e:{x=!1,A&&(A=!1,k(I),I=-1),y=!0;var ce=g;try{t:{for(B(ae),p=n(u);p!==null&&!(p.expirationTime>ae&&H());){var ye=p.callback;if(typeof ye=="function"){p.callback=null,g=p.priorityLevel;var Z=ye(p.expirationTime<=ae);if(ae=t.unstable_now(),typeof Z=="function"){p.callback=Z,B(ae),ue=!0;break t}p===n(u)&&i(u),B(ae)}else i(u);p=n(u)}if(p!==null)ue=!0;else{var be=n(h);be!==null&&pe(V,be.startTime-ae),ue=!1}}break e}finally{p=null,g=ce,y=!1}ue=void 0}}finally{ue?j():Y=!1}}}var j;if(typeof O=="function")j=function(){O(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,te=z.port2;z.port1.onmessage=M,j=function(){te.postMessage(null)}}else j=function(){E(M,0)};function pe(ae,ue){I=E(function(){ae(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(ae){switch(g){case 1:case 2:case 3:var ue=3;break;default:ue=g}var ce=g;g=ue;try{return ae()}finally{g=ce}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(ae,ue){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ce=g;g=ae;try{return ue()}finally{g=ce}},t.unstable_scheduleCallback=function(ae,ue,ce){var ye=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ye+ce:ye):ce=ye,ae){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ce+Z,ae={id:f++,callback:ue,priorityLevel:ae,startTime:ce,expirationTime:Z,sortIndex:-1},ce>ye?(ae.sortIndex=ce,e(h,ae),n(u)===null&&ae===n(h)&&(A?(k(I),I=-1):A=!0,pe(V,ce-ye))):(ae.sortIndex=Z,e(u,ae),x||y||(x=!0,Y||(Y=!0,j()))),ae},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(ae){var ue=g;return function(){var ce=g;g=ue;try{return ae.apply(this,arguments)}finally{g=ce}}}}(Tw)),Tw}var r4;function l7(){return r4||(r4=1,Aw.exports=o7()),Aw.exports}var Ew={exports:{}},Rr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a4;function u7(){if(a4)return Rr;a4=1;var t=b5();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(u,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:u,containerInfo:h,implementation:f}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Rr.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return r(u,h,null,f)},Rr.flushSync=function(u){var h=a.T,f=i.p;try{if(a.T=null,i.p=2,u)return u()}finally{a.T=h,i.p=f,i.d.f()}},Rr.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(u,h))},Rr.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},Rr.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?i.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:y}):f==="script"&&i.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Rr.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=l(h.as,h.crossOrigin);i.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(u)},Rr.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin);i.d.L(u,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Rr.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=l(h.as,h.crossOrigin);i.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(u)},Rr.requestFormReset=function(u){i.d.r(u)},Rr.unstable_batchedUpdates=function(u,h){return u(h)},Rr.useFormState=function(u,h,f){return a.H.useFormState(u,h,f)},Rr.useFormStatus=function(){return a.H.useHostTransitionStatus()},Rr.version="19.1.0",Rr}var o4;function T6(){if(o4)return Ew.exports;o4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ew.exports=u7(),Ew.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l4;function c7(){if(l4)return cg;l4=1;var t=l7(),e=b5(),n=T6();function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function r(o){var c=o,d=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(d=c.return),o=c.return;while(o)}return c.tag===3?d:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(r(o)!==o)throw Error(i(188))}function u(o){var c=o.alternate;if(!c){if(c=r(o),c===null)throw Error(i(188));return c!==o?null:o}for(var d=o,m=c;;){var _=d.return;if(_===null)break;var N=_.alternate;if(N===null){if(m=_.return,m!==null){d=m;continue}break}if(_.child===N.child){for(N=_.child;N;){if(N===d)return l(_),o;if(N===m)return l(_),c;N=N.sibling}throw Error(i(188))}if(d.return!==m.return)d=_,m=N;else{for(var $=!1,se=_.child;se;){if(se===d){$=!0,d=_,m=N;break}if(se===m){$=!0,m=_,d=N;break}se=se.sibling}if(!$){for(se=N.child;se;){if(se===d){$=!0,d=N,m=_;break}if(se===m){$=!0,m=N,d=_;break}se=se.sibling}if(!$)throw Error(i(189))}}if(d.alternate!==m)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(o){return o===null||typeof o!="object"?null:(o=M&&o[M]||o["@@iterator"],typeof o=="function"?o:null)}var z=Symbol.for("react.client.reference");function te(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case V:return"Suspense";case Y:return"SuspenseList";case F:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case O:return(o.displayName||"Context")+".Provider";case k:return(o._context.displayName||"Context")+".Consumer";case B:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case I:return c=o.displayName||null,c!==null?c:te(o.type)||"Memo";case P:c=o._payload,o=o._init;try{return te(o(c))}catch{}}return null}var pe=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ye=[],Z=-1;function be(o){return{current:o}}function W(o){0>Z||(o.current=ye[Z],ye[Z]=null,Z--)}function X(o,c){Z++,ye[Z]=o.current,o.current=c}var re=be(null),ee=be(null),he=be(null),we=be(null);function ge(o,c){switch(X(he,c),X(ee,o),X(re,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?NE(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=NE(c),o=LE(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}W(re),X(re,o)}function Ee(){W(re),W(ee),W(he)}function Oe(o){o.memoizedState!==null&&X(we,o);var c=re.current,d=LE(c,o.type);c!==d&&(X(ee,o),X(re,d))}function Ve(o){ee.current===o&&(W(re),W(ee)),we.current===o&&(W(we),sg._currentValue=ce)}var tt=Object.prototype.hasOwnProperty,$e=t.unstable_scheduleCallback,it=t.unstable_cancelCallback,ke=t.unstable_shouldYield,fe=t.unstable_requestPaint,St=t.unstable_now,wt=t.unstable_getCurrentPriorityLevel,nt=t.unstable_ImmediatePriority,rt=t.unstable_UserBlockingPriority,at=t.unstable_NormalPriority,lt=t.unstable_LowPriority,xt=t.unstable_IdlePriority,Mt=t.log,Vt=t.unstable_setDisableYieldValue,At=null,bt=null;function Kt(o){if(typeof Mt=="function"&&Vt(o),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(At,o)}catch{}}var yt=Math.clz32?Math.clz32:pi,Xt=Math.log,ht=Math.LN2;function pi(o){return o>>>=0,o===0?32:31-(Xt(o)/ht|0)|0}var Qt=256,Xi=4194304;function Jt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function kn(o,c,d){var m=o.pendingLanes;if(m===0)return 0;var _=0,N=o.suspendedLanes,$=o.pingedLanes;o=o.warmLanes;var se=m&134217727;return se!==0?(m=se&~N,m!==0?_=Jt(m):($&=se,$!==0?_=Jt($):d||(d=se&~o,d!==0&&(_=Jt(d))))):(se=m&~N,se!==0?_=Jt(se):$!==0?_=Jt($):d||(d=m&~o,d!==0&&(_=Jt(d)))),_===0?0:c!==0&&c!==_&&(c&N)===0&&(N=_&-_,d=c&-c,N>=d||N===32&&(d&4194048)!==0)?c:_}function Vi(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function un(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ys(){var o=Qt;return Qt<<=1,(Qt&4194048)===0&&(Qt=256),o}function Kn(){var o=Xi;return Xi<<=1,(Xi&62914560)===0&&(Xi=4194304),o}function Li(o){for(var c=[],d=0;31>d;d++)c.push(o);return c}function Qi(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function On(o,c,d,m,_,N){var $=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var se=o.entanglements,me=o.expirationTimes,De=o.hiddenUpdates;for(d=$&~d;0<d;){var qe=31-yt(d),Qe=1<<qe;se[qe]=0,me[qe]=-1;var je=De[qe];if(je!==null)for(De[qe]=null,qe=0;qe<je.length;qe++){var Fe=je[qe];Fe!==null&&(Fe.lane&=-536870913)}d&=~Qe}m!==0&&Ct(o,m,0),N!==0&&_===0&&o.tag!==0&&(o.suspendedLanes|=N&~($&~c))}function Ct(o,c,d){o.pendingLanes|=c,o.suspendedLanes&=~c;var m=31-yt(c);o.entangledLanes|=c,o.entanglements[m]=o.entanglements[m]|1073741824|d&4194090}function nn(o,c){var d=o.entangledLanes|=c;for(o=o.entanglements;d;){var m=31-yt(d),_=1<<m;_&c|o[m]&c&&(o[m]|=c),d&=~_}}function Fs(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ti(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Zi(){var o=ue.p;return o!==0?o:(o=window.event,o===void 0?32:GE(o.type))}function lr(o,c){var d=ue.p;try{return ue.p=o,c()}finally{ue.p=d}}var dt=Math.random().toString(36).slice(2),pt="__reactFiber$"+dt,Xn="__reactProps$"+dt,mi="__reactContainer$"+dt,Si="__reactEvents$"+dt,ki="__reactListeners$"+dt,Ji="__reactHandles$"+dt,Bo="__reactResources$"+dt,ur="__reactMarker$"+dt;function Ns(o){delete o[pt],delete o[Xn],delete o[Si],delete o[ki],delete o[Ji]}function hs(o){var c=o[pt];if(c)return c;for(var d=o.parentNode;d;){if(c=d[mi]||d[pt]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(o=ME(o);o!==null;){if(d=o[pt])return d;o=ME(o)}return c}o=d,d=o.parentNode}return null}function es(o){if(o=o[pt]||o[mi]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function ds(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(i(33))}function li(o){var c=o[Bo];return c||(c=o[Bo]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Fn(o){o[ur]=!0}var ka=new Set,Pa={};function Gs(o,c){xr(o,c),xr(o+"Capture",c)}function xr(o,c){for(Pa[o]=c,o=0;o<c.length;o++)ka.add(c[o])}var zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fu={},qo={};function Jc(o){return tt.call(qo,o)?!0:tt.call(Fu,o)?!1:zo.test(o)?qo[o]=!0:(Fu[o]=!0,!1)}function $r(o,c,d){if(Jc(c))if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+d)}}function Yr(o,c,d){if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+d)}}function fs(o,c,d,m){if(m===null)o.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(c,d,""+m)}}var Ra,eh;function na(o){if(Ra===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);Ra=c&&c[1]||"",eh=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ra+o+eh}var Ml=!1;function Ma(o,c){if(!o||Ml)return"";Ml=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var Qe=function(){throw Error()};if(Object.defineProperty(Qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Qe,[])}catch(Fe){var je=Fe}Reflect.construct(o,[],Qe)}else{try{Qe.call()}catch(Fe){je=Fe}o.call(Qe.prototype)}}else{try{throw Error()}catch(Fe){je=Fe}(Qe=o())&&typeof Qe.catch=="function"&&Qe.catch(function(){})}}catch(Fe){if(Fe&&je&&typeof Fe.stack=="string")return[Fe.stack,je.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=m.DetermineComponentFrameRoot(),$=N[0],se=N[1];if($&&se){var me=$.split(`
`),De=se.split(`
`);for(_=m=0;m<me.length&&!me[m].includes("DetermineComponentFrameRoot");)m++;for(;_<De.length&&!De[_].includes("DetermineComponentFrameRoot");)_++;if(m===me.length||_===De.length)for(m=me.length-1,_=De.length-1;1<=m&&0<=_&&me[m]!==De[_];)_--;for(;1<=m&&0<=_;m--,_--)if(me[m]!==De[_]){if(m!==1||_!==1)do if(m--,_--,0>_||me[m]!==De[_]){var qe=`
`+me[m].replace(" at new "," at ");return o.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",o.displayName)),qe}while(1<=m&&0<=_);break}}}finally{Ml=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?na(d):""}function Vu(o){switch(o.tag){case 26:case 27:case 5:return na(o.type);case 16:return na("Lazy");case 13:return na("Suspense");case 19:return na("SuspenseList");case 0:case 15:return Ma(o.type,!1);case 11:return Ma(o.type.render,!1);case 1:return Ma(o.type,!0);case 31:return na("Activity");default:return""}}function ui(o){try{var c="";do c+=Vu(o),o=o.return;while(o);return c}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Ls(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Il(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function th(o){var c=Il(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),m=""+o[c];if(!o.hasOwnProperty(c)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,N=d.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return _.call(this)},set:function($){m=""+$,N.call(this,$)}}),Object.defineProperty(o,c,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function($){m=""+$},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function so(o){o._valueTracker||(o._valueTracker=th(o))}function Uu(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var d=c.getValue(),m="";return o&&(m=Il(o)?o.checked?"true":"false":o.value),o=m,o!==d?(c.setValue(o),!0):!1}function Vs(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Dl=/[\n"\\]/g;function En(o){return o.replace(Dl,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Us(o,c,d,m,_,N,$,se){o.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?o.type=$:o.removeAttribute("type"),c!=null?$==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Ls(c)):o.value!==""+Ls(c)&&(o.value=""+Ls(c)):$!=="submit"&&$!=="reset"||o.removeAttribute("value"),c!=null?ao(o,$,Ls(c)):d!=null?ao(o,$,Ls(d)):m!=null&&o.removeAttribute("value"),_==null&&N!=null&&(o.defaultChecked=!!N),_!=null&&(o.checked=_&&typeof _!="function"&&typeof _!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?o.name=""+Ls(se):o.removeAttribute("name")}function ro(o,c,d,m,_,N,$,se){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.type=N),c!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||c!=null))return;d=d!=null?""+Ls(d):"",c=c!=null?""+Ls(c):d,se||c===o.value||(o.value=c),o.defaultValue=c}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=se?o.checked:!!m,o.defaultChecked=!!m,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(o.name=$)}function ao(o,c,d){c==="number"&&Vs(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function ia(o,c,d,m){if(o=o.options,c){c={};for(var _=0;_<d.length;_++)c["$"+d[_]]=!0;for(d=0;d<o.length;d++)_=c.hasOwnProperty("$"+o[d].value),o[d].selected!==_&&(o[d].selected=_),_&&m&&(o[d].defaultSelected=!0)}else{for(d=""+Ls(d),c=null,_=0;_<o.length;_++){if(o[_].value===d){o[_].selected=!0,m&&(o[_].defaultSelected=!0);return}c!==null||o[_].disabled||(c=o[_])}c!==null&&(c.selected=!0)}}function Vn(o,c,d){if(c!=null&&(c=""+Ls(c),c!==o.value&&(o.value=c),d==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=d!=null?""+Ls(d):""}function oo(o,c,d,m){if(c==null){if(m!=null){if(d!=null)throw Error(i(92));if(pe(m)){if(1<m.length)throw Error(i(93));m=m[0]}d=m}d==null&&(d=""),c=d}d=Ls(c),o.defaultValue=d,m=o.textContent,m===d&&m!==""&&m!==null&&(o.value=m)}function _r(o,c){if(c){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=c;return}}o.textContent=c}var Ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nh(o,c,d){var m=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":m?o.setProperty(c,d):typeof d!="number"||d===0||Ia.has(c)?c==="float"?o.cssFloat=d:o[c]=(""+d).trim():o[c]=d+"px"}function Bu(o,c,d){if(c!=null&&typeof c!="object")throw Error(i(62));if(o=o.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var _ in c)m=c[_],c.hasOwnProperty(_)&&d[_]!==m&&nh(o,_,m)}else for(var N in c)c.hasOwnProperty(N)&&nh(o,N,c[N])}function zu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Da=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ol=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(o){return Ol.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var sa=null;function ni(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ja=null,ra=null;function It(o){var c=es(o);if(c&&(o=c.stateNode)){var d=o[Xn]||null;e:switch(o=c.stateNode,c.type){case"input":if(Us(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+En(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var m=d[c];if(m!==o&&m.form===o.form){var _=m[Xn]||null;if(!_)throw Error(i(90));Us(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(c=0;c<d.length;c++)m=d[c],m.form===o.form&&Uu(m)}break e;case"textarea":Vn(o,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&ia(o,!!d.multiple,c,!1)}}}var aa=!1;function ih(o,c,d){if(aa)return o(c,d);aa=!0;try{var m=o(c);return m}finally{if(aa=!1,(ja!==null||ra!==null)&&(Vy(),ja&&(c=ja,o=ra,ra=ja=null,It(c),o)))for(c=0;c<o.length;c++)It(o[c])}}function Ks(o,c){var d=o.stateNode;if(d===null)return null;var m=d[Xn]||null;if(m===null)return null;d=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(i(231,c,typeof d));return d}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(Sr)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){cr=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{cr=!1}var Ar=null,lo=null,Fa=null;function qu(){if(Fa)return Fa;var o,c=lo,d=c.length,m,_="value"in Ar?Ar.value:Ar.textContent,N=_.length;for(o=0;o<d&&c[o]===_[o];o++);var $=d-o;for(m=1;m<=$&&c[d-m]===_[N-m];m++);return Fa=_.slice(o,1<m?1-m:void 0)}function Tr(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Xs(){return!0}function la(){return!1}function ts(o){function c(d,m,_,N,$){this._reactName=d,this._targetInst=_,this.type=m,this.nativeEvent=N,this.target=$,this.currentTarget=null;for(var se in o)o.hasOwnProperty(se)&&(d=o[se],this[se]=d?d(N):N[se]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Xs:la,this.isPropagationStopped=la,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),c}var pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=ts(pn),ua=f({},pn,{view:0,detail:0}),Hu=ts(ua),Ho,Wo,Gr,Qs=f({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Gr&&(Gr&&o.type==="mousemove"?(Ho=o.screenX-Gr.screenX,Wo=o.screenY-Gr.screenY):Wo=Ho=0,Gr=o),Ho)},movementY:function(o){return"movementY"in o?o.movementY:Wo}}),ns=ts(Qs),sh=f({},Qs,{dataTransfer:0}),co=ts(sh),Bs=f({},ua,{relatedTarget:0}),ho=ts(Bs),Va=f({},pn,{animationName:0,elapsedTime:0,pseudoElement:0}),jl=ts(Va),$o=f({},pn,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Fl=ts($o),Wu=f({},pn,{data:0}),Yo=ts(Wu),fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Go={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ko(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Vl[o])?!!c[o]:!1}function po(){return Ko}var rh=f({},ua,{key:function(o){if(o.key){var c=fo[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Tr(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Go[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(o){return o.type==="keypress"?Tr(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Tr(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ua=ts(rh),mo=f({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=ts(mo),Zs=f({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),Ul=ts(Zs),L=f({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),K=ts(L),de=f({},Qs,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ve=ts(de),Ce=f({},pn,{newState:0,oldState:0}),Be=ts(Ce),Je=[9,13,27,32],ut=Sr&&"CompositionEvent"in window,w=null;Sr&&"documentMode"in document&&(w=document.documentMode);var D=Sr&&"TextEvent"in window&&!w,q=Sr&&(!ut||w&&8<w&&11>=w),ie=" ",Te=!1;function Ie(o,c){switch(o){case"keyup":return Je.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Dt=!1;function mn(o,c){switch(o){case"compositionend":return et(c);case"keypress":return c.which!==32?null:(Te=!0,ie);case"textInput":return o=c.data,o===ie&&Te?null:o;default:return null}}function Yt(o,c){if(Dt)return o==="compositionend"||!ut&&Ie(o,c)?(o=qu(),Fa=lo=Ar=null,Dt=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return q&&c.locale!=="ko"?null:c.data;default:return null}}var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Un[o.type]:c==="textarea"}function ca(o,c,d,m){ja?ra?ra.push(m):ra=[m]:ja=m,c=Wy(c,"onChange"),0<c.length&&(d=new uo("onChange","change",null,d,m),o.push({event:d,listeners:c}))}var Ui=null,Er=null;function go(o){SE(o,0)}function Bl(o){var c=ds(o);if(Uu(c))return o}function ah(o,c){if(o==="change")return c}var $u=!1;if(Sr){var ps;if(Sr){var zl="oninput"in document;if(!zl){var Yu=document.createElement("div");Yu.setAttribute("oninput","return;"),zl=typeof Yu.oninput=="function"}ps=zl}else ps=!1;$u=ps&&(!document.documentMode||9<document.documentMode)}function Gu(){Ui&&(Ui.detachEvent("onpropertychange",oh),Er=Ui=null)}function oh(o){if(o.propertyName==="value"&&Bl(Er)){var c=[];ca(c,Er,o,ni(o)),ih(go,c)}}function Cr(o,c,d){o==="focusin"?(Gu(),Ui=c,Er=d,Ui.attachEvent("onpropertychange",oh)):o==="focusout"&&Gu()}function Tm(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Bl(Er)}function Cd(o,c){if(o==="click")return Bl(c)}function jf(o,c){if(o==="input"||o==="change")return Bl(c)}function ha(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ks=typeof Object.is=="function"?Object.is:ha;function ql(o,c){if(ks(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var d=Object.keys(o),m=Object.keys(c);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var _=d[m];if(!tt.call(c,_)||!ks(o[_],c[_]))return!1}return!0}function Nd(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Qo(o,c){var d=Nd(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=c&&m>=c)return{node:d,offset:c-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Nd(d)}}function Hl(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Hl(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function hr(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Vs(o.document);c instanceof o.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)o=c.contentWindow;else break;c=Vs(o.document)}return c}function zs(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Wl=Sr&&"documentMode"in document&&11>=document.documentMode,Nr=null,Ba=null,yo=null,za=!1;function Pi(o,c,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;za||Nr==null||Nr!==Vs(m)||(m=Nr,"selectionStart"in m&&zs(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),yo&&ql(yo,m)||(yo=m,m=Wy(Ba,"onSelect"),0<m.length&&(c=new uo("onSelect","select",null,c,d),o.push({event:c,listeners:m}),c.target=Nr)))}function qa(o,c){var d={};return d[o.toLowerCase()]=c.toLowerCase(),d["Webkit"+o]="webkit"+c,d["Moz"+o]="moz"+c,d}var is={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},Lr={},Ku={};Sr&&(Ku=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function vo(o){if(Lr[o])return Lr[o];if(!is[o])return o;var c=is[o],d;for(d in c)if(c.hasOwnProperty(d)&&d in Ku)return Lr[o]=c[d];return o}var lh=vo("animationend"),$l=vo("animationiteration"),Yl=vo("animationstart"),Gl=vo("transitionrun"),Xu=vo("transitionstart"),uh=vo("transitioncancel"),Kl=vo("transitionend"),Zo=new Map,Qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qu.push("scrollEnd");function Ri(o,c){Zo.set(o,c),Gs(c,[o])}var Kr=new WeakMap;function cn(o,c){if(typeof o=="object"&&o!==null){var d=Kr.get(o);return d!==void 0?d:(c={value:o,source:c,stack:ui(c)},Kr.set(o,c),c)}return{value:o,source:c,stack:ui(c)}}var hn=[],ci=0,Bi=0;function da(){for(var o=ci,c=Bi=ci=0;c<o;){var d=hn[c];hn[c++]=null;var m=hn[c];hn[c++]=null;var _=hn[c];hn[c++]=null;var N=hn[c];if(hn[c++]=null,m!==null&&_!==null){var $=m.pending;$===null?_.next=_:(_.next=$.next,$.next=_),m.pending=_}N!==0&&Ff(d,_,N)}}function Xl(o,c,d,m){hn[ci++]=o,hn[ci++]=c,hn[ci++]=d,hn[ci++]=m,Bi|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Ql(o,c,d,m){return Xl(o,c,d,m),Zu(o)}function Jo(o,c){return Xl(o,null,null,c),Zu(o)}function Ff(o,c,d){o.lanes|=d;var m=o.alternate;m!==null&&(m.lanes|=d);for(var _=!1,N=o.return;N!==null;)N.childLanes|=d,m=N.alternate,m!==null&&(m.childLanes|=d),N.tag===22&&(o=N.stateNode,o===null||o._visibility&1||(_=!0)),o=N,N=N.return;return o.tag===3?(N=o.stateNode,_&&c!==null&&(_=31-yt(d),o=N.hiddenUpdates,m=o[_],m===null?o[_]=[c]:m.push(c),c.lane=d|536870912),N):null}function Zu(o){if(50<Xm)throw Xm=0,W2=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Ps={};function fa(o,c,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(o,c,d,m){return new fa(o,c,d,m)}function ch(o){return o=o.prototype,!(!o||!o.isReactComponent)}function bo(o,c){var d=o.alternate;return d===null?(d=Js(o.tag,c,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=c,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,c=o.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function Ld(o,c){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,c=d.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Ju(o,c,d,m,_,N){var $=0;if(m=o,typeof o=="function")ch(o)&&($=1);else if(typeof o=="string")$=W8(o,d,re.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case F:return o=Js(31,d,c,_),o.elementType=F,o.lanes=N,o;case x:return el(d.children,_,N,c);case A:$=8,_|=24;break;case T:return o=Js(12,d,c,_|2),o.elementType=T,o.lanes=N,o;case V:return o=Js(13,d,c,_),o.elementType=V,o.lanes=N,o;case Y:return o=Js(19,d,c,_),o.elementType=Y,o.lanes=N,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:case O:$=10;break e;case k:$=9;break e;case B:$=11;break e;case I:$=14;break e;case P:$=16,m=null;break e}$=29,d=Error(i(130,o===null?"null":typeof o,"")),m=null}return c=Js($,d,c,_),c.elementType=o,c.type=m,c.lanes=N,c}function el(o,c,d,m){return o=Js(7,o,m,c),o.lanes=d,o}function Vf(o,c,d){return o=Js(6,o,null,c),o.lanes=d,o}function kd(o,c,d){return c=Js(4,o.children!==null?o.children:[],o.key,c),c.lanes=d,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Zl=[],tl=0,hh=null,Uf=0,pa=[],Xr=0,ec=null,nl=1,il="";function tc(o,c){Zl[tl++]=Uf,Zl[tl++]=hh,hh=o,Uf=c}function uy(o,c,d){pa[Xr++]=nl,pa[Xr++]=il,pa[Xr++]=ec,ec=o;var m=nl;o=il;var _=32-yt(m)-1;m&=~(1<<_),d+=1;var N=32-yt(c)+_;if(30<N){var $=_-_%5;N=(m&(1<<$)-1).toString(32),m>>=$,_-=$,nl=1<<32-yt(c)+_|d<<_|m,il=N+o}else nl=1<<N|d<<_|m,il=o}function Pd(o){o.return!==null&&(tc(o,1),uy(o,1,0))}function Rd(o){for(;o===hh;)hh=Zl[--tl],Zl[tl]=null,Uf=Zl[--tl],Zl[tl]=null;for(;o===ec;)ec=pa[--Xr],pa[Xr]=null,il=pa[--Xr],pa[Xr]=null,nl=pa[--Xr],pa[Xr]=null}var ms=null,Mi=null,jn=!1,Jl=null,wo=!1,Em=Error(i(519));function nc(o){var c=Error(i(418,""));throw dh(cn(c,o)),Em}function cy(o){var c=o.stateNode,d=o.type,m=o.memoizedProps;switch(c[pt]=o,c[Xn]=m,d){case"dialog":bn("cancel",c),bn("close",c);break;case"iframe":case"object":case"embed":bn("load",c);break;case"video":case"audio":for(d=0;d<Zm.length;d++)bn(Zm[d],c);break;case"source":bn("error",c);break;case"img":case"image":case"link":bn("error",c),bn("load",c);break;case"details":bn("toggle",c);break;case"input":bn("invalid",c),ro(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),so(c);break;case"select":bn("invalid",c);break;case"textarea":bn("invalid",c),oo(c,m.value,m.defaultValue,m.children),so(c)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||m.suppressHydrationWarning===!0||CE(c.textContent,d)?(m.popover!=null&&(bn("beforetoggle",c),bn("toggle",c)),m.onScroll!=null&&bn("scroll",c),m.onScrollEnd!=null&&bn("scrollend",c),m.onClick!=null&&(c.onclick=$y),c=!0):c=!1,c||nc(o)}function sl(o){for(ms=o.return;ms;)switch(ms.tag){case 5:case 13:wo=!1;return;case 27:case 3:wo=!0;return;default:ms=ms.return}}function dr(o){if(o!==ms)return!1;if(!jn)return sl(o),jn=!0,!1;var c=o.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||ow(o.type,o.memoizedProps)),d=!d),d&&Mi&&nc(o),sl(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(d=o.data,d==="/$"){if(c===0){Mi=dl(o.nextSibling);break e}c--}else d!=="$"&&d!=="$!"&&d!=="$?"||c++;o=o.nextSibling}Mi=null}}else c===27?(c=Mi,Lh(o.type)?(o=hw,hw=null,Mi=o):Mi=c):Mi=ms?dl(o.stateNode.nextSibling):null;return!0}function Qr(){Mi=ms=null,jn=!1}function hy(){var o=Jl;return o!==null&&(ya===null?ya=o:ya.push.apply(ya,o),Jl=null),o}function dh(o){Jl===null?Jl=[o]:Jl.push(o)}var xo=be(null),Rs=null,rl=null;function eu(o,c,d){X(xo,c._currentValue),c._currentValue=d}function _o(o){o._currentValue=xo.current,W(xo)}function Bf(o,c,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),o===d)break;o=o.return}}function zf(o,c,d,m){var _=o.child;for(_!==null&&(_.return=o);_!==null;){var N=_.dependencies;if(N!==null){var $=_.child;N=N.firstContext;e:for(;N!==null;){var se=N;N=_;for(var me=0;me<c.length;me++)if(se.context===c[me]){N.lanes|=d,se=N.alternate,se!==null&&(se.lanes|=d),Bf(N.return,d,o),m||($=null);break e}N=se.next}}else if(_.tag===18){if($=_.return,$===null)throw Error(i(341));$.lanes|=d,N=$.alternate,N!==null&&(N.lanes|=d),Bf($,d,o),$=null}else $=_.child;if($!==null)$.return=_;else for($=_;$!==null;){if($===o){$=null;break}if(_=$.sibling,_!==null){_.return=$.return,$=_;break}$=$.return}_=$}}function fh(o,c,d,m){o=null;for(var _=c,N=!1;_!==null;){if(!N){if((_.flags&524288)!==0)N=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var $=_.alternate;if($===null)throw Error(i(387));if($=$.memoizedProps,$!==null){var se=_.type;ks(_.pendingProps.value,$.value)||(o!==null?o.push(se):o=[se])}}else if(_===we.current){if($=_.alternate,$===null)throw Error(i(387));$.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(o!==null?o.push(sg):o=[sg])}_=_.return}o!==null&&zf(c,o,d,m),c.flags|=262144}function qf(o){for(o=o.firstContext;o!==null;){if(!ks(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function So(o){Rs=o,rl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function gs(o){return Hf(Rs,o)}function tu(o,c){return Rs===null&&So(o),Hf(o,c)}function Hf(o,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},rl===null){if(o===null)throw Error(i(308));rl=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else rl=rl.next=c;return d}var g2=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(d,m){o.push(m)}};this.abort=function(){c.aborted=!0,o.forEach(function(d){return d()})}},dy=t.unstable_scheduleCallback,y2=t.unstable_NormalPriority,ys={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cm(){return{controller:new g2,data:new Map,refCount:0}}function Md(o){o.refCount--,o.refCount===0&&dy(y2,function(){o.controller.abort()})}var Id=null,Nm=0,ic=0,al=null;function v2(o,c){if(Id===null){var d=Id=[];Nm=0,ic=Z2(),al={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Nm++,c.then(fy,fy),c}function fy(){if(--Nm===0&&Id!==null){al!==null&&(al.status="fulfilled");var o=Id;Id=null,ic=0,al=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function py(o,c){var d=[],m={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return o.then(function(){m.status="fulfilled",m.value=c;for(var _=0;_<d.length;_++)(0,d[_])(c)},function(_){for(m.status="rejected",m.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),m}var b=ae.S;ae.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&v2(o,c),b!==null&&b(o,c)};var S=be(null);function R(){var o=S.current;return o!==null?o:wi.pooledCache}function U(o,c){c===null?X(S,S.current):X(S,c.pool)}function G(){var o=R();return o===null?null:{parent:ys._currentValue,pool:o}}var Q=Error(i(460)),J=Error(i(474)),ne=Error(i(542)),oe={then:function(){}};function le(o){return o=o.status,o==="fulfilled"||o==="rejected"}function xe(){}function Me(o,c,d){switch(d=o[d],d===void 0?o.push(c):d!==c&&(c.then(xe,xe),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Ke(o),o;default:if(typeof c.status=="string")c.then(xe,xe);else{if(o=wi,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(m){if(c.status==="pending"){var _=c;_.status="fulfilled",_.value=m}},function(m){if(c.status==="pending"){var _=c;_.status="rejected",_.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Ke(o),o}throw Pe=c,Q}}var Pe=null;function Ne(){if(Pe===null)throw Error(i(459));var o=Pe;return Pe=null,o}function Ke(o){if(o===Q||o===ne)throw Error(i(483))}var Ue=!1;function _e(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ae(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ze(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Xe(o,c,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(si&2)!==0){var _=m.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),m.pending=c,c=Zu(o),Ff(o,null,d),c}return Xl(o,m,c,d),Zu(o)}function We(o,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var m=c.lanes;m&=o.pendingLanes,d|=m,c.lanes=d,nn(o,d)}}function mt(o,c){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var _=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var $={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?_=N=$:N=N.next=$,d=d.next}while(d!==null);N===null?_=N=c:N=N.next=c}else _=N=c;d={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:N,shared:m.shared,callbacks:m.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=c}var ot=!1;function Nt(){if(ot){var o=al;if(o!==null)throw o}}function ct(o,c,d,m){ot=!1;var _=o.updateQueue;Ue=!1;var N=_.firstBaseUpdate,$=_.lastBaseUpdate,se=_.shared.pending;if(se!==null){_.shared.pending=null;var me=se,De=me.next;me.next=null,$===null?N=De:$.next=De,$=me;var qe=o.alternate;qe!==null&&(qe=qe.updateQueue,se=qe.lastBaseUpdate,se!==$&&(se===null?qe.firstBaseUpdate=De:se.next=De,qe.lastBaseUpdate=me))}if(N!==null){var Qe=_.baseState;$=0,qe=De=me=null,se=N;do{var je=se.lane&-536870913,Fe=je!==se.lane;if(Fe?(Mn&je)===je:(m&je)===je){je!==0&&je===ic&&(ot=!0),qe!==null&&(qe=qe.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var Wt=o,Ot=se;je=c;var di=d;switch(Ot.tag){case 1:if(Wt=Ot.payload,typeof Wt=="function"){Qe=Wt.call(di,Qe,je);break e}Qe=Wt;break e;case 3:Wt.flags=Wt.flags&-65537|128;case 0:if(Wt=Ot.payload,je=typeof Wt=="function"?Wt.call(di,Qe,je):Wt,je==null)break e;Qe=f({},Qe,je);break e;case 2:Ue=!0}}je=se.callback,je!==null&&(o.flags|=64,Fe&&(o.flags|=8192),Fe=_.callbacks,Fe===null?_.callbacks=[je]:Fe.push(je))}else Fe={lane:je,tag:se.tag,payload:se.payload,callback:se.callback,next:null},qe===null?(De=qe=Fe,me=Qe):qe=qe.next=Fe,$|=je;if(se=se.next,se===null){if(se=_.shared.pending,se===null)break;Fe=se,se=Fe.next,Fe.next=null,_.lastBaseUpdate=Fe,_.shared.pending=null}}while(!0);qe===null&&(me=Qe),_.baseState=me,_.firstBaseUpdate=De,_.lastBaseUpdate=qe,N===null&&(_.shared.lanes=0),Th|=$,o.lanes=$,o.memoizedState=Qe}}function Pn(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function Bn(o,c){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)Pn(d[o],c)}var on=be(null),sn=be(0);function Zn(o,c){o=fc,X(sn,o),X(on,c),fc=o|c.baseLanes}function zn(){X(sn,fc),X(on,on.current)}function Gt(){fc=sn.current,W(on),W(sn)}var ii=0,Rt=null,Ut=null,Cn=null,Rn=!1,Ms=!1,vs=!1,zi=0,qi=0,ss=null,ma=0;function qn(){throw Error(i(321))}function rs(o,c){if(c===null)return!1;for(var d=0;d<c.length&&d<o.length;d++)if(!ks(o[d],c[d]))return!1;return!0}function Ha(o,c,d,m,_,N){return ii=N,Rt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ae.H=o===null||o.memoizedState===null?oT:lT,vs=!1,N=d(m,_),vs=!1,Ms&&(N=sc(c,d,m,_)),nu(o),N}function nu(o){ae.H=Ey;var c=Ut!==null&&Ut.next!==null;if(ii=0,Cn=Ut=Rt=null,Rn=!1,qi=0,ss=null,c)throw Error(i(300));o===null||er||(o=o.dependencies,o!==null&&qf(o)&&(er=!0))}function sc(o,c,d,m){Rt=o;var _=0;do{if(Ms&&(ss=null),qi=0,Ms=!1,25<=_)throw Error(i(301));if(_+=1,Cn=Ut=null,o.updateQueue!=null){var N=o.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}ae.H=n8,N=c(d,m)}while(Ms);return N}function iu(){var o=ae.H,c=o.useState()[0];return c=typeof c.then=="function"?su(c):c,o=o.useState()[0],(Ut!==null?Ut.memoizedState:null)!==o&&(Rt.flags|=1024),c}function bi(){var o=zi!==0;return zi=0,o}function Dd(o,c,d){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~d}function Wf(o){if(Rn){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Rn=!1}ii=0,Cn=Ut=Rt=null,Ms=!1,qi=zi=0,ss=null}function fr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?Rt.memoizedState=Cn=o:Cn=Cn.next=o,Cn}function Ai(){if(Ut===null){var o=Rt.alternate;o=o!==null?o.memoizedState:null}else o=Ut.next;var c=Cn===null?Rt.memoizedState:Cn.next;if(c!==null)Cn=c,Ut=o;else{if(o===null)throw Rt.alternate===null?Error(i(467)):Error(i(310));Ut=o,o={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Cn===null?Rt.memoizedState=Cn=o:Cn=Cn.next=o}return Cn}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function su(o){var c=qi;return qi+=1,ss===null&&(ss=[]),o=Me(ss,o,c),c=Rt,(Cn===null?c.memoizedState:Cn.next)===null&&(c=c.alternate,ae.H=c===null||c.memoizedState===null?oT:lT),o}function kr(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return su(o);if(o.$$typeof===O)return gs(o)}throw Error(i(438,String(o)))}function ru(o){var c=null,d=Rt.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var m=Rt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(_){return _.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=rc(),Rt.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(o),m=0;m<o;m++)d[m]=H;return c.index++,d}function Pr(o,c){return typeof c=="function"?c(o):c}function Od(o){var c=Ai();return ph(c,Ut,o)}function ph(o,c,d){var m=o.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=d;var _=o.baseQueue,N=m.pending;if(N!==null){if(_!==null){var $=_.next;_.next=N.next,N.next=$}c.baseQueue=_=N,m.pending=null}if(N=o.baseState,_===null)o.memoizedState=N;else{c=_.next;var se=$=null,me=null,De=c,qe=!1;do{var Qe=De.lane&-536870913;if(Qe!==De.lane?(Mn&Qe)===Qe:(ii&Qe)===Qe){var je=De.revertLane;if(je===0)me!==null&&(me=me.next={lane:0,revertLane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Qe===ic&&(qe=!0);else if((ii&je)===je){De=De.next,je===ic&&(qe=!0);continue}else Qe={lane:0,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},me===null?(se=me=Qe,$=N):me=me.next=Qe,Rt.lanes|=je,Th|=je;Qe=De.action,vs&&d(N,Qe),N=De.hasEagerState?De.eagerState:d(N,Qe)}else je={lane:Qe,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},me===null?(se=me=je,$=N):me=me.next=je,Rt.lanes|=Qe,Th|=Qe;De=De.next}while(De!==null&&De!==c);if(me===null?$=N:me.next=se,!ks(N,o.memoizedState)&&(er=!0,qe&&(d=al,d!==null)))throw d;o.memoizedState=N,o.baseState=$,o.baseQueue=me,m.lastRenderedState=N}return _===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function $f(o){var c=Ai(),d=c.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=o;var m=d.dispatch,_=d.pending,N=c.memoizedState;if(_!==null){d.pending=null;var $=_=_.next;do N=o(N,$.action),$=$.next;while($!==_);ks(N,c.memoizedState)||(er=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),d.lastRenderedState=N}return[N,m]}function jd(o,c,d){var m=Rt,_=Ai(),N=jn;if(N){if(d===void 0)throw Error(i(407));d=d()}else d=c();var $=!ks((Ut||_).memoizedState,d);$&&(_.memoizedState=d,er=!0),_=_.queue;var se=mh.bind(null,m,_,o);if(vh(2048,8,se,[o]),_.getSnapshot!==c||$||Cn!==null&&Cn.memoizedState.tag&1){if(m.flags|=2048,ll(9,Bd(),Fd.bind(null,m,_,d,c),null),wi===null)throw Error(i(349));N||(ii&124)!==0||Yf(m,c,d)}return d}function Yf(o,c,d){o.flags|=16384,o={getSnapshot:c,value:d},c=Rt.updateQueue,c===null?(c=rc(),Rt.updateQueue=c,c.stores=[o]):(d=c.stores,d===null?c.stores=[o]:d.push(o))}function Fd(o,c,d,m){c.value=d,c.getSnapshot=m,my(c)&&gy(o)}function mh(o,c,d){return d(function(){my(c)&&gy(o)})}function my(o){var c=o.getSnapshot;o=o.value;try{var d=c();return!ks(o,d)}catch{return!0}}function gy(o){var c=Jo(o,2);c!==null&&Xa(c,o,2)}function Vd(o){var c=fr();if(typeof o=="function"){var d=o;if(o=d(),vs){Kt(!0);try{d()}finally{Kt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:o},c}function ol(o,c,d,m){return o.baseState=d,ph(o,Ut,typeof m=="function"?m:Pr)}function b2(o,c,d,m,_){if(Ty(o))throw Error(i(485));if(o=c.action,o!==null){var N={payload:_,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){N.listeners.push($)}};ae.T!==null?d(!0):N.isTransition=!1,m(N),d=c.pending,d===null?(N.next=c.pending=N,yy(c,N)):(N.next=d.next,c.pending=d.next=N)}}function yy(o,c){var d=c.action,m=c.payload,_=o.state;if(c.isTransition){var N=ae.T,$={};ae.T=$;try{var se=d(_,m),me=ae.S;me!==null&&me($,se),vy(o,c,se)}catch(De){gh(o,c,De)}finally{ae.T=N}}else try{N=d(_,m),vy(o,c,N)}catch(De){gh(o,c,De)}}function vy(o,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){Lm(o,c,m)},function(m){return gh(o,c,m)}):Lm(o,c,d)}function Lm(o,c,d){c.status="fulfilled",c.value=d,km(c),o.state=d,c=o.pending,c!==null&&(d=c.next,d===c?o.pending=null:(d=d.next,c.next=d,yy(o,d)))}function gh(o,c,d){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=d,km(c),c=c.next;while(c!==m)}o.action=null}function km(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Pm(o,c){return c}function Ud(o,c){if(jn){var d=wi.formState;if(d!==null){e:{var m=Rt;if(jn){if(Mi){t:{for(var _=Mi,N=wo;_.nodeType!==8;){if(!N){_=null;break t}if(_=dl(_.nextSibling),_===null){_=null;break t}}N=_.data,_=N==="F!"||N==="F"?_:null}if(_){Mi=dl(_.nextSibling),m=_.data==="F!";break e}}nc(m)}m=!1}m&&(c=d[0])}}return d=fr(),d.memoizedState=d.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:c},d.queue=m,d=sT.bind(null,Rt,m),m.dispatch=d,m=Vd(!1),N=w2.bind(null,Rt,!1,m.queue),m=fr(),_={state:c,dispatch:null,action:o,pending:null},m.queue=_,d=b2.bind(null,Rt,_,N,d),_.dispatch=d,m.memoizedState=o,[c,d,!1]}function Gf(o){var c=Ai();return yh(c,Ut,o)}function yh(o,c,d){if(c=ph(o,c,Pm)[0],o=Od(Pr)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=su(c)}catch($){throw $===Q?ne:$}else m=c;c=Ai();var _=c.queue,N=_.dispatch;return d!==c.memoizedState&&(Rt.flags|=2048,ll(9,Bd(),by.bind(null,_,d),null)),[m,N,o]}function by(o,c){o.action=c}function wy(o){var c=Ai(),d=Ut;if(d!==null)return yh(c,d,o);Ai(),c=c.memoizedState,d=Ai();var m=d.queue.dispatch;return d.memoizedState=o,[c,m,!1]}function ll(o,c,d,m){return o={tag:o,create:d,deps:m,inst:c,next:null},c=Rt.updateQueue,c===null&&(c=rc(),Rt.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,c.lastEffect=o),o}function Bd(){return{destroy:void 0,resource:void 0}}function Kf(){return Ai().memoizedState}function Wa(o,c,d,m){var _=fr();m=m===void 0?null:m,Rt.flags|=o,_.memoizedState=ll(1|c,Bd(),d,m)}function vh(o,c,d,m){var _=Ai();m=m===void 0?null:m;var N=_.memoizedState.inst;Ut!==null&&m!==null&&rs(m,Ut.memoizedState.deps)?_.memoizedState=ll(c,N,d,m):(Rt.flags|=o,_.memoizedState=ll(1|c,N,d,m))}function Rm(o,c){Wa(8390656,8,o,c)}function xy(o,c){vh(2048,8,o,c)}function Mm(o,c){return vh(4,2,o,c)}function ac(o,c){return vh(4,4,o,c)}function _y(o,c){if(typeof c=="function"){o=o();var d=c(o);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Im(o,c,d){d=d!=null?d.concat([o]):null,vh(4,4,_y.bind(null,c,o),d)}function Dm(){}function Om(o,c){var d=Ai();c=c===void 0?null:c;var m=d.memoizedState;return c!==null&&rs(c,m[1])?m[0]:(d.memoizedState=[o,c],o)}function Sy(o,c){var d=Ai();c=c===void 0?null:c;var m=d.memoizedState;if(c!==null&&rs(c,m[1]))return m[0];if(m=o(),vs){Kt(!0);try{o()}finally{Kt(!1)}}return d.memoizedState=[m,c],m}function oc(o,c,d){return d===void 0||(ii&1073741824)!==0?o.memoizedState=c:(o.memoizedState=d,o=eE(),Rt.lanes|=o,Th|=o,d)}function Xf(o,c,d,m){return ks(d,c)?d:on.current!==null?(o=oc(o,d,m),ks(o,c)||(er=!0),o):(ii&42)===0?(er=!0,o.memoizedState=d):(o=eE(),Rt.lanes|=o,Th|=o,c)}function zd(o,c,d,m,_){var N=ue.p;ue.p=N!==0&&8>N?N:8;var $=ae.T,se={};ae.T=se,w2(o,!1,c,d);try{var me=_(),De=ae.S;if(De!==null&&De(se,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var qe=py(me,m);Um(o,c,qe,Ka(o))}else Um(o,c,m,Ka(o))}catch(Qe){Um(o,c,{then:function(){},status:"rejected",reason:Qe},Ka())}finally{ue.p=N,ae.T=$}}function ul(){}function Ao(o,c,d,m){if(o.tag!==5)throw Error(i(476));var _=cl(o).queue;zd(o,_,c,ce,d===null?ul:function(){return qd(o),d(m)})}function cl(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:ce},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:d},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function qd(o){var c=cl(o).next.queue;Um(o,c,{},Ka())}function Hd(){return gs(sg)}function jm(){return Ai().memoizedState}function Ay(){return Ai().memoizedState}function Fm(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var d=Ka();o=ze(d);var m=Xe(c,o,d);m!==null&&(Xa(m,c,d),We(m,c,d)),c={cache:Cm()},o.payload=c;return}c=c.return}}function Vm(o,c,d){var m=Ka();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Ty(o)?rT(c,d):(d=Ql(o,c,d,m),d!==null&&(Xa(d,o,m),aT(d,c,m)))}function sT(o,c,d){var m=Ka();Um(o,c,d,m)}function Um(o,c,d,m){var _={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ty(o))rT(c,_);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var $=c.lastRenderedState,se=N($,d);if(_.hasEagerState=!0,_.eagerState=se,ks(se,$))return Xl(o,c,_,0),wi===null&&da(),!1}catch{}finally{}if(d=Ql(o,c,_,m),d!==null)return Xa(d,o,m),aT(d,c,m),!0}return!1}function w2(o,c,d,m){if(m={lane:2,revertLane:Z2(),action:m,hasEagerState:!1,eagerState:null,next:null},Ty(o)){if(c)throw Error(i(479))}else c=Ql(o,d,m,2),c!==null&&Xa(c,o,2)}function Ty(o){var c=o.alternate;return o===Rt||c!==null&&c===Rt}function rT(o,c){Ms=Rn=!0;var d=o.pending;d===null?c.next=c:(c.next=d.next,d.next=c),o.pending=c}function aT(o,c,d){if((d&4194048)!==0){var m=c.lanes;m&=o.pendingLanes,d|=m,c.lanes=d,nn(o,d)}}var Ey={readContext:gs,use:kr,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useLayoutEffect:qn,useInsertionEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useSyncExternalStore:qn,useId:qn,useHostTransitionStatus:qn,useFormState:qn,useActionState:qn,useOptimistic:qn,useMemoCache:qn,useCacheRefresh:qn},oT={readContext:gs,use:kr,useCallback:function(o,c){return fr().memoizedState=[o,c===void 0?null:c],o},useContext:gs,useEffect:Rm,useImperativeHandle:function(o,c,d){d=d!=null?d.concat([o]):null,Wa(4194308,4,_y.bind(null,c,o),d)},useLayoutEffect:function(o,c){return Wa(4194308,4,o,c)},useInsertionEffect:function(o,c){Wa(4,2,o,c)},useMemo:function(o,c){var d=fr();c=c===void 0?null:c;var m=o();if(vs){Kt(!0);try{o()}finally{Kt(!1)}}return d.memoizedState=[m,c],m},useReducer:function(o,c,d){var m=fr();if(d!==void 0){var _=d(c);if(vs){Kt(!0);try{d(c)}finally{Kt(!1)}}}else _=c;return m.memoizedState=m.baseState=_,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:_},m.queue=o,o=o.dispatch=Vm.bind(null,Rt,o),[m.memoizedState,o]},useRef:function(o){var c=fr();return o={current:o},c.memoizedState=o},useState:function(o){o=Vd(o);var c=o.queue,d=sT.bind(null,Rt,c);return c.dispatch=d,[o.memoizedState,d]},useDebugValue:Dm,useDeferredValue:function(o,c){var d=fr();return oc(d,o,c)},useTransition:function(){var o=Vd(!1);return o=zd.bind(null,Rt,o.queue,!0,!1),fr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,d){var m=Rt,_=fr();if(jn){if(d===void 0)throw Error(i(407));d=d()}else{if(d=c(),wi===null)throw Error(i(349));(Mn&124)!==0||Yf(m,c,d)}_.memoizedState=d;var N={value:d,getSnapshot:c};return _.queue=N,Rm(mh.bind(null,m,N,o),[o]),m.flags|=2048,ll(9,Bd(),Fd.bind(null,m,N,d,c),null),d},useId:function(){var o=fr(),c=wi.identifierPrefix;if(jn){var d=il,m=nl;d=(m&~(1<<32-yt(m)-1)).toString(32)+d,c="«"+c+"R"+d,d=zi++,0<d&&(c+="H"+d.toString(32)),c+="»"}else d=ma++,c="«"+c+"r"+d.toString(32)+"»";return o.memoizedState=c},useHostTransitionStatus:Hd,useFormState:Ud,useActionState:Ud,useOptimistic:function(o){var c=fr();c.memoizedState=c.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=w2.bind(null,Rt,!0,d),d.dispatch=c,[o,c]},useMemoCache:ru,useCacheRefresh:function(){return fr().memoizedState=Fm.bind(null,Rt)}},lT={readContext:gs,use:kr,useCallback:Om,useContext:gs,useEffect:xy,useImperativeHandle:Im,useInsertionEffect:Mm,useLayoutEffect:ac,useMemo:Sy,useReducer:Od,useRef:Kf,useState:function(){return Od(Pr)},useDebugValue:Dm,useDeferredValue:function(o,c){var d=Ai();return Xf(d,Ut.memoizedState,o,c)},useTransition:function(){var o=Od(Pr)[0],c=Ai().memoizedState;return[typeof o=="boolean"?o:su(o),c]},useSyncExternalStore:jd,useId:jm,useHostTransitionStatus:Hd,useFormState:Gf,useActionState:Gf,useOptimistic:function(o,c){var d=Ai();return ol(d,Ut,o,c)},useMemoCache:ru,useCacheRefresh:Ay},n8={readContext:gs,use:kr,useCallback:Om,useContext:gs,useEffect:xy,useImperativeHandle:Im,useInsertionEffect:Mm,useLayoutEffect:ac,useMemo:Sy,useReducer:$f,useRef:Kf,useState:function(){return $f(Pr)},useDebugValue:Dm,useDeferredValue:function(o,c){var d=Ai();return Ut===null?oc(d,o,c):Xf(d,Ut.memoizedState,o,c)},useTransition:function(){var o=$f(Pr)[0],c=Ai().memoizedState;return[typeof o=="boolean"?o:su(o),c]},useSyncExternalStore:jd,useId:jm,useHostTransitionStatus:Hd,useFormState:wy,useActionState:wy,useOptimistic:function(o,c){var d=Ai();return Ut!==null?ol(d,Ut,o,c):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:ru,useCacheRefresh:Ay},Qf=null,Bm=0;function Cy(o){var c=Bm;return Bm+=1,Qf===null&&(Qf=[]),Me(Qf,o,c)}function zm(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Ny(o,c){throw c.$$typeof===p?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function uT(o){var c=o._init;return c(o._payload)}function cT(o){function c(Le,Se){if(o){var Re=Le.deletions;Re===null?(Le.deletions=[Se],Le.flags|=16):Re.push(Se)}}function d(Le,Se){if(!o)return null;for(;Se!==null;)c(Le,Se),Se=Se.sibling;return null}function m(Le){for(var Se=new Map;Le!==null;)Le.key!==null?Se.set(Le.key,Le):Se.set(Le.index,Le),Le=Le.sibling;return Se}function _(Le,Se){return Le=bo(Le,Se),Le.index=0,Le.sibling=null,Le}function N(Le,Se,Re){return Le.index=Re,o?(Re=Le.alternate,Re!==null?(Re=Re.index,Re<Se?(Le.flags|=67108866,Se):Re):(Le.flags|=67108866,Se)):(Le.flags|=1048576,Se)}function $(Le){return o&&Le.alternate===null&&(Le.flags|=67108866),Le}function se(Le,Se,Re,Ye){return Se===null||Se.tag!==6?(Se=Vf(Re,Le.mode,Ye),Se.return=Le,Se):(Se=_(Se,Re),Se.return=Le,Se)}function me(Le,Se,Re,Ye){var Tt=Re.type;return Tt===x?qe(Le,Se,Re.props.children,Ye,Re.key):Se!==null&&(Se.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===P&&uT(Tt)===Se.type)?(Se=_(Se,Re.props),zm(Se,Re),Se.return=Le,Se):(Se=Ju(Re.type,Re.key,Re.props,null,Le.mode,Ye),zm(Se,Re),Se.return=Le,Se)}function De(Le,Se,Re,Ye){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Re.containerInfo||Se.stateNode.implementation!==Re.implementation?(Se=kd(Re,Le.mode,Ye),Se.return=Le,Se):(Se=_(Se,Re.children||[]),Se.return=Le,Se)}function qe(Le,Se,Re,Ye,Tt){return Se===null||Se.tag!==7?(Se=el(Re,Le.mode,Ye,Tt),Se.return=Le,Se):(Se=_(Se,Re),Se.return=Le,Se)}function Qe(Le,Se,Re){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=Vf(""+Se,Le.mode,Re),Se.return=Le,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case g:return Re=Ju(Se.type,Se.key,Se.props,null,Le.mode,Re),zm(Re,Se),Re.return=Le,Re;case y:return Se=kd(Se,Le.mode,Re),Se.return=Le,Se;case P:var Ye=Se._init;return Se=Ye(Se._payload),Qe(Le,Se,Re)}if(pe(Se)||j(Se))return Se=el(Se,Le.mode,Re,null),Se.return=Le,Se;if(typeof Se.then=="function")return Qe(Le,Cy(Se),Re);if(Se.$$typeof===O)return Qe(Le,tu(Le,Se),Re);Ny(Le,Se)}return null}function je(Le,Se,Re,Ye){var Tt=Se!==null?Se.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Tt!==null?null:se(Le,Se,""+Re,Ye);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case g:return Re.key===Tt?me(Le,Se,Re,Ye):null;case y:return Re.key===Tt?De(Le,Se,Re,Ye):null;case P:return Tt=Re._init,Re=Tt(Re._payload),je(Le,Se,Re,Ye)}if(pe(Re)||j(Re))return Tt!==null?null:qe(Le,Se,Re,Ye,null);if(typeof Re.then=="function")return je(Le,Se,Cy(Re),Ye);if(Re.$$typeof===O)return je(Le,Se,tu(Le,Re),Ye);Ny(Le,Re)}return null}function Fe(Le,Se,Re,Ye,Tt){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Le=Le.get(Re)||null,se(Se,Le,""+Ye,Tt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case g:return Le=Le.get(Ye.key===null?Re:Ye.key)||null,me(Se,Le,Ye,Tt);case y:return Le=Le.get(Ye.key===null?Re:Ye.key)||null,De(Se,Le,Ye,Tt);case P:var gn=Ye._init;return Ye=gn(Ye._payload),Fe(Le,Se,Re,Ye,Tt)}if(pe(Ye)||j(Ye))return Le=Le.get(Re)||null,qe(Se,Le,Ye,Tt,null);if(typeof Ye.then=="function")return Fe(Le,Se,Re,Cy(Ye),Tt);if(Ye.$$typeof===O)return Fe(Le,Se,Re,tu(Se,Ye),Tt);Ny(Se,Ye)}return null}function Wt(Le,Se,Re,Ye){for(var Tt=null,gn=null,Lt=Se,Ft=Se=0,nr=null;Lt!==null&&Ft<Re.length;Ft++){Lt.index>Ft?(nr=Lt,Lt=null):nr=Lt.sibling;var Hn=je(Le,Lt,Re[Ft],Ye);if(Hn===null){Lt===null&&(Lt=nr);break}o&&Lt&&Hn.alternate===null&&c(Le,Lt),Se=N(Hn,Se,Ft),gn===null?Tt=Hn:gn.sibling=Hn,gn=Hn,Lt=nr}if(Ft===Re.length)return d(Le,Lt),jn&&tc(Le,Ft),Tt;if(Lt===null){for(;Ft<Re.length;Ft++)Lt=Qe(Le,Re[Ft],Ye),Lt!==null&&(Se=N(Lt,Se,Ft),gn===null?Tt=Lt:gn.sibling=Lt,gn=Lt);return jn&&tc(Le,Ft),Tt}for(Lt=m(Lt);Ft<Re.length;Ft++)nr=Fe(Lt,Le,Ft,Re[Ft],Ye),nr!==null&&(o&&nr.alternate!==null&&Lt.delete(nr.key===null?Ft:nr.key),Se=N(nr,Se,Ft),gn===null?Tt=nr:gn.sibling=nr,gn=nr);return o&&Lt.forEach(function(Ih){return c(Le,Ih)}),jn&&tc(Le,Ft),Tt}function Ot(Le,Se,Re,Ye){if(Re==null)throw Error(i(151));for(var Tt=null,gn=null,Lt=Se,Ft=Se=0,nr=null,Hn=Re.next();Lt!==null&&!Hn.done;Ft++,Hn=Re.next()){Lt.index>Ft?(nr=Lt,Lt=null):nr=Lt.sibling;var Ih=je(Le,Lt,Hn.value,Ye);if(Ih===null){Lt===null&&(Lt=nr);break}o&&Lt&&Ih.alternate===null&&c(Le,Lt),Se=N(Ih,Se,Ft),gn===null?Tt=Ih:gn.sibling=Ih,gn=Ih,Lt=nr}if(Hn.done)return d(Le,Lt),jn&&tc(Le,Ft),Tt;if(Lt===null){for(;!Hn.done;Ft++,Hn=Re.next())Hn=Qe(Le,Hn.value,Ye),Hn!==null&&(Se=N(Hn,Se,Ft),gn===null?Tt=Hn:gn.sibling=Hn,gn=Hn);return jn&&tc(Le,Ft),Tt}for(Lt=m(Lt);!Hn.done;Ft++,Hn=Re.next())Hn=Fe(Lt,Le,Ft,Hn.value,Ye),Hn!==null&&(o&&Hn.alternate!==null&&Lt.delete(Hn.key===null?Ft:Hn.key),Se=N(Hn,Se,Ft),gn===null?Tt=Hn:gn.sibling=Hn,gn=Hn);return o&&Lt.forEach(function(i7){return c(Le,i7)}),jn&&tc(Le,Ft),Tt}function di(Le,Se,Re,Ye){if(typeof Re=="object"&&Re!==null&&Re.type===x&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case g:e:{for(var Tt=Re.key;Se!==null;){if(Se.key===Tt){if(Tt=Re.type,Tt===x){if(Se.tag===7){d(Le,Se.sibling),Ye=_(Se,Re.props.children),Ye.return=Le,Le=Ye;break e}}else if(Se.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===P&&uT(Tt)===Se.type){d(Le,Se.sibling),Ye=_(Se,Re.props),zm(Ye,Re),Ye.return=Le,Le=Ye;break e}d(Le,Se);break}else c(Le,Se);Se=Se.sibling}Re.type===x?(Ye=el(Re.props.children,Le.mode,Ye,Re.key),Ye.return=Le,Le=Ye):(Ye=Ju(Re.type,Re.key,Re.props,null,Le.mode,Ye),zm(Ye,Re),Ye.return=Le,Le=Ye)}return $(Le);case y:e:{for(Tt=Re.key;Se!==null;){if(Se.key===Tt)if(Se.tag===4&&Se.stateNode.containerInfo===Re.containerInfo&&Se.stateNode.implementation===Re.implementation){d(Le,Se.sibling),Ye=_(Se,Re.children||[]),Ye.return=Le,Le=Ye;break e}else{d(Le,Se);break}else c(Le,Se);Se=Se.sibling}Ye=kd(Re,Le.mode,Ye),Ye.return=Le,Le=Ye}return $(Le);case P:return Tt=Re._init,Re=Tt(Re._payload),di(Le,Se,Re,Ye)}if(pe(Re))return Wt(Le,Se,Re,Ye);if(j(Re)){if(Tt=j(Re),typeof Tt!="function")throw Error(i(150));return Re=Tt.call(Re),Ot(Le,Se,Re,Ye)}if(typeof Re.then=="function")return di(Le,Se,Cy(Re),Ye);if(Re.$$typeof===O)return di(Le,Se,tu(Le,Re),Ye);Ny(Le,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,Se!==null&&Se.tag===6?(d(Le,Se.sibling),Ye=_(Se,Re),Ye.return=Le,Le=Ye):(d(Le,Se),Ye=Vf(Re,Le.mode,Ye),Ye.return=Le,Le=Ye),$(Le)):d(Le,Se)}return function(Le,Se,Re,Ye){try{Bm=0;var Tt=di(Le,Se,Re,Ye);return Qf=null,Tt}catch(Lt){if(Lt===Q||Lt===ne)throw Lt;var gn=Js(29,Lt,null,Le.mode);return gn.lanes=Ye,gn.return=Le,gn}finally{}}}var Zf=cT(!0),hT=cT(!1),To=be(null),au=null;function bh(o){var c=o.alternate;X(qs,qs.current&1),X(To,o),au===null&&(c===null||on.current!==null||c.memoizedState!==null)&&(au=o)}function dT(o){if(o.tag===22){if(X(qs,qs.current),X(To,o),au===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(au=o)}}else wh()}function wh(){X(qs,qs.current),X(To,To.current)}function lc(o){W(To),au===o&&(au=null),W(qs)}var qs=be(0);function Ly(o){for(var c=o;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||cw(d)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function x2(o,c,d,m){c=o.memoizedState,d=d(m,c),d=d==null?c:f({},c,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var _2={enqueueSetState:function(o,c,d){o=o._reactInternals;var m=Ka(),_=ze(m);_.payload=c,d!=null&&(_.callback=d),c=Xe(o,_,m),c!==null&&(Xa(c,o,m),We(c,o,m))},enqueueReplaceState:function(o,c,d){o=o._reactInternals;var m=Ka(),_=ze(m);_.tag=1,_.payload=c,d!=null&&(_.callback=d),c=Xe(o,_,m),c!==null&&(Xa(c,o,m),We(c,o,m))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var d=Ka(),m=ze(d);m.tag=2,c!=null&&(m.callback=c),c=Xe(o,m,d),c!==null&&(Xa(c,o,d),We(c,o,d))}};function fT(o,c,d,m,_,N,$){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,N,$):c.prototype&&c.prototype.isPureReactComponent?!ql(d,m)||!ql(_,N):!0}function pT(o,c,d,m){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,m),c.state!==o&&_2.enqueueReplaceState(c,c.state,null)}function Wd(o,c){var d=c;if("ref"in c){d={};for(var m in c)m!=="ref"&&(d[m]=c[m])}if(o=o.defaultProps){d===c&&(d=f({},d));for(var _ in o)d[_]===void 0&&(d[_]=o[_])}return d}var ky=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function mT(o){ky(o)}function gT(o){console.error(o)}function yT(o){ky(o)}function Py(o,c){try{var d=o.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function vT(o,c,d){try{var m=o.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function S2(o,c,d){return d=ze(d),d.tag=3,d.payload={element:null},d.callback=function(){Py(o,c)},d}function bT(o){return o=ze(o),o.tag=3,o}function wT(o,c,d,m){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var N=m.value;o.payload=function(){return _(N)},o.callback=function(){vT(c,d,m)}}var $=d.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(o.callback=function(){vT(c,d,m),typeof _!="function"&&(Eh===null?Eh=new Set([this]):Eh.add(this));var se=m.stack;this.componentDidCatch(m.value,{componentStack:se!==null?se:""})})}function i8(o,c,d,m,_){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=d.alternate,c!==null&&fh(c,d,_,!0),d=To.current,d!==null){switch(d.tag){case 13:return au===null?Y2():d.alternate===null&&as===0&&(as=3),d.flags&=-257,d.flags|=65536,d.lanes=_,m===oe?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([m]):c.add(m),K2(o,m,_)),!1;case 22:return d.flags|=65536,m===oe?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([m]):d.add(m)),K2(o,m,_)),!1}throw Error(i(435,d.tag))}return K2(o,m,_),Y2(),!1}if(jn)return c=To.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=_,m!==Em&&(o=Error(i(422),{cause:m}),dh(cn(o,d)))):(m!==Em&&(c=Error(i(423),{cause:m}),dh(cn(c,d))),o=o.current.alternate,o.flags|=65536,_&=-_,o.lanes|=_,m=cn(m,d),_=S2(o.stateNode,m,_),mt(o,_),as!==4&&(as=2)),!1;var N=Error(i(520),{cause:m});if(N=cn(N,d),Km===null?Km=[N]:Km.push(N),as!==4&&(as=2),c===null)return!0;m=cn(m,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,o=_&-_,d.lanes|=o,o=S2(d.stateNode,m,o),mt(d,o),!1;case 1:if(c=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Eh===null||!Eh.has(N))))return d.flags|=65536,_&=-_,d.lanes|=_,_=bT(_),wT(_,o,d,m),mt(d,_),!1}d=d.return}while(d!==null);return!1}var xT=Error(i(461)),er=!1;function pr(o,c,d,m){c.child=o===null?hT(c,null,d,m):Zf(c,o.child,d,m)}function _T(o,c,d,m,_){d=d.render;var N=c.ref;if("ref"in m){var $={};for(var se in m)se!=="ref"&&($[se]=m[se])}else $=m;return So(c),m=Ha(o,c,d,$,N,_),se=bi(),o!==null&&!er?(Dd(o,c,_),uc(o,c,_)):(jn&&se&&Pd(c),c.flags|=1,pr(o,c,m,_),c.child)}function ST(o,c,d,m,_){if(o===null){var N=d.type;return typeof N=="function"&&!ch(N)&&N.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=N,AT(o,c,N,m,_)):(o=Ju(d.type,null,m,c,c.mode,_),o.ref=c.ref,o.return=c,c.child=o)}if(N=o.child,!P2(o,_)){var $=N.memoizedProps;if(d=d.compare,d=d!==null?d:ql,d($,m)&&o.ref===c.ref)return uc(o,c,_)}return c.flags|=1,o=bo(N,m),o.ref=c.ref,o.return=c,c.child=o}function AT(o,c,d,m,_){if(o!==null){var N=o.memoizedProps;if(ql(N,m)&&o.ref===c.ref)if(er=!1,c.pendingProps=m=N,P2(o,_))(o.flags&131072)!==0&&(er=!0);else return c.lanes=o.lanes,uc(o,c,_)}return A2(o,c,d,m,_)}function TT(o,c,d){var m=c.pendingProps,_=m.children,N=o!==null?o.memoizedState:null;if(m.mode==="hidden"){if((c.flags&128)!==0){if(m=N!==null?N.baseLanes|d:d,o!==null){for(_=c.child=o.child,N=0;_!==null;)N=N|_.lanes|_.childLanes,_=_.sibling;c.childLanes=N&~m}else c.childLanes=0,c.child=null;return ET(o,c,m,d)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&U(c,N!==null?N.cachePool:null),N!==null?Zn(c,N):zn(),dT(c);else return c.lanes=c.childLanes=536870912,ET(o,c,N!==null?N.baseLanes|d:d,d)}else N!==null?(U(c,N.cachePool),Zn(c,N),wh(),c.memoizedState=null):(o!==null&&U(c,null),zn(),wh());return pr(o,c,_,d),c.child}function ET(o,c,d,m){var _=R();return _=_===null?null:{parent:ys._currentValue,pool:_},c.memoizedState={baseLanes:d,cachePool:_},o!==null&&U(c,null),zn(),dT(c),o!==null&&fh(o,c,m,!0),null}function Ry(o,c){var d=c.ref;if(d===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(o===null||o.ref!==d)&&(c.flags|=4194816)}}function A2(o,c,d,m,_){return So(c),d=Ha(o,c,d,m,void 0,_),m=bi(),o!==null&&!er?(Dd(o,c,_),uc(o,c,_)):(jn&&m&&Pd(c),c.flags|=1,pr(o,c,d,_),c.child)}function CT(o,c,d,m,_,N){return So(c),c.updateQueue=null,d=sc(c,m,d,_),nu(o),m=bi(),o!==null&&!er?(Dd(o,c,N),uc(o,c,N)):(jn&&m&&Pd(c),c.flags|=1,pr(o,c,d,N),c.child)}function NT(o,c,d,m,_){if(So(c),c.stateNode===null){var N=Ps,$=d.contextType;typeof $=="object"&&$!==null&&(N=gs($)),N=new d(m,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=_2,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=m,N.state=c.memoizedState,N.refs={},_e(c),$=d.contextType,N.context=typeof $=="object"&&$!==null?gs($):Ps,N.state=c.memoizedState,$=d.getDerivedStateFromProps,typeof $=="function"&&(x2(c,d,$,m),N.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||($=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),$!==N.state&&_2.enqueueReplaceState(N,N.state,null),ct(c,m,N,_),Nt(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(o===null){N=c.stateNode;var se=c.memoizedProps,me=Wd(d,se);N.props=me;var De=N.context,qe=d.contextType;$=Ps,typeof qe=="object"&&qe!==null&&($=gs(qe));var Qe=d.getDerivedStateFromProps;qe=typeof Qe=="function"||typeof N.getSnapshotBeforeUpdate=="function",se=c.pendingProps!==se,qe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(se||De!==$)&&pT(c,N,m,$),Ue=!1;var je=c.memoizedState;N.state=je,ct(c,m,N,_),Nt(),De=c.memoizedState,se||je!==De||Ue?(typeof Qe=="function"&&(x2(c,d,Qe,m),De=c.memoizedState),(me=Ue||fT(c,d,me,m,je,De,$))?(qe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=De),N.props=m,N.state=De,N.context=$,m=me):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{N=c.stateNode,Ae(o,c),$=c.memoizedProps,qe=Wd(d,$),N.props=qe,Qe=c.pendingProps,je=N.context,De=d.contextType,me=Ps,typeof De=="object"&&De!==null&&(me=gs(De)),se=d.getDerivedStateFromProps,(De=typeof se=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||($!==Qe||je!==me)&&pT(c,N,m,me),Ue=!1,je=c.memoizedState,N.state=je,ct(c,m,N,_),Nt();var Fe=c.memoizedState;$!==Qe||je!==Fe||Ue||o!==null&&o.dependencies!==null&&qf(o.dependencies)?(typeof se=="function"&&(x2(c,d,se,m),Fe=c.memoizedState),(qe=Ue||fT(c,d,qe,m,je,Fe,me)||o!==null&&o.dependencies!==null&&qf(o.dependencies))?(De||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,Fe,me),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,Fe,me)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||$===o.memoizedProps&&je===o.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&je===o.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=Fe),N.props=m,N.state=Fe,N.context=me,m=qe):(typeof N.componentDidUpdate!="function"||$===o.memoizedProps&&je===o.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&je===o.memoizedState||(c.flags|=1024),m=!1)}return N=m,Ry(o,c),m=(c.flags&128)!==0,N||m?(N=c.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,o!==null&&m?(c.child=Zf(c,o.child,null,_),c.child=Zf(c,null,d,_)):pr(o,c,d,_),c.memoizedState=N.state,o=c.child):o=uc(o,c,_),o}function LT(o,c,d,m){return Qr(),c.flags|=256,pr(o,c,d,m),c.child}var T2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function E2(o){return{baseLanes:o,cachePool:G()}}function C2(o,c,d){return o=o!==null?o.childLanes&~d:0,c&&(o|=Eo),o}function kT(o,c,d){var m=c.pendingProps,_=!1,N=(c.flags&128)!==0,$;if(($=N)||($=o!==null&&o.memoizedState===null?!1:(qs.current&2)!==0),$&&(_=!0,c.flags&=-129),$=(c.flags&32)!==0,c.flags&=-33,o===null){if(jn){if(_?bh(c):wh(),jn){var se=Mi,me;if(me=se){e:{for(me=se,se=wo;me.nodeType!==8;){if(!se){se=null;break e}if(me=dl(me.nextSibling),me===null){se=null;break e}}se=me}se!==null?(c.memoizedState={dehydrated:se,treeContext:ec!==null?{id:nl,overflow:il}:null,retryLane:536870912,hydrationErrors:null},me=Js(18,null,null,0),me.stateNode=se,me.return=c,c.child=me,ms=c,Mi=null,me=!0):me=!1}me||nc(c)}if(se=c.memoizedState,se!==null&&(se=se.dehydrated,se!==null))return cw(se)?c.lanes=32:c.lanes=536870912,null;lc(c)}return se=m.children,m=m.fallback,_?(wh(),_=c.mode,se=My({mode:"hidden",children:se},_),m=el(m,_,d,null),se.return=c,m.return=c,se.sibling=m,c.child=se,_=c.child,_.memoizedState=E2(d),_.childLanes=C2(o,$,d),c.memoizedState=T2,m):(bh(c),N2(c,se))}if(me=o.memoizedState,me!==null&&(se=me.dehydrated,se!==null)){if(N)c.flags&256?(bh(c),c.flags&=-257,c=L2(o,c,d)):c.memoizedState!==null?(wh(),c.child=o.child,c.flags|=128,c=null):(wh(),_=m.fallback,se=c.mode,m=My({mode:"visible",children:m.children},se),_=el(_,se,d,null),_.flags|=2,m.return=c,_.return=c,m.sibling=_,c.child=m,Zf(c,o.child,null,d),m=c.child,m.memoizedState=E2(d),m.childLanes=C2(o,$,d),c.memoizedState=T2,c=_);else if(bh(c),cw(se)){if($=se.nextSibling&&se.nextSibling.dataset,$)var De=$.dgst;$=De,m=Error(i(419)),m.stack="",m.digest=$,dh({value:m,source:null,stack:null}),c=L2(o,c,d)}else if(er||fh(o,c,d,!1),$=(d&o.childLanes)!==0,er||$){if($=wi,$!==null&&(m=d&-d,m=(m&42)!==0?1:Fs(m),m=(m&($.suspendedLanes|d))!==0?0:m,m!==0&&m!==me.retryLane))throw me.retryLane=m,Jo(o,m),Xa($,o,m),xT;se.data==="$?"||Y2(),c=L2(o,c,d)}else se.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=me.treeContext,Mi=dl(se.nextSibling),ms=c,jn=!0,Jl=null,wo=!1,o!==null&&(pa[Xr++]=nl,pa[Xr++]=il,pa[Xr++]=ec,nl=o.id,il=o.overflow,ec=c),c=N2(c,m.children),c.flags|=4096);return c}return _?(wh(),_=m.fallback,se=c.mode,me=o.child,De=me.sibling,m=bo(me,{mode:"hidden",children:m.children}),m.subtreeFlags=me.subtreeFlags&65011712,De!==null?_=bo(De,_):(_=el(_,se,d,null),_.flags|=2),_.return=c,m.return=c,m.sibling=_,c.child=m,m=_,_=c.child,se=o.child.memoizedState,se===null?se=E2(d):(me=se.cachePool,me!==null?(De=ys._currentValue,me=me.parent!==De?{parent:De,pool:De}:me):me=G(),se={baseLanes:se.baseLanes|d,cachePool:me}),_.memoizedState=se,_.childLanes=C2(o,$,d),c.memoizedState=T2,m):(bh(c),d=o.child,o=d.sibling,d=bo(d,{mode:"visible",children:m.children}),d.return=c,d.sibling=null,o!==null&&($=c.deletions,$===null?(c.deletions=[o],c.flags|=16):$.push(o)),c.child=d,c.memoizedState=null,d)}function N2(o,c){return c=My({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function My(o,c){return o=Js(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function L2(o,c,d){return Zf(c,o.child,null,d),o=N2(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function PT(o,c,d){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c),Bf(o.return,c,d)}function k2(o,c,d,m,_){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:_}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=d,N.tailMode=_)}function RT(o,c,d){var m=c.pendingProps,_=m.revealOrder,N=m.tail;if(pr(o,c,m.children,d),m=qs.current,(m&2)!==0)m=m&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&PT(o,d,c);else if(o.tag===19)PT(o,d,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}switch(X(qs,m),_){case"forwards":for(d=c.child,_=null;d!==null;)o=d.alternate,o!==null&&Ly(o)===null&&(_=d),d=d.sibling;d=_,d===null?(_=c.child,c.child=null):(_=d.sibling,d.sibling=null),k2(c,!1,_,d,N);break;case"backwards":for(d=null,_=c.child,c.child=null;_!==null;){if(o=_.alternate,o!==null&&Ly(o)===null){c.child=_;break}o=_.sibling,_.sibling=d,d=_,_=o}k2(c,!0,d,null,N);break;case"together":k2(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function uc(o,c,d){if(o!==null&&(c.dependencies=o.dependencies),Th|=c.lanes,(d&c.childLanes)===0)if(o!==null){if(fh(o,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,d=bo(o,o.pendingProps),c.child=d,d.return=c;o.sibling!==null;)o=o.sibling,d=d.sibling=bo(o,o.pendingProps),d.return=c;d.sibling=null}return c.child}function P2(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&qf(o)))}function s8(o,c,d){switch(c.tag){case 3:ge(c,c.stateNode.containerInfo),eu(c,ys,o.memoizedState.cache),Qr();break;case 27:case 5:Oe(c);break;case 4:ge(c,c.stateNode.containerInfo);break;case 10:eu(c,c.type,c.memoizedProps.value);break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(bh(c),c.flags|=128,null):(d&c.child.childLanes)!==0?kT(o,c,d):(bh(c),o=uc(o,c,d),o!==null?o.sibling:null);bh(c);break;case 19:var _=(o.flags&128)!==0;if(m=(d&c.childLanes)!==0,m||(fh(o,c,d,!1),m=(d&c.childLanes)!==0),_){if(m)return RT(o,c,d);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),X(qs,qs.current),m)break;return null;case 22:case 23:return c.lanes=0,TT(o,c,d);case 24:eu(c,ys,o.memoizedState.cache)}return uc(o,c,d)}function MT(o,c,d){if(o!==null)if(o.memoizedProps!==c.pendingProps)er=!0;else{if(!P2(o,d)&&(c.flags&128)===0)return er=!1,s8(o,c,d);er=(o.flags&131072)!==0}else er=!1,jn&&(c.flags&1048576)!==0&&uy(c,Uf,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var m=c.elementType,_=m._init;if(m=_(m._payload),c.type=m,typeof m=="function")ch(m)?(o=Wd(m,o),c.tag=1,c=NT(null,c,m,o,d)):(c.tag=0,c=A2(null,c,m,o,d));else{if(m!=null){if(_=m.$$typeof,_===B){c.tag=11,c=_T(null,c,m,o,d);break e}else if(_===I){c.tag=14,c=ST(null,c,m,o,d);break e}}throw c=te(m)||m,Error(i(306,c,""))}}return c;case 0:return A2(o,c,c.type,c.pendingProps,d);case 1:return m=c.type,_=Wd(m,c.pendingProps),NT(o,c,m,_,d);case 3:e:{if(ge(c,c.stateNode.containerInfo),o===null)throw Error(i(387));m=c.pendingProps;var N=c.memoizedState;_=N.element,Ae(o,c),ct(c,m,null,d);var $=c.memoizedState;if(m=$.cache,eu(c,ys,m),m!==N.cache&&zf(c,[ys],d,!0),Nt(),m=$.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:$.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=LT(o,c,m,d);break e}else if(m!==_){_=cn(Error(i(424)),c),dh(_),c=LT(o,c,m,d);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Mi=dl(o.firstChild),ms=c,jn=!0,Jl=null,wo=!0,d=hT(c,null,m,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Qr(),m===_){c=uc(o,c,d);break e}pr(o,c,m,d)}c=c.child}return c;case 26:return Ry(o,c),o===null?(d=jE(c.type,null,c.pendingProps,null))?c.memoizedState=d:jn||(d=c.type,o=c.pendingProps,m=Yy(he.current).createElement(d),m[pt]=c,m[Xn]=o,gr(m,d,o),Fn(m),c.stateNode=m):c.memoizedState=jE(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Oe(c),o===null&&jn&&(m=c.stateNode=IE(c.type,c.pendingProps,he.current),ms=c,wo=!0,_=Mi,Lh(c.type)?(hw=_,Mi=dl(m.firstChild)):Mi=_),pr(o,c,c.pendingProps.children,d),Ry(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&jn&&((_=m=Mi)&&(m=R8(m,c.type,c.pendingProps,wo),m!==null?(c.stateNode=m,ms=c,Mi=dl(m.firstChild),wo=!1,_=!0):_=!1),_||nc(c)),Oe(c),_=c.type,N=c.pendingProps,$=o!==null?o.memoizedProps:null,m=N.children,ow(_,N)?m=null:$!==null&&ow(_,$)&&(c.flags|=32),c.memoizedState!==null&&(_=Ha(o,c,iu,null,null,d),sg._currentValue=_),Ry(o,c),pr(o,c,m,d),c.child;case 6:return o===null&&jn&&((o=d=Mi)&&(d=M8(d,c.pendingProps,wo),d!==null?(c.stateNode=d,ms=c,Mi=null,o=!0):o=!1),o||nc(c)),null;case 13:return kT(o,c,d);case 4:return ge(c,c.stateNode.containerInfo),m=c.pendingProps,o===null?c.child=Zf(c,null,m,d):pr(o,c,m,d),c.child;case 11:return _T(o,c,c.type,c.pendingProps,d);case 7:return pr(o,c,c.pendingProps,d),c.child;case 8:return pr(o,c,c.pendingProps.children,d),c.child;case 12:return pr(o,c,c.pendingProps.children,d),c.child;case 10:return m=c.pendingProps,eu(c,c.type,m.value),pr(o,c,m.children,d),c.child;case 9:return _=c.type._context,m=c.pendingProps.children,So(c),_=gs(_),m=m(_),c.flags|=1,pr(o,c,m,d),c.child;case 14:return ST(o,c,c.type,c.pendingProps,d);case 15:return AT(o,c,c.type,c.pendingProps,d);case 19:return RT(o,c,d);case 31:return m=c.pendingProps,d=c.mode,m={mode:m.mode,children:m.children},o===null?(d=My(m,d),d.ref=c.ref,c.child=d,d.return=c,c=d):(d=bo(o.child,m),d.ref=c.ref,c.child=d,d.return=c,c=d),c;case 22:return TT(o,c,d);case 24:return So(c),m=gs(ys),o===null?(_=R(),_===null&&(_=wi,N=Cm(),_.pooledCache=N,N.refCount++,N!==null&&(_.pooledCacheLanes|=d),_=N),c.memoizedState={parent:m,cache:_},_e(c),eu(c,ys,_)):((o.lanes&d)!==0&&(Ae(o,c),ct(c,null,null,d),Nt()),_=o.memoizedState,N=c.memoizedState,_.parent!==m?(_={parent:m,cache:m},c.memoizedState=_,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=_),eu(c,ys,m)):(m=N.cache,eu(c,ys,m),m!==_.cache&&zf(c,[ys],d,!0))),pr(o,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function cc(o){o.flags|=4}function IT(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!zE(c)){if(c=To.current,c!==null&&((Mn&4194048)===Mn?au!==null:(Mn&62914560)!==Mn&&(Mn&536870912)===0||c!==au))throw Pe=oe,J;o.flags|=8192}}function Iy(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Kn():536870912,o.lanes|=c,np|=c)}function qm(o,c){if(!jn)switch(o.tailMode){case"hidden":c=o.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Hi(o){var c=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(c)for(var _=o.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags&65011712,m|=_.flags&65011712,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=m,o.childLanes=d,c}function r8(o,c,d){var m=c.pendingProps;switch(Rd(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(c),null;case 1:return Hi(c),null;case 3:return d=c.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),_o(ys),Ee(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(dr(c)?cc(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,hy())),Hi(c),null;case 26:return d=c.memoizedState,o===null?(cc(c),d!==null?(Hi(c),IT(c,d)):(Hi(c),c.flags&=-16777217)):d?d!==o.memoizedState?(cc(c),Hi(c),IT(c,d)):(Hi(c),c.flags&=-16777217):(o.memoizedProps!==m&&cc(c),Hi(c),c.flags&=-16777217),null;case 27:Ve(c),d=he.current;var _=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==m&&cc(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return Hi(c),null}o=re.current,dr(c)?cy(c):(o=IE(_,m,d),c.stateNode=o,cc(c))}return Hi(c),null;case 5:if(Ve(c),d=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&cc(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return Hi(c),null}if(o=re.current,dr(c))cy(c);else{switch(_=Yy(he.current),o){case 1:o=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:o=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":o=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":o=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":o=_.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof m.is=="string"?_.createElement("select",{is:m.is}):_.createElement("select"),m.multiple?o.multiple=!0:m.size&&(o.size=m.size);break;default:o=typeof m.is=="string"?_.createElement(d,{is:m.is}):_.createElement(d)}}o[pt]=c,o[Xn]=m;e:for(_=c.child;_!==null;){if(_.tag===5||_.tag===6)o.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===c)break e;for(;_.sibling===null;){if(_.return===null||_.return===c)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}c.stateNode=o;e:switch(gr(o,d,m),d){case"button":case"input":case"select":case"textarea":o=!!m.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&cc(c)}}return Hi(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==m&&cc(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(i(166));if(o=he.current,dr(c)){if(o=c.stateNode,d=c.memoizedProps,m=null,_=ms,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}o[pt]=c,o=!!(o.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||CE(o.nodeValue,d)),o||nc(c)}else o=Yy(o).createTextNode(m),o[pt]=c,c.stateNode=o}return Hi(c),null;case 13:if(m=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(_=dr(c),m!==null&&m.dehydrated!==null){if(o===null){if(!_)throw Error(i(318));if(_=c.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[pt]=c}else Qr(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Hi(c),_=!1}else _=hy(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=_),_=!0;if(!_)return c.flags&256?(lc(c),c):(lc(c),null)}if(lc(c),(c.flags&128)!==0)return c.lanes=d,c;if(d=m!==null,o=o!==null&&o.memoizedState!==null,d){m=c.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool);var N=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==_&&(m.flags|=2048)}return d!==o&&d&&(c.child.flags|=8192),Iy(c,c.updateQueue),Hi(c),null;case 4:return Ee(),o===null&&nw(c.stateNode.containerInfo),Hi(c),null;case 10:return _o(c.type),Hi(c),null;case 19:if(W(qs),_=c.memoizedState,_===null)return Hi(c),null;if(m=(c.flags&128)!==0,N=_.rendering,N===null)if(m)qm(_,!1);else{if(as!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(N=Ly(o),N!==null){for(c.flags|=128,qm(_,!1),o=N.updateQueue,c.updateQueue=o,Iy(c,o),c.subtreeFlags=0,o=d,d=c.child;d!==null;)Ld(d,o),d=d.sibling;return X(qs,qs.current&1|2),c.child}o=o.sibling}_.tail!==null&&St()>jy&&(c.flags|=128,m=!0,qm(_,!1),c.lanes=4194304)}else{if(!m)if(o=Ly(N),o!==null){if(c.flags|=128,m=!0,o=o.updateQueue,c.updateQueue=o,Iy(c,o),qm(_,!0),_.tail===null&&_.tailMode==="hidden"&&!N.alternate&&!jn)return Hi(c),null}else 2*St()-_.renderingStartTime>jy&&d!==536870912&&(c.flags|=128,m=!0,qm(_,!1),c.lanes=4194304);_.isBackwards?(N.sibling=c.child,c.child=N):(o=_.last,o!==null?o.sibling=N:c.child=N,_.last=N)}return _.tail!==null?(c=_.tail,_.rendering=c,_.tail=c.sibling,_.renderingStartTime=St(),c.sibling=null,o=qs.current,X(qs,m?o&1|2:o&1),c):(Hi(c),null);case 22:case 23:return lc(c),Gt(),m=c.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(d&536870912)!==0&&(c.flags&128)===0&&(Hi(c),c.subtreeFlags&6&&(c.flags|=8192)):Hi(c),d=c.updateQueue,d!==null&&Iy(c,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==d&&(c.flags|=2048),o!==null&&W(S),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),_o(ys),Hi(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function a8(o,c){switch(Rd(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return _o(ys),Ee(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ve(c),null;case 13:if(lc(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Qr()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return W(qs),null;case 4:return Ee(),null;case 10:return _o(c.type),null;case 22:case 23:return lc(c),Gt(),o!==null&&W(S),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return _o(ys),null;case 25:return null;default:return null}}function DT(o,c){switch(Rd(c),c.tag){case 3:_o(ys),Ee();break;case 26:case 27:case 5:Ve(c);break;case 4:Ee();break;case 13:lc(c);break;case 19:W(qs);break;case 10:_o(c.type);break;case 22:case 23:lc(c),Gt(),o!==null&&W(S);break;case 24:_o(ys)}}function Hm(o,c){try{var d=c.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var _=m.next;d=_;do{if((d.tag&o)===o){m=void 0;var N=d.create,$=d.inst;m=N(),$.destroy=m}d=d.next}while(d!==_)}}catch(se){gi(c,c.return,se)}}function xh(o,c,d){try{var m=c.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var N=_.next;m=N;do{if((m.tag&o)===o){var $=m.inst,se=$.destroy;if(se!==void 0){$.destroy=void 0,_=c;var me=d,De=se;try{De()}catch(qe){gi(_,me,qe)}}}m=m.next}while(m!==N)}}catch(qe){gi(c,c.return,qe)}}function OT(o){var c=o.updateQueue;if(c!==null){var d=o.stateNode;try{Bn(c,d)}catch(m){gi(o,o.return,m)}}}function jT(o,c,d){d.props=Wd(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(m){gi(o,c,m)}}function Wm(o,c){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof d=="function"?o.refCleanup=d(m):d.current=m}}catch(_){gi(o,c,_)}}function ou(o,c){var d=o.ref,m=o.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(_){gi(o,c,_)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){gi(o,c,_)}else d.current=null}function FT(o){var c=o.type,d=o.memoizedProps,m=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(_){gi(o,o.return,_)}}function R2(o,c,d){try{var m=o.stateNode;C8(m,o.type,d,c),m[Xn]=c}catch(_){gi(o,o.return,_)}}function VT(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Lh(o.type)||o.tag===4}function M2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||VT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Lh(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function I2(o,c,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(o),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=$y));else if(m!==4&&(m===27&&Lh(o.type)&&(d=o.stateNode,c=null),o=o.child,o!==null))for(I2(o,c,d),o=o.sibling;o!==null;)I2(o,c,d),o=o.sibling}function Dy(o,c,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?d.insertBefore(o,c):d.appendChild(o);else if(m!==4&&(m===27&&Lh(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(Dy(o,c,d),o=o.sibling;o!==null;)Dy(o,c,d),o=o.sibling}function UT(o){var c=o.stateNode,d=o.memoizedProps;try{for(var m=o.type,_=c.attributes;_.length;)c.removeAttributeNode(_[0]);gr(c,m,d),c[pt]=o,c[Xn]=d}catch(N){gi(o,o.return,N)}}var hc=!1,bs=!1,D2=!1,BT=typeof WeakSet=="function"?WeakSet:Set,tr=null;function o8(o,c){if(o=o.containerInfo,rw=Jy,o=hr(o),zs(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var _=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var $=0,se=-1,me=-1,De=0,qe=0,Qe=o,je=null;t:for(;;){for(var Fe;Qe!==d||_!==0&&Qe.nodeType!==3||(se=$+_),Qe!==N||m!==0&&Qe.nodeType!==3||(me=$+m),Qe.nodeType===3&&($+=Qe.nodeValue.length),(Fe=Qe.firstChild)!==null;)je=Qe,Qe=Fe;for(;;){if(Qe===o)break t;if(je===d&&++De===_&&(se=$),je===N&&++qe===m&&(me=$),(Fe=Qe.nextSibling)!==null)break;Qe=je,je=Qe.parentNode}Qe=Fe}d=se===-1||me===-1?null:{start:se,end:me}}else d=null}d=d||{start:0,end:0}}else d=null;for(aw={focusedElem:o,selectionRange:d},Jy=!1,tr=c;tr!==null;)if(c=tr,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,tr=o;else for(;tr!==null;){switch(c=tr,N=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&N!==null){o=void 0,d=c,_=N.memoizedProps,N=N.memoizedState,m=d.stateNode;try{var Wt=Wd(d.type,_,d.elementType===d.type);o=m.getSnapshotBeforeUpdate(Wt,N),m.__reactInternalSnapshotBeforeUpdate=o}catch(Ot){gi(d,d.return,Ot)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,d=o.nodeType,d===9)uw(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":uw(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=c.sibling,o!==null){o.return=c.return,tr=o;break}tr=c.return}}function zT(o,c,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:_h(o,d),m&4&&Hm(5,d);break;case 1:if(_h(o,d),m&4)if(o=d.stateNode,c===null)try{o.componentDidMount()}catch($){gi(d,d.return,$)}else{var _=Wd(d.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(_,c,o.__reactInternalSnapshotBeforeUpdate)}catch($){gi(d,d.return,$)}}m&64&&OT(d),m&512&&Wm(d,d.return);break;case 3:if(_h(o,d),m&64&&(o=d.updateQueue,o!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{Bn(o,c)}catch($){gi(d,d.return,$)}}break;case 27:c===null&&m&4&&UT(d);case 26:case 5:_h(o,d),c===null&&m&4&&FT(d),m&512&&Wm(d,d.return);break;case 12:_h(o,d);break;case 13:_h(o,d),m&4&&WT(o,d),m&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=g8.bind(null,d),I8(o,d))));break;case 22:if(m=d.memoizedState!==null||hc,!m){c=c!==null&&c.memoizedState!==null||bs,_=hc;var N=bs;hc=m,(bs=c)&&!N?Sh(o,d,(d.subtreeFlags&8772)!==0):_h(o,d),hc=_,bs=N}break;case 30:break;default:_h(o,d)}}function qT(o){var c=o.alternate;c!==null&&(o.alternate=null,qT(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Ns(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ii=null,ga=!1;function dc(o,c,d){for(d=d.child;d!==null;)HT(o,c,d),d=d.sibling}function HT(o,c,d){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(At,d)}catch{}switch(d.tag){case 26:bs||ou(d,c),dc(o,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:bs||ou(d,c);var m=Ii,_=ga;Lh(d.type)&&(Ii=d.stateNode,ga=!1),dc(o,c,d),eg(d.stateNode),Ii=m,ga=_;break;case 5:bs||ou(d,c);case 6:if(m=Ii,_=ga,Ii=null,dc(o,c,d),Ii=m,ga=_,Ii!==null)if(ga)try{(Ii.nodeType===9?Ii.body:Ii.nodeName==="HTML"?Ii.ownerDocument.body:Ii).removeChild(d.stateNode)}catch(N){gi(d,c,N)}else try{Ii.removeChild(d.stateNode)}catch(N){gi(d,c,N)}break;case 18:Ii!==null&&(ga?(o=Ii,RE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),lg(o)):RE(Ii,d.stateNode));break;case 4:m=Ii,_=ga,Ii=d.stateNode.containerInfo,ga=!0,dc(o,c,d),Ii=m,ga=_;break;case 0:case 11:case 14:case 15:bs||xh(2,d,c),bs||xh(4,d,c),dc(o,c,d);break;case 1:bs||(ou(d,c),m=d.stateNode,typeof m.componentWillUnmount=="function"&&jT(d,c,m)),dc(o,c,d);break;case 21:dc(o,c,d);break;case 22:bs=(m=bs)||d.memoizedState!==null,dc(o,c,d),bs=m;break;default:dc(o,c,d)}}function WT(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{lg(o)}catch(d){gi(c,c.return,d)}}function l8(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new BT),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new BT),c;default:throw Error(i(435,o.tag))}}function O2(o,c){var d=l8(o);c.forEach(function(m){var _=y8.bind(null,o,m);d.has(m)||(d.add(m),m.then(_,_))})}function $a(o,c){var d=c.deletions;if(d!==null)for(var m=0;m<d.length;m++){var _=d[m],N=o,$=c,se=$;e:for(;se!==null;){switch(se.tag){case 27:if(Lh(se.type)){Ii=se.stateNode,ga=!1;break e}break;case 5:Ii=se.stateNode,ga=!1;break e;case 3:case 4:Ii=se.stateNode.containerInfo,ga=!0;break e}se=se.return}if(Ii===null)throw Error(i(160));HT(N,$,_),Ii=null,ga=!1,N=_.alternate,N!==null&&(N.return=null),_.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)$T(c,o),c=c.sibling}var hl=null;function $T(o,c){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:$a(c,o),Ya(o),m&4&&(xh(3,o,o.return),Hm(3,o),xh(5,o,o.return));break;case 1:$a(c,o),Ya(o),m&512&&(bs||d===null||ou(d,d.return)),m&64&&hc&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var _=hl;if($a(c,o),Ya(o),m&512&&(bs||d===null||ou(d,d.return)),m&4){var N=d!==null?d.memoizedState:null;if(m=o.memoizedState,d===null)if(m===null)if(o.stateNode===null){e:{m=o.type,d=o.memoizedProps,_=_.ownerDocument||_;t:switch(m){case"title":N=_.getElementsByTagName("title")[0],(!N||N[ur]||N[pt]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=_.createElement(m),_.head.insertBefore(N,_.querySelector("head > title"))),gr(N,m,d),N[pt]=o,Fn(N),m=N;break e;case"link":var $=UE("link","href",_).get(m+(d.href||""));if($){for(var se=0;se<$.length;se++)if(N=$[se],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){$.splice(se,1);break t}}N=_.createElement(m),gr(N,m,d),_.head.appendChild(N);break;case"meta":if($=UE("meta","content",_).get(m+(d.content||""))){for(se=0;se<$.length;se++)if(N=$[se],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){$.splice(se,1);break t}}N=_.createElement(m),gr(N,m,d),_.head.appendChild(N);break;default:throw Error(i(468,m))}N[pt]=o,Fn(N),m=N}o.stateNode=m}else BE(_,o.type,o.stateNode);else o.stateNode=VE(_,m,o.memoizedProps);else N!==m?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,m===null?BE(_,o.type,o.stateNode):VE(_,m,o.memoizedProps)):m===null&&o.stateNode!==null&&R2(o,o.memoizedProps,d.memoizedProps)}break;case 27:$a(c,o),Ya(o),m&512&&(bs||d===null||ou(d,d.return)),d!==null&&m&4&&R2(o,o.memoizedProps,d.memoizedProps);break;case 5:if($a(c,o),Ya(o),m&512&&(bs||d===null||ou(d,d.return)),o.flags&32){_=o.stateNode;try{_r(_,"")}catch(Fe){gi(o,o.return,Fe)}}m&4&&o.stateNode!=null&&(_=o.memoizedProps,R2(o,_,d!==null?d.memoizedProps:_)),m&1024&&(D2=!0);break;case 6:if($a(c,o),Ya(o),m&4){if(o.stateNode===null)throw Error(i(162));m=o.memoizedProps,d=o.stateNode;try{d.nodeValue=m}catch(Fe){gi(o,o.return,Fe)}}break;case 3:if(Xy=null,_=hl,hl=Gy(c.containerInfo),$a(c,o),hl=_,Ya(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{lg(c.containerInfo)}catch(Fe){gi(o,o.return,Fe)}D2&&(D2=!1,YT(o));break;case 4:m=hl,hl=Gy(o.stateNode.containerInfo),$a(c,o),Ya(o),hl=m;break;case 12:$a(c,o),Ya(o);break;case 13:$a(c,o),Ya(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(z2=St()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,O2(o,m)));break;case 22:_=o.memoizedState!==null;var me=d!==null&&d.memoizedState!==null,De=hc,qe=bs;if(hc=De||_,bs=qe||me,$a(c,o),bs=qe,hc=De,Ya(o),m&8192)e:for(c=o.stateNode,c._visibility=_?c._visibility&-2:c._visibility|1,_&&(d===null||me||hc||bs||$d(o)),d=null,c=o;;){if(c.tag===5||c.tag===26){if(d===null){me=d=c;try{if(N=me.stateNode,_)$=N.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{se=me.stateNode;var Qe=me.memoizedProps.style,je=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null;se.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(Fe){gi(me,me.return,Fe)}}}else if(c.tag===6){if(d===null){me=c;try{me.stateNode.nodeValue=_?"":me.memoizedProps}catch(Fe){gi(me,me.return,Fe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=o.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,O2(o,d))));break;case 19:$a(c,o),Ya(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,O2(o,m)));break;case 30:break;case 21:break;default:$a(c,o),Ya(o)}}function Ya(o){var c=o.flags;if(c&2){try{for(var d,m=o.return;m!==null;){if(VT(m)){d=m;break}m=m.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var _=d.stateNode,N=M2(o);Dy(o,N,_);break;case 5:var $=d.stateNode;d.flags&32&&(_r($,""),d.flags&=-33);var se=M2(o);Dy(o,se,$);break;case 3:case 4:var me=d.stateNode.containerInfo,De=M2(o);I2(o,De,me);break;default:throw Error(i(161))}}catch(qe){gi(o,o.return,qe)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function YT(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;YT(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function _h(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)zT(o,c.alternate,c),c=c.sibling}function $d(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:xh(4,c,c.return),$d(c);break;case 1:ou(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&jT(c,c.return,d),$d(c);break;case 27:eg(c.stateNode);case 26:case 5:ou(c,c.return),$d(c);break;case 22:c.memoizedState===null&&$d(c);break;case 30:$d(c);break;default:$d(c)}o=o.sibling}}function Sh(o,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,_=o,N=c,$=N.flags;switch(N.tag){case 0:case 11:case 15:Sh(_,N,d),Hm(4,N);break;case 1:if(Sh(_,N,d),m=N,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(De){gi(m,m.return,De)}if(m=N,_=m.updateQueue,_!==null){var se=m.stateNode;try{var me=_.shared.hiddenCallbacks;if(me!==null)for(_.shared.hiddenCallbacks=null,_=0;_<me.length;_++)Pn(me[_],se)}catch(De){gi(m,m.return,De)}}d&&$&64&&OT(N),Wm(N,N.return);break;case 27:UT(N);case 26:case 5:Sh(_,N,d),d&&m===null&&$&4&&FT(N),Wm(N,N.return);break;case 12:Sh(_,N,d);break;case 13:Sh(_,N,d),d&&$&4&&WT(_,N);break;case 22:N.memoizedState===null&&Sh(_,N,d),Wm(N,N.return);break;case 30:break;default:Sh(_,N,d)}c=c.sibling}}function j2(o,c){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&Md(d))}function F2(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Md(o))}function lu(o,c,d,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)GT(o,c,d,m),c=c.sibling}function GT(o,c,d,m){var _=c.flags;switch(c.tag){case 0:case 11:case 15:lu(o,c,d,m),_&2048&&Hm(9,c);break;case 1:lu(o,c,d,m);break;case 3:lu(o,c,d,m),_&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Md(o)));break;case 12:if(_&2048){lu(o,c,d,m),o=c.stateNode;try{var N=c.memoizedProps,$=N.id,se=N.onPostCommit;typeof se=="function"&&se($,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(me){gi(c,c.return,me)}}else lu(o,c,d,m);break;case 13:lu(o,c,d,m);break;case 23:break;case 22:N=c.stateNode,$=c.alternate,c.memoizedState!==null?N._visibility&2?lu(o,c,d,m):$m(o,c):N._visibility&2?lu(o,c,d,m):(N._visibility|=2,Jf(o,c,d,m,(c.subtreeFlags&10256)!==0)),_&2048&&j2($,c);break;case 24:lu(o,c,d,m),_&2048&&F2(c.alternate,c);break;default:lu(o,c,d,m)}}function Jf(o,c,d,m,_){for(_=_&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var N=o,$=c,se=d,me=m,De=$.flags;switch($.tag){case 0:case 11:case 15:Jf(N,$,se,me,_),Hm(8,$);break;case 23:break;case 22:var qe=$.stateNode;$.memoizedState!==null?qe._visibility&2?Jf(N,$,se,me,_):$m(N,$):(qe._visibility|=2,Jf(N,$,se,me,_)),_&&De&2048&&j2($.alternate,$);break;case 24:Jf(N,$,se,me,_),_&&De&2048&&F2($.alternate,$);break;default:Jf(N,$,se,me,_)}c=c.sibling}}function $m(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=o,m=c,_=m.flags;switch(m.tag){case 22:$m(d,m),_&2048&&j2(m.alternate,m);break;case 24:$m(d,m),_&2048&&F2(m.alternate,m);break;default:$m(d,m)}c=c.sibling}}var Ym=8192;function ep(o){if(o.subtreeFlags&Ym)for(o=o.child;o!==null;)KT(o),o=o.sibling}function KT(o){switch(o.tag){case 26:ep(o),o.flags&Ym&&o.memoizedState!==null&&Y8(hl,o.memoizedState,o.memoizedProps);break;case 5:ep(o);break;case 3:case 4:var c=hl;hl=Gy(o.stateNode.containerInfo),ep(o),hl=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Ym,Ym=16777216,ep(o),Ym=c):ep(o));break;default:ep(o)}}function XT(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Gm(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var m=c[d];tr=m,ZT(m,o)}XT(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)QT(o),o=o.sibling}function QT(o){switch(o.tag){case 0:case 11:case 15:Gm(o),o.flags&2048&&xh(9,o,o.return);break;case 3:Gm(o);break;case 12:Gm(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Oy(o)):Gm(o);break;default:Gm(o)}}function Oy(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var m=c[d];tr=m,ZT(m,o)}XT(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:xh(8,c,c.return),Oy(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,Oy(c));break;default:Oy(c)}o=o.sibling}}function ZT(o,c){for(;tr!==null;){var d=tr;switch(d.tag){case 0:case 11:case 15:xh(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Md(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,tr=m;else e:for(d=o;tr!==null;){m=tr;var _=m.sibling,N=m.return;if(qT(m),m===d){tr=null;break e}if(_!==null){_.return=N,tr=_;break e}tr=N}}}var u8={getCacheForType:function(o){var c=gs(ys),d=c.data.get(o);return d===void 0&&(d=o(),c.data.set(o,d)),d}},c8=typeof WeakMap=="function"?WeakMap:Map,si=0,wi=null,vn=null,Mn=0,ri=0,Ga=null,Ah=!1,tp=!1,V2=!1,fc=0,as=0,Th=0,Yd=0,U2=0,Eo=0,np=0,Km=null,ya=null,B2=!1,z2=0,jy=1/0,Fy=null,Eh=null,mr=0,Ch=null,ip=null,sp=0,q2=0,H2=null,JT=null,Xm=0,W2=null;function Ka(){if((si&2)!==0&&Mn!==0)return Mn&-Mn;if(ae.T!==null){var o=ic;return o!==0?o:Z2()}return Zi()}function eE(){Eo===0&&(Eo=(Mn&536870912)===0||jn?Ys():536870912);var o=To.current;return o!==null&&(o.flags|=32),Eo}function Xa(o,c,d){(o===wi&&(ri===2||ri===9)||o.cancelPendingCommit!==null)&&(rp(o,0),Nh(o,Mn,Eo,!1)),Qi(o,d),((si&2)===0||o!==wi)&&(o===wi&&((si&2)===0&&(Yd|=d),as===4&&Nh(o,Mn,Eo,!1)),uu(o))}function tE(o,c,d){if((si&6)!==0)throw Error(i(327));var m=!d&&(c&124)===0&&(c&o.expiredLanes)===0||Vi(o,c),_=m?f8(o,c):G2(o,c,!0),N=m;do{if(_===0){tp&&!m&&Nh(o,c,0,!1);break}else{if(d=o.current.alternate,N&&!h8(d)){_=G2(o,c,!1),N=!1;continue}if(_===2){if(N=c,o.errorRecoveryDisabledLanes&N)var $=0;else $=o.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){c=$;e:{var se=o;_=Km;var me=se.current.memoizedState.isDehydrated;if(me&&(rp(se,$).flags|=256),$=G2(se,$,!1),$!==2){if(V2&&!me){se.errorRecoveryDisabledLanes|=N,Yd|=N,_=4;break e}N=ya,ya=_,N!==null&&(ya===null?ya=N:ya.push.apply(ya,N))}_=$}if(N=!1,_!==2)continue}}if(_===1){rp(o,0),Nh(o,c,0,!0);break}e:{switch(m=o,N=_,N){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Nh(m,c,Eo,!Ah);break e;case 2:ya=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(_=z2+300-St(),10<_)){if(Nh(m,c,Eo,!Ah),kn(m,0,!0)!==0)break e;m.timeoutHandle=kE(nE.bind(null,m,d,ya,Fy,B2,c,Eo,Yd,np,Ah,N,2,-0,0),_);break e}nE(m,d,ya,Fy,B2,c,Eo,Yd,np,Ah,N,0,-0,0)}}break}while(!0);uu(o)}function nE(o,c,d,m,_,N,$,se,me,De,qe,Qe,je,Fe){if(o.timeoutHandle=-1,Qe=c.subtreeFlags,(Qe&8192||(Qe&16785408)===16785408)&&(ig={stylesheets:null,count:0,unsuspend:$8},KT(c),Qe=G8(),Qe!==null)){o.cancelPendingCommit=Qe(uE.bind(null,o,c,N,d,m,_,$,se,me,qe,1,je,Fe)),Nh(o,N,$,!De);return}uE(o,c,N,d,m,_,$,se,me)}function h8(o){for(var c=o;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var _=d[m],N=_.getSnapshot;_=_.value;try{if(!ks(N(),_))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Nh(o,c,d,m){c&=~U2,c&=~Yd,o.suspendedLanes|=c,o.pingedLanes&=~c,m&&(o.warmLanes|=c),m=o.expirationTimes;for(var _=c;0<_;){var N=31-yt(_),$=1<<N;m[N]=-1,_&=~$}d!==0&&Ct(o,d,c)}function Vy(){return(si&6)===0?(Qm(0),!1):!0}function $2(){if(vn!==null){if(ri===0)var o=vn.return;else o=vn,rl=Rs=null,Wf(o),Qf=null,Bm=0,o=vn;for(;o!==null;)DT(o.alternate,o),o=o.return;vn=null}}function rp(o,c){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,L8(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),$2(),wi=o,vn=d=bo(o.current,null),Mn=c,ri=0,Ga=null,Ah=!1,tp=Vi(o,c),V2=!1,np=Eo=U2=Yd=Th=as=0,ya=Km=null,B2=!1,(c&8)!==0&&(c|=c&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=c;0<m;){var _=31-yt(m),N=1<<_;c|=o[_],m&=~N}return fc=c,da(),d}function iE(o,c){Rt=null,ae.H=Ey,c===Q||c===ne?(c=Ne(),ri=3):c===J?(c=Ne(),ri=4):ri=c===xT?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ga=c,vn===null&&(as=1,Py(o,cn(c,o.current)))}function sE(){var o=ae.H;return ae.H=Ey,o===null?Ey:o}function rE(){var o=ae.A;return ae.A=u8,o}function Y2(){as=4,Ah||(Mn&4194048)!==Mn&&To.current!==null||(tp=!0),(Th&134217727)===0&&(Yd&134217727)===0||wi===null||Nh(wi,Mn,Eo,!1)}function G2(o,c,d){var m=si;si|=2;var _=sE(),N=rE();(wi!==o||Mn!==c)&&(Fy=null,rp(o,c)),c=!1;var $=as;e:do try{if(ri!==0&&vn!==null){var se=vn,me=Ga;switch(ri){case 8:$2(),$=6;break e;case 3:case 2:case 9:case 6:To.current===null&&(c=!0);var De=ri;if(ri=0,Ga=null,ap(o,se,me,De),d&&tp){$=0;break e}break;default:De=ri,ri=0,Ga=null,ap(o,se,me,De)}}d8(),$=as;break}catch(qe){iE(o,qe)}while(!0);return c&&o.shellSuspendCounter++,rl=Rs=null,si=m,ae.H=_,ae.A=N,vn===null&&(wi=null,Mn=0,da()),$}function d8(){for(;vn!==null;)aE(vn)}function f8(o,c){var d=si;si|=2;var m=sE(),_=rE();wi!==o||Mn!==c?(Fy=null,jy=St()+500,rp(o,c)):tp=Vi(o,c);e:do try{if(ri!==0&&vn!==null){c=vn;var N=Ga;t:switch(ri){case 1:ri=0,Ga=null,ap(o,c,N,1);break;case 2:case 9:if(le(N)){ri=0,Ga=null,oE(c);break}c=function(){ri!==2&&ri!==9||wi!==o||(ri=7),uu(o)},N.then(c,c);break e;case 3:ri=7;break e;case 4:ri=5;break e;case 7:le(N)?(ri=0,Ga=null,oE(c)):(ri=0,Ga=null,ap(o,c,N,7));break;case 5:var $=null;switch(vn.tag){case 26:$=vn.memoizedState;case 5:case 27:var se=vn;if(!$||zE($)){ri=0,Ga=null;var me=se.sibling;if(me!==null)vn=me;else{var De=se.return;De!==null?(vn=De,Uy(De)):vn=null}break t}}ri=0,Ga=null,ap(o,c,N,5);break;case 6:ri=0,Ga=null,ap(o,c,N,6);break;case 8:$2(),as=6;break e;default:throw Error(i(462))}}p8();break}catch(qe){iE(o,qe)}while(!0);return rl=Rs=null,ae.H=m,ae.A=_,si=d,vn!==null?0:(wi=null,Mn=0,da(),as)}function p8(){for(;vn!==null&&!ke();)aE(vn)}function aE(o){var c=MT(o.alternate,o,fc);o.memoizedProps=o.pendingProps,c===null?Uy(o):vn=c}function oE(o){var c=o,d=c.alternate;switch(c.tag){case 15:case 0:c=CT(d,c,c.pendingProps,c.type,void 0,Mn);break;case 11:c=CT(d,c,c.pendingProps,c.type.render,c.ref,Mn);break;case 5:Wf(c);default:DT(d,c),c=vn=Ld(c,fc),c=MT(d,c,fc)}o.memoizedProps=o.pendingProps,c===null?Uy(o):vn=c}function ap(o,c,d,m){rl=Rs=null,Wf(c),Qf=null,Bm=0;var _=c.return;try{if(i8(o,_,c,d,Mn)){as=1,Py(o,cn(d,o.current)),vn=null;return}}catch(N){if(_!==null)throw vn=_,N;as=1,Py(o,cn(d,o.current)),vn=null;return}c.flags&32768?(jn||m===1?o=!0:tp||(Mn&536870912)!==0?o=!1:(Ah=o=!0,(m===2||m===9||m===3||m===6)&&(m=To.current,m!==null&&m.tag===13&&(m.flags|=16384))),lE(c,o)):Uy(c)}function Uy(o){var c=o;do{if((c.flags&32768)!==0){lE(c,Ah);return}o=c.return;var d=r8(c.alternate,c,fc);if(d!==null){vn=d;return}if(c=c.sibling,c!==null){vn=c;return}vn=c=o}while(c!==null);as===0&&(as=5)}function lE(o,c){do{var d=a8(o.alternate,o);if(d!==null){d.flags&=32767,vn=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(o=o.sibling,o!==null)){vn=o;return}vn=o=d}while(o!==null);as=6,vn=null}function uE(o,c,d,m,_,N,$,se,me){o.cancelPendingCommit=null;do By();while(mr!==0);if((si&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(N=c.lanes|c.childLanes,N|=Bi,On(o,d,N,$,se,me),o===wi&&(vn=wi=null,Mn=0),ip=c,Ch=o,sp=d,q2=N,H2=_,JT=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,v8(at,function(){return pE(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=ae.T,ae.T=null,_=ue.p,ue.p=2,$=si,si|=4;try{o8(o,c,d)}finally{si=$,ue.p=_,ae.T=m}}mr=1,cE(),hE(),dE()}}function cE(){if(mr===1){mr=0;var o=Ch,c=ip,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=ae.T,ae.T=null;var m=ue.p;ue.p=2;var _=si;si|=4;try{$T(c,o);var N=aw,$=hr(o.containerInfo),se=N.focusedElem,me=N.selectionRange;if($!==se&&se&&se.ownerDocument&&Hl(se.ownerDocument.documentElement,se)){if(me!==null&&zs(se)){var De=me.start,qe=me.end;if(qe===void 0&&(qe=De),"selectionStart"in se)se.selectionStart=De,se.selectionEnd=Math.min(qe,se.value.length);else{var Qe=se.ownerDocument||document,je=Qe&&Qe.defaultView||window;if(je.getSelection){var Fe=je.getSelection(),Wt=se.textContent.length,Ot=Math.min(me.start,Wt),di=me.end===void 0?Ot:Math.min(me.end,Wt);!Fe.extend&&Ot>di&&($=di,di=Ot,Ot=$);var Le=Qo(se,Ot),Se=Qo(se,di);if(Le&&Se&&(Fe.rangeCount!==1||Fe.anchorNode!==Le.node||Fe.anchorOffset!==Le.offset||Fe.focusNode!==Se.node||Fe.focusOffset!==Se.offset)){var Re=Qe.createRange();Re.setStart(Le.node,Le.offset),Fe.removeAllRanges(),Ot>di?(Fe.addRange(Re),Fe.extend(Se.node,Se.offset)):(Re.setEnd(Se.node,Se.offset),Fe.addRange(Re))}}}}for(Qe=[],Fe=se;Fe=Fe.parentNode;)Fe.nodeType===1&&Qe.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<Qe.length;se++){var Ye=Qe[se];Ye.element.scrollLeft=Ye.left,Ye.element.scrollTop=Ye.top}}Jy=!!rw,aw=rw=null}finally{si=_,ue.p=m,ae.T=d}}o.current=c,mr=2}}function hE(){if(mr===2){mr=0;var o=Ch,c=ip,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=ae.T,ae.T=null;var m=ue.p;ue.p=2;var _=si;si|=4;try{zT(o,c.alternate,c)}finally{si=_,ue.p=m,ae.T=d}}mr=3}}function dE(){if(mr===4||mr===3){mr=0,fe();var o=Ch,c=ip,d=sp,m=JT;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?mr=5:(mr=0,ip=Ch=null,fE(o,o.pendingLanes));var _=o.pendingLanes;if(_===0&&(Eh=null),ti(d),c=c.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(At,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=ae.T,_=ue.p,ue.p=2,ae.T=null;try{for(var N=o.onRecoverableError,$=0;$<m.length;$++){var se=m[$];N(se.value,{componentStack:se.stack})}}finally{ae.T=c,ue.p=_}}(sp&3)!==0&&By(),uu(o),_=o.pendingLanes,(d&4194090)!==0&&(_&42)!==0?o===W2?Xm++:(Xm=0,W2=o):Xm=0,Qm(0)}}function fE(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Md(c)))}function By(o){return cE(),hE(),dE(),pE()}function pE(){if(mr!==5)return!1;var o=Ch,c=q2;q2=0;var d=ti(sp),m=ae.T,_=ue.p;try{ue.p=32>d?32:d,ae.T=null,d=H2,H2=null;var N=Ch,$=sp;if(mr=0,ip=Ch=null,sp=0,(si&6)!==0)throw Error(i(331));var se=si;if(si|=4,QT(N.current),GT(N,N.current,$,d),si=se,Qm(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(At,N)}catch{}return!0}finally{ue.p=_,ae.T=m,fE(o,c)}}function mE(o,c,d){c=cn(d,c),c=S2(o.stateNode,c,2),o=Xe(o,c,2),o!==null&&(Qi(o,2),uu(o))}function gi(o,c,d){if(o.tag===3)mE(o,o,d);else for(;c!==null;){if(c.tag===3){mE(c,o,d);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Eh===null||!Eh.has(m))){o=cn(d,o),d=bT(2),m=Xe(c,d,2),m!==null&&(wT(d,m,c,o),Qi(m,2),uu(m));break}}c=c.return}}function K2(o,c,d){var m=o.pingCache;if(m===null){m=o.pingCache=new c8;var _=new Set;m.set(c,_)}else _=m.get(c),_===void 0&&(_=new Set,m.set(c,_));_.has(d)||(V2=!0,_.add(d),o=m8.bind(null,o,c,d),c.then(o,o))}function m8(o,c,d){var m=o.pingCache;m!==null&&m.delete(c),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,wi===o&&(Mn&d)===d&&(as===4||as===3&&(Mn&62914560)===Mn&&300>St()-z2?(si&2)===0&&rp(o,0):U2|=d,np===Mn&&(np=0)),uu(o)}function gE(o,c){c===0&&(c=Kn()),o=Jo(o,c),o!==null&&(Qi(o,c),uu(o))}function g8(o){var c=o.memoizedState,d=0;c!==null&&(d=c.retryLane),gE(o,d)}function y8(o,c){var d=0;switch(o.tag){case 13:var m=o.stateNode,_=o.memoizedState;_!==null&&(d=_.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(c),gE(o,d)}function v8(o,c){return $e(o,c)}var zy=null,op=null,X2=!1,qy=!1,Q2=!1,Gd=0;function uu(o){o!==op&&o.next===null&&(op===null?zy=op=o:op=op.next=o),qy=!0,X2||(X2=!0,w8())}function Qm(o,c){if(!Q2&&qy){Q2=!0;do for(var d=!1,m=zy;m!==null;){if(o!==0){var _=m.pendingLanes;if(_===0)var N=0;else{var $=m.suspendedLanes,se=m.pingedLanes;N=(1<<31-yt(42|o)+1)-1,N&=_&~($&~se),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,wE(m,N))}else N=Mn,N=kn(m,m===wi?N:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(N&3)===0||Vi(m,N)||(d=!0,wE(m,N));m=m.next}while(d);Q2=!1}}function b8(){yE()}function yE(){qy=X2=!1;var o=0;Gd!==0&&(N8()&&(o=Gd),Gd=0);for(var c=St(),d=null,m=zy;m!==null;){var _=m.next,N=vE(m,c);N===0?(m.next=null,d===null?zy=_:d.next=_,_===null&&(op=d)):(d=m,(o!==0||(N&3)!==0)&&(qy=!0)),m=_}Qm(o)}function vE(o,c){for(var d=o.suspendedLanes,m=o.pingedLanes,_=o.expirationTimes,N=o.pendingLanes&-62914561;0<N;){var $=31-yt(N),se=1<<$,me=_[$];me===-1?((se&d)===0||(se&m)!==0)&&(_[$]=un(se,c)):me<=c&&(o.expiredLanes|=se),N&=~se}if(c=wi,d=Mn,d=kn(o,o===c?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,d===0||o===c&&(ri===2||ri===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&it(m),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||Vi(o,d)){if(c=d&-d,c===o.callbackPriority)return c;switch(m!==null&&it(m),ti(d)){case 2:case 8:d=rt;break;case 32:d=at;break;case 268435456:d=xt;break;default:d=at}return m=bE.bind(null,o),d=$e(d,m),o.callbackPriority=c,o.callbackNode=d,c}return m!==null&&m!==null&&it(m),o.callbackPriority=2,o.callbackNode=null,2}function bE(o,c){if(mr!==0&&mr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(By()&&o.callbackNode!==d)return null;var m=Mn;return m=kn(o,o===wi?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(tE(o,m,c),vE(o,St()),o.callbackNode!=null&&o.callbackNode===d?bE.bind(null,o):null)}function wE(o,c){if(By())return null;tE(o,c,!0)}function w8(){k8(function(){(si&6)!==0?$e(nt,b8):yE()})}function Z2(){return Gd===0&&(Gd=Ys()),Gd}function xE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Oa(""+o)}function _E(o,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,o.id&&d.setAttribute("form",o.id),c.parentNode.insertBefore(d,c),o=new FormData(o),d.parentNode.removeChild(d),o}function x8(o,c,d,m,_){if(c==="submit"&&d&&d.stateNode===_){var N=xE((_[Xn]||null).action),$=m.submitter;$&&(c=(c=$[Xn]||null)?xE(c.formAction):$.getAttribute("formAction"),c!==null&&(N=c,$=null));var se=new uo("action","action",null,m,_);o.push({event:se,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Gd!==0){var me=$?_E(_,$):new FormData(_);Ao(d,{pending:!0,data:me,method:_.method,action:N},null,me)}}else typeof N=="function"&&(se.preventDefault(),me=$?_E(_,$):new FormData(_),Ao(d,{pending:!0,data:me,method:_.method,action:N},N,me))},currentTarget:_}]})}}for(var J2=0;J2<Qu.length;J2++){var ew=Qu[J2],_8=ew.toLowerCase(),S8=ew[0].toUpperCase()+ew.slice(1);Ri(_8,"on"+S8)}Ri(lh,"onAnimationEnd"),Ri($l,"onAnimationIteration"),Ri(Yl,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Gl,"onTransitionRun"),Ri(Xu,"onTransitionStart"),Ri(uh,"onTransitionCancel"),Ri(Kl,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zm));function SE(o,c){c=(c&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],_=m.event;m=m.listeners;e:{var N=void 0;if(c)for(var $=m.length-1;0<=$;$--){var se=m[$],me=se.instance,De=se.currentTarget;if(se=se.listener,me!==N&&_.isPropagationStopped())break e;N=se,_.currentTarget=De;try{N(_)}catch(qe){ky(qe)}_.currentTarget=null,N=me}else for($=0;$<m.length;$++){if(se=m[$],me=se.instance,De=se.currentTarget,se=se.listener,me!==N&&_.isPropagationStopped())break e;N=se,_.currentTarget=De;try{N(_)}catch(qe){ky(qe)}_.currentTarget=null,N=me}}}}function bn(o,c){var d=c[Si];d===void 0&&(d=c[Si]=new Set);var m=o+"__bubble";d.has(m)||(AE(c,o,2,!1),d.add(m))}function tw(o,c,d){var m=0;c&&(m|=4),AE(d,o,m,c)}var Hy="_reactListening"+Math.random().toString(36).slice(2);function nw(o){if(!o[Hy]){o[Hy]=!0,ka.forEach(function(d){d!=="selectionchange"&&(A8.has(d)||tw(d,!1,o),tw(d,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Hy]||(c[Hy]=!0,tw("selectionchange",!1,c))}}function AE(o,c,d,m){switch(GE(c)){case 2:var _=Q8;break;case 8:_=Z8;break;default:_=gw}d=_.bind(null,c,d,o),_=void 0,!cr||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),m?_!==void 0?o.addEventListener(c,d,{capture:!0,passive:_}):o.addEventListener(c,d,!0):_!==void 0?o.addEventListener(c,d,{passive:_}):o.addEventListener(c,d,!1)}function iw(o,c,d,m,_){var N=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var $=m.tag;if($===3||$===4){var se=m.stateNode.containerInfo;if(se===_)break;if($===4)for($=m.return;$!==null;){var me=$.tag;if((me===3||me===4)&&$.stateNode.containerInfo===_)return;$=$.return}for(;se!==null;){if($=hs(se),$===null)return;if(me=$.tag,me===5||me===6||me===26||me===27){m=N=$;continue e}se=se.parentNode}}m=m.return}ih(function(){var De=N,qe=ni(d),Qe=[];e:{var je=Zo.get(o);if(je!==void 0){var Fe=uo,Wt=o;switch(o){case"keypress":if(Tr(d)===0)break e;case"keydown":case"keyup":Fe=Ua;break;case"focusin":Wt="focus",Fe=ho;break;case"focusout":Wt="blur",Fe=ho;break;case"beforeblur":case"afterblur":Fe=ho;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=co;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=Ul;break;case lh:case $l:case Yl:Fe=jl;break;case Kl:Fe=K;break;case"scroll":case"scrollend":Fe=Hu;break;case"wheel":Fe=ve;break;case"copy":case"cut":case"paste":Fe=Fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Xo;break;case"toggle":case"beforetoggle":Fe=Be}var Ot=(c&4)!==0,di=!Ot&&(o==="scroll"||o==="scrollend"),Le=Ot?je!==null?je+"Capture":null:je;Ot=[];for(var Se=De,Re;Se!==null;){var Ye=Se;if(Re=Ye.stateNode,Ye=Ye.tag,Ye!==5&&Ye!==26&&Ye!==27||Re===null||Le===null||(Ye=Ks(Se,Le),Ye!=null&&Ot.push(Jm(Se,Ye,Re))),di)break;Se=Se.return}0<Ot.length&&(je=new Fe(je,Wt,null,d,qe),Qe.push({event:je,listeners:Ot}))}}if((c&7)===0){e:{if(je=o==="mouseover"||o==="pointerover",Fe=o==="mouseout"||o==="pointerout",je&&d!==sa&&(Wt=d.relatedTarget||d.fromElement)&&(hs(Wt)||Wt[mi]))break e;if((Fe||je)&&(je=qe.window===qe?qe:(je=qe.ownerDocument)?je.defaultView||je.parentWindow:window,Fe?(Wt=d.relatedTarget||d.toElement,Fe=De,Wt=Wt?hs(Wt):null,Wt!==null&&(di=r(Wt),Ot=Wt.tag,Wt!==di||Ot!==5&&Ot!==27&&Ot!==6)&&(Wt=null)):(Fe=null,Wt=De),Fe!==Wt)){if(Ot=ns,Ye="onMouseLeave",Le="onMouseEnter",Se="mouse",(o==="pointerout"||o==="pointerover")&&(Ot=Xo,Ye="onPointerLeave",Le="onPointerEnter",Se="pointer"),di=Fe==null?je:ds(Fe),Re=Wt==null?je:ds(Wt),je=new Ot(Ye,Se+"leave",Fe,d,qe),je.target=di,je.relatedTarget=Re,Ye=null,hs(qe)===De&&(Ot=new Ot(Le,Se+"enter",Wt,d,qe),Ot.target=Re,Ot.relatedTarget=di,Ye=Ot),di=Ye,Fe&&Wt)t:{for(Ot=Fe,Le=Wt,Se=0,Re=Ot;Re;Re=lp(Re))Se++;for(Re=0,Ye=Le;Ye;Ye=lp(Ye))Re++;for(;0<Se-Re;)Ot=lp(Ot),Se--;for(;0<Re-Se;)Le=lp(Le),Re--;for(;Se--;){if(Ot===Le||Le!==null&&Ot===Le.alternate)break t;Ot=lp(Ot),Le=lp(Le)}Ot=null}else Ot=null;Fe!==null&&TE(Qe,je,Fe,Ot,!1),Wt!==null&&di!==null&&TE(Qe,di,Wt,Ot,!0)}}e:{if(je=De?ds(De):window,Fe=je.nodeName&&je.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&je.type==="file")var Tt=ah;else if(Qn(je))if($u)Tt=jf;else{Tt=Tm;var gn=Cr}else Fe=je.nodeName,!Fe||Fe.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?De&&zu(De.elementType)&&(Tt=ah):Tt=Cd;if(Tt&&(Tt=Tt(o,De))){ca(Qe,Tt,d,qe);break e}gn&&gn(o,je,De),o==="focusout"&&De&&je.type==="number"&&De.memoizedProps.value!=null&&ao(je,"number",je.value)}switch(gn=De?ds(De):window,o){case"focusin":(Qn(gn)||gn.contentEditable==="true")&&(Nr=gn,Ba=De,yo=null);break;case"focusout":yo=Ba=Nr=null;break;case"mousedown":za=!0;break;case"contextmenu":case"mouseup":case"dragend":za=!1,Pi(Qe,d,qe);break;case"selectionchange":if(Wl)break;case"keydown":case"keyup":Pi(Qe,d,qe)}var Lt;if(ut)e:{switch(o){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else Dt?Ie(o,d)&&(Ft="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Ft="onCompositionStart");Ft&&(q&&d.locale!=="ko"&&(Dt||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&Dt&&(Lt=qu()):(Ar=qe,lo="value"in Ar?Ar.value:Ar.textContent,Dt=!0)),gn=Wy(De,Ft),0<gn.length&&(Ft=new Yo(Ft,o,null,d,qe),Qe.push({event:Ft,listeners:gn}),Lt?Ft.data=Lt:(Lt=et(d),Lt!==null&&(Ft.data=Lt)))),(Lt=D?mn(o,d):Yt(o,d))&&(Ft=Wy(De,"onBeforeInput"),0<Ft.length&&(gn=new Yo("onBeforeInput","beforeinput",null,d,qe),Qe.push({event:gn,listeners:Ft}),gn.data=Lt)),x8(Qe,o,De,d,qe)}SE(Qe,c)})}function Jm(o,c,d){return{instance:o,listener:c,currentTarget:d}}function Wy(o,c){for(var d=c+"Capture",m=[];o!==null;){var _=o,N=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||N===null||(_=Ks(o,d),_!=null&&m.unshift(Jm(o,_,N)),_=Ks(o,c),_!=null&&m.push(Jm(o,_,N))),o.tag===3)return m;o=o.return}return[]}function lp(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function TE(o,c,d,m,_){for(var N=c._reactName,$=[];d!==null&&d!==m;){var se=d,me=se.alternate,De=se.stateNode;if(se=se.tag,me!==null&&me===m)break;se!==5&&se!==26&&se!==27||De===null||(me=De,_?(De=Ks(d,N),De!=null&&$.unshift(Jm(d,De,me))):_||(De=Ks(d,N),De!=null&&$.push(Jm(d,De,me)))),d=d.return}$.length!==0&&o.push({event:c,listeners:$})}var T8=/\r\n?/g,E8=/\u0000|\uFFFD/g;function EE(o){return(typeof o=="string"?o:""+o).replace(T8,`
`).replace(E8,"")}function CE(o,c){return c=EE(c),EE(o)===c}function $y(){}function hi(o,c,d,m,_,N){switch(d){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||_r(o,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&_r(o,""+m);break;case"className":Yr(o,"class",m);break;case"tabIndex":Yr(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(o,d,m);break;case"style":Bu(o,m,N);break;case"data":if(c!=="object"){Yr(o,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||d!=="href")){o.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=Oa(""+m),o.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(c!=="input"&&hi(o,c,"name",_.name,_,null),hi(o,c,"formEncType",_.formEncType,_,null),hi(o,c,"formMethod",_.formMethod,_,null),hi(o,c,"formTarget",_.formTarget,_,null)):(hi(o,c,"encType",_.encType,_,null),hi(o,c,"method",_.method,_,null),hi(o,c,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=Oa(""+m),o.setAttribute(d,m);break;case"onClick":m!=null&&(o.onclick=$y);break;case"onScroll":m!=null&&bn("scroll",o);break;case"onScrollEnd":m!=null&&bn("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(i(60));o.innerHTML=d}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}d=Oa(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""+m):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":m===!0?o.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,m):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(d,m):o.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(d):o.setAttribute(d,m);break;case"popover":bn("beforetoggle",o),bn("toggle",o),$r(o,"popover",m);break;case"xlinkActuate":fs(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":fs(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":fs(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":fs(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":fs(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":fs(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":fs(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":fs(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":fs(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":$r(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Da.get(d)||d,$r(o,d,m))}}function sw(o,c,d,m,_,N){switch(d){case"style":Bu(o,m,N);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(i(60));o.innerHTML=d}}break;case"children":typeof m=="string"?_r(o,m):(typeof m=="number"||typeof m=="bigint")&&_r(o,""+m);break;case"onScroll":m!=null&&bn("scroll",o);break;case"onScrollEnd":m!=null&&bn("scrollend",o);break;case"onClick":m!=null&&(o.onclick=$y);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),c=d.slice(2,_?d.length-7:void 0),N=o[Xn]||null,N=N!=null?N[d]:null,typeof N=="function"&&o.removeEventListener(c,N,_),typeof m=="function")){typeof N!="function"&&N!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(c,m,_);break e}d in o?o[d]=m:m===!0?o.setAttribute(d,""):$r(o,d,m)}}}function gr(o,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bn("error",o),bn("load",o);var m=!1,_=!1,N;for(N in d)if(d.hasOwnProperty(N)){var $=d[N];if($!=null)switch(N){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:hi(o,c,N,$,d,null)}}_&&hi(o,c,"srcSet",d.srcSet,d,null),m&&hi(o,c,"src",d.src,d,null);return;case"input":bn("invalid",o);var se=N=$=_=null,me=null,De=null;for(m in d)if(d.hasOwnProperty(m)){var qe=d[m];if(qe!=null)switch(m){case"name":_=qe;break;case"type":$=qe;break;case"checked":me=qe;break;case"defaultChecked":De=qe;break;case"value":N=qe;break;case"defaultValue":se=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(i(137,c));break;default:hi(o,c,m,qe,d,null)}}ro(o,N,se,me,De,$,_,!1),so(o);return;case"select":bn("invalid",o),m=$=N=null;for(_ in d)if(d.hasOwnProperty(_)&&(se=d[_],se!=null))switch(_){case"value":N=se;break;case"defaultValue":$=se;break;case"multiple":m=se;default:hi(o,c,_,se,d,null)}c=N,d=$,o.multiple=!!m,c!=null?ia(o,!!m,c,!1):d!=null&&ia(o,!!m,d,!0);return;case"textarea":bn("invalid",o),N=_=m=null;for($ in d)if(d.hasOwnProperty($)&&(se=d[$],se!=null))switch($){case"value":m=se;break;case"defaultValue":_=se;break;case"children":N=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(91));break;default:hi(o,c,$,se,d,null)}oo(o,m,_,N),so(o);return;case"option":for(me in d)if(d.hasOwnProperty(me)&&(m=d[me],m!=null))switch(me){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:hi(o,c,me,m,d,null)}return;case"dialog":bn("beforetoggle",o),bn("toggle",o),bn("cancel",o),bn("close",o);break;case"iframe":case"object":bn("load",o);break;case"video":case"audio":for(m=0;m<Zm.length;m++)bn(Zm[m],o);break;case"image":bn("error",o),bn("load",o);break;case"details":bn("toggle",o);break;case"embed":case"source":case"link":bn("error",o),bn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in d)if(d.hasOwnProperty(De)&&(m=d[De],m!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:hi(o,c,De,m,d,null)}return;default:if(zu(c)){for(qe in d)d.hasOwnProperty(qe)&&(m=d[qe],m!==void 0&&sw(o,c,qe,m,d,void 0));return}}for(se in d)d.hasOwnProperty(se)&&(m=d[se],m!=null&&hi(o,c,se,m,d,null))}function C8(o,c,d,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,N=null,$=null,se=null,me=null,De=null,qe=null;for(Fe in d){var Qe=d[Fe];if(d.hasOwnProperty(Fe)&&Qe!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":me=Qe;default:m.hasOwnProperty(Fe)||hi(o,c,Fe,null,m,Qe)}}for(var je in m){var Fe=m[je];if(Qe=d[je],m.hasOwnProperty(je)&&(Fe!=null||Qe!=null))switch(je){case"type":N=Fe;break;case"name":_=Fe;break;case"checked":De=Fe;break;case"defaultChecked":qe=Fe;break;case"value":$=Fe;break;case"defaultValue":se=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(i(137,c));break;default:Fe!==Qe&&hi(o,c,je,Fe,m,Qe)}}Us(o,$,se,me,De,qe,N,_);return;case"select":Fe=$=se=je=null;for(N in d)if(me=d[N],d.hasOwnProperty(N)&&me!=null)switch(N){case"value":break;case"multiple":Fe=me;default:m.hasOwnProperty(N)||hi(o,c,N,null,m,me)}for(_ in m)if(N=m[_],me=d[_],m.hasOwnProperty(_)&&(N!=null||me!=null))switch(_){case"value":je=N;break;case"defaultValue":se=N;break;case"multiple":$=N;default:N!==me&&hi(o,c,_,N,m,me)}c=se,d=$,m=Fe,je!=null?ia(o,!!d,je,!1):!!m!=!!d&&(c!=null?ia(o,!!d,c,!0):ia(o,!!d,d?[]:"",!1));return;case"textarea":Fe=je=null;for(se in d)if(_=d[se],d.hasOwnProperty(se)&&_!=null&&!m.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:hi(o,c,se,null,m,_)}for($ in m)if(_=m[$],N=d[$],m.hasOwnProperty($)&&(_!=null||N!=null))switch($){case"value":je=_;break;case"defaultValue":Fe=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==N&&hi(o,c,$,_,m,N)}Vn(o,je,Fe);return;case"option":for(var Wt in d)if(je=d[Wt],d.hasOwnProperty(Wt)&&je!=null&&!m.hasOwnProperty(Wt))switch(Wt){case"selected":o.selected=!1;break;default:hi(o,c,Wt,null,m,je)}for(me in m)if(je=m[me],Fe=d[me],m.hasOwnProperty(me)&&je!==Fe&&(je!=null||Fe!=null))switch(me){case"selected":o.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:hi(o,c,me,je,m,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in d)je=d[Ot],d.hasOwnProperty(Ot)&&je!=null&&!m.hasOwnProperty(Ot)&&hi(o,c,Ot,null,m,je);for(De in m)if(je=m[De],Fe=d[De],m.hasOwnProperty(De)&&je!==Fe&&(je!=null||Fe!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(i(137,c));break;default:hi(o,c,De,je,m,Fe)}return;default:if(zu(c)){for(var di in d)je=d[di],d.hasOwnProperty(di)&&je!==void 0&&!m.hasOwnProperty(di)&&sw(o,c,di,void 0,m,je);for(qe in m)je=m[qe],Fe=d[qe],!m.hasOwnProperty(qe)||je===Fe||je===void 0&&Fe===void 0||sw(o,c,qe,je,m,Fe);return}}for(var Le in d)je=d[Le],d.hasOwnProperty(Le)&&je!=null&&!m.hasOwnProperty(Le)&&hi(o,c,Le,null,m,je);for(Qe in m)je=m[Qe],Fe=d[Qe],!m.hasOwnProperty(Qe)||je===Fe||je==null&&Fe==null||hi(o,c,Qe,je,m,Fe)}var rw=null,aw=null;function Yy(o){return o.nodeType===9?o:o.ownerDocument}function NE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LE(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function ow(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var lw=null;function N8(){var o=window.event;return o&&o.type==="popstate"?o===lw?!1:(lw=o,!0):(lw=null,!1)}var kE=typeof setTimeout=="function"?setTimeout:void 0,L8=typeof clearTimeout=="function"?clearTimeout:void 0,PE=typeof Promise=="function"?Promise:void 0,k8=typeof queueMicrotask=="function"?queueMicrotask:typeof PE<"u"?function(o){return PE.resolve(null).then(o).catch(P8)}:kE;function P8(o){setTimeout(function(){throw o})}function Lh(o){return o==="head"}function RE(o,c){var d=c,m=0,_=0;do{var N=d.nextSibling;if(o.removeChild(d),N&&N.nodeType===8)if(d=N.data,d==="/$"){if(0<m&&8>m){d=m;var $=o.ownerDocument;if(d&1&&eg($.documentElement),d&2&&eg($.body),d&4)for(d=$.head,eg(d),$=d.firstChild;$;){var se=$.nextSibling,me=$.nodeName;$[ur]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&$.rel.toLowerCase()==="stylesheet"||d.removeChild($),$=se}}if(_===0){o.removeChild(N),lg(c);return}_--}else d==="$"||d==="$?"||d==="$!"?_++:m=d.charCodeAt(0)-48;else m=0;d=N}while(d);lg(c)}function uw(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":uw(d),Ns(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function R8(o,c,d,m){for(;o.nodeType===1;){var _=d;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[ur])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(N=o.getAttribute("rel"),N==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(N!==_.rel||o.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||o.getAttribute("title")!==(_.title==null?null:_.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(N=o.getAttribute("src"),(N!==(_.src==null?null:_.src)||o.getAttribute("type")!==(_.type==null?null:_.type)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&N&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var N=_.name==null?null:""+_.name;if(_.type==="hidden"&&o.getAttribute("name")===N)return o}else return o;if(o=dl(o.nextSibling),o===null)break}return null}function M8(o,c,d){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=dl(o.nextSibling),o===null))return null;return o}function cw(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function I8(o,c){var d=o.ownerDocument;if(o.data!=="$?"||d.readyState==="complete")c();else{var m=function(){c(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function dl(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var hw=null;function ME(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(c===0)return o;c--}else d==="/$"&&c++}o=o.previousSibling}return null}function IE(o,c,d){switch(c=Yy(d),o){case"html":if(o=c.documentElement,!o)throw Error(i(452));return o;case"head":if(o=c.head,!o)throw Error(i(453));return o;case"body":if(o=c.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function eg(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Ns(o)}var Co=new Map,DE=new Set;function Gy(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var pc=ue.d;ue.d={f:D8,r:O8,D:j8,C:F8,L:V8,m:U8,X:z8,S:B8,M:q8};function D8(){var o=pc.f(),c=Vy();return o||c}function O8(o){var c=es(o);c!==null&&c.tag===5&&c.type==="form"?qd(c):pc.r(o)}var up=typeof document>"u"?null:document;function OE(o,c,d){var m=up;if(m&&typeof c=="string"&&c){var _=En(c);_='link[rel="'+o+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),DE.has(_)||(DE.add(_),o={rel:o,crossOrigin:d,href:c},m.querySelector(_)===null&&(c=m.createElement("link"),gr(c,"link",o),Fn(c),m.head.appendChild(c)))}}function j8(o){pc.D(o),OE("dns-prefetch",o,null)}function F8(o,c){pc.C(o,c),OE("preconnect",o,c)}function V8(o,c,d){pc.L(o,c,d);var m=up;if(m&&o&&c){var _='link[rel="preload"][as="'+En(c)+'"]';c==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+En(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+En(d.imageSizes)+'"]')):_+='[href="'+En(o)+'"]';var N=_;switch(c){case"style":N=cp(o);break;case"script":N=hp(o)}Co.has(N)||(o=f({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:o,as:c},d),Co.set(N,o),m.querySelector(_)!==null||c==="style"&&m.querySelector(tg(N))||c==="script"&&m.querySelector(ng(N))||(c=m.createElement("link"),gr(c,"link",o),Fn(c),m.head.appendChild(c)))}}function U8(o,c){pc.m(o,c);var d=up;if(d&&o){var m=c&&typeof c.as=="string"?c.as:"script",_='link[rel="modulepreload"][as="'+En(m)+'"][href="'+En(o)+'"]',N=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=hp(o)}if(!Co.has(N)&&(o=f({rel:"modulepreload",href:o},c),Co.set(N,o),d.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(ng(N)))return}m=d.createElement("link"),gr(m,"link",o),Fn(m),d.head.appendChild(m)}}}function B8(o,c,d){pc.S(o,c,d);var m=up;if(m&&o){var _=li(m).hoistableStyles,N=cp(o);c=c||"default";var $=_.get(N);if(!$){var se={loading:0,preload:null};if($=m.querySelector(tg(N)))se.loading=5;else{o=f({rel:"stylesheet",href:o,"data-precedence":c},d),(d=Co.get(N))&&dw(o,d);var me=$=m.createElement("link");Fn(me),gr(me,"link",o),me._p=new Promise(function(De,qe){me.onload=De,me.onerror=qe}),me.addEventListener("load",function(){se.loading|=1}),me.addEventListener("error",function(){se.loading|=2}),se.loading|=4,Ky($,c,m)}$={type:"stylesheet",instance:$,count:1,state:se},_.set(N,$)}}}function z8(o,c){pc.X(o,c);var d=up;if(d&&o){var m=li(d).hoistableScripts,_=hp(o),N=m.get(_);N||(N=d.querySelector(ng(_)),N||(o=f({src:o,async:!0},c),(c=Co.get(_))&&fw(o,c),N=d.createElement("script"),Fn(N),gr(N,"link",o),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(_,N))}}function q8(o,c){pc.M(o,c);var d=up;if(d&&o){var m=li(d).hoistableScripts,_=hp(o),N=m.get(_);N||(N=d.querySelector(ng(_)),N||(o=f({src:o,async:!0,type:"module"},c),(c=Co.get(_))&&fw(o,c),N=d.createElement("script"),Fn(N),gr(N,"link",o),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(_,N))}}function jE(o,c,d,m){var _=(_=he.current)?Gy(_):null;if(!_)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=cp(d.href),d=li(_).hoistableStyles,m=d.get(c),m||(m={type:"style",instance:null,count:0,state:null},d.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=cp(d.href);var N=li(_).hoistableStyles,$=N.get(o);if($||(_=_.ownerDocument||_,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(o,$),(N=_.querySelector(tg(o)))&&!N._p&&($.instance=N,$.state.loading=5),Co.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Co.set(o,d),N||H8(_,o,d,$.state))),c&&m===null)throw Error(i(528,""));return $}if(c&&m!==null)throw Error(i(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=hp(d),d=li(_).hoistableScripts,m=d.get(c),m||(m={type:"script",instance:null,count:0,state:null},d.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function cp(o){return'href="'+En(o)+'"'}function tg(o){return'link[rel="stylesheet"]['+o+"]"}function FE(o){return f({},o,{"data-precedence":o.precedence,precedence:null})}function H8(o,c,d,m){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=o.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),gr(c,"link",d),Fn(c),o.head.appendChild(c))}function hp(o){return'[src="'+En(o)+'"]'}function ng(o){return"script[async]"+o}function VE(o,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var m=o.querySelector('style[data-href~="'+En(d.href)+'"]');if(m)return c.instance=m,Fn(m),m;var _=f({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Fn(m),gr(m,"style",_),Ky(m,d.precedence,o),c.instance=m;case"stylesheet":_=cp(d.href);var N=o.querySelector(tg(_));if(N)return c.state.loading|=4,c.instance=N,Fn(N),N;m=FE(d),(_=Co.get(_))&&dw(m,_),N=(o.ownerDocument||o).createElement("link"),Fn(N);var $=N;return $._p=new Promise(function(se,me){$.onload=se,$.onerror=me}),gr(N,"link",m),c.state.loading|=4,Ky(N,d.precedence,o),c.instance=N;case"script":return N=hp(d.src),(_=o.querySelector(ng(N)))?(c.instance=_,Fn(_),_):(m=d,(_=Co.get(N))&&(m=f({},d),fw(m,_)),o=o.ownerDocument||o,_=o.createElement("script"),Fn(_),gr(_,"link",m),o.head.appendChild(_),c.instance=_);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,Ky(m,d.precedence,o));return c.instance}function Ky(o,c,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,N=_,$=0;$<m.length;$++){var se=m[$];if(se.dataset.precedence===c)N=se;else if(N!==_)break}N?N.parentNode.insertBefore(o,N.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(o,c.firstChild))}function dw(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function fw(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Xy=null;function UE(o,c,d){if(Xy===null){var m=new Map,_=Xy=new Map;_.set(d,m)}else _=Xy,m=_.get(d),m||(m=new Map,_.set(d,m));if(m.has(o))return m;for(m.set(o,null),d=d.getElementsByTagName(o),_=0;_<d.length;_++){var N=d[_];if(!(N[ur]||N[pt]||o==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var $=N.getAttribute(c)||"";$=o+$;var se=m.get($);se?se.push(N):m.set($,[N])}}return m}function BE(o,c,d){o=o.ownerDocument||o,o.head.insertBefore(d,c==="title"?o.querySelector("head > title"):null)}function W8(o,c,d){if(d===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function zE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var ig=null;function $8(){}function Y8(o,c,d){if(ig===null)throw Error(i(475));var m=ig;if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var _=cp(d.href),N=o.querySelector(tg(_));if(N){o=N._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(m.count++,m=Qy.bind(m),o.then(m,m)),c.state.loading|=4,c.instance=N,Fn(N);return}N=o.ownerDocument||o,d=FE(d),(_=Co.get(_))&&dw(d,_),N=N.createElement("link"),Fn(N);var $=N;$._p=new Promise(function(se,me){$.onload=se,$.onerror=me}),gr(N,"link",d),c.instance=N}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(m.count++,c=Qy.bind(m),o.addEventListener("load",c),o.addEventListener("error",c))}}function G8(){if(ig===null)throw Error(i(475));var o=ig;return o.stylesheets&&o.count===0&&pw(o,o.stylesheets),0<o.count?function(c){var d=setTimeout(function(){if(o.stylesheets&&pw(o,o.stylesheets),o.unsuspend){var m=o.unsuspend;o.unsuspend=null,m()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(d)}}:null}function Qy(){if(this.count--,this.count===0){if(this.stylesheets)pw(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Zy=null;function pw(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Zy=new Map,c.forEach(K8,o),Zy=null,Qy.call(o))}function K8(o,c){if(!(c.state.loading&4)){var d=Zy.get(o);if(d)var m=d.get(null);else{d=new Map,Zy.set(o,d);for(var _=o.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<_.length;N++){var $=_[N];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(d.set($.dataset.precedence,$),m=$)}m&&d.set(null,m)}_=c.instance,$=_.getAttribute("data-precedence"),N=d.get($)||m,N===m&&d.set(null,_),d.set($,_),this.count++,m=Qy.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),N?N.parentNode.insertBefore(_,N.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(_,o.firstChild)),c.state.loading|=4}}var sg={$$typeof:O,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function X8(o,c,d,m,_,N,$,se){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=N,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function qE(o,c,d,m,_,N,$,se,me,De,qe,Qe){return o=new X8(o,c,d,$,se,me,De,Qe),c=1,N===!0&&(c|=24),N=Js(3,null,null,c),o.current=N,N.stateNode=o,c=Cm(),c.refCount++,o.pooledCache=c,c.refCount++,N.memoizedState={element:m,isDehydrated:d,cache:c},_e(N),o}function HE(o){return o?(o=Ps,o):Ps}function WE(o,c,d,m,_,N){_=HE(_),m.context===null?m.context=_:m.pendingContext=_,m=ze(c),m.payload={element:d},N=N===void 0?null:N,N!==null&&(m.callback=N),d=Xe(o,m,c),d!==null&&(Xa(d,o,c),We(d,o,c))}function $E(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<c?d:c}}function mw(o,c){$E(o,c),(o=o.alternate)&&$E(o,c)}function YE(o){if(o.tag===13){var c=Jo(o,67108864);c!==null&&Xa(c,o,67108864),mw(o,67108864)}}var Jy=!0;function Q8(o,c,d,m){var _=ae.T;ae.T=null;var N=ue.p;try{ue.p=2,gw(o,c,d,m)}finally{ue.p=N,ae.T=_}}function Z8(o,c,d,m){var _=ae.T;ae.T=null;var N=ue.p;try{ue.p=8,gw(o,c,d,m)}finally{ue.p=N,ae.T=_}}function gw(o,c,d,m){if(Jy){var _=yw(m);if(_===null)iw(o,c,m,ev,d),KE(o,m);else if(e7(_,o,c,d,m))m.stopPropagation();else if(KE(o,m),c&4&&-1<J8.indexOf(o)){for(;_!==null;){var N=es(_);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var $=Jt(N.pendingLanes);if($!==0){var se=N;for(se.pendingLanes|=2,se.entangledLanes|=2;$;){var me=1<<31-yt($);se.entanglements[1]|=me,$&=~me}uu(N),(si&6)===0&&(jy=St()+500,Qm(0))}}break;case 13:se=Jo(N,2),se!==null&&Xa(se,N,2),Vy(),mw(N,2)}if(N=yw(m),N===null&&iw(o,c,m,ev,d),N===_)break;_=N}_!==null&&m.stopPropagation()}else iw(o,c,m,null,d)}}function yw(o){return o=ni(o),vw(o)}var ev=null;function vw(o){if(ev=null,o=hs(o),o!==null){var c=r(o);if(c===null)o=null;else{var d=c.tag;if(d===13){if(o=a(c),o!==null)return o;o=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return ev=o,null}function GE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wt()){case nt:return 2;case rt:return 8;case at:case lt:return 32;case xt:return 268435456;default:return 32}default:return 32}}var bw=!1,kh=null,Ph=null,Rh=null,rg=new Map,ag=new Map,Mh=[],J8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KE(o,c){switch(o){case"focusin":case"focusout":kh=null;break;case"dragenter":case"dragleave":Ph=null;break;case"mouseover":case"mouseout":Rh=null;break;case"pointerover":case"pointerout":rg.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ag.delete(c.pointerId)}}function og(o,c,d,m,_,N){return o===null||o.nativeEvent!==N?(o={blockedOn:c,domEventName:d,eventSystemFlags:m,nativeEvent:N,targetContainers:[_]},c!==null&&(c=es(c),c!==null&&YE(c)),o):(o.eventSystemFlags|=m,c=o.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),o)}function e7(o,c,d,m,_){switch(c){case"focusin":return kh=og(kh,o,c,d,m,_),!0;case"dragenter":return Ph=og(Ph,o,c,d,m,_),!0;case"mouseover":return Rh=og(Rh,o,c,d,m,_),!0;case"pointerover":var N=_.pointerId;return rg.set(N,og(rg.get(N)||null,o,c,d,m,_)),!0;case"gotpointercapture":return N=_.pointerId,ag.set(N,og(ag.get(N)||null,o,c,d,m,_)),!0}return!1}function XE(o){var c=hs(o.target);if(c!==null){var d=r(c);if(d!==null){if(c=d.tag,c===13){if(c=a(d),c!==null){o.blockedOn=c,lr(o.priority,function(){if(d.tag===13){var m=Ka();m=Fs(m);var _=Jo(d,m);_!==null&&Xa(_,d,m),mw(d,m)}});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function tv(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var d=yw(o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);sa=m,d.target.dispatchEvent(m),sa=null}else return c=es(d),c!==null&&YE(c),o.blockedOn=d,!1;c.shift()}return!0}function QE(o,c,d){tv(o)&&d.delete(c)}function t7(){bw=!1,kh!==null&&tv(kh)&&(kh=null),Ph!==null&&tv(Ph)&&(Ph=null),Rh!==null&&tv(Rh)&&(Rh=null),rg.forEach(QE),ag.forEach(QE)}function nv(o,c){o.blockedOn===c&&(o.blockedOn=null,bw||(bw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,t7)))}var iv=null;function ZE(o){iv!==o&&(iv=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){iv===o&&(iv=null);for(var c=0;c<o.length;c+=3){var d=o[c],m=o[c+1],_=o[c+2];if(typeof m!="function"){if(vw(m||d)===null)continue;break}var N=es(d);N!==null&&(o.splice(c,3),c-=3,Ao(N,{pending:!0,data:_,method:d.method,action:m},m,_))}}))}function lg(o){function c(me){return nv(me,o)}kh!==null&&nv(kh,o),Ph!==null&&nv(Ph,o),Rh!==null&&nv(Rh,o),rg.forEach(c),ag.forEach(c);for(var d=0;d<Mh.length;d++){var m=Mh[d];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Mh.length&&(d=Mh[0],d.blockedOn===null);)XE(d),d.blockedOn===null&&Mh.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var _=d[m],N=d[m+1],$=_[Xn]||null;if(typeof N=="function")$||ZE(d);else if($){var se=null;if(N&&N.hasAttribute("formAction")){if(_=N,$=N[Xn]||null)se=$.formAction;else if(vw(_)!==null)continue}else se=$.action;typeof se=="function"?d[m+1]=se:(d.splice(m,3),m-=3),ZE(d)}}}function ww(o){this._internalRoot=o}sv.prototype.render=ww.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(i(409));var d=c.current,m=Ka();WE(d,m,o,c,null,null)},sv.prototype.unmount=ww.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;WE(o.current,2,null,o,null,null),Vy(),c[mi]=null}};function sv(o){this._internalRoot=o}sv.prototype.unstable_scheduleHydration=function(o){if(o){var c=Zi();o={blockedOn:null,target:o,priority:c};for(var d=0;d<Mh.length&&c!==0&&c<Mh[d].priority;d++);Mh.splice(d,0,o),d===0&&XE(o)}};var JE=e.version;if(JE!=="19.1.0")throw Error(i(527,JE,"19.1.0"));ue.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=u(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var n7={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rv.isDisabled&&rv.supportsFiber)try{At=rv.inject(n7),bt=rv}catch{}}return cg.createRoot=function(o,c){if(!s(o))throw Error(i(299));var d=!1,m="",_=mT,N=gT,$=yT,se=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&($=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(se=c.unstable_transitionCallbacks)),c=qE(o,1,!1,null,null,d,m,_,N,$,se,null),o[mi]=c.current,nw(o),new ww(c)},cg.hydrateRoot=function(o,c,d){if(!s(o))throw Error(i(299));var m=!1,_="",N=mT,$=gT,se=yT,me=null,De=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&($=d.onCaughtError),d.onRecoverableError!==void 0&&(se=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(me=d.unstable_transitionCallbacks),d.formState!==void 0&&(De=d.formState)),c=qE(o,1,!0,c,d??null,m,_,N,$,se,me,De),c.context=HE(null),d=c.current,m=Ka(),m=Fs(m),_=ze(m),_.callback=null,Xe(d,_,m),d=m,c.current.lanes=d,Qi(c,d),uu(c),o[mi]=c.current,nw(o),new sv(c)},cg.version="19.1.0",cg}var u4;function h7(){if(u4)return Sw.exports;u4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sw.exports=c7(),Sw.exports}var d7=h7();const f7=v5(d7);var hg={},c4;function p7(){if(c4)return hg;c4=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.parse=a,hg.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function a(g,y){const x=new r,A=g.length;if(A<2)return x;const T=y?.decode||f;let E=0;do{const k=g.indexOf("=",E);if(k===-1)break;const O=g.indexOf(";",E),B=O===-1?A:O;if(k>B){E=g.lastIndexOf(";",k-1)+1;continue}const V=l(g,E,k),Y=u(g,k,V),I=g.slice(V,Y);if(x[I]===void 0){let P=l(g,k+1,B),F=u(g,B,P);const H=T(g.slice(P,F));x[I]=H}E=B+1}while(E<A);return x}function l(g,y,x){do{const A=g.charCodeAt(y);if(A!==32&&A!==9)return y}while(++y<x);return x}function u(g,y,x){for(;y>x;){const A=g.charCodeAt(--y);if(A!==32&&A!==9)return y+1}return x}function h(g,y,x){const A=x?.encode||encodeURIComponent;if(!t.test(g))throw new TypeError(`argument name is invalid: ${g}`);const T=A(y);if(!e.test(T))throw new TypeError(`argument val is invalid: ${y}`);let E=g+"="+T;if(!x)return E;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);E+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);E+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);E+="; Path="+x.path}if(x.expires){if(!p(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);E+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(E+="; HttpOnly"),x.secure&&(E+="; Secure"),x.partitioned&&(E+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return E}function f(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return s.call(g)==="[object Date]"}return hg}p7();var h4="popstate";function m7(t={}){function e(i,s){let{pathname:r,search:a,hash:l}=i.location;return Dx("",{pathname:r,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:i0(s)}return y7(e,n,null,t)}function Fi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g7(){return Math.random().toString(36).substring(2,10)}function d4(t,e){return{usr:t.state,key:t.key,idx:e}}function Dx(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?om(e):e,state:n,key:e&&e.key||i||g7()}}function i0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function om(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function y7(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,a=s.history,l="POP",u=null,h=f();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function f(){return(a.state||{idx:null}).idx}function p(){l="POP";let T=f(),E=T==null?null:T-h;h=T,u&&u({action:l,location:A.location,delta:E})}function g(T,E){l="PUSH";let k=Dx(A.location,T,E);h=f()+1;let O=d4(k,h),B=A.createHref(k);try{a.pushState(O,"",B)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(B)}r&&u&&u({action:l,location:A.location,delta:1})}function y(T,E){l="REPLACE";let k=Dx(A.location,T,E);h=f();let O=d4(k,h),B=A.createHref(k);a.replaceState(O,"",B),r&&u&&u({action:l,location:A.location,delta:0})}function x(T){return v7(T)}let A={get action(){return l},get location(){return t(s,a)},listen(T){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(h4,p),u=T,()=>{s.removeEventListener(h4,p),u=null}},createHref(T){return e(s,T)},createURL:x,encodeLocation(T){let E=x(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:y,go(T){return a.go(T)}};return A}function v7(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Fi(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:i0(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function E6(t,e,n="/"){return b7(t,e,n,!1)}function b7(t,e,n,i){let s=typeof e=="string"?om(e):e,r=Dc(s.pathname||"/",n);if(r==null)return null;let a=C6(t);w7(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let h=P7(r);l=L7(a[u],h,i)}return l}function C6(t,e=[],n=[],i=""){let s=(r,a,l)=>{let u={relativePath:l===void 0?r.path||"":l,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};u.relativePath.startsWith("/")&&(Fi(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length));let h=Nc([i,u.relativePath]),f=n.concat(u);r.children&&r.children.length>0&&(Fi(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),C6(r.children,e,f,h)),!(r.path==null&&!r.index)&&e.push({path:h,score:C7(h,r.index),routesMeta:f})};return t.forEach((r,a)=>{if(r.path===""||!r.path?.includes("?"))s(r,a);else for(let l of N6(r.path))s(r,a,l)}),e}function N6(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let a=N6(i.join("/")),l=[];return l.push(...a.map(u=>u===""?r:[r,u].join("/"))),s&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function w7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:N7(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var x7=/^:[\w-]+$/,_7=3,S7=2,A7=1,T7=10,E7=-2,f4=t=>t==="*";function C7(t,e){let n=t.split("/"),i=n.length;return n.some(f4)&&(i+=E7),e&&(i+=S7),n.filter(s=>!f4(s)).reduce((s,r)=>s+(x7.test(r)?_7:r===""?A7:T7),i)}function N7(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function L7(t,e,n=!1){let{routesMeta:i}=t,s={},r="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],h=l===i.length-1,f=r==="/"?e:e.slice(r.length)||"/",p=h1({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!p&&h&&n&&!i[i.length-1].route.index&&(p=h1({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Nc([r,p.pathname]),pathnameBase:D7(Nc([r,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(r=Nc([r,p.pathnameBase]))}return a}function h1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=k7(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((h,{paramName:f,isOptional:p},g)=>{if(f==="*"){let x=l[g]||"";a=r.slice(0,r.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[g];return p&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:r,pathnameBase:a,pattern:t}}function k7(t,e=!1,n=!0){Oo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function P7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Dc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function R7(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?om(t):t;return{pathname:n?n.startsWith("/")?n:M7(n,e):e,search:O7(i),hash:j7(s)}}function M7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cw(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function w5(t){let e=I7(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function x5(t,e,n,i=!1){let s;typeof t=="string"?s=om(t):(s={...t},Fi(!s.pathname||!s.pathname.includes("?"),Cw("?","pathname","search",s)),Fi(!s.pathname||!s.pathname.includes("#"),Cw("#","pathname","hash",s)),Fi(!s.search||!s.search.includes("#"),Cw("#","search","hash",s)));let r=t===""||s.pathname==="",a=r?"/":s.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=R7(s,l),h=a&&a!=="/"&&a.endsWith("/"),f=(r||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var Nc=t=>t.join("/").replace(/\/\/+/g,"/"),D7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function F7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var L6=["POST","PUT","PATCH","DELETE"];new Set(L6);var V7=["GET",...L6];new Set(V7);var lm=C.createContext(null);lm.displayName="DataRouter";var fb=C.createContext(null);fb.displayName="DataRouterState";var k6=C.createContext({isTransitioning:!1});k6.displayName="ViewTransition";var U7=C.createContext(new Map);U7.displayName="Fetchers";var B7=C.createContext(null);B7.displayName="Await";var Ll=C.createContext(null);Ll.displayName="Navigation";var M0=C.createContext(null);M0.displayName="Location";var Ru=C.createContext({outlet:null,matches:[],isDataRoute:!1});Ru.displayName="Route";var _5=C.createContext(null);_5.displayName="RouteError";function z7(t,{relative:e}={}){Fi(um(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=C.useContext(Ll),{hash:s,pathname:r,search:a}=I0(t,{relative:e}),l=r;return n!=="/"&&(l=r==="/"?n:Nc([n,r])),i.createHref({pathname:l,search:a,hash:s})}function um(){return C.useContext(M0)!=null}function Mu(){return Fi(um(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(M0).location}var P6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R6(t){C.useContext(Ll).static||C.useLayoutEffect(t)}function Gc(){let{isDataRoute:t}=C.useContext(Ru);return t?t9():q7()}function q7(){Fi(um(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(lm),{basename:e,navigator:n}=C.useContext(Ll),{matches:i}=C.useContext(Ru),{pathname:s}=Mu(),r=JSON.stringify(w5(i)),a=C.useRef(!1);return R6(()=>{a.current=!0}),C.useCallback((u,h={})=>{if(Oo(a.current,P6),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=x5(u,JSON.parse(r),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Nc([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,r,s,t])}C.createContext(null);function I0(t,{relative:e}={}){let{matches:n}=C.useContext(Ru),{pathname:i}=Mu(),s=JSON.stringify(w5(n));return C.useMemo(()=>x5(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function H7(t,e){return M6(t,e)}function M6(t,e,n,i){Fi(um(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=C.useContext(Ll),{matches:r}=C.useContext(Ru),a=r[r.length-1],l=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let E=f&&f.path||"";I6(u,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=Mu(),g;if(e){let E=typeof e=="string"?om(e):e;Fi(h==="/"||E.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),g=E}else g=p;let y=g.pathname||"/",x=y;if(h!=="/"){let E=h.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let A=E6(t,{pathname:x});Oo(f||A!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Oo(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=K7(A&&A.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Nc([h,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Nc([h,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),r,n,i);return e&&T?C.createElement(M0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},T):T}function W7(){let t=e9(),e=F7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:r},"ErrorBoundary")," or"," ",C.createElement("code",{style:r},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,a)}var $7=C.createElement(W7,null),Y7=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(Ru.Provider,{value:this.props.routeContext},C.createElement(_5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function G7({routeContext:t,match:e,children:n}){let i=C.useContext(lm);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Ru.Provider,{value:t},n)}function K7(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,r=n?.errors;if(r!=null){let u=s.findIndex(h=>h.route.id&&r?.[h.route.id]!==void 0);Fi(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,h,f)=>{let p,g=!1,y=null,x=null;n&&(p=r&&h.route.id?r[h.route.id]:void 0,y=h.route.errorElement||$7,a&&(l<0&&f===0?(I6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):l===f&&(g=!0,x=h.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,f+1)),T=()=>{let E;return p?E=y:g?E=x:h.route.Component?E=C.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=u,C.createElement(G7,{match:h,routeContext:{outlet:u,matches:A,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?C.createElement(Y7,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}function S5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X7(t){let e=C.useContext(lm);return Fi(e,S5(t)),e}function Q7(t){let e=C.useContext(fb);return Fi(e,S5(t)),e}function Z7(t){let e=C.useContext(Ru);return Fi(e,S5(t)),e}function A5(t){let e=Z7(t),n=e.matches[e.matches.length-1];return Fi(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function J7(){return A5("useRouteId")}function e9(){let t=C.useContext(_5),e=Q7("useRouteError"),n=A5("useRouteError");return t!==void 0?t:e.errors?.[n]}function t9(){let{router:t}=X7("useNavigate"),e=A5("useNavigate"),n=C.useRef(!1);return R6(()=>{n.current=!0}),C.useCallback(async(s,r={})=>{Oo(n.current,P6),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...r}))},[t,e])}var p4={};function I6(t,e,n){!e&&!p4[t]&&(p4[t]=!0,Oo(!1,n))}C.memo(n9);function n9({routes:t,future:e,state:n}){return M6(t,void 0,n,e)}function D6({to:t,replace:e,state:n,relative:i}){Fi(um(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=C.useContext(Ll);Oo(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=C.useContext(Ru),{pathname:a}=Mu(),l=Gc(),u=x5(t,w5(r),a,i==="path"),h=JSON.stringify(u);return C.useEffect(()=>{l(JSON.parse(h),{replace:e,state:n,relative:i})},[l,h,i,e,n]),null}function hu(t){Fi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function i9({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:r=!1}){Fi(!um(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:s,static:r,future:{}}),[a,s,r]);typeof n=="string"&&(n=om(n));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,y=C.useMemo(()=>{let x=Dc(u,a);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:g},navigationType:i}},[a,u,h,f,p,g,i]);return Oo(y!=null,`<Router basename="${a}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:C.createElement(Ll.Provider,{value:l},C.createElement(M0.Provider,{children:e,value:y}))}function s9({children:t,location:e}){return H7(Ox(t),e)}function Ox(t,e=[]){let n=[];return C.Children.forEach(t,(i,s)=>{if(!C.isValidElement(i))return;let r=[...e,s];if(i.type===C.Fragment){n.push.apply(n,Ox(i.props.children,r));return}Fi(i.type===hu,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Ox(i.props.children,r)),n.push(a)}),n}var Uv="get",Bv="application/x-www-form-urlencoded";function pb(t){return t!=null&&typeof t.tagName=="string"}function r9(t){return pb(t)&&t.tagName.toLowerCase()==="button"}function a9(t){return pb(t)&&t.tagName.toLowerCase()==="form"}function o9(t){return pb(t)&&t.tagName.toLowerCase()==="input"}function l9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function u9(t,e){return t.button===0&&(!e||e==="_self")&&!l9(t)}function jx(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function c9(t,e){let n=jx(t);return e&&e.forEach((i,s)=>{n.has(s)||e.getAll(s).forEach(r=>{n.append(s,r)})}),n}var av=null;function h9(){if(av===null)try{new FormData(document.createElement("form"),0),av=!1}catch{av=!0}return av}var d9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nw(t){return t!=null&&!d9.has(t)?(Oo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bv}"`),null):t}function f9(t,e){let n,i,s,r,a;if(a9(t)){let l=t.getAttribute("action");i=l?Dc(l,e):null,n=t.getAttribute("method")||Uv,s=Nw(t.getAttribute("enctype"))||Bv,r=new FormData(t)}else if(r9(t)||o9(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?Dc(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Uv,s=Nw(t.getAttribute("formenctype"))||Nw(l.getAttribute("enctype"))||Bv,r=new FormData(l,t),!h9()){let{name:h,type:f,value:p}=t;if(f==="image"){let g=h?`${h}.`:"";r.append(`${g}x`,"0"),r.append(`${g}y`,"0")}else h&&r.append(h,p)}}else{if(pb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uv,i=null,s=Bv,a=t}return r&&s==="text/plain"&&(a=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:a}}function T5(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function p9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function g9(t,e,n){let i=await Promise.all(t.map(async s=>{let r=e.routes[s.route.id];if(r){let a=await p9(r,n);return a.links?a.links():[]}return[]}));return w9(i.flat(1).filter(m9).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function m4(t,e,n,i,s,r){let a=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,l=(u,h)=>n[h].pathname!==u.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==u.params["*"];return r==="assets"?e.filter((u,h)=>a(u,h)||l(u,h)):r==="data"?e.filter((u,h)=>{let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,h)||l(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function y9(t,e,{includeHydrateFallback:n}={}){return v9(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function v9(t){return[...new Set(t)]}function b9(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function w9(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let r=JSON.stringify(b9(s));return n.has(r)||(n.add(r),i.push({key:r,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var x9=new Set([100,101,204,205]);function _9(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Dc(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function O6(){let t=C.useContext(lm);return T5(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function S9(){let t=C.useContext(fb);return T5(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var E5=C.createContext(void 0);E5.displayName="FrameworkContext";function j6(){let t=C.useContext(E5);return T5(t,"You must render this element inside a <HydratedRouter> element"),t}function A9(t,e){let n=C.useContext(E5),[i,s]=C.useState(!1),[r,a]=C.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,g=C.useRef(null);C.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let A=E=>{E.forEach(k=>{a(k.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return g.current&&T.observe(g.current),()=>{T.disconnect()}}},[t]),C.useEffect(()=>{if(i){let A=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(A)}}},[i]);let y=()=>{s(!0)},x=()=>{s(!1),a(!1)};return n?t!=="intent"?[r,g,{}]:[r,g,{onFocus:dg(l,y),onBlur:dg(u,x),onMouseEnter:dg(h,y),onMouseLeave:dg(f,x),onTouchStart:dg(p,y)}]:[!1,g,{}]}function dg(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function T9({page:t,...e}){let{router:n}=O6(),i=C.useMemo(()=>E6(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?C.createElement(C9,{page:t,matches:i,...e}):null}function E9(t){let{manifest:e,routeModules:n}=j6(),[i,s]=C.useState([]);return C.useEffect(()=>{let r=!1;return g9(t,e,n).then(a=>{r||s(a)}),()=>{r=!0}},[t,e,n]),i}function C9({page:t,matches:e,...n}){let i=Mu(),{manifest:s,routeModules:r}=j6(),{basename:a}=O6(),{loaderData:l,matches:u}=S9(),h=C.useMemo(()=>m4(t,e,u,s,i,"data"),[t,e,u,s,i]),f=C.useMemo(()=>m4(t,e,u,s,i,"assets"),[t,e,u,s,i]),p=C.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let x=new Set,A=!1;if(e.forEach(E=>{let k=s.routes[E.route.id];!k||!k.hasLoader||(!h.some(O=>O.route.id===E.route.id)&&E.route.id in l&&r[E.route.id]?.shouldRevalidate||k.hasClientLoader?A=!0:x.add(E.route.id))}),x.size===0)return[];let T=_9(t,a);return A&&x.size>0&&T.searchParams.set("_routes",e.filter(E=>x.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[a,l,i,s,h,e,t,r]),g=C.useMemo(()=>y9(f,s),[f,s]),y=E9(f);return C.createElement(C.Fragment,null,p.map(x=>C.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),g.map(x=>C.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:A})=>C.createElement("link",{key:x,...A})))}function N9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var F6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F6&&(window.__reactRouterVersion="7.6.3")}catch{}function L9({basename:t,children:e,window:n}){let i=C.useRef();i.current==null&&(i.current=m7({window:n,v5Compat:!0}));let s=i.current,[r,a]=C.useState({action:s.action,location:s.location}),l=C.useCallback(u=>{C.startTransition(()=>a(u))},[a]);return C.useLayoutEffect(()=>s.listen(l),[s,l]),C.createElement(i9,{basename:t,children:e,location:r.location,navigationType:r.action,navigator:s})}var V6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tp=C.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:a,state:l,target:u,to:h,preventScrollReset:f,viewTransition:p,...g},y){let{basename:x}=C.useContext(Ll),A=typeof h=="string"&&V6.test(h),T,E=!1;if(typeof h=="string"&&A&&(T=h,F6))try{let F=new URL(window.location.href),H=h.startsWith("//")?new URL(F.protocol+h):new URL(h),M=Dc(H.pathname,x);H.origin===F.origin&&M!=null?h=M+H.search+H.hash:E=!0}catch{Oo(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=z7(h,{relative:s}),[O,B,V]=A9(i,g),Y=M9(h,{replace:a,state:l,target:u,preventScrollReset:f,relative:s,viewTransition:p});function I(F){e&&e(F),F.defaultPrevented||Y(F)}let P=C.createElement("a",{...g,...V,href:T||k,onClick:E||r?e:I,ref:N9(y,B),target:u,"data-discover":!A&&n==="render"?"true":void 0});return O&&!A?C.createElement(C.Fragment,null,P,C.createElement(T9,{page:k})):P});Tp.displayName="Link";var k9=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:a,viewTransition:l,children:u,...h},f){let p=I0(a,{relative:h.relative}),g=Mu(),y=C.useContext(fb),{navigator:x,basename:A}=C.useContext(Ll),T=y!=null&&V9(p)&&l===!0,E=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,k=g.pathname,O=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(k=k.toLowerCase(),O=O?O.toLowerCase():null,E=E.toLowerCase()),O&&A&&(O=Dc(O,A)||O);const B=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let V=k===E||!s&&k.startsWith(E)&&k.charAt(B)==="/",Y=O!=null&&(O===E||!s&&O.startsWith(E)&&O.charAt(E.length)==="/"),I={isActive:V,isPending:Y,isTransitioning:T},P=V?e:void 0,F;typeof i=="function"?F=i(I):F=[i,V?"active":null,Y?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let H=typeof r=="function"?r(I):r;return C.createElement(Tp,{...h,"aria-current":P,className:F,ref:f,style:H,to:a,viewTransition:l},typeof u=="function"?u(I):u)});k9.displayName="NavLink";var P9=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:r,method:a=Uv,action:l,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:p,...g},y)=>{let x=j9(),A=F9(l,{relative:h}),T=a.toLowerCase()==="get"?"get":"post",E=typeof l=="string"&&V6.test(l),k=O=>{if(u&&u(O),O.defaultPrevented)return;O.preventDefault();let B=O.nativeEvent.submitter,V=B?.getAttribute("formmethod")||a;x(B||O.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:s,state:r,relative:h,preventScrollReset:f,viewTransition:p})};return C.createElement("form",{ref:y,method:T,action:A,onSubmit:i?u:k,...g,"data-discover":!E&&t==="render"?"true":void 0})});P9.displayName="Form";function R9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U6(t){let e=C.useContext(lm);return Fi(e,R9(t)),e}function M9(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:a}={}){let l=Gc(),u=Mu(),h=I0(t,{relative:r});return C.useCallback(f=>{if(u9(f,e)){f.preventDefault();let p=n!==void 0?n:i0(u)===i0(h);l(t,{replace:p,state:i,preventScrollReset:s,relative:r,viewTransition:a})}},[u,l,h,n,i,e,t,s,r,a])}function I9(t){Oo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=C.useRef(jx(t)),n=C.useRef(!1),i=Mu(),s=C.useMemo(()=>c9(i.search,n.current?null:e.current),[i.search]),r=Gc(),a=C.useCallback((l,u)=>{const h=jx(typeof l=="function"?l(s):l);n.current=!0,r("?"+h,u)},[r,s]);return[s,a]}var D9=0,O9=()=>`__${String(++D9)}__`;function j9(){let{router:t}=U6("useSubmit"),{basename:e}=C.useContext(Ll),n=J7();return C.useCallback(async(i,s={})=>{let{action:r,method:a,encType:l,formData:u,body:h}=f9(i,e);if(s.navigate===!1){let f=s.fetcherKey||O9();await t.fetch(f,n,s.action||r,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function F9(t,{relative:e}={}){let{basename:n}=C.useContext(Ll),i=C.useContext(Ru);Fi(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...I0(t||".",{relative:e})},a=Mu();if(t==null){r.search=a.search;let l=new URLSearchParams(r.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();r.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:Nc([n,r.pathname])),i0(r)}function V9(t,e={}){let n=C.useContext(k6);Fi(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=U6("useViewTransitionState"),s=I0(t,{relative:e.relative});if(!n.isTransitioning)return!1;let r=Dc(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Dc(n.nextLocation.pathname,i)||n.nextLocation.pathname;return h1(s.pathname,a)!=null||h1(s.pathname,r)!=null}[...x9];var cm=T6(),zv={exports:{}},U9=zv.exports,g4;function B9(){return g4||(g4=1,function(t,e){(function(n,i){t.exports=i()})(U9,function(){return function(n){function i(r){if(s[r])return s[r].exports;var a=s[r]={exports:{},id:r,loaded:!1};return n[r].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}var s={};return i.m=n,i.c=s,i.p="dist/",i(0)}([function(n,i,s){function r(te){return te&&te.__esModule?te:{default:te}}var a=Object.assign||function(te){for(var pe=1;pe<arguments.length;pe++){var ae=arguments[pe];for(var ue in ae)Object.prototype.hasOwnProperty.call(ae,ue)&&(te[ue]=ae[ue])}return te},l=s(1),u=(r(l),s(6)),h=r(u),f=s(7),p=r(f),g=s(8),y=r(g),x=s(9),A=r(x),T=s(10),E=r(T),k=s(11),O=r(k),B=s(14),V=r(B),Y=[],I=!1,P={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},F=function(){var te=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(te&&(I=!0),I)return Y=(0,O.default)(Y,P),(0,E.default)(Y,P.once),Y},H=function(){Y=(0,V.default)(),F()},M=function(){Y.forEach(function(te,pe){te.node.removeAttribute("data-aos"),te.node.removeAttribute("data-aos-easing"),te.node.removeAttribute("data-aos-duration"),te.node.removeAttribute("data-aos-delay")})},j=function(te){return te===!0||te==="mobile"&&A.default.mobile()||te==="phone"&&A.default.phone()||te==="tablet"&&A.default.tablet()||typeof te=="function"&&te()===!0},z=function(te){P=a(P,te),Y=(0,V.default)();var pe=document.all&&!window.atob;return j(P.disable)||pe?M():(P.disableMutationObserver||y.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),P.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",P.easing),document.querySelector("body").setAttribute("data-aos-duration",P.duration),document.querySelector("body").setAttribute("data-aos-delay",P.delay),P.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?F(!0):P.startEvent==="load"?window.addEventListener(P.startEvent,function(){F(!0)}):document.addEventListener(P.startEvent,function(){F(!0)}),window.addEventListener("resize",(0,p.default)(F,P.debounceDelay,!0)),window.addEventListener("orientationchange",(0,p.default)(F,P.debounceDelay,!0)),window.addEventListener("scroll",(0,h.default)(function(){(0,E.default)(Y,P.once)},P.throttleDelay)),P.disableMutationObserver||y.default.ready("[data-aos]",H),Y)};n.exports={init:z,refresh:F,refreshHard:H}},function(n,i){},,,,,function(n,i){(function(s){function r(j,z,te){function pe(it){var ke=re,fe=ee;return re=ee=void 0,Oe=it,we=j.apply(fe,ke)}function ae(it){return Oe=it,ge=setTimeout(ye,z),Ve?pe(it):we}function ue(it){var ke=it-Ee,fe=it-Oe,St=z-ke;return tt?H(St,he-fe):St}function ce(it){var ke=it-Ee,fe=it-Oe;return Ee===void 0||ke>=z||ke<0||tt&&fe>=he}function ye(){var it=M();return ce(it)?Z(it):void(ge=setTimeout(ye,ue(it)))}function Z(it){return ge=void 0,$e&&re?pe(it):(re=ee=void 0,we)}function be(){ge!==void 0&&clearTimeout(ge),Oe=0,re=Ee=ee=ge=void 0}function W(){return ge===void 0?we:Z(M())}function X(){var it=M(),ke=ce(it);if(re=arguments,ee=this,Ee=it,ke){if(ge===void 0)return ae(Ee);if(tt)return ge=setTimeout(ye,z),pe(Ee)}return ge===void 0&&(ge=setTimeout(ye,z)),we}var re,ee,he,we,ge,Ee,Oe=0,Ve=!1,tt=!1,$e=!0;if(typeof j!="function")throw new TypeError(g);return z=f(z)||0,l(te)&&(Ve=!!te.leading,tt="maxWait"in te,he=tt?F(f(te.maxWait)||0,z):he,$e="trailing"in te?!!te.trailing:$e),X.cancel=be,X.flush=W,X}function a(j,z,te){var pe=!0,ae=!0;if(typeof j!="function")throw new TypeError(g);return l(te)&&(pe="leading"in te?!!te.leading:pe,ae="trailing"in te?!!te.trailing:ae),r(j,z,{leading:pe,maxWait:z,trailing:ae})}function l(j){var z=typeof j>"u"?"undefined":p(j);return!!j&&(z=="object"||z=="function")}function u(j){return!!j&&(typeof j>"u"?"undefined":p(j))=="object"}function h(j){return(typeof j>"u"?"undefined":p(j))=="symbol"||u(j)&&P.call(j)==x}function f(j){if(typeof j=="number")return j;if(h(j))return y;if(l(j)){var z=typeof j.valueOf=="function"?j.valueOf():j;j=l(z)?z+"":z}if(typeof j!="string")return j===0?j:+j;j=j.replace(A,"");var te=E.test(j);return te||k.test(j)?O(j.slice(2),te?2:8):T.test(j)?y:+j}var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},g="Expected a function",y=NaN,x="[object Symbol]",A=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,k=/^0o[0-7]+$/i,O=parseInt,B=(typeof s>"u"?"undefined":p(s))=="object"&&s&&s.Object===Object&&s,V=(typeof self>"u"?"undefined":p(self))=="object"&&self&&self.Object===Object&&self,Y=B||V||Function("return this")(),I=Object.prototype,P=I.toString,F=Math.max,H=Math.min,M=function(){return Y.Date.now()};n.exports=a}).call(i,function(){return this}())},function(n,i){(function(s){function r(M,j,z){function te($e){var it=X,ke=re;return X=re=void 0,Ee=$e,he=M.apply(ke,it)}function pe($e){return Ee=$e,we=setTimeout(ce,j),Oe?te($e):he}function ae($e){var it=$e-ge,ke=$e-Ee,fe=j-it;return Ve?F(fe,ee-ke):fe}function ue($e){var it=$e-ge,ke=$e-Ee;return ge===void 0||it>=j||it<0||Ve&&ke>=ee}function ce(){var $e=H();return ue($e)?ye($e):void(we=setTimeout(ce,ae($e)))}function ye($e){return we=void 0,tt&&X?te($e):(X=re=void 0,he)}function Z(){we!==void 0&&clearTimeout(we),Ee=0,X=ge=re=we=void 0}function be(){return we===void 0?he:ye(H())}function W(){var $e=H(),it=ue($e);if(X=arguments,re=this,ge=$e,it){if(we===void 0)return pe(ge);if(Ve)return we=setTimeout(ce,j),te(ge)}return we===void 0&&(we=setTimeout(ce,j)),he}var X,re,ee,he,we,ge,Ee=0,Oe=!1,Ve=!1,tt=!0;if(typeof M!="function")throw new TypeError(p);return j=h(j)||0,a(z)&&(Oe=!!z.leading,Ve="maxWait"in z,ee=Ve?P(h(z.maxWait)||0,j):ee,tt="trailing"in z?!!z.trailing:tt),W.cancel=Z,W.flush=be,W}function a(M){var j=typeof M>"u"?"undefined":f(M);return!!M&&(j=="object"||j=="function")}function l(M){return!!M&&(typeof M>"u"?"undefined":f(M))=="object"}function u(M){return(typeof M>"u"?"undefined":f(M))=="symbol"||l(M)&&I.call(M)==y}function h(M){if(typeof M=="number")return M;if(u(M))return g;if(a(M)){var j=typeof M.valueOf=="function"?M.valueOf():M;M=a(j)?j+"":j}if(typeof M!="string")return M===0?M:+M;M=M.replace(x,"");var z=T.test(M);return z||E.test(M)?k(M.slice(2),z?2:8):A.test(M)?g:+M}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},p="Expected a function",g=NaN,y="[object Symbol]",x=/^\s+|\s+$/g,A=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,E=/^0o[0-7]+$/i,k=parseInt,O=(typeof s>"u"?"undefined":f(s))=="object"&&s&&s.Object===Object&&s,B=(typeof self>"u"?"undefined":f(self))=="object"&&self&&self.Object===Object&&self,V=O||B||Function("return this")(),Y=Object.prototype,I=Y.toString,P=Math.max,F=Math.min,H=function(){return V.Date.now()};n.exports=r}).call(i,function(){return this}())},function(n,i){function s(f){var p=void 0,g=void 0;for(p=0;p<f.length;p+=1)if(g=f[p],g.dataset&&g.dataset.aos||g.children&&s(g.children))return!0;return!1}function r(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!r()}function l(f,p){var g=window.document,y=r(),x=new y(u);h=p,x.observe(g.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function u(f){f&&f.forEach(function(p){var g=Array.prototype.slice.call(p.addedNodes),y=Array.prototype.slice.call(p.removedNodes),x=g.concat(y);if(s(x))return h()})}Object.defineProperty(i,"__esModule",{value:!0});var h=function(){};i.default={isSupported:a,ready:l}},function(n,i){function s(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function r(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function g(y,x){for(var A=0;A<x.length;A++){var T=x[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,A){return x&&g(y.prototype,x),A&&g(y,A),y}}(),l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,f=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,p=function(){function g(){s(this,g)}return a(g,[{key:"phone",value:function(){var y=r();return!(!l.test(y)&&!u.test(y.substr(0,4)))}},{key:"mobile",value:function(){var y=r();return!(!h.test(y)&&!f.test(y.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),g}();i.default=new p},function(n,i){Object.defineProperty(i,"__esModule",{value:!0});var s=function(a,l,u){var h=a.node.getAttribute("data-aos-once");l>a.position?a.node.classList.add("aos-animate"):typeof h<"u"&&(h==="false"||!u&&h!=="true")&&a.node.classList.remove("aos-animate")},r=function(a,l){var u=window.pageYOffset,h=window.innerHeight;a.forEach(function(f,p){s(f,h+u,l)})};i.default=r},function(n,i,s){function r(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(i,"__esModule",{value:!0});var a=s(12),l=r(a),u=function(h,f){return h.forEach(function(p,g){p.node.classList.add("aos-init"),p.position=(0,l.default)(p.node,f.offset)}),h};i.default=u},function(n,i,s){function r(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(i,"__esModule",{value:!0});var a=s(13),l=r(a),u=function(h,f){var p=0,g=0,y=window.innerHeight,x={offset:h.getAttribute("data-aos-offset"),anchor:h.getAttribute("data-aos-anchor"),anchorPlacement:h.getAttribute("data-aos-anchor-placement")};switch(x.offset&&!isNaN(x.offset)&&(g=parseInt(x.offset)),x.anchor&&document.querySelectorAll(x.anchor)&&(h=document.querySelectorAll(x.anchor)[0]),p=(0,l.default)(h).top,x.anchorPlacement){case"top-bottom":break;case"center-bottom":p+=h.offsetHeight/2;break;case"bottom-bottom":p+=h.offsetHeight;break;case"top-center":p+=y/2;break;case"bottom-center":p+=y/2+h.offsetHeight;break;case"center-center":p+=y/2+h.offsetHeight/2;break;case"top-top":p+=y;break;case"bottom-top":p+=h.offsetHeight+y;break;case"center-top":p+=h.offsetHeight/2+y}return x.anchorPlacement||x.offset||isNaN(f)||(g=f),p+g};i.default=u},function(n,i){Object.defineProperty(i,"__esModule",{value:!0});var s=function(r){for(var a=0,l=0;r&&!isNaN(r.offsetLeft)&&!isNaN(r.offsetTop);)a+=r.offsetLeft-(r.tagName!="BODY"?r.scrollLeft:0),l+=r.offsetTop-(r.tagName!="BODY"?r.scrollTop:0),r=r.offsetParent;return{top:l,left:a}};i.default=s},function(n,i){Object.defineProperty(i,"__esModule",{value:!0});var s=function(r){return r=r||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(r,function(a){return{node:a}})};i.default=s}])})}(zv)),zv.exports}var z9=B9();const q9=v5(z9),H9=()=>{const t=Gc();return C.useEffect(()=>{q9.init({duration:1e3})},[]),v.jsxs("div",{className:"bg-white text-gray-900",children:[v.jsxs("header",{className:"flex justify-between items-center p-6 shadow-md",children:[v.jsx("div",{className:"flex items-center",children:v.jsx("img",{src:"/assets/flyp-logo.png",alt:"FLYP Logo",className:"h-28 w-auto drop-shadow-md"})}),v.jsxs("nav",{className:"hidden md:flex gap-6",children:[v.jsx(Tp,{to:"#features",className:"hover:text-green-600",children:"Features"}),v.jsx(Tp,{to:"#pricing",className:"hover:text-green-600",children:"Pricing"}),v.jsx(Tp,{to:"#contact",className:"hover:text-green-600",children:"Contact"})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white py-1 px-4 rounded",onClick:()=>t("/auth?type=login"),children:"Sign In"}),v.jsx("button",{className:"bg-yellow-500 hover:bg-yellow-600 text-white py-1 px-4 rounded",onClick:()=>t("/auth?type=register"),children:"Register"})]})]}),v.jsxs("section",{"data-aos":"fade-up",className:"relative flex flex-col-reverse md:flex-row items-center px-10 py-16 bg-gradient-to-r from-yellow-50 to-green-50 overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 opacity-10",children:v.jsx("img",{src:"https://cdn.pixabay.com/photo/2020/05/19/17/33/supply-chain-5199528_960_720.jpg",alt:"Supply Chain Flow",className:"w-full h-full object-cover"})}),v.jsxs("div",{className:"relative z-10 md:w-1/2 text-center md:text-left",children:[v.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Stop Running Your Business",v.jsx("br",{}),"Start Flying It!"]}),v.jsxs("p",{className:"mb-6 text-lg",children:["One platform to manage inventory, billing, analytics, and customers — connecting ",v.jsx("strong",{children:"Product Owners"}),", ",v.jsx("strong",{children:"Distributors"}),", and ",v.jsx("strong",{children:"Retailers"})," through intelligent automation."]}),v.jsxs("div",{className:"mb-4 text-base text-gray-700",children:[v.jsxs("p",{className:"mb-2",children:[v.jsx("strong",{children:"What is a Supply Chain?"})," ",v.jsx("br",{}),"A supply chain links ",v.jsx("span",{className:"text-green-700 font-semibold",children:"Product Owners"})," (who make or supply goods), ",v.jsx("span",{className:"text-green-700 font-semibold",children:"Distributors"})," (who move and store goods), and ",v.jsx("span",{className:"text-green-700 font-semibold",children:"Retailers"})," (who sell to customers)."]}),v.jsxs("ul",{className:"list-disc ml-6 text-sm text-gray-600 space-y-1",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Product Owners:"})," Track stock, manage production, and analyze demand."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Distributors:"})," Automate inventory sync and billing, reduce manual errors."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Retailers:"})," Get real-time product info, simple billing, and customer insights."]})]}),v.jsxs("p",{className:"mt-2",children:[v.jsx("span",{className:"font-semibold text-green-600",children:"FLYP"})," lets every role collaborate and automate, making the entire supply chain seamless and efficient."]})]}),v.jsx(Tp,{to:"/auth?type=register",children:v.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-6 rounded",children:"Get Started Free"})})]}),v.jsx("div",{className:"relative z-10 md:w-1/2 flex justify-center",children:v.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2621/2621043.png",alt:"Hero Visual",className:"w-80 h-auto rounded-lg shadow-lg border border-gray-200"})})]}),v.jsxs("section",{id:"features",className:"py-16 px-10 bg-white text-center",children:[v.jsx("h3",{className:"text-3xl font-bold mb-12",children:"Core Features"}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-10",children:[v.jsxs("div",{"data-aos":"zoom-in",children:[v.jsx("img",{src:"/assets/analytics.png",alt:"Smart Analytics",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),v.jsx("h4",{className:"font-semibold text-lg",children:"Smart Analytics"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Get real-time insights on sales, customers, and stock performance."})]}),v.jsxs("div",{"data-aos":"zoom-in",children:[v.jsx("img",{src:"/assets/inventory.png",alt:"Inventory Sync",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),v.jsx("h4",{className:"font-semibold text-lg",children:"Inventory Sync"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Automatically update stock levels and track product performance."})]}),v.jsxs("div",{"data-aos":"zoom-in",children:[v.jsx("img",{src:"/assets/billing.png",alt:"Intelligent Billing",className:"mx-auto mb-4 w-20 h-20 object-contain rounded"}),v.jsx("h4",{className:"font-semibold text-lg",children:"Intelligent Billing"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Create invoices, apply discounts, and accept multiple payment modes."})]})]})]}),v.jsxs("section",{id:"pricing",className:"py-20 px-10 bg-gray-100 text-center",children:[v.jsx("h3",{className:"text-3xl font-bold mb-12",children:"Pricing Plans"}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[v.jsxs("div",{"data-aos":"flip-left",className:"bg-white shadow-lg p-6 rounded",children:[v.jsx("h4",{className:"text-xl font-bold mb-2",children:"Starter"}),v.jsx("p",{className:"text-green-600 font-semibold text-2xl mb-4",children:"Free"}),v.jsxs("ul",{className:"text-sm text-gray-600 mb-6 space-y-1",children:[v.jsx("li",{children:"Up to 50 Products"}),v.jsx("li",{children:"Basic Billing Module"}),v.jsx("li",{children:"Email Support"})]}),v.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Choose Plan"})]}),v.jsxs("div",{"data-aos":"flip-left",className:"bg-white shadow-lg p-6 rounded border-2 border-yellow-400",children:[v.jsx("h4",{className:"text-xl font-bold mb-2",children:"Pro"}),v.jsx("p",{className:"text-yellow-600 font-semibold text-2xl mb-4",children:"₹499/mo"}),v.jsxs("ul",{className:"text-sm text-gray-600 mb-6 space-y-1",children:[v.jsx("li",{children:"Unlimited Products"}),v.jsx("li",{children:"Inventory + Billing"}),v.jsx("li",{children:"WhatsApp Support"})]}),v.jsx("button",{className:"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600",children:"Choose Plan"})]}),v.jsxs("div",{"data-aos":"flip-left",className:"bg-white shadow-lg p-6 rounded",children:[v.jsx("h4",{className:"text-xl font-bold mb-2",children:"Enterprise"}),v.jsx("p",{className:"text-gray-800 font-semibold text-2xl mb-4",children:"Custom"}),v.jsxs("ul",{className:"text-sm text-gray-600 mb-6 space-y-1",children:[v.jsx("li",{children:"Custom Integrations"}),v.jsx("li",{children:"Multiple Branches"}),v.jsx("li",{children:"Priority Support"})]}),v.jsx("button",{className:"bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-900",children:"Contact Us"})]})]})]}),v.jsxs("footer",{id:"contact",className:"bg-gray-900 text-white p-6 mt-10 text-center text-sm",children:[v.jsxs("p",{children:["© ",new Date().getFullYear()," FLYP — All Rights Reserved."]}),v.jsx("p",{className:"mt-1",children:"Contact: support@flypnow.com"})]})]})};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var B6;function ft(){return B6.apply(null,arguments)}function W9(t){B6=t}function Sl(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function pf(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Yn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C5(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Yn(t,e))return!1;return!0}function ba(t){return t===void 0}function Oc(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function D0(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function z6(t,e){var n=[],i,s=t.length;for(i=0;i<s;++i)n.push(e(t[i],i));return n}function Yh(t,e){for(var n in e)Yn(e,n)&&(t[n]=e[n]);return Yn(e,"toString")&&(t.toString=e.toString),Yn(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Iu(t,e,n,i){return hP(t,e,n,i,!0).utc()}function $9(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function an(t){return t._pf==null&&(t._pf=$9()),t._pf}var Fx;Array.prototype.some?Fx=Array.prototype.some:Fx=function(t){var e=Object(this),n=e.length>>>0,i;for(i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};function N5(t){var e=null,n=!1,i=t._d&&!isNaN(t._d.getTime());if(i&&(e=an(t),n=Fx.call(e.parsedDateParts,function(s){return s!=null}),i=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(i=i&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=i;else return i;return t._isValid}function mb(t){var e=Iu(NaN);return t!=null?Yh(an(e),t):an(e).userInvalidated=!0,e}var y4=ft.momentProperties=[],Lw=!1;function L5(t,e){var n,i,s,r=y4.length;if(ba(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),ba(e._i)||(t._i=e._i),ba(e._f)||(t._f=e._f),ba(e._l)||(t._l=e._l),ba(e._strict)||(t._strict=e._strict),ba(e._tzm)||(t._tzm=e._tzm),ba(e._isUTC)||(t._isUTC=e._isUTC),ba(e._offset)||(t._offset=e._offset),ba(e._pf)||(t._pf=an(e)),ba(e._locale)||(t._locale=e._locale),r>0)for(n=0;n<r;n++)i=y4[n],s=e[i],ba(s)||(t[i]=s);return t}function O0(t){L5(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Lw===!1&&(Lw=!0,ft.updateOffset(this),Lw=!1)}function Al(t){return t instanceof O0||t!=null&&t._isAMomentObject!=null}function q6(t){ft.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Vo(t,e){var n=!0;return Yh(function(){if(ft.deprecationHandler!=null&&ft.deprecationHandler(null,t),n){var i=[],s,r,a,l=arguments.length;for(r=0;r<l;r++){if(s="",typeof arguments[r]=="object"){s+=`
[`+r+"] ";for(a in arguments[0])Yn(arguments[0],a)&&(s+=a+": "+arguments[0][a]+", ");s=s.slice(0,-2)}else s=arguments[r];i.push(s)}q6(t+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var v4={};function H6(t,e){ft.deprecationHandler!=null&&ft.deprecationHandler(t,e),v4[t]||(q6(e),v4[t]=!0)}ft.suppressDeprecationWarnings=!1;ft.deprecationHandler=null;function Du(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Y9(t){var e,n;for(n in t)Yn(t,n)&&(e=t[n],Du(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Vx(t,e){var n=Yh({},t),i;for(i in e)Yn(e,i)&&(pf(t[i])&&pf(e[i])?(n[i]={},Yh(n[i],t[i]),Yh(n[i],e[i])):e[i]!=null?n[i]=e[i]:delete n[i]);for(i in t)Yn(t,i)&&!Yn(e,i)&&pf(t[i])&&(n[i]=Yh({},n[i]));return n}function k5(t){t!=null&&this.set(t)}var Ux;Object.keys?Ux=Object.keys:Ux=function(t){var e,n=[];for(e in t)Yn(t,e)&&n.push(e);return n};var G9={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function K9(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return Du(i)?i.call(e,n):i}function Nu(t,e,n){var i=""+Math.abs(t),s=e-i.length,r=t>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}var P5=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ov=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,kw={},Dp={};function Pt(t,e,n,i){var s=i;typeof i=="string"&&(s=function(){return this[i]()}),t&&(Dp[t]=s),e&&(Dp[e[0]]=function(){return Nu(s.apply(this,arguments),e[1],e[2])}),n&&(Dp[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function X9(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Q9(t){var e=t.match(P5),n,i;for(n=0,i=e.length;n<i;n++)Dp[e[n]]?e[n]=Dp[e[n]]:e[n]=X9(e[n]);return function(s){var r="",a;for(a=0;a<i;a++)r+=Du(e[a])?e[a].call(s,t):e[a];return r}}function qv(t,e){return t.isValid()?(e=W6(e,t.localeData()),kw[e]=kw[e]||Q9(e),kw[e](t)):t.localeData().invalidDate()}function W6(t,e){var n=5;function i(s){return e.longDateFormat(s)||s}for(ov.lastIndex=0;n>=0&&ov.test(t);)t=t.replace(ov,i),ov.lastIndex=0,n-=1;return t}var Z9={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function J9(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(P5).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[t])}var eF="Invalid date";function tF(){return this._invalidDate}var nF="%d",iF=/\d{1,2}/;function sF(t){return this._ordinal.replace("%d",t)}var rF={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function aF(t,e,n,i){var s=this._relativeTime[n];return Du(s)?s(t,e,n,i):s.replace(/%d/i,t)}function oF(t,e){var n=this._relativeTime[t>0?"future":"past"];return Du(n)?n(e):n.replace(/%s/i,e)}var b4={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Uo(t){return typeof t=="string"?b4[t]||b4[t.toLowerCase()]:void 0}function R5(t){var e={},n,i;for(i in t)Yn(t,i)&&(n=Uo(i),n&&(e[n]=t[i]));return e}var lF={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function uF(t){var e=[],n;for(n in t)Yn(t,n)&&e.push({unit:n,priority:lF[n]});return e.sort(function(i,s){return i.priority-s.priority}),e}var $6=/\d/,io=/\d\d/,Y6=/\d{3}/,M5=/\d{4}/,gb=/[+-]?\d{6}/,Ni=/\d\d?/,G6=/\d\d\d\d?/,K6=/\d\d\d\d\d\d?/,yb=/\d{1,3}/,I5=/\d{1,4}/,vb=/[+-]?\d{1,6}/,hm=/\d+/,bb=/[+-]?\d+/,cF=/Z|[+-]\d\d:?\d\d/gi,wb=/Z|[+-]\d\d(?::?\d\d)?/gi,hF=/[+-]?\d+(\.\d{1,3})?/,j0=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,dm=/^[1-9]\d?/,D5=/^([1-9]\d|\d)/,d1;d1={};function _t(t,e,n){d1[t]=Du(e)?e:function(i,s){return i&&n?n:e}}function dF(t,e){return Yn(d1,t)?d1[t](e._strict,e._locale):new RegExp(fF(t))}function fF(t){return Lc(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,i,s,r){return n||i||s||r}))}function Lc(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ro(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Sn(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Ro(e)),n}var Bx={};function fi(t,e){var n,i=e,s;for(typeof t=="string"&&(t=[t]),Oc(e)&&(i=function(r,a){a[e]=Sn(r)}),s=t.length,n=0;n<s;n++)Bx[t[n]]=i}function F0(t,e){fi(t,function(n,i,s,r){s._w=s._w||{},e(n,s._w,s,r)})}function pF(t,e,n){e!=null&&Yn(Bx,t)&&Bx[t](e,n._a,n,t)}function xb(t){return t%4===0&&t%100!==0||t%400===0}var Hr=0,Sc=1,gu=2,Hs=3,vl=4,Ac=5,lf=6,mF=7,gF=8;Pt("Y",0,0,function(){var t=this.year();return t<=9999?Nu(t,4):"+"+t});Pt(0,["YY",2],0,function(){return this.year()%100});Pt(0,["YYYY",4],0,"year");Pt(0,["YYYYY",5],0,"year");Pt(0,["YYYYYY",6,!0],0,"year");_t("Y",bb);_t("YY",Ni,io);_t("YYYY",I5,M5);_t("YYYYY",vb,gb);_t("YYYYYY",vb,gb);fi(["YYYYY","YYYYYY"],Hr);fi("YYYY",function(t,e){e[Hr]=t.length===2?ft.parseTwoDigitYear(t):Sn(t)});fi("YY",function(t,e){e[Hr]=ft.parseTwoDigitYear(t)});fi("Y",function(t,e){e[Hr]=parseInt(t,10)});function Og(t){return xb(t)?366:365}ft.parseTwoDigitYear=function(t){return Sn(t)+(Sn(t)>68?1900:2e3)};var X6=fm("FullYear",!0);function yF(){return xb(this.year())}function fm(t,e){return function(n){return n!=null?(Q6(this,t,n),ft.updateOffset(this,e),this):s0(this,t)}}function s0(t,e){if(!t.isValid())return NaN;var n=t._d,i=t._isUTC;switch(e){case"Milliseconds":return i?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return i?n.getUTCSeconds():n.getSeconds();case"Minutes":return i?n.getUTCMinutes():n.getMinutes();case"Hours":return i?n.getUTCHours():n.getHours();case"Date":return i?n.getUTCDate():n.getDate();case"Day":return i?n.getUTCDay():n.getDay();case"Month":return i?n.getUTCMonth():n.getMonth();case"FullYear":return i?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Q6(t,e,n){var i,s,r,a,l;if(!(!t.isValid()||isNaN(n))){switch(i=t._d,s=t._isUTC,e){case"Milliseconds":return void(s?i.setUTCMilliseconds(n):i.setMilliseconds(n));case"Seconds":return void(s?i.setUTCSeconds(n):i.setSeconds(n));case"Minutes":return void(s?i.setUTCMinutes(n):i.setMinutes(n));case"Hours":return void(s?i.setUTCHours(n):i.setHours(n));case"Date":return void(s?i.setUTCDate(n):i.setDate(n));case"FullYear":break;default:return}r=n,a=t.month(),l=t.date(),l=l===29&&a===1&&!xb(r)?28:l,s?i.setUTCFullYear(r,a,l):i.setFullYear(r,a,l)}}function vF(t){return t=Uo(t),Du(this[t])?this[t]():this}function bF(t,e){if(typeof t=="object"){t=R5(t);var n=uF(t),i,s=n.length;for(i=0;i<s;i++)this[n[i].unit](t[n[i].unit])}else if(t=Uo(t),Du(this[t]))return this[t](e);return this}function wF(t,e){return(t%e+e)%e}var xs;Array.prototype.indexOf?xs=Array.prototype.indexOf:xs=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function O5(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=wF(e,12);return t+=(e-n)/12,n===1?xb(t)?29:28:31-n%7%2}Pt("M",["MM",2],"Mo",function(){return this.month()+1});Pt("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Pt("MMMM",0,0,function(t){return this.localeData().months(this,t)});_t("M",Ni,dm);_t("MM",Ni,io);_t("MMM",function(t,e){return e.monthsShortRegex(t)});_t("MMMM",function(t,e){return e.monthsRegex(t)});fi(["M","MM"],function(t,e){e[Sc]=Sn(t)-1});fi(["MMM","MMMM"],function(t,e,n,i){var s=n._locale.monthsParse(t,i,n._strict);s!=null?e[Sc]=s:an(n).invalidMonth=t});var xF="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Z6="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),J6=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_F=j0,SF=j0;function AF(t,e){return t?Sl(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||J6).test(e)?"format":"standalone"][t.month()]:Sl(this._months)?this._months:this._months.standalone}function TF(t,e){return t?Sl(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[J6.test(e)?"format":"standalone"][t.month()]:Sl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function EF(t,e,n){var i,s,r,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=Iu([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?e==="MMM"?(s=xs.call(this._shortMonthsParse,a),s!==-1?s:null):(s=xs.call(this._longMonthsParse,a),s!==-1?s:null):e==="MMM"?(s=xs.call(this._shortMonthsParse,a),s!==-1?s:(s=xs.call(this._longMonthsParse,a),s!==-1?s:null)):(s=xs.call(this._longMonthsParse,a),s!==-1?s:(s=xs.call(this._shortMonthsParse,a),s!==-1?s:null))}function CF(t,e,n){var i,s,r;if(this._monthsParseExact)return EF.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(s=Iu([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[i]&&(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[i].test(t))return i;if(n&&e==="MMM"&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function eP(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Sn(e);else if(e=t.localeData().monthsParse(e),!Oc(e))return t}var n=e,i=t.date();return i=i<29?i:Math.min(i,O5(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,i):t._d.setMonth(n,i),t}function tP(t){return t!=null?(eP(this,t),ft.updateOffset(this,!0),this):s0(this,"Month")}function NF(){return O5(this.year(),this.month())}function LF(t){return this._monthsParseExact?(Yn(this,"_monthsRegex")||nP.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Yn(this,"_monthsShortRegex")||(this._monthsShortRegex=_F),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function kF(t){return this._monthsParseExact?(Yn(this,"_monthsRegex")||nP.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Yn(this,"_monthsRegex")||(this._monthsRegex=SF),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function nP(){function t(u,h){return h.length-u.length}var e=[],n=[],i=[],s,r,a,l;for(s=0;s<12;s++)r=Iu([2e3,s]),a=Lc(this.monthsShort(r,"")),l=Lc(this.months(r,"")),e.push(a),n.push(l),i.push(l),i.push(a);e.sort(t),n.sort(t),i.sort(t),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function PF(t,e,n,i,s,r,a){var l;return t<100&&t>=0?(l=new Date(t+400,e,n,i,s,r,a),isFinite(l.getFullYear())&&l.setFullYear(t)):l=new Date(t,e,n,i,s,r,a),l}function r0(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function f1(t,e,n){var i=7+e-n,s=(7+r0(t,0,i).getUTCDay()-e)%7;return-s+i-1}function iP(t,e,n,i,s){var r=(7+n-i)%7,a=f1(t,i,s),l=1+7*(e-1)+r+a,u,h;return l<=0?(u=t-1,h=Og(u)+l):l>Og(t)?(u=t+1,h=l-Og(t)):(u=t,h=l),{year:u,dayOfYear:h}}function a0(t,e,n){var i=f1(t.year(),e,n),s=Math.floor((t.dayOfYear()-i-1)/7)+1,r,a;return s<1?(a=t.year()-1,r=s+kc(a,e,n)):s>kc(t.year(),e,n)?(r=s-kc(t.year(),e,n),a=t.year()+1):(a=t.year(),r=s),{week:r,year:a}}function kc(t,e,n){var i=f1(t,e,n),s=f1(t+1,e,n);return(Og(t)-i+s)/7}Pt("w",["ww",2],"wo","week");Pt("W",["WW",2],"Wo","isoWeek");_t("w",Ni,dm);_t("ww",Ni,io);_t("W",Ni,dm);_t("WW",Ni,io);F0(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=Sn(t)});function RF(t){return a0(t,this._week.dow,this._week.doy).week}var MF={dow:0,doy:6};function IF(){return this._week.dow}function DF(){return this._week.doy}function OF(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function jF(t){var e=a0(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Pt("d",0,"do","day");Pt("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Pt("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Pt("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Pt("e",0,0,"weekday");Pt("E",0,0,"isoWeekday");_t("d",Ni);_t("e",Ni);_t("E",Ni);_t("dd",function(t,e){return e.weekdaysMinRegex(t)});_t("ddd",function(t,e){return e.weekdaysShortRegex(t)});_t("dddd",function(t,e){return e.weekdaysRegex(t)});F0(["dd","ddd","dddd"],function(t,e,n,i){var s=n._locale.weekdaysParse(t,i,n._strict);s!=null?e.d=s:an(n).invalidWeekday=t});F0(["d","e","E"],function(t,e,n,i){e[i]=Sn(t)});function FF(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function VF(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function j5(t,e){return t.slice(e,7).concat(t.slice(0,e))}var UF="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),sP="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),BF="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),zF=j0,qF=j0,HF=j0;function WF(t,e){var n=Sl(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?j5(n,this._week.dow):t?n[t.day()]:n}function $F(t){return t===!0?j5(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function YF(t){return t===!0?j5(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function GF(t,e,n){var i,s,r,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=Iu([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?e==="dddd"?(s=xs.call(this._weekdaysParse,a),s!==-1?s:null):e==="ddd"?(s=xs.call(this._shortWeekdaysParse,a),s!==-1?s:null):(s=xs.call(this._minWeekdaysParse,a),s!==-1?s:null):e==="dddd"?(s=xs.call(this._weekdaysParse,a),s!==-1||(s=xs.call(this._shortWeekdaysParse,a),s!==-1)?s:(s=xs.call(this._minWeekdaysParse,a),s!==-1?s:null)):e==="ddd"?(s=xs.call(this._shortWeekdaysParse,a),s!==-1||(s=xs.call(this._weekdaysParse,a),s!==-1)?s:(s=xs.call(this._minWeekdaysParse,a),s!==-1?s:null)):(s=xs.call(this._minWeekdaysParse,a),s!==-1||(s=xs.call(this._weekdaysParse,a),s!==-1)?s:(s=xs.call(this._shortWeekdaysParse,a),s!==-1?s:null))}function KF(t,e,n){var i,s,r;if(this._weekdaysParseExact)return GF.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(s=Iu([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[i].test(t))return i;if(n&&e==="ddd"&&this._shortWeekdaysParse[i].test(t))return i;if(n&&e==="dd"&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function XF(t){if(!this.isValid())return t!=null?this:NaN;var e=s0(this,"Day");return t!=null?(t=FF(t,this.localeData()),this.add(t-e,"d")):e}function QF(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function ZF(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=VF(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function JF(t){return this._weekdaysParseExact?(Yn(this,"_weekdaysRegex")||F5.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Yn(this,"_weekdaysRegex")||(this._weekdaysRegex=zF),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function eV(t){return this._weekdaysParseExact?(Yn(this,"_weekdaysRegex")||F5.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Yn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qF),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function tV(t){return this._weekdaysParseExact?(Yn(this,"_weekdaysRegex")||F5.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Yn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=HF),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function F5(){function t(f,p){return p.length-f.length}var e=[],n=[],i=[],s=[],r,a,l,u,h;for(r=0;r<7;r++)a=Iu([2e3,1]).day(r),l=Lc(this.weekdaysMin(a,"")),u=Lc(this.weekdaysShort(a,"")),h=Lc(this.weekdays(a,"")),e.push(l),n.push(u),i.push(h),s.push(l),s.push(u),s.push(h);e.sort(t),n.sort(t),i.sort(t),s.sort(t),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function V5(){return this.hours()%12||12}function nV(){return this.hours()||24}Pt("H",["HH",2],0,"hour");Pt("h",["hh",2],0,V5);Pt("k",["kk",2],0,nV);Pt("hmm",0,0,function(){return""+V5.apply(this)+Nu(this.minutes(),2)});Pt("hmmss",0,0,function(){return""+V5.apply(this)+Nu(this.minutes(),2)+Nu(this.seconds(),2)});Pt("Hmm",0,0,function(){return""+this.hours()+Nu(this.minutes(),2)});Pt("Hmmss",0,0,function(){return""+this.hours()+Nu(this.minutes(),2)+Nu(this.seconds(),2)});function rP(t,e){Pt(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}rP("a",!0);rP("A",!1);function aP(t,e){return e._meridiemParse}_t("a",aP);_t("A",aP);_t("H",Ni,D5);_t("h",Ni,dm);_t("k",Ni,dm);_t("HH",Ni,io);_t("hh",Ni,io);_t("kk",Ni,io);_t("hmm",G6);_t("hmmss",K6);_t("Hmm",G6);_t("Hmmss",K6);fi(["H","HH"],Hs);fi(["k","kk"],function(t,e,n){var i=Sn(t);e[Hs]=i===24?0:i});fi(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});fi(["h","hh"],function(t,e,n){e[Hs]=Sn(t),an(n).bigHour=!0});fi("hmm",function(t,e,n){var i=t.length-2;e[Hs]=Sn(t.substr(0,i)),e[vl]=Sn(t.substr(i)),an(n).bigHour=!0});fi("hmmss",function(t,e,n){var i=t.length-4,s=t.length-2;e[Hs]=Sn(t.substr(0,i)),e[vl]=Sn(t.substr(i,2)),e[Ac]=Sn(t.substr(s)),an(n).bigHour=!0});fi("Hmm",function(t,e,n){var i=t.length-2;e[Hs]=Sn(t.substr(0,i)),e[vl]=Sn(t.substr(i))});fi("Hmmss",function(t,e,n){var i=t.length-4,s=t.length-2;e[Hs]=Sn(t.substr(0,i)),e[vl]=Sn(t.substr(i,2)),e[Ac]=Sn(t.substr(s))});function iV(t){return(t+"").toLowerCase().charAt(0)==="p"}var sV=/[ap]\.?m?\.?/i,rV=fm("Hours",!0);function aV(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var oP={calendar:G9,longDateFormat:Z9,invalidDate:eF,ordinal:nF,dayOfMonthOrdinalParse:iF,relativeTime:rF,months:xF,monthsShort:Z6,week:MF,weekdays:UF,weekdaysMin:BF,weekdaysShort:sP,meridiemParse:sV},Di={},fg={},o0;function oV(t,e){var n,i=Math.min(t.length,e.length);for(n=0;n<i;n+=1)if(t[n]!==e[n])return n;return i}function w4(t){return t&&t.toLowerCase().replace("_","-")}function lV(t){for(var e=0,n,i,s,r;e<t.length;){for(r=w4(t[e]).split("-"),n=r.length,i=w4(t[e+1]),i=i?i.split("-"):null;n>0;){if(s=_b(r.slice(0,n).join("-")),s)return s;if(i&&i.length>=n&&oV(r,i)>=n-1)break;n--}e++}return o0}function uV(t){return!!(t&&t.match("^[^/\\\\]*$"))}function _b(t){var e=null,n;if(Di[t]===void 0&&typeof module<"u"&&module&&module.exports&&uV(t))try{e=o0._abbr,n=require,n("./locale/"+t),ed(e)}catch{Di[t]=null}return Di[t]}function ed(t,e){var n;return t&&(ba(e)?n=Kc(t):n=U5(t,e),n?o0=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),o0._abbr}function U5(t,e){if(e!==null){var n,i=oP;if(e.abbr=t,Di[t]!=null)H6("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Di[t]._config;else if(e.parentLocale!=null)if(Di[e.parentLocale]!=null)i=Di[e.parentLocale]._config;else if(n=_b(e.parentLocale),n!=null)i=n._config;else return fg[e.parentLocale]||(fg[e.parentLocale]=[]),fg[e.parentLocale].push({name:t,config:e}),null;return Di[t]=new k5(Vx(i,e)),fg[t]&&fg[t].forEach(function(s){U5(s.name,s.config)}),ed(t),Di[t]}else return delete Di[t],null}function cV(t,e){if(e!=null){var n,i,s=oP;Di[t]!=null&&Di[t].parentLocale!=null?Di[t].set(Vx(Di[t]._config,e)):(i=_b(t),i!=null&&(s=i._config),e=Vx(s,e),i==null&&(e.abbr=t),n=new k5(e),n.parentLocale=Di[t],Di[t]=n),ed(t)}else Di[t]!=null&&(Di[t].parentLocale!=null?(Di[t]=Di[t].parentLocale,t===ed()&&ed(t)):Di[t]!=null&&delete Di[t]);return Di[t]}function Kc(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return o0;if(!Sl(t)){if(e=_b(t),e)return e;t=[t]}return lV(t)}function hV(){return Ux(Di)}function B5(t){var e,n=t._a;return n&&an(t).overflow===-2&&(e=n[Sc]<0||n[Sc]>11?Sc:n[gu]<1||n[gu]>O5(n[Hr],n[Sc])?gu:n[Hs]<0||n[Hs]>24||n[Hs]===24&&(n[vl]!==0||n[Ac]!==0||n[lf]!==0)?Hs:n[vl]<0||n[vl]>59?vl:n[Ac]<0||n[Ac]>59?Ac:n[lf]<0||n[lf]>999?lf:-1,an(t)._overflowDayOfYear&&(e<Hr||e>gu)&&(e=gu),an(t)._overflowWeeks&&e===-1&&(e=mF),an(t)._overflowWeekday&&e===-1&&(e=gF),an(t).overflow=e),t}var dV=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fV=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pV=/Z|[+-]\d\d(?::?\d\d)?/,lv=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Pw=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mV=/^\/?Date\((-?\d+)/i,gV=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,yV={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function lP(t){var e,n,i=t._i,s=dV.exec(i)||fV.exec(i),r,a,l,u,h=lv.length,f=Pw.length;if(s){for(an(t).iso=!0,e=0,n=h;e<n;e++)if(lv[e][1].exec(s[1])){a=lv[e][0],r=lv[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(s[3]){for(e=0,n=f;e<n;e++)if(Pw[e][1].exec(s[3])){l=(s[2]||" ")+Pw[e][0];break}if(l==null){t._isValid=!1;return}}if(!r&&l!=null){t._isValid=!1;return}if(s[4])if(pV.exec(s[4]))u="Z";else{t._isValid=!1;return}t._f=a+(l||"")+(u||""),q5(t)}else t._isValid=!1}function vV(t,e,n,i,s,r){var a=[bV(t),Z6.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(s,10)];return r&&a.push(parseInt(r,10)),a}function bV(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function wV(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function xV(t,e,n){if(t){var i=sP.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(i!==s)return an(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function _V(t,e,n){if(t)return yV[t];if(e)return 0;var i=parseInt(n,10),s=i%100,r=(i-s)/100;return r*60+s}function uP(t){var e=gV.exec(wV(t._i)),n;if(e){if(n=vV(e[4],e[3],e[2],e[5],e[6],e[7]),!xV(e[1],n,t))return;t._a=n,t._tzm=_V(e[8],e[9],e[10]),t._d=r0.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),an(t).rfc2822=!0}else t._isValid=!1}function SV(t){var e=mV.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(lP(t),t._isValid===!1)delete t._isValid;else return;if(uP(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ft.createFromInputFallback(t)}ft.createFromInputFallback=Vo("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function vp(t,e,n){return t??e??n}function AV(t){var e=new Date(ft.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function z5(t){var e,n,i=[],s,r,a;if(!t._d){for(s=AV(t),t._w&&t._a[gu]==null&&t._a[Sc]==null&&TV(t),t._dayOfYear!=null&&(a=vp(t._a[Hr],s[Hr]),(t._dayOfYear>Og(a)||t._dayOfYear===0)&&(an(t)._overflowDayOfYear=!0),n=r0(a,0,t._dayOfYear),t._a[Sc]=n.getUTCMonth(),t._a[gu]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=i[e]=s[e];for(;e<7;e++)t._a[e]=i[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Hs]===24&&t._a[vl]===0&&t._a[Ac]===0&&t._a[lf]===0&&(t._nextDay=!0,t._a[Hs]=0),t._d=(t._useUTC?r0:PF).apply(null,i),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Hs]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==r&&(an(t).weekdayMismatch=!0)}}function TV(t){var e,n,i,s,r,a,l,u,h;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(r=1,a=4,n=vp(e.GG,t._a[Hr],a0(Ci(),1,4).year),i=vp(e.W,1),s=vp(e.E,1),(s<1||s>7)&&(u=!0)):(r=t._locale._week.dow,a=t._locale._week.doy,h=a0(Ci(),r,a),n=vp(e.gg,t._a[Hr],h.year),i=vp(e.w,h.week),e.d!=null?(s=e.d,(s<0||s>6)&&(u=!0)):e.e!=null?(s=e.e+r,(e.e<0||e.e>6)&&(u=!0)):s=r),i<1||i>kc(n,r,a)?an(t)._overflowWeeks=!0:u!=null?an(t)._overflowWeekday=!0:(l=iP(n,i,s,r,a),t._a[Hr]=l.year,t._dayOfYear=l.dayOfYear)}ft.ISO_8601=function(){};ft.RFC_2822=function(){};function q5(t){if(t._f===ft.ISO_8601){lP(t);return}if(t._f===ft.RFC_2822){uP(t);return}t._a=[],an(t).empty=!0;var e=""+t._i,n,i,s,r,a,l=e.length,u=0,h,f;for(s=W6(t._f,t._locale).match(P5)||[],f=s.length,n=0;n<f;n++)r=s[n],i=(e.match(dF(r,t))||[])[0],i&&(a=e.substr(0,e.indexOf(i)),a.length>0&&an(t).unusedInput.push(a),e=e.slice(e.indexOf(i)+i.length),u+=i.length),Dp[r]?(i?an(t).empty=!1:an(t).unusedTokens.push(r),pF(r,i,t)):t._strict&&!i&&an(t).unusedTokens.push(r);an(t).charsLeftOver=l-u,e.length>0&&an(t).unusedInput.push(e),t._a[Hs]<=12&&an(t).bigHour===!0&&t._a[Hs]>0&&(an(t).bigHour=void 0),an(t).parsedDateParts=t._a.slice(0),an(t).meridiem=t._meridiem,t._a[Hs]=EV(t._locale,t._a[Hs],t._meridiem),h=an(t).era,h!==null&&(t._a[Hr]=t._locale.erasConvertYear(h,t._a[Hr])),z5(t),B5(t)}function EV(t,e,n){var i;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(i=t.isPM(n),i&&e<12&&(e+=12),!i&&e===12&&(e=0)),e)}function CV(t){var e,n,i,s,r,a,l=!1,u=t._f.length;if(u===0){an(t).invalidFormat=!0,t._d=new Date(NaN);return}for(s=0;s<u;s++)r=0,a=!1,e=L5({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[s],q5(e),N5(e)&&(a=!0),r+=an(e).charsLeftOver,r+=an(e).unusedTokens.length*10,an(e).score=r,l?r<i&&(i=r,n=e):(i==null||r<i||a)&&(i=r,n=e,a&&(l=!0));Yh(t,n||e)}function NV(t){if(!t._d){var e=R5(t._i),n=e.day===void 0?e.date:e.day;t._a=z6([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(i){return i&&parseInt(i,10)}),z5(t)}}function LV(t){var e=new O0(B5(cP(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function cP(t){var e=t._i,n=t._f;return t._locale=t._locale||Kc(t._l),e===null||n===void 0&&e===""?mb({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Al(e)?new O0(B5(e)):(D0(e)?t._d=e:Sl(n)?CV(t):n?q5(t):kV(t),N5(t)||(t._d=null),t))}function kV(t){var e=t._i;ba(e)?t._d=new Date(ft.now()):D0(e)?t._d=new Date(e.valueOf()):typeof e=="string"?SV(t):Sl(e)?(t._a=z6(e.slice(0),function(n){return parseInt(n,10)}),z5(t)):pf(e)?NV(t):Oc(e)?t._d=new Date(e):ft.createFromInputFallback(t)}function hP(t,e,n,i,s){var r={};return(e===!0||e===!1)&&(i=e,e=void 0),(n===!0||n===!1)&&(i=n,n=void 0),(pf(t)&&C5(t)||Sl(t)&&t.length===0)&&(t=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=s,r._l=n,r._i=t,r._f=e,r._strict=i,LV(r)}function Ci(t,e,n,i){return hP(t,e,n,i,!1)}var PV=Vo("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ci.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:mb()}),RV=Vo("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ci.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:mb()});function dP(t,e){var n,i;if(e.length===1&&Sl(e[0])&&(e=e[0]),!e.length)return Ci();for(n=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][t](n))&&(n=e[i]);return n}function MV(){var t=[].slice.call(arguments,0);return dP("isBefore",t)}function IV(){var t=[].slice.call(arguments,0);return dP("isAfter",t)}var DV=function(){return Date.now?Date.now():+new Date},pg=["year","quarter","month","week","day","hour","minute","second","millisecond"];function OV(t){var e,n=!1,i,s=pg.length;for(e in t)if(Yn(t,e)&&!(xs.call(pg,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(i=0;i<s;++i)if(t[pg[i]]){if(n)return!1;parseFloat(t[pg[i]])!==Sn(t[pg[i]])&&(n=!0)}return!0}function jV(){return this._isValid}function FV(){return kl(NaN)}function Sb(t){var e=R5(t),n=e.year||0,i=e.quarter||0,s=e.month||0,r=e.week||e.isoWeek||0,a=e.day||0,l=e.hour||0,u=e.minute||0,h=e.second||0,f=e.millisecond||0;this._isValid=OV(e),this._milliseconds=+f+h*1e3+u*6e4+l*1e3*60*60,this._days=+a+r*7,this._months=+s+i*3+n*12,this._data={},this._locale=Kc(),this._bubble()}function Hv(t){return t instanceof Sb}function zx(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function VV(t,e,n){var i=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0,a;for(a=0;a<i;a++)Sn(t[a])!==Sn(e[a])&&r++;return r+s}function fP(t,e){Pt(t,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+Nu(~~(n/60),2)+e+Nu(~~n%60,2)})}fP("Z",":");fP("ZZ","");_t("Z",wb);_t("ZZ",wb);fi(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=H5(wb,t)});var UV=/([\+\-]|\d\d)/gi;function H5(t,e){var n=(e||"").match(t),i,s,r;return n===null?null:(i=n[n.length-1]||[],s=(i+"").match(UV)||["-",0,0],r=+(s[1]*60)+Sn(s[2]),r===0?0:s[0]==="+"?r:-r)}function W5(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(Al(t)||D0(t)?t.valueOf():Ci(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),ft.updateOffset(n,!1),n):Ci(t).local()}function qx(t){return-Math.round(t._d.getTimezoneOffset())}ft.updateOffset=function(){};function BV(t,e,n){var i=this._offset||0,s;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=H5(wb,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(s=qx(this)),this._offset=t,this._isUTC=!0,s!=null&&this.add(s,"m"),i!==t&&(!e||this._changeInProgress?gP(this,kl(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ft.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:qx(this)}function zV(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function qV(t){return this.utcOffset(0,t)}function HV(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(qx(this),"m")),this}function WV(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=H5(cF,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function $V(t){return this.isValid()?(t=t?Ci(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function YV(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function GV(){if(!ba(this._isDSTShifted))return this._isDSTShifted;var t={},e;return L5(t,this),t=cP(t),t._a?(e=t._isUTC?Iu(t._a):Ci(t._a),this._isDSTShifted=this.isValid()&&VV(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function KV(){return this.isValid()?!this._isUTC:!1}function XV(){return this.isValid()?this._isUTC:!1}function pP(){return this.isValid()?this._isUTC&&this._offset===0:!1}var QV=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ZV=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function kl(t,e){var n=t,i=null,s,r,a;return Hv(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Oc(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(i=QV.exec(t))?(s=i[1]==="-"?-1:1,n={y:0,d:Sn(i[gu])*s,h:Sn(i[Hs])*s,m:Sn(i[vl])*s,s:Sn(i[Ac])*s,ms:Sn(zx(i[lf]*1e3))*s}):(i=ZV.exec(t))?(s=i[1]==="-"?-1:1,n={y:Kd(i[2],s),M:Kd(i[3],s),w:Kd(i[4],s),d:Kd(i[5],s),h:Kd(i[6],s),m:Kd(i[7],s),s:Kd(i[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=JV(Ci(n.from),Ci(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),r=new Sb(n),Hv(t)&&Yn(t,"_locale")&&(r._locale=t._locale),Hv(t)&&Yn(t,"_isValid")&&(r._isValid=t._isValid),r}kl.fn=Sb.prototype;kl.invalid=FV;function Kd(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function x4(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function JV(t,e){var n;return t.isValid()&&e.isValid()?(e=W5(e,t),t.isBefore(e)?n=x4(t,e):(n=x4(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function mP(t,e){return function(n,i){var s,r;return i!==null&&!isNaN(+i)&&(H6(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),s=kl(n,i),gP(this,s,t),this}}function gP(t,e,n,i){var s=e._milliseconds,r=zx(e._days),a=zx(e._months);t.isValid()&&(i=i??!0,a&&eP(t,s0(t,"Month")+a*n),r&&Q6(t,"Date",s0(t,"Date")+r*n),s&&t._d.setTime(t._d.valueOf()+s*n),i&&ft.updateOffset(t,r||a))}var eU=mP(1,"add"),tU=mP(-1,"subtract");function yP(t){return typeof t=="string"||t instanceof String}function nU(t){return Al(t)||D0(t)||yP(t)||Oc(t)||sU(t)||iU(t)||t===null||t===void 0}function iU(t){var e=pf(t)&&!C5(t),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,r,a=i.length;for(s=0;s<a;s+=1)r=i[s],n=n||Yn(t,r);return e&&n}function sU(t){var e=Sl(t),n=!1;return e&&(n=t.filter(function(i){return!Oc(i)&&yP(t)}).length===0),e&&n}function rU(t){var e=pf(t)&&!C5(t),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,r;for(s=0;s<i.length;s+=1)r=i[s],n=n||Yn(t,r);return e&&n}function aU(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function oU(t,e){arguments.length===1&&(arguments[0]?nU(arguments[0])?(t=arguments[0],e=void 0):rU(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Ci(),i=W5(n,this).startOf("day"),s=ft.calendarFormat(this,i)||"sameElse",r=e&&(Du(e[s])?e[s].call(this,n):e[s]);return this.format(r||this.localeData().calendar(s,this,Ci(n)))}function lU(){return new O0(this)}function uU(t,e){var n=Al(t)?t:Ci(t);return this.isValid()&&n.isValid()?(e=Uo(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function cU(t,e){var n=Al(t)?t:Ci(t);return this.isValid()&&n.isValid()?(e=Uo(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function hU(t,e,n,i){var s=Al(t)?t:Ci(t),r=Al(e)?e:Ci(e);return this.isValid()&&s.isValid()&&r.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(i[1]===")"?this.isBefore(r,n):!this.isAfter(r,n))):!1}function dU(t,e){var n=Al(t)?t:Ci(t),i;return this.isValid()&&n.isValid()?(e=Uo(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function fU(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function pU(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function mU(t,e,n){var i,s,r;if(!this.isValid())return NaN;if(i=W5(t,this),!i.isValid())return NaN;switch(s=(i.utcOffset()-this.utcOffset())*6e4,e=Uo(e),e){case"year":r=Wv(this,i)/12;break;case"month":r=Wv(this,i);break;case"quarter":r=Wv(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-s)/864e5;break;case"week":r=(this-i-s)/6048e5;break;default:r=this-i}return n?r:Ro(r)}function Wv(t,e){if(t.date()<e.date())return-Wv(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),i=t.clone().add(n,"months"),s,r;return e-i<0?(s=t.clone().add(n-1,"months"),r=(e-i)/(i-s)):(s=t.clone().add(n+1,"months"),r=(e-i)/(s-i)),-(n+r)||0}ft.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ft.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function gU(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function yU(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?qv(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Du(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",qv(n,"Z")):qv(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function vU(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,i,s,r;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",r=e+'[")]',this.format(n+i+s+r)}function bU(t){t||(t=this.isUtc()?ft.defaultFormatUtc:ft.defaultFormat);var e=qv(this,t);return this.localeData().postformat(e)}function wU(t,e){return this.isValid()&&(Al(t)&&t.isValid()||Ci(t).isValid())?kl({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function xU(t){return this.from(Ci(),t)}function _U(t,e){return this.isValid()&&(Al(t)&&t.isValid()||Ci(t).isValid())?kl({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function SU(t){return this.to(Ci(),t)}function vP(t){var e;return t===void 0?this._locale._abbr:(e=Kc(t),e!=null&&(this._locale=e),this)}var bP=Vo("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function wP(){return this._locale}var p1=1e3,Op=60*p1,m1=60*Op,xP=(365*400+97)*24*m1;function jp(t,e){return(t%e+e)%e}function _P(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-xP:new Date(t,e,n).valueOf()}function SP(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-xP:Date.UTC(t,e,n)}function AU(t){var e,n;if(t=Uo(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?SP:_P,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=jp(e+(this._isUTC?0:this.utcOffset()*Op),m1);break;case"minute":e=this._d.valueOf(),e-=jp(e,Op);break;case"second":e=this._d.valueOf(),e-=jp(e,p1);break}return this._d.setTime(e),ft.updateOffset(this,!0),this}function TU(t){var e,n;if(t=Uo(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?SP:_P,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=m1-jp(e+(this._isUTC?0:this.utcOffset()*Op),m1)-1;break;case"minute":e=this._d.valueOf(),e+=Op-jp(e,Op)-1;break;case"second":e=this._d.valueOf(),e+=p1-jp(e,p1)-1;break}return this._d.setTime(e),ft.updateOffset(this,!0),this}function EU(){return this._d.valueOf()-(this._offset||0)*6e4}function CU(){return Math.floor(this.valueOf()/1e3)}function NU(){return new Date(this.valueOf())}function LU(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function kU(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function PU(){return this.isValid()?this.toISOString():null}function RU(){return N5(this)}function MU(){return Yh({},an(this))}function IU(){return an(this).overflow}function DU(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Pt("N",0,0,"eraAbbr");Pt("NN",0,0,"eraAbbr");Pt("NNN",0,0,"eraAbbr");Pt("NNNN",0,0,"eraName");Pt("NNNNN",0,0,"eraNarrow");Pt("y",["y",1],"yo","eraYear");Pt("y",["yy",2],0,"eraYear");Pt("y",["yyy",3],0,"eraYear");Pt("y",["yyyy",4],0,"eraYear");_t("N",$5);_t("NN",$5);_t("NNN",$5);_t("NNNN",$U);_t("NNNNN",YU);fi(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,i){var s=n._locale.erasParse(t,i,n._strict);s?an(n).era=s:an(n).invalidEra=t});_t("y",hm);_t("yy",hm);_t("yyy",hm);_t("yyyy",hm);_t("yo",GU);fi(["y","yy","yyy","yyyy"],Hr);fi(["yo"],function(t,e,n,i){var s;n._locale._eraYearOrdinalRegex&&(s=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Hr]=n._locale.eraYearOrdinalParse(t,s):e[Hr]=parseInt(t,10)});function OU(t,e){var n,i,s,r=this._eras||Kc("en")._eras;for(n=0,i=r.length;n<i;++n){switch(typeof r[n].since){case"string":s=ft(r[n].since).startOf("day"),r[n].since=s.valueOf();break}switch(typeof r[n].until){case"undefined":r[n].until=1/0;break;case"string":s=ft(r[n].until).startOf("day").valueOf(),r[n].until=s.valueOf();break}}return r}function jU(t,e,n){var i,s,r=this.eras(),a,l,u;for(t=t.toUpperCase(),i=0,s=r.length;i<s;++i)if(a=r[i].name.toUpperCase(),l=r[i].abbr.toUpperCase(),u=r[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(l===t)return r[i];break;case"NNNN":if(a===t)return r[i];break;case"NNNNN":if(u===t)return r[i];break}else if([a,l,u].indexOf(t)>=0)return r[i]}function FU(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ft(t.since).year():ft(t.since).year()+(e-t.offset)*n}function VU(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].name;return""}function UU(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].narrow;return""}function BU(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].abbr;return""}function zU(){var t,e,n,i,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=s[t].since<=s[t].until?1:-1,i=this.clone().startOf("day").valueOf(),s[t].since<=i&&i<=s[t].until||s[t].until<=i&&i<=s[t].since)return(this.year()-ft(s[t].since).year())*n+s[t].offset;return this.year()}function qU(t){return Yn(this,"_erasNameRegex")||Y5.call(this),t?this._erasNameRegex:this._erasRegex}function HU(t){return Yn(this,"_erasAbbrRegex")||Y5.call(this),t?this._erasAbbrRegex:this._erasRegex}function WU(t){return Yn(this,"_erasNarrowRegex")||Y5.call(this),t?this._erasNarrowRegex:this._erasRegex}function $5(t,e){return e.erasAbbrRegex(t)}function $U(t,e){return e.erasNameRegex(t)}function YU(t,e){return e.erasNarrowRegex(t)}function GU(t,e){return e._eraYearOrdinalRegex||hm}function Y5(){var t=[],e=[],n=[],i=[],s,r,a,l,u,h=this.eras();for(s=0,r=h.length;s<r;++s)a=Lc(h[s].name),l=Lc(h[s].abbr),u=Lc(h[s].narrow),e.push(a),t.push(l),n.push(u),i.push(a),i.push(l),i.push(u);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Pt(0,["gg",2],0,function(){return this.weekYear()%100});Pt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ab(t,e){Pt(0,[t,t.length],0,e)}Ab("gggg","weekYear");Ab("ggggg","weekYear");Ab("GGGG","isoWeekYear");Ab("GGGGG","isoWeekYear");_t("G",bb);_t("g",bb);_t("GG",Ni,io);_t("gg",Ni,io);_t("GGGG",I5,M5);_t("gggg",I5,M5);_t("GGGGG",vb,gb);_t("ggggg",vb,gb);F0(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=Sn(t)});F0(["gg","GG"],function(t,e,n,i){e[i]=ft.parseTwoDigitYear(t)});function KU(t){return AP.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function XU(t){return AP.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function QU(){return kc(this.year(),1,4)}function ZU(){return kc(this.isoWeekYear(),1,4)}function JU(){var t=this.localeData()._week;return kc(this.year(),t.dow,t.doy)}function eB(){var t=this.localeData()._week;return kc(this.weekYear(),t.dow,t.doy)}function AP(t,e,n,i,s){var r;return t==null?a0(this,i,s).year:(r=kc(t,i,s),e>r&&(e=r),tB.call(this,t,e,n,i,s))}function tB(t,e,n,i,s){var r=iP(t,e,n,i,s),a=r0(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}Pt("Q",0,"Qo","quarter");_t("Q",$6);fi("Q",function(t,e){e[Sc]=(Sn(t)-1)*3});function nB(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Pt("D",["DD",2],"Do","date");_t("D",Ni,dm);_t("DD",Ni,io);_t("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});fi(["D","DD"],gu);fi("Do",function(t,e){e[gu]=Sn(t.match(Ni)[0])});var TP=fm("Date",!0);Pt("DDD",["DDDD",3],"DDDo","dayOfYear");_t("DDD",yb);_t("DDDD",Y6);fi(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Sn(t)});function iB(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Pt("m",["mm",2],0,"minute");_t("m",Ni,D5);_t("mm",Ni,io);fi(["m","mm"],vl);var sB=fm("Minutes",!1);Pt("s",["ss",2],0,"second");_t("s",Ni,D5);_t("ss",Ni,io);fi(["s","ss"],Ac);var rB=fm("Seconds",!1);Pt("S",0,0,function(){return~~(this.millisecond()/100)});Pt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Pt(0,["SSS",3],0,"millisecond");Pt(0,["SSSS",4],0,function(){return this.millisecond()*10});Pt(0,["SSSSS",5],0,function(){return this.millisecond()*100});Pt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Pt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Pt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Pt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});_t("S",yb,$6);_t("SS",yb,io);_t("SSS",yb,Y6);var Gh,EP;for(Gh="SSSS";Gh.length<=9;Gh+="S")_t(Gh,hm);function aB(t,e){e[lf]=Sn(("0."+t)*1e3)}for(Gh="S";Gh.length<=9;Gh+="S")fi(Gh,aB);EP=fm("Milliseconds",!1);Pt("z",0,0,"zoneAbbr");Pt("zz",0,0,"zoneName");function oB(){return this._isUTC?"UTC":""}function lB(){return this._isUTC?"Coordinated Universal Time":""}var st=O0.prototype;st.add=eU;st.calendar=oU;st.clone=lU;st.diff=mU;st.endOf=TU;st.format=bU;st.from=wU;st.fromNow=xU;st.to=_U;st.toNow=SU;st.get=vF;st.invalidAt=IU;st.isAfter=uU;st.isBefore=cU;st.isBetween=hU;st.isSame=dU;st.isSameOrAfter=fU;st.isSameOrBefore=pU;st.isValid=RU;st.lang=bP;st.locale=vP;st.localeData=wP;st.max=RV;st.min=PV;st.parsingFlags=MU;st.set=bF;st.startOf=AU;st.subtract=tU;st.toArray=LU;st.toObject=kU;st.toDate=NU;st.toISOString=yU;st.inspect=vU;typeof Symbol<"u"&&Symbol.for!=null&&(st[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});st.toJSON=PU;st.toString=gU;st.unix=CU;st.valueOf=EU;st.creationData=DU;st.eraName=VU;st.eraNarrow=UU;st.eraAbbr=BU;st.eraYear=zU;st.year=X6;st.isLeapYear=yF;st.weekYear=KU;st.isoWeekYear=XU;st.quarter=st.quarters=nB;st.month=tP;st.daysInMonth=NF;st.week=st.weeks=OF;st.isoWeek=st.isoWeeks=jF;st.weeksInYear=JU;st.weeksInWeekYear=eB;st.isoWeeksInYear=QU;st.isoWeeksInISOWeekYear=ZU;st.date=TP;st.day=st.days=XF;st.weekday=QF;st.isoWeekday=ZF;st.dayOfYear=iB;st.hour=st.hours=rV;st.minute=st.minutes=sB;st.second=st.seconds=rB;st.millisecond=st.milliseconds=EP;st.utcOffset=BV;st.utc=qV;st.local=HV;st.parseZone=WV;st.hasAlignedHourOffset=$V;st.isDST=YV;st.isLocal=KV;st.isUtcOffset=XV;st.isUtc=pP;st.isUTC=pP;st.zoneAbbr=oB;st.zoneName=lB;st.dates=Vo("dates accessor is deprecated. Use date instead.",TP);st.months=Vo("months accessor is deprecated. Use month instead",tP);st.years=Vo("years accessor is deprecated. Use year instead",X6);st.zone=Vo("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",zV);st.isDSTShifted=Vo("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",GV);function uB(t){return Ci(t*1e3)}function cB(){return Ci.apply(null,arguments).parseZone()}function CP(t){return t}var Gn=k5.prototype;Gn.calendar=K9;Gn.longDateFormat=J9;Gn.invalidDate=tF;Gn.ordinal=sF;Gn.preparse=CP;Gn.postformat=CP;Gn.relativeTime=aF;Gn.pastFuture=oF;Gn.set=Y9;Gn.eras=OU;Gn.erasParse=jU;Gn.erasConvertYear=FU;Gn.erasAbbrRegex=HU;Gn.erasNameRegex=qU;Gn.erasNarrowRegex=WU;Gn.months=AF;Gn.monthsShort=TF;Gn.monthsParse=CF;Gn.monthsRegex=kF;Gn.monthsShortRegex=LF;Gn.week=RF;Gn.firstDayOfYear=DF;Gn.firstDayOfWeek=IF;Gn.weekdays=WF;Gn.weekdaysMin=YF;Gn.weekdaysShort=$F;Gn.weekdaysParse=KF;Gn.weekdaysRegex=JF;Gn.weekdaysShortRegex=eV;Gn.weekdaysMinRegex=tV;Gn.isPM=iV;Gn.meridiem=aV;function g1(t,e,n,i){var s=Kc(),r=Iu().set(i,e);return s[n](r,t)}function NP(t,e,n){if(Oc(t)&&(e=t,t=void 0),t=t||"",e!=null)return g1(t,e,n,"month");var i,s=[];for(i=0;i<12;i++)s[i]=g1(t,i,n,"month");return s}function G5(t,e,n,i){typeof t=="boolean"?(Oc(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Oc(e)&&(n=e,e=void 0),e=e||"");var s=Kc(),r=t?s._week.dow:0,a,l=[];if(n!=null)return g1(e,(n+r)%7,i,"day");for(a=0;a<7;a++)l[a]=g1(e,(a+r)%7,i,"day");return l}function hB(t,e){return NP(t,e,"months")}function dB(t,e){return NP(t,e,"monthsShort")}function fB(t,e,n){return G5(t,e,n,"weekdays")}function pB(t,e,n){return G5(t,e,n,"weekdaysShort")}function mB(t,e,n){return G5(t,e,n,"weekdaysMin")}ed("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Sn(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ft.lang=Vo("moment.lang is deprecated. Use moment.locale instead.",ed);ft.langData=Vo("moment.langData is deprecated. Use moment.localeData instead.",Kc);var mc=Math.abs;function gB(){var t=this._data;return this._milliseconds=mc(this._milliseconds),this._days=mc(this._days),this._months=mc(this._months),t.milliseconds=mc(t.milliseconds),t.seconds=mc(t.seconds),t.minutes=mc(t.minutes),t.hours=mc(t.hours),t.months=mc(t.months),t.years=mc(t.years),this}function LP(t,e,n,i){var s=kl(e,n);return t._milliseconds+=i*s._milliseconds,t._days+=i*s._days,t._months+=i*s._months,t._bubble()}function yB(t,e){return LP(this,t,e,1)}function vB(t,e){return LP(this,t,e,-1)}function _4(t){return t<0?Math.floor(t):Math.ceil(t)}function bB(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data,s,r,a,l,u;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=_4(Hx(n)+e)*864e5,e=0,n=0),i.milliseconds=t%1e3,s=Ro(t/1e3),i.seconds=s%60,r=Ro(s/60),i.minutes=r%60,a=Ro(r/60),i.hours=a%24,e+=Ro(a/24),u=Ro(kP(e)),n+=u,e-=_4(Hx(u)),l=Ro(n/12),n%=12,i.days=e,i.months=n,i.years=l,this}function kP(t){return t*4800/146097}function Hx(t){return t*146097/4800}function wB(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if(t=Uo(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+i/864e5,n=this._months+kP(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Hx(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return e*24+i/36e5;case"minute":return e*1440+i/6e4;case"second":return e*86400+i/1e3;case"millisecond":return Math.floor(e*864e5)+i;default:throw new Error("Unknown unit "+t)}}function Xc(t){return function(){return this.as(t)}}var PP=Xc("ms"),xB=Xc("s"),_B=Xc("m"),SB=Xc("h"),AB=Xc("d"),TB=Xc("w"),EB=Xc("M"),CB=Xc("Q"),NB=Xc("y"),LB=PP;function kB(){return kl(this)}function PB(t){return t=Uo(t),this.isValid()?this[t+"s"]():NaN}function kf(t){return function(){return this.isValid()?this._data[t]:NaN}}var RB=kf("milliseconds"),MB=kf("seconds"),IB=kf("minutes"),DB=kf("hours"),OB=kf("days"),jB=kf("months"),FB=kf("years");function VB(){return Ro(this.days()/7)}var xc=Math.round,Ep={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function UB(t,e,n,i,s){return s.relativeTime(e||1,!!n,t,i)}function BB(t,e,n,i){var s=kl(t).abs(),r=xc(s.as("s")),a=xc(s.as("m")),l=xc(s.as("h")),u=xc(s.as("d")),h=xc(s.as("M")),f=xc(s.as("w")),p=xc(s.as("y")),g=r<=n.ss&&["s",r]||r<n.s&&["ss",r]||a<=1&&["m"]||a<n.m&&["mm",a]||l<=1&&["h"]||l<n.h&&["hh",l]||u<=1&&["d"]||u<n.d&&["dd",u];return n.w!=null&&(g=g||f<=1&&["w"]||f<n.w&&["ww",f]),g=g||h<=1&&["M"]||h<n.M&&["MM",h]||p<=1&&["y"]||["yy",p],g[2]=e,g[3]=+t>0,g[4]=i,UB.apply(null,g)}function zB(t){return t===void 0?xc:typeof t=="function"?(xc=t,!0):!1}function qB(t,e){return Ep[t]===void 0?!1:e===void 0?Ep[t]:(Ep[t]=e,t==="s"&&(Ep.ss=e-1),!0)}function HB(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=Ep,s,r;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(i=Object.assign({},Ep,e),e.s!=null&&e.ss==null&&(i.ss=e.s-1)),s=this.localeData(),r=BB(this,!n,i,s),n&&(r=s.pastFuture(+this,r)),s.postformat(r)}var Rw=Math.abs;function dp(t){return(t>0)-(t<0)||+t}function Tb(){if(!this.isValid())return this.localeData().invalidDate();var t=Rw(this._milliseconds)/1e3,e=Rw(this._days),n=Rw(this._months),i,s,r,a,l=this.asSeconds(),u,h,f,p;return l?(i=Ro(t/60),s=Ro(i/60),t%=60,i%=60,r=Ro(n/12),n%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",u=l<0?"-":"",h=dp(this._months)!==dp(l)?"-":"",f=dp(this._days)!==dp(l)?"-":"",p=dp(this._milliseconds)!==dp(l)?"-":"",u+"P"+(r?h+r+"Y":"")+(n?h+n+"M":"")+(e?f+e+"D":"")+(s||i||t?"T":"")+(s?p+s+"H":"")+(i?p+i+"M":"")+(t?p+a+"S":"")):"P0D"}var Dn=Sb.prototype;Dn.isValid=jV;Dn.abs=gB;Dn.add=yB;Dn.subtract=vB;Dn.as=wB;Dn.asMilliseconds=PP;Dn.asSeconds=xB;Dn.asMinutes=_B;Dn.asHours=SB;Dn.asDays=AB;Dn.asWeeks=TB;Dn.asMonths=EB;Dn.asQuarters=CB;Dn.asYears=NB;Dn.valueOf=LB;Dn._bubble=bB;Dn.clone=kB;Dn.get=PB;Dn.milliseconds=RB;Dn.seconds=MB;Dn.minutes=IB;Dn.hours=DB;Dn.days=OB;Dn.weeks=VB;Dn.months=jB;Dn.years=FB;Dn.humanize=HB;Dn.toISOString=Tb;Dn.toString=Tb;Dn.toJSON=Tb;Dn.locale=vP;Dn.localeData=wP;Dn.toIsoString=Vo("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tb);Dn.lang=bP;Pt("X",0,0,"unix");Pt("x",0,0,"valueOf");_t("x",bb);_t("X",hF);fi("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});fi("x",function(t,e,n){n._d=new Date(Sn(t))});//! moment.js
ft.version="2.30.1";W9(Ci);ft.fn=st;ft.min=MV;ft.max=IV;ft.now=DV;ft.utc=Iu;ft.unix=uB;ft.months=hB;ft.isDate=D0;ft.locale=ed;ft.invalid=mb;ft.duration=kl;ft.isMoment=Al;ft.weekdays=fB;ft.parseZone=cB;ft.localeData=Kc;ft.isDuration=Hv;ft.monthsShort=dB;ft.weekdaysMin=mB;ft.defineLocale=U5;ft.updateLocale=cV;ft.locales=hV;ft.weekdaysShort=pB;ft.normalizeUnits=Uo;ft.relativeTimeRounding=zB;ft.relativeTimeThreshold=qB;ft.calendarFormat=aU;ft.prototype=st;ft.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const WB=({customer:t,onChange:e})=>{const n=i=>{e({...t,[i.target.name]:i.target.value})};return v.jsxs("div",{className:"bg-white p-4 rounded shadow mb-4",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Customer Information"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("label",{className:"flex flex-col",htmlFor:"name",children:[v.jsx("span",{className:"mb-1 font-medium",children:"Customer Name"}),v.jsx("input",{id:"name",type:"text",name:"name",value:t?.name||"",onChange:n,placeholder:"Enter customer name",className:"border p-2 rounded"})]}),v.jsxs("label",{className:"flex flex-col",htmlFor:"phone",children:[v.jsx("span",{className:"mb-1 font-medium",children:"Phone Number"}),v.jsx("input",{id:"phone",type:"tel",name:"phone",value:t?.phone||"",onChange:n,placeholder:"Enter phone number",className:"border p-2 rounded"})]}),v.jsxs("label",{className:"flex flex-col",htmlFor:"email",children:[v.jsx("span",{className:"mb-1 font-medium",children:"Email Address"}),v.jsx("input",{id:"email",type:"email",name:"email",value:t?.email||"",onChange:n,placeholder:"Enter email address",className:"border p-2 rounded"})]}),v.jsxs("label",{className:"flex flex-col",htmlFor:"address",children:[v.jsx("span",{className:"mb-1 font-medium",children:"Customer Address"}),v.jsx("input",{id:"address",type:"text",name:"address",value:t?.address||"",onChange:n,placeholder:"Enter customer address",className:"border p-2 rounded"})]})]})]})},$B=({selectedProducts:t=[],onUpdateCart:e})=>{const[n,i]=C.useState([]),s=()=>{i([...n,{id:"manual",name:"",sku:"",quantity:1,price:0,discount:0}])},r=(u,h,f)=>{const p=[...n];p[u][h]=h==="quantity"||h==="price"||h==="discount"?parseFloat(f)||0:f,i(p)},a=u=>{const h=[...n];h.splice(u,1),i(h)},l=u=>((u.price-u.price*u.discount/100)*u.quantity).toFixed(2);return C.useEffect(()=>{const u=t.filter(h=>!n.some(f=>f.sku===h.sku)).map(h=>({id:h.id,name:h.productName||"",sku:h.sku||"",quantity:1,price:h.sellingPrice||0,discount:0}));u.length>0&&i(h=>[...h,...u])},[t]),C.useEffect(()=>{console.log("Updated Cart Items:",n),e&&n.length>0&&e(n)},[n]),v.jsxs("div",{children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("button",{onClick:s,className:"bg-green-600 text-white px-4 py-2 rounded shadow",children:"+ Add Item"}),v.jsxs("table",{className:"min-w-full border border-gray-300 text-sm",children:[v.jsx("thead",{className:"bg-gray-100 text-left",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-2",children:"Product Name"}),v.jsx("th",{className:"p-2",children:"SKU"}),v.jsx("th",{className:"p-2",children:"Qty"}),v.jsx("th",{className:"p-2",children:"Price"}),v.jsx("th",{className:"p-2",children:"Discount (%)"}),v.jsx("th",{className:"p-2",children:"Subtotal"}),v.jsx("th",{className:"p-2",children:"Action"})]})}),v.jsx("tbody",{children:n.map((u,h)=>v.jsxs("tr",{className:"border-t",children:[v.jsx("td",{className:"p-2",children:v.jsx("input",{type:"text",value:u.name||"",onChange:f=>r(h,"name",f.target.value),className:"w-full border px-2 py-1 rounded"})}),v.jsx("td",{className:"p-2",children:v.jsx("input",{type:"text",value:u.sku||"",onChange:f=>r(h,"sku",f.target.value),className:"w-full border px-2 py-1 rounded"})}),v.jsx("td",{className:"p-2",children:v.jsx("input",{type:"number",value:u.quantity||0,onChange:f=>r(h,"quantity",f.target.value),className:"w-16 border px-2 py-1 rounded"})}),v.jsx("td",{className:"p-2",children:v.jsx("input",{type:"number",value:u.price||0,onChange:f=>r(h,"price",f.target.value),className:"w-20 border px-2 py-1 rounded"})}),v.jsx("td",{className:"p-2",children:v.jsx("input",{type:"number",value:u.discount||0,onChange:f=>r(h,"discount",f.target.value),className:"w-20 border px-2 py-1 rounded"})}),v.jsx("td",{className:"p-2",children:l(u)}),v.jsx("td",{className:"p-2",children:v.jsx("button",{onClick:()=>a(h),className:"text-red-600 hover:underline",children:"Remove"})})]},h))})]})]}),v.jsxs("div",{className:"mt-4 text-right space-y-1",children:[v.jsxs("p",{children:["Total Items: ",n.length]}),v.jsxs("p",{children:["Total Quantity:"," ",n.reduce((u,h)=>u+h.quantity,0)]}),v.jsxs("p",{children:["Total Before Discount: ₹",n.reduce((u,h)=>u+h.price*h.quantity,0).toFixed(2)]}),v.jsxs("p",{children:["Total Discount: ₹",n.reduce((u,h)=>u+h.price*h.discount*h.quantity/100,0).toFixed(2)]}),v.jsxs("p",{className:"font-semibold text-lg",children:["Final Total: ₹",n.reduce((u,h)=>u+(h.price-h.price*h.discount/100)*h.quantity,0).toFixed(2)]})]})]})},YB=({settings:t,onChange:e})=>{const n=i=>{const{name:s,type:r,checked:a,value:l}=i.target;e({...t,[s]:r==="checkbox"?a:l})};return v.jsxs("div",{className:"bg-white p-4 rounded shadow space-y-4",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Invoice Settings"}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",name:"includeGST",checked:t.includeGST,onChange:n}),"Include GST",t.includeGST&&v.jsx("input",{type:"number",name:"gstRate",value:t.gstRate||"",onChange:n,className:"border px-2 py-1 rounded w-20",placeholder:"% GST"})]}),v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",name:"includeCGST",checked:t.includeCGST,onChange:n}),"Include CGST",t.includeCGST&&v.jsx("input",{type:"number",name:"cgstRate",value:t.cgstRate||"",onChange:n,className:"border px-2 py-1 rounded w-20",placeholder:"% CGST"})]}),v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",name:"includeIGST",checked:t.includeIGST,onChange:n}),"Include IGST",t.includeIGST&&v.jsx("input",{type:"number",name:"igstRate",value:t.igstRate||"",onChange:n,className:"border px-2 py-1 rounded w-20",placeholder:"% IGST"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("label",{className:"flex flex-col",children:[v.jsx("span",{className:"mb-1 font-medium",children:"Invoice Type"}),v.jsxs("select",{name:"invoiceType",value:t.invoiceType,onChange:n,className:"border px-3 py-2 rounded",children:[v.jsx("option",{value:"retail",children:"Retail"}),v.jsx("option",{value:"tax",children:"Tax"}),v.jsx("option",{value:"quote",children:"Quote"}),v.jsx("option",{value:"estimation",children:"Estimation"})]})]}),v.jsxs("label",{className:"flex flex-col",children:[v.jsx("span",{className:"mb-1 font-medium",children:"Payment Mode"}),v.jsxs("select",{name:"paymentMode",value:t.paymentMode,onChange:n,className:"border px-3 py-2 rounded",children:[v.jsx("option",{value:"",children:"Select Payment Mode"}),v.jsx("option",{value:"cash",children:"Cash"}),v.jsx("option",{value:"upi",children:"UPI"}),v.jsx("option",{value:"card",children:"Card"})]})]})]})]})},GB=()=>{};var S4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},KB=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],l=t[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},MP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,l=a?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,f=r>>2,p=(r&3)<<4|l>>4;let g=(l&15)<<2|h>>6,y=h&63;u||(y=64,a||(g=64)),i.push(n[f],n[p],n[g],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||h==null||p==null)throw new XB;const g=r<<2|l>>4;if(i.push(g),h!==64){const y=l<<4&240|h>>2;if(i.push(y),p!==64){const x=h<<6&192|p;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QB=function(t){const e=RP(t);return MP.encodeByteArray(e,!0)},y1=function(t){return QB(t).replace(/\./g,"")},IP=function(t){try{return MP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=()=>ZB().__FIREBASE_DEFAULTS__,ez=()=>{if(typeof process>"u"||typeof S4>"u")return;const t=S4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IP(t[1]);return e&&JSON.parse(e)},Eb=()=>{try{return GB()||JB()||ez()||tz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DP=t=>{var e,n;return(n=(e=Eb())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OP=t=>{const e=DP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},jP=()=>{var t;return(t=Eb())===null||t===void 0?void 0:t.config},FP=t=>{var e;return(e=Eb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function K5(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[y1(JSON.stringify(n)),y1(JSON.stringify(a)),""].join(".")}const jg={};function iz(){const t={prod:[],emulator:[]};for(const e of Object.keys(jg))jg[e]?t.emulator.push(e):t.prod.push(e);return t}function sz(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let A4=!1;function X5(t,e){if(typeof window>"u"||typeof document>"u"||!bd(window.location.host)||jg[t]===e||jg[t]||A4)return;jg[t]=e;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",r=iz().prod.length>0;function a(){const g=document.getElementById(i);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{A4=!0,a()},g}function f(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=sz(i),y=n("text"),x=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),T=document.getElementById(A)||document.createElement("a"),E=n("preprendIcon"),k=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const O=g.element;l(O),f(T,A);const B=h();u(k,E),O.append(k,x,T,B),document.body.appendChild(O)}r?(x.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wr())}function az(){var t;const e=(t=Eb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cz(){const t=Wr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hz(){return!az()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dz(){try{return typeof indexedDB=="object"}catch{return!1}}function fz(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz="FirebaseError";class Ou extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=pz,Object.setPrototypeOf(this,Ou.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V0.prototype.create)}}class V0{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?mz(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Ou(s,l,i)}}function mz(t,e){return t.replace(gz,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const gz=/\{\$([^}]+)}/g;function yz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(T4(r)&&T4(a)){if(!xf(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function T4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Cg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function Ng(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vz(t,e){const n=new bz(t,e);return n.subscribe.bind(n)}class bz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");wz(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Mw),s.error===void 0&&(s.error=Mw),s.complete===void 0&&(s.complete=Mw);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t){return t&&t._delegate?t._delegate:t}class od{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new nz;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sz(e))try{this.getOrInitializeService({instanceIdentifier:tf})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=tf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tf){return this.instances.has(e)}getOptions(e=tf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_z(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=tf){return this.component?this.component.multipleInstances?e:tf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _z(t){return t===tf?void 0:t}function Sz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xn||(xn={}));const Tz={debug:xn.DEBUG,verbose:xn.VERBOSE,info:xn.INFO,warn:xn.WARN,error:xn.ERROR,silent:xn.SILENT},Ez=xn.INFO,Cz={[xn.DEBUG]:"log",[xn.VERBOSE]:"log",[xn.INFO]:"info",[xn.WARN]:"warn",[xn.ERROR]:"error"},Nz=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=Cz[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Q5{constructor(e){this.name=e,this._logLevel=Ez,this._logHandler=Nz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xn.DEBUG,...e),this._logHandler(this,xn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xn.VERBOSE,...e),this._logHandler(this,xn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xn.INFO,...e),this._logHandler(this,xn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xn.WARN,...e),this._logHandler(this,xn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xn.ERROR,...e),this._logHandler(this,xn.ERROR,...e)}}const Lz=(t,e)=>e.some(n=>t instanceof n);let E4,C4;function kz(){return E4||(E4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pz(){return C4||(C4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UP=new WeakMap,Wx=new WeakMap,BP=new WeakMap,Iw=new WeakMap,Z5=new WeakMap;function Rz(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(td(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&UP.set(n,t)}).catch(()=>{}),Z5.set(e,t),e}function Mz(t){if(Wx.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});Wx.set(t,e)}let $x={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return td(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Iz(t){$x=t($x)}function Dz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Dw(this),e,...n);return BP.set(i,e.sort?e.sort():[e]),td(i)}:Pz().includes(t)?function(...e){return t.apply(Dw(this),e),td(UP.get(this))}:function(...e){return td(t.apply(Dw(this),e))}}function Oz(t){return typeof t=="function"?Dz(t):(t instanceof IDBTransaction&&Mz(t),Lz(t,kz())?new Proxy(t,$x):t)}function td(t){if(t instanceof IDBRequest)return Rz(t);if(Iw.has(t))return Iw.get(t);const e=Oz(t);return e!==t&&(Iw.set(t,e),Z5.set(e,t)),e}const Dw=t=>Z5.get(t);function jz(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),l=td(a);return i&&a.addEventListener("upgradeneeded",u=>{i(td(a.result),u.oldVersion,u.newVersion,td(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const Fz=["get","getKey","getAll","getAllKeys","count"],Vz=["put","add","delete","clear"],Ow=new Map;function N4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ow.get(e))return Ow.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=Vz.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Fz.includes(n)))return;const r=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&u.done]))[0]};return Ow.set(e,r),r}Iz(t=>({...t,get:(e,n,i)=>N4(e,n)||t.get(e,n,i),has:(e,n)=>!!N4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bz(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Bz(t){const e=t.getComponent();return e?.type==="VERSION"}const Yx="@firebase/app",L4="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Q5("@firebase/app"),zz="@firebase/app-compat",qz="@firebase/analytics-compat",Hz="@firebase/analytics",Wz="@firebase/app-check-compat",$z="@firebase/app-check",Yz="@firebase/auth",Gz="@firebase/auth-compat",Kz="@firebase/database",Xz="@firebase/data-connect",Qz="@firebase/database-compat",Zz="@firebase/functions",Jz="@firebase/functions-compat",eq="@firebase/installations",tq="@firebase/installations-compat",nq="@firebase/messaging",iq="@firebase/messaging-compat",sq="@firebase/performance",rq="@firebase/performance-compat",aq="@firebase/remote-config",oq="@firebase/remote-config-compat",lq="@firebase/storage",uq="@firebase/storage-compat",cq="@firebase/firestore",hq="@firebase/ai",dq="@firebase/firestore-compat",fq="firebase",pq="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="[DEFAULT]",mq={[Yx]:"fire-core",[zz]:"fire-core-compat",[Hz]:"fire-analytics",[qz]:"fire-analytics-compat",[$z]:"fire-app-check",[Wz]:"fire-app-check-compat",[Yz]:"fire-auth",[Gz]:"fire-auth-compat",[Kz]:"fire-rtdb",[Xz]:"fire-data-connect",[Qz]:"fire-rtdb-compat",[Zz]:"fire-fn",[Jz]:"fire-fn-compat",[eq]:"fire-iid",[tq]:"fire-iid-compat",[nq]:"fire-fcm",[iq]:"fire-fcm-compat",[sq]:"fire-perf",[rq]:"fire-perf-compat",[aq]:"fire-rc",[oq]:"fire-rc-compat",[lq]:"fire-gcs",[uq]:"fire-gcs-compat",[cq]:"fire-fst",[dq]:"fire-fst-compat",[hq]:"fire-vertex","fire-js":"fire-js",[fq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Map,gq=new Map,Kx=new Map;function k4(t,e){try{t.container.addComponent(e)}catch(n){jc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _f(t){const e=t.name;if(Kx.has(e))return jc.debug(`There were multiple attempts to register component ${e}.`),!1;Kx.set(e,t);for(const n of v1.values())k4(n,t);for(const n of gq.values())k4(n,t);return!0}function Cb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Za(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nd=new V0("app","Firebase",yq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new od("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=pq;function zP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Gx,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw nd.create("bad-app-name",{appName:String(s)});if(n||(n=jP()),!n)throw nd.create("no-options");const r=v1.get(s);if(r){if(xf(n,r.options)&&xf(i,r.config))return r;throw nd.create("duplicate-app",{appName:s})}const a=new Az(s);for(const u of Kx.values())a.addComponent(u);const l=new vq(n,i,a);return v1.set(s,l),l}function J5(t=Gx){const e=v1.get(t);if(!e&&t===Gx&&jP())return zP();if(!e)throw nd.create("no-app",{appName:t});return e}function bu(t,e,n){var i;let s=(i=mq[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jc.warn(l.join(" "));return}_f(new od(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq="firebase-heartbeat-database",wq=1,l0="firebase-heartbeat-store";let jw=null;function qP(){return jw||(jw=jz(bq,wq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(l0)}catch(n){console.warn(n)}}}}).catch(t=>{throw nd.create("idb-open",{originalErrorMessage:t.message})})),jw}async function xq(t){try{const n=(await qP()).transaction(l0),i=await n.objectStore(l0).get(HP(t));return await n.done,i}catch(e){if(e instanceof Ou)jc.warn(e.message);else{const n=nd.create("idb-get",{originalErrorMessage:e?.message});jc.warn(n.message)}}}async function P4(t,e){try{const i=(await qP()).transaction(l0,"readwrite");await i.objectStore(l0).put(e,HP(t)),await i.done}catch(n){if(n instanceof Ou)jc.warn(n.message);else{const i=nd.create("idb-set",{originalErrorMessage:n?.message});jc.warn(i.message)}}}function HP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q=1024,Sq=30;class Aq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Eq(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=R4();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>Sq){const a=Cq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){jc.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R4(),{heartbeatsToSend:i,unsentEntries:s}=Tq(this._heartbeatsCache.heartbeats),r=y1(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return jc.warn(n),""}}}function R4(){return new Date().toISOString().substring(0,10)}function Tq(t,e=_q){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),M4(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),M4(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Eq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dz()?fz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return P4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return P4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function M4(t){return y1(JSON.stringify({version:2,heartbeats:t})).length}function Cq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t){_f(new od("platform-logger",e=>new Uz(e),"PRIVATE")),_f(new od("heartbeat",e=>new Aq(e),"PRIVATE")),bu(Yx,L4,t),bu(Yx,L4,"esm2017"),bu("fire-js","")}Nq("");var I4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var id,WP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,P){function F(){}F.prototype=P.prototype,I.D=P.prototype,I.prototype=new F,I.prototype.constructor=I,I.C=function(H,M,j){for(var z=Array(arguments.length-2),te=2;te<arguments.length;te++)z[te-2]=arguments[te];return P.prototype[M].apply(H,z)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,P,F){F||(F=0);var H=Array(16);if(typeof P=="string")for(var M=0;16>M;++M)H[M]=P.charCodeAt(F++)|P.charCodeAt(F++)<<8|P.charCodeAt(F++)<<16|P.charCodeAt(F++)<<24;else for(M=0;16>M;++M)H[M]=P[F++]|P[F++]<<8|P[F++]<<16|P[F++]<<24;P=I.g[0],F=I.g[1],M=I.g[2];var j=I.g[3],z=P+(j^F&(M^j))+H[0]+3614090360&4294967295;P=F+(z<<7&4294967295|z>>>25),z=j+(M^P&(F^M))+H[1]+3905402710&4294967295,j=P+(z<<12&4294967295|z>>>20),z=M+(F^j&(P^F))+H[2]+606105819&4294967295,M=j+(z<<17&4294967295|z>>>15),z=F+(P^M&(j^P))+H[3]+3250441966&4294967295,F=M+(z<<22&4294967295|z>>>10),z=P+(j^F&(M^j))+H[4]+4118548399&4294967295,P=F+(z<<7&4294967295|z>>>25),z=j+(M^P&(F^M))+H[5]+1200080426&4294967295,j=P+(z<<12&4294967295|z>>>20),z=M+(F^j&(P^F))+H[6]+2821735955&4294967295,M=j+(z<<17&4294967295|z>>>15),z=F+(P^M&(j^P))+H[7]+4249261313&4294967295,F=M+(z<<22&4294967295|z>>>10),z=P+(j^F&(M^j))+H[8]+1770035416&4294967295,P=F+(z<<7&4294967295|z>>>25),z=j+(M^P&(F^M))+H[9]+2336552879&4294967295,j=P+(z<<12&4294967295|z>>>20),z=M+(F^j&(P^F))+H[10]+4294925233&4294967295,M=j+(z<<17&4294967295|z>>>15),z=F+(P^M&(j^P))+H[11]+2304563134&4294967295,F=M+(z<<22&4294967295|z>>>10),z=P+(j^F&(M^j))+H[12]+1804603682&4294967295,P=F+(z<<7&4294967295|z>>>25),z=j+(M^P&(F^M))+H[13]+4254626195&4294967295,j=P+(z<<12&4294967295|z>>>20),z=M+(F^j&(P^F))+H[14]+2792965006&4294967295,M=j+(z<<17&4294967295|z>>>15),z=F+(P^M&(j^P))+H[15]+1236535329&4294967295,F=M+(z<<22&4294967295|z>>>10),z=P+(M^j&(F^M))+H[1]+4129170786&4294967295,P=F+(z<<5&4294967295|z>>>27),z=j+(F^M&(P^F))+H[6]+3225465664&4294967295,j=P+(z<<9&4294967295|z>>>23),z=M+(P^F&(j^P))+H[11]+643717713&4294967295,M=j+(z<<14&4294967295|z>>>18),z=F+(j^P&(M^j))+H[0]+3921069994&4294967295,F=M+(z<<20&4294967295|z>>>12),z=P+(M^j&(F^M))+H[5]+3593408605&4294967295,P=F+(z<<5&4294967295|z>>>27),z=j+(F^M&(P^F))+H[10]+38016083&4294967295,j=P+(z<<9&4294967295|z>>>23),z=M+(P^F&(j^P))+H[15]+3634488961&4294967295,M=j+(z<<14&4294967295|z>>>18),z=F+(j^P&(M^j))+H[4]+3889429448&4294967295,F=M+(z<<20&4294967295|z>>>12),z=P+(M^j&(F^M))+H[9]+568446438&4294967295,P=F+(z<<5&4294967295|z>>>27),z=j+(F^M&(P^F))+H[14]+3275163606&4294967295,j=P+(z<<9&4294967295|z>>>23),z=M+(P^F&(j^P))+H[3]+4107603335&4294967295,M=j+(z<<14&4294967295|z>>>18),z=F+(j^P&(M^j))+H[8]+1163531501&4294967295,F=M+(z<<20&4294967295|z>>>12),z=P+(M^j&(F^M))+H[13]+2850285829&4294967295,P=F+(z<<5&4294967295|z>>>27),z=j+(F^M&(P^F))+H[2]+4243563512&4294967295,j=P+(z<<9&4294967295|z>>>23),z=M+(P^F&(j^P))+H[7]+1735328473&4294967295,M=j+(z<<14&4294967295|z>>>18),z=F+(j^P&(M^j))+H[12]+2368359562&4294967295,F=M+(z<<20&4294967295|z>>>12),z=P+(F^M^j)+H[5]+4294588738&4294967295,P=F+(z<<4&4294967295|z>>>28),z=j+(P^F^M)+H[8]+2272392833&4294967295,j=P+(z<<11&4294967295|z>>>21),z=M+(j^P^F)+H[11]+1839030562&4294967295,M=j+(z<<16&4294967295|z>>>16),z=F+(M^j^P)+H[14]+4259657740&4294967295,F=M+(z<<23&4294967295|z>>>9),z=P+(F^M^j)+H[1]+2763975236&4294967295,P=F+(z<<4&4294967295|z>>>28),z=j+(P^F^M)+H[4]+1272893353&4294967295,j=P+(z<<11&4294967295|z>>>21),z=M+(j^P^F)+H[7]+4139469664&4294967295,M=j+(z<<16&4294967295|z>>>16),z=F+(M^j^P)+H[10]+3200236656&4294967295,F=M+(z<<23&4294967295|z>>>9),z=P+(F^M^j)+H[13]+681279174&4294967295,P=F+(z<<4&4294967295|z>>>28),z=j+(P^F^M)+H[0]+3936430074&4294967295,j=P+(z<<11&4294967295|z>>>21),z=M+(j^P^F)+H[3]+3572445317&4294967295,M=j+(z<<16&4294967295|z>>>16),z=F+(M^j^P)+H[6]+76029189&4294967295,F=M+(z<<23&4294967295|z>>>9),z=P+(F^M^j)+H[9]+3654602809&4294967295,P=F+(z<<4&4294967295|z>>>28),z=j+(P^F^M)+H[12]+3873151461&4294967295,j=P+(z<<11&4294967295|z>>>21),z=M+(j^P^F)+H[15]+530742520&4294967295,M=j+(z<<16&4294967295|z>>>16),z=F+(M^j^P)+H[2]+3299628645&4294967295,F=M+(z<<23&4294967295|z>>>9),z=P+(M^(F|~j))+H[0]+4096336452&4294967295,P=F+(z<<6&4294967295|z>>>26),z=j+(F^(P|~M))+H[7]+1126891415&4294967295,j=P+(z<<10&4294967295|z>>>22),z=M+(P^(j|~F))+H[14]+2878612391&4294967295,M=j+(z<<15&4294967295|z>>>17),z=F+(j^(M|~P))+H[5]+4237533241&4294967295,F=M+(z<<21&4294967295|z>>>11),z=P+(M^(F|~j))+H[12]+1700485571&4294967295,P=F+(z<<6&4294967295|z>>>26),z=j+(F^(P|~M))+H[3]+2399980690&4294967295,j=P+(z<<10&4294967295|z>>>22),z=M+(P^(j|~F))+H[10]+4293915773&4294967295,M=j+(z<<15&4294967295|z>>>17),z=F+(j^(M|~P))+H[1]+2240044497&4294967295,F=M+(z<<21&4294967295|z>>>11),z=P+(M^(F|~j))+H[8]+1873313359&4294967295,P=F+(z<<6&4294967295|z>>>26),z=j+(F^(P|~M))+H[15]+4264355552&4294967295,j=P+(z<<10&4294967295|z>>>22),z=M+(P^(j|~F))+H[6]+2734768916&4294967295,M=j+(z<<15&4294967295|z>>>17),z=F+(j^(M|~P))+H[13]+1309151649&4294967295,F=M+(z<<21&4294967295|z>>>11),z=P+(M^(F|~j))+H[4]+4149444226&4294967295,P=F+(z<<6&4294967295|z>>>26),z=j+(F^(P|~M))+H[11]+3174756917&4294967295,j=P+(z<<10&4294967295|z>>>22),z=M+(P^(j|~F))+H[2]+718787259&4294967295,M=j+(z<<15&4294967295|z>>>17),z=F+(j^(M|~P))+H[9]+3951481745&4294967295,I.g[0]=I.g[0]+P&4294967295,I.g[1]=I.g[1]+(M+(z<<21&4294967295|z>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+j&4294967295}i.prototype.u=function(I,P){P===void 0&&(P=I.length);for(var F=P-this.blockSize,H=this.B,M=this.h,j=0;j<P;){if(M==0)for(;j<=F;)s(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<P;)if(H[M++]=I.charCodeAt(j++),M==this.blockSize){s(this,H),M=0;break}}else for(;j<P;)if(H[M++]=I[j++],M==this.blockSize){s(this,H),M=0;break}}this.h=M,this.o+=P},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var P=1;P<I.length-8;++P)I[P]=0;var F=8*this.o;for(P=I.length-8;P<I.length;++P)I[P]=F&255,F/=256;for(this.u(I),I=Array(16),P=F=0;4>P;++P)for(var H=0;32>H;H+=8)I[F++]=this.g[P]>>>H&255;return I};function r(I,P){var F=l;return Object.prototype.hasOwnProperty.call(F,I)?F[I]:F[I]=P(I)}function a(I,P){this.h=P;for(var F=[],H=!0,M=I.length-1;0<=M;M--){var j=I[M]|0;H&&j==P||(F[M]=j,H=!1)}this.g=F}var l={};function u(I){return-128<=I&&128>I?r(I,function(P){return new a([P|0],0>P?-1:0)}):new a([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return T(h(-I));for(var P=[],F=1,H=0;I>=F;H++)P[H]=I/F|0,F*=4294967296;return new a(P,0)}function f(I,P){if(I.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(I.charAt(0)=="-")return T(f(I.substring(1),P));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=h(Math.pow(P,8)),H=p,M=0;M<I.length;M+=8){var j=Math.min(8,I.length-M),z=parseInt(I.substring(M,M+j),P);8>j?(j=h(Math.pow(P,j)),H=H.j(j).add(h(z))):(H=H.j(F),H=H.add(h(z)))}return H}var p=u(0),g=u(1),y=u(16777216);t=a.prototype,t.m=function(){if(A(this))return-T(this).m();for(var I=0,P=1,F=0;F<this.g.length;F++){var H=this.i(F);I+=(0<=H?H:4294967296+H)*P,P*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x(this))return"0";if(A(this))return"-"+T(this).toString(I);for(var P=h(Math.pow(I,6)),F=this,H="";;){var M=B(F,P).g;F=E(F,M.j(P));var j=((0<F.g.length?F.g[0]:F.h)>>>0).toString(I);if(F=M,x(F))return j+H;for(;6>j.length;)j="0"+j;H=j+H}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function x(I){if(I.h!=0)return!1;for(var P=0;P<I.g.length;P++)if(I.g[P]!=0)return!1;return!0}function A(I){return I.h==-1}t.l=function(I){return I=E(this,I),A(I)?-1:x(I)?0:1};function T(I){for(var P=I.g.length,F=[],H=0;H<P;H++)F[H]=~I.g[H];return new a(F,~I.h).add(g)}t.abs=function(){return A(this)?T(this):this},t.add=function(I){for(var P=Math.max(this.g.length,I.g.length),F=[],H=0,M=0;M<=P;M++){var j=H+(this.i(M)&65535)+(I.i(M)&65535),z=(j>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);H=z>>>16,j&=65535,z&=65535,F[M]=z<<16|j}return new a(F,F[F.length-1]&-2147483648?-1:0)};function E(I,P){return I.add(T(P))}t.j=function(I){if(x(this)||x(I))return p;if(A(this))return A(I)?T(this).j(T(I)):T(T(this).j(I));if(A(I))return T(this.j(T(I)));if(0>this.l(y)&&0>I.l(y))return h(this.m()*I.m());for(var P=this.g.length+I.g.length,F=[],H=0;H<2*P;H++)F[H]=0;for(H=0;H<this.g.length;H++)for(var M=0;M<I.g.length;M++){var j=this.i(H)>>>16,z=this.i(H)&65535,te=I.i(M)>>>16,pe=I.i(M)&65535;F[2*H+2*M]+=z*pe,k(F,2*H+2*M),F[2*H+2*M+1]+=j*pe,k(F,2*H+2*M+1),F[2*H+2*M+1]+=z*te,k(F,2*H+2*M+1),F[2*H+2*M+2]+=j*te,k(F,2*H+2*M+2)}for(H=0;H<P;H++)F[H]=F[2*H+1]<<16|F[2*H];for(H=P;H<2*P;H++)F[H]=0;return new a(F,0)};function k(I,P){for(;(I[P]&65535)!=I[P];)I[P+1]+=I[P]>>>16,I[P]&=65535,P++}function O(I,P){this.g=I,this.h=P}function B(I,P){if(x(P))throw Error("division by zero");if(x(I))return new O(p,p);if(A(I))return P=B(T(I),P),new O(T(P.g),T(P.h));if(A(P))return P=B(I,T(P)),new O(T(P.g),P.h);if(30<I.g.length){if(A(I)||A(P))throw Error("slowDivide_ only works with positive integers.");for(var F=g,H=P;0>=H.l(I);)F=V(F),H=V(H);var M=Y(F,1),j=Y(H,1);for(H=Y(H,2),F=Y(F,2);!x(H);){var z=j.add(H);0>=z.l(I)&&(M=M.add(F),j=z),H=Y(H,1),F=Y(F,1)}return P=E(I,M.j(P)),new O(M,P)}for(M=p;0<=I.l(P);){for(F=Math.max(1,Math.floor(I.m()/P.m())),H=Math.ceil(Math.log(F)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),j=h(F),z=j.j(P);A(z)||0<z.l(I);)F-=H,j=h(F),z=j.j(P);x(j)&&(j=g),M=M.add(j),I=E(I,z)}return new O(M,I)}t.A=function(I){return B(this,I).h},t.and=function(I){for(var P=Math.max(this.g.length,I.g.length),F=[],H=0;H<P;H++)F[H]=this.i(H)&I.i(H);return new a(F,this.h&I.h)},t.or=function(I){for(var P=Math.max(this.g.length,I.g.length),F=[],H=0;H<P;H++)F[H]=this.i(H)|I.i(H);return new a(F,this.h|I.h)},t.xor=function(I){for(var P=Math.max(this.g.length,I.g.length),F=[],H=0;H<P;H++)F[H]=this.i(H)^I.i(H);return new a(F,this.h^I.h)};function V(I){for(var P=I.g.length+1,F=[],H=0;H<P;H++)F[H]=I.i(H)<<1|I.i(H-1)>>>31;return new a(F,I.h)}function Y(I,P){var F=P>>5;P%=32;for(var H=I.g.length-F,M=[],j=0;j<H;j++)M[j]=0<P?I.i(j+F)>>>P|I.i(j+F+1)<<32-P:I.i(j+F);return new a(M,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,WP=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,id=a}).apply(typeof I4<"u"?I4:typeof self<"u"?self:typeof window<"u"?window:{});var uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $P,Lg,YP,$v,Xx,GP,KP,XP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,D,q){return w==Array.prototype||w==Object.prototype||(w[D]=q.value),w};function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof uv=="object"&&uv];for(var D=0;D<w.length;++D){var q=w[D];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var i=n(this);function s(w,D){if(D)e:{var q=i;w=w.split(".");for(var ie=0;ie<w.length-1;ie++){var Te=w[ie];if(!(Te in q))break e;q=q[Te]}w=w[w.length-1],ie=q[w],D=D(ie),D!=ie&&D!=null&&e(q,w,{configurable:!0,writable:!0,value:D})}}function r(w,D){w instanceof String&&(w+="");var q=0,ie=!1,Te={next:function(){if(!ie&&q<w.length){var Ie=q++;return{value:D(Ie,w[Ie]),done:!1}}return ie=!0,{done:!0,value:void 0}}};return Te[Symbol.iterator]=function(){return Te},Te}s("Array.prototype.values",function(w){return w||function(){return r(this,function(D,q){return q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(w){var D=typeof w;return D=D!="object"?D:w?Array.isArray(w)?"array":D:"null",D=="array"||D=="object"&&typeof w.length=="number"}function h(w){var D=typeof w;return D=="object"&&w!=null||D=="function"}function f(w,D,q){return w.call.apply(w.bind,arguments)}function p(w,D,q){if(!w)throw Error();if(2<arguments.length){var ie=Array.prototype.slice.call(arguments,2);return function(){var Te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Te,ie),w.apply(D,Te)}}return function(){return w.apply(D,arguments)}}function g(w,D,q){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function y(w,D){var q=Array.prototype.slice.call(arguments,1);return function(){var ie=q.slice();return ie.push.apply(ie,arguments),w.apply(this,ie)}}function x(w,D){function q(){}q.prototype=D.prototype,w.aa=D.prototype,w.prototype=new q,w.prototype.constructor=w,w.Qb=function(ie,Te,Ie){for(var et=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)et[Dt-2]=arguments[Dt];return D.prototype[Te].apply(ie,et)}}function A(w){const D=w.length;if(0<D){const q=Array(D);for(let ie=0;ie<D;ie++)q[ie]=w[ie];return q}return[]}function T(w,D){for(let q=1;q<arguments.length;q++){const ie=arguments[q];if(u(ie)){const Te=w.length||0,Ie=ie.length||0;w.length=Te+Ie;for(let et=0;et<Ie;et++)w[Te+et]=ie[et]}else w.push(ie)}}class E{constructor(D,q){this.i=D,this.j=q,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function k(w){return/^[\s\xa0]*$/.test(w)}function O(){var w=l.navigator;return w&&(w=w.userAgent)?w:""}function B(w){return B[" "](w),w}B[" "]=function(){};var V=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function Y(w,D,q){for(const ie in w)D.call(q,w[ie],ie,w)}function I(w,D){for(const q in w)D.call(void 0,w[q],q,w)}function P(w){const D={};for(const q in w)D[q]=w[q];return D}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(w,D){let q,ie;for(let Te=1;Te<arguments.length;Te++){ie=arguments[Te];for(q in ie)w[q]=ie[q];for(let Ie=0;Ie<F.length;Ie++)q=F[Ie],Object.prototype.hasOwnProperty.call(ie,q)&&(w[q]=ie[q])}}function M(w){var D=1;w=w.split(":");const q=[];for(;0<D&&w.length;)q.push(w.shift()),D--;return w.length&&q.push(w.join(":")),q}function j(w){l.setTimeout(()=>{throw w},0)}function z(){var w=ye;let D=null;return w.g&&(D=w.g,w.g=w.g.next,w.g||(w.h=null),D.next=null),D}class te{constructor(){this.h=this.g=null}add(D,q){const ie=pe.get();ie.set(D,q),this.h?this.h.next=ie:this.g=ie,this.h=ie}}var pe=new E(()=>new ae,w=>w.reset());class ae{constructor(){this.next=this.g=this.h=null}set(D,q){this.h=D,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ce=!1,ye=new te,Z=()=>{const w=l.Promise.resolve(void 0);ue=()=>{w.then(be)}};var be=()=>{for(var w;w=z();){try{w.h.call(w.g)}catch(q){j(q)}var D=pe;D.j(w),100>D.h&&(D.h++,w.next=D.g,D.g=w)}ce=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(w,D){this.type=w,this.g=this.target=D,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var w=!1,D=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const q=()=>{};l.addEventListener("test",q,D),l.removeEventListener("test",q,D)}catch{}return w}();function ee(w,D){if(X.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var q=this.type=w.type,ie=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=D,D=w.relatedTarget){if(V){e:{try{B(D.nodeName);var Te=!0;break e}catch{}Te=!1}Te||(D=null)}}else q=="mouseover"?D=w.fromElement:q=="mouseout"&&(D=w.toElement);this.relatedTarget=D,ie?(this.clientX=ie.clientX!==void 0?ie.clientX:ie.pageX,this.clientY=ie.clientY!==void 0?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:he[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&ee.aa.h.call(this)}}x(ee,X);var he={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),ge=0;function Ee(w,D,q,ie,Te){this.listener=w,this.proxy=null,this.src=D,this.type=q,this.capture=!!ie,this.ha=Te,this.key=++ge,this.da=this.fa=!1}function Oe(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function Ve(w){this.src=w,this.g={},this.h=0}Ve.prototype.add=function(w,D,q,ie,Te){var Ie=w.toString();w=this.g[Ie],w||(w=this.g[Ie]=[],this.h++);var et=$e(w,D,ie,Te);return-1<et?(D=w[et],q||(D.fa=!1)):(D=new Ee(D,this.src,Ie,!!ie,Te),D.fa=q,w.push(D)),D};function tt(w,D){var q=D.type;if(q in w.g){var ie=w.g[q],Te=Array.prototype.indexOf.call(ie,D,void 0),Ie;(Ie=0<=Te)&&Array.prototype.splice.call(ie,Te,1),Ie&&(Oe(D),w.g[q].length==0&&(delete w.g[q],w.h--))}}function $e(w,D,q,ie){for(var Te=0;Te<w.length;++Te){var Ie=w[Te];if(!Ie.da&&Ie.listener==D&&Ie.capture==!!q&&Ie.ha==ie)return Te}return-1}var it="closure_lm_"+(1e6*Math.random()|0),ke={};function fe(w,D,q,ie,Te){if(Array.isArray(D)){for(var Ie=0;Ie<D.length;Ie++)fe(w,D[Ie],q,ie,Te);return null}return q=Vt(q),w&&w[we]?w.K(D,q,h(ie)?!!ie.capture:!1,Te):St(w,D,q,!1,ie,Te)}function St(w,D,q,ie,Te,Ie){if(!D)throw Error("Invalid event type");var et=h(Te)?!!Te.capture:!!Te,Dt=xt(w);if(Dt||(w[it]=Dt=new Ve(w)),q=Dt.add(D,q,ie,et,Ie),q.proxy)return q;if(ie=wt(),q.proxy=ie,ie.src=w,ie.listener=q,w.addEventListener)re||(Te=et),Te===void 0&&(Te=!1),w.addEventListener(D.toString(),ie,Te);else if(w.attachEvent)w.attachEvent(at(D.toString()),ie);else if(w.addListener&&w.removeListener)w.addListener(ie);else throw Error("addEventListener and attachEvent are unavailable.");return q}function wt(){function w(q){return D.call(w.src,w.listener,q)}const D=lt;return w}function nt(w,D,q,ie,Te){if(Array.isArray(D))for(var Ie=0;Ie<D.length;Ie++)nt(w,D[Ie],q,ie,Te);else ie=h(ie)?!!ie.capture:!!ie,q=Vt(q),w&&w[we]?(w=w.i,D=String(D).toString(),D in w.g&&(Ie=w.g[D],q=$e(Ie,q,ie,Te),-1<q&&(Oe(Ie[q]),Array.prototype.splice.call(Ie,q,1),Ie.length==0&&(delete w.g[D],w.h--)))):w&&(w=xt(w))&&(D=w.g[D.toString()],w=-1,D&&(w=$e(D,q,ie,Te)),(q=-1<w?D[w]:null)&&rt(q))}function rt(w){if(typeof w!="number"&&w&&!w.da){var D=w.src;if(D&&D[we])tt(D.i,w);else{var q=w.type,ie=w.proxy;D.removeEventListener?D.removeEventListener(q,ie,w.capture):D.detachEvent?D.detachEvent(at(q),ie):D.addListener&&D.removeListener&&D.removeListener(ie),(q=xt(D))?(tt(q,w),q.h==0&&(q.src=null,D[it]=null)):Oe(w)}}}function at(w){return w in ke?ke[w]:ke[w]="on"+w}function lt(w,D){if(w.da)w=!0;else{D=new ee(D,this);var q=w.listener,ie=w.ha||w.src;w.fa&&rt(w),w=q.call(ie,D)}return w}function xt(w){return w=w[it],w instanceof Ve?w:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vt(w){return typeof w=="function"?w:(w[Mt]||(w[Mt]=function(D){return w.handleEvent(D)}),w[Mt])}function At(){W.call(this),this.i=new Ve(this),this.M=this,this.F=null}x(At,W),At.prototype[we]=!0,At.prototype.removeEventListener=function(w,D,q,ie){nt(this,w,D,q,ie)};function bt(w,D){var q,ie=w.F;if(ie)for(q=[];ie;ie=ie.F)q.push(ie);if(w=w.M,ie=D.type||D,typeof D=="string")D=new X(D,w);else if(D instanceof X)D.target=D.target||w;else{var Te=D;D=new X(ie,w),H(D,Te)}if(Te=!0,q)for(var Ie=q.length-1;0<=Ie;Ie--){var et=D.g=q[Ie];Te=Kt(et,ie,!0,D)&&Te}if(et=D.g=w,Te=Kt(et,ie,!0,D)&&Te,Te=Kt(et,ie,!1,D)&&Te,q)for(Ie=0;Ie<q.length;Ie++)et=D.g=q[Ie],Te=Kt(et,ie,!1,D)&&Te}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var w=this.i,D;for(D in w.g){for(var q=w.g[D],ie=0;ie<q.length;ie++)Oe(q[ie]);delete w.g[D],w.h--}}this.F=null},At.prototype.K=function(w,D,q,ie){return this.i.add(String(w),D,!1,q,ie)},At.prototype.L=function(w,D,q,ie){return this.i.add(String(w),D,!0,q,ie)};function Kt(w,D,q,ie){if(D=w.i.g[String(D)],!D)return!0;D=D.concat();for(var Te=!0,Ie=0;Ie<D.length;++Ie){var et=D[Ie];if(et&&!et.da&&et.capture==q){var Dt=et.listener,mn=et.ha||et.src;et.fa&&tt(w.i,et),Te=Dt.call(mn,ie)!==!1&&Te}}return Te&&!ie.defaultPrevented}function yt(w,D,q){if(typeof w=="function")q&&(w=g(w,q));else if(w&&typeof w.handleEvent=="function")w=g(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(D)?-1:l.setTimeout(w,D||0)}function Xt(w){w.g=yt(()=>{w.g=null,w.i&&(w.i=!1,Xt(w))},w.l);const D=w.h;w.h=null,w.m.apply(null,D)}class ht extends W{constructor(D,q){super(),this.m=D,this.l=q,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:Xt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(w){W.call(this),this.h=w,this.g={}}x(pi,W);var Qt=[];function Xi(w){Y(w.g,function(D,q){this.g.hasOwnProperty(q)&&rt(D)},w),w.g={}}pi.prototype.N=function(){pi.aa.N.call(this),Xi(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jt=l.JSON.stringify,kn=l.JSON.parse,Vi=class{stringify(w){return l.JSON.stringify(w,void 0)}parse(w){return l.JSON.parse(w,void 0)}};function un(){}un.prototype.h=null;function Ys(w){return w.h||(w.h=w.i())}function Kn(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qi(){X.call(this,"d")}x(Qi,X);function On(){X.call(this,"c")}x(On,X);var Ct={},nn=null;function Fs(){return nn=nn||new At}Ct.La="serverreachability";function ti(w){X.call(this,Ct.La,w)}x(ti,X);function Zi(w){const D=Fs();bt(D,new ti(D))}Ct.STAT_EVENT="statevent";function lr(w,D){X.call(this,Ct.STAT_EVENT,w),this.stat=D}x(lr,X);function dt(w){const D=Fs();bt(D,new lr(D,w))}Ct.Ma="timingevent";function pt(w,D){X.call(this,Ct.Ma,w),this.size=D}x(pt,X);function Xn(w,D){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){w()},D)}function mi(){this.g=!0}mi.prototype.xa=function(){this.g=!1};function Si(w,D,q,ie,Te,Ie){w.info(function(){if(w.g)if(Ie)for(var et="",Dt=Ie.split("&"),mn=0;mn<Dt.length;mn++){var Yt=Dt[mn].split("=");if(1<Yt.length){var Un=Yt[0];Yt=Yt[1];var Qn=Un.split("_");et=2<=Qn.length&&Qn[1]=="type"?et+(Un+"="+Yt+"&"):et+(Un+"=redacted&")}}else et=null;else et=Ie;return"XMLHTTP REQ ("+ie+") [attempt "+Te+"]: "+D+`
`+q+`
`+et})}function ki(w,D,q,ie,Te,Ie,et){w.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+Te+"]: "+D+`
`+q+`
`+Ie+" "+et})}function Ji(w,D,q,ie){w.info(function(){return"XMLHTTP TEXT ("+D+"): "+ur(w,q)+(ie?" "+ie:"")})}function Bo(w,D){w.info(function(){return"TIMEOUT: "+D})}mi.prototype.info=function(){};function ur(w,D){if(!w.g)return D;if(!D)return null;try{var q=JSON.parse(D);if(q){for(w=0;w<q.length;w++)if(Array.isArray(q[w])){var ie=q[w];if(!(2>ie.length)){var Te=ie[1];if(Array.isArray(Te)&&!(1>Te.length)){var Ie=Te[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(var et=1;et<Te.length;et++)Te[et]=""}}}}return Jt(q)}catch{return D}}var Ns={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},es;function ds(){}x(ds,un),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},es=new ds;function li(w,D,q,ie){this.j=w,this.i=D,this.l=q,this.R=ie||1,this.U=new pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var ka={},Pa={};function Gs(w,D,q){w.L=1,w.v=oo(Us(D)),w.m=q,w.P=!0,xr(w,null)}function xr(w,D){w.F=Date.now(),qo(w),w.A=Us(w.v);var q=w.A,ie=w.R;Array.isArray(ie)||(ie=[String(ie)]),It(q.i,"t",ie),w.C=0,q=w.j.J,w.h=new Fn,w.g=K(w.j,q?D:null,!w.m),0<w.O&&(w.M=new ht(g(w.Y,w,w.g),w.O)),D=w.U,q=w.g,ie=w.ca;var Te="readystatechange";Array.isArray(Te)||(Te&&(Qt[0]=Te.toString()),Te=Qt);for(var Ie=0;Ie<Te.length;Ie++){var et=fe(q,Te[Ie],ie||D.handleEvent,!1,D.h||D);if(!et)break;D.g[et.key]=et}D=w.H?P(w.H):{},w.m?(w.u||(w.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,D)):(w.u="GET",w.g.ea(w.A,w.u,null,D)),Zi(),Si(w.i,w.u,w.A,w.l,w.R,w.m)}li.prototype.ca=function(w){w=w.target;const D=this.M;D&&ns(w)==3?D.j():this.Y(w)},li.prototype.Y=function(w){try{if(w==this.g)e:{const Qn=ns(this.g);var D=this.g.Ba();const ca=this.g.Z();if(!(3>Qn)&&(Qn!=3||this.g&&(this.h.h||this.g.oa()||sh(this.g)))){this.J||Qn!=4||D==7||(D==8||0>=ca?Zi(3):Zi(2)),$r(this);var q=this.g.Z();this.X=q;t:if(zo(this)){var ie=sh(this.g);w="";var Te=ie.length,Ie=ns(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),Yr(this);var et="";break t}this.h.i=new l.TextDecoder}for(D=0;D<Te;D++)this.h.h=!0,w+=this.h.i.decode(ie[D],{stream:!(Ie&&D==Te-1)});ie.length=0,this.h.g+=w,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=q==200,ki(this.i,this.u,this.A,this.l,this.R,Qn,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Dt,mn=this.g;if((Dt=mn.g?mn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Dt)){var Yt=Dt;break t}}Yt=null}if(q=Yt)Ji(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ra(this,q);else{this.o=!1,this.s=3,dt(12),fs(this),Yr(this);break e}}if(this.P){q=!0;let Ui;for(;!this.J&&this.C<et.length;)if(Ui=Fu(this,et),Ui==Pa){Qn==4&&(this.s=4,dt(14),q=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Ui==ka){this.s=4,dt(15),Ji(this.i,this.l,et,"[Invalid Chunk]"),q=!1;break}else Ji(this.i,this.l,Ui,null),Ra(this,Ui);if(zo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qn!=4||et.length!=0||this.h.h||(this.s=1,dt(16),q=!1),this.o=this.o&&q,!q)Ji(this.i,this.l,et,"[Invalid Chunked Response]"),fs(this),Yr(this);else if(0<et.length&&!this.W){this.W=!0;var Un=this.j;Un.g==this&&Un.ba&&!Un.M&&(Un.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),po(Un),Un.M=!0,dt(11))}}else Ji(this.i,this.l,et,null),Ra(this,et);Qn==4&&fs(this),this.o&&!this.J&&(Qn==4?mo(this.j,this):(this.o=!1,qo(this)))}else co(this.g),q==400&&0<et.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),fs(this),Yr(this)}}}catch{}finally{}};function zo(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function Fu(w,D){var q=w.C,ie=D.indexOf(`
`,q);return ie==-1?Pa:(q=Number(D.substring(q,ie)),isNaN(q)?ka:(ie+=1,ie+q>D.length?Pa:(D=D.slice(ie,ie+q),w.C=ie+q,D)))}li.prototype.cancel=function(){this.J=!0,fs(this)};function qo(w){w.S=Date.now()+w.I,Jc(w,w.I)}function Jc(w,D){if(w.B!=null)throw Error("WatchDog timer not null");w.B=Xn(g(w.ba,w),D)}function $r(w){w.B&&(l.clearTimeout(w.B),w.B=null)}li.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(Bo(this.i,this.A),this.L!=2&&(Zi(),dt(17)),fs(this),this.s=2,Yr(this)):Jc(this,this.S-w)};function Yr(w){w.j.G==0||w.J||mo(w.j,w)}function fs(w){$r(w);var D=w.M;D&&typeof D.ma=="function"&&D.ma(),w.M=null,Xi(w.U),w.g&&(D=w.g,w.g=null,D.abort(),D.ma())}function Ra(w,D){try{var q=w.j;if(q.G!=0&&(q.g==w||Vu(q.h,w))){if(!w.K&&Vu(q.h,w)&&q.G==3){try{var ie=q.Da.g.parse(D)}catch{ie=null}if(Array.isArray(ie)&&ie.length==3){var Te=ie;if(Te[0]==0){e:if(!q.u){if(q.g)if(q.g.F+3e3<w.F)Ua(q),jl(q);else break e;Ko(q),dt(18)}}else q.za=Te[1],0<q.za-q.T&&37500>Te[2]&&q.F&&q.v==0&&!q.C&&(q.C=Xn(g(q.Za,q),6e3));if(1>=Ma(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Zs(q,11)}else if((w.K||q.g==w)&&Ua(q),!k(D))for(Te=q.Da.g.parse(D),D=0;D<Te.length;D++){let Yt=Te[D];if(q.T=Yt[0],Yt=Yt[1],q.G==2)if(Yt[0]=="c"){q.K=Yt[1],q.ia=Yt[2];const Un=Yt[3];Un!=null&&(q.la=Un,q.j.info("VER="+q.la));const Qn=Yt[4];Qn!=null&&(q.Aa=Qn,q.j.info("SVER="+q.Aa));const ca=Yt[5];ca!=null&&typeof ca=="number"&&0<ca&&(ie=1.5*ca,q.L=ie,q.j.info("backChannelRequestTimeoutMs_="+ie)),ie=q;const Ui=w.g;if(Ui){const Er=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var Ie=ie.h;Ie.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(ui(Ie,Ie.h),Ie.h=null))}if(ie.D){const go=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(ie.ya=go,Vn(ie.I,ie.D,go))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-w.F,q.j.info("Handshake RTT: "+q.R+"ms")),ie=q;var et=w;if(ie.qa=L(ie,ie.J?ie.ia:null,ie.W),et.K){Ls(ie.h,et);var Dt=et,mn=ie.L;mn&&(Dt.I=mn),Dt.B&&($r(Dt),qo(Dt)),ie.g=et}else Vl(ie);0<q.i.length&&Fl(q)}else Yt[0]!="stop"&&Yt[0]!="close"||Zs(q,7);else q.G==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Zs(q,7):Va(q):Yt[0]!="noop"&&q.l&&q.l.ta(Yt),q.v=0)}}Zi(4)}catch{}}var eh=class{constructor(w,D){this.g=w,this.map=D}};function na(w){this.l=w||10,l.PerformanceNavigationTiming?(w=l.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ml(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function Ma(w){return w.h?1:w.g?w.g.size:0}function Vu(w,D){return w.h?w.h==D:w.g?w.g.has(D):!1}function ui(w,D){w.g?w.g.add(D):w.h=D}function Ls(w,D){w.h&&w.h==D?w.h=null:w.g&&w.g.has(D)&&w.g.delete(D)}na.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Il(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let D=w.i;for(const q of w.g.values())D=D.concat(q.D);return D}return A(w.i)}function th(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(u(w)){for(var D=[],q=w.length,ie=0;ie<q;ie++)D.push(w[ie]);return D}D=[],q=0;for(ie in w)D[q++]=w[ie];return D}function so(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(u(w)||typeof w=="string"){var D=[];w=w.length;for(var q=0;q<w;q++)D.push(q);return D}D=[],q=0;for(const ie in w)D[q++]=ie;return D}}}function Uu(w,D){if(w.forEach&&typeof w.forEach=="function")w.forEach(D,void 0);else if(u(w)||typeof w=="string")Array.prototype.forEach.call(w,D,void 0);else for(var q=so(w),ie=th(w),Te=ie.length,Ie=0;Ie<Te;Ie++)D.call(void 0,ie[Ie],q&&q[Ie],w)}var Vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dl(w,D){if(w){w=w.split("&");for(var q=0;q<w.length;q++){var ie=w[q].indexOf("="),Te=null;if(0<=ie){var Ie=w[q].substring(0,ie);Te=w[q].substring(ie+1)}else Ie=w[q];D(Ie,Te?decodeURIComponent(Te.replace(/\+/g," ")):"")}}}function En(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof En){this.h=w.h,ro(this,w.j),this.o=w.o,this.g=w.g,ao(this,w.s),this.l=w.l;var D=w.i,q=new sa;q.i=D.i,D.g&&(q.g=new Map(D.g),q.h=D.h),ia(this,q),this.m=w.m}else w&&(D=String(w).match(Vs))?(this.h=!1,ro(this,D[1]||"",!0),this.o=_r(D[2]||""),this.g=_r(D[3]||"",!0),ao(this,D[4]),this.l=_r(D[5]||"",!0),ia(this,D[6]||"",!0),this.m=_r(D[7]||"")):(this.h=!1,this.i=new sa(null,this.h))}En.prototype.toString=function(){var w=[],D=this.j;D&&w.push(Ia(D,Bu,!0),":");var q=this.g;return(q||D=="file")&&(w.push("//"),(D=this.o)&&w.push(Ia(D,Bu,!0),"@"),w.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.s,q!=null&&w.push(":",String(q))),(q=this.l)&&(this.g&&q.charAt(0)!="/"&&w.push("/"),w.push(Ia(q,q.charAt(0)=="/"?Da:zu,!0))),(q=this.i.toString())&&w.push("?",q),(q=this.m)&&w.push("#",Ia(q,Oa)),w.join("")};function Us(w){return new En(w)}function ro(w,D,q){w.j=q?_r(D,!0):D,w.j&&(w.j=w.j.replace(/:$/,""))}function ao(w,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);w.s=D}else w.s=null}function ia(w,D,q){D instanceof sa?(w.i=D,ih(w.i,w.h)):(q||(D=Ia(D,Ol)),w.i=new sa(D,w.h))}function Vn(w,D,q){w.i.set(D,q)}function oo(w){return Vn(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function _r(w,D){return w?D?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Ia(w,D,q){return typeof w=="string"?(w=encodeURI(w).replace(D,nh),q&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function nh(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Bu=/[#\/\?@]/g,zu=/[#\?:]/g,Da=/[#\?]/g,Ol=/[#\?@]/g,Oa=/#/g;function sa(w,D){this.h=this.g=null,this.i=w||null,this.j=!!D}function ni(w){w.g||(w.g=new Map,w.h=0,w.i&&Dl(w.i,function(D,q){w.add(decodeURIComponent(D.replace(/\+/g," ")),q)}))}t=sa.prototype,t.add=function(w,D){ni(this),this.i=null,w=aa(this,w);var q=this.g.get(w);return q||this.g.set(w,q=[]),q.push(D),this.h+=1,this};function ja(w,D){ni(w),D=aa(w,D),w.g.has(D)&&(w.i=null,w.h-=w.g.get(D).length,w.g.delete(D))}function ra(w,D){return ni(w),D=aa(w,D),w.g.has(D)}t.forEach=function(w,D){ni(this),this.g.forEach(function(q,ie){q.forEach(function(Te){w.call(D,Te,ie,this)},this)},this)},t.na=function(){ni(this);const w=Array.from(this.g.values()),D=Array.from(this.g.keys()),q=[];for(let ie=0;ie<D.length;ie++){const Te=w[ie];for(let Ie=0;Ie<Te.length;Ie++)q.push(D[ie])}return q},t.V=function(w){ni(this);let D=[];if(typeof w=="string")ra(this,w)&&(D=D.concat(this.g.get(aa(this,w))));else{w=Array.from(this.g.values());for(let q=0;q<w.length;q++)D=D.concat(w[q])}return D},t.set=function(w,D){return ni(this),this.i=null,w=aa(this,w),ra(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[D]),this.h+=1,this},t.get=function(w,D){return w?(w=this.V(w),0<w.length?String(w[0]):D):D};function It(w,D,q){ja(w,D),0<q.length&&(w.i=null,w.g.set(aa(w,D),A(q)),w.h+=q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],D=Array.from(this.g.keys());for(var q=0;q<D.length;q++){var ie=D[q];const Ie=encodeURIComponent(String(ie)),et=this.V(ie);for(ie=0;ie<et.length;ie++){var Te=Ie;et[ie]!==""&&(Te+="="+encodeURIComponent(String(et[ie]))),w.push(Te)}}return this.i=w.join("&")};function aa(w,D){return D=String(D),w.j&&(D=D.toLowerCase()),D}function ih(w,D){D&&!w.j&&(ni(w),w.i=null,w.g.forEach(function(q,ie){var Te=ie.toLowerCase();ie!=Te&&(ja(this,ie),It(this,Te,q))},w)),w.j=D}function Ks(w,D){const q=new mi;if(l.Image){const ie=new Image;ie.onload=y(cr,q,"TestLoadImage: loaded",!0,D,ie),ie.onerror=y(cr,q,"TestLoadImage: error",!1,D,ie),ie.onabort=y(cr,q,"TestLoadImage: abort",!1,D,ie),ie.ontimeout=y(cr,q,"TestLoadImage: timeout",!1,D,ie),l.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=w}else D(!1)}function Sr(w,D){const q=new mi,ie=new AbortController,Te=setTimeout(()=>{ie.abort(),cr(q,"TestPingServer: timeout",!1,D)},1e4);fetch(w,{signal:ie.signal}).then(Ie=>{clearTimeout(Te),Ie.ok?cr(q,"TestPingServer: ok",!0,D):cr(q,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(Te),cr(q,"TestPingServer: error",!1,D)})}function cr(w,D,q,ie,Te){try{Te&&(Te.onload=null,Te.onerror=null,Te.onabort=null,Te.ontimeout=null),ie(q)}catch{}}function oa(){this.g=new Vi}function Ar(w,D,q){const ie=q||"";try{Uu(w,function(Te,Ie){let et=Te;h(Te)&&(et=Jt(Te)),D.push(ie+Ie+"="+encodeURIComponent(et))})}catch(Te){throw D.push(ie+"type="+encodeURIComponent("_badmap")),Te}}function lo(w){this.l=w.Ub||null,this.j=w.eb||!1}x(lo,un),lo.prototype.g=function(){return new Fa(this.l,this.j)},lo.prototype.i=function(w){return function(){return w}}({});function Fa(w,D){At.call(this),this.D=w,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Fa,At),t=Fa.prototype,t.open=function(w,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=D,this.readyState=1,Xs(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(D.body=w),(this.D||l).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Xs(this)),this.g&&(this.readyState=3,Xs(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qu(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function qu(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var D=w.value?w.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!w.done}))&&(this.response=this.responseText+=D)}w.done?Tr(this):Xs(this),this.readyState==3&&qu(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,Tr(this))},t.Qa=function(w){this.g&&(this.response=w,Tr(this))},t.ga=function(){this.g&&Tr(this)};function Tr(w){w.readyState=4,w.l=null,w.j=null,w.v=null,Xs(w)}t.setRequestHeader=function(w,D){this.u.append(w,D)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],D=this.h.entries();for(var q=D.next();!q.done;)q=q.value,w.push(q[0]+": "+q[1]),q=D.next();return w.join(`\r
`)};function Xs(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function la(w){let D="";return Y(w,function(q,ie){D+=ie,D+=":",D+=q,D+=`\r
`}),D}function ts(w,D,q){e:{for(ie in q){var ie=!1;break e}ie=!0}ie||(q=la(q),typeof w=="string"?q!=null&&encodeURIComponent(String(q)):Vn(w,D,q))}function pn(w){At.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(pn,At);var uo=/^https?$/i,ua=["POST","PUT"];t=pn.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,D,q,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);D=D?D.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():es.g(),this.v=this.o?Ys(this.o):Ys(es),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(D,String(w),!0),this.B=!1}catch(Ie){Hu(this,Ie);return}if(w=q||"",q=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var Te in ie)q.set(Te,ie[Te]);else if(typeof ie.keys=="function"&&typeof ie.get=="function")for(const Ie of ie.keys())q.set(Ie,ie.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(ie));ie=Array.from(q.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),Te=l.FormData&&w instanceof l.FormData,!(0<=Array.prototype.indexOf.call(ua,D,void 0))||ie||Te||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,et]of q)this.g.setRequestHeader(Ie,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(w),this.u=!1}catch(Ie){Hu(this,Ie)}};function Hu(w,D){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=D,w.m=5,Ho(w),Gr(w)}function Ho(w){w.A||(w.A=!0,bt(w,"complete"),bt(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,bt(this,"complete"),bt(this,"abort"),Gr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gr(this,!0)),pn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wo(this):this.bb())},t.bb=function(){Wo(this)};function Wo(w){if(w.h&&typeof a<"u"&&(!w.v[1]||ns(w)!=4||w.Z()!=2)){if(w.u&&ns(w)==4)yt(w.Ea,0,w);else if(bt(w,"readystatechange"),ns(w)==4){w.h=!1;try{const et=w.Z();e:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var q;if(!(q=D)){var ie;if(ie=et===0){var Te=String(w.D).match(Vs)[1]||null;!Te&&l.self&&l.self.location&&(Te=l.self.location.protocol.slice(0,-1)),ie=!uo.test(Te?Te.toLowerCase():"")}q=ie}if(q)bt(w,"complete"),bt(w,"success");else{w.m=6;try{var Ie=2<ns(w)?w.g.statusText:""}catch{Ie=""}w.l=Ie+" ["+w.Z()+"]",Ho(w)}}finally{Gr(w)}}}}function Gr(w,D){if(w.g){Qs(w);const q=w.g,ie=w.v[0]?()=>{}:null;w.g=null,w.v=null,D||bt(w,"ready");try{q.onreadystatechange=ie}catch{}}}function Qs(w){w.I&&(l.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function ns(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<ns(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var D=this.g.responseText;return w&&D.indexOf(w)==0&&(D=D.substring(w.length)),kn(D)}};function sh(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function co(w){const D={};w=(w.g&&2<=ns(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let ie=0;ie<w.length;ie++){if(k(w[ie]))continue;var q=M(w[ie]);const Te=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const Ie=D[Te]||[];D[Te]=Ie,Ie.push(q)}I(D,function(ie){return ie.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(w,D,q){return q&&q.internalChannelParams&&q.internalChannelParams[w]||D}function ho(w){this.Aa=0,this.i=[],this.j=new mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,w),this.cb=Bs("retryDelaySeedMs",1e4,w),this.Wa=Bs("forwardChannelMaxRetries",2,w),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new na(w&&w.concurrentRequestLimit),this.Da=new oa,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ho.prototype,t.la=8,t.G=1,t.connect=function(w,D,q,ie){dt(0),this.W=w,this.H=D||{},q&&ie!==void 0&&(this.H.OSID=q,this.H.OAID=ie),this.F=this.X,this.I=L(this,null,this.W),Fl(this)};function Va(w){if($o(w),w.G==3){var D=w.U++,q=Us(w.I);if(Vn(q,"SID",w.K),Vn(q,"RID",D),Vn(q,"TYPE","terminate"),fo(w,q),D=new li(w,w.j,D),D.L=2,D.v=oo(Us(q)),q=!1,l.navigator&&l.navigator.sendBeacon)try{q=l.navigator.sendBeacon(D.v.toString(),"")}catch{}!q&&l.Image&&(new Image().src=D.v,q=!0),q||(D.g=K(D.j,null),D.g.ea(D.v)),D.F=Date.now(),qo(D)}Ul(w)}function jl(w){w.g&&(po(w),w.g.cancel(),w.g=null)}function $o(w){jl(w),w.u&&(l.clearTimeout(w.u),w.u=null),Ua(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&l.clearTimeout(w.s),w.s=null)}function Fl(w){if(!Ml(w.h)&&!w.s){w.s=!0;var D=w.Ga;ue||Z(),ce||(ue(),ce=!0),ye.add(D,w),w.B=0}}function Wu(w,D){return Ma(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=D.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=Xn(g(w.Ga,w,D),Xo(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const Te=new li(this,this.j,w);let Ie=this.o;if(this.S&&(Ie?(Ie=P(Ie),H(Ie,this.S)):Ie=this.S),this.m!==null||this.O||(Te.H=Ie,Ie=null),this.P)e:{for(var D=0,q=0;q<this.i.length;q++){t:{var ie=this.i[q];if("__data__"in ie.map&&(ie=ie.map.__data__,typeof ie=="string")){ie=ie.length;break t}ie=void 0}if(ie===void 0)break;if(D+=ie,4096<D){D=q;break e}if(D===4096||q===this.i.length-1){D=q+1;break e}}D=1e3}else D=1e3;D=Go(this,Te,D),q=Us(this.I),Vn(q,"RID",w),Vn(q,"CVER",22),this.D&&Vn(q,"X-HTTP-Session-Id",this.D),fo(this,q),Ie&&(this.O?D="headers="+encodeURIComponent(String(la(Ie)))+"&"+D:this.m&&ts(q,this.m,Ie)),ui(this.h,Te),this.Ua&&Vn(q,"TYPE","init"),this.P?(Vn(q,"$req",D),Vn(q,"SID","null"),Te.T=!0,Gs(Te,q,null)):Gs(Te,q,D),this.G=2}}else this.G==3&&(w?Yo(this,w):this.i.length==0||Ml(this.h)||Yo(this))};function Yo(w,D){var q;D?q=D.l:q=w.U++;const ie=Us(w.I);Vn(ie,"SID",w.K),Vn(ie,"RID",q),Vn(ie,"AID",w.T),fo(w,ie),w.m&&w.o&&ts(ie,w.m,w.o),q=new li(w,w.j,q,w.B+1),w.m===null&&(q.H=w.o),D&&(w.i=D.D.concat(w.i)),D=Go(w,q,1e3),q.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),ui(w.h,q),Gs(q,ie,D)}function fo(w,D){w.H&&Y(w.H,function(q,ie){Vn(D,ie,q)}),w.l&&Uu({},function(q,ie){Vn(D,ie,q)})}function Go(w,D,q){q=Math.min(w.i.length,q);var ie=w.l?g(w.l.Na,w.l,w):null;e:{var Te=w.i;let Ie=-1;for(;;){const et=["count="+q];Ie==-1?0<q?(Ie=Te[0].g,et.push("ofs="+Ie)):Ie=0:et.push("ofs="+Ie);let Dt=!0;for(let mn=0;mn<q;mn++){let Yt=Te[mn].g;const Un=Te[mn].map;if(Yt-=Ie,0>Yt)Ie=Math.max(0,Te[mn].g-100),Dt=!1;else try{Ar(Un,et,"req"+Yt+"_")}catch{ie&&ie(Un)}}if(Dt){ie=et.join("&");break e}}}return w=w.i.splice(0,q),D.D=w,ie}function Vl(w){if(!w.g&&!w.u){w.Y=1;var D=w.Fa;ue||Z(),ce||(ue(),ce=!0),ye.add(D,w),w.v=0}}function Ko(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=Xn(g(w.Fa,w),Xo(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,rh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=Xn(g(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),jl(this),rh(this))};function po(w){w.A!=null&&(l.clearTimeout(w.A),w.A=null)}function rh(w){w.g=new li(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var D=Us(w.qa);Vn(D,"RID","rpc"),Vn(D,"SID",w.K),Vn(D,"AID",w.T),Vn(D,"CI",w.F?"0":"1"),!w.F&&w.ja&&Vn(D,"TO",w.ja),Vn(D,"TYPE","xmlhttp"),fo(w,D),w.m&&w.o&&ts(D,w.m,w.o),w.L&&(w.g.I=w.L);var q=w.g;w=w.ia,q.L=1,q.v=oo(Us(D)),q.m=null,q.P=!0,xr(q,w)}t.Za=function(){this.C!=null&&(this.C=null,jl(this),Ko(this),dt(19))};function Ua(w){w.C!=null&&(l.clearTimeout(w.C),w.C=null)}function mo(w,D){var q=null;if(w.g==D){Ua(w),po(w),w.g=null;var ie=2}else if(Vu(w.h,D))q=D.D,Ls(w.h,D),ie=1;else return;if(w.G!=0){if(D.o)if(ie==1){q=D.m?D.m.length:0,D=Date.now()-D.F;var Te=w.B;ie=Fs(),bt(ie,new pt(ie,q)),Fl(w)}else Vl(w);else if(Te=D.s,Te==3||Te==0&&0<D.X||!(ie==1&&Wu(w,D)||ie==2&&Ko(w)))switch(q&&0<q.length&&(D=w.h,D.i=D.i.concat(q)),Te){case 1:Zs(w,5);break;case 4:Zs(w,10);break;case 3:Zs(w,6);break;default:Zs(w,2)}}}function Xo(w,D){let q=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(q*=2),q*D}function Zs(w,D){if(w.j.info("Error code "+D),D==2){var q=g(w.fb,w),ie=w.Xa;const Te=!ie;ie=new En(ie||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ro(ie,"https"),oo(ie),Te?Ks(ie.toString(),q):Sr(ie.toString(),q)}else dt(2);w.G=0,w.l&&w.l.sa(D),Ul(w),$o(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Ul(w){if(w.G=0,w.ka=[],w.l){const D=Il(w.h);(D.length!=0||w.i.length!=0)&&(T(w.ka,D),T(w.ka,w.i),w.h.i.length=0,A(w.i),w.i.length=0),w.l.ra()}}function L(w,D,q){var ie=q instanceof En?Us(q):new En(q);if(ie.g!="")D&&(ie.g=D+"."+ie.g),ao(ie,ie.s);else{var Te=l.location;ie=Te.protocol,D=D?D+"."+Te.hostname:Te.hostname,Te=+Te.port;var Ie=new En(null);ie&&ro(Ie,ie),D&&(Ie.g=D),Te&&ao(Ie,Te),q&&(Ie.l=q),ie=Ie}return q=w.D,D=w.ya,q&&D&&Vn(ie,q,D),Vn(ie,"VER",w.la),fo(w,ie),ie}function K(w,D,q){if(D&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return D=w.Ca&&!w.pa?new pn(new lo({eb:q})):new pn(w.pa),D.Ha(w.J),D}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function de(){}t=de.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ve(){}ve.prototype.g=function(w,D){return new Ce(w,D)};function Ce(w,D){At.call(this),this.g=new ho(D),this.l=w,this.h=D&&D.messageUrlParams||null,w=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(w?w["X-WebChannel-Content-Type"]=D.messageContentType:w={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(w?w["X-WebChannel-Client-Profile"]=D.va:w={"X-WebChannel-Client-Profile":D.va}),this.g.S=w,(w=D&&D.Sb)&&!k(w)&&(this.g.m=w),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!k(D)&&(this.g.D=D,w=this.h,w!==null&&D in w&&(w=this.h,D in w&&delete w[D])),this.j=new ut(this)}x(Ce,At),Ce.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ce.prototype.close=function(){Va(this.g)},Ce.prototype.o=function(w){var D=this.g;if(typeof w=="string"){var q={};q.__data__=w,w=q}else this.u&&(q={},q.__data__=Jt(w),w=q);D.i.push(new eh(D.Ya++,w)),D.G==3&&Fl(D)},Ce.prototype.N=function(){this.g.l=null,delete this.j,Va(this.g),delete this.g,Ce.aa.N.call(this)};function Be(w){Qi.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var D=w.__sm__;if(D){e:{for(const q in D){w=q;break e}w=void 0}(this.i=w)&&(w=this.i,D=D!==null&&w in D?D[w]:void 0),this.data=D}else this.data=w}x(Be,Qi);function Je(){On.call(this),this.status=1}x(Je,On);function ut(w){this.g=w}x(ut,de),ut.prototype.ua=function(){bt(this.g,"a")},ut.prototype.ta=function(w){bt(this.g,new Be(w))},ut.prototype.sa=function(w){bt(this.g,new Je)},ut.prototype.ra=function(){bt(this.g,"b")},ve.prototype.createWebChannel=ve.prototype.g,Ce.prototype.send=Ce.prototype.o,Ce.prototype.open=Ce.prototype.m,Ce.prototype.close=Ce.prototype.close,XP=function(){return new ve},KP=function(){return Fs()},GP=Ct,Xx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,$v=Ns,hs.COMPLETE="complete",YP=hs,Kn.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",At.prototype.listen=At.prototype.K,Lg=Kn,pn.prototype.listenOnce=pn.prototype.L,pn.prototype.getLastError=pn.prototype.Ka,pn.prototype.getLastErrorCode=pn.prototype.Ba,pn.prototype.getStatus=pn.prototype.Z,pn.prototype.getResponseJson=pn.prototype.Oa,pn.prototype.getResponseText=pn.prototype.oa,pn.prototype.send=pn.prototype.ea,pn.prototype.setWithCredentials=pn.prototype.Ha,$P=pn}).apply(typeof uv<"u"?uv:typeof self<"u"?self:typeof window<"u"?window:{});const D4="@firebase/firestore",O4="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pm="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Q5("@firebase/firestore");function bp(){return Sf.logLevel}function vt(t,...e){if(Sf.logLevel<=xn.DEBUG){const n=e.map(eS);Sf.debug(`Firestore (${pm}): ${t}`,...n)}}function Fc(t,...e){if(Sf.logLevel<=xn.ERROR){const n=e.map(eS);Sf.error(`Firestore (${pm}): ${t}`,...n)}}function Vc(t,...e){if(Sf.logLevel<=xn.WARN){const n=e.map(eS);Sf.warn(`Firestore (${pm}): ${t}`,...n)}}function eS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,QP(t,i,n)}function QP(t,e,n){let i=`FIRESTORE (${pm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Fc(i),new Error(i)}function ei(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||QP(e,s,i)}function tn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Ou{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vr.UNAUTHENTICATED))}shutdown(){}}class Lq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kq{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ei(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new Pc;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Pc,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Pc)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ei(typeof i.accessToken=="string",31837,{l:i}),new ZP(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ei(e===null||typeof e=="string",2055,{h:e}),new Vr(e)}}class Pq{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rq{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new Pq(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mq{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Za(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ei(this.o===void 0,3512);const i=r=>{r.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,vt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new j4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ei(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new j4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=Iq(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%62))}return i}}function dn(t,e){return t<e?-1:t>e?1:0}function Qx(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return dn(i,s);{const r=eR(),a=Dq(r.encode(F4(t,n)),r.encode(F4(e,n)));return a!==0?a:dn(i,s)}}n+=i>65535?2:1}return dn(t.length,e.length)}function F4(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Dq(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return dn(t[n],e[n]);return dn(t.length,e.length)}function Xp(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="__name__";class mu{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ht(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ht(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return mu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mu?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=mu.compareSegments(e.get(s),n.get(s));if(r!==0)return r}return dn(e.length,n.length)}static compareSegments(e,n){const i=mu.isNumericId(e),s=mu.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?mu.extractNumericId(e).compare(mu.extractNumericId(n)):Qx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return id.fromString(e.substring(4,e.length-2))}}class xi extends mu{construct(e,n,i){return new xi(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new gt(Ge.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new xi(n)}static emptyPath(){return new xi([])}}const Oq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends mu{construct(e,n,i){return new rr(e,n,i)}static isValidIdentifier(e){return Oq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V4}static keyField(){return new rr([V4])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new gt(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new gt(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new gt(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(r(),s++)}if(r(),a)throw new gt(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(n)}static emptyPath(){return new rr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.path=e}static fromPath(e){return new kt(xi.fromString(e))}static fromName(e){return new kt(xi.fromString(e).popFirst(5))}static empty(){return new kt(xi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new xi(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t,e,n){if(!n)throw new gt(Ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nR(t,e,n,i){if(e===!0&&i===!0)throw new gt(Ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U4(t){if(!kt.isDocumentKey(t))throw new gt(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function B4(t){if(kt.isDocumentKey(t))throw new gt(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Lb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ht(12329,{type:typeof t})}function Ea(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new gt(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lb(t);throw new gt(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t,e){const n={typeString:t};return e&&(n.value=e),n}function B0(t,e){if(!iR(t))throw new gt(Ge.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,r="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new gt(Ge.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=-62135596800,q4=1e6;class _i{static now(){return _i.fromMillis(Date.now())}static fromDate(e){return _i.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*q4);return new _i(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new gt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<z4)throw new gt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q4}_compareTo(e){return this.seconds===e.seconds?dn(this.nanoseconds,e.nanoseconds):dn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_i._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(B0(e,_i._jsonSchema))return new _i(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-z4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_i._jsonSchemaVersion="firestore/timestamp/1.0",_i._jsonSchema={type:js("string",_i._jsonSchemaVersion),seconds:js("number"),nanoseconds:js("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{static fromTimestamp(e){return new Zt(e)}static min(){return new Zt(new _i(0,0))}static max(){return new Zt(new _i(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=-1;function jq(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Zt.fromTimestamp(i===1e9?new _i(n+1,0):new _i(n,i));return new ld(s,kt.empty(),e)}function Fq(t){return new ld(t.readTime,t.key,u0)}class ld{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ld(Zt.min(),kt.empty(),u0)}static max(){return new ld(Zt.max(),kt.empty(),u0)}}function Vq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=kt.comparator(t.documentKey,e.documentKey),n!==0?n:dn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(t){if(t.code!==Ge.FAILED_PRECONDITION||t.message!==Uq)throw t;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ze((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ze?n:Ze.resolve(n)}catch(n){return Ze.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ze.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ze.reject(n)}static resolve(e){return new Ze((n,i)=>{n(e)})}static reject(e){return new Ze((n,i)=>{i(e)})}static waitFor(e){return new Ze((n,i)=>{let s=0,r=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++r,a&&r===s&&n()},u=>i(u))}),a=!0,r===s&&n()})}static or(e){let n=Ze.resolve(!1);for(const i of e)n=n.next(s=>s?Ze.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new Ze((i,s)=>{const r=e.length,a=new Array(r);let l=0;for(let u=0;u<r;u++){const h=u;n(e[h]).next(f=>{a[h]=f,++l,l===r&&i(a)},f=>s(f))}})}static doWhile(e,n){return new Ze((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function zq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}kb.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=-1;function Pb(t){return t==null}function b1(t){return t===0&&1/t==-1/0}function qq(t){return typeof t=="number"&&Number.isInteger(t)&&!b1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="";function Hq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=H4(e)),e=Wq(t.get(n),e);return H4(e)}function Wq(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case sR:n+="";break;default:n+=r}}return n}function H4(t){return t+sR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n){this.comparator=e,this.root=n||vr.EMPTY}insert(e,n){return new Ki(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new Ki(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cv(this.root,e,this.comparator,!1)}getReverseIterator(){return new cv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cv(this.root,e,this.comparator,!0)}}class cv{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vr{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??vr.RED,this.left=s??vr.EMPTY,this.right=r??vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new vr(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vr.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ht(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ht(27949);return e+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1;vr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht(57766)}get value(){throw Ht(16141)}get color(){throw Ht(16727)}get left(){throw Ht(29726)}get right(){throw Ht(36894)}copy(e,n,i,s,r){return this}insert(e,n,i){return new vr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.comparator=e,this.data=new Ki(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $4(this.data.getIterator())}getIteratorFrom(e){return new $4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ws)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ws(this.comparator);return n.data=e,n}}class $4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new eo([])}unionWith(e){let n=new Ws(rr.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new eo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xp(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new aR("Invalid base64 string: "+r):r}}(e);return new or(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}or.EMPTY_BYTE_STRING=new or("");const $q=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ud(t){if(ei(!!t,39018),typeof t=="string"){let e=0;const n=$q.exec(t);if(ei(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ss(t.seconds),nanos:Ss(t.nanos)}}function Ss(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cd(t){return typeof t=="string"?or.fromBase64String(t):or.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="server_timestamp",lR="__type__",uR="__previous_value__",cR="__local_write_time__";function nS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lR])===null||n===void 0?void 0:n.stringValue)===oR}function Rb(t){const e=t.mapValue.fields[uR];return nS(e)?Rb(e):e}function c0(t){const e=ud(t.mapValue.fields[cR].timestampValue);return new _i(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,n,i,s,r,a,l,u,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}}const w1="(default)";class Qp{constructor(e,n){this.projectId=e,this.database=n||w1}static empty(){return new Qp("","")}get isDefaultDatabase(){return this.database===w1}isEqual(e){return e instanceof Qp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="__type__",Gq="__max__",hv={mapValue:{}},dR="__vector__",x1="value";function hd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nS(t)?4:Xq(t)?9007199254740991:Kq(t)?10:11:Ht(28295,{value:t})}function Lu(t,e){if(t===e)return!0;const n=hd(t);if(n!==hd(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return c0(t).isEqual(c0(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=ud(s.timestampValue),l=ud(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return cd(s.bytesValue).isEqual(cd(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Ss(s.geoPointValue.latitude)===Ss(r.geoPointValue.latitude)&&Ss(s.geoPointValue.longitude)===Ss(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Ss(s.integerValue)===Ss(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=Ss(s.doubleValue),l=Ss(r.doubleValue);return a===l?b1(a)===b1(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Xp(t.arrayValue.values||[],e.arrayValue.values||[],Lu);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},l=r.mapValue.fields||{};if(W4(a)!==W4(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Lu(a[u],l[u])))return!1;return!0}(t,e);default:return Ht(52216,{left:t})}}function h0(t,e){return(t.values||[]).find(n=>Lu(n,e))!==void 0}function Zp(t,e){if(t===e)return 0;const n=hd(t),i=hd(e);if(n!==i)return dn(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return dn(t.booleanValue,e.booleanValue);case 2:return function(r,a){const l=Ss(r.integerValue||r.doubleValue),u=Ss(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Y4(t.timestampValue,e.timestampValue);case 4:return Y4(c0(t),c0(e));case 5:return Qx(t.stringValue,e.stringValue);case 6:return function(r,a){const l=cd(r),u=cd(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=dn(l[h],u[h]);if(f!==0)return f}return dn(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const l=dn(Ss(r.latitude),Ss(a.latitude));return l!==0?l:dn(Ss(r.longitude),Ss(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return G4(t.arrayValue,e.arrayValue);case 10:return function(r,a){var l,u,h,f;const p=r.fields||{},g=a.fields||{},y=(l=p[x1])===null||l===void 0?void 0:l.arrayValue,x=(u=g[x1])===null||u===void 0?void 0:u.arrayValue,A=dn(((h=y?.values)===null||h===void 0?void 0:h.length)||0,((f=x?.values)===null||f===void 0?void 0:f.length)||0);return A!==0?A:G4(y,x)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===hv.mapValue&&a===hv.mapValue)return 0;if(r===hv.mapValue)return 1;if(a===hv.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),h=a.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=Qx(u[p],f[p]);if(g!==0)return g;const y=Zp(l[u[p]],h[f[p]]);if(y!==0)return y}return dn(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Ht(23264,{le:n})}}function Y4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dn(t,e);const n=ud(t),i=ud(e),s=dn(n.seconds,i.seconds);return s!==0?s:dn(n.nanos,i.nanos)}function G4(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Zp(n[s],i[s]);if(r)return r}return dn(n.length,i.length)}function Jp(t){return Zx(t)}function Zx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ud(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cd(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return kt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=Zx(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${Zx(n.fields[a])}`;return s+"}"}(t.mapValue):Ht(61005,{value:t})}function Yv(t){switch(hd(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rb(t);return e?16+Yv(e):16;case 5:return 2*t.stringValue.length;case 6:return cd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Yv(r),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return wd(i.fields,(r,a)=>{s+=r.length+Yv(a)}),s}(t.mapValue);default:throw Ht(13486,{value:t})}}function K4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jx(t){return!!t&&"integerValue"in t}function iS(t){return!!t&&"arrayValue"in t}function X4(t){return!!t&&"nullValue"in t}function Q4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gv(t){return!!t&&"mapValue"in t}function Kq(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[hR])===null||n===void 0?void 0:n.stringValue)===dR}function Fg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wd(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Fg(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Xq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Gq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.value=e}static empty(){return new _a({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Gv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fg(n)}setAll(e){let n=rr.emptyPath(),i={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=l.popLast()}a?i[l.lastSegment()]=Fg(a):s.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Gv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Gv(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){wd(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new _a(Fg(this.value))}}function fR(t){const e=[];return wd(t.fields,(n,i)=>{const s=new rr([n]);if(Gv(i)){const r=fR(i.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new eo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,i,s,r,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Ur(e,0,Zt.min(),Zt.min(),Zt.min(),_a.empty(),0)}static newFoundDocument(e,n,i,s){return new Ur(e,1,n,Zt.min(),i,s,0)}static newNoDocument(e,n){return new Ur(e,2,n,Zt.min(),Zt.min(),_a.empty(),0)}static newUnknownDocument(e,n){return new Ur(e,3,n,Zt.min(),Zt.min(),_a.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_a.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_a.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n){this.position=e,this.inclusive=n}}function Z4(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=kt.comparator(kt.fromName(a.referenceValue),n.key):i=Zp(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function J4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lu(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n="asc"){this.field=e,this.dir=n}}function Qq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{}class Os extends pR{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Jq(e,n,i):n==="array-contains"?new nH(e,i):n==="in"?new iH(e,i):n==="not-in"?new sH(e,i):n==="array-contains-any"?new rH(e,i):new Os(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new eH(e,i):new tH(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zp(n,this.value)):n!==null&&hd(this.value)===hd(n)&&this.matchesComparison(Zp(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tl extends pR{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Tl(e,n)}matches(e){return mR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function mR(t){return t.op==="and"}function gR(t){return Zq(t)&&mR(t)}function Zq(t){for(const e of t.filters)if(e instanceof Tl)return!1;return!0}function e_(t){if(t instanceof Os)return t.field.canonicalString()+t.op.toString()+Jp(t.value);if(gR(t))return t.filters.map(e=>e_(e)).join(",");{const e=t.filters.map(n=>e_(n)).join(",");return`${t.op}(${e})`}}function yR(t,e){return t instanceof Os?function(i,s){return s instanceof Os&&i.op===s.op&&i.field.isEqual(s.field)&&Lu(i.value,s.value)}(t,e):t instanceof Tl?function(i,s){return s instanceof Tl&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,l)=>r&&yR(a,s.filters[l]),!0):!1}(t,e):void Ht(19439)}function vR(t){return t instanceof Os?function(n){return`${n.field.canonicalString()} ${n.op} ${Jp(n.value)}`}(t):t instanceof Tl?function(n){return n.op.toString()+" {"+n.getFilters().map(vR).join(" ,")+"}"}(t):"Filter"}class Jq extends Os{constructor(e,n,i){super(e,n,i),this.key=kt.fromName(i.referenceValue)}matches(e){const n=kt.comparator(e.key,this.key);return this.matchesComparison(n)}}class eH extends Os{constructor(e,n){super(e,"in",n),this.keys=bR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tH extends Os{constructor(e,n){super(e,"not-in",n),this.keys=bR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>kt.fromName(i.referenceValue))}class nH extends Os{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iS(n)&&h0(n.arrayValue,this.value)}}class iH extends Os{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&h0(this.value.arrayValue,n)}}class sH extends Os{constructor(e,n){super(e,"not-in",n)}matches(e){if(h0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!h0(this.value.arrayValue,n)}}class rH extends Os{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>h0(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e,n=null,i=[],s=[],r=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=l,this.Pe=null}}function eC(t,e=null,n=[],i=[],s=null,r=null,a=null){return new aH(t,e,n,i,s,r,a)}function sS(t){const e=tn(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>e_(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Pb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Jp(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Jp(i)).join(",")),e.Pe=n}return e.Pe}function rS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Qq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!J4(t.startAt,e.startAt)&&J4(t.endAt,e.endAt)}function t_(t){return kt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n=null,i=[],s=[],r=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function oH(t,e,n,i,s,r,a,l){return new ym(t,e,n,i,s,r,a,l)}function Mb(t){return new ym(t)}function tC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wR(t){return t.collectionGroup!==null}function Vg(t){const e=tn(t);if(e.Te===null){e.Te=[];const n=new Set;for(const r of e.explicitOrderBy)e.Te.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ws(rr.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Te.push(new d0(r,i))}),n.has(rr.keyField().canonicalString())||e.Te.push(new d0(rr.keyField(),i))}return e.Te}function wu(t){const e=tn(t);return e.Ie||(e.Ie=lH(e,Vg(t))),e.Ie}function lH(t,e){if(t.limitType==="F")return eC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new d0(s.field,r)});const n=t.endAt?new _1(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new _1(t.startAt.position,t.startAt.inclusive):null;return eC(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function n_(t,e){const n=t.filters.concat([e]);return new ym(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function i_(t,e,n){return new ym(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ib(t,e){return rS(wu(t),wu(e))&&t.limitType===e.limitType}function xR(t){return`${sS(wu(t))}|lt:${t.limitType}`}function wp(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>vR(s)).join(", ")}]`),Pb(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Jp(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Jp(s)).join(",")),`Target(${i})`}(wu(t))}; limitType=${t.limitType})`}function Db(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):kt.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of Vg(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,l,u){const h=Z4(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,Vg(i),s)||i.endAt&&!function(a,l,u){const h=Z4(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,Vg(i),s))}(t,e)}function uH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _R(t){return(e,n)=>{let i=!1;for(const s of Vg(t)){const r=cH(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function cH(t,e,n){const i=t.field.isKeyField()?kt.comparator(e.key,n.key):function(r,a,l){const u=a.data.field(r),h=l.data.field(r);return u!==null&&h!==null?Zp(u,h):Ht(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ht(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wd(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return rR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=new Ki(kt.comparator);function Uc(){return hH}const SR=new Ki(kt.comparator);function kg(...t){let e=SR;for(const n of t)e=e.insert(n.key,n);return e}function AR(t){let e=SR;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function uf(){return Ug()}function TR(){return Ug()}function Ug(){return new Rf(t=>t.toString(),(t,e)=>t.isEqual(e))}const dH=new Ki(kt.comparator),fH=new Ws(kt.comparator);function _n(...t){let e=fH;for(const n of t)e=e.add(n);return e}const pH=new Ws(dn);function mH(){return pH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:b1(e)?"-0":e}}function ER(t){return{integerValue:""+t}}function gH(t,e){return qq(e)?ER(e):aS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this._=void 0}}function yH(t,e,n){return t instanceof f0?function(s,r){const a={fields:{[lR]:{stringValue:oR},[cR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&nS(r)&&(r=Rb(r)),r&&(a.fields[uR]=r),{mapValue:a}}(n,e):t instanceof p0?NR(t,e):t instanceof m0?LR(t,e):function(s,r){const a=CR(s,r),l=nC(a)+nC(s.Ee);return Jx(a)&&Jx(s.Ee)?ER(l):aS(s.serializer,l)}(t,e)}function vH(t,e,n){return t instanceof p0?NR(t,e):t instanceof m0?LR(t,e):n}function CR(t,e){return t instanceof S1?function(i){return Jx(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class f0 extends Ob{}class p0 extends Ob{constructor(e){super(),this.elements=e}}function NR(t,e){const n=kR(e);for(const i of t.elements)n.some(s=>Lu(s,i))||n.push(i);return{arrayValue:{values:n}}}class m0 extends Ob{constructor(e){super(),this.elements=e}}function LR(t,e){let n=kR(e);for(const i of t.elements)n=n.filter(s=>!Lu(s,i));return{arrayValue:{values:n}}}class S1 extends Ob{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function nC(t){return Ss(t.integerValue||t.doubleValue)}function kR(t){return iS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,n){this.field=e,this.transform=n}}function wH(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof p0&&s instanceof p0||i instanceof m0&&s instanceof m0?Xp(i.elements,s.elements,Lu):i instanceof S1&&s instanceof S1?Lu(i.Ee,s.Ee):i instanceof f0&&s instanceof f0}(t.transform,e.transform)}class xH{constructor(e,n){this.version=e,this.transformResults=n}}class wl{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wl}static exists(e){return new wl(void 0,e)}static updateTime(e){return new wl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jb{}function PR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new MR(t.key,wl.none()):new z0(t.key,t.data,wl.none());{const n=t.data,i=_a.empty();let s=new Ws(rr.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new xd(t.key,i,new eo(s.toArray()),wl.none())}}function _H(t,e,n){t instanceof z0?function(s,r,a){const l=s.value.clone(),u=sC(s.fieldTransforms,r,a.transformResults);l.setAll(u),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof xd?function(s,r,a){if(!Kv(s.precondition,r))return void r.convertToUnknownDocument(a.version);const l=sC(s.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(RR(s)),u.setAll(l),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Bg(t,e,n,i){return t instanceof z0?function(r,a,l,u){if(!Kv(r.precondition,a))return l;const h=r.value.clone(),f=rC(r.fieldTransforms,u,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof xd?function(r,a,l,u){if(!Kv(r.precondition,a))return l;const h=rC(r.fieldTransforms,u,a),f=a.data;return f.setAll(RR(r)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(r,a,l){return Kv(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function SH(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=CR(i.transform,s||null);r!=null&&(n===null&&(n=_a.empty()),n.set(i.field,r))}return n||null}function iC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Xp(i,s,(r,a)=>wH(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class z0 extends jb{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xd extends jb{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function RR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function sC(t,e,n){const i=new Map;ei(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,l=e.data.field(r.field);i.set(r.field,vH(a,l,n[s]))}return i}function rC(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,yH(r,a,e))}return i}class MR extends jb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AH extends jb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&_H(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Bg(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Bg(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=TR();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let l=this.applyToLocalView(a,r.mutatedFields);l=n.has(s.key)?null:l;const u=PR(a,l);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(Zt.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_n())}isEqual(e){return this.batchId===e.batchId&&Xp(this.mutations,e.mutations,(n,i)=>iC(n,i))&&Xp(this.baseMutations,e.baseMutations,(n,i)=>iC(n,i))}}class oS{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){ei(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let s=function(){return dH}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new oS(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Is,In;function NH(t){switch(t){case Ge.OK:return Ht(64938);case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return Ht(15467,{code:t})}}function IR(t){if(t===void 0)return Fc("GRPC error has no .code"),Ge.UNKNOWN;switch(t){case Is.OK:return Ge.OK;case Is.CANCELLED:return Ge.CANCELLED;case Is.UNKNOWN:return Ge.UNKNOWN;case Is.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case Is.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case Is.INTERNAL:return Ge.INTERNAL;case Is.UNAVAILABLE:return Ge.UNAVAILABLE;case Is.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case Is.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case Is.NOT_FOUND:return Ge.NOT_FOUND;case Is.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case Is.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case Is.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case Is.ABORTED:return Ge.ABORTED;case Is.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case Is.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case Is.DATA_LOSS:return Ge.DATA_LOSS;default:return Ht(39323,{code:t})}}(In=Is||(Is={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=new id([4294967295,4294967295],0);function aC(t){const e=eR().encode(t),n=new WP;return n.update(e),new Uint8Array(n.digest())}function oC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new id([n,i],0),new id([s,r],0)]}class lS{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Pg(`Invalid padding: ${n}`);if(i<0)throw new Pg(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Pg(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Pg(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=id.fromNumber(this.fe)}pe(e,n,i){let s=e.add(n.multiply(id.fromNumber(i)));return s.compare(LH)===1&&(s=new id([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=aC(e),[i,s]=oC(n);for(let r=0;r<this.hashCount;r++){const a=this.pe(i,s,r);if(!this.ye(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new lS(r,s,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.fe===0)return;const n=aC(e),[i,s]=oC(n);for(let r=0;r<this.hashCount;r++){const a=this.pe(i,s,r);this.we(a)}}we(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Pg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,q0.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Fb(Zt.min(),s,new Ki(dn),Uc(),_n())}}class q0{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new q0(i,n,_n(),_n(),_n())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n,i,s){this.Se=e,this.removedTargetIds=n,this.key=i,this.be=s}}class DR{constructor(e,n){this.targetId=e,this.De=n}}class OR{constructor(e,n,i=or.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class lC{constructor(){this.ve=0,this.Ce=uC(),this.Fe=or.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=_n(),n=_n(),i=_n();return this.Ce.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ht(38017,{changeType:r})}}),new q0(this.Fe,this.Me,e,n,i)}ke(){this.xe=!1,this.Ce=uC()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ei(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class kH{constructor(e){this.We=e,this.Ge=new Map,this.ze=Uc(),this.je=dv(),this.Je=dv(),this.He=new Ki(dn)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const i=this.tt(n);switch(e.state){case 0:this.nt(n)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(e.resumeToken));break;default:Ht(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((i,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,i=e.De.count,s=this.st(n);if(s){const r=s.target;if(t_(r))if(i===0){const a=new kt(r.path);this.Xe(n,a,Ur.newNoDocument(a,Zt.min()))}else ei(i===1,20013,{expectedCount:i});else{const a=this.ot(n);if(a!==i){const l=this._t(e),u=l?this.ut(l,e,a):1;if(u!==0){this.rt(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,h)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,l;try{a=cd(i).toUint8Array()}catch(u){if(u instanceof aR)return Vc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new lS(a,s,r)}catch(u){return Vc(u instanceof Pg?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.fe===0?null:l}ut(e,n,i){return n.De.count===i-this.ht(e,n.targetId)?0:2}ht(e,n){const i=this.We.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.We.lt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,r,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((r,a)=>{const l=this.st(a);if(l){if(r.current&&t_(l.target)){const u=new kt(l.target.path);this.Tt(u).has(a)||this.It(a,u)||this.Xe(a,u,Ur.newNoDocument(u,e))}r.Ne&&(n.set(a,r.Le()),r.ke())}});let i=_n();this.Je.forEach((r,a)=>{let l=!0;a.forEachWhile(u=>{const h=this.st(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(r))}),this.ze.forEach((r,a)=>a.setReadTime(e));const s=new Fb(e,n,this.He,this.ze,i);return this.ze=Uc(),this.je=dv(),this.Je=dv(),this.He=new Ki(dn),s}Ze(e,n){if(!this.nt(e))return;const i=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,i){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new lC,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Ws(dn),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Ws(dn),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||vt("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new lC),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function dv(){return new Ki(kt.comparator)}function uC(){return new Ki(kt.comparator)}const PH={asc:"ASCENDING",desc:"DESCENDING"},RH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MH={and:"AND",or:"OR"};class IH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function s_(t,e){return t.useProto3Json||Pb(e)?e:{value:e}}function A1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DH(t,e){return A1(t,e.toTimestamp())}function xu(t){return ei(!!t,49232),Zt.fromTimestamp(function(n){const i=ud(n);return new _i(i.seconds,i.nanos)}(t))}function uS(t,e){return r_(t,e).canonicalString()}function r_(t,e){const n=function(s){return new xi(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FR(t){const e=xi.fromString(t);return ei(qR(e),10190,{key:e.toString()}),e}function a_(t,e){return uS(t.databaseId,e.path)}function Fw(t,e){const n=FR(e);if(n.get(1)!==t.databaseId.projectId)throw new gt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new gt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new kt(UR(n))}function VR(t,e){return uS(t.databaseId,e)}function OH(t){const e=FR(t);return e.length===4?xi.emptyPath():UR(e)}function o_(t){return new xi(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UR(t){return ei(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cC(t,e,n){return{name:a_(t,e),fields:n.value.mapValue.fields}}function jH(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ht(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(h,f){return h.useProto3Json?(ei(f===void 0||typeof f=="string",58123),or.fromBase64String(f||"")):(ei(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),or.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const f=h.code===void 0?Ge.UNKNOWN:IR(h.code);return new gt(f,h.message||"")}(a);n=new OR(i,s,r,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Fw(t,i.document.name),r=xu(i.document.updateTime),a=i.document.createTime?xu(i.document.createTime):Zt.min(),l=new _a({mapValue:{fields:i.document.fields}}),u=Ur.newFoundDocument(s,r,a,l),h=i.targetIds||[],f=i.removedTargetIds||[];n=new Xv(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Fw(t,i.document),r=i.readTime?xu(i.readTime):Zt.min(),a=Ur.newNoDocument(s,r),l=i.removedTargetIds||[];n=new Xv([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Fw(t,i.document),r=i.removedTargetIds||[];n=new Xv([],r,s,null)}else{if(!("filter"in e))return Ht(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new CH(s,r),l=i.targetId;n=new DR(l,a)}}return n}function FH(t,e){let n;if(e instanceof z0)n={update:cC(t,e.key,e.value)};else if(e instanceof MR)n={delete:a_(t,e.key)};else if(e instanceof xd)n={update:cC(t,e.key,e.data),updateMask:YH(e.fieldMask)};else{if(!(e instanceof AH))return Ht(16599,{Rt:e.type});n={verify:a_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const l=a.transform;if(l instanceof f0)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof p0)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof m0)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof S1)return{fieldPath:a.field.canonicalString(),increment:l.Ee};throw Ht(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:DH(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Ht(27497)}(t,e.precondition)),n}function VH(t,e){return t&&t.length>0?(ei(e!==void 0,14353),t.map(n=>function(s,r){let a=s.updateTime?xu(s.updateTime):xu(r);return a.isEqual(Zt.min())&&(a=xu(r)),new xH(a,s.transformResults||[])}(n,e))):[]}function UH(t,e){return{documents:[VR(t,e.path)]}}function BH(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=VR(t,s);const r=function(h){if(h.length!==0)return zR(Tl.create(h,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(h){if(h.length!==0)return h.map(f=>function(g){return{field:xp(g.field),direction:HH(g.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=s_(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{Vt:n,parent:s}}function zH(t){let e=OH(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){ei(i===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let r=[];n.where&&(r=function(p){const g=BR(p);return g instanceof Tl&&gR(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(g=>function(x){return new d0(_p(x.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,Pb(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,y=p.values||[];return new _1(y,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,y=p.values||[];return new _1(y,g)}(n.endAt)),oH(e,s,a,r,l,"F",u,h)}function qH(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ht(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=_p(n.unaryFilter.field);return Os.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=_p(n.unaryFilter.field);return Os.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_p(n.unaryFilter.field);return Os.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=_p(n.unaryFilter.field);return Os.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ht(61313);default:return Ht(60726)}}(t):t.fieldFilter!==void 0?function(n){return Os.create(_p(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ht(58110);default:return Ht(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tl.create(n.compositeFilter.filters.map(i=>BR(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ht(1026)}}(n.compositeFilter.op))}(t):Ht(30097,{filter:t})}function HH(t){return PH[t]}function WH(t){return RH[t]}function $H(t){return MH[t]}function xp(t){return{fieldPath:t.canonicalString()}}function _p(t){return rr.fromServerFormat(t.fieldPath)}function zR(t){return t instanceof Os?function(n){if(n.op==="=="){if(Q4(n.value))return{unaryFilter:{field:xp(n.field),op:"IS_NAN"}};if(X4(n.value))return{unaryFilter:{field:xp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q4(n.value))return{unaryFilter:{field:xp(n.field),op:"IS_NOT_NAN"}};if(X4(n.value))return{unaryFilter:{field:xp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xp(n.field),op:WH(n.op),value:n.value}}}(t):t instanceof Tl?function(n){const i=n.getFilters().map(s=>zR(s));return i.length===1?i[0]:{compositeFilter:{op:$H(n.op),filters:i}}}(t):Ht(54877,{filter:t})}function YH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,i,s,r=Zt.min(),a=Zt.min(),l=or.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Kh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kh(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e){this.gt=e}}function KH(t){const e=zH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?i_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(){this.Dn=new QH}addToCollectionParentIndex(e,n){return this.Dn.add(n),Ze.resolve()}getCollectionParents(e,n){return Ze.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Ze.resolve()}deleteFieldIndex(e,n){return Ze.resolve()}deleteAllFieldIndexes(e){return Ze.resolve()}createTargetIndexes(e,n){return Ze.resolve()}getDocumentsMatchingTarget(e,n){return Ze.resolve(null)}getIndexType(e,n){return Ze.resolve(0)}getFieldIndexes(e,n){return Ze.resolve([])}getNextCollectionGroupToUpdate(e){return Ze.resolve(null)}getMinOffset(e,n){return Ze.resolve(ld.min())}getMinOffsetFromCollectionGroup(e,n){return Ze.resolve(ld.min())}updateCollectionGroup(e,n,i){return Ze.resolve()}updateIndexEntries(e,n){return Ze.resolve()}}class QH{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Ws(xi.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Ws(xi.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HR=41943040;class wa{static withCacheSize(e){return new wa(e,wa.DEFAULT_COLLECTION_PERCENTILE,wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wa.DEFAULT_COLLECTION_PERCENTILE=10,wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wa.DEFAULT=new wa(HR,wa.DEFAULT_COLLECTION_PERCENTILE,wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wa.DISABLED=new wa(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new em(0)}static ur(){return new em(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="LruGarbageCollector",ZH=1048576;function fC([t,e],[n,i]){const s=dn(t,n);return s===0?dn(e,i):s}class JH{constructor(e){this.Tr=e,this.buffer=new Ws(fC),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();fC(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eW{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){vt(dC,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gm(n)?vt(dC,"Ignoring IndexedDB error during garbage collection: ",n):await mm(n)}await this.Rr(3e5)})}}class tW{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return Ze.resolve(kb.ue);const i=new JH(n);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),Ze.resolve(hC)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hC):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let i,s,r,a,l,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(i=p,l=Date.now(),this.removeTargets(e,i,n))).next(p=>(r=p,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(h=Date.now(),bp()<=xn.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${r} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),Ze.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:p})))}}function nW(t,e){return new tW(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(){this.changes=new Rf(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Ze.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Bg(i.mutation,s,eo.empty(),_i.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,_n()).next(()=>i))}getLocalViewOfDocuments(e,n,i=_n()){const s=uf();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=kg();return r.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=uf();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,_n()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,s){let r=Uc();const a=Ug(),l=function(){return Ug()}();return n.forEach((u,h)=>{const f=i.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof xd)?r=r.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),Bg(f.mutation,h,f.mutation.getFieldMask(),_i.now())):a.set(h.key,eo.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((h,f)=>a.set(h,f)),n.forEach((h,f)=>{var p;return l.set(h,new sW(f,(p=a.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const i=Ug();let s=new Ki((a,l)=>a-l),r=_n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=i.get(u)||eo.empty();f=l.applyToLocalView(h,f),i.set(u,f);const p=(s.get(l.batchId)||_n()).add(u);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,p=TR();f.forEach(g=>{if(!r.has(g)){const y=PR(n.get(g),i.get(g));y!==null&&p.set(g,y),r=r.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,p))}return Ze.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(a){return kt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):Ze.resolve(uf());let l=u0,u=r;return a.next(h=>Ze.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),r.get(f)?Ze.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,u,h,_n())).next(f=>({batchId:l,changes:AR(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new kt(n)).next(i=>{let s=kg();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=kg();return this.indexManager.getCollectionParents(e,r).next(l=>Ze.forEach(l,u=>{const h=function(p,g){return new ym(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,i,s).next(f=>{f.forEach((p,g)=>{a=a.insert(p,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((u,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,Ur.newInvalidDocument(f)))});let l=kg();return a.forEach((u,h)=>{const f=r.get(u);f!==void 0&&Bg(f.mutation,h,eo.empty(),_i.now()),Db(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Ze.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:xu(s.createTime)}}(n)),Ze.resolve()}getNamedQuery(e,n){return Ze.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:KH(s.bundledQuery),readTime:xu(s.readTime)}}(n)),Ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(){this.overlays=new Ki(kt.comparator),this.kr=new Map}getOverlay(e,n){return Ze.resolve(this.overlays.get(n))}getOverlays(e,n){const i=uf();return Ze.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.wt(e,n,r)}),Ze.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.kr.delete(i)),Ze.resolve()}getOverlaysForCollection(e,n,i){const s=uf(),r=n.length+1,a=new kt(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>i&&s.set(u.getKey(),u)}return Ze.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Ki((h,f)=>h-f);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let f=r.get(h.largestBatchId);f===null&&(f=uf(),r=r.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=uf(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=s)););return Ze.resolve(l)}wt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new EH(n,i));let r=this.kr.get(n);r===void 0&&(r=_n(),this.kr.set(n,r)),this.kr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(){this.sessionToken=or.EMPTY_BYTE_STRING}getSessionToken(e){return Ze.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.qr=new Ws(ir.Qr),this.$r=new Ws(ir.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const i=new ir(e,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new ir(e,n))}Gr(e,n){e.forEach(i=>this.removeReference(i,n))}zr(e){const n=new kt(new xi([])),i=new ir(n,e),s=new ir(n,e+1),r=[];return this.$r.forEachInRange([i,s],a=>{this.Wr(a),r.push(a.key)}),r}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new kt(new xi([])),i=new ir(n,e),s=new ir(n,e+1);let r=_n();return this.$r.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new ir(e,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ir{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return kt.comparator(e.key,n.key)||dn(e.Hr,n.Hr)}static Ur(e,n){return dn(e.Hr,n.Hr)||kt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ws(ir.Qr)}checkEmpty(e){return Ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new TH(r,n,i,s);this.mutationQueue.push(a);for(const l of s)this.Yr=this.Yr.add(new ir(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ze.resolve(a)}lookupMutationBatch(e,n){return Ze.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Xr(i),r=s<0?0:s;return Ze.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Ze.resolve(this.mutationQueue.length===0?tS:this.er-1)}getAllMutationBatches(e){return Ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ir(n,0),s=new ir(n,Number.POSITIVE_INFINITY),r=[];return this.Yr.forEachInRange([i,s],a=>{const l=this.Zr(a.Hr);r.push(l)}),Ze.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ws(dn);return n.forEach(s=>{const r=new ir(s,0),a=new ir(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([r,a],l=>{i=i.add(l.Hr)})}),Ze.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;kt.isDocumentKey(r)||(r=r.child(""));const a=new ir(new kt(r),0);let l=new Ws(dn);return this.Yr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===s&&(l=l.add(u.Hr)),!0)},a),Ze.resolve(this.ei(l))}ei(e){const n=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ei(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return Ze.forEach(n.mutations,s=>{const r=new ir(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,n){const i=new ir(n,0),s=this.Yr.firstAfterOrEqual(i);return Ze.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ze.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e){this.ni=e,this.docs=function(){return new Ki(kt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Ze.resolve(i?i.document.mutableCopy():Ur.newInvalidDocument(n))}getEntries(e,n){let i=Uc();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Ur.newInvalidDocument(s))}),Ze.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=Uc();const a=n.path,l=new kt(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||Vq(Fq(f),i)<=0||(s.has(f.key)||Db(n,f))&&(r=r.insert(f.key,f.mutableCopy()))}return Ze.resolve(r)}getAllFromCollectionGroup(e,n,i,s){Ht(9500)}ri(e,n){return Ze.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new hW(this)}getSize(e){return Ze.resolve(this.size)}}class hW extends iW{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(i)}),Ze.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(e){this.persistence=e,this.ii=new Rf(n=>sS(n),rS),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.si=0,this.oi=new cS,this.targetCount=0,this._i=em.ar()}forEachTarget(e,n){return this.ii.forEach((i,s)=>n(s)),Ze.resolve()}getLastRemoteSnapshotVersion(e){return Ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ze.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Ze.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),Ze.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new em(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Ze.resolve()}updateTargetData(e,n){return this.hr(n),Ze.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Ze.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.ii.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ii.delete(a),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),Ze.waitFor(r).next(()=>s)}getTargetCount(e){return Ze.resolve(this.targetCount)}getTargetData(e,n){const i=this.ii.get(n)||null;return Ze.resolve(i)}addMatchingKeys(e,n,i){return this.oi.Kr(n,i),Ze.resolve()}removeMatchingKeys(e,n,i){this.oi.Gr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),Ze.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Ze.resolve()}getMatchingKeysForTargetId(e,n){const i=this.oi.Jr(n);return Ze.resolve(i)}containsKey(e,n){return Ze.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.ai={},this.overlays={},this.ui=new kb(0),this.ci=!1,this.ci=!0,this.li=new lW,this.referenceDelegate=e(this),this.hi=new dW(this),this.indexManager=new XH,this.remoteDocumentCache=function(s){return new cW(s)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new GH(n),this.Ti=new aW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ai[e.toKey()];return i||(i=new uW(n,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,i){vt("MemoryPersistence","Starting transaction:",e);const s=new fW(this.ui.next());return this.referenceDelegate.Ii(),i(s).next(r=>this.referenceDelegate.di(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ei(e,n){return Ze.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,n)))}}class fW extends Bq{constructor(e){super(),this.currentSequenceNumber=e}}class hS{constructor(e){this.persistence=e,this.Ai=new cS,this.Ri=null}static Vi(e){return new hS(e)}get mi(){if(this.Ri)return this.Ri;throw Ht(60996)}addReference(e,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),Ze.resolve()}removeReference(e,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),Ze.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Ze.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.mi.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ze.forEach(this.mi,i=>{const s=kt.fromPath(i);return this.fi(e,s).next(r=>{r||n.removeEntry(s,Zt.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Ze.or([()=>Ze.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class T1{constructor(e,n){this.persistence=e,this.gi=new Rf(i=>Hq(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=nW(this,n)}static Vi(e,n){return new T1(e,n)}Ii(){}di(e){return Ze.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}yr(e){let n=0;return this.gr(e,i=>{n++}).next(()=>n)}gr(e,n){return Ze.forEach(this.gi,(i,s)=>this.Sr(e,i,s).next(r=>r?Ze.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ri(e,a=>this.Sr(e,a,n).next(l=>{l||(i++,r.removeEntry(a,Zt.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Ze.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),Ze.resolve()}removeReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),Ze.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Ze.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yv(e.data.value)),n}Sr(e,n,i){return Ze.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return Ze.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Is=i,this.ds=s}static Es(e,n){let i=_n(),s=_n();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new dS(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return hz()?8:zq(Wr())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.ps(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ys(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new pW;return this.ws(e,n,a).next(l=>{if(r.result=l,this.Rs)return this.Ss(e,n,a,l.size)})}).next(()=>r.result)}Ss(e,n,i,s){return i.documentReadCount<this.Vs?(bp()<=xn.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",wp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ze.resolve()):(bp()<=xn.DEBUG&&vt("QueryEngine","Query:",wp(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(bp()<=xn.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",wp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wu(n))):Ze.resolve())}ps(e,n){if(tC(n))return Ze.resolve(null);let i=wu(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=i_(n,null,"F"),i=wu(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=_n(...r);return this.gs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const h=this.bs(n,l);return this.Ds(n,h,a,u.readTime)?this.ps(e,i_(n,null,"F")):this.vs(e,h,n,u)}))})))}ys(e,n,i,s){return tC(n)||s.isEqual(Zt.min())?Ze.resolve(null):this.gs.getDocuments(e,i).next(r=>{const a=this.bs(n,r);return this.Ds(n,a,i,s)?Ze.resolve(null):(bp()<=xn.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),wp(n)),this.vs(e,a,n,jq(s,u0)).next(l=>l))})}bs(e,n){let i=new Ws(_R(e));return n.forEach((s,r)=>{Db(e,r)&&(i=i.add(r))}),i}Ds(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ws(e,n,i){return bp()<=xn.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",wp(n)),this.gs.getDocumentsMatchingQuery(e,n,ld.min(),i)}vs(e,n,i,s){return this.gs.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="LocalStore",gW=3e8;class yW{constructor(e,n,i,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Ki(dn),this.Ms=new Rf(r=>sS(r),rS),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rW(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function vW(t,e,n,i){return new yW(t,e,n,i)}async function $R(t,e){const n=tn(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Ns(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],l=[];let u=_n();for(const h of s){a.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of r){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(h=>({Bs:h,removedBatchIds:a,addedBatchIds:l}))})})}function bW(t,e){const n=tn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.Os.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const p=h.batch,g=p.keys();let y=Ze.resolve();return g.forEach(x=>{y=y.next(()=>f.getEntry(u,x)).next(A=>{const T=h.docVersions.get(x);ei(T!==null,48541),A.version.compareTo(T)<0&&(p.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),f.addEntry(A)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=_n();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function YR(t){const e=tn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function wW(t,e){const n=tn(t),i=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const l=[];e.targetChanges.forEach((f,p)=>{const g=s.get(p);if(!g)return;l.push(n.hi.removeMatchingKeys(r,f.removedDocuments,p).next(()=>n.hi.addMatchingKeys(r,f.addedDocuments,p)));let y=g.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(or.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,i)),s=s.insert(p,y),function(A,T,E){return A.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=gW?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,y,f)&&l.push(n.hi.updateTargetData(r,y))});let u=Uc(),h=_n();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,f))}),l.push(xW(r,a,e.documentUpdates).next(f=>{u=f.Ls,h=f.ks})),!i.isEqual(Zt.min())){const f=n.hi.getLastRemoteSnapshotVersion(r).next(p=>n.hi.setTargetsMetadata(r,r.currentSequenceNumber,i));l.push(f)}return Ze.waitFor(l).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(n.Fs=s,r))}function xW(t,e,n){let i=_n(),s=_n();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=Uc();return n.forEach((l,u)=>{const h=r.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(Zt.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):vt(fS,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Ls:a,ks:s}})}function _W(t,e){const n=tn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=tS),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function SW(t,e){const n=tn(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.hi.getTargetData(i,e).next(r=>r?(s=r,Ze.resolve(s)):n.hi.allocateTargetId(i).next(a=>(s=new Kh(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Fs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(e,i.targetId)),i})}async function l_(t,e,n){const i=tn(t),s=i.Fs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!gm(a))throw a;vt(fS,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(s.target)}function pC(t,e,n){const i=tn(t);let s=Zt.min(),r=_n();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,f){const p=tn(u),g=p.Ms.get(f);return g!==void 0?Ze.resolve(p.Fs.get(g)):p.hi.getTargetData(h,f)}(i,a,wu(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{r=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,n?s:Zt.min(),n?r:_n())).next(l=>(AW(i,uH(e),l),{documents:l,qs:r})))}function AW(t,e,n){let i=t.xs.get(e)||Zt.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.xs.set(e,i)}class mC{constructor(){this.activeTargetIds=mH()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TW{constructor(){this.Fo=new mC,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,i){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new mC,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="ConnectivityMonitor";class yC{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){vt(gC,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){vt(gC,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fv=null;function u_(){return fv===null?fv=function(){return 268435456+Math.round(2147483648*Math.random())}():fv++,"0x"+fv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="RestConnection",CW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NW{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===w1?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,n,i,s,r){const a=u_(),l=this.Go(e,n.toUriEncodedString());vt(Vw,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,s,r);const{host:h}=new URL(l),f=bd(h);return this.jo(e,l,u,i,f).then(p=>(vt(Vw,`Received RPC '${e}' ${a}: `,p),p),p=>{throw Vc(Vw,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Jo(e,n,i,s,r,a){return this.Wo(e,n,i,s,r)}zo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pm}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}Go(e,n){const i=CW[e];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="WebChannelConnection";class kW extends NW{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,i,s,r){const a=u_();return new Promise((l,u)=>{const h=new $P;h.setWithCredentials(!0),h.listenOnce(YP.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case $v.NO_ERROR:const p=h.getResponseJson();vt(Mr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case $v.TIMEOUT:vt(Mr,`RPC '${e}' ${a} timed out`),u(new gt(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case $v.HTTP_ERROR:const g=h.getStatus();if(vt(Mr,`RPC '${e}' ${a} failed with status:`,g,"response text:",h.getResponseText()),g>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const A=function(E){const k=E.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(k)>=0?k:Ge.UNKNOWN}(x.status);u(new gt(A,x.message))}else u(new gt(Ge.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new gt(Ge.UNAVAILABLE,"Connection failed."));break;default:Ht(9055,{c_:e,streamId:a,l_:h.getLastErrorCode(),h_:h.getLastError()})}}finally{vt(Mr,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(s);vt(Mr,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",f,i,15)})}P_(e,n,i){const s=u_(),r=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=XP(),l=KP(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=r.join("");vt(Mr,`Creating RPC '${e}' stream ${s}: ${f}`,u);const p=a.createWebChannel(f,u);this.T_(p);let g=!1,y=!1;const x=new LW({Ho:T=>{y?vt(Mr,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(g||(vt(Mr,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),vt(Mr,`RPC '${e}' stream ${s} sending:`,T),p.send(T))},Yo:()=>p.close()}),A=(T,E,k)=>{T.listen(E,O=>{try{k(O)}catch(B){setTimeout(()=>{throw B},0)}})};return A(p,Lg.EventType.OPEN,()=>{y||(vt(Mr,`RPC '${e}' stream ${s} transport opened.`),x.s_())}),A(p,Lg.EventType.CLOSE,()=>{y||(y=!0,vt(Mr,`RPC '${e}' stream ${s} transport closed`),x.__(),this.I_(p))}),A(p,Lg.EventType.ERROR,T=>{y||(y=!0,Vc(Mr,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),x.__(new gt(Ge.UNAVAILABLE,"The operation could not be completed")))}),A(p,Lg.EventType.MESSAGE,T=>{var E;if(!y){const k=T.data[0];ei(!!k,16349);const O=k,B=O?.error||((E=O[0])===null||E===void 0?void 0:E.error);if(B){vt(Mr,`RPC '${e}' stream ${s} received error:`,B);const V=B.status;let Y=function(F){const H=Is[F];if(H!==void 0)return IR(H)}(V),I=B.message;Y===void 0&&(Y=Ge.INTERNAL,I="Unknown error status: "+V+" with message "+B.message),y=!0,x.__(new gt(Y,I)),p.close()}else vt(Mr,`RPC '${e}' stream ${s} received:`,k),x.a_(k)}}),A(l,GP.STAT_EVENT,T=>{T.stat===Xx.PROXY?vt(Mr,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Xx.NOPROXY&&vt(Mr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Uw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){return new IH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,i=1e3,s=1.5,r=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=s,this.A_=r,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-i);s>0&&vt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="PersistentStream";class KR{constructor(e,n,i,s,r,a,l,u){this.Fi=e,this.w_=i,this.S_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new GR(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===Ge.RESOURCE_EXHAUSTED?(Fc(n.toString()),Fc("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.b_===n&&this.W_(i,s)},i=>{e(()=>{const s=new gt(Ge.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)})})}W_(e,n){const i=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{i(()=>this.G_(s))}),this.stream.onMessage(s=>{i(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return vt(vC,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(vt(vC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PW extends KR{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=jH(this.serializer,e),i=function(r){if(!("targetChange"in r))return Zt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Zt.min():a.readTime?xu(a.readTime):Zt.min()}(e);return this.listener.J_(n,i)}H_(e){const n={};n.database=o_(this.serializer),n.addTarget=function(r,a){let l;const u=a.target;if(l=t_(u)?{documents:UH(r,u)}:{query:BH(r,u).Vt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=jR(r,a.resumeToken);const h=s_(r,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(Zt.min())>0){l.readTime=A1(r,a.snapshotVersion.toTimestamp());const h=s_(r,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const i=qH(this.serializer,e);i&&(n.labels=i),this.k_(n)}Y_(e){const n={};n.database=o_(this.serializer),n.removeTarget=e,this.k_(n)}}class RW extends KR{constructor(e,n,i,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ei(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ei(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ei(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=VH(e.writeResults,e.commitTime),i=xu(e.commitTime);return this.listener.ta(i,n)}na(){const e={};e.database=o_(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>FH(this.serializer,i))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{}class IW extends MW{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new gt(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Wo(e,r_(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new gt(Ge.UNKNOWN,r.toString())})}Jo(e,n,i,s,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Jo(e,r_(n,i),s,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new gt(Ge.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class DW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Fc(n),this._a=!1):vt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="RemoteStore";class OW{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=r,this.Ea.xo(a=>{i.enqueueAndForget(async()=>{Mf(this)&&(vt(Af,"Restarting streams for network reachability change."),await async function(u){const h=tn(u);h.Ia.add(4),await H0(h),h.Aa.set("Unknown"),h.Ia.delete(4),await Ub(h)}(this))})}),this.Aa=new DW(i,s)}}async function Ub(t){if(Mf(t))for(const e of t.da)await e(!0)}async function H0(t){for(const e of t.da)await e(!1)}function XR(t,e){const n=tn(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),yS(n)?gS(n):vm(n).x_()&&mS(n,e))}function pS(t,e){const n=tn(t),i=vm(n);n.Ta.delete(e),i.x_()&&QR(n,e),n.Ta.size===0&&(i.x_()?i.B_():Mf(n)&&n.Aa.set("Unknown"))}function mS(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Zt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vm(t).H_(e)}function QR(t,e){t.Ra.$e(e),vm(t).Y_(e)}function gS(t){t.Ra=new kH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),vm(t).start(),t.Aa.aa()}function yS(t){return Mf(t)&&!vm(t).M_()&&t.Ta.size>0}function Mf(t){return tn(t).Ia.size===0}function ZR(t){t.Ra=void 0}async function jW(t){t.Aa.set("Online")}async function FW(t){t.Ta.forEach((e,n)=>{mS(t,e)})}async function VW(t,e){ZR(t),yS(t)?(t.Aa.la(e),gS(t)):t.Aa.set("Unknown")}async function UW(t,e,n){if(t.Aa.set("Online"),e instanceof OR&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const l of r.targetIds)s.Ta.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ta.delete(l),s.Ra.removeTarget(l))}(t,e)}catch(i){vt(Af,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await E1(t,i)}else if(e instanceof Xv?t.Ra.Ye(e):e instanceof DR?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Zt.min()))try{const i=await YR(t.localStore);n.compareTo(i)>=0&&await function(r,a){const l=r.Ra.Pt(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=r.Ta.get(h);f&&r.Ta.set(h,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const f=r.Ta.get(u);if(!f)return;r.Ta.set(u,f.withResumeToken(or.EMPTY_BYTE_STRING,f.snapshotVersion)),QR(r,u);const p=new Kh(f.target,u,h,f.sequenceNumber);mS(r,p)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){vt(Af,"Failed to raise snapshot:",i),await E1(t,i)}}async function E1(t,e,n){if(!gm(e))throw e;t.Ia.add(1),await H0(t),t.Aa.set("Offline"),n||(n=()=>YR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{vt(Af,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Ub(t)})}function JR(t,e){return e().catch(n=>E1(t,n,e))}async function Bb(t){const e=tn(t),n=dd(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:tS;for(;BW(e);)try{const s=await _W(e.localStore,i);if(s===null){e.Pa.length===0&&n.B_();break}i=s.batchId,zW(e,s)}catch(s){await E1(e,s)}eM(e)&&tM(e)}function BW(t){return Mf(t)&&t.Pa.length<10}function zW(t,e){t.Pa.push(e);const n=dd(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function eM(t){return Mf(t)&&!dd(t).M_()&&t.Pa.length>0}function tM(t){dd(t).start()}async function qW(t){dd(t).na()}async function HW(t){const e=dd(t);for(const n of t.Pa)e.X_(n.mutations)}async function WW(t,e,n){const i=t.Pa.shift(),s=oS.from(i,e,n);await JR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Bb(t)}async function $W(t,e){e&&dd(t).Z_&&await async function(i,s){if(function(a){return NH(a)&&a!==Ge.ABORTED}(s.code)){const r=i.Pa.shift();dd(i).N_(),await JR(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Bb(i)}}(t,e),eM(t)&&tM(t)}async function bC(t,e){const n=tn(t);n.asyncQueue.verifyOperationInProgress(),vt(Af,"RemoteStore received new credentials");const i=Mf(n);n.Ia.add(3),await H0(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Ub(n)}async function YW(t,e){const n=tn(t);e?(n.Ia.delete(2),await Ub(n)):e||(n.Ia.add(2),await H0(n),n.Aa.set("Unknown"))}function vm(t){return t.Va||(t.Va=function(n,i,s){const r=tn(n);return r.ia(),new PW(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Zo:jW.bind(null,t),e_:FW.bind(null,t),n_:VW.bind(null,t),J_:UW.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),yS(t)?gS(t):t.Aa.set("Unknown")):(await t.Va.stop(),ZR(t))})),t.Va}function dd(t){return t.ma||(t.ma=function(n,i,s){const r=tn(n);return r.ia(),new RW(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:qW.bind(null,t),n_:$W.bind(null,t),ea:HW.bind(null,t),ta:WW.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Bb(t)):(await t.ma.stop(),t.Pa.length>0&&(vt(Af,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Pc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,l=new vS(e,n,a,s,r);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bS(t,e){if(Fc("AsyncQueue",`${e}: ${t}`),gm(t))return new gt(Ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static emptySet(e){return new Fp(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||kt.comparator(n.key,i.key):(n,i)=>kt.comparator(n.key,i.key),this.keyedMap=kg(),this.sortedSet=new Ki(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Fp;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.fa=new Ki(kt.comparator)}track(e){const n=e.doc.key,i=this.fa.get(n);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(n,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(n):e.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ht(63341,{At:e,ga:i}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,i)=>{e.push(i)}),e}}class tm{constructor(e,n,i,s,r,a,l,u,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new tm(e,n,Fp.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ib(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class KW{constructor(){this.queries=xC(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const s=tn(n),r=s.queries;s.queries=xC(),r.forEach((a,l)=>{for(const u of l.wa)u.onError(i)})})(this,new gt(Ge.ABORTED,"Firestore shutting down"))}}function xC(){return new Rf(t=>xR(t),Ib)}async function wS(t,e){const n=tn(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.Sa()&&e.ba()&&(i=2):(r=new GW,i=e.ba()?0:1);try{switch(i){case 0:r.ya=await n.onListen(s,!0);break;case 1:r.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=bS(a,`Initialization of query '${wp(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,r),r.wa.push(e),e.va(n.onlineState),r.ya&&e.Ca(r.ya)&&_S(n)}async function xS(t,e){const n=tn(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.wa.indexOf(e);a>=0&&(r.wa.splice(a,1),r.wa.length===0?s=e.ba()?0:1:!r.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function XW(t,e){const n=tn(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const l of a.wa)l.Ca(s)&&(i=!0);a.ya=s}}i&&_S(n)}function QW(t,e,n){const i=tn(t),s=i.queries.get(e);if(s)for(const r of s.wa)r.onError(n);i.queries.delete(e)}function _S(t){t.Da.forEach(e=>{e.next()})}var c_,_C;(_C=c_||(c_={})).Fa="default",_C.Cache="cache";class SS{constructor(e,n,i){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new tm(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=tm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==c_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.key=e}}class iM{constructor(e){this.key=e}}class ZW{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=_n(),this.mutatedKeys=_n(),this.Xa=_R(e),this.eu=new Fp(this.Xa)}get tu(){return this.Ha}nu(e,n){const i=n?n.ru:new wC,s=n?n.eu:this.eu;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,p)=>{const g=s.get(f),y=Db(this.query,p)?p:null,x=!!g&&this.mutatedKeys.has(g.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;g&&y?g.data.isEqual(y.data)?x!==A&&(i.track({type:3,doc:y}),T=!0):this.iu(g,y)||(i.track({type:2,doc:y}),T=!0,(u&&this.Xa(y,u)>0||h&&this.Xa(y,h)<0)&&(l=!0)):!g&&y?(i.track({type:0,doc:y}),T=!0):g&&!y&&(i.track({type:1,doc:g}),T=!0,(u||h)&&(l=!0)),T&&(y?(a=a.add(y),r=A?r.add(f):r.delete(f)):(a=a.delete(f),r=r.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),r=r.delete(f.key),i.track({type:1,doc:f})}return{eu:a,ru:i,Ds:l,mutatedKeys:r}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((f,p)=>function(y,x){const A=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht(20277,{At:T})}};return A(y)-A(x)}(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(i),s=s!=null&&s;const l=n&&!s?this.ou():[],u=this.Za.size===0&&this.current&&!s?1:0,h=u!==this.Ya;return this.Ya=u,a.length!==0||h?{snapshot:new tm(this.query,e.eu,r,a,e.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new wC,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=_n(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const n=[];return e.forEach(i=>{this.Za.has(i)||n.push(new iM(i))}),this.Za.forEach(i=>{e.has(i)||n.push(new nM(i))}),n}uu(e){this.Ha=e.qs,this.Za=_n();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return tm.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const AS="SyncEngine";class JW{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class e${constructor(e){this.key=e,this.lu=!1}}class t${constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new Rf(l=>xR(l),Ib),this.Tu=new Map,this.Iu=new Set,this.du=new Ki(kt.comparator),this.Eu=new Map,this.Au=new cS,this.Ru={},this.Vu=new Map,this.mu=em.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function n$(t,e,n=!0){const i=uM(t);let s;const r=i.Pu.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.cu()):s=await sM(i,e,n,!0),s}async function i$(t,e){const n=uM(t);await sM(n,e,!0,!1)}async function sM(t,e,n,i){const s=await SW(t.localStore,wu(e)),r=s.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let l;return i&&(l=await s$(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&XR(t.remoteStore,s),l}async function s$(t,e,n,i,s){t.gu=(p,g,y)=>async function(A,T,E,k){let O=T.view.nu(E);O.Ds&&(O=await pC(A.localStore,T.query,!1).then(({documents:I})=>T.view.nu(I,O)));const B=k&&k.targetChanges.get(T.targetId),V=k&&k.targetMismatches.get(T.targetId)!=null,Y=T.view.applyChanges(O,A.isPrimaryClient,B,V);return AC(A,T.targetId,Y._u),Y.snapshot}(t,p,g,y);const r=await pC(t.localStore,e,!0),a=new ZW(e,r.qs),l=a.nu(r.documents),u=q0.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),h=a.applyChanges(l,t.isPrimaryClient,u);AC(t,n,h._u);const f=new JW(e,n,a);return t.Pu.set(e,f),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),h.snapshot}async function r$(t,e,n){const i=tn(t),s=i.Pu.get(e),r=i.Tu.get(s.targetId);if(r.length>1)return i.Tu.set(s.targetId,r.filter(a=>!Ib(a,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await l_(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&pS(i.remoteStore,s.targetId),h_(i,s.targetId)}).catch(mm)):(h_(i,s.targetId),await l_(i.localStore,s.targetId,!0))}async function a$(t,e){const n=tn(t),i=n.Pu.get(e),s=n.Tu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),pS(n.remoteStore,i.targetId))}async function o$(t,e,n){const i=p$(t);try{const s=await function(a,l){const u=tn(a),h=_i.now(),f=l.reduce((y,x)=>y.add(x.key),_n());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=Uc(),A=_n();return u.Os.getEntries(y,f).next(T=>{x=T,x.forEach((E,k)=>{k.isValidDocument()||(A=A.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,x)).next(T=>{p=T;const E=[];for(const k of l){const O=SH(k,p.get(k.key).overlayedDocument);O!=null&&E.push(new xd(k.key,O,fR(O.value.mapValue),wl.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,E,l)}).next(T=>{g=T;const E=T.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(y,T.batchId,E)})}).then(()=>({batchId:g.batchId,changes:AR(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,l,u){let h=a.Ru[a.currentUser.toKey()];h||(h=new Ki(dn)),h=h.insert(l,u),a.Ru[a.currentUser.toKey()]=h}(i,s.batchId,n),await W0(i,s.changes),await Bb(i.remoteStore)}catch(s){const r=bS(s,"Failed to persist write");n.reject(r)}}async function rM(t,e){const n=tn(t);try{const i=await wW(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Eu.get(r);a&&(ei(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.lu=!0:s.modifiedDocuments.size>0?ei(a.lu,14607):s.removedDocuments.size>0&&(ei(a.lu,42227),a.lu=!1))}),await W0(n,i,e)}catch(i){await mm(i)}}function SC(t,e,n){const i=tn(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Pu.forEach((r,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const u=tn(a);u.onlineState=l;let h=!1;u.queries.forEach((f,p)=>{for(const g of p.wa)g.va(l)&&(h=!0)}),h&&_S(u)}(i.eventManager,e),s.length&&i.hu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function l$(t,e,n){const i=tn(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Eu.get(e),r=s&&s.key;if(r){let a=new Ki(kt.comparator);a=a.insert(r,Ur.newNoDocument(r,Zt.min()));const l=_n().add(r),u=new Fb(Zt.min(),new Map,new Ki(dn),a,l);await rM(i,u),i.du=i.du.remove(r),i.Eu.delete(e),TS(i)}else await l_(i.localStore,e,!1).then(()=>h_(i,e,n)).catch(mm)}async function u$(t,e){const n=tn(t),i=e.batch.batchId;try{const s=await bW(n.localStore,e);oM(n,i,null),aM(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await W0(n,s)}catch(s){await mm(s)}}async function c$(t,e,n){const i=tn(t);try{const s=await function(a,l){const u=tn(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(ei(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(i.localStore,e);oM(i,e,n),aM(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await W0(i,s)}catch(s){await mm(s)}}function aM(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function oM(t,e,n){const i=tn(t);let s=i.Ru[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.Ru[i.currentUser.toKey()]=s}}function h_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Tu.get(e))t.Pu.delete(i),n&&t.hu.pu(i,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(i=>{t.Au.containsKey(i)||lM(t,i)})}function lM(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(pS(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),TS(t))}function AC(t,e,n){for(const i of n)i instanceof nM?(t.Au.addReference(i.key,e),h$(t,i)):i instanceof iM?(vt(AS,"Document no longer in limbo: "+i.key),t.Au.removeReference(i.key,e),t.Au.containsKey(i.key)||lM(t,i.key)):Ht(19791,{yu:i})}function h$(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Iu.has(i)||(vt(AS,"New document in limbo: "+n),t.Iu.add(i),TS(t))}function TS(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new kt(xi.fromString(e)),i=t.mu.next();t.Eu.set(i,new e$(n)),t.du=t.du.insert(n,i),XR(t.remoteStore,new Kh(wu(Mb(n.path)),i,"TargetPurposeLimboResolution",kb.ue))}}async function W0(t,e,n){const i=tn(t),s=[],r=[],a=[];i.Pu.isEmpty()||(i.Pu.forEach((l,u)=>{a.push(i.gu(u,e,n).then(h=>{var f;if((h||n)&&i.isPrimaryClient){const p=h?!h.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){s.push(h);const p=dS.Es(u.targetId,h);r.push(p)}}))}),await Promise.all(a),i.hu.J_(s),await async function(u,h){const f=tn(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>Ze.forEach(h,g=>Ze.forEach(g.Is,y=>f.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>Ze.forEach(g.ds,y=>f.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!gm(p))throw p;vt(fS,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const y=f.Fs.get(g),x=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(x);f.Fs=f.Fs.insert(g,A)}}}(i.localStore,r))}async function d$(t,e){const n=tn(t);if(!n.currentUser.isEqual(e)){vt(AS,"User change. New user:",e.toKey());const i=await $R(n.localStore,e);n.currentUser=e,function(r,a){r.Vu.forEach(l=>{l.forEach(u=>{u.reject(new gt(Ge.CANCELLED,a))})}),r.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await W0(n,i.Bs)}}function f$(t,e){const n=tn(t),i=n.Eu.get(e);if(i&&i.lu)return _n().add(i.key);{let s=_n();const r=n.Tu.get(e);if(!r)return s;for(const a of r){const l=n.Pu.get(a);s=s.unionWith(l.view.tu)}return s}}function uM(t){const e=tn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l$.bind(null,e),e.hu.J_=XW.bind(null,e.eventManager),e.hu.pu=QW.bind(null,e.eventManager),e}function p$(t){const e=tn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c$.bind(null,e),e}class C1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vb(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return vW(this.persistence,new mW,e.initialUser,this.serializer)}Du(e){return new WR(hS.Vi,this.serializer)}bu(e){return new TW}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}C1.provider={build:()=>new C1};class m$ extends C1{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ei(this.persistence.referenceDelegate instanceof T1,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new eW(i,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?wa.withCacheSize(this.cacheSizeBytes):wa.DEFAULT;return new WR(i=>T1.Vi(i,n),this.serializer)}}class d_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>SC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=d$.bind(null,this.syncEngine),await YW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KW}()}createDatastore(e){const n=Vb(e.databaseInfo.databaseId),i=function(r){return new kW(r)}(e.databaseInfo);return function(r,a,l,u){return new IW(r,a,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,l){return new OW(i,s,r,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>SC(this.syncEngine,n,0),function(){return yC.C()?new yC:new EW}())}createSyncEngine(e,n){return function(s,r,a,l,u,h,f){const p=new t$(s,r,a,l,u,h);return f&&(p.fu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=tn(s);vt(Af,"RemoteStore shutting down."),r.Ia.add(5),await H0(r),r.Ea.shutdown(),r.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}d_.provider={build:()=>new d_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Fc("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="FirestoreClient";class g${constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Vr.UNAUTHENTICATED,this.clientId=Nb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{vt(fd,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(vt(fd,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=bS(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Bw(t,e){t.asyncQueue.verifyOperationInProgress(),vt(fd,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await $R(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>{Vc("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{vt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Vc("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function TC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y$(t);vt(fd,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>bC(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>bC(e.remoteStore,s)),t._onlineComponents=e}async function y$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){vt(fd,"Using user provided OfflineComponentProvider");try{await Bw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Ge.FAILED_PRECONDITION||s.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Vc("Error using user provided cache. Falling back to memory cache: "+n),await Bw(t,new C1)}}else vt(fd,"Using default OfflineComponentProvider"),await Bw(t,new m$(void 0));return t._offlineComponents}async function cM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(vt(fd,"Using user provided OnlineComponentProvider"),await TC(t,t._uninitializedComponentsProvider._online)):(vt(fd,"Using default OnlineComponentProvider"),await TC(t,new d_))),t._onlineComponents}function v$(t){return cM(t).then(e=>e.syncEngine)}async function N1(t){const e=await cM(t),n=e.eventManager;return n.onListen=n$.bind(null,e.syncEngine),n.onUnlisten=r$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a$.bind(null,e.syncEngine),n}function b$(t,e,n={}){const i=new Pc;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,l,u,h){const f=new ES({next:g=>{f.Ou(),a.enqueueAndForget(()=>xS(r,p));const y=g.docs.has(l);!y&&g.fromCache?h.reject(new gt(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?h.reject(new gt(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new SS(Mb(l.path),f,{includeMetadataChanges:!0,ka:!0});return wS(r,p)}(await N1(t),t.asyncQueue,e,n,i)),i.promise}function w$(t,e,n={}){const i=new Pc;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,l,u,h){const f=new ES({next:g=>{f.Ou(),a.enqueueAndForget(()=>xS(r,p)),g.fromCache&&u.source==="server"?h.reject(new gt(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new SS(l,f,{includeMetadataChanges:!0,ka:!0});return wS(r,p)}(await N1(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="firestore.googleapis.com",CC=!0;class NC{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new gt(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dM,this.ssl=CC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:CC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZH)throw new gt(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hM((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new gt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new gt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new gt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zb{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new gt(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new JP;switch(i.type){case"firstParty":return new Rq(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new gt(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=EC.get(n);i&&(vt("ComponentProvider","Removing Datastore"),EC.delete(n),i.terminate())}(this),Promise.resolve()}}function fM(t,e,n,i={}){var s;t=Ea(t,zb);const r=bd(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;r&&(K5(`https://${u}`),X5("Firestore",!0)),a.host!==dM&&a.host!==u&&Vc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:r,emulatorOptions:i});if(!xf(h,l)&&(t._setSettings(h),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Vr.MOCK_USER;else{f=VP(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new gt(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Vr(g)}t._authCredentials=new Lq(new ZP(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Qc(this.firestore,e,this._query)}}class Yi{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yi(this.firestore,e,this._key)}toJSON(){return{type:Yi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(B0(n,Yi._jsonSchema))return new Yi(e,i||null,new kt(xi.fromString(n.referencePath)))}}Yi._jsonSchemaVersion="firestore/documentReference/1.0",Yi._jsonSchema={type:js("string",Yi._jsonSchemaVersion),referencePath:js("string")};class Rc extends Qc{constructor(e,n,i){super(e,n,Mb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yi(this.firestore,null,new kt(e))}withConverter(e){return new Rc(this.firestore,e,this._path)}}function wn(t,e,...n){if(t=Gi(t),tR("collection","path",e),t instanceof zb){const i=xi.fromString(e,...n);return B4(i),new Rc(t,null,i)}{if(!(t instanceof Yi||t instanceof Rc))throw new gt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(xi.fromString(e,...n));return B4(i),new Rc(t.firestore,null,i)}}function yn(t,e,...n){if(t=Gi(t),arguments.length===1&&(e=Nb.newId()),tR("doc","path",e),t instanceof zb){const i=xi.fromString(e,...n);return U4(i),new Yi(t,null,new kt(i))}{if(!(t instanceof Yi||t instanceof Rc))throw new gt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(xi.fromString(e,...n));return U4(i),new Yi(t.firestore,t instanceof Rc?t.converter:null,new kt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="AsyncQueue";class kC{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new GR(this,"async_queue_retry"),this.oc=()=>{const i=Uw();i&&vt(LC,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const n=Uw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Uw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Pc;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!gm(e))throw e;vt(LC,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Fc("INTERNAL UNHANDLED ERROR: ",PC(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=vS.createAndSchedule(this,e,n,i,r=>this.lc(r));return this.ec.push(s),s}ac(){this.tc&&Ht(47125,{hc:PC(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function PC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Bc extends zb{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new kC,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kC(e),this._firestoreClient=void 0,await e}}}function Ca(t,e){const n=typeof t=="object"?t:J5(),i=typeof t=="string"?t:w1,s=Cb(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=OP("firestore");r&&fM(s,...r)}return s}function $0(t){if(t._terminated)throw new gt(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||x$(t),t._firestoreClient}function x$(t){var e,n,i;const s=t._freezeSettings(),r=function(l,u,h,f){return new Yq(l,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,hM(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new g$(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ja(or.fromBase64String(e))}catch(n){throw new gt(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ja(or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ja._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(B0(e,Ja._jsonSchema))return Ja.fromBase64String(e.bytes)}}Ja._jsonSchemaVersion="firestore/bytes/1.0",Ja._jsonSchema={type:js("string",Ja._jsonSchemaVersion),bytes:js("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new gt(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new gt(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new gt(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return dn(this._lat,e._lat)||dn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xl._jsonSchemaVersion}}static fromJSON(e){if(B0(e,xl._jsonSchema))return new xl(e.latitude,e.longitude)}}xl._jsonSchemaVersion="firestore/geoPoint/1.0",xl._jsonSchema={type:js("string",xl._jsonSchemaVersion),latitude:js("number"),longitude:js("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_l._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(B0(e,_l._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new _l(e.vectorValues);throw new gt(Ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_l._jsonSchemaVersion="firestore/vectorValue/1.0",_l._jsonSchema={type:js("string",_l._jsonSchemaVersion),vectorValues:js("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=/^__.*__$/;class S${constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new xd(e,this.data,this.fieldMask,n,this.fieldTransforms):new z0(e,this.data,n,this.fieldTransforms)}}class pM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new xd(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht(40011,{Ec:t})}}class CS{constructor(e,n,i,s,r,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ac(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new CS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:i,mc:!1});return s.fc(e),s}gc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return L1(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(mM(this.Ec)&&_$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class A${constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Vb(e)}Dc(e,n,i,s=!1){return new CS({Ec:e,methodName:n,bc:i,path:rr.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qb(t){const e=t._freezeSettings(),n=Vb(t._databaseId);return new A$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gM(t,e,n,i,s,r={}){const a=t.Dc(r.merge||r.mergeFields?2:0,e,n,s);LS("Data must be an object, but it was:",a,i);const l=yM(i,a);let u,h;if(r.merge)u=new eo(a.fieldMask),h=a.fieldTransforms;else if(r.mergeFields){const f=[];for(const p of r.mergeFields){const g=f_(e,p,n);if(!a.contains(g))throw new gt(Ge.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);bM(f,g)||f.push(g)}u=new eo(f),h=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=a.fieldTransforms;return new S$(new _a(l),u,h)}class Hb extends G0{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hb}}class NS extends G0{_toFieldTransform(e){return new bH(e.path,new f0)}isEqual(e){return e instanceof NS}}function T$(t,e,n,i){const s=t.Dc(1,e,n);LS("Data must be an object, but it was:",s,i);const r=[],a=_a.empty();wd(i,(u,h)=>{const f=kS(e,u,n);h=Gi(h);const p=s.gc(f);if(h instanceof Hb)r.push(f);else{const g=K0(h,p);g!=null&&(r.push(f),a.set(f,g))}});const l=new eo(r);return new pM(a,l,s.fieldTransforms)}function E$(t,e,n,i,s,r){const a=t.Dc(1,e,n),l=[f_(e,i,n)],u=[s];if(r.length%2!=0)throw new gt(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<r.length;g+=2)l.push(f_(e,r[g])),u.push(r[g+1]);const h=[],f=_a.empty();for(let g=l.length-1;g>=0;--g)if(!bM(h,l[g])){const y=l[g];let x=u[g];x=Gi(x);const A=a.gc(y);if(x instanceof Hb)h.push(y);else{const T=K0(x,A);T!=null&&(h.push(y),f.set(y,T))}}const p=new eo(h);return new pM(f,p,a.fieldTransforms)}function C$(t,e,n,i=!1){return K0(n,t.Dc(i?4:3,e))}function K0(t,e){if(vM(t=Gi(t)))return LS("Unsupported field value:",e,t),yM(t,e);if(t instanceof G0)return function(i,s){if(!mM(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const l of i){let u=K0(l,s.yc(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=Gi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gH(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=_i.fromDate(i);return{timestampValue:A1(s.serializer,r)}}if(i instanceof _i){const r=new _i(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:A1(s.serializer,r)}}if(i instanceof xl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ja)return{bytesValue:jR(s.serializer,i._byteString)};if(i instanceof Yi){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:uS(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof _l)return function(a,l){return{mapValue:{fields:{[hR]:{stringValue:dR},[x1]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.wc("VectorValues must only contain numeric values.");return aS(l.serializer,h)})}}}}}}(i,s);throw s.wc(`Unsupported field value: ${Lb(i)}`)}(t,e)}function yM(t,e){const n={};return rR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wd(t,(i,s)=>{const r=K0(s,e.Vc(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function vM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _i||t instanceof xl||t instanceof Ja||t instanceof Yi||t instanceof G0||t instanceof _l)}function LS(t,e,n){if(!vM(n)||!iR(n)){const i=Lb(n);throw i==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+i)}}function f_(t,e,n){if((e=Gi(e))instanceof Y0)return e._internalPath;if(typeof e=="string")return kS(t,e);throw L1("Field path arguments must be of type string or ",t,!1,void 0,n)}const N$=new RegExp("[~\\*/\\[\\]]");function kS(t,e,n){if(e.search(N$)>=0)throw L1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Y0(...e.split("."))._internalPath}catch{throw L1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function L1(t,e,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new gt(Ge.INVALID_ARGUMENT,l+t+u)}function bM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Yi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L$ extends wM{data(){return super.data()}}function Wb(t,e){return typeof e=="string"?kS(t,e):e instanceof Y0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new gt(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PS{}class RS extends PS{}function Mc(t,e,...n){let i=[];e instanceof PS&&i.push(e),i=i.concat(n),function(r){const a=r.filter(u=>u instanceof Yb).length,l=r.filter(u=>u instanceof X0).length;if(a>1||a>0&&l>0)throw new gt(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class X0 extends RS{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new X0(e,n,i)}_apply(e){const n=this._parse(e);return _M(e._query,n),new Qc(e.firestore,e.converter,n_(e._query,n))}_parse(e){const n=qb(e.firestore);return function(r,a,l,u,h,f,p){let g;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new gt(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){IC(p,f);const x=[];for(const A of p)x.push(MC(u,r,A));g={arrayValue:{values:x}}}else g=MC(u,r,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||IC(p,f),g=C$(l,a,p,f==="in"||f==="not-in");return Os.create(h,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $b(t,e,n){const i=e,s=Wb("where",t);return X0._create(s,i,n)}class Yb extends PS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yb(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Tl.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let a=s;const l=r.getFlattenedFilters();for(const u of l)_M(a,u),a=n_(a,u)}(e._query,n),new Qc(e.firestore,e.converter,n_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gb extends RS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gb(e,n)}_apply(e){const n=function(s,r,a){if(s.startAt!==null)throw new gt(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new gt(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new d0(r,a)}(e._query,this._field,this._direction);return new Qc(e.firestore,e.converter,function(s,r){const a=s.explicitOrderBy.concat([r]);return new ym(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function p_(t,e="asc"){const n=e,i=Wb("orderBy",t);return Gb._create(i,n)}function MC(t,e,n){if(typeof(n=Gi(n))=="string"){if(n==="")throw new gt(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wR(e)&&n.indexOf("/")!==-1)throw new gt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(xi.fromString(n));if(!kt.isDocumentKey(i))throw new gt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return K4(t,new kt(i))}if(n instanceof Yi)return K4(t,n._key);throw new gt(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lb(n)}.`)}function IC(t,e){if(!Array.isArray(t)||t.length===0)throw new gt(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _M(t,e){const n=function(s,r){for(const a of s)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new gt(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new gt(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SM{convertValue(e,n="none"){switch(hd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ss(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ht(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return wd(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)===null||n===void 0?void 0:n[x1].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>Ss(a.doubleValue));return new _l(r)}convertGeoPoint(e){return new xl(Ss(e.latitude),Ss(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Rb(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(c0(e));default:return null}}convertTimestamp(e){const n=ud(e);return new _i(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=xi.fromString(e);ei(qR(i),9688,{name:e});const s=new Qp(i.get(1),i.get(3)),r=new kt(i.popFirst(5));return s.isEqual(n)||Fc(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Cp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sd extends wM{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Wb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(Ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sd._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sd._jsonSchemaVersion="firestore/documentSnapshot/1.0",sd._jsonSchema={type:js("string",sd._jsonSchemaVersion),bundleSource:js("string","DocumentSnapshot"),bundleName:js("string"),bundle:js("string")};class zg extends sd{data(e={}){return super.data(e)}}class rd{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Cp(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new zg(this._firestore,this._userDataWriter,i.key,i,new Cp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new gt(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const u=new zg(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Cp(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const u=new zg(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Cp(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,f=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:k$(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(Ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function k$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t){t=Ea(t,Yi);const e=Ea(t.firestore,Bc);return b$($0(e),t._key).then(n=>TM(e,t,n))}rd._jsonSchemaVersion="firestore/querySnapshot/1.0",rd._jsonSchema={type:js("string",rd._jsonSchemaVersion),bundleSource:js("string","QuerySnapshot"),bundleName:js("string"),bundle:js("string")};class MS extends SM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yi(this.firestore,null,n)}}function ta(t){t=Ea(t,Qc);const e=Ea(t.firestore,Bc),n=$0(e),i=new MS(e);return xM(t._query),w$(n,t._query).then(s=>new rd(e,i,t,s))}function Io(t,e,n){t=Ea(t,Yi);const i=Ea(t.firestore,Bc),s=AM(t.converter,e,n);return Kb(i,[gM(qb(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,wl.none())])}function xa(t,e,n,...i){t=Ea(t,Yi);const s=Ea(t.firestore,Bc),r=qb(s);let a;return a=typeof(e=Gi(e))=="string"||e instanceof Y0?E$(r,"updateDoc",t._key,e,n,i):T$(r,"updateDoc",t._key,e),Kb(s,[a.toMutation(t._key,wl.exists(!0))])}function ku(t,e){const n=Ea(t.firestore,Bc),i=yn(t),s=AM(t.converter,e);return Kb(n,[gM(qb(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,wl.exists(!1))]).then(()=>i)}function El(t,...e){var n,i,s;t=Gi(t);let r={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||RC(e[a])||(r=e[a++]);const l={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(RC(e[a])){const p=e[a];e[a]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[a+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),e[a+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let u,h,f;if(t instanceof Yi)h=Ea(t.firestore,Bc),f=Mb(t._key.path),u={next:p=>{e[a]&&e[a](TM(h,t,p))},error:e[a+1],complete:e[a+2]};else{const p=Ea(t,Qc);h=Ea(p.firestore,Bc),f=p._query;const g=new MS(h);u={next:y=>{e[a]&&e[a](new rd(h,g,p,y))},error:e[a+1],complete:e[a+2]},xM(t._query)}return function(g,y,x,A){const T=new ES(A),E=new SS(y,T,x);return g.asyncQueue.enqueueAndForget(async()=>wS(await N1(g),E)),()=>{T.Ou(),g.asyncQueue.enqueueAndForget(async()=>xS(await N1(g),E))}}($0(h),f,l,u)}function Kb(t,e){return function(i,s){const r=new Pc;return i.asyncQueue.enqueueAndForget(async()=>o$(await v$(i),s,r)),r.promise}($0(t),e)}function TM(t,e,n){const i=n.docs.get(e._key),s=new MS(t);return new sd(t,s,e._key,i,new Cp(n.hasPendingWrites,n.fromCache),e.converter)}function Na(){return new NS("serverTimestamp")}(function(e,n=!0){(function(s){pm=s})(Pf),_f(new od("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),l=new Bc(new kq(i.getProvider("auth-internal")),new Mq(a,i.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new gt(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qp(h.options.projectId,f)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),bu(D4,O4,e),bu(D4,O4,"esm2017")})();const P$=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:SM,Bytes:Ja,CollectionReference:Rc,DocumentReference:Yi,DocumentSnapshot:sd,FieldPath:Y0,FieldValue:G0,Firestore:Bc,FirestoreError:gt,GeoPoint:xl,Query:Qc,QueryCompositeFilterConstraint:Yb,QueryConstraint:RS,QueryDocumentSnapshot:zg,QueryFieldFilterConstraint:X0,QueryOrderByConstraint:Gb,QuerySnapshot:rd,SnapshotMetadata:Cp,Timestamp:_i,VectorValue:_l,_AutoId:Nb,_ByteString:or,_DatabaseId:Qp,_DocumentKey:kt,_EmptyAuthCredentialsProvider:JP,_FieldPath:rr,_cast:Ea,_logWarn:Vc,_validateIsNotUsedTogether:nR,addDoc:ku,collection:wn,connectFirestoreEmulator:fM,doc:yn,ensureFirestoreConfigured:$0,executeWrite:Kb,getDoc:Oi,getDocs:ta,getFirestore:Ca,onSnapshot:El,orderBy:p_,query:Mc,serverTimestamp:Na,setDoc:Io,updateDoc:xa,where:$b},Symbol.toStringTag,{value:"Module"}));var R$="firebase",M$="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bu(R$,M$,"app");function IS(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function EM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I$=EM,CM=new V0("auth","Firebase",EM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Q5("@firebase/auth");function D$(t,...e){k1.logLevel<=xn.WARN&&k1.warn(`Auth (${Pf}): ${t}`,...e)}function Qv(t,...e){k1.logLevel<=xn.ERROR&&k1.error(`Auth (${Pf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t,...e){throw DS(t,...e)}function _u(t,...e){return DS(t,...e)}function NM(t,e,n){const i=Object.assign(Object.assign({},I$()),{[e]:n});return new V0("auth","Firebase",i).create(e,{appName:t.name})}function Ic(t){return NM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DS(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return CM.create(t,...e)}function qt(t,e,...n){if(!t)throw DS(e,...n)}function Tc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qv(e),new Error(e)}function zc(t,e){t||Tc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function O$(){return DC()==="http:"||DC()==="https:"}function DC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O$()||lz()||"connection"in navigator)?navigator.onLine:!0}function F$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.shortDelay=e,this.longDelay=n,zc(n>e,"Short delay should be less than long delay!"),this.isMobile=rz()||uz()}get(){return j$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t,e){zc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B$=new Q0(3e4,6e4);function _d(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Sd(t,e,n,i,s={}){return kM(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const l=U0(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},r);return oz()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&bd(t.emulatorConfig.host)&&(h.credentials="include"),LM.fetch()(await PM(t,t.config.apiHost,n,l),h)})}async function kM(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},V$),e);try{const s=new q$(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw pv(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw pv(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw pv(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw pv(t,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw NM(t,f,h);Cl(t,f)}}catch(s){if(s instanceof Ou)throw s;Cl(t,"network-request-failed",{message:String(s)})}}async function Z0(t,e,n,i,s={}){const r=await Sd(t,e,n,i,s);return"mfaPendingCredential"in r&&Cl(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function PM(t,e,n,i){const s=`${e}${n}?${i}`,r=t,a=r.config.emulator?OS(t.config,s):`${t.config.apiScheme}://${s}`;return U$.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function z$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class q${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(_u(this.auth,"network-request-failed")),B$.get())})}}function pv(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=_u(t,e,i);return s.customData._tokenResponse=n,s}function OC(t){return t!==void 0&&t.enterprise!==void 0}class H${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return z$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function W$(t,e){return Sd(t,"GET","/v2/recaptchaConfig",_d(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $$(t,e){return Sd(t,"POST","/v1/accounts:delete",e)}async function P1(t,e){return Sd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y$(t,e=!1){const n=Gi(t),i=await n.getIdToken(e),s=jS(i);qt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r?.sign_in_provider;return{claims:s,token:i,authTime:qg(zw(s.auth_time)),issuedAtTime:qg(zw(s.iat)),expirationTime:qg(zw(s.exp)),signInProvider:a||null,signInSecondFactor:r?.sign_in_second_factor||null}}function zw(t){return Number(t)*1e3}function jS(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Qv("JWT malformed, contained fewer than 3 sections"),null;try{const s=IP(n);return s?JSON.parse(s):(Qv("Failed to decode base64 JWT payload"),null)}catch(s){return Qv("Caught error parsing JWT payload as JSON",s?.toString()),null}}function jC(t){const e=jS(t);return qt(e,"internal-error"),qt(typeof e.exp<"u","internal-error"),qt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g0(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ou&&G$(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function G$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qg(this.lastLoginAt),this.creationTime=qg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(t){var e;const n=t.auth,i=await t.getIdToken(),s=await g0(t,P1(n,{idToken:i}));qt(s?.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?RM(r.providerUserInfo):[],l=Q$(t.providerData,a),u=t.isAnonymous,h=!(t.email&&r.passwordHash)&&!l?.length,f=u?h:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new g_(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function X$(t){const e=Gi(t);await R1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q$(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function RM(t){return t.map(e=>{var{providerId:n}=e,i=IS(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$(t,e){const n=await kM(t,{},async()=>{const i=U0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=await PM(t,s,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&bd(t.emulatorConfig.host)&&(u.credentials="include"),LM.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function J$(t,e){return Sd(t,"POST","/v2/accounts:revokeToken",_d(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qt(e.idToken,"internal-error"),qt(typeof e.idToken<"u","internal-error"),qt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qt(e.length!==0,"internal-error");const n=jC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await Z$(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Vp;return i&&(qt(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(qt(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(qt(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vp,this.toJSON())}_performRefresh(){return Tc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t,e){qt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bl{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=IS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new g_(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await g0(this,this.stsTokenManager.getToken(this.auth,e));return qt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y$(this,e)}reload(){return X$(this)}_assign(e){this!==e&&(qt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await R1(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Za(this.auth.app))return Promise.reject(Ic(this.auth));const e=await this.getIdToken();return await g0(this,$$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,a,l,u,h,f;const p=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,y=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,A=(l=n.tenantId)!==null&&l!==void 0?l:void 0,T=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(h=n.createdAt)!==null&&h!==void 0?h:void 0,k=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:O,emailVerified:B,isAnonymous:V,providerData:Y,stsTokenManager:I}=n;qt(O&&I,e,"internal-error");const P=Vp.fromJSON(this.name,I);qt(typeof O=="string",e,"internal-error"),Dh(p,e.name),Dh(g,e.name),qt(typeof B=="boolean",e,"internal-error"),qt(typeof V=="boolean",e,"internal-error"),Dh(y,e.name),Dh(x,e.name),Dh(A,e.name),Dh(T,e.name),Dh(E,e.name),Dh(k,e.name);const F=new bl({uid:O,auth:e,email:g,emailVerified:B,displayName:p,isAnonymous:V,photoURL:x,phoneNumber:y,tenantId:A,stsTokenManager:P,createdAt:E,lastLoginAt:k});return Y&&Array.isArray(Y)&&(F.providerData=Y.map(H=>Object.assign({},H))),T&&(F._redirectEventId=T),F}static async _fromIdTokenResponse(e,n,i=!1){const s=new Vp;s.updateFromServerResponse(n);const r=new bl({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await R1(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];qt(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?RM(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!r?.length,l=new Vp;l.updateFromIdToken(i);const u=new bl({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new g_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!r?.length};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new Map;function Ec(t){zc(t instanceof Function,"Expected a class definition");let e=FC.get(t);return e?(zc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MM.type="NONE";const VC=MM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t,e,n){return`firebase:${t}:${e}:${n}`}class Up{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Zv(this.userKey,s.apiKey,r),this.fullPersistenceKey=Zv("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await P1(this.auth,{idToken:e}).catch(()=>{});return n?bl._fromGetAccountInfoResponse(this.auth,n,e):null}return bl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Up(Ec(VC),e,i);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||Ec(VC);const a=Zv(i,e.config.apiKey,e.name);let l=null;for(const h of n)try{const f=await h._get(a);if(f){let p;if(typeof f=="string"){const g=await P1(e,{idToken:f}).catch(()=>{});if(!g)break;p=await bl._fromGetAccountInfoResponse(e,g,f)}else p=bl._fromJSON(e,f);h!==r&&(l=p),r=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new Up(r,e,i):(r=u[0],l&&await r._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new Up(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VM(e))return"Blackberry";if(UM(e))return"Webos";if(DM(e))return"Safari";if((e.includes("chrome/")||OM(e))&&!e.includes("edge/"))return"Chrome";if(FM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function IM(t=Wr()){return/firefox\//i.test(t)}function DM(t=Wr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OM(t=Wr()){return/crios\//i.test(t)}function jM(t=Wr()){return/iemobile/i.test(t)}function FM(t=Wr()){return/android/i.test(t)}function VM(t=Wr()){return/blackberry/i.test(t)}function UM(t=Wr()){return/webos/i.test(t)}function FS(t=Wr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eY(t=Wr()){var e;return FS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tY(){return cz()&&document.documentMode===10}function BM(t=Wr()){return FS(t)||FM(t)||UM(t)||VM(t)||/windows phone/i.test(t)||jM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t,e=[]){let n;switch(t){case"Browser":n=UC(Wr());break;case"Worker":n=`${UC(Wr())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pf}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,l)=>{try{const u=e(r);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iY(t,e={}){return Sd(t,"GET","/v2/passwordPolicy",_d(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY=6;class rY{constructor(e){var n,i,s,r;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:sY,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(r=u.containsUppercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BC(this),this.idTokenSubscription=new BC(this),this.beforeStateQueue=new nY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ec(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await Up.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await P1(this,{idToken:e}),i=await bl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Za(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await R1(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Za(this.app))return Promise.reject(Ic(this));const n=e?Gi(e):null;return n&&qt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Za(this.app)?Promise.reject(Ic(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Za(this.app)?Promise.reject(Ic(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ec(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iY(this),n=new rY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new V0("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await J$(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ec(e)||this._popupRedirectResolver;qt(n,this,"argument-error"),this.redirectPersistenceManager=await Up.create(this,[Ec(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(qt(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Za(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&D$(`Error while retrieving App Check token: ${n.error}`),n?.token}}function If(t){return Gi(t)}class BC{constructor(e){this.auth=e,this.observer=null,this.addObserver=vz(n=>this.observer=n)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oY(t){Xb=t}function qM(t){return Xb.loadJS(t)}function lY(){return Xb.recaptchaEnterpriseScript}function uY(){return Xb.gapiScript}function cY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class hY{constructor(){this.enterprise=new dY}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dY{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fY="recaptcha-enterprise",HM="NO_RECAPTCHA";class pY{constructor(e){this.type=fY,this.auth=If(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,l)=>{W$(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new H$(u);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,a(h.siteKey)}}).catch(u=>{l(u)})})}function s(r,a,l){const u=window.grecaptcha;OC(u)?u.enterprise.ready(()=>{u.enterprise.execute(r,{action:e}).then(h=>{a(h)}).catch(()=>{a(HM)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hY().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{i(this.auth).then(l=>{if(!n&&OC(window.grecaptcha))s(l,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=lY();u.length!==0&&(u+=l),qM(u).then(()=>{s(l,r,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})}}async function zC(t,e,n,i=!1,s=!1){const r=new pY(t);let a;if(s)a=HM;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function y_(t,e,n,i,s){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await zC(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await zC(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mY(t,e){const n=Cb(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(xf(r,e??{}))return s;Cl(s,"already-initialized")}return n.initialize({options:e})}function gY(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ec);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function yY(t,e,n){const i=If(t);qt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=WM(e),{host:a,port:l}=vY(e),u=l===null?"":`:${l}`,h={url:`${r}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){qt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),qt(xf(h,i.config.emulator)&&xf(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,bd(a)?(K5(`${r}//${a}${u}`),X5("Auth",!0)):bY()}function WM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vY(t){const e=WM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:qC(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:qC(a)}}}function qC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tc("not implemented")}_getIdTokenResponse(e){return Tc("not implemented")}_linkToIdToken(e,n){return Tc("not implemented")}_getReauthenticationResolver(e){return Tc("not implemented")}}async function wY(t,e){return Sd(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xY(t,e){return Z0(t,"POST","/v1/accounts:signInWithPassword",_d(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Y(t,e){return Z0(t,"POST","/v1/accounts:signInWithEmailLink",_d(t,e))}async function SY(t,e){return Z0(t,"POST","/v1/accounts:signInWithEmailLink",_d(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends VS{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new y0(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new y0(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y_(e,n,"signInWithPassword",xY);case"emailLink":return _Y(e,{email:this._email,oobCode:this._password});default:Cl(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y_(e,i,"signUpPassword",wY);case"emailLink":return SY(e,{idToken:n,email:this._email,oobCode:this._password});default:Cl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bp(t,e){return Z0(t,"POST","/v1/accounts:signInWithIdp",_d(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY="http://localhost";class Tf extends VS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Tf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=IS(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Tf(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Bp(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Bp(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bp(e,n)}buildRequest(){const e={requestUri:AY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=U0(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EY(t){const e=Cg(Ng(t)).link,n=e?Cg(Ng(e)).deep_link_id:null,i=Cg(Ng(t)).deep_link_id;return(i?Cg(Ng(i)).link:null)||i||n||e||t}class US{constructor(e){var n,i,s,r,a,l;const u=Cg(Ng(e)),h=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(i=u.oobCode)!==null&&i!==void 0?i:null,p=TY((s=u.mode)!==null&&s!==void 0?s:null);qt(h&&f&&p,"argument-error"),this.apiKey=h,this.operation=p,this.code=f,this.continueUrl=(r=u.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(a=u.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=EY(e);try{return new US(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.providerId=bm.PROVIDER_ID}static credential(e,n){return y0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=US.parseLink(n);return qt(i,"argument-error"),y0._fromEmailAndCode(e,i.code,i.tenantId)}}bm.PROVIDER_ID="password";bm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends $M{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends J0{constructor(){super("facebook.com")}static credential(e){return Tf._fromParams({providerId:Bh.PROVIDER_ID,signInMethod:Bh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bh.credentialFromTaggedObject(e)}static credentialFromError(e){return Bh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bh.credential(e.oauthAccessToken)}catch{return null}}}Bh.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends J0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Tf._fromParams({providerId:zh.PROVIDER_ID,signInMethod:zh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zh.credentialFromTaggedObject(e)}static credentialFromError(e){return zh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return zh.credential(n,i)}catch{return null}}}zh.GOOGLE_SIGN_IN_METHOD="google.com";zh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends J0{constructor(){super("github.com")}static credential(e){return Tf._fromParams({providerId:qh.PROVIDER_ID,signInMethod:qh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qh.credentialFromTaggedObject(e)}static credentialFromError(e){return qh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qh.credential(e.oauthAccessToken)}catch{return null}}}qh.GITHUB_SIGN_IN_METHOD="github.com";qh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends J0{constructor(){super("twitter.com")}static credential(e,n){return Tf._fromParams({providerId:Hh.PROVIDER_ID,signInMethod:Hh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hh.credentialFromTaggedObject(e)}static credentialFromError(e){return Hh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Hh.credential(n,i)}catch{return null}}}Hh.TWITTER_SIGN_IN_METHOD="twitter.com";Hh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CY(t,e){return Z0(t,"POST","/v1/accounts:signUp",_d(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await bl._fromIdTokenResponse(e,i,s),a=HC(i);return new Ef({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=HC(i);return new Ef({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function HC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1 extends Ou{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,M1.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new M1(e,n,i,s)}}function YM(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?M1._fromErrorAndOperation(t,r,e,i):r})}async function NY(t,e,n=!1){const i=await g0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ef._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LY(t,e,n=!1){const{auth:i}=t;if(Za(i.app))return Promise.reject(Ic(i));const s="reauthenticate";try{const r=await g0(t,YM(i,s,e,t),n);qt(r.idToken,i,"internal-error");const a=jS(r.idToken);qt(a,i,"internal-error");const{sub:l}=a;return qt(t.uid===l,i,"user-mismatch"),Ef._forOperation(t,s,r)}catch(r){throw r?.code==="auth/user-not-found"&&Cl(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(t,e,n=!1){if(Za(t.app))return Promise.reject(Ic(t));const i="signIn",s=await YM(t,i,e),r=await Ef._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function kY(t,e){return GM(If(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(t){const e=If(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PY(t,e,n){if(Za(t.app))return Promise.reject(Ic(t));const i=If(t),a=await y_(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CY).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&KM(t),u}),l=await Ef._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function RY(t,e,n){return Za(t.app)?Promise.reject(Ic(t)):kY(Gi(t),bm.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&KM(t),i})}function MY(t,e,n,i){return Gi(t).onIdTokenChanged(e,n,i)}function IY(t,e,n){return Gi(t).beforeAuthStateChanged(e,n)}function BS(t,e,n,i){return Gi(t).onAuthStateChanged(e,n,i)}function Qb(t){return Gi(t).signOut()}const I1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(I1,"1"),this.storage.removeItem(I1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DY=1e3,OY=10;class QM extends XM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);tY()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,OY):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},DY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QM.type="LOCAL";const jY=QM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM extends XM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZM.type="SESSION";const JM=ZM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Zb(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async h=>h(n.origin,r)),u=await FY(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,u)=>{const h=zS("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(g.data.response);break;default:clearTimeout(f),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(){return window}function UY(t){Su().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(){return typeof Su().WorkerGlobalScope<"u"&&typeof Su().importScripts=="function"}async function BY(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zY(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qY(){return eI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="firebaseLocalStorageDb",HY=1,D1="firebaseLocalStorage",nI="fbase_key";class ey{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jb(t,e){return t.transaction([D1],e?"readwrite":"readonly").objectStore(D1)}function WY(){const t=indexedDB.deleteDatabase(tI);return new ey(t).toPromise()}function v_(){const t=indexedDB.open(tI,HY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(D1,{keyPath:nI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(D1)?e(i):(i.close(),await WY(),e(await v_()))})})}async function WC(t,e,n){const i=Jb(t,!0).put({[nI]:e,value:n});return new ey(i).toPromise()}async function $Y(t,e){const n=Jb(t,!1).get(e),i=await new ey(n).toPromise();return i===void 0?null:i.value}function $C(t,e){const n=Jb(t,!0).delete(e);return new ey(n).toPromise()}const YY=800,GY=3;class iI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>GY)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zb._getInstance(qY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await BY(),!this.activeServiceWorker)return;this.sender=new VY(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await v_();return await WC(e,I1,"1"),await $C(e,I1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>WC(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>$Y(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$C(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Jb(s,!1).getAll();return new ey(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iI.type="LOCAL";const KY=iI;new Q0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XY(t,e){return e?Ec(e):(qt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS extends VS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QY(t){return GM(t.auth,new qS(t),t.bypassAuthState)}function ZY(t){const{auth:e,user:n}=t;return qt(n,e,"internal-error"),LY(n,new qS(t),t.bypassAuthState)}async function JY(t){const{auth:e,user:n}=t;return qt(n,e,"internal-error"),NY(n,new qS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QY;case"linkViaPopup":case"linkViaRedirect":return JY;case"reauthViaPopup":case"reauthViaRedirect":return ZY;default:Cl(this.auth,"internal-error")}}resolve(e){zc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG=new Q0(2e3,1e4);class Np extends sI{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Np.currentPopupAction&&Np.currentPopupAction.cancel(),Np.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qt(e,this.auth,"internal-error"),e}async onExecution(){zc(this.filter.length===1,"Popup operations only handle one event");const e=zS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_u(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_u(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Np.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_u(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eG.get())};e()}}Np.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG="pendingRedirect",Jv=new Map;class nG extends sI{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Jv.get(this.auth._key());if(!e){try{const i=await iG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Jv.set(this.auth._key(),e)}return this.bypassAuthState||Jv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iG(t,e){const n=aG(e),i=rG(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function sG(t,e){Jv.set(t._key(),e)}function rG(t){return Ec(t._redirectPersistence)}function aG(t){return Zv(tG,t.config.apiKey,t.name)}async function oG(t,e,n=!1){if(Za(t.app))return Promise.reject(Ic(t));const i=If(t),s=XY(i,e),a=await new nG(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=10*60*1e3;class uG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!rI(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(_u(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lG&&this.cachedEventUids.clear(),this.cachedEventUids.has(YC(e))}saveEventToCache(e){this.cachedEventUids.add(YC(e)),this.lastProcessedEventTime=Date.now()}}function YC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function cG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hG(t,e={}){return Sd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fG=/^https?/;async function pG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hG(t);for(const n of e)try{if(mG(n))return}catch{}Cl(t,"unauthorized-domain")}function mG(t){const e=m_(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!fG.test(n))return!1;if(dG.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG=new Q0(3e4,6e4);function GC(){const t=Su().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yG(t){return new Promise((e,n)=>{var i,s,r;function a(){GC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GC(),n(_u(t,"network-request-failed"))},timeout:gG.get()})}if(!((s=(i=Su().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Su().gapi)===null||r===void 0)&&r.load)a();else{const l=cY("iframefcb");return Su()[l]=()=>{gapi.load?a():n(_u(t,"network-request-failed"))},qM(`${uY()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw e1=null,e})}let e1=null;function vG(t){return e1=e1||yG(t),e1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG=new Q0(5e3,15e3),wG="__/auth/iframe",xG="emulator/auth/iframe",_G={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AG(t){const e=t.config;qt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?OS(e,xG):`https://${t.config.authDomain}/${wG}`,i={apiKey:e.apiKey,appName:t.name,v:Pf},s=SG.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${U0(i).slice(1)}`}async function TG(t){const e=await vG(t),n=Su().gapi;return qt(n,t,"internal-error"),e.open({where:document.body,url:AG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_G,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=_u(t,"network-request-failed"),l=Su().setTimeout(()=>{r(a)},bG.get());function u(){Su().clearTimeout(l),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CG=500,NG=600,LG="_blank",kG="http://localhost";class KC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PG(t,e,n,i=CG,s=NG){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},EG),{width:i.toString(),height:s.toString(),top:r,left:a}),h=Wr().toLowerCase();n&&(l=OM(h)?LG:n),IM(h)&&(e=e||kG,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[y,x])=>`${g}${y}=${x},`,"");if(eY(h)&&l!=="_self")return RG(e||"",l),new KC(null);const p=window.open(e||"",l,f);qt(p,t,"popup-blocked");try{p.focus()}catch{}return new KC(p)}function RG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG="__/auth/handler",IG="emulator/auth/handler",DG=encodeURIComponent("fac");async function XC(t,e,n,i,s,r){qt(t.config.authDomain,t,"auth-domain-config-required"),qt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Pf,eventId:s};if(e instanceof $M){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",yz(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))a[f]=p}if(e instanceof J0){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),h=u?`#${DG}=${encodeURIComponent(u)}`:"";return`${OG(t)}?${U0(l).slice(1)}${h}`}function OG({config:t}){return t.emulator?OS(t,IG):`https://${t.authDomain}/${MG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="webStorageSupport";class jG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JM,this._completeRedirectFn=oG,this._overrideRedirectResult=sG}async _openPopup(e,n,i,s){var r;zc((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await XC(e,n,i,m_(),s);return PG(e,a,zS())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await XC(e,n,i,m_(),s);return UY(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(zc(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await TG(e),i=new uG(e);return n.register("authEvent",s=>(qt(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qw,{type:qw},s=>{var r;const a=(r=s?.[0])===null||r===void 0?void 0:r[qw];a!==void 0&&n(!!a),Cl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BM()||DM()||FS()}}const FG=jG;var QC="@firebase/auth",ZC="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BG(t){_f(new od("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;qt(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zM(t)},h=new aY(i,s,r,u);return gY(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),_f(new od("auth-internal",e=>{const n=If(e.getProvider("auth").getImmediate());return(i=>new VG(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bu(QC,ZC,UG(t)),bu(QC,ZC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG=5*60,qG=FP("authIdTokenMaxAge")||zG;let JC=null;const HG=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>qG)return;const s=n?.token;JC!==s&&(JC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Nl(t=J5()){const e=Cb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mY(t,{popupRedirectResolver:FG,persistence:[KY,jY,JM]}),i=FP("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=HG(r.toString());IY(n,a,()=>a(n.currentUser)),MY(n,l=>a(l))}}const s=DP("auth");return s&&yY(n,`http://${s}`),n}function WG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}oY({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=_u("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",WG().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BG("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="firebasestorage.googleapis.com",oI="storageBucket",$G=2*60*1e3,YG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Ou{constructor(e,n,i=0){super(Hw(e),`Firebase Storage: ${n} (${Hw(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var us;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(us||(us={}));function Hw(t){return"storage/"+t}function HS(){const t="An unknown error occurred, please check the error payload for server response.";return new cs(us.UNKNOWN,t)}function GG(t){return new cs(us.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function KG(t){return new cs(us.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new cs(us.UNAUTHENTICATED,t)}function QG(){return new cs(us.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ZG(t){return new cs(us.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function JG(){return new cs(us.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eK(){return new cs(us.CANCELED,"User canceled the upload/download.")}function tK(t){return new cs(us.INVALID_URL,"Invalid URL '"+t+"'.")}function nK(t){return new cs(us.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function iK(){return new cs(us.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oI+"' property when initializing the app?")}function sK(){return new cs(us.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rK(){return new cs(us.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aK(t){return new cs(us.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function b_(t){return new cs(us.INVALID_ARGUMENT,t)}function lI(){return new cs(us.APP_DELETED,"The Firebase app was deleted.")}function oK(t){return new cs(us.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hg(t,e){return new cs(us.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function mg(t){throw new cs(us.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=to.makeFromUrl(e,n)}catch{return new to(e,"")}if(i.path==="")return i;throw nK(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),u={bucket:1,path:3};function h(B){B.path_=decodeURIComponent(B.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${s}/o${g}`,"i"),x={bucket:1,path:3},A=n===aI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",E=new RegExp(`^https?://${A}/${s}/${T}`,"i"),O=[{regex:l,indices:u,postModify:r},{regex:y,indices:x,postModify:h},{regex:E,indices:{bucket:1,path:2},postModify:h}];for(let B=0;B<O.length;B++){const V=O[B],Y=V.regex.exec(e);if(Y){const I=Y[V.indices.bucket];let P=Y[V.indices.path];P||(P=""),i=new to(I,P),V.postModify(i);break}}if(i==null)throw tK(e);return i}}class lK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(t,e,n){let i=1,s=null,r=null,a=!1,l=0;function u(){return l===2}let h=!1;function f(...T){h||(h=!0,e.apply(null,T))}function p(T){s=setTimeout(()=>{s=null,t(y,u())},T)}function g(){r&&clearTimeout(r)}function y(T,...E){if(h){g();return}if(T){g(),f.call(null,T,...E);return}if(u()||a){g(),f.call(null,T,...E);return}i<64&&(i*=2);let O;l===1?(l=2,O=0):O=(i+Math.random())*1e3,p(O)}let x=!1;function A(T){x||(x=!0,g(),!h&&(s!==null?(T||(l=2),clearTimeout(s),p(0)):T||(l=1)))}return p(0),r=setTimeout(()=>{a=!0,A(!0)},n),A}function cK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hK(t){return t!==void 0}function dK(t){return typeof t=="object"&&!Array.isArray(t)}function WS(t){return typeof t=="string"||t instanceof String}function e3(t){return $S()&&t instanceof Blob}function $S(){return typeof Blob<"u"}function t3(t,e,n,i){if(i<e)throw b_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw b_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function uI(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var mf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mf||(mf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e,n,i,s,r,a,l,u,h,f,p,g=!0,y=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,A)=>{this.resolve_=x,this.reject_=A,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new mv(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const a=l=>{const u=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&r.addUploadProgressListener(a),r.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(a),this.pendingConnection_=null;const l=r.getErrorCode()===mf.NO_ERROR,u=r.getStatus();if(!l||fK(u,this.additionalRetryCodes_)&&this.retry){const f=r.getErrorCode()===mf.ABORT;i(!1,new mv(!1,null,f));return}const h=this.successCodes_.indexOf(u)!==-1;i(!0,new mv(h,r))})},n=(i,s)=>{const r=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());hK(u)?r(u):r()}catch(u){a(u)}else if(l!==null){const u=HS();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(s.canceled){const u=this.appDelete_?lI():eK();a(u)}else{const u=JG();a(u)}};this.canceled_?n(!1,new mv(!1,null,!0)):this.backoffId_=uK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mv{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function mK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function bK(t,e,n,i,s,r,a=!0,l=!1){const u=uI(t.urlParams),h=t.url+u,f=Object.assign({},t.headers);return yK(f,e),mK(f,n),gK(f,r),vK(f,i),new pK(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xK(...t){const e=wK();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if($S())return new Blob(t);throw new cs(us.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _K(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SK(t){if(typeof atob>"u")throw aK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ww{constructor(e,n){this.data=e,this.contentType=n||null}}function AK(t,e){switch(t){case yu.RAW:return new Ww(cI(e));case yu.BASE64:case yu.BASE64URL:return new Ww(hI(t,e));case yu.DATA_URL:return new Ww(EK(e),CK(e))}throw HS()}function cI(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const r=i,a=t.charCodeAt(++n);i=65536|(r&1023)<<10|a&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function TK(t){let e;try{e=decodeURIComponent(t)}catch{throw Hg(yu.DATA_URL,"Malformed data URL.")}return cI(e)}function hI(t,e){switch(t){case yu.BASE64:{const s=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(s||r)throw Hg(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case yu.BASE64URL:{const s=e.indexOf("+")!==-1,r=e.indexOf("/")!==-1;if(s||r)throw Hg(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=SK(e)}catch(s){throw s.message.includes("polyfill")?s:Hg(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class dI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hg(yu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=NK(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function EK(t){const e=new dI(t);return e.base64?hI(yu.BASE64,e.rest):TK(e.rest)}function CK(t){return new dI(t).contentType}function NK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){let i=0,s="";e3(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(e3(this.data_)){const i=this.data_,s=_K(i,e,n);return s===null?null:new Wh(s)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Wh(i,!0)}}static getBlob(...e){if($S()){const n=e.map(i=>i instanceof Wh?i.data_:i);return new Wh(xK.apply(null,n))}else{const n=e.map(a=>WS(a)?AK(yu.RAW,a).data:a.data_);let i=0;n.forEach(a=>{i+=a.byteLength});const s=new Uint8Array(i);let r=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)s[r++]=a[l]}),new Wh(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){let e;try{e=JSON.parse(t)}catch{return null}return dK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kK(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function pI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(t,e){return e}class Zr{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||PK}}let gv=null;function RK(t){return!WS(t)||t.length<2?t:pI(t)}function mI(){if(gv)return gv;const t=[];t.push(new Zr("bucket")),t.push(new Zr("generation")),t.push(new Zr("metageneration")),t.push(new Zr("name","fullPath",!0));function e(r,a){return RK(a)}const n=new Zr("name");n.xform=e,t.push(n);function i(r,a){return a!==void 0?Number(a):a}const s=new Zr("size");return s.xform=i,t.push(s),t.push(new Zr("timeCreated")),t.push(new Zr("updated")),t.push(new Zr("md5Hash",null,!0)),t.push(new Zr("cacheControl",null,!0)),t.push(new Zr("contentDisposition",null,!0)),t.push(new Zr("contentEncoding",null,!0)),t.push(new Zr("contentLanguage",null,!0)),t.push(new Zr("contentType",null,!0)),t.push(new Zr("metadata","customMetadata",!0)),gv=t,gv}function MK(t,e){function n(){const i=t.bucket,s=t.fullPath,r=new to(i,s);return e._makeStorageReference(r)}Object.defineProperty(t,"ref",{get:n})}function IK(t,e,n){const i={};i.type="file";const s=n.length;for(let r=0;r<s;r++){const a=n[r];i[a.local]=a.xform(i,e[a.server])}return MK(i,t),i}function gI(t,e,n){const i=fI(e);return i===null?null:IK(t,i,n)}function DK(t,e,n,i){const s=fI(e);if(s===null||!WS(s.downloadTokens))return null;const r=s.downloadTokens;if(r.length===0)return null;const a=encodeURIComponent;return r.split(",").map(h=>{const f=t.bucket,p=t.fullPath,g="/b/"+a(f)+"/o/"+a(p),y=YS(g,n,i),x=uI({alt:"media",token:h});return y+x})[0]}function OK(t,e){const n={},i=e.length;for(let s=0;s<i;s++){const r=e[s];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class yI{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t){if(!t)throw HS()}function jK(t,e){function n(i,s){const r=gI(t,s,e);return vI(r!==null),r}return n}function FK(t,e){function n(i,s){const r=gI(t,s,e);return vI(r!==null),DK(r,s,t.host,t._protocol)}return n}function bI(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=QG():s=XG():n.getStatus()===402?s=KG(t.bucket):n.getStatus()===403?s=ZG(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function VK(t){const e=bI(t);function n(i,s){let r=e(i,s);return i.getStatus()===404&&(r=GG(t.path)),r.serverResponse=s.serverResponse,r}return n}function UK(t,e,n){const i=e.fullServerUrl(),s=YS(i,t.host,t._protocol),r="GET",a=t.maxOperationRetryTime,l=new yI(s,r,FK(t,n),a);return l.errorHandler=VK(e),l}function BK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function zK(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=BK(null,e)),i}function qK(t,e,n,i,s){const r=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let O="";for(let B=0;B<2;B++)O=O+Math.random().toString().slice(2);return O}const u=l();a["Content-Type"]="multipart/related; boundary="+u;const h=zK(e,i,s),f=OK(h,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+u+"--",y=Wh.getBlob(p,i,g);if(y===null)throw sK();const x={name:h.fullPath},A=YS(r,t.host,t._protocol),T="POST",E=t.maxUploadRetryTime,k=new yI(A,T,jK(t,n),E);return k.urlParams=x,k.headers=a,k.body=y.uploadData(),k.errorHandler=bI(e),k}class HK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s,r){if(this.sent_)throw mg("cannot .send() more than once");if(bd(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw mg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WK extends HK{initXhr(){this.xhr_.responseType="text"}}function wI(){return new WK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n){this._service=e,n instanceof to?this._location=n:this._location=to.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Cf(e,n)}get root(){const e=new to(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pI(this._location.path)}get storage(){return this._service}get parent(){const e=LK(this._location.path);if(e===null)return null;const n=new to(this._location.bucket,e);return new Cf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oK(e)}}function $K(t,e,n){t._throwIfRoot("uploadBytes");const i=qK(t.storage,t._location,mI(),new Wh(e,!0),n);return t.storage.makeRequestWithTokens(i,wI).then(s=>({metadata:s,ref:t}))}function YK(t){t._throwIfRoot("getDownloadURL");const e=UK(t.storage,t._location,mI());return t.storage.makeRequestWithTokens(e,wI).then(n=>{if(n===null)throw rK();return n})}function GK(t,e){const n=kK(t._location.path,e),i=new to(t._location.bucket,n);return new Cf(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(t){return/^[A-Za-z]+:\/\//.test(t)}function XK(t,e){return new Cf(t,e)}function xI(t,e){if(t instanceof GS){const n=t;if(n._bucket==null)throw iK();const i=new Cf(n,n._bucket);return e!=null?xI(i,e):i}else return e!==void 0?GK(t,e):t}function QK(t,e){if(e&&KK(e)){if(t instanceof GS)return XK(t,e);throw b_("To use ref(service, url), the first argument must be a Storage instance.")}else return xI(t,e)}function n3(t,e){const n=e?.[oI];return n==null?null:to.makeFromBucketSpec(n,t)}function ZK(t,e,n,i={}){t.host=`${e}:${n}`;const s=bd(e);s&&(K5(`https://${t.host}/b`),X5("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:VP(r,t.app.options.projectId))}class GS{constructor(e,n,i,s,r,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._isUsingEmulator=a,this._bucket=null,this._host=aI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$G,this._maxUploadRetryTime=YG,this._requests=new Set,s!=null?this._bucket=to.makeFromBucketSpec(s,this._host):this._bucket=n3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=to.makeFromBucketSpec(this._url,e):this._bucket=n3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){t3("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){t3("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Za(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cf(this,e)}_makeRequest(e,n,i,s,r=!0){if(this._deleted)return new lK(lI());{const a=bK(e,this._appId,i,s,n,this._firebaseVersion,r,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const i3="@firebase/storage",s3="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="storage";function SI(t,e,n){return t=Gi(t),$K(t,e,n)}function KS(t){return t=Gi(t),YK(t)}function XS(t,e){return t=Gi(t),QK(t,e)}function AI(t=J5(),e){t=Gi(t);const i=Cb(t,_I).getImmediate({identifier:e}),s=OP("storage");return s&&JK(i,...s),i}function JK(t,e,n,i={}){ZK(t,e,n,i)}function eX(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new GS(n,i,s,e,Pf)}function tX(){_f(new od(_I,eX,"PUBLIC").setMultipleInstances(!0)),bu(i3,s3,""),bu(i3,s3,"esm2017")}tX();const nX={apiKey:"AIzaSyBPkkXZWll0VifG5kb0DDSsoV5UB-n5pFE",authDomain:"stockpilotv1.firebaseapp.com",databaseURL:"https://stockpilotv1-default-rtdb.firebaseio.com",projectId:"stockpilotv1",storageBucket:"stockpilotv1.firebasestorage.app",messagingSenderId:"30934537475",appId:"1:30934537475:web:84a2f76609dbb1db290536",measurementId:"G-SENFJ2HSBW"},Pu=zP(nX),Jn=Nl(Pu),fn=Ca(Pu),TI=AI(Pu),iX=({onSelect:t})=>{const[e,n]=C.useState(""),[i,s]=C.useState([]),[r,a]=C.useState([]);return C.useEffect(()=>{(async()=>{try{const u=Jn.currentUser?.uid;if(!u)return;const f=(await ta(wn(fn,"businesses",u,"products"))).docs.map(p=>({id:p.id,...p.data()}));a(f)}catch(u){console.error("Failed to load inventory:",u)}})()},[]),C.useEffect(()=>{const l=e.toLowerCase(),u=r.filter(h=>h.productName?.toLowerCase().includes(l)||h.sku?.toLowerCase().includes(l)||h.brand?.toLowerCase().includes(l)||h.category?.toLowerCase().includes(l));s(l?u:[])},[e,r]),v.jsxs("div",{className:"relative mb-4",children:[v.jsx("input",{type:"text",value:e,onChange:l=>n(l.target.value),placeholder:"Search product by name, SKU, brand, category...",className:"border w-full px-4 py-2 rounded"}),i.length>0&&v.jsx("ul",{className:"absolute bg-white border w-full mt-1 max-h-64 overflow-y-auto z-10",children:i.map(l=>v.jsxs("li",{onClick:()=>{t(l),n(""),s([])},className:"p-2 hover:bg-blue-100 cursor-pointer flex items-center gap-4 border-b",children:[l.imageUrl&&v.jsx("img",{src:l.imageUrl,alt:l.productName,className:"w-10 h-10 object-cover rounded"}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"font-medium",children:l.productName}),v.jsx("span",{className:"text-sm text-gray-500",children:l.sku||l.brand||l.category}),v.jsxs("span",{className:"text-xs text-green-600",children:["Stock: ",l.quantity]})]})]},l.id))})]})},sX="/assets/flyp-logo.png",rX=({customer:t,cartItems:e,settings:n,paymentMode:i,invoiceType:s,issuedAt:r,userInfo:a,onCancel:l,onConfirm:u})=>{const[h,f]=An.useState(null);An.useEffect(()=>{(async()=>{const B=Jn.currentUser;if(!B)return;const V=await Oi(yn(fn,"businesses",B.uid));V.exists()&&f(V.data())})()},[]);const p=O=>O.quantity*O.price*(1-O.discount/100),g=e.reduce((O,B)=>O+p(B),0),y=n.includeGST?g*(n.gstRate||0)/100:0,x=n.includeCGST?g*(n.cgstRate||0)/100:0,A=n.includeSGST?g*(n.sgstRate||0)/100:0,T=n.includeIGST?g*(n.igstRate||0)/100:0,E=g+(n.includeGST?y:0)+(n.includeCGST?x:0)+(n.includeSGST?A:0)+(n.includeIGST?T:0),k=async()=>{try{const O=Jn.currentUser;if(!O){alert("User not logged in.");return}const B={customer:t,cartItems:e,settings:n,paymentMode:i,invoiceType:s,total:E,createdAt:new Date,issuedAt:r,userInfo:a};await ku(wn(fn,"businesses",O.uid,"finalizedInvoices"),B);const V=e.map(async Y=>{const I=yn(fn,"businesses",O.uid,"products",Y.id),P=await Oi(I);if(P.exists()){const H=parseFloat(P.data().quantity||0)-parseFloat(Y.quantity);isNaN(H)||await xa(I,{quantity:H<0?0:H})}});await Promise.all(V),alert("Invoice published successfully!"),u&&await u(),l()}catch(O){console.error("Error publishing invoice:",O),alert("Failed to publish invoice.")}};return v.jsxs("div",{className:"bg-white p-6 rounded shadow-lg max-w-4xl mx-auto mt-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Invoice Preview"}),v.jsx("button",{className:"text-red-500 hover:underline",onClick:l,children:"Cancel"})]}),v.jsxs("div",{className:"flex justify-between mb-6 border-b pb-4",children:[v.jsxs("div",{className:"w-1/2 pr-6 border-r border-gray-300",children:[v.jsx("h3",{className:"font-semibold text-lg mb-2 border-b pb-1",children:"Customer Information"}),v.jsxs("p",{children:[v.jsx("strong",{children:"Name:"})," ",t.name]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Phone:"})," ",t.phone]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Email:"})," ",t.email]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Address:"})," ",t.address]})]}),v.jsxs("div",{className:"w-1/2 pl-6 text-right",children:[v.jsx("h3",{className:"font-semibold text-lg mb-2 border-b pb-1",children:"Retailer Information"}),v.jsxs("p",{children:[v.jsx("strong",{children:"Business Name:"})," ",h?.businessName||"Retailer"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Owner:"})," ",h?.ownerName]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Phone:"})," ",h?.phone]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Email:"})," ",h?.email]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Address:"})," ",h?.address]}),v.jsxs("p",{children:[v.jsx("strong",{children:"GSTIN:"})," ",h?.gstin||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"PAN:"})," ",h?.pan||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Invoice ID:"})," FLYP-",r?new Date(r).getTime():Date.now()]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Invoice Issued On:"})," ",r?ft(r).local().format("DD MMM YYYY, hh:mm A"):"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Current Issue Date & Time:"})," ",ft().local().format("DD MMM YYYY, hh:mm A")]})]})]}),v.jsxs("h2",{className:"text-center font-extrabold text-2xl mb-6 uppercase tracking-widest font-bold",children:[s||"TAX"," INVOICE"]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("h3",{className:"text-center font-bold text-lg mt-6 uppercase",children:"Products"}),v.jsxs("table",{className:"w-full text-sm border",children:[v.jsx("thead",{className:"bg-gray-100",children:v.jsxs("tr",{children:[v.jsx("th",{className:"border px-2 py-1",children:"Name"}),v.jsx("th",{className:"border px-2 py-1",children:"Qty"}),v.jsx("th",{className:"border px-2 py-1",children:"Price"}),v.jsx("th",{className:"border px-2 py-1",children:"Discount (%)"}),v.jsx("th",{className:"border px-2 py-1",children:"Subtotal"})]})}),v.jsx("tbody",{children:e.map((O,B)=>v.jsxs("tr",{children:[v.jsx("td",{className:"border px-2 py-1",children:O.name}),v.jsx("td",{className:"border px-2 py-1",children:O.quantity}),v.jsxs("td",{className:"border px-2 py-1",children:["₹",O.price]}),v.jsx("td",{className:"border px-2 py-1",children:O.discount||0}),v.jsxs("td",{className:"border px-2 py-1",children:["₹",p(O).toFixed(2)]})]},B))})]})]}),v.jsxs("div",{className:"mb-4 text-right",children:[v.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Tax Summary"}),n.includeGST&&v.jsxs("p",{className:"flex justify-end gap-4",children:[v.jsxs("span",{className:"w-24 text-left",children:["GST (",n.gstRate||0,"%):"]})," ₹",y.toFixed(2)]}),n.includeCGST&&v.jsxs("p",{className:"flex justify-end gap-4",children:[v.jsxs("span",{className:"w-24 text-left",children:["CGST (",n.cgstRate||0,"%):"]})," ₹",x.toFixed(2)]}),n.includeSGST&&v.jsxs("p",{className:"flex justify-end gap-4",children:[v.jsxs("span",{className:"w-24 text-left",children:["SGST (",n.sgstRate||0,"%):"]})," ₹",A.toFixed(2)]}),n.includeIGST&&v.jsxs("p",{className:"flex justify-end gap-4",children:[v.jsxs("span",{className:"w-24 text-left",children:["IGST (",n.igstRate||0,"%):"]})," ₹",T.toFixed(2)]}),v.jsxs("p",{className:"mt-2 font-bold text-xl",children:["Total: ₹",E.toFixed(2)]}),v.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Payment Mode: ",i," | Invoice Type: ",s]})]}),v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"flex justify-between items-center mt-8",children:[v.jsx("div",{className:"text-left",children:v.jsx("img",{src:sX,alt:"FLYP Logo",className:"w-24 opacity-70"})}),v.jsx("div",{className:"text-right text-sm text-gray-500 italic",children:"Thank you for your business!"})]}),v.jsx("button",{className:"mt-6 px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700",onClick:k,children:"Publish Invoice"})]})]})},aX=async(t,e)=>{for(const n of e)try{console.log("Updating stock for:",n.name,"ID:",n.id,"Qty:",n.quantity);const i=yn(fn,"businesses",t,"products",n.id),s=await Oi(i);if(s.exists()){const a=(parseFloat(s.data().quantity)||0)-n.quantity,l=a<0?0:a;await xa(i,{quantity:l}),console.log("Stock updated to:",l)}else console.warn("Product not found for ID:",n.id)}catch(i){console.error("Error updating stock for product ID:",n.id,i.message)}},oX=()=>{const[t,e]=C.useState({name:"",phone:"",email:"",address:""}),[n,i]=C.useState([]),[s,r]=C.useState({includeGST:!1,includeCGST:!1,includeIGST:!1,gstRate:9,cgstRate:9,igstRate:18,invoiceType:"",paymentMode:""}),[a,l]=C.useState([]),[u,h]=C.useState({visible:!1,issuedAt:null}),[f,p]=C.useState(null),[g,y]=C.useState("");C.useEffect(()=>{(async()=>{const k=Jn.currentUser;if(k){const O=yn(fn,"businesses",k.uid),B=await Oi(O);B.exists()&&p({...B.data(),uid:k.uid})}})()},[]);const x=E=>{e(E)},A=async()=>{if(!f){alert("User not authenticated or user info missing.");return}if(n.length===0){alert("Cart is empty. Please add products to generate invoice.");return}const E=ft().format("YYYY-MM-DDTHH:mm:ss.SSSZ"),k="INV-"+Math.random().toString(36).substr(2,9).toUpperCase();y(k);const O={customer:t,cartItems:n,settings:s,paymentMode:s.paymentMode,invoiceType:s.invoiceType,issuedAt:E,invoiceId:k,totalAmount:n.reduce((B,V)=>{const Y=V.quantity*V.price,I=V.discount||0;return B+Y-Y*I/100},0),paymentBreakdown:{cash:s.paymentMode==="Cash"?1:0,upi:s.paymentMode==="UPI"?1:0,card:s.paymentMode==="Card"?1:0}};console.log("Invoice Data for preview:",O);try{const B=yn(fn,"businesses",f.uid,"finalizedInvoices",k);await Io(B,{...O,createdAt:E}),console.log("Invoice saved to Firestore:",k)}catch(B){console.error("Error saving invoice:",B.message),alert("Failed to save invoice. Please try again.")}h({visible:!0,issuedAt:E})},T=()=>{h({visible:!1,issuedAt:null})};return u.visible&&f?v.jsx(rX,{customer:t,cartItems:n,settings:s,paymentMode:s.paymentMode,invoiceType:s.invoiceType,issuedAt:u.issuedAt,invoiceId:g,onCancel:T,onConfirm:async()=>{await aX(f.uid,n),h({visible:!1,issuedAt:null})},taxRates:{gst:s.gstRate,cgst:s.cgstRate,igst:s.igstRate},userInfo:{businessName:f.businessName||"N/A",ownerName:f.ownerName||"N/A",address:f.address||"N/A",phone:f.phone||"N/A",email:f.email||"N/A",gstin:f.gstin||"N/A",pan:f.pan||"N/A"}}):v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Customer Information"}),v.jsx(WB,{customer:t,onChange:x})]}),v.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Add Product"}),v.jsx(iX,{onSelect:E=>{a.find(k=>k.id===E.id)||l([...a,E])}})]}),v.jsx("div",{className:"bg-white p-4 rounded shadow",children:v.jsx(YB,{settings:s,onChange:r})}),v.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Product Cart"}),v.jsx($B,{selectedProducts:a,cartItems:n,onUpdateCart:i})]}),v.jsx("div",{className:"text-right",children:v.jsx("button",{onClick:A,className:"bg-blue-600 text-white px-6 py-2 rounded shadow",children:"Create Bill"})})]})},lX=()=>{const[t,e]=C.useState([]),[n,i]=C.useState([]),[s,r]=C.useState("");return C.useEffect(()=>{(async()=>{const l=Jn.currentUser?.uid;if(l)try{const u=wn(fn,`businesses/${l}/finalizedInvoices`),f=(await ta(u)).docs.map(p=>({id:p.id,...p.data()})).sort((p,g)=>new Date(g.createdAt)-new Date(p.createdAt));e(f),i(f)}catch(u){console.error("Error loading invoices:",u)}})()},[]),C.useEffect(()=>{const a=s.toLowerCase(),l=t.filter(u=>u.customer?.name?.toLowerCase().includes(a)||u.invoiceType?.toLowerCase().includes(a));i(l)},[s,t]),v.jsxs("div",{className:"p-4",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Invoices"}),v.jsx("input",{type:"text",placeholder:"Search by customer or invoice type...",value:s,onChange:a=>r(a.target.value),className:"border px-4 py-2 mb-4 w-full md:w-1/2 rounded"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(a=>v.jsxs("div",{className:"border p-4 bg-white shadow rounded",children:[v.jsx("h3",{className:"font-bold text-lg mb-2",children:a.customer?.name}),v.jsxs("p",{children:["Email: ",a.customer?.email]}),v.jsxs("p",{children:["Type: ",a.invoiceType]}),v.jsxs("p",{children:["Total: ₹",a.total]}),v.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Date: ",a.createdAt?ft(a.createdAt).local().format("DD MMM YYYY, hh:mm A"):"N/A"]})]},a.id))})]})},EI=()=>{const[t,e]=C.useState("create");return v.jsxs("section",{className:"p-4 max-w-6xl mx-auto",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Billing Dashboard"}),v.jsxs("div",{className:"flex justify-center mb-6",children:[v.jsx("button",{className:`px-4 py-2 rounded-l ${t==="create"?"bg-blue-600 text-white":"bg-gray-200 text-gray-800"}`,onClick:()=>e("create"),children:"Create Invoice"}),v.jsx("button",{className:`px-4 py-2 rounded-r ${t==="view"?"bg-blue-600 text-white":"bg-gray-200 text-gray-800"}`,onClick:()=>e("view"),children:"View Invoices"})]}),t==="create"?v.jsx(oX,{}):v.jsx(lX,{})]})},uX="modulepreload",cX=function(t,e){return new URL(t,e).href},r3={},O1=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){let h=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=h(n.map(f=>{if(f=cX(f,i),f in r3)return;r3[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(!!i)for(let A=a.length-1;A>=0;A--){const T=a[A];if(T.href===f&&(!p||T.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${g}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":uX,p||(x.as="script"),x.crossOrigin="",x.href=f,u&&x.setAttribute("nonce",u),document.head.appendChild(x),p)return new Promise((A,T)=>{x.addEventListener("load",A),x.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})};function oi(t){"@babel/helpers - typeof";return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oi(t)}var Br=Uint8Array,no=Uint16Array,QS=Int32Array,e2=new Br([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),t2=new Br([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),w_=new Br([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),CI=function(t,e){for(var n=new no(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var s=new QS(n[30]),i=1;i<30;++i)for(var r=n[i];r<n[i+1];++r)s[r]=r-n[i]<<5|i;return{b:n,r:s}},NI=CI(e2,2),LI=NI.b,x_=NI.r;LI[28]=258,x_[258]=28;var kI=CI(t2,0),hX=kI.b,a3=kI.r,__=new no(32768);for(var Ei=0;Ei<32768;++Ei){var Oh=(Ei&43690)>>1|(Ei&21845)<<1;Oh=(Oh&52428)>>2|(Oh&13107)<<2,Oh=(Oh&61680)>>4|(Oh&3855)<<4,__[Ei]=((Oh&65280)>>8|(Oh&255)<<8)>>1}var Au=function(t,e,n){for(var i=t.length,s=0,r=new no(e);s<i;++s)t[s]&&++r[t[s]-1];var a=new no(e);for(s=1;s<e;++s)a[s]=a[s-1]+r[s-1]<<1;var l;if(n){l=new no(1<<e);var u=15-e;for(s=0;s<i;++s)if(t[s])for(var h=s<<4|t[s],f=e-t[s],p=a[t[s]-1]++<<f,g=p|(1<<f)-1;p<=g;++p)l[__[p]>>u]=h}else for(l=new no(i),s=0;s<i;++s)t[s]&&(l[s]=__[a[t[s]-1]++]>>15-t[s]);return l},pd=new Br(288);for(var Ei=0;Ei<144;++Ei)pd[Ei]=8;for(var Ei=144;Ei<256;++Ei)pd[Ei]=9;for(var Ei=256;Ei<280;++Ei)pd[Ei]=7;for(var Ei=280;Ei<288;++Ei)pd[Ei]=8;var v0=new Br(32);for(var Ei=0;Ei<32;++Ei)v0[Ei]=5;var dX=Au(pd,9,0),fX=Au(pd,9,1),pX=Au(v0,5,0),mX=Au(v0,5,1),$w=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},fl=function(t,e,n){var i=e/8|0;return(t[i]|t[i+1]<<8)>>(e&7)&n},Yw=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},ZS=function(t){return(t+7)/8|0},PI=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Br(t.subarray(e,n))},gX=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],gl=function(t,e,n){var i=new Error(e||gX[t]);if(i.code=t,Error.captureStackTrace&&Error.captureStackTrace(i,gl),!n)throw i;return i},yX=function(t,e,n,i){var s=t.length,r=0;if(!s||e.f&&!e.l)return n||new Br(0);var a=!n,l=a||e.i!=2,u=e.i;a&&(n=new Br(s*3));var h=function(Ve){var tt=n.length;if(Ve>tt){var $e=new Br(Math.max(tt*2,Ve));$e.set(n),n=$e}},f=e.f||0,p=e.p||0,g=e.b||0,y=e.l,x=e.d,A=e.m,T=e.n,E=s*8;do{if(!y){f=fl(t,p,1);var k=fl(t,p+1,3);if(p+=3,k)if(k==1)y=fX,x=mX,A=9,T=5;else if(k==2){var Y=fl(t,p,31)+257,I=fl(t,p+10,15)+4,P=Y+fl(t,p+5,31)+1;p+=14;for(var F=new Br(P),H=new Br(19),M=0;M<I;++M)H[w_[M]]=fl(t,p+M*3,7);p+=I*3;for(var j=$w(H),z=(1<<j)-1,te=Au(H,j,1),M=0;M<P;){var pe=te[fl(t,p,z)];p+=pe&15;var O=pe>>4;if(O<16)F[M++]=O;else{var ae=0,ue=0;for(O==16?(ue=3+fl(t,p,3),p+=2,ae=F[M-1]):O==17?(ue=3+fl(t,p,7),p+=3):O==18&&(ue=11+fl(t,p,127),p+=7);ue--;)F[M++]=ae}}var ce=F.subarray(0,Y),ye=F.subarray(Y);A=$w(ce),T=$w(ye),y=Au(ce,A,1),x=Au(ye,T,1)}else gl(1);else{var O=ZS(p)+4,B=t[O-4]|t[O-3]<<8,V=O+B;if(V>s){u&&gl(0);break}l&&h(g+B),n.set(t.subarray(O,V),g),e.b=g+=B,e.p=p=V*8,e.f=f;continue}if(p>E){u&&gl(0);break}}l&&h(g+131072);for(var Z=(1<<A)-1,be=(1<<T)-1,W=p;;W=p){var ae=y[Yw(t,p)&Z],X=ae>>4;if(p+=ae&15,p>E){u&&gl(0);break}if(ae||gl(2),X<256)n[g++]=X;else if(X==256){W=p,y=null;break}else{var re=X-254;if(X>264){var M=X-257,ee=e2[M];re=fl(t,p,(1<<ee)-1)+LI[M],p+=ee}var he=x[Yw(t,p)&be],we=he>>4;he||gl(3),p+=he&15;var ye=hX[we];if(we>3){var ee=t2[we];ye+=Yw(t,p)&(1<<ee)-1,p+=ee}if(p>E){u&&gl(0);break}l&&h(g+131072);var ge=g+re;if(g<ye){var Ee=r-ye,Oe=Math.min(ye,ge);for(Ee+g<0&&gl(3);g<Oe;++g)n[g]=i[Ee+g]}for(;g<ge;++g)n[g]=n[g-ye]}}e.l=y,e.p=W,e.b=g,e.f=f,y&&(f=1,e.m=A,e.d=x,e.n=T)}while(!f);return g!=n.length&&a?PI(n,0,g):n.subarray(0,g)},gc=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8},gg=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8,t[i+2]|=n>>16},Gw=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var s=n.length,r=n.slice();if(!s)return{t:MI,l:0};if(s==1){var a=new Br(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(V,Y){return V.f-Y.f}),n.push({s:-1,f:25001});var l=n[0],u=n[1],h=0,f=1,p=2;for(n[0]={s:-1,f:l.f+u.f,l,r:u};f!=s-1;)l=n[n[h].f<n[p].f?h++:p++],u=n[h!=f&&n[h].f<n[p].f?h++:p++],n[f++]={s:-1,f:l.f+u.f,l,r:u};for(var g=r[0].s,i=1;i<s;++i)r[i].s>g&&(g=r[i].s);var y=new no(g+1),x=S_(n[f-1],y,0);if(x>e){var i=0,A=0,T=x-e,E=1<<T;for(r.sort(function(Y,I){return y[I.s]-y[Y.s]||Y.f-I.f});i<s;++i){var k=r[i].s;if(y[k]>e)A+=E-(1<<x-y[k]),y[k]=e;else break}for(A>>=T;A>0;){var O=r[i].s;y[O]<e?A-=1<<e-y[O]++-1:++i}for(;i>=0&&A;--i){var B=r[i].s;y[B]==e&&(--y[B],++A)}x=e}return{t:new Br(y),l:x}},S_=function(t,e,n){return t.s==-1?Math.max(S_(t.l,e,n+1),S_(t.r,e,n+1)):e[t.s]=n},o3=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new no(++e),i=0,s=t[0],r=1,a=function(u){n[i++]=u},l=1;l<=e;++l)if(t[l]==s&&l!=e)++r;else{if(!s&&r>2){for(;r>138;r-=138)a(32754);r>2&&(a(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(a(s),--r;r>6;r-=6)a(8304);r>2&&(a(r-3<<5|8208),r=0)}for(;r--;)a(s);r=1,s=t[l]}return{c:n.subarray(0,i),n:e}},yg=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},RI=function(t,e,n){var i=n.length,s=ZS(e+2);t[s]=i&255,t[s+1]=i>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var r=0;r<i;++r)t[s+r+4]=n[r];return(s+4+i)*8},l3=function(t,e,n,i,s,r,a,l,u,h,f){gc(e,f++,n),++s[256];for(var p=Gw(s,15),g=p.t,y=p.l,x=Gw(r,15),A=x.t,T=x.l,E=o3(g),k=E.c,O=E.n,B=o3(A),V=B.c,Y=B.n,I=new no(19),P=0;P<k.length;++P)++I[k[P]&31];for(var P=0;P<V.length;++P)++I[V[P]&31];for(var F=Gw(I,7),H=F.t,M=F.l,j=19;j>4&&!H[w_[j-1]];--j);var z=h+5<<3,te=yg(s,pd)+yg(r,v0)+a,pe=yg(s,g)+yg(r,A)+a+14+3*j+yg(I,H)+2*I[16]+3*I[17]+7*I[18];if(u>=0&&z<=te&&z<=pe)return RI(e,f,t.subarray(u,u+h));var ae,ue,ce,ye;if(gc(e,f,1+(pe<te)),f+=2,pe<te){ae=Au(g,y,0),ue=g,ce=Au(A,T,0),ye=A;var Z=Au(H,M,0);gc(e,f,O-257),gc(e,f+5,Y-1),gc(e,f+10,j-4),f+=14;for(var P=0;P<j;++P)gc(e,f+3*P,H[w_[P]]);f+=3*j;for(var be=[k,V],W=0;W<2;++W)for(var X=be[W],P=0;P<X.length;++P){var re=X[P]&31;gc(e,f,Z[re]),f+=H[re],re>15&&(gc(e,f,X[P]>>5&127),f+=X[P]>>12)}}else ae=dX,ue=pd,ce=pX,ye=v0;for(var P=0;P<l;++P){var ee=i[P];if(ee>255){var re=ee>>18&31;gg(e,f,ae[re+257]),f+=ue[re+257],re>7&&(gc(e,f,ee>>23&31),f+=e2[re]);var he=ee&31;gg(e,f,ce[he]),f+=ye[he],he>3&&(gg(e,f,ee>>5&8191),f+=t2[he])}else gg(e,f,ae[ee]),f+=ue[ee]}return gg(e,f,ae[256]),f+ue[256]},vX=new QS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),MI=new Br(0),bX=function(t,e,n,i,s,r){var a=r.z||t.length,l=new Br(i+a+5*(1+Math.ceil(a/7e3))+s),u=l.subarray(i,l.length-s),h=r.l,f=(r.r||0)&7;if(e){f&&(u[0]=r.r>>3);for(var p=vX[e-1],g=p>>13,y=p&8191,x=(1<<n)-1,A=r.p||new no(32768),T=r.h||new no(x+1),E=Math.ceil(n/3),k=2*E,O=function(it){return(t[it]^t[it+1]<<E^t[it+2]<<k)&x},B=new QS(25e3),V=new no(288),Y=new no(32),I=0,P=0,F=r.i||0,H=0,M=r.w||0,j=0;F+2<a;++F){var z=O(F),te=F&32767,pe=T[z];if(A[te]=pe,T[z]=te,M<=F){var ae=a-F;if((I>7e3||H>24576)&&(ae>423||!h)){f=l3(t,u,0,B,V,Y,P,H,j,F-j,f),H=I=P=0,j=F;for(var ue=0;ue<286;++ue)V[ue]=0;for(var ue=0;ue<30;++ue)Y[ue]=0}var ce=2,ye=0,Z=y,be=te-pe&32767;if(ae>2&&z==O(F-be))for(var W=Math.min(g,ae)-1,X=Math.min(32767,F),re=Math.min(258,ae);be<=X&&--Z&&te!=pe;){if(t[F+ce]==t[F+ce-be]){for(var ee=0;ee<re&&t[F+ee]==t[F+ee-be];++ee);if(ee>ce){if(ce=ee,ye=be,ee>W)break;for(var he=Math.min(be,ee-2),we=0,ue=0;ue<he;++ue){var ge=F-be+ue&32767,Ee=A[ge],Oe=ge-Ee&32767;Oe>we&&(we=Oe,pe=ge)}}}te=pe,pe=A[te],be+=te-pe&32767}if(ye){B[H++]=268435456|x_[ce]<<18|a3[ye];var Ve=x_[ce]&31,tt=a3[ye]&31;P+=e2[Ve]+t2[tt],++V[257+Ve],++Y[tt],M=F+ce,++I}else B[H++]=t[F],++V[t[F]]}}for(F=Math.max(F,M);F<a;++F)B[H++]=t[F],++V[t[F]];f=l3(t,u,h,B,V,Y,P,H,j,F-j,f),h||(r.r=f&7|u[f/8|0]<<3,f-=7,r.h=T,r.p=A,r.i=F,r.w=M)}else{for(var F=r.w||0;F<a+h;F+=65535){var $e=F+65535;$e>=a&&(u[f/8|0]=h,$e=a),f=RI(u,f+1,t.subarray(F,$e))}r.i=a}return PI(l,0,i+ZS(f)+s)},II=function(){var t=1,e=0;return{p:function(n){for(var i=t,s=e,r=n.length|0,a=0;a!=r;){for(var l=Math.min(a+2655,r);a<l;++a)s+=i+=n[a];i=(i&65535)+15*(i>>16),s=(s&65535)+15*(s>>16)}t=i,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},wX=function(t,e,n,i,s){if(!s&&(s={l:1},e.dictionary)){var r=e.dictionary.subarray(-32768),a=new Br(r.length+t.length);a.set(r),a.set(t,r.length),t=a,s.w=r.length}return bX(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,i,s)},DI=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},xX=function(t,e){var n=e.level,i=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=i<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=II();s.p(e.dictionary),DI(t,2,s.d())}},_X=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&gl(6,"invalid zlib data"),(t[1]>>5&1)==1&&gl(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function A_(t,e){e||(e={});var n=II();n.p(t);var i=wX(t,e,e.dictionary?6:2,4);return xX(i,e),DI(i,i.length-4,n.d()),i}function SX(t,e){return yX(t.subarray(_X(t),-4),{i:2},e,e)}var AX=typeof TextDecoder<"u"&&new TextDecoder,TX=0;try{AX.decode(MI,{stream:!0}),TX=1}catch{}var Bt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Kw(){Bt.console&&typeof Bt.console.log=="function"&&Bt.console.log.apply(Bt.console,arguments)}var yi={log:Kw,warn:function(t){Bt.console&&(typeof Bt.console.warn=="function"?Bt.console.warn.apply(Bt.console,arguments):Kw.call(null,arguments))},error:function(t){Bt.console&&(typeof Bt.console.error=="function"?Bt.console.error.apply(Bt.console,arguments):Kw(t))}};function Xw(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){nf(i.response,e,n)},i.onerror=function(){yi.error("could not download file")},i.send()}function u3(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function yv(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Wg,T_,nf=Bt.saveAs||((typeof window>"u"?"undefined":oi(window))!=="object"||window!==Bt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=Bt.URL||Bt.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?u3(s.href)?Xw(t,e,n):yv(s,s.target="_blank"):yv(s)):(s.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){yv(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(u3(t))Xw(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){yv(i)})}else navigator.msSaveOrOpenBlob(function(s,r){return r===void 0?r={autoBom:!1}:oi(r)!=="object"&&(yi.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return Xw(t,e,n);var s=t.type==="application/octet-stream",r=/constructor/i.test(Bt.HTMLElement)||Bt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&r)&&(typeof FileReader>"u"?"undefined":oi(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=f:location=f,i=null},l.readAsDataURL(t)}else{var u=Bt.URL||Bt.webkitURL,h=u.createObjectURL(t);i?i.location=h:location.href=h,i=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function OI(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],i=0;i<n.length;i++){var s=n[i].re,r=n[i].process,a=s.exec(t);a&&(e=r(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+l+u+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Qw(t,e){var n=t[0],i=t[1],s=t[2],r=t[3];n=Ir(n,i,s,r,e[0],7,-680876936),r=Ir(r,n,i,s,e[1],12,-389564586),s=Ir(s,r,n,i,e[2],17,606105819),i=Ir(i,s,r,n,e[3],22,-1044525330),n=Ir(n,i,s,r,e[4],7,-176418897),r=Ir(r,n,i,s,e[5],12,1200080426),s=Ir(s,r,n,i,e[6],17,-1473231341),i=Ir(i,s,r,n,e[7],22,-45705983),n=Ir(n,i,s,r,e[8],7,1770035416),r=Ir(r,n,i,s,e[9],12,-1958414417),s=Ir(s,r,n,i,e[10],17,-42063),i=Ir(i,s,r,n,e[11],22,-1990404162),n=Ir(n,i,s,r,e[12],7,1804603682),r=Ir(r,n,i,s,e[13],12,-40341101),s=Ir(s,r,n,i,e[14],17,-1502002290),n=Dr(n,i=Ir(i,s,r,n,e[15],22,1236535329),s,r,e[1],5,-165796510),r=Dr(r,n,i,s,e[6],9,-1069501632),s=Dr(s,r,n,i,e[11],14,643717713),i=Dr(i,s,r,n,e[0],20,-373897302),n=Dr(n,i,s,r,e[5],5,-701558691),r=Dr(r,n,i,s,e[10],9,38016083),s=Dr(s,r,n,i,e[15],14,-660478335),i=Dr(i,s,r,n,e[4],20,-405537848),n=Dr(n,i,s,r,e[9],5,568446438),r=Dr(r,n,i,s,e[14],9,-1019803690),s=Dr(s,r,n,i,e[3],14,-187363961),i=Dr(i,s,r,n,e[8],20,1163531501),n=Dr(n,i,s,r,e[13],5,-1444681467),r=Dr(r,n,i,s,e[2],9,-51403784),s=Dr(s,r,n,i,e[7],14,1735328473),n=Or(n,i=Dr(i,s,r,n,e[12],20,-1926607734),s,r,e[5],4,-378558),r=Or(r,n,i,s,e[8],11,-2022574463),s=Or(s,r,n,i,e[11],16,1839030562),i=Or(i,s,r,n,e[14],23,-35309556),n=Or(n,i,s,r,e[1],4,-1530992060),r=Or(r,n,i,s,e[4],11,1272893353),s=Or(s,r,n,i,e[7],16,-155497632),i=Or(i,s,r,n,e[10],23,-1094730640),n=Or(n,i,s,r,e[13],4,681279174),r=Or(r,n,i,s,e[0],11,-358537222),s=Or(s,r,n,i,e[3],16,-722521979),i=Or(i,s,r,n,e[6],23,76029189),n=Or(n,i,s,r,e[9],4,-640364487),r=Or(r,n,i,s,e[12],11,-421815835),s=Or(s,r,n,i,e[15],16,530742520),n=jr(n,i=Or(i,s,r,n,e[2],23,-995338651),s,r,e[0],6,-198630844),r=jr(r,n,i,s,e[7],10,1126891415),s=jr(s,r,n,i,e[14],15,-1416354905),i=jr(i,s,r,n,e[5],21,-57434055),n=jr(n,i,s,r,e[12],6,1700485571),r=jr(r,n,i,s,e[3],10,-1894986606),s=jr(s,r,n,i,e[10],15,-1051523),i=jr(i,s,r,n,e[1],21,-2054922799),n=jr(n,i,s,r,e[8],6,1873313359),r=jr(r,n,i,s,e[15],10,-30611744),s=jr(s,r,n,i,e[6],15,-1560198380),i=jr(i,s,r,n,e[13],21,1309151649),n=jr(n,i,s,r,e[4],6,-145523070),r=jr(r,n,i,s,e[11],10,-1120210379),s=jr(s,r,n,i,e[2],15,718787259),i=jr(i,s,r,n,e[9],21,-343485551),t[0]=Xh(n,t[0]),t[1]=Xh(i,t[1]),t[2]=Xh(s,t[2]),t[3]=Xh(r,t[3])}function n2(t,e,n,i,s,r){return e=Xh(Xh(e,t),Xh(i,r)),Xh(e<<s|e>>>32-s,n)}function Ir(t,e,n,i,s,r,a){return n2(e&n|~e&i,t,e,s,r,a)}function Dr(t,e,n,i,s,r,a){return n2(e&i|n&~i,t,e,s,r,a)}function Or(t,e,n,i,s,r,a){return n2(e^n^i,t,e,s,r,a)}function jr(t,e,n,i,s,r,a){return n2(n^(e|~i),t,e,s,r,a)}function jI(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Qw(i,EX(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Qw(i,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,Qw(i,s),i}function EX(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Wg=Bt.atob.bind(Bt),T_=Bt.btoa.bind(Bt);var c3="0123456789abcdef".split("");function CX(t){for(var e="",n=0;n<4;n++)e+=c3[t>>8*n+4&15]+c3[t>>8*n&15];return e}function NX(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function E_(t){return jI(t).map(NX).join("")}var LX=function(t){for(var e=0;e<t.length;e++)t[e]=CX(t[e]);return t.join("")}(jI("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xh(t,e){if(LX){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function C_(t,e){var n,i,s,r;if(t!==n){for(var a=(s=t,r=1+(256/t.length>>0),new Array(r+1).join(s)),l=[],u=0;u<256;u++)l[u]=u;var h=0;for(u=0;u<256;u++){var f=l[u];h=(h+f+a.charCodeAt(u))%256,l[u]=l[h],l[h]=f}n=t,i=l}else l=i;var p=e.length,g=0,y=0,x="";for(u=0;u<p;u++)y=(y+(f=l[g=(g+1)%256]))%256,l[g]=l[y],l[y]=f,a=l[(l[g]+l[y])%256],x+=String.fromCharCode(e.charCodeAt(u)^a);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var h3={print:4,modify:8,copy:16,"annot-forms":32};function Sp(t,e,n,i){this.v=1,this.r=2;var s=192;t.forEach(function(l){if(h3.perm!==void 0)throw new Error("Invalid permission: "+l);s+=h3[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var r=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(r,a),this.P=-(1+(255^s)),this.encryptionKey=E_(r+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=C_(this.encryptionKey,this.padding)}function Ap(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,i=0;i<n;i++){var s=t.charCodeAt(i);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[i]}return e}function d3(t){if(oi(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,i,s){if(s=s||!1,typeof n!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var r=Math.random().toString(35);return e[n][r]=[i,!!s],r},this.unsubscribe=function(n){for(var i in e)if(e[i][n])return delete e[i][n],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var r in e[n]){var a=e[n][r];try{a[0].apply(t,i)}catch(l){Bt.console&&yi.error("jsPDF PubSub Error",l.message,l)}a[1]&&s.push(r)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function j1(t){if(!(this instanceof j1))return new j1(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function FI(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function of(t,e,n,i,s){if(!(this instanceof of))return new of(t,e,n,i,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,FI.call(this,i,s)}function Lp(t,e,n,i,s){if(!(this instanceof Lp))return new Lp(t,e,n,i,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,FI.call(this,i,s)}function jt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],r=arguments[3],a=[],l=1,u=16,h="S",f=null;oi(t=t||{})==="object"&&(n=t.orientation,i=t.unit||i,s=t.format||s,r=t.compress||t.compressPdf||r,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),h=t.defaultPathOperation||"S"),a=t.filters||(r===!0?["FlateEncode"]:a),i=i||"mm",n=(""+(n||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,g={},y={internal:{},__private__:{}};y.__private__.PubSub=d3;var x="1.3",A=y.__private__.getPdfVersion=function(){return x};y.__private__.setPdfVersion=function(L){x=L};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return T};var E=y.__private__.getPageFormat=function(L){return T[L]};s=s||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},O=k.COMPAT;function B(){this.saveGraphicsState(),fe(new dt(ht,0,0,-ht,0,Zs()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),h="n",O=k.ADVANCED}function V(){this.restoreGraphicsState(),h="S",O=k.COMPAT}var Y=y.__private__.combineFontStyleAndFontWeight=function(L,K){if(L=="bold"&&K=="normal"||L=="bold"&&K==400||L=="normal"&&K=="italic"||L=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(L=K==400||K==="normal"?L==="italic"?"italic":"normal":K!=700&&K!=="bold"||L!=="normal"?(K==700?"bold":K)+""+L:"bold"),L};y.advancedAPI=function(L){var K=O===k.COMPAT;return K&&B.call(this),typeof L!="function"||(L(this),K&&V.call(this)),this},y.compatAPI=function(L){var K=O===k.ADVANCED;return K&&V.call(this),typeof L!="function"||(L(this),K&&B.call(this)),this},y.isAdvancedAPI=function(){return O===k.ADVANCED};var I,P=function(L){if(O!==k.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=y.roundToPrecision=y.__private__.roundToPrecision=function(L,K){var de=e||K;if(isNaN(L)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(de).replace(/0+$/,"")};I=y.hpf=y.__private__.hpf=typeof u=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return F(L,u)}:u==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return F(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return F(L,16)};var H=y.f2=y.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return F(L,2)},M=y.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return F(L,3)},j=y.scale=y.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return O===k.COMPAT?L*ht:O===k.ADVANCED?L:void 0},z=function(L){return O===k.COMPAT?Zs()-L:O===k.ADVANCED?L:void 0},te=function(L){return j(z(L))};y.__private__.setPrecision=y.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(e=parseInt(L,10))};var pe,ae="00000000000000000000000000000000",ue=y.__private__.getFileId=function(){return ae},ce=y.__private__.setFileId=function(L){return ae=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(ni=new Sp(f.userPermissions,f.userPassword,f.ownerPassword,ae)),ae};y.setFileId=function(L){return ce(L),this},y.getFileId=function(){return ue()};var ye=y.__private__.convertDateToPDFDate=function(L){var K=L.getTimezoneOffset(),de=K<0?"+":"-",ve=Math.floor(Math.abs(K/60)),Ce=Math.abs(K%60),Be=[de,re(ve),"'",re(Ce),"'"].join("");return["D:",L.getFullYear(),re(L.getMonth()+1),re(L.getDate()),re(L.getHours()),re(L.getMinutes()),re(L.getSeconds()),Be].join("")},Z=y.__private__.convertPDFDateToDate=function(L){var K=parseInt(L.substr(2,4),10),de=parseInt(L.substr(6,2),10)-1,ve=parseInt(L.substr(8,2),10),Ce=parseInt(L.substr(10,2),10),Be=parseInt(L.substr(12,2),10),Je=parseInt(L.substr(14,2),10);return new Date(K,de,ve,Ce,Be,Je,0)},be=y.__private__.setCreationDate=function(L){var K;if(L===void 0&&(L=new Date),L instanceof Date)K=ye(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=L}return pe=K},W=y.__private__.getCreationDate=function(L){var K=pe;return L==="jsDate"&&(K=Z(pe)),K};y.setCreationDate=function(L){return be(L),this},y.getCreationDate=function(L){return W(L)};var X,re=y.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},ee=y.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},he=0,we=[],ge=[],Ee=0,Oe=[],Ve=[],tt=!1,$e=ge,it=function(){he=0,Ee=0,ge=[],we=[],Oe=[],ur=ki(),Ns=ki()};y.__private__.setCustomOutputDestination=function(L){tt=!0,$e=L};var ke=function(L){tt||($e=L)};y.__private__.resetCustomOutputDestination=function(){tt=!1,$e=ge};var fe=y.__private__.out=function(L){return L=L.toString(),Ee+=L.length+1,$e.push(L),$e},St=y.__private__.write=function(L){return fe(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},wt=y.__private__.getArrayBuffer=function(L){for(var K=L.length,de=new ArrayBuffer(K),ve=new Uint8Array(de);K--;)ve[K]=L.charCodeAt(K);return de},nt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return nt};var rt=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(L){return rt=O===k.ADVANCED?L/ht:L,this};var at,lt=y.__private__.getFontSize=y.getFontSize=function(){return O===k.COMPAT?rt:rt*ht},xt=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(L){return xt=L,this},y.__private__.getR2L=y.getR2L=function(){return xt};var Mt,Vt=y.__private__.setZoomMode=function(L){var K=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))at=L;else if(isNaN(L)){if(K.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');at=L}else at=parseInt(L,10)};y.__private__.getZoomMode=function(){return at};var At,bt=y.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Mt=L};y.__private__.getPageMode=function(){return Mt};var Kt=y.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');At=L};y.__private__.getLayoutMode=function(){return At},y.__private__.setDisplayMode=y.setDisplayMode=function(L,K,de){return Vt(L),Kt(K),bt(de),this};var yt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(L){if(Object.keys(yt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yt[L]},y.__private__.getDocumentProperties=function(){return yt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(L){for(var K in yt)yt.hasOwnProperty(K)&&L[K]&&(yt[K]=L[K]);return this},y.__private__.setDocumentProperty=function(L,K){if(Object.keys(yt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yt[L]=K};var Xt,ht,pi,Qt,Xi,Jt={},kn={},Vi=[],un={},Ys={},Kn={},Li={},Qi=null,On=0,Ct=[],nn=new d3(y),Fs=t.hotfixes||[],ti={},Zi={},lr=[],dt=function L(K,de,ve,Ce,Be,Je){if(!(this instanceof L))return new L(K,de,ve,Ce,Be,Je);isNaN(K)&&(K=1),isNaN(de)&&(de=0),isNaN(ve)&&(ve=0),isNaN(Ce)&&(Ce=1),isNaN(Be)&&(Be=0),isNaN(Je)&&(Je=0),this._matrix=[K,de,ve,Ce,Be,Je]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(L)},dt.prototype.multiply=function(L){var K=L.sx*this.sx+L.shy*this.shx,de=L.sx*this.shy+L.shy*this.sy,ve=L.shx*this.sx+L.sy*this.shx,Ce=L.shx*this.shy+L.sy*this.sy,Be=L.tx*this.sx+L.ty*this.shx+this.tx,Je=L.tx*this.shy+L.ty*this.sy+this.ty;return new dt(K,de,ve,Ce,Be,Je)},dt.prototype.decompose=function(){var L=this.sx,K=this.shy,de=this.shx,ve=this.sy,Ce=this.tx,Be=this.ty,Je=Math.sqrt(L*L+K*K),ut=(L/=Je)*de+(K/=Je)*ve;de-=L*ut,ve-=K*ut;var w=Math.sqrt(de*de+ve*ve);return ut/=w,L*(ve/=w)<K*(de/=w)&&(L=-L,K=-K,ut=-ut,Je=-Je),{scale:new dt(Je,0,0,w,0,0),translate:new dt(1,0,0,1,Ce,Be),rotate:new dt(L,K,-K,L,0,0),skew:new dt(1,0,ut,1,0,0)}},dt.prototype.toString=function(L){return this.join(" ")},dt.prototype.inversed=function(){var L=this.sx,K=this.shy,de=this.shx,ve=this.sy,Ce=this.tx,Be=this.ty,Je=1/(L*ve-K*de),ut=ve*Je,w=-K*Je,D=-de*Je,q=L*Je;return new dt(ut,w,D,q,-ut*Ce-D*Be,-w*Ce-q*Be)},dt.prototype.applyToPoint=function(L){var K=L.x*this.sx+L.y*this.shx+this.tx,de=L.x*this.shy+L.y*this.sy+this.ty;return new Go(K,de)},dt.prototype.applyToRectangle=function(L){var K=this.applyToPoint(L),de=this.applyToPoint(new Go(L.x+L.w,L.y+L.h));return new Vl(K.x,K.y,de.x-K.x,de.y-K.y)},dt.prototype.clone=function(){var L=this.sx,K=this.shy,de=this.shx,ve=this.sy,Ce=this.tx,Be=this.ty;return new dt(L,K,de,ve,Ce,Be)},y.Matrix=dt;var pt=y.matrixMult=function(L,K){return K.multiply(L)},Xn=new dt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Xn;var mi=function(L,K){if(!Ys[L]){var de=(K instanceof of?"Sh":"P")+(Object.keys(un).length+1).toString(10);K.id=de,Ys[L]=de,un[de]=K,nn.publish("addPattern",K)}};y.ShadingPattern=of,y.TilingPattern=Lp,y.addShadingPattern=function(L,K){return P("addShadingPattern()"),mi(L,K),this},y.beginTilingPattern=function(L){P("beginTilingPattern()"),po(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},y.endTilingPattern=function(L,K){P("endTilingPattern()"),K.stream=Ve[X].join(`
`),mi(L,K),nn.publish("endTilingPattern",K),lr.pop().restore()};var Si=y.__private__.newObject=function(){var L=ki();return Ji(L,!0),L},ki=y.__private__.newObjectDeferred=function(){return he++,we[he]=function(){return Ee},he},Ji=function(L,K){return K=typeof K=="boolean"&&K,we[L]=Ee,K&&fe(L+" 0 obj"),L},Bo=y.__private__.newAdditionalObject=function(){var L={objId:ki(),content:""};return Oe.push(L),L},ur=ki(),Ns=ki(),hs=y.__private__.decodeColorString=function(L){var K=L.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length===5&&(K[4]==="k"||K[4]==="K")&&(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var de=parseFloat(K[0]);K=[de,de,de,"r"]}for(var ve="#",Ce=0;Ce<3;Ce++)ve+=("0"+Math.floor(255*parseFloat(K[Ce])).toString(16)).slice(-2);return ve},es=y.__private__.encodeColorString=function(L){var K;typeof L=="string"&&(L={ch1:L});var de=L.ch1,ve=L.ch2,Ce=L.ch3,Be=L.ch4,Je=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var ut=new OI(de);if(ut.ok)de=ut.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var w=parseInt(de.substr(1),16);de=w>>16&255,ve=w>>8&255,Ce=255&w}if(ve===void 0||Be===void 0&&de===ve&&ve===Ce)if(typeof de=="string")K=de+" "+Je[0];else switch(L.precision){case 2:K=H(de/255)+" "+Je[0];break;case 3:default:K=M(de/255)+" "+Je[0]}else if(Be===void 0||oi(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return K=["1.","1.","1.",Je[1]].join(" ");if(typeof de=="string")K=[de,ve,Ce,Je[1]].join(" ");else switch(L.precision){case 2:K=[H(de/255),H(ve/255),H(Ce/255),Je[1]].join(" ");break;default:case 3:K=[M(de/255),M(ve/255),M(Ce/255),Je[1]].join(" ")}}else if(typeof de=="string")K=[de,ve,Ce,Be,Je[2]].join(" ");else switch(L.precision){case 2:K=[H(de),H(ve),H(Ce),H(Be),Je[2]].join(" ");break;case 3:default:K=[M(de),M(ve),M(Ce),M(Be),Je[2]].join(" ")}return K},ds=y.__private__.getFilters=function(){return a},li=y.__private__.putStream=function(L){var K=(L=L||{}).data||"",de=L.filters||ds(),ve=L.alreadyAppliedFilters||[],Ce=L.addLength1||!1,Be=K.length,Je=L.objectId,ut=function(Dt){return Dt};if(f!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(ut=ni.encryptor(Je,0));var w={};de===!0&&(de=["FlateEncode"]);var D=L.additionalKeyValues||[],q=(w=jt.API.processDataByFilters!==void 0?jt.API.processDataByFilters(K,de):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(w.data.length!==0&&(D.push({key:"Length",value:w.data.length}),Ce===!0&&D.push({key:"Length1",value:Be})),q.length!=0)if(q.split("/").length-1==1)D.push({key:"Filter",value:q});else{D.push({key:"Filter",value:"["+q+"]"});for(var ie=0;ie<D.length;ie+=1)if(D[ie].key==="DecodeParms"){for(var Te=[],Ie=0;Ie<w.reverseChain.split("/").length-1;Ie+=1)Te.push("null");Te.push(D[ie].value),D[ie].value="["+Te.join(" ")+"]"}}fe("<<");for(var et=0;et<D.length;et++)fe("/"+D[et].key+" "+D[et].value);fe(">>"),w.data.length!==0&&(fe("stream"),fe(ut(w.data)),fe("endstream"))},Fn=y.__private__.putPage=function(L){var K=L.number,de=L.data,ve=L.objId,Ce=L.contentsObjId;Ji(ve,!0),fe("<</Type /Page"),fe("/Parent "+L.rootDictionaryObjId+" 0 R"),fe("/Resources "+L.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(I(L.mediaBox.bottomLeftX))+" "+parseFloat(I(L.mediaBox.bottomLeftY))+" "+I(L.mediaBox.topRightX)+" "+I(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&fe("/CropBox ["+I(L.cropBox.bottomLeftX)+" "+I(L.cropBox.bottomLeftY)+" "+I(L.cropBox.topRightX)+" "+I(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&fe("/BleedBox ["+I(L.bleedBox.bottomLeftX)+" "+I(L.bleedBox.bottomLeftY)+" "+I(L.bleedBox.topRightX)+" "+I(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&fe("/TrimBox ["+I(L.trimBox.bottomLeftX)+" "+I(L.trimBox.bottomLeftY)+" "+I(L.trimBox.topRightX)+" "+I(L.trimBox.topRightY)+"]"),L.artBox!==null&&fe("/ArtBox ["+I(L.artBox.bottomLeftX)+" "+I(L.artBox.bottomLeftY)+" "+I(L.artBox.topRightX)+" "+I(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&fe("/UserUnit "+L.userUnit),nn.publish("putPage",{objId:ve,pageContext:Ct[K],pageNumber:K,page:de}),fe("/Contents "+Ce+" 0 R"),fe(">>"),fe("endobj");var Be=de.join(`
`);return O===k.ADVANCED&&(Be+=`
Q`),Ji(Ce,!0),li({data:Be,filters:ds(),objectId:Ce}),fe("endobj"),ve},ka=y.__private__.putPages=function(){var L,K,de=[];for(L=1;L<=On;L++)Ct[L].objId=ki(),Ct[L].contentsObjId=ki();for(L=1;L<=On;L++)de.push(Fn({number:L,data:Ve[L],objId:Ct[L].objId,contentsObjId:Ct[L].contentsObjId,mediaBox:Ct[L].mediaBox,cropBox:Ct[L].cropBox,bleedBox:Ct[L].bleedBox,trimBox:Ct[L].trimBox,artBox:Ct[L].artBox,userUnit:Ct[L].userUnit,rootDictionaryObjId:ur,resourceDictionaryObjId:Ns}));Ji(ur,!0),fe("<</Type /Pages");var ve="/Kids [";for(K=0;K<On;K++)ve+=de[K]+" 0 R ";fe(ve+"]"),fe("/Count "+On),fe(">>"),fe("endobj"),nn.publish("postPutPages")},Pa=function(L){nn.publish("putFont",{font:L,out:fe,newObject:Si,putStream:li}),L.isAlreadyPutted!==!0&&(L.objectNumber=Si(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Ap(L.postScriptName)),fe("/Subtype /Type1"),typeof L.encoding=="string"&&fe("/Encoding /"+L.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Gs=function(){for(var L in Jt)Jt.hasOwnProperty(L)&&(p===!1||p===!0&&g.hasOwnProperty(L))&&Pa(Jt[L])},xr=function(L){L.objectNumber=Si();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[I(L.x),I(L.y),I(L.x+L.width),I(L.y+L.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var de=L.pages[1].join(`
`);li({data:de,additionalKeyValues:K,objectId:L.objectNumber}),fe("endobj")},zo=function(){for(var L in ti)ti.hasOwnProperty(L)&&xr(ti[L])},Fu=function(L,K){var de,ve=[],Ce=1/(K-1);for(de=0;de<1;de+=Ce)ve.push(de);if(ve.push(1),L[0].offset!=0){var Be={offset:0,color:L[0].color};L.unshift(Be)}if(L[L.length-1].offset!=1){var Je={offset:1,color:L[L.length-1].color};L.push(Je)}for(var ut="",w=0,D=0;D<ve.length;D++){for(de=ve[D];de>L[w+1].offset;)w++;var q=L[w].offset,ie=(de-q)/(L[w+1].offset-q),Te=L[w].color,Ie=L[w+1].color;ut+=ee(Math.round((1-ie)*Te[0]+ie*Ie[0]).toString(16))+ee(Math.round((1-ie)*Te[1]+ie*Ie[1]).toString(16))+ee(Math.round((1-ie)*Te[2]+ie*Ie[2]).toString(16))}return ut.trim()},qo=function(L,K){K||(K=21);var de=Si(),ve=Fu(L.colors,K),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+K+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),li({data:ve,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),fe("endobj"),L.objectNumber=Si(),fe("<< /ShadingType "+L.type),fe("/ColorSpace /DeviceRGB");var Be="/Coords ["+I(parseFloat(L.coords[0]))+" "+I(parseFloat(L.coords[1]))+" ";L.type===2?Be+=I(parseFloat(L.coords[2]))+" "+I(parseFloat(L.coords[3])):Be+=I(parseFloat(L.coords[2]))+" "+I(parseFloat(L.coords[3]))+" "+I(parseFloat(L.coords[4]))+" "+I(parseFloat(L.coords[5])),fe(Be+="]"),L.matrix&&fe("/Matrix ["+L.matrix.toString()+"]"),fe("/Function "+de+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},Jc=function(L,K){var de=ki(),ve=Si();K.push({resourcesOid:de,objectOid:ve}),L.objectNumber=ve;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+L.boundingBox.map(I).join(" ")+"]"}),Ce.push({key:"XStep",value:I(L.xStep)}),Ce.push({key:"YStep",value:I(L.yStep)}),Ce.push({key:"Resources",value:de+" 0 R"}),L.matrix&&Ce.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),li({data:L.stream,additionalKeyValues:Ce,objectId:L.objectNumber}),fe("endobj")},$r=function(L){var K;for(K in un)un.hasOwnProperty(K)&&(un[K]instanceof of?qo(un[K]):un[K]instanceof Lp&&Jc(un[K],L))},Yr=function(L){for(var K in L.objectNumber=Si(),fe("<<"),L)switch(K){case"opacity":fe("/ca "+H(L[K]));break;case"stroke-opacity":fe("/CA "+H(L[K]))}fe(">>"),fe("endobj")},fs=function(){var L;for(L in Kn)Kn.hasOwnProperty(L)&&Yr(Kn[L])},Ra=function(){for(var L in fe("/XObject <<"),ti)ti.hasOwnProperty(L)&&ti[L].objectNumber>=0&&fe("/"+L+" "+ti[L].objectNumber+" 0 R");nn.publish("putXobjectDict"),fe(">>")},eh=function(){ni.oid=Si(),fe("<<"),fe("/Filter /Standard"),fe("/V "+ni.v),fe("/R "+ni.r),fe("/U <"+ni.toHexString(ni.U)+">"),fe("/O <"+ni.toHexString(ni.O)+">"),fe("/P "+ni.P),fe(">>"),fe("endobj")},na=function(){for(var L in fe("/Font <<"),Jt)Jt.hasOwnProperty(L)&&(p===!1||p===!0&&g.hasOwnProperty(L))&&fe("/"+L+" "+Jt[L].objectNumber+" 0 R");fe(">>")},Ml=function(){if(Object.keys(un).length>0){for(var L in fe("/Shading <<"),un)un.hasOwnProperty(L)&&un[L]instanceof of&&un[L].objectNumber>=0&&fe("/"+L+" "+un[L].objectNumber+" 0 R");nn.publish("putShadingPatternDict"),fe(">>")}},Ma=function(L){if(Object.keys(un).length>0){for(var K in fe("/Pattern <<"),un)un.hasOwnProperty(K)&&un[K]instanceof y.TilingPattern&&un[K].objectNumber>=0&&un[K].objectNumber<L&&fe("/"+K+" "+un[K].objectNumber+" 0 R");nn.publish("putTilingPatternDict"),fe(">>")}},Vu=function(){if(Object.keys(Kn).length>0){var L;for(L in fe("/ExtGState <<"),Kn)Kn.hasOwnProperty(L)&&Kn[L].objectNumber>=0&&fe("/"+L+" "+Kn[L].objectNumber+" 0 R");nn.publish("putGStateDict"),fe(">>")}},ui=function(L){Ji(L.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),na(),Ml(),Ma(L.objectOid),Vu(),Ra(),fe(">>"),fe("endobj")},Ls=function(){var L=[];Gs(),fs(),zo(),$r(L),nn.publish("putResources"),L.forEach(ui),ui({resourcesOid:Ns,objectOid:Number.MAX_SAFE_INTEGER}),nn.publish("postPutResources")},Il=function(){nn.publish("putAdditionalObjects");for(var L=0;L<Oe.length;L++){var K=Oe[L];Ji(K.objId,!0),fe(K.content),fe("endobj")}nn.publish("postPutAdditionalObjects")},th=function(L){kn[L.fontName]=kn[L.fontName]||{},kn[L.fontName][L.fontStyle]=L.id},so=function(L,K,de,ve,Ce){var Be={id:"F"+(Object.keys(Jt).length+1).toString(10),postScriptName:L,fontName:K,fontStyle:de,encoding:ve,isStandardFont:Ce||!1,metadata:{}};return nn.publish("addFont",{font:Be,instance:this}),Jt[Be.id]=Be,th(Be),Be.id},Uu=function(L){for(var K=0,de=nt.length;K<de;K++){var ve=so.call(this,L[K][0],L[K][1],L[K][2],nt[K][3],!0);p===!1&&(g[ve]=!0);var Ce=L[K][0].split("-");th({id:ve,fontName:Ce[0],fontStyle:Ce[1]||""})}nn.publish("addFonts",{fonts:Jt,dictionary:kn})},Vs=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(ve){var K=ve.stack||"";~K.indexOf(" at ")&&(K=K.split(" at ")[1]);var de="Error in function "+K.split(`
`)[0].split("<")[0]+": "+ve.message;if(!Bt.console)throw new Error(de);Bt.console.error(de,ve),Bt.alert&&alert(de)}},L.foo.bar=L,L.foo},Dl=function(L,K){var de,ve,Ce,Be,Je,ut,w,D,q;if(Ce=(K=K||{}).sourceEncoding||"Unicode",Je=K.outputEncoding,(K.autoencode||Je)&&Jt[Xt].metadata&&Jt[Xt].metadata[Ce]&&Jt[Xt].metadata[Ce].encoding&&(Be=Jt[Xt].metadata[Ce].encoding,!Je&&Jt[Xt].encoding&&(Je=Jt[Xt].encoding),!Je&&Be.codePages&&(Je=Be.codePages[0]),typeof Je=="string"&&(Je=Be[Je]),Je)){for(w=!1,ut=[],de=0,ve=L.length;de<ve;de++)(D=Je[L.charCodeAt(de)])?ut.push(String.fromCharCode(D)):ut.push(L[de]),ut[de].charCodeAt(0)>>8&&(w=!0);L=ut.join("")}for(de=L.length;w===void 0&&de!==0;)L.charCodeAt(de-1)>>8&&(w=!0),de--;if(!w)return L;for(ut=K.noBOM?[]:[254,255],de=0,ve=L.length;de<ve;de++){if((q=(D=L.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ut.push(q),ut.push(D-(q<<8))}return String.fromCharCode.apply(void 0,ut)},En=y.__private__.pdfEscape=y.pdfEscape=function(L,K){return Dl(L,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Us=y.__private__.beginPage=function(L){Ve[++On]=[],Ct[On]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},ia(On),ke(Ve[X])},ro=function(L,K){var de,ve,Ce;switch(n=K||n,typeof L=="string"&&(de=E(L.toLowerCase()),Array.isArray(de)&&(ve=de[0],Ce=de[1])),Array.isArray(L)&&(ve=L[0]*ht,Ce=L[1]*ht),isNaN(ve)&&(ve=s[0],Ce=s[1]),(ve>14400||Ce>14400)&&(yi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ce=Math.min(14400,Ce)),s=[ve,Ce],n.substr(0,1)){case"l":Ce>ve&&(s=[Ce,ve]);break;case"p":ve>Ce&&(s=[Ce,ve])}Us(s),Hu(uo),fe(Bs),Wu!==0&&fe(Wu+" J"),Yo!==0&&fe(Yo+" j"),nn.publish("addPage",{pageNumber:On})},ao=function(L){L>0&&L<=On&&(Ve.splice(L,1),Ct.splice(L,1),On--,X>On&&(X=On),this.setPage(X))},ia=function(L){L>0&&L<=On&&(X=L)},Vn=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ve.length-1},oo=function(L,K,de){var ve,Ce=void 0;return de=de||{},L=L!==void 0?L:Jt[Xt].fontName,K=K!==void 0?K:Jt[Xt].fontStyle,ve=L.toLowerCase(),kn[ve]!==void 0&&kn[ve][K]!==void 0?Ce=kn[ve][K]:kn[L]!==void 0&&kn[L][K]!==void 0?Ce=kn[L][K]:de.disableWarning===!1&&yi.warn("Unable to look up font label for font '"+L+"', '"+K+"'. Refer to getFontList() for available fonts."),Ce||de.noFallback||(Ce=kn.times[K])==null&&(Ce=kn.times.normal),Ce},_r=y.__private__.putInfo=function(){var L=Si(),K=function(ve){return ve};for(var de in f!==null&&(K=ni.encryptor(L,0)),fe("<<"),fe("/Producer ("+En(K("jsPDF "+jt.version))+")"),yt)yt.hasOwnProperty(de)&&yt[de]&&fe("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+En(K(yt[de]))+")");fe("/CreationDate ("+En(K(pe))+")"),fe(">>"),fe("endobj")},Ia=y.__private__.putCatalog=function(L){var K=(L=L||{}).rootDictionaryObjId||ur;switch(Si(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+K+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+at;de.substr(de.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+H(at)+"]")}switch(At||(At="continuous"),At){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}Mt&&fe("/PageMode /"+Mt),nn.publish("putCatalog"),fe(">>"),fe("endobj")},nh=y.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(he+1)),fe("/Root "+he+" 0 R"),fe("/Info "+(he-1)+" 0 R"),f!==null&&fe("/Encrypt "+ni.oid+" 0 R"),fe("/ID [ <"+ae+"> <"+ae+"> ]"),fe(">>")},Bu=y.__private__.putHeader=function(){fe("%PDF-"+x),fe("%ºß¬à")},zu=y.__private__.putXRef=function(){var L="0000000000";fe("xref"),fe("0 "+(he+1)),fe("0000000000 65535 f ");for(var K=1;K<=he;K++)typeof we[K]=="function"?fe((L+we[K]()).slice(-10)+" 00000 n "):we[K]!==void 0?fe((L+we[K]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},Da=y.__private__.buildDocument=function(){it(),ke(ge),nn.publish("buildDocument"),Bu(),ka(),Il(),Ls(),f!==null&&eh(),_r(),Ia();var L=Ee;return zu(),nh(),fe("startxref"),fe(""+L),fe("%%EOF"),ke(Ve[X]),ge.join(`
`)},Ol=y.__private__.getBlob=function(L){return new Blob([wt(L)],{type:"application/pdf"})},Oa=y.output=y.__private__.output=Vs(function(L,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",L){case void 0:return Da();case"save":y.save(K.filename);break;case"arraybuffer":return wt(Da());case"blob":return Ol(Da());case"bloburi":case"bloburl":if(Bt.URL!==void 0&&typeof Bt.URL.createObjectURL=="function")return Bt.URL&&Bt.URL.createObjectURL(Ol(Da()))||void 0;yi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",ve=Da();try{de=T_(ve)}catch{de=T_(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+K.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Bt)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(Ce=K.pdfObjectUrl,Be="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",ut=Bt.open();return ut!==null&&ut.document.write(Je),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Bt)==="[object Window]"){var w='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',D=Bt.open();if(D!==null){D.document.write(w);var q=this;D.document.documentElement.querySelector("#pdfViewer").onload=function(){D.document.title=K.filename,D.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(q.output("bloburl"))}}return D}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Bt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',Te=Bt.open();if(Te!==null&&(Te.document.write(ie),Te.document.title=K.filename),Te||typeof safari>"u")return Te;break;case"datauri":case"dataurl":return Bt.document.location.href=this.output("datauristring",K);default:return null}}),sa=function(L){return Array.isArray(Fs)===!0&&Fs.indexOf(L)>-1};switch(i){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=sa("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);ht=i}var ni=null;be(),ce();var ja=function(L){return f!==null?ni.encryptor(L,0):function(K){return K}},ra=y.__private__.getPageInfo=y.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[L].objId,pageNumber:L,pageContext:Ct[L]}},It=y.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in Ct)if(Ct[K].objId===L)break;return ra(K)},aa=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Ct[X].objId,pageNumber:X,pageContext:Ct[X]}};y.addPage=function(){return ro.apply(this,arguments),this},y.setPage=function(){return ia.apply(this,arguments),ke.call(this,Ve[X]),this},y.insertPage=function(L){return this.addPage(),this.movePage(X,L),this},y.movePage=function(L,K){var de,ve;if(L>K){de=Ve[L],ve=Ct[L];for(var Ce=L;Ce>K;Ce--)Ve[Ce]=Ve[Ce-1],Ct[Ce]=Ct[Ce-1];Ve[K]=de,Ct[K]=ve,this.setPage(K)}else if(L<K){de=Ve[L],ve=Ct[L];for(var Be=L;Be<K;Be++)Ve[Be]=Ve[Be+1],Ct[Be]=Ct[Be+1];Ve[K]=de,Ct[K]=ve,this.setPage(K)}return this},y.deletePage=function(){return ao.apply(this,arguments),this},y.__private__.text=y.text=function(L,K,de,ve,Ce){var Be,Je,ut,w,D,q,ie,Te,Ie,et=(ve=ve||{}).scope||this;if(typeof L=="number"&&typeof K=="number"&&(typeof de=="string"||Array.isArray(de))){var Dt=de;de=K,K=L,L=Dt}if(arguments[3]instanceof dt?(P("The transform parameter of text() with a Matrix value"),Ie=Ce):(ut=arguments[4],w=arguments[5],oi(ie=arguments[3])==="object"&&ie!==null||(typeof ut=="string"&&(w=ut,ut=null),typeof ie=="string"&&(w=ie,ie=null),typeof ie=="number"&&(ut=ie,ie=null),ve={flags:ie,angle:ut,align:w})),isNaN(K)||isNaN(de)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return et;var mn="",Yt=!1,Un=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:pn,Qn=et.internal.scaleFactor;function ca(cn){return cn=cn.split("	").join(Array(ve.TabLen||9).join(" ")),En(cn,ie)}function Ui(cn){for(var hn,ci=cn.concat(),Bi=[],da=ci.length;da--;)typeof(hn=ci.shift())=="string"?Bi.push(hn):Array.isArray(cn)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?Bi.push(hn[0]):Bi.push([hn[0],hn[1],hn[2]]);return Bi}function Er(cn,hn){var ci;if(typeof cn=="string")ci=hn(cn)[0];else if(Array.isArray(cn)){for(var Bi,da,Xl=cn.concat(),Ql=[],Jo=Xl.length;Jo--;)typeof(Bi=Xl.shift())=="string"?Ql.push(hn(Bi)[0]):Array.isArray(Bi)&&typeof Bi[0]=="string"&&(da=hn(Bi[0],Bi[1],Bi[2]),Ql.push([da[0],da[1],da[2]]));ci=Ql}return ci}var go=!1,Bl=!0;if(typeof L=="string")go=!0;else if(Array.isArray(L)){var ah=L.concat();Je=[];for(var $u,ps=ah.length;ps--;)(typeof($u=ah.shift())!="string"||Array.isArray($u)&&typeof $u[0]!="string")&&(Bl=!1);go=Bl}if(go===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var zl=rt/et.internal.scaleFactor,Yu=zl*(Un-1);switch(ve.baseline){case"bottom":de-=Yu;break;case"top":de+=zl-Yu;break;case"hanging":de+=zl-2*Yu;break;case"middle":de+=zl/2-Yu}if((q=ve.maxWidth||0)>0&&(typeof L=="string"?L=et.splitTextToSize(L,q):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(cn,hn){return cn.concat(et.splitTextToSize(hn,q))},[]))),Be={text:L,x:K,y:de,options:ve,mutex:{pdfEscape:En,activeFontKey:Xt,fonts:Jt,activeFontSize:rt}},nn.publish("preProcessText",Be),L=Be.text,ut=(ve=Be.options).angle,!(Ie instanceof dt)&&ut&&typeof ut=="number"){ut*=Math.PI/180,ve.rotationDirection===0&&(ut=-ut),O===k.ADVANCED&&(ut=-ut);var Gu=Math.cos(ut),oh=Math.sin(ut);Ie=new dt(Gu,oh,-oh,Gu,0,0)}else ut&&ut instanceof dt&&(Ie=ut);O!==k.ADVANCED||Ie||(Ie=Xn),(D=ve.charSpace||$o)!==void 0&&(mn+=I(j(D))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Te=ve.horizontalScale)!==void 0&&(mn+=I(100*Te)+` Tz
`),ve.lang;var Cr=-1,Tm=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Cd=et.internal.getCurrentPageInfo().pageContext;switch(Tm){case 0:case!1:case"fill":Cr=0;break;case 1:case!0:case"stroke":Cr=1;break;case 2:case"fillThenStroke":Cr=2;break;case 3:case"invisible":Cr=3;break;case 4:case"fillAndAddForClipping":Cr=4;break;case 5:case"strokeAndAddPathForClipping":Cr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Cr=6;break;case 7:case"addToPathForClipping":Cr=7}var jf=Cd.usedRenderingMode!==void 0?Cd.usedRenderingMode:-1;Cr!==-1?mn+=Cr+` Tr
`:jf!==-1&&(mn+=`0 Tr
`),Cr!==-1&&(Cd.usedRenderingMode=Cr),w=ve.align||"left";var ha,ks=rt*Un,ql=et.internal.pageSize.getWidth(),Nd=Jt[Xt];D=ve.charSpace||$o,q=ve.maxWidth||0,ie=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Qo=[],Hl=function(cn){return et.getStringUnitWidth(cn,{font:Nd,charSpace:D,fontSize:rt,doKerning:!1})*rt/Qn};if(Object.prototype.toString.call(L)==="[object Array]"){var hr;Je=Ui(L),w!=="left"&&(ha=Je.map(Hl));var zs,Wl=0;if(w==="right"){K-=ha[0],L=[],ps=Je.length;for(var Nr=0;Nr<ps;Nr++)Nr===0?(zs=Qs(K),hr=ns(de)):(zs=j(Wl-ha[Nr]),hr=-ks),L.push([Je[Nr],zs,hr]),Wl=ha[Nr]}else if(w==="center"){K-=ha[0]/2,L=[],ps=Je.length;for(var Ba=0;Ba<ps;Ba++)Ba===0?(zs=Qs(K),hr=ns(de)):(zs=j((Wl-ha[Ba])/2),hr=-ks),L.push([Je[Ba],zs,hr]),Wl=ha[Ba]}else if(w==="left"){L=[],ps=Je.length;for(var yo=0;yo<ps;yo++)L.push(Je[yo])}else if(w==="justify"&&Nd.encoding==="Identity-H"){L=[],ps=Je.length,q=q!==0?q:ql;for(var za=0,Pi=0;Pi<ps;Pi++)if(hr=Pi===0?ns(de):-ks,zs=Pi===0?Qs(K):za,Pi<ps-1){var qa=j((q-ha[Pi])/(Je[Pi].split(" ").length-1)),is=Je[Pi].split(" ");L.push([is[0]+" ",zs,hr]),za=0;for(var Lr=1;Lr<is.length;Lr++){var Ku=(Hl(is[Lr-1]+" "+is[Lr])-Hl(is[Lr]))*Qn+qa;Lr==is.length-1?L.push([is[Lr],Ku,0]):L.push([is[Lr]+" ",Ku,0]),za-=Ku}}else L.push([Je[Pi],zs,hr]);L.push(["",za,0])}else{if(w!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],ps=Je.length,q=q!==0?q:ql,Pi=0;Pi<ps;Pi++)hr=Pi===0?ns(de):-ks,zs=Pi===0?Qs(K):0,Pi<ps-1?Qo.push(I(j((q-ha[Pi])/(Je[Pi].split(" ").length-1)))):Qo.push(0),L.push([Je[Pi],zs,hr])}}var vo=typeof ve.R2L=="boolean"?ve.R2L:xt;vo===!0&&(L=Er(L,function(cn,hn,ci){return[cn.split("").reverse().join(""),hn,ci]})),Be={text:L,x:K,y:de,options:ve,mutex:{pdfEscape:En,activeFontKey:Xt,fonts:Jt,activeFontSize:rt}},nn.publish("postProcessText",Be),L=Be.text,Yt=Be.mutex.isHex||!1;var lh=Jt[Xt].encoding;lh!=="WinAnsiEncoding"&&lh!=="StandardEncoding"||(L=Er(L,function(cn,hn,ci){return[ca(cn),hn,ci]})),Je=Ui(L),L=[];for(var $l,Yl,Gl,Xu=0,uh=1,Kl=Array.isArray(Je[0])?uh:Xu,Zo="",Qu=function(cn,hn,ci){var Bi="";return ci instanceof dt?(ci=typeof ve.angle=="number"?pt(ci,new dt(1,0,0,1,cn,hn)):pt(new dt(1,0,0,1,cn,hn),ci),O===k.ADVANCED&&(ci=pt(new dt(1,0,0,-1,0,0),ci)),Bi=ci.join(" ")+` Tm
`):Bi=I(cn)+" "+I(hn)+` Td
`,Bi},Ri=0;Ri<Je.length;Ri++){switch(Zo="",Kl){case uh:Gl=(Yt?"<":"(")+Je[Ri][0]+(Yt?">":")"),$l=parseFloat(Je[Ri][1]),Yl=parseFloat(Je[Ri][2]);break;case Xu:Gl=(Yt?"<":"(")+Je[Ri]+(Yt?">":")"),$l=Qs(K),Yl=ns(de)}Qo!==void 0&&Qo[Ri]!==void 0&&(Zo=Qo[Ri]+` Tw
`),Ri===0?L.push(Zo+Qu($l,Yl,Ie)+Gl):Kl===Xu?L.push(Zo+Gl):Kl===uh&&L.push(Zo+Qu($l,Yl,Ie)+Gl)}L=Kl===Xu?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Kr=`BT
/`;return Kr+=Xt+" "+rt+` Tf
`,Kr+=I(rt*Un)+` TL
`,Kr+=Va+`
`,Kr+=mn,Kr+=L,fe(Kr+="ET"),g[Xt]=!0,et};var ih=y.__private__.clip=y.clip=function(L){return fe(L==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return ih("evenodd")},y.__private__.discardPath=y.discardPath=function(){return fe("n"),this};var Ks=y.__private__.isValidStyle=function(L){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(K=!0),K};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(L){return Ks(L)&&(h=L),this};var Sr=y.__private__.getStyle=y.getStyle=function(L){var K=h;switch(L){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=L}return K},cr=y.close=function(){return fe("h"),this};y.stroke=function(){return fe("S"),this},y.fill=function(L){return oa("f",L),this},y.fillEvenOdd=function(L){return oa("f*",L),this},y.fillStroke=function(L){return oa("B",L),this},y.fillStrokeEvenOdd=function(L){return oa("B*",L),this};var oa=function(L,K){oi(K)==="object"?Fa(K,L):fe(L)},Ar=function(L){L===null||O===k.ADVANCED&&L===void 0||(L=Sr(L),fe(L))};function lo(L,K,de,ve,Ce){var Be=new Lp(K||this.boundingBox,de||this.xStep,ve||this.yStep,this.gState,Ce||this.matrix);Be.stream=this.stream;var Je=L+"$$"+this.cloneIndex+++"$$";return mi(Je,Be),Be}var Fa=function(L,K){var de=Ys[L.key],ve=un[de];if(ve instanceof of)fe("q"),fe(qu(K)),ve.gState&&y.setGState(ve.gState),fe(L.matrix.toString()+" cm"),fe("/"+de+" sh"),fe("Q");else if(ve instanceof Lp){var Ce=new dt(1,0,0,-1,0,Zs());L.matrix&&(Ce=Ce.multiply(L.matrix||Xn),de=lo.call(ve,L.key,L.boundingBox,L.xStep,L.yStep,Ce).id),fe("q"),fe("/Pattern cs"),fe("/"+de+" scn"),ve.gState&&y.setGState(ve.gState),fe(K),fe("Q")}},qu=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Tr=y.moveTo=function(L,K){return fe(I(j(L))+" "+I(te(K))+" m"),this},Xs=y.lineTo=function(L,K){return fe(I(j(L))+" "+I(te(K))+" l"),this},la=y.curveTo=function(L,K,de,ve,Ce,Be){return fe([I(j(L)),I(te(K)),I(j(de)),I(te(ve)),I(j(Ce)),I(te(Be)),"c"].join(" ")),this};y.__private__.line=y.line=function(L,K,de,ve,Ce){if(isNaN(L)||isNaN(K)||isNaN(de)||isNaN(ve)||!Ks(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return O===k.COMPAT?this.lines([[de-L,ve-K]],L,K,[1,1],Ce||"S"):this.lines([[de-L,ve-K]],L,K,[1,1]).stroke()},y.__private__.lines=y.lines=function(L,K,de,ve,Ce,Be){var Je,ut,w,D,q,ie,Te,Ie,et,Dt,mn,Yt;if(typeof L=="number"&&(Yt=de,de=K,K=L,L=Yt),ve=ve||[1,1],Be=Be||!1,isNaN(K)||isNaN(de)||!Array.isArray(L)||!Array.isArray(ve)||!Ks(Ce)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Tr(K,de),Je=ve[0],ut=ve[1],D=L.length,Dt=K,mn=de,w=0;w<D;w++)(q=L[w]).length===2?(Dt=q[0]*Je+Dt,mn=q[1]*ut+mn,Xs(Dt,mn)):(ie=q[0]*Je+Dt,Te=q[1]*ut+mn,Ie=q[2]*Je+Dt,et=q[3]*ut+mn,Dt=q[4]*Je+Dt,mn=q[5]*ut+mn,la(ie,Te,Ie,et,Dt,mn));return Be&&cr(),Ar(Ce),this},y.path=function(L){for(var K=0;K<L.length;K++){var de=L[K],ve=de.c;switch(de.op){case"m":Tr(ve[0],ve[1]);break;case"l":Xs(ve[0],ve[1]);break;case"c":la.apply(this,ve);break;case"h":cr()}}return this},y.__private__.rect=y.rect=function(L,K,de,ve,Ce){if(isNaN(L)||isNaN(K)||isNaN(de)||isNaN(ve)||!Ks(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return O===k.COMPAT&&(ve=-ve),fe([I(j(L)),I(te(K)),I(j(de)),I(j(ve)),"re"].join(" ")),Ar(Ce),this},y.__private__.triangle=y.triangle=function(L,K,de,ve,Ce,Be,Je){if(isNaN(L)||isNaN(K)||isNaN(de)||isNaN(ve)||isNaN(Ce)||isNaN(Be)||!Ks(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-L,ve-K],[Ce-de,Be-ve],[L-Ce,K-Be]],L,K,[1,1],Je,!0),this},y.__private__.roundedRect=y.roundedRect=function(L,K,de,ve,Ce,Be,Je){if(isNaN(L)||isNaN(K)||isNaN(de)||isNaN(ve)||isNaN(Ce)||isNaN(Be)||!Ks(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*de),Be=Math.min(Be,.5*ve),this.lines([[de-2*Ce,0],[Ce*ut,0,Ce,Be-Be*ut,Ce,Be],[0,ve-2*Be],[0,Be*ut,-Ce*ut,Be,-Ce,Be],[2*Ce-de,0],[-Ce*ut,0,-Ce,-Be*ut,-Ce,-Be],[0,2*Be-ve],[0,-Be*ut,Ce*ut,-Be,Ce,-Be]],L+Ce,K,[1,1],Je,!0),this},y.__private__.ellipse=y.ellipse=function(L,K,de,ve,Ce){if(isNaN(L)||isNaN(K)||isNaN(de)||isNaN(ve)||!Ks(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*de,Je=4/3*(Math.SQRT2-1)*ve;return Tr(L+de,K),la(L+de,K-Je,L+Be,K-ve,L,K-ve),la(L-Be,K-ve,L-de,K-Je,L-de,K),la(L-de,K+Je,L-Be,K+ve,L,K+ve),la(L+Be,K+ve,L+de,K+Je,L+de,K),Ar(Ce),this},y.__private__.circle=y.circle=function(L,K,de,ve){if(isNaN(L)||isNaN(K)||isNaN(de)||!Ks(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,K,de,de,ve)},y.setFont=function(L,K,de){return de&&(K=Y(K,de)),Xt=oo(L,K,{disableWarning:!1}),this};var ts=y.__private__.getFont=y.getFont=function(){return Jt[oo.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var L,K,de={};for(L in kn)if(kn.hasOwnProperty(L))for(K in de[L]=[],kn[L])kn[L].hasOwnProperty(K)&&de[L].push(K);return de},y.addFont=function(L,K,de,ve,Ce){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(de=Y(de,ve)),Ce=Ce||"Identity-H",so.call(this,L,K,de,Ce)};var pn,uo=t.lineWidth||.200025,ua=y.__private__.getLineWidth=y.getLineWidth=function(){return uo},Hu=y.__private__.setLineWidth=y.setLineWidth=function(L){return uo=L,fe(I(j(L))+" w"),this};y.__private__.setLineDash=jt.API.setLineDash=jt.API.setLineDashPattern=function(L,K){if(L=L||[],K=K||0,isNaN(K)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(de){return I(j(de))}).join(" "),K=I(j(K)),fe("["+L+"] "+K+" d"),this};var Ho=y.__private__.getLineHeight=y.getLineHeight=function(){return rt*pn};y.__private__.getLineHeight=y.getLineHeight=function(){return rt*pn};var Wo=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(pn=L),this},Gr=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return pn};Wo(t.lineHeight);var Qs=y.__private__.getHorizontalCoordinate=function(L){return j(L)},ns=y.__private__.getVerticalCoordinate=function(L){return O===k.ADVANCED?L:Ct[X].mediaBox.topRightY-Ct[X].mediaBox.bottomLeftY-j(L)},sh=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(L){return I(Qs(L))},co=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(L){return I(ns(L))},Bs=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return hs(Bs)},y.__private__.setStrokeColor=y.setDrawColor=function(L,K,de,ve){return Bs=es({ch1:L,ch2:K,ch3:de,ch4:ve,pdfColorType:"draw",precision:2}),fe(Bs),this};var ho=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return hs(ho)},y.__private__.setFillColor=y.setFillColor=function(L,K,de,ve){return ho=es({ch1:L,ch2:K,ch3:de,ch4:ve,pdfColorType:"fill",precision:2}),fe(ho),this};var Va=t.textColor||"0 g",jl=y.__private__.getTextColor=y.getTextColor=function(){return hs(Va)};y.__private__.setTextColor=y.setTextColor=function(L,K,de,ve){return Va=es({ch1:L,ch2:K,ch3:de,ch4:ve,pdfColorType:"text",precision:3}),this};var $o=t.charSpace,Fl=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat($o||0)};y.__private__.setCharSpace=y.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $o=L,this};var Wu=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(L){var K=y.CapJoinStyles[L];if(K===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wu=K,fe(K+" J"),this};var Yo=0;y.__private__.setLineJoin=y.setLineJoin=function(L){var K=y.CapJoinStyles[L];if(K===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yo=K,fe(K+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(I(j(L))+" M"),this},y.GState=j1,y.setGState=function(L){(L=typeof L=="string"?Kn[Li[L]]:fo(null,L)).equals(Qi)||(fe("/"+L.id+" gs"),Qi=L)};var fo=function(L,K){if(!L||!Li[L]){var de=!1;for(var ve in Kn)if(Kn.hasOwnProperty(ve)&&Kn[ve].equals(K)){de=!0;break}if(de)K=Kn[ve];else{var Ce="GS"+(Object.keys(Kn).length+1).toString(10);Kn[Ce]=K,K.id=Ce}return L&&(Li[L]=K.id),nn.publish("addGState",K),K}};y.addGState=function(L,K){return fo(L,K),this},y.saveGraphicsState=function(){return fe("q"),Vi.push({key:Xt,size:rt,color:Va}),this},y.restoreGraphicsState=function(){fe("Q");var L=Vi.pop();return Xt=L.key,rt=L.size,Va=L.color,Qi=null,this},y.setCurrentTransformationMatrix=function(L){return fe(L.toString()+" cm"),this},y.comment=function(L){return fe("#"+L),this};var Go=function(L,K){var de=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(Be){isNaN(Be)||(de=parseFloat(Be))}});var ve=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Be){isNaN(Be)||(ve=parseFloat(Be))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(Be){Ce=Be.toString()}}),this},Vl=function(L,K,de,ve){Go.call(this,L,K),this.type="rect";var Ce=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(Je){isNaN(Je)||(Ce=parseFloat(Je))}});var Be=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Je){isNaN(Je)||(Be=parseFloat(Je))}}),this},Ko=function(){this.page=On,this.currentPage=X,this.pages=Ve.slice(0),this.pagesContext=Ct.slice(0),this.x=pi,this.y=Qt,this.matrix=Xi,this.width=mo(X),this.height=Zs(X),this.outputDestination=$e,this.id="",this.objectNumber=-1};Ko.prototype.restore=function(){On=this.page,X=this.currentPage,Ct=this.pagesContext,Ve=this.pages,pi=this.x,Qt=this.y,Xi=this.matrix,Xo(X,this.width),Ul(X,this.height),$e=this.outputDestination};var po=function(L,K,de,ve,Ce){lr.push(new Ko),On=X=0,Ve=[],pi=L,Qt=K,Xi=Ce,Us([de,ve])},rh=function(L){if(Zi[L])lr.pop().restore();else{var K=new Ko,de="Xo"+(Object.keys(ti).length+1).toString(10);K.id=de,Zi[L]=de,ti[de]=K,nn.publish("addFormObject",K),lr.pop().restore()}};for(var Ua in y.beginFormObject=function(L,K,de,ve,Ce){return po(L,K,de,ve,Ce),this},y.endFormObject=function(L){return rh(L),this},y.doFormObject=function(L,K){var de=ti[Zi[L]];return fe("q"),fe(K.toString()+" cm"),fe("/"+de.id+" Do"),fe("Q"),this},y.getFormObject=function(L){var K=ti[Zi[L]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},y.save=function(L,K){return L=L||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(nf(Ol(Da()),L),typeof nf.unload=="function"&&Bt.setTimeout&&setTimeout(nf.unload,911),this):new Promise(function(de,ve){try{var Ce=nf(Ol(Da()),L);typeof nf.unload=="function"&&Bt.setTimeout&&setTimeout(nf.unload,911),de(Ce)}catch(Be){ve(Be.message)}})},jt.API)jt.API.hasOwnProperty(Ua)&&(Ua==="events"&&jt.API.events.length?function(L,K){var de,ve,Ce;for(Ce=K.length-1;Ce!==-1;Ce--)de=K[Ce][0],ve=K[Ce][1],L.subscribe.apply(L,[de].concat(typeof ve=="function"?[ve]:ve))}(nn,jt.API.events):y[Ua]=jt.API[Ua]);var mo=y.getPageWidth=function(L){return(Ct[L=L||X].mediaBox.topRightX-Ct[L].mediaBox.bottomLeftX)/ht},Xo=y.setPageWidth=function(L,K){Ct[L].mediaBox.topRightX=K*ht+Ct[L].mediaBox.bottomLeftX},Zs=y.getPageHeight=function(L){return(Ct[L=L||X].mediaBox.topRightY-Ct[L].mediaBox.bottomLeftY)/ht},Ul=y.setPageHeight=function(L,K){Ct[L].mediaBox.topRightY=K*ht+Ct[L].mediaBox.bottomLeftY};return y.internal={pdfEscape:En,getStyle:Sr,getFont:ts,getFontSize:lt,getCharSpace:Fl,getTextColor:jl,getLineHeight:Ho,getLineHeightFactor:Gr,getLineWidth:ua,write:St,getHorizontalCoordinate:Qs,getVerticalCoordinate:ns,getCoordinateString:sh,getVerticalCoordinateString:co,collections:{},newObject:Si,newAdditionalObject:Bo,newObjectDeferred:ki,newObjectDeferredBegin:Ji,getFilters:ds,putStream:li,events:nn,scaleFactor:ht,pageSize:{getWidth:function(){return mo(X)},setWidth:function(L){Xo(X,L)},getHeight:function(){return Zs(X)},setHeight:function(L){Ul(X,L)}},encryptionOptions:f,encryption:ni,getEncryptor:ja,output:Oa,getNumberOfPages:Vn,pages:Ve,out:fe,f2:H,f3:M,getPageInfo:ra,getPageInfoByObjId:It,getCurrentPageInfo:aa,getPDFVersion:A,Point:Go,Rectangle:Vl,Matrix:dt,hasHotfix:sa},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return mo(X)},set:function(L){Xo(X,L)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Zs(X)},set:function(L){Ul(X,L)},enumerable:!0,configurable:!0}),Uu.call(y,nt),Xt="F1",ro(s,n),nn.publish("initialized"),y}Sp.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Sp.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Sp.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Sp.prototype.processOwnerPassword=function(t,e){return C_(E_(e).substr(0,5),t)},Sp.prototype.encryptor=function(t,e){var n=E_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return C_(n,i)}},j1.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||oi(t)!==oi(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return i===0},jt.API={events:[]},jt.version="3.0.1";var os=jt.API,JS=1,Df=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fp=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},en=function(t){return t.toFixed(2)},jh=function(t){return t.toFixed(5)};os.__acroform__={};var La=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},f3=function(t){return t*JS},du=function(t){var e=new UI,n=Et.internal.getHeight(t)||0,i=Et.internal.getWidth(t)||0;return e.BBox=[0,0,Number(en(i)),Number(en(n))],e},kX=os.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},PX=os.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},RX=os.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},As=os.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return RX(t,e-1)},Ts=os.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return kX(t,e-1)},Es=os.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return PX(t,e-1)},MX=os.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,s=t[0],r=t[1],a=t[2],l=t[3],u={};return u.lowerLeft_X=n(s)||0,u.lowerLeft_Y=i(r+l)||0,u.upperRight_X=n(s+a)||0,u.upperRight_Y=i(r)||0,[Number(en(u.lowerLeft_X)),Number(en(u.lowerLeft_Y)),Number(en(u.upperRight_X)),Number(en(u.upperRight_Y))]},IX=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,i=N_(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+en(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var r=du(t);return r.scope=t.scope,r.stream=e.join(`
`),r}},N_=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(M){return M.split(`
`)}):s.map(function(M){return[M]});var r=n,a=Et.internal.getHeight(t)||0;a=a<0?-a:a;var l=Et.internal.getWidth(t)||0;l=l<0?-l:l;var u=function(M,j,z){if(M+1<s.length){var te=j+" "+s[M+1][0];return vv(te,t,z).width<=l-4}return!1};r++;e:for(;r>0;){e="",r--;var h,f,p=vv("3",t,r).height,g=t.multiline?a-r:(a-p)/2,y=g+=2,x=0,A=0,T=0;if(r<=0){e=`(...) Tj
`,e+="% Width of Text: "+vv(e,t,r=12).width+", FieldWidth:"+l+`
`;break}for(var E="",k=0,O=0;O<s.length;O++)if(s.hasOwnProperty(O)){var B=!1;if(s[O].length!==1&&T!==s[O].length-1){if((p+2)*(k+2)+2>a)continue e;E+=s[O][T],B=!0,A=O,O--}else{E=(E+=s[O][T]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var V=parseInt(O),Y=u(V,E,r),I=O>=s.length-1;if(Y&&!I){E+=" ",T=0;continue}if(Y||I){if(I)A=V;else if(t.multiline&&(p+2)*(k+2)+2>a)continue e}else{if(!t.multiline||(p+2)*(k+2)+2>a)continue e;A=V}}for(var P="",F=x;F<=A;F++){var H=s[F];if(t.multiline){if(F===A){P+=H[T]+" ",T=(T+1)%H.length;continue}if(F===x){P+=H[H.length-1]+" ";continue}}P+=H[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,f=vv(P,t,r).width,t.textAlign){case"right":h=l-f-2;break;case"center":h=(l-f)/2;break;case"left":default:h=2}e+=en(h)+" "+en(y)+` Td
`,e+="("+Df(P)+`) Tj
`,e+=-en(h)+` 0 Td
`,y=-(r+2),f=0,x=B?A:A+1,k++,E=""}break}return i.text=e,i.fontSize=r,i},vv=function(t,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},DX={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},OX=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},jX=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=n,s=t[n];e.internal.newObjectDeferredBegin(s.objId,!0),oi(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[i]}},FX=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Pl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(DX)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");JS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new BI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var r=i[s];r.objId=void 0,r.hasAnnotation&&OX(r,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(i,s){var r=!i;for(var a in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var l=i[a],u=[],h=l.Rect;if(l.Rect&&(l.Rect=MX(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Et.createDefaultAppearanceStream(l),oi(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=IX(l);u.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var p="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var y=l.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var a in y)if(y.hasOwnProperty(a)){var x=y[a];typeof x=="function"&&(x=x.call(s,l)),p+="/"+a+" "+x+" ",s.internal.acroformPlugin.xForms.indexOf(x)>=0||s.internal.acroformPlugin.xForms.push(x)}}else typeof(x=y)=="function"&&(x=x.call(s,l)),p+="/"+a+" "+x,s.internal.acroformPlugin.xForms.indexOf(x)>=0||s.internal.acroformPlugin.xForms.push(x);p+=">>"}u.push({key:"AP",value:`<<
`+p+">>"})}s.internal.putStream({additionalKeyValues:u,objectId:l.objId}),s.internal.out("endobj")}r&&jX(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},VI=os.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(a){return a};if(Array.isArray(t)){for(var s="[",r=0;r<t.length;r++)switch(r!==0&&(s+=" "),oi(t[r])){case"boolean":case"number":case"object":s+=t[r].toString();break;case"string":t[r].substr(0,1)!=="/"?(e!==void 0&&n&&(i=n.internal.getEncryptor(e)),s+="("+Df(i(t[r].toString()))+")"):s+=t[r].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Zw=function(t,e,n){var i=function(s){return s};return e!==void 0&&n&&(i=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Df(i(t))+")"},vu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vu.prototype.toString=function(){return this.objId+" 0 R"},vu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},vu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(r){return r!="content"&&r!="appearanceStreamContent"&&r!="scope"&&r!="objId"&&r.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var i=e[n],s=this[i];s&&(Array.isArray(s)?t.push({key:i,value:VI(s,this.objId,this.scope)}):s instanceof vu?(s.scope=this.scope,t.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:i,value:s}))}return t};var UI=function(){vu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};La(UI,vu);var BI=function(){vu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Df(n(t))+")"}},set:function(n){t=n}})};La(BI,vu);var Pl=function t(){vu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!As(e,3)},set:function(E){E?this.F=Ts(e,3):this.F=Es(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');n=E}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(E){i=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(E){i[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(E){i[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(E){i[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(E){i[3]=E}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var r=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!r||r.length<1){if(this instanceof F1)return;r="FieldObject"+t.FieldNum++}var E=function(k){return k};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Df(E(r))+")"},set:function(E){r=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return r},set:function(E){r=E}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(E){a=E}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(E){l=E}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/JS:h},set:function(E){h=E}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(E){f=E}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof F1||this instanceof gf))return Zw(p,this.objId,this.scope)},set:function(E){E=E.toString(),p=E}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof sr?g:Zw(g,this.objId,this.scope)},set:function(E){E=E.toString(),g=this instanceof sr?E:E.substr(0,1)==="("?fp(E.substr(1,E.length-2)):fp(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof sr?fp(g.substr(1,g.length-1)):g},set:function(E){E=E.toString(),g=this instanceof sr?"/"+E:E}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof sr?y:Zw(y,this.objId,this.scope)},set:function(E){E=E.toString(),y=this instanceof sr?E:E.substr(0,1)==="("?fp(E.substr(1,E.length-2)):fp(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof sr?fp(y.substr(1,y.length-1)):y},set:function(E){E=E.toString(),y=this instanceof sr?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(E){E=!!E,A=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(E){x=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,1)},set:function(E){E?this.Ff=Ts(this.Ff,1):this.Ff=Es(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,2)},set:function(E){E?this.Ff=Ts(this.Ff,2):this.Ff=Es(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,3)},set:function(E){E?this.Ff=Ts(this.Ff,3):this.Ff=Es(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');T=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(T){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:T=2;break;case"center":case 1:T=1;break;case"left":case 0:default:T=0}}})};La(Pl,vu);var zp=function(){Pl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return VI(e,this.objId,this.scope)},set:function(n){var i,s;s=[],typeof(i=n)=="string"&&(s=function(r,a,l){l||(l=1);for(var u,h=[];u=a.exec(r);)h.push(u[l]);return h}(i,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,18)},set:function(n){n?this.Ff=Ts(this.Ff,18):this.Ff=Es(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ts(this.Ff,19):this.Ff=Es(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,20)},set:function(n){n?(this.Ff=Ts(this.Ff,20),e.sort()):this.Ff=Es(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,22)},set:function(n){n?this.Ff=Ts(this.Ff,22):this.Ff=Es(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,23)},set:function(n){n?this.Ff=Ts(this.Ff,23):this.Ff=Es(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,27)},set:function(n){n?this.Ff=Ts(this.Ff,27):this.Ff=Es(this.Ff,27)}}),this.hasAppearanceStream=!1};La(zp,Pl);var qp=function(){zp.call(this),this.fontName="helvetica",this.combo=!1};La(qp,zp);var Hp=function(){qp.call(this),this.combo=!0};La(Hp,qp);var t1=function(){Hp.call(this),this.edit=!0};La(t1,Hp);var sr=function(){Pl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,15)},set:function(n){n?this.Ff=Ts(this.Ff,15):this.Ff=Es(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,16)},set:function(n){n?this.Ff=Ts(this.Ff,16):this.Ff=Es(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,17)},set:function(n){n?this.Ff=Ts(this.Ff,17):this.Ff=Es(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,26)},set:function(n){n?this.Ff=Ts(this.Ff,26):this.Ff=Es(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(r){return r};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,s=[];for(i in s.push("<<"),e)s.push("/"+i+" ("+Df(n(e[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){oi(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};La(sr,Pl);var n1=function(){sr.call(this),this.pushButton=!0};La(n1,sr);var Wp=function(){sr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};La(Wp,sr);var F1=function(){var t,e;Pl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var r,a=[];for(r in a.push("<<"),i)a.push("/"+r+" ("+Df(s(i[r]))+")");return a.push(">>"),a.join(`
`)},set:function(s){oi(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};La(F1,Pl),Wp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Wp.prototype.createOption=function(t){var e=new F1;return e.Parent=this,e.optionName=t,this.Kids.push(e),VX.call(this.scope,e),e};var i1=function(){sr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Et.CheckBox.createAppearanceStream()};La(i1,sr);var gf=function(){Pl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,13)},set:function(e){e?this.Ff=Ts(this.Ff,13):this.Ff=Es(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,21)},set:function(e){e?this.Ff=Ts(this.Ff,21):this.Ff=Es(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,23)},set:function(e){e?this.Ff=Ts(this.Ff,23):this.Ff=Es(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,24)},set:function(e){e?this.Ff=Ts(this.Ff,24):this.Ff=Es(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,25)},set:function(e){e?this.Ff=Ts(this.Ff,25):this.Ff=Es(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,26)},set:function(e){e?this.Ff=Ts(this.Ff,26):this.Ff=Es(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};La(gf,Pl);var s1=function(){gf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,14)},set:function(t){t?this.Ff=Ts(this.Ff,14):this.Ff=Es(this.Ff,14)}}),this.password=!0};La(s1,gf);var Et={CheckBox:{createAppearanceStream:function(){return{N:{On:Et.CheckBox.YesNormal},D:{On:Et.CheckBox.YesPushDown,Off:Et.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=du(t);e.scope=t.scope;var n=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),r=N_(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+en(Et.internal.getWidth(t))+" "+en(Et.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+en(r.fontSize)+" Tf "+s),n.push("BT"),n.push(r.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=du(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=[],r=Et.internal.getHeight(t),a=Et.internal.getWidth(t),l=N_(t,t.caption);return s.push("1 g"),s.push("0 0 "+en(a)+" "+en(r)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+en(a-1)+" "+en(r-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+en(l.fontSize)+" Tf "+i),s.push(l.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=du(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+en(Et.internal.getWidth(t))+" "+en(Et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Et.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Et.RadioButton.Circle.YesNormal,e.D[t]=Et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=du(t);e.scope=t.scope;var n=[],i=Et.internal.getWidth(t)<=Et.internal.getHeight(t)?Et.internal.getWidth(t)/4:Et.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var s=Et.internal.Bezier_C,r=Number((i*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+jh(Et.internal.getWidth(t)/2)+" "+jh(Et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),n.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),n.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),n.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=du(t);e.scope=t.scope;var n=[],i=Et.internal.getWidth(t)<=Et.internal.getHeight(t)?Et.internal.getWidth(t)/4:Et.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),r=Number((s*Et.internal.Bezier_C).toFixed(5)),a=Number((i*Et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+jh(Et.internal.getWidth(t)/2)+" "+jh(Et.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+r+" "+r+" "+s+" 0 "+s+" c"),n.push("-"+r+" "+s+" -"+s+" "+r+" -"+s+" 0 c"),n.push("-"+s+" -"+r+" -"+r+" -"+s+" 0 -"+s+" c"),n.push(r+" -"+s+" "+s+" -"+r+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+jh(Et.internal.getWidth(t)/2)+" "+jh(Et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=du(t);e.scope=t.scope;var n=[],i=Et.internal.getWidth(t)<=Et.internal.getHeight(t)?Et.internal.getWidth(t)/4:Et.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),r=Number((s*Et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+jh(Et.internal.getWidth(t)/2)+" "+jh(Et.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+r+" "+r+" "+s+" 0 "+s+" c"),n.push("-"+r+" "+s+" -"+s+" "+r+" -"+s+" 0 c"),n.push("-"+s+" -"+r+" -"+r+" -"+s+" 0 -"+s+" c"),n.push(r+" -"+s+" "+s+" -"+r+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Et.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Et.RadioButton.Cross.YesNormal,e.D[t]=Et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=du(t);e.scope=t.scope;var n=[],i=Et.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+en(Et.internal.getWidth(t)-2)+" "+en(Et.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(en(i.x1.x)+" "+en(i.x1.y)+" m"),n.push(en(i.x2.x)+" "+en(i.x2.y)+" l"),n.push(en(i.x4.x)+" "+en(i.x4.y)+" m"),n.push(en(i.x3.x)+" "+en(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=du(t);e.scope=t.scope;var n=Et.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+en(Et.internal.getWidth(t))+" "+en(Et.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+en(Et.internal.getWidth(t)-2)+" "+en(Et.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(en(n.x1.x)+" "+en(n.x1.y)+" m"),i.push(en(n.x2.x)+" "+en(n.x2.y)+" l"),i.push(en(n.x4.x)+" "+en(n.x4.y)+" m"),i.push(en(n.x3.x)+" "+en(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=du(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+en(Et.internal.getWidth(t))+" "+en(Et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Et.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Et.internal.getWidth(t),n=Et.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},Et.internal.getWidth=function(t){var e=0;return oi(t)==="object"&&(e=f3(t.Rect[2])),e},Et.internal.getHeight=function(t){var e=0;return oi(t)==="object"&&(e=f3(t.Rect[3])),e};var VX=os.addField=function(t){if(FX(this,t),!(t instanceof Pl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};os.AcroFormChoiceField=zp,os.AcroFormListBox=qp,os.AcroFormComboBox=Hp,os.AcroFormEditBox=t1,os.AcroFormButton=sr,os.AcroFormPushButton=n1,os.AcroFormRadioButton=Wp,os.AcroFormCheckBox=i1,os.AcroFormTextField=gf,os.AcroFormPasswordField=s1,os.AcroFormAppearance=Et,os.AcroForm={ChoiceField:zp,ListBox:qp,ComboBox:Hp,EditBox:t1,Button:sr,PushButton:n1,RadioButton:Wp,CheckBox:i1,TextField:gf,PasswordField:s1,Appearance:Et},jt.AcroForm={ChoiceField:zp,ListBox:qp,ComboBox:Hp,EditBox:t1,Button:sr,PushButton:n1,RadioButton:Wp,CheckBox:i1,TextField:gf,PasswordField:s1,Appearance:Et};jt.AcroForm;function zI(t){return t.reduce(function(e,n,i){return e[n]=i,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(M,j){var z,te,pe,ae,ue,ce=e;if((j=j||e)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(Y(M))for(ue in n)for(pe=n[ue],z=0;z<pe.length;z+=1){for(ae=!0,te=0;te<pe[z].length;te+=1)if(pe[z][te]!==void 0&&pe[z][te]!==M[te]){ae=!1;break}if(ae===!0){ce=ue;break}}else for(ue in n)for(pe=n[ue],z=0;z<pe.length;z+=1){for(ae=!0,te=0;te<pe[z].length;te+=1)if(pe[z][te]!==void 0&&pe[z][te]!==M.charCodeAt(te)){ae=!1;break}if(ae===!0){ce=ue;break}}return ce===e&&j!==e&&(ce=j),ce},s=function M(j){for(var z=this.internal.write,te=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:j.width}),ae.push({key:"Height",value:j.height}),j.colorSpace===T.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===T.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var ue="",ce=0,ye=j.transparency.length;ce<ye;ce++)ue+=j.transparency[ce]+" "+j.transparency[ce]+" ";ae.push({key:"Mask",value:"["+ue+"]"})}j.sMask!==void 0&&ae.push({key:"SMask",value:j.objectId+1+" 0 R"});var Z=j.filter!==void 0?["/"+j.filter]:void 0;if(te({data:j.data,additionalKeyValues:ae,alreadyAppliedFilters:Z,objectId:j.objectId}),z("endobj"),"sMask"in j&&j.sMask!==void 0){var be="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,W={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:be,data:j.sMask};"filter"in j&&(W.filter=j.filter),M.call(this,W)}if(j.colorSpace===T.INDEXED){var X=this.internal.newObject();te({data:P(new Uint8Array(j.palette)),objectId:X}),z("endobj")}},r=function(){var M=this.internal.collections.addImage_images;for(var j in M)s.call(this,M[j])},a=function(){var M,j=this.internal.collections.addImage_images,z=this.internal.write;for(var te in j)z("/I"+(M=j[te]).index,M.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",r),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var M=this.internal.collections.addImage_images;return l.call(this),M},h=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(M){return typeof t["process"+M.toUpperCase()]=="function"},p=function(M){return oi(M)==="object"&&M.nodeType===1},g=function(M,j){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var z=""+M.getAttribute("src");if(z.indexOf("data:image/")===0)return Wg(unescape(z).split("base64,").pop());var te=t.loadFile(z,!0);if(te!==void 0)return te}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var pe;switch(j){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;case"JPEG":case"JPG":default:pe="image/jpeg"}return Wg(M.toDataURL(pe,1).split("base64,").pop())}},y=function(M){var j=this.internal.collections.addImage_images;if(j){for(var z in j)if(M===j[z].alias)return j[z]}},x=function(M,j,z){return M||j||(M=-96,j=-96),M<0&&(M=-1*z.width*72/M/this.internal.scaleFactor),j<0&&(j=-1*z.height*72/j/this.internal.scaleFactor),M===0&&(M=j*z.width/z.height),j===0&&(j=M*z.height/z.width),[M,j]},A=function(M,j,z,te,pe,ae){var ue=x.call(this,z,te,pe),ce=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,Z=u.call(this);if(z=ue[0],te=ue[1],Z[pe.index]=pe,ae){ae*=Math.PI/180;var be=Math.cos(ae),W=Math.sin(ae),X=function(ee){return ee.toFixed(4)},re=[X(be),X(W),X(-1*W),X(be),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,ce(M),ye(j+te),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([ce(z),"0","0",ce(te),"0","0","cm"].join(" "))):this.internal.write([ce(z),"0","0",ce(te),ce(M),ye(j+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},T=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=t.__addimage__.sHashCode=function(M){var j,z,te=0;if(typeof M=="string")for(z=M.length,j=0;j<z;j++)te=(te<<5)-te+M.charCodeAt(j),te|=0;else if(Y(M))for(z=M.byteLength/2,j=0;j<z;j++)te=(te<<5)-te+M[j],te|=0;return te},O=t.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var j=!0;return M.length===0&&(j=!1),M.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(j=!1),j},B=t.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var j=M.indexOf(",");return j<0?null:M.substring(0,j).trim().endsWith("base64")?M.substring(j+1):null},V=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(M){return V()&&M instanceof ArrayBuffer};var Y=t.__addimage__.isArrayBufferView=function(M){return V()&&typeof Uint32Array<"u"&&(M instanceof Int8Array||M instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array)},I=t.__addimage__.binaryStringToUint8Array=function(M){for(var j=M.length,z=new Uint8Array(j),te=0;te<j;te++)z[te]=M.charCodeAt(te);return z},P=t.__addimage__.arrayBufferToBinaryString=function(M){for(var j="",z=Y(M)?M:new Uint8Array(M),te=0;te<z.length;te+=8192)j+=String.fromCharCode.apply(null,z.subarray(te,te+8192));return j};t.addImage=function(){var M,j,z,te,pe,ae,ue,ce,ye;if(typeof arguments[1]=="number"?(j=e,z=arguments[1],te=arguments[2],pe=arguments[3],ae=arguments[4],ue=arguments[5],ce=arguments[6],ye=arguments[7]):(j=arguments[1],z=arguments[2],te=arguments[3],pe=arguments[4],ae=arguments[5],ue=arguments[6],ce=arguments[7],ye=arguments[8]),oi(M=arguments[0])==="object"&&!p(M)&&"imageData"in M){var Z=M;M=Z.imageData,j=Z.format||j||e,z=Z.x||z||0,te=Z.y||te||0,pe=Z.w||Z.width||pe,ae=Z.h||Z.height||ae,ue=Z.alias||ue,ce=Z.compression||ce,ye=Z.rotation||Z.angle||ye}var be=this.internal.getFilters();if(ce===void 0&&be.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(z)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var W=F.call(this,M,j,ue,ce);return A.call(this,z,te,pe,ae,W,ye),this};var F=function(M,j,z,te){var pe,ae,ue;if(typeof M=="string"&&i(M)===e){M=unescape(M);var ce=H(M,!1);(ce!==""||(ce=t.loadFile(M,!0))!==void 0)&&(M=ce)}if(p(M)&&(M=g(M,j)),j=i(M,j),!f(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((ue=z)==null||ue.length===0)&&(z=function(ye){return typeof ye=="string"||Y(ye)?k(ye):Y(ye.data)?k(ye.data):null}(M)),(pe=y.call(this,z))||(V()&&(M instanceof Uint8Array||j==="RGBA"||(ae=M,M=I(M))),pe=this["process"+j.toUpperCase()](M,h.call(this),z,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in t.image_compression?ye:E.NONE}(te),ae)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},H=t.__addimage__.convertBase64ToBinaryString=function(M,j){j=typeof j!="boolean"||j;var z,te="";if(typeof M=="string"){var pe;z=(pe=B(M))!==null&&pe!==void 0?pe:M;try{te=Wg(z)}catch(ae){if(j)throw O(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};t.getImageProperties=function(M){var j,z,te="";if(p(M)&&(M=g(M)),typeof M=="string"&&i(M)===e&&((te=H(M,!1))===""&&(te=t.loadFile(M)||""),M=te),z=i(M),!f(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(!V()||M instanceof Uint8Array||(M=I(M)),!(j=this["process"+z.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=z,j}})(jt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};jt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var i,s,r,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,f=!1,p=0;p<h.length&&!f;p++)switch((i=h[p]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<h.length;g++){i=h[g];var y=this.internal.pdfEscape,x=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(A.objId),k=i.title||"Note";r="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(i.bounds.x)+" "+l(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y)+"] ")+"/Contents ("+y(E(i.contents))+")",r+=" /Popup "+T.objId+" 0 R",r+=" /P "+u.objId+" 0 R",r+=" /T ("+y(E(k))+") >>",A.content=r;var O=A.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(i.bounds.x+30)+" "+l(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+l(i.bounds.y)+"] ")+" /Parent "+O,i.open&&(r+=" /Open true"),r+=" >>",T.content=r,this.internal.write(A.objId,"0 R",T.objId,"0 R");break;case"freetext":s="/Rect ["+a(i.bounds.x)+" "+l(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y+i.bounds.h)+"] ";var B=i.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+y(x(i.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(i.options.name){var V=this.annotations._nameMap[i.options.name];i.options.pageNumber=V.page,i.options.top=V.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",r="",i.options.url)r="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+y(x(i.options.url))+") >>";else if(i.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,r+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var Y=l(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),r+=" /XYZ "+i.options.left+" "+Y+" "+i.options.zoom+"]"}r!=""&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},t.link=function(n,i,s,r,a){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(n),y:h(i),w:u(n+s),h:h(i+r)},options:a,type:"link"})},t.textWithLink=function(n,i,s,r){var a,l,u=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(r.maxWidth!==void 0){l=r.maxWidth;var f=this.splitTextToSize(n,l).length;a=Math.ceil(h*f)}else l=u,a=h;return this.text(n,i,s,r),s+=.2*h,r.align==="center"&&(i-=u/2),r.align==="right"&&(i-=u),this.link(i,s-h,l,a,r),u},t.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(jt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var r=t.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},l=t.__arabicParser__.isArabicEndLetter=function(A){return a(A)&&r(A)&&e[A.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(A){return a(A)&&s.indexOf(A.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return a(A)&&r(A)&&e[A.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(A){return a(A)&&r(A)&&e[A.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(A){return a(A)&&r(A)&&e[A.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(A){return a(A)&&r(A)&&e[A.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(A){var T=0,E=n,k="",O=0;for(T=0;T<A.length;T+=1)E[A.charCodeAt(T)]!==void 0?(O++,typeof(E=E[A.charCodeAt(T)])=="number"&&(k+=String.fromCharCode(E),E=n,O=0),T===A.length-1&&(E=n,k+=A.charAt(T-(O-1)),T-=O-1,O=0)):(E=n,k+=A.charAt(T-O),T-=O,O=0);return k};t.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&i[A.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(A,T,E){return a(A)?r(A)===!1?-1:!h(A)||!a(T)&&!a(E)||!a(E)&&l(T)||l(A)&&!a(T)||l(A)&&u(T)||l(A)&&l(T)?0:f(A)&&a(T)&&!l(T)&&a(E)&&h(E)?3:l(A)||!a(E)?1:2:-1},y=function(A){var T=0,E=0,k=0,O="",B="",V="",Y=(A=A||"").split("\\s+"),I=[];for(T=0;T<Y.length;T+=1){for(I.push(""),E=0;E<Y[T].length;E+=1)O=Y[T][E],B=Y[T][E-1],V=Y[T][E+1],a(O)?(k=g(O,B,V),I[T]+=k!==-1?String.fromCharCode(e[O.charCodeAt(0)][k]):O):I[T]+=O;I[T]=p(I[T])}return I.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var A,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(T)){var k=0;for(E=[],k=0;k<T.length;k+=1)Array.isArray(T[k])?E.push([y(T[k][0]),T[k][1],T[k][2]]):E.push([y(T[k])]);A=E}else A=y(T);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};t.events.push(["preProcessText",x])}(jt.API),jt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(l){r=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,i){var s;if((n=n||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(jt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new r,this.internal.__cell__.pages=1},r=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(A){u=A}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(A){h=A}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(A){g=A}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(A){x=A}}),this};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},r.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return i.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,h){i.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),p=h.font||this.getFont(),g=h.scaleFactor||this.internal.scaleFactor,y=0,x=0,A=0,T=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var E=h.maxWidth;E>0?typeof u=="string"?u=this.splitTextToSize(u,E):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(O,B){return O.concat(T.splitTextToSize(B,E))},[])):u=Array.isArray(u)?u:[u];for(var k=0;k<u.length;k++)y<(A=this.getStringUnitWidth(u[k],{font:p})*f)&&(y=A);return y!==0&&(x=u.length),{w:y/=g,h:Math.max((x*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new r(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var u;u=arguments[0]instanceof r?arguments[0]:new r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=p.top,y&&g&&(this.printHeaderRow(u.lineNumber,!0),u.y+=g[0].height)):u.y=h.y+h.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};t.table=function(u,h,f,p,g){if(i.call(this),!f)throw new Error("No data for PDF table.");var y,x,A,T,E=[],k=[],O=[],B={},V={},Y=[],I=[],P=(g=g||{}).autoSize||!1,F=g.printHeaders!==!1,H=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,M=g.margins||Object.assign({width:this.getPageWidth()},e),j=typeof g.padding=="number"?g.padding:3,z=g.headerBackgroundColor||"#c8c8c8",te=g.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=te,this.setFontSize(H),p==null)k=E=Object.keys(f[0]),O=E.map(function(){return"left"});else if(Array.isArray(p)&&oi(p[0])==="object")for(E=p.map(function(Z){return Z.name}),k=p.map(function(Z){return Z.prompt||Z.name||""}),O=p.map(function(Z){return Z.align||"left"}),y=0;y<p.length;y+=1)V[p[y].name]=p[y].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(k=E=p,O=E.map(function(){return"left"}));if(P||Array.isArray(p)&&typeof p[0]=="string")for(y=0;y<E.length;y+=1){for(B[T=E[y]]=f.map(function(Z){return Z[T]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(k[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=B[T],this.setFont(void 0,"normal"),A=0;A<x.length;A+=1)Y.push(this.getTextDimensions(x[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[T]=Math.max.apply(null,Y)+j+j,Y=[]}if(F){var pe={};for(y=0;y<E.length;y+=1)pe[E[y]]={},pe[E[y]].text=k[y],pe[E[y]].align=O[y];var ae=l.call(this,pe,V);I=E.map(function(Z){return new r(u,h,V[Z],ae,pe[Z].text,void 0,pe[Z].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var ue=p.reduce(function(Z,be){return Z[be.name]=be.align,Z},{});for(y=0;y<f.length;y+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:y,data:f[y]},this);var ce=l.call(this,f[y],V);for(A=0;A<E.length;A+=1){var ye=f[y][E[A]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:y,col:A,data:ye},this),a.call(this,new r(u,h,V[E[A]],ce,ye,y+2,ue[E[A]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var l=function(u,h){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(u).map(function(y){var x=u[y];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,h[y]-f-f)},this).map(function(y){return this.getLineHeightFactor()*y.length*p/g+f+f},this).reduce(function(y,x){return Math.max(y,x)},0)};t.setTableHeaderRow=function(u){i.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,h){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new r(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){f=this.internal.__cell__.tableHeaderRow[y].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=u;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(x)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(jt.API);var qI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},HI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],L_=zI(HI),WI=[100,200,300,400,500,600,700,800,900],UX=zI(WI);function k_(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(r){return qI[r=r||"normal"]?r:"normal"}(t.style),i=function(r){if(!r)return 400;if(typeof r=="number")return r>=100&&r<=900&&r%100==0?r:400;if(/^\d00$/.test(r))return parseInt(r);switch(r){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(r){return typeof L_[r=r||"normal"]=="number"?r:"normal"}(t.stretch);return{family:e,style:n,weight:i,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,i].join(" ")}}}function p3(t,e,n,i){var s;for(s=n;s>=0&&s<e.length;s+=i)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=i)if(t[e[s]])return t[e[s]]}var BX={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},m3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function g3(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function zX(t,e,n){for(var i=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},BX,n.genericFontFamilies||{}),r=null,a=null,l=0;l<e.length;++l)if(s[(r=k_(e[l])).family]&&(r.family=s[r.family]),t.hasOwnProperty(r.family)){a=t[r.family];break}if(!(a=a||t[i]))throw new Error("Could not find a font-family for the rule '"+g3(r)+"' and default family '"+i+"'.");if(a=function(u,h){if(h[u])return h[u];var f=L_[u],p=f<=L_.normal?-1:1,g=p3(h,HI,f,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+u);return g}(r.stretch,a),a=function(u,h){if(h[u])return h[u];for(var f=qI[u],p=0;p<f.length;++p)if(h[f[p]])return h[f[p]];throw new Error("Could not find a matching font-style for "+u)}(r.style,a),!(a=function(u,h){if(h[u])return h[u];if(u===400&&h[500])return h[500];if(u===500&&h[400])return h[400];var f=UX[u],p=p3(h,WI,f,u<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+u);return p}(r.weight,a)))throw new Error("Failed to resolve a font for the rule '"+g3(r)+"'.");return a}function y3(t){return t.trimLeft()}function qX(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function HX(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var bv,v3,b3,Jw=["times"];(function(t){var e,n,i,s,r,a,l,u,h,f=function(W){return W=W||{},this.isStrokeTransparent=W.isStrokeTransparent||!1,this.strokeOpacity=W.strokeOpacity||1,this.strokeStyle=W.strokeStyle||"#000000",this.fillStyle=W.fillStyle||"#000000",this.isFillTransparent=W.isFillTransparent||!1,this.fillOpacity=W.fillOpacity||1,this.font=W.font||"10px sans-serif",this.textBaseline=W.textBaseline||"alphabetic",this.textAlign=W.textAlign||"left",this.lineWidth=W.lineWidth||1,this.lineJoin=W.lineJoin||"miter",this.lineCap=W.lineCap||"butt",this.path=W.path||[],this.transform=W.transform!==void 0?W.transform.clone():new u,this.globalCompositeOperation=W.globalCompositeOperation||"normal",this.globalAlpha=W.globalAlpha||1,this.clip_path=W.clip_path||[],this.currentPoint=W.currentPoint||new a,this.miterLimit=W.miterLimit||10,this.lastPoint=W.lastPoint||new a,this.lineDashOffset=W.lineDashOffset||0,this.lineDash=W.lineDash||[],this.margin=W.margin||[0,0,0,0],this.prevPageLastElemOffset=W.prevPageLastElemOffset||0,this.ignoreClearRect=typeof W.ignoreClearRect!="boolean"||W.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,r=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,h=new f}]);var p=function(W){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=W;Object.defineProperty(this,"pdf",{get:function(){return X}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(ke){re=!!ke}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(ke){ee=!!ke}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(ke){isNaN(ke)||(he=ke)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(ke){isNaN(ke)||(we=ke)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(ke){var fe;typeof ke=="number"?fe=[ke,ke,ke,ke]:((fe=new Array(4))[0]=ke[0],fe[1]=ke.length>=2?ke[1]:fe[0],fe[2]=ke.length>=3?ke[2]:fe[0],fe[3]=ke.length>=4?ke[3]:fe[1]),h.margin=fe}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(ke){ge=ke}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function(ke){Ee=ke}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(ke){Oe=ke}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(ke){ke instanceof f&&(h=ke)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(ke){h.path=ke}});var Ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ve},set:function(ke){Ve=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var fe;fe=g(ke),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var fe=g(ke);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var tt=null;function $e(ke,fe){if(tt===null){var St=function(wt){var nt=[];return Object.keys(wt).forEach(function(rt){wt[rt].forEach(function(at){var lt=null;switch(at){case"bold":lt={family:rt,weight:"bold"};break;case"italic":lt={family:rt,style:"italic"};break;case"bolditalic":lt={family:rt,weight:"bold",style:"italic"};break;case"":case"normal":lt={family:rt}}lt!==null&&(lt.ref={name:rt,style:at},nt.push(lt))})}),nt}(ke.getFontList());tt=function(wt){for(var nt={},rt=0;rt<wt.length;++rt){var at=k_(wt[rt]),lt=at.family,xt=at.stretch,Mt=at.style,Vt=at.weight;nt[lt]=nt[lt]||{},nt[lt][xt]=nt[lt][xt]||{},nt[lt][xt][Mt]=nt[lt][xt][Mt]||{},nt[lt][xt][Mt][Vt]=at}return nt}(St.concat(fe))}return tt}var it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(ke){tt=null,it=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var fe;if(this.ctx.font=ke,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var St=fe[1];fe[2];var wt=fe[3],nt=fe[4];fe[5];var rt=fe[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(nt)[2];nt=Math.floor(at==="px"?parseFloat(nt)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(nt)*this.pdf.getFontSize():parseFloat(nt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(nt);var lt=function(yt){var Xt,ht,pi=[],Qt=yt.trim();if(Qt==="")return Jw;if(Qt in m3)return[m3[Qt]];for(;Qt!=="";){switch(ht=null,Xt=(Qt=y3(Qt)).charAt(0)){case'"':case"'":ht=qX(Qt.substring(1),Xt);break;default:ht=HX(Qt)}if(ht===null||(pi.push(ht[0]),(Qt=y3(ht[1]))!==""&&Qt.charAt(0)!==","))return Jw;Qt=Qt.replace(/^,/,"")}return pi}(rt);if(this.fontFaces){var xt=zX($e(this.pdf,this.fontFaces),lt.map(function(yt){return{family:yt,stretch:"normal",weight:wt,style:St}}));this.pdf.setFont(xt.ref.name,xt.ref.style)}else{var Mt="";(wt==="bold"||parseInt(wt,10)>=700||St==="bold")&&(Mt="bold"),St==="italic"&&(Mt+="italic"),Mt.length===0&&(Mt="normal");for(var Vt="",At={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},bt=0;bt<lt.length;bt++){if(this.pdf.internal.getFont(lt[bt],Mt,{noFallback:!0,disableWarning:!0})!==void 0){Vt=lt[bt];break}if(Mt==="bolditalic"&&this.pdf.internal.getFont(lt[bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Vt=lt[bt],Mt="bold";else if(this.pdf.internal.getFont(lt[bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Vt=lt[bt],Mt="normal";break}}if(Vt===""){for(var Kt=0;Kt<lt.length;Kt++)if(At[lt[Kt]]){Vt=At[lt[Kt]];break}}Vt=Vt===""?"Times":Vt,this.pdf.setFont(Vt,Mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};p.prototype.setLineDash=function(W){this.lineDash=W},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){B.call(this,"fill",!1)},p.prototype.stroke=function(){B.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(W,X){if(isNaN(W)||isNaN(X))throw yi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new a(W,X));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new a(W,X)},p.prototype.closePath=function(){var W=new a(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&oi(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){W=new a(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(W.x,W.y)},p.prototype.lineTo=function(W,X){if(isNaN(W)||isNaN(X))throw yi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new a(W,X));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},p.prototype.quadraticCurveTo=function(W,X,re,ee){if(isNaN(re)||isNaN(ee)||isNaN(W)||isNaN(X))throw yi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new a(re,ee)),we=this.ctx.transform.applyToPoint(new a(W,X));this.path.push({type:"qct",x1:we.x,y1:we.y,x:he.x,y:he.y}),this.ctx.lastPoint=new a(he.x,he.y)},p.prototype.bezierCurveTo=function(W,X,re,ee,he,we){if(isNaN(he)||isNaN(we)||isNaN(W)||isNaN(X)||isNaN(re)||isNaN(ee))throw yi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new a(he,we)),Ee=this.ctx.transform.applyToPoint(new a(W,X)),Oe=this.ctx.transform.applyToPoint(new a(re,ee));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:Oe.x,y2:Oe.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new a(ge.x,ge.y)},p.prototype.arc=function(W,X,re,ee,he,we){if(isNaN(W)||isNaN(X)||isNaN(re)||isNaN(ee)||isNaN(he))throw yi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new a(W,X));W=ge.x,X=ge.y;var Ee=this.ctx.transform.applyToPoint(new a(0,re)),Oe=this.ctx.transform.applyToPoint(new a(0,0));re=Math.sqrt(Math.pow(Ee.x-Oe.x,2)+Math.pow(Ee.y-Oe.y,2))}Math.abs(he-ee)>=2*Math.PI&&(ee=0,he=2*Math.PI),this.path.push({type:"arc",x:W,y:X,radius:re,startAngle:ee,endAngle:he,counterclockwise:we})},p.prototype.arcTo=function(W,X,re,ee,he){throw new Error("arcTo not implemented.")},p.prototype.rect=function(W,X,re,ee){if(isNaN(W)||isNaN(X)||isNaN(re)||isNaN(ee))throw yi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(W,X),this.lineTo(W+re,X),this.lineTo(W+re,X+ee),this.lineTo(W,X+ee),this.lineTo(W,X),this.lineTo(W+re,X),this.lineTo(W,X)},p.prototype.fillRect=function(W,X,re,ee){if(isNaN(W)||isNaN(X)||isNaN(re)||isNaN(ee))throw yi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(W,X,re,ee),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},p.prototype.strokeRect=function(W,X,re,ee){if(isNaN(W)||isNaN(X)||isNaN(re)||isNaN(ee))throw yi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(W,X,re,ee),this.stroke())},p.prototype.clearRect=function(W,X,re,ee){if(isNaN(W)||isNaN(X)||isNaN(re)||isNaN(ee))throw yi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(W,X,re,ee))},p.prototype.save=function(W){W=typeof W!="boolean"||W;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),W){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},p.prototype.restore=function(W){W=typeof W!="boolean"||W;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(X),W&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(W){var X,re,ee,he;if(W.isCanvasGradient===!0&&(W=W.getColor()),!W)return{r:0,g:0,b:0,a:0,style:W};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(W))X=0,re=0,ee=0,he=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(W);if(we!==null)X=parseInt(we[1]),re=parseInt(we[2]),ee=parseInt(we[3]),he=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(W))!==null)X=parseInt(we[1]),re=parseInt(we[2]),ee=parseInt(we[3]),he=parseFloat(we[4]);else{if(he=1,typeof W=="string"&&W.charAt(0)!=="#"){var ge=new OI(W);W=ge.ok?ge.toHex():"#000000"}W.length===4?(X=W.substring(1,2),X+=X,re=W.substring(2,3),re+=re,ee=W.substring(3,4),ee+=ee):(X=W.substring(1,3),re=W.substring(3,5),ee=W.substring(5,7)),X=parseInt(X,16),re=parseInt(re,16),ee=parseInt(ee,16)}}return{r:X,g:re,b:ee,a:he,style:W}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(W,X,re,ee){if(isNaN(X)||isNaN(re)||typeof W!="string")throw yi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!y.call(this)){var he=ce(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;j.call(this,{text:W,x:X,y:re,scale:we,angle:he,align:this.textAlign,maxWidth:ee})}},p.prototype.strokeText=function(W,X,re,ee){if(isNaN(X)||isNaN(re)||typeof W!="string")throw yi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ee=isNaN(ee)?void 0:ee;var he=ce(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;j.call(this,{text:W,x:X,y:re,scale:we,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:ee})}},p.prototype.measureText=function(W){if(typeof W!="string")throw yi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,re=this.pdf.internal.scaleFactor,ee=X.internal.getFontSize(),he=X.getStringUnitWidth(W)*ee/X.internal.scaleFactor,we=function(ge){var Ee=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this};return new we({width:he*=Math.round(96*re/72*1e4)/1e4})},p.prototype.scale=function(W,X){if(isNaN(W)||isNaN(X))throw yi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new u(W,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},p.prototype.rotate=function(W){if(isNaN(W))throw yi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new u(Math.cos(W),Math.sin(W),-Math.sin(W),Math.cos(W),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},p.prototype.translate=function(W,X){if(isNaN(W)||isNaN(X))throw yi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new u(1,0,0,1,W,X);this.ctx.transform=this.ctx.transform.multiply(re)},p.prototype.transform=function(W,X,re,ee,he,we){if(isNaN(W)||isNaN(X)||isNaN(re)||isNaN(ee)||isNaN(he)||isNaN(we))throw yi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new u(W,X,re,ee,he,we);this.ctx.transform=this.ctx.transform.multiply(ge)},p.prototype.setTransform=function(W,X,re,ee,he,we){W=isNaN(W)?1:W,X=isNaN(X)?0:X,re=isNaN(re)?0:re,ee=isNaN(ee)?1:ee,he=isNaN(he)?0:he,we=isNaN(we)?0:we,this.ctx.transform=new u(W,X,re,ee,he,we)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(W,X,re,ee,he,we,ge,Ee,Oe){var Ve=this.pdf.getImageProperties(W),tt=1,$e=1,it=1,ke=1;ee!==void 0&&Ee!==void 0&&(it=Ee/ee,ke=Oe/he,tt=Ve.width/ee*Ee/ee,$e=Ve.height/he*Oe/he),we===void 0&&(we=X,ge=re,X=0,re=0),ee!==void 0&&Ee===void 0&&(Ee=ee,Oe=he),ee===void 0&&Ee===void 0&&(Ee=Ve.width,Oe=Ve.height);for(var fe,St=this.ctx.transform.decompose(),wt=ce(St.rotate.shx),nt=new u,rt=(nt=(nt=(nt=nt.multiply(St.translate)).multiply(St.skew)).multiply(St.scale)).applyToRectangle(new l(we-X*it,ge-re*ke,ee*tt,he*$e)),at=T.call(this,rt),lt=[],xt=0;xt<at.length;xt+=1)lt.indexOf(at[xt])===-1&&lt.push(at[xt]);if(O(lt),this.autoPaging)for(var Mt=lt[0],Vt=lt[lt.length-1],At=Mt;At<Vt+1;At++){this.pdf.setPage(At);var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kt=At===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=At===1?0:yt+(At-2)*Xt;if(this.ctx.clip_path.length!==0){var pi=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(fe,this.posX+this.margin[3],-ht+Kt+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=pi}var Qt=JSON.parse(JSON.stringify(rt));Qt=k([Qt],this.posX+this.margin[3],-ht+Kt+this.ctx.prevPageLastElemOffset)[0];var Xi=(At>Mt||At<Vt)&&A.call(this);Xi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Xt,null).clip().discardPath()),this.pdf.addImage(W,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,wt),Xi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(W,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,wt)};var T=function(W,X,re){var ee=[];X=X||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(W.type){default:case"mt":case"lt":ee.push(Math.floor((W.y+he)/re)+1);break;case"arc":ee.push(Math.floor((W.y+he-W.radius)/re)+1),ee.push(Math.floor((W.y+he+W.radius)/re)+1);break;case"qct":var we=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x,W.y);ee.push(Math.floor((we.y+he)/re)+1),ee.push(Math.floor((we.y+we.h+he)/re)+1);break;case"bct":var ge=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x2,W.y2,W.x,W.y);ee.push(Math.floor((ge.y+he)/re)+1),ee.push(Math.floor((ge.y+ge.h+he)/re)+1);break;case"rect":ee.push(Math.floor((W.y+he)/re)+1),ee.push(Math.floor((W.y+W.h+he)/re)+1)}for(var Ee=0;Ee<ee.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<ee[Ee];)E.call(this);return ee},E=function(){var W=this.fillStyle,X=this.strokeStyle,re=this.font,ee=this.lineCap,he=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=W,this.strokeStyle=X,this.font=re,this.lineCap=ee,this.lineWidth=he,this.lineJoin=we},k=function(W,X,re){for(var ee=0;ee<W.length;ee++)switch(W[ee].type){case"bct":W[ee].x2+=X,W[ee].y2+=re;case"qct":W[ee].x1+=X,W[ee].y1+=re;case"mt":case"lt":case"arc":default:W[ee].x+=X,W[ee].y+=re}return W},O=function(W){return W.sort(function(X,re){return X-re})},B=function(W,X){for(var re,ee,he=this.fillStyle,we=this.strokeStyle,ge=this.lineCap,Ee=this.lineWidth,Oe=Math.abs(Ee*this.ctx.transform.scaleX),Ve=this.lineJoin,tt=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),it=[],ke=0;ke<$e.length;ke++)if($e[ke].x!==void 0)for(var fe=T.call(this,$e[ke]),St=0;St<fe.length;St+=1)it.indexOf(fe[St])===-1&&it.push(fe[St]);for(var wt=0;wt<it.length;wt++)for(;this.pdf.internal.getNumberOfPages()<it[wt];)E.call(this);if(O(it),this.autoPaging)for(var nt=it[0],rt=it[it.length-1],at=nt;at<rt+1;at++){this.pdf.setPage(at),this.fillStyle=he,this.strokeStyle=we,this.lineCap=ge,this.lineWidth=Oe,this.lineJoin=Ve;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=at===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=at===1?0:Mt+(at-2)*Vt;if(this.ctx.clip_path.length!==0){var bt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(re,this.posX+this.margin[3],-At+xt+this.ctx.prevPageLastElemOffset),V.call(this,W,!0),this.path=bt}if(ee=JSON.parse(JSON.stringify(tt)),this.path=k(ee,this.posX+this.margin[3],-At+xt+this.ctx.prevPageLastElemOffset),X===!1||at===0){var Kt=(at>nt||at<rt)&&A.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Vt,null).clip().discardPath()),V.call(this,W,X),Kt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}else this.lineWidth=Oe,V.call(this,W,X),this.lineWidth=Ee;this.path=tt},V=function(W,X){if((W!=="stroke"||X||!x.call(this))&&(W==="stroke"||X||!y.call(this))){for(var re,ee,he=[],we=this.path,ge=0;ge<we.length;ge++){var Ee=we[ge];switch(Ee.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:Ee,deltas:[],abs:[]});break;case"lt":var Oe=he.length;if(we[ge-1]&&!isNaN(we[ge-1].x)&&(re=[Ee.x-we[ge-1].x,Ee.y-we[ge-1].y],Oe>0)){for(;Oe>=0;Oe--)if(he[Oe-1].close!==!0&&he[Oe-1].begin!==!0){he[Oe-1].deltas.push(re),he[Oe-1].abs.push(Ee);break}}break;case"bct":re=[Ee.x1-we[ge-1].x,Ee.y1-we[ge-1].y,Ee.x2-we[ge-1].x,Ee.y2-we[ge-1].y,Ee.x-we[ge-1].x,Ee.y-we[ge-1].y],he[he.length-1].deltas.push(re);break;case"qct":var Ve=we[ge-1].x+2/3*(Ee.x1-we[ge-1].x),tt=we[ge-1].y+2/3*(Ee.y1-we[ge-1].y),$e=Ee.x+2/3*(Ee.x1-Ee.x),it=Ee.y+2/3*(Ee.y1-Ee.y),ke=Ee.x,fe=Ee.y;re=[Ve-we[ge-1].x,tt-we[ge-1].y,$e-we[ge-1].x,it-we[ge-1].y,ke-we[ge-1].x,fe-we[ge-1].y],he[he.length-1].deltas.push(re);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(Ee)}}ee=X?null:W==="stroke"?"stroke":"fill";for(var St=!1,wt=0;wt<he.length;wt++)if(he[wt].arc)for(var nt=he[wt].abs,rt=0;rt<nt.length;rt++){var at=nt[rt];at.type==="arc"?P.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,X,!St):z.call(this,at.x,at.y),St=!0}else if(he[wt].close===!0)this.pdf.internal.out("h"),St=!1;else if(he[wt].begin!==!0){var lt=he[wt].start.x,xt=he[wt].start.y;te.call(this,he[wt].deltas,lt,xt),St=!0}ee&&F.call(this,ee),X&&H.call(this)}},Y=function(W){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return W-re;case"top":return W+X-re;case"hanging":return W+X-2*re;case"middle":return W+X/2-re;case"ideographic":return W;case"alphabetic":default:return W}},I=function(W){return W+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var W=function(){};return W.colorStops=[],W.addColorStop=function(X,re){this.colorStops.push([X,re])},W.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},W.isCanvasGradient=!0,W},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(W,X,re,ee,he,we,ge,Ee,Oe){for(var Ve=ae.call(this,re,ee,he,we),tt=0;tt<Ve.length;tt++){var $e=Ve[tt];tt===0&&(Oe?M.call(this,$e.x1+W,$e.y1+X):z.call(this,$e.x1+W,$e.y1+X)),pe.call(this,W,X,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}Ee?H.call(this):F.call(this,ge)},F=function(W){switch(W){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(W,X){this.pdf.internal.out(n(W)+" "+i(X)+" m")},j=function(W){var X;switch(W.align){case"right":case"end":X="right";break;case"center":X="center";break;case"left":case"start":default:X="left"}var re=this.pdf.getTextDimensions(W.text),ee=Y.call(this,W.y),he=I.call(this,ee)-re.h,we=this.ctx.transform.applyToPoint(new a(W.x,ee)),ge=this.ctx.transform.decompose(),Ee=new u;Ee=(Ee=(Ee=Ee.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Oe,Ve,tt,$e=this.ctx.transform.applyToRectangle(new l(W.x,ee,re.w,re.h)),it=Ee.applyToRectangle(new l(W.x,he,re.w,re.h)),ke=T.call(this,it),fe=[],St=0;St<ke.length;St+=1)fe.indexOf(ke[St])===-1&&fe.push(ke[St]);if(O(fe),this.autoPaging)for(var wt=fe[0],nt=fe[fe.length-1],rt=wt;rt<nt+1;rt++){this.pdf.setPage(rt);var at=rt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[2],Mt=xt-this.margin[0],Vt=this.pdf.internal.pageSize.width-this.margin[1],At=Vt-this.margin[3],bt=rt===1?0:lt+(rt-2)*Mt;if(this.ctx.clip_path.length!==0){var Kt=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Oe,this.posX+this.margin[3],-1*bt+at),V.call(this,"fill",!0),this.path=Kt}var yt=k([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-bt+at+this.ctx.prevPageLastElemOffset)[0];W.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*W.scale),tt=this.lineWidth,this.lineWidth=tt*W.scale);var Xt=this.autoPaging!=="text";if(Xt||yt.y+yt.h<=xt){if(Xt||yt.y>=at&&yt.x<=Vt){var ht=Xt?W.text:this.pdf.splitTextToSize(W.text,W.maxWidth||Vt-yt.x)[0],pi=k([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-bt+at+this.ctx.prevPageLastElemOffset)[0],Qt=Xt&&(rt>wt||rt<nt)&&A.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,Mt,null).clip().discardPath()),this.pdf.text(ht,pi.x,pi.y,{angle:W.angle,align:X,renderingMode:W.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else yt.y<xt&&(this.ctx.prevPageLastElemOffset+=xt-yt.y);W.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=tt)}else W.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*W.scale),tt=this.lineWidth,this.lineWidth=tt*W.scale),this.pdf.text(W.text,we.x+this.posX,we.y+this.posY,{angle:W.angle,align:X,renderingMode:W.renderingMode,maxWidth:W.maxWidth}),W.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=tt)},z=function(W,X,re,ee){re=re||0,ee=ee||0,this.pdf.internal.out(n(W+re)+" "+i(X+ee)+" l")},te=function(W,X,re){return this.pdf.lines(W,X,re,null,null)},pe=function(W,X,re,ee,he,we,ge,Ee){this.pdf.internal.out([e(s(re+W)),e(r(ee+X)),e(s(he+W)),e(r(we+X)),e(s(ge+W)),e(r(Ee+X)),"c"].join(" "))},ae=function(W,X,re,ee){for(var he=2*Math.PI,we=Math.PI/2;X>re;)X-=he;var ge=Math.abs(re-X);ge<he&&ee&&(ge=he-ge);for(var Ee=[],Oe=ee?-1:1,Ve=X;ge>1e-5;){var tt=Ve+Oe*Math.min(ge,we);Ee.push(ue.call(this,W,Ve,tt)),ge-=Math.abs(tt-Ve),Ve=tt}return Ee},ue=function(W,X,re){var ee=(re-X)/2,he=W*Math.cos(ee),we=W*Math.sin(ee),ge=he,Ee=-we,Oe=ge*ge+Ee*Ee,Ve=Oe+ge*he+Ee*we,tt=4/3*(Math.sqrt(2*Oe*Ve)-Ve)/(ge*we-Ee*he),$e=ge-tt*Ee,it=Ee+tt*ge,ke=$e,fe=-it,St=ee+X,wt=Math.cos(St),nt=Math.sin(St);return{x1:W*Math.cos(X),y1:W*Math.sin(X),x2:$e*wt-it*nt,y2:$e*nt+it*wt,x3:ke*wt-fe*nt,y3:ke*nt+fe*wt,x4:W*Math.cos(re),y4:W*Math.sin(re)}},ce=function(W){return 180*W/Math.PI},ye=function(W,X,re,ee,he,we){var ge=W+.5*(re-W),Ee=X+.5*(ee-X),Oe=he+.5*(re-he),Ve=we+.5*(ee-we),tt=Math.min(W,he,ge,Oe),$e=Math.max(W,he,ge,Oe),it=Math.min(X,we,Ee,Ve),ke=Math.max(X,we,Ee,Ve);return new l(tt,it,$e-tt,ke-it)},Z=function(W,X,re,ee,he,we,ge,Ee){var Oe,Ve,tt,$e,it,ke,fe,St,wt,nt,rt,at,lt,xt,Mt=re-W,Vt=ee-X,At=he-re,bt=we-ee,Kt=ge-he,yt=Ee-we;for(Ve=0;Ve<41;Ve++)wt=(fe=(tt=W+(Oe=Ve/40)*Mt)+Oe*((it=re+Oe*At)-tt))+Oe*(it+Oe*(he+Oe*Kt-it)-fe),nt=(St=($e=X+Oe*Vt)+Oe*((ke=ee+Oe*bt)-$e))+Oe*(ke+Oe*(we+Oe*yt-ke)-St),Ve==0?(rt=wt,at=nt,lt=wt,xt=nt):(rt=Math.min(rt,wt),at=Math.min(at,nt),lt=Math.max(lt,wt),xt=Math.max(xt,nt));return new l(Math.round(rt),Math.round(at),Math.round(lt-rt),Math.round(xt-at))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var W,X,re=(W=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:W,lineDashOffset:X}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(jt.API),function(t){var e=function(r){var a,l,u,h,f,p,g,y,x,A;for(l=[],u=0,h=(r+=a="\0\0\0\0".slice(r.length%4||4)).length;h>u;u+=4)(f=(r.charCodeAt(u)<<24)+(r.charCodeAt(u+1)<<16)+(r.charCodeAt(u+2)<<8)+r.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(A=f%85))/85)-(x=f%85))/85)-(y=f%85))/85)-(g=f%85))/85)%85,l.push(p+33,g+33,y+33,x+33,A+33)):l.push(122);return function(T,E){for(var k=E;k>0;k--)T.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(r){var a,l,u,h,f,p=String,g="length",y=255,x="charCodeAt",A="slice",T="replace";for(r[A](-2),r=r[A](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),u=[],h=0,f=(r+=a="uuuuu"[A](r[g]%5||5))[g];f>h;h+=5)l=52200625*(r[x](h)-33)+614125*(r[x](h+1)-33)+7225*(r[x](h+2)-33)+85*(r[x](h+3)-33)+(r[x](h+4)-33),u.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(E,k){for(var O=k;O>0;O--)E.pop()}(u,a[g]),p.fromCharCode.apply(p,u)},i=function(r){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((r=r.replace(/\s/g,"")).indexOf(">")!==-1&&(r=r.substr(0,r.indexOf(">"))),r.length%2&&(r+="0"),a.test(r)===!1)return"";for(var l="",u=0;u<r.length;u+=2)l+=String.fromCharCode("0x"+(r[u]+r[u+1]));return l},s=function(r){for(var a=new Uint8Array(r.length),l=r.length;l--;)a[l]=r.charCodeAt(l);return r=(a=A_(a)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};t.processDataByFilters=function(r,a){var l=0,u=r||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(jt.API),function(t){t.loadFile=function(e,n,i){return function(s,r,a){r=r!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(u,h,f){var p=new XMLHttpRequest,g=0,y=function(x){var A=x.length,T=[],E=String.fromCharCode;for(g=0;g<A;g+=1)T.push(E(255&x.charCodeAt(g)));return T.join("")};if(p.open("GET",u,!h),p.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(p.onload=function(){p.status===200?f(y(this.responseText)):f(void 0)}),p.send(null),h&&p.status===200)return y(p.responseText)}(s,r,a)}catch{}return l}(e,n,i)},t.loadImageFile=t.loadFile}(jt.API),function(t){function e(){return(Bt.html2canvas?Promise.resolve(Bt.html2canvas):O1(()=>import("./html2canvas.esm-BfxBtG_O.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Bt.DOMPurify?Promise.resolve(Bt.DOMPurify):O1(()=>import("./purify.es-CQJ0hv7W.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var l=oi(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(a,l){var u=document.createElement(a);for(var h in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[h]=l.style[h];return u},r=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),u);return h=(h=h.setProgress(1,a,1,[a])).set(l)};(r.prototype=Object.create(Promise.prototype)).constructor=r,r.convert=function(a,l){return a.__proto__=l||r.prototype,a},r.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},r.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(u){return this.set({src:s("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},r.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},r.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function u(h,f){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),g=h.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(u(g,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},r.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},r.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,h=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var g=0;g<h.length;++g){var y=h[g],x=y.src.find(function(A){return A.format==="truetype"});x&&u.addFont(x.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},r.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},r.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},r.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},r.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},r.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},r.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},r.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},r.prototype.set=function(a){if(i(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in r.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},r.prototype.get=function(a,l){return this.then(function(){var u=a in r.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},r.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},r.prototype.setPageSize=function(a){function l(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(a=a||jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},r.prototype.setProgress=function(a,l,u,h){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},r.prototype.updateProgress=function(a,l,u,h){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},r.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(h,f){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,h),p}).then(h,f).then(function(p){return u.updateProgress(1),p})})},r.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:r.convert(Object.assign({},this),Promise.prototype),f=u.call(h,a,l);return r.convert(f,this.__proto__)},r.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},r.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},r.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return r.convert(l,this)},r.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},r.prototype.error=function(a){return this.then(function(){throw new Error(a)})},r.prototype.using=r.prototype.set,r.prototype.saveAs=r.prototype.save,r.prototype.export=r.prototype.output,r.prototype.run=r.prototype.then,jt.getPageSize=function(a,l,u){if(oi(a)==="object"){var h=a;a=h.orientation,l=h.unit||l,u=h.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var y,x=0,A=0;if(g.hasOwnProperty(p))x=g[p][1]/f,A=g[p][0]/f;else try{x=u[1],A=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",A>x&&(y=A,A=x,x=y);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",x>A&&(y=A,A=x,x=y)}return{width:A,height:x,unit:l,k:f,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(k_):null;var u=new r(l);return l.worker?u:u.from(a).doCallback()}}(jt.API),jt.API.addJS=function(t){return b3=t,this.internal.events.subscribe("postPutResources",function(){bv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),v3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+b3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bv!==void 0&&v3!==void 0&&this.internal.out("/Names <</JavaScript "+bv+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),r=0;r<s.length;r++){var a=s[r],l=i.exec(a);if(l!=null){var u=l[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(r=0;r<h;r++){var p=n.internal.newObject();f.push(p);var g=n.internal.getPageInfo(r+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),r=0;r<f.length;r++)n.internal.write("(page_"+(r+1)+")"+f[r]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,s,r){var a={title:s,options:r,children:[]};return i==null&&(i=this.root),i.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<i.children.length;r++){var a=i.children[r];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),r>0&&this.line("/Prev "+this.makeRef(i.children[r-1])),r<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[r+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var u=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var h=0;h<i.children.length;h++)this.renderItems(i.children[h])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,s){for(var r=0;r<s.children.length;r++)i.count++,this.count_r(i,s.children[r]);return i.count}}])}(jt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,i,s,r,a,l){var u,h=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=function(p){for(var g,y=256*p.charCodeAt(4)+p.charCodeAt(5),x=p.length,A={width:0,height:0,numcomponents:1},T=4;T<x;T+=2){if(T+=y,e.indexOf(p.charCodeAt(T+1))!==-1){g=256*p.charCodeAt(T+5)+p.charCodeAt(T+6),A={width:256*p.charCodeAt(T+7)+p.charCodeAt(T+8),height:g,numcomponents:p.charCodeAt(T+9)};break}y=256*p.charCodeAt(T+2)+p.charCodeAt(T+3)}return A}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:n,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:h,index:i,alias:s}}return f}}(jt.API);var pp,wv,w3,x3,_3,WX=function(){var t,e,n;function i(r){var a,l,u,h,f,p,g,y,x,A,T,E,k,O;for(this.data=r,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(a=this.readUInt32(),x=(function(){var B,V;for(V=[],B=0;B<4;++B)V.push(String.fromCharCode(this.data[this.pos++]));return V}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),h=this.readUInt16()||100,p.delay=1e3*f/h,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,a-=4),r=p?.data||this.imgData,E=0;0<=a?E<a:E>a;0<=a?++E:--E)r.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((A=u-this.transparency.indexed.length)>0)for(k=0;0<=A?k<A:k>A;0<=A?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":g=(T=this.read(a)).indexOf(0),y=String.fromCharCode.apply(String,T.slice(0,g)),this.text[y]=String.fromCharCode.apply(String,T.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(O=this.colorType)===4||O===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(r){var a,l;for(l=[],a=0;0<=r?a<r:a>r;0<=r?++a:--a)l.push(this.data[this.pos++]);return l},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(r){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),u=0,h=this;if(r==null&&(r=this.imgData),r.length===0)return new Uint8Array(0);function f(p,g,y,x){var A,T,E,k,O,B,V,Y,I,P,F,H,M,j,z,te,pe,ae,ue,ce,ye,Z=Math.ceil((h.width-p)/y),be=Math.ceil((h.height-g)/x),W=h.width==Z&&h.height==be;for(j=a*Z,H=W?l:new Uint8Array(j*be),B=r.length,M=0,T=0;M<be&&u<B;){switch(r[u++]){case 0:for(k=pe=0;pe<j;k=pe+=1)H[T++]=r[u++];break;case 1:for(k=ae=0;ae<j;k=ae+=1)A=r[u++],O=k<a?0:H[T-a],H[T++]=(A+O)%256;break;case 2:for(k=ue=0;ue<j;k=ue+=1)A=r[u++],E=(k-k%a)/a,z=M&&H[(M-1)*j+E*a+k%a],H[T++]=(z+A)%256;break;case 3:for(k=ce=0;ce<j;k=ce+=1)A=r[u++],E=(k-k%a)/a,O=k<a?0:H[T-a],z=M&&H[(M-1)*j+E*a+k%a],H[T++]=(A+Math.floor((O+z)/2))%256;break;case 4:for(k=ye=0;ye<j;k=ye+=1)A=r[u++],E=(k-k%a)/a,O=k<a?0:H[T-a],M===0?z=te=0:(z=H[(M-1)*j+E*a+k%a],te=E&&H[(M-1)*j+(E-1)*a+k%a]),V=O+z-te,Y=Math.abs(V-O),P=Math.abs(V-z),F=Math.abs(V-te),I=Y<=P&&Y<=F?O:P<=F?z:te,H[T++]=(A+I)%256;break;default:throw new Error("Invalid filter algorithm: "+r[u-1])}if(!W){var X=((g+M*x)*h.width+p)*a,re=M*j;for(k=0;k<Z;k+=1){for(var ee=0;ee<a;ee+=1)l[X++]=H[re++];X+=(y-1)*a}}M++}}return r=SX(r),h.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},i.prototype.decodePalette=function(){var r,a,l,u,h,f,p,g,y;for(l=this.palette,f=this.transparency.indexed||[],h=new Uint8Array((f.length||0)+l.length),u=0,r=0,a=p=0,g=l.length;p<g;a=p+=3)h[u++]=l[a],h[u++]=l[a+1],h[u++]=l[a+2],h[u++]=(y=f[r++])!=null?y:255;return h},i.prototype.copyToImageData=function(r,a){var l,u,h,f,p,g,y,x,A,T,E;if(u=this.colors,A=null,l=this.hasAlphaChannel,this.palette.length&&(A=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),u=4,l=!0),x=(h=r.data||r).length,p=A||a,f=g=0,u===1)for(;f<x;)y=A?4*a[f/4]:g,T=p[y++],h[f++]=T,h[f++]=T,h[f++]=T,h[f++]=l?p[y++]:255,g=y;else for(;f<x;)y=A?4*a[f/4]:g,h[f++]=p[y++],h[f++]=p[y++],h[f++]=p[y++],h[f++]=l?p[y++]:255,g=y},i.prototype.decode=function(){var r;return r=new Uint8Array(this.width*this.height*4),this.copyToImageData(r,this.decodePixels()),r};var s=function(){if(Object.prototype.toString.call(Bt)==="[object Window]"){try{e=Bt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(r){var a;if(s()===!0)return n.width=r.width,n.height=r.height,n.clearRect(0,0,r.width,r.height),n.putImageData(r,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(r){var a,l,u,h,f,p,g,y;if(this.animation){for(y=[],l=f=0,p=(g=this.animation.frames).length;f<p;l=++f)a=g[l],u=r.createImageData(a.width,a.height),h=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(u,h),a.imageData=u,y.push(a.image=t(u));return y}},i.prototype.renderFrame=function(r,a){var l,u,h;return l=(u=this.animation.frames)[a],h=u[a-1],a===0&&r.clearRect(0,0,this.width,this.height),h?.disposeOp===1?r.clearRect(h.xOffset,h.yOffset,h.width,h.height):h?.disposeOp===2&&r.putImageData(h.imageData,h.xOffset,h.yOffset),l.blendOp===0&&r.clearRect(l.xOffset,l.yOffset,l.width,l.height),r.drawImage(l.image,l.xOffset,l.yOffset)},i.prototype.animate=function(r){var a,l,u,h,f,p,g=this;return l=0,p=this.animation,h=p.numFrames,u=p.frames,f=p.numPlays,(a=function(){var y,x;if(y=l++%h,x=u[y],g.renderFrame(r,y),h>1&&l/h<f)return g.animation._timeout=setTimeout(a,x.delay)})()},i.prototype.stopAnimation=function(){var r;return clearTimeout((r=this.animation)!=null?r._timeout:void 0)},i.prototype.render=function(r){var a,l;return r._png&&r._png.stopAnimation(),r._png=this,r.width=this.width,r.height=this.height,a=r.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function $X(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,s=t[e++],r=s>>7,a=1<<(7&s)+1;t[e++],t[e++];var l=null,u=null;r&&(l=e,u=a,e+=3*a);var h=!0,f=[],p=0,g=null,y=0,x=null;for(this.width=n,this.height=i;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=t[e++];p=t[e++]|t[e++]<<8,g=t[e++],(1&A)==0&&(g=null),y=A>>2&7,e++;break;case 254:for(;;){if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var T=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,O=t[e++]|t[e++]<<8,B=t[e++],V=B>>6&1,Y=1<<(7&B)+1,I=l,P=u,F=!1;B>>7&&(F=!0,I=e,P=Y,e+=3*Y);var H=e;for(e++;;){var M;if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}f.push({x:T,y:E,width:k,height:O,has_local_palette:F,palette_offset:I,palette_size:P,data_offset:H,data_length:e-H,transparent_index:g,interlaced:!!V,delay:p,disposal:y});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return x},this.frameInfo=function(j){if(j<0||j>=f.length)throw new Error("Frame index out of range.");return f[j]},this.decodeAndBlitFrameBGRA=function(j,z){var te=this.frameInfo(j),pe=te.width*te.height,ae=new Uint8Array(pe);S3(t,te.data_offset,ae,pe);var ue=te.palette_offset,ce=te.transparent_index;ce===null&&(ce=256);var ye=te.width,Z=n-ye,be=ye,W=4*(te.y*n+te.x),X=4*((te.y+te.height)*n+te.x),re=W,ee=4*Z;te.interlaced===!0&&(ee+=4*n*7);for(var he=8,we=0,ge=ae.length;we<ge;++we){var Ee=ae[we];if(be===0&&(be=ye,(re+=ee)>=X&&(ee=4*Z+4*n*(he-1),re=W+(ye+Z)*(he<<1),he>>=1)),Ee===ce)re+=4;else{var Oe=t[ue+3*Ee],Ve=t[ue+3*Ee+1],tt=t[ue+3*Ee+2];z[re++]=tt,z[re++]=Ve,z[re++]=Oe,z[re++]=255}--be}},this.decodeAndBlitFrameRGBA=function(j,z){var te=this.frameInfo(j),pe=te.width*te.height,ae=new Uint8Array(pe);S3(t,te.data_offset,ae,pe);var ue=te.palette_offset,ce=te.transparent_index;ce===null&&(ce=256);var ye=te.width,Z=n-ye,be=ye,W=4*(te.y*n+te.x),X=4*((te.y+te.height)*n+te.x),re=W,ee=4*Z;te.interlaced===!0&&(ee+=4*n*7);for(var he=8,we=0,ge=ae.length;we<ge;++we){var Ee=ae[we];if(be===0&&(be=ye,(re+=ee)>=X&&(ee=4*Z+4*n*(he-1),re=W+(ye+Z)*(he<<1),he>>=1)),Ee===ce)re+=4;else{var Oe=t[ue+3*Ee],Ve=t[ue+3*Ee+1],tt=t[ue+3*Ee+2];z[re++]=Oe,z[re++]=Ve,z[re++]=tt,z[re++]=255}--be}}}function S3(t,e,n,i){for(var s=t[e++],r=1<<s,a=r+1,l=a+1,u=s+1,h=(1<<u)-1,f=0,p=0,g=0,y=t[e++],x=new Int32Array(4096),A=null;;){for(;f<16&&y!==0;)p|=t[e++]<<f,f+=8,y===1?y=t[e++]:--y;if(f<u)break;var T=p&h;if(p>>=u,f-=u,T!==r){if(T===a)break;for(var E=T<l?T:A,k=0,O=E;O>r;)O=x[O]>>8,++k;var B=O;if(g+k+(E!==T?1:0)>i)return void yi.log("Warning, gif stream longer than expected.");n[g++]=B;var V=g+=k;for(E!==T&&(n[g++]=B),O=E;k--;)O=x[O],n[--V]=255&O,O>>=8;A!==null&&l<4096&&(x[l++]=A<<8|B,l>=h+1&&u<12&&(++u,h=h<<1|1)),A=T}else l=a+1,h=(1<<(u=s+1))-1,A=null}return g!==i&&yi.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ex(t){var e,n,i,s,r,a=Math.floor,l=new Array(64),u=new Array(64),h=new Array(64),f=new Array(64),p=new Array(65535),g=new Array(65535),y=new Array(64),x=new Array(64),A=[],T=0,E=7,k=new Array(64),O=new Array(64),B=new Array(64),V=new Array(256),Y=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(W,X){for(var re=0,ee=0,he=new Array,we=1;we<=16;we++){for(var ge=1;ge<=W[we];ge++)he[X[ee]]=[],he[X[ee]][0]=re,he[X[ee]][1]=we,ee++,re++;re*=2}return he}function ue(W){for(var X=W[0],re=W[1]-1;re>=0;)X&1<<re&&(T|=1<<E),re--,--E<0&&(T==255?(ce(255),ce(0)):ce(T),E=7,T=0)}function ce(W){A.push(W)}function ye(W){ce(W>>8&255),ce(255&W)}function Z(W,X,re,ee,he){for(var we,ge=he[0],Ee=he[240],Oe=function(nt,rt){var at,lt,xt,Mt,Vt,At,bt,Kt,yt,Xt,ht=0;for(yt=0;yt<8;++yt){at=nt[ht],lt=nt[ht+1],xt=nt[ht+2],Mt=nt[ht+3],Vt=nt[ht+4],At=nt[ht+5],bt=nt[ht+6];var pi=at+(Kt=nt[ht+7]),Qt=at-Kt,Xi=lt+bt,Jt=lt-bt,kn=xt+At,Vi=xt-At,un=Mt+Vt,Ys=Mt-Vt,Kn=pi+un,Li=pi-un,Qi=Xi+kn,On=Xi-kn;nt[ht]=Kn+Qi,nt[ht+4]=Kn-Qi;var Ct=.707106781*(On+Li);nt[ht+2]=Li+Ct,nt[ht+6]=Li-Ct;var nn=.382683433*((Kn=Ys+Vi)-(On=Jt+Qt)),Fs=.5411961*Kn+nn,ti=1.306562965*On+nn,Zi=.707106781*(Qi=Vi+Jt),lr=Qt+Zi,dt=Qt-Zi;nt[ht+5]=dt+Fs,nt[ht+3]=dt-Fs,nt[ht+1]=lr+ti,nt[ht+7]=lr-ti,ht+=8}for(ht=0,yt=0;yt<8;++yt){at=nt[ht],lt=nt[ht+8],xt=nt[ht+16],Mt=nt[ht+24],Vt=nt[ht+32],At=nt[ht+40],bt=nt[ht+48];var pt=at+(Kt=nt[ht+56]),Xn=at-Kt,mi=lt+bt,Si=lt-bt,ki=xt+At,Ji=xt-At,Bo=Mt+Vt,ur=Mt-Vt,Ns=pt+Bo,hs=pt-Bo,es=mi+ki,ds=mi-ki;nt[ht]=Ns+es,nt[ht+32]=Ns-es;var li=.707106781*(ds+hs);nt[ht+16]=hs+li,nt[ht+48]=hs-li;var Fn=.382683433*((Ns=ur+Ji)-(ds=Si+Xn)),ka=.5411961*Ns+Fn,Pa=1.306562965*ds+Fn,Gs=.707106781*(es=Ji+Si),xr=Xn+Gs,zo=Xn-Gs;nt[ht+40]=zo+ka,nt[ht+24]=zo-ka,nt[ht+8]=xr+Pa,nt[ht+56]=xr-Pa,ht++}for(yt=0;yt<64;++yt)Xt=nt[yt]*rt[yt],y[yt]=Xt>0?Xt+.5|0:Xt-.5|0;return y}(W,X),Ve=0;Ve<64;++Ve)x[I[Ve]]=Oe[Ve];var tt=x[0]-re;re=x[0],tt==0?ue(ee[0]):(ue(ee[g[we=32767+tt]]),ue(p[we]));for(var $e=63;$e>0&&x[$e]==0;)$e--;if($e==0)return ue(ge),re;for(var it,ke=1;ke<=$e;){for(var fe=ke;x[ke]==0&&ke<=$e;)++ke;var St=ke-fe;if(St>=16){it=St>>4;for(var wt=1;wt<=it;++wt)ue(Ee);St&=15}we=32767+x[ke],ue(he[(St<<4)+g[we]]),ue(p[we]),ke++}return $e!=63&&ue(ge),re}function be(W){W=Math.min(Math.max(W,1),100),r!=W&&(function(X){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var he=a((re[ee]*X+50)/100);he=Math.min(Math.max(he,1),255),l[I[ee]]=he}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var Ee=a((we[ge]*X+50)/100);Ee=Math.min(Math.max(Ee,1),255),u[I[ge]]=Ee}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ve=0,tt=0;tt<8;tt++)for(var $e=0;$e<8;$e++)h[Ve]=1/(l[I[Ve]]*Oe[tt]*Oe[$e]*8),f[Ve]=1/(u[I[Ve]]*Oe[tt]*Oe[$e]*8),Ve++}(W<50?Math.floor(5e3/W):Math.floor(200-2*W)),r=W)}this.encode=function(W,X){X&&be(X),A=new Array,T=0,E=7,ye(65496),ye(65504),ye(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),ye(1),ye(1),ce(0),ce(0),function(){ye(65499),ye(132),ce(0);for(var lt=0;lt<64;lt++)ce(l[lt]);ce(1);for(var xt=0;xt<64;xt++)ce(u[xt])}(),function(lt,xt){ye(65472),ye(17),ce(8),ye(xt),ye(lt),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(W.width,W.height),function(){ye(65476),ye(418),ce(0);for(var lt=0;lt<16;lt++)ce(P[lt+1]);for(var xt=0;xt<=11;xt++)ce(F[xt]);ce(16);for(var Mt=0;Mt<16;Mt++)ce(H[Mt+1]);for(var Vt=0;Vt<=161;Vt++)ce(M[Vt]);ce(1);for(var At=0;At<16;At++)ce(j[At+1]);for(var bt=0;bt<=11;bt++)ce(z[bt]);ce(17);for(var Kt=0;Kt<16;Kt++)ce(te[Kt+1]);for(var yt=0;yt<=161;yt++)ce(pe[yt])}(),ye(65498),ye(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var re=0,ee=0,he=0;T=0,E=7,this.encode.displayName="_encode_";for(var we,ge,Ee,Oe,Ve,tt,$e,it,ke,fe=W.data,St=W.width,wt=W.height,nt=4*St,rt=0;rt<wt;){for(we=0;we<nt;){for(Ve=nt*rt+we,$e=-1,it=0,ke=0;ke<64;ke++)tt=Ve+(it=ke>>3)*nt+($e=4*(7&ke)),rt+it>=wt&&(tt-=nt*(rt+1+it-wt)),we+$e>=nt&&(tt-=we+$e-nt+4),ge=fe[tt++],Ee=fe[tt++],Oe=fe[tt++],k[ke]=(Y[ge]+Y[Ee+256>>0]+Y[Oe+512>>0]>>16)-128,O[ke]=(Y[ge+768>>0]+Y[Ee+1024>>0]+Y[Oe+1280>>0]>>16)-128,B[ke]=(Y[ge+1280>>0]+Y[Ee+1536>>0]+Y[Oe+1792>>0]>>16)-128;re=Z(k,h,re,e,i),ee=Z(O,f,ee,n,s),he=Z(B,f,he,n,s),we+=32}rt+=8}if(E>=0){var at=[];at[1]=E+1,at[0]=(1<<E+1)-1,ue(at)}return ye(65497),new Uint8Array(A)},t=t||50,function(){for(var W=String.fromCharCode,X=0;X<256;X++)V[X]=W(X)}(),e=ae(P,F),n=ae(j,z),i=ae(H,M),s=ae(te,pe),function(){for(var W=1,X=2,re=1;re<=15;re++){for(var ee=W;ee<X;ee++)g[32767+ee]=re,p[32767+ee]=[],p[32767+ee][1]=re,p[32767+ee][0]=ee;for(var he=-(X-1);he<=-W;he++)g[32767+he]=re,p[32767+he]=[],p[32767+he][1]=re,p[32767+he][0]=X-1+he;W<<=1,X<<=1}}(),function(){for(var W=0;W<256;W++)Y[W]=19595*W,Y[W+256>>0]=38470*W,Y[W+512>>0]=7471*W+32768,Y[W+768>>0]=-11059*W,Y[W+1024>>0]=-21709*W,Y[W+1280>>0]=32768*W+8421375,Y[W+1536>>0]=-27439*W,Y[W+1792>>0]=-5329*W}(),be(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function pl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function A3(t){function e(P){if(!P)throw Error("assert :P")}function n(P,F,H){for(var M=0;4>M;M++)if(P[F+M]!=H.charCodeAt(M))return!0;return!1}function i(P,F,H,M,j){for(var z=0;z<j;z++)P[F+z]=H[M+z]}function s(P,F,H,M){for(var j=0;j<M;j++)P[F+j]=H}function r(P){return new Int32Array(P)}function a(P,F){for(var H=[],M=0;M<P;M++)H.push(new F);return H}function l(P,F){var H=[];return function M(j,z,te){for(var pe=te[z],ae=0;ae<pe&&(j.push(te.length>z+1?[]:new F),!(te.length<z+1));ae++)M(j[ae],z+1,te)}(H,0,P),H}var u=function(){var P=this;function F(b,S){for(var R=1<<S-1>>>0;b&R;)R>>>=1;return R?(b&R-1)+R:b}function H(b,S,R,U,G){e(!(U%R));do b[S+(U-=R)]=G;while(0<U)}function M(b,S,R,U,G){if(e(2328>=G),512>=G)var Q=r(512);else if((Q=r(G))==null)return 0;return function(J,ne,oe,le,xe,Me){var Pe,Ne,Ke=ne,Ue=1<<oe,_e=r(16),Ae=r(16);for(e(xe!=0),e(le!=null),e(J!=null),e(0<oe),Ne=0;Ne<xe;++Ne){if(15<le[Ne])return 0;++_e[le[Ne]]}if(_e[0]==xe)return 0;for(Ae[1]=0,Pe=1;15>Pe;++Pe){if(_e[Pe]>1<<Pe)return 0;Ae[Pe+1]=Ae[Pe]+_e[Pe]}for(Ne=0;Ne<xe;++Ne)Pe=le[Ne],0<le[Ne]&&(Me[Ae[Pe]++]=Ne);if(Ae[15]==1)return(le=new j).g=0,le.value=Me[0],H(J,Ke,1,Ue,le),Ue;var ze,Xe=-1,We=Ue-1,mt=0,ot=1,Nt=1,ct=1<<oe;for(Ne=0,Pe=1,xe=2;Pe<=oe;++Pe,xe<<=1){if(ot+=Nt<<=1,0>(Nt-=_e[Pe]))return 0;for(;0<_e[Pe];--_e[Pe])(le=new j).g=Pe,le.value=Me[Ne++],H(J,Ke+mt,xe,ct,le),mt=F(mt,Pe)}for(Pe=oe+1,xe=2;15>=Pe;++Pe,xe<<=1){if(ot+=Nt<<=1,0>(Nt-=_e[Pe]))return 0;for(;0<_e[Pe];--_e[Pe]){if(le=new j,(mt&We)!=Xe){for(Ke+=ct,ze=1<<(Xe=Pe)-oe;15>Xe&&!(0>=(ze-=_e[Xe]));)++Xe,ze<<=1;Ue+=ct=1<<(ze=Xe-oe),J[ne+(Xe=mt&We)].g=ze+oe,J[ne+Xe].value=Ke-ne-Xe}le.g=Pe-oe,le.value=Me[Ne++],H(J,Ke+(mt>>oe),xe,ct,le),mt=F(mt,Pe)}}return ot!=2*Ae[15]-1?0:Ue}(b,S,R,U,G,Q)}function j(){this.value=this.g=0}function z(){this.value=this.g=0}function te(){this.G=a(5,j),this.H=r(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(ps,z)}function pe(b,S,R,U){e(b!=null),e(S!=null),e(2147483648>U),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=S,b.pa=R,b.Jd=S,b.Yc=R+U,b.Zc=4<=U?R+U-4+1:R,we(b)}function ae(b,S){for(var R=0;0<S--;)R|=Ee(b,128)<<S;return R}function ue(b,S){var R=ae(b,S);return ge(b)?-R:R}function ce(b,S,R,U){var G,Q=0;for(e(b!=null),e(S!=null),e(4294967288>U),b.Sb=U,b.Ra=0,b.u=0,b.h=0,4<U&&(U=4),G=0;G<U;++G)Q+=S[R+G]<<8*G;b.Ra=Q,b.bb=U,b.oa=S,b.pa=R}function ye(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Gu-8>>>0,++b.bb,b.u-=8;re(b)&&(b.h=1,b.u=0)}function Z(b,S){if(e(0<=S),!b.h&&S<=Yu){var R=X(b)&zl[S];return b.u+=S,ye(b),R}return b.h=1,b.u=0}function be(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(b){return b.Ra>>>(b.u&Gu-1)>>>0}function re(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Gu}function ee(b,S){b.u=S,b.h=re(b)}function he(b){b.u>=oh&&(e(b.u>=oh),ye(b))}function we(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ge(b){return ae(b,1)}function Ee(b,S){var R=b.Ca;0>b.b&&we(b);var U=b.b,G=R*S>>>8,Q=(b.I>>>U>G)+0;for(Q?(R-=G,b.I-=G+1<<U>>>0):R=G+1,U=R,G=0;256<=U;)G+=8,U>>=8;return U=7^G+Cr[U],b.b-=U,b.Ca=(R<<U)-1,Q}function Oe(b,S,R){b[S+0]=R>>24&255,b[S+1]=R>>16&255,b[S+2]=R>>8&255,b[S+3]=R>>0&255}function Ve(b,S){return b[S+0]<<0|b[S+1]<<8}function tt(b,S){return Ve(b,S)|b[S+2]<<16}function $e(b,S){return Ve(b,S)|Ve(b,S+2)<<16}function it(b,S){var R=1<<S;return e(b!=null),e(0<S),b.X=r(R),b.X==null?0:(b.Mb=32-S,b.Xa=S,1)}function ke(b,S){e(b!=null),e(S!=null),e(b.Xa==S.Xa),i(S.X,0,b.X,0,1<<S.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function St(b,S,R,U){e(R!=null),e(U!=null);var G=R[0],Q=U[0];return G==0&&(G=(b*Q+S/2)/S),Q==0&&(Q=(S*G+b/2)/b),0>=G||0>=Q?0:(R[0]=G,U[0]=Q,1)}function wt(b,S){return b+(1<<S)-1>>>S}function nt(b,S){return((4278255360&b)+(4278255360&S)>>>0&4278255360)+((16711935&b)+(16711935&S)>>>0&16711935)>>>0}function rt(b,S){P[S]=function(R,U,G,Q,J,ne,oe){var le;for(le=0;le<J;++le){var xe=P[b](ne[oe+le-1],G,Q+le);ne[oe+le]=nt(R[U+le],xe)}}}function at(){this.ud=this.hd=this.jd=0}function lt(b,S){return((4278124286&(b^S))>>>1)+(b&S)>>>0}function xt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Mt(b,S){return xt(b+(b-S+.5>>1))}function Vt(b,S,R){return Math.abs(S-R)-Math.abs(b-R)}function At(b,S,R,U,G,Q,J){for(U=Q[J-1],R=0;R<G;++R)Q[J+R]=U=nt(b[S+R],U)}function bt(b,S,R,U,G){var Q;for(Q=0;Q<R;++Q){var J=b[S+Q],ne=J>>8&255,oe=16711935&(oe=(oe=16711935&J)+((ne<<16)+ne));U[G+Q]=(4278255360&J)+oe>>>0}}function Kt(b,S){S.jd=b>>0&255,S.hd=b>>8&255,S.ud=b>>16&255}function yt(b,S,R,U,G,Q){var J;for(J=0;J<U;++J){var ne=S[R+J],oe=ne>>>8,le=ne,xe=255&(xe=(xe=ne>>>16)+((b.jd<<24>>24)*(oe<<24>>24)>>>5));le=255&(le=(le=le+((b.hd<<24>>24)*(oe<<24>>24)>>>5))+((b.ud<<24>>24)*(xe<<24>>24)>>>5)),G[Q+J]=(4278255360&ne)+(xe<<16)+le}}function Xt(b,S,R,U,G){P[S]=function(Q,J,ne,oe,le,xe,Me,Pe,Ne){for(oe=Me;oe<Pe;++oe)for(Me=0;Me<Ne;++Me)le[xe++]=G(ne[U(Q[J++])])},P[b]=function(Q,J,ne,oe,le,xe,Me){var Pe=8>>Q.b,Ne=Q.Ea,Ke=Q.K[0],Ue=Q.w;if(8>Pe)for(Q=(1<<Q.b)-1,Ue=(1<<Pe)-1;J<ne;++J){var _e,Ae=0;for(_e=0;_e<Ne;++_e)_e&Q||(Ae=U(oe[le++])),xe[Me++]=G(Ke[Ae&Ue]),Ae>>=Pe}else P["VP8LMapColor"+R](oe,le,Ke,Ue,xe,Me,J,ne,Ne)}}function ht(b,S,R,U,G){for(R=S+R;S<R;){var Q=b[S++];U[G++]=Q>>16&255,U[G++]=Q>>8&255,U[G++]=Q>>0&255}}function pi(b,S,R,U,G){for(R=S+R;S<R;){var Q=b[S++];U[G++]=Q>>16&255,U[G++]=Q>>8&255,U[G++]=Q>>0&255,U[G++]=Q>>24&255}}function Qt(b,S,R,U,G){for(R=S+R;S<R;){var Q=(J=b[S++])>>16&240|J>>12&15,J=J>>0&240|J>>28&15;U[G++]=Q,U[G++]=J}}function Xi(b,S,R,U,G){for(R=S+R;S<R;){var Q=(J=b[S++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;U[G++]=Q,U[G++]=J}}function Jt(b,S,R,U,G){for(R=S+R;S<R;){var Q=b[S++];U[G++]=Q>>0&255,U[G++]=Q>>8&255,U[G++]=Q>>16&255}}function kn(b,S,R,U,G,Q){if(Q==0)for(R=S+R;S<R;)Oe(U,((Q=b[S++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),G+=32;else i(U,G,b,S,R)}function Vi(b,S){P[S][0]=P[b+"0"],P[S][1]=P[b+"1"],P[S][2]=P[b+"2"],P[S][3]=P[b+"3"],P[S][4]=P[b+"4"],P[S][5]=P[b+"5"],P[S][6]=P[b+"6"],P[S][7]=P[b+"7"],P[S][8]=P[b+"8"],P[S][9]=P[b+"9"],P[S][10]=P[b+"10"],P[S][11]=P[b+"11"],P[S][12]=P[b+"12"],P[S][13]=P[b+"13"],P[S][14]=P[b+"0"],P[S][15]=P[b+"0"]}function un(b){return b==kd||b==Zl||b==tl||b==hh}function Ys(){this.eb=[],this.size=this.A=this.fb=0}function Kn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Li(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ys,this.f.kb=new Kn,this.sd=null}function Qi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function On(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ct(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function nn(b,S){var R=b.T,U=S.ba.f.RGBA,G=U.eb,Q=U.fb+b.ka*U.A,J=Rs[S.ba.S],ne=b.y,oe=b.O,le=b.f,xe=b.N,Me=b.ea,Pe=b.W,Ne=S.cc,Ke=S.dc,Ue=S.Mc,_e=S.Nc,Ae=b.ka,ze=b.ka+b.T,Xe=b.U,We=Xe+1>>1;for(Ae==0?J(ne,oe,null,null,le,xe,Me,Pe,le,xe,Me,Pe,G,Q,null,null,Xe):(J(S.ec,S.fc,ne,oe,Ne,Ke,Ue,_e,le,xe,Me,Pe,G,Q-U.A,G,Q,Xe),++R);Ae+2<ze;Ae+=2)Ne=le,Ke=xe,Ue=Me,_e=Pe,xe+=b.Rc,Pe+=b.Rc,Q+=2*U.A,J(ne,(oe+=2*b.fa)-b.fa,ne,oe,Ne,Ke,Ue,_e,le,xe,Me,Pe,G,Q-U.A,G,Q,Xe);return oe+=b.fa,b.j+ze<b.o?(i(S.ec,S.fc,ne,oe,Xe),i(S.cc,S.dc,le,xe,We),i(S.Mc,S.Nc,Me,Pe,We),R--):1&ze||J(ne,oe,null,null,le,xe,Me,Pe,le,xe,Me,Pe,G,Q+U.A,null,null,Xe),R}function Fs(b,S,R){var U=b.F,G=[b.J];if(U!=null){var Q=b.U,J=S.ba.S,ne=J==Ju||J==tl;S=S.ba.f.RGBA;var oe=[0],le=b.ka;oe[0]=b.T,b.Kb&&(le==0?--oe[0]:(--le,G[0]-=b.width),b.j+b.ka+b.T==b.o&&(oe[0]=b.o-b.j-le));var xe=S.eb;le=S.fb+le*S.A,b=hn(U,G[0],b.width,Q,oe,xe,le+(ne?0:3),S.A),e(R==oe),b&&un(J)&&Kr(xe,le,ne,Q,oe,S.A)}return 0}function ti(b){var S=b.ma,R=S.ba.S,U=11>R,G=R==ch||R==Ld||R==Ju||R==el||R==12||un(R);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Bl(S.Oa,b,G?11:12))return 0;if(G&&un(R)&&Je(),b.da)alert("todo:use_scaling");else{if(U){if(S.Ib=Ct,b.Kb){if(R=b.U+1>>1,S.memory=r(b.U+2*R),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+b.U,S.Mc=S.cc,S.Nc=S.dc+R,S.Ib=nn,Je()}}else alert("todo:EmitYUV");G&&(S.Jb=Fs,U&&Ce())}if(U&&!dy){for(b=0;256>b;++b)y2[b]=89858*(b-128)+gs>>So,Md[b]=-22014*(b-128)+gs,Cm[b]=-45773*(b-128),ys[b]=113618*(b-128)+gs>>So;for(b=tu;b<Hf;++b)S=76283*(b-16)+gs>>So,Id[b-tu]=Un(S,255),Nm[b-tu]=Un(S+8>>4,15);dy=1}return 1}function Zi(b){var S=b.ma,R=b.U,U=b.T;return e(!(1&b.ka)),0>=R||0>=U?0:(R=S.Ib(b,S),S.Jb!=null&&S.Jb(b,S,R),S.Dc+=R,1)}function lr(b){b.ma.memory=null}function dt(b,S,R,U){return Z(b,8)!=47?0:(S[0]=Z(b,14)+1,R[0]=Z(b,14)+1,U[0]=Z(b,1),Z(b,3)!=0?0:!b.h)}function pt(b,S){if(4>b)return b+1;var R=b-2>>1;return(2+(1&b)<<R)+Z(S,R)+1}function Xn(b,S){return 120<S?S-120:1<=(R=((R=il[S-1])>>4)*b+(8-(15&R)))?R:1;var R}function mi(b,S,R){var U=X(R),G=b[S+=255&U].g-8;return 0<G&&(ee(R,R.u+8),U=X(R),S+=b[S].value,S+=U&(1<<G)-1),ee(R,R.u+b[S].g),b[S].value}function Si(b,S,R){return R.g+=b.g,R.value+=b.value<<S>>>0,e(8>=R.g),b.g}function ki(b,S,R){var U=b.xc;return e((S=U==0?0:b.vc[b.md*(R>>U)+(S>>U)])<b.Wb),b.Ya[S]}function Ji(b,S,R,U){var G=b.ab,Q=b.c*S,J=b.C;S=J+S;var ne=R,oe=U;for(U=b.Ta,R=b.Ua;0<G--;){var le=b.gc[G],xe=J,Me=S,Pe=ne,Ne=oe,Ke=(oe=U,ne=R,le.Ea);switch(e(xe<Me),e(Me<=le.nc),le.hc){case 2:jf(Pe,Ne,(Me-xe)*Ke,oe,ne);break;case 0:var Ue=xe,_e=Me,Ae=oe,ze=ne,Xe=(ct=le).Ea;Ue==0&&(Tm(Pe,Ne,null,null,1,Ae,ze),At(Pe,Ne+1,0,0,Xe-1,Ae,ze+1),Ne+=Xe,ze+=Xe,++Ue);for(var We=1<<ct.b,mt=We-1,ot=wt(Xe,ct.b),Nt=ct.K,ct=ct.w+(Ue>>ct.b)*ot;Ue<_e;){var Pn=Nt,Bn=ct,on=1;for(Cd(Pe,Ne,Ae,ze-Xe,1,Ae,ze);on<Xe;){var sn=(on&~mt)+We;sn>Xe&&(sn=Xe),(0,Qo[Pn[Bn++]>>8&15])(Pe,Ne+ +on,Ae,ze+on-Xe,sn-on,Ae,ze+on),on=sn}Ne+=Xe,ze+=Xe,++Ue&mt||(ct+=ot)}Me!=le.nc&&i(oe,ne-Ke,oe,ne+(Me-xe-1)*Ke,Ke);break;case 1:for(Ke=Pe,_e=Ne,Xe=(Pe=le.Ea)-(ze=Pe&~(Ae=(Ne=1<<le.b)-1)),Ue=wt(Pe,le.b),We=le.K,le=le.w+(xe>>le.b)*Ue;xe<Me;){for(mt=We,ot=le,Nt=new at,ct=_e+ze,Pn=_e+Pe;_e<ct;)Kt(mt[ot++],Nt),Hl(Nt,Ke,_e,Ne,oe,ne),_e+=Ne,ne+=Ne;_e<Pn&&(Kt(mt[ot++],Nt),Hl(Nt,Ke,_e,Xe,oe,ne),_e+=Xe,ne+=Xe),++xe&Ae||(le+=Ue)}break;case 3:if(Pe==oe&&Ne==ne&&0<le.b){for(_e=oe,Pe=Ke=ne+(Me-xe)*Ke-(ze=(Me-xe)*wt(le.Ea,le.b)),Ne=oe,Ae=ne,Ue=[],ze=(Xe=ze)-1;0<=ze;--ze)Ue[ze]=Ne[Ae+ze];for(ze=Xe-1;0<=ze;--ze)_e[Pe+ze]=Ue[ze];ha(le,xe,Me,oe,Ke,oe,ne)}else ha(le,xe,Me,Pe,Ne,oe,ne)}ne=U,oe=R}oe!=R&&i(U,R,ne,oe,Q)}function Bo(b,S){var R=b.V,U=b.Ba+b.c*b.C,G=S-b.C;if(e(S<=b.l.o),e(16>=G),0<G){var Q=b.l,J=b.Ta,ne=b.Ua,oe=Q.width;if(Ji(b,G,R,U),G=ne=[ne],e((R=b.C)<(U=S)),e(Q.v<Q.va),U>Q.o&&(U=Q.o),R<Q.j){var le=Q.j-R;R=Q.j,G[0]+=le*oe}if(R>=U?R=0:(G[0]+=4*Q.v,Q.ka=R-Q.j,Q.U=Q.va-Q.v,Q.T=U-R,R=1),R){if(ne=ne[0],11>(R=b.ca).S){var xe=R.f.RGBA,Me=(U=R.S,G=Q.U,Q=Q.T,le=xe.eb,xe.A),Pe=Q;for(xe=xe.fb+b.Ma*xe.A;0<Pe--;){var Ne=J,Ke=ne,Ue=G,_e=le,Ae=xe;switch(U){case Js:hr(Ne,Ke,Ue,_e,Ae);break;case ch:zs(Ne,Ke,Ue,_e,Ae);break;case kd:zs(Ne,Ke,Ue,_e,Ae),Kr(_e,Ae,0,Ue,1,0);break;case bo:Ba(Ne,Ke,Ue,_e,Ae);break;case Ld:kn(Ne,Ke,Ue,_e,Ae,1);break;case Zl:kn(Ne,Ke,Ue,_e,Ae,1),Kr(_e,Ae,0,Ue,1,0);break;case Ju:kn(Ne,Ke,Ue,_e,Ae,0);break;case tl:kn(Ne,Ke,Ue,_e,Ae,0),Kr(_e,Ae,1,Ue,1,0);break;case el:Wl(Ne,Ke,Ue,_e,Ae);break;case hh:Wl(Ne,Ke,Ue,_e,Ae),cn(_e,Ae,Ue,1,0);break;case Vf:Nr(Ne,Ke,Ue,_e,Ae);break;default:e(0)}ne+=oe,xe+=Me}b.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=R.height)}}b.C=S,e(b.C<=b.i)}function ur(b){var S;if(0<b.ua)return 0;for(S=0;S<b.Wb;++S){var R=b.Ya[S].G,U=b.Ya[S].H;if(0<R[1][U[1]+0].g||0<R[2][U[2]+0].g||0<R[3][U[3]+0].g)return 0}return 1}function Ns(b,S,R,U,G,Q){if(b.Z!=0){var J=b.qd,ne=b.rd;for(e(xo[b.Z]!=null);S<R;++S)xo[b.Z](J,ne,U,G,U,G,Q),J=U,ne=G,G+=Q;b.qd=J,b.rd=ne}}function hs(b,S){var R=b.l.ma,U=R.Z==0||R.Z==1?b.l.j:b.C;if(U=b.C<U?U:b.C,e(S<=b.l.o),S>U){var G=b.l.width,Q=R.ca,J=R.tb+G*U,ne=b.V,oe=b.Ba+b.c*U,le=b.gc;e(b.ab==1),e(le[0].hc==3),ql(le[0],U,S,ne,oe,Q,J),Ns(R,U,S,Q,J,G)}b.C=b.Ma=S}function es(b,S,R,U,G,Q,J){var ne=b.$/U,oe=b.$%U,le=b.m,xe=b.s,Me=R+b.$,Pe=Me;G=R+U*G;var Ne=R+U*Q,Ke=280+xe.ua,Ue=b.Pb?ne:16777216,_e=0<xe.ua?xe.Wa:null,Ae=xe.wc,ze=Me<Ne?ki(xe,oe,ne):null;e(b.C<Q),e(Ne<=G);var Xe=!1;e:for(;;){for(;Xe||Me<Ne;){var We=0;if(ne>=Ue){var mt=Me-R;e((Ue=b).Pb),Ue.wd=Ue.m,Ue.xd=mt,0<Ue.s.ua&&ke(Ue.s.Wa,Ue.s.vb),Ue=ne+uy}if(oe&Ae||(ze=ki(xe,oe,ne)),e(ze!=null),ze.Qb&&(S[Me]=ze.qb,Xe=!0),!Xe)if(he(le),ze.jc){We=le,mt=S;var ot=Me,Nt=ze.pd[X(We)&ps-1];e(ze.jc),256>Nt.g?(ee(We,We.u+Nt.g),mt[ot]=Nt.value,We=0):(ee(We,We.u+Nt.g-256),e(256<=Nt.value),We=Nt.value),We==0&&(Xe=!0)}else We=mi(ze.G[0],ze.H[0],le);if(le.h)break;if(Xe||256>We){if(!Xe)if(ze.nd)S[Me]=(ze.qb|We<<8)>>>0;else{if(he(le),Xe=mi(ze.G[1],ze.H[1],le),he(le),mt=mi(ze.G[2],ze.H[2],le),ot=mi(ze.G[3],ze.H[3],le),le.h)break;S[Me]=(ot<<24|Xe<<16|We<<8|mt)>>>0}if(Xe=!1,++Me,++oe>=U&&(oe=0,++ne,J!=null&&ne<=Q&&!(ne%16)&&J(b,ne),_e!=null))for(;Pe<Me;)We=S[Pe++],_e.X[(506832829*We&4294967295)>>>_e.Mb]=We}else if(280>We){if(We=pt(We-256,le),mt=mi(ze.G[4],ze.H[4],le),he(le),mt=Xn(U,mt=pt(mt,le)),le.h)break;if(Me-R<mt||G-Me<We)break e;for(ot=0;ot<We;++ot)S[Me+ot]=S[Me+ot-mt];for(Me+=We,oe+=We;oe>=U;)oe-=U,++ne,J!=null&&ne<=Q&&!(ne%16)&&J(b,ne);if(e(Me<=G),oe&Ae&&(ze=ki(xe,oe,ne)),_e!=null)for(;Pe<Me;)We=S[Pe++],_e.X[(506832829*We&4294967295)>>>_e.Mb]=We}else{if(!(We<Ke))break e;for(Xe=We-280,e(_e!=null);Pe<Me;)We=S[Pe++],_e.X[(506832829*We&4294967295)>>>_e.Mb]=We;We=Me,e(!(Xe>>>(mt=_e).Xa)),S[We]=mt.X[Xe],Xe=!0}Xe||e(le.h==re(le))}if(b.Pb&&le.h&&Me<G)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ke(b.s.vb,b.s.Wa);else{if(le.h)break e;J?.(b,ne>Q?Q:ne),b.a=0,b.$=Me-R}return 1}return b.a=3,0}function ds(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var S=b.Wa;S!=null&&(S.X=null),b.vb=null,e(b!=null)}function li(){var b=new rh;return b==null?null:(b.a=0,b.xb=dh,Vi("Predictor","VP8LPredictors"),Vi("Predictor","VP8LPredictors_C"),Vi("PredictorAdd","VP8LPredictorsAdd"),Vi("PredictorAdd","VP8LPredictorsAdd_C"),jf=bt,Hl=yt,hr=ht,zs=pi,Wl=Qt,Nr=Xi,Ba=Jt,P.VP8LMapColor32b=ks,P.VP8LMapColor8b=Nd,b)}function Fn(b,S,R,U,G){var Q=1,J=[b],ne=[S],oe=U.m,le=U.s,xe=null,Me=0;e:for(;;){if(R)for(;Q&&Z(oe,1);){var Pe=J,Ne=ne,Ke=U,Ue=1,_e=Ke.m,Ae=Ke.gc[Ke.ab],ze=Z(_e,2);if(Ke.Oc&1<<ze)Q=0;else{switch(Ke.Oc|=1<<ze,Ae.hc=ze,Ae.Ea=Pe[0],Ae.nc=Ne[0],Ae.K=[null],++Ke.ab,e(4>=Ke.ab),ze){case 0:case 1:Ae.b=Z(_e,3)+2,Ue=Fn(wt(Ae.Ea,Ae.b),wt(Ae.nc,Ae.b),0,Ke,Ae.K),Ae.K=Ae.K[0];break;case 3:var Xe,We=Z(_e,8)+1,mt=16<We?0:4<We?1:2<We?2:3;if(Pe[0]=wt(Ae.Ea,mt),Ae.b=mt,Xe=Ue=Fn(We,1,0,Ke,Ae.K)){var ot,Nt=We,ct=Ae,Pn=1<<(8>>ct.b),Bn=r(Pn);if(Bn==null)Xe=0;else{var on=ct.K[0],sn=ct.w;for(Bn[0]=ct.K[0][0],ot=1;ot<1*Nt;++ot)Bn[ot]=nt(on[sn+ot],Bn[ot-1]);for(;ot<4*Pn;++ot)Bn[ot]=0;ct.K[0]=null,ct.K[0]=Bn,Xe=1}}Ue=Xe;break;case 2:break;default:e(0)}Q=Ue}}if(J=J[0],ne=ne[0],Q&&Z(oe,1)&&!(Q=1<=(Me=Z(oe,4))&&11>=Me)){U.a=3;break e}var Zn;if(Zn=Q)t:{var zn,Gt,ii,Rt=U,Ut=J,Cn=ne,Rn=Me,Ms=R,vs=Rt.m,zi=Rt.s,qi=[null],ss=1,ma=0,qn=tc[Rn];n:for(;;){if(Ms&&Z(vs,1)){var rs=Z(vs,3)+2,Ha=wt(Ut,rs),nu=wt(Cn,rs),sc=Ha*nu;if(!Fn(Ha,nu,0,Rt,qi))break n;for(qi=qi[0],zi.xc=rs,zn=0;zn<sc;++zn){var iu=qi[zn]>>8&65535;qi[zn]=iu,iu>=ss&&(ss=iu+1)}}if(vs.h)break n;for(Gt=0;5>Gt;++Gt){var bi=Xr[Gt];!Gt&&0<Rn&&(bi+=1<<Rn),ma<bi&&(ma=bi)}var Dd=a(ss*qn,j),Wf=ss,fr=a(Wf,te);if(fr==null)var Ai=null;else e(65536>=Wf),Ai=fr;var rc=r(ma);if(Ai==null||rc==null||Dd==null){Rt.a=1;break n}var su=Dd;for(zn=ii=0;zn<ss;++zn){var kr=Ai[zn],ru=kr.G,Pr=kr.H,Od=0,ph=1,$f=0;for(Gt=0;5>Gt;++Gt){bi=Xr[Gt],ru[Gt]=su,Pr[Gt]=ii,!Gt&&0<Rn&&(bi+=1<<Rn);s:{var jd,Yf=bi,Fd=Rt,mh=rc,my=su,gy=ii,Vd=0,ol=Fd.m,b2=Z(ol,1);if(s(mh,0,0,Yf),b2){var yy=Z(ol,1)+1,vy=Z(ol,1),Lm=Z(ol,vy==0?1:8);mh[Lm]=1,yy==2&&(mh[Lm=Z(ol,8)]=1);var gh=1}else{var km=r(19),Pm=Z(ol,4)+4;if(19<Pm){Fd.a=3;var Ud=0;break s}for(jd=0;jd<Pm;++jd)km[nl[jd]]=Z(ol,3);var Gf=void 0,yh=void 0,by=Fd,wy=km,ll=Yf,Bd=mh,Kf=0,Wa=by.m,vh=8,Rm=a(128,j);i:for(;M(Rm,0,7,wy,19);){if(Z(Wa,1)){var xy=2+2*Z(Wa,3);if((Gf=2+Z(Wa,xy))>ll)break i}else Gf=ll;for(yh=0;yh<ll&&Gf--;){he(Wa);var Mm=Rm[0+(127&X(Wa))];ee(Wa,Wa.u+Mm.g);var ac=Mm.value;if(16>ac)Bd[yh++]=ac,ac!=0&&(vh=ac);else{var _y=ac==16,Im=ac-16,Dm=pa[Im],Om=Z(Wa,Uf[Im])+Dm;if(yh+Om>ll)break i;for(var Sy=_y?vh:0;0<Om--;)Bd[yh++]=Sy}}Kf=1;break i}Kf||(by.a=3),gh=Kf}(gh=gh&&!ol.h)&&(Vd=M(my,gy,8,mh,Yf)),gh&&Vd!=0?Ud=Vd:(Fd.a=3,Ud=0)}if(Ud==0)break n;if(ph&&ec[Gt]==1&&(ph=su[ii].g==0),Od+=su[ii].g,ii+=Ud,3>=Gt){var oc,Xf=rc[0];for(oc=1;oc<bi;++oc)rc[oc]>Xf&&(Xf=rc[oc]);$f+=Xf}}if(kr.nd=ph,kr.Qb=0,ph&&(kr.qb=(ru[3][Pr[3]+0].value<<24|ru[1][Pr[1]+0].value<<16|ru[2][Pr[2]+0].value)>>>0,Od==0&&256>ru[0][Pr[0]+0].value&&(kr.Qb=1,kr.qb+=ru[0][Pr[0]+0].value<<8)),kr.jc=!kr.Qb&&6>$f,kr.jc){var zd,ul=kr;for(zd=0;zd<ps;++zd){var Ao=zd,cl=ul.pd[Ao],qd=ul.G[0][ul.H[0]+Ao];256<=qd.value?(cl.g=qd.g+256,cl.value=qd.value):(cl.g=0,cl.value=0,Ao>>=Si(qd,8,cl),Ao>>=Si(ul.G[1][ul.H[1]+Ao],16,cl),Ao>>=Si(ul.G[2][ul.H[2]+Ao],0,cl),Si(ul.G[3][ul.H[3]+Ao],24,cl))}}}zi.vc=qi,zi.Wb=ss,zi.Ya=Ai,zi.yc=Dd,Zn=1;break t}Zn=0}if(!(Q=Zn)){U.a=3;break e}if(0<Me){if(le.ua=1<<Me,!it(le.Wa,Me)){U.a=1,Q=0;break e}}else le.ua=0;var Hd=U,jm=J,Ay=ne,Fm=Hd.s,Vm=Fm.xc;if(Hd.c=jm,Hd.i=Ay,Fm.md=wt(jm,Vm),Fm.wc=Vm==0?-1:(1<<Vm)-1,R){U.xb=hy;break e}if((xe=r(J*ne))==null){U.a=1,Q=0;break e}Q=(Q=es(U,xe,0,J,ne,ne,null))&&!oe.h;break e}return Q?(G!=null?G[0]=xe:(e(xe==null),e(R)),U.$=0,R||ds(le)):ds(le),Q}function ka(b,S){var R=b.c*b.i,U=R+S+16*S;return e(b.c<=S),b.V=r(U),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+R+S,1)}function Pa(b,S){var R=b.C,U=S-R,G=b.V,Q=b.Ba+b.c*R;for(e(S<=b.l.o);0<U;){var J=16<U?16:U,ne=b.l.ma,oe=b.l.width,le=oe*J,xe=ne.ca,Me=ne.tb+oe*R,Pe=b.Ta,Ne=b.Ua;Ji(b,J,G,Q),ci(Pe,Ne,xe,Me,le),Ns(ne,R,R+J,xe,Me,oe),U-=J,G+=J*b.c,R+=J}e(R==S),b.C=b.Ma=S}function Gs(){this.ub=this.yd=this.td=this.Rb=0}function xr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zo(){this.Fb=this.Bb=this.Cb=0,this.Zb=r(4),this.Lb=r(4)}function Fu(){this.Yb=function(){var b=[];return function S(R,U,G){for(var Q=G[U],J=0;J<Q&&(R.push(G.length>U+1?[]:0),!(G.length<U+1));J++)S(R[J],U+1,G)}(b,0,[3,11]),b}()}function qo(){this.jb=r(3),this.Wc=l([4,8],Fu),this.Xc=l([4,17],Fu)}function Jc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new r(4),this.od=new r(4)}function $r(){this.ld=this.La=this.dd=this.tc=0}function Yr(){this.Na=this.la=0}function fs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ra(){this.ad=r(384),this.Za=0,this.Ob=r(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function eh(){this.uc=this.M=this.Nb=0,this.wa=Array(new $r),this.Y=0,this.ya=Array(new Ra),this.aa=0,this.l=new Ma}function na(){this.y=r(16),this.f=r(8),this.ea=r(8)}function Ml(){this.cb=this.a=0,this.sc="",this.m=new be,this.Od=new Gs,this.Kc=new xr,this.ed=new Jc,this.Qa=new zo,this.Ic=this.$c=this.Aa=0,this.D=new eh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,be),this.ia=0,this.pb=a(4,fs),this.Pa=new qo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new na),this.Hd=0,this.rb=Array(new Yr),this.sb=0,this.wa=Array(new $r),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ra),this.L=this.aa=0,this.gd=l([4,2],$r),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ma(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vu(){var b=new Ml;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,ms||(ms=th)),b}function ui(b,S,R){return b.a==0&&(b.a=S,b.sc=R,b.cb=0),0}function Ls(b,S,R){return 3<=R&&b[S+0]==157&&b[S+1]==1&&b[S+2]==42}function Il(b,S){if(b==null)return 0;if(b.a=0,b.sc="OK",S==null)return ui(b,2,"null VP8Io passed to VP8GetHeaders()");var R=S.data,U=S.w,G=S.ha;if(4>G)return ui(b,7,"Truncated header.");var Q=R[U+0]|R[U+1]<<8|R[U+2]<<16,J=b.Od;if(J.Rb=!(1&Q),J.td=Q>>1&7,J.yd=Q>>4&1,J.ub=Q>>5,3<J.td)return ui(b,3,"Incorrect keyframe parameters.");if(!J.yd)return ui(b,4,"Frame not displayable.");U+=3,G-=3;var ne=b.Kc;if(J.Rb){if(7>G)return ui(b,7,"cannot parse picture header");if(!Ls(R,U,G))return ui(b,3,"Bad code word");ne.c=16383&(R[U+4]<<8|R[U+3]),ne.Td=R[U+4]>>6,ne.i=16383&(R[U+6]<<8|R[U+5]),ne.Ud=R[U+6]>>6,U+=7,G-=7,b.za=ne.c+15>>4,b.Ub=ne.i+15>>4,S.width=ne.c,S.height=ne.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,s((Q=b.Pa).jb,0,255,Q.jb.length),e((Q=b.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,s(Q.Zb,0,0,Q.Zb.length),s(Q.Lb,0,0,Q.Lb)}if(J.ub>G)return ui(b,7,"bad partition length");pe(Q=b.m,R,U,J.ub),U+=J.ub,G-=J.ub,J.Rb&&(ne.Ld=ge(Q),ne.Kd=ge(Q)),ne=b.Qa;var oe,le=b.Pa;if(e(Q!=null),e(ne!=null),ne.Cb=ge(Q),ne.Cb){if(ne.Bb=ge(Q),ge(Q)){for(ne.Fb=ge(Q),oe=0;4>oe;++oe)ne.Zb[oe]=ge(Q)?ue(Q,7):0;for(oe=0;4>oe;++oe)ne.Lb[oe]=ge(Q)?ue(Q,6):0}if(ne.Bb)for(oe=0;3>oe;++oe)le.jb[oe]=ge(Q)?ae(Q,8):255}else ne.Bb=0;if(Q.Ka)return ui(b,3,"cannot parse segment header");if((ne=b.ed).zd=ge(Q),ne.Tb=ae(Q,6),ne.wb=ae(Q,3),ne.Pc=ge(Q),ne.Pc&&ge(Q)){for(le=0;4>le;++le)ge(Q)&&(ne.vd[le]=ue(Q,6));for(le=0;4>le;++le)ge(Q)&&(ne.od[le]=ue(Q,6))}if(b.L=ne.Tb==0?0:ne.zd?1:2,Q.Ka)return ui(b,3,"cannot parse filter header");var xe=G;if(G=oe=U,U=oe+xe,ne=xe,b.Xb=(1<<ae(b.m,2))-1,xe<3*(le=b.Xb))R=7;else{for(oe+=3*le,ne-=3*le,xe=0;xe<le;++xe){var Me=R[G+0]|R[G+1]<<8|R[G+2]<<16;Me>ne&&(Me=ne),pe(b.Jc[+xe],R,oe,Me),oe+=Me,ne-=Me,G+=3}pe(b.Jc[+le],R,oe,ne),R=oe<U?0:5}if(R!=0)return ui(b,R,"cannot parse partitions");for(R=ae(oe=b.m,7),G=ge(oe)?ue(oe,4):0,U=ge(oe)?ue(oe,4):0,ne=ge(oe)?ue(oe,4):0,le=ge(oe)?ue(oe,4):0,oe=ge(oe)?ue(oe,4):0,xe=b.Qa,Me=0;4>Me;++Me){if(xe.Cb){var Pe=xe.Zb[Me];xe.Fb||(Pe+=R)}else{if(0<Me){b.pb[Me]=b.pb[0];continue}Pe=R}var Ne=b.pb[Me];Ne.Sc[0]=Pd[Un(Pe+G,127)],Ne.Sc[1]=Rd[Un(Pe+0,127)],Ne.Eb[0]=2*Pd[Un(Pe+U,127)],Ne.Eb[1]=101581*Rd[Un(Pe+ne,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=Pd[Un(Pe+le,117)],Ne.Qc[1]=Rd[Un(Pe+oe,127)],Ne.lc=Pe+oe}if(!J.Rb)return ui(b,4,"Not a key frame.");for(ge(Q),J=b.Pa,R=0;4>R;++R){for(G=0;8>G;++G)for(U=0;3>U;++U)for(ne=0;11>ne;++ne)le=Ee(Q,nc[R][G][U][ne])?ae(Q,8):wo[R][G][U][ne],J.Wc[R][G].Yb[U][ne]=le;for(G=0;17>G;++G)J.Xc[R][G]=J.Wc[R][cy[G]]}return b.kc=ge(Q),b.kc&&(b.Bd=ae(Q,8)),b.cb=1}function th(b,S,R,U,G,Q,J){var ne=S[G].Yb[R];for(R=0;16>G;++G){if(!Ee(b,ne[R+0]))return G;for(;!Ee(b,ne[R+1]);)if(ne=S[++G].Yb[0],R=0,G==16)return 16;var oe=S[G+1].Yb;if(Ee(b,ne[R+2])){var le=b,xe=0;if(Ee(le,(Pe=ne)[(Me=R)+3]))if(Ee(le,Pe[Me+6])){for(ne=0,Me=2*(xe=Ee(le,Pe[Me+8]))+(Pe=Ee(le,Pe[Me+9+xe])),xe=0,Pe=Mi[Me];Pe[ne];++ne)xe+=xe+Ee(le,Pe[ne]);xe+=3+(8<<Me)}else Ee(le,Pe[Me+7])?(xe=7+2*Ee(le,165),xe+=Ee(le,145)):xe=5+Ee(le,159);else xe=Ee(le,Pe[Me+4])?3+Ee(le,Pe[Me+5]):2;ne=oe[2]}else xe=1,ne=oe[1];oe=J+jn[G],0>(le=b).b&&we(le);var Me,Pe=le.b,Ne=(Me=le.Ca>>1)-(le.I>>Pe)>>31;--le.b,le.Ca+=Ne,le.Ca|=1,le.I-=(Me+1&Ne)<<Pe,Q[oe]=((xe^Ne)-Ne)*U[(0<G)+0]}return 16}function so(b){var S=b.rb[b.sb-1];S.la=0,S.Na=0,s(b.zc,0,0,b.zc.length),b.ja=0}function Uu(b,S){if(b==null)return 0;if(S==null)return ui(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!Il(b,S))return 0;if(e(b.cb),S.ac==null||S.ac(S)){S.ob&&(b.L=0);var R=al[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=S.v-R>>4,b.zb=S.j-R>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=S.o+15+R>>4,b.Hb=S.va+15+R>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var U=b.ed;for(R=0;4>R;++R){var G;if(b.Qa.Cb){var Q=b.Qa.Lb[R];b.Qa.Fb||(Q+=U.Tb)}else Q=U.Tb;for(G=0;1>=G;++G){var J=b.gd[R][G],ne=Q;if(U.Pc&&(ne+=U.vd[0],G&&(ne+=U.od[0])),0<(ne=0>ne?0:63<ne?63:ne)){var oe=ne;0<U.wb&&(oe=4<U.wb?oe>>2:oe>>1)>9-U.wb&&(oe=9-U.wb),1>oe&&(oe=1),J.dd=oe,J.tc=2*ne+oe,J.ld=40<=ne?2:15<=ne?1:0}else J.tc=0;J.La=G}}}R=0}else ui(b,6,"Frame setup failed"),R=b.a;if(R=R==0){if(R){b.$c=0,0<b.Aa||(b.Ic=fy);e:{R=b.Ic,U=4*(oe=b.za);var le=32*oe,xe=oe+1,Me=0<b.L?oe*(0<b.Aa?2:1):0,Pe=(b.Aa==2?2:1)*oe;if((J=U+832+(G=3*(16*R+al[b.L])/2*le)+(Q=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=J)R=0;else{if(J>b.Vb){if(b.Vb=0,b.Ec=r(J),b.Fc=0,b.Ec==null){R=ui(b,1,"no memory during frame initialization.");break e}b.Vb=J}J=b.Ec,ne=b.Fc,b.Ac=J,b.Bc=ne,ne+=U,b.Gd=a(le,na),b.Hd=0,b.rb=a(xe+1,Yr),b.sb=1,b.wa=Me?a(Me,$r):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=oe),e(!0),b.oc=J,b.pc=ne,ne+=832,b.ya=a(Pe,Ra),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=oe),b.R=16*oe,b.B=8*oe,oe=(le=al[b.L])*b.R,le=le/2*b.B,b.sa=J,b.ta=ne+oe,b.qa=b.sa,b.ra=b.ta+16*R*b.R+le,b.Ha=b.qa,b.Ia=b.ra+8*R*b.B+le,b.$c=0,ne+=G,b.mb=Q?J:null,b.nb=Q?ne:null,e(ne+Q<=b.Fc+b.Vb),so(b),s(b.Ac,b.Bc,0,U),R=1}}if(R){if(S.ka=0,S.y=b.sa,S.O=b.ta,S.f=b.qa,S.N=b.ra,S.ea=b.Ha,S.Vd=b.Ia,S.fa=b.R,S.Rc=b.B,S.F=null,S.J=0,!Jo){for(R=-255;255>=R;++R)Bi[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)da[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)Xl[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)Ql[255+R]=0>R?0:255<R?255:R;Jo=1}yo=_r,za=ao,qa=ia,is=Vn,Lr=oo,Pi=ro,Ku=ho,vo=Va,lh=Fl,$l=Wu,Yl=jl,Gl=$o,Xu=Yo,uh=fo,Kl=Gr,Zo=Qs,Qu=ns,Ri=sh,dr[0]=Ks,dr[1]=nh,dr[2]=aa,dr[3]=ih,dr[4]=Sr,dr[5]=oa,dr[6]=cr,dr[7]=Ar,dr[8]=Fa,dr[9]=lo,sl[0]=sa,sl[1]=zu,sl[2]=Da,sl[3]=Ol,sl[4]=ni,sl[5]=ja,sl[6]=ra,Qr[0]=la,Qr[1]=Bu,Qr[2]=qu,Qr[3]=Tr,Qr[4]=pn,Qr[5]=ts,Qr[6]=uo,R=1}else R=0}R&&(R=function(Ne,Ke){for(Ne.M=0;Ne.M<Ne.Va;++Ne.M){var Ue,_e=Ne.Jc[Ne.M&Ne.Xb],Ae=Ne.m,ze=Ne;for(Ue=0;Ue<ze.za;++Ue){var Xe=Ae,We=ze,mt=We.Ac,ot=We.Bc+4*Ue,Nt=We.zc,ct=We.ya[We.aa+Ue];if(We.Qa.Bb?ct.$b=Ee(Xe,We.Pa.jb[0])?2+Ee(Xe,We.Pa.jb[2]):Ee(Xe,We.Pa.jb[1]):ct.$b=0,We.kc&&(ct.Ad=Ee(Xe,We.Bd)),ct.Za=!Ee(Xe,145)+0,ct.Za){var Pn=ct.Ob,Bn=0;for(We=0;4>We;++We){var on,sn=Nt[0+We];for(on=0;4>on;++on){sn=Em[mt[ot+on]][sn];for(var Zn=Jl[Ee(Xe,sn[0])];0<Zn;)Zn=Jl[2*Zn+Ee(Xe,sn[Zn])];sn=-Zn,mt[ot+on]=sn}i(Pn,Bn,mt,ot,4),Bn+=4,Nt[0+We]=sn}}else sn=Ee(Xe,156)?Ee(Xe,128)?1:3:Ee(Xe,163)?2:0,ct.Ob[0]=sn,s(mt,ot,sn,4),s(Nt,0,sn,4);ct.Dd=Ee(Xe,142)?Ee(Xe,114)?Ee(Xe,183)?1:3:2:0}if(ze.m.Ka)return ui(Ne,7,"Premature end-of-partition0 encountered.");for(;Ne.ja<Ne.za;++Ne.ja){if(ze=_e,Xe=(Ae=Ne).rb[Ae.sb-1],mt=Ae.rb[Ae.sb+Ae.ja],Ue=Ae.ya[Ae.aa+Ae.ja],ot=Ae.kc?Ue.Ad:0)Xe.la=mt.la=0,Ue.Za||(Xe.Na=mt.Na=0),Ue.Hc=0,Ue.Gc=0,Ue.ia=0;else{var zn,Gt;if(Xe=mt,mt=ze,ot=Ae.Pa.Xc,Nt=Ae.ya[Ae.aa+Ae.ja],ct=Ae.pb[Nt.$b],We=Nt.ad,Pn=0,Bn=Ae.rb[Ae.sb-1],sn=on=0,s(We,Pn,0,384),Nt.Za)var ii=0,Rt=ot[3];else{Zn=r(16);var Ut=Xe.Na+Bn.Na;if(Ut=ms(mt,ot[1],Ut,ct.Eb,0,Zn,0),Xe.Na=Bn.Na=(0<Ut)+0,1<Ut)yo(Zn,0,We,Pn);else{var Cn=Zn[0]+3>>3;for(Zn=0;256>Zn;Zn+=16)We[Pn+Zn]=Cn}ii=1,Rt=ot[0]}var Rn=15&Xe.la,Ms=15&Bn.la;for(Zn=0;4>Zn;++Zn){var vs=1&Ms;for(Cn=Gt=0;4>Cn;++Cn)Rn=Rn>>1|(vs=(Ut=ms(mt,Rt,Ut=vs+(1&Rn),ct.Sc,ii,We,Pn))>ii)<<7,Gt=Gt<<2|(3<Ut?3:1<Ut?2:We[Pn+0]!=0),Pn+=16;Rn>>=4,Ms=Ms>>1|vs<<7,on=(on<<8|Gt)>>>0}for(Rt=Rn,ii=Ms>>4,zn=0;4>zn;zn+=2){for(Gt=0,Rn=Xe.la>>4+zn,Ms=Bn.la>>4+zn,Zn=0;2>Zn;++Zn){for(vs=1&Ms,Cn=0;2>Cn;++Cn)Ut=vs+(1&Rn),Rn=Rn>>1|(vs=0<(Ut=ms(mt,ot[2],Ut,ct.Qc,0,We,Pn)))<<3,Gt=Gt<<2|(3<Ut?3:1<Ut?2:We[Pn+0]!=0),Pn+=16;Rn>>=2,Ms=Ms>>1|vs<<5}sn|=Gt<<4*zn,Rt|=Rn<<4<<zn,ii|=(240&Ms)<<zn}Xe.la=Rt,Bn.la=ii,Nt.Hc=on,Nt.Gc=sn,Nt.ia=43690&sn?0:ct.ia,ot=!(on|sn)}if(0<Ae.L&&(Ae.wa[Ae.Y+Ae.ja]=Ae.gd[Ue.$b][Ue.Za],Ae.wa[Ae.Y+Ae.ja].La|=!ot),ze.Ka)return ui(Ne,7,"Premature end-of-file encountered.")}if(so(Ne),Ae=Ke,ze=1,Ue=(_e=Ne).D,Xe=0<_e.L&&_e.M>=_e.zb&&_e.M<=_e.Va,_e.Aa==0)e:{if(Ue.M=_e.M,Ue.uc=Xe,Er(_e,Ue),ze=1,Ue=(Gt=_e.D).Nb,Xe=(sn=al[_e.L])*_e.R,mt=sn/2*_e.B,Zn=16*Ue*_e.R,Cn=8*Ue*_e.B,ot=_e.sa,Nt=_e.ta-Xe+Zn,ct=_e.qa,We=_e.ra-mt+Cn,Pn=_e.Ha,Bn=_e.Ia-mt+Cn,Ms=(Rn=Gt.M)==0,on=Rn>=_e.Va-1,_e.Aa==2&&Er(_e,Gt),Gt.uc)for(vs=(Ut=_e).D.M,e(Ut.D.uc),Gt=Ut.yb;Gt<Ut.Hb;++Gt){ii=Gt,Rt=vs;var zi=(qi=(bi=Ut).D).Nb;zn=bi.R;var qi=qi.wa[qi.Y+ii],ss=bi.sa,ma=bi.ta+16*zi*zn+16*ii,qn=qi.dd,rs=qi.tc;if(rs!=0)if(e(3<=rs),bi.L==1)0<ii&&Zo(ss,ma,zn,rs+4),qi.La&&Ri(ss,ma,zn,rs),0<Rt&&Kl(ss,ma,zn,rs+4),qi.La&&Qu(ss,ma,zn,rs);else{var Ha=bi.B,nu=bi.qa,sc=bi.ra+8*zi*Ha+8*ii,iu=bi.Ha,bi=bi.Ia+8*zi*Ha+8*ii;zi=qi.ld,0<ii&&(vo(ss,ma,zn,rs+4,qn,zi),$l(nu,sc,iu,bi,Ha,rs+4,qn,zi)),qi.La&&(Gl(ss,ma,zn,rs,qn,zi),uh(nu,sc,iu,bi,Ha,rs,qn,zi)),0<Rt&&(Ku(ss,ma,zn,rs+4,qn,zi),lh(nu,sc,iu,bi,Ha,rs+4,qn,zi)),qi.La&&(Yl(ss,ma,zn,rs,qn,zi),Xu(nu,sc,iu,bi,Ha,rs,qn,zi))}}if(_e.ia&&alert("todo:DitherRow"),Ae.put!=null){if(Gt=16*Rn,Rn=16*(Rn+1),Ms?(Ae.y=_e.sa,Ae.O=_e.ta+Zn,Ae.f=_e.qa,Ae.N=_e.ra+Cn,Ae.ea=_e.Ha,Ae.W=_e.Ia+Cn):(Gt-=sn,Ae.y=ot,Ae.O=Nt,Ae.f=ct,Ae.N=We,Ae.ea=Pn,Ae.W=Bn),on||(Rn-=sn),Rn>Ae.o&&(Rn=Ae.o),Ae.F=null,Ae.J=null,_e.Fa!=null&&0<_e.Fa.length&&Gt<Rn&&(Ae.J=Ul(_e,Ae,Gt,Rn-Gt),Ae.F=_e.mb,Ae.F==null&&Ae.F.length==0)){ze=ui(_e,3,"Could not decode alpha data.");break e}Gt<Ae.j&&(sn=Ae.j-Gt,Gt=Ae.j,e(!(1&sn)),Ae.O+=_e.R*sn,Ae.N+=_e.B*(sn>>1),Ae.W+=_e.B*(sn>>1),Ae.F!=null&&(Ae.J+=Ae.width*sn)),Gt<Rn&&(Ae.O+=Ae.v,Ae.N+=Ae.v>>1,Ae.W+=Ae.v>>1,Ae.F!=null&&(Ae.J+=Ae.v),Ae.ka=Gt-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=Rn-Gt,ze=Ae.put(Ae))}Ue+1!=_e.Ic||on||(i(_e.sa,_e.ta-Xe,ot,Nt+16*_e.R,Xe),i(_e.qa,_e.ra-mt,ct,We+8*_e.B,mt),i(_e.Ha,_e.Ia-mt,Pn,Bn+8*_e.B,mt))}if(!ze)return ui(Ne,6,"Output aborted.")}return 1}(b,S)),S.bc!=null&&S.bc(S),R&=1}return R?(b.cb=0,R):0}function Vs(b,S,R,U,G){G=b[S+R+32*U]+(G>>3),b[S+R+32*U]=-256&G?0>G?0:255:G}function Dl(b,S,R,U,G,Q){Vs(b,S,0,R,U+G),Vs(b,S,1,R,U+Q),Vs(b,S,2,R,U-Q),Vs(b,S,3,R,U-G)}function En(b){return(20091*b>>16)+b}function Us(b,S,R,U){var G,Q=0,J=r(16);for(G=0;4>G;++G){var ne=b[S+0]+b[S+8],oe=b[S+0]-b[S+8],le=(35468*b[S+4]>>16)-En(b[S+12]),xe=En(b[S+4])+(35468*b[S+12]>>16);J[Q+0]=ne+xe,J[Q+1]=oe+le,J[Q+2]=oe-le,J[Q+3]=ne-xe,Q+=4,S++}for(G=Q=0;4>G;++G)ne=(b=J[Q+0]+4)+J[Q+8],oe=b-J[Q+8],le=(35468*J[Q+4]>>16)-En(J[Q+12]),Vs(R,U,0,0,ne+(xe=En(J[Q+4])+(35468*J[Q+12]>>16))),Vs(R,U,1,0,oe+le),Vs(R,U,2,0,oe-le),Vs(R,U,3,0,ne-xe),Q++,U+=32}function ro(b,S,R,U){var G=b[S+0]+4,Q=35468*b[S+4]>>16,J=En(b[S+4]),ne=35468*b[S+1]>>16;Dl(R,U,0,G+J,b=En(b[S+1]),ne),Dl(R,U,1,G+Q,b,ne),Dl(R,U,2,G-Q,b,ne),Dl(R,U,3,G-J,b,ne)}function ao(b,S,R,U,G){Us(b,S,R,U),G&&Us(b,S+16,R,U+4)}function ia(b,S,R,U){za(b,S+0,R,U,1),za(b,S+32,R,U+128,1)}function Vn(b,S,R,U){var G;for(b=b[S+0]+4,G=0;4>G;++G)for(S=0;4>S;++S)Vs(R,U,S,G,b)}function oo(b,S,R,U){b[S+0]&&is(b,S+0,R,U),b[S+16]&&is(b,S+16,R,U+4),b[S+32]&&is(b,S+32,R,U+128),b[S+48]&&is(b,S+48,R,U+128+4)}function _r(b,S,R,U){var G,Q=r(16);for(G=0;4>G;++G){var J=b[S+0+G]+b[S+12+G],ne=b[S+4+G]+b[S+8+G],oe=b[S+4+G]-b[S+8+G],le=b[S+0+G]-b[S+12+G];Q[0+G]=J+ne,Q[8+G]=J-ne,Q[4+G]=le+oe,Q[12+G]=le-oe}for(G=0;4>G;++G)J=(b=Q[0+4*G]+3)+Q[3+4*G],ne=Q[1+4*G]+Q[2+4*G],oe=Q[1+4*G]-Q[2+4*G],le=b-Q[3+4*G],R[U+0]=J+ne>>3,R[U+16]=le+oe>>3,R[U+32]=J-ne>>3,R[U+48]=le-oe>>3,U+=64}function Ia(b,S,R){var U,G=S-32,Q=Ps,J=255-b[G-1];for(U=0;U<R;++U){var ne,oe=Q,le=J+b[S-1];for(ne=0;ne<R;++ne)b[S+ne]=oe[le+b[G+ne]];S+=32}}function nh(b,S){Ia(b,S,4)}function Bu(b,S){Ia(b,S,8)}function zu(b,S){Ia(b,S,16)}function Da(b,S){var R;for(R=0;16>R;++R)i(b,S+32*R,b,S-32,16)}function Ol(b,S){var R;for(R=16;0<R;--R)s(b,S,b[S-1],16),S+=32}function Oa(b,S,R){var U;for(U=0;16>U;++U)s(S,R+32*U,b,16)}function sa(b,S){var R,U=16;for(R=0;16>R;++R)U+=b[S-1+32*R]+b[S+R-32];Oa(U>>5,b,S)}function ni(b,S){var R,U=8;for(R=0;16>R;++R)U+=b[S-1+32*R];Oa(U>>4,b,S)}function ja(b,S){var R,U=8;for(R=0;16>R;++R)U+=b[S+R-32];Oa(U>>4,b,S)}function ra(b,S){Oa(128,b,S)}function It(b,S,R){return b+2*S+R+2>>2}function aa(b,S){var R,U=S-32;for(U=new Uint8Array([It(b[U-1],b[U+0],b[U+1]),It(b[U+0],b[U+1],b[U+2]),It(b[U+1],b[U+2],b[U+3]),It(b[U+2],b[U+3],b[U+4])]),R=0;4>R;++R)i(b,S+32*R,U,0,U.length)}function ih(b,S){var R=b[S-1],U=b[S-1+32],G=b[S-1+64],Q=b[S-1+96];Oe(b,S+0,16843009*It(b[S-1-32],R,U)),Oe(b,S+32,16843009*It(R,U,G)),Oe(b,S+64,16843009*It(U,G,Q)),Oe(b,S+96,16843009*It(G,Q,Q))}function Ks(b,S){var R,U=4;for(R=0;4>R;++R)U+=b[S+R-32]+b[S-1+32*R];for(U>>=3,R=0;4>R;++R)s(b,S+32*R,U,4)}function Sr(b,S){var R=b[S-1+0],U=b[S-1+32],G=b[S-1+64],Q=b[S-1-32],J=b[S+0-32],ne=b[S+1-32],oe=b[S+2-32],le=b[S+3-32];b[S+0+96]=It(U,G,b[S-1+96]),b[S+1+96]=b[S+0+64]=It(R,U,G),b[S+2+96]=b[S+1+64]=b[S+0+32]=It(Q,R,U),b[S+3+96]=b[S+2+64]=b[S+1+32]=b[S+0+0]=It(J,Q,R),b[S+3+64]=b[S+2+32]=b[S+1+0]=It(ne,J,Q),b[S+3+32]=b[S+2+0]=It(oe,ne,J),b[S+3+0]=It(le,oe,ne)}function cr(b,S){var R=b[S+1-32],U=b[S+2-32],G=b[S+3-32],Q=b[S+4-32],J=b[S+5-32],ne=b[S+6-32],oe=b[S+7-32];b[S+0+0]=It(b[S+0-32],R,U),b[S+1+0]=b[S+0+32]=It(R,U,G),b[S+2+0]=b[S+1+32]=b[S+0+64]=It(U,G,Q),b[S+3+0]=b[S+2+32]=b[S+1+64]=b[S+0+96]=It(G,Q,J),b[S+3+32]=b[S+2+64]=b[S+1+96]=It(Q,J,ne),b[S+3+64]=b[S+2+96]=It(J,ne,oe),b[S+3+96]=It(ne,oe,oe)}function oa(b,S){var R=b[S-1+0],U=b[S-1+32],G=b[S-1+64],Q=b[S-1-32],J=b[S+0-32],ne=b[S+1-32],oe=b[S+2-32],le=b[S+3-32];b[S+0+0]=b[S+1+64]=Q+J+1>>1,b[S+1+0]=b[S+2+64]=J+ne+1>>1,b[S+2+0]=b[S+3+64]=ne+oe+1>>1,b[S+3+0]=oe+le+1>>1,b[S+0+96]=It(G,U,R),b[S+0+64]=It(U,R,Q),b[S+0+32]=b[S+1+96]=It(R,Q,J),b[S+1+32]=b[S+2+96]=It(Q,J,ne),b[S+2+32]=b[S+3+96]=It(J,ne,oe),b[S+3+32]=It(ne,oe,le)}function Ar(b,S){var R=b[S+0-32],U=b[S+1-32],G=b[S+2-32],Q=b[S+3-32],J=b[S+4-32],ne=b[S+5-32],oe=b[S+6-32],le=b[S+7-32];b[S+0+0]=R+U+1>>1,b[S+1+0]=b[S+0+64]=U+G+1>>1,b[S+2+0]=b[S+1+64]=G+Q+1>>1,b[S+3+0]=b[S+2+64]=Q+J+1>>1,b[S+0+32]=It(R,U,G),b[S+1+32]=b[S+0+96]=It(U,G,Q),b[S+2+32]=b[S+1+96]=It(G,Q,J),b[S+3+32]=b[S+2+96]=It(Q,J,ne),b[S+3+64]=It(J,ne,oe),b[S+3+96]=It(ne,oe,le)}function lo(b,S){var R=b[S-1+0],U=b[S-1+32],G=b[S-1+64],Q=b[S-1+96];b[S+0+0]=R+U+1>>1,b[S+2+0]=b[S+0+32]=U+G+1>>1,b[S+2+32]=b[S+0+64]=G+Q+1>>1,b[S+1+0]=It(R,U,G),b[S+3+0]=b[S+1+32]=It(U,G,Q),b[S+3+32]=b[S+1+64]=It(G,Q,Q),b[S+3+64]=b[S+2+64]=b[S+0+96]=b[S+1+96]=b[S+2+96]=b[S+3+96]=Q}function Fa(b,S){var R=b[S-1+0],U=b[S-1+32],G=b[S-1+64],Q=b[S-1+96],J=b[S-1-32],ne=b[S+0-32],oe=b[S+1-32],le=b[S+2-32];b[S+0+0]=b[S+2+32]=R+J+1>>1,b[S+0+32]=b[S+2+64]=U+R+1>>1,b[S+0+64]=b[S+2+96]=G+U+1>>1,b[S+0+96]=Q+G+1>>1,b[S+3+0]=It(ne,oe,le),b[S+2+0]=It(J,ne,oe),b[S+1+0]=b[S+3+32]=It(R,J,ne),b[S+1+32]=b[S+3+64]=It(U,R,J),b[S+1+64]=b[S+3+96]=It(G,U,R),b[S+1+96]=It(Q,G,U)}function qu(b,S){var R;for(R=0;8>R;++R)i(b,S+32*R,b,S-32,8)}function Tr(b,S){var R;for(R=0;8>R;++R)s(b,S,b[S-1],8),S+=32}function Xs(b,S,R){var U;for(U=0;8>U;++U)s(S,R+32*U,b,8)}function la(b,S){var R,U=8;for(R=0;8>R;++R)U+=b[S+R-32]+b[S-1+32*R];Xs(U>>4,b,S)}function ts(b,S){var R,U=4;for(R=0;8>R;++R)U+=b[S+R-32];Xs(U>>3,b,S)}function pn(b,S){var R,U=4;for(R=0;8>R;++R)U+=b[S-1+32*R];Xs(U>>3,b,S)}function uo(b,S){Xs(128,b,S)}function ua(b,S,R){var U=b[S-R],G=b[S+0],Q=3*(G-U)+Ff[1020+b[S-2*R]-b[S+R]],J=Zu[112+(Q+4>>3)];b[S-R]=Ps[255+U+Zu[112+(Q+3>>3)]],b[S+0]=Ps[255+G-J]}function Hu(b,S,R,U){var G=b[S+0],Q=b[S+R];return fa[255+b[S-2*R]-b[S-R]]>U||fa[255+Q-G]>U}function Ho(b,S,R,U){return 4*fa[255+b[S-R]-b[S+0]]+fa[255+b[S-2*R]-b[S+R]]<=U}function Wo(b,S,R,U,G){var Q=b[S-3*R],J=b[S-2*R],ne=b[S-R],oe=b[S+0],le=b[S+R],xe=b[S+2*R],Me=b[S+3*R];return 4*fa[255+ne-oe]+fa[255+J-le]>U?0:fa[255+b[S-4*R]-Q]<=G&&fa[255+Q-J]<=G&&fa[255+J-ne]<=G&&fa[255+Me-xe]<=G&&fa[255+xe-le]<=G&&fa[255+le-oe]<=G}function Gr(b,S,R,U){var G=2*U+1;for(U=0;16>U;++U)Ho(b,S+U,R,G)&&ua(b,S+U,R)}function Qs(b,S,R,U){var G=2*U+1;for(U=0;16>U;++U)Ho(b,S+U*R,1,G)&&ua(b,S+U*R,1)}function ns(b,S,R,U){var G;for(G=3;0<G;--G)Gr(b,S+=4*R,R,U)}function sh(b,S,R,U){var G;for(G=3;0<G;--G)Qs(b,S+=4,R,U)}function co(b,S,R,U,G,Q,J,ne){for(Q=2*Q+1;0<G--;){if(Wo(b,S,R,Q,J))if(Hu(b,S,R,ne))ua(b,S,R);else{var oe=b,le=S,xe=R,Me=oe[le-2*xe],Pe=oe[le-xe],Ne=oe[le+0],Ke=oe[le+xe],Ue=oe[le+2*xe],_e=27*(ze=Ff[1020+3*(Ne-Pe)+Ff[1020+Me-Ke]])+63>>7,Ae=18*ze+63>>7,ze=9*ze+63>>7;oe[le-3*xe]=Ps[255+oe[le-3*xe]+ze],oe[le-2*xe]=Ps[255+Me+Ae],oe[le-xe]=Ps[255+Pe+_e],oe[le+0]=Ps[255+Ne-_e],oe[le+xe]=Ps[255+Ke-Ae],oe[le+2*xe]=Ps[255+Ue-ze]}S+=U}}function Bs(b,S,R,U,G,Q,J,ne){for(Q=2*Q+1;0<G--;){if(Wo(b,S,R,Q,J))if(Hu(b,S,R,ne))ua(b,S,R);else{var oe=b,le=S,xe=R,Me=oe[le-xe],Pe=oe[le+0],Ne=oe[le+xe],Ke=Zu[112+((Ue=3*(Pe-Me))+4>>3)],Ue=Zu[112+(Ue+3>>3)],_e=Ke+1>>1;oe[le-2*xe]=Ps[255+oe[le-2*xe]+_e],oe[le-xe]=Ps[255+Me+Ue],oe[le+0]=Ps[255+Pe-Ke],oe[le+xe]=Ps[255+Ne-_e]}S+=U}}function ho(b,S,R,U,G,Q){co(b,S,R,1,16,U,G,Q)}function Va(b,S,R,U,G,Q){co(b,S,1,R,16,U,G,Q)}function jl(b,S,R,U,G,Q){var J;for(J=3;0<J;--J)Bs(b,S+=4*R,R,1,16,U,G,Q)}function $o(b,S,R,U,G,Q){var J;for(J=3;0<J;--J)Bs(b,S+=4,1,R,16,U,G,Q)}function Fl(b,S,R,U,G,Q,J,ne){co(b,S,G,1,8,Q,J,ne),co(R,U,G,1,8,Q,J,ne)}function Wu(b,S,R,U,G,Q,J,ne){co(b,S,1,G,8,Q,J,ne),co(R,U,1,G,8,Q,J,ne)}function Yo(b,S,R,U,G,Q,J,ne){Bs(b,S+4*G,G,1,8,Q,J,ne),Bs(R,U+4*G,G,1,8,Q,J,ne)}function fo(b,S,R,U,G,Q,J,ne){Bs(b,S+4,1,G,8,Q,J,ne),Bs(R,U+4,1,G,8,Q,J,ne)}function Go(){this.ba=new Li,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new On,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Vl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ko(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function po(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new j}function rh(){this.xb=this.a=0,this.l=new Ma,this.ca=new Li,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new po,this.ab=0,this.gc=a(4,Ko),this.Oc=0}function Ua(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ma,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function mo(b,S,R,U,G,Q,J){for(b=b==null?0:b[S+0],S=0;S<J;++S)G[Q+S]=b+R[U+S]&255,b=G[Q+S]}function Xo(b,S,R,U,G,Q,J){var ne;if(b==null)mo(null,null,R,U,G,Q,J);else for(ne=0;ne<J;++ne)G[Q+ne]=b[S+ne]+R[U+ne]&255}function Zs(b,S,R,U,G,Q,J){if(b==null)mo(null,null,R,U,G,Q,J);else{var ne,oe=b[S+0],le=oe,xe=oe;for(ne=0;ne<J;++ne)le=xe+(oe=b[S+ne])-le,xe=R[U+ne]+(-256&le?0>le?0:255:le)&255,le=oe,G[Q+ne]=xe}}function Ul(b,S,R,U){var G=S.width,Q=S.o;if(e(b!=null&&S!=null),0>R||0>=U||R+U>Q)return null;if(!b.Cc){if(b.ga==null){var J;if(b.ga=new Ua,(J=b.ga==null)||(J=S.width*S.o,e(b.Gb.length==0),b.Gb=r(J),b.Uc=0,b.Gb==null?J=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,J=1),J=!J),!J){J=b.ga;var ne=b.Fa,oe=b.P,le=b.qc,xe=b.mb,Me=b.nb,Pe=oe+1,Ne=le-1,Ke=J.l;if(e(ne!=null&&xe!=null&&S!=null),xo[0]=null,xo[1]=mo,xo[2]=Xo,xo[3]=Zs,J.ca=xe,J.tb=Me,J.c=S.width,J.i=S.height,e(0<J.c&&0<J.i),1>=le)S=0;else if(J.$a=ne[oe+0]>>0&3,J.Z=ne[oe+0]>>2&3,J.Lc=ne[oe+0]>>4&3,oe=ne[oe+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||oe)S=0;else if(Ke.put=Zi,Ke.ac=ti,Ke.bc=lr,Ke.ma=J,Ke.width=S.width,Ke.height=S.height,Ke.Da=S.Da,Ke.v=S.v,Ke.va=S.va,Ke.j=S.j,Ke.o=S.o,J.$a)e:{e(J.$a==1),S=li();t:for(;;){if(S==null){S=0;break e}if(e(J!=null),J.mc=S,S.c=J.c,S.i=J.i,S.l=J.l,S.l.ma=J,S.l.width=J.c,S.l.height=J.i,S.a=0,ce(S.m,ne,Pe,Ne),!Fn(J.c,J.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&ur(S.s)?(J.ic=1,ne=S.c*S.i,S.Ta=null,S.Ua=0,S.V=r(ne),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(J.ic=0,S=ka(S,J.c)),!S))break t;S=1;break e}J.mc=null,S=0}else S=Ne>=J.c*J.i;J=!S}if(J)return null;b.ga.Lc!=1?b.Ga=0:U=Q-R}e(b.ga!=null),e(R+U<=Q);e:{if(S=(ne=b.ga).c,Q=ne.l.o,ne.$a==0){if(Pe=b.rc,Ne=b.Vc,Ke=b.Fa,oe=b.P+1+R*S,le=b.mb,xe=b.nb+R*S,e(oe<=b.P+b.qc),ne.Z!=0)for(e(xo[ne.Z]!=null),J=0;J<U;++J)xo[ne.Z](Pe,Ne,Ke,oe,le,xe,S),Pe=le,Ne=xe,xe+=S,oe+=S;else for(J=0;J<U;++J)i(le,xe,Ke,oe,S),Pe=le,Ne=xe,xe+=S,oe+=S;b.rc=Pe,b.Vc=Ne}else{if(e(ne.mc!=null),S=R+U,e((J=ne.mc)!=null),e(S<=J.i),J.C>=S)S=1;else if(ne.ic||Ce(),ne.ic){ne=J.V,Pe=J.Ba,Ne=J.c;var Ue=J.i,_e=(Ke=1,oe=J.$/Ne,le=J.$%Ne,xe=J.m,Me=J.s,J.$),Ae=Ne*Ue,ze=Ne*S,Xe=Me.wc,We=_e<ze?ki(Me,le,oe):null;e(_e<=Ae),e(S<=Ue),e(ur(Me));t:for(;;){for(;!xe.h&&_e<ze;){if(le&Xe||(We=ki(Me,le,oe)),e(We!=null),he(xe),256>(Ue=mi(We.G[0],We.H[0],xe)))ne[Pe+_e]=Ue,++_e,++le>=Ne&&(le=0,++oe<=S&&!(oe%16)&&hs(J,oe));else{if(!(280>Ue)){Ke=0;break t}Ue=pt(Ue-256,xe);var mt,ot=mi(We.G[4],We.H[4],xe);if(he(xe),!(_e>=(ot=Xn(Ne,ot=pt(ot,xe)))&&Ae-_e>=Ue)){Ke=0;break t}for(mt=0;mt<Ue;++mt)ne[Pe+_e+mt]=ne[Pe+_e+mt-ot];for(_e+=Ue,le+=Ue;le>=Ne;)le-=Ne,++oe<=S&&!(oe%16)&&hs(J,oe);_e<ze&&le&Xe&&(We=ki(Me,le,oe))}e(xe.h==re(xe))}hs(J,oe>S?S:oe);break t}!Ke||xe.h&&_e<Ae?(Ke=0,J.a=xe.h?5:3):J.$=_e,S=Ke}else S=es(J,J.V,J.Ba,J.c,J.i,S,Pa);if(!S){U=0;break e}}R+U>=Q&&(b.Cc=1),U=1}if(!U)return null;if(b.Cc&&((U=b.ga)!=null&&(U.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+R*G}function L(b,S,R,U,G,Q){for(;0<G--;){var J,ne=b,oe=S+(R?1:0),le=b,xe=S+(R?0:3);for(J=0;J<U;++J){var Me=le[xe+4*J];Me!=255&&(Me*=32897,ne[oe+4*J+0]=ne[oe+4*J+0]*Me>>23,ne[oe+4*J+1]=ne[oe+4*J+1]*Me>>23,ne[oe+4*J+2]=ne[oe+4*J+2]*Me>>23)}S+=Q}}function K(b,S,R,U,G){for(;0<U--;){var Q;for(Q=0;Q<R;++Q){var J=b[S+2*Q+0],ne=15&(le=b[S+2*Q+1]),oe=4369*ne,le=(240&le|le>>4)*oe>>16;b[S+2*Q+0]=(240&J|J>>4)*oe>>16&240|(15&J|J<<4)*oe>>16>>4&15,b[S+2*Q+1]=240&le|ne}S+=G}}function de(b,S,R,U,G,Q,J,ne){var oe,le,xe=255;for(le=0;le<G;++le){for(oe=0;oe<U;++oe){var Me=b[S+oe];Q[J+4*oe]=Me,xe&=Me}S+=R,J+=ne}return xe!=255}function ve(b,S,R,U,G){var Q;for(Q=0;Q<G;++Q)R[U+Q]=b[S+Q]>>8}function Ce(){Kr=L,cn=K,hn=de,ci=ve}function Be(b,S,R){P[b]=function(U,G,Q,J,ne,oe,le,xe,Me,Pe,Ne,Ke,Ue,_e,Ae,ze,Xe){var We,mt=Xe-1>>1,ot=ne[oe+0]|le[xe+0]<<16,Nt=Me[Pe+0]|Ne[Ke+0]<<16;e(U!=null);var ct=3*ot+Nt+131074>>2;for(S(U[G+0],255&ct,ct>>16,Ue,_e),Q!=null&&(ct=3*Nt+ot+131074>>2,S(Q[J+0],255&ct,ct>>16,Ae,ze)),We=1;We<=mt;++We){var Pn=ne[oe+We]|le[xe+We]<<16,Bn=Me[Pe+We]|Ne[Ke+We]<<16,on=ot+Pn+Nt+Bn+524296,sn=on+2*(Pn+Nt)>>3;ct=sn+ot>>1,ot=(on=on+2*(ot+Bn)>>3)+Pn>>1,S(U[G+2*We-1],255&ct,ct>>16,Ue,_e+(2*We-1)*R),S(U[G+2*We-0],255&ot,ot>>16,Ue,_e+(2*We-0)*R),Q!=null&&(ct=on+Nt>>1,ot=sn+Bn>>1,S(Q[J+2*We-1],255&ct,ct>>16,Ae,ze+(2*We-1)*R),S(Q[J+2*We+0],255&ot,ot>>16,Ae,ze+(2*We+0)*R)),ot=Pn,Nt=Bn}1&Xe||(ct=3*ot+Nt+131074>>2,S(U[G+Xe-1],255&ct,ct>>16,Ue,_e+(Xe-1)*R),Q!=null&&(ct=3*Nt+ot+131074>>2,S(Q[J+Xe-1],255&ct,ct>>16,Ae,ze+(Xe-1)*R)))}}function Je(){Rs[Js]=rl,Rs[ch]=_o,Rs[bo]=eu,Rs[Ld]=Bf,Rs[Ju]=zf,Rs[el]=fh,Rs[Vf]=qf,Rs[kd]=_o,Rs[Zl]=Bf,Rs[tl]=zf,Rs[hh]=fh}function ut(b){return b&-16384?0>b?0:255:b>>g2}function w(b,S){return ut((19077*b>>8)+(26149*S>>8)-14234)}function D(b,S,R){return ut((19077*b>>8)-(6419*S>>8)-(13320*R>>8)+8708)}function q(b,S){return ut((19077*b>>8)+(33050*S>>8)-17685)}function ie(b,S,R,U,G){U[G+0]=w(b,R),U[G+1]=D(b,S,R),U[G+2]=q(b,S)}function Te(b,S,R,U,G){U[G+0]=q(b,S),U[G+1]=D(b,S,R),U[G+2]=w(b,R)}function Ie(b,S,R,U,G){var Q=D(b,S,R);S=Q<<3&224|q(b,S)>>3,U[G+0]=248&w(b,R)|Q>>5,U[G+1]=S}function et(b,S,R,U,G){var Q=240&q(b,S)|15;U[G+0]=240&w(b,R)|D(b,S,R)>>4,U[G+1]=Q}function Dt(b,S,R,U,G){U[G+0]=255,ie(b,S,R,U,G+1)}function mn(b,S,R,U,G){Te(b,S,R,U,G),U[G+3]=255}function Yt(b,S,R,U,G){ie(b,S,R,U,G),U[G+3]=255}function Un(b,S){return 0>b?0:b>S?S:b}function Qn(b,S,R){P[b]=function(U,G,Q,J,ne,oe,le,xe,Me){for(var Pe=xe+(-2&Me)*R;xe!=Pe;)S(U[G+0],Q[J+0],ne[oe+0],le,xe),S(U[G+1],Q[J+0],ne[oe+0],le,xe+R),G+=2,++J,++oe,xe+=2*R;1&Me&&S(U[G+0],Q[J+0],ne[oe+0],le,xe)}}function ca(b,S,R){return R==0?b==0?S==0?6:5:S==0?4:0:R}function Ui(b,S,R,U,G){switch(b>>>30){case 3:za(S,R,U,G,0);break;case 2:Pi(S,R,U,G);break;case 1:is(S,R,U,G)}}function Er(b,S){var R,U,G=S.M,Q=S.Nb,J=b.oc,ne=b.pc+40,oe=b.oc,le=b.pc+584,xe=b.oc,Me=b.pc+600;for(R=0;16>R;++R)J[ne+32*R-1]=129;for(R=0;8>R;++R)oe[le+32*R-1]=129,xe[Me+32*R-1]=129;for(0<G?J[ne-1-32]=oe[le-1-32]=xe[Me-1-32]=129:(s(J,ne-32-1,127,21),s(oe,le-32-1,127,9),s(xe,Me-32-1,127,9)),U=0;U<b.za;++U){var Pe=S.ya[S.aa+U];if(0<U){for(R=-1;16>R;++R)i(J,ne+32*R-4,J,ne+32*R+12,4);for(R=-1;8>R;++R)i(oe,le+32*R-4,oe,le+32*R+4,4),i(xe,Me+32*R-4,xe,Me+32*R+4,4)}var Ne=b.Gd,Ke=b.Hd+U,Ue=Pe.ad,_e=Pe.Hc;if(0<G&&(i(J,ne-32,Ne[Ke].y,0,16),i(oe,le-32,Ne[Ke].f,0,8),i(xe,Me-32,Ne[Ke].ea,0,8)),Pe.Za){var Ae=J,ze=ne-32+16;for(0<G&&(U>=b.za-1?s(Ae,ze,Ne[Ke].y[15],4):i(Ae,ze,Ne[Ke+1].y,0,4)),R=0;4>R;R++)Ae[ze+128+R]=Ae[ze+256+R]=Ae[ze+384+R]=Ae[ze+0+R];for(R=0;16>R;++R,_e<<=2)Ae=J,ze=ne+ic[R],dr[Pe.Ob[R]](Ae,ze),Ui(_e,Ue,16*+R,Ae,ze)}else if(Ae=ca(U,G,Pe.Ob[0]),sl[Ae](J,ne),_e!=0)for(R=0;16>R;++R,_e<<=2)Ui(_e,Ue,16*+R,J,ne+ic[R]);for(R=Pe.Gc,Ae=ca(U,G,Pe.Dd),Qr[Ae](oe,le),Qr[Ae](xe,Me),_e=Ue,Ae=oe,ze=le,255&(Pe=R>>0)&&(170&Pe?qa(_e,256,Ae,ze):Lr(_e,256,Ae,ze)),Pe=xe,_e=Me,255&(R>>=8)&&(170&R?qa(Ue,320,Pe,_e):Lr(Ue,320,Pe,_e)),G<b.Ub-1&&(i(Ne[Ke].y,0,J,ne+480,16),i(Ne[Ke].f,0,oe,le+224,8),i(Ne[Ke].ea,0,xe,Me+224,8)),R=8*Q*b.B,Ne=b.sa,Ke=b.ta+16*U+16*Q*b.R,Ue=b.qa,Pe=b.ra+8*U+R,_e=b.Ha,Ae=b.Ia+8*U+R,R=0;16>R;++R)i(Ne,Ke+R*b.R,J,ne+32*R,16);for(R=0;8>R;++R)i(Ue,Pe+R*b.B,oe,le+32*R,8),i(_e,Ae+R*b.B,xe,Me+32*R,8)}}function go(b,S,R,U,G,Q,J,ne,oe){var le=[0],xe=[0],Me=0,Pe=oe!=null?oe.kd:0,Ne=oe??new Vl;if(b==null||12>R)return 7;Ne.data=b,Ne.w=S,Ne.ha=R,S=[S],R=[R],Ne.gb=[Ne.gb];e:{var Ke=S,Ue=R,_e=Ne.gb;if(e(b!=null),e(Ue!=null),e(_e!=null),_e[0]=0,12<=Ue[0]&&!n(b,Ke[0],"RIFF")){if(n(b,Ke[0]+8,"WEBP")){_e=3;break e}var Ae=$e(b,Ke[0]+4);if(12>Ae||4294967286<Ae){_e=3;break e}if(Pe&&Ae>Ue[0]-8){_e=7;break e}_e[0]=Ae,Ke[0]+=12,Ue[0]-=12}_e=0}if(_e!=0)return _e;for(Ae=0<Ne.gb[0],R=R[0];;){e:{var ze=b;Ue=S,_e=R;var Xe=le,We=xe,mt=Ke=[0];if((ct=Me=[Me])[0]=0,8>_e[0])_e=7;else{if(!n(ze,Ue[0],"VP8X")){if($e(ze,Ue[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var ot=$e(ze,Ue[0]+8),Nt=1+tt(ze,Ue[0]+12);if(2147483648<=Nt*(ze=1+tt(ze,Ue[0]+15))){_e=3;break e}mt!=null&&(mt[0]=ot),Xe!=null&&(Xe[0]=Nt),We!=null&&(We[0]=ze),Ue[0]+=18,_e[0]-=18,ct[0]=1}_e=0}}if(Me=Me[0],Ke=Ke[0],_e!=0)return _e;if(Ue=!!(2&Ke),!Ae&&Me)return 3;if(Q!=null&&(Q[0]=!!(16&Ke)),J!=null&&(J[0]=Ue),ne!=null&&(ne[0]=0),J=le[0],Ke=xe[0],Me&&Ue&&oe==null){_e=0;break}if(4>R){_e=7;break}if(Ae&&Me||!Ae&&!Me&&!n(b,S[0],"ALPH")){R=[R],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{ot=b,_e=S,Ae=R;var ct=Ne.gb;Xe=Ne.na,We=Ne.P,mt=Ne.Sa,Nt=22,e(ot!=null),e(Ae!=null),ze=_e[0];var Pn=Ae[0];for(e(Xe!=null),e(mt!=null),Xe[0]=null,We[0]=null,mt[0]=0;;){if(_e[0]=ze,Ae[0]=Pn,8>Pn){_e=7;break e}var Bn=$e(ot,ze+4);if(4294967286<Bn){_e=3;break e}var on=8+Bn+1&-2;if(Nt+=on,0<ct&&Nt>ct){_e=3;break e}if(!n(ot,ze,"VP8 ")||!n(ot,ze,"VP8L")){_e=0;break e}if(Pn[0]<on){_e=7;break e}n(ot,ze,"ALPH")||(Xe[0]=ot,We[0]=ze+8,mt[0]=Bn),ze+=on,Pn-=on}}if(R=R[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],_e!=0)break}R=[R],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(ct=b,_e=S,Ae=R,Xe=Ne.gb[0],We=Ne.Ja,mt=Ne.xa,ot=_e[0],ze=!n(ct,ot,"VP8 "),Nt=!n(ct,ot,"VP8L"),e(ct!=null),e(Ae!=null),e(We!=null),e(mt!=null),8>Ae[0])_e=7;else{if(ze||Nt){if(ct=$e(ct,ot+4),12<=Xe&&ct>Xe-12){_e=3;break e}if(Pe&&ct>Ae[0]-8){_e=7;break e}We[0]=ct,_e[0]+=8,Ae[0]-=8,mt[0]=Nt}else mt[0]=5<=Ae[0]&&ct[ot+0]==47&&!(ct[ot+4]>>5),We[0]=Ae[0];_e=0}if(R=R[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],S=S[0],_e!=0)break;if(4294967286<Ne.Ja)return 3;if(ne==null||Ue||(ne[0]=Ne.xa?2:1),J=[J],Ke=[Ke],Ne.xa){if(5>R){_e=7;break}ne=J,Pe=Ke,Ue=Q,b==null||5>R?b=0:5<=R&&b[S+0]==47&&!(b[S+4]>>5)?(Ae=[0],ct=[0],Xe=[0],ce(We=new W,b,S,R),dt(We,Ae,ct,Xe)?(ne!=null&&(ne[0]=Ae[0]),Pe!=null&&(Pe[0]=ct[0]),Ue!=null&&(Ue[0]=Xe[0]),b=1):b=0):b=0}else{if(10>R){_e=7;break}ne=Ke,b==null||10>R||!Ls(b,S+3,R-3)?b=0:(Pe=b[S+0]|b[S+1]<<8|b[S+2]<<16,Ue=16383&(b[S+7]<<8|b[S+6]),b=16383&(b[S+9]<<8|b[S+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=Ne.Ja||!Ue||!b?b=0:(J&&(J[0]=Ue),ne&&(ne[0]=b),b=1))}if(!b||(J=J[0],Ke=Ke[0],Me&&(le[0]!=J||xe[0]!=Ke)))return 3;oe!=null&&(oe[0]=Ne,oe.offset=S-oe.w,e(4294967286>S-oe.w),e(oe.offset==oe.ha-R));break}return _e==0||_e==7&&Me&&oe==null?(Q!=null&&(Q[0]|=Ne.na!=null&&0<Ne.na.length),U!=null&&(U[0]=J),G!=null&&(G[0]=Ke),0):_e}function Bl(b,S,R){var U=S.width,G=S.height,Q=0,J=0,ne=U,oe=G;if(S.Da=b!=null&&0<b.Da,S.Da&&(ne=b.cd,oe=b.bd,Q=b.v,J=b.j,11>R||(Q&=-2,J&=-2),0>Q||0>J||0>=ne||0>=oe||Q+ne>U||J+oe>G))return 0;if(S.v=Q,S.j=J,S.va=Q+ne,S.o=J+oe,S.U=ne,S.T=oe,S.da=b!=null&&0<b.da,S.da){if(!St(ne,oe,R=[b.ib],Q=[b.hb]))return 0;S.ib=R[0],S.hb=Q[0]}return S.ob=b!=null&&b.ob,S.Kb=b==null||!b.Sd,S.da&&(S.ob=S.ib<3*U/4&&S.hb<3*G/4,S.Kb=0),1}function ah(b){if(b==null)return 2;if(11>b.S){var S=b.f.RGBA;S.fb+=(b.height-1)*S.A,S.A=-S.A}else S=b.f.kb,b=b.height,S.O+=(b-1)*S.fa,S.fa=-S.fa,S.N+=(b-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(b-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(b-1)*S.lb,S.lb=-S.lb);return 0}function $u(b,S,R,U){if(U==null||0>=b||0>=S)return 2;if(R!=null){if(R.Da){var G=R.cd,Q=R.bd,J=-2&R.v,ne=-2&R.j;if(0>J||0>ne||0>=G||0>=Q||J+G>b||ne+Q>S)return 2;b=G,S=Q}if(R.da){if(!St(b,S,G=[R.ib],Q=[R.hb]))return 2;b=G[0],S=Q[0]}}U.width=b,U.height=S;e:{var oe=U.width,le=U.height;if(b=U.S,0>=oe||0>=le||!(b>=Js&&13>b))b=2;else{if(0>=U.Rd&&U.sd==null){J=Q=G=S=0;var xe=(ne=oe*py[b])*le;if(11>b||(Q=(le+1)/2*(S=(oe+1)/2),b==12&&(J=(G=oe)*le)),(le=r(xe+2*Q+J))==null){b=1;break e}U.sd=le,11>b?((oe=U.f.RGBA).eb=le,oe.fb=0,oe.A=ne,oe.size=xe):((oe=U.f.kb).y=le,oe.O=0,oe.fa=ne,oe.Fd=xe,oe.f=le,oe.N=0+xe,oe.Ab=S,oe.Cd=Q,oe.ea=le,oe.W=0+xe+Q,oe.Db=S,oe.Ed=Q,b==12&&(oe.F=le,oe.J=0+xe+2*Q),oe.Tc=J,oe.lb=G)}if(S=1,G=U.S,Q=U.width,J=U.height,G>=Js&&13>G)if(11>G)b=U.f.RGBA,S&=(ne=Math.abs(b.A))*(J-1)+Q<=b.size,S&=ne>=Q*py[G],S&=b.eb!=null;else{b=U.f.kb,ne=(Q+1)/2,xe=(J+1)/2,oe=Math.abs(b.fa),le=Math.abs(b.Ab);var Me=Math.abs(b.Db),Pe=Math.abs(b.lb),Ne=Pe*(J-1)+Q;S&=oe*(J-1)+Q<=b.Fd,S&=le*(xe-1)+ne<=b.Cd,S=(S&=Me*(xe-1)+ne<=b.Ed)&oe>=Q&le>=ne&Me>=ne,S&=b.y!=null,S&=b.f!=null,S&=b.ea!=null,G==12&&(S&=Pe>=Q,S&=Ne<=b.Tc,S&=b.F!=null)}else S=0;b=S?0:2}}return b!=0||R!=null&&R.fd&&(b=ah(U)),b}var ps=64,zl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yu=24,Gu=32,oh=8,Cr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(b){return b},P.Predictor2=function(b,S,R){return S[R+0]},P.Predictor3=function(b,S,R){return S[R+1]},P.Predictor4=function(b,S,R){return S[R-1]},P.Predictor5=function(b,S,R){return lt(lt(b,S[R+1]),S[R+0])},P.Predictor6=function(b,S,R){return lt(b,S[R-1])},P.Predictor7=function(b,S,R){return lt(b,S[R+0])},P.Predictor8=function(b,S,R){return lt(S[R-1],S[R+0])},P.Predictor9=function(b,S,R){return lt(S[R+0],S[R+1])},P.Predictor10=function(b,S,R){return lt(lt(b,S[R-1]),lt(S[R+0],S[R+1]))},P.Predictor11=function(b,S,R){var U=S[R+0];return 0>=Vt(U>>24&255,b>>24&255,(S=S[R-1])>>24&255)+Vt(U>>16&255,b>>16&255,S>>16&255)+Vt(U>>8&255,b>>8&255,S>>8&255)+Vt(255&U,255&b,255&S)?U:b},P.Predictor12=function(b,S,R){var U=S[R+0];return(xt((b>>24&255)+(U>>24&255)-((S=S[R-1])>>24&255))<<24|xt((b>>16&255)+(U>>16&255)-(S>>16&255))<<16|xt((b>>8&255)+(U>>8&255)-(S>>8&255))<<8|xt((255&b)+(255&U)-(255&S)))>>>0},P.Predictor13=function(b,S,R){var U=S[R-1];return(Mt((b=lt(b,S[R+0]))>>24&255,U>>24&255)<<24|Mt(b>>16&255,U>>16&255)<<16|Mt(b>>8&255,U>>8&255)<<8|Mt(b>>0&255,U>>0&255))>>>0};var Tm=P.PredictorAdd0;P.PredictorAdd1=At,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var Cd=P.PredictorAdd2;Xt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var jf,ha=P.ColorIndexInverseTransform,ks=P.MapARGB,ql=P.VP8LColorIndexInverseTransformAlpha,Nd=P.MapAlpha,Qo=P.VP8LPredictorsAdd=[];Qo.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Hl,hr,zs,Wl,Nr,Ba,yo,za,Pi,qa,is,Lr,Ku,vo,lh,$l,Yl,Gl,Xu,uh,Kl,Zo,Qu,Ri,Kr,cn,hn,ci,Bi=r(511),da=r(2041),Xl=r(225),Ql=r(767),Jo=0,Ff=da,Zu=Xl,Ps=Ql,fa=Bi,Js=0,ch=1,bo=2,Ld=3,Ju=4,el=5,Vf=6,kd=7,Zl=8,tl=9,hh=10,Uf=[2,3,7],pa=[3,3,11],Xr=[280,256,256,256,40],ec=[0,1,1,1,0],nl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],il=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],uy=8,Pd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ms=null,Mi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],jn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Jl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],wo=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Em=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],nc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cy=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sl=[],dr=[],Qr=[],hy=1,dh=2,xo=[],Rs=[];Be("UpsampleRgbLinePair",ie,3),Be("UpsampleBgrLinePair",Te,3),Be("UpsampleRgbaLinePair",Yt,4),Be("UpsampleBgraLinePair",mn,4),Be("UpsampleArgbLinePair",Dt,4),Be("UpsampleRgba4444LinePair",et,2),Be("UpsampleRgb565LinePair",Ie,2);var rl=P.UpsampleRgbLinePair,eu=P.UpsampleBgrLinePair,_o=P.UpsampleRgbaLinePair,Bf=P.UpsampleBgraLinePair,zf=P.UpsampleArgbLinePair,fh=P.UpsampleRgba4444LinePair,qf=P.UpsampleRgb565LinePair,So=16,gs=1<<So-1,tu=-227,Hf=482,g2=6,dy=0,y2=r(256),ys=r(256),Cm=r(256),Md=r(256),Id=r(Hf-tu),Nm=r(Hf-tu);Qn("YuvToRgbRow",ie,3),Qn("YuvToBgrRow",Te,3),Qn("YuvToRgbaRow",Yt,4),Qn("YuvToBgraRow",mn,4),Qn("YuvToArgbRow",Dt,4),Qn("YuvToRgba4444Row",et,2),Qn("YuvToRgb565Row",Ie,2);var ic=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],al=[0,2,8],v2=[8,7,6,4,4,2,2,2,1,1,1,1],fy=1;this.WebPDecodeRGBA=function(b,S,R,U,G){var Q=ch,J=new Go,ne=new Li;J.ba=ne,ne.S=Q,ne.width=[ne.width],ne.height=[ne.height];var oe=ne.width,le=ne.height,xe=new Qi;if(xe==null||b==null)var Me=2;else e(xe!=null),Me=go(b,S,R,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Me!=0?oe=0:(oe!=null&&(oe[0]=xe.width[0]),le!=null&&(le[0]=xe.height[0]),oe=1),oe){ne.width=ne.width[0],ne.height=ne.height[0],U!=null&&(U[0]=ne.width),G!=null&&(G[0]=ne.height);e:{if(U=new Ma,(G=new Vl).data=b,G.w=S,G.ha=R,G.kd=1,S=[0],e(G!=null),((b=go(G.data,G.w,G.ha,null,null,null,S,null,G))==0||b==7)&&S[0]&&(b=4),(S=b)==0){if(e(J!=null),U.data=G.data,U.w=G.w+G.offset,U.ha=G.ha-G.offset,U.put=Zi,U.ac=ti,U.bc=lr,U.ma=J,G.xa){if((b=li())==null){J=1;break e}if(function(Pe,Ne){var Ke=[0],Ue=[0],_e=[0];t:for(;;){if(Pe==null)return 0;if(Ne==null)return Pe.a=2,0;if(Pe.l=Ne,Pe.a=0,ce(Pe.m,Ne.data,Ne.w,Ne.ha),!dt(Pe.m,Ke,Ue,_e)){Pe.a=3;break t}if(Pe.xb=dh,Ne.width=Ke[0],Ne.height=Ue[0],!Fn(Ke[0],Ue[0],1,Pe,null))break t;return 1}return e(Pe.a!=0),0}(b,U)){if(U=(S=$u(U.width,U.height,J.Oa,J.ba))==0){t:{U=b;n:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((R=U.l)!=null),e((G=R.ma)!=null),U.xb!=0){if(U.ca=G.ba,U.tb=G.tb,e(U.ca!=null),!Bl(G.Oa,R,Ld)){U.a=2;break n}if(!ka(U,R.width)||R.da)break n;if((R.da||un(U.ca.S))&&Ce(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&Ce()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!it(U.s.vb,U.s.Wa.Xa)){U.a=1;break n}U.xb=0}if(!es(U,U.V,U.Ba,U.c,U.i,R.o,Bo))break n;G.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(S=b.a)}else S=b.a}else{if((b=new Vu)==null){J=1;break e}if(b.Fa=G.na,b.P=G.P,b.qc=G.Sa,Il(b,U)){if((S=$u(U.width,U.height,J.Oa,J.ba))==0){if(b.Aa=0,R=J.Oa,e((G=b)!=null),R!=null){if(0<(oe=0>(oe=R.Md)?0:100<oe?255:255*oe/100)){for(le=xe=0;4>le;++le)12>(Me=G.pb[le]).lc&&(Me.ia=oe*v2[0>Me.lc?0:Me.lc]>>3),xe|=Me.ia;xe&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=R.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}Uu(b,U)||(S=b.a)}}else S=b.a}S==0&&J.Oa!=null&&J.Oa.fd&&(S=ah(J.ba))}J=S}Q=J!=0?null:11>Q?ne.f.RGBA.eb:ne.f.kb.y}else Q=null;return Q};var py=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(P,F){for(var H="",M=0;M<4;M++)H+=String.fromCharCode(P[F++]);return H}function f(P,F){return(P[F+0]<<0|P[F+1]<<8|P[F+2]<<16)>>>0}function p(P,F){return(P[F+0]<<0|P[F+1]<<8|P[F+2]<<16|P[F+3]<<24)>>>0}new u;var g=[0],y=[0],x=[],A=new u,T=t,E=function(P,F){var H={},M=0,j=!1,z=0,te=0;if(H.frames=[],!function(X,re,ee,he){for(var we=0;we<he;we++)if(X[re+we]!=ee.charCodeAt(we))return!0;return!1}(P,F,"RIFF",4)){for(p(P,F+=4),F+=8;F<P.length;){var pe=h(P,F),ae=p(P,F+=4);F+=4;var ue=ae+(1&ae);switch(pe){case"VP8 ":case"VP8L":H.frames[M]===void 0&&(H.frames[M]={}),(Z=H.frames[M]).src_off=j?te:F-8,Z.src_size=z+ae+8,M++,j&&(j=!1,z=0,te=0);break;case"VP8X":(Z=H.header={}).feature_flags=P[F];var ce=F+4;Z.canvas_width=1+f(P,ce),ce+=3,Z.canvas_height=1+f(P,ce),ce+=3;break;case"ALPH":j=!0,z=ue+8,te=F-8;break;case"ANIM":(Z=H.header).bgcolor=p(P,F),ce=F+4,Z.loop_count=(be=P)[(W=ce)+0]<<0|be[W+1]<<8,ce+=2;break;case"ANMF":var ye,Z;(Z=H.frames[M]={}).offset_x=2*f(P,F),F+=3,Z.offset_y=2*f(P,F),F+=3,Z.width=1+f(P,F),F+=3,Z.height=1+f(P,F),F+=3,Z.duration=f(P,F),F+=3,ye=P[F++],Z.dispose=1&ye,Z.blend=ye>>1&1}pe!="ANMF"&&(F+=ue)}var be,W;return H}}(T,0);E.response=T,E.rgbaoutput=!0,E.dataurl=!1;var k=E.header?E.header:null,O=E.frames?E.frames:null;if(k){k.loop_counter=k.loop_count,g=[k.canvas_height],y=[k.canvas_width];for(var B=0;B<O.length&&O[B].blend!=0;B++);}var V=O[0],Y=A.WebPDecodeRGBA(T,V.src_off,V.src_size,y,g);V.rgba=Y,V.imgwidth=y[0],V.imgheight=g[0];for(var I=0;I<y[0]*g[0]*4;I++)x[I]=Y[I];return this.width=y,this.height=g,this.data=x,this}(function(t){var e=function(){return typeof A_=="function"},n=function(g,y,x,A){var T=4,E=a;switch(A){case t.image_compression.FAST:T=1,E=r;break;case t.image_compression.MEDIUM:T=6,E=l;break;case t.image_compression.SLOW:T=9,E=u}g=i(g,y,x,E);var k=A_(g,{level:T});return t.__addimage__.arrayBufferToBinaryString(k)},i=function(g,y,x,A){for(var T,E,k,O=g.length/y,B=new Uint8Array(g.length+O),V=f(),Y=0;Y<O;Y+=1){if(k=Y*y,T=g.subarray(k,k+y),A)B.set(A(T,x,E),k+Y);else{for(var I,P=V.length,F=[];I<P;I+=1)F[I]=V[I](T,x,E);var H=p(F.concat());B.set(F[H],k+Y)}E=T}return B},s=function(g){var y=Array.apply([],g);return y.unshift(0),y},r=function(g,y){var x,A=[],T=g.length;A[0]=1;for(var E=0;E<T;E+=1)x=g[E-y]||0,A[E+1]=g[E]-x+256&255;return A},a=function(g,y,x){var A,T=[],E=g.length;T[0]=2;for(var k=0;k<E;k+=1)A=x&&x[k]||0,T[k+1]=g[k]-A+256&255;return T},l=function(g,y,x){var A,T,E=[],k=g.length;E[0]=3;for(var O=0;O<k;O+=1)A=g[O-y]||0,T=x&&x[O]||0,E[O+1]=g[O]+256-(A+T>>>1)&255;return E},u=function(g,y,x){var A,T,E,k,O=[],B=g.length;O[0]=4;for(var V=0;V<B;V+=1)A=g[V-y]||0,T=x&&x[V]||0,E=x&&x[V-y]||0,k=h(A,T,E),O[V+1]=g[V]-k+256&255;return O},h=function(g,y,x){if(g===y&&y===x)return g;var A=Math.abs(y-x),T=Math.abs(g-x),E=Math.abs(g+y-x-x);return A<=T&&A<=E?g:T<=E?y:x},f=function(){return[s,r,a,l,u]},p=function(g){var y=g.map(function(x){return x.reduce(function(A,T){return A+Math.abs(T)},0)});return y.indexOf(Math.min.apply(null,y))};t.processPNG=function(g,y,x,A){var T,E,k,O,B,V,Y,I,P,F,H,M,j,z,te,pe=this.decode.FLATE_DECODE,ae="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(k=new WX(g)).imgData,E=k.bits,T=k.colorSpace,B=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){P=(I=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,H=new Uint8Array(P*k.colors),F=new Uint8Array(P);var ue,ce=k.pixelBitlength-k.bits;for(z=0,te=0;z<P;z++){for(j=I[z],ue=0;ue<ce;)H[te++]=j>>>ue&255,ue+=k.bits;F[z]=j>>>ue&255}}if(k.bits===16){P=(I=new Uint32Array(k.decodePixels().buffer)).length,H=new Uint8Array(P*(32/k.pixelBitlength)*k.colors),F=new Uint8Array(P*(32/k.pixelBitlength)),M=k.colors>1,z=0,te=0;for(var ye=0;z<P;)j=I[z++],H[te++]=j>>>0&255,M&&(H[te++]=j>>>16&255,j=I[z++],H[te++]=j>>>0&255),F[ye++]=j>>>16&255;E=8}A!==t.image_compression.NONE&&e()?(g=n(H,k.width*k.colors,k.colors,A),Y=n(F,k.width,1,A)):(g=H,Y=F,pe=void 0)}if(k.colorType===3&&(T=this.color_spaces.INDEXED,V=k.palette,k.transparency.indexed)){var Z=k.transparency.indexed,be=0;for(z=0,P=Z.length;z<P;++z)be+=Z[z];if((be/=255)===P-1&&Z.indexOf(0)!==-1)O=[Z.indexOf(0)];else if(be!==P){for(I=k.decodePixels(),F=new Uint8Array(I.length),z=0,P=I.length;z<P;z++)F[z]=Z[I[z]];Y=n(F,k.width,1)}}var W=function(X){var re;switch(X){case t.image_compression.FAST:re=11;break;case t.image_compression.MEDIUM:re=13;break;case t.image_compression.SLOW:re=14;break;default:re=12}return re}(A);return pe===this.decode.FLATE_DECODE&&(ae="/Predictor "+W+" "),ae+="/Colors "+B+" /BitsPerComponent "+E+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(Y&&this.__addimage__.isArrayBuffer(Y)||this.__addimage__.isArrayBufferView(Y))&&(Y=this.__addimage__.arrayBufferToBinaryString(Y)),{alias:x,data:g,index:y,filter:pe,decodeParameters:ae,transparency:O,palette:V,sMask:Y,predictor:W,width:k.width,height:k.height,bitsPerComponent:E,colorSpace:T}}}})(jt.API),function(t){t.processGIF89A=function(e,n,i,s){var r=new $X(e),a=r.width,l=r.height,u=[];r.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:a,height:l},f=new ex(100).encode(h,100);return t.processJPEG.call(this,f,n,i,s)},t.processGIF87A=t.processGIF89A}(jt.API),pl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:i,blue:n,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},pl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){yi.log("bit decode error:"+n)}},pl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var r=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var u=this.palette[r>>7-l&1];this.data[a+4*l]=u.blue,this.data[a+4*l+1]=u.green,this.data[a+4*l+2]=u.red,this.data[a+4*l+3]=255}n!==0&&(this.pos+=4-n)}},pl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var r=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*s*4,l=r>>4,u=15&r,h=this.palette[l];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*s+1>=this.width)break;h=this.palette[u],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},pl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),r=n*this.width*4+4*i;if(s<this.palette.length){var a=this.palette[s];this.data[r]=a.red,this.data[r+1]=a.green,this.data[r+2]=a.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}t!==0&&(this.pos+=4-t)}},pl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(r&e)/e*255|0,l=(r>>5&e)/e*255|0,u=(r>>10&e)/e*255|0,h=r>>15?255:0,f=i*this.width*4+4*s;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=h}this.pos+=t}},pl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,u=(a>>5&n)/n*255|0,h=(a>>11)/e*255|0,f=s*this.width*4+4*r;this.data[f]=h,this.data[f+1]=u,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},pl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=r,this.data[a+1]=s,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},pl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=r,this.data[l+1]=s,this.data[l+2]=i,this.data[l+3]=a}},pl.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,i,s){var r=new pl(e,!1),a=r.width,l=r.height,u={data:r.getData(),width:a,height:l},h=new ex(100).encode(u,100);return t.processJPEG.call(this,h,n,i,s)}}(jt.API),A3.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,i,s){var r=new A3(e),a=r.width,l=r.height,u={data:r.getData(),width:a,height:l},h=new ex(100).encode(u,100);return t.processJPEG.call(this,h,n,i,s)}}(jt.API),jt.API.processRGBA=function(t,e,n){for(var i=t.data,s=i.length,r=new Uint8Array(s/4*3),a=new Uint8Array(s/4),l=0,u=0,h=0;h<s;h+=4){var f=i[h],p=i[h+1],g=i[h+2],y=i[h+3];r[l++]=f,r[l++]=p,r[l++]=g,a[u++]=y}var x=this.__addimage__.arrayBufferToBinaryString(r);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:x,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},jt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pp=jt.API,wv=pp.getCharWidthsArray=function(t,e){var n,i,s=(e=e||{}).font||this.internal.getFont(),r=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:s.metadata.Unicode.widths,u=l.fof?l.fof:1,h=e.kerning?e.kerning:s.metadata.Unicode.kerning,f=h.fof?h.fof:1,p=e.doKerning!==!1,g=0,y=t.length,x=0,A=l[0]||u,T=[];for(n=0;n<y;n++)i=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?T.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+a*(1e3/r)||0)/1e3):(g=p&&oi(h[i])==="object"&&!isNaN(parseInt(h[i][x],10))?h[i][x]/f:0,T.push((l[i]||A)/u+g)),x=i;return T},w3=pp.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return pp.processArabic&&(t=pp.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,n,s)/n:wv.apply(this,arguments).reduce(function(r,a){return r+a},0)},x3=function(t,e,n,i){for(var s=[],r=0,a=t.length,l=0;r!==a&&l+e[r]<n;)l+=e[r],r++;s.push(t.slice(0,r));var u=r;for(l=0;r!==a;)l+e[r]>i&&(s.push(t.slice(u,r)),l=0,u=r),l+=e[r],r++;return u!==r&&s.push(t.slice(u,r)),s},_3=function(t,e,n){n||(n={});var i,s,r,a,l,u,h,f=[],p=[f],g=n.textIndent||0,y=0,x=0,A=t.split(" "),T=wv.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?A[0].length+2:n.lineIndent||0){var E=Array(u).join(" "),k=[];A.map(function(B){(B=B.split(/\s*\n/)).length>1?k=k.concat(B.map(function(V,Y){return(Y&&V.length?`
`:"")+V})):k.push(B[0])}),A=k,u=w3.apply(this,[E,n])}for(r=0,a=A.length;r<a;r++){var O=0;if(i=A[r],u&&i[0]==`
`&&(i=i.substr(1),O=1),g+y+(x=(s=wv.apply(this,[i,n])).reduce(function(B,V){return B+V},0))>e||O){if(x>e){for(l=x3.apply(this,[i,s,e-(g+y),e]),f.push(l.shift()),f=[l.pop()];l.length;)p.push([l.shift()]);x=s.slice(i.length-(f[0]?f[0].length:0)).reduce(function(B,V){return B+V},0)}else f=[i];p.push(f),g=x+u,y=T}else f.push(i),g+=y+x,y=T}return h=u?function(B,V){return(V?E:"")+B.join(" ")}:function(B){return B.join(" ")},p.map(h)},pp.splitTextToSize=function(t,e,n){var i,s=(n=n||{}).fontSize||this.internal.getFontSize(),r=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;r.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,r.lineIndent=n.lineIndent;var l,u,h=[];for(l=0,u=i.length;l<u;l++)h=h.concat(_3.apply(this,[i[l],a,r]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},i={},s=0;s<e.length;s++)n[e[s]]="0123456789abcdef"[s],i["0123456789abcdef"[s]]=e[s];var r=function(p){return"0x"+parseInt(p,10).toString(16)},a=t.__fontmetrics__.compress=function(p){var g,y,x,A,T=["{"];for(var E in p){if(g=p[E],isNaN(parseInt(E,10))?y="'"+E+"'":(E=parseInt(E,10),y=(y=r(E).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof g=="number")g<0?(x=r(g).slice(3),A="-"):(x=r(g).slice(2),A=""),x=A+x.slice(0,-1)+i[x.slice(-1)];else{if(oi(g)!=="object")throw new Error("Don't know what to do with value type "+oi(g)+".");x=a(g)}T.push(y+x)}return T.push("}"),T.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,y,x,A,T={},E=1,k=T,O=[],B="",V="",Y=p.length-1,I=1;I<Y;I+=1)(A=p[I])=="'"?g?(x=g.join(""),g=void 0):g=[]:g?g.push(A):A=="{"?(O.push([k,x]),k={},x=void 0):A=="}"?((y=O.pop())[0][y[1]]=k,x=void 0,k=y[0]):A=="-"?E=-1:x===void 0?n.hasOwnProperty(A)?(B+=n[A],x=parseInt(B,16)*E,E=1,B=""):B+=A:n.hasOwnProperty(A)?(V+=n[A],k[x]=parseInt(V,16)*E,E=1,x=void 0,V=""):V+=A;return T},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var g=p.font,y=f.Unicode[g.postScriptName];y&&(g.metadata.Unicode={},g.metadata.Unicode.widths=y.widths,g.metadata.Unicode.kerning=y.kerning);var x=h.Unicode[g.postScriptName];x&&(g.metadata.Unicode.encoding=x,g.encoding=x.codePages[0])}])}(jt.API),function(t){var e=function(n){for(var i=n.length,s=new Uint8Array(i),r=0;r<i;r++)s[r]=n.charCodeAt(r);return s};t.API.events.push(["addFont",function(n){var i=void 0,s=n.font,r=n.instance;if(!s.isStandardFont){if(r===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=r.existsFileInVFS(s.postScriptName)===!1?r.loadFile(s.postScriptName):r.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Wg(l)),a.metadata=t.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,i)}}])}(jt),function(t){function e(){return(Bt.canvg?Promise.resolve(Bt.canvg):O1(()=>import("./index.es-anUL11rb.js"),[],import.meta.url)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}jt.API.addSvgAsImage=function(n,i,s,r,a,l,u,h){if(isNaN(i)||isNaN(s))throw yi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw yi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then(function(x){return x.fromString(p,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(g)}).then(function(){y.addImage(f.toDataURL("image/jpeg",1),i,s,r,a,u,h)})}}(),jt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(e,n);return this},jt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,s,r,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),u=[],h=0,f=0,p=0;function g(x,A){var T,E=!1;for(T=0;T<x.length;T+=1)x[T]===A&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=l.length;for(p=0;p<y;p+=1)n[l[p]].value=n[l[p]].defaultValue,n[l[p]].explicitSet=!1}if(oi(t)==="object"){for(s in t)if(r=t[s],g(l,s)&&r!==void 0){if(n[s].type==="boolean"&&typeof r=="boolean")n[s].value=r;else if(n[s].type==="name"&&g(n[s].valueSet,r))n[s].value=r;else if(n[s].type==="integer"&&Number.isInteger(r))n[s].value=r;else if(n[s].type==="array"){for(h=0;h<r.length;h+=1)if(i=!0,r[h].length===1&&typeof r[h][0]=="number")u.push(String(r[h]-1));else if(r[h].length>1){for(f=0;f<r[h].length;f+=1)typeof r[h][f]!="number"&&(i=!1);i===!0&&u.push([r[h][0]-1,r[h][1]-1].join(" "))}n[s].value="["+u.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,A=[];for(x in n)n[x].explicitSet===!0&&(n[x].type==="name"?A.push("/"+x+" /"+n[x].value):A.push("/"+x+" "+n[x].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),h=r.length+a.length+l.length+s.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(s+r+a+l+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(jt.API),function(t){var e=t.API,n=e.pdfEscape16=function(r,a){for(var l,u=a.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],p=0,g=r.length;p<g;++p){if(l=a.metadata.characterToGlyph(r.charCodeAt(p)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=r.charCodeAt(p),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(h[4-l.length],l)}return f.join("")},i=function(r){var a,l,u,h,f,p,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],p=0,g=(l=Object.keys(r).sort(function(y,x){return y-x})).length;p<g;p++)a=l[p],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),r[a]!==void 0&&r[a]!==null&&typeof r[a].toString=="function"&&(h=("0000"+r[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+h+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(r){(function(a){var l=a.font,u=a.out,h=a.newObject,f=a.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),y="",x=0;x<g.length;x++)y+=String.fromCharCode(g[x]);var A=h();f({data:y,addLength1:!0,objectId:A}),u("endobj");var T=h();f({data:i(l.metadata.toUnicode),addLength1:!0,objectId:T}),u("endobj");var E=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Ap(l.fontName)),u("/FontFile2 "+A+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var k=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+Ap(l.fontName)),u("/FontDescriptor "+E+" 0 R"),u("/W "+t.API.PDFObject.convert(p)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+T+" 0 R"),u("/BaseFont /"+Ap(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+k+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(r)}]),e.events.push(["putFont",function(r){(function(a){var l=a.font,u=a.out,h=a.newObject,f=a.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,g="",y=0;y<p.length;y++)g+=String.fromCharCode(p[y]);var x=h();f({data:g,addLength1:!0,objectId:x}),u("endobj");var A=h();f({data:i(l.metadata.toUnicode),addLength1:!0,objectId:A}),u("endobj");var T=h();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+x+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+Ap(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=h();for(var E=0;E<l.metadata.hmtx.widths.length;E++)l.metadata.hmtx.widths[E]=parseInt(l.metadata.hmtx.widths[E]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+Ap(l.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(r)}]);var s=function(r){var a,l=r.text||"",u=r.x,h=r.y,f=r.options||{},p=r.mutex||{},g=p.pdfEscape,y=p.activeFontKey,x=p.fonts,A=y,T="",E=0,k="",O=x[A].encoding;if(x[A].encoding!=="Identity-H")return{text:l,x:u,y:h,options:f,mutex:p};for(k=l,A=y,Array.isArray(l)&&(k=l[0]),E=0;E<k.length;E+=1)x[A].metadata.hasOwnProperty("cmap")&&(a=x[A].metadata.cmap.unicode.codeMap[k[E].charCodeAt(0)]),a||k[E].charCodeAt(0)<256&&x[A].metadata.hasOwnProperty("Unicode")?T+=k[E]:T+="";var B="";return parseInt(A.slice(1))<14||O==="WinAnsiEncoding"?B=g(T,A).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(B=n(T,x[A])),p.isHex=!0,{text:B,x:u,y:h,options:f,mutex:p}};e.events.push(["postProcessText",function(r){var a=r.text||"",l=[],u={text:a,x:r.x,y:r.y,options:r.options,mutex:r.mutex};if(Array.isArray(a)){var h=0;for(h=0;h<a.length;h+=1)Array.isArray(a[h])&&a[h].length===3?l.push([s(Object.assign({},u,{text:a[h][0]})).text,a[h][1],a[h][2]]):l.push(s(Object.assign({},u,{text:a[h]})).text);r.text=l}else r.text=s(Object.assign({},u,{text:a})).text}])}(jt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,i){return e.call(this),this.internal.vFS[n]=i,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(jt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var s,r,a,l,u,h,f,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,O=0;this.__bidiEngine__={};var B=function(M){var j=M.charCodeAt(),z=j>>8,te=A[z];return te!==void 0?p[256*te+(255&j)]:z===252||z===253?"AL":E.test(z)?"L":z===8?"R":"N"},V=function(M){for(var j,z=0;z<M.length;z++){if((j=B(M.charAt(z)))==="L")return!1;if(j==="R")return!0}return!1},Y=function(M,j,z,te){var pe,ae,ue,ce,ye=j[te];switch(ye){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(ye="AN");break;case"AL":k=!0,ye="R";break;case"WS":ye="N";break;case"CS":te<1||te+1>=j.length||(pe=z[te-1])!=="EN"&&pe!=="AN"||(ae=j[te+1])!=="EN"&&ae!=="AN"?ye="N":k&&(ae="AN"),ye=ae===pe?ae:"N";break;case"ES":ye=(pe=te>0?z[te-1]:"B")==="EN"&&te+1<j.length&&j[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&z[te-1]==="EN"){ye="EN";break}if(k){ye="N";break}for(ue=te+1,ce=j.length;ue<ce&&j[ue]==="ET";)ue++;ye=ue<ce&&j[ue]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(ce=j.length,ue=te+1;ue<ce&&j[ue]==="NSM";)ue++;if(ue<ce){var Z=M[te],be=Z>=1425&&Z<=2303||Z===64286;if(pe=j[ue],be&&(pe==="R"||pe==="AL")){ye="R";break}}}ye=te<1||(pe=j[te-1])==="B"?"N":z[te-1];break;case"B":k=!1,s=!0,ye=O;break;case"S":r=!0,ye="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":ye="N"}return ye},I=function(M,j,z){var te=M.split("");return z&&P(te,z,{hiLevel:O}),te.reverse(),j&&j.reverse(),te.join("")},P=function(M,j,z){var te,pe,ae,ue,ce,ye=-1,Z=M.length,be=0,W=[],X=O?y:g,re=[];for(k=!1,s=!1,r=!1,pe=0;pe<Z;pe++)re[pe]=B(M[pe]);for(ae=0;ae<Z;ae++){if(ce=be,W[ae]=Y(M,re,W,ae),te=240&(be=X[ce][x[W[ae]]]),be&=15,j[ae]=ue=X[be][5],te>0)if(te===16){for(pe=ye;pe<ae;pe++)j[pe]=1;ye=-1}else ye=-1;if(X[be][6])ye===-1&&(ye=ae);else if(ye>-1){for(pe=ye;pe<ae;pe++)j[pe]=ue;ye=-1}re[ae]==="B"&&(j[ae]=0),z.hiLevel|=ue}r&&function(ee,he,we){for(var ge=0;ge<we;ge++)if(ee[ge]==="S"){he[ge]=O;for(var Ee=ge-1;Ee>=0&&ee[Ee]==="WS";Ee--)he[Ee]=O}}(re,j,Z)},F=function(M,j,z,te,pe){if(!(pe.hiLevel<M)){if(M===1&&O===1&&!s)return j.reverse(),void(z&&z.reverse());for(var ae,ue,ce,ye,Z=j.length,be=0;be<Z;){if(te[be]>=M){for(ce=be+1;ce<Z&&te[ce]>=M;)ce++;for(ye=be,ue=ce-1;ye<ue;ye++,ue--)ae=j[ye],j[ye]=j[ue],j[ue]=ae,z&&(ae=z[ye],z[ye]=z[ue],z[ue]=ae);be=ce}be++}}},H=function(M,j,z){var te=M.split(""),pe={hiLevel:O};return z||(z=[]),P(te,z,pe),function(ae,ue,ce){if(ce.hiLevel!==0&&f)for(var ye,Z=0;Z<ae.length;Z++)ue[Z]===1&&(ye=T.indexOf(ae[Z]))>=0&&(ae[Z]=T[ye+1])}(te,z,pe),F(2,te,j,z,pe),F(1,te,j,z,pe),te.join("")};return this.__bidiEngine__.doBidiReorder=function(M,j,z){if(function(pe,ae){if(ae)for(var ue=0;ue<pe.length;ue++)ae[ue]=ue;l===void 0&&(l=V(pe)),h===void 0&&(h=V(pe))}(M,j),a||!u||h)if(a&&u&&l^h)O=l?1:0,M=I(M,j,z);else if(!a&&u&&h)O=l?1:0,M=H(M,j,z),M=I(M,j);else if(!a||l||u||h){if(a&&!u&&l^h)M=I(M,j),l?(O=0,M=H(M,j,z)):(O=1,M=H(M,j,z),M=I(M,j));else if(a&&l&&!u&&h)O=1,M=H(M,j,z),M=I(M,j);else if(!a&&!u&&l^h){var te=f;l?(O=1,M=H(M,j,z),O=0,f=!1,M=H(M,j,z),f=te):(O=0,M=H(M,j,z),M=I(M,j),O=1,f=!1,M=H(M,j,z),f=te,M=I(M,j))}}else O=0,M=H(M,j,z);else O=l?1:0,M=H(M,j,z);return M},this.__bidiEngine__.setOptions=function(M){M&&(a=M.isInputVisual,u=M.isOutputVisual,l=M.isInputRtl,h=M.isOutputRtl,f=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var s=i.text;i.x,i.y;var r=i.options||{};i.mutex,r.lang;var a=[];if(r.isInputVisual=typeof r.isInputVisual!="boolean"||r.isInputVisual,n.setOptions(r),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(a=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?a.push([n.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):a.push([n.doBidiReorder(s[l])]);i.text=a}else i.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(jt),jt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new md(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new oQ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new YX(this.contents),this.head=new KX(this),this.name=new eQ(this),this.cmap=new $I(this),this.toUnicode={},this.hhea=new XX(this),this.maxp=new tQ(this),this.hmtx=new nQ(this),this.post=new ZX(this),this.os2=new QX(this),this.loca=new aQ(this),this.glyf=new iQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,i,s,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,u,h;for(h=[],a=0,l=(u=this.bbox).length;a<l;a++)e=u[a],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),(32768&(n=s>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(r=this.familyClass)===1||r===2||r===3||r===4||r===5||r===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,i){var s,r,a,l;for(a=0,r=0,l=(e=""+e).length;0<=l?r<l:r>l;r=0<=l?++r:--r)s=e.charCodeAt(r),a+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t}();var Rl,md=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,i;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var n,i,s;for(s=[],n=0,i=e.length;0<=i?n<i:n>i;n=0<=i?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,i,s,r,a,l,u;return e=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),r=this.readByte(),a=this.readByte(),l=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^r)+65536*(255^a)+256*(255^l)+(255^u)+1):72057594037927940*e+281474976710656*n+1099511627776*i+4294967296*s+16777216*r+65536*a+256*l+u},t.prototype.writeLongLong=function(e){var n,i;return n=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,i;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push(this.readByte());return n},t.prototype.write=function(e){var n,i,s,r;for(r=[],i=0,s=e.length;i<s;i++)n=e[i],r.push(this.writeByte(n));return r},t}(),YX=function(){var t;function e(n){var i,s,r;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,r=this.tableCount;0<=r?s<r:s>r;s=0<=r?++s:--s)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(n){var i,s,r,a,l,u,h,f,p,g,y,x,A;for(A in y=Object.keys(n).length,u=Math.log(2),p=16*Math.floor(Math.log(y)/u),a=Math.floor(p/u),f=16*y-p,(s=new md).writeInt(this.scalarType),s.writeShort(y),s.writeShort(p),s.writeShort(a),s.writeShort(f),r=16*y,h=s.pos+r,l=null,x=[],n)for(g=n[A],s.writeString(A),s.writeInt(t(g)),s.writeInt(h),s.writeInt(g.length),x=x.concat(g),A==="head"&&(l=h),h+=g.length;h%4;)x.push(0),h++;return s.write(x),i=2981146554-t(s.data),s.pos=l+8,s.writeUInt32(i),s.data},t=function(n){var i,s,r,a;for(n=YI.call(n);n.length%4;)n.push(0);for(r=new md(n),s=0,i=0,a=n.length;i<a;i=i+=4)s+=r.readUInt32();return 4294967295&s},e}(),GX={}.hasOwnProperty,ju=function(t,e){for(var n in e)GX.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Rl=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var KX=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Rl),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var i;return(i=new md).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(n),i.writeShort(this.glyphDataFormat),i.data},e}(),T3=function(){function t(e,n){var i,s,r,a,l,u,h,f,p,g,y,x,A,T,E,k,O;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(y=e.readUInt16(),g=y/2,e.pos+=6,r=function(){var B,V;for(V=[],u=B=0;0<=g?B<g:B>g;u=0<=g?++B:--B)V.push(e.readUInt16());return V}(),e.pos+=2,A=function(){var B,V;for(V=[],u=B=0;0<=g?B<g:B>g;u=0<=g?++B:--B)V.push(e.readUInt16());return V}(),h=function(){var B,V;for(V=[],u=B=0;0<=g?B<g:B>g;u=0<=g?++B:--B)V.push(e.readUInt16());return V}(),f=function(){var B,V;for(V=[],u=B=0;0<=g?B<g:B>g;u=0<=g?++B:--B)V.push(e.readUInt16());return V}(),s=(this.length-e.pos+this.offset)/2,l=function(){var B,V;for(V=[],u=B=0;0<=s?B<s:B>s;u=0<=s?++B:--B)V.push(e.readUInt16());return V}(),u=E=0,O=r.length;E<O;u=++E)for(T=r[u],i=k=x=A[u];x<=T?k<=T:k>=T;i=x<=T?++k:--k)f[u]===0?a=i+h[u]:(a=l[f[u]/2+(i-x)-(g-u)]||0)!==0&&(a+=h[u]),this.codeMap[i]=65535&a}e.pos=p}return t.encode=function(e,n){var i,s,r,a,l,u,h,f,p,g,y,x,A,T,E,k,O,B,V,Y,I,P,F,H,M,j,z,te,pe,ae,ue,ce,ye,Z,be,W,X,re,ee,he,we,ge,Ee,Oe,Ve,tt;switch(te=new md,a=Object.keys(e).sort(function($e,it){return $e-it}),n){case"macroman":for(A=0,T=function(){var $e=[];for(x=0;x<256;++x)$e.push(0);return $e}(),k={0:0},r={},pe=0,ye=a.length;pe<ye;pe++)k[Ee=e[s=a[pe]]]==null&&(k[Ee]=++A),r[s]={old:e[s],new:k[e[s]]},T[s]=k[e[s]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(T),{charMap:r,subtable:te.data,maxGlyphID:A+1};case"unicode":for(j=[],p=[],O=0,k={},i={},E=h=null,ae=0,Z=a.length;ae<Z;ae++)k[V=e[s=a[ae]]]==null&&(k[V]=++O),i[s]={old:V,new:k[V]},l=k[V]-s,E!=null&&l===h||(E&&p.push(E),j.push(s),h=l),E=s;for(E&&p.push(E),p.push(65535),j.push(65535),H=2*(F=j.length),P=2*Math.pow(Math.log(F)/Math.LN2,2),g=Math.log(P/2)/Math.LN2,I=2*F-P,u=[],Y=[],y=[],x=ue=0,be=j.length;ue<be;x=++ue){if(M=j[x],f=p[x],M===65535){u.push(0),Y.push(0);break}if(M-(z=i[M].new)>=32768)for(u.push(0),Y.push(2*(y.length+F-x)),s=ce=M;M<=f?ce<=f:ce>=f;s=M<=f?++ce:--ce)y.push(i[s].new);else u.push(z-M),Y.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*F+2*y.length),te.writeUInt16(0),te.writeUInt16(H),te.writeUInt16(P),te.writeUInt16(g),te.writeUInt16(I),we=0,W=p.length;we<W;we++)s=p[we],te.writeUInt16(s);for(te.writeUInt16(0),ge=0,X=j.length;ge<X;ge++)s=j[ge],te.writeUInt16(s);for(Oe=0,re=u.length;Oe<re;Oe++)l=u[Oe],te.writeUInt16(l);for(Ve=0,ee=Y.length;Ve<ee;Ve++)B=Y[Ve],te.writeUInt16(B);for(tt=0,he=y.length;tt<he;tt++)A=y[tt],te.writeUInt16(A);return{charMap:i,subtable:te.data,maxGlyphID:O+1}}},t}(),$I=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Rl),e.prototype.tag="cmap",e.prototype.parse=function(n){var i,s,r;for(n.pos=this.offset,this.version=n.readUInt16(),r=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i=new T3(n,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(n,i){var s,r;return i==null&&(i="macroman"),s=T3.encode(n,i),(r=new md).writeUInt16(0),r.writeUInt16(1),s.table=r.data.concat(s.subtable),s},e}(),XX=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Rl),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),QX=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Rl),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var i,s;for(s=[],i=0;i<10;++i)s.push(n.readByte());return s}(),this.charRange=function(){var i,s;for(s=[],i=0;i<4;++i)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var i,s;for(s=[],i=0;i<2;i=++i)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),ZX=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Rl),e.prototype.tag="post",e.prototype.parse=function(n){var i,s,r;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(s=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],r=[];n.pos<this.offset+this.length;)i=n.readByte(),r.push(this.names.push(n.readString(i)));return r;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var l,u,h;for(h=[],a=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;a=0<=u?++l:--l)h.push(n.readUInt32());return h}).call(this)}},e}(),JX=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},eQ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Rl),e.prototype.tag="name",e.prototype.parse=function(n){var i,s,r,a,l,u,h,f,p,g,y;for(n.pos=this.offset,n.readShort(),i=n.readShort(),u=n.readShort(),s=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(h={},a=p=0,g=s.length;p<g;a=++p)r=s[a],n.pos=r.offset,f=n.readString(r.length),l=new JX(f,r),h[y=r.nameID]==null&&(h[y]=[]),h[r.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),tQ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Rl),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),nQ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Rl),e.prototype.tag="hmtx",e.prototype.parse=function(n){var i,s,r,a,l,u,h;for(n.pos=this.offset,this.metrics=[],i=0,u=this.file.hhea.numberOfMetrics;0<=u?i<u:i>u;i=0<=u?++i:--i)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],i=f=0;0<=r?f<r:f>r;i=0<=r?++f:--f)p.push(n.readInt16());return p}(),this.widths=(function(){var f,p,g,y;for(y=[],f=0,p=(g=this.metrics).length;f<p;f++)a=g[f],y.push(a.advance);return y}).call(this),s=this.widths[this.widths.length-1],h=[],i=l=0;0<=r?l<r:l>r;i=0<=r?++l:--l)h.push(this.widths.push(s));return h},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),YI=[].slice,iQ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Rl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var i,s,r,a,l,u,h,f,p,g;return n in this.cache?this.cache[n]:(a=this.file.loca,i=this.file.contents,s=a.indexOf(n),(r=a.lengthOf(n))===0?this.cache[n]=null:(i.pos=this.offset+s,l=(u=new md(i.read(r))).readShort(),f=u.readShort(),g=u.readShort(),h=u.readShort(),p=u.readShort(),this.cache[n]=l===-1?new rQ(u,f,g,h,p):new sQ(u,l,f,g,h,p),this.cache[n]))},e.prototype.encode=function(n,i,s){var r,a,l,u,h;for(l=[],a=[],u=0,h=i.length;u<h;u++)r=n[i[u]],a.push(l.length),r&&(l=l.concat(r.encode(s)));return a.push(l.length),{table:l,offsets:a}},e}(),sQ=function(){function t(e,n,i,s,r,a){this.raw=e,this.numberOfContours=n,this.xMin=i,this.yMin=s,this.xMax=r,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),rQ=function(){function t(e,n,i,s,r){var a,l;for(this.raw=e,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,i;for(n=new md(YI.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),aQ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Rl),e.prototype.tag="loca",e.prototype.parse=function(n){var i,s;return n.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var r,a;for(a=[],s=0,r=this.length;s<r;s+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var r,a;for(a=[],s=0,r=this.length;s<r;s+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,i){for(var s=new Uint32Array(this.offsets.length),r=0,a=0,l=0;l<s.length;++l)if(s[l]=r,a<i.length&&i[a]==l){++a,s[l]=r;var u=this.offsets[l],h=this.offsets[l+1]-u;h>0&&(r+=h)}for(var f=new Array(4*s.length),p=0;p<s.length;++p)f[4*p+3]=255&s[p],f[4*p+2]=(65280&s[p])>>8,f[4*p+1]=(16711680&s[p])>>16,f[4*p]=(4278190080&s[p])>>24;return f},e}(),oQ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,s,r;for(n in s=this.font.cmap.tables[0].codeMap,e={},r=this.subset)i=r[n],e[n]=s[i];return e},t.prototype.glyphsFor=function(e){var n,i,s,r,a,l,u;for(s={},a=0,l=e.length;a<l;a++)s[r=e[a]]=this.font.glyf.glyphFor(r);for(r in n=[],s)(i=s[r])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(r in u=this.glyphsFor(n))i=u[r],s[r]=i;return s},t.prototype.encode=function(e,n){var i,s,r,a,l,u,h,f,p,g,y,x,A,T,E;for(s in i=$I.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),y={0:0},E=i.charMap)y[(u=E[s]).old]=u.new;for(x in g=i.maxGlyphID,a)x in y||(y[x]=g++);return f=function(k){var O,B;for(O in B={},k)B[k[O]]=O;return B}(y),p=Object.keys(f).sort(function(k,O){return k-O}),A=function(){var k,O,B;for(B=[],k=0,O=p.length;k<O;k++)l=p[k],B.push(f[l]);return B}(),r=this.font.glyf.encode(a,A,y),h=this.font.loca.encode(r.offsets,A),T={cmap:this.font.cmap.raw(),glyf:r.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},t}();jt.API.PDFObject=function(){var t;function e(){}return t=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},e.convert=function(n){var i,s,r,a;if(Array.isArray(n))return"["+function(){var l,u,h;for(h=[],l=0,u=n.length;l<u;l++)i=n[l],h.push(e.convert(i));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in r=["<<"],n)a=n[s],r.push("/"+s+" "+e.convert(a));return r.push(">>"),r.join(`
`)}return""+n},e}();function GI(t,e,n,i,s){i=i||{};var r=1.15,a=s.internal.scaleFactor,l=s.internal.getFontSize()/a,u=s.getLineHeightFactor?s.getLineHeightFactor():r,h=l*u,f=/\r\n|\r|\n/g,p="",g=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(p=typeof t=="string"?t.split(f):t,g=p.length||1),n+=l*(2-r),i.valign==="middle"?n-=g/2*h:i.valign==="bottom"&&(n-=g*h),i.halign==="center"||i.halign==="right"){var y=l;if(i.halign==="center"&&(y*=.5),p&&g>=1){for(var x=0;x<p.length;x++)s.text(p[x],e-s.getStringUnitWidth(p[x])*y,n),n+=h;return s}e-=s.getStringUnitWidth(t)*y}return i.halign==="justify"?s.text(t,e,n,{maxWidth:i.maxWidth||100,align:"justify"}):s.text(t,e,n),s}var E3={},$p=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:E3=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var i,s,r;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),l=a.fontStyle,u=a.fontName;if(e.font&&(u=e.font),e.fontStyle){l=e.fontStyle;var h=this.getFontList()[u];h&&h.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),l=h[0])}if(this.jsPDFDocument.setFont(u,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var f=t.unifyColor(e.fillColor);f&&(i=this.jsPDFDocument).setFillColor.apply(i,f),f=t.unifyColor(e.textColor),f&&(s=this.jsPDFDocument).setTextColor.apply(s,f),f=t.unifyColor(e.lineColor),f&&(r=this.jsPDFDocument).setDrawColor.apply(r,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,i){return this.jsPDFDocument.splitTextToSize(e,n,i)},t.prototype.rect=function(e,n,i,s,r){return this.jsPDFDocument.rect(e,n,i,s,r)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return E3||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),P_=function(t,e){return P_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},P_(t,e)};function KI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");P_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var XI=function(t){KI(e,t);function e(n){var i=t.call(this)||this;return i._element=n,i}return e}(Array);function lQ(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function uQ(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function V1(t,e,n){n.applyStyles(e,!0);var i=Array.isArray(t)?t:[t],s=i.map(function(r){return n.getTextWidth(r)}).reduce(function(r,a){return Math.max(r,a)},0);return s}function QI(t,e,n,i){var s=e.settings.tableLineWidth,r=e.settings.tableLineColor;t.applyStyles({lineWidth:s,lineColor:r});var a=ZI(s,!1);a&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),i.y-n.y,a)}function ZI(t,e){var n=t>0,i=e||e===0;return n&&i?"DF":n?"S":i?"F":null}function i2(t,e){var n,i,s,r;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(i=t.top)!==null&&i!==void 0?i:e,right:(s=t.right)!==null&&s!==void 0?s:e,bottom:(r=t.bottom)!==null&&r!==void 0?r:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function JI(t,e){var n=i2(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function cQ(t,e,n,i,s){var r={},a=1.3333333333333333,l=tx(e,function(O){return s.getComputedStyle(O).backgroundColor});l!=null&&(r.fillColor=l);var u=tx(e,function(O){return s.getComputedStyle(O).color});u!=null&&(r.textColor=u);var h=dQ(i,n);h&&(r.cellPadding=h);var f="borderTopColor",p=a*n,g=i.borderTopWidth;if(i.borderBottomWidth===g&&i.borderRightWidth===g&&i.borderLeftWidth===g){var y=(parseFloat(g)||0)/p;y&&(r.lineWidth=y)}else r.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/p,right:(parseFloat(i.borderRightWidth)||0)/p,bottom:(parseFloat(i.borderBottomWidth)||0)/p,left:(parseFloat(i.borderLeftWidth)||0)/p},r.lineWidth.top||(r.lineWidth.right?f="borderRightColor":r.lineWidth.bottom?f="borderBottomColor":r.lineWidth.left&&(f="borderLeftColor"));var x=tx(e,function(O){return s.getComputedStyle(O)[f]});x!=null&&(r.lineColor=x);var A=["left","right","center","justify"];A.indexOf(i.textAlign)!==-1&&(r.halign=i.textAlign),A=["middle","bottom","top"],A.indexOf(i.verticalAlign)!==-1&&(r.valign=i.verticalAlign);var T=parseInt(i.fontSize||"");isNaN(T)||(r.fontSize=T/a);var E=hQ(i);E&&(r.fontStyle=E);var k=(i.fontFamily||"").toLowerCase();return t.indexOf(k)!==-1&&(r.font=k),r}function hQ(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function tx(t,e){var n=eD(t,e);if(!n)return null;var i=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var s=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],r=parseInt(i[4]);return r===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function eD(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:eD(t.parentElement,e):n}function dQ(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],i=96/(72/e),s=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,r=n.map(function(l){return parseInt(l||"0")/i}),a=i2(r,0);return s>a.top&&(a.top=s),s>a.bottom&&(a.bottom=s),a}function tD(t,e,n,i,s){var r,a;i===void 0&&(i=!1),s===void 0&&(s=!1);var l;typeof e=="string"?l=n.document.querySelector(e):l=e;var u=Object.keys(t.getFontList()),h=t.scaleFactor(),f=[],p=[],g=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:f,body:p,foot:g};for(var y=0;y<l.rows.length;y++){var x=l.rows[y],A=(a=(r=x?.parentElement)===null||r===void 0?void 0:r.tagName)===null||a===void 0?void 0:a.toLowerCase(),T=fQ(u,h,n,x,i,s);T&&(A==="thead"?f.push(T):A==="tfoot"?g.push(T):p.push(T))}return{head:f,body:p,foot:g}}function fQ(t,e,n,i,s,r){for(var a=new XI(i),l=0;l<i.cells.length;l++){var u=i.cells[l],h=n.getComputedStyle(u);if(s||h.display!=="none"){var f=void 0;r&&(f=cQ(t,u,e,h,n)),a.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:f,_element:u,content:pQ(u)})}}var p=n.getComputedStyle(i);if(a.length>0&&(s||p.display!=="none"))return a}function pQ(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function mQ(t,e,n){for(var i=0,s=[t,e,n];i<s.length;i++){var r=s[i];r&&typeof r!="object"&&console.error("The options parameter should be of type object, is: "+typeof r),r.startY&&typeof r.startY!="number"&&(console.error("Invalid value for startY option",r.startY),delete r.startY)}}function Cc(t,e,n,i,s){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),a=1;a<arguments.length;a++){var l=arguments[a];if(l!=null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=l[u])}return r}function nD(t,e){var n=new $p(t),i=n.getDocumentOptions(),s=n.getGlobalOptions();mQ(s,i,e);var r=Cc({},s,i,e),a;typeof window<"u"&&(a=window);var l=gQ(s,i,e),u=yQ(s,i,e),h=vQ(n,r),f=wQ(n,r,a);return{id:e.tableId,content:f,hooks:u,styles:l,settings:h}}function gQ(t,e,n){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(u){if(u==="columnStyles"){var h=t[u],f=e[u],p=n[u];i.columnStyles=Cc({},h,f,p)}else{var g=[t,e,n],y=g.map(function(x){return x[u]||{}});i[u]=Cc({},y[0],y[1],y[2])}},r=0,a=Object.keys(i);r<a.length;r++){var l=a[r];s(l)}return i}function yQ(t,e,n){for(var i=[t,e,n],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},r=0,a=i;r<a.length;r++){var l=a[r];l.didParseCell&&s.didParseCell.push(l.didParseCell),l.willDrawCell&&s.willDrawCell.push(l.willDrawCell),l.didDrawCell&&s.didDrawCell.push(l.didDrawCell),l.willDrawPage&&s.willDrawPage.push(l.willDrawPage),l.didDrawPage&&s.didDrawPage.push(l.didDrawPage)}return s}function vQ(t,e){var n,i,s,r,a,l,u,h,f,p,g,y,x=i2(e.margin,40/t.scaleFactor()),A=(n=bQ(t,e.startY))!==null&&n!==void 0?n:x.top,T;e.showFoot===!0?T="everyPage":e.showFoot===!1?T="never":T=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var E;e.showHead===!0?E="everyPage":e.showHead===!1?E="never":E=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var k=(r=e.useCss)!==null&&r!==void 0?r:!1,O=e.theme||(k?"plain":"striped"),B=!!e.horizontalPageBreak,V=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:k,theme:O,startY:A,margin:x,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:E,showFoot:T,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:B,horizontalPageBreakRepeat:V,horizontalPageBreakBehaviour:(y=e.horizontalPageBreakBehaviour)!==null&&y!==void 0?y:"afterAllRows"}}function bQ(t,e){var n=t.getLastAutoTable(),i=t.scaleFactor(),s=t.pageNumber(),r=!1;if(n&&n.startPageNumber){var a=n.startPageNumber+n.pageNumber-1;r=a===s}return typeof e=="number"?e:(e==null||e===!1)&&r&&n?.finalY!=null?n.finalY+20/i:null}function wQ(t,e,n){var i=e.head||[],s=e.body||[],r=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(n){var l=tD(t,e.html,n,a,e.useCss)||{};i=l.head||i,s=l.body||i,r=l.foot||i}else console.error("Cannot parse html in non browser environment")}var u=e.columns||xQ(i,s,r);return{columns:u,head:i,body:s,foot:r}}function xQ(t,e,n){var i=t[0]||e[0]||n[0]||[],s=[];return Object.keys(i).filter(function(r){return r!=="_element"}).forEach(function(r){var a=1,l;Array.isArray(i)?l=i[parseInt(r)]:l=i[r],typeof l=="object"&&!Array.isArray(l)&&(a=l?.colSpan||1);for(var u=0;u<a;u++){var h=void 0;Array.isArray(i)?h=s.length:h=r+(u>0?"_".concat(u):"");var f={dataKey:h};s.push(f)}}),s}var R_=function(){function t(e,n,i){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=i,this.doc=e.getDocument()}return t}(),_Q=function(t){KI(e,t);function e(n,i,s,r,a,l){var u=t.call(this,n,i,l)||this;return u.cell=s,u.row=r,u.column=a,u.section=r.section,u}return e}(R_),SQ=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,i){return n+i.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,i){return n+i.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,i,s,r,a){for(var l=0,u=n;l<u.length;l++){var h=u[l],f=new _Q(e,this,i,s,r,a),p=h(f)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var i=0,s=this.hooks.didDrawPage;i<s.length;i++){var r=s[i];r(new R_(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var i=0,s=this.hooks.willDrawPage;i<s.length;i++){var r=s[i];r(new R_(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(s,r){return s+r.wrappedWidth},0);return n}else{var i=this.settings.margin;return e-i.left-i.right}},t}(),iD=function(){function t(e,n,i,s,r){r===void 0&&(r=!1),this.height=0,this.raw=e,e instanceof XI&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=i,this.cells=s,this.spansMultiplePages=r}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(i,s){var r;return Math.max(i,((r=n.cells[s.index])===null||r===void 0?void 0:r.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(i){var s=n.cells[i.index];return s?s.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var i=this;return e.reduce(function(s,r){var a=i.cells[r.index];if(!a)return 0;var l=n.getLineHeight(a.styles.fontSize),u=a.padding("vertical"),h=u+l;return h>s?h:s},0)},t}(),sD=function(){function t(e,n,i){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=i,this.raw=e;var r=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,r=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=r!=null?""+r:"",l=/\r\n|\r|\n/g;this.text=a.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");i=this.x+s/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var i=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*n,r=i*s+this.padding("vertical");return Math.max(r,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=i2(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),AQ=function(){function t(e,n,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=i}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,i=0,s=e.allRows();i<s.length;i++){var r=s[i],a=r.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(n=Math.max(n,a.styles.cellWidth))}return n},t}();function TQ(t,e){EQ(t,e);var n=[],i=0;e.columns.forEach(function(r){var a=r.getMaxCustomCellWidth(e);a?r.width=a:(r.width=r.wrappedWidth,n.push(r)),i+=r.width});var s=e.getWidth(t.pageSize().width)-i;s&&(s=M_(n,s,function(r){return Math.max(r.minReadableWidth,r.minWidth)})),s&&(s=M_(n,s,function(r){return r.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/t.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),NQ(e),LQ(e,t),CQ(e)}function EQ(t,e){var n=t.scaleFactor(),i=e.settings.horizontalPageBreak,s=JI(t,e);e.allRows().forEach(function(r){for(var a=0,l=e.columns;a<l.length;a++){var u=l[a],h=r.cells[u.index];if(h){var f=e.hooks.didParseCell;e.callCellHooks(t,f,h,r,u,null);var p=h.padding("horizontal");h.contentWidth=V1(h.text,h.styles,t)+p;var g=V1(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,t);if(h.minReadableWidth=g+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||i===!0)h.contentWidth>s?(h.minWidth=s,h.wrappedWidth=s):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var y=10/n;h.minWidth=h.styles.minCellWidth||y,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(r){for(var a=0,l=e.columns;a<l.length;a++){var u=l[a],h=r.cells[u.index];if(h&&h.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,h.wrappedWidth),u.minWidth=Math.max(u.minWidth,h.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,h.minReadableWidth);else{var f=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},p=f.cellWidth||f.minCellWidth;p&&typeof p=="number"&&(u.minWidth=p,u.wrappedWidth=p)}h&&(h.colSpan>1&&!u.minWidth&&(u.minWidth=h.minWidth),h.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=h.minWidth))}})}function M_(t,e,n){for(var i=e,s=t.reduce(function(y,x){return y+x.wrappedWidth},0),r=0;r<t.length;r++){var a=t[r],l=a.wrappedWidth/s,u=i*l,h=a.width+u,f=n(a),p=h<f?f:h;e-=p-a.width,a.width=p}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(y){return e<0?y.width>n(y):!0});g.length&&(e=M_(g,e,n))}return e}function CQ(t){for(var e={},n=1,i=t.allRows(),s=0;s<i.length;s++)for(var r=i[s],a=0,l=t.columns;a<l.length;a++){var u=l[a],h=e[u.index];if(n>1)n--,delete r.cells[u.index];else if(h)h.cell.height+=r.height,n=h.cell.colSpan,delete r.cells[u.index],h.left--,h.left<=1&&delete e[u.index];else{var f=r.cells[u.index];if(!f)continue;if(f.height=r.height,f.rowSpan>1){var p=i.length-s,g=f.rowSpan>p?p:f.rowSpan;e[u.index]={cell:f,left:g,row:r}}}}}function NQ(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var i=e[n],s=null,r=0,a=0,l=0;l<t.columns.length;l++){var u=t.columns[l];if(a-=1,a>1&&t.columns[l+1])r+=u.width,delete i.cells[u.index];else if(s){var h=s;delete i.cells[u.index],s=null,h.width=u.width+r}else{var h=i.cells[u.index];if(!h)continue;if(a=h.colSpan,r=0,h.colSpan>1){s=h,r+=u.width;continue}h.width=u.width+r}}}function LQ(t,e){for(var n={count:0,height:0},i=0,s=t.allRows();i<s.length;i++){for(var r=s[i],a=0,l=t.columns;a<l.length;a++){var u=l[a],h=r.cells[u.index];if(h){e.applyStyles(h.styles,!0);var f=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,f+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=C3(h.text,f,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=C3(h.text,f,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var p=h.styles.overflow(h.text,f);typeof p=="string"?h.text=[p]:h.text=p}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=h.contentHeight/h.rowSpan;h.rowSpan>1&&n.count*n.height<g*h.rowSpan?n={height:g,count:h.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>r.height&&(r.height=g)}}n.count--}}function C3(t,e,n,i,s){return t.map(function(r){return kQ(r,e,n,i,s)})}function kQ(t,e,n,i,s){var r=1e4*i.scaleFactor();if(e=Math.ceil(e*r)/r,e>=V1(t,n,i))return t;for(;e<V1(t+s,n,i)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+s}function rD(t,e){var n=new $p(t),i=PQ(e,n.scaleFactor()),s=new SQ(e,i);return TQ(n,s),n.applyStyles(n.userStyles),s}function PQ(t,e){var n=t.content,i=MQ(n.columns);if(n.head.length===0){var s=N3(i,"head");s&&n.head.push(s)}if(n.foot.length===0){var s=N3(i,"foot");s&&n.foot.push(s)}var r=t.settings.theme,a=t.styles;return{columns:i,head:nx("head",n.head,i,a,r,e),body:nx("body",n.body,i,a,r,e),foot:nx("foot",n.foot,i,a,r,e)}}function nx(t,e,n,i,s,r){var a={},l=e.map(function(u,h){for(var f=0,p={},g=0,y=0,x=0,A=n;x<A.length;x++){var T=A[x];if(a[T.index]==null||a[T.index].left===0)if(y===0){var E=void 0;Array.isArray(u)?E=u[T.index-g-f]:E=u[T.dataKey];var k={};typeof E=="object"&&!Array.isArray(E)&&(k=E?.styles||{});var O=IQ(t,T,h,s,i,r,k),B=new sD(E,O,t);p[T.dataKey]=B,p[T.index]=B,y=B.colSpan-1,a[T.index]={left:B.rowSpan-1,times:y}}else y--,g++;else a[T.index].left--,y=a[T.index].times,f++}return new iD(u,h,t,p)});return l}function N3(t,e){var n={};return t.forEach(function(i){if(i.raw!=null){var s=RQ(e,i.raw);s!=null&&(n[i.dataKey]=s)}}),Object.keys(n).length>0?n:null}function RQ(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function MQ(t){return t.map(function(e,n){var i,s;return typeof e=="object"?s=(i=e.dataKey)!==null&&i!==void 0?i:n:s=n,new AQ(s,e,n)})}function IQ(t,e,n,i,s,r,a){var l=uQ(i),u;t==="head"?u=s.headStyles:t==="body"?u=s.bodyStyles:t==="foot"&&(u=s.footStyles);var h=Cc({},l.table,l[t],s.styles,u),f=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},p=t==="body"?f:{},g=t==="body"&&n%2===0?Cc({},l.alternateRow,s.alternateRowStyles):{},y=lQ(r),x=Cc({},y,h,g,p);return Cc(x,a)}function DQ(t,e,n){var i;n===void 0&&(n={});var s=JI(t,e),r=new Map,a=[],l=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(g){var y=e.columns.find(function(x){return x.dataKey===g||x.index===g});y&&!r.has(y.index)&&(r.set(y.index,!0),a.push(y.index),l.push(e.columns[y.index]),s-=y.wrappedWidth)});for(var h=!0,f=(i=n?.start)!==null&&i!==void 0?i:0;f<e.columns.length;){if(r.has(f)){f++;continue}var p=e.columns[f].wrappedWidth;if(h||s>=p)h=!1,a.push(f),l.push(e.columns[f]),s-=p;else break;f++}return{colIndexes:a,columns:l,lastIndex:f-1}}function OQ(t,e){for(var n=[],i=0;i<e.columns.length;i++){var s=DQ(t,e,{start:i});s.columns.length&&(n.push(s),i=s.lastIndex)}return n}function aD(t,e){var n=e.settings,i=n.startY,s=n.margin,r={x:s.left,y:i},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=i+s.bottom+a;if(n.pageBreak==="avoid"){var u=e.body,h=u.reduce(function(g,y){return g+y.height},0);l+=h}var f=new $p(t);(n.pageBreak==="always"||n.startY!=null&&l>f.pageSize().height)&&(lD(f),r.y=s.top),e.callWillDrawPageHooks(f,r);var p=Cc({},r);e.startPageNumber=f.pageNumber(),n.horizontalPageBreak?jQ(f,e,p,r):(f.applyStyles(f.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(g){return qc(f,e,g,r,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(g,y){var x=y===e.body.length-1;U1(f,e,g,x,p,r,e.columns)}),f.applyStyles(f.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(g){return qc(f,e,g,r,e.columns)})),QI(f,e,p,r),e.callEndPageHooks(f,r),e.finalY=r.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function jQ(t,e,n,i){var s=OQ(t,e),r=e.settings;if(r.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(h,f){t.applyStyles(t.userStyles),f>0?$g(t,e,n,i,h.columns,!0):L3(t,e,i,h.columns),FQ(t,e,n,i,h.columns),ix(t,e,i,h.columns)});else for(var a=-1,l=s[0],u=function(){var h=a;if(l){t.applyStyles(t.userStyles);var f=l.columns;a>=0?$g(t,e,n,i,f,!0):L3(t,e,i,f),h=k3(t,e,a+1,i,f),ix(t,e,i,f)}var p=h-a;s.slice(1).forEach(function(g){t.applyStyles(t.userStyles),$g(t,e,n,i,g.columns,!0),k3(t,e,a+1,i,g.columns,p),ix(t,e,i,g.columns)}),a=h};a<e.body.length-1;)u()}function L3(t,e,n,i){var s=e.settings;t.applyStyles(t.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(r){return qc(t,e,r,n,i)})}function FQ(t,e,n,i,s){t.applyStyles(t.userStyles),e.body.forEach(function(r,a){var l=a===e.body.length-1;U1(t,e,r,l,n,i,s)})}function k3(t,e,n,i,s,r){t.applyStyles(t.userStyles),r=r??e.body.length;var a=Math.min(n+r,e.body.length),l=-1;return e.body.slice(n,a).forEach(function(u,h){var f=n+h===e.body.length-1,p=oD(t,e,f,i);u.canEntireRowFit(p,s)&&(qc(t,e,u,i,s),l=n+h)}),l}function ix(t,e,n,i){var s=e.settings;t.applyStyles(t.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(r){return qc(t,e,r,n,i)})}function VQ(t,e,n){var i=n.getLineHeight(t.styles.fontSize),s=t.padding("vertical"),r=Math.floor((e-s)/i);return Math.max(0,r)}function UQ(t,e,n,i){var s={};t.spansMultiplePages=!0,t.height=0;for(var r=0,a=0,l=n.columns;a<l.length;a++){var u=l[a],h=t.cells[u.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var f=new sD(h.raw,h.styles,h.section);f=Cc(f,h),f.text=[];var p=VQ(h,e,i);h.text.length>p&&(f.text=h.text.splice(p,h.text.length));var g=i.scaleFactor(),y=i.getLineHeightFactor();h.contentHeight=h.getContentHeight(g,y),h.contentHeight>=e&&(h.contentHeight=e,f.styles.minCellHeight-=e),h.contentHeight>t.height&&(t.height=h.contentHeight),f.contentHeight=f.getContentHeight(g,y),f.contentHeight>r&&(r=f.contentHeight),s[u.index]=f}}var x=new iD(t.raw,-1,t.section,s,!0);x.height=r;for(var A=0,T=n.columns;A<T.length;A++){var u=T[A],f=x.cells[u.index];f&&(f.height=x.height);var h=t.cells[u.index];h&&(h.height=t.height)}return x}function BQ(t,e,n,i){var s=t.pageSize().height,r=i.settings.margin,a=r.top+r.bottom,l=s-a;e.section==="body"&&(l-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var u=e.getMinimumRowHeight(i.columns,t),h=u<n;if(u>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var f=e.hasRowSpan(i.columns),p=e.getMaxCellHeight(i.columns)>l;return p?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||i.settings.rowPageBreak==="avoid")}function U1(t,e,n,i,s,r,a){var l=oD(t,e,i,r);if(n.canEntireRowFit(l,a))qc(t,e,n,r,a);else if(BQ(t,n,l,e)){var u=UQ(n,l,e,t);qc(t,e,n,r,a),$g(t,e,s,r,a),U1(t,e,u,i,s,r,a)}else $g(t,e,s,r,a),U1(t,e,n,i,s,r,a)}function qc(t,e,n,i,s){i.x=e.settings.margin.left;for(var r=0,a=s;r<a.length;r++){var l=a[r],u=n.cells[l.index];if(!u){i.x+=l.width;continue}t.applyStyles(u.styles),u.x=i.x,u.y=i.y;var h=e.callCellHooks(t,e.hooks.willDrawCell,u,n,l,i);if(h===!1){i.x+=l.width;continue}zQ(t,u,i);var f=u.getTextPos();GI(u.text,f.x,f.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,u,n,l,i),i.x+=l.width}i.y+=n.height}function zQ(t,e,n){var i=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof i.lineWidth=="number"){var s=ZI(i.lineWidth,i.fillColor);s&&t.rect(e.x,n.y,e.width,e.height,s)}else typeof i.lineWidth=="object"&&(i.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),qQ(t,e,n,i.lineWidth))}function qQ(t,e,n,i){var s,r,a,l;i.top&&(s=n.x,r=n.y,a=n.x+e.width,l=n.y,i.right&&(a+=.5*i.right),i.left&&(s-=.5*i.left),u(i.top,s,r,a,l)),i.bottom&&(s=n.x,r=n.y+e.height,a=n.x+e.width,l=n.y+e.height,i.right&&(a+=.5*i.right),i.left&&(s-=.5*i.left),u(i.bottom,s,r,a,l)),i.left&&(s=n.x,r=n.y,a=n.x,l=n.y+e.height,i.top&&(r-=.5*i.top),i.bottom&&(l+=.5*i.bottom),u(i.left,s,r,a,l)),i.right&&(s=n.x+e.width,r=n.y,a=n.x+e.width,l=n.y+e.height,i.top&&(r-=.5*i.top),i.bottom&&(l+=.5*i.bottom),u(i.right,s,r,a,l));function u(h,f,p,g,y){t.getDocument().setLineWidth(h),t.getDocument().line(f,p,g,y,"S")}}function oD(t,e,n,i){var s=e.settings.margin.bottom,r=e.settings.showFoot;return(r==="everyPage"||r==="lastPage"&&n)&&(s+=e.getFootHeight(e.columns)),t.pageSize().height-i.y-s}function $g(t,e,n,i,s,r){s===void 0&&(s=[]),r===void 0&&(r=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!r&&e.foot.forEach(function(l){return qc(t,e,l,i,s)}),e.callEndPageHooks(t,i);var a=e.settings.margin;QI(t,e,n,i),lD(t),e.pageNumber++,i.x=a.left,i.y=a.top,n.y=a.top,e.callWillDrawPageHooks(t,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return qc(t,e,l,i,s)}),t.applyStyles(t.userStyles))}function lD(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function HQ(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0],s=nD(this,i),r=rD(this,s);return aD(this,r),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,i,s){GI(e,n,i,s,this)},t.API.autoTableSetDefaults=function(e){return $p.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){$p.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var i;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new $p(this),r=tD(s,e,window,n,!1),a=r.head,l=r.body,u=((i=a[0])===null||i===void 0?void 0:i.map(function(h){return h.content}))||[];return{columns:u,rows:l,data:l}}}var sx;function P3(t,e){var n=nD(t,e),i=rD(t,n);aD(t,i)}try{if(typeof window<"u"&&window){var R3=window,M3=R3.jsPDF||((sx=R3.jspdf)===null||sx===void 0?void 0:sx.jsPDF);M3&&HQ(M3)}}catch(t){console.error("Could not apply autoTable plugin",t)}const WQ=()=>{const[t,e]=C.useState([]),[n,i]=C.useState([]),[s,r]=C.useState(""),[a,l]=C.useState("All"),[u,h]=C.useState("All Time"),[f,p]=C.useState(null),[g,y]=C.useState(null),[x,A]=C.useState(""),[T,E]=C.useState("");C.useEffect(()=>{const I=BS(Jn,P=>{P&&(p(P),k(P.uid))});return()=>I()},[]);const k=async I=>{const P=wn(fn,`businesses/${I}/sentOrders`),H=(await ta(P)).docs.map(M=>({id:M.id,...M.data()}));e(H),i(H)};C.useEffect(()=>{let I=t;if(a!=="All"&&(I=I.filter(P=>P.status===a)),s.trim()){const P=s.toLowerCase();I=I.filter(F=>(F.distributorId?.toLowerCase()||"").includes(P)||(F.id?.toLowerCase()||"").includes(P)||(F.distributorName?.toLowerCase()||"").includes(P)||(F.distributorCity?.toLowerCase()||"").includes(P)||(F.distributorState?.toLowerCase()||"").includes(P)||(F.distributorEmail?.toLowerCase()||"").includes(P))}if(u==="Today"){const P=new Date;I=I.filter(F=>{const H=F.timestamp?.toDate?.();return H&&H.getDate()===P.getDate()&&H.getMonth()===P.getMonth()&&H.getFullYear()===P.getFullYear()})}else if(u==="This Week"){const P=new Date,F=new Date(P);F.setDate(P.getDate()-P.getDay()),I=I.filter(H=>{const M=H.timestamp?.toDate?.();return M&&M>=F&&M<=P})}else if(u==="Custom Range"&&x&&T){const P=new Date(x),F=new Date(T);I=I.filter(H=>{const M=H.timestamp?.toDate?.();return M&&M>=P&&M<=F})}I=I.sort((P,F)=>{const H=P.timestamp?.toDate?.();return F.timestamp?.toDate?.()-H}),i(I)},[a,s,t,u,x,T]);const O=I=>{y(g===I?null:I)},B=()=>{const I=["Order ID","Distributor","Status","Amount","Date"],P=n.map(z=>[z.id,z.distributorName,z.status,z.totalAmount,z.timestamp?.toDate?.().toLocaleString()||"-"]),F=[I,...P].map(z=>z.join(",")).join(`
`),H=new Blob([F],{type:"text/csv"}),M=URL.createObjectURL(H),j=document.createElement("a");j.href=M,j.download="order-history.csv",j.click()},V=()=>{const I=new jt,P=[["Order ID","Distributor","Status","Amount","Date"]],F=n.map(H=>[H.id,H.distributorName,H.status,`₹${H.totalAmount}`,H.timestamp?.toDate?.().toLocaleString()||"-"]);I.text("Order History",14,16),P3(I,{startY:20,head:P,body:F,styles:{fontSize:8}}),I.save("order-history.pdf")},Y=(I,P)=>{const F=["Product","Brand","SKU","Qty","Unit","Price"],H=(I.items||[]).map(M=>[M.productName||M.name||"—",M.brand||"—",M.sku,M.quantity,M.unit,`₹${M.price!==void 0&&M.price!==null?M.price:M.unitPrice||0}`]);if(P==="pdf"){const M=new jt,j=(te,pe)=>`${te}: ${pe||"—"}`,z=I.timestamp?.toDate?.().toLocaleString()||"-";M.setFontSize(12),M.text(`Order ID: ${I.id}`,14,14),M.text(j("Date",z),14,22),M.text(j("Status",I.status),14,30),M.text(j("Payment Mode",I.paymentMode),14,38),M.text(j("Order Note",I.note),14,46),M.text(j("Distributor",I.distributorName),14,58),M.text(j("Distributor Location",`${I.distributorCity||"—"}, ${I.distributorState||"—"}`),14,66),M.text(j("Distributor Phone",I.distributorPhone),14,74),M.text(j("Distributor Email",I.distributorEmail),14,82),M.text(j("Retailer ID",f?.uid),14,94),P3(M,{startY:102,head:[["Product","Brand","SKU","Qty","Unit","Price"]],body:(I.items||[]).map(te=>[te.productName||te.name||"—",te.brand||"—",te.sku,te.quantity,te.unit,`₹${te.price!==void 0&&te.price!==null?te.price:te.unitPrice||0}`]),styles:{fontSize:8}}),M.save(`order-${I.id}.pdf`)}else if(P==="csv"||P==="excel"){const M=[F,...H].map(pe=>pe.join(",")).join(`
`),j=new Blob([M],{type:"text/csv"}),z=URL.createObjectURL(j),te=document.createElement("a");te.href=z,te.download=`order-${I.id}.${P==="excel"?"xls":"csv"}`,te.click()}};return v.jsxs("div",{children:[v.jsxs("div",{className:"flex gap-4 mb-4 justify-between items-center",children:[v.jsxs("div",{className:"flex gap-4",children:[v.jsx("input",{type:"text",placeholder:"Search by distributor or order ID",className:"border px-3 py-2 rounded w-1/3",value:s,onChange:I=>r(I.target.value)}),v.jsxs("select",{className:"border px-3 py-2 rounded",value:a,onChange:I=>l(I.target.value),children:[v.jsx("option",{children:"All"}),v.jsx("option",{children:"Requested"}),v.jsx("option",{children:"Accepted"}),v.jsx("option",{children:"Rejected"}),v.jsx("option",{children:"Modified"})]}),v.jsxs("select",{className:"border px-3 py-2 rounded",value:u,onChange:I=>h(I.target.value),children:[v.jsx("option",{children:"All Time"}),v.jsx("option",{children:"Today"}),v.jsx("option",{children:"This Week"}),v.jsx("option",{children:"Custom Range"})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:B,className:"border bg-blue-50 hover:bg-blue-100 text-blue-600 px-3 py-2 rounded text-sm",children:"Export CSV"}),v.jsx("button",{onClick:V,className:"border bg-green-50 hover:bg-green-100 text-green-600 px-3 py-2 rounded text-sm",children:"Export PDF"})]})]}),u==="Custom Range"&&v.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[v.jsx("label",{children:"From:"}),v.jsx("input",{type:"date",value:x,onChange:I=>A(I.target.value),className:"border px-2 py-1 rounded"}),v.jsx("label",{children:"To:"}),v.jsx("input",{type:"date",value:T,onChange:I=>E(I.target.value),className:"border px-2 py-1 rounded"})]}),v.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-100 text-left",children:[v.jsx("th",{className:"p-2 border",children:"Order ID"}),v.jsx("th",{className:"p-2 border",children:"Distributor (Name)"}),v.jsx("th",{className:"p-2 border",children:"Status"}),v.jsx("th",{className:"p-2 border",children:"Amount"}),v.jsx("th",{className:"p-2 border",children:"Date"})]})}),v.jsx("tbody",{children:n.map(I=>v.jsxs(An.Fragment,{children:[v.jsxs("tr",{onClick:()=>O(I.id),className:"cursor-pointer hover:bg-gray-50",children:[v.jsx("td",{className:"p-2 border",children:I.id}),v.jsxs("td",{className:"p-2 border",children:[v.jsx("div",{children:I.distributorName||"—"}),v.jsxs("div",{className:"text-xs text-gray-500",children:[I.distributorCity||"—",", ",I.distributorState||"—"]}),v.jsx("div",{className:"text-xs text-gray-400",children:I.distributorId})]}),v.jsx("td",{className:"p-2 border",children:v.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${I.status==="Accepted"?"bg-green-100 text-green-700":I.status==="Rejected"?"bg-red-100 text-red-700":I.status==="Modified"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`,children:I.status})}),v.jsxs("td",{className:"p-2 border",children:["₹",I.totalAmount||0]}),v.jsx("td",{className:"p-2 border",children:I.timestamp?.toDate?.().toLocaleString()||"-"})]}),g===I.id&&v.jsx("tr",{className:"bg-gray-50",children:v.jsxs("td",{colSpan:"5",className:"p-4 border",children:[v.jsxs("div",{className:"text-sm mb-2 text-gray-700",children:[v.jsx("strong",{children:"Order Note:"})," ",I.note||"—",v.jsx("br",{}),v.jsx("strong",{children:"Payment Mode:"})," ",I.paymentMode||"—",v.jsx("br",{}),v.jsx("strong",{children:"Items:"}),v.jsx("br",{}),v.jsx("strong",{children:"Distributor Info:"})," ",I.distributorCity||"N/A",", ",I.distributorState||"N/A",v.jsx("br",{}),v.jsx("strong",{children:"Phone:"})," ",I.distributorPhone||"—",v.jsx("br",{}),v.jsx("strong",{children:"Email:"})," ",I.distributorEmail||"—",v.jsx("br",{})]}),v.jsxs("div",{className:"flex gap-2 mb-2",children:[v.jsx("button",{onClick:()=>Y(I,"pdf"),className:"border bg-green-50 hover:bg-green-100 text-green-600 px-3 py-1 rounded text-sm",children:"PDF"}),v.jsx("button",{onClick:()=>Y(I,"csv"),className:"border bg-blue-50 hover:bg-blue-100 text-blue-600 px-3 py-1 rounded text-sm",children:"CSV"}),v.jsx("button",{onClick:()=>Y(I,"excel"),className:"border bg-yellow-50 hover:bg-yellow-100 text-yellow-600 px-3 py-1 rounded text-sm",children:"Excel"})]}),v.jsxs("table",{className:"w-full text-sm border",children:[v.jsx("thead",{className:"bg-gray-100",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-1 border",children:"Product"}),v.jsx("th",{className:"p-1 border",children:"Brand"}),v.jsx("th",{className:"p-1 border",children:"SKU"}),v.jsx("th",{className:"p-1 border",children:"Qty"}),v.jsx("th",{className:"p-1 border",children:"Unit"}),v.jsx("th",{className:"p-1 border",children:"Price"})]})}),v.jsx("tbody",{children:(I.items||[]).map((P,F)=>v.jsxs("tr",{children:[v.jsx("td",{className:"p-1 border",children:P.productName||P.name||"—"}),v.jsx("td",{className:"p-1 border",children:P.brand||"—"}),v.jsx("td",{className:"p-1 border",children:P.sku}),v.jsx("td",{className:"p-1 border",children:P.quantity}),v.jsx("td",{className:"p-1 border",children:P.unit}),v.jsxs("td",{className:"p-1 border",children:["₹",P.price!==void 0&&P.price!==null?P.price:P.unitPrice||0]})]},F))})]})]})})]},I.id))})]})]})},$Q=()=>{const[t,e]=C.useState([]),[n,i]=C.useState(!0),[s,r]=C.useState("All"),a=Nl(),l=Ca();C.useEffect(()=>{(()=>{const f=a.currentUser;if(!f)return;const p=Mc(wn(l,"businesses",f.uid,"orderRequests")),g=El(p,y=>{const x=y.docs.map(A=>({id:A.id,...A.data()}));e(x),i(!1)});return()=>g()})()},[a]);const u=s==="All"?t:t.filter(h=>h.status===s);return v.jsxs("div",{className:"p-4",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"mr-2 font-semibold",children:"Filter by Status:"}),v.jsxs("select",{value:s,onChange:h=>r(h.target.value),className:"border px-2 py-1 rounded",children:[v.jsx("option",{children:"All"}),v.jsx("option",{children:"Accepted"}),v.jsx("option",{children:"Rejected"}),v.jsx("option",{children:"Pending"}),v.jsx("option",{children:"Modified"}),v.jsx("option",{children:"Delivered"})]})]}),n?v.jsx("p",{children:"Loading orders..."}):u.length===0?v.jsx("p",{children:"No orders found for this filter."}):v.jsxs("table",{className:"w-full table-auto border-collapse border border-gray-300",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-100",children:[v.jsx("th",{className:"border px-3 py-2",children:"Distributor"}),v.jsx("th",{className:"border px-3 py-2",children:"Order Date"}),v.jsx("th",{className:"border px-3 py-2",children:"Items"}),v.jsx("th",{className:"border px-3 py-2",children:"Status"}),v.jsx("th",{className:"border px-3 py-2",children:"Delivery ETA"})]})}),v.jsx("tbody",{children:u.map(h=>v.jsxs("tr",{children:[v.jsx("td",{className:"border px-3 py-2",children:h.distributorName||"N/A"}),v.jsx("td",{className:"border px-3 py-2",children:h.timestamp?.toDate().toLocaleString()||"N/A"}),v.jsx("td",{className:"border px-3 py-2",children:h.items?.length||0}),v.jsx("td",{className:"border px-3 py-2 font-medium",children:h.status}),v.jsx("td",{className:"border px-3 py-2",children:h.eta||"Not specified"})]},h.id))})]})]})},YQ=()=>{const[t,e]=C.useState("status");return v.jsxs("div",{className:"p-4",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Order History"}),v.jsxs("div",{className:"flex gap-4 mb-6",children:[v.jsx("button",{onClick:()=>e("status"),className:`px-4 py-2 rounded ${t==="status"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"📊 Order Status"}),v.jsx("button",{onClick:()=>e("track"),className:`px-4 py-2 rounded ${t==="track"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"🚚 Track Orders"})]}),v.jsx("div",{children:t==="status"?v.jsx(WQ,{}):v.jsx($Q,{})})]})},eA=C.createContext(),tA=()=>C.useContext(eA),GQ=()=>Jn.currentUser?.uid||null,uD=({children:t})=>{const[e,n]=C.useState(null),[i,s]=C.useState(null),[r,a]=C.useState(!0);return C.useEffect(()=>{const l=BS(Jn,async u=>{if(n(u),u){console.log("Authenticated user UID:",u.uid);const h=yn(fn,"businesses",u.uid),f=await Oi(h);f.exists()&&s(f.data().role)}else console.log("User signed out or no user authenticated."),s(null);a(!1)});return()=>l()},[]),v.jsx(eA.Provider,{value:{user:e,role:i,loading:r,setUser:n,setRole:s,setLoading:a},children:r?null:t})};function cD(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=cD(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function yf(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=cD(t))&&(i&&(i+=" "),i+=e);return i}function KQ(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}KQ(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ty=t=>typeof t=="number"&&!isNaN(t),Nf=t=>typeof t=="string",Hc=t=>typeof t=="function",XQ=t=>Nf(t)||ty(t),I_=t=>Nf(t)||Hc(t)?t:null,QQ=(t,e)=>t===!1||ty(t)&&t>0?t:e,D_=t=>C.isValidElement(t)||Nf(t)||Hc(t)||ty(t);function ZQ(t,e,n=300){let{scrollHeight:i,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function JQ({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:s=300}){return function({children:r,position:a,preventExitTransition:l,done:u,nodeRef:h,isIn:f,playToast:p}){let g=n?`${t}--${a}`:t,y=n?`${e}--${a}`:e,x=C.useRef(0);return C.useLayoutEffect(()=>{let A=h.current,T=g.split(" "),E=k=>{k.target===h.current&&(p(),A.removeEventListener("animationend",E),A.removeEventListener("animationcancel",E),x.current===0&&k.type!=="animationcancel"&&A.classList.remove(...T))};A.classList.add(...T),A.addEventListener("animationend",E),A.addEventListener("animationcancel",E)},[]),C.useEffect(()=>{let A=h.current,T=()=>{A.removeEventListener("animationend",T),i?ZQ(A,u,s):u()};f||(l?T():(x.current=1,A.className+=` ${y}`,A.addEventListener("animationend",T)))},[f]),An.createElement(An.Fragment,null,r)}}function I3(t,e){return{content:hD(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function hD(t,e,n=!1){return C.isValidElement(t)&&!Nf(t.type)?C.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Hc(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function eZ({closeToast:t,theme:e,ariaLabel:n="close"}){return An.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},An.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},An.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function tZ({delay:t,isRunning:e,closeToast:n,type:i="default",hide:s,className:r,controlledProgress:a,progress:l,rtl:u,isIn:h,theme:f}){let p=s||a&&l===0,g={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};a&&(g.transform=`scaleX(${l})`);let y=yf("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),x=Hc(r)?r({rtl:u,type:i,defaultClassName:y}):yf(y,r),A={[a&&l>=1?"onTransitionEnd":"onAnimationEnd"]:a&&l<1?null:()=>{h&&n()}};return An.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},An.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),An.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:x,style:g,...A}))}var nZ=1,dD=()=>`${nZ++}`;function iZ(t,e,n){let i=1,s=0,r=[],a=[],l=e,u=new Map,h=new Set,f=k=>(h.add(k),()=>h.delete(k)),p=()=>{a=Array.from(u.values()),h.forEach(k=>k())},g=({containerId:k,toastId:O,updateId:B})=>{let V=k?k!==t:t!==1,Y=u.has(O)&&B==null;return V||Y},y=(k,O)=>{u.forEach(B=>{var V;(O==null||O===B.props.toastId)&&((V=B.toggle)==null||V.call(B,k))})},x=k=>{var O,B;(B=(O=k.props)==null?void 0:O.onClose)==null||B.call(O,k.removalReason),k.isActive=!1},A=k=>{if(k==null)u.forEach(x);else{let O=u.get(k);O&&x(O)}p()},T=()=>{s-=r.length,r=[]},E=k=>{var O,B;let{toastId:V,updateId:Y}=k.props,I=Y==null;k.staleId&&u.delete(k.staleId),k.isActive=!0,u.set(V,k),p(),n(I3(k,I?"added":"updated")),I&&((B=(O=k.props).onOpen)==null||B.call(O))};return{id:t,props:l,observe:f,toggle:y,removeToast:A,toasts:u,clearQueue:T,buildToast:(k,O)=>{if(g(O))return;let{toastId:B,updateId:V,data:Y,staleId:I,delay:P}=O,F=V==null;F&&s++;let H={...l,style:l.toastStyle,key:i++,...Object.fromEntries(Object.entries(O).filter(([j,z])=>z!=null)),toastId:B,updateId:V,data:Y,isIn:!1,className:I_(O.className||l.toastClassName),progressClassName:I_(O.progressClassName||l.progressClassName),autoClose:O.isLoading?!1:QQ(O.autoClose,l.autoClose),closeToast(j){u.get(B).removalReason=j,A(B)},deleteToast(){let j=u.get(B);if(j!=null){if(n(I3(j,"removed")),u.delete(B),s--,s<0&&(s=0),r.length>0){E(r.shift());return}p()}}};H.closeButton=l.closeButton,O.closeButton===!1||D_(O.closeButton)?H.closeButton=O.closeButton:O.closeButton===!0&&(H.closeButton=D_(l.closeButton)?l.closeButton:!0);let M={content:k,props:H,staleId:I};l.limit&&l.limit>0&&s>l.limit&&F?r.push(M):ty(P)?setTimeout(()=>{E(M)},P):E(M)},setProps(k){l=k},setToggle:(k,O)=>{let B=u.get(k);B&&(B.toggle=O)},isToastActive:k=>{var O;return(O=u.get(k))==null?void 0:O.isActive},getSnapshot:()=>a}}var Jr=new Map,b0=[],O_=new Set,sZ=t=>O_.forEach(e=>e(t)),fD=()=>Jr.size>0;function rZ(){b0.forEach(t=>mD(t.content,t.options)),b0=[]}var aZ=(t,{containerId:e})=>{var n;return(n=Jr.get(e||1))==null?void 0:n.toasts.get(t)};function pD(t,e){var n;if(e)return!!((n=Jr.get(e))!=null&&n.isToastActive(t));let i=!1;return Jr.forEach(s=>{s.isToastActive(t)&&(i=!0)}),i}function oZ(t){if(!fD()){b0=b0.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||XQ(t))Jr.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Jr.get(t.containerId);e?e.removeToast(t.id):Jr.forEach(n=>{n.removeToast(t.id)})}}var lZ=(t={})=>{Jr.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function mD(t,e){D_(t)&&(fD()||b0.push({content:t,options:e}),Jr.forEach(n=>{n.buildToast(t,e)}))}function uZ(t){var e;(e=Jr.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function gD(t,e){Jr.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function cZ(t){let e=t.containerId||1;return{subscribe(n){let i=iZ(e,t,sZ);Jr.set(e,i);let s=i.observe(n);return rZ(),()=>{s(),Jr.delete(e)}},setProps(n){var i;(i=Jr.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=Jr.get(e))==null?void 0:n.getSnapshot()}}}function hZ(t){return O_.add(t),()=>{O_.delete(t)}}function dZ(t){return t&&(Nf(t.toastId)||ty(t.toastId))?t.toastId:dD()}function ny(t,e){return mD(t,e),e.toastId}function s2(t,e){return{...e,type:e&&e.type||t,toastId:dZ(e)}}function r2(t){return(e,n)=>ny(e,s2(t,n))}function zt(t,e){return ny(t,s2("default",e))}zt.loading=(t,e)=>ny(t,s2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function fZ(t,{pending:e,error:n,success:i},s){let r;e&&(r=Nf(e)?zt.loading(e,s):zt.loading(e.render,{...s,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(h,f,p)=>{if(f==null){zt.dismiss(r);return}let g={type:h,...a,...s,data:p},y=Nf(f)?{render:f}:f;return r?zt.update(r,{...g,...y}):zt(y.render,{...g,...y}),p},u=Hc(t)?t():t;return u.then(h=>l("success",i,h)).catch(h=>l("error",n,h)),u}zt.promise=fZ;zt.success=r2("success");zt.info=r2("info");zt.error=r2("error");zt.warning=r2("warning");zt.warn=zt.warning;zt.dark=(t,e)=>ny(t,s2("default",{theme:"dark",...e}));function pZ(t){oZ(t)}zt.dismiss=pZ;zt.clearWaitingQueue=lZ;zt.isActive=pD;zt.update=(t,e={})=>{let n=aZ(t,e);if(n){let{props:i,content:s}=n,r={delay:100,...i,...e,toastId:e.toastId||t,updateId:dD()};r.toastId!==t&&(r.staleId=t);let a=r.render||s;delete r.render,ny(a,r)}};zt.done=t=>{zt.update(t,{progress:1})};zt.onChange=hZ;zt.play=t=>gD(!0,t);zt.pause=t=>gD(!1,t);function mZ(t){var e;let{subscribe:n,getSnapshot:i,setProps:s}=C.useRef(cZ(t)).current;s(t);let r=(e=C.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function a(l){if(!r)return[];let u=new Map;return t.newestOnTop&&r.reverse(),r.forEach(h=>{let{position:f}=h.props;u.has(f)||u.set(f,[]),u.get(f).push(h)}),Array.from(u,h=>l(h[0],h[1]))}return{getToastToRender:a,isToastActive:pD,count:r?.length}}function gZ(t){let[e,n]=C.useState(!1),[i,s]=C.useState(!1),r=C.useRef(null),a=C.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:h,onClick:f,closeOnClick:p}=t;uZ({id:t.toastId,containerId:t.containerId,fn:n}),C.useEffect(()=>{if(t.pauseOnFocusLoss)return g(),()=>{y()}},[t.pauseOnFocusLoss]);function g(){document.hasFocus()||E(),window.addEventListener("focus",T),window.addEventListener("blur",E)}function y(){window.removeEventListener("focus",T),window.removeEventListener("blur",E)}function x(I){if(t.draggable===!0||t.draggable===I.pointerType){k();let P=r.current;a.canCloseOnClick=!0,a.canDrag=!0,P.style.transition="none",t.draggableDirection==="x"?(a.start=I.clientX,a.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(a.start=I.clientY,a.removalDistance=P.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function A(I){let{top:P,bottom:F,left:H,right:M}=r.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&t.pauseOnHover&&I.clientX>=H&&I.clientX<=M&&I.clientY>=P&&I.clientY<=F?E():T()}function T(){n(!0)}function E(){n(!1)}function k(){a.didMove=!1,document.addEventListener("pointermove",B),document.addEventListener("pointerup",V)}function O(){document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",V)}function B(I){let P=r.current;if(a.canDrag&&P){a.didMove=!0,e&&E(),t.draggableDirection==="x"?a.delta=I.clientX-a.start:a.delta=I.clientY-a.start,a.start!==I.clientX&&(a.canCloseOnClick=!1);let F=t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;P.style.transform=`translate3d(${F},0)`,P.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function V(){O();let I=r.current;if(a.canDrag&&a.didMove&&I){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}let Y={onPointerDown:x,onPointerUp:A};return l&&u&&(Y.onMouseEnter=E,t.stacked||(Y.onMouseLeave=T)),p&&(Y.onClick=I=>{f&&f(I),a.canCloseOnClick&&h(!0)}),{playToast:T,pauseToast:E,isRunning:e,preventExitTransition:i,toastRef:r,eventHandlers:Y}}var yZ=typeof window<"u"?C.useLayoutEffect:C.useEffect,a2=({theme:t,type:e,isLoading:n,...i})=>An.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function vZ(t){return An.createElement(a2,{...t},An.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function bZ(t){return An.createElement(a2,{...t},An.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function wZ(t){return An.createElement(a2,{...t},An.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function xZ(t){return An.createElement(a2,{...t},An.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function _Z(){return An.createElement("div",{className:"Toastify__spinner"})}var j_={info:bZ,warning:vZ,success:wZ,error:xZ,spinner:_Z},SZ=t=>t in j_;function AZ({theme:t,type:e,isLoading:n,icon:i}){let s=null,r={theme:t,type:e};return i===!1||(Hc(i)?s=i({...r,isLoading:n}):C.isValidElement(i)?s=C.cloneElement(i,r):n?s=j_.spinner():SZ(e)&&(s=j_[e](r))),s}var TZ=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:s,playToast:r}=gZ(t),{closeButton:a,children:l,autoClose:u,onClick:h,type:f,hideProgressBar:p,closeToast:g,transition:y,position:x,className:A,style:T,progressClassName:E,updateId:k,role:O,progress:B,rtl:V,toastId:Y,deleteToast:I,isIn:P,isLoading:F,closeOnClick:H,theme:M,ariaLabel:j}=t,z=yf("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":V},{"Toastify__toast--close-on-click":H}),te=Hc(A)?A({rtl:V,position:x,type:f,defaultClassName:z}):yf(z,A),pe=AZ(t),ae=!!B||!u,ue={closeToast:g,type:f,theme:M},ce=null;return a===!1||(Hc(a)?ce=a(ue):C.isValidElement(a)?ce=C.cloneElement(a,ue):ce=eZ(ue)),An.createElement(y,{isIn:P,done:I,position:x,preventExitTransition:n,nodeRef:i,playToast:r},An.createElement("div",{id:Y,tabIndex:0,onClick:h,"data-in":P,className:te,...s,style:T,ref:i,...P&&{role:O,"aria-label":j}},pe!=null&&An.createElement("div",{className:yf("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},pe),hD(l,t,!e),ce,!t.customProgressBar&&An.createElement(tZ,{...k&&!ae?{key:`p-${k}`}:{},rtl:V,theme:M,delay:u,isRunning:e,isIn:P,closeToast:g,hide:p,type:f,className:E,controlledProgress:ae,progress:B||0})))},EZ=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),CZ=JQ(EZ("bounce",!0)),NZ={position:"top-right",transition:CZ,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function LZ(t){let e={...NZ,...t},n=t.stacked,[i,s]=C.useState(!0),r=C.useRef(null),{getToastToRender:a,isToastActive:l,count:u}=mZ(e),{className:h,style:f,rtl:p,containerId:g,hotKeys:y}=e;function x(T){let E=yf("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":p});return Hc(h)?h({position:T,rtl:p,defaultClassName:E}):yf(E,I_(h))}function A(){n&&(s(!0),zt.play())}return yZ(()=>{var T;if(n){let E=r.current.querySelectorAll('[data-in="true"]'),k=12,O=(T=e.position)==null?void 0:T.includes("top"),B=0,V=0;Array.from(E).reverse().forEach((Y,I)=>{let P=Y;P.classList.add("Toastify__toast--stacked"),I>0&&(P.dataset.collapsed=`${i}`),P.dataset.pos||(P.dataset.pos=O?"top":"bot");let F=B*(i?.2:1)+(i?0:k*I);P.style.setProperty("--y",`${O?F:F*-1}px`),P.style.setProperty("--g",`${k}`),P.style.setProperty("--s",`${1-(i?V:0)}`),B+=P.offsetHeight,V+=.025})}},[i,u,n]),C.useEffect(()=>{function T(E){var k;let O=r.current;y(E)&&((k=O.querySelector('[tabIndex="0"]'))==null||k.focus(),s(!1),zt.pause()),E.key==="Escape"&&(document.activeElement===O||O!=null&&O.contains(document.activeElement))&&(s(!0),zt.play())}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[y]),An.createElement("section",{ref:r,className:"Toastify",id:g,onMouseEnter:()=>{n&&(s(!1),zt.pause())},onMouseLeave:A,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((T,E)=>{let k=E.length?{...f}:{...f,pointerEvents:"none"};return An.createElement("div",{tabIndex:-1,className:x(T),"data-stacked":n,style:k,key:`c-${T}`},E.map(({content:O,props:B})=>An.createElement(TZ,{...B,stacked:n,collapseAll:A,isIn:l(B.toastId,B.containerId),key:`t-${B.key}`},O)))}))}const kZ=()=>{const{currentUser:t}=tA(),[e,n]=C.useState({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),[i,s]=C.useState(null),[r,a]=C.useState(!1),l=h=>{const{name:f,value:p,files:g}=h.target;if(f==="image"){const y=g[0];n({...e,image:y}),s(URL.createObjectURL(y))}else n({...e,[f]:p})},u=async h=>{h.preventDefault();const f=GQ();if(!f)return;a(!0);const{productName:p,sku:g,quantity:y,costPrice:x,sellingPrice:A}=e;if(!p||!g||!y||!x||!A){zt.error("Please fill all required fields"),a(!1);return}try{let T="";if(e.image){const k=XS(TI,`inventory/${f}/${Date.now()}_${e.image.name}`);await SI(k,e.image),T=await KS(k)}const E=yn(wn(fn,"businesses",f,"products"));await Io(E,{productName:e.productName,sku:e.sku,brand:e.brand,category:e.category,quantity:e.quantity,costPrice:e.costPrice,sellingPrice:e.sellingPrice,unit:e.unit,description:e.description,imageUrl:T,id:E.id,createdAt:Na(),addedBy:f}),zt.success("✅ Product added successfully!"),n({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),s(null)}catch(T){console.error("Error adding product:",T),zt.error("❌ Failed to add product. Please try again.")}finally{a(!1)}};return v.jsxs("div",{className:"bg-white rounded p-4 mt-4 shadow",children:[v.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Inventory Manually"}),v.jsxs("form",{onSubmit:u,className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[v.jsx("input",{type:"text",name:"productName",placeholder:"Product Name",value:e.productName,onChange:l,required:!0,className:"border p-2 rounded"}),v.jsx("input",{type:"text",name:"sku",placeholder:"SKU",value:e.sku,onChange:l,required:!0,className:"border p-2 rounded"}),v.jsx("input",{type:"text",name:"brand",placeholder:"Brand",value:e.brand,onChange:l,className:"border p-2 rounded"}),v.jsx("input",{type:"text",name:"category",placeholder:"Category",value:e.category,onChange:l,className:"border p-2 rounded"}),v.jsx("input",{type:"number",name:"quantity",placeholder:"Quantity",value:e.quantity,onChange:l,required:!0,className:"border p-2 rounded"}),v.jsx("input",{type:"number",name:"costPrice",placeholder:"Cost Price",value:e.costPrice,onChange:l,required:!0,className:"border p-2 rounded"}),v.jsx("input",{type:"number",name:"sellingPrice",placeholder:"Selling Price",value:e.sellingPrice,onChange:l,required:!0,className:"border p-2 rounded"}),v.jsx("input",{type:"text",name:"unit",placeholder:"Unit (e.g., box, piece)",value:e.unit,onChange:l,className:"border p-2 rounded"}),v.jsx("textarea",{name:"description",placeholder:"Description",value:e.description,onChange:l,className:"border p-2 rounded col-span-2"}),v.jsxs("div",{className:"col-span-2",children:[v.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:l,className:"mb-2"}),i&&v.jsx("img",{src:i,alt:"Product preview",className:"h-24 w-24 object-cover rounded border"})]}),v.jsx("button",{type:"submit",disabled:r,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 col-span-2",children:r?"Uploading...":"Add Product"})]})]})},PZ=({userId:t})=>{const[e,n]=C.useState(null),[i,s]=C.useState(""),[r,a]=C.useState(!1),[l,u]=C.useState([]),h=x=>{const A=x.target.files[0];A&&A.size<=5*1024*1024&&(A.type.includes("image")||A.type==="application/pdf")?(n(A),s(URL.createObjectURL(A)),zt.info(`✅ ${A.name} selected. Ready to scan.`)):zt.error("File must be under 5MB and in JPG/PNG/PDF format.")},f=async()=>{if(!e){zt.error("No image selected.");return}if(!t){console.error("handleScan: Missing userId from props or AuthContext."),zt.dismiss(),zt.error("User not authenticated. Please log in again.");return}a(!0),zt.loading("📤 Scanning Image with OCR...");try{const A=await(V=>new Promise((Y,I)=>{const P=new FileReader;P.readAsDataURL(V),P.onload=()=>Y(P.result.split(",")[1]),P.onerror=F=>I(F)}))(e),E=await fetch("https://ocrfromimage-rg2uh6cnqq-el.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:A})}),k=await E.json();if(!E.ok)throw new Error(k?.error||"Cloud Function OCR failed.");const O=k?.products||[];if(!Array.isArray(O)||O.length===0)throw new Error("No recognizable products parsed.");const B=O.map(V=>({...V,imageURL:i}));u(B),zt.dismiss(),zt.success("✅ Scan complete. Review and save.")}catch(x){zt.dismiss(),zt.error("❌ OCR scan failed. Check console for details."),console.error("OCR Scan Error:",x)}finally{a(!1)}},p=(x,A,T)=>{const E=[...l];E[x][A]=T,u(E)},g=async()=>{if(!l.length||!t){zt.error("No products to save or user not authenticated.");return}try{const x=l.map(A=>ku(wn(fn,"businesses",t,"products"),{...A,createdAt:new Date}));await Promise.all(x),zt.success("Products saved to inventory."),u([]),n(null),s("")}catch(x){zt.error("Failed to save products."),console.error(x)}},y=x=>{const A=l.filter((T,E)=>E!==x);u(A)};return v.jsxs("div",{className:"p-4 bg-white rounded shadow-md",children:[!1,v.jsx("h3",{className:"text-lg font-semibold mb-2",children:"OCR Inventory Upload"}),v.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:h}),i&&v.jsx("img",{src:i,alt:"Preview",className:"mt-2 w-40 h-40 object-cover border rounded"}),v.jsx("button",{onClick:f,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-50",disabled:r||!e,children:r?"Scanning...":"Scan & Import"}),l.length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("table",{className:"mt-4 w-full border text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-100",children:[v.jsx("th",{children:"Product"}),v.jsx("th",{children:"Brand"}),v.jsx("th",{children:"Qty"}),v.jsx("th",{children:"Unit"}),v.jsx("th",{children:"Cost"}),v.jsx("th",{children:"Sell"}),v.jsx("th",{children:"Desc"}),v.jsx("th",{children:"🗑️"})]})}),v.jsx("tbody",{children:l.map((x,A)=>v.jsxs("tr",{children:[["productName","brand","quantity","unit","costPrice","sellingPrice","description"].map(T=>v.jsx("td",{children:v.jsx("input",{type:"text",value:x[T],onChange:E=>p(A,T,E.target.value),className:"border w-full px-1"})},T)),v.jsx("td",{children:v.jsx("button",{onClick:()=>y(A),className:"text-red-600 hover:text-red-800",children:"❌"})})]},A))})]}),v.jsx("button",{onClick:g,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded",children:"Save Products"})]})]})},yD=({userId:t})=>{const[e,n]=C.useState([]),[i,s]=C.useState([]),[r,a]=C.useState(""),[l,u]=C.useState(""),[h,f]=C.useState("asc"),[p,g]=C.useState({rowId:null,field:null}),[y,x]=C.useState(""),[A,T]=C.useState(""),E=Ca();if(!t)return v.jsx("div",{className:"text-center p-4",children:"Loading user data..."});C.useEffect(()=>{if(!t)return;console.log("Current user UID:",t);const V=wn(E,"businesses",t,"products"),Y=El(V,async I=>{const P=AI(),F=await Promise.all(I.docs.map(async H=>{const M=H.data();let j="";try{if(M.imageUrl)j=M.imageUrl;else if(M.imagePath){const z=XS(P,M.imagePath);j=await KS(z)}}catch(z){console.warn("Image fetch error for:",M.imagePath||"unknown",z.message)}return{id:H.id,...M,imageUrl:j,imagePath:M.imagePath||""}}));n(F),s(F)});return()=>Y()},[t]),C.useEffect(()=>{const V=r.toLowerCase(),Y=e.filter(I=>{const P=I.productName?.toLowerCase().includes(V)||I.sku?.toLowerCase().includes(V)||I.brand?.toLowerCase().includes(V)||I.category?.toLowerCase().includes(V),F=!A||B(I.quantity)===A;return P&&F});s(Y)},[r,e,A]),C.useEffect(()=>{if(!l){s(V=>[...V]);return}s(V=>[...V].sort((I,P)=>{const F=parseFloat(I[l])||0,H=parseFloat(P[l])||0;return h==="asc"?F-H:H-F}))},[l,h]);const k=(V,Y,I)=>{g({rowId:V,field:Y}),x(I)},O=async(V,Y,I)=>{try{const P=wn(E,"businesses",t,"products"),F=yn(P,V);await xa(F,{[Y]:I})}catch(P){console.error("Error updating inventory field:",P)}finally{g({rowId:null,field:null}),x("")}},B=V=>{const Y=parseInt(V);return isNaN(Y)?"Unknown":Y<=5?"Low":"In Stock"};return v.jsxs("div",{className:"p-4",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-3 mb-4",children:[v.jsx("input",{type:"text",placeholder:"Search by name, brand, SKU...",value:r,onChange:V=>a(V.target.value),className:"border px-4 py-2 rounded w-full md:w-1/3"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("select",{className:"border px-3 py-2 rounded",onChange:V=>u(V.target.value),value:l,children:[v.jsx("option",{value:"",children:"Sort by"}),v.jsx("option",{value:"quantity",children:"Quantity"}),v.jsx("option",{value:"costPrice",children:"Cost Price"}),v.jsx("option",{value:"sellingPrice",children:"Selling Price"})]}),v.jsxs("select",{className:"border px-3 py-2 rounded",onChange:V=>f(V.target.value),value:h,children:[v.jsx("option",{value:"asc",children:"Asc"}),v.jsx("option",{value:"desc",children:"Desc"})]}),v.jsxs("select",{className:"border px-3 py-2 rounded",onChange:V=>T(V.target.value),value:A,children:[v.jsx("option",{value:"",children:"All Status"}),v.jsx("option",{value:"In Stock",children:"In Stock"}),v.jsx("option",{value:"Low",children:"Low"})]})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full text-sm border rounded shadow-sm",children:[v.jsx("thead",{className:"bg-gray-100 text-left",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-2",children:"Image"}),v.jsx("th",{className:"p-2",children:"Product"}),v.jsx("th",{className:"p-2",children:"SKU"}),v.jsx("th",{className:"p-2",children:"Brand"}),v.jsx("th",{className:"p-2",children:"Category"}),v.jsx("th",{className:"p-2",children:"Qty"}),v.jsx("th",{className:"p-2",children:"Unit"}),v.jsx("th",{className:"p-2",children:"Cost"}),v.jsx("th",{className:"p-2",children:"Sell"}),v.jsx("th",{className:"p-2",children:"Status"})]})}),v.jsxs("tbody",{children:[i.map(V=>v.jsxs("tr",{className:"border-t",children:[v.jsx("td",{className:"p-2",children:v.jsx("img",{src:V.imageUrl||"/placeholder.png",alt:"product",className:"h-10 w-10 rounded object-cover"})}),v.jsx("td",{className:"p-2",onClick:()=>k(V.id,"productName",V.productName),children:p.rowId===V.id&&p.field==="productName"?v.jsx("input",{className:"w-full border px-1",value:y,onChange:Y=>x(Y.target.value),onBlur:()=>O(V.id,"productName",y),autoFocus:!0}):V.productName}),v.jsx("td",{className:"p-2",onClick:()=>k(V.id,"sku",V.sku),children:p.rowId===V.id&&p.field==="sku"?v.jsx("input",{className:"w-full border px-1",value:y,onChange:Y=>x(Y.target.value),onBlur:()=>O(V.id,"sku",y),autoFocus:!0}):V.sku}),v.jsx("td",{className:"p-2",onClick:()=>k(V.id,"brand",V.brand),children:p.rowId===V.id&&p.field==="brand"?v.jsx("input",{className:"w-full border px-1",value:y,onChange:Y=>x(Y.target.value),onBlur:()=>O(V.id,"brand",y),autoFocus:!0}):V.brand}),v.jsx("td",{className:"p-2",onClick:()=>k(V.id,"category",V.category),children:p.rowId===V.id&&p.field==="category"?v.jsx("input",{className:"w-full border px-1",value:y,onChange:Y=>x(Y.target.value),onBlur:()=>O(V.id,"category",y),autoFocus:!0}):V.category}),v.jsx("td",{className:"p-2",onClick:()=>k(V.id,"quantity",V.quantity),children:p.rowId===V.id&&p.field==="quantity"?v.jsx("input",{type:"number",className:"w-full border px-1",value:y,onChange:Y=>x(Y.target.value),onBlur:()=>O(V.id,"quantity",Number(y)),autoFocus:!0}):V.quantity}),v.jsx("td",{className:"p-2",onClick:()=>k(V.id,"unit",V.unit),children:p.rowId===V.id&&p.field==="unit"?v.jsx("input",{className:"w-full border px-1",value:y,onChange:Y=>x(Y.target.value),onBlur:()=>O(V.id,"unit",y),autoFocus:!0}):V.unit}),v.jsx("td",{className:"p-2",onClick:()=>k(V.id,"costPrice",V.costPrice),children:p.rowId===V.id&&p.field==="costPrice"?v.jsx("input",{type:"number",step:"0.01",className:"w-full border px-1",value:y,onChange:Y=>x(Y.target.value),onBlur:()=>O(V.id,"costPrice",Number(y)),autoFocus:!0}):v.jsxs(v.Fragment,{children:["₹",V.costPrice]})}),v.jsx("td",{className:"p-2",onClick:()=>k(V.id,"sellingPrice",V.sellingPrice),children:p.rowId===V.id&&p.field==="sellingPrice"?v.jsx("input",{type:"number",step:"0.01",className:"w-full border px-1",value:y,onChange:Y=>x(Y.target.value),onBlur:()=>O(V.id,"sellingPrice",Number(y)),autoFocus:!0}):v.jsxs(v.Fragment,{children:["₹",V.sellingPrice]})}),v.jsx("td",{className:"p-2",children:v.jsx("span",{className:`px-2 py-1 rounded text-white text-xs ${B(V.quantity)==="Low"?"bg-red-500":"bg-green-500"}`,children:B(V.quantity)})})]},V.id)),i.length===0?v.jsx("tr",{children:v.jsx("td",{colSpan:"10",className:"text-center p-4 text-gray-500",children:e.length===0?"No products found.":"Loading inventory..."})}):null]})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function iy(t){return t+.5|0}const Qh=(t,e,n)=>Math.max(Math.min(t,n),e);function Rg(t){return Qh(iy(t*2.55),0,255)}function ad(t){return Qh(iy(t*255),0,255)}function _c(t){return Qh(iy(t/2.55)/100,0,1)}function D3(t){return Qh(iy(t*100),0,100)}const No={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},F_=[..."0123456789ABCDEF"],RZ=t=>F_[t&15],MZ=t=>F_[(t&240)>>4]+F_[t&15],xv=t=>(t&240)>>4===(t&15),IZ=t=>xv(t.r)&&xv(t.g)&&xv(t.b)&&xv(t.a);function DZ(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&No[t[1]]*17,g:255&No[t[2]]*17,b:255&No[t[3]]*17,a:e===5?No[t[4]]*17:255}:(e===7||e===9)&&(n={r:No[t[1]]<<4|No[t[2]],g:No[t[3]]<<4|No[t[4]],b:No[t[5]]<<4|No[t[6]],a:e===9?No[t[7]]<<4|No[t[8]]:255})),n}const OZ=(t,e)=>t<255?e(t):"";function jZ(t){var e=IZ(t)?RZ:MZ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+OZ(t.a,e):void 0}const FZ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function vD(t,e,n){const i=e*Math.min(n,1-n),s=(r,a=(r+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function VZ(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function UZ(t,e,n){const i=vD(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function BZ(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function nA(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),a=Math.min(n,i,s),l=(r+a)/2;let u,h,f;return r!==a&&(f=r-a,h=l>.5?f/(2-r-a):f/(r+a),u=BZ(n,i,s,f,r),u=u*60+.5),[u|0,h||0,l]}function iA(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(ad)}function sA(t,e,n){return iA(vD,t,e,n)}function zZ(t,e,n){return iA(UZ,t,e,n)}function qZ(t,e,n){return iA(VZ,t,e,n)}function bD(t){return(t%360+360)%360}function HZ(t){const e=FZ.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Rg(+e[5]):ad(+e[5]));const s=bD(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=zZ(s,r,a):e[1]==="hsv"?i=qZ(s,r,a):i=sA(s,r,a),{r:i[0],g:i[1],b:i[2],a:n}}function WZ(t,e){var n=nA(t);n[0]=bD(n[0]+e),n=sA(n),t.r=n[0],t.g=n[1],t.b=n[2]}function $Z(t){if(!t)return;const e=nA(t),n=e[0],i=D3(e[1]),s=D3(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${_c(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const O3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},j3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function YZ(){const t={},e=Object.keys(j3),n=Object.keys(O3);let i,s,r,a,l;for(i=0;i<e.length;i++){for(a=l=e[i],s=0;s<n.length;s++)r=n[s],l=l.replace(r,O3[r]);r=parseInt(j3[a],16),t[l]=[r>>16&255,r>>8&255,r&255]}return t}let _v;function GZ(t){_v||(_v=YZ(),_v.transparent=[0,0,0,0]);const e=_v[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const KZ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function XZ(t){const e=KZ.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?Rg(a):Qh(a*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Rg(i):Qh(i,0,255)),s=255&(e[4]?Rg(s):Qh(s,0,255)),r=255&(e[6]?Rg(r):Qh(r,0,255)),{r:i,g:s,b:r,a:n}}}function QZ(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${_c(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const rx=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,mp=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ZZ(t,e,n){const i=mp(_c(t.r)),s=mp(_c(t.g)),r=mp(_c(t.b));return{r:ad(rx(i+n*(mp(_c(e.r))-i))),g:ad(rx(s+n*(mp(_c(e.g))-s))),b:ad(rx(r+n*(mp(_c(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Sv(t,e,n){if(t){let i=nA(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=sA(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function wD(t,e){return t&&Object.assign(e||{},t)}function F3(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ad(t[3]))):(e=wD(t,{r:0,g:0,b:0,a:1}),e.a=ad(e.a)),e}function JZ(t){return t.charAt(0)==="r"?XZ(t):HZ(t)}class w0{constructor(e){if(e instanceof w0)return e;const n=typeof e;let i;n==="object"?i=F3(e):n==="string"&&(i=DZ(e)||GZ(e)||JZ(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=wD(this._rgb);return e&&(e.a=_c(e.a)),e}set rgb(e){this._rgb=F3(e)}rgbString(){return this._valid?QZ(this._rgb):void 0}hexString(){return this._valid?jZ(this._rgb):void 0}hslString(){return this._valid?$Z(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const a=n===r?.5:n,l=2*a-1,u=i.a-s.a,h=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;r=1-h,i.r=255&h*i.r+r*s.r+.5,i.g=255&h*i.g+r*s.g+.5,i.b=255&h*i.b+r*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=ZZ(this._rgb,e._rgb,n)),this}clone(){return new w0(this.rgb)}alpha(e){return this._rgb.a=ad(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=iy(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Sv(this._rgb,2,e),this}darken(e){return Sv(this._rgb,2,-e),this}saturate(e){return Sv(this._rgb,1,e),this}desaturate(e){return Sv(this._rgb,1,-e),this}rotate(e){return WZ(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function yc(){}const eJ=(()=>{let t=0;return()=>t++})();function Wi(t){return t==null}function ar(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $n(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function jo(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function cu(t,e){return jo(t)?t:e}function Nn(t,e){return typeof t>"u"?e:t}const tJ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ti(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ai(t,e,n,i){let s,r,a;if(ar(t))for(r=t.length,s=0;s<r;s++)e.call(n,t[s],s);else if($n(t))for(a=Object.keys(t),r=a.length,s=0;s<r;s++)e.call(n,t[a[s]],a[s])}function B1(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function z1(t){if(ar(t))return t.map(z1);if($n(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=z1(t[n[s]]);return e}return t}function xD(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function nJ(t,e,n,i){if(!xD(t))return;const s=e[t],r=n[t];$n(s)&&$n(r)?x0(s,r,i):e[t]=z1(r)}function x0(t,e,n){const i=ar(e)?e:[e],s=i.length;if(!$n(t))return t;n=n||{};const r=n.merger||nJ;let a;for(let l=0;l<s;++l){if(a=i[l],!$n(a))continue;const u=Object.keys(a);for(let h=0,f=u.length;h<f;++h)r(u[h],t,a,n)}return t}function Yg(t,e){return x0(t,e,{merger:iJ})}function iJ(t,e,n){if(!xD(t))return;const i=e[t],s=n[t];$n(i)&&$n(s)?Yg(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=z1(s))}const V3={"":t=>t,x:t=>t.x,y:t=>t.y};function sJ(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function rJ(t){const e=sJ(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function q1(t,e){return(V3[e]||(V3[e]=rJ(e)))(t)}function rA(t){return t.charAt(0).toUpperCase()+t.slice(1)}const H1=t=>typeof t<"u",gd=t=>typeof t=="function",U3=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function aJ(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const vi=Math.PI,wr=2*vi,oJ=wr+vi,W1=Number.POSITIVE_INFINITY,lJ=vi/180,br=vi/2,Xd=vi/4,B3=vi*2/3,_D=Math.log10,nm=Math.sign;function Gg(t,e,n){return Math.abs(t-e)<n}function z3(t){const e=Math.round(t);t=Gg(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(_D(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function uJ(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function cJ(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function $1(t){return!cJ(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function hJ(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function dJ(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function cf(t){return t*(vi/180)}function fJ(t){return t*(180/vi)}function q3(t){if(!jo(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function SD(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*vi&&(r+=wr),{angle:r,distance:s}}function V_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function pJ(t,e){return(t-e+oJ)%wr-vi}function yl(t){return(t%wr+wr)%wr}function aA(t,e,n,i){const s=yl(t),r=yl(e),a=yl(n),l=yl(r-s),u=yl(a-s),h=yl(s-r),f=yl(s-a);return s===r||s===a||i&&r===a||l>u&&h<f}function Aa(t,e,n){return Math.max(e,Math.min(n,t))}function mJ(t){return Aa(t,-32768,32767)}function Zh(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function oA(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const U_=(t,e,n,i)=>oA(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),gJ=(t,e,n)=>oA(t,n,i=>t[i][e]>=n);function yJ(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const AD=["push","pop","shift","splice","unshift"];function vJ(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),AD.forEach(n=>{const i="_onData"+rA(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const a=s.apply(this,r);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...r)}),a}})})}function H3(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(AD.forEach(r=>{delete t[r]}),delete t._chartjs)}function bJ(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const TD=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ED(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,TD.call(window,()=>{i=!1,t.apply(e,n)}))}}function wJ(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const lA=t=>t==="start"?"left":t==="end"?"right":"center",Fr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,xJ=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Av=t=>t===0||t===1,W3=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*wr/n)),$3=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*wr/n)+1,Kg={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*br)+1,easeOutSine:t=>Math.sin(t*br),easeInOutSine:t=>-.5*(Math.cos(vi*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Av(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Av(t)?t:W3(t,.075,.3),easeOutElastic:t=>Av(t)?t:$3(t,.075,.3),easeInOutElastic(t){return Av(t)?t:t<.5?.5*W3(t*2,.1125,.45):.5+.5*$3(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Kg.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Kg.easeInBounce(t*2)*.5:Kg.easeOutBounce(t*2-1)*.5+.5};function uA(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Y3(t){return uA(t)?t:new w0(t)}function ax(t){return uA(t)?t:new w0(t).saturate(.5).darken(.1).hexString()}const _J=["x","y","borderWidth","radius","tension"],SJ=["color","borderColor","backgroundColor"];function AJ(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:SJ},numbers:{type:"number",properties:_J}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function TJ(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const G3=new Map;function EJ(t,e){e=e||{};const n=t+JSON.stringify(e);let i=G3.get(n);return i||(i=new Intl.NumberFormat(t,e),G3.set(n,i)),i}function CD(t,e,n){return EJ(e,n).format(t)}const CJ={values(t){return ar(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),r=NJ(t,n)}const a=_D(Math.abs(r)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),CD(t,i,u)}};function NJ(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var ND={formatters:CJ};function LJ(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ND.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Lf=Object.create(null),B_=Object.create(null);function Xg(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function ox(t,e,n){return typeof e=="string"?x0(Xg(t,e),n):x0(Xg(t,""),e)}class kJ{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>ax(s.backgroundColor),this.hoverBorderColor=(i,s)=>ax(s.borderColor),this.hoverColor=(i,s)=>ax(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ox(this,e,n)}get(e){return Xg(this,e)}describe(e,n){return ox(B_,e,n)}override(e,n){return ox(Lf,e,n)}route(e,n,i,s){const r=Xg(this,e),a=Xg(this,i),l="_"+n;Object.defineProperties(r,{[l]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],h=a[s];return $n(u)?Object.assign({},h,u):Nn(u,h)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var Cs=new kJ({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[AJ,TJ,LJ]);function PJ(t){return!t||Wi(t.size)||Wi(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function K3(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function Qd(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function X3(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function z_(t,e,n,i){LD(t,e,n,i,null)}function LD(t,e,n,i,s){let r,a,l,u,h,f,p,g;const y=e.pointStyle,x=e.rotation,A=e.radius;let T=(x||0)*lJ;if(y&&typeof y=="object"&&(r=y.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(T),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),t.restore();return}if(!(isNaN(A)||A<=0)){switch(t.beginPath(),y){default:s?t.ellipse(n,i,s/2,A,0,0,wr):t.arc(n,i,A,0,wr),t.closePath();break;case"triangle":f=s?s/2:A,t.moveTo(n+Math.sin(T)*f,i-Math.cos(T)*A),T+=B3,t.lineTo(n+Math.sin(T)*f,i-Math.cos(T)*A),T+=B3,t.lineTo(n+Math.sin(T)*f,i-Math.cos(T)*A),t.closePath();break;case"rectRounded":h=A*.516,u=A-h,a=Math.cos(T+Xd)*u,p=Math.cos(T+Xd)*(s?s/2-h:u),l=Math.sin(T+Xd)*u,g=Math.sin(T+Xd)*(s?s/2-h:u),t.arc(n-p,i-l,h,T-vi,T-br),t.arc(n+g,i-a,h,T-br,T),t.arc(n+p,i+l,h,T,T+br),t.arc(n-g,i+a,h,T+br,T+vi),t.closePath();break;case"rect":if(!x){u=Math.SQRT1_2*A,f=s?s/2:u,t.rect(n-f,i-u,2*f,2*u);break}T+=Xd;case"rectRot":p=Math.cos(T)*(s?s/2:A),a=Math.cos(T)*A,l=Math.sin(T)*A,g=Math.sin(T)*(s?s/2:A),t.moveTo(n-p,i-l),t.lineTo(n+g,i-a),t.lineTo(n+p,i+l),t.lineTo(n-g,i+a),t.closePath();break;case"crossRot":T+=Xd;case"cross":p=Math.cos(T)*(s?s/2:A),a=Math.cos(T)*A,l=Math.sin(T)*A,g=Math.sin(T)*(s?s/2:A),t.moveTo(n-p,i-l),t.lineTo(n+p,i+l),t.moveTo(n+g,i-a),t.lineTo(n-g,i+a);break;case"star":p=Math.cos(T)*(s?s/2:A),a=Math.cos(T)*A,l=Math.sin(T)*A,g=Math.sin(T)*(s?s/2:A),t.moveTo(n-p,i-l),t.lineTo(n+p,i+l),t.moveTo(n+g,i-a),t.lineTo(n-g,i+a),T+=Xd,p=Math.cos(T)*(s?s/2:A),a=Math.cos(T)*A,l=Math.sin(T)*A,g=Math.sin(T)*(s?s/2:A),t.moveTo(n-p,i-l),t.lineTo(n+p,i+l),t.moveTo(n+g,i-a),t.lineTo(n-g,i+a);break;case"line":a=s?s/2:Math.cos(T)*A,l=Math.sin(T)*A,t.moveTo(n-a,i-l),t.lineTo(n+a,i+l);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(T)*(s?s/2:A),i+Math.sin(T)*A);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function _0(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function cA(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function hA(t){t.restore()}function RJ(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function MJ(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function IJ(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Wi(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function DJ(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),a=e-r.actualBoundingBoxLeft,l=e+r.actualBoundingBoxRight,u=n-r.actualBoundingBoxAscent,h=n+r.actualBoundingBoxDescent,f=s.strikethrough?(u+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,f),t.lineTo(l,f),t.stroke()}}function OJ(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function S0(t,e,n,i,s,r={}){const a=ar(e)?e:[e],l=r.strokeWidth>0&&r.strokeColor!=="";let u,h;for(t.save(),t.font=s.string,IJ(t,r),u=0;u<a.length;++u)h=a[u],r.backdrop&&OJ(t,r.backdrop),l&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Wi(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(h,n,i,r.maxWidth)),t.fillText(h,n,i,r.maxWidth),DJ(t,n,i,h,r),i+=Number(s.lineHeight);t.restore()}function Y1(t,e){const{x:n,y:i,w:s,h:r,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*vi,vi,!0),t.lineTo(n,i+r-a.bottomLeft),t.arc(n+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,vi,br,!0),t.lineTo(n+s-a.bottomRight,i+r),t.arc(n+s-a.bottomRight,i+r-a.bottomRight,a.bottomRight,br,0,!0),t.lineTo(n+s,i+a.topRight),t.arc(n+s-a.topRight,i+a.topRight,a.topRight,0,-br,!0),t.lineTo(n+a.topLeft,i)}const jJ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FJ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function VJ(t,e){const n=(""+t).match(jJ);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const UJ=t=>+t||0;function dA(t,e){const n={},i=$n(e),s=i?Object.keys(e):e,r=$n(t)?i?a=>Nn(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=UJ(r(a));return n}function kD(t){return dA(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Yp(t){return dA(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Fo(t){const e=kD(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function zr(t,e){t=t||{},e=e||Cs.font;let n=Nn(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Nn(t.style,e.style);i&&!(""+i).match(FJ)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Nn(t.family,e.family),lineHeight:VJ(Nn(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Nn(t.weight,e.weight),string:""};return s.string=PJ(s),s}function Tv(t,e,n,i){let s,r,a;for(s=0,r=t.length;s<r;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function BJ(t,e,n){const{min:i,max:s}=t,r=tJ(e,(s-i)/2),a=(l,u)=>n&&l===0?0:l+u;return{min:a(i,-Math.abs(r)),max:a(s,r)}}function Of(t,e){return Object.assign(Object.create(t),e)}function fA(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=ID("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:l=>fA([l,...t],e,r,i)};return new Proxy(a,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return RD(l,u,()=>KJ(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return Z3(l).includes(u)},ownKeys(l){return Z3(l)},set(l,u,h){const f=l._storage||(l._storage=s());return l[u]=f[u]=h,delete l._keys,!0}})}function im(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:PD(t,i),setContext:r=>im(t,r,n,i),override:r=>im(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,a){return delete r[a],delete t[a],!0},get(r,a,l){return RD(r,a,()=>qJ(r,a,l))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(r,a,l){return t[a]=l,delete r[a],!0}})}function PD(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:gd(n)?n:()=>n,isIndexable:gd(i)?i:()=>i}}const zJ=(t,e)=>t?t+rA(e):e,pA=(t,e)=>$n(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function RD(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function qJ(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:a}=t;let l=i[e];return gd(l)&&a.isScriptable(e)&&(l=HJ(e,l,t,n)),ar(l)&&l.length&&(l=WJ(e,l,t,a.isIndexable)),pA(e,l)&&(l=im(l,s,r&&r[e],a)),l}function HJ(t,e,n,i){const{_proxy:s,_context:r,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(r,a||i);return l.delete(t),pA(t,u)&&(u=mA(s._scopes,s,t,u)),u}function WJ(t,e,n,i){const{_proxy:s,_context:r,_subProxy:a,_descriptors:l}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if($n(e[0])){const u=e,h=s._scopes.filter(f=>f!==u);e=[];for(const f of u){const p=mA(h,s,t,f);e.push(im(p,r,a&&a[t],l))}}return e}function MD(t,e,n){return gd(t)?t(e,n):t}const $J=(t,e)=>t===!0?e:typeof t=="string"?q1(e,t):void 0;function YJ(t,e,n,i,s){for(const r of e){const a=$J(n,r);if(a){t.add(a);const l=MD(a._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function mA(t,e,n,i){const s=e._rootScopes,r=MD(e._fallback,n,i),a=[...t,...s],l=new Set;l.add(i);let u=Q3(l,a,n,r||n,i);return u===null||typeof r<"u"&&r!==n&&(u=Q3(l,a,r,u,i),u===null)?!1:fA(Array.from(l),[""],s,r,()=>GJ(e,n,i))}function Q3(t,e,n,i,s){for(;n;)n=YJ(t,e,n,i,s);return n}function GJ(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return ar(s)&&$n(n)?n:s||{}}function KJ(t,e,n,i){let s;for(const r of e)if(s=ID(zJ(r,t),n),typeof s<"u")return pA(t,s)?mA(n,i,t,s):s}function ID(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Z3(t){let e=t._keys;return e||(e=t._keys=XJ(t._scopes)),e}function XJ(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const QJ=Number.EPSILON||1e-14,sm=(t,e)=>e<t.length&&!t[e].skip&&t[e],DD=t=>t==="x"?"y":"x";function ZJ(t,e,n,i){const s=t.skip?e:t,r=e,a=n.skip?e:n,l=V_(r,s),u=V_(a,r);let h=l/(l+u),f=u/(l+u);h=isNaN(h)?0:h,f=isNaN(f)?0:f;const p=i*h,g=i*f;return{previous:{x:r.x-p*(a.x-s.x),y:r.y-p*(a.y-s.y)},next:{x:r.x+g*(a.x-s.x),y:r.y+g*(a.y-s.y)}}}function JJ(t,e,n){const i=t.length;let s,r,a,l,u,h=sm(t,0);for(let f=0;f<i-1;++f)if(u=h,h=sm(t,f+1),!(!u||!h)){if(Gg(e[f],0,QJ)){n[f]=n[f+1]=0;continue}s=n[f]/e[f],r=n[f+1]/e[f],l=Math.pow(s,2)+Math.pow(r,2),!(l<=9)&&(a=3/Math.sqrt(l),n[f]=s*a*e[f],n[f+1]=r*a*e[f])}}function eee(t,e,n="x"){const i=DD(n),s=t.length;let r,a,l,u=sm(t,0);for(let h=0;h<s;++h){if(a=l,l=u,u=sm(t,h+1),!l)continue;const f=l[n],p=l[i];a&&(r=(f-a[n])/3,l[`cp1${n}`]=f-r,l[`cp1${i}`]=p-r*e[h]),u&&(r=(u[n]-f)/3,l[`cp2${n}`]=f+r,l[`cp2${i}`]=p+r*e[h])}}function tee(t,e="x"){const n=DD(e),i=t.length,s=Array(i).fill(0),r=Array(i);let a,l,u,h=sm(t,0);for(a=0;a<i;++a)if(l=u,u=h,h=sm(t,a+1),!!u){if(h){const f=h[e]-u[e];s[a]=f!==0?(h[n]-u[n])/f:0}r[a]=l?h?nm(s[a-1])!==nm(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}JJ(t,s,r),eee(t,r,e)}function Ev(t,e,n){return Math.max(Math.min(t,n),e)}function nee(t,e){let n,i,s,r,a,l=_0(t[0],e);for(n=0,i=t.length;n<i;++n)a=r,r=l,l=n<i-1&&_0(t[n+1],e),r&&(s=t[n],a&&(s.cp1x=Ev(s.cp1x,e.left,e.right),s.cp1y=Ev(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=Ev(s.cp2x,e.left,e.right),s.cp2y=Ev(s.cp2y,e.top,e.bottom)))}function iee(t,e,n,i,s){let r,a,l,u;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")tee(t,s);else{let h=i?t[t.length-1]:t[0];for(r=0,a=t.length;r<a;++r)l=t[r],u=ZJ(h,l,t[Math.min(r+1,a-(i?0:1))%a],e.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,h=l}e.capBezierPoints&&nee(t,n)}function gA(){return typeof window<"u"&&typeof document<"u"}function yA(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function G1(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const o2=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function see(t,e){return o2(t).getPropertyValue(e)}const ree=["top","right","bottom","left"];function vf(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=ree[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const aee=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function oee(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let a=!1,l,u;if(aee(s,r,t.target))l=s,u=r;else{const h=e.getBoundingClientRect();l=i.clientX-h.left,u=i.clientY-h.top,a=!0}return{x:l,y:u,box:a}}function sf(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=o2(n),r=s.boxSizing==="border-box",a=vf(s,"padding"),l=vf(s,"border","width"),{x:u,y:h,box:f}=oee(t,n),p=a.left+(f&&l.left),g=a.top+(f&&l.top);let{width:y,height:x}=e;return r&&(y-=a.width+l.width,x-=a.height+l.height),{x:Math.round((u-p)/y*n.width/i),y:Math.round((h-g)/x*n.height/i)}}function lee(t,e,n){let i,s;if(e===void 0||n===void 0){const r=t&&yA(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const a=r.getBoundingClientRect(),l=o2(r),u=vf(l,"border","width"),h=vf(l,"padding");e=a.width-h.width-u.width,n=a.height-h.height-u.height,i=G1(l.maxWidth,r,"clientWidth"),s=G1(l.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||W1,maxHeight:s||W1}}const Cv=t=>Math.round(t*10)/10;function uee(t,e,n,i){const s=o2(t),r=vf(s,"margin"),a=G1(s.maxWidth,t,"clientWidth")||W1,l=G1(s.maxHeight,t,"clientHeight")||W1,u=lee(t,e,n);let{width:h,height:f}=u;if(s.boxSizing==="content-box"){const g=vf(s,"border","width"),y=vf(s,"padding");h-=y.width+g.width,f-=y.height+g.height}return h=Math.max(0,h-r.width),f=Math.max(0,i?h/i:f-r.height),h=Cv(Math.min(h,a,u.maxWidth)),f=Cv(Math.min(f,l,u.maxHeight)),h&&!f&&(f=Cv(h/2)),(e!==void 0||n!==void 0)&&i&&u.height&&f>u.height&&(f=u.height,h=Cv(Math.floor(f*i))),{width:h,height:f}}function J3(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==s||a.width!==r?(t.currentDevicePixelRatio=i,a.height=s,a.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const cee=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};gA()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function eN(t,e){const n=see(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function rf(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function hee(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function dee(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},a=rf(t,s,n),l=rf(s,r,n),u=rf(r,e,n),h=rf(a,l,n),f=rf(l,u,n);return rf(h,f,n)}const fee=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},pee=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Gp(t,e,n){return t?fee(e,n):pee()}function OD(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function jD(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function FD(t){return t==="angle"?{between:aA,compare:pJ,normalize:yl}:{between:Zh,compare:(e,n)=>e-n,normalize:e=>e}}function tN({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function mee(t,e,n){const{property:i,start:s,end:r}=n,{between:a,normalize:l}=FD(i),u=e.length;let{start:h,end:f,loop:p}=t,g,y;if(p){for(h+=u,f+=u,g=0,y=u;g<y&&a(l(e[h%u][i]),s,r);++g)h--,f--;h%=u,f%=u}return f<h&&(f+=u),{start:h,end:f,loop:p,style:t.style}}function gee(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,a=e.length,{compare:l,between:u,normalize:h}=FD(i),{start:f,end:p,loop:g,style:y}=mee(t,e,n),x=[];let A=!1,T=null,E,k,O;const B=()=>u(s,O,E)&&l(s,O)!==0,V=()=>l(r,E)===0||u(r,O,E),Y=()=>A||B(),I=()=>!A||V();for(let P=f,F=f;P<=p;++P)k=e[P%a],!k.skip&&(E=h(k[i]),E!==O&&(A=u(E,s,r),T===null&&Y()&&(T=l(E,s)===0?P:F),T!==null&&I()&&(x.push(tN({start:T,end:P,loop:g,count:a,style:y})),T=null),F=P,O=E));return T!==null&&x.push(tN({start:T,end:p,loop:g,count:a,style:y})),x}function yee(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=gee(i[s],t.points,e);r.length&&n.push(...r)}return n}function vee(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function bee(t,e,n,i){const s=t.length,r=[];let a=e,l=t[e],u;for(u=e+1;u<=n;++u){const h=t[u%s];h.skip||h.stop?l.skip||(i=!1,r.push({start:e%s,end:(u-1)%s,loop:i}),e=a=h.stop?u:null):(a=u,l.skip&&(e=u)),l=h}return a!==null&&r.push({start:e%s,end:a%s,loop:i}),r}function wee(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:a,end:l}=vee(n,s,r,i);if(i===!0)return nN(t,[{start:a,end:l,loop:r}],n,e);const u=l<a?l+s:l,h=!!t._fullLoop&&a===0&&l===s-1;return nN(t,bee(n,a,u,h),n,e)}function nN(t,e,n,i){return!i||!i.setContext||!n?e:xee(t,e,n,i)}function xee(t,e,n,i){const s=t._chart.getContext(),r=iN(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,u=n.length,h=[];let f=r,p=e[0].start,g=p;function y(x,A,T,E){const k=l?-1:1;if(x!==A){for(x+=u;n[x%u].skip;)x-=k;for(;n[A%u].skip;)A+=k;x%u!==A%u&&(h.push({start:x%u,end:A%u,loop:T,style:E}),f=E,p=A%u)}}for(const x of e){p=l?p:x.start;let A=n[p%u],T;for(g=p+1;g<=x.end;g++){const E=n[g%u];T=iN(i.setContext(Of(s,{type:"segment",p0:A,p1:E,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:a}))),_ee(T,f)&&y(p,g-1,x.loop,f),A=E,f=T}p<g-1&&y(p,g-1,x.loop,f)}return h}function iN(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function _ee(t,e){if(!e)return!1;const n=[],i=function(s,r){return uA(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Nv(t,e,n){return t.options.clip?t[n]:e[n]}function See(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Nv(n,e,"left"),right:Nv(n,e,"right"),top:Nv(i,e,"top"),bottom:Nv(i,e,"bottom")}:e}function Aee(t,e){const n=e._clip;if(n.disabled)return!1;const i=See(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Tee{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],a=n.duration;r.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=TD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let a=r.length-1,l=!1,u;for(;a>=0;--a)u=r[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),l=!0):(r[a]=r[r.length-1],r.pop());l&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var bc=new Tee;const sN="transparent",Eee={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Y3(t||sN),s=i.valid&&Y3(e||sN);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Cee{constructor(e,n,i,s){const r=n[i];s=Tv([e.to,s,r,e.from]);const a=Tv([e.from,r,s]);this._active=!0,this._fn=e.fn||Eee[e.type||typeof a],this._easing=Kg[e.easing]||Kg.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Tv([e.to,n,s,e.from]),this._from=Tv([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,a=this._loop,l=this._to;let u;if(this._active=r!==l&&(a||n<i),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=r;return}u=n/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(r,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class VD{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!$n(e))return;const n=Object.keys(Cs.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!$n(r))return;const a={};for(const l of n)a[l]=r[l];(ar(r.properties)&&r.properties||[s]).forEach(l=>{(l===s||!i.has(l))&&i.set(l,a)})})}_animateOptions(e,n){const i=n.options,s=Lee(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&Nee(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let u;for(u=a.length-1;u>=0;--u){const h=a[u];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(e,n));continue}const f=n[h];let p=r[h];const g=i.get(h);if(p)if(g&&p.active()){p.update(g,f,l);continue}else p.cancel();if(!g||!g.duration){e[h]=f;continue}r[h]=p=new Cee(g,e,h,f),s.push(p)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return bc.add(this._chart,i),!0}}function Nee(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function Lee(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function rN(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function kee(t,e,n){if(n===!1)return!1;const i=rN(t,n),s=rN(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Pee(t){let e,n,i,s;return $n(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function UD(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function aN(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let a,l,u,h;if(e===null)return;let f=!1;for(a=0,l=s.length;a<l;++a){if(u=+s[a],u===n){if(f=!0,i.all)continue;break}h=t.values[u],jo(h)&&(r||e===0||nm(e)===nm(h))&&(e+=h)}return!f&&!i.all?0:e}function Ree(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let u,h,f;for(u=0,h=a.length;u<h;++u)f=a[u],l[u]={[s]:f,[r]:t[f]};return l}function lx(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Mee(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Iee(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function Dee(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function oN(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function lN(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:a,index:l}=i,u=r.axis,h=a.axis,f=Mee(r,a,i),p=e.length;let g;for(let y=0;y<p;++y){const x=e[y],{[u]:A,[h]:T}=x,E=x._stacks||(x._stacks={});g=E[h]=Dee(s,f,A),g[l]=T,g._top=oN(g,a,!0,i.type),g._bottom=oN(g,a,!1,i.type);const k=g._visualValues||(g._visualValues={});k[l]=T}}function ux(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function Oee(t,e){return Of(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function jee(t,e,n){return Of(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function vg(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const cx=t=>t==="reset"||t==="none",uN=(t,e)=>e?t:Object.assign({},t),Fee=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:UD(n,!0),values:null};class Vee{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=lx(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&vg(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(p,g,y,x)=>p==="x"?g:p==="r"?x:y,r=n.xAxisID=Nn(i.xAxisID,ux(e,"x")),a=n.yAxisID=Nn(i.yAxisID,ux(e,"y")),l=n.rAxisID=Nn(i.rAxisID,ux(e,"r")),u=n.indexAxis,h=n.iAxisID=s(u,r,a,l),f=n.vAxisID=s(u,a,r,l);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&H3(this._data,this),e._stacked&&vg(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if($n(n)){const s=this._cachedMeta;this._data=Ree(n,s)}else if(i!==n){if(i){H3(i,this);const s=this._cachedMeta;vg(s),s._parsed=[]}n&&Object.isExtensible(n)&&vJ(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=lx(n.vScale,n),n.stack!==i.stack&&(s=!0,vg(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&(lN(this,n._parsed),n._stacked=lx(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:a}=i,l=r.axis;let u=e===0&&n===s.length?!0:i._sorted,h=e>0&&i._parsed[e-1],f,p,g;if(this._parsing===!1)i._parsed=s,i._sorted=!0,g=s;else{ar(s[e])?g=this.parseArrayData(i,s,e,n):$n(s[e])?g=this.parseObjectData(i,s,e,n):g=this.parsePrimitiveData(i,s,e,n);const y=()=>p[l]===null||h&&p[l]<h[l];for(f=0;f<n;++f)i._parsed[f+e]=p=g[f],u&&(y()&&(u=!1),h=p);i._sorted=u}a&&lN(this,g)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:a}=e,l=r.axis,u=a.axis,h=r.getLabels(),f=r===a,p=new Array(s);let g,y,x;for(g=0,y=s;g<y;++g)x=g+i,p[g]={[l]:f||r.parse(h[x],x),[u]:a.parse(n[x],x)};return p}parseArrayData(e,n,i,s){const{xScale:r,yScale:a}=e,l=new Array(s);let u,h,f,p;for(u=0,h=s;u<h;++u)f=u+i,p=n[f],l[u]={x:r.parse(p[0],f),y:a.parse(p[1],f)};return l}parseObjectData(e,n,i,s){const{xScale:r,yScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,h=new Array(s);let f,p,g,y;for(f=0,p=s;f<p;++f)g=f+i,y=n[g],h[f]={x:r.parse(q1(y,l),g),y:a.parse(q1(y,u),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,a=n[e.axis],l={keys:UD(s,!0),values:n._stacks[e.axis]._visualValues};return aN(l,a,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let a=r===null?NaN:r;const l=s&&i._stacks[n.axis];s&&l&&(s.values=l,a=aN(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,a=s.length,l=this._getOtherScale(e),u=Fee(n,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=Iee(l);let g,y;function x(){y=s[g];const A=y[l.axis];return!jo(y[e.axis])||f>A||p<A}for(g=0;g<a&&!(!x()&&(this.updateRangeFromParsed(h,e,y,u),r));++g);if(r){for(g=a-1;g>=0;--g)if(!x()){this.updateRangeFromParsed(h,e,y,u);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,a;for(s=0,r=n.length;s<r;++s)a=n[s][e.axis],jo(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Pee(Nn(this.options.clip,kee(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||s.length-l,h=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(e,r,l,u),f=l;f<l+u;++f){const p=s[f];p.hidden||(p.active&&h?a.push(p):p.draw(e,r))}for(f=0;f<a.length;++f)a[f].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=jee(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Oee(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,a=e+"-"+n,l=r[a],u=this.enableOptionSharing&&H1(i);if(l)return uN(l,u);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,e),p=s?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),f),y=Object.keys(Cs.elements[e]),x=()=>this.getContext(i,s,n),A=h.resolveNamedOptions(g,y,x,p);return A.$shared&&(A.$shared=u,r[a]=Object.freeze(uN(A,u))),A}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,a=`animation-${n}`,l=r[a];if(l)return l;let u;if(s.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),p);u=f.createResolver(g,this.getContext(e,i,n))}const h=new VD(s,u&&u.animations);return u&&u._cacheable&&(r[a]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||cx(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:a}}updateElement(e,n,i,s){cx(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!cx(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[l,u,h]of this._syncList)this[l](u,h);this._syncList=[];const s=i.length,r=n.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,a=e+n;let l;const u=h=>{for(h.length+=n,l=h.length-1;l>=a;l--)h[l]=h[l-n]};for(u(r),l=e;l<a;++l)r[l]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&vg(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Zd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class vA{static override(e){Object.assign(vA.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Zd()}parse(){return Zd()}format(){return Zd()}add(){return Zd()}diff(){return Zd()}startOf(){return Zd()}endOf(){return Zd()}}var Uee={_date:vA};function Bee(t,e,n,i){const{controller:s,data:r,_sorted:a}=t,l=s._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&r.length){const h=l._reversePixels?gJ:U_;if(i){if(s._sharedOptions){const f=r[0],p=typeof f.getRange=="function"&&f.getRange(e);if(p){const g=h(r,e,n-p),y=h(r,e,n+p);return{lo:g.lo,hi:y.hi}}}}else{const f=h(r,e,n);if(u){const{vScale:p}=s._cachedMeta,{_parsed:g}=t,y=g.slice(0,f.lo+1).reverse().findIndex(A=>!Wi(A[p.axis]));f.lo-=Math.max(0,y);const x=g.slice(f.hi).findIndex(A=>!Wi(A[p.axis]));f.hi+=Math.max(0,x)}return f}}return{lo:0,hi:r.length-1}}function l2(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,u=r.length;l<u;++l){const{index:h,data:f}=r[l],{lo:p,hi:g}=Bee(r[l],e,a,s);for(let y=p;y<=g;++y){const x=f[y];x.skip||i(x,h,y)}}}function zee(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,a=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function hx(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||l2(t,n,e,function(l,u,h){!s&&!_0(l,t.chartArea,0)||l.inRange(e.x,e.y,i)&&r.push({element:l,datasetIndex:u,index:h})},!0),r}function qee(t,e,n,i){let s=[];function r(a,l,u){const{startAngle:h,endAngle:f}=a.getProps(["startAngle","endAngle"],i),{angle:p}=SD(a,{x:e.x,y:e.y});aA(p,h,f)&&s.push({element:a,datasetIndex:l,index:u})}return l2(t,n,e,r),s}function Hee(t,e,n,i,s,r){let a=[];const l=zee(n);let u=Number.POSITIVE_INFINITY;function h(f,p,g){const y=f.inRange(e.x,e.y,s);if(i&&!y)return;const x=f.getCenterPoint(s);if(!(!!r||t.isPointInArea(x))&&!y)return;const T=l(e,x);T<u?(a=[{element:f,datasetIndex:p,index:g}],u=T):T===u&&a.push({element:f,datasetIndex:p,index:g})}return l2(t,n,e,h),a}function dx(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?qee(t,e,n,s):Hee(t,e,n,i,s,r)}function cN(t,e,n,i,s){const r=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return l2(t,n,e,(u,h,f)=>{u[a]&&u[a](e[n],s)&&(r.push({element:u,datasetIndex:h,index:f}),l=l||u.inRange(e.x,e.y,s))}),i&&!l?[]:r}var Wee={modes:{index(t,e,n,i){const s=sf(e,t),r=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?hx(t,s,r,i,a):dx(t,s,r,!1,i,a),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const f=l[0].index,p=h.data[f];p&&!p.skip&&u.push({element:p,datasetIndex:h.index,index:f})}),u):[]},dataset(t,e,n,i){const s=sf(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?hx(t,s,r,i,a):dx(t,s,r,!1,i,a);if(l.length>0){const u=l[0].datasetIndex,h=t.getDatasetMeta(u).data;l=[];for(let f=0;f<h.length;++f)l.push({element:h[f],datasetIndex:u,index:f})}return l},point(t,e,n,i){const s=sf(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return hx(t,s,r,i,a)},nearest(t,e,n,i){const s=sf(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return dx(t,s,r,n.intersect,i,a)},x(t,e,n,i){const s=sf(e,t);return cN(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=sf(e,t);return cN(t,s,"y",n.intersect,i)}}};const BD=["left","top","right","bottom"];function bg(t,e){return t.filter(n=>n.pos===e)}function hN(t,e){return t.filter(n=>BD.indexOf(n.pos)===-1&&n.box.axis===e)}function wg(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function $ee(t){const e=[];let n,i,s,r,a,l;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:a,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&r+a,stackWeight:l});return e}function Yee(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!BD.includes(s))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function Gee(t,e){const n=Yee(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,a,l;for(r=0,a=t.length;r<a;++r){l=t[r];const{fullSize:u}=l.box,h=n[l.stack],f=h&&l.stackWeight/h.weight;l.horizontal?(l.width=f?f*i:u&&e.availableWidth,l.height=s):(l.width=i,l.height=f?f*s:u&&e.availableHeight)}return n}function Kee(t){const e=$ee(t),n=wg(e.filter(h=>h.box.fullSize),!0),i=wg(bg(e,"left"),!0),s=wg(bg(e,"right")),r=wg(bg(e,"top"),!0),a=wg(bg(e,"bottom")),l=hN(e,"x"),u=hN(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(u).concat(a).concat(l),chartArea:bg(e,"chartArea"),vertical:i.concat(s).concat(u),horizontal:r.concat(a).concat(l)}}function dN(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function zD(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Xee(t,e,n,i){const{pos:s,box:r}=n,a=t.maxPadding;if(!$n(s)){n.size&&(t[s]-=n.size);const p=i[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?r.height:r.width),n.size=p.size/p.count,t[s]+=n.size}r.getPadding&&zD(a,r.getPadding());const l=Math.max(0,e.outerWidth-dN(a,t,"left","right")),u=Math.max(0,e.outerHeight-dN(a,t,"top","bottom")),h=l!==t.w,f=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:h,other:f}:{same:f,other:h}}function Qee(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Zee(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{r[a]=Math.max(e[a],n[a])}),r}return i(t?["left","right"]:["top","bottom"])}function Mg(t,e,n,i){const s=[];let r,a,l,u,h,f;for(r=0,a=t.length,h=0;r<a;++r){l=t[r],u=l.box,u.update(l.width||e.w,l.height||e.h,Zee(l.horizontal,e));const{same:p,other:g}=Xee(e,n,l,i);h|=p&&s.length,f=f||g,u.fullSize||s.push(l)}return h&&Mg(s,e,n,i)||f}function Lv(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function fN(t,e,n,i){const s=n.padding;let{x:r,y:a}=e;for(const l of t){const u=l.box,h=i[l.stack]||{placed:0,weight:1},f=l.stackWeight/h.weight||1;if(l.horizontal){const p=e.w*f,g=h.size||u.height;H1(h.start)&&(a=h.start),u.fullSize?Lv(u,s.left,a,n.outerWidth-s.right-s.left,g):Lv(u,e.left+h.placed,a,p,g),h.start=a,h.placed+=p,a=u.bottom}else{const p=e.h*f,g=h.size||u.width;H1(h.start)&&(r=h.start),u.fullSize?Lv(u,r,s.top,g,n.outerHeight-s.bottom-s.top):Lv(u,r,e.top+h.placed,g,p),h.start=r,h.placed+=p,r=u.right}}e.x=r,e.y=a}var Mo={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=Fo(t.options.layout.padding),r=Math.max(e-s.width,0),a=Math.max(n-s.height,0),l=Kee(t.boxes),u=l.vertical,h=l.horizontal;ai(t.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const f=u.reduce((A,T)=>T.box.options&&T.box.options.display===!1?A:A+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/f,hBoxMaxHeight:a/2}),g=Object.assign({},s);zD(g,Fo(i));const y=Object.assign({maxPadding:g,w:r,h:a,x:s.left,y:s.top},s),x=Gee(u.concat(h),p);Mg(l.fullSize,y,p,x),Mg(u,y,p,x),Mg(h,y,p,x)&&Mg(u,y,p,x),Qee(y),fN(l.leftAndTop,y,p,x),y.x+=y.w,y.y+=y.h,fN(l.rightAndBottom,y,p,x),t.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},ai(l.chartArea,A=>{const T=A.box;Object.assign(T,t.chartArea),T.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class qD{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class Jee extends qD{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const r1="$chartjs",ete={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},pN=t=>t===null||t==="";function tte(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[r1]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",pN(s)){const r=eN(t,"width");r!==void 0&&(t.width=r)}if(pN(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=eN(t,"height");r!==void 0&&(t.height=r)}return t}const HD=cee?{passive:!0}:!1;function nte(t,e,n){t&&t.addEventListener(e,n,HD)}function ite(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,HD)}function ste(t,e){const n=ete[t.type]||t.type,{x:i,y:s}=sf(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function K1(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function rte(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||K1(l.addedNodes,i),a=a&&!K1(l.removedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function ate(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||K1(l.removedNodes,i),a=a&&!K1(l.addedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const A0=new Map;let mN=0;function WD(){const t=window.devicePixelRatio;t!==mN&&(mN=t,A0.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function ote(t,e){A0.size||window.addEventListener("resize",WD),A0.set(t,e)}function lte(t){A0.delete(t),A0.size||window.removeEventListener("resize",WD)}function ute(t,e,n){const i=t.canvas,s=i&&yA(i);if(!s)return;const r=ED((l,u)=>{const h=s.clientWidth;n(l,u),h<s.clientWidth&&n()},window),a=new ResizeObserver(l=>{const u=l[0],h=u.contentRect.width,f=u.contentRect.height;h===0&&f===0||r(h,f)});return a.observe(s),ote(t,r),a}function fx(t,e,n){n&&n.disconnect(),e==="resize"&&lte(t)}function cte(t,e,n){const i=t.canvas,s=ED(r=>{t.ctx!==null&&n(ste(r,t))},t);return nte(i,e,s),s}class hte extends qD{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(tte(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[r1])return!1;const i=n[r1].initial;["height","width"].forEach(r=>{const a=i[r];Wi(a)?n.removeAttribute(r):n.setAttribute(r,a)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[r1],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:rte,detach:ate,resize:ute}[n]||cte;s[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:fx,detach:fx,resize:fx}[n]||ite)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return uee(e,n,i,s)}isAttached(e){const n=e&&yA(e);return!!(n&&n.isConnected)}}function dte(t){return!gA()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Jee:hte}let Zc=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return $1(this.x)&&$1(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}};function fte(t,e){const n=t.options.ticks,i=pte(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?gte(e):[],a=r.length,l=r[0],u=r[a-1],h=[];if(a>s)return yte(e,h,r,a/s),h;const f=mte(r,e,s);if(a>0){let p,g;const y=a>1?Math.round((u-l)/(a-1)):null;for(kv(e,h,f,Wi(y)?0:l-y,l),p=0,g=a-1;p<g;p++)kv(e,h,f,r[p],r[p+1]);return kv(e,h,f,u,Wi(y)?e.length:u+y),h}return kv(e,h,f),h}function pte(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function mte(t,e,n){const i=vte(t),s=e.length/n;if(!i)return Math.max(s,1);const r=uJ(i);for(let a=0,l=r.length-1;a<l;a++){const u=r[a];if(u>s)return u}return Math.max(s,1)}function gte(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function yte(t,e,n,i){let s=0,r=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===r&&(e.push(t[a]),s++,r=n[s*i])}function kv(t,e,n,i,s){const r=Nn(i,0),a=Math.min(Nn(s,t.length),t.length);let l=0,u,h,f;for(n=Math.ceil(n),s&&(u=s-i,n=u/Math.floor(u/n)),f=r;f<0;)l++,f=Math.round(r+l*n);for(h=Math.max(r,0);h<a;h++)h===f&&(e.push(t[h]),l++,f=Math.round(r+l*n))}function vte(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const bte=t=>t==="left"?"right":t==="right"?"left":t,gN=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,yN=(t,e)=>Math.min(e||t,t);function vN(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function wte(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,a=t._endPixel,l=1e-6;let u=t.getPixelForTick(s),h;if(!(n&&(i===1?h=Math.max(u-r,a-u):e===0?h=(t.getPixelForTick(1)-u)/2:h=(u-t.getPixelForTick(s-1))/2,u+=s<e?h:-h,u<r-l||u>a+l)))return u}function xte(t,e){ai(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function xg(t){return t.drawTicks?t.tickLength:0}function bN(t,e){if(!t.display)return 0;const n=zr(t.font,e),i=Fo(t.padding);return(ar(t.text)?t.text.length:1)*n.lineHeight+i.height}function _te(t,e){return Of(t,{scale:e,type:"scale"})}function Ste(t,e,n){return Of(t,{tick:n,index:e,type:"tick"})}function Ate(t,e,n){let i=lA(t);return(n&&e!=="right"||!n&&e==="right")&&(i=bte(i)),i}function Tte(t,e,n,i){const{top:s,left:r,bottom:a,right:l,chart:u}=t,{chartArea:h,scales:f}=u;let p=0,g,y,x;const A=a-s,T=l-r;if(t.isHorizontal()){if(y=Fr(i,r,l),$n(n)){const E=Object.keys(n)[0],k=n[E];x=f[E].getPixelForValue(k)+A-e}else n==="center"?x=(h.bottom+h.top)/2+A-e:x=gN(t,n,e);g=l-r}else{if($n(n)){const E=Object.keys(n)[0],k=n[E];y=f[E].getPixelForValue(k)-T+e}else n==="center"?y=(h.left+h.right)/2-T+e:y=gN(t,n,e);x=Fr(i,a,s),p=n==="left"?-br:br}return{titleX:y,titleY:x,maxWidth:g,rotation:p}}class wm extends Zc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=cu(e,Number.POSITIVE_INFINITY),n=cu(n,Number.NEGATIVE_INFINITY),i=cu(i,Number.POSITIVE_INFINITY),s=cu(s,Number.NEGATIVE_INFINITY),{min:cu(e,i),max:cu(n,s),minDefined:jo(e),maxDefined:jo(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),a;if(s&&r)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let u=0,h=l.length;u<h;++u)a=l[u].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),r||(i=Math.max(i,a.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:cu(n,cu(i,n)),max:cu(i,cu(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ti(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=BJ(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?vN(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=fte(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ti(this.options.afterUpdate,[this])}beforeSetDimensions(){Ti(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ti(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ti(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ti(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=Ti(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){Ti(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ti(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=yN(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let a=s,l,u,h;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),p=f.widest.width,g=f.highest.height,y=Aa(this.chart.width-p,0,this.maxWidth);l=e.offset?this.maxWidth/i:y/(i-1),p+6>l&&(l=y/(i-(e.offset?.5:1)),u=this.maxHeight-xg(e.grid)-n.padding-bN(e.title,this.chart.options.font),h=Math.sqrt(p*p+g*g),a=fJ(Math.min(Math.asin(Aa((f.highest.height+6)/l,-1,1)),Math.asin(Aa(u/h,-1,1))-Math.asin(Aa(g/h,-1,1)))),a=Math.max(s,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ti(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ti(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const u=bN(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=xg(r)+u):(e.height=this.maxHeight,e.width=xg(r)+u),i.display&&this.ticks.length){const{first:h,last:f,widest:p,highest:g}=this._getLabelSizes(),y=i.padding*2,x=cf(this.labelRotation),A=Math.cos(x),T=Math.sin(x);if(l){const E=i.mirror?0:T*p.width+A*g.height;e.height=Math.min(this.maxHeight,e.height+E+y)}else{const E=i.mirror?0:A*p.width+T*g.height;e.width=Math.min(this.maxWidth,e.width+E+y)}this._calculatePadding(h,f,T,A)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:a},position:l}=this.options,u=this.labelRotation!==0,h=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;u?h?(g=s*e.width,y=i*n.height):(g=i*e.height,y=s*n.width):r==="start"?y=n.width:r==="end"?g=e.width:r!=="inner"&&(g=e.width/2,y=n.width/2),this.paddingLeft=Math.max((g-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-p+a)*this.width/(this.width-p),0)}else{let f=n.height/2,p=e.height/2;r==="start"?(f=0,p=e.height):r==="end"&&(f=n.height,p=0),this.paddingTop=f+a,this.paddingBottom=p+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ti(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Wi(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=vN(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,a=[],l=[],u=Math.floor(n/yN(n,i));let h=0,f=0,p,g,y,x,A,T,E,k,O,B,V;for(p=0;p<n;p+=u){if(x=e[p].label,A=this._resolveTickFontOptions(p),s.font=T=A.string,E=r[T]=r[T]||{data:{},gc:[]},k=A.lineHeight,O=B=0,!Wi(x)&&!ar(x))O=K3(s,E.data,E.gc,O,x),B=k;else if(ar(x))for(g=0,y=x.length;g<y;++g)V=x[g],!Wi(V)&&!ar(V)&&(O=K3(s,E.data,E.gc,O,V),B+=k);a.push(O),l.push(B),h=Math.max(O,h),f=Math.max(B,f)}xte(r,n);const Y=a.indexOf(h),I=l.indexOf(f),P=F=>({width:a[F]||0,height:l[F]||0});return{first:P(0),last:P(n-1),widest:P(Y),highest:P(I),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return mJ(this._alignToPixels?Qd(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=Ste(this.getContext(),e,i))}return this.$context||(this.$context=_te(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=cf(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,l=r?r.widest.width+a:0,u=r?r.highest.height+a:0;return this.isHorizontal()?u*i>l*s?l/i:u/s:u*s<l*i?u/i:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:a,border:l}=s,u=r.offset,h=this.isHorizontal(),p=this.ticks.length+(u?1:0),g=xg(r),y=[],x=l.setContext(this.getContext()),A=x.display?x.width:0,T=A/2,E=function(ae){return Qd(i,ae,A)};let k,O,B,V,Y,I,P,F,H,M,j,z;if(a==="top")k=E(this.bottom),I=this.bottom-g,F=k-T,M=E(e.top)+T,z=e.bottom;else if(a==="bottom")k=E(this.top),M=e.top,z=E(e.bottom)-T,I=k+T,F=this.top+g;else if(a==="left")k=E(this.right),Y=this.right-g,P=k-T,H=E(e.left)+T,j=e.right;else if(a==="right")k=E(this.left),H=e.left,j=E(e.right)-T,Y=k+T,P=this.left+g;else if(n==="x"){if(a==="center")k=E((e.top+e.bottom)/2+.5);else if($n(a)){const ae=Object.keys(a)[0],ue=a[ae];k=E(this.chart.scales[ae].getPixelForValue(ue))}M=e.top,z=e.bottom,I=k+T,F=I+g}else if(n==="y"){if(a==="center")k=E((e.left+e.right)/2);else if($n(a)){const ae=Object.keys(a)[0],ue=a[ae];k=E(this.chart.scales[ae].getPixelForValue(ue))}Y=k-T,P=Y-g,H=e.left,j=e.right}const te=Nn(s.ticks.maxTicksLimit,p),pe=Math.max(1,Math.ceil(p/te));for(O=0;O<p;O+=pe){const ae=this.getContext(O),ue=r.setContext(ae),ce=l.setContext(ae),ye=ue.lineWidth,Z=ue.color,be=ce.dash||[],W=ce.dashOffset,X=ue.tickWidth,re=ue.tickColor,ee=ue.tickBorderDash||[],he=ue.tickBorderDashOffset;B=wte(this,O,u),B!==void 0&&(V=Qd(i,B,ye),h?Y=P=H=j=V:I=F=M=z=V,y.push({tx1:Y,ty1:I,tx2:P,ty2:F,x1:H,y1:M,x2:j,y2:z,width:ye,color:Z,borderDash:be,borderDashOffset:W,tickWidth:X,tickColor:re,tickBorderDash:ee,tickBorderDashOffset:he}))}return this._ticksLength=p,this._borderValue=k,y}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,a=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:h,padding:f,mirror:p}=r,g=xg(i.grid),y=g+f,x=p?-f:y,A=-cf(this.labelRotation),T=[];let E,k,O,B,V,Y,I,P,F,H,M,j,z="middle";if(s==="top")Y=this.bottom-x,I=this._getXAxisLabelAlignment();else if(s==="bottom")Y=this.top+x,I=this._getXAxisLabelAlignment();else if(s==="left"){const pe=this._getYAxisLabelAlignment(g);I=pe.textAlign,V=pe.x}else if(s==="right"){const pe=this._getYAxisLabelAlignment(g);I=pe.textAlign,V=pe.x}else if(n==="x"){if(s==="center")Y=(e.top+e.bottom)/2+y;else if($n(s)){const pe=Object.keys(s)[0],ae=s[pe];Y=this.chart.scales[pe].getPixelForValue(ae)+y}I=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")V=(e.left+e.right)/2-y;else if($n(s)){const pe=Object.keys(s)[0],ae=s[pe];V=this.chart.scales[pe].getPixelForValue(ae)}I=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?z="top":u==="end"&&(z="bottom"));const te=this._getLabelSizes();for(E=0,k=l.length;E<k;++E){O=l[E],B=O.label;const pe=r.setContext(this.getContext(E));P=this.getPixelForTick(E)+r.labelOffset,F=this._resolveTickFontOptions(E),H=F.lineHeight,M=ar(B)?B.length:1;const ae=M/2,ue=pe.color,ce=pe.textStrokeColor,ye=pe.textStrokeWidth;let Z=I;a?(V=P,I==="inner"&&(E===k-1?Z=this.options.reverse?"left":"right":E===0?Z=this.options.reverse?"right":"left":Z="center"),s==="top"?h==="near"||A!==0?j=-M*H+H/2:h==="center"?j=-te.highest.height/2-ae*H+H:j=-te.highest.height+H/2:h==="near"||A!==0?j=H/2:h==="center"?j=te.highest.height/2-ae*H:j=te.highest.height-M*H,p&&(j*=-1),A!==0&&!pe.showLabelBackdrop&&(V+=H/2*Math.sin(A))):(Y=P,j=(1-M)*H/2);let be;if(pe.showLabelBackdrop){const W=Fo(pe.backdropPadding),X=te.heights[E],re=te.widths[E];let ee=j-W.top,he=0-W.left;switch(z){case"middle":ee-=X/2;break;case"bottom":ee-=X;break}switch(I){case"center":he-=re/2;break;case"right":he-=re;break;case"inner":E===k-1?he-=re:E>0&&(he-=re/2);break}be={left:he,top:ee,width:re+W.width,height:X+W.height,color:pe.backdropColor}}T.push({label:B,font:F,textOffset:j,options:{rotation:A,color:ue,strokeColor:ce,strokeWidth:ye,textAlign:Z,textBaseline:z,translation:[V,Y],backdrop:be}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-cf(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,a=this._getLabelSizes(),l=e+r,u=a.widest.width;let h,f;return n==="left"?s?(f=this.right+r,i==="near"?h="left":i==="center"?(h="center",f+=u/2):(h="right",f+=u)):(f=this.right-l,i==="near"?h="right":i==="center"?(h="center",f-=u/2):(h="left",f=this.left)):n==="right"?s?(f=this.left+r,i==="near"?h="right":i==="center"?(h="center",f-=u/2):(h="left",f-=u)):(f=this.left+l,i==="near"?h="left":i==="center"?(h="center",f+=u/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const l=(u,h,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(n.display)for(r=0,a=s.length;r<a;++r){const u=s[r];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),a=i.display?r.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,f,p,g;this.isHorizontal()?(h=Qd(e,this.left,a)-a/2,f=Qd(e,this.right,l)+l/2,p=g=u):(p=Qd(e,this.top,a)-a/2,g=Qd(e,this.bottom,l)+l/2,h=f=u),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(h,p),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&cA(i,s);const r=this.getLabelItems(e);for(const a of r){const l=a.options,u=a.font,h=a.label,f=a.textOffset;S0(i,h,0,f,u,l)}s&&hA(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=zr(i.font),a=Fo(i.padding),l=i.align;let u=r.lineHeight/2;n==="bottom"||n==="center"||$n(n)?(u+=a.bottom,ar(i.text)&&(u+=r.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:h,titleY:f,maxWidth:p,rotation:g}=Tte(this,u,n,l);S0(e,i.text,0,0,r,{color:i.color,maxWidth:p,rotation:g,textAlign:Ate(l,n,s),textBaseline:"middle",translation:[h,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Nn(e.grid&&e.grid.z,-1),s=Nn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==wm.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,a;for(r=0,a=n.length;r<a;++r){const l=n[r];l[i]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return zr(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Pv{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Nte(n)&&(i=this.register(n));const s=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,Ete(e,a,i),this.override&&Cs.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in Cs[s]&&(delete Cs[s][i],this.override&&delete Lf[i])}}function Ete(t,e,n){const i=x0(Object.create(null),[n?Cs.get(n):{},Cs.get(e),t.defaults]);Cs.set(e,i),t.defaultRoutes&&Cte(e,t.defaultRoutes),t.descriptors&&Cs.describe(e,t.descriptors)}function Cte(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),a=e[n].split("."),l=a.pop(),u=a.join(".");Cs.route(r,s,u,l)})}function Nte(t){return"id"in t&&"defaults"in t}class Lte{constructor(){this.controllers=new Pv(Vee,"datasets",!0),this.elements=new Pv(Zc,"elements"),this.plugins=new Pv(Object,"plugins"),this.scales=new Pv(wm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):ai(s,a=>{const l=i||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,i){const s=rA(e);Ti(i["before"+s],[],i),n[e](i),Ti(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var pu=new Lte;class kte{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,i,s){s=s||{};for(const r of e){const a=r.plugin,l=a[i],u=[n,s,r.options];if(Ti(l,u,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Wi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=Nn(i.options&&i.options.plugins,{}),r=Pte(i);return s===!1&&!n?[]:Mte(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,a)=>r.filter(l=>!a.some(u=>l.plugin.id===u.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function Pte(t){const e={},n=[],i=Object.keys(pu.plugins.items);for(let r=0;r<i.length;r++)n.push(pu.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const a=s[r];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function Rte(t,e){return!e&&t===!1?null:t===!0?{}:t}function Mte(t,{plugins:e,localIds:n},i,s){const r=[],a=t.getContext();for(const l of e){const u=l.id,h=Rte(i[u],s);h!==null&&r.push({plugin:l,options:Ite(t.config,{plugin:l,local:n[u]},h,a)})}return r}function Ite(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),a=t.getOptionScopes(i,r);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function q_(t,e){const n=Cs.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Dte(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Ote(t,e){return t===e?"_index_":"_value_"}function wN(t){if(t==="x"||t==="y"||t==="r")return t}function jte(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function H_(t,...e){if(wN(t))return t;for(const n of e){const i=n.axis||jte(n.position)||t.length>1&&wN(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function xN(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Fte(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return xN(t,"x",n[0])||xN(t,"y",n[0])}return{}}function Vte(t,e){const n=Lf[t.type]||{scales:{}},i=e.scales||{},s=q_(t.type,e),r=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!$n(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=H_(a,l,Fte(a,t),Cs.scales[l.type]),h=Ote(u,s),f=n.scales||{};r[a]=Yg(Object.create(null),[{axis:u},l,f[u],f[h]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,u=a.indexAxis||q_(l,e),f=(Lf[l]||{}).scales||{};Object.keys(f).forEach(p=>{const g=Dte(p,u),y=a[g+"AxisID"]||g;r[y]=r[y]||Object.create(null),Yg(r[y],[{axis:g},i[y],f[p]])})}),Object.keys(r).forEach(a=>{const l=r[a];Yg(l,[Cs.scales[l.type],Cs.scale])}),r}function $D(t){const e=t.options||(t.options={});e.plugins=Nn(e.plugins,{}),e.scales=Vte(t,e)}function YD(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Ute(t){return t=t||{},t.data=YD(t.data),$D(t),t}const _N=new Map,GD=new Set;function Rv(t,e){let n=_N.get(t);return n||(n=e(),_N.set(t,n),GD.add(n)),n}const _g=(t,e,n)=>{const i=q1(e,n);i!==void 0&&t.add(i)};class Bte{constructor(e){this._config=Ute(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=YD(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),$D(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Rv(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Rv(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Rv(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Rv(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,a=this._cachedScopes(e,i),l=a.get(n);if(l)return l;const u=new Set;n.forEach(f=>{e&&(u.add(e),f.forEach(p=>_g(u,e,p))),f.forEach(p=>_g(u,s,p)),f.forEach(p=>_g(u,Lf[r]||{},p)),f.forEach(p=>_g(u,Cs,p)),f.forEach(p=>_g(u,B_,p))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),GD.has(n)&&a.set(n,h),h}chartOptionScopes(){const{options:e,type:n}=this;return[e,Lf[n]||{},Cs.datasets[n]||{},{type:n},Cs,B_]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:a,subPrefixes:l}=SN(this._resolverCache,e,s);let u=a;if(qte(a,n)){r.$shared=!1,i=gd(i)?i():i;const h=this.createResolver(e,i,l);u=im(a,i,h)}for(const h of n)r[h]=u[h];return r}createResolver(e,n,i=[""],s){const{resolver:r}=SN(this._resolverCache,e,i);return $n(n)?im(r,n,void 0,s):r}}function SN(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:fA(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,r)),r}const zte=t=>$n(t)&&Object.getOwnPropertyNames(t).some(e=>gd(t[e]));function qte(t,e){const{isScriptable:n,isIndexable:i}=PD(t);for(const s of e){const r=n(s),a=i(s),l=(a||r)&&t[s];if(r&&(gd(l)||zte(l))||a&&ar(l))return!0}return!1}var Hte="4.5.0";const Wte=["top","bottom","left","right","chartArea"];function AN(t,e){return t==="top"||t==="bottom"||Wte.indexOf(t)===-1&&e==="x"}function TN(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function EN(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ti(n&&n.onComplete,[t],e)}function $te(t){const e=t.chart,n=e.options.animation;Ti(n&&n.onProgress,[t],e)}function KD(t){return gA()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const a1={},CN=t=>{const e=KD(t);return Object.values(a1).filter(n=>n.canvas===e).pop()};function Yte(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const a=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=a)}}}function Gte(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}class u2{static defaults=Cs;static instances=a1;static overrides=Lf;static registry=pu;static version=Hte;static getChart=CN;static register(...e){pu.add(...e),NN()}static unregister(...e){pu.remove(...e),NN()}constructor(e,n){const i=this.config=new Bte(n),s=KD(e),r=CN(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||dte(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,a.aspectRatio),u=l&&l.canvas,h=u&&u.height,f=u&&u.width;if(this.id=eJ(),this.ctx=l,this.canvas=u,this.width=f,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kte,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wJ(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],a1[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}bc.listen(this,"complete",EN),bc.listen(this,"progress",$te),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return Wi(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return pu}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():J3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return X3(this.canvas,this.ctx),this}stop(){return bc.stop(this),this}resize(e,n){bc.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,r),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,J3(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Ti(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ai(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let r=[];n&&(r=r.concat(Object.keys(n).map(a=>{const l=n[a],u=H_(a,l),h=u==="r",f=u==="x";return{options:l,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),ai(r,a=>{const l=a.options,u=l.id,h=H_(u,l),f=Nn(l.type,a.dtype);(l.position===void 0||AN(l.position,h)!==AN(a.dposition))&&(l.position=a.dposition),s[u]=!0;let p=null;if(u in i&&i[u].type===f)p=i[u];else{const g=pu.getScale(f);p=new g({id:u,type:f,ctx:this.ctx,chart:this}),i[p.id]=p}p.init(l,e)}),ai(s,(a,l)=>{a||delete i[l]}),ai(i,a=>{Mo.configure(this,a,a.options),Mo.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(TN("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let a=this.getDatasetMeta(i);const l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=r.indexAxis||q_(l,this.options),a.order=r.order||0,a.index=i,a.label=""+r.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=pu.getController(l),{datasetElementType:h,dataElementType:f}=Cs.datasets[l];Object.assign(u,{dataElementType:pu.getElement(f),datasetElementType:h&&pu.getElement(h)}),a.controller=new u(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){ai(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:p}=this.getDatasetMeta(h),g=!s&&r.indexOf(p)===-1;p.buildOrUpdateElements(g),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||ai(r,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(TN("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ai(this.scales,e=>{Mo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!U3(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const a=i==="_removeElements"?-r:r;Yte(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!U3(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Mo.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ai(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,gd(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bc.has(this)?this.attached&&!bc.running(this)&&bc.start(this):(this.draw(),EN({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const a=n[s];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=Aee(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&cA(n,s),e.controller.draw(),s&&hA(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return _0(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=Wee.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Of(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,s);H1(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(r,{visible:i}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),bc.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),X3(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete a1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,a)=>{n.addEventListener(this,r,a),e[r]=a},s=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};ai(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,h)=>{n.addEventListener(this,u,h),e[u]=h},s=(u,h)=>{e[u]&&(n.removeEventListener(this,u,h),delete e[u])},r=(u,h)=>{this.canvas&&this.resize(u,h)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",r),i("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){ai(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ai(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,a,l,u;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){a=e[l];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:a})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!B1(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(u,h)=>u.filter(f=>!h.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),a=r(n,e),l=i?e:r(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,a=n,l=this._getActiveElements(e,s,i,a),u=aJ(e),h=Gte(e,this._lastEvent,i,u);i&&(this._lastEvent=null,Ti(r.onHover,[e,l,this],this),u&&Ti(r.onClick,[e,l,this],this));const f=!B1(l,s);return(f||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=h,f}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}}function NN(){return ai(u2.instances,t=>t._plugins.invalidate())}function Kte(t,e,n){const{startAngle:i,x:s,y:r,outerRadius:a,innerRadius:l,options:u}=e,{borderWidth:h,borderJoinStyle:f}=u,p=Math.min(h/a,yl(i-n));if(t.beginPath(),t.arc(s,r,a-h/2,i+p/2,n-p/2),l>0){const g=Math.min(h/l,yl(i-n));t.arc(s,r,l+h/2,n-g/2,i+g/2,!0)}else{const g=Math.min(h/2,a*yl(i-n));if(f==="round")t.arc(s,r,g,n-vi/2,i+vi/2,!0);else if(f==="bevel"){const y=2*g*g,x=-y*Math.cos(n+vi/2)+s,A=-y*Math.sin(n+vi/2)+r,T=y*Math.cos(i+vi/2)+s,E=y*Math.sin(i+vi/2)+r;t.lineTo(x,A),t.lineTo(T,E)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Xte(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:a,outerRadius:l,innerRadius:u}=e;let h=s/l;t.beginPath(),t.arc(r,a,l,i-h,n+h),u>s?(h=s/u,t.arc(r,a,u,n+h,i-h,!0)):t.arc(r,a,s,n+br,i-br),t.closePath(),t.clip()}function Qte(t){return dA(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Zte(t,e,n,i){const s=Qte(t.options.borderRadius),r=(n-e)/2,a=Math.min(r,i*e/2),l=u=>{const h=(n-Math.min(r,u))*i/2;return Aa(u,0,Math.min(r,h))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:Aa(s.innerStart,0,a),innerEnd:Aa(s.innerEnd,0,a)}}function gp(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function X1(t,e,n,i,s,r){const{x:a,y:l,startAngle:u,pixelMargin:h,innerRadius:f}=e,p=Math.max(e.outerRadius+i+n-h,0),g=f>0?f+i+n+h:0;let y=0;const x=s-u;if(i){const pe=f>0?f-i:0,ae=p>0?p-i:0,ue=(pe+ae)/2,ce=ue!==0?x*ue/(ue+i):x;y=(x-ce)/2}const A=Math.max(.001,x*p-n/vi)/p,T=(x-A)/2,E=u+T+y,k=s-T-y,{outerStart:O,outerEnd:B,innerStart:V,innerEnd:Y}=Zte(e,g,p,k-E),I=p-O,P=p-B,F=E+O/I,H=k-B/P,M=g+V,j=g+Y,z=E+V/M,te=k-Y/j;if(t.beginPath(),r){const pe=(F+H)/2;if(t.arc(a,l,p,F,pe),t.arc(a,l,p,pe,H),B>0){const ye=gp(P,H,a,l);t.arc(ye.x,ye.y,B,H,k+br)}const ae=gp(j,k,a,l);if(t.lineTo(ae.x,ae.y),Y>0){const ye=gp(j,te,a,l);t.arc(ye.x,ye.y,Y,k+br,te+Math.PI)}const ue=(k-Y/g+(E+V/g))/2;if(t.arc(a,l,g,k-Y/g,ue,!0),t.arc(a,l,g,ue,E+V/g,!0),V>0){const ye=gp(M,z,a,l);t.arc(ye.x,ye.y,V,z+Math.PI,E-br)}const ce=gp(I,E,a,l);if(t.lineTo(ce.x,ce.y),O>0){const ye=gp(I,F,a,l);t.arc(ye.x,ye.y,O,E-br,F)}}else{t.moveTo(a,l);const pe=Math.cos(F)*p+a,ae=Math.sin(F)*p+l;t.lineTo(pe,ae);const ue=Math.cos(H)*p+a,ce=Math.sin(H)*p+l;t.lineTo(ue,ce)}t.closePath()}function Jte(t,e,n,i,s){const{fullCircles:r,startAngle:a,circumference:l}=e;let u=e.endAngle;if(r){X1(t,e,n,i,u,s);for(let h=0;h<r;++h)t.fill();isNaN(l)||(u=a+(l%wr||wr))}return X1(t,e,n,i,u,s),t.fill(),u}function ene(t,e,n,i,s){const{fullCircles:r,startAngle:a,circumference:l,options:u}=e,{borderWidth:h,borderJoinStyle:f,borderDash:p,borderDashOffset:g,borderRadius:y}=u,x=u.borderAlign==="inner";if(!h)return;t.setLineDash(p||[]),t.lineDashOffset=g,x?(t.lineWidth=h*2,t.lineJoin=f||"round"):(t.lineWidth=h,t.lineJoin=f||"bevel");let A=e.endAngle;if(r){X1(t,e,n,i,A,s);for(let T=0;T<r;++T)t.stroke();isNaN(l)||(A=a+(l%wr||wr))}x&&Xte(t,e,A),u.selfJoin&&A-a>=vi&&y===0&&f!=="miter"&&Kte(t,e,A),r||(X1(t,e,n,i,A,s),t.stroke())}class tne extends Zc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.getProps(["x","y"],i),{angle:r,distance:a}=SD(s,{x:e,y:n}),{startAngle:l,endAngle:u,innerRadius:h,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,y=Nn(p,u-l),x=aA(r,l,u)&&l!==u,A=y>=wr||x,T=Zh(a,h+g,f+g);return A&&T}getCenterPoint(e){const{x:n,y:i,startAngle:s,endAngle:r,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:h}=this.options,f=(s+r)/2,p=(a+l+h+u)/2;return{x:n+Math.cos(f)*p,y:i+Math.sin(f)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,s=(n.offset||0)/4,r=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>wr?Math.floor(i/wr):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(vi,i||0)),h=s*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,Jte(e,this,h,r,a),ene(e,this,h,r,a),e.restore()}}function XD(t,e,n=e){t.lineCap=Nn(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Nn(n.borderDash,e.borderDash)),t.lineDashOffset=Nn(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Nn(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Nn(n.borderWidth,e.borderWidth),t.strokeStyle=Nn(n.borderColor,e.borderColor)}function nne(t,e,n){t.lineTo(n.x,n.y)}function ine(t){return t.stepped?RJ:t.tension||t.cubicInterpolationMode==="monotone"?MJ:nne}function QD(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:a,end:l}=e,u=Math.max(s,a),h=Math.min(r,l),f=s<a&&r<a||s>l&&r>l;return{count:i,start:u,loop:e.loop,ilen:h<u&&!f?i+h-u:h-u}}function sne(t,e,n,i){const{points:s,options:r}=e,{count:a,start:l,loop:u,ilen:h}=QD(s,n,i),f=ine(r);let{move:p=!0,reverse:g}=i||{},y,x,A;for(y=0;y<=h;++y)x=s[(l+(g?h-y:y))%a],!x.skip&&(p?(t.moveTo(x.x,x.y),p=!1):f(t,A,x,g,r.stepped),A=x);return u&&(x=s[(l+(g?h:0))%a],f(t,A,x,g,r.stepped)),!!u}function rne(t,e,n,i){const s=e.points,{count:r,start:a,ilen:l}=QD(s,n,i),{move:u=!0,reverse:h}=i||{};let f=0,p=0,g,y,x,A,T,E;const k=B=>(a+(h?l-B:B))%r,O=()=>{A!==T&&(t.lineTo(f,T),t.lineTo(f,A),t.lineTo(f,E))};for(u&&(y=s[k(0)],t.moveTo(y.x,y.y)),g=0;g<=l;++g){if(y=s[k(g)],y.skip)continue;const B=y.x,V=y.y,Y=B|0;Y===x?(V<A?A=V:V>T&&(T=V),f=(p*f+B)/++p):(O(),t.lineTo(B,V),x=Y,p=0,A=T=V),E=V}O()}function W_(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?rne:sne}function ane(t){return t.stepped?hee:t.tension||t.cubicInterpolationMode==="monotone"?dee:rf}function one(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),XD(t,e.options),t.stroke(s)}function lne(t,e,n,i){const{segments:s,options:r}=e,a=W_(e);for(const l of s)XD(t,r,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const une=typeof Path2D=="function";function cne(t,e,n,i){une&&!e.options.segment?one(t,e,n,i):lne(t,e,n,i)}class hne extends Zc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;iee(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=wee(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,a=yee(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],u=ane(i);let h,f;for(h=0,f=a.length;h<f;++h){const{start:p,end:g}=a[h],y=r[p],x=r[g];if(y===x){l.push(y);continue}const A=Math.abs((s-y[n])/(x[n]-y[n])),T=u(y,x,A,i.stepped);T[n]=e[n],l.push(T)}return l.length===1?l[0]:l}pathSegment(e,n,i){return W_(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=W_(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const l of s)a&=r(e,this,l,{start:n,end:n+i-1});return!!a}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),cne(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function LN(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class dne extends Zc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(e-r,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return LN(this,e,"x",n)}inYRange(e,n){return LN(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!_0(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,z_(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function ZD(t,e){const{x:n,y:i,base:s,width:r,height:a}=t.getProps(["x","y","base","width","height"],e);let l,u,h,f,p;return t.horizontal?(p=a/2,l=Math.min(n,s),u=Math.max(n,s),h=i-p,f=i+p):(p=r/2,l=n-p,u=n+p,h=Math.min(i,s),f=Math.max(i,s)),{left:l,top:h,right:u,bottom:f}}function Jh(t,e,n,i){return t?0:Aa(e,n,i)}function fne(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=kD(i);return{t:Jh(s.top,r.top,0,n),r:Jh(s.right,r.right,0,e),b:Jh(s.bottom,r.bottom,0,n),l:Jh(s.left,r.left,0,e)}}function pne(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=Yp(s),a=Math.min(e,n),l=t.borderSkipped,u=i||$n(s);return{topLeft:Jh(!u||l.top||l.left,r.topLeft,0,a),topRight:Jh(!u||l.top||l.right,r.topRight,0,a),bottomLeft:Jh(!u||l.bottom||l.left,r.bottomLeft,0,a),bottomRight:Jh(!u||l.bottom||l.right,r.bottomRight,0,a)}}function mne(t){const e=ZD(t),n=e.right-e.left,i=e.bottom-e.top,s=fne(t,n/2,i/2),r=pne(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function px(t,e,n,i){const s=e===null,r=n===null,l=t&&!(s&&r)&&ZD(t,i);return l&&(s||Zh(e,l.left,l.right))&&(r||Zh(n,l.top,l.bottom))}function gne(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function yne(t,e){t.rect(e.x,e.y,e.w,e.h)}function mx(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,a=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+a,radius:t.radius}}class vne extends Zc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:a}=mne(this),l=gne(a.radius)?Y1:yne;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),l(e,mx(a,n,r)),e.clip(),l(e,mx(r,-n,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),l(e,mx(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return px(this,e,n,i)}inXRange(e,n){return px(this,e,null,n)}inYRange(e,n){return px(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const kN=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},bne=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class PN extends Zc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ti(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=zr(i.font),r=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=kN(i,r);let h,f;n.font=s.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(a,r,l,u)+10):(f=this.maxHeight,h=this._fitCols(a,s,l,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],f=s+l;let p=e;r.textAlign="left",r.textBaseline="middle";let g=-1,y=-f;return this.legendItems.forEach((x,A)=>{const T=i+n/2+r.measureText(x.text).width;(A===0||h[h.length-1]+T+2*l>a)&&(p+=f,h[h.length-(A>0?0:1)]=0,y+=f,g++),u[A]={left:0,top:y,row:g,width:T,height:s},h[h.length-1]+=T+l}),p}_fitCols(e,n,i,s){const{ctx:r,maxHeight:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],f=a-e;let p=l,g=0,y=0,x=0,A=0;return this.legendItems.forEach((T,E)=>{const{itemWidth:k,itemHeight:O}=wne(i,n,r,T,s);E>0&&y+O+2*l>f&&(p+=g+l,h.push({width:g,height:y}),x+=g+l,A++,g=y=0),u[E]={left:x,top:y,col:A,width:k,height:O},g=Math.max(g,k),y+=O+l}),p+=g,h.push({width:g,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,a=Gp(r,this.left,this.width);if(this.isHorizontal()){let l=0,u=Fr(i,this.left+s,this.right-this.lineWidths[l]);for(const h of n)l!==h.row&&(l=h.row,u=Fr(i,this.left+s,this.right-this.lineWidths[l])),h.top+=this.top+e+s,h.left=a.leftForLtr(a.x(u),h.width),u+=h.width+s}else{let l=0,u=Fr(i,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const h of n)h.col!==l&&(l=h.col,u=Fr(i,this.top+e+s,this.bottom-this.columnSizes[l].height)),h.top=u,h.left+=this.left+s,h.left=a.leftForLtr(a.x(h.left),h.width),u+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;cA(e,this),this._draw(),hA(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:a}=e,l=Cs.color,u=Gp(e.rtl,this.left,this.width),h=zr(a.font),{padding:f}=a,p=h.size,g=p/2;let y;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:x,boxHeight:A,itemHeight:T}=kN(a,p),E=function(Y,I,P){if(isNaN(x)||x<=0||isNaN(A)||A<0)return;s.save();const F=Nn(P.lineWidth,1);if(s.fillStyle=Nn(P.fillStyle,l),s.lineCap=Nn(P.lineCap,"butt"),s.lineDashOffset=Nn(P.lineDashOffset,0),s.lineJoin=Nn(P.lineJoin,"miter"),s.lineWidth=F,s.strokeStyle=Nn(P.strokeStyle,l),s.setLineDash(Nn(P.lineDash,[])),a.usePointStyle){const H={radius:A*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:F},M=u.xPlus(Y,x/2),j=I+g;LD(s,H,M,j,a.pointStyleWidth&&x)}else{const H=I+Math.max((p-A)/2,0),M=u.leftForLtr(Y,x),j=Yp(P.borderRadius);s.beginPath(),Object.values(j).some(z=>z!==0)?Y1(s,{x:M,y:H,w:x,h:A,radius:j}):s.rect(M,H,x,A),s.fill(),F!==0&&s.stroke()}s.restore()},k=function(Y,I,P){S0(s,P.text,Y,I+T/2,h,{strikethrough:P.hidden,textAlign:u.textAlign(P.textAlign)})},O=this.isHorizontal(),B=this._computeTitleHeight();O?y={x:Fr(r,this.left+f,this.right-i[0]),y:this.top+f+B,line:0}:y={x:this.left+f,y:Fr(r,this.top+B+f,this.bottom-n[0].height),line:0},OD(this.ctx,e.textDirection);const V=T+f;this.legendItems.forEach((Y,I)=>{s.strokeStyle=Y.fontColor,s.fillStyle=Y.fontColor;const P=s.measureText(Y.text).width,F=u.textAlign(Y.textAlign||(Y.textAlign=a.textAlign)),H=x+g+P;let M=y.x,j=y.y;u.setWidth(this.width),O?I>0&&M+H+f>this.right&&(j=y.y+=V,y.line++,M=y.x=Fr(r,this.left+f,this.right-i[y.line])):I>0&&j+V>this.bottom&&(M=y.x=M+n[y.line].width+f,y.line++,j=y.y=Fr(r,this.top+B+f,this.bottom-n[y.line].height));const z=u.x(M);if(E(z,j,Y),M=xJ(F,M+x+g,O?M+H:this.right,e.rtl),k(u.x(M),j,Y),O)y.x+=H+f;else if(typeof Y.text!="string"){const te=h.lineHeight;y.y+=JD(Y,te)+f}else y.y+=V}),jD(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=zr(n.font),s=Fo(n.padding);if(!n.display)return;const r=Gp(e.rtl,this.left,this.width),a=this.ctx,l=n.position,u=i.size/2,h=s.top+u;let f,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+h,p=Fr(e.align,p,this.right-g);else{const x=this.columnSizes.reduce((A,T)=>Math.max(A,T.height),0);f=h+Fr(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const y=Fr(l,p,p+g);a.textAlign=r.textAlign(lA(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,S0(a,n.text,y,f,i)}_computeTitleHeight(){const e=this.options.title,n=zr(e.font),i=Fo(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(Zh(e,this.left,this.right)&&Zh(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Zh(e,s.left,s.left+s.width)&&Zh(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!Sne(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=bne(s,i);s&&!r&&Ti(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&Ti(n.onHover,[e,i,this],this)}else i&&Ti(n.onClick,[e,i,this],this)}}function wne(t,e,n,i,s){const r=xne(i,t,e,n),a=_ne(s,i,e.lineHeight);return{itemWidth:r,itemHeight:a}}function xne(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,a)=>r.length>a.length?r:a)),e+n.size/2+i.measureText(s).width}function _ne(t,e,n){let i=t;return typeof e.text!="string"&&(i=JD(e,n)),i}function JD(t,e){const n=t.text?t.text.length:0;return e*n}function Sne(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var bA={id:"legend",_element:PN,start(t,e,n){const i=t.legend=new PN({ctx:t.ctx,options:n,chart:t});Mo.configure(t,i,n),Mo.addBox(t,i)},stop(t){Mo.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Mo.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(n?0:void 0),f=Fo(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:r,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:a&&(l||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class eO extends Zc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=ar(i.text)?i.text.length:1;this._padding=Fo(i.padding);const r=s*zr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:a}=this,l=a.align;let u=0,h,f,p;return this.isHorizontal()?(f=Fr(l,i,r),p=n+e,h=r-i):(a.position==="left"?(f=i+e,p=Fr(l,s,n),u=vi*-.5):(f=r-e,p=Fr(l,n,s),u=vi*.5),h=s-n),{titleX:f,titleY:p,maxWidth:h,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=zr(n.font),r=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:u,rotation:h}=this._drawArgs(r);S0(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:lA(n.align),textBaseline:"middle",translation:[a,l]})}}function Ane(t,e){const n=new eO({ctx:t.ctx,options:e,chart:t});Mo.configure(t,n,e),Mo.addBox(t,n),t.titleBlock=n}var Tne={id:"title",_element:eO,start(t,e,n){Ane(t,n)},stop(t){const e=t.titleBlock;Mo.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Mo.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ig={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();i.add(u.x),s+=u.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((l,u)=>l+u)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,a,l;for(r=0,a=t.length;r<a;++r){const u=t[r].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),f=V_(e,h);f<s&&(s=f,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function fu(t,e){return e&&(ar(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function wc(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Ene(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:a,value:l}=r.getLabelAndValue(s);return{chart:t,label:a,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:l,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function RN(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:a,boxHeight:l}=e,u=zr(e.bodyFont),h=zr(e.titleFont),f=zr(e.footerFont),p=r.length,g=s.length,y=i.length,x=Fo(e.padding);let A=x.height,T=0,E=i.reduce((B,V)=>B+V.before.length+V.lines.length+V.after.length,0);if(E+=t.beforeBody.length+t.afterBody.length,p&&(A+=p*h.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),E){const B=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;A+=y*B+(E-y)*u.lineHeight+(E-1)*e.bodySpacing}g&&(A+=e.footerMarginTop+g*f.lineHeight+(g-1)*e.footerSpacing);let k=0;const O=function(B){T=Math.max(T,n.measureText(B).width+k)};return n.save(),n.font=h.string,ai(t.title,O),n.font=u.string,ai(t.beforeBody.concat(t.afterBody),O),k=e.displayColors?a+2+e.boxPadding:0,ai(i,B=>{ai(B.before,O),ai(B.lines,O),ai(B.after,O)}),k=0,n.font=f.string,ai(t.footer,O),n.restore(),T+=x.width,{width:T,height:A}}function Cne(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function Nne(t,e,n,i){const{x:s,width:r}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&s+r+a>e.width||t==="right"&&s-r-a<0)return!0}function Lne(t,e,n,i){const{x:s,width:r}=n,{width:a,chartArea:{left:l,right:u}}=t;let h="center";return i==="center"?h=s<=(l+u)/2?"left":"right":s<=r/2?h="left":s>=a-r/2&&(h="right"),Nne(h,t,e,n)&&(h="center"),h}function MN(t,e,n){const i=n.yAlign||e.yAlign||Cne(t,n);return{xAlign:n.xAlign||e.xAlign||Lne(t,e,n,i),yAlign:i}}function kne(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function Pne(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function IN(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:a}=t,{xAlign:l,yAlign:u}=n,h=s+r,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:y}=Yp(a);let x=kne(e,l);const A=Pne(e,u,h);return u==="center"?l==="left"?x+=h:l==="right"&&(x-=h):l==="left"?x-=Math.max(f,g)+s:l==="right"&&(x+=Math.max(p,y)+s),{x:Aa(x,0,i.width-e.width),y:Aa(A,0,i.height-e.height)}}function Mv(t,e,n){const i=Fo(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function DN(t){return fu([],wc(t))}function Rne(t,e,n){return Of(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function ON(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const tO={beforeTitle:yc,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:yc,beforeBody:yc,beforeLabel:yc,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Wi(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:yc,afterBody:yc,beforeFooter:yc,footer:yc,afterFooter:yc};function va(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?tO[e].call(n,i):s}class jN extends Zc{static positioners=Ig;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new VD(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Rne(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=va(i,"beforeTitle",this,e),r=va(i,"title",this,e),a=va(i,"afterTitle",this,e);let l=[];return l=fu(l,wc(s)),l=fu(l,wc(r)),l=fu(l,wc(a)),l}getBeforeBody(e,n){return DN(va(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return ai(e,r=>{const a={before:[],lines:[],after:[]},l=ON(i,r);fu(a.before,wc(va(l,"beforeLabel",this,r))),fu(a.lines,va(l,"label",this,r)),fu(a.after,wc(va(l,"afterLabel",this,r))),s.push(a)}),s}getAfterBody(e,n){return DN(va(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=va(i,"beforeFooter",this,e),r=va(i,"footer",this,e),a=va(i,"afterFooter",this,e);let l=[];return l=fu(l,wc(s)),l=fu(l,wc(r)),l=fu(l,wc(a)),l}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],a=[];let l=[],u,h;for(u=0,h=n.length;u<h;++u)l.push(Ene(this.chart,n[u]));return e.filter&&(l=l.filter((f,p,g)=>e.filter(f,p,g,i))),e.itemSort&&(l=l.sort((f,p)=>e.itemSort(f,p,i))),ai(l,f=>{const p=ON(e.callbacks,f);s.push(va(p,"labelColor",this,f)),r.push(va(p,"labelPointStyle",this,f)),a.push(va(p,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,a=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const l=Ig[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=RN(this,i),h=Object.assign({},l,u),f=MN(this.chart,i,h),p=IN(i,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,r={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=Yp(l),{x:g,y}=e,{width:x,height:A}=n;let T,E,k,O,B,V;return r==="center"?(B=y+A/2,s==="left"?(T=g,E=T-a,O=B+a,V=B-a):(T=g+x,E=T+a,O=B-a,V=B+a),k=T):(s==="left"?E=g+Math.max(u,f)+a:s==="right"?E=g+x-Math.max(h,p)-a:E=this.caretX,r==="top"?(O=y,B=O-a,T=E-a,k=E+a):(O=y+A,B=O+a,T=E+a,k=E-a),V=O),{x1:T,x2:E,x3:k,y1:O,y2:B,y3:V}}drawTitle(e,n,i){const s=this.title,r=s.length;let a,l,u;if(r){const h=Gp(i.rtl,this.x,this.width);for(e.x=Mv(this,i.titleAlign,i),n.textAlign=h.textAlign(i.titleAlign),n.textBaseline="middle",a=zr(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,u=0;u<r;++u)n.fillText(s[u],h.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,u+1===r&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,n,i,s,r){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:u,boxWidth:h}=r,f=zr(r.bodyFont),p=Mv(this,"left",r),g=s.x(p),y=u<f.lineHeight?(f.lineHeight-u)/2:0,x=n.y+y;if(r.usePointStyle){const A={radius:Math.min(h,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},T=s.leftForLtr(g,h)+h/2,E=x+u/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,z_(e,A,T,E),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,z_(e,A,T,E)}else{e.lineWidth=$n(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const A=s.leftForLtr(g,h),T=s.leftForLtr(s.xPlus(g,1),h-2),E=Yp(a.borderRadius);Object.values(E).some(k=>k!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Y1(e,{x:A,y:x,w:h,h:u,radius:E}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Y1(e,{x:T,y:x+1,w:h-2,h:u-2,radius:E}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(A,x,h,u),e.strokeRect(A,x,h,u),e.fillStyle=a.backgroundColor,e.fillRect(T,x+1,h-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:h,boxPadding:f}=i,p=zr(i.bodyFont);let g=p.lineHeight,y=0;const x=Gp(i.rtl,this.x,this.width),A=function(P){n.fillText(P,x.x(e.x+y),e.y+g/2),e.y+=g+r},T=x.textAlign(a);let E,k,O,B,V,Y,I;for(n.textAlign=a,n.textBaseline="middle",n.font=p.string,e.x=Mv(this,T,i),n.fillStyle=i.bodyColor,ai(this.beforeBody,A),y=l&&T!=="right"?a==="center"?h/2+f:h+2+f:0,B=0,Y=s.length;B<Y;++B){for(E=s[B],k=this.labelTextColors[B],n.fillStyle=k,ai(E.before,A),O=E.lines,l&&O.length&&(this._drawColorBox(n,e,B,x,i),g=Math.max(p.lineHeight,u)),V=0,I=O.length;V<I;++V)A(O[V]),g=p.lineHeight;ai(E.after,A)}y=0,g=p.lineHeight,ai(this.afterBody,A),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let a,l;if(r){const u=Gp(i.rtl,this.x,this.width);for(e.x=Mv(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",a=zr(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,l=0;l<r;++l)n.fillText(s[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:a}=this,{x:l,y:u}=e,{width:h,height:f}=i,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:x}=Yp(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+p,u),a==="top"&&this.drawCaret(e,n,i,s),n.lineTo(l+h-g,u),n.quadraticCurveTo(l+h,u,l+h,u+g),a==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(l+h,u+f-x),n.quadraticCurveTo(l+h,u+f,l+h-x,u+f),a==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(l+y,u+f),n.quadraticCurveTo(l,u+f,l,u+f-y),a==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(l,u+p),n.quadraticCurveTo(l,u,l+p,u),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const a=Ig[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=RN(this,e),u=Object.assign({},a,this._size),h=MN(n,e,u),f=IN(e,u,h,n);(s._to!==f.x||r._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Fo(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),OD(e,n.textDirection),r.y+=a.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),jD(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:l,index:u})=>{const h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[u],index:u}}),r=!B1(i,s),a=this._positionChanged(s,n);(r||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],a=this._getActiveElements(e,r,n,i),l=this._positionChanged(a,e),u=n||!B1(a,r)||l;return u&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,a=Ig[r.position].call(this,e,n);return a!==!1&&(i!==a.x||s!==a.y)}}var wA={id:"tooltip",_element:jN,positioners:Ig,afterInit(t,e,n){n&&(t.tooltip=new jN({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Mne=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Ine(t,e,n,i){const s=t.indexOf(e);if(s===-1)return Mne(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const Dne=(t,e)=>t===null?null:Aa(Math.round(t),0,e);function FN(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class nO extends wm{static id="category";static defaults={ticks:{callback:FN}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Wi(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:Ine(i,e,Nn(n,e),this._addedLabels),Dne(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return FN.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function One(t,e){const n=[],{bounds:s,step:r,min:a,max:l,precision:u,count:h,maxTicks:f,maxDigits:p,includeBounds:g}=t,y=r||1,x=f-1,{min:A,max:T}=e,E=!Wi(a),k=!Wi(l),O=!Wi(h),B=(T-A)/(p+1);let V=z3((T-A)/x/y)*y,Y,I,P,F;if(V<1e-14&&!E&&!k)return[{value:A},{value:T}];F=Math.ceil(T/V)-Math.floor(A/V),F>x&&(V=z3(F*V/x/y)*y),Wi(u)||(Y=Math.pow(10,u),V=Math.ceil(V*Y)/Y),s==="ticks"?(I=Math.floor(A/V)*V,P=Math.ceil(T/V)*V):(I=A,P=T),E&&k&&r&&hJ((l-a)/r,V/1e3)?(F=Math.round(Math.min((l-a)/V,f)),V=(l-a)/F,I=a,P=l):O?(I=E?a:I,P=k?l:P,F=h-1,V=(P-I)/F):(F=(P-I)/V,Gg(F,Math.round(F),V/1e3)?F=Math.round(F):F=Math.ceil(F));const H=Math.max(q3(V),q3(I));Y=Math.pow(10,Wi(u)?H:u),I=Math.round(I*Y)/Y,P=Math.round(P*Y)/Y;let M=0;for(E&&(g&&I!==a?(n.push({value:a}),I<a&&M++,Gg(Math.round((I+M*V)*Y)/Y,a,VN(a,B,t))&&M++):I<a&&M++);M<F;++M){const j=Math.round((I+M*V)*Y)/Y;if(k&&j>l)break;n.push({value:j})}return k&&g&&P!==l?n.length&&Gg(n[n.length-1].value,l,VN(l,B,t))?n[n.length-1].value=l:n.push({value:l}):(!k||P===l)&&n.push({value:P}),n}function VN(t,e,{horizontal:n,minRotation:i}){const s=cf(i),r=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/r,a)}class jne extends wm{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Wi(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const a=u=>s=n?s:u,l=u=>r=i?r:u;if(e){const u=nm(s),h=nm(r);u<0&&h<0?l(0):u>0&&h>0&&a(0)}if(s===r){let u=r===0?1:Math.abs(r*.05);l(r+u),e||a(s-u)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,a=One(s,r);return e.bounds==="ticks"&&dJ(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return CD(e,this.chart.options.locale,this.options.ticks.format)}}class iO extends jne{static id="linear";static defaults={ticks:{callback:ND.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=jo(e)?e:0,this.max=jo(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=cf(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const c2={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Sa=Object.keys(c2);function UN(t,e){return t-e}function BN(t,e){if(Wi(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),jo(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(s&&(a=s==="week"&&($1(r)||r===!0)?n.startOf(a,"isoWeek",r):n.startOf(a,s)),+a)}function zN(t,e,n,i){const s=Sa.length;for(let r=Sa.indexOf(t);r<s-1;++r){const a=c2[Sa[r]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=i)return Sa[r]}return Sa[s-1]}function Fne(t,e,n,i,s){for(let r=Sa.length-1;r>=Sa.indexOf(n);r--){const a=Sa[r];if(c2[a].common&&t._adapter.diff(s,i,a)>=e-1)return a}return Sa[n?Sa.indexOf(n):0]}function Vne(t){for(let e=Sa.indexOf(t)+1,n=Sa.length;e<n;++e)if(c2[Sa[e]].common)return Sa[e]}function qN(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=oA(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function Une(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),a=e[e.length-1].value;let l,u;for(l=r;l<=a;l=+s.add(l,1,i))u=n[l],u>=0&&(e[u].major=!0);return e}function HN(t,e,n){const i=[],s={},r=e.length;let a,l;for(a=0;a<r;++a)l=e[a],s[l]=a,i.push({value:l,major:!1});return r===0||!n?i:Une(t,i,s,n)}class WN extends wm{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new Uee._date(e.adapters.date);s.init(n),Yg(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:BN(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function u(h){!a&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!l&&!isNaN(h.max)&&(r=Math.max(r,h.max))}(!a||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=jo(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=jo(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,a=this.max,l=yJ(s,r,a);return this._unit=n.unit||(i.autoSkip?zN(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):Fne(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Vne(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),HN(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Aa(n,0,a),i=Aa(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,a=r.unit||zN(r.minUnit,n,i,this._getLabelCapacity(n)),l=Nn(s.ticks.stepSize,1),u=a==="week"?r.isoWeekday:!1,h=$1(u)||u===!0,f={};let p=n,g,y;if(h&&(p=+e.startOf(p,"isoWeek",u)),p=+e.startOf(p,h?"day":a),e.diff(i,n,a)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+a);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(g=p,y=0;g<i;g=+e.add(g,l,a),y++)qN(f,g,x);return(g===i||s.bounds==="ticks"||y===1)&&qN(f,g,x),Object.keys(f).sort(UN).map(A=>+A)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,a=n||s[r];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,s){const r=this.options,a=r.ticks.callback;if(a)return Ti(a,[e,n,i],this);const l=r.time.displayFormats,u=this._unit,h=this._majorUnit,f=u&&l[u],p=h&&l[h],g=i[n],y=h&&p&&g&&g.major;return this._adapter.format(e,s||(y?p:f))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=cf(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*r+l*a,h:i*a+l*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,HN(this,[e],this._majorUnit),s),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(BN(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return bJ(e.sort(UN))}}function Iv(t,e,n){let i=0,s=t.length-1,r,a,l,u;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=U_(t,"pos",e)),{pos:r,time:l}=t[i],{pos:a,time:u}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=U_(t,"time",e)),{time:r,pos:l}=t[i],{time:a,pos:u}=t[s]);const h=a-r;return h?l+(u-l)*(e-r)/h:l}class Jce extends WN{static id="timeseries";static defaults=WN.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Iv(n,this.min),this._tableRange=Iv(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let a,l,u,h,f;for(a=0,l=e.length;a<l;++a)h=e[a],h>=n&&h<=i&&s.push(h);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,l=s.length;a<l;++a)f=s[a+1],u=s[a-1],h=s[a],Math.round((f+u)/2)!==h&&r.push({time:h,pos:a/(l-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Iv(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Iv(this._table,i*this._tableRange+this._minPos,!0)}}u2.register(nO,iO,vne,Tne,wA,bA);u2.register(tne,wA,bA);u2.register(hne,nO,iO,dne,wA,bA);const Bne=({invoiceData:t})=>{const e=t.length,n=t.reduce((l,u)=>l+(u.total||0),0),i=e>0?(n/e).toFixed(2):0,s=t.reduce((l,u)=>{const h=u.paymentMode||"Unknown",f=u.total||0;return l[h]=(l[h]||0)+f,l},{}),r=new Set(t.map(l=>l.customer?.email||l.customer?.name||"")).size,a=[{label:"Total Revenue",value:`₹${n.toLocaleString()}`,icon:"💰"},{label:"Total Invoices",value:e,icon:"🧾"},{label:"Avg Order Value",value:`₹${i}`,icon:"📊"},{label:"Total Customers",value:r,icon:"👥"}];if(s){const l={Cash:"💵",UPI:"📱",Card:"💳",Unknown:"❓"};Object.entries(s).forEach(([u,h])=>{a.push({label:`Revenue via ${u}`,value:`₹${parseFloat(h).toLocaleString()}`,icon:l[u]||"💳"})})}return v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:a.map((l,u)=>v.jsxs("div",{className:"bg-white rounded shadow p-4 flex items-center space-x-4 border",children:[v.jsx("div",{className:"text-3xl",children:l.icon}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm text-gray-500",children:l.label}),v.jsx("div",{className:"text-lg font-bold",children:l.value})]})]},u))})},zne=({invoiceData:t})=>{const e=[...t].sort((n,i)=>new Date(i.createdAt)-new Date(n.createdAt)).slice(0,5);return v.jsxs("div",{className:"bg-white rounded shadow p-4 border",children:[v.jsx("h3",{className:"text-md font-semibold mb-2",children:"🧾 Recent Invoices"}),v.jsx("ul",{className:"space-y-2",children:e.map((n,i)=>v.jsxs("li",{className:"border-b pb-2",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"font-medium",children:n.customer?.name||"Unknown Customer"}),v.jsx("span",{className:"text-gray-500",children:ft(n.createdAt).local().format("DD MMM, hh:mm:ss A")})]}),v.jsxs("div",{className:"text-xs text-gray-600",children:["₹",n.totalAmount," • ",n.paymentMode==="Cash"?"💵 Cash":n.paymentMode==="Card"?"💳 Card":n.paymentMode==="UPI"?"📲 UPI":"Unknown"]})]},i))})]})},qne=({userId:t})=>{const[e,n]=C.useState([]);return C.useEffect(()=>{(async()=>{try{if(!t)return;const s=wn(fn,"businesses",t,"products"),r=await ta(s),a=[];r.forEach(l=>{const u=l.data();parseInt(u.quantity,10)<=5&&a.push({...u,id:l.id})}),n(a)}catch(s){console.error("Error fetching low stock items:",s)}})()},[t]),v.jsxs("div",{className:"bg-white rounded shadow p-4 border",children:[v.jsx("h3",{className:"text-md font-semibold mb-2 text-red-600",children:"⚠️ Low Stock Alerts"}),e.length===0?v.jsx("p",{className:"text-sm text-gray-500",children:"All items are sufficiently stocked."}):v.jsx("ul",{className:"space-y-2 text-sm",children:e.map(i=>v.jsxs("li",{className:"flex justify-between border-b pb-1",children:[v.jsx("span",{children:i.productName}),v.jsx("span",{className:"text-red-500 font-semibold",children:i.quantity})]},i.id))})]})},Hne=({filterDates:t})=>{const[e,n]=C.useState([]),[i,s]=C.useState(null),[r,a]=C.useState("All"),[l,u]=C.useState([]);C.useEffect(()=>{(async()=>{try{const y=Jn.currentUser;if(!y)return;s(y.uid);const x=wn(fn,"businesses",y.uid,"finalizedInvoices"),A=await ta(x),T=[];A.forEach(E=>{T.push({...E.data(),id:E.id})}),n(T),u(h(T,r,t))}catch(y){console.error("Error fetching invoices:",y)}})()},[]);const h=(g,y,x={})=>{const A=new Date,{start:T,end:E}=x;return g.filter(k=>{const O=k.createdAt?new Date(k.createdAt):null;if(!O)return!1;if(T&&E)return O>=T&&O<=E;if(y==="Today")return O.toDateString()===A.toDateString();if(y==="ThisWeek"){const B=new Date(A);B.setDate(A.getDate()-A.getDay()),B.setHours(0,0,0,0);const V=new Date(B);return V.setDate(B.getDate()+6),V.setHours(23,59,59,999),O>=B&&O<=V}else{if(y==="ThisMonth")return O.getMonth()===A.getMonth()&&O.getFullYear()===A.getFullYear();if(y==="ThisYear")return O.getFullYear()===A.getFullYear()}return!0})};C.useEffect(()=>{u(h(e,r,t))},[r,t,e]);const f=l.reduce((g,y)=>g+parseFloat(y.totalAmount||0),0),p=l.reduce((g,y)=>{const x=y.paymentMode||"Unknown";return g[x]=(g[x]||0)+parseFloat(y.totalAmount||0),g},{});return v.jsxs("div",{className:"p-4 space-y-6",children:[v.jsx("div",{className:"flex justify-end mb-2",children:v.jsxs("select",{value:r,onChange:g=>a(g.target.value),className:"border px-3 py-1 rounded-md shadow text-sm","aria-label":"Select date filter",children:[v.jsx("option",{value:"All",children:"All Time"}),v.jsx("option",{value:"Today",children:"Today"}),v.jsx("option",{value:"ThisWeek",children:"This Week"}),v.jsx("option",{value:"ThisMonth",children:"This Month"}),v.jsx("option",{value:"Custom",children:"Custom"})]})}),v.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[r==="All"&&!t?.start?"Showing all time data":`Filtered by: ${r}`,t?.start&&t?.end&&v.jsxs("span",{children:[" | Custom Range: ",t.start.toLocaleDateString()," - ",t.end.toLocaleDateString()]})]}),v.jsx("h2",{className:"text-lg font-semibold",children:"📊 Home Snapshot: Today’s KPIs"}),v.jsx(Bne,{invoiceData:l,totalRevenue:f,paymentStats:p}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(qne,{userId:i}),v.jsx(zne,{invoiceData:[...l].sort((g,y)=>new Date(y.createdAt)-new Date(g.createdAt))})]})]})},Wne=({distributor:t,onClose:e})=>{const[n,i]=C.useState(""),[s,r]=C.useState(!1),a=Jn.currentUser,l=async()=>{if(!a||!t?.id){alert("Missing user or distributor info.");return}r(!0);const u=a.uid,h=t.id,f={retailerId:u,retailerName:a.displayName||"Retailer",message:n||"",sentAt:Na(),status:"pending"};console.log("📦 Sending request to distributor:",h),console.log("🧾 Request payload:",f);try{await Io(yn(fn,`businesses/${h}/connectionRequests/${u}`),f),await Io(yn(fn,`businesses/${u}/sentRequests/${h}`),{distributorId:h,distributorName:t.businessName||t.displayName||"Distributor",retailerId:u,message:n||"",sentAt:Na(),status:"pending"}),alert("✅ Connection request sent!"),e()}catch(p){console.error("❌ Error sending request:",p),alert("Failed to send request. Check console for details.")}finally{r(!1)}};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-md",children:[v.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Connect with ",t.businessName]}),v.jsx("textarea",{className:"w-full border px-3 py-2 rounded mb-4",placeholder:"Optional message...",rows:3,value:n,onChange:u=>i(u.target.value)}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"}),v.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:s,children:s?"Sending...":"Send Request"})]})]})})},$ne=async(t,e)=>{const n=yn(fn,"businesses",t,"sentRequests",e),i=yn(fn,"businesses",e,"connectionRequests",t),[s,r]=await Promise.all([Oi(n),Oi(i)]);if(s.exists()&&r.exists()){const a=s.data().status,l=r.data().status;return a==="accepted"&&l==="accepted"?"connected":a||l||null}else{if(s.exists())return s.data().status;if(r.exists())return r.data().status}return null},Yne=()=>{const[t,e]=C.useState(""),[n,i]=C.useState([]),[s,r]=C.useState(!1),[a,l]=C.useState(null),[u,h]=C.useState(!1),f=async()=>{if(!t.trim())return;r(!0);const p=Mc(wn(fn,"businesses"),$b("role","==","Distributor"));let g=[];try{g=await ta(p)}catch(A){console.error("🔥 Firestore search error:",A.message),alert("Permission error or network issue. Please check your Firebase rules or connection."),r(!1);return}const y=[],x=Jn.currentUser?.uid;for(const A of g.docs){const T=A.data(),E=A.id;if(T.businessName?.toLowerCase().includes(t.toLowerCase())||T.ownerName?.toLowerCase().includes(t.toLowerCase())||T.phone?.includes(t)||T.city?.toLowerCase().includes(t.toLowerCase())||E===t){const k=await $ne(x,E);y.push({id:E,...T,requestStatus:k})}}i(y),r(!1)};return v.jsxs("div",{className:"p-4",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Search Distributors"}),v.jsxs("div",{className:"flex gap-2 mb-4",children:[v.jsx("input",{type:"text",placeholder:"Search by name, phone, city or ID",value:t,onChange:p=>e(p.target.value),className:"border px-3 py-2 rounded w-full"}),v.jsx("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded",children:s?"Searching...":"Search"})]}),v.jsxs("div",{children:[n.length===0&&!s&&v.jsx("p",{className:"text-gray-500",children:"No distributors found."}),n.map(p=>v.jsxs("div",{className:"border p-3 rounded mb-2 shadow-sm flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:p.businessName}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Owner: ",p.ownerName]}),v.jsxs("p",{className:"text-sm text-gray-500",children:["City: ",p.city]}),v.jsxs("p",{className:"text-sm text-gray-500",children:["Phone: ",p.phone]}),v.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",p.id]})]}),p.requestStatus==="connected"?v.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded",children:"Connected"}):p.requestStatus==="accepted"?v.jsx("span",{className:"bg-green-400 text-white px-3 py-1 rounded",children:"Accepted"}):p.requestStatus==="pending"?v.jsx("span",{className:"bg-gray-400 text-white px-3 py-1 rounded",children:"Request Sent"}):v.jsx("button",{onClick:()=>{l(p),h(!0)},className:"bg-green-600 text-white px-3 py-1 rounded",children:"Send Request"})]},p.id))]}),u&&a&&v.jsx(Wne,{distributor:a,onClose:()=>{h(!1),l(null)}})]})},Gne=()=>{const[t,e]=C.useState([]),[n,i]=C.useState(!1),s=Jn.currentUser;return C.useEffect(()=>{if(!s)return;const r=wn(fn,`businesses/${s.uid}/sentRequests`),a=El(r,l=>{const u=l.docs.map(h=>({id:h.id,...h.data()}));e(u)});return()=>a()},[s]),v.jsxs("div",{className:"p-4",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Sent Distributor Requests"}),n?v.jsx("p",{children:"Loading..."}):t.length===0?v.jsx("p",{className:"text-gray-500",children:"You haven’t sent any requests yet."}):v.jsx("ul",{className:"space-y-3",children:t.map(r=>v.jsxs("li",{className:"border rounded p-4 flex justify-between items-center shadow-sm",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:r.distributorName}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Distributor ID: ",r.distributorId]}),v.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",r.status]})]}),r.status==="pending"&&v.jsx("button",{disabled:!0,className:"bg-yellow-400 text-white px-3 py-1 rounded opacity-60 cursor-not-allowed",children:"Pending"}),r.status==="active"&&v.jsx("span",{className:"bg-green-600 text-white px-3 py-1 rounded",children:"Connected"})]},r.id))})]})},Kne=({distributorId:t})=>{const[e,n]=C.useState([{productName:"",sku:"",brand:"",category:"",quantity:"",unit:"",description:"",notes:"",unitPrice:""}]),[i,s]=C.useState(!1),[r,a]=C.useState([]),[l,u]=C.useState([]),[h,f]=C.useState("COD"),[p,g]=C.useState(15),[y,x]=C.useState({advance:"",balance:""});C.useEffect(()=>{if(!t)return;const k=Mc(wn(fn,"businesses",t,"products")),O=El(k,B=>{const V=B.docs.map(Y=>({id:Y.id,...Y.data()}));a(V)});return()=>O()},[t]);const A=(k,O,B)=>{const V=[...e];if(V[k][O]=B,n(V),O==="productName"){const Y=B.toLowerCase(),I=r.filter(P=>P.productName?.toLowerCase().includes(Y)||P.sku?.toLowerCase().includes(Y)||P.brand?.toLowerCase().includes(Y)||P.category?.toLowerCase().includes(Y)||P.unit?.toLowerCase().includes(Y)||(P.sellingPrice+"").includes(Y));u(I)}},T=()=>{n([...e,{productName:"",sku:"",brand:"",category:"",quantity:"",unit:"",description:"",notes:"",unitPrice:""}])},E=async()=>{const k=Jn.currentUser;if(!(!k||!t||e.length===0))try{s(!0);const O=e.reduce((M,j)=>{const z=parseFloat(j.quantity)||0,te=parseFloat(j.unitPrice)||0;return M+z*te},0),B=await Oi(yn(fn,"businesses",t)),V=B.exists()?B.data():{},Y=V.phone||"",I=V.email||"",P=wn(fn,`businesses/${t}/orderRequests`),F=await ku(P,{retailerId:k.uid,distributorId:t,items:e,totalAmount:O,paymentMode:h,creditDays:h==="Credit Cycle"?p:null,splitPayment:h==="Split Payment"?y:null,status:"Requested",timestamp:Na(),distributorName:V.businessName||V.ownerName||"",distributorCity:V.city||"",distributorState:V.state||"",distributorPhone:Y,distributorEmail:I}),H=yn(fn,`businesses/${k.uid}/sentOrders/${F.id}`);await Io(H,{retailerId:k.uid,distributorId:t,items:e,totalAmount:O,paymentMode:h,creditDays:h==="Credit Cycle"?p:null,splitPayment:h==="Split Payment"?y:null,status:"Requested",timestamp:Na(),distributorName:V.businessName||V.ownerName||"",distributorCity:V.city||"",distributorState:V.state||"",distributorPhone:Y,distributorEmail:I}),zt.success("Order request sent successfully!"),n([{productName:"",sku:"",brand:"",category:"",quantity:"",unit:"",description:"",notes:"",unitPrice:""}])}catch(O){console.error("Error sending order:",O),alert("Failed to send order request.")}finally{s(!1)}};return v.jsxs("div",{className:"p-4 border rounded shadow-md bg-white",children:[v.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Send Order Request"}),v.jsxs("div",{className:"mb-4 relative",children:[v.jsx("input",{type:"text",placeholder:"🔍 Search product by name, SKU, brand, etc.",className:"w-full px-4 py-2 border rounded shadow-sm",onChange:k=>{const O=k.target.value.toLowerCase(),B=r.filter(V=>V.productName?.toLowerCase().includes(O)||V.sku?.toLowerCase().includes(O)||V.brand?.toLowerCase().includes(O)||V.category?.toLowerCase().includes(O)||(V.sellingPrice+"").includes(O));u(B)}}),l.length>0&&v.jsx("ul",{className:"bg-white border rounded mt-1 max-h-40 overflow-y-auto text-sm absolute left-0 right-0 z-20",children:l.map(k=>v.jsxs("li",{className:"px-3 py-2 hover:bg-blue-100 cursor-pointer border-b",onClick:()=>{if(e.some(B=>B.sku===k.sku)){zt.warning("Item already added to cart.");return}n([...e,{productName:k.productName,sku:k.sku,brand:k.brand,category:k.category,quantity:"",unit:k.unit||"",description:"",notes:"",unitPrice:k.sellingPrice||"",available:k.quantity,distributorProductId:k.id}]),u([])},children:[v.jsx("div",{className:"font-semibold",children:k.productName}),v.jsxs("div",{className:"text-xs text-gray-600 flex flex-wrap gap-2",children:[v.jsxs("span",{children:["Brand: ",k.brand||"—"]}),v.jsxs("span",{children:["SKU: ",k.sku||"—"]}),v.jsxs("span",{children:["Unit: ",k.unit||"—"]}),v.jsxs("span",{children:["Price: ₹",k.sellingPrice||"—"]}),v.jsxs("span",{className:`font-semibold ${k.quantity===0?"text-red-600":k.quantity<=10?"text-yellow-600":"text-green-600"}`,children:["In Stock: ",k.quantity]})]})]},k.id))})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"font-medium mr-2",children:"Payment Mode:"}),v.jsxs("select",{className:"border px-3 py-2 rounded",value:h,onChange:k=>f(k.target.value),children:[v.jsx("option",{value:"COD",children:"Cash on Delivery"}),v.jsx("option",{value:"Advance Payment",children:"Advance Payment"}),v.jsx("option",{value:"Credit Cycle",children:"Credit Cycle"}),v.jsx("option",{value:"Post-Sale Payment",children:"Post-Sale Payment"}),v.jsx("option",{value:"Split Payment",children:"Split Payment"}),v.jsx("option",{value:"Monthly Ledger",children:"Monthly Credit Statement"})]}),h==="Credit Cycle"&&v.jsx("input",{type:"number",className:"ml-4 border px-3 py-2 rounded",placeholder:"Credit days",value:p,onChange:k=>g(k.target.value)}),h==="Split Payment"&&v.jsxs("div",{className:"ml-4 flex gap-2 mt-2",children:[v.jsx("input",{type:"number",placeholder:"Advance %",className:"border px-3 py-2 rounded",value:y.advance,onChange:k=>x({...y,advance:k.target.value})}),v.jsx("input",{type:"number",placeholder:"Balance %",className:"border px-3 py-2 rounded",value:y.balance,onChange:k=>x({...y,balance:k.target.value})})]})]}),e.map((k,O)=>v.jsxs("div",{className:"grid grid-cols-9 gap-2 mb-2 items-center",children:[v.jsx("div",{className:"relative flex-grow",children:v.jsx("input",{type:"text",placeholder:"Product Name",className:"border px-3 py-2 rounded w-full bg-gray-100 cursor-not-allowed",value:k.productName,disabled:!0})}),v.jsx("input",{type:"text",placeholder:"SKU",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:k.sku,disabled:!0}),v.jsx("input",{type:"text",placeholder:"Brand",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:k.brand,disabled:!0}),v.jsx("input",{type:"text",placeholder:"Category",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:k.category,disabled:!0}),v.jsx("input",{type:"number",placeholder:"Quantity",className:"border px-3 py-2 rounded",value:k.quantity,onChange:B=>A(O,"quantity",B.target.value)}),v.jsx("input",{type:"text",placeholder:"Unit (e.g., kg)",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:k.unit,disabled:!0}),v.jsx("input",{type:"number",placeholder:"Price (₹)",className:"border px-3 py-2 rounded bg-gray-100 cursor-not-allowed",value:k.unitPrice,disabled:!0}),v.jsx("input",{type:"text",placeholder:"Description",className:"border px-3 py-2 rounded",value:k.description,onChange:B=>A(O,"description",B.target.value)}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"text",placeholder:"Notes",className:"border px-3 py-2 rounded w-full",value:k.notes,onChange:B=>A(O,"notes",B.target.value)}),v.jsx("button",{onClick:()=>{const B=e.filter((V,Y)=>Y!==O);n(B)},className:"text-red-500 hover:text-red-700 text-sm",title:"Remove Row",children:"🗑️"})]})]},O)),v.jsx("button",{onClick:T,className:"mb-4 bg-gray-300 px-3 py-1 rounded text-sm hover:bg-gray-400",children:"+ Add Item"}),v.jsxs("div",{className:"text-right font-semibold text-lg mb-3",children:["Total: ₹",e.reduce((k,O)=>k+parseFloat(O.unitPrice||0)*parseFloat(O.quantity||0),0).toFixed(2)]}),v.jsx("button",{onClick:E,disabled:i||!t,className:"block w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:i?"Sending Order...":"Send Order"})]})},Xne=async(t,e)=>{const n=yn(fn,"businesses",e,"connectedRetailers",t);return(await Oi(n)).exists()},Qne=({distributor:t})=>{C.useEffect(()=>{console.log("🧪 SmartAssistant Debug:"),console.log("Retailer UID (auth):",Jn.currentUser?.uid),console.log("Distributor ID (prop):",t?.id)},[t]);const[e,n]=C.useState([]),[i,s]=C.useState(""),[r,a]=C.useState(""),[l,u]=C.useState(!1),[h,f]=C.useState([]),[p,g]=C.useState(""),y=C.useRef(null),x=Jn.currentUser?.uid,A=t?.id;C.useEffect(()=>{if(!x||!A)return;const E=wn(fn,"businesses",A,"connectedRetailers",x,"assistantChats"),k=Mc(E,p_("timestamp")),O=El(k,B=>{const V=B.docs.map(Y=>({id:Y.id,...Y.data()}));n(V)});return()=>O()},[x,A]),C.useEffect(()=>{if(!x||!A)return;const E=Mc(wn(fn,"assistantQueries"),p_("timestamp","desc")),k=El(E,O=>{const B=O.docs.find(V=>V.data().userId===x&&V.data().distributorId===A&&V.data().source==="SmartAssistant"&&V.data().reply);if(B){const V=B.data().reply;if(!e.some(I=>I.message===V&&I.sender==="assistant")){const I={id:`reply-${B.id}`,message:V,sender:"assistant",timestamp:B.data().timestamp};n(P=>[...P,I]),u(!1)}}});return()=>k()},[x,A,e]),C.useEffect(()=>{const E=setTimeout(()=>{g(i.trim())},300);return()=>clearTimeout(E)},[i]),C.useEffect(()=>{if(!p||!A){f([]);return}(async()=>{if(!await Xne(x,A)){f([]);return}const O=Mc(wn(fn,"businesses",A,"products"));try{const V=(await O1(async()=>{const{getDocs:Y}=await Promise.resolve().then(()=>P$);return{getDocs:Y}},void 0,import.meta.url).then(({getDocs:Y})=>Y(O))).docs.map(Y=>Y.data().name).filter(Y=>Y?.toLowerCase().includes(p.toLowerCase()));f(V.slice(0,5))}catch(B){console.error("Suggestion fetch error:",B),f([])}})()},[p,A]);const T=async()=>{if(!i.trim())return;if(!x||!A){console.error("Missing retailerId or distributorId");return}const E={message:i.trim(),sender:"retailer",timestamp:Na()};try{await ku(wn(fn,"businesses",A,"connectedRetailers",x,"assistantChats"),E),await ku(wn(fn,"assistantQueries"),{prompt:i.trim(),timestamp:Na(),userId:x,distributorId:A,role:"retailer",source:"SmartAssistant"}),s(""),u(!0)}catch(k){console.error("Failed to send message:",k.message)}};return C.useEffect(()=>{y.current?.scrollIntoView({behavior:"smooth"})},[e]),v.jsxs("div",{className:"h-[500px] flex flex-col border rounded shadow p-4 bg-white relative",children:[v.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 mb-4",children:[e.map(E=>v.jsxs("div",{className:`p-2 max-w-xs rounded ${E.sender==="retailer"?"bg-blue-100 self-end text-right":"bg-gray-100 self-start text-left"}`,children:[v.jsx("p",{className:"text-sm",children:E.message}),E.sender==="assistant"&&E.timestamp&&v.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"✓ Delivered"})]},E.id)),l&&v.jsx("div",{className:"p-2 max-w-xs rounded bg-gray-100 self-start text-left animate-pulse",children:v.jsx("p",{className:"text-sm italic text-gray-500",children:"Assistant is typing..."})}),v.jsx("div",{ref:y})]}),v.jsxs("div",{className:"flex items-center gap-2 relative",children:[v.jsx("input",{type:"text",className:"flex-1 border rounded px-3 py-2 text-sm",placeholder:"Ask something...",value:i,onChange:E=>s(E.target.value),onKeyDown:E=>E.key==="Enter"&&T()}),v.jsx("button",{onClick:T,className:"bg-blue-600 text-white px-4 py-2 rounded text-sm",children:"Send"}),h.length>0&&v.jsx("div",{className:"absolute bottom-14 left-0 right-0 bg-white border rounded shadow text-sm z-10",children:h.map((E,k)=>v.jsx("div",{onClick:()=>{s(E),f([])},className:"px-3 py-2 hover:bg-gray-100 cursor-pointer",children:E},k))})]})]})},sO=({distributor:t,onBack:e})=>{if(!t)return console.warn("⚠️ No distributor passed to ConnectedDistributorPanel"),v.jsx("div",{className:"p-4 text-red-600",children:"Error: No distributor selected."});const[n,i]=C.useState("overview"),s=()=>{switch(n){case"overview":return v.jsxs("div",{className:"p-4",children:[v.jsx("h3",{className:"text-lg font-semibold",children:"Distributor Overview"}),v.jsxs("p",{children:[v.jsx("strong",{children:"Name:"})," ",t?.businessName||t?.distributorName||t?.name||t?.ownerName||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"City:"})," ",t?.city||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Phone:"})," ",t?.phone||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Email:"})," ",t?.email||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"ID:"})," ",t?.id||"N/A"]})]});case"enquiry":return v.jsxs("div",{className:"p-4",children:[v.jsx("h3",{className:"text-lg font-semibold",children:"Send Enquiry"}),v.jsx("textarea",{className:"w-full border p-2 rounded",rows:"4",placeholder:"Type your message about item, pricing or availability..."}),v.jsx("button",{className:"mt-2 bg-blue-600 text-white px-4 py-2 rounded",children:"Send Enquiry"})]});case"order":return v.jsxs("div",{className:"p-4",children:[v.jsx("h3",{className:"text-lg font-semibold",children:"Place Order"}),v.jsx(Kne,{distributorId:t?.id})]});case"chat":return v.jsx("div",{className:"p-4",children:v.jsx(Qne,{distributor:t})});default:return null}};return v.jsxs("div",{className:"bg-white rounded shadow-md mt-4",children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50 rounded-t",children:[v.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Connected to ",t?.businessName||t?.distributorName||t?.name||t?.ownerName||"N/A"]}),e&&v.jsx("button",{onClick:e,className:"text-sm text-blue-600 hover:underline","data-testid":"back-to-distributors",children:"← Back"})]}),v.jsx("div",{className:"flex border-b",children:[{key:"overview",label:"Distributor Overview"},{key:"enquiry",label:"Send Enquiry"},{key:"order",label:"Place Order"},{key:"chat",label:"Smart Assistant"}].map(({key:r,label:a})=>v.jsx("button",{className:`px-4 py-2 text-sm capitalize font-medium ${n===r?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,onClick:()=>i(r),children:a},r))}),v.jsx("div",{children:s()})]})},Zne=({onSelect:t})=>{const[e,n]=C.useState([]),[i,s]=C.useState(!1),r=Jn.currentUser;C.useEffect(()=>{r&&a()},[r]);const a=async()=>{s(!0);try{const f=wn(fn,`businesses/${r.uid}/connectedDistributors`),p=await ta(f);if(p.empty)console.warn(`[ConnectedDistributors] ❌ No connectedDistributors found for user: ${r.uid}`),n([]);else{const y=p.docs.map(x=>{const A=x.data()||{};return{id:x.id,distributorName:A.distributorName||"Unnamed Distributor",city:A.city||"Unknown City",email:A.distributorEmail||"Not Provided",phone:A.distributorPhone||"Not Provided",distributorOwner:A.distributorOwner||"",...A}}).sort((x,A)=>{const T=x.distributorName.toLowerCase(),E=A.distributorName.toLowerCase();return T.localeCompare(E)});console.log(`[ConnectedDistributors] ✅ Found ${y.length} connected distributors`),n(y)}}catch(f){console.error("[ConnectedDistributors] 🔥 Error fetching connected distributors:",f),n([])}s(!1)},[l,u]=C.useState(null),h=async f=>{try{const p=yn(fn,"businesses",f.id),g=await Oi(p);if(g.exists()){const y=g.data();u({...f,...y})}else console.warn(`No profile found for distributor ID: ${f.id}`),u(f)}catch(p){console.error("Failed to fetch distributor profile:",p),u(f)}};return v.jsx("div",{children:i?v.jsx("div",{className:"text-center py-8",children:"Loading connected distributors..."}):l?v.jsxs("div",{children:[v.jsxs("h3",{className:"mb-4 text-lg font-semibold",children:["Distributor: ",l?.distributorName||l?.id]}),v.jsx(sO,{distributor:l,onBack:()=>u(null)})]}):e.length===0?v.jsx("div",{className:"text-center py-8 text-gray-500",children:"No connected distributors found."}):v.jsxs("div",{children:[v.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"View Connected Distributors"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(f=>v.jsxs("div",{className:"p-4 border rounded shadow-sm",children:[v.jsx("h4",{className:"font-medium",children:f.distributorOwner||f.distributorName||f.id}),v.jsx("p",{className:"text-sm text-gray-600",children:f.city||"City unknown"}),(f.phone||f.email)&&v.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[f.phone&&v.jsxs("span",{children:["Phone: ",f.phone," "]}),f.email&&v.jsxs("span",{children:["Email: ",f.email]})]}),v.jsx("button",{onClick:()=>h(f),className:"mt-2 text-sm bg-blue-600 text-white px-3 py-1 rounded",children:"View Details"}),v.jsx("p",{className:"mt-1 text-xs text-green-600 font-semibold",children:"Connected"})]},f.id))})]})})},$N=Symbol.for("constructDateFrom");function Jne(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&$N in t?t[$N](e):t instanceof Date?new t.constructor(e):new Date(e)}function h2(t,e){return Jne(e||t,t)}function eie(t,e){const n=e?.weekStartsOn,i=h2(t,e?.in),s=i.getDay(),r=(s<n?7:0)+s-n;return i.setDate(i.getDate()-r),i.setHours(0,0,0,0),i}function tie(t,e){const n=h2(t,e?.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function nie(t,e){const n=h2(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function iie(t,e){const n=e?.weekStartsOn,i=h2(t,e?.in),s=i.getDay(),r=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+r),i.setHours(23,59,59,999),i}var rO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},YN=An.createContext&&An.createContext(rO),sie=["attr","size","title"];function rie(t,e){if(t==null)return{};var n=aie(t,e),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function aie(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Q1.apply(this,arguments)}function GN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(n),!0).forEach(function(i){oie(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function oie(t,e,n){return e=lie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lie(t){var e=uie(t,"string");return typeof e=="symbol"?e:e+""}function uie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aO(t){return t&&t.map((e,n)=>An.createElement(e.tag,Z1({key:n},e.attr),aO(e.child)))}function Ad(t){return e=>An.createElement(cie,Q1({attr:Z1({},t.attr)},e),aO(t.child))}function cie(t){var e=n=>{var{attr:i,size:s,title:r}=t,a=rie(t,sie),l=s||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),An.createElement("svg",Q1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:u,style:Z1(Z1({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&An.createElement("title",null,r),t.children)};return YN!==void 0?An.createElement(YN.Consumer,null,n=>e(n)):e(rO)}function hie(t){return Ad({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(t)}function die(t){return Ad({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function fie(t){return Ad({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function KN(t){return Ad({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(t)}function pie(t){return Ad({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function mie(t){return Ad({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function gie(t){return Ad({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function yie(t){return Ad({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const oO=C.createContext({});function vie(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const xA=typeof window<"u",bie=xA?C.useLayoutEffect:C.useEffect,_A=C.createContext(null);function SA(t,e){t.indexOf(e)===-1&&t.push(e)}function AA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Wc=(t,e,n)=>n>e?e:n<t?t:n;let TA=()=>{};const $c={},lO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function uO(t){return typeof t=="object"&&t!==null}const cO=t=>/^0[^.\s]+$/u.test(t);function EA(t){let e;return()=>(e===void 0&&(e=t()),e)}const Do=t=>t,wie=(t,e)=>n=>e(t(n)),sy=(...t)=>t.reduce(wie),T0=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class CA{constructor(){this.subscriptions=[]}add(e){return SA(this.subscriptions,e),()=>AA(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let r=0;r<s;r++){const a=this.subscriptions[r];a&&a(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tu=t=>t*1e3,Eu=t=>t/1e3;function hO(t,e){return e?t*(1e3/e):0}const dO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xie=1e-7,_ie=12;function Sie(t,e,n,i,s){let r,a,l=0;do a=e+(n-e)/2,r=dO(a,i,s)-t,r>0?n=a:e=a;while(Math.abs(r)>xie&&++l<_ie);return a}function ry(t,e,n,i){if(t===e&&n===i)return Do;const s=r=>Sie(r,0,1,t,n);return r=>r===0||r===1?r:dO(s(r),e,i)}const fO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pO=t=>e=>1-t(1-e),mO=ry(.33,1.53,.69,.99),NA=pO(mO),gO=fO(NA),yO=t=>(t*=2)<1?.5*NA(t):.5*(2-Math.pow(2,-10*(t-1))),LA=t=>1-Math.sin(Math.acos(t)),vO=pO(LA),bO=fO(LA),Aie=ry(.42,0,1,1),Tie=ry(0,0,.58,1),wO=ry(.42,0,.58,1),Eie=t=>Array.isArray(t)&&typeof t[0]!="number",xO=t=>Array.isArray(t)&&typeof t[0]=="number",Cie={linear:Do,easeIn:Aie,easeInOut:wO,easeOut:Tie,circIn:LA,circInOut:bO,circOut:vO,backIn:NA,backInOut:gO,backOut:mO,anticipate:yO},Nie=t=>typeof t=="string",XN=t=>{if(xO(t)){TA(t.length===4);const[e,n,i,s]=t;return ry(e,n,i,s)}else if(Nie(t))return Cie[t];return t},Dv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],QN={value:null};function Lie(t,e){let n=new Set,i=new Set,s=!1,r=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},u=0;function h(p){a.has(p)&&(f.schedule(p),t()),u++,p(l)}const f={schedule:(p,g=!1,y=!1)=>{const A=y&&s?n:i;return g&&a.add(p),A.has(p)||A.add(p),p},cancel:p=>{i.delete(p),a.delete(p)},process:p=>{if(l=p,s){r=!0;return}s=!0,[n,i]=[i,n],n.forEach(h),e&&QN.value&&QN.value.frameloop[e].push(u),u=0,n.clear(),s=!1,r&&(r=!1,f.process(p))}};return f}const kie=40;function _O(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,a=Dv.reduce((O,B)=>(O[B]=Lie(r,e?B:void 0),O),{}),{setup:l,read:u,resolveKeyframes:h,preUpdate:f,update:p,preRender:g,render:y,postRender:x}=a,A=()=>{const O=$c.useManualTiming?s.timestamp:performance.now();n=!1,$c.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(O-s.timestamp,kie),1)),s.timestamp=O,s.isProcessing=!0,l.process(s),u.process(s),h.process(s),f.process(s),p.process(s),g.process(s),y.process(s),x.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(A))},T=()=>{n=!0,i=!0,s.isProcessing||t(A)};return{schedule:Dv.reduce((O,B)=>{const V=a[B];return O[B]=(Y,I=!1,P=!1)=>(n||T(),V.schedule(Y,I,P)),O},{}),cancel:O=>{for(let B=0;B<Dv.length;B++)a[Dv[B]].cancel(O)},state:s,steps:a}}const{schedule:ji,cancel:yd,state:yr,steps:gx}=_O(typeof requestAnimationFrame<"u"?requestAnimationFrame:Do,!0);let o1;function Pie(){o1=void 0}const Ta={now:()=>(o1===void 0&&Ta.set(yr.isProcessing||$c.useManualTiming?yr.timestamp:performance.now()),o1),set:t=>{o1=t,queueMicrotask(Pie)}},SO=t=>e=>typeof e=="string"&&e.startsWith(t),kA=SO("--"),Rie=SO("var(--"),PA=t=>Rie(t)?Mie.test(t.split("/*")[0].trim()):!1,Mie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},E0={...xm,transform:t=>Wc(0,1,t)},Ov={...xm,default:1},Qg=t=>Math.round(t*1e5)/1e5,RA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Iie(t){return t==null}const Die=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,MA=(t,e)=>n=>!!(typeof n=="string"&&Die.test(n)&&n.startsWith(t)||e&&!Iie(n)&&Object.prototype.hasOwnProperty.call(n,e)),AO=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,r,a,l]=i.match(RA);return{[t]:parseFloat(s),[e]:parseFloat(r),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},Oie=t=>Wc(0,255,t),yx={...xm,transform:t=>Math.round(Oie(t))},hf={test:MA("rgb","red"),parse:AO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+yx.transform(t)+", "+yx.transform(e)+", "+yx.transform(n)+", "+Qg(E0.transform(i))+")"};function jie(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const $_={test:MA("#"),parse:jie,transform:hf.transform},ay=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fh=ay("deg"),Cu=ay("%"),$t=ay("px"),Fie=ay("vh"),Vie=ay("vw"),ZN={...Cu,parse:t=>Cu.parse(t)/100,transform:t=>Cu.transform(t*100)},kp={test:MA("hsl","hue"),parse:AO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Cu.transform(Qg(e))+", "+Cu.transform(Qg(n))+", "+Qg(E0.transform(i))+")"},Ds={test:t=>hf.test(t)||$_.test(t)||kp.test(t),parse:t=>hf.test(t)?hf.parse(t):kp.test(t)?kp.parse(t):$_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?hf.transform(t):kp.transform(t),getAnimatableNone:t=>{const e=Ds.parse(t);return e.alpha=0,Ds.transform(e)}},Uie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Bie(t){return isNaN(t)&&typeof t=="string"&&(t.match(RA)?.length||0)+(t.match(Uie)?.length||0)>0}const TO="number",EO="color",zie="var",qie="var(",JN="${}",Hie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function C0(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const l=e.replace(Hie,u=>(Ds.test(u)?(i.color.push(r),s.push(EO),n.push(Ds.parse(u))):u.startsWith(qie)?(i.var.push(r),s.push(zie),n.push(u)):(i.number.push(r),s.push(TO),n.push(parseFloat(u))),++r,JN)).split(JN);return{values:n,split:l,indexes:i,types:s}}function CO(t){return C0(t).values}function NO(t){const{split:e,types:n}=C0(t),i=e.length;return s=>{let r="";for(let a=0;a<i;a++)if(r+=e[a],s[a]!==void 0){const l=n[a];l===TO?r+=Qg(s[a]):l===EO?r+=Ds.transform(s[a]):r+=s[a]}return r}}const Wie=t=>typeof t=="number"?0:Ds.test(t)?Ds.getAnimatableNone(t):t;function $ie(t){const e=CO(t);return NO(t)(e.map(Wie))}const vd={test:Bie,parse:CO,createTransformer:NO,getAnimatableNone:$ie};function vx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Yie({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,r=0,a=0;if(!e)s=r=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;s=vx(u,l,t+1/3),r=vx(u,l,t),a=vx(u,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}function J1(t,e){return n=>n>0?e:t}const $i=(t,e,n)=>t+(e-t)*n,bx=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},Gie=[$_,hf,kp],Kie=t=>Gie.find(e=>e.test(t));function eL(t){const e=Kie(t);if(!e)return!1;let n=e.parse(t);return e===kp&&(n=Yie(n)),n}const tL=(t,e)=>{const n=eL(t),i=eL(e);if(!n||!i)return J1(t,e);const s={...n};return r=>(s.red=bx(n.red,i.red,r),s.green=bx(n.green,i.green,r),s.blue=bx(n.blue,i.blue,r),s.alpha=$i(n.alpha,i.alpha,r),hf.transform(s))},Y_=new Set(["none","hidden"]);function Xie(t,e){return Y_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Qie(t,e){return n=>$i(t,e,n)}function IA(t){return typeof t=="number"?Qie:typeof t=="string"?PA(t)?J1:Ds.test(t)?tL:ese:Array.isArray(t)?LO:typeof t=="object"?Ds.test(t)?tL:Zie:J1}function LO(t,e){const n=[...t],i=n.length,s=t.map((r,a)=>IA(r)(r,e[a]));return r=>{for(let a=0;a<i;a++)n[a]=s[a](r);return n}}function Zie(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=IA(t[s])(t[s],e[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}}function Jie(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const r=e.types[s],a=t.indexes[r][i[r]],l=t.values[a]??0;n[s]=l,i[r]++}return n}const ese=(t,e)=>{const n=vd.createTransformer(e),i=C0(t),s=C0(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Y_.has(t)&&!s.values.length||Y_.has(e)&&!i.values.length?Xie(t,e):sy(LO(Jie(i,s),s.values),n):J1(t,e)};function kO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?$i(t,e,n):IA(t)(t,e)}const tse=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ji.update(e,n),stop:()=>yd(e),now:()=>yr.isProcessing?yr.timestamp:Ta.now()}},PO=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let r=0;r<s;r++)i+=Math.round(t(r/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},eb=2e4;function DA(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<eb;)e+=n,i=t.next(e);return e>=eb?1/0:e}function nse(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(DA(i),eb);return{type:"keyframes",ease:r=>i.next(s*r).value/e,duration:Eu(s)}}const ise=5;function RO(t,e,n){const i=Math.max(e-ise,0);return hO(n-t(i),e-i)}const ls={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wx=.001;function sse({duration:t=ls.duration,bounce:e=ls.bounce,velocity:n=ls.velocity,mass:i=ls.mass}){let s,r,a=1-e;a=Wc(ls.minDamping,ls.maxDamping,a),t=Wc(ls.minDuration,ls.maxDuration,Eu(t)),a<1?(s=h=>{const f=h*a,p=f*t,g=f-n,y=G_(h,a),x=Math.exp(-p);return wx-g/y*x},r=h=>{const p=h*a*t,g=p*n+n,y=Math.pow(a,2)*Math.pow(h,2)*t,x=Math.exp(-p),A=G_(Math.pow(h,2),a);return(-s(h)+wx>0?-1:1)*((g-y)*x)/A}):(s=h=>{const f=Math.exp(-h*t),p=(h-n)*t+1;return-wx+f*p},r=h=>{const f=Math.exp(-h*t),p=(n-h)*(t*t);return f*p});const l=5/t,u=ase(s,r,l);if(t=Tu(t),isNaN(u))return{stiffness:ls.stiffness,damping:ls.damping,duration:t};{const h=Math.pow(u,2)*i;return{stiffness:h,damping:a*2*Math.sqrt(i*h),duration:t}}}const rse=12;function ase(t,e,n){let i=n;for(let s=1;s<rse;s++)i=i-t(i)/e(i);return i}function G_(t,e){return t*Math.sqrt(1-e*e)}const ose=["duration","bounce"],lse=["stiffness","damping","mass"];function nL(t,e){return e.some(n=>t[n]!==void 0)}function use(t){let e={velocity:ls.velocity,stiffness:ls.stiffness,damping:ls.damping,mass:ls.mass,isResolvedFromDuration:!1,...t};if(!nL(t,lse)&&nL(t,ose))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,r=2*Wc(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ls.mass,stiffness:s,damping:r}}else{const n=sse(t);e={...e,...n,mass:ls.mass},e.isResolvedFromDuration=!0}return e}function tb(t=ls.visualDuration,e=ls.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const r=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:r},{stiffness:u,damping:h,mass:f,duration:p,velocity:g,isResolvedFromDuration:y}=use({...n,velocity:-Eu(n.velocity||0)}),x=g||0,A=h/(2*Math.sqrt(u*f)),T=a-r,E=Eu(Math.sqrt(u/f)),k=Math.abs(T)<5;i||(i=k?ls.restSpeed.granular:ls.restSpeed.default),s||(s=k?ls.restDelta.granular:ls.restDelta.default);let O;if(A<1){const V=G_(E,A);O=Y=>{const I=Math.exp(-A*E*Y);return a-I*((x+A*E*T)/V*Math.sin(V*Y)+T*Math.cos(V*Y))}}else if(A===1)O=V=>a-Math.exp(-E*V)*(T+(x+E*T)*V);else{const V=E*Math.sqrt(A*A-1);O=Y=>{const I=Math.exp(-A*E*Y),P=Math.min(V*Y,300);return a-I*((x+A*E*T)*Math.sinh(P)+V*T*Math.cosh(P))/V}}const B={calculatedDuration:y&&p||null,next:V=>{const Y=O(V);if(y)l.done=V>=p;else{let I=V===0?x:0;A<1&&(I=V===0?Tu(x):RO(O,V,Y));const P=Math.abs(I)<=i,F=Math.abs(a-Y)<=s;l.done=P&&F}return l.value=l.done?a:Y,l},toString:()=>{const V=Math.min(DA(B),eb),Y=PO(I=>B.next(V*I).value,V,30);return V+"ms "+Y},toTransition:()=>{}};return B}tb.applyToOptions=t=>{const e=nse(t,100,tb);return t.ease=e.ease,t.duration=Tu(e.duration),t.type="keyframes",t};function K_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:a,min:l,max:u,restDelta:h=.5,restSpeed:f}){const p=t[0],g={done:!1,value:p},y=P=>l!==void 0&&P<l||u!==void 0&&P>u,x=P=>l===void 0?u:u===void 0||Math.abs(l-P)<Math.abs(u-P)?l:u;let A=n*e;const T=p+A,E=a===void 0?T:a(T);E!==T&&(A=E-p);const k=P=>-A*Math.exp(-P/i),O=P=>E+k(P),B=P=>{const F=k(P),H=O(P);g.done=Math.abs(F)<=h,g.value=g.done?E:H};let V,Y;const I=P=>{y(g.value)&&(V=P,Y=tb({keyframes:[g.value,x(g.value)],velocity:RO(O,P,g.value),damping:s,stiffness:r,restDelta:h,restSpeed:f}))};return I(0),{calculatedDuration:null,next:P=>{let F=!1;return!Y&&V===void 0&&(F=!0,B(P),I(P)),V!==void 0&&P>=V?Y.next(P-V):(!F&&B(P),g)}}}function cse(t,e,n){const i=[],s=n||$c.mix||kO,r=t.length-1;for(let a=0;a<r;a++){let l=s(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||Do:e;l=sy(u,l)}i.push(l)}return i}function hse(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const r=t.length;if(TA(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=cse(e,i,s),u=l.length,h=f=>{if(a&&f<t[0])return e[0];let p=0;if(u>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const g=T0(t[p],t[p+1],f);return l[p](g)};return n?f=>h(Wc(t[0],t[r-1],f)):h}function dse(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=T0(0,e,i);t.push($i(n,1,s))}}function fse(t){const e=[0];return dse(e,t.length-1),e}function pse(t,e){return t.map(n=>n*e)}function mse(t,e){return t.map(()=>e||wO).splice(0,t.length-1)}function Zg({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=Eie(i)?i.map(XN):XN(i),r={done:!1,value:e[0]},a=pse(n&&n.length===e.length?n:fse(e),t),l=hse(a,e,{ease:Array.isArray(s)?s:mse(e,s)});return{calculatedDuration:t,next:u=>(r.value=l(u),r.done=u>=t,r)}}const gse=t=>t!==null;function OA(t,{repeat:e,repeatType:n="loop"},i,s=1){const r=t.filter(gse),l=s<0||e&&n!=="loop"&&e%2===1?0:r.length-1;return!l||i===void 0?r[l]:i}const yse={decay:K_,inertia:K_,tween:Zg,keyframes:Zg,spring:tb};function MO(t){typeof t.type=="string"&&(t.type=yse[t.type])}class jA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const vse=t=>t/100;class FA extends jA{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ta.now()&&this.tick(Ta.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;MO(e);const{type:n=Zg,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=e;let{keyframes:l}=e;const u=n||Zg;u!==Zg&&typeof l[0]!="number"&&(this.mixKeyframes=sy(vse,kO(l[0],l[1])),l=[0,100]);const h=u({...e,keyframes:l});r==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=DA(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:y,type:x,onUpdate:A,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const E=this.currentTime-h*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?E<0:E>s;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let O=this.currentTime,B=i;if(p){const P=Math.min(this.currentTime,s)/l;let F=Math.floor(P),H=P%1;!H&&P>=1&&(H=1),H===1&&F--,F=Math.min(F,p+1),!!(F%2)&&(g==="reverse"?(H=1-H,y&&(H-=y/l)):g==="mirror"&&(B=a)),O=Wc(0,1,H)*l}const V=k?{done:!1,value:f[0]}:B.next(O);r&&(V.value=r(V.value));let{done:Y}=V;!k&&u!==null&&(Y=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return I&&x!==K_&&(V.value=OA(f,this.options,T,this.speed)),A&&A(V.value),I&&this.finish(),V}then(e,n){return this.finished.then(e,n)}get duration(){return Eu(this.calculatedDuration)}get time(){return Eu(this.currentTime)}set time(e){e=Tu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ta.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Eu(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=tse,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ta.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function bse(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const df=t=>t*180/Math.PI,X_=t=>{const e=df(Math.atan2(t[1],t[0]));return Q_(e)},wse={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:X_,rotateZ:X_,skewX:t=>df(Math.atan(t[1])),skewY:t=>df(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Q_=t=>(t=t%360,t<0&&(t+=360),t),iL=X_,sL=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),rL=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),xse={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sL,scaleY:rL,scale:t=>(sL(t)+rL(t))/2,rotateX:t=>Q_(df(Math.atan2(t[6],t[5]))),rotateY:t=>Q_(df(Math.atan2(-t[2],t[0]))),rotateZ:iL,rotate:iL,skewX:t=>df(Math.atan(t[4])),skewY:t=>df(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Z_(t){return t.includes("scale")?1:0}function J_(t,e){if(!t||t==="none")return Z_(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=xse,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=wse,s=l}if(!s)return Z_(e);const r=i[e],a=s[1].split(",").map(Sse);return typeof r=="function"?r(a):a[r]}const _se=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return J_(n,e)};function Sse(t){return parseFloat(t.trim())}const _m=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sm=new Set(_m),aL=t=>t===xm||t===$t,Ase=new Set(["x","y","z"]),Tse=_m.filter(t=>!Ase.has(t));function Ese(t){const e=[];return Tse.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const bf={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>J_(e,"x"),y:(t,{transform:e})=>J_(e,"y")};bf.translateX=bf.x;bf.translateY=bf.y;const wf=new Set;let e5=!1,t5=!1,n5=!1;function IO(){if(t5){const t=Array.from(wf).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=Ese(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([r,a])=>{i.getValue(r)?.set(a)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}t5=!1,e5=!1,wf.forEach(t=>t.complete(n5)),wf.clear()}function DO(){wf.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(t5=!0)})}function Cse(){n5=!0,DO(),IO(),n5=!1}class VA{constructor(e,n,i,s,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(wf.add(this),e5||(e5=!0,ji.read(DO),ji.resolveKeyframes(IO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const r=s?.get(),a=e[e.length-1];if(r!==void 0)e[0]=r;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&r===void 0&&s.set(e[0])}bse(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wf.delete(this)}cancel(){this.state==="scheduled"&&(wf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Nse=t=>t.startsWith("--");function Lse(t,e,n){Nse(e)?t.style.setProperty(e,n):t.style[e]=n}const kse=EA(()=>window.ScrollTimeline!==void 0),Pse={};function Rse(t,e){const n=EA(t);return()=>Pse[e]??n()}const OO=Rse(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dg=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,oL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dg([0,.65,.55,1]),circOut:Dg([.55,0,1,.45]),backIn:Dg([.31,.01,.66,-.59]),backOut:Dg([.33,1.53,.69,.99])};function jO(t,e){if(t)return typeof t=="function"?OO()?PO(t,e):"ease-out":xO(t)?Dg(t):Array.isArray(t)?t.map(n=>jO(n,e)||oL.easeOut):oL[t]}function Mse(t,e,n,{delay:i=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:l="easeOut",times:u}={},h=void 0){const f={[e]:n};u&&(f.offset=u);const p=jO(l,s);Array.isArray(p)&&(f.easing=p);const g={delay:i,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(f,g)}function FO(t){return typeof t=="function"&&"applyToOptions"in t}function Ise({type:t,...e}){return FO(t)&&OO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Dse extends jA{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=e,TA(typeof e.type!="string");const h=Ise(e);this.animation=Mse(n,i,s,h,r),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const f=OA(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):Lse(n,i,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Eu(Number(e))}get time(){return Eu(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Tu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&kse()?(this.animation.timeline=e,Do):n(this)}}const VO={anticipate:yO,backInOut:gO,circInOut:bO};function Ose(t){return t in VO}function jse(t){typeof t.ease=="string"&&Ose(t.ease)&&(t.ease=VO[t.ease])}const lL=10;class Fse extends Dse{constructor(e){jse(e),MO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:r,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new FA({...a,autoplay:!1}),u=Tu(this.finishedTime??this.time);n.setWithVelocity(l.sample(u-lL).value,l.sample(u).value,lL),l.stop()}}const uL=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vd.test(t)||t==="0")&&!t.startsWith("url("));function Vse(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Use(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],a=uL(s,e),l=uL(r,e);return!a||!l?!1:Vse(t)||(n==="spring"||FO(n))&&i}function UO(t){return uO(t)&&"offsetHeight"in t}const Bse=new Set(["opacity","clipPath","filter","transform"]),zse=EA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qse(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:r,type:a}=t;if(!UO(e?.owner?.current))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return zse()&&n&&Bse.has(n)&&(n!=="transform"||!u)&&!l&&!i&&s!=="mirror"&&r!==0&&a!=="inertia"}const Hse=40;class Wse extends jA{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a="loop",keyframes:l,name:u,motionValue:h,element:f,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ta.now();const g={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:r,repeatType:a,name:u,motionValue:h,element:f,...p},y=f?.KeyframeResolver||VA;this.keyframeResolver=new y(l,(x,A,T)=>this.onKeyframesResolved(x,A,g,!T),u,h,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:r,type:a,velocity:l,delay:u,isHandoff:h,onUpdate:f}=i;this.resolvedAt=Ta.now(),Use(e,r,a,l)||(($c.instantAnimations||!u)&&f?.(OA(e,i,n)),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Hse?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},y=!h&&qse(g)?new Fse({...g,element:g.motionValue.owner.current}):new FA(g);y.finished.then(()=>this.notifyFinished()).catch(Do),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Cse()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $se=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Yse(t){const e=$se.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function BO(t,e,n=1){const[i,s]=Yse(t);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const a=r.trim();return lO(a)?parseFloat(a):a}return PA(s)?BO(s,e,n+1):s}function UA(t,e){return t?.[e]??t?.default??t}const zO=new Set(["width","height","top","left","right","bottom",..._m]),Gse={test:t=>t==="auto",parse:t=>t},qO=t=>e=>e.test(t),HO=[xm,$t,Cu,Fh,Vie,Fie,Gse],cL=t=>HO.find(qO(t));function Kse(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cO(t):!0}const Xse=new Set(["brightness","contrast","saturate","opacity"]);function Qse(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(RA)||[];if(!i)return t;const s=n.replace(i,"");let r=Xse.has(e)?1:0;return i!==n&&(r*=100),e+"("+r+s+")"}const Zse=/\b([a-z-]*)\(.*?\)/gu,i5={...vd,getAnimatableNone:t=>{const e=t.match(Zse);return e?e.map(Qse).join(" "):t}},hL={...xm,transform:Math.round},Jse={rotate:Fh,rotateX:Fh,rotateY:Fh,rotateZ:Fh,scale:Ov,scaleX:Ov,scaleY:Ov,scaleZ:Ov,skew:Fh,skewX:Fh,skewY:Fh,distance:$t,translateX:$t,translateY:$t,translateZ:$t,x:$t,y:$t,z:$t,perspective:$t,transformPerspective:$t,opacity:E0,originX:ZN,originY:ZN,originZ:$t},BA={borderWidth:$t,borderTopWidth:$t,borderRightWidth:$t,borderBottomWidth:$t,borderLeftWidth:$t,borderRadius:$t,radius:$t,borderTopLeftRadius:$t,borderTopRightRadius:$t,borderBottomRightRadius:$t,borderBottomLeftRadius:$t,width:$t,maxWidth:$t,height:$t,maxHeight:$t,top:$t,right:$t,bottom:$t,left:$t,padding:$t,paddingTop:$t,paddingRight:$t,paddingBottom:$t,paddingLeft:$t,margin:$t,marginTop:$t,marginRight:$t,marginBottom:$t,marginLeft:$t,backgroundPositionX:$t,backgroundPositionY:$t,...Jse,zIndex:hL,fillOpacity:E0,strokeOpacity:E0,numOctaves:hL},ere={...BA,color:Ds,backgroundColor:Ds,outlineColor:Ds,fill:Ds,stroke:Ds,borderColor:Ds,borderTopColor:Ds,borderRightColor:Ds,borderBottomColor:Ds,borderLeftColor:Ds,filter:i5,WebkitFilter:i5},WO=t=>ere[t];function $O(t,e){let n=WO(t);return n!==i5&&(n=vd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tre=new Set(["auto","none","0"]);function nre(t,e,n){let i=0,s;for(;i<t.length&&!s;){const r=t[i];typeof r=="string"&&!tre.has(r)&&C0(r).values.length&&(s=t[i]),i++}if(s&&n)for(const r of e)t[r]=$O(n,s)}class ire extends VA{constructor(e,n,i,s,r){super(e,n,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),PA(h))){const f=BO(h,n.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!zO.has(i)||e.length!==2)return;const[s,r]=e,a=cL(s),l=cL(r);if(a!==l)if(aL(a)&&aL(l))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else bf[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||Kse(e[s]))&&i.push(s);i.length&&nre(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bf[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=bf[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function sre(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=n?.[t]??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const YO=(t,e)=>e&&typeof t=="number"?e.transform(t):t,dL=30,rre=t=>!isNaN(parseFloat(t));class are{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const r=Ta.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty();s&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ta.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=rre(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new CA);const i=this.events[e].add(n);return e==="change"?()=>{i(),ji.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ta.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dL)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dL);return hO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rm(t,e){return new are(t,e)}const{schedule:zA}=_O(queueMicrotask,!1),ml={x:!1,y:!1};function GO(){return ml.x||ml.y}function ore(t){return t==="x"||t==="y"?ml[t]?null:(ml[t]=!0,()=>{ml[t]=!1}):ml.x||ml.y?null:(ml.x=ml.y=!0,()=>{ml.x=ml.y=!1})}function KO(t,e){const n=sre(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function fL(t){return!(t.pointerType==="touch"||GO())}function lre(t,e,n={}){const[i,s,r]=KO(t,n),a=l=>{if(!fL(l))return;const{target:u}=l,h=e(u,l);if(typeof h!="function"||!u)return;const f=p=>{fL(p)&&(h(p),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,s)};return i.forEach(l=>{l.addEventListener("pointerenter",a,s)}),r}const XO=(t,e)=>e?t===e?!0:XO(t,e.parentElement):!1,qA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ure=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cre(t){return ure.has(t.tagName)||t.tabIndex!==-1}const l1=new WeakSet;function pL(t){return e=>{e.key==="Enter"&&t(e)}}function xx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const hre=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=pL(()=>{if(l1.has(n))return;xx(n,"down");const s=pL(()=>{xx(n,"up")}),r=()=>xx(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",r,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function mL(t){return qA(t)&&!GO()}function dre(t,e,n={}){const[i,s,r]=KO(t,n),a=l=>{const u=l.currentTarget;if(!mL(l))return;l1.add(u);const h=e(u,l),f=(y,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),l1.has(u)&&l1.delete(u),mL(y)&&typeof h=="function"&&h(y,{success:x})},p=y=>{f(y,u===window||u===document||n.useGlobalTarget||XO(u,y.target))},g=y=>{f(y,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",g,s)};return i.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),UO(l)&&(l.addEventListener("focus",h=>hre(h,s)),!cre(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),r}function QO(t){return uO(t)&&"ownerSVGElement"in t}function fre(t){return QO(t)&&t.tagName==="svg"}const qr=t=>!!(t&&t.getVelocity),pre=[...HO,Ds,vd],mre=t=>pre.find(qO(t)),ZO=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function gre(t=!0){const e=C.useContext(_A);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,r=C.useId();C.useEffect(()=>{if(t)return s(r)},[t]);const a=C.useCallback(()=>t&&i&&i(r),[r,i,t]);return!n&&i?[!1,a]:[!0]}const JO=C.createContext({strict:!1}),gL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},am={};for(const t in gL)am[t]={isEnabled:e=>gL[t].some(n=>!!e[n])};function yre(t){for(const e in t)am[e]={...am[e],...t[e]}}const vre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vre.has(t)}let ej=t=>!nb(t);function bre(t){typeof t=="function"&&(ej=e=>e.startsWith("on")?!nb(e):t(e))}try{bre(require("@emotion/is-prop-valid").default)}catch{}function wre(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(ej(s)||n===!0&&nb(s)||!e&&!nb(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}function xre(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const d2=C.createContext({});function f2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function N0(t){return typeof t=="string"||Array.isArray(t)}const HA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],WA=["initial",...HA];function p2(t){return f2(t.animate)||WA.some(e=>N0(t[e]))}function tj(t){return!!(p2(t)||t.variants)}function _re(t,e){if(p2(t)){const{initial:n,animate:i}=t;return{initial:n===!1||N0(n)?n:void 0,animate:N0(i)?i:void 0}}return t.inherit!==!1?e:{}}function Sre(t){const{initial:e,animate:n}=_re(t,C.useContext(d2));return C.useMemo(()=>({initial:e,animate:n}),[yL(e),yL(n)])}function yL(t){return Array.isArray(t)?t.join(" "):t}const Are=Symbol.for("motionComponentSymbol");function Pp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Tre(t,e,n){return C.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Pp(n)&&(n.current=i))},[e])}const $A=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ere="framerAppearId",nj="data-"+$A(Ere),ij=C.createContext({});function Cre(t,e,n,i,s){const{visualElement:r}=C.useContext(d2),a=C.useContext(JO),l=C.useContext(_A),u=C.useContext(ZO).reducedMotion,h=C.useRef(null);i=i||a.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:r,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,p=C.useContext(ij);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Nre(h.current,n,s,p);const g=C.useRef(!1);C.useInsertionEffect(()=>{f&&g.current&&f.update(n,l)});const y=n[nj],x=C.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return bie(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),zA.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),C.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),x.current=!1))}),f}function Nre(t,e,n,i){const{layoutId:s,layout:r,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:h,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sj(t.parent)),t.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||l&&Pp(l),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:u,layoutRoot:h})}function sj(t){if(t)return t.options.allowProjection!==!1?t.projection:sj(t.parent)}function Lre({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:s}){t&&yre(t);function r(l,u){let h;const f={...C.useContext(ZO),...l,layoutId:kre(l)},{isStatic:p}=f,g=Sre(l),y=i(l,p);if(!p&&xA){Pre();const x=Rre(f);h=x.MeasureLayout,g.visualElement=Cre(s,y,f,e,x.ProjectionNode)}return v.jsxs(d2.Provider,{value:g,children:[h&&g.visualElement?v.jsx(h,{visualElement:g.visualElement,...f}):null,n(s,l,Tre(y,g.visualElement,u),y,p,g.visualElement)]})}r.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=C.forwardRef(r);return a[Are]=s,a}function kre({layoutId:t}){const e=C.useContext(oO).id;return e&&t!==void 0?e+"-"+t:t}function Pre(t,e){C.useContext(JO).strict}function Rre(t){const{drag:e,layout:n}=am;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const L0={};function Mre(t){for(const e in t)L0[e]=t[e],kA(e)&&(L0[e].isCSSVariable=!0)}function rj(t,{layout:e,layoutId:n}){return Sm.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!L0[t]||t==="opacity")}const Ire={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Dre=_m.length;function Ore(t,e,n){let i="",s=!0;for(let r=0;r<Dre;r++){const a=_m[r],l=t[a];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(a.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const h=YO(l,BA[a]);if(!u){s=!1;const f=Ire[a]||a;i+=`${f}(${h}) `}n&&(e[a]=h)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function YA(t,e,n){const{style:i,vars:s,transformOrigin:r}=t;let a=!1,l=!1;for(const u in e){const h=e[u];if(Sm.has(u)){a=!0;continue}else if(kA(u)){s[u]=h;continue}else{const f=YO(h,BA[u]);u.startsWith("origin")?(l=!0,r[u]=f):i[u]=f}}if(e.transform||(a||n?i.transform=Ore(e,t.transform,n):i.transform&&(i.transform="none")),l){const{originX:u="50%",originY:h="50%",originZ:f=0}=r;i.transformOrigin=`${u} ${h} ${f}`}}const GA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aj(t,e,n){for(const i in e)!qr(e[i])&&!rj(i,n)&&(t[i]=e[i])}function jre({transformTemplate:t},e){return C.useMemo(()=>{const n=GA();return YA(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Fre(t,e){const n=t.style||{},i={};return aj(i,n,t),Object.assign(i,jre(t,e)),i}function Vre(t,e){const n={},i=Fre(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Ure={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bre={offset:"strokeDashoffset",array:"strokeDasharray"};function zre(t,e,n=1,i=0,s=!0){t.pathLength=1;const r=s?Ure:Bre;t[r.offset]=$t.transform(-i);const a=$t.transform(e),l=$t.transform(n);t[r.array]=`${a} ${l}`}function oj(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:a=0,...l},u,h,f){if(YA(t,l,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=f?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),s!==void 0&&zre(p,s,r,a,!1)}const lj=()=>({...GA(),attrs:{}}),uj=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qre(t,e,n,i){const s=C.useMemo(()=>{const r=lj();return oj(r,e,uj(i),t.transformTemplate,t.style),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};aj(r,t.style,t),s.style={...r,...s.style}}return s}const Hre=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function KA(t){return typeof t!="string"||t.includes("-")?!1:!!(Hre.indexOf(t)>-1||/[A-Z]/u.test(t))}function Wre(t=!1){return(n,i,s,{latestValues:r},a)=>{const u=(KA(n)?qre:Vre)(i,r,a,n),h=wre(i,typeof n=="string",t),f=n!==C.Fragment?{...h,...u,ref:s}:{},{children:p}=i,g=C.useMemo(()=>qr(p)?p.get():p,[p]);return C.createElement(n,{...f,children:g})}}function vL(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function XA(t,e,n,i){if(typeof e=="function"){const[s,r]=vL(i);e=e(n!==void 0?n:t.custom,s,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,r]=vL(i);e=e(n!==void 0?n:t.custom,s,r)}return e}function u1(t){return qr(t)?t.get():t}function $re({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:Yre(n,i,s,t),renderState:e()}}const cj=t=>(e,n)=>{const i=C.useContext(d2),s=C.useContext(_A),r=()=>$re(t,e,i,s);return n?r():vie(r)};function Yre(t,e,n,i){const s={},r=i(t,{});for(const g in r)s[g]=u1(r[g]);let{initial:a,animate:l}=t;const u=p2(t),h=tj(t);e&&h&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const p=f?l:a;if(p&&typeof p!="boolean"&&!f2(p)){const g=Array.isArray(p)?p:[p];for(let y=0;y<g.length;y++){const x=XA(t,g[y]);if(x){const{transitionEnd:A,transition:T,...E}=x;for(const k in E){let O=E[k];if(Array.isArray(O)){const B=f?O.length-1:0;O=O[B]}O!==null&&(s[k]=O)}for(const k in A)s[k]=A[k]}}}return s}function QA(t,e,n){const{style:i}=t,s={};for(const r in i)(qr(i[r])||e.style&&qr(e.style[r])||rj(r,t)||n?.getValue(r)?.liveStyle!==void 0)&&(s[r]=i[r]);return s}const Gre={useVisualState:cj({scrapeMotionValuesFromProps:QA,createRenderState:GA})};function hj(t,e,n){const i=QA(t,e,n);for(const s in t)if(qr(t[s])||qr(e[s])){const r=_m.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=t[s]}return i}const Kre={useVisualState:cj({scrapeMotionValuesFromProps:hj,createRenderState:lj})};function Xre(t,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...KA(i)?Kre:Gre,preloadedFeatures:t,useRender:Wre(s),createVisualElement:e,Component:i};return Lre(a)}}function k0(t,e,n){const i=t.getProps();return XA(i,e,n!==void 0?n:i.custom,t)}const s5=t=>Array.isArray(t);function Qre(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,rm(n))}function Zre(t){return s5(t)?t[t.length-1]||0:t}function Jre(t,e){const n=k0(t,e);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const a in r){const l=Zre(r[a]);Qre(t,a,l)}}function eae(t){return!!(qr(t)&&t.add)}function r5(t,e){const n=t.getValue("willChange");if(eae(n))return n.add(e);if(!n&&$c.WillChange){const i=new $c.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function dj(t){return t.props[nj]}const tae=t=>t!==null;function nae(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(tae),r=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[r]}const iae={type:"spring",stiffness:500,damping:25,restSpeed:10},sae=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rae={type:"keyframes",duration:.8},aae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oae=(t,{keyframes:e})=>e.length>2?rae:Sm.has(t)?t.startsWith("scale")?sae(e[1]):iae:aae;function lae({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:l,from:u,elapsed:h,...f}){return!!Object.keys(f).length}const ZA=(t,e,n,i={},s,r)=>a=>{const l=UA(i,t)||{},u=l.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Tu(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:r?void 0:s};lae(l)||Object.assign(f,oae(t,f)),f.duration&&(f.duration=Tu(f.duration)),f.repeatDelay&&(f.repeatDelay=Tu(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),($c.instantAnimations||$c.skipAnimations)&&(p=!0,f.duration=0,f.delay=0),f.allowFlatten=!l.type&&!l.ease,p&&!r&&e.get()!==void 0){const g=nae(f.keyframes,l);if(g!==void 0){ji.update(()=>{f.onUpdate(g),f.onComplete()});return}}return l.isSync?new FA(f):new Wse(f)};function uae({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function fj(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:r=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(r=i);const u=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const p=t.getValue(f,t.latestValues[f]??null),g=l[f];if(g===void 0||h&&uae(h,f))continue;const y={delay:n,...UA(r||{},f)},x=p.get();if(x!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===x&&!y.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const E=dj(t);if(E){const k=window.MotionHandoffAnimation(E,f,ji);k!==null&&(y.startTime=k,A=!0)}}r5(t,f),p.start(ZA(f,p,g,t.shouldReduceMotion&&zO.has(f)?{type:!1}:y,t,A));const T=p.animation;T&&u.push(T)}return a&&Promise.all(u).then(()=>{ji.update(()=>{a&&Jre(t,a)})}),u}function a5(t,e,n={}){const i=k0(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const r=i?()=>Promise.all(fj(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=s;return cae(t,e,u,h,f,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,h]=l==="beforeChildren"?[r,a]:[a,r];return u().then(()=>h())}else return Promise.all([r(),a(n.delay)])}function cae(t,e,n=0,i=0,s=0,r=1,a){const l=[],u=t.variantChildren.size,h=(u-1)*s,f=typeof i=="function",p=f?g=>i(g,u):r===1?(g=0)=>g*s:(g=0)=>h-g*s;return Array.from(t.variantChildren).sort(hae).forEach((g,y)=>{g.notify("AnimationStart",e),l.push(a5(g,e,{...a,delay:n+(f?0:i)+p(y)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(l)}function hae(t,e){return t.sortNodePosition(e)}function dae(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>a5(t,r,n));i=Promise.all(s)}else if(typeof e=="string")i=a5(t,e,n);else{const s=typeof e=="function"?k0(t,e,n.custom):e;i=Promise.all(fj(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function pj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const fae=WA.length;function mj(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mj(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fae;n++){const i=WA[n],s=t.props[i];(N0(s)||s===!1)&&(e[i]=s)}return e}const pae=[...HA].reverse(),mae=HA.length;function gae(t){return e=>Promise.all(e.map(({animation:n,options:i})=>dae(t,n,i)))}function yae(t){let e=gae(t),n=bL(),i=!0;const s=u=>(h,f)=>{const p=k0(t,f,u==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:y,...x}=p;h={...h,...x,...y}}return h};function r(u){e=u(t)}function a(u){const{props:h}=t,f=mj(t.parent)||{},p=[],g=new Set;let y={},x=1/0;for(let T=0;T<mae;T++){const E=pae[T],k=n[E],O=h[E]!==void 0?h[E]:f[E],B=N0(O),V=E===u?k.isActive:null;V===!1&&(x=T);let Y=O===f[E]&&O!==h[E]&&B;if(Y&&i&&t.manuallyAnimateOnMount&&(Y=!1),k.protectedKeys={...y},!k.isActive&&V===null||!O&&!k.prevProp||f2(O)||typeof O=="boolean")continue;const I=vae(k.prevProp,O);let P=I||E===u&&k.isActive&&!Y&&B||T>x&&B,F=!1;const H=Array.isArray(O)?O:[O];let M=H.reduce(s(E),{});V===!1&&(M={});const{prevResolvedValues:j={}}=k,z={...j,...M},te=ue=>{P=!0,g.has(ue)&&(F=!0,g.delete(ue)),k.needsAnimating[ue]=!0;const ce=t.getValue(ue);ce&&(ce.liveStyle=!1)};for(const ue in z){const ce=M[ue],ye=j[ue];if(y.hasOwnProperty(ue))continue;let Z=!1;s5(ce)&&s5(ye)?Z=!pj(ce,ye):Z=ce!==ye,Z?ce!=null?te(ue):g.add(ue):ce!==void 0&&g.has(ue)?te(ue):k.protectedKeys[ue]=!0}k.prevProp=O,k.prevResolvedValues=M,k.isActive&&(y={...y,...M}),i&&t.blockInitialAnimation&&(P=!1),P&&(!(Y&&I)||F)&&p.push(...H.map(ue=>({animation:ue,options:{type:E}})))}if(g.size){const T={};if(typeof h.initial!="boolean"){const E=k0(t,Array.isArray(h.initial)?h.initial[0]:h.initial);E&&E.transition&&(T.transition=E.transition)}g.forEach(E=>{const k=t.getBaseTarget(E),O=t.getValue(E);O&&(O.liveStyle=!0),T[E]=k??null}),p.push({animation:T})}let A=!!p.length;return i&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(p):Promise.resolve()}function l(u,h){if(n[u].isActive===h)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(u,h)),n[u].isActive=h;const f=a(u);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:r,getState:()=>n,reset:()=>{n=bL(),i=!0}}}function vae(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pj(e,t):!1}function Jd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bL(){return{animate:Jd(!0),whileInView:Jd(),whileHover:Jd(),whileTap:Jd(),whileDrag:Jd(),whileFocus:Jd(),exit:Jd()}}class Td{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bae extends Td{constructor(e){super(e),e.animationState||(e.animationState=yae(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();f2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let wae=0;class xae extends Td{constructor(){super(...arguments),this.id=wae++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const _ae={animation:{Feature:bae},exit:{Feature:xae}};function P0(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function oy(t){return{point:{x:t.pageX,y:t.pageY}}}const Sae=t=>e=>qA(e)&&t(e,oy(e));function Jg(t,e,n,i){return P0(t,e,Sae(n),i)}function gj({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Aae({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Tae(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const yj=1e-4,Eae=1-yj,Cae=1+yj,vj=.01,Nae=0-vj,Lae=0+vj;function ea(t){return t.max-t.min}function kae(t,e,n){return Math.abs(t-e)<=n}function wL(t,e,n,i=.5){t.origin=i,t.originPoint=$i(e.min,e.max,t.origin),t.scale=ea(n)/ea(e),t.translate=$i(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Eae&&t.scale<=Cae||isNaN(t.scale))&&(t.scale=1),(t.translate>=Nae&&t.translate<=Lae||isNaN(t.translate))&&(t.translate=0)}function e0(t,e,n,i){wL(t.x,e.x,n.x,i?i.originX:void 0),wL(t.y,e.y,n.y,i?i.originY:void 0)}function xL(t,e,n){t.min=n.min+e.min,t.max=t.min+ea(e)}function Pae(t,e,n){xL(t.x,e.x,n.x),xL(t.y,e.y,n.y)}function _L(t,e,n){t.min=e.min-n.min,t.max=t.min+ea(e)}function t0(t,e,n){_L(t.x,e.x,n.x),_L(t.y,e.y,n.y)}const SL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rp=()=>({x:SL(),y:SL()}),AL=()=>({min:0,max:0}),ws=()=>({x:AL(),y:AL()});function ko(t){return[t("x"),t("y")]}function _x(t){return t===void 0||t===1}function o5({scale:t,scaleX:e,scaleY:n}){return!_x(t)||!_x(e)||!_x(n)}function af(t){return o5(t)||bj(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bj(t){return TL(t.x)||TL(t.y)}function TL(t){return t&&t!=="0%"}function ib(t,e,n){const i=t-n,s=e*i;return n+s}function EL(t,e,n,i,s){return s!==void 0&&(t=ib(t,s,i)),ib(t,n,i)+e}function l5(t,e=0,n=1,i,s){t.min=EL(t.min,e,n,i,s),t.max=EL(t.max,e,n,i,s)}function wj(t,{x:e,y:n}){l5(t.x,e.translate,e.scale,e.originPoint),l5(t.y,n.translate,n.scale,n.originPoint)}const CL=.999999999999,NL=1.0000000000001;function Rae(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let r,a;for(let l=0;l<s;l++){r=n[l],a=r.projectionDelta;const{visualElement:u}=r.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Ip(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,wj(t,a)),i&&af(r.latestValues)&&Ip(t,r.latestValues))}e.x<NL&&e.x>CL&&(e.x=1),e.y<NL&&e.y>CL&&(e.y=1)}function Mp(t,e){t.min=t.min+e,t.max=t.max+e}function LL(t,e,n,i,s=.5){const r=$i(t.min,t.max,s);l5(t,e,n,r,i)}function Ip(t,e){LL(t.x,e.x,e.scaleX,e.scale,e.originX),LL(t.y,e.y,e.scaleY,e.scale,e.originY)}function xj(t,e){return gj(Tae(t.getBoundingClientRect(),e))}function Mae(t,e,n){const i=xj(t,n),{scroll:s}=e;return s&&(Mp(i.x,s.offset.x),Mp(i.y,s.offset.y)),i}const _j=({current:t})=>t?t.ownerDocument.defaultView:null,kL=(t,e)=>Math.abs(t-e);function Iae(t,e){const n=kL(t.x,e.x),i=kL(t.y,e.y);return Math.sqrt(n**2+i**2)}class Sj{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ax(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=Iae(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!x)return;const{point:A}=g,{timestamp:T}=yr;this.history.push({...A,timestamp:T});const{onStart:E,onMove:k}=this.handlers;y||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Sx(y,this.transformPagePoint),ji.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:x,onSessionEnd:A,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Ax(g.type==="pointercancel"?this.lastMoveEventInfo:Sx(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,E),A&&A(g,E)},!qA(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=s||window;const l=oy(e),u=Sx(l,this.transformPagePoint),{point:h}=u,{timestamp:f}=yr;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,Ax(u,this.history)),this.removeListeners=sy(Jg(this.contextWindow,"pointermove",this.handlePointerMove),Jg(this.contextWindow,"pointerup",this.handlePointerUp),Jg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),yd(this.updatePoint)}}function Sx(t,e){return e?{point:e(t.point)}:t}function PL(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ax({point:t},e){return{point:t,delta:PL(t,Aj(e)),offset:PL(t,Dae(e)),velocity:Oae(e,.1)}}function Dae(t){return t[0]}function Aj(t){return t[t.length-1]}function Oae(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=Aj(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>Tu(e)));)n--;if(!i)return{x:0,y:0};const r=Eu(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function jae(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?$i(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?$i(n,t,i.max):Math.min(t,n)),t}function RL(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Fae(t,{top:e,left:n,bottom:i,right:s}){return{x:RL(t.x,n,s),y:RL(t.y,e,i)}}function ML(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Vae(t,e){return{x:ML(t.x,e.x),y:ML(t.y,e.y)}}function Uae(t,e){let n=.5;const i=ea(t),s=ea(e);return s>i?n=T0(e.min,e.max-i,t.min):i>s&&(n=T0(t.min,t.max-s,e.min)),Wc(0,1,n)}function Bae(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const u5=.35;function zae(t=u5){return t===!1?t=0:t===!0&&(t=u5),{x:IL(t,"left","right"),y:IL(t,"top","bottom")}}function IL(t,e,n){return{min:DL(t,e),max:DL(t,n)}}function DL(t,e){return typeof t=="number"?t:t[e]||0}const qae=new WeakMap;class Hae{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ws(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(oy(p).point)},a=(p,g)=>{const{drag:y,dragPropagation:x,onDragStart:A}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ore(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ko(E=>{let k=this.getAxisMotionValue(E).get()||0;if(Cu.test(k)){const{projection:O}=this.visualElement;if(O&&O.layout){const B=O.layout.layoutBox[E];B&&(k=ea(B)*(parseFloat(k)/100))}}this.originPoint[E]=k}),A&&ji.postRender(()=>A(p,g)),r5(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},l=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:A,onDrag:T}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:E}=g;if(x&&this.currentDirection===null){this.currentDirection=Wae(E),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),T&&T(p,g)},u=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>ko(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new Sj(e,{onSessionStart:r,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:i,contextWindow:_j(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!s||!i)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ji.postRender(()=>l(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!jv(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=jae(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Pp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Fae(i.layoutBox,e):this.constraints=!1,this.elastic=zae(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ko(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=Bae(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Pp(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=Mae(i,s.root,this.visualElement.getTransformPagePoint());let a=Vae(s.layout.layoutBox,r);if(n){const l=n(Aae(a));this.hasMutatedConstraints=!!l,l&&(a=gj(l))}return a}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},h=ko(f=>{if(!jv(f,n,this.currentDirection))return;let p=u&&u[f]||{};a&&(p={min:0,max:0});const g=s?200:1e6,y=s?40:1e7,x={type:"inertia",velocity:i?e[f]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...r,...p};return this.startAxisValueAnimation(f,x)});return Promise.all(h).then(l)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return r5(this.visualElement,e),i.start(ZA(e,i,0,n,this.visualElement,!1))}stopAnimation(){ko(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ko(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ko(n=>{const{drag:i}=this.getProps();if(!jv(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];r.set(e[n]-$i(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Pp(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ko(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();s[a]=Uae({min:u,max:u},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ko(a=>{if(!jv(a,e,null))return;const l=this.getAxisMotionValue(a),{min:u,max:h}=this.constraints[a];l.set($i(u,h,s[a]))})}addListeners(){if(!this.visualElement.current)return;qae.set(this.visualElement,this);const e=this.visualElement.current,n=Jg(e,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();Pp(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ji.read(i);const a=P0(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(ko(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())});return()=>{a(),n(),r(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=u5,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:l}}}function jv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Wae(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $ae extends Td{constructor(e){super(e),this.removeGroupControls=Do,this.removeListeners=Do,this.controls=new Hae(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Do}unmount(){this.removeGroupControls(),this.removeListeners()}}const OL=t=>(e,n)=>{t&&ji.postRender(()=>t(e,n))};class Yae extends Td{constructor(){super(...arguments),this.removePointerDownListener=Do}onPointerDown(e){this.session=new Sj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_j(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:OL(e),onStart:OL(n),onMove:i,onEnd:(r,a)=>{delete this.session,s&&ji.postRender(()=>s(r,a))}}}mount(){this.removePointerDownListener=Jg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const c1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jL(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($t.test(t))t=parseFloat(t);else return t;const n=jL(t,e.target.x),i=jL(t,e.target.y);return`${n}% ${i}%`}},Gae={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=vd.parse(t);if(s.length>5)return i;const r=vd.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=u;const h=$i(l,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=h),typeof s[3+a]=="number"&&(s[3+a]/=h),r(s)}};let FL=!1;class Kae extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;Mre(Xae),r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),FL&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),c1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,{projection:a}=i;return a&&(a.isPresent=r,FL=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==r?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||ji.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Tj(t){const[e,n]=gre(),i=C.useContext(oO);return v.jsx(Kae,{...t,layoutGroup:i,switchLayoutGroup:C.useContext(ij),isPresent:e,safeToRemove:n})}const Xae={borderRadius:{...Sg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sg,borderTopRightRadius:Sg,borderBottomLeftRadius:Sg,borderBottomRightRadius:Sg,boxShadow:Gae};function Qae(t,e,n){const i=qr(t)?t:rm(t);return i.start(ZA("",i,e,n)),i.animation}const Zae=(t,e)=>t.depth-e.depth;class Jae{constructor(){this.children=[],this.isDirty=!1}add(e){SA(this.children,e),this.isDirty=!0}remove(e){AA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Zae),this.isDirty=!1,this.children.forEach(e)}}function eoe(t,e){const n=Ta.now(),i=({timestamp:s})=>{const r=s-n;r>=e&&(yd(i),t(r-e))};return ji.setup(i,!0),()=>yd(i)}const Ej=["TopLeft","TopRight","BottomLeft","BottomRight"],toe=Ej.length,VL=t=>typeof t=="string"?parseFloat(t):t,UL=t=>typeof t=="number"||$t.test(t);function noe(t,e,n,i,s,r){s?(t.opacity=$i(0,n.opacity??1,ioe(i)),t.opacityExit=$i(e.opacity??1,0,soe(i))):r&&(t.opacity=$i(e.opacity??1,n.opacity??1,i));for(let a=0;a<toe;a++){const l=`border${Ej[a]}Radius`;let u=BL(e,l),h=BL(n,l);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||UL(u)===UL(h)?(t[l]=Math.max($i(VL(u),VL(h),i),0),(Cu.test(h)||Cu.test(u))&&(t[l]+="%")):t[l]=h}(e.rotate||n.rotate)&&(t.rotate=$i(e.rotate||0,n.rotate||0,i))}function BL(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ioe=Cj(0,.5,vO),soe=Cj(.5,.95,Do);function Cj(t,e,n){return i=>i<t?0:i>e?1:n(T0(t,e,i))}function zL(t,e){t.min=e.min,t.max=e.max}function Lo(t,e){zL(t.x,e.x),zL(t.y,e.y)}function qL(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function HL(t,e,n,i,s){return t-=e,t=ib(t,1/n,i),s!==void 0&&(t=ib(t,1/s,i)),t}function roe(t,e=0,n=1,i=.5,s,r=t,a=t){if(Cu.test(e)&&(e=parseFloat(e),e=$i(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=$i(r.min,r.max,i);t===r&&(l-=e),t.min=HL(t.min,e,n,l,s),t.max=HL(t.max,e,n,l,s)}function WL(t,e,[n,i,s],r,a){roe(t,e[n],e[i],e[s],e.scale,r,a)}const aoe=["x","scaleX","originX"],ooe=["y","scaleY","originY"];function $L(t,e,n,i){WL(t.x,e,aoe,n?n.x:void 0,i?i.x:void 0),WL(t.y,e,ooe,n?n.y:void 0,i?i.y:void 0)}function YL(t){return t.translate===0&&t.scale===1}function Nj(t){return YL(t.x)&&YL(t.y)}function GL(t,e){return t.min===e.min&&t.max===e.max}function loe(t,e){return GL(t.x,e.x)&&GL(t.y,e.y)}function KL(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Lj(t,e){return KL(t.x,e.x)&&KL(t.y,e.y)}function XL(t){return ea(t.x)/ea(t.y)}function QL(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class uoe{constructor(){this.members=[]}add(e){SA(this.members,e),e.scheduleRender()}remove(e){if(AA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function coe(t,e,n){let i="";const s=t.x.translate/e.x,r=t.y.translate/e.y,a=n?.z||0;if((s||r||a)&&(i=`translate3d(${s}px, ${r}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:f,rotateX:p,rotateY:g,skewX:y,skewY:x}=n;h&&(i=`perspective(${h}px) ${i}`),f&&(i+=`rotate(${f}deg) `),p&&(i+=`rotateX(${p}deg) `),g&&(i+=`rotateY(${g}deg) `),y&&(i+=`skewX(${y}deg) `),x&&(i+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(i+=`scale(${l}, ${u})`),i||"none"}const Tx=["","X","Y","Z"],hoe=1e3;let doe=0;function Ex(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function kj(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=dj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ji,!(s||r))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&kj(i)}function Pj({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},l=e?.()){this.id=doe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(moe),this.nodes.forEach(boe),this.nodes.forEach(woe),this.nodes.forEach(goe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jae)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new CA),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=QO(a)&&!fre(a),this.instance=a;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),t){let f,p=0;const g=()=>this.root.updateBlockedByResize=!1;ji.read(()=>{p=window.innerWidth}),t(a,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,f&&f(),f=eoe(g,250),c1.hasAnimatedSinceResize&&(c1.hasAnimatedSinceResize=!1,this.nodes.forEach(ek)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||Toe,{onLayoutAnimationStart:A,onLayoutAnimationComplete:T}=h.getProps(),E=!this.targetLayout||!Lj(this.targetLayout,y),k=!p&&g;if(this.options.layoutRoot||this.resumeFrom||k||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...UA(x,"layout"),onPlay:A,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(f,k)}else p||ek(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),yd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xoe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZL);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(JL);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(voe),this.nodes.forEach(foe),this.nodes.forEach(poe)):this.nodes.forEach(JL),this.clearAllSnapshots();const l=Ta.now();yr.delta=Wc(0,1e3/60,l-yr.timestamp),yr.timestamp=l,yr.isProcessing=!0,gx.update.process(yr),gx.preRender.process(yr),gx.render.process(yr),yr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yoe),this.sharedNodes.forEach(_oe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ji.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ji.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ea(this.snapshot.measuredBox.x)&&!ea(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ws(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Nj(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;a&&this.instance&&(l||af(this.latestValues)||f)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),Eoe(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return ws();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Coe))){const{scroll:h}=this.root;h&&(Mp(l.x,h.offset.x),Mp(l.y,h.offset.y))}return l}removeElementScroll(a){const l=ws();if(Lo(l,a),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Lo(l,a),Mp(l.x,f.offset.x),Mp(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const u=ws();Lo(u,a);for(let h=0;h<this.path.length;h++){const f=this.path[h];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ip(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),af(f.latestValues)&&Ip(u,f.latestValues)}return af(this.latestValues)&&Ip(u,this.latestValues),u}removeTransform(a){const l=ws();Lo(l,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!af(h.latestValues))continue;o5(h.latestValues)&&h.updateSnapshot();const f=ws(),p=h.measurePageBox();Lo(f,p),$L(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return af(this.latestValues)&&$L(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=yr.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ws(),this.relativeTargetOrigin=ws(),t0(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Lo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ws(),this.targetWithTransforms=ws()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Pae(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lo(this.target,this.layout.layoutBox),wj(this.target,this.targetDelta)):Lo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ws(),this.relativeTargetOrigin=ws(),t0(this.relativeTargetOrigin,this.target,g.target),Lo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||o5(this.parent.latestValues)||bj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===yr.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Lo(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;Rae(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ws());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qL(this.prevProjectionDelta.x,this.projectionDelta.x),qL(this.prevProjectionDelta.y,this.projectionDelta.y)),e0(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!QL(this.projectionDelta.x,this.prevProjectionDelta.x)||!QL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rp(),this.projectionDelta=Rp(),this.projectionDeltaWithTransform=Rp()}setAnimationOrigin(a,l=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},p=Rp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=ws(),y=u?u.source:void 0,x=this.layout?this.layout.source:void 0,A=y!==x,T=this.getStack(),E=!T||T.members.length<=1,k=!!(A&&!E&&this.options.crossfade===!0&&!this.path.some(Aoe));this.animationProgress=0;let O;this.mixTargetDelta=B=>{const V=B/1e3;tk(p.x,a.x,V),tk(p.y,a.y,V),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(t0(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Soe(this.relativeTarget,this.relativeTargetOrigin,g,V),O&&loe(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=ws()),Lo(O,this.relativeTarget)),A&&(this.animationValues=f,noe(f,h,this.latestValues,V,k,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(yd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ji.update(()=>{c1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=rm(0)),this.currentAnimation=Qae(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hoe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:h,latestValues:f}=a;if(!(!l||!u||!h)){if(this!==a&&this.layout&&h&&Rj(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||ws();const p=ea(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+p;const g=ea(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+g}Lo(l,u),Ip(l,f),e0(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new uoe),this.sharedNodes.get(a).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const h={};u.z&&Ex("z",a,h,this.animationValues);for(let f=0;f<Tx.length;f++)Ex(`rotate${Tx[f]}`,a,h,this.animationValues),Ex(`skew${Tx[f]}`,a,h,this.animationValues);a.render();for(const f in h)a.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=u1(l?.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=u1(l?.pointerEvents)||""),this.hasProjected&&!af(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let p=coe(this.projectionDeltaWithTransform,this.treeScale,f);u&&(p=u(f,p)),a.transform=p;const{x:g,y}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?a.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in L0){if(f[x]===void 0)continue;const{correct:A,applyTo:T,isCSSVariable:E}=L0[x],k=p==="none"?f[x]:A(f[x],h);if(T){const O=T.length;for(let B=0;B<O;B++)a[T[B]]=k}else E?this.options.visualElement.renderState.vars[x]=k:a[x]=k}this.options.layoutId&&(a.pointerEvents=h===this?u1(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(ZL),this.root.sharedNodes.clear()}}}function foe(t){t.updateLayout()}function poe(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,r=e.source!==t.layout.source;s==="size"?ko(f=>{const p=r?e.measuredBox[f]:e.layoutBox[f],g=ea(p);p.min=n[f].min,p.max=p.min+g}):Rj(s,e.layoutBox,n)&&ko(f=>{const p=r?e.measuredBox[f]:e.layoutBox[f],g=ea(n[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=Rp();e0(a,n,e.layoutBox);const l=Rp();r?e0(l,t.applyTransform(i,!0),e.measuredBox):e0(l,n,e.layoutBox);const u=!Nj(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const y=ws();t0(y,e.layoutBox,p.layoutBox);const x=ws();t0(x,n,g.layoutBox),Lj(y,x)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function moe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function goe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yoe(t){t.clearSnapshot()}function ZL(t){t.clearMeasurements()}function JL(t){t.isLayoutDirty=!1}function voe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ek(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function boe(t){t.resolveTargetDelta()}function woe(t){t.calcProjection()}function xoe(t){t.resetSkewAndRotation()}function _oe(t){t.removeLeadSnapshot()}function tk(t,e,n){t.translate=$i(e.translate,0,n),t.scale=$i(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function nk(t,e,n,i){t.min=$i(e.min,n.min,i),t.max=$i(e.max,n.max,i)}function Soe(t,e,n,i){nk(t.x,e.x,n.x,i),nk(t.y,e.y,n.y,i)}function Aoe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Toe={duration:.45,ease:[.4,0,.1,1]},ik=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sk=ik("applewebkit/")&&!ik("chrome/")?Math.round:Do;function rk(t){t.min=sk(t.min),t.max=sk(t.max)}function Eoe(t){rk(t.x),rk(t.y)}function Rj(t,e,n){return t==="position"||t==="preserve-aspect"&&!kae(XL(e),XL(n),.2)}function Coe(t){return t!==t.root&&t.scroll?.wasRoot}const Noe=Pj({attachResizeListener:(t,e)=>P0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cx={current:void 0},Mj=Pj({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cx.current){const t=new Noe({});t.mount(window),t.setOptions({layoutScroll:!0}),Cx.current=t}return Cx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Loe={pan:{Feature:Yae},drag:{Feature:$ae,ProjectionNode:Mj,MeasureLayout:Tj}};function ak(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,r=i[s];r&&ji.postRender(()=>r(e,oy(e)))}class koe extends Td{mount(){const{current:e}=this.node;e&&(this.unmount=lre(e,(n,i)=>(ak(this.node,i,"Start"),s=>ak(this.node,s,"End"))))}unmount(){}}class Poe extends Td{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sy(P0(this.node.current,"focus",()=>this.onFocus()),P0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ok(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),r=i[s];r&&ji.postRender(()=>r(e,oy(e)))}class Roe extends Td{mount(){const{current:e}=this.node;e&&(this.unmount=dre(e,(n,i)=>(ok(this.node,i,"Start"),(s,{success:r})=>ok(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const c5=new WeakMap,Nx=new WeakMap,Moe=t=>{const e=c5.get(t.target);e&&e(t)},Ioe=t=>{t.forEach(Moe)};function Doe({root:t,...e}){const n=t||document;Nx.has(n)||Nx.set(n,{});const i=Nx.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(Ioe,{root:t,...e})),i[s]}function Ooe(t,e,n){const i=Doe(e);return c5.set(t,n),i.observe(t),()=>{c5.delete(t),i.unobserve(t)}}const joe={some:0,all:1};class Foe extends Td{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=e,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:joe[s]},l=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,r&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=h?f:p;g&&g(u)};return Ooe(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Voe(e,n))&&this.startObserver()}unmount(){}}function Voe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Uoe={inView:{Feature:Foe},tap:{Feature:Roe},focus:{Feature:Poe},hover:{Feature:koe}},Boe={layout:{ProjectionNode:Mj,MeasureLayout:Tj}},h5={current:null},Ij={current:!1};function zoe(){if(Ij.current=!0,!!xA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>h5.current=t.matches;t.addEventListener("change",e),e()}else h5.current=!1}const qoe=new WeakMap;function Hoe(t,e,n){for(const i in e){const s=e[i],r=n[i];if(qr(s))t.addValue(i,s);else if(qr(r))t.addValue(i,rm(s,{owner:t}));else if(r!==s)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,rm(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const lk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Woe{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=VA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Ta.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ji.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=p2(n),this.isVariantNode=tj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const y=p[g];u[g]!==void 0&&qr(y)&&y.set(u[g],!1)}}mount(e){this.current=e,qoe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Ij.current||zoe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:h5.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),yd(this.notifyUpdate),yd(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Sm.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ji.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in am){const n=am[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ws()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<lk.length;i++){const s=lk[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=e[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Hoe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=rm(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(lO(i)||cO(i))?i=parseFloat(i):!mre(i)&&vd.test(n)&&(i=$O(e,n)),this.setBaseTarget(e,qr(i)?i.get():i)),qr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const r=XA(this.props,n,this.presenceContext?.custom);r&&(i=r[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new CA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Dj extends Woe{constructor(){super(...arguments),this.KeyframeResolver=ire}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Oj(t,{style:e,vars:n},i,s){const r=t.style;let a;for(a in e)r[a]=e[a];s?.applyProjectionStyles(r,i);for(a in n)r.setProperty(a,n[a])}function $oe(t){return window.getComputedStyle(t)}class Yoe extends Dj{constructor(){super(...arguments),this.type="html",this.renderInstance=Oj}readValueFromInstance(e,n){if(Sm.has(n))return this.projection?.isProjecting?Z_(n):_se(e,n);{const i=$oe(e),s=(kA(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xj(e,n)}build(e,n,i){YA(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return QA(e,n,i)}}const jj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Goe(t,e,n,i){Oj(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(jj.has(s)?s:$A(s),e.attrs[s])}class Koe extends Dj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ws}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sm.has(n)){const i=WO(n);return i&&i.default||0}return n=jj.has(n)?n:$A(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return hj(e,n,i)}build(e,n,i){oj(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){Goe(e,n,i,s)}mount(e){this.isSVGTag=uj(e.tagName),super.mount(e)}}const Xoe=(t,e)=>KA(t)?new Koe(e):new Yoe(e,{allowProjection:t!==C.Fragment}),Qoe=Xre({..._ae,...Uoe,...Loe,...Boe},Xoe),Zoe=xre(Qoe),Joe=()=>{const[t,e]=C.useState("home"),[n,i]=C.useState(null),[s,r]=C.useState(null),[a,l]=C.useState("add"),[u,h]=C.useState("manual"),[f,p]=C.useState("all"),[g,y]=C.useState({start:null,end:null}),[x,A]=C.useState("search");C.useEffect(()=>{const O=new Date;y(f==="month"?{start:nie(O),end:tie(O)}:f==="week"?{start:eie(O,{weekStartsOn:1}),end:iie(O,{weekStartsOn:1})}:{start:null,end:null})},[f]);const T=Gc();C.useEffect(()=>{const O=BS(Jn,async B=>{try{if(B){const V=yn(fn,"businesses",B.uid),Y=await Oi(V);Y.exists()&&r({...Y.data(),userId:B.uid})}else console.warn("User not authenticated yet.")}catch(V){console.error("Error fetching user profile:",V)}});return()=>O()},[]);const E=()=>{Qb(Jn).then(()=>{T("/auth?type=login")}).catch(O=>{console.error("Sign out error:",O)})},k=[{id:"home",label:"Home",icon:v.jsx(pie,{})},{id:"billing",label:"Billing",icon:v.jsx(KN,{})},{id:"inventory",label:"Inventory",icon:v.jsx(hie,{})},{id:"analytics",label:"Business Analytics",icon:v.jsx(fie,{})},{id:"distributors",label:"Distributor Connection",icon:v.jsx(die,{})},{id:"orderHistory",label:"Order History",icon:v.jsx(KN,{})},{id:"customers",label:"Customer Analysis",icon:v.jsx(yie,{})},{id:"employees",label:"Manage Employee",icon:v.jsx(gie,{})}];return v.jsxs("div",{className:"flex h-screen bg-gray-100 text-gray-800",children:[v.jsxs("div",{className:"w-64 bg-white shadow-md border-r border-gray-200",children:[v.jsx("div",{className:"p-5 text-xl font-bold border-b border-gray-200",children:"FLYP"}),v.jsx("nav",{className:"flex flex-col p-4 gap-2",children:k.map(O=>v.jsxs("button",{onClick:()=>e(O.id),className:`flex items-center gap-3 px-4 py-2 rounded-lg text-left ${t===O.id?"bg-blue-100 text-blue-600 font-semibold":"hover:bg-gray-100"}`,children:[O.icon,O.label]},O.id))})]}),v.jsxs("div",{className:"flex-1 flex flex-col",children:[v.jsxs("div",{className:"flex justify-between items-center bg-white px-6 py-4 border-b border-gray-200 shadow-sm",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold",children:"Retailer Dashboard"}),v.jsx("p",{className:"text-sm text-gray-500",children:"Logged in as: Retailer"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"font-medium",children:s?.businessName||"Business Name"}),v.jsxs("p",{className:"text-sm text-gray-500",children:[s?.ownerName||"Owner"," | ID: ",s?.userId||"UserID"]})]}),v.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full overflow-hidden"}),v.jsx("button",{onClick:E,className:"text-red-500 hover:text-red-700 text-xl",title:"Sign Out",children:v.jsx(mie,{})})]})]}),v.jsxs(Zoe.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{duration:.4},className:"flex-1 p-6 overflow-y-auto",children:[t==="home"&&v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsx("label",{htmlFor:"filter",className:"font-medium",children:"Filter by:"}),v.jsxs("select",{id:"filter",value:f,onChange:O=>p(O.target.value),className:"border px-3 py-1 rounded",children:[v.jsx("option",{value:"today",children:"Today"}),v.jsx("option",{value:"all",children:"All Time"}),v.jsx("option",{value:"month",children:"This Month"}),v.jsx("option",{value:"week",children:"This Week"}),v.jsx("option",{value:"custom",children:"Custom Range"})]}),f==="custom"&&v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"date",onChange:O=>y(B=>({...B,start:new Date(O.target.value)})),className:"border px-2 py-1 rounded"}),v.jsx("input",{type:"date",onChange:O=>y(B=>({...B,end:new Date(O.target.value)})),className:"border px-2 py-1 rounded"})]})]}),v.jsx(Hne,{filterDates:g})]}),t==="billing"&&v.jsx(EI,{}),t==="orderHistory"&&v.jsx(YQ,{}),t==="inventory"&&v.jsxs("div",{children:[v.jsxs("div",{className:"flex gap-4 mb-6 border-b pb-2",children:[v.jsx("button",{onClick:()=>l("add"),className:`px-4 py-2 rounded ${a==="add"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"➕ Add Inventory"}),v.jsx("button",{onClick:()=>l("view"),className:`px-4 py-2 rounded ${a==="view"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"📋 View Inventory"}),v.jsx("button",{onClick:()=>l("group"),className:`px-4 py-2 rounded ${a==="group"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"🧩 Group Items"}),v.jsx("button",{onClick:()=>l("lowstock"),className:`px-4 py-2 rounded ${a==="lowstock"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"🚨 Low Stock Alerts"})]}),a==="add"&&v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Inventory Input Method"}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{onClick:()=>h("manual"),className:`px-3 py-2 border rounded ${u==="manual"?"bg-green-100 border-green-500":""}`,children:"📝 Manual Entry"}),v.jsx("button",{onClick:()=>h("ocr"),className:`px-3 py-2 border rounded ${u==="ocr"?"bg-green-100 border-green-500":""}`,children:"🖼️ OCR Upload"}),v.jsx("button",{onClick:()=>h("ai"),className:`px-3 py-2 border rounded ${u==="ai"?"bg-green-100 border-green-500":""}`,children:"🤖 AI-Based"})]}),v.jsxs("div",{className:"mt-4",children:[u==="manual"&&s?.userId&&v.jsx(kZ,{userId:s.userId}),u==="ocr"&&s?.userId&&v.jsx(PZ,{userId:s.userId}),u==="ai"&&v.jsx("div",{children:"🤖 AI Generation Component Placeholder"})]})]}),a==="view"&&s?.userId&&v.jsx(yD,{userId:s.userId}),a==="group"&&v.jsx("div",{children:"🧩 Group Items Component Placeholder"}),a==="lowstock"&&v.jsx("div",{children:"🚨 Low Stock Alert Component Placeholder"})]}),t==="analytics"&&v.jsx("div",{children:"📈 Business Analytics: Insights & Reports."}),t==="distributors"&&v.jsxs("div",{children:[v.jsxs("div",{className:"flex gap-4 mb-4",children:[v.jsx("button",{onClick:()=>A("search"),className:`px-4 py-2 rounded ${x==="search"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"🔍 Search Distributor"}),v.jsx("button",{onClick:()=>A("sent"),className:`px-4 py-2 rounded ${x==="sent"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"📤 Sent Requests"}),v.jsx("button",{onClick:()=>A("connected"),className:`px-4 py-2 rounded ${x==="connected"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"🤝 View Distributors"})]}),x==="search"&&v.jsx(Yne,{}),x==="sent"&&v.jsx(Gne,{}),x==="connected"&&(n?v.jsx(sO,{distributor:n,onBack:()=>i(null)}):v.jsx(Zne,{onSelectDistributor:i}))]}),t==="customers"&&v.jsx("div",{children:"👥 Customer Analysis: Engagement metrics."}),t==="employees"&&v.jsx("div",{children:"👨‍💼 Manage Employees: Add or track staff."})]},t)]})]})},ele=({db:t,auth:e})=>{const[n,i]=C.useState([]);C.useEffect(()=>{(async()=>{const a=e.currentUser;if(!a)return;const l=wn(t,`businesses/${a.uid}/connectionRequests`),u=await ta(l),h=await Promise.all(u.docs.map(async f=>{const p=f.data(),g=p.retailerId;let y={};try{const x=yn(t,"businesses",g),A=await Oi(x);A.exists()?y=A.data():console.warn("Retailer business doc not found for:",g)}catch(x){console.error("❌ Error fetching retailer info:",x.message)}return{id:f.id,retailerId:g,status:p.status,sentAt:p.sentAt,...y}}));i(h)})()},[]);const s=async(r,a)=>{const l=e.currentUser;if(!l)return;const u=l.uid,h=yn(t,"businesses",u),f=await Oi(h),p=f.exists()?f.data():{},g=yn(t,`businesses/${u}/connectionRequests/${r}`);await xa(g,{status:a}),console.log("✅ Updated distributor's connectionRequests status to:",a);const y=yn(t,`businesses/${r}/sentRequests/${u}`);try{await xa(y,{status:a}),console.log("✅ Updated retailer's sentRequests status to:",a)}catch(x){console.error("❌ Failed to update retailer's sentRequest:",x.message)}if(a==="accepted")try{const x=yn(t,"businesses",r),A=await Oi(x),T=A.exists()?A.data():{};console.log("🔄 Saving distributor to retailer's connectedDistributors..."),await Io(yn(t,`businesses/${r}/connectedDistributors/${u}`),{distributorId:u,distributorName:p.businessName||"Unnamed Distributor",distributorOwner:p.ownerName||"Unknown Owner",distributorEmail:p.email||"",distributorPhone:p.phone||"",city:p.city||"",connectedAt:Na(),status:"accepted"},{merge:!0}),console.log("✅ Saved to retailer's connectedDistributors"),console.log("🔄 Saving retailer to distributor's connectedRetailers..."),await Io(yn(t,`businesses/${u}/connectedRetailers/${r}`),{retailerId:r,retailerName:T.businessName||"Unnamed Retailer",retailerEmail:T.email||"",retailerPhone:T.phone||"",city:T.city||"",connectedAt:Na(),status:"accepted"},{merge:!0}),console.log("✅ Saved to distributor's connectedRetailers")}catch(x){console.error("❌ Failed to create connected entries:",x.message)}i(x=>x.map(A=>A.id===r?{...A,status:a}:A))};return v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Incoming Retailer Requests"}),n.length===0?v.jsx("p",{className:"text-gray-600",children:"No requests found."}):v.jsx("ul",{className:"space-y-4",children:n.map(r=>v.jsx("li",{className:"bg-white shadow p-4 rounded",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold",children:r.businessName}),v.jsxs("p",{className:"text-sm text-gray-600",children:[r.ownerName," (",r.email,")"]}),v.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",v.jsx("span",{className:"font-medium",children:r.status})]})]}),v.jsxs("div",{className:"space-x-2",children:[v.jsx("button",{onClick:()=>s(r.retailerId,"accepted"),disabled:r.status==="accepted",className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded disabled:opacity-50",children:"Accept"}),v.jsx("button",{onClick:()=>s(r.retailerId,"rejected"),disabled:r.status==="rejected",className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded disabled:opacity-50",children:"Reject"})]})]})},r.id))})]})},tle=()=>{const{user:t}=tA();if(!t)return console.warn("No current user found in context."),v.jsx("div",{className:"p-4 text-red-500",children:"Loading user info..."});const[e,n]=C.useState({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),[i,s]=C.useState(""),[r,a]=C.useState(!1),l=h=>{const{name:f,value:p,files:g}=h.target;if(f==="image"){const y=g?.[0];if(!y||!(y instanceof File)||!y.name){zt.error("Invalid image file.");return}n(A=>({...A,image:y}));const x=new FileReader;x.onloadend=()=>s(x.result),x.readAsDataURL(y)}else n(y=>({...y,[f]:p}))},u=async h=>{if(h.preventDefault(),a(!0),console.log("Manual Entry - currentUser:",t),!t?.uid){zt.error("User ID is missing in manual entry. Cannot save product."),a(!1);return}const f=t.uid;try{let p="";if(e.image&&e.image instanceof File){let g=e.image?.name;(!g||typeof g!="string"||g.trim()==="")&&(g=`product_${Date.now()}.jpg`);const y=XS(TI,`products/${f}/${g}`);await SI(y,e.image),p=await KS(y)}await ku(wn(fn,"businesses",f,"products"),{productName:e.productName||"",brand:e.brand||"",category:e.category||"",quantity:e.quantity?Number(e.quantity):0,unit:e.unit||"",costPrice:e.costPrice?Number(e.costPrice):0,sellingPrice:e.sellingPrice?Number(e.sellingPrice):0,description:e.description||"",sku:e.sku||"",imageUrl:p,createdAt:Na(),addedBy:f}),zt.success("Product added successfully!"),n({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),s("")}catch(p){console.error("Upload failed:",p),zt.error("Failed to add product.")}a(!1)};return v.jsxs("form",{onSubmit:u,className:"space-y-4 p-4 bg-white rounded shadow",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("input",{type:"text",name:"productName",placeholder:"Product Name",value:e.productName,onChange:l,className:"border p-2 rounded w-full",required:!0}),v.jsx("input",{type:"text",name:"sku",placeholder:"SKU",value:e.sku,onChange:l,className:"border p-2 rounded w-full"}),v.jsx("input",{type:"text",name:"brand",placeholder:"Brand",value:e.brand,onChange:l,className:"border p-2 rounded w-full"}),v.jsx("input",{type:"text",name:"category",placeholder:"Category",value:e.category,onChange:l,className:"border p-2 rounded w-full"}),v.jsx("input",{type:"number",name:"quantity",placeholder:"Quantity",value:e.quantity,onChange:l,className:"border p-2 rounded w-full",required:!0}),v.jsx("input",{type:"number",name:"costPrice",placeholder:"Cost Price",value:e.costPrice,onChange:l,className:"border p-2 rounded w-full"}),v.jsx("input",{type:"number",name:"sellingPrice",placeholder:"Selling Price",value:e.sellingPrice,onChange:l,className:"border p-2 rounded w-full",required:!0}),v.jsx("input",{type:"text",name:"unit",placeholder:"Unit (e.g., kg, box)",value:e.unit,onChange:l,className:"border p-2 rounded w-full"})]}),v.jsx("textarea",{name:"description",placeholder:"Description",value:e.description,onChange:l,className:"border p-2 rounded w-full"}),v.jsx("div",{className:"flex items-center space-x-4",children:v.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:l,className:"border p-2 rounded w-full"})}),i&&v.jsx("div",{className:"mt-2",children:v.jsx("img",{src:i,alt:"Preview",className:"h-32 w-32 object-cover border rounded"})}),v.jsx("div",{className:"mt-4",children:v.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",disabled:r,children:r?"Saving...":"Add Product"})})]})};let nle={data:""},ile=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||nle,sle=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rle=/\/\*[^]*?\*\/|  +/g,uk=/\n+/g,$h=(t,e)=>{let n="",i="",s="";for(let r in t){let a=t[r];r[0]=="@"?r[1]=="i"?n=r+" "+a+";":i+=r[1]=="f"?$h(a,r):r+"{"+$h(a,r[1]=="k"?"":e)+"}":typeof a=="object"?i+=$h(a,e?e.replace(/([^,])+/g,l=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):r):a!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=$h.p?$h.p(r,a):r+":"+a+";")}return n+(e&&s?e+"{"+s+"}":s)+i},vc={},Fj=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Fj(t[n]);return e}return t},ale=(t,e,n,i,s)=>{let r=Fj(t),a=vc[r]||(vc[r]=(u=>{let h=0,f=11;for(;h<u.length;)f=101*f+u.charCodeAt(h++)>>>0;return"go"+f})(r));if(!vc[a]){let u=r!==t?t:(h=>{let f,p,g=[{}];for(;f=sle.exec(h.replace(rle,""));)f[4]?g.shift():f[3]?(p=f[3].replace(uk," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][f[1]]=f[2].replace(uk," ").trim();return g[0]})(t);vc[a]=$h(s?{["@keyframes "+a]:u}:u,n?"":"."+a)}let l=n&&vc.g?vc.g:null;return n&&(vc.g=vc[a]),((u,h,f,p)=>{p?h.data=h.data.replace(p,u):h.data.indexOf(u)===-1&&(h.data=f?u+h.data:h.data+u)})(vc[a],e,i,l),a},ole=(t,e,n)=>t.reduce((i,s,r)=>{let a=e[r];if(a&&a.call){let l=a(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=u?"."+u:l&&typeof l=="object"?l.props?"":$h(l,""):l===!1?"":l}return i+s+(a??"")},"");function m2(t){let e=this||{},n=t.call?t(e.p):t;return ale(n.unshift?n.raw?ole(n,[].slice.call(arguments,1),e.p):n.reduce((i,s)=>Object.assign(i,s&&s.call?s(e.p):s),{}):n,ile(e.target),e.g,e.o,e.k)}let Vj,d5,f5;m2.bind({g:1});let Yc=m2.bind({k:1});function lle(t,e,n,i){$h.p=e,Vj=t,d5=n,f5=i}function Ed(t,e){let n=this||{};return function(){let i=arguments;function s(r,a){let l=Object.assign({},r),u=l.className||s.className;n.p=Object.assign({theme:d5&&d5()},l),n.o=/ *go\d+/.test(u),l.className=m2.apply(n,i)+(u?" "+u:"");let h=t;return t[0]&&(h=l.as||t,delete l.as),f5&&h[0]&&f5(l),Vj(h,l)}return s}}var ule=t=>typeof t=="function",p5=(t,e)=>ule(t)?t(e):t,cle=(()=>{let t=0;return()=>(++t).toString()})(),hle=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),dle=20,Uj=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,dle)};case 1:return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case 2:let{toast:n}=e;return Uj(t,{type:t.toasts.find(r=>r.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(r=>r.id===i||i===void 0?{...r,dismissed:!0,visible:!1}:r)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+s}))}}},fle=[],Lx={toasts:[],pausedAt:void 0},JA=t=>{Lx=Uj(Lx,t),fle.forEach(e=>{e(Lx)})},ple=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||cle()}),ly=t=>(e,n)=>{let i=ple(e,t,n);return JA({type:2,toast:i}),i.id},_s=(t,e)=>ly("blank")(t,e);_s.error=ly("error");_s.success=ly("success");_s.loading=ly("loading");_s.custom=ly("custom");_s.dismiss=t=>{JA({type:3,toastId:t})};_s.remove=t=>JA({type:4,toastId:t});_s.promise=(t,e,n)=>{let i=_s.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let r=e.success?p5(e.success,s):void 0;return r?_s.success(r,{id:i,...n,...n?.success}):_s.dismiss(i),s}).catch(s=>{let r=e.error?p5(e.error,s):void 0;r?_s.error(r,{id:i,...n,...n?.error}):_s.dismiss(i)}),t};var mle=Yc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gle=Yc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yle=Yc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vle=Ed("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mle} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gle} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${yle} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ble=Yc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wle=Ed("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${ble} 1s linear infinite;
`,xle=Yc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_le=Yc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Sle=Ed("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xle} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_le} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ale=Ed("div")`
  position: absolute;
`,Tle=Ed("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ele=Yc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Cle=Ed("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ele} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Nle=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?C.createElement(Cle,null,e):e:n==="blank"?null:C.createElement(Tle,null,C.createElement(wle,{...i}),n!=="loading"&&C.createElement(Ale,null,n==="error"?C.createElement(vle,{...i}):C.createElement(Sle,{...i})))},Lle=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kle=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Ple="0%{opacity:0;} 100%{opacity:1;}",Rle="0%{opacity:1;} 100%{opacity:0;}",Mle=Ed("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ile=Ed("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Dle=(t,e)=>{let n=t.includes("top")?1:-1,[i,s]=hle()?[Ple,Rle]:[Lle(n),kle(n)];return{animation:e?`${Yc(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Yc(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};C.memo(({toast:t,position:e,style:n,children:i})=>{let s=t.height?Dle(t.position||e||"top-center",t.visible):{opacity:0},r=C.createElement(Nle,{toast:t}),a=C.createElement(Ile,{...t.ariaProps},p5(t.message,t));return C.createElement(Mle,{className:t.className,style:{...s,...n,...t.style}},typeof i=="function"?i({icon:r,message:a}):C.createElement(C.Fragment,null,r,a))});lle(C.createElement);m2`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const Ole=({distributorId:t})=>{const[e,n]=C.useState(null),[i,s]=C.useState(null),[r,a]=C.useState([]),[l,u]=C.useState(!1),h=y=>y.split(`
`).filter(A=>typeof A=="string"&&A.trim()!=="").map(A=>{const T=A.split(",").map(E=>E.trim());if(T.length>=4)return{productName:T[0]||"",quantity:T[1]||"",unit:T[2]||"",cost:T[3]||"",brand:T[4]||"",category:T[5]||"",description:T[6]||"",sku:T[7]||"",imageUrl:T[8]||""};{const E=A.trim().split(" "),k=E.find(B=>!isNaN(B)),O=E.find(B=>["pcs","kg","ltr","box","unit"].some(V=>B.toLowerCase().includes(V)));return{productName:A.replace(k,"").replace(O,"").trim(),quantity:k||"1",unit:O||"",cost:"",brand:"",category:"",description:"",sku:"",imageUrl:""}}}),f=y=>{const x=y.target.files[0];if(!x)return;n(x);const A=new FileReader;A.onloadend=()=>s(A.result),A.readAsDataURL(x)},p=async()=>{if(!e)return;u(!0);const y=new FileReader;y.onloadend=async()=>{const x=y.result.split(",")[1],A=T=>T.trim().split(`
`).map(E=>E.replace(/^\s*[\d\-.:]+\s*/,"").trim()).filter(E=>E);if(!x){_s.error("Failed to convert file."),u(!1);return}try{const E=await(await fetch("https://asia-south1-stockpilotv1.cloudfunctions.net/ocrFromImage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:x})})).json();if(E.rawText){const k=A(E.rawText).join(`
`);E.products=h(k)}if(Array.isArray(E.products)){const k=E.products.map(O=>({productName:O?.productName||O?.name||"",quantity:O?.quantity||"",unit:O?.unit||"",costPrice:O?.cost||O?.costPrice||"",sellingPrice:"",brand:O?.brand||"",category:O?.category||"",description:O?.description||"",sku:O?.sku||"",imageUrl:O?.imageUrl||""})).filter(O=>O.productName);a(k),_s.success("OCR scan completed!")}else _s.error("No valid product data found.")}catch(T){console.error("OCR failed:",T),_s.error("Failed to scan image.")}u(!1)},e.type==="application/pdf"||e.type.startsWith("image/")?y.readAsDataURL(e):(_s.error("Unsupported file format. Please upload an image or PDF."),u(!1))},g=async()=>{if(!r.length)return;if(!t){_s.error("Distributor ID missing. Cannot save.");return}const y=r.filter(A=>A&&typeof A.productName=="string"&&A.productName.trim()!=="");if(console.log("Saving for distributorId:",t),console.log("Valid products to save:",y),!y.length){_s.error("No valid products to save.");return}const x=y.map(A=>ku(wn(fn,"businesses",t,"products"),{productName:A.productName?.trim()||"",brand:A.brand?.trim()||"",category:A.category?.trim()||"",quantity:Number(A.quantity)||0,unit:A.unit?.trim()||"",costPrice:Number(A.costPrice)||0,sellingPrice:Number(A.sellingPrice)||0,description:A.description?.trim()||"",sku:A.sku?.trim()||"",imageUrl:A.imageUrl||"",createdAt:Na()}).catch(T=>{console.error("Failed to add product:",A,T)}));try{await Promise.all(x),console.log("Products saved successfully."),_s.success("All products saved!"),a([])}catch(A){console.error("Saving failed:",A),_s.error("Failed to save products.")}};return v.jsxs("div",{className:"bg-white p-4 rounded shadow-md",children:[v.jsx("label",{className:"block mb-2 font-medium",children:"Upload Inventory Image"}),v.jsx("input",{type:"file",accept:"image/*",onChange:f,className:"block border border-gray-300 rounded p-2"}),i&&v.jsx("div",{className:"mt-4",children:v.jsx("img",{src:i,alt:"Preview",className:"max-w-xs rounded shadow"})}),v.jsx("button",{onClick:p,disabled:!e||l,className:`mt-4 px-4 py-2 rounded ${l||!e?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white transition duration-200`,children:l?"Scanning...":"Scan & Import"}),r.length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"border p-2 rounded mt-4",children:[v.jsx("h3",{className:"font-semibold mb-2",children:"Scanned Products"}),v.jsx("div",{className:"overflow-x-auto mt-4",children:v.jsxs("table",{className:"min-w-full bg-white border rounded shadow",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-100 text-left text-sm",children:[v.jsx("th",{className:"p-2 border",children:"#"}),v.jsx("th",{className:"p-2 border",children:"Product Name"}),v.jsx("th",{className:"p-2 border",children:"Quantity"}),v.jsx("th",{className:"p-2 border",children:"Unit"}),v.jsx("th",{className:"p-2 border",children:"Cost Price"}),v.jsx("th",{className:"p-2 border",children:"Selling Price"}),v.jsx("th",{className:"p-2 border",children:"Action"})]})}),v.jsx("tbody",{children:r.map((y,x)=>v.jsxs("tr",{className:"text-sm",children:[v.jsx("td",{className:"p-2 border",children:x+1}),v.jsx("td",{className:"p-2 border",children:v.jsx("input",{type:"text",value:y.productName||"",onChange:A=>{const T=[...r];T[x].productName=A.target.value,a(T)},className:"w-full border rounded p-1"})}),v.jsx("td",{className:"p-2 border",children:v.jsx("input",{type:"number",value:y.quantity||"",onChange:A=>{const T=[...r];T[x].quantity=A.target.value,a(T)},className:"w-full border rounded p-1"})}),v.jsx("td",{className:"p-2 border",children:v.jsx("input",{type:"text",value:y.unit||"",onChange:A=>{const T=[...r];T[x].unit=A.target.value,a(T)},className:"w-full border rounded p-1"})}),v.jsx("td",{className:"p-2 border",children:v.jsx("input",{type:"number",value:y.costPrice||"",onChange:A=>{const T=[...r];T[x].costPrice=A.target.value,a(T)},className:"w-full border rounded p-1"})}),v.jsx("td",{className:"p-2 border",children:v.jsx("input",{type:"number",value:y.sellingPrice||"",onChange:A=>{const T=[...r];T[x].sellingPrice=A.target.value,a(T)},className:"w-full border rounded p-1"})}),v.jsx("td",{className:"p-2 border",children:v.jsx("button",{onClick:()=>{const A=r.filter((T,E)=>E!==x);a(A)},className:"text-red-600 hover:text-red-800",children:"Delete"})})]},x))})]})})]}),v.jsx("button",{onClick:g,className:"mt-4 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded transition duration-200",children:"Save All Products"})]})]})},jle=({distributorId:t})=>{const[e,n]=C.useState(""),[i,s]=C.useState(""),[r,a]=C.useState([]),[l,u]=C.useState(!1),h=async()=>{if(!(!e||!i)){u(!0);try{const g=await(await fetch("https://us-central1-stockpilotv1.cloudfunctions.net/generateInventoryAI",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:e,brand:i})})).json();Array.isArray(g.products)?a(g.products):alert("No product suggestions found.")}catch(p){console.error("AI generation failed:",p),alert("Failed to generate inventory.")}u(!1)}},f=async()=>{if(!r.length)return;const p=r.map(g=>ku(wn(fn,"businesses",t,"products"),{...g,timestamp:Na()}));try{await Promise.all(p),alert("Generated products saved!"),a([])}catch(g){console.error("Saving failed:",g),alert("Failed to save products.")}};return v.jsxs("div",{className:"space-y-4",children:[v.jsx("input",{type:"text",placeholder:"Category (e.g. Snacks)",value:e,onChange:p=>n(p.target.value),className:"input"}),v.jsx("input",{type:"text",placeholder:"Brand (e.g. Lay's)",value:i,onChange:p=>s(p.target.value),className:"input"}),v.jsx("button",{onClick:h,disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded",children:l?"Generating...":"Generate Products"}),r.length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"border p-2 rounded",children:[v.jsx("h3",{className:"font-semibold mb-2",children:"Suggested Products"}),v.jsx("ul",{className:"space-y-2",children:r.map((p,g)=>v.jsxs("li",{className:"bg-gray-50 p-2 rounded border",children:[p.productName," — ₹",p.sellingPrice," (",p.quantity,")"]},g))})]}),v.jsx("button",{onClick:f,className:"px-4 py-2 bg-green-600 text-white rounded",children:"Save All Products"})]})]})},Fle=({userId:t})=>{const[e,n]=C.useState("manual");return v.jsxs("div",{className:"space-y-6",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Add Inventory"}),v.jsxs("div",{className:"border border-gray-300 p-4 rounded-md shadow-sm bg-white",children:[v.jsxs("div",{className:"flex space-x-4 mb-4",children:[v.jsx("button",{className:`px-4 py-2 rounded ${e==="manual"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>n("manual"),children:"Manual Entry"}),v.jsx("button",{className:`px-4 py-2 rounded ${e==="ocr"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>n("ocr"),children:"OCR Upload"}),v.jsx("button",{className:`px-4 py-2 rounded ${e==="ai"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>n("ai"),children:"AI Autogen"})]}),v.jsxs("div",{children:[e==="manual"&&v.jsx(tle,{}),e==="ocr"&&v.jsx(Ole,{distributorId:t}),e==="ai"&&v.jsx(jle,{})]})]})]})},Vle=()=>{const[t,e]=C.useState([]),[n,i]=C.useState(""),[s,r]=C.useState("name"),[a,l]=C.useState("asc"),[u,h]=C.useState("All"),[f,p]=C.useState({});C.useEffect(()=>{const T=Nl(),E=Ca(),k=T.currentUser;if(!k)return;const O=wn(E,"businesses",k.uid,"products"),B=El(O,V=>{const Y=V.docs.map(I=>({id:I.id,...I.data()}));e(Y)});return()=>B()},[]);const g=async(T,E,k)=>{const O=Ca(),B=yn(O,"businesses",Nl().currentUser.uid,"products",T);await xa(B,{[E]:k})},y=T=>{i(T.target.value.toLowerCase())},x=T=>T==null||isNaN(T)?"Unknown":T>10?"In Stock":T>0?"Low":"Out of Stock",A=t.filter(T=>(T.name||T.productName)?.toLowerCase().includes(n)||T.sku?.toLowerCase().includes(n)||T.brand?.toLowerCase().includes(n)||T.category?.toLowerCase().includes(n)).filter(T=>{const E=x(f[T.id]??T.quantity);return u==="All"||E===u}).sort((T,E)=>{const k=T[s],O=E[s];return k==null?1:O==null?-1:typeof k=="number"&&typeof O=="number"?a==="asc"?k-O:O-k:a==="asc"?k.toString().localeCompare(O.toString(),void 0,{numeric:!0}):O.toString().localeCompare(k.toString(),void 0,{numeric:!0})});return v.jsxs("div",{className:"p-4",children:[v.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row justify-between gap-2",children:[v.jsx("input",{type:"text",placeholder:"Search by name, brand, SKU...",value:n,onChange:y,className:"border rounded px-3 py-1 w-full sm:w-1/3"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("select",{onChange:T=>r(T.target.value),className:"border rounded px-2 py-1",value:s,children:[v.jsx("option",{value:"name",children:"Sort by Name"}),v.jsx("option",{value:"sku",children:"Sort by SKU"}),v.jsx("option",{value:"quantity",children:"Sort by Quantity"}),v.jsx("option",{value:"costPrice",children:"Sort by Cost Price"}),v.jsx("option",{value:"sellingPrice",children:"Sort by Selling Price"})]}),v.jsxs("select",{onChange:T=>l(T.target.value),className:"border rounded px-2 py-1",value:a,children:[v.jsx("option",{value:"asc",children:"Asc"}),v.jsx("option",{value:"desc",children:"Desc"})]}),v.jsxs("select",{onChange:T=>h(T.target.value),className:"border rounded px-2 py-1",value:u,children:[v.jsx("option",{value:"All",children:"All Status"}),v.jsx("option",{value:"In Stock",children:"In Stock"}),v.jsx("option",{value:"Low",children:"Low"}),v.jsx("option",{value:"Out of Stock",children:"Out of Stock"})]})]})]}),v.jsx("div",{className:"overflow-auto w-full",children:v.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-100 text-left",children:[v.jsx("th",{className:"p-3 border-b break-words whitespace-normal",children:"Image"}),v.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"Product"}),v.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"SKU"}),v.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"Brand"}),v.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"Category"}),v.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"Qty"}),v.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"Unit"}),v.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"Cost"}),v.jsx("th",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:"Sell"}),v.jsx("th",{className:"p-3 border-b text-center break-words whitespace-normal",children:"Status"})]})}),v.jsx("tbody",{children:A.map(T=>v.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[v.jsx("td",{className:"p-3 break-words whitespace-normal",children:v.jsx("img",{src:T.imageUrl||"/placeholder.png",alt:"",className:"h-10 w-10 object-cover rounded"})}),v.jsx("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:v.jsx("div",{className:"w-full overflow-x-auto",children:v.jsx("input",{defaultValue:T.name||T.productName,onBlur:E=>g(T.id,"name",E.target.value),className:"w-full border-b"})})}),v.jsx("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:v.jsx("div",{className:"w-full overflow-x-auto",children:v.jsx("input",{defaultValue:T.sku,onBlur:E=>g(T.id,"sku",E.target.value),className:"w-full border-b"})})}),v.jsx("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:v.jsx("div",{className:"w-full overflow-x-auto",children:v.jsx("input",{defaultValue:T.brand,onBlur:E=>g(T.id,"brand",E.target.value),className:"w-full border-b"})})}),v.jsx("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:v.jsx("div",{className:"w-full overflow-x-auto",children:v.jsx("input",{defaultValue:T.category,onBlur:E=>g(T.id,"category",E.target.value),className:"w-full border-b"})})}),v.jsx("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:v.jsx("div",{className:"w-full overflow-x-auto",children:v.jsx("input",{type:"number",value:f[T.id]??T.quantity,onChange:E=>{const k=parseInt(E.target.value);p(O=>({...O,[T.id]:k}))},onBlur:E=>{const k=parseInt(E.target.value);g(T.id,"quantity",k)},className:"w-full border-b"})})}),v.jsx("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:v.jsx("div",{className:"w-full overflow-x-auto",children:v.jsx("input",{defaultValue:T.unit,onBlur:E=>g(T.id,"unit",E.target.value),className:"w-full border-b"})})}),v.jsxs("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:["₹",v.jsx("div",{className:"w-full overflow-x-auto",children:v.jsx("input",{type:"number",defaultValue:T.costPrice,onBlur:E=>g(T.id,"costPrice",parseFloat(E.target.value)),className:"w-full border-b"})})]}),v.jsxs("td",{className:"p-3 border-b whitespace-normal break-words max-w-[200px]",children:["₹",v.jsx("div",{className:"w-full overflow-x-auto",children:v.jsx("input",{type:"number",defaultValue:T.sellingPrice,onBlur:E=>g(T.id,"sellingPrice",parseFloat(E.target.value)),className:"w-full border-b"})})]}),v.jsx("td",{className:"p-3 text-center break-words whitespace-normal",children:v.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full whitespace-nowrap ${x(f[T.id]??T.quantity)==="In Stock"?"bg-green-100 text-green-700":x(f[T.id]??T.quantity)==="Low"?"bg-yellow-100 text-yellow-700":x(f[T.id]??T.quantity)==="Out of Stock"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:x(f[T.id]??T.quantity)})})]},T.id))})]})})]})},Ule=()=>{const[t,e]=C.useState([]),[n,i]=C.useState("add"),s=Jn.currentUser?.uid;return C.useEffect(()=>{const r=Jn.currentUser;if(!r)return;const a=wn(fn,`businesses/${r.uid}/products`),l=El(a,u=>{const h=u.docs.map(f=>({id:f.id,...f.data()}));e(h)});return()=>l()},[]),v.jsxs("div",{className:"p-6",children:[v.jsx("div",{className:"flex space-x-4 mb-4",children:["add","view","group","lowstock"].map(r=>v.jsx("button",{className:`px-4 py-2 rounded shadow-sm ${n===r?"bg-blue-600 text-white ring-2 ring-offset-2 ring-blue-400":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>i(r),children:r==="add"?"Add Inventory":r==="view"?"View Inventory":r==="group"?"Item Groups":"Low Stock Alerts"},r))}),n==="add"&&v.jsx("div",{className:"mt-4",children:v.jsx(Fle,{userId:s,role:"distributor"})}),n==="view"&&v.jsx("div",{className:"mt-6",children:v.jsx(Vle,{userId:s,db:fn,role:"distributor"})}),["group","lowstock"].includes(n)&&v.jsx("div",{className:"text-gray-500 italic mt-4",children:"This tab is under construction."})]})},Ble=()=>{const[t,e]=C.useState([]),[n,i]=C.useState(!0),s=Ca(),r=Nl();C.useEffect(()=>{const l=r.currentUser;if(!l)return;const u=async p=>{const g=yn(s,"businesses",p.retailerId);let y={};try{const A=await Oi(g);if(A.exists()){const T=A.data();y={retailerName:T.businessName||T.ownerName||"N/A",retailerEmail:T.email||"N/A",retailerPhone:T.phone||"N/A",retailerCity:T.city||"N/A",retailerState:T.state||"N/A",retailerAddress:T.address||"N/A"}}}catch(A){console.warn("Retailer fetch failed:",A)}const x=await Promise.all((p.items||[]).map(async A=>{if(!A.distributorProductId)return{...A};try{const T=await Oi(yn(s,"businesses",r.currentUser.uid,"products",A.distributorProductId));if(T.exists()){const E=T.data().quantity;return{...A,availableStock:E}}}catch(T){console.warn("Stock lookup failed:",T)}return{...A}}));return{...p,...y,items:x}},h=wn(s,"businesses",l.uid,"orderRequests"),f=El(h,p=>{const g=p.docs.map(y=>u({id:y.id,...y.data()}));Promise.all(g).then(y=>{y.sort((x,A)=>A.timestamp?.seconds-x.timestamp?.seconds),e(y),i(!1)})});return()=>f()},[]);const a=async(l,u)=>{try{const f=(await Oi(yn(s,"businesses",r.currentUser.uid,"orderRequests",l))).data(),p=yn(s,"businesses",f.distributorId||r.currentUser.uid,"orderRequests",l),g=yn(s,"businesses",f.retailerId,"sentOrders",l),y=await Oi(g),x={status:u,items:f.items,distributorId:r.currentUser.uid,retailerId:f.retailerId,timestamp:f.timestamp,notes:f.notes||"",paymentMode:f.paymentMode||"N/A",creditDays:f.creditDays||null,splitPayment:f.splitPayment||null};if(u==="Rejected"){const A=prompt("Enter reason for rejection:");if(!A)return;await xa(p,{status:u,rejectionNote:A}),y.exists()?await xa(g,{status:u,rejectionNote:A}):await Io(g,{...x,rejectionNote:A});return}if(u==="Accepted"){for(let A of f.items||[])if(A.distributorProductId){const T=yn(s,"businesses",r.currentUser.uid,"products",A.distributorProductId),E=await Oi(T);if(E.exists()){const k=E.data().quantity||0,O=Math.max(k-Number(A.quantity||0),0);await xa(T,{quantity:O})}}await xa(p,{status:u}),y.exists()?await xa(g,{...x,status:u}):await Io(g,x);return}if(u==="Modified"){await xa(p,{status:u}),y.exists()?await xa(g,{status:u}):await Io(g,x);return}}catch(h){console.error("Failed to update status:",h)}};return n?v.jsx("div",{className:"p-4",children:"Loading order requests..."}):t.length===0?v.jsx("div",{className:"p-4 text-gray-500",children:"No order requests yet."}):v.jsx("div",{className:"p-4 space-y-4",children:t.map(l=>v.jsxs("div",{className:"relative bg-white shadow-md rounded-md p-4 border border-gray-200",children:[v.jsxs("div",{className:"absolute top-2 right-4 text-sm font-bold",children:[l.status==="Accepted"&&v.jsx("span",{className:"text-green-600",children:"✔ Accepted"}),l.status==="Rejected"&&v.jsx("span",{className:"text-red-600",children:"✖ Rejected"}),l.status==="Modified"&&v.jsx("span",{className:"text-yellow-600",children:"✎ Modified"})]}),v.jsxs("h3",{className:"font-semibold text-lg mb-2",children:["Retailer: ",l.retailerName||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Retailer Email:"})," ",l.retailerEmail||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Phone:"})," ",l.retailerPhone||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Address:"})," ",l.retailerAddress||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"City:"})," ",l.retailerCity||"N/A",", ",v.jsx("strong",{children:"State:"})," ",l.retailerState||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Requested On:"})," ",l.timestamp?.seconds?new Date(l.timestamp.seconds*1e3).toLocaleString():"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Order Note:"})," ",l.notes||"—"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Status:"})," ",l.status]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Payment Mode:"})," ",l.paymentMode||"N/A"]}),l.paymentMode==="Credit Cycle"&&l.timestamp?.seconds&&l.creditDays&&v.jsxs("p",{children:[v.jsx("strong",{children:"Due Date:"})," ",new Date(l.timestamp.seconds*1e3+l.creditDays*864e5).toLocaleDateString()]}),l.paymentMode==="Split Payment"&&l.splitPayment&&v.jsxs("p",{children:[v.jsx("strong",{children:"Split Payment:"})," Advance ",l.splitPayment.advance,"% / Balance ",l.splitPayment.balance,"%"]}),v.jsxs("div",{className:"mt-3",children:[v.jsx("h4",{className:"font-medium mb-1",children:"Items:"}),l.items?.length>0?v.jsx("ul",{className:"list-disc list-inside space-y-1",children:l.items.map((u,h)=>v.jsxs("li",{children:[v.jsx("strong",{children:u.productName})," — ",u.brand||"—",", ",u.category||"—"," — Qty: ",u.quantity,", Unit: ",u.unit,v.jsx("span",{className:`ml-2 text-sm font-semibold ${u.availableStock===void 0?"text-gray-400":u.availableStock>=u.quantity?"text-green-600":u.availableStock>0?"text-yellow-500":"text-red-600"}`,children:u.availableStock===void 0?"(Stock info N/A)":u.availableStock>=u.quantity?`(In Stock – ${u.availableStock} available)`:u.availableStock>0?`(Low Stock – ${u.availableStock} available)`:"(Out of Stock)"})]},h))}):v.jsx("p",{className:"text-sm text-gray-500",children:"No items listed."})]}),v.jsxs("div",{className:"mt-4 flex gap-2",children:[v.jsx("button",{disabled:l.status!=="Requested",onClick:()=>a(l.id,"Accepted"),className:"px-4 py-1 bg-green-500 text-white rounded",children:"Accept"}),v.jsx("button",{disabled:l.status!=="Requested",onClick:()=>a(l.id,"Rejected"),className:"px-4 py-1 bg-red-500 text-white rounded",children:"Reject"}),v.jsx("button",{disabled:l.status!=="Requested",onClick:()=>a(l.id,"Modified"),className:"px-4 py-1 bg-yellow-500 text-white rounded",children:"Modify"})]}),l.rejectionNote&&v.jsxs("p",{className:"text-sm mt-2 text-red-600",children:[v.jsx("strong",{children:"Reason:"})," ",l.rejectionNote]})]},l.id))})},zle=()=>{const[t,e]=C.useState([]),n=Ca(),i=Nl();return C.useEffect(()=>{const s=i.currentUser;if(!s)return;const r=wn(n,"businesses",s.uid,"orderRequests"),a=Mc(r,$b("status","in",["Accepted","Modified"])),l=El(a,async u=>{const h=await Promise.all(u.docs.map(async f=>{const p=f.data(),g=yn(n,"businesses",p.retailerId),y=await Oi(g),x=y.exists()?y.data():{};return{id:f.id,...p,retailerName:x.businessName||x.ownerName||"N/A",retailerEmail:x.email||"N/A"}}));e(h)});return()=>l()},[]),v.jsx("div",{className:"p-4 space-y-4",children:t.map(s=>v.jsxs("div",{className:"bg-white p-4 rounded shadow border",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("h3",{className:"font-semibold text-lg",children:["Retailer: ",s.retailerName]}),v.jsx("span",{className:`text-sm font-bold ${s.status==="Accepted"?"text-green-600":"text-yellow-600"}`,children:s.status})]}),v.jsxs("p",{children:["Email: ",s.retailerEmail]}),v.jsxs("p",{children:["Payment Mode: ",s.paymentMode]}),v.jsxs("p",{children:["Requested On: ",new Date(s.timestamp?.seconds*1e3).toLocaleString()]}),v.jsx("ul",{className:"list-disc ml-6 mt-2",children:s.items.map((r,a)=>v.jsxs("li",{children:[r.productName," – Qty: ",r.quantity]},a))})]},s.id))})},qle=()=>{const[t,e]=C.useState("requests");return v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Dispatch Tracker"}),v.jsxs("div",{className:"flex space-x-4 mb-6",children:[v.jsx("button",{className:`px-4 py-2 rounded ${t==="requests"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>e("requests"),children:"Order Requests"}),v.jsx("button",{className:`px-4 py-2 rounded ${t==="pending"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>e("pending"),children:"Pending Orders"}),v.jsx("button",{className:`px-4 py-2 rounded ${t==="completed"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>e("completed"),children:"Completed Orders"})]}),t==="requests"&&v.jsx(Ble,{}),t==="pending"&&v.jsx(zle,{}),t==="completed"&&v.jsx("p",{className:"text-gray-600",children:"Showing all completed orders..."})]})},Hle=({db:t,auth:e})=>{const[n,i]=C.useState({totalOrders:0,averageDispatchTime:0,topProducts:[]});return C.useEffect(()=>{(async()=>{const r=e.currentUser;if(!r)return;const a=wn(t,`businesses/${r.uid}/dispatches`),u=(await ta(a)).docs.map(x=>x.data()),h=u.length,f=u.filter(x=>x.createdAt&&x.dispatchedAt).map(x=>{const A=new Date(x.createdAt);return(new Date(x.dispatchedAt)-A)/(1e3*60)}),p=f.length>0?(f.reduce((x,A)=>x+A,0)/f.length).toFixed(2):0,g={};u.forEach(x=>{x.products?.forEach(A=>{g[A.name]=(g[A.name]||0)+1})});const y=Object.entries(g).sort((x,A)=>A[1]-x[1]).slice(0,5).map(([x,A])=>({name:x,count:A}));i({totalOrders:h,averageDispatchTime:p,topProducts:y})})()},[]),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Analytics"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[v.jsxs("div",{className:"bg-white p-4 shadow rounded",children:[v.jsx("h3",{className:"font-medium text-gray-700",children:"Total Orders Fulfilled"}),v.jsx("p",{className:"text-2xl font-bold",children:n.totalOrders})]}),v.jsxs("div",{className:"bg-white p-4 shadow rounded",children:[v.jsx("h3",{className:"font-medium text-gray-700",children:"Avg. Dispatch Time (mins)"}),v.jsx("p",{className:"text-2xl font-bold",children:n.averageDispatchTime})]})]}),v.jsxs("div",{className:"bg-white p-4 shadow rounded",children:[v.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Top Requested Products"}),v.jsx("ul",{className:"list-disc ml-5",children:n.topProducts.length===0?v.jsx("li",{className:"text-gray-500",children:"No data yet."}):n.topProducts.map(s=>v.jsxs("li",{children:[s.name," — ",s.count," orders"]},s.name))})]})]})},Wle=()=>v.jsxs("div",{className:"p-4",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Manage Connected Retailers"}),v.jsx("p",{children:"This section will display all retailers connected to the distributor and offer management options like remove, update, view performance, etc."})]}),$le=()=>{const t=Gc(),[e,n]=C.useState(0),[i,s]=C.useState(0),[r,a]=C.useState(0),[l,u]=C.useState("dashboard"),[h,f]=C.useState(null),p=Ca();C.useEffect(()=>{(async()=>{const x=Jn.currentUser;if(!x)return;const A=yn(p,"businesses",x.uid),T=await Oi(A);T.exists()&&f(T.data());const E=wn(p,"businesses",x.uid,"retailerRequests"),k=wn(p,"businesses",x.uid,"products"),O=wn(p,"businesses",x.uid,"dispatches"),[B,V,Y]=await Promise.all([ta(E),ta(k),ta(O)]);n(B.size),s(V.size),a(Y.size)})()},[]);const g=async()=>{await Qb(Jn),t("/")};return v.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[v.jsxs("aside",{className:"w-64 bg-blue-900 text-white shadow-lg p-5 flex flex-col justify-between",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-3xl font-extrabold tracking-wide text-white mb-6",children:"FLYP"}),v.jsxs("nav",{className:"space-y-4",children:[v.jsx("button",{onClick:()=>u("dashboard"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${l==="dashboard"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:"🏠 Dashboard"}),v.jsx("button",{onClick:()=>u("retailerRequests"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${l==="retailerRequests"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:"📥 Retailer Requests"}),v.jsx("button",{onClick:()=>u("inventory"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${l==="inventory"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:"📦 Inventory"}),v.jsx("button",{onClick:()=>u("dispatch"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${l==="dispatch"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:"🚚 Dispatch Tracker"}),v.jsx("button",{onClick:()=>u("analytics"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${l==="analytics"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:"📊 Analytics"}),v.jsx("button",{onClick:()=>u("manageRetailers"),className:`w-full text-left px-3 py-2 rounded font-medium transition duration-200 ${l==="manageRetailers"?"bg-white text-blue-900 shadow ring-2 ring-blue-400":"text-white hover:bg-blue-800 hover:shadow"}`,children:"👥 Manage Retailers"})]})]}),v.jsx("button",{onClick:g,className:"bg-red-600 hover:bg-red-700 py-2 rounded text-sm mt-6",children:"Sign Out"})]}),v.jsxs("div",{className:"flex-1 p-8 overflow-y-auto flex flex-col",children:[v.jsxs("div",{className:"flex justify-between items-center bg-white shadow px-6 py-4 mb-4 rounded",children:[v.jsx("h1",{className:"text-xl font-bold text-blue-900",children:"FLYP"}),v.jsx("div",{className:"text-right",children:v.jsxs("p",{className:"text-sm text-gray-500",children:["Logged in as: ",v.jsx("span",{className:"font-semibold text-gray-700",children:"Distributor"})]})})]}),v.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded shadow mb-6",children:[v.jsxs("div",{className:"text-left",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:h?.businessName||h?.name||"Distributor Business"}),v.jsx("p",{className:"text-sm text-gray-500",children:Jn.currentUser?.email}),v.jsx("p",{className:"text-sm text-gray-500",children:h?.address||"Address not available"})]}),v.jsxs("div",{className:"text-right text-sm text-gray-700",children:[v.jsx("p",{className:"font-semibold text-blue-800",children:h?.role||"Distributor"}),v.jsxs("p",{className:"text-gray-500",children:["ID: ",Jn.currentUser?.uid]})]})]}),v.jsxs("main",{className:"flex-1",children:[l==="dashboard"&&v.jsxs(v.Fragment,{children:[v.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-4",children:[v.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Pending Retailer Requests"}),v.jsx("p",{className:"text-2xl text-blue-600 mt-2",children:e})]}),v.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Total Inventory Items"}),v.jsx("p",{className:"text-2xl text-green-600 mt-2",children:i})]}),v.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Shipments in Progress"}),v.jsx("p",{className:"text-2xl text-yellow-600 mt-2",children:r})]})]}),v.jsxs("div",{className:"mt-10",children:[v.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Live Updates"}),v.jsx("div",{className:"bg-white p-6 rounded shadow text-gray-700 text-base font-semibold",children:"Real-time analytics and updates will appear here."})]})]}),l==="retailerRequests"&&v.jsx(ele,{db:p,auth:Jn}),l==="inventory"&&v.jsx(Ule,{db:p,auth:Jn}),l==="dispatch"&&v.jsx(qle,{db:p,auth:Jn}),l==="analytics"&&v.jsx(Hle,{db:p,auth:Jn}),l==="manageRetailers"&&v.jsx(Wle,{db:p,auth:Jn})]})]})]})},Yle=()=>{const t=Gc(),e=async()=>{try{await Qb(Jn),t("/")}catch(n){console.error("Sign out error:",n)}};return v.jsxs("div",{className:"flex h-screen",children:[v.jsxs("div",{className:"w-64 bg-gray-900 text-white p-6",children:[v.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Product Owner"}),v.jsxs("ul",{className:"space-y-4",children:[v.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Dashboard"}),v.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Production"}),v.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Inventory"}),v.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Reports"}),v.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Business Insights"})]}),v.jsx("button",{onClick:e,className:"mt-12 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded",children:"Sign Out"})]}),v.jsxs("div",{className:"flex-1 bg-gray-100 p-10 overflow-y-auto",children:[v.jsx("h1",{className:"text-3xl font-semibold mb-6",children:"Welcome Product Owner!"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Here's your central hub to manage production cycles, oversee inventory, and analyze supply performance."}),v.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[v.jsxs("div",{className:"bg-white shadow p-6 rounded",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Active Products"}),v.jsx("p",{className:"text-green-600 text-3xl mt-2",children:"145"})]}),v.jsxs("div",{className:"bg-white shadow p-6 rounded",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Production Units"}),v.jsx("p",{className:"text-blue-600 text-3xl mt-2",children:"32"})]}),v.jsxs("div",{className:"bg-white shadow p-6 rounded",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Pending Shipments"}),v.jsx("p",{className:"text-orange-600 text-3xl mt-2",children:"9"})]})]})]})]})},Gle=()=>{const[t,e]=C.useState(null),n=()=>t==="manual"?v.jsxs("form",{className:"space-y-4 mt-6 bg-white p-6 rounded shadow",onSubmit:async i=>{i.preventDefault();const s=Nl(),r=Ca(Pu),a=s.currentUser;if(!a){alert("User not authenticated");return}const l=new FormData(i.target),u={productName:l.get("productName"),sku:l.get("sku"),brand:l.get("brand"),category:l.get("category"),quantity:parseInt(l.get("quantity")),unit:l.get("unit"),costPrice:parseFloat(l.get("costPrice")),sellingPrice:parseFloat(l.get("sellingPrice")),description:l.get("description"),timestamp:Na()};try{await ku(wn(r,"businesses",a.uid,"products"),u),alert("Product added successfully!"),i.target.reset(),e(null)}catch(h){console.error("Error adding product:",h),alert("Failed to add product.")}},id:"add-product-form",children:[v.jsx("input",{type:"text",name:"productName",placeholder:"Product Name",className:"w-full border p-2 rounded",required:!0}),v.jsx("input",{type:"text",name:"sku",placeholder:"SKU",className:"w-full border p-2 rounded"}),v.jsx("input",{type:"text",name:"brand",placeholder:"Brand",className:"w-full border p-2 rounded"}),v.jsx("input",{type:"text",name:"category",placeholder:"Category",className:"w-full border p-2 rounded"}),v.jsx("input",{type:"number",name:"quantity",placeholder:"Quantity",className:"w-full border p-2 rounded",required:!0}),v.jsx("input",{type:"text",name:"unit",placeholder:"Unit (e.g. pcs, box)",className:"w-full border p-2 rounded"}),v.jsx("input",{type:"number",name:"costPrice",placeholder:"Cost Price",className:"w-full border p-2 rounded"}),v.jsx("input",{type:"number",name:"sellingPrice",placeholder:"Selling Price",className:"w-full border p-2 rounded"}),v.jsx("textarea",{name:"description",placeholder:"Description",className:"w-full border p-2 rounded"}),v.jsx("input",{type:"file",name:"productImage",accept:"image/*",className:"w-full border p-2 rounded"}),v.jsxs("div",{className:"flex justify-between mt-4",children:[v.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded",children:"Submit"}),v.jsx("button",{type:"button",onClick:()=>e(null),className:"bg-red-500 text-white px-4 py-2 rounded",children:"Cancel"})]})]}):t==="ocr"?v.jsx("div",{className:"mt-6 text-gray-500",children:"OCR form coming soon."}):t==="ai"?v.jsx("div",{className:"mt-6 text-gray-500",children:"AI auto-generation coming soon."}):null;return v.jsxs("div",{className:"mt-6",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Select Inventory Input Method"}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{onClick:()=>e("manual"),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Manual Entry"}),v.jsx("button",{onClick:()=>e("ocr"),className:"bg-yellow-600 text-white px-4 py-2 rounded",children:"OCR Upload"}),v.jsx("button",{onClick:()=>e("ai"),className:"bg-purple-600 text-white px-4 py-2 rounded",children:"AI Generate"})]}),n()]})},Kle=()=>v.jsxs("div",{className:"p-6",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Item Groups"}),v.jsx("p",{className:"text-gray-600",children:"This section will allow users to group similar items together (like variants or combos)."}),v.jsx("div",{className:"mt-6 border rounded p-4 bg-yellow-50 border-yellow-300",children:v.jsx("p",{className:"text-yellow-800",children:"⚠️ Feature coming soon: Add item groups by SKU, brand, or category."})})]}),Xle=()=>{const[t,e]=C.useState([]);return C.useEffect(()=>{(async()=>{const i=Ca(Pu),r=Nl(Pu).currentUser;if(r)try{const a=wn(i,"businesses",r.uid,"products"),l=Mc(a,$b("quantity","<=",5)),u=await ta(l),h=[];u.forEach(f=>{h.push({id:f.id,...f.data()})}),e(h)}catch(a){console.error("Error fetching low stock items:",a)}})()},[]),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-4",children:"Low Stock Alerts"}),t.length===0?v.jsx("p",{className:"text-gray-500",children:"🎉 All products are well-stocked!"}):v.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(n=>v.jsxs("li",{className:"py-3 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-md font-medium text-gray-800",children:n.name}),v.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",n.sku]})]}),v.jsxs("span",{className:"text-sm font-semibold text-red-600",children:[n.quantity," left"]})]},n.id))})]})},Qle=()=>{const[t,e]=C.useState("add"),n=()=>{try{switch(t){case"add":return v.jsx(Gle,{});case"view":return v.jsx(yD,{});case"groups":return v.jsx(Kle,{});case"alerts":return v.jsx(Xle,{});default:return v.jsx("div",{className:"text-red-600",children:"Invalid tab selected"})}}catch(s){return v.jsxs("div",{className:"text-red-600",children:["An error occurred while rendering the tab: ",s.message]})}},i=s=>`px-4 py-2 rounded transition ${t===s?"bg-blue-600 text-white shadow":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`;return v.jsxs("div",{className:"p-4",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-700 mb-4",children:"Inventory Management"}),v.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[v.jsx("button",{className:i("add"),onClick:()=>e("add"),children:"➕ Add Inventory"}),v.jsx("button",{className:i("view"),onClick:()=>e("view"),children:"📦 View Inventory"}),v.jsx("button",{className:i("groups"),onClick:()=>e("groups"),children:"🧩 Item Groups"}),v.jsx("button",{className:i("alerts"),onClick:()=>e("alerts"),children:"⚠️ Low Stock Alerts"})]}),v.jsx("div",{className:"bg-white rounded shadow p-4 min-h-[200px]",children:n()})]})},Zle=({invoice:t})=>{const{customerInfo:e,items:n,total:i,subtotal:s,gst:r,createdAt:a,settings:l}=t;return v.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 shadow-md bg-white hover:shadow-lg transition-all",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsxs("h3",{className:"font-semibold text-lg",children:["🧾 ",l?.invoiceType||"Invoice"]}),v.jsx("span",{className:"text-sm text-gray-500",children:new Date(a).toLocaleDateString()})]}),v.jsxs("div",{className:"mb-2",children:[v.jsx("p",{className:"font-medium",children:e?.name}),v.jsx("p",{className:"text-sm text-gray-600",children:e?.email}),v.jsx("p",{className:"text-sm text-gray-600",children:e?.phone})]}),v.jsxs("div",{className:"border-t pt-2 text-sm",children:[n?.slice(0,3).map((u,h)=>v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("span",{children:[u.name," × ",u.quantity]}),v.jsxs("span",{children:["₹",u.subtotal]})]},h)),n?.length>3&&v.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:["+ ",n.length-3," more items"]})]}),v.jsxs("div",{className:"border-t pt-2 mt-2 text-sm",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Subtotal"}),v.jsxs("span",{children:["₹",s]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"GST"}),v.jsxs("span",{children:["₹",r]})]}),v.jsxs("div",{className:"flex justify-between font-bold",children:[v.jsx("span",{children:"Total"}),v.jsxs("span",{children:["₹",i]})]})]}),v.jsx("div",{className:"mt-3 text-right",children:v.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:"View / Download"})})]})},Jle=({invoice:t,onClose:e})=>{if(!t)return null;const{customer:n,cartItems:i,totalAmount:s,issuedAt:r,settings:a,paymentMode:l}=t;return v.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-end",children:v.jsxs("div",{className:"w-full sm:max-w-xl bg-white shadow-xl p-6 overflow-y-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-xl font-semibold",children:"Invoice Preview"}),v.jsx("button",{onClick:e,className:"text-red-500 font-bold text-lg",children:"✕"})]}),v.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Date: ",new Date(r).toLocaleString()]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("h3",{className:"font-semibold",children:"Customer Info"}),v.jsxs("p",{children:["Name: ",n?.name]}),v.jsxs("p",{children:["Email: ",n?.email]}),v.jsxs("p",{children:["Phone: ",n?.phone]}),v.jsxs("p",{children:["Address: ",n?.address]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("h3",{className:"font-semibold",children:"Items"}),v.jsxs("table",{className:"w-full text-sm border",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-100",children:[v.jsx("th",{className:"text-left p-2 border",children:"Product"}),v.jsx("th",{className:"text-left p-2 border",children:"Qty"}),v.jsx("th",{className:"text-left p-2 border",children:"Price"}),v.jsx("th",{className:"text-left p-2 border",children:"Total"})]})}),v.jsx("tbody",{children:i?.map((u,h)=>v.jsxs("tr",{children:[v.jsx("td",{className:"p-2 border",children:u.name}),v.jsx("td",{className:"p-2 border",children:u.quantity}),v.jsxs("td",{className:"p-2 border",children:["₹",u.price]}),v.jsxs("td",{className:"p-2 border",children:["₹",(u.quantity*u.price*(1-(u.discount||0)/100)).toFixed(2)]})]},h))})]})]}),v.jsxs("div",{className:"text-sm border-t pt-4",children:[v.jsxs("p",{className:"font-bold",children:["Total: ₹",s]}),v.jsxs("p",{children:["Payment Mode: ",a?.paymentMode]})]}),v.jsx("div",{className:"mt-4",children:v.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Download PDF"})})]})})},eue=()=>{const[t,e]=C.useState([]),[n,i]=C.useState([]),[s,r]=C.useState(null),[a,l]=C.useState(""),[u,h]=C.useState({from:"",to:""});C.useEffect(()=>{(async()=>{const y=Nl().currentUser;if(!y)return;const x=wn(Ca(),`businesses/${y.uid}/finalizedInvoices`),T=(await ta(x)).docs.map(E=>({id:E.id,...E.data()}));e(T),i(T)})()},[]),C.useEffect(()=>{const g=a.toLowerCase(),y=t.filter(x=>{const A=x.customerInfo?.name?.toLowerCase().includes(g),T=x.customerInfo?.email?.toLowerCase().includes(g),E=new Date(x.createdAt),k=u.from?new Date(u.from):null,O=u.to?new Date(u.to):null,B=(!k||E>=k)&&(!O||E<=O);return(A||T)&&B});i(y)},[a,u,t]);const f=g=>r(g),p=()=>r(null);return v.jsxs("div",{className:"p-4",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Invoices"}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[v.jsx("input",{type:"text",placeholder:"Search by customer name/email",value:a,onChange:g=>l(g.target.value),className:"border border-gray-300 p-2 rounded w-full md:w-1/3"}),v.jsx("input",{type:"date",value:u.from,onChange:g=>h(y=>({...y,from:g.target.value})),className:"border border-gray-300 p-2 rounded w-full md:w-1/6"}),v.jsx("input",{type:"date",value:u.to,onChange:g=>h(y=>({...y,to:g.target.value})),className:"border border-gray-300 p-2 rounded w-full md:w-1/6"})]}),n.length===0?v.jsx("p",{children:"No invoices found."}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(g=>v.jsx(Zle,{invoice:g,onView:()=>f(g)},g.id))}),s&&v.jsx(Jle,{invoice:s,onClose:p})]})};function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function tue(t,e){if(R0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(R0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nue(t){var e=tue(t,"string");return R0(e)=="symbol"?e:e+""}function He(t,e,n){return(e=nue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bj(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kx,ck;function iue(){if(ck)return kx;ck=1;var t=function(n,i,s,r,a,l,u,h){if(!n){var f;if(i===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[s,r,a,l,u,h],g=0;f=new Error(i.replace(/%s/g,function(){return p[g++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return kx=t,kx}var sue=iue(),$s=Bj(sue),ln=C.createContext(null);function rue(){$s(!!C.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=C.useContext(ln);return $s(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function aue(t,e,n){return Object.keys(t).reduce(function(s,r){return e(s,t[r],r)},n)}function oue(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function lue(t,e,n,i){var s={},r=(a,l)=>{var u=n[l];u!==e[l]&&(s[l]=u,a(i,u))};return oue(t,r),s}function uue(t,e,n){var i=aue(n,function(r,a,l){return typeof t[l]=="function"&&r.push(google.maps.event.addListener(e,a,t[l])),r},[]);return i}function cue(t){google.maps.event.removeListener(t)}function Ln(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(cue)}function Tn(t){var{updaterMap:e,eventMap:n,prevProps:i,nextProps:s,instance:r}=t,a=uue(s,r,n);return lue(e,i,s,r),a}function hue(t){var{children:e,options:n,id:i,mapContainerStyle:s,mapContainerClassName:r,center:a,onClick:l,onDblClick:u,onDrag:h,onDragEnd:f,onDragStart:p,onMouseMove:g,onMouseOut:y,onMouseOver:x,onMouseDown:A,onMouseUp:T,onRightClick:E,onCenterChanged:k,onLoad:O,onUnmount:B}=t,[V,Y]=C.useState(null),I=C.useRef(null),[P,F]=C.useState(null),[H,M]=C.useState(null),[j,z]=C.useState(null),[te,pe]=C.useState(null),[ae,ue]=C.useState(null),[ce,ye]=C.useState(null),[Z,be]=C.useState(null),[W,X]=C.useState(null),[re,ee]=C.useState(null),[he,we]=C.useState(null),[ge,Ee]=C.useState(null),[Oe,Ve]=C.useState(null);return C.useEffect(()=>{n&&V!==null&&V.setOptions(n)},[V,n]),C.useEffect(()=>{V!==null&&typeof a<"u"&&V.setCenter(a)},[V,a]),C.useEffect(()=>{V&&u&&(H!==null&&google.maps.event.removeListener(H),M(google.maps.event.addListener(V,"dblclick",u)))},[u]),C.useEffect(()=>{V&&f&&(j!==null&&google.maps.event.removeListener(j),z(google.maps.event.addListener(V,"dragend",f)))},[f]),C.useEffect(()=>{V&&p&&(te!==null&&google.maps.event.removeListener(te),pe(google.maps.event.addListener(V,"dragstart",p)))},[p]),C.useEffect(()=>{V&&A&&(ae!==null&&google.maps.event.removeListener(ae),ue(google.maps.event.addListener(V,"mousedown",A)))},[A]),C.useEffect(()=>{V&&g&&(ce!==null&&google.maps.event.removeListener(ce),ye(google.maps.event.addListener(V,"mousemove",g)))},[g]),C.useEffect(()=>{V&&y&&(Z!==null&&google.maps.event.removeListener(Z),be(google.maps.event.addListener(V,"mouseout",y)))},[y]),C.useEffect(()=>{V&&x&&(W!==null&&google.maps.event.removeListener(W),X(google.maps.event.addListener(V,"mouseover",x)))},[x]),C.useEffect(()=>{V&&T&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(V,"mouseup",T)))},[T]),C.useEffect(()=>{V&&E&&(he!==null&&google.maps.event.removeListener(he),we(google.maps.event.addListener(V,"rightclick",E)))},[E]),C.useEffect(()=>{V&&l&&(ge!==null&&google.maps.event.removeListener(ge),Ee(google.maps.event.addListener(V,"click",l)))},[l]),C.useEffect(()=>{V&&h&&(Oe!==null&&google.maps.event.removeListener(Oe),Ve(google.maps.event.addListener(V,"drag",h)))},[h]),C.useEffect(()=>{V&&k&&(P!==null&&google.maps.event.removeListener(P),F(google.maps.event.addListener(V,"center_changed",k)))},[l]),C.useEffect(()=>{var tt=I.current===null?null:new google.maps.Map(I.current,n);return Y(tt),tt!==null&&O&&O(tt),()=>{tt!==null&&B&&B(tt)}},[]),v.jsx("div",{id:i,ref:I,style:s,className:r,children:v.jsx(ln.Provider,{value:V,children:V!==null?e:null})})}C.memo(hue);function hk(t,e,n,i,s,r,a){try{var l=t[r](a),u=l.value}catch(h){return void n(h)}l.done?e(u):Promise.resolve(u).then(i,s)}function zj(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var r=t.apply(e,n);function a(u){hk(r,i,s,a,l,"next",u)}function l(u){hk(r,i,s,a,l,"throw",u)}a(void 0)})}}function qj(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:i="weekly",language:s,region:r,libraries:a,channel:l,mapIds:u,authReferrerPolicy:h,apiUrl:f="https://maps.googleapis.com"}=t,p=[];return $s(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?p.push("key=".concat(e)):n&&p.push("client=".concat(n)),i&&p.push("v=".concat(i)),s&&p.push("language=".concat(s)),r&&p.push("region=".concat(r)),a&&a.length&&p.push("libraries=".concat(a.sort().join(","))),l&&p.push("channel=".concat(l)),u&&u.length&&p.push("map_ids=".concat(u.join(","))),h&&p.push("auth_referrer_policy=".concat(h)),p.push("loading=async"),p.push("callback=initMap"),"".concat(f,"/maps/api/js?").concat(p.join("&"))}var ff=typeof document<"u";function Hj(t){var{url:e,id:n,nonce:i}=t;return ff?new Promise(function(r,a){var l=document.getElementById(n),u=window;if(l){var h=l.getAttribute("data-state");if(l.src===e&&h!=="error"){if(h==="ready")return r(n);var f=u.initMap,p=l.onerror;u.initMap=function(){f&&f(),r(n)},l.onerror=function(y){p&&p(y),a(y)};return}else l.remove()}var g=document.createElement("script");g.type="text/javascript",g.src=e,g.id=n,g.async=!0,g.nonce=i||"",g.onerror=function(x){g.setAttribute("data-state","error"),a(x)},u.initMap=function(){g.setAttribute("data-state","ready"),r(n)},document.head.appendChild(g)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function dk(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function Wj(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(s,r){return dk(s)||Reflect.apply(e,t,[s,r]),s};var n=t.appendChild.bind(t);t.appendChild=function(s){return dk(s)||Reflect.apply(n,t,[s]),s}}}var Ag=!1;function $j(){return v.jsx("div",{children:"Loading..."})}var m5={id:"script-loader",version:"weekly"};class Yj extends C.PureComponent{constructor(){super(...arguments),He(this,"check",null),He(this,"state",{loaded:!1}),He(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),He(this,"isCleaningUp",zj(function*(){function e(n){if(!Ag)n();else if(ff)var i=window.setInterval(function(){Ag||(window.clearInterval(i),n())},1)}return new Promise(e)})),He(this,"cleanup",()=>{Ag=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(i){return typeof i.src=="string"&&i.src.includes("maps.googleapis")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(i){return i.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(i){return i.innerText!==void 0&&i.innerText.length>0&&i.innerText.includes(".gm-")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)})}),He(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Wj(),$s(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:qj(this.props)};Hj(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),He(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ff){if(window.google&&window.google.maps&&!Ag){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ff&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ff){this.cleanup();var e=()=>{this.check||(delete window.google,Ag=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||v.jsx($j,{})]})}}He(Yj,"defaultProps",m5);function due(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}function eT(t,e){if(t==null)return{};var n,i,s=due(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var fk;function fue(t){var{id:e=m5.id,version:n=m5.version,nonce:i,googleMapsApiKey:s,googleMapsClientId:r,language:a,region:l,libraries:u,preventGoogleFontsLoading:h,channel:f,mapIds:p,authReferrerPolicy:g,apiUrl:y="https://maps.googleapis.com"}=t,x=C.useRef(!1),[A,T]=C.useState(!1),[E,k]=C.useState(void 0);C.useEffect(function(){return x.current=!0,()=>{x.current=!1}},[]),C.useEffect(function(){ff&&h&&Wj()},[h]),C.useEffect(function(){A&&$s(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[A]);var O=qj({version:n,googleMapsApiKey:s,googleMapsClientId:r,language:a,region:l,libraries:u,channel:f,mapIds:p,authReferrerPolicy:g,apiUrl:y});C.useEffect(function(){if(!ff)return;function Y(){x.current&&(T(!0),fk=O)}if(window.google&&window.google.maps&&fk===O){Y();return}Hj({id:e,url:O,nonce:i}).then(Y).catch(function(P){x.current&&k(P),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(r||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(P)})},[e,O,i]);var B=C.useRef(void 0);return C.useEffect(function(){B.current&&u!==B.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),B.current=u},[u]),{isLoaded:A,loadError:E,url:O}}var pue=["loadingElement","onLoad","onError","onUnmount","children"],mue=v.jsx($j,{});function gue(t){var{loadingElement:e,onLoad:n,onError:i,onUnmount:s,children:r}=t,a=eT(t,pue),{isLoaded:l,loadError:u}=fue(a);return C.useEffect(function(){l&&typeof n=="function"&&n()},[l,n]),C.useEffect(function(){u&&typeof i=="function"&&i(u)},[u,i]),C.useEffect(function(){return()=>{s&&s()}},[s]),l?r:e||mue}C.memo(gue);var pk;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(pk||(pk={}));function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function sb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var gk={},yk={options(t,e){t.setOptions(e)}};function yue(t){var{options:e,onLoad:n,onUnmount:i}=t,s=C.useContext(ln),[r,a]=C.useState(null);return C.useEffect(()=>{r!==null&&r.setMap(s)},[s]),C.useEffect(()=>{e&&r!==null&&r.setOptions(e)},[r,e]),C.useEffect(()=>{var l=new google.maps.TrafficLayer(sb(sb({},e),{},{map:s}));return a(l),n&&n(l),()=>{r!==null&&(i&&i(r),r.setMap(null))}},[]),null}C.memo(yue);class vue extends C.PureComponent{constructor(){super(...arguments),He(this,"state",{trafficLayer:null}),He(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),He(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(sb(sb({},this.props.options),{},{map:this.context}));this.registeredEvents=Tn({updaterMap:yk,eventMap:gk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:yk,eventMap:gk,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ln(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}He(vue,"contextType",ln);function bue(t){var{onLoad:e,onUnmount:n}=t,i=C.useContext(ln),[s,r]=C.useState(null);return C.useEffect(()=>{s!==null&&s.setMap(i)},[i]),C.useEffect(()=>{var a=new google.maps.BicyclingLayer;return r(a),a.setMap(i),e&&e(a),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}C.memo(bue);class wue extends C.PureComponent{constructor(){super(...arguments),He(this,"state",{bicyclingLayer:null}),He(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}He(wue,"contextType",ln);function xue(t){var{onLoad:e,onUnmount:n}=t,i=C.useContext(ln),[s,r]=C.useState(null);return C.useEffect(()=>{s!==null&&s.setMap(i)},[i]),C.useEffect(()=>{var a=new google.maps.TransitLayer;return r(a),a.setMap(i),e&&e(a),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}C.memo(xue);class _ue extends C.PureComponent{constructor(){super(...arguments),He(this,"state",{transitLayer:null}),He(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}He(_ue,"contextType",ln);function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function rb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var bk={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},wk={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function Sue(t){var{options:e,drawingMode:n,onCircleComplete:i,onMarkerComplete:s,onOverlayComplete:r,onPolygonComplete:a,onPolylineComplete:l,onRectangleComplete:u,onLoad:h,onUnmount:f}=t,p=C.useContext(ln),[g,y]=C.useState(null),[x,A]=C.useState(null),[T,E]=C.useState(null),[k,O]=C.useState(null),[B,V]=C.useState(null),[Y,I]=C.useState(null),[P,F]=C.useState(null);return C.useEffect(()=>{g!==null&&g.setMap(p)},[p]),C.useEffect(()=>{e&&g!==null&&g.setOptions(e)},[g,e]),C.useEffect(()=>{g!==null&&g.setDrawingMode(n??null)},[g,n]),C.useEffect(()=>{g&&i&&(x!==null&&google.maps.event.removeListener(x),A(google.maps.event.addListener(g,"circlecomplete",i)))},[g,i]),C.useEffect(()=>{g&&s&&(T!==null&&google.maps.event.removeListener(T),E(google.maps.event.addListener(g,"markercomplete",s)))},[g,s]),C.useEffect(()=>{g&&r&&(k!==null&&google.maps.event.removeListener(k),O(google.maps.event.addListener(g,"overlaycomplete",r)))},[g,r]),C.useEffect(()=>{g&&a&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(g,"polygoncomplete",a)))},[g,a]),C.useEffect(()=>{g&&l&&(Y!==null&&google.maps.event.removeListener(Y),I(google.maps.event.addListener(g,"polylinecomplete",l)))},[g,l]),C.useEffect(()=>{g&&u&&(P!==null&&google.maps.event.removeListener(P),F(google.maps.event.addListener(g,"rectanglecomplete",u)))},[g,u]),C.useEffect(()=>{$s(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var H=new google.maps.drawing.DrawingManager(rb(rb({},e),{},{map:p}));return n&&H.setDrawingMode(n),i&&A(google.maps.event.addListener(H,"circlecomplete",i)),s&&E(google.maps.event.addListener(H,"markercomplete",s)),r&&O(google.maps.event.addListener(H,"overlaycomplete",r)),a&&V(google.maps.event.addListener(H,"polygoncomplete",a)),l&&I(google.maps.event.addListener(H,"polylinecomplete",l)),u&&F(google.maps.event.addListener(H,"rectanglecomplete",u)),y(H),h&&h(H),()=>{g!==null&&(x&&google.maps.event.removeListener(x),T&&google.maps.event.removeListener(T),k&&google.maps.event.removeListener(k),B&&google.maps.event.removeListener(B),Y&&google.maps.event.removeListener(Y),P&&google.maps.event.removeListener(P),f&&f(g),g.setMap(null))}},[]),null}C.memo(Sue);class Aue extends C.PureComponent{constructor(e){super(e),He(this,"registeredEvents",[]),He(this,"state",{drawingManager:null}),He(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),$s(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(rb(rb({},this.props.options),{},{map:this.context}));this.registeredEvents=Tn({updaterMap:wk,eventMap:bk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:wk,eventMap:bk,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ln(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}He(Aue,"contextType",ln);function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var _k={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Sk={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},ab={};function Tue(t){var{position:e,options:n,clusterer:i,noClustererRedraw:s,children:r,draggable:a,visible:l,animation:u,clickable:h,cursor:f,icon:p,label:g,opacity:y,shape:x,title:A,zIndex:T,onClick:E,onDblClick:k,onDrag:O,onDragEnd:B,onDragStart:V,onMouseOut:Y,onMouseOver:I,onMouseUp:P,onMouseDown:F,onRightClick:H,onClickableChanged:M,onCursorChanged:j,onAnimationChanged:z,onDraggableChanged:te,onFlatChanged:pe,onIconChanged:ae,onPositionChanged:ue,onShapeChanged:ce,onTitleChanged:ye,onVisibleChanged:Z,onZindexChanged:be,onLoad:W,onUnmount:X}=t,re=C.useContext(ln),[ee,he]=C.useState(null),[we,ge]=C.useState(null),[Ee,Oe]=C.useState(null),[Ve,tt]=C.useState(null),[$e,it]=C.useState(null),[ke,fe]=C.useState(null),[St,wt]=C.useState(null),[nt,rt]=C.useState(null),[at,lt]=C.useState(null),[xt,Mt]=C.useState(null),[Vt,At]=C.useState(null),[bt,Kt]=C.useState(null),[yt,Xt]=C.useState(null),[ht,pi]=C.useState(null),[Qt,Xi]=C.useState(null),[Jt,kn]=C.useState(null),[Vi,un]=C.useState(null),[Ys,Kn]=C.useState(null),[Li,Qi]=C.useState(null),[On,Ct]=C.useState(null),[nn,Fs]=C.useState(null),[ti,Zi]=C.useState(null);C.useEffect(()=>{ee!==null&&ee.setMap(re)},[re]),C.useEffect(()=>{typeof n<"u"&&ee!==null&&ee.setOptions(n)},[ee,n]),C.useEffect(()=>{typeof a<"u"&&ee!==null&&ee.setDraggable(a)},[ee,a]),C.useEffect(()=>{e&&ee!==null&&ee.setPosition(e)},[ee,e]),C.useEffect(()=>{typeof l<"u"&&ee!==null&&ee.setVisible(l)},[ee,l]),C.useEffect(()=>{ee?.setAnimation(u)},[ee,u]),C.useEffect(()=>{ee&&h!==void 0&&ee.setClickable(h)},[ee,h]),C.useEffect(()=>{ee&&f!==void 0&&ee.setCursor(f)},[ee,f]),C.useEffect(()=>{ee&&p!==void 0&&ee.setIcon(p)},[ee,p]),C.useEffect(()=>{ee&&g!==void 0&&ee.setLabel(g)},[ee,g]),C.useEffect(()=>{ee&&y!==void 0&&ee.setOpacity(y)},[ee,y]),C.useEffect(()=>{ee&&x!==void 0&&ee.setShape(x)},[ee,x]),C.useEffect(()=>{ee&&A!==void 0&&ee.setTitle(A)},[ee,A]),C.useEffect(()=>{ee&&T!==void 0&&ee.setZIndex(T)},[ee,T]),C.useEffect(()=>{ee&&k&&(we!==null&&google.maps.event.removeListener(we),ge(google.maps.event.addListener(ee,"dblclick",k)))},[k]),C.useEffect(()=>{ee&&B&&(Ee!==null&&google.maps.event.removeListener(Ee),Oe(google.maps.event.addListener(ee,"dragend",B)))},[B]),C.useEffect(()=>{ee&&V&&(Ve!==null&&google.maps.event.removeListener(Ve),tt(google.maps.event.addListener(ee,"dragstart",V)))},[V]),C.useEffect(()=>{ee&&F&&($e!==null&&google.maps.event.removeListener($e),it(google.maps.event.addListener(ee,"mousedown",F)))},[F]),C.useEffect(()=>{ee&&Y&&(ke!==null&&google.maps.event.removeListener(ke),fe(google.maps.event.addListener(ee,"mouseout",Y)))},[Y]),C.useEffect(()=>{ee&&I&&(St!==null&&google.maps.event.removeListener(St),wt(google.maps.event.addListener(ee,"mouseover",I)))},[I]),C.useEffect(()=>{ee&&P&&(nt!==null&&google.maps.event.removeListener(nt),rt(google.maps.event.addListener(ee,"mouseup",P)))},[P]),C.useEffect(()=>{ee&&H&&(at!==null&&google.maps.event.removeListener(at),lt(google.maps.event.addListener(ee,"rightclick",H)))},[H]),C.useEffect(()=>{ee&&E&&(xt!==null&&google.maps.event.removeListener(xt),Mt(google.maps.event.addListener(ee,"click",E)))},[E]),C.useEffect(()=>{ee&&O&&(Vt!==null&&google.maps.event.removeListener(Vt),At(google.maps.event.addListener(ee,"drag",O)))},[O]),C.useEffect(()=>{ee&&M&&(bt!==null&&google.maps.event.removeListener(bt),Kt(google.maps.event.addListener(ee,"clickable_changed",M)))},[M]),C.useEffect(()=>{ee&&j&&(yt!==null&&google.maps.event.removeListener(yt),Xt(google.maps.event.addListener(ee,"cursor_changed",j)))},[j]),C.useEffect(()=>{ee&&z&&(ht!==null&&google.maps.event.removeListener(ht),pi(google.maps.event.addListener(ee,"animation_changed",z)))},[z]),C.useEffect(()=>{ee&&te&&(Qt!==null&&google.maps.event.removeListener(Qt),Xi(google.maps.event.addListener(ee,"draggable_changed",te)))},[te]),C.useEffect(()=>{ee&&pe&&(Jt!==null&&google.maps.event.removeListener(Jt),kn(google.maps.event.addListener(ee,"flat_changed",pe)))},[pe]),C.useEffect(()=>{ee&&ae&&(Vi!==null&&google.maps.event.removeListener(Vi),un(google.maps.event.addListener(ee,"icon_changed",ae)))},[ae]),C.useEffect(()=>{ee&&ue&&(Ys!==null&&google.maps.event.removeListener(Ys),Kn(google.maps.event.addListener(ee,"position_changed",ue)))},[ue]),C.useEffect(()=>{ee&&ce&&(Li!==null&&google.maps.event.removeListener(Li),Qi(google.maps.event.addListener(ee,"shape_changed",ce)))},[ce]),C.useEffect(()=>{ee&&ye&&(On!==null&&google.maps.event.removeListener(On),Ct(google.maps.event.addListener(ee,"title_changed",ye)))},[ye]),C.useEffect(()=>{ee&&Z&&(nn!==null&&google.maps.event.removeListener(nn),Fs(google.maps.event.addListener(ee,"visible_changed",Z)))},[Z]),C.useEffect(()=>{ee&&be&&(ti!==null&&google.maps.event.removeListener(ti),Zi(google.maps.event.addListener(ee,"zindex_changed",be)))},[be]),C.useEffect(()=>{var dt=Kp(Kp(Kp({},n||ab),i?ab:{map:re}),{},{position:e}),pt=new google.maps.Marker(dt);return i?i.addMarker(pt,!!s):pt.setMap(re),e&&pt.setPosition(e),typeof l<"u"&&pt.setVisible(l),typeof a<"u"&&pt.setDraggable(a),typeof h<"u"&&pt.setClickable(h),typeof f=="string"&&pt.setCursor(f),p&&pt.setIcon(p),typeof g<"u"&&pt.setLabel(g),typeof y<"u"&&pt.setOpacity(y),x&&pt.setShape(x),typeof A=="string"&&pt.setTitle(A),typeof T=="number"&&pt.setZIndex(T),k&&ge(google.maps.event.addListener(pt,"dblclick",k)),B&&Oe(google.maps.event.addListener(pt,"dragend",B)),V&&tt(google.maps.event.addListener(pt,"dragstart",V)),F&&it(google.maps.event.addListener(pt,"mousedown",F)),Y&&fe(google.maps.event.addListener(pt,"mouseout",Y)),I&&wt(google.maps.event.addListener(pt,"mouseover",I)),P&&rt(google.maps.event.addListener(pt,"mouseup",P)),H&&lt(google.maps.event.addListener(pt,"rightclick",H)),E&&Mt(google.maps.event.addListener(pt,"click",E)),O&&At(google.maps.event.addListener(pt,"drag",O)),M&&Kt(google.maps.event.addListener(pt,"clickable_changed",M)),j&&Xt(google.maps.event.addListener(pt,"cursor_changed",j)),z&&pi(google.maps.event.addListener(pt,"animation_changed",z)),te&&Xi(google.maps.event.addListener(pt,"draggable_changed",te)),pe&&kn(google.maps.event.addListener(pt,"flat_changed",pe)),ae&&un(google.maps.event.addListener(pt,"icon_changed",ae)),ue&&Kn(google.maps.event.addListener(pt,"position_changed",ue)),ce&&Qi(google.maps.event.addListener(pt,"shape_changed",ce)),ye&&Ct(google.maps.event.addListener(pt,"title_changed",ye)),Z&&Fs(google.maps.event.addListener(pt,"visible_changed",Z)),be&&Zi(google.maps.event.addListener(pt,"zindex_changed",be)),he(pt),W&&W(pt),()=>{we!==null&&google.maps.event.removeListener(we),Ee!==null&&google.maps.event.removeListener(Ee),Ve!==null&&google.maps.event.removeListener(Ve),$e!==null&&google.maps.event.removeListener($e),ke!==null&&google.maps.event.removeListener(ke),St!==null&&google.maps.event.removeListener(St),nt!==null&&google.maps.event.removeListener(nt),at!==null&&google.maps.event.removeListener(at),xt!==null&&google.maps.event.removeListener(xt),bt!==null&&google.maps.event.removeListener(bt),yt!==null&&google.maps.event.removeListener(yt),ht!==null&&google.maps.event.removeListener(ht),Qt!==null&&google.maps.event.removeListener(Qt),Jt!==null&&google.maps.event.removeListener(Jt),Vi!==null&&google.maps.event.removeListener(Vi),Ys!==null&&google.maps.event.removeListener(Ys),On!==null&&google.maps.event.removeListener(On),nn!==null&&google.maps.event.removeListener(nn),ti!==null&&google.maps.event.removeListener(ti),X&&X(pt),i?i.removeMarker(pt,!!s):pt&&pt.setMap(null)}},[]);var lr=C.useMemo(()=>r?C.Children.map(r,dt=>{if(!C.isValidElement(dt))return dt;var pt=dt;return C.cloneElement(pt,{anchor:ee})}):null,[r,ee]);return v.jsx(v.Fragment,{children:lr})||null}C.memo(Tue);class Eue extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[])}componentDidMount(){var e=this;return zj(function*(){var n=Kp(Kp(Kp({},e.props.options||ab),e.props.clusterer?ab:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Tn({updaterMap:Sk,eventMap:_k,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:Sk,eventMap:_k,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ln(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?C.Children.map(this.props.children,n=>{if(!C.isValidElement(n))return n;var i=n;return C.cloneElement(i,{anchor:this.marker})}):null;return e||null}}He(Eue,"contextType",ln);var Cue=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var i=n.getMaxZoom(),s=this.cluster.getBounds(),r=n.getMap();r!==null&&"fitBounds"in r&&r.fitBounds(s),this.timeOut=window.setTimeout(function(){var a=n.getMap();if(a!==null){"fitBounds"in a&&a.fitBounds(s);var l=a.getZoom()||0;i!==null&&l>i&&a.setZoom(i+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,i,s,r,a;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,u=this.backgroundPosition.split(" "),h=parseInt(((e=u[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),f=parseInt(((n=u[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),p=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(p!==null?"".concat(p.y,"px"):"0","; left: ").concat(p!==null?"".concat(p.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var g=document.createElement("img");g.alt=l,g.src=this.url,g.width=this.width,g.height=this.height,g.setAttribute("style","position: absolute; top: ".concat(f,"px; left: ").concat(h,"px")),this.cluster.getClusterer().enableRetinaIcons||(g.style.clip="rect(-".concat(f,"px, -").concat(h+this.width,"px, -").concat(f+this.height,", -").concat(h,")"));var y=document.createElement("div");y.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((i=this.sums)===null||i===void 0)&&i.text&&(y.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((r=this.sums)===null||r===void 0)&&r.html&&(y.innerHTML="".concat((a=this.sums)===null||a===void 0?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(g),this.div.appendChild(y),this.div.title=l,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),i=n[Math.min(n.length-1,Math.max(0,e.index-1))];i&&(this.url=i.url,this.height=i.height,this.width=i.width,i.className&&(this.className="".concat(this.clusterClassName," ").concat(i.className)),this.anchorText=i.anchorText||[0,0],this.anchorIcon=i.anchorIcon||[this.height/2,this.width/2],this.textColor=i.textColor||"black",this.textSize=i.textSize||11,this.textDecoration=i.textDecoration||"none",this.fontWeight=i.fontWeight||"bold",this.fontStyle=i.fontStyle||"normal",this.fontFamily=i.fontFamily||"Arial,sans-serif",this.backgroundPosition=i.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),Nue=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Cue(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),i=0,s=n;i<s.length;i++){var r=s[i],a=r.getPosition();a&&e.extend(a)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var i=e.getPosition();if(i){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+i.lat())/s,(this.center.lng()*(s-1)+i.lng())/s),this.calculateBounds()}}}else{var i=e.getPosition();i&&(this.center=i,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var r=this.markers.length,a=this.markerClusterer.getMaxZoom(),l=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(a!==null&&typeof l<"u"&&l>a)e.getMap()!==this.map&&e.setMap(this.map);else if(r<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(r===this.minClusterSize)for(var u=0,h=this.markers;u<h.length;u++){var f=h[u];f.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,i=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(i!==null&&typeof s<"u"&&s>i){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function Lue(t,e){var n=t.length,i=n.toString().length,s=Math.min(i,e);return{text:n.toString(),index:s,title:""}}var kue=2e3,Pue=500,Rue="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",Mue="png",Iue=[53,56,66,78,90],Due="cluster",Gj=function(){function t(e,n,i){n===void 0&&(n=[]),i===void 0&&(i={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=i.gridSize||60,this.minClusterSize=i.minimumClusterSize||2,this.maxZoom=i.maxZoom||null,this.styles=i.styles||[],this.title=i.title||"",this.zoomOnClick=!0,i.zoomOnClick!==void 0&&(this.zoomOnClick=i.zoomOnClick),this.averageCenter=!1,i.averageCenter!==void 0&&(this.averageCenter=i.averageCenter),this.ignoreHidden=!1,i.ignoreHidden!==void 0&&(this.ignoreHidden=i.ignoreHidden),this.enableRetinaIcons=!1,i.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=i.enableRetinaIcons),this.imagePath=i.imagePath||Rue,this.imageExtension=i.imageExtension||Mue,this.imageSizes=i.imageSizes||Iue,this.calculator=i.calculator||Lue,this.batchSize=i.batchSize||kue,this.batchSizeIE=i.batchSizeIE||Pue,this.clusterClass=i.clusterClass||Due,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var i=n[e];i.getMap()!==this.activeMap&&i.setMap(this.activeMap)}for(var s=0,r=this.clusters;s<r.length;s++){var a=r[s];a.remove()}this.clusters=[];for(var l=0,u=this.listeners;l<u.length;l++){var h=u[l];google.maps.event.removeListener(h)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,i=0,s=e;i<s.length;i++){var r=s[i],a=r.getPosition();a&&n.extend(a)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];s&&this.pushMarkerTo(s)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var i=0;i<this.markers.length;i++)if(e===this.markers[i]){n=i;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var i=this.removeMarker_(e);return!n&&i&&this.repaint(),i},t.prototype.removeMarkers=function(e,n){for(var i=!1,s=0,r=e;s<r.length;s++){var a=r[s];i=i||this.removeMarker_(a)}return!n&&i&&this.repaint(),i},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var i=0,s=e;i<s.length;i++){var r=s[i];r.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));i!==null&&(i.x+=this.gridSize,i.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),i!==null){var r=n.fromDivPixelToLatLng(i);r!==null&&e.extend(r)}if(s!==null){var a=n.fromDivPixelToLatLng(s);a!==null&&e.extend(a)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,i=this.clusters;n<i.length;n++){var s=i[n];s.remove()}this.clusters=[];for(var r=0,a=this.markers;r<a.length;r++){var l=a[r];l.isAdded=!1,e&&l.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var i=6371,s=(n.lat()-e.lat())*Math.PI/180,r=(n.lng()-e.lng())*Math.PI/180,a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return i*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},t.prototype.isMarkerInBounds=function(e,n){var i=e.getPosition();return i?n.contains(i):!1},t.prototype.addToClosestCluster=function(e){for(var n,i=4e4,s=null,r=0,a=this.clusters;r<a.length;r++){var l=a[r];n=l;var u=n.getCenter(),h=e.getPosition();if(u&&h){var f=this.distanceBetweenPoints(u,h);f<i&&(i=f,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new Nue(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var i=this.getMap(),s=i!==null&&("getBounds"in i)?i.getBounds():null,r=i?.getZoom()||0,a=r>3?new google.maps.LatLngBounds(s?.getSouthWest(),s?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(a),u=Math.min(e+this.batchSize,this.markers.length),h=e;h<u;h++){var f=this.markers[h];f&&!f.isAdded&&this.isMarkerInBounds(f,l)&&(!this.ignoreHidden||this.ignoreHidden&&f.getVisible())&&this.addToClosestCluster(f)}if(u<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(u)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var p=0,g=this.clusters;p<g.length;p++){var y=g[p];y.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(s){for(var r in s.prototype){var a=r;this.prototype[a]=s.prototype[a]}return this}).apply(e,[n])},t}();function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Oue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Po={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Wn={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},jue={};function Fue(t){var{children:e,options:n,averageCenter:i,batchSizeIE:s,calculator:r,clusterClass:a,enableRetinaIcons:l,gridSize:u,ignoreHidden:h,imageExtension:f,imagePath:p,imageSizes:g,maxZoom:y,minimumClusterSize:x,styles:A,title:T,zoomOnClick:E,onClick:k,onClusteringBegin:O,onClusteringEnd:B,onMouseOver:V,onMouseOut:Y,onLoad:I,onUnmount:P}=t,[F,H]=C.useState(null),M=C.useContext(ln),[j,z]=C.useState(null),[te,pe]=C.useState(null),[ae,ue]=C.useState(null),[ce,ye]=C.useState(null),[Z,be]=C.useState(null);return C.useEffect(()=>{F&&Y&&(ce!==null&&google.maps.event.removeListener(ce),ye(google.maps.event.addListener(F,Po.onMouseOut,Y)))},[Y]),C.useEffect(()=>{F&&V&&(Z!==null&&google.maps.event.removeListener(Z),be(google.maps.event.addListener(F,Po.onMouseOver,V)))},[V]),C.useEffect(()=>{F&&k&&(j!==null&&google.maps.event.removeListener(j),z(google.maps.event.addListener(F,Po.onClick,k)))},[k]),C.useEffect(()=>{F&&O&&(te!==null&&google.maps.event.removeListener(te),pe(google.maps.event.addListener(F,Po.onClusteringBegin,O)))},[O]),C.useEffect(()=>{F&&B&&(ae!==null&&google.maps.event.removeListener(ae),pe(google.maps.event.addListener(F,Po.onClusteringEnd,B)))},[B]),C.useEffect(()=>{typeof i<"u"&&F!==null&&Wn.averageCenter(F,i)},[F,i]),C.useEffect(()=>{typeof s<"u"&&F!==null&&Wn.batchSizeIE(F,s)},[F,s]),C.useEffect(()=>{typeof r<"u"&&F!==null&&Wn.calculator(F,r)},[F,r]),C.useEffect(()=>{typeof a<"u"&&F!==null&&Wn.clusterClass(F,a)},[F,a]),C.useEffect(()=>{typeof l<"u"&&F!==null&&Wn.enableRetinaIcons(F,l)},[F,l]),C.useEffect(()=>{typeof u<"u"&&F!==null&&Wn.gridSize(F,u)},[F,u]),C.useEffect(()=>{typeof h<"u"&&F!==null&&Wn.ignoreHidden(F,h)},[F,h]),C.useEffect(()=>{typeof f<"u"&&F!==null&&Wn.imageExtension(F,f)},[F,f]),C.useEffect(()=>{typeof p<"u"&&F!==null&&Wn.imagePath(F,p)},[F,p]),C.useEffect(()=>{typeof g<"u"&&F!==null&&Wn.imageSizes(F,g)},[F,g]),C.useEffect(()=>{typeof y<"u"&&F!==null&&Wn.maxZoom(F,y)},[F,y]),C.useEffect(()=>{typeof x<"u"&&F!==null&&Wn.minimumClusterSize(F,x)},[F,x]),C.useEffect(()=>{typeof A<"u"&&F!==null&&Wn.styles(F,A)},[F,A]),C.useEffect(()=>{typeof T<"u"&&F!==null&&Wn.title(F,T)},[F,T]),C.useEffect(()=>{typeof E<"u"&&F!==null&&Wn.zoomOnClick(F,E)},[F,E]),C.useEffect(()=>{if(M){var W=Oue({},n||jue),X=new Gj(M,[],W);return i&&Wn.averageCenter(X,i),s&&Wn.batchSizeIE(X,s),r&&Wn.calculator(X,r),a&&Wn.clusterClass(X,a),l&&Wn.enableRetinaIcons(X,l),u&&Wn.gridSize(X,u),h&&Wn.ignoreHidden(X,h),f&&Wn.imageExtension(X,f),p&&Wn.imagePath(X,p),g&&Wn.imageSizes(X,g),y&&Wn.maxZoom(X,y),x&&Wn.minimumClusterSize(X,x),A&&Wn.styles(X,A),T&&Wn.title(X,T),E&&Wn.zoomOnClick(X,E),Y&&ye(google.maps.event.addListener(X,Po.onMouseOut,Y)),V&&be(google.maps.event.addListener(X,Po.onMouseOver,V)),k&&z(google.maps.event.addListener(X,Po.onClick,k)),O&&pe(google.maps.event.addListener(X,Po.onClusteringBegin,O)),B&&ue(google.maps.event.addListener(X,Po.onClusteringEnd,B)),H(X),I&&I(X),()=>{ce!==null&&google.maps.event.removeListener(ce),Z!==null&&google.maps.event.removeListener(Z),j!==null&&google.maps.event.removeListener(j),te!==null&&google.maps.event.removeListener(te),ae!==null&&google.maps.event.removeListener(ae),P&&P(X)}}},[]),F!==null&&e(F)||null}C.memo(Fue);class Vue extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[]),He(this,"state",{markerClusterer:null}),He(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new Gj(this.context,[],this.props.options);this.registeredEvents=Tn({updaterMap:Wn,eventMap:Po,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:Wn,eventMap:Po,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ln(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}He(Vue,"contextType",ln);function Tk(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var Kj=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(f){f.returnValue=!1,f.preventDefault&&f.preventDefault(),e.enableEventPropagation||Tk(f)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var i=this.getPanes();if(i!==null&&i[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0,l=r;a<l.length;a++){var u=l[a];this.eventListeners.push(google.maps.event.addListener(this.div,u,Tk))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var i=0,s=0,r=n.getBounds();r&&!r.contains(this.position)&&n.setCenter(this.position);var a=n.getDiv(),l=a.offsetWidth,u=a.offsetHeight,h=this.pixelOffset.width,f=this.pixelOffset.height,p=this.div.offsetWidth,g=this.div.offsetHeight,y=this.infoBoxClearance.width,x=this.infoBoxClearance.height,A=this.getProjection(),T=A.fromLatLngToContainerPixel(this.position);T!==null&&(T.x<-h+y?i=T.x+h-y:T.x+p+h+y>l&&(i=T.x+p+h+y-l),this.alignBottom?T.y<-f+x+g?s=T.y+f-x-g:T.y+f+x>u&&(s=T.y+f+x-u):T.y<-f+x?s=T.y+f-x:T.y+g+f+x>u&&(s=T.y+g+f+x-u)),i===0&&s===0||n.panBy(i,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var i=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+i*100+')"',this.div.style.filter="alpha(opacity="+i*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,i=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var i=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();i.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){i.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var i=n[e];google.maps.event.removeListener(i)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(s){for(var r in s.prototype)Object.prototype.hasOwnProperty.call(this,r)||(this.prototype[r]=s.prototype[r]);return this}).apply(e,[n])},t}(),Uue=["position"],Bue=["position"];function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Ck={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Nk={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},zue={};function que(t){var{children:e,anchor:n,options:i,position:s,zIndex:r,onCloseClick:a,onDomReady:l,onContentChanged:u,onPositionChanged:h,onZindexChanged:f,onLoad:p,onUnmount:g}=t,y=C.useContext(ln),[x,A]=C.useState(null),[T,E]=C.useState(null),[k,O]=C.useState(null),[B,V]=C.useState(null),[Y,I]=C.useState(null),[P,F]=C.useState(null),H=C.useRef(null);return C.useEffect(()=>{y&&x!==null&&(x.close(),n?x.open(y,n):x.getPosition()&&x.open(y))},[y,x,n]),C.useEffect(()=>{i&&x!==null&&x.setOptions(i)},[x,i]),C.useEffect(()=>{if(s&&x!==null){var M=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);x.setPosition(M)}},[s]),C.useEffect(()=>{typeof r=="number"&&x!==null&&x.setZIndex(r)},[r]),C.useEffect(()=>{x&&a&&(T!==null&&google.maps.event.removeListener(T),E(google.maps.event.addListener(x,"closeclick",a)))},[a]),C.useEffect(()=>{x&&l&&(k!==null&&google.maps.event.removeListener(k),O(google.maps.event.addListener(x,"domready",l)))},[l]),C.useEffect(()=>{x&&u&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(x,"content_changed",u)))},[u]),C.useEffect(()=>{x&&h&&(Y!==null&&google.maps.event.removeListener(Y),I(google.maps.event.addListener(x,"position_changed",h)))},[h]),C.useEffect(()=>{x&&f&&(P!==null&&google.maps.event.removeListener(P),F(google.maps.event.addListener(x,"zindex_changed",f)))},[f]),C.useEffect(()=>{if(y){var M=i||zue,{position:j}=M,z=eT(M,Uue),te;j&&!(j instanceof google.maps.LatLng)&&(te=new google.maps.LatLng(j.lat,j.lng));var pe=new Kj(ob(ob({},z),te?{position:te}:{}));H.current=document.createElement("div"),A(pe),a&&E(google.maps.event.addListener(pe,"closeclick",a)),l&&O(google.maps.event.addListener(pe,"domready",l)),u&&V(google.maps.event.addListener(pe,"content_changed",u)),h&&I(google.maps.event.addListener(pe,"position_changed",h)),f&&F(google.maps.event.addListener(pe,"zindex_changed",f)),pe.setContent(H.current),n?pe.open(y,n):pe.getPosition()?pe.open(y):$s(!1,"You must provide either an anchor or a position prop for <InfoBox>."),p&&p(pe)}return()=>{x!==null&&(T&&google.maps.event.removeListener(T),B&&google.maps.event.removeListener(B),k&&google.maps.event.removeListener(k),Y&&google.maps.event.removeListener(Y),P&&google.maps.event.removeListener(P),g&&g(x),x.close())}},[]),H.current?cm.createPortal(C.Children.only(e),H.current):null}C.memo(que);class Hue extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[]),He(this,"containerElement",null),He(this,"state",{infoBox:null}),He(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):$s(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),He(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,i=eT(e,Bue),s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));var r=new Kj(ob(ob({},i),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Tn({updaterMap:Nk,eventMap:Ck,prevProps:{},nextProps:this.props,instance:r}),this.setState({infoBox:r},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:Nk,eventMap:Ck,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Ln(this.registeredEvents),n.close())}render(){return this.containerElement?cm.createPortal(C.Children.only(this.props.children),this.containerElement):null}}He(Hue,"contextType",ln);var Px,Lk;function Wue(){return Lk||(Lk=1,Px=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,s,r;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(s=i;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(r=Object.keys(e),i=r.length,i!==Object.keys(n).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,r[s]))return!1;for(s=i;s--!==0;){var a=r[s];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),Px}var $ue=Wue(),kk=Bj($ue),Pk=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Rx=1,Tg=8;class tT{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,i]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=i>>4;if(s!==Rx)throw new Error("Got v".concat(s," data when expected v").concat(Rx,"."));var r=Pk[i&15];if(!r)throw new Error("Unrecognized array type.");var[a]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new tT(l,a,r,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=i,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var r=Pk.indexOf(this.ArrayType),a=e*2*this.ArrayType.BYTES_PER_ELEMENT,l=e*this.IndexArrayType.BYTES_PER_ELEMENT,u=(8-l%8)%8;if(r<0)throw new Error("Unexpected typed array class: ".concat(i,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,Tg,e),this.coords=new this.ArrayType(this.data,Tg+l+u,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Tg+a+l+u),this.ids=new this.IndexArrayType(this.data,Tg,e),this.coords=new this.ArrayType(this.data,Tg+l+u,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Rx<<4)+r]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var i=this._pos>>1;return this.ids[i]=i,this.coords[this._pos++]=e,this.coords[this._pos++]=n,i}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return g5(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,i,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:a,nodeSize:l}=this,u=[0,r.length-1,0],h=[];u.length;){var f=u.pop()||0,p=u.pop()||0,g=u.pop()||0;if(p-g<=l){for(var y=g;y<=p;y++){var x=a[2*y],A=a[2*y+1];x>=e&&x<=i&&A>=n&&A<=s&&h.push(r[y])}continue}var T=g+p>>1,E=a[2*T],k=a[2*T+1];E>=e&&E<=i&&k>=n&&k<=s&&h.push(r[T]),(f===0?e<=E:n<=k)&&(u.push(g),u.push(T-1),u.push(1-f)),(f===0?i>=E:s>=k)&&(u.push(T+1),u.push(p),u.push(1-f))}return h}within(e,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:r,nodeSize:a}=this,l=[0,s.length-1,0],u=[],h=i*i;l.length;){var f=l.pop()||0,p=l.pop()||0,g=l.pop()||0;if(p-g<=a){for(var y=g;y<=p;y++)Rk(r[2*y],r[2*y+1],e,n)<=h&&u.push(s[y]);continue}var x=g+p>>1,A=r[2*x],T=r[2*x+1];Rk(A,T,e,n)<=h&&u.push(s[x]),(f===0?e-i<=A:n-i<=T)&&(l.push(g),l.push(x-1),l.push(1-f)),(f===0?e+i>=A:n+i>=T)&&(l.push(x+1),l.push(p),l.push(1-f))}return u}}function g5(t,e,n,i,s,r){if(!(s-i<=n)){var a=i+s>>1;Xj(t,e,a,i,s,r),g5(t,e,n,i,a-1,1-r),g5(t,e,n,a+1,s,1-r)}}function Xj(t,e,n,i,s,r){for(;s>i;){if(s-i>600){var a=s-i+1,l=n-i+1,u=Math.log(a),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(a-h)/a)*(l-a/2<0?-1:1),p=Math.max(i,Math.floor(n-l*h/a+f)),g=Math.min(s,Math.floor(n+(a-l)*h/a+f));Xj(t,e,n,p,g,r)}var y=e[2*n+r],x=i,A=s;for(Eg(t,e,i,n),e[2*s+r]>y&&Eg(t,e,i,s);x<A;){for(Eg(t,e,x,A),x++,A--;e[2*x+r]<y;)x++;for(;e[2*A+r]>y;)A--}e[2*i+r]===y?Eg(t,e,i,A):(A++,Eg(t,e,A,s)),A<=n&&(i=A+1),n<=A&&(s=A-1)}}function Eg(t,e,n,i){Mx(t,n,i),Mx(e,2*n,2*i),Mx(e,2*n+1,2*i+1)}function Mx(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function Rk(t,e,n,i){var s=t-n,r=e-i;return s*s+r*r}var Yue={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Mk=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),ef=2,Uh=3,Ix=4,Vh=5,Qj=6;class Gue{constructor(e){this.options=Object.assign(Object.create(Yue),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:i,maxZoom:s}=this.options;n&&console.time("total time");var r="prepare ".concat(e.length," points");n&&console.time(r),this.points=e;for(var a=[],l=0;l<e.length;l++){var u=e[l];if(u.geometry){var[h,f]=u.geometry.coordinates,p=Mk(Fv(h)),g=Mk(Vv(f));a.push(p,g,1/0,l,-1,1),this.options.reduce&&a.push(0)}}var y=this.trees[s+1]=this._createTree(a);n&&console.timeEnd(r);for(var x=s;x>=i;x--){var A=+Date.now();y=this.trees[x]=this._createTree(this._cluster(y,x)),n&&console.log("z%d: %d clusters in %dms",x,y.numItems,+Date.now()-A)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var i=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),r=e[2]===180?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)i=-180,r=180;else if(i>r){var l=this.getClusters([i,s,180,a],n),u=this.getClusters([-180,s,r,a],n);return l.concat(u)}var h=this.trees[this._limitZoom(n)],f=h.range(Fv(i),Vv(a),Fv(r),Vv(s)),p=h.data,g=[];for(var y of f){var x=this.stride*y;g.push(p[x+Vh]>1?Ik(p,x,this.clusterProps):this.points[p[x+Uh]])}return g}getChildren(e){var n=this._getOriginId(e),i=this._getOriginZoom(e),s="No cluster with the specified id.",r=this.trees[i];if(!r)throw new Error(s);var a=r.data;if(n*this.stride>=a.length)throw new Error(s);var l=this.options.radius/(this.options.extent*Math.pow(2,i-1)),u=a[n*this.stride],h=a[n*this.stride+1],f=r.within(u,h,l),p=[];for(var g of f){var y=g*this.stride;a[y+Ix]===e&&p.push(a[y+Vh]>1?Ik(a,y,this.clusterProps):this.points[a[y+Uh]])}if(p.length===0)throw new Error(s);return p}getLeaves(e,n,i){n=n||10,i=i||0;var s=[];return this._appendLeaves(s,e,n,i,0),s}getTile(e,n,i){var s=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:a,radius:l}=this.options,u=l/a,h=(i-u)/r,f=(i+1+u)/r,p={features:[]};return this._addTileFeatures(s.range((n-u)/r,h,(n+1+u)/r,f),s.data,n,i,r,p),n===0&&this._addTileFeatures(s.range(1-u/r,h,1,f),s.data,r,i,r,p),n===r-1&&this._addTileFeatures(s.range(0,h,u/r,f),s.data,-1,i,r,p),p.features.length?p:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var i=this.getChildren(e);if(n++,i.length!==1)break;e=i[0].properties.cluster_id}return n}_appendLeaves(e,n,i,s,r){var a=this.getChildren(n);for(var l of a){var u=l.properties;if(u&&u.cluster?r+u.point_count<=s?r+=u.point_count:r=this._appendLeaves(e,u.cluster_id,i,s,r):r<s?r++:e.push(l),e.length===i)break}return r}_createTree(e){for(var n=new tT(e.length/this.stride|0,this.options.nodeSize,Float32Array),i=0;i<e.length;i+=this.stride)n.add(e[i],e[i+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,i,s,r,a){for(var l of e){var u=l*this.stride,h=n[u+Vh]>1,f=void 0,p=void 0,g=void 0;if(h)f=Zj(n,u,this.clusterProps),p=n[u],g=n[u+1];else{var y=this.points[n[u+Uh]];f=y.properties;var[x,A]=y.geometry.coordinates;p=Fv(x),g=Vv(A)}var T={type:1,geometry:[[Math.round(this.options.extent*(p*r-i)),Math.round(this.options.extent*(g*r-s))]],tags:f},E=void 0;h||this.options.generateId?E=n[u+Uh]:E=this.points[n[u+Uh]].id,E!==void 0&&(T.id=E),a.features.push(T)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:i,extent:s,reduce:r,minPoints:a}=this.options,l=i/(s*Math.pow(2,n)),u=e.data,h=[],f=this.stride,p=0;p<u.length;p+=f)if(!(u[p+ef]<=n)){u[p+ef]=n;var g=u[p],y=u[p+1],x=e.within(u[p],u[p+1],l),A=u[p+Vh],T=A;for(var E of x){var k=E*f;u[k+ef]>n&&(T+=u[k+Vh])}if(T>A&&T>=a){var O=g*A,B=y*A,V=void 0,Y=-1,I=((p/f|0)<<5)+(n+1)+this.points.length;for(var P of x){var F=P*f;if(!(u[F+ef]<=n)){u[F+ef]=n;var H=u[F+Vh];O+=u[F]*H,B+=u[F+1]*H,u[F+Ix]=I,r&&(V||(V=this._map(u,p,!0),Y=this.clusterProps.length,this.clusterProps.push(V)),r(V,this._map(u,F)))}}u[p+Ix]=I,h.push(O/T,B/T,1/0,I,-1,T),r&&h.push(Y)}else{for(var M=0;M<f;M++)h.push(u[p+M]);if(T>1)for(var j of x){var z=j*f;if(!(u[z+ef]<=n)){u[z+ef]=n;for(var te=0;te<f;te++)h.push(u[z+te])}}}}return h}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,i){if(e[n+Vh]>1){var s=this.clusterProps[e[n+Qj]];return i?Object.assign({},s):s}var r=this.points[e[n+Uh]].properties,a=this.options.map(r);return i&&a===r?Object.assign({},a):a}}function Ik(t,e,n){return{type:"Feature",id:t[e+Uh],properties:Zj(t,e,n),geometry:{type:"Point",coordinates:[Kue(t[e]),Xue(t[e+1])]}}}function Zj(t,e,n){var i=t[e+Vh],s=i>=1e4?"".concat(Math.round(i/1e3),"k"):i>=1e3?"".concat(Math.round(i/100)/10,"k"):i,r=t[e+Qj],a=r===-1?{}:Object.assign({},n[r]);return Object.assign(a,{cluster:!0,cluster_id:t[e+Uh],point_count:i,point_count_abbreviated:s})}function Fv(t){return t/360+.5}function Vv(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Kue(t){return(t-.5)*360}function Xue(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Que(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}class Qa{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class y5{constructor(e){var{markers:n,position:i}=e;this.markers=n,i&&(i instanceof google.maps.LatLng?this._position=i:this._position=new google.maps.LatLng(i))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Qa.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Qa.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Qa.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Zue{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return Jue(n)}}var Jue=t=>{var e=t.map(n=>new y5({position:Qa.getPosition(n),markers:[n]}));return e};class ece extends Zue{constructor(e){var{maxZoom:n,radius:i=60}=e,s=Que(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new Gue(Object.assign({maxZoom:this.maxZoom,radius:i},s))}calculate(e){var n=!1,i={zoom:e.map.getZoom()};if(!kk(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var s=this.markers.map(r=>{var a=Qa.getPosition(r),l=[a.lng(),a.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{marker:r}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||i.zoom<=this.maxZoom)&&(n=!kk(this.state,i)),this.state=i,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(i=>this.transformCluster(i))}transformCluster(e){var{geometry:{coordinates:[n,i]},properties:s}=e;if(s.cluster)return new y5({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:i,lng:n}});var r=s.marker;return new y5({markers:[r],position:Qa.getPosition(r)})}}class tce{constructor(e,n){this.markers={sum:e.length};var i=n.map(r=>r.count),s=i.reduce((r,a)=>r+a,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...i),max:Math.max(...i)}}}}class nce{render(e,n,i){var{count:s,position:r}=e,a=s>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(a,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),u="Cluster of ".concat(s," markers"),h=Number(google.maps.Marker.MAX_ZINDEX)+s;if(Qa.isAdvancedMarkerAvailable(i)){var f=new DOMParser,p=f.parseFromString(l,"image/svg+xml").documentElement;p.setAttribute("transform","translate(0 25)");var g={map:i,position:r,zIndex:h,title:u,content:p};return new google.maps.marker.AdvancedMarkerElement(g)}var y={position:r,zIndex:h,title:u,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(y)}}function ice(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class nT{constructor(){ice(nT,google.maps.OverlayView)}}var n0;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(n0||(n0={}));var sce=(t,e,n)=>{n.fitBounds(e.bounds)};class rce extends nT{constructor(e){var{map:n,markers:i=[],algorithmOptions:s={},algorithm:r=new ece(s),renderer:a=new nce,onClusterClick:l=sce}=e;super(),this.markers=[...i],this.clusters=[],this.algorithm=r,this.renderer=a,this.onClusterClick=l,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(i=>{this.addMarker(i,!0)}),n||this.render()}removeMarker(e,n){var i=this.markers.indexOf(e);return i===-1?!1:(Qa.setMap(e,null),this.markers.splice(i,1),n||this.render(),!0)}removeMarkers(e,n){var i=!1;return e.forEach(s=>{i=this.removeMarker(s,!0)||i}),i&&!n&&this.render(),i}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,n0.CLUSTERING_BEGIN,this);var{clusters:n,changed:i}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(i||i==null){var s=new Set;for(var r of n)r.markers.length==1&&s.add(r.markers[0]);var a=[];for(var l of this.clusters)l.marker!=null&&(l.markers.length==1?s.has(l.marker)||Qa.setMap(l.marker,null):a.push(l.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>a.forEach(u=>Qa.setMap(u,null)))}google.maps.event.trigger(this,n0.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Qa.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new tce(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(i=>{i.markers.length===1?i.marker=i.markers[0]:(i.marker=this.renderer.render(i,e,n),i.markers.forEach(s=>Qa.setMap(s,null)),this.onClusterClick&&i.marker.addListener("click",s=>{google.maps.event.trigger(this,n0.CLUSTER_CLICK,i),this.onClusterClick(s,i,n)})),Qa.setMap(i.marker,n)})}}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Ok(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ace(t){var e=rue(),[n,i]=C.useState(null);return C.useEffect(()=>{if(e&&n===null){var s=new rce(Ok(Ok({},t),{},{map:e}));i(s)}},[e]),n}function oce(t){var{children:e,options:n}=t,i=ace(n);return i!==null?e(i):null}C.memo(oce);var jk={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Fk={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function lce(t){var{children:e,anchor:n,options:i,position:s,zIndex:r,onCloseClick:a,onDomReady:l,onContentChanged:u,onPositionChanged:h,onZindexChanged:f,onLoad:p,onUnmount:g}=t,y=C.useContext(ln),[x,A]=C.useState(null),[T,E]=C.useState(null),[k,O]=C.useState(null),[B,V]=C.useState(null),[Y,I]=C.useState(null),[P,F]=C.useState(null),H=C.useRef(null);return C.useEffect(()=>{x!==null&&(x.close(),n?x.open(y,n):x.getPosition()&&x.open(y))},[y,x,n]),C.useEffect(()=>{i&&x!==null&&x.setOptions(i)},[x,i]),C.useEffect(()=>{s&&x!==null&&x.setPosition(s)},[s]),C.useEffect(()=>{typeof r=="number"&&x!==null&&x.setZIndex(r)},[r]),C.useEffect(()=>{x&&a&&(T!==null&&google.maps.event.removeListener(T),E(google.maps.event.addListener(x,"closeclick",a)))},[a]),C.useEffect(()=>{x&&l&&(k!==null&&google.maps.event.removeListener(k),O(google.maps.event.addListener(x,"domready",l)))},[l]),C.useEffect(()=>{x&&u&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(x,"content_changed",u)))},[u]),C.useEffect(()=>{x&&h&&(Y!==null&&google.maps.event.removeListener(Y),I(google.maps.event.addListener(x,"position_changed",h)))},[h]),C.useEffect(()=>{x&&f&&(P!==null&&google.maps.event.removeListener(P),F(google.maps.event.addListener(x,"zindex_changed",f)))},[f]),C.useEffect(()=>{var M=new google.maps.InfoWindow(i);return A(M),H.current=document.createElement("div"),a&&E(google.maps.event.addListener(M,"closeclick",a)),l&&O(google.maps.event.addListener(M,"domready",l)),u&&V(google.maps.event.addListener(M,"content_changed",u)),h&&I(google.maps.event.addListener(M,"position_changed",h)),f&&F(google.maps.event.addListener(M,"zindex_changed",f)),M.setContent(H.current),s&&M.setPosition(s),r&&M.setZIndex(r),n?M.open(y,n):M.getPosition()?M.open(y):$s(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),p&&p(M),()=>{T&&google.maps.event.removeListener(T),B&&google.maps.event.removeListener(B),k&&google.maps.event.removeListener(k),Y&&google.maps.event.removeListener(Y),P&&google.maps.event.removeListener(P),g&&g(M),M.close()}},[]),H.current?cm.createPortal(C.Children.only(e),H.current):null}C.memo(lce);class uce extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[]),He(this,"containerElement",null),He(this,"state",{infoWindow:null}),He(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):$s(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),He(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Tn({updaterMap:Fk,eventMap:jk,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:Fk,eventMap:jk,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Ln(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?cm.createPortal(C.Children.only(this.props.children),this.containerElement):null}}He(uce,"contextType",ln);function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function lb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Uk={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Bk={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},cce={};function hce(t){var{options:e,draggable:n,editable:i,visible:s,path:r,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:h,onMouseMove:f,onMouseOut:p,onMouseOver:g,onMouseUp:y,onRightClick:x,onClick:A,onDrag:T,onLoad:E,onUnmount:k}=t,O=C.useContext(ln),[B,V]=C.useState(null),[Y,I]=C.useState(null),[P,F]=C.useState(null),[H,M]=C.useState(null),[j,z]=C.useState(null),[te,pe]=C.useState(null),[ae,ue]=C.useState(null),[ce,ye]=C.useState(null),[Z,be]=C.useState(null),[W,X]=C.useState(null),[re,ee]=C.useState(null),[he,we]=C.useState(null);return C.useEffect(()=>{B!==null&&B.setMap(O)},[O]),C.useEffect(()=>{typeof e<"u"&&B!==null&&B.setOptions(e)},[B,e]),C.useEffect(()=>{typeof n<"u"&&B!==null&&B.setDraggable(n)},[B,n]),C.useEffect(()=>{typeof i<"u"&&B!==null&&B.setEditable(i)},[B,i]),C.useEffect(()=>{typeof s<"u"&&B!==null&&B.setVisible(s)},[B,s]),C.useEffect(()=>{typeof r<"u"&&B!==null&&B.setPath(r)},[B,r]),C.useEffect(()=>{B&&a&&(Y!==null&&google.maps.event.removeListener(Y),I(google.maps.event.addListener(B,"dblclick",a)))},[a]),C.useEffect(()=>{B&&l&&(P!==null&&google.maps.event.removeListener(P),F(google.maps.event.addListener(B,"dragend",l)))},[l]),C.useEffect(()=>{B&&u&&(H!==null&&google.maps.event.removeListener(H),M(google.maps.event.addListener(B,"dragstart",u)))},[u]),C.useEffect(()=>{B&&h&&(j!==null&&google.maps.event.removeListener(j),z(google.maps.event.addListener(B,"mousedown",h)))},[h]),C.useEffect(()=>{B&&f&&(te!==null&&google.maps.event.removeListener(te),pe(google.maps.event.addListener(B,"mousemove",f)))},[f]),C.useEffect(()=>{B&&p&&(ae!==null&&google.maps.event.removeListener(ae),ue(google.maps.event.addListener(B,"mouseout",p)))},[p]),C.useEffect(()=>{B&&g&&(ce!==null&&google.maps.event.removeListener(ce),ye(google.maps.event.addListener(B,"mouseover",g)))},[g]),C.useEffect(()=>{B&&y&&(Z!==null&&google.maps.event.removeListener(Z),be(google.maps.event.addListener(B,"mouseup",y)))},[y]),C.useEffect(()=>{B&&x&&(W!==null&&google.maps.event.removeListener(W),X(google.maps.event.addListener(B,"rightclick",x)))},[x]),C.useEffect(()=>{B&&A&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(B,"click",A)))},[A]),C.useEffect(()=>{B&&T&&(he!==null&&google.maps.event.removeListener(he),we(google.maps.event.addListener(B,"drag",T)))},[T]),C.useEffect(()=>{var ge=new google.maps.Polyline(lb(lb({},e||cce),{},{map:O}));return r&&ge.setPath(r),typeof s<"u"&&ge.setVisible(s),typeof i<"u"&&ge.setEditable(i),typeof n<"u"&&ge.setDraggable(n),a&&I(google.maps.event.addListener(ge,"dblclick",a)),l&&F(google.maps.event.addListener(ge,"dragend",l)),u&&M(google.maps.event.addListener(ge,"dragstart",u)),h&&z(google.maps.event.addListener(ge,"mousedown",h)),f&&pe(google.maps.event.addListener(ge,"mousemove",f)),p&&ue(google.maps.event.addListener(ge,"mouseout",p)),g&&ye(google.maps.event.addListener(ge,"mouseover",g)),y&&be(google.maps.event.addListener(ge,"mouseup",y)),x&&X(google.maps.event.addListener(ge,"rightclick",x)),A&&ee(google.maps.event.addListener(ge,"click",A)),T&&we(google.maps.event.addListener(ge,"drag",T)),V(ge),E&&E(ge),()=>{Y!==null&&google.maps.event.removeListener(Y),P!==null&&google.maps.event.removeListener(P),H!==null&&google.maps.event.removeListener(H),j!==null&&google.maps.event.removeListener(j),te!==null&&google.maps.event.removeListener(te),ae!==null&&google.maps.event.removeListener(ae),ce!==null&&google.maps.event.removeListener(ce),Z!==null&&google.maps.event.removeListener(Z),W!==null&&google.maps.event.removeListener(W),re!==null&&google.maps.event.removeListener(re),k&&k(ge),ge.setMap(null)}},[]),null}C.memo(hce);class dce extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[]),He(this,"state",{polyline:null}),He(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(lb(lb({},this.props.options),{},{map:this.context}));this.registeredEvents=Tn({updaterMap:Bk,eventMap:Uk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:Bk,eventMap:Uk,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ln(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}He(dce,"contextType",ln);function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Hk={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Wk={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function fce(t){var{options:e,draggable:n,editable:i,visible:s,path:r,paths:a,onDblClick:l,onDragEnd:u,onDragStart:h,onMouseDown:f,onMouseMove:p,onMouseOut:g,onMouseOver:y,onMouseUp:x,onRightClick:A,onClick:T,onDrag:E,onLoad:k,onUnmount:O,onEdit:B}=t,V=C.useContext(ln),[Y,I]=C.useState(null),[P,F]=C.useState(null),[H,M]=C.useState(null),[j,z]=C.useState(null),[te,pe]=C.useState(null),[ae,ue]=C.useState(null),[ce,ye]=C.useState(null),[Z,be]=C.useState(null),[W,X]=C.useState(null),[re,ee]=C.useState(null),[he,we]=C.useState(null),[ge,Ee]=C.useState(null);return C.useEffect(()=>{Y!==null&&Y.setMap(V)},[V]),C.useEffect(()=>{typeof e<"u"&&Y!==null&&Y.setOptions(e)},[Y,e]),C.useEffect(()=>{typeof n<"u"&&Y!==null&&Y.setDraggable(n)},[Y,n]),C.useEffect(()=>{typeof i<"u"&&Y!==null&&Y.setEditable(i)},[Y,i]),C.useEffect(()=>{typeof s<"u"&&Y!==null&&Y.setVisible(s)},[Y,s]),C.useEffect(()=>{typeof r<"u"&&Y!==null&&Y.setPath(r)},[Y,r]),C.useEffect(()=>{typeof a<"u"&&Y!==null&&Y.setPaths(a)},[Y,a]),C.useEffect(()=>{Y&&typeof l=="function"&&(P!==null&&google.maps.event.removeListener(P),F(google.maps.event.addListener(Y,"dblclick",l)))},[l]),C.useEffect(()=>{Y&&(google.maps.event.addListener(Y.getPath(),"insert_at",()=>{B?.(Y)}),google.maps.event.addListener(Y.getPath(),"set_at",()=>{B?.(Y)}),google.maps.event.addListener(Y.getPath(),"remove_at",()=>{B?.(Y)}))},[Y,B]),C.useEffect(()=>{Y&&typeof u=="function"&&(H!==null&&google.maps.event.removeListener(H),M(google.maps.event.addListener(Y,"dragend",u)))},[u]),C.useEffect(()=>{Y&&typeof h=="function"&&(j!==null&&google.maps.event.removeListener(j),z(google.maps.event.addListener(Y,"dragstart",h)))},[h]),C.useEffect(()=>{Y&&typeof f=="function"&&(te!==null&&google.maps.event.removeListener(te),pe(google.maps.event.addListener(Y,"mousedown",f)))},[f]),C.useEffect(()=>{Y&&typeof p=="function"&&(ae!==null&&google.maps.event.removeListener(ae),ue(google.maps.event.addListener(Y,"mousemove",p)))},[p]),C.useEffect(()=>{Y&&typeof g=="function"&&(ce!==null&&google.maps.event.removeListener(ce),ye(google.maps.event.addListener(Y,"mouseout",g)))},[g]),C.useEffect(()=>{Y&&typeof y=="function"&&(Z!==null&&google.maps.event.removeListener(Z),be(google.maps.event.addListener(Y,"mouseover",y)))},[y]),C.useEffect(()=>{Y&&typeof x=="function"&&(W!==null&&google.maps.event.removeListener(W),X(google.maps.event.addListener(Y,"mouseup",x)))},[x]),C.useEffect(()=>{Y&&typeof A=="function"&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(Y,"rightclick",A)))},[A]),C.useEffect(()=>{Y&&typeof T=="function"&&(he!==null&&google.maps.event.removeListener(he),we(google.maps.event.addListener(Y,"click",T)))},[T]),C.useEffect(()=>{Y&&typeof E=="function"&&(ge!==null&&google.maps.event.removeListener(ge),Ee(google.maps.event.addListener(Y,"drag",E)))},[E]),C.useEffect(()=>{var Oe=new google.maps.Polygon(qk(qk({},e),{},{map:V}));return r&&Oe.setPath(r),a&&Oe.setPaths(a),typeof s<"u"&&Oe.setVisible(s),typeof i<"u"&&Oe.setEditable(i),typeof n<"u"&&Oe.setDraggable(n),l&&F(google.maps.event.addListener(Oe,"dblclick",l)),u&&M(google.maps.event.addListener(Oe,"dragend",u)),h&&z(google.maps.event.addListener(Oe,"dragstart",h)),f&&pe(google.maps.event.addListener(Oe,"mousedown",f)),p&&ue(google.maps.event.addListener(Oe,"mousemove",p)),g&&ye(google.maps.event.addListener(Oe,"mouseout",g)),y&&be(google.maps.event.addListener(Oe,"mouseover",y)),x&&X(google.maps.event.addListener(Oe,"mouseup",x)),A&&ee(google.maps.event.addListener(Oe,"rightclick",A)),T&&we(google.maps.event.addListener(Oe,"click",T)),E&&Ee(google.maps.event.addListener(Oe,"drag",E)),I(Oe),k&&k(Oe),()=>{P!==null&&google.maps.event.removeListener(P),H!==null&&google.maps.event.removeListener(H),j!==null&&google.maps.event.removeListener(j),te!==null&&google.maps.event.removeListener(te),ae!==null&&google.maps.event.removeListener(ae),ce!==null&&google.maps.event.removeListener(ce),Z!==null&&google.maps.event.removeListener(Z),W!==null&&google.maps.event.removeListener(W),re!==null&&google.maps.event.removeListener(re),he!==null&&google.maps.event.removeListener(he),O&&O(Oe),Oe.setMap(null)}},[]),null}C.memo(fce);class pce extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Tn({updaterMap:Wk,eventMap:Hk,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:Wk,eventMap:Hk,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ln(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}He(pce,"contextType",ln);function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function ub(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Yk={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Gk={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function mce(t){var{options:e,bounds:n,draggable:i,editable:s,visible:r,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:h,onMouseMove:f,onMouseOut:p,onMouseOver:g,onMouseUp:y,onRightClick:x,onClick:A,onDrag:T,onBoundsChanged:E,onLoad:k,onUnmount:O}=t,B=C.useContext(ln),[V,Y]=C.useState(null),[I,P]=C.useState(null),[F,H]=C.useState(null),[M,j]=C.useState(null),[z,te]=C.useState(null),[pe,ae]=C.useState(null),[ue,ce]=C.useState(null),[ye,Z]=C.useState(null),[be,W]=C.useState(null),[X,re]=C.useState(null),[ee,he]=C.useState(null),[we,ge]=C.useState(null),[Ee,Oe]=C.useState(null);return C.useEffect(()=>{V!==null&&V.setMap(B)},[B]),C.useEffect(()=>{typeof e<"u"&&V!==null&&V.setOptions(e)},[V,e]),C.useEffect(()=>{typeof i<"u"&&V!==null&&V.setDraggable(i)},[V,i]),C.useEffect(()=>{typeof s<"u"&&V!==null&&V.setEditable(s)},[V,s]),C.useEffect(()=>{typeof r<"u"&&V!==null&&V.setVisible(r)},[V,r]),C.useEffect(()=>{typeof n<"u"&&V!==null&&V.setBounds(n)},[V,n]),C.useEffect(()=>{V&&a&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(V,"dblclick",a)))},[a]),C.useEffect(()=>{V&&l&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(V,"dragend",l)))},[l]),C.useEffect(()=>{V&&u&&(M!==null&&google.maps.event.removeListener(M),j(google.maps.event.addListener(V,"dragstart",u)))},[u]),C.useEffect(()=>{V&&h&&(z!==null&&google.maps.event.removeListener(z),te(google.maps.event.addListener(V,"mousedown",h)))},[h]),C.useEffect(()=>{V&&f&&(pe!==null&&google.maps.event.removeListener(pe),ae(google.maps.event.addListener(V,"mousemove",f)))},[f]),C.useEffect(()=>{V&&p&&(ue!==null&&google.maps.event.removeListener(ue),ce(google.maps.event.addListener(V,"mouseout",p)))},[p]),C.useEffect(()=>{V&&g&&(ye!==null&&google.maps.event.removeListener(ye),Z(google.maps.event.addListener(V,"mouseover",g)))},[g]),C.useEffect(()=>{V&&y&&(be!==null&&google.maps.event.removeListener(be),W(google.maps.event.addListener(V,"mouseup",y)))},[y]),C.useEffect(()=>{V&&x&&(X!==null&&google.maps.event.removeListener(X),re(google.maps.event.addListener(V,"rightclick",x)))},[x]),C.useEffect(()=>{V&&A&&(ee!==null&&google.maps.event.removeListener(ee),he(google.maps.event.addListener(V,"click",A)))},[A]),C.useEffect(()=>{V&&T&&(we!==null&&google.maps.event.removeListener(we),ge(google.maps.event.addListener(V,"drag",T)))},[T]),C.useEffect(()=>{V&&E&&(Ee!==null&&google.maps.event.removeListener(Ee),Oe(google.maps.event.addListener(V,"bounds_changed",E)))},[E]),C.useEffect(()=>{var Ve=new google.maps.Rectangle(ub(ub({},e),{},{map:B}));return typeof r<"u"&&Ve.setVisible(r),typeof s<"u"&&Ve.setEditable(s),typeof i<"u"&&Ve.setDraggable(i),typeof n<"u"&&Ve.setBounds(n),a&&P(google.maps.event.addListener(Ve,"dblclick",a)),l&&H(google.maps.event.addListener(Ve,"dragend",l)),u&&j(google.maps.event.addListener(Ve,"dragstart",u)),h&&te(google.maps.event.addListener(Ve,"mousedown",h)),f&&ae(google.maps.event.addListener(Ve,"mousemove",f)),p&&ce(google.maps.event.addListener(Ve,"mouseout",p)),g&&Z(google.maps.event.addListener(Ve,"mouseover",g)),y&&W(google.maps.event.addListener(Ve,"mouseup",y)),x&&re(google.maps.event.addListener(Ve,"rightclick",x)),A&&he(google.maps.event.addListener(Ve,"click",A)),T&&ge(google.maps.event.addListener(Ve,"drag",T)),E&&Oe(google.maps.event.addListener(Ve,"bounds_changed",E)),Y(Ve),k&&k(Ve),()=>{I!==null&&google.maps.event.removeListener(I),F!==null&&google.maps.event.removeListener(F),M!==null&&google.maps.event.removeListener(M),z!==null&&google.maps.event.removeListener(z),pe!==null&&google.maps.event.removeListener(pe),ue!==null&&google.maps.event.removeListener(ue),ye!==null&&google.maps.event.removeListener(ye),be!==null&&google.maps.event.removeListener(be),X!==null&&google.maps.event.removeListener(X),ee!==null&&google.maps.event.removeListener(ee),we!==null&&google.maps.event.removeListener(we),Ee!==null&&google.maps.event.removeListener(Ee),O&&O(Ve),Ve.setMap(null)}},[]),null}C.memo(mce);class gce extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[]),He(this,"state",{rectangle:null}),He(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(ub(ub({},this.props.options),{},{map:this.context}));this.registeredEvents=Tn({updaterMap:Gk,eventMap:Yk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:Gk,eventMap:Yk,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ln(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}He(gce,"contextType",ln);function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Xk={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Qk={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},yce={};function vce(t){var{options:e,center:n,radius:i,draggable:s,editable:r,visible:a,onDblClick:l,onDragEnd:u,onDragStart:h,onMouseDown:f,onMouseMove:p,onMouseOut:g,onMouseOver:y,onMouseUp:x,onRightClick:A,onClick:T,onDrag:E,onCenterChanged:k,onRadiusChanged:O,onLoad:B,onUnmount:V}=t,Y=C.useContext(ln),[I,P]=C.useState(null),[F,H]=C.useState(null),[M,j]=C.useState(null),[z,te]=C.useState(null),[pe,ae]=C.useState(null),[ue,ce]=C.useState(null),[ye,Z]=C.useState(null),[be,W]=C.useState(null),[X,re]=C.useState(null),[ee,he]=C.useState(null),[we,ge]=C.useState(null),[Ee,Oe]=C.useState(null),[Ve,tt]=C.useState(null),[$e,it]=C.useState(null);return C.useEffect(()=>{I!==null&&I.setMap(Y)},[Y]),C.useEffect(()=>{typeof e<"u"&&I!==null&&I.setOptions(e)},[I,e]),C.useEffect(()=>{typeof s<"u"&&I!==null&&I.setDraggable(s)},[I,s]),C.useEffect(()=>{typeof r<"u"&&I!==null&&I.setEditable(r)},[I,r]),C.useEffect(()=>{typeof a<"u"&&I!==null&&I.setVisible(a)},[I,a]),C.useEffect(()=>{typeof i=="number"&&I!==null&&I.setRadius(i)},[I,i]),C.useEffect(()=>{typeof n<"u"&&I!==null&&I.setCenter(n)},[I,n]),C.useEffect(()=>{I&&l&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(I,"dblclick",l)))},[l]),C.useEffect(()=>{I&&u&&(M!==null&&google.maps.event.removeListener(M),j(google.maps.event.addListener(I,"dragend",u)))},[u]),C.useEffect(()=>{I&&h&&(z!==null&&google.maps.event.removeListener(z),te(google.maps.event.addListener(I,"dragstart",h)))},[h]),C.useEffect(()=>{I&&f&&(pe!==null&&google.maps.event.removeListener(pe),ae(google.maps.event.addListener(I,"mousedown",f)))},[f]),C.useEffect(()=>{I&&p&&(ue!==null&&google.maps.event.removeListener(ue),ce(google.maps.event.addListener(I,"mousemove",p)))},[p]),C.useEffect(()=>{I&&g&&(ye!==null&&google.maps.event.removeListener(ye),Z(google.maps.event.addListener(I,"mouseout",g)))},[g]),C.useEffect(()=>{I&&y&&(be!==null&&google.maps.event.removeListener(be),W(google.maps.event.addListener(I,"mouseover",y)))},[y]),C.useEffect(()=>{I&&x&&(X!==null&&google.maps.event.removeListener(X),re(google.maps.event.addListener(I,"mouseup",x)))},[x]),C.useEffect(()=>{I&&A&&(ee!==null&&google.maps.event.removeListener(ee),he(google.maps.event.addListener(I,"rightclick",A)))},[A]),C.useEffect(()=>{I&&T&&(we!==null&&google.maps.event.removeListener(we),ge(google.maps.event.addListener(I,"click",T)))},[T]),C.useEffect(()=>{I&&E&&(Ee!==null&&google.maps.event.removeListener(Ee),Oe(google.maps.event.addListener(I,"drag",E)))},[E]),C.useEffect(()=>{I&&k&&(Ve!==null&&google.maps.event.removeListener(Ve),tt(google.maps.event.addListener(I,"center_changed",k)))},[T]),C.useEffect(()=>{I&&O&&($e!==null&&google.maps.event.removeListener($e),it(google.maps.event.addListener(I,"radius_changed",O)))},[O]),C.useEffect(()=>{var ke=new google.maps.Circle(cb(cb({},e||yce),{},{map:Y}));return typeof i=="number"&&ke.setRadius(i),typeof n<"u"&&ke.setCenter(n),typeof i=="number"&&ke.setRadius(i),typeof a<"u"&&ke.setVisible(a),typeof r<"u"&&ke.setEditable(r),typeof s<"u"&&ke.setDraggable(s),l&&H(google.maps.event.addListener(ke,"dblclick",l)),u&&j(google.maps.event.addListener(ke,"dragend",u)),h&&te(google.maps.event.addListener(ke,"dragstart",h)),f&&ae(google.maps.event.addListener(ke,"mousedown",f)),p&&ce(google.maps.event.addListener(ke,"mousemove",p)),g&&Z(google.maps.event.addListener(ke,"mouseout",g)),y&&W(google.maps.event.addListener(ke,"mouseover",y)),x&&re(google.maps.event.addListener(ke,"mouseup",x)),A&&he(google.maps.event.addListener(ke,"rightclick",A)),T&&ge(google.maps.event.addListener(ke,"click",T)),E&&Oe(google.maps.event.addListener(ke,"drag",E)),k&&tt(google.maps.event.addListener(ke,"center_changed",k)),O&&it(google.maps.event.addListener(ke,"radius_changed",O)),P(ke),B&&B(ke),()=>{F!==null&&google.maps.event.removeListener(F),M!==null&&google.maps.event.removeListener(M),z!==null&&google.maps.event.removeListener(z),pe!==null&&google.maps.event.removeListener(pe),ue!==null&&google.maps.event.removeListener(ue),ye!==null&&google.maps.event.removeListener(ye),be!==null&&google.maps.event.removeListener(be),X!==null&&google.maps.event.removeListener(X),ee!==null&&google.maps.event.removeListener(ee),we!==null&&google.maps.event.removeListener(we),Ve!==null&&google.maps.event.removeListener(Ve),$e!==null&&google.maps.event.removeListener($e),V&&V(ke),ke.setMap(null)}},[]),null}C.memo(vce);class bce extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[]),He(this,"state",{circle:null}),He(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(cb(cb({},this.props.options),{},{map:this.context}));this.registeredEvents=Tn({updaterMap:Qk,eventMap:Xk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:Qk,eventMap:Xk,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ln(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}He(bce,"contextType",ln);function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function hb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Jk={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},e6={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,i){t.loadGeoJson(e,n,i)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function wce(t){var{options:e,onClick:n,onDblClick:i,onMouseDown:s,onMouseMove:r,onMouseOut:a,onMouseOver:l,onMouseUp:u,onRightClick:h,onAddFeature:f,onRemoveFeature:p,onRemoveProperty:g,onSetGeometry:y,onSetProperty:x,onLoad:A,onUnmount:T}=t,E=C.useContext(ln),[k,O]=C.useState(null),[B,V]=C.useState(null),[Y,I]=C.useState(null),[P,F]=C.useState(null),[H,M]=C.useState(null),[j,z]=C.useState(null),[te,pe]=C.useState(null),[ae,ue]=C.useState(null),[ce,ye]=C.useState(null),[Z,be]=C.useState(null),[W,X]=C.useState(null),[re,ee]=C.useState(null),[he,we]=C.useState(null),[ge,Ee]=C.useState(null);return C.useEffect(()=>{k!==null&&k.setMap(E)},[E]),C.useEffect(()=>{k&&i&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(k,"dblclick",i)))},[i]),C.useEffect(()=>{k&&s&&(Y!==null&&google.maps.event.removeListener(Y),I(google.maps.event.addListener(k,"mousedown",s)))},[s]),C.useEffect(()=>{k&&r&&(P!==null&&google.maps.event.removeListener(P),F(google.maps.event.addListener(k,"mousemove",r)))},[r]),C.useEffect(()=>{k&&a&&(H!==null&&google.maps.event.removeListener(H),M(google.maps.event.addListener(k,"mouseout",a)))},[a]),C.useEffect(()=>{k&&l&&(j!==null&&google.maps.event.removeListener(j),z(google.maps.event.addListener(k,"mouseover",l)))},[l]),C.useEffect(()=>{k&&u&&(te!==null&&google.maps.event.removeListener(te),pe(google.maps.event.addListener(k,"mouseup",u)))},[u]),C.useEffect(()=>{k&&h&&(ae!==null&&google.maps.event.removeListener(ae),ue(google.maps.event.addListener(k,"rightclick",h)))},[h]),C.useEffect(()=>{k&&n&&(ce!==null&&google.maps.event.removeListener(ce),ye(google.maps.event.addListener(k,"click",n)))},[n]),C.useEffect(()=>{k&&f&&(Z!==null&&google.maps.event.removeListener(Z),be(google.maps.event.addListener(k,"addfeature",f)))},[f]),C.useEffect(()=>{k&&p&&(W!==null&&google.maps.event.removeListener(W),X(google.maps.event.addListener(k,"removefeature",p)))},[p]),C.useEffect(()=>{k&&g&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(k,"removeproperty",g)))},[g]),C.useEffect(()=>{k&&y&&(he!==null&&google.maps.event.removeListener(he),we(google.maps.event.addListener(k,"setgeometry",y)))},[y]),C.useEffect(()=>{k&&x&&(ge!==null&&google.maps.event.removeListener(ge),Ee(google.maps.event.addListener(k,"setproperty",x)))},[x]),C.useEffect(()=>{if(E!==null){var Oe=new google.maps.Data(hb(hb({},e),{},{map:E}));i&&V(google.maps.event.addListener(Oe,"dblclick",i)),s&&I(google.maps.event.addListener(Oe,"mousedown",s)),r&&F(google.maps.event.addListener(Oe,"mousemove",r)),a&&M(google.maps.event.addListener(Oe,"mouseout",a)),l&&z(google.maps.event.addListener(Oe,"mouseover",l)),u&&pe(google.maps.event.addListener(Oe,"mouseup",u)),h&&ue(google.maps.event.addListener(Oe,"rightclick",h)),n&&ye(google.maps.event.addListener(Oe,"click",n)),f&&be(google.maps.event.addListener(Oe,"addfeature",f)),p&&X(google.maps.event.addListener(Oe,"removefeature",p)),g&&ee(google.maps.event.addListener(Oe,"removeproperty",g)),y&&we(google.maps.event.addListener(Oe,"setgeometry",y)),x&&Ee(google.maps.event.addListener(Oe,"setproperty",x)),O(Oe),A&&A(Oe)}return()=>{k&&(B!==null&&google.maps.event.removeListener(B),Y!==null&&google.maps.event.removeListener(Y),P!==null&&google.maps.event.removeListener(P),H!==null&&google.maps.event.removeListener(H),j!==null&&google.maps.event.removeListener(j),te!==null&&google.maps.event.removeListener(te),ae!==null&&google.maps.event.removeListener(ae),ce!==null&&google.maps.event.removeListener(ce),Z!==null&&google.maps.event.removeListener(Z),W!==null&&google.maps.event.removeListener(W),re!==null&&google.maps.event.removeListener(re),he!==null&&google.maps.event.removeListener(he),ge!==null&&google.maps.event.removeListener(ge),T&&T(k),k.setMap(null))}},[]),null}C.memo(wce);class xce extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[]),He(this,"state",{data:null}),He(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(hb(hb({},this.props.options),{},{map:this.context}));this.registeredEvents=Tn({updaterMap:e6,eventMap:Jk,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:e6,eventMap:Jk,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ln(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}He(xce,"contextType",ln);function t6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function n6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var i6={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},s6={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class _ce extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[]),He(this,"state",{kmlLayer:null}),He(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(n6(n6({},this.props.options),{},{map:this.context}));this.registeredEvents=Tn({updaterMap:s6,eventMap:i6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:s6,eventMap:i6,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ln(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}He(_ce,"contextType",ln);function Jj(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function Sce(t,e){return new e(t.lat,t.lng)}function Ace(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function Tce(t,e,n){return t instanceof e?t:n(t,e)}function Ece(t,e,n){return t instanceof e?t:n(t,e)}function Cce(t,e,n){var i=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return i&&s?{left:"".concat(s.x+e.x,"px"),top:"".concat(i.y+e.y,"px"),width:"".concat(i.x-s.x-e.x,"px"),height:"".concat(s.y-i.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function Nce(t,e,n){var i=t&&t.fromLatLngToDivPixel(n);if(i){var{x:s,y:r}=i;return{left:"".concat(s+e.x,"px"),top:"".concat(r+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function e8(t,e,n,i){return n!==void 0?Cce(t,e,Ece(n,google.maps.LatLngBounds,Ace)):Nce(t,e,Tce(i,google.maps.LatLng,Sce))}function Lce(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function r6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function kce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r6(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Pce(t,e,n,i,s){class r extends google.maps.OverlayView{constructor(l,u,h,f){super(),this.container=l,this.pane=u,this.position=h,this.bounds=f}onAdd(){var l,u=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];u?.appendChild(this.container)}draw(){var l=this.getProjection(),u=kce({},this.container?Jj(this.container,s):{x:0,y:0}),h=e8(l,u,this.bounds,this.position);for(var[f,p]of Object.entries(h))this.container.style[f]=p}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new r(t,e,n,i)}function a6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Rce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a6(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function o6(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function l6(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function Mce(t){var{position:e,bounds:n,mapPaneName:i,zIndex:s,onLoad:r,onUnmount:a,getPixelPositionOffset:l,children:u}=t,h=C.useContext(ln),f=C.useMemo(()=>{var g=document.createElement("div");return g.style.position="absolute",g},[]),p=C.useMemo(()=>Pce(f,i,e,n,l),[f,i,e,n]);return C.useEffect(()=>(r?.(p),p?.setMap(h),()=>{a?.(p),p?.setMap(null)}),[h,p]),C.useEffect(()=>{f.style.zIndex="".concat(s)},[s,f]),cm.createPortal(u,f)}C.memo(Mce);class Am extends C.PureComponent{constructor(e){super(e),He(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),He(this,"updatePane",()=>{var i=this.props.mapPaneName,s=this.overlayView.getPanes();$s(!!i,"OverlayView requires props.mapPaneName but got %s",i),s?this.setState({paneEl:s[i]}):this.setState({paneEl:null})}),He(this,"onAdd",()=>{var i,s;this.updatePane(),(i=(s=this.props).onLoad)===null||i===void 0||i.call(s,this.overlayView)}),He(this,"onPositionElement",()=>{var i=this.overlayView.getProjection(),s=Rce({x:0,y:0},this.containerRef.current?Jj(this.containerRef.current,this.props.getPixelPositionOffset):{}),r=e8(i,s,this.props.bounds,this.props.position);if(!Lce(r,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var a,l,u,h;this.setState({containerStyle:{top:(a=r.top)!==null&&a!==void 0?a:0,left:(l=r.left)!==null&&l!==void 0?l:0,width:(u=r.width)!==null&&u!==void 0?u:0,height:(h=r.height)!==null&&h!==void 0?h:0,position:"absolute"}})}}),He(this,"draw",()=>{this.onPositionElement()}),He(this,"onRemove",()=>{var i,s;this.setState(()=>({paneEl:null})),(i=(s=this.props).onUnmount)===null||i===void 0||i.call(s,this.overlayView)}),this.containerRef=C.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=o6(e.position),i=o6(this.props.position),s=l6(e.bounds),r=l6(this.props.bounds);(n!==i||s!==r)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?cm.createPortal(v.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:C.Children.only(this.props.children)}),e):null}}He(Am,"FLOAT_PANE","floatPane");He(Am,"MAP_PANE","mapPane");He(Am,"MARKER_LAYER","markerLayer");He(Am,"OVERLAY_LAYER","overlayLayer");He(Am,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");He(Am,"contextType",ln);function Ice(){}function u6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function c6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u6(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var h6={onDblClick:"dblclick",onClick:"click"},d6={opacity(t,e){t.setOpacity(e)}};function Dce(t){var{url:e,bounds:n,options:i,visible:s}=t,r=C.useContext(ln),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=C.useMemo(()=>new google.maps.GroundOverlay(e,a,i),[]);return C.useEffect(()=>{l!==null&&l.setMap(r)},[r]),C.useEffect(()=>{typeof e<"u"&&l!==null&&(l.set("url",e),l.setMap(r))},[l,e]),C.useEffect(()=>{typeof s<"u"&&l!==null&&l.setOpacity(s?1:0)},[l,s]),C.useEffect(()=>{var u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&l!==null&&(l.set("bounds",u),l.setMap(r))},[l,n]),null}C.memo(Dce);class t8 extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[]),He(this,"state",{groundOverlay:null}),He(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){$s(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,c6(c6({},this.props.options),{},{map:this.context}));this.registeredEvents=Tn({updaterMap:d6,eventMap:h6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:d6,eventMap:h6,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}He(t8,"defaultProps",{onLoad:Ice});He(t8,"contextType",ln);function f6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function db(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f6(Object(n),!0).forEach(function(i){He(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var p6={},m6={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function Oce(t){var{data:e,onLoad:n,onUnmount:i,options:s}=t,r=C.useContext(ln),[a,l]=C.useState(null);return C.useEffect(()=>{google.maps.visualization||$s(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),C.useEffect(()=>{$s(!!e,"data property is required in HeatmapLayer %s",e)},[e]),C.useEffect(()=>{a!==null&&a.setMap(r)},[r]),C.useEffect(()=>{s&&a!==null&&a.setOptions(s)},[a,s]),C.useEffect(()=>{var u=new google.maps.visualization.HeatmapLayer(db(db({},s),{},{data:e,map:r}));return l(u),n&&n(u),()=>{a!==null&&(i&&i(a),a.setMap(null))}},[]),null}C.memo(Oce);class jce extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[]),He(this,"state",{heatmapLayer:null}),He(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){$s(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),$s(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(db(db({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Tn({updaterMap:m6,eventMap:p6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:m6,eventMap:p6,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ln(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}He(jce,"contextType",ln);var g6={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},y6={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class Fce extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[]),He(this,"state",{streetViewPanorama:null}),He(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,i=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Tn({updaterMap:y6,eventMap:g6,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({streetViewPanorama:i}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:y6,eventMap:g6,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ln(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}He(Fce,"contextType",ln);class Vce extends C.PureComponent{constructor(){super(...arguments),He(this,"state",{streetViewService:null}),He(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}He(Vce,"contextType",ln);var v6={onDirectionsChanged:"directions_changed"},b6={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class Uce extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[]),He(this,"state",{directionsRenderer:null}),He(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Tn({updaterMap:b6,eventMap:v6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:b6,eventMap:v6,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ln(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}He(Uce,"contextType",ln);var w6={onPlacesChanged:"places_changed"},x6={bounds(t,e){t.setBounds(e)}};class Bce extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[]),He(this,"containerElement",C.createRef()),He(this,"state",{searchBox:null}),He(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if($s(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Tn({updaterMap:x6,eventMap:w6,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:x6,eventMap:w6,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ln(this.registeredEvents))}render(){return v.jsx("div",{ref:this.containerElement,children:C.Children.only(this.props.children)})}}He(Bce,"contextType",ln);var _6={onPlaceChanged:"place_changed"},S6={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class iT extends C.PureComponent{constructor(){super(...arguments),He(this,"registeredEvents",[]),He(this,"containerElement",C.createRef()),He(this,"state",{autocomplete:null}),He(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;$s(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var i=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=Tn({updaterMap:S6,eventMap:_6,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({autocomplete:i}),this.setAutocompleteCallback)}}componentDidUpdate(e){Ln(this.registeredEvents),this.registeredEvents=Tn({updaterMap:S6,eventMap:_6,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Ln(this.registeredEvents)}render(){return v.jsx("div",{ref:this.containerElement,className:this.props.className,children:C.Children.only(this.props.children)})}}He(iT,"defaultProps",{className:""});He(iT,"contextType",ln);const zce=Nl(Pu),qce=Ca(Pu),Hce=["places"],Wce=({role:t="retailer"})=>{const[e,n]=C.useState({businessName:"",ownerName:"",email:"",password:"",phone:"",city:"",address:"",state:"",country:"",zipcode:"",role:t}),[i,s]=C.useState(""),[r,a]=C.useState(""),l=C.useRef(null),u=()=>{const p=l.current?.getPlace();if(!p||!p.address_components)return;const g={address:p.formatted_address||"",city:"",state:"",country:"",zipcode:""};for(const y of p.address_components){const x=y.types;x.includes("locality")&&(g.city=y.long_name),x.includes("administrative_area_level_1")&&(g.state=y.long_name),x.includes("country")&&(g.country=y.long_name),x.includes("postal_code")&&(g.zipcode=y.long_name)}n(y=>({...y,...g}))},h=p=>{n(g=>({...g,[p.target.name]:p.target.value}))},f=async p=>{p.preventDefault(),s(""),a("");try{const y=(await PY(zce,e.email,e.password)).user.uid;await Io(yn(qce,"businesses",y),{...e,createdAt:new Date().toISOString()}),a("✅ Registered successfully!")}catch(g){s(g.message)}};return v.jsx(Yj,{googleMapsApiKey:"AIzaSyC2SC9SufL8OJGCrulZWpkU3yv4EZZCOPs",libraries:Hce,children:v.jsxs("div",{className:"p-8 bg-white/10 backdrop-blur-md text-white rounded-2xl shadow-2xl w-full max-w-xl border border-white/20 animate-fadeInUp",children:[v.jsxs("h2",{className:"text-2xl font-bold mb-6 text-center",children:["Register as ",t.charAt(0).toUpperCase()+t.slice(1)]}),v.jsxs("p",{className:"text-sm text-center text-cyan-300 mb-2",children:["Welcome to ",v.jsx("span",{className:"font-bold text-white",children:"FLYP"})," — India's Smart Supply Chain Platform"]}),v.jsxs("p",{className:"text-sm text-center text-cyan-300 mb-2",children:["You’re joining ",v.jsx("strong",{children:"FLYP"})," as a ",v.jsx("strong",{children:t.charAt(0).toUpperCase()+t.slice(1)})]}),i&&v.jsx("div",{className:"text-red-400 mb-3 text-sm",children:i}),r&&v.jsx("div",{className:"text-green-400 mb-3 text-sm",children:r}),v.jsxs("form",{onSubmit:f,className:"space-y-4",children:[v.jsx("input",{type:"text",name:"businessName",placeholder:"Business Name",value:e.businessName,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),v.jsx("input",{type:"text",name:"ownerName",placeholder:"Owner Name",value:e.ownerName,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),v.jsx("input",{type:"email",name:"email",placeholder:"Email",value:e.email,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),v.jsx("input",{type:"password",name:"password",placeholder:"Password",value:e.password,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),v.jsx("input",{type:"text",name:"phone",placeholder:"Phone Number",value:e.phone,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),v.jsx("input",{type:"text",name:"city",placeholder:"City",value:e.city,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),v.jsx(iT,{onLoad:p=>l.current=p,onPlaceChanged:u,children:v.jsx("input",{type:"text",placeholder:"Search Address",className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"})}),v.jsx("input",{type:"text",name:"address",placeholder:"Address",value:e.address,onChange:h,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),v.jsx("input",{type:"text",name:"city",placeholder:"City",value:e.city,onChange:h,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),v.jsx("input",{type:"text",name:"state",placeholder:"State",value:e.state,onChange:h,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),v.jsx("input",{type:"text",name:"zipcode",placeholder:"Zipcode",value:e.zipcode,onChange:h,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),v.jsx("input",{type:"text",name:"country",placeholder:"Country",value:e.country,onChange:h,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300"}),v.jsx("input",{type:"text",name:"role",value:t.charAt(0).toUpperCase()+t.slice(1),disabled:!0,className:"w-full px-4 py-2 rounded-lg bg-white/10 text-white border border-white/20 placeholder-white/60 focus:outline-none transition-all duration-300 cursor-not-allowed"}),v.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-blue-500 hover:to-cyan-500 transition-all duration-300 text-white py-2 px-4 rounded-xl mt-6 font-semibold tracking-wide shadow-md",children:"Register"})]})]})})},A6=Nl(Pu),$ce=Ca(Pu),Yce=()=>{const t=Gc(),[e,n]=C.useState({email:"",password:""}),[i,s]=C.useState(""),r=l=>{n(u=>({...u,[l.target.name]:l.target.value}))},a=async l=>{l.preventDefault(),s("");try{const h=(await RY(A6,e.email,e.password)).user,f=await Oi(yn($ce,"businesses",h.uid));if(!f.exists()){s("⚠️ User data not found in Firestore.");return}const g=f.data().role;t(g==="retailer"?"/dashboard/inventory":g==="distributor"?"/dashboard/billing":"/dashboard/inventory")}catch(u){s(u.message)}};return v.jsxs("div",{className:"p-8 bg-slate-900 text-white rounded-2xl shadow-xl w-full max-w-xl border border-slate-700",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Welcome Back"}),i&&v.jsx("div",{className:"text-red-400 mb-3 text-sm",children:i}),v.jsxs("form",{onSubmit:a,className:"space-y-4",children:[v.jsx("input",{type:"email",name:"email",placeholder:"Email",value:e.email,onChange:r,required:!0,className:"w-full px-4 py-2 rounded bg-slate-800 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),v.jsx("input",{type:"password",name:"password",placeholder:"Password",value:e.password,onChange:r,required:!0,className:"w-full px-4 py-2 rounded bg-slate-800 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),v.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 transition-all duration-300 text-white py-2 px-4 rounded-lg mt-2",children:"Sign In"})]}),v.jsx("div",{className:"mt-6 text-right",children:v.jsx("button",{onClick:async()=>{await Qb(A6),t("/")},className:"text-sm text-red-400 hover:text-red-600 underline transition",children:"Sign Out"})})]})},Gce=()=>{const{user:t}=C.useContext(eA),e=Gc();Mu();const[n]=I9(),i=n.get("type"),[s,r]=C.useState(""),[a,l]=C.useState(!0);if(C.useEffect(()=>{if(!i){e("/auth?type=login",{replace:!0});return}},[i,e]),C.useEffect(()=>{i==="login"?(async()=>{if(!t){l(!1);return}try{const f=yn(fn,"businesses",t.uid),p=await Oi(f);if(p.exists()){const y=p.data().role?.toLowerCase();e(y==="retailer"?"/dashboard":y==="distributor"?"/distributor-dashboard":y==="productowner"||y==="product owner"?"/product-owner-dashboard":"/")}else console.warn("No user profile found in Firestore."),e("/")}catch(f){console.error("Error fetching user role:",f),e("/")}finally{l(!1)}})():l(!1)},[t,i]),a)return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center",children:v.jsx("p",{className:"text-white text-lg animate-pulse",children:"Loading..."})});const u=h=>{r(h)};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center",children:v.jsxs(v.Fragment,{children:[i==="register"&&!s&&v.jsxs("div",{className:"flex w-full min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white",children:[v.jsxs("div",{className:"w-1/2 flex flex-col justify-center items-center bg-gradient-to-br from-yellow-100 to-yellow-200 text-black p-12",children:[v.jsx("h2",{className:"text-3xl font-bold mb-4 text-left w-full",children:"Why Choose FLYP?"}),v.jsx("p",{className:"text-lg mb-8 text-left w-full",children:"Empowering Indian Retailers, Distributors, and Product Owners with automated billing, smart inventory, and real-time supply chain dashboards."}),v.jsxs("div",{className:"text-sm italic text-left w-full",children:['"With FLYP, our order processing time dropped by 70%. Now I track my dealers, stock, and invoices in one place."',v.jsx("br",{}),"– Raghav, Distributor, Pune"]})]}),v.jsx("div",{className:"w-1/2 flex flex-col justify-center items-center p-10",children:v.jsxs("div",{className:"bg-white text-black rounded-2xl shadow-xl p-10 w-full max-w-md animate-fadeIn",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Select Your Role to Register"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{onClick:()=>u("Retailer"),className:"cursor-pointer border-2 border-blue-400 hover:border-blue-500 bg-blue-50 hover:bg-blue-100 rounded-xl p-5 transition-all duration-300 hover:scale-[1.02]",children:[v.jsx("h3",{className:"text-blue-700 font-semibold text-lg",children:"Retailer"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manages product selling to end customers"})]}),v.jsxs("div",{onClick:()=>u("Distributor"),className:"cursor-pointer border-2 border-green-400 hover:border-green-500 bg-green-50 hover:bg-green-100 rounded-xl p-5 transition-all duration-300 hover:scale-[1.02]",children:[v.jsx("h3",{className:"text-green-700 font-semibold text-lg",children:"Distributor"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Supplies inventory to retailers"})]}),v.jsxs("div",{onClick:()=>u("ProductOwner"),className:"cursor-pointer border-2 border-orange-400 hover:border-orange-500 bg-orange-50 hover:bg-orange-100 rounded-xl p-5 transition-all duration-300 hover:scale-[1.02]",children:[v.jsx("h3",{className:"text-orange-700 font-semibold text-lg",children:"Product Owner"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Owns and distributes products to distributors"})]})]}),v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("button",{className:"text-sm text-gray-600 hover:text-white hover:bg-red-500 px-4 py-2 rounded transition-all duration-300",onClick:()=>e("/"),children:"Cancel"})})]})})]}),i==="register"&&s&&v.jsx("div",{className:"animate-fadeInUp transition-all duration-500",children:v.jsx(Wce,{role:s})}),i==="login"&&v.jsx(Yce,{})]})})},yp=({children:t})=>{const{user:e,loading:n}=tA();return n?v.jsx("div",{className:"text-center mt-20 text-gray-500",children:"Loading..."}):e?t:v.jsx(D6,{to:"/auth",replace:!0})},Kce=()=>v.jsxs(uD,{children:[v.jsxs(s9,{children:[v.jsx(hu,{path:"/",element:v.jsx(H9,{})}),v.jsx(hu,{path:"/auth/*",element:v.jsx(Gce,{})}),v.jsx(hu,{path:"/dashboard",element:v.jsx(yp,{children:v.jsx(Joe,{})})}),v.jsx(hu,{path:"/distributor-dashboard",element:v.jsx(yp,{children:v.jsx($le,{})})}),v.jsx(hu,{path:"/product-owner-dashboard",element:v.jsx(yp,{children:v.jsx(Yle,{})})}),v.jsx(hu,{path:"/inventory",element:v.jsx(yp,{children:v.jsx(Qle,{})})}),v.jsx(hu,{path:"/billing",element:v.jsx(yp,{children:v.jsx(EI,{})})}),v.jsx(hu,{path:"/invoices",element:v.jsx(yp,{children:v.jsx(eue,{})})}),v.jsx(hu,{path:"*",element:v.jsx(D6,{to:"/auth?type=login",replace:!0})})]}),v.jsx(LZ,{position:"top-right",autoClose:3e3})]});f7.createRoot(document.getElementById("root")).render(v.jsx(An.StrictMode,{children:v.jsx(L9,{children:v.jsx(uD,{children:v.jsx(Kce,{})})})}));export{oi as _,Xce as c,v5 as g};
